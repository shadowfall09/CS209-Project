{"items":[{"tags":["java","batch-processing","mssql-jdbc","jtds"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1695645866,"post_id":77172739,"comment_id":136047987,"body_markdown":"afaicr jtds died some time ago and shouldn&#39;t be considered reliable now. Use the latest driver from MS","body":"afaicr jtds died some time ago and shouldn&#39;t be considered reliable now. Use the latest driver from MS"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1695650005,"post_id":77172739,"comment_id":136048951,"body_markdown":"If you are using at least Java 8, then you need version 1.3.1 (and not 1.2.8)","body":"If you are using at least Java 8, then you need version 1.3.1 (and not 1.2.8)"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1695650234,"post_id":77172739,"comment_id":136049003,"body_markdown":"You wrote (in your question): _For run the project with this driver change, I have to do several changes in the project._ As far as I am aware (or afaiaa - as @g00se would write), those changes are very minor. We initially used [jTDS](https://jtds.sourceforge.net/) and moved to [Microsoft JDBC driver](https://learn.microsoft.com/en-us/sql/connect/jdbc/microsoft-jdbc-driver-for-sql-server?view=sql-server-ver16) and only required very minimal changes.","body":"You wrote (in your question): <i>For run the project with this driver change, I have to do several changes in the project.</i> As far as I am aware (or afaiaa - as @g00se would write), those changes are very minor. We initially used <a href=\"https://jtds.sourceforge.net/\" rel=\"nofollow noreferrer\">jTDS</a> and moved to <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/microsoft-jdbc-driver-for-sql-server?view=sql-server-ver16\" rel=\"nofollow noreferrer\">Microsoft JDBC driver</a> and only required very minimal changes."},{"owner":{"account_id":1964182,"reputation":147,"user_id":1764850,"display_name":"Linidu Praneeth Gunathilaka"},"score":0,"creation_date":1695659564,"post_id":77172739,"comment_id":136051069,"body_markdown":"yeah, useful thoughts, have anyone got the output of the getUpdateCounts() method, in a real world scenario?","body":"yeah, useful thoughts, have anyone got the output of the getUpdateCounts() method, in a real world scenario?"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1699695103,"post_id":77172739,"comment_id":136565891,"body_markdown":"Are you sure the rest of your batch is even getting executed? if sql server aborted your batch after first failure, the rest of the batches will be populated with failures automatically. we need some sort of code that reproduces the issue i think. Also, you&#39;re using an old jtds version (which is itself very old).","body":"Are you sure the rest of your batch is even getting executed? if sql server aborted your batch after first failure, the rest of the batches will be populated with failures automatically. we need some sort of code that reproduces the issue i think. Also, you&#39;re using an old jtds version (which is itself very old)."}],"owner":{"account_id":1964182,"reputation":147,"user_id":1764850,"display_name":"Linidu Praneeth Gunathilaka"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695645679,"creation_date":1695645679,"question_id":77172739,"body_markdown":"Currently I&#39;m processing a batch of data which saves into MSSQL database.\r\nAnd I&#39;m using this jtds driver to get establish the database transactions.\r\n    \r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sourceforge.jtds&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jtds&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nWhile processing the batch I&#39;m expecting there can be some rows which fail while inserting.\r\nI want to get to know exactly what are the failed rows for my requirement.\r\n\r\nI used this getUpdateCounts() method to find the status of the processed records in the batch.\r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/java/sql/BatchUpdateException.html\r\n\r\nBut I&#39;m not getting the expected result from this method.\r\nAssume the first record success and the second one failed.\r\nthen the out put is something like this.\r\n \r\n\r\n    [-2, -3, -3, -3, -3, -3, -3, -3, -3, -3]\r\n\r\nAnd if the first one fails and others success, still it&#39;s resulting like this way.\r\n \r\n\r\n    [-3, -3, -3, -3, -3, -3, -3, -3, -3, -3]\r\n\r\nThen I thought of using the mssql-jdbc driver instead of the jtds driver.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n        &lt;version&gt;12.4.1.jre8&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nFor run the project with this driver change, I have to do several changes in the project.\r\n\r\nSo I&#39;m expecting valuable thoughts regarding this scenario.","title":"Return value of the getUpdateCounts() of theh mssql-jdbc driver which comes with com.microsoft.sqlserver","body":"<p>Currently I'm processing a batch of data which saves into MSSQL database.\nAnd I'm using this jtds driver to get establish the database transactions.</p>\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;net.sourceforge.jtds&lt;/groupId&gt;\n        &lt;artifactId&gt;jtds&lt;/artifactId&gt;\n        &lt;version&gt;1.2.8&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>While processing the batch I'm expecting there can be some rows which fail while inserting.\nI want to get to know exactly what are the failed rows for my requirement.</p>\n<p>I used this getUpdateCounts() method to find the status of the processed records in the batch.</p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/sql/BatchUpdateException.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/sql/BatchUpdateException.html</a></p>\n<p>But I'm not getting the expected result from this method.\nAssume the first record success and the second one failed.\nthen the out put is something like this.</p>\n<pre><code>[-2, -3, -3, -3, -3, -3, -3, -3, -3, -3]\n</code></pre>\n<p>And if the first one fails and others success, still it's resulting like this way.</p>\n<pre><code>[-3, -3, -3, -3, -3, -3, -3, -3, -3, -3]\n</code></pre>\n<p>Then I thought of using the mssql-jdbc driver instead of the jtds driver.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n    &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n    &lt;version&gt;12.4.1.jre8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>For run the project with this driver change, I have to do several changes in the project.</p>\n<p>So I'm expecting valuable thoughts regarding this scenario.</p>\n"},{"tags":["java","java-21"],"comments":[{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":5,"creation_date":1695646348,"post_id":77172733,"comment_id":136048097,"body_markdown":"Can you explain why you need &quot;to lock down the JRE&quot; in more detail? If you actually succeed in doing so, what is preventing me from using a JRE other than yours to run your application?","body":"Can you explain why you need &quot;to lock down the JRE&quot; in more detail? If you actually succeed in doing so, what is preventing me from using a JRE other than yours to run your application?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1695646768,"post_id":77172733,"comment_id":136048182,"body_markdown":"What does “lock down the JRE” even mean? The security manager was never responsible for a feature like “to let JRE only run JAR&#39;s that are signed with a specific certifcate”, even before its deprecation. As Thomas Behr said, you need to explain how your requested feature was supposed to work in the first place, e.g. in Java&#160;8.","body":"What does “lock down the JRE” even mean? The security manager was never responsible for a feature like “to let JRE only run JAR&#39;s that are signed with a specific certifcate”, even before its deprecation. As Thomas Behr said, you need to explain how your requested feature was supposed to work in the first place, e.g. in Java 8."},{"owner":{"account_id":29529674,"reputation":11,"user_id":22630549,"display_name":"Torben"},"score":0,"creation_date":1695647538,"post_id":77172733,"comment_id":136048380,"body_markdown":"@ThomasBehr Locking down meaning only JAR&#39;s that are signed by a trusted CA should be allowed to run.\n@ Holger I think I have mixed it up with Java Applets/JWS. There you can enforce the JARs to be signed by a specific certificate.\nNontheless is there any way to prevent JRE from running arbitrary JREs? Excluding the applications that bring their own.","body":"@ThomasBehr Locking down meaning only JAR&#39;s that are signed by a trusted CA should be allowed to run. @ Holger I think I have mixed it up with Java Applets/JWS. There you can enforce the JARs to be signed by a specific certificate. Nontheless is there any way to prevent JRE from running arbitrary JREs? Excluding the applications that bring their own."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1695647791,"post_id":77172733,"comment_id":136048446,"body_markdown":"I think that the answer is No ... unless you want to modify OpenJDK and make your own JRE builds.","body":"I think that the answer is No ... unless you want to modify OpenJDK and make your own JRE builds."},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":2,"creation_date":1695648094,"post_id":77172733,"comment_id":136048522,"body_markdown":"@Torben My question was *why* you want to lock down the JRE, not what you mean by &quot;locking&quot; (you already explained that in your initial post). I am asking for your reasons, because I do not understand why you need to do that. If the JRE is on a machine which you do not control, you cannot prevent people from using a JRE other than your locked one. If the JRE is on a machine you do control, simply do not run applications you do not trust. In the first case, &quot;locking&quot; won&#39;t do any good, in the second case, there is no need for &quot;locking&quot; at all.","body":"@Torben My question was <i>why</i> you want to lock down the JRE, not what you mean by &quot;locking&quot; (you already explained that in your initial post). I am asking for your reasons, because I do not understand why you need to do that. If the JRE is on a machine which you do not control, you cannot prevent people from using a JRE other than your locked one. If the JRE is on a machine you do control, simply do not run applications you do not trust. In the first case, &quot;locking&quot; won&#39;t do any good, in the second case, there is no need for &quot;locking&quot; at all."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1695655709,"post_id":77172733,"comment_id":136050321,"body_markdown":"Well, Applets and JWS had a need for such a feature, as jar files were coming from external sources. JWS has been gone already, Applets have been marked *deprecated, for removal*, expect it to go together with the security manager. So what is the hypothetical feature for? In case of local launches, you are in control of the launch, you decide which jars to specify to the JVM. Or, to look at it from the other side, if you do not take control over the launch process, you don’t have control over the hypothetical signed-jars-only restriction either.","body":"Well, Applets and JWS had a need for such a feature, as jar files were coming from external sources. JWS has been gone already, Applets have been marked <i>deprecated, for removal</i>, expect it to go together with the security manager. So what is the hypothetical feature for? In case of local launches, you are in control of the launch, you decide which jars to specify to the JVM. Or, to look at it from the other side, if you do not take control over the launch process, you don’t have control over the hypothetical signed-jars-only restriction either."},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1695657967,"post_id":77172733,"comment_id":136050799,"body_markdown":"@Holger Well, any application can load jars from external sources (think plug-ins). So, this applet/webstart security issue is there for &quot;normal&quot; applications as well. However, an application that loads external, unsigned jars or simply fails to verify signatures for external jars should not be &quot;trusted&quot; in the first place. Unfortunately, it takes quite some effort to check if an application loads insecure stuff. Moreover, it is fairly easy for a malicious party to sign their evil plug-in which begs the question how secure a signed jar really is.","body":"@Holger Well, any application can load jars from external sources (think plug-ins). So, this applet/webstart security issue is there for &quot;normal&quot; applications as well. However, an application that loads external, unsigned jars or simply fails to verify signatures for external jars should not be &quot;trusted&quot; in the first place. Unfortunately, it takes quite some effort to check if an application loads insecure stuff. Moreover, it is fairly easy for a malicious party to sign their evil plug-in which begs the question how secure a signed jar really is."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1695658474,"post_id":77172733,"comment_id":136050897,"body_markdown":"@ThomasBehr …and every application can download a binary file and run it. Or contain the problematic stuff already in the first place, without the need to download it.","body":"@ThomasBehr …and every application can download a binary file and run it. Or contain the problematic stuff already in the first place, without the need to download it."},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1695658624,"post_id":77172733,"comment_id":136050925,"body_markdown":"@Holger Exactly. I think we&#39;re on the same page, here. ;)","body":"@Holger Exactly. I think we&#39;re on the same page, here. ;)"}],"owner":{"account_id":29529674,"reputation":11,"user_id":22630549,"display_name":"Torben"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695645624,"creation_date":1695645624,"question_id":77172733,"body_markdown":"I have to lock down the JRE as much as possible. \r\nWith the deprecation of Java Security Manager in Java 21, there is (to my knowledge) no way to lock down the JRE to run only a selected handful of standalone JAR&#39;s.\r\n\r\nAm I missing something or is there no way to let JRE only run JAR&#39;s that are signed with a specific certifcate?\r\n\r\nAll documentation regarding this topic points to Java SE 8 and using Security Manager. The official documentation mention a Java Cryptography Extension Policy file but there is no further documentation about it.","title":"How to prevent JRE from running JAR&#39;s that are not signed?","body":"<p>I have to lock down the JRE as much as possible.\nWith the deprecation of Java Security Manager in Java 21, there is (to my knowledge) no way to lock down the JRE to run only a selected handful of standalone JAR's.</p>\n<p>Am I missing something or is there no way to let JRE only run JAR's that are signed with a specific certifcate?</p>\n<p>All documentation regarding this topic points to Java SE 8 and using Security Manager. The official documentation mention a Java Cryptography Extension Policy file but there is no further documentation about it.</p>\n"},{"tags":["java","networking","ip"],"answers":[{"tags":[],"owner":{"account_id":23143,"reputation":53986,"user_id":57752,"accept_rate":73,"display_name":"Eddie"},"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1556909845,"creation_date":1235410490,"answer_id":578552,"question_id":577363,"body_markdown":"&lt;a href=&quot;http://commons.apache.org/net/&quot;&gt;Apache Commons Net&lt;/a&gt; has `org.apache.commons.net.util.SubnetUtils` that appears to satisfy your needs.  It looks like you do something like this:\r\n\r\n    SubnetInfo subnet = (new SubnetUtils(&quot;10.10.10.0&quot;, &quot;255.255.255.128&quot;)).getInfo();\r\n    boolean test = subnet.isInRange(&quot;10.10.10.10&quot;);\r\n\r\nNote, as &lt;a href=&quot;https://stackoverflow.com/users/25343/carson&quot;&gt;carson&lt;/a&gt; points out, that Apache Commons Net has &lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/commons-issues/200902.mbox/%3C2039253761.1233796319684.JavaMail.jira@brutus%3E&quot;&gt;a bug&lt;/a&gt; that prevents it from giving the correct answer in some cases.  Carson suggests using the SVN version to avoid this bug.","title":"How to check if an IP address is from a particular network/netmask in Java?","body":"<p><a href=\"http://commons.apache.org/net/\" rel=\"noreferrer\">Apache Commons Net</a> has <code>org.apache.commons.net.util.SubnetUtils</code> that appears to satisfy your needs.  It looks like you do something like this:</p>\n\n<pre><code>SubnetInfo subnet = (new SubnetUtils(\"10.10.10.0\", \"255.255.255.128\")).getInfo();\nboolean test = subnet.isInRange(\"10.10.10.10\");\n</code></pre>\n\n<p>Note, as <a href=\"https://stackoverflow.com/users/25343/carson\">carson</a> points out, that Apache Commons Net has <a href=\"http://mail-archives.apache.org/mod_mbox/commons-issues/200902.mbox/%3C2039253761.1233796319684.JavaMail.jira@brutus%3E\" rel=\"noreferrer\">a bug</a> that prevents it from giving the correct answer in some cases.  Carson suggests using the SVN version to avoid this bug.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1695644824,"creation_date":1235422437,"answer_id":579300,"question_id":577363,"body_markdown":"You can also try the following for IPv4, or the equivalent for IPv6.\r\nNOTE: The IP is the address as a 32-bit `int`\r\n\r\n    boolean inSubnet = (ip &amp; netmask) == (subnet &amp; netmask);\r\n\r\nor shorter\r\n\r\n    boolean inSubnet = (ip ^ subnet) &amp; netmask == 0;\r\n","title":"How to check if an IP address is from a particular network/netmask in Java?","body":"<p>You can also try the following for IPv4, or the equivalent for IPv6.\nNOTE: The IP is the address as a 32-bit <code>int</code></p>\n<pre><code>boolean inSubnet = (ip &amp; netmask) == (subnet &amp; netmask);\n</code></pre>\n<p>or shorter</p>\n<pre><code>boolean inSubnet = (ip ^ subnet) &amp; netmask == 0;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":164351,"reputation":5883,"user_id":387048,"accept_rate":100,"display_name":"Omid"},"down_vote_count":0,"up_vote_count":56,"is_accepted":false,"score":56,"last_activity_date":1594370686,"creation_date":1483610800,"answer_id":41482123,"question_id":577363,"body_markdown":"Option 1:\r\n----------\r\n\r\nUse [`spring-security-web`][1]&#39;s [IpAddressMatcher][2]. Unlike Apache Commons Net, it supports both ipv4 and ipv6.\r\n\r\n\r\n    import org.springframework.security.web.util.matcher.IpAddressMatcher;\r\n    ...\r\n\r\n    private void checkIpMatch() {\r\n\t\tmatches(&quot;192.168.2.1&quot;, &quot;192.168.2.1&quot;); // true\r\n\t\tmatches(&quot;192.168.2.1&quot;, &quot;192.168.2.0/32&quot;); // false\r\n\t\tmatches(&quot;192.168.2.5&quot;, &quot;192.168.2.0/24&quot;); // true\r\n\t\tmatches(&quot;92.168.2.1&quot;, &quot;fe80:0:0:0:0:0:c0a8:1/120&quot;); // false\r\n\t\tmatches(&quot;fe80:0:0:0:0:0:c0a8:11&quot;, &quot;fe80:0:0:0:0:0:c0a8:1/120&quot;); // true\r\n\t\tmatches(&quot;fe80:0:0:0:0:0:c0a8:11&quot;, &quot;fe80:0:0:0:0:0:c0a8:1/128&quot;); // false\r\n\t\tmatches(&quot;fe80:0:0:0:0:0:c0a8:11&quot;, &quot;192.168.2.0/32&quot;); // false\r\n    }\r\n\r\n    private boolean matches(String ip, String subnet) {\r\n    \tIpAddressMatcher ipAddressMatcher = new IpAddressMatcher(subnet);\r\n    \treturn ipAddressMatcher.matches(ip);\r\n    }\r\n\r\n\r\n----------\r\n## Option 2 (a lightweight solution!): ##\r\n\r\n*The code in previous part works perfectly fine* but it needs `spring-security-web` to be included.\r\n\r\nIf you are not willing to include Spring framework in your project, you may use this class which is a slightly modified version of the [original class][3] from Spring, so that it has no non-JRE dependencies.\r\n\r\n    /*\r\n     * Copyright 2002-2019 the original author or authors.\r\n     *\r\n     * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);\r\n     * you may not use this file except in compliance with the License.\r\n     * You may obtain a copy of the License at\r\n     *\r\n     *      https://www.apache.org/licenses/LICENSE-2.0\r\n     *\r\n     * Unless required by applicable law or agreed to in writing, software\r\n     * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\r\n     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n     * See the License for the specific language governing permissions and\r\n     * limitations under the License.\r\n     */\r\n    \r\n    import java.net.InetAddress;\r\n    import java.net.UnknownHostException;\r\n    \r\n    /**\r\n     * Matches a request based on IP Address or subnet mask matching against the remote\r\n     * address.\r\n     * &lt;p&gt;\r\n     * Both IPv6 and IPv4 addresses are supported, but a matcher which is configured with an\r\n     * IPv4 address will never match a request which returns an IPv6 address, and vice-versa.\r\n     *\r\n     * @author Luke Taylor\r\n     * @since 3.0.2\r\n     * \r\n     * Slightly modified by omidzk to have zero dependency to any frameworks other than the JRE.\r\n     */\r\n    public final class IpAddressMatcher {\r\n    \tprivate final int nMaskBits;\r\n    \tprivate final InetAddress requiredAddress;\r\n    \r\n    \t/**\r\n    \t * Takes a specific IP address or a range specified using the IP/Netmask (e.g.\r\n    \t * 192.168.1.0/24 or 202.24.0.0/14).\r\n    \t *\r\n    \t * @param ipAddress the address or range of addresses from which the request must\r\n    \t * come.\r\n    \t */\r\n    \tpublic IpAddressMatcher(String ipAddress) {\r\n    \r\n    \t\tif (ipAddress.indexOf(&#39;/&#39;) &gt; 0) {\r\n    \t\t\tString[] addressAndMask = ipAddress.split(&quot;/&quot;);\r\n    \t\t\tipAddress = addressAndMask[0];\r\n    \t\t\tnMaskBits = Integer.parseInt(addressAndMask[1]);\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tnMaskBits = -1;\r\n    \t\t}\r\n    \t\trequiredAddress = parseAddress(ipAddress);\r\n    \t\tassert\t(requiredAddress.getAddress().length * 8 &gt;= nMaskBits) :\r\n    \t\t\t\tString.format(&quot;IP address %s is too short for bitmask of length %d&quot;,\r\n    \t\t\t\t\t\tipAddress, nMaskBits);\r\n    \t}\r\n    \r\n    \tpublic boolean matches(String address) {\r\n    \t\tInetAddress remoteAddress = parseAddress(address);\r\n    \r\n    \t\tif (!requiredAddress.getClass().equals(remoteAddress.getClass())) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \r\n    \t\tif (nMaskBits &lt; 0) {\r\n    \t\t\treturn remoteAddress.equals(requiredAddress);\r\n    \t\t}\r\n    \r\n    \t\tbyte[] remAddr = remoteAddress.getAddress();\r\n    \t\tbyte[] reqAddr = requiredAddress.getAddress();\r\n    \r\n    \t\tint nMaskFullBytes = nMaskBits / 8;\r\n    \t\tbyte finalByte = (byte) (0xFF00 &gt;&gt; (nMaskBits &amp; 0x07));\r\n    \r\n    \t\t// System.out.println(&quot;Mask is &quot; + new sun.misc.HexDumpEncoder().encode(mask));\r\n    \r\n    \t\tfor (int i = 0; i &lt; nMaskFullBytes; i++) {\r\n    \t\t\tif (remAddr[i] != reqAddr[i]) {\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tif (finalByte != 0) {\r\n    \t\t\treturn (remAddr[nMaskFullBytes] &amp; finalByte) == (reqAddr[nMaskFullBytes] &amp; finalByte);\r\n    \t\t}\r\n    \r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \tprivate InetAddress parseAddress(String address) {\r\n    \t\ttry {\r\n    \t\t\treturn InetAddress.getByName(address);\r\n    \t\t}\r\n    \t\tcatch (UnknownHostException e) {\r\n    \t\t\tthrow new IllegalArgumentException(&quot;Failed to parse address&quot; + address, e);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n**NOTICE**: Notice that for using this option, it&#39;s your responsibility to carefully examine the [license][4] to make sure by using this code, you are not in violation of any terms mandated by the aforementioned license. (Of course publishing this code to Stackoverflow.com by me is not a violation.)\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.springframework.security/spring-security-web\r\n  [2]: http://docs.spring.io/spring-security/site/docs/3.2.8.RELEASE/apidocs/org/springframework/security/web/util/matcher/IpAddressMatcher.html#matches(java.lang.String)\r\n  [3]: https://github.com/spring-projects/spring-security/blob/master/web/src/main/java/org/springframework/security/web/util/matcher/IpAddressMatcher.java\r\n  [4]: https://www.apache.org/licenses/LICENSE-2.0","title":"How to check if an IP address is from a particular network/netmask in Java?","body":"<h2>Option 1:</h2>\n<p>Use <a href=\"https://mvnrepository.com/artifact/org.springframework.security/spring-security-web\" rel=\"noreferrer\"><code>spring-security-web</code></a>'s <a href=\"http://docs.spring.io/spring-security/site/docs/3.2.8.RELEASE/apidocs/org/springframework/security/web/util/matcher/IpAddressMatcher.html#matches(java.lang.String)\" rel=\"noreferrer\">IpAddressMatcher</a>. Unlike Apache Commons Net, it supports both ipv4 and ipv6.</p>\n<pre><code>import org.springframework.security.web.util.matcher.IpAddressMatcher;\n...\n\nprivate void checkIpMatch() {\n    matches(&quot;192.168.2.1&quot;, &quot;192.168.2.1&quot;); // true\n    matches(&quot;192.168.2.1&quot;, &quot;192.168.2.0/32&quot;); // false\n    matches(&quot;192.168.2.5&quot;, &quot;192.168.2.0/24&quot;); // true\n    matches(&quot;92.168.2.1&quot;, &quot;fe80:0:0:0:0:0:c0a8:1/120&quot;); // false\n    matches(&quot;fe80:0:0:0:0:0:c0a8:11&quot;, &quot;fe80:0:0:0:0:0:c0a8:1/120&quot;); // true\n    matches(&quot;fe80:0:0:0:0:0:c0a8:11&quot;, &quot;fe80:0:0:0:0:0:c0a8:1/128&quot;); // false\n    matches(&quot;fe80:0:0:0:0:0:c0a8:11&quot;, &quot;192.168.2.0/32&quot;); // false\n}\n\nprivate boolean matches(String ip, String subnet) {\n    IpAddressMatcher ipAddressMatcher = new IpAddressMatcher(subnet);\n    return ipAddressMatcher.matches(ip);\n}\n</code></pre>\n<hr />\n<h2>Option 2 (a lightweight solution!):</h2>\n<p><em>The code in previous part works perfectly fine</em> but it needs <code>spring-security-web</code> to be included.</p>\n<p>If you are not willing to include Spring framework in your project, you may use this class which is a slightly modified version of the <a href=\"https://github.com/spring-projects/spring-security/blob/master/web/src/main/java/org/springframework/security/web/util/matcher/IpAddressMatcher.java\" rel=\"noreferrer\">original class</a> from Spring, so that it has no non-JRE dependencies.</p>\n<pre><code>/*\n * Copyright 2002-2019 the original author or authors.\n *\n * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport java.net.InetAddress;\nimport java.net.UnknownHostException;\n\n/**\n * Matches a request based on IP Address or subnet mask matching against the remote\n * address.\n * &lt;p&gt;\n * Both IPv6 and IPv4 addresses are supported, but a matcher which is configured with an\n * IPv4 address will never match a request which returns an IPv6 address, and vice-versa.\n *\n * @author Luke Taylor\n * @since 3.0.2\n * \n * Slightly modified by omidzk to have zero dependency to any frameworks other than the JRE.\n */\npublic final class IpAddressMatcher {\n    private final int nMaskBits;\n    private final InetAddress requiredAddress;\n\n    /**\n     * Takes a specific IP address or a range specified using the IP/Netmask (e.g.\n     * 192.168.1.0/24 or 202.24.0.0/14).\n     *\n     * @param ipAddress the address or range of addresses from which the request must\n     * come.\n     */\n    public IpAddressMatcher(String ipAddress) {\n\n        if (ipAddress.indexOf('/') &gt; 0) {\n            String[] addressAndMask = ipAddress.split(&quot;/&quot;);\n            ipAddress = addressAndMask[0];\n            nMaskBits = Integer.parseInt(addressAndMask[1]);\n        }\n        else {\n            nMaskBits = -1;\n        }\n        requiredAddress = parseAddress(ipAddress);\n        assert  (requiredAddress.getAddress().length * 8 &gt;= nMaskBits) :\n                String.format(&quot;IP address %s is too short for bitmask of length %d&quot;,\n                        ipAddress, nMaskBits);\n    }\n\n    public boolean matches(String address) {\n        InetAddress remoteAddress = parseAddress(address);\n\n        if (!requiredAddress.getClass().equals(remoteAddress.getClass())) {\n            return false;\n        }\n\n        if (nMaskBits &lt; 0) {\n            return remoteAddress.equals(requiredAddress);\n        }\n\n        byte[] remAddr = remoteAddress.getAddress();\n        byte[] reqAddr = requiredAddress.getAddress();\n\n        int nMaskFullBytes = nMaskBits / 8;\n        byte finalByte = (byte) (0xFF00 &gt;&gt; (nMaskBits &amp; 0x07));\n\n        // System.out.println(&quot;Mask is &quot; + new sun.misc.HexDumpEncoder().encode(mask));\n\n        for (int i = 0; i &lt; nMaskFullBytes; i++) {\n            if (remAddr[i] != reqAddr[i]) {\n                return false;\n            }\n        }\n\n        if (finalByte != 0) {\n            return (remAddr[nMaskFullBytes] &amp; finalByte) == (reqAddr[nMaskFullBytes] &amp; finalByte);\n        }\n\n        return true;\n    }\n\n    private InetAddress parseAddress(String address) {\n        try {\n            return InetAddress.getByName(address);\n        }\n        catch (UnknownHostException e) {\n            throw new IllegalArgumentException(&quot;Failed to parse address&quot; + address, e);\n        }\n    }\n}\n</code></pre>\n<p><strong>NOTICE</strong>: Notice that for using this option, it's your responsibility to carefully examine the <a href=\"https://www.apache.org/licenses/LICENSE-2.0\" rel=\"noreferrer\">license</a> to make sure by using this code, you are not in violation of any terms mandated by the aforementioned license. (Of course publishing this code to Stackoverflow.com by me is not a violation.)</p>\n"},{"tags":[],"owner":{"account_id":2990453,"reputation":324,"user_id":2538133,"display_name":"Hossein"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1504069135,"creation_date":1504068778,"answer_id":45952162,"question_id":577363,"body_markdown":"To check An IP in a subnet, I used isInRange method in SubnetUtils class. But this method have a bug that if your subnet was X, every IP address that lower than X, isInRange return true. For example if your subnet was 10.10.30.0/24 and you want to check 10.10.20.5, this method return true. To deal with this bug I used below code.\r\n\r\n    \r\n    public static void main(String[] args){\r\n        String list = &quot;10.10.20.0/24&quot;;\r\n        String IP1 = &quot;10.10.20.5&quot;;\r\n        String IP2 = &quot;10.10.30.5&quot;;\r\n        SubnetUtils  subnet = new SubnetUtils(list);\r\n        SubnetUtils.SubnetInfo subnetInfo = subnet.getInfo();\r\n        if(MyisInRange(subnetInfo , IP1) == true)\r\n           System.out.println(&quot;True&quot;);\r\n        else \r\n           System.out.println(&quot;False&quot;);\r\n        if(MyisInRange(subnetInfo , IP2) == true)\r\n           System.out.println(&quot;True&quot;);\r\n        else\r\n           System.out.println(&quot;False&quot;);\r\n    }\r\n\r\n    private boolean MyisInRange(SubnetUtils.SubnetInfo info, String Addr )\r\n    {\r\n        int address = info.asInteger( Addr );\r\n        int low = info.asInteger( info.getLowAddress() );\r\n        int high = info.asInteger( info.getHighAddress() );\r\n        return low &lt;= address &amp;&amp; address &lt;= high;\r\n    }","title":"How to check if an IP address is from a particular network/netmask in Java?","body":"<p>To check An IP in a subnet, I used isInRange method in SubnetUtils class. But this method have a bug that if your subnet was X, every IP address that lower than X, isInRange return true. For example if your subnet was 10.10.30.0/24 and you want to check 10.10.20.5, this method return true. To deal with this bug I used below code.</p>\n\n<pre><code>public static void main(String[] args){\n    String list = \"10.10.20.0/24\";\n    String IP1 = \"10.10.20.5\";\n    String IP2 = \"10.10.30.5\";\n    SubnetUtils  subnet = new SubnetUtils(list);\n    SubnetUtils.SubnetInfo subnetInfo = subnet.getInfo();\n    if(MyisInRange(subnetInfo , IP1) == true)\n       System.out.println(\"True\");\n    else \n       System.out.println(\"False\");\n    if(MyisInRange(subnetInfo , IP2) == true)\n       System.out.println(\"True\");\n    else\n       System.out.println(\"False\");\n}\n\nprivate boolean MyisInRange(SubnetUtils.SubnetInfo info, String Addr )\n{\n    int address = info.asInteger( Addr );\n    int low = info.asInteger( info.getLowAddress() );\n    int high = info.asInteger( info.getHighAddress() );\n    return low &lt;= address &amp;&amp; address &lt;= high;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9144834,"reputation":4430,"user_id":6801443,"display_name":"Sean F"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1546924463,"creation_date":1546922653,"answer_id":54085333,"question_id":577363,"body_markdown":"[The open-source IPAddress Java library](https://seancfoley.github.io/IPAddress/) will do this in a polymorphic manner for both IPv4 and IPv6 and handles subnets.  Disclaimer: I am the project manager of that library.\r\n\r\nExample code:\r\n\r\n    contains(&quot;10.10.20.0/30&quot;, &quot;10.10.20.3&quot;);\r\n\tcontains(&quot;10.10.20.0/30&quot;, &quot;10.10.20.5&quot;);\r\n\tcontains(&quot;1::/64&quot;, &quot;1::1&quot;);\r\n\tcontains(&quot;1::/64&quot;, &quot;2::1&quot;);\r\n    contains(&quot;1::3-4:5-6&quot;, &quot;1::4:5&quot;);   \t\r\n    contains(&quot;1-2::/64&quot;, &quot;2::&quot;);\r\n    contains(&quot;bla&quot;, &quot;foo&quot;);\r\n\r\n    static void contains(String network, String address) {\r\n\t\tIPAddressString one = new IPAddressString(network);\r\n\t\tIPAddressString two = new IPAddressString(address);\r\n\t\tSystem.out.println(one +  &quot; contains &quot; + two + &quot; &quot; + one.contains(two));\r\n\t}\r\n\r\nOutput:\r\n\r\n    10.10.20.0/30 contains 10.10.20.3 true\r\n    10.10.20.0/30 contains 10.10.20.5 false\r\n    1::/64 contains 1::1 true\r\n    1::/64 contains 2::1 false\r\n    1::3-4:5-6 contains 1::4:5 true\r\n    1-2::/64 contains 2:: true\r\n    bla contains foo false","title":"How to check if an IP address is from a particular network/netmask in Java?","body":"<p><a href=\"https://seancfoley.github.io/IPAddress/\" rel=\"noreferrer\">The open-source IPAddress Java library</a> will do this in a polymorphic manner for both IPv4 and IPv6 and handles subnets.  Disclaimer: I am the project manager of that library.</p>\n\n<p>Example code:</p>\n\n<pre><code>contains(\"10.10.20.0/30\", \"10.10.20.3\");\ncontains(\"10.10.20.0/30\", \"10.10.20.5\");\ncontains(\"1::/64\", \"1::1\");\ncontains(\"1::/64\", \"2::1\");\ncontains(\"1::3-4:5-6\", \"1::4:5\");       \ncontains(\"1-2::/64\", \"2::\");\ncontains(\"bla\", \"foo\");\n\nstatic void contains(String network, String address) {\n    IPAddressString one = new IPAddressString(network);\n    IPAddressString two = new IPAddressString(address);\n    System.out.println(one +  \" contains \" + two + \" \" + one.contains(two));\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>10.10.20.0/30 contains 10.10.20.3 true\n10.10.20.0/30 contains 10.10.20.5 false\n1::/64 contains 1::1 true\n1::/64 contains 2::1 false\n1::3-4:5-6 contains 1::4:5 true\n1-2::/64 contains 2:: true\nbla contains foo false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2182639,"reputation":812,"user_id":1931774,"display_name":"SkateScout"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1549275622,"creation_date":1549275622,"answer_id":54514071,"question_id":577363,"body_markdown":"here is an Version that works with IPv4 and IPv6 one with Prefix and one with Network Mask.\r\n\r\n    /**\r\n     * Check if IP is within an Subnet defined by Network Address and Network Mask\r\n     * @param  ip\r\n     * @param  net\r\n     * @param  mask\r\n     * @return\r\n     */\r\n    public static final boolean isIpInSubnet(final String ip, final String net, final int prefix) {\r\n        try {\r\n            final byte[] ipBin   = java.net.InetAddress.getByName(ip  ).getAddress();\r\n            final byte[] netBin  = java.net.InetAddress.getByName(net ).getAddress();\r\n            if(ipBin.length  != netBin.length ) return false;\r\n            int p = prefix;\r\n            int i = 0;\r\n            while(p&gt;=8) { if(ipBin[i] != netBin[i] ) return false; ++i; p-=8; }\r\n            final int m = (65280 &gt;&gt; p) &amp; 255;\r\n            if((ipBin[i] &amp; m) != (netBin[i]&amp;m) ) return false;\r\n\r\n            return true;\r\n        } catch(final Throwable t) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Check if IP is within an Subnet defined by Network Address and Network Mask\r\n     * @param  ip\r\n     * @param  net\r\n     * @param  mask\r\n     * @return\r\n     */\r\n    public static final boolean isIpInSubnet(final String ip, final String net, final String mask) {\r\n        try {\r\n            final byte[] ipBin   = java.net.InetAddress.getByName(ip  ).getAddress();\r\n            final byte[] netBin  = java.net.InetAddress.getByName(net ).getAddress();\r\n            final byte[] maskBin = java.net.InetAddress.getByName(mask).getAddress();\r\n            if(ipBin.length  != netBin.length ) return false;\r\n            if(netBin.length != maskBin.length) return false;\r\n            for(int i = 0; i &lt; ipBin.length; ++i) if((ipBin[i] &amp; maskBin[i]) != (netBin[i] &amp; maskBin[i])) return false;\r\n            return true;\r\n        } catch(final Throwable t) {\r\n            return false;\r\n        }\r\n    }\r\n","title":"How to check if an IP address is from a particular network/netmask in Java?","body":"<p>here is an Version that works with IPv4 and IPv6 one with Prefix and one with Network Mask.</p>\n\n<pre><code>/**\n * Check if IP is within an Subnet defined by Network Address and Network Mask\n * @param  ip\n * @param  net\n * @param  mask\n * @return\n */\npublic static final boolean isIpInSubnet(final String ip, final String net, final int prefix) {\n    try {\n        final byte[] ipBin   = java.net.InetAddress.getByName(ip  ).getAddress();\n        final byte[] netBin  = java.net.InetAddress.getByName(net ).getAddress();\n        if(ipBin.length  != netBin.length ) return false;\n        int p = prefix;\n        int i = 0;\n        while(p&gt;=8) { if(ipBin[i] != netBin[i] ) return false; ++i; p-=8; }\n        final int m = (65280 &gt;&gt; p) &amp; 255;\n        if((ipBin[i] &amp; m) != (netBin[i]&amp;m) ) return false;\n\n        return true;\n    } catch(final Throwable t) {\n        return false;\n    }\n}\n\n/**\n * Check if IP is within an Subnet defined by Network Address and Network Mask\n * @param  ip\n * @param  net\n * @param  mask\n * @return\n */\npublic static final boolean isIpInSubnet(final String ip, final String net, final String mask) {\n    try {\n        final byte[] ipBin   = java.net.InetAddress.getByName(ip  ).getAddress();\n        final byte[] netBin  = java.net.InetAddress.getByName(net ).getAddress();\n        final byte[] maskBin = java.net.InetAddress.getByName(mask).getAddress();\n        if(ipBin.length  != netBin.length ) return false;\n        if(netBin.length != maskBin.length) return false;\n        for(int i = 0; i &lt; ipBin.length; ++i) if((ipBin[i] &amp; maskBin[i]) != (netBin[i] &amp; maskBin[i])) return false;\n        return true;\n    } catch(final Throwable t) {\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5049338,"reputation":855,"user_id":4054389,"accept_rate":33,"display_name":"djpanda"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1556741421,"creation_date":1556739769,"answer_id":55941780,"question_id":577363,"body_markdown":"I know this is very old question, but I stumbled upon this when I was looking to solve the same problem.\r\n\r\nThere is [commons-ip-math](https://github.com/jgonian/commons-ip-math) library that I believe does a very good job. Please note that as of May 2019, there hasn&#39;t been any updates to the library (Could be that its already very mature library). Its available on [maven-central](https://search.maven.org/artifact/com.github.jgonian/commons-ip-math/1.32/jar)\r\n\r\nIt supports working with both IPv4 and IPv6 addresses. Their brief documentation has examples on how you can check if an address is in a specific range for [IPv4](https://github.com/jgonian/commons-ip-math#ipv4-addresses) and [IPv6](https://github.com/jgonian/commons-ip-math#ipv6-addresses)\r\n\r\nExample for IPv4 range checking:\r\n```\r\n        String input1 = &quot;192.168.1.0&quot;;\r\n        Ipv4 ipv41 = Ipv4.parse(input1);\r\n\r\n        // Using CIDR notation to specify the networkID and netmask\r\n        Ipv4Range range = Ipv4Range.parse(&quot;192.168.0.0/24&quot;);\r\n        boolean result = range.contains(ipv41);\r\n        System.out.println(result); //false\r\n\r\n        String input2 = &quot;192.168.0.251&quot;;\r\n        Ipv4 ipv42 = Ipv4.parse(input2);\r\n\r\n        // Specifying the range with a start and end.\r\n        Ipv4 start = Ipv4.of(&quot;192.168.0.0&quot;);\r\n        Ipv4 end = Ipv4.of(&quot;192.168.0.255&quot;);\r\n        range = Ipv4Range.from(start).to(end);\r\n\r\n        result = range.contains(ipv42); //true\r\n        System.out.println(result);\r\n```\r\n\r\n","title":"How to check if an IP address is from a particular network/netmask in Java?","body":"<p>I know this is very old question, but I stumbled upon this when I was looking to solve the same problem.</p>\n\n<p>There is <a href=\"https://github.com/jgonian/commons-ip-math\" rel=\"nofollow noreferrer\">commons-ip-math</a> library that I believe does a very good job. Please note that as of May 2019, there hasn't been any updates to the library (Could be that its already very mature library). Its available on <a href=\"https://search.maven.org/artifact/com.github.jgonian/commons-ip-math/1.32/jar\" rel=\"nofollow noreferrer\">maven-central</a></p>\n\n<p>It supports working with both IPv4 and IPv6 addresses. Their brief documentation has examples on how you can check if an address is in a specific range for <a href=\"https://github.com/jgonian/commons-ip-math#ipv4-addresses\" rel=\"nofollow noreferrer\">IPv4</a> and <a href=\"https://github.com/jgonian/commons-ip-math#ipv6-addresses\" rel=\"nofollow noreferrer\">IPv6</a></p>\n\n<p>Example for IPv4 range checking:</p>\n\n<pre><code>        String input1 = \"192.168.1.0\";\n        Ipv4 ipv41 = Ipv4.parse(input1);\n\n        // Using CIDR notation to specify the networkID and netmask\n        Ipv4Range range = Ipv4Range.parse(\"192.168.0.0/24\");\n        boolean result = range.contains(ipv41);\n        System.out.println(result); //false\n\n        String input2 = \"192.168.0.251\";\n        Ipv4 ipv42 = Ipv4.parse(input2);\n\n        // Specifying the range with a start and end.\n        Ipv4 start = Ipv4.of(\"192.168.0.0\");\n        Ipv4 end = Ipv4.of(\"192.168.0.255\");\n        range = Ipv4Range.from(start).to(end);\n\n        result = range.contains(ipv42); //true\n        System.out.println(result);\n</code></pre>\n"}],"owner":{"account_id":12422,"reputation":3337,"user_id":24443,"accept_rate":58,"display_name":"miceuz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49635,"favorite_count":0,"down_vote_count":1,"up_vote_count":39,"accepted_answer_id":578552,"answer_count":7,"score":38,"last_activity_date":1695644824,"creation_date":1235389326,"question_id":577363,"body_markdown":"I need to determine if given IP address is from some special network in order to authenticate automatically.","title":"How to check if an IP address is from a particular network/netmask in Java?","body":"<p>I need to determine if given IP address is from some special network in order to authenticate automatically.</p>\n"},{"tags":["java","enums"],"owner":{"account_id":18904360,"reputation":1,"user_id":13791793,"display_name":"Pranav Seth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695644768,"creation_date":1695642322,"question_id":77172360,"body_markdown":"```\r\npublic class HttpMethodMessageReader extends      AbstractEnumMessageReader&lt;HttpMethod&gt;{}\r\n```\r\nHere argument HttpMethod gives error as “Bound mismatch: The type HttpMethod is not valid substitute for the bounded parameter &lt;E extends Enum&lt;E&gt;&gt; of the type AbstractEnumMessageReader&lt;E&gt;”\r\n\r\nFor Class:\r\n```\r\npublic abstract class AbstractEnumMessageReader&lt;E extends Enum&lt;E&gt;&gt; {\r\n     public       AbstractEnumMessageReader(MessageReader      defaultReader, Class&lt;E&gt; e){\r\nSuper(defaultReader, new EnumMap(e));\r\n}\r\n\r\n\r\npublic class HttpMethodMessageReader extends AbstractEnumMessageReader&lt;HttpMethod&gt;{}\r\n```\r\nHere argument HttpMethod gives error as “Bound mismatch: The type HttpMethod is not valid substitute for the bounded parameter &lt;E extends Enum&lt;E&gt;&gt; of the type AbstractEnumMessageReader&lt;E&gt;”\r\n\r\nFor Class:\r\n```\r\npublic abstract class AbstractEnumMessageReader&lt;E extends Enum&lt;E&gt;&gt; {\r\n     public      AbstractEnumMessageReader(MessageReader      defaultReader, Class&lt;E&gt; e){\r\n     Super(defaultReader, new EnumMap(e));\r\n}\r\n```\r\nSuggest a way to resolve this bound mismatch error\r\n","title":"Bound mismatch error in case of argument being passed for enum type in abstract class","body":"<pre><code>public class HttpMethodMessageReader extends      AbstractEnumMessageReader&lt;HttpMethod&gt;{}\n</code></pre>\n<p>Here argument HttpMethod gives error as “Bound mismatch: The type HttpMethod is not valid substitute for the bounded parameter &lt;E extends Enum&gt; of the type AbstractEnumMessageReader”</p>\n<p>For Class:</p>\n<pre><code>public abstract class AbstractEnumMessageReader&lt;E extends Enum&lt;E&gt;&gt; {\n     public       AbstractEnumMessageReader(MessageReader      defaultReader, Class&lt;E&gt; e){\nSuper(defaultReader, new EnumMap(e));\n}\n\n\npublic class HttpMethodMessageReader extends AbstractEnumMessageReader&lt;HttpMethod&gt;{}\n</code></pre>\n<p>Here argument HttpMethod gives error as “Bound mismatch: The type HttpMethod is not valid substitute for the bounded parameter &lt;E extends Enum&gt; of the type AbstractEnumMessageReader”</p>\n<p>For Class:</p>\n<pre><code>public abstract class AbstractEnumMessageReader&lt;E extends Enum&lt;E&gt;&gt; {\n     public      AbstractEnumMessageReader(MessageReader      defaultReader, Class&lt;E&gt; e){\n     Super(defaultReader, new EnumMap(e));\n}\n</code></pre>\n<p>Suggest a way to resolve this bound mismatch error</p>\n"},{"tags":["java","tomcat","intellij-idea"],"comments":[{"owner":{"account_id":282589,"reputation":8239,"user_id":579580,"accept_rate":85,"display_name":"aviad"},"score":0,"creation_date":1336219885,"post_id":10461702,"comment_id":13511254,"body_markdown":"Check your tomcat configuration inside the intellij - I think you can configure it there","body":"Check your tomcat configuration inside the intellij - I think you can configure it there"},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":2,"creation_date":1336220458,"post_id":10461702,"comment_id":13511374,"body_markdown":"possible duplicate of [How is Tomcat handled by IntelliJ IDEA 10.5](http://stackoverflow.com/questions/7699354/how-is-tomcat-handled-by-intellij-idea-10-5)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/7699354/how-is-tomcat-handled-by-intellij-idea-10-5\">How is Tomcat handled by IntelliJ IDEA 10.5</a>"}],"answers":[{"tags":[],"owner":{"account_id":1170165,"reputation":23155,"user_id":1147529,"accept_rate":95,"display_name":"Paulius Matulionis"},"down_vote_count":1,"up_vote_count":30,"is_accepted":true,"score":29,"last_activity_date":1490697348,"creation_date":1336220121,"answer_id":10461746,"question_id":10461702,"body_markdown":"Yes, If you are using IntelliJ IDEA the application does not turn up on Tomcat `webapps` directory. Your artifacts are in directory, for example:\r\n\r\n    ${dir.to.idea.project}\\YourWebApp\\out\\artifacts\r\n\r\nThis is default directory created by IntelliJ. \r\n\r\nTomcat configuration is in the different folder. I am using windows 7. So it is:\r\n\r\n    C:\\Users\\User\\.IntelliJIdea10\\system\\tomcat\\YourApplicationName","title":"Where is my app placed when deploying to Tomcat using IntelliJ IDEA?","body":"<p>Yes, If you are using IntelliJ IDEA the application does not turn up on Tomcat <code>webapps</code> directory. Your artifacts are in directory, for example:</p>\n\n<pre><code>${dir.to.idea.project}\\YourWebApp\\out\\artifacts\n</code></pre>\n\n<p>This is default directory created by IntelliJ. </p>\n\n<p>Tomcat configuration is in the different folder. I am using windows 7. So it is:</p>\n\n<pre><code>C:\\Users\\User\\.IntelliJIdea10\\system\\tomcat\\YourApplicationName\n</code></pre>\n"},{"tags":[],"owner":{"account_id":380612,"reputation":476,"user_id":734743,"display_name":"dewtea"},"down_vote_count":2,"up_vote_count":33,"is_accepted":false,"score":31,"last_activity_date":1402093121,"creation_date":1402093121,"answer_id":24091449,"question_id":10461702,"body_markdown":"Just for reference, the corresponding folder on a mac (for IntelliJ 13) is:\r\n\r\n    /Users/&lt;username&gt;/Library/Caches/IntelliJIdea13/tomcat/","title":"Where is my app placed when deploying to Tomcat using IntelliJ IDEA?","body":"<p>Just for reference, the corresponding folder on a mac (for IntelliJ 13) is:</p>\n\n<pre><code>/Users/&lt;username&gt;/Library/Caches/IntelliJIdea13/tomcat/\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2339925,"reputation":15581,"user_id":2051454,"accept_rate":60,"display_name":"Software Engineer"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1403279740,"creation_date":1403279740,"answer_id":24331233,"question_id":10461702,"body_markdown":"If you&#39;re following the standard maven approach, which is highly recommended, then your output goes to the `target` directory, not `out`. With the maven approach you&#39;ll probably have multiple modules under your project root, and the `target` directory will be found under each module. The web application is then built into an exploded directory named after the module, but with `.war` as an extension. So, you have:\r\n\r\n    project/module/target/webapp.war\r\n\r\n ","title":"Where is my app placed when deploying to Tomcat using IntelliJ IDEA?","body":"<p>If you're following the standard maven approach, which is highly recommended, then your output goes to the <code>target</code> directory, not <code>out</code>. With the maven approach you'll probably have multiple modules under your project root, and the <code>target</code> directory will be found under each module. The web application is then built into an exploded directory named after the module, but with <code>.war</code> as an extension. So, you have:</p>\n\n<pre><code>project/module/target/webapp.war\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1532531,"reputation":36089,"user_id":1429387,"accept_rate":63,"display_name":"naXa stands with Ukraine"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1681944926,"creation_date":1459263199,"answer_id":36287809,"question_id":10461702,"body_markdown":"If you are using Intellij IDEA your artifacts are deployed directly from output directory: `${project.dir}\\${web.module}\\out\\artifacts` or `${project.dir}\\${web.module}\\target` if you&#39;re using Maven and follow [Standard Directory Layout][1].\r\n\r\nTomcat configuration is in different folder:\r\n&lt;pre&gt;\r\nMac:     /Users/${user}/Library/Caches/IntelliJIdea${version}/tomcat/  \r\nLinux:   /home/${user}/.IntelliJIdea${version}/system/tomcat/\r\nWindows: C:\\Users\\${user}\\AppData\\Local\\JetBrains\\IntelliJIdea${version}\\tomcat\r\n&lt;/pre&gt;\r\n\r\n\r\n  [1]: https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html","title":"Where is my app placed when deploying to Tomcat using IntelliJ IDEA?","body":"<p>If you are using Intellij IDEA your artifacts are deployed directly from output directory: <code>${project.dir}\\${web.module}\\out\\artifacts</code> or <code>${project.dir}\\${web.module}\\target</code> if you're using Maven and follow <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html\" rel=\"nofollow noreferrer\">Standard Directory Layout</a>.</p>\n<p>Tomcat configuration is in different folder:</p>\n<pre>\nMac:     /Users/${user}/Library/Caches/IntelliJIdea${version}/tomcat/  \nLinux:   /home/${user}/.IntelliJIdea${version}/system/tomcat/\nWindows: C:\\Users\\${user}\\AppData\\Local\\JetBrains\\IntelliJIdea${version}\\tomcat\n</pre>\n"},{"tags":[],"owner":{"account_id":8538081,"reputation":1031,"user_id":6399074,"display_name":"alan9uo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1535427583,"creation_date":1535427583,"answer_id":52049749,"question_id":10461702,"body_markdown":"I am new to IntelliJ IDEA. In my config. I add a local tomcat server. My tomcat container is run the project&#39;s target folder.\r\n\r\n&gt; **${your project&#39;s path}\\target\\ ${your project&#39;s name}**\r\n\r\nIn this path ,you will find the file that IDEA has build. And tomcat server would run this folder.","title":"Where is my app placed when deploying to Tomcat using IntelliJ IDEA?","body":"<p>I am new to IntelliJ IDEA. In my config. I add a local tomcat server. My tomcat container is run the project's target folder.</p>\n\n<blockquote>\n  <p><strong>${your project's path}\\target\\ ${your project's name}</strong></p>\n</blockquote>\n\n<p>In this path ,you will find the file that IDEA has build. And tomcat server would run this folder.</p>\n"},{"tags":[],"owner":{"account_id":28874,"reputation":12117,"user_id":2352432,"accept_rate":74,"display_name":"Pool"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1681944869,"creation_date":1601628257,"answer_id":64168608,"question_id":10461702,"body_markdown":"From IntelliJ 2020 onwards the Tomcat configuration and work directories have moved to:\r\n\r\n    C:\\Users\\${user}\\AppData\\Local\\JetBrains\\IntelliJIdea${version}\\tomcat","title":"Where is my app placed when deploying to Tomcat using IntelliJ IDEA?","body":"<p>From IntelliJ 2020 onwards the Tomcat configuration and work directories have moved to:</p>\n<pre><code>C:\\Users\\${user}\\AppData\\Local\\JetBrains\\IntelliJIdea${version}\\tomcat\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6383646,"reputation":111,"user_id":4952226,"display_name":"mike"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1629545412,"creation_date":1629545412,"answer_id":68872608,"question_id":10461702,"body_markdown":"The server log output the env variable &quot;CATALINA_BASE&quot; which contains the exploaded location","title":"Where is my app placed when deploying to Tomcat using IntelliJ IDEA?","body":"<p>The server log output the env variable &quot;CATALINA_BASE&quot; which contains the exploaded location</p>\n"},{"tags":[],"owner":{"account_id":29064699,"reputation":1,"user_id":22264581,"display_name":"Ron Trask"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694467757,"creation_date":1694467757,"answer_id":77084878,"question_id":10461702,"body_markdown":"I am still trying to track down my own issue which is a tangent off of this, but the information here helped me.  However, the location of where Intellij puts the tomcat config files on a Mac has changed.  As of 2023 I found the tomcat conf directory here:\r\n\r\n~/Library/Caches/JetBrains/IntelliJIdea2023.1/tomcat/8d90d524-8dae-4654-af6d-8ce0573e0cb3/conf\r\n\r\nThe uuid in this case 8d90d524-8dae-4654-af6d-8ce0573e0cb3 probably ties the configuration to a specific project, because in my case there were multiple UUID directory I found the correct one via ls -lrt which lists the most recent directory last.\r\n\r\nThere seems to be some ambiguity on the where the application is actually deployed, because the server.xml file also points to the tomcat installation webapps directory.  By experiment, I believe that exploded install is left in the target directory. ","title":"Where is my app placed when deploying to Tomcat using IntelliJ IDEA?","body":"<p>I am still trying to track down my own issue which is a tangent off of this, but the information here helped me.  However, the location of where Intellij puts the tomcat config files on a Mac has changed.  As of 2023 I found the tomcat conf directory here:</p>\n<p>~/Library/Caches/JetBrains/IntelliJIdea2023.1/tomcat/8d90d524-8dae-4654-af6d-8ce0573e0cb3/conf</p>\n<p>The uuid in this case 8d90d524-8dae-4654-af6d-8ce0573e0cb3 probably ties the configuration to a specific project, because in my case there were multiple UUID directory I found the correct one via ls -lrt which lists the most recent directory last.</p>\n<p>There seems to be some ambiguity on the where the application is actually deployed, because the server.xml file also points to the tomcat installation webapps directory.  By experiment, I believe that exploded install is left in the target directory.</p>\n"},{"tags":[],"owner":{"account_id":3116542,"reputation":1299,"user_id":3450840,"accept_rate":56,"display_name":"Florian F"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695644738,"creation_date":1695644738,"answer_id":77172621,"question_id":10461702,"body_markdown":"When you start your tomcat, the very first lines in the console tell you all you need.  For example:\r\n\r\n    C:\\opt\\local\\apache-tomcat-8.5.85\\bin\\catalina.bat run\r\n    [2023-09-25 02:08:23,777] Artifact Gradle : ch.hcuge.dpi : yourapp.war    (exploded): Waiting for server connection to start artifact deployment...\r\n    Using CATALINA_BASE:   &quot;C:\\Users\\(user)\\AppData\\Local\\JetBrains\\IntelliJIdea2023.2\\tomcat\\8f03b7c3-fe03-4abd-bfc1-b30021a4aa53&quot;\r\n    Using CATALINA_HOME:   &quot;C:\\opt\\local\\apache-tomcat-8.5.85&quot;\r\n    Using CATALINA_TMPDIR: &quot;C:\\opt\\local\\apache-tomcat-8.5.85\\temp&quot;\r\n    Using JRE_HOME:        &quot;C:\\Program Files\\Java\\jdk-11.0.18+10&quot;\r\n    Using CLASSPATH:       &quot;C:\\opt\\local\\apache-tomcat-8.5.85\\bin\\bootstrap.jar;C:\\opt\\local\\apache-tomcat-8.5.85\\bin\\tomcat-juli.jar&quot;\r\n    Using CATALINA_OPTS:   &quot;&quot;\r\n\r\nCATALINA_BASE is where your project is deployed.  The directory uses a random UUID as a name, but seems to remain the same between deployments.  Besides, from the last modification date you can identify which directory was deployed last.","title":"Where is my app placed when deploying to Tomcat using IntelliJ IDEA?","body":"<p>When you start your tomcat, the very first lines in the console tell you all you need.  For example:</p>\n<pre><code>C:\\opt\\local\\apache-tomcat-8.5.85\\bin\\catalina.bat run\n[2023-09-25 02:08:23,777] Artifact Gradle : ch.hcuge.dpi : yourapp.war    (exploded): Waiting for server connection to start artifact deployment...\nUsing CATALINA_BASE:   &quot;C:\\Users\\(user)\\AppData\\Local\\JetBrains\\IntelliJIdea2023.2\\tomcat\\8f03b7c3-fe03-4abd-bfc1-b30021a4aa53&quot;\nUsing CATALINA_HOME:   &quot;C:\\opt\\local\\apache-tomcat-8.5.85&quot;\nUsing CATALINA_TMPDIR: &quot;C:\\opt\\local\\apache-tomcat-8.5.85\\temp&quot;\nUsing JRE_HOME:        &quot;C:\\Program Files\\Java\\jdk-11.0.18+10&quot;\nUsing CLASSPATH:       &quot;C:\\opt\\local\\apache-tomcat-8.5.85\\bin\\bootstrap.jar;C:\\opt\\local\\apache-tomcat-8.5.85\\bin\\tomcat-juli.jar&quot;\nUsing CATALINA_OPTS:   &quot;&quot;\n</code></pre>\n<p>CATALINA_BASE is where your project is deployed.  The directory uses a random UUID as a name, but seems to remain the same between deployments.  Besides, from the last modification date you can identify which directory was deployed last.</p>\n"}],"owner":{"account_id":205346,"reputation":48091,"user_id":454049,"accept_rate":72,"display_name":"LuckyLuke"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44967,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"accepted_answer_id":10461746,"answer_count":9,"score":41,"last_activity_date":1695644738,"creation_date":1336219718,"question_id":10461702,"body_markdown":"I am deploying an application from IntelliJ IDEA to the local Tomcat server. I thought the apps you deploy are placed in the `webapps` folder, however it does not turn up there.\r\n\r\nIs this correct? Where is it?","title":"Where is my app placed when deploying to Tomcat using IntelliJ IDEA?","body":"<p>I am deploying an application from IntelliJ IDEA to the local Tomcat server. I thought the apps you deploy are placed in the <code>webapps</code> folder, however it does not turn up there.</p>\n\n<p>Is this correct? Where is it?</p>\n"},{"tags":["java","spring-boot","spring-webflux","reactive-programming","spring-cloud"],"owner":{"account_id":8909143,"reputation":35,"user_id":6650030,"accept_rate":33,"display_name":"Shubham Pratap Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695643825,"creation_date":1687455888,"question_id":76534467,"body_markdown":" When a log statement is encountered inside doOnNext block of flux&lt;DataBuffer&gt;, traceid and spanId not getting populated. but outside of block its getting printed in webFilter. below is the WebFliter implementation in Reactive SpringBoot Application with Sleuth.\r\n\r\n\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.apache.commons.io.IOUtils;\r\n    import org.apache.commons.lang.StringUtils;\r\n    import org.reactivestreams.Publisher;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.core.io.buffer.DataBuffer;\r\n    import org.springframework.http.server.reactive.ServerHttpRequest;\r\n    import org.springframework.http.server.reactive.ServerHttpRequestDecorator;\r\n    import org.springframework.http.server.reactive.ServerHttpResponseDecorator;\r\n    import org.springframework.web.server.ServerWebExchange;\r\n    import org.springframework.web.server.WebFilter;\r\n    import org.springframework.web.server.WebFilterChain;\r\n    import reactor.core.publisher.Flux;\r\n    import reactor.core.publisher.Mono;\r\n    \r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.IOException;\r\n    import java.nio.channels.Channels;\r\n    \r\n    @Slf4j\r\n    @Configuration\r\n    public class APILoggingFilter implements WebFilter {\r\n    \r\n        @Override\r\n        public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\r\n            ServerHttpRequest httpRequest = exchange.getRequest();\r\n            final String httpUrl = httpRequest.getURI().toString();\r\n    \r\n            ServerHttpRequestDecorator loggingServerHttpRequestDecorator = new ServerHttpRequestDecorator(exchange.getRequest()) {\r\n                String requestBody = &quot;&quot;;\r\n    \r\n                @Override\r\n                public Flux&lt;DataBuffer&gt; getBody() {\r\n                    log.info(&quot;Service Request URL before {}&quot;, httpUrl);\r\n                    Flux&lt;DataBuffer&gt; response =  super.getBody().doOnNext(dataBuffer -&gt; {\r\n                        try (ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream()) {\r\n                            Channels.newChannel(byteArrayOutputStream).write(dataBuffer.asByteBuffer().asReadOnlyBuffer());\r\n                            requestBody = IOUtils.toString(byteArrayOutputStream.toByteArray(), &quot;UTF-8&quot;).replaceAll(System.lineSeparator(),StringUtils.EMPTY);\r\n                            log.info(&quot; Service Request json, {}&quot;, httpUrl, requestBody);\r\n                        } catch (IOException e) {\r\n                            log.info(&quot;Service Request, URL {}, {}, {}&quot;, httpUrl, requestBody, e);\r\n                        }\r\n                    });\r\n                    log.info(&quot;Service Request URL after {}&quot;, httpUrl);\r\n                    return response;\r\n                }\r\n            };\r\n    \r\n            ServerHttpResponseDecorator loggingServerHttpResponseDecorator = new ServerHttpResponseDecorator(exchange.getResponse()) {\r\n                String responseBody = &quot;&quot;;\r\n                @Override\r\n                public Mono&lt;Void&gt; writeWith(Publisher&lt;? extends DataBuffer&gt; body) {\r\n                    Mono&lt;DataBuffer&gt; buffer = Mono.from(body);\r\n                    log.info(&quot;Service Response, URL {}&quot;, httpUrl);\r\n                    return super.writeWith(buffer.doOnNext(dataBuffer -&gt; {\r\n                        try (ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream()) {\r\n                            Channels.newChannel(byteArrayOutputStream).write(dataBuffer.asByteBuffer().asReadOnlyBuffer());\r\n                            responseBody = IOUtils.toString(byteArrayOutputStream.toByteArray(), &quot;UTF-8&quot;).replaceAll(System.lineSeparator(), StringUtils.EMPTY);\r\n                            log.info(&quot;Service Response, URL {}, {}&quot;, httpUrl, responseBody);\r\n                        } catch (Exception e) {\r\n                            log.info(&quot;Service Response, URL {}, {}, {}&quot;, httpUrl, responseBody, e);\r\n                        }\r\n                    }));\r\n                }\r\n            };\r\n            return chain.filter(exchange.mutate().request(loggingServerHttpRequestDecorator).response(loggingServerHttpResponseDecorator).build());\r\n        }\r\n    \r\n    }\r\n\r\nLogs Printed :\r\n\r\n2023-06-22 22:43:40.859  INFO [emp-mgmt,4edae7c9825b4698,4edae7c9825b4698,false] 6596 --- [ctor-http-nio-3] c.a.e.p.config.APILoggingFilter          : Service Request URL before http://localhost:8083/api/v1/addEmp\r\n2023-06-22 22:43:40.867  INFO [emp-mgmt,4edae7c9825b4698,4edae7c9825b4698,false] 6596 --- [ctor-http-nio-3] c.a.e.p.config.APILoggingFilter          : Service Request URL after http://localhost:8083/api/v1/addEmp\r\n2023-06-22 22:43:40.935  INFO **[emp-mgmt,,,]** 6596 --- [ctor-http-nio-3] c.a.e.p.config.APILoggingFilter          :  Service Request json, http://localhost:8083/api/v1/getEmp, {\r\n    &quot;uId&quot;:null,\r\n\t&quot;empId&quot;: &quot;932046783773&quot;,\r\n    &quot;empName&quot;: &quot;Adam&quot;,\r\n    &quot;idNumber&quot;: &quot;860937&quot;\r\n}\r\n\r\n\r\n\r\n2023-06-22 22:43:49.270  INFO [emp-mgmt,4edae7c9825b4698,4edae7c9825b4698,false] 6596 --- [     parallel-2] config.APILoggingFilter          : Service Response, URL http://localhost:8083/api/v1/addEmp\r\n2023-06-22 22:43:49.283  INFO [emp-mgmt,4edae7c9825b4698,4edae7c9825b4698,false] 6596 --- [     parallel-2] config.APILoggingFilter          : Service Response, URL http://localhost:8083/api/v1/addEmp, {\r\n    &quot;uId&quot;:76543467,\r\n    &quot;empId&quot;: &quot;932046783773&quot;,\r\n    &quot;empName&quot;: &quot;Adam&quot;,\r\n    &quot;idNumber&quot;: &quot;860937&quot;\r\n}\r\n\r\n### Log statement with &quot;Service Request json&quot; does not have traceId and SpanId. ###\r\nUsing spring-webFlux:5.1.5.RELEASE and Sleuth 2.1.0.RELEASE.\r\nPlease help. \r\n\r\n\r\n","title":"TraceId / SpanId is not getting printed inside flux doOnNext lambda block in webflux application with Sleuth","body":"<p>When a log statement is encountered inside doOnNext block of flux, traceid and spanId not getting populated. but outside of block its getting printed in webFilter. below is the WebFliter implementation in Reactive SpringBoot Application with Sleuth.</p>\n<pre><code>import lombok.extern.slf4j.Slf4j;\nimport org.apache.commons.io.IOUtils;\nimport org.apache.commons.lang.StringUtils;\nimport org.reactivestreams.Publisher;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.io.buffer.DataBuffer;\nimport org.springframework.http.server.reactive.ServerHttpRequest;\nimport org.springframework.http.server.reactive.ServerHttpRequestDecorator;\nimport org.springframework.http.server.reactive.ServerHttpResponseDecorator;\nimport org.springframework.web.server.ServerWebExchange;\nimport org.springframework.web.server.WebFilter;\nimport org.springframework.web.server.WebFilterChain;\nimport reactor.core.publisher.Flux;\nimport reactor.core.publisher.Mono;\n\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.nio.channels.Channels;\n\n@Slf4j\n@Configuration\npublic class APILoggingFilter implements WebFilter {\n\n    @Override\n    public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\n        ServerHttpRequest httpRequest = exchange.getRequest();\n        final String httpUrl = httpRequest.getURI().toString();\n\n        ServerHttpRequestDecorator loggingServerHttpRequestDecorator = new ServerHttpRequestDecorator(exchange.getRequest()) {\n            String requestBody = &quot;&quot;;\n\n            @Override\n            public Flux&lt;DataBuffer&gt; getBody() {\n                log.info(&quot;Service Request URL before {}&quot;, httpUrl);\n                Flux&lt;DataBuffer&gt; response =  super.getBody().doOnNext(dataBuffer -&gt; {\n                    try (ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream()) {\n                        Channels.newChannel(byteArrayOutputStream).write(dataBuffer.asByteBuffer().asReadOnlyBuffer());\n                        requestBody = IOUtils.toString(byteArrayOutputStream.toByteArray(), &quot;UTF-8&quot;).replaceAll(System.lineSeparator(),StringUtils.EMPTY);\n                        log.info(&quot; Service Request json, {}&quot;, httpUrl, requestBody);\n                    } catch (IOException e) {\n                        log.info(&quot;Service Request, URL {}, {}, {}&quot;, httpUrl, requestBody, e);\n                    }\n                });\n                log.info(&quot;Service Request URL after {}&quot;, httpUrl);\n                return response;\n            }\n        };\n\n        ServerHttpResponseDecorator loggingServerHttpResponseDecorator = new ServerHttpResponseDecorator(exchange.getResponse()) {\n            String responseBody = &quot;&quot;;\n            @Override\n            public Mono&lt;Void&gt; writeWith(Publisher&lt;? extends DataBuffer&gt; body) {\n                Mono&lt;DataBuffer&gt; buffer = Mono.from(body);\n                log.info(&quot;Service Response, URL {}&quot;, httpUrl);\n                return super.writeWith(buffer.doOnNext(dataBuffer -&gt; {\n                    try (ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream()) {\n                        Channels.newChannel(byteArrayOutputStream).write(dataBuffer.asByteBuffer().asReadOnlyBuffer());\n                        responseBody = IOUtils.toString(byteArrayOutputStream.toByteArray(), &quot;UTF-8&quot;).replaceAll(System.lineSeparator(), StringUtils.EMPTY);\n                        log.info(&quot;Service Response, URL {}, {}&quot;, httpUrl, responseBody);\n                    } catch (Exception e) {\n                        log.info(&quot;Service Response, URL {}, {}, {}&quot;, httpUrl, responseBody, e);\n                    }\n                }));\n            }\n        };\n        return chain.filter(exchange.mutate().request(loggingServerHttpRequestDecorator).response(loggingServerHttpResponseDecorator).build());\n    }\n\n}\n</code></pre>\n<p>Logs Printed :</p>\n<p>2023-06-22 22:43:40.859  INFO [emp-mgmt,4edae7c9825b4698,4edae7c9825b4698,false] 6596 --- [ctor-http-nio-3] c.a.e.p.config.APILoggingFilter          : Service Request URL before http://localhost:8083/api/v1/addEmp\n2023-06-22 22:43:40.867  INFO [emp-mgmt,4edae7c9825b4698,4edae7c9825b4698,false] 6596 --- [ctor-http-nio-3] c.a.e.p.config.APILoggingFilter          : Service Request URL after http://localhost:8083/api/v1/addEmp\n2023-06-22 22:43:40.935  INFO <strong>[emp-mgmt,,,]</strong> 6596 --- [ctor-http-nio-3] c.a.e.p.config.APILoggingFilter          :  Service Request json, http://localhost:8083/api/v1/getEmp, {\n&quot;uId&quot;:null,\n&quot;empId&quot;: &quot;932046783773&quot;,\n&quot;empName&quot;: &quot;Adam&quot;,\n&quot;idNumber&quot;: &quot;860937&quot;\n}</p>\n<p>2023-06-22 22:43:49.270  INFO [emp-mgmt,4edae7c9825b4698,4edae7c9825b4698,false] 6596 --- [     parallel-2] config.APILoggingFilter          : Service Response, URL http://localhost:8083/api/v1/addEmp\n2023-06-22 22:43:49.283  INFO [emp-mgmt,4edae7c9825b4698,4edae7c9825b4698,false] 6596 --- [     parallel-2] config.APILoggingFilter          : Service Response, URL http://localhost:8083/api/v1/addEmp, {\n&quot;uId&quot;:76543467,\n&quot;empId&quot;: &quot;932046783773&quot;,\n&quot;empName&quot;: &quot;Adam&quot;,\n&quot;idNumber&quot;: &quot;860937&quot;\n}</p>\n<h3>Log statement with &quot;Service Request json&quot; does not have traceId and SpanId.</h3>\n<p>Using spring-webFlux:5.1.5.RELEASE and Sleuth 2.1.0.RELEASE.\nPlease help.</p>\n"},{"tags":["java","sql","spring","mybatis"],"comments":[{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1695646184,"post_id":77172362,"comment_id":136048054,"body_markdown":"Now, what do you want to do when the list is empty? Return the entire table, no rows at all, something else? A simple `&lt;if test=&quot;list.size == 0&quot;&gt;` can produce the behavior you want.","body":"Now, what do you want to do when the list is empty? Return the entire table, no rows at all, something else? A simple <code>&lt;if test=&quot;list.size == 0&quot;&gt;</code> can produce the behavior you want."},{"owner":{"account_id":9921152,"reputation":79,"user_id":7344226,"accept_rate":71,"display_name":"senz"},"score":0,"creation_date":1695657902,"post_id":77172362,"comment_id":136050774,"body_markdown":"@TheImpaler I know this solution, but now I want to know, why there will be error sql, because I have already judged the empty in the java code.","body":"@TheImpaler I know this solution, but now I want to know, why there will be error sql, because I have already judged the empty in the java code."},{"owner":{"account_id":9921152,"reputation":79,"user_id":7344226,"accept_rate":71,"display_name":"senz"},"score":0,"creation_date":1695659287,"post_id":77172362,"comment_id":136051031,"body_markdown":"@TheImpaler I know the answer, because parallelStream makes the size different from the real length of the collection.","body":"@TheImpaler I know the answer, because parallelStream makes the size different from the real length of the collection."},{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1695668888,"post_id":77172362,"comment_id":136052678,"body_markdown":"I fail to understand your question. You say &quot;...Sometimes the production sql is...&quot;; well, that&#39;s not a valid SQL statement and will crash your application. What do you need?","body":"I fail to understand your question. You say &quot;...Sometimes the production sql is...&quot;; well, that&#39;s not a valid SQL statement and will crash your application. What do you need?"}],"owner":{"account_id":9921152,"reputation":79,"user_id":7344226,"accept_rate":71,"display_name":"senz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695643256,"creation_date":1695642343,"question_id":77172362,"body_markdown":"I&#39;ve already determined in the java code that the list is not empty before executing the sql, but occasionally there are sql&#39;s here that are wrong.\r\n\r\nSometimes the production sql is\r\n\r\n    select name from user where id in\r\n\r\n\r\nService.java      ObjectUtils is org.apache.commons.lang3.ObjectUtils\r\n\r\nI know can&#39;t add directly in parallelStream, should use Collectors.toSet.\r\n\r\nWhat I&#39;d like to know is that this error sql is related to list.parallelStream\r\n  \r\n    public List&lt;String&gt; queryByIds() {\r\n        Set&lt;Long&gt; ids = new HashSet&lt;&gt;();\r\n        list.parallelStream().forEach(obj -&gt; {\r\n           ids.add(obj.id)\r\n        }\r\n\r\n        if (ObjectUtils.isEmpty(ids)){\r\n            return Collections.emptyList();\r\n        }\r\n        return mapper.queryByIds(ids);\r\n    }\r\n\r\nmapper.java \r\n\r\n    List&lt;String&gt; queryByIds(@Param(&quot;list&quot;) Set&lt;Long&gt; ids);\r\n\r\nmapper.xml\r\n\r\n    &lt;select id=&quot;queryByIds&quot; resultType=&quot;java.lang.String&quot;&gt;\r\n        select name from user where id in\r\n        &lt;foreach collection=&quot;list&quot; item=&quot;item&quot; index=&quot;index&quot; open=&quot;(&quot; separator=&quot;,&quot; close=&quot;)&quot;&gt;\r\n            #{item}\r\n        &lt;/foreach&gt;\r\n    &lt;/select&gt;\r\n\r\n\r\n","title":"mybatis list foreach is null","body":"<p>I've already determined in the java code that the list is not empty before executing the sql, but occasionally there are sql's here that are wrong.</p>\n<p>Sometimes the production sql is</p>\n<pre><code>select name from user where id in\n</code></pre>\n<p>Service.java      ObjectUtils is org.apache.commons.lang3.ObjectUtils</p>\n<p>I know can't add directly in parallelStream, should use Collectors.toSet.</p>\n<p>What I'd like to know is that this error sql is related to list.parallelStream</p>\n<pre><code>public List&lt;String&gt; queryByIds() {\n    Set&lt;Long&gt; ids = new HashSet&lt;&gt;();\n    list.parallelStream().forEach(obj -&gt; {\n       ids.add(obj.id)\n    }\n\n    if (ObjectUtils.isEmpty(ids)){\n        return Collections.emptyList();\n    }\n    return mapper.queryByIds(ids);\n}\n</code></pre>\n<p>mapper.java</p>\n<pre><code>List&lt;String&gt; queryByIds(@Param(&quot;list&quot;) Set&lt;Long&gt; ids);\n</code></pre>\n<p>mapper.xml</p>\n<pre><code>&lt;select id=&quot;queryByIds&quot; resultType=&quot;java.lang.String&quot;&gt;\n    select name from user where id in\n    &lt;foreach collection=&quot;list&quot; item=&quot;item&quot; index=&quot;index&quot; open=&quot;(&quot; separator=&quot;,&quot; close=&quot;)&quot;&gt;\n        #{item}\n    &lt;/foreach&gt;\n&lt;/select&gt;\n</code></pre>\n"},{"tags":["java","swt"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1695643779,"post_id":77172423,"comment_id":136047556,"body_markdown":"This works fine for me on macOS 13.6 with SWT 4962r3 from Eclipse 4.29 (2023-09)","body":"This works fine for me on macOS 13.6 with SWT 4962r3 from Eclipse 4.29 (2023-09)"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1695644529,"post_id":77172423,"comment_id":136047711,"body_markdown":"I do get both Selection and DefaultSelection events for double click. I also note that none of the standard Mac items on the tray support double click so I don&#39;t think it is something a Mac user would expect.","body":"I do get both Selection and DefaultSelection events for double click. I also note that none of the standard Mac items on the tray support double click so I don&#39;t think it is something a Mac user would expect."},{"owner":{"account_id":9796447,"reputation":392,"user_id":7259317,"display_name":"A7exSchin"},"score":0,"creation_date":1695645988,"post_id":77172423,"comment_id":136048014,"body_markdown":"@greg-449 Thanks for the quick reply. If you want to check the full source, you can find it here:\nhttps://github.com/klibio/EclipseInstallationManager/blob/main/eim.tray/src/tray/impl/TrayApplication.java\n\nI want to keep the set of features for this programm completely the same for all platforms. As the double click &quot;quickaction&quot; feature is relatively important I want to enable Mac users to have this feature too.\n\nIf you have any hints on why this doesnt work properly for me, I would appreciate that greatly. (You could even download the latest release and try it out yourself)","body":"@greg-449 Thanks for the quick reply. If you want to check the full source, you can find it here: <a href=\"https://github.com/klibio/EclipseInstallationManager/blob/main/eim.tray/src/tray/impl/TrayApplication.java\" rel=\"nofollow noreferrer\">github.com/klibio/EclipseInstallationManager/blob/main/eim.t&zwnj;&#8203;ray/&hellip;</a>  I want to keep the set of features for this programm completely the same for all platforms. As the double click &quot;quickaction&quot; feature is relatively important I want to enable Mac users to have this feature too.  If you have any hints on why this doesnt work properly for me, I would appreciate that greatly. (You could even download the latest release and try it out yourself)"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1695709469,"post_id":77172423,"comment_id":136056745,"body_markdown":"Sorry, but I am not going to do that. This is all very non-standard for a Mac app. The standard behaviour for icons on the Mac Menu Bar is to display a menu on left click, possibly with an extended menu if the ⌥ (Option Key) is held down. No right click action, no double click action.","body":"Sorry, but I am not going to do that. This is all very non-standard for a Mac app. The standard behaviour for icons on the Mac Menu Bar is to display a menu on left click, possibly with an extended menu if the ⌥ (Option Key) is held down. No right click action, no double click action."},{"owner":{"account_id":9796447,"reputation":392,"user_id":7259317,"display_name":"A7exSchin"},"score":0,"creation_date":1695724252,"post_id":77172423,"comment_id":136059672,"body_markdown":"@greg-449 I can understand that. How would I react to the Option Key + Left click event then? A quick google search did not result in any valuable information.","body":"@greg-449 I can understand that. How would I react to the Option Key + Left click event then? A quick google search did not result in any valuable information."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1695726239,"post_id":77172423,"comment_id":136060080,"body_markdown":"`(event.stateMask &amp; SWT.ALT) != 0` tests the Option key being pressed in the selection listener.","body":"<code>(event.stateMask &amp; SWT.ALT) != 0</code> tests the Option key being pressed in the selection listener."},{"owner":{"account_id":9796447,"reputation":392,"user_id":7259317,"display_name":"A7exSchin"},"score":0,"creation_date":1695727057,"post_id":77172423,"comment_id":136060230,"body_markdown":"@greg-449 Thanks again, I&#39;ll try and rethink the Tray Icon Menus for MacOS. Maybe I will add the possibilities to the extended menu.","body":"@greg-449 Thanks again, I&#39;ll try and rethink the Tray Icon Menus for MacOS. Maybe I will add the possibilities to the extended menu."}],"owner":{"account_id":9796447,"reputation":392,"user_id":7259317,"display_name":"A7exSchin"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695642845,"creation_date":1695642845,"question_id":77172423,"body_markdown":"I have a somewhat simple SWT Application which creates a TrayIcon. The TrayIcon is supposed to reacht to Selection Events (single left click), MenuDetect events (single right click) and a DefaultSelection event (double left click).\r\n\r\nWhile this works fine using Windows, under MacOS only the Selection and MenuDetect events work. The DefaultSelection event does only work if you are spamming the Tray Icon like a maniac and even then not reliably - completely unusable.\r\n\r\nThe (shortened) code used is\r\n\r\n    Display display = Display.getDefault();\r\n    Shell shell = new Shell(display);\r\n    Tray tray = display.getSystemTray();\r\n    final TrayItem item = new TrayItem(tray, SWT.NONE);\r\n    \r\n    item.addListener(SWT.Selection, event -&gt; showMenu());\r\n    item.addListener(SWT.MenuDetect, event -&gt; showContextMenu());\r\n    item.addListener(SWT.DefaultSelection, event -&gt; quickAction());\r\n\r\nIs there any way to properly do this? I tried to write my own Listener for a doubleclick event, but because it is a TrayItem, I cannot add a MouseListener so I cannot stop the first function which was fired before the second one.\r\nAny idea is appreciated!\r\n\r\n","title":"Java SWT - Default Selection unusable on MacOS?","body":"<p>I have a somewhat simple SWT Application which creates a TrayIcon. The TrayIcon is supposed to reacht to Selection Events (single left click), MenuDetect events (single right click) and a DefaultSelection event (double left click).</p>\n<p>While this works fine using Windows, under MacOS only the Selection and MenuDetect events work. The DefaultSelection event does only work if you are spamming the Tray Icon like a maniac and even then not reliably - completely unusable.</p>\n<p>The (shortened) code used is</p>\n<pre><code>Display display = Display.getDefault();\nShell shell = new Shell(display);\nTray tray = display.getSystemTray();\nfinal TrayItem item = new TrayItem(tray, SWT.NONE);\n\nitem.addListener(SWT.Selection, event -&gt; showMenu());\nitem.addListener(SWT.MenuDetect, event -&gt; showContextMenu());\nitem.addListener(SWT.DefaultSelection, event -&gt; quickAction());\n</code></pre>\n<p>Is there any way to properly do this? I tried to write my own Listener for a doubleclick event, but because it is a TrayItem, I cannot add a MouseListener so I cannot stop the first function which was fired before the second one.\nAny idea is appreciated!</p>\n"},{"tags":["java","c++","libusb"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1695371777,"post_id":77155965,"comment_id":136018286,"body_markdown":"*but the problem is that I can&#39;t find a way to check or connect those two strings to see if it&#39;s the same device.* So, you need some sort of UID?","body":"<i>but the problem is that I can&#39;t find a way to check or connect those two strings to see if it&#39;s the same device.</i> So, you need some sort of UID?"},{"owner":{"account_id":9576179,"reputation":83,"user_id":7112195,"accept_rate":75,"display_name":"TerZer"},"score":0,"creation_date":1695373351,"post_id":77155965,"comment_id":136018581,"body_markdown":"Kinda, yeah. I need to get the same UID via libusb and from MF to check if this is the same device","body":"Kinda, yeah. I need to get the same UID via libusb and from MF to check if this is the same device"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1695377326,"post_id":77155965,"comment_id":136019441,"body_markdown":"I would have thought your current `serial` will give you exactly that ..?","body":"I would have thought your current <code>serial</code> will give you exactly that ..?"},{"owner":{"account_id":9576179,"reputation":83,"user_id":7112195,"accept_rate":75,"display_name":"TerZer"},"score":0,"creation_date":1695377820,"post_id":77155965,"comment_id":136019545,"body_markdown":"`serial` returns - `$Rev:0001_CID:0009011D01502130_SN:76543210$`\nsymlink returns - `\\\\?\\usb#vid_----&amp;pid_----&amp;mi_00#8&amp;20ba1d94&amp;0&amp;0000#{e5323777-f976-4f5b-9b55-b94699c46e44}\\global`\nMy current think process is to try to get the serial value from symlink somehow.","body":"<code>serial</code> returns - <code>$Rev:0001_CID:0009011D01502130_SN:76543210$</code> symlink returns - <code>\\\\?\\usb#vid_----&amp;pid_----&amp;mi_00#8&amp;20ba1d94&amp;0&amp;0000#{e5323777-&zwnj;&#8203;f976-4f5b-9b55-b9469&zwnj;&#8203;9c46e44}\\global</code> My current think process is to try to get the serial value from symlink somehow."}],"answers":[{"tags":[],"owner":{"account_id":9576179,"reputation":83,"user_id":7112195,"accept_rate":75,"display_name":"TerZer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695642080,"creation_date":1695642080,"answer_id":77172337,"question_id":77155965,"body_markdown":"So after some time, I discovered that the video streaming device is a child of the whole USB device. So this is how I get same serial number same as libusb:\r\n```\r\nCONFIGRET LocateParent(PCWSTR pszDeviceInterface, WCHAR* parentDeviceID)\r\n{\r\n    WCHAR buf[1024];\r\n\r\n    DEVPROPTYPE PropertyType;\r\n\r\n    ULONG BufferSize = sizeof(buf);\r\n\r\n    CONFIGRET err;\r\n\r\n    if (!(err = CM_Get_Device_Interface_Property(pszDeviceInterface, &amp;DEVPKEY_Device_InstanceId, &amp;PropertyType, (PBYTE)buf, &amp;BufferSize, 0))) {\r\n        if (PropertyType == DEVPROP_TYPE_STRING) {\r\n            DEVINST dnDevInst;\r\n            if (!(err = CM_Locate_DevNode(&amp;dnDevInst, buf, CM_LOCATE_DEVNODE_NORMAL))) {\r\n                // Get Parent Device ID\r\n                DEVINST devInstParent;\r\n                err = CM_Get_Parent(&amp;devInstParent, dnDevInst, 0);\r\n                if (err == CR_SUCCESS) {\r\n                    return CM_Get_Device_ID(devInstParent, parentDeviceID, 1024, 0);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            err = CR_WRONG_TYPE;\r\n        }\r\n    }\r\n    return err;\r\n}\r\n```","title":"How to connect to libusb device using symbolic link?","body":"<p>So after some time, I discovered that the video streaming device is a child of the whole USB device. So this is how I get same serial number same as libusb:</p>\n<pre><code>CONFIGRET LocateParent(PCWSTR pszDeviceInterface, WCHAR* parentDeviceID)\n{\n    WCHAR buf[1024];\n\n    DEVPROPTYPE PropertyType;\n\n    ULONG BufferSize = sizeof(buf);\n\n    CONFIGRET err;\n\n    if (!(err = CM_Get_Device_Interface_Property(pszDeviceInterface, &amp;DEVPKEY_Device_InstanceId, &amp;PropertyType, (PBYTE)buf, &amp;BufferSize, 0))) {\n        if (PropertyType == DEVPROP_TYPE_STRING) {\n            DEVINST dnDevInst;\n            if (!(err = CM_Locate_DevNode(&amp;dnDevInst, buf, CM_LOCATE_DEVNODE_NORMAL))) {\n                // Get Parent Device ID\n                DEVINST devInstParent;\n                err = CM_Get_Parent(&amp;devInstParent, dnDevInst, 0);\n                if (err == CR_SUCCESS) {\n                    return CM_Get_Device_ID(devInstParent, parentDeviceID, 1024, 0);\n                }\n            }\n        }\n        else {\n            err = CR_WRONG_TYPE;\n        }\n    }\n    return err;\n}\n</code></pre>\n"}],"owner":{"account_id":9576179,"reputation":83,"user_id":7112195,"accept_rate":75,"display_name":"TerZer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77172337,"answer_count":1,"score":0,"last_activity_date":1695642080,"creation_date":1695371132,"question_id":77155965,"body_markdown":"I have a video-streaming device that I am accessing using Microsoft Media Foundation. It has additional functionality using bulk. I want to connect to it using libusb. My problem is that I need to connect precisely to the same device as with `IMFMediaSource`. Connecting 2 same devices I can&#39;t find a way to separate them. VID and PID are the same. The only thing I have from MF is a symlink: `\\\\?\\usb#vid_----&amp;pid_----&amp;mi_00#8&amp;20ba1d94&amp;0&amp;0000#{e5323777-f976-4f5b-9b55-b94699c46e44}\\global` (removed vid and pid). With libusb using device descriptor I can read Serial: `$Rev:0001_CID:0009011D01502130_SN:76543210$`. On connected devices they are different, but the problem is that I can&#39;t find a way to check or connect those two strings to see if it&#39;s the same device.\r\nCode where I get symlink:\r\n```\r\n    IMFAttributes* pAttributes = NULL;\r\n    IMFActivate** ppDevices = NULL;\r\n\r\n    HRESULT hr = EnumerateVideoDevices(pAttributes, ppDevices, availDeviceCount);\r\n\r\n    availDevice = new Device[availDeviceCount]; // initialise empty return array\r\n\r\n    // populate return array w/ devices\r\n    for (int i = 0; i &lt; availDeviceCount; i++)\r\n    {\r\n        wchar_t* deviceFriendlyName;\r\n        UINT len = 0;\r\n\r\n        hr = ppDevices[i]-&gt;GetAllocatedString(MF_DEVSOURCE_ATTRIBUTE_FRIENDLY_NAME, &amp;deviceFriendlyName, &amp;len);\r\n        Device newDevice{ i, ToNarrow(deviceFriendlyName), NULL, 0 }; // TODO: check that change from unicode to String doesn&#39;t screw anything up (see ToNarrow, misc.h)\r\n\r\n        // retain for device change notificatios\r\n        ppDevices[i]-&gt;GetAllocatedString(MF_DEVSOURCE_ATTRIBUTE_SOURCE_TYPE_VIDCAP_SYMBOLIC_LINK,\r\n            &amp;newDevice.g_pwszSymbolicLink, &amp;newDevice.g_cchSymbolicLink);\r\n\r\n        availDevice[i] = newDevice;\r\n    }\r\n```\r\nThis is how I get serial using libusb:\r\n```\r\nString serial = LibUsb.getStringDescriptor(handle, descriptor.iSerialNumber());\r\n```","title":"How to connect to libusb device using symbolic link?","body":"<p>I have a video-streaming device that I am accessing using Microsoft Media Foundation. It has additional functionality using bulk. I want to connect to it using libusb. My problem is that I need to connect precisely to the same device as with <code>IMFMediaSource</code>. Connecting 2 same devices I can't find a way to separate them. VID and PID are the same. The only thing I have from MF is a symlink: <code>\\\\?\\usb#vid_----&amp;pid_----&amp;mi_00#8&amp;20ba1d94&amp;0&amp;0000#{e5323777-f976-4f5b-9b55-b94699c46e44}\\global</code> (removed vid and pid). With libusb using device descriptor I can read Serial: <code>$Rev:0001_CID:0009011D01502130_SN:76543210$</code>. On connected devices they are different, but the problem is that I can't find a way to check or connect those two strings to see if it's the same device.\nCode where I get symlink:</p>\n<pre><code>    IMFAttributes* pAttributes = NULL;\n    IMFActivate** ppDevices = NULL;\n\n    HRESULT hr = EnumerateVideoDevices(pAttributes, ppDevices, availDeviceCount);\n\n    availDevice = new Device[availDeviceCount]; // initialise empty return array\n\n    // populate return array w/ devices\n    for (int i = 0; i &lt; availDeviceCount; i++)\n    {\n        wchar_t* deviceFriendlyName;\n        UINT len = 0;\n\n        hr = ppDevices[i]-&gt;GetAllocatedString(MF_DEVSOURCE_ATTRIBUTE_FRIENDLY_NAME, &amp;deviceFriendlyName, &amp;len);\n        Device newDevice{ i, ToNarrow(deviceFriendlyName), NULL, 0 }; // TODO: check that change from unicode to String doesn't screw anything up (see ToNarrow, misc.h)\n\n        // retain for device change notificatios\n        ppDevices[i]-&gt;GetAllocatedString(MF_DEVSOURCE_ATTRIBUTE_SOURCE_TYPE_VIDCAP_SYMBOLIC_LINK,\n            &amp;newDevice.g_pwszSymbolicLink, &amp;newDevice.g_cchSymbolicLink);\n\n        availDevice[i] = newDevice;\n    }\n</code></pre>\n<p>This is how I get serial using libusb:</p>\n<pre><code>String serial = LibUsb.getStringDescriptor(handle, descriptor.iSerialNumber());\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","microservices"],"comments":[{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1695620075,"post_id":77169960,"comment_id":136043377,"body_markdown":"dont understand what you want to do.why the clearcache method need to make a query ? why just clear the 1st item in the result list but not the remaining ?","body":"dont understand what you want to do.why the clearcache method need to make a query ? why just clear the 1st item in the result list but not the remaining ?"},{"owner":{"account_id":5726178,"reputation":345,"user_id":4523095,"display_name":"RathanaKumar"},"score":0,"creation_date":1695621830,"post_id":77169960,"comment_id":136043562,"body_markdown":"i wanted to make the call twice . after first call the DB entry deleted and new entry gets added. during 2nd call, old data was returned since its returning from cache. so i wanted to evict the cache for the 2nd call. so that i will get the latest data. i kept the method name clearcache just for understanding.","body":"i wanted to make the call twice . after first call the DB entry deleted and new entry gets added. during 2nd call, old data was returned since its returning from cache. so i wanted to evict the cache for the 2nd call. so that i will get the latest data. i kept the method name clearcache just for understanding."},{"owner":{"account_id":5726178,"reputation":345,"user_id":4523095,"display_name":"RathanaKumar"},"score":0,"creation_date":1695625346,"post_id":77169960,"comment_id":136044055,"body_markdown":"@KenChan.       can u please help","body":"@KenChan.       can u please help"},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1695627870,"post_id":77169960,"comment_id":136044491,"body_markdown":"how many entities will be returned from that query ? So in short , you just want the `select p from  Person p` will always return the data from DB but not from the cache ?  ?","body":"how many entities will be returned from that query ? So in short , you just want the <code>select p from  Person p</code> will always return the data from DB but not from the cache ?  ?"},{"owner":{"account_id":5726178,"reputation":345,"user_id":4523095,"display_name":"RathanaKumar"},"score":0,"creation_date":1695628109,"post_id":77169960,"comment_id":136044533,"body_markdown":"Person table has only one data object... when i call the same query 2nd time i should get different person data , becoz while doing first call the person data fetched and removed from DB and a new entry will get added. so for the 2nd time , i am expecting the latest one. but it returns the older data whic was removed in the DB. hope this will give some betetr idea  @KenChan","body":"Person table has only one data object... when i call the same query 2nd time i should get different person data , becoz while doing first call the person data fetched and removed from DB and a new entry will get added. so for the 2nd time , i am expecting the latest one. but it returns the older data whic was removed in the DB. hope this will give some betetr idea  @KenChan"},{"owner":{"account_id":5726178,"reputation":345,"user_id":4523095,"display_name":"RathanaKumar"},"score":0,"creation_date":1695628799,"post_id":77169960,"comment_id":136044653,"body_markdown":"@KenChan  edited description for better understanding","body":"@KenChan  edited description for better understanding"}],"owner":{"account_id":5726178,"reputation":345,"user_id":4523095,"display_name":"RathanaKumar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695642055,"creation_date":1695617202,"question_id":77169960,"body_markdown":"My scenario is to evict the object from the hibernate primary cache. so that i can get the fresh object whenever i call the same query. i have tried evict(Obj) in my call. but still i am receiving the old object. below are my code snippet\r\n\r\nPerson Object for mapping the dataSet\r\n\r\n    @Data\r\n    Class person{\r\n    private String name;\r\n    }\r\n\r\nclearCache method used to fetch the object\r\n\r\n      main(){\r\n        clearcache()// should return person data with name rathna\r\n        clearcache()// should return person data with name kumar, but \r\n                       its returning rathna again.\r\n        \r\n     }\r\n\r\n\r\n     Person clearcache()\r\n    {\r\n     List&lt;Person&gt; pList = session.createQuery( &quot;select p from  Person p &quot;);\r\n     session.evict(pList.get(0));\r\n     return pList.get(0);\r\n     }\r\n\r\nNot sure my implementaion is correct. it is not evicting the data object in it.","title":"Hibernate Evict is not evicting the object","body":"<p>My scenario is to evict the object from the hibernate primary cache. so that i can get the fresh object whenever i call the same query. i have tried evict(Obj) in my call. but still i am receiving the old object. below are my code snippet</p>\n<p>Person Object for mapping the dataSet</p>\n<pre><code>@Data\nClass person{\nprivate String name;\n}\n</code></pre>\n<p>clearCache method used to fetch the object</p>\n<pre><code>  main(){\n    clearcache()// should return person data with name rathna\n    clearcache()// should return person data with name kumar, but \n                   its returning rathna again.\n    \n }\n\n\n Person clearcache()\n{\n List&lt;Person&gt; pList = session.createQuery( &quot;select p from  Person p &quot;);\n session.evict(pList.get(0));\n return pList.get(0);\n }\n</code></pre>\n<p>Not sure my implementaion is correct. it is not evicting the data object in it.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":29298615,"reputation":81,"user_id":22447401,"display_name":"Tony"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695641992,"creation_date":1695641992,"answer_id":77172326,"question_id":77171899,"body_markdown":"I think you could use Datasource routing. You can follow this Baeldung article : [AbstractRoutingDatasource][1]\r\n\r\nWith this you could setup your datasource depdending the properties enabled.\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-abstract-routing-data-source","title":"Disable Spring configuration by a property","body":"<p>I think you could use Datasource routing. You can follow this Baeldung article : <a href=\"https://www.baeldung.com/spring-abstract-routing-data-source\" rel=\"nofollow noreferrer\">AbstractRoutingDatasource</a></p>\n<p>With this you could setup your datasource depdending the properties enabled.</p>\n"}],"owner":{"account_id":3121211,"reputation":198,"user_id":2640934,"display_name":"gad_gadskiy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77172326,"answer_count":1,"score":1,"last_activity_date":1695641992,"creation_date":1695637999,"question_id":77171899,"body_markdown":"I have a library that should support connections to Aerospike or MariaDb, depending on the properties. It has two appropriate configs:\r\n```\r\n@Configuration(proxyBeanMethods = false)\r\n@ConditionalOnProperty(prefix = &quot;aerospike&quot;, name = &quot;enabled&quot;, havingValue = &quot;true&quot;, matchIfMissing = true)\r\npublic class AerospikeConfiguration {\r\n```\r\nand\r\n```\r\n@Configuration(proxyBeanMethods = false)\r\n@ConditionalOnProperty(prefix = &quot;mariadb&quot;, name = &quot;enabled&quot;, havingValue = &quot;true&quot;)\r\npublic class MariadbConfiguration {\r\n```\r\nand the main config, including both of them\r\n```\r\n@Configuration\r\n@EnableConfigurationProperties\r\n@Import({\r\n        AerospikeConfiguration.class, MariadbConfiguration.class, // and other\r\n})\r\npublic class MainAutoConfiguration {\r\n```\r\nAerospike separately works well, but when I include Maria with all its dependencies, it fails because of the absent `dataSource` bean.\r\n\r\nThe fastest fix is to add empty properties like `spring.datasource.url`, but I don&#39;t want to do it this way.\r\n\r\nOther options found here didn&#39;t help me:\r\n1. Add `@EnableAutoConfiguration(exclude = {DataSourceAutoConfiguration.class, DataSourceTransactionManagerAutoConfiguration.class, HibernateJpaAutoConfiguration.class})` to AerospikeConfiguration leads to the circular @Import error with MainAutoConfiguration.\r\n2. Add `exclude ` to @ SpringBootApplication - I can&#39;t do this because the application will be called on clients of my library (and I shouldn&#39;t bother them with adding some magic from the start).\r\n\r\nIs there a way to change my configs to resolve this conflict?","title":"Disable Spring configuration by a property","body":"<p>I have a library that should support connections to Aerospike or MariaDb, depending on the properties. It has two appropriate configs:</p>\n<pre><code>@Configuration(proxyBeanMethods = false)\n@ConditionalOnProperty(prefix = &quot;aerospike&quot;, name = &quot;enabled&quot;, havingValue = &quot;true&quot;, matchIfMissing = true)\npublic class AerospikeConfiguration {\n</code></pre>\n<p>and</p>\n<pre><code>@Configuration(proxyBeanMethods = false)\n@ConditionalOnProperty(prefix = &quot;mariadb&quot;, name = &quot;enabled&quot;, havingValue = &quot;true&quot;)\npublic class MariadbConfiguration {\n</code></pre>\n<p>and the main config, including both of them</p>\n<pre><code>@Configuration\n@EnableConfigurationProperties\n@Import({\n        AerospikeConfiguration.class, MariadbConfiguration.class, // and other\n})\npublic class MainAutoConfiguration {\n</code></pre>\n<p>Aerospike separately works well, but when I include Maria with all its dependencies, it fails because of the absent <code>dataSource</code> bean.</p>\n<p>The fastest fix is to add empty properties like <code>spring.datasource.url</code>, but I don't want to do it this way.</p>\n<p>Other options found here didn't help me:</p>\n<ol>\n<li>Add <code>@EnableAutoConfiguration(exclude = {DataSourceAutoConfiguration.class, DataSourceTransactionManagerAutoConfiguration.class, HibernateJpaAutoConfiguration.class})</code> to AerospikeConfiguration leads to the circular @Import error with MainAutoConfiguration.</li>\n<li>Add <code>exclude </code> to @ SpringBootApplication - I can't do this because the application will be called on clients of my library (and I shouldn't bother them with adding some magic from the start).</li>\n</ol>\n<p>Is there a way to change my configs to resolve this conflict?</p>\n"},{"tags":["java","regex","generator"],"comments":[{"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"score":1,"creation_date":1365687281,"post_id":15950113,"comment_id":22728460,"body_markdown":"+1 for question but for most regular expressions number of matching strings is unlimited. For example `[0-9]+`","body":"+1 for question but for most regular expressions number of matching strings is unlimited. For example <code>[0-9]+</code>"},{"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"score":1,"creation_date":1365687287,"post_id":15950113,"comment_id":22728464,"body_markdown":"This can only work for regexes that only admit finite-length inputs. For example, the `*` and `+` operators are out. Presumably you&#39;re OK with this?","body":"This can only work for regexes that only admit finite-length inputs. For example, the <code>*</code> and <code>+</code> operators are out. Presumably you&#39;re OK with this?"},{"owner":{"account_id":232333,"reputation":21533,"user_id":497106,"display_name":"Patashu"},"score":0,"creation_date":1365687576,"post_id":15950113,"comment_id":22728694,"body_markdown":"@NPE You don&#39;t have to generate infinitely many values to return a generator that constructs each possible result, throws it out, constructs the next, etc. Think python generators :)","body":"@NPE You don&#39;t have to generate infinitely many values to return a generator that constructs each possible result, throws it out, constructs the next, etc. Think python generators :)"},{"owner":{"account_id":10843,"reputation":330377,"user_id":20670,"accept_rate":100,"display_name":"Tim Pietzcker"},"score":2,"creation_date":1365689878,"post_id":15950113,"comment_id":22730265,"body_markdown":"Even without that limitation, you&#39;ll run into trouble pretty darn quickly. Storing all possible strings for `\\w{10}` (if `\\w` is defined as only ASCII letters/digits/underscore) will require about 43 Petabytes of storage. Enjoy.","body":"Even without that limitation, you&#39;ll run into trouble pretty darn quickly. Storing all possible strings for <code>\\w{10}</code> (if <code>\\w</code> is defined as only ASCII letters/digits/underscore) will require about 43 Petabytes of storage. Enjoy."},{"owner":{"account_id":40221,"reputation":32100,"user_id":116509,"accept_rate":100,"display_name":"artbristol"},"score":0,"creation_date":1365697380,"post_id":15950113,"comment_id":22735336,"body_markdown":"possible duplicate of [Enumerate Possible Matches of Regular Expression in Java](http://stackoverflow.com/questions/13688778/enumerate-possible-matches-of-regular-expression-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/13688778/enumerate-possible-matches-of-regular-expression-in-java\">Enumerate Possible Matches of Regular Expression in Java</a>"},{"owner":{"account_id":111132,"reputation":1851,"user_id":293735,"accept_rate":90,"display_name":"berdario"},"score":0,"creation_date":1366134594,"post_id":15950113,"comment_id":22891604,"body_markdown":"Can you please upvote the useful answers, and accept the best one? I see that you still have to accept an answer in your other month-long answer... it&#39;s not required, but as you can see SO is very limited for low-reputation users, and not everyone of us has a &gt;1000 rep score","body":"Can you please upvote the useful answers, and accept the best one? I see that you still have to accept an answer in your other month-long answer... it&#39;s not required, but as you can see SO is very limited for low-reputation users, and not everyone of us has a &gt;1000 rep score"}],"answers":[{"tags":[],"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1695641497,"creation_date":1365689586,"answer_id":15951072,"question_id":15950113,"body_markdown":"Here is am open-source generator [RegLdg][1], written in `C` language -  the regular expression grammar language dictionary generator.\r\n\r\nI believe it will be not very difficult to make a Java port of this program.\r\n\r\n\r\n  [1]: http://regldg.com","title":"Generate all valid values for a regular expression","body":"<p>Here is am open-source generator <a href=\"http://regldg.com\" rel=\"nofollow noreferrer\">RegLdg</a>, written in <code>C</code> language -  the regular expression grammar language dictionary generator.</p>\n<p>I believe it will be not very difficult to make a Java port of this program.</p>\n"},{"tags":[],"owner":{"account_id":118410,"reputation":62909,"user_id":309412,"accept_rate":74,"display_name":"Lie Ryan"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1365690739,"creation_date":1365689609,"answer_id":15951083,"question_id":15950113,"body_markdown":"A trivial implementation of such algorithm is simply:\r\n\r\n\r\n    def generate_matching(pattern):\r\n        alphabets = [...]\r\n        l = 1\r\n        while True:\r\n            # generate all Cartesian product of the alphabets of length `l`\r\n            for s in itertools.product(alphabets, repeat=l):\r\n                s = &quot;&quot;.join(s)\r\n                if pattern.match(s):\r\n                    print s\r\n            l += 1","title":"Generate all valid values for a regular expression","body":"<p>A trivial implementation of such algorithm is simply:</p>\n\n<pre><code>def generate_matching(pattern):\n    alphabets = [...]\n    l = 1\n    while True:\n        # generate all Cartesian product of the alphabets of length `l`\n        for s in itertools.product(alphabets, repeat=l):\n            s = \"\".join(s)\n            if pattern.match(s):\n                print s\n        l += 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":359943,"reputation":2697,"user_id":701653,"accept_rate":80,"display_name":"Sergiu Toarca"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1365697190,"creation_date":1365696753,"answer_id":15953778,"question_id":15950113,"body_markdown":"Finding all matches is very similar to finding a random match. Below is a simple modification of the logic that generates random matches on [www.debuggex.com][1], assuming you already have a parse tree.\r\n\r\nThe idea is that for every subtree, you return a list of all possible generated strings, given a string that was generated by all previous nodes in your parse tree.\r\n\r\n    AltTree.all = (prefix) -&gt;\r\n        rets = []\r\n        for child in children\r\n            rets.extend(child.all(prefix))\r\n\r\n    ConcatTree.all = (prefix) -&gt;\r\n        prefixes = [prefix]\r\n        for child in children\r\n            newPrefixes = []\r\n            for p in prefixes\r\n                newPrefixes.extend(child.all(p))\r\n            prefixes = newPrefixes\r\n        return prefixes\r\n            \r\n    RepeatTree.all = (prefix) -&gt;\r\n        prefixes = [prefix]\r\n        rets = []\r\n        for i up to max\r\n            newPrefixes = []\r\n            for p in prefixes\r\n                newPrefixes.extend(onlyChild.all(p))\r\n            prefixes = newPrefixes\r\n            if i &gt;= min\r\n                rets.extend(prefixes)\r\n        return rets\r\n\r\n    CharsetTree.all = (prefix) -&gt;\r\n        rets = []\r\n        for char in allValidChars():\r\n            rets.push(prefix + char)\r\n        return rets\r\n\r\nThe rest of the trees are left as exercises (most notably the literal tree). \r\n\r\nNote that there are intentionally no optimizations for the sake of clarity. Calling `myTree.all(&#39;&#39;)` will generate a list such that every valid matching string appears once **for every path that generates this string**. You will probably want to add deduplication and get rid of the excessive copying.\r\n\r\nI should also add that this will only work for regular expressions that have a *small* number of total matching strings. This is because all of the strings are being stored. If you want to get around this limitation, you can `yield`ify this algorithm. You will need to maintain a stack (think of it as being a bread crumb trail) of where you are in the tree. When a new string is asked for, you will create it from the path you travelled, and then update the path.\r\n\r\n  [1]: http://www.debuggex.com","title":"Generate all valid values for a regular expression","body":"<p>Finding all matches is very similar to finding a random match. Below is a simple modification of the logic that generates random matches on <a href=\"http://www.debuggex.com\" rel=\"nofollow\">www.debuggex.com</a>, assuming you already have a parse tree.</p>\n\n<p>The idea is that for every subtree, you return a list of all possible generated strings, given a string that was generated by all previous nodes in your parse tree.</p>\n\n<pre><code>AltTree.all = (prefix) -&gt;\n    rets = []\n    for child in children\n        rets.extend(child.all(prefix))\n\nConcatTree.all = (prefix) -&gt;\n    prefixes = [prefix]\n    for child in children\n        newPrefixes = []\n        for p in prefixes\n            newPrefixes.extend(child.all(p))\n        prefixes = newPrefixes\n    return prefixes\n\nRepeatTree.all = (prefix) -&gt;\n    prefixes = [prefix]\n    rets = []\n    for i up to max\n        newPrefixes = []\n        for p in prefixes\n            newPrefixes.extend(onlyChild.all(p))\n        prefixes = newPrefixes\n        if i &gt;= min\n            rets.extend(prefixes)\n    return rets\n\nCharsetTree.all = (prefix) -&gt;\n    rets = []\n    for char in allValidChars():\n        rets.push(prefix + char)\n    return rets\n</code></pre>\n\n<p>The rest of the trees are left as exercises (most notably the literal tree). </p>\n\n<p>Note that there are intentionally no optimizations for the sake of clarity. Calling <code>myTree.all('')</code> will generate a list such that every valid matching string appears once <strong>for every path that generates this string</strong>. You will probably want to add deduplication and get rid of the excessive copying.</p>\n\n<p>I should also add that this will only work for regular expressions that have a <em>small</em> number of total matching strings. This is because all of the strings are being stored. If you want to get around this limitation, you can <code>yield</code>ify this algorithm. You will need to maintain a stack (think of it as being a bread crumb trail) of where you are in the tree. When a new string is asked for, you will create it from the path you travelled, and then update the path.</p>\n"},{"tags":[],"owner":{"account_id":111132,"reputation":1851,"user_id":293735,"accept_rate":90,"display_name":"berdario"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1365891974,"creation_date":1365891560,"answer_id":15993563,"question_id":15950113,"body_markdown":"Since a regexp is defined by a finite state machine, I wondered if there was something out there able to automatically reason on such machines and that was a good fit to be repurposed for this work... and [clojure.core.logic delivered][1]\r\n\r\nSo, I looked at this [definition of the regexp grammar][2] (unfortunately, it lacks the {} quantifiers, but they should be pretty easy to add to my code) adapted it to the java escapes, and worked out this 110 lines long clojure program:\r\n\r\n    (ns regexp-unfolder.core\r\n      (:require [instaparse.core :as insta])\r\n      (:require [clojure.core.logic :as l])\r\n      (:require [clojure.set :refer [union difference]])\r\n      (:gen-class :methods [#^{:static true} [unfold [String] clojure.lang.LazySeq]])\r\n    )\r\n    \r\n    (def parse-regexp (insta/parser \r\n                 &quot;re = union | simple-re?\r\n                 union = re &#39;|&#39; simple-re\r\n                 simple-re = concat | base-re\r\n                 concat = simple-re base-re\r\n                 base-re = elementary-re | star | plus\r\n                 star = elementary-re &#39;*&#39;\r\n                 plus = elementary-re &#39;+&#39;\r\n                 elementary-re = group | char | &#39;$&#39; | any | set\r\n                 any = &#39;.&#39;\r\n                 group = &#39;(&#39; re &#39;)&#39;\r\n                 set = positive-set | negative-set\r\n                 positive-set = &#39;[&#39;  set-items &#39;]&#39;\r\n                 negative-set = &#39;[^&#39; set-items &#39;]&#39;\r\n                 set-items = set-item*\r\n                 set-item = range | char\r\n                 range = char &#39;-&#39; char\r\n                 char = #&#39;[^\\\\\\\\\\\\-\\\\[\\\\]]|\\\\.&#39;&quot; ))\r\n    \r\n    (def printables (set (map char (range 32 127))))\r\n    \r\n    (declare fns handle-first)\r\n    \r\n    (defn handle-tree [q qto [ type &amp; nodes]]\r\n      (if (nil? nodes)\r\n        [[q [&quot;&quot;] qto]]\r\n        ((fns type handle-first) q qto nodes)))\r\n    \r\n    (defn star [q qto node &amp;]\r\n      (cons [q [&quot;&quot;] qto]\r\n             (handle-tree q q (first node))))\r\n    \r\n    (defn plus [q qto node &amp;] \r\n      (concat (handle-tree q qto (first node))\r\n              (handle-tree qto qto (first node))))\r\n    \r\n    (defn any-char [q qto &amp; _] [[q (vec printables) qto]] )\r\n    \r\n    (defn char-range [[c1 _ c2]]\r\n      (let [extract-char (comp int first seq second)]\r\n        (set (map char (range (extract-char c1) (inc (extract-char c2)))))))\r\n    \r\n    (defn items [nodes]\r\n      (union (mapcat\r\n        (fn [[_ [type &amp; ns]]]\r\n          (if (= type :char)\r\n            #{(first ns)}        \r\n            (char-range ns)))\r\n        (rest (second nodes)))))\r\n    \r\n    (defn handle-set [q qto node &amp;] [[q (vec (items node)) qto]])\r\n    \r\n    (defn handle-negset [q qto node &amp;] [[q (vec (difference printables (items node))) qto]])\r\n    \r\n    (defn handle-range [q qto &amp; nodes] [[q (vec (char-range nodes)) qto]])\r\n    \r\n    (defn handle-char [q qto node &amp;] [[q (vec node) qto]] )\r\n    \r\n    (defn handle-concat [q qto nodes] \r\n      (let [syms (for [x  (rest nodes)] (gensym q))]\r\n        (mapcat handle-tree  (cons q syms) (concat syms [qto] ) nodes)\r\n      ))\r\n    \r\n    (defn handle-first [q qto [node &amp; _]] (handle-tree q qto node))\r\n    \r\n    (def fns {:concat handle-concat, :star star, :plus plus, :any any-char, :positive-set handle-set, :negative-set handle-negset, :char handle-char})\r\n    \r\n    (l/defne transition-membero\r\n      [state trans newstate otransition]\r\n      ([_ _ _ [state trans-set newstate]]\r\n         (l/membero trans trans-set)))\r\n     \r\n    (defn transitiono [state trans newstate transitions]\r\n      (l/conde\r\n       [(l/fresh [f] \r\n                 (l/firsto transitions f)\r\n                 (transition-membero state trans newstate f))]\r\n       [(l/fresh [r]\r\n                 (l/resto transitions r)\r\n                 (transitiono state trans newstate r))])\r\n      )\r\n    \r\n    (declare transitions)\r\n     \r\n    ;; Recognize a regexp finite state machine encoded in triplets [state, transition, next-state], adapted from a snippet made by Peteris Erins\r\n    \r\n    (defn recognizeo\r\n      ([input]\r\n         (recognizeo &#39;q0 input))\r\n      ([q input]\r\n         (l/matche [input] ; start pattern matching on the input\r\n            ([&#39;(&quot;&quot;)]\r\n               (l/== q &#39;ok)) ; accept the empty string if we are in an accepting state\r\n            ([[i . nput]]\r\n               (l/fresh [qto]\r\n                      (transitiono q i qto transitions) ; assert it must be what we transition to qto from q with input symbol i\r\n                      (recognizeo qto nput)))))) ; recognize the remainder\r\n     \r\n    \r\n    (defn -unfold [regex] \r\n      (def transitions \r\n        (handle-tree &#39;q0 &#39;ok (parse-regexp regex)))\r\n      (map (partial apply str) (l/run* [q] (recognizeo q))))\r\n\r\nBeing written with core.logic, it should be fairly easy to adapt it to work also as a regexp matcher\r\n\r\nI limited the printables characters from 32 to 126 ascii, otherwise it&#39;d be too cumbersome to deal with regexps such as `[^c]`, but you can extend it quite easily... also, I haven&#39;t implemented yet unions, optional patterns, and the \\w, \\s, etc. escapes for character classes\r\n\r\nThis is the biggest thing I wrote in clojure up to now, but the basics seems to be covered just fine... some examples:\r\n\r\n    regexp-unfolder.core=&gt; (-unfold &quot;ba[rz]&quot;)\r\n    (&quot;bar&quot; &quot;baz&quot;)\r\n    regexp-unfolder.core=&gt; (-unfold &quot;[a-z3-7]&quot;)\r\n    (&quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; &quot;e&quot; &quot;f&quot; &quot;g&quot; &quot;h&quot; &quot;i&quot; &quot;j&quot; &quot;k&quot; &quot;l&quot; &quot;m&quot; &quot;n&quot; &quot;o&quot; &quot;p&quot; &quot;q&quot; &quot;r&quot; &quot;s&quot; &quot;t&quot; &quot;u&quot; &quot;v&quot; &quot;w&quot; &quot;x&quot; &quot;y&quot; &quot;z&quot; &quot;3&quot; &quot;4&quot; &quot;5&quot; &quot;6&quot; &quot;7&quot;)\r\n    regexp-unfolder.core=&gt; (-unfold &quot;[a-z3-7][01]&quot;)\r\n    (&quot;a0&quot; &quot;a1&quot; &quot;b0&quot; &quot;b1&quot; &quot;c0&quot; &quot;c1&quot; &quot;d0&quot; &quot;d1&quot; &quot;e0&quot; &quot;e1&quot; &quot;f0&quot; &quot;f1&quot; &quot;g0&quot; &quot;g1&quot; &quot;h0&quot; &quot;h1&quot; &quot;i0&quot; &quot;i1&quot; &quot;j0&quot; &quot;j1&quot; &quot;k0&quot; &quot;k1&quot; &quot;l0&quot; &quot;l1&quot; &quot;m0&quot; &quot;m1&quot; &quot;n0&quot; &quot;n1&quot; &quot;o0&quot; &quot;o1&quot; &quot;p0&quot; &quot;p1&quot; &quot;q0&quot; &quot;q1&quot; &quot;r0&quot; &quot;r1&quot; &quot;s0&quot; &quot;s1&quot; &quot;t0&quot; &quot;t1&quot; &quot;u0&quot; &quot;u1&quot; &quot;v0&quot; &quot;v1&quot; &quot;w0&quot; &quot;w1&quot; &quot;x0&quot; &quot;x1&quot; &quot;y0&quot; &quot;y1&quot; &quot;z0&quot; &quot;z1&quot; &quot;30&quot; &quot;31&quot; &quot;40&quot; &quot;41&quot; &quot;50&quot; &quot;51&quot; &quot;60&quot; &quot;70&quot; &quot;61&quot; &quot;71&quot;)\r\n    regexp-unfolder.core=&gt; (-unfold &quot;[^A-z]&quot;)\r\n    (&quot; &quot; &quot;@&quot; &quot;!&quot; &quot;\\&quot;&quot; &quot;#&quot; &quot;$&quot; &quot;%&quot; &quot;&amp;&quot; &quot;&#39;&quot; &quot;(&quot; &quot;)&quot; &quot;*&quot; &quot;+&quot; &quot;,&quot; &quot;-&quot; &quot;.&quot; &quot;/&quot; &quot;0&quot; &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; &quot;5&quot; &quot;6&quot; &quot;7&quot; &quot;8&quot; &quot;9&quot; &quot;:&quot; &quot;;&quot; &quot;{&quot; &quot;&lt;&quot; &quot;|&quot; &quot;=&quot; &quot;}&quot; &quot;&gt;&quot; &quot;~&quot; &quot;?&quot;)\r\n    regexp-unfolder.core=&gt; (take 20 (-unfold &quot;[abc]*&quot;))\r\n    (&quot;&quot; &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;aa&quot; &quot;ab&quot; &quot;ac&quot; &quot;ba&quot; &quot;ca&quot; &quot;aaa&quot; &quot;bb&quot; &quot;cb&quot; &quot;aab&quot; &quot;bc&quot; &quot;cc&quot; &quot;aac&quot; &quot;aba&quot; &quot;aca&quot; &quot;baa&quot; &quot;caa&quot;)\r\n    regexp-unfolder.core=&gt; (take 20 (-unfold &quot;a+b+&quot;))\r\n    (&quot;ab&quot; &quot;aab&quot; &quot;abb&quot; &quot;abbb&quot; &quot;aaab&quot; &quot;abbbb&quot; &quot;aabb&quot; &quot;abbbbb&quot; &quot;abbbbbb&quot; &quot;aabbb&quot; &quot;abbbbbbb&quot; &quot;abbbbbbbb&quot; &quot;aaaab&quot; &quot;aabbbb&quot; &quot;aaabb&quot; &quot;abbbbbbbbb&quot; &quot;abbbbbbbbbb&quot; &quot;aabbbbb&quot; &quot;abbbbbbbbbbb&quot; &quot;abbbbbbbbbbbb&quot;)\r\n\r\nSince I started this way, I implemented also infinite outputs :)\r\n\r\nIf someone is interested, I [uploaded it here][3]\r\n\r\nand obviously, here&#39;s an example of how to invoke `unfold` from plain old Java:\r\n\r\n\r\n    import static regexp_unfolder.core.unfold;\r\n    \r\n    public class UnfolderExample{\r\n    \tpublic static void main(String[] args){\r\n    \t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \t\tIterable&lt;String&gt; strings = unfold(&quot;a+b+&quot;);\r\n    \t\tfor (String s : strings){\r\n    \t\t\tSystem.out.println(s);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://gist.github.com/Pet3ris/1676242\r\n  [2]: http://www.cs.sfu.ca/~cameron/Teaching/384/99-3/regexp-plg.html\r\n  [3]: https://launchpad.net/regexp-unfolder","title":"Generate all valid values for a regular expression","body":"<p>Since a regexp is defined by a finite state machine, I wondered if there was something out there able to automatically reason on such machines and that was a good fit to be repurposed for this work... and <a href=\"https://gist.github.com/Pet3ris/1676242\" rel=\"noreferrer\">clojure.core.logic delivered</a></p>\n\n<p>So, I looked at this <a href=\"http://www.cs.sfu.ca/~cameron/Teaching/384/99-3/regexp-plg.html\" rel=\"noreferrer\">definition of the regexp grammar</a> (unfortunately, it lacks the {} quantifiers, but they should be pretty easy to add to my code) adapted it to the java escapes, and worked out this 110 lines long clojure program:</p>\n\n<pre><code>(ns regexp-unfolder.core\n  (:require [instaparse.core :as insta])\n  (:require [clojure.core.logic :as l])\n  (:require [clojure.set :refer [union difference]])\n  (:gen-class :methods [#^{:static true} [unfold [String] clojure.lang.LazySeq]])\n)\n\n(def parse-regexp (insta/parser \n             \"re = union | simple-re?\n             union = re '|' simple-re\n             simple-re = concat | base-re\n             concat = simple-re base-re\n             base-re = elementary-re | star | plus\n             star = elementary-re '*'\n             plus = elementary-re '+'\n             elementary-re = group | char | '$' | any | set\n             any = '.'\n             group = '(' re ')'\n             set = positive-set | negative-set\n             positive-set = '['  set-items ']'\n             negative-set = '[^' set-items ']'\n             set-items = set-item*\n             set-item = range | char\n             range = char '-' char\n             char = #'[^\\\\\\\\\\\\-\\\\[\\\\]]|\\\\.'\" ))\n\n(def printables (set (map char (range 32 127))))\n\n(declare fns handle-first)\n\n(defn handle-tree [q qto [ type &amp; nodes]]\n  (if (nil? nodes)\n    [[q [\"\"] qto]]\n    ((fns type handle-first) q qto nodes)))\n\n(defn star [q qto node &amp;]\n  (cons [q [\"\"] qto]\n         (handle-tree q q (first node))))\n\n(defn plus [q qto node &amp;] \n  (concat (handle-tree q qto (first node))\n          (handle-tree qto qto (first node))))\n\n(defn any-char [q qto &amp; _] [[q (vec printables) qto]] )\n\n(defn char-range [[c1 _ c2]]\n  (let [extract-char (comp int first seq second)]\n    (set (map char (range (extract-char c1) (inc (extract-char c2)))))))\n\n(defn items [nodes]\n  (union (mapcat\n    (fn [[_ [type &amp; ns]]]\n      (if (= type :char)\n        #{(first ns)}        \n        (char-range ns)))\n    (rest (second nodes)))))\n\n(defn handle-set [q qto node &amp;] [[q (vec (items node)) qto]])\n\n(defn handle-negset [q qto node &amp;] [[q (vec (difference printables (items node))) qto]])\n\n(defn handle-range [q qto &amp; nodes] [[q (vec (char-range nodes)) qto]])\n\n(defn handle-char [q qto node &amp;] [[q (vec node) qto]] )\n\n(defn handle-concat [q qto nodes] \n  (let [syms (for [x  (rest nodes)] (gensym q))]\n    (mapcat handle-tree  (cons q syms) (concat syms [qto] ) nodes)\n  ))\n\n(defn handle-first [q qto [node &amp; _]] (handle-tree q qto node))\n\n(def fns {:concat handle-concat, :star star, :plus plus, :any any-char, :positive-set handle-set, :negative-set handle-negset, :char handle-char})\n\n(l/defne transition-membero\n  [state trans newstate otransition]\n  ([_ _ _ [state trans-set newstate]]\n     (l/membero trans trans-set)))\n\n(defn transitiono [state trans newstate transitions]\n  (l/conde\n   [(l/fresh [f] \n             (l/firsto transitions f)\n             (transition-membero state trans newstate f))]\n   [(l/fresh [r]\n             (l/resto transitions r)\n             (transitiono state trans newstate r))])\n  )\n\n(declare transitions)\n\n;; Recognize a regexp finite state machine encoded in triplets [state, transition, next-state], adapted from a snippet made by Peteris Erins\n\n(defn recognizeo\n  ([input]\n     (recognizeo 'q0 input))\n  ([q input]\n     (l/matche [input] ; start pattern matching on the input\n        (['(\"\")]\n           (l/== q 'ok)) ; accept the empty string if we are in an accepting state\n        ([[i . nput]]\n           (l/fresh [qto]\n                  (transitiono q i qto transitions) ; assert it must be what we transition to qto from q with input symbol i\n                  (recognizeo qto nput)))))) ; recognize the remainder\n\n\n(defn -unfold [regex] \n  (def transitions \n    (handle-tree 'q0 'ok (parse-regexp regex)))\n  (map (partial apply str) (l/run* [q] (recognizeo q))))\n</code></pre>\n\n<p>Being written with core.logic, it should be fairly easy to adapt it to work also as a regexp matcher</p>\n\n<p>I limited the printables characters from 32 to 126 ascii, otherwise it'd be too cumbersome to deal with regexps such as <code>[^c]</code>, but you can extend it quite easily... also, I haven't implemented yet unions, optional patterns, and the \\w, \\s, etc. escapes for character classes</p>\n\n<p>This is the biggest thing I wrote in clojure up to now, but the basics seems to be covered just fine... some examples:</p>\n\n<pre><code>regexp-unfolder.core=&gt; (-unfold \"ba[rz]\")\n(\"bar\" \"baz\")\nregexp-unfolder.core=&gt; (-unfold \"[a-z3-7]\")\n(\"a\" \"b\" \"c\" \"d\" \"e\" \"f\" \"g\" \"h\" \"i\" \"j\" \"k\" \"l\" \"m\" \"n\" \"o\" \"p\" \"q\" \"r\" \"s\" \"t\" \"u\" \"v\" \"w\" \"x\" \"y\" \"z\" \"3\" \"4\" \"5\" \"6\" \"7\")\nregexp-unfolder.core=&gt; (-unfold \"[a-z3-7][01]\")\n(\"a0\" \"a1\" \"b0\" \"b1\" \"c0\" \"c1\" \"d0\" \"d1\" \"e0\" \"e1\" \"f0\" \"f1\" \"g0\" \"g1\" \"h0\" \"h1\" \"i0\" \"i1\" \"j0\" \"j1\" \"k0\" \"k1\" \"l0\" \"l1\" \"m0\" \"m1\" \"n0\" \"n1\" \"o0\" \"o1\" \"p0\" \"p1\" \"q0\" \"q1\" \"r0\" \"r1\" \"s0\" \"s1\" \"t0\" \"t1\" \"u0\" \"u1\" \"v0\" \"v1\" \"w0\" \"w1\" \"x0\" \"x1\" \"y0\" \"y1\" \"z0\" \"z1\" \"30\" \"31\" \"40\" \"41\" \"50\" \"51\" \"60\" \"70\" \"61\" \"71\")\nregexp-unfolder.core=&gt; (-unfold \"[^A-z]\")\n(\" \" \"@\" \"!\" \"\\\"\" \"#\" \"$\" \"%\" \"&amp;\" \"'\" \"(\" \")\" \"*\" \"+\" \",\" \"-\" \".\" \"/\" \"0\" \"1\" \"2\" \"3\" \"4\" \"5\" \"6\" \"7\" \"8\" \"9\" \":\" \";\" \"{\" \"&lt;\" \"|\" \"=\" \"}\" \"&gt;\" \"~\" \"?\")\nregexp-unfolder.core=&gt; (take 20 (-unfold \"[abc]*\"))\n(\"\" \"a\" \"b\" \"c\" \"aa\" \"ab\" \"ac\" \"ba\" \"ca\" \"aaa\" \"bb\" \"cb\" \"aab\" \"bc\" \"cc\" \"aac\" \"aba\" \"aca\" \"baa\" \"caa\")\nregexp-unfolder.core=&gt; (take 20 (-unfold \"a+b+\"))\n(\"ab\" \"aab\" \"abb\" \"abbb\" \"aaab\" \"abbbb\" \"aabb\" \"abbbbb\" \"abbbbbb\" \"aabbb\" \"abbbbbbb\" \"abbbbbbbb\" \"aaaab\" \"aabbbb\" \"aaabb\" \"abbbbbbbbb\" \"abbbbbbbbbb\" \"aabbbbb\" \"abbbbbbbbbbb\" \"abbbbbbbbbbbb\")\n</code></pre>\n\n<p>Since I started this way, I implemented also infinite outputs :)</p>\n\n<p>If someone is interested, I <a href=\"https://launchpad.net/regexp-unfolder\" rel=\"noreferrer\">uploaded it here</a></p>\n\n<p>and obviously, here's an example of how to invoke <code>unfold</code> from plain old Java:</p>\n\n<pre><code>import static regexp_unfolder.core.unfold;\n\npublic class UnfolderExample{\n    public static void main(String[] args){\n        @SuppressWarnings(\"unchecked\")\n        Iterable&lt;String&gt; strings = unfold(\"a+b+\");\n        for (String s : strings){\n            System.out.println(s);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2464835,"reputation":785,"user_id":2148176,"accept_rate":50,"display_name":"Eve"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4728,"favorite_count":0,"down_vote_count":1,"up_vote_count":20,"accepted_answer_id":15993563,"answer_count":4,"score":19,"last_activity_date":1695641497,"creation_date":1365687026,"question_id":15950113,"body_markdown":"I know by using Xeger, we can get a random value for a specified pattern.\r\n\r\n    String regex = &quot;[0-9]{2}&quot;; \r\n    Xeger generator = new Xeger(regex);\r\n    String result = generator.generate();\r\n\r\nI want to know is there a way to return all of the valid strings for the specified regex. For example, for pattern: `[0-9]{2}`, we can get all of the values from `00` to `99`.\r\n\r\nThanks\r\n\r\nEdit:\r\n\r\nHere we don&#39;t consider the infinite outputs like + and *; how can we get all values for a finite regex?\r\n\r\nLast edit:\r\n\r\nThanks everyone! Finally I don&#39;t consider all the possible values as there may be thousands. I limit a specific number as the number of values to reduce the amount.","title":"Generate all valid values for a regular expression","body":"<p>I know by using Xeger, we can get a random value for a specified pattern.</p>\n\n<pre><code>String regex = \"[0-9]{2}\"; \nXeger generator = new Xeger(regex);\nString result = generator.generate();\n</code></pre>\n\n<p>I want to know is there a way to return all of the valid strings for the specified regex. For example, for pattern: <code>[0-9]{2}</code>, we can get all of the values from <code>00</code> to <code>99</code>.</p>\n\n<p>Thanks</p>\n\n<p>Edit:</p>\n\n<p>Here we don't consider the infinite outputs like + and *; how can we get all values for a finite regex?</p>\n\n<p>Last edit:</p>\n\n<p>Thanks everyone! Finally I don't consider all the possible values as there may be thousands. I limit a specific number as the number of values to reduce the amount.</p>\n"},{"tags":["java","alpine-linux","inetaddress","libnet"],"comments":[{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1695642025,"post_id":77172263,"comment_id":136047236,"body_markdown":"I suggest opening a bug to Alpine.","body":"I suggest opening a bug to Alpine."},{"owner":{"account_id":10198646,"reputation":33,"user_id":7529717,"display_name":"Daniel Stefanik"},"score":0,"creation_date":1695979308,"post_id":77172263,"comment_id":136098163,"body_markdown":"Created [Alpine issue](https://gitlab.alpinelinux.org/alpine/aports/-/issues/15320).","body":"Created <a href=\"https://gitlab.alpinelinux.org/alpine/aports/-/issues/15320\" rel=\"nofollow noreferrer\">Alpine issue</a>."}],"owner":{"account_id":10198646,"reputation":33,"user_id":7529717,"display_name":"Daniel Stefanik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695641343,"creation_date":1695641343,"question_id":77172263,"body_markdown":"I&#39;m using:\r\n\r\n- Docker image: `alpine:3.18.3`,\r\n- Java: `openjdk11-jre`:\r\n\r\n```\r\nopenjdk version &quot;11.0.20&quot; 2023-07-18\r\nOpenJDK Runtime Environment (build 11.0.20+8-alpine-r0)\r\nOpenJDK 64-Bit Server VM (build 11.0.20+8-alpine-r0, mixed mode)\r\n```\r\n\r\n#### Problem description:\r\n\r\nWhen I try to use `java.net.InetAddress#getAllByName` to get all IP addresses for host with more than 63 addresses I&#39;m getting exception:\r\n\r\n```\r\njava.net.UnknownHostException: 70ips.test-domain.com: Name has no usable address\r\n    at java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method)\r\n    at java.base/java.net.InetAddress$PlatformNameService.lookupAllHostAddr(InetAddress.java:930)\r\n    at java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1543)\r\n    at java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:848)\r\n    at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1533)\r\n    at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1386)\r\n    at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1307)\r\n    at com.issue.Main.main(Main.java:27)\r\n```\r\n\r\nIt looks that the native implementation of `java.net.InetAddress#getAllByName` in `libnet` is failing.\r\nI encountered this problem only for Alpine image. For other Linux distribution (e.g. Ubuntu) it seems that there is no such a problem. The problem does not appear when the host is resolved for less than 64 IP addresses.\r\n\r\n#### Reproduce the problem:\r\n\r\n1. Create record of type `A` using Route 53 in AWS [see documentation](https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/resource-record-sets-creating.html) with host `70ips.test-domain.com` and 70 IPs as a value;\r\n2. Create Java code which resolves IP addresses for that host:\r\n\r\n   ```java\r\n   import java.net.InetAddress;\r\n   import java.net.UnknownHostException;\r\n   import java.util.Arrays;\r\n   import java.util.stream.Collectors;\r\n   \r\n   public class TestApp {\r\n   \r\n     public static void main(String[] args) throws UnknownHostException {\r\n       final String host = &quot;70ips.test-domain.com&quot;;\r\n   \r\n       final InetAddress[] all = InetAddress.getAllByName(host);\r\n   \r\n       printResults(all, host);\r\n     }\r\n   \r\n     private static void printResults(InetAddress[] all, String host) {\r\n       final String addressesAsString = Arrays.stream(all)\r\n         .map(InetAddress::getHostAddress)\r\n         .collect(Collectors.joining(&quot;, &quot;, &quot;\\n&quot;, &quot;&quot;));\r\n       final String msg = String.format(\r\n         &quot;URL: &#39;%s&#39;. InetAddresses[%s]: %s&quot;,\r\n         host,\r\n         all.length,\r\n         addressesAsString\r\n       );\r\n       System.out.println(msg);\r\n     }\r\n   }\r\n   ```\r\n3. Create Docker image based on Alpine image using Dockerfile like:\r\n\r\n   ```dockerfile\r\n   FROM alpine:3.18.3\r\n   RUN sed -ie &quot;s/https/http/g&quot; /etc/apk/repositories\r\n   RUN apk add \\\r\n         --no-cache \\\r\n         --repository http://dl-cdn.alpinelinux.org/alpine/v3.14/main \\\r\n         ca-certificates\r\n   RUN apk add openjdk11-jre\r\n   COPY target/app-jar-with-dependencies.jar app.jar\r\n   CMD [&quot;sh&quot;, &quot;-c&quot;, &quot;exec java -jar app.jar&quot;]\r\n   ```\r\n4. Run the docker container using command: `docker run &lt;image_name&gt;`;\r\n5. In logs there will be exception:\r\n\r\n   ```\r\n   java.net.UnknownHostException: 70ips.test-domain.com: Name has no usable address\r\n       at java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method)\r\n       at java.base/java.net.InetAddress$PlatformNameService.lookupAllHostAddr(InetAddress.java:930)\r\n       at java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1543)\r\n       at java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:848)\r\n       at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1533)\r\n       at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1386)\r\n       at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1307)\r\n       at com.issue.Main.main(Main.java:27)\r\n   ```\r\n\r\n#### Questions:\r\n\r\n1. Is 63 IP addresses some known limitation?\r\n2. Do you know how can I fix the issue?\r\n\r\n#### Expected and actual outcome:\r\n\r\nI tried to use `java.net.InetAddress#getAllByName` to get all IP addresses for host with more than 63 addresses. I expected to get the array of IP addresses for given host. Actually I got exception `java.net.UnknownHostException` with &quot;Name has no usable address&quot; message.","title":"Alpine image unable to resolve more than 63 IP addresses for domain (`java.net.InetAddress`)","body":"<p>I'm using:</p>\n<ul>\n<li>Docker image: <code>alpine:3.18.3</code>,</li>\n<li>Java: <code>openjdk11-jre</code>:</li>\n</ul>\n<pre><code>openjdk version &quot;11.0.20&quot; 2023-07-18\nOpenJDK Runtime Environment (build 11.0.20+8-alpine-r0)\nOpenJDK 64-Bit Server VM (build 11.0.20+8-alpine-r0, mixed mode)\n</code></pre>\n<h4>Problem description:</h4>\n<p>When I try to use <code>java.net.InetAddress#getAllByName</code> to get all IP addresses for host with more than 63 addresses I'm getting exception:</p>\n<pre><code>java.net.UnknownHostException: 70ips.test-domain.com: Name has no usable address\n    at java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method)\n    at java.base/java.net.InetAddress$PlatformNameService.lookupAllHostAddr(InetAddress.java:930)\n    at java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1543)\n    at java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:848)\n    at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1533)\n    at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1386)\n    at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1307)\n    at com.issue.Main.main(Main.java:27)\n</code></pre>\n<p>It looks that the native implementation of <code>java.net.InetAddress#getAllByName</code> in <code>libnet</code> is failing.\nI encountered this problem only for Alpine image. For other Linux distribution (e.g. Ubuntu) it seems that there is no such a problem. The problem does not appear when the host is resolved for less than 64 IP addresses.</p>\n<h4>Reproduce the problem:</h4>\n<ol>\n<li><p>Create record of type <code>A</code> using Route 53 in AWS <a href=\"https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/resource-record-sets-creating.html\" rel=\"nofollow noreferrer\">see documentation</a> with host <code>70ips.test-domain.com</code> and 70 IPs as a value;</p>\n</li>\n<li><p>Create Java code which resolves IP addresses for that host:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.net.InetAddress;\nimport java.net.UnknownHostException;\nimport java.util.Arrays;\nimport java.util.stream.Collectors;\n\npublic class TestApp {\n\n  public static void main(String[] args) throws UnknownHostException {\n    final String host = &quot;70ips.test-domain.com&quot;;\n\n    final InetAddress[] all = InetAddress.getAllByName(host);\n\n    printResults(all, host);\n  }\n\n  private static void printResults(InetAddress[] all, String host) {\n    final String addressesAsString = Arrays.stream(all)\n      .map(InetAddress::getHostAddress)\n      .collect(Collectors.joining(&quot;, &quot;, &quot;\\n&quot;, &quot;&quot;));\n    final String msg = String.format(\n      &quot;URL: '%s'. InetAddresses[%s]: %s&quot;,\n      host,\n      all.length,\n      addressesAsString\n    );\n    System.out.println(msg);\n  }\n}\n</code></pre>\n</li>\n<li><p>Create Docker image based on Alpine image using Dockerfile like:</p>\n<pre><code>FROM alpine:3.18.3\nRUN sed -ie &quot;s/https/http/g&quot; /etc/apk/repositories\nRUN apk add \\\n      --no-cache \\\n      --repository http://dl-cdn.alpinelinux.org/alpine/v3.14/main \\\n      ca-certificates\nRUN apk add openjdk11-jre\nCOPY target/app-jar-with-dependencies.jar app.jar\nCMD [&quot;sh&quot;, &quot;-c&quot;, &quot;exec java -jar app.jar&quot;]\n</code></pre>\n</li>\n<li><p>Run the docker container using command: <code>docker run &lt;image_name&gt;</code>;</p>\n</li>\n<li><p>In logs there will be exception:</p>\n<pre><code>java.net.UnknownHostException: 70ips.test-domain.com: Name has no usable address\n    at java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method)\n    at java.base/java.net.InetAddress$PlatformNameService.lookupAllHostAddr(InetAddress.java:930)\n    at java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1543)\n    at java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:848)\n    at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1533)\n    at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1386)\n    at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1307)\n    at com.issue.Main.main(Main.java:27)\n</code></pre>\n</li>\n</ol>\n<h4>Questions:</h4>\n<ol>\n<li>Is 63 IP addresses some known limitation?</li>\n<li>Do you know how can I fix the issue?</li>\n</ol>\n<h4>Expected and actual outcome:</h4>\n<p>I tried to use <code>java.net.InetAddress#getAllByName</code> to get all IP addresses for host with more than 63 addresses. I expected to get the array of IP addresses for given host. Actually I got exception <code>java.net.UnknownHostException</code> with &quot;Name has no usable address&quot; message.</p>\n"},{"tags":["java","multithreading","asynchronous","heap-memory"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695627421,"post_id":77170569,"comment_id":136044404,"body_markdown":"How many ids are you operating on?","body":"How many ids are you operating on?"},{"owner":{"account_id":29505823,"reputation":19,"user_id":22611816,"display_name":"Shreya Aggarwal"},"score":0,"creation_date":1695628783,"post_id":77170569,"comment_id":136044649,"body_markdown":"@M.Deinum the no of ids can be variable however for testing purposes I am using 11 ids . When I do this sequentially the performance is better compared to when using this approach . I tried by changing the core and max pool size to 4 , it does work then but the performance is even slow compared to sequential processing","body":"@M.Deinum the no of ids can be variable however for testing purposes I am using 11 ids . When I do this sequentially the performance is better compared to when using this approach . I tried by changing the core and max pool size to 4 , it does work then but the performance is even slow compared to sequential processing"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695629014,"post_id":77170569,"comment_id":136044691,"body_markdown":"Then either your heap size is way too small or you are creating and retaining a lot of objects in memory (without knowing what your `ShopifyBulkSyncCoupons` does this would be impossible to answer. Instead of calling `run` you might be even better of making `ShopifyBulkSyncCoupons` a `Runnable` and create a constructor for the `id` saves you a bit of code and an anonymous class. Also `@Async` on an controller is a bit weird and doesn&#39;t add anything here. This also feels dangerous as the `ShopifyBulkSyncCoupons` seems to be a singleton that gets replaced in-flight.","body":"Then either your heap size is way too small or you are creating and retaining a lot of objects in memory (without knowing what your <code>ShopifyBulkSyncCoupons</code> does this would be impossible to answer. Instead of calling <code>run</code> you might be even better of making <code>ShopifyBulkSyncCoupons</code> a <code>Runnable</code> and create a constructor for the <code>id</code> saves you a bit of code and an anonymous class. Also <code>@Async</code> on an controller is a bit weird and doesn&#39;t add anything here. This also feels dangerous as the <code>ShopifyBulkSyncCoupons</code> seems to be a singleton that gets replaced in-flight."},{"owner":{"account_id":29505823,"reputation":19,"user_id":22611816,"display_name":"Shreya Aggarwal"},"score":0,"creation_date":1695629211,"post_id":77170569,"comment_id":136044725,"body_markdown":"@M.Deinum my ShopifyBulkSyncCoupons class does implement Runnable .","body":"@M.Deinum my ShopifyBulkSyncCoupons class does implement Runnable ."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1695629382,"post_id":77170569,"comment_id":136044749,"body_markdown":"I find this `ShopifyBulkSyncCoupons task = shopifyBulkSyncCoupons;` dangerous. As it re-assigns values to a singleton instance of `ShopifyBulkSyncCoupons` in a multi-threaded environment. This is trouble waiting to happen. I would expect something like `new ShopifyBylkSyncCoupons(id);` which wouldn&#39;t need a call to `run` either. But as stated, you either have a very low memory settings or are retaining a lot of object for too long. Please add `ShopifyBulkSyncCoupons` to your question.","body":"I find this <code>ShopifyBulkSyncCoupons task = shopifyBulkSyncCoupons;</code> dangerous. As it re-assigns values to a singleton instance of <code>ShopifyBulkSyncCoupons</code> in a multi-threaded environment. This is trouble waiting to happen. I would expect something like <code>new ShopifyBylkSyncCoupons(id);</code> which wouldn&#39;t need a call to <code>run</code> either. But as stated, you either have a very low memory settings or are retaining a lot of object for too long. Please add <code>ShopifyBulkSyncCoupons</code> to your question."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695640494,"post_id":77170569,"comment_id":136046923,"body_markdown":"Why are you creating a new service, that feels wrong, there is also no autowired field, so it feels like dumbed down code instead of oactual code.","body":"Why are you creating a new service, that feels wrong, there is also no autowired field, so it feels like dumbed down code instead of oactual code."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695640797,"creation_date":1695630873,"answer_id":77171060,"question_id":77170569,"body_markdown":"**NOTE:** This answer is sort of a work-in-progress. \r\n\r\nIssues with the code:\r\n\r\n1. `@Async` on the controller method, which should be on a service method (including the code in the controller) or properly utilize the async servlet API. \r\n2. Re-using a single instance `ShopifyBulkSyncCoupons` to re-use an `id` property in a multi-threaded environment is trouble waiting to happen. \r\n\r\n`@Async` to service method\r\n--\r\nThe `@Async` should be on a service method and the code which is in the controller, should be moved to that method as well. That way the controller will return quickly and promptly. Or properly use the async servlet API by returning a `[Completable]Future` or `Callable` from the controller method. \r\n\r\nRe-use of a singleton instance\r\n--\r\nThe code inside the lambda indicates re-use of a statefuo singleton in a multithreaded environment. Don&#39;t do things like this as that is trouble waiting to happen. \r\n\r\n```java\r\nShopifyBulkSyncCoupons task = shopifyBulkSyncCoupons;\r\ntask.setCouponId(id);\r\ntask.run(); // Manually invoke the run method\r\n```\r\n\r\nModified code\r\n==\r\n\r\nActual runnable\r\n\r\n```java\r\n@Component\r\n@Scope(&quot;prototype&quot;)\r\npublic class ShopifyBulkSyncCoupons {\r\n\r\n  private final long couponId;\r\n\r\n  @Autowired\r\n  private final SomeRepository repo;\r\n\r\n  public ShopifyBulkSyncCoupons(long couponId) {\r\n    this.couponId = couponId;\r\n  }\r\n  // Other methods\r\n}\r\n```\r\n\r\nService\r\n```java\r\npublic MyProcessingService {\r\n\r\n  private final AsyncTaskExecutor taskExecutor;\r\n  private final ApplicationContext context;\r\n\r\n  public MyProcessingService(AsyncTaskExecutor taskExecutor, ApplicationContext context) {\r\n    this.taskExecutor = taskExecutor;\r\n    this.context = context;\r\n  }\r\n\r\n  @Async(&quot;taskExecutor&quot;)\r\n  public CompletableFuture&lt;Void&gt; processCoupons(List&lt;Long&gt; ids) {\r\n    logger.info(&quot;Start :: syncShopifyPriceRulesListToMongoV3 for ids size = &quot; + ids.size());\r\n    \r\n    CompletableFuture&lt;Void&gt;[] futures = \r\n     ids.stream()\r\n       .map( (id) -&gt; this.context.getBean(ShopifyBulkSyncCoupons.class, id))\r\n       .map( (task) -&gt; CompletableFuture.runAsync(task, taskExecutor)\r\n       .toArray(CompletableFuture[]::new);\r\n\r\n     return CompletableFuture.allOf(futures);\r\n  }\r\n}\r\n\r\n```\r\n\r\n```java\r\n@RequestMapping(value = &quot;/coupons/bulk/syncCoupons&quot;, method = RequestMethod.POST)\r\npublic CompletableFuture&lt;Void&gt; syncShopifyCouponsV4(@RequestBody List&lt;Long&gt; ids) { \r\n  return service.processCoupons(ids);\r\n```","title":"Getting java.lang.OutOfMemoryError: Java heap space error when using Async method","body":"<p><strong>NOTE:</strong> This answer is sort of a work-in-progress.</p>\n<p>Issues with the code:</p>\n<ol>\n<li><code>@Async</code> on the controller method, which should be on a service method (including the code in the controller) or properly utilize the async servlet API.</li>\n<li>Re-using a single instance <code>ShopifyBulkSyncCoupons</code> to re-use an <code>id</code> property in a multi-threaded environment is trouble waiting to happen.</li>\n</ol>\n<h2><code>@Async</code> to service method</h2>\n<p>The <code>@Async</code> should be on a service method and the code which is in the controller, should be moved to that method as well. That way the controller will return quickly and promptly. Or properly use the async servlet API by returning a <code>[Completable]Future</code> or <code>Callable</code> from the controller method.</p>\n<h2>Re-use of a singleton instance</h2>\n<p>The code inside the lambda indicates re-use of a statefuo singleton in a multithreaded environment. Don't do things like this as that is trouble waiting to happen.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ShopifyBulkSyncCoupons task = shopifyBulkSyncCoupons;\ntask.setCouponId(id);\ntask.run(); // Manually invoke the run method\n</code></pre>\n<h1>Modified code</h1>\n<p>Actual runnable</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@Scope(&quot;prototype&quot;)\npublic class ShopifyBulkSyncCoupons {\n\n  private final long couponId;\n\n  @Autowired\n  private final SomeRepository repo;\n\n  public ShopifyBulkSyncCoupons(long couponId) {\n    this.couponId = couponId;\n  }\n  // Other methods\n}\n</code></pre>\n<p>Service</p>\n<pre class=\"lang-java prettyprint-override\"><code>public MyProcessingService {\n\n  private final AsyncTaskExecutor taskExecutor;\n  private final ApplicationContext context;\n\n  public MyProcessingService(AsyncTaskExecutor taskExecutor, ApplicationContext context) {\n    this.taskExecutor = taskExecutor;\n    this.context = context;\n  }\n\n  @Async(&quot;taskExecutor&quot;)\n  public CompletableFuture&lt;Void&gt; processCoupons(List&lt;Long&gt; ids) {\n    logger.info(&quot;Start :: syncShopifyPriceRulesListToMongoV3 for ids size = &quot; + ids.size());\n    \n    CompletableFuture&lt;Void&gt;[] futures = \n     ids.stream()\n       .map( (id) -&gt; this.context.getBean(ShopifyBulkSyncCoupons.class, id))\n       .map( (task) -&gt; CompletableFuture.runAsync(task, taskExecutor)\n       .toArray(CompletableFuture[]::new);\n\n     return CompletableFuture.allOf(futures);\n  }\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(value = &quot;/coupons/bulk/syncCoupons&quot;, method = RequestMethod.POST)\npublic CompletableFuture&lt;Void&gt; syncShopifyCouponsV4(@RequestBody List&lt;Long&gt; ids) { \n  return service.processCoupons(ids);\n</code></pre>\n"}],"owner":{"account_id":29505823,"reputation":19,"user_id":22611816,"display_name":"Shreya Aggarwal"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1695640797,"creation_date":1695626498,"question_id":77170569,"body_markdown":"I am receiving the below error when I am invoking an async method and using ThreadPoolExecutorService.\r\n\r\n```\r\n@Bean(name = &quot;taskExecutor&quot;)\r\npublic ThreadPoolTaskExecutor taskExecutor() {\r\n\tThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n\texecutor.setCorePoolSize(5);\r\n\texecutor.setMaxPoolSize(5);\r\n\texecutor.setQueueCapacity(10);\r\n\texecutor.setThreadNamePrefix(&quot;SyncThread&quot;);\r\n\texecutor.initialize();\r\n\treturn executor;\r\n}\r\n```\r\n\r\n```\r\n@RequestMapping(value = &quot;/coupons/bulk/syncCoupons&quot;, method = RequestMethod.POST)\r\n@Async(&quot;taskExecutor&quot;)\r\npublic ResponseEntity&lt;?&gt; syncShopifyCouponsV4(@RequestBody List&lt;Long&gt; ids) {\r\n    logger.info(&quot;Start :: syncShopifyPriceRulesListToMongoV3 for ids size = &quot; + ids.size());\r\n    try {\r\n        if (!ids.isEmpty()) {\r\n            List&lt;CompletableFuture&lt;Void&gt;&gt; futures = ids.stream()\r\n                    .map(id -&gt; CompletableFuture.runAsync(() -&gt; {\r\n                        logger.info(&quot;id inside CompletableFuture: &quot; + id);\r\n                        ShopifyBulkSyncCoupons task = shopifyBulkSyncCoupons;\r\n                        task.setCouponId(id);\r\n                        task.run(); // Manually invoke the run method\r\n                    }, taskExecutor)) // Use your configured taskExecutor here\r\n                    .collect(Collectors.toList());\r\n\r\n            CompletableFuture&lt;Void&gt;[] futureArray = futures.toArray(new CompletableFuture[0]);\r\n            CompletableFuture&lt;Void&gt; allOf = CompletableFuture.allOf(futureArray);\r\n            allOf.join(); // Wait for all tasks to complete\r\n        }\r\n    }\r\n    catch (Exception e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n\r\n    logger.info(&quot;End :: syncShopifyPriceRulesListToMongoV3&quot;);\r\n    return new ResponseEntity&lt;&gt;(HttpStatus.OK);\r\n}\r\n```\r\n```\r\npublic void syncShopifyPriceRulesListToMongoV2( Long id)\r\n{\r\n\tShopifyClient shopifyClient1 = new ShopifyClient();\r\n\tShopifyPriceRuleResponse priceRuleResponse = shopifyClient1.getPriceRuleById(id);\r\n\tif(null!=priceRuleResponse &amp;&amp; null!=priceRuleResponse.getPriceRule()) {\r\n\t\tPriceRuleDetails priceRuleDetails = new PriceRuleDetails();\r\n\t\tList&lt;Long&gt; finalEntitledVariants = new ArrayList&lt;&gt;();\r\n\t\tpriceRuleDetails = mapShopifyPriceRuleToModel(priceRuleResponse.getPriceRule());\r\n\t\tif (!CollectionUtils.isEmpty(priceRuleDetails.getEntitledCollectionIds())) {\r\n\t\t\tList&lt;Long&gt; collectionIds = priceRuleDetails.getEntitledCollectionIds();\r\n\t\t\tList&lt;ProductAttributes&gt; prodAttr = productAttrRepository.findByCollectionsIn(collectionIds);\r\n\t\t\tfor (ProductAttributes prod : prodAttr) {\r\n\t\t\t\tfinalEntitledVariants.add(prod.getVariantId());\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!CollectionUtils.isEmpty(priceRuleDetails.getEntitledProductIds())) {\r\n\t\t\tList&lt;ProductAttributes&gt; productAttributesList = productAttrRepository.findByProductIdIn(priceRuleDetails.getEntitledProductIds());\r\n\t\t\tfor (ProductAttributes prod : productAttributesList) {\r\n\t\t\t\tfinalEntitledVariants.add(prod.getVariantId());\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!CollectionUtils.isEmpty(priceRuleDetails.getEntitledVariantIds())) {\r\n\t\t\tfinalEntitledVariants.addAll(priceRuleDetails.getEntitledVariantIds());\r\n\t\t}\r\n\t\tpriceRuleDetails.setEntitledVariantIds(finalEntitledVariants);\r\n\t\tpriceRuleDetailsRepo.save(priceRuleDetails);\r\n\t}\r\n\r\n}\r\n```\r\n```\r\npublic class ShopifyBulkSyncCoupons implements Runnable\r\n{\r\n\r\n    private static final Logger logger = \r\n    Logger.getLogger(PriceRuleServiceImpl.class);\r\n    private  Long couponId ;\r\n\r\n    public ShopifyBulkSyncCoupons(Long couponId) {\r\n        this.couponId = couponId;\r\n    }\r\n\r\n    public Long getCouponId() {\r\n        return couponId;\r\n    }\r\n\r\n    public void setCouponId(Long couponId) {\r\n        couponId = couponId;\r\n    }\r\n\r\n    @Override\r\n    @Async(&quot;taskExecutor&quot;)\r\n    public void run()\r\n    {\r\n        logger.info(&quot;Inside run for id &quot;+couponId+&quot; Thread is \r\n       &quot;+Thread.currentThread().getName());\r\n         PriceRuleServiceImpl priceRuleService = new \r\n         PriceRuleServiceImpl();\r\n         priceRuleService.\r\n         syncShopifyPriceRulesListToMongoV2(couponId);\r\n    }\r\n}\r\n```\r\nI tried by removing the line executor.setQueueCapacity(10); but still getting the same error. Can someone please point out what is wrong here.","title":"Getting java.lang.OutOfMemoryError: Java heap space error when using Async method","body":"<p>I am receiving the below error when I am invoking an async method and using ThreadPoolExecutorService.</p>\n<pre><code>@Bean(name = &quot;taskExecutor&quot;)\npublic ThreadPoolTaskExecutor taskExecutor() {\n    ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n    executor.setCorePoolSize(5);\n    executor.setMaxPoolSize(5);\n    executor.setQueueCapacity(10);\n    executor.setThreadNamePrefix(&quot;SyncThread&quot;);\n    executor.initialize();\n    return executor;\n}\n</code></pre>\n<pre><code>@RequestMapping(value = &quot;/coupons/bulk/syncCoupons&quot;, method = RequestMethod.POST)\n@Async(&quot;taskExecutor&quot;)\npublic ResponseEntity&lt;?&gt; syncShopifyCouponsV4(@RequestBody List&lt;Long&gt; ids) {\n    logger.info(&quot;Start :: syncShopifyPriceRulesListToMongoV3 for ids size = &quot; + ids.size());\n    try {\n        if (!ids.isEmpty()) {\n            List&lt;CompletableFuture&lt;Void&gt;&gt; futures = ids.stream()\n                    .map(id -&gt; CompletableFuture.runAsync(() -&gt; {\n                        logger.info(&quot;id inside CompletableFuture: &quot; + id);\n                        ShopifyBulkSyncCoupons task = shopifyBulkSyncCoupons;\n                        task.setCouponId(id);\n                        task.run(); // Manually invoke the run method\n                    }, taskExecutor)) // Use your configured taskExecutor here\n                    .collect(Collectors.toList());\n\n            CompletableFuture&lt;Void&gt;[] futureArray = futures.toArray(new CompletableFuture[0]);\n            CompletableFuture&lt;Void&gt; allOf = CompletableFuture.allOf(futureArray);\n            allOf.join(); // Wait for all tasks to complete\n        }\n    }\n    catch (Exception e) {\n        throw new RuntimeException(e);\n    }\n\n    logger.info(&quot;End :: syncShopifyPriceRulesListToMongoV3&quot;);\n    return new ResponseEntity&lt;&gt;(HttpStatus.OK);\n}\n</code></pre>\n<pre><code>public void syncShopifyPriceRulesListToMongoV2( Long id)\n{\n    ShopifyClient shopifyClient1 = new ShopifyClient();\n    ShopifyPriceRuleResponse priceRuleResponse = shopifyClient1.getPriceRuleById(id);\n    if(null!=priceRuleResponse &amp;&amp; null!=priceRuleResponse.getPriceRule()) {\n        PriceRuleDetails priceRuleDetails = new PriceRuleDetails();\n        List&lt;Long&gt; finalEntitledVariants = new ArrayList&lt;&gt;();\n        priceRuleDetails = mapShopifyPriceRuleToModel(priceRuleResponse.getPriceRule());\n        if (!CollectionUtils.isEmpty(priceRuleDetails.getEntitledCollectionIds())) {\n            List&lt;Long&gt; collectionIds = priceRuleDetails.getEntitledCollectionIds();\n            List&lt;ProductAttributes&gt; prodAttr = productAttrRepository.findByCollectionsIn(collectionIds);\n            for (ProductAttributes prod : prodAttr) {\n                finalEntitledVariants.add(prod.getVariantId());\n            }\n        }\n        if (!CollectionUtils.isEmpty(priceRuleDetails.getEntitledProductIds())) {\n            List&lt;ProductAttributes&gt; productAttributesList = productAttrRepository.findByProductIdIn(priceRuleDetails.getEntitledProductIds());\n            for (ProductAttributes prod : productAttributesList) {\n                finalEntitledVariants.add(prod.getVariantId());\n            }\n        }\n        if (!CollectionUtils.isEmpty(priceRuleDetails.getEntitledVariantIds())) {\n            finalEntitledVariants.addAll(priceRuleDetails.getEntitledVariantIds());\n        }\n        priceRuleDetails.setEntitledVariantIds(finalEntitledVariants);\n        priceRuleDetailsRepo.save(priceRuleDetails);\n    }\n\n}\n</code></pre>\n<pre><code>public class ShopifyBulkSyncCoupons implements Runnable\n{\n\n    private static final Logger logger = \n    Logger.getLogger(PriceRuleServiceImpl.class);\n    private  Long couponId ;\n\n    public ShopifyBulkSyncCoupons(Long couponId) {\n        this.couponId = couponId;\n    }\n\n    public Long getCouponId() {\n        return couponId;\n    }\n\n    public void setCouponId(Long couponId) {\n        couponId = couponId;\n    }\n\n    @Override\n    @Async(&quot;taskExecutor&quot;)\n    public void run()\n    {\n        logger.info(&quot;Inside run for id &quot;+couponId+&quot; Thread is \n       &quot;+Thread.currentThread().getName());\n         PriceRuleServiceImpl priceRuleService = new \n         PriceRuleServiceImpl();\n         priceRuleService.\n         syncShopifyPriceRulesListToMongoV2(couponId);\n    }\n}\n</code></pre>\n<p>I tried by removing the line executor.setQueueCapacity(10); but still getting the same error. Can someone please point out what is wrong here.</p>\n"},{"tags":["java","date"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1695652836,"post_id":1655357,"comment_id":136049648,"body_markdown":"For new readers to this question don’t use `Date`. It was a poorly designed class in Java 1.0 and was supplanted by [java.time, the modern Java date and time API,](https://docs.oracle.com/javase/tutorial/datetime/index.html) a decade ago.","body":"For new readers to this question don’t use <code>Date</code>. It was a poorly designed class in Java 1.0 and was supplanted by <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API,</a> a decade ago."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438169,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":62,"is_accepted":false,"score":62,"last_activity_date":1422782208,"creation_date":1257017580,"answer_id":1655366,"question_id":1655357,"body_markdown":"You can use:\r\n\r\n    now.setTime(now.getTime() + 5000);\r\n\r\n`Date.getTime()` and `setTime()` always refer to milliseconds since January 1st 1970 12am UTC.\n\n# Joda-Time\r\n\r\nHowever, I would strongly advise you to use [Joda Time][1] if you&#39;re doing anything more than the very simplest of date/time handling. It&#39;s a *much* more capable and friendly library than the built-in support in Java.\n\n    DateTime later = DateTime.now().plusSeconds( 5 );\n\n# java.time\n\nJoda-Time later inspired the new [java.time package][2] built into Java 8.\r\n\r\n\r\n\n\n  [1]: http://www.joda.org/joda-time/\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html","title":"How do I say 5 seconds from now in Java?","body":"<p>You can use:</p>\n\n<pre><code>now.setTime(now.getTime() + 5000);\n</code></pre>\n\n<p><code>Date.getTime()</code> and <code>setTime()</code> always refer to milliseconds since January 1st 1970 12am UTC.</p>\n\n<h1>Joda-Time</h1>\n\n<p>However, I would strongly advise you to use <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda Time</a> if you're doing anything more than the very simplest of date/time handling. It's a <em>much</em> more capable and friendly library than the built-in support in Java.</p>\n\n<pre><code>DateTime later = DateTime.now().plusSeconds( 5 );\n</code></pre>\n\n<h1>java.time</h1>\n\n<p>Joda-Time later inspired the new <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time package</a> built into Java 8.</p>\n"},{"tags":[],"owner":{"account_id":3437,"reputation":42011,"user_id":4960,"accept_rate":95,"display_name":"Nick Stinemates"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1257018110,"creation_date":1257018110,"answer_id":1655392,"question_id":1655357,"body_markdown":"I just found this from [java docs][1]\r\n\r\n    import java.util.Calendar;\r\n    \r\n    public class Main {\r\n    \r\n      public static void main(String[] args) {\r\n        Calendar now = Calendar.getInstance();\r\n        System.out.println(&quot;Current time : &quot; + now.get(Calendar.HOUR_OF_DAY) + &quot;:&quot;\r\n            + now.get(Calendar.MINUTE) + &quot;:&quot; + now.get(Calendar.SECOND));\r\n    \r\n        now.add(Calendar.SECOND, 100);\r\n        System.out.println(&quot;New time after adding 100 seconds : &quot; + now.get(Calendar.HOUR_OF_DAY) + &quot;:&quot;\r\n            + now.get(Calendar.MINUTE) + &quot;:&quot; + now.get(Calendar.SECOND));\r\n      }\r\n    }\r\n\r\nIs there a convention I should be aware of?\r\n  [1]: http://www.java2s.com/Code/Java/Development-Class/AddsecondstocurrentdateusingCalendaraddmethod.htm","title":"How do I say 5 seconds from now in Java?","body":"<p>I just found this from <a href=\"http://www.java2s.com/Code/Java/Development-Class/AddsecondstocurrentdateusingCalendaraddmethod.htm\" rel=\"nofollow noreferrer\">java docs</a></p>\n\n<pre><code>import java.util.Calendar;\n\npublic class Main {\n\n  public static void main(String[] args) {\n    Calendar now = Calendar.getInstance();\n    System.out.println(\"Current time : \" + now.get(Calendar.HOUR_OF_DAY) + \":\"\n        + now.get(Calendar.MINUTE) + \":\" + now.get(Calendar.SECOND));\n\n    now.add(Calendar.SECOND, 100);\n    System.out.println(\"New time after adding 100 seconds : \" + now.get(Calendar.HOUR_OF_DAY) + \":\"\n        + now.get(Calendar.MINUTE) + \":\" + now.get(Calendar.SECOND));\n  }\n}\n</code></pre>\n\n<p>Is there a convention I should be aware of?</p>\n"},{"tags":[],"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"down_vote_count":1,"up_vote_count":102,"is_accepted":true,"score":101,"last_activity_date":1257019021,"creation_date":1257019021,"answer_id":1655450,"question_id":1655357,"body_markdown":"[Date][1] is almost entirely deprecated and is still there for backward compatibility reasons. If you need to set particular dates or do date arithmetic, use a [Calendar][2]:\r\n\r\n    Calendar calendar = Calendar.getInstance(); // gets a calendar using the default time zone and locale.\r\n    calendar.add(Calendar.SECOND, 5);\r\n    System.out.println(calendar.getTime());\r\n\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Date.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/util/Calendar.html","title":"How do I say 5 seconds from now in Java?","body":"<p><a href=\"http://java.sun.com/javase/6/docs/api/java/util/Date.html\" rel=\"noreferrer\">Date</a> is almost entirely deprecated and is still there for backward compatibility reasons. If you need to set particular dates or do date arithmetic, use a <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Calendar.html\" rel=\"noreferrer\">Calendar</a>:</p>\n\n<pre><code>Calendar calendar = Calendar.getInstance(); // gets a calendar using the default time zone and locale.\ncalendar.add(Calendar.SECOND, 5);\nSystem.out.println(calendar.getTime());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":49287,"reputation":454,"user_id":146697,"display_name":"AlexPat"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1257021069,"creation_date":1257021069,"answer_id":1655538,"question_id":1655357,"body_markdown":"From the one-liner-hacky dep.:\r\n\r\n`new Date( System.currentTimeMillis() + 5000L)`\r\n\r\nAs I understand it from your example, &#39;now&#39; is really &#39;now&#39;, and &quot;System.currentTimeMillis()&#39; happens to represent that same &#39;now&#39; concept :-)\r\n\r\nBut, yup, for everything more complicated than that the Joda time API rocks.\r\n\r\n\r\n\r\n\r\n","title":"How do I say 5 seconds from now in Java?","body":"<p>From the one-liner-hacky dep.:</p>\n\n<p><code>new Date( System.currentTimeMillis() + 5000L)</code></p>\n\n<p>As I understand it from your example, 'now' is really 'now', and \"System.currentTimeMillis()' happens to represent that same 'now' concept :-)</p>\n\n<p>But, yup, for everything more complicated than that the Joda time API rocks.</p>\n"},{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1257024046,"creation_date":1257024046,"answer_id":1655667,"question_id":1655357,"body_markdown":"As others have pointed out, in [Joda][1] it&#39;s much easier:\r\n\r\n    DateTime dt = new DateTime();\r\n    DateTime added = dt.plusSeconds(5);\r\n\r\nI would strongly recommend you migrate to Joda. Almost any Java date-related question on SO resolves to a Joda recommendation :-) The Joda API is supposed to be the basis of the new standard Java date API (JSR310), so you&#39;ll be migrating towards a new standard.\r\n\r\n\r\n  [1]: http://joda-time.sourceforge.net/","title":"How do I say 5 seconds from now in Java?","body":"<p>As others have pointed out, in <a href=\"http://joda-time.sourceforge.net/\" rel=\"noreferrer\">Joda</a> it's much easier:</p>\n\n<pre><code>DateTime dt = new DateTime();\nDateTime added = dt.plusSeconds(5);\n</code></pre>\n\n<p>I would strongly recommend you migrate to Joda. Almost any Java date-related question on SO resolves to a Joda recommendation :-) The Joda API is supposed to be the basis of the new standard Java date API (JSR310), so you'll be migrating towards a new standard.</p>\n"},{"tags":[],"owner":{"account_id":4704766,"reputation":145,"user_id":3807278,"display_name":"overflow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1436830211,"creation_date":1409217809,"answer_id":25545253,"question_id":1655357,"body_markdown":"    public class datetime {\r\n    \r\n        public String CurrentDate() {        \r\n            java.util.Date dt = new java.util.Date();\r\n            java.text.SimpleDateFormat sdf = new java.text.SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;); \r\n            String currentTime = sdf.format(dt);\r\n            return currentTime;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            class SayHello extends TimerTask {\r\n                datetime thisObj = new datetime();\r\n                public void run() {\r\n                    String todaysdate = thisObj.CurrentDate();\r\n                    System.out.println(todaysdate);\r\n                }\r\n            }\r\n            Timer timer = new Timer();\r\n            timer.schedule(new SayHello(), 0, 5000); \r\n        }\r\n    }","title":"How do I say 5 seconds from now in Java?","body":"<pre><code>public class datetime {\n\n    public String CurrentDate() {        \n        java.util.Date dt = new java.util.Date();\n        java.text.SimpleDateFormat sdf = new java.text.SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\"); \n        String currentTime = sdf.format(dt);\n        return currentTime;\n    }\n\n    public static void main(String[] args) {\n        class SayHello extends TimerTask {\n            datetime thisObj = new datetime();\n            public void run() {\n                String todaysdate = thisObj.CurrentDate();\n                System.out.println(todaysdate);\n            }\n        }\n        Timer timer = new Timer();\n        timer.schedule(new SayHello(), 0, 5000); \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":557322,"reputation":8250,"user_id":919710,"accept_rate":80,"display_name":"Alexandre Santos"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1422650331,"creation_date":1422650331,"answer_id":28244221,"question_id":1655357,"body_markdown":"Ignoring `Dates` and focusing on the question.\r\n\r\nMy preference is to use `java.util.concurrent.TimeUnit` since it adds clarity to my code.\r\n\r\nIn Java,\r\n\r\n    long now = System.currentTimeMillis();\r\n\r\n5 seconds from `now` using `TimeUtil` is:\r\n\r\n    long nowPlus5Seconds = now + TimeUnit.SECONDS.toMillis(5);\r\n\r\nReference: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/TimeUnit.html\r\n","title":"How do I say 5 seconds from now in Java?","body":"<p>Ignoring <code>Dates</code> and focusing on the question.</p>\n\n<p>My preference is to use <code>java.util.concurrent.TimeUnit</code> since it adds clarity to my code.</p>\n\n<p>In Java,</p>\n\n<pre><code>long now = System.currentTimeMillis();\n</code></pre>\n\n<p>5 seconds from <code>now</code> using <code>TimeUtil</code> is:</p>\n\n<pre><code>long nowPlus5Seconds = now + TimeUnit.SECONDS.toMillis(5);\n</code></pre>\n\n<p>Reference: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/TimeUnit.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/TimeUnit.html</a></p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1593913647,"creation_date":1422782920,"answer_id":28261305,"question_id":1655357,"body_markdown":"**UPDATE:** See [my new Answer](https://stackoverflow.com/a/56548247/642706) using *java.time* classes. I am leaving this Answer intact as history.\r\n\r\n\r\n----------\r\n\r\n\r\n[The Answer][1] by Pascal Thivent and [the Answer][2] by Jon Skeet are both correct and good. Here&#39;s a bit of extra info.\r\n\r\n# Five Seconds = `PT5S` (ISO 8601)\r\n\r\nAnother way to express the idea of &quot;five seconds later&quot; is in a string using the standard formats defined by [ISO 8601][3]. The [duration/period format][4] has this pattern `PnYnMnDTnHnMnS` where the `P` marks the beginning and the `T` separates the date portion from time portion. \r\n\r\nSo five seconds is `PT5S`.\r\n\r\n# Joda-Time\r\n\r\nThe [Joda-Time][5] 2.8 library can both generate and parse such duration/period strings. See the [`Period`][6], [`Duration`][7], and [`Interval`][8] classes. You can add and subtract Period objects to/from [`DateTime`][9] objects.\r\n\r\nSearch StackOverflow for many examples and discussions. Here&#39;s one quick example.\r\n\r\n    DateTimeZone zone = DateTimeZone.forID( &quot;America/Montreal&quot; );\r\n    DateTime now = DateTime.now( zone );\r\n    DateTime then = now.plusSeconds( 5 );\r\n    Interval interval = new Interval( now, then );\r\n    Period period = interval.toPeriod( );\r\n\r\n    DateTime thenAgain = now.plus( period );\r\n\r\nDump to console.\r\n\r\n    System.out.println( &quot;zone: &quot; + zone );\r\n    System.out.println( &quot;From now: &quot; + now + &quot; to then: &quot; + then );\r\n    System.out.println( &quot;interval: &quot; + interval );\r\n    System.out.println( &quot;period: &quot; + period );\r\n    System.out.println( &quot;thenAgain: &quot; + thenAgain );\r\n    \r\nWhen run.\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    zone: America/Montreal\r\n    From now: 2015-06-15T19:38:21.242-04:00 to then: 2015-06-15T19:38:26.242-04:00\r\n    interval: 2015-06-15T19:38:21.242-04:00/2015-06-15T19:38:26.242-04:00\r\n    period: PT5S\r\n    thenAgain: 2015-06-15T19:38:26.242-04:00\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/1655450/642706\r\n  [2]: https://stackoverflow.com/a/1655366/642706\r\n  [3]: http://en.m.wikipedia.org/wiki/ISO_8601\r\n  [4]: http://en.wikipedia.org/wiki/ISO_8601%23Durations\r\n  [5]: http://www.joda.org/joda-time/\r\n  [6]: http://www.joda.org/joda-time/apidocs/org/joda/time/Period.html\r\n  [7]: http://www.joda.org/joda-time/apidocs/org/joda/time/Duration.html\r\n  [8]: http://www.joda.org/joda-time/apidocs/org/joda/time/Interval.html\r\n  [9]: http://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html","title":"How do I say 5 seconds from now in Java?","body":"<p><strong>UPDATE:</strong> See <a href=\"https://stackoverflow.com/a/56548247/642706\">my new Answer</a> using <em>java.time</em> classes. I am leaving this Answer intact as history.</p>\n<hr />\n<p><a href=\"https://stackoverflow.com/a/1655450/642706\">The Answer</a> by Pascal Thivent and <a href=\"https://stackoverflow.com/a/1655366/642706\">the Answer</a> by Jon Skeet are both correct and good. Here's a bit of extra info.</p>\n<h1>Five Seconds = <code>PT5S</code> (ISO 8601)</h1>\n<p>Another way to express the idea of &quot;five seconds later&quot; is in a string using the standard formats defined by <a href=\"http://en.m.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a>. The <a href=\"http://en.wikipedia.org/wiki/ISO_8601%23Durations\" rel=\"nofollow noreferrer\">duration/period format</a> has this pattern <code>PnYnMnDTnHnMnS</code> where the <code>P</code> marks the beginning and the <code>T</code> separates the date portion from time portion.</p>\n<p>So five seconds is <code>PT5S</code>.</p>\n<h1>Joda-Time</h1>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a> 2.8 library can both generate and parse such duration/period strings. See the <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/Period.html\" rel=\"nofollow noreferrer\"><code>Period</code></a>, <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/Duration.html\" rel=\"nofollow noreferrer\"><code>Duration</code></a>, and <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/Interval.html\" rel=\"nofollow noreferrer\"><code>Interval</code></a> classes. You can add and subtract Period objects to/from <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html\" rel=\"nofollow noreferrer\"><code>DateTime</code></a> objects.</p>\n<p>Search StackOverflow for many examples and discussions. Here's one quick example.</p>\n<pre><code>DateTimeZone zone = DateTimeZone.forID( &quot;America/Montreal&quot; );\nDateTime now = DateTime.now( zone );\nDateTime then = now.plusSeconds( 5 );\nInterval interval = new Interval( now, then );\nPeriod period = interval.toPeriod( );\n\nDateTime thenAgain = now.plus( period );\n</code></pre>\n<p>Dump to console.</p>\n<pre><code>System.out.println( &quot;zone: &quot; + zone );\nSystem.out.println( &quot;From now: &quot; + now + &quot; to then: &quot; + then );\nSystem.out.println( &quot;interval: &quot; + interval );\nSystem.out.println( &quot;period: &quot; + period );\nSystem.out.println( &quot;thenAgain: &quot; + thenAgain );\n</code></pre>\n<p>When run.</p>\n<pre class=\"lang-none prettyprint-override\"><code>zone: America/Montreal\nFrom now: 2015-06-15T19:38:21.242-04:00 to then: 2015-06-15T19:38:26.242-04:00\ninterval: 2015-06-15T19:38:21.242-04:00/2015-06-15T19:38:26.242-04:00\nperiod: PT5S\nthenAgain: 2015-06-15T19:38:26.242-04:00\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6752008,"reputation":141,"user_id":5201760,"accept_rate":43,"display_name":"Kalai Prakash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1480054719,"creation_date":1480054719,"answer_id":40798843,"question_id":1655357,"body_markdown":"            String serverTimeSync = serverTimeFile.toString();\r\n            SimpleDateFormat serverTime = new SimpleDateFormat(&quot;yyyy,MM,dd,HH,mm,ss&quot;);\r\n            Calendar c = Calendar.getInstance();\r\n            c.setTime(serverTime.parse(serverTimeSync));\r\n            c.add(Calendar.MILLISECOND, 15000);\r\n            serverTimeSync = serverTime.format(c.getTime());","title":"How do I say 5 seconds from now in Java?","body":"<pre><code>        String serverTimeSync = serverTimeFile.toString();\n        SimpleDateFormat serverTime = new SimpleDateFormat(\"yyyy,MM,dd,HH,mm,ss\");\n        Calendar c = Calendar.getInstance();\n        c.setTime(serverTime.parse(serverTimeSync));\n        c.add(Calendar.MILLISECOND, 15000);\n        serverTimeSync = serverTime.format(c.getTime());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7060641,"reputation":857,"user_id":5406023,"accept_rate":39,"display_name":"Mr. Mak"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1560250109,"creation_date":1560250109,"answer_id":56542023,"question_id":1655357,"body_markdown":"Try This..\r\n\r\n        Date now = new Date();\r\n        System.out.println(now);\r\n\r\n        Calendar c = Calendar.getInstance();\r\n        c.setTime(now);\r\n        c.add(Calendar.SECOND, 5);\r\n        now = c.getTime();\r\n\r\n        System.out.println(now);\r\n\t\t\r\n\t\t// Output\r\n\t\tTue Jun 11 16:46:43 BDT 2019\r\n\t\tTue Jun 11 16:46:48 BDT 2019","title":"How do I say 5 seconds from now in Java?","body":"<p>Try This..</p>\n\n<pre><code>    Date now = new Date();\n    System.out.println(now);\n\n    Calendar c = Calendar.getInstance();\n    c.setTime(now);\n    c.add(Calendar.SECOND, 5);\n    now = c.getTime();\n\n    System.out.println(now);\n\n    // Output\n    Tue Jun 11 16:46:43 BDT 2019\n    Tue Jun 11 16:46:48 BDT 2019\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1596348214,"creation_date":1560271235,"answer_id":56548247,"question_id":1655357,"body_markdown":"# tl;dr\r\n\r\n    Instant             // Use modern `java.time.Instant` class to represent a moment in UTC.\r\n    .now()              // Capture the current moment in UTC.\r\n    .plusSeconds( 5 )   // Add five seconds into the future. Returns another `Instant` object per the Immutable Objects pattern.\r\n\r\n# *java.time*\r\n\r\nUse the modern *java.time* classes that years ago supplanted the terrible `Date` &amp; `Calendar` classes.\r\n\r\n## UTC\r\n\r\nTo work in UTC, use [`Instant`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Instant.html).\r\n\r\n    Instant later = Instant.now().plusSeconds( 5 ) ;\r\n\r\n## Time zone\r\n\r\nTo work in a specific time zone, use [`ZonedDateTime`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/ZonedDateTime.html).\r\n\r\n    ZoneId z = ZoneId.of( &quot;America/Montreal&quot; ) ;\r\n    ZonedDateTime later = ZonedDateTime.now( z ).pluSeconds( 5 ) ;\r\n\r\n## `Duration` \r\n\r\nYou can soft-code the amount and granularity of time to add. Use the [`Duration`][1] class.\r\n\r\n    Duration d = Duration.ofSeconds( 5 ) ;\r\n    Instant later = Instant.now().plus( d ) ;  // Soft-code the amount of time to add or subtract.\r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html), [`Calendar`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html), &amp; [`SimpleDateFormat`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html).\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) classes.\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes. Hibernate 5 &amp; JPA 2.2 support *java.time*. \r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n   - [**Java 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9) brought some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n   - Most of the *java.time* functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n   - Later versions of Android (26+) bundle implementations of the *java.time* classes.\r\n   - For earlier Android (&lt;26), a process known as [*API desugaring*](https://developer.android.com/studio/write/java8-support#library-desugaring) brings a [subset of the *java.time*](https://developer.android.com/studio/write/java8-support-table) functionality not originally built into Android.\r\n     - If the desugaring does not offer what you need, the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above) to Android. See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Duration.html","title":"How do I say 5 seconds from now in Java?","body":"<h1>tl;dr</h1>\n<pre><code>Instant             // Use modern `java.time.Instant` class to represent a moment in UTC.\n.now()              // Capture the current moment in UTC.\n.plusSeconds( 5 )   // Add five seconds into the future. Returns another `Instant` object per the Immutable Objects pattern.\n</code></pre>\n<h1><em>java.time</em></h1>\n<p>Use the modern <em>java.time</em> classes that years ago supplanted the terrible <code>Date</code> &amp; <code>Calendar</code> classes.</p>\n<h2>UTC</h2>\n<p>To work in UTC, use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Instant.html\" rel=\"noreferrer\"><code>Instant</code></a>.</p>\n<pre><code>Instant later = Instant.now().plusSeconds( 5 ) ;\n</code></pre>\n<h2>Time zone</h2>\n<p>To work in a specific time zone, use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/ZonedDateTime.html\" rel=\"noreferrer\"><code>ZonedDateTime</code></a>.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;America/Montreal&quot; ) ;\nZonedDateTime later = ZonedDateTime.now( z ).pluSeconds( 5 ) ;\n</code></pre>\n<h2><code>Duration</code></h2>\n<p>You can soft-code the amount and granularity of time to add. Use the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Duration.html\" rel=\"noreferrer\"><code>Duration</code></a> class.</p>\n<pre><code>Duration d = Duration.ofSeconds( 5 ) ;\nInstant later = Instant.now().plus( d ) ;  // Soft-code the amount of time to add or subtract.\n</code></pre>\n<hr />\n<h1>About <em>java.time</em></h1>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes. Hibernate 5 &amp; JPA 2.2 support <em>java.time</em>.</p>\n<p>Where to obtain the java.time classes?</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java 9</strong></a> brought some minor features and fixes.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a>\n<ul>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a>.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n<ul>\n<li>Later versions of Android (26+) bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), a process known as <a href=\"https://developer.android.com/studio/write/java8-support#library-desugaring\" rel=\"noreferrer\"><em>API desugaring</em></a> brings a <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"noreferrer\">subset of the <em>java.time</em></a> functionality not originally built into Android.\n<ul>\n<li>If the desugaring does not offer what you need, the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><em><strong>ThreeTenABP</strong></em></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> (mentioned above) to Android. See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":29517307,"reputation":1,"user_id":22620980,"display_name":"bobo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695640301,"creation_date":1695640301,"answer_id":77172149,"question_id":1655357,"body_markdown":"I have restructured the [answer code provided by @Pascal Thivent][1] into a Java method that you can easily incorporate into your development:\r\n\r\n    import java.util.Calendar;\r\n    \r\n    public class Post1655450 {\r\n        public static Date getFutureTime() {\r\n            Calendar calendar = Calendar.getInstance();\r\n            calendar.add(Calendar.SECOND, 5);\r\n            return calendar.getTime();\r\n        }\r\n    }\r\n\r\n[1]: https://stackoverflow.com/a/1655450\r\n\r\n","title":"How do I say 5 seconds from now in Java?","body":"<p>I have restructured the <a href=\"https://stackoverflow.com/a/1655450\">answer code provided by @Pascal Thivent</a> into a Java method that you can easily incorporate into your development:</p>\n<pre><code>import java.util.Calendar;\n\npublic class Post1655450 {\n    public static Date getFutureTime() {\n        Calendar calendar = Calendar.getInstance();\n        calendar.add(Calendar.SECOND, 5);\n        return calendar.getTime();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3437,"reputation":42011,"user_id":4960,"accept_rate":95,"display_name":"Nick Stinemates"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128447,"favorite_count":0,"down_vote_count":0,"up_vote_count":75,"accepted_answer_id":1655450,"answer_count":12,"score":75,"last_activity_date":1695640301,"creation_date":1257017435,"question_id":1655357,"body_markdown":"I am looking at the Date [documentation][1] and trying to figure out how I can express NOW + 5 seconds. Here&#39;s some pseudocode:\r\n\r\n    import java.util.Date\r\n    public class Main {\r\n\r\n        public static void main(String args[]) {\r\n             Date now = new Date();\r\n             now.setSeconds(now.getSeconds() + 5);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://www.j2ee.me/javase/6/docs/api/java/util/Date.html","title":"How do I say 5 seconds from now in Java?","body":"<p>I am looking at the Date <a href=\"http://www.j2ee.me/javase/6/docs/api/java/util/Date.html\" rel=\"noreferrer\">documentation</a> and trying to figure out how I can express NOW + 5 seconds. Here's some pseudocode:</p>\n\n<pre><code>import java.util.Date\npublic class Main {\n\n    public static void main(String args[]) {\n         Date now = new Date();\n         now.setSeconds(now.getSeconds() + 5);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","encoding","spring-restcontroller"],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695640237,"creation_date":1695640237,"question_id":77172144,"body_markdown":"How to decode response body to another encoding with `ResponseBodyAdvice`?\r\n\r\nI have a @ControllerAdvice that just sets the header for the encoding, but doesn&#39;t touch the inside body. I need to decode it to another encoding:\r\n\r\n    @ControllerAdvice(basePackageClasses = MyController.class)\r\n        public class CharsetAdvice implements ResponseBodyAdvice&lt;Object&gt; {\r\n            @Override\r\n            public boolean supports(MethodParameter returnType, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; converterType) {\r\n                return true;\r\n            }\r\n    \r\n            @Override\r\n            public Object beforeBodyWrite(Object body, MethodParameter returnType, MediaType selectedContentType,\r\n                                          Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; selectedConverterType,\r\n                                          ServerHttpRequest request, ServerHttpResponse response) {\r\n                HttpHeaders headers = response.getHeaders();\r\n                headers.set(&quot;Content-Type&quot;, &quot;application/xml;charset=windows-1251&quot;);\r\n                return body;\r\n            }\r\n        }\r\n\r\nAfter applying the header, the content of the body is like `&lt;tag field=&quot;РђР&#177;РѕРЅР&#181;РЅС‚ РЅР&#176;Р№РґР&#181;РЅ&quot;/&gt;`, which looks like `UTF-8` bytes being decoded to `windows-1251` and then flushed to the HTTP response. But in fact, I need just my `UTF-8 String` with the same characters, but just in `windows-1251` encoding.\r\n\r\nWhat I can to do with `Object` body in Java 8? How I can produce another body object with updated String?\r\n\r\nWhat I should take from the `ResponseBodyAdvice`, the `request` or the `response` objects to get an updated body?","title":"How to change the body of the Http Response with ResponseBodyAdvice&#39;s beforeBodyWrite in order to change the encoding of the XML text to be returned?","body":"<p>How to decode response body to another encoding with <code>ResponseBodyAdvice</code>?</p>\n<p>I have a @ControllerAdvice that just sets the header for the encoding, but doesn't touch the inside body. I need to decode it to another encoding:</p>\n<pre><code>@ControllerAdvice(basePackageClasses = MyController.class)\n    public class CharsetAdvice implements ResponseBodyAdvice&lt;Object&gt; {\n        @Override\n        public boolean supports(MethodParameter returnType, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; converterType) {\n            return true;\n        }\n\n        @Override\n        public Object beforeBodyWrite(Object body, MethodParameter returnType, MediaType selectedContentType,\n                                      Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; selectedConverterType,\n                                      ServerHttpRequest request, ServerHttpResponse response) {\n            HttpHeaders headers = response.getHeaders();\n            headers.set(&quot;Content-Type&quot;, &quot;application/xml;charset=windows-1251&quot;);\n            return body;\n        }\n    }\n</code></pre>\n<p>After applying the header, the content of the body is like <code>&lt;tag field=&quot;РђР±РѕРЅРµРЅС‚ РЅР°Р№РґРµРЅ&quot;/&gt;</code>, which looks like <code>UTF-8</code> bytes being decoded to <code>windows-1251</code> and then flushed to the HTTP response. But in fact, I need just my <code>UTF-8 String</code> with the same characters, but just in <code>windows-1251</code> encoding.</p>\n<p>What I can to do with <code>Object</code> body in Java 8? How I can produce another body object with updated String?</p>\n<p>What I should take from the <code>ResponseBodyAdvice</code>, the <code>request</code> or the <code>response</code> objects to get an updated body?</p>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb","javabeans","aws-sdk-java-2.0"],"answers":[{"tags":[],"owner":{"account_id":6157899,"reputation":19791,"user_id":4800344,"display_name":"Ermiya Eskandary"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695637838,"creation_date":1695637444,"answer_id":77171832,"question_id":77171474,"body_markdown":"[`DynamoDbBean`][1] should only be used for a class that conforms to the [JavaBeans specification][2] (also mentioned [here][3]) &amp; your class doesn&#39;t.\r\n\r\nAs per the spec (*8.3.1 Simple properties*), the getter for a non-boolean property should be prefixed with `get` and `is` is only allowed as an extra prefix for `boolean` properties. That&#39;s why it works when you change the datatype to `boolean` and stops working when you change it back to `string`.\r\n\r\nThe enhanced client most likely uses reflection to infer the attribute names and values from the getter and setter methods, and to invoke those methods when reading or writing data to DynamoDB - not adhering to the spec is causing an issue for that process.\r\n\r\nEither:\r\n\r\n - change the attribute to a `boolean`\r\n - use `get`, as per the JavaBeans specification\r\n - create a custom `AttributeConverterProvider` implementation ([example][4]) \r\n\r\n\r\n  [1]: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/enhanced/dynamodb/mapper/annotations/DynamoDbBean.html\r\n  [2]: http://download.oracle.com/otn-pub/jcp/7224-javabeans-1.01-fr-spec-oth-JSpec/beans.101.pdf\r\n  [3]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/ddb-en-client-adv-features.html\r\n  [4]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/ddb-en-client-adv-features-conversion.html#ddb-en-client-adv-features-conversion-example","title":"Attribute not getting updated while using DynamoDB Enhanced Client","body":"<p><a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/enhanced/dynamodb/mapper/annotations/DynamoDbBean.html\" rel=\"nofollow noreferrer\"><code>DynamoDbBean</code></a> should only be used for a class that conforms to the <a href=\"http://download.oracle.com/otn-pub/jcp/7224-javabeans-1.01-fr-spec-oth-JSpec/beans.101.pdf\" rel=\"nofollow noreferrer\">JavaBeans specification</a> (also mentioned <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/ddb-en-client-adv-features.html\" rel=\"nofollow noreferrer\">here</a>) &amp; your class doesn't.</p>\n<p>As per the spec (<em>8.3.1 Simple properties</em>), the getter for a non-boolean property should be prefixed with <code>get</code> and <code>is</code> is only allowed as an extra prefix for <code>boolean</code> properties. That's why it works when you change the datatype to <code>boolean</code> and stops working when you change it back to <code>string</code>.</p>\n<p>The enhanced client most likely uses reflection to infer the attribute names and values from the getter and setter methods, and to invoke those methods when reading or writing data to DynamoDB - not adhering to the spec is causing an issue for that process.</p>\n<p>Either:</p>\n<ul>\n<li>change the attribute to a <code>boolean</code></li>\n<li>use <code>get</code>, as per the JavaBeans specification</li>\n<li>create a custom <code>AttributeConverterProvider</code> implementation (<a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/ddb-en-client-adv-features-conversion.html#ddb-en-client-adv-features-conversion-example\" rel=\"nofollow noreferrer\">example</a>)</li>\n</ul>\n"}],"owner":{"account_id":19482640,"reputation":13,"user_id":14252593,"display_name":"Cabbage_Lower"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77171832,"answer_count":1,"score":1,"last_activity_date":1695639935,"creation_date":1695634455,"question_id":77171474,"body_markdown":"I was updating one of our DynamoDB entities with new attributes.\r\n\r\nOne of the new attribute is called `isEnabled` which is of type of `String`.\r\n\r\nIt isn’t getting stored in DynamoDB.\r\n\r\nThis is an example of the entity object:\r\n\r\n```java\r\n@NoArgConstructor\r\n@DynamoDbBean\r\n@DynamoDbTableName(tableName = &quot;tableName&quot;)\r\ndata class DynamoEntity (\r\n@get:DynamoDbAttribute(&quot;isEnabled&quot;)\r\n    var isEnabled: String;\r\n)\r\n...\r\n```\r\n\r\nIf I change the type to `Boolean` it works.\r\n\r\nIf I update the attribute name like so, it also works:\r\n\r\n```java\r\n@NoArgConstructor\r\n@DynamoDbBean\r\n@DynamoDbTableName(tableName = &quot;tableName&quot;)\r\ndata class DynamoEntity (\r\n@get:DynamoDbAttribute(&quot;isEnabled&quot;)\r\n    var enabled: String;\r\n)\r\n...\r\n```\r\n\r\nI couldn&#39;t find any documentation around this and if the attribute name starting with `is` is an issue.\r\n\r\nIs this expected behaviour?","title":"Attribute not getting updated while using DynamoDB Enhanced Client","body":"<p>I was updating one of our DynamoDB entities with new attributes.</p>\n<p>One of the new attribute is called <code>isEnabled</code> which is of type of <code>String</code>.</p>\n<p>It isn’t getting stored in DynamoDB.</p>\n<p>This is an example of the entity object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@NoArgConstructor\n@DynamoDbBean\n@DynamoDbTableName(tableName = &quot;tableName&quot;)\ndata class DynamoEntity (\n@get:DynamoDbAttribute(&quot;isEnabled&quot;)\n    var isEnabled: String;\n)\n...\n</code></pre>\n<p>If I change the type to <code>Boolean</code> it works.</p>\n<p>If I update the attribute name like so, it also works:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@NoArgConstructor\n@DynamoDbBean\n@DynamoDbTableName(tableName = &quot;tableName&quot;)\ndata class DynamoEntity (\n@get:DynamoDbAttribute(&quot;isEnabled&quot;)\n    var enabled: String;\n)\n...\n</code></pre>\n<p>I couldn't find any documentation around this and if the attribute name starting with <code>is</code> is an issue.</p>\n<p>Is this expected behaviour?</p>\n"},{"tags":["java","dynamic","height","report","ireport"],"comments":[{"owner":{"account_id":1587104,"reputation":1012,"user_id":1471179,"accept_rate":20,"display_name":"Ahamed Ishak"},"score":1,"creation_date":1340262015,"post_id":11132757,"comment_id":14591109,"body_markdown":"yep!!!!! i got the way how to do that \n\nset the prosperity   ignore **pagination =true** in the report\n\nRegards..","body":"yep!!!!! i got the way how to do that   set the prosperity   ignore <b>pagination =true</b> in the report  Regards.."}],"answers":[{"tags":[],"owner":{"account_id":1548636,"reputation":658,"user_id":1441544,"display_name":"esmoreno"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1340261570,"creation_date":1340261570,"answer_id":11132987,"question_id":11132757,"body_markdown":"You must put the fields in detail band. This is an basic tutorial: http://jasperforge.org/uploads/publish/ireportwebsite/IR%20Website/ir_design_a_report.html\r\n\r\nRegards","title":"How to set iReport page height dynamically when it generate","body":"<p>You must put the fields in detail band. This is an basic tutorial: <a href=\"http://jasperforge.org/uploads/publish/ireportwebsite/IR%20Website/ir_design_a_report.html\" rel=\"nofollow\">http://jasperforge.org/uploads/publish/ireportwebsite/IR%20Website/ir_design_a_report.html</a></p>\n\n<p>Regards</p>\n"},{"tags":[],"owner":{"account_id":8373468,"reputation":2915,"user_id":6287771,"display_name":"Carlos Chaguendo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597969400,"creation_date":1597968775,"answer_id":63514792,"question_id":11132757,"body_markdown":"select report &gt; Properties &gt; Ignore pagination = true\r\n\r\n\r\n    &lt;jasperReport \r\n     xmlns=....\r\n     ...\r\n     ...\r\n     isIgnorePagination=&quot;true&quot; \r\n     &gt;\r\n\r\n  ","title":"How to set iReport page height dynamically when it generate","body":"<p>select report &gt; Properties &gt; Ignore pagination = true</p>\n<pre><code>&lt;jasperReport \n xmlns=....\n ...\n ...\n isIgnorePagination=&quot;true&quot; \n &gt;\n</code></pre>\n"}],"owner":{"account_id":1587104,"reputation":1012,"user_id":1471179,"accept_rate":20,"display_name":"Ahamed Ishak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8544,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695639660,"creation_date":1340260481,"question_id":11132757,"body_markdown":"i&#39;m new for iReport. i&#39;m building a point of sale system using java. to print the receipt i used the irepot. my problem is when i&#39;m generate a report report height is not get reduce or increase dynamically.\r\n\r\nfor ex : when there are 2 rows in the report report height must be reduce. if there the 50 rows in the report, report height must be increase dynamically.\r\n\r\nHow can i do that....\r\n\r\n","title":"How to set iReport page height dynamically when it generate","body":"<p>i'm new for iReport. i'm building a point of sale system using java. to print the receipt i used the irepot. my problem is when i'm generate a report report height is not get reduce or increase dynamically.</p>\n\n<p>for ex : when there are 2 rows in the report report height must be reduce. if there the 50 rows in the report, report height must be increase dynamically.</p>\n\n<p>How can i do that....</p>\n"},{"tags":["java","reactjs","spring-boot","axios"],"comments":[{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1695639762,"post_id":77172084,"comment_id":136046785,"body_markdown":"What does the actual JSON look like? Are the values for each of the fields (name, phone, username, password) indeed strings or are one or more of them an object (something between `{ ... }`)?","body":"What does the actual JSON look like? Are the values for each of the fields (name, phone, username, password) indeed strings or are one or more of them an object (something between <code>{ ... }</code>)?"},{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":1,"creation_date":1695640125,"post_id":77172084,"comment_id":136046851,"body_markdown":"the problem is most likely that the json you are sending doesn&#39;t match (and hence can&#39;t be deserialized to) `RegistrationDTO`. Show us the JSON you are sending - you can find it in the `Network` tab in chrome, in `Request Payload` section","body":"the problem is most likely that the json you are sending doesn&#39;t match (and hence can&#39;t be deserialized to) <code>RegistrationDTO</code>. Show us the JSON you are sending - you can find it in the <code>Network</code> tab in chrome, in <code>Request Payload</code> section"},{"owner":{"account_id":14352417,"reputation":171,"user_id":10367451,"display_name":"JohnnySmith88"},"score":0,"creation_date":1695640129,"post_id":77172084,"comment_id":136046853,"body_markdown":"They&#39;re all strings.","body":"They&#39;re all strings."},{"owner":{"account_id":14352417,"reputation":171,"user_id":10367451,"display_name":"JohnnySmith88"},"score":0,"creation_date":1695641412,"post_id":77172084,"comment_id":136047107,"body_markdown":"I didn&#39;t know about Network-Request payload --- thank you. my JSON was wrong","body":"I didn&#39;t know about Network-Request payload --- thank you. my JSON was wrong"}],"owner":{"account_id":14352417,"reputation":171,"user_id":10367451,"display_name":"JohnnySmith88"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1695710698,"answer_count":0,"score":0,"last_activity_date":1695639606,"creation_date":1695639606,"question_id":77172084,"body_markdown":"I cannot POST an object from my React frontend to Spring Boot. \r\nI&#39;m receiving this error `Cannot deserialize value of type java.lang.String from Object value (token JsonToken.START_OBJECT)]`\r\nThis is the API endpoint\r\n\r\n    @PostMapping(&quot;/register&quot;)\r\n    public String registerUser(@RequestBody RegistrationDTO body){\r\n        ....\r\n    }\r\n\r\nThis is my DTO that I&#39;m expecting as a body \r\n\r\n    public class RegistrationDTO {\r\n        private String name;\r\n        private String phone;\r\n        private String username;\r\n        private String password;\r\n        //getters, setters, constructors...\r\n    }\r\nNow this is the React frontend code...\r\n\r\n    const registerUser = async (name, phone, email, password) =&gt; {\r\n  \r\n    const apiEndpoint = &#39;http://localhost:8000/auth/register&#39;\r\n\r\n    const req = {        \r\n        name:name,\r\n        phone:phone,\r\n        username:email,\r\n        password:password\r\n    }\r\n    \r\n\r\n    const customConfig = {\r\n        headers: {\r\n        &#39;Content-Type&#39;: &#39;application/json&#39;\r\n        }\r\n    }\r\n\r\n    try {\r\n        const resp = await axios.post(apiEndpoint, req, customConfig)\r\n        return resp.data\r\n    } catch (error) {\r\n        console.log(JSON.stringify(error))\r\n        return null\r\n    }\r\n  }\r\n\r\n  \r\n\r\n","title":"Cannot POST object from React to Spring Boot","body":"<p>I cannot POST an object from my React frontend to Spring Boot.\nI'm receiving this error <code>Cannot deserialize value of type java.lang.String from Object value (token JsonToken.START_OBJECT)]</code>\nThis is the API endpoint</p>\n<pre><code>@PostMapping(&quot;/register&quot;)\npublic String registerUser(@RequestBody RegistrationDTO body){\n    ....\n}\n</code></pre>\n<p>This is my DTO that I'm expecting as a body</p>\n<pre><code>public class RegistrationDTO {\n    private String name;\n    private String phone;\n    private String username;\n    private String password;\n    //getters, setters, constructors...\n}\n</code></pre>\n<p>Now this is the React frontend code...</p>\n<pre><code>const registerUser = async (name, phone, email, password) =&gt; {\n\nconst apiEndpoint = 'http://localhost:8000/auth/register'\n\nconst req = {        \n    name:name,\n    phone:phone,\n    username:email,\n    password:password\n}\n\n\nconst customConfig = {\n    headers: {\n    'Content-Type': 'application/json'\n    }\n}\n\ntry {\n    const resp = await axios.post(apiEndpoint, req, customConfig)\n    return resp.data\n} catch (error) {\n    console.log(JSON.stringify(error))\n    return null\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","apache-kafka","quarkus","smallrye-reactive-messaging"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1695388569,"post_id":77157637,"comment_id":136021655,"body_markdown":"I&#39;m not sure you can use smallrye for this. Generally, people use AdminClient to check Kafka health","body":"I&#39;m not sure you can use smallrye for this. Generally, people use AdminClient to check Kafka health"}],"answers":[{"tags":[],"owner":{"account_id":18144706,"reputation":196,"user_id":13198160,"display_name":"Ozan G&#252;nalp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695638590,"creation_date":1695638590,"answer_id":77171962,"question_id":77157637,"body_markdown":"One way of doing this is to rely on the [`HealthCenter`][1] that Smallrye reactive messaging provides. For the Kafka connector, the default health check looks at the Kafka client APIs metrics and check for the connection status. You can look at other options from the documentation too.\r\n\r\nUnfortunately, Kafka Client APIs don&#39;t provide anything more helpful to check the connection status. Here is a sample code : \r\n\r\n```java\r\n\r\n    @Channel(&quot;quote-requests&quot;)\r\n    Emitter&lt;String&gt; emitter;\r\n\r\n    @Inject\r\n    HealthCenter healthCenter;\r\n\r\n    @POST\r\n    @Path(&quot;/request&quot;)\r\n    @Produces(MediaType.TEXT_PLAIN)\r\n    public String createRequest() {\r\n        if (healthCenter.getReadiness().getChannels().stream().noneMatch(c -&gt; c.getChannel().equals(&quot;quote-requests&quot;) &amp;&amp; c.isOk())) {\r\n            throw new WebApplicationException(503);\r\n        }\r\n        UUID uuid = UUID.randomUUID();\r\n        emitter.send(uuid.toString());\r\n        return uuid.toString();\r\n    }\r\n\r\n```\r\n\r\nNote that, this is not optimal though, it&#39;ll get the readiness of all reactive messaging channels, and won&#39;t work if you disable the health checks for these channels. Another option is to use the [`KafkaClientService`][2] and access the KafkaProducer directly in order to get the metrics yourself. The connector checks the [`connection-count`][3] metric.\r\n\r\nHope this helps.\r\n\r\n\r\n  [1]: https://smallrye.io/smallrye-reactive-messaging/4.9.0/kafka/health/\r\n  [2]: https://smallrye.io/smallrye-reactive-messaging/4.9.0/kafka/client-service/\r\n  [3]: https://docs.confluent.io/platform/current/kafka/monitoring.html#producer-global-connection-metrics","title":"Kafka liveness with Quarkus SmallRye","body":"<p>One way of doing this is to rely on the <a href=\"https://smallrye.io/smallrye-reactive-messaging/4.9.0/kafka/health/\" rel=\"nofollow noreferrer\"><code>HealthCenter</code></a> that Smallrye reactive messaging provides. For the Kafka connector, the default health check looks at the Kafka client APIs metrics and check for the connection status. You can look at other options from the documentation too.</p>\n<p>Unfortunately, Kafka Client APIs don't provide anything more helpful to check the connection status. Here is a sample code :</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    @Channel(&quot;quote-requests&quot;)\n    Emitter&lt;String&gt; emitter;\n\n    @Inject\n    HealthCenter healthCenter;\n\n    @POST\n    @Path(&quot;/request&quot;)\n    @Produces(MediaType.TEXT_PLAIN)\n    public String createRequest() {\n        if (healthCenter.getReadiness().getChannels().stream().noneMatch(c -&gt; c.getChannel().equals(&quot;quote-requests&quot;) &amp;&amp; c.isOk())) {\n            throw new WebApplicationException(503);\n        }\n        UUID uuid = UUID.randomUUID();\n        emitter.send(uuid.toString());\n        return uuid.toString();\n    }\n\n</code></pre>\n<p>Note that, this is not optimal though, it'll get the readiness of all reactive messaging channels, and won't work if you disable the health checks for these channels. Another option is to use the <a href=\"https://smallrye.io/smallrye-reactive-messaging/4.9.0/kafka/client-service/\" rel=\"nofollow noreferrer\"><code>KafkaClientService</code></a> and access the KafkaProducer directly in order to get the metrics yourself. The connector checks the <a href=\"https://docs.confluent.io/platform/current/kafka/monitoring.html#producer-global-connection-metrics\" rel=\"nofollow noreferrer\"><code>connection-count</code></a> metric.</p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":29121825,"reputation":1,"user_id":22309101,"display_name":"hunter662"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695638590,"creation_date":1695385936,"question_id":77157637,"body_markdown":"I&#39;m fairly new to Quarkus and I&#39;m trying to send some data to Kafka. To do so, I&#39;m using smallrye-kafka:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n    &lt;artifactId&gt;quarkus-smallrye-reactive-messaging-kafka&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nTo send data, I&#39;m using an Emitter like this:\r\n\r\n```java\r\n@Inject\r\n@Channel(&quot;my-channel&quot;)\r\nprivate Emitter&lt;Record&lt;String, Hotel&gt;&gt; emitter;\r\n\r\nemitter.send(Record.of(hotel.getId(), hotel))\r\n```\r\n\r\nIs it possible to check if Kafka server is up and in case to handle the error with an exception? Or is it available some documentation which describe how to do so?","title":"Kafka liveness with Quarkus SmallRye","body":"<p>I'm fairly new to Quarkus and I'm trying to send some data to Kafka. To do so, I'm using smallrye-kafka:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n    &lt;artifactId&gt;quarkus-smallrye-reactive-messaging-kafka&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>To send data, I'm using an Emitter like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Inject\n@Channel(&quot;my-channel&quot;)\nprivate Emitter&lt;Record&lt;String, Hotel&gt;&gt; emitter;\n\nemitter.send(Record.of(hotel.getId(), hotel))\n</code></pre>\n<p>Is it possible to check if Kafka server is up and in case to handle the error with an exception? Or is it available some documentation which describe how to do so?</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":3,"creation_date":1556820277,"post_id":55957899,"comment_id":98567505,"body_markdown":"Map needs both *key* and *value* for each entry.","body":"Map needs both <i>key</i> and <i>value</i> for each entry."},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1556820388,"post_id":55957899,"comment_id":98567560,"body_markdown":"Also, do not give variable its type name. You will confuse yourself.","body":"Also, do not give variable its type name. You will confuse yourself."},{"owner":{"account_id":8502740,"reputation":203,"user_id":6375240,"accept_rate":100,"display_name":"Isaac Palacio"},"score":0,"creation_date":1556822891,"post_id":55957899,"comment_id":98568675,"body_markdown":"Okay, but this happens to the method: `catalogue1.addResource(book);`","body":"Okay, but this happens to the method: <code>catalogue1.addResource(book);</code>"},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":1,"creation_date":1556833265,"post_id":55957899,"comment_id":98572767,"body_markdown":"Do you understand what `Map` is and what parameters `put()` requires?  See https://www.geeksforgeeks.org/map-put-method-in-java-with-examples/","body":"Do you understand what <code>Map</code> is and what parameters <code>put()</code> requires?  See <a href=\"https://www.geeksforgeeks.org/map-put-method-in-java-with-examples/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/map-put-method-in-java-with-examples</a>"}],"answers":[{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695638512,"creation_date":1695638512,"answer_id":77171949,"question_id":55957899,"body_markdown":"Per the exception message\r\n\r\n&gt; The method put(String, Resource) in the type HashMap is not applicable\r\n&gt; for the arguments (Resource)\r\n\r\nYour `resources` is a HashMap.  The `put` method requires both a key and a value.  I don&#39;t know what you should be using as a key here - it may be enough to do the following.\r\n\r\n    resources.put(resources.getResourceName(), resource);","title":"HashMap: Error insert VariableDeclaratorId to complete FormalParameterList","body":"<p>Per the exception message</p>\n<blockquote>\n<p>The method put(String, Resource) in the type HashMap is not applicable\nfor the arguments (Resource)</p>\n</blockquote>\n<p>Your <code>resources</code> is a HashMap.  The <code>put</code> method requires both a key and a value.  I don't know what you should be using as a key here - it may be enough to do the following.</p>\n<pre><code>resources.put(resources.getResourceName(), resource);\n</code></pre>\n"}],"owner":{"account_id":8502740,"reputation":203,"user_id":6375240,"accept_rate":100,"display_name":"Isaac Palacio"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1115,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1695638512,"creation_date":1556820085,"question_id":55957899,"body_markdown":"\r\nJava gives me this error: `Syntax error, insert &quot;... VariableDeclaratorId&quot; to complete FormalParameterList` when I try to add a resource through the **addResource** method:\r\n\r\n    private HashMap&lt;String,Resource&gt; resources = new HashMap&lt;String, Resource&gt;();\t\t\r\n    private String id;\r\n    private Resource Resource;\r\n    \r\n    private void addResource(Resource) {\t\r\n      resources.put(Resource);\t\t\r\n    }\r\n\r\nThe error is thrown at me in Resource, as if I hadn&#39;t declared the type of parameter data.\r\n\r\n&gt; Error =&gt; Description\tResource\tPath\tLocation\tType The method\r\n&gt; put(String, Resource) in the type HashMap&lt;String,Resource&gt; is not\r\n&gt; applicable for the arguments\r\n&gt; (Resource)\tCatalogue.java\t/PRAC3_ex2/src/PRAC3_ex2\tline 32\tJava\r\n&gt; Problem\r\n\r\n\r\n\r\n","title":"HashMap: Error insert VariableDeclaratorId to complete FormalParameterList","body":"<p>Java gives me this error: <code>Syntax error, insert \"... VariableDeclaratorId\" to complete FormalParameterList</code> when I try to add a resource through the <strong>addResource</strong> method:</p>\n\n<pre><code>private HashMap&lt;String,Resource&gt; resources = new HashMap&lt;String, Resource&gt;();       \nprivate String id;\nprivate Resource Resource;\n\nprivate void addResource(Resource) {    \n  resources.put(Resource);      \n}\n</code></pre>\n\n<p>The error is thrown at me in Resource, as if I hadn't declared the type of parameter data.</p>\n\n<blockquote>\n  <p>Error => Description  Resource    Path    Location    Type The method\n  put(String, Resource) in the type HashMap is not\n  applicable for the arguments\n  (Resource)    Catalogue.java  /PRAC3_ex2/src/PRAC3_ex2    line 32 Java\n  Problem</p>\n</blockquote>\n"},{"tags":["java","hibernate","repository","micronaut"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1695631850,"post_id":77171001,"comment_id":136045213,"body_markdown":"Does it make sense to define the method on the repository as transactional? Shouldn&#39;t the service method be transactional and then call the repo&#39;s method?","body":"Does it make sense to define the method on the repository as transactional? Shouldn&#39;t the service method be transactional and then call the repo&#39;s method?"},{"owner":{"account_id":27664477,"reputation":21,"user_id":21116591,"display_name":"codingdictionary"},"score":0,"creation_date":1695636023,"post_id":77171001,"comment_id":136046072,"body_markdown":"Yeah, I&#39;ve tried adding the transactional annotation on the method that calls the repo&#39;s method too. Still seems to be getting the same exception.","body":"Yeah, I&#39;ve tried adding the transactional annotation on the method that calls the repo&#39;s method too. Still seems to be getting the same exception."}],"owner":{"account_id":27664477,"reputation":21,"user_id":21116591,"display_name":"codingdictionary"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695638488,"creation_date":1695630287,"question_id":77171001,"body_markdown":"I am trying to return a Stream&lt;Object&gt; instead of a Collection&lt;&gt; in a repository method written with the micronaut framework.\r\n\r\nDocumentation says this is supported and to do 2 things:\r\n- Make the method transactional\r\n- Execute this method within a try with resources statement\r\n\r\nI have done both but I am still getting an error saying that the connection to the database is closed for some reason.\r\n`org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl is closed`\r\n\r\n\r\n\r\nThis is my code:\r\n\r\nRepository (JPA)\r\n```\r\npublic interface ProductRepository&lt;T extends ProductDataAccessObject&gt; extends CrudRepository&lt;T, UUID&gt; {\r\n    @Nonnull\r\n    Stream&lt;T&gt; findByPriceBetween(double min, double max);\r\n}\r\n```\r\n\r\nClass:\r\n\r\n```\r\n@Transactional\r\n    protected void test(double min, double max) throws Exception {\r\n        try (var products = this.products.findByPriceBetween(min, max)) {\r\n            final var list = products.map(ProductDataAccessObject::entity).toList();\r\n        }\r\n    }\r\n```\r\n\r\n\r\nNote: I&#39;m just trying it into a list just to see if it&#39;s working, but I will add the actual code on a forEach() method.\r\n\r\nAny tips would be greatly appreciated! ","title":"How to return type of Stream of Objects with a Micronaut Repository","body":"<p>I am trying to return a Stream instead of a Collection&lt;&gt; in a repository method written with the micronaut framework.</p>\n<p>Documentation says this is supported and to do 2 things:</p>\n<ul>\n<li>Make the method transactional</li>\n<li>Execute this method within a try with resources statement</li>\n</ul>\n<p>I have done both but I am still getting an error saying that the connection to the database is closed for some reason.\n<code>org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl is closed</code></p>\n<p>This is my code:</p>\n<p>Repository (JPA)</p>\n<pre><code>public interface ProductRepository&lt;T extends ProductDataAccessObject&gt; extends CrudRepository&lt;T, UUID&gt; {\n    @Nonnull\n    Stream&lt;T&gt; findByPriceBetween(double min, double max);\n}\n</code></pre>\n<p>Class:</p>\n<pre><code>@Transactional\n    protected void test(double min, double max) throws Exception {\n        try (var products = this.products.findByPriceBetween(min, max)) {\n            final var list = products.map(ProductDataAccessObject::entity).toList();\n        }\n    }\n</code></pre>\n<p>Note: I'm just trying it into a list just to see if it's working, but I will add the actual code on a forEach() method.</p>\n<p>Any tips would be greatly appreciated!</p>\n"},{"tags":["java","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"score":0,"creation_date":1619704428,"post_id":67317255,"comment_id":118990194,"body_markdown":"You should be able to use the `Deflator` class present in the JDK - since 11 that&#39;s been able to work with `ByteBuffer` directly.","body":"You should be able to use the <code>Deflator</code> class present in the JDK - since 11 that&#39;s been able to work with <code>ByteBuffer</code> directly."}],"answers":[{"tags":[],"owner":{"account_id":9874198,"reputation":489,"user_id":8632023,"display_name":"Daniel Zin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620339733,"creation_date":1620338844,"answer_id":67426539,"question_id":67317255,"body_markdown":"You want to avoid buffering of full data, but you can archive each ByteBuffer chunk or, if your chunks are sufficiently small, to consolidate chunks in groups and then to archive.\r\n\r\nThis will not require too long memory, but will compress your data.\r\nThe actual level of compression depends on *content* of your source data and on *number of chunks* consolidated before archiving. I think, you cat adjust it manually to have the best ratio.\r\n\r\nThe example of probable code is below:\r\n   \r\n    public class Test_GzipFlux {\r\n\r\n\t/**\r\n\t * Returns Flux of gzip-ed buffers after (optional) buffer consolidation\r\n\t * @param inFlux input stream of buffers\r\n\t * @param consolidatedBufCount number of buffers to consolidate before gzip-ing\r\n\t */\r\n\tpublic static Flux&lt;ByteBuffer&gt; gzipFlux(Flux&lt;ByteBuffer&gt; inFlux, \r\n                                            int consolidatedBufCount, int outChunkMaxLength) {\r\n\t\treturn inFlux.buffer(consolidatedBufCount)\r\n                     .map(inList-&gt;zipBuffers(inList, outChunkMaxLength));\r\n\t}\r\n\r\n\t/**\r\n\t * Consolidates buffers from input list, applies gzip, returns result as single buffer\r\n\t * @param inList portion of chunks to be consolidated\r\n\t * @param outChunkMaxLength estimated length of output chunk. \r\n\t *        !!! to avoid pipe deadlock, this length to be sufficient\r\n     *        !!! for consolidated data after gzip \r\n\t */\r\n\tprivate static ByteBuffer zipBuffers(List&lt;ByteBuffer&gt; inList, int outChunkMaxLength) {\r\n\t\ttry {\r\n\t\t\tPipedInputStream pis = new PipedInputStream(outChunkMaxLength);\r\n\t\t\tGZIPOutputStream gos = new GZIPOutputStream(new PipedOutputStream(pis));\r\n\r\n\t\t\tfor (var buf: inList) {\r\n\t\t\t\tgos.write(buf.array());\r\n\t\t\t}\r\n\t\t\tgos.close();\r\n\t\t\tbyte[] outBytes = new byte[pis.available()];\r\n\t\t\tpis.read(outBytes);\r\n\t\t\tpis.close();\r\n\t\t\treturn ByteBuffer.wrap(outBytes);\r\n\t\t} catch (IOException e) {\r\n\t\t\tthrow new RuntimeException(e.getMessage(), e);\r\n\t\t}\t\t\r\n\t}\r\n\t\r\n    private static void test() {\r\n\t\tint inLength  = ... // actual full length of source data\r\n\t\tFlux&lt;ByteBuffer&gt; source = ... // your source Flux\r\n\t\t\r\n        // these are parameters for your adjustment\r\n\t\tint consolidationCount = 5;\r\n\t\tint outChunkMaxLength= 30 * 1024;\r\n\r\n\t\tFlux&lt;ByteBuffer&gt; result = gzipFlux(source,consolidationCount, outChunkMaxLength);\t\t\t\r\n\t\r\n\t\tint outLen = result.reduce(0, (res, bb) -&gt; res + bb.array().length).block();\r\n\t\tSystem.out.println(&quot;ratio=&quot; + (double)inLength/outLen);\r\n\t}\r\n    }\r\n","title":"Reactor - How to compress Flux&lt;ByteBuffer&gt; on the fly?","body":"<p>You want to avoid buffering of full data, but you can archive each ByteBuffer chunk or, if your chunks are sufficiently small, to consolidate chunks in groups and then to archive.</p>\n<p>This will not require too long memory, but will compress your data.\nThe actual level of compression depends on <em>content</em> of your source data and on <em>number of chunks</em> consolidated before archiving. I think, you cat adjust it manually to have the best ratio.</p>\n<p>The example of probable code is below:</p>\n<pre><code>public class Test_GzipFlux {\n\n/**\n * Returns Flux of gzip-ed buffers after (optional) buffer consolidation\n * @param inFlux input stream of buffers\n * @param consolidatedBufCount number of buffers to consolidate before gzip-ing\n */\npublic static Flux&lt;ByteBuffer&gt; gzipFlux(Flux&lt;ByteBuffer&gt; inFlux, \n                                        int consolidatedBufCount, int outChunkMaxLength) {\n    return inFlux.buffer(consolidatedBufCount)\n                 .map(inList-&gt;zipBuffers(inList, outChunkMaxLength));\n}\n\n/**\n * Consolidates buffers from input list, applies gzip, returns result as single buffer\n * @param inList portion of chunks to be consolidated\n * @param outChunkMaxLength estimated length of output chunk. \n *        !!! to avoid pipe deadlock, this length to be sufficient\n *        !!! for consolidated data after gzip \n */\nprivate static ByteBuffer zipBuffers(List&lt;ByteBuffer&gt; inList, int outChunkMaxLength) {\n    try {\n        PipedInputStream pis = new PipedInputStream(outChunkMaxLength);\n        GZIPOutputStream gos = new GZIPOutputStream(new PipedOutputStream(pis));\n\n        for (var buf: inList) {\n            gos.write(buf.array());\n        }\n        gos.close();\n        byte[] outBytes = new byte[pis.available()];\n        pis.read(outBytes);\n        pis.close();\n        return ByteBuffer.wrap(outBytes);\n    } catch (IOException e) {\n        throw new RuntimeException(e.getMessage(), e);\n    }       \n}\n\nprivate static void test() {\n    int inLength  = ... // actual full length of source data\n    Flux&lt;ByteBuffer&gt; source = ... // your source Flux\n    \n    // these are parameters for your adjustment\n    int consolidationCount = 5;\n    int outChunkMaxLength= 30 * 1024;\n\n    Flux&lt;ByteBuffer&gt; result = gzipFlux(source,consolidationCount, outChunkMaxLength);           \n\n    int outLen = result.reduce(0, (res, bb) -&gt; res + bb.array().length).block();\n    System.out.println(&quot;ratio=&quot; + (double)inLength/outLen);\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5650328,"reputation":1113,"user_id":4471199,"display_name":"RoBeaToZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695638251,"creation_date":1695638251,"answer_id":77171924,"question_id":67317255,"body_markdown":"I had a similar task to do with `org.springframework.core.io.buffer.DataBuffer` instead of `ByteBuffer`. Here is my solution you can adapt from:\r\n\r\n```java\r\nprivate Flux&lt;DataBuffer&gt; compressDataBufferFlux(Flux&lt;DataBuffer&gt; dataBufferFlux) {\r\n    return Flux.create(\r\n            sink -&gt; {\r\n                try (ZipOutputStream zipOutputStream = createZipOutputStream(sink)) {\r\n                    compressDataBufferStream(dataBufferFlux, zipOutputStream, sink);\r\n                } catch (Exception e) {\r\n                    sink.error(e);\r\n                }\r\n            }\r\n    );\r\n}\r\n\r\n@SneakyThrows\r\nprivate void compressDataBufferStream(\r\n        Flux&lt;DataBuffer&gt; dataBufferFlux,\r\n        ZipOutputStream zipOutputStream,\r\n        FluxSink&lt;DataBuffer&gt; sink) {\r\n    zipOutputStream.putNextEntry(new ZipEntry(&quot;file.txt&quot;));\r\n    dataBufferFlux.subscribe(\r\n            dataBuffer -&gt; writeDataBuffer(dataBuffer, zipOutputStream, sink),\r\n            err -&gt; closeAndError(err, sink, zipOutputStream),\r\n            () -&gt; closeAndComplete(zipOutputStream, sink)\r\n    );\r\n}\r\n\r\nprivate ZipOutputStream createZipOutputStream(FluxSink&lt;DataBuffer&gt; sink) {\r\n    OutputStream outputStream =\r\n            new OutputStream() {\r\n                public void write(int b) {\r\n                    DataBuffer buffer = dataBufferFactory.allocateBuffer(1);\r\n                    buffer.write((byte) b);\r\n                    sink.next(buffer);\r\n                }\r\n            };\r\n    return new ZipOutputStream(outputStream);\r\n}\r\n\r\nprivate void writeDataBuffer(DataBuffer dataBuffer, ZipOutputStream zipOutputStream, FluxSink&lt;DataBuffer&gt; sink) {\r\n    try {\r\n        byte[] bytes = new byte[dataBuffer.readableByteCount()];\r\n        dataBuffer.read(bytes);\r\n        zipOutputStream.write(bytes);\r\n    } catch (IOException e) {\r\n        sink.error(e);\r\n    }\r\n}\r\n\r\nprivate void closeAndError(Throwable err, FluxSink&lt;DataBuffer&gt; sink, ZipOutputStream zipOutputStream) {\r\n    try {\r\n        zipOutputStream.close();\r\n    } catch (IOException e) {\r\n        sink.error(e);\r\n    }\r\n    sink.error(err);\r\n}\r\n\r\nprivate void closeAndComplete(ZipOutputStream zipOutputStream, FluxSink&lt;DataBuffer&gt; sink) {\r\n    try {\r\n        zipOutputStream.closeEntry();\r\n        zipOutputStream.close();\r\n    } catch (IOException e) {\r\n        sink.error(e);\r\n    }\r\n    sink.complete();\r\n}\r\n```\r\n\r\nFeedback is welcome!","title":"Reactor - How to compress Flux&lt;ByteBuffer&gt; on the fly?","body":"<p>I had a similar task to do with <code>org.springframework.core.io.buffer.DataBuffer</code> instead of <code>ByteBuffer</code>. Here is my solution you can adapt from:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Flux&lt;DataBuffer&gt; compressDataBufferFlux(Flux&lt;DataBuffer&gt; dataBufferFlux) {\n    return Flux.create(\n            sink -&gt; {\n                try (ZipOutputStream zipOutputStream = createZipOutputStream(sink)) {\n                    compressDataBufferStream(dataBufferFlux, zipOutputStream, sink);\n                } catch (Exception e) {\n                    sink.error(e);\n                }\n            }\n    );\n}\n\n@SneakyThrows\nprivate void compressDataBufferStream(\n        Flux&lt;DataBuffer&gt; dataBufferFlux,\n        ZipOutputStream zipOutputStream,\n        FluxSink&lt;DataBuffer&gt; sink) {\n    zipOutputStream.putNextEntry(new ZipEntry(&quot;file.txt&quot;));\n    dataBufferFlux.subscribe(\n            dataBuffer -&gt; writeDataBuffer(dataBuffer, zipOutputStream, sink),\n            err -&gt; closeAndError(err, sink, zipOutputStream),\n            () -&gt; closeAndComplete(zipOutputStream, sink)\n    );\n}\n\nprivate ZipOutputStream createZipOutputStream(FluxSink&lt;DataBuffer&gt; sink) {\n    OutputStream outputStream =\n            new OutputStream() {\n                public void write(int b) {\n                    DataBuffer buffer = dataBufferFactory.allocateBuffer(1);\n                    buffer.write((byte) b);\n                    sink.next(buffer);\n                }\n            };\n    return new ZipOutputStream(outputStream);\n}\n\nprivate void writeDataBuffer(DataBuffer dataBuffer, ZipOutputStream zipOutputStream, FluxSink&lt;DataBuffer&gt; sink) {\n    try {\n        byte[] bytes = new byte[dataBuffer.readableByteCount()];\n        dataBuffer.read(bytes);\n        zipOutputStream.write(bytes);\n    } catch (IOException e) {\n        sink.error(e);\n    }\n}\n\nprivate void closeAndError(Throwable err, FluxSink&lt;DataBuffer&gt; sink, ZipOutputStream zipOutputStream) {\n    try {\n        zipOutputStream.close();\n    } catch (IOException e) {\n        sink.error(e);\n    }\n    sink.error(err);\n}\n\nprivate void closeAndComplete(ZipOutputStream zipOutputStream, FluxSink&lt;DataBuffer&gt; sink) {\n    try {\n        zipOutputStream.closeEntry();\n        zipOutputStream.close();\n    } catch (IOException e) {\n        sink.error(e);\n    }\n    sink.complete();\n}\n</code></pre>\n<p>Feedback is welcome!</p>\n"}],"owner":{"account_id":14401555,"reputation":319,"user_id":10789057,"display_name":"Termin4t0r "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":845,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1695638251,"creation_date":1619698887,"question_id":67317255,"body_markdown":"I have a requirement to read and write compressed (gzip/brotli) streams without intermediate storage. The data is received from the underlying in `Flux&lt;ByteBuffer&gt;` format. The data is large enough that buffering is out of option. How do I compress `Flux&lt;ByteBuffer&gt;` on the fly without having to store the full data either in memory or writing out to disk? ","title":"Reactor - How to compress Flux&lt;ByteBuffer&gt; on the fly?","body":"<p>I have a requirement to read and write compressed (gzip/brotli) streams without intermediate storage. The data is received from the underlying in <code>Flux&lt;ByteBuffer&gt;</code> format. The data is large enough that buffering is out of option. How do I compress <code>Flux&lt;ByteBuffer&gt;</code> on the fly without having to store the full data either in memory or writing out to disk?</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver"],"owner":{"account_id":17111308,"reputation":53,"user_id":12382025,"display_name":"jakesh gowda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695638156,"creation_date":1695638156,"question_id":77171916,"body_markdown":"I&#39;m unable to close save address popup in chrome and it is affecting my test case.\r\nI&#39;m using chrome versio 114.0.5735.110 and chrome driver version 114.0.5735.90.\r\nI tried using chrome option, My code is as below\r\n\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.addArguments(&quot;--disable-popup-blocking&quot;); \r\n    options.addArguments(&quot;--disable-notifications&quot;);\r\n    options.addArguments(&quot;--disable-infobars&quot;);\r\n    options.addArguments(&quot;--disable-extensions&quot;); \r\n    options.addArguments(&quot;--disable-save-password-bubble&quot;);\r\n\r\nCan anyone suggest me some way to disable the popup.","title":"Enable to close the save address popup in Selenium","body":"<p>I'm unable to close save address popup in chrome and it is affecting my test case.\nI'm using chrome versio 114.0.5735.110 and chrome driver version 114.0.5735.90.\nI tried using chrome option, My code is as below</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--disable-popup-blocking&quot;); \noptions.addArguments(&quot;--disable-notifications&quot;);\noptions.addArguments(&quot;--disable-infobars&quot;);\noptions.addArguments(&quot;--disable-extensions&quot;); \noptions.addArguments(&quot;--disable-save-password-bubble&quot;);\n</code></pre>\n<p>Can anyone suggest me some way to disable the popup.</p>\n"},{"tags":["java","unit-testing","gradle","code-coverage","jacoco"],"comments":[{"owner":{"account_id":2163431,"reputation":2667,"user_id":1917078,"accept_rate":50,"display_name":"Steve Peak"},"score":1,"creation_date":1430767906,"post_id":29887805,"comment_id":48192734,"body_markdown":"A third party option (FD I&#39;m founder of): If you upload reports to [Codecov](https://codecov.io) you can **ignore any files** you like after the fact in the features section of the product. Thanks.","body":"A third party option (FD I&#39;m founder of): If you upload reports to <a href=\"https://codecov.io\" rel=\"nofollow noreferrer\">Codecov</a> you can <b>ignore any files</b> you like after the fact in the features section of the product. Thanks."},{"owner":{"account_id":918082,"reputation":54574,"user_id":950427,"accept_rate":91,"display_name":"Jared Burrows"},"score":0,"creation_date":1430931735,"post_id":29887805,"comment_id":48279302,"body_markdown":"@StevePeak So you can filter by `packages` online using `Codecov`? Also, I saw the `Github`, what about `Android` support, I saw `Java`. I should still have to send you all of the reports then filter after vs filtering before.","body":"@StevePeak So you can filter by <code>packages</code> online using <code>Codecov</code>? Also, I saw the <code>Github</code>, what about <code>Android</code> support, I saw <code>Java</code>. I should still have to send you all of the reports then filter after vs filtering before."},{"owner":{"account_id":2163431,"reputation":2667,"user_id":1917078,"accept_rate":50,"display_name":"Steve Peak"},"score":0,"creation_date":1430934437,"post_id":29887805,"comment_id":48281065,"body_markdown":"You can filter based on a regexp method of any filed you do not want to include. All java is supported via Jacoco reports. Just filtering after the fact on Codecov works. It will remember your filters and apply it to all future reports. Thanks!","body":"You can filter based on a regexp method of any filed you do not want to include. All java is supported via Jacoco reports. Just filtering after the fact on Codecov works. It will remember your filters and apply it to all future reports. Thanks!"},{"owner":{"account_id":96837,"reputation":94466,"user_id":263004,"accept_rate":96,"display_name":"Vivin Paliath"},"score":7,"creation_date":1446233784,"post_id":29887805,"comment_id":54675524,"body_markdown":"I&#39;m curious; what does the `excludes` from the official documentation actually *do* then? Is it pretty much useless?","body":"I&#39;m curious; what does the <code>excludes</code> from the official documentation actually <i>do</i> then? Is it pretty much useless?"},{"owner":{"account_id":288740,"reputation":36420,"user_id":589329,"accept_rate":40,"display_name":"Vampire"},"score":0,"creation_date":1569399243,"post_id":29887805,"comment_id":102580299,"body_markdown":"That `excludes` is not on the coverage task, but on the test task. It excludes files from being instrumented by JaCoCo and thus coverage being recorded. You can use this if you don&#39;t want to record coverage for some classes, if you cannot because of some conflict with another instrumenting agent, or because you pre-instrumented classes. This will not exclude a class from the report, especially in the last case mentioned, this would be a horrible idea.","body":"That <code>excludes</code> is not on the coverage task, but on the test task. It excludes files from being instrumented by JaCoCo and thus coverage being recorded. You can use this if you don&#39;t want to record coverage for some classes, if you cannot because of some conflict with another instrumenting agent, or because you pre-instrumented classes. This will not exclude a class from the report, especially in the last case mentioned, this would be a horrible idea."}],"answers":[{"tags":[],"owner":{"account_id":918082,"reputation":54574,"user_id":950427,"accept_rate":91,"display_name":"Jared Burrows"},"down_vote_count":2,"up_vote_count":168,"is_accepted":true,"score":166,"last_activity_date":1610071983,"creation_date":1430112313,"answer_id":29887806,"question_id":29887805,"body_markdown":"# Thanks to, `Yannick Welsch`:\r\n\r\nAfter searching Google, reading the Gradle docs and going through older StackOverflow posts, I found this answer on the Official [tag:Gradle] forums!\r\n\r\n    jacocoTestReport {\r\n        afterEvaluate {\r\n            classDirectories.setFrom(files(classDirectories.files.collect {\r\n                fileTree(dir: it, exclude: &#39;com/blah/**&#39;)\r\n            }))\r\n        }\r\n    }\r\n\r\n**Source:** https://issues.gradle.org/browse/GRADLE-2955\r\n\r\nFor older gradle versions &lt; 5.x may need to use \r\n`classDirectories = files(classDirectories.files.collect {` instead of `classDirectories.setFrom`\r\n\r\n# Solution to my `build.gradle` for Java/Groovy projects:\r\n\r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;jacoco&#39;\r\n    \r\n    jacocoTestReport {\r\n        reports {\r\n            xml {\r\n                enabled true // coveralls plugin depends on xml format report\r\n            }\r\n    \r\n            html {\r\n                enabled true\r\n            }\r\n        }\r\n    \r\n        afterEvaluate {\r\n            classDirectories = files(classDirectories.files.collect {\r\n                fileTree(dir: it,\r\n                        exclude: [&#39;codeeval/**&#39;,\r\n                                  &#39;crackingthecode/part3knowledgebased/**&#39;,\r\n                                  &#39;**/Chapter7ObjectOrientedDesign**&#39;,\r\n                                  &#39;**/Chapter11Testing**&#39;,\r\n                                  &#39;**/Chapter12SystemDesignAndMemoryLimits**&#39;,\r\n                                  &#39;projecteuler/**&#39;])\r\n            })\r\n        }\r\n    }\r\n\r\nAs you can see, I was successfully able to add more to `exclude:` in order to filter a few packages.\r\n\r\n**Source:** https://github.com/jaredsburrows/CS-Interview-Questions/blob/master/build.gradle\r\n\r\n# Custom tasks for other projects such as Android:\r\n\r\n    apply plugin: &#39;jacoco&#39;\r\n    \r\n    task jacocoReport(type: JacocoReport) {\r\n        reports {\r\n            xml {\r\n                enabled true // coveralls plugin depends on xml format report\r\n            }\r\n    \r\n            html {\r\n                enabled true\r\n            }\r\n        }\r\n    \r\n        afterEvaluate {\r\n            classDirectories = files(classDirectories.files.collect {\r\n                fileTree(dir: it,\r\n                        exclude: [&#39;codeeval/**&#39;,\r\n                                  &#39;crackingthecode/part3knowledgebased/**&#39;,\r\n                                  &#39;**/Chapter7ObjectOrientedDesign**&#39;,\r\n                                  &#39;**/Chapter11Testing**&#39;,\r\n                                  &#39;**/Chapter12SystemDesignAndMemoryLimits**&#39;,\r\n                                  &#39;projecteuler/**&#39;])\r\n            })\r\n        }\r\n    }\r\n\r\n**Source:** https://github.com/jaredsburrows/android-gradle-java-app-template/blob/master/gradle/quality.gradle#L59","title":"Filter JaCoCo coverage reports with Gradle","body":"<h1>Thanks to, <code>Yannick Welsch</code>:</h1>\n<p>After searching Google, reading the Gradle docs and going through older StackOverflow posts, I found this answer on the Official <a href=\"/questions/tagged/gradle\" class=\"post-tag\" title=\"show questions tagged &#39;gradle&#39;\" rel=\"tag\">gradle</a> forums!</p>\n<pre><code>jacocoTestReport {\n    afterEvaluate {\n        classDirectories.setFrom(files(classDirectories.files.collect {\n            fileTree(dir: it, exclude: 'com/blah/**')\n        }))\n    }\n}\n</code></pre>\n<p><strong>Source:</strong> <a href=\"https://issues.gradle.org/browse/GRADLE-2955\" rel=\"noreferrer\">https://issues.gradle.org/browse/GRADLE-2955</a></p>\n<p>For older gradle versions &lt; 5.x may need to use\n<code>classDirectories = files(classDirectories.files.collect {</code> instead of <code>classDirectories.setFrom</code></p>\n<h1>Solution to my <code>build.gradle</code> for Java/Groovy projects:</h1>\n<pre><code>apply plugin: 'java'\napply plugin: 'jacoco'\n\njacocoTestReport {\n    reports {\n        xml {\n            enabled true // coveralls plugin depends on xml format report\n        }\n\n        html {\n            enabled true\n        }\n    }\n\n    afterEvaluate {\n        classDirectories = files(classDirectories.files.collect {\n            fileTree(dir: it,\n                    exclude: ['codeeval/**',\n                              'crackingthecode/part3knowledgebased/**',\n                              '**/Chapter7ObjectOrientedDesign**',\n                              '**/Chapter11Testing**',\n                              '**/Chapter12SystemDesignAndMemoryLimits**',\n                              'projecteuler/**'])\n        })\n    }\n}\n</code></pre>\n<p>As you can see, I was successfully able to add more to <code>exclude:</code> in order to filter a few packages.</p>\n<p><strong>Source:</strong> <a href=\"https://github.com/jaredsburrows/CS-Interview-Questions/blob/master/build.gradle\" rel=\"noreferrer\">https://github.com/jaredsburrows/CS-Interview-Questions/blob/master/build.gradle</a></p>\n<h1>Custom tasks for other projects such as Android:</h1>\n<pre><code>apply plugin: 'jacoco'\n\ntask jacocoReport(type: JacocoReport) {\n    reports {\n        xml {\n            enabled true // coveralls plugin depends on xml format report\n        }\n\n        html {\n            enabled true\n        }\n    }\n\n    afterEvaluate {\n        classDirectories = files(classDirectories.files.collect {\n            fileTree(dir: it,\n                    exclude: ['codeeval/**',\n                              'crackingthecode/part3knowledgebased/**',\n                              '**/Chapter7ObjectOrientedDesign**',\n                              '**/Chapter11Testing**',\n                              '**/Chapter12SystemDesignAndMemoryLimits**',\n                              'projecteuler/**'])\n        })\n    }\n}\n</code></pre>\n<p><strong>Source:</strong> <a href=\"https://github.com/jaredsburrows/android-gradle-java-app-template/blob/master/gradle/quality.gradle#L59\" rel=\"noreferrer\">https://github.com/jaredsburrows/android-gradle-java-app-template/blob/master/gradle/quality.gradle#L59</a></p>\n"},{"tags":[],"owner":{"account_id":2779394,"reputation":671,"user_id":2392229,"display_name":"Andre Compagno"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1431009698,"creation_date":1431009698,"answer_id":30104366,"question_id":29887805,"body_markdown":"[Here][1] is a solution for this problem in ANT. This can be adapted to gradle by adding the following under the `jacocoTestReport` task. Although this isn&#39;t really documented by jacoco, it seems like the only way to filter the test results for now.\r\n\r\n    afterEvaluate {\r\n        classDirectories = files(classDirectories.files.collect {\r\n            fileTree(dir: it, exclude: &#39;excluded/files/**&#39;)\r\n        })\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/14404790/jacoco-not-excluding-classes-when-using-ant","title":"Filter JaCoCo coverage reports with Gradle","body":"<p><a href=\"https://stackoverflow.com/questions/14404790/jacoco-not-excluding-classes-when-using-ant\">Here</a> is a solution for this problem in ANT. This can be adapted to gradle by adding the following under the <code>jacocoTestReport</code> task. Although this isn't really documented by jacoco, it seems like the only way to filter the test results for now.</p>\n\n<pre><code>afterEvaluate {\n    classDirectories = files(classDirectories.files.collect {\n        fileTree(dir: it, exclude: 'excluded/files/**')\n    })\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4514046,"reputation":749,"user_id":3669400,"display_name":"Randy"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1456877805,"creation_date":1456872120,"answer_id":35735072,"question_id":29887805,"body_markdown":"This has been out for a while, but I just ran across this.  I was struggling with all the exclusions needed.  I found it was something much more simple for me.  If you follow the Maven project layout style /src/main/java and /src/test/java, you simply need to put **buildDir/classes/*main***  in your **classDirectories** config like so:\r\n\r\n    afterEvaluate {\r\n        jacocoTestReport {\r\n            def coverageSourceDirs = [&#39;src/main/java&#39;]\r\n            reports {\r\n                xml.enabled false\r\n                csv.enabled false\r\n                html.destination &quot;${buildDir}/reports/jacocoHtml&quot;\r\n            }\r\n            sourceDirectories = files(coverageSourceDirs)\r\n            classDirectories = fileTree(\r\n                    dir: &quot;${project.buildDir}/classes/main&quot;,\r\n                    excludes: [\r\n                          //whatever here like JavaConfig etc. in /src/main/java\r\n                         ]\r\n            )\r\n        }\r\n    }","title":"Filter JaCoCo coverage reports with Gradle","body":"<p>This has been out for a while, but I just ran across this.  I was struggling with all the exclusions needed.  I found it was something much more simple for me.  If you follow the Maven project layout style /src/main/java and /src/test/java, you simply need to put <strong>buildDir/classes/<em>main</em></strong>  in your <strong>classDirectories</strong> config like so:</p>\n\n<pre><code>afterEvaluate {\n    jacocoTestReport {\n        def coverageSourceDirs = ['src/main/java']\n        reports {\n            xml.enabled false\n            csv.enabled false\n            html.destination \"${buildDir}/reports/jacocoHtml\"\n        }\n        sourceDirectories = files(coverageSourceDirs)\n        classDirectories = fileTree(\n                dir: \"${project.buildDir}/classes/main\",\n                excludes: [\n                      //whatever here like JavaConfig etc. in /src/main/java\n                     ]\n        )\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":252146,"reputation":4740,"user_id":529977,"accept_rate":62,"display_name":"childno͡.de"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1466505451,"creation_date":1466505451,"answer_id":37942137,"question_id":29887805,"body_markdown":"for me, it&#39;s fine working with\r\n\r\n    test {\r\n      jacoco {\r\n        excludes += [&#39;codeeval/**&#39;,\r\n                     &#39;crackingthecode/part3knowledgebased/**&#39;,\r\n                     &#39;**/Chapter7ObjectOrientedDesign**&#39;,\r\n                     &#39;**/Chapter11Testing**&#39;,\r\n                     &#39;**/Chapter12SystemDesignAndMemoryLimits**&#39;,\r\n                     &#39;projecteuler/**&#39;]\r\n      }\r\n    }\r\n\r\nas stated out in documentation\r\nhttps://docs.gradle.org/current/userguide/jacoco_plugin.html#N16E62 and initally asked\r\nso the answer is:\r\n\r\nso if you ask me: it&#39;s not a question of\r\n\r\n    excludes = [&quot;projecteuler/**&quot;]\r\n\r\nor\r\n\r\n    excludes += [&quot;projecteuler/**&quot;]\r\n\r\nbut\r\n\r\n    excludes = [&quot;**/projecteuler/**&quot;]\r\n\r\nto exclude a package `*.projecteuler.*`\r\n\r\nand `test {}` on project level, not nested in `jacocoTestReport`","title":"Filter JaCoCo coverage reports with Gradle","body":"<p>for me, it's fine working with</p>\n\n<pre><code>test {\n  jacoco {\n    excludes += ['codeeval/**',\n                 'crackingthecode/part3knowledgebased/**',\n                 '**/Chapter7ObjectOrientedDesign**',\n                 '**/Chapter11Testing**',\n                 '**/Chapter12SystemDesignAndMemoryLimits**',\n                 'projecteuler/**']\n  }\n}\n</code></pre>\n\n<p>as stated out in documentation\n<a href=\"https://docs.gradle.org/current/userguide/jacoco_plugin.html#N16E62\" rel=\"noreferrer\">https://docs.gradle.org/current/userguide/jacoco_plugin.html#N16E62</a> and initally asked\nso the answer is:</p>\n\n<p>so if you ask me: it's not a question of</p>\n\n<pre><code>excludes = [\"projecteuler/**\"]\n</code></pre>\n\n<p>or</p>\n\n<pre><code>excludes += [\"projecteuler/**\"]\n</code></pre>\n\n<p>but</p>\n\n<pre><code>excludes = [\"**/projecteuler/**\"]\n</code></pre>\n\n<p>to exclude a package <code>*.projecteuler.*</code></p>\n\n<p>and <code>test {}</code> on project level, not nested in <code>jacocoTestReport</code></p>\n"},{"tags":[],"owner":{"account_id":7371229,"reputation":1869,"user_id":5611328,"display_name":"er-han"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1517316869,"creation_date":1517316869,"answer_id":48521980,"question_id":29887805,"body_markdown":"The code below excludes classes from coverage verification as well:\r\n\r\n    jacocoTestCoverageVerification {\r\n        afterEvaluate {\r\n            classDirectories = files(classDirectories.files.collect {\r\n                fileTree(dir: &quot;${project.buildDir}/classes/main&quot;,\r\n                        exclude: [&#39;**/packagename/**&#39;])\r\n            })\r\n        }\r\n    }","title":"Filter JaCoCo coverage reports with Gradle","body":"<p>The code below excludes classes from coverage verification as well:</p>\n\n<pre><code>jacocoTestCoverageVerification {\n    afterEvaluate {\n        classDirectories = files(classDirectories.files.collect {\n            fileTree(dir: \"${project.buildDir}/classes/main\",\n                    exclude: ['**/packagename/**'])\n        })\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":427053,"reputation":4001,"user_id":808615,"display_name":"uwe"},"down_vote_count":0,"up_vote_count":101,"is_accepted":false,"score":101,"last_activity_date":1579015808,"creation_date":1547631109,"answer_id":54213986,"question_id":29887805,"body_markdown":"For Gradle version 5.x, the `classDirectories = files(...)` gives a deprecation warning and does not work at all starting from Gradle 6.0\r\nThis is the nondeprecated way of excluding classes:\r\n\r\n```\r\njacocoTestReport {\r\n    afterEvaluate {\r\n        classDirectories.setFrom(files(classDirectories.files.collect {\r\n            fileTree(dir: it, exclude: &#39;com/exclude/**&#39;)\r\n        }))\r\n    }\r\n}\r\n```","title":"Filter JaCoCo coverage reports with Gradle","body":"<p>For Gradle version 5.x, the <code>classDirectories = files(...)</code> gives a deprecation warning and does not work at all starting from Gradle 6.0\nThis is the nondeprecated way of excluding classes:</p>\n\n<pre><code>jacocoTestReport {\n    afterEvaluate {\n        classDirectories.setFrom(files(classDirectories.files.collect {\n            fileTree(dir: it, exclude: 'com/exclude/**')\n        }))\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1347697,"reputation":1424,"user_id":1288120,"accept_rate":52,"display_name":"Bharat Pahalwani"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1568189994,"creation_date":1568189994,"answer_id":57884984,"question_id":29887805,"body_markdown":"add below config in gradle.properties file \r\n\r\n`coverageExcludeClasses=[&quot;com.example.package.elasticsearch.*&quot;, &quot;com.example.package2.*&quot;,]`","title":"Filter JaCoCo coverage reports with Gradle","body":"<p>add below config in gradle.properties file </p>\n\n<p><code>coverageExcludeClasses=[\"com.example.package.elasticsearch.*\", \"com.example.package2.*\",]</code></p>\n"},{"tags":[],"owner":{"account_id":3516256,"reputation":883,"user_id":2939601,"display_name":"riiich"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1572038800,"creation_date":1572038800,"answer_id":58565935,"question_id":29887805,"body_markdown":"some comments mentioned the deprecation warning.  to solve just use the getter:\r\n\r\n    afterEvaluate {\r\n        getClassDirectories().from(files(classDirectories.files.collect {\r\n            fileTree(dir: it, exclude: &#39;com/blah/**&#39;)\r\n        }))\r\n    }","title":"Filter JaCoCo coverage reports with Gradle","body":"<p>some comments mentioned the deprecation warning.  to solve just use the getter:</p>\n\n<pre><code>afterEvaluate {\n    getClassDirectories().from(files(classDirectories.files.collect {\n        fileTree(dir: it, exclude: 'com/blah/**')\n    }))\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5299090,"reputation":349,"user_id":4229356,"display_name":"Ankur Srivastava"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1577229842,"creation_date":1577229842,"answer_id":59474116,"question_id":29887805,"body_markdown":"For Gradle6\r\nUse something like below, because they made `classDirectories as final`, we cannot re-assign it, but a setter method exists `classDirectories.setFrom` which can be utilized\r\n\r\n\r\n        jacocoTestReport {\r\n        reports {\r\n            xml.enabled true\r\n            html.enabled true\r\n            html.destination file(&quot;$buildDir/reports/jacoco&quot;)\r\n        }\r\n    \r\n        afterEvaluate {\r\n            classDirectories.setFrom(files(classDirectories.files.collect {\r\n                fileTree(dir: it,\r\n                        exclude: [&#39;**/server/**&#39;,\r\n                                  &#39;**/model/**&#39;,\r\n                                  &#39;**/command/**&#39;\r\n                        ]\r\n                )\r\n            }))\r\n        }\r\n    }\r\n\r\n","title":"Filter JaCoCo coverage reports with Gradle","body":"<p>For Gradle6\nUse something like below, because they made <code>classDirectories as final</code>, we cannot re-assign it, but a setter method exists <code>classDirectories.setFrom</code> which can be utilized</p>\n\n<pre><code>    jacocoTestReport {\n    reports {\n        xml.enabled true\n        html.enabled true\n        html.destination file(\"$buildDir/reports/jacoco\")\n    }\n\n    afterEvaluate {\n        classDirectories.setFrom(files(classDirectories.files.collect {\n            fileTree(dir: it,\n                    exclude: ['**/server/**',\n                              '**/model/**',\n                              '**/command/**'\n                    ]\n            )\n        }))\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8205417,"reputation":171,"user_id":6175308,"display_name":"WIlkins LIang"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1594803117,"creation_date":1594803117,"answer_id":62911084,"question_id":29887805,"body_markdown":"In order to filter in jacoco report, exclusion need to be done in two task `jacocoTestReport` and `jacocoTestCoverageVerification`.\r\n\r\nsample code\r\n```\r\n    def jacocoExclude = [&#39;**/example/**&#39;, &#39;**/*Module*.class&#39;]\r\n\r\n    jacocoTestReport {\r\n        afterEvaluate {\r\n            getClassDirectories().setFrom(classDirectories.files.collect {\r\n                fileTree(dir: it, exclude: jacocoExclude)\r\n            })\r\n        }\r\n    }\r\n\r\n    jacocoTestCoverageVerification {\r\n        afterEvaluate {\r\n            getClassDirectories().setFrom(classDirectories.files.collect {\r\n                fileTree(dir: it, exclude: jacocoExclude)\r\n            })\r\n        }\r\n\r\n        ...\r\n    }\r\n\r\n\r\n\r\n```","title":"Filter JaCoCo coverage reports with Gradle","body":"<p>In order to filter in jacoco report, exclusion need to be done in two task <code>jacocoTestReport</code> and <code>jacocoTestCoverageVerification</code>.</p>\n<p>sample code</p>\n<pre><code>    def jacocoExclude = ['**/example/**', '**/*Module*.class']\n\n    jacocoTestReport {\n        afterEvaluate {\n            getClassDirectories().setFrom(classDirectories.files.collect {\n                fileTree(dir: it, exclude: jacocoExclude)\n            })\n        }\n    }\n\n    jacocoTestCoverageVerification {\n        afterEvaluate {\n            getClassDirectories().setFrom(classDirectories.files.collect {\n                fileTree(dir: it, exclude: jacocoExclude)\n            })\n        }\n\n        ...\n    }\n\n\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3171905,"reputation":10222,"user_id":2680640,"display_name":"sendon1982"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1605161444,"creation_date":1605161444,"answer_id":64798773,"question_id":29887805,"body_markdown":"For me, i have to do exclude in 2 places\r\n\r\n    jacocoTestReport {\r\n        dependsOn test // tests are required to run before generating the report\r\n\r\n\r\n        afterEvaluate {\r\n            excludedClassFilesForReport(classDirectories)\r\n        }\r\n    }\r\n\r\n    jacocoTestCoverageVerification {\r\n\r\n        afterEvaluate {\r\n            excludedClassFilesForReport(classDirectories)\r\n        }\r\n    }\r\n\r\n    private excludedClassFilesForReport(classDirectories) {\r\n        classDirectories.setFrom(files(classDirectories.files.collect {\r\n            fileTree(dir: it,\r\n                exclude: [\r\n                        &#39;com/test/a/config/**&#39;,\r\n                        &#39;com/test/b/constant/**&#39;,\r\n                        &#39;com/test/c/MainApp.class&#39;\r\n                ]\r\n        )\r\n    }))\r\n    }","title":"Filter JaCoCo coverage reports with Gradle","body":"<p>For me, i have to do exclude in 2 places</p>\n<pre><code>jacocoTestReport {\n    dependsOn test // tests are required to run before generating the report\n\n\n    afterEvaluate {\n        excludedClassFilesForReport(classDirectories)\n    }\n}\n\njacocoTestCoverageVerification {\n\n    afterEvaluate {\n        excludedClassFilesForReport(classDirectories)\n    }\n}\n\nprivate excludedClassFilesForReport(classDirectories) {\n    classDirectories.setFrom(files(classDirectories.files.collect {\n        fileTree(dir: it,\n            exclude: [\n                    'com/test/a/config/**',\n                    'com/test/b/constant/**',\n                    'com/test/c/MainApp.class'\n            ]\n    )\n}))\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9719109,"reputation":1190,"user_id":7208392,"display_name":"saif"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617385669,"creation_date":1617385669,"answer_id":66923244,"question_id":29887805,"body_markdown":"Gradle 6.8.3 thrown an exception.\r\n`Cannot set the value of read-only property &#39;classDirectories&#39; for task &#39;:jacocoTestReport&#39; of type org.gradle.testing.jacoco.tasks.JacocoReport.`\r\n\r\nso I found a way to fix the issue by using \r\n\r\n```groovy\r\nclassDirectories.setFrom(\r\n\t\t\tfileTree(dir: &quot;build/classes/java/main&quot;)\r\n\t\t\t\t\t.filter({file -&gt; !file.path.contains(&#39;/dir1&#39;)})\r\n\t\t\t\t\t.filter({file -&gt; !file.path.contains(&#39;/dir2&#39;)})\r\n\t\t\t\t\t.filter({file -&gt; !file.path.contains(&#39;/dir3&#39;)})\r\n\t)\r\n```","title":"Filter JaCoCo coverage reports with Gradle","body":"<p>Gradle 6.8.3 thrown an exception.\n<code>Cannot set the value of read-only property 'classDirectories' for task ':jacocoTestReport' of type org.gradle.testing.jacoco.tasks.JacocoReport.</code></p>\n<p>so I found a way to fix the issue by using</p>\n<pre><code>classDirectories.setFrom(\n            fileTree(dir: &quot;build/classes/java/main&quot;)\n                    .filter({file -&gt; !file.path.contains('/dir1')})\n                    .filter({file -&gt; !file.path.contains('/dir2')})\n                    .filter({file -&gt; !file.path.contains('/dir3')})\n    )\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3508684,"reputation":1445,"user_id":2933593,"accept_rate":100,"display_name":"edelagnier"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1617884883,"creation_date":1617884883,"answer_id":67003991,"question_id":29887805,"body_markdown":"for Kotlin users, here is what I used (gradle 6.7)\r\n\r\nbuild.gradle.kts\r\n\r\n\r\n    tasks.jacocoTestReport {\r\n        // tests are required to run before generating the report\r\n        dependsOn(tasks.test) \r\n        // print the report url for easier access\r\n        doLast {\r\n            println(&quot;file://${project.rootDir}/build/reports/jacoco/test/html/index.html&quot;)\r\n        }\r\n        classDirectories.setFrom(\r\n            files(classDirectories.files.map {\r\n                fileTree(it) {\r\n                    exclude(&quot;**/generated/**&quot;, &quot;**/other-excluded/**&quot;)\r\n                }\r\n            })\r\n        )\r\n    }\r\n \r\nas suggested here : https://github.com/gradle/kotlin-dsl-samples/issues/1176#issuecomment-610643709","title":"Filter JaCoCo coverage reports with Gradle","body":"<p>for Kotlin users, here is what I used (gradle 6.7)</p>\n<p>build.gradle.kts</p>\n<pre><code>tasks.jacocoTestReport {\n    // tests are required to run before generating the report\n    dependsOn(tasks.test) \n    // print the report url for easier access\n    doLast {\n        println(&quot;file://${project.rootDir}/build/reports/jacoco/test/html/index.html&quot;)\n    }\n    classDirectories.setFrom(\n        files(classDirectories.files.map {\n            fileTree(it) {\n                exclude(&quot;**/generated/**&quot;, &quot;**/other-excluded/**&quot;)\n            }\n        })\n    )\n}\n</code></pre>\n<p>as suggested here : <a href=\"https://github.com/gradle/kotlin-dsl-samples/issues/1176#issuecomment-610643709\" rel=\"noreferrer\">https://github.com/gradle/kotlin-dsl-samples/issues/1176#issuecomment-610643709</a></p>\n"},{"tags":[],"owner":{"account_id":81231,"reputation":3313,"user_id":229178,"accept_rate":100,"display_name":"sbzoom"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1618276648,"creation_date":1618276648,"answer_id":67067504,"question_id":29887805,"body_markdown":"For anyone going out of their mind looking for this answer in Kotlin DSL, here it is:\r\n\r\n```kotlin\r\nval jacocoExclude = listOf(&quot;**/entities/**&quot;, &quot;**/dtos/**&quot;)\r\njacocoTestReport {\r\n    reports {\r\n        xml.isEnabled = true\r\n        csv.isEnabled = false\r\n    }\r\n    classDirectories.setFrom(classDirectories.files.map {\r\n        fileTree(it).matching {\r\n            exclude(jacocoExclude)\r\n        }\r\n        })\r\n}\r\ntest {\r\n    useJUnitPlatform()\r\n    systemProperty(&quot;gradle.build.dir&quot;, project.buildDir)\r\n    finalizedBy(jacocoTestReport)\r\n    extensions.configure(JacocoTaskExtension::class) {\r\n        excludes = jacocoExclude\r\n    }\r\n}\r\n```","title":"Filter JaCoCo coverage reports with Gradle","body":"<p>For anyone going out of their mind looking for this answer in Kotlin DSL, here it is:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val jacocoExclude = listOf(&quot;**/entities/**&quot;, &quot;**/dtos/**&quot;)\njacocoTestReport {\n    reports {\n        xml.isEnabled = true\n        csv.isEnabled = false\n    }\n    classDirectories.setFrom(classDirectories.files.map {\n        fileTree(it).matching {\n            exclude(jacocoExclude)\n        }\n        })\n}\ntest {\n    useJUnitPlatform()\n    systemProperty(&quot;gradle.build.dir&quot;, project.buildDir)\n    finalizedBy(jacocoTestReport)\n    extensions.configure(JacocoTaskExtension::class) {\n        excludes = jacocoExclude\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7009911,"reputation":81,"user_id":6816421,"display_name":"Shreyas Patankar"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1667916313,"creation_date":1619682088,"answer_id":67313048,"question_id":29887805,"body_markdown":"For those who still scratching their heads to filter certain packages from the coverage report, here is the configuration that works for me using the most recent libraries.\r\n\r\n```\r\n   Build tool: Gradle 6.5 (also tried for 6.7)\r\n   Coverage Tool: Jacoco 0.8.5\r\n```\r\nThings to consider/Justifications\r\n\r\n- `afterScript` is not required\r\n- Need to exclude it twice, one for report generation and coverage verification\r\n- The intellij IDE recommends to use `excludes` param instead of `exclude`. Either of which just works fine\r\n- While providing the regex, be sure to provide the `.class` files and not the `.java` files. \r\n- Post Gradle 5, `classDirectories` is a read-only field, therefore, use `classDirectories.setFrom`\r\n\r\n```\r\njacocoTestReport {\r\n    doLast {\r\n        println(&quot;See report file://${project.rootDir}/build/reports/jacoco/test/html/index.html&quot;)\r\n    }\r\n    excludedClassFilesForReport(classDirectories)\r\n}\r\n\r\njacocoTestCoverageVerification {\r\n    excludedClassFilesForReport(classDirectories)\r\n    violationRules {\r\n        rule {\r\n            limit {\r\n                minimum = 0.55\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nprivate excludedClassFilesForReport(classDirectories) {\r\n    classDirectories.setFrom(files(classDirectories.files.collect {\r\n        fileTree(dir: it, exclude: [\r\n                &#39;**/common/apigateway/*.class&#39;,\r\n                &#39;**/common/*/client/*Client*.class&#39;,\r\n                &#39;**/configuration/*ClientConfiguration.class&#39;,\r\n                &#39;**/model/search/*SearchService.class&#39;\r\n        ])\r\n    }))\r\n}\r\n\r\ncheck.dependsOn jacocoTestCoverageVerification\r\n```\r\n\r\n","title":"Filter JaCoCo coverage reports with Gradle","body":"<p>For those who still scratching their heads to filter certain packages from the coverage report, here is the configuration that works for me using the most recent libraries.</p>\n<pre><code>   Build tool: Gradle 6.5 (also tried for 6.7)\n   Coverage Tool: Jacoco 0.8.5\n</code></pre>\n<p>Things to consider/Justifications</p>\n<ul>\n<li><code>afterScript</code> is not required</li>\n<li>Need to exclude it twice, one for report generation and coverage verification</li>\n<li>The intellij IDE recommends to use <code>excludes</code> param instead of <code>exclude</code>. Either of which just works fine</li>\n<li>While providing the regex, be sure to provide the <code>.class</code> files and not the <code>.java</code> files.</li>\n<li>Post Gradle 5, <code>classDirectories</code> is a read-only field, therefore, use <code>classDirectories.setFrom</code></li>\n</ul>\n<pre><code>jacocoTestReport {\n    doLast {\n        println(&quot;See report file://${project.rootDir}/build/reports/jacoco/test/html/index.html&quot;)\n    }\n    excludedClassFilesForReport(classDirectories)\n}\n\njacocoTestCoverageVerification {\n    excludedClassFilesForReport(classDirectories)\n    violationRules {\n        rule {\n            limit {\n                minimum = 0.55\n            }\n        }\n    }\n}\n\nprivate excludedClassFilesForReport(classDirectories) {\n    classDirectories.setFrom(files(classDirectories.files.collect {\n        fileTree(dir: it, exclude: [\n                '**/common/apigateway/*.class',\n                '**/common/*/client/*Client*.class',\n                '**/configuration/*ClientConfiguration.class',\n                '**/model/search/*SearchService.class'\n        ])\n    }))\n}\n\ncheck.dependsOn jacocoTestCoverageVerification\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4514046,"reputation":749,"user_id":3669400,"display_name":"Randy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642538628,"creation_date":1642538628,"answer_id":70762138,"question_id":29887805,"body_markdown":"Here is my working config in Gradle with Jacoco 0.8.5 :\r\n\r\n    def jacocoExclusions = [\r\n            &#39;**/config/*Config.class&#39;,\r\n            &#39;**/config/*Advice.class&#39;,\r\n            &#39;**/security/*AuthorityRoles.class&#39;,\r\n            &#39;**/*Application.class&#39;\r\n    ];\r\n    \r\n    jacocoTestReport {\r\n      reports {\r\n        xml.enabled false\r\n        csv.enabled false\r\n        html.destination file(&quot;${buildDir}/reports/jacocoHtml&quot;)\r\n      }\r\n      afterEvaluate {\r\n        classDirectories.setFrom(files(classDirectories.files.collect {\r\n          fileTree(dir: it,\r\n                  exclude: jacocoExclusions\r\n          )\r\n        }))\r\n      }\r\n    }\r\n    \r\n    jacocoTestCoverageVerification {\r\n      afterEvaluate {\r\n        classDirectories.setFrom(files(classDirectories.files.collect {\r\n          fileTree(dir: it,\r\n                  exclude: jacocoExclusions\r\n          )\r\n        }))\r\n      }\r\n      violationRules {\r\n        rule {\r\n          excludes = jacocoExclusions\r\n          limit {\r\n            minimum = 0.90\r\n          }\r\n        }\r\n      }\r\n    }","title":"Filter JaCoCo coverage reports with Gradle","body":"<p>Here is my working config in Gradle with Jacoco 0.8.5 :</p>\n<pre><code>def jacocoExclusions = [\n        '**/config/*Config.class',\n        '**/config/*Advice.class',\n        '**/security/*AuthorityRoles.class',\n        '**/*Application.class'\n];\n\njacocoTestReport {\n  reports {\n    xml.enabled false\n    csv.enabled false\n    html.destination file(&quot;${buildDir}/reports/jacocoHtml&quot;)\n  }\n  afterEvaluate {\n    classDirectories.setFrom(files(classDirectories.files.collect {\n      fileTree(dir: it,\n              exclude: jacocoExclusions\n      )\n    }))\n  }\n}\n\njacocoTestCoverageVerification {\n  afterEvaluate {\n    classDirectories.setFrom(files(classDirectories.files.collect {\n      fileTree(dir: it,\n              exclude: jacocoExclusions\n      )\n    }))\n  }\n  violationRules {\n    rule {\n      excludes = jacocoExclusions\n      limit {\n        minimum = 0.90\n      }\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17029076,"reputation":298,"user_id":12319598,"display_name":"Jacek Sawko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695638139,"creation_date":1695638139,"answer_id":77171915,"question_id":29887805,"body_markdown":"For Gradle 7.6.1 in Kotlin syntax this works for me (using `setExcludes` instead of `exclude`) \r\n\r\n\r\n```\r\ntasks.jacocoTestReport {\r\n    reports {\r\n        html.required.set(true)\r\n        xml.required.set(true)\r\n    }\r\n    classDirectories.setFrom(files(classDirectories.files.map {\r\n        fileTree(it) {\r\n            setExcludes(listOf(\r\n                    &quot;**/first/path/to/skip/*.class&quot;,\r\n                    &quot;**/second/path/to/skip/*.class&quot;\r\n            ))\r\n        }\r\n    }))\r\n}\r\n","title":"Filter JaCoCo coverage reports with Gradle","body":"<p>For Gradle 7.6.1 in Kotlin syntax this works for me (using <code>setExcludes</code> instead of <code>exclude</code>)</p>\n<pre><code>tasks.jacocoTestReport {\n    reports {\n        html.required.set(true)\n        xml.required.set(true)\n    }\n    classDirectories.setFrom(files(classDirectories.files.map {\n        fileTree(it) {\n            setExcludes(listOf(\n                    &quot;**/first/path/to/skip/*.class&quot;,\n                    &quot;**/second/path/to/skip/*.class&quot;\n            ))\n        }\n    }))\n}\n</code></pre>\n"}],"owner":{"account_id":918082,"reputation":54574,"user_id":950427,"accept_rate":91,"display_name":"Jared Burrows"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160066,"favorite_count":0,"down_vote_count":0,"up_vote_count":186,"accepted_answer_id":29887806,"answer_count":17,"score":186,"last_activity_date":1695638139,"creation_date":1430112313,"question_id":29887805,"body_markdown":"# Problem:\n\nI have a project with [tag:JaCoCo] and I want to be able to filter certain classes and/or packages.\n\n# Related Documentation:\n\nI have read the following documentation:\n\n**Official [tag:JaCoCo] site:**\nhttp://www.eclemma.org/jacoco/index.html\n\n**Official [tag:JaCoCo] docs for [tag:Gradle]:** https://gradle.org/docs/current/userguide/jacoco_plugin.html\n\n**Official [tag:JaCoCo] `Github` issues, working on coverage:**\nhttps://github.com/jacoco/jacoco/wiki/FilteringOptions\nhttps://github.com/jacoco/jacoco/issues/14\n\n# Related StackOverflow Links:\nhttps://stackoverflow.com/questions/19625640/jacoco-gradle-filtering-options (No answer)\n\nhttps://stackoverflow.com/questions/27033757/exclude-packages-from-jacoco-report-using-sonarrunner-and-gradle (Not using [tag:sonar])\n\nhttps://stackoverflow.com/questions/14682389/jacoco-exclude-jsp-from-report (It seems to work for [tag:maven], I am using [tag:gradle])\n\nhttps://stackoverflow.com/questions/27799419/maven-jacoco-configuration-exclude-classes-packages-from-report-not-working (It seems to work for [tag:maven], I am using [tag:gradle])\n\nhttps://stackoverflow.com/questions/23756014/jacoco-gradle-plugin-exclude (Could not get this to work)\n\nhttps://stackoverflow.com/questions/17394427/gradle-jacoco-coverage-reports-includes-classes-excluded-in-configuration (Seems very close, it used `doFirst`, did not work for me)\n\n# Example of what I have tried:\n\n    apply plugin: &#39;java&#39;\n    apply plugin: &#39;jacoco&#39;\n    \n    buildscript {\n        repositories {\n            mavenCentral()\n            jcenter()\n        }\n    }\n    \n    repositories {\n        jcenter()\n    }\n    \n    jacocoTestReport {\n        reports {\n            xml {\n                enabled true // coveralls plugin depends on xml format report\n            }\n    \n            html {\n                enabled true\n            }\n        }\n\n        test {\n            jacoco {\n                destinationFile = file(&quot;$buildDir/jacoco/jacocoTest.exec&quot;)\n                classDumpFile = file(&quot;$buildDir/jacoco/classpathdumps&quot;)\n                excludes = [&quot;projecteuler/**&quot;] // &lt;-- does not work\n                // excludes = [&quot;projecteuler&quot;]\n            }\n        }\n    }\n\n# Question:\n**How can I exclude certain packages and classes when generating the [tag:JaCoCo] coverage reports?**","title":"Filter JaCoCo coverage reports with Gradle","body":"<h1>Problem:</h1>\n<p>I have a project with <a href=\"/questions/tagged/jacoco\" class=\"post-tag\" title=\"show questions tagged &#39;jacoco&#39;\" rel=\"tag\">jacoco</a> and I want to be able to filter certain classes and/or packages.</p>\n<h1>Related Documentation:</h1>\n<p>I have read the following documentation:</p>\n<p><strong>Official <a href=\"/questions/tagged/jacoco\" class=\"post-tag\" title=\"show questions tagged &#39;jacoco&#39;\" rel=\"tag\">jacoco</a> site:</strong>\n<a href=\"http://www.eclemma.org/jacoco/index.html\" rel=\"noreferrer\">http://www.eclemma.org/jacoco/index.html</a></p>\n<p><strong>Official <a href=\"/questions/tagged/jacoco\" class=\"post-tag\" title=\"show questions tagged &#39;jacoco&#39;\" rel=\"tag\">jacoco</a> docs for <a href=\"/questions/tagged/gradle\" class=\"post-tag\" title=\"show questions tagged &#39;gradle&#39;\" rel=\"tag\">gradle</a>:</strong> <a href=\"https://gradle.org/docs/current/userguide/jacoco_plugin.html\" rel=\"noreferrer\">https://gradle.org/docs/current/userguide/jacoco_plugin.html</a></p>\n<p><strong>Official <a href=\"/questions/tagged/jacoco\" class=\"post-tag\" title=\"show questions tagged &#39;jacoco&#39;\" rel=\"tag\">jacoco</a> <code>Github</code> issues, working on coverage:</strong>\n<a href=\"https://github.com/jacoco/jacoco/wiki/FilteringOptions\" rel=\"noreferrer\">https://github.com/jacoco/jacoco/wiki/FilteringOptions</a>\n<a href=\"https://github.com/jacoco/jacoco/issues/14\" rel=\"noreferrer\">https://github.com/jacoco/jacoco/issues/14</a></p>\n<h1>Related StackOverflow Links:</h1>\n<p><a href=\"https://stackoverflow.com/questions/19625640/jacoco-gradle-filtering-options\">JaCoCo &amp; Gradle - Filtering Options</a> (No answer)</p>\n<p><a href=\"https://stackoverflow.com/questions/27033757/exclude-packages-from-jacoco-report-using-sonarrunner-and-gradle\">Exclude packages from Jacoco report using Sonarrunner and Gradle</a> (Not using <a href=\"/questions/tagged/sonar\" class=\"post-tag\" title=\"show questions tagged &#39;sonar&#39;\" rel=\"tag\">sonar</a>)</p>\n<p><a href=\"https://stackoverflow.com/questions/14682389/jacoco-exclude-jsp-from-report\">JaCoCo - exclude JSP from report</a> (It seems to work for <a href=\"/questions/tagged/maven\" class=\"post-tag\" title=\"show questions tagged &#39;maven&#39;\" rel=\"tag\">maven</a>, I am using <a href=\"/questions/tagged/gradle\" class=\"post-tag\" title=\"show questions tagged &#39;gradle&#39;\" rel=\"tag\">gradle</a>)</p>\n<p><a href=\"https://stackoverflow.com/questions/27799419/maven-jacoco-configuration-exclude-classes-packages-from-report-not-working\">Maven Jacoco Configuration - Exclude classes/packages from report not working</a> (It seems to work for <a href=\"/questions/tagged/maven\" class=\"post-tag\" title=\"show questions tagged &#39;maven&#39;\" rel=\"tag\">maven</a>, I am using <a href=\"/questions/tagged/gradle\" class=\"post-tag\" title=\"show questions tagged &#39;gradle&#39;\" rel=\"tag\">gradle</a>)</p>\n<p><a href=\"https://stackoverflow.com/questions/23756014/jacoco-gradle-plugin-exclude\">JaCoCo gradle plugin exclude</a> (Could not get this to work)</p>\n<p><a href=\"https://stackoverflow.com/questions/17394427/gradle-jacoco-coverage-reports-includes-classes-excluded-in-configuration\">Gradle Jacoco - coverage reports includes classes excluded in configuration</a> (Seems very close, it used <code>doFirst</code>, did not work for me)</p>\n<h1>Example of what I have tried:</h1>\n<pre><code>apply plugin: 'java'\napply plugin: 'jacoco'\n\nbuildscript {\n    repositories {\n        mavenCentral()\n        jcenter()\n    }\n}\n\nrepositories {\n    jcenter()\n}\n\njacocoTestReport {\n    reports {\n        xml {\n            enabled true // coveralls plugin depends on xml format report\n        }\n\n        html {\n            enabled true\n        }\n    }\n\n    test {\n        jacoco {\n            destinationFile = file(&quot;$buildDir/jacoco/jacocoTest.exec&quot;)\n            classDumpFile = file(&quot;$buildDir/jacoco/classpathdumps&quot;)\n            excludes = [&quot;projecteuler/**&quot;] // &lt;-- does not work\n            // excludes = [&quot;projecteuler&quot;]\n        }\n    }\n}\n</code></pre>\n<h1>Question:</h1>\n<p><strong>How can I exclude certain packages and classes when generating the <a href=\"/questions/tagged/jacoco\" class=\"post-tag\" title=\"show questions tagged &#39;jacoco&#39;\" rel=\"tag\">jacoco</a> coverage reports?</strong></p>\n"},{"tags":["java","hibernate","hibernate-mapping"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1532367526,"post_id":51482774,"comment_id":89937769,"body_markdown":"clear out the database and try again.","body":"clear out the database and try again."},{"owner":{"account_id":198938,"reputation":1576,"user_id":443908,"accept_rate":82,"display_name":"badperson"},"score":0,"creation_date":1532368862,"post_id":51482774,"comment_id":89938441,"body_markdown":"I dropped the database and re-created, and had the same problem. Also note that I have the &#39;create&#39; property set, so a new db is created on each run of a unit test","body":"I dropped the database and re-created, and had the same problem. Also note that I have the &#39;create&#39; property set, so a new db is created on each run of a unit test"},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1532369532,"post_id":51482774,"comment_id":89938749,"body_markdown":"Works fine for me: `Hibernate: alter table Rating_RatingComponent add constraint FKaudjguwlo1i8tm2jgli5bbnq6 foreign key (componentList_compId) references RatingComponent` Removed the Tag from Widget since you didn&#39;t bother to post a Complete, Minimal, Verifiable example","body":"Works fine for me: <code>Hibernate: alter table Rating_RatingComponent add constraint FKaudjguwlo1i8tm2jgli5bbnq6 foreign key (componentList_compId) references RatingComponent</code> Removed the Tag from Widget since you didn&#39;t bother to post a Complete, Minimal, Verifiable example"},{"owner":{"account_id":198938,"reputation":1576,"user_id":443908,"accept_rate":82,"display_name":"badperson"},"score":0,"creation_date":1532375595,"post_id":51482774,"comment_id":89941645,"body_markdown":"I see your output shows a table name of Rating_RatingComponent, wheras mine only shows RatingComponent, and that table does not exist in the db....","body":"I see your output shows a table name of Rating_RatingComponent, wheras mine only shows RatingComponent, and that table does not exist in the db...."},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1532378965,"post_id":51482774,"comment_id":89943059,"body_markdown":"Your question is about the Rating_RatingComponent table. That&#39;s what your error is. It&#39;s a join table between Rating and RatingComponent. If you have an existing database structure you should be using auto value validate.","body":"Your question is about the Rating_RatingComponent table. That&#39;s what your error is. It&#39;s a join table between Rating and RatingComponent. If you have an existing database structure you should be using auto value validate."}],"answers":[{"tags":[],"owner":{"account_id":10908817,"reputation":3683,"user_id":8018837,"accept_rate":100,"display_name":"Svenmarim"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1552914517,"creation_date":1552914517,"answer_id":55222150,"question_id":51482774,"body_markdown":"replacing \r\n\r\n    &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL5InnoDBDialect&lt;/property&gt;\r\n\r\nby \r\n\r\n    &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL8InnoDBDialect&lt;/property&gt;\r\n\r\nwill do the trick\r\n\r\n","title":"hibernate foreign key issue : Error executing DDL &quot;alter table...&quot;","body":"<p>replacing </p>\n\n<pre><code>&lt;property name=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQL5InnoDBDialect&lt;/property&gt;\n</code></pre>\n\n<p>by </p>\n\n<pre><code>&lt;property name=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQL8InnoDBDialect&lt;/property&gt;\n</code></pre>\n\n<p>will do the trick</p>\n"},{"tags":[],"owner":{"account_id":9614215,"reputation":243,"user_id":7137594,"display_name":"Po&#231;i"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1583835067,"creation_date":1583835067,"answer_id":60615428,"question_id":51482774,"body_markdown":"I had to drop-create all the tables to make it work. Also check if you are using any reserved words as your table names.","title":"hibernate foreign key issue : Error executing DDL &quot;alter table...&quot;","body":"<p>I had to drop-create all the tables to make it work. Also check if you are using any reserved words as your table names.</p>\n"},{"tags":[],"owner":{"account_id":10024184,"reputation":119,"user_id":7412847,"display_name":"vkumar22"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583875931,"creation_date":1583875931,"answer_id":60626235,"question_id":51482774,"body_markdown":"In my case the DB User didnt have the sufficient permission to alter the table using the reference command. Hint Stack trace had the error like \r\n\r\nCaused by: java.sql.SQLSyntaxErrorException: REFERENCES command denied to user \r\n\r\nUpdating the DB User privileges fixed the issue\r\n\r\nAlso use the update as ddl-auto \r\n\r\njpa:\r\n    hibernate:\r\n      ddl-auto: update","title":"hibernate foreign key issue : Error executing DDL &quot;alter table...&quot;","body":"<p>In my case the DB User didnt have the sufficient permission to alter the table using the reference command. Hint Stack trace had the error like </p>\n\n<p>Caused by: java.sql.SQLSyntaxErrorException: REFERENCES command denied to user </p>\n\n<p>Updating the DB User privileges fixed the issue</p>\n\n<p>Also use the update as ddl-auto </p>\n\n<p>jpa:\n    hibernate:\n      ddl-auto: update</p>\n"},{"tags":[],"owner":{"account_id":7376373,"reputation":497,"user_id":5614823,"accept_rate":20,"display_name":"Mohammed Siddiq"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1600618527,"creation_date":1600618527,"answer_id":63981076,"question_id":51482774,"body_markdown":"I had used an SQL reserved word `&#39;order&#39;` as the entity name, due to which I was getting a similar error. Renaming it solved it for me. Look at your entity names, have you used any reserved word in them?","title":"hibernate foreign key issue : Error executing DDL &quot;alter table...&quot;","body":"<p>I had used an SQL reserved word <code>'order'</code> as the entity name, due to which I was getting a similar error. Renaming it solved it for me. Look at your entity names, have you used any reserved word in them?</p>\n"},{"tags":[],"owner":{"account_id":3756387,"reputation":802,"user_id":3122668,"display_name":"capo11"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695638002,"creation_date":1695638002,"answer_id":77171900,"question_id":51482774,"body_markdown":"I had this error in a `@OneToMany` relation with the option `orphanRemoval = true`. In fact, from JPA documentation:\r\n\r\n&gt; Whether to apply the remove operation to entities that have been\r\n&gt; removed from the relationship and to cascade the remove operation to\r\n&gt; those entities.\r\n\r\nSo, if you create a table A, populate it, and then you want to create a table B (empty at begining, of course) with a foreign key to table A, then you&#39;ll get the &quot;alter table xxx drop foreign key&quot; error.\r\n\r\nRemoving the property from:\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true)\r\n\r\nto:\r\n\r\n    @OneToMany(cascade = CascadeType.ALL)","title":"hibernate foreign key issue : Error executing DDL &quot;alter table...&quot;","body":"<p>I had this error in a <code>@OneToMany</code> relation with the option <code>orphanRemoval = true</code>. In fact, from JPA documentation:</p>\n<blockquote>\n<p>Whether to apply the remove operation to entities that have been\nremoved from the relationship and to cascade the remove operation to\nthose entities.</p>\n</blockquote>\n<p>So, if you create a table A, populate it, and then you want to create a table B (empty at begining, of course) with a foreign key to table A, then you'll get the &quot;alter table xxx drop foreign key&quot; error.</p>\n<p>Removing the property from:</p>\n<pre><code>@OneToMany(cascade = CascadeType.ALL, orphanRemoval = true)\n</code></pre>\n<p>to:</p>\n<pre><code>@OneToMany(cascade = CascadeType.ALL)\n</code></pre>\n"}],"owner":{"account_id":198938,"reputation":1576,"user_id":443908,"accept_rate":82,"display_name":"badperson"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21993,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":5,"score":8,"last_activity_date":1695638002,"creation_date":1532360990,"question_id":51482774,"body_markdown":"I have a pretty simple object structure that is giving me an error I&#39;m not able to resolve. Have done a bunch of searching, and I think this must be a pretty common use case, so not sure what the issue is. I have these three classes:\r\n\r\n    @Entity\r\n    public class Widget {\r\n\t\r\n\t\t@Id\r\n\t\t@GeneratedValue(strategy=GenerationType.AUTO)\r\n\t\tprivate int idd;\r\n\t\tprivate Date date;\r\n\t\tprivate String type;\r\n\t\tprivate int ownerId;\r\n\t\t\r\n\t\t@OneToOne(cascade = CascadeType.ALL)\r\n\t\tprivate Rating rating;\r\n\t\t\r\n\t\t\r\n\t\t@OneToMany(cascade = CascadeType.ALL)\r\n\t\tprivate List&lt;Tag&gt; tagList;\r\n\r\n\r\n    }\r\n\r\n\r\n    @Entity\r\n    public class Rating {\r\n\tpublic enum ChartType  {RADAR, BAR, LINE, STAR};\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.AUTO)\r\n\tprivate int ratingId;\r\n\tprivate String name;\r\n\t\r\n\t@Enumerated(EnumType.STRING)\r\n\tprivate ChartType chartType;\r\n\tprivate double normalizedValue;\r\n\t\r\n\t@OneToMany(cascade = CascadeType.ALL, orphanRemoval = true)\r\n\tprivate List&lt;RatingComponent&gt; componentList = new ArrayList&lt;&gt;();\r\n\r\n\t\r\n\tpublic Rating() {\r\n\t\tbuildNormalizedValue();\r\n\t}\r\n\t}\r\n\r\n\r\n    @Entity\r\n    public class RatingComponent {\r\n\t\r\n\t\r\n\t@Id\r\n\t@GeneratedValue()\r\n\tprivate int compId;\r\n\t\r\n\tprivate String name;\r\n\tprivate double value;\r\n\tprivate double maxValue;\r\n\r\n    }\r\n\r\n\r\n\r\nwhen saving in the DAO I&#39;m getting errors I don&#39;t really understand, such as \r\n\r\n    2018-07-23 11:43:07,208 WARN o.h.t.s.i.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : \r\n    Error executing DDL &quot;alter table Rating_RatingComponent drop foreign key FKaudjguwlo1i8tm2jgli5bbnq6&quot; via JDBC Statement\r\n    org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table Rating_RatingComponent drop foreign key FKaudjguwlo1i8tm2jgli5bbnq6&quot; via JDBC Statement\r\n\r\n\r\nand further down\r\n\r\n\r\n    2018-07-23 11:43:07,644 WARN o.h.t.s.i.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL &quot;create table RatingComponent (compId integer not null, maxValue double precision not null, name varchar(255), value double precision not null, primary key (compId)) engine=InnoDB&quot; via JDBC Statement\r\n    org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table RatingComponent (compId integer not null, maxValue double precision not null, name varchar(255), value double precision not null, primary key (compId)) engine=InnoDB&quot; via JDBC Statement\r\n\r\n\r\nI have these properties in my config\r\n\r\n        &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL5InnoDBDialect&lt;/property&gt; \r\n\r\n\r\nI thought I had gone thru the docs pretty carefully, and think this is a pretty straight forward object design...any ideas as to how to resolve, and where in the docs should I research more carefully to understand the root cause?\r\n\r\nthanks!","title":"hibernate foreign key issue : Error executing DDL &quot;alter table...&quot;","body":"<p>I have a pretty simple object structure that is giving me an error I'm not able to resolve. Have done a bunch of searching, and I think this must be a pretty common use case, so not sure what the issue is. I have these three classes:</p>\n\n<pre><code>@Entity\npublic class Widget {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private int idd;\n    private Date date;\n    private String type;\n    private int ownerId;\n\n    @OneToOne(cascade = CascadeType.ALL)\n    private Rating rating;\n\n\n    @OneToMany(cascade = CascadeType.ALL)\n    private List&lt;Tag&gt; tagList;\n\n\n}\n\n\n@Entity\npublic class Rating {\npublic enum ChartType  {RADAR, BAR, LINE, STAR};\n\n@Id\n@GeneratedValue(strategy=GenerationType.AUTO)\nprivate int ratingId;\nprivate String name;\n\n@Enumerated(EnumType.STRING)\nprivate ChartType chartType;\nprivate double normalizedValue;\n\n@OneToMany(cascade = CascadeType.ALL, orphanRemoval = true)\nprivate List&lt;RatingComponent&gt; componentList = new ArrayList&lt;&gt;();\n\n\npublic Rating() {\n    buildNormalizedValue();\n}\n}\n\n\n@Entity\npublic class RatingComponent {\n\n\n@Id\n@GeneratedValue()\nprivate int compId;\n\nprivate String name;\nprivate double value;\nprivate double maxValue;\n\n}\n</code></pre>\n\n<p>when saving in the DAO I'm getting errors I don't really understand, such as </p>\n\n<pre><code>2018-07-23 11:43:07,208 WARN o.h.t.s.i.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : \nError executing DDL \"alter table Rating_RatingComponent drop foreign key FKaudjguwlo1i8tm2jgli5bbnq6\" via JDBC Statement\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL \"alter table Rating_RatingComponent drop foreign key FKaudjguwlo1i8tm2jgli5bbnq6\" via JDBC Statement\n</code></pre>\n\n<p>and further down</p>\n\n<pre><code>2018-07-23 11:43:07,644 WARN o.h.t.s.i.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL \"create table RatingComponent (compId integer not null, maxValue double precision not null, name varchar(255), value double precision not null, primary key (compId)) engine=InnoDB\" via JDBC Statement\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL \"create table RatingComponent (compId integer not null, maxValue double precision not null, name varchar(255), value double precision not null, primary key (compId)) engine=InnoDB\" via JDBC Statement\n</code></pre>\n\n<p>I have these properties in my config</p>\n\n<pre><code>    &lt;property name=\"hibernate.hbm2ddl.auto\"&gt;create&lt;/property&gt;\n    &lt;property name=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQL5InnoDBDialect&lt;/property&gt; \n</code></pre>\n\n<p>I thought I had gone thru the docs pretty carefully, and think this is a pretty straight forward object design...any ideas as to how to resolve, and where in the docs should I research more carefully to understand the root cause?</p>\n\n<p>thanks!</p>\n"},{"tags":["java","testing","junit"],"comments":[{"owner":{"account_id":4291439,"reputation":176,"user_id":3507691,"accept_rate":60,"display_name":"Tocchetto"},"score":0,"creation_date":1687270766,"post_id":76177625,"comment_id":134911313,"body_markdown":"I haven&#39;t used the LoggingListener but I&#39;ve had success with the OutputCapture, although I&#39;ve run into issues with timing... Check this out, might help\nhttps://stackoverflow.com/questions/24439151/how-to-unit-test-logging-error-with-spock-framework-in-groovy/61268662#comment134910935_61268662","body":"I haven&#39;t used the LoggingListener but I&#39;ve had success with the OutputCapture, although I&#39;ve run into issues with timing... Check this out, might help <a href=\"https://stackoverflow.com/questions/24439151/how-to-unit-test-logging-error-with-spock-framework-in-groovy/61268662#comment134910935_61268662\" title=\"how to unit test logging error with spock framework in groovy\">stackoverflow.com/questions/24439151/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6044098,"reputation":420,"user_id":6875099,"accept_rate":82,"display_name":"zer_ik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695637574,"creation_date":1695637574,"answer_id":77171845,"question_id":76177625,"body_markdown":"In this simple example we create two tests, create custom `TestExecutionListener` which prints the content of `ReportEntry`, and execute the tests using configured `Launcher`. This launcher registers our custom listener and set-up properties.\r\n\r\n    package test;\r\n        \r\n        //imports...\r\n        \r\n        public class MyTest {\r\n        \r\n            @Test\r\n            public void test1() {\r\n                System.out.println(&quot;System.out.println: test1()&quot;);\r\n                System.err.println(&quot;System.err.println: test1()&quot;);\r\n            }\r\n        \r\n            @Test\r\n            public void test2() {\r\n                System.out.println(&quot;System.out.println: test2()&quot;);\r\n                System.err.println(&quot;System.err.println: test2()&quot;);\r\n            }\r\n        \r\n            public static class CustomListener implements TestExecutionListener {\r\n        \r\n                @Override\r\n                public void reportingEntryPublished(TestIdentifier testIdentifier, ReportEntry entry) {\r\n                    Map&lt;String, String&gt; entryMap = entry.getKeyValuePairs();\r\n                    if(testIdentifier.isTest()) {\r\n                        System.out.println(&quot;Captured: &quot; + testIdentifier.getDisplayName() +\r\n                                &quot;, stdout: &quot; + entryMap.get(&quot;stdout&quot;).trim() +\r\n                                &quot;, stderr: &quot; + entryMap.get(&quot;stderr&quot;).trim());\r\n                    }\r\n                }\r\n            }\r\n        \r\n            public static void main(String[] args) {\r\n                LauncherDiscoveryRequest request = LauncherDiscoveryRequestBuilder.request()\r\n                        .selectors(selectPackage(&quot;test&quot;))\r\n                        .configurationParameter(&quot;junit.platform.output.capture.stdout&quot;, &quot;true&quot;)\r\n                        .configurationParameter(&quot;junit.platform.output.capture.stderr&quot;, &quot;true&quot;)\r\n                        .build();\r\n                try (LauncherSession session = LauncherFactory.openSession()) {\r\n                    Launcher launcher = session.getLauncher();\r\n                    launcher.registerTestExecutionListeners(new CustomListener());\r\n                    TestPlan testPlan = launcher.discover(request);\r\n                    launcher.execute(testPlan);\r\n                }\r\n            }\r\n        }","title":"How do you use LoggingListener in JUnit 5 to capture log output","body":"<p>In this simple example we create two tests, create custom <code>TestExecutionListener</code> which prints the content of <code>ReportEntry</code>, and execute the tests using configured <code>Launcher</code>. This launcher registers our custom listener and set-up properties.</p>\n<pre><code>package test;\n    \n    //imports...\n    \n    public class MyTest {\n    \n        @Test\n        public void test1() {\n            System.out.println(&quot;System.out.println: test1()&quot;);\n            System.err.println(&quot;System.err.println: test1()&quot;);\n        }\n    \n        @Test\n        public void test2() {\n            System.out.println(&quot;System.out.println: test2()&quot;);\n            System.err.println(&quot;System.err.println: test2()&quot;);\n        }\n    \n        public static class CustomListener implements TestExecutionListener {\n    \n            @Override\n            public void reportingEntryPublished(TestIdentifier testIdentifier, ReportEntry entry) {\n                Map&lt;String, String&gt; entryMap = entry.getKeyValuePairs();\n                if(testIdentifier.isTest()) {\n                    System.out.println(&quot;Captured: &quot; + testIdentifier.getDisplayName() +\n                            &quot;, stdout: &quot; + entryMap.get(&quot;stdout&quot;).trim() +\n                            &quot;, stderr: &quot; + entryMap.get(&quot;stderr&quot;).trim());\n                }\n            }\n        }\n    \n        public static void main(String[] args) {\n            LauncherDiscoveryRequest request = LauncherDiscoveryRequestBuilder.request()\n                    .selectors(selectPackage(&quot;test&quot;))\n                    .configurationParameter(&quot;junit.platform.output.capture.stdout&quot;, &quot;true&quot;)\n                    .configurationParameter(&quot;junit.platform.output.capture.stderr&quot;, &quot;true&quot;)\n                    .build();\n            try (LauncherSession session = LauncherFactory.openSession()) {\n                Launcher launcher = session.getLauncher();\n                launcher.registerTestExecutionListeners(new CustomListener());\n                TestPlan testPlan = launcher.discover(request);\n                launcher.execute(testPlan);\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":53556,"reputation":2957,"user_id":160137,"accept_rate":38,"display_name":"kousen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":458,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1695637574,"creation_date":1683237671,"question_id":76177625,"body_markdown":"Section 4.7 of the JUnit user manual (https://junit.org/junit5/docs/current/user-guide/#running-tests-capturing-output) talks about capturing standard output/error using listeners, and the following section says that the API already contains a class called `LoggingListener`. I can create one using:\r\n\r\n```\r\nLoggingListener listener = LoggingListener.forJavaUtilLogging(Level.INFO);\r\n```\r\n\r\nbut I&#39;m not sure how to proceed after that. I want to capture the log output happening at INFO level. I already added\r\n```\r\njunit.platform.output.capture.stdout=true\r\njunit.platform.output.capture.stderr=true\r\n```\r\nto `junit-platform.properties` under `src/test/resources`, as it says to do. The listener class contains a method called `reportingEntryPublished` which takes a `TestIdentifier` and a `ReportEntry`, but I&#39;m not sure how to use that, assuming that&#39;s even the right method to call.\r\n\r\nAny advice would be appreciated. The User Manual section makes it sound easy, but I can&#39;t find any examples anywhere (including in the tests of the source code on GitHub).\r\n\r\nBTW, suggestions from both ChatGPT and Bard are hilarious.","title":"How do you use LoggingListener in JUnit 5 to capture log output","body":"<p>Section 4.7 of the JUnit user manual (<a href=\"https://junit.org/junit5/docs/current/user-guide/#running-tests-capturing-output\" rel=\"nofollow noreferrer\">https://junit.org/junit5/docs/current/user-guide/#running-tests-capturing-output</a>) talks about capturing standard output/error using listeners, and the following section says that the API already contains a class called <code>LoggingListener</code>. I can create one using:</p>\n<pre><code>LoggingListener listener = LoggingListener.forJavaUtilLogging(Level.INFO);\n</code></pre>\n<p>but I'm not sure how to proceed after that. I want to capture the log output happening at INFO level. I already added</p>\n<pre><code>junit.platform.output.capture.stdout=true\njunit.platform.output.capture.stderr=true\n</code></pre>\n<p>to <code>junit-platform.properties</code> under <code>src/test/resources</code>, as it says to do. The listener class contains a method called <code>reportingEntryPublished</code> which takes a <code>TestIdentifier</code> and a <code>ReportEntry</code>, but I'm not sure how to use that, assuming that's even the right method to call.</p>\n<p>Any advice would be appreciated. The User Manual section makes it sound easy, but I can't find any examples anywhere (including in the tests of the source code on GitHub).</p>\n<p>BTW, suggestions from both ChatGPT and Bard are hilarious.</p>\n"},{"tags":["java","environment-variables"],"comments":[{"owner":{"account_id":5090314,"reputation":2138,"user_id":4083590,"display_name":"Johny"},"score":0,"creation_date":1415708075,"post_id":26864662,"comment_id":42288761,"body_markdown":"check this link to know how to set environment variables. http://stackoverflow.com/q/1672281/4083590","body":"check this link to know how to set environment variables. <a href=\"http://stackoverflow.com/q/1672281/4083590\">stackoverflow.com/q/1672281/4083590</a>"},{"owner":{"account_id":5313956,"reputation":541,"user_id":4239395,"display_name":"JavaBeginner"},"score":0,"creation_date":1415708465,"post_id":26864662,"comment_id":42288983,"body_markdown":"@johny What I did is similar to the post on the link. Do I not need a \\lib at the end of classpath? I tried it with and without. I still got the error message when I tried to run the class file.","body":"@johny What I did is similar to the post on the link. Do I not need a \\lib at the end of classpath? I tried it with and without. I still got the error message when I tried to run the class file."},{"owner":{"account_id":1866186,"reputation":4221,"user_id":1689695,"accept_rate":100,"display_name":"CocoNess"},"score":0,"creation_date":1415709045,"post_id":26864662,"comment_id":42289323,"body_markdown":"you can check your environment variables by opening up a Command Prompt and type `set`","body":"you can check your environment variables by opening up a Command Prompt and type <code>set</code>"},{"owner":{"account_id":5090314,"reputation":2138,"user_id":4083590,"display_name":"Johny"},"score":0,"creation_date":1415709181,"post_id":26864662,"comment_id":42289404,"body_markdown":"it would be good if you provide a screen shot of the environment variables as @CocoNess told.","body":"it would be good if you provide a screen shot of the environment variables as @CocoNess told."},{"owner":{"account_id":5313956,"reputation":541,"user_id":4239395,"display_name":"JavaBeginner"},"score":1,"creation_date":1415710761,"post_id":26864662,"comment_id":42290296,"body_markdown":"an irrelevant question though.. is it dangerous to reveal my environment variables like that??","body":"an irrelevant question though.. is it dangerous to reveal my environment variables like that??"},{"owner":{"account_id":1866186,"reputation":4221,"user_id":1689695,"accept_rate":100,"display_name":"CocoNess"},"score":1,"creation_date":1415711403,"post_id":26864662,"comment_id":42290666,"body_markdown":"Your screenshot has a strange character instead of a \\ . Why? I cant identify the character. It&#39;s probably not a good idea to reveal your environment variables. You should only show the relevant ones","body":"Your screenshot has a strange character instead of a \\ . Why? I cant identify the character. It&#39;s probably not a good idea to reveal your environment variables. You should only show the relevant ones"},{"owner":{"account_id":5313956,"reputation":541,"user_id":4239395,"display_name":"JavaBeginner"},"score":0,"creation_date":1415712013,"post_id":26864662,"comment_id":42291038,"body_markdown":"here is a picture of the related environment variables: http://i58.tinypic.com/5aq4om.jpg","body":"here is a picture of the related environment variables: <a href=\"http://i58.tinypic.com/5aq4om.jpg\" rel=\"nofollow noreferrer\">i58.tinypic.com/5aq4om.jpg</a>"},{"owner":{"account_id":5313956,"reputation":541,"user_id":4239395,"display_name":"JavaBeginner"},"score":0,"creation_date":1415712146,"post_id":26864662,"comment_id":42291106,"body_markdown":"@CocoNess It is the equivalent of the &#39;\\&#39; sign. Sorry for the inconvenience.","body":"@CocoNess It is the equivalent of the &#39;\\&#39; sign. Sorry for the inconvenience."}],"answers":[{"tags":[],"owner":{"account_id":2113203,"reputation":9798,"user_id":1878022,"accept_rate":96,"display_name":"VedantK"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1415709216,"creation_date":1415709216,"answer_id":26865048,"question_id":26864662,"body_markdown":"**Updating the PATH Environment Variable**&lt;br&gt;\r\n\r\nIf you do not set the PATH variable, you need to specify the full path to the executable file every time you run it, such as:&lt;br&gt;\r\n\r\n    C:\\&gt; &quot;C:\\Program Files\\Java\\jdk1.8.0\\bin\\javac&quot; MyClass.java\r\n&lt;br&gt;\r\nIt is useful to set the PATH variable permanently so it will persist after rebooting.\r\n&lt;br&gt;\r\nTo set the PATH variable permanently, add the full path of the jdk1.8.0\\bin directory to the PATH variable. Typically, this full path looks something like\r\n&lt;br&gt; `C:\\Program Files\\Java\\jdk1.8.0\\bin`.&lt;br&gt; **Set the PATH variable as follows on Microsoft Windows:**&lt;br&gt;\r\n\r\n - Click Start, then Control Panel, then System.\r\n - Click Advanced, then Environment Variables.\r\n - Add the location of the bin folder of the JDK installation to the PATH variable in System Variables. \r\n&lt;br&gt;The following is a typical value for the PATH variable:\r\n\r\n    C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\Program Files\\Java\\jdk1.8.0\\bin\r\n&lt;br&gt;\r\n&lt;br&gt;\r\n**Note:**\r\n\r\n - The PATH environment variable is a series of directories separated by semicolons (;) and is not case-sensitive. Microsoft Windows looks for programs in the PATH directories in order, from left to right.\r\n\r\n - You should only have one bin directory for a JDK in the path at a time. Those following the first instance are ignored.\r\n\r\n - If you are not sure where to add the JDK path, append it.\r\n\r\nThe new path takes effect in each new command window you open after setting the PATH variable.","title":"&quot;The system cannot find the file C:\\ProgramData\\Oracle\\Java\\javapath\\java.exe&quot;","body":"<p><strong>Updating the PATH Environment Variable</strong><br></p>\n\n<p>If you do not set the PATH variable, you need to specify the full path to the executable file every time you run it, such as:<br></p>\n\n<pre><code>C:\\&gt; \"C:\\Program Files\\Java\\jdk1.8.0\\bin\\javac\" MyClass.java\n</code></pre>\n\n<p><br>\nIt is useful to set the PATH variable permanently so it will persist after rebooting.\n<br>\nTo set the PATH variable permanently, add the full path of the jdk1.8.0\\bin directory to the PATH variable. Typically, this full path looks something like\n<br> <code>C:\\Program Files\\Java\\jdk1.8.0\\bin</code>.<br> <strong>Set the PATH variable as follows on Microsoft Windows:</strong><br></p>\n\n<ul>\n<li>Click Start, then Control Panel, then System.</li>\n<li>Click Advanced, then Environment Variables.</li>\n<li><p>Add the location of the bin folder of the JDK installation to the PATH variable in System Variables. \n<br>The following is a typical value for the PATH variable:</p>\n\n<p>C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\Program Files\\Java\\jdk1.8.0\\bin\n<br>\n<br>\n<strong>Note:</strong></p></li>\n<li><p>The PATH environment variable is a series of directories separated by semicolons (;) and is not case-sensitive. Microsoft Windows looks for programs in the PATH directories in order, from left to right.</p></li>\n<li><p>You should only have one bin directory for a JDK in the path at a time. Those following the first instance are ignored.</p></li>\n<li><p>If you are not sure where to add the JDK path, append it.</p></li>\n</ul>\n\n<p>The new path takes effect in each new command window you open after setting the PATH variable.</p>\n"},{"tags":[],"owner":{"account_id":5090314,"reputation":2138,"user_id":4083590,"display_name":"Johny"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1415713622,"creation_date":1415711155,"answer_id":26865645,"question_id":26864662,"body_markdown":"There are 2 versions of jdk in your `PATH VARIABLE` `jdk1.6.0_45` and `jdk1.8.0_25`. Try removing the first one ie.  `jdk1.6.0_45` from the `PATH`","title":"&quot;The system cannot find the file C:\\ProgramData\\Oracle\\Java\\javapath\\java.exe&quot;","body":"<p>There are 2 versions of jdk in your <code>PATH VARIABLE</code> <code>jdk1.6.0_45</code> and <code>jdk1.8.0_25</code>. Try removing the first one ie.  <code>jdk1.6.0_45</code> from the <code>PATH</code></p>\n"},{"tags":[],"owner":{"display_name":"user2603432"},"down_vote_count":1,"up_vote_count":56,"is_accepted":false,"score":55,"last_activity_date":1695637366,"creation_date":1419018009,"answer_id":27572837,"question_id":26864662,"body_markdown":"I&#39;ve got a similar problem I&#39;m currently working on solving. I can&#39;t say this will solve your error since there may be issues with other software (which is my case with Eclipse Luna).\r\n\r\nJava is using the path given in your PATH variable, which is,\r\n\r\n      C:\\ProgramData\\Oracle\\Java\\javapath\r\n\r\nGo to this folder (ProgramData is hidden, so unhide it if necessary) and right click on the java.exe symlink. You&#39;ll see in the Target field where it&#39;s looking for java.exe. It may be pointing to the java.exe file from your previous jdk1.6.0_45 install. Either paste in new shortcuts here or change the PATH setting as others have mentioned.\r\n\r\nI&#39;ve found that the Java installer doesn&#39;t change the javapath or update the system path, at least when going from 1.8 to 1.7. In my case changing the shortcuts only led to a problem with Eclipse on startup.\r\n\r\nEDIT:-----\r\nAfter playing with javapath folder shortcuts it turns out you need symlinks, at least for Eclipse. See, https://stackoverflow.com/questions/24240286/windows-how-to-create-directory-symlink#24240393.\r\n\r\nYou don&#39;t need the /d switch for a file symlink,\r\n\r\n\r\n      cd C:\\ProgramData\\Oracle\\Java\\javapath \r\n\r\n      mklink java.exe &quot;C:\\Program Files\\Java\\jdk1.8.0_20\\bin\\java.exe&quot;\r\n      mklink javaw.exe &quot;C:\\Program Files\\Java\\jdk1.8.0_20\\bin\\javaw.exe&quot;\r\n      mklink javaws.exe &quot;C:\\Program Files\\Java\\jdk1.8.0_20\\bin\\javaws.exe&quot;\r\n\r\nThis now works for me.\r\n\r\n","title":"&quot;The system cannot find the file C:\\ProgramData\\Oracle\\Java\\javapath\\java.exe&quot;","body":"<p>I've got a similar problem I'm currently working on solving. I can't say this will solve your error since there may be issues with other software (which is my case with Eclipse Luna).</p>\n<p>Java is using the path given in your PATH variable, which is,</p>\n<pre><code>  C:\\ProgramData\\Oracle\\Java\\javapath\n</code></pre>\n<p>Go to this folder (ProgramData is hidden, so unhide it if necessary) and right click on the java.exe symlink. You'll see in the Target field where it's looking for java.exe. It may be pointing to the java.exe file from your previous jdk1.6.0_45 install. Either paste in new shortcuts here or change the PATH setting as others have mentioned.</p>\n<p>I've found that the Java installer doesn't change the javapath or update the system path, at least when going from 1.8 to 1.7. In my case changing the shortcuts only led to a problem with Eclipse on startup.</p>\n<p>EDIT:-----\nAfter playing with javapath folder shortcuts it turns out you need symlinks, at least for Eclipse. See, <a href=\"https://stackoverflow.com/questions/24240286/windows-how-to-create-directory-symlink#24240393\">Windows how to create directory symlink</a>.</p>\n<p>You don't need the /d switch for a file symlink,</p>\n<pre><code>  cd C:\\ProgramData\\Oracle\\Java\\javapath \n\n  mklink java.exe &quot;C:\\Program Files\\Java\\jdk1.8.0_20\\bin\\java.exe&quot;\n  mklink javaw.exe &quot;C:\\Program Files\\Java\\jdk1.8.0_20\\bin\\javaw.exe&quot;\n  mklink javaws.exe &quot;C:\\Program Files\\Java\\jdk1.8.0_20\\bin\\javaws.exe&quot;\n</code></pre>\n<p>This now works for me.</p>\n"},{"tags":[],"owner":{"account_id":5314821,"reputation":88,"user_id":4240057,"display_name":"Jitesh Beniwal"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1541911493,"creation_date":1423574731,"answer_id":28432860,"question_id":26864662,"body_markdown":"This will solve all problems relating to Java and environment variables:\r\n\r\n 1. Make your way to Windows&#39; [Environment Variables dialog](https://www.computerhope.com/issues/ch000549.htm).\r\n 2. Under **System variables**, select the variable named **Path**. Click **Edit...**\r\n 3. Remove the entry that looks like:\r\n\r\n        C:\\ProgramData\\Oracle\\Java\\javapath\r\n\r\n 4. Add the path of your JDK/JRE&#39;s `bin` folder.\r\n 5. Don&#39;t forget to set **JAVA_HOME**.","title":"&quot;The system cannot find the file C:\\ProgramData\\Oracle\\Java\\javapath\\java.exe&quot;","body":"<p>This will solve all problems relating to Java and environment variables:</p>\n\n<ol>\n<li>Make your way to Windows' <a href=\"https://www.computerhope.com/issues/ch000549.htm\" rel=\"nofollow noreferrer\">Environment Variables dialog</a>.</li>\n<li>Under <strong>System variables</strong>, select the variable named <strong>Path</strong>. Click <strong>Edit...</strong></li>\n<li><p>Remove the entry that looks like:</p>\n\n<pre><code>C:\\ProgramData\\Oracle\\Java\\javapath\n</code></pre></li>\n<li><p>Add the path of your JDK/JRE's <code>bin</code> folder.</p></li>\n<li>Don't forget to set <strong>JAVA_HOME</strong>.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5959428,"reputation":211,"user_id":4685039,"display_name":"Vincent Risi"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1449018246,"creation_date":1426678780,"answer_id":29121070,"question_id":26864662,"body_markdown":"Why Oracle did such a poor way to point to java is beyond me. We solved this problem by creating a new link to the JDK\r\n\r\n    mklink /d C:\\ProgramData\\Oracle\\Java\\javapath &quot;C:\\Program Files\\Java\\jdk1.8.0_40\\bin\\&quot;\r\n\r\nThe same would work for a JRE if that is all that is required. \r\n\r\nThis replaces the old symlinks in `C:\\ProgramData\\Oracle\\Java\\javapath` (if they existed previously)","title":"&quot;The system cannot find the file C:\\ProgramData\\Oracle\\Java\\javapath\\java.exe&quot;","body":"<p>Why Oracle did such a poor way to point to java is beyond me. We solved this problem by creating a new link to the JDK</p>\n\n<pre><code>mklink /d C:\\ProgramData\\Oracle\\Java\\javapath \"C:\\Program Files\\Java\\jdk1.8.0_40\\bin\\\"\n</code></pre>\n\n<p>The same would work for a JRE if that is all that is required. </p>\n\n<p>This replaces the old symlinks in <code>C:\\ProgramData\\Oracle\\Java\\javapath</code> (if they existed previously)</p>\n"},{"tags":[],"owner":{"account_id":2138268,"reputation":7872,"user_id":1897528,"accept_rate":62,"display_name":"Farrukh Chishti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429169183,"creation_date":1429169183,"answer_id":29668047,"question_id":26864662,"body_markdown":"There must be two or more PATH variables. Try merging all of them into one using semi-colon (;)","title":"&quot;The system cannot find the file C:\\ProgramData\\Oracle\\Java\\javapath\\java.exe&quot;","body":"<p>There must be two or more PATH variables. Try merging all of them into one using semi-colon (;)</p>\n"},{"tags":[],"owner":{"account_id":6789562,"reputation":1,"user_id":5227143,"display_name":"john godfrey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439551392,"creation_date":1439551392,"answer_id":32008879,"question_id":26864662,"body_markdown":"I got the same after installing java8 from a non-permissioned account.\r\nTo fix I simply reinstalled from admin user account.\r\nThis created the quoted directory with file links to java exes.","title":"&quot;The system cannot find the file C:\\ProgramData\\Oracle\\Java\\javapath\\java.exe&quot;","body":"<p>I got the same after installing java8 from a non-permissioned account.\nTo fix I simply reinstalled from admin user account.\nThis created the quoted directory with file links to java exes.</p>\n"},{"tags":[],"owner":{"account_id":7165800,"reputation":1,"user_id":5474953,"display_name":"Murari Goswami"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445503562,"creation_date":1445503562,"answer_id":33276855,"question_id":26864662,"body_markdown":"I had also similar problem where by I had to un-install JDK 1.8 and needed jdk 1.7. \r\nWhat i did was removed the symbolic links from the javapath and then imported the shortcuts of java, javaw, javaws from the bin directory to the javapath folder. However, I found some permission issues in the enterprise laptop where by I did not have the privilege to modify/ update this directory. I had given appropriate permission from the administrator and there by resolved it.","title":"&quot;The system cannot find the file C:\\ProgramData\\Oracle\\Java\\javapath\\java.exe&quot;","body":"<p>I had also similar problem where by I had to un-install JDK 1.8 and needed jdk 1.7. \nWhat i did was removed the symbolic links from the javapath and then imported the shortcuts of java, javaw, javaws from the bin directory to the javapath folder. However, I found some permission issues in the enterprise laptop where by I did not have the privilege to modify/ update this directory. I had given appropriate permission from the administrator and there by resolved it.</p>\n"},{"tags":[],"owner":{"account_id":49945,"reputation":1266,"user_id":148889,"display_name":"roblogic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1449017772,"creation_date":1449017772,"answer_id":34033093,"question_id":26864662,"body_markdown":"If you&#39;re on a corporate PC that&#39;s fairly restricted by group policy, this might work....\r\n\r\nAssuming that \r\n\r\n1. your Windows `PATH` includes `C:\\ProgramData\\Oracle\\Java\\javapath`\r\n2. you have JDK installed to `C:\\Program Files\\Java\\jdk1.8.0_60\\bin`\r\n\r\nThen create the following text file `mklink.bat` and put it on your desktop:\r\n\r\n    rem mklink.bat\r\n    mklink /d C:\\ProgramData\\Oracle\\Java\\javapath &quot;C:\\Program Files\\Java\\jdk1.8.0_60\\bin&quot;\r\n    pause\r\n\r\nNow right-click it and choose &quot;Run as Administrator&quot;. Provide admin credentials. The script should report success. Now you can compile or run Java.","title":"&quot;The system cannot find the file C:\\ProgramData\\Oracle\\Java\\javapath\\java.exe&quot;","body":"<p>If you're on a corporate PC that's fairly restricted by group policy, this might work....</p>\n\n<p>Assuming that </p>\n\n<ol>\n<li>your Windows <code>PATH</code> includes <code>C:\\ProgramData\\Oracle\\Java\\javapath</code></li>\n<li>you have JDK installed to <code>C:\\Program Files\\Java\\jdk1.8.0_60\\bin</code></li>\n</ol>\n\n<p>Then create the following text file <code>mklink.bat</code> and put it on your desktop:</p>\n\n<pre><code>rem mklink.bat\nmklink /d C:\\ProgramData\\Oracle\\Java\\javapath \"C:\\Program Files\\Java\\jdk1.8.0_60\\bin\"\npause\n</code></pre>\n\n<p>Now right-click it and choose \"Run as Administrator\". Provide admin credentials. The script should report success. Now you can compile or run Java.</p>\n"},{"tags":[],"owner":{"account_id":8313225,"reputation":331,"user_id":6247532,"display_name":"Vandana Manhas"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1502342068,"creation_date":1461767946,"answer_id":36893084,"question_id":26864662,"body_markdown":"This problem exists when you upgrade from one version to another.because jdk is not automatically upgraded.\r\n\r\nFor the same you can change the environmental varibles.\r\nIn system variables look for the **PATH** and add the jdk bin location in the front of the string(not at the back).\r\nOnce you have done that check in CMD if &quot;**java**&quot; and &quot;**javac**&quot; works.\r\nif it works, again go to system variables.\r\nadd &quot;**CLASSPATH**&quot; A the variable and set value &quot; **.\r\nc:\\Program Files\\Java\\jdk1.8.0_91\\lib;**&quot;\r\n","title":"&quot;The system cannot find the file C:\\ProgramData\\Oracle\\Java\\javapath\\java.exe&quot;","body":"<p>This problem exists when you upgrade from one version to another.because jdk is not automatically upgraded.</p>\n\n<p>For the same you can change the environmental varibles.\nIn system variables look for the <strong>PATH</strong> and add the jdk bin location in the front of the string(not at the back).\nOnce you have done that check in CMD if \"<strong>java</strong>\" and \"<strong>javac</strong>\" works.\nif it works, again go to system variables.\nadd \"<strong>CLASSPATH</strong>\" A the variable and set value \" <strong>.\nc:\\Program Files\\Java\\jdk1.8.0_91\\lib;</strong>\"</p>\n"},{"tags":[],"owner":{"account_id":7772262,"reputation":151,"user_id":5881369,"display_name":"Amit"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1541910637,"creation_date":1463371437,"answer_id":37246553,"question_id":26864662,"body_markdown":"&lt;!-- language-all: lang-none --&gt;\r\n\r\nI had in `PATH`:\r\n\r\n    C:\\ProgramData\\Oracle\\Java\\javapath;C:\\Program Files\\Java\\jdk1.8.0_92\\bin;&lt;others omitted&gt;\r\n\r\nI removed:\r\n\r\n    C:\\ProgramData\\Oracle\\Java\\javapath;\r\n\r\nand that fixed the issue for me. `java -version` now gives details about the Java version, etc.\r\n","title":"&quot;The system cannot find the file C:\\ProgramData\\Oracle\\Java\\javapath\\java.exe&quot;","body":"\n\n<p>I had in <code>PATH</code>:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>C:\\ProgramData\\Oracle\\Java\\javapath;C:\\Program Files\\Java\\jdk1.8.0_92\\bin;&lt;others omitted&gt;\n</code></pre>\n\n<p>I removed:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>C:\\ProgramData\\Oracle\\Java\\javapath;\n</code></pre>\n\n<p>and that fixed the issue for me. <code>java -version</code> now gives details about the Java version, etc.</p>\n"},{"tags":[],"owner":{"account_id":9466443,"reputation":11,"user_id":7038632,"display_name":"Rajat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1476820572,"creation_date":1476820572,"answer_id":40116975,"question_id":26864662,"body_markdown":"This usually happens when you update the java,\r\nthe easiest way to solve this is to just uninstall the JDK &amp; then reinstall it.\r\nNOTE: This doesnt remove the path or classpath so no need to worry.\r\n","title":"&quot;The system cannot find the file C:\\ProgramData\\Oracle\\Java\\javapath\\java.exe&quot;","body":"<p>This usually happens when you update the java,\nthe easiest way to solve this is to just uninstall the JDK &amp; then reinstall it.\nNOTE: This doesnt remove the path or classpath so no need to worry.</p>\n"},{"tags":[],"owner":{"account_id":9716058,"reputation":29,"user_id":7206442,"display_name":"Eshwarya"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1480010305,"creation_date":1480007774,"answer_id":40791855,"question_id":26864662,"body_markdown":"1. Uninstall all JDKs installed on your computer from the Java Control Panel\r\n2. Search for `C:\\ProgramData\\Oracle\\Java` and delete that directory and all files contained within. You can do this from the command line using `rmdir /S C:\\ProgramData\\Oracle\\Java`\r\n3. Then search for C:\\ProgramData\\Oracle and delete the oracle folder. You can do this using `rmdir /S C:\\ProgramData\\Oracle`\r\n4. Now install JDK and set the path. \r\n\r\n5. Run the program.You won&#39;t find the same problem anymore.","title":"&quot;The system cannot find the file C:\\ProgramData\\Oracle\\Java\\javapath\\java.exe&quot;","body":"<ol>\n<li>Uninstall all JDKs installed on your computer from the Java Control Panel</li>\n<li>Search for <code>C:\\ProgramData\\Oracle\\Java</code> and delete that directory and all files contained within. You can do this from the command line using <code>rmdir /S C:\\ProgramData\\Oracle\\Java</code></li>\n<li>Then search for C:\\ProgramData\\Oracle and delete the oracle folder. You can do this using <code>rmdir /S C:\\ProgramData\\Oracle</code></li>\n<li><p>Now install JDK and set the path. </p></li>\n<li><p>Run the program.You won't find the same problem anymore.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10860667,"reputation":1,"user_id":7985647,"display_name":"Martin Carr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494327691,"creation_date":1494326183,"answer_id":43867514,"question_id":26864662,"body_markdown":"`c:\\ProgramData\\Java\\javapath` is used for symlinks. You can of course add the full path to your Java Path to `%PATH%`, but equally you can create a symlink to the path to the above location.\r\n\r\n1. Open `CMD` as Administrator.\r\n2. Type `mklink java.exe` (full path to your Java.exe)\r\neg\r\n\r\n`mklink java.exe &quot;C:\\Program Files\\Java\\jdk1.8.0_25\\bin\\java.exe&quot;`\r\n\r\n\r\n","title":"&quot;The system cannot find the file C:\\ProgramData\\Oracle\\Java\\javapath\\java.exe&quot;","body":"<p><code>c:\\ProgramData\\Java\\javapath</code> is used for symlinks. You can of course add the full path to your Java Path to <code>%PATH%</code>, but equally you can create a symlink to the path to the above location.</p>\n\n<ol>\n<li>Open <code>CMD</code> as Administrator.</li>\n<li>Type <code>mklink java.exe</code> (full path to your Java.exe)\neg</li>\n</ol>\n\n<p><code>mklink java.exe \"C:\\Program Files\\Java\\jdk1.8.0_25\\bin\\java.exe\"</code></p>\n"},{"tags":[],"owner":{"account_id":9860130,"reputation":2293,"user_id":7303415,"display_name":"Abhishek D K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516464386,"creation_date":1516463184,"answer_id":48357992,"question_id":26864662,"body_markdown":"Don&#39;t worry.\r\nJust uninstall jdk as well as jdk updates\r\nBefore re installing jdk ,delete the oracle folder inside programData hidden folder in C:\\ \r\nThen reinstall.\r\nSet the following,\r\n\r\n    JAVA_HOME\r\n    CLASSPATH\r\n    PATH\r\n    JRE_HOME ( is optional)","title":"&quot;The system cannot find the file C:\\ProgramData\\Oracle\\Java\\javapath\\java.exe&quot;","body":"<p>Don't worry.\nJust uninstall jdk as well as jdk updates\nBefore re installing jdk ,delete the oracle folder inside programData hidden folder in C:\\ \nThen reinstall.\nSet the following,</p>\n\n<pre><code>JAVA_HOME\nCLASSPATH\nPATH\nJRE_HOME ( is optional)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2697049,"reputation":51,"user_id":2328802,"display_name":"Hari Tyagi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1550986451,"creation_date":1550986328,"answer_id":54849049,"question_id":26864662,"body_markdown":"I got same error while running JAVA command. To resolve this, I moved the java path as the first entry in the path, and it resolved the issue. Please have look at this screenshot for reference:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Apafr.png","title":"&quot;The system cannot find the file C:\\ProgramData\\Oracle\\Java\\javapath\\java.exe&quot;","body":"<p>I got same error while running JAVA command. To resolve this, I moved the java path as the first entry in the path, and it resolved the issue. Please have look at this screenshot for reference:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Apafr.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Apafr.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":6017082,"reputation":1,"user_id":4725512,"display_name":"Gowtham Epparla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563444091,"creation_date":1563444091,"answer_id":57091950,"question_id":26864662,"body_markdown":"Please remove &quot;C:\\ProgramData\\Oracle\\Java\\javapath\\java.exe&quot; from the Path variable and add your jdk bin path. It will work.\r\n\r\nIn my case the I have removed the the above path and added my JDK path which is &quot;C:\\Program Files\\Java\\jdk1.8.0_221\\bin&quot;","title":"&quot;The system cannot find the file C:\\ProgramData\\Oracle\\Java\\javapath\\java.exe&quot;","body":"<p>Please remove \"C:\\ProgramData\\Oracle\\Java\\javapath\\java.exe\" from the Path variable and add your jdk bin path. It will work.</p>\n\n<p>In my case the I have removed the the above path and added my JDK path which is \"C:\\Program Files\\Java\\jdk1.8.0_221\\bin\"</p>\n"},{"tags":[],"owner":{"account_id":16468051,"reputation":1,"user_id":11897756,"display_name":"Abhigna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577360022,"creation_date":1565200949,"answer_id":57399998,"question_id":26864662,"body_markdown":"For New version of Java JavaPath folder is located \r\n\r\n64 bit OS\r\n\r\n`&quot;C:\\Program Files \\Common Files\\Oracle\\Java\\javapath\\&quot;`\r\n\r\nX86\r\n\r\n`&quot;C:\\Program Files(x86) \\Common Files\\Oracle\\Java\\javapath\\&quot;`","title":"&quot;The system cannot find the file C:\\ProgramData\\Oracle\\Java\\javapath\\java.exe&quot;","body":"<p>For New version of Java JavaPath folder is located </p>\n\n<p>64 bit OS</p>\n\n<p><code>\"C:\\Program Files \\Common Files\\Oracle\\Java\\javapath\\\"</code></p>\n\n<p>X86</p>\n\n<p><code>\"C:\\Program Files(x86) \\Common Files\\Oracle\\Java\\javapath\\\"</code></p>\n"},{"tags":[],"owner":{"account_id":17585124,"reputation":1,"user_id":12758019,"display_name":"Mike"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1579653967,"creation_date":1579653967,"answer_id":59851201,"question_id":26864662,"body_markdown":"&lt;&gt;\\Common Files\\Oracle\\Java\\javapath\\ is now created as a junction, no symlinks anymore","title":"&quot;The system cannot find the file C:\\ProgramData\\Oracle\\Java\\javapath\\java.exe&quot;","body":"<p>&lt;>\\Common Files\\Oracle\\Java\\javapath\\ is now created as a junction, no symlinks anymore</p>\n"},{"tags":[],"owner":{"account_id":19848453,"reputation":1,"user_id":14539470,"display_name":"Mahmoud Gado"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662746737,"creation_date":1662746737,"answer_id":73665998,"question_id":26864662,"body_markdown":"This will solve all problems relating to Java and environment variables:\r\n\r\nMake your way to Windows&#39; Environment Variables dialog.\r\nUnder System variables, select the variable named Path. Click Edit...\r\nRemove the entry that looks like:\r\n\r\nC:\\ProgramData\\Oracle\\Java\\javapath\r\nAdd the path of your JDK/JRE&#39;s bin folder.\r\n\r\nDon&#39;t forget to set JAVA_HOME.\r\n\r\nThis helped me.......:-)","title":"&quot;The system cannot find the file C:\\ProgramData\\Oracle\\Java\\javapath\\java.exe&quot;","body":"<p>This will solve all problems relating to Java and environment variables:</p>\n<p>Make your way to Windows' Environment Variables dialog.\nUnder System variables, select the variable named Path. Click Edit...\nRemove the entry that looks like:</p>\n<p>C:\\ProgramData\\Oracle\\Java\\javapath\nAdd the path of your JDK/JRE's bin folder.</p>\n<p>Don't forget to set JAVA_HOME.</p>\n<p>This helped me.......:-)</p>\n"},{"tags":[],"owner":{"account_id":18772787,"reputation":43,"user_id":13689270,"display_name":"eScape CS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675887068,"creation_date":1675887068,"answer_id":75391235,"question_id":26864662,"body_markdown":"For me it worked like this:\r\nOn your desktop go to ```Search-&gt;View advanced system settings-&gt;Environment Variables```\r\nUnder System Variables look for path and click ```Edit```.\r\nClick on ```New``` and add the new Path and move it to the top.\r\nTo find your java path if you don&#39;t know where it is installed in cmd type ```where javac```\r\n\r\n","title":"&quot;The system cannot find the file C:\\ProgramData\\Oracle\\Java\\javapath\\java.exe&quot;","body":"<p>For me it worked like this:\nOn your desktop go to <code>Search-&gt;View advanced system settings-&gt;Environment Variables</code>\nUnder System Variables look for path and click <code>Edit</code>.\nClick on <code>New</code> and add the new Path and move it to the top.\nTo find your java path if you don't know where it is installed in cmd type <code>where javac</code></p>\n"},{"tags":[],"owner":{"account_id":28678441,"reputation":1,"user_id":21960112,"display_name":"Harnek"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1694122663,"creation_date":1693936943,"answer_id":77046800,"question_id":26864662,"body_markdown":"Faced the same issue while upgrading to OpenJDK17 from JDK8 and got this error while executing **Java -version** in cmd.\r\n\r\nFix: goto path C:\\Program Files\\Java\\jdk-17\\bin copy files **java.exe** and **javaw.exe**, goto path C:\\ProgramData\\Oracle\\Java\\javapath and delete the existing shortcuts( I had java 8 before this and shortcuts were placed to java.exe, javaw.exe &amp; javaws.exe.) and paste these two files there.","title":"&quot;The system cannot find the file C:\\ProgramData\\Oracle\\Java\\javapath\\java.exe&quot;","body":"<p>Faced the same issue while upgrading to OpenJDK17 from JDK8 and got this error while executing <strong>Java -version</strong> in cmd.</p>\n<p>Fix: goto path C:\\Program Files\\Java\\jdk-17\\bin copy files <strong>java.exe</strong> and <strong>javaw.exe</strong>, goto path C:\\ProgramData\\Oracle\\Java\\javapath and delete the existing shortcuts( I had java 8 before this and shortcuts were placed to java.exe, javaw.exe &amp; javaws.exe.) and paste these two files there.</p>\n"}],"owner":{"account_id":5313956,"reputation":541,"user_id":4239395,"display_name":"JavaBeginner"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195634,"favorite_count":0,"down_vote_count":0,"up_vote_count":54,"answer_count":22,"score":54,"last_activity_date":1695637366,"creation_date":1415707874,"question_id":26864662,"body_markdown":"&lt;!-- language-all: lang-none --&gt;\r\n\r\nI am on JDK 8u25 on Windows 8, and I am experiencing a problem with my Java installation. I can run `javac` perfectly fine, but running `java` produces this error message:\r\n\r\n    The system cannot find the file C:\\ProgramData\\Oracle\\Java\\javapath\\java.exe\r\n\r\nHow do I fix this?\r\n\r\n----\r\n\r\nI think the problem has to do with my environment variables.\r\n\r\nThe important variables, as I have set them, are:\r\n\r\n - `JAVA_HOME` – `C:\\Program Files\\Java\\jdk1.8.0_25`\r\n - `CLASSPATH` – `.;%JAVA_HOME%\\lib`\r\n - `PATH` – `&lt;other paths omitted&gt;;%JAVA_HOME%\\bin`\r\n\r\nAnd their expansions, as viewed with `set` in cmd, are:\r\n\r\n - `JAVA_HOME` – `C:\\Program Files\\Java\\jdk1.8.0_25`\r\n - `CLASSPATH` – `.;C:\\Program Files\\Java\\jdk1.8.0_25\\lib;%CLASSPATH%;`\r\n - `PATH` – `C:\\ProgramData\\Oracle\\Java\\javapath;C:\\Program Files\\Java\\jdk1.6.0_45\\bin;&lt;other paths omitted&gt;;C:\\Program Files\\Java\\jdk1.8.0_25\\bin`\r\n\r\nThe full output of `set` can be viewed [here](https://i.stack.imgur.com/Zjrrg.png).","title":"&quot;The system cannot find the file C:\\ProgramData\\Oracle\\Java\\javapath\\java.exe&quot;","body":"\n\n<p>I am on JDK 8u25 on Windows 8, and I am experiencing a problem with my Java installation. I can run <code>javac</code> perfectly fine, but running <code>java</code> produces this error message:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>The system cannot find the file C:\\ProgramData\\Oracle\\Java\\javapath\\java.exe\n</code></pre>\n\n<p>How do I fix this?</p>\n\n<hr>\n\n<p>I think the problem has to do with my environment variables.</p>\n\n<p>The important variables, as I have set them, are:</p>\n\n<ul>\n<li><code>JAVA_HOME</code> – <code>C:\\Program Files\\Java\\jdk1.8.0_25</code></li>\n<li><code>CLASSPATH</code> – <code>.;%JAVA_HOME%\\lib</code></li>\n<li><code>PATH</code> – <code>&lt;other paths omitted&gt;;%JAVA_HOME%\\bin</code></li>\n</ul>\n\n<p>And their expansions, as viewed with <code>set</code> in cmd, are:</p>\n\n<ul>\n<li><code>JAVA_HOME</code> – <code>C:\\Program Files\\Java\\jdk1.8.0_25</code></li>\n<li><code>CLASSPATH</code> – <code>.;C:\\Program Files\\Java\\jdk1.8.0_25\\lib;%CLASSPATH%;</code></li>\n<li><code>PATH</code> – <code>C:\\ProgramData\\Oracle\\Java\\javapath;C:\\Program Files\\Java\\jdk1.6.0_45\\bin;&lt;other paths omitted&gt;;C:\\Program Files\\Java\\jdk1.8.0_25\\bin</code></li>\n</ul>\n\n<p>The full output of <code>set</code> can be viewed <a href=\"https://i.stack.imgur.com/Zjrrg.png\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":["java","activemq-artemis"],"answers":[{"tags":[],"owner":{"account_id":1491171,"reputation":3291,"user_id":1398228,"display_name":"ehsavoie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637835952,"creation_date":1637835952,"answer_id":70109435,"question_id":70108898,"body_markdown":"I think the default format for keystores is JKS, you need to tell the connector/acceptor about this format using trustStoreType=PKCS12 in your connection URL.","title":"Spring JMS producer cannot connect with Artemis MQ via SSL","body":"<p>I think the default format for keystores is JKS, you need to tell the connector/acceptor about this format using trustStoreType=PKCS12 in your connection URL.</p>\n"},{"tags":[],"owner":{"account_id":29528379,"reputation":11,"user_id":22629519,"display_name":"Андрей Андреев"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695637248,"creation_date":1695637248,"answer_id":77171810,"question_id":70108898,"body_markdown":"I had the same behavior when I tried to use **useTopologyForLoadBalancing = true**, installed by default in the class ServerLocatorConfig (artemis-jms-client-2.19.1). I installed **connectionFactory.setUseTopologyForLoadBalancing(false)**, then this strange behavior has stopped. I got a working producer, but I don&#39;t know how this setting affects the load balance.","title":"Spring JMS producer cannot connect with Artemis MQ via SSL","body":"<p>I had the same behavior when I tried to use <strong>useTopologyForLoadBalancing = true</strong>, installed by default in the class ServerLocatorConfig (artemis-jms-client-2.19.1). I installed <strong>connectionFactory.setUseTopologyForLoadBalancing(false)</strong>, then this strange behavior has stopped. I got a working producer, but I don't know how this setting affects the load balance.</p>\n"}],"owner":{"account_id":10473591,"reputation":858,"user_id":7720801,"display_name":"LDropl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":872,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695637248,"creation_date":1637833540,"question_id":70108898,"body_markdown":"I have Artemis ActiveMQ version 2.19.0 with 3 group of master/slave:\r\n\r\n    amq1-master\r\n    amq2-slave\r\n    amq3-master\r\n    amq4-slave\r\n    amq5-master\r\n    amq6-slave\r\n\r\nI&#39;m also using SSL connection between connectors here is broker.xml from one of the machine:\r\n```xml\r\n    &lt;connectors&gt;\r\n        &lt;connector name=&quot;amq1-master&quot;&gt;tcp://amq1:61616?sslEnabled=true;trustStorePath=/home/artemis_certs/amq1/client_ts.p12;trustStorePassword=trustStorePassword&lt;/connector&gt;\r\n\t\t&lt;connector name=&quot;amq1-slave&quot;&gt;tcp://amq2:61616?sslEnabled=true;trustStorePath=/home/artemis_certs/amq2/client_ts.p12;trustStorePassword=trustStorePassword&lt;/connector&gt;\r\n\t\t&lt;connector name=&quot;amq2-master&quot;&gt;tcp://amq3:61616?sslEnabled=true;trustStorePath=/home/artemis_certs/amq3/client_ts.p12;trustStorePassword=trustStorePassword&lt;/connector&gt;\r\n\t\t&lt;connector name=&quot;amq2-slave&quot;&gt;tcp://amq4:61616?sslEnabled=true;trustStorePath=/home/artemis_certs/amq4/client_ts.p12;trustStorePassword=trustStorePassword&lt;/connector&gt;\r\n\t\t&lt;connector name=&quot;amq3-master&quot;&gt;tcp://amq5:61616?sslEnabled=true;trustStorePath=/home/artemis_certs/amq5/client_ts.p12;trustStorePassword=trustStorePassword&lt;/connector&gt;\r\n\t\t&lt;connector name=&quot;amq3-slave&quot;&gt;tcp://amq6:61616?sslEnabled=true;trustStorePath=/home/artemis_certs/amq6/client_ts.p12;trustStorePassword=trustStorePassword&lt;/connector&gt;\r\n    &lt;/connectors&gt;\r\n\r\n\t  &lt;acceptors&gt;\r\n\t\t &lt;acceptor name=&quot;netty-acceptor&quot;&gt;tcp://amq1:61616?sslEnabled=true;keyStorePath=/home/artemis_certs/amq1/broker_ks.p12;keyStorePassword=keyStorePassword&lt;/acceptor&gt;\r\n      &lt;/acceptors&gt;\r\n```\r\n\r\nThe connections between brokers works fine. When I&#39;m trying to send messages from one of the producer I&#39;m getting this error\r\n\r\n```\r\n{&quot;@timestamp&quot;:&quot;2021-11-24T20:31:29.439Z&quot;, &quot;log.level&quot;: &quot;WARN&quot;, &quot;message&quot;:&quot;Failed to initialize a channel. Closing: [id: 0x424f0276]&quot;, &quot;ecs.version&quot;: &quot;1.2.0&quot;,&quot;service.name&quot;:&quot;test-artemis&quot;,&quot;event.dataset&quot;:&quot;test-artemis.log&quot;,\r\n&quot;process.thread.name&quot;:&quot;Thread-2 (ActiveMQ-client-netty-threads)&quot;,&quot;log.logger&quot;:&quot;io.netty.channel.ChannelInitializer&quot;,&quot;error.type&quot;:&quot;java.lang.Exception&quot;,&quot;error.message&quot;:&quot;Failed to find a store at /home/artemis_cert/amq5/client_ts.p12\r\n&quot;,&quot;error.stack_trace&quot;:[\r\n        &quot;java.lang.Exception: Failed to find a store at /home/artemis_cert/amq5/client_ts.p12&quot;,\r\n        &quot;\\tat org.apache.activemq.artemis.core.remoting.impl.ssl.SSLSupport.validateStoreURL(SSLSupport.java:314)&quot;,\r\n        &quot;\\tat org.apache.activemq.artemis.core.remoting.impl.ssl.SSLSupport.loadKeystore(SSLSupport.java:262)&quot;,\r\n        &quot;\\tat org.apache.activemq.artemis.core.remoting.impl.ssl.SSLSupport.loadTrustManagerFactory(SSLSupport.java:213)&quot;,\r\n        &quot;\\tat org.apache.activemq.artemis.core.remoting.impl.ssl.SSLSupport.loadTrustManagers(SSLSupport.java:238)&quot;,\r\n        &quot;\\tat org.apache.activemq.artemis.core.remoting.impl.ssl.SSLSupport.createContext(SSLSupport.java:162)&quot;,\r\n        &quot;\\tat org.apache.activemq.artemis.core.remoting.impl.ssl.DefaultSSLContextFactory.createSSLContext(DefaultSSLContextFactory.java:64)&quot;,\r\n        &quot;\\tat org.apache.activemq.artemis.core.remoting.impl.ssl.DefaultSSLContextFactory.getSSLContext(DefaultSSLContextFactory.java:35)&quot;,\r\n        &quot;\\tat org.apache.activemq.artemis.core.remoting.impl.netty.NettyConnector.loadJdkSslEngine(NettyConnector.java:719)&quot;,\r\n        &quot;\\tat org.apache.activemq.artemis.core.remoting.impl.netty.NettyConnector.access$1400(NettyConnector.java:129)&quot;,\r\n        &quot;\\tat org.apache.activemq.artemis.core.remoting.impl.netty.NettyConnector$1.initChannel(NettyConnector.java:628)&quot;,\r\n        &quot;\\tat io.netty.channel.ChannelInitializer.initChannel(ChannelInitializer.java:129)&quot;,\r\n        &quot;\\tat io.netty.channel.ChannelInitializer.handlerAdded(ChannelInitializer.java:112)&quot;,\r\n        &quot;\\tat io.netty.channel.AbstractChannelHandlerContext.callHandlerAdded(AbstractChannelHandlerContext.java:938)&quot;,\r\n        &quot;\\tat io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:609)&quot;,\r\n        &quot;\\tat io.netty.channel.DefaultChannelPipeline.access$100(DefaultChannelPipeline.java:46)&quot;,\r\n        &quot;\\tat io.netty.channel.DefaultChannelPipeline$PendingHandlerAddedTask.execute(DefaultChannelPipeline.java:1463)&quot;,\r\n        &quot;\\tat io.netty.channel.DefaultChannelPipeline.callHandlerAddedForAllHandlers(DefaultChannelPipeline.java:1115)&quot;,\r\n        &quot;\\tat io.netty.channel.DefaultChannelPipeline.invokeHandlerAddedIfNeeded(DefaultChannelPipeline.java:650)&quot;,\r\n        &quot;\\tat io.netty.channel.AbstractChannel$AbstractUnsafe.register0(AbstractChannel.java:514)&quot;,\r\n        &quot;\\tat io.netty.channel.AbstractChannel$AbstractUnsafe.access$200(AbstractChannel.java:429)&quot;,\r\n        &quot;\\tat io.netty.channel.AbstractChannel$AbstractUnsafe$1.run(AbstractChannel.java:486)&quot;,\r\n        &quot;\\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)&quot;,\r\n        &quot;\\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:469)&quot;,\r\n        &quot;\\tat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:387)&quot;,\r\n        &quot;\\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)&quot;,\r\n        &quot;\\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)&quot;,\r\n        &quot;\\tat org.apache.activemq.artemis.utils.ActiveMQThreadFactory$1.run(ActiveMQThreadFactory.java:118)&quot;]}\r\n{&quot;@timestamp&quot;:&quot;2021-11-24T20:31:29.441Z&quot;, &quot;log.level&quot;:&quot;ERROR&quot;, &quot;message&quot;:&quot;AMQ214016: Failed to create netty connection&quot;, &quot;ecs.version&quot;: &quot;1.2.0&quot;,&quot;service.name&quot;:&quot;test-artemis&quot;,&quot;event.dataset&quot;:&quot;test-artemis.log&quot;,&quot;process.thread.name&quot;:&quot;Camel (camel-1) thread #0 - JmsConsumer[example-queue]&quot;,&quot;log.logger&quot;:&quot;org.apache.activemq.artemis.core.client&quot;,&quot;error.type&quot;:&quot;io.netty.channel.StacklessClosedChannelException&quot;,&quot;error.stack_trace&quot;:[\r\n        &quot;io.netty.channel.StacklessClosedChannelException&quot;,\r\n        &quot;\\tat io.netty.channel.AbstractChannel$AbstractUnsafe.ensureOpen(ChannelPromise)(Unknown Source)&quot;]}\r\n{&quot;@timestamp&quot;:&quot;2021-11-24T20:31:33.841Z&quot;, &quot;log.level&quot;: &quot;WARN&quot;, &quot;message&quot;:&quot;Failed to initialize a channel. Closing: [id: 0x62825c92]&quot;, &quot;ecs.version&quot;: &quot;1.2.0&quot;,&quot;service.name&quot;:&quot;test-artemis&quot;,&quot;event.dataset&quot;:&quot;test-artemis.log&quot;,&quot;process.thread.name&quot;:&quot;Thread-0 (ActiveMQ-client-netty-threads)&quot;,&quot;log.logger&quot;:&quot;io.netty.channel.ChannelInitializer&quot;,&quot;error.type&quot;:&quot;java.lang.Exception&quot;,&quot;error.message&quot;:&quot;Failed to find a store at /home/artemis_cert/amq5/client_ts.p12&quot;,&quot;error.stack_trace&quot;:[\r\n```\r\nHere is how my JMS connection url looks like:\r\n\r\n```java\r\njms.artemis.broker.url=(tcp://amq1:61616,tcp://amq2:61616,tcp://amq3:61616,tcp://amq4:61616,tcp://amq5:61616,tcp://amq6:61616)?ha=true&amp;sslEnabled=true&amp;trustStorePath=/home/cert/client_ts.p12&amp;trustStorePassword=trustStorePassword&amp;keyStorePath=/home/cert/broker_ks.p12&amp;keyStorePassword=keyStorePassword\r\njms.artemis.user=admin\r\njms.artemis.password=admin\r\n\r\n\r\n\r\n@Configuration\r\npublic class ArtemisJmsConfiguration extends JmsConfiguration{\r\n    @Override\r\n    @Bean\r\n    public ConnectionFactory artemisConnectionFactory(\r\n            @Value(&quot;${jms.artemis.broker.url}&quot;) String brokerUrl,\r\n            @Value(&quot;${jms.artemis.user}&quot;) String user,\r\n            @Value(&quot;${jms.artemis.password}&quot;) String password\r\n    ) {\r\n        ActiveMQConnectionFactory conn = new ActiveMQConnectionFactory(brokerUrl, user, password);\r\n        JmsPoolConnectionFactory factory = new JmsPoolConnectionFactory();\r\n        factory.setConnectionFactory(conn);\r\n        factory.setMaxConnections(10);\r\n        return factory;\r\n    }\r\n}\r\n```\r\n\r\nFirstly I dont understand why in logs I see the wrong path for my store it says:\r\n***&quot;Failed to find a store at /home/artemis_cert/amq5/client_ts.p12&quot;*** and in connection url I have different path *&quot;trustStorePath=/home/cert/client_ts.p12&quot;* ?\r\n\r\n - */home/artemis_cert/amq5/* this folder located on all artemis broker servers\r\n - */home/cert/* this folder located on the client machine and this file ***&quot;/home/cert/client_ts.p12&quot;*** includes all trustores from all 6 artemis broker servers\r\n\r\nI&#39;m also getting errors for other stores it&#39;s just one example which I mentioned above for example:\r\n\r\n    Failed to find a store at /home/artemis_cert/amq1/client_ts.p12; \r\n    Failed to find a store at /home/artemis_cert/amq2/client_ts.p12 \r\n    etc.","title":"Spring JMS producer cannot connect with Artemis MQ via SSL","body":"<p>I have Artemis ActiveMQ version 2.19.0 with 3 group of master/slave:</p>\n<pre><code>amq1-master\namq2-slave\namq3-master\namq4-slave\namq5-master\namq6-slave\n</code></pre>\n<p>I'm also using SSL connection between connectors here is broker.xml from one of the machine:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;connectors&gt;\n        &lt;connector name=&quot;amq1-master&quot;&gt;tcp://amq1:61616?sslEnabled=true;trustStorePath=/home/artemis_certs/amq1/client_ts.p12;trustStorePassword=trustStorePassword&lt;/connector&gt;\n        &lt;connector name=&quot;amq1-slave&quot;&gt;tcp://amq2:61616?sslEnabled=true;trustStorePath=/home/artemis_certs/amq2/client_ts.p12;trustStorePassword=trustStorePassword&lt;/connector&gt;\n        &lt;connector name=&quot;amq2-master&quot;&gt;tcp://amq3:61616?sslEnabled=true;trustStorePath=/home/artemis_certs/amq3/client_ts.p12;trustStorePassword=trustStorePassword&lt;/connector&gt;\n        &lt;connector name=&quot;amq2-slave&quot;&gt;tcp://amq4:61616?sslEnabled=true;trustStorePath=/home/artemis_certs/amq4/client_ts.p12;trustStorePassword=trustStorePassword&lt;/connector&gt;\n        &lt;connector name=&quot;amq3-master&quot;&gt;tcp://amq5:61616?sslEnabled=true;trustStorePath=/home/artemis_certs/amq5/client_ts.p12;trustStorePassword=trustStorePassword&lt;/connector&gt;\n        &lt;connector name=&quot;amq3-slave&quot;&gt;tcp://amq6:61616?sslEnabled=true;trustStorePath=/home/artemis_certs/amq6/client_ts.p12;trustStorePassword=trustStorePassword&lt;/connector&gt;\n    &lt;/connectors&gt;\n\n      &lt;acceptors&gt;\n         &lt;acceptor name=&quot;netty-acceptor&quot;&gt;tcp://amq1:61616?sslEnabled=true;keyStorePath=/home/artemis_certs/amq1/broker_ks.p12;keyStorePassword=keyStorePassword&lt;/acceptor&gt;\n      &lt;/acceptors&gt;\n</code></pre>\n<p>The connections between brokers works fine. When I'm trying to send messages from one of the producer I'm getting this error</p>\n<pre><code>{&quot;@timestamp&quot;:&quot;2021-11-24T20:31:29.439Z&quot;, &quot;log.level&quot;: &quot;WARN&quot;, &quot;message&quot;:&quot;Failed to initialize a channel. Closing: [id: 0x424f0276]&quot;, &quot;ecs.version&quot;: &quot;1.2.0&quot;,&quot;service.name&quot;:&quot;test-artemis&quot;,&quot;event.dataset&quot;:&quot;test-artemis.log&quot;,\n&quot;process.thread.name&quot;:&quot;Thread-2 (ActiveMQ-client-netty-threads)&quot;,&quot;log.logger&quot;:&quot;io.netty.channel.ChannelInitializer&quot;,&quot;error.type&quot;:&quot;java.lang.Exception&quot;,&quot;error.message&quot;:&quot;Failed to find a store at /home/artemis_cert/amq5/client_ts.p12\n&quot;,&quot;error.stack_trace&quot;:[\n        &quot;java.lang.Exception: Failed to find a store at /home/artemis_cert/amq5/client_ts.p12&quot;,\n        &quot;\\tat org.apache.activemq.artemis.core.remoting.impl.ssl.SSLSupport.validateStoreURL(SSLSupport.java:314)&quot;,\n        &quot;\\tat org.apache.activemq.artemis.core.remoting.impl.ssl.SSLSupport.loadKeystore(SSLSupport.java:262)&quot;,\n        &quot;\\tat org.apache.activemq.artemis.core.remoting.impl.ssl.SSLSupport.loadTrustManagerFactory(SSLSupport.java:213)&quot;,\n        &quot;\\tat org.apache.activemq.artemis.core.remoting.impl.ssl.SSLSupport.loadTrustManagers(SSLSupport.java:238)&quot;,\n        &quot;\\tat org.apache.activemq.artemis.core.remoting.impl.ssl.SSLSupport.createContext(SSLSupport.java:162)&quot;,\n        &quot;\\tat org.apache.activemq.artemis.core.remoting.impl.ssl.DefaultSSLContextFactory.createSSLContext(DefaultSSLContextFactory.java:64)&quot;,\n        &quot;\\tat org.apache.activemq.artemis.core.remoting.impl.ssl.DefaultSSLContextFactory.getSSLContext(DefaultSSLContextFactory.java:35)&quot;,\n        &quot;\\tat org.apache.activemq.artemis.core.remoting.impl.netty.NettyConnector.loadJdkSslEngine(NettyConnector.java:719)&quot;,\n        &quot;\\tat org.apache.activemq.artemis.core.remoting.impl.netty.NettyConnector.access$1400(NettyConnector.java:129)&quot;,\n        &quot;\\tat org.apache.activemq.artemis.core.remoting.impl.netty.NettyConnector$1.initChannel(NettyConnector.java:628)&quot;,\n        &quot;\\tat io.netty.channel.ChannelInitializer.initChannel(ChannelInitializer.java:129)&quot;,\n        &quot;\\tat io.netty.channel.ChannelInitializer.handlerAdded(ChannelInitializer.java:112)&quot;,\n        &quot;\\tat io.netty.channel.AbstractChannelHandlerContext.callHandlerAdded(AbstractChannelHandlerContext.java:938)&quot;,\n        &quot;\\tat io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:609)&quot;,\n        &quot;\\tat io.netty.channel.DefaultChannelPipeline.access$100(DefaultChannelPipeline.java:46)&quot;,\n        &quot;\\tat io.netty.channel.DefaultChannelPipeline$PendingHandlerAddedTask.execute(DefaultChannelPipeline.java:1463)&quot;,\n        &quot;\\tat io.netty.channel.DefaultChannelPipeline.callHandlerAddedForAllHandlers(DefaultChannelPipeline.java:1115)&quot;,\n        &quot;\\tat io.netty.channel.DefaultChannelPipeline.invokeHandlerAddedIfNeeded(DefaultChannelPipeline.java:650)&quot;,\n        &quot;\\tat io.netty.channel.AbstractChannel$AbstractUnsafe.register0(AbstractChannel.java:514)&quot;,\n        &quot;\\tat io.netty.channel.AbstractChannel$AbstractUnsafe.access$200(AbstractChannel.java:429)&quot;,\n        &quot;\\tat io.netty.channel.AbstractChannel$AbstractUnsafe$1.run(AbstractChannel.java:486)&quot;,\n        &quot;\\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)&quot;,\n        &quot;\\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:469)&quot;,\n        &quot;\\tat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:387)&quot;,\n        &quot;\\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)&quot;,\n        &quot;\\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)&quot;,\n        &quot;\\tat org.apache.activemq.artemis.utils.ActiveMQThreadFactory$1.run(ActiveMQThreadFactory.java:118)&quot;]}\n{&quot;@timestamp&quot;:&quot;2021-11-24T20:31:29.441Z&quot;, &quot;log.level&quot;:&quot;ERROR&quot;, &quot;message&quot;:&quot;AMQ214016: Failed to create netty connection&quot;, &quot;ecs.version&quot;: &quot;1.2.0&quot;,&quot;service.name&quot;:&quot;test-artemis&quot;,&quot;event.dataset&quot;:&quot;test-artemis.log&quot;,&quot;process.thread.name&quot;:&quot;Camel (camel-1) thread #0 - JmsConsumer[example-queue]&quot;,&quot;log.logger&quot;:&quot;org.apache.activemq.artemis.core.client&quot;,&quot;error.type&quot;:&quot;io.netty.channel.StacklessClosedChannelException&quot;,&quot;error.stack_trace&quot;:[\n        &quot;io.netty.channel.StacklessClosedChannelException&quot;,\n        &quot;\\tat io.netty.channel.AbstractChannel$AbstractUnsafe.ensureOpen(ChannelPromise)(Unknown Source)&quot;]}\n{&quot;@timestamp&quot;:&quot;2021-11-24T20:31:33.841Z&quot;, &quot;log.level&quot;: &quot;WARN&quot;, &quot;message&quot;:&quot;Failed to initialize a channel. Closing: [id: 0x62825c92]&quot;, &quot;ecs.version&quot;: &quot;1.2.0&quot;,&quot;service.name&quot;:&quot;test-artemis&quot;,&quot;event.dataset&quot;:&quot;test-artemis.log&quot;,&quot;process.thread.name&quot;:&quot;Thread-0 (ActiveMQ-client-netty-threads)&quot;,&quot;log.logger&quot;:&quot;io.netty.channel.ChannelInitializer&quot;,&quot;error.type&quot;:&quot;java.lang.Exception&quot;,&quot;error.message&quot;:&quot;Failed to find a store at /home/artemis_cert/amq5/client_ts.p12&quot;,&quot;error.stack_trace&quot;:[\n</code></pre>\n<p>Here is how my JMS connection url looks like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>jms.artemis.broker.url=(tcp://amq1:61616,tcp://amq2:61616,tcp://amq3:61616,tcp://amq4:61616,tcp://amq5:61616,tcp://amq6:61616)?ha=true&amp;sslEnabled=true&amp;trustStorePath=/home/cert/client_ts.p12&amp;trustStorePassword=trustStorePassword&amp;keyStorePath=/home/cert/broker_ks.p12&amp;keyStorePassword=keyStorePassword\njms.artemis.user=admin\njms.artemis.password=admin\n\n\n\n@Configuration\npublic class ArtemisJmsConfiguration extends JmsConfiguration{\n    @Override\n    @Bean\n    public ConnectionFactory artemisConnectionFactory(\n            @Value(&quot;${jms.artemis.broker.url}&quot;) String brokerUrl,\n            @Value(&quot;${jms.artemis.user}&quot;) String user,\n            @Value(&quot;${jms.artemis.password}&quot;) String password\n    ) {\n        ActiveMQConnectionFactory conn = new ActiveMQConnectionFactory(brokerUrl, user, password);\n        JmsPoolConnectionFactory factory = new JmsPoolConnectionFactory();\n        factory.setConnectionFactory(conn);\n        factory.setMaxConnections(10);\n        return factory;\n    }\n}\n</code></pre>\n<p>Firstly I dont understand why in logs I see the wrong path for my store it says:\n<em><strong>&quot;Failed to find a store at /home/artemis_cert/amq5/client_ts.p12&quot;</strong></em> and in connection url I have different path <em>&quot;trustStorePath=/home/cert/client_ts.p12&quot;</em> ?</p>\n<ul>\n<li><em>/home/artemis_cert/amq5/</em> this folder located on all artemis broker servers</li>\n<li><em>/home/cert/</em> this folder located on the client machine and this file <em><strong>&quot;/home/cert/client_ts.p12&quot;</strong></em> includes all trustores from all 6 artemis broker servers</li>\n</ul>\n<p>I'm also getting errors for other stores it's just one example which I mentioned above for example:</p>\n<pre><code>Failed to find a store at /home/artemis_cert/amq1/client_ts.p12; \nFailed to find a store at /home/artemis_cert/amq2/client_ts.p12 \netc.\n</code></pre>\n"},{"tags":["java","spring","spring-boot","http-status-code-404","http-status-code-401"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1576656558,"post_id":59387737,"comment_id":104966231,"body_markdown":"No. Filters execute before servlets (which handle the mapping).","body":"No. Filters execute before servlets (which handle the mapping)."},{"owner":{"account_id":1912441,"reputation":2961,"user_id":1725871,"accept_rate":88,"display_name":"JoSSte"},"score":2,"creation_date":1576657276,"post_id":59387737,"comment_id":104966530,"body_markdown":"I would also say that it makes sense not to tell people that have no session whether a page exists or not.","body":"I would also say that it makes sense not to tell people that have no session whether a page exists or not."},{"owner":{"account_id":4114299,"reputation":71,"user_id":3376310,"display_name":"Crist Lam"},"score":0,"creation_date":1576658755,"post_id":59387737,"comment_id":104967146,"body_markdown":"I know right. My friend suggests an option that is to have all of the valid mapping in a List and then for every request, iterate through the list in the Filter and throw a HTTP 404 if the request url is not in the list. But I don&#39;t think it&#39;s is okay to do that.","body":"I know right. My friend suggests an option that is to have all of the valid mapping in a List and then for every request, iterate through the list in the Filter and throw a HTTP 404 if the request url is not in the list. But I don&#39;t think it&#39;s is okay to do that."}],"answers":[{"tags":[],"owner":{"account_id":17154908,"reputation":31,"user_id":12416034,"display_name":"PavelBahBah"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1576657182,"creation_date":1576657182,"answer_id":59387970,"question_id":59387737,"body_markdown":"You can try to config access settings inside your WebSecurityConfigurerAdapter class.\r\n```\r\n@Override\r\nprotected void configure(HttpSecurity http) throws Exception {\r\n    http\r\n        .authorizeRequests()\r\n        .antMatchers(&quot;/secure/**&quot;).authenticated()\r\n        .and()\r\n        .authorizeRequests().anyRequest().permitAll();\r\n}\r\n```\r\nSo the filter won&#39;t return HTTP 401 for any request which is not match &quot;/secure/**&quot; pattern.","title":"Spring Boot, Spring Security returns a status 401 instead of 404 for &quot;no mapping found for HTTP request&quot;","body":"<p>You can try to config access settings inside your WebSecurityConfigurerAdapter class.</p>\n\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http\n        .authorizeRequests()\n        .antMatchers(\"/secure/**\").authenticated()\n        .and()\n        .authorizeRequests().anyRequest().permitAll();\n}\n</code></pre>\n\n<p>So the filter won't return HTTP 401 for any request which is not match \"/secure/**\" pattern.</p>\n"},{"tags":[],"owner":{"account_id":9916994,"reputation":454,"user_id":7341454,"display_name":"scruel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609172559,"creation_date":1609171207,"answer_id":65480411,"question_id":59387737,"body_markdown":"Put this filter as the first filter in the Spring Security:\r\n\r\n    public class NoHandlerFoundFilter extends OncePerRequestFilter {\r\n    \r\n      private final DispatcherServlet dispatcherServlet;\r\n    \r\n      public NoHandlerFoundFilter(DispatcherServlet dispatcherServlet) {\r\n        this.dispatcherServlet = dispatcherServlet;\r\n      }\r\n    \r\n      @Override\r\n      protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n        if (null == getHandler(request)) {\r\n          throw new NoHandlerFoundException(request.getMethod(), getRequestUri(request),\r\n              new ServletServerHttpRequest(request).getHeaders());\r\n        }\r\n        filterChain.doFilter(request, response);\r\n      }\r\n    \r\n      private static String getRequestUri(HttpServletRequest request) {\r\n        String uri = (String) request.getAttribute(WebUtils.INCLUDE_REQUEST_URI_ATTRIBUTE);\r\n        if (uri == null) {\r\n          uri = request.getRequestURI();\r\n        }\r\n        return uri;\r\n      }\r\n    \r\n      protected HandlerExecutionChain getHandler(HttpServletRequest request) {\r\n        if (dispatcherServlet.getHandlerMappings() != null) {\r\n          for (HandlerMapping mapping : dispatcherServlet.getHandlerMappings()) {\r\n            try {\r\n              HandlerExecutionChain handler = mapping.getHandler(request);\r\n              if (handler != null) {\r\n                return handler;\r\n              }\r\n            } catch (Exception ex) {\r\n              // Ignore\r\n            }\r\n          }\r\n        }\r\n        return null;\r\n      }\r\n    }","title":"Spring Boot, Spring Security returns a status 401 instead of 404 for &quot;no mapping found for HTTP request&quot;","body":"<p>Put this filter as the first filter in the Spring Security:</p>\n<pre><code>public class NoHandlerFoundFilter extends OncePerRequestFilter {\n\n  private final DispatcherServlet dispatcherServlet;\n\n  public NoHandlerFoundFilter(DispatcherServlet dispatcherServlet) {\n    this.dispatcherServlet = dispatcherServlet;\n  }\n\n  @Override\n  protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n    if (null == getHandler(request)) {\n      throw new NoHandlerFoundException(request.getMethod(), getRequestUri(request),\n          new ServletServerHttpRequest(request).getHeaders());\n    }\n    filterChain.doFilter(request, response);\n  }\n\n  private static String getRequestUri(HttpServletRequest request) {\n    String uri = (String) request.getAttribute(WebUtils.INCLUDE_REQUEST_URI_ATTRIBUTE);\n    if (uri == null) {\n      uri = request.getRequestURI();\n    }\n    return uri;\n  }\n\n  protected HandlerExecutionChain getHandler(HttpServletRequest request) {\n    if (dispatcherServlet.getHandlerMappings() != null) {\n      for (HandlerMapping mapping : dispatcherServlet.getHandlerMappings()) {\n        try {\n          HandlerExecutionChain handler = mapping.getHandler(request);\n          if (handler != null) {\n            return handler;\n          }\n        } catch (Exception ex) {\n          // Ignore\n        }\n      }\n    }\n    return null;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2311085,"reputation":149,"user_id":2029198,"display_name":"Hiro_Hamada"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695637219,"creation_date":1695637219,"answer_id":77171809,"question_id":59387737,"body_markdown":"\r\n\r\n    @Order(Ordered.HIGHEST_PRECEDENCE)\r\n    @Component\r\n    @Slf4j\r\n    @WebFilter\r\n    public class NoHandlerFoundFilter extends OncePerRequestFilter {\r\n    \r\n      private final DispatcherServlet dispatcherServlet;\r\n    \r\n      public NoHandlerFoundFilter(DispatcherServlet dispatcherServlet) {\r\n        this.dispatcherServlet = dispatcherServlet;\r\n      }\r\n    \r\n      @Override\r\n      protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n        try{\r\n\t\t\tboolean flag = validateUrl(request, response);\r\n\t\t\tif(flag)\r\n\t\t\t\tfilterChain.doFilter(request, response);\r\n\t\t}catch (Exception ex){\r\n\t\t\tlog.error(&quot;URL Filter Chain Exception:&quot;, ex);\r\n\t\t\t//throw new UrlNotFoundException(request, response, getRequestUri(request), ex);\r\n\t\t}\r\n      }\r\n      private boolean validateUrl(HttpServletRequest request, HttpServletResponse response) throws NoHandlerFoundException, IOException {\r\n\t\tif (null == getHandler(request)) {\r\n\t\t\tStatus errorStatus = this.getErrorStatus(HttpStatus.NOT_FOUND.toString(), &quot;URL not found&quot;, null);\r\n\t\t\tPlatformResponse errorResponse = new PlatformResponse();\r\n\t\t\terrorResponse.setStatus(errorStatus);\r\n\t\t\tresponse.setStatus(HttpStatus.NOT_FOUND.value());\r\n\t\t\tresponse.getWriter().write(objectMapper.writeValueAsString(errorResponse));\r\n\t\t\treturn false;\r\n\t\t\t//throw new UrlNotFoundException(request, response, &quot;test&quot;, null);\r\n\t\t}\r\n\t\treturn true;\r\n\t  }\r\n      private static String getRequestUri(HttpServletRequest request) {\r\n        String uri = (String) request.getAttribute(WebUtils.INCLUDE_REQUEST_URI_ATTRIBUTE);\r\n        if (uri == null) {\r\n          uri = request.getRequestURI();\r\n        }\r\n        return uri;\r\n      }\r\n    \r\n      protected HandlerExecutionChain getHandler(HttpServletRequest request) {\r\n        if (dispatcherServlet.getHandlerMappings() != null) {\r\n          for (HandlerMapping mapping : dispatcherServlet.getHandlerMappings()) {\r\n            try {\r\n              HandlerExecutionChain handler = mapping.getHandler(request);\r\n              if (handler != null) {\r\n                return handler;\r\n              }\r\n            } catch (Exception ex) {\r\n              // Ignore\r\n            }\r\n          }\r\n        }\r\n        return null;\r\n      }\r\n    }\r\nslight modification to scruel answer.\r\n\r\nworks for `springBootVersion: 3`","title":"Spring Boot, Spring Security returns a status 401 instead of 404 for &quot;no mapping found for HTTP request&quot;","body":"<pre><code>@Order(Ordered.HIGHEST_PRECEDENCE)\n@Component\n@Slf4j\n@WebFilter\npublic class NoHandlerFoundFilter extends OncePerRequestFilter {\n\n  private final DispatcherServlet dispatcherServlet;\n\n  public NoHandlerFoundFilter(DispatcherServlet dispatcherServlet) {\n    this.dispatcherServlet = dispatcherServlet;\n  }\n\n  @Override\n  protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n    try{\n        boolean flag = validateUrl(request, response);\n        if(flag)\n            filterChain.doFilter(request, response);\n    }catch (Exception ex){\n        log.error(&quot;URL Filter Chain Exception:&quot;, ex);\n        //throw new UrlNotFoundException(request, response, getRequestUri(request), ex);\n    }\n  }\n  private boolean validateUrl(HttpServletRequest request, HttpServletResponse response) throws NoHandlerFoundException, IOException {\n    if (null == getHandler(request)) {\n        Status errorStatus = this.getErrorStatus(HttpStatus.NOT_FOUND.toString(), &quot;URL not found&quot;, null);\n        PlatformResponse errorResponse = new PlatformResponse();\n        errorResponse.setStatus(errorStatus);\n        response.setStatus(HttpStatus.NOT_FOUND.value());\n        response.getWriter().write(objectMapper.writeValueAsString(errorResponse));\n        return false;\n        //throw new UrlNotFoundException(request, response, &quot;test&quot;, null);\n    }\n    return true;\n  }\n  private static String getRequestUri(HttpServletRequest request) {\n    String uri = (String) request.getAttribute(WebUtils.INCLUDE_REQUEST_URI_ATTRIBUTE);\n    if (uri == null) {\n      uri = request.getRequestURI();\n    }\n    return uri;\n  }\n\n  protected HandlerExecutionChain getHandler(HttpServletRequest request) {\n    if (dispatcherServlet.getHandlerMappings() != null) {\n      for (HandlerMapping mapping : dispatcherServlet.getHandlerMappings()) {\n        try {\n          HandlerExecutionChain handler = mapping.getHandler(request);\n          if (handler != null) {\n            return handler;\n          }\n        } catch (Exception ex) {\n          // Ignore\n        }\n      }\n    }\n    return null;\n  }\n}\n</code></pre>\n<p>slight modification to scruel answer.</p>\n<p>works for <code>springBootVersion: 3</code></p>\n"}],"owner":{"account_id":4114299,"reputation":71,"user_id":3376310,"display_name":"Crist Lam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3303,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1695637219,"creation_date":1576656118,"question_id":59387737,"body_markdown":"I am having a project using Spring Boot and Spring Security. Spring Security validate the header with the session id for every request. If the session id is invalid or expired, an error code 401 will be returned. The session id is validated before it gets to the controller.\r\n\r\nNow, I am facing an issue that if the user enters an invalid URL without a valid session id, still the response code is 401 because the session id is validated first. My expectation is that if the URL is invalid, an error code 404 (no mapping found for HTTP request) will be returned. In other words, I want to validate the URL before validating session id.\r\n\r\nIs there any way to do so because the session id in the header is validated in the GenericFilterBean before it gets to the controller?\r\n\r\nAny help is appreciated. Thank you.","title":"Spring Boot, Spring Security returns a status 401 instead of 404 for &quot;no mapping found for HTTP request&quot;","body":"<p>I am having a project using Spring Boot and Spring Security. Spring Security validate the header with the session id for every request. If the session id is invalid or expired, an error code 401 will be returned. The session id is validated before it gets to the controller.</p>\n\n<p>Now, I am facing an issue that if the user enters an invalid URL without a valid session id, still the response code is 401 because the session id is validated first. My expectation is that if the URL is invalid, an error code 404 (no mapping found for HTTP request) will be returned. In other words, I want to validate the URL before validating session id.</p>\n\n<p>Is there any way to do so because the session id in the header is validated in the GenericFilterBean before it gets to the controller?</p>\n\n<p>Any help is appreciated. Thank you.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":28537030,"reputation":1,"user_id":21843597,"display_name":"Dave"},"score":0,"creation_date":1695625703,"post_id":77170402,"comment_id":136044123,"body_markdown":"@Phil when i run with [3,2,2,3] with val = 3, the output array is [2,2]. But I don&#39;t know why it wouldn&#39;t be [2,2,3] instead.","body":"@Phil when i run with [3,2,2,3] with val = 3, the output array is [2,2]. But I don&#39;t know why it wouldn&#39;t be [2,2,3] instead."}],"answers":[{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695628055,"creation_date":1695628055,"answer_id":77170746,"question_id":77170402,"body_markdown":"&gt; If &quot;val&quot; is at the last index, wouldn&#39;t my code just ignore it and leave it as where it is?\r\n\r\nyes, and that will give a correct answer - acording to the problem text\r\n\r\n\r\n\r\n&gt; when i run with [3,2,2,3] with val = 3, the output array is [2,2]. But I don&#39;t know why it wouldn&#39;t be [2,2,3] instead. \r\n\r\nI tested your code:\r\n\r\nhttp://tpcg.io/_0AFGLH\r\n\r\nand it prints:\r\n\r\n    [2, 2, 2, 3]\r\n\r\nand that is correct, 3 is supposed to be not included in the result. You are supposed to return integer value, lets name it `k`, of number of elements different from val, and that is correct in your code. You are also supposed to modify array so that initial `k` elements are different from val. That is also correct in your code. You dont need to care about the elements `k`+1 in the returned array. ","title":"I don&#39;t understand my code at the last index","body":"<blockquote>\n<p>If &quot;val&quot; is at the last index, wouldn't my code just ignore it and leave it as where it is?</p>\n</blockquote>\n<p>yes, and that will give a correct answer - acording to the problem text</p>\n<blockquote>\n<p>when i run with [3,2,2,3] with val = 3, the output array is [2,2]. But I don't know why it wouldn't be [2,2,3] instead.</p>\n</blockquote>\n<p>I tested your code:</p>\n<p><a href=\"http://tpcg.io/_0AFGLH\" rel=\"nofollow noreferrer\">http://tpcg.io/_0AFGLH</a></p>\n<p>and it prints:</p>\n<pre><code>[2, 2, 2, 3]\n</code></pre>\n<p>and that is correct, 3 is supposed to be not included in the result. You are supposed to return integer value, lets name it <code>k</code>, of number of elements different from val, and that is correct in your code. You are also supposed to modify array so that initial <code>k</code> elements are different from val. That is also correct in your code. You dont need to care about the elements <code>k</code>+1 in the returned array.</p>\n"},{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695637088,"creation_date":1695636782,"answer_id":77171750,"question_id":77170402,"body_markdown":"The method returns the number of elements actually in use, the following elements should be be ignored. If you want to avoid reallocating a new array, you may consider passing an additional argument `n` giving the actual length:\r\n\r\n    public int removeElement(int[] nums, int n, int val) {\r\n        int newIndex = 0;\r\n        for (int i = 0; i &lt; n; i++){\r\n            if (nums[i] != val){\r\n                nums[newIndex] = nums[i];\r\n                newIndex++;\r\n\r\n            }\r\n        }\r\n        return newIndex;\r\n    }\r\n\r\nOtherwise, you can just return a new array:\r\n\r\n    public int[] removeElement(int[] nums, int val) {\r\n        int newIndex = 0;\r\n        for (int i = 0; i &lt; nums.length; i++){\r\n            if (nums[i] != val){\r\n                nums[newIndex] = nums[i];\r\n                newIndex++;\r\n\r\n            }\r\n        }\r\n        return Arrays.copyOfRange(nums, 0, newIndex);\r\n    }\r\n\r\nUPDATE:\r\n\r\nNote however that if your array elements were objects instead of `int`s, the first approach could cause memory leaks, unless you were to set to `null` elements at positions from `newIndex` to `n-1`.\r\n","title":"I don&#39;t understand my code at the last index","body":"<p>The method returns the number of elements actually in use, the following elements should be be ignored. If you want to avoid reallocating a new array, you may consider passing an additional argument <code>n</code> giving the actual length:</p>\n<pre><code>public int removeElement(int[] nums, int n, int val) {\n    int newIndex = 0;\n    for (int i = 0; i &lt; n; i++){\n        if (nums[i] != val){\n            nums[newIndex] = nums[i];\n            newIndex++;\n\n        }\n    }\n    return newIndex;\n}\n</code></pre>\n<p>Otherwise, you can just return a new array:</p>\n<pre><code>public int[] removeElement(int[] nums, int val) {\n    int newIndex = 0;\n    for (int i = 0; i &lt; nums.length; i++){\n        if (nums[i] != val){\n            nums[newIndex] = nums[i];\n            newIndex++;\n\n        }\n    }\n    return Arrays.copyOfRange(nums, 0, newIndex);\n}\n</code></pre>\n<p>UPDATE:</p>\n<p>Note however that if your array elements were objects instead of <code>int</code>s, the first approach could cause memory leaks, unless you were to set to <code>null</code> elements at positions from <code>newIndex</code> to <code>n-1</code>.</p>\n"}],"owner":{"account_id":28537030,"reputation":1,"user_id":21843597,"display_name":"Dave"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":2,"score":-4,"last_activity_date":1695637088,"creation_date":1695624607,"question_id":77170402,"body_markdown":"Given an integer array nums and an integer val, remove all occurrences of val in nums in-place. The order of the elements may be changed. Then return the number of elements in nums which are not equal to val.\r\n\r\nConsider the number of elements in nums which are not equal to val be k, to get accepted, you need to do the following things:\r\n\r\nChange the array nums such that the first k elements of nums contain the elements which are not equal to val. The remaining elements of nums are not important as well as the size of nums.\r\nReturn k.\r\n\r\n\r\nInput: nums = [3,2,2,3], val = 3\r\nOutput: 2, nums = [2,2,_,_]\r\n\r\nInput: nums = [0,1,2,2,3,0,4,2], val = 2\r\nOutput: 5, nums = [0,1,4,0,3,_,_,_]\r\n\r\n\r\n\r\n\r\n\r\n```\r\nclass Solution {\r\n    public int removeElement(int[] nums, int val) {\r\n        int newIndex = 0;\r\n        for (int i = 0; i &lt; nums.length; i++){\r\n            if (nums[i] != val){\r\n                nums[newIndex] = nums[i];\r\n                newIndex++;\r\n\r\n            }\r\n        }\r\n        return newIndex;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n1) With my code, what happens when val is at the last index? \r\ne.g [1,2,3,4,5,2,2], val = 2; \r\n\r\n\r\nIf &quot;val&quot; is at the last index, wouldn&#39;t my code just ignore it and leave it as where it is?","title":"I don&#39;t understand my code at the last index","body":"<p>Given an integer array nums and an integer val, remove all occurrences of val in nums in-place. The order of the elements may be changed. Then return the number of elements in nums which are not equal to val.</p>\n<p>Consider the number of elements in nums which are not equal to val be k, to get accepted, you need to do the following things:</p>\n<p>Change the array nums such that the first k elements of nums contain the elements which are not equal to val. The remaining elements of nums are not important as well as the size of nums.\nReturn k.</p>\n<p>Input: nums = [3,2,2,3], val = 3\nOutput: 2, nums = [2,2,<em>,</em>]</p>\n<p>Input: nums = [0,1,2,2,3,0,4,2], val = 2\nOutput: 5, nums = [0,1,4,0,3,<em>,</em>,_]</p>\n<pre><code>class Solution {\n    public int removeElement(int[] nums, int val) {\n        int newIndex = 0;\n        for (int i = 0; i &lt; nums.length; i++){\n            if (nums[i] != val){\n                nums[newIndex] = nums[i];\n                newIndex++;\n\n            }\n        }\n        return newIndex;\n    }\n}\n\n</code></pre>\n<ol>\n<li>With my code, what happens when val is at the last index?\ne.g [1,2,3,4,5,2,2], val = 2;</li>\n</ol>\n<p>If &quot;val&quot; is at the last index, wouldn't my code just ignore it and leave it as where it is?</p>\n"},{"tags":["java","spring-boot","code-coverage","jacoco","mockmvc"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1661863800,"post_id":73542635,"comment_id":129868628,"body_markdown":"You are sure the contoller is called? Have checked it with a debugger?","body":"You are sure the contoller is called? Have checked it with a debugger?"},{"owner":{"account_id":18624324,"reputation":186,"user_id":13573784,"display_name":"Vitor Nilson"},"score":0,"creation_date":1661863884,"post_id":73542635,"comment_id":129868660,"body_markdown":"Yep. I debbugged and my controller is called.","body":"Yep. I debbugged and my controller is called."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1661863954,"post_id":73542635,"comment_id":129868686,"body_markdown":"Are the class and package declaration the same in test and main?","body":"Are the class and package declaration the same in test and main?"},{"owner":{"account_id":18624324,"reputation":186,"user_id":13573784,"display_name":"Vitor Nilson"},"score":0,"creation_date":1661864278,"post_id":73542635,"comment_id":129868825,"body_markdown":"I&#39;m sorry, i didn&#39;t get it. Did you mean if they are on same structure? Here is how they are: https://imgur.com/a/wSPXktl","body":"I&#39;m sorry, i didn&#39;t get it. Did you mean if they are on same structure? Here is how they are: <a href=\"https://imgur.com/a/wSPXktl\" rel=\"nofollow noreferrer\">imgur.com/a/wSPXktl</a>"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1661864886,"post_id":73542635,"comment_id":129869062,"body_markdown":"I am a little bit confused. Your Controller returns 201 but you check against 200 in your test? So the test should fail. You should use `MockMvcResultMatchers.status().isCreate()`","body":"I am a little bit confused. Your Controller returns 201 but you check against 200 in your test? So the test should fail. You should use <code>MockMvcResultMatchers.status().isCreate()</code>"},{"owner":{"account_id":18624324,"reputation":186,"user_id":13573784,"display_name":"Vitor Nilson"},"score":0,"creation_date":1661865392,"post_id":73542635,"comment_id":129869264,"body_markdown":"Yep. This project has some structural issues, and I&#39;ve just started doing maintenance on it. If you just look at RestController it gets confusing, but legacyService.crud(...) returns a ResponseEntity wtih 200 as status code. Therefore, it overrides the @ResponseStatus annotation in the controller. So just have faith that the tests are working well hehe.","body":"Yep. This project has some structural issues, and I&#39;ve just started doing maintenance on it. If you just look at RestController it gets confusing, but legacyService.crud(...) returns a ResponseEntity wtih 200 as status code. Therefore, it overrides the @ResponseStatus annotation in the controller. So just have faith that the tests are working well hehe."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1661865504,"post_id":73542635,"comment_id":129869314,"body_markdown":"You are mocking a compete other function `Mockito.doReturn(&quot;OK&quot;).when(legacyService).request(`?","body":"You are mocking a compete other function <code>Mockito.doReturn(&quot;OK&quot;).when(legacyService).request(</code>?"},{"owner":{"account_id":18624324,"reputation":186,"user_id":13573784,"display_name":"Vitor Nilson"},"score":0,"creation_date":1661865622,"post_id":73542635,"comment_id":129869355,"body_markdown":"The `legacyService.crud(...)` calls the `legacyService.request(...)`. I need to Mock the inner method because `crud(...)` has a validation that need to be tested.","body":"The <code>legacyService.crud(...)</code> calls the <code>legacyService.request(...)</code>. I need to Mock the inner method because <code>crud(...)</code> has a validation that need to be tested."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1661865703,"post_id":73542635,"comment_id":129869392,"body_markdown":"But that should not tested in a controller unittest. A unit testt should only test one unit","body":"But that should not tested in a controller unittest. A unit testt should only test one unit"},{"owner":{"account_id":18624324,"reputation":186,"user_id":13573784,"display_name":"Vitor Nilson"},"score":0,"creation_date":1661876732,"post_id":73542635,"comment_id":129874041,"body_markdown":"I agree with you, but there were a few reasons why the test was done this way. Now about the problem, any way to solve it?","body":"I agree with you, but there were a few reasons why the test was done this way. Now about the problem, any way to solve it?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1661925601,"post_id":73542635,"comment_id":129884430,"body_markdown":"Have you tried in your IDE. Is the coverage shown there?","body":"Have you tried in your IDE. Is the coverage shown there?"}],"answers":[{"tags":[],"owner":{"account_id":557476,"reputation":553,"user_id":919930,"accept_rate":100,"display_name":"Slaven Glumac"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695637068,"creation_date":1695637068,"answer_id":77171795,"question_id":73542635,"body_markdown":"I had the same problem and I solved by replacing `org.junit.Test` with `org.junit.jupiter.api.Test`\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHowever, I don&#39;t know why it worked.\r\n\r\n  [1]: https://i.stack.imgur.com/DQTlp.png","title":"Jacoco does not update completeness of MockMvc tests","body":"<p>I had the same problem and I solved by replacing <code>org.junit.Test</code> with <code>org.junit.jupiter.api.Test</code></p>\n<p><a href=\"https://i.stack.imgur.com/DQTlp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DQTlp.png\" alt=\"enter image description here\" /></a></p>\n<p>However, I don't know why it worked.</p>\n"}],"owner":{"account_id":18624324,"reputation":186,"user_id":13573784,"display_name":"Vitor Nilson"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":571,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695637068,"creation_date":1661863282,"question_id":73542635,"body_markdown":"I have a Spring Boot application with some RestControllers.\r\n\r\nI am testing the RestControllers With MockMvc to reproduce same behaviour as the end user.\r\n\r\nThe problem is that Jacoco does not update completeness coverage of those tests:\r\n\r\nJacocoReport:\r\n\r\n_My testes were made to **LegacyController**_\r\n[![enter image description here][1]][1]\r\n\r\n\r\nLegacyController has a simple strucuture, like this (I need to modify because my company&#39;s policy):\r\n\r\n```java\r\n  @GetMapping(&quot;/{thing}/{thing2}&quot;)\r\n    @ResponseStatus(value = HttpStatus.CREATED)\r\n    public ResponseEntity&lt;Object&gt; doSomeThing(@PathVariable(&quot;thing&quot;) String thing,\r\n                                                     @PathVariable(&quot;service&quot;) String thing2,\r\n                                                     @RequestBody(required = false) String boody,\r\n                                                     @RequestHeader(&quot;Header1&quot;) String Header1,\r\n                                                     @RequestHeader(&quot;Content-Type&quot;) String contentType,\r\n                                                     @RequestParam(value = &quot;OtherThing&quot;) String OtherThing,\r\n                                                     @RequestParam(value = &quot;OtherThing2&quot;, defaultValue = &quot;defaultValue&quot;, required = false) String OtherThing2) {\r\n\r\n        return legacyService.crud(thing, thing2, request, Header1, OtherThing, outputType, OtherThing2);\r\n    }\r\n```\r\n\r\n\r\nAnd My tests do something like this:\r\n\r\n```java\r\n@RunWith(SpringRunner.class)\r\n@Import(LegacyController.class)\r\n@SpringBootTest\r\n@AutoConfigureMockMvc\r\n@WebAppConfiguration\r\n@ActiveProfiles(&quot;test&quot;)\r\npublic class LegacyControllerTest {\r\n\r\n    private MockMvc mockMvc;\r\n\r\n    @MockBean\r\n    private LegacyService legacyService;\r\n\r\n\r\n    @Autowired\r\n    private WebApplicationContext context;\r\n\r\n    @Before\r\n    public void setUp(){\r\n        this.mockMvc = MockMvcBuilders.webAppContextSetup(context).build();\r\n    }\r\n\r\n    @Test\r\n    public void givenGetJson_WhenOffsetPageIsPresent_ThenReturnsOk() throws Exception {\r\n        Mockito.doReturn(&quot;OK&quot;).when(legacyService).request(Mockito.any(), Mockito.anyString(), Mockito.any(TokenDTO.class), Mockito.any(HttpHeaders.class));\r\n       \r\n\r\n        mockMvc.perform(MockMvcRequestBuilders\r\n                .get(&quot;/gateway/v1/{thing}/{thing2}&quot;, &quot;value-thing&quot;, &quot;value-thing2&quot;)\r\n\r\n                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n\r\n                .header(&quot;Header1&quot;, &quot;Header1 value&quot;)\r\n                .queryParam(&quot;OtherThing&quot;, &quot;OtherThing value&quot;)\r\n                .queryParam(&quot;OtherThing2&quot;, &quot;OtherThing2 Value&quot;)\r\n                .content(&quot;A BODY GOES HERE&quot;))\r\n\r\n                .andDo(MockMvcResultHandlers.print())\r\n                .andExpect(MockMvcResultMatchers.status().isOk());\r\n\r\n    }\r\n    }\r\n\r\n```\r\n\r\nHere are the pom.xml\r\n\r\n```xml\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt;\r\n\t\t&lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\r\n ***HIDDEN DATA****\r\n\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n*** MORE HIDDEN DATA ***\r\n\r\n\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.0-M7&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;0.8.8&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;**/constant/*&lt;/exclude&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;**/dto/*&lt;/exclude&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;**/enuns/*&lt;/exclude&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;**/exception/*&lt;/exclude&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;**/ApiApplication.class&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;generate-code-coverage-report&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;test&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;report&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nMy tests works fine, do what it was built to do.\r\n\r\nThe problem is the code coverage does not changing.\r\n\r\n  [1]: https://i.stack.imgur.com/2aPP9.png","title":"Jacoco does not update completeness of MockMvc tests","body":"<p>I have a Spring Boot application with some RestControllers.</p>\n<p>I am testing the RestControllers With MockMvc to reproduce same behaviour as the end user.</p>\n<p>The problem is that Jacoco does not update completeness coverage of those tests:</p>\n<p>JacocoReport:</p>\n<p><em>My testes were made to <strong>LegacyController</strong></em>\n<a href=\"https://i.stack.imgur.com/2aPP9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2aPP9.png\" alt=\"enter image description here\" /></a></p>\n<p>LegacyController has a simple strucuture, like this (I need to modify because my company's policy):</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @GetMapping(&quot;/{thing}/{thing2}&quot;)\n    @ResponseStatus(value = HttpStatus.CREATED)\n    public ResponseEntity&lt;Object&gt; doSomeThing(@PathVariable(&quot;thing&quot;) String thing,\n                                                     @PathVariable(&quot;service&quot;) String thing2,\n                                                     @RequestBody(required = false) String boody,\n                                                     @RequestHeader(&quot;Header1&quot;) String Header1,\n                                                     @RequestHeader(&quot;Content-Type&quot;) String contentType,\n                                                     @RequestParam(value = &quot;OtherThing&quot;) String OtherThing,\n                                                     @RequestParam(value = &quot;OtherThing2&quot;, defaultValue = &quot;defaultValue&quot;, required = false) String OtherThing2) {\n\n        return legacyService.crud(thing, thing2, request, Header1, OtherThing, outputType, OtherThing2);\n    }\n</code></pre>\n<p>And My tests do something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(SpringRunner.class)\n@Import(LegacyController.class)\n@SpringBootTest\n@AutoConfigureMockMvc\n@WebAppConfiguration\n@ActiveProfiles(&quot;test&quot;)\npublic class LegacyControllerTest {\n\n    private MockMvc mockMvc;\n\n    @MockBean\n    private LegacyService legacyService;\n\n\n    @Autowired\n    private WebApplicationContext context;\n\n    @Before\n    public void setUp(){\n        this.mockMvc = MockMvcBuilders.webAppContextSetup(context).build();\n    }\n\n    @Test\n    public void givenGetJson_WhenOffsetPageIsPresent_ThenReturnsOk() throws Exception {\n        Mockito.doReturn(&quot;OK&quot;).when(legacyService).request(Mockito.any(), Mockito.anyString(), Mockito.any(TokenDTO.class), Mockito.any(HttpHeaders.class));\n       \n\n        mockMvc.perform(MockMvcRequestBuilders\n                .get(&quot;/gateway/v1/{thing}/{thing2}&quot;, &quot;value-thing&quot;, &quot;value-thing2&quot;)\n\n                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n\n                .header(&quot;Header1&quot;, &quot;Header1 value&quot;)\n                .queryParam(&quot;OtherThing&quot;, &quot;OtherThing value&quot;)\n                .queryParam(&quot;OtherThing2&quot;, &quot;OtherThing2 Value&quot;)\n                .content(&quot;A BODY GOES HERE&quot;))\n\n                .andDo(MockMvcResultHandlers.print())\n                .andExpect(MockMvcResultMatchers.status().isOk());\n\n    }\n    }\n\n</code></pre>\n<p>Here are the pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;relativePath/&gt;\n        &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n\n ***HIDDEN DATA****\n\n&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n*** MORE HIDDEN DATA ***\n\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M7&lt;/version&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.8.8&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;**/constant/*&lt;/exclude&gt;\n                        &lt;exclude&gt;**/dto/*&lt;/exclude&gt;\n                        &lt;exclude&gt;**/enuns/*&lt;/exclude&gt;\n                        &lt;exclude&gt;**/exception/*&lt;/exclude&gt;\n                        &lt;exclude&gt;**/ApiApplication.class&lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;generate-code-coverage-report&lt;/id&gt;\n                        &lt;phase&gt;test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>My tests works fine, do what it was built to do.</p>\n<p>The problem is the code coverage does not changing.</p>\n"},{"tags":["java","android","dagger-hilt"],"comments":[{"owner":{"account_id":10446401,"reputation":406,"user_id":7701297,"display_name":"zmunm"},"score":0,"creation_date":1695636512,"post_id":77171686,"comment_id":136046174,"body_markdown":"It&#39;s impossible. Anything installed from a higher-level component cannot be removed from a lower-level component. If you want to inject multiple instances of the same type, you must use a qualifier.","body":"It&#39;s impossible. Anything installed from a higher-level component cannot be removed from a lower-level component. If you want to inject multiple instances of the same type, you must use a qualifier."},{"owner":{"account_id":7740136,"reputation":672,"user_id":5860233,"display_name":"Tajuddin Khandaker"},"score":0,"creation_date":1695636674,"post_id":77171686,"comment_id":136046208,"body_markdown":"@bambam you are right updated ... please now focus on the point","body":"@bambam you are right updated ... please now focus on the point"}],"answers":[{"tags":[],"owner":{"account_id":10446401,"reputation":406,"user_id":7701297,"display_name":"zmunm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695637026,"creation_date":1695637026,"answer_id":77171790,"question_id":77171686,"body_markdown":"I think you can install it individually.\r\n\r\n    \r\n    @Module\r\n    @InstallIn(ActivityComponent.class)\r\n    public absrtact class MyHiltModule {\r\n        @Binds\r\n        @SomeQualifier\r\n        abstract SomeInterface bindSomething(SomeImpl someimpl); =======&gt; for activity scoped lifecycle\r\n    }\r\n\r\n    @Module\r\n    @InstallIn(SingletonComponent.class)\r\n    public absrtact class MyHiltModule2 {\r\n        @Binds\r\n        @AnotherQualifier\r\n        abstract SomeInterface binsAnotherThing(AnotherImpl anotherImpl); ===&gt; for application scope lifecycle\r\n    }\r\n","title":"ActivityComponent and SingletonComponent relations together in hilt module class","body":"<p>I think you can install it individually.</p>\n<pre><code>@Module\n@InstallIn(ActivityComponent.class)\npublic absrtact class MyHiltModule {\n    @Binds\n    @SomeQualifier\n    abstract SomeInterface bindSomething(SomeImpl someimpl); =======&gt; for activity scoped lifecycle\n}\n\n@Module\n@InstallIn(SingletonComponent.class)\npublic absrtact class MyHiltModule2 {\n    @Binds\n    @AnotherQualifier\n    abstract SomeInterface binsAnotherThing(AnotherImpl anotherImpl); ===&gt; for application scope lifecycle\n}\n</code></pre>\n"}],"owner":{"account_id":7740136,"reputation":672,"user_id":5860233,"display_name":"Tajuddin Khandaker"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77171790,"answer_count":1,"score":1,"last_activity_date":1695637026,"creation_date":1695636199,"question_id":77171686,"body_markdown":"I have some binds or provides relations for ActivityComponent and some for SingletonComponent in one Hilt Module class .... how could i achieve that?\r\n\r\nExample:\r\n\r\n    @Module\r\n    @InstallIn({ActivityComponent.class, SingletonComponent.class})\r\n    public absrtact class MyHiltModule {\r\n       @Binds\r\n       @SomeQualifier\r\n       abstract SomeInterface bindSomething(SomeImpl someimpl); =======&gt; for activity scoped lifecycle\r\n       \r\n\r\n       @Binds\r\n       @AnotherQualifier\r\n       abstract SomeInterface binsAnotherThing(AnotherImpl anotherImpl); ===&gt; for application scope lifecycle\r\n    }","title":"ActivityComponent and SingletonComponent relations together in hilt module class","body":"<p>I have some binds or provides relations for ActivityComponent and some for SingletonComponent in one Hilt Module class .... how could i achieve that?</p>\n<p>Example:</p>\n<pre><code>@Module\n@InstallIn({ActivityComponent.class, SingletonComponent.class})\npublic absrtact class MyHiltModule {\n   @Binds\n   @SomeQualifier\n   abstract SomeInterface bindSomething(SomeImpl someimpl); =======&gt; for activity scoped lifecycle\n   \n\n   @Binds\n   @AnotherQualifier\n   abstract SomeInterface binsAnotherThing(AnotherImpl anotherImpl); ===&gt; for application scope lifecycle\n}\n</code></pre>\n"},{"tags":["java","spring-boot","apache-camel","ibm-mq"],"answers":[{"tags":[],"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695105608,"creation_date":1694929447,"answer_id":77120619,"question_id":77099201,"body_markdown":"**Update:** I checked from on my side that setting `MQConstants.MQOO_INPUT_EXCLUSIVE` (package - **com.ibm.mq.constants**) in the method `setMQConnectionOptions(int cTagOpt)` from `MQQueueConnectionFactory` doesn&#39;t work at all and throws error.\r\n\r\nSo, It&#39;s impossible to set the `MQOO_INPUT_EXCLUSIVE` via `MQQueueConnectionFactory`.\r\n\r\nI have some useful links which will help you to understand why it&#39;s impossible and check if this helps.\r\n\r\n- [Open Input exclusive option (MQC.MQOO_INPUT_EXCLUSIVE )][1] \r\n- [Setting MQ exclusive-read client properties in JMS][2]\r\n\r\nOnly the option that&#39;s available to you is to access queue from queueManager with the openOption as `MQOO_INPUT_EXCLUSIVE`\r\n\r\n    MQQueue queue = queueManager.accessQueue(&quot;name-of-the-queue&quot;, MQConstants.MQOO_INPUT_EXCLUSIVE);\r\n\r\n\r\nRefer to Java Docs on MQConstants [here][3].\r\n\r\n\r\n  [1]: http://www.mqseries.net/phpBB/viewtopic.php?t=55218&amp;sid=26556302782b5df6fbf3633524bc8141\r\n  [2]: http://www.mqseries.net/phpBB2/viewtopic.php?p=286663\r\n  [3]: https://www.ibm.com/docs/api/v1/content/SSFKSJ_9.2.0/com.ibm.mq.javadoc.doc/WMQJavaClasses/com/ibm/mq/constants/MQConstants.html","title":"How to set MQOO_INPUT_EXCLUSIVE option for IBM MQ Connection Factory in Camel Consumer with Spring boot?","body":"<p><strong>Update:</strong> I checked from on my side that setting <code>MQConstants.MQOO_INPUT_EXCLUSIVE</code> (package - <strong>com.ibm.mq.constants</strong>) in the method <code>setMQConnectionOptions(int cTagOpt)</code> from <code>MQQueueConnectionFactory</code> doesn't work at all and throws error.</p>\n<p>So, It's impossible to set the <code>MQOO_INPUT_EXCLUSIVE</code> via <code>MQQueueConnectionFactory</code>.</p>\n<p>I have some useful links which will help you to understand why it's impossible and check if this helps.</p>\n<ul>\n<li><a href=\"http://www.mqseries.net/phpBB/viewtopic.php?t=55218&amp;sid=26556302782b5df6fbf3633524bc8141\" rel=\"nofollow noreferrer\">Open Input exclusive option (MQC.MQOO_INPUT_EXCLUSIVE )</a></li>\n<li><a href=\"http://www.mqseries.net/phpBB2/viewtopic.php?p=286663\" rel=\"nofollow noreferrer\">Setting MQ exclusive-read client properties in JMS</a></li>\n</ul>\n<p>Only the option that's available to you is to access queue from queueManager with the openOption as <code>MQOO_INPUT_EXCLUSIVE</code></p>\n<pre><code>MQQueue queue = queueManager.accessQueue(&quot;name-of-the-queue&quot;, MQConstants.MQOO_INPUT_EXCLUSIVE);\n</code></pre>\n<p>Refer to Java Docs on MQConstants <a href=\"https://www.ibm.com/docs/api/v1/content/SSFKSJ_9.2.0/com.ibm.mq.javadoc.doc/WMQJavaClasses/com/ibm/mq/constants/MQConstants.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":2516329,"reputation":2318,"user_id":2187694,"display_name":"Prabu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77120619,"answer_count":1,"score":2,"last_activity_date":1695637012,"creation_date":1694625271,"question_id":77099201,"body_markdown":"I am trying to setup spring boot application that needs to consume messages from an IBM MQ queue while ensuring that only one instance of the application receives all messages to maintain message ordering. To achieve this, I need to configure the Camel consumer to open a connection with the MQOO_INPUT_EXCLUSIVE option enabled.\r\n\r\nI have already set up the JmsComponent, MQQueueConnectionFactory and RouteBuilder in my application, but I couldn&#39;t find the property key and value to enable the MQOO_INPUT_EXCLUSIVE option for the connection via MQQueueConnectionFactory.\r\n\r\nTried this approach by changing the Default input open option in the queue setting and it works, but is there a way to achieve this by passing this property while opening connection? \r\n\r\nI have tried searching online for information on how to set this option, but I haven&#39;t been able to find a solution,the results were either not relevant to camel based configuration or those were outdated. Can anyone help me with this? Any help would be greatly appreciated!","title":"How to set MQOO_INPUT_EXCLUSIVE option for IBM MQ Connection Factory in Camel Consumer with Spring boot?","body":"<p>I am trying to setup spring boot application that needs to consume messages from an IBM MQ queue while ensuring that only one instance of the application receives all messages to maintain message ordering. To achieve this, I need to configure the Camel consumer to open a connection with the MQOO_INPUT_EXCLUSIVE option enabled.</p>\n<p>I have already set up the JmsComponent, MQQueueConnectionFactory and RouteBuilder in my application, but I couldn't find the property key and value to enable the MQOO_INPUT_EXCLUSIVE option for the connection via MQQueueConnectionFactory.</p>\n<p>Tried this approach by changing the Default input open option in the queue setting and it works, but is there a way to achieve this by passing this property while opening connection?</p>\n<p>I have tried searching online for information on how to set this option, but I haven't been able to find a solution,the results were either not relevant to camel based configuration or those were outdated. Can anyone help me with this? Any help would be greatly appreciated!</p>\n"},{"tags":["java","android","kotlin","kotlin-script"],"answers":[{"tags":[],"owner":{"account_id":3517713,"reputation":1240,"user_id":2940733,"display_name":"Amin Mousavi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695409047,"creation_date":1695409047,"answer_id":77160105,"question_id":77159765,"body_markdown":"As the error is saying, you have duplicated classes in your modules. It means a class is included in two or more of your added dependencies. You should check the dependencies of these modules and use `exclude` to exclude duplicated dependencies from them so that only one of your dependencies contains that duplicated dependency.\r\n&lt;br&gt;You can read more about Gradle&#39;s exclude [here][1].\r\n&lt;br&gt; Also, you can use Gradle&#39;s [dependencies][2] command to generate a tree of all of your project&#39;s dependencies.\r\n\r\n&lt;p&gt;Note that there are other ways to resolve this problem, Just search for &#39;Removing duplicated classes in gradle modules&#39; or something like this :)\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/kotlin-dsl/gradle/org.gradle.api.artifacts/-module-dependency/exclude.html\r\n  [2]: https://docs.gradle.org/current/userguide/viewing_debugging_dependencies.html","title":"How to run kotlin script in the scripting host of Android app","body":"<p>As the error is saying, you have duplicated classes in your modules. It means a class is included in two or more of your added dependencies. You should check the dependencies of these modules and use <code>exclude</code> to exclude duplicated dependencies from them so that only one of your dependencies contains that duplicated dependency.\n<br>You can read more about Gradle's exclude <a href=\"https://docs.gradle.org/current/kotlin-dsl/gradle/org.gradle.api.artifacts/-module-dependency/exclude.html\" rel=\"nofollow noreferrer\">here</a>.\n<br> Also, you can use Gradle's <a href=\"https://docs.gradle.org/current/userguide/viewing_debugging_dependencies.html\" rel=\"nofollow noreferrer\">dependencies</a> command to generate a tree of all of your project's dependencies.</p>\n<p>Note that there are other ways to resolve this problem, Just search for 'Removing duplicated classes in gradle modules' or something like this :)\n"}],"owner":{"account_id":9979751,"reputation":31,"user_id":7383082,"display_name":"Taylor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695637000,"creation_date":1695405237,"question_id":77159765,"body_markdown":"I want to run kotlin script(in string form) within Android:\r\n```kotlin\r\nclass MainActivity : AppCompatActivity() {\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        val engine = KotlinJsr223DefaultScriptEngineFactory().getScriptEngine()\r\n        engine.eval(&quot;val x =3&quot;)\r\n        val result = engine.eval(&quot;x+2&quot;)\r\n        Log.d(&quot;test&quot;, &quot;onCreate: result=$result&quot;)\r\n    }\r\n}\r\n```\r\n\r\nthe dependency i added:\r\n```\r\nimplementation &quot;org.jetbrains.kotlin:kotlin-scripting-jsr223:1.4.0&quot;\r\nimplementation &quot;org.jetbrains.kotlin:kotlin-script-runtime:1.4.0&quot;\r\nimplementation &quot;org.jetbrains.kotlin:kotlin-compiler-embeddable:1.4.0&quot;\r\n```\r\nBut i cant compile the code,the error is &quot;Duplicate class&quot; :\r\n```\r\nDuplicate class org.jetbrains.kotlin.daemon.common.WallTotalProfiler found in modules jetified-kotlin-daemon-client-1.4.0 (org.jetbrains.kotlin:kotlin-daemon-client:1.4.0) and jetified-kotlin-daemon-embeddable-1.4.0 (org.jetbrains.kotlin:kotlin-daemon-embeddable:1.4.0)   \r\n```\r\n\r\nIf i remove the dependency of kotlin-compiler-embeddable, Duplicate class error is gone.But a new error occur:\r\n```\r\nCannot access &#39;javax.script.ScriptEngineFactory&#39; which is a supertype of &#39;kotlin.script.experimental.jsr223.KotlinJsr223DefaultScriptEngineFactory&#39;. Check your module classpath for missing or conflicting dependencies\r\n```\r\n\r\n\r\nHow can i make it?","title":"How to run kotlin script in the scripting host of Android app","body":"<p>I want to run kotlin script(in string form) within Android:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        val engine = KotlinJsr223DefaultScriptEngineFactory().getScriptEngine()\n        engine.eval(&quot;val x =3&quot;)\n        val result = engine.eval(&quot;x+2&quot;)\n        Log.d(&quot;test&quot;, &quot;onCreate: result=$result&quot;)\n    }\n}\n</code></pre>\n<p>the dependency i added:</p>\n<pre><code>implementation &quot;org.jetbrains.kotlin:kotlin-scripting-jsr223:1.4.0&quot;\nimplementation &quot;org.jetbrains.kotlin:kotlin-script-runtime:1.4.0&quot;\nimplementation &quot;org.jetbrains.kotlin:kotlin-compiler-embeddable:1.4.0&quot;\n</code></pre>\n<p>But i cant compile the code,the error is &quot;Duplicate class&quot; :</p>\n<pre><code>Duplicate class org.jetbrains.kotlin.daemon.common.WallTotalProfiler found in modules jetified-kotlin-daemon-client-1.4.0 (org.jetbrains.kotlin:kotlin-daemon-client:1.4.0) and jetified-kotlin-daemon-embeddable-1.4.0 (org.jetbrains.kotlin:kotlin-daemon-embeddable:1.4.0)   \n</code></pre>\n<p>If i remove the dependency of kotlin-compiler-embeddable, Duplicate class error is gone.But a new error occur:</p>\n<pre><code>Cannot access 'javax.script.ScriptEngineFactory' which is a supertype of 'kotlin.script.experimental.jsr223.KotlinJsr223DefaultScriptEngineFactory'. Check your module classpath for missing or conflicting dependencies\n</code></pre>\n<p>How can i make it?</p>\n"},{"tags":["java","android","button","alarmmanager"],"comments":[{"owner":{"account_id":6979173,"reputation":942,"user_id":6576302,"display_name":"C.F.G"},"score":0,"creation_date":1695650160,"post_id":77171744,"comment_id":136048988,"body_markdown":"Have you tried this using service?","body":"Have you tried this using service?"},{"owner":{"account_id":6979173,"reputation":942,"user_id":6576302,"display_name":"C.F.G"},"score":0,"creation_date":1695650394,"post_id":77171744,"comment_id":136049049,"body_markdown":"Just for local use (not persistence) https://stackoverflow.com/q/41368127/6576302","body":"Just for local use (not persistence) <a href=\"https://stackoverflow.com/q/41368127/6576302\">stackoverflow.com/q/41368127/6576302</a>"}],"owner":{"account_id":23726554,"reputation":21,"user_id":17746378,"display_name":"pradeep72767"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695636713,"creation_date":1695636713,"question_id":77171744,"body_markdown":"i am working on project in that i am use alarm manager , i am setting alarm which will ring on 3.40 pm time will show on button , on 3.40 set alarm button need to gone and cancel  button need to visible.\r\n\r\nI tried many options those are not working.\r\nhelp me . \r\n\r\n[![this is the screen shot before alarm set ](https://i.stack.imgur.com/rjw1T.jpg)](https://i.stack.imgur.com/rjw1T.jpg)[![this is after alarm set ](https://i.stack.imgur.com/K407R.jpg)](https://i.stack.imgur.com/K407R.jpg)\r\n\r\n\r\non 3.40 PM that button need to gone and cancel button need to visible","title":"Set button visibility gone and visible on selected time for alarm?","body":"<p>i am working on project in that i am use alarm manager , i am setting alarm which will ring on 3.40 pm time will show on button , on 3.40 set alarm button need to gone and cancel  button need to visible.</p>\n<p>I tried many options those are not working.\nhelp me .</p>\n<p><a href=\"https://i.stack.imgur.com/rjw1T.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rjw1T.jpg\" alt=\"this is the screen shot before alarm set \" /></a><a href=\"https://i.stack.imgur.com/K407R.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K407R.jpg\" alt=\"this is after alarm set \" /></a></p>\n<p>on 3.40 PM that button need to gone and cancel button need to visible</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":1463176,"reputation":4443,"user_id":1376885,"accept_rate":34,"display_name":"Viktor M."},"score":0,"creation_date":1442588062,"post_id":32654929,"comment_id":53156624,"body_markdown":"I need to move on next item in loop.","body":"I need to move on next item in loop."},{"owner":{"account_id":3562114,"reputation":1493,"user_id":2974766,"accept_rate":73,"display_name":"DoubleDouble"},"score":2,"creation_date":1442588131,"post_id":32654929,"comment_id":53156684,"body_markdown":"His point is, with the code you&#39;ve shown, not having the `continue` would still move onto the next item without any functional changes anyway.","body":"His point is, with the code you&#39;ve shown, not having the <code>continue</code> would still move onto the next item without any functional changes anyway."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1442588534,"post_id":32654929,"comment_id":53156974,"body_markdown":"If the goal is to avoid executing lines coming after the call to continue, and that you&#39;re not showing us, just put all these lines in an `else` block. If there is nothing after `continue`, then drop the if block and the continue: they&#39;re useless.","body":"If the goal is to avoid executing lines coming after the call to continue, and that you&#39;re not showing us, just put all these lines in an <code>else</code> block. If there is nothing after <code>continue</code>, then drop the if block and the continue: they&#39;re useless."}],"answers":[{"tags":[],"owner":{"account_id":6388289,"reputation":35625,"user_id":4955425,"display_name":"sstan"},"down_vote_count":0,"up_vote_count":449,"is_accepted":true,"score":449,"last_activity_date":1510667777,"creation_date":1442588103,"answer_id":32655038,"question_id":32654929,"body_markdown":"Using `return;` will work just fine.  It will not prevent the full loop from completing.  It will only stop executing the current iteration of the `forEach` loop.\r\n\r\nTry the following little program:\r\n\r\n    public static void main(String[] args) {\r\n        ArrayList&lt;String&gt; stringList = new ArrayList&lt;&gt;();\r\n        stringList.add(&quot;a&quot;);\r\n        stringList.add(&quot;b&quot;);\r\n        stringList.add(&quot;c&quot;);\r\n\r\n        stringList.stream().forEach(str -&gt; {\r\n            if (str.equals(&quot;b&quot;)) return; // only skips this iteration.\r\n            \r\n            System.out.println(str);\r\n        });\r\n    }\r\n\r\nOutput:\r\n\r\n&gt; a  \r\n&gt; c\r\n\r\nNotice how the `return;` is executed for the `b` iteration, but `c` prints on the following iteration just fine.\r\n\r\n&lt;h2&gt;Why does this work?&lt;/h2&gt;\r\n\r\nThe reason the behavior seems unintuitive at first is because we are used to the `return` statement interrupting the execution of the whole method.  So in this case, we expect the `main` method execution as a whole to be halted.\r\n\r\nHowever, what needs to be understood is that a lambda expression, such as:\r\n\r\n    str -&gt; {\r\n        if (str.equals(&quot;b&quot;)) return;\r\n\r\n        System.out.println(str);\r\n    }\r\n\r\n... really needs to be considered as its own distinct &quot;method&quot;, completely separate from the `main` method, despite it being conveniently located within it. So really, the `return` statement only halts the execution of the lambda expression.\r\n\r\nThe second thing that needs to be understood is that:\r\n\r\n    stringList.stream().forEach()\r\n\r\n... is really just a normal loop under the covers that executes the lambda expression for every iteration.\r\n\r\nWith these 2 points in mind, the above code can be rewritten in the following equivalent way (for educational purposes only):\r\n\r\n    public static void main(String[] args) {\r\n        ArrayList&lt;String&gt; stringList = new ArrayList&lt;&gt;();\r\n        stringList.add(&quot;a&quot;);\r\n        stringList.add(&quot;b&quot;);\r\n        stringList.add(&quot;c&quot;);\r\n\r\n        for(String s : stringList) {\r\n            lambdaExpressionEquivalent(s);\r\n        }\r\n    }\r\n\r\n    private static void lambdaExpressionEquivalent(String str) {\r\n        if (str.equals(&quot;b&quot;)) {\r\n            return;\r\n        }\r\n        \r\n        System.out.println(str);\r\n    }\r\n\r\nWith this &quot;less magic&quot; code equivalent, the scope of the `return` statement becomes more apparent.\r\n","title":"Move to next item using Java 8 foreach loop in stream","body":"<p>Using <code>return;</code> will work just fine.  It will not prevent the full loop from completing.  It will only stop executing the current iteration of the <code>forEach</code> loop.</p>\n\n<p>Try the following little program:</p>\n\n<pre><code>public static void main(String[] args) {\n    ArrayList&lt;String&gt; stringList = new ArrayList&lt;&gt;();\n    stringList.add(\"a\");\n    stringList.add(\"b\");\n    stringList.add(\"c\");\n\n    stringList.stream().forEach(str -&gt; {\n        if (str.equals(\"b\")) return; // only skips this iteration.\n\n        System.out.println(str);\n    });\n}\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>a<br>\n  c</p>\n</blockquote>\n\n<p>Notice how the <code>return;</code> is executed for the <code>b</code> iteration, but <code>c</code> prints on the following iteration just fine.</p>\n\n<h2>Why does this work?</h2>\n\n<p>The reason the behavior seems unintuitive at first is because we are used to the <code>return</code> statement interrupting the execution of the whole method.  So in this case, we expect the <code>main</code> method execution as a whole to be halted.</p>\n\n<p>However, what needs to be understood is that a lambda expression, such as:</p>\n\n<pre><code>str -&gt; {\n    if (str.equals(\"b\")) return;\n\n    System.out.println(str);\n}\n</code></pre>\n\n<p>... really needs to be considered as its own distinct \"method\", completely separate from the <code>main</code> method, despite it being conveniently located within it. So really, the <code>return</code> statement only halts the execution of the lambda expression.</p>\n\n<p>The second thing that needs to be understood is that:</p>\n\n<pre><code>stringList.stream().forEach()\n</code></pre>\n\n<p>... is really just a normal loop under the covers that executes the lambda expression for every iteration.</p>\n\n<p>With these 2 points in mind, the above code can be rewritten in the following equivalent way (for educational purposes only):</p>\n\n<pre><code>public static void main(String[] args) {\n    ArrayList&lt;String&gt; stringList = new ArrayList&lt;&gt;();\n    stringList.add(\"a\");\n    stringList.add(\"b\");\n    stringList.add(\"c\");\n\n    for(String s : stringList) {\n        lambdaExpressionEquivalent(s);\n    }\n}\n\nprivate static void lambdaExpressionEquivalent(String str) {\n    if (str.equals(\"b\")) {\n        return;\n    }\n\n    System.out.println(str);\n}\n</code></pre>\n\n<p>With this \"less magic\" code equivalent, the scope of the <code>return</code> statement becomes more apparent.</p>\n"},{"tags":[],"owner":{"display_name":"user377628"},"down_vote_count":4,"up_vote_count":4,"is_accepted":false,"score":0,"last_activity_date":1442588165,"creation_date":1442588165,"answer_id":32655060,"question_id":32654929,"body_markdown":"You can use a simple `if` statement instead of continue. So instead of the way you have your code, you can try:\r\n\r\n    try(Stream&lt;String&gt; lines = Files.lines(path, StandardCharsets.ISO_8859_1)){\r\n                filteredLines = lines.filter(...).foreach(line -&gt; {\r\n               ...\r\n               if(!...) {\r\n                  // Code you want to run\r\n               }\r\n               // Once the code runs, it will continue anyway\r\n        });\r\n    }\r\n\r\nThe predicate in the if statement will just be the opposite of the predicate in your `if(pred) continue;` statement, so just use `!` (logical not).","title":"Move to next item using Java 8 foreach loop in stream","body":"<p>You can use a simple <code>if</code> statement instead of continue. So instead of the way you have your code, you can try:</p>\n\n<pre><code>try(Stream&lt;String&gt; lines = Files.lines(path, StandardCharsets.ISO_8859_1)){\n            filteredLines = lines.filter(...).foreach(line -&gt; {\n           ...\n           if(!...) {\n              // Code you want to run\n           }\n           // Once the code runs, it will continue anyway\n    });\n}\n</code></pre>\n\n<p>The predicate in the if statement will just be the opposite of the predicate in your <code>if(pred) continue;</code> statement, so just use <code>!</code> (logical not).</p>\n"},{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1442588221,"creation_date":1442588221,"answer_id":32655089,"question_id":32654929,"body_markdown":"The lambda you are passing to `forEach()` is evaluated for each element received from the stream.  The iteration itself is not visible from within the scope of the lambda, so you cannot `continue` it as if `forEach()` were a C preprocessor macro.  Instead, you can conditionally skip the rest of the statements in it.","title":"Move to next item using Java 8 foreach loop in stream","body":"<p>The lambda you are passing to <code>forEach()</code> is evaluated for each element received from the stream.  The iteration itself is not visible from within the scope of the lambda, so you cannot <code>continue</code> it as if <code>forEach()</code> were a C preprocessor macro.  Instead, you can conditionally skip the rest of the statements in it.</p>\n"},{"tags":[],"owner":{"account_id":4634192,"reputation":497,"user_id":3755871,"display_name":"Anarkopsykotik"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1499863227,"creation_date":1499863227,"answer_id":45057964,"question_id":32654929,"body_markdown":"Another solution: go through a filter with your inverted conditions :\r\nExample :\r\n\r\n    if(subscribtion.isOnce() &amp;&amp; subscribtion.isCalled()){\r\n                    continue;\r\n    }\r\n\r\ncan be replaced with\r\n\r\n    .filter(s -&gt; !(s.isOnce() &amp;&amp; s.isCalled()))\r\n\r\nThe most straightforward approach seem to be using &quot;return;&quot; though.","title":"Move to next item using Java 8 foreach loop in stream","body":"<p>Another solution: go through a filter with your inverted conditions :\nExample :</p>\n\n<pre><code>if(subscribtion.isOnce() &amp;&amp; subscribtion.isCalled()){\n                continue;\n}\n</code></pre>\n\n<p>can be replaced with</p>\n\n<pre><code>.filter(s -&gt; !(s.isOnce() &amp;&amp; s.isCalled()))\n</code></pre>\n\n<p>The most straightforward approach seem to be using \"return;\" though.</p>\n"},{"tags":[],"owner":{"account_id":1682782,"reputation":7143,"user_id":2096986,"accept_rate":37,"display_name":"Felipe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695636489,"creation_date":1695636489,"answer_id":77171725,"question_id":32654929,"body_markdown":"you can use `takeWhile` lambda function.\r\n&gt; Returns, if this stream is ordered, a stream consisting of the longest prefix of elements taken from this stream that match the given predicate. Otherwise returns, if this stream is unordered, a stream consisting of a subset of elements taken from this stream that match the given predicate.\r\n\r\n```\r\npublic class TestFilterLoop {\r\n    public static void main(String[] args) {\r\n        ArrayList&lt;String&gt; stringList = new ArrayList&lt;&gt;();\r\n        stringList.add(&quot;a&quot;);\r\n        stringList.add(&quot;b&quot;);\r\n        stringList.add(&quot;c&quot;);\r\n        stringList.add(&quot;d&quot;);\r\n\r\n        stringList.stream()\r\n                .takeWhile(str -&gt; !str.equals(&quot;c&quot;))\r\n                .forEach(System.out::println);\r\n    }\r\n}\r\n```\r\nprints only until the string is not `c`. So it will return and not continue the loop. Output:\r\n```\r\na\r\nb\r\n```","title":"Move to next item using Java 8 foreach loop in stream","body":"<p>you can use <code>takeWhile</code> lambda function.</p>\n<blockquote>\n<p>Returns, if this stream is ordered, a stream consisting of the longest prefix of elements taken from this stream that match the given predicate. Otherwise returns, if this stream is unordered, a stream consisting of a subset of elements taken from this stream that match the given predicate.</p>\n</blockquote>\n<pre><code>public class TestFilterLoop {\n    public static void main(String[] args) {\n        ArrayList&lt;String&gt; stringList = new ArrayList&lt;&gt;();\n        stringList.add(&quot;a&quot;);\n        stringList.add(&quot;b&quot;);\n        stringList.add(&quot;c&quot;);\n        stringList.add(&quot;d&quot;);\n\n        stringList.stream()\n                .takeWhile(str -&gt; !str.equals(&quot;c&quot;))\n                .forEach(System.out::println);\n    }\n}\n</code></pre>\n<p>prints only until the string is not <code>c</code>. So it will return and not continue the loop. Output:</p>\n<pre><code>a\nb\n</code></pre>\n"}],"owner":{"account_id":1463176,"reputation":4443,"user_id":1376885,"accept_rate":34,"display_name":"Viktor M."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173927,"favorite_count":0,"down_vote_count":2,"up_vote_count":217,"accepted_answer_id":32655038,"answer_count":5,"score":215,"last_activity_date":1695636489,"creation_date":1442587804,"question_id":32654929,"body_markdown":"I have a problem with the stream of Java 8 foreach attempting to move on next item in loop. I cannot set the command like `continue;`, only `return;` works but you will exit from the loop in this case. I need to move on next item in loop. How can I do that?\r\n\r\nExample(not working):\r\n\r\n    try(Stream&lt;String&gt; lines = Files.lines(path, StandardCharsets.ISO_8859_1)){\r\n                filteredLines = lines.filter(...).foreach(line -&gt; {\r\n               ...\r\n               if(...)\r\n                  continue; // this command doesn&#39;t working here\r\n        });\r\n    }\r\n\r\nExample(working):\r\n   \r\n\r\n    try(Stream&lt;String&gt; lines = Files.lines(path, StandardCharsets.ISO_8859_1)){\r\n        filteredLines = lines.filter(...).collect(Collectors.toList());\r\n    }\r\n    \r\n    for(String filteredLine : filteredLines){\r\n       ...\r\n       if(...)\r\n          continue; // it&#39;s working!\r\n    }\r\n\r\n","title":"Move to next item using Java 8 foreach loop in stream","body":"<p>I have a problem with the stream of Java 8 foreach attempting to move on next item in loop. I cannot set the command like <code>continue;</code>, only <code>return;</code> works but you will exit from the loop in this case. I need to move on next item in loop. How can I do that?</p>\n\n<p>Example(not working):</p>\n\n<pre><code>try(Stream&lt;String&gt; lines = Files.lines(path, StandardCharsets.ISO_8859_1)){\n            filteredLines = lines.filter(...).foreach(line -&gt; {\n           ...\n           if(...)\n              continue; // this command doesn't working here\n    });\n}\n</code></pre>\n\n<p>Example(working):</p>\n\n<pre><code>try(Stream&lt;String&gt; lines = Files.lines(path, StandardCharsets.ISO_8859_1)){\n    filteredLines = lines.filter(...).collect(Collectors.toList());\n}\n\nfor(String filteredLine : filteredLines){\n   ...\n   if(...)\n      continue; // it's working!\n}\n</code></pre>\n"},{"tags":["python","java","excel","automation","power-automate"],"comments":[{"owner":{"account_id":963516,"reputation":10188,"user_id":987358,"accept_rate":40,"display_name":"Michael Butscher"},"score":0,"creation_date":1695634432,"post_id":77171328,"comment_id":136045740,"body_markdown":"Format the code properly.","body":"Format the code properly."},{"owner":{"account_id":18740842,"reputation":3833,"user_id":13664137,"display_name":"moken"},"score":0,"creation_date":1695714760,"post_id":77171328,"comment_id":136057785,"body_markdown":"You can use msoffcrypto  or even just Xlwings instead of win32com","body":"You can use msoffcrypto  or even just Xlwings instead of win32com"},{"owner":{"account_id":24526462,"reputation":1,"user_id":18438858,"display_name":"WildJester"},"score":0,"creation_date":1695805136,"post_id":77171328,"comment_id":136071964,"body_markdown":"Have you tried this and do you have a working script for operation?","body":"Have you tried this and do you have a working script for operation?"},{"owner":{"account_id":24526462,"reputation":1,"user_id":18438858,"display_name":"WildJester"},"score":0,"creation_date":1695821867,"post_id":77171328,"comment_id":136075395,"body_markdown":"Managed to get it this working \n\nimport msoffcrypto\nimport io\nimport pandas as pd\n\ndecrypted = io.BytesIO()\n\nwith open(r&quot;C:\\DIRECTORY\\NAME\\AND\\THEN\\FILE\\NAME.xlsx&quot;, &quot;rb&quot;) as f:\n    file = msoffcrypto.OfficeFile(f)\n    file.load_key(password=&quot;Password&quot;)  # Use password\n    file.decrypt(decrypted)\n\ndf = pd.read_excel(decrypted)\nprint(df)","body":"Managed to get it this working   import msoffcrypto import io import pandas as pd  decrypted = io.BytesIO()  with open(r&quot;C:\\DIRECTORY\\NAME\\AND\\THEN\\FILE\\NAME.xlsx&quot;, &quot;rb&quot;) as f:     file = msoffcrypto.OfficeFile(f)     file.load_key(password=&quot;Password&quot;)  # Use password     file.decrypt(decrypted)  df = pd.read_excel(decrypted) print(df)"}],"owner":{"account_id":24526462,"reputation":1,"user_id":18438858,"display_name":"WildJester"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695636205,"creation_date":1695633169,"question_id":77171328,"body_markdown":"Essentially I receive a bunch of files every so often, the files are excel documents that are password protected ( the password is the same for all and static). I want the script to iterate through each file within the directory and remove the password protection feature you apply locally within Excel settings.  \r\n\r\nI have tried using the following python script but get consistent errors \r\nI have also tried looking into using power automate though it does not have the functionality required.\r\n\r\n    enter code here import os import win32com.client as win32\r\n     input_directory = (r&#39;C:direcotry\\path\\etc&#39;) \r\n    output_directory = (r&#39;C:\\Users\\Downloads&#39;) \r\n    password = &#39;password&#39; \r\n    try: excel = win32.gencache.EnsureDispatch(&#39;Excel.Application&#39;)\r\n    excel.DisplayAlerts = False  \r\n    \r\n    for filename in os.listdir(input_directory):\r\n        if filename.endswith(&quot;.xlsx&quot;):\r\n            input_file_path = os.path.join(input_directory, filename)\r\n            output_file_path = os.path.join(output_directory, filename)\r\n            \r\n            workbook = excel.Workbooks.Open(input_file_path, False, True, None, password)\r\n            \r\n            workbook.SaveAs(output_file_path, None, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, 0, None, False)\r\n            workbook.Close(False)\r\n            \r\n    excel.Quit()\r\n    except Exception as e: print(f&quot;An error occurred: {str(e)}&quot;) \r\n","title":"Automate Password Removal in directory with password in excel with script","body":"<p>Essentially I receive a bunch of files every so often, the files are excel documents that are password protected ( the password is the same for all and static). I want the script to iterate through each file within the directory and remove the password protection feature you apply locally within Excel settings.</p>\n<p>I have tried using the following python script but get consistent errors\nI have also tried looking into using power automate though it does not have the functionality required.</p>\n<pre><code>enter code here import os import win32com.client as win32\n input_directory = (r'C:direcotry\\path\\etc') \noutput_directory = (r'C:\\Users\\Downloads') \npassword = 'password' \ntry: excel = win32.gencache.EnsureDispatch('Excel.Application')\nexcel.DisplayAlerts = False  \n\nfor filename in os.listdir(input_directory):\n    if filename.endswith(&quot;.xlsx&quot;):\n        input_file_path = os.path.join(input_directory, filename)\n        output_file_path = os.path.join(output_directory, filename)\n        \n        workbook = excel.Workbooks.Open(input_file_path, False, True, None, password)\n        \n        workbook.SaveAs(output_file_path, None, '', '', '', '', 0, None, False)\n        workbook.Close(False)\n        \nexcel.Quit()\nexcept Exception as e: print(f&quot;An error occurred: {str(e)}&quot;) \n</code></pre>\n"},{"tags":["java","rest","rest-assured"],"comments":[{"owner":{"account_id":4565343,"reputation":12775,"user_id":3710490,"accept_rate":64,"display_name":"Valijon"},"score":0,"creation_date":1566939718,"post_id":57682105,"comment_id":101810855,"body_markdown":"workaround: Log rotation. Increase log level. Create some class for log (allow logging only this class) and disable rest of them.","body":"workaround: Log rotation. Increase log level. Create some class for log (allow logging only this class) and disable rest of them."}],"answers":[{"tags":[],"owner":{"account_id":6872174,"reputation":1350,"user_id":6168167,"display_name":"bhusak"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1567182418,"creation_date":1566941085,"answer_id":57682455,"question_id":57682105,"body_markdown":"You can create your own filter by implementing `io.restassured.filter.Filter` interface:\r\n\r\n      public class FailedRequestFilter implements Filter {\r\n\r\n        private static final Logger logger = Logger.getLogger(FailedRequestFilter.class.getName());\r\n    \r\n        @Override\r\n        public Response filter(FilterableRequestSpecification requestSpec, FilterableResponseSpecification responseSpec, FilterContext ctx) {\r\n          Response response = ctx.next(requestSpec, responseSpec);\r\n          if (response.statusCode() &gt;= 400) {\r\n            logger.log(Level.INFO, requestSpec.getMethod() + &quot; &quot; + requestSpec.getURI() + &quot; =&gt; &quot; +\r\n                response.getStatusCode() + &quot; &quot; + response.getStatusLine());\r\n          }\r\n          return response;\r\n        }\r\n      }\r\nAnd then use it in your requests:\r\n\r\n    RestAssured.given()\r\n        .filter(new FailedRequestFilter())\r\n        .when()\r\n        .get(&quot;http://www.example.com&quot;);\r\nUsing Java 8 lambda expression can also work:\r\n\r\n    Logger logger = Logger.getLogger(&quot;SomeLoggerName&quot;);\r\n    RestAssured.given()\r\n        .filter(\r\n            (request, response, ctx) -&gt; {\r\n              Response resp = ctx.next(request, response);\r\n              if (resp.statusCode() &gt;= 400) {\r\n                logger.log(Level.INFO, request.getMethod() + &quot; &quot; + request.getURI() + &quot; =&gt; &quot;\r\n                    + response.getStatusCode() + &quot; &quot; + response.getStatusLine());\r\n              }\r\n              return resp;\r\n            })\r\n        .when()\r\n        .get(&quot;http://wwww.example.com&quot;);","title":"REST Assured - How to log Request only if response contains an HTTP error","body":"<p>You can create your own filter by implementing <code>io.restassured.filter.Filter</code> interface:</p>\n\n<pre><code>  public class FailedRequestFilter implements Filter {\n\n    private static final Logger logger = Logger.getLogger(FailedRequestFilter.class.getName());\n\n    @Override\n    public Response filter(FilterableRequestSpecification requestSpec, FilterableResponseSpecification responseSpec, FilterContext ctx) {\n      Response response = ctx.next(requestSpec, responseSpec);\n      if (response.statusCode() &gt;= 400) {\n        logger.log(Level.INFO, requestSpec.getMethod() + \" \" + requestSpec.getURI() + \" =&gt; \" +\n            response.getStatusCode() + \" \" + response.getStatusLine());\n      }\n      return response;\n    }\n  }\n</code></pre>\n\n<p>And then use it in your requests:</p>\n\n<pre><code>RestAssured.given()\n    .filter(new FailedRequestFilter())\n    .when()\n    .get(\"http://www.example.com\");\n</code></pre>\n\n<p>Using Java 8 lambda expression can also work:</p>\n\n<pre><code>Logger logger = Logger.getLogger(\"SomeLoggerName\");\nRestAssured.given()\n    .filter(\n        (request, response, ctx) -&gt; {\n          Response resp = ctx.next(request, response);\n          if (resp.statusCode() &gt;= 400) {\n            logger.log(Level.INFO, request.getMethod() + \" \" + request.getURI() + \" =&gt; \"\n                + response.getStatusCode() + \" \" + response.getStatusLine());\n          }\n          return resp;\n        })\n    .when()\n    .get(\"http://wwww.example.com\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24989810,"reputation":1,"user_id":18851149,"display_name":"Kevin Kraft"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678481225,"creation_date":1678481225,"answer_id":75700872,"question_id":57682105,"body_markdown":"I created an optional config parameter to enable failure logging for debugging failing tests:\r\n```\r\npublic static Response sendRequest(Method method, String url, RequestSpecification spec, Integer expectedStatus) {\r\n        try {\r\n            ValidatableResponse response = given().spec(spec).request(method, new URL(url)).then();\r\n            if (getConfig().restAssuredDebuggingEnabled()) {\r\n                response.log().all();\r\n            }\r\n            if (expectedStatus != null) {\r\n                response.statusCode(expectedStatus);\r\n            }\r\n            return response.extract().response();\r\n        }\r\n        catch (Exception ex) {\r\n            throw new RuntimeException(method + &quot; call to &quot; + url + &quot; failed&quot;, ex);\r\n        }\r\n    }\r\n```","title":"REST Assured - How to log Request only if response contains an HTTP error","body":"<p>I created an optional config parameter to enable failure logging for debugging failing tests:</p>\n<pre><code>public static Response sendRequest(Method method, String url, RequestSpecification spec, Integer expectedStatus) {\n        try {\n            ValidatableResponse response = given().spec(spec).request(method, new URL(url)).then();\n            if (getConfig().restAssuredDebuggingEnabled()) {\n                response.log().all();\n            }\n            if (expectedStatus != null) {\n                response.statusCode(expectedStatus);\n            }\n            return response.extract().response();\n        }\n        catch (Exception ex) {\n            throw new RuntimeException(method + &quot; call to &quot; + url + &quot; failed&quot;, ex);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10608508,"reputation":158,"user_id":7940542,"display_name":"Dzmitry Sankouski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695635808,"creation_date":1695635808,"answer_id":77171633,"question_id":57682105,"body_markdown":"You have `.log(LogDetail.ALL)` in your RequestSpecBuilder. This method adds `new RequestLoggingFilter` to your filter chain. It causes your request to be logged.\r\n\r\nSee `log` method [source code][1]\r\n\r\n\r\n  [1]: https://github.com/rest-assured/rest-assured/blob/718ad4b684656547a4561c1bbbbcfbec409efadf/rest-assured/src/main/java/io/restassured/builder/RequestSpecBuilder.java#L1173","title":"REST Assured - How to log Request only if response contains an HTTP error","body":"<p>You have <code>.log(LogDetail.ALL)</code> in your RequestSpecBuilder. This method adds <code>new RequestLoggingFilter</code> to your filter chain. It causes your request to be logged.</p>\n<p>See <code>log</code> method <a href=\"https://github.com/rest-assured/rest-assured/blob/718ad4b684656547a4561c1bbbbcfbec409efadf/rest-assured/src/main/java/io/restassured/builder/RequestSpecBuilder.java#L1173\" rel=\"nofollow noreferrer\">source code</a></p>\n"}],"owner":{"account_id":1126768,"reputation":3596,"user_id":1113873,"display_name":"el roso"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1695635808,"creation_date":1566939110,"question_id":57682105,"body_markdown":"I&#39;m using test assured to load a reasonable large set of test data into my application under test.\r\n\r\nI want to log the request and response details for ONLY the requests that generate an error response (HTTP 4xx or 5xx)\r\n\r\nI&#39;ve tried these snippets but end up with ALL requests logged and only the error responses logged. The problem is that my log files become really large and it&#39;s causing issues in Jenkins. I just want to see the errors and the request that caused them.\r\n\r\n        RequestSpecBuilder build = new RequestSpecBuilder();\r\n        build.addFilter(new ErrorLoggingFilter()).log(LogDetail.ALL);\r\n        requestSpec = build.build();\r\n\r\n        RequestSpecBuilder build = new RequestSpecBuilder();\r\n        build.log(LogDetail.ALL).addFilter(new ErrorLoggingFilter());\r\n        requestSpec = build.build();\r\n\r\n  \r\n\r\n","title":"REST Assured - How to log Request only if response contains an HTTP error","body":"<p>I'm using test assured to load a reasonable large set of test data into my application under test.</p>\n\n<p>I want to log the request and response details for ONLY the requests that generate an error response (HTTP 4xx or 5xx)</p>\n\n<p>I've tried these snippets but end up with ALL requests logged and only the error responses logged. The problem is that my log files become really large and it's causing issues in Jenkins. I just want to see the errors and the request that caused them.</p>\n\n<pre><code>    RequestSpecBuilder build = new RequestSpecBuilder();\n    build.addFilter(new ErrorLoggingFilter()).log(LogDetail.ALL);\n    requestSpec = build.build();\n\n    RequestSpecBuilder build = new RequestSpecBuilder();\n    build.log(LogDetail.ALL).addFilter(new ErrorLoggingFilter());\n    requestSpec = build.build();\n</code></pre>\n"},{"tags":["java","spring-boot","rest"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695635760,"post_id":77170988,"comment_id":136046003,"body_markdown":"And the error is?","body":"And the error is?"},{"owner":{"account_id":5912501,"reputation":3,"user_id":4652260,"display_name":"Mahadi Hasan"},"score":0,"creation_date":1695641441,"post_id":77170988,"comment_id":136047114,"body_markdown":"Hi @M.Deinum , this is the first time I am working on this type of coding. I cannot save image with other data.","body":"Hi @M.Deinum , this is the first time I am working on this type of coding. I cannot save image with other data."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695641603,"post_id":77170988,"comment_id":136047152,"body_markdown":"And the problem is? No data being saved? Only image data not saved, an error? Please describe the problem you have in more detail. Currently there is only code and you expect us to figure out what is happening from that. This is not how stackoverflow works.","body":"And the problem is? No data being saved? Only image data not saved, an error? Please describe the problem you have in more detail. Currently there is only code and you expect us to figure out what is happening from that. This is not how stackoverflow works."}],"answers":[{"tags":[],"owner":{"account_id":17377678,"reputation":20,"user_id":16888582,"display_name":"Yustas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695635698,"creation_date":1695635698,"answer_id":77171617,"question_id":77170988,"body_markdown":"You can create an entity class like this way:\r\n\r\n    @Component\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    @Entity\r\n    @Table(name = &quot;imageTemplates&quot;)\r\n    public class ImageTemplatesClientDocuments implements Serializable {\r\n        @Id\r\n        @Column(name = &quot;id&quot;)\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @Lob\r\n        @Basic\r\n        @Column(name = &quot;templateContract&quot;)\r\n        @ToString.Exclude\r\n        private byte[] templateContract;\r\n    \r\n        @Lob\r\n        @Basic\r\n        @Column(name = &quot;TemplateAgreement&quot;)\r\n        @ToString.Exclude\r\n        private byte[] templateAgreement;\r\n    \r\n        @Lob\r\n        @Basic\r\n        @Column(name = &quot;templateQuestionnaire&quot;)\r\n        @ToString.Exclude\r\n        private byte[] templateQuestionnaire;\r\n    \r\n        @Lob\r\n        @Basic\r\n        @Column(name = &quot;templateClientFoto&quot;)\r\n        @ToString.Exclude\r\n        private byte[] templateClientFoto;\r\n    }\r\n\r\nand your images will be saved in the database as &#39;longblob&#39; (for MySQL).\r\nSince you are using the Rest API this should work (it works for me), using @ModelAttribute is possible for Spring MVC (https://www.baeldung.com/spring-mvc-and-the-modelattribute-annotation)\r\n","title":"Springboot save registration form with image altogether","body":"<p>You can create an entity class like this way:</p>\n<pre><code>@Component\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@Entity\n@Table(name = &quot;imageTemplates&quot;)\npublic class ImageTemplatesClientDocuments implements Serializable {\n    @Id\n    @Column(name = &quot;id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Lob\n    @Basic\n    @Column(name = &quot;templateContract&quot;)\n    @ToString.Exclude\n    private byte[] templateContract;\n\n    @Lob\n    @Basic\n    @Column(name = &quot;TemplateAgreement&quot;)\n    @ToString.Exclude\n    private byte[] templateAgreement;\n\n    @Lob\n    @Basic\n    @Column(name = &quot;templateQuestionnaire&quot;)\n    @ToString.Exclude\n    private byte[] templateQuestionnaire;\n\n    @Lob\n    @Basic\n    @Column(name = &quot;templateClientFoto&quot;)\n    @ToString.Exclude\n    private byte[] templateClientFoto;\n}\n</code></pre>\n<p>and your images will be saved in the database as 'longblob' (for MySQL).\nSince you are using the Rest API this should work (it works for me), using @ModelAttribute is possible for Spring MVC (<a href=\"https://www.baeldung.com/spring-mvc-and-the-modelattribute-annotation\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-mvc-and-the-modelattribute-annotation</a>)</p>\n"}],"owner":{"account_id":5912501,"reputation":3,"user_id":4652260,"display_name":"Mahadi Hasan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695635698,"creation_date":1695630176,"question_id":77170988,"body_markdown":"I am struggling about  6 days to create a registration form using spring rest API that will save a patient&#39;s data with image. I tried every possible way and failed every time. All I need is your support.  I wanted to use @ModelAttribute, not RequestParam. Could anyone please help me? \r\n\r\nThis is the Entity class \r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\n@RequiredArgsConstructor\r\n@ToString\r\n@Table (name = &quot;patient_registration&quot;)\r\npublic class PatientRegistrationEntity {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate Integer id;\r\n\t\r\n\tprivate String patientName; \r\n\tprivate String salutation; \r\n\tprivate String age;\r\n\tprivate String patientPhone; \r\n\tprivate String patientAddress; \r\n\tprivate String gender;\r\n\tprivate String religion;\r\n\tprivate String dateOfBirth; \r\n\tprivate String marritalStatus; \r\n\tprivate String fatherName; \r\n\tprivate String motherName;\r\n\t\r\n//  private byte [] patientImage;\r\n\r\n\t@Lob\r\n\tprivate String patientImage;\r\n}\r\n```\r\nThis is repository interace\r\n```\r\npublic interface PatientRegistrationRepository extends JpaRepository&lt;PatientRegistrationEntity, Integer&gt; {}\r\n```\r\nThis is the service class\r\n```\r\n@Service\r\npublic class PatientRegistrationService {\r\n\t\r\n\t@Autowired\r\n\tprivate PatientRegistrationRepository repository;\r\n\t\r\n\tpublic List&lt;PatientRegistrationEntity&gt;getPatientList(){\r\n\t\treturn repository.findAll();\r\n\t}\r\n\t\r\n\tpublic PatientRegistrationEntity createPatient(PatientRegistrationEntity patient, MultipartFile image) throws IOException {\r\n\r\n        return patient;\r\n    }\r\n```\r\n\r\nThis is the controller class. \r\n```\r\n@RestController\r\n@RequestMapping(&quot;/patient/&quot;)\r\n@CrossOrigin(origins = &quot;http://localhost:4200&quot;, allowCredentials = &quot;true&quot;)\r\n\r\npublic class PatientRegistrationController {\r\n\t@Autowired\r\n\tPatientRegistrationService registrationService;\r\n\t\r\n\t@PostMapping(&quot;post&quot;)\r\n\t public void savePatient(@ModelAttribute PatientRegistrationEntity patient, @RequestParam(&quot;image&quot;) MultipartFile image) throws IOException {\r\n        registrationService.createPatient(patient, image);    \r\n    }\r\n```","title":"Springboot save registration form with image altogether","body":"<p>I am struggling about  6 days to create a registration form using spring rest API that will save a patient's data with image. I tried every possible way and failed every time. All I need is your support.  I wanted to use @ModelAttribute, not RequestParam. Could anyone please help me?</p>\n<p>This is the Entity class</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@RequiredArgsConstructor\n@ToString\n@Table (name = &quot;patient_registration&quot;)\npublic class PatientRegistrationEntity {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer id;\n    \n    private String patientName; \n    private String salutation; \n    private String age;\n    private String patientPhone; \n    private String patientAddress; \n    private String gender;\n    private String religion;\n    private String dateOfBirth; \n    private String marritalStatus; \n    private String fatherName; \n    private String motherName;\n    \n//  private byte [] patientImage;\n\n    @Lob\n    private String patientImage;\n}\n</code></pre>\n<p>This is repository interace</p>\n<pre><code>public interface PatientRegistrationRepository extends JpaRepository&lt;PatientRegistrationEntity, Integer&gt; {}\n</code></pre>\n<p>This is the service class</p>\n<pre><code>@Service\npublic class PatientRegistrationService {\n    \n    @Autowired\n    private PatientRegistrationRepository repository;\n    \n    public List&lt;PatientRegistrationEntity&gt;getPatientList(){\n        return repository.findAll();\n    }\n    \n    public PatientRegistrationEntity createPatient(PatientRegistrationEntity patient, MultipartFile image) throws IOException {\n\n        return patient;\n    }\n</code></pre>\n<p>This is the controller class.</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/patient/&quot;)\n@CrossOrigin(origins = &quot;http://localhost:4200&quot;, allowCredentials = &quot;true&quot;)\n\npublic class PatientRegistrationController {\n    @Autowired\n    PatientRegistrationService registrationService;\n    \n    @PostMapping(&quot;post&quot;)\n     public void savePatient(@ModelAttribute PatientRegistrationEntity patient, @RequestParam(&quot;image&quot;) MultipartFile image) throws IOException {\n        registrationService.createPatient(patient, image);    \n    }\n</code></pre>\n"},{"tags":["java","android","firebase","gradle","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1631419067,"post_id":69148219,"comment_id":122214524,"body_markdown":"Make sure you download the `google-services.json` **after** you created your database in the Firebase console, as otherwise it won&#39;t contain the correct URL. You can also try putting the URL of the database directly in the code: `DatabaseReference ref= FirebaseDatabase.getInstance(&quot;database URL here&quot;)`.","body":"Make sure you download the <code>google-services.json</code> <b>after</b> you created your database in the Firebase console, as otherwise it won&#39;t contain the correct URL. You can also try putting the URL of the database directly in the code: <code>DatabaseReference ref= FirebaseDatabase.getInstance(&quot;database URL here&quot;)</code>."},{"owner":{"account_id":21151801,"reputation":85,"user_id":16889846,"display_name":"Nikita K"},"score":0,"creation_date":1631419767,"post_id":69148219,"comment_id":122214586,"body_markdown":"@FrankvanPuffelen I have already followed this. But still not working. Can you please mention a proper link to follow connection steps with firebase android","body":"@FrankvanPuffelen I have already followed this. But still not working. Can you please mention a proper link to follow connection steps with firebase android"},{"owner":{"account_id":9081167,"reputation":765,"user_id":6760962,"display_name":"Muhib Pirani"},"score":0,"creation_date":1631420186,"post_id":69148219,"comment_id":122214626,"body_markdown":"Put a debug on this code block and check if it&#39;s executed","body":"Put a debug on this code block and check if it&#39;s executed"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1631437029,"post_id":69148219,"comment_id":122217327,"body_markdown":"What is the exact location of your database?","body":"What is the exact location of your database?"},{"owner":{"account_id":21151801,"reputation":85,"user_id":16889846,"display_name":"Nikita K"},"score":0,"creation_date":1631437162,"post_id":69148219,"comment_id":122217355,"body_markdown":"@AlexMamo It shows: Database location: United States (us-central1)","body":"@AlexMamo It shows: Database location: United States (us-central1)"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1631437283,"post_id":69148219,"comment_id":122217384,"body_markdown":"Is onSuccess or onFailure even triggered?","body":"Is onSuccess or onFailure even triggered?"},{"owner":{"account_id":21151801,"reputation":85,"user_id":16889846,"display_name":"Nikita K"},"score":0,"creation_date":1631437381,"post_id":69148219,"comment_id":122217405,"body_markdown":"@AlexMamo None of any method invoked from them.","body":"@AlexMamo None of any method invoked from them."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":3,"creation_date":1631438240,"post_id":69148219,"comment_id":122217559,"body_markdown":"Are you sure you have an internet connection on that device?","body":"Are you sure you have an internet connection on that device?"}],"answers":[{"tags":[],"owner":{"account_id":14682196,"reputation":464,"user_id":10603313,"display_name":"Sakhawat Hossain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631419933,"creation_date":1631419933,"answer_id":69148376,"question_id":69148219,"body_markdown":"**You can try with the following possible solutions:**\r\n1. Check service JSON file is placed under the app folder.\r\n2. Check-in the firebase console and your database reference is valid or not null.\r\n","title":"Data is not inserting into Firebase Realtime Database throw Android","body":"<p><strong>You can try with the following possible solutions:</strong></p>\n<ol>\n<li>Check service JSON file is placed under the app folder.</li>\n<li>Check-in the firebase console and your database reference is valid or not null.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":19912146,"reputation":460,"user_id":14589948,"display_name":"MoonLight"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631434880,"creation_date":1631434880,"answer_id":69149680,"question_id":69148219,"body_markdown":"Add setter methods in your class and then try again.","title":"Data is not inserting into Firebase Realtime Database throw Android","body":"<p>Add setter methods in your class and then try again.</p>\n"},{"tags":[],"owner":{"account_id":21151801,"reputation":85,"user_id":16889846,"display_name":"Nikita K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632898398,"creation_date":1631456784,"answer_id":69152303,"question_id":69148219,"body_markdown":"The problem was in Internet connection of the Emulator. Device was offline. Because I have used my Phone&#39;s hotspot connection for the emulator. When hotspot was turned off and emulator started then emulator always stays in a offline mode until we restart it.\r\n\r\nInformation log or warning, error messages are expected for this problem from Firebase or Android Studio.","title":"Data is not inserting into Firebase Realtime Database throw Android","body":"<p>The problem was in Internet connection of the Emulator. Device was offline. Because I have used my Phone's hotspot connection for the emulator. When hotspot was turned off and emulator started then emulator always stays in a offline mode until we restart it.</p>\n<p>Information log or warning, error messages are expected for this problem from Firebase or Android Studio.</p>\n"},{"tags":[],"owner":{"account_id":21537633,"reputation":31,"user_id":15875916,"display_name":"Yogesh Pathania"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632207611,"creation_date":1631992516,"answer_id":69237745,"question_id":69148219,"body_markdown":"I facing this issue from last 3 Days finally i found some solution \r\n\r\nFirst thing update your json file\r\n\r\nSecond check read, Write Rules is True\r\n\r\nThird Go to Project Seetting-&gt;Open Tab Data Usage-&gt; Now You will see Product Section pls make sure you unenforced the dataBase if you Bymistake enforced that option \r\nAfter this you will finally Read or Write the Data in DataBase\r\n\r\nThanks\r\n\r\nHappy Caoding\r\n\r\nHere Check Screen Short for unenforced data Like this\r\n  [1]: https://i.stack.imgur.com/s0pzI.png","title":"Data is not inserting into Firebase Realtime Database throw Android","body":"<p>I facing this issue from last 3 Days finally i found some solution</p>\n<p>First thing update your json file</p>\n<p>Second check read, Write Rules is True</p>\n<p>Third Go to Project Seetting-&gt;Open Tab Data Usage-&gt; Now You will see Product Section pls make sure you unenforced the dataBase if you Bymistake enforced that option\nAfter this you will finally Read or Write the Data in DataBase</p>\n<p>Thanks</p>\n<p>Happy Caoding</p>\n<p>Here Check Screen Short for unenforced data Like this\n[1]: <a href=\"https://i.stack.imgur.com/s0pzI.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/s0pzI.png</a></p>\n"},{"tags":[],"owner":{"account_id":10983414,"reputation":1,"user_id":8069880,"display_name":"Steve Vaius"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695635623,"creation_date":1695635623,"answer_id":77171605,"question_id":69148219,"body_markdown":"I had the same issue and now I found that problem was firebase data central setting in google-services.json file. Before I set my data center other than US_Central, I downloaded and put json file in app folder. This causes to not find database file because of different URL for Belgium. I hope this helps to others in case they have similar problems","title":"Data is not inserting into Firebase Realtime Database throw Android","body":"<p>I had the same issue and now I found that problem was firebase data central setting in google-services.json file. Before I set my data center other than US_Central, I downloaded and put json file in app folder. This causes to not find database file because of different URL for Belgium. I hope this helps to others in case they have similar problems</p>\n"}],"owner":{"account_id":21151801,"reputation":85,"user_id":16889846,"display_name":"Nikita K"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4152,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69152303,"answer_count":5,"score":2,"last_activity_date":1695635623,"creation_date":1631417286,"question_id":69148219,"body_markdown":"I have written simple Firebase Realtime Database code to insert data in it using android java code. Whenever i click on upload button then button is get clicked but firebase code is not  executed without showing any error message or warning about data insertion. I have tried to create many different new projects to test the same code but no work.\r\n\r\n**My code:** \r\n\r\nIn below code none of any method is get invoked from SuccessListener() or FailureListener() but button got clicked.\r\n\r\n\r\n    public void onClick(View v) {\r\n            if(v.getId()==uploadBtn.getId()){ \r\n    \r\n        DatabaseReference ref= FirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;);\r\n                    TestModel tm=new TestModel(&quot;Angela&quot;,&quot;angela@123&quot;);\r\n                    ref.child(&quot;Angela&quot;).setValue(tm).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                        @Override\r\n                        public void onSuccess(Void aVoid) {\r\n                            Log.d(&quot;app&quot;,&quot;data inserted&quot;);\r\n                        }\r\n                    }).addOnFailureListener(new OnFailureListener() {\r\n                        @Override\r\n                        public void onFailure(@NonNull Exception e) {\r\n                            Log.d(&quot;app&quot;,&quot;failed to inserted: &quot;+e.getMessage());\r\n                        }\r\n                    });\r\n    }\r\n\r\n\r\nNot getting any error message or warning from above code. And also there is no any change in the firebase database.\r\n\r\n**My TestModel class:**\r\n\r\n    public class TestModel {\r\n        public String name,passwd;\r\n    \r\n        public TestModel(String name, String passwd) {\r\n            this.name = name;\r\n            this.passwd = passwd;\r\n        }\r\n    }\r\n\r\n**Rules:** \r\n\r\n    &quot;rules&quot;: {\r\n    \t&quot;.read&quot;: true,\r\n    \t&quot;.write&quot;:true\r\n    }\r\n\r\n**Firebase Node Structure:**\r\n\r\n    first-app-default-rtdb:null\r\n\r\n**build.gradle (Project):**\r\n\r\n    buildscript {\r\n        \r\n        repositories {\r\n            google()\r\n            jcenter()\r\n            \r\n        }\r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:7.0.2&#39;\r\n            classpath &#39;com.google.gms:google-services:4.3.10&#39;\r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n            google()\r\n            jcenter()\r\n            \r\n        }\r\n    }\r\n    \r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\n**build.gradle (app):**\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 29\r\n        buildToolsVersion &quot;29.0.3&quot;\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.simpleapp&quot;\r\n            minSdkVersion 26\r\n            targetSdkVersion 29\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    \r\n    }\r\n    \r\n    dependencies {\r\n        implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    \r\n        implementation &#39;androidx.appcompat:appcompat:1.3.1&#39;\r\n        implementation &#39;com.google.firebase:firebase-database:20.0.1&#39;\r\n        testImplementation &#39;junit:junit:4.13&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    }\r\n\r\n\r\n**I have tried below but same issue:**\r\n\r\n- Upgraded studio to 2020.3\r\n- Added Getter and Setters\r\n- New project created for checking\r\n- Select,Update,Delete also tried to do\r\n- .Json file added manually\r\n- New google account created and connected\r\n- Test app on Real and Emulator device (Version 7.0 - 11)\r\n- Cleaned project several times. Removed and added firebase in gradle\r\n- Migrated to android jetpack\r\n- VPN and Normal connection tried\r\n- Gradle plugins upgraded to latest version.\r\n- Target device changed, MIN and Target version changed\r\n- Antivirus blocked. Firewall disabled.\r\n- Firebase rules changed.\r\n- Database URL path added \r\n\r\n\r\nPlease help me.","title":"Data is not inserting into Firebase Realtime Database throw Android","body":"<p>I have written simple Firebase Realtime Database code to insert data in it using android java code. Whenever i click on upload button then button is get clicked but firebase code is not  executed without showing any error message or warning about data insertion. I have tried to create many different new projects to test the same code but no work.</p>\n<p><strong>My code:</strong></p>\n<p>In below code none of any method is get invoked from SuccessListener() or FailureListener() but button got clicked.</p>\n<pre><code>public void onClick(View v) {\n        if(v.getId()==uploadBtn.getId()){ \n\n    DatabaseReference ref= FirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;);\n                TestModel tm=new TestModel(&quot;Angela&quot;,&quot;angela@123&quot;);\n                ref.child(&quot;Angela&quot;).setValue(tm).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                    @Override\n                    public void onSuccess(Void aVoid) {\n                        Log.d(&quot;app&quot;,&quot;data inserted&quot;);\n                    }\n                }).addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n                        Log.d(&quot;app&quot;,&quot;failed to inserted: &quot;+e.getMessage());\n                    }\n                });\n}\n</code></pre>\n<p>Not getting any error message or warning from above code. And also there is no any change in the firebase database.</p>\n<p><strong>My TestModel class:</strong></p>\n<pre><code>public class TestModel {\n    public String name,passwd;\n\n    public TestModel(String name, String passwd) {\n        this.name = name;\n        this.passwd = passwd;\n    }\n}\n</code></pre>\n<p><strong>Rules:</strong></p>\n<pre><code>&quot;rules&quot;: {\n    &quot;.read&quot;: true,\n    &quot;.write&quot;:true\n}\n</code></pre>\n<p><strong>Firebase Node Structure:</strong></p>\n<pre><code>first-app-default-rtdb:null\n</code></pre>\n<p><strong>build.gradle (Project):</strong></p>\n<pre><code>buildscript {\n    \n    repositories {\n        google()\n        jcenter()\n        \n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.0.2'\n        classpath 'com.google.gms:google-services:4.3.10'\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n        \n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p><strong>build.gradle (app):</strong></p>\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'com.google.gms.google-services'\n\nandroid {\n    compileSdkVersion 29\n    buildToolsVersion &quot;29.0.3&quot;\n\n    defaultConfig {\n        applicationId &quot;com.simpleapp&quot;\n        minSdkVersion 26\n        targetSdkVersion 29\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n\n    implementation 'androidx.appcompat:appcompat:1.3.1'\n    implementation 'com.google.firebase:firebase-database:20.0.1'\n    testImplementation 'junit:junit:4.13'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n}\n</code></pre>\n<p><strong>I have tried below but same issue:</strong></p>\n<ul>\n<li>Upgraded studio to 2020.3</li>\n<li>Added Getter and Setters</li>\n<li>New project created for checking</li>\n<li>Select,Update,Delete also tried to do</li>\n<li>.Json file added manually</li>\n<li>New google account created and connected</li>\n<li>Test app on Real and Emulator device (Version 7.0 - 11)</li>\n<li>Cleaned project several times. Removed and added firebase in gradle</li>\n<li>Migrated to android jetpack</li>\n<li>VPN and Normal connection tried</li>\n<li>Gradle plugins upgraded to latest version.</li>\n<li>Target device changed, MIN and Target version changed</li>\n<li>Antivirus blocked. Firewall disabled.</li>\n<li>Firebase rules changed.</li>\n<li>Database URL path added</li>\n</ul>\n<p>Please help me.</p>\n"},{"tags":["java","protocol-buffers","grpc","grpc-java","proto"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1612215461,"post_id":66000415,"comment_id":116692613,"body_markdown":"Can you explain why you would want this?","body":"Can you explain why you would want this?"},{"owner":{"account_id":18460371,"reputation":31,"user_id":13448037,"display_name":"Suneli"},"score":0,"creation_date":1612218195,"post_id":66000415,"comment_id":116693488,"body_markdown":"There is a custom workflow engine which currently supports http calls, where clients are able to configure url/headers/retry options. This needs to be extended to support grpc calls as well. So that users of workflow engine could specify grpc host/port, serviceName/operation and  it&#39;ll be invoked. The workflow engine itself has no knowledge about client .proto types.","body":"There is a custom workflow engine which currently supports http calls, where clients are able to configure url/headers/retry options. This needs to be extended to support grpc calls as well. So that users of workflow engine could specify grpc host/port, serviceName/operation and  it&#39;ll be invoked. The workflow engine itself has no knowledge about client .proto types."},{"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"score":1,"creation_date":1612219179,"post_id":66000415,"comment_id":116693745,"body_markdown":"You might be interested in https://github.com/grpc/grpc-java/compare/v1.6.1...ejona86:grpc-proxy which just treats messages a opaque bytes. Also, don&#39;t discount &quot;How to create GRPC client directly from protobuf without compiling it into java code&quot; as server reflection is basically just one possible way to get &quot;descriptors&quot; (the .proto file encoded in binary proto). Generated code also has them; you basically just have one fewer steps if you have the generated code already available.","body":"You might be interested in <a href=\"https://github.com/grpc/grpc-java/compare/v1.6.1...ejona86:grpc-proxy\" rel=\"nofollow noreferrer\">github.com/grpc/grpc-java/compare/v1.6.1...ejona86:grpc-prox&zwnj;&#8203;y</a> which just treats messages a opaque bytes. Also, don&#39;t discount &quot;How to create GRPC client directly from protobuf without compiling it into java code&quot; as server reflection is basically just one possible way to get &quot;descriptors&quot; (the .proto file encoded in binary proto). Generated code also has them; you basically just have one fewer steps if you have the generated code already available."},{"owner":{"account_id":18460371,"reputation":31,"user_id":13448037,"display_name":"Suneli"},"score":0,"creation_date":1612222930,"post_id":66000415,"comment_id":116694739,"body_markdown":"Thank you, Eric! Just was hoping that it&#39;s quite common usecase and there&#39;s already some plugable out-of-the-box solution :)","body":"Thank you, Eric! Just was hoping that it&#39;s quite common usecase and there&#39;s already some plugable out-of-the-box solution :)"}],"answers":[{"tags":[],"owner":{"account_id":7569765,"reputation":123,"user_id":5744081,"display_name":"ptomaszek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695634786,"creation_date":1695634786,"answer_id":77171511,"question_id":66000415,"body_markdown":"`camel-grpc` does it. \r\n\r\nIt&#39;s a generic Client/Server wrapper which relies on generated gRPC classes. See https://camel.apache.org/components/4.0.x/grpc-component.html and especially `service` path parameter and `method` query parameter.\r\n\r\nThen check out source code:\r\n - [GrpcUtils][1] \r\n - and its use in [GrpcProducer][2]\r\n\r\n\r\n  [1]: https://github.com/apache/camel/blob/main/components/camel-grpc/src/main/java/org/apache/camel/component/grpc/GrpcUtils.java\r\n  [2]:https://github.com/apache/camel/blob/main/components/camel-grpc/src/main/java/org/apache/camel/component/grpc/GrpcProducer.java","title":"Generic gRPC Java Client - existing implementation","body":"<p><code>camel-grpc</code> does it.</p>\n<p>It's a generic Client/Server wrapper which relies on generated gRPC classes. See <a href=\"https://camel.apache.org/components/4.0.x/grpc-component.html\" rel=\"nofollow noreferrer\">https://camel.apache.org/components/4.0.x/grpc-component.html</a> and especially <code>service</code> path parameter and <code>method</code> query parameter.</p>\n<p>Then check out source code:</p>\n<ul>\n<li><a href=\"https://github.com/apache/camel/blob/main/components/camel-grpc/src/main/java/org/apache/camel/component/grpc/GrpcUtils.java\" rel=\"nofollow noreferrer\">GrpcUtils</a></li>\n<li>and its use in <a href=\"https://github.com/apache/camel/blob/main/components/camel-grpc/src/main/java/org/apache/camel/component/grpc/GrpcProducer.java\" rel=\"nofollow noreferrer\">GrpcProducer</a></li>\n</ul>\n"}],"owner":{"account_id":18460371,"reputation":31,"user_id":13448037,"display_name":"Suneli"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1216,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1695634786,"creation_date":1612214988,"question_id":66000415,"body_markdown":"I&#39;m searching for a way to implement generic gRPC client in java which would allow to execute calls providing *.proto* definition (or at least relying on generated grpc classes), service and method names as parameters.\r\n\r\nProbably you could advice if there are any existing libs/frameworks containing implemented solution of such client in java?\r\n\r\nI was able to find only this one in Apache Camel: &lt;https://github.com/apache/camel/blob/master/components/camel-grpc/src/main/java/org/apache/camel/component/grpc/GrpcProducer.java&gt;. It relies on generated grpc classes and uses utility methods to find necessary stub implementation using service name + method provided &lt;https://github.com/apache/camel/blob/master/components/camel-grpc/src/main/java/org/apache/camel/component/grpc/GrpcUtils.java&gt;.\r\n\r\nand also this post, &lt;https://stackoverflow.com/questions/61133529/how-to-create-grpc-client-directly-from-protobuf-without-compiling-it-into-java&gt;, but this implementation uses ServerReflectionGrpc which is not what I&#39;m looking for.\r\n\r\nDo you know any other existing generic java gRPC Client implementations? Or probably a decent way to implement this? Thanks a lot!\r\n\r\n \r\n\r\n\r\n\r\n\r\n","title":"Generic gRPC Java Client - existing implementation","body":"<p>I'm searching for a way to implement generic gRPC client in java which would allow to execute calls providing <em>.proto</em> definition (or at least relying on generated grpc classes), service and method names as parameters.</p>\n<p>Probably you could advice if there are any existing libs/frameworks containing implemented solution of such client in java?</p>\n<p>I was able to find only this one in Apache Camel: <a href=\"https://github.com/apache/camel/blob/master/components/camel-grpc/src/main/java/org/apache/camel/component/grpc/GrpcProducer.java\" rel=\"nofollow noreferrer\">https://github.com/apache/camel/blob/master/components/camel-grpc/src/main/java/org/apache/camel/component/grpc/GrpcProducer.java</a>. It relies on generated grpc classes and uses utility methods to find necessary stub implementation using service name + method provided <a href=\"https://github.com/apache/camel/blob/master/components/camel-grpc/src/main/java/org/apache/camel/component/grpc/GrpcUtils.java\" rel=\"nofollow noreferrer\">https://github.com/apache/camel/blob/master/components/camel-grpc/src/main/java/org/apache/camel/component/grpc/GrpcUtils.java</a>.</p>\n<p>and also this post, <a href=\"https://stackoverflow.com/questions/61133529/how-to-create-grpc-client-directly-from-protobuf-without-compiling-it-into-java\">How to create GRPC client directly from protobuf without compiling it into java code</a>, but this implementation uses ServerReflectionGrpc which is not what I'm looking for.</p>\n<p>Do you know any other existing generic java gRPC Client implementations? Or probably a decent way to implement this? Thanks a lot!</p>\n"},{"tags":["java","rest","okhttp"],"comments":[{"owner":{"account_id":326480,"reputation":368,"user_id":5047819,"display_name":"Anders Lindgren"},"score":0,"creation_date":1692531674,"post_id":76937370,"comment_id":135633439,"body_markdown":"have you checked https://stackoverflow.com/questions/60224181/how-to-add-ssl-certificates-to-okhttp-mutual-tls-connection ?","body":"have you checked <a href=\"https://stackoverflow.com/questions/60224181/how-to-add-ssl-certificates-to-okhttp-mutual-tls-connection\" title=\"how to add ssl certificates to okhttp mutual tls connection\">stackoverflow.com/questions/60224181/&hellip;</a> ?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1695599505,"post_id":76937370,"comment_id":136041765,"body_markdown":"Make up your mind. Are you trying to (a) complete a 2-way TLS handshake or (b) sign the REST request? They aren&#39;t the same thing. Please clarify.","body":"Make up your mind. Are you trying to (a) complete a 2-way TLS handshake or (b) sign the REST request? They aren&#39;t the same thing. Please clarify."}],"answers":[{"tags":[],"owner":{"account_id":15229450,"reputation":41,"user_id":10988973,"display_name":"Karol Jan Kosiński"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695597222,"creation_date":1695597222,"answer_id":77169256,"question_id":76937370,"body_markdown":"Using:\r\n\r\n      private String submitPostRequest(String url, Map&lt;String, String&gt; headers, String body) throws Exception {\r\n\r\n        OkHttpClient client = createOkHttpClient(pfxCert, pfxCertPass);\r\n        RequestBody requestBody = RequestBody.create(okhttp3.MediaType.parse(&quot;application/json; charset=utf-8&quot;), body);\r\n        Request.Builder builder = new Request.Builder()\r\n                .url(url)\r\n                .post(requestBody);\r\n        for (Map.Entry&lt;String, String&gt; header : headers.entrySet()) {\r\n            builder.addHeader(header.getKey(), header.getValue());\r\n        }\r\n        Request request = builder.build();\r\n\r\n        try (Response response = client.newCall(request).execute()) {\r\n            String responseContent = response.body().string();\r\n            System.out.println(response.code());\r\n            System.out.println(&quot;Server response: &quot; + responseContent);\r\n\r\n            return responseContent;\r\n        }\r\n    }\r\n\r\nMethod:\r\n\r\n    private static OkHttpClient createOkHttpClient(String pfxFilePath, String pfxPassword) throws Exception {\r\n        KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n        try (FileInputStream pfxInputStream = new FileInputStream(pfxFilePath)) {\r\n            keyStore.load(pfxInputStream, pfxPassword.toCharArray());\r\n        }\r\n\r\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n        KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(&quot;SunX509&quot;);\r\n        keyManagerFactory.init(keyStore, pfxPassword.toCharArray());\r\n        TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n        trustManagerFactory.init((KeyStore) null);\r\n        sslContext.init(keyManagerFactory.getKeyManagers(), trustManagerFactory.getTrustManagers(), null);\r\n\r\n        SSLSocketFactory sslSocketFactory = sslContext.getSocketFactory();\r\n        OkHttpClient.Builder builder = new OkHttpClient.Builder()\r\n                .sslSocketFactory(sslSocketFactory, (X509TrustManager) trustManagerFactory.getTrustManagers()[0]);\r\n\r\n        return builder.build();\r\n    }","title":"Java okHttp 2-way handshake SSL","body":"<p>Using:</p>\n<pre><code>  private String submitPostRequest(String url, Map&lt;String, String&gt; headers, String body) throws Exception {\n\n    OkHttpClient client = createOkHttpClient(pfxCert, pfxCertPass);\n    RequestBody requestBody = RequestBody.create(okhttp3.MediaType.parse(&quot;application/json; charset=utf-8&quot;), body);\n    Request.Builder builder = new Request.Builder()\n            .url(url)\n            .post(requestBody);\n    for (Map.Entry&lt;String, String&gt; header : headers.entrySet()) {\n        builder.addHeader(header.getKey(), header.getValue());\n    }\n    Request request = builder.build();\n\n    try (Response response = client.newCall(request).execute()) {\n        String responseContent = response.body().string();\n        System.out.println(response.code());\n        System.out.println(&quot;Server response: &quot; + responseContent);\n\n        return responseContent;\n    }\n}\n</code></pre>\n<p>Method:</p>\n<pre><code>private static OkHttpClient createOkHttpClient(String pfxFilePath, String pfxPassword) throws Exception {\n    KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\n    try (FileInputStream pfxInputStream = new FileInputStream(pfxFilePath)) {\n        keyStore.load(pfxInputStream, pfxPassword.toCharArray());\n    }\n\n    SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n    KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(&quot;SunX509&quot;);\n    keyManagerFactory.init(keyStore, pfxPassword.toCharArray());\n    TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n    trustManagerFactory.init((KeyStore) null);\n    sslContext.init(keyManagerFactory.getKeyManagers(), trustManagerFactory.getTrustManagers(), null);\n\n    SSLSocketFactory sslSocketFactory = sslContext.getSocketFactory();\n    OkHttpClient.Builder builder = new OkHttpClient.Builder()\n            .sslSocketFactory(sslSocketFactory, (X509TrustManager) trustManagerFactory.getTrustManagers()[0]);\n\n    return builder.build();\n}\n</code></pre>\n"}],"owner":{"account_id":15229450,"reputation":41,"user_id":10988973,"display_name":"Karol Jan Kosiński"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1695634758,"accepted_answer_id":77169256,"answer_count":1,"score":-1,"last_activity_date":1695634743,"creation_date":1692486800,"question_id":76937370,"body_markdown":"How can I put my certificate to sign REST API request, for 2-way handshake?\r\n\r\nMy code:\r\n\r\n```\r\nHttpUrl httpUrl = HttpUrl.parse(url);\r\nHttpUrl.Builder httpUrlBuilder = httpUrl.newBuilder();\r\nRequest.Builder builder = new Request.Builder()\r\n        .url(httpUrlBuilder.build())\r\n        .post(okhttp3.RequestBody.create(okhttp3.MediaType.parse(&quot;application/json; charset=utf-8&quot;), body));\r\nfor (Map.Entry&lt;String, String&gt; header : headers.entrySet()) {\r\n    builder.addHeader(header.getKey(), header.getValue());\r\n}\r\nRequest request = builder.build();\r\nOkHttpClient httpClient = new OkHttpClient.Builder().sslSocketFactory(SSLContext.getDefault().getSocketFactory()).build();\r\nResponse response = httpClient.newCall(request).execute();\r\nString res =  response.body().string();\r\nSystem.out.print(&quot;Response: &quot; +res);\r\n```\r\n\r\nI&#39;m using Spring Boot and the certificate is loaded by:\r\n```ini\r\nserver.ssl.key-store=certFile.pfx\r\nserver.ssl.key-store-password=****\r\nserver.ssl.keyStoreType=PKCS12\r\nsecurity.require-ssl=true\r\n```\r\n\r\nThis code works correctly, but without certificate signing, it is useless for me.","title":"Java okHttp 2-way handshake SSL","body":"<p>How can I put my certificate to sign REST API request, for 2-way handshake?</p>\n<p>My code:</p>\n<pre><code>HttpUrl httpUrl = HttpUrl.parse(url);\nHttpUrl.Builder httpUrlBuilder = httpUrl.newBuilder();\nRequest.Builder builder = new Request.Builder()\n        .url(httpUrlBuilder.build())\n        .post(okhttp3.RequestBody.create(okhttp3.MediaType.parse(&quot;application/json; charset=utf-8&quot;), body));\nfor (Map.Entry&lt;String, String&gt; header : headers.entrySet()) {\n    builder.addHeader(header.getKey(), header.getValue());\n}\nRequest request = builder.build();\nOkHttpClient httpClient = new OkHttpClient.Builder().sslSocketFactory(SSLContext.getDefault().getSocketFactory()).build();\nResponse response = httpClient.newCall(request).execute();\nString res =  response.body().string();\nSystem.out.print(&quot;Response: &quot; +res);\n</code></pre>\n<p>I'm using Spring Boot and the certificate is loaded by:</p>\n<pre class=\"lang-ini prettyprint-override\"><code>server.ssl.key-store=certFile.pfx\nserver.ssl.key-store-password=****\nserver.ssl.keyStoreType=PKCS12\nsecurity.require-ssl=true\n</code></pre>\n<p>This code works correctly, but without certificate signing, it is useless for me.</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":2,"creation_date":1694502028,"post_id":77086682,"comment_id":135895247,"body_markdown":"This is a low/no effort question. Please edit your question to include what you&#39;ve tried so far.","body":"This is a low/no effort question. Please edit your question to include what you&#39;ve tried so far."},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":1,"creation_date":1694502297,"post_id":77086682,"comment_id":135895301,"body_markdown":"There is no reason to use the Stream API for that.","body":"There is no reason to use the Stream API for that."},{"owner":{"account_id":22519773,"reputation":51,"user_id":16713520,"display_name":"Janvi Kadu"},"score":0,"creation_date":1694502451,"post_id":77086682,"comment_id":135895324,"body_markdown":"I was asked to use stream api only, without stream api i know how to do but using stream api i dont","body":"I was asked to use stream api only, without stream api i know how to do but using stream api i dont"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1694502778,"post_id":77086682,"comment_id":135895385,"body_markdown":"the logic is the same as when you don&#39;t use streams. If you know how to do it without streams, you should be able to figure out how to do (or at least try) it with streams","body":"the logic is the same as when you don&#39;t use streams. If you know how to do it without streams, you should be able to figure out how to do (or at least try) it with streams"},{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":0,"creation_date":1694593899,"post_id":77086682,"comment_id":135910229,"body_markdown":"Convert both to sets, and then use a stream to filter elements of a set that are in the other?","body":"Convert both to sets, and then use a stream to filter elements of a set that are in the other?"}],"answers":[{"tags":[],"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1694761403,"creation_date":1694505018,"answer_id":77087034,"question_id":77086682,"body_markdown":" - Convert both arrays to a stream.\r\n   \r\n  - Use filter() to keep only the elements of arr1 that are also present in arr2.\r\n   \r\n  - Collect the results to a list.\r\n\r\n \r\n\r\n        import java.util.Arrays;\r\n        import java.util.List;\r\n        import java.util.stream.Collectors;\r\n        public class duplicate {\r\n        public static void main(String[] args) {\r\n        \tint[] arr1 = {1, 2, 3, 4};\r\n            int[] arr2 = {2, 3, 5, 6};\r\n        \r\n            List&lt;Integer&gt; duplicates = Arrays.stream(arr1)\r\n                    .boxed()\r\n                    .filter(i -&gt; Arrays.stream(arr2).anyMatch(j -&gt; j == i))\r\n                    .collect(Collectors.toList());\r\n        \r\n            System.out.println(duplicates);   \r\n        \r\n        }\r\n\r\n\r\n \r\n\r\n\r\nThe output \r\n\r\n[![enter image description here][1]][1]\r\n\r\nIn the above code:\r\n\r\n`Arrays.stream(arr1).boxed()` converts the int array arr1 to a stream of Integer objects.\r\n\r\nThe `filter()` method keeps only those numbers from arr1 that are also present in arr2.\r\nThe `collect()` method collects the result into a list.\r\n\r\n**Another way is:**\r\n\r\n    public static void main(String[] args) {\r\n\t\t int[] arr1 = {1, 2, 3, 4};\r\n\t\t int[] arr2 = {2, 3, 5, 6};\r\n\t\t    Set&lt;Integer&gt; set1 = IntStream.of(arr1).boxed().collect(Collectors.toSet());\r\n\t        Set&lt;Integer&gt; intersection = IntStream.of(arr2).boxed()\r\n\t                                          .filter(set1::contains)\r\n\t                                          .collect(Collectors.toSet());\r\n\r\n\t        System.out.println(&quot;Duplicated elements: &quot; + intersection);\r\n\t}\r\n\r\n1. **IntStream.of(arr1).boxed()**:\r\n    - `IntStream.of(arr1)`: This creates an `IntStream` (a stream of `int` values) from the `arr1` array.\r\n    - `.boxed()`: This converts the `IntStream` (stream of primitive `int`s) to a `Stream&lt;Integer&gt;` (stream of `Integer` objects).\r\n\r\n2. **collect(Collectors.toSet())**:\r\n    - The `collect` method is a terminal operation that transforms the elements of the stream into a different kind of result or a mutable reduction.\r\n    - `Collectors.toSet()` is a collector that accumulates input elements into a new `Set`. So, after `boxed()`, it collects the `Integer` objects into a `Set&lt;Integer&gt;`.\r\n\r\n3. **.filter(set1::contains)**:\r\n    - The `filter` method is an intermediate operation that allows you to filter elements from the stream based on a predicate.\r\n    - `set1::contains`: This is a method reference to the `contains` method of `set1`. It means each element of `IntStream.of(arr2).boxed()` will be passed to the `contains` method of `set1` to check if it&#39;s present in `set1`. If it&#39;s present, it means it&#39;s a common element between `arr1` and `arr2`.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pqGfT.png","title":"Find duplicates from 2 different integer array using stream api","body":"<ul>\n<li><p>Convert both arrays to a stream.</p>\n</li>\n<li><p>Use filter() to keep only the elements of arr1 that are also present in arr2.</p>\n</li>\n<li><p>Collect the results to a list.</p>\n<pre><code>import java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Collectors;\npublic class duplicate {\npublic static void main(String[] args) {\n    int[] arr1 = {1, 2, 3, 4};\n    int[] arr2 = {2, 3, 5, 6};\n\n    List&lt;Integer&gt; duplicates = Arrays.stream(arr1)\n            .boxed()\n            .filter(i -&gt; Arrays.stream(arr2).anyMatch(j -&gt; j == i))\n            .collect(Collectors.toList());\n\n    System.out.println(duplicates);   \n\n}\n</code></pre>\n</li>\n</ul>\n<p>The output</p>\n<p><a href=\"https://i.stack.imgur.com/pqGfT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pqGfT.png\" alt=\"enter image description here\" /></a></p>\n<p>In the above code:</p>\n<p><code>Arrays.stream(arr1).boxed()</code> converts the int array arr1 to a stream of Integer objects.</p>\n<p>The <code>filter()</code> method keeps only those numbers from arr1 that are also present in arr2.\nThe <code>collect()</code> method collects the result into a list.</p>\n<p><strong>Another way is:</strong></p>\n<pre><code>public static void main(String[] args) {\n     int[] arr1 = {1, 2, 3, 4};\n     int[] arr2 = {2, 3, 5, 6};\n        Set&lt;Integer&gt; set1 = IntStream.of(arr1).boxed().collect(Collectors.toSet());\n        Set&lt;Integer&gt; intersection = IntStream.of(arr2).boxed()\n                                          .filter(set1::contains)\n                                          .collect(Collectors.toSet());\n\n        System.out.println(&quot;Duplicated elements: &quot; + intersection);\n}\n</code></pre>\n<ol>\n<li><p><strong>IntStream.of(arr1).boxed()</strong>:</p>\n<ul>\n<li><code>IntStream.of(arr1)</code>: This creates an <code>IntStream</code> (a stream of <code>int</code> values) from the <code>arr1</code> array.</li>\n<li><code>.boxed()</code>: This converts the <code>IntStream</code> (stream of primitive <code>int</code>s) to a <code>Stream&lt;Integer&gt;</code> (stream of <code>Integer</code> objects).</li>\n</ul>\n</li>\n<li><p><strong>collect(Collectors.toSet())</strong>:</p>\n<ul>\n<li>The <code>collect</code> method is a terminal operation that transforms the elements of the stream into a different kind of result or a mutable reduction.</li>\n<li><code>Collectors.toSet()</code> is a collector that accumulates input elements into a new <code>Set</code>. So, after <code>boxed()</code>, it collects the <code>Integer</code> objects into a <code>Set&lt;Integer&gt;</code>.</li>\n</ul>\n</li>\n<li><p><strong>.filter(set1::contains)</strong>:</p>\n<ul>\n<li>The <code>filter</code> method is an intermediate operation that allows you to filter elements from the stream based on a predicate.</li>\n<li><code>set1::contains</code>: This is a method reference to the <code>contains</code> method of <code>set1</code>. It means each element of <code>IntStream.of(arr2).boxed()</code> will be passed to the <code>contains</code> method of <code>set1</code> to check if it's present in <code>set1</code>. If it's present, it means it's a common element between <code>arr1</code> and <code>arr2</code>.</li>\n</ul>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1694521583,"creation_date":1694520665,"answer_id":77088985,"question_id":77086682,"body_markdown":"For efficiency I suggest using set for caching. Below code is O(n + m) (where n and m are lengths of arr1 and arr2)\r\n\r\n        int arr1[] = {1, 2, 3, 4};\r\n        int arr2[] = {2, 3, 5, 6};\r\n\r\n        //convert arr2 to Set for later quick O(1) lookup\r\n        Set&lt;Integer&gt; set2 = Arrays\r\n                .stream(arr2) // Turn arr2 into IntStream\r\n                .boxed() // boxed() converts IntStream to Stream&lt;Integer&gt;\r\n                         //  this is needed because Set can only hold objects\r\n                .collect(Collectors.toSet()); // Collect all incoming Integer objects into a Set (HashSet&lt;Integer&gt;)\r\n        \r\n        //filter arr1 elements that exist in the set2 (arr2)\r\n        Set&lt;Integer&gt; duplicates = Arrays.stream(arr1) // Turn arr1 into IntStream \r\n                .boxed()    // boxed() converts IntStream to Stream&lt;Integer&gt;\r\n                            //  this is needed because set2::contains expects an Integer object\r\n                .filter(set2::contains) // Filter out all elements that are not in set2 (*)\r\n                .collect(Collectors.toSet()); // Collect all incoming Integer objects into a Set (HashSet&lt;Integer&gt;) for final results\r\n\r\n        System.out.println(duplicates);\r\n        \r\n(*) `set2::contains` is a method reference, it is equivalent to the lambda expression `(x) -&gt; set2.contains(x)`.","title":"Find duplicates from 2 different integer array using stream api","body":"<p>For efficiency I suggest using set for caching. Below code is O(n + m) (where n and m are lengths of arr1 and arr2)</p>\n<pre><code>    int arr1[] = {1, 2, 3, 4};\n    int arr2[] = {2, 3, 5, 6};\n\n    //convert arr2 to Set for later quick O(1) lookup\n    Set&lt;Integer&gt; set2 = Arrays\n            .stream(arr2) // Turn arr2 into IntStream\n            .boxed() // boxed() converts IntStream to Stream&lt;Integer&gt;\n                     //  this is needed because Set can only hold objects\n            .collect(Collectors.toSet()); // Collect all incoming Integer objects into a Set (HashSet&lt;Integer&gt;)\n    \n    //filter arr1 elements that exist in the set2 (arr2)\n    Set&lt;Integer&gt; duplicates = Arrays.stream(arr1) // Turn arr1 into IntStream \n            .boxed()    // boxed() converts IntStream to Stream&lt;Integer&gt;\n                        //  this is needed because set2::contains expects an Integer object\n            .filter(set2::contains) // Filter out all elements that are not in set2 (*)\n            .collect(Collectors.toSet()); // Collect all incoming Integer objects into a Set (HashSet&lt;Integer&gt;) for final results\n\n    System.out.println(duplicates);\n    \n</code></pre>\n<p>(*) <code>set2::contains</code> is a method reference, it is equivalent to the lambda expression <code>(x) -&gt; set2.contains(x)</code>.</p>\n"},{"tags":[],"owner":{"account_id":29422493,"reputation":1,"user_id":22543933,"display_name":"user22543933"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694520845,"creation_date":1694520718,"answer_id":77088992,"question_id":77086682,"body_markdown":"You can also use a set to filter like this:\r\n\r\n        int[] arr1 = {1,2,3,4};\r\n        int[] arr2 = {2,3,4,5,6};\r\n\r\n        Set&lt;Integer&gt;  uniqueItems = new HashSet&lt;&gt;();\r\n        List&lt;Integer&gt; dupplicates = Stream.concat(Arrays.stream(arr1).boxed(), Arrays.stream(arr2).boxed())\r\n              .filter(i -&gt; !uniqueItems.add(i))\r\n              .collect(Collectors.toList());\r\n\r\nif an element is already in a set the call to uniqueItems.add(i) will return false. ","title":"Find duplicates from 2 different integer array using stream api","body":"<p>You can also use a set to filter like this:</p>\n<pre><code>    int[] arr1 = {1,2,3,4};\n    int[] arr2 = {2,3,4,5,6};\n\n    Set&lt;Integer&gt;  uniqueItems = new HashSet&lt;&gt;();\n    List&lt;Integer&gt; dupplicates = Stream.concat(Arrays.stream(arr1).boxed(), Arrays.stream(arr2).boxed())\n          .filter(i -&gt; !uniqueItems.add(i))\n          .collect(Collectors.toList());\n</code></pre>\n<p>if an element is already in a set the call to uniqueItems.add(i) will return false.</p>\n"}],"owner":{"account_id":22519773,"reputation":51,"user_id":16713520,"display_name":"Janvi Kadu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":3,"up_vote_count":4,"answer_count":3,"score":1,"last_activity_date":1695634738,"creation_date":1694501609,"question_id":77086682,"body_markdown":"I have 2 different integer arrays:\r\n```\r\nint arr1[] = [1,2,3,4]\r\nint arr2[] = [2,3,5,6]\r\n```\r\nHow to find duplicates from the above 2 arrays using the Stream API of Java 8?\r\n\r\nIn Java 7 I have done;\r\n\r\n        public class FindDuplicates {\r\n        public static void main(String[] args) {\r\n            int arr1[] = {1, 2, 3, 4};\r\n            int arr2[] = {2, 3, 5, 6};\r\n    \r\n            // Using two loops to find duplicates\r\n            for (int i = 0; i &lt; arr1.length; i++) {\r\n                for (int j = 0; j &lt; arr2.length; j++) {\r\n                    if (arr1[i] == arr2[j]) {\r\n                        System.out.println(&quot;Duplicate: &quot; + arr1[i]);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Find duplicates from 2 different integer array using stream api","body":"<p>I have 2 different integer arrays:</p>\n<pre><code>int arr1[] = [1,2,3,4]\nint arr2[] = [2,3,5,6]\n</code></pre>\n<p>How to find duplicates from the above 2 arrays using the Stream API of Java 8?</p>\n<p>In Java 7 I have done;</p>\n<pre><code>    public class FindDuplicates {\n    public static void main(String[] args) {\n        int arr1[] = {1, 2, 3, 4};\n        int arr2[] = {2, 3, 5, 6};\n\n        // Using two loops to find duplicates\n        for (int i = 0; i &lt; arr1.length; i++) {\n            for (int j = 0; j &lt; arr2.length; j++) {\n                if (arr1[i] == arr2[j]) {\n                    System.out.println(&quot;Duplicate: &quot; + arr1[i]);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","string","hex","byte"],"comments":[{"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"score":2,"creation_date":1365786614,"post_id":15977137,"comment_id":22775063,"body_markdown":"A byte is not a character. What do you want the string to start and end as, and given what &quot;byte&quot; input?","body":"A byte is not a character. What do you want the string to start and end as, and given what &quot;byte&quot; input?"},{"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"score":2,"creation_date":1365786750,"post_id":15977137,"comment_id":22775129,"body_markdown":"0x10 is not a displayable character in any ASCII compatible encoding. Why would you want a Data Link Escape in your string?","body":"0x10 is not a displayable character in any ASCII compatible encoding. Why would you want a Data Link Escape in your string?"},{"owner":{"account_id":1254274,"reputation":10027,"user_id":1214089,"accept_rate":100,"display_name":"Fritz"},"score":0,"creation_date":1365786879,"post_id":15977137,"comment_id":22775195,"body_markdown":"We know the variables, we have a hard time comprehending the desired output. What do you want to get? `&quot;HELLO WORLD 0x10&quot;`?","body":"We know the variables, we have a hard time comprehending the desired output. What do you want to get? <code>&quot;HELLO WORLD 0x10&quot;</code>?"},{"owner":{"account_id":197685,"reputation":4628,"user_id":441907,"accept_rate":100,"display_name":"Nick Russler"},"score":1,"creation_date":1365786929,"post_id":15977137,"comment_id":22775215,"body_markdown":"It sounds as he wants to append the name of the byte variable to the string, in this case &quot;someByte&quot; ;)","body":"It sounds as he wants to append the name of the byte variable to the string, in this case &quot;someByte&quot; ;)"}],"answers":[{"tags":[],"owner":{"account_id":197685,"reputation":4628,"user_id":441907,"accept_rate":100,"display_name":"Nick Russler"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1365787187,"creation_date":1365786748,"answer_id":15977180,"question_id":15977137,"body_markdown":"If you want to have the String representation of the byte as ascii char then try this:\r\n\r\n    public static void main(String[] args) {\r\n    \tString a = &quot;bla&quot;;\r\n    \t\r\n    \tbyte x = 0x21; // Ascii code for &#39;!&#39;\r\n    \t\r\n    \ta += (char)x;\r\n    \t\r\n    \tSystem.out.println(a); // Will print out &#39;bla!&#39;\r\n    }\r\n\r\n\r\nIf you want to convert the byte value into it&#39;s hex representation as String then take a look at [Integer.toHexString][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/Integer.html#toHexString%28int%29\r\n","title":"How to append a byte to a string in Java?","body":"<p>If you want to have the String representation of the byte as ascii char then try this:</p>\n\n<pre><code>public static void main(String[] args) {\n    String a = \"bla\";\n\n    byte x = 0x21; // Ascii code for '!'\n\n    a += (char)x;\n\n    System.out.println(a); // Will print out 'bla!'\n}\n</code></pre>\n\n<p>If you want to convert the byte value into it's hex representation as String then take a look at <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Integer.html#toHexString%28int%29\" rel=\"nofollow\">Integer.toHexString</a></p>\n"},{"tags":[],"owner":{"account_id":1254274,"reputation":10027,"user_id":1214089,"accept_rate":100,"display_name":"Fritz"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1365787086,"creation_date":1365787086,"answer_id":15977262,"question_id":15977137,"body_markdown":"If you want to concatenate the actual value of a `byte` to a `String` use the `Byte` wrapper and its `toString()` method, like this:\r\n\r\n    String someString = &quot;STRING&quot;;\r\n    byte someByte = 0x10;\r\n    someString += Byte.toString(someByte);","title":"How to append a byte to a string in Java?","body":"<p>If you want to concatenate the actual value of a <code>byte</code> to a <code>String</code> use the <code>Byte</code> wrapper and its <code>toString()</code> method, like this:</p>\n\n<pre><code>String someString = \"STRING\";\nbyte someByte = 0x10;\nsomeString += Byte.toString(someByte);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":911998,"reputation":64385,"user_id":947357,"accept_rate":75,"display_name":"A.H."},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1365787283,"creation_date":1365787283,"answer_id":15977320,"question_id":15977137,"body_markdown":"If you just want to extend a String literal, then use this one:\r\n    \r\n    System.out.println(&quot;Hello World\\u0010&quot;);\r\n\r\notherwise:\r\n\r\n    String s1 = &quot;Hello World&quot;;\r\n    String s2 = s1 + &#39;\\u0010&#39;;\r\n\r\nAnd no - character are not bytes and vice versa. But here the approximation is close enough :-)","title":"How to append a byte to a string in Java?","body":"<p>If you just want to extend a String literal, then use this one:</p>\n\n<pre><code>System.out.println(\"Hello World\\u0010\");\n</code></pre>\n\n<p>otherwise:</p>\n\n<pre><code>String s1 = \"Hello World\";\nString s2 = s1 + '\\u0010';\n</code></pre>\n\n<p>And no - character are not bytes and vice versa. But here the approximation is close enough :-)</p>\n"},{"tags":[],"owner":{"account_id":29517307,"reputation":1,"user_id":22620980,"display_name":"bobo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695634695,"creation_date":1695634695,"answer_id":77171502,"question_id":15977137,"body_markdown":"I have restructured the [answer code provided by @Fritz][1] into a Java method that you can easily incorporate into your development:\r\n\r\n    public class Post15977262 {\r\n        public static String appendByteToString(String originalString, byte byteToAppend) {\r\n            originalString += Byte.toString(byteToAppend);\r\n            return originalString;\r\n        }\r\n    }\r\n\r\n\r\n[1]: https://stackoverflow.com/a/15977262\r\n","title":"How to append a byte to a string in Java?","body":"<p>I have restructured the <a href=\"https://stackoverflow.com/a/15977262\">answer code provided by @Fritz</a> into a Java method that you can easily incorporate into your development:</p>\n<pre><code>public class Post15977262 {\n    public static String appendByteToString(String originalString, byte byteToAppend) {\n        originalString += Byte.toString(byteToAppend);\n        return originalString;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1528641,"reputation":742,"user_id":1426436,"accept_rate":62,"display_name":"Justin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18250,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":15977262,"answer_count":4,"score":2,"last_activity_date":1695634695,"creation_date":1365786553,"question_id":15977137,"body_markdown":"I have this operation I need to perform where I need to append a byte such as 0x10 to some String in Java. I was wondering how I could go about doing this?\r\n\r\nFor example:\r\n\r\n    String someString = &quot;HELLO WORLD&quot;;\r\n    byte someByte = 0x10;\r\n\r\nIn this example, how would I go about appending someByte to someString?\r\n\r\nThe reason why I am asking this question is because the application I am developing is supposed to send commands to some server. The server is able to accept commands (base64 encoded), decode the command, and parse out these bytes that are not necessarily compatible with any sort of ASCII encoding standard for performing some special function.","title":"How to append a byte to a string in Java?","body":"<p>I have this operation I need to perform where I need to append a byte such as 0x10 to some String in Java. I was wondering how I could go about doing this?</p>\n\n<p>For example:</p>\n\n<pre><code>String someString = \"HELLO WORLD\";\nbyte someByte = 0x10;\n</code></pre>\n\n<p>In this example, how would I go about appending someByte to someString?</p>\n\n<p>The reason why I am asking this question is because the application I am developing is supposed to send commands to some server. The server is able to accept commands (base64 encoded), decode the command, and parse out these bytes that are not necessarily compatible with any sort of ASCII encoding standard for performing some special function.</p>\n"},{"tags":["java","android","usermanager"],"comments":[{"owner":{"account_id":176486,"reputation":23009,"user_id":407213,"accept_rate":74,"display_name":"Dorian"},"score":9,"creation_date":1352926397,"post_id":13375357,"comment_id":18284328,"body_markdown":"If can be used to avoid some Java warning, as an easter egg, and as a test to see who read the API. And it&#39;s a reference to an easter egg in Chrome.","body":"If can be used to avoid some Java warning, as an easter egg, and as a test to see who read the API. And it&#39;s a reference to an easter egg in Chrome."},{"owner":{"account_id":525721,"reputation":5308,"user_id":1115937,"accept_rate":82,"display_name":"John Isaiah Carmona"},"score":17,"creation_date":1352955522,"post_id":13375357,"comment_id":18292088,"body_markdown":"This might be related to when [Google use goats](http://googleblog.blogspot.com/2010/04/goats-are-baaaahk.html) [as a mower](http://googleblog.blogspot.com/2009/05/mowing-with-goats.html) in their [Mountain View Headquarters](https://maps.google.com/?q=Google+Inc.%4037.423156,-122.084917&amp;hl=en).","body":"This might be related to when <a href=\"http://googleblog.blogspot.com/2010/04/goats-are-baaaahk.html\" rel=\"nofollow noreferrer\">Google use goats</a> <a href=\"http://googleblog.blogspot.com/2009/05/mowing-with-goats.html\" rel=\"nofollow noreferrer\">as a mower</a> in their <a href=\"https://maps.google.com/?q=Google+Inc.%4037.423156,-122.084917&amp;hl=en\" rel=\"nofollow noreferrer\">Mountain View Headquarters</a>."},{"owner":{"account_id":1474322,"reputation":11871,"user_id":1385119,"accept_rate":84,"display_name":"none"},"score":5,"creation_date":1352974901,"post_id":13375357,"comment_id":18302467,"body_markdown":"_googlers_ seem to like goats for some reason, no wonder they made an easter egg out of it. there is also a serious (__!__) investment in goats: - as blogged in googleblog - [mowing with goats](http://googleblog.blogspot.com/2009/05/mowing-with-goats.html) - [goats are baaaahk](http://googleblog.blogspot.com/2010/04/goats-are-baaaahk.html)\n- and recorded in [youtube](http://www.youtube.com/watch?v=Jw_XI0WVZBg) after all they are native lawn movers, efficient as well..","body":"<i>googlers</i> seem to like goats for some reason, no wonder they made an easter egg out of it. there is also a serious (<b>!</b>) investment in goats: - as blogged in googleblog - <a href=\"http://googleblog.blogspot.com/2009/05/mowing-with-goats.html\" rel=\"nofollow noreferrer\">mowing with goats</a> - <a href=\"http://googleblog.blogspot.com/2010/04/goats-are-baaaahk.html\" rel=\"nofollow noreferrer\">goats are baaaahk</a> - and recorded in <a href=\"http://www.youtube.com/watch?v=Jw_XI0WVZBg\" rel=\"nofollow noreferrer\">youtube</a> after all they are native lawn movers, efficient as well.."},{"owner":{"account_id":152022,"reputation":4063,"user_id":366253,"accept_rate":57,"display_name":"Fernando Gallego"},"score":31,"creation_date":1364594996,"post_id":13375357,"comment_id":22483920,"body_markdown":"There are also constants for the gravity on the first death star http://developer.android.com/reference/android/hardware/SensorManager.html#GRAVITY_DEATH_STAR_I and on the island of the tv show Lost http://developer.android.com/reference/android/hardware/SensorManager.html#GRAVITY_THE_ISLAND which is of course, the numbers.","body":"There are also constants for the gravity on the first death star <a href=\"http://developer.android.com/reference/android/hardware/SensorManager.html#GRAVITY_DEATH_STAR_I\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/hardware/&hellip;</a> and on the island of the tv show Lost <a href=\"http://developer.android.com/reference/android/hardware/SensorManager.html#GRAVITY_THE_ISLAND\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/hardware/&hellip;</a> which is of course, the numbers."},{"owner":{"account_id":3589788,"reputation":1045,"user_id":2996119,"display_name":"Patrick"},"score":15,"creation_date":1461570591,"post_id":13375357,"comment_id":61240128,"body_markdown":"They even updated the documentation after Lollipop: [&quot;As of LOLLIPOP, this method can now automatically identify goats using advanced goat recognition technology.&quot;](http://developer.android.com/reference/android/os/UserManager.html#isUserAGoat())","body":"They even updated the documentation after Lollipop: <a href=\"http://developer.android.com/reference/android/os/UserManager.html#isUserAGoat()\" rel=\"nofollow noreferrer\">&quot;As of LOLLIPOP, this method can now automatically identify goats using advanced goat recognition technology.&quot;</a>"},{"owner":{"account_id":7455189,"reputation":158,"user_id":5668661,"display_name":"HelloWorld"},"score":3,"creation_date":1651767738,"post_id":13375357,"comment_id":127446984,"body_markdown":"&quot;As of Build.VERSION_CODES.R, this method always returns false in order to protect goat privacy.&quot;","body":"&quot;As of Build.VERSION_CODES.R, this method always returns false in order to protect goat privacy.&quot;"},{"owner":{"account_id":11083708,"reputation":558,"user_id":8138184,"display_name":"NSaran"},"score":0,"creation_date":1654190340,"post_id":13375357,"comment_id":128037824,"body_markdown":"Maybe to track how many times a user ended up in an unexpected/unhandled situation by calling this method.","body":"Maybe to track how many times a user ended up in an unexpected/unhandled situation by calling this method."},{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":0,"creation_date":1669542616,"post_id":13375357,"comment_id":131660831,"body_markdown":"This has become even funnier since &quot;goat&quot; started to be used as a short for &quot;Greatest of all time&quot;! :D","body":"This has become even funnier since &quot;goat&quot; started to be used as a short for &quot;Greatest of all time&quot;! :D"}],"answers":[{"tags":[],"owner":{"account_id":1748119,"reputation":22240,"user_id":1597833,"accept_rate":76,"display_name":"meh"},"down_vote_count":5,"up_vote_count":1997,"is_accepted":true,"score":1992,"last_activity_date":1608224168,"creation_date":1352882430,"answer_id":13375461,"question_id":13375357,"body_markdown":"### Android R Update:\r\n\r\nFrom Android R, this method always returns false. Google says that this is done &quot;to protect goat privacy&quot;:\r\n\r\n    /**\r\n     * Used to determine whether the user making this call is subject to\r\n     * teleportations.\r\n     *\r\n     * &lt;p&gt;As of {@link android.os.Build.VERSION_CODES#LOLLIPOP}, this method can\r\n     * now automatically identify goats using advanced goat recognition technology.&lt;/p&gt;\r\n     *\r\n     * &lt;p&gt;As of {@link android.os.Build.VERSION_CODES#R}, this method always returns\r\n     * {@code false} in order to protect goat privacy.&lt;/p&gt;\r\n     *\r\n     * @return Returns whether the user making this call is a goat.\r\n     */\r\n    public boolean isUserAGoat() {\r\n        if (mContext.getApplicationInfo().targetSdkVersion &gt;= Build.VERSION_CODES.R) {\r\n            return false;\r\n        }\r\n        return mContext.getPackageManager()\r\n                .isPackageAvailable(&quot;com.coffeestainstudios.goatsimulator&quot;);\r\n    }\r\n------\r\n### Previous answer:\r\n\r\nFrom their **[source][1]**, the method used to return `false` until it was changed in API 21.\r\n\r\n    /**\r\n     * Used to determine whether the user making this call is subject to\r\n     * teleportations.\r\n     * @return whether the user making this call is a goat \r\n     */\r\n    public boolean isUserAGoat() {\r\n        return false;\r\n    }\r\n\r\nIt looks like the method has no real use for us as developers. Someone has previously stated that it might be an **[Easter egg][2]**.\r\n\r\n\r\nIn API 21 the implementation was changed to check if there is an installed app with the package `com.coffeestainstudios.goatsimulator`\r\n\r\n    /**\r\n     * Used to determine whether the user making this call is subject to\r\n     * teleportations.\r\n     *\r\n     * &lt;p&gt;As of {@link android.os.Build.VERSION_CODES#LOLLIPOP}, this method can\r\n     * now automatically identify goats using advanced goat recognition technology.&lt;/p&gt;\r\n     *\r\n     * @return Returns true if the user making this call is a goat.\r\n     */\r\n    public boolean isUserAGoat() {\r\n        return mContext.getPackageManager()\r\n                .isPackageAvailable(&quot;com.coffeestainstudios.goatsimulator&quot;);\r\n    }\r\n\r\nHere is the [source][3] and the [change][4].\r\n\r\n\r\n  [1]: https://android.googlesource.com/platform/frameworks/base/+/android-5.0.0_r6/core/java/android/os/UserManager.java#433\r\n  [2]: http://en.wikipedia.org/wiki/Easter_egg_(media)\r\n  [3]: https://android.googlesource.com/platform/frameworks/base/+/android-5.0.0_r6/core/java/android/os/UserManager.java#442\r\n  [4]: https://android.googlesource.com/platform/frameworks/base/+/e4ab16ad98b183afbf7a21ad7314372de41a8b57%5E%21/#F1","title":"Proper use cases for Android UserManager.isUserAGoat()?","body":"<h3>Android R Update:</h3>\n<p>From Android R, this method always returns false. Google says that this is done &quot;to protect goat privacy&quot;:</p>\n<pre><code>/**\n * Used to determine whether the user making this call is subject to\n * teleportations.\n *\n * &lt;p&gt;As of {@link android.os.Build.VERSION_CODES#LOLLIPOP}, this method can\n * now automatically identify goats using advanced goat recognition technology.&lt;/p&gt;\n *\n * &lt;p&gt;As of {@link android.os.Build.VERSION_CODES#R}, this method always returns\n * {@code false} in order to protect goat privacy.&lt;/p&gt;\n *\n * @return Returns whether the user making this call is a goat.\n */\npublic boolean isUserAGoat() {\n    if (mContext.getApplicationInfo().targetSdkVersion &gt;= Build.VERSION_CODES.R) {\n        return false;\n    }\n    return mContext.getPackageManager()\n            .isPackageAvailable(&quot;com.coffeestainstudios.goatsimulator&quot;);\n}\n</code></pre>\n<hr />\n<h3>Previous answer:</h3>\n<p>From their <strong><a href=\"https://android.googlesource.com/platform/frameworks/base/+/android-5.0.0_r6/core/java/android/os/UserManager.java#433\" rel=\"noreferrer\">source</a></strong>, the method used to return <code>false</code> until it was changed in API 21.</p>\n<pre><code>/**\n * Used to determine whether the user making this call is subject to\n * teleportations.\n * @return whether the user making this call is a goat \n */\npublic boolean isUserAGoat() {\n    return false;\n}\n</code></pre>\n<p>It looks like the method has no real use for us as developers. Someone has previously stated that it might be an <strong><a href=\"http://en.wikipedia.org/wiki/Easter_egg_(media)\" rel=\"noreferrer\">Easter egg</a></strong>.</p>\n<p>In API 21 the implementation was changed to check if there is an installed app with the package <code>com.coffeestainstudios.goatsimulator</code></p>\n<pre><code>/**\n * Used to determine whether the user making this call is subject to\n * teleportations.\n *\n * &lt;p&gt;As of {@link android.os.Build.VERSION_CODES#LOLLIPOP}, this method can\n * now automatically identify goats using advanced goat recognition technology.&lt;/p&gt;\n *\n * @return Returns true if the user making this call is a goat.\n */\npublic boolean isUserAGoat() {\n    return mContext.getPackageManager()\n            .isPackageAvailable(&quot;com.coffeestainstudios.goatsimulator&quot;);\n}\n</code></pre>\n<p>Here is the <a href=\"https://android.googlesource.com/platform/frameworks/base/+/android-5.0.0_r6/core/java/android/os/UserManager.java#442\" rel=\"noreferrer\">source</a> and the <a href=\"https://android.googlesource.com/platform/frameworks/base/+/e4ab16ad98b183afbf7a21ad7314372de41a8b57%5E%21/#F1\" rel=\"noreferrer\">change</a>.</p>\n"},{"tags":[],"owner":{"display_name":"user479870"},"down_vote_count":2,"up_vote_count":806,"is_accepted":false,"score":804,"last_activity_date":1352941607,"creation_date":1352883787,"answer_id":13375746,"question_id":13375357,"body_markdown":"This appears to be an inside joke at Google. It&#39;s also featured in the Google Chrome task manager. It has no purpose, other than some engineers finding it amusing. Which is a purpose by itself, if you will.\r\n\r\n1. In Chrome, open the Task Manager with &lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;Esc&lt;/kbd&gt;. \r\n2. Right click to add the  `Goats Teleported` column.\r\n3. Wonder.\r\n\r\nThere is even a huge Chromium bug report about [too many teleported goats][1].\r\n\r\n![chrome][2]  \r\n\r\nThe following Chromium [source code snippet][3] is stolen from the [HN][4] comments.\r\n\r\n\r\n    int TaskManagerModel::GetGoatsTeleported(int index) const {\r\n      int seed = goat_salt_ * (index + 1);\r\n      return (seed &gt;&gt; 16) &amp; 255;\r\n    }\r\n\r\n  [1]: http://code.google.com/p/chromium/issues/detail?id=31482\r\n  [2]: http://i.stack.imgur.com/1nwdC.png\r\n  [3]: http://git.chromium.org/gitweb/?p=chromium.git;a=blob;f=chrome/browser/task_manager/task_manager.cc;h=ad46354259ec8687c8665820f9f53bf89ccc715d;hb=HEAD#l599\r\n  [4]: http://news.ycombinator.com/item?id=4782574","title":"Proper use cases for Android UserManager.isUserAGoat()?","body":"<p>This appears to be an inside joke at Google. It's also featured in the Google Chrome task manager. It has no purpose, other than some engineers finding it amusing. Which is a purpose by itself, if you will.</p>\n\n<ol>\n<li>In Chrome, open the Task Manager with <kbd>Shift</kbd>+<kbd>Esc</kbd>. </li>\n<li>Right click to add the  <code>Goats Teleported</code> column.</li>\n<li>Wonder.</li>\n</ol>\n\n<p>There is even a huge Chromium bug report about <a href=\"http://code.google.com/p/chromium/issues/detail?id=31482\">too many teleported goats</a>.</p>\n\n<p><img src=\"https://i.stack.imgur.com/1nwdC.png\" alt=\"chrome\">  </p>\n\n<p>The following Chromium <a href=\"http://git.chromium.org/gitweb/?p=chromium.git;a=blob;f=chrome/browser/task_manager/task_manager.cc;h=ad46354259ec8687c8665820f9f53bf89ccc715d;hb=HEAD#l599\">source code snippet</a> is stolen from the <a href=\"http://news.ycombinator.com/item?id=4782574\">HN</a> comments.</p>\n\n<pre><code>int TaskManagerModel::GetGoatsTeleported(int index) const {\n  int seed = goat_salt_ * (index + 1);\n  return (seed &gt;&gt; 16) &amp; 255;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1413944,"reputation":59678,"user_id":1339987,"accept_rate":54,"display_name":"djechlin"},"down_vote_count":21,"up_vote_count":1060,"is_accepted":false,"score":1039,"last_activity_date":1518470024,"creation_date":1352904449,"answer_id":13381101,"question_id":13375357,"body_markdown":"I don&#39;t know if this was &quot;the&quot; official use case, but the following produces a warning in Java (that can further produce compile errors if mixed with `return` statements, leading to unreachable code):\r\n\r\n    while (1 == 2) { // Note that &quot;if&quot; is treated differently\r\n        System.out.println(&quot;Unreachable code&quot;);\r\n    }\r\n\r\nHowever this is legal:\r\n\r\n    while (isUserAGoat()) {\r\n        System.out.println(&quot;Unreachable but determined at runtime, not at compile time&quot;);\r\n    }\r\n\r\nSo I often find myself writing a silly utility method for the quickest way to dummy out a code block, then in completing debugging find all calls to it, so provided the implementation doesn&#39;t change this can be used for that.\r\n\r\n[JLS](http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.21) points out `if (false)` does not trigger &quot;unreachable code&quot; for the specific reason that this would break support for debug flags, i.e., basically this use case (h/t @auselen). (`static final boolean DEBUG = false;` for instance).\r\n\r\nI replaced `while` for `if`, producing a more obscure use case. I *believe* you can trip up your IDE, like Eclipse, with this behavior, but this edit is 4 years into the future, and I don&#39;t have an Eclipse environment to play with.\r\n\r\n","title":"Proper use cases for Android UserManager.isUserAGoat()?","body":"<p>I don't know if this was \"the\" official use case, but the following produces a warning in Java (that can further produce compile errors if mixed with <code>return</code> statements, leading to unreachable code):</p>\n\n<pre><code>while (1 == 2) { // Note that \"if\" is treated differently\n    System.out.println(\"Unreachable code\");\n}\n</code></pre>\n\n<p>However this is legal:</p>\n\n<pre><code>while (isUserAGoat()) {\n    System.out.println(\"Unreachable but determined at runtime, not at compile time\");\n}\n</code></pre>\n\n<p>So I often find myself writing a silly utility method for the quickest way to dummy out a code block, then in completing debugging find all calls to it, so provided the implementation doesn't change this can be used for that.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.21\" rel=\"noreferrer\">JLS</a> points out <code>if (false)</code> does not trigger \"unreachable code\" for the specific reason that this would break support for debug flags, i.e., basically this use case (h/t @auselen). (<code>static final boolean DEBUG = false;</code> for instance).</p>\n\n<p>I replaced <code>while</code> for <code>if</code>, producing a more obscure use case. I <em>believe</em> you can trip up your IDE, like Eclipse, with this behavior, but this edit is 4 years into the future, and I don't have an Eclipse environment to play with.</p>\n"},{"tags":[],"owner":{"account_id":88398,"reputation":6387,"user_id":244521,"accept_rate":75,"display_name":"Lance Nanek"},"down_vote_count":0,"up_vote_count":164,"is_accepted":false,"score":164,"last_activity_date":1355107585,"creation_date":1352913964,"answer_id":13383962,"question_id":13375357,"body_markdown":"There&#39;s a funny named method/constant/whatever in each version of Android. \r\n\r\nThe only practical use I ever saw was in the Last Call for [Google I/O][1] Contest where they asked what it was for a particular version, to see if contestants read the API diff report for each release. The contest had programming problems too, but generally some trivia that could be graded automatically first to get the number of submissions down to reasonable amounts that would be easier to check.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Google_I/O\r\n","title":"Proper use cases for Android UserManager.isUserAGoat()?","body":"<p>There's a funny named method/constant/whatever in each version of Android. </p>\n\n<p>The only practical use I ever saw was in the Last Call for <a href=\"http://en.wikipedia.org/wiki/Google_I/O\">Google I/O</a> Contest where they asked what it was for a particular version, to see if contestants read the API diff report for each release. The contest had programming problems too, but generally some trivia that could be graded automatically first to get the number of submissions down to reasonable amounts that would be easier to check.</p>\n"},{"tags":[],"owner":{"account_id":236661,"reputation":4048,"user_id":504299,"accept_rate":83,"display_name":"rickyduck"},"down_vote_count":1,"up_vote_count":136,"is_accepted":false,"score":135,"last_activity_date":1461238707,"creation_date":1352975623,"answer_id":13395669,"question_id":13375357,"body_markdown":"Google has a serious liking for goats and goat based [Easter eggs][1]. There has even been [previous Stack&amp;nbsp;Overflow posts about it][2]. \r\n\r\nAs has been mentioned in previous posts, it also exists within the Chrome task manager ([it first appeared in the wild in 2009][3]):\r\n\r\n    &lt;message name=&quot;IDS_TASK_MANAGER_GOATS_TELEPORTED_COLUMN&quot; desc=&quot;The goats teleported column&quot;&gt;\r\n        Goats Teleported\r\n    &lt;/message&gt;\r\n\r\n[And then in Windows, Linux and Mac versions of Chrome early 2010][4]). The number of &quot;Goats Teleported&quot; is in fact [random][5]:\r\n\r\n     int TaskManagerModel::GetGoatsTeleported(int index) const {\r\n         int seed = goat_salt_ * (index + 1);\r\n         return (seed &gt;&gt; 16) &amp; 255;\r\n     }\r\n\r\nOther Google references to goats include:\r\n\r\n- [Mowing with goats][6]\r\n- [The goats are baaaahk][7]\r\n\r\nThe earliest correlation of goats and Google belongs in the original &quot;Mowing with goats&quot; blog post, as far as I can tell.\r\n\r\nWe can safely assume that it&#39;s merely an Easter egg and has no real-world use, except for returning `false`.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Easter_egg_%28media%29#Software\r\n  [2]: https://stackoverflow.com/questions/3350892/graph-goat-teleportation-data-with-google-vis-api-via-chrome-extension\r\n  [3]: http://src.chromium.org/viewvc/chrome/trunk/src/chrome/app/generated_resources.grd?r1=27169&amp;r2=27216\r\n  [4]: http://techie-buzz.com/featured/google-chrome-goats-teleported-easter-egg.html\r\n  [5]: http://git.chromium.org/gitweb/?p=chromium.git;a=blob;f=chrome/browser/task_manager/task_manager.cc;h=ad46354259ec8687c8665820f9f53bf89ccc715d;hb=HEAD#l599\r\n  [6]: http://googleblog.blogspot.co.uk/2009/05/mowing-with-goats.html\r\n  [7]: http://googleblog.blogspot.co.uk/2010/04/goats-are-baaaahk.html\r\n","title":"Proper use cases for Android UserManager.isUserAGoat()?","body":"<p>Google has a serious liking for goats and goat based <a href=\"http://en.wikipedia.org/wiki/Easter_egg_%28media%29#Software\" rel=\"noreferrer\">Easter eggs</a>. There has even been <a href=\"https://stackoverflow.com/questions/3350892/graph-goat-teleportation-data-with-google-vis-api-via-chrome-extension\">previous Stack&nbsp;Overflow posts about it</a>. </p>\n\n<p>As has been mentioned in previous posts, it also exists within the Chrome task manager (<a href=\"http://src.chromium.org/viewvc/chrome/trunk/src/chrome/app/generated_resources.grd?r1=27169&amp;r2=27216\" rel=\"noreferrer\">it first appeared in the wild in 2009</a>):</p>\n\n<pre><code>&lt;message name=\"IDS_TASK_MANAGER_GOATS_TELEPORTED_COLUMN\" desc=\"The goats teleported column\"&gt;\n    Goats Teleported\n&lt;/message&gt;\n</code></pre>\n\n<p><a href=\"http://techie-buzz.com/featured/google-chrome-goats-teleported-easter-egg.html\" rel=\"noreferrer\">And then in Windows, Linux and Mac versions of Chrome early 2010</a>). The number of \"Goats Teleported\" is in fact <a href=\"http://git.chromium.org/gitweb/?p=chromium.git;a=blob;f=chrome/browser/task_manager/task_manager.cc;h=ad46354259ec8687c8665820f9f53bf89ccc715d;hb=HEAD#l599\" rel=\"noreferrer\">random</a>:</p>\n\n<pre><code> int TaskManagerModel::GetGoatsTeleported(int index) const {\n     int seed = goat_salt_ * (index + 1);\n     return (seed &gt;&gt; 16) &amp; 255;\n }\n</code></pre>\n\n<p>Other Google references to goats include:</p>\n\n<ul>\n<li><a href=\"http://googleblog.blogspot.co.uk/2009/05/mowing-with-goats.html\" rel=\"noreferrer\">Mowing with goats</a></li>\n<li><a href=\"http://googleblog.blogspot.co.uk/2010/04/goats-are-baaaahk.html\" rel=\"noreferrer\">The goats are baaaahk</a></li>\n</ul>\n\n<p>The earliest correlation of goats and Google belongs in the original \"Mowing with goats\" blog post, as far as I can tell.</p>\n\n<p>We can safely assume that it's merely an Easter egg and has no real-world use, except for returning <code>false</code>.</p>\n"},{"tags":[],"owner":{"account_id":1164918,"reputation":3515,"user_id":1143639,"accept_rate":89,"display_name":"KDEx"},"down_vote_count":1,"up_vote_count":117,"is_accepted":false,"score":116,"last_activity_date":1456064714,"creation_date":1353101623,"answer_id":13424726,"question_id":13375357,"body_markdown":"There is a similar call, `isUserAMonkey()`, that returns true if the [MonkeyRunner tool][1] is being used. The SDK explanation is just as curious as this one. \r\n\r\n&gt;     public static boolean isUserAMonkey(){}     \r\n&gt; Returns `true` if the user interface is currently being messed with by a monkey.\r\n\r\n[Here][2] is the source. \r\n\r\nI expect that this was added in anticipation of a new [SDK][3] tool named something with a goat and will *actually* be functional to test for the presence of that tool.  \r\n\r\nAlso see a similar question, **[Strange function in ActivityManager: isUserAMonkey. What does this mean, what is its use?][4]**.\r\n\r\n  [1]: http://developer.android.com/tools/help/monkeyrunner_concepts.html\r\n  [2]: http://developer.android.com/reference/android/app/ActivityManager.html\r\n  [3]: http://en.wikipedia.org/wiki/Software_development_kit\r\n  [4]: https://stackoverflow.com/questions/7792123/strange-function-in-activitymanager-isuseramonkey-what-does-this-mean-what-i\r\n","title":"Proper use cases for Android UserManager.isUserAGoat()?","body":"<p>There is a similar call, <code>isUserAMonkey()</code>, that returns true if the <a href=\"http://developer.android.com/tools/help/monkeyrunner_concepts.html\" rel=\"noreferrer\">MonkeyRunner tool</a> is being used. The SDK explanation is just as curious as this one. </p>\n\n<blockquote>\n<pre><code>public static boolean isUserAMonkey(){}     \n</code></pre>\n  \n  <p>Returns <code>true</code> if the user interface is currently being messed with by a monkey.</p>\n</blockquote>\n\n<p><a href=\"http://developer.android.com/reference/android/app/ActivityManager.html\" rel=\"noreferrer\">Here</a> is the source. </p>\n\n<p>I expect that this was added in anticipation of a new <a href=\"http://en.wikipedia.org/wiki/Software_development_kit\" rel=\"noreferrer\">SDK</a> tool named something with a goat and will <em>actually</em> be functional to test for the presence of that tool.  </p>\n\n<p>Also see a similar question, <strong><a href=\"https://stackoverflow.com/questions/7792123/strange-function-in-activitymanager-isuseramonkey-what-does-this-mean-what-i\">Strange function in ActivityManager: isUserAMonkey. What does this mean, what is its use?</a></strong>.</p>\n"},{"tags":[],"owner":{"account_id":1034085,"reputation":15781,"user_id":1041822,"accept_rate":100,"display_name":"higuaro"},"down_vote_count":4,"up_vote_count":315,"is_accepted":false,"score":311,"last_activity_date":1353927350,"creation_date":1353516912,"answer_id":13498177,"question_id":13375357,"body_markdown":"Complementing the @djechlin [answer][1] (good answer by the way!), this function call could be **also** used as dummy code to hold a breakpoint in an IDE when you want to stop in some specific iteration or a particular recursive call, for example:\r\n\r\n![enter image description here][2]\r\n\r\n\r\n`isUserAGoat()` could be used instead of a dummy variable declaration that will be shown in the IDE as a warning and, in Eclipse particular case, will clog the breakpoint mark, making it difficult to enable/disable it. If the method is used as a convention, all the invocations could be later filtered by some script (during commit phase maybe?).\r\n\r\n![enter image description here][3]\r\n\r\n\r\nGoogle guys are heavy Eclipse users (they provide several of their projects as Eclipse plugins: Android SDK, GAE, etc), so the @djechlin answer and this complementary answer make a lot of sense (at least for me).\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/13381101/956397\r\n  [2]: http://i.stack.imgur.com/mW1Lf.png\r\n  [3]: http://i.stack.imgur.com/MFIBa.png","title":"Proper use cases for Android UserManager.isUserAGoat()?","body":"<p>Complementing the @djechlin <a href=\"https://stackoverflow.com/a/13381101/956397\">answer</a> (good answer by the way!), this function call could be <strong>also</strong> used as dummy code to hold a breakpoint in an IDE when you want to stop in some specific iteration or a particular recursive call, for example:</p>\n\n<p><img src=\"https://i.stack.imgur.com/mW1Lf.png\" alt=\"enter image description here\"></p>\n\n<p><code>isUserAGoat()</code> could be used instead of a dummy variable declaration that will be shown in the IDE as a warning and, in Eclipse particular case, will clog the breakpoint mark, making it difficult to enable/disable it. If the method is used as a convention, all the invocations could be later filtered by some script (during commit phase maybe?).</p>\n\n<p><img src=\"https://i.stack.imgur.com/MFIBa.png\" alt=\"enter image description here\"></p>\n\n<p>Google guys are heavy Eclipse users (they provide several of their projects as Eclipse plugins: Android SDK, GAE, etc), so the @djechlin answer and this complementary answer make a lot of sense (at least for me).</p>\n"},{"tags":[],"owner":{"account_id":297370,"reputation":3213,"user_id":602856,"accept_rate":40,"display_name":"rainer198"},"down_vote_count":1,"up_vote_count":159,"is_accepted":false,"score":158,"last_activity_date":1518470195,"creation_date":1369992824,"answer_id":16854187,"question_id":13375357,"body_markdown":"In the discipline of speech recognition, users are divided into _goats_ and _sheeps_. \r\n\r\nFor instance, here **[on page 89][1]**:\r\n\r\n&gt; Sheeps are people for whom speech recognition works exceptionally well, and goats are people for whom it works exceptionally poorly. Only the voice recognizer knows what separates them. People can&#39;t predict whose voice will be recognized easily and whose won&#39;t. The best policy is to design the interface so it can handle all kinds of voices in all kinds of environments\r\n\r\nMaybe, it is planned to mark Android users as goats in the future to be able to configure the speech recognition engine for goats&#39; needs. ;-)\r\n\r\n  [1]: http://books.google.de/books?id=QWJ7KVMQk0cC&amp;lpg=PR1&amp;dq=voice%20enabling%20web&amp;hl=de&amp;pg=PA89#v=onepage&amp;q=voice%20enabling%20web&amp;f=false\r\n","title":"Proper use cases for Android UserManager.isUserAGoat()?","body":"<p>In the discipline of speech recognition, users are divided into <em>goats</em> and <em>sheeps</em>. </p>\n\n<p>For instance, here <strong><a href=\"http://books.google.de/books?id=QWJ7KVMQk0cC&amp;lpg=PR1&amp;dq=voice%20enabling%20web&amp;hl=de&amp;pg=PA89#v=onepage&amp;q=voice%20enabling%20web&amp;f=false\" rel=\"noreferrer\">on page 89</a></strong>:</p>\n\n<blockquote>\n  <p>Sheeps are people for whom speech recognition works exceptionally well, and goats are people for whom it works exceptionally poorly. Only the voice recognizer knows what separates them. People can't predict whose voice will be recognized easily and whose won't. The best policy is to design the interface so it can handle all kinds of voices in all kinds of environments</p>\n</blockquote>\n\n<p>Maybe, it is planned to mark Android users as goats in the future to be able to configure the speech recognition engine for goats' needs. ;-)</p>\n"},{"tags":[],"owner":{"account_id":3094126,"reputation":2835,"user_id":2619679,"accept_rate":53,"display_name":"j.c"},"down_vote_count":2,"up_vote_count":51,"is_accepted":false,"score":49,"last_activity_date":1461238728,"creation_date":1391682913,"answer_id":21600378,"question_id":13375357,"body_markdown":"Funny Easter Egg.&lt;br/&gt; \r\nIn Ubuntu version of Chrome, in Task Manager (&lt;kbd&gt;shift&lt;/kbd&gt;+&lt;kbd&gt;esc&lt;/kbd&gt;), with right-click you can add a sci-fi column that in italian version is &quot;Capre Teletrasportate&quot; (Teleported Goats).\r\n\r\nA funny theory about it is [here][1].\r\n\r\n\r\n  [1]: http://news.softpedia.com/news/Chrome-s-quot-Goats-Teleported-quot-Easter-Egg-Hints-at-a-Wonderful-Future-323197.shtml","title":"Proper use cases for Android UserManager.isUserAGoat()?","body":"<p>Funny Easter Egg.<br/> \nIn Ubuntu version of Chrome, in Task Manager (<kbd>shift</kbd>+<kbd>esc</kbd>), with right-click you can add a sci-fi column that in italian version is \"Capre Teletrasportate\" (Teleported Goats).</p>\n\n<p>A funny theory about it is <a href=\"http://news.softpedia.com/news/Chrome-s-quot-Goats-Teleported-quot-Easter-Egg-Hints-at-a-Wonderful-Future-323197.shtml\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":197086,"reputation":8475,"user_id":440921,"accept_rate":83,"display_name":"Mark Whitaker"},"down_vote_count":0,"up_vote_count":143,"is_accepted":false,"score":143,"last_activity_date":1505903407,"creation_date":1413799229,"answer_id":26462960,"question_id":13375357,"body_markdown":"[As of API 21 (the first Android 5.0/Lollipop SDK)](https://android.googlesource.com/platform/frameworks/base/+/android-5.0.0_r1/core/java/android/os/UserManager.java#433), this detects whether the [Goat Simulator][1] app is installed:\r\n\r\n    /**\r\n     * Used to determine whether the user making this call is subject to\r\n     * teleportations.\r\n     *\r\n     * &lt;p&gt;As of {@link android.os.Build.VERSION_CODES#LOLLIPOP}, this method can\r\n     * now automatically identify goats using advanced goat recognition technology.&lt;/p&gt;\r\n     *\r\n     * @return Returns true if the user making this call is a goat.\r\n     */\r\n    public boolean isUserAGoat() {\r\n        return mContext.getPackageManager()\r\n                .isPackageAvailable(&quot;com.coffeestainstudios.goatsimulator&quot;);\r\n    }\r\n\r\nThis should make it clear that [djechlin&#39;s suggestion][2] of using it as a warning-free `if (false)` is a potentially disastrous strategy. What previously returned `false` for every device now returns a seemingly random value: if this was buried deep enough in your code it could take a *long* time to figure out where your new bugs are coming from.\r\n\r\nBottom line: if you don&#39;t control the implementation of a method and decide to use it for purposes other than stated in the API documentation, you&#39;re heading for trouble.\r\n\r\n\r\n  [1]: https://play.google.com/store/apps/details?id=com.coffeestainstudios.goatsimulator&amp;hl=en\r\n  [2]: https://stackoverflow.com/questions/13375357/proper-use-cases-for-android-usermanager-isuseragoat/13381101#13381101","title":"Proper use cases for Android UserManager.isUserAGoat()?","body":"<p><a href=\"https://android.googlesource.com/platform/frameworks/base/+/android-5.0.0_r1/core/java/android/os/UserManager.java#433\" rel=\"noreferrer\">As of API 21 (the first Android 5.0/Lollipop SDK)</a>, this detects whether the <a href=\"https://play.google.com/store/apps/details?id=com.coffeestainstudios.goatsimulator&amp;hl=en\" rel=\"noreferrer\">Goat Simulator</a> app is installed:</p>\n\n<pre><code>/**\n * Used to determine whether the user making this call is subject to\n * teleportations.\n *\n * &lt;p&gt;As of {@link android.os.Build.VERSION_CODES#LOLLIPOP}, this method can\n * now automatically identify goats using advanced goat recognition technology.&lt;/p&gt;\n *\n * @return Returns true if the user making this call is a goat.\n */\npublic boolean isUserAGoat() {\n    return mContext.getPackageManager()\n            .isPackageAvailable(\"com.coffeestainstudios.goatsimulator\");\n}\n</code></pre>\n\n<p>This should make it clear that <a href=\"https://stackoverflow.com/questions/13375357/proper-use-cases-for-android-usermanager-isuseragoat/13381101#13381101\">djechlin's suggestion</a> of using it as a warning-free <code>if (false)</code> is a potentially disastrous strategy. What previously returned <code>false</code> for every device now returns a seemingly random value: if this was buried deep enough in your code it could take a <em>long</em> time to figure out where your new bugs are coming from.</p>\n\n<p>Bottom line: if you don't control the implementation of a method and decide to use it for purposes other than stated in the API documentation, you're heading for trouble.</p>\n"},{"tags":[],"owner":{"account_id":8115232,"reputation":588,"user_id":6116090,"display_name":"Empire of E"},"down_vote_count":10,"up_vote_count":19,"is_accepted":false,"score":9,"last_activity_date":1575456561,"creation_date":1542481902,"answer_id":53354608,"question_id":13375357,"body_markdown":"**It&#39;s not an inside joke**\r\n\r\nApparently it&#39;s just an application checker for\r\n[Goat Simulator - by Coffee Stain Studios][1]\r\n\r\nIf you have Goat Simulator installed, you&#39;re a goat.\r\nIf you don&#39;t have it installed, you&#39;re not a goat.\r\n\r\nI imagine it was more of a personal experiment by one of the developers, most likely to find people with a common interest.\r\n\r\n  [1]: https://play.google.com/store/apps/details?id=com.coffeestainstudios.goatsimulator","title":"Proper use cases for Android UserManager.isUserAGoat()?","body":"<p><strong>It's not an inside joke</strong></p>\n\n<p>Apparently it's just an application checker for\n<a href=\"https://play.google.com/store/apps/details?id=com.coffeestainstudios.goatsimulator\" rel=\"noreferrer\">Goat Simulator - by Coffee Stain Studios</a></p>\n\n<p>If you have Goat Simulator installed, you're a goat.\nIf you don't have it installed, you're not a goat.</p>\n\n<p>I imagine it was more of a personal experiment by one of the developers, most likely to find people with a common interest.</p>\n"},{"tags":[],"owner":{"account_id":19033212,"reputation":301,"user_id":13894858,"display_name":"Nobody Tells The Truth"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1652137541,"creation_date":1652137541,"answer_id":72179060,"question_id":13375357,"body_markdown":"It&#39;s important from a usability and accessibility angle to know whether or not your user is a Goat.\r\n\r\nGoats actually have very different needs from their software if they are going to truly benefit from all the information age has to offer.\r\n\r\nI think it wonderful that some kind developer was concerned about ALL of us users, not just the fashionable ones.\r\n","title":"Proper use cases for Android UserManager.isUserAGoat()?","body":"<p>It's important from a usability and accessibility angle to know whether or not your user is a Goat.</p>\n<p>Goats actually have very different needs from their software if they are going to truly benefit from all the information age has to offer.</p>\n<p>I think it wonderful that some kind developer was concerned about ALL of us users, not just the fashionable ones.</p>\n"}],"owner":{"account_id":259304,"reputation":71887,"user_id":542091,"accept_rate":92,"display_name":"Ovidiu Latcu"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":364355,"favorite_count":0,"down_vote_count":20,"up_vote_count":4030,"accepted_answer_id":13375461,"answer_count":12,"score":4010,"last_activity_date":1695634584,"creation_date":1352882041,"question_id":13375357,"body_markdown":"I was looking at the new APIs introduced in [Android 4.2][1].\r\nWhile looking at the [`UserManager`][2] class I came across the following method:\r\n\r\n&gt;     public boolean isUserAGoat()\r\n&gt; \r\n&gt; Used to determine whether the user making this call is subject to teleportations.\r\n&gt; \r\n&gt; Returns whether the user making this call is a goat.\r\n\r\nHow and when should this be used?\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Android_version_history#Android_4.1.2F4.2_Jelly_Bean\r\n  [2]: http://developer.android.com/reference/android/os/UserManager.html","title":"Proper use cases for Android UserManager.isUserAGoat()?","body":"<p>I was looking at the new APIs introduced in <a href=\"http://en.wikipedia.org/wiki/Android_version_history#Android_4.1.2F4.2_Jelly_Bean\" rel=\"noreferrer\">Android 4.2</a>.\nWhile looking at the <a href=\"http://developer.android.com/reference/android/os/UserManager.html\" rel=\"noreferrer\"><code>UserManager</code></a> class I came across the following method:</p>\n\n<blockquote>\n<pre><code>public boolean isUserAGoat()\n</code></pre>\n  \n  <p>Used to determine whether the user making this call is subject to teleportations.</p>\n  \n  <p>Returns whether the user making this call is a goat.</p>\n</blockquote>\n\n<p>How and when should this be used?</p>\n"},{"tags":["java","rest","apache-httpclient-5.x"],"comments":[{"owner":{"account_id":29293095,"reputation":840,"user_id":22443070,"display_name":"xPetersue"},"score":0,"creation_date":1695229228,"post_id":77134100,"comment_id":135997696,"body_markdown":"Could you please share the complete errors in code format? It would make it easier for others to help you with your question.","body":"Could you please share the complete errors in code format? It would make it easier for others to help you with your question."}],"owner":{"account_id":9379654,"reputation":1,"user_id":8189472,"display_name":"Gaurav Jain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695634501,"creation_date":1695122565,"question_id":77134100,"body_markdown":"I am running a performance test on some of my api&#39;s which runs 25 threads in parallel for 300 secs. \r\n\r\nWith HttpClient 4.x the average response time ~300ms\r\nWith all resources and environment same and HttpClient 5.X the average response time ~900ms\r\n\r\nI took a threadDump and Observed that with HttpClient 4.x i see all 25 threads in Runnable state at a time,\r\nbut the same threadDump of HttpClient 5.x shows ~10 threads in Runnable state and rest ~15 in TIMED_WAIT state :\r\n\r\n```\r\nhttp-nio-8087-exec-3&quot; #30 daemon prio=5 os_prio=0 cpu=687.50ms elapsed=250.17s tid=0x00000276c0ccced0 nid=0x57ec in Object.wait()  [0x000000db766f8000]\r\njava.lang.Thread.State: TIMED_WAITING (on object monitor)\r\nat java.lang.Object.wait(java.base@17.0.5/Native Method)\r\nwaiting on &lt;no object reference available&gt;\r\nat org.apache.hc.core5.concurrent.BasicFuture.get(BasicFuture.java:101)\r\nlocked &lt;0x000000060ed18060&gt; (a org.apache.hc.core5.pool.StrictConnPool$1)\r\nat org.apache.hc.core5.pool.StrictConnPool$1.get(StrictConnPool.java:184)\r\nlocked &lt;0x000000060ed18060&gt; (a org.apache.hc.core5.pool.StrictConnPool$1)\r\nat org.apache.hc.core5.pool.StrictConnPool$1.get(StrictConnPool.java:178)\r\nat org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager$3.get(PoolingHttpClientConnectionManager.java:312)\r\nlocked &lt;0x000000060ed180f0&gt; (a org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager$3) at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.acquireEndpoint(InternalExecRuntime.java:109) at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:125)at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)at org.apache.hc.client5.http.impl.classic.ExecChainElement$$Lambda$2730/0x00000008019530b0.proceed(Unknown Source)at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)at org.apache.hc.client5.http.impl.classic.ExecChainElement$$Lambda$2730/0x00000008019530b0.proceed(Unknown Source)at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:96)at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)at org.apache.hc.client5.http.impl.classic.ExecChainElement$$Lambda$2730/0x00000008019530b0.proceed(Unknown Source)at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:152)at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\r\n```\r\n  \r\nMy Questions:\r\n1. With all resources and environment same with 25 parallel threads why with HttpClient 4.x are Runnable\r\nand with HttpClient 5.x show only ~10 odd runnable and rest in TIME_WAIT state.\r\n2. Though i did not initialized a async requests why i see a BasicFuture in the TIMED_WAIT thread in httpClient 5 stack trace?","title":"Observing increased latency in api response after migration to httpClient 5","body":"<p>I am running a performance test on some of my api's which runs 25 threads in parallel for 300 secs.</p>\n<p>With HttpClient 4.x the average response time ~300ms\nWith all resources and environment same and HttpClient 5.X the average response time ~900ms</p>\n<p>I took a threadDump and Observed that with HttpClient 4.x i see all 25 threads in Runnable state at a time,\nbut the same threadDump of HttpClient 5.x shows ~10 threads in Runnable state and rest ~15 in TIMED_WAIT state :</p>\n<pre><code>http-nio-8087-exec-3&quot; #30 daemon prio=5 os_prio=0 cpu=687.50ms elapsed=250.17s tid=0x00000276c0ccced0 nid=0x57ec in Object.wait()  [0x000000db766f8000]\njava.lang.Thread.State: TIMED_WAITING (on object monitor)\nat java.lang.Object.wait(java.base@17.0.5/Native Method)\nwaiting on &lt;no object reference available&gt;\nat org.apache.hc.core5.concurrent.BasicFuture.get(BasicFuture.java:101)\nlocked &lt;0x000000060ed18060&gt; (a org.apache.hc.core5.pool.StrictConnPool$1)\nat org.apache.hc.core5.pool.StrictConnPool$1.get(StrictConnPool.java:184)\nlocked &lt;0x000000060ed18060&gt; (a org.apache.hc.core5.pool.StrictConnPool$1)\nat org.apache.hc.core5.pool.StrictConnPool$1.get(StrictConnPool.java:178)\nat org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager$3.get(PoolingHttpClientConnectionManager.java:312)\nlocked &lt;0x000000060ed180f0&gt; (a org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager$3) at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.acquireEndpoint(InternalExecRuntime.java:109) at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:125)at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)at org.apache.hc.client5.http.impl.classic.ExecChainElement$$Lambda$2730/0x00000008019530b0.proceed(Unknown Source)at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)at org.apache.hc.client5.http.impl.classic.ExecChainElement$$Lambda$2730/0x00000008019530b0.proceed(Unknown Source)at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:96)at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)at org.apache.hc.client5.http.impl.classic.ExecChainElement$$Lambda$2730/0x00000008019530b0.proceed(Unknown Source)at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:152)at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n</code></pre>\n<p>My Questions:</p>\n<ol>\n<li>With all resources and environment same with 25 parallel threads why with HttpClient 4.x are Runnable\nand with HttpClient 5.x show only ~10 odd runnable and rest in TIME_WAIT state.</li>\n<li>Though i did not initialized a async requests why i see a BasicFuture in the TIMED_WAIT thread in httpClient 5 stack trace?</li>\n</ol>\n"},{"tags":["java","hibernate","sonarqube"],"answers":[{"tags":[],"owner":{"account_id":3837639,"reputation":56,"user_id":3181598,"display_name":"n-n-nebbl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695634394,"creation_date":1695634394,"answer_id":77171465,"question_id":77171214,"body_markdown":"It is a public method which takes the String parameter as query, that&#39;s why it is complaining.\r\n\r\nYou need to restrict the query to be something which is not freely to choose from the outside.","title":"How to fix: This use of org/hibernate/Session.createQuery(Ljava/lang/String;)Lorg/hibernate/Query; can be vulnerable to SQL/HQL injection","body":"<p>It is a public method which takes the String parameter as query, that's why it is complaining.</p>\n<p>You need to restrict the query to be something which is not freely to choose from the outside.</p>\n"}],"owner":{"account_id":4949667,"reputation":79,"user_id":3984058,"display_name":"Z4N4TI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695634394,"creation_date":1695632250,"question_id":77171214,"body_markdown":"I have this ProductDao.java class:\r\n\r\n    @Repository(value = &quot;ProductDao&quot;)\r\n    public class ProductDao implements IProductDao {\r\n    \t\r\n    \tpublic static final String LABEL_LIKE = &quot;labellike&quot;;\r\n    \t\r\n    \tpublic static final String NUM_CODE = &quot;n_code&quot;;\r\n    \t\r\n    \tpublic static final String LABEL = &quot;label&quot;;\r\n    \t\r\n    \tpublic static final String STATUS = &quot;status&quot;;\r\n    \t\r\n    \tpublic Query createQuery(String query) {\r\n    \t\treturn sessionFactory.getCurrentSession().createQuery(query);\r\n    \t}\r\n    \t\r\n    \tprivate StringBuilder paginatedListMasterProductSelectQuery() {\r\n    \t\tStringBuilder select = new StringBuilder();\r\n    \t\tselect.append(&quot;SELECT distinct mp &quot;);\r\n    \t\t\r\n    \t\treturn select;\r\n    \t}\r\n    \r\n    \tprivate StringBuilder paginatedListMasterProductCountQuery() {\r\n    \t\tStringBuilder count = new StringBuilder();\r\n    \t\tcount.append(&quot;SELECT Count (distinct mp) &quot;);\r\n    \t\t\r\n    \t\treturn count;\r\n    \t}\r\n    \r\n    \tprivate StringBuilder paginatedListMasterProductJoinQuery(CatalogFilterVO catalogFilter) {\r\n    \t\tStringBuilder join = new StringBuilder();\r\n    \r\n    \t\tjoin.append(&quot; FROM MasterProduct AS mp&quot;);\r\n    \t\tjoin.append(&quot; JOIN mp.products AS p&quot;);\r\n    \t\tif (StringUtils.isNotEmpty(catalogFilter.getNomenclatureCode())\r\n    \t\t\t\t|| getSortFieldLevel(catalogFilter.getSortField()) != 0) {\r\n    \t\t\tjoin.append(&quot; JOIN mp.nomenclature AS n&quot;);\r\n    \t\t}\r\n    \t\tjoin.append(&quot; LEFT JOIN p.family AS f&quot;);\r\n    \t\tif (&quot;productLifeVO&quot;.equals(catalogFilter.getSortField())) {\r\n    \t\t\tjoin.append(&quot; LEFT JOIN mp.productLife AS pl &quot;);\r\n    \t\t}\r\n    \t\treturn join;\r\n    \t}\r\n    \t\r\n    \tprivate StringBuilder paginatedListMasterProductClauseQuery(CatalogFilterVO catalogFilter) {\r\n    \t\tStringBuilder clause = new StringBuilder();\t\t\r\n    \t\t// WHERE\r\n    \t\t\t\tclause.append(&quot; WHERE 1=1&quot;);\r\n    \t\t\t\tif(StringUtils.isNotEmpty(catalogFilter.getNomenclatureCode()) ){\r\n    \t\t\t\t\tclause.append(&quot; AND n.value LIKE :n_code&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\tif (StringUtils.isNotEmpty(catalogFilter.getTextSearch())) {\r\n    \t\t\t\t\tclause.append(&quot; AND (mp.partnerProductReference like :labellike&quot;);\r\n    \t\t\t\t\tclause.append(&quot; OR mp.name like :labellike&quot;);\r\n    \t\t\t\t\tclause.append(&quot; OR mp.shortDescription like :labellike&quot;);\r\n    \t\t\t\t\tclause.append(&quot; OR f.keywords like :labellike&quot;);\r\n    \t\t\t\t\tclause.append(&quot;)&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\tif(StringUtils.isNotEmpty(catalogFilter.getProductStatus()) ) {\r\n    \t\t\t\tclause.append(&quot; AND p.status = :status &quot;);\r\n    \t\t\t\t}\r\n    \t\t\r\n    \t\treturn clause;\r\n    \t}\r\n    \t\r\n    \tprivate StringBuilder paginatedListMasterProductOrderByNomenClature(CatalogFilterVO catalogFilter) {\r\n    \t\t\r\n    \t\tStringBuilder orderByP2 = new StringBuilder();\r\n    \t\tif (NOMENCLATURE_ONE.equalsIgnoreCase(catalogFilter.getSortField())) {\r\n    \t\t\torderByP2.append(&quot; ORDER BY n.parent.parent.parent.parent.label&quot;);\r\n    \t\t}\r\n    \t\tif (NOMENCLATURE_TWO.equalsIgnoreCase(catalogFilter.getSortField())) {\r\n    \t\t\torderByP2.append(&quot; ORDER BY n.parent.parent.parent.label&quot;);\r\n    \r\n    \t\t}\r\n    \t\tif (NOMENCLATURE_THREE.equalsIgnoreCase(catalogFilter.getSortField())) {\r\n    \t\t\torderByP2.append(&quot; ORDER BY  n.parent.parent.label&quot;);\r\n    \r\n    \t\t}\r\n    \t\tif (NOMENCLATURE_FOUR.equalsIgnoreCase(catalogFilter.getSortField())) {\r\n    \t\t\torderByP2.append(&quot; ORDER BY  n.parent.label&quot;);\r\n    \r\n    \t\t}\r\n    \t\tif (NOMENCLATURE_FIVE.equalsIgnoreCase(catalogFilter.getSortField())) {\r\n    \t\t\torderByP2.append(&quot; ORDER BY  n.label&quot;);\r\n    \r\n    \t\t}\r\n    \t\torderByP2.append(&quot; &quot;).append(catalogFilter.getSortOrder());\r\n    \t\t\tif (StringUtils.isNotEmpty(catalogFilter.getTextSearch())) {\r\n    \t\t\t\torderByP2.append(&quot;, &quot;);\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\treturn orderByP2;\r\n    \t}\r\n    \t\r\n    \tprivate StringBuilder paginatedListMasterProductOrderByTextSearch(CatalogFilterVO catalogFilter) {\r\n    \t\t\r\n    \t\tStringBuilder orderByTxtSearch = new StringBuilder();\r\n    \t\tif (StringUtils.isEmpty(catalogFilter.getSortField())) {\r\n    \t\t\torderByTxtSearch.append(&quot; ORDER BY &quot;);\r\n    \t\t}\r\n    \t\torderByTxtSearch.append(&quot; CASE WHEN (mp.partnerProductReference like :labellike) THEN 1&quot;);\r\n    \t\torderByTxtSearch.append(&quot; WHEN (mp.name like :labellike) THEN 2&quot;);\r\n    \t\torderByTxtSearch.append(&quot; WHEN (f.keywords like :labellike) THEN 3&quot;);\r\n    \t\torderByTxtSearch.append(&quot; WHEN (mp.shortDescription like :labellike) THEN 4&quot;);\r\n    \t\torderByTxtSearch.append(&quot; END&quot;);\r\n    \t\torderByTxtSearch.append(&quot; , CASE WHEN (instr(mp.name, :label)&gt;0) THEN instr(mp.name, :label) END &quot;);\r\n    \r\n    \t\treturn orderByTxtSearch;\r\n    \t}\r\n    \t\r\n    \tprivate StringBuilder paginatedListMasterProductOrderByAllFieldQuery(CatalogFilterVO catalogFilter) {\r\n    \r\n    \t\tStringBuilder orderBy = new StringBuilder();\r\n    \t\tif (StringUtils.isNotEmpty(catalogFilter.getSortField())) {\r\n    \t\t\tif (get(catalogFilter.getSortField()) != null) {\r\n    \t\t\t\torderBy.append(paginatedListMasterProductOrderByNameAndPubliStock(catalogFilter));\r\n    \t\t\t} else if (getSortFieldLevel(catalogFilter.getSortField()) != 0) {\r\n    \t\t\t\torderBy.append(paginatedListMasterProductOrderByNomenClature(catalogFilter));\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \r\n    \t\tif (StringUtils.isNotEmpty(catalogFilter.getTextSearch())) {\r\n    \t\t\torderBy.append(paginatedListMasterProductOrderByTextSearch(catalogFilter));\r\n    \t\t}\r\n    \r\n    \t\treturn orderBy;\r\n    \t}\r\n    \t\r\n    \tprivate void setParameterQuery(Query query, Query countQuery,CatalogFilterVO catalogFilter) {\r\n    \t\t// SET PARAMETERS\r\n    \t\tif (StringUtils.isNotEmpty(catalogFilter.getTextSearch())) {\r\n    \t\t\tquery.setParameter(LABEL_LIKE, &#39;%&#39; + catalogFilter.getTextSearch() + &#39;%&#39;);\r\n    \t\t\tquery.setParameter(LABEL, catalogFilter.getTextSearch());\r\n    \t\t\tcountQuery.setParameter(LABEL_LIKE, &#39;%&#39; + catalogFilter.getTextSearch() + &#39;%&#39;);\r\n    \t\t}\r\n    \t\tif (StringUtils.isNotEmpty(catalogFilter.getNomenclatureCode())) {\r\n    \t\t\tquery.setParameter(NUM_CODE, catalogFilter.getNomenclatureCode() + &quot;%&quot;);\r\n    \t\t\tcountQuery.setParameter(NUM_CODE, catalogFilter.getNomenclatureCode() + &quot;%&quot;);\r\n    \t\t}\r\n    \t\tif (StringUtils.isNotEmpty(catalogFilter.getProductStatus())) {\r\n    \t\t\tif (catalogFilter.getProductStatus().equals(Product.ProductStatus.ACTIVE.toString())) {\r\n    \t\t\t\tquery.setParameter(STATUS, Product.ProductStatus.ACTIVE);\r\n    \t\t\t\tcountQuery.setParameter(STATUS, Product.ProductStatus.ACTIVE);\r\n    \t\t\t}else {\r\n    \t\t\t\tquery.setParameter(STATUS, Product.ProductStatus.INACTIVE);\r\n    \t\t\t\tcountQuery.setParameter(STATUS, Product.ProductStatus.INACTIVE);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic MasterProduct checkDuplicateOrangeReference(String orangeReference) {\r\n    \t\tStringBuilder sb = new StringBuilder();\r\n    \t\tsb.append(&quot;SELECT mp &quot;);\r\n    \t\tsb.append(&quot;FROM MasterProduct As mp &quot;);\r\n    \t\tsb.append(&quot;WHERE mp.orangeProductReference =:orangeReference &quot;);\r\n    \r\n    \t\tQuery query = createQuery(sb.toString());\r\n    \t\tquery.setParameter(&quot;orangeReference&quot;, orangeReference);\r\n    \t\treturn find(query);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic List&lt;MasterProduct&gt; getAllMasterProductsByNomenclatureCode(CatalogFilterVO catalogFilter) {\r\n    \t\tStringBuilder select = paginatedListMasterProductSelectQuery();\r\n    \t\tStringBuilder join = paginatedListMasterProductJoinQuery(catalogFilter);\r\n    \t\tStringBuilder clause = paginatedListMasterProductClauseQuery(catalogFilter);\r\n    \t\tStringBuilder orderBy = paginatedListMasterProductOrderByAllFieldQuery(catalogFilter);\r\n    \t\tStringBuilder count = paginatedListMasterProductCountQuery();\r\n    \r\n    \t\tString queryString = new StringBuilder().append(select).append(join).append(clause).append(orderBy).toString();\r\n    \t\tQuery query = getSessionFactory().getCurrentSession().createQuery(queryString);\r\n    \t\tQuery countQuery = createQuery(new StringBuffer().append(count).append(join).append(clause).toString());\r\n    \r\n    \t\tsetParameterQuery(query, countQuery, catalogFilter);\r\n    \r\n    \t\treturn query.list();\r\n    \t}\r\n    }\r\n    \r\n    On line Query query = getSessionFactory().getCurrentSession().createQuery(queryString);\r\n\r\nI got this sonarqube vulnerability issue:  This use of org/hibernate/Session.createQuery(Ljava/lang/String;)Lorg/hibernate/Query; can be vulnerable to SQL/HQL injection (with Hibernate)\r\n\r\nhow to fix my vulnerability ? I am using hibernate parameter binding and set values within setParameterQuery. \r\n\r\nWhat&#39;s wrong ? ","title":"How to fix: This use of org/hibernate/Session.createQuery(Ljava/lang/String;)Lorg/hibernate/Query; can be vulnerable to SQL/HQL injection","body":"<p>I have this ProductDao.java class:</p>\n<pre><code>@Repository(value = &quot;ProductDao&quot;)\npublic class ProductDao implements IProductDao {\n    \n    public static final String LABEL_LIKE = &quot;labellike&quot;;\n    \n    public static final String NUM_CODE = &quot;n_code&quot;;\n    \n    public static final String LABEL = &quot;label&quot;;\n    \n    public static final String STATUS = &quot;status&quot;;\n    \n    public Query createQuery(String query) {\n        return sessionFactory.getCurrentSession().createQuery(query);\n    }\n    \n    private StringBuilder paginatedListMasterProductSelectQuery() {\n        StringBuilder select = new StringBuilder();\n        select.append(&quot;SELECT distinct mp &quot;);\n        \n        return select;\n    }\n\n    private StringBuilder paginatedListMasterProductCountQuery() {\n        StringBuilder count = new StringBuilder();\n        count.append(&quot;SELECT Count (distinct mp) &quot;);\n        \n        return count;\n    }\n\n    private StringBuilder paginatedListMasterProductJoinQuery(CatalogFilterVO catalogFilter) {\n        StringBuilder join = new StringBuilder();\n\n        join.append(&quot; FROM MasterProduct AS mp&quot;);\n        join.append(&quot; JOIN mp.products AS p&quot;);\n        if (StringUtils.isNotEmpty(catalogFilter.getNomenclatureCode())\n                || getSortFieldLevel(catalogFilter.getSortField()) != 0) {\n            join.append(&quot; JOIN mp.nomenclature AS n&quot;);\n        }\n        join.append(&quot; LEFT JOIN p.family AS f&quot;);\n        if (&quot;productLifeVO&quot;.equals(catalogFilter.getSortField())) {\n            join.append(&quot; LEFT JOIN mp.productLife AS pl &quot;);\n        }\n        return join;\n    }\n    \n    private StringBuilder paginatedListMasterProductClauseQuery(CatalogFilterVO catalogFilter) {\n        StringBuilder clause = new StringBuilder();     \n        // WHERE\n                clause.append(&quot; WHERE 1=1&quot;);\n                if(StringUtils.isNotEmpty(catalogFilter.getNomenclatureCode()) ){\n                    clause.append(&quot; AND n.value LIKE :n_code&quot;);\n                }\n                if (StringUtils.isNotEmpty(catalogFilter.getTextSearch())) {\n                    clause.append(&quot; AND (mp.partnerProductReference like :labellike&quot;);\n                    clause.append(&quot; OR mp.name like :labellike&quot;);\n                    clause.append(&quot; OR mp.shortDescription like :labellike&quot;);\n                    clause.append(&quot; OR f.keywords like :labellike&quot;);\n                    clause.append(&quot;)&quot;);\n                }\n                if(StringUtils.isNotEmpty(catalogFilter.getProductStatus()) ) {\n                clause.append(&quot; AND p.status = :status &quot;);\n                }\n        \n        return clause;\n    }\n    \n    private StringBuilder paginatedListMasterProductOrderByNomenClature(CatalogFilterVO catalogFilter) {\n        \n        StringBuilder orderByP2 = new StringBuilder();\n        if (NOMENCLATURE_ONE.equalsIgnoreCase(catalogFilter.getSortField())) {\n            orderByP2.append(&quot; ORDER BY n.parent.parent.parent.parent.label&quot;);\n        }\n        if (NOMENCLATURE_TWO.equalsIgnoreCase(catalogFilter.getSortField())) {\n            orderByP2.append(&quot; ORDER BY n.parent.parent.parent.label&quot;);\n\n        }\n        if (NOMENCLATURE_THREE.equalsIgnoreCase(catalogFilter.getSortField())) {\n            orderByP2.append(&quot; ORDER BY  n.parent.parent.label&quot;);\n\n        }\n        if (NOMENCLATURE_FOUR.equalsIgnoreCase(catalogFilter.getSortField())) {\n            orderByP2.append(&quot; ORDER BY  n.parent.label&quot;);\n\n        }\n        if (NOMENCLATURE_FIVE.equalsIgnoreCase(catalogFilter.getSortField())) {\n            orderByP2.append(&quot; ORDER BY  n.label&quot;);\n\n        }\n        orderByP2.append(&quot; &quot;).append(catalogFilter.getSortOrder());\n            if (StringUtils.isNotEmpty(catalogFilter.getTextSearch())) {\n                orderByP2.append(&quot;, &quot;);\n            }\n            \n        return orderByP2;\n    }\n    \n    private StringBuilder paginatedListMasterProductOrderByTextSearch(CatalogFilterVO catalogFilter) {\n        \n        StringBuilder orderByTxtSearch = new StringBuilder();\n        if (StringUtils.isEmpty(catalogFilter.getSortField())) {\n            orderByTxtSearch.append(&quot; ORDER BY &quot;);\n        }\n        orderByTxtSearch.append(&quot; CASE WHEN (mp.partnerProductReference like :labellike) THEN 1&quot;);\n        orderByTxtSearch.append(&quot; WHEN (mp.name like :labellike) THEN 2&quot;);\n        orderByTxtSearch.append(&quot; WHEN (f.keywords like :labellike) THEN 3&quot;);\n        orderByTxtSearch.append(&quot; WHEN (mp.shortDescription like :labellike) THEN 4&quot;);\n        orderByTxtSearch.append(&quot; END&quot;);\n        orderByTxtSearch.append(&quot; , CASE WHEN (instr(mp.name, :label)&gt;0) THEN instr(mp.name, :label) END &quot;);\n\n        return orderByTxtSearch;\n    }\n    \n    private StringBuilder paginatedListMasterProductOrderByAllFieldQuery(CatalogFilterVO catalogFilter) {\n\n        StringBuilder orderBy = new StringBuilder();\n        if (StringUtils.isNotEmpty(catalogFilter.getSortField())) {\n            if (get(catalogFilter.getSortField()) != null) {\n                orderBy.append(paginatedListMasterProductOrderByNameAndPubliStock(catalogFilter));\n            } else if (getSortFieldLevel(catalogFilter.getSortField()) != 0) {\n                orderBy.append(paginatedListMasterProductOrderByNomenClature(catalogFilter));\n            }\n\n        }\n\n        if (StringUtils.isNotEmpty(catalogFilter.getTextSearch())) {\n            orderBy.append(paginatedListMasterProductOrderByTextSearch(catalogFilter));\n        }\n\n        return orderBy;\n    }\n    \n    private void setParameterQuery(Query query, Query countQuery,CatalogFilterVO catalogFilter) {\n        // SET PARAMETERS\n        if (StringUtils.isNotEmpty(catalogFilter.getTextSearch())) {\n            query.setParameter(LABEL_LIKE, '%' + catalogFilter.getTextSearch() + '%');\n            query.setParameter(LABEL, catalogFilter.getTextSearch());\n            countQuery.setParameter(LABEL_LIKE, '%' + catalogFilter.getTextSearch() + '%');\n        }\n        if (StringUtils.isNotEmpty(catalogFilter.getNomenclatureCode())) {\n            query.setParameter(NUM_CODE, catalogFilter.getNomenclatureCode() + &quot;%&quot;);\n            countQuery.setParameter(NUM_CODE, catalogFilter.getNomenclatureCode() + &quot;%&quot;);\n        }\n        if (StringUtils.isNotEmpty(catalogFilter.getProductStatus())) {\n            if (catalogFilter.getProductStatus().equals(Product.ProductStatus.ACTIVE.toString())) {\n                query.setParameter(STATUS, Product.ProductStatus.ACTIVE);\n                countQuery.setParameter(STATUS, Product.ProductStatus.ACTIVE);\n            }else {\n                query.setParameter(STATUS, Product.ProductStatus.INACTIVE);\n                countQuery.setParameter(STATUS, Product.ProductStatus.INACTIVE);\n            }\n        }\n    }\n    \n    public MasterProduct checkDuplicateOrangeReference(String orangeReference) {\n        StringBuilder sb = new StringBuilder();\n        sb.append(&quot;SELECT mp &quot;);\n        sb.append(&quot;FROM MasterProduct As mp &quot;);\n        sb.append(&quot;WHERE mp.orangeProductReference =:orangeReference &quot;);\n\n        Query query = createQuery(sb.toString());\n        query.setParameter(&quot;orangeReference&quot;, orangeReference);\n        return find(query);\n    }\n\n    @Override\n    public List&lt;MasterProduct&gt; getAllMasterProductsByNomenclatureCode(CatalogFilterVO catalogFilter) {\n        StringBuilder select = paginatedListMasterProductSelectQuery();\n        StringBuilder join = paginatedListMasterProductJoinQuery(catalogFilter);\n        StringBuilder clause = paginatedListMasterProductClauseQuery(catalogFilter);\n        StringBuilder orderBy = paginatedListMasterProductOrderByAllFieldQuery(catalogFilter);\n        StringBuilder count = paginatedListMasterProductCountQuery();\n\n        String queryString = new StringBuilder().append(select).append(join).append(clause).append(orderBy).toString();\n        Query query = getSessionFactory().getCurrentSession().createQuery(queryString);\n        Query countQuery = createQuery(new StringBuffer().append(count).append(join).append(clause).toString());\n\n        setParameterQuery(query, countQuery, catalogFilter);\n\n        return query.list();\n    }\n}\n\nOn line Query query = getSessionFactory().getCurrentSession().createQuery(queryString);\n</code></pre>\n<p>I got this sonarqube vulnerability issue:  This use of org/hibernate/Session.createQuery(Ljava/lang/String;)Lorg/hibernate/Query; can be vulnerable to SQL/HQL injection (with Hibernate)</p>\n<p>how to fix my vulnerability ? I am using hibernate parameter binding and set values within setParameterQuery.</p>\n<p>What's wrong ?</p>\n"},{"tags":["java","google-play","android-app-signing"],"comments":[{"owner":{"account_id":3504522,"reputation":173,"user_id":2930359,"display_name":"ikool"},"score":2,"creation_date":1687339191,"post_id":76515499,"comment_id":134921713,"body_markdown":"Resolved! using openjdk 11+ instead. https://www.openlogic.com/openjdk-downloads?page=1","body":"Resolved! using openjdk 11+ instead. <a href=\"https://www.openlogic.com/openjdk-downloads?page=1\" rel=\"nofollow noreferrer\">openlogic.com/openjdk-downloads?page=1</a>"},{"owner":{"account_id":1105003,"reputation":130,"user_id":1096590,"display_name":"choster"},"score":0,"creation_date":1692934834,"post_id":76515499,"comment_id":135694942,"body_markdown":"Does this answer your question? [&#39;Cannot find any provider supporting RSA/NONE/OAEPWithSHA1AndMGF1Padding&#39; when trying to enroll to &#39;Let Google Play manage your app signing key&#39;](https://stackoverflow.com/questions/76516045/cannot-find-any-provider-supporting-rsa-none-oaepwithsha1andmgf1padding-when-t)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/76516045/cannot-find-any-provider-supporting-rsa-none-oaepwithsha1andmgf1padding-when-t\">&#39;Cannot find any provider supporting RSA/NONE/OAEPWithSHA1AndMGF1Padding&#39; when trying to enroll to &#39;Let Google Play manage your app signing key&#39;</a>"}],"answers":[{"tags":[],"owner":{"account_id":24747728,"reputation":1,"user_id":18633692,"display_name":"Jean de Montcheuil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695634090,"creation_date":1695634090,"answer_id":77171439,"question_id":76515499,"body_markdown":"Problem is solved using openJDK 15 or higher.\r\nBut it remain to install openJDK. On openJdk website I find many openJDK versions but I do not find any installer tool.\r\nAs I am working with Windows, I find openJDK 17 on Microsoft site https://learn.microsoft.com/en-us/java/openjdk/install\r\nIt can be installed with standard Windows installers (msi or winget). msi failed on my computer, but winget has installed openJDK 17 with success.","title":"Google play pepk.jar exporting private key error","body":"<p>Problem is solved using openJDK 15 or higher.\nBut it remain to install openJDK. On openJdk website I find many openJDK versions but I do not find any installer tool.\nAs I am working with Windows, I find openJDK 17 on Microsoft site <a href=\"https://learn.microsoft.com/en-us/java/openjdk/install\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/java/openjdk/install</a>\nIt can be installed with standard Windows installers (msi or winget). msi failed on my computer, but winget has installed openJDK 17 with success.</p>\n"}],"owner":{"account_id":3504522,"reputation":173,"user_id":2930359,"display_name":"ikool"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2371,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1695634090,"creation_date":1687269398,"question_id":76515499,"body_markdown":"PEPK - Play Encrypt Private Key\r\npepk (Play Encrypt Private Key) is a tool for exporting private keys from a Java Keystore and encrypting them for transfer to Google Play as part of enrolling in App Signing by Google Play.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/bwsw8.png\r\n\r\n\r\nWhen i am run the command line, error occurred:\r\n\r\n    java -jar pepk.jar --keystore=huoshanbox.jks --alias=huoshanbox --output=output.zip --include-cert --rsa-aes-encryption --encryption-key-path=encryption_public_key.pem\r\n        \r\n    Enter password for store &#39;huoshanbox.jks&#39;:\r\n    Enter password for key &#39;huoshanbox&#39;:\r\n    Error: Unable to export or encrypt the private key\r\n    java.security.NoSuchAlgorithmException: Cannot find any provider supporting RSA/NONE/OAEPWithSHA1AndMGF1Padding\r\n    \tat java.base/javax.crypto.Cipher.getInstance(Cipher.java:563)\r\n    \tat com.google.wireless.android.vending.developer.signing.tools.extern.export.ExportEncryptedPrivateKeyTool.encryptPrivateKeyWithCkmRsaAesKeyWrapEncryption(ExportEncryptedPrivateKeyTool.java:284)\r\n    \tat com.google.wireless.android.vending.developer.signing.tools.extern.export.ExportEncryptedPrivateKeyTool.run(ExportEncryptedPrivateKeyTool.java:213)\r\n    \tat com.google.wireless.android.vending.developer.signing.tools.extern.export.ExportEncryptedPrivateKeyTool.main(ExportEncryptedPrivateKeyTool.java:165)\r\n\r\nThis tool requires jdk 11+,i am tried JDK 11, JDK 17, JDK 20, but got the same error.\r\nWhich version of jdk should I use?","title":"Google play pepk.jar exporting private key error","body":"<p>PEPK - Play Encrypt Private Key\npepk (Play Encrypt Private Key) is a tool for exporting private keys from a Java Keystore and encrypting them for transfer to Google Play as part of enrolling in App Signing by Google Play.</p>\n<p><a href=\"https://i.stack.imgur.com/bwsw8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bwsw8.png\" alt=\"enter image description here\" /></a></p>\n<p>When i am run the command line, error occurred:</p>\n<pre><code>java -jar pepk.jar --keystore=huoshanbox.jks --alias=huoshanbox --output=output.zip --include-cert --rsa-aes-encryption --encryption-key-path=encryption_public_key.pem\n    \nEnter password for store 'huoshanbox.jks':\nEnter password for key 'huoshanbox':\nError: Unable to export or encrypt the private key\njava.security.NoSuchAlgorithmException: Cannot find any provider supporting RSA/NONE/OAEPWithSHA1AndMGF1Padding\n    at java.base/javax.crypto.Cipher.getInstance(Cipher.java:563)\n    at com.google.wireless.android.vending.developer.signing.tools.extern.export.ExportEncryptedPrivateKeyTool.encryptPrivateKeyWithCkmRsaAesKeyWrapEncryption(ExportEncryptedPrivateKeyTool.java:284)\n    at com.google.wireless.android.vending.developer.signing.tools.extern.export.ExportEncryptedPrivateKeyTool.run(ExportEncryptedPrivateKeyTool.java:213)\n    at com.google.wireless.android.vending.developer.signing.tools.extern.export.ExportEncryptedPrivateKeyTool.main(ExportEncryptedPrivateKeyTool.java:165)\n</code></pre>\n<p>This tool requires jdk 11+,i am tried JDK 11, JDK 17, JDK 20, but got the same error.\nWhich version of jdk should I use?</p>\n"},{"tags":["java","compareto"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1695535702,"post_id":77165889,"comment_id":136035829,"body_markdown":"I would suggest printing the values of `fir` and `sec`, to see if they are actually the same string somehow. `String.compareTo` is a built-in method, and definitely works.","body":"I would suggest printing the values of <code>fir</code> and <code>sec</code>, to see if they are actually the same string somehow. <code>String.compareTo</code> is a built-in method, and definitely works."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1695535763,"post_id":77165889,"comment_id":136035834,"body_markdown":"The problem is in `isValidString()`. The method returns `&quot;&quot;`. Which is a valid string. And empty. And since you call it twice, `fir` does in fact equal `sec`. That&#39;s my **guess** anyway. If I&#39;m wrong, post that method and tell us what input you are using. So we can actually reproduce the problem. Instead of guessing. Thank you.","body":"The problem is in <code>isValidString()</code>. The method returns <code>&quot;&quot;</code>. Which is a valid string. And empty. And since you call it twice, <code>fir</code> does in fact equal <code>sec</code>. That&#39;s my <b>guess</b> anyway. If I&#39;m wrong, post that method and tell us what input you are using. So we can actually reproduce the problem. Instead of guessing. Thank you."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":3,"creation_date":1695536831,"post_id":77165889,"comment_id":136035920,"body_markdown":"Please read: [How to debug small programs (`https://ericlippert.com/`)](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/)","body":"Please read: <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs (<code>https:&#47;&#47;ericlippert.com&#47;</code>)</a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":5,"creation_date":1695536841,"post_id":77165889,"comment_id":136035923,"body_markdown":"I see that you have the &quot;informed&quot; badge so I assume that you read [ask] and saw the part about posting a [mcve]. Unfortunately, your question only contains part of your code where you think the problem is. In order for me to help you debug your code, I need you to post code that reproduces your problem. I suggest that you [edit] your question and post a reproducible example.","body":"I see that you have the &quot;informed&quot; badge so I assume that you read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and saw the part about posting a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Unfortunately, your question only contains part of your code where you think the problem is. In order for me to help you debug your code, I need you to post code that reproduces your problem. I suggest that you <a href=\"https://stackoverflow.com/posts/77165889/edit\">edit</a> your question and post a reproducible example."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":2,"creation_date":1695544561,"post_id":77165889,"comment_id":136036520,"body_markdown":"“the isValidString() is another method I have that works perfectly for other methods in this class, so I don&#39;t think that is the problem” try replacing the calls to `isValidString` with hardcoded string literals and see if the problem still happens. If not, then the problem is in `isValidString`.","body":"“the isValidString() is another method I have that works perfectly for other methods in this class, so I don&#39;t think that is the problem” try replacing the calls to <code>isValidString</code> with hardcoded string literals and see if the problem still happens. If not, then the problem is in <code>isValidString</code>."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1695590686,"post_id":77165889,"comment_id":136041160,"body_markdown":"https://stackoverflow.com/a/13102066/29470","body":"<a href=\"https://stackoverflow.com/a/13102066/29470\">stackoverflow.com/a/13102066/29470</a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1695631306,"post_id":77165889,"comment_id":136045100,"body_markdown":"Refer to this SO question (and answers): [Scanner is skipping nextLine() after using next() or nextFoo()?](https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo) After calling method [nextDouble](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Scanner.html#nextDouble()) and before calling method `nextLine`, you need an extra call to method `nextLine`. The linked question will explain why.","body":"Refer to this SO question (and answers): <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">Scanner is skipping nextLine() after using next() or nextFoo()?</a> After calling method <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Scanner.html#nextDouble()\" rel=\"nofollow noreferrer\">nextDouble</a> and before calling method <code>nextLine</code>, you need an extra call to method <code>nextLine</code>. The linked question will explain why."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":6,"up_vote_count":0,"is_accepted":false,"score":-6,"last_activity_date":1695546849,"creation_date":1695546849,"answer_id":77166414,"question_id":77165889,"body_markdown":"&gt; _&quot;... compare the user&#39;s first name and last name, and output which comes first alphabetically. I am able to write the code and make everything lowercase and use the .compareTo to get an integer ...&quot;_\r\n\r\nUse the _[compareToIgnoreCase](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#compareToIgnoreCase(java.lang.String))_ instead.\r\n\r\n```java\r\nString a = &quot;789&quot;, b = &quot;123&quot;;\r\nint i = Integer.compare(a.compareToIgnoreCase(b), 0);\r\nString s = a + switch (i) {\r\n    case -1 -&gt; &#39;&lt;&#39;;\r\n    case 0 -&gt; &#39;=&#39;;\r\n    default -&gt; &#39;&gt;&#39;;\r\n} + b;\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nabc&lt;xyz\r\n```","title":"Why does the validation on my compareTo method make the output wrong?","body":"<blockquote>\n<p><em>&quot;... compare the user's first name and last name, and output which comes first alphabetically. I am able to write the code and make everything lowercase and use the .compareTo to get an integer ...&quot;</em></p>\n</blockquote>\n<p>Use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#compareToIgnoreCase(java.lang.String)\" rel=\"nofollow noreferrer\">compareToIgnoreCase</a></em> instead.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String a = &quot;789&quot;, b = &quot;123&quot;;\nint i = Integer.compare(a.compareToIgnoreCase(b), 0);\nString s = a + switch (i) {\n    case -1 -&gt; '&lt;';\n    case 0 -&gt; '=';\n    default -&gt; '&gt;';\n} + b;\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>abc&lt;xyz\n</code></pre>\n"}],"owner":{"account_id":29462540,"reputation":9,"user_id":22577001,"display_name":"Topy"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1695632835,"answer_count":1,"score":-2,"last_activity_date":1695632827,"creation_date":1695535441,"question_id":77165889,"body_markdown":"For homework one of my methods has to compare the user&#39;s first name and last name, and output which comes first alphabetically. I am able to write the code and make everything lowercase and use the `compareTo` to get an integer, and it works just fine. But when I purposely input a number, the validation somehow makes the output always go to &quot;they both equal each other&quot; when they do not equal each other.\r\n\r\n    public static void alpha() {\r\n        //takes two names, makes them lowercase, and sorts them using uniCode\r\n        System.out.println(&quot;Please input the first name you want me to organize.&quot;);\r\n        String firstC = isValidString();\r\n        String fir = firstC.toLowerCase();\r\n        \r\n        System.out.println(&quot;Please input the second name you want me to organize.&quot;);\r\n        String secondC = isValidString();\r\n        String sec = secondC.toLowerCase();\r\n        \r\n        int uniOut = fir.compareTo(sec);\r\n        if (uniOut &gt; 0) {\r\n            System.out.printf(&quot;%s is first alphabetically&quot;, secondC);\r\n        } else if (uniOut &lt; 0) {\r\n            System.out.printf(&quot;%s is first alphabetically&quot;, firstC);\r\n        } else {\r\n            System.out.println(&quot;Those names are the same.&quot;);\r\n        }\r\n    }\r\n\r\n    public static String isValidString() {\r\n        //validates input as a string and has the user continue to input until it is a string\r\n        Scanner in = new Scanner(System.in);\r\n        while (in.hasNextDouble()) {\r\n            double input = in.nextDouble();\r\n            System.out.printf(&quot;%f is not a valid input, please try again.\\n&quot;, input);\r\n        }\r\n        String s = in.nextLine();\r\n        return s;\r\n    }\r\n\r\nThe `isValidString()` is another method I have that works perfectly for the other methods in this class, so I don&#39;t think that is the problem.\r\n\r\nI have tried changing the  `}else{`  to an  `}else if{`  to specify that both strings equal each other and I had a &#39;buffer&#39; else, and the output still said that the strings were equal.\r\n\r\nI tried to input one string correctly the first time, and try the validation on the other (in both ways), but that also gave a weird output, where it would say &quot; is first alphabetically&quot;. I do not know why the validation is making the variables act weird, but I cannot think of a way to fix this.\r\n","title":"Why does the validation on my compareTo method make the output wrong?","body":"<p>For homework one of my methods has to compare the user's first name and last name, and output which comes first alphabetically. I am able to write the code and make everything lowercase and use the <code>compareTo</code> to get an integer, and it works just fine. But when I purposely input a number, the validation somehow makes the output always go to &quot;they both equal each other&quot; when they do not equal each other.</p>\n<pre><code>public static void alpha() {\n    //takes two names, makes them lowercase, and sorts them using uniCode\n    System.out.println(&quot;Please input the first name you want me to organize.&quot;);\n    String firstC = isValidString();\n    String fir = firstC.toLowerCase();\n    \n    System.out.println(&quot;Please input the second name you want me to organize.&quot;);\n    String secondC = isValidString();\n    String sec = secondC.toLowerCase();\n    \n    int uniOut = fir.compareTo(sec);\n    if (uniOut &gt; 0) {\n        System.out.printf(&quot;%s is first alphabetically&quot;, secondC);\n    } else if (uniOut &lt; 0) {\n        System.out.printf(&quot;%s is first alphabetically&quot;, firstC);\n    } else {\n        System.out.println(&quot;Those names are the same.&quot;);\n    }\n}\n\npublic static String isValidString() {\n    //validates input as a string and has the user continue to input until it is a string\n    Scanner in = new Scanner(System.in);\n    while (in.hasNextDouble()) {\n        double input = in.nextDouble();\n        System.out.printf(&quot;%f is not a valid input, please try again.\\n&quot;, input);\n    }\n    String s = in.nextLine();\n    return s;\n}\n</code></pre>\n<p>The <code>isValidString()</code> is another method I have that works perfectly for the other methods in this class, so I don't think that is the problem.</p>\n<p>I have tried changing the  <code>}else{</code>  to an  <code>}else if{</code>  to specify that both strings equal each other and I had a 'buffer' else, and the output still said that the strings were equal.</p>\n<p>I tried to input one string correctly the first time, and try the validation on the other (in both ways), but that also gave a weird output, where it would say &quot; is first alphabetically&quot;. I do not know why the validation is making the variables act weird, but I cannot think of a way to fix this.</p>\n"},{"tags":["java","while-loop","java.util.scanner"],"comments":[{"owner":{"account_id":1183049,"reputation":5081,"user_id":1157544,"accept_rate":100,"display_name":"Lucas"},"score":1,"creation_date":1332394546,"post_id":9816965,"comment_id":12505907,"body_markdown":"Can you put some error checking prints in the two while loops and tell me which one it gets stuck in?","body":"Can you put some error checking prints in the two while loops and tell me which one it gets stuck in?"},{"owner":{"account_id":1340915,"reputation":61,"user_id":1282579,"display_name":"mPierce"},"score":0,"creation_date":1332485208,"post_id":9816965,"comment_id":12532414,"body_markdown":"I tried putting prints in each loop, but it doesn&#39;t seem to loop infinitely, instead its more like the outer while loop is waiting infinitely for more input","body":"I tried putting prints in each loop, but it doesn&#39;t seem to loop infinitely, instead its more like the outer while loop is waiting infinitely for more input"},{"owner":{"account_id":1183049,"reputation":5081,"user_id":1157544,"accept_rate":100,"display_name":"Lucas"},"score":0,"creation_date":1332518913,"post_id":9816965,"comment_id":12543332,"body_markdown":"someone figured that out below.","body":"someone figured that out below."},{"owner":{"account_id":43022,"reputation":22842,"user_id":125562,"accept_rate":64,"display_name":"Basilevs"},"score":2,"creation_date":1410016024,"post_id":9816965,"comment_id":40173380,"body_markdown":"possible duplicate of [How to terminate Scanner when input is complete?](http://stackoverflow.com/questions/16206813/how-to-terminate-scanner-when-input-is-complete)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/16206813/how-to-terminate-scanner-when-input-is-complete\">How to terminate Scanner when input is complete?</a>"}],"answers":[{"tags":[],"owner":{"account_id":1137788,"reputation":8043,"user_id":1122476,"accept_rate":86,"display_name":"Shashank Kadne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1332485350,"creation_date":1332395264,"answer_id":9817094,"question_id":9816965,"body_markdown":"You are reading from an Infinite stream in this case. `hasNextLine()` will keep returning true if there is another line in the input of this scanner. As its a `System.in`, it will keep reading from the Keyboard, unless you terminate it or tell the stream to stop.\r\n\r\nPress &quot;ctrl+Z&quot; in the end, you will see that it works.\r\n\r\n**Edit** : You could do something like this...\r\n\r\n    Scanner scanner = new Scanner(System.in);   //scanner reads block of input\r\n    \t    int BLOCK_SIZE  =3,count=1;\r\n    \t\twhile(scanner.hasNextLine()){    \r\n    \t        //body of loop goes here\r\n    \t        String s = scanner.nextLine();\r\n    \t        Scanner ls = new Scanner(s);   //scanner to parse a line of input\r\n    \t        while(ls.hasNext()){\r\n    \t        //body of nested loop goes here\r\n    \t        ls.next();\r\n    \t        }\r\n    \t        if(count++==BLOCK_SIZE)\r\n    \t        {\r\n    \t        \tbreak;\r\n    \t        }\r\n    \t    }\r\n    \t    System.out.println(&quot;Fin&quot;);\r\n    \t\t\r\n    \t}","title":"Java Scanner won&#39;t &quot;finish&quot; reading input","body":"<p>You are reading from an Infinite stream in this case. <code>hasNextLine()</code> will keep returning true if there is another line in the input of this scanner. As its a <code>System.in</code>, it will keep reading from the Keyboard, unless you terminate it or tell the stream to stop.</p>\n\n<p>Press \"ctrl+Z\" in the end, you will see that it works.</p>\n\n<p><strong>Edit</strong> : You could do something like this...</p>\n\n<pre><code>Scanner scanner = new Scanner(System.in);   //scanner reads block of input\n        int BLOCK_SIZE  =3,count=1;\n        while(scanner.hasNextLine()){    \n            //body of loop goes here\n            String s = scanner.nextLine();\n            Scanner ls = new Scanner(s);   //scanner to parse a line of input\n            while(ls.hasNext()){\n            //body of nested loop goes here\n            ls.next();\n            }\n            if(count++==BLOCK_SIZE)\n            {\n                break;\n            }\n        }\n        System.out.println(\"Fin\");\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1064596,"reputation":5404,"user_id":1065489,"accept_rate":52,"display_name":"me_digvijay"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1332395393,"creation_date":1332395393,"answer_id":9817111,"question_id":9816965,"body_markdown":"As I can see in your outer while loop you have used\r\n\r\n    scanner.hasNextLine();\r\nmethod. This method gets blocked if it has to wait for the input. Also you have \r\n\r\n    Scanner scanner = new Scanner(System.in);\r\nstatement. So the system.in will be waiting for input all the time, hence the hasNextLine() method has to wait for the input.\r\nThat is why the control gets stuck in the loop and can&#39;t proceed further.\r\n\r\nTo fix it you can first store input in a string variable and the call the scanner constructor on it.","title":"Java Scanner won&#39;t &quot;finish&quot; reading input","body":"<p>As I can see in your outer while loop you have used</p>\n\n<pre><code>scanner.hasNextLine();\n</code></pre>\n\n<p>method. This method gets blocked if it has to wait for the input. Also you have </p>\n\n<pre><code>Scanner scanner = new Scanner(System.in);\n</code></pre>\n\n<p>statement. So the system.in will be waiting for input all the time, hence the hasNextLine() method has to wait for the input.\nThat is why the control gets stuck in the loop and can't proceed further.</p>\n\n<p>To fix it you can first store input in a string variable and the call the scanner constructor on it.</p>\n"},{"tags":[],"owner":{"account_id":251932,"reputation":37692,"user_id":529630,"accept_rate":86,"display_name":"Dunes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1332487670,"creation_date":1332487670,"answer_id":9835489,"question_id":9816965,"body_markdown":"You need to tell the program that there is going to be no more input. This is done by appending an EOF character. This can be done manually on Linux by pressing Ctrl-D in the console. I think on Windows you can press Ctrl-Z. The stream will be automatically closed if you are piping input from one program to another.\r\n\r\neg.\r\n\r\n    cat filename | java MyJavaProgram","title":"Java Scanner won&#39;t &quot;finish&quot; reading input","body":"<p>You need to tell the program that there is going to be no more input. This is done by appending an EOF character. This can be done manually on Linux by pressing Ctrl-D in the console. I think on Windows you can press Ctrl-Z. The stream will be automatically closed if you are piping input from one program to another.</p>\n\n<p>eg.</p>\n\n<pre><code>cat filename | java MyJavaProgram\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1521044,"reputation":12075,"user_id":1420684,"accept_rate":66,"display_name":"Mirror318"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1366240679,"creation_date":1366240679,"answer_id":16071887,"question_id":9816965,"body_markdown":"The magic of\r\n\r\n    Scanner scanner = new Scanner(System.in);\r\n        while(scanner.hasNextLine()){ \r\n\r\nIs that there will never stop being input from System (unless you close the input with ctrl+d (for macs)).\r\n\r\nTo stop the loop, I suggest throw something more in the condition than just hasNextLine().\r\n\r\nE.g.\r\n\r\n    Scanner scanner = new Scanner(System.in);   //scanner reads block of input\r\n        int BLOCK_SIZE  =3,count=1;\r\n        while(scanner.hasNextLine() &amp;&amp; count++ &lt;= BLOCK_SIZE){   //&lt;- Use count here.\r\n            //body of loop goes here\r\n            String s = scanner.nextLine();\r\n            Scanner ls = new Scanner(s);   //scanner to parse a line of input\r\n            while(ls.hasNext()){\r\n            //body of nested loop goes here\r\n            ls.next();\r\n            }\r\n        }\r\n        System.out.println(&quot;Fin&quot;);\r\n\r\n    }","title":"Java Scanner won&#39;t &quot;finish&quot; reading input","body":"<p>The magic of</p>\n\n<pre><code>Scanner scanner = new Scanner(System.in);\n    while(scanner.hasNextLine()){ \n</code></pre>\n\n<p>Is that there will never stop being input from System (unless you close the input with ctrl+d (for macs)).</p>\n\n<p>To stop the loop, I suggest throw something more in the condition than just hasNextLine().</p>\n\n<p>E.g.</p>\n\n<pre><code>Scanner scanner = new Scanner(System.in);   //scanner reads block of input\n    int BLOCK_SIZE  =3,count=1;\n    while(scanner.hasNextLine() &amp;&amp; count++ &lt;= BLOCK_SIZE){   //&lt;- Use count here.\n        //body of loop goes here\n        String s = scanner.nextLine();\n        Scanner ls = new Scanner(s);   //scanner to parse a line of input\n        while(ls.hasNext()){\n        //body of nested loop goes here\n        ls.next();\n        }\n    }\n    System.out.println(\"Fin\");\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12490223,"reputation":11,"user_id":9092024,"display_name":"Senozoid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682493477,"creation_date":1682493477,"answer_id":76108102,"question_id":9816965,"body_markdown":"How do you know when the user has finished with the inputs and the next &quot;Enter&quot; is supposed to not signify a new line of input, but the end of the inputs? \\\r\nYou can try counting the number of lines and breaking out of the loop after a maximum. Or you can look for a specific input like &quot;submit&quot; to break out of the loop.\r\nOtherwise, with `scanner.hasNextLine()`, the program considers every carriage return to be a new line, hence the condition never fails.\r\n\r\n","title":"Java Scanner won&#39;t &quot;finish&quot; reading input","body":"<p>How do you know when the user has finished with the inputs and the next &quot;Enter&quot; is supposed to not signify a new line of input, but the end of the inputs? <br />\nYou can try counting the number of lines and breaking out of the loop after a maximum. Or you can look for a specific input like &quot;submit&quot; to break out of the loop.\nOtherwise, with <code>scanner.hasNextLine()</code>, the program considers every carriage return to be a new line, hence the condition never fails.</p>\n"}],"owner":{"account_id":1340915,"reputation":61,"user_id":1282579,"display_name":"mPierce"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20919,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":5,"score":6,"last_activity_date":1695632555,"creation_date":1332394376,"question_id":9816965,"body_markdown":"I&#39;ve been having trouble using java&#39;s Scanner class. I can get it to read my input just fine, but the problem is when I want to output something. Given multiple lines of input, I want to print just ONE line when all the input has been read completely. Here&#39;s the code I use for reading input:\r\n        \r\n        public static void main(String[] args){\r\n\t    Scanner scanner = new Scanner(System.in);   //scanner reads block of input\r\n        while(scanner.hasNextLine()){    \r\n            //body of loop goes here\r\n            String s = scanner.nextLine();\r\n            Scanner ls = new Scanner(s);   //scanner to parse a line of input\r\n            while(ls.hasNext()){\r\n            //body of nested loop goes here\r\n            ls.next();\r\n            }\r\n        }\r\n        System.out.println(&quot;Fin&quot;);\r\n        }\r\n\r\n\r\nEven when all lines of input have been read, the program doesn&#39;t reach the System.out.println message. (Note that the message can&#39;t go anywhere else or it will output as many times as the loop is run). How do I fix this? Any help would be greatly appreciated.","title":"Java Scanner won&#39;t &quot;finish&quot; reading input","body":"<p>I've been having trouble using java's Scanner class. I can get it to read my input just fine, but the problem is when I want to output something. Given multiple lines of input, I want to print just ONE line when all the input has been read completely. Here's the code I use for reading input:</p>\n\n<pre><code>    public static void main(String[] args){\n    Scanner scanner = new Scanner(System.in);   //scanner reads block of input\n    while(scanner.hasNextLine()){    \n        //body of loop goes here\n        String s = scanner.nextLine();\n        Scanner ls = new Scanner(s);   //scanner to parse a line of input\n        while(ls.hasNext()){\n        //body of nested loop goes here\n        ls.next();\n        }\n    }\n    System.out.println(\"Fin\");\n    }\n</code></pre>\n\n<p>Even when all lines of input have been read, the program doesn't reach the System.out.println message. (Note that the message can't go anywhere else or it will output as many times as the loop is run). How do I fix this? Any help would be greatly appreciated.</p>\n"},{"tags":["java","selenium-webdriver","accessibility","deque","axe"],"comments":[{"owner":{"account_id":29522323,"reputation":1,"user_id":22624811,"display_name":"Asadrazamahmood"},"score":0,"creation_date":1695566517,"post_id":77167547,"comment_id":136038572,"body_markdown":"The only way to save myself from this error is disableIframeTesting() .so please tell me the solution with out disableIframeTesting().","body":"The only way to save myself from this error is disableIframeTesting() .so please tell me the solution with out disableIframeTesting()."},{"owner":{"account_id":29522323,"reputation":1,"user_id":22624811,"display_name":"Asadrazamahmood"},"score":0,"creation_date":1695566582,"post_id":77167547,"comment_id":136038577,"body_markdown":"Results axeResult = new AxeBuilder().analyze(driver);\nThis line gives me below error  &quot;Error when enabling iframe communication&quot;","body":"Results axeResult = new AxeBuilder().analyze(driver); This line gives me below error  &quot;Error when enabling iframe communication&quot;"}],"owner":{"account_id":29522323,"reputation":1,"user_id":22624811,"display_name":"Asadrazamahmood"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695632142,"creation_date":1695566342,"question_id":77167547,"body_markdown":"```\r\npublic void anyAccessibilityWithCustomReport() throws InterruptedException {\r\n       \r\n    Results axeResult = new AxeBuilder().disableIframeTesting().analyze(driver);\r\n    \r\n    Assertions.assertTrue(axeResult.violationFree(), buildCustomReport(axeResult));\r\n}\r\n```\r\n\r\nThe error is on this line.\r\n\r\n```\r\nResults axeResult = new AxeBuilder().analyze(driver);\r\n```\r\n\r\nAnd the error says the following.\r\n\r\n```\r\nError when enabling iframe communication\r\n```\r\n\r\nI am using the above code, but sometimes my test cases become quite flaky. When that happens, I get the above error. I am using the latest version of axe core 4.7.0 . Can anyone give me any suggestions on how to remove this error?","title":"I am getting this error &quot;Error when enabling iframe communication&quot; when try to run accessibility script","body":"<pre><code>public void anyAccessibilityWithCustomReport() throws InterruptedException {\n       \n    Results axeResult = new AxeBuilder().disableIframeTesting().analyze(driver);\n    \n    Assertions.assertTrue(axeResult.violationFree(), buildCustomReport(axeResult));\n}\n</code></pre>\n<p>The error is on this line.</p>\n<pre><code>Results axeResult = new AxeBuilder().analyze(driver);\n</code></pre>\n<p>And the error says the following.</p>\n<pre><code>Error when enabling iframe communication\n</code></pre>\n<p>I am using the above code, but sometimes my test cases become quite flaky. When that happens, I get the above error. I am using the latest version of axe core 4.7.0 . Can anyone give me any suggestions on how to remove this error?</p>\n"},{"tags":["java","hibernate","jpa","keycloak","quarkus"],"answers":[{"tags":[],"owner":{"account_id":15454135,"reputation":117,"user_id":11148741,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695632113,"creation_date":1695632113,"answer_id":77171204,"question_id":77153094,"body_markdown":"The solution is quite obvious but sometimes one  does not to see the wood for the trees:\r\n\r\nThe config metadata has to be configured with and to be returned from the\r\n`public List&lt;ProviderConfigProperty&gt; getConfigProperties()` Method within the `UserStorageProviderFactory`\r\n\r\nThen the name of the datasource (persistent unit) e.g. my-user-store which must be filled when the instance of the Provider is created/configured. The name then can be passed to the constructor of the `UserStorageProvider` which then can initialize the entity manager with\r\n\r\n`em = session.getProvider(JpaConnectionProvider.class, datasourceName).getEntityManager();`\r\n\r\nWithin quarkus.properties and persistence.xml all datasources that should be used are configured.\r\nThe schema is set with `quarkus.datasource.my-user-store.jdbc.new-connection-sql=SET search_path TO my-schema`\r\n\r\n\r\n","title":"How to use a configurable schema name in Keycloak User Storage SPI / Quarkus","body":"<p>The solution is quite obvious but sometimes one  does not to see the wood for the trees:</p>\n<p>The config metadata has to be configured with and to be returned from the\n<code>public List&lt;ProviderConfigProperty&gt; getConfigProperties()</code> Method within the <code>UserStorageProviderFactory</code></p>\n<p>Then the name of the datasource (persistent unit) e.g. my-user-store which must be filled when the instance of the Provider is created/configured. The name then can be passed to the constructor of the <code>UserStorageProvider</code> which then can initialize the entity manager with</p>\n<p><code>em = session.getProvider(JpaConnectionProvider.class, datasourceName).getEntityManager();</code></p>\n<p>Within quarkus.properties and persistence.xml all datasources that should be used are configured.\nThe schema is set with <code>quarkus.datasource.my-user-store.jdbc.new-connection-sql=SET search_path TO my-schema</code></p>\n"}],"owner":{"account_id":15454135,"reputation":117,"user_id":11148741,"display_name":"Matt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77171204,"answer_count":1,"score":0,"last_activity_date":1695632113,"creation_date":1695324133,"question_id":77153094,"body_markdown":"I am implementing a custom user storage provider which gets the user data from an external PostgreSQL database. Since I have several schemas I want to create 2 instances of that provider where I am using the schema name to query the database. \r\n\r\nI am about to use [this][1] example which is using quarkus and JPA(Hibernate) to encapsulate the database access. \r\n\r\nHow can I set the schema (within UserEntity?) programmatically to achieve that.  \r\n\r\nThanks and Regards\r\nmatt\r\n\r\n  [1]: https://github.com/keycloak/keycloak-quickstarts/tree/latest/extension/user-storage-jpa","title":"How to use a configurable schema name in Keycloak User Storage SPI / Quarkus","body":"<p>I am implementing a custom user storage provider which gets the user data from an external PostgreSQL database. Since I have several schemas I want to create 2 instances of that provider where I am using the schema name to query the database.</p>\n<p>I am about to use <a href=\"https://github.com/keycloak/keycloak-quickstarts/tree/latest/extension/user-storage-jpa\" rel=\"nofollow noreferrer\">this</a> example which is using quarkus and JPA(Hibernate) to encapsulate the database access.</p>\n<p>How can I set the schema (within UserEntity?) programmatically to achieve that.</p>\n<p>Thanks and Regards\nmatt</p>\n"},{"tags":["java","android-view"],"comments":[{"owner":{"account_id":21866301,"reputation":3729,"user_id":16217248,"display_name":"user16217248"},"score":0,"creation_date":1686879186,"post_id":76486138,"comment_id":134862348,"body_markdown":"Does this answer your question? [Java: instanceof Generic](https://stackoverflow.com/questions/4704902/java-instanceof-generic)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4704902/java-instanceof-generic\">Java: instanceof Generic</a>"},{"owner":{"account_id":66042,"reputation":5303,"user_id":193980,"accept_rate":48,"display_name":"Phlip"},"score":0,"creation_date":1686927667,"post_id":76486138,"comment_id":134870337,"body_markdown":"see the edits..","body":"see the edits.."},{"owner":{"account_id":66042,"reputation":5303,"user_id":193980,"accept_rate":48,"display_name":"Phlip"},"score":0,"creation_date":1687041789,"post_id":76486138,"comment_id":134882293,"body_markdown":"also I think someone declared this a duplicate without trying it. This version has no object of type T. They do.","body":"also I think someone declared this a duplicate without trying it. This version has no object of type T. They do."},{"owner":{"account_id":340590,"reputation":985,"user_id":670693,"display_name":"justhecuke"},"score":0,"creation_date":1687050999,"post_id":76486138,"comment_id":134882838,"body_markdown":"It&#39;s usually a red flag in your question when you state that you&#39;ve hit an error but then don&#39;t provide what that error is.","body":"It&#39;s usually a red flag in your question when you state that you&#39;ve hit an error but then don&#39;t provide what that error is."}],"answers":[{"tags":[],"owner":{"account_id":3480738,"reputation":1361,"user_id":2912870,"display_name":"John Spong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686939308,"creation_date":1686939308,"answer_id":76492708,"question_id":76486138,"body_markdown":"Java works using type erasure for generics, so the bytecode representation of the class has `java.lang.Object` as the type for `T`, so the instanceof will be true for any object and the compiler rejects.\r\n\r\nSimplest fix is to add a `Class&lt;? extends T&gt;` argument and use runtime reflection using the class object directly","title":"generic function to traverse a View hierarchy and find contained Views of a specific type","body":"<p>Java works using type erasure for generics, so the bytecode representation of the class has <code>java.lang.Object</code> as the type for <code>T</code>, so the instanceof will be true for any object and the compiler rejects.</p>\n<p>Simplest fix is to add a <code>Class&lt;? extends T&gt;</code> argument and use runtime reflection using the class object directly</p>\n"},{"tags":[],"owner":{"account_id":340590,"reputation":985,"user_id":670693,"display_name":"justhecuke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695583706,"creation_date":1687057650,"answer_id":76498892,"question_id":76486138,"body_markdown":"I think you&#39;re making this more complicated than it needs to be. The simplest solution is just to pass in the class that you&#39;re looking for.\r\n\r\nAs a general rule, if you find that you need type information that isn&#39;t available, then pass it in. Much like you would do for any other information that a method needs.\r\n\r\nWorking with generic type information is always tricky because of type erasure, as others have stated. It&#39;s generally best to pass in the class explicitly in these situations. If you absolutely need to know what the generic type of something is, then you can do what GSON does and use a subclass wrapper to access the superclass&#39;s generic information via `SubClass.class.getGenericSuperclass()`. But this is a bad idea which introduces bloat and is non-intuitive.\r\n\r\nI would also suggest that checking runtime type information is a code smell. You should do what you can to avoid this stuff since it makes it harder to optimize (cannot merge classes, for example) and is inherently fragile. Try to see if you can accomplish the same work with an interface default method, an abstract base class, or something similar. If at all possible, use standard OOP methods to do the work and avoid explicitly relying on runtime type information.\r\n\r\n```java\r\n// Aim for something like this which is common in Android-land.\r\nfindEachView(main.popupForm, EditText.class, (EditText v) -&gt; { ... });\r\n\r\nstatic &lt;T extends View&gt; void findEachView(\r\n         @NonNull ViewGroup viewGroup,\r\n         @NonNull Class&lt;T&gt; clz,\r\n         @NonNull Consumer&lt;? super T&gt; visitor) {\r\n  ...\r\n  if (clz.isInstance(v)) {\r\n    // do stuff\r\n  }\r\n  ...\r\n}\r\n\r\n```\r\n\r\n----\r\n\r\nThanks! I&#39;m going to add my working code to your answer so you get the experience points.\r\n\r\nMy previous code used string surgery to match the class name, so I was trying to take that argument out:\r\n\r\n        findEachView(\r\n                viewGroup,\r\n                &quot;EditText&quot;,\r\n                (view) -&gt; ((EditText) view).setError(null));\r\n\r\nYour fix allows a call like this, which is indeed cleaner because it has one fewer typecast:\r\n\r\n        findEachView(\r\n                viewGroup,\r\n                EditText.class,\r\n                (view) -&gt; view.setError(null));\r\n\r\nSo the winning code is:\r\n\r\n    static &lt;T extends View&gt; void findEachView(\r\n                                     @NonNull ViewGroup view,\r\n                                     Class&lt;T&gt; clz,\r\n                                     @NonNull Consumer&lt;? super T&gt; visitor) {\r\n        for (int i = 0; i &lt; view.getChildCount(); i++) {\r\n            View v = view.getChildAt(i);\r\n\r\n            if (clz.isInstance(v))\r\n                visitor.accept((T) v);  //  this cast gives a warning that the committee will ignore\r\n\r\n            if (v instanceof ViewGroup)\r\n                findEachView((ViewGroup) v, clz, visitor);\r\n        }\r\n    }  //  note this does not visit the top level item\r\n\r\nOne last edit: The lambda call is too clever; we should just return a list. ChatGPT offered this:\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public static &lt;T&gt; List&lt;T&gt; findViewDescendants(ViewGroup root, Class&lt;T&gt; targetClass) {\r\n        List&lt;T&gt; descendants = new ArrayList&lt;&gt;();\r\n        int childCount = root.getChildCount();\r\n\r\n        for (int i = 0; i &lt; childCount; i++) {\r\n            View child = root.getChildAt(i);\r\n\r\n            if (targetClass.isInstance(child))\r\n                descendants.add((T) child);  //  this cast gives a warning that the committee will ignore\r\n\r\n            if (child instanceof ViewGroup)\r\n                descendants.addAll(findViewDescendants((ViewGroup) child, targetClass));\r\n        }\r\n\r\n        return descendants;\r\n    }","title":"generic function to traverse a View hierarchy and find contained Views of a specific type","body":"<p>I think you're making this more complicated than it needs to be. The simplest solution is just to pass in the class that you're looking for.</p>\n<p>As a general rule, if you find that you need type information that isn't available, then pass it in. Much like you would do for any other information that a method needs.</p>\n<p>Working with generic type information is always tricky because of type erasure, as others have stated. It's generally best to pass in the class explicitly in these situations. If you absolutely need to know what the generic type of something is, then you can do what GSON does and use a subclass wrapper to access the superclass's generic information via <code>SubClass.class.getGenericSuperclass()</code>. But this is a bad idea which introduces bloat and is non-intuitive.</p>\n<p>I would also suggest that checking runtime type information is a code smell. You should do what you can to avoid this stuff since it makes it harder to optimize (cannot merge classes, for example) and is inherently fragile. Try to see if you can accomplish the same work with an interface default method, an abstract base class, or something similar. If at all possible, use standard OOP methods to do the work and avoid explicitly relying on runtime type information.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Aim for something like this which is common in Android-land.\nfindEachView(main.popupForm, EditText.class, (EditText v) -&gt; { ... });\n\nstatic &lt;T extends View&gt; void findEachView(\n         @NonNull ViewGroup viewGroup,\n         @NonNull Class&lt;T&gt; clz,\n         @NonNull Consumer&lt;? super T&gt; visitor) {\n  ...\n  if (clz.isInstance(v)) {\n    // do stuff\n  }\n  ...\n}\n\n</code></pre>\n<hr />\n<p>Thanks! I'm going to add my working code to your answer so you get the experience points.</p>\n<p>My previous code used string surgery to match the class name, so I was trying to take that argument out:</p>\n<pre><code>    findEachView(\n            viewGroup,\n            &quot;EditText&quot;,\n            (view) -&gt; ((EditText) view).setError(null));\n</code></pre>\n<p>Your fix allows a call like this, which is indeed cleaner because it has one fewer typecast:</p>\n<pre><code>    findEachView(\n            viewGroup,\n            EditText.class,\n            (view) -&gt; view.setError(null));\n</code></pre>\n<p>So the winning code is:</p>\n<pre><code>static &lt;T extends View&gt; void findEachView(\n                                 @NonNull ViewGroup view,\n                                 Class&lt;T&gt; clz,\n                                 @NonNull Consumer&lt;? super T&gt; visitor) {\n    for (int i = 0; i &lt; view.getChildCount(); i++) {\n        View v = view.getChildAt(i);\n\n        if (clz.isInstance(v))\n            visitor.accept((T) v);  //  this cast gives a warning that the committee will ignore\n\n        if (v instanceof ViewGroup)\n            findEachView((ViewGroup) v, clz, visitor);\n    }\n}  //  note this does not visit the top level item\n</code></pre>\n<p>One last edit: The lambda call is too clever; we should just return a list. ChatGPT offered this:</p>\n<pre><code>@SuppressWarnings(&quot;unchecked&quot;)\npublic static &lt;T&gt; List&lt;T&gt; findViewDescendants(ViewGroup root, Class&lt;T&gt; targetClass) {\n    List&lt;T&gt; descendants = new ArrayList&lt;&gt;();\n    int childCount = root.getChildCount();\n\n    for (int i = 0; i &lt; childCount; i++) {\n        View child = root.getChildAt(i);\n\n        if (targetClass.isInstance(child))\n            descendants.add((T) child);  //  this cast gives a warning that the committee will ignore\n\n        if (child instanceof ViewGroup)\n            descendants.addAll(findViewDescendants((ViewGroup) child, targetClass));\n    }\n\n    return descendants;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7313335,"reputation":4794,"user_id":5571795,"display_name":"Hezy Ziv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695631804,"creation_date":1695631804,"answer_id":77171163,"question_id":76486138,"body_markdown":"In Java, due to type erasure, you cannot use instanceof with generic types directly because the generic type information is not available at runtime\r\n\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport java.util.function.Consumer;\r\n\r\nclass YourClass {\r\n\r\n    static &lt;T extends View&gt; void findEachView(@NonNull ViewGroup view, Class&lt;T&gt; viewType, @NonNull Consumer&lt;T&gt; viewAdjustorVisitor) {\r\n        for (int i = 0; i &lt; view.getChildCount(); i++) {\r\n            View v = view.getChildAt(i);\r\n\r\n            if (viewType.isInstance(v)) {\r\n                viewAdjustorVisitor.accept(viewType.cast(v));\r\n            }\r\n\r\n            if (v instanceof ViewGroup) {\r\n                findEachView((ViewGroup) v, viewType, viewAdjustorVisitor);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\ncall it \r\n\r\n    findEachView(main.popupForm, EditText.class, (EditText v) -&gt; {\r\n        CharSequence error = v.getError();\r\n        if (error != null)\r\n            assertNull((String) v.getTag(), error.toString());\r\n    });\r\n\r\n","title":"generic function to traverse a View hierarchy and find contained Views of a specific type","body":"<p>In Java, due to type erasure, you cannot use instanceof with generic types directly because the generic type information is not available at runtime</p>\n<p>import android.view.View;\nimport android.view.ViewGroup;\nimport java.util.function.Consumer;</p>\n<p>class YourClass {</p>\n<pre><code>static &lt;T extends View&gt; void findEachView(@NonNull ViewGroup view, Class&lt;T&gt; viewType, @NonNull Consumer&lt;T&gt; viewAdjustorVisitor) {\n    for (int i = 0; i &lt; view.getChildCount(); i++) {\n        View v = view.getChildAt(i);\n\n        if (viewType.isInstance(v)) {\n            viewAdjustorVisitor.accept(viewType.cast(v));\n        }\n\n        if (v instanceof ViewGroup) {\n            findEachView((ViewGroup) v, viewType, viewAdjustorVisitor);\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n<p>call it</p>\n<pre><code>findEachView(main.popupForm, EditText.class, (EditText v) -&gt; {\n    CharSequence error = v.getError();\n    if (error != null)\n        assertNull((String) v.getTag(), error.toString());\n});\n</code></pre>\n"}],"owner":{"account_id":66042,"reputation":5303,"user_id":193980,"accept_rate":48,"display_name":"Phlip"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76498892,"answer_count":3,"score":1,"last_activity_date":1695631804,"creation_date":1686872892,"question_id":76486138,"body_markdown":"My outer problem, in Java 1.8, is I want to traverse (or spider) a tree of View objects and call a callback on each one of a specific type. Here&#39;s an example caller:\r\n\r\n            findEachView(main.popupForm, (EditText v) -&gt; {\r\n                CharSequence error = v.getError();\r\n\r\n                if (error != null)\r\n                    assertNull((String) v.getTag(), error.toString());\r\n            });\r\n\r\nThat is supposed to traverse all the controls on the popupForm and, for each one that is an EditText, call my callback which asserts that it does not have an error.\r\n\r\nThe inner problem is my generic method to do it has a syntax error:\r\n\r\n    static &lt;T extends View&gt; void findEachView(@NonNull ViewGroup view, @NonNull Consumer&lt;T&gt; viewAdjustorVisitor) {\r\n        for (int i = 0; i &lt; view.getChildCount(); i++) {\r\n            View v = view.getChildAt(i);\r\n\r\n            if (v instanceof T)  // ERROR:  reifiable types in instanceof are not supported in -source 8\r\n                viewAdjustorVisitor.accept((T) v);\r\n\r\n            if (v instanceof ViewGroup)\r\n                findEachView((ViewGroup) v, viewAdjustorVisitor);\r\n        }\r\n    }\r\n\r\nSo my outer question is: How to efficiently and typesafely rip every View of the given type?\r\n\r\nAnd my inner question is: How to get the generics to not throw away type information and let me call `instanceof` on a type that _I_ know is reified?\r\n\r\n----\r\n\r\nWe can&#39;t use `isAssignableFrom()` because it takes an object of type `T` and my template doesn&#39;t have one. Its point is to downcast a `View` into a `T`, not mess with a `T` object that already exists. And I can&#39;t create a `new` object because `T` is &quot;not reified&quot;:\r\n\r\n`if (v.getClass().isAssignableFrom(new T()))`\r\n\r\nSo maybe someone could answer the outer question?\r\n\r\n----\r\n\r\nwhen I add the `?` we get this, with the next syntax error. I think this is an unanswered question in Java 1.8 template theory\r\n\r\n    static &lt;T extends View&gt; void findEachView(@NonNull\r\n             ViewGroup viewGroup, @NonNull\r\n             Consumer&lt;Class&lt;? extends View&gt;&gt; visitor) {\r\n        for (int i = 0; i &lt; viewGroup.getChildCount(); i++) {\r\n            View v = viewGroup.getChildAt(i);\r\n\r\n            if (null != (Class &lt;? extends android.view.View&gt;) v)  // ERROR:  incompatible types: View cannot be converted to Class&lt;? extends View&gt;\r\n                visitor.accept((Class &lt;? extends android.view.View&gt;) v);\r\n\r\n            if (v instanceof ViewGroup)\r\n                findEachView((ViewGroup) v, visitor);\r\n        }\r\n    }\r\n\r\n","title":"generic function to traverse a View hierarchy and find contained Views of a specific type","body":"<p>My outer problem, in Java 1.8, is I want to traverse (or spider) a tree of View objects and call a callback on each one of a specific type. Here's an example caller:</p>\n<pre><code>        findEachView(main.popupForm, (EditText v) -&gt; {\n            CharSequence error = v.getError();\n\n            if (error != null)\n                assertNull((String) v.getTag(), error.toString());\n        });\n</code></pre>\n<p>That is supposed to traverse all the controls on the popupForm and, for each one that is an EditText, call my callback which asserts that it does not have an error.</p>\n<p>The inner problem is my generic method to do it has a syntax error:</p>\n<pre><code>static &lt;T extends View&gt; void findEachView(@NonNull ViewGroup view, @NonNull Consumer&lt;T&gt; viewAdjustorVisitor) {\n    for (int i = 0; i &lt; view.getChildCount(); i++) {\n        View v = view.getChildAt(i);\n\n        if (v instanceof T)  // ERROR:  reifiable types in instanceof are not supported in -source 8\n            viewAdjustorVisitor.accept((T) v);\n\n        if (v instanceof ViewGroup)\n            findEachView((ViewGroup) v, viewAdjustorVisitor);\n    }\n}\n</code></pre>\n<p>So my outer question is: How to efficiently and typesafely rip every View of the given type?</p>\n<p>And my inner question is: How to get the generics to not throw away type information and let me call <code>instanceof</code> on a type that <em>I</em> know is reified?</p>\n<hr />\n<p>We can't use <code>isAssignableFrom()</code> because it takes an object of type <code>T</code> and my template doesn't have one. Its point is to downcast a <code>View</code> into a <code>T</code>, not mess with a <code>T</code> object that already exists. And I can't create a <code>new</code> object because <code>T</code> is &quot;not reified&quot;:</p>\n<p><code>if (v.getClass().isAssignableFrom(new T()))</code></p>\n<p>So maybe someone could answer the outer question?</p>\n<hr />\n<p>when I add the <code>?</code> we get this, with the next syntax error. I think this is an unanswered question in Java 1.8 template theory</p>\n<pre><code>static &lt;T extends View&gt; void findEachView(@NonNull\n         ViewGroup viewGroup, @NonNull\n         Consumer&lt;Class&lt;? extends View&gt;&gt; visitor) {\n    for (int i = 0; i &lt; viewGroup.getChildCount(); i++) {\n        View v = viewGroup.getChildAt(i);\n\n        if (null != (Class &lt;? extends android.view.View&gt;) v)  // ERROR:  incompatible types: View cannot be converted to Class&lt;? extends View&gt;\n            visitor.accept((Class &lt;? extends android.view.View&gt;) v);\n\n        if (v instanceof ViewGroup)\n            findEachView((ViewGroup) v, visitor);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":11941592,"reputation":1007,"user_id":8738231,"display_name":"mostafa3dmax"},"score":0,"creation_date":1695630959,"post_id":77170622,"comment_id":136045029,"body_markdown":"Maybe you have two launcher activity in the manifest file .","body":"Maybe you have two launcher activity in the manifest file ."},{"owner":{"account_id":29251271,"reputation":1,"user_id":22410580,"display_name":"Sam"},"score":0,"creation_date":1695725666,"post_id":77170622,"comment_id":136059970,"body_markdown":"Yes, I had two launcher activities in my manifest file. \nThank You, this solved my problem","body":"Yes, I had two launcher activities in my manifest file.  Thank You, this solved my problem"}],"answers":[{"tags":[],"owner":{"account_id":28573012,"reputation":1,"user_id":21874977,"display_name":"Mahmoud Ewida"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695631396,"creation_date":1695631396,"answer_id":77171122,"question_id":77170622,"body_markdown":"It may happens because the package name of each app is not the same check the package name of them in your android device","title":"Two icons of same app visible in the device when running using ADB or wireless debugging from android studio","body":"<p>It may happens because the package name of each app is not the same check the package name of them in your android device</p>\n"}],"owner":{"account_id":29251271,"reputation":1,"user_id":22410580,"display_name":"Sam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1695631396,"creation_date":1695627041,"question_id":77170622,"body_markdown":"I have a android project. It was running smoothly before but suddenly when I run the project using ADB or wireless debugging on physical device I am getting two icons of the same app. I am not able to find the cause. ","title":"Two icons of same app visible in the device when running using ADB or wireless debugging from android studio","body":"<p>I have a android project. It was running smoothly before but suddenly when I run the project using ADB or wireless debugging on physical device I am getting two icons of the same app. I am not able to find the cause.</p>\n"},{"tags":["java","android","screenshot","shakebug"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1694692457,"post_id":77104430,"comment_id":135926324,"body_markdown":"Use the media projection API.","body":"Use the media projection API."},{"owner":{"account_id":1189104,"reputation":1548,"user_id":1162402,"accept_rate":26,"display_name":"Chirag Lukhi"},"score":0,"creation_date":1694760263,"post_id":77104430,"comment_id":135936083,"body_markdown":"@CommonsWare don&#39;t you think every time it will ask permission whenever I will try to take screenshot?","body":"@CommonsWare don&#39;t you think every time it will ask permission whenever I will try to take screenshot?"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1694774500,"post_id":77104430,"comment_id":135938677,"body_markdown":"Last I knew, you only need to ask once per process invocation, not on every screenshot.","body":"Last I knew, you only need to ask once per process invocation, not on every screenshot."},{"owner":{"account_id":9150719,"reputation":3537,"user_id":6805392,"accept_rate":100,"display_name":"F.Mysir"},"score":0,"creation_date":1695036049,"post_id":77104430,"comment_id":135965834,"body_markdown":"Do you want to capture your app&#39;s ui or any screen you see at the moment?","body":"Do you want to capture your app&#39;s ui or any screen you see at the moment?"},{"owner":{"account_id":9150719,"reputation":3537,"user_id":6805392,"accept_rate":100,"display_name":"F.Mysir"},"score":0,"creation_date":1695037023,"post_id":77104430,"comment_id":135966038,"body_markdown":"I asked between two, I could not guess...","body":"I asked between two, I could not guess..."},{"owner":{"account_id":25956799,"reputation":138,"user_id":19674027,"display_name":"user2357113"},"score":0,"creation_date":1695037178,"post_id":77104430,"comment_id":135966070,"body_markdown":"@F.Mysir I want to capture app&#39;s UI","body":"@F.Mysir I want to capture app&#39;s UI"},{"owner":{"account_id":9150719,"reputation":3537,"user_id":6805392,"accept_rate":100,"display_name":"F.Mysir"},"score":0,"creation_date":1695037486,"post_id":77104430,"comment_id":135966127,"body_markdown":"Unfortunatly with Java and XML Ui I can not help. With this library I had great success with my app I am designing https://github.com/PatilShreyas/Capturable but is for jetpack compose","body":"Unfortunatly with Java and XML Ui I can not help. With this library I had great success with my app I am designing <a href=\"https://github.com/PatilShreyas/Capturable\" rel=\"nofollow noreferrer\">github.com/PatilShreyas/Capturable</a> but is for jetpack compose"},{"owner":{"account_id":25956799,"reputation":138,"user_id":19674027,"display_name":"user2357113"},"score":0,"creation_date":1695037784,"post_id":77104430,"comment_id":135966187,"body_markdown":"Android app UI: https://www.linkpicture.com/q/1695037303949.jpeg\nwhen User shake then SDK will appear : https://www.linkpicture.com/q/1695037394422.jpeg\nto Report Bug .  this is the example how currently screenshot is taken .","body":"Android app UI: <a href=\"https://www.linkpicture.com/q/1695037303949.jpeg\" rel=\"nofollow noreferrer\">linkpicture.com/q/1695037303949.jpeg</a> when User shake then SDK will appear : <a href=\"https://www.linkpicture.com/q/1695037394422.jpeg\" rel=\"nofollow noreferrer\">linkpicture.com/q/1695037394422.jpeg</a> to Report Bug .  this is the example how currently screenshot is taken ."}],"answers":[{"tags":[],"owner":{"account_id":29520193,"reputation":857,"user_id":22623172,"display_name":"Vlad Guriev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695555933,"creation_date":1695555933,"answer_id":77166949,"question_id":77104430,"body_markdown":"For API level 26 and above, you can use [PixelCopy][1] as follows:\r\n\r\n    val bitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888)\r\n    val listener = PixelCopy.OnPixelCopyFinishedListener { copyResult -&gt;\r\n        when (copyResult) {\r\n            PixelCopy.SUCCESS -&gt; //use bitmap as a screenshot\r\n            else -&gt; //handle error\r\n        }\r\n    }\r\n    PixelCopy.request(window, bitmap, listener, handler)\r\n\r\nOr in Java:\r\n\r\n    Bitmap bitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888);\r\n    PixelCopy.OnPixelCopyFinishedListener listener = copyResult -&gt; {\r\n        switch (copyResult) {\r\n            case PixelCopy.SUCCESS:\r\n                //use bitmap as a screenshot\r\n                break;\r\n            default:\r\n                //handle error\r\n                break;\r\n        }\r\n    };\r\n    PixelCopy.request(window, bitmap, listener, handler);\r\n\r\nFor `SurfaceView` (i.e. if you pass it as a parameter instead of `Window`) the lower bound is 24, not 26.\r\n\r\n  [1]: https://developer.android.com/reference/android/view/PixelCopy","title":"Alternative way to take screenshot without android.View in Android","body":"<p>For API level 26 and above, you can use <a href=\"https://developer.android.com/reference/android/view/PixelCopy\" rel=\"nofollow noreferrer\">PixelCopy</a> as follows:</p>\n<pre><code>val bitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888)\nval listener = PixelCopy.OnPixelCopyFinishedListener { copyResult -&gt;\n    when (copyResult) {\n        PixelCopy.SUCCESS -&gt; //use bitmap as a screenshot\n        else -&gt; //handle error\n    }\n}\nPixelCopy.request(window, bitmap, listener, handler)\n</code></pre>\n<p>Or in Java:</p>\n<pre><code>Bitmap bitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888);\nPixelCopy.OnPixelCopyFinishedListener listener = copyResult -&gt; {\n    switch (copyResult) {\n        case PixelCopy.SUCCESS:\n            //use bitmap as a screenshot\n            break;\n        default:\n            //handle error\n            break;\n    }\n};\nPixelCopy.request(window, bitmap, listener, handler);\n</code></pre>\n<p>For <code>SurfaceView</code> (i.e. if you pass it as a parameter instead of <code>Window</code>) the lower bound is 24, not 26.</p>\n"},{"tags":[],"owner":{"account_id":12694317,"reputation":1,"user_id":9223264,"display_name":"Jaspalsinh Gohil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695626975,"creation_date":1695626975,"answer_id":77170613,"question_id":77104430,"body_markdown":"To capture the UI with a transparent background and treat it like a UI surface or a render UI texture view, you can use below code example\r\n\r\n    public Bitmap captureUIWithTransparentBackground() {\r\n    SurfaceView surfaceView = new SurfaceView(getCActivity());\r\n    surfaceView.setBackgroundColor(Color.TRANSPARENT);\r\n    \r\n    SurfaceTexture surfaceTexture = new SurfaceTexture(1);\r\n    surfaceView.setSurfaceTexture(surfaceTexture);\r\n    \r\n    Canvas canvas = surfaceTexture.lockCanvas(null);\r\n    canvas.drawColor(Color.TRANSPARENT);\r\n    View mView = getCActivity().getWindow().getDecorView();\r\n    mView.draw(canvas);\r\n    canvas.unlockCanvasAndPost(surfaceTexture);\r\n    \r\n    surfaceTexture.updateTexImage();\r\n    \r\n    Bitmap bitmap = new Bitmap(surfaceView.getWidth(), surfaceView.getHeight(), Bitmap.Config.ARGB_8888);\r\n    surfaceTexture.getBitmap(bitmap);\r\n    \r\n    return bitmap;\r\n    }\r\n\r\n","title":"Alternative way to take screenshot without android.View in Android","body":"<p>To capture the UI with a transparent background and treat it like a UI surface or a render UI texture view, you can use below code example</p>\n<pre><code>public Bitmap captureUIWithTransparentBackground() {\nSurfaceView surfaceView = new SurfaceView(getCActivity());\nsurfaceView.setBackgroundColor(Color.TRANSPARENT);\n\nSurfaceTexture surfaceTexture = new SurfaceTexture(1);\nsurfaceView.setSurfaceTexture(surfaceTexture);\n\nCanvas canvas = surfaceTexture.lockCanvas(null);\ncanvas.drawColor(Color.TRANSPARENT);\nView mView = getCActivity().getWindow().getDecorView();\nmView.draw(canvas);\ncanvas.unlockCanvasAndPost(surfaceTexture);\n\nsurfaceTexture.updateTexImage();\n\nBitmap bitmap = new Bitmap(surfaceView.getWidth(), surfaceView.getHeight(), Bitmap.Config.ARGB_8888);\nsurfaceTexture.getBitmap(bitmap);\n\nreturn bitmap;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7313335,"reputation":4794,"user_id":5571795,"display_name":"Hezy Ziv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695631186,"creation_date":1695631186,"answer_id":77171093,"question_id":77104430,"body_markdown":"Use a custom SurfaceView or TextureView to render your UI and then capture the content of that view as an image\r\n\r\n    public class CustomSurfaceView extends SurfaceView implements SurfaceHolder.Callback {\r\n        private SurfaceHolder surfaceHolder;\r\n    \r\n        public CustomSurfaceView(Context context) {\r\n            super(context);\r\n            surfaceHolder = getHolder();\r\n            surfaceHolder.addCallback(this);\r\n        }\r\n    \r\n        @Override\r\n        public void surfaceChanged(SurfaceHolder holder, int format, int width, int height) {\r\n            // Handle surface changes, if necessary\r\n        }\r\n    \r\n        @Override\r\n        public void surfaceCreated(SurfaceHolder holder) {\r\n            // Render your UI on the surface\r\n            drawUI(holder.getSurface());\r\n    \r\n            // Capture the content of the surface as a Bitmap with a transparent background\r\n            Bitmap capturedBitmap = captureTransparentBitmap();\r\n            \r\n            // Now, you have the capturedBitmap with a transparent background\r\n        }\r\n    \r\n        @Override\r\n        public void surfaceDestroyed(SurfaceHolder holder) {\r\n            // Handle surface destruction, if necessary\r\n        }\r\n    \r\n        private void drawUI(Surface surface) {\r\n            // Implement your UI rendering logic here using Canvas and Surface\r\n            // This is where you render your UI elements onto the surface\r\n        }\r\n    \r\n        private Bitmap captureTransparentBitmap() {\r\n            // Capture the content of the SurfaceView as a Bitmap with a transparent background\r\n            Bitmap capturedBitmap = Bitmap.createBitmap(getWidth(), getHeight(), Bitmap.Config.ARGB_8888);\r\n            Canvas canvas = new Canvas(capturedBitmap);\r\n            draw(canvas);\r\n            return capturedBitmap;\r\n        }\r\n    }\r\n\r\n","title":"Alternative way to take screenshot without android.View in Android","body":"<p>Use a custom SurfaceView or TextureView to render your UI and then capture the content of that view as an image</p>\n<pre><code>public class CustomSurfaceView extends SurfaceView implements SurfaceHolder.Callback {\n    private SurfaceHolder surfaceHolder;\n\n    public CustomSurfaceView(Context context) {\n        super(context);\n        surfaceHolder = getHolder();\n        surfaceHolder.addCallback(this);\n    }\n\n    @Override\n    public void surfaceChanged(SurfaceHolder holder, int format, int width, int height) {\n        // Handle surface changes, if necessary\n    }\n\n    @Override\n    public void surfaceCreated(SurfaceHolder holder) {\n        // Render your UI on the surface\n        drawUI(holder.getSurface());\n\n        // Capture the content of the surface as a Bitmap with a transparent background\n        Bitmap capturedBitmap = captureTransparentBitmap();\n        \n        // Now, you have the capturedBitmap with a transparent background\n    }\n\n    @Override\n    public void surfaceDestroyed(SurfaceHolder holder) {\n        // Handle surface destruction, if necessary\n    }\n\n    private void drawUI(Surface surface) {\n        // Implement your UI rendering logic here using Canvas and Surface\n        // This is where you render your UI elements onto the surface\n    }\n\n    private Bitmap captureTransparentBitmap() {\n        // Capture the content of the SurfaceView as a Bitmap with a transparent background\n        Bitmap capturedBitmap = Bitmap.createBitmap(getWidth(), getHeight(), Bitmap.Config.ARGB_8888);\n        Canvas canvas = new Canvas(capturedBitmap);\n        draw(canvas);\n        return capturedBitmap;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1189104,"reputation":1548,"user_id":1162402,"accept_rate":26,"display_name":"Chirag Lukhi"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1695631186,"creation_date":1694690763,"question_id":77104430,"body_markdown":"I&#39;m currently developing on an Android Dependency/SDK that allows users to capture a screenshot. I&#39;ve implemented the following code, which is working fine for capturing screenshots of the visible UI:\r\n\r\n    View mView = getCActivity().getWindow().getDecorView();\r\n    mView.setDrawingCacheQuality(View.DRAWING_CACHE_QUALITY_HIGH);\r\n    mView .buildDrawingCache();\r\n    Bitmap mBitmap = mView.getDrawingCache();\r\n    Window window = getCActivity().getWindow();\r\n\r\nHowever, the issue I&#39;m facing is that I want to capture the UI with a transparent background and treat it like a UI surface or a render UI texture view. In other words, *I want to be capture view in surface view, texture view, background transparent (Likely Flutter UI)*\r\n\r\n    android.view.SurfaceView\r\n    android.graphics.SurfaceTexture\r\n\r\n\r\nIs there a way to modify my existing code or implement additional features so that I can capture the UI with a surface view, texture view or transparent background? Any guidance, code examples, or suggestions would be greatly appreciated.","title":"Alternative way to take screenshot without android.View in Android","body":"<p>I'm currently developing on an Android Dependency/SDK that allows users to capture a screenshot. I've implemented the following code, which is working fine for capturing screenshots of the visible UI:</p>\n<pre><code>View mView = getCActivity().getWindow().getDecorView();\nmView.setDrawingCacheQuality(View.DRAWING_CACHE_QUALITY_HIGH);\nmView .buildDrawingCache();\nBitmap mBitmap = mView.getDrawingCache();\nWindow window = getCActivity().getWindow();\n</code></pre>\n<p>However, the issue I'm facing is that I want to capture the UI with a transparent background and treat it like a UI surface or a render UI texture view. In other words, <em>I want to be capture view in surface view, texture view, background transparent (Likely Flutter UI)</em></p>\n<pre><code>android.view.SurfaceView\nandroid.graphics.SurfaceTexture\n</code></pre>\n<p>Is there a way to modify my existing code or implement additional features so that I can capture the UI with a surface view, texture view or transparent background? Any guidance, code examples, or suggestions would be greatly appreciated.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1695277991,"post_id":77147683,"comment_id":136003484,"body_markdown":"Recreate it if you detect that `lastname` is being used.","body":"Recreate it if you detect that <code>lastname</code> is being used."},{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1695278162,"post_id":77147683,"comment_id":136003505,"body_markdown":"Why don&#39;t you put a request interceptor to replace sort=lastname with sort=surname ?","body":"Why don&#39;t you put a request interceptor to replace sort=lastname with sort=surname ?"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1695278252,"post_id":77147683,"comment_id":136003523,"body_markdown":"@GauravJeswani could you give an example? I mean, at which stage has the rewrite to happen?","body":"@GauravJeswani could you give an example? I mean, at which stage has the rewrite to happen?"},{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1695278272,"post_id":77147683,"comment_id":136003530,"body_markdown":"Are you using SpringBoot?","body":"Are you using SpringBoot?"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1695278290,"post_id":77147683,"comment_id":136003533,"body_markdown":"yes that&#39;s why I added the tag `spring-boot` ;)","body":"yes that&#39;s why I added the tag <code>spring-boot</code> ;)"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1695278333,"post_id":77147683,"comment_id":136003538,"body_markdown":"@M.Deinum but there might be some more sort parameters in the query. I will lose them then?","body":"@M.Deinum but there might be some more sort parameters in the query. I will lose them then?"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1695278730,"post_id":77147683,"comment_id":136003594,"body_markdown":"Of course I could rewrite the Sort query entirely, like I added code above. But is this really the solution so such a common usecase? I mean, it&#39;s not unusual to provide backwards compatibility.","body":"Of course I could rewrite the Sort query entirely, like I added code above. But is this really the solution so such a common usecase? I mean, it&#39;s not unusual to provide backwards compatibility."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695281522,"post_id":77147683,"comment_id":136004063,"body_markdown":"You can create a `Pageable` based of another pageable and reconfigure. Just replace the `lastname` with `surname` everything else will be kept.","body":"You can create a <code>Pageable</code> based of another pageable and reconfigure. Just replace the <code>lastname</code> with <code>surname</code> everything else will be kept."},{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1695359800,"post_id":77147683,"comment_id":136016491,"body_markdown":"https://stackoverflow.com/questions/57534344/how-can-i-modify-request-in-spring-mvc-filter-or-interceptor","body":"<a href=\"https://stackoverflow.com/questions/57534344/how-can-i-modify-request-in-spring-mvc-filter-or-interceptor\" title=\"how can i modify request in spring mvc filter or interceptor\">stackoverflow.com/questions/57534344/&hellip;</a>"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1695630780,"post_id":77147683,"comment_id":136044986,"body_markdown":"@M.Deinum could you give an example on how to &quot;create a pageable pased on another and reconfigure&quot;? Is this different from what I posted in the question?","body":"@M.Deinum could you give an example on how to &quot;create a pageable pased on another and reconfigure&quot;? Is this different from what I posted in the question?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1695631041,"post_id":77147683,"comment_id":136045043,"body_markdown":"That should work what you have, or use `pageable.withSort` to simply pass the modified sort to the existing `Pageable`.","body":"That should work what you have, or use <code>pageable.withSort</code> to simply pass the modified sort to the existing <code>Pageable</code>."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1695631155,"post_id":77147683,"comment_id":136045067,"body_markdown":"Also if this is JPA, why not keep the JPA model the same and simply add an `@Column(name=&quot;surname&quot;)` to the JPA field `lastname`? Then you don&#39;t need any of this.","body":"Also if this is JPA, why not keep the JPA model the same and simply add an <code>@Column(name=&quot;surname&quot;)</code> to the JPA field <code>lastname</code>? Then you don&#39;t need any of this."}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695630914,"creation_date":1695277848,"question_id":77147683,"body_markdown":"I want to rewrite a sort query:\r\n\r\nSo far the query was: `?sort=lastname&amp;sort=...`\r\n\r\n    @GetMapping\r\n    public void getPersons(..., Pageable pageable) {\r\n       pageable.getSort().getOrderFor(&quot;lastname&quot;); //TODO replace with &#39;surname&#39;\r\n    }\r\n\r\n    @Entity\r\n    class PersonEntity {\r\n         String lastname;\r\n         //String surname;\r\n    }\r\n  \r\nNow database fields changed from `lastname` to `surname`. Thus I have to rewrite the sort query, but without having API users to change their bookmarks. So that `?sort=lastname` acts the same as `?sort=surname`.\r\n\r\nHow could I achieve that, because neither `Pageable` nor `Sort` has *setters*?\r\n\r\nOf course, as suggested by @M. Deinum, I could rewrite the entire Pageable.Sort as follows. But is this really the solution?\r\n\r\n\t\tif (pageable != null\r\n\t\t\t\t&amp;&amp; pageable.getSort() != null\r\n\t\t\t\t&amp;&amp; pageable.getSort().isSorted()\r\n\t\t\t\t&amp;&amp; pageable.getSort().getOrderFor(&quot;lastname&quot;) != null) {\r\n\t\t\tList&lt;Sort.Order&gt; orders = pageable.getSort().stream()\r\n\t\t\t\t\t.map(order -&gt; {\r\n\t\t\t\t\t\tString property = order.getProperty();\r\n\t\t\t\t\t\tif (StringUtils.equals(property, &quot;lastname&quot;)) \r\n                               property = &quot;surname&quot;;\r\n\t\t\t\t\t\treturn new Sort.Order(order.getDirection(), property, order.getNullHandling());\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.collect(Collectors.toList());\r\n            PageRequest.of(pageable.getPageNumber(), pageable.getPageSize(), Sort.by(orders));\r\n       }","title":"How to rewrite Sort.Order parameters for Spring JPA?","body":"<p>I want to rewrite a sort query:</p>\n<p>So far the query was: <code>?sort=lastname&amp;sort=...</code></p>\n<pre><code>@GetMapping\npublic void getPersons(..., Pageable pageable) {\n   pageable.getSort().getOrderFor(&quot;lastname&quot;); //TODO replace with 'surname'\n}\n\n@Entity\nclass PersonEntity {\n     String lastname;\n     //String surname;\n}\n</code></pre>\n<p>Now database fields changed from <code>lastname</code> to <code>surname</code>. Thus I have to rewrite the sort query, but without having API users to change their bookmarks. So that <code>?sort=lastname</code> acts the same as <code>?sort=surname</code>.</p>\n<p>How could I achieve that, because neither <code>Pageable</code> nor <code>Sort</code> has <em>setters</em>?</p>\n<p>Of course, as suggested by @M. Deinum, I could rewrite the entire Pageable.Sort as follows. But is this really the solution?</p>\n<pre><code>    if (pageable != null\n            &amp;&amp; pageable.getSort() != null\n            &amp;&amp; pageable.getSort().isSorted()\n            &amp;&amp; pageable.getSort().getOrderFor(&quot;lastname&quot;) != null) {\n        List&lt;Sort.Order&gt; orders = pageable.getSort().stream()\n                .map(order -&gt; {\n                    String property = order.getProperty();\n                    if (StringUtils.equals(property, &quot;lastname&quot;)) \n                           property = &quot;surname&quot;;\n                    return new Sort.Order(order.getDirection(), property, order.getNullHandling());\n                })\n                .collect(Collectors.toList());\n        PageRequest.of(pageable.getPageNumber(), pageable.getPageSize(), Sort.by(orders));\n   }\n</code></pre>\n"},{"tags":["java","spring-boot","spring-cloud-gateway"],"comments":[{"owner":{"account_id":3837639,"reputation":56,"user_id":3181598,"display_name":"n-n-nebbl"},"score":0,"creation_date":1695635223,"post_id":77171035,"comment_id":136045889,"body_markdown":"it is a guessing game from the outside. it could be something like the web-client used in cloud-gateway using a connection pool and the connections are dead but it doesn&#39;t know --&gt; it waits until a timeout, creates a new connection and then it works. This can happen e.g. if there is something in between like a load-balancer which kills the connection or the receiving system has lower values for keep alive than your cloud gateway.","body":"it is a guessing game from the outside. it could be something like the web-client used in cloud-gateway using a connection pool and the connections are dead but it doesn&#39;t know --&gt; it waits until a timeout, creates a new connection and then it works. This can happen e.g. if there is something in between like a load-balancer which kills the connection or the receiving system has lower values for keep alive than your cloud gateway."}],"owner":{"account_id":8535093,"reputation":81,"user_id":8011714,"display_name":"Bharti Sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695630601,"creation_date":1695630601,"question_id":77171035,"body_markdown":"We are using Spring cloud Gateway which uses Netty dependency running on Apache Tomcat, Linux server. API gateway using Redis for token mechanism.\r\nWe observed that requests coming from client are forwared from API gateway server which are recieved after 8-12 secs at other application server.\r\n\r\nWe tested the same API direct from the gateway application server via two ways\r\n1. through API gateway \r\n2. through direct curl \r\n\r\nand checked their response received time on the other microservice application server. We found that we received response within mini-sec in 2nd case, and in 1st case it takes a lag of 8-12 sec. **API Gateway is slow at the network level** not at the application level since we saw the gateway response logs within a sec after gateway logic\r\n\r\nAPI gateway sent the request forward at 14:09:34\r\n[![API gateway sent the request forward at 14:09:34][1]][1]\r\n\r\nApp server received it at 14:09:50\r\n[![App server received it at 14:09:50][2]][2]\r\n\r\nHere, API gateway evaluates everything on the expected time and gives responses but received after a lag of few seconds in other microservice.\r\n\r\nAPI Gateway used - Spring cloud API Gateway which uses Netty dependency\r\nServer - Apache Tomcat, Linux\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZlxqR.png\r\n  [2]: https://i.stack.imgur.com/2Kcjg.png","title":"Spring Cloud Gateway bottleneck at network, requests taking time to reach the destination server","body":"<p>We are using Spring cloud Gateway which uses Netty dependency running on Apache Tomcat, Linux server. API gateway using Redis for token mechanism.\nWe observed that requests coming from client are forwared from API gateway server which are recieved after 8-12 secs at other application server.</p>\n<p>We tested the same API direct from the gateway application server via two ways</p>\n<ol>\n<li>through API gateway</li>\n<li>through direct curl</li>\n</ol>\n<p>and checked their response received time on the other microservice application server. We found that we received response within mini-sec in 2nd case, and in 1st case it takes a lag of 8-12 sec. <strong>API Gateway is slow at the network level</strong> not at the application level since we saw the gateway response logs within a sec after gateway logic</p>\n<p>API gateway sent the request forward at 14:09:34\n<a href=\"https://i.stack.imgur.com/ZlxqR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZlxqR.png\" alt=\"API gateway sent the request forward at 14:09:34\" /></a></p>\n<p>App server received it at 14:09:50\n<a href=\"https://i.stack.imgur.com/2Kcjg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2Kcjg.png\" alt=\"App server received it at 14:09:50\" /></a></p>\n<p>Here, API gateway evaluates everything on the expected time and gives responses but received after a lag of few seconds in other microservice.</p>\n<p>API Gateway used - Spring cloud API Gateway which uses Netty dependency\nServer - Apache Tomcat, Linux</p>\n"},{"tags":["java","android","smartcard","sim-card","samsung"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1695155502,"post_id":77136092,"comment_id":135985475,"body_markdown":"Smart cards require different voltage levels. Modern SIM cards have a reduced voltage and I am not sure what voltage the NXP JCOP 4 card requires and if a modern phone is still able to provide it. This is what I would check first.","body":"Smart cards require different voltage levels. Modern SIM cards have a reduced voltage and I am not sure what voltage the NXP JCOP 4 card requires and if a modern phone is still able to provide it. This is what I would check first."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695199034,"post_id":77136092,"comment_id":135990754,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":29483255,"reputation":1,"user_id":22593711,"display_name":"DushaD"},"score":0,"creation_date":1695200909,"post_id":77136092,"comment_id":135991128,"body_markdown":"@Robert yeah, this could be an issue, this card surely works at 3V and 5V voltages, not sure about 1.8V, I will get myself a better card reader and give it a check. I don&#39;t want to disassemble the phone yet to measure at the pins. Hopefully this isn&#39;t the case and it&#39;s just a matter of software control though.","body":"@Robert yeah, this could be an issue, this card surely works at 3V and 5V voltages, not sure about 1.8V, I will get myself a better card reader and give it a check. I don&#39;t want to disassemble the phone yet to measure at the pins. Hopefully this isn&#39;t the case and it&#39;s just a matter of software control though."}],"answers":[{"tags":[],"owner":{"account_id":29512983,"reputation":1,"user_id":22617602,"display_name":"Nick S."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695426464,"creation_date":1695426464,"answer_id":77161142,"question_id":77136092,"body_markdown":"The voltage shouldn&#39;t be an issue, the JCOP 4 P71 supports voltage classes A, B, extended B, and C (1.62 - 5.5 V). Usually the second SIM slots in phones are for inserting SIM&#39;s from multiple carriers when traveling international, I don&#39;t think it will function as a Secure Access Module slot. I do know in Android tablets and POS terminals I&#39;ve worked with that they typically have a slot/s for SIM and a dedicated one for a SAM. ","title":"Is it possible to use a sim slot in a Samsung phone as a generic PSAM reader?","body":"<p>The voltage shouldn't be an issue, the JCOP 4 P71 supports voltage classes A, B, extended B, and C (1.62 - 5.5 V). Usually the second SIM slots in phones are for inserting SIM's from multiple carriers when traveling international, I don't think it will function as a Secure Access Module slot. I do know in Android tablets and POS terminals I've worked with that they typically have a slot/s for SIM and a dedicated one for a SAM.</p>\n"},{"tags":[],"owner":{"account_id":1608748,"reputation":1014,"user_id":1488274,"accept_rate":91,"display_name":"MJay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695630578,"creation_date":1695630578,"answer_id":77171031,"question_id":77136092,"body_markdown":"This is a matter of OS. According to my own experience, some Android phones support OMAPI or TelephonyManager which can be used to send APDUs to the card in the SIM slot. Try to check if either OMAPI or TelephonyManager is supported on your OS.","title":"Is it possible to use a sim slot in a Samsung phone as a generic PSAM reader?","body":"<p>This is a matter of OS. According to my own experience, some Android phones support OMAPI or TelephonyManager which can be used to send APDUs to the card in the SIM slot. Try to check if either OMAPI or TelephonyManager is supported on your OS.</p>\n"}],"owner":{"account_id":29483255,"reputation":1,"user_id":22593711,"display_name":"DushaD"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695630578,"creation_date":1695138440,"question_id":77136092,"body_markdown":"There is an NXP JCOP 4 smart card with java applet on it (https://www.cardlogix.com/product/nxp-jcop-4-java-card-3-0-5-classic/), there is also an Android phone with dual sim and Android 13 (Samsung S23 Ultra). Considering the card is properly cut the way it still works and pinout matches the contacts of nano-SIM card slot, is it possible to send APDU commands to it? \r\n\r\nI&#39;m aware of UICC option (issuing a Java card which complies to SIM card standards) - but sadly this smart card is provided by third party and we can&#39;t modify it. \r\n\r\nSo, maybe it&#39;s possible to reuse the SIM card reader in Samsung as a generic PSAM reader instead?\r\n\r\n\r\nI&#39;ve tried OMAPI so far, obviously no luck - openSession returns &quot;Secure element is not present&quot; for the reader with inserted card.\r\n\r\nBut Samsung has more libraries in their framework, maybe there is other way?\r\n\r\nThanks","title":"Is it possible to use a sim slot in a Samsung phone as a generic PSAM reader?","body":"<p>There is an NXP JCOP 4 smart card with java applet on it (<a href=\"https://www.cardlogix.com/product/nxp-jcop-4-java-card-3-0-5-classic/\" rel=\"nofollow noreferrer\">https://www.cardlogix.com/product/nxp-jcop-4-java-card-3-0-5-classic/</a>), there is also an Android phone with dual sim and Android 13 (Samsung S23 Ultra). Considering the card is properly cut the way it still works and pinout matches the contacts of nano-SIM card slot, is it possible to send APDU commands to it?</p>\n<p>I'm aware of UICC option (issuing a Java card which complies to SIM card standards) - but sadly this smart card is provided by third party and we can't modify it.</p>\n<p>So, maybe it's possible to reuse the SIM card reader in Samsung as a generic PSAM reader instead?</p>\n<p>I've tried OMAPI so far, obviously no luck - openSession returns &quot;Secure element is not present&quot; for the reader with inserted card.</p>\n<p>But Samsung has more libraries in their framework, maybe there is other way?</p>\n<p>Thanks</p>\n"},{"tags":["java","performance","file-io","io","text-files"],"comments":[{"owner":{"account_id":221524,"reputation":8654,"user_id":479567,"accept_rate":86,"display_name":"Patrick Cullen"},"score":97,"creation_date":1360122471,"post_id":5868369,"comment_id":20593915,"body_markdown":"@kamaci et. al.  This question should not be marked as a duplicate.  &quot;Quickly read the last line&quot; is not an alternative, and its debatable whether &quot;Quickest way to read text-file line by line&quot; is.  The quickest way to do something is not necessarily the common way.  Furthermore, the answers below include code, the most relevant alternative you list does not.  This question is useful.  It is  currently the top google search result for &quot;java read file line by line&quot;.  Finally, its off putting to arrive at stack overflow and find that 1 in every 2 question is flagged for disposal.","body":"@kamaci et. al.  This question should not be marked as a duplicate.  &quot;Quickly read the last line&quot; is not an alternative, and its debatable whether &quot;Quickest way to read text-file line by line&quot; is.  The quickest way to do something is not necessarily the common way.  Furthermore, the answers below include code, the most relevant alternative you list does not.  This question is useful.  It is  currently the top google search result for &quot;java read file line by line&quot;.  Finally, its off putting to arrive at stack overflow and find that 1 in every 2 question is flagged for disposal."},{"owner":{"account_id":4787547,"reputation":5568,"user_id":3867574,"accept_rate":43,"display_name":"Serg M Ten"},"score":5,"creation_date":1479203480,"post_id":5868369,"comment_id":68448052,"body_markdown":"[Here](http://stackoverflow.com/a/40597140/3867574) is a comparison of speed for six possible implementations.","body":"<a href=\"http://stackoverflow.com/a/40597140/3867574\">Here</a> is a comparison of speed for six possible implementations."},{"owner":{"account_id":107907,"reputation":40512,"user_id":286685,"accept_rate":56,"display_name":"Stijn de Witt"},"score":5,"creation_date":1507025953,"post_id":5868369,"comment_id":80038555,"body_markdown":"Event though I have been reading comments arguing that SO&#39;s close policy sucks, SO persists in it. It&#39;s such a narrow minded developer perspective to want to avoid redundancy at all costs! Just let it be! The cream will rise to the top and the sh*t will sink to the bottom just fine all by itself. Even though a question may have been asked before (which question isn&#39;t??), that does not mean that a new question may not be able to phrase it better, get better answers, rank higher in search engines etc. Interestingly, this question is now &#39;protected&#39;....","body":"Event though I have been reading comments arguing that SO&#39;s close policy sucks, SO persists in it. It&#39;s such a narrow minded developer perspective to want to avoid redundancy at all costs! Just let it be! The cream will rise to the top and the sh*t will sink to the bottom just fine all by itself. Even though a question may have been asked before (which question isn&#39;t??), that does not mean that a new question may not be able to phrase it better, get better answers, rank higher in search engines etc. Interestingly, this question is now &#39;protected&#39;...."},{"owner":{"account_id":5351617,"reputation":1633,"user_id":4265610,"accept_rate":58,"display_name":"Luke"},"score":4,"creation_date":1540457289,"post_id":5868369,"comment_id":92875726,"body_markdown":"It&#39;s incredible how questions get marked as duplicate by just reading the title.","body":"It&#39;s incredible how questions get marked as duplicate by just reading the title."},{"owner":{"account_id":36215,"reputation":279358,"user_id":103167,"accept_rate":53,"display_name":"Ben Voigt"},"score":0,"creation_date":1625079110,"post_id":5868369,"comment_id":120535011,"body_markdown":"After Shog&#39;s edit this is indeed a duplicate of https://stackoverflow.com/q/5800361/103167 but this one has gotten far more activity.","body":"After Shog&#39;s edit this is indeed a duplicate of <a href=\"https://stackoverflow.com/q/5800361/103167\">stackoverflow.com/q/5800361/103167</a> but this one has gotten far more activity."}],"answers":[{"tags":[],"owner":{"account_id":50060,"reputation":41687,"user_id":149206,"accept_rate":100,"display_name":"Naveed"},"down_vote_count":4,"up_vote_count":191,"is_accepted":false,"score":187,"last_activity_date":1695630006,"creation_date":1304420230,"answer_id":5868412,"question_id":5868369,"body_markdown":"Look at this blog:\r\n\r\n- [Java Read File Line by Line - Java Tutorial][1]\r\n\r\n&gt; The buffer size may be specified, or\r\n&gt; the default size may be used. The\r\n&gt; default is large enough for most\r\n&gt; purposes.\r\n\r\n    // Open the file\r\n    FileInputStream fstream = new FileInputStream(&quot;textfile.txt&quot;);\r\n    \r\n    // Get the object of DataInputStream\r\n    DataInputStream in = new DataInputStream(fstream);\r\n    BufferedReader br = new BufferedReader(new InputStreamReader(in));\r\n    \r\n    String strLine;\r\n    \r\n    //Read File Line By Line\r\n    while ((strLine = br.readLine()) != null)   {\r\n      // Print the content on the console\r\n      System.out.println (strLine);\r\n    }\r\n    \r\n    //Close the input stream\r\n    in.close();\r\n\r\n\r\n\r\n  [1]: http://www.roseindia.net/java/beginners/java-read-file-line-by-line.shtml\r\n  [2]: http://www.coderanch.com/t/488611/java/java/Reading-Writing-Large-File-OutOfMemory","title":"How can I read a large text file line by line using Java?","body":"<p>Look at this blog:</p>\n<ul>\n<li><a href=\"http://www.roseindia.net/java/beginners/java-read-file-line-by-line.shtml\" rel=\"nofollow noreferrer\">Java Read File Line by Line - Java Tutorial</a></li>\n</ul>\n<blockquote>\n<p>The buffer size may be specified, or\nthe default size may be used. The\ndefault is large enough for most\npurposes.</p>\n</blockquote>\n<pre><code>// Open the file\nFileInputStream fstream = new FileInputStream(&quot;textfile.txt&quot;);\n\n// Get the object of DataInputStream\nDataInputStream in = new DataInputStream(fstream);\nBufferedReader br = new BufferedReader(new InputStreamReader(in));\n\nString strLine;\n\n//Read File Line By Line\nwhile ((strLine = br.readLine()) != null)   {\n  // Print the content on the console\n  System.out.println (strLine);\n}\n\n//Close the input stream\nin.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":370941,"reputation":1536,"user_id":719178,"accept_rate":71,"display_name":"Master C"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1494143083,"creation_date":1304420449,"answer_id":5868454,"question_id":5868369,"body_markdown":"You need to use the `readLine()` method in `class BufferedReader`.\r\nCreate a new object from that class and operate this method on him and save it to a string.\r\n\r\n[BufferReader Javadoc][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html","title":"How can I read a large text file line by line using Java?","body":"<p>You need to use the <code>readLine()</code> method in <code>class BufferedReader</code>.\nCreate a new object from that class and operate this method on him and save it to a string.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html\" rel=\"nofollow noreferrer\">BufferReader Javadoc</a></p>\n"},{"tags":[],"owner":{"account_id":286235,"reputation":458,"user_id":585388,"display_name":"Abhilash"},"down_vote_count":8,"up_vote_count":18,"is_accepted":false,"score":10,"last_activity_date":1304420449,"creation_date":1304420449,"answer_id":5868455,"question_id":5868369,"body_markdown":"You can use Scanner class\r\n\r\n    Scanner sc=new Scanner(file);\r\n    sc.nextLine();\r\n\r\n\r\n\r\n","title":"How can I read a large text file line by line using Java?","body":"<p>You can use Scanner class</p>\n\n<pre><code>Scanner sc=new Scanner(file);\nsc.nextLine();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":1,"up_vote_count":1236,"is_accepted":false,"score":1235,"last_activity_date":1539643537,"creation_date":1304420834,"answer_id":5868528,"question_id":5868369,"body_markdown":"A common pattern is to use\r\n\r\n    try (BufferedReader br = new BufferedReader(new FileReader(file))) {\r\n        String line;\r\n        while ((line = br.readLine()) != null) {\r\n           // process the line.\r\n        }\r\n    }\r\n\r\nYou can read the data faster if you assume there is no character encoding. e.g. ASCII-7 but it won&#39;t make much difference.  It is highly likely that what you do with the data will take much longer.\r\n\r\nEDIT: A less common pattern to use which avoids the scope of `line` leaking.\r\n\r\n    try(BufferedReader br = new BufferedReader(new FileReader(file))) {\r\n        for(String line; (line = br.readLine()) != null; ) {\r\n            // process the line.\r\n        }\r\n        // line is not visible here.\r\n    }\r\n\r\n---\r\n\r\nUPDATE: In Java 8 you can do\r\n\r\n    try (Stream&lt;String&gt; stream = Files.lines(Paths.get(fileName))) {\r\n\t\t\tstream.forEach(System.out::println);\r\n    }\r\n\r\nNOTE: You have to place the Stream in a [try-with-resource][1] block to ensure the #close method is called on it, otherwise the underlying file handle is never closed until GC does it much later.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html","title":"How can I read a large text file line by line using Java?","body":"<p>A common pattern is to use</p>\n\n<pre><code>try (BufferedReader br = new BufferedReader(new FileReader(file))) {\n    String line;\n    while ((line = br.readLine()) != null) {\n       // process the line.\n    }\n}\n</code></pre>\n\n<p>You can read the data faster if you assume there is no character encoding. e.g. ASCII-7 but it won't make much difference.  It is highly likely that what you do with the data will take much longer.</p>\n\n<p>EDIT: A less common pattern to use which avoids the scope of <code>line</code> leaking.</p>\n\n<pre><code>try(BufferedReader br = new BufferedReader(new FileReader(file))) {\n    for(String line; (line = br.readLine()) != null; ) {\n        // process the line.\n    }\n    // line is not visible here.\n}\n</code></pre>\n\n<hr>\n\n<p>UPDATE: In Java 8 you can do</p>\n\n<pre><code>try (Stream&lt;String&gt; stream = Files.lines(Paths.get(fileName))) {\n        stream.forEach(System.out::println);\n}\n</code></pre>\n\n<p>NOTE: You have to place the Stream in a <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"noreferrer\">try-with-resource</a> block to ensure the #close method is called on it, otherwise the underlying file handle is never closed until GC does it much later.</p>\n"},{"tags":[],"owner":{"account_id":1377732,"reputation":575,"user_id":1311387,"display_name":"DarkStar"},"down_vote_count":3,"up_vote_count":44,"is_accepted":false,"score":41,"last_activity_date":1661940033,"creation_date":1364358284,"answer_id":15651884,"question_id":5868369,"body_markdown":"Here is a sample with full error handling and supporting charset specification for pre-Java 7.  With Java 7 you can use try-with-resources syntax, which makes the code cleaner.\r\n\r\nIf you just want the default charset you can skip the InputStream and use FileReader.\r\n\r\n    InputStream ins = null; // raw byte-stream\r\n    Reader r = null; // cooked reader\r\n    BufferedReader br = null; // buffered for readLine()\r\n    try {\r\n        String s;\r\n        if (true) {\r\n            String data = &quot;#foobar\\t1234\\n#xyz\\t5678\\none\\ttwo\\n&quot;;\r\n            ins = new ByteArrayInputStream(data.getBytes());\r\n        } else {\r\n            ins = new FileInputStream(&quot;textfile.txt&quot;);\r\n        }\r\n        r = new InputStreamReader(ins, &quot;UTF-8&quot;); // leave charset out for default\r\n        br = new BufferedReader(r);\r\n        while ((s = br.readLine()) != null) {\r\n            System.out.println(s);\r\n        }\r\n    }\r\n    catch (Exception e)\r\n    {\r\n        System.err.println(e.getMessage()); // handle exception\r\n    }\r\n    finally {\r\n        if (br != null) { try { br.close(); } catch(Throwable t) { /* ensure close happens */ } }\r\n        if (r != null) { try { r.close(); } catch(Throwable t) { /* ensure close happens */ } }\r\n        if (ins != null) { try { ins.close(); } catch(Throwable t) { /* ensure close happens */ } }\r\n    }\r\n\r\nHere is the Groovy version, with full error handling:\r\n\r\n    File f = new File(&quot;textfile.txt&quot;);\r\n    f.withReader(&quot;UTF-8&quot;) { br -&gt;\r\n        br.eachLine { line -&gt;\r\n            println line;\r\n        }\r\n    }\r\n","title":"How can I read a large text file line by line using Java?","body":"<p>Here is a sample with full error handling and supporting charset specification for pre-Java 7.  With Java 7 you can use try-with-resources syntax, which makes the code cleaner.</p>\n<p>If you just want the default charset you can skip the InputStream and use FileReader.</p>\n<pre><code>InputStream ins = null; // raw byte-stream\nReader r = null; // cooked reader\nBufferedReader br = null; // buffered for readLine()\ntry {\n    String s;\n    if (true) {\n        String data = &quot;#foobar\\t1234\\n#xyz\\t5678\\none\\ttwo\\n&quot;;\n        ins = new ByteArrayInputStream(data.getBytes());\n    } else {\n        ins = new FileInputStream(&quot;textfile.txt&quot;);\n    }\n    r = new InputStreamReader(ins, &quot;UTF-8&quot;); // leave charset out for default\n    br = new BufferedReader(r);\n    while ((s = br.readLine()) != null) {\n        System.out.println(s);\n    }\n}\ncatch (Exception e)\n{\n    System.err.println(e.getMessage()); // handle exception\n}\nfinally {\n    if (br != null) { try { br.close(); } catch(Throwable t) { /* ensure close happens */ } }\n    if (r != null) { try { r.close(); } catch(Throwable t) { /* ensure close happens */ } }\n    if (ins != null) { try { ins.close(); } catch(Throwable t) { /* ensure close happens */ } }\n}\n</code></pre>\n<p>Here is the Groovy version, with full error handling:</p>\n<pre><code>File f = new File(&quot;textfile.txt&quot;);\nf.withReader(&quot;UTF-8&quot;) { br -&gt;\n    br.eachLine { line -&gt;\n        println line;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3090265,"reputation":8447,"user_id":2616537,"accept_rate":33,"display_name":"msayag"},"down_vote_count":1,"up_vote_count":133,"is_accepted":false,"score":132,"last_activity_date":1586393764,"creation_date":1374778718,"answer_id":17866514,"question_id":5868369,"body_markdown":"Once Java 8 is out (March 2014) you&#39;ll be able to use streams:\r\n\r\n    try (Stream&lt;String&gt; lines = Files.lines(Paths.get(filename), Charset.defaultCharset())) {\r\n      lines.forEachOrdered(line -&gt; process(line));\r\n    }\r\n\r\nPrinting all the lines in the file:\r\n\r\n    try (Stream&lt;String&gt; lines = Files.lines(file, Charset.defaultCharset())) {\r\n      lines.forEachOrdered(System.out::println);\r\n    }\r\n\r\n\r\n","title":"How can I read a large text file line by line using Java?","body":"<p>Once Java 8 is out (March 2014) you'll be able to use streams:</p>\n\n<pre><code>try (Stream&lt;String&gt; lines = Files.lines(Paths.get(filename), Charset.defaultCharset())) {\n  lines.forEachOrdered(line -&gt; process(line));\n}\n</code></pre>\n\n<p>Printing all the lines in the file:</p>\n\n<pre><code>try (Stream&lt;String&gt; lines = Files.lines(file, Charset.defaultCharset())) {\n  lines.forEachOrdered(System.out::println);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"down_vote_count":2,"up_vote_count":22,"is_accepted":false,"score":20,"last_activity_date":1425826655,"creation_date":1387100328,"answer_id":20593147,"question_id":5868369,"body_markdown":"In Java 8, you could do:\r\n\r\n    try (Stream&lt;String&gt; lines = Files.lines (file, StandardCharsets.UTF_8))\r\n    {\r\n        for (String line : (Iterable&lt;String&gt;) lines::iterator)\r\n        {\r\n            ;\r\n        }\r\n    }\r\n\r\nSome notes: The stream returned by `Files.lines` (unlike most streams) needs to be closed. For the reasons [mentioned here](https://stackoverflow.com/a/20177092/1151521) I avoid using `forEach()`. The strange code `(Iterable&lt;String&gt;) lines::iterator` casts a Stream to an Iterable.","title":"How can I read a large text file line by line using Java?","body":"<p>In Java 8, you could do:</p>\n\n<pre><code>try (Stream&lt;String&gt; lines = Files.lines (file, StandardCharsets.UTF_8))\n{\n    for (String line : (Iterable&lt;String&gt;) lines::iterator)\n    {\n        ;\n    }\n}\n</code></pre>\n\n<p>Some notes: The stream returned by <code>Files.lines</code> (unlike most streams) needs to be closed. For the reasons <a href=\"https://stackoverflow.com/a/20177092/1151521\">mentioned here</a> I avoid using <code>forEach()</code>. The strange code <code>(Iterable&lt;String&gt;) lines::iterator</code> casts a Stream to an Iterable.</p>\n"},{"tags":[],"owner":{"account_id":1345711,"reputation":477,"user_id":1286522,"display_name":"Diego Duarte"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1412175117,"creation_date":1397004735,"answer_id":22950921,"question_id":5868369,"body_markdown":"In Java 7:\r\n\r\n    String folderPath = &quot;C:/folderOfMyFile&quot;;\r\n    Path path = Paths.get(folderPath, &quot;myFileName.csv&quot;); //or any text file eg.: txt, bat, etc\r\n    Charset charset = Charset.forName(&quot;UTF-8&quot;);\r\n    \r\n    try (BufferedReader reader = Files.newBufferedReader(path , charset)) {\r\n      while ((line = reader.readLine()) != null ) {\r\n        //separate all csv fields into string array\r\n        String[] lineVariables = line.split(&quot;,&quot;); \r\n      }\r\n    } catch (IOException e) {\r\n        System.err.println(e);\r\n    }\r\n      ","title":"How can I read a large text file line by line using Java?","body":"<p>In Java 7:</p>\n\n<pre><code>String folderPath = \"C:/folderOfMyFile\";\nPath path = Paths.get(folderPath, \"myFileName.csv\"); //or any text file eg.: txt, bat, etc\nCharset charset = Charset.forName(\"UTF-8\");\n\ntry (BufferedReader reader = Files.newBufferedReader(path , charset)) {\n  while ((line = reader.readLine()) != null ) {\n    //separate all csv fields into string array\n    String[] lineVariables = line.split(\",\"); \n  }\n} catch (IOException e) {\n    System.err.println(e);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":388570,"reputation":88646,"user_id":747579,"accept_rate":72,"display_name":"Abdennour TOUMI"},"down_vote_count":6,"up_vote_count":14,"is_accepted":false,"score":8,"last_activity_date":1586393679,"creation_date":1400588698,"answer_id":23759788,"question_id":5868369,"body_markdown":"### Java 9:\n\n    try (Stream&lt;String&gt; stream = Files.lines(Paths.get(fileName))) {\n        stream.forEach(System.out::println);\n    }\n\n\n\n\n\n","title":"How can I read a large text file line by line using Java?","body":"<h3>Java 9:</h3>\n<pre><code>try (Stream&lt;String&gt; stream = Files.lines(Paths.get(fileName))) {\n    stream.forEach(System.out::println);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":194169,"reputation":49718,"user_id":436341,"accept_rate":67,"display_name":"live-love"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1500523454,"creation_date":1422305034,"answer_id":28158401,"question_id":5868369,"body_markdown":"FileReader won&#39;t let you specify the encoding, use `InputStreamReader `instead if you need to specify it:\r\n\r\n    try {\r\n\t\tBufferedReader br = new BufferedReader(new InputStreamReader(new FileInputStream(filePath), &quot;Cp1252&quot;));\t\t\t\r\n\t\t\t\r\n\t\tString line;\r\n\t\twhile ((line = br.readLine()) != null) {\r\n\t\t\t// process the line.\r\n\t\t}\r\n\t\tbr.close();\r\n\r\n\t} catch (IOException e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n\r\nIf you imported this file from Windows, it might have ANSI encoding (Cp1252), so you have to specify the encoding. \r\n","title":"How can I read a large text file line by line using Java?","body":"<p>FileReader won't let you specify the encoding, use <code>InputStreamReader</code>instead if you need to specify it:</p>\n\n<pre><code>try {\n    BufferedReader br = new BufferedReader(new InputStreamReader(new FileInputStream(filePath), \"Cp1252\"));         \n\n    String line;\n    while ((line = br.readLine()) != null) {\n        // process the line.\n    }\n    br.close();\n\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>If you imported this file from Windows, it might have ANSI encoding (Cp1252), so you have to specify the encoding. </p>\n"},{"tags":[],"owner":{"account_id":1749879,"reputation":3381,"user_id":1599213,"accept_rate":33,"display_name":"To Kra"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1586393328,"creation_date":1429692661,"answer_id":29792319,"question_id":5868369,"body_markdown":"You can also use [Apache Commons IO][1]:\r\n    \r\n    File file = new File(&quot;/home/user/file.txt&quot;);\r\n\ttry {\r\n\t\tList&lt;String&gt; lines = FileUtils.readLines(file);\r\n\t} catch (IOException e) {\r\n\t\t// TODO Auto-generated catch block\r\n\t\te.printStackTrace();\r\n\t}\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Apache_Commons#Commons_Proper\r\n","title":"How can I read a large text file line by line using Java?","body":"<p>You can also use <a href=\"https://en.wikipedia.org/wiki/Apache_Commons#Commons_Proper\" rel=\"nofollow noreferrer\">Apache Commons IO</a>:</p>\n\n<pre><code>File file = new File(\"/home/user/file.txt\");\ntry {\n    List&lt;String&gt; lines = FileUtils.readLines(file);\n} catch (IOException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3688787,"reputation":3018,"user_id":3071928,"accept_rate":57,"display_name":"Binkan Salaryman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1432282121,"creation_date":1432282121,"answer_id":30391507,"question_id":5868369,"body_markdown":"I usually do the reading routine straightforward: \r\n\r\n    void readResource(InputStream source) throws IOException {\r\n    \tBufferedReader stream = null;\r\n    \ttry {\r\n    \t\tstream = new BufferedReader(new InputStreamReader(source));\r\n    \t\twhile (true) {\r\n    \t\t\tString line = stream.readLine();\r\n    \t\t\tif(line == null) {\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t\t//process line\r\n    \t\t\tSystem.out.println(line)\r\n    \t\t}\r\n    \t} finally {\r\n    \t\tcloseQuiet(stream);\r\n    \t}\r\n    }\r\n    \r\n    static void closeQuiet(Closeable closeable) {\r\n    \tif (closeable != null) {\r\n    \t\ttry {\r\n    \t\t\tcloseable.close();\r\n    \t\t} catch (IOException ignore) {\r\n    \t\t}\r\n    \t}\r\n    }","title":"How can I read a large text file line by line using Java?","body":"<p>I usually do the reading routine straightforward: </p>\n\n<pre><code>void readResource(InputStream source) throws IOException {\n    BufferedReader stream = null;\n    try {\n        stream = new BufferedReader(new InputStreamReader(source));\n        while (true) {\n            String line = stream.readLine();\n            if(line == null) {\n                break;\n            }\n            //process line\n            System.out.println(line)\n        }\n    } finally {\n        closeQuiet(stream);\n    }\n}\n\nstatic void closeQuiet(Closeable closeable) {\n    if (closeable != null) {\n        try {\n            closeable.close();\n        } catch (IOException ignore) {\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":549364,"reputation":20582,"user_id":2986905,"accept_rate":78,"display_name":"R&#252;diger Herrmann"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1572607736,"creation_date":1436263981,"answer_id":31265714,"question_id":5868369,"body_markdown":"In Java 8, there is also an alternative to using [`Files.lines()`](https://stackoverflow.com/a/17866514/2986905). If your input source isn&#39;t a file but something more abstract like a `Reader` or an `InputStream`, you can _stream_ the lines via the `BufferedReader`s `lines()` method.\r\n\r\nFor example:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    try (BufferedReader reader = new BufferedReader(...)) {\r\n      reader.lines().forEach(line -&gt; processLine(line));\r\n    }\r\n\r\nwill call `processLine()` for each input line read by the `BufferedReader`.\r\n\r\n","title":"How can I read a large text file line by line using Java?","body":"<p>In Java 8, there is also an alternative to using <a href=\"https://stackoverflow.com/a/17866514/2986905\"><code>Files.lines()</code></a>. If your input source isn't a file but something more abstract like a <code>Reader</code> or an <code>InputStream</code>, you can <em>stream</em> the lines via the <code>BufferedReader</code>s <code>lines()</code> method.</p>\n\n<p>For example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>try (BufferedReader reader = new BufferedReader(...)) {\n  reader.lines().forEach(line -&gt; processLine(line));\n}\n</code></pre>\n\n<p>will call <code>processLine()</code> for each input line read by the <code>BufferedReader</code>.</p>\n"},{"tags":[],"owner":{"account_id":6939057,"reputation":358,"user_id":5326059,"display_name":"iskandarchacra"},"down_vote_count":2,"up_vote_count":23,"is_accepted":false,"score":21,"last_activity_date":1460635259,"creation_date":1442083386,"answer_id":32542424,"question_id":5868369,"body_markdown":"What you can do is scan the entire text using Scanner and go through the text line by line.\r\nOf course you should import the following:\r\n\r\n    import java.io.File;\r\n    import java.io.FileNotFoundException;\r\n    import java.util.Scanner;\r\n    public static void readText throws FileNotFoundException {\r\n\t\tScanner scan = new Scanner(new File(&quot;samplefilename.txt&quot;));\r\n\t\twhile(scan.hasNextLine()){\r\n\t\t\tString line = scan.nextLine();\r\n\t\t\t//Here you can manipulate the string the way you want\r\n\t\t}\r\n\t}\r\n\t\r\nScanner basically scans all the text. The while loop is used to traverse through the entire text.\r\n\r\nThe `.hasNextLine()` function is a boolean that returns true if there are still more lines in the text. The `.nextLine()` function gives you an entire line as a String which you can then use the way you want. Try `System.out.println(line)` to print the text.\r\n\r\nSide Note: .txt is the file type text.","title":"How can I read a large text file line by line using Java?","body":"<p>What you can do is scan the entire text using Scanner and go through the text line by line.\nOf course you should import the following:</p>\n\n<pre><code>import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.Scanner;\npublic static void readText throws FileNotFoundException {\n    Scanner scan = new Scanner(new File(\"samplefilename.txt\"));\n    while(scan.hasNextLine()){\n        String line = scan.nextLine();\n        //Here you can manipulate the string the way you want\n    }\n}\n</code></pre>\n\n<p>Scanner basically scans all the text. The while loop is used to traverse through the entire text.</p>\n\n<p>The <code>.hasNextLine()</code> function is a boolean that returns true if there are still more lines in the text. The <code>.nextLine()</code> function gives you an entire line as a String which you can then use the way you want. Try <code>System.out.println(line)</code> to print the text.</p>\n\n<p>Side Note: .txt is the file type text.</p>\n"},{"tags":[],"owner":{"account_id":8654966,"reputation":7229,"user_id":6479530,"accept_rate":100,"display_name":"Rajamohan S"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1473298968,"creation_date":1471707217,"answer_id":39055850,"question_id":5868369,"body_markdown":"The clear way to achieve this,\r\n\r\nFor example:\r\n\r\nIf you have `dataFile.txt` on your current directory\r\n\r\n    import java.io.*;\r\n    import java.util.Scanner;\r\n    import java.io.FileNotFoundException;\r\n    \r\n    public class readByLine\r\n    {\r\n    \tpublic readByLine() throws FileNotFoundException\r\n    \t{\r\n    \t\tScanner linReader = new Scanner(new File(&quot;dataFile.txt&quot;));\r\n    \t\t\r\n    \t\twhile (linReader.hasNext())\r\n    \t\t{\r\n    \t\t\tString line = linReader.nextLine();\r\n    \t\t\tSystem.out.println(line);\r\n    \t\t}\r\n    \t\tlinReader.close();\r\n    \r\n    \t}\r\n    \t\r\n    \tpublic static void main(String args[])  throws FileNotFoundException\r\n    \t{\r\n    \t\tnew readByLine();\r\n    \t}\r\n    }\r\n\r\nThe output like as below,\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/W3xLx.jpg","title":"How can I read a large text file line by line using Java?","body":"<p>The clear way to achieve this,</p>\n\n<p>For example:</p>\n\n<p>If you have <code>dataFile.txt</code> on your current directory</p>\n\n<pre><code>import java.io.*;\nimport java.util.Scanner;\nimport java.io.FileNotFoundException;\n\npublic class readByLine\n{\n    public readByLine() throws FileNotFoundException\n    {\n        Scanner linReader = new Scanner(new File(\"dataFile.txt\"));\n\n        while (linReader.hasNext())\n        {\n            String line = linReader.nextLine();\n            System.out.println(line);\n        }\n        linReader.close();\n\n    }\n\n    public static void main(String args[])  throws FileNotFoundException\n    {\n        new readByLine();\n    }\n}\n</code></pre>\n\n<p>The output like as below,\n<a href=\"https://i.stack.imgur.com/W3xLx.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W3xLx.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":5440948,"reputation":257,"user_id":4329067,"display_name":"Ankit Sood"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1586393205,"creation_date":1492681548,"answer_id":43515927,"question_id":5868369,"body_markdown":"For **reading a file** with Java 8\r\n\r\n    package com.java.java8;\r\n\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n    import java.util.stream.Stream;\r\n\r\n    /**\r\n     * The Class ReadLargeFile.\r\n     *\r\n     * @author Ankit Sood Apr 20, 2017\r\n     */\r\n    public class ReadLargeFile {\r\n\r\n        /**\r\n         * The main method.\r\n         *\r\n         * @param args\r\n         *            the arguments\r\n         */\r\n        public static void main(String[] args) {\r\n            try {\r\n                Stream&lt;String&gt; stream = Files.lines(Paths.get(&quot;C:\\\\Users\\\\System\\\\Desktop\\\\demoData.txt&quot;));\r\n                stream.forEach(System.out::println);\r\n            }\r\n            catch (Exception e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"How can I read a large text file line by line using Java?","body":"<p>For <strong>reading a file</strong> with Java 8</p>\n\n<pre><code>package com.java.java8;\n\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.util.stream.Stream;\n\n/**\n * The Class ReadLargeFile.\n *\n * @author Ankit Sood Apr 20, 2017\n */\npublic class ReadLargeFile {\n\n    /**\n     * The main method.\n     *\n     * @param args\n     *            the arguments\n     */\n    public static void main(String[] args) {\n        try {\n            Stream&lt;String&gt; stream = Files.lines(Paths.get(\"C:\\\\Users\\\\System\\\\Desktop\\\\demoData.txt\"));\n            stream.forEach(System.out::println);\n        }\n        catch (Exception e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6658805,"reputation":121,"user_id":5138517,"display_name":"Dipendra Ghatal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1505644322,"creation_date":1505642836,"answer_id":46262860,"question_id":5868369,"body_markdown":"\tBufferedReader br;\r\n\tFileInputStream fin;\r\n\ttry {\r\n\t\tfin = new FileInputStream(fileName);\r\n\t\tbr = new BufferedReader(new InputStreamReader(fin));\r\n\t\t\t\r\n\t\t/*Path pathToFile = Paths.get(fileName);\r\n\t\tbr = Files.newBufferedReader(pathToFile,StandardCharsets.US_ASCII);*/\r\n\t\t\t\r\n\t\tString line = br.readLine();\r\n\t\twhile (line != null) {\r\n\t\t\tString[] attributes = line.split(&quot;,&quot;);\r\n\t\t\tMovie movie = createMovie(attributes);\r\n\t\t\tmovies.add(movie);\r\n\t\t\tline = br.readLine();\r\n\t\t}\r\n\t\tfin.close();\r\n\t\tbr.close();\r\n\t} catch (FileNotFoundException e) {\r\n\t\tSystem.out.println(&quot;Your Message&quot;);\r\n\t} catch (IOException e) {\r\n\t\tSystem.out.println(&quot;Your Message&quot;);\r\n\t}\r\n\r\nIt works for me. Hope It will help you too.","title":"How can I read a large text file line by line using Java?","body":"<pre><code>BufferedReader br;\nFileInputStream fin;\ntry {\n    fin = new FileInputStream(fileName);\n    br = new BufferedReader(new InputStreamReader(fin));\n\n    /*Path pathToFile = Paths.get(fileName);\n    br = Files.newBufferedReader(pathToFile,StandardCharsets.US_ASCII);*/\n\n    String line = br.readLine();\n    while (line != null) {\n        String[] attributes = line.split(\",\");\n        Movie movie = createMovie(attributes);\n        movies.add(movie);\n        line = br.readLine();\n    }\n    fin.close();\n    br.close();\n} catch (FileNotFoundException e) {\n    System.out.println(\"Your Message\");\n} catch (IOException e) {\n    System.out.println(\"Your Message\");\n}\n</code></pre>\n\n<p>It works for me. Hope It will help you too.</p>\n"},{"tags":[],"owner":{"account_id":1880699,"reputation":65,"user_id":1700966,"display_name":"spidy"},"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1506586547,"creation_date":1506079705,"answer_id":46363708,"question_id":5868369,"body_markdown":"You can use streams to do it more precisely:\r\n\r\n    Files.lines(Paths.get(&quot;input.txt&quot;)).forEach(s -&gt; stringBuffer.append(s);\r\n\r\n","title":"How can I read a large text file line by line using Java?","body":"<p>You can use streams to do it more precisely:</p>\n\n<pre><code>Files.lines(Paths.get(\"input.txt\")).forEach(s -&gt; stringBuffer.append(s);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2527555,"reputation":535,"user_id":2196607,"display_name":"Usman"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1509046974,"creation_date":1509046974,"answer_id":46962549,"question_id":5868369,"body_markdown":"You can use this code:\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.File;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    \r\n    public class ReadTextFile {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n    \r\n            try {\r\n    \r\n                File f = new File(&quot;src/com/data.txt&quot;);\r\n    \r\n                BufferedReader b = new BufferedReader(new FileReader(f));\r\n    \r\n                String readLine = &quot;&quot;;\r\n    \r\n                System.out.println(&quot;Reading file using Buffered Reader&quot;);\r\n    \r\n                while ((readLine = b.readLine()) != null) {\r\n                    System.out.println(readLine);\r\n                }\r\n    \r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n        }\r\n    \r\n    }","title":"How can I read a large text file line by line using Java?","body":"<p>You can use this code:</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileReader;\nimport java.io.IOException;\n\npublic class ReadTextFile {\n\n    public static void main(String[] args) throws IOException {\n\n        try {\n\n            File f = new File(\"src/com/data.txt\");\n\n            BufferedReader b = new BufferedReader(new FileReader(f));\n\n            String readLine = \"\";\n\n            System.out.println(\"Reading file using Buffered Reader\");\n\n            while ((readLine = b.readLine()) != null) {\n                System.out.println(readLine);\n            }\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7531567,"reputation":2637,"user_id":5719544,"display_name":"gomisha"},"down_vote_count":2,"up_vote_count":30,"is_accepted":false,"score":28,"last_activity_date":1523146200,"creation_date":1523146200,"answer_id":49713184,"question_id":5868369,"body_markdown":"I documented and tested [10 different ways to read a file in Java][1] and then ran them against each other by making them read in test files from 1KB to 1GB. Here are the fastest 3 file reading methods for reading a 1GB test file.\r\n\r\nNote that when running the performance tests I didn&#39;t output anything to the console since that would really slow down the test. I just wanted to test the raw reading speed.\r\n\r\n1) java.nio.file.Files.readAllBytes()\r\n\r\nTested in Java 7, 8, 9. This was overall the fastest method. Reading a 1GB file was consistently just under 1 second.\r\n\r\n    import java.io..File;\r\n    import java.io.IOException;\r\n    import java.nio.file.Files;\r\n     \r\n    public class ReadFile_Files_ReadAllBytes {\r\n      public static void main(String [] pArgs) throws IOException {\r\n        String fileName = &quot;c:\\\\temp\\\\sample-1GB.txt&quot;;\r\n        File file = new File(fileName);\r\n     \r\n        byte [] fileBytes = Files.readAllBytes(file.toPath());\r\n        char singleChar;\r\n        for(byte b : fileBytes) {\r\n          singleChar = (char) b;\r\n          System.out.print(singleChar);\r\n        }\r\n      }\r\n    }\r\n\r\n2) java.nio.file.Files.lines()\r\n\r\nThis was tested successfully in Java 8 and 9 but it won&#39;t work in Java 7 because of the lack of support for lambda expressions. It took about 3.5 seconds to read in a 1GB file which put it in second place as far as reading larger files.\r\n\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.nio.file.Files;\r\n    import java.util.stream.Stream;\r\n     \r\n    public class ReadFile_Files_Lines {\r\n      public static void main(String[] pArgs) throws IOException {\r\n        String fileName = &quot;c:\\\\temp\\\\sample-1GB.txt&quot;;\r\n        File file = new File(fileName);\r\n     \r\n        try (Stream linesStream = Files.lines(file.toPath())) {\r\n          linesStream.forEach(line -&gt; {\r\n            System.out.println(line);\r\n          });\r\n        }\r\n      }\r\n    }\r\n\r\n3) BufferedReader\r\n\r\nTested to work in Java 7, 8, 9. This took about 4.5 seconds to read in a 1GB test file.\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n     \r\n    public class ReadFile_BufferedReader_ReadLine {\r\n      public static void main(String [] args) throws IOException {\r\n        String fileName = &quot;c:\\\\temp\\\\sample-1GB.txt&quot;;\r\n        FileReader fileReader = new FileReader(fileName);\r\n     \r\n        try (BufferedReader bufferedReader = new BufferedReader(fileReader)) {\r\n          String line;\r\n          while((line = bufferedReader.readLine()) != null) {\r\n            System.out.println(line);\r\n          }\r\n        }\r\n      }\r\n\r\nYou can find the complete rankings for all 10 file reading methods [here][2].\r\n\r\n\r\n  [1]: https://funnelgarden.com/java_read_file/\r\n  [2]: https://funnelgarden.com/java_read_file/#Performance_Rankings","title":"How can I read a large text file line by line using Java?","body":"<p>I documented and tested <a href=\"https://funnelgarden.com/java_read_file/\" rel=\"noreferrer\">10 different ways to read a file in Java</a> and then ran them against each other by making them read in test files from 1KB to 1GB. Here are the fastest 3 file reading methods for reading a 1GB test file.</p>\n\n<p>Note that when running the performance tests I didn't output anything to the console since that would really slow down the test. I just wanted to test the raw reading speed.</p>\n\n<p>1) java.nio.file.Files.readAllBytes()</p>\n\n<p>Tested in Java 7, 8, 9. This was overall the fastest method. Reading a 1GB file was consistently just under 1 second.</p>\n\n<pre><code>import java.io..File;\nimport java.io.IOException;\nimport java.nio.file.Files;\n\npublic class ReadFile_Files_ReadAllBytes {\n  public static void main(String [] pArgs) throws IOException {\n    String fileName = \"c:\\\\temp\\\\sample-1GB.txt\";\n    File file = new File(fileName);\n\n    byte [] fileBytes = Files.readAllBytes(file.toPath());\n    char singleChar;\n    for(byte b : fileBytes) {\n      singleChar = (char) b;\n      System.out.print(singleChar);\n    }\n  }\n}\n</code></pre>\n\n<p>2) java.nio.file.Files.lines()</p>\n\n<p>This was tested successfully in Java 8 and 9 but it won't work in Java 7 because of the lack of support for lambda expressions. It took about 3.5 seconds to read in a 1GB file which put it in second place as far as reading larger files.</p>\n\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.util.stream.Stream;\n\npublic class ReadFile_Files_Lines {\n  public static void main(String[] pArgs) throws IOException {\n    String fileName = \"c:\\\\temp\\\\sample-1GB.txt\";\n    File file = new File(fileName);\n\n    try (Stream linesStream = Files.lines(file.toPath())) {\n      linesStream.forEach(line -&gt; {\n        System.out.println(line);\n      });\n    }\n  }\n}\n</code></pre>\n\n<p>3) BufferedReader</p>\n\n<p>Tested to work in Java 7, 8, 9. This took about 4.5 seconds to read in a 1GB test file.</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\n\npublic class ReadFile_BufferedReader_ReadLine {\n  public static void main(String [] args) throws IOException {\n    String fileName = \"c:\\\\temp\\\\sample-1GB.txt\";\n    FileReader fileReader = new FileReader(fileName);\n\n    try (BufferedReader bufferedReader = new BufferedReader(fileReader)) {\n      String line;\n      while((line = bufferedReader.readLine()) != null) {\n        System.out.println(line);\n      }\n    }\n  }\n</code></pre>\n\n<p>You can find the complete rankings for all 10 file reading methods <a href=\"https://funnelgarden.com/java_read_file/#Performance_Rankings\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":4192718,"reputation":1097,"user_id":3434956,"accept_rate":95,"display_name":"mohsen.nour"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1586393077,"creation_date":1547885942,"answer_id":54265271,"question_id":5868369,"body_markdown":"By using the ***org.apache.commons.io*** package, it gave more performance, especially in legacy code which uses Java 6 and below.\r\n\r\nJava 7 has a better API with fewer exceptions\r\nhandling and more useful methods:\r\n\r\n    LineIterator lineIterator = null;\r\n    try {\r\n        lineIterator = FileUtils.lineIterator(new File(&quot;/home/username/m.log&quot;), &quot;windows-1256&quot;); // The second parameter is optionnal\r\n        while (lineIterator.hasNext()) {\r\n            String currentLine = lineIterator.next();\r\n            // Some operation\r\n        }\r\n    }\r\n    finally {\r\n        LineIterator.closeQuietly(lineIterator);\r\n    }\r\n\r\n###Maven\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/commons-io/commons-io --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\n\r\n","title":"How can I read a large text file line by line using Java?","body":"<p>By using the <strong><em>org.apache.commons.io</em></strong> package, it gave more performance, especially in legacy code which uses Java 6 and below.</p>\n\n<p>Java 7 has a better API with fewer exceptions\nhandling and more useful methods:</p>\n\n<pre><code>LineIterator lineIterator = null;\ntry {\n    lineIterator = FileUtils.lineIterator(new File(\"/home/username/m.log\"), \"windows-1256\"); // The second parameter is optionnal\n    while (lineIterator.hasNext()) {\n        String currentLine = lineIterator.next();\n        // Some operation\n    }\n}\nfinally {\n    LineIterator.closeQuietly(lineIterator);\n}\n</code></pre>\n\n<h3>Maven</h3>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/commons-io/commons-io --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;commons-io&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n    &lt;version&gt;2.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11726648,"reputation":19523,"user_id":8583692,"display_name":"Mahozad"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1671375895,"creation_date":1671375895,"answer_id":74842424,"question_id":5868369,"body_markdown":"For Android developers ending up here (who use **Kotlin**):\r\n\r\n```kotlin\r\nval myFileUrl = object{}.javaClass.getResource(&quot;/vegetables.txt&quot;)\r\nval file = File(myFileUrl.toURI())\r\nfile\r\n    .bufferedReader()\r\n    .lineSequence()\r\n    .forEach(::println)\r\n```\r\n\r\nOr:\r\n\r\n```kotlin\r\nval myFileUrl = object{}.javaClass.getResource(&quot;/vegetables.txt&quot;)\r\nval file = File(myFileUrl.toURI())\r\nfile.useLines { lines -&gt;\r\n    lines.forEach(::println)\r\n}\r\n```\r\n\r\n### Notes:\r\n- The *vegetables.txt* file should be in your classpath (for example, in *src/main/resources* directory)\r\n\r\n- The above solutions all treat the file encodings as `UTF-8` by default. You can specify your desired encoding as the argument for the functions.\r\n\r\n- The above solutions do not need any further action like closing the files or readers. They are automatically taken care of by the Kotlin standard library.\r\n","title":"How can I read a large text file line by line using Java?","body":"<p>For Android developers ending up here (who use <strong>Kotlin</strong>):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val myFileUrl = object{}.javaClass.getResource(&quot;/vegetables.txt&quot;)\nval file = File(myFileUrl.toURI())\nfile\n    .bufferedReader()\n    .lineSequence()\n    .forEach(::println)\n</code></pre>\n<p>Or:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val myFileUrl = object{}.javaClass.getResource(&quot;/vegetables.txt&quot;)\nval file = File(myFileUrl.toURI())\nfile.useLines { lines -&gt;\n    lines.forEach(::println)\n}\n</code></pre>\n<h3>Notes:</h3>\n<ul>\n<li><p>The <em>vegetables.txt</em> file should be in your classpath (for example, in <em>src/main/resources</em> directory)</p>\n</li>\n<li><p>The above solutions all treat the file encodings as <code>UTF-8</code> by default. You can specify your desired encoding as the argument for the functions.</p>\n</li>\n<li><p>The above solutions do not need any further action like closing the files or readers. They are automatically taken care of by the Kotlin standard library.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":746890,"reputation":10135,"user_id":735982,"display_name":"manoj singh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1457311,"favorite_count":0,"down_vote_count":8,"up_vote_count":1015,"answer_count":22,"score":1007,"last_activity_date":1695630006,"creation_date":1304420004,"question_id":5868369,"body_markdown":"I need to read a large text file of around 5-6 GB line by line using Java.\r\n\r\nHow can I do this quickly?\r\n","title":"How can I read a large text file line by line using Java?","body":"<p>I need to read a large text file of around 5-6 GB line by line using Java.</p>\n\n<p>How can I do this quickly?</p>\n"},{"tags":["java","logging","logback"],"answers":[{"tags":[],"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1416517631,"creation_date":1329431835,"answer_id":9320198,"question_id":9320133,"body_markdown":"This is the source code of `JMXConfigurator.reloadDefaultConfiguration()`:\r\n\r\n    public void reloadDefaultConfiguration() throws JoranException {\r\n      ContextInitializer ci = new ContextInitializer(loggerContext);\r\n      URL url = ci.findURLOfDefaultConfigurationFile(true);\r\n      loggerContext.reset();\r\n      ci.configureByResource(url);\r\n    }\r\n\r\nWhat about just running this code wherever you need it?\r\n\r\nThe only problem is the `loggerContext` variable. You can obtain it using:\r\n\r\n    (LoggerContext)LoggerFactory.getILoggerFactory()\r\n\r\nUnfortunately it doesn&#39;t look like there is well-factored API to do this, what about raising an [issue](http://jira.qos.ch/browse)? Also are you aware that Logback has a built-in auto-refreshing feature?","title":"How do I programmatically tell Logback to Reload Configuration","body":"<p>This is the source code of <code>JMXConfigurator.reloadDefaultConfiguration()</code>:</p>\n\n<pre><code>public void reloadDefaultConfiguration() throws JoranException {\n  ContextInitializer ci = new ContextInitializer(loggerContext);\n  URL url = ci.findURLOfDefaultConfigurationFile(true);\n  loggerContext.reset();\n  ci.configureByResource(url);\n}\n</code></pre>\n\n<p>What about just running this code wherever you need it?</p>\n\n<p>The only problem is the <code>loggerContext</code> variable. You can obtain it using:</p>\n\n<pre><code>(LoggerContext)LoggerFactory.getILoggerFactory()\n</code></pre>\n\n<p>Unfortunately it doesn't look like there is well-factored API to do this, what about raising an <a href=\"http://jira.qos.ch/browse\" rel=\"noreferrer\">issue</a>? Also are you aware that Logback has a built-in auto-refreshing feature?</p>\n"},{"tags":[],"owner":{"account_id":1916299,"reputation":1965,"user_id":1728821,"accept_rate":75,"display_name":"sasha_trn"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1358325764,"creation_date":1358325764,"answer_id":14354238,"question_id":9320133,"body_markdown":"I used the following code for this purpose:\r\n\r\n\tpublic static void reloadLogger() {\r\n\t\tLoggerContext loggerContext = (LoggerContext) LoggerFactory.getILoggerFactory();\r\n\r\n\t\tContextInitializer ci = new ContextInitializer(loggerContext);\r\n\t\tURL url = ci.findURLOfDefaultConfigurationFile(true);\r\n\r\n\t\ttry {\r\n\t\t\tJoranConfigurator configurator = new JoranConfigurator();\r\n\t\t\tconfigurator.setContext(loggerContext);\r\n\t\t\tloggerContext.reset();\r\n\t\t\tconfigurator.doConfigure(url);\r\n\t\t} catch (JoranException je) {\r\n\t\t\t// StatusPrinter will handle this\r\n\t\t}\r\n\t\tStatusPrinter.printInCaseOfErrorsOrWarnings(loggerContext);\r\n\t}\r\n","title":"How do I programmatically tell Logback to Reload Configuration","body":"<p>I used the following code for this purpose:</p>\n\n<pre><code>public static void reloadLogger() {\n    LoggerContext loggerContext = (LoggerContext) LoggerFactory.getILoggerFactory();\n\n    ContextInitializer ci = new ContextInitializer(loggerContext);\n    URL url = ci.findURLOfDefaultConfigurationFile(true);\n\n    try {\n        JoranConfigurator configurator = new JoranConfigurator();\n        configurator.setContext(loggerContext);\n        loggerContext.reset();\n        configurator.doConfigure(url);\n    } catch (JoranException je) {\n        // StatusPrinter will handle this\n    }\n    StatusPrinter.printInCaseOfErrorsOrWarnings(loggerContext);\n}\n</code></pre>\n"}],"owner":{"account_id":251345,"reputation":255,"user_id":528653,"display_name":"Yony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7506,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":9320198,"answer_count":2,"score":20,"last_activity_date":1695629073,"creation_date":1329431544,"question_id":9320133,"body_markdown":"I know there&#39;s a reloadDefaultConfiguration() jmx operation, but without getting an instance of MBean and invoking this operation, is there a Logback api to reload the default configuration (optionally specifying a log configuration file path)?","title":"How do I programmatically tell Logback to Reload Configuration","body":"<p>I know there's a reloadDefaultConfiguration() jmx operation, but without getting an instance of MBean and invoking this operation, is there a Logback api to reload the default configuration (optionally specifying a log configuration file path)?</p>\n"},{"tags":["java","wsdl","easywsdl"],"owner":{"account_id":4322574,"reputation":51,"user_id":3530266,"display_name":"dev_jongtae"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695629004,"creation_date":1695628539,"question_id":77170798,"body_markdown":"I found the latest version of the easywsdl library at this link: https://mvnrepository.com/artifact/org.ow2.easywsdl/easywsdl-wsdl. However, I can&#39;t find any documentation or repository (like GitHub) for the latest version. \r\n\r\nI did find a site related to the library at https://easywsdl.ow2.org/user-guides.html, but it hasn&#39;t been updated in a long time. Do you know of any site where I can check the latest information related to this library? \r\n\r\nPlease help.","title":"Where can I find the latest documentation for easyWSDL?","body":"<p>I found the latest version of the easywsdl library at this link: <a href=\"https://mvnrepository.com/artifact/org.ow2.easywsdl/easywsdl-wsdl\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.ow2.easywsdl/easywsdl-wsdl</a>. However, I can't find any documentation or repository (like GitHub) for the latest version.</p>\n<p>I did find a site related to the library at <a href=\"https://easywsdl.ow2.org/user-guides.html\" rel=\"nofollow noreferrer\">https://easywsdl.ow2.org/user-guides.html</a>, but it hasn't been updated in a long time. Do you know of any site where I can check the latest information related to this library?</p>\n<p>Please help.</p>\n"},{"tags":["java","spring","spring-test","java-record"],"comments":[{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":1,"creation_date":1695631910,"post_id":77170814,"comment_id":136045226,"body_markdown":"Does this answer your question? [How to use @ConfigurationProperties with Records?](https://stackoverflow.com/questions/66696828/how-to-use-configurationproperties-with-records)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/66696828/how-to-use-configurationproperties-with-records\">How to use @ConfigurationProperties with Records?</a>"},{"owner":{"account_id":8092269,"reputation":173,"user_id":6097829,"display_name":"Sudhir Kumar"},"score":0,"creation_date":1695634430,"post_id":77170814,"comment_id":136045738,"body_markdown":"@MaksimEliseev No. As I mentioned above configuration works fine when my application boots up i.e. it&#39;s using given default ConstructorBinding. However, it fails during test execution.","body":"@MaksimEliseev No. As I mentioned above configuration works fine when my application boots up i.e. it&#39;s using given default ConstructorBinding. However, it fails during test execution."}],"owner":{"account_id":8092269,"reputation":173,"user_id":6097829,"display_name":"Sudhir Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695628670,"creation_date":1695628670,"question_id":77170814,"body_markdown":"I was trying to use Java Record as a Configuration Property whose fields like url,username and password comes from external properties file. For this, I have following code:\r\n```\r\n@EnableConfigurationProperties(DbConfig.class)\r\n@ConfigurationProperties(prefix = &quot;&quot;) \r\npublic record DbConfig(String url, String username, String password) {\r\n}\r\n```\r\n\r\nSpring boot app using this DbConfig works perfectly fine like DbConfig class&#39;s fields gets initialized correctly from the properties file. However, It fails while writing the Unit test.\r\n\r\nBelow is my test code:\r\n```\r\n@TestPropertySource(locations = &quot;classpath:application-test.properties&quot;)\r\n@SpringJUnitConfig(DbConfig.class)\r\nclass DbConfigTest {\r\n\r\n    @Autowired\r\n    DbConfig dbConfig;\r\n\r\n    @Test\r\n    void shouldReturnExecutorCorrectly() {\r\n        assertEquals(&quot;localhost&quot;, this.dbConfig.url());\r\n        assertEquals(&quot;Hello&quot;, this.dbConfig.username());\r\n        assertEquals(&quot;Password&quot;, this.dbConfig.password());\r\n    }\r\n}\r\n```\r\n\r\nTest fails with error: \r\n\r\n&gt; No qualifying bean of type &#39;java.lang.String&#39; available: expected at least 1 bean which qualifies as autowire candidate.\r\n\r\nSame test runs if I replace existing Record with a Class having a getter and setter. So, seems like during test, Spring is not able map dependency of **DbConfig** class from application-test.properties.\r\n\r\nI have **application-test-properties** \r\n```\r\nurl=localhost\r\nusername=Hello\r\npassword=Password\r\n\r\n```\r\n\r\n","title":"Fail to instantiate Java Record annotated with @ConfigurationProperties","body":"<p>I was trying to use Java Record as a Configuration Property whose fields like url,username and password comes from external properties file. For this, I have following code:</p>\n<pre><code>@EnableConfigurationProperties(DbConfig.class)\n@ConfigurationProperties(prefix = &quot;&quot;) \npublic record DbConfig(String url, String username, String password) {\n}\n</code></pre>\n<p>Spring boot app using this DbConfig works perfectly fine like DbConfig class's fields gets initialized correctly from the properties file. However, It fails while writing the Unit test.</p>\n<p>Below is my test code:</p>\n<pre><code>@TestPropertySource(locations = &quot;classpath:application-test.properties&quot;)\n@SpringJUnitConfig(DbConfig.class)\nclass DbConfigTest {\n\n    @Autowired\n    DbConfig dbConfig;\n\n    @Test\n    void shouldReturnExecutorCorrectly() {\n        assertEquals(&quot;localhost&quot;, this.dbConfig.url());\n        assertEquals(&quot;Hello&quot;, this.dbConfig.username());\n        assertEquals(&quot;Password&quot;, this.dbConfig.password());\n    }\n}\n</code></pre>\n<p>Test fails with error:</p>\n<blockquote>\n<p>No qualifying bean of type 'java.lang.String' available: expected at least 1 bean which qualifies as autowire candidate.</p>\n</blockquote>\n<p>Same test runs if I replace existing Record with a Class having a getter and setter. So, seems like during test, Spring is not able map dependency of <strong>DbConfig</strong> class from application-test.properties.</p>\n<p>I have <strong>application-test-properties</strong></p>\n<pre><code>url=localhost\nusername=Hello\npassword=Password\n\n</code></pre>\n"},{"tags":["java","io","newline","delimiter"],"answers":[{"tags":[],"owner":{"account_id":8156920,"reputation":73,"user_id":6142192,"display_name":"Gamer John"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1460840443,"creation_date":1460840443,"answer_id":36669697,"question_id":36669643,"body_markdown":"After `string = scanner.next();` replace `\\n` that is\r\n\r\n    string = string.replace(&quot;\\n&quot;, &quot;&quot;);\r\n\r\n then print out the string variable .. \r\nThat should do the trick","title":"How do you keep scanner.next() from including newline?","body":"<p>After <code>string = scanner.next();</code> replace <code>\\n</code> that is</p>\n\n<pre><code>string = string.replace(\"\\n\", \"\");\n</code></pre>\n\n<p>then print out the string variable .. \nThat should do the trick</p>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1460840595,"creation_date":1460840595,"answer_id":36669718,"question_id":36669643,"body_markdown":"The [documentation of Scanner][1] says:\n\n&gt; The default whitespace delimiter used by a scanner is as recognized by `Character.isWhitespace`\n\nAnd the linked [documentation of `Character.isWhitespace`][2] says:\n\n&gt; Determines if the specified character is white space according to Java. A character is a Java whitespace character if and only if it satisfies one of the following criteria:\n&gt;\n&gt;   - It is a Unicode space character (SPACE_SEPARATOR, LINE_SEPARATOR, or PARAGRAPH_SEPARATOR) but is not also a non-breaking space (&#39;\\u00A0&#39;, &#39;\\u2007&#39;, &#39;\\u202F&#39;).\n&gt;   - It is &#39;\\t&#39;, U+0009 HORIZONTAL TABULATION.\n&gt;   - It is &#39;\\n&#39;, U+000A LINE FEED.\n&gt;   - It is &#39;\\u000B&#39;, U+000B VERTICAL TABULATION.\n&gt;   - It is &#39;\\f&#39;, U+000C FORM FEED.\n&gt;   - It is &#39;\\r&#39;, U+000D CARRIAGE RETURN.\n&gt;   - It is &#39;\\u001C&#39;, U+001C FILE SEPARATOR.\n&gt;   - It is &#39;\\u001D&#39;, U+001D GROUP SEPARATOR.\n&gt;   - It is &#39;\\u001E&#39;, U+001E RECORD SEPARATOR.\n&gt;   - It is &#39;\\u001F&#39;, U+001F UNIT SEPARATOR. \n\nSo, just don&#39;t set any specific delimiter. Keep the default, and newlines will be considered as a delimiter just like spaces, which means the token won&#39;t include newline characters.\n\n\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#isWhitespace-char-","title":"How do you keep scanner.next() from including newline?","body":"<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html\" rel=\"noreferrer\">documentation of Scanner</a> says:</p>\n<blockquote>\n<p>The default whitespace delimiter used by a scanner is as recognized by <code>Character.isWhitespace</code></p>\n</blockquote>\n<p>And the linked <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#isWhitespace-char-\" rel=\"noreferrer\">documentation of <code>Character.isWhitespace</code></a> says:</p>\n<blockquote>\n<p>Determines if the specified character is white space according to Java. A character is a Java whitespace character if and only if it satisfies one of the following criteria:</p>\n<ul>\n<li>It is a Unicode space character (SPACE_SEPARATOR, LINE_SEPARATOR, or PARAGRAPH_SEPARATOR) but is not also a non-breaking space ('\\u00A0', '\\u2007', '\\u202F').</li>\n<li>It is '\\t', U+0009 HORIZONTAL TABULATION.</li>\n<li>It is '\\n', U+000A LINE FEED.</li>\n<li>It is '\\u000B', U+000B VERTICAL TABULATION.</li>\n<li>It is '\\f', U+000C FORM FEED.</li>\n<li>It is '\\r', U+000D CARRIAGE RETURN.</li>\n<li>It is '\\u001C', U+001C FILE SEPARATOR.</li>\n<li>It is '\\u001D', U+001D GROUP SEPARATOR.</li>\n<li>It is '\\u001E', U+001E RECORD SEPARATOR.</li>\n<li>It is '\\u001F', U+001F UNIT SEPARATOR.</li>\n</ul>\n</blockquote>\n<p>So, just don't set any specific delimiter. Keep the default, and newlines will be considered as a delimiter just like spaces, which means the token won't include newline characters.</p>\n"}],"owner":{"account_id":3476158,"reputation":395,"user_id":2909304,"accept_rate":50,"display_name":"Samuel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10950,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":36669718,"answer_count":2,"score":2,"last_activity_date":1695628205,"creation_date":1460840152,"question_id":36669643,"body_markdown":"I am trying to simply read words in a text file using scanner.next() with delimiter equal &quot; &quot; but the scanner includes the newline/carriage return with the token.\r\n\r\nI have scoured the internet trying to find a good example of this problem and have not found it so I am posting it here. I can&#39;t find another similar problem posted here on SO. I also looked over the documentation on scanner and pattern (http://docs.oracle.com/javase/1.5.0/docs/api/java/util/regex/Pattern.html) but I still cannot find a way to solve this.\r\n\r\n**Text file:**\r\n\r\nThis is a test\r\n\r\nto see if1 this, is working\r\n\r\nok!\r\n\r\n**Code:**\r\n\r\n    int i = 0;\r\n    String string;\r\n    try(Scanner scanner = new Scanner(new File(filename))) {\r\n    \tscanner.useDelimiter(&quot; &quot;);\r\n    \twhile(scanner.hasNext())\r\n    \t{\r\n    \tstring = scanner.next();\r\n    \tSystem.out.println(i++ + &quot;: &quot; + string);\r\n    \t}\r\n    }catch(IOException io_error) {\r\n    \tSystem.out.println(io_error);\r\n    \t}\r\n\r\n**Output:**\r\n\r\n0: This\r\n\r\n1: is\r\n\r\n2: a\r\n\r\n3: test\r\n\r\nto\r\n\r\n4: see\r\n\r\n5: if1\r\n\r\n6: this,\r\n\r\n7: is\r\n\r\n8: working\r\n\r\nok!\r\n\r\nAs you can see, #3 and #8 have two words separated by a newline. (I know I can separate these into two separate strings.)","title":"How do you keep scanner.next() from including newline?","body":"<p>I am trying to simply read words in a text file using scanner.next() with delimiter equal \" \" but the scanner includes the newline/carriage return with the token.</p>\n\n<p>I have scoured the internet trying to find a good example of this problem and have not found it so I am posting it here. I can't find another similar problem posted here on SO. I also looked over the documentation on scanner and pattern (<a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow\">http://docs.oracle.com/javase/1.5.0/docs/api/java/util/regex/Pattern.html</a>) but I still cannot find a way to solve this.</p>\n\n<p><strong>Text file:</strong></p>\n\n<p>This is a test</p>\n\n<p>to see if1 this, is working</p>\n\n<p>ok!</p>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>int i = 0;\nString string;\ntry(Scanner scanner = new Scanner(new File(filename))) {\n    scanner.useDelimiter(\" \");\n    while(scanner.hasNext())\n    {\n    string = scanner.next();\n    System.out.println(i++ + \": \" + string);\n    }\n}catch(IOException io_error) {\n    System.out.println(io_error);\n    }\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<p>0: This</p>\n\n<p>1: is</p>\n\n<p>2: a</p>\n\n<p>3: test</p>\n\n<p>to</p>\n\n<p>4: see</p>\n\n<p>5: if1</p>\n\n<p>6: this,</p>\n\n<p>7: is</p>\n\n<p>8: working</p>\n\n<p>ok!</p>\n\n<p>As you can see, #3 and #8 have two words separated by a newline. (I know I can separate these into two separate strings.)</p>\n"},{"tags":["java","loops","for-loop","fibonacci"],"comments":[{"owner":{"account_id":1378614,"reputation":30076,"user_id":1312080,"accept_rate":55,"display_name":"amphibient"},"score":1,"creation_date":1350946483,"post_id":13021102,"comment_id":17673039,"body_markdown":"this is most definitely homework...","body":"this is most definitely homework..."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1350946847,"post_id":13021102,"comment_id":17673142,"body_markdown":"What do you mean by _&quot;the 6th digit in the sequence&quot;_? Are you concatenating all the fibonacci numbers and then counting digits, as in `112358132134...`? Or do you just want the _nth_ fibonacci number?  If instead of _6th_ you wanted the _8th_ &quot;digit&quot;, what you be expecting to get as output, `21` or `3`?","body":"What do you mean by <i>&quot;the 6th digit in the sequence&quot;</i>? Are you concatenating all the fibonacci numbers and then counting digits, as in <code>112358132134...</code>? Or do you just want the <i>nth</i> fibonacci number?  If instead of <i>6th</i> you wanted the <i>8th</i> &quot;digit&quot;, what you be expecting to get as output, <code>21</code> or <code>3</code>?"},{"owner":{"account_id":1962331,"reputation":77,"user_id":1763504,"display_name":"CydonPrax"},"score":1,"creation_date":1350947004,"post_id":13021102,"comment_id":17673191,"body_markdown":"In the sequence, the first digit is 1. The second is 1. The third is 2...etc..the 8th would be 21, 9th 32...If I wanted to find the 6th(which is 8), how would I find it?","body":"In the sequence, the first digit is 1. The second is 1. The third is 2...etc..the 8th would be 21, 9th 32...If I wanted to find the 6th(which is 8), how would I find it?"},{"owner":{"account_id":185558,"reputation":7305,"user_id":422353,"display_name":"madth3"},"score":3,"creation_date":1350948211,"post_id":13021102,"comment_id":17673513,"body_markdown":"It seems you want the nth Fibonacci *number*, not *digit*.","body":"It seems you want the nth Fibonacci <i>number</i>, not <i>digit</i>."}],"answers":[{"tags":[],"owner":{"account_id":996105,"reputation":182284,"user_id":1011995,"display_name":"Daniel Fischer"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1350946567,"creation_date":1350946567,"answer_id":13021152,"question_id":13021102,"body_markdown":"In your code, `num` starts as the 0&lt;sup&gt;th&lt;/sup&gt; Fibonacci number, and `num1` as the 1&lt;sup&gt;st&lt;/sup&gt;. So to find the n&lt;sup&gt;th&lt;/sup&gt;, you have to iterate the step `n` times:\r\n\r\n    for (loop = 0; loop &lt; n; loop ++)\r\n    {\r\n        fibonacci = num + num2;\r\n        num = num2;\r\n        num2 = fibonacci;\r\n    }\r\n    System.out.print(num);\r\n\r\nand only print it when you&#39;ve finished.\r\n\r\nWhen the loop counter `loop` has the value `k`, `num` holds the k&lt;sup&gt;th&lt;/sup&gt; Fibonacci number and `num2` the (k+1)&lt;sup&gt;th&lt;/sup&gt;.\r\n","title":"In java, how would I find the nth Fibonacci number?","body":"<p>In your code, <code>num</code> starts as the 0<sup>th</sup> Fibonacci number, and <code>num1</code> as the 1<sup>st</sup>. So to find the n<sup>th</sup>, you have to iterate the step <code>n</code> times:</p>\n\n<pre><code>for (loop = 0; loop &lt; n; loop ++)\n{\n    fibonacci = num + num2;\n    num = num2;\n    num2 = fibonacci;\n}\nSystem.out.print(num);\n</code></pre>\n\n<p>and only print it when you've finished.</p>\n\n<p>When the loop counter <code>loop</code> has the value <code>k</code>, <code>num</code> holds the k<sup>th</sup> Fibonacci number and <code>num2</code> the (k+1)<sup>th</sup>.</p>\n"},{"tags":[],"owner":{"account_id":1144131,"reputation":821,"user_id":1127274,"accept_rate":60,"display_name":"ehuang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1350947760,"creation_date":1350947180,"answer_id":13021243,"question_id":13021102,"body_markdown":"To find the n&#39;th digit, we need to know the length of the Fibonacci numbers. You can convert int to string using Java&#39;s `Integer.toString(int)` function. Using the string, one can then determine the length of the converted Fibonacci number.\r\n\r\n\r\nEDIT: Removed code b/c likely hwk question\r\n","title":"In java, how would I find the nth Fibonacci number?","body":"<p>To find the n'th digit, we need to know the length of the Fibonacci numbers. You can convert int to string using Java's <code>Integer.toString(int)</code> function. Using the string, one can then determine the length of the converted Fibonacci number.</p>\n\n<p>EDIT: Removed code b/c likely hwk question</p>\n"},{"tags":[],"owner":{"account_id":2538225,"reputation":1,"user_id":2204728,"display_name":"Colin"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1364137765,"creation_date":1364136479,"answer_id":15599855,"question_id":13021102,"body_markdown":"    import acm.program.*;\r\n    \r\n    public class FibonacciToN extends ConsoleProgram {\r\n    \r\n    \tpublic void run() {\r\n    \t\t\r\n    \t\tprintln(&quot;This program will display a table of Fibonacci numbers up to value n.&quot;);\r\n    \t\tint n = readInt(&quot;Enter an integer for value n: &quot;);\r\n    \t\tint result = sequence(n);  \r\n    \t\t\r\n    \t}\r\n    \t\t\r\n    \tprivate int sequence(int n) {\r\n    \t\t\r\n    \t\tint a = 0;\r\n    \t\tint b = 1;\r\n    \t\t\r\n    \t\twhile (a &lt; n) {  \r\n    \t\t\tprintln(a);\t\r\n    \t\t\ta = a + b;\r\n    \t\t\tb = a - b;\r\n    \t\t\t}\r\n    \t    \r\n    \t\treturn a;\r\n    \t}\r\n    }","title":"In java, how would I find the nth Fibonacci number?","body":"<pre><code>import acm.program.*;\n\npublic class FibonacciToN extends ConsoleProgram {\n\n    public void run() {\n\n        println(\"This program will display a table of Fibonacci numbers up to value n.\");\n        int n = readInt(\"Enter an integer for value n: \");\n        int result = sequence(n);  \n\n    }\n\n    private int sequence(int n) {\n\n        int a = 0;\n        int b = 1;\n\n        while (a &lt; n) {  \n            println(a); \n            a = a + b;\n            b = a - b;\n            }\n\n        return a;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11525046,"reputation":1,"user_id":8445768,"display_name":"kumiko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573592491,"creation_date":1502371880,"answer_id":45615202,"question_id":13021102,"body_markdown":"    import java.util.Scanner;\r\n    public class fibonacci{\r\n\tpublic static void main(String[]args){\r\n\t\tScanner i=new Scanner(System.in);\r\n\t\tString n=System.getProperty(&quot;line.separator&quot;);\r\n\r\n\t\tint count=0,x=0,y=1,sum;\r\n\r\n\t\tSystem.out.println(&quot;Enter a number:  &quot;);\r\n\t\tint n=i.nextInt();\r\n\r\n\t\tfor(count=0;count&lt;n;count++){\r\n\t\t\tSystem.out.print(&quot; &quot;+ x);\r\n\t\t\tsum=x+y;\r\n\t\t\tx=y;\r\n\t\t\ty=sum;\r\n\t\t}\r\n\t  }\r\n    }","title":"In java, how would I find the nth Fibonacci number?","body":"<pre><code>import java.util.Scanner;\npublic class fibonacci{\npublic static void main(String[]args){\n    Scanner i=new Scanner(System.in);\n    String n=System.getProperty(\"line.separator\");\n\n    int count=0,x=0,y=1,sum;\n\n    System.out.println(\"Enter a number:  \");\n    int n=i.nextInt();\n\n    for(count=0;count&lt;n;count++){\n        System.out.print(\" \"+ x);\n        sum=x+y;\n        x=y;\n        y=sum;\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11493708,"reputation":1256,"user_id":8423763,"display_name":"shubhamr238"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1557301207,"creation_date":1557301207,"answer_id":56035807,"question_id":13021102,"body_markdown":"```Java\r\nint n=5;//position of the fibonacci number to find\r\nint fibonacci=0,num=0,num2=1;\r\nfor(int loop=1;loop&lt;n;loop++)\r\n{\r\n   fibonacci=num+num2;\r\n   num=num2;\r\n   num2=fibonacci;\r\n}\r\nSystem.out.println(num);\r\n```","title":"In java, how would I find the nth Fibonacci number?","body":"<pre><code>int n=5;//position of the fibonacci number to find\nint fibonacci=0,num=0,num2=1;\nfor(int loop=1;loop&lt;n;loop++)\n{\n   fibonacci=num+num2;\n   num=num2;\n   num2=fibonacci;\n}\nSystem.out.println(num);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7167179,"reputation":6034,"user_id":5475941,"display_name":"Mohammad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583894237,"creation_date":1583893650,"answer_id":60628432,"question_id":13021102,"body_markdown":"I hope my answer helps. I tried to solve it with the dynamic programming approach. You only need to keep track of two elements till one index before n. When your code is there, the answer will be the summation of elements n-1 and n-2. \r\n\r\n    public class Fibonacci {\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(fib(12));\r\n    }\r\n\r\n    /**\r\n     * Calculate the Fibonacci of n with two int variables and one temp variable. This is using dynamic programming.\r\n     * Time complexity of this approach is O(n). Space complexity of this approach is O(k).\r\n     * 0,1,1,2,3,5,8,13,21,34,55,89,144,...\r\n     *\r\n     *\r\n     * @param n The nth Fibonacci number\r\n     * @return The nth Fibonacci\r\n     */\r\n    public static int fib(int n) {\r\n        if (n == 0 || n == 1) {\r\n            return n;\r\n        }\r\n        // Element 1\r\n        int element1 = 0;\r\n        // Element 2\r\n        int element2 = 1;\r\n        // Move the 2 elements window till one index before the nth.\r\n        for (int i = 2; i &lt; n; i++) {\r\n            // Move the 2 elements window forward.\r\n            int temp = element2;\r\n            element2 = element1 + element2;\r\n            element1 = temp;\r\n        }\r\n        // Return the nth Fibonacci by summing Fibonacci n-1 and n-2\r\n        return element1 + element2;\r\n    }\r\n\r\n}\r\n","title":"In java, how would I find the nth Fibonacci number?","body":"<p>I hope my answer helps. I tried to solve it with the dynamic programming approach. You only need to keep track of two elements till one index before n. When your code is there, the answer will be the summation of elements n-1 and n-2. </p>\n\n<pre><code>public class Fibonacci {\n\npublic static void main(String[] args) {\n    System.out.println(fib(12));\n}\n\n/**\n * Calculate the Fibonacci of n with two int variables and one temp variable. This is using dynamic programming.\n * Time complexity of this approach is O(n). Space complexity of this approach is O(k).\n * 0,1,1,2,3,5,8,13,21,34,55,89,144,...\n *\n *\n * @param n The nth Fibonacci number\n * @return The nth Fibonacci\n */\npublic static int fib(int n) {\n    if (n == 0 || n == 1) {\n        return n;\n    }\n    // Element 1\n    int element1 = 0;\n    // Element 2\n    int element2 = 1;\n    // Move the 2 elements window till one index before the nth.\n    for (int i = 2; i &lt; n; i++) {\n        // Move the 2 elements window forward.\n        int temp = element2;\n        element2 = element1 + element2;\n        element1 = temp;\n    }\n    // Return the nth Fibonacci by summing Fibonacci n-1 and n-2\n    return element1 + element2;\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":21896942,"reputation":1,"user_id":16183096,"display_name":"DEVENDRA Jagtap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624876894,"creation_date":1624692149,"answer_id":68140137,"question_id":13021102,"body_markdown":"    public static void main(String[] args) {\r\n\t\tScanner s = new Scanner(System.in);\r\n\t\t\r\n        int n = s.nextInt();\r\n\t\tint num = 1;\r\n\t\tint num2 = 1;\r\n\t\tint fibonacci;\r\n\t \r\n        for (int i=1; i&lt;n; i++) {\r\n\t\t    fibonacci = num + num2;\r\n\t\t    num = num2;\r\n\t\t    num2 = fibonacci;\r\n\t\t}\r\n\t\tSystem.out.print(num);\r\n    }","title":"In java, how would I find the nth Fibonacci number?","body":"<pre><code>public static void main(String[] args) {\n    Scanner s = new Scanner(System.in);\n    \n    int n = s.nextInt();\n    int num = 1;\n    int num2 = 1;\n    int fibonacci;\n \n    for (int i=1; i&lt;n; i++) {\n        fibonacci = num + num2;\n        num = num2;\n        num2 = fibonacci;\n    }\n    System.out.print(num);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29517307,"reputation":1,"user_id":22620980,"display_name":"bobo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695627978,"creation_date":1695627978,"answer_id":77170732,"question_id":13021102,"body_markdown":"I have restructured the [answer code provided by @Daniel Fischer][1] into a Java method that you can easily incorporate into your development:\r\n\r\n    public class Post13021152 {\r\n        public static int findNthFibonacciNumber(int n) {\r\n            int num = 0;\r\n            int num2 = 1;\r\n            int loop;\r\n            int fibonacci;\r\n            for (loop = 0; loop &lt; n; loop ++) {\r\n                fibonacci = num + num2;\r\n                num = num2;\r\n                num2 = fibonacci;\r\n            }\r\n            return num;\r\n        }\r\n    }\r\n\r\n[1]: https://stackoverflow.com/a/13021152\r\n\r\n","title":"In java, how would I find the nth Fibonacci number?","body":"<p>I have restructured the <a href=\"https://stackoverflow.com/a/13021152\">answer code provided by @Daniel Fischer</a> into a Java method that you can easily incorporate into your development:</p>\n<pre><code>public class Post13021152 {\n    public static int findNthFibonacciNumber(int n) {\n        int num = 0;\n        int num2 = 1;\n        int loop;\n        int fibonacci;\n        for (loop = 0; loop &lt; n; loop ++) {\n            fibonacci = num + num2;\n            num = num2;\n            num2 = fibonacci;\n        }\n        return num;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1962331,"reputation":77,"user_id":1763504,"display_name":"CydonPrax"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51149,"favorite_count":0,"down_vote_count":2,"up_vote_count":8,"accepted_answer_id":13021152,"answer_count":8,"score":6,"last_activity_date":1695627978,"creation_date":1350946282,"question_id":13021102,"body_markdown":"Determining the Fibonacci sequence is easy enough to figure out:\r\n\r\n    int num = 0;\r\n\tint num2 = 1;\r\n\tint loop;\r\n\tint fibonacci;\r\n\tSystem.out.print(num2);\r\n\tfor (loop = 1; loop &lt;= 10; loop ++)\r\n\t{\r\n\t\tfibonacci = num + num2;\r\n\t\tnum = num2;\r\n\t\tnum2 = fibonacci;\r\n\t\tSystem.out.print(&quot; &quot; + fibonacci);\r\n\t}\r\n\r\nMy problem lies with trying to pinpoint the value for a specified *N.* As in, If I want to find the 6th element in the sequence, which is 8, how would I find that number, and only that number?\r\n\t","title":"In java, how would I find the nth Fibonacci number?","body":"<p>Determining the Fibonacci sequence is easy enough to figure out:</p>\n\n<pre><code>int num = 0;\nint num2 = 1;\nint loop;\nint fibonacci;\nSystem.out.print(num2);\nfor (loop = 1; loop &lt;= 10; loop ++)\n{\n    fibonacci = num + num2;\n    num = num2;\n    num2 = fibonacci;\n    System.out.print(\" \" + fibonacci);\n}\n</code></pre>\n\n<p>My problem lies with trying to pinpoint the value for a specified <em>N.</em> As in, If I want to find the 6th element in the sequence, which is 8, how would I find that number, and only that number?</p>\n"},{"tags":["java","android","handler","delay"],"answers":[{"tags":[],"owner":{"account_id":31585,"reputation":30406,"user_id":86860,"accept_rate":95,"display_name":"Nate"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1276886340,"creation_date":1276886340,"answer_id":3072258,"question_id":3072173,"body_markdown":"I suggest the [Timer][1], it allows you to schedule a method to be called on a very specific interval. This will not block your UI, and keep your app resonsive while the method is being executed.\r\n\r\n\r\nThe other option, is the [wait();][2] method, this will block the current thread for the specified length of time. This will cause your UI to stop responding if you do this on the UI thread.\r\n\r\n\r\n  [1]: http://developer.android.com/intl/fr/reference/java/util/Timer.html\r\n  [2]: http://developer.android.com/intl/fr/reference/java/lang/Object.html","title":"How to call a method after a delay in Android","body":"<p>I suggest the <a href=\"http://developer.android.com/intl/fr/reference/java/util/Timer.html\" rel=\"noreferrer\">Timer</a>, it allows you to schedule a method to be called on a very specific interval. This will not block your UI, and keep your app resonsive while the method is being executed.</p>\n\n<p>The other option, is the <a href=\"http://developer.android.com/intl/fr/reference/java/lang/Object.html\" rel=\"noreferrer\">wait();</a> method, this will block the current thread for the specified length of time. This will cause your UI to stop responding if you do this on the UI thread.</p>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":4,"up_vote_count":27,"is_accepted":false,"score":23,"last_activity_date":1276886734,"creation_date":1276886734,"answer_id":3072298,"question_id":3072173,"body_markdown":"See this demo:\r\n\r\n\r\n    import java.util.Timer;\r\n    import java.util.TimerTask;\r\n\r\n    class Test {\r\n         public static void main( String [] args ) {\r\n              int delay = 5000;// in ms \r\n\r\n              Timer timer = new Timer();\r\n\r\n              timer.schedule( new TimerTask(){\r\n                 public void run() { \r\n                     System.out.println(&quot;Wait, what..:&quot;);\r\n                  }\r\n               }, delay);\r\n\r\n               System.out.println(&quot;Would it run?&quot;);\r\n         }\r\n    }","title":"How to call a method after a delay in Android","body":"<p>See this demo:</p>\n\n<pre><code>import java.util.Timer;\nimport java.util.TimerTask;\n\nclass Test {\n     public static void main( String [] args ) {\n          int delay = 5000;// in ms \n\n          Timer timer = new Timer();\n\n          timer.schedule( new TimerTask(){\n             public void run() { \n                 System.out.println(\"Wait, what..:\");\n              }\n           }, delay);\n\n           System.out.println(\"Would it run?\");\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":4,"up_vote_count":192,"is_accepted":false,"score":188,"last_activity_date":1466699907,"creation_date":1276887101,"answer_id":3072338,"question_id":3072173,"body_markdown":"*Note:* This answer was given when the question didn&#39;t specify Android as the context. For an answer specific to the Android UI thread [look here.][1]\r\n\r\n---\r\n\r\nIt looks like the Mac OS API lets the current thread continue, and schedules the task to run asynchronously. In the Java, the equivalent function is provided by the `java.util.concurrent` package. I&#39;m not sure what limitations Android might impose.\r\n        \r\n    private static final ScheduledExecutorService worker = \r\n      Executors.newSingleThreadScheduledExecutor();\r\n    \r\n    void someMethod() {\r\n      ⋮\r\n      Runnable task = new Runnable() {\r\n        public void run() {\r\n          /* Do something… */\r\n        }\r\n      };\r\n      worker.schedule(task, 5, TimeUnit.SECONDS);\r\n      ⋮\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/9166354/3474","title":"How to call a method after a delay in Android","body":"<p><em>Note:</em> This answer was given when the question didn't specify Android as the context. For an answer specific to the Android UI thread <a href=\"https://stackoverflow.com/a/9166354/3474\">look here.</a></p>\n\n<hr>\n\n<p>It looks like the Mac OS API lets the current thread continue, and schedules the task to run asynchronously. In the Java, the equivalent function is provided by the <code>java.util.concurrent</code> package. I'm not sure what limitations Android might impose.</p>\n\n<pre><code>private static final ScheduledExecutorService worker = \n  Executors.newSingleThreadScheduledExecutor();\n\nvoid someMethod() {\n  ⋮\n  Runnable task = new Runnable() {\n    public void run() {\n      /* Do something… */\n    }\n  };\n  worker.schedule(task, 5, TimeUnit.SECONDS);\n  ⋮\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":87569,"reputation":76648,"user_id":242769,"accept_rate":91,"display_name":"aryaxt"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1454603605,"creation_date":1276889320,"answer_id":3072530,"question_id":3072173,"body_markdown":"Thanks for all the great answers, I found a solution that best suits my needs.\r\n\r\n    Handler myHandler = new DoSomething();\r\n    Message m = new Message();\r\n    m.obj = c;//passing a parameter here\r\n    myHandler.sendMessageDelayed(m, 1000);\r\n    \r\n    class DoSomething extends Handler {\r\n    \t@Override\r\n        public void handleMessage(Message msg) {\r\n          MyObject o = (MyObject) msg.obj;\r\n          //do something here\r\n        }\r\n    }","title":"How to call a method after a delay in Android","body":"<p>Thanks for all the great answers, I found a solution that best suits my needs.</p>\n\n<pre><code>Handler myHandler = new DoSomething();\nMessage m = new Message();\nm.obj = c;//passing a parameter here\nmyHandler.sendMessageDelayed(m, 1000);\n\nclass DoSomething extends Handler {\n    @Override\n    public void handleMessage(Message msg) {\n      MyObject o = (MyObject) msg.obj;\n      //do something here\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":314468,"reputation":26405,"user_id":1025068,"display_name":"Arif Amirani"},"down_vote_count":4,"up_vote_count":2194,"is_accepted":true,"score":2190,"last_activity_date":1669577021,"creation_date":1328558123,"answer_id":9166354,"question_id":3072173,"body_markdown":"### Kotlin\r\n```kotlin\r\nHandler(Looper.getMainLooper()).postDelayed({\r\n    //Do something after 100ms\r\n}, 100)\r\n```\r\n&lt;br&gt;\r\n\r\n### Java\r\n```java\r\nfinal Handler handler = new Handler(Looper.getMainLooper());\r\nhandler.postDelayed(new Runnable() {\r\n    @Override\r\n    public void run() {\r\n        //Do something after 100ms\r\n    }\r\n}, 100);\r\n```\r\n\r\nThe class to import is `android.os.handler`.","title":"How to call a method after a delay in Android","body":"<h3>Kotlin</h3>\n<pre class=\"lang-kotlin prettyprint-override\"><code>Handler(Looper.getMainLooper()).postDelayed({\n    //Do something after 100ms\n}, 100)\n</code></pre>\n<br>\n<h3>Java</h3>\n<pre class=\"lang-java prettyprint-override\"><code>final Handler handler = new Handler(Looper.getMainLooper());\nhandler.postDelayed(new Runnable() {\n    @Override\n    public void run() {\n        //Do something after 100ms\n    }\n}, 100);\n</code></pre>\n<p>The class to import is <code>android.os.handler</code>.</p>\n"},{"tags":[],"owner":{"account_id":1269353,"reputation":1029,"user_id":1226016,"accept_rate":52,"display_name":"Vishnu"},"down_vote_count":2,"up_vote_count":12,"is_accepted":false,"score":10,"last_activity_date":1454603466,"creation_date":1339222093,"answer_id":10958843,"question_id":3072173,"body_markdown":"    final Handler handler = new Handler(); \r\n\tTimer t = new Timer(); \r\n\tt.schedule(new TimerTask() { \r\n\t    public void run() { \r\n\t        handler.post(new Runnable() { \r\n\t            public void run() { \r\n\t\t            //DO SOME ACTIONS HERE , THIS ACTIONS WILL WILL EXECUTE AFTER 5 SECONDS...\r\n\t            }\r\n            }); \r\n        } \r\n    }, 5000); \r\n\t    ","title":"How to call a method after a delay in Android","body":"<pre><code>final Handler handler = new Handler(); \nTimer t = new Timer(); \nt.schedule(new TimerTask() { \n    public void run() { \n        handler.post(new Runnable() { \n            public void run() { \n                //DO SOME ACTIONS HERE , THIS ACTIONS WILL WILL EXECUTE AFTER 5 SECONDS...\n            }\n        }); \n    } \n}, 5000); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":112365,"reputation":11357,"user_id":296430,"accept_rate":93,"display_name":"Jules Colle"},"down_vote_count":6,"up_vote_count":378,"is_accepted":false,"score":372,"last_activity_date":1630415939,"creation_date":1340414195,"answer_id":11166024,"question_id":3072173,"body_markdown":"I couldn&#39;t use any of the other answers in my case.\r\nI used the native java Timer instead.\r\n      \r\n    new Timer().schedule(new TimerTask() {\t\t\t\r\n    \t@Override\r\n\t\tpublic void run() {\r\n\t\t\t// this code will be executed after 2 seconds\t\t\r\n\t\t}\r\n\t}, 2000);","title":"How to call a method after a delay in Android","body":"<p>I couldn't use any of the other answers in my case.\nI used the native java Timer instead.</p>\n<pre><code>new Timer().schedule(new TimerTask() {          \n    @Override\n    public void run() {\n        // this code will be executed after 2 seconds       \n    }\n}, 2000);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1943880,"reputation":7093,"user_id":1752899,"accept_rate":54,"display_name":"Hossam Ghareeb"},"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1628025451,"creation_date":1363917477,"answer_id":15561452,"question_id":3072173,"body_markdown":"you can use Handler inside **UIThread**:\r\n\r\n    runOnUiThread(new Runnable() {\r\n\t\t\t\t\t\r\n\t\t@Override\r\n\t\tpublic void run() {\r\n\t\t\tnew Handler().postDelayed(new Runnable() {\r\n\t\t\t   @Override\r\n\t\t\t   public void run() {\r\n                   //add your code here\r\n\t\t\t  }\r\n\t\t\t}, 1000);\t\t\t\r\n\t\t}\r\n\t});","title":"How to call a method after a delay in Android","body":"<p>you can use Handler inside <strong>UIThread</strong>:</p>\n<pre><code>runOnUiThread(new Runnable() {\n                \n    @Override\n    public void run() {\n        new Handler().postDelayed(new Runnable() {\n           @Override\n           public void run() {\n               //add your code here\n          }\n        }, 1000);           \n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1430389,"reputation":3996,"user_id":1352919,"display_name":"Fakhar"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1411888892,"creation_date":1411888892,"answer_id":26082610,"question_id":3072173,"body_markdown":"A suitable solution in android: \r\n\r\n    private static long SLEEP_TIME = 2 // for 2 second\r\n    .\r\n    .\r\n    MyLauncher launcher = new MyLauncher();\r\n    \t\t\tlauncher.start();\r\n    .\r\n    .\r\n    private class MyLauncher extends Thread {\r\n    \t\t@Override\r\n    \t\t/**\r\n    \t\t * Sleep for 2 seconds as you can also change SLEEP_TIME 2 to any. \r\n    \t\t */\r\n    \t\tpublic void run() {\r\n    \t\t\ttry {\r\n    \t\t\t\t// Sleeping\r\n    \t\t\t\tThread.sleep(SLEEP_TIME * 1000);\r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\tLog.e(TAG, e.getMessage());\r\n    \t\t\t}\r\n                //do something you want to do\r\n    \t       //And your code will be executed after 2 second\r\n    \t\t}\r\n    \t}\r\n\r\n","title":"How to call a method after a delay in Android","body":"<p>A suitable solution in android: </p>\n\n<pre><code>private static long SLEEP_TIME = 2 // for 2 second\n.\n.\nMyLauncher launcher = new MyLauncher();\n            launcher.start();\n.\n.\nprivate class MyLauncher extends Thread {\n        @Override\n        /**\n         * Sleep for 2 seconds as you can also change SLEEP_TIME 2 to any. \n         */\n        public void run() {\n            try {\n                // Sleeping\n                Thread.sleep(SLEEP_TIME * 1000);\n            } catch (Exception e) {\n                Log.e(TAG, e.getMessage());\n            }\n            //do something you want to do\n           //And your code will be executed after 2 second\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":985908,"reputation":23340,"user_id":1325646,"accept_rate":64,"display_name":"pomber"},"down_vote_count":2,"up_vote_count":119,"is_accepted":false,"score":117,"last_activity_date":1454603353,"creation_date":1422372146,"answer_id":28173911,"question_id":3072173,"body_markdown":"For executing something in the UI Thread after 5 seconds:\r\n\r\n    new Handler(Looper.getMainLooper()).postDelayed(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            //Do something here\r\n        }\r\n    }, 5000);\r\n","title":"How to call a method after a delay in Android","body":"<p>For executing something in the UI Thread after 5 seconds:</p>\n\n<pre><code>new Handler(Looper.getMainLooper()).postDelayed(new Runnable() {\n    @Override\n    public void run() {\n        //Do something here\n    }\n}, 5000);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1083635,"reputation":19728,"user_id":1079901,"accept_rate":87,"display_name":"0xC0DED00D"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1423507642,"creation_date":1423039644,"answer_id":28317018,"question_id":3072173,"body_markdown":"If you have to use the Handler, but you are into another thread, you can use `runonuithread` to run the handler in UI thread. This will save you from Exceptions thrown asking to call `Looper.Prepare()`\r\n\r\n    runOnUiThread(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            new Handler().postDelayed(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    //Do something after 1 second\r\n                }\r\n            }, 1000);\r\n        }\r\n    });\r\n\r\nLooks quite messy, but this is one of the way.","title":"How to call a method after a delay in Android","body":"<p>If you have to use the Handler, but you are into another thread, you can use <code>runonuithread</code> to run the handler in UI thread. This will save you from Exceptions thrown asking to call <code>Looper.Prepare()</code></p>\n\n<pre><code>runOnUiThread(new Runnable() {\n    @Override\n    public void run() {\n        new Handler().postDelayed(new Runnable() {\n            @Override\n            public void run() {\n                //Do something after 1 second\n            }\n        }, 1000);\n    }\n});\n</code></pre>\n\n<p>Looks quite messy, but this is one of the way.</p>\n"},{"tags":[],"owner":{"account_id":4859247,"reputation":9072,"user_id":3919425,"accept_rate":50,"display_name":"codezjx"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1516714307,"creation_date":1431618562,"answer_id":30241672,"question_id":3072173,"body_markdown":"I prefer to use `View.postDelayed()` method, simple code below:\r\n\r\n    mView.postDelayed(new Runnable() {\r\n    \t@Override\r\n    \tpublic void run() {\r\n            // Do something after 1000 ms\r\n    \t}\r\n    }, 1000);","title":"How to call a method after a delay in Android","body":"<p>I prefer to use <code>View.postDelayed()</code> method, simple code below:</p>\n\n<pre><code>mView.postDelayed(new Runnable() {\n    @Override\n    public void run() {\n        // Do something after 1000 ms\n    }\n}, 1000);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":266899,"reputation":12323,"user_id":554740,"accept_rate":66,"display_name":"HelmiB"},"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1458113323,"creation_date":1458113323,"answer_id":36029234,"question_id":3072173,"body_markdown":"I created simpler method to call this. \r\n\r\n    public static void CallWithDelay(long miliseconds, final Activity activity, final String methodName)\r\n        {\r\n            new Handler().postDelayed(new Runnable() {\r\n    \r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        Method method =  activity.getClass().getMethod(methodName);\r\n                        method.invoke(activity);\r\n                    } catch (NoSuchMethodException e) {\r\n                        e.printStackTrace();\r\n                    } catch (InvocationTargetException e) {\r\n                        e.printStackTrace();\r\n                    } catch (IllegalAccessException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }, miliseconds);\r\n        }\r\n\r\nTo use it, just call : `.CallWithDelay(5000, this, &quot;DoSomething&quot;);`\r\n","title":"How to call a method after a delay in Android","body":"<p>I created simpler method to call this. </p>\n\n<pre><code>public static void CallWithDelay(long miliseconds, final Activity activity, final String methodName)\n    {\n        new Handler().postDelayed(new Runnable() {\n\n            @Override\n            public void run() {\n                try {\n                    Method method =  activity.getClass().getMethod(methodName);\n                    method.invoke(activity);\n                } catch (NoSuchMethodException e) {\n                    e.printStackTrace();\n                } catch (InvocationTargetException e) {\n                    e.printStackTrace();\n                } catch (IllegalAccessException e) {\n                    e.printStackTrace();\n                }\n            }\n        }, miliseconds);\n    }\n</code></pre>\n\n<p>To use it, just call : <code>.CallWithDelay(5000, this, \"DoSomething\");</code></p>\n"},{"tags":[],"owner":{"account_id":3341633,"reputation":839,"user_id":2807803,"accept_rate":64,"display_name":"cdytoby"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537244285,"creation_date":1464368676,"answer_id":37488914,"question_id":3072173,"body_markdown":"Here is another tricky way: it won&#39;t throw exception when the runnable change UI elements.\r\n\r\n    public class SimpleDelayAnimation extends Animation implements Animation.AnimationListener {\r\n\r\n        Runnable callBack;\r\n    \r\n        public SimpleDelayAnimation(Runnable runnable, int delayTimeMilli) {\r\n            setDuration(delayTimeMilli);\r\n            callBack = runnable;\r\n            setAnimationListener(this);\r\n        }\r\n    \r\n        @Override\r\n        public void onAnimationStart(Animation animation) {\r\n            \r\n        }\r\n    \r\n        @Override\r\n        public void onAnimationEnd(Animation animation) {\r\n            callBack.run();\r\n        }\r\n    \r\n        @Override\r\n        public void onAnimationRepeat(Animation animation) {\r\n    \r\n        }\r\n    }\r\n\r\nYou can call the animation like this:\r\n\r\n    view.startAnimation(new SimpleDelayAnimation(delayRunnable, 500));\r\n\r\nAnimation can attach to any view.\r\n","title":"How to call a method after a delay in Android","body":"<p>Here is another tricky way: it won't throw exception when the runnable change UI elements.</p>\n\n<pre><code>public class SimpleDelayAnimation extends Animation implements Animation.AnimationListener {\n\n    Runnable callBack;\n\n    public SimpleDelayAnimation(Runnable runnable, int delayTimeMilli) {\n        setDuration(delayTimeMilli);\n        callBack = runnable;\n        setAnimationListener(this);\n    }\n\n    @Override\n    public void onAnimationStart(Animation animation) {\n\n    }\n\n    @Override\n    public void onAnimationEnd(Animation animation) {\n        callBack.run();\n    }\n\n    @Override\n    public void onAnimationRepeat(Animation animation) {\n\n    }\n}\n</code></pre>\n\n<p>You can call the animation like this:</p>\n\n<pre><code>view.startAnimation(new SimpleDelayAnimation(delayRunnable, 500));\n</code></pre>\n\n<p>Animation can attach to any view.</p>\n"},{"tags":[],"owner":{"account_id":3433236,"reputation":2920,"user_id":2877004,"display_name":"Alecs"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1485701240,"creation_date":1485700875,"answer_id":41922095,"question_id":3072173,"body_markdown":"Here is my shortest solution: \r\n\r\n    new Handler().postDelayed(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            //Do something after 100ms\r\n        }\r\n    }, 100);\r\n\r\n","title":"How to call a method after a delay in Android","body":"<p>Here is my shortest solution: </p>\n\n<pre><code>new Handler().postDelayed(new Runnable() {\n    @Override\n    public void run() {\n        //Do something after 100ms\n    }\n}, 100);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1222925,"reputation":320,"user_id":7189747,"display_name":"Alnour Alharin"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1537244306,"creation_date":1498055046,"answer_id":44678851,"question_id":3072173,"body_markdown":"You can make it much cleaner by using the newly introduced lambda expressions:\r\n\r\n    new Handler().postDelayed(() -&gt; {/*your code here*/}, time);\r\n\r\n\r\n","title":"How to call a method after a delay in Android","body":"<p>You can make it much cleaner by using the newly introduced lambda expressions:</p>\n\n<pre><code>new Handler().postDelayed(() -&gt; {/*your code here*/}, time);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4469997,"reputation":3994,"user_id":3636561,"display_name":"Abdul Rizwan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1505136394,"creation_date":1503038670,"answer_id":45750131,"question_id":3072173,"body_markdown":"It&#39;s very easy using the `CountDownTimer`.\r\nFor more details https://developer.android.com/reference/android/os/CountDownTimer.html\r\n\r\n    import android.os.CountDownTimer;\r\n\r\n    // calls onTick every second, finishes after 3 seconds\r\n    new CountDownTimer(3000, 1000) { \r\n    \r\n       public void onTick(long millisUntilFinished) {\r\n          Log.d(&quot;log&quot;, millisUntilFinished / 1000);\r\n       }\r\n    \r\n       public void onFinish() {\r\n          // called after count down is finished\r\n       } \r\n    }.start();","title":"How to call a method after a delay in Android","body":"<p>It's very easy using the <code>CountDownTimer</code>.\nFor more details <a href=\"https://developer.android.com/reference/android/os/CountDownTimer.html\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/os/CountDownTimer.html</a></p>\n\n<pre><code>import android.os.CountDownTimer;\n\n// calls onTick every second, finishes after 3 seconds\nnew CountDownTimer(3000, 1000) { \n\n   public void onTick(long millisUntilFinished) {\n      Log.d(\"log\", millisUntilFinished / 1000);\n   }\n\n   public void onFinish() {\n      // called after count down is finished\n   } \n}.start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1626664,"reputation":34757,"user_id":1502079,"accept_rate":56,"display_name":"vovahost"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1541859444,"creation_date":1505929375,"answer_id":46328591,"question_id":3072173,"body_markdown":"If you are using **Android Studio 3.0** and above you can use lambda expressions. The method `callMyMethod()` is called after 2 seconds:\r\n\r\n    new Handler().postDelayed(() -&gt; callMyMethod(), 2000);\r\n\r\n\r\nIn case you need to cancel the delayed runnable use this:\r\n\r\n    Handler handler = new Handler();\r\n    handler.postDelayed(() -&gt; callMyMethod(), 2000);\r\n        \r\n    // When you need to cancel all your posted runnables just use:\r\n    handler.removeCallbacksAndMessages(null);","title":"How to call a method after a delay in Android","body":"<p>If you are using <strong>Android Studio 3.0</strong> and above you can use lambda expressions. The method <code>callMyMethod()</code> is called after 2 seconds:</p>\n\n<pre><code>new Handler().postDelayed(() -&gt; callMyMethod(), 2000);\n</code></pre>\n\n<p>In case you need to cancel the delayed runnable use this:</p>\n\n<pre><code>Handler handler = new Handler();\nhandler.postDelayed(() -&gt; callMyMethod(), 2000);\n\n// When you need to cancel all your posted runnables just use:\nhandler.removeCallbacksAndMessages(null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8248844,"reputation":9692,"user_id":6204133,"display_name":"Dan Alboteanu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1509041013,"creation_date":1509041013,"answer_id":46960971,"question_id":3072173,"body_markdown":"everybody seems to forget to clean the Handler before posting a new runnable or message on it. Otherway they could potentially accumulate and cause bad behaviour.\r\n\r\n    handler.removeMessages(int what);\r\n    // Remove any pending posts of messages with code &#39;what&#39; that are in the message queue.\r\n\r\n    handler.removeCallbacks(Runnable r)\r\n    // Remove any pending posts of Runnable r that are in the message queue.\r\n","title":"How to call a method after a delay in Android","body":"<p>everybody seems to forget to clean the Handler before posting a new runnable or message on it. Otherway they could potentially accumulate and cause bad behaviour.</p>\n\n<pre><code>handler.removeMessages(int what);\n// Remove any pending posts of messages with code 'what' that are in the message queue.\n\nhandler.removeCallbacks(Runnable r)\n// Remove any pending posts of Runnable r that are in the message queue.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5735188,"reputation":1651,"user_id":4529588,"accept_rate":25,"display_name":"Crime_Master_GoGo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1517202535,"creation_date":1517202535,"answer_id":48494735,"question_id":3072173,"body_markdown":"You can use this for Simplest Solution:\r\n\r\n    new Handler().postDelayed(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            //Write your code here\r\n        }\r\n    }, 5000); //Timer is in ms here.\r\n\r\n Else, Below can be another clean useful solution:\r\n\r\n    new Handler().postDelayed(() -&gt; \r\n    {/*Do something here*/}, \r\n    5000); //time in ms","title":"How to call a method after a delay in Android","body":"<p>You can use this for Simplest Solution:</p>\n\n<pre><code>new Handler().postDelayed(new Runnable() {\n    @Override\n    public void run() {\n        //Write your code here\n    }\n}, 5000); //Timer is in ms here.\n</code></pre>\n\n<p>Else, Below can be another clean useful solution:</p>\n\n<pre><code>new Handler().postDelayed(() -&gt; \n{/*Do something here*/}, \n5000); //time in ms\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2098025,"reputation":19076,"user_id":1866373,"accept_rate":55,"display_name":"Daniel Wilson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537888235,"creation_date":1537888235,"answer_id":52501450,"question_id":3072173,"body_markdown":"[Here is the answer][1] in Kotlin you lazy, lazy people:\r\n\r\n    Handler().postDelayed({\r\n    //doSomethingHere()\r\n    }, 1000)\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/43402513/1866373","title":"How to call a method after a delay in Android","body":"<p><a href=\"https://stackoverflow.com/a/43402513/1866373\">Here is the answer</a> in Kotlin you lazy, lazy people:</p>\n\n<pre><code>Handler().postDelayed({\n//doSomethingHere()\n}, 1000)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2013095,"reputation":5352,"user_id":1801072,"display_name":"Sam"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1537890983,"creation_date":1537890983,"answer_id":52502293,"question_id":3072173,"body_markdown":"So there are a few things to consider here as there are so many ways to skin this cat. Although answers have all already been given selected and chosen. I think it&#39;s important that this gets revisited with proper coding guidelines to avoid anyone going the wrong direction just because of &quot;majority selected simple answer&quot;.\r\n\r\nSo first let&#39;s discuss the simple Post Delayed answer that is the winner selected answer overall in this thread.\r\n\r\nA couple of things to consider. After the post delay, you can encounter memory leaks, dead objects, life cycles that have gone away, and more. So handling it properly is important as well. You can do this in a couple of ways.\r\n\r\nFor sake of modern development, I&#39;ll supply in KOTLIN\r\n\r\nHere is a simple example of using the UI thread on a callback and confirming that your activity is still alive and well when you hit your callback.\r\n\r\n      Handler(Looper.getMainLooper()).postDelayed({\r\n                if(activity != null &amp;&amp; activity?.isFinishing == false){\r\n                    txtNewInfo.visibility = View.GONE\r\n                }\r\n            }, NEW_INFO_SHOW_TIMEOUT_MS)\r\n\r\nHowever, this is still not perfect as there is no reason to hit your callback if the activity has gone away. so a better way would be to keep a reference to it and remove it&#39;s callbacks like this.\r\n\r\n  \r\n\r\n        private fun showFacebookStylePlus1NewsFeedOnPushReceived(){\r\n            A35Log.v(TAG, &quot;showFacebookStylePlus1NewsFeedOnPushReceived&quot;)\r\n            if(activity != null &amp;&amp; activity?.isFinishing == false){\r\n                txtNewInfo.visibility = View.VISIBLE\r\n                mHandler.postDelayed({\r\n                    if(activity != null &amp;&amp; activity?.isFinishing == false){\r\n                        txtNewInfo.visibility = View.GONE\r\n                    }\r\n                }, NEW_INFO_SHOW_TIMEOUT_MS)\r\n            }\r\n        }\r\n    \r\n    \r\nand of course handle cleanup on the onPause so it doesn&#39;t hit the callback.\r\n   \r\n\r\n        override fun onPause() {\r\n            super.onPause()\r\n            mHandler.removeCallbacks(null)\r\n        }\r\n\r\nNow that we have talked through the obvious, let&#39;s talk about a cleaner option with modern day coroutines and kotlin :). If you aren&#39;t using these yet, you are really missing out.\r\n\r\n  \r\n\r\n       fun doActionAfterDelay() \r\n            launch(UI) {\r\n                delay(MS_TO_DELAY)           \r\n                actionToTake()\r\n            }\r\n        }\r\n\r\nor if you want to always do a UI launch on that method you can simply do:\r\n\r\n      fun doActionAfterDelay() = launch(UI){ \r\n          delay(MS_TO_DELAY)           \r\n          actionToTake()\r\n      }\r\n\r\nOf course just like the PostDelayed you have to make sure you handle canceling so you can either do the activity checks after the delay call or you can cancel it in the onPause just like the other route.\r\n\r\n    var mDelayedJob: Job? = null\r\n    fun doActionAfterDelay() \r\n       mDelayedJob = launch(UI) {\r\n                try {\r\n                   delay(MS_TO_DELAY)           \r\n                   actionToTake()\r\n                }catch(ex: JobCancellationException){\r\n                    showFancyToast(&quot;Delayed Job canceled&quot;, true, FancyToast.ERROR, &quot;Delayed Job canceled: ${ex.message}&quot;)\r\n                }\r\n            }\r\n       }\r\n    }\r\n\r\n//handle cleanup\r\n\r\n    override fun onPause() {\r\n       super.onPause()\r\n       if(mDelayedJob != null &amp;&amp; mDelayedJob!!.isActive) {\r\n          A35Log.v(mClassTag, &quot;canceling delayed job&quot;)\r\n          mDelayedJob?.cancel() //this should throw CancelationException in coroutine, you can catch and handle appropriately\r\n       }\r\n    }\r\n\r\nIf you put the launch(UI) into the method signature the job can be assigned in the calling line of code.\r\n\r\nso moral of the story is to be safe with your delayed actions, make sure you remove your callbacks, or cancel your jobs and of course confirm you have the right life cycle to touch items on your delay callback complete. The Coroutines also offers cancelable actions.\r\n\r\nAlso worth noting that you should typically handle the various exceptions that can come with coroutines. For example, a cancelation, an exception, a timeout, whatever you decide to use. Here is a more advanced example if you decide to really start utilizing coroutines.\r\n\r\n \r\n\r\n       mLoadJob = launch(UI){\r\n                try {\r\n                    //Applies timeout\r\n                    withTimeout(4000) {\r\n                        //Moves to background thread\r\n                        withContext(DefaultDispatcher) {\r\n                            mDeviceModelList.addArrayList(SSDBHelper.getAllDevices())\r\n                        }\r\n                    }\r\n    \r\n                    //Continues after async with context above\r\n                    showFancyToast(&quot;Loading complete&quot;, true, FancyToast.SUCCESS)\r\n                }catch(ex: JobCancellationException){\r\n                    showFancyToast(&quot;Save canceled&quot;, true, FancyToast.ERROR, &quot;Save canceled: ${ex.message}&quot;)\r\n                }catch (ex: TimeoutCancellationException) {\r\n                    showFancyToast(&quot;Timed out saving, please try again or press back&quot;, true, FancyToast.ERROR, &quot;Timed out saving to database: ${ex.message}&quot;)\r\n                }catch(ex: Exception){\r\n                    showFancyToast(&quot;Error saving to database, please try again or press back&quot;, true, FancyToast.ERROR, &quot;Error saving to database: ${ex.message}&quot;)\r\n                }\r\n            }","title":"How to call a method after a delay in Android","body":"<p>So there are a few things to consider here as there are so many ways to skin this cat. Although answers have all already been given selected and chosen. I think it's important that this gets revisited with proper coding guidelines to avoid anyone going the wrong direction just because of \"majority selected simple answer\".</p>\n\n<p>So first let's discuss the simple Post Delayed answer that is the winner selected answer overall in this thread.</p>\n\n<p>A couple of things to consider. After the post delay, you can encounter memory leaks, dead objects, life cycles that have gone away, and more. So handling it properly is important as well. You can do this in a couple of ways.</p>\n\n<p>For sake of modern development, I'll supply in KOTLIN</p>\n\n<p>Here is a simple example of using the UI thread on a callback and confirming that your activity is still alive and well when you hit your callback.</p>\n\n<pre><code>  Handler(Looper.getMainLooper()).postDelayed({\n            if(activity != null &amp;&amp; activity?.isFinishing == false){\n                txtNewInfo.visibility = View.GONE\n            }\n        }, NEW_INFO_SHOW_TIMEOUT_MS)\n</code></pre>\n\n<p>However, this is still not perfect as there is no reason to hit your callback if the activity has gone away. so a better way would be to keep a reference to it and remove it's callbacks like this.</p>\n\n<pre><code>    private fun showFacebookStylePlus1NewsFeedOnPushReceived(){\n        A35Log.v(TAG, \"showFacebookStylePlus1NewsFeedOnPushReceived\")\n        if(activity != null &amp;&amp; activity?.isFinishing == false){\n            txtNewInfo.visibility = View.VISIBLE\n            mHandler.postDelayed({\n                if(activity != null &amp;&amp; activity?.isFinishing == false){\n                    txtNewInfo.visibility = View.GONE\n                }\n            }, NEW_INFO_SHOW_TIMEOUT_MS)\n        }\n    }\n</code></pre>\n\n<p>and of course handle cleanup on the onPause so it doesn't hit the callback.</p>\n\n<pre><code>    override fun onPause() {\n        super.onPause()\n        mHandler.removeCallbacks(null)\n    }\n</code></pre>\n\n<p>Now that we have talked through the obvious, let's talk about a cleaner option with modern day coroutines and kotlin :). If you aren't using these yet, you are really missing out.</p>\n\n<pre><code>   fun doActionAfterDelay() \n        launch(UI) {\n            delay(MS_TO_DELAY)           \n            actionToTake()\n        }\n    }\n</code></pre>\n\n<p>or if you want to always do a UI launch on that method you can simply do:</p>\n\n<pre><code>  fun doActionAfterDelay() = launch(UI){ \n      delay(MS_TO_DELAY)           \n      actionToTake()\n  }\n</code></pre>\n\n<p>Of course just like the PostDelayed you have to make sure you handle canceling so you can either do the activity checks after the delay call or you can cancel it in the onPause just like the other route.</p>\n\n<pre><code>var mDelayedJob: Job? = null\nfun doActionAfterDelay() \n   mDelayedJob = launch(UI) {\n            try {\n               delay(MS_TO_DELAY)           \n               actionToTake()\n            }catch(ex: JobCancellationException){\n                showFancyToast(\"Delayed Job canceled\", true, FancyToast.ERROR, \"Delayed Job canceled: ${ex.message}\")\n            }\n        }\n   }\n}\n</code></pre>\n\n<p>//handle cleanup</p>\n\n<pre><code>override fun onPause() {\n   super.onPause()\n   if(mDelayedJob != null &amp;&amp; mDelayedJob!!.isActive) {\n      A35Log.v(mClassTag, \"canceling delayed job\")\n      mDelayedJob?.cancel() //this should throw CancelationException in coroutine, you can catch and handle appropriately\n   }\n}\n</code></pre>\n\n<p>If you put the launch(UI) into the method signature the job can be assigned in the calling line of code.</p>\n\n<p>so moral of the story is to be safe with your delayed actions, make sure you remove your callbacks, or cancel your jobs and of course confirm you have the right life cycle to touch items on your delay callback complete. The Coroutines also offers cancelable actions.</p>\n\n<p>Also worth noting that you should typically handle the various exceptions that can come with coroutines. For example, a cancelation, an exception, a timeout, whatever you decide to use. Here is a more advanced example if you decide to really start utilizing coroutines.</p>\n\n<pre><code>   mLoadJob = launch(UI){\n            try {\n                //Applies timeout\n                withTimeout(4000) {\n                    //Moves to background thread\n                    withContext(DefaultDispatcher) {\n                        mDeviceModelList.addArrayList(SSDBHelper.getAllDevices())\n                    }\n                }\n\n                //Continues after async with context above\n                showFancyToast(\"Loading complete\", true, FancyToast.SUCCESS)\n            }catch(ex: JobCancellationException){\n                showFancyToast(\"Save canceled\", true, FancyToast.ERROR, \"Save canceled: ${ex.message}\")\n            }catch (ex: TimeoutCancellationException) {\n                showFancyToast(\"Timed out saving, please try again or press back\", true, FancyToast.ERROR, \"Timed out saving to database: ${ex.message}\")\n            }catch(ex: Exception){\n                showFancyToast(\"Error saving to database, please try again or press back\", true, FancyToast.ERROR, \"Error saving to database: ${ex.message}\")\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4684386,"reputation":12978,"user_id":3792198,"accept_rate":23,"display_name":"Thiago"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1540198702,"creation_date":1540198702,"answer_id":52925636,"question_id":3072173,"body_markdown":"I like things cleaner:\r\nHere is my implementation, inline code to use inside your method \r\n\r\n\r\n    new Handler().postDelayed(new Runnable() {\r\n      @Override\r\n      public void run() {\r\n        //Do something after 100ms\r\n      }\r\n    }, 100);","title":"How to call a method after a delay in Android","body":"<p>I like things cleaner:\nHere is my implementation, inline code to use inside your method </p>\n\n<pre><code>new Handler().postDelayed(new Runnable() {\n  @Override\n  public void run() {\n    //Do something after 100ms\n  }\n}, 100);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1089130,"reputation":38492,"user_id":1084174,"accept_rate":89,"display_name":"Sazzad Hissain Khan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1541680737,"creation_date":1541680737,"answer_id":53207914,"question_id":3072173,"body_markdown":"Below one works when you get,\r\n\r\n&gt; java.lang.RuntimeException: Can&#39;t create handler inside thread that\r\n&gt; has not called Looper.prepare()\r\n\r\n    final Handler handler = new Handler(Looper.getMainLooper());\r\n    handler.postDelayed(new Runnable() {\r\n      @Override\r\n      public void run() {\r\n        //Do something after 100ms\r\n      }\r\n    }, 100);","title":"How to call a method after a delay in Android","body":"<p>Below one works when you get,</p>\n\n<blockquote>\n  <p>java.lang.RuntimeException: Can't create handler inside thread that\n  has not called Looper.prepare()</p>\n</blockquote>\n\n<pre><code>final Handler handler = new Handler(Looper.getMainLooper());\nhandler.postDelayed(new Runnable() {\n  @Override\n  public void run() {\n    //Do something after 100ms\n  }\n}, 100);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9280154,"reputation":57862,"user_id":6891563,"accept_rate":75,"display_name":"Khemraj Sharma"},"down_vote_count":0,"up_vote_count":54,"is_accepted":false,"score":54,"last_activity_date":1549283909,"creation_date":1543309790,"answer_id":53496128,"question_id":3072173,"body_markdown":"&gt; #`Kotlin` &amp; `Java` Many Ways\r\n\r\n###1. Using `Handler`\r\n\r\n    Handler().postDelayed({\r\n        TODO(&quot;Do something&quot;)\r\n        }, 2000)\r\n\r\n###2. Using TimerTask\r\n\r\n\tTimer().schedule(object : TimerTask() {\r\n\t\toverride fun run() {\r\n\t\t\tTODO(&quot;Do something&quot;)\r\n\t\t}\r\n\t}, 2000)\r\n\r\nOr even shorter\r\n\r\n\tTimer().schedule(timerTask {\r\n\t\tTODO(&quot;Do something&quot;)\r\n\t}, 2000)\r\n\r\n\r\nOr shortest would be\r\n\r\n\tTimer().schedule(2000) {\r\n\t\tTODO(&quot;Do something&quot;)\r\n\t}\r\n\r\n###3. Using `Executors`\r\n\r\n\tExecutors.newSingleThreadScheduledExecutor().schedule({\r\n\t\tTODO(&quot;Do something&quot;)\r\n\t}, 2, TimeUnit.SECONDS)\r\n\r\n&gt; #In Java\r\n\r\n###1. Using `Handler`\r\n\r\n    new Handler().postDelayed(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            //Do something\r\n        }\r\n    }, 2000);\r\n\r\n###2. Using `Timer`\r\n\r\n    new Timer().schedule(new TimerTask() {          \r\n        @Override\r\n        public void run() {\r\n            // Do something\r\n        }\r\n    }, 2000);\r\n\r\n###3. Using `ScheduledExecutorService`\r\n\r\n    private static final ScheduledExecutorService worker = Executors.newSingleThreadScheduledExecutor();\r\n   \r\n    Runnable runnable = new Runnable() {\r\n      public void run() {\r\n          // Do something\r\n      }\r\n      };\r\n    worker.schedule(runnable, 2, TimeUnit.SECONDS);\r\n","title":"How to call a method after a delay in Android","body":"<blockquote>\n  <h1><code>Kotlin</code> &amp; <code>Java</code> Many Ways</h1>\n</blockquote>\n\n<h3>1. Using <code>Handler</code></h3>\n\n<pre><code>Handler().postDelayed({\n    TODO(\"Do something\")\n    }, 2000)\n</code></pre>\n\n<h3>2. Using TimerTask</h3>\n\n<pre><code>Timer().schedule(object : TimerTask() {\n    override fun run() {\n        TODO(\"Do something\")\n    }\n}, 2000)\n</code></pre>\n\n<p>Or even shorter</p>\n\n<pre><code>Timer().schedule(timerTask {\n    TODO(\"Do something\")\n}, 2000)\n</code></pre>\n\n<p>Or shortest would be</p>\n\n<pre><code>Timer().schedule(2000) {\n    TODO(\"Do something\")\n}\n</code></pre>\n\n<h3>3. Using <code>Executors</code></h3>\n\n<pre><code>Executors.newSingleThreadScheduledExecutor().schedule({\n    TODO(\"Do something\")\n}, 2, TimeUnit.SECONDS)\n</code></pre>\n\n<blockquote>\n  <h1>In Java</h1>\n</blockquote>\n\n<h3>1. Using <code>Handler</code></h3>\n\n<pre><code>new Handler().postDelayed(new Runnable() {\n    @Override\n    public void run() {\n        //Do something\n    }\n}, 2000);\n</code></pre>\n\n<h3>2. Using <code>Timer</code></h3>\n\n<pre><code>new Timer().schedule(new TimerTask() {          \n    @Override\n    public void run() {\n        // Do something\n    }\n}, 2000);\n</code></pre>\n\n<h3>3. Using <code>ScheduledExecutorService</code></h3>\n\n<pre><code>private static final ScheduledExecutorService worker = Executors.newSingleThreadScheduledExecutor();\n\nRunnable runnable = new Runnable() {\n  public void run() {\n      // Do something\n  }\n  };\nworker.schedule(runnable, 2, TimeUnit.SECONDS);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5022597,"reputation":1035,"user_id":4035641,"display_name":"Ashik"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1639154587,"creation_date":1547099532,"answer_id":54122631,"question_id":3072173,"body_markdown":"If you use RxAndroid then thread and error handling becomes much easier. Following code executes after a delay\r\n```java\r\nObservable.timer(delay, TimeUnit.SECONDS)\r\n        .subscribeOn(Schedulers.io())\r\n        .observeOn(AndroidSchedulers.mainThread())\r\n        .subscribe(aLong -&gt; {\r\n            // Execute code here\r\n        }, Throwable::printStackTrace);\r\n```","title":"How to call a method after a delay in Android","body":"<p>If you use RxAndroid then thread and error handling becomes much easier. Following code executes after a delay</p>\n<pre class=\"lang-java prettyprint-override\"><code>Observable.timer(delay, TimeUnit.SECONDS)\n        .subscribeOn(Schedulers.io())\n        .observeOn(AndroidSchedulers.mainThread())\n        .subscribe(aLong -&gt; {\n            // Execute code here\n        }, Throwable::printStackTrace);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4551443,"reputation":1429,"user_id":3696500,"accept_rate":27,"display_name":"Mr T"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1550592096,"creation_date":1550592096,"answer_id":54770379,"question_id":3072173,"body_markdown":"For a Simple line Handle Post delay, you can do as following :\r\n\r\n    new Handler().postDelayed(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            // Do someting\r\n        }\r\n    }, 3000);\r\n\r\n\r\nI hope this helps","title":"How to call a method after a delay in Android","body":"<p>For a Simple line Handle Post delay, you can do as following :</p>\n\n<pre><code>new Handler().postDelayed(new Runnable() {\n    @Override\n    public void run() {\n        // Do someting\n    }\n}, 3000);\n</code></pre>\n\n<p>I hope this helps</p>\n"},{"tags":[],"owner":{"account_id":8652943,"reputation":22446,"user_id":6478047,"accept_rate":76,"display_name":"Manohar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551348822,"creation_date":1551348822,"answer_id":54923194,"question_id":3072173,"body_markdown":"Similar solution but much cleaner to use \r\n\r\nWrite this function out side of class\r\n\r\n    fun delay(duration: Long, `do`: () -&gt; Unit) {\r\n    \r\n        Handler().postDelayed(`do`, duration)\r\n    \r\n    }\r\n\r\nUsage:\r\n\r\n    delay(5000) {\r\n        //Do your work here\r\n    }\r\n\r\n","title":"How to call a method after a delay in Android","body":"<p>Similar solution but much cleaner to use </p>\n\n<p>Write this function out side of class</p>\n\n<pre><code>fun delay(duration: Long, `do`: () -&gt; Unit) {\n\n    Handler().postDelayed(`do`, duration)\n\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>delay(5000) {\n    //Do your work here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2696548,"reputation":41,"user_id":2328444,"display_name":"Ahasan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551614728,"creation_date":1551614728,"answer_id":54968606,"question_id":3072173,"body_markdown":"In Android, we can write below kotlin code for delay execution of any function  \r\n\r\n    class MainActivity : AppCompatActivity() {\r\n\r\n    private lateinit var handler: Handler\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n        handler= Handler()\r\n        handler.postDelayed({\r\n            doSomething()\r\n        },2000)\r\n    }\r\n\r\n    private fun doSomething() {\r\n        Toast.makeText(this,&quot;Hi! I am Toast Message&quot;,Toast.LENGTH_SHORT).show()\r\n    }\r\n    }\r\n\r\n","title":"How to call a method after a delay in Android","body":"<p>In Android, we can write below kotlin code for delay execution of any function  </p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\nprivate lateinit var handler: Handler\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    handler= Handler()\n    handler.postDelayed({\n        doSomething()\n    },2000)\n}\n\nprivate fun doSomething() {\n    Toast.makeText(this,\"Hi! I am Toast Message\",Toast.LENGTH_SHORT).show()\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6953543,"reputation":978,"user_id":5335382,"display_name":"Shivam Yadav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557483905,"creation_date":1557483905,"answer_id":56075660,"question_id":3072173,"body_markdown":"There are a lot of ways to do this but the best is to use handler like below\r\n    \r\n    long millisecDelay=3000\r\n\r\n    Handler().postDelayed({\r\n      // do your work here\r\n     },millisecDelay)","title":"How to call a method after a delay in Android","body":"<p>There are a lot of ways to do this but the best is to use handler like below</p>\n\n<pre><code>long millisecDelay=3000\n\nHandler().postDelayed({\n  // do your work here\n },millisecDelay)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2203800,"reputation":2404,"user_id":1947494,"accept_rate":0,"display_name":"Nikhil Katekhaye"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1560945762,"creation_date":1560929410,"answer_id":56662296,"question_id":3072173,"body_markdown":"Using Kotlin, we can achieve by doing the following\r\n\r\n    Handler().postDelayed({\r\n        // do something after 1000ms \r\n    }, 1000)","title":"How to call a method after a delay in Android","body":"<p>Using Kotlin, we can achieve by doing the following</p>\n\n<pre><code>Handler().postDelayed({\n    // do something after 1000ms \n}, 1000)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9045455,"reputation":4278,"user_id":6737970,"display_name":"Wilson Tran"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1688468516,"creation_date":1609596811,"answer_id":65540038,"question_id":3072173,"body_markdown":"\r\nMore Safety - With Kotlin Coroutine\r\n-----------\r\nMost of the answers use Handler, but I provide a different solution to handle delays in activity, fragment, and view model using Android Lifecycle extensions. **This approach will automatically cancel when the lifecycle is destroyed, avoiding memory leaks or app crashes**\r\n\r\n**In Activity or Fragment:**\r\n\r\n    lifecycleScope.launch { \r\n      delay(DELAY_MS)\r\n      doSomething()\r\n    }\r\n\r\n**In ViewModel:**\r\n\r\n    viewModelScope.lanch {\r\n      delay(DELAY_MS)\r\n      doSomething()\r\n    }\r\n    \r\n\r\n**In suspend function: (Kotlin Coroutine)**\r\n\r\n    suspend fun doSomethingAfter(){\r\n        delay(DELAY_MS)\r\n        doSomething()\r\n    }\r\n\r\nIf you get an error with the **lifecycleScope** not found! - import this dependency to the app gradle file:\r\n\r\n    implementation &quot;androidx.lifecycle:lifecycle-runtime-ktx:2.4.0&quot;\r\n\r\n\r\n","title":"How to call a method after a delay in Android","body":"<h2>More Safety - With Kotlin Coroutine</h2>\n<p>Most of the answers use Handler, but I provide a different solution to handle delays in activity, fragment, and view model using Android Lifecycle extensions. <strong>This approach will automatically cancel when the lifecycle is destroyed, avoiding memory leaks or app crashes</strong></p>\n<p><strong>In Activity or Fragment:</strong></p>\n<pre><code>lifecycleScope.launch { \n  delay(DELAY_MS)\n  doSomething()\n}\n</code></pre>\n<p><strong>In ViewModel:</strong></p>\n<pre><code>viewModelScope.lanch {\n  delay(DELAY_MS)\n  doSomething()\n}\n</code></pre>\n<p><strong>In suspend function: (Kotlin Coroutine)</strong></p>\n<pre><code>suspend fun doSomethingAfter(){\n    delay(DELAY_MS)\n    doSomething()\n}\n</code></pre>\n<p>If you get an error with the <strong>lifecycleScope</strong> not found! - import this dependency to the app gradle file:</p>\n<pre><code>implementation &quot;androidx.lifecycle:lifecycle-runtime-ktx:2.4.0&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2799929,"reputation":8527,"user_id":2408342,"accept_rate":90,"display_name":"Roshana Pitigala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630492955,"creation_date":1630492955,"answer_id":69012245,"question_id":3072173,"body_markdown":"Well, you can always use legacy `Thread.sleep()` if you are using Java.\r\n\r\n    new Thread(() -&gt; {\r\n\r\n        try {\r\n            Thread.sleep(millis); //delay in milliseconds\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        yourMethod();\r\n\r\n    }).start();\r\n\r\nThe only problem here is that you cannot do any UI updates since its a separate thread.","title":"How to call a method after a delay in Android","body":"<p>Well, you can always use legacy <code>Thread.sleep()</code> if you are using Java.</p>\n<pre><code>new Thread(() -&gt; {\n\n    try {\n        Thread.sleep(millis); //delay in milliseconds\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    yourMethod();\n\n}).start();\n</code></pre>\n<p>The only problem here is that you cannot do any UI updates since its a separate thread.</p>\n"},{"tags":[],"owner":{"account_id":1063105,"reputation":4965,"user_id":1064316,"display_name":"norbDEV"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641767414,"creation_date":1641767414,"answer_id":70646064,"question_id":3072173,"body_markdown":" - Kotlin \r\n - runOnUiThread from a Fragment \r\n - Timer\r\n\r\nexample:\r\n\r\n    Timer().schedule(500) {\r\n        activity?.runOnUiThread {\r\n            // code                                    \r\n        }\r\n    }","title":"How to call a method after a delay in Android","body":"<ul>\n<li>Kotlin</li>\n<li>runOnUiThread from a Fragment</li>\n<li>Timer</li>\n</ul>\n<p>example:</p>\n<pre><code>Timer().schedule(500) {\n    activity?.runOnUiThread {\n        // code                                    \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11070566,"reputation":685,"user_id":8128825,"display_name":"Barrrettt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647531483,"creation_date":1647531483,"answer_id":71515121,"question_id":3072173,"body_markdown":"Another response (java8) on activity class.\r\n\r\n    //hide with delay\r\n    new Thread(() -&gt; {\r\n        try {Thread.sleep(500);} catch (InterruptedException e) {e.printStackTrace();}\r\n        this.runOnUiThread(() -&gt; {\r\n            myView.setVisibility(View.GONE);//this run on GUI\r\n        });\r\n    }).start();","title":"How to call a method after a delay in Android","body":"<p>Another response (java8) on activity class.</p>\n<pre><code>//hide with delay\nnew Thread(() -&gt; {\n    try {Thread.sleep(500);} catch (InterruptedException e) {e.printStackTrace();}\n    this.runOnUiThread(() -&gt; {\n        myView.setVisibility(View.GONE);//this run on GUI\n    });\n}).start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17187292,"reputation":159,"user_id":12441683,"display_name":"radus14"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695627962,"creation_date":1695627962,"answer_id":77170730,"question_id":3072173,"body_markdown":"Activity/Fragment - in this case **if** you doSomething with **UI** changes, then you should use **viewLifecycleOwner**&#39;s *lifecycleScope* because in the case of destroying the Activity/Fragment this operation is going to be safe and is not to execute, otherwise without *viewLifecycleOwner* the app will crash when modifying the UI that would be not bound to anything.\r\n\r\n```\r\nprivate val DELAY_MS = 5000\r\n\r\nviewLifecycleOwner.lifecycleScope.launch {\r\n   delay(DELAY_MS)\r\n   doSomething()\r\n}\r\n```","title":"How to call a method after a delay in Android","body":"<p>Activity/Fragment - in this case <strong>if</strong> you doSomething with <strong>UI</strong> changes, then you should use <strong>viewLifecycleOwner</strong>'s <em>lifecycleScope</em> because in the case of destroying the Activity/Fragment this operation is going to be safe and is not to execute, otherwise without <em>viewLifecycleOwner</em> the app will crash when modifying the UI that would be not bound to anything.</p>\n<pre><code>private val DELAY_MS = 5000\n\nviewLifecycleOwner.lifecycleScope.launch {\n   delay(DELAY_MS)\n   doSomething()\n}\n</code></pre>\n"}],"owner":{"account_id":87569,"reputation":76648,"user_id":242769,"accept_rate":91,"display_name":"aryaxt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":842482,"favorite_count":0,"down_vote_count":0,"up_vote_count":909,"accepted_answer_id":9166354,"answer_count":36,"score":909,"last_activity_date":1695627962,"creation_date":1276885459,"question_id":3072173,"body_markdown":"I want to be able to call the following method after a specified delay.\r\n In objective c there was something like:\r\n\r\n    [self performSelector:@selector(DoSomething) withObject:nil afterDelay:5];\r\n\r\nIs there an equivalent of this method in android with java?\r\nFor example I need to be able to call a method after 5 seconds.\r\n\r\n    public void DoSomething()\r\n    {\r\n         //do something here\r\n    }","title":"How to call a method after a delay in Android","body":"<p>I want to be able to call the following method after a specified delay.\n In objective c there was something like:</p>\n\n<pre><code>[self performSelector:@selector(DoSomething) withObject:nil afterDelay:5];\n</code></pre>\n\n<p>Is there an equivalent of this method in android with java?\nFor example I need to be able to call a method after 5 seconds.</p>\n\n<pre><code>public void DoSomething()\n{\n     //do something here\n}\n</code></pre>\n"},{"tags":["java","hibernate","gradle","db2","cxf"],"owner":{"account_id":26206548,"reputation":21,"user_id":19886074,"display_name":"PriyanWL2022"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695627818,"creation_date":1695627818,"question_id":77170713,"body_markdown":"Here is my artifacts of Hibernate. I&#39;ve upgraded them from 5.6.15 to 6.3.1\r\n\r\n    implementation (group: &#39;org.hibernate.orm&#39;, name: &#39;hibernate-core&#39;, version: &#39;6.3.1.Final&#39;)\r\n\timplementation (group: &#39;org.hibernate.orm&#39;, name: &#39;hibernate-c3p0&#39;, version: &#39;6.3.1.Final&#39;)\r\n\timplementation &#39;org.hibernate:hibernate-ehcache:5.6.15.Final&#39;\r\n\timplementation &#39;org.hibernate.validator:hibernate-validator:8.0.1.Final&#39;\r\n\r\nAlso here is my impacted code which I used to extends DB2Dialect earlier\r\n\r\n    import org.hibernate.dialect.function.StandardSQLFunction;\r\n    \r\n    public class DB2Dialect extends org.hibernate.dialect.DB2Dialect {\r\n    \r\n        public DB2Dialect() {\r\n            super();\r\n            registerFunction(&quot;myFunction&quot;, new StandardSQLFunction(&quot;myFunction&quot;));\r\n        }\r\n    }\r\n\r\nI&#39;m getting below error after upgrade\r\n\r\n    The method registerFunction(String, StandardSQLFunction) is undefined for the type DB2Dialect\r\n\r\nSo any Idea or reference about how to rewrite this code.?\r\n-Thanks","title":"How to rewrite registerFunction for DB2, in Hibernate 6.3.1.?","body":"<p>Here is my artifacts of Hibernate. I've upgraded them from 5.6.15 to 6.3.1</p>\n<pre><code>implementation (group: 'org.hibernate.orm', name: 'hibernate-core', version: '6.3.1.Final')\nimplementation (group: 'org.hibernate.orm', name: 'hibernate-c3p0', version: '6.3.1.Final')\nimplementation 'org.hibernate:hibernate-ehcache:5.6.15.Final'\nimplementation 'org.hibernate.validator:hibernate-validator:8.0.1.Final'\n</code></pre>\n<p>Also here is my impacted code which I used to extends DB2Dialect earlier</p>\n<pre><code>import org.hibernate.dialect.function.StandardSQLFunction;\n\npublic class DB2Dialect extends org.hibernate.dialect.DB2Dialect {\n\n    public DB2Dialect() {\n        super();\n        registerFunction(&quot;myFunction&quot;, new StandardSQLFunction(&quot;myFunction&quot;));\n    }\n}\n</code></pre>\n<p>I'm getting below error after upgrade</p>\n<pre><code>The method registerFunction(String, StandardSQLFunction) is undefined for the type DB2Dialect\n</code></pre>\n<p>So any Idea or reference about how to rewrite this code.?\n-Thanks</p>\n"},{"tags":["java","android","android-animation"],"answers":[{"tags":[],"owner":{"account_id":7313335,"reputation":4794,"user_id":5571795,"display_name":"Hezy Ziv"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695627728,"creation_date":1695627728,"answer_id":77170699,"question_id":77133923,"body_markdown":"Try this\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/typewriter_text&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:textSize=&quot;24sp&quot;\r\n        android:textColor=&quot;#000000&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:text=&quot;Your text will appear here&quot;\r\n        /&gt;\r\nactivity\r\n\r\n    import android.os.Bundle;\r\n    import android.os.Handler;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.widget.TextView;\r\n    \r\n    public class TypewriterActivity extends AppCompatActivity {\r\n    \r\n        private TextView typewriterText;\r\n        private String[] textArray;\r\n        private int currentIndex = 0;\r\n        private Handler handler = new Handler();\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_typewriter);\r\n    \r\n            typewriterText = findViewById(R.id.typewriter_text);\r\n            // Split the text into an array of words\r\n            textArray = getResources().getStringArray(R.array.typewriter_text_array);\r\n            \r\n            // Start the typewriter effect\r\n            startTypewriterAnimation();\r\n        }\r\n    \r\n        private void startTypewriterAnimation() {\r\n            if (currentIndex &lt; textArray.length) {\r\n                String currentText = textArray[currentIndex];\r\n                typewriterText.setText(currentText.subSequence(0, currentText.length() - 1));\r\n                handler.postDelayed(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        startTypewriterAnimation();\r\n                    }\r\n                }, 100); // Delay between characters (adjust as needed)\r\n                currentIndex++;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nresources\r\n\r\n    &lt;resources&gt;\r\n        &lt;string-array name=&quot;typewriter_text_array&quot;&gt;\r\n            &lt;item&gt;There&lt;/item&gt;\r\n            &lt;item&gt;are&lt;/item&gt;\r\n            &lt;item&gt;no&lt;/item&gt;\r\n            &lt;item&gt;limits&lt;/item&gt;\r\n            &lt;item&gt;to&lt;/item&gt;\r\n            &lt;item&gt;what&lt;/item&gt;\r\n            &lt;item&gt;you&lt;/item&gt;\r\n            &lt;item&gt;can&lt;/item&gt;\r\n            &lt;item&gt;accomplish,&lt;/item&gt;\r\n            &lt;item&gt;except&lt;/item&gt;\r\n            &lt;item&gt;the&lt;/item&gt;\r\n            &lt;item&gt;limits&lt;/item&gt;\r\n            &lt;item&gt;you&lt;/item&gt;\r\n            &lt;item&gt;place&lt;/item&gt;\r\n            &lt;item&gt;on&lt;/item&gt;\r\n            &lt;item&gt;your&lt;/item&gt;\r\n            &lt;item&gt;own&lt;/item&gt;\r\n            &lt;item&gt;thinking.&lt;/item&gt;\r\n        &lt;/string-array&gt;\r\n    &lt;/resources&gt;\r\n\r\n","title":"How create fade-in animation for text in textView in android studio?","body":"<p>Try this</p>\n<pre><code>&lt;TextView\n    android:id=&quot;@+id/typewriter_text&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:textSize=&quot;24sp&quot;\n    android:textColor=&quot;#000000&quot;\n    android:layout_gravity=&quot;center&quot;\n    android:text=&quot;Your text will appear here&quot;\n    /&gt;\n</code></pre>\n<p>activity</p>\n<pre><code>import android.os.Bundle;\nimport android.os.Handler;\nimport android.support.v7.app.AppCompatActivity;\nimport android.widget.TextView;\n\npublic class TypewriterActivity extends AppCompatActivity {\n\n    private TextView typewriterText;\n    private String[] textArray;\n    private int currentIndex = 0;\n    private Handler handler = new Handler();\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_typewriter);\n\n        typewriterText = findViewById(R.id.typewriter_text);\n        // Split the text into an array of words\n        textArray = getResources().getStringArray(R.array.typewriter_text_array);\n        \n        // Start the typewriter effect\n        startTypewriterAnimation();\n    }\n\n    private void startTypewriterAnimation() {\n        if (currentIndex &lt; textArray.length) {\n            String currentText = textArray[currentIndex];\n            typewriterText.setText(currentText.subSequence(0, currentText.length() - 1));\n            handler.postDelayed(new Runnable() {\n                @Override\n                public void run() {\n                    startTypewriterAnimation();\n                }\n            }, 100); // Delay between characters (adjust as needed)\n            currentIndex++;\n        }\n    }\n}\n</code></pre>\n<p>resources</p>\n<pre><code>&lt;resources&gt;\n    &lt;string-array name=&quot;typewriter_text_array&quot;&gt;\n        &lt;item&gt;There&lt;/item&gt;\n        &lt;item&gt;are&lt;/item&gt;\n        &lt;item&gt;no&lt;/item&gt;\n        &lt;item&gt;limits&lt;/item&gt;\n        &lt;item&gt;to&lt;/item&gt;\n        &lt;item&gt;what&lt;/item&gt;\n        &lt;item&gt;you&lt;/item&gt;\n        &lt;item&gt;can&lt;/item&gt;\n        &lt;item&gt;accomplish,&lt;/item&gt;\n        &lt;item&gt;except&lt;/item&gt;\n        &lt;item&gt;the&lt;/item&gt;\n        &lt;item&gt;limits&lt;/item&gt;\n        &lt;item&gt;you&lt;/item&gt;\n        &lt;item&gt;place&lt;/item&gt;\n        &lt;item&gt;on&lt;/item&gt;\n        &lt;item&gt;your&lt;/item&gt;\n        &lt;item&gt;own&lt;/item&gt;\n        &lt;item&gt;thinking.&lt;/item&gt;\n    &lt;/string-array&gt;\n&lt;/resources&gt;\n</code></pre>\n"}],"owner":{"account_id":29481117,"reputation":1,"user_id":22591911,"display_name":"unlogic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695627728,"creation_date":1695120833,"question_id":77133923,"body_markdown":"Maybe someone already has a ready-made solution or can tell me how I can make a similar animation in android studio?\r\n\r\n**fade-in text animation**\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI found an example in [html + CSS][2], but I don&#39;t know if there is any way to apply this to TextView? if someone has encountered and found a solution, I will be very grateful.\r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    @import url(&quot;https://fonts.googleapis.com/css?family=Montserrat&amp;display=swap&quot;);\r\n\r\n    * {\r\n      padding: 0;\r\n      margin: 0;\r\n    }\r\n\r\n    body {\r\n      height: 100vh;\r\n      display: flex;\r\n      flex-direction: column;\r\n      justify-content: center;\r\n      align-items: center;\r\n    }\r\n\r\n    h1 {\r\n      font-family: &quot;Montserrat Medium&quot;;\r\n      max-width: 40ch;\r\n      text-align: center;\r\n      transform: scale(0.94);\r\n      animation: scale 3s forwards cubic-bezier(0.5, 1, 0.89, 1);\r\n    }\r\n    @keyframes scale {\r\n      100% {\r\n        transform: scale(1);\r\n      }\r\n    }\r\n\r\n    span {\r\n      display: inline-block;\r\n      opacity: 0;\r\n      filter: blur(4px);\r\n    }\r\n\r\n    span:nth-child(1) {\r\n      animation: fade-in 0.8s 0.1s forwards cubic-bezier(0.11, 0, 0.5, 0);\r\n    }\r\n\r\n    span:nth-child(2) {\r\n      animation: fade-in 0.8s 0.2s forwards cubic-bezier(0.11, 0, 0.5, 0);\r\n    }\r\n\r\n    span:nth-child(3) {\r\n      animation: fade-in 0.8s 0.3s forwards cubic-bezier(0.11, 0, 0.5, 0);\r\n    }\r\n\r\n    span:nth-child(4) {\r\n      animation: fade-in 0.8s 0.4s forwards cubic-bezier(0.11, 0, 0.5, 0);\r\n    }\r\n\r\n    span:nth-child(5) {\r\n      animation: fade-in 0.8s 0.5s forwards cubic-bezier(0.11, 0, 0.5, 0);\r\n    }\r\n\r\n    span:nth-child(6) {\r\n      animation: fade-in 0.8s 0.6s forwards cubic-bezier(0.11, 0, 0.5, 0);\r\n    }\r\n\r\n    span:nth-child(7) {\r\n      animation: fade-in 0.8s 0.7s forwards cubic-bezier(0.11, 0, 0.5, 0);\r\n    }\r\n\r\n    span:nth-child(8) {\r\n      animation: fade-in 0.8s 0.8s forwards cubic-bezier(0.11, 0, 0.5, 0);\r\n    }\r\n\r\n    span:nth-child(9) {\r\n      animation: fade-in 0.8s 0.9s forwards cubic-bezier(0.11, 0, 0.5, 0);\r\n    }\r\n\r\n    span:nth-child(10) {\r\n      animation: fade-in 0.8s 1s forwards cubic-bezier(0.11, 0, 0.5, 0);\r\n    }\r\n\r\n    span:nth-child(11) {\r\n      animation: fade-in 0.8s 1.1s forwards cubic-bezier(0.11, 0, 0.5, 0);\r\n    }\r\n\r\n    span:nth-child(12) {\r\n      animation: fade-in 0.8s 1.2s forwards cubic-bezier(0.11, 0, 0.5, 0);\r\n    }\r\n\r\n    span:nth-child(13) {\r\n      animation: fade-in 0.8s 1.3s forwards cubic-bezier(0.11, 0, 0.5, 0);\r\n    }\r\n\r\n    span:nth-child(14) {\r\n      animation: fade-in 0.8s 1.4s forwards cubic-bezier(0.11, 0, 0.5, 0);\r\n    }\r\n\r\n    span:nth-child(15) {\r\n      animation: fade-in 0.8s 1.5s forwards cubic-bezier(0.11, 0, 0.5, 0);\r\n    }\r\n\r\n    span:nth-child(16) {\r\n      animation: fade-in 0.8s 1.6s forwards cubic-bezier(0.11, 0, 0.5, 0);\r\n    }\r\n\r\n    span:nth-child(17) {\r\n      animation: fade-in 0.8s 1.7s forwards cubic-bezier(0.11, 0, 0.5, 0);\r\n    }\r\n\r\n    span:nth-child(18) {\r\n      animation: fade-in 0.8s 1.8s forwards cubic-bezier(0.11, 0, 0.5, 0);\r\n    }\r\n\r\n    @keyframes fade-in {\r\n      100% {\r\n        opacity: 1;\r\n        filter: blur(0);\r\n      }\r\n    }\r\n\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;h1&gt;\r\n      &lt;span&gt;There&lt;/span&gt;\r\n      &lt;span&gt;are&lt;/span&gt;\r\n      &lt;span&gt;no&lt;/span&gt;\r\n      &lt;span&gt;limits&lt;/span&gt;\r\n      &lt;span&gt;to&lt;/span&gt;\r\n      &lt;span&gt;what&lt;/span&gt;\r\n      &lt;span&gt;you&lt;/span&gt;\r\n      &lt;span&gt;can&lt;/span&gt;\r\n      &lt;span&gt;accomplish,&lt;/span&gt;\r\n      &lt;span&gt;except&lt;/span&gt;\r\n      &lt;span&gt;the&lt;/span&gt;\r\n      &lt;span&gt;limits&lt;/span&gt;\r\n      &lt;span&gt;you&lt;/span&gt;\r\n      &lt;span&gt;place&lt;/span&gt;\r\n      &lt;span&gt;on&lt;/span&gt;\r\n      &lt;span&gt;your&lt;/span&gt;\r\n      &lt;span&gt;own&lt;/span&gt;\r\n      &lt;span&gt;thinking.&lt;/span&gt;\r\n    &lt;/h1&gt;\r\n    &lt;!--Brian Tracy--&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FhCAM.gif\r\n  [2]: https://codepen.io/alvarotrigo/pen/ExvqdNa","title":"How create fade-in animation for text in textView in android studio?","body":"<p>Maybe someone already has a ready-made solution or can tell me how I can make a similar animation in android studio?</p>\n<p><strong>fade-in text animation</strong></p>\n<p><a href=\"https://i.stack.imgur.com/FhCAM.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FhCAM.gif\" alt=\"enter image description here\" /></a></p>\n<p>I found an example in <a href=\"https://codepen.io/alvarotrigo/pen/ExvqdNa\" rel=\"nofollow noreferrer\">html + CSS</a>, but I don't know if there is any way to apply this to TextView? if someone has encountered and found a solution, I will be very grateful.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>@import url(\"https://fonts.googleapis.com/css?family=Montserrat&amp;display=swap\");\n\n* {\n  padding: 0;\n  margin: 0;\n}\n\nbody {\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n\nh1 {\n  font-family: \"Montserrat Medium\";\n  max-width: 40ch;\n  text-align: center;\n  transform: scale(0.94);\n  animation: scale 3s forwards cubic-bezier(0.5, 1, 0.89, 1);\n}\n@keyframes scale {\n  100% {\n    transform: scale(1);\n  }\n}\n\nspan {\n  display: inline-block;\n  opacity: 0;\n  filter: blur(4px);\n}\n\nspan:nth-child(1) {\n  animation: fade-in 0.8s 0.1s forwards cubic-bezier(0.11, 0, 0.5, 0);\n}\n\nspan:nth-child(2) {\n  animation: fade-in 0.8s 0.2s forwards cubic-bezier(0.11, 0, 0.5, 0);\n}\n\nspan:nth-child(3) {\n  animation: fade-in 0.8s 0.3s forwards cubic-bezier(0.11, 0, 0.5, 0);\n}\n\nspan:nth-child(4) {\n  animation: fade-in 0.8s 0.4s forwards cubic-bezier(0.11, 0, 0.5, 0);\n}\n\nspan:nth-child(5) {\n  animation: fade-in 0.8s 0.5s forwards cubic-bezier(0.11, 0, 0.5, 0);\n}\n\nspan:nth-child(6) {\n  animation: fade-in 0.8s 0.6s forwards cubic-bezier(0.11, 0, 0.5, 0);\n}\n\nspan:nth-child(7) {\n  animation: fade-in 0.8s 0.7s forwards cubic-bezier(0.11, 0, 0.5, 0);\n}\n\nspan:nth-child(8) {\n  animation: fade-in 0.8s 0.8s forwards cubic-bezier(0.11, 0, 0.5, 0);\n}\n\nspan:nth-child(9) {\n  animation: fade-in 0.8s 0.9s forwards cubic-bezier(0.11, 0, 0.5, 0);\n}\n\nspan:nth-child(10) {\n  animation: fade-in 0.8s 1s forwards cubic-bezier(0.11, 0, 0.5, 0);\n}\n\nspan:nth-child(11) {\n  animation: fade-in 0.8s 1.1s forwards cubic-bezier(0.11, 0, 0.5, 0);\n}\n\nspan:nth-child(12) {\n  animation: fade-in 0.8s 1.2s forwards cubic-bezier(0.11, 0, 0.5, 0);\n}\n\nspan:nth-child(13) {\n  animation: fade-in 0.8s 1.3s forwards cubic-bezier(0.11, 0, 0.5, 0);\n}\n\nspan:nth-child(14) {\n  animation: fade-in 0.8s 1.4s forwards cubic-bezier(0.11, 0, 0.5, 0);\n}\n\nspan:nth-child(15) {\n  animation: fade-in 0.8s 1.5s forwards cubic-bezier(0.11, 0, 0.5, 0);\n}\n\nspan:nth-child(16) {\n  animation: fade-in 0.8s 1.6s forwards cubic-bezier(0.11, 0, 0.5, 0);\n}\n\nspan:nth-child(17) {\n  animation: fade-in 0.8s 1.7s forwards cubic-bezier(0.11, 0, 0.5, 0);\n}\n\nspan:nth-child(18) {\n  animation: fade-in 0.8s 1.8s forwards cubic-bezier(0.11, 0, 0.5, 0);\n}\n\n@keyframes fade-in {\n  100% {\n    opacity: 1;\n    filter: blur(0);\n  }\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;h1&gt;\n  &lt;span&gt;There&lt;/span&gt;\n  &lt;span&gt;are&lt;/span&gt;\n  &lt;span&gt;no&lt;/span&gt;\n  &lt;span&gt;limits&lt;/span&gt;\n  &lt;span&gt;to&lt;/span&gt;\n  &lt;span&gt;what&lt;/span&gt;\n  &lt;span&gt;you&lt;/span&gt;\n  &lt;span&gt;can&lt;/span&gt;\n  &lt;span&gt;accomplish,&lt;/span&gt;\n  &lt;span&gt;except&lt;/span&gt;\n  &lt;span&gt;the&lt;/span&gt;\n  &lt;span&gt;limits&lt;/span&gt;\n  &lt;span&gt;you&lt;/span&gt;\n  &lt;span&gt;place&lt;/span&gt;\n  &lt;span&gt;on&lt;/span&gt;\n  &lt;span&gt;your&lt;/span&gt;\n  &lt;span&gt;own&lt;/span&gt;\n  &lt;span&gt;thinking.&lt;/span&gt;\n&lt;/h1&gt;\n&lt;!--Brian Tracy--&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","python","bundle","graalvm","graalpython"],"answers":[{"tags":[],"owner":{"account_id":125486,"reputation":2868,"user_id":321302,"accept_rate":100,"display_name":"Steves"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695627359,"creation_date":1626438585,"answer_id":68409051,"question_id":68408222,"body_markdown":"Starting from version 23.1, all GraalVM additional languages can now be easily embedded in Java, including non-Graal JDKs (but with caveats!) by using Maven artifacts published on Mavencentral. Those artifacts embed and transparently on-demand extract the necessary files.\r\n\r\nWith regards to native-image, the languages now behave just like any other Java library that supports native-image. There are no extra options necessary for native-image, just put the relevant jars on modulepath (preferably) or classpath.\r\n\r\nSo embedding GraalPy in Java is as simple as adding this to pom.xml (or equivalent code for the build system of your choice):\r\n\r\n```\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.graalvm.polyglot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;polyglot&lt;/artifactId&gt;\r\n            &lt;version&gt;23.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.graalvm.polyglot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;python-community&lt;/artifactId&gt;\r\n            &lt;version&gt;23.1.0&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\nTo generate native-image, one can use the [Maven plugin for native-image][1].\r\n\r\nMore [GraalPy documentation][2].\r\n\r\n\r\n---\r\nOld answer applicable to versions &lt; 23.1\r\n\r\nI think you can bundle whole GraalVM distribution with your application, like some other applications do with normal JDKs (e.g., I think IntelliJ bundles JDK with it). That would be the simplest option.\r\n\r\nYou need at least the GraalPython home directory, which contains Python standard library and other files necessary for GraalPython to run any meaningful program.\r\n\r\nMoreover, if you want to run in JVM mode, then you need to run on GraalVM, other JDKs are not supported. In theory you could perhaps hack it somehow to run GraalPython on stock JDK with JVMCI, like it is possible with JavaScript [0], but it is going to be much more complicated with GraalPython.\r\n\r\nIn theory, you can bundle GraalPython home directory into your application by providing custom filesystem implementation [1].\r\n\r\n[0] https://www.graalvm.org/reference-manual/js/RunOnJDK/\r\n\r\n[1] https://www.graalvm.org/truffle/javadoc/org/graalvm/polyglot/io/FileSystem.html\r\n\r\n\r\n  [1]: https://graalvm.github.io/native-build-tools/latest/maven-plugin.html\r\n  [2]: https://www.graalvm.org/latest/reference-manual/python","title":"Bundle GraalVM engine and graalpython with Java application","body":"<p>Starting from version 23.1, all GraalVM additional languages can now be easily embedded in Java, including non-Graal JDKs (but with caveats!) by using Maven artifacts published on Mavencentral. Those artifacts embed and transparently on-demand extract the necessary files.</p>\n<p>With regards to native-image, the languages now behave just like any other Java library that supports native-image. There are no extra options necessary for native-image, just put the relevant jars on modulepath (preferably) or classpath.</p>\n<p>So embedding GraalPy in Java is as simple as adding this to pom.xml (or equivalent code for the build system of your choice):</p>\n<pre><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.graalvm.polyglot&lt;/groupId&gt;\n            &lt;artifactId&gt;polyglot&lt;/artifactId&gt;\n            &lt;version&gt;23.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.graalvm.polyglot&lt;/groupId&gt;\n            &lt;artifactId&gt;python-community&lt;/artifactId&gt;\n            &lt;version&gt;23.1.0&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>To generate native-image, one can use the <a href=\"https://graalvm.github.io/native-build-tools/latest/maven-plugin.html\" rel=\"nofollow noreferrer\">Maven plugin for native-image</a>.</p>\n<p>More <a href=\"https://www.graalvm.org/latest/reference-manual/python\" rel=\"nofollow noreferrer\">GraalPy documentation</a>.</p>\n<hr />\n<p>Old answer applicable to versions &lt; 23.1</p>\n<p>I think you can bundle whole GraalVM distribution with your application, like some other applications do with normal JDKs (e.g., I think IntelliJ bundles JDK with it). That would be the simplest option.</p>\n<p>You need at least the GraalPython home directory, which contains Python standard library and other files necessary for GraalPython to run any meaningful program.</p>\n<p>Moreover, if you want to run in JVM mode, then you need to run on GraalVM, other JDKs are not supported. In theory you could perhaps hack it somehow to run GraalPython on stock JDK with JVMCI, like it is possible with JavaScript [0], but it is going to be much more complicated with GraalPython.</p>\n<p>In theory, you can bundle GraalPython home directory into your application by providing custom filesystem implementation <a href=\"https://graalvm.github.io/native-build-tools/latest/maven-plugin.html\" rel=\"nofollow noreferrer\">1</a>.</p>\n<p>[0] <a href=\"https://www.graalvm.org/reference-manual/js/RunOnJDK/\" rel=\"nofollow noreferrer\">https://www.graalvm.org/reference-manual/js/RunOnJDK/</a></p>\n<p><a href=\"https://graalvm.github.io/native-build-tools/latest/maven-plugin.html\" rel=\"nofollow noreferrer\">1</a> <a href=\"https://www.graalvm.org/truffle/javadoc/org/graalvm/polyglot/io/FileSystem.html\" rel=\"nofollow noreferrer\">https://www.graalvm.org/truffle/javadoc/org/graalvm/polyglot/io/FileSystem.html</a></p>\n"}],"owner":{"account_id":223484,"reputation":61166,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":508,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695627359,"creation_date":1626434799,"question_id":68408222,"body_markdown":"There is a way to run Python scripts that uses packages from Java using GraalVM and its Python module `graalpython`. Here is example https://github.com/paulvi/graalpython-java-template\r\n\r\nI wonder if it is possible to bundle GraalVM engine and `graalpython` into my Java application and produce jar or native image (e.g. using native image compiler from GraalVM project ) ?","title":"Bundle GraalVM engine and graalpython with Java application","body":"<p>There is a way to run Python scripts that uses packages from Java using GraalVM and its Python module <code>graalpython</code>. Here is example <a href=\"https://github.com/paulvi/graalpython-java-template\" rel=\"nofollow noreferrer\">https://github.com/paulvi/graalpython-java-template</a></p>\n<p>I wonder if it is possible to bundle GraalVM engine and <code>graalpython</code> into my Java application and produce jar or native image (e.g. using native image compiler from GraalVM project ) ?</p>\n"},{"tags":["java","maven","pdf","itext","flying-saucer"],"comments":[{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1695717267,"post_id":77170646,"comment_id":136058279,"body_markdown":"Why do you use the oldest version? Did you set your classpath right, so that the jar could be found?","body":"Why do you use the oldest version? Did you set your classpath right, so that the jar could be found?"},{"owner":{"account_id":1076957,"reputation":1015,"user_id":1074881,"accept_rate":57,"display_name":"ezhil"},"score":0,"creation_date":1695724958,"post_id":77170646,"comment_id":136059825,"body_markdown":"I get the same error with latest version 9.2.2 (https://mvnrepository.com/artifact/org.xhtmlrenderer/flying-saucer-pdf-itext5/9.2.2)","body":"I get the same error with latest version 9.2.2 (<a href=\"https://mvnrepository.com/artifact/org.xhtmlrenderer/flying-saucer-pdf-itext5/9.2.2\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.xhtmlrenderer/&hellip;</a>)"},{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1695726394,"post_id":77170646,"comment_id":136060110,"body_markdown":"https://stackoverflow.com/questions/35930872/java-generate-a-pdf-with-flying-saucer","body":"<a href=\"https://stackoverflow.com/questions/35930872/java-generate-a-pdf-with-flying-saucer\" title=\"java generate a pdf with flying saucer\">stackoverflow.com/questions/35930872/&hellip;</a>"}],"owner":{"account_id":1076957,"reputation":1015,"user_id":1074881,"accept_rate":57,"display_name":"ezhil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695627311,"creation_date":1695627311,"question_id":77170646,"body_markdown":"Here is the code I am using to generate a PDF using &quot;Flying Saucer&quot;. I downloaded the jar from https://mvnrepository.com/artifact/org.xhtmlrenderer/flying-saucer-pdf-itext5/9.0.1 and included it in the maven pom file, but it does not work.&#160;To test, I downloaded the jar manually and added it to intellij IDE as an external library, but it still does not work.&#160;The following error appears&#160;\r\n\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/xhtmlrenderer/extend/UserAgentCallback\r\n\tat PDFGen.main(PDFGen.java:14)\r\nCaused by: java.lang.ClassNotFoundException: org.xhtmlrenderer.extend.UserAgentCallback\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t... 1 more\r\n\r\n  \r\n\r\n    import org.xhtmlrenderer.pdf.ITextRenderer;\r\n    \r\n    import java.io.FileOutputStream;\r\n    \r\n        public class PDFGen {\r\n            public static void main(String[] args) {\r\n                try {\r\n                    String url = https://en.wikipedia.org/wiki/IPhone&quot;;\r\n                    String pdfFilePath = &quot;output.pdf&quot;;\r\n        \r\n                    ITextRenderer renderer = new ITextRenderer();\r\n        \r\n                    renderer.setDocument(url);\r\n        \r\n                    // Render the HTML to PDF\r\n                    renderer.layout();\r\n                    renderer.createPDF(new FileOutputStream(pdfFilePath));\r\n        \r\n                    System.out.println(&quot;PDF generated successfully.&quot;);\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n\r\n\r\nMaven\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.xhtmlrenderer&lt;/groupId&gt;\r\n        &lt;artifactId&gt;flying-saucer-pdf-itext5&lt;/artifactId&gt;\r\n        &lt;version&gt;9.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nCan anyone tell me what are dependency that I should use in order to use Flying Saucer(convert HTML to PDF)?","title":"Create a PDF file from HTML specified via URL using Flying Saucer","body":"<p>Here is the code I am using to generate a PDF using &quot;Flying Saucer&quot;. I downloaded the jar from <a href=\"https://mvnrepository.com/artifact/org.xhtmlrenderer/flying-saucer-pdf-itext5/9.0.1\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.xhtmlrenderer/flying-saucer-pdf-itext5/9.0.1</a> and included it in the maven pom file, but it does not work. To test, I downloaded the jar manually and added it to intellij IDE as an external library, but it still does not work. The following error appears </p>\n<p>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/xhtmlrenderer/extend/UserAgentCallback\nat PDFGen.main(PDFGen.java:14)\nCaused by: java.lang.ClassNotFoundException: org.xhtmlrenderer.extend.UserAgentCallback\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n... 1 more</p>\n<pre><code>import org.xhtmlrenderer.pdf.ITextRenderer;\n\nimport java.io.FileOutputStream;\n\n    public class PDFGen {\n        public static void main(String[] args) {\n            try {\n                String url = https://en.wikipedia.org/wiki/IPhone&quot;;\n                String pdfFilePath = &quot;output.pdf&quot;;\n    \n                ITextRenderer renderer = new ITextRenderer();\n    \n                renderer.setDocument(url);\n    \n                // Render the HTML to PDF\n                renderer.layout();\n                renderer.createPDF(new FileOutputStream(pdfFilePath));\n    \n                System.out.println(&quot;PDF generated successfully.&quot;);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n</code></pre>\n<p>Maven</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.xhtmlrenderer&lt;/groupId&gt;\n    &lt;artifactId&gt;flying-saucer-pdf-itext5&lt;/artifactId&gt;\n    &lt;version&gt;9.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Can anyone tell me what are dependency that I should use in order to use Flying Saucer(convert HTML to PDF)?</p>\n"},{"tags":["java","graphviz"],"comments":[{"owner":{"account_id":5595470,"reputation":34938,"user_id":4433386,"accept_rate":83,"display_name":"Marcus M&#252;ller"},"score":0,"creation_date":1508083725,"post_id":26481910,"comment_id":80459474,"body_markdown":"VTC – this is a software recommendation question.","body":"VTC – this is a software recommendation question."}],"answers":[{"tags":[],"owner":{"account_id":111474,"reputation":479,"user_id":294458,"accept_rate":86,"display_name":"seteropere"},"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1464246400,"creation_date":1413880170,"answer_id":26482170,"question_id":26481910,"body_markdown":"Check [this][1] API, It is simple and has several output format (i.e. pdf gif ..etc).\r\n\r\n\r\n  [1]: http://www.loria.fr/~szathmar/off/projects/java/GraphVizAPI/index.php\r\n\r\n**EDIT May 2016:** \r\nAs many commented that the API is not available anymore; Here its source code:\r\n\r\nFirst there is `config.properties` file that you need to create and copy paste the following:\r\n\r\n    ##############################################################\r\n    #                    Linux Configurations                    #\r\n    ##############################################################\r\n    # The dir. where temporary files will be created.\r\n    tempDirForLinux = /tmp\r\n    # Where is your dot program located? It will be called externally.\r\n    dotForLinux = /usr/bin/dot\r\n    \r\n    ##############################################################\r\n    #                   Windows Configurations                   #\r\n    ##############################################################\r\n    # The dir. where temporary files will be created.\r\n    tempDirForWindows = c:/temp\r\n    # Where is your dot program located? It will be called externally.\r\n    dotForWindows = &quot;c:/Program Files (x86)/Graphviz 2.28/bin/dot.exe&quot;\r\n    \r\n    ##############################################################\r\n    #                    Mac Configurations                      #\r\n    ##############################################################\r\n    # The dir. where temporary files will be created.\r\n    tempDirForMacOSX = /tmp\r\n    # Where is your dot program located? It will be called externally.\r\n    dotForMacOSX = /usr/local/bin/dot\r\n\r\nThen Graphviz.java source code\r\n\r\n\r\n\r\n    // GraphViz.java - a simple API to call dot from Java programs\r\n    \r\n    /*$Id$*/\r\n    /*\r\n     ******************************************************************************\r\n     *                                                                            *\r\n     *                    (c) Copyright Laszlo Szathmary                          *\r\n     *                                                                            *\r\n     * This program is free software; you can redistribute it and/or modify it    *\r\n     * under the terms of the GNU Lesser General Public License as published by   *\r\n     * the Free Software Foundation; either version 2.1 of the License, or        *\r\n     * (at your option) any later version.                                        *\r\n     *                                                                            *\r\n     * This program is distributed in the hope that it will be useful, but        *\r\n     * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY *\r\n     * or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU Lesser General Public    *\r\n     * License for more details.                                                  *\r\n     *                                                                            *\r\n     * You should have received a copy of the GNU Lesser General Public License   *\r\n     * along with this program; if not, write to the Free Software Foundation,    *\r\n     * Inc., 675 Mass Ave, Cambridge, MA 02139, USA.                              *\r\n     *                                                                            *\r\n     ******************************************************************************\r\n     */\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.BufferedWriter;\r\n    import java.io.DataInputStream;\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.FileWriter;\r\n    import java.io.InputStreamReader;\r\n    import java.util.Properties;\r\n    \r\n    /**\r\n     * &lt;dl&gt;\r\n     * &lt;dt&gt;Purpose: GraphViz Java API\r\n     * &lt;dd&gt;\r\n     *\r\n     * &lt;dt&gt;Description:\r\n     * &lt;dd&gt; With this Java class you can simply call dot\r\n     *      from your Java programs.\r\n     * &lt;dt&gt;Example usage:\r\n     * &lt;dd&gt;\r\n     * &lt;pre&gt;\r\n     *    GraphViz gv = new GraphViz();\r\n     *    gv.addln(gv.start_graph());\r\n     *    gv.addln(&quot;A -&gt; B;&quot;);\r\n     *    gv.addln(&quot;A -&gt; C;&quot;);\r\n     *    gv.addln(gv.end_graph());\r\n     *    System.out.println(gv.getDotSource());\r\n     *\r\n     *    String type = &quot;gif&quot;;\r\n     *    File out = new File(&quot;out.&quot; + type);   // out.gif in this example\r\n     *    gv.writeGraphToFile( gv.getGraph( gv.getDotSource(), type ), out );\r\n     * &lt;/pre&gt;\r\n     * &lt;/dd&gt;\r\n     *\r\n     * &lt;/dl&gt;\r\n     *\r\n     * @version v0.5.1, 2013/03/18 (March) -- Patch of Juan Hoyos (Mac support)\r\n     * @version v0.5, 2012/04/24 (April) -- Patch of Abdur Rahman (OS detection + start subgraph + \r\n     * read config file)\r\n     * @version v0.4, 2011/02/05 (February) -- Patch of Keheliya Gallaba is added. Now you\r\n     * can specify the type of the output file: gif, dot, fig, pdf, ps, svg, png, etc.\r\n     * @version v0.3, 2010/11/29 (November) -- Windows support + ability to read the graph from a text file\r\n     * @version v0.2, 2010/07/22 (July) -- bug fix\r\n     * @version v0.1, 2003/12/04 (December) -- first release\r\n     * @author  Laszlo Szathmary (&lt;a href=&quot;jabba.laci@gmail.com&quot;&gt;jabba.laci@gmail.com&lt;/a&gt;)\r\n     */\r\n    public class GraphViz\r\n    {\r\n    \t/**\r\n    \t * Detects the client&#39;s operating system.\r\n    \t */\r\n    \tprivate final static String osName = System.getProperty(&quot;os.name&quot;).replaceAll(&quot;\\\\s&quot;,&quot;&quot;);\r\n    \t\r\n    \t/**\r\n    \t * Load the config.properties file.\r\n    \t */\r\n    \tprivate final static String cfgProp = &quot;/Users/seteropere/NetBeansProjects/TestApplication/src/config.properties&quot;;\r\n    \tprivate final static Properties configFile = new Properties() {\r\n    \t\tprivate final static long serialVersionUID = 1L; {\r\n    \t\t\ttry {\r\n    \t\t\t\tload(new FileInputStream(cfgProp));\r\n    \t\t\t} catch (Exception e) {}\r\n    \t\t}\r\n    \t};\r\n    \r\n    \t/**\r\n    \t * The dir. where temporary files will be created.\r\n    \t */\r\n      private static String TEMP_DIR = &quot;/Users/seteropere/NetBeansProjects/TestApplication&quot;;\r\n    \t\t\t\r\n    \t/**\r\n    \t * Where is your dot program located? It will be called externally.\r\n    \t */\r\n      private static String DOT = configFile.getProperty(&quot;dotFor&quot; + osName);\r\n    \t\r\n    \t/**\r\n    \t * The image size in dpi. 96 dpi is normal size. Higher values are 10% higher each.\r\n    \t * Lower values 10% lower each.\r\n    \t * \r\n    \t * dpi patch by Peter Mueller\r\n    \t */\r\n    \tprivate int[] dpiSizes = {46, 51, 57, 63, 70, 78, 86, 96, 106, 116, 128, 141, 155, 170, 187, 206, 226, 249};\r\n    \r\n    \t/**\r\n    \t * Define the index in the image size array.\r\n    \t */\r\n    \tprivate int currentDpiPos = 7;\r\n    \r\n    \t/**\r\n    \t * Increase the image size (dpi).\r\n    \t */\r\n    \tpublic void increaseDpi() {\r\n    \t\tif ( this.currentDpiPos &lt; (this.dpiSizes.length - 1) ) {\r\n    \t\t\t++this.currentDpiPos;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Decrease the image size (dpi).\r\n    \t */\r\n    \tpublic void decreaseDpi() {\r\n    \t\tif (this.currentDpiPos &gt; 0) {\r\n    \t\t\t--this.currentDpiPos;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic int getImageDpi() {\r\n    \t\treturn this.dpiSizes[this.currentDpiPos];\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * The source of the graph written in dot language.\r\n    \t */\r\n    \tprivate StringBuilder graph = new StringBuilder();\r\n    \r\n    \t/**\r\n    \t * Constructor: creates a new GraphViz object that will contain\r\n    \t * a graph.\r\n    \t */\r\n    \tpublic GraphViz() {\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Returns the graph&#39;s source description in dot language.\r\n    \t * @return Source of the graph in dot language.\r\n    \t */\r\n    \tpublic String getDotSource() {\r\n    \t\treturn this.graph.toString();\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Adds a string to the graph&#39;s source (without newline).\r\n    \t */\r\n    \tpublic void add(String line) {\r\n    \t\tthis.graph.append(line);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Adds a string to the graph&#39;s source (with newline).\r\n    \t */\r\n    \tpublic void addln(String line) {\r\n    \t\tthis.graph.append(line + &quot;\\n&quot;);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Adds a newline to the graph&#39;s source.\r\n    \t */\r\n    \tpublic void addln() {\r\n    \t\tthis.graph.append(&#39;\\n&#39;);\r\n    \t}\r\n    \r\n    \tpublic void clearGraph(){\r\n    \t\tthis.graph = new StringBuilder();\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Returns the graph as an image in binary format.\r\n    \t * @param dot_source Source of the graph to be drawn.\r\n    \t * @param type Type of the output image to be produced, e.g.: gif, dot, fig, pdf, ps, svg, png.\r\n    \t * @return A byte array containing the image of the graph.\r\n    \t */\r\n    \tpublic byte[] getGraph(String dot_source, String type)\r\n    \t{\r\n    \t\tFile dot;\r\n    \t\tbyte[] img_stream = null;\r\n    \r\n    \t\ttry {\r\n    \t\t\tdot = writeDotSourceToFile(dot_source);\r\n    \t\t\tif (dot != null)\r\n    \t\t\t{\r\n    \t\t\t\timg_stream = get_img_stream(dot, type);\r\n    \t\t\t\tif (dot.delete() == false) \r\n    \t\t\t\t\tSystem.err.println(&quot;Warning: &quot; + dot.getAbsolutePath() + &quot; could not be deleted!&quot;);\r\n    \t\t\t\treturn img_stream;\r\n    \t\t\t}\r\n    \t\t\treturn null;\r\n    \t\t} catch (java.io.IOException ioe) { return null; }\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Writes the graph&#39;s image in a file.\r\n    \t * @param img   A byte array containing the image of the graph.\r\n    \t * @param file  Name of the file to where we want to write.\r\n    \t * @return Success: 1, Failure: -1\r\n    \t */\r\n    \tpublic int writeGraphToFile(byte[] img, String file)\r\n    \t{\r\n    \t\tFile to = new File(file);\r\n    \t\treturn writeGraphToFile(img, to);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Writes the graph&#39;s image in a file.\r\n    \t * @param img   A byte array containing the image of the graph.\r\n    \t * @param to    A File object to where we want to write.\r\n    \t * @return Success: 1, Failure: -1\r\n    \t */\r\n    \tpublic int writeGraphToFile(byte[] img, File to)\r\n    \t{\r\n    \t\ttry {\r\n    \t\t\tFileOutputStream fos = new FileOutputStream(to);\r\n    \t\t\tfos.write(img);\r\n    \t\t\tfos.close();\r\n    \t\t} catch (java.io.IOException ioe) { return -1; }\r\n    \t\treturn 1;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * It will call the external dot program, and return the image in\r\n    \t * binary format.\r\n    \t * @param dot Source of the graph (in dot language).\r\n    \t * @param type Type of the output image to be produced, e.g.: gif, dot, fig, pdf, ps, svg, png.\r\n    \t * @return The image of the graph in .gif format.\r\n    \t */\r\n    \tprivate byte[] get_img_stream(File dot, String type)\r\n    \t{\r\n    \t\tFile img;\r\n    \t\tbyte[] img_stream = null;\r\n    \r\n    \t\ttry {\r\n    \t\t\timg = File.createTempFile(&quot;graph_&quot;, &quot;.&quot;+type, new File(GraphViz.TEMP_DIR));\r\n    \t\t\tRuntime rt = Runtime.getRuntime();\r\n    \r\n    \t\t\t// patch by Mike Chenault\r\n    \t\t\tString[] args = {DOT, &quot;-T&quot;+type, &quot;-Gdpi=&quot;+dpiSizes[this.currentDpiPos], dot.getAbsolutePath(), &quot;-o&quot;, img.getAbsolutePath()};\r\n    \t\t\tProcess p = rt.exec(args);\r\n    \r\n    \t\t\tp.waitFor();\r\n    \r\n    \t\t\tFileInputStream in = new FileInputStream(img.getAbsolutePath());\r\n    \t\t\timg_stream = new byte[in.available()];\r\n    \t\t\tin.read(img_stream);\r\n    \t\t\t// Close it if we need to\r\n    \t\t\tif( in != null ) in.close();\r\n    \r\n    \t\t\tif (img.delete() == false) \r\n    \t\t\t\tSystem.err.println(&quot;Warning: &quot; + img.getAbsolutePath() + &quot; could not be deleted!&quot;);\r\n    \t\t}\r\n    \t\tcatch (java.io.IOException ioe) {\r\n    \t\t\tSystem.err.println(&quot;Error:    in I/O processing of tempfile in dir &quot; + GraphViz.TEMP_DIR+&quot;\\n&quot;);\r\n    \t\t\tSystem.err.println(&quot;       or in calling external command&quot;);\r\n    \t\t\tioe.printStackTrace();\r\n    \t\t}\r\n    \t\tcatch (java.lang.InterruptedException ie) {\r\n    \t\t\tSystem.err.println(&quot;Error: the execution of the external program was interrupted&quot;);\r\n    \t\t\tie.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t\treturn img_stream;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Writes the source of the graph in a file, and returns the written file\r\n    \t * as a File object.\r\n    \t * @param str Source of the graph (in dot language).\r\n    \t * @return The file (as a File object) that contains the source of the graph.\r\n    \t */\r\n    \tprivate File writeDotSourceToFile(String str) throws java.io.IOException\r\n    \t{\r\n    \t\tFile temp;\r\n    \t\ttry {\r\n    \t\t\ttemp = File.createTempFile(&quot;dorrr&quot;,&quot;.dot&quot;, new File(GraphViz.TEMP_DIR));\r\n    \t\t\tFileWriter fout = new FileWriter(temp);\r\n    \t\t\tfout.write(str);\r\n                           BufferedWriter br=new BufferedWriter(new FileWriter(&quot;dotsource.dot&quot;));\r\n                           br.write(str);\r\n                           br.flush();\r\n                           br.close();\r\n    \t\t\tfout.close();\r\n    \t\t}\r\n    \t\tcatch (Exception e) {\r\n    \t\t\tSystem.err.println(&quot;Error: I/O error while writing the dot source to temp file!&quot;);\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t\treturn temp;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Returns a string that is used to start a graph.\r\n    \t * @return A string to open a graph.\r\n    \t */\r\n    \tpublic String start_graph() {\r\n    \t\treturn &quot;digraph G {&quot;;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Returns a string that is used to end a graph.\r\n    \t * @return A string to close a graph.\r\n    \t */\r\n    \tpublic String end_graph() {\r\n    \t\treturn &quot;}&quot;;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Takes the cluster or subgraph id as input parameter and returns a string\r\n    \t * that is used to start a subgraph.\r\n    \t * @return A string to open a subgraph.\r\n    \t */\r\n    \tpublic String start_subgraph(int clusterid) {\r\n    \t\treturn &quot;subgraph cluster_&quot; + clusterid + &quot; {&quot;;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Returns a string that is used to end a graph.\r\n    \t * @return A string to close a graph.\r\n    \t */\r\n        public String end_subgraph() {\r\n    \t\treturn &quot;}&quot;;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Read a DOT graph from a text file.\r\n    \t * \r\n    \t * @param input Input text file containing the DOT graph\r\n    \t * source.\r\n    \t */\r\n    \tpublic void readSource(String input)\r\n    \t{\r\n    \t\tStringBuilder sb = new StringBuilder();\r\n    \r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tFileInputStream fis = new FileInputStream(input);\r\n    \t\t\tDataInputStream dis = new DataInputStream(fis);\r\n    \t\t\tBufferedReader br = new BufferedReader(new InputStreamReader(dis));\r\n    \t\t\tString line;\r\n    \t\t\twhile ((line = br.readLine()) != null) {\r\n    \t\t\t\tsb.append(line);\r\n    \t\t\t}\r\n    \t\t\tdis.close();\r\n    \t\t} \r\n    \t\tcatch (Exception e) {\r\n    \t\t\tSystem.err.println(&quot;Error: &quot; + e.getMessage());\r\n    \t\t}\r\n    \r\n    \t\tthis.graph = sb;\r\n    \t}\r\n    \r\n    } // end of class GraphViz\r\n\r\nAn example is:\r\n\r\n    public static void createDotGraph(String dotFormat,String fileName)\r\n    {\r\n        GraphViz gv=new GraphViz();\r\n        gv.addln(gv.start_graph());\r\n        gv.add(dotFormat);\r\n        gv.addln(gv.end_graph());\r\n       // String type = &quot;gif&quot;;\r\n        String type = &quot;pdf&quot;;\r\n      // gv.increaseDpi();\r\n        gv.decreaseDpi();\r\n        gv.decreaseDpi();\r\n        File out = new File(fileName+&quot;.&quot;+ type); \r\n        gv.writeGraphToFile( gv.getGraph( gv.getDotSource(), type ), out );\r\n    }\r\n\r\nInvoking it like this: \r\n\r\n        public static void main(String[] args) throws Exception {\r\n            String dotFormat=&quot;1-&gt;2;1-&gt;3;1-&gt;4;4-&gt;5;4-&gt;6;6-&gt;7;5-&gt;7;3-&gt;8;3-&gt;6;8-&gt;7;2-&gt;8;2-&gt;5;&quot;;\r\n            createDotGraph(dotFormat, &quot;DotGraph&quot;);\r\n     }\r\n\r\nwhich will create `dotsource.dot` and `DotGraph.pdf` representing a cubic graph in the directory you specified. Remember: you just need to change the values of two parameters in the code: `cfgProp` and `TEMP_DIR`. \r\n\r\n Hope that helps.  ","title":"How to call GraphViz from java","body":"<p>Check <a href=\"http://www.loria.fr/~szathmar/off/projects/java/GraphVizAPI/index.php\" rel=\"noreferrer\">this</a> API, It is simple and has several output format (i.e. pdf gif ..etc).</p>\n\n<p><strong>EDIT May 2016:</strong> \nAs many commented that the API is not available anymore; Here its source code:</p>\n\n<p>First there is <code>config.properties</code> file that you need to create and copy paste the following:</p>\n\n<pre><code>##############################################################\n#                    Linux Configurations                    #\n##############################################################\n# The dir. where temporary files will be created.\ntempDirForLinux = /tmp\n# Where is your dot program located? It will be called externally.\ndotForLinux = /usr/bin/dot\n\n##############################################################\n#                   Windows Configurations                   #\n##############################################################\n# The dir. where temporary files will be created.\ntempDirForWindows = c:/temp\n# Where is your dot program located? It will be called externally.\ndotForWindows = \"c:/Program Files (x86)/Graphviz 2.28/bin/dot.exe\"\n\n##############################################################\n#                    Mac Configurations                      #\n##############################################################\n# The dir. where temporary files will be created.\ntempDirForMacOSX = /tmp\n# Where is your dot program located? It will be called externally.\ndotForMacOSX = /usr/local/bin/dot\n</code></pre>\n\n<p>Then Graphviz.java source code</p>\n\n<pre><code>// GraphViz.java - a simple API to call dot from Java programs\n\n/*$Id$*/\n/*\n ******************************************************************************\n *                                                                            *\n *                    (c) Copyright Laszlo Szathmary                          *\n *                                                                            *\n * This program is free software; you can redistribute it and/or modify it    *\n * under the terms of the GNU Lesser General Public License as published by   *\n * the Free Software Foundation; either version 2.1 of the License, or        *\n * (at your option) any later version.                                        *\n *                                                                            *\n * This program is distributed in the hope that it will be useful, but        *\n * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY *\n * or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU Lesser General Public    *\n * License for more details.                                                  *\n *                                                                            *\n * You should have received a copy of the GNU Lesser General Public License   *\n * along with this program; if not, write to the Free Software Foundation,    *\n * Inc., 675 Mass Ave, Cambridge, MA 02139, USA.                              *\n *                                                                            *\n ******************************************************************************\n */\n\nimport java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.DataInputStream;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.FileWriter;\nimport java.io.InputStreamReader;\nimport java.util.Properties;\n\n/**\n * &lt;dl&gt;\n * &lt;dt&gt;Purpose: GraphViz Java API\n * &lt;dd&gt;\n *\n * &lt;dt&gt;Description:\n * &lt;dd&gt; With this Java class you can simply call dot\n *      from your Java programs.\n * &lt;dt&gt;Example usage:\n * &lt;dd&gt;\n * &lt;pre&gt;\n *    GraphViz gv = new GraphViz();\n *    gv.addln(gv.start_graph());\n *    gv.addln(\"A -&gt; B;\");\n *    gv.addln(\"A -&gt; C;\");\n *    gv.addln(gv.end_graph());\n *    System.out.println(gv.getDotSource());\n *\n *    String type = \"gif\";\n *    File out = new File(\"out.\" + type);   // out.gif in this example\n *    gv.writeGraphToFile( gv.getGraph( gv.getDotSource(), type ), out );\n * &lt;/pre&gt;\n * &lt;/dd&gt;\n *\n * &lt;/dl&gt;\n *\n * @version v0.5.1, 2013/03/18 (March) -- Patch of Juan Hoyos (Mac support)\n * @version v0.5, 2012/04/24 (April) -- Patch of Abdur Rahman (OS detection + start subgraph + \n * read config file)\n * @version v0.4, 2011/02/05 (February) -- Patch of Keheliya Gallaba is added. Now you\n * can specify the type of the output file: gif, dot, fig, pdf, ps, svg, png, etc.\n * @version v0.3, 2010/11/29 (November) -- Windows support + ability to read the graph from a text file\n * @version v0.2, 2010/07/22 (July) -- bug fix\n * @version v0.1, 2003/12/04 (December) -- first release\n * @author  Laszlo Szathmary (&lt;a href=\"jabba.laci@gmail.com\"&gt;jabba.laci@gmail.com&lt;/a&gt;)\n */\npublic class GraphViz\n{\n    /**\n     * Detects the client's operating system.\n     */\n    private final static String osName = System.getProperty(\"os.name\").replaceAll(\"\\\\s\",\"\");\n\n    /**\n     * Load the config.properties file.\n     */\n    private final static String cfgProp = \"/Users/seteropere/NetBeansProjects/TestApplication/src/config.properties\";\n    private final static Properties configFile = new Properties() {\n        private final static long serialVersionUID = 1L; {\n            try {\n                load(new FileInputStream(cfgProp));\n            } catch (Exception e) {}\n        }\n    };\n\n    /**\n     * The dir. where temporary files will be created.\n     */\n  private static String TEMP_DIR = \"/Users/seteropere/NetBeansProjects/TestApplication\";\n\n    /**\n     * Where is your dot program located? It will be called externally.\n     */\n  private static String DOT = configFile.getProperty(\"dotFor\" + osName);\n\n    /**\n     * The image size in dpi. 96 dpi is normal size. Higher values are 10% higher each.\n     * Lower values 10% lower each.\n     * \n     * dpi patch by Peter Mueller\n     */\n    private int[] dpiSizes = {46, 51, 57, 63, 70, 78, 86, 96, 106, 116, 128, 141, 155, 170, 187, 206, 226, 249};\n\n    /**\n     * Define the index in the image size array.\n     */\n    private int currentDpiPos = 7;\n\n    /**\n     * Increase the image size (dpi).\n     */\n    public void increaseDpi() {\n        if ( this.currentDpiPos &lt; (this.dpiSizes.length - 1) ) {\n            ++this.currentDpiPos;\n        }\n    }\n\n    /**\n     * Decrease the image size (dpi).\n     */\n    public void decreaseDpi() {\n        if (this.currentDpiPos &gt; 0) {\n            --this.currentDpiPos;\n        }\n    }\n\n    public int getImageDpi() {\n        return this.dpiSizes[this.currentDpiPos];\n    }\n\n    /**\n     * The source of the graph written in dot language.\n     */\n    private StringBuilder graph = new StringBuilder();\n\n    /**\n     * Constructor: creates a new GraphViz object that will contain\n     * a graph.\n     */\n    public GraphViz() {\n    }\n\n    /**\n     * Returns the graph's source description in dot language.\n     * @return Source of the graph in dot language.\n     */\n    public String getDotSource() {\n        return this.graph.toString();\n    }\n\n    /**\n     * Adds a string to the graph's source (without newline).\n     */\n    public void add(String line) {\n        this.graph.append(line);\n    }\n\n    /**\n     * Adds a string to the graph's source (with newline).\n     */\n    public void addln(String line) {\n        this.graph.append(line + \"\\n\");\n    }\n\n    /**\n     * Adds a newline to the graph's source.\n     */\n    public void addln() {\n        this.graph.append('\\n');\n    }\n\n    public void clearGraph(){\n        this.graph = new StringBuilder();\n    }\n\n    /**\n     * Returns the graph as an image in binary format.\n     * @param dot_source Source of the graph to be drawn.\n     * @param type Type of the output image to be produced, e.g.: gif, dot, fig, pdf, ps, svg, png.\n     * @return A byte array containing the image of the graph.\n     */\n    public byte[] getGraph(String dot_source, String type)\n    {\n        File dot;\n        byte[] img_stream = null;\n\n        try {\n            dot = writeDotSourceToFile(dot_source);\n            if (dot != null)\n            {\n                img_stream = get_img_stream(dot, type);\n                if (dot.delete() == false) \n                    System.err.println(\"Warning: \" + dot.getAbsolutePath() + \" could not be deleted!\");\n                return img_stream;\n            }\n            return null;\n        } catch (java.io.IOException ioe) { return null; }\n    }\n\n    /**\n     * Writes the graph's image in a file.\n     * @param img   A byte array containing the image of the graph.\n     * @param file  Name of the file to where we want to write.\n     * @return Success: 1, Failure: -1\n     */\n    public int writeGraphToFile(byte[] img, String file)\n    {\n        File to = new File(file);\n        return writeGraphToFile(img, to);\n    }\n\n    /**\n     * Writes the graph's image in a file.\n     * @param img   A byte array containing the image of the graph.\n     * @param to    A File object to where we want to write.\n     * @return Success: 1, Failure: -1\n     */\n    public int writeGraphToFile(byte[] img, File to)\n    {\n        try {\n            FileOutputStream fos = new FileOutputStream(to);\n            fos.write(img);\n            fos.close();\n        } catch (java.io.IOException ioe) { return -1; }\n        return 1;\n    }\n\n    /**\n     * It will call the external dot program, and return the image in\n     * binary format.\n     * @param dot Source of the graph (in dot language).\n     * @param type Type of the output image to be produced, e.g.: gif, dot, fig, pdf, ps, svg, png.\n     * @return The image of the graph in .gif format.\n     */\n    private byte[] get_img_stream(File dot, String type)\n    {\n        File img;\n        byte[] img_stream = null;\n\n        try {\n            img = File.createTempFile(\"graph_\", \".\"+type, new File(GraphViz.TEMP_DIR));\n            Runtime rt = Runtime.getRuntime();\n\n            // patch by Mike Chenault\n            String[] args = {DOT, \"-T\"+type, \"-Gdpi=\"+dpiSizes[this.currentDpiPos], dot.getAbsolutePath(), \"-o\", img.getAbsolutePath()};\n            Process p = rt.exec(args);\n\n            p.waitFor();\n\n            FileInputStream in = new FileInputStream(img.getAbsolutePath());\n            img_stream = new byte[in.available()];\n            in.read(img_stream);\n            // Close it if we need to\n            if( in != null ) in.close();\n\n            if (img.delete() == false) \n                System.err.println(\"Warning: \" + img.getAbsolutePath() + \" could not be deleted!\");\n        }\n        catch (java.io.IOException ioe) {\n            System.err.println(\"Error:    in I/O processing of tempfile in dir \" + GraphViz.TEMP_DIR+\"\\n\");\n            System.err.println(\"       or in calling external command\");\n            ioe.printStackTrace();\n        }\n        catch (java.lang.InterruptedException ie) {\n            System.err.println(\"Error: the execution of the external program was interrupted\");\n            ie.printStackTrace();\n        }\n\n        return img_stream;\n    }\n\n    /**\n     * Writes the source of the graph in a file, and returns the written file\n     * as a File object.\n     * @param str Source of the graph (in dot language).\n     * @return The file (as a File object) that contains the source of the graph.\n     */\n    private File writeDotSourceToFile(String str) throws java.io.IOException\n    {\n        File temp;\n        try {\n            temp = File.createTempFile(\"dorrr\",\".dot\", new File(GraphViz.TEMP_DIR));\n            FileWriter fout = new FileWriter(temp);\n            fout.write(str);\n                       BufferedWriter br=new BufferedWriter(new FileWriter(\"dotsource.dot\"));\n                       br.write(str);\n                       br.flush();\n                       br.close();\n            fout.close();\n        }\n        catch (Exception e) {\n            System.err.println(\"Error: I/O error while writing the dot source to temp file!\");\n            return null;\n        }\n        return temp;\n    }\n\n    /**\n     * Returns a string that is used to start a graph.\n     * @return A string to open a graph.\n     */\n    public String start_graph() {\n        return \"digraph G {\";\n    }\n\n    /**\n     * Returns a string that is used to end a graph.\n     * @return A string to close a graph.\n     */\n    public String end_graph() {\n        return \"}\";\n    }\n\n    /**\n     * Takes the cluster or subgraph id as input parameter and returns a string\n     * that is used to start a subgraph.\n     * @return A string to open a subgraph.\n     */\n    public String start_subgraph(int clusterid) {\n        return \"subgraph cluster_\" + clusterid + \" {\";\n    }\n\n    /**\n     * Returns a string that is used to end a graph.\n     * @return A string to close a graph.\n     */\n    public String end_subgraph() {\n        return \"}\";\n    }\n\n    /**\n     * Read a DOT graph from a text file.\n     * \n     * @param input Input text file containing the DOT graph\n     * source.\n     */\n    public void readSource(String input)\n    {\n        StringBuilder sb = new StringBuilder();\n\n        try\n        {\n            FileInputStream fis = new FileInputStream(input);\n            DataInputStream dis = new DataInputStream(fis);\n            BufferedReader br = new BufferedReader(new InputStreamReader(dis));\n            String line;\n            while ((line = br.readLine()) != null) {\n                sb.append(line);\n            }\n            dis.close();\n        } \n        catch (Exception e) {\n            System.err.println(\"Error: \" + e.getMessage());\n        }\n\n        this.graph = sb;\n    }\n\n} // end of class GraphViz\n</code></pre>\n\n<p>An example is:</p>\n\n<pre><code>public static void createDotGraph(String dotFormat,String fileName)\n{\n    GraphViz gv=new GraphViz();\n    gv.addln(gv.start_graph());\n    gv.add(dotFormat);\n    gv.addln(gv.end_graph());\n   // String type = \"gif\";\n    String type = \"pdf\";\n  // gv.increaseDpi();\n    gv.decreaseDpi();\n    gv.decreaseDpi();\n    File out = new File(fileName+\".\"+ type); \n    gv.writeGraphToFile( gv.getGraph( gv.getDotSource(), type ), out );\n}\n</code></pre>\n\n<p>Invoking it like this: </p>\n\n<pre><code>    public static void main(String[] args) throws Exception {\n        String dotFormat=\"1-&gt;2;1-&gt;3;1-&gt;4;4-&gt;5;4-&gt;6;6-&gt;7;5-&gt;7;3-&gt;8;3-&gt;6;8-&gt;7;2-&gt;8;2-&gt;5;\";\n        createDotGraph(dotFormat, \"DotGraph\");\n }\n</code></pre>\n\n<p>which will create <code>dotsource.dot</code> and <code>DotGraph.pdf</code> representing a cubic graph in the directory you specified. Remember: you just need to change the values of two parameters in the code: <code>cfgProp</code> and <code>TEMP_DIR</code>. </p>\n\n<p>Hope that helps.  </p>\n"},{"tags":[],"owner":{"account_id":2218872,"reputation":1186,"user_id":1958841,"display_name":"omerio"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1556283292,"creation_date":1413931342,"answer_id":26497613,"question_id":26481910,"body_markdown":"I&#39;ve answered similar question here:\r\nhttps://stackoverflow.com/questions/3050056/calling-graphviz-dot-from-java/19829116#19829116\r\n\r\nYou can use the [Graphviz Java API][1] class which is a wrapper for Runtime.exec(), this is if you have the dot binaries on the same server as your Java App.\r\n\r\nIf you don&#39;t have dot installed on the server or if you are using an environment like Google AppEngine where you can&#39;t install dot binaries locally then you can use [Graphviz Server][2], a lightweight Java based HTTP server, you still need to install the dot binaries on the server on which you run Graphviz Server.\r\n\r\nThe following is a code example using the [Graphviz Java API][1] class\r\n\r\n    // graphTypeis one of: pdf, svg, png, etc...\r\n        \r\n    private static final String TEMP_PATH = &quot;/tmp/graph.&quot;;\r\n    \r\n    private File generateGraph(String dot, String graphType) {\r\n        \t\r\n   \t\tGraphViz gv = new GraphViz();\r\n   \t\tgv.readString(dot);\r\n        \t\t\r\n   \t\tFile out = new File(TEMP_PATH + graphType);   // Linux\r\n        \r\n   \t\tgv.writeGraphToFile( gv.getGraph( gv.getDotSource(), graphType ), out );\r\n        \t\t\r\n   \t\treturn out;\r\n   \t}\r\n\r\n  [1]: https://github.com/jabbalaci/graphviz-java-api\r\n  [2]: https://github.com/omerio/graphviz-server","title":"How to call GraphViz from java","body":"<p>I've answered similar question here:\n<a href=\"https://stackoverflow.com/questions/3050056/calling-graphviz-dot-from-java/19829116#19829116\">Calling Graphviz dot from Java</a></p>\n\n<p>You can use the <a href=\"https://github.com/jabbalaci/graphviz-java-api\" rel=\"nofollow noreferrer\">Graphviz Java API</a> class which is a wrapper for Runtime.exec(), this is if you have the dot binaries on the same server as your Java App.</p>\n\n<p>If you don't have dot installed on the server or if you are using an environment like Google AppEngine where you can't install dot binaries locally then you can use <a href=\"https://github.com/omerio/graphviz-server\" rel=\"nofollow noreferrer\">Graphviz Server</a>, a lightweight Java based HTTP server, you still need to install the dot binaries on the server on which you run Graphviz Server.</p>\n\n<p>The following is a code example using the <a href=\"https://github.com/jabbalaci/graphviz-java-api\" rel=\"nofollow noreferrer\">Graphviz Java API</a> class</p>\n\n<pre><code>// graphTypeis one of: pdf, svg, png, etc...\n\nprivate static final String TEMP_PATH = \"/tmp/graph.\";\n\nprivate File generateGraph(String dot, String graphType) {\n\n    GraphViz gv = new GraphViz();\n    gv.readString(dot);\n\n    File out = new File(TEMP_PATH + graphType);   // Linux\n\n    gv.writeGraphToFile( gv.getGraph( gv.getDotSource(), graphType ), out );\n\n    return out;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5950528,"reputation":2878,"user_id":4678661,"display_name":"Fabich"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1586975378,"creation_date":1586975378,"answer_id":61236008,"question_id":26481910,"body_markdown":"There seems to be a solution for graphviz in java without dot binary: https://github.com/nidi3/graphviz-java\r\n\r\nFrom the github page it says:\r\n\r\n&gt;To execute the graphviz layout engine, one of these options is used:\r\n&gt;\r\n  - If the machine has graphviz installed and a dot command is available, spawn a new process running dot.\r\n  - Use this javascript version of graphviz and execute it on the V8 javascript engine. This is done with the bundled J2V8 library.\r\n  - Alternatively, the javascript can be executed on Java&#39;s own Nashorn or GraalVM engine.\r\n\r\nI have not tested it yet though\r\n","title":"How to call GraphViz from java","body":"<p>There seems to be a solution for graphviz in java without dot binary: <a href=\"https://github.com/nidi3/graphviz-java\" rel=\"nofollow noreferrer\">https://github.com/nidi3/graphviz-java</a></p>\n\n<p>From the github page it says:</p>\n\n<blockquote>\n  <p>To execute the graphviz layout engine, one of these options is used:</p>\n  \n  <ul>\n  <li>If the machine has graphviz installed and a dot command is available, spawn a new process running dot.</li>\n  <li>Use this javascript version of graphviz and execute it on the V8 javascript engine. This is done with the bundled J2V8 library.</li>\n  <li>Alternatively, the javascript can be executed on Java's own Nashorn or GraalVM engine.</li>\n  </ul>\n</blockquote>\n\n<p>I have not tested it yet though</p>\n"},{"tags":[],"owner":{"account_id":2337701,"reputation":840,"user_id":2049647,"display_name":"ATutorMe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695626624,"creation_date":1695626624,"answer_id":77170585,"question_id":26481910,"body_markdown":"Here is an alternate way to call the GraphViz native C functions without spawning any new processes. This method uses the very versatile and useful [JNR-FFI](https://github.com/jnr/jnr-ffi) library. Thanks @headius and co.!\r\n\r\nStep 1: Install `graphviz` on your system.\r\n\r\nStep 2: In your Java project add the required dependency to JNR-FFI. For example in a `gradle` project: `implementation &#39;com.github.jnr:jnr-ffi:2.2.14&#39;`\r\n\r\nStep 3: The code (following [this simple GraphViz C example](https://gitlab.com/graphviz/graphviz/-/blob/main/dot.demo/simple.c)):\r\n\r\n```java\r\nimport jnr.ffi.LibraryLoader;\r\nimport jnr.ffi.Pointer;\r\n\r\npublic class GraphVizJNR {\r\n\r\n  public interface LibGvc {\r\n    Pointer gvContext();\r\n    Pointer agmemread(String dotText);\r\n    int gvLayout(Pointer gvc, Pointer g, String engine);\r\n    int gvRender(Pointer gvc, Pointer g, String format, Pointer out);\r\n    int gvFreeLayout(Pointer gvc, Pointer g);\r\n    int agclose(Pointer g);\r\n    int gvFreeContext(Pointer gvc);\r\n  }\r\n\r\n  public interface LibC {\r\n    Pointer fopen(String s, String mode);\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    LibGvc libGvc = LibraryLoader.create(LibGvc.class).load(&quot;gvc&quot;);\r\n    LibC libc = LibraryLoader.create(LibC.class).load(&quot;c&quot;);\r\n\r\n    Pointer gvc = libGvc.gvContext();\r\n    Pointer g = libGvc.agmemread(&quot;digraph { a -&gt; b; b -&gt; c }&quot;);\r\n    int status = libGvc.gvLayout(gvc, g, &quot;dot&quot;);\r\n    Pointer file = libc.fopen(&quot;/tmp/g.svg&quot;, &quot;w&quot;);\r\n    status = libGvc.gvRender(gvc, g, &quot;svg&quot;, file);\r\n    status = libGvc.gvFreeLayout(gvc, g);\r\n    status = libGvc.agclose(g);\r\n    status = libGvc.gvFreeContext(gvc);\r\n  }\r\n}\r\n```\r\n\r\nThe nice thing about JNR-FFI (similar to [JNA](https://github.com/java-native-access/jna)), is that you only need to declare in the Java interface what you need from the native library.","title":"How to call GraphViz from java","body":"<p>Here is an alternate way to call the GraphViz native C functions without spawning any new processes. This method uses the very versatile and useful <a href=\"https://github.com/jnr/jnr-ffi\" rel=\"nofollow noreferrer\">JNR-FFI</a> library. Thanks @headius and co.!</p>\n<p>Step 1: Install <code>graphviz</code> on your system.</p>\n<p>Step 2: In your Java project add the required dependency to JNR-FFI. For example in a <code>gradle</code> project: <code>implementation 'com.github.jnr:jnr-ffi:2.2.14'</code></p>\n<p>Step 3: The code (following <a href=\"https://gitlab.com/graphviz/graphviz/-/blob/main/dot.demo/simple.c\" rel=\"nofollow noreferrer\">this simple GraphViz C example</a>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>import jnr.ffi.LibraryLoader;\nimport jnr.ffi.Pointer;\n\npublic class GraphVizJNR {\n\n  public interface LibGvc {\n    Pointer gvContext();\n    Pointer agmemread(String dotText);\n    int gvLayout(Pointer gvc, Pointer g, String engine);\n    int gvRender(Pointer gvc, Pointer g, String format, Pointer out);\n    int gvFreeLayout(Pointer gvc, Pointer g);\n    int agclose(Pointer g);\n    int gvFreeContext(Pointer gvc);\n  }\n\n  public interface LibC {\n    Pointer fopen(String s, String mode);\n  }\n\n  public static void main(String[] args) {\n    LibGvc libGvc = LibraryLoader.create(LibGvc.class).load(&quot;gvc&quot;);\n    LibC libc = LibraryLoader.create(LibC.class).load(&quot;c&quot;);\n\n    Pointer gvc = libGvc.gvContext();\n    Pointer g = libGvc.agmemread(&quot;digraph { a -&gt; b; b -&gt; c }&quot;);\n    int status = libGvc.gvLayout(gvc, g, &quot;dot&quot;);\n    Pointer file = libc.fopen(&quot;/tmp/g.svg&quot;, &quot;w&quot;);\n    status = libGvc.gvRender(gvc, g, &quot;svg&quot;, file);\n    status = libGvc.gvFreeLayout(gvc, g);\n    status = libGvc.agclose(g);\n    status = libGvc.gvFreeContext(gvc);\n  }\n}\n</code></pre>\n<p>The nice thing about JNR-FFI (similar to <a href=\"https://github.com/java-native-access/jna\" rel=\"nofollow noreferrer\">JNA</a>), is that you only need to declare in the Java interface what you need from the native library.</p>\n"}],"owner":{"account_id":4328390,"reputation":131,"user_id":3534517,"accept_rate":75,"display_name":"user3534517"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32189,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":26482170,"answer_count":4,"score":9,"last_activity_date":1695626624,"creation_date":1413879375,"question_id":26481910,"body_markdown":" \r\nHow to call GraphViz from java and how to call GraphViz functions using java? What are the necessary jar files that are to be included inorder to access the GraphViz library for building a dot graph? Is there any sample program for generating a dot graph","title":"How to call GraphViz from java","body":"<p>How to call GraphViz from java and how to call GraphViz functions using java? What are the necessary jar files that are to be included inorder to access the GraphViz library for building a dot graph? Is there any sample program for generating a dot graph</p>\n"},{"tags":["java","null","vaadin","textfield","android-binder"],"comments":[{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1695371846,"post_id":77155875,"comment_id":136018290,"body_markdown":"Letting the binder do it, is the more common way.","body":"Letting the binder do it, is the more common way."},{"owner":{"account_id":78420,"reputation":1,"user_id":223200,"display_name":"Curi"},"score":0,"creation_date":1695385627,"post_id":77155875,"comment_id":136021065,"body_markdown":"I&#39;m letting the binder do it but as default behaviour. I want to avoid putting this &quot;withNullRepresentation&quot; on every text field in my application.","body":"I&#39;m letting the binder do it but as default behaviour. I want to avoid putting this &quot;withNullRepresentation&quot; on every text field in my application."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695611552,"post_id":77155875,"comment_id":136042749,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":78420,"reputation":1,"user_id":223200,"display_name":"Curi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695626549,"creation_date":1695370344,"question_id":77155875,"body_markdown":"Default behavior of Vaadin v24 is to map empty TextField to an empty String as model value. How to map it to null value for all TextFields without adding withNullRepresentation to every textField binding?\r\n\r\nI&#39;ve made my own CustomBinder and I&#39;m wondering is this the right way to go. This is the code:\r\n```\r\npublic class CustomBinder&lt;BEAN&gt; extends Binder&lt;BEAN&gt; {\r\n    private static final long serialVersionUID = 3555096816850091643L;\r\n\r\n    public CustomBinder() {\r\n        super();\r\n    }\r\n\r\n    public CustomBinder(Class&lt;BEAN&gt; p_beanType, boolean p_scanNestedDefinitions) {\r\n        super(p_beanType, p_scanNestedDefinitions);\r\n    }\r\n\r\n    public CustomBinder(PropertySet&lt;BEAN&gt; p_propertySet) {\r\n        super(p_propertySet);\r\n    }\r\n\r\n    public CustomBinder(Class&lt;BEAN&gt; p_class) {\r\n        super(p_class);\r\n    }\r\n\r\n    @Override\r\n    public &lt;FIELDVALUE&gt; BindingBuilder&lt;BEAN, FIELDVALUE&gt; forField(HasValue&lt;?, FIELDVALUE&gt; p_field) {\r\n        BindingBuilder&lt;BEAN, FIELDVALUE&gt; forFieldBinding = super.forField(p_field);\r\n        if (p_field instanceof TextField || p_field instanceof TextArea) {\r\n            forFieldBinding = forFieldBinding.withNullRepresentation((FIELDVALUE) &quot;&quot;);\r\n        }\r\n        return forFieldBinding;\r\n    }\r\n}\r\n```","title":"How to map empty Vaadin TextField to null value in model property","body":"<p>Default behavior of Vaadin v24 is to map empty TextField to an empty String as model value. How to map it to null value for all TextFields without adding withNullRepresentation to every textField binding?</p>\n<p>I've made my own CustomBinder and I'm wondering is this the right way to go. This is the code:</p>\n<pre><code>public class CustomBinder&lt;BEAN&gt; extends Binder&lt;BEAN&gt; {\n    private static final long serialVersionUID = 3555096816850091643L;\n\n    public CustomBinder() {\n        super();\n    }\n\n    public CustomBinder(Class&lt;BEAN&gt; p_beanType, boolean p_scanNestedDefinitions) {\n        super(p_beanType, p_scanNestedDefinitions);\n    }\n\n    public CustomBinder(PropertySet&lt;BEAN&gt; p_propertySet) {\n        super(p_propertySet);\n    }\n\n    public CustomBinder(Class&lt;BEAN&gt; p_class) {\n        super(p_class);\n    }\n\n    @Override\n    public &lt;FIELDVALUE&gt; BindingBuilder&lt;BEAN, FIELDVALUE&gt; forField(HasValue&lt;?, FIELDVALUE&gt; p_field) {\n        BindingBuilder&lt;BEAN, FIELDVALUE&gt; forFieldBinding = super.forField(p_field);\n        if (p_field instanceof TextField || p_field instanceof TextArea) {\n            forFieldBinding = forFieldBinding.withNullRepresentation((FIELDVALUE) &quot;&quot;);\n        }\n        return forFieldBinding;\n    }\n}\n</code></pre>\n"},{"tags":["java","logging"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438169,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1223738691,"creation_date":1223738691,"answer_id":194198,"question_id":194165,"body_markdown":"Have a look at the docs and source for [ConsoleHandler][1] - I&#39;m sure you could easily write a version which just uses System.err instead of System.out. (It&#39;s a shame that ConsoleHandler doesn&#39;t allow this to be configured, to be honest.)\r\n\r\nThen it&#39;s just a case of configuring the logging system to use your new StdoutHandler (or whatever you call it) in the normal way.\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/logging/ConsoleHandler.html","title":"How do I change java logging console output from std err to std out?","body":"<p>Have a look at the docs and source for <a href=\"http://java.sun.com/javase/6/docs/api/java/util/logging/ConsoleHandler.html\" rel=\"nofollow noreferrer\">ConsoleHandler</a> - I'm sure you could easily write a version which just uses System.err instead of System.out. (It's a shame that ConsoleHandler doesn't allow this to be configured, to be honest.)</p>\n\n<p>Then it's just a case of configuring the logging system to use your new StdoutHandler (or whatever you call it) in the normal way.</p>\n"},{"tags":[],"owner":{"account_id":11857,"reputation":88771,"user_id":23072,"accept_rate":74,"display_name":"Uri"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650627251,"creation_date":1223738952,"answer_id":194202,"question_id":194165,"body_markdown":"If you use Java logging, you can change the default handler:\r\n\r\nFor example, for files:\r\n\r\n    Handler fh = new FileHandler(FILENAME);\r\n    Logger.getLogger(LOGGER_NAME).addHandler(fh);\r\n\r\nIf you want to output to a stream you can use StreamHandler, I think you can configure it with any output stream that you woud like, including the system stream. \r\n","title":"How do I change java logging console output from std err to std out?","body":"<p>If you use Java logging, you can change the default handler:</p>\n<p>For example, for files:</p>\n<pre><code>Handler fh = new FileHandler(FILENAME);\nLogger.getLogger(LOGGER_NAME).addHandler(fh);\n</code></pre>\n<p>If you want to output to a stream you can use StreamHandler, I think you can configure it with any output stream that you woud like, including the system stream.</p>\n"},{"tags":[],"owner":{"account_id":561638,"reputation":15601,"user_id":23120,"accept_rate":0,"display_name":"Obediah Stane"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1650627283,"creation_date":1223768952,"answer_id":194851,"question_id":194165,"body_markdown":"I figured out one way. First remove the default console handler:\r\n\r\n    setUseParentHandlers(false);\r\n\r\nThen subclass ConsoleHandler and in the constructor:\r\n\r\n    setOutputStream(System.out);\r\n\r\n","title":"How do I change java logging console output from std err to std out?","body":"<p>I figured out one way. First remove the default console handler:</p>\n<pre><code>setUseParentHandlers(false);\n</code></pre>\n<p>Then subclass ConsoleHandler and in the constructor:</p>\n<pre><code>setOutputStream(System.out);\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"Val "},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1229641188,"creation_date":1229641188,"answer_id":379626,"question_id":194165,"body_markdown":"If you set setUseParentHandlers(false); only THAT class has it set.  Other classes in the app will still pass it thru to stderr.\r\n","title":"How do I change java logging console output from std err to std out?","body":"<p>If you set setUseParentHandlers(false); only THAT class has it set.  Other classes in the app will still pass it thru to stderr.</p>\n"},{"tags":[],"owner":{"account_id":566818,"reputation":1,"user_id":194182,"display_name":"Hema"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1256164886,"creation_date":1256164886,"answer_id":1604066,"question_id":194165,"body_markdown":"Simply extend StreamHandler &amp; in the constructor call Super(System.out,&lt;formatter&gt;). This will avoid closing System.err - Thanks ","title":"How do I change java logging console output from std err to std out?","body":"<p>Simply extend StreamHandler &amp; in the constructor call Super(System.out,). This will avoid closing System.err - Thanks </p>\n"},{"tags":[],"owner":{"account_id":619692,"reputation":101,"user_id":350068,"display_name":"Jeremiah Jahn"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1695625580,"creation_date":1274802374,"answer_id":2906222,"question_id":194165,"body_markdown":"    Handler consoleHandler = new Handler() {\r\n        @Override\r\n        public void publish(LogRecord record) {\r\n            if (getFormatter() == null) {\r\n                setFormatter(new SimpleFormatter());\r\n            }\r\n\r\n            try {\r\n                String message = getFormatter().format(record);\r\n                if (record.getLevel().intValue() &gt;= Level.WARNING.intValue()) {\r\n                    System.err.write(message.getBytes());\r\n                } else {\r\n                    System.out.write(message.getBytes());\r\n                }\r\n            } catch (Exception exception) {\r\n                reportError(null, exception, ErrorManager.FORMAT_FAILURE);\r\n            }\r\n\r\n        }\r\n\r\n        @Override\r\n        public void close() throws SecurityException {\r\n        }\r\n\r\n        @Override\r\n        public void flush() {\r\n        }\r\n    };\r\n","title":"How do I change java logging console output from std err to std out?","body":"<pre><code>Handler consoleHandler = new Handler() {\n    @Override\n    public void publish(LogRecord record) {\n        if (getFormatter() == null) {\n            setFormatter(new SimpleFormatter());\n        }\n\n        try {\n            String message = getFormatter().format(record);\n            if (record.getLevel().intValue() &gt;= Level.WARNING.intValue()) {\n                System.err.write(message.getBytes());\n            } else {\n                System.out.write(message.getBytes());\n            }\n        } catch (Exception exception) {\n            reportError(null, exception, ErrorManager.FORMAT_FAILURE);\n        }\n\n    }\n\n    @Override\n    public void close() throws SecurityException {\n    }\n\n    @Override\n    public void flush() {\n    }\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":697849,"reputation":181,"user_id":581895,"display_name":"Frank Vlach"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1695625517,"creation_date":1295460550,"answer_id":4738963,"question_id":194165,"body_markdown":"I&#39;ve arrived at\r\n\r\n    SimpleFormatter fmt = new SimpleFormatter();\r\n    StreamHandler sh = new StreamHandler(System.out, fmt);\r\n    logger.addHandler(sh);","title":"How do I change java logging console output from std err to std out?","body":"<p>I've arrived at</p>\n<pre><code>SimpleFormatter fmt = new SimpleFormatter();\nStreamHandler sh = new StreamHandler(System.out, fmt);\nlogger.addHandler(sh);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7896,"reputation":6671,"user_id":13905,"display_name":"volley"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1300480688,"creation_date":1300480688,"answer_id":5357588,"question_id":194165,"body_markdown":"Hmm I just got bit in the foot a few times, trying to accomplish this feat. Before googling my way here I managed to conjure the following hack. Ugly, but it seems to get the job done.\r\n\r\n    public class StdoutConsoleHandler extends ConsoleHandler {\r\n      protected void setOutputStream(OutputStream out) throws SecurityException {\r\n        super.setOutputStream(System.out); // kitten killed here :-(\r\n      }\r\n    }\r\n\r\nWatch out: Calling setOutputStream() from the constructor is tempting, but it does (as Jon Skeet already pointed out) close System.err. Mad skills!","title":"How do I change java logging console output from std err to std out?","body":"<p>Hmm I just got bit in the foot a few times, trying to accomplish this feat. Before googling my way here I managed to conjure the following hack. Ugly, but it seems to get the job done.</p>\n\n<pre><code>public class StdoutConsoleHandler extends ConsoleHandler {\n  protected void setOutputStream(OutputStream out) throws SecurityException {\n    super.setOutputStream(System.out); // kitten killed here :-(\n  }\n}\n</code></pre>\n\n<p>Watch out: Calling setOutputStream() from the constructor is tempting, but it does (as Jon Skeet already pointed out) close System.err. Mad skills!</p>\n"},{"tags":[],"owner":{"account_id":1416250,"reputation":77,"user_id":1341872,"display_name":"Kai"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1334849575,"creation_date":1334764381,"answer_id":10213202,"question_id":194165,"body_markdown":"If there is still someone out there looking for a solution to this problem.\r\nHere&#39;s what I came up with finally: I just subclassed StreamHandler and added an additional parameter\r\nMaxLevel, which is checked at the beginning of publish(). If the level of the logging event is larger than MaxLevel, publish won&#39;t be executed any further.\r\nHere are the details:\r\n\r\n**MaxlevelStreamHandler.java**\r\nMain Class below.\r\n\r\n\tpackage helper;\r\n\t\r\n\t/**\r\n\t * The only difference to the standard StreamHandler is \r\n\t * that a MAXLEVEL can be defined (which then is not published)\r\n\t * \r\n\t * @author Kai Goergen\r\n\t */\r\n\t\r\n\timport java.io.PrintStream;\r\n\timport java.util.logging.Formatter;\r\n\timport java.util.logging.Level;\r\n\timport java.util.logging.LogRecord;\r\n\timport java.util.logging.StreamHandler;\r\n\t\r\n\tpublic class MaxlevelStreamHandler extends StreamHandler {\r\n\t\r\n\t\tprivate Level maxlevel = Level.SEVERE;  // by default, put out everything\r\n\t\r\n\t\t/**\r\n\t\t * The only method we really change to check whether the message\r\n\t\t * is smaller than maxlevel.\r\n\t\t * We also flush here to make sure that the message is shown immediately.\r\n\t\t */\r\n\t\t@Override\r\n\t\tpublic synchronized void publish(LogRecord record) {\r\n\t\t\tif (record.getLevel().intValue() &gt; this.maxlevel.intValue()) {\r\n\t\t\t\t// do nothing if the level is above maxlevel\r\n\t\t\t} else {\r\n\t\t\t\t// if we arrived here, do what we always do\r\n\t\t\t\tsuper.publish(record);\r\n\t\t\t\tsuper.flush();\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t * getter for maxlevel\r\n\t\t * @return\r\n\t\t */\r\n\t\tpublic Level getMaxlevel() {\r\n\t\t\treturn maxlevel;\r\n\t\t}\r\n\t\r\n\t\t/**\r\n\t\t * Setter for maxlevel. \r\n\t\t * If a logging event is larger than this level, it won&#39;t be displayed\r\n\t\t * @param maxlevel\r\n\t\t */\r\n\t\tpublic void setMaxlevel(Level maxlevel) {\r\n\t\t\tthis.maxlevel = maxlevel;\r\n\t\t}\r\n\t\t\r\n\t\t/** Constructor forwarding */\r\n\t\tpublic MaxlevelStreamHandler(PrintStream out, Formatter formatter) {\r\n\t\t\tsuper(out, formatter);\r\n\t\t}\r\n\t\r\n\t\t/** Constructor forwarding */\r\n\t\tpublic MaxlevelStreamHandler() {\r\n\t\t\tsuper();\r\n\t\t}\r\n\t}\r\n\r\n\r\n**Main Class**\r\n\r\nTo now show some events in stdout and some in stderr, simply setup two StreamLoggers, one for critical events and one for all others, and disable the standard console logger:\r\n\r\n\t// setup all logs that are smaller than WARNINGS to stdout\r\n\tMaxlevelStreamHandler outSh = new MaxlevelStreamHandler(System.out, formatter);\r\n\toutSh.setLevel(Level.ALL);\r\n\toutSh.setMaxlevel(Level.INFO);\r\n\tlogger.addHandler(outSh);\r\n\t\r\n\t// setup all warnings to stdout &amp; warnings and higher to stderr\r\n\tStreamHandler errSh = new StreamHandler(System.err, formatter);\r\n\terrSh.setLevel(Level.WARNING);\r\n\tlogger.addHandler(errSh);\r\n\t\r\n\t// remove default console logger\r\n\tlogger.setUseParentHandlers(false);\r\n\t\r\n\tlogger.info(&quot;info&quot;);\r\n\tlogger.warning(&quot;warning&quot;);\r\n\tlogger.severe(&quot;severe&quot;);\r\n\r\nHope this helps!\r\n\r\nUpdate: I added super.flush() right after super.publish() to make sure that the message is shown immediately. Before, I had problems that the log-messages were always shown at the end. It&#39;s now part of the code above.","title":"How do I change java logging console output from std err to std out?","body":"<p>If there is still someone out there looking for a solution to this problem.\nHere's what I came up with finally: I just subclassed StreamHandler and added an additional parameter\nMaxLevel, which is checked at the beginning of publish(). If the level of the logging event is larger than MaxLevel, publish won't be executed any further.\nHere are the details:</p>\n\n<p><strong>MaxlevelStreamHandler.java</strong>\nMain Class below.</p>\n\n<pre><code>package helper;\n\n/**\n * The only difference to the standard StreamHandler is \n * that a MAXLEVEL can be defined (which then is not published)\n * \n * @author Kai Goergen\n */\n\nimport java.io.PrintStream;\nimport java.util.logging.Formatter;\nimport java.util.logging.Level;\nimport java.util.logging.LogRecord;\nimport java.util.logging.StreamHandler;\n\npublic class MaxlevelStreamHandler extends StreamHandler {\n\n    private Level maxlevel = Level.SEVERE;  // by default, put out everything\n\n    /**\n     * The only method we really change to check whether the message\n     * is smaller than maxlevel.\n     * We also flush here to make sure that the message is shown immediately.\n     */\n    @Override\n    public synchronized void publish(LogRecord record) {\n        if (record.getLevel().intValue() &gt; this.maxlevel.intValue()) {\n            // do nothing if the level is above maxlevel\n        } else {\n            // if we arrived here, do what we always do\n            super.publish(record);\n            super.flush();\n        }\n    }\n\n    /**\n     * getter for maxlevel\n     * @return\n     */\n    public Level getMaxlevel() {\n        return maxlevel;\n    }\n\n    /**\n     * Setter for maxlevel. \n     * If a logging event is larger than this level, it won't be displayed\n     * @param maxlevel\n     */\n    public void setMaxlevel(Level maxlevel) {\n        this.maxlevel = maxlevel;\n    }\n\n    /** Constructor forwarding */\n    public MaxlevelStreamHandler(PrintStream out, Formatter formatter) {\n        super(out, formatter);\n    }\n\n    /** Constructor forwarding */\n    public MaxlevelStreamHandler() {\n        super();\n    }\n}\n</code></pre>\n\n<p><strong>Main Class</strong></p>\n\n<p>To now show some events in stdout and some in stderr, simply setup two StreamLoggers, one for critical events and one for all others, and disable the standard console logger:</p>\n\n<pre><code>// setup all logs that are smaller than WARNINGS to stdout\nMaxlevelStreamHandler outSh = new MaxlevelStreamHandler(System.out, formatter);\noutSh.setLevel(Level.ALL);\noutSh.setMaxlevel(Level.INFO);\nlogger.addHandler(outSh);\n\n// setup all warnings to stdout &amp; warnings and higher to stderr\nStreamHandler errSh = new StreamHandler(System.err, formatter);\nerrSh.setLevel(Level.WARNING);\nlogger.addHandler(errSh);\n\n// remove default console logger\nlogger.setUseParentHandlers(false);\n\nlogger.info(\"info\");\nlogger.warning(\"warning\");\nlogger.severe(\"severe\");\n</code></pre>\n\n<p>Hope this helps!</p>\n\n<p>Update: I added super.flush() right after super.publish() to make sure that the message is shown immediately. Before, I had problems that the log-messages were always shown at the end. It's now part of the code above.</p>\n"},{"tags":[],"owner":{"account_id":990065,"reputation":1340,"user_id":1007631,"accept_rate":60,"display_name":"ocarlsen"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1400373519,"creation_date":1400373519,"answer_id":23717493,"question_id":194165,"body_markdown":"I had a similar problem.  I wanted to log INFO and below to `System.out`, and WARNING and above to `System.err`.  Here is the solution I implemented:\r\n\r\n    public class DualConsoleHandler extends StreamHandler {\r\n    \t\r\n    \tprivate final ConsoleHandler stderrHandler = new ConsoleHandler();\r\n    \t\r\n    \tpublic DualConsoleHandler() {\r\n    \t\tsuper(System.out, new SimpleFormatter());\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void publish(LogRecord record) {\r\n    \t\tif (record.getLevel().intValue() &lt;= Level.INFO.intValue()) {\r\n    \t\t\tsuper.publish(record);\r\n    \t\t\tsuper.flush();\r\n    \t\t} else {\r\n    \t\t\tstderrHandler.publish(record);\r\n    \t\t\tstderrHandler.flush();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nOf course, you could make it more flexible by factoring out the hard-coded reference to `Level.INFO`, for example.  But this worked well for me to get some basic dual-stream logging.  (BTW, the tips about not subclassing ConsoleHandler to avoid closing the `System.err` were very useful.)","title":"How do I change java logging console output from std err to std out?","body":"<p>I had a similar problem.  I wanted to log INFO and below to <code>System.out</code>, and WARNING and above to <code>System.err</code>.  Here is the solution I implemented:</p>\n\n<pre><code>public class DualConsoleHandler extends StreamHandler {\n\n    private final ConsoleHandler stderrHandler = new ConsoleHandler();\n\n    public DualConsoleHandler() {\n        super(System.out, new SimpleFormatter());\n    }\n\n    @Override\n    public void publish(LogRecord record) {\n        if (record.getLevel().intValue() &lt;= Level.INFO.intValue()) {\n            super.publish(record);\n            super.flush();\n        } else {\n            stderrHandler.publish(record);\n            stderrHandler.flush();\n        }\n    }\n}\n</code></pre>\n\n<p>Of course, you could make it more flexible by factoring out the hard-coded reference to <code>Level.INFO</code>, for example.  But this worked well for me to get some basic dual-stream logging.  (BTW, the tips about not subclassing ConsoleHandler to avoid closing the <code>System.err</code> were very useful.)</p>\n"},{"tags":[],"owner":{"account_id":2826194,"reputation":10795,"user_id":2428802,"display_name":"jmehrens"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1533157187,"creation_date":1457621310,"answer_id":35919737,"question_id":194165,"body_markdown":"The ConsoleHandler will grab a snapshot of `System.err` during construction.  One option would be to swap the global error stream with the global out stream and then create the ConsoleHandler.\r\n\r\n    ConsoleHandler h = null;\r\n    final PrintStream err = System.err;\r\n    System.setErr(System.out);\r\n    try {\r\n        h = new ConsoleHandler(); //Snapshot of System.err\r\n    } finally {\r\n        System.setErr(err);\r\n    }\r\n\r\nThis assumes that the code has permission to modify error stream and that no other running code is accessing the error stream.  In short, this is an option but there are safer alternatives.","title":"How do I change java logging console output from std err to std out?","body":"<p>The ConsoleHandler will grab a snapshot of <code>System.err</code> during construction.  One option would be to swap the global error stream with the global out stream and then create the ConsoleHandler.</p>\n\n<pre><code>ConsoleHandler h = null;\nfinal PrintStream err = System.err;\nSystem.setErr(System.out);\ntry {\n    h = new ConsoleHandler(); //Snapshot of System.err\n} finally {\n    System.setErr(err);\n}\n</code></pre>\n\n<p>This assumes that the code has permission to modify error stream and that no other running code is accessing the error stream.  In short, this is an option but there are safer alternatives.</p>\n"},{"tags":[],"owner":{"account_id":10332970,"reputation":21,"user_id":7622140,"display_name":"Virendra Singh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695625681,"creation_date":1488039289,"answer_id":42458416,"question_id":194165,"body_markdown":"When we create a new ConsoleHandler object, default output stream is &quot;system.err&quot;. Sadly Java doesn&#39;t provide any public method for ConsoleHandler class to set output stream. So it can be set only at the time of object creation. As ConsoleHandler class extends StreamHandler, which has a protected method &quot;setOutputStream&quot; to set output stream explicitly. To set output Stream for ConsoleHandler just override this method at the time of new call for object creation. \r\n\r\n    ConsoleHandler consoleHandler = new ConsoleHandler() {\r\n        @Override\r\n        protected synchronized void setOutputStream(OutputStream out) throws SecurityException {\r\n            super.setOutputStream(System.out);\r\n        }\r\n    };\r\n","title":"How do I change java logging console output from std err to std out?","body":"<p>When we create a new ConsoleHandler object, default output stream is &quot;system.err&quot;. Sadly Java doesn't provide any public method for ConsoleHandler class to set output stream. So it can be set only at the time of object creation. As ConsoleHandler class extends StreamHandler, which has a protected method &quot;setOutputStream&quot; to set output stream explicitly. To set output Stream for ConsoleHandler just override this method at the time of new call for object creation.</p>\n<pre><code>ConsoleHandler consoleHandler = new ConsoleHandler() {\n    @Override\n    protected synchronized void setOutputStream(OutputStream out) throws SecurityException {\n        super.setOutputStream(System.out);\n    }\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4008309,"reputation":3678,"user_id":3302424,"accept_rate":70,"display_name":"Hari Krishna"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1591158158,"creation_date":1591158158,"answer_id":62165188,"question_id":194165,"body_markdown":"**Step 1:** Set parent handlers to false.\r\n\r\n    log.setUseParentHandlers(false);\r\n\r\n**Step 2:** Add a handler that writes to System.out\r\n\r\n    log.addHandler(new StreamHandler(System.out, new SimpleFormatter()));\r\nThats it..\r\n\r\n\r\n    import java.io.IOException;\r\n    import java.util.logging.Logger;\r\n    import java.util.logging.SimpleFormatter;\r\n    import java.util.logging.StreamHandler;\r\n     \r\n    public class App {\r\n     \r\n         static final Logger log = Logger.getLogger(&quot;com.sample.app.App&quot;);\r\n     \r\n         static void processData() {\r\n              log.info(&quot;Started Processing Data&quot;);\r\n              log.info(&quot;Finished processing data&quot;);\r\n         }\r\n     \r\n         public static void main(String args[]) throws IOException {\r\n              log.setUseParentHandlers(false);\r\n     \r\n              log.addHandler(new StreamHandler(System.out, new SimpleFormatter()));\r\n     \r\n              processData();\r\n         }\r\n    }","title":"How do I change java logging console output from std err to std out?","body":"<p><strong>Step 1:</strong> Set parent handlers to false.</p>\n\n<pre><code>log.setUseParentHandlers(false);\n</code></pre>\n\n<p><strong>Step 2:</strong> Add a handler that writes to System.out</p>\n\n<pre><code>log.addHandler(new StreamHandler(System.out, new SimpleFormatter()));\n</code></pre>\n\n<p>Thats it..</p>\n\n<pre><code>import java.io.IOException;\nimport java.util.logging.Logger;\nimport java.util.logging.SimpleFormatter;\nimport java.util.logging.StreamHandler;\n\npublic class App {\n\n     static final Logger log = Logger.getLogger(\"com.sample.app.App\");\n\n     static void processData() {\n          log.info(\"Started Processing Data\");\n          log.info(\"Finished processing data\");\n     }\n\n     public static void main(String args[]) throws IOException {\n          log.setUseParentHandlers(false);\n\n          log.addHandler(new StreamHandler(System.out, new SimpleFormatter()));\n\n          processData();\n     }\n}\n</code></pre>\n"}],"owner":{"account_id":561638,"reputation":15601,"user_id":23120,"accept_rate":0,"display_name":"Obediah Stane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47115,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"answer_count":13,"score":44,"last_activity_date":1695625681,"creation_date":1223737211,"question_id":194165,"body_markdown":"I&#39;m using the standard `ConsoleHandler` from `java.util.logging` and by default the console output is directed to the error stream (i.e. `System.err`).\r\n\r\nHow do I change the console output to the output stream (i.e. `System.out`)?","title":"How do I change java logging console output from std err to std out?","body":"<p>I'm using the standard <code>ConsoleHandler</code> from <code>java.util.logging</code> and by default the console output is directed to the error stream (i.e. <code>System.err</code>).</p>\n\n<p>How do I change the console output to the output stream (i.e. <code>System.out</code>)?</p>\n"},{"tags":["java","parboiled","java-21"],"comments":[{"owner":{"account_id":8002,"reputation":283793,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1695517365,"post_id":77165413,"comment_id":136034932,"body_markdown":"Can you provide a [mre]? This smells like Java 17 may still be somewhere in your runtime environment; a Dockerfile, Nix derivation, or other self-contained reproducer would allow that possibility to be eliminated.","body":"Can you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>? This smells like Java 17 may still be somewhere in your runtime environment; a Dockerfile, Nix derivation, or other self-contained reproducer would allow that possibility to be eliminated."},{"owner":{"account_id":27243397,"reputation":1316,"user_id":20769158,"display_name":"scrhartley"},"score":2,"creation_date":1695518335,"post_id":77165413,"comment_id":136034995,"body_markdown":"This doesn&#39;t seem like an environment problem to me. Parboiled has the [ASM](https://asm.ow2.io/) bytecode library as a dependency. Try upgrading that to version 9.5 for Java 21 support. A few more stack frames from the exception may be helpful though. Gradle version overriding: https://docs.gradle.org/current/userguide/dependency_constraints.html","body":"This doesn&#39;t seem like an environment problem to me. Parboiled has the <a href=\"https://asm.ow2.io/\" rel=\"nofollow noreferrer\">ASM</a> bytecode library as a dependency. Try upgrading that to version 9.5 for Java 21 support. A few more stack frames from the exception may be helpful though. Gradle version overriding: <a href=\"https://docs.gradle.org/current/userguide/dependency_constraints.html\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/dependency_constraints.htm&zwnj;&#8203;l</a>"},{"owner":{"account_id":434326,"reputation":315,"user_id":10371946,"display_name":"Yaun"},"score":1,"creation_date":1695518792,"post_id":77165413,"comment_id":136035012,"body_markdown":"Forcing ASM 9.5 does indeed resolve the problem! parboiled-java:1.4.1 by default depends on 9.2.","body":"Forcing ASM 9.5 does indeed resolve the problem! parboiled-java:1.4.1 by default depends on 9.2."}],"answers":[{"tags":[],"owner":{"account_id":434326,"reputation":315,"user_id":10371946,"display_name":"Yaun"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1695624994,"creation_date":1695519379,"answer_id":77165481,"question_id":77165413,"body_markdown":"This failure is in the [ASM](https://asm.ow2.io/) library, which Parboiled has as a dependency.  Parboiled 1.4.1 uses ASM 9.2, but Java 21 support was added in ASM 9.5.\r\n\r\nAdding the following will force gradle to resolve all ASM dependencies to version 9.5 which resolves the problem:\r\n\r\n```\r\nconfigurations.all {\r\n    resolutionStrategy.eachDependency { details -&gt;\r\n        if (details.requested.group == &#39;org.ow2.asm&#39;) {\r\n            details.useVersion &quot;9.5&quot;\r\n        }\r\n    }\r\n}\r\ndependencies {\r\n    implementation &#39;org.parboiled:parboiled-java:1.4.1&#39;\r\n}\r\n```","title":"Parboiled under Java 21: Unsupported class file major version 65","body":"<p>This failure is in the <a href=\"https://asm.ow2.io/\" rel=\"noreferrer\">ASM</a> library, which Parboiled has as a dependency.  Parboiled 1.4.1 uses ASM 9.2, but Java 21 support was added in ASM 9.5.</p>\n<p>Adding the following will force gradle to resolve all ASM dependencies to version 9.5 which resolves the problem:</p>\n<pre><code>configurations.all {\n    resolutionStrategy.eachDependency { details -&gt;\n        if (details.requested.group == 'org.ow2.asm') {\n            details.useVersion &quot;9.5&quot;\n        }\n    }\n}\ndependencies {\n    implementation 'org.parboiled:parboiled-java:1.4.1'\n}\n</code></pre>\n"}],"owner":{"account_id":434326,"reputation":315,"user_id":10371946,"display_name":"Yaun"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2379,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1695625280,"creation_date":1695516990,"question_id":77165413,"body_markdown":"I&#39;m am using parboiled as a dependency:\r\n\r\n```lang-groovy\r\n// https://mvnrepository.com/artifact/org.parboiled/parboiled-java\r\napi &#39;org.parboiled:parboiled-java:1.4.1&#39;\r\n```\r\n\r\nAfter updating from java 17 to 21 I am getting this error at runtime when trying to create a parser:\r\n\r\n```lang-none\r\njava.lang.RuntimeException: Error creating extended parser class: Unsupported class file major version 65\r\n        at org.parboiled.Parboiled.createParser(Parboiled.java:58)\r\n```\r\n\r\nVersion 65 class files is Java 21. The parser class is now indeed compiled with target 21. Why would parboiled not work with it? Any other workarounds outside of downgrading to target 17?\r\n\r\n\r\n**Minimal reproducible example:**\r\n\r\nbuild.gradle\r\n\r\n```lang-groovy\r\nplugins {\r\n    id &quot;application&quot;\r\n}\r\napply plugin : &quot;java&quot; \r\n\r\next {\r\n   javaMainClass = &quot;test.TestParser&quot;\r\n}\r\n\r\napplication {\r\n    mainClassName = javaMainClass\r\n}\r\ndependencies {\r\n\t\r\n\timplementation &#39;org.parboiled:parboiled-java:1.4.1&#39;\r\n}\r\n```\r\n\r\nTestParser.java\r\n\r\n```lang-java\r\npackage test;\r\n\r\nimport org.parboiled.BaseParser;\r\nimport org.parboiled.Parboiled;\r\nimport org.parboiled.Rule;\r\nimport org.parboiled.annotations.BuildParseTree;\r\n\r\n\r\n@BuildParseTree\r\npublic class TestParser extends BaseParser&lt;Object&gt; {\r\n\t\r\n\tpublic Rule InputLine() {\r\n\t\treturn Sequence(Digit(), EOI);\r\n\t}\r\n\tRule Digit() {\r\n\t\treturn CharRange(&#39;0&#39;, &#39;9&#39;);\r\n\t}\r\n\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tTestParser parser = Parboiled.createParser(TestParser.class);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n```lang-none\r\ngradle run\r\n\r\nConfiguration on demand is an incubating feature.\r\n&gt; Task :test2:compileJava\r\n&gt; Task :test2:processResources NO-SOURCE\r\n&gt; Task :test2:classes\r\n\r\n&gt; Task :test2:run FAILED\r\nException in thread &quot;main&quot; java.lang.RuntimeException: Error creating extended parser class: Unsupported class file major version 65\r\n        at org.parboiled.Parboiled.createParser(Parboiled.java:58)\r\n        at test.TestParser.main(TestParser.java:34)\r\nCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 65\r\n        at org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:199)\r\n        at org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:180)\r\n        at org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:166)\r\n        at org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:287)\r\n        at org.parboiled.transform.AsmUtils.createClassReader(AsmUtils.java:59)\r\n        at org.parboiled.transform.ClassNodeInitializer.process(ClassNodeInitializer.java:62)\r\n        at org.parboiled.transform.ParserTransformer.extendParserClass(ParserTransformer.java:44)\r\n        at org.parboiled.transform.ParserTransformer.transformParser(ParserTransformer.java:39)\r\n        at org.parboiled.Parboiled.createParser(Parboiled.java:54)\r\n        ... 1 more\r\n```\r\n","title":"Parboiled under Java 21: Unsupported class file major version 65","body":"<p>I'm am using parboiled as a dependency:</p>\n<pre class=\"lang-groovy prettyprint-override\"><code>// https://mvnrepository.com/artifact/org.parboiled/parboiled-java\napi 'org.parboiled:parboiled-java:1.4.1'\n</code></pre>\n<p>After updating from java 17 to 21 I am getting this error at runtime when trying to create a parser:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.RuntimeException: Error creating extended parser class: Unsupported class file major version 65\n        at org.parboiled.Parboiled.createParser(Parboiled.java:58)\n</code></pre>\n<p>Version 65 class files is Java 21. The parser class is now indeed compiled with target 21. Why would parboiled not work with it? Any other workarounds outside of downgrading to target 17?</p>\n<p><strong>Minimal reproducible example:</strong></p>\n<p>build.gradle</p>\n<pre class=\"lang-groovy prettyprint-override\"><code>plugins {\n    id &quot;application&quot;\n}\napply plugin : &quot;java&quot; \n\next {\n   javaMainClass = &quot;test.TestParser&quot;\n}\n\napplication {\n    mainClassName = javaMainClass\n}\ndependencies {\n    \n    implementation 'org.parboiled:parboiled-java:1.4.1'\n}\n</code></pre>\n<p>TestParser.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package test;\n\nimport org.parboiled.BaseParser;\nimport org.parboiled.Parboiled;\nimport org.parboiled.Rule;\nimport org.parboiled.annotations.BuildParseTree;\n\n\n@BuildParseTree\npublic class TestParser extends BaseParser&lt;Object&gt; {\n    \n    public Rule InputLine() {\n        return Sequence(Digit(), EOI);\n    }\n    Rule Digit() {\n        return CharRange('0', '9');\n    }\n\n    \n    public static void main(String[] args) {\n        TestParser parser = Parboiled.createParser(TestParser.class);\n    }\n\n}\n\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>gradle run\n\nConfiguration on demand is an incubating feature.\n&gt; Task :test2:compileJava\n&gt; Task :test2:processResources NO-SOURCE\n&gt; Task :test2:classes\n\n&gt; Task :test2:run FAILED\nException in thread &quot;main&quot; java.lang.RuntimeException: Error creating extended parser class: Unsupported class file major version 65\n        at org.parboiled.Parboiled.createParser(Parboiled.java:58)\n        at test.TestParser.main(TestParser.java:34)\nCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 65\n        at org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:199)\n        at org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:180)\n        at org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:166)\n        at org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:287)\n        at org.parboiled.transform.AsmUtils.createClassReader(AsmUtils.java:59)\n        at org.parboiled.transform.ClassNodeInitializer.process(ClassNodeInitializer.java:62)\n        at org.parboiled.transform.ParserTransformer.extendParserClass(ParserTransformer.java:44)\n        at org.parboiled.transform.ParserTransformer.transformParser(ParserTransformer.java:39)\n        at org.parboiled.Parboiled.createParser(Parboiled.java:54)\n        ... 1 more\n</code></pre>\n"},{"tags":["java","arrays","oop","initialization","int"],"comments":[{"owner":{"account_id":552826,"reputation":93460,"user_id":916657,"accept_rate":95,"display_name":"Niklas B."},"score":0,"creation_date":1339017818,"post_id":10922489,"comment_id":14246568,"body_markdown":"Also see: http://stackoverflow.com/questions/4104134/why-are-variables-not-local-in-case-statements","body":"Also see: <a href=\"http://stackoverflow.com/questions/4104134/why-are-variables-not-local-in-case-statements\" title=\"why are variables not local in case statements\">stackoverflow.com/questions/4104134/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":83625,"reputation":5032,"user_id":234307,"accept_rate":89,"display_name":"jn1kk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1339017686,"creation_date":1339017686,"answer_id":10922504,"question_id":10922489,"body_markdown":"I would tell you to put the array declaration outside the switch block, however, you cannot use `= { 1, 2, 3}` syntax after the declaration. You need to initialize it the regular way, as in `array = new int[] {1, 2, 3};`","title":"Java: How to initialize int array in a switch case?","body":"<p>I would tell you to put the array declaration outside the switch block, however, you cannot use <code>= { 1, 2, 3}</code> syntax after the declaration. You need to initialize it the regular way, as in <code>array = new int[] {1, 2, 3};</code></p>\n"},{"tags":[],"owner":{"account_id":24377,"reputation":818003,"user_id":61974,"display_name":"Mark Byers"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1339017776,"creation_date":1339017776,"answer_id":10922519,"question_id":10922489,"body_markdown":"Put the declaration before the switch statement. You will also need to explicitly instantiate an array of the correct type.\r\n\r\n    int[] array;\r\n    switch (something) {\r\n        case 0: array = new int[] {1, 2, 3}; break;\r\n        default: array = new int[] {3, 2, 1};\r\n    }","title":"Java: How to initialize int array in a switch case?","body":"<p>Put the declaration before the switch statement. You will also need to explicitly instantiate an array of the correct type.</p>\n\n<pre><code>int[] array;\nswitch (something) {\n    case 0: array = new int[] {1, 2, 3}; break;\n    default: array = new int[] {3, 2, 1};\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":936980,"reputation":66,"user_id":965741,"display_name":"GWilliams00"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1339017817,"creation_date":1339017817,"answer_id":10922529,"question_id":10922489,"body_markdown":"    int[] array;\r\n    switch (something) {\r\n        case 0: array = new int[]{1, 2, 3}; break;\r\n        default: array = new int[]{3, 2, 1};\r\n    }\r\n","title":"Java: How to initialize int array in a switch case?","body":"<pre><code>int[] array;\nswitch (something) {\n    case 0: array = new int[]{1, 2, 3}; break;\n    default: array = new int[]{3, 2, 1};\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1082455,"reputation":2095,"user_id":1079065,"accept_rate":44,"display_name":"user1079065"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438270416,"creation_date":1438270416,"answer_id":31728084,"question_id":10922489,"body_markdown":"I had the same question before. Hope this helps you.\r\n\r\nFirst Mark Byers is absolutely right. Java works with minimal possible scope. so if you try to do \r\n\r\n`case 1: int arr = whatever and \r\ncase 2 : int arr = ...` it will give you an error of re-declaration because entire switch is treated as a single scope and there is no case wise / based scope.\r\n\r\nPoint 2: if you say: \r\n\r\n`case 1: int arr = whatever and \r\ncase 2 : arr = ...` assuming that int arr will be compiled and taken from case 1 then you are still wrong and again java will give you the error, based on the principle that `each and every local var has to be declared and initialized before its use.`\r\n\r\nso the best way is to declare it outside your switch and define or initialize it in whichever case you prefer.","title":"Java: How to initialize int array in a switch case?","body":"<p>I had the same question before. Hope this helps you.</p>\n\n<p>First Mark Byers is absolutely right. Java works with minimal possible scope. so if you try to do </p>\n\n<p><code>case 1: int arr = whatever and \ncase 2 : int arr = ...</code> it will give you an error of re-declaration because entire switch is treated as a single scope and there is no case wise / based scope.</p>\n\n<p>Point 2: if you say: </p>\n\n<p><code>case 1: int arr = whatever and \ncase 2 : arr = ...</code> assuming that int arr will be compiled and taken from case 1 then you are still wrong and again java will give you the error, based on the principle that <code>each and every local var has to be declared and initialized before its use.</code></p>\n\n<p>so the best way is to declare it outside your switch and define or initialize it in whichever case you prefer.</p>\n"},{"tags":[],"owner":{"account_id":29517307,"reputation":1,"user_id":22620980,"display_name":"bobo"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695625001,"creation_date":1695625001,"answer_id":77170432,"question_id":10922489,"body_markdown":"I have restructured the [answer code provided by @Mark Byers][1] into a Java method that you can easily incorporate into your development:\r\n\r\n    public class Post10922519 {\r\n        public static int[] initializeIntArrayInSwitch(int something) {\r\n            int[] array;\r\n            switch (something) {\r\n                case 0: array = new int[] {1, 2, 3}; break;\r\n                default: array = new int[] {3, 2, 1};\r\n            }\r\n            return array;\r\n        }\r\n    }\r\n\r\n[1]: https://stackoverflow.com/a/10922519\r\n\r\n","title":"Java: How to initialize int array in a switch case?","body":"<p>I have restructured the <a href=\"https://stackoverflow.com/a/10922519\">answer code provided by @Mark Byers</a> into a Java method that you can easily incorporate into your development:</p>\n<pre><code>public class Post10922519 {\n    public static int[] initializeIntArrayInSwitch(int something) {\n        int[] array;\n        switch (something) {\n            case 0: array = new int[] {1, 2, 3}; break;\n            default: array = new int[] {3, 2, 1};\n        }\n        return array;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":376652,"reputation":7534,"user_id":728244,"accept_rate":90,"display_name":"Tony Bogdanov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4375,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":10922519,"answer_count":5,"score":5,"last_activity_date":1695625001,"creation_date":1339017602,"question_id":10922489,"body_markdown":"How can I initialize an integer array in Java like so: `int[] array = {1,2,3};` inside a switch statement?\r\n\r\nCurrently, I can write:\r\n\r\n    switch(something) {\r\n        case 0: int[] array = {1,2,3}; break;\r\n        default: int[] array = {3,2,1};\r\n    }\r\n\r\nBut when I try to access the `array` variable, eclipse will complain that it might not be initialized.\r\n\r\nIf I try to declare it like `int[] array;` or `int[] array = new int[3];` and then have the switch statement, it would say I am trying to redeclare it.\r\n\r\nHow can I resolve this issue? Final idea is to be able to initialize an array with 10 values in just one line of code, based on some logic (a switch statement).","title":"Java: How to initialize int array in a switch case?","body":"<p>How can I initialize an integer array in Java like so: <code>int[] array = {1,2,3};</code> inside a switch statement?</p>\n\n<p>Currently, I can write:</p>\n\n<pre><code>switch(something) {\n    case 0: int[] array = {1,2,3}; break;\n    default: int[] array = {3,2,1};\n}\n</code></pre>\n\n<p>But when I try to access the <code>array</code> variable, eclipse will complain that it might not be initialized.</p>\n\n<p>If I try to declare it like <code>int[] array;</code> or <code>int[] array = new int[3];</code> and then have the switch statement, it would say I am trying to redeclare it.</p>\n\n<p>How can I resolve this issue? Final idea is to be able to initialize an array with 10 values in just one line of code, based on some logic (a switch statement).</p>\n"},{"tags":["java","oracle","plsql"],"comments":[{"owner":{"account_id":1635690,"reputation":150047,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":0,"creation_date":1695624975,"post_id":77170000,"comment_id":136043998,"body_markdown":"Probably a duplicate of https://stackoverflow.com/q/60074235/1509264","body":"Probably a duplicate of <a href=\"https://stackoverflow.com/q/60074235/1509264\">stackoverflow.com/q/60074235/1509264</a>"}],"owner":{"account_id":28796662,"reputation":11,"user_id":22054648,"display_name":"nasim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1695625009,"answer_count":0,"score":0,"last_activity_date":1695624788,"creation_date":1695618100,"question_id":77170000,"body_markdown":"I am trying to use fingerprint device in pl/sql. I was able to save the fingerprint in Oracle database, now I want to identify this fingerprint. For this, the manufacturer has provided me with the sdk that I want to use its Java codes. For this, I wrote a Java code as follows:\r\n\r\n    import java.sql.*;\r\n    import oracle.jdbc.*;\r\n    import java.awt.*;\r\n    import java.awt.image.*;\r\n    import java.io.*;\r\n    import javax.imageio.*;\r\n    import javax.swing.*;\r\n    import com.futronic.SDKHelper.*;\r\n    import java.util.Base64;\r\n    import java.util.Vector;\r\n    \r\n    \r\n    public class MainForm \r\n    {\r\n    \r\n        public static String OnGetBaseTemplateComplete(String FPtemplate)\r\n        {\r\n            StringBuffer szMessage = new StringBuffer();\r\n            \r\n            String StrTemplate = FPtemplate;\r\n            byte[] DecodeTemplate = Base64.getDecoder().decode(StrTemplate);\r\n            m_Operation = new FutronicIdentification();\r\n            ((FutronicIdentification) m_Operation).Farn(245);\r\n            ((FutronicIdentification) m_Operation).BaseTemplate(DecodeTemplate);    \r\n            \r\n    \r\n                Vector&lt;DbRecord&gt; Users = (Vector&lt;DbRecord&gt;)m_OperationObj;\r\n                FtrIdentifyRecord[] rgRecords = new FtrIdentifyRecord[ Users.size() ];\r\n                for( int iUsers = 0; iUsers &lt; Users.size(); iUsers++ )\r\n                    rgRecords[iUsers] = Users.get( iUsers ).getFtrIdentifyRecord();\r\n    \r\n                FtrIdentifyResult result = new FtrIdentifyResult();\r\n                \r\n                int nResult = ((FutronicIdentification)m_Operation).Identification(rgRecords, result);\r\n                if (nResult == FutronicSdkBase.RETCODE_OK)\r\n                {\r\n                    szMessage.append(&quot;Identification process complete. User: &quot;);\r\n                    if( result.m_Index != -1 )\r\n                        szMessage.append(Users.get( result.m_Index ).getUserName() );\r\n                    else\r\n                        szMessage.append(&quot;not found&quot;);\r\n                } else {\r\n                    szMessage.append( &quot;Identification failed.&quot; );\r\n                    szMessage.append( FutronicSdkBase.SdkRetCode2Message( nResult ) );\r\n                }\r\n    \r\n            \r\n            String StrMessage = szMessage.toString();\r\n            \r\n            return StrMessage;\r\n    \r\n        }\r\n    \r\n    \r\n        /**\r\n         * Contain reference for current operation object\r\n         */\r\n        private FutronicSdkBase m_Operation;\r\n        \r\n    \r\n        private Object m_OperationObj;       \r\n    }\r\n\r\nBut the problem is with functions defined in other Java files and I don&#39;t know how to define this binding for PL/SQL. For example code\r\n\r\n    FtrIdentifyResult result = new FtrIdentifyResult();\r\n\r\n*(FtrIdentifyResult)* itself is a separate Java file that has functions and this function is also defined. *(FutronicIdentification)* and *(Identification)* and... also.\r\n\r\nor in line\r\n\r\n    private FutronicSdkBase m_Operation\r\n\r\nA variable of type *(FutronicSdkBase)* is defined, where *(FutronicSdkBase)* is a separate Java file with functions. Now how do I define this for pl/sql?","title":"Definition of related java functions in pl/sql","body":"<p>I am trying to use fingerprint device in pl/sql. I was able to save the fingerprint in Oracle database, now I want to identify this fingerprint. For this, the manufacturer has provided me with the sdk that I want to use its Java codes. For this, I wrote a Java code as follows:</p>\n<pre><code>import java.sql.*;\nimport oracle.jdbc.*;\nimport java.awt.*;\nimport java.awt.image.*;\nimport java.io.*;\nimport javax.imageio.*;\nimport javax.swing.*;\nimport com.futronic.SDKHelper.*;\nimport java.util.Base64;\nimport java.util.Vector;\n\n\npublic class MainForm \n{\n\n    public static String OnGetBaseTemplateComplete(String FPtemplate)\n    {\n        StringBuffer szMessage = new StringBuffer();\n        \n        String StrTemplate = FPtemplate;\n        byte[] DecodeTemplate = Base64.getDecoder().decode(StrTemplate);\n        m_Operation = new FutronicIdentification();\n        ((FutronicIdentification) m_Operation).Farn(245);\n        ((FutronicIdentification) m_Operation).BaseTemplate(DecodeTemplate);    \n        \n\n            Vector&lt;DbRecord&gt; Users = (Vector&lt;DbRecord&gt;)m_OperationObj;\n            FtrIdentifyRecord[] rgRecords = new FtrIdentifyRecord[ Users.size() ];\n            for( int iUsers = 0; iUsers &lt; Users.size(); iUsers++ )\n                rgRecords[iUsers] = Users.get( iUsers ).getFtrIdentifyRecord();\n\n            FtrIdentifyResult result = new FtrIdentifyResult();\n            \n            int nResult = ((FutronicIdentification)m_Operation).Identification(rgRecords, result);\n            if (nResult == FutronicSdkBase.RETCODE_OK)\n            {\n                szMessage.append(&quot;Identification process complete. User: &quot;);\n                if( result.m_Index != -1 )\n                    szMessage.append(Users.get( result.m_Index ).getUserName() );\n                else\n                    szMessage.append(&quot;not found&quot;);\n            } else {\n                szMessage.append( &quot;Identification failed.&quot; );\n                szMessage.append( FutronicSdkBase.SdkRetCode2Message( nResult ) );\n            }\n\n        \n        String StrMessage = szMessage.toString();\n        \n        return StrMessage;\n\n    }\n\n\n    /**\n     * Contain reference for current operation object\n     */\n    private FutronicSdkBase m_Operation;\n    \n\n    private Object m_OperationObj;       \n}\n</code></pre>\n<p>But the problem is with functions defined in other Java files and I don't know how to define this binding for PL/SQL. For example code</p>\n<pre><code>FtrIdentifyResult result = new FtrIdentifyResult();\n</code></pre>\n<p><em>(FtrIdentifyResult)</em> itself is a separate Java file that has functions and this function is also defined. <em>(FutronicIdentification)</em> and <em>(Identification)</em> and... also.</p>\n<p>or in line</p>\n<pre><code>private FutronicSdkBase m_Operation\n</code></pre>\n<p>A variable of type <em>(FutronicSdkBase)</em> is defined, where <em>(FutronicSdkBase)</em> is a separate Java file with functions. Now how do I define this for pl/sql?</p>\n"},{"tags":["java","jersey","jax-rs","cxf"],"answers":[{"tags":[],"owner":{"account_id":1532393,"reputation":99,"user_id":1429285,"display_name":"Jozef Dropčo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695623870,"creation_date":1695623870,"answer_id":77170345,"question_id":77160538,"body_markdown":"Use UriBuilder instead as various implementation treats this differently. We had very same problem in the past too\r\n```\r\nimport javax.ws.rs.client.Client;\r\nimport javax.ws.rs.client.ClientBuilder;\r\nimport javax.ws.rs.client.WebTarget;\r\nimport javax.ws.rs.core.UriBuilder;\r\n\r\npublic class RestClientServiceImpl {\r\n  public static void main(String[] args) {\r\n    String url = &quot;https://foo.bar/test/api/users?q=key:value&quot;;\r\n    UriBuilder uri = UriBuilder.fromUri(url);\r\n    ClientBuilder builder = ClientBuilder.newBuilder();\r\n    Client client = builder.build();\r\n\r\n    System.out.println(String.format(&quot;Before doing WebTarget %s &quot;, url));\r\n    WebTarget target = client.target(uri.build());\r\n    System.out.println(String.format(&quot;After doing WebTarget  %s &quot;, target.getUri()));\r\n  }\r\n}\r\n```","title":"JAX-RS Apache CXF vs Jersey implementations. Encoding","body":"<p>Use UriBuilder instead as various implementation treats this differently. We had very same problem in the past too</p>\n<pre><code>import javax.ws.rs.client.Client;\nimport javax.ws.rs.client.ClientBuilder;\nimport javax.ws.rs.client.WebTarget;\nimport javax.ws.rs.core.UriBuilder;\n\npublic class RestClientServiceImpl {\n  public static void main(String[] args) {\n    String url = &quot;https://foo.bar/test/api/users?q=key:value&quot;;\n    UriBuilder uri = UriBuilder.fromUri(url);\n    ClientBuilder builder = ClientBuilder.newBuilder();\n    Client client = builder.build();\n\n    System.out.println(String.format(&quot;Before doing WebTarget %s &quot;, url));\n    WebTarget target = client.target(uri.build());\n    System.out.println(String.format(&quot;After doing WebTarget  %s &quot;, target.getUri()));\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":19255495,"reputation":21,"user_id":14072510,"display_name":"KrzMar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695623870,"creation_date":1695415011,"question_id":77160538,"body_markdown":"Just wondering if such a code shouldn&#39;t return the same using different implementation of JAX-RS? I&#39;m not really into Java.\r\n\r\n\r\n```\r\nimport java.util.*;\r\nimport javax.ws.rs.client.Client;\r\nimport javax.ws.rs.client.ClientBuilder;\r\nimport javax.ws.rs.client.Invocation.Builder;\r\nimport javax.ws.rs.client.WebTarget;\r\n\r\npublic class RestClientServiceImpl {\r\n  public static void main(String[] args) {\r\n    String url = &quot;https://foo.bar/test/api/users?q=key:value&quot;;\r\n    ClientBuilder builder = ClientBuilder.newBuilder();\r\n    Client client = builder.build();\r\n\r\n    System.out.println(String.format(&quot;Before doing WebTarget %s &quot;, url));\r\n    WebTarget target = client.target(url);\r\n    System.out.println(String.format(&quot;After doing WebTarget  %s &quot;, target.getUri()));\r\n  }\r\n}\r\n\r\n```\r\n\r\nhttps://eclipse-ee4j.github.io/jersey/download.html\r\nhttps://repo1.maven.org/maven2/org/glassfish/jersey/bundles/jaxrs-ri/2.40/jaxrs-ri-2.40.zip\r\n```\r\n$ libs=&quot;jaxrs-ri/api/*:jaxrs-ri/ext/*:jaxrs-ri/lib/*&quot; ; javac -cp .:${libs} RestClientServiceImpl.java ; java -cp .:${libs} RestClientServiceImpl\r\nBefore doing WebTarget https://foo.bar/test/api/users?q=key:value\r\nAfter doing WebTarget  https://foo.bar/test/api/users?q=key:value\r\n```\r\n\r\nhttps://cxf.apache.org/download.html\r\nhttps://dlcdn.apache.org/cxf/3.6.2/apache-cxf-3.6.2.zip\r\n```\r\n$ libs=&quot;apache-cxf-3.6.2/lib/*&quot; ; javac -cp .:${libs} RestClientServiceImpl.java ; java -cp .:${libs} RestClientServiceImpl\r\nBefore doing WebTarget https://foo.bar/test/api/users?q=key:value\r\nAfter doing WebTarget  https://foo.bar/test/api/users?q=key%3Avalue\r\n\r\n```\r\n\r\nThe difference is encoded colon.\r\n\r\n","title":"JAX-RS Apache CXF vs Jersey implementations. Encoding","body":"<p>Just wondering if such a code shouldn't return the same using different implementation of JAX-RS? I'm not really into Java.</p>\n<pre><code>import java.util.*;\nimport javax.ws.rs.client.Client;\nimport javax.ws.rs.client.ClientBuilder;\nimport javax.ws.rs.client.Invocation.Builder;\nimport javax.ws.rs.client.WebTarget;\n\npublic class RestClientServiceImpl {\n  public static void main(String[] args) {\n    String url = &quot;https://foo.bar/test/api/users?q=key:value&quot;;\n    ClientBuilder builder = ClientBuilder.newBuilder();\n    Client client = builder.build();\n\n    System.out.println(String.format(&quot;Before doing WebTarget %s &quot;, url));\n    WebTarget target = client.target(url);\n    System.out.println(String.format(&quot;After doing WebTarget  %s &quot;, target.getUri()));\n  }\n}\n\n</code></pre>\n<p><a href=\"https://eclipse-ee4j.github.io/jersey/download.html\" rel=\"nofollow noreferrer\">https://eclipse-ee4j.github.io/jersey/download.html</a>\n<a href=\"https://repo1.maven.org/maven2/org/glassfish/jersey/bundles/jaxrs-ri/2.40/jaxrs-ri-2.40.zip\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/org/glassfish/jersey/bundles/jaxrs-ri/2.40/jaxrs-ri-2.40.zip</a></p>\n<pre><code>$ libs=&quot;jaxrs-ri/api/*:jaxrs-ri/ext/*:jaxrs-ri/lib/*&quot; ; javac -cp .:${libs} RestClientServiceImpl.java ; java -cp .:${libs} RestClientServiceImpl\nBefore doing WebTarget https://foo.bar/test/api/users?q=key:value\nAfter doing WebTarget  https://foo.bar/test/api/users?q=key:value\n</code></pre>\n<p><a href=\"https://cxf.apache.org/download.html\" rel=\"nofollow noreferrer\">https://cxf.apache.org/download.html</a>\n<a href=\"https://dlcdn.apache.org/cxf/3.6.2/apache-cxf-3.6.2.zip\" rel=\"nofollow noreferrer\">https://dlcdn.apache.org/cxf/3.6.2/apache-cxf-3.6.2.zip</a></p>\n<pre><code>$ libs=&quot;apache-cxf-3.6.2/lib/*&quot; ; javac -cp .:${libs} RestClientServiceImpl.java ; java -cp .:${libs} RestClientServiceImpl\nBefore doing WebTarget https://foo.bar/test/api/users?q=key:value\nAfter doing WebTarget  https://foo.bar/test/api/users?q=key%3Avalue\n\n</code></pre>\n<p>The difference is encoded colon.</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":1235468,"reputation":31121,"user_id":1199132,"accept_rate":83,"display_name":"Aritz"},"score":0,"creation_date":1600187715,"post_id":63906176,"comment_id":113006673,"body_markdown":"Are you testing with HTTPS? https://stackoverflow.com/questions/50511702/enable-http-strict-transport-security-hsts-with-spring-boot-application","body":"Are you testing with HTTPS? <a href=\"https://stackoverflow.com/questions/50511702/enable-http-strict-transport-security-hsts-with-spring-boot-application\" title=\"enable http strict transport security hsts with spring boot application\">stackoverflow.com/questions/50511702/&hellip;</a>"},{"owner":{"account_id":10277734,"reputation":695,"user_id":7584019,"display_name":"Rahul Vala"},"score":0,"creation_date":1600188364,"post_id":63906176,"comment_id":113006941,"body_markdown":"@XtremeBiker yes","body":"@XtremeBiker yes"}],"answers":[{"tags":[],"owner":{"account_id":435781,"reputation":1889,"user_id":822561,"display_name":"Alexander Pranko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695623677,"creation_date":1654188560,"answer_id":72479660,"question_id":63906176,"body_markdown":"The default `RequestMatcher` used in `HstsConfig` is checking if a request is HTTPS `HttpServletRequest.isSecure()`. If it&#39;s not sufficient for you due to some reasons, you can use another matcher.\r\n\r\nThe code below ensures that the `Strict-Transport-Security` header is set in all responses: \r\n\r\n```\r\n    http.headers()\r\n          .httpStrictTransportSecurity()\r\n          .requestMatcher(AnyRequestMatcher.INSTANCE)\r\n          ...\r\n```","title":"Can&#39;t set the Strict-Transport-Security header in Spring Boot","body":"<p>The default <code>RequestMatcher</code> used in <code>HstsConfig</code> is checking if a request is HTTPS <code>HttpServletRequest.isSecure()</code>. If it's not sufficient for you due to some reasons, you can use another matcher.</p>\n<p>The code below ensures that the <code>Strict-Transport-Security</code> header is set in all responses:</p>\n<pre><code>    http.headers()\n          .httpStrictTransportSecurity()\n          .requestMatcher(AnyRequestMatcher.INSTANCE)\n          ...\n</code></pre>\n"}],"owner":{"account_id":10277734,"reputation":695,"user_id":7584019,"display_name":"Rahul Vala"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2385,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695623677,"creation_date":1600187315,"question_id":63906176,"body_markdown":"I am trying to set Strict Transport Security header to my Spring Webflow App. \r\n\r\nThis is the code that I have written to set the response header\r\n\r\n    @EnableWebSecurity\r\n    @Configuration\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            \r\n            http.headers()\r\n                .httpStrictTransportSecurity()\r\n                .includeSubDomains(true).maxAgeInSeconds(31536000).and()\r\n                .cacheControl().disable()\r\n                .frameOptions().disable();       \r\n        }\r\n    }\r\n\r\nNow, I am checking the response headers for the urls and although the other two headers (cache-control and frame-options) are being set, but I am not seeing Strict Transport Security header anywhere.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bHJDT.png\r\n\r\n\r\nThank you","title":"Can&#39;t set the Strict-Transport-Security header in Spring Boot","body":"<p>I am trying to set Strict Transport Security header to my Spring Webflow App.</p>\n<p>This is the code that I have written to set the response header</p>\n<pre><code>@EnableWebSecurity\n@Configuration\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        \n        http.headers()\n            .httpStrictTransportSecurity()\n            .includeSubDomains(true).maxAgeInSeconds(31536000).and()\n            .cacheControl().disable()\n            .frameOptions().disable();       \n    }\n}\n</code></pre>\n<p>Now, I am checking the response headers for the urls and although the other two headers (cache-control and frame-options) are being set, but I am not seeing Strict Transport Security header anywhere.</p>\n<p><a href=\"https://i.stack.imgur.com/bHJDT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bHJDT.png\" alt=\"enter image description here\" /></a></p>\n<p>Thank you</p>\n"},{"tags":["java","spring-boot","junit"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695625391,"post_id":77170321,"comment_id":136044063,"body_markdown":"Why should it throw an exception? You are using a mock, haven&#39;t registered anything on the mock so it will do the default, which is to return an empty optional. A mock doesn&#39;t magically know what to do you will have to register that yourself.","body":"Why should it throw an exception? You are using a mock, haven&#39;t registered anything on the mock so it will do the default, which is to return an empty optional. A mock doesn&#39;t magically know what to do you will have to register that yourself."}],"owner":{"account_id":25687239,"reputation":13,"user_id":19449118,"display_name":"Hendra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695623622,"creation_date":1695623622,"question_id":77170321,"body_markdown":"I wrote a unit test in springboot, where when saving data with the same &quot;Name&quot; it will throw DuplicateException. However, when I tried to run it, the result was &quot;Nothing was thrown&quot;.\r\n\r\nmy RoleServiceImplement.Class :\r\n\r\n    @Override\r\n        public Role save(RoleDAO roleDAO) throws DuplicatException\r\n        {\r\n    \r\n            Optional&lt;Role&gt; cekRole = roleRepository.findByName(roleDAO.getName());\r\n            if(cekRole.isPresent()){\r\n                throw  new RuntimeException(&quot;Already registered&quot;);\r\n            }\r\n            Date now = new Date();\r\n            Role role = new Role();\r\n            role.setCreatedBy(roleDAO.getCreatedBy());\r\n            role.setModifiedBy(roleDAO.getModifiedBy());\r\n            role.setStatus(&quot;1&quot;);\r\n            role.setName(roleDAO.getName());\r\n            role.setDescription(roleDAO.getDescription());\r\n            role.setCreatedAt(now);\r\n            role.setUpdatedAt(now);\r\n            roleRepository.save(role);\r\n            return role;\r\n        }\r\n\r\nMy Unit test:\r\n\r\n        @Mock\r\n        private RoleRepository roleRepository;\r\n    \r\n        @InjectMocks\r\n        private RoleServiceImplement roleService;\r\n\r\n        @DisplayName(&quot;Duplicate Role&quot;)\r\n        @Test\r\n        public void duplicate_role_name_throw_errors() throws Exception{\r\n          RoleDAO role1 = new RoleDAO();\r\n          role1.setName(&quot;test&quot;);\r\n          role1.setDescription(&quot;test&quot;);\r\n          role1.setCreatedBy(&quot;test&quot;);\r\n          role1.setModifiedBy(&quot;test&quot;);\r\n\r\n          RoleDAO role2 = new RoleDAO();\r\n          role2.setName(&quot;test&quot;);\r\n          role2.setDescription(&quot;test&quot;);\r\n          role2.setCreatedBy(&quot;test&quot;);\r\n          role2.setModifiedBy(&quot;test&quot;);\r\n\r\n          DuplicatException thrown = Assertions.assertThrows(DuplicatException.class, () -&gt; {\r\n            roleService.save(role1);\r\n            roleService.save(role2);\r\n            });\r\n          }\r\n\r\n","title":"Testing Service insert duplicate &quot;Name&quot; expected thrown DuplicateException , but nothing was thrown","body":"<p>I wrote a unit test in springboot, where when saving data with the same &quot;Name&quot; it will throw DuplicateException. However, when I tried to run it, the result was &quot;Nothing was thrown&quot;.</p>\n<p>my RoleServiceImplement.Class :</p>\n<pre><code>@Override\n    public Role save(RoleDAO roleDAO) throws DuplicatException\n    {\n\n        Optional&lt;Role&gt; cekRole = roleRepository.findByName(roleDAO.getName());\n        if(cekRole.isPresent()){\n            throw  new RuntimeException(&quot;Already registered&quot;);\n        }\n        Date now = new Date();\n        Role role = new Role();\n        role.setCreatedBy(roleDAO.getCreatedBy());\n        role.setModifiedBy(roleDAO.getModifiedBy());\n        role.setStatus(&quot;1&quot;);\n        role.setName(roleDAO.getName());\n        role.setDescription(roleDAO.getDescription());\n        role.setCreatedAt(now);\n        role.setUpdatedAt(now);\n        roleRepository.save(role);\n        return role;\n    }\n</code></pre>\n<p>My Unit test:</p>\n<pre><code>    @Mock\n    private RoleRepository roleRepository;\n\n    @InjectMocks\n    private RoleServiceImplement roleService;\n\n    @DisplayName(&quot;Duplicate Role&quot;)\n    @Test\n    public void duplicate_role_name_throw_errors() throws Exception{\n      RoleDAO role1 = new RoleDAO();\n      role1.setName(&quot;test&quot;);\n      role1.setDescription(&quot;test&quot;);\n      role1.setCreatedBy(&quot;test&quot;);\n      role1.setModifiedBy(&quot;test&quot;);\n\n      RoleDAO role2 = new RoleDAO();\n      role2.setName(&quot;test&quot;);\n      role2.setDescription(&quot;test&quot;);\n      role2.setCreatedBy(&quot;test&quot;);\n      role2.setModifiedBy(&quot;test&quot;);\n\n      DuplicatException thrown = Assertions.assertThrows(DuplicatException.class, () -&gt; {\n        roleService.save(role1);\n        roleService.save(role2);\n        });\n      }\n</code></pre>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":280581,"reputation":3054,"user_id":576369,"display_name":"S.P."},"score":0,"creation_date":1331786796,"post_id":9714093,"comment_id":12348974,"body_markdown":"Check this link. Has some good points on how to go about fixing it http://ourcraft.wordpress.com/2009/01/23/object-is-not-an-instance-of-declaring-class/","body":"Check this link. Has some good points on how to go about fixing it <a href=\"http://ourcraft.wordpress.com/2009/01/23/object-is-not-an-instance-of-declaring-class/\" rel=\"nofollow noreferrer\">ourcraft.wordpress.com/2009/01/23/&hellip;</a>"},{"owner":{"account_id":80219,"reputation":34027,"user_id":226975,"accept_rate":80,"display_name":"Wyzard"},"score":0,"creation_date":1331787055,"post_id":9714093,"comment_id":12349027,"body_markdown":"I edited the tags to better categorize the question.  You should bear in mind that each tag stands on its own; they don&#39;t form a sentence.  (It doesn&#39;t make sense to group a question about &quot;instance&quot; with other questions about &quot;instance&quot;, for example.  But it *does* make sense to group a question about Java with other questions about Java.)","body":"I edited the tags to better categorize the question.  You should bear in mind that each tag stands on its own; they don&#39;t form a sentence.  (It doesn&#39;t make sense to group a question about &quot;instance&quot; with other questions about &quot;instance&quot;, for example.  But it <i>does</i> make sense to group a question about Java with other questions about Java.)"}],"answers":[{"tags":[],"owner":{"account_id":80219,"reputation":34027,"user_id":226975,"accept_rate":80,"display_name":"Wyzard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1331786744,"creation_date":1331786744,"answer_id":9714116,"question_id":9714093,"body_markdown":"`Class` has a `newInstance()` method that you can call to create an instance of the class using its default constructor.  Or, you can call `getConstructor()` or `getConstructors()` to find a constructor that takes the right kind of arguments, and then call `newInstance()` on the `Constructor` object, passing the construction arguments.","title":"how to convert Class to Instance Object","body":"<p><code>Class</code> has a <code>newInstance()</code> method that you can call to create an instance of the class using its default constructor.  Or, you can call <code>getConstructor()</code> or <code>getConstructors()</code> to find a constructor that takes the right kind of arguments, and then call <code>newInstance()</code> on the <code>Constructor</code> object, passing the construction arguments.</p>\n"},{"tags":[],"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1331786764,"creation_date":1331786764,"answer_id":9714119,"question_id":9714093,"body_markdown":"If `PerformanceInvokeService` has an accessible default constructor, you can create a new instance using:\r\n\r\n    Object instance = c.newInstance();\r\n\r\nYou can then pass that to the method invocation:\r\n\r\n    Object ret = m.invoke(instance, new Object[] { &quot;some string&quot;, new Date() });\r\n\r\nIf there is no accessible default constructor, then you&#39;ll have to find a constructor that you can use by using reflection.","title":"how to convert Class to Instance Object","body":"<p>If <code>PerformanceInvokeService</code> has an accessible default constructor, you can create a new instance using:</p>\n\n<pre><code>Object instance = c.newInstance();\n</code></pre>\n\n<p>You can then pass that to the method invocation:</p>\n\n<pre><code>Object ret = m.invoke(instance, new Object[] { \"some string\", new Date() });\n</code></pre>\n\n<p>If there is no accessible default constructor, then you'll have to find a constructor that you can use by using reflection.</p>\n"},{"tags":[],"owner":{"account_id":1095084,"reputation":2277,"user_id":1088846,"accept_rate":100,"display_name":"Jochen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1331786811,"creation_date":1331786811,"answer_id":9714125,"question_id":9714093,"body_markdown":"You need to add\r\n\r\n    Object myInstance = c.newInstance();\r\n\r\nThis will call the default constructor and create a new object. Then you can use this as the first argument in \r\n\r\n    m.invoke()","title":"how to convert Class to Instance Object","body":"<p>You need to add</p>\n\n<pre><code>Object myInstance = c.newInstance();\n</code></pre>\n\n<p>This will call the default constructor and create a new object. Then you can use this as the first argument in </p>\n\n<pre><code>m.invoke()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3918931,"reputation":620,"user_id":3242022,"display_name":"downvoteit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695623613,"creation_date":1695623613,"answer_id":77170320,"question_id":9714093,"body_markdown":"On newer versions of Java try this:\r\n\r\n- Assuming `resultClass` stands for `Class&lt;T&gt; resultClass`\r\n- Reason for doing so is that `Class.newInstance` is now deprecated (since Java 9)\r\n\r\n```\r\ntry {\r\n  content.add(resultClass.getDeclaredConstructor().newInstance());\r\n} catch (Exception e) {\r\n  log.catching(e);\r\n}\r\n```\r\n\r\nP.S. Perhaps catching with `Exception` is excessive.","title":"how to convert Class to Instance Object","body":"<p>On newer versions of Java try this:</p>\n<ul>\n<li>Assuming <code>resultClass</code> stands for <code>Class&lt;T&gt; resultClass</code></li>\n<li>Reason for doing so is that <code>Class.newInstance</code> is now deprecated (since Java 9)</li>\n</ul>\n<pre><code>try {\n  content.add(resultClass.getDeclaredConstructor().newInstance());\n} catch (Exception e) {\n  log.catching(e);\n}\n</code></pre>\n<p>P.S. Perhaps catching with <code>Exception</code> is excessive.</p>\n"}],"owner":{"account_id":1241573,"reputation":69,"user_id":1204050,"display_name":"Poringe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23285,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":9714119,"answer_count":4,"score":4,"last_activity_date":1695623613,"creation_date":1331786556,"question_id":9714093,"body_markdown":"take a look at my code....\r\n\r\n        Class&lt;?&gt; c = Class.forName(&quot;PerformanceInvokeService&quot;);\r\n\r\n\t\tMethod m = c.getDeclaredMethod(&quot;monthlyTestCal&quot;, new Class[] {\r\n\t\t\t\tString.class, Date.class });\r\n\t\tObject ret = m.invoke(&quot;PerformanceInvokeService&quot;, new Object[] {\r\n\t\t\t\t&quot;some string&quot;, new Date() });\r\n\t\tSystem.out.println(ret);\r\n    \t\t\t\r\ni execute this and its thrown an exception\r\n\r\n    java.lang.IllegalArgumentException: object is not an instance of declaring class\r\n\r\ni think, because i don&#39;t create an instance of c (likes...new PerformanceInvokeService())\r\nand i don&#39;t know how to create it\r\n\r\nsomebody help? \r\n\r\nsorry for my english...\r\n\r\nthanks","title":"how to convert Class to Instance Object","body":"<p>take a look at my code....</p>\n\n<pre><code>    Class&lt;?&gt; c = Class.forName(\"PerformanceInvokeService\");\n\n    Method m = c.getDeclaredMethod(\"monthlyTestCal\", new Class[] {\n            String.class, Date.class });\n    Object ret = m.invoke(\"PerformanceInvokeService\", new Object[] {\n            \"some string\", new Date() });\n    System.out.println(ret);\n</code></pre>\n\n<p>i execute this and its thrown an exception</p>\n\n<pre><code>java.lang.IllegalArgumentException: object is not an instance of declaring class\n</code></pre>\n\n<p>i think, because i don't create an instance of c (likes...new PerformanceInvokeService())\nand i don't know how to create it</p>\n\n<p>somebody help? </p>\n\n<p>sorry for my english...</p>\n\n<p>thanks</p>\n"},{"tags":["java","android","reflection"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1695625414,"post_id":77170270,"comment_id":136044070,"body_markdown":"How do you know the field exist? The error seem to indicate that there is so filed of that name, so may be you were looking at code that is not installed on your device.","body":"How do you know the field exist? The error seem to indicate that there is so filed of that name, so may be you were looking at code that is not installed on your device."}],"owner":{"account_id":8365629,"reputation":23,"user_id":6282436,"display_name":"Cosmin C."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695622987,"creation_date":1695622987,"question_id":77170270,"body_markdown":"I am trying to access private field mRadialTimePickerModeButton in android.widget.TimePickerClockDelegate\r\n\r\nTimePickerClockDelegate is a non public class extending TimePicker.AbstractTimePickerDelegate which implements TimePicker.TimePickerDelegate\r\n\r\nI cannot make a new instance of this, I need to modify that field on this particular instance.\r\n\r\nI tried accessing it like this:\r\n\r\n\r\n```\r\nField field = TimePickerDialog.class.getDeclaredField(&quot;mTimePicker&quot;);\r\nfield.setAccessible(true);\r\nTimePicker timePicker = (TimePicker) field.get(this);\r\n\r\nField delegateField = TimePicker.class.getDeclaredField(&quot;mDelegate&quot;);\r\ndelegateField.setAccessible(true);\r\nObject delegate = delegateField.get(timePicker);\r\n\r\nField buttonField = delegate.getClass().getDeclaredField(&quot;mRadialTimePickerModeButton&quot;);\r\nbuttonField.setAccessible(true);\r\nImageButton radialTimePickerModeButton = (ImageButton) buttonField.get(delegate);\r\n```\r\n\r\nGetting: No field mRadialTimePickerModeButton in class Landroid/widget/TimePickerClockDelegate; (declaration of &#39;android.widget.TimePickerClockDelegate&#39; appears in /system/framework/framework.jar!classes4.dex)","title":"Access field in non public class through reflection","body":"<p>I am trying to access private field mRadialTimePickerModeButton in android.widget.TimePickerClockDelegate</p>\n<p>TimePickerClockDelegate is a non public class extending TimePicker.AbstractTimePickerDelegate which implements TimePicker.TimePickerDelegate</p>\n<p>I cannot make a new instance of this, I need to modify that field on this particular instance.</p>\n<p>I tried accessing it like this:</p>\n<pre><code>Field field = TimePickerDialog.class.getDeclaredField(&quot;mTimePicker&quot;);\nfield.setAccessible(true);\nTimePicker timePicker = (TimePicker) field.get(this);\n\nField delegateField = TimePicker.class.getDeclaredField(&quot;mDelegate&quot;);\ndelegateField.setAccessible(true);\nObject delegate = delegateField.get(timePicker);\n\nField buttonField = delegate.getClass().getDeclaredField(&quot;mRadialTimePickerModeButton&quot;);\nbuttonField.setAccessible(true);\nImageButton radialTimePickerModeButton = (ImageButton) buttonField.get(delegate);\n</code></pre>\n<p>Getting: No field mRadialTimePickerModeButton in class Landroid/widget/TimePickerClockDelegate; (declaration of 'android.widget.TimePickerClockDelegate' appears in /system/framework/framework.jar!classes4.dex)</p>\n"},{"tags":["java","string","recursion"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":1,"creation_date":1695598593,"post_id":77169277,"comment_id":136041690,"body_markdown":"`str.charAt(0) == open &amp;&amp; str.charAt(1) == close` will only ever be true if you have nothing in between those enclosing characters. Sit down with a bit of pen and paper, and draw out each iteration instead of looking at your code: start with `&quot;hello (there] sir&quot;` and move up one character at a time: at what point do you hit an opener? And where is the closer when that happens? Do you keep going? If so, until when?","body":"<code>str.charAt(0) == open &amp;&amp; str.charAt(1) == close</code> will only ever be true if you have nothing in between those enclosing characters. Sit down with a bit of pen and paper, and draw out each iteration instead of looking at your code: start with <code>&quot;hello (there] sir&quot;</code> and move up one character at a time: at what point do you hit an opener? And where is the closer when that happens? Do you keep going? If so, until when?"},{"owner":{"account_id":20115535,"reputation":1,"user_id":14751078,"display_name":"ComputerScienceHelp"},"score":0,"creation_date":1695599045,"post_id":77169277,"comment_id":136041726,"body_markdown":"hmm I&#39;ve tried this basically I expect my code to stop the iteration once I reach the end character so must I compare every character I am going to add to the string with the last character how would I go about this??","body":"hmm I&#39;ve tried this basically I expect my code to stop the iteration once I reach the end character so must I compare every character I am going to add to the string with the last character how would I go about this??"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1695599629,"post_id":77169277,"comment_id":136041772,"body_markdown":"Pretty much like that: you check if the first character is the closing character, and if it&#39;s not that character is part of your return value. If it is, you&#39;re done and you can stop recursing.","body":"Pretty much like that: you check if the first character is the closing character, and if it&#39;s not that character is part of your return value. If it is, you&#39;re done and you can stop recursing."},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1695607004,"post_id":77169277,"comment_id":136042369,"body_markdown":"The problem as stated __does not make sense__ - nothing about the problem statement is eligible for any sort of recursive algorithm. A slight variation on the question at least makes sense (&quot;A string is provided that is surrounded by __any amount of__ open/close pairs. Return the string with all the pairs removed&quot;), i.e. given: `&quot;(((((abc))))&quot;`, `(`, `)` - return the value `&quot;(abc&quot;`.","body":"The problem as stated <b>does not make sense</b> - nothing about the problem statement is eligible for any sort of recursive algorithm. A slight variation on the question at least makes sense (&quot;A string is provided that is surrounded by <b>any amount of</b> open/close pairs. Return the string with all the pairs removed&quot;), i.e. given: <code>&quot;(((((abc))))&quot;</code>, <code>(</code>, <code>)</code> - return the value <code>&quot;(abc&quot;</code>."},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1695607080,"post_id":77169277,"comment_id":136042376,"body_markdown":"We can bend over backwards and cook something up that&#39;s technically recursive but it wouldn&#39;t be sane by any reasonable definition. Perhaps go back to the source and check if you understood the task correctly.","body":"We can bend over backwards and cook something up that&#39;s technically recursive but it wouldn&#39;t be sane by any reasonable definition. Perhaps go back to the source and check if you understood the task correctly."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695600080,"creation_date":1695600080,"answer_id":77169340,"question_id":77169277,"body_markdown":"&gt; _&quot;... I have this but its not working I think I need to create a whole new string that goes through the length of the substring ...&quot;_\r\n\r\nEssentially, return _str_ when either _open_ or _close_ is not found.\\\r\nOtherwise, send the _substring_ to the method.\r\n\r\n```java\r\nString getSubstring(String str, char open, char close) {\r\n    if (str.length() &lt; 2) return str;\r\n    int i = str.indexOf(open), j = str.indexOf(close);\r\n    if (Math.min(i, j) == -1) return str;\r\n    return getSubstring(str.substring(i + 1, j), open, close);\r\n}\r\n```","title":"Recursive java method for strings","body":"<blockquote>\n<p><em>&quot;... I have this but its not working I think I need to create a whole new string that goes through the length of the substring ...&quot;</em></p>\n</blockquote>\n<p>Essentially, return <em>str</em> when either <em>open</em> or <em>close</em> is not found.<br />\nOtherwise, send the <em>substring</em> to the method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String getSubstring(String str, char open, char close) {\n    if (str.length() &lt; 2) return str;\n    int i = str.indexOf(open), j = str.indexOf(close);\n    if (Math.min(i, j) == -1) return str;\n    return getSubstring(str.substring(i + 1, j), open, close);\n}\n</code></pre>\n"}],"owner":{"account_id":20115535,"reputation":1,"user_id":14751078,"display_name":"ComputerScienceHelp"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695622835,"creation_date":1695597963,"question_id":77169277,"body_markdown":"So im stuck on this recursive java method so I am are to write a recursion that gets a string and two characters and returns the substring that is enclosed in two given characters. You can assume that the given string includes only one instance of each enclosing characters.\r\nFor example, if the input string is “Hello (there] how are you?” and the first enclosing character is &#39;(&#39; and the second is &#39;]&#39;, it should return “there”\r\n\r\n```java\r\npublic static String getSubstring(String str, char open, char close) {\r\n  if(str.length() &lt; 2) {\r\n    return &quot;&quot;;\r\n  } else {\r\n    if (str.length()&gt;= 2 &amp;&amp; str.charAt(0) == open &amp;&amp; str.charAt(1) == close){\r\n      return &quot;&quot;;\r\n    }\r\n  }\r\n  return getSubstring(str.substring(1), open, close);\r\n}\r\n```\r\n\r\nI have this but its not working I think I need to create a whole new string that goes through the length of the substring I also have something like this \r\n\r\n```java\r\npublic static String getSubstring(String str, char open, char close) {\r\n  int openIndex = str.indexOf(open);\r\n  int closeIndex = str.indexOf(close);\r\n  \r\n  if(str.length() &lt; 2) {\r\n    return &quot;&quot;;\r\n  } \r\n\r\n  String newString = newString + str.substring(openIndex, openIndex + 1) ;\r\n}\r\n```\r\n\r\nbut I dont know where to go from here\r\n","title":"Recursive java method for strings","body":"<p>So im stuck on this recursive java method so I am are to write a recursion that gets a string and two characters and returns the substring that is enclosed in two given characters. You can assume that the given string includes only one instance of each enclosing characters.\nFor example, if the input string is “Hello (there] how are you?” and the first enclosing character is '(' and the second is ']', it should return “there”</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String getSubstring(String str, char open, char close) {\n  if(str.length() &lt; 2) {\n    return &quot;&quot;;\n  } else {\n    if (str.length()&gt;= 2 &amp;&amp; str.charAt(0) == open &amp;&amp; str.charAt(1) == close){\n      return &quot;&quot;;\n    }\n  }\n  return getSubstring(str.substring(1), open, close);\n}\n</code></pre>\n<p>I have this but its not working I think I need to create a whole new string that goes through the length of the substring I also have something like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String getSubstring(String str, char open, char close) {\n  int openIndex = str.indexOf(open);\n  int closeIndex = str.indexOf(close);\n  \n  if(str.length() &lt; 2) {\n    return &quot;&quot;;\n  } \n\n  String newString = newString + str.substring(openIndex, openIndex + 1) ;\n}\n</code></pre>\n<p>but I dont know where to go from here</p>\n"},{"tags":["java","postgresql","amazon-web-services","spring-boot","amazon-rds"],"comments":[{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":0,"creation_date":1694399234,"post_id":77078130,"comment_id":135881383,"body_markdown":"The error with psql is clearly a client configuration problem.  It is hard to see how that could have anything to do with the change on the server.","body":"The error with psql is clearly a client configuration problem.  It is hard to see how that could have anything to do with the change on the server."},{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":0,"creation_date":1694399263,"post_id":77078130,"comment_id":135881386,"body_markdown":"What error message is found in the server log file?  That will often be more informative than the one reported by the client.","body":"What error message is found in the server log file?  That will often be more informative than the one reported by the client."}],"answers":[{"tags":[],"owner":{"account_id":24482061,"reputation":11,"user_id":18400319,"display_name":"Ishan Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694397862,"creation_date":1694397862,"answer_id":77078553,"question_id":77078130,"body_markdown":"For running application in local, add **?sslmode=disable** after {DATABASE_NAME} in spring.datasource.url","title":"SpringBoot, Hibernate and AWS RDS (Aurora) with new CA rds-ca-ecc384-g1","body":"<p>For running application in local, add <strong>?sslmode=disable</strong> after {DATABASE_NAME} in spring.datasource.url</p>\n"},{"tags":[],"owner":{"account_id":14513514,"reputation":1,"user_id":10483249,"display_name":"samuh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694505505,"creation_date":1694505505,"answer_id":77087092,"question_id":77078130,"body_markdown":"As a workaround for Postgres DBs I used the **rds-ca-rsa4096-g1** encryption instead of rds-ca-ecc384-g1. ","title":"SpringBoot, Hibernate and AWS RDS (Aurora) with new CA rds-ca-ecc384-g1","body":"<p>As a workaround for Postgres DBs I used the <strong>rds-ca-rsa4096-g1</strong> encryption instead of rds-ca-ecc384-g1.</p>\n"},{"tags":[],"owner":{"account_id":29231591,"reputation":1,"user_id":22395173,"display_name":"Alexandre Peixoto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694656538,"creation_date":1694656538,"answer_id":77101360,"question_id":77078130,"body_markdown":"I had the same problem last week. In my case i changed it to **rds-ca-2019** and it worked again","title":"SpringBoot, Hibernate and AWS RDS (Aurora) with new CA rds-ca-ecc384-g1","body":"<p>I had the same problem last week. In my case i changed it to <strong>rds-ca-2019</strong> and it worked again</p>\n"},{"tags":[],"owner":{"account_id":1462711,"reputation":10997,"user_id":1376536,"accept_rate":62,"display_name":"Foo L"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695622819,"creation_date":1695113267,"answer_id":77133016,"question_id":77078130,"body_markdown":"I had the same problem when I tried to connect a java app to my Postgres RDS instance after the point and click AWS CA update. AWS updated the CA to `rds-ca-ecc384-g1`. Changing it to `rds-ca-rsa2048-g1` solved the issue. It expires in year 2061 instead of 2121, so it should give us a little bit of time.\r\n\r\nIf you&#39;re in the AWS console, click on an instance of your database, then click Modify on the top right. Scroll down to &quot;Connectivity&quot; section and change it to `rds-ca-rsa2048-g1`. Click Continue on the bottom. &quot;Apply Immediately&quot;, then &quot;Modify DB Instance&quot;. Wait for AWS to apply changes. For my case, I didn&#39;t need to restart the db, just the application.\r\n\r\nIt seems some libraries can&#39;t negotiate the more complex algorithms. I had a psycopg2 app that had no problems with the `rds-ca-ecc384-g1` CA.","title":"SpringBoot, Hibernate and AWS RDS (Aurora) with new CA rds-ca-ecc384-g1","body":"<p>I had the same problem when I tried to connect a java app to my Postgres RDS instance after the point and click AWS CA update. AWS updated the CA to <code>rds-ca-ecc384-g1</code>. Changing it to <code>rds-ca-rsa2048-g1</code> solved the issue. It expires in year 2061 instead of 2121, so it should give us a little bit of time.</p>\n<p>If you're in the AWS console, click on an instance of your database, then click Modify on the top right. Scroll down to &quot;Connectivity&quot; section and change it to <code>rds-ca-rsa2048-g1</code>. Click Continue on the bottom. &quot;Apply Immediately&quot;, then &quot;Modify DB Instance&quot;. Wait for AWS to apply changes. For my case, I didn't need to restart the db, just the application.</p>\n<p>It seems some libraries can't negotiate the more complex algorithms. I had a psycopg2 app that had no problems with the <code>rds-ca-ecc384-g1</code> CA.</p>\n"}],"owner":{"account_id":113272,"reputation":67818,"user_id":298406,"accept_rate":79,"display_name":"Mark"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":601,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1695622819,"creation_date":1694385917,"question_id":77078130,"body_markdown":"I have a SpringBoot application that communicates to PostgreSQL with the following configuration, deployed via AWS BeanStalk:\r\n\r\n\r\n```\r\nspring.datasource.url=jdbc:postgresql://{SUBDOMAIN}.us-east-2.rds.amazonaws.com:5432/{DATABASE_NAME}\r\nspring.datasource.username={USER}\r\nspring.datasource.password={PASSWORD}\r\nspring.datasource.hikari.maximum-pool-size=2\r\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation= true\r\nspring.jpa.properties.hibernate.dialect= org.hibernate.dialect.PostgreSQLDialect\r\nspring.jpa.properties.hibernate.show_sql=true\r\nspring.jpa.open-in-view=false\r\nspring.jpa.hibernate.ddl-auto=create\r\n```\r\n\r\nEverything was going well until I have updated the AWS Aurora certificate to `rds-ca-ecc384-g1`, and now I seemingly cannot connect to Postgres anymore.\r\n\r\nThe error I receive is:\r\n\r\n```\r\norg.postgresql.util.PSQLException: SSL error: Received fatal alert: handshake_failure\r\n\tat org.postgresql.ssl.MakeSSL.convert(MakeSSL.java:43) ~[postgresql-42.5.4.jar!/:42.5.4]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:620) ~[postgresql-42.5.4.jar!/:42.5.4]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:191) ~[postgresql-42.5.4.jar!/:42.5.4]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258) ~[postgresql-42.5.4.jar!/:42.5.4]\r\n\tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54) ~[postgresql-42.5.4.jar!/:42.5.4]\r\n\tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:253) ~[postgresql-42.5.4.jar!/:42.5.4]\r\n\tat org.postgresql.Driver.makeConnection(Driver.java:434) ~[postgresql-42.5.4.jar!/:42.5.4]\r\n\tat org.postgresql.Driver.connect(Driver.java:291) ~[postgresql-42.5.4.jar!/:42.5.4]\r\n\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-5.0.1.jar!/:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar!/:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar!/:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar!/:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar!/:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100) ~[HikariCP-5.0.1.jar!/:na]\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar!/:na]\r\n\tat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:284) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:177) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:36) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:255) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:230) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:207) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\r\n\tat org.hibernate.boot.model.relational.Database.&lt;init&gt;(Database.java:44) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:218) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:191) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:138) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1348) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1419) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.11.jar!/:6.0.11]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.11.jar!/:6.0.11]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.11.jar!/:6.0.11]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.11.jar!/:6.0.11]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.11.jar!/:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar!/:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar!/:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar!/:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar!/:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar!/:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar!/:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar!/:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar!/:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar!/:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar!/:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar!/:6.0.11]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.10.jar!/:3.0.10]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.10.jar!/:3.0.10]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.10.jar!/:3.0.10]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.10.jar!/:3.0.10]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.10.jar!/:3.0.10]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.10.jar!/:3.0.10]\r\n\tat com.app.Main.main(Main.java:18) ~[classes!/:1.0-SNAPSHOT]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[main-1.0-SNAPSHOT.jar:1.0-SNAPSHOT]\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:95) ~[main-1.0-SNAPSHOT.jar:1.0-SNAPSHOT]\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[main-1.0-SNAPSHOT.jar:1.0-SNAPSHOT]\r\n\tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[main-1.0-SNAPSHOT.jar:1.0-SNAPSHOT]\r\nCaused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\n\tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131) ~[na:na]\r\n\tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117) ~[na:na]\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:365) ~[na:na]\r\n\tat java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293) ~[na:na]\r\n\tat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:204) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1510) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1425) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426) ~[na:na]\r\n\tat org.postgresql.ssl.MakeSSL.convert(MakeSSL.java:41) ~[postgresql-42.5.4.jar!/:42.5.4]\r\n\t... 59 common frames omitted\r\n```\r\n\r\nWhen I connect manually via `psql` to the database from the same machine, this happens:\r\n\r\n```\r\n$ PGSSLMODE=verify-full psql -h {SUBDOMAIN}.us-east-2.rds.amazonaws.com -p 5432 -U {USER} -W {DATABASE_NAME}\r\nPassword:\r\npsql: error: connection to server at &quot;{SUBDOMAIN}.us-east-2.rds.amazonaws.com&quot; (10.0.156.184), port 5432 failed: root certificate file &quot;/home/ec2-user/.postgresql/root.crt&quot; does not exist\r\nEither provide the file or change sslmode to disable server certificate verification.\r\n```\r\n","title":"SpringBoot, Hibernate and AWS RDS (Aurora) with new CA rds-ca-ecc384-g1","body":"<p>I have a SpringBoot application that communicates to PostgreSQL with the following configuration, deployed via AWS BeanStalk:</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://{SUBDOMAIN}.us-east-2.rds.amazonaws.com:5432/{DATABASE_NAME}\nspring.datasource.username={USER}\nspring.datasource.password={PASSWORD}\nspring.datasource.hikari.maximum-pool-size=2\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation= true\nspring.jpa.properties.hibernate.dialect= org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.properties.hibernate.show_sql=true\nspring.jpa.open-in-view=false\nspring.jpa.hibernate.ddl-auto=create\n</code></pre>\n<p>Everything was going well until I have updated the AWS Aurora certificate to <code>rds-ca-ecc384-g1</code>, and now I seemingly cannot connect to Postgres anymore.</p>\n<p>The error I receive is:</p>\n<pre><code>org.postgresql.util.PSQLException: SSL error: Received fatal alert: handshake_failure\n    at org.postgresql.ssl.MakeSSL.convert(MakeSSL.java:43) ~[postgresql-42.5.4.jar!/:42.5.4]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:620) ~[postgresql-42.5.4.jar!/:42.5.4]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:191) ~[postgresql-42.5.4.jar!/:42.5.4]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258) ~[postgresql-42.5.4.jar!/:42.5.4]\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54) ~[postgresql-42.5.4.jar!/:42.5.4]\n    at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:253) ~[postgresql-42.5.4.jar!/:42.5.4]\n    at org.postgresql.Driver.makeConnection(Driver.java:434) ~[postgresql-42.5.4.jar!/:42.5.4]\n    at org.postgresql.Driver.connect(Driver.java:291) ~[postgresql-42.5.4.jar!/:42.5.4]\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-5.0.1.jar!/:na]\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar!/:na]\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar!/:na]\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar!/:na]\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar!/:na]\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100) ~[HikariCP-5.0.1.jar!/:na]\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar!/:na]\n    at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:284) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:177) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:36) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:255) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:230) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:207) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\n    at org.hibernate.boot.model.relational.Database.&lt;init&gt;(Database.java:44) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:218) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:191) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:138) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1348) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1419) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.11.jar!/:6.0.11]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.11.jar!/:6.0.11]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.11.jar!/:6.0.11]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.11.jar!/:6.0.11]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.11.jar!/:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar!/:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar!/:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar!/:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar!/:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar!/:6.0.11]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar!/:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar!/:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar!/:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar!/:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar!/:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar!/:6.0.11]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.10.jar!/:3.0.10]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.10.jar!/:3.0.10]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.10.jar!/:3.0.10]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.10.jar!/:3.0.10]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.10.jar!/:3.0.10]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.10.jar!/:3.0.10]\n    at com.app.Main.main(Main.java:18) ~[classes!/:1.0-SNAPSHOT]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[main-1.0-SNAPSHOT.jar:1.0-SNAPSHOT]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:95) ~[main-1.0-SNAPSHOT.jar:1.0-SNAPSHOT]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[main-1.0-SNAPSHOT.jar:1.0-SNAPSHOT]\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[main-1.0-SNAPSHOT.jar:1.0-SNAPSHOT]\nCaused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131) ~[na:na]\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117) ~[na:na]\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:365) ~[na:na]\n    at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293) ~[na:na]\n    at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:204) ~[na:na]\n    at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1510) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1425) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426) ~[na:na]\n    at org.postgresql.ssl.MakeSSL.convert(MakeSSL.java:41) ~[postgresql-42.5.4.jar!/:42.5.4]\n    ... 59 common frames omitted\n</code></pre>\n<p>When I connect manually via <code>psql</code> to the database from the same machine, this happens:</p>\n<pre><code>$ PGSSLMODE=verify-full psql -h {SUBDOMAIN}.us-east-2.rds.amazonaws.com -p 5432 -U {USER} -W {DATABASE_NAME}\nPassword:\npsql: error: connection to server at &quot;{SUBDOMAIN}.us-east-2.rds.amazonaws.com&quot; (10.0.156.184), port 5432 failed: root certificate file &quot;/home/ec2-user/.postgresql/root.crt&quot; does not exist\nEither provide the file or change sslmode to disable server certificate verification.\n</code></pre>\n"},{"tags":["java","bukkit"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695610361,"post_id":77167305,"comment_id":136042633,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695622394,"creation_date":1695622394,"answer_id":77170235,"question_id":77167305,"body_markdown":"You should **NEVER** use the `Thread.sleep` method on spigot. It stop the all server.\r\n\r\nYou need to use Scheduler ([Tutorial](https://www.spigotmc.org/wiki/scheduler-programming/) - Javadoc: [`BukkitScheduler`](https://hub.spigotmc.org/javadocs/spigot/org/bukkit/scheduler/BukkitScheduler.html)) :\r\n```java\r\n@EventHandler\r\npublic void check(BlockPlaceEvent e) {\r\n  Material blockType = e.getBlockPlaced().getType();\r\n  int locationX = e.getBlockPlaced().getLocation().getBlockX();\r\n  int locationY = e.getBlockPlaced().getLocation().getBlockY();\r\n  int locationZ = e.getBlockPlaced().getLocation().getBlockZ();\r\n  String locationXb = String.valueOf(locationX);\r\n  String locationYb = String.valueOf(locationY);\r\n  String locationZb = String.valueOf(locationZ);\r\n  World world = e.getPlayer().getWorld();\r\n  if ((blockType == Material.PLAYER_HEAD) || (blockType == Material.PLAYER_WALL_HEAD)) {\r\n    Bukkit.getScheduler().runTaskLater(MyPlugin.getInstance(), () -&gt; {\r\n      Material block = world.getBlockAt(locationX, locationY, locationZ).getType();\r\n      if ((block == Material.PLAYER_WALL_HEAD) || (block == Material.PLAYER_HEAD)) {\r\n        //empty\r\n      } else {\r\n        Bukkit.dispatchCommand(Bukkit.getConsoleSender(), command);\r\n      }\r\n    }, 20);\r\n  }\r\n}\r\n```\r\nWhere:\r\n- `MyPlugin.getInstance()` is to get the instance of your JavaPlugin, it&#39;s also mostly called as `plugin` variable.\r\n- `() -&gt; {}` is what will be run\r\n- `20` is the time (in ticks) that the server should wait. 20 ticks = 1 second.","title":"Check if block is still in the world after delay","body":"<p>You should <strong>NEVER</strong> use the <code>Thread.sleep</code> method on spigot. It stop the all server.</p>\n<p>You need to use Scheduler (<a href=\"https://www.spigotmc.org/wiki/scheduler-programming/\" rel=\"nofollow noreferrer\">Tutorial</a> - Javadoc: <a href=\"https://hub.spigotmc.org/javadocs/spigot/org/bukkit/scheduler/BukkitScheduler.html\" rel=\"nofollow noreferrer\"><code>BukkitScheduler</code></a>) :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EventHandler\npublic void check(BlockPlaceEvent e) {\n  Material blockType = e.getBlockPlaced().getType();\n  int locationX = e.getBlockPlaced().getLocation().getBlockX();\n  int locationY = e.getBlockPlaced().getLocation().getBlockY();\n  int locationZ = e.getBlockPlaced().getLocation().getBlockZ();\n  String locationXb = String.valueOf(locationX);\n  String locationYb = String.valueOf(locationY);\n  String locationZb = String.valueOf(locationZ);\n  World world = e.getPlayer().getWorld();\n  if ((blockType == Material.PLAYER_HEAD) || (blockType == Material.PLAYER_WALL_HEAD)) {\n    Bukkit.getScheduler().runTaskLater(MyPlugin.getInstance(), () -&gt; {\n      Material block = world.getBlockAt(locationX, locationY, locationZ).getType();\n      if ((block == Material.PLAYER_WALL_HEAD) || (block == Material.PLAYER_HEAD)) {\n        //empty\n      } else {\n        Bukkit.dispatchCommand(Bukkit.getConsoleSender(), command);\n      }\n    }, 20);\n  }\n}\n</code></pre>\n<p>Where:</p>\n<ul>\n<li><code>MyPlugin.getInstance()</code> is to get the instance of your JavaPlugin, it's also mostly called as <code>plugin</code> variable.</li>\n<li><code>() -&gt; {}</code> is what will be run</li>\n<li><code>20</code> is the time (in ticks) that the server should wait. 20 ticks = 1 second.</li>\n</ul>\n"}],"owner":{"account_id":29522491,"reputation":3,"user_id":22624951,"display_name":"Larssie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":77170235,"answer_count":1,"score":-2,"last_activity_date":1695622394,"creation_date":1695562349,"question_id":77167305,"body_markdown":"I want to check if a block that&#39;s placed is still there after a short delay and execute a command\r\n\r\nI have tried with sleep but it just gives the block that was there before the delay\r\n\r\n```\r\npublic class BlockListener implements Listener {\r\n    @EventHandler\r\n    public void check(BlockPlaceEvent e)\r\n    {          \r\n      Material blockType = e.getBlockPlaced().getType();\r\n      int locationX = e.getBlockPlaced().getLocation().getBlockX();\r\n      int locationY = e.getBlockPlaced().getLocation().getBlockY();\r\n      int locationZ = e.getBlockPlaced().getLocation().getBlockZ();\r\n      String locationXb = String.valueOf(locationX);\r\n      String locationYb = String.valueOf(locationY);\r\n      String locationZb = String.valueOf(locationZ);\r\n      World world = e.getPlayer().getWorld();          \r\n      if ((blockType == Material.PLAYER_HEAD) || (blockType == Material.PLAYER_WALL_HEAD))\r\n        {\r\n          try\r\n          {\r\n            Thread.sleep(1000);\r\n          }\r\n          catch (InterruptedException ex)\r\n          {\r\n            \r\n          }\r\n          Material block = world.getBlockAt(locationX, locationY, locationZ).getType();\r\n          if((block == Material.PLAYER_WALL_HEAD) || (block == Material.PLAYER_HEAD)){\r\n             //empty\r\n          }\r\n          else {\r\n            Bukkit.dispatchCommand(Bukkit.getConsoleSender(), command);\r\n          }\r\n        }\r\n      }\r\n```\r\n","title":"Check if block is still in the world after delay","body":"<p>I want to check if a block that's placed is still there after a short delay and execute a command</p>\n<p>I have tried with sleep but it just gives the block that was there before the delay</p>\n<pre><code>public class BlockListener implements Listener {\n    @EventHandler\n    public void check(BlockPlaceEvent e)\n    {          \n      Material blockType = e.getBlockPlaced().getType();\n      int locationX = e.getBlockPlaced().getLocation().getBlockX();\n      int locationY = e.getBlockPlaced().getLocation().getBlockY();\n      int locationZ = e.getBlockPlaced().getLocation().getBlockZ();\n      String locationXb = String.valueOf(locationX);\n      String locationYb = String.valueOf(locationY);\n      String locationZb = String.valueOf(locationZ);\n      World world = e.getPlayer().getWorld();          \n      if ((blockType == Material.PLAYER_HEAD) || (blockType == Material.PLAYER_WALL_HEAD))\n        {\n          try\n          {\n            Thread.sleep(1000);\n          }\n          catch (InterruptedException ex)\n          {\n            \n          }\n          Material block = world.getBlockAt(locationX, locationY, locationZ).getType();\n          if((block == Material.PLAYER_WALL_HEAD) || (block == Material.PLAYER_HEAD)){\n             //empty\n          }\n          else {\n            Bukkit.dispatchCommand(Bukkit.getConsoleSender(), command);\n          }\n        }\n      }\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-cognito","aws-iot"],"answers":[{"tags":[],"owner":{"account_id":15575115,"reputation":445,"user_id":11236416,"display_name":"maximus383"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695622310,"creation_date":1695622310,"answer_id":77170233,"question_id":77111367,"body_markdown":"If you already have made the basic config, including AWS SDK and importing necessary libraries for it to work.\r\n\r\nYou need to initialize your AWS IoT and Cognito clients:\r\n\r\n    String userPoolId = &quot;your-user-pool-id&quot;;\r\n    String clientId = &quot;your-client-id&quot;;\r\n    String username = &quot;user-username&quot;; // username you want to authenticate\r\n    \r\n    CognitoCredentialsProvider credentialsProvider = CognitoCredentialsProvider.builder()\r\n            .clientId(clientId)\r\n            .cognitoIdentityProviderClient(yourCognitoClient)\r\n            .build();\r\n    \r\n    Region region = Region.YOUR_REGION; // Replace with your AWS region\r\n    \r\n    IotClient iotClient = IotClient.builder().region(region).build();\r\n    IotDataPlaneClient dataPlaneClient = IotDataPlaneClient.builder().region(region).build();\r\n\r\nCreate new MQTT client:\r\n\r\n    AwsIotMqttConnectionBuilder builder = AwsIotMqttConnectionBuilder.newMqttConnectionBuilder(&quot;your-iot-endpoint&quot;)\r\n            .clientId(&quot;your-client-id&quot;)\r\n            .credentialsProvider(credentialsProvider)\r\n            .region(region)\r\n            .protocol(AwsIotMqttConnectionBuilder.Protocol.WSS);\r\n\r\nMake sure the Cognito user is associated with an IoT policy. Here is an example of how you can implement the policy to Cognito user:\r\n\r\n    String policyName = &quot;your-iot-policy-name&quot;;\r\n    \r\n    AttachPolicyRequest attachPolicyRequest =\r\n    AttachPolicyRequest.builder()\r\n            .policyName(policyName)\r\n            .target(yourCognitoIdentityId) // Replace with your Cognito Identity ID\r\n            .build();\r\n     \r\n    iotClient.attachPolicy(attachPolicyRequest);\r\n\r\nConnect to AWS IoT MQTT:\r\n\r\n    AwsIotMqttConnection connection = builder.build();\r\n    connection.connect();\r\n\r\nThis is just a basic connection implementation of AWS IoT using Cognito, but it might help you figured out how to do it. :)","title":"How to use AWS IoT MQTT with AWS Cognito User Pool","body":"<p>If you already have made the basic config, including AWS SDK and importing necessary libraries for it to work.</p>\n<p>You need to initialize your AWS IoT and Cognito clients:</p>\n<pre><code>String userPoolId = &quot;your-user-pool-id&quot;;\nString clientId = &quot;your-client-id&quot;;\nString username = &quot;user-username&quot;; // username you want to authenticate\n\nCognitoCredentialsProvider credentialsProvider = CognitoCredentialsProvider.builder()\n        .clientId(clientId)\n        .cognitoIdentityProviderClient(yourCognitoClient)\n        .build();\n\nRegion region = Region.YOUR_REGION; // Replace with your AWS region\n\nIotClient iotClient = IotClient.builder().region(region).build();\nIotDataPlaneClient dataPlaneClient = IotDataPlaneClient.builder().region(region).build();\n</code></pre>\n<p>Create new MQTT client:</p>\n<pre><code>AwsIotMqttConnectionBuilder builder = AwsIotMqttConnectionBuilder.newMqttConnectionBuilder(&quot;your-iot-endpoint&quot;)\n        .clientId(&quot;your-client-id&quot;)\n        .credentialsProvider(credentialsProvider)\n        .region(region)\n        .protocol(AwsIotMqttConnectionBuilder.Protocol.WSS);\n</code></pre>\n<p>Make sure the Cognito user is associated with an IoT policy. Here is an example of how you can implement the policy to Cognito user:</p>\n<pre><code>String policyName = &quot;your-iot-policy-name&quot;;\n\nAttachPolicyRequest attachPolicyRequest =\nAttachPolicyRequest.builder()\n        .policyName(policyName)\n        .target(yourCognitoIdentityId) // Replace with your Cognito Identity ID\n        .build();\n \niotClient.attachPolicy(attachPolicyRequest);\n</code></pre>\n<p>Connect to AWS IoT MQTT:</p>\n<pre><code>AwsIotMqttConnection connection = builder.build();\nconnection.connect();\n</code></pre>\n<p>This is just a basic connection implementation of AWS IoT using Cognito, but it might help you figured out how to do it. :)</p>\n"}],"owner":{"account_id":4149669,"reputation":405,"user_id":3402502,"accept_rate":80,"display_name":"underwater ranged weapon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695622310,"creation_date":1694771433,"question_id":77111367,"body_markdown":"I might sound very dumb but from a few days, I&#39;m struggling to find out a solution on how to connect to **AWS IoT MQTT** having auth flow based on `CognitoIdentityProviderClient`. \r\n\r\nMy setup look like this:\r\n 1. **I have user pool &quot;some-user-pool&quot;**.\r\n 2. **I have an user in user pool &quot;some-user-in-user-pool&quot;**.\r\n 3. **My user pool is attached to IoT Policy &quot;some-iot-policy&quot;**.\r\n\r\nWhat next? I mean to say that I&#39;m already aware of the fact that I can connect to mqtt by certificate attached to policy but I want to use this via an user.\r\n\r\nSo I&#39;m on a step where I have final `RespondToAuthChallengeResponse` after auth flow; everything went well but I cannot figure out what to do now? What can I do to setup `AwsIotMqtt5ClientBuilder` to use user pool.\r\n\r\nI&#39;ve a code something like this\r\n```\r\nRespondToAuthChallengeResponse response =  cognitoIdentityProviderClient.respondToAuthChallenge(request)\r\n\r\n//After this, I have accessToken and idToken\r\n\r\nAwsIotMqtt5ClientBuilder builder = AwsIotMqtt5ClientBuilder.newMqttBuilder(hostname)\r\n\r\n//here I&#39;m lost on how I can setup mqtt to use the response\r\n```\r\n","title":"How to use AWS IoT MQTT with AWS Cognito User Pool","body":"<p>I might sound very dumb but from a few days, I'm struggling to find out a solution on how to connect to <strong>AWS IoT MQTT</strong> having auth flow based on <code>CognitoIdentityProviderClient</code>.</p>\n<p>My setup look like this:</p>\n<ol>\n<li><strong>I have user pool &quot;some-user-pool&quot;</strong>.</li>\n<li><strong>I have an user in user pool &quot;some-user-in-user-pool&quot;</strong>.</li>\n<li><strong>My user pool is attached to IoT Policy &quot;some-iot-policy&quot;</strong>.</li>\n</ol>\n<p>What next? I mean to say that I'm already aware of the fact that I can connect to mqtt by certificate attached to policy but I want to use this via an user.</p>\n<p>So I'm on a step where I have final <code>RespondToAuthChallengeResponse</code> after auth flow; everything went well but I cannot figure out what to do now? What can I do to setup <code>AwsIotMqtt5ClientBuilder</code> to use user pool.</p>\n<p>I've a code something like this</p>\n<pre><code>RespondToAuthChallengeResponse response =  cognitoIdentityProviderClient.respondToAuthChallenge(request)\n\n//After this, I have accessToken and idToken\n\nAwsIotMqtt5ClientBuilder builder = AwsIotMqtt5ClientBuilder.newMqttBuilder(hostname)\n\n//here I'm lost on how I can setup mqtt to use the response\n</code></pre>\n"},{"tags":["java","multithreading","javafx","concurrency","javafx-11"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1638906693,"post_id":70265896,"comment_id":124211236,"body_markdown":"It seems unlikely that a simple call to `clear()` would really take that long. (That would likely indicate some kind of bug.) Note that you cannot modify live nodes (nodes that are part of the scene graph) from a background thread, so I don’t really see the threading would help at all here. Can you post a complete, simple example we can copy and run with a simple attempt to do this (and without all the static fields, etc)? I can’t see why a standard approach to this wouldn’t work.","body":"It seems unlikely that a simple call to <code>clear()</code> would really take that long. (That would likely indicate some kind of bug.) Note that you cannot modify live nodes (nodes that are part of the scene graph) from a background thread, so I don’t really see the threading would help at all here. Can you post a complete, simple example we can copy and run with a simple attempt to do this (and without all the static fields, etc)? I can’t see why a standard approach to this wouldn’t work."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1638906874,"post_id":70265896,"comment_id":124211303,"body_markdown":"&quot;a lot of shapes(for example 1 000 000) to represent geographic data&quot; -&gt; Just my opinion, but I don&#39;t think this is a good design.  Shapes are nodes, which are designed for screen rendering.  There is an overhead in using a node to represent this kind of data rather than a data structure specifically targeted for that type of data.  I don&#39;t know GIS systems, but I am sure they have data representations with Java bindings which would be more efficient for this kind of data than using nodes.  Eventually, you need to map to visible nodes, but it should not be 1 million.","body":"&quot;a lot of shapes(for example 1 000 000) to represent geographic data&quot; -&gt; Just my opinion, but I don&#39;t think this is a good design.  Shapes are nodes, which are designed for screen rendering.  There is an overhead in using a node to represent this kind of data rather than a data structure specifically targeted for that type of data.  I don&#39;t know GIS systems, but I am sure they have data representations with Java bindings which would be more efficient for this kind of data than using nodes.  Eventually, you need to map to visible nodes, but it should not be 1 million."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1638906893,"post_id":70265896,"comment_id":124211313,"body_markdown":"However, if your design is efficient enough for your needs, I guess don&#39;t worry.","body":"However, if your design is efficient enough for your needs, I guess don&#39;t worry."},{"owner":{"account_id":22982031,"reputation":425,"user_id":17108793,"display_name":"Enrico"},"score":0,"creation_date":1638907256,"post_id":70265896,"comment_id":124211454,"body_markdown":"@James_D This is the complete example.. how should i simplify it? Only idea is to do it without FXML","body":"@James_D This is the complete example.. how should i simplify it? Only idea is to do it without FXML"},{"owner":{"account_id":22982031,"reputation":425,"user_id":17108793,"display_name":"Enrico"},"score":0,"creation_date":1638907281,"post_id":70265896,"comment_id":124211462,"body_markdown":"@jewelsea yes you could be right ... 1,000,000 is also set high, but right now I want to use shapes from JavaFX, maybe something for later to optimize","body":"@jewelsea yes you could be right ... 1,000,000 is also set high, but right now I want to use shapes from JavaFX, maybe something for later to optimize"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1638907690,"post_id":70265896,"comment_id":124211588,"body_markdown":"I just don’t understand why you are defining the `Group` as public and static, and in the `Application` class, and then manipulating the nodes in the controller from there. That’s not “normal” JavaFX (or even Java) programming style. The further you get from standard practices, the more likely it is you fall into some weird corner case which impacts performance for some strange reason. (Though it seems unlikely that this is the cause here.) Anyway, I’ll experiment when back at the computer","body":"I just don’t understand why you are defining the <code>Group</code> as public and static, and in the <code>Application</code> class, and then manipulating the nodes in the controller from there. That’s not “normal” JavaFX (or even Java) programming style. The further you get from standard practices, the more likely it is you fall into some weird corner case which impacts performance for some strange reason. (Though it seems unlikely that this is the cause here.) Anyway, I’ll experiment when back at the computer"},{"owner":{"account_id":22982031,"reputation":425,"user_id":17108793,"display_name":"Enrico"},"score":0,"creation_date":1638908052,"post_id":70265896,"comment_id":124211726,"body_markdown":"@James_D I edited my post and added a simple example, did you mean something like that?","body":"@James_D I edited my post and added a simple example, did you mean something like that?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1638909036,"post_id":70265896,"comment_id":124212060,"body_markdown":"Yes, thanks; that&#39;s helpful. And also surprising. It looks like there are, maybe, some listeners on the child list that are doing far too much work in this case.","body":"Yes, thanks; that&#39;s helpful. And also surprising. It looks like there are, maybe, some listeners on the child list that are doing far too much work in this case."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1638912985,"post_id":70265896,"comment_id":124213450,"body_markdown":"@James_D From profiling, the time seems to be spent in the `invalidated()` method of the `parent` property (the parent is set to null when a child is removed). In particular, removing listeners from the _parent&#39;s_ `treeVisible` and `disabled` properties seems to be expensive.","body":"@James_D From profiling, the time seems to be spent in the <code>invalidated()</code> method of the <code>parent</code> property (the parent is set to null when a child is removed). In particular, removing listeners from the <i>parent&#39;s</i> <code>treeVisible</code> and <code>disabled</code> properties seems to be expensive."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1638913543,"post_id":70265896,"comment_id":124213626,"body_markdown":"There are 1,000,000 children which means these properties each have at least 1,000,000 listeners registered. These listeners are stored in an array and are removed _one by one_ when all 1,000,000 children are cleared. That means the work is _at least_ 1,000,000 linear searches **per property** (granted, the search time decreases as the removed children are processed, but still).","body":"There are 1,000,000 children which means these properties each have at least 1,000,000 listeners registered. These listeners are stored in an array and are removed <i>one by one</i> when all 1,000,000 children are cleared. That means the work is <i>at least</i> 1,000,000 linear searches <b>per property</b> (granted, the search time decreases as the removed children are processed, but still)."}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1695621923,"creation_date":1638914649,"answer_id":70267481,"question_id":70265896,"body_markdown":"_Have not tested it, but the underlying reason for the long execution time in this scenario may have been &quot;fixed&quot; in JavaFX 21+ with [JDK-8290765 - Remove parent disabled/treeVisible listeners][1]. That said, I still suggest that having millions of nodes is a problem in and of itself. That&#39;s too many nodes._\r\n\r\n---\r\n\r\nThe long execution time comes from the fact that each child of a `Parent` registers a listener with the `disabled` and `treeVisible` properties of that `Parent`. The way JavaFX is currently implemented, these listeners are stored in an array (i.e. a list structure). _Adding_ the listeners is relatively low cost because the new listener is simply inserted at the end of the array, with an occasional resize of the array. However, when you _remove_ a child from its `Parent` and the listeners are removed, the array needs to be linearly searched so that the correct listener is found and removed. This happens for each removed child individually.\r\n\r\nSo, when you clear the children list of the `Group` you are triggering 1,000,000 linear searches for both properties, resulting in a total of 2,000,000 linear searches. And to make things worse, the listener to be removed is either--depending on the order the children are removed--always at the end of the array, in which case there&#39;s 2,000,000 _worst case_ linear searches, or always at the start of the array, in which case there&#39;s 2,000,000 best case linear searches, but where each individual removal results in _all remaining elements_ having to be shifted over by one.\r\n\r\nThere are at least two solutions/workarounds:\r\n\r\n1. Don&#39;t display 1,000,000 nodes. If you can, try to only display nodes for the data that can actually be seen by the user. For example, the virtualized controls such as `ListView` and `TableView` only display about 1-100 cells at any given time (depending on various factors, including window size, screen size, etc.).\r\n\r\n2. Don&#39;t clear the children of the `Group`. Instead, just replace the old `Group` with a new `Group`. If needed, you can prepare the new `Group` in a background thread. \r\n\r\n    Doing it that way, it took 3.5 seconds on my computer to create another `Group` with 1,000,000 children and then replace the old `Group` with the new `Group`. However, there was still a bit of a lag spike due to all the new nodes that needed to be rendered at once.\r\n\r\n    If you don&#39;t need to populate the new `Group` then you don&#39;t even need a thread. In that case, the swap took about 0.27 seconds on my computer.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://bugs.openjdk.org/browse/JDK-8290765","title":"Fastest way to clear group with a lot of shapes / multithreading","body":"<p><em>Have not tested it, but the underlying reason for the long execution time in this scenario may have been &quot;fixed&quot; in JavaFX 21+ with <a href=\"https://bugs.openjdk.org/browse/JDK-8290765\" rel=\"nofollow noreferrer\">JDK-8290765 - Remove parent disabled/treeVisible listeners</a>. That said, I still suggest that having millions of nodes is a problem in and of itself. That's too many nodes.</em></p>\n<hr />\n<p>The long execution time comes from the fact that each child of a <code>Parent</code> registers a listener with the <code>disabled</code> and <code>treeVisible</code> properties of that <code>Parent</code>. The way JavaFX is currently implemented, these listeners are stored in an array (i.e. a list structure). <em>Adding</em> the listeners is relatively low cost because the new listener is simply inserted at the end of the array, with an occasional resize of the array. However, when you <em>remove</em> a child from its <code>Parent</code> and the listeners are removed, the array needs to be linearly searched so that the correct listener is found and removed. This happens for each removed child individually.</p>\n<p>So, when you clear the children list of the <code>Group</code> you are triggering 1,000,000 linear searches for both properties, resulting in a total of 2,000,000 linear searches. And to make things worse, the listener to be removed is either--depending on the order the children are removed--always at the end of the array, in which case there's 2,000,000 <em>worst case</em> linear searches, or always at the start of the array, in which case there's 2,000,000 best case linear searches, but where each individual removal results in <em>all remaining elements</em> having to be shifted over by one.</p>\n<p>There are at least two solutions/workarounds:</p>\n<ol>\n<li><p>Don't display 1,000,000 nodes. If you can, try to only display nodes for the data that can actually be seen by the user. For example, the virtualized controls such as <code>ListView</code> and <code>TableView</code> only display about 1-100 cells at any given time (depending on various factors, including window size, screen size, etc.).</p>\n</li>\n<li><p>Don't clear the children of the <code>Group</code>. Instead, just replace the old <code>Group</code> with a new <code>Group</code>. If needed, you can prepare the new <code>Group</code> in a background thread.</p>\n<p>Doing it that way, it took 3.5 seconds on my computer to create another <code>Group</code> with 1,000,000 children and then replace the old <code>Group</code> with the new <code>Group</code>. However, there was still a bit of a lag spike due to all the new nodes that needed to be rendered at once.</p>\n<p>If you don't need to populate the new <code>Group</code> then you don't even need a thread. In that case, the swap took about 0.27 seconds on my computer.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":22982031,"reputation":425,"user_id":17108793,"display_name":"Enrico"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":70267481,"answer_count":1,"score":8,"last_activity_date":1695621923,"creation_date":1638905156,"question_id":70265896,"body_markdown":"In my JavaFX project I&#39;m using a lot of shapes(for example 1 000 000) to represent geographic data (such as plot outlines, streets, etc.). They are stored in a group and sometimes I have to clear them (for example when I&#39;m loading a new file with new geographic data).\r\nThe problem: clearing / removing them takes a lot of time.\r\nSo my idea was to remove the shapes in a separate thread which obviously doesn&#39;t work because of the JavaFX singlethread.\r\n\r\nHere is a simplified code of what I&#39;m trying to do:\r\n\r\nHelloApplication.java\r\n```\r\npackage com.example.javafxmultithreading;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Group;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.shape.Line;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class HelloApplication extends Application {\r\n\r\n    public static Group group = new Group();\r\n\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\r\n        Scene scene = new Scene(fxmlLoader.load());\r\n        stage.setTitle(&quot;Hello!&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n\r\n        for (int i = 0; i &lt; 1000000; i++) {\r\n            group.getChildren().add(new Line(100, 200, 200, 300));\r\n        }\r\n        HelloController.helloController = fxmlLoader.getController();\r\n        HelloController.helloController.pane.getChildren().addAll(group);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\n\r\nHelloController.java\r\n```\r\npublic class HelloController {\r\n\r\n    public static HelloController helloController;\r\n    @FXML\r\n    public Pane pane;\r\n    public VBox vbox;\r\n\r\n    @FXML\r\n    public void onClearShapes() throws InterruptedException {\r\n        double start = System.currentTimeMillis();\r\n        HelloApplication.group.getChildren().clear();\r\n        System.out.println(System.currentTimeMillis() - start);\r\n\r\n        Service&lt;Boolean&gt; service = new Service&lt;&gt;() {\r\n            @Override\r\n            protected Task&lt;Boolean&gt; createTask() {\r\n                return new Task&lt;&gt;() {\r\n                    @Override\r\n                    protected Boolean call() {\r\n                        // Try to clear the children of the group in this thread\r\n                        return true;\r\n                    }\r\n                };\r\n            }\r\n        };\r\n        service.setOnSucceeded(event -&gt; {\r\n            System.out.println(&quot;Success&quot;);\r\n        });\r\n        service.start();\r\n    }\r\n}\r\n```\r\n\r\nhello-view.fxml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.geometry.*?&gt;\r\n&lt;?import javafx.scene.control.*?&gt;\r\n&lt;?import javafx.scene.layout.*?&gt;\r\n\r\n&lt;VBox fx:id=&quot;vbox&quot; alignment=&quot;CENTER&quot; prefHeight=&quot;465.0&quot; prefWidth=&quot;711.0&quot; spacing=&quot;20.0&quot;\r\n      xmlns=&quot;http://javafx.com/javafx/11.0.2&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;\r\n      fx:controller=&quot;com.example.javafxmultithreading.HelloController&quot;&gt;\r\n    &lt;padding&gt;\r\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot;/&gt;\r\n    &lt;/padding&gt;\r\n    &lt;Pane fx:id=&quot;pane&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot;/&gt;\r\n    &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#onClearShapes&quot; text=&quot;Clear shapes&quot;/&gt;\r\n&lt;/VBox&gt;\r\n```\r\n\r\nI measured the time it took to remove different amounts of children from the group with `group.getChildren().clear()`:\r\n\r\n```\r\namount of children    |   time\r\n100                       2ms = 0,002s\r\n1 000                     4ms = 0,004s\r\n10 000                    38ms = 0,038s\r\n100 000                   1273ms = 1,2s\r\n1 000 000                 149896ms = 149,896s = ~2,5min\r\n```\r\n\r\nAs you can see, the time required increases exponentially..\r\nAnd now imagine you have to clear the children in an UI and the user has to wait 2,5min for the application while it&#39;s freezing.\r\nAdditionally, in this simplified example it&#39;s just a simple line, in the &quot;real&quot; application it&#39;s a more complicated geometry -&gt; needs more time.\r\n\r\nSo another idea was to &#39;unbind&#39; the group from it&#39;s parent, the pane.\r\nBecause when it&#39;s unbind, I can remove it in another thread. That means 1. the ui doesn&#39;t freeze and 2. it will be faster.\r\nThis was the try:\r\n```\r\npane.getChildren().remove(group); // or clear()\r\n// and then clear the group in another thread like above\r\n```\r\n\r\nThe problem: this &#39;unbinding&#39; takes also a lot of time. Not 2,5min, but like 0,5min, which is still to much.\r\n\r\nAnother idea was to create multiple groups, because as you can see, a group with 10 000 or 100 000 elements is cleared faster.\r\nThat also failed because several groups suddenly take longer and are deleted exponentially faster.\r\nFor example, the first takes 20 seconds, the second 10, the third 5, etc.\r\n\r\n\r\n**Long story short**\r\n\r\nIs there any chance to remove the children of the group in a seperate thread or faster than with `group.getChildren().clear()`? I tried everything that comes to my mind...\r\n\r\nAnd if I could only show a loading bar while deleting, it would be better than just freezing the surface and waiting 2min... \r\n\r\nI appreciate every idea / help.\r\n\r\n\r\n**EDIT, see comments**\r\nSimple example without FXML:\r\n\r\n```\r\nimport javafx.scene.Group;\r\nimport javafx.scene.shape.Line;\r\n\r\npublic class Test {\r\n\r\n    public static void main(String[] args) {\r\n        Group group = new Group();\r\n        System.out.println(&quot;adding lines&quot;);\r\n        for (int i = 0; i &lt; 1000000; i++) {\r\n            group.getChildren().add(new Line(100, 200, 200, 300));\r\n        }\r\n        System.out.println(&quot;adding done&quot;);\r\n\r\n        System.out.println(&quot;removing starts&quot;);\r\n        double start = System.currentTimeMillis();\r\n        group.getChildren().clear();\r\n        System.out.println(&quot;removing done, needed time: &quot; + (System.currentTimeMillis() - start));\r\n    }\r\n}\r\n```","title":"Fastest way to clear group with a lot of shapes / multithreading","body":"<p>In my JavaFX project I'm using a lot of shapes(for example 1 000 000) to represent geographic data (such as plot outlines, streets, etc.). They are stored in a group and sometimes I have to clear them (for example when I'm loading a new file with new geographic data).\nThe problem: clearing / removing them takes a lot of time.\nSo my idea was to remove the shapes in a separate thread which obviously doesn't work because of the JavaFX singlethread.</p>\n<p>Here is a simplified code of what I'm trying to do:</p>\n<p>HelloApplication.java</p>\n<pre><code>package com.example.javafxmultithreading;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Group;\nimport javafx.scene.Scene;\nimport javafx.scene.shape.Line;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class HelloApplication extends Application {\n\n    public static Group group = new Group();\n\n    @Override\n    public void start(Stage stage) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load());\n        stage.setTitle(&quot;Hello!&quot;);\n        stage.setScene(scene);\n        stage.show();\n\n        for (int i = 0; i &lt; 1000000; i++) {\n            group.getChildren().add(new Line(100, 200, 200, 300));\n        }\n        HelloController.helloController = fxmlLoader.getController();\n        HelloController.helloController.pane.getChildren().addAll(group);\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>HelloController.java</p>\n<pre><code>public class HelloController {\n\n    public static HelloController helloController;\n    @FXML\n    public Pane pane;\n    public VBox vbox;\n\n    @FXML\n    public void onClearShapes() throws InterruptedException {\n        double start = System.currentTimeMillis();\n        HelloApplication.group.getChildren().clear();\n        System.out.println(System.currentTimeMillis() - start);\n\n        Service&lt;Boolean&gt; service = new Service&lt;&gt;() {\n            @Override\n            protected Task&lt;Boolean&gt; createTask() {\n                return new Task&lt;&gt;() {\n                    @Override\n                    protected Boolean call() {\n                        // Try to clear the children of the group in this thread\n                        return true;\n                    }\n                };\n            }\n        };\n        service.setOnSucceeded(event -&gt; {\n            System.out.println(&quot;Success&quot;);\n        });\n        service.start();\n    }\n}\n</code></pre>\n<p>hello-view.fxml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.*?&gt;\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n\n&lt;VBox fx:id=&quot;vbox&quot; alignment=&quot;CENTER&quot; prefHeight=&quot;465.0&quot; prefWidth=&quot;711.0&quot; spacing=&quot;20.0&quot;\n      xmlns=&quot;http://javafx.com/javafx/11.0.2&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;\n      fx:controller=&quot;com.example.javafxmultithreading.HelloController&quot;&gt;\n    &lt;padding&gt;\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot;/&gt;\n    &lt;/padding&gt;\n    &lt;Pane fx:id=&quot;pane&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot;/&gt;\n    &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#onClearShapes&quot; text=&quot;Clear shapes&quot;/&gt;\n&lt;/VBox&gt;\n</code></pre>\n<p>I measured the time it took to remove different amounts of children from the group with <code>group.getChildren().clear()</code>:</p>\n<pre><code>amount of children    |   time\n100                       2ms = 0,002s\n1 000                     4ms = 0,004s\n10 000                    38ms = 0,038s\n100 000                   1273ms = 1,2s\n1 000 000                 149896ms = 149,896s = ~2,5min\n</code></pre>\n<p>As you can see, the time required increases exponentially..\nAnd now imagine you have to clear the children in an UI and the user has to wait 2,5min for the application while it's freezing.\nAdditionally, in this simplified example it's just a simple line, in the &quot;real&quot; application it's a more complicated geometry -&gt; needs more time.</p>\n<p>So another idea was to 'unbind' the group from it's parent, the pane.\nBecause when it's unbind, I can remove it in another thread. That means 1. the ui doesn't freeze and 2. it will be faster.\nThis was the try:</p>\n<pre><code>pane.getChildren().remove(group); // or clear()\n// and then clear the group in another thread like above\n</code></pre>\n<p>The problem: this 'unbinding' takes also a lot of time. Not 2,5min, but like 0,5min, which is still to much.</p>\n<p>Another idea was to create multiple groups, because as you can see, a group with 10 000 or 100 000 elements is cleared faster.\nThat also failed because several groups suddenly take longer and are deleted exponentially faster.\nFor example, the first takes 20 seconds, the second 10, the third 5, etc.</p>\n<p><strong>Long story short</strong></p>\n<p>Is there any chance to remove the children of the group in a seperate thread or faster than with <code>group.getChildren().clear()</code>? I tried everything that comes to my mind...</p>\n<p>And if I could only show a loading bar while deleting, it would be better than just freezing the surface and waiting 2min...</p>\n<p>I appreciate every idea / help.</p>\n<p><strong>EDIT, see comments</strong>\nSimple example without FXML:</p>\n<pre><code>import javafx.scene.Group;\nimport javafx.scene.shape.Line;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        Group group = new Group();\n        System.out.println(&quot;adding lines&quot;);\n        for (int i = 0; i &lt; 1000000; i++) {\n            group.getChildren().add(new Line(100, 200, 200, 300));\n        }\n        System.out.println(&quot;adding done&quot;);\n\n        System.out.println(&quot;removing starts&quot;);\n        double start = System.currentTimeMillis();\n        group.getChildren().clear();\n        System.out.println(&quot;removing done, needed time: &quot; + (System.currentTimeMillis() - start));\n    }\n}\n</code></pre>\n"},{"tags":["java","digital-signature","bouncycastle","signature","verification"],"owner":{"account_id":29473976,"reputation":9,"user_id":22586099,"display_name":"Štěp&#225;n Vejvoda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695621866,"creation_date":1695621866,"question_id":77170204,"body_markdown":"I&#39;ve started working on this project where we use Bouncy Castle for verification of digital signatures and we stumbled upon a bug.\r\nThis is verification method:\r\n`\r\n```\r\nprivate Set&lt;TLName&gt; verifySignature(PDSignature sig, X509Certificate signerCertificate, SignerInformation signerInfo, List&lt;X509Certificate&gt; chain, SignatureInfo signatureInfo) throws OperatorCreationException {\r\n        Set&lt;TLName&gt; emptyTrustedBy = new HashSet&lt;&gt;(TLName.values().length);\r\n\r\n        // checking cert validity at signing time\r\n        try {\r\n            signerCertificate.checkValidity(sig.getSignDate().getTime());\r\n        } catch (CertificateExpiredException e) {\r\n            LOG.info(&quot;Signature verification failed, certificate is expired.&quot;);\r\n            return emptyTrustedBy;\r\n        } catch (CertificateNotYetValidException e) {\r\n            LOG.info(&quot;Signature verification failed, certificate is not yet valid.&quot;);\r\n            return emptyTrustedBy;\r\n        }\r\n\r\n        // check all certificates from chain on trust lists\r\n        Set&lt;TLName&gt; filledTrustedBy = TrustedCertificates.getTrustedByForChain(chain.toArray(new X509Certificate[0]));\r\n        if (filledTrustedBy.isEmpty()) {\r\n            LOG.info(&quot;Signature verification failed, certificate not found between our trusted certificates.&quot;);\r\n            return emptyTrustedBy;\r\n        }\r\n\r\n        // verifying signature with public key\r\n        SignerInformationVerifier verifier = new JcaSimpleSignerInfoVerifierBuilder().build(signerCertificate);\r\n        try {\r\n            if (signerInfo.verify(verifier)) {\r\n                signatureInfo.signedBytesUnchanged = true;\r\n                signatureInfo.checksum = DatatypeConverter.printHexBinary(signerInfo.getContentDigest());\r\n                LOG.debug(&quot;Signature verification completed, signature verified.&quot;);\r\n                return filledTrustedBy; // only here return trustedBy array filled with values\r\n            }\r\n            signatureInfo.checksum = DatatypeConverter.printHexBinary(signerInfo.getContentDigest());\r\n        } catch (CMSException e) {\r\n            LOG.info(&quot;Signature verification failed, couldn&#39;t verify signature. Exception message: &quot; + e.getMessage());\r\n        }\r\n\r\n        return emptyTrustedBy;\r\n    }\r\n````\r\nFrom what I researched about usage of this library the statement `if (signerInfo.verify(verifier)) { ...}` should be a legit way to use it. But we had an additional layer where we calculated checksum ourselves to be checked in different component of our project:\r\n\r\n\r\n```\r\n private void checkSignedBytes(SignerInformation signerInfo, File inFile, int[] byteRange, SignatureInfo signatureInfo) throws NoSuchAlgorithmException, IOException {\r\n        Attribute attribute = signerInfo.getSignedAttributes().get(CMSAttributes.messageDigest);\r\n        DEROctetString sigDigest = (DEROctetString) attribute.getAttrValues().getObjectAt(0);\r\n        byte[] sigDigestBytes = sigDigest.getOctets();\r\n\r\n        byte[] contentDigestBytes = Signer.getDigest(inFile, byteRange, signerInfo.getDigestAlgOID());\r\n\r\n        signatureInfo.checksum = DatatypeConverter.printHexBinary(sigDigestBytes);\r\n        signatureInfo.signedBytesUnchanged = Arrays.equals(sigDigestBytes, contentDigestBytes);\r\n    }\r\n```\r\nThis used to work until we stumbled upon a case where we encountered digital signature without signed attributes. I&#39;ve tried to study the library but because of some problem I am not able to debug it. From what can I tell happens in `doVerify( ... )` method in `SignerInformation` class of Bouncy Castle signatures without signed attributes are handled.\r\n\r\nDigest calculation:\r\n```\r\n if (signedAttributeSet == null)\r\n                    {\r\n                        if (contentVerifier instanceof RawContentVerifier)\r\n                        {\r\n                            content.write(digOut);\r\n                        }\r\n                        else\r\n                        {\r\n                            OutputStream cOut = new TeeOutputStream(digOut, sigOut);\r\n\r\n                            content.write(cOut);\r\n\r\n                            cOut.close();\r\n                        }\r\n                    }\r\n```\r\n\r\nVerification:\r\n\r\n```\r\nif (signedAttributeSet == null &amp;&amp; resultDigest != null)\r\n            {\r\n                if (contentVerifier instanceof RawContentVerifier)\r\n                {\r\n                    RawContentVerifier rawVerifier = (RawContentVerifier)contentVerifier;\r\n\r\n                    if (encName.equals(&quot;RSA&quot;))\r\n                    {\r\n                        DigestInfo digInfo = new DigestInfo(new AlgorithmIdentifier(digestAlgorithm.getAlgorithm(), DERNull.INSTANCE), resultDigest);\r\n\r\n                        return rawVerifier.verify(digInfo.getEncoded(ASN1Encoding.DER), this.getSignature());\r\n                    }\r\n\r\n                    return rawVerifier.verify(resultDigest, this.getSignature());\r\n                }\r\n            }\r\n```\r\nTo my question - I have moved logic of the second method `checkSignedBytes( ... )` to the first method `verifySignature( ... )` here:\r\n\r\n```\r\nif (signerInfo.verify(verifier)) {\r\n                signatureInfo.signedBytesUnchanged = true;\r\n                signatureInfo.checksum = DatatypeConverter.printHexBinary(signerInfo.getContentDigest());\r\n                LOG.debug(&quot;Signature verification completed, signature verified.&quot;);\r\n                return filledTrustedBy; // only here return trustedBy array filled with values\r\n            }\r\n```\r\nShould this be ok? Is there some information lost because of absence of signed attributes? Given that those attributes are needed in different component I have no choice but to initialize them despite how redundant it might seem. Thank you for your answers!\r\n\r\n\r\nDescribed in details above.","title":"Verification of signature without signed attributes using Bouncy Castle 1.70","body":"<p>I've started working on this project where we use Bouncy Castle for verification of digital signatures and we stumbled upon a bug.\nThis is verification method:\n`</p>\n<pre><code>private Set&lt;TLName&gt; verifySignature(PDSignature sig, X509Certificate signerCertificate, SignerInformation signerInfo, List&lt;X509Certificate&gt; chain, SignatureInfo signatureInfo) throws OperatorCreationException {\n        Set&lt;TLName&gt; emptyTrustedBy = new HashSet&lt;&gt;(TLName.values().length);\n\n        // checking cert validity at signing time\n        try {\n            signerCertificate.checkValidity(sig.getSignDate().getTime());\n        } catch (CertificateExpiredException e) {\n            LOG.info(&quot;Signature verification failed, certificate is expired.&quot;);\n            return emptyTrustedBy;\n        } catch (CertificateNotYetValidException e) {\n            LOG.info(&quot;Signature verification failed, certificate is not yet valid.&quot;);\n            return emptyTrustedBy;\n        }\n\n        // check all certificates from chain on trust lists\n        Set&lt;TLName&gt; filledTrustedBy = TrustedCertificates.getTrustedByForChain(chain.toArray(new X509Certificate[0]));\n        if (filledTrustedBy.isEmpty()) {\n            LOG.info(&quot;Signature verification failed, certificate not found between our trusted certificates.&quot;);\n            return emptyTrustedBy;\n        }\n\n        // verifying signature with public key\n        SignerInformationVerifier verifier = new JcaSimpleSignerInfoVerifierBuilder().build(signerCertificate);\n        try {\n            if (signerInfo.verify(verifier)) {\n                signatureInfo.signedBytesUnchanged = true;\n                signatureInfo.checksum = DatatypeConverter.printHexBinary(signerInfo.getContentDigest());\n                LOG.debug(&quot;Signature verification completed, signature verified.&quot;);\n                return filledTrustedBy; // only here return trustedBy array filled with values\n            }\n            signatureInfo.checksum = DatatypeConverter.printHexBinary(signerInfo.getContentDigest());\n        } catch (CMSException e) {\n            LOG.info(&quot;Signature verification failed, couldn't verify signature. Exception message: &quot; + e.getMessage());\n        }\n\n        return emptyTrustedBy;\n    }\n</code></pre>\n<p>From what I researched about usage of this library the statement <code>if (signerInfo.verify(verifier)) { ...}</code> should be a legit way to use it. But we had an additional layer where we calculated checksum ourselves to be checked in different component of our project:</p>\n<pre><code> private void checkSignedBytes(SignerInformation signerInfo, File inFile, int[] byteRange, SignatureInfo signatureInfo) throws NoSuchAlgorithmException, IOException {\n        Attribute attribute = signerInfo.getSignedAttributes().get(CMSAttributes.messageDigest);\n        DEROctetString sigDigest = (DEROctetString) attribute.getAttrValues().getObjectAt(0);\n        byte[] sigDigestBytes = sigDigest.getOctets();\n\n        byte[] contentDigestBytes = Signer.getDigest(inFile, byteRange, signerInfo.getDigestAlgOID());\n\n        signatureInfo.checksum = DatatypeConverter.printHexBinary(sigDigestBytes);\n        signatureInfo.signedBytesUnchanged = Arrays.equals(sigDigestBytes, contentDigestBytes);\n    }\n</code></pre>\n<p>This used to work until we stumbled upon a case where we encountered digital signature without signed attributes. I've tried to study the library but because of some problem I am not able to debug it. From what can I tell happens in <code>doVerify( ... )</code> method in <code>SignerInformation</code> class of Bouncy Castle signatures without signed attributes are handled.</p>\n<p>Digest calculation:</p>\n<pre><code> if (signedAttributeSet == null)\n                    {\n                        if (contentVerifier instanceof RawContentVerifier)\n                        {\n                            content.write(digOut);\n                        }\n                        else\n                        {\n                            OutputStream cOut = new TeeOutputStream(digOut, sigOut);\n\n                            content.write(cOut);\n\n                            cOut.close();\n                        }\n                    }\n</code></pre>\n<p>Verification:</p>\n<pre><code>if (signedAttributeSet == null &amp;&amp; resultDigest != null)\n            {\n                if (contentVerifier instanceof RawContentVerifier)\n                {\n                    RawContentVerifier rawVerifier = (RawContentVerifier)contentVerifier;\n\n                    if (encName.equals(&quot;RSA&quot;))\n                    {\n                        DigestInfo digInfo = new DigestInfo(new AlgorithmIdentifier(digestAlgorithm.getAlgorithm(), DERNull.INSTANCE), resultDigest);\n\n                        return rawVerifier.verify(digInfo.getEncoded(ASN1Encoding.DER), this.getSignature());\n                    }\n\n                    return rawVerifier.verify(resultDigest, this.getSignature());\n                }\n            }\n</code></pre>\n<p>To my question - I have moved logic of the second method <code>checkSignedBytes( ... )</code> to the first method <code>verifySignature( ... )</code> here:</p>\n<pre><code>if (signerInfo.verify(verifier)) {\n                signatureInfo.signedBytesUnchanged = true;\n                signatureInfo.checksum = DatatypeConverter.printHexBinary(signerInfo.getContentDigest());\n                LOG.debug(&quot;Signature verification completed, signature verified.&quot;);\n                return filledTrustedBy; // only here return trustedBy array filled with values\n            }\n</code></pre>\n<p>Should this be ok? Is there some information lost because of absence of signed attributes? Given that those attributes are needed in different component I have no choice but to initialize them despite how redundant it might seem. Thank you for your answers!</p>\n<p>Described in details above.</p>\n"},{"tags":["java","jdbc"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1695644543,"post_id":77170131,"comment_id":136047718,"body_markdown":"Please remove salutations/thanks from your question as per the guidelines: https://stackoverflow.com/help/behavior. Also the paragraph &quot;You can post this on Stack Overflow,...&quot; is superfluous and should be removed.","body":"Please remove salutations/thanks from your question as per the guidelines: <a href=\"https://stackoverflow.com/help/behavior\">stackoverflow.com/help/behavior</a>. Also the paragraph &quot;You can post this on Stack Overflow,...&quot; is superfluous and should be removed."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1695644617,"post_id":77170131,"comment_id":136047733,"body_markdown":"What is the relationship of the source code shared with the DBeaver issue? What are the symptoms of the error? What are the steps for reproduction? Please read [How to Ask](https://stackoverflow.com/help/how-to-ask).","body":"What is the relationship of the source code shared with the DBeaver issue? What are the symptoms of the error? What are the steps for reproduction? Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a>."}],"owner":{"account_id":29505376,"reputation":11,"user_id":22611453,"display_name":"박진후"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695621297,"creation_date":1695620837,"question_id":77170131,"body_markdown":"I&#39;ve encountered an error while using DBeaver:\r\n\r\n```\r\neclipse.buildId=unknown\r\njava.version=17.0.6\r\njava.vendor=Eclipse Adoptium\r\nBootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=ko\r\nFramework arguments:  -eclipse.keyring C:\\Users\\USER\\AppData\\Roaming\\DBeaverData\\secure\\secure_storage\r\nCommand-line arguments:  -os win32 -ws win32 -arch x86_64\r\n\r\norg.jkiss.dbeaver.model\r\nError\r\nMon Sep 25 14:09:32 KST 2023\r\nOperation failed. Retry count remains = 1\r\n```\r\nUpon troubleshooting this issue, I&#39;ve noted:\r\n\r\nI initially suspected a compatibility issue between Java and DBeaver, but version 17.0.6 should be compatible.\r\nI&#39;ve checked DBeaver&#39;s log files for further insights but couldn&#39;t find any additional relevant information.\r\nI haven&#39;t installed any plugins or extensions, so I doubt it&#39;s an issue related to that.\r\nIf anyone has encountered a similar issue or has suggestions for resolution, I&#39;d greatly appreciate your input. Thank you!\r\n\r\nYou can post this on Stack Overflow, and hopefully, the community will provide you with the necessary guidance or solutions.\r\n\r\nboard\r\n\r\n```\r\npackage org.polyproject.fishinghubpro.entity;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport jakarta.persistence.*;\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport lombok.ToString;\r\nimport org.hibernate.annotations.CreationTimestamp;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Date;\r\nimport java.util.List;\r\n\r\n@Entity\r\n@Data\r\npublic class Board{\r\n\r\n    @Id\r\n    @GeneratedValue(strategy= GenerationType.IDENTITY)\r\n    private Integer id;\r\n\r\n    private String title;\r\n\r\n    @Column(columnDefinition = &quot;TEXT&quot;, nullable = false) // content를 TEXT 타입으로 설정하고 NOT NULL 제약 조건 추가\r\n    private  String content;\r\n\r\n    @Column(length = 15000 )\r\n    private String filename;\r\n\r\n    @Column(length = 30000 )\r\n    private String filepath;\r\n\r\n    @CreationTimestamp\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    @Column(name = &quot;created_at&quot;, nullable = false, updatable = false)\r\n    private Date createdAt;\r\n\r\n    @ManyToOne\r\n    @ToString.Exclude\r\n    @JoinColumn(name=&quot;user_no&quot;)\r\n    private Member member;\r\n}\r\n\r\n```\r\nboardDTO\r\n\r\n```\r\n        package org.polyproject.fishinghubpro.dto;\r\n\r\n        import lombok.Builder;\r\n        import lombok.Data;\r\n        import lombok.Getter;\r\n        import lombok.Setter;\r\n        import org.polyproject.fishinghubpro.entity.BaseEntity;\r\n\r\n        import java.util.Date;\r\n\r\n        @Data\r\n        @Builder\r\n        public class BoardDto {\r\n\r\n            @Setter@Getter\r\n            private int id;\r\n            private String title;\r\n            private String content;\r\n            private String filename;\r\n            private String filepath;\r\n            private Date createdAt;\r\n            private String memberNick; // 회원 닉네임\r\n\r\n            // 생성자, getter, setter 생략\r\n        }\r\n```\r\nboardrepository\r\n\r\n```\r\npackage org.polyproject.fishinghubpro.repository;\r\n\r\nimport jakarta.transaction.Transactional;\r\nimport org.polyproject.fishinghubpro.entity.Board;\r\nimport org.polyproject.fishinghubpro.entity.Member;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport java.util.Optional;\r\n\r\n@Repository\r\n@Transactional\r\npublic interface BoardRepository  extends JpaRepository &lt;Board, Integer&gt; {\r\n}\r\n\r\n```\r\nBoardService\r\n\r\n```\r\n    package org.polyproject.fishinghubpro.service;\r\n\r\n    import jakarta.transaction.Transactional;\r\n    import org.polyproject.fishinghubpro.dto.BoardDto;\r\n    import org.polyproject.fishinghubpro.entity.Board;\r\n    import org.polyproject.fishinghubpro.entity.Member;\r\n    import org.polyproject.fishinghubpro.repository.BoardRepository;\r\n    import org.polyproject.fishinghubpro.repository.member.MemberRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.data.domain.Page;\r\n    import org.springframework.data.domain.Pageable;\r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.web.multipart.MultipartFile;\r\n\r\n    import java.util.Date;\r\n    import java.io.File;\r\n    import java.util.List;\r\n    import java.util.UUID;\r\n\r\n\r\n\r\n    @Service\r\n    @Transactional\r\n    public class BoardService {\r\n\r\n\r\n\r\n            @Autowired\r\n            private BoardRepository boardRepository;\r\n\r\n            @Autowired\r\n            private MemberRepository memberRepository;\r\n\r\n\r\n            //게시글 리스트 처리\r\n            public Page&lt;Board&gt;boardList(Pageable pageable){\r\n\r\n                return boardRepository.findAll(pageable);\r\n\r\n\r\n            }\r\n            //특정 게시글 불러오기\r\n        public Board boardView(Integer id) {\r\n\r\n                Board board = boardRepository.findById(id).orElse(null);\r\n\r\n            return board;\r\n\r\n        }\r\n        //특정게시글 삭제\r\n        public void boardDelete(Integer id){\r\n\r\n                boardRepository.deleteById(id);\r\n        }\r\n\r\n        // 게시글 작성 메서드\r\n        public BoardDto write(Board board, MultipartFile file, String userId) throws Exception {\r\n            Member member = memberRepository.findByUserId(userId).orElse(null);\r\n\r\n            if (board.getContent() != null &amp;&amp; !board.getContent().isEmpty()) {\r\n    //            // 생성 날짜 설정\r\n    //            board.setCreatedAt(new Date());\r\n                // 파일 저장 경로 설정\r\n                String projectPath = System.getProperty(&quot;user.dir&quot;) + &quot;/src/main/resources/static/files&quot;;\r\n                // UUID를 사용하여 파일명 중복 방지\r\n                UUID uuid = UUID.randomUUID();\r\n\r\n                // 파일이 업로드되었을 때만 파일 처리\r\n                if (file != null &amp;&amp; !file.isEmpty()) {\r\n                    String fileName = uuid + &quot;_&quot; + file.getOriginalFilename();\r\n                    File saveFile = new File(projectPath, fileName);\r\n                    file.transferTo(saveFile);\r\n                    board.setFilename(fileName);\r\n                    board.setFilepath(&quot;/files/&quot; + fileName); // 파일 경로 동적 설정\r\n                }\r\n                board.setMember(member);\r\n\r\n                Board savedBoard = boardRepository.saveAndFlush(board); // 데이터베이스에 저장save(board)\r\n\r\n                // 게시글과 회원 닉네임을 포함한 DTO 객체 생성\r\n                BoardDto boardDto = BoardDto.builder()\r\n                                .title(savedBoard.getTitle())\r\n                                        .content(savedBoard.getContent())\r\n                                                .filepath(savedBoard.getFilepath())\r\n                                                        .filename(savedBoard.getFilename())\r\n                                                                .build();\r\n                boardDto.setMemberNick(member.getUserNick());\r\n\r\n                return boardDto;\r\n            } else {\r\n                // 콘텐츠가 null 또는 비어 있을 경우 예외 처리\r\n                throw new Exception(&quot;게시물 내용을 입력해주세요.&quot;);\r\n            }\r\n        }\r\n        }\r\n\r\n\r\n```\r\nBoardController\r\n\r\n```\r\npackage org.polyproject.fishinghubpro.controller;\r\n\r\n\r\nimport jakarta.transaction.Transactional;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.polyproject.fishinghubpro.dto.BoardDto;\r\nimport org.polyproject.fishinghubpro.entity.Board;\r\nimport org.polyproject.fishinghubpro.security.JwtTokenProvider;\r\nimport org.polyproject.fishinghubpro.service.BoardService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.data.domain.Page;\r\nimport org.springframework.data.domain.Pageable;\r\nimport org.springframework.data.domain.Sort;\r\nimport org.springframework.data.web.PageableDefault;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport org.springframework.web.multipart.MultipartFile;\r\n\r\nimport java.security.Principal;\r\nimport java.util.List;\r\n\r\n@RestController\r\n@CrossOrigin(&quot;*&quot;)\r\n@Transactional\r\n@Slf4j\r\npublic class BoardController {\r\n\r\n\r\n    @Autowired\r\n    private BoardService boardService;\r\n\r\n    @Autowired\r\n    private JwtTokenProvider jwtTokenProvider;\r\n\r\n    @GetMapping(&quot;/board/log&quot;)\r\n    public ResponseEntity&lt;?&gt; checkLogin(@RequestHeader(&quot;Authorization&quot;) String token) {\r\n        // &quot;Bearer &quot; 접두어 제거 (토큰이 &quot;Bearer [토큰값]&quot; 형식으로 오는 경우)\r\n        token = token.startsWith(&quot;Bearer &quot;) ? token.substring(7) : token;\r\n\r\n        // 토큰 유효성 검사\r\n        if (jwtTokenProvider.validateToken(token)) {\r\n            return ResponseEntity.ok(&quot;User is logged in&quot;);\r\n        } else {\r\n            return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(&quot;Unauthorized&quot;);\r\n        }\r\n    }\r\n    @GetMapping(&quot;/board/write&quot;)//localhost:8090/board/write\r\n    public String boardWriteForm(){\r\n\r\n        return &quot;boardwrite&quot;;\r\n    }\r\n\r\n    //원본\r\n    @PostMapping(&quot;board/writepro&quot;)//@RequestBodyboard앞에\r\n    public ResponseEntity&lt;BoardDto&gt; boardWritePro(Board board,@RequestParam(&quot;file&quot;) MultipartFile file, Principal principal) throws Exception {\r\n        String userId = principal.getName();\r\n\r\n        // boardService.write 메서드로 게시글을 작성하고 게시글 정보를 받아옴\r\n        BoardDto createdBoard = boardService.write(board, file, userId);\r\n\r\n        System.out.println(&quot;board : &quot;+board+&quot;, id : &quot;+userId);\r\n        System.out.println(&quot;board : &quot;+board+&quot;, file : &quot;+file+&quot;, id : &quot;+userId);\r\n        // ResponseEntity로 커스텀 응답을 생성하고, 상태 코드와 함께 반환\r\n        return new ResponseEntity&lt;&gt;(createdBoard, HttpStatus.CREATED); // 수정: response 대신 createdBoard 반환\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n@GetMapping(&quot;/board/list&quot;)\r\npublic ResponseEntity&lt;List&lt;Board&gt;&gt; boardList(@PageableDefault(page = 0, size = 10, sort = &quot;id&quot;, direction = Sort.Direction.DESC) Pageable pageable) {\r\n    Page&lt;Board&gt; list = boardService.boardList(pageable);\r\n\r\n    // 게시글 목록을 리스트로 변환\r\n    List&lt;Board&gt; boardList = list.getContent();\r\n\r\n    // ResponseEntity를 사용하여 JSON 형식으로 데이터 반환\r\n    return new ResponseEntity&lt;&gt;(boardList, HttpStatus.OK);\r\n}\r\n\r\n    @GetMapping(&quot;/board/view&quot;)//localhost:8080/board/view?id=1\r\n    public String boardView(Model model, Integer id){\r\n\r\n\r\n        model.addAttribute(&quot;board&quot;,boardService.boardView(id));\r\n        return &quot;boardview&quot;;\r\n    }\r\n    @DeleteMapping(&quot;/board/{id}&quot;)\r\n    public ResponseEntity&lt;String&gt; deleteBoard(@PathVariable(&quot;id&quot;) Integer id) {\r\n        try {\r\n            // 게시글 삭제를 시도합니다.\r\n            boardService.boardDelete(id);\r\n\r\n            // 게시글이 성공적으로 삭제되었을 때의 응답입니다.\r\n            return ResponseEntity.noContent().build();\r\n        } catch (Exception e) {\r\n            // 게시글 삭제 중 오류가 발생했을 때의 응답입니다.\r\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;게시글 삭제 중 오류가 발생했습니다.&quot;);\r\n        }\r\n    }\r\n\r\n\r\n//    @GetMapping(&quot;/board/delete&quot;)\r\n//        public String boardDelete(Integer id){\r\n//\r\n//            boardService.boardDelete(id);\r\n//\r\n//            return &quot;redirect:/board/list&quot;;\r\n//        }\r\n\r\n\r\n\r\n    @GetMapping(&quot;/board/modify/{id}&quot;)\r\n    public String boardModify(@PathVariable(&quot;id&quot;)Integer id,Model model){\r\n\r\n        model.addAttribute(&quot;board&quot;,boardService.boardView(id));\r\n        return &quot;boardmodify&quot;;\r\n    }\r\n    @PostMapping(&quot;/board/update/&quot;)\r\n    public String boardUpdate(@RequestBody BoardDto board, Principal principal)throws Exception {\r\n        log.info(&quot;지나갑니다!~!==={}&quot;,board.getId());\r\n        String userId = principal.getName();    //게시글을 쓴 애의 아이디.\r\n        Board boardTemp = boardService.boardView(board.getId());   //기존에 저장된 게시글 가져오기\r\n\r\n        //기존에 저장된 게시글에 새로 들어온 데이터로 수정 해주는 구문.\r\n        boardTemp.setTitle(board.getTitle());   //dirtyChecking으로 변경감지로 수정. 따로 저장 구문 필요 없음.\r\n        boardTemp.setContent(board.getContent());\r\n//        boardService.write(boardTemp, file, userId); // 수정된 내용을 저장\r\n        return &quot;수정되었습니다.&quot;;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nDBeaver Error with Retry Count on Windows\r\nI attempted to run DBeaver with my usual configurations.\r\nI was expecting DBeaver to start and operate as usual without any hitches.\r\nInstead, I encountered an error message that states:\r\n\r\n```\r\neclipse.buildId=unknown\r\njava.version=17.0.6\r\njava.vendor=Eclipse Adoptium\r\nBootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=ko\r\nFramework arguments: -eclipse.keyring C:\\Users\\USER\\AppData\\Roaming\\DBeaverData\\secure\\secure_storage\r\nCommand-line arguments: -os win32 -ws win32 -arch x86_64\r\n\r\norg.jkiss.dbeaver.model\r\n오류\r\nMon Sep 25 14:09:32 KST 2023\r\nOperation failed. Retry count remains = 1\r\n\r\n```\r\nAny assistance in understanding and resolving this error would be greatly appreciated.\r\n\r\nThank you.\r\n","title":"Facing &quot;Operation failed. Retry count remains = 1&quot; error in DBeaver","body":"<p>I've encountered an error while using DBeaver:</p>\n<pre><code>eclipse.buildId=unknown\njava.version=17.0.6\njava.vendor=Eclipse Adoptium\nBootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=ko\nFramework arguments:  -eclipse.keyring C:\\Users\\USER\\AppData\\Roaming\\DBeaverData\\secure\\secure_storage\nCommand-line arguments:  -os win32 -ws win32 -arch x86_64\n\norg.jkiss.dbeaver.model\nError\nMon Sep 25 14:09:32 KST 2023\nOperation failed. Retry count remains = 1\n</code></pre>\n<p>Upon troubleshooting this issue, I've noted:</p>\n<p>I initially suspected a compatibility issue between Java and DBeaver, but version 17.0.6 should be compatible.\nI've checked DBeaver's log files for further insights but couldn't find any additional relevant information.\nI haven't installed any plugins or extensions, so I doubt it's an issue related to that.\nIf anyone has encountered a similar issue or has suggestions for resolution, I'd greatly appreciate your input. Thank you!</p>\n<p>You can post this on Stack Overflow, and hopefully, the community will provide you with the necessary guidance or solutions.</p>\n<p>board</p>\n<pre><code>package org.polyproject.fishinghubpro.entity;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport jakarta.persistence.*;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.ToString;\nimport org.hibernate.annotations.CreationTimestamp;\n\nimport java.util.ArrayList;\nimport java.util.Date;\nimport java.util.List;\n\n@Entity\n@Data\npublic class Board{\n\n    @Id\n    @GeneratedValue(strategy= GenerationType.IDENTITY)\n    private Integer id;\n\n    private String title;\n\n    @Column(columnDefinition = &quot;TEXT&quot;, nullable = false) // content를 TEXT 타입으로 설정하고 NOT NULL 제약 조건 추가\n    private  String content;\n\n    @Column(length = 15000 )\n    private String filename;\n\n    @Column(length = 30000 )\n    private String filepath;\n\n    @CreationTimestamp\n    @Temporal(TemporalType.TIMESTAMP)\n    @Column(name = &quot;created_at&quot;, nullable = false, updatable = false)\n    private Date createdAt;\n\n    @ManyToOne\n    @ToString.Exclude\n    @JoinColumn(name=&quot;user_no&quot;)\n    private Member member;\n}\n\n</code></pre>\n<p>boardDTO</p>\n<pre><code>        package org.polyproject.fishinghubpro.dto;\n\n        import lombok.Builder;\n        import lombok.Data;\n        import lombok.Getter;\n        import lombok.Setter;\n        import org.polyproject.fishinghubpro.entity.BaseEntity;\n\n        import java.util.Date;\n\n        @Data\n        @Builder\n        public class BoardDto {\n\n            @Setter@Getter\n            private int id;\n            private String title;\n            private String content;\n            private String filename;\n            private String filepath;\n            private Date createdAt;\n            private String memberNick; // 회원 닉네임\n\n            // 생성자, getter, setter 생략\n        }\n</code></pre>\n<p>boardrepository</p>\n<pre><code>package org.polyproject.fishinghubpro.repository;\n\nimport jakarta.transaction.Transactional;\nimport org.polyproject.fishinghubpro.entity.Board;\nimport org.polyproject.fishinghubpro.entity.Member;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.Optional;\n\n@Repository\n@Transactional\npublic interface BoardRepository  extends JpaRepository &lt;Board, Integer&gt; {\n}\n\n</code></pre>\n<p>BoardService</p>\n<pre><code>    package org.polyproject.fishinghubpro.service;\n\n    import jakarta.transaction.Transactional;\n    import org.polyproject.fishinghubpro.dto.BoardDto;\n    import org.polyproject.fishinghubpro.entity.Board;\n    import org.polyproject.fishinghubpro.entity.Member;\n    import org.polyproject.fishinghubpro.repository.BoardRepository;\n    import org.polyproject.fishinghubpro.repository.member.MemberRepository;\n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.data.domain.Page;\n    import org.springframework.data.domain.Pageable;\n    import org.springframework.stereotype.Service;\n    import org.springframework.web.multipart.MultipartFile;\n\n    import java.util.Date;\n    import java.io.File;\n    import java.util.List;\n    import java.util.UUID;\n\n\n\n    @Service\n    @Transactional\n    public class BoardService {\n\n\n\n            @Autowired\n            private BoardRepository boardRepository;\n\n            @Autowired\n            private MemberRepository memberRepository;\n\n\n            //게시글 리스트 처리\n            public Page&lt;Board&gt;boardList(Pageable pageable){\n\n                return boardRepository.findAll(pageable);\n\n\n            }\n            //특정 게시글 불러오기\n        public Board boardView(Integer id) {\n\n                Board board = boardRepository.findById(id).orElse(null);\n\n            return board;\n\n        }\n        //특정게시글 삭제\n        public void boardDelete(Integer id){\n\n                boardRepository.deleteById(id);\n        }\n\n        // 게시글 작성 메서드\n        public BoardDto write(Board board, MultipartFile file, String userId) throws Exception {\n            Member member = memberRepository.findByUserId(userId).orElse(null);\n\n            if (board.getContent() != null &amp;&amp; !board.getContent().isEmpty()) {\n    //            // 생성 날짜 설정\n    //            board.setCreatedAt(new Date());\n                // 파일 저장 경로 설정\n                String projectPath = System.getProperty(&quot;user.dir&quot;) + &quot;/src/main/resources/static/files&quot;;\n                // UUID를 사용하여 파일명 중복 방지\n                UUID uuid = UUID.randomUUID();\n\n                // 파일이 업로드되었을 때만 파일 처리\n                if (file != null &amp;&amp; !file.isEmpty()) {\n                    String fileName = uuid + &quot;_&quot; + file.getOriginalFilename();\n                    File saveFile = new File(projectPath, fileName);\n                    file.transferTo(saveFile);\n                    board.setFilename(fileName);\n                    board.setFilepath(&quot;/files/&quot; + fileName); // 파일 경로 동적 설정\n                }\n                board.setMember(member);\n\n                Board savedBoard = boardRepository.saveAndFlush(board); // 데이터베이스에 저장save(board)\n\n                // 게시글과 회원 닉네임을 포함한 DTO 객체 생성\n                BoardDto boardDto = BoardDto.builder()\n                                .title(savedBoard.getTitle())\n                                        .content(savedBoard.getContent())\n                                                .filepath(savedBoard.getFilepath())\n                                                        .filename(savedBoard.getFilename())\n                                                                .build();\n                boardDto.setMemberNick(member.getUserNick());\n\n                return boardDto;\n            } else {\n                // 콘텐츠가 null 또는 비어 있을 경우 예외 처리\n                throw new Exception(&quot;게시물 내용을 입력해주세요.&quot;);\n            }\n        }\n        }\n\n\n</code></pre>\n<p>BoardController</p>\n<pre><code>package org.polyproject.fishinghubpro.controller;\n\n\nimport jakarta.transaction.Transactional;\nimport lombok.extern.slf4j.Slf4j;\nimport org.polyproject.fishinghubpro.dto.BoardDto;\nimport org.polyproject.fishinghubpro.entity.Board;\nimport org.polyproject.fishinghubpro.security.JwtTokenProvider;\nimport org.polyproject.fishinghubpro.service.BoardService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.data.domain.Sort;\nimport org.springframework.data.web.PageableDefault;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.*;\nimport org.springframework.web.multipart.MultipartFile;\n\nimport java.security.Principal;\nimport java.util.List;\n\n@RestController\n@CrossOrigin(&quot;*&quot;)\n@Transactional\n@Slf4j\npublic class BoardController {\n\n\n    @Autowired\n    private BoardService boardService;\n\n    @Autowired\n    private JwtTokenProvider jwtTokenProvider;\n\n    @GetMapping(&quot;/board/log&quot;)\n    public ResponseEntity&lt;?&gt; checkLogin(@RequestHeader(&quot;Authorization&quot;) String token) {\n        // &quot;Bearer &quot; 접두어 제거 (토큰이 &quot;Bearer [토큰값]&quot; 형식으로 오는 경우)\n        token = token.startsWith(&quot;Bearer &quot;) ? token.substring(7) : token;\n\n        // 토큰 유효성 검사\n        if (jwtTokenProvider.validateToken(token)) {\n            return ResponseEntity.ok(&quot;User is logged in&quot;);\n        } else {\n            return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(&quot;Unauthorized&quot;);\n        }\n    }\n    @GetMapping(&quot;/board/write&quot;)//localhost:8090/board/write\n    public String boardWriteForm(){\n\n        return &quot;boardwrite&quot;;\n    }\n\n    //원본\n    @PostMapping(&quot;board/writepro&quot;)//@RequestBodyboard앞에\n    public ResponseEntity&lt;BoardDto&gt; boardWritePro(Board board,@RequestParam(&quot;file&quot;) MultipartFile file, Principal principal) throws Exception {\n        String userId = principal.getName();\n\n        // boardService.write 메서드로 게시글을 작성하고 게시글 정보를 받아옴\n        BoardDto createdBoard = boardService.write(board, file, userId);\n\n        System.out.println(&quot;board : &quot;+board+&quot;, id : &quot;+userId);\n        System.out.println(&quot;board : &quot;+board+&quot;, file : &quot;+file+&quot;, id : &quot;+userId);\n        // ResponseEntity로 커스텀 응답을 생성하고, 상태 코드와 함께 반환\n        return new ResponseEntity&lt;&gt;(createdBoard, HttpStatus.CREATED); // 수정: response 대신 createdBoard 반환\n    }\n\n\n\n\n\n@GetMapping(&quot;/board/list&quot;)\npublic ResponseEntity&lt;List&lt;Board&gt;&gt; boardList(@PageableDefault(page = 0, size = 10, sort = &quot;id&quot;, direction = Sort.Direction.DESC) Pageable pageable) {\n    Page&lt;Board&gt; list = boardService.boardList(pageable);\n\n    // 게시글 목록을 리스트로 변환\n    List&lt;Board&gt; boardList = list.getContent();\n\n    // ResponseEntity를 사용하여 JSON 형식으로 데이터 반환\n    return new ResponseEntity&lt;&gt;(boardList, HttpStatus.OK);\n}\n\n    @GetMapping(&quot;/board/view&quot;)//localhost:8080/board/view?id=1\n    public String boardView(Model model, Integer id){\n\n\n        model.addAttribute(&quot;board&quot;,boardService.boardView(id));\n        return &quot;boardview&quot;;\n    }\n    @DeleteMapping(&quot;/board/{id}&quot;)\n    public ResponseEntity&lt;String&gt; deleteBoard(@PathVariable(&quot;id&quot;) Integer id) {\n        try {\n            // 게시글 삭제를 시도합니다.\n            boardService.boardDelete(id);\n\n            // 게시글이 성공적으로 삭제되었을 때의 응답입니다.\n            return ResponseEntity.noContent().build();\n        } catch (Exception e) {\n            // 게시글 삭제 중 오류가 발생했을 때의 응답입니다.\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;게시글 삭제 중 오류가 발생했습니다.&quot;);\n        }\n    }\n\n\n//    @GetMapping(&quot;/board/delete&quot;)\n//        public String boardDelete(Integer id){\n//\n//            boardService.boardDelete(id);\n//\n//            return &quot;redirect:/board/list&quot;;\n//        }\n\n\n\n    @GetMapping(&quot;/board/modify/{id}&quot;)\n    public String boardModify(@PathVariable(&quot;id&quot;)Integer id,Model model){\n\n        model.addAttribute(&quot;board&quot;,boardService.boardView(id));\n        return &quot;boardmodify&quot;;\n    }\n    @PostMapping(&quot;/board/update/&quot;)\n    public String boardUpdate(@RequestBody BoardDto board, Principal principal)throws Exception {\n        log.info(&quot;지나갑니다!~!==={}&quot;,board.getId());\n        String userId = principal.getName();    //게시글을 쓴 애의 아이디.\n        Board boardTemp = boardService.boardView(board.getId());   //기존에 저장된 게시글 가져오기\n\n        //기존에 저장된 게시글에 새로 들어온 데이터로 수정 해주는 구문.\n        boardTemp.setTitle(board.getTitle());   //dirtyChecking으로 변경감지로 수정. 따로 저장 구문 필요 없음.\n        boardTemp.setContent(board.getContent());\n//        boardService.write(boardTemp, file, userId); // 수정된 내용을 저장\n        return &quot;수정되었습니다.&quot;;\n    }\n\n}\n\n</code></pre>\n<p>DBeaver Error with Retry Count on Windows\nI attempted to run DBeaver with my usual configurations.\nI was expecting DBeaver to start and operate as usual without any hitches.\nInstead, I encountered an error message that states:</p>\n<pre><code>eclipse.buildId=unknown\njava.version=17.0.6\njava.vendor=Eclipse Adoptium\nBootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=ko\nFramework arguments: -eclipse.keyring C:\\Users\\USER\\AppData\\Roaming\\DBeaverData\\secure\\secure_storage\nCommand-line arguments: -os win32 -ws win32 -arch x86_64\n\norg.jkiss.dbeaver.model\n오류\nMon Sep 25 14:09:32 KST 2023\nOperation failed. Retry count remains = 1\n\n</code></pre>\n<p>Any assistance in understanding and resolving this error would be greatly appreciated.</p>\n<p>Thank you.</p>\n"},{"tags":["java","jwt","jjwt"],"owner":{"account_id":24290263,"reputation":11,"user_id":18235420,"display_name":"momopoi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695621273,"creation_date":1695607223,"question_id":77169563,"body_markdown":"I am getting a weird exception using jjwt when parsing my JWT(JWS).\r\n\r\nHere is code of parsing:\r\n\r\n```\r\nJwtParser parser = Jwts.parserBuilder()\r\n        .setSigningKey(publicKey)\r\n        .build();\r\n\r\n//exception thrown\r\nJws&lt;String&gt; parsedToken = parser.parsePlaintextJws(token);\r\n//works\r\nJws&lt;Claims&gt; parsedToken1 = parser.parseClaimsJws(token);\r\n```\r\n\r\nHere is my code for creating a token:\r\n\r\n```\r\ntoken = Jwts.builder()\r\n        .setIssuedAt(Date.from(issuedTime.atZone(ZoneId.systemDefault()).toInstant()))\r\n        .setExpiration(Date.from(expirationTime.atZone(ZoneId.systemDefault()).toInstant()))\r\n        .claim(&quot;a&quot;, &quot;foo&quot;)\r\n        .claim(&quot;b&quot;, &quot;boo&quot;)\r\n        .signWith(secretKey, SignatureAlgorithm.RS256)\r\n        .compact();\r\n```\r\n\r\n&gt;Exception - io.jsonwebtoken.UnsupportedJwtException: Signed Claims JWSs are not supported.\r\n\r\nWhat&#39;s the reason for this exception and how can it be fixed?\r\n","title":"Getting io.jsonwebtoken.UnsupportedJwtException: Signed Claims JWSs are not supported using parsePlaintextJws","body":"<p>I am getting a weird exception using jjwt when parsing my JWT(JWS).</p>\n<p>Here is code of parsing:</p>\n<pre><code>JwtParser parser = Jwts.parserBuilder()\n        .setSigningKey(publicKey)\n        .build();\n\n//exception thrown\nJws&lt;String&gt; parsedToken = parser.parsePlaintextJws(token);\n//works\nJws&lt;Claims&gt; parsedToken1 = parser.parseClaimsJws(token);\n</code></pre>\n<p>Here is my code for creating a token:</p>\n<pre><code>token = Jwts.builder()\n        .setIssuedAt(Date.from(issuedTime.atZone(ZoneId.systemDefault()).toInstant()))\n        .setExpiration(Date.from(expirationTime.atZone(ZoneId.systemDefault()).toInstant()))\n        .claim(&quot;a&quot;, &quot;foo&quot;)\n        .claim(&quot;b&quot;, &quot;boo&quot;)\n        .signWith(secretKey, SignatureAlgorithm.RS256)\n        .compact();\n</code></pre>\n<blockquote>\n<p>Exception - io.jsonwebtoken.UnsupportedJwtException: Signed Claims JWSs are not supported.</p>\n</blockquote>\n<p>What's the reason for this exception and how can it be fixed?</p>\n"},{"tags":["java","android","kotlin","toolbar","statusbar"],"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695620928,"creation_date":1695497600,"question_id":77164637,"body_markdown":"I would like to create a trunslucent status bar and toolbar , i tried few things but could not make it work , basically i want to do the thing as shown in the below attached image and thank you in advance for any help .\r\n\r\n\r\n * This is my layout \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:id=&quot;@+id/layout&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:fitsSystemWindows=&quot;true&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;androidx.appcompat.widget.Toolbar\r\n        android:id=&quot;@+id/toolbar&quot;\r\n        app:theme=&quot;@style/ThemeOverlay.AppCompat.ActionBar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;50dp&quot;\r\n        android:minHeight=&quot;?attr/actionBarSize&quot;\r\n        android:background=&quot;@android:color/transparent&quot;&gt;\r\n    &lt;/androidx.appcompat.widget.Toolbar&gt;\r\n\r\n    &lt;com.google.android.material.tabs.TabLayout\r\n        android:id=&quot;@+id/tabLayout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;24dp&quot;\r\n        android:layout_marginTop=&quot;24dp&quot;\r\n        android:layout_marginEnd=&quot;24dp&quot;\r\n        android:background=&quot;@null&quot;\r\n        app:tabSelectedTextColor=&quot;@color/white&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:tabIndicator=&quot;@drawable/custom_tab_indicator&quot;\r\n        app:tabIndicatorColor=&quot;#FF5722&quot;\r\n        app:tabIndicatorFullWidth=&quot;false&quot; /&gt;\r\n\r\n\r\n&lt;/LinearLayout&gt;\r\n\r\n```\r\n\r\n * This is my style xml \r\n\r\n```\r\n\r\n&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    &lt;!-- Base application theme. --&gt;\r\n    &lt;style name=&quot;Theme.Tab&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;&gt;\r\n        &lt;!-- Primary brand color. --&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_500&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;!-- Secondary brand color. --&gt;\r\n        &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\r\n        &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_700&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\r\n        &lt;!-- Status bar color. --&gt;\r\n        &lt;item name=&quot;android:statusBarColor&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowTranslucentStatus&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowTranslucentNavigation&quot;&gt;true&lt;/item&gt;\r\n        &lt;!-- Customize your theme here. --&gt;\r\n    &lt;/style&gt;\r\n\r\n&lt;/resources&gt;\r\n\r\n```\r\n\r\n\r\n * This is the example i want ( surrounded by red line )\r\n\r\n [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eyRlt.png","title":"Create Translucent status bar and toolbar in android","body":"<p>I would like to create a trunslucent status bar and toolbar , i tried few things but could not make it work , basically i want to do the thing as shown in the below attached image and thank you in advance for any help .</p>\n<ul>\n<li>This is my layout</li>\n</ul>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:id=&quot;@+id/layout&quot;\n    android:orientation=&quot;vertical&quot;\n    android:fitsSystemWindows=&quot;true&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;androidx.appcompat.widget.Toolbar\n        android:id=&quot;@+id/toolbar&quot;\n        app:theme=&quot;@style/ThemeOverlay.AppCompat.ActionBar&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;50dp&quot;\n        android:minHeight=&quot;?attr/actionBarSize&quot;\n        android:background=&quot;@android:color/transparent&quot;&gt;\n    &lt;/androidx.appcompat.widget.Toolbar&gt;\n\n    &lt;com.google.android.material.tabs.TabLayout\n        android:id=&quot;@+id/tabLayout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;24dp&quot;\n        android:layout_marginTop=&quot;24dp&quot;\n        android:layout_marginEnd=&quot;24dp&quot;\n        android:background=&quot;@null&quot;\n        app:tabSelectedTextColor=&quot;@color/white&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:tabIndicator=&quot;@drawable/custom_tab_indicator&quot;\n        app:tabIndicatorColor=&quot;#FF5722&quot;\n        app:tabIndicatorFullWidth=&quot;false&quot; /&gt;\n\n\n&lt;/LinearLayout&gt;\n\n</code></pre>\n<ul>\n<li>This is my style xml</li>\n</ul>\n<pre><code>\n&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n    &lt;!-- Base application theme. --&gt;\n    &lt;style name=&quot;Theme.Tab&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;&gt;\n        &lt;!-- Primary brand color. --&gt;\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_500&lt;/item&gt;\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\n        &lt;!-- Secondary brand color. --&gt;\n        &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\n        &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_700&lt;/item&gt;\n        &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\n        &lt;!-- Status bar color. --&gt;\n        &lt;item name=&quot;android:statusBarColor&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\n        &lt;item name=&quot;android:windowTranslucentStatus&quot;&gt;true&lt;/item&gt;\n        &lt;item name=&quot;android:windowTranslucentNavigation&quot;&gt;true&lt;/item&gt;\n        &lt;!-- Customize your theme here. --&gt;\n    &lt;/style&gt;\n\n&lt;/resources&gt;\n\n</code></pre>\n<ul>\n<li>This is the example i want ( surrounded by red line )</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/eyRlt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eyRlt.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","kotlin","zoneddatetime"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1696275927,"post_id":77158331,"comment_id":136129850,"body_markdown":"Related: [Why LocalDate.plusDays not working here?](https://stackoverflow.com/questions/43933397/why-localdate-plusdays-not-working-here)","body":"Related: <a href=\"https://stackoverflow.com/questions/43933397/why-localdate-plusdays-not-working-here\">Why LocalDate.plusDays not working here?</a>"}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1695403045,"creation_date":1695391592,"answer_id":77158339,"question_id":77158331,"body_markdown":"Those methods don&#39;t modify the `ZonedDateTime` instance. They return new ones. The *java.time* classes use [immutable objects][1]. \r\n\r\nTo fix your code, update the variable:\r\n```\r\nvar zdt: ZonedDateTime = ZonedDateTime.now()\r\nprintln(&quot;${zdt.toInstant().toEpochMilli()}&quot;)\r\nzdt = zdt.plusDays(1)\r\nprintln(&quot;${zdt.toInstant().toEpochMilli()}&quot;)\r\nzdt = zdt.withHour(0).withMinute(0).withSecond(0)\r\nprintln(&quot;${zdt.toInstant().toEpochMilli()}&quot;)\r\n```\r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Immutable_object","title":"Adding days to ZonedDateTime does not change the time","body":"<p>Those methods don't modify the <code>ZonedDateTime</code> instance. They return new ones. The <em>java.time</em> classes use <a href=\"https://en.m.wikipedia.org/wiki/Immutable_object\" rel=\"nofollow noreferrer\">immutable objects</a>.</p>\n<p>To fix your code, update the variable:</p>\n<pre><code>var zdt: ZonedDateTime = ZonedDateTime.now()\nprintln(&quot;${zdt.toInstant().toEpochMilli()}&quot;)\nzdt = zdt.plusDays(1)\nprintln(&quot;${zdt.toInstant().toEpochMilli()}&quot;)\nzdt = zdt.withHour(0).withMinute(0).withSecond(0)\nprintln(&quot;${zdt.toInstant().toEpochMilli()}&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695619899,"creation_date":1695392710,"answer_id":77158479,"question_id":77158331,"body_markdown":"Why `ZonedDateTime.now()` when you are obviously just interested in epoch millis?\r\n\r\nYou could use only `Instant`s instead:\r\n\r\n```Kotlin\r\nfun main() {\r\n    var now = Instant.now()\r\n    var nowPlusOneDay = now.plus(1, ChronoUnit.DAYS)\r\n    println(&quot;now:           ${now.toEpochMilli()}&quot;)\r\n    println(&quot;one day later: ${nowPlusOneDay.toEpochMilli()}&quot;)\r\n}\r\n```\r\n\r\nOutput (some seconds ago):\r\n\r\n```none\r\nnow:           1695392676969\r\none day later: 1695479076969\r\n```","title":"Adding days to ZonedDateTime does not change the time","body":"<p>Why <code>ZonedDateTime.now()</code> when you are obviously just interested in epoch millis?</p>\n<p>You could use only <code>Instant</code>s instead:</p>\n<pre><code>fun main() {\n    var now = Instant.now()\n    var nowPlusOneDay = now.plus(1, ChronoUnit.DAYS)\n    println(&quot;now:           ${now.toEpochMilli()}&quot;)\n    println(&quot;one day later: ${nowPlusOneDay.toEpochMilli()}&quot;)\n}\n</code></pre>\n<p>Output (some seconds ago):</p>\n<pre class=\"lang-none prettyprint-override\"><code>now:           1695392676969\none day later: 1695479076969\n</code></pre>\n"}],"owner":{"account_id":295108,"reputation":72036,"user_id":599346,"accept_rate":85,"display_name":"tyczj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":77158339,"answer_count":2,"score":4,"last_activity_date":1695619899,"creation_date":1695391509,"question_id":77158331,"body_markdown":"I am trying to get an instance of `ZonedDateTime` then add 1 day to it then I want to know what the time is in mills at UTC but when I use `plusDays` the time stays the same and I am not sure why\r\n\r\nhere is what I am doing\r\n\r\n    val zdt: ZonedDateTime = ZonedDateTime.now()\r\n\r\n    println(&quot;${zdt.toInstant().toEpochMilli()}&quot;)\r\n\r\n    zdt.plusDays(1)\r\n\r\n    println(&quot;${zdt.toInstant().toEpochMilli()}&quot;)\r\n\r\n    zdt.withHour(0)\r\n    zdt.withMinute(0)\r\n    zdt.withSecond(0)\r\n\r\n    println(&quot;${zdt.toInstant().toEpochMilli()}&quot;)\r\n\r\nall print statements print out the same value, what am I missing here?\r\n\r\nHere is a link to the code sample\r\n\r\nhttps://pl.kotl.in/QmlXRd-HM","title":"Adding days to ZonedDateTime does not change the time","body":"<p>I am trying to get an instance of <code>ZonedDateTime</code> then add 1 day to it then I want to know what the time is in mills at UTC but when I use <code>plusDays</code> the time stays the same and I am not sure why</p>\n<p>here is what I am doing</p>\n<pre><code>val zdt: ZonedDateTime = ZonedDateTime.now()\n\nprintln(&quot;${zdt.toInstant().toEpochMilli()}&quot;)\n\nzdt.plusDays(1)\n\nprintln(&quot;${zdt.toInstant().toEpochMilli()}&quot;)\n\nzdt.withHour(0)\nzdt.withMinute(0)\nzdt.withSecond(0)\n\nprintln(&quot;${zdt.toInstant().toEpochMilli()}&quot;)\n</code></pre>\n<p>all print statements print out the same value, what am I missing here?</p>\n<p>Here is a link to the code sample</p>\n<p><a href=\"https://pl.kotl.in/QmlXRd-HM\" rel=\"nofollow noreferrer\">https://pl.kotl.in/QmlXRd-HM</a></p>\n"},{"tags":["java","spring","hibernate"],"owner":{"account_id":4437031,"reputation":242,"user_id":3612610,"accept_rate":11,"display_name":"user3612610"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1536,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695618887,"creation_date":1651154733,"question_id":72045139,"body_markdown":"I would like to know if Spring 5.3 and Hibernate 5.6 are compatible. The only information I found is:\r\n\r\n&gt; Hibernate support has been upgraded to a Hibernate ORM 5.2+ baseline, with a focus on ORM 5.4.x. Please note that Hibernate Search needs to be upgraded to 5.11.6 for Spring Framework 5.3 JPA compatibility; see Hibernate JIRA.\r\n\r\nFrom: [Upgrading to Spring Framework 5.x][1]\r\n\r\nHas anyone more information about if Spring 5.3 only compatible with Hibernate 5.4 or also with 5.6?\r\n\r\nIn the case of only Hibernate 5.4 compatible, is 5.4 EOL?\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-5.x","title":"Spring 5.3 and Hibernate 5.6 compatibility","body":"<p>I would like to know if Spring 5.3 and Hibernate 5.6 are compatible. The only information I found is:</p>\n<blockquote>\n<p>Hibernate support has been upgraded to a Hibernate ORM 5.2+ baseline, with a focus on ORM 5.4.x. Please note that Hibernate Search needs to be upgraded to 5.11.6 for Spring Framework 5.3 JPA compatibility; see Hibernate JIRA.</p>\n</blockquote>\n<p>From: <a href=\"https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-5.x\" rel=\"nofollow noreferrer\">Upgrading to Spring Framework 5.x</a></p>\n<p>Has anyone more information about if Spring 5.3 only compatible with Hibernate 5.4 or also with 5.6?</p>\n<p>In the case of only Hibernate 5.4 compatible, is 5.4 EOL?</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1695439191,"post_id":77158733,"comment_id":136028343,"body_markdown":"You may want to read [ask]","body":"You may want to read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1695569562,"post_id":77158733,"comment_id":136038934,"body_markdown":"If you had read [ask], you would have seen that you shouldn&#39;t upload images of code, errors, logs, or other text. You would also have seen that you need to describe the problem in a way that others can reproduce it.","body":"If you had read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, you would have seen that you shouldn&#39;t upload images of code, errors, logs, or other text. You would also have seen that you need to describe the problem in a way that others can reproduce it."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1696469174,"post_id":77158733,"comment_id":136158189,"body_markdown":"May I know what&#39;s going on with the problem? If it has been solved, can you change the status of the answer to help more people with similar problems.","body":"May I know what&#39;s going on with the problem? If it has been solved, can you change the status of the answer to help more people with similar problems."}],"answers":[{"tags":[],"owner":{"account_id":4284550,"reputation":21,"user_id":3502799,"display_name":"Bradford McEvilly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695395089,"creation_date":1695395089,"answer_id":77158789,"question_id":77158733,"body_markdown":"You have to update the version in your pom.xml file, then update your project config in order to apply the changes.","title":"VSCode The compiler compliance specified is 1.8 but a JRE 17 is used","body":"<p>You have to update the version in your pom.xml file, then update your project config in order to apply the changes.</p>\n"},{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695618882,"creation_date":1695618882,"answer_id":77170030,"question_id":77158733,"body_markdown":"Read [this document][1] to get started with java.\r\n\r\nThis [configuration][2] can set the **JDk**\r\n\r\n```json\r\n&quot;java.configuration.runtimes&quot;: [\r\n  {\r\n    &quot;name&quot;: &quot;JavaSE-1.8&quot;,\r\n    &quot;path&quot;: &quot;/usr/local/jdk1.8.0_201&quot;\r\n  },\r\n  {\r\n    &quot;name&quot;: &quot;JavaSE-11&quot;,\r\n    &quot;path&quot;: &quot;/usr/local/jdk-11.0.3&quot;,\r\n    &quot;sources&quot; : &quot;/usr/local/jdk-11.0.3/lib/src.zip&quot;,\r\n    &quot;javadoc&quot; : &quot;https://docs.oracle.com/en/java/javase/11/docs/api&quot;,\r\n    &quot;default&quot;:  true\r\n   },\r\n   {\r\n    &quot;name&quot;: &quot;JavaSE-12&quot;,\r\n    &quot;path&quot;: &quot;/usr/local/jdk-12.0.2&quot;\r\n   },\r\n]\r\n```\r\n\r\n\r\n  [1]: https://code.visualstudio.com/docs/java/java-tutorial\r\n  [2]: https://code.visualstudio.com/docs/java/java-project#_configure-runtime-for-projects","title":"VSCode The compiler compliance specified is 1.8 but a JRE 17 is used","body":"<p>Read <a href=\"https://code.visualstudio.com/docs/java/java-tutorial\" rel=\"nofollow noreferrer\">this document</a> to get started with java.</p>\n<p>This <a href=\"https://code.visualstudio.com/docs/java/java-project#_configure-runtime-for-projects\" rel=\"nofollow noreferrer\">configuration</a> can set the <strong>JDk</strong></p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;java.configuration.runtimes&quot;: [\n  {\n    &quot;name&quot;: &quot;JavaSE-1.8&quot;,\n    &quot;path&quot;: &quot;/usr/local/jdk1.8.0_201&quot;\n  },\n  {\n    &quot;name&quot;: &quot;JavaSE-11&quot;,\n    &quot;path&quot;: &quot;/usr/local/jdk-11.0.3&quot;,\n    &quot;sources&quot; : &quot;/usr/local/jdk-11.0.3/lib/src.zip&quot;,\n    &quot;javadoc&quot; : &quot;https://docs.oracle.com/en/java/javase/11/docs/api&quot;,\n    &quot;default&quot;:  true\n   },\n   {\n    &quot;name&quot;: &quot;JavaSE-12&quot;,\n    &quot;path&quot;: &quot;/usr/local/jdk-12.0.2&quot;\n   },\n]\n</code></pre>\n"}],"owner":{"account_id":29510227,"reputation":1,"user_id":22615445,"display_name":"Emanuele"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1695618882,"creation_date":1695394667,"question_id":77158733,"body_markdown":"[i have this problem on vscode for a java project. i&#39;ve also other java projects, but they&#39;re not giving me any problems. this is the only one with this issue. can anyone help to solve this?](https://i.stack.imgur.com/BqzuB.png)\r\n\r\ni already tried adding the java installation path to the java home settings in vs code. but nothing happened.","title":"VSCode The compiler compliance specified is 1.8 but a JRE 17 is used","body":"<p><a href=\"https://i.stack.imgur.com/BqzuB.png\" rel=\"nofollow noreferrer\">i have this problem on vscode for a java project. i've also other java projects, but they're not giving me any problems. this is the only one with this issue. can anyone help to solve this?</a></p>\n<p>i already tried adding the java installation path to the java home settings in vs code. but nothing happened.</p>\n"},{"tags":["java","android","com.sun.net.httpserver"],"comments":[{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":1,"creation_date":1292791984,"post_id":4484989,"comment_id":4905152,"body_markdown":"why you want this package in your app ?","body":"why you want this package in your app ?"},{"owner":{"account_id":171074,"reputation":13385,"user_id":398248,"accept_rate":77,"display_name":"Jona"},"score":0,"creation_date":1292792034,"post_id":4484989,"comment_id":4905159,"body_markdown":"This contains a HttpServer classes for building a simple server.  I like to have that functionality.","body":"This contains a HttpServer classes for building a simple server.  I like to have that functionality."},{"owner":{"account_id":4468797,"reputation":96,"user_id":3635621,"display_name":"HuH"},"score":1,"creation_date":1435658069,"post_id":4484989,"comment_id":50280913,"body_markdown":"http://www.java2s.com/Code/Jar/h/Downloadhttp221jar.htm  - I download all my java libraries from java2s.com","body":"<a href=\"http://www.java2s.com/Code/Jar/h/Downloadhttp221jar.htm\" rel=\"nofollow noreferrer\">java2s.com/Code/Jar/h/Downloadhttp221jar.htm</a>  - I download all my java libraries from java2s.com"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1695619264,"post_id":4484989,"comment_id":136043327,"body_markdown":"[*JEP 408: Simple Web Server*](https://openjdk.org/jeps/408)","body":"<a href=\"https://openjdk.org/jeps/408\" rel=\"nofollow noreferrer\"><i>JEP 408: Simple Web Server</i></a>"}],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1292792007,"creation_date":1292792007,"answer_id":4485029,"question_id":4484989,"body_markdown":"[It&#39;s part of Java SE 6][1]. It&#39;s not published separately and also not included in Android. I&#39;d suggest to look for another lightweight Java implementation of a HTTP server, like [i-Jetty][2].\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/jre/api/net/httpserver/spec/com/sun/net/httpserver/package-summary.html\r\n  [2]: http://code.google.com/p/i-jetty/","title":"How to download com.sun.net.httpserver package?","body":"<p><a href=\"http://download.oracle.com/javase/6/docs/jre/api/net/httpserver/spec/com/sun/net/httpserver/package-summary.html\" rel=\"noreferrer\">It's part of Java SE 6</a>. It's not published separately and also not included in Android. I'd suggest to look for another lightweight Java implementation of a HTTP server, like <a href=\"http://code.google.com/p/i-jetty/\" rel=\"noreferrer\">i-Jetty</a>.</p>\n"},{"tags":[],"owner":{"account_id":981326,"reputation":1874,"user_id":1000974,"accept_rate":100,"display_name":"Daniel Worthington-Bodart"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1695618212,"creation_date":1318936237,"answer_id":7806273,"question_id":4484989,"body_markdown":"You can download it from: \r\n* https://web.archive.org/web/20090716001955/http://download.java.net/maven/2/com/sun/net/httpserver/http/20070405/http-20070405.jar\r\n\r\nIt used to be available from Sun for Java 5 but they seem to have pulled the link. It has been archived though. Don&#39;t know if it works on Android mind you.\r\n\r\nOld, broken links:\r\n\r\n* https://bintray.com/bintray/jcenter/download_file?file_path=com%2Fsun%2Fnet%2Fhttpserver%2Fhttp%2F20070405%2Fhttp-20070405.jar \r\n* http://download.java.net/maven/2/com/sun/net/httpserver/http/20070405/http-20070405.jar","title":"How to download com.sun.net.httpserver package?","body":"<p>You can download it from:</p>\n<ul>\n<li><a href=\"https://web.archive.org/web/20090716001955/http://download.java.net/maven/2/com/sun/net/httpserver/http/20070405/http-20070405.jar\" rel=\"nofollow noreferrer\">https://web.archive.org/web/20090716001955/http://download.java.net/maven/2/com/sun/net/httpserver/http/20070405/http-20070405.jar</a></li>\n</ul>\n<p>It used to be available from Sun for Java 5 but they seem to have pulled the link. It has been archived though. Don't know if it works on Android mind you.</p>\n<p>Old, broken links:</p>\n<ul>\n<li><a href=\"https://bintray.com/bintray/jcenter/download_file?file_path=com%2Fsun%2Fnet%2Fhttpserver%2Fhttp%2F20070405%2Fhttp-20070405.jar\" rel=\"nofollow noreferrer\">https://bintray.com/bintray/jcenter/download_file?file_path=com%2Fsun%2Fnet%2Fhttpserver%2Fhttp%2F20070405%2Fhttp-20070405.jar</a></li>\n<li><a href=\"http://download.java.net/maven/2/com/sun/net/httpserver/http/20070405/http-20070405.jar\" rel=\"nofollow noreferrer\">http://download.java.net/maven/2/com/sun/net/httpserver/http/20070405/http-20070405.jar</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5438128,"reputation":11707,"user_id":4326936,"accept_rate":39,"display_name":"alijandro"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1467027112,"creation_date":1467027112,"answer_id":38052850,"question_id":4484989,"body_markdown":"Android studio use `jcenter` as the default repository source. The more convenient way is adding the dependency to gralde configuration.\r\n\r\nThe library can be found in `jcenter`, see [here][1].\r\n\r\nSo just add it to your project&#39;s dependencies.\r\n\r\n    dependencies {\r\n        compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        // ...\r\n        compile &#39;com.sun.net.httpserver:http:20070405&#39;\r\n        // ...\r\n    }\r\n\r\n  [1]: https://bintray.com/bintray/jcenter/com.sun.net.httpserver%3Ahttp/20070405/view","title":"How to download com.sun.net.httpserver package?","body":"<p>Android studio use <code>jcenter</code> as the default repository source. The more convenient way is adding the dependency to gralde configuration.</p>\n\n<p>The library can be found in <code>jcenter</code>, see <a href=\"https://bintray.com/bintray/jcenter/com.sun.net.httpserver%3Ahttp/20070405/view\" rel=\"nofollow\">here</a>.</p>\n\n<p>So just add it to your project's dependencies.</p>\n\n<pre><code>dependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    // ...\n    compile 'com.sun.net.httpserver:http:20070405'\n    // ...\n}\n</code></pre>\n"}],"owner":{"account_id":171074,"reputation":13385,"user_id":398248,"accept_rate":77,"display_name":"Jona"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32509,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":4485029,"answer_count":3,"score":13,"last_activity_date":1695618212,"creation_date":1292791508,"question_id":4484989,"body_markdown":"I&#39;m not familiar with where I can get the package com.sun.net.httpserver?  I like to use this package in Android.\r\n\r\nThanks!","title":"How to download com.sun.net.httpserver package?","body":"<p>I'm not familiar with where I can get the package com.sun.net.httpserver?  I like to use this package in Android.</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","arrays","arraylist"],"comments":[{"owner":{"account_id":324610,"reputation":18889,"user_id":645270,"accept_rate":100,"display_name":"keyser"},"score":8,"creation_date":1338051415,"post_id":10768170,"comment_id":13999394,"body_markdown":"Do you mean `ArrayList&lt;ArrayList&lt;String&gt;&gt;`?","body":"Do you mean <code>ArrayList&lt;ArrayList&lt;String&gt;&gt;</code>?"}],"answers":[{"tags":[],"owner":{"account_id":23804,"reputation":28036,"user_id":59947,"accept_rate":92,"display_name":"Yevgeny Simkin"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1338078606,"creation_date":1338051416,"answer_id":10768178,"question_id":10768170,"body_markdown":"The first array list isn&#39;t an array list of String, it&#39;s an ArrayList of ArrayList.\r\n\r\n    ArrayList&lt;ArrayList&lt;String&gt;&gt;\r\n\r\n","title":"How do I declare a 2D String arraylist?","body":"<p>The first array list isn't an array list of String, it's an ArrayList of ArrayList.</p>\n\n<pre><code>ArrayList&lt;ArrayList&lt;String&gt;&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":406172,"reputation":6429,"user_id":775523,"accept_rate":78,"display_name":"dbf"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1338051543,"creation_date":1338051543,"answer_id":10768191,"question_id":10768170,"body_markdown":"    List&lt;List&lt;String&gt;&gt; array = new ArrayList&lt;List&lt;String&gt;&gt;();\r\n    ...\r\n    array.add(new ArrayList&lt;String&gt;())\r\n    array.get(0).add(&quot;qqq&quot;);\r\n\r\narray.get(0) - is a internal list","title":"How do I declare a 2D String arraylist?","body":"<pre><code>List&lt;List&lt;String&gt;&gt; array = new ArrayList&lt;List&lt;String&gt;&gt;();\n...\narray.add(new ArrayList&lt;String&gt;())\narray.get(0).add(\"qqq\");\n</code></pre>\n\n<p>array.get(0) - is a internal list</p>\n"},{"tags":[],"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"down_vote_count":1,"up_vote_count":30,"is_accepted":true,"score":29,"last_activity_date":1464785850,"creation_date":1338051598,"answer_id":10768198,"question_id":10768170,"body_markdown":"You can go with\r\n\r\n    List&lt;List&lt;String&gt;&gt; ls2d = new ArrayList&lt;List&lt;String&gt;&gt;();\r\n    List&lt;String&gt; x = new ArrayList&lt;String&gt;();\r\n    x.add(&quot;Hello&quot;);\r\n    x.add(&quot;world!&quot;);\r\n    ls2d.add(x);\r\n    \r\n    System.out.println(Arrays.deepToString(ls2d.toArray()));\r\n    \r\n","title":"How do I declare a 2D String arraylist?","body":"<p>You can go with</p>\n\n<pre><code>List&lt;List&lt;String&gt;&gt; ls2d = new ArrayList&lt;List&lt;String&gt;&gt;();\nList&lt;String&gt; x = new ArrayList&lt;String&gt;();\nx.add(\"Hello\");\nx.add(\"world!\");\nls2d.add(x);\n\nSystem.out.println(Arrays.deepToString(ls2d.toArray()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":324610,"reputation":18889,"user_id":645270,"accept_rate":100,"display_name":"keyser"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1338052042,"creation_date":1338051671,"answer_id":10768207,"question_id":10768170,"body_markdown":"    List&lt;List&lt;String&gt;&gt; super2dArray = new ArrayList&lt;ArrayList&lt;String&gt;&gt;()\r\n\r\n\r\nThis is an arraylist of arraylists holding strings.\r\n\r\nAlso `ArrayList&lt;String&lt;String&gt;&gt; mylist` makes no sense, because String is not a collection/list, but I think you understood that. Future readers might not though.\r\n\r\nSee [this answer][1] to see why I chose to have `List` on the left side.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/8896608/645270","title":"How do I declare a 2D String arraylist?","body":"<pre><code>List&lt;List&lt;String&gt;&gt; super2dArray = new ArrayList&lt;ArrayList&lt;String&gt;&gt;()\n</code></pre>\n\n<p>This is an arraylist of arraylists holding strings.</p>\n\n<p>Also <code>ArrayList&lt;String&lt;String&gt;&gt; mylist</code> makes no sense, because String is not a collection/list, but I think you understood that. Future readers might not though.</p>\n\n<p>See <a href=\"https://stackoverflow.com/a/8896608/645270\">this answer</a> to see why I chose to have <code>List</code> on the left side.</p>\n"},{"tags":[],"owner":{"account_id":7238275,"reputation":23,"user_id":5522683,"display_name":"LOL"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1448753179,"creation_date":1448749915,"answer_id":33977183,"question_id":10768170,"body_markdown":"Try this :\r\n\r\n    public class JavaTests {\r\n\r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String[] args) {\r\n        \r\n        String[ ][ ] test2 = new String[3][3];      //3 can be replace if you add more test2[?][?] = &quot;RandomString&quot;\r\n\r\n            test2[0][0] = &quot;String1&quot;;\r\n            test2[0][1] = &quot;String2&quot;;\r\n            test2[0][2] = &quot;String3&quot;;\r\n        \r\n            test2[1][0] = &quot;String4&quot;;\r\n            test2[1][1] = &quot;String5&quot;;\r\n            test2[1][2] = &quot;String6&quot;;\r\n        \r\n            test2[2][0] = &quot;String7&quot;;\r\n            test2[2][1] = &quot;String8&quot;;\r\n            test2[2][2] = &quot;String9&quot;;\r\n        \r\n            for (int i = 0; i &lt;= 2; i++){\r\n                for (int j = 0; j &lt;= 2; j++){\r\n                    System.out.print(test2[i][j] +&quot;\\t&quot;);\r\n                }\r\n                System.out.println(&quot;\\n&quot;);\r\n            }  \r\n            System.out.println(&quot;\\n&quot;);      \r\n        }\r\n    }","title":"How do I declare a 2D String arraylist?","body":"<p>Try this :</p>\n\n<pre><code>public class JavaTests {\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n\n    String[ ][ ] test2 = new String[3][3];      //3 can be replace if you add more test2[?][?] = \"RandomString\"\n\n        test2[0][0] = \"String1\";\n        test2[0][1] = \"String2\";\n        test2[0][2] = \"String3\";\n\n        test2[1][0] = \"String4\";\n        test2[1][1] = \"String5\";\n        test2[1][2] = \"String6\";\n\n        test2[2][0] = \"String7\";\n        test2[2][1] = \"String8\";\n        test2[2][2] = \"String9\";\n\n        for (int i = 0; i &lt;= 2; i++){\n            for (int j = 0; j &lt;= 2; j++){\n                System.out.print(test2[i][j] +\"\\t\");\n            }\n            System.out.println(\"\\n\");\n        }  \n        System.out.println(\"\\n\");      \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1931172,"reputation":2758,"user_id":5816060,"display_name":"Shwetabh Shekhar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1506136637,"creation_date":1506136637,"answer_id":46375676,"question_id":10768170,"body_markdown":"There are two ways to achieve what you desire. I am providing code snippet for both: \r\n\r\n**1.`List&lt;List&lt;String&gt;&gt; lol = new ArrayList&lt;List&lt;String&gt;&gt;();`**\r\n       \r\n    \r\n    Scanner in = new Scanner(System.in);\r\n    int size = in.nextInt();\r\n\r\n    //Declare your two dimensional ArrayList of Strings. \r\n    List&lt; List&lt;String&gt;&gt; lol = new ArrayList&lt;List&lt;String&gt;&gt;();\r\n    \r\n    //Instantiate and Populate\r\n    for (int i=0;i&lt;size;i++){\r\n        int internalListSize = in.nextInt(); //the size of each internal list\r\n        lol.add(new ArrayList&lt;String&gt;());\r\n        for (int j=0;j&lt;internalListSize;j++){\r\n            String whateverYouWanttoPut = in.nextLine();\r\n            lol.get(i).add(whateverYouWanttoPut);\r\n        }\r\n    }\r\n    \r\n    //Access Elements \r\n    try {\r\n        System.out.println(lol.get(0).get(4));\r\n        System.out.println(lol.get(1).get(2));\r\n        System.out.println(lol.get(3).get(2));\r\n    } catch (Exception e){\r\n        System.out.println(&quot;ERROR!&quot;);\r\n    }     \r\n\r\n**2. `ArrayList[] set = new ArrayList[n];`**\r\n    \r\n    Scanner in = new Scanner(System.in);\r\n    int size = in.nextInt();\r\n    //Declare your two dimensional ArrayList of Strings.\r\n    ArrayList[] set = new ArrayList[size];\r\n\r\n    //Populate it. \r\n    for(int i=0;i&lt;size;i++){\r\n        int innerSize = in.nextInt();\r\n        set[i] = new ArrayList&lt;String&gt;();\r\n        for(int j=0;j&lt;innerSize;j++){  \r\n            set[i].add(in.nextLine());                \r\n        }\r\n    }        \r\n    try{\r\n        System.out.println(set[0].get(1));\r\n        System.out.println(set[1].get(2));\r\n    } catch(Exception e){\r\n        System.out.println(&quot;ERROR!&quot;);\r\n    }","title":"How do I declare a 2D String arraylist?","body":"<p>There are two ways to achieve what you desire. I am providing code snippet for both: </p>\n\n<p><strong>1.<code>List&lt;List&lt;String&gt;&gt; lol = new ArrayList&lt;List&lt;String&gt;&gt;();</code></strong></p>\n\n<pre><code>Scanner in = new Scanner(System.in);\nint size = in.nextInt();\n\n//Declare your two dimensional ArrayList of Strings. \nList&lt; List&lt;String&gt;&gt; lol = new ArrayList&lt;List&lt;String&gt;&gt;();\n\n//Instantiate and Populate\nfor (int i=0;i&lt;size;i++){\n    int internalListSize = in.nextInt(); //the size of each internal list\n    lol.add(new ArrayList&lt;String&gt;());\n    for (int j=0;j&lt;internalListSize;j++){\n        String whateverYouWanttoPut = in.nextLine();\n        lol.get(i).add(whateverYouWanttoPut);\n    }\n}\n\n//Access Elements \ntry {\n    System.out.println(lol.get(0).get(4));\n    System.out.println(lol.get(1).get(2));\n    System.out.println(lol.get(3).get(2));\n} catch (Exception e){\n    System.out.println(\"ERROR!\");\n}     \n</code></pre>\n\n<p><strong>2. <code>ArrayList[] set = new ArrayList[n];</code></strong></p>\n\n<pre><code>Scanner in = new Scanner(System.in);\nint size = in.nextInt();\n//Declare your two dimensional ArrayList of Strings.\nArrayList[] set = new ArrayList[size];\n\n//Populate it. \nfor(int i=0;i&lt;size;i++){\n    int innerSize = in.nextInt();\n    set[i] = new ArrayList&lt;String&gt;();\n    for(int j=0;j&lt;innerSize;j++){  \n        set[i].add(in.nextLine());                \n    }\n}        \ntry{\n    System.out.println(set[0].get(1));\n    System.out.println(set[1].get(2));\n} catch(Exception e){\n    System.out.println(\"ERROR!\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10923818,"reputation":606,"user_id":8085276,"display_name":"Ajay Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667450554,"creation_date":1667450554,"answer_id":74298232,"question_id":10768170,"body_markdown":"Create 2D array like Below - \r\n\r\n**for primitive data types -** \r\n\r\n    int[][] arr = new int[10][10];\r\n\r\n***for Custom Classes -*** \r\n\r\n    public class MyClass {\r\n        int x;\r\n        MyClass() { \r\n            this.x = 0\r\n        }\r\n    }\r\n    \r\n    MyClass[][] arr = new MyClass[10][10];\r\n    for (int i = 0; i &lt; 10; ++i) {\r\n        for (int j = 0; j &lt; 10; ++j) {\r\n            arr[i][j] = new MyClass();\r\n        }\r\n    }\r\n\r\n","title":"How do I declare a 2D String arraylist?","body":"<p>Create 2D array like Below -</p>\n<p><strong>for primitive data types -</strong></p>\n<pre><code>int[][] arr = new int[10][10];\n</code></pre>\n<p><em><strong>for Custom Classes -</strong></em></p>\n<pre><code>public class MyClass {\n    int x;\n    MyClass() { \n        this.x = 0\n    }\n}\n\nMyClass[][] arr = new MyClass[10][10];\nfor (int i = 0; i &lt; 10; ++i) {\n    for (int j = 0; j &lt; 10; ++j) {\n        arr[i][j] = new MyClass();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29517307,"reputation":1,"user_id":22620980,"display_name":"bobo"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695617869,"creation_date":1695615896,"answer_id":77169903,"question_id":10768170,"body_markdown":"I have restructured the [answer code provided by @Luiggi Mendoza][1] into a Java method that you can easily incorporate into your development:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Arrays;\r\n    \r\n    public class Post10768198 {\r\n        public static List&lt;List&lt;String&gt;&gt; create2DStringArrayList() {\r\n            List&lt;List&lt;String&gt;&gt; ls2d = new ArrayList&lt;List&lt;String&gt;&gt;();\r\n            List&lt;String&gt; x = new ArrayList&lt;String&gt;();\r\n            x.add(&quot;Hello&quot;);\r\n            x.add(&quot;world!&quot;);\r\n            ls2d.add(x);\r\n            return ls2d;\r\n        }\r\n    }\r\n\r\n\r\n[1]: https://stackoverflow.com/a/10768198\r\n","title":"How do I declare a 2D String arraylist?","body":"<p>I have restructured the <a href=\"https://stackoverflow.com/a/10768198\">answer code provided by @Luiggi Mendoza</a> into a Java method that you can easily incorporate into your development:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.Arrays;\n\npublic class Post10768198 {\n    public static List&lt;List&lt;String&gt;&gt; create2DStringArrayList() {\n        List&lt;List&lt;String&gt;&gt; ls2d = new ArrayList&lt;List&lt;String&gt;&gt;();\n        List&lt;String&gt; x = new ArrayList&lt;String&gt;();\n        x.add(&quot;Hello&quot;);\n        x.add(&quot;world!&quot;);\n        ls2d.add(x);\n        return ls2d;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":246829,"reputation":21647,"user_id":521180,"accept_rate":56,"display_name":"124697"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57473,"favorite_count":0,"down_vote_count":2,"up_vote_count":31,"accepted_answer_id":10768198,"answer_count":8,"score":29,"last_activity_date":1695617869,"creation_date":1338051327,"question_id":10768170,"body_markdown":"I want to do something like this `ArrayList&lt;String&lt;String&gt;&gt; mylist`\r\n\r\nHow can I create it?\r\n\r\nHow can I add to the external and internal list\r\n\r\nand how can I convert the internal list to a simple array list?","title":"How do I declare a 2D String arraylist?","body":"<p>I want to do something like this <code>ArrayList&lt;String&lt;String&gt;&gt; mylist</code></p>\n\n<p>How can I create it?</p>\n\n<p>How can I add to the external and internal list</p>\n\n<p>and how can I convert the internal list to a simple array list?</p>\n"},{"tags":["java","spring-boot","google-cloud-platform","tags","google-java-format"],"owner":{"account_id":7574811,"reputation":11,"user_id":5747527,"display_name":"Vini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695617129,"creation_date":1695617129,"question_id":77169953,"body_markdown":"Need help with google client lib for creating tags and attach to VM \r\n\r\n\r\n```\r\n\t\t\tInstanceTagDetails instanceTagDetails = new InstanceTagDetails();\r\n\t\t\tinstanceTagDetails.setKey(&quot;tagKeys/281475895256801&quot;);\r\n\t\t\tinstanceTagDetails.setValue(&quot;tagValues/281479362924118&quot;);\r\n\t\t\tcreateData.setTagDetails(List.of(instanceTagDetails));\r\n\r\n\t\t\t// set tags\r\n\t\t\tMap&lt;String, String&gt; tags = new HashMap&lt;&gt;();\r\n\t\t\tif(createData.getTagDetails() != null &amp;&amp; !createData.getTagDetails().isEmpty()) {\r\n\t\t\t\tfor (InstanceTagDetails tagDetail : createData.getTagDetails()) {\r\n\t\t\t\t\ttags.put(tagDetail.getKey(), tagDetail.getValue());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tInstance instanceResource =\r\n\t\t\t\t\tInstance.newBuilder()\r\n\t\t\t\t\t.setName(applianceName)\r\n\t\t\t\t\t.setMachineType(machineType.getSelfLink())\r\n\t\t\t\t\t.addDisks(disk)\r\n\t\t\t\t\t.addAllNetworkInterfaces(interfaceList)\r\n\t\t\t\t\t.setCanIpForward(Boolean.TRUE) // as pass thru VM. Important parameter. Need to check if need to be set on interface to0.\r\n\t\t\t\t\t.setMetadata(metaData)\r\n\t\t\t\t\t.setZone(createData.getAvailabilityZone())\r\n//\t\t\t\t\t\t\t.setParams(InstanceParams.newBuilder().putAllResourceManagerTags(tags))\r\n\t\t\t\t\t.build();\r\n```\r\n\r\nI have tried creating the tags manualyy from GCP and attaching it while creating the VM instance . But I need help with API for creating the tags . Any help much appreciated \r\n","title":"Create GCP tags and attach it to VM using google sdk client library","body":"<p>Need help with google client lib for creating tags and attach to VM</p>\n<pre><code>            InstanceTagDetails instanceTagDetails = new InstanceTagDetails();\n            instanceTagDetails.setKey(&quot;tagKeys/281475895256801&quot;);\n            instanceTagDetails.setValue(&quot;tagValues/281479362924118&quot;);\n            createData.setTagDetails(List.of(instanceTagDetails));\n\n            // set tags\n            Map&lt;String, String&gt; tags = new HashMap&lt;&gt;();\n            if(createData.getTagDetails() != null &amp;&amp; !createData.getTagDetails().isEmpty()) {\n                for (InstanceTagDetails tagDetail : createData.getTagDetails()) {\n                    tags.put(tagDetail.getKey(), tagDetail.getValue());\n                }\n            }\n\n            Instance instanceResource =\n                    Instance.newBuilder()\n                    .setName(applianceName)\n                    .setMachineType(machineType.getSelfLink())\n                    .addDisks(disk)\n                    .addAllNetworkInterfaces(interfaceList)\n                    .setCanIpForward(Boolean.TRUE) // as pass thru VM. Important parameter. Need to check if need to be set on interface to0.\n                    .setMetadata(metaData)\n                    .setZone(createData.getAvailabilityZone())\n//                          .setParams(InstanceParams.newBuilder().putAllResourceManagerTags(tags))\n                    .build();\n</code></pre>\n<p>I have tried creating the tags manualyy from GCP and attaching it while creating the VM instance . But I need help with API for creating the tags . Any help much appreciated</p>\n"},{"tags":["java","spring","spring-security","spring-aop"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695616653,"creation_date":1695616653,"answer_id":77169936,"question_id":77167926,"body_markdown":"As long as you do not change the default `SecurityContextHolderStrategy` to `GlobalSecurityContextHolderStrategy` by changing the system property `spring.security.strategy` to `MODE_GLOBAL` , and can make sure that the `AuditAspect` will be invoked by the URL that is protected by the spring security,  you do not need to worry about it as spring security will make sure that when it finish processing a HTTP request , it will always clear the `SecurityContext`.\r\n\r\nIn the codes, it is done by the `FilterChainProxy#doFilter()` &#39;s finally block  at [here][1].\r\n\r\n  [1]: https://github.com/spring-projects/spring-security/blob/6d318914d58b3780b67faf62e55f016f97bfa089/web/src/main/java/org/springframework/security/web/FilterChainProxy.java#L204","title":"What is correct solution to fetch user authentication from Sring Security in Spring AOP aspect?","body":"<p>As long as you do not change the default <code>SecurityContextHolderStrategy</code> to <code>GlobalSecurityContextHolderStrategy</code> by changing the system property <code>spring.security.strategy</code> to <code>MODE_GLOBAL</code> , and can make sure that the <code>AuditAspect</code> will be invoked by the URL that is protected by the spring security,  you do not need to worry about it as spring security will make sure that when it finish processing a HTTP request , it will always clear the <code>SecurityContext</code>.</p>\n<p>In the codes, it is done by the <code>FilterChainProxy#doFilter()</code> 's finally block  at <a href=\"https://github.com/spring-projects/spring-security/blob/6d318914d58b3780b67faf62e55f016f97bfa089/web/src/main/java/org/springframework/security/web/FilterChainProxy.java#L204\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":16949602,"reputation":29,"user_id":12771746,"display_name":"Maxim Gaiduchek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695616653,"creation_date":1695572106,"question_id":77167926,"body_markdown":"I have an aspect that audit entities&#39; creation, deleting etc. In audit I must fetch the user, that triggered entity change.\r\n\r\n```\r\npackage com.sdx.rootservice.auditing.aspect;\r\n\r\nimport com.sdx.rootservice.auditing.model.AuditType;\r\nimport com.sdx.rootservice.auditing.service.interfaces.AuditLogService;\r\nimport com.sdx.rootservice.dto.lead.AppealTypeDto;\r\nimport com.sdx.rootservice.security.model.JwtAuthentication;\r\nimport lombok.RequiredArgsConstructor;\r\nimport lombok.extern.log4j.Log4j2;\r\nimport org.aspectj.lang.annotation.AfterReturning;\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport java.util.Optional;\r\n\r\n@Component\r\n@Aspect\r\n@Log4j2\r\n@RequiredArgsConstructor\r\npublic class AuditAspect {\r\n\r\n    private final AuditLogService auditLogService;\r\n\r\n    @AfterReturning(pointcut = &quot;execution(* com.sdx.rootservice.controller.company.AppealTypeController.create(..))&quot;,\r\n            returning = &quot;appealTypeDto&quot;)\r\n    public void afterAppealTypeCreated(AppealTypeDto appealTypeDto) {\r\n        var userId = fetchUserId();\r\n        var targetId = appealTypeDto.getId();\r\n        log.debug(&quot;Created new appeal type: &quot; + appealTypeDto);\r\n        auditLogService.logChanges(userId, &quot;AppealType&quot;, targetId, AuditType.CREATE);\r\n    }\r\n\r\n    @AfterReturning(pointcut = &quot;execution(* com.sdx.rootservice.controller.company.AppealTypeController.delete(..)) &amp;&amp; args(id)&quot;)\r\n    public void afterAppealTypeDeleted(Long id) {\r\n        var userId = fetchUserId();\r\n        log.debug(&quot;Deleted new appeal type: &quot; + id);\r\n        auditLogService.logChanges(userId, &quot;AppealType&quot;, id, AuditType.DELETE);\r\n    }\r\n\r\n    private Long fetchUserId() {\r\n        var authentication = (JwtAuthentication) SecurityContextHolder.getContext().getAuthentication();\r\n        return Optional.ofNullable(authentication)\r\n                .map(JwtAuthentication::getId)\r\n                .orElse(null);\r\n    }\r\n}\r\n```\r\n\r\nI am afraid, that if there are multiple request to create endpoint, Security&#39;s context may change because different thread will be run. What is correct solution to fetch user authentication from Sring Security in Spring AOP aspect?","title":"What is correct solution to fetch user authentication from Sring Security in Spring AOP aspect?","body":"<p>I have an aspect that audit entities' creation, deleting etc. In audit I must fetch the user, that triggered entity change.</p>\n<pre><code>package com.sdx.rootservice.auditing.aspect;\n\nimport com.sdx.rootservice.auditing.model.AuditType;\nimport com.sdx.rootservice.auditing.service.interfaces.AuditLogService;\nimport com.sdx.rootservice.dto.lead.AppealTypeDto;\nimport com.sdx.rootservice.security.model.JwtAuthentication;\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.log4j.Log4j2;\nimport org.aspectj.lang.annotation.AfterReturning;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.stereotype.Component;\n\nimport java.util.Optional;\n\n@Component\n@Aspect\n@Log4j2\n@RequiredArgsConstructor\npublic class AuditAspect {\n\n    private final AuditLogService auditLogService;\n\n    @AfterReturning(pointcut = &quot;execution(* com.sdx.rootservice.controller.company.AppealTypeController.create(..))&quot;,\n            returning = &quot;appealTypeDto&quot;)\n    public void afterAppealTypeCreated(AppealTypeDto appealTypeDto) {\n        var userId = fetchUserId();\n        var targetId = appealTypeDto.getId();\n        log.debug(&quot;Created new appeal type: &quot; + appealTypeDto);\n        auditLogService.logChanges(userId, &quot;AppealType&quot;, targetId, AuditType.CREATE);\n    }\n\n    @AfterReturning(pointcut = &quot;execution(* com.sdx.rootservice.controller.company.AppealTypeController.delete(..)) &amp;&amp; args(id)&quot;)\n    public void afterAppealTypeDeleted(Long id) {\n        var userId = fetchUserId();\n        log.debug(&quot;Deleted new appeal type: &quot; + id);\n        auditLogService.logChanges(userId, &quot;AppealType&quot;, id, AuditType.DELETE);\n    }\n\n    private Long fetchUserId() {\n        var authentication = (JwtAuthentication) SecurityContextHolder.getContext().getAuthentication();\n        return Optional.ofNullable(authentication)\n                .map(JwtAuthentication::getId)\n                .orElse(null);\n    }\n}\n</code></pre>\n<p>I am afraid, that if there are multiple request to create endpoint, Security's context may change because different thread will be run. What is correct solution to fetch user authentication from Sring Security in Spring AOP aspect?</p>\n"},{"tags":["java","jenkins","checkmarx"],"comments":[{"owner":{"account_id":2440193,"reputation":9713,"user_id":2128937,"accept_rate":80,"display_name":"duyn9uyen"},"score":0,"creation_date":1549313331,"post_id":46634577,"comment_id":95850643,"body_markdown":"Did you ever figure out the solution for this? Having the same issue here.","body":"Did you ever figure out the solution for this? Having the same issue here."},{"owner":{"account_id":5741990,"reputation":1420,"user_id":4534414,"accept_rate":40,"display_name":"Anurag_BEHS"},"score":1,"creation_date":1549980800,"post_id":46634577,"comment_id":96095398,"body_markdown":"@duyn9uyen ... still i didn&#39;t got main reason for it. What I have done here and it&#39;s checkMarx scan is working now -&gt; we need to setup a project inside checkMarx website...there we can specify the code repository (i.e from where checkMarx can pull new code) . In Jenkins just use the same project name with correct credential it will start the CheckMarx run automatically.","body":"@duyn9uyen ... still i didn&#39;t got main reason for it. What I have done here and it&#39;s checkMarx scan is working now -&gt; we need to setup a project inside checkMarx website...there we can specify the code repository (i.e from where checkMarx can pull new code) . In Jenkins just use the same project name with correct credential it will start the CheckMarx run automatically."}],"answers":[{"tags":[],"owner":{"account_id":2475475,"reputation":1,"user_id":2156214,"display_name":"user2156214"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519992429,"creation_date":1519992429,"answer_id":49068824,"question_id":46634577,"body_markdown":"in Jenkins you would first need to configure the Source Code Management task of your job to point to your source code repository. The CxSAST Scan task then automatically picks this for processing with Checkmarx plugin.","title":"ERROR: Checkmarx Scan Failed: No files to scan in Jenkins while CxSAST Scan","body":"<p>in Jenkins you would first need to configure the Source Code Management task of your job to point to your source code repository. The CxSAST Scan task then automatically picks this for processing with Checkmarx plugin.</p>\n"},{"tags":[],"owner":{"account_id":25809789,"reputation":1,"user_id":19550749,"display_name":"HND"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657814355,"creation_date":1657814332,"answer_id":72983448,"question_id":46634577,"body_markdown":"I am experiencing the same problem using Bamboo, &quot;No files to zip.&quot;\r\n\r\nThe solution is by creating a new &quot;Source Code Checkout (Checkout from repository)&quot; task before the CxSAST Scanning task, on the same Job.","title":"ERROR: Checkmarx Scan Failed: No files to scan in Jenkins while CxSAST Scan","body":"<p>I am experiencing the same problem using Bamboo, &quot;No files to zip.&quot;</p>\n<p>The solution is by creating a new &quot;Source Code Checkout (Checkout from repository)&quot; task before the CxSAST Scanning task, on the same Job.</p>\n"}],"owner":{"account_id":5741990,"reputation":1420,"user_id":4534414,"accept_rate":40,"display_name":"Anurag_BEHS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11166,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1695614760,"creation_date":1507487230,"question_id":46634577,"body_markdown":"I am trying to run Checkmarx Scan in post build section of Jenkins.&lt;br&gt;\r\nIn my jenkins job steps are --&gt; &lt;br&gt;\r\n1st) Getting source code from SVN Connection to Checkmarx is successful.&lt;br&gt;\r\n2nd) Build code using Maven --- Step 1 and 2 is success.&lt;br&gt;\r\nBut because of 3rd) step i.e CxSAST Scan while running jenkins Build getting error like - &lt;br&gt;\r\n[Checkmarx] - [info] - No files to zip&lt;br&gt;\r\nERROR: Checkmarx Scan Failed: No files to scan&lt;br&gt;&lt;br&gt;\r\nWhere we have to configure -what source file Checkmarx is going to scan as part of Jenkins Build ?&lt;br&gt;\r\nor Where we can upload source code zip in CxSAST plugin of Jenkins ..so that checkmarx can run the Scan after build.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHave attached Job configuration screen sort .&lt;br&gt;\r\nSomeone please guide how to resolve this issue .Thanks !!\r\n\r\n  [1]: https://i.stack.imgur.com/cJJQA.png\r\n  [2]: https://i.stack.imgur.com/BBytw.png","title":"ERROR: Checkmarx Scan Failed: No files to scan in Jenkins while CxSAST Scan","body":"<p>I am trying to run Checkmarx Scan in post build section of Jenkins.<br>\nIn my jenkins job steps are --> <br>\n1st) Getting source code from SVN Connection to Checkmarx is successful.<br>\n2nd) Build code using Maven --- Step 1 and 2 is success.<br>\nBut because of 3rd) step i.e CxSAST Scan while running jenkins Build getting error like - <br>\n[Checkmarx] - [info] - No files to zip<br>\nERROR: Checkmarx Scan Failed: No files to scan<br><br>\nWhere we have to configure -what source file Checkmarx is going to scan as part of Jenkins Build ?<br>\nor Where we can upload source code zip in CxSAST plugin of Jenkins ..so that checkmarx can run the Scan after build.</p>\n\n<p><a href=\"https://i.stack.imgur.com/cJJQA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cJJQA.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/BBytw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BBytw.png\" alt=\"enter image description here\"></a></p>\n\n<p>Have attached Job configuration screen sort .<br>\nSomeone please guide how to resolve this issue .Thanks !!</p>\n"},{"tags":["java","spring","jdbc","struts2","websphere"],"answers":[{"tags":[],"owner":{"account_id":947184,"reputation":48994,"user_id":974186,"accept_rate":79,"display_name":"Ren&#233; Link"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1402850034,"creation_date":1402850034,"answer_id":24231735,"question_id":12041353,"body_markdown":"Even if the answer comes late I hope that it helps someonoe.\r\n\r\nI also faced the problem of an \r\n\r\n    javax.naming.ConfigurationException: NamingManager.getURLContext cannot find the factory for this scheme: java\r\n\r\nand in my case it arised because I used version 3.0 in my web.xml and an ibm-web-bnd.xmi descriptor.\r\n\r\nWhen I used an ibm-web-bnd.xml descriptor instead it worked.\r\n\r\nSo for me it seems that you should use \r\n\r\n - for web-app version &lt;= 2.4 a ibm-bnd-web.**xmi** descriptor\r\n - for web-app version &gt;= 2.5 a ibm-bnd-web.**xml** descriptor\r\n\r\nI also wrote a blog about my experience with this problem\r\n\r\nhttps://www.link-intersystems.com/blog/2014/06/15/how-to-fix-ibm-websphere-jndi-exception-cannot-find-the-factory-for-this-scheme-java/","title":"javax.naming.ConfigurationException after migrating to WAS 8.5 and java 1.7","body":"<p>Even if the answer comes late I hope that it helps someonoe.</p>\n\n<p>I also faced the problem of an </p>\n\n<pre><code>javax.naming.ConfigurationException: NamingManager.getURLContext cannot find the factory for this scheme: java\n</code></pre>\n\n<p>and in my case it arised because I used version 3.0 in my web.xml and an ibm-web-bnd.xmi descriptor.</p>\n\n<p>When I used an ibm-web-bnd.xml descriptor instead it worked.</p>\n\n<p>So for me it seems that you should use </p>\n\n<ul>\n<li>for web-app version &lt;= 2.4 a ibm-bnd-web.<strong>xmi</strong> descriptor</li>\n<li>for web-app version >= 2.5 a ibm-bnd-web.<strong>xml</strong> descriptor</li>\n</ul>\n\n<p>I also wrote a blog about my experience with this problem</p>\n\n<p><a href=\"https://www.link-intersystems.com/blog/2014/06/15/how-to-fix-ibm-websphere-jndi-exception-cannot-find-the-factory-for-this-scheme-java/\" rel=\"nofollow\">https://www.link-intersystems.com/blog/2014/06/15/how-to-fix-ibm-websphere-jndi-exception-cannot-find-the-factory-for-this-scheme-java/</a></p>\n"}],"owner":{"account_id":1766407,"reputation":31,"user_id":1612196,"display_name":"user1612196"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8028,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1695614760,"creation_date":1345479494,"question_id":12041353,"body_markdown":"I am migrating my application from java 1.5 and WAS 6.1 to java 1.7 and WAS 8.5 I am getting the following exception.\r\n\r\n\r\n    [8/20/12 12:01:00:286 EDT] 0000006b SystemErr     R org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;xxxDa\r\n    taSource&#39; defined in class path resource [applicationContext-datasources.xml]: Invocation of init method failed; nested exception is javax.naming\r\n    .ConfigurationException: NamingManager.getURLContext cannot find the factory for this scheme: java\r\n    [8/20/12 12:01:00:286 EDT] 0000006b SystemErr     R \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBe\r\n    an(AbstractAutowireCapableBeanFactory.java:1338)\r\n    [8/20/12 12:01:00:286 EDT] 0000006b SystemErr     R \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean\r\n    (AbstractAutowireCapableBeanFactory.java:473)\r\n    [8/20/12 12:01:00:286 EDT] 0000006b SystemErr     R \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$1.run(Abstra\r\n    ctAutowireCapableBeanFactory.java:409)\r\n    [8/20/12 12:01:00:286 EDT] 0000006b SystemErr     R \tat java.security.AccessController.doPrivileged(AccessController.java:252)\r\n    [8/20/12 12:01:00:286 EDT] 0000006b SystemErr     R \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(A\r\n    bstractAutowireCapableBeanFactory.java:380)\r\n    [8/20/12 12:01:00:286 EDT] 0000006b SystemErr     R \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFac\r\n    tory.java:264)\r\n    [8/20/12 12:01:00:286 EDT] 0000006b SystemErr     R \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(Defau\r\n    ltSingletonBeanRegistry.java:222)\r\n    [8/20/12 12:01:00:286 EDT] 0000006b SystemErr     R \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFacto\r\n    ry.java:261)\r\n    [8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory\r\n    .java:185)\r\n    [8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory\r\n    .java:164)\r\n    [8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingle\r\n    tons(DefaultListableBeanFactory.java:423)\r\n    [8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitializ\r\n    ation(AbstractApplicationContext.java:728)\r\n    [8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicatio\r\n    nContext.java:380)\r\n    [8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R \tat org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.j\r\n    ava:255)\r\n    [8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R \tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.jav\r\n    a:199)\r\n    [8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R \tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderLis\r\n    tener.java:45)\r\n    [8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R \tat scv.cais.cms.jdr.webservice.context.ScvContextLoaderListener.contextInitialized(ScvContex\r\n    tLoaderListener.java:21)\r\n    [8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R \tat com.ibm.ws.webcontainer.webapp.WebApp.notifyServletContextCreated(WebApp.java:1651)\r\n    [8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R \tat com.ibm.ws.webcontainer.webapp.WebAppImpl.initialize(WebAppImpl.java:414)\r\n    [8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R \tat com.ibm.ws.webcontainer.webapp.WebGroupImpl.addWebApplication(WebGroupImpl.java:88)\r\n    [8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R \tat com.ibm.ws.webcontainer.VirtualHostImpl.addWebApplication(VirtualHostImpl.java:169)\r\n    [8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R \tat com.ibm.ws.webcontainer.WSWebContainer.addWebApp(WSWebContainer.java:746)\r\n    [8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R \tat com.ibm.ws.webcontainer.WSWebContainer.addWebApplication(WSWebContainer.java:634)\r\n    [8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R \tat com.ibm.ws.webcontainer.component.WebContainerImpl.install(WebContainerImpl.java:424)\r\n    [8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R \tat com.ibm.ws.webcontainer.component.WebContainerImpl.start(WebContainerImpl.java:718)\r\n    [8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R \tat com.ibm.ws.runtime.component.ApplicationMgrImpl.start(ApplicationMgrImpl.java:1170)\r\n    [8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R \tat com.ibm.ws.runtime.component.DeployedApplicationImpl.fireDeployedObjectStart(DeployedAppl\r\n    icationImpl.java:1370)\r\n    [8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R \tat com.ibm.ws.runtime.component.DeployedModuleImpl.start(DeployedModuleImpl.java:638)\r\n    [8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R \tat com.ibm.ws.runtime.component.DeployedApplicationImpl.start(DeployedApplicationImpl.java:9\r\n    68)\r\n    [8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R \tat com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplication(ApplicationMgrImpl.java:\r\n    769)\r\n    [8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R \tat com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplicationDynamically(ApplicationMg\r\n    rImpl.java:1364)\r\n    [8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R \tat com.ibm.ws.runtime.component.ApplicationMgrImpl.start(ApplicationMgrImpl.java:2169)\r\n    [8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R \tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.start(CompositionUnitMgrImpl.java:445\r\n    )\r\n    [8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R \tat com.ibm.ws.runtime.component.CompositionUnitImpl.start(CompositionUnitImpl.java:123)\r\n    [8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R \tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.start(CompositionUnitMgrImpl.java:388\r\n    )\r\n    [8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R \tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.access$500(CompositionUnitMgrImpl.jav\r\n    a:116)\r\n    [8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R \tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl$1.run(CompositionUnitMgrImpl.java:663\r\n    )\r\n    [8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R \tat com.ibm.ws.security.auth.ContextManagerImpl.runAs(ContextManagerImpl.java:5339)\r\n    [8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R \tat com.ibm.ws.security.auth.ContextManagerImpl.runAsSystem(ContextManagerImpl.java:5555)\r\n    [8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R \tat com.ibm.ws.security.core.SecurityContext.runAsSystem(SecurityContext.java:255)\r\n    [8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R \tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.startCompositionUnit(CompositionUnitM\r\n    grImpl.java:677)\r\n    [8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R \tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.startCompositionUnit(CompositionUnitM\r\n    grImpl.java:621)\r\n    [8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R \tat com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplication(ApplicationMgrImpl.java:\r\n    1256)\r\n    [8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    [8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:88)\r\n    [8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n    [8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R \tat java.lang.reflect.Method.invoke(Method.java:613)\r\n    [8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R \tat sun.reflect.misc.Trampoline.invoke(MethodUtil.java:67)\r\n    [8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    [8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:88)\r\n    [8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n    [8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R \tat java.lang.reflect.Method.invoke(Method.java:613)\r\n    [8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R \tat sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275)\r\n    [8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R \tat javax.management.modelmbean.RequiredModelMBean.invokeMethod(RequiredModelMBean.java:1196)\r\n    [8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R \tat javax.management.modelmbean.RequiredModelMBean.invoke(RequiredModelMBean.java:1060)\r\n    [8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R \tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerIntercepto\r\n    r.java:831)\r\n    [8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R \tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:803)\r\n    [8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R \tat com.ibm.ws.management.AdminServiceImpl$1.run(AdminServiceImpl.java:1335)\r\n    [8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R \tat com.ibm.ws.security.util.AccessController.doPrivileged(AccessController.java:118)\r\n    [8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R \tat com.ibm.ws.management.AdminServiceImpl.invoke(AdminServiceImpl.java:1228)\r\n    [8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R \tat com.ibm.ws.management.application.AppManagementImpl._startApplication(AppManagementImpl.j\r\n    ava:1482)\r\n    [8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R \tat com.ibm.ws.management.application.AppManagementImpl.startApplication(AppManagementImpl.ja\r\n    va:1371)\r\n    [8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R \tat com.ibm.ws.management.application.AppManagementImpl.startApplication(AppManagementImpl.ja\r\n    va:1320)\r\n    [8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    [8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:88)\r\n    [8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n    [8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R \tat java.lang.reflect.Method.invoke(Method.java:613)\r\n    [8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R \tat sun.reflect.misc.Trampoline.invoke(MethodUtil.java:67)\r\n    [8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    [8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:88)\r\n    [8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n    [8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R \tat java.lang.reflect.Method.invoke(Method.java:613)\r\n    [8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R \tat sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275)\r\n    [8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R \tat javax.management.modelmbean.RequiredModelMBean.invokeMethod(RequiredModelMBean.java:1196)\r\n    [8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R \tat javax.management.modelmbean.RequiredModelMBean.invoke(RequiredModelMBean.java:1060)\r\n    [8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R \tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerIntercepto\r\n    r.java:831)\r\n    [8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R \tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:803)\r\n    [8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R \tat com.ibm.ws.management.AdminServiceImpl$1.run(AdminServiceImpl.java:1335)\r\n    [8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R \tat com.ibm.ws.security.util.AccessController.doPrivileged(AccessController.java:118)\r\n    [8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R \tat com.ibm.ws.management.AdminServiceImpl.invoke(AdminServiceImpl.java:1228)\r\n    [8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R \tat com.ibm.ws.management.remote.AdminServiceForwarder.invoke(AdminServiceForwarder.java:346)\r\n    [8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R \tat javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1458)\r\n    [8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R \tat javax.management.remote.rmi.RMIConnectionImpl.access$200(RMIConnectionImpl.java:100)\r\n    [8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R \tat javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.j\r\n    ava:1303)\r\n    [8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R \tat javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.jav\r\n    a:1391)\r\n    [8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R \tat javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:823)\r\n    [8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R \tat javax.management.remote.rmi._RMIConnectionImpl_Tie.invoke(Unknown Source)\r\n    [8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R \tat javax.management.remote.rmi._RMIConnectionImpl_Tie._invoke(Unknown Source)\r\n    [8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R \tat com.ibm.CORBA.iiop.ServerDelegate.dispatchInvokeHandler(ServerDelegate.java:669)\r\n    [8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R \tat com.ibm.CORBA.iiop.ServerDelegate.dispatch(ServerDelegate.java:523)\r\n    [8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R \tat com.ibm.rmi.iiop.ORB.process(ORB.java:523)\r\n    [8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R \tat com.ibm.CORBA.iiop.ORB.process(ORB.java:1575)\r\n    [8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R \tat com.ibm.rmi.iiop.Connection.doRequestWork(Connection.java:2992)\r\n    [8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R \tat com.ibm.rmi.iiop.Connection.doWork(Connection.java:2875)\r\n    [8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R \tat com.ibm.rmi.iiop.WorkUnitImpl.doWork(WorkUnitImpl.java:64)\r\n    [8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R \tat com.ibm.ejs.oa.pool.PooledThread.run(ThreadPool.java:118)\r\n    [8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R \tat com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1783)\r\n    [8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R Caused by: javax.naming.ConfigurationException: NamingManager.getURLContext cannot find the f\r\n    actory for this scheme: java\r\n    [8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R \tat com.ibm.ws.naming.util.Helpers.checkForUrlContext(Helpers.java:1631)\r\n    [8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R \tat com.ibm.ws.naming.util.WsnInitCtx.lookup(WsnInitCtx.java:160)\r\n    [8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R \tat com.ibm.ws.naming.util.WsnInitCtx.lookup(WsnInitCtx.java:179)\r\n    [8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R \tat org.apache.aries.jndi.DelegateContext.lookup(DelegateContext.java:161)\r\n    [8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R \tat javax.naming.InitialContext.lookup(InitialContext.java:422)\r\n    [8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R \tat org.springframework.jndi.JndiTemplate$1.doInContext(JndiTemplate.java:155)\r\n    [8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R \tat org.springframework.jndi.JndiTemplate.execute(JndiTemplate.java:88)\r\n    [8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R \tat org.springframework.jndi.JndiTemplate.lookup(JndiTemplate.java:153)\r\n    [8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R \tat org.springframework.jndi.JndiTemplate.lookup(JndiTemplate.java:178)\r\n    [8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R \tat org.springframework.jndi.JndiLocatorSupport.lookup(JndiLocatorSupport.java:95)\r\n    [8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R \tat org.springframework.jndi.JndiObjectLocator.lookup(JndiObjectLocator.java:105)\r\n    [8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R \tat org.springframework.jndi.JndiObjectFactoryBean.lookupWithFallback(JndiObjectFactoryBean.j\r\n    ava:200)\r\n    [8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R \tat org.springframework.jndi.JndiObjectFactoryBean.afterPropertiesSet(JndiObjectFactoryBean.j\r\n    ava:186)\r\n    [8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMe\r\n    thods(AbstractAutowireCapableBeanFactory.java:1369)\r\n    [8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBe\r\n    an(AbstractAutowireCapableBeanFactory.java:1335)\r\n    [8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R \t... 96 more\r\n\r\n\r\nI don&#39;t get this error when I use java 1.6\r\n\r\nHere is the web.xml snippet I used for resource binding\r\n\r\n  \r\n\r\n      &lt;resource-ref id=&quot;xxx-data-source&quot;&gt;\r\n                &lt;description&gt;XXX Datasource&lt;/description&gt;\r\n                &lt;res-ref-name&gt;jdbc/xxxDatasource&lt;/res-ref-name&gt;\r\n                &lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;\r\n                &lt;res-auth&gt;Container&lt;/res-auth&gt;\r\n                &lt;res-sharing-scope&gt;Shareable&lt;/res-sharing-scope&gt;\r\n            &lt;/resource-ref&gt;\r\n\r\n\r\nI am able to bypass this error when I remove the java: comp/env prefix from my datasource name\r\n\r\nfor example: I am using\r\n\r\n    jdbc.jdr.datasource=jdbc/XxxDatasource\r\n\r\ninstaead of\r\n\r\n    jdbc.jdr.datasource=java:comp/env/jdbc/XxxDatasource\r\n\r\n\r\nBut I cannot remove this from all the places(in some jars).\r\n\r\n\r\ndid anyone face this issue before?\r\n\r\n\r\n\r\n\r\nThanks\r\n\r\n\r\n","title":"javax.naming.ConfigurationException after migrating to WAS 8.5 and java 1.7","body":"<p>I am migrating my application from java 1.5 and WAS 6.1 to java 1.7 and WAS 8.5 I am getting the following exception.</p>\n\n<pre><code>[8/20/12 12:01:00:286 EDT] 0000006b SystemErr     R org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'xxxDa\ntaSource' defined in class path resource [applicationContext-datasources.xml]: Invocation of init method failed; nested exception is javax.naming\n.ConfigurationException: NamingManager.getURLContext cannot find the factory for this scheme: java\n[8/20/12 12:01:00:286 EDT] 0000006b SystemErr     R     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBe\nan(AbstractAutowireCapableBeanFactory.java:1338)\n[8/20/12 12:01:00:286 EDT] 0000006b SystemErr     R     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean\n(AbstractAutowireCapableBeanFactory.java:473)\n[8/20/12 12:01:00:286 EDT] 0000006b SystemErr     R     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$1.run(Abstra\nctAutowireCapableBeanFactory.java:409)\n[8/20/12 12:01:00:286 EDT] 0000006b SystemErr     R     at java.security.AccessController.doPrivileged(AccessController.java:252)\n[8/20/12 12:01:00:286 EDT] 0000006b SystemErr     R     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(A\nbstractAutowireCapableBeanFactory.java:380)\n[8/20/12 12:01:00:286 EDT] 0000006b SystemErr     R     at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFac\ntory.java:264)\n[8/20/12 12:01:00:286 EDT] 0000006b SystemErr     R     at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(Defau\nltSingletonBeanRegistry.java:222)\n[8/20/12 12:01:00:286 EDT] 0000006b SystemErr     R     at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFacto\nry.java:261)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory\n.java:185)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory\n.java:164)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingle\ntons(DefaultListableBeanFactory.java:423)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitializ\nation(AbstractApplicationContext.java:728)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicatio\nnContext.java:380)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.j\nava:255)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.jav\na:199)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderLis\ntener.java:45)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at scv.cais.cms.jdr.webservice.context.ScvContextLoaderListener.contextInitialized(ScvContex\ntLoaderListener.java:21)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at com.ibm.ws.webcontainer.webapp.WebApp.notifyServletContextCreated(WebApp.java:1651)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at com.ibm.ws.webcontainer.webapp.WebAppImpl.initialize(WebAppImpl.java:414)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at com.ibm.ws.webcontainer.webapp.WebGroupImpl.addWebApplication(WebGroupImpl.java:88)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at com.ibm.ws.webcontainer.VirtualHostImpl.addWebApplication(VirtualHostImpl.java:169)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at com.ibm.ws.webcontainer.WSWebContainer.addWebApp(WSWebContainer.java:746)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at com.ibm.ws.webcontainer.WSWebContainer.addWebApplication(WSWebContainer.java:634)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at com.ibm.ws.webcontainer.component.WebContainerImpl.install(WebContainerImpl.java:424)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at com.ibm.ws.webcontainer.component.WebContainerImpl.start(WebContainerImpl.java:718)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at com.ibm.ws.runtime.component.ApplicationMgrImpl.start(ApplicationMgrImpl.java:1170)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.runtime.component.DeployedApplicationImpl.fireDeployedObjectStart(DeployedAppl\nicationImpl.java:1370)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.runtime.component.DeployedModuleImpl.start(DeployedModuleImpl.java:638)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.runtime.component.DeployedApplicationImpl.start(DeployedApplicationImpl.java:9\n68)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplication(ApplicationMgrImpl.java:\n769)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplicationDynamically(ApplicationMg\nrImpl.java:1364)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.runtime.component.ApplicationMgrImpl.start(ApplicationMgrImpl.java:2169)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.runtime.component.CompositionUnitMgrImpl.start(CompositionUnitMgrImpl.java:445\n)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.runtime.component.CompositionUnitImpl.start(CompositionUnitImpl.java:123)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.runtime.component.CompositionUnitMgrImpl.start(CompositionUnitMgrImpl.java:388\n)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.runtime.component.CompositionUnitMgrImpl.access$500(CompositionUnitMgrImpl.jav\na:116)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.runtime.component.CompositionUnitMgrImpl$1.run(CompositionUnitMgrImpl.java:663\n)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.security.auth.ContextManagerImpl.runAs(ContextManagerImpl.java:5339)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.security.auth.ContextManagerImpl.runAsSystem(ContextManagerImpl.java:5555)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.security.core.SecurityContext.runAsSystem(SecurityContext.java:255)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.runtime.component.CompositionUnitMgrImpl.startCompositionUnit(CompositionUnitM\ngrImpl.java:677)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.runtime.component.CompositionUnitMgrImpl.startCompositionUnit(CompositionUnitM\ngrImpl.java:621)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplication(ApplicationMgrImpl.java:\n1256)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:88)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at java.lang.reflect.Method.invoke(Method.java:613)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:67)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:88)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at java.lang.reflect.Method.invoke(Method.java:613)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at javax.management.modelmbean.RequiredModelMBean.invokeMethod(RequiredModelMBean.java:1196)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at javax.management.modelmbean.RequiredModelMBean.invoke(RequiredModelMBean.java:1060)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerIntercepto\nr.java:831)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:803)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at com.ibm.ws.management.AdminServiceImpl$1.run(AdminServiceImpl.java:1335)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at com.ibm.ws.security.util.AccessController.doPrivileged(AccessController.java:118)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at com.ibm.ws.management.AdminServiceImpl.invoke(AdminServiceImpl.java:1228)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at com.ibm.ws.management.application.AppManagementImpl._startApplication(AppManagementImpl.j\nava:1482)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at com.ibm.ws.management.application.AppManagementImpl.startApplication(AppManagementImpl.ja\nva:1371)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at com.ibm.ws.management.application.AppManagementImpl.startApplication(AppManagementImpl.ja\nva:1320)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:88)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at java.lang.reflect.Method.invoke(Method.java:613)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:67)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:88)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at java.lang.reflect.Method.invoke(Method.java:613)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at javax.management.modelmbean.RequiredModelMBean.invokeMethod(RequiredModelMBean.java:1196)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at javax.management.modelmbean.RequiredModelMBean.invoke(RequiredModelMBean.java:1060)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerIntercepto\nr.java:831)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:803)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at com.ibm.ws.management.AdminServiceImpl$1.run(AdminServiceImpl.java:1335)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at com.ibm.ws.security.util.AccessController.doPrivileged(AccessController.java:118)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at com.ibm.ws.management.AdminServiceImpl.invoke(AdminServiceImpl.java:1228)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at com.ibm.ws.management.remote.AdminServiceForwarder.invoke(AdminServiceForwarder.java:346)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1458)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at javax.management.remote.rmi.RMIConnectionImpl.access$200(RMIConnectionImpl.java:100)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.j\nava:1303)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.jav\na:1391)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:823)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at javax.management.remote.rmi._RMIConnectionImpl_Tie.invoke(Unknown Source)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at javax.management.remote.rmi._RMIConnectionImpl_Tie._invoke(Unknown Source)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at com.ibm.CORBA.iiop.ServerDelegate.dispatchInvokeHandler(ServerDelegate.java:669)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at com.ibm.CORBA.iiop.ServerDelegate.dispatch(ServerDelegate.java:523)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at com.ibm.rmi.iiop.ORB.process(ORB.java:523)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at com.ibm.CORBA.iiop.ORB.process(ORB.java:1575)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at com.ibm.rmi.iiop.Connection.doRequestWork(Connection.java:2992)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at com.ibm.rmi.iiop.Connection.doWork(Connection.java:2875)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at com.ibm.rmi.iiop.WorkUnitImpl.doWork(WorkUnitImpl.java:64)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at com.ibm.ejs.oa.pool.PooledThread.run(ThreadPool.java:118)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1783)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R Caused by: javax.naming.ConfigurationException: NamingManager.getURLContext cannot find the f\nactory for this scheme: java\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at com.ibm.ws.naming.util.Helpers.checkForUrlContext(Helpers.java:1631)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at com.ibm.ws.naming.util.WsnInitCtx.lookup(WsnInitCtx.java:160)\n[8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R     at com.ibm.ws.naming.util.WsnInitCtx.lookup(WsnInitCtx.java:179)\n[8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R     at org.apache.aries.jndi.DelegateContext.lookup(DelegateContext.java:161)\n[8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R     at javax.naming.InitialContext.lookup(InitialContext.java:422)\n[8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R     at org.springframework.jndi.JndiTemplate$1.doInContext(JndiTemplate.java:155)\n[8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R     at org.springframework.jndi.JndiTemplate.execute(JndiTemplate.java:88)\n[8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R     at org.springframework.jndi.JndiTemplate.lookup(JndiTemplate.java:153)\n[8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R     at org.springframework.jndi.JndiTemplate.lookup(JndiTemplate.java:178)\n[8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R     at org.springframework.jndi.JndiLocatorSupport.lookup(JndiLocatorSupport.java:95)\n[8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R     at org.springframework.jndi.JndiObjectLocator.lookup(JndiObjectLocator.java:105)\n[8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R     at org.springframework.jndi.JndiObjectFactoryBean.lookupWithFallback(JndiObjectFactoryBean.j\nava:200)\n[8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R     at org.springframework.jndi.JndiObjectFactoryBean.afterPropertiesSet(JndiObjectFactoryBean.j\nava:186)\n[8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMe\nthods(AbstractAutowireCapableBeanFactory.java:1369)\n[8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBe\nan(AbstractAutowireCapableBeanFactory.java:1335)\n[8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R     ... 96 more\n</code></pre>\n\n<p>I don't get this error when I use java 1.6</p>\n\n<p>Here is the web.xml snippet I used for resource binding</p>\n\n<pre><code>  &lt;resource-ref id=\"xxx-data-source\"&gt;\n            &lt;description&gt;XXX Datasource&lt;/description&gt;\n            &lt;res-ref-name&gt;jdbc/xxxDatasource&lt;/res-ref-name&gt;\n            &lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;\n            &lt;res-auth&gt;Container&lt;/res-auth&gt;\n            &lt;res-sharing-scope&gt;Shareable&lt;/res-sharing-scope&gt;\n        &lt;/resource-ref&gt;\n</code></pre>\n\n<p>I am able to bypass this error when I remove the java: comp/env prefix from my datasource name</p>\n\n<p>for example: I am using</p>\n\n<pre><code>jdbc.jdr.datasource=jdbc/XxxDatasource\n</code></pre>\n\n<p>instaead of</p>\n\n<pre><code>jdbc.jdr.datasource=java:comp/env/jdbc/XxxDatasource\n</code></pre>\n\n<p>But I cannot remove this from all the places(in some jars).</p>\n\n<p>did anyone face this issue before?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","spring","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695613795,"creation_date":1695613795,"answer_id":77169834,"question_id":77168898,"body_markdown":"Flushing means all pending changes in the persistence context will be applied to DB but the `save()` here will just insert one entity to DB. It will not apply all pending changes to DB and so it is not flushing.\r\n\r\nYou can verify it by loading an existing entity from DB and make some changes on it before you save the new entity , and you can see that the modified changes in that existing entity will not be flushed to DB at `save()`.\r\n\r\n\r\nIf you want , you can also think that flushing mentioned in the auto flush means flushing **ALL** changes while `save()` just flush **ONE** change to insert a new entity which are different things.","title":"Spring JPA Auto Flush","body":"<p>Flushing means all pending changes in the persistence context will be applied to DB but the <code>save()</code> here will just insert one entity to DB. It will not apply all pending changes to DB and so it is not flushing.</p>\n<p>You can verify it by loading an existing entity from DB and make some changes on it before you save the new entity , and you can see that the modified changes in that existing entity will not be flushed to DB at <code>save()</code>.</p>\n<p>If you want , you can also think that flushing mentioned in the auto flush means flushing <strong>ALL</strong> changes while <code>save()</code> just flush <strong>ONE</strong> change to insert a new entity which are different things.</p>\n"}],"owner":{"account_id":2097244,"reputation":1405,"user_id":1865719,"accept_rate":78,"display_name":"Mohammad Karmi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77169834,"answer_count":1,"score":0,"last_activity_date":1695613795,"creation_date":1695588627,"question_id":77168898,"body_markdown":"I noticed that every query I do cause a flush , I know from the JPA doc the following :\r\n\r\n&gt; When using the default AUTO flush mode, the Persistence Context should\r\n&gt; be flushed as follows:\r\n&gt; \r\n&gt; before the transaction is committed\r\n\r\n&gt; before running a JPQL or HQL\r\n\r\n&gt; query before executing a native SQL query\r\n\r\nnow my question is why JPA run the insert query after the save immediatly ?\r\n\r\n \r\n\r\n       @Transactional\r\n        public void test() {\r\n            Post post=new Post();\r\n            post.setName(&quot;post 1&quot;);\r\n            postRepository.save(post);// After this and before the sleep , the insert is executed \r\n    \r\n            try {\r\n                System.out.println(&quot;sleeping.....&quot;);\r\n                Thread.sleep(5000L);\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            commentRepository.findAll();\r\n    \r\n        }\r\n\r\noutput : \r\n\r\nHibernate: insert into post (name,id) values (?,default)\r\n\r\nsleeping.....\r\n\r\nHibernate: select c1_0.id,c1_0.post_id,c1_0.review from comment c1_0\r\n\r\n\r\nshouldn&#39;t the insert happen after the sleep ?","title":"Spring JPA Auto Flush","body":"<p>I noticed that every query I do cause a flush , I know from the JPA doc the following :</p>\n<blockquote>\n<p>When using the default AUTO flush mode, the Persistence Context should\nbe flushed as follows:</p>\n<p>before the transaction is committed</p>\n</blockquote>\n<blockquote>\n<p>before running a JPQL or HQL</p>\n</blockquote>\n<blockquote>\n<p>query before executing a native SQL query</p>\n</blockquote>\n<p>now my question is why JPA run the insert query after the save immediatly ?</p>\n<pre><code>   @Transactional\n    public void test() {\n        Post post=new Post();\n        post.setName(&quot;post 1&quot;);\n        postRepository.save(post);// After this and before the sleep , the insert is executed \n\n        try {\n            System.out.println(&quot;sleeping.....&quot;);\n            Thread.sleep(5000L);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n        commentRepository.findAll();\n\n    }\n</code></pre>\n<p>output :</p>\n<p>Hibernate: insert into post (name,id) values (?,default)</p>\n<p>sleeping.....</p>\n<p>Hibernate: select c1_0.id,c1_0.post_id,c1_0.review from comment c1_0</p>\n<p>shouldn't the insert happen after the sleep ?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9829,"page":163,"page_size":100}
