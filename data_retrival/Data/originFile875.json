{"items":[{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":1,"creation_date":1668698402,"post_id":74477344,"comment_id":131473978,"body_markdown":"You need to indicate the entire problem descriptions. We can&#39;t see what you&#39;re seeing based on what you&#39;ve written. Are all these added exports something you should put into your mudule-info?","body":"You need to indicate the entire problem descriptions. We can&#39;t see what you&#39;re seeing based on what you&#39;ve written. Are all these added exports something you should put into your mudule-info?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1668698558,"post_id":74477344,"comment_id":131474041,"body_markdown":"You configured `--add-exports` in _Projects &gt; Properties: Java Build Path_ in the tab _Module Dependencies_, right? Please show your exact project settings and the error message.","body":"You configured <code>--add-exports</code> in <i>Projects &gt; Properties: Java Build Path</i> in the tab <i>Module Dependencies</i>, right? Please show your exact project settings and the error message."},{"owner":{"account_id":3885918,"reputation":305,"user_id":3217285,"display_name":"Hamish258"},"score":0,"creation_date":1668726835,"post_id":74477344,"comment_id":131483360,"body_markdown":"thanks folks, I&#39;ve added the screenshots, it&#39;s no different from with the command line compiler. what I&#39;m really looking for is how to diagnose these types of issues, there&#39;s absolutely no meaningful message anywhere, and thinking there has to be some tracing or something.","body":"thanks folks, I&#39;ve added the screenshots, it&#39;s no different from with the command line compiler. what I&#39;m really looking for is how to diagnose these types of issues, there&#39;s absolutely no meaningful message anywhere, and thinking there has to be some tracing or something."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1668760081,"post_id":74477344,"comment_id":131489132,"body_markdown":"In the cropped screenshot, which presumably shows the Problems view, the column _Description_ is not shown (maybe because you made the column too small, scrolled to the right or hide the column via the view menu _Configure Columns..._). Please select both problems, copy them and paste the unmodified text into your question.","body":"In the cropped screenshot, which presumably shows the Problems view, the column <i>Description</i> is not shown (maybe because you made the column too small, scrolled to the right or hide the column via the view menu <i>Configure Columns...</i>). Please select both problems, copy them and paste the unmodified text into your question."},{"owner":{"account_id":3885918,"reputation":305,"user_id":3217285,"display_name":"Hamish258"},"score":1,"creation_date":1668838404,"post_id":74477344,"comment_id":131508142,"body_markdown":"SMH. Thank you very much @howlger, I&#39;d been asking for trace settings or something but the reality is I wasn&#39;t actually seeing the error! It hadn&#39;t occurred to me, despite using eclipse on and off for &gt; 10 years now, that somehow the view had got corrupt / altered such that it was hiding the actual error message! I&#39;m so used to clicking on the error, it taking me to the code and that&#39;s where whatever the flaw is becomes clear. The issue btw was actually an incompatibility between the additional exports from java.base in the build path, and a setting over in the compiler options panel.","body":"SMH. Thank you very much @howlger, I&#39;d been asking for trace settings or something but the reality is I wasn&#39;t actually seeing the error! It hadn&#39;t occurred to me, despite using eclipse on and off for &gt; 10 years now, that somehow the view had got corrupt / altered such that it was hiding the actual error message! I&#39;m so used to clicking on the error, it taking me to the code and that&#39;s where whatever the flaw is becomes clear. The issue btw was actually an incompatibility between the additional exports from java.base in the build path, and a setting over in the compiler options panel."}],"owner":{"account_id":3885918,"reputation":305,"user_id":3217285,"display_name":"Hamish258"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668726767,"creation_date":1668696169,"question_id":74477344,"body_markdown":"Trying to build a small java app with jdk17 from an Eclipse 22-09 running on jdk19. App compiles fine from command line with \r\n```\r\njavac src/module-info.java src/xyz/arwhite/pki/*.java --add-exports java.base/sun.security.tools.keytool=pkix --add-exports java.base/sun.security.x509=pkix --add-exports java.base/sun.security.provider=pkix --add-exports java.base/sun.security.util=pkix --add-exports java.base/sun.security.pkcs10=pkix --add-exports java.base/sun.security.pkcs12=pkix --add-exports java.base/sun.security.pkcs=pkix --add-exports jdk.httpserver/com.sun.net.httpserver=pkix -d bin\r\n```\r\n\r\nEclipse however is showing \r\n1. Resource pkix Location Build Path Type Build Path Problem, and a second error \r\n2. Resource pkix Location Unknown Type Java Error.\r\n\r\nIn Project Settings Build Path there is no error flagged, the correct JDK is associated, the correct additional exports. Nothing to suggest what the problem is that Eclipse has.\r\n\r\nCan anyone help with debug settings or some logging or something that will help me figure out what Eclipse doesn&#39;t like please? \r\n\r\nEditing to add screenshots of the exports etc, really looking to understand though how to trace stuff in Eclipse, there must be some mechanisms for seeing why Eclipse is saying what it&#39;s saying.\r\n\r\n[![exports][1]][1]\r\n\r\nmodule-info.java\r\n```\r\nmodule pkix {\r\n\trequires java.base;\r\n\trequires java.net.http;\r\n\trequires jdk.httpserver;\r\n}\r\n```\r\nHelpful error messages ...\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZZNjo.png\r\n  [2]: https://i.stack.imgur.com/uQSzS.png","title":"Eclipse 22-09 Java 19 Build Path unspecified error preventing build","body":"<p>Trying to build a small java app with jdk17 from an Eclipse 22-09 running on jdk19. App compiles fine from command line with</p>\n<pre><code>javac src/module-info.java src/xyz/arwhite/pki/*.java --add-exports java.base/sun.security.tools.keytool=pkix --add-exports java.base/sun.security.x509=pkix --add-exports java.base/sun.security.provider=pkix --add-exports java.base/sun.security.util=pkix --add-exports java.base/sun.security.pkcs10=pkix --add-exports java.base/sun.security.pkcs12=pkix --add-exports java.base/sun.security.pkcs=pkix --add-exports jdk.httpserver/com.sun.net.httpserver=pkix -d bin\n</code></pre>\n<p>Eclipse however is showing</p>\n<ol>\n<li>Resource pkix Location Build Path Type Build Path Problem, and a second error</li>\n<li>Resource pkix Location Unknown Type Java Error.</li>\n</ol>\n<p>In Project Settings Build Path there is no error flagged, the correct JDK is associated, the correct additional exports. Nothing to suggest what the problem is that Eclipse has.</p>\n<p>Can anyone help with debug settings or some logging or something that will help me figure out what Eclipse doesn't like please?</p>\n<p>Editing to add screenshots of the exports etc, really looking to understand though how to trace stuff in Eclipse, there must be some mechanisms for seeing why Eclipse is saying what it's saying.</p>\n<p><a href=\"https://i.stack.imgur.com/ZZNjo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZZNjo.png\" alt=\"exports\" /></a></p>\n<p>module-info.java</p>\n<pre><code>module pkix {\n    requires java.base;\n    requires java.net.http;\n    requires jdk.httpserver;\n}\n</code></pre>\n<p>Helpful error messages ...\n<a href=\"https://i.stack.imgur.com/uQSzS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uQSzS.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","class","runtime","instance"],"comments":[{"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"score":0,"creation_date":1668726362,"post_id":74483014,"comment_id":131483247,"body_markdown":"Can the caller pass you the instance they desire? What&#39;s the &quot;live&quot; instance for classes that aren&#39;t singletons?","body":"Can the caller pass you the instance they desire? What&#39;s the &quot;live&quot; instance for classes that aren&#39;t singletons?"},{"owner":{"account_id":17974936,"reputation":11,"user_id":13062767,"display_name":"Stephen Kross"},"score":0,"creation_date":1668726425,"post_id":74483014,"comment_id":131483267,"body_markdown":"They can, but I&#39;m really trying to go for usability. That is definitely a solution, so it&#39;s not the end of the world, but I would REALLY like to do as originally intended if I can!","body":"They can, but I&#39;m really trying to go for usability. That is definitely a solution, so it&#39;s not the end of the world, but I would REALLY like to do as originally intended if I can!"},{"owner":{"account_id":17974936,"reputation":11,"user_id":13062767,"display_name":"Stephen Kross"},"score":0,"creation_date":1668726666,"post_id":74483014,"comment_id":131483329,"body_markdown":"In regards to your singleton comment (I see you edited that so didn&#39;t include it in my comment): I could also impose this. But I really don&#39;t like the idea of imposing on my API users that their command classes must all be singletons.","body":"In regards to your singleton comment (I see you edited that so didn&#39;t include it in my comment): I could also impose this. But I really don&#39;t like the idea of imposing on my API users that their command classes must all be singletons."},{"owner":{"account_id":17974936,"reputation":11,"user_id":13062767,"display_name":"Stephen Kross"},"score":0,"creation_date":1668726864,"post_id":74483014,"comment_id":131483367,"body_markdown":"Is there any solution involving a class loader maybe?","body":"Is there any solution involving a class loader maybe?"},{"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"score":0,"creation_date":1668787663,"post_id":74483014,"comment_id":131498616,"body_markdown":"@StevenKross - If the caller doesn&#39;t pass you an instance, and there can be multiple instances, how would your code know which instance is the specific &quot;live&quot; instance?","body":"@StevenKross - If the caller doesn&#39;t pass you an instance, and there can be multiple instances, how would your code know which instance is the specific &quot;live&quot; instance?"},{"owner":{"account_id":17974936,"reputation":11,"user_id":13062767,"display_name":"Stephen Kross"},"score":0,"creation_date":1668789351,"post_id":74483014,"comment_id":131499221,"body_markdown":"Well I was assuming a well-written method would return a collection of them, which I can then sift through manually.","body":"Well I was assuming a well-written method would return a collection of them, which I can then sift through manually."}],"owner":{"account_id":17974936,"reputation":11,"user_id":13062767,"display_name":"Stephen Kross"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668725538,"creation_date":1668725500,"question_id":74483014,"body_markdown":"I am making a command framework API. People will use my API in their own project.\r\n\r\nI have detected all @Command annotations, and when I trigger the command I invoke their attached method.\r\n\r\nThe issue is I need to be able to either load these classes, or get the live instance. This is because they may have chosen to load the command class themself if they, for example, use a constructor to pass data. Or not.\r\n\r\nI&#39;ve got the former worked out (which works fine):\r\n\r\n\r\n```\r\nmapping.getMethod().invoke(mapping.getMethod().getDeclaringClass().newInstance(), paramValues);\r\n```\r\n\r\nBut this errors if a live instance exists. How can I get the the live instance? \r\n\r\nThis is a tricky situation as I am trying to do this for THEIR classes not mine, so I have a lot less available to me. I&#39;m happy to use reflection or whatever hacky methods you come up with. ","title":"How do I get an instance of a class at runtime?","body":"<p>I am making a command framework API. People will use my API in their own project.</p>\n<p>I have detected all @Command annotations, and when I trigger the command I invoke their attached method.</p>\n<p>The issue is I need to be able to either load these classes, or get the live instance. This is because they may have chosen to load the command class themself if they, for example, use a constructor to pass data. Or not.</p>\n<p>I've got the former worked out (which works fine):</p>\n<pre><code>mapping.getMethod().invoke(mapping.getMethod().getDeclaringClass().newInstance(), paramValues);\n</code></pre>\n<p>But this errors if a live instance exists. How can I get the the live instance?</p>\n<p>This is a tricky situation as I am trying to do this for THEIR classes not mine, so I have a lot less available to me. I'm happy to use reflection or whatever hacky methods you come up with.</p>\n"},{"tags":["java","ssl","https"],"comments":[{"owner":{"account_id":1745021,"reputation":35219,"user_id":1595451,"accept_rate":100,"display_name":"Rub&#233;n"},"score":0,"creation_date":1668724117,"post_id":13654173,"comment_id":131482677,"body_markdown":"Library link is broken.","body":"Library link is broken."}],"answers":[{"tags":[],"owner":{"account_id":961675,"reputation":4991,"user_id":985906,"accept_rate":93,"display_name":"JoshDM"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1354464953,"creation_date":1354316316,"answer_id":13654396,"question_id":13654173,"body_markdown":"Innovation HTTPClient doesn&#39;t directly support HTTPS.  See [this page on the Innovation website][1] for more information.  There are a number of 3rd party patches and examples listed there which you can implement.  Setting certificate acceptance depends on the patch implementation you choose.\r\n\r\n**EDIT / UPDATE**\r\n\r\nNote that `JSSE SSL` implementation is being used and the intent is to define a `TrustedManager` and bind it via `SSLContext` to `HTTPConnection`.\r\n\r\nAssuming you know how to create a `TrustManager`, the following code is co-opted from [this Stackoverflow page][2], which also shows how to generate one.\r\n\r\n    TrustManager[] trustAllCerts = new TrustManager[] { ... };\r\n\r\n    // Install the all-trusting trust manager\r\n    try {\r\n        SSLContext sc = SSLContext.getInstance(&quot;TLS&quot;);\r\n        sc.init(null, trustAllCerts, new java.security.SecureRandom());\r\n\r\nPer the README file I got from the JSSE SSL download off the Innovation website link from earlier, you can assign it to the HTTPConnection by doing this:\r\n\r\n        // Attach context to connection via socket factory\r\n        HTTPConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\r\n\r\n    } catch (Exception e) { ... }\r\n\r\n  [1]: http://www.innovation.ch/java/HTTPClient/https.html\r\n  [2]: https://stackoverflow.com/questions/995514/https-connection-android#1000205    \r\n","title":"Innovation HTTP Client - How do I set SSL to accept all server certificates?","body":"<p>Innovation HTTPClient doesn't directly support HTTPS.  See <a href=\"http://www.innovation.ch/java/HTTPClient/https.html\" rel=\"nofollow noreferrer\">this page on the Innovation website</a> for more information.  There are a number of 3rd party patches and examples listed there which you can implement.  Setting certificate acceptance depends on the patch implementation you choose.</p>\n\n<p><strong>EDIT / UPDATE</strong></p>\n\n<p>Note that <code>JSSE SSL</code> implementation is being used and the intent is to define a <code>TrustedManager</code> and bind it via <code>SSLContext</code> to <code>HTTPConnection</code>.</p>\n\n<p>Assuming you know how to create a <code>TrustManager</code>, the following code is co-opted from <a href=\"https://stackoverflow.com/questions/995514/https-connection-android#1000205\">this Stackoverflow page</a>, which also shows how to generate one.</p>\n\n<pre><code>TrustManager[] trustAllCerts = new TrustManager[] { ... };\n\n// Install the all-trusting trust manager\ntry {\n    SSLContext sc = SSLContext.getInstance(\"TLS\");\n    sc.init(null, trustAllCerts, new java.security.SecureRandom());\n</code></pre>\n\n<p>Per the README file I got from the JSSE SSL download off the Innovation website link from earlier, you can assign it to the HTTPConnection by doing this:</p>\n\n<pre><code>    // Attach context to connection via socket factory\n    HTTPConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\n\n} catch (Exception e) { ... }\n</code></pre>\n"}],"owner":{"account_id":2099650,"reputation":474,"user_id":1867646,"accept_rate":29,"display_name":"Marek-A-"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":489,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":13654396,"answer_count":1,"score":1,"last_activity_date":1668724086,"creation_date":1354314895,"question_id":13654173,"body_markdown":"I plan to connect via HTTPS to a server using the Innovation HTTP Client.\r\n\r\nI need to be able to accept all server SSL certificates. \r\n\r\nThere are some [examples][1] using HttpsURLConnection, but I need to use the Innovation implementation. \r\n\r\nDoes anyone have any examples for [Innovation HTTP Client][2]? \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6292799/basic-authentication-with-https?rq=1\r\n  [2]: http://www.innovation.ch/java/HTTPClient/","title":"Innovation HTTP Client - How do I set SSL to accept all server certificates?","body":"<p>I plan to connect via HTTPS to a server using the Innovation HTTP Client.</p>\n\n<p>I need to be able to accept all server SSL certificates. </p>\n\n<p>There are some <a href=\"https://stackoverflow.com/questions/6292799/basic-authentication-with-https?rq=1\">examples</a> using HttpsURLConnection, but I need to use the Innovation implementation. </p>\n\n<p>Does anyone have any examples for <a href=\"http://www.innovation.ch/java/HTTPClient/\" rel=\"nofollow noreferrer\">Innovation HTTP Client</a>? </p>\n"},{"tags":["java","c++","programming-languages","language-design"],"comments":[{"owner":{"account_id":12256,"reputation":79165,"user_id":24039,"accept_rate":56,"display_name":"Simon"},"score":0,"creation_date":1233075022,"post_id":484172,"comment_id":300630,"body_markdown":"can you cite a couple of ways in which you think it ought to be extended/iterated and thereby disclose what you see as its inadequacies?","body":"can you cite a couple of ways in which you think it ought to be extended/iterated and thereby disclose what you see as its inadequacies?"},{"owner":{"account_id":10732,"reputation":54820,"user_id":20400,"accept_rate":72,"display_name":"Omar Kooheji"},"score":2,"creation_date":1233080097,"post_id":484172,"comment_id":301014,"body_markdown":"personally I&#39;d like to see events and delagates like in C#","body":"personally I&#39;d like to see events and delagates like in C#"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":8,"creation_date":1245221570,"post_id":484172,"comment_id":814425,"body_markdown":"I think these are called groovy and scala. ;)","body":"I think these are called groovy and scala. ;)"},{"owner":{"account_id":31685,"reputation":3185,"user_id":87206,"display_name":"CurtainDog"},"score":2,"creation_date":1263273514,"post_id":484172,"comment_id":1973747,"body_markdown":"What you&#39;re asking for is basically C# and, for what it&#39;s worth, I&#39;d still go with Java. A lot of the &#39;modern productivity features&#39; you list as missing in the language are either still being hotly debated i.e. closures, or considered and rejected way back when.","body":"What you&#39;re asking for is basically C# and, for what it&#39;s worth, I&#39;d still go with Java. A lot of the &#39;modern productivity features&#39; you list as missing in the language are either still being hotly debated i.e. closures, or considered and rejected way back when."}],"answers":[{"tags":[],"owner":{"account_id":1781,"reputation":91962,"user_id":2443,"accept_rate":82,"display_name":"Allain Lalonde"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1233082271,"creation_date":1233074881,"answer_id":484178,"question_id":484172,"body_markdown":"Like, say, [Scala][1] or better yet Groovy which bills itself as a dynamic version of java?\r\n\r\n\r\n  [1]: http://www.scala-lang.org/","title":"Do we need a Java++?","body":"<p>Like, say, <a href=\"http://www.scala-lang.org/\" rel=\"noreferrer\">Scala</a> or better yet Groovy which bills itself as a dynamic version of java?</p>\n"},{"tags":[],"owner":{"account_id":4829,"reputation":8897,"user_id":7453,"accept_rate":93,"display_name":"Patrick Szalapski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1233075055,"creation_date":1233075055,"answer_id":484186,"question_id":484172,"body_markdown":"Wouldn&#39;t such an effort by Sun simply be called Java 7 (or 1.7 or 2.0)?  Wouldn&#39;t such an effort by some other person/group be called something other than Java?","title":"Do we need a Java++?","body":"<p>Wouldn't such an effort by Sun simply be called Java 7 (or 1.7 or 2.0)?  Wouldn't such an effort by some other person/group be called something other than Java?</p>\n"},{"tags":[],"owner":{"account_id":6454,"reputation":25554,"user_id":10861,"accept_rate":76,"display_name":"rmeador"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1233075076,"creation_date":1233075076,"answer_id":484189,"question_id":484172,"body_markdown":"Check out the information that&#39;s available on Java 7.  I think you&#39;ll find it is scheduled to add several features everyone is asking for, most notably closures.","title":"Do we need a Java++?","body":"<p>Check out the information that's available on Java 7.  I think you'll find it is scheduled to add several features everyone is asking for, most notably closures.</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1233075413,"creation_date":1233075413,"answer_id":484218,"question_id":484172,"body_markdown":"If you were going to make big changes, wouldn&#39;t you want to start over again? There&#39;s lots of things that could do with fixing/removing in Java. You can&#39;t consider features individually - they do interact in unexpected ways. A big and complex language is probably a bad language (see C++).","title":"Do we need a Java++?","body":"<p>If you were going to make big changes, wouldn't you want to start over again? There's lots of things that could do with fixing/removing in Java. You can't consider features individually - they do interact in unexpected ways. A big and complex language is probably a bad language (see C++).</p>\n"},{"tags":[],"owner":{"account_id":9608,"reputation":17506,"user_id":17832,"display_name":"JeeBee"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1233075865,"creation_date":1233075865,"answer_id":484251,"question_id":484172,"body_markdown":"If you add support for those structures to the JVM (where necessary, e.g., closures), and then create the necessary syntactic sugar in the written language and compiler. Of course if you wish to retain backwards compatibility then you have design decisions to make, which is why the Java Generics weren&#39;t as good as they could have been. You would want to break free of that to get a more perfect Java I think, but there would be very little demand because compatibility is where it is at.\r\n\r\nAnd 7 can go straight away. We&#39;re not running up against FAT12 file limits on a floppy disc here.","title":"Do we need a Java++?","body":"<p>If you add support for those structures to the JVM (where necessary, e.g., closures), and then create the necessary syntactic sugar in the written language and compiler. Of course if you wish to retain backwards compatibility then you have design decisions to make, which is why the Java Generics weren't as good as they could have been. You would want to break free of that to get a more perfect Java I think, but there would be very little demand because compatibility is where it is at.</p>\n\n<p>And 7 can go straight away. We're not running up against FAT12 file limits on a floppy disc here.</p>\n"},{"tags":[],"owner":{"account_id":2529,"reputation":30785,"user_id":3525,"display_name":"joel.neely"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1233078530,"creation_date":1233078530,"answer_id":484441,"question_id":484172,"body_markdown":"I think the answer to &quot;*Do we need a Java++?*&quot; depends on who &quot;*we*&quot; are (and I&#39;m not sure that &quot;*we*&quot; are all instances of one class ;-). This issue has been discussed on more than one occasion by [The Java Posse][1].\r\n\r\nLarge corporate users of Java have a tendency to be more conservative. They have large development staffs and large bodies of existing code. As a consequence, there is a high perceived cost and risk to changes in the language or libraries (training, maintenance, breakage of existing code, etc.).\r\n\r\nOn the other hand, there are lots of small, light-on-their-feet dev teams (open source or otherwise) that are always ready to latch onto the Next Great Idea in programming. It&#39;s not clear to me that a single answer will leave everybody sufficiently satisfied.\r\n\r\nI suggest that the growing ecosystem of JVM-based languages may help address this tension. If newer languages (Scala, Fan, JRuby, JavaFxScript, etc.) provide the notational features (and novelty) that the second group desires, while maintaining interoperability with existing Java (which can move at a more sedate pace), perhaps both groups can have their chosen flavor of cake.\r\n\r\nI&#39;m a little baffled by the degree to which some folks seem to want One True Language. Back in the day, it was quite common to hear the idea that each language (notation) had a &quot;sweet spot&quot; of applicability; sometimes the right solution was to write each part of a system in the appropriate language and link them together.\r\n\r\nBack to the future, anyone?\r\n\r\n  [1]: http://www.javaposse.com/","title":"Do we need a Java++?","body":"<p>I think the answer to \"<em>Do we need a Java++?</em>\" depends on who \"<em>we</em>\" are (and I'm not sure that \"<em>we</em>\" are all instances of one class ;-). This issue has been discussed on more than one occasion by <a href=\"http://www.javaposse.com/\" rel=\"noreferrer\">The Java Posse</a>.</p>\n\n<p>Large corporate users of Java have a tendency to be more conservative. They have large development staffs and large bodies of existing code. As a consequence, there is a high perceived cost and risk to changes in the language or libraries (training, maintenance, breakage of existing code, etc.).</p>\n\n<p>On the other hand, there are lots of small, light-on-their-feet dev teams (open source or otherwise) that are always ready to latch onto the Next Great Idea in programming. It's not clear to me that a single answer will leave everybody sufficiently satisfied.</p>\n\n<p>I suggest that the growing ecosystem of JVM-based languages may help address this tension. If newer languages (Scala, Fan, JRuby, JavaFxScript, etc.) provide the notational features (and novelty) that the second group desires, while maintaining interoperability with existing Java (which can move at a more sedate pace), perhaps both groups can have their chosen flavor of cake.</p>\n\n<p>I'm a little baffled by the degree to which some folks seem to want One True Language. Back in the day, it was quite common to hear the idea that each language (notation) had a \"sweet spot\" of applicability; sometimes the right solution was to write each part of a system in the appropriate language and link them together.</p>\n\n<p>Back to the future, anyone?</p>\n"},{"tags":[],"owner":{"account_id":11354,"reputation":27694,"user_id":21838,"accept_rate":82,"display_name":"Pyrolistical"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1233079056,"creation_date":1233079056,"answer_id":484483,"question_id":484172,"body_markdown":"Those things are mostly fluff.\r\n\r\nYou need to solve some bigger issues like making concurrent code easy to design and reason about.","title":"Do we need a Java++?","body":"<p>Those things are mostly fluff.</p>\n\n<p>You need to solve some bigger issues like making concurrent code easy to design and reason about.</p>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1563024262,"creation_date":1233079448,"answer_id":484515,"question_id":484172,"body_markdown":"Most of the features already exists. \r\n\r\nThat language is:\r\n\r\n\r\n[![groovy][1]][2]  \n&lt;sub&gt;(source: [codehaus.org](http://media.xircles.codehaus.org/_projects/groovy/_logos/medium.png))&lt;/sub&gt;  \n\r\n=\r\n\r\nAs for:\r\n\r\n&gt;*The ability to declare more than one class in a file.*\r\n\r\nIt&#39;s been present in java since the beginning.\r\n\r\n\n [1]: https://i.stack.imgur.com/dJcZg.png\n [2]: https://web.archive.org/web/20150324062712/http://groovy.codehaus.org:80/","title":"Do we need a Java++?","body":"<p>Most of the features already exists. </p>\n\n<p>That language is:</p>\n\n<p><a href=\"https://web.archive.org/web/20150324062712/http://groovy.codehaus.org:80/\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dJcZg.png\" alt=\"groovy\"></a><br>\n<sub>(source: <a href=\"http://media.xircles.codehaus.org/_projects/groovy/_logos/medium.png\" rel=\"nofollow noreferrer\">codehaus.org</a>)</sub>  </p>\n\n<p>=</p>\n\n<p>As for:</p>\n\n<blockquote>\n  <p><em>The ability to declare more than one class in a file.</em></p>\n</blockquote>\n\n<p>It's been present in java since the beginning.</p>\n"},{"tags":[],"owner":{"account_id":10732,"reputation":54820,"user_id":20400,"accept_rate":72,"display_name":"Omar Kooheji"},"down_vote_count":1,"up_vote_count":21,"is_accepted":true,"score":20,"last_activity_date":1263292000,"creation_date":1233080054,"answer_id":484551,"question_id":484172,"body_markdown":"Going to get downvoted by the Java fanboys for this but as someone who writes both Java and C# I&#39;d say that C# is as close to Java ++ as you are going to get.\r\n\r\nC to C++ was a paradigm shift, from procedural to Object oriented, the only reason they retain the name is to woo C programmers into thinking that it was the same language which led to a load of really bad C code masquerading as C++.\r\n\r\nJava is constantly expanding and Sun are quickly incorporating more and more features, so it could well be that Java 7 or 8 is your Java ++","title":"Do we need a Java++?","body":"<p>Going to get downvoted by the Java fanboys for this but as someone who writes both Java and C# I'd say that C# is as close to Java ++ as you are going to get.</p>\n\n<p>C to C++ was a paradigm shift, from procedural to Object oriented, the only reason they retain the name is to woo C programmers into thinking that it was the same language which led to a load of really bad C code masquerading as C++.</p>\n\n<p>Java is constantly expanding and Sun are quickly incorporating more and more features, so it could well be that Java 7 or 8 is your Java ++</p>\n"},{"tags":[],"owner":{"account_id":9557,"reputation":14503,"user_id":17712,"accept_rate":67,"display_name":"Milhous"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1233083094,"creation_date":1233083094,"answer_id":484757,"question_id":484172,"body_markdown":"As java is becoming open source, *you* can take the source(if it is all available) and make your own version of java.  If this gets wide scale adoption then great, if not then it may not be a set of features that are needed.","title":"Do we need a Java++?","body":"<p>As java is becoming open source, <em>you</em> can take the source(if it is all available) and make your own version of java.  If this gets wide scale adoption then great, if not then it may not be a set of features that are needed.</p>\n"},{"tags":[],"owner":{"account_id":878395,"reputation":480,"user_id":45957,"display_name":"Kafka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1233084637,"creation_date":1233084637,"answer_id":484869,"question_id":484172,"body_markdown":"Java can and should be improved, but I don&#39;t think that there needs to be one language to fit all needs. This is generally a bad idea, much like the death star.\r\n\r\nA lot of programmers are just lazy and don&#39;t want to learn new things. They rather stick with the one language they&#39;ve been using for the last 10 years.\r\n\r\nIf you need speed and more control over your hardware, you use something like C. If you need system administration tasks, you probabely end up with shell scripts or a scripting language like perl, python or ruby. If you do a lot of math specific stuff, Matlab is a good choice. Etc. pp.\r\n\r\nUse the best tool for the task, no matter what language it might be. A good programmer should be able to work with any language (As for me, I&#39;m still working on that).","title":"Do we need a Java++?","body":"<p>Java can and should be improved, but I don't think that there needs to be one language to fit all needs. This is generally a bad idea, much like the death star.</p>\n\n<p>A lot of programmers are just lazy and don't want to learn new things. They rather stick with the one language they've been using for the last 10 years.</p>\n\n<p>If you need speed and more control over your hardware, you use something like C. If you need system administration tasks, you probabely end up with shell scripts or a scripting language like perl, python or ruby. If you do a lot of math specific stuff, Matlab is a good choice. Etc. pp.</p>\n\n<p>Use the best tool for the task, no matter what language it might be. A good programmer should be able to work with any language (As for me, I'm still working on that).</p>\n"},{"tags":[],"owner":{"account_id":4938,"reputation":69433,"user_id":7671,"accept_rate":70,"display_name":"Alex Miller"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1233085192,"creation_date":1233084778,"answer_id":484878,"question_id":484172,"body_markdown":"The question is really how you decide what goes in the &quot;next language&quot;.  Just adding/removing features piecemeal will result in a bunch of crap.  It&#39;s much better to think about how the addition or removal of those features (often working in combination) change the way you program according to new principles.  For example, I thought it was interesting that the Java closures proposals suffered in many ways from having to deal with static typing without rich type inference.  There are copious examples of dynamic languages with pretty closures - those go well together.  And Scala and other languages have shown that static typing plus rich type inference can also make closures pretty.  My point is that taking language X and making language X++ is probably not that interesting.  It&#39;s more interesting to see problems in X and make new language Y.\r\n\r\nThere&#39;s certainly nothing preventing you from forking Java now and making it into whatever you want (as long as you don&#39;t call it Java or want to pass the test suite).  As mentioned above, there are already a set of exciting high-quality languages doing just that and maintaining interoperability with Java now.  I&#39;m thinking primarily of Groovy, Scala, Clojure, and Fan and less of ports of prior languages to the JVM like JRuby, Jython, and Rhino which tend to have a more challenging time implementing clean Java integration.  \r\n\r\nIt&#39;s quite likely that the [JSR 292 features][1] coming to the JVM in [Java 7][2] will provide an even richer playground for language development on the already superb JVM base.  And the CLR+DLR are also pushing many interesting boundaries.   \r\n\r\nMore and more, I think the future is going to trend towards picking the right language for the job.  That&#39;s either going to happen in languages with a blended tradition (Scala is a good example of FP / OO for instance) or in virtual machines (JVM, CLR, BEAM, Parrot, whatever) that foster clean integration between multiple languages.  Or most likely, both of these.  I think we are NOT trending towards any one Next Big Language that is a derivative of Java (or anything else).  \r\n\r\n\r\n  [1]: http://tech.puredanger.com/java7#invokedynamic\r\n  [2]: http://tech.puredanger.com/java7","title":"Do we need a Java++?","body":"<p>The question is really how you decide what goes in the \"next language\".  Just adding/removing features piecemeal will result in a bunch of crap.  It's much better to think about how the addition or removal of those features (often working in combination) change the way you program according to new principles.  For example, I thought it was interesting that the Java closures proposals suffered in many ways from having to deal with static typing without rich type inference.  There are copious examples of dynamic languages with pretty closures - those go well together.  And Scala and other languages have shown that static typing plus rich type inference can also make closures pretty.  My point is that taking language X and making language X++ is probably not that interesting.  It's more interesting to see problems in X and make new language Y.</p>\n\n<p>There's certainly nothing preventing you from forking Java now and making it into whatever you want (as long as you don't call it Java or want to pass the test suite).  As mentioned above, there are already a set of exciting high-quality languages doing just that and maintaining interoperability with Java now.  I'm thinking primarily of Groovy, Scala, Clojure, and Fan and less of ports of prior languages to the JVM like JRuby, Jython, and Rhino which tend to have a more challenging time implementing clean Java integration.  </p>\n\n<p>It's quite likely that the <a href=\"http://tech.puredanger.com/java7#invokedynamic\" rel=\"noreferrer\">JSR 292 features</a> coming to the JVM in <a href=\"http://tech.puredanger.com/java7\" rel=\"noreferrer\">Java 7</a> will provide an even richer playground for language development on the already superb JVM base.  And the CLR+DLR are also pushing many interesting boundaries.   </p>\n\n<p>More and more, I think the future is going to trend towards picking the right language for the job.  That's either going to happen in languages with a blended tradition (Scala is a good example of FP / OO for instance) or in virtual machines (JVM, CLR, BEAM, Parrot, whatever) that foster clean integration between multiple languages.  Or most likely, both of these.  I think we are NOT trending towards any one Next Big Language that is a derivative of Java (or anything else).  </p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1233087624,"creation_date":1233087624,"answer_id":485055,"question_id":484172,"body_markdown":"Currently in Java there are workarounds for many of these, which does make it harder to introduce more natural ways of doing these things.\r\n\r\n&gt;   1. First class functions, delegates.\r\n\r\nMost cases are shorter using reflection. (But less natural)\r\n&gt;   .4. Structs as value types distinct from classes, like C# and D.\r\n\r\nThis I would agree with.\r\n&gt;   .5. Properties.\r\n\r\nThis can be done now, but some effort is required. Proper builtin support would be better.\r\n&gt;   .6. An option to ignore checked exceptions.\r\n\r\nYou can do this now, but its a hack. Note: checked exceptions are a compile time feature.  \r\n\r\nI am rather sceptical that this is really a good idea unless people really understand exceptions. Often people who suggest this don&#39;t like being forced to think about error conditions, documenting or handling them.\r\n\r\n&gt;   .7. The ability to declare more than one class in a file.\r\n\r\nYou can do this now. Just not more than one top-level public class.\r\n\r\n&gt;   .8. More powerful builtin arrays that allow things like appending.\r\n\r\nSee commons ArrayUtils.  An array which has a sane toString() would be start.\r\n\r\n&gt;   .9. Better generics/real templates.\r\n\r\nI agree, depending on what you mean. I think they should get the current implimentation to work first, before improving it. e.g. So the Java APIs can be compiled without unchecked warnings.\r\n\r\n&gt;  .10. Something like the dynamic keyword for C# 4.0 that allows duck typing when necessary in a generally static language.\r\n\r\nAgain, reflection does this, but its relatively ugly.\r\n\r\n&gt;  .11. Since Java is primarily a VM language, maybe some hardcore metaprogramming features like generating code on the fly for certain things.\r\n\r\nLike JavaCompiler (In java 6), Scripting support (In java 6), JCI or BeanShell.\r\n","title":"Do we need a Java++?","body":"<p>Currently in Java there are workarounds for many of these, which does make it harder to introduce more natural ways of doing these things.</p>\n\n<blockquote>\n  <ol>\n  <li>First class functions, delegates.</li>\n  </ol>\n</blockquote>\n\n<p>Most cases are shorter using reflection. (But less natural)</p>\n\n<blockquote>\n  <p>.4. Structs as value types distinct from classes, like C# and D.</p>\n</blockquote>\n\n<p>This I would agree with.</p>\n\n<blockquote>\n  <p>.5. Properties.</p>\n</blockquote>\n\n<p>This can be done now, but some effort is required. Proper builtin support would be better.</p>\n\n<blockquote>\n  <p>.6. An option to ignore checked exceptions.</p>\n</blockquote>\n\n<p>You can do this now, but its a hack. Note: checked exceptions are a compile time feature.  </p>\n\n<p>I am rather sceptical that this is really a good idea unless people really understand exceptions. Often people who suggest this don't like being forced to think about error conditions, documenting or handling them.</p>\n\n<blockquote>\n  <p>.7. The ability to declare more than one class in a file.</p>\n</blockquote>\n\n<p>You can do this now. Just not more than one top-level public class.</p>\n\n<blockquote>\n  <p>.8. More powerful builtin arrays that allow things like appending.</p>\n</blockquote>\n\n<p>See commons ArrayUtils.  An array which has a sane toString() would be start.</p>\n\n<blockquote>\n  <p>.9. Better generics/real templates.</p>\n</blockquote>\n\n<p>I agree, depending on what you mean. I think they should get the current implimentation to work first, before improving it. e.g. So the Java APIs can be compiled without unchecked warnings.</p>\n\n<blockquote>\n  <p>.10. Something like the dynamic keyword for C# 4.0 that allows duck typing when necessary in a generally static language.</p>\n</blockquote>\n\n<p>Again, reflection does this, but its relatively ugly.</p>\n\n<blockquote>\n  <p>.11. Since Java is primarily a VM language, maybe some hardcore metaprogramming features like generating code on the fly for certain things.</p>\n</blockquote>\n\n<p>Like JavaCompiler (In java 6), Scripting support (In java 6), JCI or BeanShell.</p>\n"},{"tags":[],"owner":{"account_id":11042,"reputation":7158,"user_id":3540161,"accept_rate":56,"display_name":"Rolf"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1233088803,"creation_date":1233088803,"answer_id":485127,"question_id":484172,"body_markdown":"C++ is object oriented C. Java is already object oriented, so how would we go about another paradigm shift, making it Java++?\r\n\r\nIn a way I think it is the other way around. Java is way ahead of C++. Java has high level libraries and frameworks, whereas C++ very often still is low-level and intermixed with ansi C (because we can).\r\n\r\nJava has good unittesting possibilities, and large communities which are all pointed at the same direction.\r\n\r\nHaving more &quot;features&quot; does not make a language better. I think it is possible to make it worse.\r\n\r\nIn the end, putting one language &quot;in front of&quot; the other is not going to help. Select the best tool for the Job. I think Java as a language is pretty ok as it is. C++ however could use some better libraries, like a port of Spring for instance.","title":"Do we need a Java++?","body":"<p>C++ is object oriented C. Java is already object oriented, so how would we go about another paradigm shift, making it Java++?</p>\n\n<p>In a way I think it is the other way around. Java is way ahead of C++. Java has high level libraries and frameworks, whereas C++ very often still is low-level and intermixed with ansi C (because we can).</p>\n\n<p>Java has good unittesting possibilities, and large communities which are all pointed at the same direction.</p>\n\n<p>Having more \"features\" does not make a language better. I think it is possible to make it worse.</p>\n\n<p>In the end, putting one language \"in front of\" the other is not going to help. Select the best tool for the Job. I think Java as a language is pretty ok as it is. C++ however could use some better libraries, like a port of Spring for instance.</p>\n"},{"tags":[],"owner":{"account_id":17071,"reputation":1828,"user_id":37840,"accept_rate":62,"display_name":"Overflown"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1233122275,"creation_date":1233122275,"answer_id":486605,"question_id":484172,"body_markdown":"I actually really agree with your sentiment, having run into issues with Java that could be alleviated by your suggestions.\r\n\r\nIn principle, you could write your own javac that works for this and uses the existing Hotspot JRE.  However, you really can&#39;t make that happen without Sun&#39;s help.\r\n\r\nThe problem is really twofold: 1) Sun&#39;s approach is to support the &quot;Java platform&quot; and is resistant to a new standard, even a superset and 2) to get any change to Java, you have to get a JSR issued -- and that usually requires a corporate sponsors.  The corporations tend to have other priorities.\r\n\r\nThen again, I would urge you to push for it.  After all, until 2007 many smart people almost remade Java from scratch = GNU classpath.  So there is the requisite talent for a &quot;second first-class JVM language.&quot;\r\n","title":"Do we need a Java++?","body":"<p>I actually really agree with your sentiment, having run into issues with Java that could be alleviated by your suggestions.</p>\n\n<p>In principle, you could write your own javac that works for this and uses the existing Hotspot JRE.  However, you really can't make that happen without Sun's help.</p>\n\n<p>The problem is really twofold: 1) Sun's approach is to support the \"Java platform\" and is resistant to a new standard, even a superset and 2) to get any change to Java, you have to get a JSR issued -- and that usually requires a corporate sponsors.  The corporations tend to have other priorities.</p>\n\n<p>Then again, I would urge you to push for it.  After all, until 2007 many smart people almost remade Java from scratch = GNU classpath.  So there is the requisite talent for a \"second first-class JVM language.\"</p>\n"},{"tags":[],"owner":{"account_id":15903,"reputation":323433,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1233129835,"creation_date":1233129835,"answer_id":486828,"question_id":484172,"body_markdown":"I suggest to have a look at [Beyond Java](http://oreilly.com/catalog/9780596100940/).\r\n\r\nThere a good [review][1] on [Joel on Software][2].\r\n\r\n\r\n  [1]: http://www.joelonsoftware.com/items/2006/10/12.html\r\n  [2]: http://www.joelonsoftware.com/","title":"Do we need a Java++?","body":"<p>I suggest to have a look at <a href=\"http://oreilly.com/catalog/9780596100940/\" rel=\"nofollow noreferrer\">Beyond Java</a>.</p>\n\n<p>There a good <a href=\"http://www.joelonsoftware.com/items/2006/10/12.html\" rel=\"nofollow noreferrer\">review</a> on <a href=\"http://www.joelonsoftware.com/\" rel=\"nofollow noreferrer\">Joel on Software</a>.</p>\n"},{"tags":[],"owner":{"account_id":20670,"reputation":16103,"user_id":49643,"display_name":"Ray Hidayat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1233131449,"creation_date":1233131449,"answer_id":486891,"question_id":484172,"body_markdown":"As much as I do feel that Java has become outdated, the truth is, I think we all know that as a language it still works pretty well. Sure, a lot of the newer stuff that we can find in other languages aren&#39;t there, but it still works! You can still do everything, it just sometimes takes longer and takes more work. I am definitely looking forward to the day when it&#39;s superceded, but I just think that with all the existing code and applications that are written in Java, there&#39;s just no way at the moment, (almost) no one would make the shift to Java++. I think we&#39;re waiting on a real paradigm shift, like C++ was to C. Perhaps functional programming could be the next big thing and Scala will be the next Java.","title":"Do we need a Java++?","body":"<p>As much as I do feel that Java has become outdated, the truth is, I think we all know that as a language it still works pretty well. Sure, a lot of the newer stuff that we can find in other languages aren't there, but it still works! You can still do everything, it just sometimes takes longer and takes more work. I am definitely looking forward to the day when it's superceded, but I just think that with all the existing code and applications that are written in Java, there's just no way at the moment, (almost) no one would make the shift to Java++. I think we're waiting on a real paradigm shift, like C++ was to C. Perhaps functional programming could be the next big thing and Scala will be the next Java.</p>\n"},{"tags":[],"owner":{"account_id":65284,"reputation":91155,"user_id":192247,"accept_rate":81,"display_name":"missingfaktor"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1263271911,"creation_date":1263271911,"answer_id":2046775,"question_id":484172,"body_markdown":"[Java++][1] is already here... :D\r\n\r\n\r\n  [1]: http://www.scala-lang.org/","title":"Do we need a Java++?","body":"<p><a href=\"http://www.scala-lang.org/\" rel=\"nofollow noreferrer\">Java++</a> is already here... :D</p>\n"},{"tags":[],"owner":{"account_id":74486,"reputation":105478,"user_id":214010,"accept_rate":83,"display_name":"mikera"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1298210992,"creation_date":1298210359,"answer_id":5057448,"question_id":484172,"body_markdown":"These all seem like rather &quot;superficial&quot; language changes mainly motivated by developer convenience rather than fundamentally **changing the language philosophy**.\r\n\r\nIn my view, minor adjustments to syntax **don&#39;t justify** a wholesale move to a new language, especially if it means throwing away large investments in platforms, code bases and developer skillsets. \r\n\r\nThe minor changes can be added to Java language over time (in Java 7, 8, 9...) if there is sufficient demand. However there is a real question as to whether they are justified, since ever change like this makes the language more complex and hence more difficult to learn and maintain code bases as different developers start to use a different subset of the features.\r\n\r\nTake for example C++: in theory it&#39;s an amazing language, allowing you to program at any possible level of abstraction while still allowing machine-code-level performance in optimised code. In practice, the complexity of all this language functionality means that very few mortals can hope to understand what is really going on, and large code bases become almost unmaintainable.\r\n\r\nIn my view, the only changes that would justify a wholesale &quot;Java++&quot; would be fundamental paradigm shifts that change the way that you develop software for the better. The fundamental changes that made Java a sucess (over C++ etc. in 1995-2000) were in my view:\r\n\r\n - Bytecode execution in a portable, standard, cross-platform runtime environment (the JVM/JRE) without needing a recompile\r\n - A large, robust standard class library (including threading, networking, GUI etc.) - i.e. a recognition that the platform is about much more than just the language\r\n - Garbage collection made mandatory \r\n\r\nExamples of the next stage of fundamental shifts would be:\r\n\r\n - Throw away object orientation in favour of [functional programming][1]\r\n - Eliminate locking in favour of [Software Transactional Memory][2] to enable high performance, thread-safe concurrency for massively multi-core architectures\r\n - Replace mutable variables with [immutable values][3] throughout the language and class libraries (to make it possible to reason about concurrent state)\r\n - Embrace compile-time macro metaprogramming as a generic solution to any desire to add new syntax to the langauge or create DSLs\r\n\r\nOh yeah, and there is a JVM language that does all of this - [Clojure][4]\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Functional_programming\r\n  [2]: http://en.wikipedia.org/wiki/Software_transactional_memory\r\n  [3]: http://en.wikipedia.org/wiki/Immutable_object\r\n  [4]: http://clojure.org/","title":"Do we need a Java++?","body":"<p>These all seem like rather \"superficial\" language changes mainly motivated by developer convenience rather than fundamentally <strong>changing the language philosophy</strong>.</p>\n\n<p>In my view, minor adjustments to syntax <strong>don't justify</strong> a wholesale move to a new language, especially if it means throwing away large investments in platforms, code bases and developer skillsets. </p>\n\n<p>The minor changes can be added to Java language over time (in Java 7, 8, 9...) if there is sufficient demand. However there is a real question as to whether they are justified, since ever change like this makes the language more complex and hence more difficult to learn and maintain code bases as different developers start to use a different subset of the features.</p>\n\n<p>Take for example C++: in theory it's an amazing language, allowing you to program at any possible level of abstraction while still allowing machine-code-level performance in optimised code. In practice, the complexity of all this language functionality means that very few mortals can hope to understand what is really going on, and large code bases become almost unmaintainable.</p>\n\n<p>In my view, the only changes that would justify a wholesale \"Java++\" would be fundamental paradigm shifts that change the way that you develop software for the better. The fundamental changes that made Java a sucess (over C++ etc. in 1995-2000) were in my view:</p>\n\n<ul>\n<li>Bytecode execution in a portable, standard, cross-platform runtime environment (the JVM/JRE) without needing a recompile</li>\n<li>A large, robust standard class library (including threading, networking, GUI etc.) - i.e. a recognition that the platform is about much more than just the language</li>\n<li>Garbage collection made mandatory </li>\n</ul>\n\n<p>Examples of the next stage of fundamental shifts would be:</p>\n\n<ul>\n<li>Throw away object orientation in favour of <a href=\"http://en.wikipedia.org/wiki/Functional_programming\" rel=\"nofollow\">functional programming</a></li>\n<li>Eliminate locking in favour of <a href=\"http://en.wikipedia.org/wiki/Software_transactional_memory\" rel=\"nofollow\">Software Transactional Memory</a> to enable high performance, thread-safe concurrency for massively multi-core architectures</li>\n<li>Replace mutable variables with <a href=\"http://en.wikipedia.org/wiki/Immutable_object\" rel=\"nofollow\">immutable values</a> throughout the language and class libraries (to make it possible to reason about concurrent state)</li>\n<li>Embrace compile-time macro metaprogramming as a generic solution to any desire to add new syntax to the langauge or create DSLs</li>\n</ul>\n\n<p>Oh yeah, and there is a JVM language that does all of this - <a href=\"http://clojure.org/\" rel=\"nofollow\">Clojure</a></p>\n"}],"owner":{"account_id":12204,"reputation":67772,"user_id":23903,"accept_rate":66,"display_name":"dsimcha"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5110,"favorite_count":0,"down_vote_count":2,"up_vote_count":18,"closed_date":1351432632,"accepted_answer_id":484551,"answer_count":19,"score":16,"last_activity_date":1668723973,"creation_date":1233074781,"question_id":484172,"body_markdown":"It seems to me that, in some ways, Java is where C was a while back.  Both are fairly minimalist languages for their time, with relatively clean, simple cores to build on.  (I&#39;m referring to the core language here, **not** the libraries.)  Both are/were extremely popular.  Both are/were lingua francas, with tons of legacy code.  Both are/were lacking several modern productivity features that programmers from other languages often miss.  Both seem very inertia-dominated and slow to adapt to a changing world.\r\n\r\nIt seems to me like it would be reasonable to create a Java++ that&#39;s roughly a superset of of Java, as C++ is to C.  Such a language would attempt to lift Java out of the relative stagnation it&#39;s undergone, break backwards compatibility only in a few minor ways only if absolutely necessary, add lots of modern features that plain old Java is missing, and worry about standardization later.  Features that might be a good idea include:\r\n\r\n1.  First class functions, delegates.\r\n2.  Closures.\r\n3.  Static type inference, similar to `var` in C# or `auto` in D.\r\n4.  Operator overloading.\r\n5.  Structs as value types distinct from classes, like C# and D.\r\n6.  Properties.\r\n7.  An option to ignore checked exceptions.\r\n8.  The ability to declare more than one top-level public class in a file.\r\n9.  More powerful builtin arrays that allow things like appending.\r\n10.  Better generics/real templates.\r\n11. Something like the dynamic keyword for C# 4.0 that allows duck typing when necessary in a generally static language.\r\n12. Since Java is primarily a VM language, maybe some hardcore metaprogramming features like generating code on the fly for certain things.\r\n\r\nDo you think there would be demand for such a language?  Do you think such a thing would succeed?\r\n\r\nEdit:  I&#39;m not talking about compatibility at the runtime/bytecode level, I&#39;m talking about compatibility w/ Java at the **source** level.  Also, yes, Java 7 could add some of these, but it seems like the &quot;official&quot; process for adding features to Java is extremely conservative.  The real point is the idea of forking Java into a branch were the focus is on innovation more than stability/standardization.","title":"Do we need a Java++?","body":"<p>It seems to me that, in some ways, Java is where C was a while back.  Both are fairly minimalist languages for their time, with relatively clean, simple cores to build on.  (I'm referring to the core language here, <strong>not</strong> the libraries.)  Both are/were extremely popular.  Both are/were lingua francas, with tons of legacy code.  Both are/were lacking several modern productivity features that programmers from other languages often miss.  Both seem very inertia-dominated and slow to adapt to a changing world.</p>\n\n<p>It seems to me like it would be reasonable to create a Java++ that's roughly a superset of of Java, as C++ is to C.  Such a language would attempt to lift Java out of the relative stagnation it's undergone, break backwards compatibility only in a few minor ways only if absolutely necessary, add lots of modern features that plain old Java is missing, and worry about standardization later.  Features that might be a good idea include:</p>\n\n<ol>\n<li>First class functions, delegates.</li>\n<li>Closures.</li>\n<li>Static type inference, similar to <code>var</code> in C# or <code>auto</code> in D.</li>\n<li>Operator overloading.</li>\n<li>Structs as value types distinct from classes, like C# and D.</li>\n<li>Properties.</li>\n<li>An option to ignore checked exceptions.</li>\n<li>The ability to declare more than one top-level public class in a file.</li>\n<li>More powerful builtin arrays that allow things like appending.</li>\n<li>Better generics/real templates.</li>\n<li>Something like the dynamic keyword for C# 4.0 that allows duck typing when necessary in a generally static language.</li>\n<li>Since Java is primarily a VM language, maybe some hardcore metaprogramming features like generating code on the fly for certain things.</li>\n</ol>\n\n<p>Do you think there would be demand for such a language?  Do you think such a thing would succeed?</p>\n\n<p>Edit:  I'm not talking about compatibility at the runtime/bytecode level, I'm talking about compatibility w/ Java at the <strong>source</strong> level.  Also, yes, Java 7 could add some of these, but it seems like the \"official\" process for adding features to Java is extremely conservative.  The real point is the idea of forking Java into a branch were the focus is on innovation more than stability/standardization.</p>\n"},{"tags":["java","spring","spring-boot","junit","spring-security"],"answers":[{"tags":[],"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668548018,"creation_date":1668548018,"answer_id":74452437,"question_id":74449956,"body_markdown":"Add this configuration to test class :\r\n\r\n`@EnableGlobalMethodSecurity(prePostEnabled = true)`\r\n","title":"Spring Boot Microservice JUnit Test - How to write a test method with adding the option of @PreAuthorize","body":"<p>Add this configuration to test class :</p>\n<p><code>@EnableGlobalMethodSecurity(prePostEnabled = true)</code></p>\n"},{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668723867,"creation_date":1668557670,"answer_id":74453670,"question_id":74449956,"body_markdown":"I might seem rude, but I&#39;m tired to give you the solution to your problem (it&#39;s the 3rd time already, and we would have both saved a lot of time if you had tried it the first time)\r\n\r\n# **FOLLOW THOSE TUTORIALS: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials**\r\n\r\nIt will teach you how to (you obviously don&#39;t know how to correctly do it):\r\n- configure your OAuth2 resource-servers\r\n- secure Spring @Components (@Controllers but also @Service and @Repository)\r\n- write unit tests for those components with mocked identities\r\n- write integration test for each micro-service with mocked identities\r\n\r\n`@WithMockUser` populates test security context with `UsernamePasswordAuthenticationToken` which is not adapted to OAuth2 resource-servers.\r\n\r\nJust follow the [first 3 tutoriuals][2] (for real: write the code and run the tests) and then refer to the [sample][1] best matching your particular use-case. It should take you less than an hour.\r\n\r\nStop trying to build JWTs to set it as request header when working with MockMvc. Use either `org.springframework.security.test.web.servlet.request.SecurityMockMvcRequestPostProcessors.jwt` from `spring-security-test` or `@WithMockJwtAuth` from `spring-addons-oauth2-test`.\r\n\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons/tree/master/samples\r\n  [2]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials","title":"Spring Boot Microservice JUnit Test - How to write a test method with adding the option of @PreAuthorize","body":"<p>I might seem rude, but I'm tired to give you the solution to your problem (it's the 3rd time already, and we would have both saved a lot of time if you had tried it the first time)</p>\n<h1><strong>FOLLOW THOSE TUTORIALS: <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\" rel=\"nofollow noreferrer\">https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials</a></strong></h1>\n<p>It will teach you how to (you obviously don't know how to correctly do it):</p>\n<ul>\n<li>configure your OAuth2 resource-servers</li>\n<li>secure Spring @Components (@Controllers but also @Service and @Repository)</li>\n<li>write unit tests for those components with mocked identities</li>\n<li>write integration test for each micro-service with mocked identities</li>\n</ul>\n<p><code>@WithMockUser</code> populates test security context with <code>UsernamePasswordAuthenticationToken</code> which is not adapted to OAuth2 resource-servers.</p>\n<p>Just follow the <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\" rel=\"nofollow noreferrer\">first 3 tutoriuals</a> (for real: write the code and run the tests) and then refer to the <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples\" rel=\"nofollow noreferrer\">sample</a> best matching your particular use-case. It should take you less than an hour.</p>\n<p>Stop trying to build JWTs to set it as request header when working with MockMvc. Use either <code>org.springframework.security.test.web.servlet.request.SecurityMockMvcRequestPostProcessors.jwt</code> from <code>spring-security-test</code> or <code>@WithMockJwtAuth</code> from <code>spring-addons-oauth2-test</code>.</p>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":626,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1668723867,"creation_date":1668533801,"question_id":74449956,"body_markdown":"I just want to add a `@PreAuthorize(&quot;hasAuthority(&#39;ROLE_ADMIN&#39;)&quot;)` and `@PreAuthorize(&quot;hasAuthority(&#39;ROLE_USER&#39;)&quot;)` in the methods of order controller and I also revise the controller test method after I define a login method in auth service in terms of User and Admin role.\r\n\r\n\r\nAfter I add `@PreAuthorize(&quot;hasAuthority(&#39;ROLE_USER&#39;)&quot;)` of placeOrder method of controller, I revise its test method.\r\n\r\nHere is the method of order controller\r\n\r\n     @PreAuthorize(&quot;hasAuthority(&#39;ROLE_USER&#39;)&quot;)\r\n     @PostMapping(&quot;/placeorder&quot;)\r\n        public ResponseEntity&lt;Long&gt; placeOrder(@RequestBody OrderRequest orderRequest) {\r\n    \r\n            log.info(&quot;OrderController | placeOrder is called&quot;);\r\n    \r\n            log.info(&quot;OrderController | placeOrder | orderRequest: {}&quot;, orderRequest.toString());\r\n    \r\n            long orderId = orderService.placeOrder(orderRequest);\r\n            log.info(&quot;Order Id: {}&quot;, orderId);\r\n            return new ResponseEntity&lt;&gt;(orderId, HttpStatus.OK);\r\n        }\r\n\r\nHere is the example test method in ordercontrollertest in order service.\r\n\r\n    @Test\r\n        @DisplayName(&quot;Place Order -- Success Scenario&quot;)\r\n        void test_When_placeOrder_DoPayment_Success() throws Exception {\r\n    \r\n            OrderRequest orderRequest = getMockOrderRequest();\r\n            String jwt = getJWTTokenForRoleUser();\r\n    \r\n            MvcResult mvcResult\r\n                    = mockMvc.perform(MockMvcRequestBuilders.post(&quot;/order/placeorder&quot;)\r\n                            .contentType(MediaType.APPLICATION_JSON_VALUE)\r\n                            .header(&quot;Authorization&quot;, &quot;Bearer &quot; + jwt)\r\n                            .content(objectMapper.writeValueAsString(orderRequest)))\r\n                    .andExpect(MockMvcResultMatchers.status().isOk())\r\n                    .andReturn();\r\n    \r\n            String orderId = mvcResult.getResponse().getContentAsString();\r\n    \r\n            Optional&lt;Order&gt; order = orderRepository.findById(Long.valueOf(orderId));\r\n            assertTrue(order.isPresent());\r\n    \r\n            Order o = order.get();\r\n            assertEquals(Long.parseLong(orderId), o.getId());\r\n            assertEquals(&quot;PLACED&quot;, o.getOrderStatus());\r\n            assertEquals(orderRequest.getTotalAmount(), o.getAmount());\r\n            assertEquals(orderRequest.getQuantity(), o.getQuantity());\r\n        }\r\n\r\nHere are the dependenices of order service regarding it.\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n    \t&lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nHow can I define the ROLE in this test method. I tried to use `@WithMockUser(roles=&quot;USER&quot;)` and `@WithMockUser(roles=&quot;ADMIN&quot;)` but it didn&#39;t help me. (I got 403 Forbidden error.)\r\n\r\nEdited ( I also tried to WebSecurityConfig in the service but it didn&#39;t help me fix the issue. That&#39;s why I removed it from the service.)\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class WebSecurityConfig {\r\n    \r\n        @Bean\r\n        public SecurityFilterChain securityWebFilterChain(HttpSecurity http) throws Exception {\r\n            http\r\n                    .authorizeRequests(\r\n                            authorizeRequest -&gt; authorizeRequest\r\n                                    .anyRequest()\r\n                                    .authenticated());\r\n    \r\n            return http.build();\r\n        }\r\n    }\r\n\r\n\r\nHere is the example link : [Link][1]\r\n\r\nHere is the test controller : [Link][2]\r\n\r\n\r\n  [1]: https://github.com/Rapter1990/microservicecoursedailybuffer\r\n  [2]: https://github.com/Rapter1990/microservicecoursedailybuffer/blob/main/orderservice/src/test/java/com/microservice/orderservice/controller/OrderControllerTest.java\r\n\r\nTo run the app,\r\n1 ) Run Service Registery (Eureka Server)\r\n\r\n2 ) Run config server\r\n\r\n3 ) Run zipkin and redis through these commands shown below on docker\r\n      docker run -d -p 9411:9411 openzipkin/zipkin\r\n      docker run -d --name redis -p 6379:6379 redis\r\n\r\n4 ) Run api gateway\r\n\r\n5 ) Run other services","title":"Spring Boot Microservice JUnit Test - How to write a test method with adding the option of @PreAuthorize","body":"<p>I just want to add a <code>@PreAuthorize(&quot;hasAuthority('ROLE_ADMIN')&quot;)</code> and <code>@PreAuthorize(&quot;hasAuthority('ROLE_USER')&quot;)</code> in the methods of order controller and I also revise the controller test method after I define a login method in auth service in terms of User and Admin role.</p>\n<p>After I add <code>@PreAuthorize(&quot;hasAuthority('ROLE_USER')&quot;)</code> of placeOrder method of controller, I revise its test method.</p>\n<p>Here is the method of order controller</p>\n<pre><code> @PreAuthorize(&quot;hasAuthority('ROLE_USER')&quot;)\n @PostMapping(&quot;/placeorder&quot;)\n    public ResponseEntity&lt;Long&gt; placeOrder(@RequestBody OrderRequest orderRequest) {\n\n        log.info(&quot;OrderController | placeOrder is called&quot;);\n\n        log.info(&quot;OrderController | placeOrder | orderRequest: {}&quot;, orderRequest.toString());\n\n        long orderId = orderService.placeOrder(orderRequest);\n        log.info(&quot;Order Id: {}&quot;, orderId);\n        return new ResponseEntity&lt;&gt;(orderId, HttpStatus.OK);\n    }\n</code></pre>\n<p>Here is the example test method in ordercontrollertest in order service.</p>\n<pre><code>@Test\n    @DisplayName(&quot;Place Order -- Success Scenario&quot;)\n    void test_When_placeOrder_DoPayment_Success() throws Exception {\n\n        OrderRequest orderRequest = getMockOrderRequest();\n        String jwt = getJWTTokenForRoleUser();\n\n        MvcResult mvcResult\n                = mockMvc.perform(MockMvcRequestBuilders.post(&quot;/order/placeorder&quot;)\n                        .contentType(MediaType.APPLICATION_JSON_VALUE)\n                        .header(&quot;Authorization&quot;, &quot;Bearer &quot; + jwt)\n                        .content(objectMapper.writeValueAsString(orderRequest)))\n                .andExpect(MockMvcResultMatchers.status().isOk())\n                .andReturn();\n\n        String orderId = mvcResult.getResponse().getContentAsString();\n\n        Optional&lt;Order&gt; order = orderRepository.findById(Long.valueOf(orderId));\n        assertTrue(order.isPresent());\n\n        Order o = order.get();\n        assertEquals(Long.parseLong(orderId), o.getId());\n        assertEquals(&quot;PLACED&quot;, o.getOrderStatus());\n        assertEquals(orderRequest.getTotalAmount(), o.getAmount());\n        assertEquals(orderRequest.getQuantity(), o.getQuantity());\n    }\n</code></pre>\n<p>Here are the dependenices of order service regarding it.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>How can I define the ROLE in this test method. I tried to use <code>@WithMockUser(roles=&quot;USER&quot;)</code> and <code>@WithMockUser(roles=&quot;ADMIN&quot;)</code> but it didn't help me. (I got 403 Forbidden error.)</p>\n<p>Edited ( I also tried to WebSecurityConfig in the service but it didn't help me fix the issue. That's why I removed it from the service.)</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class WebSecurityConfig {\n\n    @Bean\n    public SecurityFilterChain securityWebFilterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeRequests(\n                        authorizeRequest -&gt; authorizeRequest\n                                .anyRequest()\n                                .authenticated());\n\n        return http.build();\n    }\n}\n</code></pre>\n<p>Here is the example link : <a href=\"https://github.com/Rapter1990/microservicecoursedailybuffer\" rel=\"nofollow noreferrer\">Link</a></p>\n<p>Here is the test controller : <a href=\"https://github.com/Rapter1990/microservicecoursedailybuffer/blob/main/orderservice/src/test/java/com/microservice/orderservice/controller/OrderControllerTest.java\" rel=\"nofollow noreferrer\">Link</a></p>\n<p>To run the app,\n1 ) Run Service Registery (Eureka Server)</p>\n<p>2 ) Run config server</p>\n<p>3 ) Run zipkin and redis through these commands shown below on docker\ndocker run -d -p 9411:9411 openzipkin/zipkin\ndocker run -d --name redis -p 6379:6379 redis</p>\n<p>4 ) Run api gateway</p>\n<p>5 ) Run other services</p>\n"},{"tags":["java","jmeter","oracle-coherence"],"answers":[{"tags":[],"owner":{"account_id":400259,"reputation":1872,"user_id":766149,"accept_rate":73,"display_name":"stracktracer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1306478452,"creation_date":1306478452,"answer_id":6148718,"question_id":6127243,"body_markdown":"Calling `setResponseData(String, Encoding)` or `setResponseData(byte[])` is correct when implementing a sampler.\r\n\r\nThe regular expression extractor uses, depending on what you set in the gui, one of the following:\r\n`getResponseDataAsString(), getResponseMessage(), getResponseCode(), getResponseHeaders(), getUrlAsString()`.\r\n\r\nSo this should work, if your `byte[]` is something that represents a valid string.\r\n\r\nAlternatively, just setting your variables in your sampler might solve your current use case:\r\n`getThreadContext().getVariables().put(name, value);`","title":"Sampler Result setResponseData not setting in JMeter","body":"<p>Calling <code>setResponseData(String, Encoding)</code> or <code>setResponseData(byte[])</code> is correct when implementing a sampler.</p>\n\n<p>The regular expression extractor uses, depending on what you set in the gui, one of the following:\n<code>getResponseDataAsString(), getResponseMessage(), getResponseCode(), getResponseHeaders(), getUrlAsString()</code>.</p>\n\n<p>So this should work, if your <code>byte[]</code> is something that represents a valid string.</p>\n\n<p>Alternatively, just setting your variables in your sampler might solve your current use case:\n<code>getThreadContext().getVariables().put(name, value);</code></p>\n"}],"owner":{"account_id":295623,"reputation":1296,"user_id":600137,"accept_rate":100,"display_name":"ninnemannk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1402,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":6148718,"answer_count":1,"score":1,"last_activity_date":1668723766,"creation_date":1306338535,"question_id":6127243,"body_markdown":"I am writing a custom java class to grab objects from a Coherence grid. It works well through JMeter, but the response data isn&#39;t filling it&#39;s place in the JMeter GUI. This is how I&#39;m filling the SamplerResult:\r\n\r\n    result.setResponseData(getResponseData(cache.get(key)).getBytes());\r\n\r\nthe `getResponseData(Object);` returns a simple String that I&#39;m pulling the bytes out of. But, the response data is still empty. I can put the data inside of the `result.setSamplerData(String)` but it&#39;s it will not populate inside of the ResponseData. It needs to be inside of the ResponseData because it&#39;s the only way that a `Regular Expression Extractor` can be used.\r\n\r\nIs there something here that I&#39;m missing?\r\n\r\n\r\n\r\n\r\n\r\n","title":"Sampler Result setResponseData not setting in JMeter","body":"<p>I am writing a custom java class to grab objects from a Coherence grid. It works well through JMeter, but the response data isn't filling it's place in the JMeter GUI. This is how I'm filling the SamplerResult:</p>\n<pre><code>result.setResponseData(getResponseData(cache.get(key)).getBytes());\n</code></pre>\n<p>the <code>getResponseData(Object);</code> returns a simple String that I'm pulling the bytes out of. But, the response data is still empty. I can put the data inside of the <code>result.setSamplerData(String)</code> but it's it will not populate inside of the ResponseData. It needs to be inside of the ResponseData because it's the only way that a <code>Regular Expression Extractor</code> can be used.</p>\n<p>Is there something here that I'm missing?</p>\n"},{"tags":["python","java","dataframe","pyspark","py4j"],"comments":[{"owner":{"account_id":2290359,"reputation":16419,"user_id":2490497,"accept_rate":70,"display_name":"jangorecki"},"score":2,"creation_date":1537708747,"post_id":51952535,"comment_id":91874552,"body_markdown":"I am exactly on same python and pyspark and experiencing same error. Data used in my case can be generated with `Rscript groupby-datagen.R 1e6 1e2`, and [groupby-datagen.R file](https://github.com/h2oai/db-benchmark/blob/master/groupby-datagen.R)","body":"I am exactly on same python and pyspark and experiencing same error. Data used in my case can be generated with <code>Rscript groupby-datagen.R 1e6 1e2</code>, and <a href=\"https://github.com/h2oai/db-benchmark/blob/master/groupby-datagen.R\" rel=\"nofollow noreferrer\">groupby-datagen.R file</a>"}],"answers":[{"tags":[],"owner":{"account_id":79883,"reputation":1038,"user_id":226220,"accept_rate":68,"display_name":"Nanda"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1537900465,"creation_date":1537900465,"answer_id":52504713,"question_id":51952535,"body_markdown":"Without being able to actually see the data, I would guess that it&#39;s a *schema issue*. I would recommend trying to load a smaller sample of the data where you can ensure that there are only 3 columns to test that.\r\n\r\nSince its a CSV, another simple test could be to load and `split` the data by new line and then comma to check if there is anything breaking your file.\r\n\r\nI&#39;ve definitely seen this before but I can&#39;t remember what exactly was wrong.","title":"Pyspark Error: &quot;Py4JJavaError: An error occurred while calling o655.count.&quot; when calling count() method on dataframe","body":"<p>Without being able to actually see the data, I would guess that it's a <em>schema issue</em>. I would recommend trying to load a smaller sample of the data where you can ensure that there are only 3 columns to test that.</p>\n\n<p>Since its a CSV, another simple test could be to load and <code>split</code> the data by new line and then comma to check if there is anything breaking your file.</p>\n\n<p>I've definitely seen this before but I can't remember what exactly was wrong.</p>\n"},{"tags":[],"owner":{"account_id":4180164,"reputation":2051,"user_id":3425448,"accept_rate":75,"display_name":"luminousmen"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1537910370,"creation_date":1537909775,"answer_id":52506734,"question_id":51952535,"body_markdown":"What Java version do you have on your machine? Your problem is probably related to Java 9.\r\n\r\nIf you download Java 8, the exception will disappear. If you already have Java 8 installed, just change `JAVA_HOME` to it.","title":"Pyspark Error: &quot;Py4JJavaError: An error occurred while calling o655.count.&quot; when calling count() method on dataframe","body":"<p>What Java version do you have on your machine? Your problem is probably related to Java 9.</p>\n\n<p>If you download Java 8, the exception will disappear. If you already have Java 8 installed, just change <code>JAVA_HOME</code> to it.</p>\n"},{"tags":[],"owner":{"account_id":7206340,"reputation":823,"user_id":5501835,"display_name":"Borislav Aymaliev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1538051993,"creation_date":1538051993,"answer_id":52537283,"question_id":51952535,"body_markdown":"Could you try `df.repartition(1).count()` and `len(df.toPandas())`?\r\n\r\nIf it works, then the problem is most probably in your spark configuration.","title":"Pyspark Error: &quot;Py4JJavaError: An error occurred while calling o655.count.&quot; when calling count() method on dataframe","body":"<p>Could you try <code>df.repartition(1).count()</code> and <code>len(df.toPandas())</code>?</p>\n\n<p>If it works, then the problem is most probably in your spark configuration.</p>\n"},{"tags":[],"owner":{"account_id":12194509,"reputation":6736,"user_id":8900683,"accept_rate":25,"display_name":"Rene B."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1572290367,"creation_date":1572290367,"answer_id":58597143,"question_id":51952535,"body_markdown":"In Linux installing Java 8 as the following will help:\r\n\r\n    sudo apt install openjdk-8-jdk\r\n\r\nThen set the default Java to version 8 using:\r\n\r\n    sudo update-alternatives --config java\r\n\r\n***************** : 2 (Enter 2, when it asks you to choose) + Press Enter\r\n\r\n","title":"Pyspark Error: &quot;Py4JJavaError: An error occurred while calling o655.count.&quot; when calling count() method on dataframe","body":"<p>In Linux installing Java 8 as the following will help:</p>\n\n<pre><code>sudo apt install openjdk-8-jdk\n</code></pre>\n\n<p>Then set the default Java to version 8 using:</p>\n\n<pre><code>sudo update-alternatives --config java\n</code></pre>\n\n<p>***************** : 2 (Enter 2, when it asks you to choose) + Press Enter</p>\n"}],"owner":{"account_id":7793218,"reputation":245,"user_id":5895367,"display_name":"Kaushik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102182,"favorite_count":0,"down_vote_count":1,"up_vote_count":18,"answer_count":4,"score":17,"last_activity_date":1668723604,"creation_date":1534866924,"question_id":51952535,"body_markdown":"I&#39;m new to Spark and I&#39;m using Pyspark 2.3.1 to read in a csv file into a dataframe. I&#39;m able to read in the file and print values in a Jupyter notebook running within an anaconda environment. This is the code I&#39;m using:\r\n    \r\n    # Start session\r\n    spark = SparkSession \\\r\n    .builder \\\r\n    .appName(&quot;Embedding Models&quot;) \\\r\n    .config(&#39;spark.ui.showConsoleProgress&#39;, &#39;true&#39;) \\\r\n    .config(&quot;spark.master&quot;, &quot;local[2]&quot;) \\\r\n    .getOrCreate()\r\n\r\n    sqlContext = sql.SQLContext(spark)\r\n    schema = StructType([\r\n             StructField(&quot;Index&quot;, IntegerType(), True),\r\n             StructField(&quot;title&quot;, StringType(), True),\r\n             StructField(&quot;body&quot;, StringType(), True)])\r\n\r\n    df= sqlContext.read.csv(&quot;../data/faq_data.csv&quot;,\r\n                             header=True, \r\n                             mode=&quot;DROPMALFORMED&quot;,\r\n                             schema=schema)\r\n\r\nOutput:\r\n\r\n    df.show()\r\n\r\n    +-----+--------------------+--------------------+\r\n    |Index|               title|                body|\r\n    +-----+--------------------+--------------------+\r\n    |    0|What does “quantu...|Quantum theory is...|\r\n    |    1|What is a quantum...|A quantum compute...|\r\n\r\nHowever when I call the `.count()` method on the dataframe it throws the below error \r\n\r\n\r\n        ---------------------------------------------------------------------------\r\n    Py4JJavaError                             Traceback (most recent call last)\r\n    &lt;ipython-input-29-913a2f9eb5fc&gt; in &lt;module&gt;()\r\n    ----&gt; 1 df.count()\r\n    \r\n    ~/anaconda3/envs/Community/lib/python3.6/site-packages/pyspark/sql/dataframe.py in count(self)\r\n        453         2\r\n        454         &quot;&quot;&quot;\r\n    --&gt; 455         return int(self._jdf.count())\r\n        456 \r\n        457     @ignore_unicode_prefix\r\n    \r\n    ~/anaconda3/envs/Community/lib/python3.6/site-packages/py4j/java_gateway.py in __call__(self, *args)\r\n       1255         answer = self.gateway_client.send_command(command)\r\n       1256         return_value = get_return_value(\r\n    -&gt; 1257             answer, self.gateway_client, self.target_id, self.name)\r\n       1258 \r\n       1259         for temp_arg in temp_args:\r\n    \r\n    ~/anaconda3/envs/Community/lib/python3.6/site-packages/pyspark/sql/utils.py in deco(*a, **kw)\r\n         61     def deco(*a, **kw):\r\n         62         try:\r\n    ---&gt; 63             return f(*a, **kw)\r\n         64         except py4j.protocol.Py4JJavaError as e:\r\n         65             s = e.java_exception.toString()\r\n    \r\n    ~/anaconda3/envs/Community/lib/python3.6/site-packages/py4j/protocol.py in get_return_value(answer, gateway_client, target_id, name)\r\n        326                 raise Py4JJavaError(\r\n        327                     &quot;An error occurred while calling {0}{1}{2}.\\n&quot;.\r\n    --&gt; 328                     format(target_id, &quot;.&quot;, name), value)\r\n        329             else:\r\n        330                 raise Py4JError(\r\n    \r\n    Py4JJavaError: An error occurred while calling o655.count.\r\n    : java.lang.IllegalArgumentException\r\n    \tat org.apache.xbean.asm5.ClassReader.&lt;init&gt;(Unknown Source)\r\n    \tat org.apache.xbean.asm5.ClassReader.&lt;init&gt;(Unknown Source)\r\n    \tat org.apache.xbean.asm5.ClassReader.&lt;init&gt;(Unknown Source)\r\n    \tat org.apache.spark.util.ClosureCleaner$.getClassReader(ClosureCleaner.scala:46)\r\n    \tat org.apache.spark.util.FieldAccessFinder$$anon$3$$anonfun$visitMethodInsn$2.apply(ClosureCleaner.scala:449)\r\n    \tat org.apache.spark.util.FieldAccessFinder$$anon$3$$anonfun$visitMethodInsn$2.apply(ClosureCleaner.scala:432)\r\n    \tat scala.collection.TraversableLike$WithFilter$$anonfun$foreach$1.apply(TraversableLike.scala:733)\r\n    \tat scala.collection.mutable.HashMap$$anon$1$$anonfun$foreach$2.apply(HashMap.scala:103)\r\n    \tat scala.collection.mutable.HashMap$$anon$1$$anonfun$foreach$2.apply(HashMap.scala:103)\r\n    \tat scala.collection.mutable.HashTable$class.foreachEntry(HashTable.scala:230)\r\n    \tat scala.collection.mutable.HashMap.foreachEntry(HashMap.scala:40)\r\n    \tat scala.collection.mutable.HashMap$$anon$1.foreach(HashMap.scala:103)\r\n    \tat scala.collection.TraversableLike$WithFilter.foreach(TraversableLike.scala:732)\r\n    \tat org.apache.spark.util.FieldAccessFinder$$anon$3.visitMethodInsn(ClosureCleaner.scala:432)\r\n    \tat org.apache.xbean.asm5.ClassReader.a(Unknown Source)\r\n    \tat org.apache.xbean.asm5.ClassReader.b(Unknown Source)\r\n    \tat org.apache.xbean.asm5.ClassReader.accept(Unknown Source)\r\n    \tat org.apache.xbean.asm5.ClassReader.accept(Unknown Source)\r\n    \tat org.apache.spark.util.ClosureCleaner$$anonfun$org$apache$spark$util$ClosureCleaner$$clean$14.apply(ClosureCleaner.scala:262)\r\n    \tat org.apache.spark.util.ClosureCleaner$$anonfun$org$apache$spark$util$ClosureCleaner$$clean$14.apply(ClosureCleaner.scala:261)\r\n    \tat scala.collection.immutable.List.foreach(List.scala:381)\r\n    \tat org.apache.spark.util.ClosureCleaner$.org$apache$spark$util$ClosureCleaner$$clean(ClosureCleaner.scala:261)\r\n    \tat org.apache.spark.util.ClosureCleaner$.clean(ClosureCleaner.scala:159)\r\n    \tat org.apache.spark.SparkContext.clean(SparkContext.scala:2299)\r\n    \tat org.apache.spark.SparkContext.runJob(SparkContext.scala:2073)\r\n    \tat org.apache.spark.SparkContext.runJob(SparkContext.scala:2099)\r\n    \tat org.apache.spark.rdd.RDD$$anonfun$collect$1.apply(RDD.scala:939)\r\n    \tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n    \tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:112)\r\n    \tat org.apache.spark.rdd.RDD.withScope(RDD.scala:363)\r\n    \tat org.apache.spark.rdd.RDD.collect(RDD.scala:938)\r\n    \tat org.apache.spark.sql.execution.SparkPlan.executeCollect(SparkPlan.scala:297)\r\n    \tat org.apache.spark.sql.Dataset$$anonfun$count$1.apply(Dataset.scala:2770)\r\n    \tat org.apache.spark.sql.Dataset$$anonfun$count$1.apply(Dataset.scala:2769)\r\n    \tat org.apache.spark.sql.Dataset$$anonfun$52.apply(Dataset.scala:3254)\r\n    \tat org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:77)\r\n    \tat org.apache.spark.sql.Dataset.withAction(Dataset.scala:3253)\r\n    \tat org.apache.spark.sql.Dataset.count(Dataset.scala:2769)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n    \tat py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244)\r\n    \tat py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\r\n    \tat py4j.Gateway.invoke(Gateway.java:282)\r\n    \tat py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\r\n    \tat py4j.commands.CallCommand.execute(CallCommand.java:79)\r\n    \tat py4j.GatewayConnection.run(GatewayConnection.java:238)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:844)\r\n\r\nI&#39;m using Python 3.6.5 if that makes a difference. ","title":"Pyspark Error: &quot;Py4JJavaError: An error occurred while calling o655.count.&quot; when calling count() method on dataframe","body":"<p>I'm new to Spark and I'm using Pyspark 2.3.1 to read in a csv file into a dataframe. I'm able to read in the file and print values in a Jupyter notebook running within an anaconda environment. This is the code I'm using:</p>\n\n<pre><code># Start session\nspark = SparkSession \\\n.builder \\\n.appName(\"Embedding Models\") \\\n.config('spark.ui.showConsoleProgress', 'true') \\\n.config(\"spark.master\", \"local[2]\") \\\n.getOrCreate()\n\nsqlContext = sql.SQLContext(spark)\nschema = StructType([\n         StructField(\"Index\", IntegerType(), True),\n         StructField(\"title\", StringType(), True),\n         StructField(\"body\", StringType(), True)])\n\ndf= sqlContext.read.csv(\"../data/faq_data.csv\",\n                         header=True, \n                         mode=\"DROPMALFORMED\",\n                         schema=schema)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>df.show()\n\n+-----+--------------------+--------------------+\n|Index|               title|                body|\n+-----+--------------------+--------------------+\n|    0|What does “quantu...|Quantum theory is...|\n|    1|What is a quantum...|A quantum compute...|\n</code></pre>\n\n<p>However when I call the <code>.count()</code> method on the dataframe it throws the below error </p>\n\n<pre><code>    ---------------------------------------------------------------------------\nPy4JJavaError                             Traceback (most recent call last)\n&lt;ipython-input-29-913a2f9eb5fc&gt; in &lt;module&gt;()\n----&gt; 1 df.count()\n\n~/anaconda3/envs/Community/lib/python3.6/site-packages/pyspark/sql/dataframe.py in count(self)\n    453         2\n    454         \"\"\"\n--&gt; 455         return int(self._jdf.count())\n    456 \n    457     @ignore_unicode_prefix\n\n~/anaconda3/envs/Community/lib/python3.6/site-packages/py4j/java_gateway.py in __call__(self, *args)\n   1255         answer = self.gateway_client.send_command(command)\n   1256         return_value = get_return_value(\n-&gt; 1257             answer, self.gateway_client, self.target_id, self.name)\n   1258 \n   1259         for temp_arg in temp_args:\n\n~/anaconda3/envs/Community/lib/python3.6/site-packages/pyspark/sql/utils.py in deco(*a, **kw)\n     61     def deco(*a, **kw):\n     62         try:\n---&gt; 63             return f(*a, **kw)\n     64         except py4j.protocol.Py4JJavaError as e:\n     65             s = e.java_exception.toString()\n\n~/anaconda3/envs/Community/lib/python3.6/site-packages/py4j/protocol.py in get_return_value(answer, gateway_client, target_id, name)\n    326                 raise Py4JJavaError(\n    327                     \"An error occurred while calling {0}{1}{2}.\\n\".\n--&gt; 328                     format(target_id, \".\", name), value)\n    329             else:\n    330                 raise Py4JError(\n\nPy4JJavaError: An error occurred while calling o655.count.\n: java.lang.IllegalArgumentException\n    at org.apache.xbean.asm5.ClassReader.&lt;init&gt;(Unknown Source)\n    at org.apache.xbean.asm5.ClassReader.&lt;init&gt;(Unknown Source)\n    at org.apache.xbean.asm5.ClassReader.&lt;init&gt;(Unknown Source)\n    at org.apache.spark.util.ClosureCleaner$.getClassReader(ClosureCleaner.scala:46)\n    at org.apache.spark.util.FieldAccessFinder$$anon$3$$anonfun$visitMethodInsn$2.apply(ClosureCleaner.scala:449)\n    at org.apache.spark.util.FieldAccessFinder$$anon$3$$anonfun$visitMethodInsn$2.apply(ClosureCleaner.scala:432)\n    at scala.collection.TraversableLike$WithFilter$$anonfun$foreach$1.apply(TraversableLike.scala:733)\n    at scala.collection.mutable.HashMap$$anon$1$$anonfun$foreach$2.apply(HashMap.scala:103)\n    at scala.collection.mutable.HashMap$$anon$1$$anonfun$foreach$2.apply(HashMap.scala:103)\n    at scala.collection.mutable.HashTable$class.foreachEntry(HashTable.scala:230)\n    at scala.collection.mutable.HashMap.foreachEntry(HashMap.scala:40)\n    at scala.collection.mutable.HashMap$$anon$1.foreach(HashMap.scala:103)\n    at scala.collection.TraversableLike$WithFilter.foreach(TraversableLike.scala:732)\n    at org.apache.spark.util.FieldAccessFinder$$anon$3.visitMethodInsn(ClosureCleaner.scala:432)\n    at org.apache.xbean.asm5.ClassReader.a(Unknown Source)\n    at org.apache.xbean.asm5.ClassReader.b(Unknown Source)\n    at org.apache.xbean.asm5.ClassReader.accept(Unknown Source)\n    at org.apache.xbean.asm5.ClassReader.accept(Unknown Source)\n    at org.apache.spark.util.ClosureCleaner$$anonfun$org$apache$spark$util$ClosureCleaner$$clean$14.apply(ClosureCleaner.scala:262)\n    at org.apache.spark.util.ClosureCleaner$$anonfun$org$apache$spark$util$ClosureCleaner$$clean$14.apply(ClosureCleaner.scala:261)\n    at scala.collection.immutable.List.foreach(List.scala:381)\n    at org.apache.spark.util.ClosureCleaner$.org$apache$spark$util$ClosureCleaner$$clean(ClosureCleaner.scala:261)\n    at org.apache.spark.util.ClosureCleaner$.clean(ClosureCleaner.scala:159)\n    at org.apache.spark.SparkContext.clean(SparkContext.scala:2299)\n    at org.apache.spark.SparkContext.runJob(SparkContext.scala:2073)\n    at org.apache.spark.SparkContext.runJob(SparkContext.scala:2099)\n    at org.apache.spark.rdd.RDD$$anonfun$collect$1.apply(RDD.scala:939)\n    at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\n    at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:112)\n    at org.apache.spark.rdd.RDD.withScope(RDD.scala:363)\n    at org.apache.spark.rdd.RDD.collect(RDD.scala:938)\n    at org.apache.spark.sql.execution.SparkPlan.executeCollect(SparkPlan.scala:297)\n    at org.apache.spark.sql.Dataset$$anonfun$count$1.apply(Dataset.scala:2770)\n    at org.apache.spark.sql.Dataset$$anonfun$count$1.apply(Dataset.scala:2769)\n    at org.apache.spark.sql.Dataset$$anonfun$52.apply(Dataset.scala:3254)\n    at org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:77)\n    at org.apache.spark.sql.Dataset.withAction(Dataset.scala:3253)\n    at org.apache.spark.sql.Dataset.count(Dataset.scala:2769)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n    at py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244)\n    at py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\n    at py4j.Gateway.invoke(Gateway.java:282)\n    at py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\n    at py4j.commands.CallCommand.execute(CallCommand.java:79)\n    at py4j.GatewayConnection.run(GatewayConnection.java:238)\n    at java.base/java.lang.Thread.run(Thread.java:844)\n</code></pre>\n\n<p>I'm using Python 3.6.5 if that makes a difference. </p>\n"},{"tags":["java","actionlistener","parseint"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1668759897,"post_id":74482639,"comment_id":131489081,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668723533,"creation_date":1668723533,"answer_id":74482749,"question_id":74482639,"body_markdown":"You have only one actionPerformed method (only one listener) but bind it to all the UI objects: The add/subtract buttons and the JTextFields, which means it even gets invoked when a user performs his input and presses enter.\r\n\r\nSo you will have to check why the method was called. Your actionPerformed method should look like this. It is not complete, but I think you get the point.\r\n\r\n    public void actionPerformed(ActionEvent ae) {\r\n        try {\r\n            if (ae.getSource()==add) {\r\n                o1 = Integer.parseInt(op1.getText());\r\n                o2 = Integer.parseInt(op3.getText());\r\n                result.setText(String.format(&quot;%d + %d = %d&quot;, o1, o2, o1+o2));\r\n            }\r\n            if (ae.getSource()==subtract) {\r\n                o1 = Integer.parseInt(op1.getText());\r\n                o2 = Integer.parseInt(op3.getText());\r\n                result.setText(String.format(&quot;%d - %d = %d&quot;, o1, o2, o1-o2));\r\n            }\r\n        } catch (Exception e) {\r\n            result.setText(&quot;Could not calculate&quot;);\r\n            e.printStackTrace(System.out);\r\n        }\r\n    }","title":"Need some advice with my ActionListener in Java","body":"<p>You have only one actionPerformed method (only one listener) but bind it to all the UI objects: The add/subtract buttons and the JTextFields, which means it even gets invoked when a user performs his input and presses enter.</p>\n<p>So you will have to check why the method was called. Your actionPerformed method should look like this. It is not complete, but I think you get the point.</p>\n<pre><code>public void actionPerformed(ActionEvent ae) {\n    try {\n        if (ae.getSource()==add) {\n            o1 = Integer.parseInt(op1.getText());\n            o2 = Integer.parseInt(op3.getText());\n            result.setText(String.format(&quot;%d + %d = %d&quot;, o1, o2, o1+o2));\n        }\n        if (ae.getSource()==subtract) {\n            o1 = Integer.parseInt(op1.getText());\n            o2 = Integer.parseInt(op3.getText());\n            result.setText(String.format(&quot;%d - %d = %d&quot;, o1, o2, o1-o2));\n        }\n    } catch (Exception e) {\n        result.setText(&quot;Could not calculate&quot;);\n        e.printStackTrace(System.out);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25650991,"reputation":1,"user_id":19418226,"display_name":"Slaughter13"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668723533,"creation_date":1668722757,"question_id":74482639,"body_markdown":"I&#39;m currently working on a program in Java(beginner) and I need some assistance getting my buttons to actually work in the GUI. I copied my code to the bottom of the post. I&#39;ve written my ActionEvents method and feel like I&#39;m getting closer with my if-statements but I&#39;m still stumped. I tried to implement &quot;result.setText(&quot;Sum of given two numbers is &quot;+ res);&quot; and make my buttons work but I just don&#39;t know where to go next. \r\n\r\nAny advice or suggestions would be appreciated!\r\n\r\n\r\n```\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\n\r\nimport javax.swing.*;\r\n\r\npublic class ButtonActionOne extends JFrame implements ActionListener {\r\n\tJButton add, subtract, multiply, divide;\r\n\tJLabel operand1, operand2, display;\r\n\tJTextField op1, op2, result;\r\n\tInteger num1, num2;\r\n\t\r\n\tpublic ButtonActionOne() {\r\n\t\tsetSize(250, 400);\r\n\t\tsetTitle(&quot;Button Action&quot;);\r\n\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tsetLayout(new FlowLayout());\r\n\t\t\r\n\t\toperand1 = new JLabel(&quot;Operand 1:&quot;);\r\n\t\toperand2 = new JLabel(&quot;Operand 2:&quot;);\r\n\t\tdisplay = new JLabel(&quot;Output:&quot;);\r\n\t\tadd = new JButton(&quot;Add&quot;);\r\n\t\tadd.addActionListener(this);\r\n\t\tsubtract = new JButton(&quot;Subtract&quot;);\r\n\t\tsubtract.addActionListener(this);\r\n\t\tmultiply = new JButton(&quot;Multiply&quot;);\r\n\t\tmultiply.addActionListener(this);\r\n\t\tdivide = new JButton(&quot;Divide&quot;);\r\n\t\tdivide.addActionListener(this);\r\n\t\tresult = new JTextField(50);\r\n\t\top1 = new JTextField(10);\r\n\t\top1.getText();\r\n\t\top1.addActionListener((ActionListener) this);\r\n\t\top2 = new JTextField(10);\r\n\t\top2.getText();\r\n\t\top2.addActionListener((ActionListener) this);\r\n\t\tint num1 = Integer.parseInt(op1.getText());\r\n\t\tint num2 = Integer.parseInt(op2.getText());\r\n\t\t\r\n\t\tadd(operand1);\r\n\t\tadd(op1);\r\n\t\tadd(operand2);\r\n\t\tadd(op2);\r\n\t\tadd(add);\r\n\t\tadd(subtract);\r\n\t\tadd(multiply);\r\n\t\tadd(divide);\r\n\t\tadd(display);\r\n\t\tadd(result);\r\n\t\t\r\n\t\tsetVisible(true);\r\n\t}\r\n\t\r\n\tpublic static void main(String args[]) {\r\n\t\tnew ButtonActionOne();\r\n\t}\r\n\tpublic void actionPerformed(ActionEvent ae) {\r\n\t\tObject o = ae.getSource();\r\n\t\tif(o == add) {\r\n\t\t\tresult.setText(&quot;The sum of the given numbers is &quot; );\r\n\t\t\tSystem.out.println(result);\r\n\t\t} \r\n\t\tif(o == subtract) {\r\n\t\tSystem.out.println();\r\n\t} if(o == multiply)\r\n\t\tSystem.out.println();\r\n\tif(o == divide) {\r\n\t\tSystem.out.println();\r\n\t}\r\n\t\t\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI&#39;m not getting any errors when bringing up the GUI, but I don&#39;t know how or when to use my getText. I also declared two integers and used the &quot;parseInt&quot; but I still don&#39;t much no how to proceed to make my buttons work! Thank you in advance!","title":"Need some advice with my ActionListener in Java","body":"<p>I'm currently working on a program in Java(beginner) and I need some assistance getting my buttons to actually work in the GUI. I copied my code to the bottom of the post. I've written my ActionEvents method and feel like I'm getting closer with my if-statements but I'm still stumped. I tried to implement &quot;result.setText(&quot;Sum of given two numbers is &quot;+ res);&quot; and make my buttons work but I just don't know where to go next.</p>\n<p>Any advice or suggestions would be appreciated!</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.*;\n\npublic class ButtonActionOne extends JFrame implements ActionListener {\n    JButton add, subtract, multiply, divide;\n    JLabel operand1, operand2, display;\n    JTextField op1, op2, result;\n    Integer num1, num2;\n    \n    public ButtonActionOne() {\n        setSize(250, 400);\n        setTitle(&quot;Button Action&quot;);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setLayout(new FlowLayout());\n        \n        operand1 = new JLabel(&quot;Operand 1:&quot;);\n        operand2 = new JLabel(&quot;Operand 2:&quot;);\n        display = new JLabel(&quot;Output:&quot;);\n        add = new JButton(&quot;Add&quot;);\n        add.addActionListener(this);\n        subtract = new JButton(&quot;Subtract&quot;);\n        subtract.addActionListener(this);\n        multiply = new JButton(&quot;Multiply&quot;);\n        multiply.addActionListener(this);\n        divide = new JButton(&quot;Divide&quot;);\n        divide.addActionListener(this);\n        result = new JTextField(50);\n        op1 = new JTextField(10);\n        op1.getText();\n        op1.addActionListener((ActionListener) this);\n        op2 = new JTextField(10);\n        op2.getText();\n        op2.addActionListener((ActionListener) this);\n        int num1 = Integer.parseInt(op1.getText());\n        int num2 = Integer.parseInt(op2.getText());\n        \n        add(operand1);\n        add(op1);\n        add(operand2);\n        add(op2);\n        add(add);\n        add(subtract);\n        add(multiply);\n        add(divide);\n        add(display);\n        add(result);\n        \n        setVisible(true);\n    }\n    \n    public static void main(String args[]) {\n        new ButtonActionOne();\n    }\n    public void actionPerformed(ActionEvent ae) {\n        Object o = ae.getSource();\n        if(o == add) {\n            result.setText(&quot;The sum of the given numbers is &quot; );\n            System.out.println(result);\n        } \n        if(o == subtract) {\n        System.out.println();\n    } if(o == multiply)\n        System.out.println();\n    if(o == divide) {\n        System.out.println();\n    }\n        \n    }\n}\n</code></pre>\n<p>I'm not getting any errors when bringing up the GUI, but I don't know how or when to use my getText. I also declared two integers and used the &quot;parseInt&quot; but I still don't much no how to proceed to make my buttons work! Thank you in advance!</p>\n"},{"tags":["java","scala","apache-spark"],"comments":[{"owner":{"account_id":475201,"reputation":37562,"user_id":5344058,"display_name":"Tzach Zohar"},"score":1,"creation_date":1521499321,"post_id":49373492,"comment_id":85748377,"body_markdown":"The `NativeCodeLoader` warning is a red herring - ignore it; See https://stackoverflow.com/questions/23572724/why-does-bin-spark-shell-give-warn-nativecodeloader-unable-to-load-native-had. The real issue is the `ArrayIndexOutOfBoundsException`. Might be helpful to change the question&#39;s subject accordingly.","body":"The <code>NativeCodeLoader</code> warning is a red herring - ignore it; See <a href=\"https://stackoverflow.com/questions/23572724/why-does-bin-spark-shell-give-warn-nativecodeloader-unable-to-load-native-had\" title=\"why does bin spark shell give warn nativecodeloader unable to load native had\">stackoverflow.com/questions/23572724/&hellip;</a>. The real issue is the <code>ArrayIndexOutOfBoundsException</code>. Might be helpful to change the question&#39;s subject accordingly."},{"owner":{"account_id":475201,"reputation":37562,"user_id":5344058,"display_name":"Tzach Zohar"},"score":0,"creation_date":1521499513,"post_id":49373492,"comment_id":85748462,"body_markdown":"The exception suggests that you are only passing one argument to your main function - so it fails to select the second. What&#39;s the comment you&#39;re using?","body":"The exception suggests that you are only passing one argument to your main function - so it fails to select the second. What&#39;s the comment you&#39;re using?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1668723340,"post_id":49373492,"comment_id":131482472,"body_markdown":"The solution is to go to `Run Configurations` in IntelliJ and add command `Arguments`","body":"The solution is to go to <code>Run Configurations</code> in IntelliJ and add command <code>Arguments</code>"}],"owner":{"account_id":6791762,"reputation":406,"user_id":5228646,"accept_rate":89,"display_name":"JeanP"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":580,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1668723268,"answer_count":0,"score":0,"last_activity_date":1668723292,"creation_date":1521498781,"question_id":49373492,"body_markdown":"So I recently got a macbook and wanted to get into learning Spark and Scala. I went through a few guides online on how to install Scala, Hadoop, Spark, and since I wanted to try a new IDE I installed Intellij. \r\n\r\nI&#39;ve been running into this issue.\r\n\r\n    Using Spark&#39;s default log4j profile: org/apache/spark/log4j-defaults.properties\r\n    18/03/19 18:07:38 INFO SparkContext: Running Spark version 2.3.0\r\n    18/03/19 18:07:38 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\r\n    18/03/19 18:07:38 INFO SparkContext: Submitted application: Spark Count\r\n    18/03/19 18:07:38 INFO SecurityManager: Changing view acls to: jeanmac\r\n    18/03/19 18:07:38 INFO SecurityManager: Changing modify acls to: jeanmac\r\n    18/03/19 18:07:38 INFO SecurityManager: Changing view acls groups to: \r\n    18/03/19 18:07:38 INFO SecurityManager: Changing modify acls groups to: \r\n    18/03/19 18:07:38 INFO SecurityManager: SecurityManager: authentication disabled; ui acls disabled; users  with view permissions: Set(jeanmac); groups with view permissions: Set(); users  with modify permissions: Set(jeanmac); groups with modify permissions: Set()\r\n    18/03/19 18:07:39 INFO Utils: Successfully started service &#39;sparkDriver&#39; on port 61094.\r\n    18/03/19 18:07:39 INFO SparkEnv: Registering MapOutputTracker\r\n    18/03/19 18:07:39 INFO SparkEnv: Registering BlockManagerMaster\r\n    18/03/19 18:07:39 INFO BlockManagerMasterEndpoint: Using org.apache.spark.storage.DefaultTopologyMapper for getting topology information\r\n    18/03/19 18:07:39 INFO BlockManagerMasterEndpoint: BlockManagerMasterEndpoint up\r\n    18/03/19 18:07:39 INFO DiskBlockManager: Created local directory at /private/var/folders/r5/rfwd1cqd4kv8cmh5gh_qxpvm0000gn/T/blockmgr-c8a5c1ac-8e09-4352-928e-1169a96cd752\r\n    18/03/19 18:07:39 INFO MemoryStore: MemoryStore started with capacity 2004.6 MB\r\n    18/03/19 18:07:39 INFO SparkEnv: Registering OutputCommitCoordinator\r\n    18/03/19 18:07:39 INFO Utils: Successfully started service &#39;SparkUI&#39; on port 4040.\r\n    18/03/19 18:07:39 INFO SparkUI: Bound SparkUI to 0.0.0.0, and started at http://jeanss-mbp:4040\r\n    18/03/19 18:07:39 INFO Executor: Starting executor ID driver on host localhost\r\n    18/03/19 18:07:39 INFO Utils: Successfully started service &#39;org.apache.spark.network.netty.NettyBlockTransferService&#39; on port 61095.\r\n    18/03/19 18:07:39 INFO NettyBlockTransferService: Server created on jeanss-mbp:61095\r\n    18/03/19 18:07:39 INFO BlockManager: Using org.apache.spark.storage.RandomBlockReplicationPolicy for block replication policy\r\n    18/03/19 18:07:39 INFO BlockManagerMaster: Registering BlockManager BlockManagerId(driver, jeanss-mbp, 61095, None)\r\n    18/03/19 18:07:39 INFO BlockManagerMasterEndpoint: Registering block manager jeanss-mbp:61095 with 2004.6 MB RAM, BlockManagerId(driver, jeanss-mbp, 61095, None)\r\n    18/03/19 18:07:39 INFO BlockManagerMaster: Registered BlockManager BlockManagerId(driver, jeanss-mbp, 61095, None)\r\n    18/03/19 18:07:39 INFO BlockManager: Initialized BlockManager: BlockManagerId(driver, jeanss-mbp, 61095, None)\r\n    Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: 1\r\n    \tat scala.ScalaWordCount$.main(ScalaWordCount.scala:10)\r\n    \tat scala.ScalaWordCount.main(ScalaWordCount.scala)\r\n    18/03/19 18:07:40 INFO SparkContext: Invoking stop() from shutdown hook\r\n    18/03/19 18:07:40 INFO SparkUI: Stopped Spark web UI at http://jeanss-mbp:4040\r\n    18/03/19 18:07:40 INFO MapOutputTrackerMasterEndpoint: MapOutputTrackerMasterEndpoint stopped!\r\n    18/03/19 18:07:40 INFO MemoryStore: MemoryStore cleared\r\n    18/03/19 18:07:40 INFO BlockManager: BlockManager stopped\r\n    18/03/19 18:07:40 INFO BlockManagerMaster: BlockManagerMaster stopped\r\n    18/03/19 18:07:40 INFO OutputCommitCoordinator$OutputCommitCoordinatorEndpoint: OutputCommitCoordinator stopped!\r\n    18/03/19 18:07:40 INFO SparkContext: Successfully stopped SparkContext\r\n    18/03/19 18:07:40 INFO ShutdownHookManager: Shutdown hook called\r\n    18/03/19 18:07:40 INFO ShutdownHookManager: Deleting directory /private/var/folders/r5/rfwd1cqd4kv8cmh5gh_qxpvm0000gn/T/spark-331c36a6-b985-4056-900e-88250052ebb3\r\n\r\n\r\nFrom all this what stuck out to me was this error:\r\n\r\n    WARN NativeCodeLoader Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\r\n\r\nI did some googling and tried a few different results but I can&#39;t seem to get my program to run. \r\n\r\nAside from that error, I looked at the Exception error as well:\r\n\r\n    18/03/19 18:07:39 INFO BlockManager: Initialized BlockManager: BlockManagerId(driver, jeanss-mbp, 61095, None)\r\n    Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: 1\r\n    \tat scala.ScalaWordCount$.main(ScalaWordCount.scala:10)\r\n    \tat scala.ScalaWordCount.main(ScalaWordCount.scala)\r\n\r\nLine 10: `val threshold = args(1).toInt`\r\n\r\n\r\nSo I&#39;m asking for help on how to correctly fix this issue. I will provide my system and ide configuration below.\r\n\r\nVersions:\r\n\r\n - Scale: 2.12.4 (Java HotSpot(TM) 64-Bit Server VM, Java 9.0.4).\r\n - Haddop: 3.0.0\r\n - Java: 9.0.4 Java(TM) SE Runtime Environment (build 9.0.4+11) Java HotSpot(TM) 64-Bit Server VM (build 9.0.4+11, mixed mode)\r\n - Spark: 2.3.0 Using Scala version 2.11.8 (Java HotSpot(TM) 64-Bit Server VM, Java 1.8.0_162)\r\n\r\nIntellij Configuration:\r\n\r\n  - WordCount.scala: \r\n\r\n        package scala\r\n            \r\n        import org.apache.spark.SparkContext\r\n        import org.apache.spark.SparkContext._\r\n        import org.apache.spark.SparkConf\r\n    \r\n        object ScalaWordCount {\r\n         def main(args: Array[String]) {\r\n           val sc = new SparkContext(new SparkConf().setAppName(&quot;Spark Count&quot;).setMaster(&quot;local[2]&quot;))\r\n           val threshold = args(1).toInt\r\n    \r\n           // split each document into words\r\n           val tokenized = sc.textFile(args(0)).flatMap(_.split(&quot; &quot;))\r\n    \r\n           // count the occurrence of each word\r\n           val wordCounts = tokenized.map((_, 1)).reduceByKey(_ + _)\r\n    \r\n           // filter out words with less than threshold occurrences\r\n           val filtered = wordCounts.filter(_._2 &gt;= threshold)\r\n    \r\n           // count characters\r\n           val charCounts = filtered.flatMap(_._1.toCharArray).map((_, 1)).reduceByKey(_ + _)\r\n    \r\n           System.out.println(charCounts.collect().mkString(&quot;, &quot;))\r\n         }\r\n        }     \r\n\r\n   \r\n\r\n  - build.sbt: \r\n\r\n        name := &quot;untitled&quot;\r\n        version := &quot;0.1&quot;\r\n        scalaVersion := &quot;2.11.8&quot;\r\n        val sparkVersion = &quot;2.3.0&quot;\r\n\r\n        resolvers ++= Seq(\r\n          &quot;apache-snapshots&quot; at &quot;http://repository.apache.org/snapshots/&quot;\r\n        \r\n        libraryDependencies ++= Seq(\r\n          &quot;org.apache.spark&quot; %% &quot;spark-core&quot; % sparkVersion,\r\n          &quot;org.apache.spark&quot; %% &quot;spark-sql&quot; % sparkVersion,\r\n          &quot;org.apache.spark&quot; %% &quot;spark-mllib&quot; % sparkVersion,\r\n          &quot;org.apache.spark&quot; %% &quot;spark-streaming&quot; % sparkVersion,\r\n          &quot;org.apache.spark&quot; %% &quot;spark-hive&quot; % sparkVersion\r\n        )\r\n\r\n\r\nI&#39;m not too fluent in scala and spark so it might just be something wrong in my code rather than my environment. But if any of you have any troubleshooting steps you think i should take let me know. And if you need any other configuration I&#39;ll be happy to update this post with them.","title":"ArrayIndexOutOfBoundsException for Spark main function","body":"<p>So I recently got a macbook and wanted to get into learning Spark and Scala. I went through a few guides online on how to install Scala, Hadoop, Spark, and since I wanted to try a new IDE I installed Intellij. </p>\n\n<p>I've been running into this issue.</p>\n\n<pre><code>Using Spark's default log4j profile: org/apache/spark/log4j-defaults.properties\n18/03/19 18:07:38 INFO SparkContext: Running Spark version 2.3.0\n18/03/19 18:07:38 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\n18/03/19 18:07:38 INFO SparkContext: Submitted application: Spark Count\n18/03/19 18:07:38 INFO SecurityManager: Changing view acls to: jeanmac\n18/03/19 18:07:38 INFO SecurityManager: Changing modify acls to: jeanmac\n18/03/19 18:07:38 INFO SecurityManager: Changing view acls groups to: \n18/03/19 18:07:38 INFO SecurityManager: Changing modify acls groups to: \n18/03/19 18:07:38 INFO SecurityManager: SecurityManager: authentication disabled; ui acls disabled; users  with view permissions: Set(jeanmac); groups with view permissions: Set(); users  with modify permissions: Set(jeanmac); groups with modify permissions: Set()\n18/03/19 18:07:39 INFO Utils: Successfully started service 'sparkDriver' on port 61094.\n18/03/19 18:07:39 INFO SparkEnv: Registering MapOutputTracker\n18/03/19 18:07:39 INFO SparkEnv: Registering BlockManagerMaster\n18/03/19 18:07:39 INFO BlockManagerMasterEndpoint: Using org.apache.spark.storage.DefaultTopologyMapper for getting topology information\n18/03/19 18:07:39 INFO BlockManagerMasterEndpoint: BlockManagerMasterEndpoint up\n18/03/19 18:07:39 INFO DiskBlockManager: Created local directory at /private/var/folders/r5/rfwd1cqd4kv8cmh5gh_qxpvm0000gn/T/blockmgr-c8a5c1ac-8e09-4352-928e-1169a96cd752\n18/03/19 18:07:39 INFO MemoryStore: MemoryStore started with capacity 2004.6 MB\n18/03/19 18:07:39 INFO SparkEnv: Registering OutputCommitCoordinator\n18/03/19 18:07:39 INFO Utils: Successfully started service 'SparkUI' on port 4040.\n18/03/19 18:07:39 INFO SparkUI: Bound SparkUI to 0.0.0.0, and started at http://jeanss-mbp:4040\n18/03/19 18:07:39 INFO Executor: Starting executor ID driver on host localhost\n18/03/19 18:07:39 INFO Utils: Successfully started service 'org.apache.spark.network.netty.NettyBlockTransferService' on port 61095.\n18/03/19 18:07:39 INFO NettyBlockTransferService: Server created on jeanss-mbp:61095\n18/03/19 18:07:39 INFO BlockManager: Using org.apache.spark.storage.RandomBlockReplicationPolicy for block replication policy\n18/03/19 18:07:39 INFO BlockManagerMaster: Registering BlockManager BlockManagerId(driver, jeanss-mbp, 61095, None)\n18/03/19 18:07:39 INFO BlockManagerMasterEndpoint: Registering block manager jeanss-mbp:61095 with 2004.6 MB RAM, BlockManagerId(driver, jeanss-mbp, 61095, None)\n18/03/19 18:07:39 INFO BlockManagerMaster: Registered BlockManager BlockManagerId(driver, jeanss-mbp, 61095, None)\n18/03/19 18:07:39 INFO BlockManager: Initialized BlockManager: BlockManagerId(driver, jeanss-mbp, 61095, None)\nException in thread \"main\" java.lang.ArrayIndexOutOfBoundsException: 1\n    at scala.ScalaWordCount$.main(ScalaWordCount.scala:10)\n    at scala.ScalaWordCount.main(ScalaWordCount.scala)\n18/03/19 18:07:40 INFO SparkContext: Invoking stop() from shutdown hook\n18/03/19 18:07:40 INFO SparkUI: Stopped Spark web UI at http://jeanss-mbp:4040\n18/03/19 18:07:40 INFO MapOutputTrackerMasterEndpoint: MapOutputTrackerMasterEndpoint stopped!\n18/03/19 18:07:40 INFO MemoryStore: MemoryStore cleared\n18/03/19 18:07:40 INFO BlockManager: BlockManager stopped\n18/03/19 18:07:40 INFO BlockManagerMaster: BlockManagerMaster stopped\n18/03/19 18:07:40 INFO OutputCommitCoordinator$OutputCommitCoordinatorEndpoint: OutputCommitCoordinator stopped!\n18/03/19 18:07:40 INFO SparkContext: Successfully stopped SparkContext\n18/03/19 18:07:40 INFO ShutdownHookManager: Shutdown hook called\n18/03/19 18:07:40 INFO ShutdownHookManager: Deleting directory /private/var/folders/r5/rfwd1cqd4kv8cmh5gh_qxpvm0000gn/T/spark-331c36a6-b985-4056-900e-88250052ebb3\n</code></pre>\n\n<p>From all this what stuck out to me was this error:</p>\n\n<pre><code>WARN NativeCodeLoader Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\n</code></pre>\n\n<p>I did some googling and tried a few different results but I can't seem to get my program to run. </p>\n\n<p>Aside from that error, I looked at the Exception error as well:</p>\n\n<pre><code>18/03/19 18:07:39 INFO BlockManager: Initialized BlockManager: BlockManagerId(driver, jeanss-mbp, 61095, None)\nException in thread \"main\" java.lang.ArrayIndexOutOfBoundsException: 1\n    at scala.ScalaWordCount$.main(ScalaWordCount.scala:10)\n    at scala.ScalaWordCount.main(ScalaWordCount.scala)\n</code></pre>\n\n<p>Line 10: <code>val threshold = args(1).toInt</code></p>\n\n<p>So I'm asking for help on how to correctly fix this issue. I will provide my system and ide configuration below.</p>\n\n<p>Versions:</p>\n\n<ul>\n<li>Scale: 2.12.4 (Java HotSpot(TM) 64-Bit Server VM, Java 9.0.4).</li>\n<li>Haddop: 3.0.0</li>\n<li>Java: 9.0.4 Java(TM) SE Runtime Environment (build 9.0.4+11) Java HotSpot(TM) 64-Bit Server VM (build 9.0.4+11, mixed mode)</li>\n<li>Spark: 2.3.0 Using Scala version 2.11.8 (Java HotSpot(TM) 64-Bit Server VM, Java 1.8.0_162)</li>\n</ul>\n\n<p>Intellij Configuration:</p>\n\n<ul>\n<li><p>WordCount.scala: </p>\n\n<pre><code>package scala\n\nimport org.apache.spark.SparkContext\nimport org.apache.spark.SparkContext._\nimport org.apache.spark.SparkConf\n\nobject ScalaWordCount {\n def main(args: Array[String]) {\n   val sc = new SparkContext(new SparkConf().setAppName(\"Spark Count\").setMaster(\"local[2]\"))\n   val threshold = args(1).toInt\n\n   // split each document into words\n   val tokenized = sc.textFile(args(0)).flatMap(_.split(\" \"))\n\n   // count the occurrence of each word\n   val wordCounts = tokenized.map((_, 1)).reduceByKey(_ + _)\n\n   // filter out words with less than threshold occurrences\n   val filtered = wordCounts.filter(_._2 &gt;= threshold)\n\n   // count characters\n   val charCounts = filtered.flatMap(_._1.toCharArray).map((_, 1)).reduceByKey(_ + _)\n\n   System.out.println(charCounts.collect().mkString(\", \"))\n }\n}     \n</code></pre></li>\n<li><p>build.sbt: </p>\n\n<pre><code>name := \"untitled\"\nversion := \"0.1\"\nscalaVersion := \"2.11.8\"\nval sparkVersion = \"2.3.0\"\n\nresolvers ++= Seq(\n  \"apache-snapshots\" at \"http://repository.apache.org/snapshots/\"\n\nlibraryDependencies ++= Seq(\n  \"org.apache.spark\" %% \"spark-core\" % sparkVersion,\n  \"org.apache.spark\" %% \"spark-sql\" % sparkVersion,\n  \"org.apache.spark\" %% \"spark-mllib\" % sparkVersion,\n  \"org.apache.spark\" %% \"spark-streaming\" % sparkVersion,\n  \"org.apache.spark\" %% \"spark-hive\" % sparkVersion\n)\n</code></pre></li>\n</ul>\n\n<p>I'm not too fluent in scala and spark so it might just be something wrong in my code rather than my environment. But if any of you have any troubleshooting steps you think i should take let me know. And if you need any other configuration I'll be happy to update this post with them.</p>\n"},{"tags":["java","multithreading","spring-boot","exception","timeout"],"answers":[{"tags":[],"owner":{"account_id":16221044,"reputation":331,"user_id":11712575,"display_name":"Jason Chan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668723243,"creation_date":1668723243,"answer_id":74482706,"question_id":74482212,"body_markdown":"Add `spring.datasource.hikari.connection-timeout= 5000` to `applicaton.yml` ","title":"Killing DB Query after timeout","body":"<p>Add <code>spring.datasource.hikari.connection-timeout= 5000</code> to <code>applicaton.yml</code></p>\n"}],"owner":{"account_id":16221044,"reputation":331,"user_id":11712575,"display_name":"Jason Chan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668723243,"creation_date":1668719933,"question_id":74482212,"body_markdown":"[Java Spring-boot] I have an API that queries a database, and I wanted to make it so that if the query does not finish after 5 seconds, an exception is thrown. My current code looks like this.\r\n\r\n    @GetMapping(&quot;/return&quot;)\r\n    @Transactional(timeout = 5)\r\n    public List&lt;TestEntity&gt; findAll() throws InterruptedException {\r\n    \treturn testRepository.findAll();\r\n    }\r\nThis code, however does not time out after 5 seconds, because the timeout is only triggered AFTER each step is done, so for example, if return `testRepository.findAll();` takes 15 seconds to execute, then the code will only timeout 15 seconds (after that method is done). Is there any better annotation or method that allows me to throw an exception mid way through any method so that even if we are in the middle of `testRepository.findAll();`, the exception is still thrown the moment 5 seconds are up?\r\n\r\nThanks!","title":"Killing DB Query after timeout","body":"<p>[Java Spring-boot] I have an API that queries a database, and I wanted to make it so that if the query does not finish after 5 seconds, an exception is thrown. My current code looks like this.</p>\n<pre><code>@GetMapping(&quot;/return&quot;)\n@Transactional(timeout = 5)\npublic List&lt;TestEntity&gt; findAll() throws InterruptedException {\n    return testRepository.findAll();\n}\n</code></pre>\n<p>This code, however does not time out after 5 seconds, because the timeout is only triggered AFTER each step is done, so for example, if return <code>testRepository.findAll();</code> takes 15 seconds to execute, then the code will only timeout 15 seconds (after that method is done). Is there any better annotation or method that allows me to throw an exception mid way through any method so that even if we are in the middle of <code>testRepository.findAll();</code>, the exception is still thrown the moment 5 seconds are up?</p>\n<p>Thanks!</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":462861,"reputation":17872,"user_id":865403,"accept_rate":60,"display_name":"Pavel Horal"},"score":1,"creation_date":1521335876,"post_id":49343575,"comment_id":85687444,"body_markdown":"Is this really all you get? No stack trace? (btw. Hikari is fine)","body":"Is this really all you get? No stack trace? (btw. Hikari is fine)"},{"owner":{"account_id":4383566,"reputation":2775,"user_id":3574494,"display_name":"larsgrefer"},"score":1,"creation_date":1521336617,"post_id":49343575,"comment_id":85687582,"body_markdown":"You could try setting `debug=true` in your application.properties","body":"You could try setting <code>debug=true</code> in your application.properties"},{"owner":{"account_id":8745385,"reputation":715,"user_id":6540869,"accept_rate":33,"display_name":"Oskar Woźniak"},"score":0,"creation_date":1521338384,"post_id":49343575,"comment_id":85687895,"body_markdown":"@larsgrefer I post log in my post","body":"@larsgrefer I post log in my post"},{"owner":{"account_id":8745385,"reputation":715,"user_id":6540869,"accept_rate":33,"display_name":"Oskar Woźniak"},"score":0,"creation_date":1521338433,"post_id":49343575,"comment_id":85687905,"body_markdown":"If I remove all annotations from &quot;javax.persistence&quot; it is working well","body":"If I remove all annotations from &quot;javax.persistence&quot; it is working well"},{"owner":{"account_id":4383566,"reputation":2775,"user_id":3574494,"display_name":"larsgrefer"},"score":0,"creation_date":1521339165,"post_id":49343575,"comment_id":85687997,"body_markdown":"Did you change the logging configuration? (Logback.xml or logging related properties?)","body":"Did you change the logging configuration? (Logback.xml or logging related properties?)"},{"owner":{"account_id":8745385,"reputation":715,"user_id":6540869,"accept_rate":33,"display_name":"Oskar Woźniak"},"score":0,"creation_date":1521339554,"post_id":49343575,"comment_id":85688051,"body_markdown":"@larsgrefer no, I din&#39;t change anything according logging","body":"@larsgrefer no, I din&#39;t change anything according logging"},{"owner":{"account_id":10277084,"reputation":2760,"user_id":7583619,"display_name":"lucid"},"score":0,"creation_date":1521347946,"post_id":49343575,"comment_id":85689171,"body_markdown":"there is error in hibernate initialization. change hibernate logging level. ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory","body":"there is error in hibernate initialization. change hibernate logging level. ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpa&zwnj;&#8203;Configuration.class]&zwnj;&#8203;: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory"},{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":0,"creation_date":1521351104,"post_id":49343575,"comment_id":85689643,"body_markdown":"check this: similar solution to exception in stacktrace : https://stackoverflow.com/questions/40058001/error-creating-bean-with-name-entitymanagerfactory-defined-in-class-path-resou","body":"check this: similar solution to exception in stacktrace : <a href=\"https://stackoverflow.com/questions/40058001/error-creating-bean-with-name-entitymanagerfactory-defined-in-class-path-resou\" title=\"error creating bean with name entitymanagerfactory defined in class path resou\">stackoverflow.com/questions/40058001/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":9636750,"reputation":2702,"user_id":7152558,"display_name":"Mahesh_Loya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521349540,"creation_date":1521349540,"answer_id":49344628,"question_id":49343575,"body_markdown":"If you are using MySQL database,\r\nyou might be facing the following problem: https://hibernate.atlassian.net/browse/HHH-10490\r\n\r\nChange the following line:\r\n\r\n    properties.setProperty(&quot;hibernate.default_schema&quot;, defaultSchema);\r\n\r\nto:\r\n\r\n    properties.setProperty(&quot;hibernate.default_catalog&quot;, defaultSchema);\r\n\r\nNote that you might want to change the attribute name from &quot;defaultSchema&quot; to &quot;defaultCatalog&quot; as well.","title":"Spring Boot - Exception encountered during context initialization. How to know the reason of error?","body":"<p>If you are using MySQL database,\nyou might be facing the following problem: <a href=\"https://hibernate.atlassian.net/browse/HHH-10490\" rel=\"nofollow noreferrer\">https://hibernate.atlassian.net/browse/HHH-10490</a></p>\n\n<p>Change the following line:</p>\n\n<pre><code>properties.setProperty(\"hibernate.default_schema\", defaultSchema);\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>properties.setProperty(\"hibernate.default_catalog\", defaultSchema);\n</code></pre>\n\n<p>Note that you might want to change the attribute name from \"defaultSchema\" to \"defaultCatalog\" as well.</p>\n"},{"tags":[],"owner":{"account_id":8745385,"reputation":715,"user_id":6540869,"accept_rate":33,"display_name":"Oskar Woźniak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521388511,"creation_date":1521388511,"answer_id":49349911,"question_id":49343575,"body_markdown":"I &quot;solved&quot; it by changing gradle to maven","title":"Spring Boot - Exception encountered during context initialization. How to know the reason of error?","body":"<p>I \"solved\" it by changing gradle to maven</p>\n"},{"tags":[],"owner":{"account_id":3234420,"reputation":3542,"user_id":2728956,"accept_rate":66,"display_name":"Vadim Kirilchuk"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1569017973,"creation_date":1569015980,"answer_id":58035502,"question_id":49343575,"body_markdown":"this can be related to your issue: [spring boot discussion][1]\r\n\r\n[spring boot github issue][2]\r\n\r\nYou can also debug SpringApplication#reportFailure in the end (after catch (throwable)) it has generic logging of any error:\r\n\r\n    logger.error(&quot;Application run failed&quot;, ex)\r\n\r\nIn my case I had the logger from commons-logging which prevented logging to happen.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/issues/14187\r\n  [2]: https://github.com/spring-projects/spring-boot/issues/12457","title":"Spring Boot - Exception encountered during context initialization. How to know the reason of error?","body":"<p>this can be related to your issue: <a href=\"https://github.com/spring-projects/spring-boot/issues/14187\" rel=\"nofollow noreferrer\">spring boot discussion</a></p>\n\n<p><a href=\"https://github.com/spring-projects/spring-boot/issues/12457\" rel=\"nofollow noreferrer\">spring boot github issue</a></p>\n\n<p>You can also debug SpringApplication#reportFailure in the end (after catch (throwable)) it has generic logging of any error:</p>\n\n<pre><code>logger.error(\"Application run failed\", ex)\n</code></pre>\n\n<p>In my case I had the logger from commons-logging which prevented logging to happen.</p>\n"},{"tags":[],"owner":{"account_id":26918226,"reputation":1,"user_id":20492687,"display_name":"Sheetal Sanjay Kadolkar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1668723108,"creation_date":1668344100,"answer_id":74421163,"question_id":49343575,"body_markdown":"APPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\n    Field studentServiceImpl in com.edubridge.springbootpostman.controller.HomeController required a bean of type &#39;com.edubridge.springbootpostman.serviceimpl.StudentServiceImpl&#39; that could not be found.\r\n    \r\n    The injection point has the following annotations:\r\n    \t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;com.edubridge.springbootpostman.serviceimpl.StudentServiceImpl&#39; in your configuration.\r\n\r\n\r\nEither you are missing `@Component/@Service` on your `StudentServiceImpl/interface` respectively or missing to define a `bean` in your `Configuration` file","title":"Spring Boot - Exception encountered during context initialization. How to know the reason of error?","body":"<p>APPLICATION FAILED TO START</p>\n<hr />\n<p>Description:</p>\n<pre><code>Field studentServiceImpl in com.edubridge.springbootpostman.controller.HomeController required a bean of type 'com.edubridge.springbootpostman.serviceimpl.StudentServiceImpl' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'com.edubridge.springbootpostman.serviceimpl.StudentServiceImpl' in your configuration.\n</code></pre>\n<p>Either you are missing <code>@Component/@Service</code> on your <code>StudentServiceImpl/interface</code> respectively or missing to define a <code>bean</code> in your <code>Configuration</code> file</p>\n"}],"owner":{"account_id":8745385,"reputation":715,"user_id":6540869,"accept_rate":33,"display_name":"Oskar Woźniak"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8800,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1668723108,"creation_date":1521335667,"question_id":49343575,"body_markdown":"How I can know what is the problem when there is no stack trace? Can I enable some option?\r\nI just created small project with spring initializer and this is what I&#39;m getting\r\n\r\nUpdated log(With debug flag)\r\n\r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::        (v2.0.0.RELEASE)\r\n    \r\n    2018-03-18 02:40:52.246  INFO 16664 --- [  restartedMain] c.o.b.BigDataProjectApplication          : Starting BigDataProjectApplication on oscar-Inspiron-5735 with PID 16664 (/home/oscar/IdeaProjects/big-data-project/out/production/classes started by oscar in /home/oscar/IdeaProjects/big-data-project)\r\n    2018-03-18 02:40:52.253  INFO 16664 --- [  restartedMain] c.o.b.BigDataProjectApplication          : No active profile set, falling back to default profiles: default\r\n    2018-03-18 02:40:52.254 DEBUG 16664 --- [  restartedMain] o.s.boot.SpringApplication               : Loading source class com.owozniak.bigdataproject.BigDataProjectApplication\r\n    2018-03-18 02:40:52.476 DEBUG 16664 --- [  restartedMain] o.s.b.c.c.ConfigFileApplicationListener  : Loaded config file &#39;file:/home/oscar/IdeaProjects/big-data-project/out/production/resources/application.properties&#39; (classpath:/application.properties)\r\n    2018-03-18 02:40:52.512  INFO 16664 --- [  restartedMain] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@c156816: startup date [Sun Mar 18 02:40:52 CET 2018]; root of context hierarchy\r\n    2018-03-18 02:40:52.516 DEBUG 16664 --- [  restartedMain] ConfigServletWebServerApplicationContext : Bean factory for org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@c156816: org.springframework.beans.factory.support.DefaultListableBeanFactory@5f820b6d: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.context.event.internalEventListenerProcessor,org.springframework.context.event.internalEventListenerFactory,bigDataProjectApplication]; root of factory hierarchy\r\n    2018-03-18 02:40:55.008 DEBUG 16664 --- [  restartedMain] o.s.b.a.AutoConfigurationPackages        : @EnableAutoConfiguration was declared on a class in the package &#39;com.owozniak.bigdataproject&#39;. Automatic @Repository and @Entity scanning is enabled.\r\n    2018-03-18 02:40:55.882  INFO 16664 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean &#39;org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration&#39; of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$54765f50] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n    2018-03-18 02:40:55.959 DEBUG 16664 --- [  restartedMain] ConfigServletWebServerApplicationContext : Unable to locate MessageSource with name &#39;messageSource&#39;: using default [org.springframework.context.support.DelegatingMessageSource@1214c019]\r\n    2018-03-18 02:40:55.959 DEBUG 16664 --- [  restartedMain] ConfigServletWebServerApplicationContext : Unable to locate ApplicationEventMulticaster with name &#39;applicationEventMulticaster&#39;: using default [org.springframework.context.event.SimpleApplicationEventMulticaster@41ee5a59]\r\n    2018-03-18 02:40:56.386 DEBUG 16664 --- [  restartedMain] .s.b.w.e.t.TomcatServletWebServerFactory : Code archive: /home/oscar/.gradle/caches/modules-2/files-2.1/org.springframework.boot/spring-boot/2.0.0.RELEASE/771da2071ff14a47f108642a641c204ae4ef7b15/spring-boot-2.0.0.RELEASE.jar\r\n    2018-03-18 02:40:56.387 DEBUG 16664 --- [  restartedMain] .s.b.w.e.t.TomcatServletWebServerFactory : Code archive: /home/oscar/.gradle/caches/modules-2/files-2.1/org.springframework.boot/spring-boot/2.0.0.RELEASE/771da2071ff14a47f108642a641c204ae4ef7b15/spring-boot-2.0.0.RELEASE.jar\r\n    2018-03-18 02:40:56.388 DEBUG 16664 --- [  restartedMain] .s.b.w.e.t.TomcatServletWebServerFactory : None of the document roots [src/main/webapp, public, static] point to a directory and will be ignored.\r\n    2018-03-18 02:40:56.551  INFO 16664 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2018-03-18 02:40:56.604  INFO 16664 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2018-03-18 02:40:56.605  INFO 16664 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.28\r\n    2018-03-18 02:40:56.616  INFO 16664 --- [ost-startStop-1] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]\r\n    2018-03-18 02:40:56.838  INFO 16664 --- [ost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2018-03-18 02:40:56.838  INFO 16664 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 4361 ms\r\n    2018-03-18 02:40:57.959 DEBUG 16664 --- [ost-startStop-1] o.s.b.w.s.ServletContextInitializerBeans : Added existing Servlet initializer bean &#39;dispatcherServletRegistration&#39;; order=2147483647, resource=class path resource [org/springframework/boot/autoconfigure/web/servlet/DispatcherServletAutoConfiguration$DispatcherServletRegistrationConfiguration.class]\r\n    2018-03-18 02:40:57.959 DEBUG 16664 --- [ost-startStop-1] o.s.b.w.s.ServletContextInitializerBeans : Added existing Filter initializer bean &#39;webMvcMetricsFilter&#39;; order=2147483647, resource=class path resource [org/springframework/boot/actuate/autoconfigure/metrics/web/servlet/WebMvcMetricsAutoConfiguration.class]\r\n    2018-03-18 02:40:57.961 DEBUG 16664 --- [ost-startStop-1] o.s.b.w.s.ServletContextInitializerBeans : Added existing ServletContextInitializer initializer bean &#39;servletEndpointRegistrar&#39;; order=2147483647, resource=class path resource [org/springframework/boot/actuate/autoconfigure/endpoint/web/ServletEndpointManagementContextConfiguration.class]\r\n    2018-03-18 02:40:58.051 DEBUG 16664 --- [ost-startStop-1] o.s.b.w.s.ServletContextInitializerBeans : Created Filter initializer for bean &#39;characterEncodingFilter&#39;; order=-2147483648, resource=class path resource [org/springframework/boot/autoconfigure/web/servlet/HttpEncodingAutoConfiguration.class]\r\n    2018-03-18 02:40:58.051 DEBUG 16664 --- [ost-startStop-1] o.s.b.w.s.ServletContextInitializerBeans : Created Filter initializer for bean &#39;hiddenHttpMethodFilter&#39;; order=-10000, resource=class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration.class]\r\n    2018-03-18 02:40:58.052 DEBUG 16664 --- [ost-startStop-1] o.s.b.w.s.ServletContextInitializerBeans : Created Filter initializer for bean &#39;httpPutFormContentFilter&#39;; order=-9900, resource=class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration.class]\r\n    2018-03-18 02:40:58.052 DEBUG 16664 --- [ost-startStop-1] o.s.b.w.s.ServletContextInitializerBeans : Created Filter initializer for bean &#39;requestContextFilter&#39;; order=-105, resource=class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter.class]\r\n    2018-03-18 02:40:58.052 DEBUG 16664 --- [ost-startStop-1] o.s.b.w.s.ServletContextInitializerBeans : Created Filter initializer for bean &#39;httpTraceFilter&#39;; order=2147483637, resource=class path resource [org/springframework/boot/actuate/autoconfigure/trace/http/HttpTraceAutoConfiguration$ServletTraceFilterConfiguration.class]\r\n    2018-03-18 02:40:58.065  INFO 16664 --- [ost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]\r\n    2018-03-18 02:40:58.070  INFO 16664 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;characterEncodingFilter&#39; to: [/*]\r\n    2018-03-18 02:40:58.071  INFO 16664 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;hiddenHttpMethodFilter&#39; to: [/*]\r\n    2018-03-18 02:40:58.072  INFO 16664 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;httpPutFormContentFilter&#39; to: [/*]\r\n    2018-03-18 02:40:58.072  INFO 16664 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;requestContextFilter&#39; to: [/*]\r\n    2018-03-18 02:40:58.072  INFO 16664 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;httpTraceFilter&#39; to: [/*]\r\n    2018-03-18 02:40:58.073  INFO 16664 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;webMvcMetricsFilter&#39; to: [/*]\r\n    2018-03-18 02:40:58.090 DEBUG 16664 --- [ost-startStop-1] o.s.b.w.s.f.OrderedRequestContextFilter  : Initializing filter &#39;requestContextFilter&#39;\r\n    2018-03-18 02:40:58.092 DEBUG 16664 --- [ost-startStop-1] o.s.b.w.s.f.OrderedRequestContextFilter  : Filter &#39;requestContextFilter&#39; configured successfully\r\n    2018-03-18 02:40:58.095 DEBUG 16664 --- [ost-startStop-1] o.s.b.a.m.w.servlet.WebMvcMetricsFilter  : Initializing filter &#39;webMvcMetricsFilter&#39;\r\n    2018-03-18 02:40:58.096 DEBUG 16664 --- [ost-startStop-1] o.s.b.a.m.w.servlet.WebMvcMetricsFilter  : Filter &#39;webMvcMetricsFilter&#39; configured successfully\r\n    2018-03-18 02:40:58.097 DEBUG 16664 --- [ost-startStop-1] .b.w.s.f.OrderedHttpPutFormContentFilter : Initializing filter &#39;httpPutFormContentFilter&#39;\r\n    2018-03-18 02:40:58.097 DEBUG 16664 --- [ost-startStop-1] .b.w.s.f.OrderedHttpPutFormContentFilter : Filter &#39;httpPutFormContentFilter&#39; configured successfully\r\n    2018-03-18 02:40:58.097 DEBUG 16664 --- [ost-startStop-1] .s.b.w.s.f.OrderedHiddenHttpMethodFilter : Initializing filter &#39;hiddenHttpMethodFilter&#39;\r\n    2018-03-18 02:40:58.098 DEBUG 16664 --- [ost-startStop-1] .s.b.w.s.f.OrderedHiddenHttpMethodFilter : Filter &#39;hiddenHttpMethodFilter&#39; configured successfully\r\n    2018-03-18 02:40:58.098 DEBUG 16664 --- [ost-startStop-1] s.b.w.s.f.OrderedCharacterEncodingFilter : Initializing filter &#39;characterEncodingFilter&#39;\r\n    2018-03-18 02:40:58.099 DEBUG 16664 --- [ost-startStop-1] s.b.w.s.f.OrderedCharacterEncodingFilter : Filter &#39;characterEncodingFilter&#39; configured successfully\r\n    2018-03-18 02:40:58.099 DEBUG 16664 --- [ost-startStop-1] o.s.b.a.w.trace.servlet.HttpTraceFilter  : Initializing filter &#39;httpTraceFilter&#39;\r\n    2018-03-18 02:40:58.099 DEBUG 16664 --- [ost-startStop-1] o.s.b.a.w.trace.servlet.HttpTraceFilter  : Filter &#39;httpTraceFilter&#39; configured successfully\r\n    2018-03-18 02:40:58.265  INFO 16664 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n    2018-03-18 02:40:58.836  INFO 16664 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n    2018-03-18 02:40:58.917  INFO 16664 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2018-03-18 02:40:58.937  INFO 16664 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [\r\n    \tname: default\r\n    \t...]\r\n    2018-03-18 02:40:59.046  INFO 16664 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.14.Final}\r\n    2018-03-18 02:40:59.048  INFO 16664 --- [  restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found\r\n    2018-03-18 02:40:59.100  INFO 16664 --- [  restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}\r\n    2018-03-18 02:40:59.251  INFO 16664 --- [  restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect\r\n    2018-03-18 02:41:00.092  WARN 16664 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory\r\n    2018-03-18 02:41:00.094  INFO 16664 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n    2018-03-18 02:41:00.106  INFO 16664 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n    2018-03-18 02:41:00.111  INFO 16664 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n    2018-03-18 02:41:00.135 DEBUG 16664 --- [  restartedMain] o.s.boot.devtools.restart.Restarter      : Creating new Restarter for thread Thread[main,5,main]\r\n    2018-03-18 02:41:00.135 DEBUG 16664 --- [  restartedMain] o.s.boot.devtools.restart.Restarter      : Immediately restarting application\r\n    2018-03-18 02:41:00.136 DEBUG 16664 --- [  restartedMain] o.s.boot.devtools.restart.Restarter      : Created RestartClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@20f4e97e\r\n    2018-03-18 02:41:00.136 DEBUG 16664 --- [  restartedMain] o.s.boot.devtools.restart.Restarter      : Starting application com.owozniak.bigdataproject.BigDataProjectApplication with URLs [file:/home/oscar/IdeaProjects/big-data-project/out/production/classes/, file:/home/oscar/IdeaProjects/big-data-project/out/production/resources/]\r\n    \r\n    Process finished with exit code 0\r\n\r\nServer is working when I remove all of annotations acording spring data jpa (@Entity, @OneToMay etc)","title":"Spring Boot - Exception encountered during context initialization. How to know the reason of error?","body":"<p>How I can know what is the problem when there is no stack trace? Can I enable some option?\nI just created small project with spring initializer and this is what I'm getting</p>\n\n<p>Updated log(With debug flag)</p>\n\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v2.0.0.RELEASE)\n\n2018-03-18 02:40:52.246  INFO 16664 --- [  restartedMain] c.o.b.BigDataProjectApplication          : Starting BigDataProjectApplication on oscar-Inspiron-5735 with PID 16664 (/home/oscar/IdeaProjects/big-data-project/out/production/classes started by oscar in /home/oscar/IdeaProjects/big-data-project)\n2018-03-18 02:40:52.253  INFO 16664 --- [  restartedMain] c.o.b.BigDataProjectApplication          : No active profile set, falling back to default profiles: default\n2018-03-18 02:40:52.254 DEBUG 16664 --- [  restartedMain] o.s.boot.SpringApplication               : Loading source class com.owozniak.bigdataproject.BigDataProjectApplication\n2018-03-18 02:40:52.476 DEBUG 16664 --- [  restartedMain] o.s.b.c.c.ConfigFileApplicationListener  : Loaded config file 'file:/home/oscar/IdeaProjects/big-data-project/out/production/resources/application.properties' (classpath:/application.properties)\n2018-03-18 02:40:52.512  INFO 16664 --- [  restartedMain] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@c156816: startup date [Sun Mar 18 02:40:52 CET 2018]; root of context hierarchy\n2018-03-18 02:40:52.516 DEBUG 16664 --- [  restartedMain] ConfigServletWebServerApplicationContext : Bean factory for org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@c156816: org.springframework.beans.factory.support.DefaultListableBeanFactory@5f820b6d: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.context.event.internalEventListenerProcessor,org.springframework.context.event.internalEventListenerFactory,bigDataProjectApplication]; root of factory hierarchy\n2018-03-18 02:40:55.008 DEBUG 16664 --- [  restartedMain] o.s.b.a.AutoConfigurationPackages        : @EnableAutoConfiguration was declared on a class in the package 'com.owozniak.bigdataproject'. Automatic @Repository and @Entity scanning is enabled.\n2018-03-18 02:40:55.882  INFO 16664 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$54765f50] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2018-03-18 02:40:55.959 DEBUG 16664 --- [  restartedMain] ConfigServletWebServerApplicationContext : Unable to locate MessageSource with name 'messageSource': using default [org.springframework.context.support.DelegatingMessageSource@1214c019]\n2018-03-18 02:40:55.959 DEBUG 16664 --- [  restartedMain] ConfigServletWebServerApplicationContext : Unable to locate ApplicationEventMulticaster with name 'applicationEventMulticaster': using default [org.springframework.context.event.SimpleApplicationEventMulticaster@41ee5a59]\n2018-03-18 02:40:56.386 DEBUG 16664 --- [  restartedMain] .s.b.w.e.t.TomcatServletWebServerFactory : Code archive: /home/oscar/.gradle/caches/modules-2/files-2.1/org.springframework.boot/spring-boot/2.0.0.RELEASE/771da2071ff14a47f108642a641c204ae4ef7b15/spring-boot-2.0.0.RELEASE.jar\n2018-03-18 02:40:56.387 DEBUG 16664 --- [  restartedMain] .s.b.w.e.t.TomcatServletWebServerFactory : Code archive: /home/oscar/.gradle/caches/modules-2/files-2.1/org.springframework.boot/spring-boot/2.0.0.RELEASE/771da2071ff14a47f108642a641c204ae4ef7b15/spring-boot-2.0.0.RELEASE.jar\n2018-03-18 02:40:56.388 DEBUG 16664 --- [  restartedMain] .s.b.w.e.t.TomcatServletWebServerFactory : None of the document roots [src/main/webapp, public, static] point to a directory and will be ignored.\n2018-03-18 02:40:56.551  INFO 16664 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2018-03-18 02:40:56.604  INFO 16664 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2018-03-18 02:40:56.605  INFO 16664 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.28\n2018-03-18 02:40:56.616  INFO 16664 --- [ost-startStop-1] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]\n2018-03-18 02:40:56.838  INFO 16664 --- [ost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2018-03-18 02:40:56.838  INFO 16664 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 4361 ms\n2018-03-18 02:40:57.959 DEBUG 16664 --- [ost-startStop-1] o.s.b.w.s.ServletContextInitializerBeans : Added existing Servlet initializer bean 'dispatcherServletRegistration'; order=2147483647, resource=class path resource [org/springframework/boot/autoconfigure/web/servlet/DispatcherServletAutoConfiguration$DispatcherServletRegistrationConfiguration.class]\n2018-03-18 02:40:57.959 DEBUG 16664 --- [ost-startStop-1] o.s.b.w.s.ServletContextInitializerBeans : Added existing Filter initializer bean 'webMvcMetricsFilter'; order=2147483647, resource=class path resource [org/springframework/boot/actuate/autoconfigure/metrics/web/servlet/WebMvcMetricsAutoConfiguration.class]\n2018-03-18 02:40:57.961 DEBUG 16664 --- [ost-startStop-1] o.s.b.w.s.ServletContextInitializerBeans : Added existing ServletContextInitializer initializer bean 'servletEndpointRegistrar'; order=2147483647, resource=class path resource [org/springframework/boot/actuate/autoconfigure/endpoint/web/ServletEndpointManagementContextConfiguration.class]\n2018-03-18 02:40:58.051 DEBUG 16664 --- [ost-startStop-1] o.s.b.w.s.ServletContextInitializerBeans : Created Filter initializer for bean 'characterEncodingFilter'; order=-2147483648, resource=class path resource [org/springframework/boot/autoconfigure/web/servlet/HttpEncodingAutoConfiguration.class]\n2018-03-18 02:40:58.051 DEBUG 16664 --- [ost-startStop-1] o.s.b.w.s.ServletContextInitializerBeans : Created Filter initializer for bean 'hiddenHttpMethodFilter'; order=-10000, resource=class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration.class]\n2018-03-18 02:40:58.052 DEBUG 16664 --- [ost-startStop-1] o.s.b.w.s.ServletContextInitializerBeans : Created Filter initializer for bean 'httpPutFormContentFilter'; order=-9900, resource=class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration.class]\n2018-03-18 02:40:58.052 DEBUG 16664 --- [ost-startStop-1] o.s.b.w.s.ServletContextInitializerBeans : Created Filter initializer for bean 'requestContextFilter'; order=-105, resource=class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter.class]\n2018-03-18 02:40:58.052 DEBUG 16664 --- [ost-startStop-1] o.s.b.w.s.ServletContextInitializerBeans : Created Filter initializer for bean 'httpTraceFilter'; order=2147483637, resource=class path resource [org/springframework/boot/actuate/autoconfigure/trace/http/HttpTraceAutoConfiguration$ServletTraceFilterConfiguration.class]\n2018-03-18 02:40:58.065  INFO 16664 --- [ost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]\n2018-03-18 02:40:58.070  INFO 16664 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]\n2018-03-18 02:40:58.071  INFO 16664 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]\n2018-03-18 02:40:58.072  INFO 16664 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]\n2018-03-18 02:40:58.072  INFO 16664 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]\n2018-03-18 02:40:58.072  INFO 16664 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpTraceFilter' to: [/*]\n2018-03-18 02:40:58.073  INFO 16664 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'webMvcMetricsFilter' to: [/*]\n2018-03-18 02:40:58.090 DEBUG 16664 --- [ost-startStop-1] o.s.b.w.s.f.OrderedRequestContextFilter  : Initializing filter 'requestContextFilter'\n2018-03-18 02:40:58.092 DEBUG 16664 --- [ost-startStop-1] o.s.b.w.s.f.OrderedRequestContextFilter  : Filter 'requestContextFilter' configured successfully\n2018-03-18 02:40:58.095 DEBUG 16664 --- [ost-startStop-1] o.s.b.a.m.w.servlet.WebMvcMetricsFilter  : Initializing filter 'webMvcMetricsFilter'\n2018-03-18 02:40:58.096 DEBUG 16664 --- [ost-startStop-1] o.s.b.a.m.w.servlet.WebMvcMetricsFilter  : Filter 'webMvcMetricsFilter' configured successfully\n2018-03-18 02:40:58.097 DEBUG 16664 --- [ost-startStop-1] .b.w.s.f.OrderedHttpPutFormContentFilter : Initializing filter 'httpPutFormContentFilter'\n2018-03-18 02:40:58.097 DEBUG 16664 --- [ost-startStop-1] .b.w.s.f.OrderedHttpPutFormContentFilter : Filter 'httpPutFormContentFilter' configured successfully\n2018-03-18 02:40:58.097 DEBUG 16664 --- [ost-startStop-1] .s.b.w.s.f.OrderedHiddenHttpMethodFilter : Initializing filter 'hiddenHttpMethodFilter'\n2018-03-18 02:40:58.098 DEBUG 16664 --- [ost-startStop-1] .s.b.w.s.f.OrderedHiddenHttpMethodFilter : Filter 'hiddenHttpMethodFilter' configured successfully\n2018-03-18 02:40:58.098 DEBUG 16664 --- [ost-startStop-1] s.b.w.s.f.OrderedCharacterEncodingFilter : Initializing filter 'characterEncodingFilter'\n2018-03-18 02:40:58.099 DEBUG 16664 --- [ost-startStop-1] s.b.w.s.f.OrderedCharacterEncodingFilter : Filter 'characterEncodingFilter' configured successfully\n2018-03-18 02:40:58.099 DEBUG 16664 --- [ost-startStop-1] o.s.b.a.w.trace.servlet.HttpTraceFilter  : Initializing filter 'httpTraceFilter'\n2018-03-18 02:40:58.099 DEBUG 16664 --- [ost-startStop-1] o.s.b.a.w.trace.servlet.HttpTraceFilter  : Filter 'httpTraceFilter' configured successfully\n2018-03-18 02:40:58.265  INFO 16664 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2018-03-18 02:40:58.836  INFO 16664 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2018-03-18 02:40:58.917  INFO 16664 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'\n2018-03-18 02:40:58.937  INFO 16664 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [\n    name: default\n    ...]\n2018-03-18 02:40:59.046  INFO 16664 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.14.Final}\n2018-03-18 02:40:59.048  INFO 16664 --- [  restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found\n2018-03-18 02:40:59.100  INFO 16664 --- [  restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}\n2018-03-18 02:40:59.251  INFO 16664 --- [  restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect\n2018-03-18 02:41:00.092  WARN 16664 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory\n2018-03-18 02:41:00.094  INFO 16664 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2018-03-18 02:41:00.106  INFO 16664 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n2018-03-18 02:41:00.111  INFO 16664 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2018-03-18 02:41:00.135 DEBUG 16664 --- [  restartedMain] o.s.boot.devtools.restart.Restarter      : Creating new Restarter for thread Thread[main,5,main]\n2018-03-18 02:41:00.135 DEBUG 16664 --- [  restartedMain] o.s.boot.devtools.restart.Restarter      : Immediately restarting application\n2018-03-18 02:41:00.136 DEBUG 16664 --- [  restartedMain] o.s.boot.devtools.restart.Restarter      : Created RestartClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@20f4e97e\n2018-03-18 02:41:00.136 DEBUG 16664 --- [  restartedMain] o.s.boot.devtools.restart.Restarter      : Starting application com.owozniak.bigdataproject.BigDataProjectApplication with URLs [file:/home/oscar/IdeaProjects/big-data-project/out/production/classes/, file:/home/oscar/IdeaProjects/big-data-project/out/production/resources/]\n\nProcess finished with exit code 0\n</code></pre>\n\n<p>Server is working when I remove all of annotations acording spring data jpa (@Entity, @OneToMay etc)</p>\n"},{"tags":["java","spring","azure","azure-web-app-service","tomcat9"],"answers":[{"tags":[],"owner":{"account_id":21647608,"reputation":4991,"user_id":15968720,"display_name":"VenkateshDodda"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668665233,"creation_date":1668664920,"answer_id":74470818,"question_id":74468556,"body_markdown":"To test this i have created a web app which is running with runtime stack Java 11 and Java web server stack as Apache Tomcat 9.0.\r\n\r\nI am able see the tomcat installed directory under the path `/usr/local/tomcat` and you can add the context path in the server.xml file which is present under `/usr/local/tomcat/conf/server.xml`\r\n\r\nRefer to this documentation for more information about [configuring tomcat java apps on app service](https://learn.microsoft.com/en-us/azure/app-service/configure-language-java?pivots=platform-linux#tomcat-3)","title":"How to configure context path for Azure App service with Tomcat linux","body":"<p>To test this i have created a web app which is running with runtime stack Java 11 and Java web server stack as Apache Tomcat 9.0.</p>\n<p>I am able see the tomcat installed directory under the path <code>/usr/local/tomcat</code> and you can add the context path in the server.xml file which is present under <code>/usr/local/tomcat/conf/server.xml</code></p>\n<p>Refer to this documentation for more information about <a href=\"https://learn.microsoft.com/en-us/azure/app-service/configure-language-java?pivots=platform-linux#tomcat-3\" rel=\"nofollow noreferrer\">configuring tomcat java apps on app service</a></p>\n"}],"owner":{"account_id":12579561,"reputation":61,"user_id":9150771,"display_name":"user9150771"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":979,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668722825,"creation_date":1668642049,"question_id":74468556,"body_markdown":"Where can I find the tomcat installed directory on the azure app service through kudu console?\r\n\r\nI have tried configuring the context path, by adding below in Application settings:\r\n 1. Add VM argumnets to JAVA_OPTS\r\n  ```-Dserver.servlet.context-path=/myapp```\r\n 2. Add environmental variable\r\n  ```SERVER_SERVLET_CONTEXT_PATH=/myapp```\r\n 3. Adding in the application.properties file\r\n  ```server.servlet.context-path=/myapp```\r\n\r\nAlso tried with ```WebServeletCustomizer```\r\n\r\nPlease provide some solution, the app is working fine locally through IntelliJ war deployment.\r\n\r\nTech stack: JDK 11, Tomcat 9, Springboot 2.6.x\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pFd3F.png\r\n  [2]: https://i.stack.imgur.com/gVRao.png","title":"How to configure context path for Azure App service with Tomcat linux","body":"<p>Where can I find the tomcat installed directory on the azure app service through kudu console?</p>\n<p>I have tried configuring the context path, by adding below in Application settings:</p>\n<ol>\n<li>Add VM argumnets to JAVA_OPTS\n<code>-Dserver.servlet.context-path=/myapp</code></li>\n<li>Add environmental variable\n<code>SERVER_SERVLET_CONTEXT_PATH=/myapp</code></li>\n<li>Adding in the application.properties file\n<code>server.servlet.context-path=/myapp</code></li>\n</ol>\n<p>Also tried with <code>WebServeletCustomizer</code></p>\n<p>Please provide some solution, the app is working fine locally through IntelliJ war deployment.</p>\n<p>Tech stack: JDK 11, Tomcat 9, Springboot 2.6.x\n<a href=\"https://i.stack.imgur.com/pFd3F.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pFd3F.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/gVRao.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gVRao.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":135174,"reputation":17875,"user_id":337819,"accept_rate":68,"display_name":"Marvo"},"score":4,"creation_date":1339540460,"post_id":11005286,"comment_id":14383001,"body_markdown":"The answers above about object unboxing are all correct.  \nFor completeness sake, however, you could also change your code to use the primitive &quot;boolean&quot; instead of the object wrapper &quot;Boolean&quot;.  You should also refresh yourself on the difference between a primitive and an Object.","body":"The answers above about object unboxing are all correct.   For completeness sake, however, you could also change your code to use the primitive &quot;boolean&quot; instead of the object wrapper &quot;Boolean&quot;.  You should also refresh yourself on the difference between a primitive and an Object."},{"owner":{"account_id":3113945,"reputation":1016,"user_id":2635146,"display_name":"simon.watts"},"score":0,"creation_date":1523880182,"post_id":11005286,"comment_id":86728057,"body_markdown":"Meanwhile... `if (bool == Boolean.TRUE)` evaluates false without generating an exception.  Not sure if this was intentional in the case I just found.","body":"Meanwhile... <code>if (bool == Boolean.TRUE)</code> evaluates false without generating an exception.  Not sure if this was intentional in the case I just found."},{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":4,"creation_date":1550711242,"post_id":11005286,"comment_id":96372962,"body_markdown":"@simon.watts that would be false for `bool` being `null` OR if `Boolean` was constructed explicitly (and not as reference to `Boolean.TRUE`). So not recommended; as opposed to `if (Boolean.TRUE.equals(bool))` which would work as expected, including safely handling `null` value.","body":"@simon.watts that would be false for <code>bool</code> being <code>null</code> OR if <code>Boolean</code> was constructed explicitly (and not as reference to <code>Boolean.TRUE</code>). So not recommended; as opposed to <code>if (Boolean.TRUE.equals(bool))</code> which would work as expected, including safely handling <code>null</code> value."}],"answers":[{"tags":[],"owner":{"account_id":888101,"reputation":80674,"user_id":927034,"accept_rate":100,"display_name":"K-ballo"},"down_vote_count":5,"up_vote_count":212,"is_accepted":true,"score":207,"last_activity_date":1339537813,"creation_date":1339537346,"answer_id":11005310,"question_id":11005286,"body_markdown":"When you have a `boolean` it can be either `true` or `false`. Yet when you have a `Boolean` it can be either `Boolean.TRUE`, `Boolean.FALSE` or `null` as any other object.\r\n\r\nIn your particular case, your `Boolean` is `null` and the `if` statement triggers an implicit conversion to `boolean` that produces the `NullPointerException`. You may need instead:\r\n\r\n    if(bool != null &amp;&amp; bool) { ... }","title":"Check if null Boolean is true results in exception","body":"<p>When you have a <code>boolean</code> it can be either <code>true</code> or <code>false</code>. Yet when you have a <code>Boolean</code> it can be either <code>Boolean.TRUE</code>, <code>Boolean.FALSE</code> or <code>null</code> as any other object.</p>\n\n<p>In your particular case, your <code>Boolean</code> is <code>null</code> and the <code>if</code> statement triggers an implicit conversion to <code>boolean</code> that produces the <code>NullPointerException</code>. You may need instead:</p>\n\n<pre><code>if(bool != null &amp;&amp; bool) { ... }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":62111,"reputation":40153,"user_id":184730,"accept_rate":72,"display_name":"fastcodejava"},"down_vote_count":4,"up_vote_count":22,"is_accepted":false,"score":18,"last_activity_date":1498928205,"creation_date":1339537348,"answer_id":11005312,"question_id":11005286,"body_markdown":"`Boolean` types can be `null`. You need to do a `null` check as you have set it to `null`. \r\n\r\n\r\n    if (bool != null &amp;&amp; bool)\r\n    {\r\n      //DoSomething\r\n    }                   \r\n","title":"Check if null Boolean is true results in exception","body":"<p><code>Boolean</code> types can be <code>null</code>. You need to do a <code>null</code> check as you have set it to <code>null</code>. </p>\n\n<pre><code>if (bool != null &amp;&amp; bool)\n{\n  //DoSomething\n}                   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":932467,"reputation":1665,"user_id":962048,"accept_rate":47,"display_name":"RicardoE"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1339537717,"creation_date":1339537717,"answer_id":11005379,"question_id":11005286,"body_markdown":"as your variable bool is pointing to a null, you will always get a NullPointerException, you need to initialize the variable first somewhere with a not null value, and then modify it.","title":"Check if null Boolean is true results in exception","body":"<p>as your variable bool is pointing to a null, you will always get a NullPointerException, you need to initialize the variable first somewhere with a not null value, and then modify it.</p>\n"},{"tags":[],"owner":{"account_id":791608,"reputation":7269,"user_id":880787,"accept_rate":83,"display_name":"AvrDragon"},"down_vote_count":2,"up_vote_count":575,"is_accepted":false,"score":573,"last_activity_date":1422136603,"creation_date":1379086594,"answer_id":18790171,"question_id":11005286,"body_markdown":"If you don&#39;t like extra null checks:\r\n\r\n    if (Boolean.TRUE.equals(value)) {...}","title":"Check if null Boolean is true results in exception","body":"<p>If you don't like extra null checks:</p>\n\n<pre><code>if (Boolean.TRUE.equals(value)) {...}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":110909,"reputation":45713,"user_id":293280,"accept_rate":77,"display_name":"Joshua Pinter"},"down_vote_count":7,"up_vote_count":117,"is_accepted":false,"score":110,"last_activity_date":1530653950,"creation_date":1399600274,"answer_id":23555441,"question_id":11005286,"body_markdown":"**Use the [Apache BooleanUtils][1].**\r\n\r\n_(If peak performance is the most important priority in your project then look at one of the other answers for a native solution that doesn&#39;t require including an external library.)_\r\n\r\nDon&#39;t reinvent the wheel. Leverage what&#39;s already been built and use `isTrue()`: \r\n\r\n    BooleanUtils.isTrue( bool );\r\n\r\nChecks if a `Boolean` value is true, handling `null` by returning `false`.\r\n\r\n*If you&#39;re not limited to the libraries you&#39;re &quot;allowed&quot; to include, there are a bunch of great helper functions for all sorts of use-cases, including `Booleans` and `Strings`. I suggest you peruse the various Apache libraries and see what they already offer.*\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/BooleanUtils.html","title":"Check if null Boolean is true results in exception","body":"<p><strong>Use the <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/BooleanUtils.html\" rel=\"noreferrer\">Apache BooleanUtils</a>.</strong></p>\n\n<p><em>(If peak performance is the most important priority in your project then look at one of the other answers for a native solution that doesn't require including an external library.)</em></p>\n\n<p>Don't reinvent the wheel. Leverage what's already been built and use <code>isTrue()</code>: </p>\n\n<pre><code>BooleanUtils.isTrue( bool );\n</code></pre>\n\n<p>Checks if a <code>Boolean</code> value is true, handling <code>null</code> by returning <code>false</code>.</p>\n\n<p><em>If you're not limited to the libraries you're \"allowed\" to include, there are a bunch of great helper functions for all sorts of use-cases, including <code>Booleans</code> and <code>Strings</code>. I suggest you peruse the various Apache libraries and see what they already offer.</em></p>\n"},{"tags":[],"owner":{"account_id":4103600,"reputation":1440,"user_id":3368395,"display_name":"provisota"},"down_vote_count":2,"up_vote_count":40,"is_accepted":false,"score":38,"last_activity_date":1564526122,"creation_date":1564526122,"answer_id":57280891,"question_id":11005286,"body_markdown":"Or with the power of Java 8 Optional, you also can do such trick:\r\n\r\n    Optional.ofNullable(boolValue).orElse(false)\r\n:)","title":"Check if null Boolean is true results in exception","body":"<p>Or with the power of Java 8 Optional, you also can do such trick:</p>\n\n<pre><code>Optional.ofNullable(boolValue).orElse(false)\n</code></pre>\n\n<p>:)</p>\n"},{"tags":[],"owner":{"account_id":1060118,"reputation":497,"user_id":1061929,"display_name":"bjmi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668722628,"creation_date":1626765119,"answer_id":68450885,"question_id":11005286,"body_markdown":"`if (bool)` will be compiled to [`if (bool.booleanValue())`][1] aka unboxing and that would throw a `NullPointerException` if `bool` is `null`.\r\n\r\nOther solutions for nullable boxed Boolean evaluation:\r\n\r\n - JDK 9+ [requireNonNullElse(obj, defaultObj)][2]\r\n\r\n       import static java.util.Objects.requireNonNullElse;\r\n    \r\n       if (requireNonNullElse(bool, false)) {\r\n           // DoSomething\r\n\r\n - Google Guava 18+ [firstNonNull(first, second)][3]\r\n\r\n       import static com.google.common.base.MoreObjects.firstNonNull;\r\n    \r\n       if (firstNonNull(bool, false)) {\r\n           // DoSomething\r\n`false` is used as the default for the null-case here.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Boolean.html#booleanValue()\r\n  [2]: https://docs.oracle.com/javase/9/docs/api/java/util/Objects.html#requireNonNullElse-T-T-\r\n  [3]: https://javadoc.io/static/com.google.guava/guava/18.0/com/google/common/base/MoreObjects.html#firstNonNull(T,%20T)","title":"Check if null Boolean is true results in exception","body":"<p><code>if (bool)</code> will be compiled to <a href=\"https://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Boolean.html#booleanValue()\" rel=\"nofollow noreferrer\"><code>if (bool.booleanValue())</code></a> aka unboxing and that would throw a <code>NullPointerException</code> if <code>bool</code> is <code>null</code>.</p>\n<p>Other solutions for nullable boxed Boolean evaluation:</p>\n<ul>\n<li><p>JDK 9+ <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Objects.html#requireNonNullElse-T-T-\" rel=\"nofollow noreferrer\">requireNonNullElse(obj, defaultObj)</a></p>\n<pre><code>import static java.util.Objects.requireNonNullElse;\n\nif (requireNonNullElse(bool, false)) {\n    // DoSomething\n</code></pre>\n</li>\n<li><p>Google Guava 18+ <a href=\"https://javadoc.io/static/com.google.guava/guava/18.0/com/google/common/base/MoreObjects.html#firstNonNull(T,%20T)\" rel=\"nofollow noreferrer\">firstNonNull(first, second)</a></p>\n<pre><code>import static com.google.common.base.MoreObjects.firstNonNull;\n\nif (firstNonNull(bool, false)) {\n    // DoSomething\n</code></pre>\n</li>\n</ul>\n<p><code>false</code> is used as the default for the null-case here.</p>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639001697,"creation_date":1638816654,"answer_id":70250427,"question_id":11005286,"body_markdown":"## Objects.equals()\r\n\r\nThere is nothing wrong with the accepted answer by K-ballo. If you prefer a single simple condition and like me you don’t like Yoda conditions, since java 1.7 the answer is\r\n\r\n        if (Objects.equals(bool, true)) {\r\n\r\nor if at the same time you prefer to be really explicit\r\n\r\n        if (Objects.equals(bool, Boolean.TRUE)) {\r\n\r\n## Or better: avoid the issue\r\n\r\nIt’s not recommended to use `Boolean` objects thereby allowing a `Boolean` reference to be `null` in the first place. The risk of a `NullPointerException` like the one you saw is too great. If you need a kind of tri-state logic, it’s better to define an enum with three values. For example\r\n\r\n    enum MyTristateBoolean { FALSE, DONT_KNOW, TRUE }\r\n\r\nNow we don’t need `null` at all. The middle constant should probably be named `UNKNOWN`, `UNDEFINED`, `NOT_EXISTING` or something else depending on your exact situation. You may even name it `NULL` if appropriate. Now depending on taste your comparison becomes one of the following two.\r\n\r\n        if (myBool.equals(MyTristateBoolean.TRUE)) {\r\n\r\n        if (myBool == MyTristateBoolean.TRUE) {\r\n\r\nThe latter works since the compiler guarantees that you will only have one instance of each enum constant. As most of you know `==` doesn’t work for comparing objects of non-enum type for equality.","title":"Check if null Boolean is true results in exception","body":"<h2>Objects.equals()</h2>\n<p>There is nothing wrong with the accepted answer by K-ballo. If you prefer a single simple condition and like me you don’t like Yoda conditions, since java 1.7 the answer is</p>\n<pre><code>    if (Objects.equals(bool, true)) {\n</code></pre>\n<p>or if at the same time you prefer to be really explicit</p>\n<pre><code>    if (Objects.equals(bool, Boolean.TRUE)) {\n</code></pre>\n<h2>Or better: avoid the issue</h2>\n<p>It’s not recommended to use <code>Boolean</code> objects thereby allowing a <code>Boolean</code> reference to be <code>null</code> in the first place. The risk of a <code>NullPointerException</code> like the one you saw is too great. If you need a kind of tri-state logic, it’s better to define an enum with three values. For example</p>\n<pre><code>enum MyTristateBoolean { FALSE, DONT_KNOW, TRUE }\n</code></pre>\n<p>Now we don’t need <code>null</code> at all. The middle constant should probably be named <code>UNKNOWN</code>, <code>UNDEFINED</code>, <code>NOT_EXISTING</code> or something else depending on your exact situation. You may even name it <code>NULL</code> if appropriate. Now depending on taste your comparison becomes one of the following two.</p>\n<pre><code>    if (myBool.equals(MyTristateBoolean.TRUE)) {\n\n    if (myBool == MyTristateBoolean.TRUE) {\n</code></pre>\n<p>The latter works since the compiler guarantees that you will only have one instance of each enum constant. As most of you know <code>==</code> doesn’t work for comparing objects of non-enum type for equality.</p>\n"}],"owner":{"account_id":966751,"reputation":5314,"user_id":990069,"accept_rate":92,"display_name":"Birdman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":310756,"favorite_count":0,"down_vote_count":1,"up_vote_count":239,"accepted_answer_id":11005310,"answer_count":8,"score":238,"last_activity_date":1668722628,"creation_date":1339537232,"question_id":11005286,"body_markdown":"I have the following code:\r\n\r\n    Boolean bool = null;\r\n\r\n    try \r\n    {\r\n        if (bool)\r\n        {\r\n            //DoSomething\r\n        }\t\t\t\t\t\r\n    } \r\n    catch (Exception e) \r\n    {\r\n\t    System.out.println(e.getMessage());\t\t\t\t\r\n    }\r\n\r\nWhy does my check up on the Boolean variable &quot;bool&quot; result in an exception?\r\nShouldn&#39;t it just jump right past the if statement when it &quot;sees&quot; that it isn&#39;t true?\r\n**When I remove the if statement or check up on if it&#39;s NOT null, the exception goes away.**\r\n    ","title":"Check if null Boolean is true results in exception","body":"<p>I have the following code:</p>\n\n<pre><code>Boolean bool = null;\n\ntry \n{\n    if (bool)\n    {\n        //DoSomething\n    }                   \n} \ncatch (Exception e) \n{\n    System.out.println(e.getMessage());             \n}\n</code></pre>\n\n<p>Why does my check up on the Boolean variable \"bool\" result in an exception?\nShouldn't it just jump right past the if statement when it \"sees\" that it isn't true?\n<strong>When I remove the if statement or check up on if it's NOT null, the exception goes away.</strong></p>\n"},{"tags":["java","lambda","collections","option-type","comparator"],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1589206895,"creation_date":1588950131,"answer_id":61682080,"question_id":61681709,"body_markdown":"You can use [`Comparator#comparing(Function,Comparator)`][1]:\r\n\r\n&gt;Accepts a function that extracts a sort key from a type `T`, and returns a `Comparator&lt;T&gt;` that compares by that sort key using the specified `Comparator`.\r\n\r\nHere&#39;s an example based on the code in your question:\r\n\r\n```java\r\npersons.sort(comparing(Person::getLastName, comparing(Optional::get)));\r\n```\r\n\r\nBasically this is using nested key extractors to ultimately compare the `String` objects representing the last names. Note this will cause a `NoSuchElementException` to be thrown if either `Optional` is empty. You can create a more complicated `Comparator` to handle empty `Optional`s&lt;sup&gt;1&lt;/sup&gt;:\r\n\r\n```java\r\n// sort empty Optionals last\r\nComparator&lt;Person&gt; comp =\r\n    comparing(\r\n        Person::getLastName,\r\n        comparing(opt -&gt; opt.orElse(null), nullsLast(naturalOrder())));\r\npersons.sort(comp);\r\n```\r\n\r\nIf you need to do this a lot then consider creating utility methods in a manner similar to `Comparator#nullsFirst(Comparator)` and `Comparator#nullsLast(Comparator)`&lt;sup&gt;1&lt;/sup&gt;:\r\n\r\n```java\r\n// empty first, then sort by natural order of the value\r\npublic static &lt;T extends Comparable&lt;? super T&gt;&gt; Comparator&lt;Optional&lt;T&gt;&gt; emptyFirst() {\r\n  return emptyFirst(Comparator.naturalOrder());\r\n}\r\n\r\n// empty first, then sort by the value as described by the given\r\n// Comparator, where passing &#39;null&#39; means all non-empty Optionals are equal\r\npublic static &lt;T&gt; Comparator&lt;Optional&lt;T&gt;&gt; emptyFirst(Comparator&lt;? super T&gt; comparator) {\r\n  return Comparator.comparing(opt -&gt; opt.orElse(null), Comparator.nullsFirst(comparator));\r\n}\r\n\r\n// empty last, then sort by natural order of the value\r\npublic static &lt;T extends Comparable&lt;? super T&gt;&gt; Comparator&lt;Optional&lt;T&gt;&gt; emptyLast() {\r\n  return emptyLast(Comparator.naturalOrder());\r\n}\r\n\r\n// empty last, then sort by the value as described by the given\r\n// Comparator, where passing &#39;null&#39; means all non-empty Optionals are equal\r\npublic static &lt;T&gt; Comparator&lt;Optional&lt;T&gt;&gt; emptyLast(Comparator&lt;? super T&gt; comparator) {\r\n  return Comparator.comparing(opt -&gt; opt.orElse(null), Comparator.nullsLast(comparator));\r\n}\r\n```\r\n\r\nWhich can then be used like:\r\n\r\n```java\r\npersons.sort(comparing(Person::getLastName, emptyLast()));\r\n```\r\n\r\n---\r\n\r\n&lt;sup&gt;1. Example code simplified based on suggestions provided by [@Holger][1]. Take a look at the edit history to see what the code looked like before, if curious.&lt;/sup&gt;\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/Comparator.html#comparing(java.util.function.Function,java.util.Comparator)\r\n  [2]: https://stackoverflow.com/users/2711488","title":"Comparator for Optional&lt;T&gt; with key extractor, like java.util.Comparator.comparing","body":"<p>You can use <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/Comparator.html#comparing(java.util.function.Function,java.util.Comparator)\" rel=\"nofollow noreferrer\"><code>Comparator#comparing(Function,Comparator)</code></a>:</p>\n\n<blockquote>\n  <p>Accepts a function that extracts a sort key from a type <code>T</code>, and returns a <code>Comparator&lt;T&gt;</code> that compares by that sort key using the specified <code>Comparator</code>.</p>\n</blockquote>\n\n<p>Here's an example based on the code in your question:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>persons.sort(comparing(Person::getLastName, comparing(Optional::get)));\n</code></pre>\n\n<p>Basically this is using nested key extractors to ultimately compare the <code>String</code> objects representing the last names. Note this will cause a <code>NoSuchElementException</code> to be thrown if either <code>Optional</code> is empty. You can create a more complicated <code>Comparator</code> to handle empty <code>Optional</code>s<sup>1</sup>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// sort empty Optionals last\nComparator&lt;Person&gt; comp =\n    comparing(\n        Person::getLastName,\n        comparing(opt -&gt; opt.orElse(null), nullsLast(naturalOrder())));\npersons.sort(comp);\n</code></pre>\n\n<p>If you need to do this a lot then consider creating utility methods in a manner similar to <code>Comparator#nullsFirst(Comparator)</code> and <code>Comparator#nullsLast(Comparator)</code><sup>1</sup>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// empty first, then sort by natural order of the value\npublic static &lt;T extends Comparable&lt;? super T&gt;&gt; Comparator&lt;Optional&lt;T&gt;&gt; emptyFirst() {\n  return emptyFirst(Comparator.naturalOrder());\n}\n\n// empty first, then sort by the value as described by the given\n// Comparator, where passing 'null' means all non-empty Optionals are equal\npublic static &lt;T&gt; Comparator&lt;Optional&lt;T&gt;&gt; emptyFirst(Comparator&lt;? super T&gt; comparator) {\n  return Comparator.comparing(opt -&gt; opt.orElse(null), Comparator.nullsFirst(comparator));\n}\n\n// empty last, then sort by natural order of the value\npublic static &lt;T extends Comparable&lt;? super T&gt;&gt; Comparator&lt;Optional&lt;T&gt;&gt; emptyLast() {\n  return emptyLast(Comparator.naturalOrder());\n}\n\n// empty last, then sort by the value as described by the given\n// Comparator, where passing 'null' means all non-empty Optionals are equal\npublic static &lt;T&gt; Comparator&lt;Optional&lt;T&gt;&gt; emptyLast(Comparator&lt;? super T&gt; comparator) {\n  return Comparator.comparing(opt -&gt; opt.orElse(null), Comparator.nullsLast(comparator));\n}\n</code></pre>\n\n<p>Which can then be used like:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>persons.sort(comparing(Person::getLastName, emptyLast()));\n</code></pre>\n\n<hr>\n\n<p><sup>1. Example code simplified based on suggestions provided by <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/Comparator.html#comparing(java.util.function.Function,java.util.Comparator)\" rel=\"nofollow noreferrer\">@Holger</a>. Take a look at the edit history to see what the code looked like before, if curious.</sup></p>\n"},{"tags":[],"owner":{"account_id":8803970,"reputation":6689,"user_id":6579265,"display_name":"George Z."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588951210,"creation_date":1588951210,"answer_id":61682402,"question_id":61681709,"body_markdown":"[Slaw&#39;s answer][1] helped a lot and based on his answer I got exactly what I wanted. However, as he mentions \r\n\r\n    persons.sort(comparing(Person::getLastName, comparing(Optional::get));\r\n\r\nwill throw exception if a value of an `Optional` is not present. By that, we are missing most of the `OptionalComparator` point-sense. But luckily it can be converted to:\r\n\r\n\tpersons.sort(comparing(Person::getLastName, absentFirstComparator()));\r\n\r\nwhere the case of a not present value will be handled.\r\n\r\nAlso, these two methods can be created:\r\n\r\n    public static &lt;T, U extends Optional&gt; Comparator&lt;T&gt; absentFirst(Function&lt;? super T, ? extends U&gt; keyExtractor) {\r\n    \tObjects.requireNonNull(keyExtractor);\r\n    \treturn (Comparator&lt;T&gt;) (c1, c2) -&gt; absentFirstComparator().compare(keyExtractor.apply(c1),\r\n    \t\t\tkeyExtractor.apply(c2));\r\n    }\r\n    \r\n    public static &lt;T, U extends Optional&gt; Comparator&lt;T&gt; absentLast(Function&lt;? super T, ? extends U&gt; keyExtractor) {\r\n    \tObjects.requireNonNull(keyExtractor);\r\n    \treturn (Comparator&lt;T&gt;) (c1, c2) -&gt; absentLastComparator().compare(keyExtractor.apply(c1),\r\n    \t\t\tkeyExtractor.apply(c2));\r\n    }\r\n\r\nand finally I get exactly what I want by:\r\n\r\n\tpersons.sort(absentLast(Person::getLastName));\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/61682080/6579265","title":"Comparator for Optional&lt;T&gt; with key extractor, like java.util.Comparator.comparing","body":"<p><a href=\"https://stackoverflow.com/a/61682080/6579265\">Slaw's answer</a> helped a lot and based on his answer I got exactly what I wanted. However, as he mentions </p>\n\n<pre><code>persons.sort(comparing(Person::getLastName, comparing(Optional::get));\n</code></pre>\n\n<p>will throw exception if a value of an <code>Optional</code> is not present. By that, we are missing most of the <code>OptionalComparator</code> point-sense. But luckily it can be converted to:</p>\n\n<pre><code>persons.sort(comparing(Person::getLastName, absentFirstComparator()));\n</code></pre>\n\n<p>where the case of a not present value will be handled.</p>\n\n<p>Also, these two methods can be created:</p>\n\n<pre><code>public static &lt;T, U extends Optional&gt; Comparator&lt;T&gt; absentFirst(Function&lt;? super T, ? extends U&gt; keyExtractor) {\n    Objects.requireNonNull(keyExtractor);\n    return (Comparator&lt;T&gt;) (c1, c2) -&gt; absentFirstComparator().compare(keyExtractor.apply(c1),\n            keyExtractor.apply(c2));\n}\n\npublic static &lt;T, U extends Optional&gt; Comparator&lt;T&gt; absentLast(Function&lt;? super T, ? extends U&gt; keyExtractor) {\n    Objects.requireNonNull(keyExtractor);\n    return (Comparator&lt;T&gt;) (c1, c2) -&gt; absentLastComparator().compare(keyExtractor.apply(c1),\n            keyExtractor.apply(c2));\n}\n</code></pre>\n\n<p>and finally I get exactly what I want by:</p>\n\n<pre><code>persons.sort(absentLast(Person::getLastName));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1060118,"reputation":497,"user_id":1061929,"display_name":"bjmi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668722372,"creation_date":1667471115,"answer_id":74301473,"question_id":61681709,"body_markdown":"If Google [Guava][1] 22.0 or later is already on board then the available [emptiesFirst][2] and [emptiesLast][3] comparators are specially designed for Optionals.\r\n\r\n```\r\nimport static com.google.common.collect.Comparators.emptiesLast;\r\nimport static java.util.Comparator.comparing;\r\nimport static java.util.Comparator.naturalOrder;\r\n\r\npersons.sort(comparing(Person::getLastName, emptiesLast(naturalOrder()));    \r\n```\r\nLast names are compared by [String.compareTo(otherString)][4] and [empty][5] values are sorted to the end of the list.\r\n\r\nNote: Under the hood `emptiesFirst` and `emptiesLast` decorators unwrap the `Optional&lt;T&gt;` to `T` and delegate to JDK&#39;s [nullsFirst][6] and [nullsLast][7] resp. comparators.\r\n\r\n\r\n  [1]: https://github.com/google/guava\r\n  [2]: https://javadoc.io/static/com.google.guava/guava/22.0/com/google/common/collect/Comparators.html#emptiesFirst-java.util.Comparator-\r\n  [3]: https://javadoc.io/static/com.google.guava/guava/22.0/com/google/common/collect/Comparators.html#emptiesLast-java.util.Comparator-\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#compareTo-java.lang.String-\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#empty--\r\n  [6]: https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#nullsFirst-java.util.Comparator-\r\n  [7]: https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#nullsLast-java.util.Comparator-","title":"Comparator for Optional&lt;T&gt; with key extractor, like java.util.Comparator.comparing","body":"<p>If Google <a href=\"https://github.com/google/guava\" rel=\"nofollow noreferrer\">Guava</a> 22.0 or later is already on board then the available <a href=\"https://javadoc.io/static/com.google.guava/guava/22.0/com/google/common/collect/Comparators.html#emptiesFirst-java.util.Comparator-\" rel=\"nofollow noreferrer\">emptiesFirst</a> and <a href=\"https://javadoc.io/static/com.google.guava/guava/22.0/com/google/common/collect/Comparators.html#emptiesLast-java.util.Comparator-\" rel=\"nofollow noreferrer\">emptiesLast</a> comparators are specially designed for Optionals.</p>\n<pre><code>import static com.google.common.collect.Comparators.emptiesLast;\nimport static java.util.Comparator.comparing;\nimport static java.util.Comparator.naturalOrder;\n\npersons.sort(comparing(Person::getLastName, emptiesLast(naturalOrder()));    \n</code></pre>\n<p>Last names are compared by <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#compareTo-java.lang.String-\" rel=\"nofollow noreferrer\">String.compareTo(otherString)</a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#empty--\" rel=\"nofollow noreferrer\">empty</a> values are sorted to the end of the list.</p>\n<p>Note: Under the hood <code>emptiesFirst</code> and <code>emptiesLast</code> decorators unwrap the <code>Optional&lt;T&gt;</code> to <code>T</code> and delegate to JDK's <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#nullsFirst-java.util.Comparator-\" rel=\"nofollow noreferrer\">nullsFirst</a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#nullsLast-java.util.Comparator-\" rel=\"nofollow noreferrer\">nullsLast</a> resp. comparators.</p>\n"}],"owner":{"account_id":8803970,"reputation":6689,"user_id":6579265,"display_name":"George Z."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1954,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":61682080,"answer_count":3,"score":9,"last_activity_date":1668722372,"creation_date":1588948998,"question_id":61681709,"body_markdown":"Consider the following example where we are sorting people based on their last name:\r\n\r\n    public class ComparatorsExample {\r\n    \r\n    \tpublic static class Person {\r\n    \t\tprivate String lastName;\r\n    \r\n    \t\tpublic Person(String lastName) {\r\n    \t\t\tthis.lastName = lastName;\r\n    \t\t}\r\n    \r\n    \t\tpublic String getLastName() {\r\n    \t\t\treturn lastName;\r\n    \t\t}\r\n\t\t    \r\n            @Override\r\n\t\t    public String toString() {\r\n\t\t\t    return &quot;Person: &quot; + lastName;\r\n\t\t    }\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tPerson p1 = new Person(&quot;Jackson&quot;);\r\n    \t\tPerson p2 = new Person(&quot;Stackoverflowed&quot;);\r\n    \t\tPerson p3 = new Person(null);\r\n    \t\tList&lt;Person&gt; persons = Arrays.asList(p3, p2, p1);\r\n    \t\tpersons.sort(Comparator.comparing(Person::getLastName));\r\n    \t}\r\n    }\r\n\r\nNow, let&#39;s assume that `getLastName` returns an optional:\r\n\r\n\tpublic Optional&lt;String&gt; getLastName() {\r\n\t\treturn Optional.ofNullable(lastName);\r\n\t}\r\n\r\nObviously `persons.sort(Comparator.comparing(Person::getLastName));` will not compile since `Optional` (the type `getLastName` returns) is not a comparable. However, the value it holds is.\r\n\r\nThe first google search points us in [this answer][1]. Based on this answer we can sort persons by doing:\r\n\r\n\tList&lt;Person&gt; persons = Arrays.asList(p3, p2, p1);\r\n\tOptionalComparator&lt;String&gt; absentLastString = absentLastComparator(); //type unsafe\r\n\tpersons.sort((r1, r2) -&gt; absentLastString.compare(r1.getLastName(), r2.getLastName()));\r\n\r\nMy question is, **is it possible to have this kind of sorting using a function (key extractor) just like Comparator.comparing?**\r\n\r\nI mean something like (without caring absent values first or last):\r\n\r\n    persons.sort(OptionalComparator.comparing(Person::getLastName));\r\n\r\nIf we look into [Comparator.comparing][2], we see the following code:\r\n\r\n    public static &lt;T, U extends Comparable&lt;? super U&gt;&gt; Comparator&lt;T&gt; comparing(\r\n    \t\tFunction&lt;? super T, ? extends U&gt; keyExtractor) {\r\n    \tObjects.requireNonNull(keyExtractor);\r\n    \treturn (Comparator&lt;T&gt; &amp; Serializable) (c1, c2) -&gt; {\r\n    \t\treturn keyExtractor.apply(c1).compareTo(keyExtractor.apply(c2));\r\n    \t};\r\n    }\r\n\r\nI tried multiple ways to make it return an `OptionalComparator` instead of a simple `Comparator`, but everything I tried and made sense to me was unable to be compiled. **Is it even possible to achieve something like that?** I guess type-safety cannot be achieved, since even Oracle&#39;s `comparing` throws a type-safety warning.\r\n\r\n I am on Java 8.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/29570443/6579265\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#comparing-java.util.function.Function-","title":"Comparator for Optional&lt;T&gt; with key extractor, like java.util.Comparator.comparing","body":"<p>Consider the following example where we are sorting people based on their last name:</p>\n\n<pre><code>public class ComparatorsExample {\n\n    public static class Person {\n        private String lastName;\n\n        public Person(String lastName) {\n            this.lastName = lastName;\n        }\n\n        public String getLastName() {\n            return lastName;\n        }\n\n        @Override\n        public String toString() {\n            return \"Person: \" + lastName;\n        }\n    }\n\n    public static void main(String[] args) {\n        Person p1 = new Person(\"Jackson\");\n        Person p2 = new Person(\"Stackoverflowed\");\n        Person p3 = new Person(null);\n        List&lt;Person&gt; persons = Arrays.asList(p3, p2, p1);\n        persons.sort(Comparator.comparing(Person::getLastName));\n    }\n}\n</code></pre>\n\n<p>Now, let's assume that <code>getLastName</code> returns an optional:</p>\n\n<pre><code>public Optional&lt;String&gt; getLastName() {\n    return Optional.ofNullable(lastName);\n}\n</code></pre>\n\n<p>Obviously <code>persons.sort(Comparator.comparing(Person::getLastName));</code> will not compile since <code>Optional</code> (the type <code>getLastName</code> returns) is not a comparable. However, the value it holds is.</p>\n\n<p>The first google search points us in <a href=\"https://stackoverflow.com/a/29570443/6579265\">this answer</a>. Based on this answer we can sort persons by doing:</p>\n\n<pre><code>List&lt;Person&gt; persons = Arrays.asList(p3, p2, p1);\nOptionalComparator&lt;String&gt; absentLastString = absentLastComparator(); //type unsafe\npersons.sort((r1, r2) -&gt; absentLastString.compare(r1.getLastName(), r2.getLastName()));\n</code></pre>\n\n<p>My question is, <strong>is it possible to have this kind of sorting using a function (key extractor) just like Comparator.comparing?</strong></p>\n\n<p>I mean something like (without caring absent values first or last):</p>\n\n<pre><code>persons.sort(OptionalComparator.comparing(Person::getLastName));\n</code></pre>\n\n<p>If we look into <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#comparing-java.util.function.Function-\" rel=\"nofollow noreferrer\">Comparator.comparing</a>, we see the following code:</p>\n\n<pre><code>public static &lt;T, U extends Comparable&lt;? super U&gt;&gt; Comparator&lt;T&gt; comparing(\n        Function&lt;? super T, ? extends U&gt; keyExtractor) {\n    Objects.requireNonNull(keyExtractor);\n    return (Comparator&lt;T&gt; &amp; Serializable) (c1, c2) -&gt; {\n        return keyExtractor.apply(c1).compareTo(keyExtractor.apply(c2));\n    };\n}\n</code></pre>\n\n<p>I tried multiple ways to make it return an <code>OptionalComparator</code> instead of a simple <code>Comparator</code>, but everything I tried and made sense to me was unable to be compiled. <strong>Is it even possible to achieve something like that?</strong> I guess type-safety cannot be achieved, since even Oracle's <code>comparing</code> throws a type-safety warning.</p>\n\n<p>I am on Java 8.</p>\n"},{"tags":["java","spring","backend"],"answers":[{"tags":[],"owner":{"account_id":1968635,"reputation":21509,"user_id":1768226,"accept_rate":80,"display_name":"shazin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668722180,"creation_date":1668722180,"answer_id":74482557,"question_id":74482513,"body_markdown":"Did you try the following?\r\n\r\n    BufferedImage image = ImageIO.read(multipartFile.getInputStream())","title":"MultipartFile to BufferedImage","body":"<p>Did you try the following?</p>\n<pre><code>BufferedImage image = ImageIO.read(multipartFile.getInputStream())\n</code></pre>\n"}],"owner":{"account_id":23828419,"reputation":85,"user_id":20534244,"display_name":"Artem Dubenko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1545,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74482557,"answer_count":1,"score":0,"last_activity_date":1668722180,"creation_date":1668721833,"question_id":74482513,"body_markdown":"Can I convert `MultipartFile` from the library (`org.springframework.web.multipart.MultipartFile`) to a `BufferedImage` without first saving it to the local disk? If yes, please tell me how to do it\r\n\r\nI used to save to disk and then get a BufferedImage from there, but now I need to do it without saving","title":"MultipartFile to BufferedImage","body":"<p>Can I convert <code>MultipartFile</code> from the library (<code>org.springframework.web.multipart.MultipartFile</code>) to a <code>BufferedImage</code> without first saving it to the local disk? If yes, please tell me how to do it</p>\n<p>I used to save to disk and then get a BufferedImage from there, but now I need to do it without saving</p>\n"},{"tags":["java","spring-boot","java-8","simpledateformat","checkmarx"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":2,"creation_date":1668610478,"post_id":74462613,"comment_id":131447847,"body_markdown":"Please don&#39;t use SimpleDateFormat it is legacy, instead, look at modern `java.time` library","body":"Please don&#39;t use SimpleDateFormat it is legacy, instead, look at modern <code>java.time</code> library"},{"owner":{"account_id":25955643,"reputation":47,"user_id":19673046,"display_name":"Deepak"},"score":0,"creation_date":1668615826,"post_id":74462613,"comment_id":131450128,"body_markdown":"could you add more details please, which class and how","body":"could you add more details please, which class and how"},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1668716647,"post_id":74462613,"comment_id":131480479,"body_markdown":"[&#39;Z&#39; is not the same as Z](https://stackoverflow.com/a/67953075/10819573).","body":"<a href=\"https://stackoverflow.com/a/67953075/10819573\">&#39;Z&#39; is not the same as Z</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668804829,"post_id":74462613,"comment_id":131503562,"body_markdown":"The way I read your code you have got a modern `LocalDate`, and then you are converting it to `LocalDateTime` to `ZonedDateTime` to `Instant` to an old-fashioned `Date` in order to format it? Sorry, that’s stupid. Convert the `ZonedDateTime` to an `OffsetDateTime` in UTC and either use its `toString` method or format it using a `DateTimeFormatter`. And obtain thread safety for free at the same time.","body":"The way I read your code you have got a modern <code>LocalDate</code>, and then you are converting it to <code>LocalDateTime</code> to <code>ZonedDateTime</code> to <code>Instant</code> to an old-fashioned <code>Date</code> in order to format it? Sorry, that’s stupid. Convert the <code>ZonedDateTime</code> to an <code>OffsetDateTime</code> in UTC and either use its <code>toString</code> method or format it using a <code>DateTimeFormatter</code>. And obtain thread safety for free at the same time."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668804964,"post_id":74462613,"comment_id":131503602,"body_markdown":"Does this answer your question? [Returning NumberFormatException form SimpleDateFormat in Java code](https://stackoverflow.com/questions/63500822/returning-numberformatexception-form-simpledateformat-in-java-code). Does [this](https://stackoverflow.com/questions/6840803/why-is-javas-simpledateformat-not-thread-safe)?","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/63500822/returning-numberformatexception-form-simpledateformat-in-java-code\">Returning NumberFormatException form SimpleDateFormat in Java code</a>. Does <a href=\"https://stackoverflow.com/questions/6840803/why-is-javas-simpledateformat-not-thread-safe\">this</a>?"}],"answers":[{"tags":[],"owner":{"account_id":72216,"reputation":358,"user_id":14795243,"display_name":"NathanL"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668620787,"creation_date":1668620787,"answer_id":74464983,"question_id":74462613,"body_markdown":"`SimpleDateFormat` is not thread safe.  [This is a good explanation.](https://www.callicoder.com/java-simpledateformat-thread-safety-issues/)\r\n\r\nThere is not a lot of code in the example, but having a `final` instance of `SimpleDateFormat` implies it may be used by multiple threads.  \r\n\r\nMaybe `configProperties` is a global singleton?  It is hard to tell, but if that code is accessed by multiple threads (including as part of a web controller or other type of web endpoint handler) and that is a single instance for every thread then you have a problem.\r\n\r\nOne possible solution (maybe not ideal, but you can translate it to something that works for you):\r\n\r\n```\r\npublic SimpleDateFormat getDateFormatter() {\r\n        return new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;);\r\n    }\r\n```\r\n\r\nThere are likely better options for formatting than this, so maybe doing it entirely different would be better.","title":"CheckMarx issue : Race condition format flaw","body":"<p><code>SimpleDateFormat</code> is not thread safe.  <a href=\"https://www.callicoder.com/java-simpledateformat-thread-safety-issues/\" rel=\"nofollow noreferrer\">This is a good explanation.</a></p>\n<p>There is not a lot of code in the example, but having a <code>final</code> instance of <code>SimpleDateFormat</code> implies it may be used by multiple threads.</p>\n<p>Maybe <code>configProperties</code> is a global singleton?  It is hard to tell, but if that code is accessed by multiple threads (including as part of a web controller or other type of web endpoint handler) and that is a single instance for every thread then you have a problem.</p>\n<p>One possible solution (maybe not ideal, but you can translate it to something that works for you):</p>\n<pre><code>public SimpleDateFormat getDateFormatter() {\n        return new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;);\n    }\n</code></pre>\n<p>There are likely better options for formatting than this, so maybe doing it entirely different would be better.</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668722072,"creation_date":1668718765,"answer_id":74482024,"question_id":74462613,"body_markdown":"Legacy date-time API is error-prone e.g. `java.util.Date` and `SimpleDateFormatter` aren’t thread-safe, leading to potential concurrency issues for users. It is recommended to stop using them completely and switch to the [modern date-time API](https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html).\r\n\r\nThe output you are trying to achieve is already the default format of `Instant` and therefore, you do not need to use a formatter.\r\n\r\nHowever, probably you are not familiar with the modern date-time API and therefore, for the sake of your learning, I have also demonstrated the use of `DateTimeFormatter`.\r\n\r\n**Demo using java.time API**:\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.ZoneId;\r\n    import java.time.ZoneOffset;\r\n    import java.time.ZonedDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            LocalDate date = LocalDate.now(); // Some date\r\n            int auditTimeMonthLimit = 5; // Some value\r\n            String endDate = date.minusMonths(auditTimeMonthLimit)\r\n                    .atStartOfDay(ZoneId.systemDefault())\r\n                    .toString();\r\n            System.out.println(endDate);\r\n    \r\n            // In case you wanted the UTC date-time out of the local date\r\n            endDate = date.minusMonths(auditTimeMonthLimit)\r\n                    .atStartOfDay(ZoneOffset.UTC)\r\n                    .toString();\r\n            System.out.println(endDate);\r\n    \r\n            // In case you wanted the start date of the default time-zone to be converted\r\n            // into the UTC date-time\r\n            endDate = date.minusMonths(auditTimeMonthLimit)\r\n                    .atStartOfDay(ZoneId.systemDefault())\r\n                    .toInstant()\r\n                    .toString();\r\n            System.out.println(endDate);\r\n    \r\n            // A custom format\r\n            ZonedDateTime zdt = date.minusMonths(auditTimeMonthLimit)\r\n                    .atStartOfDay(ZoneId.systemDefault())\r\n                    .withZoneSameInstant(ZoneOffset.UTC);\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\r\n                    &quot;uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;, Locale.ENGLISH);\r\n            endDate = formatter.format(zdt);\r\n            System.out.println(endDate);\r\n        }\r\n    }\r\n\r\n**Output in my time-zone**:\r\n\r\n    2022-06-17T00:00+01:00[Europe/London]\r\n    2022-06-17T00:00Z\r\n    2022-06-16T23:00:00Z\r\n    2022-06-16T23:00:00.000Z\r\n\r\n**Important points**:\r\n\r\n 1. I recommend you use [`LocalDate#minusMonths`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#minusMonths-long-) i.e. instead of using `date.plusMonths(-1L * auditTimeMonthLimit)`, you should use `date.minusMonths(auditTimeMonthLimit)`.\r\n 2. [&#39;Z&#39; is not the same as Z](https://stackoverflow.com/a/67953075/10819573).\r\n 3. For your use case, I recommend you use [`LocalDate#atStartOfDay(ZoneId zone)`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#atStartOfDay-java.time.ZoneId-) instead of the non-parametrized [`LocalDate#atStartOfDay`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#atStartOfDay--). This will make you\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"CheckMarx issue : Race condition format flaw","body":"<p>Legacy date-time API is error-prone e.g. <code>java.util.Date</code> and <code>SimpleDateFormatter</code> aren’t thread-safe, leading to potential concurrency issues for users. It is recommended to stop using them completely and switch to the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"nofollow noreferrer\">modern date-time API</a>.</p>\n<p>The output you are trying to achieve is already the default format of <code>Instant</code> and therefore, you do not need to use a formatter.</p>\n<p>However, probably you are not familiar with the modern date-time API and therefore, for the sake of your learning, I have also demonstrated the use of <code>DateTimeFormatter</code>.</p>\n<p><strong>Demo using java.time API</strong>:</p>\n<pre><code>import java.time.LocalDate;\nimport java.time.ZoneId;\nimport java.time.ZoneOffset;\nimport java.time.ZonedDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        LocalDate date = LocalDate.now(); // Some date\n        int auditTimeMonthLimit = 5; // Some value\n        String endDate = date.minusMonths(auditTimeMonthLimit)\n                .atStartOfDay(ZoneId.systemDefault())\n                .toString();\n        System.out.println(endDate);\n\n        // In case you wanted the UTC date-time out of the local date\n        endDate = date.minusMonths(auditTimeMonthLimit)\n                .atStartOfDay(ZoneOffset.UTC)\n                .toString();\n        System.out.println(endDate);\n\n        // In case you wanted the start date of the default time-zone to be converted\n        // into the UTC date-time\n        endDate = date.minusMonths(auditTimeMonthLimit)\n                .atStartOfDay(ZoneId.systemDefault())\n                .toInstant()\n                .toString();\n        System.out.println(endDate);\n\n        // A custom format\n        ZonedDateTime zdt = date.minusMonths(auditTimeMonthLimit)\n                .atStartOfDay(ZoneId.systemDefault())\n                .withZoneSameInstant(ZoneOffset.UTC);\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\n                &quot;uuuu-MM-dd'T'HH:mm:ss.SSSXXX&quot;, Locale.ENGLISH);\n        endDate = formatter.format(zdt);\n        System.out.println(endDate);\n    }\n}\n</code></pre>\n<p><strong>Output in my time-zone</strong>:</p>\n<pre><code>2022-06-17T00:00+01:00[Europe/London]\n2022-06-17T00:00Z\n2022-06-16T23:00:00Z\n2022-06-16T23:00:00.000Z\n</code></pre>\n<p><strong>Important points</strong>:</p>\n<ol>\n<li>I recommend you use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#minusMonths-long-\" rel=\"nofollow noreferrer\"><code>LocalDate#minusMonths</code></a> i.e. instead of using <code>date.plusMonths(-1L * auditTimeMonthLimit)</code>, you should use <code>date.minusMonths(auditTimeMonthLimit)</code>.</li>\n<li><a href=\"https://stackoverflow.com/a/67953075/10819573\">'Z' is not the same as Z</a>.</li>\n<li>For your use case, I recommend you use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#atStartOfDay-java.time.ZoneId-\" rel=\"nofollow noreferrer\"><code>LocalDate#atStartOfDay(ZoneId zone)</code></a> instead of the non-parametrized <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#atStartOfDay--\" rel=\"nofollow noreferrer\"><code>LocalDate#atStartOfDay</code></a>. This will make you</li>\n</ol>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":25955643,"reputation":47,"user_id":19673046,"display_name":"Deepak"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1643,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1668722072,"creation_date":1668610377,"question_id":74462613,"body_markdown":"Checkmarx complains that &quot;the file utilizes **&quot;format&quot;** that is accessed by other concurrent functionality in a way that is not thread-safe, which may result in a Race Condition over this resource. It highlights the format method. How do we resolve this?\r\n\r\n     String endDate =\r\n                    configProperties.getDateFormatter().format(Date.from(date.plusMonths(-1L * auditTimeMonthLimit).atStartOfDay()\r\n                            .atZone(ZoneId.systemDefault())\r\n                            .toInstant()));\r\n\r\n\r\n\r\nOther part of code\r\n\r\n  \r\n\r\n     private final SimpleDateFormat dateFormatter = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;);\r\n    \r\n     public SimpleDateFormat getDateFormatter() {\r\n            return dateFormatter;\r\n        }","title":"CheckMarx issue : Race condition format flaw","body":"<p>Checkmarx complains that &quot;the file utilizes <strong>&quot;format&quot;</strong> that is accessed by other concurrent functionality in a way that is not thread-safe, which may result in a Race Condition over this resource. It highlights the format method. How do we resolve this?</p>\n<pre><code> String endDate =\n                configProperties.getDateFormatter().format(Date.from(date.plusMonths(-1L * auditTimeMonthLimit).atStartOfDay()\n                        .atZone(ZoneId.systemDefault())\n                        .toInstant()));\n</code></pre>\n<p>Other part of code</p>\n<pre><code> private final SimpleDateFormat dateFormatter = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;);\n\n public SimpleDateFormat getDateFormatter() {\n        return dateFormatter;\n    }\n</code></pre>\n"},{"tags":["java","windows","gdi","visible","winapi"],"answers":[{"tags":[],"owner":{"account_id":37872,"reputation":6103,"user_id":108404,"display_name":"Leo Davidson"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1289929650,"creation_date":1289929650,"answer_id":4197220,"question_id":4195815,"body_markdown":"You can enumerate all desktop windows, plus all monitors, and combine their rectangles. I&#39;m not sure if there is a better way.\r\n\r\nNote that Windows &quot;lies&quot; about the exact dimensions of windows these days (the Aero window border is slightly bigger than actually reported unless you set a special flag).\r\n\r\nAlso note that windows can have see-through portions defined by each application (in addition to the see-through window borders you always have under Aero).\r\n\r\nYou also need to be careful on high-DPI systems where Windows &quot;lies&quot; to your app about coordinates unless you go out of your way to flag it as DPI-aware.\r\n\r\nAnd also note that even an &quot;invisible&quot; window can be visible via the Taskbar, Alt-Tab or Flip3D thumbnails feature of Aero... So, really, on Vista and Windows 7 with DWM enabled, the answer is that your window is potentially always completely visible. :)\r\n\r\n","title":"How to get only the visible part of a window (Windows, gdi32, user32, etc)","body":"<p>You can enumerate all desktop windows, plus all monitors, and combine their rectangles. I'm not sure if there is a better way.</p>\n\n<p>Note that Windows \"lies\" about the exact dimensions of windows these days (the Aero window border is slightly bigger than actually reported unless you set a special flag).</p>\n\n<p>Also note that windows can have see-through portions defined by each application (in addition to the see-through window borders you always have under Aero).</p>\n\n<p>You also need to be careful on high-DPI systems where Windows \"lies\" to your app about coordinates unless you go out of your way to flag it as DPI-aware.</p>\n\n<p>And also note that even an \"invisible\" window can be visible via the Taskbar, Alt-Tab or Flip3D thumbnails feature of Aero... So, really, on Vista and Windows 7 with DWM enabled, the answer is that your window is potentially always completely visible. :)</p>\n"},{"tags":[],"owner":{"account_id":539516,"reputation":885,"user_id":907376,"accept_rate":58,"display_name":"vicky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1420486271,"creation_date":1355462701,"answer_id":13873158,"question_id":4195815,"body_markdown":"I have written a small function which computes the visible region of any window.\r\nPass window handle to this function and It will return visible region of the window.\r\n\r\n\tHRGN GetVisibleRegion(HWND hwnd)\r\n\t{\t\r\n\t\t//Store the region of window hwnd\r\n\t\tRECT hwndRect={0,0,0,0};\r\n\t\t::GetWindowRect(hwnd,&amp;hwndRect);\r\n\t\tHRGN rgn=::CreateRectRgn(hwndRect.left,hwndRect.top,hwndRect.right,hwndRect.bottom);\r\n\r\n\r\n\t\t//HWND hParentWnd=::GetParent(hwnd);\r\n\t\tHWND hParentWnd=::GetAncestor(hwnd,GA_PARENT);\r\n\t\tHWND hChildWnd=hwnd;\r\n\t\t//until we reaches desktop window\r\n\t\twhile(hChildWnd!=NULL &amp;&amp; hChildWnd!=GetDesktopWindow())\r\n\t\t{\r\n\t\t\tHWND topWnd=::GetTopWindow(hParentWnd);\r\n\t\t\tdo\r\n\t\t\t{\r\n\t\t\t\tif(topWnd==hChildWnd) \r\n\t\t\t\t{\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tRECT topWndRect={0,0,0,0}; ::GetWindowRect(topWnd,&amp;topWndRect);\r\n\t\t\t\tRECT tempRect={0,0,0,0};\r\n\t\t\t\t//Other window overlapping with hwnd\r\n\t\t\t\tif(::IsWindowVisible(topWnd) &amp;&amp; !::IsIconic(topWnd) &amp;&amp; IntersectRect(&amp;tempRect,&amp;topWndRect,&amp;hwndRect)!=0) \r\n\t\t\t\t{\r\n\t\t\t\t\tHRGN topWndRgn=::CreateRectRgn(topWndRect.left,topWndRect.top,topWndRect.right,topWndRect.bottom);\r\n\t\t\t\t\t::CombineRgn(rgn,rgn,topWndRgn,RGN_DIFF);\r\n\t\t\t\t\t::RealDeleteObject(topWndRgn);\r\n\t\t\t\t}\r\n\t\t\t\ttopWnd = GetNextWindow(topWnd, TWO);\r\n\r\n\t\t\t}while(topWnd!=NULL);\r\n\t\t\thChildWnd=hParentWnd;\r\n\t\t\t//hParentWnd=::GetParent(hParentWnd);\r\n\t\t\thParentWnd=::GetAncestor(hParentWnd,GA_PARENT);\r\n\t\t}\t\r\n\t\treturn rgn;\r\n\t}","title":"How to get only the visible part of a window (Windows, gdi32, user32, etc)","body":"<p>I have written a small function which computes the visible region of any window.\nPass window handle to this function and It will return visible region of the window.</p>\n\n<pre><code>HRGN GetVisibleRegion(HWND hwnd)\n{   \n    //Store the region of window hwnd\n    RECT hwndRect={0,0,0,0};\n    ::GetWindowRect(hwnd,&amp;hwndRect);\n    HRGN rgn=::CreateRectRgn(hwndRect.left,hwndRect.top,hwndRect.right,hwndRect.bottom);\n\n\n    //HWND hParentWnd=::GetParent(hwnd);\n    HWND hParentWnd=::GetAncestor(hwnd,GA_PARENT);\n    HWND hChildWnd=hwnd;\n    //until we reaches desktop window\n    while(hChildWnd!=NULL &amp;&amp; hChildWnd!=GetDesktopWindow())\n    {\n        HWND topWnd=::GetTopWindow(hParentWnd);\n        do\n        {\n            if(topWnd==hChildWnd) \n            {\n                break;\n            }\n            RECT topWndRect={0,0,0,0}; ::GetWindowRect(topWnd,&amp;topWndRect);\n            RECT tempRect={0,0,0,0};\n            //Other window overlapping with hwnd\n            if(::IsWindowVisible(topWnd) &amp;&amp; !::IsIconic(topWnd) &amp;&amp; IntersectRect(&amp;tempRect,&amp;topWndRect,&amp;hwndRect)!=0) \n            {\n                HRGN topWndRgn=::CreateRectRgn(topWndRect.left,topWndRect.top,topWndRect.right,topWndRect.bottom);\n                ::CombineRgn(rgn,rgn,topWndRgn,RGN_DIFF);\n                ::RealDeleteObject(topWndRgn);\n            }\n            topWnd = GetNextWindow(topWnd, TWO);\n\n        }while(topWnd!=NULL);\n        hChildWnd=hParentWnd;\n        //hParentWnd=::GetParent(hParentWnd);\n        hParentWnd=::GetAncestor(hParentWnd,GA_PARENT);\n    }   \n    return rgn;\n}\n</code></pre>\n"}],"owner":{"account_id":226545,"reputation":9656,"user_id":487649,"accept_rate":67,"display_name":"Nikola Yovchev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2518,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1668722023,"creation_date":1289921565,"question_id":4195815,"body_markdown":"I want to get only the visible part of the window in windows, as a region. \r\n\r\nWant to get only the area that is seen by the user.\r\nProgrammatically, of course. Here is an example. I have the following window composition:\r\n\r\n \r\n\r\n    +------------------------------------------+\r\n     |                                          |\r\n     |           +=============+                |\r\n     |           |             |                |\r\n     |           |    A   +--------------------------+\r\n     |           |        |                          |\r\n     |    C      |        |             B            |\r\n     |           |        +--------------------------+\r\n     |           |             |                |\r\n     +-----------|             |----------------+\r\n                 |             |\r\n                 +-------------+\r\n\r\nLet&#39;s say that I am interested only in window A. \r\nThen what I would need is a handle to a region which would look like this:\r\n \r\n   \r\n                                              \r\n              +=============+                \r\n              |             |                \r\n              |    A  +-----+\r\n              |       |                          \r\n              |       |                         \r\n              |       +-----+\r\n              |             |                \r\n              |             |\r\n              |             |\r\n              +-------------+\r\n\r\nAlternatively, I should be able to obtain the region of any other window in the following manner. \r\n\r\nSo far, I used [this guide](https://devblogs.microsoft.com/oldnewthing/20030902-00/?p=42693), and I agree that GetClipBox returns 0, 1, 2 or 3 if you have, accordingly,  0 -&gt; Error, 1 for NULLREGION(the resulting rgn is invisible to the user), 2 -&gt; SIMPLEREGION, and 3 for COMPLEXREGION. So, far, I need the complex region.\r\n\r\n Master Question: ***But how do I get its coordinates and dimensions*** ?\r\n\r\n*(Added Info)*\r\n\r\nIs it possible to reconstruct a COMPLEXREGION (That was created by the OS, not me) to simple REGIONS of which it is composed. Feng Yuan suggests you can&#39;t:\r\n\r\nhttp://www.codeguru.com/forum/archive/index.php/t-126543.html\r\n\r\n*(Added Info)*\r\n\r\n  So, is there a way to find the region of A and **translate it to a PolyPath or a nice geometric figure having the coordinates of its corners** ? \r\n\r\nI use JNA (Java) , by the way, but a C# or .VB code solving the same problem would be sufficient.\r\n\r\nCheers.","title":"How to get only the visible part of a window (Windows, gdi32, user32, etc)","body":"<p>I want to get only the visible part of the window in windows, as a region.</p>\n<p>Want to get only the area that is seen by the user.\nProgrammatically, of course. Here is an example. I have the following window composition:</p>\n<pre><code>+------------------------------------------+\n |                                          |\n |           +=============+                |\n |           |             |                |\n |           |    A   +--------------------------+\n |           |        |                          |\n |    C      |        |             B            |\n |           |        +--------------------------+\n |           |             |                |\n +-----------|             |----------------+\n             |             |\n             +-------------+\n</code></pre>\n<p>Let's say that I am interested only in window A.\nThen what I would need is a handle to a region which would look like this:</p>\n<pre><code>          +=============+                \n          |             |                \n          |    A  +-----+\n          |       |                          \n          |       |                         \n          |       +-----+\n          |             |                \n          |             |\n          |             |\n          +-------------+\n</code></pre>\n<p>Alternatively, I should be able to obtain the region of any other window in the following manner.</p>\n<p>So far, I used <a href=\"https://devblogs.microsoft.com/oldnewthing/20030902-00/?p=42693\" rel=\"nofollow noreferrer\">this guide</a>, and I agree that GetClipBox returns 0, 1, 2 or 3 if you have, accordingly,  0 -&gt; Error, 1 for NULLREGION(the resulting rgn is invisible to the user), 2 -&gt; SIMPLEREGION, and 3 for COMPLEXREGION. So, far, I need the complex region.</p>\n<p>Master Question: <em><strong>But how do I get its coordinates and dimensions</strong></em> ?</p>\n<p><em>(Added Info)</em></p>\n<p>Is it possible to reconstruct a COMPLEXREGION (That was created by the OS, not me) to simple REGIONS of which it is composed. Feng Yuan suggests you can't:</p>\n<p><a href=\"http://www.codeguru.com/forum/archive/index.php/t-126543.html\" rel=\"nofollow noreferrer\">http://www.codeguru.com/forum/archive/index.php/t-126543.html</a></p>\n<p><em>(Added Info)</em></p>\n<p>So, is there a way to find the region of A and <strong>translate it to a PolyPath or a nice geometric figure having the coordinates of its corners</strong> ?</p>\n<p>I use JNA (Java) , by the way, but a C# or .VB code solving the same problem would be sufficient.</p>\n<p>Cheers.</p>\n"},{"tags":["java","string","algorithm","stack"],"comments":[{"owner":{"account_id":18286558,"reputation":371,"user_id":13314717,"display_name":"NikMashei"},"score":0,"creation_date":1668711327,"post_id":74480557,"comment_id":131478751,"body_markdown":"It&#39;s not clear to me what you are trying to achieve. Do you need to flip all elements in the stack, e.g. from [blue, red, white] to [white, red, blue]? Or do you need to swap specific elements between each other, e.g. blue to red and green to yellow?","body":"It&#39;s not clear to me what you are trying to achieve. Do you need to flip all elements in the stack, e.g. from [blue, red, white] to [white, red, blue]? Or do you need to swap specific elements between each other, e.g. blue to red and green to yellow?"},{"owner":{"account_id":26966174,"reputation":1,"user_id":20532996,"display_name":"confusedcs"},"score":0,"creation_date":1668711846,"post_id":74480557,"comment_id":131478924,"body_markdown":"i need to do both, I have accomplished the flip portion eg the [red, white, blue] to [blue, white, red] portion. what needs to be done is to have a way to replace instances of a string with another string. So i need a general way to take &quot;x&quot; and replace it with &quot;y&quot; or even a scanner value. Basically i have to find a way to find instances of a string and change it with a string of my choosing","body":"i need to do both, I have accomplished the flip portion eg the [red, white, blue] to [blue, white, red] portion. what needs to be done is to have a way to replace instances of a string with another string. So i need a general way to take &quot;x&quot; and replace it with &quot;y&quot; or even a scanner value. Basically i have to find a way to find instances of a string and change it with a string of my choosing"},{"owner":{"account_id":434266,"reputation":15464,"user_id":820127,"display_name":"rossum"},"score":0,"creation_date":1668716394,"post_id":74480557,"comment_id":131480395,"body_markdown":"You have two things to do, a) flip the stack and b) flip the elements. Better to do them separately. Perhaps pop the first element from the original stack, flip it and push it onto the flipped stack. Repeat until the first stack is empty.","body":"You have two things to do, a) flip the stack and b) flip the elements. Better to do them separately. Perhaps pop the first element from the original stack, flip it and push it onto the flipped stack. Repeat until the first stack is empty."}],"answers":[{"tags":[],"owner":{"account_id":18286558,"reputation":371,"user_id":13314717,"display_name":"NikMashei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668713150,"creation_date":1668711809,"answer_id":74480802,"question_id":74480557,"body_markdown":"If you need to reverse all elements in a stack then you could find the solution [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/44307858/13314717\r\n\r\nupd: Probably this would be the solution for your problem. You could replace values in the `map` with needed for you, it contains rules &quot;which color should be swapped to the another one&quot;\r\n\r\n    public static void main(String[] args) {\r\n        // initialize a map containing values to swap\r\n        Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n        map.put(&quot;red&quot;, &quot;blue&quot;);\r\n        map.put(&quot;white&quot;, &quot;yellow&quot;);\r\n\r\n        // let&#39;s say you got a stack like below\r\n        Stack&lt;String&gt; stack = new Stack&lt;&gt;();\r\n        stack.push(&quot;red&quot;);\r\n        stack.push(&quot;white&quot;);\r\n\r\n        System.out.println(&quot;Before the flip: &quot; + stack);\r\n\r\n        // iterate through the stack\r\n        for (int i = 0; i &lt; stack.size(); i++) {\r\n            var stackValue = stack.get(i);\r\n            var flippedValue = map.get(stackValue);\r\n            if (flippedValue != null) {\r\n                stack.set(i, flippedValue);\r\n            }\r\n        }\r\n\r\n        System.out.println(&quot;After the flip: &quot; + stack);\r\n    }\r\n\r\nthe output of code below would be:\r\n\r\n    Before the flip: [red, white]\r\n    After the flip: [blue, yellow]","title":"flipping a stack and assigning new string variables","body":"<p>If you need to reverse all elements in a stack then you could find the solution <a href=\"https://stackoverflow.com/a/44307858/13314717\">here</a></p>\n<p>upd: Probably this would be the solution for your problem. You could replace values in the <code>map</code> with needed for you, it contains rules &quot;which color should be swapped to the another one&quot;</p>\n<pre><code>public static void main(String[] args) {\n    // initialize a map containing values to swap\n    Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n    map.put(&quot;red&quot;, &quot;blue&quot;);\n    map.put(&quot;white&quot;, &quot;yellow&quot;);\n\n    // let's say you got a stack like below\n    Stack&lt;String&gt; stack = new Stack&lt;&gt;();\n    stack.push(&quot;red&quot;);\n    stack.push(&quot;white&quot;);\n\n    System.out.println(&quot;Before the flip: &quot; + stack);\n\n    // iterate through the stack\n    for (int i = 0; i &lt; stack.size(); i++) {\n        var stackValue = stack.get(i);\n        var flippedValue = map.get(stackValue);\n        if (flippedValue != null) {\n            stack.set(i, flippedValue);\n        }\n    }\n\n    System.out.println(&quot;After the flip: &quot; + stack);\n}\n</code></pre>\n<p>the output of code below would be:</p>\n<pre><code>Before the flip: [red, white]\nAfter the flip: [blue, yellow]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668721748,"creation_date":1668721748,"answer_id":74482499,"question_id":74480557,"body_markdown":"Here&#39;s an approach which takes your opposites and \r\n\r\n 1. creates a list of the pairs;\r\n 2. provides a method to create a lookup map for efficient retrieval of the respective opposite;\r\n 3. provides a method to flip both the order of the &quot;stack&quot; (using Deque, see in-line comments) and flip the color of each item in the queue.\r\n\r\nThis approach emphasizes the use of the Java Streams API for a more functional approach (i.e., avoid imperative for-loop iteration). See, \r\n[Functional Programming with Java 8 by Venkat Subramaniam][1].\r\n\r\nHat-tip to: [Java 8 stream reverse order][2], see the &quot;Update 2016-01-29&quot; note.\r\n\r\n```\r\nimport java.util.ArrayDeque;\r\nimport java.util.ArrayList;\r\nimport java.util.Deque;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.stream.Collector;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class OppositeColorsDeque {\r\n\r\n    public static void main(String[] args) {\r\n        // Assuming these are the only pairs of opposites...\r\n        List&lt;List&lt;String&gt;&gt; colorOpposites = new ArrayList&lt;&gt;();\r\n        colorOpposites.add(List.of(&quot;blue&quot;, &quot;red&quot;));\r\n        colorOpposites.add(List.of(&quot;red&quot;, &quot;blue&quot;));\r\n        colorOpposites.add(List.of(&quot;green&quot;, &quot;yellow&quot;));\r\n        colorOpposites.add(List.of(&quot;yellow&quot;, &quot;green&quot;));\r\n\r\n        System.out.println(&quot;colorOpposites list: &quot; + colorOpposites);\r\n\r\n        Map&lt;String, String&gt; oppositeColorLookup = createOppositeColorsLookupMap(colorOpposites);\r\n        \r\n        // Instead of a Stack, use Deque. See JavaDoc for Stack: \r\n        // &quot;A more complete and consistent set of LIFO stack operations is \r\n        // provided by the Deque interface and its implementations, which \r\n        // should be used in preference to this class.&quot;\r\n        Deque&lt;String&gt; originalDeque = new ArrayDeque&lt;&gt;();\r\n        originalDeque.addAll(List.of(&quot;blue&quot;, &quot;red&quot;, &quot;green&quot;, &quot;yellow&quot;));\r\n\r\n        System.out.println(&quot;deque1: &quot; + originalDeque);\r\n\r\n        Deque&lt;String&gt; flippedDeque = flip(originalDeque, oppositeColorLookup);\r\n\r\n        System.out.println(&quot;deque2: &quot; + flippedDeque);\r\n    }\r\n\r\n    protected static Map&lt;String, String&gt; createOppositeColorsLookupMap(List&lt;List&lt;String&gt;&gt; colorOpposites) {\r\n        return colorOpposites.stream()\r\n            .collect(Collectors.toMap(list -&gt; list.get(0), list -&gt; list.get(1)));\r\n    }\r\n\r\n    protected static Deque&lt;String&gt; flip(Deque&lt;String&gt; originalDeque, Map&lt;String, String&gt; oppositeColorsMap) {\r\n        // See https://stackoverflow.com/a/24011264/1271785\r\n        return originalDeque.stream()\r\n            .map(element -&gt; oppositeColorsMap.get(element))\r\n            .collect(Collector.of(\r\n                ArrayDeque::new,\r\n                (deq, t) -&gt; deq.addFirst(t),\r\n                (d1, d2) -&gt; { d2.addAll(d1); return d2; }));\r\n    }\r\n\r\n}\r\n```\r\n\r\nOutput: \r\n```\r\ncolorOpposites list: [[blue, red], [red, blue], [green, yellow], [yellow, green]]\r\ndeque1: [blue, red, green, yellow]\r\ndeque2: [green, yellow, blue, red]\r\n```\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=15X0qFtBqiQ\r\n  [2]: https://stackoverflow.com/a/24011264/1271785","title":"flipping a stack and assigning new string variables","body":"<p>Here's an approach which takes your opposites and</p>\n<ol>\n<li>creates a list of the pairs;</li>\n<li>provides a method to create a lookup map for efficient retrieval of the respective opposite;</li>\n<li>provides a method to flip both the order of the &quot;stack&quot; (using Deque, see in-line comments) and flip the color of each item in the queue.</li>\n</ol>\n<p>This approach emphasizes the use of the Java Streams API for a more functional approach (i.e., avoid imperative for-loop iteration). See,\n<a href=\"https://www.youtube.com/watch?v=15X0qFtBqiQ\" rel=\"nofollow noreferrer\">Functional Programming with Java 8 by Venkat Subramaniam</a>.</p>\n<p>Hat-tip to: <a href=\"https://stackoverflow.com/a/24011264/1271785\">Java 8 stream reverse order</a>, see the &quot;Update 2016-01-29&quot; note.</p>\n<pre><code>import java.util.ArrayDeque;\nimport java.util.ArrayList;\nimport java.util.Deque;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.stream.Collector;\nimport java.util.stream.Collectors;\n\npublic class OppositeColorsDeque {\n\n    public static void main(String[] args) {\n        // Assuming these are the only pairs of opposites...\n        List&lt;List&lt;String&gt;&gt; colorOpposites = new ArrayList&lt;&gt;();\n        colorOpposites.add(List.of(&quot;blue&quot;, &quot;red&quot;));\n        colorOpposites.add(List.of(&quot;red&quot;, &quot;blue&quot;));\n        colorOpposites.add(List.of(&quot;green&quot;, &quot;yellow&quot;));\n        colorOpposites.add(List.of(&quot;yellow&quot;, &quot;green&quot;));\n\n        System.out.println(&quot;colorOpposites list: &quot; + colorOpposites);\n\n        Map&lt;String, String&gt; oppositeColorLookup = createOppositeColorsLookupMap(colorOpposites);\n        \n        // Instead of a Stack, use Deque. See JavaDoc for Stack: \n        // &quot;A more complete and consistent set of LIFO stack operations is \n        // provided by the Deque interface and its implementations, which \n        // should be used in preference to this class.&quot;\n        Deque&lt;String&gt; originalDeque = new ArrayDeque&lt;&gt;();\n        originalDeque.addAll(List.of(&quot;blue&quot;, &quot;red&quot;, &quot;green&quot;, &quot;yellow&quot;));\n\n        System.out.println(&quot;deque1: &quot; + originalDeque);\n\n        Deque&lt;String&gt; flippedDeque = flip(originalDeque, oppositeColorLookup);\n\n        System.out.println(&quot;deque2: &quot; + flippedDeque);\n    }\n\n    protected static Map&lt;String, String&gt; createOppositeColorsLookupMap(List&lt;List&lt;String&gt;&gt; colorOpposites) {\n        return colorOpposites.stream()\n            .collect(Collectors.toMap(list -&gt; list.get(0), list -&gt; list.get(1)));\n    }\n\n    protected static Deque&lt;String&gt; flip(Deque&lt;String&gt; originalDeque, Map&lt;String, String&gt; oppositeColorsMap) {\n        // See https://stackoverflow.com/a/24011264/1271785\n        return originalDeque.stream()\n            .map(element -&gt; oppositeColorsMap.get(element))\n            .collect(Collector.of(\n                ArrayDeque::new,\n                (deq, t) -&gt; deq.addFirst(t),\n                (d1, d2) -&gt; { d2.addAll(d1); return d2; }));\n    }\n\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>colorOpposites list: [[blue, red], [red, blue], [green, yellow], [yellow, green]]\ndeque1: [blue, red, green, yellow]\ndeque2: [green, yellow, blue, red]\n</code></pre>\n"}],"owner":{"account_id":26966174,"reputation":1,"user_id":20532996,"display_name":"confusedcs"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668721748,"creation_date":1668710515,"question_id":74480557,"body_markdown":"I&#39;m a bit confused about what to do with this problem. I have to take a Stack&lt;String&gt; and flip it, once flipped the elements in the stack have to also &#39;flip&#39;. for example every string that reads &#39;blue&#39; must now read &#39;red&#39;, every string that reads &#39;White&#39; should be &#39;black&#39; etc. \r\n\r\nI&#39;ve written a method to flip the stack, but writing a method to replace all instances of the given variables with new variables isn&#39;t working. This is what i have so far. I&#39;ve tried two approaches and i&#39;m still not getting the result i want. \r\nHere is what I have:\r\n\r\n\r\n```\r\n//here color is the name of my stack. I tried to convert the stack to an array \r\n        Object[] arr = color.toArray();\r\n\r\n        for (int i =0;i&lt;arr.length;i++){ \r\n            /*\r\n             * replace instances of &quot;blue&quot; in the string [] with red \r\n             */\r\n            arr [i] = ((String) arr[i]).replaceAll(&quot;Blue&quot;, &quot;Red&quot;);\r\n\r\n            arr [i] = ((String) arr[i]).replaceAll(&quot;Red&quot;, &quot;Blue&quot;);\r\n            \r\n            arr [i] = ((String) arr[i]).replaceAll(&quot;Green&quot;, &quot;Yellow&quot;);\r\n            \r\n            arr [i] = ((String) arr[i]).replaceAll(&quot;Yellow&quot;, &quot;Green&quot;);\r\n\r\n            System.out.print(arr[i]);\r\n        }\r\n```\r\n\r\n\r\nanother method i tried: \r\n\r\n```\r\nimport java.util.*;\r\n\r\npublic class colors{\r\n    /*\r\n     * method to swap the colors\r\n     * color black gets changed to white, blue changes to red etc...\r\n     * method would have to be implemented on a stack to change all the elm of the stack to the opposite \r\n     * then the stack gets printed out and can be changed in the flip part of the main method\r\n     */\r\n\r\n    private static Stack&lt;String&gt; opposite(Stack&lt;String&gt;color){ \r\n        // method takes stack of strings. if &#39;red&#39; then change to &#39;blue&#39;\r\n        /*\r\n         * the stack gets put into this method \r\n         * if the stack (strings) has these values then they are replaced with my values\r\n         * \r\n         * can&#39;t return String values if the input is Stack&lt;String&gt;\r\n         */\r\n\r\n        String b = &quot;blue&quot;;\r\n        String r = &quot;red&quot;;\r\n        String g = &quot;green&quot;;\r\n        String y = &quot;yellow&quot;;\r\n       \r\n            b.replace(&quot;blue&quot;, &quot;red&quot;);\r\n            r.replace(&quot;red&quot;, &quot;blue&quot;);\r\n            g.replace(&quot;green&quot;,&quot;yellow&quot;);\r\n            y.replace(&quot;yellow&quot;,&quot;green&quot;);\r\n        \r\n         return color; // return type hase to be same as input type so change return type to match Stack&lt;String&gt;\r\n         /*\r\n          * if return type is same it can&#39;t return color.... \r\n          try using switch statement to \r\n          */\r\n    }\r\n    public static void main(String[]args){\r\n        Stack&lt;String&gt; way = new Stack&lt;&gt;();\r\n        color.push(&quot;red&quot;);\r\n        color.push(&quot;blue&quot;);\r\n\r\n        System.out.println(way);\r\n\r\n        \r\n        System.out.println(opposite(way)); \r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI wanted the method to intake a stack and output a stack that has the elements changed ","title":"flipping a stack and assigning new string variables","body":"<p>I'm a bit confused about what to do with this problem. I have to take a Stack and flip it, once flipped the elements in the stack have to also 'flip'. for example every string that reads 'blue' must now read 'red', every string that reads 'White' should be 'black' etc.</p>\n<p>I've written a method to flip the stack, but writing a method to replace all instances of the given variables with new variables isn't working. This is what i have so far. I've tried two approaches and i'm still not getting the result i want.\nHere is what I have:</p>\n<pre><code>//here color is the name of my stack. I tried to convert the stack to an array \n        Object[] arr = color.toArray();\n\n        for (int i =0;i&lt;arr.length;i++){ \n            /*\n             * replace instances of &quot;blue&quot; in the string [] with red \n             */\n            arr [i] = ((String) arr[i]).replaceAll(&quot;Blue&quot;, &quot;Red&quot;);\n\n            arr [i] = ((String) arr[i]).replaceAll(&quot;Red&quot;, &quot;Blue&quot;);\n            \n            arr [i] = ((String) arr[i]).replaceAll(&quot;Green&quot;, &quot;Yellow&quot;);\n            \n            arr [i] = ((String) arr[i]).replaceAll(&quot;Yellow&quot;, &quot;Green&quot;);\n\n            System.out.print(arr[i]);\n        }\n</code></pre>\n<p>another method i tried:</p>\n<pre><code>import java.util.*;\n\npublic class colors{\n    /*\n     * method to swap the colors\n     * color black gets changed to white, blue changes to red etc...\n     * method would have to be implemented on a stack to change all the elm of the stack to the opposite \n     * then the stack gets printed out and can be changed in the flip part of the main method\n     */\n\n    private static Stack&lt;String&gt; opposite(Stack&lt;String&gt;color){ \n        // method takes stack of strings. if 'red' then change to 'blue'\n        /*\n         * the stack gets put into this method \n         * if the stack (strings) has these values then they are replaced with my values\n         * \n         * can't return String values if the input is Stack&lt;String&gt;\n         */\n\n        String b = &quot;blue&quot;;\n        String r = &quot;red&quot;;\n        String g = &quot;green&quot;;\n        String y = &quot;yellow&quot;;\n       \n            b.replace(&quot;blue&quot;, &quot;red&quot;);\n            r.replace(&quot;red&quot;, &quot;blue&quot;);\n            g.replace(&quot;green&quot;,&quot;yellow&quot;);\n            y.replace(&quot;yellow&quot;,&quot;green&quot;);\n        \n         return color; // return type hase to be same as input type so change return type to match Stack&lt;String&gt;\n         /*\n          * if return type is same it can't return color.... \n          try using switch statement to \n          */\n    }\n    public static void main(String[]args){\n        Stack&lt;String&gt; way = new Stack&lt;&gt;();\n        color.push(&quot;red&quot;);\n        color.push(&quot;blue&quot;);\n\n        System.out.println(way);\n\n        \n        System.out.println(opposite(way)); \n    }\n}\n</code></pre>\n<p>I wanted the method to intake a stack and output a stack that has the elements changed</p>\n"},{"tags":["java","android","nio"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1565206536,"creation_date":1565206536,"answer_id":57401238,"question_id":57401195,"body_markdown":"Set your `minSdkVersion` to 26 or higher, as [that class is relatively new](https://developer.android.com/reference/java/nio/file/Paths).\r\n\r\nAlternatively, do not use `Paths`. Since [you have limited access to files on Android Q and higher](https://commonsware.com/blog/2019/06/07/death-external-storage-end-saga.html), you may need to be considering other approaches anyway.","title":"Failed resolution of: java/nio/file/Paths;","body":"<p>Set your <code>minSdkVersion</code> to 26 or higher, as <a href=\"https://developer.android.com/reference/java/nio/file/Paths\" rel=\"nofollow noreferrer\">that class is relatively new</a>.</p>\n\n<p>Alternatively, do not use <code>Paths</code>. Since <a href=\"https://commonsware.com/blog/2019/06/07/death-external-storage-end-saga.html\" rel=\"nofollow noreferrer\">you have limited access to files on Android Q and higher</a>, you may need to be considering other approaches anyway.</p>\n"}],"owner":{"account_id":1127005,"reputation":12365,"user_id":1114043,"accept_rate":51,"display_name":"zeus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2176,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":57401238,"answer_count":1,"score":4,"last_activity_date":1668721393,"creation_date":1565206341,"question_id":57401195,"body_markdown":"In my code I do this:\r\n\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n\r\n\r\n    Files.createDirectories(Paths.get(mMyDir));\r\n\r\nBut I have this error on some android devices:  \r\n  \r\n  \r\n\r\n&gt; Failed resolution of: java/nio/file/Paths;\r\n\r\nWhat can I do?","title":"Failed resolution of: java/nio/file/Paths;","body":"<p>In my code I do this:</p>\n<pre><code>import java.nio.file.Files;\nimport java.nio.file.Paths;\n\n\nFiles.createDirectories(Paths.get(mMyDir));\n</code></pre>\n<p>But I have this error on some android devices:</p>\n<blockquote>\n<p>Failed resolution of: java/nio/file/Paths;</p>\n</blockquote>\n<p>What can I do?</p>\n"},{"tags":["java","kotlin","intellij-idea","intellij-plugin","java-17"],"answers":[{"tags":[],"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668719919,"creation_date":1668719919,"answer_id":74482210,"question_id":74482129,"body_markdown":"It is a suggestion about the property, not the field. In Java side a property is essentially a field and its accessor methods.\r\n\r\nIf you changed `val s` to `private val s`, the decompiled class would have `private` visibility for the `getS()` accessor rather than `public`.","title":"Why Is Intellij Suggesting I Make A Private Field Private in Kotlin?","body":"<p>It is a suggestion about the property, not the field. In Java side a property is essentially a field and its accessor methods.</p>\n<p>If you changed <code>val s</code> to <code>private val s</code>, the decompiled class would have <code>private</code> visibility for the <code>getS()</code> accessor rather than <code>public</code>.</p>\n"}],"owner":{"display_name":"user19320502"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74482210,"answer_count":1,"score":0,"last_activity_date":1668720787,"creation_date":1668719443,"question_id":74482129,"body_markdown":"Why is Intellij suggesting I make a private field private? Am I not understanding this correctly or is it just a bug? I have posted a picture of the error and the decompiled class below. Is this something I should heed or ignore?\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/UTsCd.png\r\n  [2]: https://i.stack.imgur.com/J3JZS.png","title":"Why Is Intellij Suggesting I Make A Private Field Private in Kotlin?","body":"<p>Why is Intellij suggesting I make a private field private? Am I not understanding this correctly or is it just a bug? I have posted a picture of the error and the decompiled class below. Is this something I should heed or ignore?</p>\n<p><a href=\"https://i.stack.imgur.com/J3JZS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J3JZS.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/UTsCd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UTsCd.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","eclipse"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668720649,"creation_date":1668720649,"answer_id":74482319,"question_id":74482273,"body_markdown":"The software you are attempting to run does not run on newer JVM versions.\r\n\r\nInstall a JVM8, for example [Adoptiom JDK8](https://adoptium.net/temurin/releases/?version=8) and run on that.","title":"Errors when running an imported java zip file in eclipse","body":"<p>The software you are attempting to run does not run on newer JVM versions.</p>\n<p>Install a JVM8, for example <a href=\"https://adoptium.net/temurin/releases/?version=8\" rel=\"nofollow noreferrer\">Adoptiom JDK8</a> and run on that.</p>\n"}],"owner":{"account_id":26967419,"reputation":1,"user_id":20534014,"display_name":"Yasmin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1668720649,"creation_date":1668720312,"question_id":74482273,"body_markdown":"I Imported  a zip java file in eclipse and choose run as ---&gt; run configuration and in VM argumentation tab  added :  -Djava.library.path=lib/java3d-1.6/windows/amd64;lib/yafaray/windows/x64 . so when I run I get Errors ! these are the errors :\r\n\r\n\r\n```\r\n221117 21:54:01:128 Exception thrown at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\r\n\tat java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\r\n\tat abbot.util.NamedTimer$ProtectingTimerTask.isCanceled(NamedTimer.java:61)\r\n\tat abbot.util.NamedTimer$ProtectingTimerTask.run(NamedTimer.java:48)\r\n\tat java.base/java.util.TimerThread.mainLoop(Timer.java:566)\r\n\tat java.base/java.util.TimerThread.run(Timer.java:516): java.lang.reflect.InaccessibleObjectException: Unable to make field int java.util.TimerTask.state accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @5099f48\r\n\t(caught at abbot.util.NamedTimer$ProtectingTimerTask.isCanceled(NamedTimer.java:66))\r\nException in thread &quot;AWT-EventQueue-0&quot; abbot.util.EventDispatchExceptionHandler$DummyException jdk.internal.loader.ClassLoaders$AppClassLoader@579bb367\r\n\tat abbot.util.EventDispatchExceptionHandler$1.run(EventDispatchExceptionHandler.java:93)\r\n\tat java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:771)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:722)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:716)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:741)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n221117 21:54:01:461 abbot.util.EventDispatchExceptionHandler.install(EventDispatchExceptionHandler.java:115):\r\n\tThe handler for event dispatch thread exceptions could not be installed\r\nWARNING: A terminally deprecated method in java.lang.System has been called\r\nWARNING: System::setSecurityManager has been called by abbot.util.SystemState (file:/C:/Users/Jasmin/eclipse-workspace/SweetHome3D/libtest/abbot.jar)\r\nWARNING: Please consider reporting this to the maintainers of abbot.util.SystemState\r\nWARNING: System::setSecurityManager will be removed in a future release\r\n221117 21:54:04:372 abbot.util.EventDispatchExceptionHandler.install(EventDispatchExceptionHandler.java:74):\r\n\tCan&#39;t install event dispatch exception handler\r\n221117 21:54:05:451 abbot.util.EventDispatchExceptionHandler.install(EventDispatchExceptionHandler.java:74):\r\n\tCan&#39;t install event dispatch exception handler\r\n221117 21:54:06:376 abbot.util.EventDispatchExceptionHandler.install(EventDispatchExceptionHandler.java:74):\r\n\tCan&#39;t install event dispatch exception handler\r\n221117 21:54:07:803 abbot.util.EventDispatchExceptionHandler.install(EventDispatchExceptionHandler.java:74):\r\n\tCan&#39;t install event dispatch exception handler\r\n221117 21:54:18:832 Exception thrown at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\r\n\tat java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\r\n\tat abbot.util.NamedTimer$ProtectingTimerTask.isCanceled(NamedTimer.java:61)\r\n\tat abbot.util.NamedTimer$ProtectingTimerTask.run(NamedTimer.java:48)\r\n\tat java.base/java.util.TimerThread.mainLoop(Timer.java:566)\r\n\tat java.base/java.util.TimerThread.run(Timer.java:516): java.lang.reflect.InaccessibleObjectException: Unable to make field int java.util.TimerTask.state accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @5099f48\r\n\t(caught at abbot.util.NamedTimer$ProtectingTimerTask.isCanceled(NamedTimer.java:66))\r\n221117 21:54:24:849: Last message repeated 22 times\r\n221117 21:54:25:824 abbot.util.EventDispatchExceptionHandler.install(EventDispatchExceptionHandler.java:74):\r\n\tCan&#39;t install event dispatch exception handler\r\n221117 21:54:26:569 abbot.util.EventDispatchExceptionHandler.install(EventDispatchExceptionHandler.java:74):\r\n\tCan&#39;t install event dispatch exception handler\r\n221117 21:54:27:516 abbot.util.EventDispatchExceptionHandler.install(EventDispatchExceptionHandler.java:74):\r\n\tCan&#39;t install event dispatch exception handler\r\n221117 21:54:28:114 abbot.util.EventDispatchExceptionHandler.install(EventDispatchExceptionHandler.java:74):\r\n\tCan&#39;t install event dispatch exception handler\r\n221117 21:54:29:076 abbot.util.EventDispatchExceptionHandler.install(EventDispatchExceptionHandler.java:74):\r\n\tCan&#39;t install event dispatch exception handler\r\n221117 21:54:31:324 abbot.util.EventDispatchExceptionHandler.install(EventDispatchExceptionHandler.java:74):\r\n\tCan&#39;t install event dispatch exception handler\r\n221117 21:54:32:288 abbot.util.EventDispatchExceptionHandler.install(EventDispatchExceptionHandler.java:74):\r\n\tCan&#39;t install event dispatch exception handler\r\nException in thread &quot;AWT-EventQueue-0&quot; javax.swing.undo.CannotUndoException\r\n\tat java.desktop/javax.swing.undo.UndoManager.tryUndoOrRedo(UndoManager.java:468)\r\n\tat java.desktop/javax.swing.undo.UndoManager.undo(UndoManager.java:416)\r\n\tat com.eteks.sweethome3d.junit.PlanComponentTest$PlanTestFrame$3.actionPerformed(PlanComponentTest.java:515)\r\n\tat java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972)\r\n\tat java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2313)\r\n\tat java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\r\n\tat java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\r\n\tat java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\r\n\tat java.desktop/java.awt.Component.processMouseEvent(Component.java:6626)\r\n\tat java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3389)\r\n\tat java.desktop/java.awt.Component.processEvent(Component.java:6391)\r\n\tat java.desktop/java.awt.Container.processEvent(Container.java:2266)\r\n\tat java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5001)\r\n\tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\r\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\r\n\tat java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948)\r\n\tat java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4575)\r\n\tat java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516)\r\n\tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2310)\r\n\tat java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2780)\r\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:722)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:716)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:746)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:744)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:743)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n221117 21:54:33:397 abbot.util.EventDispatchExceptionHandler.install(EventDispatchExceptionHandler.java:74):\r\n\tCan&#39;t install event dispatch exception handler\r\n221117 21:54:35:550 Exception thrown at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\r\n\tat java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\r\n\tat abbot.util.NamedTimer$ProtectingTimerTask.isCanceled(NamedTimer.java:61)\r\n\tat abbot.util.NamedTimer$ProtectingTimerTask.run(NamedTimer.java:48)\r\n\tat java.base/java.util.TimerThread.mainLoop(Timer.java:566)\r\n\tat java.base/java.util.TimerThread.run(Timer.java:516): java.lang.reflect.InaccessibleObjectException: Unable to make field int java.util.TimerTask.state accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @5099f48\r\n\t(caught at abbot.util.NamedTimer$ProtectingTimerTask.isCanceled(NamedTimer.java:66))\r\n221117 21:54:35:815: Last message repeated 34 times\r\n221117 21:54:37:958 abbot.util.EventDispatchExceptionHandler.install(EventDispatchExceptionHandler.java:74):\r\n\tCan&#39;t install event dispatch exception handler\r\n221117 21:54:40:777 abbot.util.EventDispatchExceptionHandler.install(EventDispatchExceptionHandler.java:74):\r\n\tCan&#39;t install event dispatch exception handler\r\n221117 21:54:41:710 abbot.util.EventDispatchExceptionHandler.install(EventDispatchExceptionHandler.java:74):\r\n\tCan&#39;t install event dispatch exception handler\r\n221117 21:54:43:070 Exception thrown at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\r\n\tat java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\r\n\tat abbot.util.NamedTimer$ProtectingTimerTask.isCanceled(NamedTimer.java:61)\r\n\tat abbot.util.NamedTimer$ProtectingTimerTask.run(NamedTimer.java:48)\r\n\tat java.base/java.util.TimerThread.mainLoop(Timer.java:566)\r\n\tat java.base/java.util.TimerThread.run(Timer.java:516): java.lang.reflect.InaccessibleObjectException: Unable to make field int java.util.TimerTask.state accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @5099f48\r\n\t(caught at abbot.util.NamedTimer$ProtectingTimerTask.isCanceled(NamedTimer.java:66))\r\n221117 21:54:44:300: Last message repeated 4 times\r\n221117 21:54:44:522 abbot.util.EventDispatchExceptionHandler.install(EventDispatchExceptionHandler.java:74):\r\n\tCan&#39;t install event dispatch exception handler\r\n```\r\n\r\n\r\nI expected to see the code is running but that is not the case ! Can anyone tell me please ,how can i solve these Errors ?!What&#39;s the Problem ?","title":"Errors when running an imported java zip file in eclipse","body":"<p>I Imported  a zip java file in eclipse and choose run as ---&gt; run configuration and in VM argumentation tab  added :  -Djava.library.path=lib/java3d-1.6/windows/amd64;lib/yafaray/windows/x64 . so when I run I get Errors ! these are the errors :</p>\n<pre><code>221117 21:54:01:128 Exception thrown at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\n    at java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\n    at abbot.util.NamedTimer$ProtectingTimerTask.isCanceled(NamedTimer.java:61)\n    at abbot.util.NamedTimer$ProtectingTimerTask.run(NamedTimer.java:48)\n    at java.base/java.util.TimerThread.mainLoop(Timer.java:566)\n    at java.base/java.util.TimerThread.run(Timer.java:516): java.lang.reflect.InaccessibleObjectException: Unable to make field int java.util.TimerTask.state accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @5099f48\n    (caught at abbot.util.NamedTimer$ProtectingTimerTask.isCanceled(NamedTimer.java:66))\nException in thread &quot;AWT-EventQueue-0&quot; abbot.util.EventDispatchExceptionHandler$DummyException jdk.internal.loader.ClassLoaders$AppClassLoader@579bb367\n    at abbot.util.EventDispatchExceptionHandler$1.run(EventDispatchExceptionHandler.java:93)\n    at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:771)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:722)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:716)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:741)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\n221117 21:54:01:461 abbot.util.EventDispatchExceptionHandler.install(EventDispatchExceptionHandler.java:115):\n    The handler for event dispatch thread exceptions could not be installed\nWARNING: A terminally deprecated method in java.lang.System has been called\nWARNING: System::setSecurityManager has been called by abbot.util.SystemState (file:/C:/Users/Jasmin/eclipse-workspace/SweetHome3D/libtest/abbot.jar)\nWARNING: Please consider reporting this to the maintainers of abbot.util.SystemState\nWARNING: System::setSecurityManager will be removed in a future release\n221117 21:54:04:372 abbot.util.EventDispatchExceptionHandler.install(EventDispatchExceptionHandler.java:74):\n    Can't install event dispatch exception handler\n221117 21:54:05:451 abbot.util.EventDispatchExceptionHandler.install(EventDispatchExceptionHandler.java:74):\n    Can't install event dispatch exception handler\n221117 21:54:06:376 abbot.util.EventDispatchExceptionHandler.install(EventDispatchExceptionHandler.java:74):\n    Can't install event dispatch exception handler\n221117 21:54:07:803 abbot.util.EventDispatchExceptionHandler.install(EventDispatchExceptionHandler.java:74):\n    Can't install event dispatch exception handler\n221117 21:54:18:832 Exception thrown at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\n    at java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\n    at abbot.util.NamedTimer$ProtectingTimerTask.isCanceled(NamedTimer.java:61)\n    at abbot.util.NamedTimer$ProtectingTimerTask.run(NamedTimer.java:48)\n    at java.base/java.util.TimerThread.mainLoop(Timer.java:566)\n    at java.base/java.util.TimerThread.run(Timer.java:516): java.lang.reflect.InaccessibleObjectException: Unable to make field int java.util.TimerTask.state accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @5099f48\n    (caught at abbot.util.NamedTimer$ProtectingTimerTask.isCanceled(NamedTimer.java:66))\n221117 21:54:24:849: Last message repeated 22 times\n221117 21:54:25:824 abbot.util.EventDispatchExceptionHandler.install(EventDispatchExceptionHandler.java:74):\n    Can't install event dispatch exception handler\n221117 21:54:26:569 abbot.util.EventDispatchExceptionHandler.install(EventDispatchExceptionHandler.java:74):\n    Can't install event dispatch exception handler\n221117 21:54:27:516 abbot.util.EventDispatchExceptionHandler.install(EventDispatchExceptionHandler.java:74):\n    Can't install event dispatch exception handler\n221117 21:54:28:114 abbot.util.EventDispatchExceptionHandler.install(EventDispatchExceptionHandler.java:74):\n    Can't install event dispatch exception handler\n221117 21:54:29:076 abbot.util.EventDispatchExceptionHandler.install(EventDispatchExceptionHandler.java:74):\n    Can't install event dispatch exception handler\n221117 21:54:31:324 abbot.util.EventDispatchExceptionHandler.install(EventDispatchExceptionHandler.java:74):\n    Can't install event dispatch exception handler\n221117 21:54:32:288 abbot.util.EventDispatchExceptionHandler.install(EventDispatchExceptionHandler.java:74):\n    Can't install event dispatch exception handler\nException in thread &quot;AWT-EventQueue-0&quot; javax.swing.undo.CannotUndoException\n    at java.desktop/javax.swing.undo.UndoManager.tryUndoOrRedo(UndoManager.java:468)\n    at java.desktop/javax.swing.undo.UndoManager.undo(UndoManager.java:416)\n    at com.eteks.sweethome3d.junit.PlanComponentTest$PlanTestFrame$3.actionPerformed(PlanComponentTest.java:515)\n    at java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972)\n    at java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2313)\n    at java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\n    at java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\n    at java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\n    at java.desktop/java.awt.Component.processMouseEvent(Component.java:6626)\n    at java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3389)\n    at java.desktop/java.awt.Component.processEvent(Component.java:6391)\n    at java.desktop/java.awt.Container.processEvent(Container.java:2266)\n    at java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5001)\n    at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\n    at java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948)\n    at java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4575)\n    at java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516)\n    at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2310)\n    at java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2780)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:722)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:716)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:746)\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:744)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:743)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\n221117 21:54:33:397 abbot.util.EventDispatchExceptionHandler.install(EventDispatchExceptionHandler.java:74):\n    Can't install event dispatch exception handler\n221117 21:54:35:550 Exception thrown at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\n    at java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\n    at abbot.util.NamedTimer$ProtectingTimerTask.isCanceled(NamedTimer.java:61)\n    at abbot.util.NamedTimer$ProtectingTimerTask.run(NamedTimer.java:48)\n    at java.base/java.util.TimerThread.mainLoop(Timer.java:566)\n    at java.base/java.util.TimerThread.run(Timer.java:516): java.lang.reflect.InaccessibleObjectException: Unable to make field int java.util.TimerTask.state accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @5099f48\n    (caught at abbot.util.NamedTimer$ProtectingTimerTask.isCanceled(NamedTimer.java:66))\n221117 21:54:35:815: Last message repeated 34 times\n221117 21:54:37:958 abbot.util.EventDispatchExceptionHandler.install(EventDispatchExceptionHandler.java:74):\n    Can't install event dispatch exception handler\n221117 21:54:40:777 abbot.util.EventDispatchExceptionHandler.install(EventDispatchExceptionHandler.java:74):\n    Can't install event dispatch exception handler\n221117 21:54:41:710 abbot.util.EventDispatchExceptionHandler.install(EventDispatchExceptionHandler.java:74):\n    Can't install event dispatch exception handler\n221117 21:54:43:070 Exception thrown at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\n    at java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\n    at abbot.util.NamedTimer$ProtectingTimerTask.isCanceled(NamedTimer.java:61)\n    at abbot.util.NamedTimer$ProtectingTimerTask.run(NamedTimer.java:48)\n    at java.base/java.util.TimerThread.mainLoop(Timer.java:566)\n    at java.base/java.util.TimerThread.run(Timer.java:516): java.lang.reflect.InaccessibleObjectException: Unable to make field int java.util.TimerTask.state accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @5099f48\n    (caught at abbot.util.NamedTimer$ProtectingTimerTask.isCanceled(NamedTimer.java:66))\n221117 21:54:44:300: Last message repeated 4 times\n221117 21:54:44:522 abbot.util.EventDispatchExceptionHandler.install(EventDispatchExceptionHandler.java:74):\n    Can't install event dispatch exception handler\n</code></pre>\n<p>I expected to see the code is running but that is not the case ! Can anyone tell me please ,how can i solve these Errors ?!What's the Problem ?</p>\n"},{"tags":["java","sql","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1640305311,"post_id":70468475,"comment_id":124567496,"body_markdown":"fine print: &quot;try changing dialect – SinisaT90  Oct 2 &#39;20 at 7:15&quot; &quot;actually, this was the issue. It turns out that Hibernate does not support all the dialects&quot;","body":"fine print: &quot;try changing dialect – SinisaT90  Oct 2 &#39;20 at 7:15&quot; &quot;actually, this was the issue. It turns out that Hibernate does not support all the dialects&quot;"},{"owner":{"account_id":9589070,"reputation":91,"user_id":7120670,"display_name":"MarcoA7"},"score":0,"creation_date":1640305675,"post_id":70468475,"comment_id":124567542,"body_markdown":"i did change it on sqlServerDialect, sqlServer2012Dialect, sqlServer2019Dialect and still no luck","body":"i did change it on sqlServerDialect, sqlServer2012Dialect, sqlServer2019Dialect and still no luck"}],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640343621,"creation_date":1640343621,"answer_id":70472174,"question_id":70468475,"body_markdown":"I think the cause of this problem is that JPA parameters are only allowed inside the `WHERE` clause of the query.\r\n\r\nYou can&#39;t use the parameter at any place of the created query.\r\n\r\nIn your case you use them in `FROM` part `FROM OPENROWSET(BULK :path, SINGLE_BLOB)`","title":"Spring boot and jpa query @P0","body":"<p>I think the cause of this problem is that JPA parameters are only allowed inside the <code>WHERE</code> clause of the query.</p>\n<p>You can't use the parameter at any place of the created query.</p>\n<p>In your case you use them in <code>FROM</code> part <code>FROM OPENROWSET(BULK :path, SINGLE_BLOB)</code></p>\n"}],"owner":{"account_id":9589070,"reputation":91,"user_id":7120670,"display_name":"MarcoA7"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70472174,"answer_count":1,"score":0,"last_activity_date":1668720517,"creation_date":1640304450,"question_id":70468475,"body_markdown":"I&#39;m trying to run the following query\r\n\r\n    @Query(value = &quot;INSERT INTO controllordinitest.dbo.Records(FSId, FSBlob) SELECT NEWID(), BulkColumn FROM OPENROWSET(BULK :path, SINGLE_BLOB) as f;&quot;, nativeQuery= true)\r\n\t@Modifying\r\n\tvoid saveFile(@Param(value=&quot;path&quot;) String path);\r\n\r\nbut I keep getting the syntax error @P0, I also tried not to use parameters but &quot;?&quot; and still not working, my guess is that the string is not placed under &#39;&#39; and it ends up just next to bulk, but as soon as I place the single quote I get the error that there is no file in :path.\r\n\r\nI also tried to wrap the ? with parenthesis but no luck... even tried to change the hibernate dialog but no luck again...\r\n\r\nIt could be a possible duplicate of [this][1] but their solutions just don&#39;t work\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/64159974/spring-boot-jpa-nativequery-incorrect-syntax-near-p0","title":"Spring boot and jpa query @P0","body":"<p>I'm trying to run the following query</p>\n<pre><code>@Query(value = &quot;INSERT INTO controllordinitest.dbo.Records(FSId, FSBlob) SELECT NEWID(), BulkColumn FROM OPENROWSET(BULK :path, SINGLE_BLOB) as f;&quot;, nativeQuery= true)\n@Modifying\nvoid saveFile(@Param(value=&quot;path&quot;) String path);\n</code></pre>\n<p>but I keep getting the syntax error @P0, I also tried not to use parameters but &quot;?&quot; and still not working, my guess is that the string is not placed under '' and it ends up just next to bulk, but as soon as I place the single quote I get the error that there is no file in :path.</p>\n<p>I also tried to wrap the ? with parenthesis but no luck... even tried to change the hibernate dialog but no luck again...</p>\n<p>It could be a possible duplicate of <a href=\"https://stackoverflow.com/questions/64159974/spring-boot-jpa-nativequery-incorrect-syntax-near-p0\">this</a> but their solutions just don't work</p>\n"},{"tags":["java","service","media-player"],"owner":{"account_id":26524509,"reputation":25,"user_id":20159924,"display_name":"Oganes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668720186,"creation_date":1668720186,"question_id":74482256,"body_markdown":"    public class MyService extends Service {\r\n       @Override\r\n    public IBinder onBind(Intent intent) {\r\n        // TODO: Return the communication channel to the service.\r\n        throw new UnsupportedOperationException(&quot;Not yet implemented&quot;);\r\n\r\n    }\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        musicSound = MediaPlayer.create(this, R.raw.music);\r\n        musicSound.setLooping(true);\r\n\r\n    }\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        musicSound.start();\r\n        return START_STICKY;\r\n    }\r\n    @Override\r\n    public void onDestroy() {\r\n        musicSound.stop();\r\n\r\n    }\r\n\r\n\r\nHi all. I am a newbie, just learning. I need the app to turn off the music when minimized. The options via onPause and onStop (in the activation) are not suitable because they are triggered when switching between activations within the application. I will be grateful if you can write the code. ","title":"MediaPlayer in Service","body":"<pre><code>public class MyService extends Service {\n   @Override\npublic IBinder onBind(Intent intent) {\n    // TODO: Return the communication channel to the service.\n    throw new UnsupportedOperationException(&quot;Not yet implemented&quot;);\n\n}\n@Override\npublic void onCreate() {\n    super.onCreate();\n    musicSound = MediaPlayer.create(this, R.raw.music);\n    musicSound.setLooping(true);\n\n}\n@Override\npublic int onStartCommand(Intent intent, int flags, int startId) {\n    musicSound.start();\n    return START_STICKY;\n}\n@Override\npublic void onDestroy() {\n    musicSound.stop();\n\n}\n</code></pre>\n<p>Hi all. I am a newbie, just learning. I need the app to turn off the music when minimized. The options via onPause and onStop (in the activation) are not suitable because they are triggered when switching between activations within the application. I will be grateful if you can write the code.</p>\n"},{"tags":["java","hash","url-shortener"],"comments":[{"owner":{"account_id":298145,"reputation":56950,"user_id":604015,"accept_rate":84,"display_name":"Marco"},"score":1,"creation_date":1314902986,"post_id":7274969,"comment_id":8758372,"body_markdown":"I think you gonna find in trouble hashing filenames: hashes (IMHO) can produce duplicate entries...","body":"I think you gonna find in trouble hashing filenames: hashes (IMHO) can produce duplicate entries..."},{"owner":{"account_id":398383,"reputation":12130,"user_id":763029,"accept_rate":88,"display_name":"Caffeinated"},"score":0,"creation_date":1314903023,"post_id":7274969,"comment_id":8758384,"body_markdown":"When you say &quot;long names are eating up resources well before I run out of actual disk space&quot; , I&#39;m feeling slightly skeptical. Not sure why though. But isn&#39;t storage pretty cheap anyway?","body":"When you say &quot;long names are eating up resources well before I run out of actual disk space&quot; , I&#39;m feeling slightly skeptical. Not sure why though. But isn&#39;t storage pretty cheap anyway?"},{"owner":{"account_id":557666,"reputation":3595,"user_id":920200,"accept_rate":86,"display_name":"poplitea"},"score":1,"creation_date":1314903119,"post_id":7274969,"comment_id":8758417,"body_markdown":"@Marco, Agreed, hash can produce duplicates (&quot;collisions&quot;). You should make some collision-handler that tries a new hash if a collision occurs...","body":"@Marco, Agreed, hash can produce duplicates (&quot;collisions&quot;). You should make some collision-handler that tries a new hash if a collision occurs..."},{"owner":{"display_name":"user166390"},"score":0,"creation_date":1314903214,"post_id":7274969,"comment_id":8758447,"body_markdown":"Hashes are not guaranteed to be unique -- and some hashes (e.g. md5 or sha1) get their &quot;uniqueness&quot; simply based on *how large a space they encompass*. But then they might not be shorter at all ;-)","body":"Hashes are not guaranteed to be unique -- and some hashes (e.g. md5 or sha1) get their &quot;uniqueness&quot; simply based on <i>how large a space they encompass</i>. But then they might not be shorter at all ;-)"},{"owner":{"account_id":218120,"reputation":52202,"user_id":474283,"display_name":"Cameron Skinner"},"score":0,"creation_date":1314903323,"post_id":7274969,"comment_id":8758487,"body_markdown":"@Marco, poplitea: Hashes *can* produce collisions but the probability is so small as to be completely ignorable. Even if you&#39;re using MD5 (output size 128 bits) then with a billion entries the chance of a collision is still less than 10^-18.","body":"@Marco, poplitea: Hashes <i>can</i> produce collisions but the probability is so small as to be completely ignorable. Even if you&#39;re using MD5 (output size 128 bits) then with a billion entries the chance of a collision is still less than 10^-18."},{"owner":{"account_id":56889,"reputation":526,"user_id":170384,"accept_rate":100,"display_name":"lctr30"},"score":0,"creation_date":1314903339,"post_id":7274969,"comment_id":8758494,"body_markdown":"check this http://stackoverflow.com/questions/742013/how-to-code-a-url-shortener","body":"check this <a href=\"http://stackoverflow.com/questions/742013/how-to-code-a-url-shortener\" title=\"how to code a url shortener\">stackoverflow.com/questions/742013/how-to-code-a-url-shorten&zwnj;&#8203;er</a>"},{"owner":{"account_id":298145,"reputation":56950,"user_id":604015,"accept_rate":84,"display_name":"Marco"},"score":0,"creation_date":1314903607,"post_id":7274969,"comment_id":8758561,"body_markdown":"@Cameron, you&#39;re right; but I couldn&#39;t sleep with even one possibility I can have a duplicate!! :-) I&#39;m joking, anyway there are so easy and fast solutions that having a collision risk is not a good idea ;) Look at my answer... simple solution without sweat","body":"@Cameron, you&#39;re right; but I couldn&#39;t sleep with even one possibility I can have a duplicate!! :-) I&#39;m joking, anyway there are so easy and fast solutions that having a collision risk is not a good idea ;) Look at my answer... simple solution without sweat"},{"owner":{"account_id":218120,"reputation":52202,"user_id":474283,"display_name":"Cameron Skinner"},"score":0,"creation_date":1314903803,"post_id":7274969,"comment_id":8758617,"body_markdown":"@Marco: Well, the OPs concern is about disk usage. Storing the full path eats up space and isn&#39;t going to solve the disk usage problem.","body":"@Marco: Well, the OPs concern is about disk usage. Storing the full path eats up space and isn&#39;t going to solve the disk usage problem."},{"owner":{"account_id":298145,"reputation":56950,"user_id":604015,"accept_rate":84,"display_name":"Marco"},"score":0,"creation_date":1314904040,"post_id":7274969,"comment_id":8758692,"body_markdown":"@Cameron, I think OP concerns about the fact that FAT32 cannot have too many files in single dir... If this is true hashing filenames is not a solution. If he&#39;s worried about &quot;long&quot; filenames, my solution is probably shorter that hashing... Am I wrong? :) I think the problem is FAT occupation, not disk occupation...","body":"@Cameron, I think OP concerns about the fact that FAT32 cannot have too many files in single dir... If this is true hashing filenames is not a solution. If he&#39;s worried about &quot;long&quot; filenames, my solution is probably shorter that hashing... Am I wrong? :) I think the problem is FAT occupation, not disk occupation..."},{"owner":{"account_id":218120,"reputation":52202,"user_id":474283,"display_name":"Cameron Skinner"},"score":0,"creation_date":1314904316,"post_id":7274969,"comment_id":8758789,"body_markdown":"@Marco: You can store files in prefix directories to reduce the number of files in a single directory. That&#39;s a pretty common approach - take a look at the way Git, for example, stores its blobs. It uses 2-character prefix directories.","body":"@Marco: You can store files in prefix directories to reduce the number of files in a single directory. That&#39;s a pretty common approach - take a look at the way Git, for example, stores its blobs. It uses 2-character prefix directories."},{"owner":{"account_id":298145,"reputation":56950,"user_id":604015,"accept_rate":84,"display_name":"Marco"},"score":0,"creation_date":1314904521,"post_id":7274969,"comment_id":8758850,"body_markdown":"@Cameron: you&#39;re right. The point is: using hashes is risky (very little risk, but risky) so OP could want to find another solution... we proposed some, everyone good. He has to understand what he really needs I think...","body":"@Cameron: you&#39;re right. The point is: using hashes is risky (very little risk, but risky) so OP could want to find another solution... we proposed some, everyone good. He has to understand what he really needs I think..."}],"answers":[{"tags":[],"owner":{"account_id":85794,"reputation":90753,"user_id":238978,"accept_rate":50,"display_name":"Emil Vikstr&#246;m"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1314903144,"creation_date":1314903144,"answer_id":7275018,"question_id":7274969,"body_markdown":"There&#39;s no (shortening) hash which can guarantee different hashes for each input. It&#39;s simply not possible.\r\n\r\nThe way I usually do it is by saving the original name at the beginning (e.g., first line) of the cache file. So to find a file in the cache you do it like this:\r\n\r\n* Hash the URL\r\n* Find the file corresponding to that hash\r\n* Check the first line. If it&#39;s the same as the full URL:\r\n* The rest of the file is from line two and forward\r\n\r\nYou can also consider saving the URL-&gt;file mapping in a database.","title":"Shortening long urls with a hash?","body":"<p>There's no (shortening) hash which can guarantee different hashes for each input. It's simply not possible.</p>\n\n<p>The way I usually do it is by saving the original name at the beginning (e.g., first line) of the cache file. So to find a file in the cache you do it like this:</p>\n\n<ul>\n<li>Hash the URL</li>\n<li>Find the file corresponding to that hash</li>\n<li>Check the first line. If it's the same as the full URL:</li>\n<li>The rest of the file is from line two and forward</li>\n</ul>\n\n<p>You can also consider saving the URL->file mapping in a database.</p>\n"},{"tags":[],"owner":{"account_id":120551,"reputation":44739,"user_id":313063,"accept_rate":84,"display_name":"Andr&#233; Caron"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1314903148,"creation_date":1314903148,"answer_id":7275022,"question_id":7274969,"body_markdown":"Currently, the [SHA-1][1] algorithm is recommended.  There are no known ways to intentionally provoke collisions for this algorithm, so you should be safe.  Provoking collisions with two pieces of data that have common structure (such as the `http://` prefix) is even harder.  If you save this stuff after you get a HTTP 200 response, then the URL obviously fetched something, so getting two distinct, valid URLs with the same SHA-1 hash really should not be a concern.\r\n\r\nIf it&#39;s of any re-assurance [Git][2] uses it to identify all objects, commits and folders in the source code repository.  I&#39;ve yet to hear of someone with a collision in the object store.\r\n\r\n[1]: http://en.wikipedia.org/wiki/SHA-1\r\n[2]: http://git-scm.com/","title":"Shortening long urls with a hash?","body":"<p>Currently, the <a href=\"http://en.wikipedia.org/wiki/SHA-1\" rel=\"nofollow\">SHA-1</a> algorithm is recommended.  There are no known ways to intentionally provoke collisions for this algorithm, so you should be safe.  Provoking collisions with two pieces of data that have common structure (such as the <code>http://</code> prefix) is even harder.  If you save this stuff after you get a HTTP 200 response, then the URL obviously fetched something, so getting two distinct, valid URLs with the same SHA-1 hash really should not be a concern.</p>\n\n<p>If it's of any re-assurance <a href=\"http://git-scm.com/\" rel=\"nofollow\">Git</a> uses it to identify all objects, commits and folders in the source code repository.  I've yet to hear of someone with a collision in the object store.</p>\n"},{"tags":[],"owner":{"account_id":298145,"reputation":56950,"user_id":604015,"accept_rate":84,"display_name":"Marco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1314903166,"creation_date":1314903166,"answer_id":7275025,"question_id":7274969,"body_markdown":"Look at my comment.  \r\nOne possible solution (there are a lot) is creating a local file (SQLite? XML? TXT?) in which you store a pair (file_id - file_name) so you can save your downloaded files with their unique ID as filename.  \r\nJust an idea, not the best...","title":"Shortening long urls with a hash?","body":"<p>Look at my comment.<br>\nOne possible solution (there are a lot) is creating a local file (SQLite? XML? TXT?) in which you store a pair (file_id - file_name) so you can save your downloaded files with their unique ID as filename.<br>\nJust an idea, not the best...</p>\n"},{"tags":[],"owner":{"account_id":218120,"reputation":52202,"user_id":474283,"display_name":"Cameron Skinner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1314904154,"creation_date":1314903189,"answer_id":7275028,"question_id":7274969,"body_markdown":"Hashes are not *guaranteed* to be unique, but the chance of a collision is vanishingly small.\r\n\r\nIf your hash is, say, 128 bits then the chance of a collision for any pair of entries is 1 in 2^128. By the birthday paradox, if you had 10^18 entries in your table then the chance of a collision is only 1%, so you don&#39;t really need to worry about it. If you are extra paranoid then increase the size of the hash by using SHA256 or SHA512.\r\n\r\nObviously you need to make sure that the hashed representation actually takes up less space than the original filename. Base-64 encoded strings represent 6 bits per character so you can do the math to find out if it&#39;s even worth doing the hash in the first place.\r\n\r\nIf your file system barfs because the names are too long then you can create prefix subdirectories for the actual storage. For example, if a file maps the the hash ABCDE then you can store it as `/path/to/A/B/CDE`, or maybe `/path/to/ABC/DE` depending on what works best for your file system.\r\n\r\nGit is a good example of this technique in practice.","title":"Shortening long urls with a hash?","body":"<p>Hashes are not <em>guaranteed</em> to be unique, but the chance of a collision is vanishingly small.</p>\n\n<p>If your hash is, say, 128 bits then the chance of a collision for any pair of entries is 1 in 2^128. By the birthday paradox, if you had 10^18 entries in your table then the chance of a collision is only 1%, so you don't really need to worry about it. If you are extra paranoid then increase the size of the hash by using SHA256 or SHA512.</p>\n\n<p>Obviously you need to make sure that the hashed representation actually takes up less space than the original filename. Base-64 encoded strings represent 6 bits per character so you can do the math to find out if it's even worth doing the hash in the first place.</p>\n\n<p>If your file system barfs because the names are too long then you can create prefix subdirectories for the actual storage. For example, if a file maps the the hash ABCDE then you can store it as <code>/path/to/A/B/CDE</code>, or maybe <code>/path/to/ABC/DE</code> depending on what works best for your file system.</p>\n\n<p>Git is a good example of this technique in practice.</p>\n"},{"tags":[],"owner":{"account_id":378721,"reputation":47508,"user_id":731620,"accept_rate":80,"display_name":"ratchet freak"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1314903235,"creation_date":1314903235,"answer_id":7275034,"question_id":7274969,"body_markdown":"what you can do is save the files by an index and use a index file to find the location of the actual file\r\n\r\nin the directory you have:\r\n\r\n    index.txt\r\n    file1\r\n    file2\r\n    ...\r\n    etc.\r\n\r\nand in index.txt you use some datastructure to find the filenames efficiently (or replace with a DB)","title":"Shortening long urls with a hash?","body":"<p>what you can do is save the files by an index and use a index file to find the location of the actual file</p>\n\n<p>in the directory you have:</p>\n\n<pre><code>index.txt\nfile1\nfile2\n...\netc.\n</code></pre>\n\n<p>and in index.txt you use some datastructure to find the filenames efficiently (or replace with a DB)</p>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1314903399,"creation_date":1314903399,"answer_id":7275076,"question_id":7274969,"body_markdown":"&gt; But I&#39;m not sure if the hashes are guaranteed to be unique for two different strings.\r\n\r\nThey very much aren&#39;t (and cannot be, due to the [pigeonhole principle][1]). But if the hash is sufficiently long (at least 64 bit) and well-distributed (ideally a cryptographic hash), then the likelihood of a collision becomes so small that it&#39;s not worth worrying about.\r\n\r\nAs a rough guideline, collisions will become likely once the number of files approaches the square root of the number of possible different hashes ([birthday paradox][2]). So for a 64 bit hash (10 character filenames), you have about a 50% chance of one single collision if you have 4 billion files.\r\n\r\nYou&#39;ll have to decide whether that is an acceptable risk. You can reduce the chance of collision by making the hash longer, but of course at some point that will mean the opposite of what you want.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Pigeonhole_principle\r\n  [2]: http://en.wikipedia.org/wiki/Birthday_paradox","title":"Shortening long urls with a hash?","body":"<blockquote>\n  <p>But I'm not sure if the hashes are guaranteed to be unique for two different strings.</p>\n</blockquote>\n\n<p>They very much aren't (and cannot be, due to the <a href=\"http://en.wikipedia.org/wiki/Pigeonhole_principle\" rel=\"nofollow\">pigeonhole principle</a>). But if the hash is sufficiently long (at least 64 bit) and well-distributed (ideally a cryptographic hash), then the likelihood of a collision becomes so small that it's not worth worrying about.</p>\n\n<p>As a rough guideline, collisions will become likely once the number of files approaches the square root of the number of possible different hashes (<a href=\"http://en.wikipedia.org/wiki/Birthday_paradox\" rel=\"nofollow\">birthday paradox</a>). So for a 64 bit hash (10 character filenames), you have about a 50% chance of one single collision if you have 4 billion files.</p>\n\n<p>You'll have to decide whether that is an acceptable risk. You can reduce the chance of collision by making the hash longer, but of course at some point that will mean the opposite of what you want.</p>\n"},{"tags":[],"owner":{"account_id":76345,"reputation":2214,"user_id":218618,"display_name":"Andre Rodrigues"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1314908501,"creation_date":1314908501,"answer_id":7276046,"question_id":7274969,"body_markdown":"You could generate an [UUID][1] for each URL and use it as the file name.\r\n\r\nUUIDs are unique (or &quot;practically unique&quot;) and are 36 characters long, so I guess the file name wouldn&#39;t be a problem.\r\n\r\nAs of version 5, the JDK ships with a class to generate UUIDs (java.util.UUID). You could use randomly generate UUIDs if there&#39;s a way to associate them with the URLs, or you could use name based UUIDs. Name based UUIDs are always the same, so the following is always true:\r\n\r\n    String url = ...\r\n    UUID urlUuid = UUID.nameUUIDFromBytes(url.getBytes);\r\n    assertTrue(urlUuid.equals(UUID.nameUUIDFromBytes(url.getBytes)));\r\n\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Universally_unique_identifier","title":"Shortening long urls with a hash?","body":"<p>You could generate an <a href=\"http://en.wikipedia.org/wiki/Universally_unique_identifier\" rel=\"noreferrer\">UUID</a> for each URL and use it as the file name.</p>\n\n<p>UUIDs are unique (or \"practically unique\") and are 36 characters long, so I guess the file name wouldn't be a problem.</p>\n\n<p>As of version 5, the JDK ships with a class to generate UUIDs (java.util.UUID). You could use randomly generate UUIDs if there's a way to associate them with the URLs, or you could use name based UUIDs. Name based UUIDs are always the same, so the following is always true:</p>\n\n<pre><code>String url = ...\nUUID urlUuid = UUID.nameUUIDFromBytes(url.getBytes);\nassertTrue(urlUuid.equals(UUID.nameUUIDFromBytes(url.getBytes)));\n</code></pre>\n"}],"owner":{"account_id":110195,"reputation":38771,"user_id":291701,"accept_rate":66,"display_name":"user291701"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5418,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":7,"score":2,"last_activity_date":1668719537,"creation_date":1314902832,"question_id":7274969,"body_markdown":"I&#39;ve got a file cache, the files being downloaded from different urls. I&#39;d like to save each file by the name of their url. These names can be quite long though, and I&#39;m on a device using a FAT32 file system - so the long names are eating up resources well before I run out of actual disk space.\r\n\r\nI&#39;m looking for a way to shorten the filenames, have gotten suggestions to hash the strings. But I&#39;m not sure if the hashes are guaranteed to be unique for two different strings. It would be bad if I accidentally fetch the wrong image if two hashed urls come up with the same hash value.","title":"Shortening long urls with a hash?","body":"<p>I've got a file cache, the files being downloaded from different urls. I'd like to save each file by the name of their url. These names can be quite long though, and I'm on a device using a FAT32 file system - so the long names are eating up resources well before I run out of actual disk space.</p>\n<p>I'm looking for a way to shorten the filenames, have gotten suggestions to hash the strings. But I'm not sure if the hashes are guaranteed to be unique for two different strings. It would be bad if I accidentally fetch the wrong image if two hashed urls come up with the same hash value.</p>\n"},{"tags":["java","sql","database","netbeans","sql-update"],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1386594847,"creation_date":1386594847,"answer_id":20471566,"question_id":20471489,"body_markdown":"    int updateCount = pst.executeUpdate();\r\n\r\nInstead of executeQuery.","title":"Updating Values Netbeans","body":"<pre><code>int updateCount = pst.executeUpdate();\n</code></pre>\n\n<p>Instead of executeQuery.</p>\n"},{"tags":[],"owner":{"account_id":6776328,"reputation":1,"user_id":5217983,"display_name":"KUMAR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439362433,"creation_date":1439362125,"answer_id":31957894,"question_id":20471489,"body_markdown":"Update query:\r\n\r\n    st.executeUpdate(&quot;update reservation set busname=&#39;&quot;+jTextField10.getText()+&quot;&#39;,busno=&#39;&quot;+jTextField9.getText()+&quot;&#39;,cusname=&#39;&quot;+jTextField8.getText()+&quot;&#39;,noofpass=&#39;&quot;+jTextField7.getText()+&quot;&#39;,amount=&#39;&quot;+jTextField6.getText()+&quot;&#39; where cusname=&#39;&quot;+jTextField8.getText()+&quot;&#39; &quot;);\r\n             ","title":"Updating Values Netbeans","body":"<p>Update query:</p>\n\n<pre><code>st.executeUpdate(\"update reservation set busname='\"+jTextField10.getText()+\"',busno='\"+jTextField9.getText()+\"',cusname='\"+jTextField8.getText()+\"',noofpass='\"+jTextField7.getText()+\"',amount='\"+jTextField6.getText()+\"' where cusname='\"+jTextField8.getText()+\"' \");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26370740,"reputation":1,"user_id":20025468,"display_name":"Tsaki Cee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668718603,"creation_date":1668718474,"answer_id":74481982,"question_id":20471489,"body_markdown":"You can also try:\r\n```\r\nString strQuery = (&quot;update visitor set name=&#39;&quot;+jTextField10.getText()+&quot;&#39;,bus_no=&#39;&quot;+jTextField9.getText()+&quot;&#39;,cus_name=&#39;&quot;+jTextField8.getText()+&quot;&#39;,Date=&#39;&quot;+jTextField7.getText()+&quot;&#39;,amount=&#39;&quot;+jTextField6.getText()+&quot;&#39; where _ID=&#39;&quot;+jTextField8.getText()+&quot;&#39; &quot;);\r\n```","title":"Updating Values Netbeans","body":"<p>You can also try:</p>\n<pre><code>String strQuery = (&quot;update visitor set name='&quot;+jTextField10.getText()+&quot;',bus_no='&quot;+jTextField9.getText()+&quot;',cus_name='&quot;+jTextField8.getText()+&quot;',Date='&quot;+jTextField7.getText()+&quot;',amount='&quot;+jTextField6.getText()+&quot;' where _ID='&quot;+jTextField8.getText()+&quot;' &quot;);\n</code></pre>\n"}],"owner":{"display_name":"user2146545"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11461,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1668718603,"creation_date":1386594611,"question_id":20471489,"body_markdown":" I am trying to Update my data from my netbeans to sqlite. there is no problem with the query but when I run the program a message box will appear &quot;java.sql.SQLException:query does not return results&quot;. What seems to be the problem?   \r\n\r\n     try{\r\n            \r\n       String value1=txtId.getText();\r\n       String value2=txtFirst.getText();\r\n       String value3=txtLast.getText();\r\n       String value4=txtUser.getText();\r\n       String value5=txtPass.getText();\r\n       \r\n       \r\n       String sql=&quot;Update account set id=&#39;&quot;+value1+&quot;&#39;, fname=&#39;&quot;+value2+&quot;&#39;, lname=&#39;&quot;+value3+&quot;&#39;,username=&#39;&quot;+value4+&quot;&#39;, password=&#39;&quot;+value5+&quot;&#39; where id=&#39;&quot;+value1+&quot;&#39; &quot;;\r\n       \r\n       pst=conn.prepareStatement(sql);\r\n       \r\n       rs=pst.executeQuery();\r\n       JOptionPane.showMessageDialog(null,&quot;Data Updated&quot;);  \r\n     }\r\n     \r\n      catch(SQLException e){\r\n        JOptionPane.showMessageDialog(null,e);\r\n    }","title":"Updating Values Netbeans","body":"<p>I am trying to Update my data from my netbeans to sqlite. there is no problem with the query but when I run the program a message box will appear \"java.sql.SQLException:query does not return results\". What seems to be the problem?   </p>\n\n<pre><code> try{\n\n   String value1=txtId.getText();\n   String value2=txtFirst.getText();\n   String value3=txtLast.getText();\n   String value4=txtUser.getText();\n   String value5=txtPass.getText();\n\n\n   String sql=\"Update account set id='\"+value1+\"', fname='\"+value2+\"', lname='\"+value3+\"',username='\"+value4+\"', password='\"+value5+\"' where id='\"+value1+\"' \";\n\n   pst=conn.prepareStatement(sql);\n\n   rs=pst.executeQuery();\n   JOptionPane.showMessageDialog(null,\"Data Updated\");  \n }\n\n  catch(SQLException e){\n    JOptionPane.showMessageDialog(null,e);\n}\n</code></pre>\n"},{"tags":["java","apache-kafka","apache-kafka-streams","spring-cloud-stream"],"comments":[{"owner":{"account_id":4282200,"reputation":1648,"user_id":4203773,"display_name":"Paweł Szymczyk"},"score":2,"creation_date":1668714363,"post_id":74477837,"comment_id":131479700,"body_markdown":"Can you add to the question some example records you are sending to both topics?","body":"Can you add to the question some example records you are sending to both topics?"},{"owner":{"account_id":1398309,"reputation":423,"user_id":1327621,"accept_rate":35,"display_name":"Emil"},"score":0,"creation_date":1668716523,"post_id":74477837,"comment_id":131480439,"body_markdown":"@PawełSzymczyk I did, does make sense? let me know if you need more information.","body":"@PawełSzymczyk I did, does make sense? let me know if you need more information."},{"owner":{"account_id":4282200,"reputation":1648,"user_id":4203773,"display_name":"Paweł Szymczyk"},"score":1,"creation_date":1668717072,"post_id":74477837,"comment_id":131480609,"body_markdown":"Please specify messages in format: key: xyz, value: qwe. Join is made by messages key, so if you not specify the same key, join will not be executed.","body":"Please specify messages in format: key: xyz, value: qwe. Join is made by messages key, so if you not specify the same key, join will not be executed."},{"owner":{"account_id":1398309,"reputation":423,"user_id":1327621,"accept_rate":35,"display_name":"Emil"},"score":0,"creation_date":1668718691,"post_id":74477837,"comment_id":131481119,"body_markdown":"@PawełSzymczyk I&#39;m using spring boot. so for sending message I use kafkaTemplate. see updated. same for topic-b as well.","body":"@PawełSzymczyk I&#39;m using spring boot. so for sending message I use kafkaTemplate. see updated. same for topic-b as well."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1668730496,"post_id":74477837,"comment_id":131484059,"body_markdown":"unrelated: your data is just a string, not JSON, so you should use Serdes.String rather than wordSerde","body":"unrelated: your data is just a string, not JSON, so you should use Serdes.String rather than wordSerde"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1668730662,"post_id":74477837,"comment_id":131484090,"body_markdown":"Are you sending the data within the same 10 seconds? If not, make your window larger. If you dont want a time window, then make topic-a into a KTable, then join topic-b against that...","body":"Are you sending the data within the same 10 seconds? If not, make your window larger. If you dont want a time window, then make topic-a into a KTable, then join topic-b against that..."},{"owner":{"account_id":4282200,"reputation":1648,"user_id":4203773,"display_name":"Paweł Szymczyk"},"score":1,"creation_date":1668778975,"post_id":74477837,"comment_id":131495369,"body_markdown":"I&#39;ve just copied the code and everything works as expected. I&#39;ve changed two things: window time to ten minutes, and value serde to Serdes.String()","body":"I&#39;ve just copied the code and everything works as expected. I&#39;ve changed two things: window time to ten minutes, and value serde to Serdes.String()"},{"owner":{"account_id":1398309,"reputation":423,"user_id":1327621,"accept_rate":35,"display_name":"Emil"},"score":0,"creation_date":1668816098,"post_id":74477837,"comment_id":131505726,"body_markdown":"@PawełSzymczyk Yes, last night tried again and it was ok. :( I&#39;m sorry for silly question.","body":"@PawełSzymczyk Yes, last night tried again and it was ok. :( I&#39;m sorry for silly question."}],"owner":{"account_id":1398309,"reputation":423,"user_id":1327621,"accept_rate":35,"display_name":"Emil"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668718575,"creation_date":1668698140,"question_id":74477837,"body_markdown":"I am trying to join two streams in Kafka like following code. \r\n\r\n      \r\n    @Bean\r\n    public KTable&lt;String, String&gt; stream(StreamsBuilder builder) {\r\n                KeyValueBytesStoreSupplier store =\r\n                Stores.persistentKeyValueStore(&quot;words&quot;);\r\n        JsonSerde&lt;String&gt; wordSerde = new JsonSerde&lt;&gt;(String.class);\r\n        KStream&lt;String, String&gt; stream = builder\r\n                .stream(&quot;topic-a&quot;, Consumed.with(Serdes.String(), wordSerde));\r\n\r\n        return stream.join(\r\n                        builder.stream(&quot;topic-b&quot;),\r\n                        (w1, w2) -&gt; w1+w2,\r\n                        JoinWindows.of(Duration.ofSeconds(10)),\r\n                        StreamJoined.with(Serdes.String(), wordSerde, wordSerde))\r\n                .toTable(Materialized.&lt;String, String&gt;as(store)\r\n                .withKeySerde(Serdes.String())\r\n                .withValueSerde(wordSerde));\r\n\r\n    }\r\n\r\nbut when I&#39;m trying to read from `KeyValueBytesStoreSupplier` it is just only reading from `topic-a`. \r\n\r\nupdated: \r\nI published some messages to both topics. \r\nfor example in `topic-a` I sent *Hi* message and same message in `topic-b` what thing that I expect is merging two words together. *HiHi*\r\n\r\n    @PostMapping(&quot;publish/{word}&quot;)\r\n    fun publishEvent2(@PathVariable(value = &quot;word&quot;) event: String){\r\n       kafkaTemplate2.send(&quot;topic-a&quot;, event,event)\r\n    }\r\nDid I miss somethings?\r\n","title":"How to join two streams in kafka?","body":"<p>I am trying to join two streams in Kafka like following code.</p>\n<pre><code>@Bean\npublic KTable&lt;String, String&gt; stream(StreamsBuilder builder) {\n            KeyValueBytesStoreSupplier store =\n            Stores.persistentKeyValueStore(&quot;words&quot;);\n    JsonSerde&lt;String&gt; wordSerde = new JsonSerde&lt;&gt;(String.class);\n    KStream&lt;String, String&gt; stream = builder\n            .stream(&quot;topic-a&quot;, Consumed.with(Serdes.String(), wordSerde));\n\n    return stream.join(\n                    builder.stream(&quot;topic-b&quot;),\n                    (w1, w2) -&gt; w1+w2,\n                    JoinWindows.of(Duration.ofSeconds(10)),\n                    StreamJoined.with(Serdes.String(), wordSerde, wordSerde))\n            .toTable(Materialized.&lt;String, String&gt;as(store)\n            .withKeySerde(Serdes.String())\n            .withValueSerde(wordSerde));\n\n}\n</code></pre>\n<p>but when I'm trying to read from <code>KeyValueBytesStoreSupplier</code> it is just only reading from <code>topic-a</code>.</p>\n<p>updated:\nI published some messages to both topics.\nfor example in <code>topic-a</code> I sent <em>Hi</em> message and same message in <code>topic-b</code> what thing that I expect is merging two words together. <em>HiHi</em></p>\n<pre><code>@PostMapping(&quot;publish/{word}&quot;)\nfun publishEvent2(@PathVariable(value = &quot;word&quot;) event: String){\n   kafkaTemplate2.send(&quot;topic-a&quot;, event,event)\n}\n</code></pre>\n<p>Did I miss somethings?</p>\n"},{"tags":["java","google-compute-engine","apt-get"],"comments":[{"owner":{"account_id":472642,"reputation":6136,"user_id":881229,"accept_rate":100,"display_name":"Kara"},"score":2,"creation_date":1529420963,"post_id":50919305,"comment_id":88862158,"body_markdown":"https://unix.stackexchange.com/questions/326377/install-jdk-8-on-debian\nhttps://serverfault.com/questions/830636/cannot-install-openjdk-8-jre-headless-on-debian-jessie/","body":"<a href=\"https://unix.stackexchange.com/questions/326377/install-jdk-8-on-debian\" title=\"install jdk 8 on debian\">unix.stackexchange.com/questions/326377/install-jdk-8-on-deb&zwnj;&#8203;ian</a> <a href=\"https://serverfault.com/questions/830636/cannot-install-openjdk-8-jre-headless-on-debian-jessie/\" title=\"cannot install openjdk 8 jre headless on debian jessie\">serverfault.com/questions/830636/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5091902,"reputation":1271,"user_id":4084697,"display_name":"Eric Green"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1531339645,"creation_date":1531336484,"answer_id":51292719,"question_id":50919305,"body_markdown":"I had a similar problem attempting to install the Java 8 JDK on one of my Google Compute Engine instances and found a solution here (but read about modifications below first):\r\n\r\nhttp://cgrant.io/tutorials/gcp/compute/gce/how-to-deploy-a-java-application-to-google-compute-engine/\r\n\r\nIn the &quot;Deploy scripts&quot; section, inside the code block shown for install.sh, I pulled out the applicable lines and ran them with a few modifications as follows:\r\n \r\n- I ran all commands with sudo, but it would probably be more appropriate to do as he does and &quot;su -&quot; (change to root) before you run any of the commands.\r\n- Changed owner and group to my own as I got permissions errors despite running all commands with sudo (you won&#39;t need to do this if you run commands as root instead of sudo-ing everything as yourself).\r\n- Ran &quot;apt-get install dirmngr&quot; before running apt-key as I got an\r\n   error that the command did not exist.\r\n- Added the --allow-unauthenticated flag to the\r\n   &quot;apt-get install openjdk-8-jdk -y&quot; command.\r\n\r\n------\r\nHere are the actual commands I was able to use to successfully install the Java 8 Open JDK:\r\n\r\n    # Grant yourself permission to the necessary directory\r\n    sudo chown $YOUR_USER_NAME /etc/apt/sources.list.d \r\n    sudo chgrp $YOUR_GROUP_ID /etc/apt/sources.list.d\r\n\r\n    sudo echo &quot;deb http://ppa.launchpad.net/webupd8team/java/ubuntu trusty main&quot; | tee /etc/apt/sources.list.d/webupd8team-java.list\r\n            \r\n    sudo echo &quot;deb-src http://ppa.launchpad.net/webupd8team/java/ubuntu trusty main&quot; | tee -a /etc/apt/sources.list.d/webupd8team-java.list\r\n     \r\n    sudo apt-get install dirmngr       \r\n    sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys EEA14886\r\n    sudo apt-get update\r\n            \r\n    sudo apt-get install openjdk-8-jdk -y --allow-unauthenticated\r\n\r\n-----\r\nFor the Oracle Java 8 JDK:\r\n\r\n    # Grant yourself permission to the necessary directory\r\n    sudo chown $YOUR_USER_NAME /etc/apt/sources.list.d \r\n    sudo chgrp $YOUR_GROUP_ID /etc/apt/sources.list.d\r\n    \r\n    sudo echo &quot;deb http://ppa.launchpad.net/webupd8team/java/ubuntu trusty main&quot; | tee /etc/apt/sources.list.d/webupd8team-java.list\r\n                \r\n    sudo echo &quot;deb-src http://ppa.launchpad.net/webupd8team/java/ubuntu trusty main&quot; | tee -a /etc/apt/sources.list.d/webupd8team-java.list\r\n               \r\n    sudo apt-get install dirmngr \r\n    sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys EEA14886\r\n    sudo apt-get update\r\n                \r\n    sudo echo oracle-java8-installer shared/accepted-oracle-license-v1-1 select true | sudo /usr/bin/debconf-set-selections\r\n    sudo apt-get install oracle-java8-installer -y --allow-unauthenticated\r\n\r\n----\r\nAt this point, if all went as intended, the following commands should produce something that looks a lot like:\r\n\r\n    $ javac -version\r\n    javac 1.8.0_171\r\n    \r\n    $ java -version\r\n    openjdk version &quot;1.8.0_171&quot;\r\n    OpenJDK Runtime Environment (build 1.8.0_171-8u171-b11-1~deb9u1-b11)\r\n    OpenJDK 64-Bit Server VM (build 25.171-b11, mixed mode)\r\n\r\nGood luck and please let me know if this works for you. If not, I&#39;d be happy to assist you further as needed.\r\n\r\nEric\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Installing Java 8 on a Google Compute Engine instance with apt-get","body":"<p>I had a similar problem attempting to install the Java 8 JDK on one of my Google Compute Engine instances and found a solution here (but read about modifications below first):</p>\n\n<p><a href=\"http://cgrant.io/tutorials/gcp/compute/gce/how-to-deploy-a-java-application-to-google-compute-engine/\" rel=\"nofollow noreferrer\">http://cgrant.io/tutorials/gcp/compute/gce/how-to-deploy-a-java-application-to-google-compute-engine/</a></p>\n\n<p>In the \"Deploy scripts\" section, inside the code block shown for install.sh, I pulled out the applicable lines and ran them with a few modifications as follows:</p>\n\n<ul>\n<li>I ran all commands with sudo, but it would probably be more appropriate to do as he does and \"su -\" (change to root) before you run any of the commands.</li>\n<li>Changed owner and group to my own as I got permissions errors despite running all commands with sudo (you won't need to do this if you run commands as root instead of sudo-ing everything as yourself).</li>\n<li>Ran \"apt-get install dirmngr\" before running apt-key as I got an\nerror that the command did not exist.</li>\n<li>Added the --allow-unauthenticated flag to the\n\"apt-get install openjdk-8-jdk -y\" command.</li>\n</ul>\n\n<hr>\n\n<p>Here are the actual commands I was able to use to successfully install the Java 8 Open JDK:</p>\n\n<pre><code># Grant yourself permission to the necessary directory\nsudo chown $YOUR_USER_NAME /etc/apt/sources.list.d \nsudo chgrp $YOUR_GROUP_ID /etc/apt/sources.list.d\n\nsudo echo \"deb http://ppa.launchpad.net/webupd8team/java/ubuntu trusty main\" | tee /etc/apt/sources.list.d/webupd8team-java.list\n\nsudo echo \"deb-src http://ppa.launchpad.net/webupd8team/java/ubuntu trusty main\" | tee -a /etc/apt/sources.list.d/webupd8team-java.list\n\nsudo apt-get install dirmngr       \nsudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys EEA14886\nsudo apt-get update\n\nsudo apt-get install openjdk-8-jdk -y --allow-unauthenticated\n</code></pre>\n\n<hr>\n\n<p>For the Oracle Java 8 JDK:</p>\n\n<pre><code># Grant yourself permission to the necessary directory\nsudo chown $YOUR_USER_NAME /etc/apt/sources.list.d \nsudo chgrp $YOUR_GROUP_ID /etc/apt/sources.list.d\n\nsudo echo \"deb http://ppa.launchpad.net/webupd8team/java/ubuntu trusty main\" | tee /etc/apt/sources.list.d/webupd8team-java.list\n\nsudo echo \"deb-src http://ppa.launchpad.net/webupd8team/java/ubuntu trusty main\" | tee -a /etc/apt/sources.list.d/webupd8team-java.list\n\nsudo apt-get install dirmngr \nsudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys EEA14886\nsudo apt-get update\n\nsudo echo oracle-java8-installer shared/accepted-oracle-license-v1-1 select true | sudo /usr/bin/debconf-set-selections\nsudo apt-get install oracle-java8-installer -y --allow-unauthenticated\n</code></pre>\n\n<hr>\n\n<p>At this point, if all went as intended, the following commands should produce something that looks a lot like:</p>\n\n<pre><code>$ javac -version\njavac 1.8.0_171\n\n$ java -version\nopenjdk version \"1.8.0_171\"\nOpenJDK Runtime Environment (build 1.8.0_171-8u171-b11-1~deb9u1-b11)\nOpenJDK 64-Bit Server VM (build 25.171-b11, mixed mode)\n</code></pre>\n\n<p>Good luck and please let me know if this works for you. If not, I'd be happy to assist you further as needed.</p>\n\n<p>Eric</p>\n"},{"tags":[],"owner":{"account_id":10777989,"reputation":1573,"user_id":7929314,"accept_rate":100,"display_name":"Vincent"},"down_vote_count":2,"up_vote_count":12,"is_accepted":false,"score":10,"last_activity_date":1531346795,"creation_date":1531346795,"answer_id":51294824,"question_id":50919305,"body_markdown":"It&#39;s a one liner\r\n\r\n    sudo apt-get -y install default-jdk\r\n    java -version\r\n","title":"Installing Java 8 on a Google Compute Engine instance with apt-get","body":"<p>It's a one liner</p>\n\n<pre><code>sudo apt-get -y install default-jdk\njava -version\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21980140,"reputation":79,"user_id":16255324,"display_name":"YGao"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1668718481,"creation_date":1668718481,"answer_id":74481984,"question_id":50919305,"body_markdown":"This one-line command successfully installed java 8 for me.\r\n\r\n`sudo apt install openjdk-8-jre-headless`","title":"Installing Java 8 on a Google Compute Engine instance with apt-get","body":"<p>This one-line command successfully installed java 8 for me.</p>\n<p><code>sudo apt install openjdk-8-jre-headless</code></p>\n"}],"owner":{"account_id":6847196,"reputation":1685,"user_id":5265589,"display_name":"Alex Amato"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9566,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":3,"score":8,"last_activity_date":1668718481,"creation_date":1529370178,"question_id":50919305,"body_markdown":"I ran this command with apt-get but have received this error. I am not too sure how to resolve this. Is this come core mistake I have made using apt-get, asking for something impossible? Does anyone understand the root cause that prevents it from installing?\r\n\r\n    sudo apt-get install openjdk-8-jdk                                                                                       \r\n    Reading package lists... Done\r\n    Building dependency tree       \r\n    Reading state information... Done\r\n    Some packages could not be installed. This may mean that you have\r\n    requested an impossible situation or if you are using the unstable\r\n    distribution that some required packages have not yet been created\r\n    or been moved out of Incoming.\r\n    The following information may help to resolve the situation:\r\n    \r\n    The following packages have unmet dependencies:\r\n     openjdk-8-jdk : Depends: openjdk-8-jre (= 8u171-b11-1~bpo8+1) but it is not going to be installed\r\n                     Depends: openjdk-8-jdk-headless (= 8u171-b11-1~bpo8+1) but it is not going to be installed\r\n    E: Unable to correct problems, you have held broken packages.\r\n\r\n","title":"Installing Java 8 on a Google Compute Engine instance with apt-get","body":"<p>I ran this command with apt-get but have received this error. I am not too sure how to resolve this. Is this come core mistake I have made using apt-get, asking for something impossible? Does anyone understand the root cause that prevents it from installing?</p>\n\n<pre><code>sudo apt-get install openjdk-8-jdk                                                                                       \nReading package lists... Done\nBuilding dependency tree       \nReading state information... Done\nSome packages could not be installed. This may mean that you have\nrequested an impossible situation or if you are using the unstable\ndistribution that some required packages have not yet been created\nor been moved out of Incoming.\nThe following information may help to resolve the situation:\n\nThe following packages have unmet dependencies:\n openjdk-8-jdk : Depends: openjdk-8-jre (= 8u171-b11-1~bpo8+1) but it is not going to be installed\n                 Depends: openjdk-8-jdk-headless (= 8u171-b11-1~bpo8+1) but it is not going to be installed\nE: Unable to correct problems, you have held broken packages.\n</code></pre>\n"},{"tags":["java","android","file-upload","okhttp","multipart"],"answers":[{"tags":[],"owner":{"account_id":4594260,"reputation":2496,"user_id":3726793,"accept_rate":57,"display_name":"Arth Tilva"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1464522983,"creation_date":1450701815,"answer_id":34396008,"question_id":34395873,"body_markdown":"**This answer is for OkHttp2**\r\n\r\nFor OkHttp3 You can see [this post][1].\r\n\r\nFor multiple image you just need to run the loop as per your requirement, remaining part related to request will be same as you do.\r\n\r\n \r\n\r\n      //  final MediaType MEDIA_TYPE_PNG = MediaType.parse(&quot;image/png&quot;);\r\n    final MediaType MEDIA_TYPE=MediaType.parse(AppConstant.arrImages.get(i).getMediaType());\r\n    \r\n    //If you can have multiple file types, set it in ArrayList\r\n                        MultipartBuilder buildernew = new MultipartBuilder().type(MultipartBuilder.FORM)\r\n                                .addFormDataPart(&quot;title&quot;, title)\r\n                                \r\n                        for (int i = 0; i &lt; AppConstants.arrImages.size(); i++) {\r\n                            File f = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES),\r\n                                    TEMP_FILE_NAME + i + &quot;.png&quot;);\r\n                            if (f.exists()) {\r\n                                buildernew.addFormDataPart(TEMP_FILE_NAME + i, TEMP_FILE_NAME + i + FILE_EXTENSION, RequestBody.create(MEDIA_TYPE, f));\r\n                            }\r\n                        }\r\n                        RequestBody requestBody = buildernew.build();\r\n                        Request request = new Request.Builder()\r\n                                .url(Url.URL + Url.INSERT_NEWS)\r\n                                .post(requestBody)\r\n                                .build();\r\n    \r\n                        OkHttpClient client = new OkHttpClient();\r\n                        Response response = client.newCall(request).execute();\r\n                        return response.body().string();\r\n\r\nDont forget to **delete** temp. files that you uploaded *if it is of no use.*\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/34930167/upload-dynamic-number-of-files-with-okhttp3","title":"Android okHttp addFormDataPart dynamically for Multiple Image","body":"<p><strong>This answer is for OkHttp2</strong></p>\n\n<p>For OkHttp3 You can see <a href=\"https://stackoverflow.com/questions/34930167/upload-dynamic-number-of-files-with-okhttp3\">this post</a>.</p>\n\n<p>For multiple image you just need to run the loop as per your requirement, remaining part related to request will be same as you do.</p>\n\n<pre><code>  //  final MediaType MEDIA_TYPE_PNG = MediaType.parse(\"image/png\");\nfinal MediaType MEDIA_TYPE=MediaType.parse(AppConstant.arrImages.get(i).getMediaType());\n\n//If you can have multiple file types, set it in ArrayList\n                    MultipartBuilder buildernew = new MultipartBuilder().type(MultipartBuilder.FORM)\n                            .addFormDataPart(\"title\", title)\n\n                    for (int i = 0; i &lt; AppConstants.arrImages.size(); i++) {\n                        File f = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES),\n                                TEMP_FILE_NAME + i + \".png\");\n                        if (f.exists()) {\n                            buildernew.addFormDataPart(TEMP_FILE_NAME + i, TEMP_FILE_NAME + i + FILE_EXTENSION, RequestBody.create(MEDIA_TYPE, f));\n                        }\n                    }\n                    RequestBody requestBody = buildernew.build();\n                    Request request = new Request.Builder()\n                            .url(Url.URL + Url.INSERT_NEWS)\n                            .post(requestBody)\n                            .build();\n\n                    OkHttpClient client = new OkHttpClient();\n                    Response response = client.newCall(request).execute();\n                    return response.body().string();\n</code></pre>\n\n<p>Dont forget to <strong>delete</strong> temp. files that you uploaded <em>if it is of no use.</em></p>\n"},{"tags":[],"owner":{"account_id":1387192,"reputation":61110,"user_id":1318946,"accept_rate":52,"display_name":"Pratik Butani"},"down_vote_count":2,"up_vote_count":20,"is_accepted":false,"score":18,"last_activity_date":1450773781,"creation_date":1450773781,"answer_id":34411666,"question_id":34395873,"body_markdown":"Here I have created Function to Upload Multiple Images.\r\n\r\n    /**\r\n     * Here I am uploading MultipleImages from List of photoCaption\r\n     * Sending photoCaption with URL and Caption of Photo...\r\n     *\r\n     * @param albumId\r\n     * @param photoCaptions\r\n     * @return\r\n     */\r\n    public static JSONObject uploadAlbumImage(String albumId, ArrayList&lt;PhotoCaption&gt; photoCaptions) {\r\n    \r\n    \ttry {\r\n    \r\n    \t\tMultipartBuilder multipartBuilder = new MultipartBuilder().type(MultipartBuilder.FORM);\r\n    \r\n    \t\tint length = photoCaptions.size();\r\n    \t\tint noOfImageToSend = 0;\r\n    \t\tfor(int i = 0; i &lt; length; i++) {\r\n    \t\t\t/**\r\n    \t\t\t * Getting Photo Caption and URL\r\n    \t\t\t */\r\n    \t\t\tPhotoCaption photoCaptionObj = photoCaptions.get(i);\r\n    \t\t\tString photoUrl = photoCaptionObj.getPhotoUrl();\r\n    \t\t\tString photoCaption = photoCaptionObj.getPhotoCaption();\r\n    \r\n    \t\t\tFile sourceFile = new File(photoUrl);\r\n    \r\n    \t\t\tif(sourceFile.exists()) {\r\n    \t\t\t\t/** Changing Media Type whether JPEG or PNG **/\r\n    \t\t\t\tfinal MediaType MEDIA_TYPE = MediaType.parse(FileUtils.getExtension(photoUrl).endsWith(&quot;png&quot;) ? &quot;image/png&quot; : &quot;image/jpeg&quot;);\r\n    \t\t\t\t\r\n    \t\t\t\t/** Adding in MultipartBuilder **/\r\n    \t\t\t\tmultipartBuilder.addFormDataPart(KEY_IMAGE_CAPTION + i, photoCaption);\r\n    \t\t\t\tmultipartBuilder.addFormDataPart(KEY_IMAGE_NAME + i, sourceFile.getName(), RequestBody.create(MEDIA_TYPE, sourceFile));\r\n    \t\t\t\t\r\n    \t\t\t\t/** Counting No Of Images **/\r\n    \t\t\t\tnoOfImageToSend++;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tRequestBody requestBody = multipartBuilder\r\n    \t\t\t\t.addFormDataPart(KEY_ALBUM_ID, albumId)\r\n    \t\t\t\t.addFormDataPart(KEY_IMAGE_COUNT, String.valueOf(noOfImageToSend))\r\n    \t\t\t\t.build();\r\n    \r\n    \t\tRequest request = new Request.Builder()\r\n    \t\t\t\t.url(URL_ALBUM_UPLOAD_IMAGE)\r\n    \t\t\t\t.post(requestBody)\r\n    \t\t\t\t.build();\r\n    \r\n    \t\tOkHttpClient client = new OkHttpClient();\r\n    \t\tResponse response = client.newCall(request).execute();\r\n    \t\t\r\n    \t\t/** Your Response **/\r\n    \t\tString responseStr = response.body().string();\r\n    \t\t\r\n    \t\tLog.i(TAG, &quot;responseStr : &quot;+ responseStr);\r\n    \r\n    \t\treturn new JSONObject(responseStr);\r\n    \r\n    \t} catch (UnknownHostException | UnsupportedEncodingException e) {\r\n    \t\tLog.e(TAG, &quot;Error: &quot; + e.getLocalizedMessage());\r\n    \t} catch (Exception e) {\r\n    \t\tLog.e(TAG, &quot;Other Error: &quot; + e.getLocalizedMessage());\r\n    \t}\r\n    \treturn null;\r\n    }\r\n\r\nI hope it will helps you.","title":"Android okHttp addFormDataPart dynamically for Multiple Image","body":"<p>Here I have created Function to Upload Multiple Images.</p>\n\n<pre><code>/**\n * Here I am uploading MultipleImages from List of photoCaption\n * Sending photoCaption with URL and Caption of Photo...\n *\n * @param albumId\n * @param photoCaptions\n * @return\n */\npublic static JSONObject uploadAlbumImage(String albumId, ArrayList&lt;PhotoCaption&gt; photoCaptions) {\n\n    try {\n\n        MultipartBuilder multipartBuilder = new MultipartBuilder().type(MultipartBuilder.FORM);\n\n        int length = photoCaptions.size();\n        int noOfImageToSend = 0;\n        for(int i = 0; i &lt; length; i++) {\n            /**\n             * Getting Photo Caption and URL\n             */\n            PhotoCaption photoCaptionObj = photoCaptions.get(i);\n            String photoUrl = photoCaptionObj.getPhotoUrl();\n            String photoCaption = photoCaptionObj.getPhotoCaption();\n\n            File sourceFile = new File(photoUrl);\n\n            if(sourceFile.exists()) {\n                /** Changing Media Type whether JPEG or PNG **/\n                final MediaType MEDIA_TYPE = MediaType.parse(FileUtils.getExtension(photoUrl).endsWith(\"png\") ? \"image/png\" : \"image/jpeg\");\n\n                /** Adding in MultipartBuilder **/\n                multipartBuilder.addFormDataPart(KEY_IMAGE_CAPTION + i, photoCaption);\n                multipartBuilder.addFormDataPart(KEY_IMAGE_NAME + i, sourceFile.getName(), RequestBody.create(MEDIA_TYPE, sourceFile));\n\n                /** Counting No Of Images **/\n                noOfImageToSend++;\n            }\n        }\n\n        RequestBody requestBody = multipartBuilder\n                .addFormDataPart(KEY_ALBUM_ID, albumId)\n                .addFormDataPart(KEY_IMAGE_COUNT, String.valueOf(noOfImageToSend))\n                .build();\n\n        Request request = new Request.Builder()\n                .url(URL_ALBUM_UPLOAD_IMAGE)\n                .post(requestBody)\n                .build();\n\n        OkHttpClient client = new OkHttpClient();\n        Response response = client.newCall(request).execute();\n\n        /** Your Response **/\n        String responseStr = response.body().string();\n\n        Log.i(TAG, \"responseStr : \"+ responseStr);\n\n        return new JSONObject(responseStr);\n\n    } catch (UnknownHostException | UnsupportedEncodingException e) {\n        Log.e(TAG, \"Error: \" + e.getLocalizedMessage());\n    } catch (Exception e) {\n        Log.e(TAG, \"Other Error: \" + e.getLocalizedMessage());\n    }\n    return null;\n}\n</code></pre>\n\n<p>I hope it will helps you.</p>\n"}],"owner":{"account_id":1387192,"reputation":61110,"user_id":1318946,"accept_rate":52,"display_name":"Pratik Butani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16758,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":34396008,"answer_count":2,"score":14,"last_activity_date":1668718173,"creation_date":1450701429,"question_id":34395873,"body_markdown":"I had given answer **[Uploading a large file in multipart using OkHttp][1]** but i am stuck with multiple image uploading.\r\n\r\nI want to upload dynamically **1 to 10** image at a time.\r\n\r\n    RequestBody requestBody = new MultipartBuilder()\r\n                        .type(MultipartBuilder.FORM)\r\n                        .addFormDataPart(KEY_PHOTO_CAPTION, photoCaption)\r\n                        .addFormDataPart(KEY_FILE, &quot;profile.png&quot;, RequestBody.create(MEDIA_TYPE_PNG, sourceFile))\r\n                        .build();\r\n\r\nI have `ArrayList` of **PhotoCaption** class which has **`captionPhoto`** and **`urlPhoto`** so how can i **addFormDataPart()**\r\n\r\nI am thinking to make loop and call this function that many times of **ArrayList** size.\r\n\r\nIs there any solution to **addFormDataPart()** use dynamically?\r\n\r\n  [1]: https://stackoverflow.com/a/34127008/1318946","title":"Android okHttp addFormDataPart dynamically for Multiple Image","body":"<p>I had given answer <strong><a href=\"https://stackoverflow.com/a/34127008/1318946\">Uploading a large file in multipart using OkHttp</a></strong> but i am stuck with multiple image uploading.</p>\n<p>I want to upload dynamically <strong>1 to 10</strong> image at a time.</p>\n<pre><code>RequestBody requestBody = new MultipartBuilder()\n                    .type(MultipartBuilder.FORM)\n                    .addFormDataPart(KEY_PHOTO_CAPTION, photoCaption)\n                    .addFormDataPart(KEY_FILE, &quot;profile.png&quot;, RequestBody.create(MEDIA_TYPE_PNG, sourceFile))\n                    .build();\n</code></pre>\n<p>I have <code>ArrayList</code> of <strong>PhotoCaption</strong> class which has <strong><code>captionPhoto</code></strong> and <strong><code>urlPhoto</code></strong> so how can i <strong>addFormDataPart()</strong></p>\n<p>I am thinking to make loop and call this function that many times of <strong>ArrayList</strong> size.</p>\n<p>Is there any solution to <strong>addFormDataPart()</strong> use dynamically?</p>\n"},{"tags":["java","spring","spring-boot","queue","jms"],"answers":[{"tags":[],"owner":{"account_id":320241,"reputation":2134,"user_id":638413,"accept_rate":100,"display_name":"Daniel Steinmann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668717696,"creation_date":1668717696,"answer_id":74481843,"question_id":74479845,"body_markdown":"You have to add a listener as well, see for example [Annotation-driven Listener Endpoints][1]:\r\n\r\n    @Component\r\n    public class MyService {\r\n    \r\n        @JmsListener(destination = &quot;YOURQUEUENAME&quot;, containerFactory = &quot;myContainerFactory&quot;)\r\n        public void myListener(String data) { ... }\r\n    }\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#jms-annotated","title":"How to move XML bean definition to @Configuration annotated class","body":"<p>You have to add a listener as well, see for example <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#jms-annotated\" rel=\"nofollow noreferrer\">Annotation-driven Listener Endpoints</a>:</p>\n<pre><code>@Component\npublic class MyService {\n\n    @JmsListener(destination = &quot;YOURQUEUENAME&quot;, containerFactory = &quot;myContainerFactory&quot;)\n    public void myListener(String data) { ... }\n}\n</code></pre>\n"}],"owner":{"account_id":21612562,"reputation":13,"user_id":15938858,"display_name":"Jhoan Peguero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74481843,"answer_count":1,"score":0,"last_activity_date":1668717696,"creation_date":1668706828,"question_id":74479845,"body_markdown":"I am new to Spring, I am working in moving some bean definitions from XML to @Configuration Class.\r\n\r\nHere is one of the beans I am struggling with:\r\n\r\n\r\n```\r\n&lt;bean id=&quot;jmsProducerTemplate&quot; class=&quot;org.springframework.jms.core.JmsTemplate&quot;\r\n      p:connectionFactory-ref=&quot;connectionFactory&quot;/&gt;\r\n\r\n&lt;jms:listener-container container-type=&quot;default&quot; \r\n                        connection-factory=&quot;connectionFactory&quot;\r\n                        acknowledge=&quot;auto&quot;&gt;\r\n\r\n&lt;jms:listener destination=&quot;YOURQUEUENAME&quot; ref=&quot;theListenerClassYouAreUsing&quot; /&gt;\r\n\r\n&lt;/jms:listener-container&gt;\r\n```\r\n\r\nHow would that look in a @Configuration class, thanks.\r\n\r\nSo far I have this\r\n\r\n\r\n```\r\n@Bean(&quot;myContainerFactory&quot;)\r\npublic JmsListenerContainerFactory myContainerFactory() {\r\n    DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\r\n\r\n    ConnectionFactory connectionFactory = pooledConnectionFactory();\r\n\r\n   \r\n    factory.setConnectionFactory(connectionFactory);\r\n    factory.setPubSubDomain(false);\r\n\r\n    return factory;\r\n}\r\n```\r\n\r\nI am missing the destination set, no idea how to do it.\r\n","title":"How to move XML bean definition to @Configuration annotated class","body":"<p>I am new to Spring, I am working in moving some bean definitions from XML to @Configuration Class.</p>\n<p>Here is one of the beans I am struggling with:</p>\n<pre><code>&lt;bean id=&quot;jmsProducerTemplate&quot; class=&quot;org.springframework.jms.core.JmsTemplate&quot;\n      p:connectionFactory-ref=&quot;connectionFactory&quot;/&gt;\n\n&lt;jms:listener-container container-type=&quot;default&quot; \n                        connection-factory=&quot;connectionFactory&quot;\n                        acknowledge=&quot;auto&quot;&gt;\n\n&lt;jms:listener destination=&quot;YOURQUEUENAME&quot; ref=&quot;theListenerClassYouAreUsing&quot; /&gt;\n\n&lt;/jms:listener-container&gt;\n</code></pre>\n<p>How would that look in a @Configuration class, thanks.</p>\n<p>So far I have this</p>\n<pre><code>@Bean(&quot;myContainerFactory&quot;)\npublic JmsListenerContainerFactory myContainerFactory() {\n    DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\n\n    ConnectionFactory connectionFactory = pooledConnectionFactory();\n\n   \n    factory.setConnectionFactory(connectionFactory);\n    factory.setPubSubDomain(false);\n\n    return factory;\n}\n</code></pre>\n<p>I am missing the destination set, no idea how to do it.</p>\n"},{"tags":["java","arrays","multithreading","parallel-processing","phaser"],"comments":[{"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":0,"creation_date":1668609578,"post_id":74462186,"comment_id":131447449,"body_markdown":"Seems to me like all threads are mutating the same array, but not necessarily in the same order as the sequential code. So some threads will probably read old values in `arr[i - 1]` and `arr[i + 1]`, while others will read new values.","body":"Seems to me like all threads are mutating the same array, but not necessarily in the same order as the sequential code. So some threads will probably read old values in <code>arr[i - 1]</code> and <code>arr[i + 1]</code>, while others will read new values."},{"owner":{"account_id":18644246,"reputation":1,"user_id":13589297,"display_name":"Mikhail Kondaurov"},"score":0,"creation_date":1668609694,"post_id":74462186,"comment_id":131447513,"body_markdown":"@marstran and how can I fix it?","body":"@marstran and how can I fix it?"},{"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":0,"creation_date":1668609712,"post_id":74462186,"comment_id":131447523,"body_markdown":"I would separate the array you read from and write to into 2 arrays, and do: `writeArr[i]=(readArr[i-1]+readArr[i+1])/2`. But I&#39;m not sure that will yield the correct answer considering your sequential code also seem to read both old and newly written values.","body":"I would separate the array you read from and write to into 2 arrays, and do: <code>writeArr[i]=(readArr[i-1]+readArr[i+1])&#47;2</code>. But I&#39;m not sure that will yield the correct answer considering your sequential code also seem to read both old and newly written values."},{"owner":{"account_id":18644246,"reputation":1,"user_id":13589297,"display_name":"Mikhail Kondaurov"},"score":0,"creation_date":1668613135,"post_id":74462186,"comment_id":131448946,"body_markdown":"@marstran unfortunately, it doesn&#39;t work :(","body":"@marstran unfortunately, it doesn&#39;t work :("},{"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":0,"creation_date":1668615105,"post_id":74462186,"comment_id":131449793,"body_markdown":"Is it intended that your sequential code uses values that just got updated by the iteration? For example, let&#39;s say you have `{ 1, 2, 3 }` and want to perform `a[i] = a[i - 1] + a[i + 1]`, where `a[x] = 0` if x is out of bounds of the array. Basically saying that each item should be the sum of its neighbours. Then I would expect the result `{ 2, 4, 2 }`. But if you iterate over the array and mutate it at the same time, you would get this: `after i=0 -&gt; { 2, 2, 3 }`, `after i=1 -&gt; { 2, 5, 3 }`, `after i=2 -&gt; { 2, 5, 5 }`. I think you have the same issue with your code.","body":"Is it intended that your sequential code uses values that just got updated by the iteration? For example, let&#39;s say you have <code>{ 1, 2, 3 }</code> and want to perform <code>a[i] = a[i - 1] + a[i + 1]</code>, where <code>a[x] = 0</code> if x is out of bounds of the array. Basically saying that each item should be the sum of its neighbours. Then I would expect the result <code>{ 2, 4, 2 }</code>. But if you iterate over the array and mutate it at the same time, you would get this: <code>after i=0 -&gt; { 2, 2, 3 }</code>, <code>after i=1 -&gt; { 2, 5, 3 }</code>, <code>after i=2 -&gt; { 2, 5, 5 }</code>. I think you have the same issue with your code."},{"owner":{"account_id":18644246,"reputation":1,"user_id":13589297,"display_name":"Mikhail Kondaurov"},"score":0,"creation_date":1668617319,"post_id":74462186,"comment_id":131450709,"body_markdown":"@marstran yes, I should use updated values","body":"@marstran yes, I should use updated values"}],"answers":[{"tags":[],"owner":{"account_id":26956417,"reputation":1,"user_id":20524698,"display_name":"user20524698"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668639952,"creation_date":1668639952,"answer_id":74468329,"question_id":74462186,"body_markdown":"I can see 2 problems:\r\n1. you don&#39;t wait for the `Sum` threads to finish before checking the results:\r\n    ```\r\n        Phaser p = new Phaser();\r\n        for (int i = 1; i&lt;n-1; i++)\r\n        {\r\n            var x = new Sum (p, i);\r\n            x.start();\r\n        }\r\n        // YOU SHOULD WAIT HERE UNTIL ALL THE STARTED Sum THREADS ARE FINISHED\r\n        for (int i = 0; i&lt;n; i++)\r\n        {\r\n            System.out.print(Sum.arr[i]+&quot; &quot;);\r\n        }\r\n        System.out.println();\r\n    ```\r\n2. in `Sum` threads you don&#39;t wait for `arr[i-1]` and `arr[i+1]` to get computed before computing `arr[i]`.  \r\n  Don&#39;t forget that `Sum.run()` are executed in parallel (because they are executed in different threads), and when some thread computes `a[i]`, then there are no guarantees that the other threads have just computed the right iterations of `a[i-1]` and `a[i+1]`.","title":"Java parallel array transforming using Thread and Phaser does not work correctly","body":"<p>I can see 2 problems:</p>\n<ol>\n<li>you don't wait for the <code>Sum</code> threads to finish before checking the results:\n<pre><code>    Phaser p = new Phaser();\n    for (int i = 1; i&lt;n-1; i++)\n    {\n        var x = new Sum (p, i);\n        x.start();\n    }\n    // YOU SHOULD WAIT HERE UNTIL ALL THE STARTED Sum THREADS ARE FINISHED\n    for (int i = 0; i&lt;n; i++)\n    {\n        System.out.print(Sum.arr[i]+&quot; &quot;);\n    }\n    System.out.println();\n</code></pre>\n</li>\n<li>in <code>Sum</code> threads you don't wait for <code>arr[i-1]</code> and <code>arr[i+1]</code> to get computed before computing <code>arr[i]</code>.<br />\nDon't forget that <code>Sum.run()</code> are executed in parallel (because they are executed in different threads), and when some thread computes <code>a[i]</code>, then there are no guarantees that the other threads have just computed the right iterations of <code>a[i-1]</code> and <code>a[i+1]</code>.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":26967224,"reputation":1,"user_id":20533851,"display_name":"user20533851"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668717356,"creation_date":1668717356,"answer_id":74481780,"question_id":74462186,"body_markdown":"It [seems like](https://stackoverflow.com/posts/74468329/timeline#comment_131471838) the question has transformed into:\r\n&gt; how can I synchronize Sum.run()? how can I run it serially?\r\n\r\nThe answer is that you should probably use Phaser for synchronization because:\r\n&gt; according to the assignment, I must use Thread and Phaser\r\n\r\nYou can learn how Phaser works here:\r\n1. [official Phaser javadocs](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Phaser.html)\r\n2. [Guide to the Java Phaser on Baeldung](https://www.baeldung.com/java-phaser)\r\n\r\nIf the above resources aren&#39;t clear to you, then I can recommend [Java Concurrency in Practice](https://jcip.net/) - this book explains concurrency in Java in great details and is ideal for novices in the topic.\r\n\r\n---\r\n\r\nAlso I would recommend you to check one more time if you understood your assignment correctly.\r\n\r\nBecause right now (the way you explained it) your assignment looks weird:\r\n- one one hand the algorithm you described cannot be split into parallel subtasks: in order to compute `a[i+1]` we need `a[i]` from the same iteration.\r\n- on the other hand you should use threads, whose sole purpose is to perform work in parallel\r\n\r\nTo use threads with an algorithm that can only work sequentially is weird because this way you get only negatives: the program becomes more complicated and its performance decreases.\r\n","title":"Java parallel array transforming using Thread and Phaser does not work correctly","body":"<p>It <a href=\"https://stackoverflow.com/posts/74468329/timeline#comment_131471838\">seems like</a> the question has transformed into:</p>\n<blockquote>\n<p>how can I synchronize Sum.run()? how can I run it serially?</p>\n</blockquote>\n<p>The answer is that you should probably use Phaser for synchronization because:</p>\n<blockquote>\n<p>according to the assignment, I must use Thread and Phaser</p>\n</blockquote>\n<p>You can learn how Phaser works here:</p>\n<ol>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Phaser.html\" rel=\"nofollow noreferrer\">official Phaser javadocs</a></li>\n<li><a href=\"https://www.baeldung.com/java-phaser\" rel=\"nofollow noreferrer\">Guide to the Java Phaser on Baeldung</a></li>\n</ol>\n<p>If the above resources aren't clear to you, then I can recommend <a href=\"https://jcip.net/\" rel=\"nofollow noreferrer\">Java Concurrency in Practice</a> - this book explains concurrency in Java in great details and is ideal for novices in the topic.</p>\n<hr />\n<p>Also I would recommend you to check one more time if you understood your assignment correctly.</p>\n<p>Because right now (the way you explained it) your assignment looks weird:</p>\n<ul>\n<li>one one hand the algorithm you described cannot be split into parallel subtasks: in order to compute <code>a[i+1]</code> we need <code>a[i]</code> from the same iteration.</li>\n<li>on the other hand you should use threads, whose sole purpose is to perform work in parallel</li>\n</ul>\n<p>To use threads with an algorithm that can only work sequentially is weird because this way you get only negatives: the program becomes more complicated and its performance decreases.</p>\n"}],"owner":{"account_id":18644246,"reputation":1,"user_id":13589297,"display_name":"Mikhail Kondaurov"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668717356,"creation_date":1668608857,"question_id":74462186,"body_markdown":"It takes m iterations to transform the array according to the rule: a[i]=(a[i-1]+a[i+1])/2 Also, according to the assignment, I must use Thread and Phaser. Using of Thread and Phaser is mandatory, and there is no way I can refuse to use them. \r\n\r\nFor transforming I use this code:\r\n\r\n```\r\npackage lab3;\r\n&#160;\r\nimport java.util.concurrent.Phaser;\r\n&#160;\r\npublic class Program {\r\n&#160; &#160; public static void main(String[] args) \r\n&#160; &#160; {\r\n&#160; &#160; &#160; &#160; int n = 100;\r\n&#160; &#160; &#160; &#160; int m = 100;\r\n&#160; &#160; &#160; &#160; int [] arr;\r\n&#160; &#160; &#160; &#160; arr = new int [n];\r\n&#160; &#160; &#160; &#160; int [] arr2;\r\n&#160; &#160; &#160; &#160; arr2 = new int [n];\r\n&#160; &#160; &#160; &#160; for (int i = 0; i&lt;n; i++)\r\n&#160; &#160; &#160; &#160; {\r\n&#160; &#160; &#160; &#160; &#160; &#160; int r = (int)(Math.random()*50);\r\n&#160; &#160; &#160; &#160; &#160; &#160; arr [i] = r;\r\n&#160; &#160; &#160; &#160; &#160; &#160; arr2 [i] = r;\r\n&#160; &#160; &#160; &#160; &#160; &#160; System.out.print(arr[i]+&quot; &quot;);\r\n&#160; &#160; &#160; &#160; }\r\n&#160; &#160; &#160; &#160; int [] arr3 = arr2.clone();\r\n&#160; &#160; &#160; &#160; System.out.println(&quot; &quot;);\r\n&#160; &#160; &#160; &#160; for (int p = 0; p&lt;m; p++)\r\n&#160; &#160; &#160; &#160; &#160; &#160; for (int i = 1; i&lt;n-1; i++)\r\n&#160; &#160; &#160; &#160; &#160; &#160; {\r\n&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; arr [i] = (arr [i-1]+arr [i+1])/2;\r\n&#160; &#160; &#160; &#160; &#160; &#160; }\r\n&#160; &#160; &#160; &#160; \r\n&#160; &#160; &#160; &#160; for (int i = 0; i&lt;n; i++)\r\n&#160; &#160; &#160; &#160; {\r\n&#160; &#160; &#160; &#160; &#160; &#160; System.out.print(arr[i]+&quot; &quot;);\r\n&#160; &#160; &#160; &#160; }\r\n&#160; &#160; &#160; &#160; System.out.println();\r\n&#160; &#160; &#160; &#160; Sum.arr = arr2;\r\n&#160; &#160; &#160; &#160; Sum.m=m;\r\n&#160; &#160; &#160; &#160; Phaser p = new Phaser();\r\n&#160; &#160; &#160; &#160; &#160; &#160; for (int i = 1; i&lt;n-1; i++)\r\n&#160; &#160; &#160; &#160; &#160; &#160; {\r\n&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; var x = new Sum (p, i);\r\n&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; x.start();\r\n&#160; &#160; &#160; &#160; &#160; &#160; }\r\n&#160; &#160; &#160; &#160; for (int i = 0; i&lt;n; i++)\r\n&#160; &#160; &#160; &#160; {\r\n&#160; &#160; &#160; &#160; &#160; &#160; System.out.print(Sum.arr[i]+&quot; &quot;);\r\n&#160; &#160; &#160; &#160; }\r\n&#160; &#160; &#160; &#160; System.out.println();\r\n&#160; &#160; &#160; &#160; for (int i = 0; i&lt;n; i++)\r\n&#160; &#160; &#160; &#160; {\r\n&#160; &#160; &#160; &#160; &#160; &#160; if (arr[i]!=Sum.arr[i])\r\n&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; System.out.println(&quot;Error! Value is incorrect at position: &quot;+i+&quot;. Original val is: &quot;+arr[i]+&quot; Thead val is: &quot;+Sum.arr[i]+&quot; Before transform is: &quot; +arr3[i]);\r\n&#160; &#160; &#160; &#160; }\r\n&#160; &#160; }\r\n}\r\n&#160;\r\nclass Sum extends Thread \r\n{\r\n&#160; &#160; static int [] arr;\r\n&#160; &#160; static int m;\r\n&#160; &#160; Phaser ph;\r\n&#160; &#160; int i;\r\n&#160; &#160; \r\n&#160; &#160; public Sum(Phaser p, int i)\r\n&#160; &#160; {\r\n&#160; &#160; &#160; &#160; this.ph = p;\r\n&#160; &#160; &#160; &#160; this.i = i;\r\n&#160; &#160; }\r\n&#160; &#160; \r\n&#160; &#160; public static synchronized void trans (int i)\r\n&#160; &#160; {\r\n&#160; &#160; &#160; &#160; arr [i]= (arr [i-1]+arr [i+1])/2;\r\n&#160; &#160; }\r\n&#160; &#160; \r\n&#160; &#160; @Override\r\n&#160; &#160; public void run ()\r\n&#160; &#160; {\r\n&#160; &#160; &#160; &#160; ph.register();\r\n&#160; &#160; &#160; &#160; for (int j = 0; j&lt;m; j++)\r\n&#160; &#160; &#160; &#160; {\r\n&#160; &#160; &#160; &#160; &#160; &#160; trans(i);\r\n&#160; &#160; &#160; &#160; &#160; &#160; ph.arriveAndAwaitAdvance();\r\n&#160; &#160; &#160; &#160; }\r\n&#160; &#160; &#160; &#160; ph.arriveAndDeregister();\r\n&#160; &#160; }\r\n}\r\n```\r\n\r\nHowever, the results of serial and parallel algorithms are not the same. Please tell me what am I doing wrong?","title":"Java parallel array transforming using Thread and Phaser does not work correctly","body":"<p>It takes m iterations to transform the array according to the rule: a[i]=(a[i-1]+a[i+1])/2 Also, according to the assignment, I must use Thread and Phaser. Using of Thread and Phaser is mandatory, and there is no way I can refuse to use them.</p>\n<p>For transforming I use this code:</p>\n<pre><code>package lab3;\n \nimport java.util.concurrent.Phaser;\n \npublic class Program {\n    public static void main(String[] args) \n    {\n        int n = 100;\n        int m = 100;\n        int [] arr;\n        arr = new int [n];\n        int [] arr2;\n        arr2 = new int [n];\n        for (int i = 0; i&lt;n; i++)\n        {\n            int r = (int)(Math.random()*50);\n            arr [i] = r;\n            arr2 [i] = r;\n            System.out.print(arr[i]+&quot; &quot;);\n        }\n        int [] arr3 = arr2.clone();\n        System.out.println(&quot; &quot;);\n        for (int p = 0; p&lt;m; p++)\n            for (int i = 1; i&lt;n-1; i++)\n            {\n                arr [i] = (arr [i-1]+arr [i+1])/2;\n            }\n        \n        for (int i = 0; i&lt;n; i++)\n        {\n            System.out.print(arr[i]+&quot; &quot;);\n        }\n        System.out.println();\n        Sum.arr = arr2;\n        Sum.m=m;\n        Phaser p = new Phaser();\n            for (int i = 1; i&lt;n-1; i++)\n            {\n                var x = new Sum (p, i);\n                x.start();\n            }\n        for (int i = 0; i&lt;n; i++)\n        {\n            System.out.print(Sum.arr[i]+&quot; &quot;);\n        }\n        System.out.println();\n        for (int i = 0; i&lt;n; i++)\n        {\n            if (arr[i]!=Sum.arr[i])\n                System.out.println(&quot;Error! Value is incorrect at position: &quot;+i+&quot;. Original val is: &quot;+arr[i]+&quot; Thead val is: &quot;+Sum.arr[i]+&quot; Before transform is: &quot; +arr3[i]);\n        }\n    }\n}\n \nclass Sum extends Thread \n{\n    static int [] arr;\n    static int m;\n    Phaser ph;\n    int i;\n    \n    public Sum(Phaser p, int i)\n    {\n        this.ph = p;\n        this.i = i;\n    }\n    \n    public static synchronized void trans (int i)\n    {\n        arr [i]= (arr [i-1]+arr [i+1])/2;\n    }\n    \n    @Override\n    public void run ()\n    {\n        ph.register();\n        for (int j = 0; j&lt;m; j++)\n        {\n            trans(i);\n            ph.arriveAndAwaitAdvance();\n        }\n        ph.arriveAndDeregister();\n    }\n}\n</code></pre>\n<p>However, the results of serial and parallel algorithms are not the same. Please tell me what am I doing wrong?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1668720652,"post_id":74481553,"comment_id":131481692,"body_markdown":"Please post error messages, stack traces, etc as text formatted as code.","body":"Please post error messages, stack traces, etc as text formatted as code."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1668720762,"post_id":74481553,"comment_id":131481720,"body_markdown":"Provide information so that this can be replicated ([mcve]).  How did you create the jar.  Review the packaging info in the [JavaFX tag](https://stackoverflow.com/tags/javafx/info).","body":"Provide information so that this can be replicated (<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>).  How did you create the jar.  Review the packaging info in the <a href=\"https://stackoverflow.com/tags/javafx/info\">JavaFX tag</a>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1668721230,"post_id":74481553,"comment_id":131481864,"body_markdown":"*&quot;I have all the dependencies created and am using Javafx-sdk-19 jar files&quot;* -&gt; by all the dependencies, do you also mean JavaFX modules?  If so, those should only be provided either as dependencies in the pom.xml or as command line switches when using java dev tools, but not in both places.  So this statement is confusing to me.","body":"<i>&quot;I have all the dependencies created and am using Javafx-sdk-19 jar files&quot;</i> -&gt; by all the dependencies, do you also mean JavaFX modules?  If so, those should only be provided either as dependencies in the pom.xml or as command line switches when using java dev tools, but not in both places.  So this statement is confusing to me."}],"owner":{"account_id":25632945,"reputation":41,"user_id":19403013,"display_name":"John Hendricks"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668717336,"creation_date":1668715947,"question_id":74481553,"body_markdown":"Currently working on a JavaFX project and I am loading the standardized HelloFX application. It is operational within IntelliJ by running it. However, when I create a runnable jar by creating an artifact, the created jar file does not work. I am using Maven plugin and Java 16. I have all the dependencies created and am using Javafx-sdk-19 jar files. I have watched countless youtube videos and have searched all over this forum to no avail. I am not sure if this matters but I am using Mac OS 16.2 on the M1 silicone chip. The error I am receiving when I try to run the jar from my terminal is shown below. I am new to Java FX so please let me know what else I should include to help troubleshoot this issue. I did not include the code because it is the customized application that comes with Intellij when creating a Java FX project. I have not tampered with the HelloApplication.java\r\n\r\n[![error message when executing runnable fat jar][1]][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wBygv.png\r\n\r\nI confirmed that creating a regular jar using a swing gui executes without issue.","title":"IntelliJ JavaFx Project Runnable Jar is not executing","body":"<p>Currently working on a JavaFX project and I am loading the standardized HelloFX application. It is operational within IntelliJ by running it. However, when I create a runnable jar by creating an artifact, the created jar file does not work. I am using Maven plugin and Java 16. I have all the dependencies created and am using Javafx-sdk-19 jar files. I have watched countless youtube videos and have searched all over this forum to no avail. I am not sure if this matters but I am using Mac OS 16.2 on the M1 silicone chip. The error I am receiving when I try to run the jar from my terminal is shown below. I am new to Java FX so please let me know what else I should include to help troubleshoot this issue. I did not include the code because it is the customized application that comes with Intellij when creating a Java FX project. I have not tampered with the HelloApplication.java</p>\n<p><a href=\"https://i.stack.imgur.com/wBygv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wBygv.png\" alt=\"error message when executing runnable fat jar\" /></a></p>\n<p>I confirmed that creating a regular jar using a swing gui executes without issue.</p>\n"},{"tags":["java","binary-search"],"comments":[{"owner":{"account_id":6304088,"reputation":465,"user_id":4897735,"display_name":"drBet"},"score":0,"creation_date":1431629809,"post_id":30245166,"comment_id":48591253,"body_markdown":"and the arraylist is sorted in this case...","body":"and the arraylist is sorted in this case..."},{"owner":{"account_id":2910119,"reputation":1050,"user_id":2494555,"display_name":"blazetopher"},"score":0,"creation_date":1431629976,"post_id":30245166,"comment_id":48591357,"body_markdown":"Do you want the closest number (which might be larger) or the closest number less than the query value?","body":"Do you want the closest number (which might be larger) or the closest number less than the query value?"},{"owner":{"account_id":5973669,"reputation":6765,"user_id":4695271,"accept_rate":69,"display_name":"x80486"},"score":0,"creation_date":1431629984,"post_id":30245166,"comment_id":48591362,"body_markdown":"So, what would be the outcome for having 3 and 5 (in your case). You choose the lower one because there were no upper closer...but what if you have those two?","body":"So, what would be the outcome for having 3 and 5 (in your case). You choose the lower one because there were no upper closer...but what if you have those two?"},{"owner":{"account_id":5121464,"reputation":1288,"user_id":4104865,"accept_rate":96,"display_name":"Thomas Schmidt"},"score":0,"creation_date":1431630046,"post_id":30245166,"comment_id":48591412,"body_markdown":"Iterate through the list until you find the first value, which is bigger than your `x` or the the end of the list is reached. Then check the last two values.","body":"Iterate through the list until you find the first value, which is bigger than your <code>x</code> or the the end of the list is reached. Then check the last two values."},{"owner":{"account_id":6304088,"reputation":465,"user_id":4897735,"display_name":"drBet"},"score":0,"creation_date":1431630332,"post_id":30245166,"comment_id":48591600,"body_markdown":"@blazetopher less than, like in this case 3 was less than 4...","body":"@blazetopher less than, like in this case 3 was less than 4..."},{"owner":{"account_id":6304088,"reputation":465,"user_id":4897735,"display_name":"drBet"},"score":0,"creation_date":1431630369,"post_id":30245166,"comment_id":48591615,"body_markdown":"@ɐuıɥɔɐɯ In that case the outpuut would still be 3, because 3 is smaller than 4..","body":"@ɐuıɥɔɐɯ In that case the outpuut would still be 3, because 3 is smaller than 4.."},{"owner":{"account_id":6304088,"reputation":465,"user_id":4897735,"display_name":"drBet"},"score":0,"creation_date":1431630403,"post_id":30245166,"comment_id":48591630,"body_markdown":"@ThomasSchmidt yeah that was my initial thought, but for large arraylists it takes waaaaaaaay too long..","body":"@ThomasSchmidt yeah that was my initial thought, but for large arraylists it takes waaaaaaaay too long.."},{"owner":{"account_id":6304088,"reputation":465,"user_id":4897735,"display_name":"drBet"},"score":0,"creation_date":1431630663,"post_id":30245166,"comment_id":48591773,"body_markdown":"@KorhanOzturk Hii, no, it is not the same question, because the way with the loop is the obvious one. I am concerned here also for the speed....","body":"@KorhanOzturk Hii, no, it is not the same question, because the way with the loop is the obvious one. I am concerned here also for the speed...."}],"answers":[{"tags":[],"owner":{"account_id":106491,"reputation":59253,"user_id":283676,"accept_rate":93,"display_name":"Andrey"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1431629960,"creation_date":1431629960,"answer_id":30245222,"question_id":30245166,"body_markdown":"You need `Array.binarySearch`, [docs][1].\r\n\r\n&gt; Returns: index of the search key, if it is contained in the array;\r\n&gt; otherwise, (-(insertion point) - 1). The insertion point is defined as\r\n&gt; the point at which the key would be inserted into the array: the index\r\n&gt; of the first element greater than the key, or a.length if all elements\r\n&gt; in the array are less than the specified key.\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#binarySearch(java.lang.Object[],%20java.lang.Object)","title":"Find the nearest/closest value in a sorted List","body":"<p>You need <code>Array.binarySearch</code>, <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#binarySearch(java.lang.Object[],%20java.lang.Object)\" rel=\"noreferrer\">docs</a>.</p>\n\n<blockquote>\n  <p>Returns: index of the search key, if it is contained in the array;\n  otherwise, (-(insertion point) - 1). The insertion point is defined as\n  the point at which the key would be inserted into the array: the index\n  of the first element greater than the key, or a.length if all elements\n  in the array are less than the specified key.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":364417,"reputation":1073,"user_id":708790,"display_name":"starf"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1431630116,"creation_date":1431630116,"answer_id":30245267,"question_id":30245166,"body_markdown":"It seems like the easiest way is simply to iterate over the sorted list, checking each item.\r\n\r\n    List&lt;Integer&gt; ints = new ArrayList&lt;&gt;();\r\n    ints.add(1);\r\n    ints.add(3);\r\n    ints.add(6);\r\n    ints.add(7);\r\n\r\n    Collections.sort(ints);\r\n\r\n    int target = 4;\r\n    int nearest = 0;\r\n\r\n    for (int i : ints)\r\n    {\r\n        if (i &lt;= target) {\r\n            nearest = i;\r\n        }\r\n    }\r\n\r\n    System.out.println(nearest);\r\n\r\nThis outputs the largest item in the list which is less than or equal to the `target`.","title":"Find the nearest/closest value in a sorted List","body":"<p>It seems like the easiest way is simply to iterate over the sorted list, checking each item.</p>\n\n<pre><code>List&lt;Integer&gt; ints = new ArrayList&lt;&gt;();\nints.add(1);\nints.add(3);\nints.add(6);\nints.add(7);\n\nCollections.sort(ints);\n\nint target = 4;\nint nearest = 0;\n\nfor (int i : ints)\n{\n    if (i &lt;= target) {\n        nearest = i;\n    }\n}\n\nSystem.out.println(nearest);\n</code></pre>\n\n<p>This outputs the largest item in the list which is less than or equal to the <code>target</code>.</p>\n"},{"tags":[],"owner":{"account_id":85850,"reputation":8741,"user_id":239101,"accept_rate":57,"display_name":"David Soroko"},"down_vote_count":0,"up_vote_count":52,"is_accepted":true,"score":52,"last_activity_date":1611415169,"creation_date":1431630566,"answer_id":30245398,"question_id":30245166,"body_markdown":"Because the collection is sorted, you can do a modified binary search in `O( log n )` : \r\n\r\n        public static int search(int value, int[] a) {\r\n\r\n            if(value &lt; a[0]) {\r\n                return a[0];\r\n            }\r\n            if(value &gt; a[a.length-1]) {\r\n                return a[a.length-1];\r\n            }\r\n\r\n            int lo = 0;\r\n            int hi = a.length - 1;\r\n\r\n            while (lo &lt;= hi) {\r\n                int mid = (hi + lo) / 2;\r\n\r\n                if (value &lt; a[mid]) {\r\n                    hi = mid - 1;\r\n                } else if (value &gt; a[mid]) {\r\n                    lo = mid + 1;\r\n                } else {\r\n                    return a[mid];\r\n                }\r\n            }\r\n            // lo == hi + 1\r\n            return (a[lo] - value) &lt; (value - a[hi]) ? a[lo] : a[hi];\r\n        }\r\n\r\nSince most of the code above is binary search, you can leverage the  [`binarySearch(...)`][1] provided in the std library and examine the value of the `insertion point`:\r\n\r\n```java\r\n    public static int usingBinarySearch(int value, int[] a) {\r\n        if (value &lt;= a[0]) { return a[0]; }\r\n        if (value &gt;= a[a.length - 1]) { return a[a.length - 1]; }\r\n\r\n        int result = Arrays.binarySearch(a, value);\r\n        if (result &gt;= 0) { return a[result]; }\r\n\r\n        int insertionPoint = -result - 1;\r\n        return (a[insertionPoint] - value) &lt; (value - a[insertionPoint - 1]) ?\r\n                a[insertionPoint] : a[insertionPoint - 1];\r\n    }\r\n\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Arrays.html#binarySearch(byte%5B%5D,byte)","title":"Find the nearest/closest value in a sorted List","body":"<p>Because the collection is sorted, you can do a modified binary search in <code>O( log n )</code> :</p>\n<pre><code>    public static int search(int value, int[] a) {\n\n        if(value &lt; a[0]) {\n            return a[0];\n        }\n        if(value &gt; a[a.length-1]) {\n            return a[a.length-1];\n        }\n\n        int lo = 0;\n        int hi = a.length - 1;\n\n        while (lo &lt;= hi) {\n            int mid = (hi + lo) / 2;\n\n            if (value &lt; a[mid]) {\n                hi = mid - 1;\n            } else if (value &gt; a[mid]) {\n                lo = mid + 1;\n            } else {\n                return a[mid];\n            }\n        }\n        // lo == hi + 1\n        return (a[lo] - value) &lt; (value - a[hi]) ? a[lo] : a[hi];\n    }\n</code></pre>\n<p>Since most of the code above is binary search, you can leverage the  <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Arrays.html#binarySearch(byte%5B%5D,byte)\" rel=\"noreferrer\"><code>binarySearch(...)</code></a> provided in the std library and examine the value of the <code>insertion point</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static int usingBinarySearch(int value, int[] a) {\n        if (value &lt;= a[0]) { return a[0]; }\n        if (value &gt;= a[a.length - 1]) { return a[a.length - 1]; }\n\n        int result = Arrays.binarySearch(a, value);\n        if (result &gt;= 0) { return a[result]; }\n\n        int insertionPoint = -result - 1;\n        return (a[insertionPoint] - value) &lt; (value - a[insertionPoint - 1]) ?\n                a[insertionPoint] : a[insertionPoint - 1];\n    }\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1431631597,"creation_date":1431631597,"answer_id":30245682,"question_id":30245166,"body_markdown":"Considering using `NavigableSet`, in particular `higher` and `lower`.","title":"Find the nearest/closest value in a sorted List","body":"<p>Considering using <code>NavigableSet</code>, in particular <code>higher</code> and <code>lower</code>.</p>\n"},{"tags":[],"owner":{"account_id":459393,"reputation":2042,"user_id":859840,"accept_rate":70,"display_name":"richizy"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1512937193,"creation_date":1512937193,"answer_id":47743053,"question_id":30245166,"body_markdown":"Just thinking off the top of my head, if you need to find all closest values in a sorted list, you can find _a_ closest value, then find all values with the same distance away from the target. Here, I use binary search 3 times:\r\n\r\n* First to find _a_ closest value\r\n* Second to find the left-most closest value\r\n* Third to find the right-most closest value\r\n\r\nIn Python:\r\n\r\n    def closest_value(arr, target):\r\n      def helper(arr, target, lo, hi, closest_so_far):\r\n        # Edge case\r\n        if lo == hi:\r\n          mid = lo\r\n          if abs(arr[mid] - target) &lt; abs(arr[closest_so_far] - target):\r\n            closest_so_far = mid\r\n          return closest_so_far\r\n\r\n        # General case\r\n        mid = ((hi - lo) &gt;&gt; 1) + lo\r\n\r\n        if arr[mid] == target:\r\n          return mid\r\n\r\n        if abs(arr[mid] - target) &lt; abs(arr[closest_so_far] - target):\r\n          closest_so_far = mid\r\n\r\n        if arr[mid] &lt; target:\r\n          # Search right\r\n          return helper(arr, target, min(mid + 1, hi), hi, closest_so_far)\r\n        else:\r\n          # Search left\r\n          return helper(arr, target, lo, max(mid - 1, lo), closest_so_far)\r\n\r\n\r\n      if len(arr) == 0:\r\n        return -1\r\n      return helper(arr, target, 0, len(arr) - 1, arr[0])\r\n\r\n\r\n    arr = [0, 10, 14, 27, 28, 30, 47]\r\n\r\n    attempt = closest_value(arr, 26)\r\n    print(attempt, arr[attempt])\r\n    assert attempt == 3\r\n\r\n    attempt = closest_value(arr, 29)\r\n    print(attempt, arr[attempt])\r\n    assert attempt in (4, 5)\r\n\r\n\r\n    def closest_values(arr, target):\r\n      def left_helper(arr, target, abs_diff, lo, hi):\r\n        # Base case\r\n        if lo == hi:\r\n          diff = arr[lo] - target\r\n          if abs(diff) == abs_diff:\r\n            return lo\r\n          else:\r\n            return lo + 1\r\n\r\n        # General case\r\n        mid = ((hi - lo) &gt;&gt; 1) + lo\r\n        diff = arr[mid] - target\r\n        if diff &lt; 0 and abs(diff) &gt; abs_diff:\r\n          # Search right\r\n          return left_helper(arr, target, abs_diff, min(mid + 1, hi), hi)\r\n        elif abs(diff) == abs_diff:\r\n          # Search left\r\n          return left_helper(arr, target, abs_diff, lo, max(mid - 1, lo))\r\n        else:\r\n          # Search left\r\n          return left_helper(arr, target, abs_diff, lo, max(mid - 1, lo))\r\n\r\n\r\n      def right_helper(arr, target, abs_diff, lo, hi):\r\n        # Base case\r\n        if lo == hi:\r\n          diff = arr[lo] - target\r\n          if abs(diff) == abs_diff:\r\n            return lo\r\n          else:\r\n            return lo - 1\r\n\r\n        # General case\r\n        mid = ((hi - lo) &gt;&gt; 1) + lo\r\n        diff = arr[mid] - target\r\n        if diff &lt; 0 and abs(diff) &gt; abs_diff:\r\n          # Search right\r\n          return right_helper(arr, target, abs_diff, min(mid + 1, hi), hi)\r\n        elif abs(diff) == abs_diff:\r\n          # Search right\r\n          return right_helper(arr, target, abs_diff, min(mid + 1, hi), hi)\r\n        else:\r\n          # Search left\r\n          return right_helper(arr, target, abs_diff, lo, max(mid - 1, lo))\r\n\r\n\r\n      a_closest_value = closest_value(arr, target)\r\n      if a_closest_value == -1:\r\n        return -1, -1\r\n\r\n      n = len(arr)\r\n      abs_diff = abs(arr[a_closest_value] - target)\r\n      left = left_helper(arr, target, abs_diff, 0, a_closest_value)\r\n      right = right_helper(arr, target, abs_diff, a_closest_value, n - 1)\r\n      return left, right\r\n\r\n\r\n    arr = [0, 10, 14, 27, 27, 29, 30]\r\n\r\n    attempt = closest_values(arr, 28)\r\n    print(attempt, arr[attempt[0] : attempt[1] + 1])\r\n    assert attempt == (3, 5)\r\n\r\n    attempt = closest_values(arr, 27)\r\n    print(attempt, arr[attempt[0] : attempt[1] + 1])\r\n    assert attempt == (3, 4)\r\n","title":"Find the nearest/closest value in a sorted List","body":"<p>Just thinking off the top of my head, if you need to find all closest values in a sorted list, you can find <em>a</em> closest value, then find all values with the same distance away from the target. Here, I use binary search 3 times:</p>\n\n<ul>\n<li>First to find <em>a</em> closest value</li>\n<li>Second to find the left-most closest value</li>\n<li>Third to find the right-most closest value</li>\n</ul>\n\n<p>In Python:</p>\n\n<pre><code>def closest_value(arr, target):\n  def helper(arr, target, lo, hi, closest_so_far):\n    # Edge case\n    if lo == hi:\n      mid = lo\n      if abs(arr[mid] - target) &lt; abs(arr[closest_so_far] - target):\n        closest_so_far = mid\n      return closest_so_far\n\n    # General case\n    mid = ((hi - lo) &gt;&gt; 1) + lo\n\n    if arr[mid] == target:\n      return mid\n\n    if abs(arr[mid] - target) &lt; abs(arr[closest_so_far] - target):\n      closest_so_far = mid\n\n    if arr[mid] &lt; target:\n      # Search right\n      return helper(arr, target, min(mid + 1, hi), hi, closest_so_far)\n    else:\n      # Search left\n      return helper(arr, target, lo, max(mid - 1, lo), closest_so_far)\n\n\n  if len(arr) == 0:\n    return -1\n  return helper(arr, target, 0, len(arr) - 1, arr[0])\n\n\narr = [0, 10, 14, 27, 28, 30, 47]\n\nattempt = closest_value(arr, 26)\nprint(attempt, arr[attempt])\nassert attempt == 3\n\nattempt = closest_value(arr, 29)\nprint(attempt, arr[attempt])\nassert attempt in (4, 5)\n\n\ndef closest_values(arr, target):\n  def left_helper(arr, target, abs_diff, lo, hi):\n    # Base case\n    if lo == hi:\n      diff = arr[lo] - target\n      if abs(diff) == abs_diff:\n        return lo\n      else:\n        return lo + 1\n\n    # General case\n    mid = ((hi - lo) &gt;&gt; 1) + lo\n    diff = arr[mid] - target\n    if diff &lt; 0 and abs(diff) &gt; abs_diff:\n      # Search right\n      return left_helper(arr, target, abs_diff, min(mid + 1, hi), hi)\n    elif abs(diff) == abs_diff:\n      # Search left\n      return left_helper(arr, target, abs_diff, lo, max(mid - 1, lo))\n    else:\n      # Search left\n      return left_helper(arr, target, abs_diff, lo, max(mid - 1, lo))\n\n\n  def right_helper(arr, target, abs_diff, lo, hi):\n    # Base case\n    if lo == hi:\n      diff = arr[lo] - target\n      if abs(diff) == abs_diff:\n        return lo\n      else:\n        return lo - 1\n\n    # General case\n    mid = ((hi - lo) &gt;&gt; 1) + lo\n    diff = arr[mid] - target\n    if diff &lt; 0 and abs(diff) &gt; abs_diff:\n      # Search right\n      return right_helper(arr, target, abs_diff, min(mid + 1, hi), hi)\n    elif abs(diff) == abs_diff:\n      # Search right\n      return right_helper(arr, target, abs_diff, min(mid + 1, hi), hi)\n    else:\n      # Search left\n      return right_helper(arr, target, abs_diff, lo, max(mid - 1, lo))\n\n\n  a_closest_value = closest_value(arr, target)\n  if a_closest_value == -1:\n    return -1, -1\n\n  n = len(arr)\n  abs_diff = abs(arr[a_closest_value] - target)\n  left = left_helper(arr, target, abs_diff, 0, a_closest_value)\n  right = right_helper(arr, target, abs_diff, a_closest_value, n - 1)\n  return left, right\n\n\narr = [0, 10, 14, 27, 27, 29, 30]\n\nattempt = closest_values(arr, 28)\nprint(attempt, arr[attempt[0] : attempt[1] + 1])\nassert attempt == (3, 5)\n\nattempt = closest_values(arr, 27)\nprint(attempt, arr[attempt[0] : attempt[1] + 1])\nassert attempt == (3, 4)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10398269,"reputation":111,"user_id":7667417,"display_name":"NewUser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528757419,"creation_date":1528757419,"answer_id":50807074,"question_id":30245166,"body_markdown":"Another O(log n) easy to understand solution using binary search:\r\n\r\n\r\n    public class Solution {\r\n        static int findClosest(int arr[], int n, int target)\r\n        {\r\n            int l=0, h=n-1, diff=Integer.MAX_VALUE, val=arr[0];\r\n            while(l&lt;=h)\r\n            {\r\n                int mid=l+(h-l)/2;\r\n                if(Math.abs(target-arr[mid])&lt;diff)\r\n                {\r\n                    diff= Math.abs(target-arr[mid]);\r\n                    val=arr[mid];\r\n                }\r\n                if(arr[mid]&lt;target)\r\n                    l=mid+1;\r\n                else\r\n                    h=mid-1;\r\n            }\r\n            return val;\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            System.out.println(findClosest(new int[]{1,3,6,7}, 4, 3));\r\n        }\r\n    }\r\n\r\n","title":"Find the nearest/closest value in a sorted List","body":"<p>Another O(log n) easy to understand solution using binary search:</p>\n\n<pre><code>public class Solution {\n    static int findClosest(int arr[], int n, int target)\n    {\n        int l=0, h=n-1, diff=Integer.MAX_VALUE, val=arr[0];\n        while(l&lt;=h)\n        {\n            int mid=l+(h-l)/2;\n            if(Math.abs(target-arr[mid])&lt;diff)\n            {\n                diff= Math.abs(target-arr[mid]);\n                val=arr[mid];\n            }\n            if(arr[mid]&lt;target)\n                l=mid+1;\n            else\n                h=mid-1;\n        }\n        return val;\n\n    }\n\n    public static void main(String[] args) {\n        System.out.println(findClosest(new int[]{1,3,6,7}, 4, 3));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1185980,"reputation":2864,"user_id":1159930,"accept_rate":50,"display_name":"Markymark"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1668717335,"creation_date":1537493351,"answer_id":52435382,"question_id":30245166,"body_markdown":"Andrey&#39;s answer is correct. Just expanding on it a bit.\r\n&lt;br /&gt;No need to reinvent the wheel when you can use the built in binary search.\r\n\r\n\r\nYou can find the indices with:\r\n\r\n    int leftIndex = (-Collections.binarySearch(allItems, key) - 2);\r\n    int rightIndex = (-Collections.binarySearch(allItems, key) - 1);\r\n\r\nThe item in the list will need to implement [Comparable][1]. \r\nSimple types like `String` and `Integer` already implement this. Here&#39;s an example https://www.javatpoint.com/Comparable-interface-in-collection-framework.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html\r\n\r\nDepending on your use case you may want to do `index = Math.max(0, index)` after the binary search just to be safe.\r\n\r\n---\r\n\r\nUpdate:\r\nAs pointed out by sundar, if there are duplicates in the array then binary search will not return accurate results. So perhaps if binary search fails then you can default to a linear search.","title":"Find the nearest/closest value in a sorted List","body":"<p>Andrey's answer is correct. Just expanding on it a bit.\n<br />No need to reinvent the wheel when you can use the built in binary search.</p>\n<p>You can find the indices with:</p>\n<pre><code>int leftIndex = (-Collections.binarySearch(allItems, key) - 2);\nint rightIndex = (-Collections.binarySearch(allItems, key) - 1);\n</code></pre>\n<p>The item in the list will need to implement <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html\" rel=\"nofollow noreferrer\">Comparable</a>.\nSimple types like <code>String</code> and <code>Integer</code> already implement this. Here's an example <a href=\"https://www.javatpoint.com/Comparable-interface-in-collection-framework\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/Comparable-interface-in-collection-framework</a>.</p>\n<p>Depending on your use case you may want to do <code>index = Math.max(0, index)</code> after the binary search just to be safe.</p>\n<hr />\n<p>Update:\nAs pointed out by sundar, if there are duplicates in the array then binary search will not return accurate results. So perhaps if binary search fails then you can default to a linear search.</p>\n"},{"tags":[],"owner":{"account_id":18865561,"reputation":15,"user_id":13761387,"display_name":"sourav singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1600669418,"creation_date":1599496513,"answer_id":63781307,"question_id":30245166,"body_markdown":"There are two methods to achieve the result-\r\n\r\n1. lower_bound\r\n2. binary search\r\n\r\nI prefer to use the lower_bound method, it&#39;s short :)\r\n\r\n```c++\r\nint pos=lower_bound(v.begin(),v.end(),value);\r\nif(pos!=0&amp;&amp;target!=v[pos])\r\n    if(abs(v[pos]-value)&gt;abs(value-v[pos-1]))\r\n        pos=pos-1;\r\n```\r\n\r\nFor binary search, you can refer to the above answers, as my code will seem like a copy paste of their code. Note that I have declared the array globally here.\r\n\r\n```c++\r\nbinarysearch(int low,int high,int val)\r\n{\r\n    if(val&lt;=arr[0])\r\n        return 0;\r\n    if(val&gt;=arr[n-1])\r\n        return arr[n-1];\r\n    while(low&lt;=high)\r\n    {\r\n        int mid=(low+high)/2;\r\n        if(v[mid]&gt;val)\r\n            return binarysearch(low,mid-1,val);\r\n        else if(v[mid]&lt;val)\r\n            return binarysearch(mid+1,high,val);\r\n        else return mid;\r\n    }\r\n    if(abs(val-v[low])&gt;=abs(val-v[high]))\r\n        return high;\r\n    else \r\n        return low;\r\n}\r\n```\r\n","title":"Find the nearest/closest value in a sorted List","body":"<p>There are two methods to achieve the result-</p>\n<ol>\n<li>lower_bound</li>\n<li>binary search</li>\n</ol>\n<p>I prefer to use the lower_bound method, it's short :)</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>int pos=lower_bound(v.begin(),v.end(),value);\nif(pos!=0&amp;&amp;target!=v[pos])\n    if(abs(v[pos]-value)&gt;abs(value-v[pos-1]))\n        pos=pos-1;\n</code></pre>\n<p>For binary search, you can refer to the above answers, as my code will seem like a copy paste of their code. Note that I have declared the array globally here.</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>binarysearch(int low,int high,int val)\n{\n    if(val&lt;=arr[0])\n        return 0;\n    if(val&gt;=arr[n-1])\n        return arr[n-1];\n    while(low&lt;=high)\n    {\n        int mid=(low+high)/2;\n        if(v[mid]&gt;val)\n            return binarysearch(low,mid-1,val);\n        else if(v[mid]&lt;val)\n            return binarysearch(mid+1,high,val);\n        else return mid;\n    }\n    if(abs(val-v[low])&gt;=abs(val-v[high]))\n        return high;\n    else \n        return low;\n}\n</code></pre>\n"}],"owner":{"account_id":6304088,"reputation":465,"user_id":4897735,"display_name":"drBet"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70171,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"closed_date":1615913879,"accepted_answer_id":30245398,"answer_count":8,"score":31,"last_activity_date":1668717335,"creation_date":1431629785,"question_id":30245166,"body_markdown":"I was wondering if it is possible to find the closest element in a sorted `List` for a element **that is not** in the list.\r\n\r\nFor example if we had the values [1,3,6,7] and we are looking for the element closest to 4, it should return 3, because 3 is the biggest number in the array, that is smaller than 4.\r\n\r\nI hope it makes sense, because English is not my native language.","title":"Find the nearest/closest value in a sorted List","body":"<p>I was wondering if it is possible to find the closest element in a sorted <code>List</code> for a element <strong>that is not</strong> in the list.</p>\n<p>For example if we had the values [1,3,6,7] and we are looking for the element closest to 4, it should return 3, because 3 is the biggest number in the array, that is smaller than 4.</p>\n<p>I hope it makes sense, because English is not my native language.</p>\n"},{"tags":["java","android","xml","xslt"],"comments":[{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1668632574,"post_id":74466996,"comment_id":131455963,"body_markdown":"XSLT 2 or 3 (for-each-group was introduced in XSLT 2) is not supported for most Java platforms/runtimes by the built-in Transformer, that tends to support XSLT 1 only. It is however, possible, to use Saxon HE Java with Android, there is some setting (dex or multidex?) needed to ensure the Android Java compiler can use/grok the library. Whether it plugs into the JAXP Transformer API, even on Android, by simply putting it on the classpath, is something I have never tried, but you can certainly use its s9api API to run XSLT 2/3 with Java code under Android.","body":"XSLT 2 or 3 (for-each-group was introduced in XSLT 2) is not supported for most Java platforms/runtimes by the built-in Transformer, that tends to support XSLT 1 only. It is however, possible, to use Saxon HE Java with Android, there is some setting (dex or multidex?) needed to ensure the Android Java compiler can use/grok the library. Whether it plugs into the JAXP Transformer API, even on Android, by simply putting it on the classpath, is something I have never tried, but you can certainly use its s9api API to run XSLT 2/3 with Java code under Android."},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":2,"creation_date":1668632718,"post_id":74466996,"comment_id":131456002,"body_markdown":"Otherwise, simple grouping in XSLT 1 is possible, even if a little hard to understand, by using Muenchian grouping: http://www.jenitennison.com/xslt/grouping/muenchian.html","body":"Otherwise, simple grouping in XSLT 1 is possible, even if a little hard to understand, by using Muenchian grouping: <a href=\"http://www.jenitennison.com/xslt/grouping/muenchian.html\" rel=\"nofollow noreferrer\">jenitennison.com/xslt/grouping/muenchian.html</a>"},{"owner":{"account_id":26955208,"reputation":1,"user_id":20523711,"display_name":"Pastel-dark-blue"},"score":0,"creation_date":1668658544,"post_id":74466996,"comment_id":131460929,"body_markdown":"After 100 attempts, I thought that xslt 1.0 should be used, but I really hoped that there were other options. Apparently, I still have to deal with this terrible syntax of the first version.","body":"After 100 attempts, I thought that xslt 1.0 should be used, but I really hoped that there were other options. Apparently, I still have to deal with this terrible syntax of the first version."},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1668690055,"post_id":74466996,"comment_id":131470340,"body_markdown":"I have now checked whether adding Saxon HE 11.4 from Maven as a dependency to an Android Studio project makes the JAXP TransformerFactory use Saxon by default. That doesn&#39;t seem to be the case so either explicitly create a Saxon `net.sf.saxon.TransformerFactoryImpl`, as documented in https://www.saxonica.com/html/documentation11/using-xsl/embedding/jaxp-transformation.html, or use s9api https://www.saxonica.com/html/documentation11/using-xsl/embedding/s9api-transformation.html, if you want to use XSLT 2/3 inside of an Android app.","body":"I have now checked whether adding Saxon HE 11.4 from Maven as a dependency to an Android Studio project makes the JAXP TransformerFactory use Saxon by default. That doesn&#39;t seem to be the case so either explicitly create a Saxon <code>net.sf.saxon.TransformerFactoryImpl</code>, as documented in <a href=\"https://www.saxonica.com/html/documentation11/using-xsl/embedding/jaxp-transformation.html\" rel=\"nofollow noreferrer\">saxonica.com/html/documentation11/using-xsl/embedding/&hellip;</a>, or use s9api <a href=\"https://www.saxonica.com/html/documentation11/using-xsl/embedding/s9api-transformation.html\" rel=\"nofollow noreferrer\">saxonica.com/html/documentation11/using-xsl/embedding/&hellip;</a>, if you want to use XSLT 2/3 inside of an Android app."}],"answers":[{"tags":[],"owner":{"account_id":26955208,"reputation":1,"user_id":20523711,"display_name":"Pastel-dark-blue"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668717141,"creation_date":1668717141,"answer_id":74481750,"question_id":74466996,"body_markdown":"As a result I changed TXT format to XML. So now I have an XSLT file that groups tasks with a selected date into categories.:\r\n```\r\n&lt;?xml version=&quot;1.0&quot;?&gt; \r\n&lt;xsl:stylesheet version=&quot;1.0&quot; exclude-result-prefixes=&quot;xsl&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt; \r\n&lt;xsl:output method=&quot;xml&quot; encoding=&quot;utf-8&quot; indent=&quot;yes&quot;&quot; \r\n\t\t\t xslt:indent-amount=&quot;3&quot; xmlns:xslt=&quot;http://xml.apache.org/xslt&quot;/&gt; \r\n\t\t\t \r\n&lt;xsl:key name=&quot;group&quot; match=&quot;Task&quot; use=&quot;@category&quot;/&gt; \r\n \r\n&lt;xsl:template match=&quot;TaskInfo/TaskList&quot;&gt; \r\n&lt;xsl:text&gt;&amp;#xa;&lt;/xsl:text&gt;\r\n\t&lt;Tasks&gt; \r\n\t\t&lt;xsl:attribute name=&quot;date&quot;&gt; \r\n\t\t\t&lt;xsl:text&gt;17.11.2022&lt;/xsl:text&gt;\r\n\t\t&lt;/xsl:attribute&gt; \r\n\t\t&lt;xsl:apply-templates select=&quot;Task[generate-id(.) = generate-id(key(&#39;group&#39;,@category))]&quot; /&gt; \r\n\t&lt;/Tasks&gt; \r\n&lt;/xsl:template&gt; \r\n\r\n&lt;xsl:template match=&quot;Task&quot;&gt; \r\n\t&lt;Category&gt; \r\n\t   &lt;xsl:attribute name=&quot;value&quot;&gt; \r\n\t\t   &lt;xsl:value-of select = &quot;@category&quot;/&gt; \r\n\t   &lt;/xsl:attribute&gt; \r\n\t\t&lt;xsl:for-each select=&quot;key(&#39;group&#39;,@category)&quot;&gt; \r\n\t\t\t&lt;xsl:if test=&quot;@date=&#39;17.11.2022&#39;&quot;&gt;\r\n\t\t\t\t&lt;TaskText&gt;&lt;xsl:value-of select=&quot;@taskText&quot;/&gt;&lt;/TaskText&gt; \r\n\t\t\t&lt;/xsl:if&gt; \r\n\t\t&lt;/xsl:for-each&gt;\r\n\t&lt;/Category&gt; \r\n&lt;/xsl:template&gt; \r\n\r\n&lt;/xsl:stylesheet&gt;\r\n```\r\n\r\nWhere 17.11.2022 date can be changed to the selected one.","title":"Apply XSLT to XML in android (Java)","body":"<p>As a result I changed TXT format to XML. So now I have an XSLT file that groups tasks with a selected date into categories.:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt; \n&lt;xsl:stylesheet version=&quot;1.0&quot; exclude-result-prefixes=&quot;xsl&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt; \n&lt;xsl:output method=&quot;xml&quot; encoding=&quot;utf-8&quot; indent=&quot;yes&quot;&quot; \n             xslt:indent-amount=&quot;3&quot; xmlns:xslt=&quot;http://xml.apache.org/xslt&quot;/&gt; \n             \n&lt;xsl:key name=&quot;group&quot; match=&quot;Task&quot; use=&quot;@category&quot;/&gt; \n \n&lt;xsl:template match=&quot;TaskInfo/TaskList&quot;&gt; \n&lt;xsl:text&gt;&amp;#xa;&lt;/xsl:text&gt;\n    &lt;Tasks&gt; \n        &lt;xsl:attribute name=&quot;date&quot;&gt; \n            &lt;xsl:text&gt;17.11.2022&lt;/xsl:text&gt;\n        &lt;/xsl:attribute&gt; \n        &lt;xsl:apply-templates select=&quot;Task[generate-id(.) = generate-id(key('group',@category))]&quot; /&gt; \n    &lt;/Tasks&gt; \n&lt;/xsl:template&gt; \n\n&lt;xsl:template match=&quot;Task&quot;&gt; \n    &lt;Category&gt; \n       &lt;xsl:attribute name=&quot;value&quot;&gt; \n           &lt;xsl:value-of select = &quot;@category&quot;/&gt; \n       &lt;/xsl:attribute&gt; \n        &lt;xsl:for-each select=&quot;key('group',@category)&quot;&gt; \n            &lt;xsl:if test=&quot;@date='17.11.2022'&quot;&gt;\n                &lt;TaskText&gt;&lt;xsl:value-of select=&quot;@taskText&quot;/&gt;&lt;/TaskText&gt; \n            &lt;/xsl:if&gt; \n        &lt;/xsl:for-each&gt;\n    &lt;/Category&gt; \n&lt;/xsl:template&gt; \n\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>Where 17.11.2022 date can be changed to the selected one.</p>\n"}],"owner":{"account_id":26955208,"reputation":1,"user_id":20523711,"display_name":"Pastel-dark-blue"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74481750,"answer_count":1,"score":0,"last_activity_date":1668717141,"creation_date":1668631530,"question_id":74466996,"body_markdown":"I need to transform XML in txt with the help of XSLT. While transforming tasks should be group by categories.\r\nI&#39;ve tried an online transformer, and everything worked, but Android doesn&#39;t.\r\n![online transformer](https://i.stack.imgur.com/2V8ZN.png)\r\n\r\nI&#39;ve got an XML file:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;TaskInfo&gt;\r\n    &lt;TaskList&gt;\r\n        &lt;Task date=&quot;12.11.2022&quot; taskText=&quot;1&quot; category=&quot;Нет категории&quot;/&gt;\r\n        &lt;Task date=&quot;12.11.2022&quot; taskText=&quot;2&quot; category=&quot;joblnlnl&quot;/&gt;\r\n    &lt;/TaskList&gt;\r\n    &lt;CategoryList&gt;\r\n        &lt;Category value=&quot;Нет категории&quot;/&gt;\r\n        &lt;Category value=&quot;joblnlnl&quot;/&gt;\r\n    &lt;/CategoryList&gt;\r\n&lt;/TaskInfo&gt;\r\n```\r\n\r\nI need to transform it to text with xslt. Also I need to **group tasks by category**, and now (with the xslt below) I&#39;m just trying to print categories, but even this doesn&#39;t work.\r\nMy xslt:\r\n\r\n```\r\n&lt;xsl:stylesheet version=&quot;2.0&quot;\r\n   xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\r\n   \r\n\t&lt;xsl:output method=&quot;text&quot; \r\n\t\tomit-xml-declaration=&quot;yes&quot;\r\n\t\tencoding=&quot;UTF-8&quot;/&gt;\r\n\t\t\r\n\t&lt;xsl:template match=&quot;/TaskInfo/TaskList&quot;&gt;\r\n\t\t&lt;xsl:for-each-group select=&quot;Task&quot; group-by=&quot;@category&quot;&gt;\r\n\t\t\t&lt;xsl:value-of select=&quot;current-grouping-key()&quot; /&gt;\r\n\t\t\t&lt;xsl:text&gt;&amp;#xa;&lt;/xsl:text&gt;\r\n\t\t&lt;/xsl:for-each-group&gt;\r\n\t&lt;/xsl:template&gt;\r\n\r\n&lt;/xsl:stylesheet&gt;\r\n```\r\n\r\nIn java code I am using a method:\r\n\r\n```\r\npublic static boolean createTxtFromXml(String xmlFileName, String xsltFileName,\r\nString resultFileName, String date,\r\nActivity activity)\r\n{\r\ntry{\r\n// создание xslt файла\r\nString xslt =\r\n&quot;\\&lt;xsl:stylesheet version=&quot;2.0&quot;\\\\n&quot; +\r\n&quot;   xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform%5C%22%3E%5Cn%22 +\r\n&quot;   \\\\n&quot; +\r\n&quot;\\\\t\\&lt;xsl:output method=&quot;text&quot; \\\\n&quot; +\r\n&quot;\\\\t\\\\tomit-xml-declaration=&quot;yes&quot;\\\\n&quot; +\r\n&quot;\\\\t\\\\tencoding=&quot;UTF-8&quot;/\\&gt;\\\\n&quot; +\r\n&quot;\\\\t\\\\t\\\\n&quot; +\r\n&quot;\\\\t\\&lt;xsl:template match=&quot;/TaskInfo/TaskList&quot;\\&gt;\\\\n&quot; +\r\n&quot;\\\\t\\\\t\\&lt;xsl:for-each-group select=&quot;Task&quot; group-by=&quot;@category&quot;\\&gt;\\\\n&quot; +\r\n&quot;\\\\t\\\\t\\\\t\\&lt;xsl:value-of select=&quot;current-grouping-key()&quot; /\\&gt;\\\\n&quot; +\r\n&quot;\\\\t\\\\t\\\\t\\&lt;xsl:text\\&gt;\r\n\\&lt;/xsl:text\\&gt;\\\\n&quot; +\r\n&quot;\\\\t\\\\t\\&lt;/xsl:for-each-group\\&gt;\\\\n&quot; +\r\n&quot;\\\\t\\&lt;/xsl:template\\&gt;\\\\n&quot; +\r\n&quot;\\\\n&quot; +\r\n&quot;\\&lt;/xsl:stylesheet\\&gt;\\\\n&quot;;\r\n\r\n        File xslt_file = new File(activity.getFilesDir(), xsltFileName);\r\n        FileWriter fw = new FileWriter(xslt_file, false);\r\n        fw.write(xslt);\r\n        fw.close();\r\n    \r\n        //\r\n        FileInputStream xml_file_istream = activity.openFileInput(xmlFileName);\r\n        FileInputStream xslt_file_istream = activity.openFileInput(xsltFileName);\r\n        FileOutputStream result_file_ostream = activity.openFileOutput(resultFileName, MODE_PRIVATE);\r\n    \r\n        TransformerFactory factory = TransformerFactory.newInstance();\r\n    \r\n        Source xml_source = new StreamSource(xml_file_istream);\r\n        Source xslt_source = new StreamSource(xslt_file_istream);\r\n    \r\n        Transformer transformer = factory.newTransformer(xslt_source);\r\n        transformer.transform(xml_source, new StreamResult(result_file_ostream));\r\n    \r\n        return true;\r\n    }\r\n    catch(Exception e){\r\n        Log.d(&quot;Lab_8_bd&quot;, e.getMessage());\r\n        return false;\r\n    }\r\n\r\n}\r\n```\r\n\r\nExpected result in my txt file:\r\n```\r\nНет категории\r\njoblnlnl\r\n```\r\n\r\nBut on this string null pointer is returning, so file isn&#39;t created:\r\nTransformer transformer = factory.newTransformer(xslt_source);\r\n\r\n![debugger](https://i.stack.imgur.com/aoOil.png)","title":"Apply XSLT to XML in android (Java)","body":"<p>I need to transform XML in txt with the help of XSLT. While transforming tasks should be group by categories.\nI've tried an online transformer, and everything worked, but Android doesn't.\n<img src=\"https://i.stack.imgur.com/2V8ZN.png\" alt=\"online transformer\" /></p>\n<p>I've got an XML file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;TaskInfo&gt;\n    &lt;TaskList&gt;\n        &lt;Task date=&quot;12.11.2022&quot; taskText=&quot;1&quot; category=&quot;Нет категории&quot;/&gt;\n        &lt;Task date=&quot;12.11.2022&quot; taskText=&quot;2&quot; category=&quot;joblnlnl&quot;/&gt;\n    &lt;/TaskList&gt;\n    &lt;CategoryList&gt;\n        &lt;Category value=&quot;Нет категории&quot;/&gt;\n        &lt;Category value=&quot;joblnlnl&quot;/&gt;\n    &lt;/CategoryList&gt;\n&lt;/TaskInfo&gt;\n</code></pre>\n<p>I need to transform it to text with xslt. Also I need to <strong>group tasks by category</strong>, and now (with the xslt below) I'm just trying to print categories, but even this doesn't work.\nMy xslt:</p>\n<pre><code>&lt;xsl:stylesheet version=&quot;2.0&quot;\n   xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\n   \n    &lt;xsl:output method=&quot;text&quot; \n        omit-xml-declaration=&quot;yes&quot;\n        encoding=&quot;UTF-8&quot;/&gt;\n        \n    &lt;xsl:template match=&quot;/TaskInfo/TaskList&quot;&gt;\n        &lt;xsl:for-each-group select=&quot;Task&quot; group-by=&quot;@category&quot;&gt;\n            &lt;xsl:value-of select=&quot;current-grouping-key()&quot; /&gt;\n            &lt;xsl:text&gt;&amp;#xa;&lt;/xsl:text&gt;\n        &lt;/xsl:for-each-group&gt;\n    &lt;/xsl:template&gt;\n\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>In java code I am using a method:</p>\n<pre><code>public static boolean createTxtFromXml(String xmlFileName, String xsltFileName,\nString resultFileName, String date,\nActivity activity)\n{\ntry{\n// создание xslt файла\nString xslt =\n&quot;\\&lt;xsl:stylesheet version=&quot;2.0&quot;\\\\n&quot; +\n&quot;   xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform%5C%22%3E%5Cn%22 +\n&quot;   \\\\n&quot; +\n&quot;\\\\t\\&lt;xsl:output method=&quot;text&quot; \\\\n&quot; +\n&quot;\\\\t\\\\tomit-xml-declaration=&quot;yes&quot;\\\\n&quot; +\n&quot;\\\\t\\\\tencoding=&quot;UTF-8&quot;/\\&gt;\\\\n&quot; +\n&quot;\\\\t\\\\t\\\\n&quot; +\n&quot;\\\\t\\&lt;xsl:template match=&quot;/TaskInfo/TaskList&quot;\\&gt;\\\\n&quot; +\n&quot;\\\\t\\\\t\\&lt;xsl:for-each-group select=&quot;Task&quot; group-by=&quot;@category&quot;\\&gt;\\\\n&quot; +\n&quot;\\\\t\\\\t\\\\t\\&lt;xsl:value-of select=&quot;current-grouping-key()&quot; /\\&gt;\\\\n&quot; +\n&quot;\\\\t\\\\t\\\\t\\&lt;xsl:text\\&gt;\n\\&lt;/xsl:text\\&gt;\\\\n&quot; +\n&quot;\\\\t\\\\t\\&lt;/xsl:for-each-group\\&gt;\\\\n&quot; +\n&quot;\\\\t\\&lt;/xsl:template\\&gt;\\\\n&quot; +\n&quot;\\\\n&quot; +\n&quot;\\&lt;/xsl:stylesheet\\&gt;\\\\n&quot;;\n\n        File xslt_file = new File(activity.getFilesDir(), xsltFileName);\n        FileWriter fw = new FileWriter(xslt_file, false);\n        fw.write(xslt);\n        fw.close();\n    \n        //\n        FileInputStream xml_file_istream = activity.openFileInput(xmlFileName);\n        FileInputStream xslt_file_istream = activity.openFileInput(xsltFileName);\n        FileOutputStream result_file_ostream = activity.openFileOutput(resultFileName, MODE_PRIVATE);\n    \n        TransformerFactory factory = TransformerFactory.newInstance();\n    \n        Source xml_source = new StreamSource(xml_file_istream);\n        Source xslt_source = new StreamSource(xslt_file_istream);\n    \n        Transformer transformer = factory.newTransformer(xslt_source);\n        transformer.transform(xml_source, new StreamResult(result_file_ostream));\n    \n        return true;\n    }\n    catch(Exception e){\n        Log.d(&quot;Lab_8_bd&quot;, e.getMessage());\n        return false;\n    }\n\n}\n</code></pre>\n<p>Expected result in my txt file:</p>\n<pre><code>Нет категории\njoblnlnl\n</code></pre>\n<p>But on this string null pointer is returning, so file isn't created:\nTransformer transformer = factory.newTransformer(xslt_source);</p>\n<p><img src=\"https://i.stack.imgur.com/aoOil.png\" alt=\"debugger\" /></p>\n"},{"tags":["java","amazon-web-services","txt"],"comments":[{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1668648974,"post_id":74468876,"comment_id":131459517,"body_markdown":"You appear to be putting the file to S3 before closing the writer and buffered writer, so I would guess the file was not flushed to disk by the time you read it and put it to S3.","body":"You appear to be putting the file to S3 before closing the writer and buffered writer, so I would guess the file was not flushed to disk by the time you read it and put it to S3."},{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1668649209,"post_id":74468876,"comment_id":131459546,"body_markdown":"Also, consider using `BufferedWriter bw = new BufferedWriter(new FileWriter(file, ...));`.","body":"Also, consider using <code>BufferedWriter bw = new BufferedWriter(new FileWriter(file, ...));</code>."}],"answers":[{"tags":[],"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668716696,"creation_date":1668651344,"answer_id":74469374,"question_id":74468876,"body_markdown":"Your code is writing to the text file and later reading from the same text file. But ... your code doesn&#39;t close the writer until the `finally` section of code so the read happens before the writer closes and consequently the written data, which is buffered, has not been flushed to disk.\r\n\r\nThe fix is to close the buffered writer before reading from the same file.\r\n\r\nAlso, you can reduce the amount of state in your program as follows, while also reducing the number of closes you have to do:\r\n\r\n    BufferedWriter bw = new BufferedWriter(new FileWriter(file, ...));\r\n\r\nYou might also consider using [try-with-resources][1] to auto flush/close your files.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html","title":"Why won&#39;t my lambda write to the .txt files it creates?","body":"<p>Your code is writing to the text file and later reading from the same text file. But ... your code doesn't close the writer until the <code>finally</code> section of code so the read happens before the writer closes and consequently the written data, which is buffered, has not been flushed to disk.</p>\n<p>The fix is to close the buffered writer before reading from the same file.</p>\n<p>Also, you can reduce the amount of state in your program as follows, while also reducing the number of closes you have to do:</p>\n<pre><code>BufferedWriter bw = new BufferedWriter(new FileWriter(file, ...));\n</code></pre>\n<p>You might also consider using <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a> to auto flush/close your files.</p>\n"}],"owner":{"account_id":26956884,"reputation":3,"user_id":20525084,"display_name":"Thutmose298"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74469374,"answer_count":1,"score":0,"last_activity_date":1668716696,"creation_date":1668645712,"question_id":74468876,"body_markdown":"I have an AWS lambda program written in Java that is supposed to create a bunch of txt files then write URLs to them and move them to a bucket. It appears to be creating the .txt files in the /tmp/ folder of the lambda but not writing anything to them, because I keep getting FL2: null. The bucket gets .txt files with the right names but they&#39;re empty. \r\n\r\nThe FileNames are all of the format &quot;/tmp/[name].txt&quot;. The map has txt filenames followed by a list of URLs. The buffered reader was simply my own code to see if it could read the .txts that were created.\r\n\r\n    for (Map.Entry&lt;String,  ArrayList&lt;String&gt;&gt; entry: files.entrySet()) {\r\n            String fileName = entry.getKey();\r\n            ArrayList&lt;String&gt; list = entry.getValue();\r\n            File file = new File(fileName);\r\n            FileWriter writer = null;\r\n            BufferedWriter bw = null;\r\n            BufferedReader br = null;\r\n            try {\r\n                if (!file.exists()){\r\n                    log.info(&quot;It doesn&#39;t exist as a temp.&quot;);\r\n                    if( !file.createNewFile()){\r\n                        log.error(fileName+&quot; not created. Skipping&quot;);\r\n                        continue;\r\n                    }\r\n                }\r\n                writer = new FileWriter(file, StandardCharsets.UTF_8);\r\n                bw = new BufferedWriter(writer);\r\n                for (int i=0; i&lt; list.size(); i++) {\r\n                    String url = list.get(i);\r\n                    log.info(&quot;Inserting &quot; + url + &quot; into file &quot; + fileName);\r\n                    if (i !=0){\r\n                        bw.write(&quot;\\n&quot;);\r\n                    }\r\n                    bw.write(url);\r\n                }\r\n                br = new BufferedReader(new FileReader(file, StandardCharsets.UTF_8));\r\n                log.info(&quot;FL2: &quot;+br.readLine());\r\n                String key = fileName.substring(5);\r\n                amazonS3.putObject(&quot;[bucketname]&quot;, key, file);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            finally{\r\n                try {\r\n                    if (writer != null) {\r\n                        writer.close();\r\n                    }\r\n                    if (bw != null) {\r\n                        bw.close();\r\n                    }\r\n                    if (br != null) {\r\n                        br.close();\r\n                    }\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n        log.info(&quot;End of the sitemap generator&quot;);\r\n    }\r\n\r\n\r\n\r\n\r\n\r\nI tried the above code, and I tried printWriter turning into a bufferedWriter.","title":"Why won&#39;t my lambda write to the .txt files it creates?","body":"<p>I have an AWS lambda program written in Java that is supposed to create a bunch of txt files then write URLs to them and move them to a bucket. It appears to be creating the .txt files in the /tmp/ folder of the lambda but not writing anything to them, because I keep getting FL2: null. The bucket gets .txt files with the right names but they're empty.</p>\n<p>The FileNames are all of the format &quot;/tmp/[name].txt&quot;. The map has txt filenames followed by a list of URLs. The buffered reader was simply my own code to see if it could read the .txts that were created.</p>\n<pre><code>for (Map.Entry&lt;String,  ArrayList&lt;String&gt;&gt; entry: files.entrySet()) {\n        String fileName = entry.getKey();\n        ArrayList&lt;String&gt; list = entry.getValue();\n        File file = new File(fileName);\n        FileWriter writer = null;\n        BufferedWriter bw = null;\n        BufferedReader br = null;\n        try {\n            if (!file.exists()){\n                log.info(&quot;It doesn't exist as a temp.&quot;);\n                if( !file.createNewFile()){\n                    log.error(fileName+&quot; not created. Skipping&quot;);\n                    continue;\n                }\n            }\n            writer = new FileWriter(file, StandardCharsets.UTF_8);\n            bw = new BufferedWriter(writer);\n            for (int i=0; i&lt; list.size(); i++) {\n                String url = list.get(i);\n                log.info(&quot;Inserting &quot; + url + &quot; into file &quot; + fileName);\n                if (i !=0){\n                    bw.write(&quot;\\n&quot;);\n                }\n                bw.write(url);\n            }\n            br = new BufferedReader(new FileReader(file, StandardCharsets.UTF_8));\n            log.info(&quot;FL2: &quot;+br.readLine());\n            String key = fileName.substring(5);\n            amazonS3.putObject(&quot;[bucketname]&quot;, key, file);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        finally{\n            try {\n                if (writer != null) {\n                    writer.close();\n                }\n                if (bw != null) {\n                    bw.close();\n                }\n                if (br != null) {\n                    br.close();\n                }\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n    log.info(&quot;End of the sitemap generator&quot;);\n}\n</code></pre>\n<p>I tried the above code, and I tried printWriter turning into a bufferedWriter.</p>\n"},{"tags":["java","postgresql","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668716459,"creation_date":1668716459,"answer_id":74481632,"question_id":74481631,"body_markdown":"The reason for that behavior may be the audit scheme, where the column&#39;s length would be still not upgraded. Check you audit scheme in that unclear cases\r\n\r\n    org:\r\n            hibernate:\r\n              envers:\r\n                default_schema: audit ","title":"Caused by: org.postgresql.util.PSQLException: ERROR: value too long for type character varying(255) with no reason","body":"<p>The reason for that behavior may be the audit scheme, where the column's length would be still not upgraded. Check you audit scheme in that unclear cases</p>\n<pre><code>org:\n        hibernate:\n          envers:\n            default_schema: audit \n</code></pre>\n"}],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74481632,"answer_count":1,"score":0,"last_activity_date":1668716459,"creation_date":1668716459,"question_id":74481631,"body_markdown":"I have the error like that while when debugging the object I don&#39;t see any fields exceeding 255 chars.\r\n\r\n    ERROR io.undertow.request - UT005023: Exception handling request to /billing/service/service/fl\r\n    org.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.springframework.orm.jpa.JpaSystemException: Unable to perform beforeTransactionCompletion callback: org.hibernate.exception.DataException: could not execute statement; nested exception is org.hibernate.HibernateException: Unable to perform beforeTransactionCompletion callback: org.hibernate.exception.DataException: could not execute statement\r\n            at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1013)\r\n            at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)\r\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:665)\r\n            at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\r\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:750)\r\n            at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\r\n            at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\r\n            at org.springframework.web.filter.AbstractRequestLoggingFilter.doFilterInternal(AbstractRequestLoggingFilter.java:262)\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\r\n            at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n            at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n            at net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:239)\r\n            at net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:215)\r\n            at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n            at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n            at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:88)\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\r\n            at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n            at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\r\n            at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)\r\n            at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n            at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n            at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n            at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n            at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n            at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n            at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n            at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n            at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n            at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n            at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\r\n            at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\r\n            at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)\r\n            at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)\r\n            at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n            at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n            at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\r\n            at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n            at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n            at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\r\n            at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n            at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n            at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\r\n            at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n            at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n            at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:114)\r\n            at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:104)\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\r\n            at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n            at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n            at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\r\n            at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n            at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n            at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\r\n            at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\r\n            at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\r\n            at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\r\n            at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\r\n            at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)\r\n            at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\r\n            at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n            at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\r\n            at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\r\n            at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\r\n            at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\r\n            at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\r\n            at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n            at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n            at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)\r\n            at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\r\n            at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\r\n            at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\r\n            at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\r\n            at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n            at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\r\n            at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\r\n            at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\r\n            at io.undertow.server.Connectors.executeRootHandler(Connectors.java:376)\r\n            at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)\r\n            at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n            at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n            at java.base/java.lang.Thread.run(Thread.java:829)\r\n    Caused by: org.springframework.orm.jpa.JpaSystemException: Unable to perform beforeTransactionCompletion callback: org.hibernate.exception.DataException: could not execute statement; nested exception is org.hibernate.HibernateException: Unable to perform beforeTransactionCompletion callback: org.hibernate.exception.DataException: could not execute statement\r\n            at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:351)\r\n            at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:253)\r\n            at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536)\r\n            at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746)\r\n            at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714)\r\n            at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:534)\r\n            at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:305)\r\n            at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n            at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n            at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:144)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n            at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$ExposeRepositoryInvocationInterceptor.invoke(CrudMethodMetadataPostProcessor.java:364)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n            at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n            at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n            at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n            at com.sun.proxy.$Proxy226.save(Unknown Source)\r\n            at rf.dom.billing.service.service.TariffOptionService.save(TariffOptionService.java:19)\r\n            at rf.dom.billing.service.service.TariffOptionService$$FastClassBySpringCGLIB$$9b7ac0d1.invoke(&lt;generated&gt;)\r\n            at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n            at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n            at net.bull.javamelody.MonitoringSpringInterceptor.invoke(MonitoringSpringInterceptor.java:76)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n            at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\r\n            at rf.dom.billing.service.service.TariffOptionService$$EnhancerBySpringCGLIB$$9704eac0.save(&lt;generated&gt;)\r\n            at rf.dom.billing.service.service.ServiceService.create(ServiceService.java:199)\r\n            at rf.dom.billing.service.service.ServiceService$$FastClassBySpringCGLIB$$306d020b.invoke(&lt;generated&gt;)\r\n            at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n            at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n            at org.springframework.retry.interceptor.RetryOperationsInterceptor$1.doWithRetry(RetryOperationsInterceptor.java:91)\r\n            at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:287)\r\n            at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:164)\r\n            at org.springframework.retry.interceptor.RetryOperationsInterceptor.invoke(RetryOperationsInterceptor.java:118)\r\n            at org.springframework.retry.annotation.AnnotationAwareRetryOperationsInterceptor.invoke(AnnotationAwareRetryOperationsInterceptor.java:153)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n            at net.bull.javamelody.MonitoringSpringInterceptor.invoke(MonitoringSpringInterceptor.java:76)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n            at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\r\n            at rf.dom.billing.service.service.ServiceService$$EnhancerBySpringCGLIB$$b76941a1.create(&lt;generated&gt;)\r\n            at rf.dom.billing.service.controller.ServicesController.create2(ServicesController.java:60)\r\n            at rf.dom.billing.service.controller.ServicesController$$FastClassBySpringCGLIB$$b2a76aba.invoke(&lt;generated&gt;)\r\n            at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n            at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n            at net.bull.javamelody.MonitoringSpringInterceptor.invoke(MonitoringSpringInterceptor.java:76)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n            at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\r\n            at rf.dom.billing.service.controller.ServicesController$$EnhancerBySpringCGLIB$$3dcbe21b.create2(&lt;generated&gt;)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n            at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\r\n            at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\r\n            at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\r\n            at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)\r\n            at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\r\n            at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n            at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039)\r\n            at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\r\n            at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\r\n            ... 98 common frames omitted\r\n    Caused by: org.hibernate.HibernateException: Unable to perform beforeTransactionCompletion callback: org.hibernate.exception.DataException: could not execute statement\r\n            at org.hibernate.engine.spi.ActionQueue$BeforeTransactionCompletionProcessQueue.beforeTransactionCompletion(ActionQueue.java:960)\r\n            at org.hibernate.engine.spi.ActionQueue.beforeTransactionCompletion(ActionQueue.java:525)\r\n            at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2390)\r\n            at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:447)\r\n            at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\r\n            at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)\r\n            at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\r\n            at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\r\n            at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:532)\r\n            ... 162 common frames omitted\r\n    Caused by: javax.persistence.PersistenceException: org.hibernate.exception.DataException: could not execute statement\r\n            at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:154)\r\n            at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)\r\n            at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188)\r\n            at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1348)\r\n            at org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1331)\r\n            at org.hibernate.envers.internal.synchronization.AuditProcess.doBeforeTransactionCompletion(AuditProcess.java:177)\r\n            at org.hibernate.envers.internal.synchronization.AuditProcessManager$1.doBeforeTransactionCompletion(AuditProcessManager.java:47)\r\n            at org.hibernate.engine.spi.ActionQueue$BeforeTransactionCompletionProcessQueue.beforeTransactionCompletion(ActionQueue.java:954)\r\n            ... 170 common frames omitted\r\n    Caused by: org.hibernate.exception.DataException: could not execute statement\r\n            at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:115)\r\n            at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\r\n            at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n            at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\r\n            at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\r\n            at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3226)\r\n            at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3751)\r\n            at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:91)\r\n            at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)\r\n            at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478)\r\n            at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:684)\r\n            at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)\r\n            at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:348)\r\n            at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)\r\n            at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:108)\r\n            at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1344)\r\n            ... 174 common frames omitted\r\n    Caused by: org.postgresql.util.PSQLException: ERROR: value too long for type character varying(255)\r\n            at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)\r\n            at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)\r\n            at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)\r\n            at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)\r\n            at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)\r\n            at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:149)\r\n            at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:124)\r\n            at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\r\n            at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n            at net.bull.javamelody.JdbcWrapper.doExecute(JdbcWrapper.java:413)\r\n            at net.bull.javamelody.JdbcWrapper$StatementInvocationHandler.invoke(JdbcWrapper.java:138)\r\n            at net.bull.javamelody.JdbcWrapper$DelegatingInvocationHandler.invoke(JdbcWrapper.java:295)\r\n            at com.sun.proxy.$Proxy274.executeUpdate(Unknown Source)\r\n            at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\r\n            ... 185 common frames omitted\r\n\r\nWhat could be the reason?","title":"Caused by: org.postgresql.util.PSQLException: ERROR: value too long for type character varying(255) with no reason","body":"<p>I have the error like that while when debugging the object I don't see any fields exceeding 255 chars.</p>\n<pre><code>ERROR io.undertow.request - UT005023: Exception handling request to /billing/service/service/fl\norg.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.springframework.orm.jpa.JpaSystemException: Unable to perform beforeTransactionCompletion callback: org.hibernate.exception.DataException: could not execute statement; nested exception is org.hibernate.HibernateException: Unable to perform beforeTransactionCompletion callback: org.hibernate.exception.DataException: could not execute statement\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1013)\n        at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:665)\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:750)\n        at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\n        at org.springframework.web.filter.AbstractRequestLoggingFilter.doFilterInternal(AbstractRequestLoggingFilter.java:262)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n        at net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:239)\n        at net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:215)\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n        at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:88)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n        at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n        at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n        at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n        at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n        at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n        at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\n        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\n        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)\n        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n        at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n        at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:114)\n        at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:104)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n        at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\n        at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\n        at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\n        at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\n        at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\n        at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)\n        at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n        at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\n        at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\n        at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\n        at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\n        at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n        at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)\n        at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\n        at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\n        at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\n        at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\n        at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n        at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\n        at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\n        at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\n        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:376)\n        at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n        at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: org.springframework.orm.jpa.JpaSystemException: Unable to perform beforeTransactionCompletion callback: org.hibernate.exception.DataException: could not execute statement; nested exception is org.hibernate.HibernateException: Unable to perform beforeTransactionCompletion callback: org.hibernate.exception.DataException: could not execute statement\n        at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:351)\n        at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:253)\n        at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536)\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746)\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714)\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:534)\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:305)\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:144)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$ExposeRepositoryInvocationInterceptor.invoke(CrudMethodMetadataPostProcessor.java:364)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\n        at com.sun.proxy.$Proxy226.save(Unknown Source)\n        at rf.dom.billing.service.service.TariffOptionService.save(TariffOptionService.java:19)\n        at rf.dom.billing.service.service.TariffOptionService$$FastClassBySpringCGLIB$$9b7ac0d1.invoke(&lt;generated&gt;)\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n        at net.bull.javamelody.MonitoringSpringInterceptor.invoke(MonitoringSpringInterceptor.java:76)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n        at rf.dom.billing.service.service.TariffOptionService$$EnhancerBySpringCGLIB$$9704eac0.save(&lt;generated&gt;)\n        at rf.dom.billing.service.service.ServiceService.create(ServiceService.java:199)\n        at rf.dom.billing.service.service.ServiceService$$FastClassBySpringCGLIB$$306d020b.invoke(&lt;generated&gt;)\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n        at org.springframework.retry.interceptor.RetryOperationsInterceptor$1.doWithRetry(RetryOperationsInterceptor.java:91)\n        at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:287)\n        at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:164)\n        at org.springframework.retry.interceptor.RetryOperationsInterceptor.invoke(RetryOperationsInterceptor.java:118)\n        at org.springframework.retry.annotation.AnnotationAwareRetryOperationsInterceptor.invoke(AnnotationAwareRetryOperationsInterceptor.java:153)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at net.bull.javamelody.MonitoringSpringInterceptor.invoke(MonitoringSpringInterceptor.java:76)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n        at rf.dom.billing.service.service.ServiceService$$EnhancerBySpringCGLIB$$b76941a1.create(&lt;generated&gt;)\n        at rf.dom.billing.service.controller.ServicesController.create2(ServicesController.java:60)\n        at rf.dom.billing.service.controller.ServicesController$$FastClassBySpringCGLIB$$b2a76aba.invoke(&lt;generated&gt;)\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n        at net.bull.javamelody.MonitoringSpringInterceptor.invoke(MonitoringSpringInterceptor.java:76)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n        at rf.dom.billing.service.controller.ServicesController$$EnhancerBySpringCGLIB$$3dcbe21b.create2(&lt;generated&gt;)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039)\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\n        ... 98 common frames omitted\nCaused by: org.hibernate.HibernateException: Unable to perform beforeTransactionCompletion callback: org.hibernate.exception.DataException: could not execute statement\n        at org.hibernate.engine.spi.ActionQueue$BeforeTransactionCompletionProcessQueue.beforeTransactionCompletion(ActionQueue.java:960)\n        at org.hibernate.engine.spi.ActionQueue.beforeTransactionCompletion(ActionQueue.java:525)\n        at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2390)\n        at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:447)\n        at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\n        at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)\n        at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\n        at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\n        at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:532)\n        ... 162 common frames omitted\nCaused by: javax.persistence.PersistenceException: org.hibernate.exception.DataException: could not execute statement\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:154)\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188)\n        at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1348)\n        at org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1331)\n        at org.hibernate.envers.internal.synchronization.AuditProcess.doBeforeTransactionCompletion(AuditProcess.java:177)\n        at org.hibernate.envers.internal.synchronization.AuditProcessManager$1.doBeforeTransactionCompletion(AuditProcessManager.java:47)\n        at org.hibernate.engine.spi.ActionQueue$BeforeTransactionCompletionProcessQueue.beforeTransactionCompletion(ActionQueue.java:954)\n        ... 170 common frames omitted\nCaused by: org.hibernate.exception.DataException: could not execute statement\n        at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:115)\n        at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\n        at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n        at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\n        at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\n        at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3226)\n        at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3751)\n        at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:91)\n        at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)\n        at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478)\n        at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:684)\n        at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)\n        at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:348)\n        at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)\n        at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:108)\n        at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1344)\n        ... 174 common frames omitted\nCaused by: org.postgresql.util.PSQLException: ERROR: value too long for type character varying(255)\n        at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)\n        at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)\n        at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)\n        at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)\n        at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)\n        at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:149)\n        at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:124)\n        at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\n        at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at net.bull.javamelody.JdbcWrapper.doExecute(JdbcWrapper.java:413)\n        at net.bull.javamelody.JdbcWrapper$StatementInvocationHandler.invoke(JdbcWrapper.java:138)\n        at net.bull.javamelody.JdbcWrapper$DelegatingInvocationHandler.invoke(JdbcWrapper.java:295)\n        at com.sun.proxy.$Proxy274.executeUpdate(Unknown Source)\n        at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\n        ... 185 common frames omitted\n</code></pre>\n<p>What could be the reason?</p>\n"},{"tags":["java","spring","spring-boot","ibm-mq","mainframe"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":2,"creation_date":1668717585,"post_id":74481588,"comment_id":131480757,"body_markdown":"If you know the character range of the input, you can create a `Map` of Mathematical script to plain ASCII.  Why is the input company name Mathematical script?","body":"If you know the character range of the input, you can create a <code>Map</code> of Mathematical script to plain ASCII.  Why is the input company name Mathematical script?"},{"owner":{"account_id":3013735,"reputation":13241,"user_id":2556520,"display_name":"bhspencer"},"score":0,"creation_date":1668717738,"post_id":74481588,"comment_id":131480812,"body_markdown":"You could use the ASCIIFoldingFilter from lucene\nhttps://lucene.apache.org/core/3_1_0/api/core/org/apache/lucene/analysis/ASCIIFoldingFilter.html","body":"You could use the ASCIIFoldingFilter from lucene <a href=\"https://lucene.apache.org/core/3_1_0/api/core/org/apache/lucene/analysis/ASCIIFoldingFilter.html\" rel=\"nofollow noreferrer\">lucene.apache.org/core/3_1_0/api/core/org/apache/lucene/&hellip;</a>"},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":4,"creation_date":1668718859,"post_id":74481588,"comment_id":131481175,"body_markdown":"If you are properly describing the message as for example UTF-8 (CCSID 1208) in the MQMD.CCSID and the mainframe issues a GET with convert or you have CONVERT(YES) on your SDR channel then those charcuterie which can&#39;t be represented in EBCDIC will be converted to a default substitution character,  but this is probably not what you want given it is a company name.  Better to correct the string before you send it to MQ.","body":"If you are properly describing the message as for example UTF-8 (CCSID 1208) in the MQMD.CCSID and the mainframe issues a GET with convert or you have CONVERT(YES) on your SDR channel then those charcuterie which can&#39;t be represented in EBCDIC will be converted to a default substitution character,  but this is probably not what you want given it is a company name.  Better to correct the string before you send it to MQ."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668763279,"post_id":74481588,"comment_id":131490146,"body_markdown":"@JoshMc I love the idea of a &quot;charcuterie&quot; being represented in EBCDIC but to be serious, are you saying that there should be no failure as the mainframe OS should smoothly perform substitution?","body":"@JoshMc I love the idea of a &quot;charcuterie&quot; being represented in EBCDIC but to be serious, are you saying that there should be no failure as the mainframe OS should smoothly perform substitution?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668773578,"post_id":74481588,"comment_id":131493550,"body_markdown":"A quick and very dirty might be `s = s.replaceAll(&quot;\\uD835\\uDCA6\\uD835\\uDCC9\\uD835\\uDCCF&quot;, &quot;Ktz&quot;);` but a more flexible, solid and maintainable way would probably be to use a `FilterWriter`","body":"A quick and very dirty might be <code>s = s.replaceAll(&quot;\\uD835\\uDCA6\\uD835\\uDCC9\\uD835\\uDCCF&quot;, &quot;Ktz&quot;);</code> but a more flexible, solid and maintainable way would probably be to use a <code>FilterWriter</code>"},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1668866186,"post_id":74481588,"comment_id":131512565,"body_markdown":"IBM MQ did the conversion, not the mainframe OS.","body":"IBM MQ did the conversion, not the mainframe OS."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668867443,"post_id":74481588,"comment_id":131512810,"body_markdown":"I see, but why, if conversion is taking place, is any &quot;crashing&quot; occurring?","body":"I see, but why, if conversion is taking place, is any &quot;crashing&quot; occurring?"},{"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"score":1,"creation_date":1668913830,"post_id":74481588,"comment_id":131520935,"body_markdown":"I suspect the application is crashing because the conversion does not result in characters that are expected, i.e. the default substitution character for those codepoints not recognised in the target codepage.","body":"I suspect the application is crashing because the conversion does not result in characters that are expected, i.e. the default substitution character for those codepoints not recognised in the target codepage."}],"owner":{"account_id":15357852,"reputation":19,"user_id":11079664,"display_name":"Bruno F S Leite"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1668716201,"creation_date":1668716201,"question_id":74481588,"body_markdown":"I have a microservice in java with spring boot.\r\nWhich receives payment orders, processes them and publishes them in the MQ queue.\r\n\r\nWho consumes from the MQ queue is the mainframe, after consuming the message from the MQ queue that contains an attribute with a special character, it breaks the execution of the program in the mainframe.\r\n\r\nIs there a way to handle this in my java microservice, convert the special character to a format that doesn&#39;t break my program on the mainframe?\r\n\r\nExample of the message that is posted to the MQ queue and is crashing my mainframe program when it consumes the message:\r\n\r\n```\r\n{\r\n   &quot;id&quot;: &quot;2058169d-a658-4f04-bce7-82f4be859f9e&quot;,\r\n   &quot;price&quot;: &quot;15.17&quot;,\r\n   &quot;product&quot;: &quot;t-shirt&quot;,\r\n   &quot;date&quot;: &quot;2022-11-17&quot;,\r\n   &quot;company_name&quot;: &quot;&#119974;&#120009;&#120015;&quot;\r\n}\r\n```\r\n\r\nThe attribute that is breaking my program on the mainframe is the **company_name**.\r\n\r\n&#119974; - U+1d4a6&lt;br&gt;\r\n&#120009; - U+1d4c9&lt;br&gt;\r\n&#120015; - U+1d4cf\r\n\r\nIs there a way to convert the **company_name** to:\r\n```\r\n{\r\n   &quot;id&quot;: &quot;2058169d-a658-4f04-bce7-82f4be859f9e&quot;,\r\n   &quot;price&quot;: &quot;15.17&quot;,\r\n   &quot;product&quot;: &quot;t-shirt&quot;,\r\n   &quot;date&quot;: &quot;2022-11-17&quot;,\r\n   &quot;company_name&quot;: &quot;Ktz&quot;\r\n}\r\n```\r\n\r\n\r\nI&#39;m looking for a way to convert the special character to a way that doesn&#39;t break my mainframe program.","title":"Java microservice integration with mainframe, special character in mainframe is breaking my program, how to deal with it?","body":"<p>I have a microservice in java with spring boot.\nWhich receives payment orders, processes them and publishes them in the MQ queue.</p>\n<p>Who consumes from the MQ queue is the mainframe, after consuming the message from the MQ queue that contains an attribute with a special character, it breaks the execution of the program in the mainframe.</p>\n<p>Is there a way to handle this in my java microservice, convert the special character to a format that doesn't break my program on the mainframe?</p>\n<p>Example of the message that is posted to the MQ queue and is crashing my mainframe program when it consumes the message:</p>\n<pre><code>{\n   &quot;id&quot;: &quot;2058169d-a658-4f04-bce7-82f4be859f9e&quot;,\n   &quot;price&quot;: &quot;15.17&quot;,\n   &quot;product&quot;: &quot;t-shirt&quot;,\n   &quot;date&quot;: &quot;2022-11-17&quot;,\n   &quot;company_name&quot;: &quot;𝒦𝓉𝓏&quot;\n}\n</code></pre>\n<p>The attribute that is breaking my program on the mainframe is the <strong>company_name</strong>.</p>\n<p>𝒦 - U+1d4a6<br>\n𝓉 - U+1d4c9<br>\n𝓏 - U+1d4cf</p>\n<p>Is there a way to convert the <strong>company_name</strong> to:</p>\n<pre><code>{\n   &quot;id&quot;: &quot;2058169d-a658-4f04-bce7-82f4be859f9e&quot;,\n   &quot;price&quot;: &quot;15.17&quot;,\n   &quot;product&quot;: &quot;t-shirt&quot;,\n   &quot;date&quot;: &quot;2022-11-17&quot;,\n   &quot;company_name&quot;: &quot;Ktz&quot;\n}\n</code></pre>\n<p>I'm looking for a way to convert the special character to a way that doesn't break my mainframe program.</p>\n"},{"tags":["java","stripe-payments"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1668713482,"post_id":74481095,"comment_id":131479436,"body_markdown":"Since the basic package is free of charge, you could completely ignore that and have just one optional package to pay. Or you could treat both as separate products. Or... Whatever decision you take - it is not a programming problem.","body":"Since the basic package is free of charge, you could completely ignore that and have just one optional package to pay. Or you could treat both as separate products. Or... Whatever decision you take - it is not a programming problem."},{"owner":{"account_id":2425257,"reputation":5090,"user_id":2117355,"accept_rate":71,"display_name":"Mark"},"score":0,"creation_date":1668714697,"post_id":74481095,"comment_id":131479828,"body_markdown":"The free package (&quot;price&quot; in Stripe parlance) contains metadata that my application needs in order to function.  I need the $0 price.","body":"The free package (&quot;price&quot; in Stripe parlance) contains metadata that my application needs in order to function.  I need the $0 price."}],"answers":[{"tags":[],"owner":{"account_id":1759174,"reputation":24142,"user_id":1606729,"accept_rate":88,"display_name":"koopajah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668716081,"creation_date":1668716081,"answer_id":74481572,"question_id":74481095,"body_markdown":"Checkout as a product can only be used to accept a payment or start a brand new Subscription. So you can&#39;t use this for the &quot;upgrade&quot; flow.\r\n\r\nThe easiest option is to use Stripe&#39;s [Customer Portal][1] which allows your customer to see their Subscription(s). It also supports upgrades so you can configure the portal to allow going from the free to the paid Price easily.\r\n\r\nAlternatively, you would build your own UI that would ask the customer if they want to switch to a paid Price. If so, your code would use the Update Subscription [API][2] to swap their Price. This is documented [here][3].\r\n\r\n\r\n  [1]: https://stripe.com/docs/customer-management\r\n  [2]: https://stripe.com/docs/api/subscriptions/update\r\n  [3]: https://stripe.com/docs/billing/subscriptions/upgrade-downgrade","title":"Upgrading a Stripe Subscription from a $0 Product Price","body":"<p>Checkout as a product can only be used to accept a payment or start a brand new Subscription. So you can't use this for the &quot;upgrade&quot; flow.</p>\n<p>The easiest option is to use Stripe's <a href=\"https://stripe.com/docs/customer-management\" rel=\"nofollow noreferrer\">Customer Portal</a> which allows your customer to see their Subscription(s). It also supports upgrades so you can configure the portal to allow going from the free to the paid Price easily.</p>\n<p>Alternatively, you would build your own UI that would ask the customer if they want to switch to a paid Price. If so, your code would use the Update Subscription <a href=\"https://stripe.com/docs/api/subscriptions/update\" rel=\"nofollow noreferrer\">API</a> to swap their Price. This is documented <a href=\"https://stripe.com/docs/billing/subscriptions/upgrade-downgrade\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":2425257,"reputation":5090,"user_id":2117355,"accept_rate":71,"display_name":"Mark"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":631,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668716081,"creation_date":1668713355,"question_id":74481095,"body_markdown":"Suppose I have a subscription product in Stripe, with two prices:\r\n1) Free - $0 monthly\r\n2) Basic = $5 monthly\r\n\r\nWhen a new user signs up on my site, I assign them the Free plan automatically.\r\n\r\nAfter some time, a user may decide to upgrade to the Basic plan to get more functionality.  It&#39;s unclear to me how to do this.  If I create a checkout session and add the $5 price to that session, the user is able to enter payment information and check out, but the user now has two subscriptions. Like this:\r\n\r\n```\r\nSessionCreateParams params = new SessionCreateParams.Builder()\r\n    .setSuccessUrl(&quot;http://localhost:4200/bill/plan-changed&quot;)                                    \r\n    .setCancelUrl(&quot;http://localhost:4200/bill/canceled&quot;)\r\n    .setCustomer(customerId) // id of previously created Stripe Customer\r\n    .setMode(Mode.SUBSCRIPTION)\r\n    .addLineItem(new Builder()\r\n        .setQuantity(1L)\r\n        .setPrice(subscriptionPriceId) // id of $5 Basic Price\r\n        .build())\r\n    .build();\r\nreturn Session.create(params);\r\n```\r\n\r\nThe behavior I want is for the original Free subscription to be ended/canceled, and for the new $5 plan to replace it.  How do I do that?","title":"Upgrading a Stripe Subscription from a $0 Product Price","body":"<p>Suppose I have a subscription product in Stripe, with two prices:</p>\n<ol>\n<li>Free - $0 monthly</li>\n<li>Basic = $5 monthly</li>\n</ol>\n<p>When a new user signs up on my site, I assign them the Free plan automatically.</p>\n<p>After some time, a user may decide to upgrade to the Basic plan to get more functionality.  It's unclear to me how to do this.  If I create a checkout session and add the $5 price to that session, the user is able to enter payment information and check out, but the user now has two subscriptions. Like this:</p>\n<pre><code>SessionCreateParams params = new SessionCreateParams.Builder()\n    .setSuccessUrl(&quot;http://localhost:4200/bill/plan-changed&quot;)                                    \n    .setCancelUrl(&quot;http://localhost:4200/bill/canceled&quot;)\n    .setCustomer(customerId) // id of previously created Stripe Customer\n    .setMode(Mode.SUBSCRIPTION)\n    .addLineItem(new Builder()\n        .setQuantity(1L)\n        .setPrice(subscriptionPriceId) // id of $5 Basic Price\n        .build())\n    .build();\nreturn Session.create(params);\n</code></pre>\n<p>The behavior I want is for the original Free subscription to be ended/canceled, and for the new $5 plan to replace it.  How do I do that?</p>\n"},{"tags":["java","junit","mockito","junit5","apache-commons-vfs"],"answers":[{"tags":[],"owner":{"account_id":16167529,"reputation":21,"user_id":11672153,"display_name":"Chris Roelofs"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668715906,"creation_date":1668715906,"answer_id":74481545,"question_id":74034083,"body_markdown":"This is caused by the `SftpFileSystem` failing to run the command `id -u` which doesn&#39;t exist on some SSH connections such as Windows OpenSSH. It runs this command when attempting to detect the exec channel. Resolve this by adding the following SFTP configuration:\r\n\r\n    sftpConfigBuilder.setDisableDetectExecChannel(options, true);\r\n\r\nSee [here][1].\r\n\r\n\r\n  [1]: https://github.com/apache/commons-vfs/blob/861711cc04c222372d940311d7ea9272a9983f97/commons-vfs2/src/main/java/org/apache/commons/vfs2/provider/sftp/SftpFileSystem.java#L98","title":"Writing Junit Test case for merging files in sftp server","body":"<p>This is caused by the <code>SftpFileSystem</code> failing to run the command <code>id -u</code> which doesn't exist on some SSH connections such as Windows OpenSSH. It runs this command when attempting to detect the exec channel. Resolve this by adding the following SFTP configuration:</p>\n<pre><code>sftpConfigBuilder.setDisableDetectExecChannel(options, true);\n</code></pre>\n<p>See <a href=\"https://github.com/apache/commons-vfs/blob/861711cc04c222372d940311d7ea9272a9983f97/commons-vfs2/src/main/java/org/apache/commons/vfs2/provider/sftp/SftpFileSystem.java#L98\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":19958896,"reputation":31,"user_id":14626973,"display_name":"Noob of All Arts"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":420,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1668715906,"creation_date":1665522087,"question_id":74034083,"body_markdown":"I am using `apache commons VFS` to connect to sftp server and write the content of files in `/input` directory into a single file in `/output` directory.The names of files in input directory is provided as a `List`. I am struggling to write `Junit`  test case for it.My intention is that once the code gets executed, I will compare the contents of file in `/input` against content of file in `/output`\r\n\r\n    public void exportFile(List&lt;String&gt; fileNamesList){\r\n    for (String file : fileNamesList){\r\n                try(FileObject fileObject= //getsFileObject\r\n                    OutputStream fileOutputStream= fileObject.resolveFile(&quot;/output/&quot;+&quot;exportfile.txt&quot;).getContent().getOutputStream(true);\r\n                )\r\n    \t\t\t\t\t\t                    fileObject.resolveFile(&quot;/input/&quot;+file).getContent().getInputStream().transferTo(fileOutputStream);\r\n    \t\r\n    \t\t\t}\r\n    \t\t\t}\r\n\r\nI want to write Junit test case for the above. The below is my setup for test case\r\n\r\n                @BeforeAll\r\n                      static void setUpSftpServer() throws IOException {\r\n                    System.out.println(&quot;inside setup ssh&quot;);\r\n                    sshd= SshServer.setUpDefaultServer();\r\n                        sshd.setPort(1234);\r\n                        sshd.setKeyPairProvider(new SimpleGeneratorHostKeyProvider());\r\n                        sshd.setPublickeyAuthenticator(AcceptAllPublickeyAuthenticator.INSTANCE);\r\n                        sshd.setSubsystemFactories(Arrays.asList(new SftpSubsystemFactory()));\r\n                        sshd.start();\r\n                }\r\n            \r\n             @Test\r\n                void exportFileTest() throws IOException, URISyntaxException {\r\n            \r\n                    System.out.println(&quot;Inside exportFile test&quot;);\r\n                    FileObject fileObject=getFileObject();\r\n                    when(sftpConfiguration.connect()).thenReturn(fileObject);\r\n                    myobject.exportFile(Arrays.asList(&quot;a.txt&quot;));\r\n                   String actualContent=fileObject.resolveFile(&quot;/input/a.txt&quot;).getContentContent().getString(&quot;UTF-8&quot;);\r\n     String expectedContent=fileObject.resolveFile(&quot;/output/exportFile.txt&quot;).getContentContent().getString(&quot;UTF-8&quot;);\r\n                    assertTrue(actualContent.equals(expectedContent));\r\n            \r\n            \r\n                }\r\n        static FileObject getFileObject() throws URISyntaxException, FileSystemException {\r\n                String userInfo = &quot;uname&quot; + &quot;:&quot; + &quot;pwd&quot;;\r\n                SftpFileSystemConfigBuilder sftpConfigBuilder = SftpFileSystemConfigBuilder.getInstance();\r\n                FileSystemOptions options = new FileSystemOptions();\r\n                IdentityProvider identityInfo = new IdentityInfo(new File(&quot;/fake/path/to/key&quot;), &quot;test&quot;.getBytes());\r\n                sftpConfigBuilder.setIdentityProvider(options, identityInfo);\r\n                URI uri=  new URI(&quot;sftp&quot;, userInfo, &quot;127.0.0.1&quot;, Objects.requireNonNullElse(1234, -1), null, null, null);\r\n               FileObject fileObject= VFS.getManager().resolveFile(uri.toString(),options);\r\n               System.out.println(&quot;creating file object complete&quot;);\r\n               fileObject.resolveFile(&quot;/input&quot;).createFolder(); //create a folder in the path\r\n        \t   fileObject.resolveFile(&quot;/output&quot;).createFolder(); \r\n        \t   //code  to create a file called a.txt inside /input and write the string &quot;abc&quot; to the file\r\n                return  fileObject;\r\n            }\r\n\r\n\r\nBut I am getting an exception like below\r\n\r\n    org.apache.commons.vfs2.FileSystemException: Unknown message with code &quot;Could not get the user id of the current user (error code: -1)&quot;.\r\n\r\nThis exception I am getting at the line \r\n\r\n   FileObject fileObject= VFS.getManager().resolveFile(uri.toString(),options);\r\n\r\nHow do I write the unittest for this case correctly?\r\n\r\n","title":"Writing Junit Test case for merging files in sftp server","body":"<p>I am using <code>apache commons VFS</code> to connect to sftp server and write the content of files in <code>/input</code> directory into a single file in <code>/output</code> directory.The names of files in input directory is provided as a <code>List</code>. I am struggling to write <code>Junit</code>  test case for it.My intention is that once the code gets executed, I will compare the contents of file in <code>/input</code> against content of file in <code>/output</code></p>\n<pre><code>public void exportFile(List&lt;String&gt; fileNamesList){\nfor (String file : fileNamesList){\n            try(FileObject fileObject= //getsFileObject\n                OutputStream fileOutputStream= fileObject.resolveFile(&quot;/output/&quot;+&quot;exportfile.txt&quot;).getContent().getOutputStream(true);\n            )\n                                            fileObject.resolveFile(&quot;/input/&quot;+file).getContent().getInputStream().transferTo(fileOutputStream);\n    \n            }\n            }\n</code></pre>\n<p>I want to write Junit test case for the above. The below is my setup for test case</p>\n<pre><code>            @BeforeAll\n                  static void setUpSftpServer() throws IOException {\n                System.out.println(&quot;inside setup ssh&quot;);\n                sshd= SshServer.setUpDefaultServer();\n                    sshd.setPort(1234);\n                    sshd.setKeyPairProvider(new SimpleGeneratorHostKeyProvider());\n                    sshd.setPublickeyAuthenticator(AcceptAllPublickeyAuthenticator.INSTANCE);\n                    sshd.setSubsystemFactories(Arrays.asList(new SftpSubsystemFactory()));\n                    sshd.start();\n            }\n        \n         @Test\n            void exportFileTest() throws IOException, URISyntaxException {\n        \n                System.out.println(&quot;Inside exportFile test&quot;);\n                FileObject fileObject=getFileObject();\n                when(sftpConfiguration.connect()).thenReturn(fileObject);\n                myobject.exportFile(Arrays.asList(&quot;a.txt&quot;));\n               String actualContent=fileObject.resolveFile(&quot;/input/a.txt&quot;).getContentContent().getString(&quot;UTF-8&quot;);\n String expectedContent=fileObject.resolveFile(&quot;/output/exportFile.txt&quot;).getContentContent().getString(&quot;UTF-8&quot;);\n                assertTrue(actualContent.equals(expectedContent));\n        \n        \n            }\n    static FileObject getFileObject() throws URISyntaxException, FileSystemException {\n            String userInfo = &quot;uname&quot; + &quot;:&quot; + &quot;pwd&quot;;\n            SftpFileSystemConfigBuilder sftpConfigBuilder = SftpFileSystemConfigBuilder.getInstance();\n            FileSystemOptions options = new FileSystemOptions();\n            IdentityProvider identityInfo = new IdentityInfo(new File(&quot;/fake/path/to/key&quot;), &quot;test&quot;.getBytes());\n            sftpConfigBuilder.setIdentityProvider(options, identityInfo);\n            URI uri=  new URI(&quot;sftp&quot;, userInfo, &quot;127.0.0.1&quot;, Objects.requireNonNullElse(1234, -1), null, null, null);\n           FileObject fileObject= VFS.getManager().resolveFile(uri.toString(),options);\n           System.out.println(&quot;creating file object complete&quot;);\n           fileObject.resolveFile(&quot;/input&quot;).createFolder(); //create a folder in the path\n           fileObject.resolveFile(&quot;/output&quot;).createFolder(); \n           //code  to create a file called a.txt inside /input and write the string &quot;abc&quot; to the file\n            return  fileObject;\n        }\n</code></pre>\n<p>But I am getting an exception like below</p>\n<pre><code>org.apache.commons.vfs2.FileSystemException: Unknown message with code &quot;Could not get the user id of the current user (error code: -1)&quot;.\n</code></pre>\n<p>This exception I am getting at the line</p>\n<p>FileObject fileObject= VFS.getManager().resolveFile(uri.toString(),options);</p>\n<p>How do I write the unittest for this case correctly?</p>\n"},{"tags":["java","jls","jep"],"comments":[{"owner":{"account_id":6398908,"reputation":3023,"user_id":4962355,"display_name":"Christoph John"},"score":4,"creation_date":1614977811,"post_id":66499500,"comment_id":117559744,"body_markdown":"The first is non-final the second fully implemented. Sounds as if the first one is still work in progress.","body":"The first is non-final the second fully implemented. Sounds as if the first one is still work in progress."},{"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":0,"creation_date":1614978199,"post_id":66499500,"comment_id":117559905,"body_markdown":"I wouldn&#39;t think it&#39;s that easy to tell apart.. at least, they are both meant to be tested, in the community, and features in them, will have one of two possible continuations: *accepted* or *removed*. Additionally, read the goals. Simply speaking, they just put something new into &quot;beta&quot; mode, and if that &quot;something&quot; will prove itself and will have a good feedback (performing well), it will get into JCP.","body":"I wouldn&#39;t think it&#39;s that easy to tell apart.. at least, they are both meant to be tested, in the community, and features in them, will have one of two possible continuations: <i>accepted</i> or <i>removed</i>. Additionally, read the goals. Simply speaking, they just put something new into &quot;beta&quot; mode, and if that &quot;something&quot; will prove itself and will have a good feedback (performing well), it will get into JCP."},{"owner":{"account_id":6398908,"reputation":3023,"user_id":4962355,"display_name":"Christoph John"},"score":0,"creation_date":1614990347,"post_id":66499500,"comment_id":117562834,"body_markdown":"https://4comprehension.com/preview-experimental-and-incubating-features-in-java/ &quot;As much as having three different names denoting the character of the change and how close it is to be complete, we need to remember that&#160;none of them are actually production-ready.&quot;","body":"<a href=\"https://4comprehension.com/preview-experimental-and-incubating-features-in-java/\" rel=\"nofollow noreferrer\">4comprehension.com/&hellip;</a> &quot;As much as having three different names denoting the character of the change and how close it is to be complete, we need to remember that none of them are actually production-ready.&quot;"}],"answers":[{"tags":[],"owner":{"account_id":7607360,"reputation":113,"user_id":5769564,"display_name":"StevenV"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1668715647,"creation_date":1668715647,"answer_id":74481492,"question_id":66499500,"body_markdown":"Answer from Stuart Marks:\r\n\r\n&gt; Incubation applies to modules, and a preview feature is something that is more closely tight in with the language and the libraries.\r\n\r\nFollowed up by Brian Goetz:\r\n\r\n&gt; Preview features are really finished but are waiting for a round of feedback\r\nwhereas the incubator mechanism has more room to iterate over the api several times to get feedback.\r\n\r\nSource:\r\n[Video from Devoxx where the Java architects answer this question:][1]\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?t=618&amp;v=YR7ulGzerMQ&amp;feature=youtu.be\r\n\r\n","title":"Incubator Module vs. Preview Feature in Java","body":"<p>Answer from Stuart Marks:</p>\n<blockquote>\n<p>Incubation applies to modules, and a preview feature is something that is more closely tight in with the language and the libraries.</p>\n</blockquote>\n<p>Followed up by Brian Goetz:</p>\n<blockquote>\n<p>Preview features are really finished but are waiting for a round of feedback\nwhereas the incubator mechanism has more room to iterate over the api several times to get feedback.</p>\n</blockquote>\n<p>Source:\n<a href=\"https://www.youtube.com/watch?t=618&amp;v=YR7ulGzerMQ&amp;feature=youtu.be\" rel=\"nofollow noreferrer\">Video from Devoxx where the Java architects answer this question:</a></p>\n"}],"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2518,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":1,"score":11,"last_activity_date":1668715647,"creation_date":1614977607,"question_id":66499500,"body_markdown":"[JEP 11: Incubator Modules](https://openjdk.java.net/jeps/11):\r\n\r\n**Summary**\r\n&gt;Incubator modules are a means of putting non-final APIs and non-final tools in the hands of developers, while the APIs/tools progress towards either finalization or removal in a future release.\r\n\r\n**Goals**\r\n&gt;Enable JDK Release Projects to distribute a limited set of APIs and tools that (&quot;are&quot; is probably missing on the website) not final and complete, and which would benefit from developer or user feedback. This will reduce the chance of costly mistakes in the Java SE Platform and the JDK.\r\n\r\n---\r\n[JEP 12: Preview Features](https://openjdk.java.net/jeps/12):\r\n\r\n**Summary**\r\n&gt;A preview feature is a new feature of the Java language, Java Virtual Machine, or Java SE API that is fully specified, fully implemented, and yet impermanent. It is available in a JDK feature release to provoke developer feedback based on real world use; this may lead to it becoming permanent in a future Java SE Platform.\r\n\r\n**Goals**\r\n&gt;Allow Java platform developers to communicate whether a new feature is &quot;coming to Java&quot; in approximately its current form within the next 12 months.\r\n\r\n---\r\n\r\nI am wondering what is the point of having these two, conceptually (even semantically), quite similar aspects, separately?\r\n\r\nYes, JEP 12 has more Goals, slightly different definition and summary; and it seems to have closer connection with JVM internals; however, still, these two JEPs seem quite overlapping to me.\r\n\r\nAny ideas?","title":"Incubator Module vs. Preview Feature in Java","body":"<p><a href=\"https://openjdk.java.net/jeps/11\" rel=\"noreferrer\">JEP 11: Incubator Modules</a>:</p>\n<p><strong>Summary</strong></p>\n<blockquote>\n<p>Incubator modules are a means of putting non-final APIs and non-final tools in the hands of developers, while the APIs/tools progress towards either finalization or removal in a future release.</p>\n</blockquote>\n<p><strong>Goals</strong></p>\n<blockquote>\n<p>Enable JDK Release Projects to distribute a limited set of APIs and tools that (&quot;are&quot; is probably missing on the website) not final and complete, and which would benefit from developer or user feedback. This will reduce the chance of costly mistakes in the Java SE Platform and the JDK.</p>\n</blockquote>\n<hr />\n<p><a href=\"https://openjdk.java.net/jeps/12\" rel=\"noreferrer\">JEP 12: Preview Features</a>:</p>\n<p><strong>Summary</strong></p>\n<blockquote>\n<p>A preview feature is a new feature of the Java language, Java Virtual Machine, or Java SE API that is fully specified, fully implemented, and yet impermanent. It is available in a JDK feature release to provoke developer feedback based on real world use; this may lead to it becoming permanent in a future Java SE Platform.</p>\n</blockquote>\n<p><strong>Goals</strong></p>\n<blockquote>\n<p>Allow Java platform developers to communicate whether a new feature is &quot;coming to Java&quot; in approximately its current form within the next 12 months.</p>\n</blockquote>\n<hr />\n<p>I am wondering what is the point of having these two, conceptually (even semantically), quite similar aspects, separately?</p>\n<p>Yes, JEP 12 has more Goals, slightly different definition and summary; and it seems to have closer connection with JVM internals; however, still, these two JEPs seem quite overlapping to me.</p>\n<p>Any ideas?</p>\n"},{"tags":["java","java-stream","distinct","hashset"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1668610831,"post_id":74462512,"comment_id":131447988,"body_markdown":"I think you should implement `hashCode()` and `equals()` correctly in `PointType` in order to collect the unique ones by `stream().distinct()`…","body":"I think you should implement <code>hashCode()</code> and <code>equals()</code> correctly in <code>PointType</code> in order to collect the unique ones by <code>stream().distinct()</code>…"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1668611258,"post_id":74462512,"comment_id":131448174,"body_markdown":"See https://stackoverflow.com/a/2265637/1531124","body":"See <a href=\"https://stackoverflow.com/a/2265637/1531124\">stackoverflow.com/a/2265637/1531124</a>"}],"answers":[{"tags":[],"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668610474,"creation_date":1668610474,"answer_id":74462635,"question_id":74462512,"body_markdown":"First issue, your implementation of `equals` is not correct, this is what it should look like (auto-generated with IntelliJ) : \r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        PointType pointType = (PointType) o;\r\n        return Double.compare(pointType.x, x) == 0 &amp;&amp; Double.compare(pointType.y, y) == 0;\r\n    }\r\n\r\nSecond and most important problem, as the word `Hash` in `HashSet` suggests, you should not only implement `equals` but also `hashCode`, and this is not only true for hash collections but in general (every time you implement equals, you also implement hash code): \r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(x, y);\r\n    }\r\n\r\nOnce you have done these two things, your test using `Set&lt;PointType&gt; setB = new HashSet&lt;&gt;()` will pass. ","title":"Java Unique List","body":"<p>First issue, your implementation of <code>equals</code> is not correct, this is what it should look like (auto-generated with IntelliJ) :</p>\n<pre><code>@Override\npublic boolean equals(Object o) {\n    if (this == o) return true;\n    if (o == null || getClass() != o.getClass()) return false;\n    PointType pointType = (PointType) o;\n    return Double.compare(pointType.x, x) == 0 &amp;&amp; Double.compare(pointType.y, y) == 0;\n}\n</code></pre>\n<p>Second and most important problem, as the word <code>Hash</code> in <code>HashSet</code> suggests, you should not only implement <code>equals</code> but also <code>hashCode</code>, and this is not only true for hash collections but in general (every time you implement equals, you also implement hash code):</p>\n<pre><code>@Override\npublic int hashCode() {\n    return Objects.hash(x, y);\n}\n</code></pre>\n<p>Once you have done these two things, your test using <code>Set&lt;PointType&gt; setB = new HashSet&lt;&gt;()</code> will pass.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668715495,"creation_date":1668611134,"answer_id":74462807,"question_id":74462512,"body_markdown":"You always need to override `equals()` together `hashCode()`. This requirement is reflected in the [documentation][equals]:\r\n\r\n&gt; **API Note:**\r\n&gt; \r\n&gt; It is generally necessary to override the `hashCode` method whenever this method is overridden, so as to maintain the general contract for\r\n&gt; the `hashCode` method, which states that **equal objects must have equal\r\n&gt; hash codes**.\r\n\r\nYou can find more information on how to implement `equals/hashCode` contract properly on SO, and in other sources, for instance, there&#39;s a separate item dedicated to this topic in *&quot;Effective Java&quot;* by Joshua Bloch.\r\n\r\nThat how the correct implementation might look like (for conciseness I&#39;ve used [Java 16 Pattern matching for instanceof][patternMatching]):\r\n\r\n    public class PointType {\r\n        private double x;\r\n        private double y;\r\n        \r\n        public PointType(double x, double y) {\r\n            this.x = x;\r\n            this.y = y;\r\n        }\r\n        \r\n        @Override\r\n        public boolean equals(Object other) {\r\n            \r\n            return other instanceof PointType o \r\n                &amp;&amp; Double.compare(x, o.x) == 0 \r\n                &amp;&amp; Double.compare(y, o.y) == 0;\r\n        }\r\n        \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(x, y);\r\n        }\r\n    }\r\n\r\n\r\n   [equals]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)\r\n\r\n   [patternMatching]: https://docs.oracle.com/en/java/javase/16/language/pattern-matching-instanceof-operator.html","title":"Java Unique List","body":"<p>You always need to override <code>equals()</code> together <code>hashCode()</code>. This requirement is reflected in the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p><strong>API Note:</strong></p>\n<p>It is generally necessary to override the <code>hashCode</code> method whenever this method is overridden, so as to maintain the general contract for\nthe <code>hashCode</code> method, which states that <strong>equal objects must have equal\nhash codes</strong>.</p>\n</blockquote>\n<p>You can find more information on how to implement <code>equals/hashCode</code> contract properly on SO, and in other sources, for instance, there's a separate item dedicated to this topic in <em>&quot;Effective Java&quot;</em> by Joshua Bloch.</p>\n<p>That how the correct implementation might look like (for conciseness I've used <a href=\"https://docs.oracle.com/en/java/javase/16/language/pattern-matching-instanceof-operator.html\" rel=\"nofollow noreferrer\">Java 16 Pattern matching for instanceof</a>):</p>\n<pre><code>public class PointType {\n    private double x;\n    private double y;\n    \n    public PointType(double x, double y) {\n        this.x = x;\n        this.y = y;\n    }\n    \n    @Override\n    public boolean equals(Object other) {\n        \n        return other instanceof PointType o \n            &amp;&amp; Double.compare(x, o.x) == 0 \n            &amp;&amp; Double.compare(y, o.y) == 0;\n    }\n    \n    @Override\n    public int hashCode() {\n        return Objects.hash(x, y);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13107334,"reputation":25,"user_id":9469666,"display_name":"Gian-Andrea Heinrich"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74462635,"answer_count":2,"score":0,"last_activity_date":1668715495,"creation_date":1668610003,"question_id":74462512,"body_markdown":"I am currently trying to get a List with unique values.\r\n\r\nTechnically, it should be really simple, and the obvious choice would be a HashSet.\r\nHowever, I want the properties of my &quot;points&quot; to be the uniqueness criteria and not their &quot;IDs&quot;.\r\n\r\nAfter that, I wanted to use the stream().distinct() method. Hoping that that one is using the overridden equals method. Sadly, this won&#39;t work either.\r\n\r\nAny solution/Idea that works for double[] is welcome as well.\r\n\r\n\r\n**PointType Class**\r\n```\r\npublic class PointType{\r\n\r\nprivate double x;\r\nprivate double y;\r\n\r\npublic PointType(x,y){\r\n    this.x = x;\r\n    this.y = y;\r\n}\r\n@Override\r\npublic boolean equals(Object other){\r\n    if(other instanceof PointType &amp;&amp; this.x == other.x &amp;&amp; this.y==other.y){\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n}\r\n```\r\nI am aware of the flaw of double == double. For a minimum sample, it is sufficient.\r\n\r\nNow to the issue:\r\n\r\n```\r\n@Test\r\npublic void testUniquness(){ \r\n   Set&lt;PointType&gt;setA = new HashSet&lt;&gt;();\r\n   Set&lt;PointType&gt;setB = new HashSet&lt;&gt;();\r\n   ArrayList&lt;PointType&gt; listA= new ArrayList&lt;&gt;();\r\n   ArrayList&lt;PointType&gt; listB= new ArrayList&lt;&gt;();\r\n\r\n   PointType p1 = new PointType(1.0,2.0);\r\n   PointType p2 = new PointType(1.0,2.0);\r\n   PointType p3 = new PointType(2.0,2.0);\r\n   PointType p4 = new PointType(2.0,2.0);\r\n\r\n// Trying to use the unique properties of a HashSet\r\n\r\n   setA.add(p1);\r\n   setA.add(p2);\r\n   setA.add(p1);\r\n   setA.add(p2);\r\n\r\n   setB.add(p1);\r\n   setB.add(p2);\r\n   setB.add(p3);\r\n   setB.add(p4);\r\n\r\n//Now with array lists and streams.\r\n   listA.add(p1);\r\n   listA.add(p2);\r\n   listA.add(p1);\r\n   listA.add(p2);\r\n   \r\n   listA = (ArraList&lt;PointType&gt;) listA.stream().distinct().collect(Collectors.toList());\r\n\r\n   listB.add(p1);\r\n   listB.add(p2);\r\n   listB.add(p3);\r\n   listB.add(p4);\r\n   \r\n   listB = (ArraList&lt;PointType&gt;) listB.stream().distinct().collect(Collectors.toList());\r\n\r\n   assertTrue(p1.equals(p2));     // Test passes\r\n   assertTrue(p3.equals(p4));     // Test passes\r\n   assertTrue(setA.size() == 2);  // Test passes (obviously)\r\n   assertTrue(setB.size() == 2);  // Test failes. How can I use my custom equality condition?\r\n   assertTrue(listA.size() == 2); // Test passes (obviously)\r\n   assertTrue(listb.size() == 2); // Test failes. How can I use my custom equality condition?\r\n}\r\n```\r\nAny help is appreciated. \r\n\r\nFor sure, a for loop would solve this too. But there has to be a more elegant way.\r\n\r\n\r\n","title":"Java Unique List","body":"<p>I am currently trying to get a List with unique values.</p>\n<p>Technically, it should be really simple, and the obvious choice would be a HashSet.\nHowever, I want the properties of my &quot;points&quot; to be the uniqueness criteria and not their &quot;IDs&quot;.</p>\n<p>After that, I wanted to use the stream().distinct() method. Hoping that that one is using the overridden equals method. Sadly, this won't work either.</p>\n<p>Any solution/Idea that works for double[] is welcome as well.</p>\n<p><strong>PointType Class</strong></p>\n<pre><code>public class PointType{\n\nprivate double x;\nprivate double y;\n\npublic PointType(x,y){\n    this.x = x;\n    this.y = y;\n}\n@Override\npublic boolean equals(Object other){\n    if(other instanceof PointType &amp;&amp; this.x == other.x &amp;&amp; this.y==other.y){\n        return true;\n    }\n    return false;\n}\n}\n</code></pre>\n<p>I am aware of the flaw of double == double. For a minimum sample, it is sufficient.</p>\n<p>Now to the issue:</p>\n<pre><code>@Test\npublic void testUniquness(){ \n   Set&lt;PointType&gt;setA = new HashSet&lt;&gt;();\n   Set&lt;PointType&gt;setB = new HashSet&lt;&gt;();\n   ArrayList&lt;PointType&gt; listA= new ArrayList&lt;&gt;();\n   ArrayList&lt;PointType&gt; listB= new ArrayList&lt;&gt;();\n\n   PointType p1 = new PointType(1.0,2.0);\n   PointType p2 = new PointType(1.0,2.0);\n   PointType p3 = new PointType(2.0,2.0);\n   PointType p4 = new PointType(2.0,2.0);\n\n// Trying to use the unique properties of a HashSet\n\n   setA.add(p1);\n   setA.add(p2);\n   setA.add(p1);\n   setA.add(p2);\n\n   setB.add(p1);\n   setB.add(p2);\n   setB.add(p3);\n   setB.add(p4);\n\n//Now with array lists and streams.\n   listA.add(p1);\n   listA.add(p2);\n   listA.add(p1);\n   listA.add(p2);\n   \n   listA = (ArraList&lt;PointType&gt;) listA.stream().distinct().collect(Collectors.toList());\n\n   listB.add(p1);\n   listB.add(p2);\n   listB.add(p3);\n   listB.add(p4);\n   \n   listB = (ArraList&lt;PointType&gt;) listB.stream().distinct().collect(Collectors.toList());\n\n   assertTrue(p1.equals(p2));     // Test passes\n   assertTrue(p3.equals(p4));     // Test passes\n   assertTrue(setA.size() == 2);  // Test passes (obviously)\n   assertTrue(setB.size() == 2);  // Test failes. How can I use my custom equality condition?\n   assertTrue(listA.size() == 2); // Test passes (obviously)\n   assertTrue(listb.size() == 2); // Test failes. How can I use my custom equality condition?\n}\n</code></pre>\n<p>Any help is appreciated.</p>\n<p>For sure, a for loop would solve this too. But there has to be a more elegant way.</p>\n"},{"tags":["java","spring-boot","cassandra","datastax-java-driver","amazon-keyspaces"],"comments":[{"owner":{"account_id":3753350,"reputation":777,"user_id":3120345,"display_name":"MikeJPR"},"score":2,"creation_date":1652366078,"post_id":72210279,"comment_id":127593260,"body_markdown":"I believe you need to create two different classes. https://stackoverflow.com/questions/34324439/managing-multiple-cassandra-sessions","body":"I believe you need to create two different classes. <a href=\"https://stackoverflow.com/questions/34324439/managing-multiple-cassandra-sessions\" title=\"managing multiple cassandra sessions\">stackoverflow.com/questions/34324439/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3753350,"reputation":777,"user_id":3120345,"display_name":"MikeJPR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668715410,"creation_date":1668715410,"answer_id":74481457,"question_id":72210279,"body_markdown":" You will want to create two classes as show in the example https://stackoverflow.com/questions/34324439/managing-multiple-cassandra-sessions. \r\n\r\nAdditionally, you can find some best practices with Amazon Keyspaces and spring boot here. \r\nhttps://github.com/aws-samples/amazon-keyspaces-examples/tree/main/java/datastax-v4/spring","title":"How can we create two separate cassandra clusters from the same Spring Boot application?","body":"<p>You will want to create two classes as show in the example <a href=\"https://stackoverflow.com/questions/34324439/managing-multiple-cassandra-sessions\">Managing Multiple Cassandra Sessions</a>.</p>\n<p>Additionally, you can find some best practices with Amazon Keyspaces and spring boot here.\n<a href=\"https://github.com/aws-samples/amazon-keyspaces-examples/tree/main/java/datastax-v4/spring\" rel=\"nofollow noreferrer\">https://github.com/aws-samples/amazon-keyspaces-examples/tree/main/java/datastax-v4/spring</a></p>\n"}],"owner":{"account_id":2821173,"reputation":567,"user_id":2424904,"accept_rate":62,"display_name":"RachitSharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":584,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74481457,"answer_count":1,"score":0,"last_activity_date":1668715410,"creation_date":1652331211,"question_id":72210279,"body_markdown":"I&#39;m having a hard time connecting to two different clusters from a Spring Boot application. The task is to get the data from Cassandra on ec2 and insert in batches to an AWS keyspace. I am able to get the data from Cassandra on ec2. \r\n\r\nHere I am overriding the customize method of \r\n\r\n&gt; org.springframework.boot.autoconfigure.cassandra.ClusterBuilderCustomizer\r\n\r\nWhen trying to connect to the Cassandra cluster running on ec2, things are working fine, but the requirement is to also have one more cluster to select data from Cassandra ec2 and insert into the other Cassandra cluster.\r\n\r\nThe problem is when I am overriding the customize method for creating a cluster in the AWS Keyspace, instead of a new cluster being created, the contact point gets added to a previously created cluster.\r\n\r\nAfter that, I tried creating two different configurations for instantiating two different clusters. See the configuration below for cluster 1. Cluster 2 is the same; the only difference is its for 3rd party Cassandra on cloud.\r\n\r\n    @Configuration\r\n    @EnableCassandraRepositories(cassandraTemplateRef = &quot;cassandraKeyspaceServiceTemplate&quot;)\r\n    public class CassandraClusterOneServiceConfiguration {\r\n    \r\n      @Autowired\r\n      private CassandraOneProperties cassandraProperties;\r\n    \r\n      @Bean(name = &quot;cluster1&quot;)\r\n      @Primary\r\n      public CassandraClusterFactoryBean cluster() {\r\n        CassandraClusterFactoryBean cluster = new CassandraClusterFactoryBean();\r\n        cluster.setContactPoints(cassandraProperties.getContactPoints());\r\n        cluster.setPort(cassandraProperties.getPort());\r\n        cluster.setSslEnabled(cassandraProperties.isSsl());\r\n        cluster.setUsername(cassandraProperties.getUsername());\r\n        cluster.setPassword(cassandraProperties.getPassword());\r\n       \r\n         final SSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\r\n        \r\n    \r\n        cluster.setSslOptions(\r\n            RemoteEndpointAwareJdkSSLOptions.builder().withSSLContext(sslContext).build());\r\n        cluster.setJmxReportingEnabled(false);\r\n        return cluster;\r\n      }\r\n    \r\n      @Bean(name = &quot;clusterContext1&quot;)\r\n      @Primary\r\n      public CassandraMappingContext mappingContext() {\r\n        return new CassandraMappingContext();\r\n      }\r\n    \r\n      @Bean(name = &quot;clusterConverter1&quot;)\r\n      @Primary\r\n      public CassandraConverter converter() {\r\n        return new MappingCassandraConverter(mappingContext());\r\n      }\r\n    \r\n      @Bean(&quot;cassandraKeyspaceServiceSession&quot;)\r\n      @Primary\r\n      public CassandraSessionFactoryBean session() {\r\n    \r\n        CassandraSessionFactoryBean session = new CassandraSessionFactoryBean();\r\n        session.setCluster(cluster().getObject());\r\n        session.setKeyspaceName(cassandraProperties.getKeyspaceName());\r\n        session.setConverter(converter());\r\n        session.setSchemaAction(SchemaAction.NONE);\r\n    \r\n        return session;\r\n      }\r\n    \r\n      @Bean(&quot;cassandraKeyspaceServiceTemplate&quot;)\r\n      @Primary\r\n      public CassandraOperations cassandraTemplate() {\r\n        return new CassandraTemplate(session().getObject());\r\n      }\r\n    }\r\n\r\nWith this code the first cluster is also setting up correctly, but the second one is giving me a `NoHostAvailable` exception. This seems to be a connection timeout. \r\n\r\nHow can I create two different clusters in a Spring Boot application?\r\n\r\n","title":"How can we create two separate cassandra clusters from the same Spring Boot application?","body":"<p>I'm having a hard time connecting to two different clusters from a Spring Boot application. The task is to get the data from Cassandra on ec2 and insert in batches to an AWS keyspace. I am able to get the data from Cassandra on ec2.</p>\n<p>Here I am overriding the customize method of</p>\n<blockquote>\n<p>org.springframework.boot.autoconfigure.cassandra.ClusterBuilderCustomizer</p>\n</blockquote>\n<p>When trying to connect to the Cassandra cluster running on ec2, things are working fine, but the requirement is to also have one more cluster to select data from Cassandra ec2 and insert into the other Cassandra cluster.</p>\n<p>The problem is when I am overriding the customize method for creating a cluster in the AWS Keyspace, instead of a new cluster being created, the contact point gets added to a previously created cluster.</p>\n<p>After that, I tried creating two different configurations for instantiating two different clusters. See the configuration below for cluster 1. Cluster 2 is the same; the only difference is its for 3rd party Cassandra on cloud.</p>\n<pre><code>@Configuration\n@EnableCassandraRepositories(cassandraTemplateRef = &quot;cassandraKeyspaceServiceTemplate&quot;)\npublic class CassandraClusterOneServiceConfiguration {\n\n  @Autowired\n  private CassandraOneProperties cassandraProperties;\n\n  @Bean(name = &quot;cluster1&quot;)\n  @Primary\n  public CassandraClusterFactoryBean cluster() {\n    CassandraClusterFactoryBean cluster = new CassandraClusterFactoryBean();\n    cluster.setContactPoints(cassandraProperties.getContactPoints());\n    cluster.setPort(cassandraProperties.getPort());\n    cluster.setSslEnabled(cassandraProperties.isSsl());\n    cluster.setUsername(cassandraProperties.getUsername());\n    cluster.setPassword(cassandraProperties.getPassword());\n   \n     final SSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\n    \n\n    cluster.setSslOptions(\n        RemoteEndpointAwareJdkSSLOptions.builder().withSSLContext(sslContext).build());\n    cluster.setJmxReportingEnabled(false);\n    return cluster;\n  }\n\n  @Bean(name = &quot;clusterContext1&quot;)\n  @Primary\n  public CassandraMappingContext mappingContext() {\n    return new CassandraMappingContext();\n  }\n\n  @Bean(name = &quot;clusterConverter1&quot;)\n  @Primary\n  public CassandraConverter converter() {\n    return new MappingCassandraConverter(mappingContext());\n  }\n\n  @Bean(&quot;cassandraKeyspaceServiceSession&quot;)\n  @Primary\n  public CassandraSessionFactoryBean session() {\n\n    CassandraSessionFactoryBean session = new CassandraSessionFactoryBean();\n    session.setCluster(cluster().getObject());\n    session.setKeyspaceName(cassandraProperties.getKeyspaceName());\n    session.setConverter(converter());\n    session.setSchemaAction(SchemaAction.NONE);\n\n    return session;\n  }\n\n  @Bean(&quot;cassandraKeyspaceServiceTemplate&quot;)\n  @Primary\n  public CassandraOperations cassandraTemplate() {\n    return new CassandraTemplate(session().getObject());\n  }\n}\n</code></pre>\n<p>With this code the first cluster is also setting up correctly, but the second one is giving me a <code>NoHostAvailable</code> exception. This seems to be a connection timeout.</p>\n<p>How can I create two different clusters in a Spring Boot application?</p>\n"},{"tags":["java","apache-flink","flink-streaming","complex-event-processing","flink-cep"],"answers":[{"tags":[],"owner":{"account_id":2126910,"reputation":1761,"user_id":1888799,"display_name":"veysiertekin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630421700,"creation_date":1630421308,"answer_id":69000861,"question_id":68887743,"body_markdown":"Unlike regular programming libraries, all big data processing engines creates new pipelines and operators for queries and programs (like Spark &amp; Flink).\r\n\r\nWe had a similar problem in our rule engine, we have to commonize similar rules with parameter based ones. In that style we had a few pipelines that apply rule restrictions on the rules. We were using a home grown software for that I can not mention here. I think you can also take a similar approach here.","title":"How to run multiple complex rules with flink","body":"<p>Unlike regular programming libraries, all big data processing engines creates new pipelines and operators for queries and programs (like Spark &amp; Flink).</p>\n<p>We had a similar problem in our rule engine, we have to commonize similar rules with parameter based ones. In that style we had a few pipelines that apply rule restrictions on the rules. We were using a home grown software for that I can not mention here. I think you can also take a similar approach here.</p>\n"},{"tags":[],"owner":{"account_id":17966093,"reputation":597,"user_id":13055947,"display_name":"emilio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668715192,"creation_date":1668681772,"answer_id":74474041,"question_id":68887743,"body_markdown":"You might have a look at [siddhi CEP][1]. It has a [flink connector][2] but I&#39;m not sure how well it is maintained.\r\n\r\nThis year there was a [talk][3] on flink forward too!\r\n\r\nOtherwise you might need to implement it by your self with a broadcast state pattern.\r\n\r\n\r\n  [1]: https://siddhi.io/\r\n  [2]: https://github.com/haoch/flink-siddhi\r\n  [3]: https://www.slideshare.net/FlinkForward/dynamic-rulebased-realtime-market-data-alerts","title":"How to run multiple complex rules with flink","body":"<p>You might have a look at <a href=\"https://siddhi.io/\" rel=\"nofollow noreferrer\">siddhi CEP</a>. It has a <a href=\"https://github.com/haoch/flink-siddhi\" rel=\"nofollow noreferrer\">flink connector</a> but I'm not sure how well it is maintained.</p>\n<p>This year there was a <a href=\"https://www.slideshare.net/FlinkForward/dynamic-rulebased-realtime-market-data-alerts\" rel=\"nofollow noreferrer\">talk</a> on flink forward too!</p>\n<p>Otherwise you might need to implement it by your self with a broadcast state pattern.</p>\n"}],"owner":{"account_id":1410679,"reputation":3385,"user_id":1337338,"accept_rate":38,"display_name":"voidMainReturn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1182,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1668715192,"creation_date":1629696888,"question_id":68887743,"body_markdown":"Here&#39;s our use case :\r\nWe are planning to build a rule based engine on top of flink with huge number of rules(1000s). the rules could be stateless or stateful. \r\nExample stateless rule is : A.id = 3 &amp;&amp; A.name = &#39;abc&#39; || A.color = red. \r\nExample stateful rule is : A is event.id =3, B is event.name = &#39;abc&#39;, C is event.color = red and we are looking for pattern AB*C over time window of 1 hour.\r\n\r\nNow we have tried to use flink CEP for this purpose and program crashed because of lot of threads. The explanation is : every application of CEP.pattern creates a new operator in the graph and flink can&#39;t support that many vertices in a graph.\r\n\r\nOther approach could be to use processFunction in flink, but still to run the rules on events stream, you&#39;d have to use some sort of CEP or write your own.\r\n\r\nMy question is, does anybody have any other suggestions on how to achieve this ? Any other CEPs that integrate and work better with flink (siddhi, jasper, drools) ? Or are we thinking this completely wrong and the only way to achieve this is to keyBy ruleID, so that 1 rule runs per task slot(but in this approach all data gets sent to all slots) ?\r\nAny experience/suggestion would be helpful.","title":"How to run multiple complex rules with flink","body":"<p>Here's our use case :\nWe are planning to build a rule based engine on top of flink with huge number of rules(1000s). the rules could be stateless or stateful.\nExample stateless rule is : A.id = 3 &amp;&amp; A.name = 'abc' || A.color = red.\nExample stateful rule is : A is event.id =3, B is event.name = 'abc', C is event.color = red and we are looking for pattern AB*C over time window of 1 hour.</p>\n<p>Now we have tried to use flink CEP for this purpose and program crashed because of lot of threads. The explanation is : every application of CEP.pattern creates a new operator in the graph and flink can't support that many vertices in a graph.</p>\n<p>Other approach could be to use processFunction in flink, but still to run the rules on events stream, you'd have to use some sort of CEP or write your own.</p>\n<p>My question is, does anybody have any other suggestions on how to achieve this ? Any other CEPs that integrate and work better with flink (siddhi, jasper, drools) ? Or are we thinking this completely wrong and the only way to achieve this is to keyBy ruleID, so that 1 rule runs per task slot(but in this approach all data gets sent to all slots) ?\nAny experience/suggestion would be helpful.</p>\n"},{"tags":["java","mapping","dozer","mapstruct","modelmapper"],"comments":[{"owner":{"account_id":10610423,"reputation":1151,"user_id":7814526,"display_name":"JensS"},"score":0,"creation_date":1506964353,"post_id":46530323,"comment_id":80015412,"body_markdown":"I&#39;m not sure about your exact requirements but Project Lombok might be worth a look...","body":"I&#39;m not sure about your exact requirements but Project Lombok might be worth a look..."}],"answers":[{"tags":[],"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1535399605,"creation_date":1506979300,"answer_id":46533911,"question_id":46530323,"body_markdown":"This can be easily done with MapStruct and using a custom naming strategy for builders.\n\nHave a look [here](http://mapstruct.org/documentation/stable/reference/html/#_custom_accessor_naming_strategy) in the documentation how to use Custom Accessor naming strategy.\n\nYour mappings then need to look like:\n\n    @Mapper\n    public interface MyMapper {\n\n        default Immutable map(Source source) {\n            return mapToBuilder(source).build();\n        }\n\n        Immutable.Builder mapToBuilder(Source source);\n    }\n\nWithin MapStruct we are already working on a feature that would support out of the box support for builders. You can follow [this](https://github.com/mapstruct/mapstruct/issues/782) issue for more details.\n\n## Update\n\nMapStruct now (since 1.3.0.Beta1) has out of the box support for Immutables. This means that the mapper before can be written like:\n\n    @Mapper\n    public interface MyMapper {\n    \n        Immutable map(Source source);\n    }\n\nThe assumption is that there is a public static method without parameters in `Immutable` that returns the builder","title":"Java Object mapping framework working with builder pattern","body":"<p>This can be easily done with MapStruct and using a custom naming strategy for builders.</p>\n<p>Have a look <a href=\"http://mapstruct.org/documentation/stable/reference/html/#_custom_accessor_naming_strategy\" rel=\"nofollow noreferrer\">here</a> in the documentation how to use Custom Accessor naming strategy.</p>\n<p>Your mappings then need to look like:</p>\n<pre><code>@Mapper\npublic interface MyMapper {\n\n    default Immutable map(Source source) {\n        return mapToBuilder(source).build();\n    }\n\n    Immutable.Builder mapToBuilder(Source source);\n}\n</code></pre>\n<p>Within MapStruct we are already working on a feature that would support out of the box support for builders. You can follow <a href=\"https://github.com/mapstruct/mapstruct/issues/782\" rel=\"nofollow noreferrer\">this</a> issue for more details.</p>\n<h2>Update</h2>\n<p>MapStruct now (since 1.3.0.Beta1) has out of the box support for Immutables. This means that the mapper before can be written like:</p>\n<pre><code>@Mapper\npublic interface MyMapper {\n\n    Immutable map(Source source);\n}\n</code></pre>\n<p>The assumption is that there is a public static method without parameters in <code>Immutable</code> that returns the builder</p>\n"},{"tags":[],"owner":{"account_id":1415527,"reputation":848,"user_id":1341265,"display_name":"ther"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1522016815,"creation_date":1522016815,"answer_id":49481635,"question_id":46530323,"body_markdown":"I got the following working with `Lombok` and `ModelMapper`. See: http://modelmapper.org/getting-started/\r\n\r\n    public class MyService {\r\n         private ModelMapper modelMapper;\r\n\r\n         public MyService(){\r\n             this.modelMapper = new ModelMapper();\r\n             this.modelMapper.getConfiguration()\r\n                .setMatchingStrategy(MatchingStrategies.STRICT)\r\n                .setDestinationNamingConvention(LombokBuilderNamingConvention.INSTANCE)\r\n                .setDestinationNameTransformer(LombokBuilderNameTransformer.INSTANCE);\r\n         }\r\n\r\n         public OutputDTO aMethod(final InputDTO input){\r\n              return modelMapper.map(input, OutputDTO.OutputDTOBuilder.class).build(); \r\n         }\r\n    }\r\n    \r\nWhere `LombokBuilderNamingConvention` is:\r\n\r\n    import org.modelmapper.spi.NamingConvention;\r\n    import org.modelmapper.spi.PropertyType;\r\n\r\n    public class LombokBuilderNamingConvention implements NamingConvention {\r\n    \r\n        public static LombokBuilderNamingConvention INSTANCE = new LombokBuilderNamingConvention();\r\n    \r\n        @Override\r\n        public boolean applies(String propertyName, PropertyType propertyType) {\r\n            return PropertyType.METHOD.equals(propertyType);\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Lombok @Builder Naming Convention&quot;;\r\n        }\r\n    \r\n    }\r\n    \r\nAnd `LombokBuilderNameTransformer` is:\r\n\r\n    import org.modelmapper.spi.NameTransformer;\r\n    import org.modelmapper.spi.NameableType;\r\n\r\n\r\n    public class LombokBuilderNameTransformer implements NameTransformer {\r\n    \r\n        public static final NameTransformer INSTANCE = new LombokBuilderNameTransformer();\r\n    \r\n        @Override\r\n        public String transform(final String name, final NameableType nameableType) {\r\n            return Strings.decapitalize(name);\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Lombok @Builder Mutator&quot;;\r\n        }\r\n    }\r\n    \r\nAnd `OutputDTO` can look like:\r\n\r\n\r\n    @Builder // Has .builder() static method\r\n    @Value // Thus immutable\r\n    public class OutputDTO {\r\n       private String foo;\r\n       private int bar;\r\n    } \r\n\r\n","title":"Java Object mapping framework working with builder pattern","body":"<p>I got the following working with <code>Lombok</code> and <code>ModelMapper</code>. See: <a href=\"http://modelmapper.org/getting-started/\" rel=\"nofollow noreferrer\">http://modelmapper.org/getting-started/</a></p>\n\n<pre><code>public class MyService {\n     private ModelMapper modelMapper;\n\n     public MyService(){\n         this.modelMapper = new ModelMapper();\n         this.modelMapper.getConfiguration()\n            .setMatchingStrategy(MatchingStrategies.STRICT)\n            .setDestinationNamingConvention(LombokBuilderNamingConvention.INSTANCE)\n            .setDestinationNameTransformer(LombokBuilderNameTransformer.INSTANCE);\n     }\n\n     public OutputDTO aMethod(final InputDTO input){\n          return modelMapper.map(input, OutputDTO.OutputDTOBuilder.class).build(); \n     }\n}\n</code></pre>\n\n<p>Where <code>LombokBuilderNamingConvention</code> is:</p>\n\n<pre><code>import org.modelmapper.spi.NamingConvention;\nimport org.modelmapper.spi.PropertyType;\n\npublic class LombokBuilderNamingConvention implements NamingConvention {\n\n    public static LombokBuilderNamingConvention INSTANCE = new LombokBuilderNamingConvention();\n\n    @Override\n    public boolean applies(String propertyName, PropertyType propertyType) {\n        return PropertyType.METHOD.equals(propertyType);\n    }\n\n    @Override\n    public String toString() {\n        return \"Lombok @Builder Naming Convention\";\n    }\n\n}\n</code></pre>\n\n<p>And <code>LombokBuilderNameTransformer</code> is:</p>\n\n<pre><code>import org.modelmapper.spi.NameTransformer;\nimport org.modelmapper.spi.NameableType;\n\n\npublic class LombokBuilderNameTransformer implements NameTransformer {\n\n    public static final NameTransformer INSTANCE = new LombokBuilderNameTransformer();\n\n    @Override\n    public String transform(final String name, final NameableType nameableType) {\n        return Strings.decapitalize(name);\n    }\n\n    @Override\n    public String toString() {\n        return \"Lombok @Builder Mutator\";\n    }\n}\n</code></pre>\n\n<p>And <code>OutputDTO</code> can look like:</p>\n\n<pre><code>@Builder // Has .builder() static method\n@Value // Thus immutable\npublic class OutputDTO {\n   private String foo;\n   private int bar;\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":22938461,"reputation":538,"user_id":17071589,"display_name":"abdella"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668714509,"creation_date":1668599531,"answer_id":74459982,"question_id":46530323,"body_markdown":"Uing `Lombok` and `ModelMapper` configure as:\r\n\r\n```java\r\nModelMapper modelMapper = new ModelMapper();\r\nmodelMapper.getConfiguration()\r\n           .setFieldMatchingEnabled(true)\r\n           .setFieldAccessLevel(AccessLevel.PRIVATE);\r\n```\r\nBy default ModelMapper uses only public setter method to map. When the class annotated with Lombok builder annotation it made the setter method as private. So to allow the ModelMapper to use the private setter method we need to add the above configureation.\r\n\r\nOR\r\n\r\n```java\r\n    Configuration builderConfiguration = modelMapper.getConfiguration().copy()\r\n    .setDestinationNameTransformer(NameTransformers.builder())\r\n    .setDestinationNamingConvention(NamingConventions.builder());\r\n\r\n    modelMapper.createTypeMap(MyEntity.class, MyDto.MyDtoBuilder.class, builderConfiguration);\r\n```\r\n\r\nwhere MyEnity class is:\r\n\r\n```\r\n   @Data\r\n    private static class MyEntity {\r\n        private Long id;\r\n        private String name;\r\n        private String value;\r\n    }\r\n```\r\nand builder class is:\r\n```\r\n    @Data\r\n    @Builder\r\n    private static class MyDto {\r\n        private final Long id;\r\n        private final String name;\r\n        private final String value;\r\n    }\r\n```\r\nclick [here][1] for detail\r\n\r\n\r\n  [1]: https://github.com/modelmapper/modelmapper/issues/265#issuecomment-410216912","title":"Java Object mapping framework working with builder pattern","body":"<p>Uing <code>Lombok</code> and <code>ModelMapper</code> configure as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ModelMapper modelMapper = new ModelMapper();\nmodelMapper.getConfiguration()\n           .setFieldMatchingEnabled(true)\n           .setFieldAccessLevel(AccessLevel.PRIVATE);\n</code></pre>\n<p>By default ModelMapper uses only public setter method to map. When the class annotated with Lombok builder annotation it made the setter method as private. So to allow the ModelMapper to use the private setter method we need to add the above configureation.</p>\n<p>OR</p>\n<pre class=\"lang-java prettyprint-override\"><code>    Configuration builderConfiguration = modelMapper.getConfiguration().copy()\n    .setDestinationNameTransformer(NameTransformers.builder())\n    .setDestinationNamingConvention(NamingConventions.builder());\n\n    modelMapper.createTypeMap(MyEntity.class, MyDto.MyDtoBuilder.class, builderConfiguration);\n</code></pre>\n<p>where MyEnity class is:</p>\n<pre><code>   @Data\n    private static class MyEntity {\n        private Long id;\n        private String name;\n        private String value;\n    }\n</code></pre>\n<p>and builder class is:</p>\n<pre><code>    @Data\n    @Builder\n    private static class MyDto {\n        private final Long id;\n        private final String name;\n        private final String value;\n    }\n</code></pre>\n<p>click <a href=\"https://github.com/modelmapper/modelmapper/issues/265#issuecomment-410216912\" rel=\"nofollow noreferrer\">here</a> for detail</p>\n"}],"owner":{"account_id":10309804,"reputation":61,"user_id":7606002,"accept_rate":25,"display_name":"r3nw0rp"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7555,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1668714509,"creation_date":1506964131,"question_id":46530323,"body_markdown":"Is there any class mapping framework which works with builders? I would like to keep some of my classes immutable and avoid multiple constructors - the Builder Pattern comes to the rescue. However I can&#39;t any mapping framework which would use builder automatically instead of getters/setters.","title":"Java Object mapping framework working with builder pattern","body":"<p>Is there any class mapping framework which works with builders? I would like to keep some of my classes immutable and avoid multiple constructors - the Builder Pattern comes to the rescue. However I can't any mapping framework which would use builder automatically instead of getters/setters.</p>\n"},{"tags":["java","priority-queue"],"comments":[{"owner":{"account_id":2825745,"reputation":148,"user_id":2428434,"display_name":"phylib"},"score":0,"creation_date":1668698945,"post_id":74477991,"comment_id":131474204,"body_markdown":"Not sure if maps are the right structure for your task. A map is unordered, but a queue requires strict ordering. What could work is a Map that holds Lists. In your PriorityQueue class, I think you should have something like Map&lt;Integer, List&lt;Object&gt;&gt; as a storage. The Map-Key is the priority value, the Map-Value is a list that holds all objects with the same priority.","body":"Not sure if maps are the right structure for your task. A map is unordered, but a queue requires strict ordering. What could work is a Map that holds Lists. In your PriorityQueue class, I think you should have something like Map&lt;Integer, List&lt;Object&gt;&gt; as a storage. The Map-Key is the priority value, the Map-Value is a list that holds all objects with the same priority."},{"owner":{"account_id":11732873,"reputation":734,"user_id":8587732,"display_name":"Vitaly Chura"},"score":0,"creation_date":1668700458,"post_id":74477991,"comment_id":131474845,"body_markdown":"What is wrong with the Java build in Priority Q?","body":"What is wrong with the Java build in Priority Q?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1668704890,"post_id":74477991,"comment_id":131476559,"body_markdown":"Instead of using the map in the priority queue comparator, the usual solution is to add _pairs_ (of node and distance) to the priority queue, and then to add a new pair for the same node with the lower distance instead of trying to update the old pair.","body":"Instead of using the map in the priority queue comparator, the usual solution is to add <i>pairs</i> (of node and distance) to the priority queue, and then to add a new pair for the same node with the lower distance instead of trying to update the old pair."}],"answers":[{"tags":[],"owner":{"account_id":22848,"reputation":131588,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668714343,"creation_date":1668714343,"answer_id":74481271,"question_id":74477991,"body_markdown":"I think the question you&#39;re asking is &quot;Why doesn&#39;t the priority queue adjust itself when an entry&#39;s key is changed?&quot;\r\n\r\nThe simple answer is &quot;because it wasn&#39;t written to do that.&quot; I&#39;m not aware of any standard priority queue implementation that automatically adjusts the heap when you change an item&#39;s priority. Some have a *decreaseKey* function that will reduce the priority of a given item and then re-adjust. Arbitrarily changing item priorities isn&#39;t a real common operation.\r\n\r\nFor a priority queue structure to automatically fixup the heap whenever an entry&#39;s priority changes, there would have to be some kind of signaling mechanism to say, &quot;hey! My key changed!&quot; Not only does that complicate the priority queue code, it forces any class that will be stored in the priority queue to intercept the change being made to the key/priority value (through a property, one would imagine), and notify the priority queue of the change.\r\n\r\nThat functionality is possible, but it&#39;s a lot of extra work for a feature that&#39;s not not used terribly often. In most applications, it&#39;s much easier to remove the item, adjust its priority, and re-insert.\r\n","title":"PriorityQueue Sorting Based On Map in Java","body":"<p>I think the question you're asking is &quot;Why doesn't the priority queue adjust itself when an entry's key is changed?&quot;</p>\n<p>The simple answer is &quot;because it wasn't written to do that.&quot; I'm not aware of any standard priority queue implementation that automatically adjusts the heap when you change an item's priority. Some have a <em>decreaseKey</em> function that will reduce the priority of a given item and then re-adjust. Arbitrarily changing item priorities isn't a real common operation.</p>\n<p>For a priority queue structure to automatically fixup the heap whenever an entry's priority changes, there would have to be some kind of signaling mechanism to say, &quot;hey! My key changed!&quot; Not only does that complicate the priority queue code, it forces any class that will be stored in the priority queue to intercept the change being made to the key/priority value (through a property, one would imagine), and notify the priority queue of the change.</p>\n<p>That functionality is possible, but it's a lot of extra work for a feature that's not not used terribly often. In most applications, it's much easier to remove the item, adjust its priority, and re-insert.</p>\n"}],"owner":{"account_id":22635231,"reputation":51,"user_id":16812115,"display_name":"Kaloyan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668714343,"creation_date":1668698671,"question_id":74477991,"body_markdown":"I&#39;m trying to create a `PriorityQueue` of keys that establishes sorting using a custom comparator based on values corresponding to the given keys within a map.  However, changing any value within the map does not affect the priority of its corresponding index in the queue. Why is that the case?\r\n\r\n---\r\n*thorough description of the problem*\r\n\r\nI am implementing Dijkstra&#39;s Graph Traversal algorithm and need a priority-queue-like structure to store the non-visited nodes. However, the pre-defined structure uses an edge list as graph representation, so what I have is simply indices from `1` to `n` corresponding to the nodes.\r\n\r\nTo keep the up-to-date distance from a given starting point I create a map with the node indices as keys and distances to each index as corresponding values (at first all, except for the starting one itself, are infinity). \r\n```java\r\nMap&lt;Integer, Integer&gt; distances = new HashMap();\r\nfor(int i = 1; i &lt;= n; i++) {\r\n    distances.put(i, Integer.MAX_VALUE);\r\n}\r\n        \r\ndistances.put(s, 0);\r\n```\r\n\r\nTo be able to easily move on to the next node during iteration, I declare a `PriorityQueue` that would contain the indices of the nodes (sorted based on their distance to the starting point).\r\n\r\n```java\r\nQueue&lt;Integer&gt; queue = new PriorityQueue((a, b) -&gt; distances.get(a) - distances.get(b));\r\nfor(int i = 1; i &lt;= n; i++) {\r\n    queue.offer(i);\r\n}\r\n```\r\n\r\nHowever, when I have to update the distance, as the algorithm finds a shorted one to a given node, the priority queue does not adapt. Thus, I am bound to use `remove` and then `add`.\r\n```java\r\nqueue.remove(i);\r\ndistances.put(i, newDistance);\r\nqueue.offer(i);\r\n```","title":"PriorityQueue Sorting Based On Map in Java","body":"<p>I'm trying to create a <code>PriorityQueue</code> of keys that establishes sorting using a custom comparator based on values corresponding to the given keys within a map.  However, changing any value within the map does not affect the priority of its corresponding index in the queue. Why is that the case?</p>\n<hr />\n<p><em>thorough description of the problem</em></p>\n<p>I am implementing Dijkstra's Graph Traversal algorithm and need a priority-queue-like structure to store the non-visited nodes. However, the pre-defined structure uses an edge list as graph representation, so what I have is simply indices from <code>1</code> to <code>n</code> corresponding to the nodes.</p>\n<p>To keep the up-to-date distance from a given starting point I create a map with the node indices as keys and distances to each index as corresponding values (at first all, except for the starting one itself, are infinity).</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Integer, Integer&gt; distances = new HashMap();\nfor(int i = 1; i &lt;= n; i++) {\n    distances.put(i, Integer.MAX_VALUE);\n}\n        \ndistances.put(s, 0);\n</code></pre>\n<p>To be able to easily move on to the next node during iteration, I declare a <code>PriorityQueue</code> that would contain the indices of the nodes (sorted based on their distance to the starting point).</p>\n<pre class=\"lang-java prettyprint-override\"><code>Queue&lt;Integer&gt; queue = new PriorityQueue((a, b) -&gt; distances.get(a) - distances.get(b));\nfor(int i = 1; i &lt;= n; i++) {\n    queue.offer(i);\n}\n</code></pre>\n<p>However, when I have to update the distance, as the algorithm finds a shorted one to a given node, the priority queue does not adapt. Thus, I am bound to use <code>remove</code> and then <code>add</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>queue.remove(i);\ndistances.put(i, newDistance);\nqueue.offer(i);\n</code></pre>\n"},{"tags":["java","grpc","grpc-java"],"answers":[{"tags":[],"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668713481,"creation_date":1665050281,"answer_id":73971923,"question_id":73971610,"body_markdown":"\r\ngrpc-default-worker-ELG \r\n-\r\n\r\n**Responsible of the IO: doing socket read() and write() calls**.  \r\n\r\n*This is often called the &quot;network thread&quot;*.   \r\n\r\nELG is the Netty server&#39;s **eventloop** that gRPC chooses as default. \r\n\r\n---\r\n\r\ngrpc-default-executor \r\n-\r\nThis is the default channel executor used for running connection management tasks and executing the callbacks of the RPC. \r\n\r\nWhen a new message arrives from the network, **it is read on the eventloop**, and then propagated to the executor. The executor takes the messages and passes them to your `ServerCall.Listener` which will actually process the data.\r\n\r\n\r\n----\r\n\r\n&gt; IO threads are waiting on blockingStub calls. So, On which\r\n&gt; thread/resource is it waiting on?\r\n\r\nOn the **worker** side, as the *client* is waiting for new messages to come from the socket. \r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DZZnT.png","title":"What are the various thread groups in grpc","body":"<h2>grpc-default-worker-ELG</h2>\n<p><strong>Responsible of the IO: doing socket read() and write() calls</strong>.</p>\n<p><em>This is often called the &quot;network thread&quot;</em>.</p>\n<p>ELG is the Netty server's <strong>eventloop</strong> that gRPC chooses as default.</p>\n<hr />\n<h2>grpc-default-executor</h2>\n<p>This is the default channel executor used for running connection management tasks and executing the callbacks of the RPC.</p>\n<p>When a new message arrives from the network, <strong>it is read on the eventloop</strong>, and then propagated to the executor. The executor takes the messages and passes them to your <code>ServerCall.Listener</code> which will actually process the data.</p>\n<hr />\n<blockquote>\n<p>IO threads are waiting on blockingStub calls. So, On which\nthread/resource is it waiting on?</p>\n</blockquote>\n<p>On the <strong>worker</strong> side, as the <em>client</em> is waiting for new messages to come from the socket.</p>\n<p><a href=\"https://i.stack.imgur.com/DZZnT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DZZnT.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":7280269,"reputation":23,"user_id":5565072,"display_name":"Shashank Babu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1416,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73971923,"answer_count":1,"score":2,"last_activity_date":1668713481,"creation_date":1665048903,"question_id":73971610,"body_markdown":"I have taken the thread dump of the java application to investigate the latency issue. I see there are a lot of GRPC threads in the timed_waiting state.\r\n\r\nI am new to grpc and want to understand the following things. \r\n\r\n 1. What is the function of grpc-default-worker threads?\r\n 2. What is the function of grpc-default-executor threads?\r\n 3. IO threads are waiting on blockingStub calls. So, On which thread/resource is it waiting on?\r\n\r\n```\r\ngrpc-default-worker-ELG-3-1\r\nTHREAD ID: 330\r\n\r\nSTATE: RUNNABLE\r\n\r\nstackTrace:\r\njava.lang.Thread.State: RUNNABLE\r\nat app//io.grpc.netty.shaded.io.netty.channel.epoll.Native.epollWait0(Native Method)\r\nat app//io.grpc.netty.shaded.io.netty.channel.epoll.Native.epollWait(Native.java:132)\r\nat app//io.grpc.netty.shaded.io.netty.channel.epoll.EpollEventLoop.epollWait(EpollEventLoop.java:286)\r\nat app//io.grpc.netty.shaded.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:351)\r\nat app//io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\nat app//io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\nat app//io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\nat java.base@11.0.11/java.lang.Thread.run(Thread.java:829)\r\nLocked ownable synchronizers:\r\n- None\r\n```\r\n\r\n```\r\ngrpc-default-executor-76\r\nTHREAD ID : 1768\r\n\r\nSTATE : TIMED_WAITING\r\n\r\n\r\nstackTrace:\r\njava.lang.Thread.State: TIMED_WAITING\r\nat java.base@11.0.11/jdk.internal.misc.Unsafe.park(Native Method)\r\n- parking to wait for &lt;6af9e3ce&gt; (a java.util.concurrent.SynchronousQueue$TransferStack)\r\nat java.base@11.0.11/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:234)\r\nat java.base@11.0.11/java.util.concurrent.SynchronousQueue$TransferStack.awaitFulfill(SynchronousQueue.java:462)\r\nat java.base@11.0.11/java.util.concurrent.SynchronousQueue$TransferStack.transfer(SynchronousQueue.java:361)\r\nat java.base@11.0.11/java.util.concurrent.SynchronousQueue.poll(SynchronousQueue.java:937)\r\nat java.base@11.0.11/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1053)\r\nat java.base@11.0.11/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)\r\nat java.base@11.0.11/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\nat java.base@11.0.11/java.lang.Thread.run(Thread.java:829)\r\nLocked ownable synchronizers:\r\n- None\r\n```\r\n\r\n```\r\nio-pool-145\r\nTHREAD ID : 1683\r\n\r\nSTATE : WAITING\r\n\r\n\r\nstackTrace:\r\njava.lang.Thread.State: WAITING\r\nat java.base@11.0.11/jdk.internal.misc.Unsafe.park(Native Method)\r\n- parking to wait for (a io.grpc.stub.ClientCalls$ThreadlessExecutor)\r\nat java.base@11.0.11/java.util.concurrent.locks.LockSupport.park(LockSupport.java:194)\r\nat app//io.grpc.stub.ClientCalls$ThreadlessExecutor.waitAndDrain(ClientCalls.java:731)\r\nat app//io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:149)\r\nxx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx\r\nxx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx\r\nxx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx\r\nxx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx\r\nxx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx\r\nxx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx\r\nxx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx\r\nxx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx\r\nxx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx\r\nxx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx\r\nat java.base@11.0.11/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)\r\nat java.base@11.0.11/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\nat java.base@11.0.11/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\nat java.base@11.0.11/java.lang.Thread.run(Thread.java:829)\r\nLocked ownable synchronizers:\r\n- Locked &lt;41493122&gt; (a java.util.concurrent.ThreadPoolExecutor$Worker)\r\n```\r\n","title":"What are the various thread groups in grpc","body":"<p>I have taken the thread dump of the java application to investigate the latency issue. I see there are a lot of GRPC threads in the timed_waiting state.</p>\n<p>I am new to grpc and want to understand the following things.</p>\n<ol>\n<li>What is the function of grpc-default-worker threads?</li>\n<li>What is the function of grpc-default-executor threads?</li>\n<li>IO threads are waiting on blockingStub calls. So, On which thread/resource is it waiting on?</li>\n</ol>\n<pre><code>grpc-default-worker-ELG-3-1\nTHREAD ID: 330\n\nSTATE: RUNNABLE\n\nstackTrace:\njava.lang.Thread.State: RUNNABLE\nat app//io.grpc.netty.shaded.io.netty.channel.epoll.Native.epollWait0(Native Method)\nat app//io.grpc.netty.shaded.io.netty.channel.epoll.Native.epollWait(Native.java:132)\nat app//io.grpc.netty.shaded.io.netty.channel.epoll.EpollEventLoop.epollWait(EpollEventLoop.java:286)\nat app//io.grpc.netty.shaded.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:351)\nat app//io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\nat app//io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\nat app//io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\nat java.base@11.0.11/java.lang.Thread.run(Thread.java:829)\nLocked ownable synchronizers:\n- None\n</code></pre>\n<pre><code>grpc-default-executor-76\nTHREAD ID : 1768\n\nSTATE : TIMED_WAITING\n\n\nstackTrace:\njava.lang.Thread.State: TIMED_WAITING\nat java.base@11.0.11/jdk.internal.misc.Unsafe.park(Native Method)\n- parking to wait for &lt;6af9e3ce&gt; (a java.util.concurrent.SynchronousQueue$TransferStack)\nat java.base@11.0.11/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:234)\nat java.base@11.0.11/java.util.concurrent.SynchronousQueue$TransferStack.awaitFulfill(SynchronousQueue.java:462)\nat java.base@11.0.11/java.util.concurrent.SynchronousQueue$TransferStack.transfer(SynchronousQueue.java:361)\nat java.base@11.0.11/java.util.concurrent.SynchronousQueue.poll(SynchronousQueue.java:937)\nat java.base@11.0.11/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1053)\nat java.base@11.0.11/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)\nat java.base@11.0.11/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\nat java.base@11.0.11/java.lang.Thread.run(Thread.java:829)\nLocked ownable synchronizers:\n- None\n</code></pre>\n<pre><code>io-pool-145\nTHREAD ID : 1683\n\nSTATE : WAITING\n\n\nstackTrace:\njava.lang.Thread.State: WAITING\nat java.base@11.0.11/jdk.internal.misc.Unsafe.park(Native Method)\n- parking to wait for (a io.grpc.stub.ClientCalls$ThreadlessExecutor)\nat java.base@11.0.11/java.util.concurrent.locks.LockSupport.park(LockSupport.java:194)\nat app//io.grpc.stub.ClientCalls$ThreadlessExecutor.waitAndDrain(ClientCalls.java:731)\nat app//io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:149)\nxx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx\nxx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx\nxx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx\nxx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx\nxx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx\nxx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx\nxx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx\nxx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx\nxx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx\nxx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx xx\nat java.base@11.0.11/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)\nat java.base@11.0.11/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\nat java.base@11.0.11/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\nat java.base@11.0.11/java.lang.Thread.run(Thread.java:829)\nLocked ownable synchronizers:\n- Locked &lt;41493122&gt; (a java.util.concurrent.ThreadPoolExecutor$Worker)\n</code></pre>\n"},{"tags":["java","file","permissions","nio2"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1569409411,"post_id":58096912,"comment_id":102585845,"body_markdown":"Why? Is that not suitable for you?","body":"Why? Is that not suitable for you?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1569409539,"post_id":58096912,"comment_id":102585924,"body_markdown":"Possibly through [`AclFileAttributeView`](https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/nio/file/attribute/AclFileAttributeView.html).","body":"Possibly through <a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/nio/file/attribute/AclFileAttributeView.html\" rel=\"nofollow noreferrer\"><code>AclFileAttributeView</code></a>."},{"owner":{"account_id":7644185,"reputation":90,"user_id":5795392,"display_name":"Остап Страшевский"},"score":0,"creation_date":1569410000,"post_id":58096912,"comment_id":102586179,"body_markdown":"Kayaman - I checked it on my own system and can&#39;t see any differences(right-click popup menu-&gt;properties-&gt;security), like nothing happened","body":"Kayaman - I checked it on my own system and can&#39;t see any differences(right-click popup menu-&gt;properties-&gt;security), like nothing happened"}],"answers":[{"tags":[],"owner":{"account_id":4007082,"reputation":23327,"user_id":3301492,"display_name":"Boris"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1569430464,"creation_date":1569428074,"answer_id":58102635,"question_id":58096912,"body_markdown":"The `File` methods that set various attributes: `setExecutable`, `setReadable`, `setReadOnly`, `setWritable` are replaced by the `Files` method [setAttribute(Path, String, Object, LinkOption...)][1].\r\n\r\n**Usage Example:**\r\n\r\n```java\r\npublic void setFileAttributes() throws IOException {\r\n  Path path = ...\r\n\r\n  UserPrincipal user = path.getFileSystem().getUserPrincipalLookupService().lookupPrincipalByName(&quot;user&quot;);\r\n  AclFileAttributeView view = Files.getFileAttributeView(path, AclFileAttributeView.class);\r\n  AclEntry entry = AclEntry.newBuilder()\r\n          .setType(ALLOW)\r\n          .setPrincipal(user)\r\n          .setPermissions(Set.of(READ_DATA, EXECUTE, WRITE_DATA))\r\n          .build();\r\n  List&lt;AclEntry&gt; acl = view.getAcl();\r\n  acl.add(0, entry);\r\n\r\n  Files.setAttribute(path, &quot;acl:acl&quot;, acl);\r\n}\r\n```\r\n\r\nSee [AclFileAttributeView][2] for more details.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/nio/file/Files.html#setAttribute(java.nio.file.Path,java.lang.String,java.lang.Object,java.nio.file.LinkOption...)\r\n  [2]: https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/nio/file/attribute/AclFileAttributeView.html","title":"How to set file permissions using java NIO2 on Windows?","body":"<p>The <code>File</code> methods that set various attributes: <code>setExecutable</code>, <code>setReadable</code>, <code>setReadOnly</code>, <code>setWritable</code> are replaced by the <code>Files</code> method <a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/nio/file/Files.html#setAttribute(java.nio.file.Path,java.lang.String,java.lang.Object,java.nio.file.LinkOption...)\" rel=\"nofollow noreferrer\">setAttribute(Path, String, Object, LinkOption...)</a>.</p>\n\n<p><strong>Usage Example:</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public void setFileAttributes() throws IOException {\n  Path path = ...\n\n  UserPrincipal user = path.getFileSystem().getUserPrincipalLookupService().lookupPrincipalByName(\"user\");\n  AclFileAttributeView view = Files.getFileAttributeView(path, AclFileAttributeView.class);\n  AclEntry entry = AclEntry.newBuilder()\n          .setType(ALLOW)\n          .setPrincipal(user)\n          .setPermissions(Set.of(READ_DATA, EXECUTE, WRITE_DATA))\n          .build();\n  List&lt;AclEntry&gt; acl = view.getAcl();\n  acl.add(0, entry);\n\n  Files.setAttribute(path, \"acl:acl\", acl);\n}\n</code></pre>\n\n<p>See <a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/nio/file/attribute/AclFileAttributeView.html\" rel=\"nofollow noreferrer\">AclFileAttributeView</a> for more details.</p>\n"}],"owner":{"account_id":7644185,"reputation":90,"user_id":5795392,"display_name":"Остап Страшевский"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1912,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668713121,"creation_date":1569409297,"question_id":58096912,"body_markdown":"Are there any ways of setting file permissions using java8 NIO2 on Windows different from this?\r\n\r\n    file.setReadable(false, false);\r\n    file.setExecutable(false, false);\r\n    file.setWritable(false, false);","title":"How to set file permissions using java NIO2 on Windows?","body":"<p>Are there any ways of setting file permissions using java8 NIO2 on Windows different from this?</p>\n\n<pre><code>file.setReadable(false, false);\nfile.setExecutable(false, false);\nfile.setWritable(false, false);\n</code></pre>\n"},{"tags":["java","string","filter","stream"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1668712494,"post_id":74480859,"comment_id":131479134,"body_markdown":"What do these loops actually do?  Can you specify the desired outcome please?","body":"What do these loops actually do?  Can you specify the desired outcome please?"},{"owner":{"account_id":2924832,"reputation":480,"user_id":2506385,"display_name":"leogtzr"},"score":0,"creation_date":1668713058,"post_id":74480859,"comment_id":131479317,"body_markdown":"I think: `Set&lt;Integer&gt; sets = new Set&lt;&gt;();` should be outside your first for-loop.","body":"I think: <code>Set&lt;Integer&gt; sets = new Set&lt;&gt;();</code> should be outside your first for-loop."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1668713518,"post_id":74480859,"comment_id":131479448,"body_markdown":"Define &#39;efficient&#39;. If you mean: More performant, then streams cannot do that for you. If you mean &#39;less lines of code&#39;, it&#39;s java - just.. stop hitting enter. If you mean &#39;fewer AST nodes&#39; - streams probably also can&#39;t do that for you. Perhaps clarify what you mean by &#39;more efficient&#39;.","body":"Define &#39;efficient&#39;. If you mean: More performant, then streams cannot do that for you. If you mean &#39;less lines of code&#39;, it&#39;s java - just.. stop hitting enter. If you mean &#39;fewer AST nodes&#39; - streams probably also can&#39;t do that for you. Perhaps clarify what you mean by &#39;more efficient&#39;."}],"answers":[{"tags":[],"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668713044,"creation_date":1668713044,"answer_id":74481040,"question_id":74480859,"body_markdown":"You can do\r\n\r\n\r\n        Map&lt;String, String&gt; infos = new HashMap&lt;&gt;();\r\n\r\n        Map&lt;Integer, String&gt; result = infos.entrySet().stream()\r\n                .collect(Collectors.toMap(\r\n                        k -&gt; Integer.parseInt(k.getKey()), \r\n                        Map.Entry::getValue));\r\n","title":"How to use streams to reduce the use of multiple for loops","body":"<p>You can do</p>\n<pre><code>    Map&lt;String, String&gt; infos = new HashMap&lt;&gt;();\n\n    Map&lt;Integer, String&gt; result = infos.entrySet().stream()\n            .collect(Collectors.toMap(\n                    k -&gt; Integer.parseInt(k.getKey()), \n                    Map.Entry::getValue));\n</code></pre>\n"}],"owner":{"account_id":10873228,"reputation":35,"user_id":7994435,"display_name":"Chenman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1668713044,"creation_date":1668712125,"question_id":74480859,"body_markdown":"Already existing map and want to filter it and add it to another map.I&#39;ve done it using for loops but I&#39;m trying to find a more efficient way to do it with streams and filters.\r\n\r\n    Existing map with info already in it:\r\n\r\n    Map &lt;String,String&gt; infos = new Map&lt;&gt;();\r\n    \r\n    \r\n    for (String i : infos.keySet()){\r\n       Set&lt;Integer&gt; sets = new Set&lt;&gt;();\r\n       sets.add(Integer.parseInt(i));\r\n    }\r\n    \r\n    for (Integer i:sets){\r\n       Map &lt;Integer,String&gt; matches = new Map&lt;&gt;()\r\n       matches.put(i,infos.get(i.toString());\r\n    }\r\n\r\n","title":"How to use streams to reduce the use of multiple for loops","body":"<p>Already existing map and want to filter it and add it to another map.I've done it using for loops but I'm trying to find a more efficient way to do it with streams and filters.</p>\n<pre><code>Existing map with info already in it:\n\nMap &lt;String,String&gt; infos = new Map&lt;&gt;();\n\n\nfor (String i : infos.keySet()){\n   Set&lt;Integer&gt; sets = new Set&lt;&gt;();\n   sets.add(Integer.parseInt(i));\n}\n\nfor (Integer i:sets){\n   Map &lt;Integer,String&gt; matches = new Map&lt;&gt;()\n   matches.put(i,infos.get(i.toString());\n}\n</code></pre>\n"},{"tags":["java","spring-boot","checkbox","spring-thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":26656481,"reputation":51,"user_id":20269937,"display_name":"Nebojsa Kurilj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668591390,"creation_date":1668591390,"answer_id":74458166,"question_id":74405456,"body_markdown":"This issue could pretty easily be resolved by just using DTO objects instead of the standard entities that you are using at the moment.\r\n\r\nFor example, you could create a DTO for the Employee class that has a list of ID&#39;s for projects that they are currently involved with:\r\n\r\n    List&lt;Long&gt; projectIds;\r\n\r\nIn order to create the DTO object, you can use something like [MapStruct][1], or create it manually, which ever you prefer.\r\n\r\nIt would also be smart to use a &lt;select&gt; tag instead of regular check-boxes. They are much simpler to use and can be styled to look just right. Then, you can set the value for the &lt;select&gt; tag by declaring something like:\r\n\r\n    &lt;select th:field=&quot;*{projectIds}&quot; multiple=&quot;multiple&quot;&gt;\r\n                          &lt;option\r\n                            th:each=&quot;project : ${projects}&quot;\r\n                            th:value=&quot;${project.id}&quot;\r\n                            th:text=&quot;${project.name}&quot;\r\n                          &gt;&lt;/option&gt;\r\n     &lt;/select&gt;\r\n\r\nThe object that you send to your POST/PUT controller should now have the ID&#39;s for the updated projects.\r\n\r\nAll that remains is to handle the received object in your service class and you should be good to go!\r\n\r\n\r\n  [1]: https://mapstruct.org/","title":"Spring Thymeleaf set checkbox to on update value with related table","body":"<p>This issue could pretty easily be resolved by just using DTO objects instead of the standard entities that you are using at the moment.</p>\n<p>For example, you could create a DTO for the Employee class that has a list of ID's for projects that they are currently involved with:</p>\n<pre><code>List&lt;Long&gt; projectIds;\n</code></pre>\n<p>In order to create the DTO object, you can use something like <a href=\"https://mapstruct.org/\" rel=\"nofollow noreferrer\">MapStruct</a>, or create it manually, which ever you prefer.</p>\n<p>It would also be smart to use a  tag instead of regular check-boxes. They are much simpler to use and can be styled to look just right. Then, you can set the value for the  tag by declaring something like:</p>\n<pre><code>&lt;select th:field=&quot;*{projectIds}&quot; multiple=&quot;multiple&quot;&gt;\n                      &lt;option\n                        th:each=&quot;project : ${projects}&quot;\n                        th:value=&quot;${project.id}&quot;\n                        th:text=&quot;${project.name}&quot;\n                      &gt;&lt;/option&gt;\n &lt;/select&gt;\n</code></pre>\n<p>The object that you send to your POST/PUT controller should now have the ID's for the updated projects.</p>\n<p>All that remains is to handle the received object in your service class and you should be good to go!</p>\n"}],"owner":{"account_id":25464408,"reputation":81,"user_id":19263679,"display_name":"Kayd Anderson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":700,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668712808,"creation_date":1668184009,"question_id":74405456,"body_markdown":"Im trying to setup an update/edit page, for an ```Employee``` entity that has a oneToMany relation with ```EmployeeProject``` entity. Then ```Project``` also has a oneToMany relation to ```EmployeeProject```. Saving an employee works fine, you enter a name and contract start/end dates then there is a dynamic list of projects where you use a checkbox to choose the project and add employeeProjectMonths. My problem is in update_employee, when I set the th:field to set the checkbox to show which projects are already set to that employee it uses the EmployeeProject id, not the project id in EmployeeProject, which shows incorrect projects. Im not sure how to do it, ive tried th:field=&quot;${employee.employeeProjects.project.id}&quot;, also without .id. but I&#39;m not sure how to proceed. So how do I set the th:field=&quot;${employee.employeeProjects}&quot; so it chooses the project_id column and not the EmployeeProjects id column?\r\n\r\nHeres my entities without constructors, getters and setters.\r\n```\r\n@Entity\r\n@Table(name = &quot;employees&quot;)\r\npublic class Employee {\r\n\r\n\t@Id\r\n\t@Column(name = &quot;employee_id&quot;)\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\r\n\t@Column(nullable = false)\r\n\tprivate String name;\r\n\r\n\t@JsonFormat(pattern = &quot;yyyy-MM-dd&quot;, shape = JsonFormat.Shape.STRING)\r\n\t@Column(name = &quot;contracted_from&quot;)\r\n\tprivate String contractedFrom;\r\n\r\n\t@JsonFormat(pattern = &quot;yyyy-MM-dd&quot;, shape = JsonFormat.Shape.STRING)\r\n\t@Column(name = &quot;contracted_to&quot;)\r\n\tprivate String contractedTo;\r\n\r\n\t@OneToMany(mappedBy = &quot;employee&quot;, cascade = CascadeType.ALL)\r\n\tprivate Set&lt;EmployeeProject&gt; employeeProjects = new HashSet&lt;&gt;();\r\n\r\n@Entity\r\n@Table(name = &quot;projects&quot;)\r\npublic class Project implements Serializable {\r\n    @Id\r\n    @Column(name = &quot;project_id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private Long projectNumber;\r\n\r\n    @Column(nullable = false, length = 45)\r\n    private String name;\r\n\r\n\r\n    @JsonFormat(pattern = &quot;yyyy-MM-dd&quot;, shape = JsonFormat.Shape.STRING)\r\n    @Column(name = &quot;start_date&quot;, nullable = false)\r\n    private String startDate;\r\n\r\n    @JsonFormat(pattern = &quot;yyyy-MM-dd&quot;, shape = JsonFormat.Shape.STRING)\r\n    @Column(name = &quot;end_date&quot;, nullable = false)\r\n    private String endDate;\r\n\r\n@JsonIgnore\r\n    @OneToMany(mappedBy = &quot;project&quot;, cascade = CascadeType.ALL)\r\n    private Set&lt;EmployeeProject&gt; employeeProjects = new HashSet&lt;&gt;();\r\n\r\n@Entity\r\n@Table(name = &quot;employee_projects&quot;)\r\npublic class EmployeeProject implements Serializable {\r\n\r\n    @Id\r\n    @Column(name = &quot;employee_project_id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @JsonIgnore\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;employee_id&quot;)\r\n    private Employee employee;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;project_id&quot;)\r\n    private Project project;\r\n\r\n    @Column(name = &quot;employee_booked_months&quot;)\r\n    private double employeeBookedMonths;\r\n```\r\n\r\nController \r\n```\r\n@GetMapping(&quot;/showFormForEmployeeUpdate/{id}&quot;)\r\n\tpublic String showFormForUpdate(@PathVariable ( value = &quot;id&quot;) long id, Model model) {\r\n\t\tEmployee employee = employeeService.getEmployeeById(id);\r\n\t\tList&lt;Project&gt; projects = employeeService.getAllProjects();\r\n\t\tmodel.addAttribute(&quot;employee&quot;, employee);\r\n\t\tmodel.addAttribute(&quot;projects&quot;, projects);\r\n\t\treturn &quot;update_employee&quot;;\r\n\t}\r\n```\r\n\r\nhtml form\r\n```\r\n&lt;form action=&quot;#&quot; th:action=&quot;@{/ines/saveEmployee}&quot; th:object=&quot;${employee}&quot;\r\n\t\t\tmethod=&quot;POST&quot;&gt;\r\n\t\t\t\r\n\t\t\t&lt;!-- Add hidden form field to handle update --&gt;\r\n\t\t\t&lt;input type=&quot;hidden&quot; th:field=&quot;*{id}&quot; /&gt;\r\n\r\n\t\t\t&lt;input type=&quot;text&quot; th:field=&quot;*{name}&quot;\r\n\t\t\t\t   placeholder=&quot;Employee Name&quot; class=&quot;form-control mb-4 col-4&quot;&gt;\r\n\r\n\t\t\t&lt;input type=&quot;date&quot; th:field=&quot;*{contractedFrom}&quot;\r\n\t\t\t\t   placeholder=&quot;Contracted From&quot; class=&quot;form-control mb-4 col-4&quot;&gt;\r\n\r\n\t\t\t&lt;input type=&quot;date&quot; th:field=&quot;*{contractedTo}&quot;\r\n\t\t\t\t   placeholder=&quot;Contracted To&quot; class=&quot;form-control mb-4 col-4&quot;&gt;\r\n\t\t\t&lt;div th:each=&quot;project : ${projects}&quot;&gt;\r\n\t\t\t\t&lt;div class=&quot;form-group blu-margin&quot;&gt;\r\n\t\t\t\t\t&lt;input type=&quot;checkbox&quot; th:field=&quot;${employee.employeeProjects}&quot; th:name=&quot;projectId&quot; th:text=&quot;${project.name}&quot; th:value=&quot;${project.id}&quot;&gt;\r\n\t\t\t\t\t&lt;input type=&quot;text&quot; th:name=&quot;employeeProjectMonths&quot; th:value=&quot;${employeeProjectMonths}&quot;\r\n\t\t\t\t\t\t   placeholder=&quot;Employee Project Months&quot; class=&quot;form-control mb-4 col-4&quot;&gt;\r\n\t\t\t\t&lt;/div&gt;\r\n\t\t\t&lt;/div&gt;\r\n\t\t\t&lt;button type=&quot;submit&quot; class=&quot;btn btn-info col-2&quot;&gt;Save Employee&lt;/button&gt;\r\n\t\t&lt;/form&gt;\r\n```\r\n[![enter image description here][1]][1]\r\n\r\nSo the above pic shows the EmployeeProjects table, so for employee with id 1 (employee_id) it checks the box for projects with ids 2, 5 and 7 (wrong column employee_project_id). But I need to check the box for project ids 6, 9 an 7 (project_id).\r\n\r\nThanks in advance\r\n\r\nEDIT:\r\nSo Ive created a dto object, but I still have the same issue. I had to adjust my code recently, instead of just entering the employeeProjectMonths I now enter 2 dates (start and end) then work out the months from that. But this is my new EmployeeProjectDto: \r\n```\r\nEmployeeProjectDto(id=1, name=John smith, contractedFrom=2022-01-01, contractedTo=2022-12-04, projectList=[ProjectDto(id=1, name=ProjectOne, employeeProjectStartDate=2022-02-01, employeeProjectEndDate=2022-04-30), ProjectDto(id=2, name=ProjectTwo, employeeProjectStartDate=2022-07-01, employeeProjectEndDate=2022-11-30), ProjectDto(id=3, name=ProjectThree, employeeProjectStartDate=2022-08-01, employeeProjectEndDate=2022-09-15)])\r\n``` \r\nThe EmployeeProjectDto\r\n```\r\n@Data\r\npublic class EmployeeProjectDto {\r\n    Long id;\r\n    String name;\r\n    private String contractedFrom;\r\n    private String contractedTo;\r\n    List&lt;ProjectDto&gt; projectList;\r\n\r\n}\r\n```\r\nThe ProjectDto\r\n```\r\n@Data\r\npublic class ProjectDto {\r\n    private Long id;\r\n    private String name;\r\n    private LocalDate employeeProjectStartDate;\r\n    private LocalDate employeeProjectEndDate;\r\n\r\n}\r\n```\r\nController\r\n```\r\n@GetMapping(&quot;/showFormForEmployeeUpdate/{id}&quot;)\r\n\tpublic String showFormForUpdate(@PathVariable ( value = &quot;id&quot;) long id, Model model) {\r\n\t\tEmployee employee = employeeService.getEmployeeById(id);\r\n\r\n\t\tEmployeeProjectDto employeeProjectDto = modelMapper.map(employee, EmployeeProjectDto.class);\r\n\r\n\t\t//other code\r\n\r\n\t\tList&lt;Project&gt; allProjects = employeeService.getAllProjects();\r\n\t\tmodel.addAttribute(&quot;employee&quot;, employeeProjectDto);\r\n\t\tmodel.addAttribute(&quot;projects&quot;, allProjects);\r\n\t\treturn &quot;update_employee&quot;;\r\n\t}\r\n```\r\nHere is the html, but the checkboxes and dates are not updated. It crashes and I get a 500 error (below). I know it asks &#39;Does the return type of the getter match the parameter type of the setter?&#39; Why cant I get the dates in the EmployeeProjectDto, but not in projectList? What am I doing wrong? As a beginner I&#39;m sure its obvious, thanks (and sorry) in advance.\r\n```\r\n&lt;form action=&quot;#&quot; th:action=&quot;@{/ines/updateEmployee/{id}(id=${employee.id})}&quot; th:object=&quot;${employee}&quot;\r\n\t\t\tmethod=&quot;POST&quot;&gt;\r\n\r\n\t\t\t&lt;!-- Add hidden form field to handle update --&gt;\r\n\t\t\t&lt;input type=&quot;hidden&quot; th:field=&quot;*{id}&quot; /&gt;\r\n\r\n\t\t\t&lt;input type=&quot;text&quot; th:field=&quot;*{name}&quot;\r\n\t\t\t\t   placeholder=&quot;Employee Name&quot; class=&quot;form-control mb-4 col-4&quot;&gt;\r\n\r\n\t\t\t&lt;input type=&quot;date&quot; th:field=&quot;*{contractedFrom}&quot;\r\n\t\t\t\t   placeholder=&quot;Contracted From&quot; class=&quot;form-control mb-4 col-4&quot;&gt;\r\n\r\n\t\t\t&lt;input type=&quot;date&quot; th:field=&quot;*{contractedTo}&quot;\r\n\t\t\t\t   placeholder=&quot;Contracted To&quot; class=&quot;form-control mb-4 col-4&quot;&gt;\r\n\t\t\t&lt;div th:each=&quot;proj : ${projects}&quot;&gt;\r\n\t\t\t\t&lt;div class=&quot;form-group blu-margin&quot;&gt;\r\n\t\t\t\t\t&lt;input type=&quot;checkbox&quot; th:field=&quot;*{projectList}&quot; th:name=&quot;projectId&quot;\r\n\t\t\t\t\t\t   th:text=&quot;${proj.name}&quot; th:value=&quot;${proj.id}&quot;&gt;\r\n\t\t\t\t\t&lt;input type=&quot;date&quot;\r\n\t\t\t\t\t\t   th:field=&quot;*{projectList.employeeProjectStartDate}&quot;\r\n\t\t\t\t\t\t   class=&quot;form-control mb-4 col-4&quot;&gt;\r\n\t\t\t\t\t&lt;input type=&quot;date&quot;\r\n\t\t\t\t\t\t   th:field=&quot;*{projectList.employeeProjectEndDate}&quot;\r\n\t\t\t\t\t\t   class=&quot;form-control mb-4 col-4&quot;&gt;\r\n\t\t\t\t&lt;/div&gt;\r\n\t\t\t&lt;/div&gt;\r\n\t\t\t&lt;button type=&quot;submit&quot; class=&quot;btn btn-info col-2&quot;&gt;Save Employee&lt;/button&gt;\r\n\t\t&lt;/form&gt;\r\n```\r\nError\r\n```\r\nThere was an unexpected error (type=Internal Server Error, status=500).\r\nAn error happened during template parsing (template: &quot;class path resource [templates/update_employee.html]&quot;)\r\norg.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/update_employee.html]&quot;)\r\n\tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)\r\n\tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)\r\n\tat org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)\r\n\tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)\r\n\tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)\r\n\tat org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362)\r\n\tat org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189)\r\n\tat org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373)\r\n\tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: org.attoparser.ParseException: Error during execution of processor &#39;org.thymeleaf.spring5.processor.SpringInputGeneralFieldTagProcessor&#39; (template: &quot;update_employee&quot; - line 35, col 10)\r\n\tat org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)\r\n\tat org.attoparser.MarkupParser.parse(MarkupParser.java:257)\r\n\tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)\r\n\t... 48 more\r\nCaused by: org.thymeleaf.exceptions.TemplateProcessingException: Error during execution of processor &#39;org.thymeleaf.spring5.processor.SpringInputGeneralFieldTagProcessor&#39; (template: &quot;update_employee&quot; - line 35, col 10)\r\n\tat org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:117)\r\n\tat org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)\r\n\tat org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)\r\n\tat org.thymeleaf.engine.ProcessorTemplateHandler.handleStandaloneElement(ProcessorTemplateHandler.java:918)\r\n\tat org.thymeleaf.engine.StandaloneElementTag.beHandled(StandaloneElementTag.java:228)\r\n\tat org.thymeleaf.engine.Model.process(Model.java:282)\r\n\tat org.thymeleaf.engine.Model.process(Model.java:290)\r\n\tat org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:367)\r\n\tat org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:221)\r\n\tat org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)\r\n\tat org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)\r\n\tat org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)\r\n\tat org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)\r\n\tat org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)\r\n\tat org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)\r\n\tat org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)\r\n\tat org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)\r\n\tat org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)\r\n\tat org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)\r\n\tat org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)\r\n\t... 50 more\r\nCaused by: org.springframework.beans.NotReadablePropertyException: Invalid property &#39;projectList.employeeProjectStartDate&#39; of bean class [net.javaguides.springboot.dto.EmployeeProjectDto]: Bean property &#39;projectList.employeeProjectStartDate&#39; is not readable or has an invalid getter method: Does the return type of the getter match the parameter type of the setter?\r\n\tat org.springframework.beans.AbstractNestablePropertyAccessor.getPropertyValue(AbstractNestablePropertyAccessor.java:622)\r\n\tat org.springframework.beans.AbstractNestablePropertyAccessor.getPropertyValue(AbstractNestablePropertyAccessor.java:612)\r\n\tat org.springframework.validation.AbstractPropertyBindingResult.getActualFieldValue(AbstractPropertyBindingResult.java:104)\r\n\tat org.springframework.validation.AbstractBindingResult.getFieldValue(AbstractBindingResult.java:228)\r\n\tat org.springframework.web.servlet.support.BindStatus.&lt;init&gt;(BindStatus.java:129)\r\n\tat org.springframework.web.servlet.support.RequestContext.getBindStatus(RequestContext.java:903)\r\n\tat org.thymeleaf.spring5.context.webmvc.SpringWebMvcThymeleafRequestContext.getBindStatus(SpringWebMvcThymeleafRequestContext.java:227)\r\n\tat org.thymeleaf.spring5.util.FieldUtils.getBindStatusFromParsedExpression(FieldUtils.java:306)\r\n\tat org.thymeleaf.spring5.util.FieldUtils.getBindStatus(FieldUtils.java:253)\r\n\tat org.thymeleaf.spring5.util.FieldUtils.getBindStatus(FieldUtils.java:227)\r\n\tat org.thymeleaf.spring5.processor.AbstractSpringFieldTagProcessor.doProcess(AbstractSpringFieldTagProcessor.java:174)\r\n\tat org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)\r\n\t... 69 more\r\n```\r\n  [1]: https://i.stack.imgur.com/blgSL.png","title":"Spring Thymeleaf set checkbox to on update value with related table","body":"<p>Im trying to setup an update/edit page, for an <code>Employee</code> entity that has a oneToMany relation with <code>EmployeeProject</code> entity. Then <code>Project</code> also has a oneToMany relation to <code>EmployeeProject</code>. Saving an employee works fine, you enter a name and contract start/end dates then there is a dynamic list of projects where you use a checkbox to choose the project and add employeeProjectMonths. My problem is in update_employee, when I set the th:field to set the checkbox to show which projects are already set to that employee it uses the EmployeeProject id, not the project id in EmployeeProject, which shows incorrect projects. Im not sure how to do it, ive tried th:field=&quot;${employee.employeeProjects.project.id}&quot;, also without .id. but I'm not sure how to proceed. So how do I set the th:field=&quot;${employee.employeeProjects}&quot; so it chooses the project_id column and not the EmployeeProjects id column?</p>\n<p>Heres my entities without constructors, getters and setters.</p>\n<pre><code>@Entity\n@Table(name = &quot;employees&quot;)\npublic class Employee {\n\n    @Id\n    @Column(name = &quot;employee_id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable = false)\n    private String name;\n\n    @JsonFormat(pattern = &quot;yyyy-MM-dd&quot;, shape = JsonFormat.Shape.STRING)\n    @Column(name = &quot;contracted_from&quot;)\n    private String contractedFrom;\n\n    @JsonFormat(pattern = &quot;yyyy-MM-dd&quot;, shape = JsonFormat.Shape.STRING)\n    @Column(name = &quot;contracted_to&quot;)\n    private String contractedTo;\n\n    @OneToMany(mappedBy = &quot;employee&quot;, cascade = CascadeType.ALL)\n    private Set&lt;EmployeeProject&gt; employeeProjects = new HashSet&lt;&gt;();\n\n@Entity\n@Table(name = &quot;projects&quot;)\npublic class Project implements Serializable {\n    @Id\n    @Column(name = &quot;project_id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private Long projectNumber;\n\n    @Column(nullable = false, length = 45)\n    private String name;\n\n\n    @JsonFormat(pattern = &quot;yyyy-MM-dd&quot;, shape = JsonFormat.Shape.STRING)\n    @Column(name = &quot;start_date&quot;, nullable = false)\n    private String startDate;\n\n    @JsonFormat(pattern = &quot;yyyy-MM-dd&quot;, shape = JsonFormat.Shape.STRING)\n    @Column(name = &quot;end_date&quot;, nullable = false)\n    private String endDate;\n\n@JsonIgnore\n    @OneToMany(mappedBy = &quot;project&quot;, cascade = CascadeType.ALL)\n    private Set&lt;EmployeeProject&gt; employeeProjects = new HashSet&lt;&gt;();\n\n@Entity\n@Table(name = &quot;employee_projects&quot;)\npublic class EmployeeProject implements Serializable {\n\n    @Id\n    @Column(name = &quot;employee_project_id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @JsonIgnore\n    @ManyToOne\n    @JoinColumn(name = &quot;employee_id&quot;)\n    private Employee employee;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;project_id&quot;)\n    private Project project;\n\n    @Column(name = &quot;employee_booked_months&quot;)\n    private double employeeBookedMonths;\n</code></pre>\n<p>Controller</p>\n<pre><code>@GetMapping(&quot;/showFormForEmployeeUpdate/{id}&quot;)\n    public String showFormForUpdate(@PathVariable ( value = &quot;id&quot;) long id, Model model) {\n        Employee employee = employeeService.getEmployeeById(id);\n        List&lt;Project&gt; projects = employeeService.getAllProjects();\n        model.addAttribute(&quot;employee&quot;, employee);\n        model.addAttribute(&quot;projects&quot;, projects);\n        return &quot;update_employee&quot;;\n    }\n</code></pre>\n<p>html form</p>\n<pre><code>&lt;form action=&quot;#&quot; th:action=&quot;@{/ines/saveEmployee}&quot; th:object=&quot;${employee}&quot;\n            method=&quot;POST&quot;&gt;\n            \n            &lt;!-- Add hidden form field to handle update --&gt;\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{id}&quot; /&gt;\n\n            &lt;input type=&quot;text&quot; th:field=&quot;*{name}&quot;\n                   placeholder=&quot;Employee Name&quot; class=&quot;form-control mb-4 col-4&quot;&gt;\n\n            &lt;input type=&quot;date&quot; th:field=&quot;*{contractedFrom}&quot;\n                   placeholder=&quot;Contracted From&quot; class=&quot;form-control mb-4 col-4&quot;&gt;\n\n            &lt;input type=&quot;date&quot; th:field=&quot;*{contractedTo}&quot;\n                   placeholder=&quot;Contracted To&quot; class=&quot;form-control mb-4 col-4&quot;&gt;\n            &lt;div th:each=&quot;project : ${projects}&quot;&gt;\n                &lt;div class=&quot;form-group blu-margin&quot;&gt;\n                    &lt;input type=&quot;checkbox&quot; th:field=&quot;${employee.employeeProjects}&quot; th:name=&quot;projectId&quot; th:text=&quot;${project.name}&quot; th:value=&quot;${project.id}&quot;&gt;\n                    &lt;input type=&quot;text&quot; th:name=&quot;employeeProjectMonths&quot; th:value=&quot;${employeeProjectMonths}&quot;\n                           placeholder=&quot;Employee Project Months&quot; class=&quot;form-control mb-4 col-4&quot;&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;button type=&quot;submit&quot; class=&quot;btn btn-info col-2&quot;&gt;Save Employee&lt;/button&gt;\n        &lt;/form&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/blgSL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/blgSL.png\" alt=\"enter image description here\" /></a></p>\n<p>So the above pic shows the EmployeeProjects table, so for employee with id 1 (employee_id) it checks the box for projects with ids 2, 5 and 7 (wrong column employee_project_id). But I need to check the box for project ids 6, 9 an 7 (project_id).</p>\n<p>Thanks in advance</p>\n<p>EDIT:\nSo Ive created a dto object, but I still have the same issue. I had to adjust my code recently, instead of just entering the employeeProjectMonths I now enter 2 dates (start and end) then work out the months from that. But this is my new EmployeeProjectDto:</p>\n<pre><code>EmployeeProjectDto(id=1, name=John smith, contractedFrom=2022-01-01, contractedTo=2022-12-04, projectList=[ProjectDto(id=1, name=ProjectOne, employeeProjectStartDate=2022-02-01, employeeProjectEndDate=2022-04-30), ProjectDto(id=2, name=ProjectTwo, employeeProjectStartDate=2022-07-01, employeeProjectEndDate=2022-11-30), ProjectDto(id=3, name=ProjectThree, employeeProjectStartDate=2022-08-01, employeeProjectEndDate=2022-09-15)])\n</code></pre>\n<p>The EmployeeProjectDto</p>\n<pre><code>@Data\npublic class EmployeeProjectDto {\n    Long id;\n    String name;\n    private String contractedFrom;\n    private String contractedTo;\n    List&lt;ProjectDto&gt; projectList;\n\n}\n</code></pre>\n<p>The ProjectDto</p>\n<pre><code>@Data\npublic class ProjectDto {\n    private Long id;\n    private String name;\n    private LocalDate employeeProjectStartDate;\n    private LocalDate employeeProjectEndDate;\n\n}\n</code></pre>\n<p>Controller</p>\n<pre><code>@GetMapping(&quot;/showFormForEmployeeUpdate/{id}&quot;)\n    public String showFormForUpdate(@PathVariable ( value = &quot;id&quot;) long id, Model model) {\n        Employee employee = employeeService.getEmployeeById(id);\n\n        EmployeeProjectDto employeeProjectDto = modelMapper.map(employee, EmployeeProjectDto.class);\n\n        //other code\n\n        List&lt;Project&gt; allProjects = employeeService.getAllProjects();\n        model.addAttribute(&quot;employee&quot;, employeeProjectDto);\n        model.addAttribute(&quot;projects&quot;, allProjects);\n        return &quot;update_employee&quot;;\n    }\n</code></pre>\n<p>Here is the html, but the checkboxes and dates are not updated. It crashes and I get a 500 error (below). I know it asks 'Does the return type of the getter match the parameter type of the setter?' Why cant I get the dates in the EmployeeProjectDto, but not in projectList? What am I doing wrong? As a beginner I'm sure its obvious, thanks (and sorry) in advance.</p>\n<pre><code>&lt;form action=&quot;#&quot; th:action=&quot;@{/ines/updateEmployee/{id}(id=${employee.id})}&quot; th:object=&quot;${employee}&quot;\n            method=&quot;POST&quot;&gt;\n\n            &lt;!-- Add hidden form field to handle update --&gt;\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{id}&quot; /&gt;\n\n            &lt;input type=&quot;text&quot; th:field=&quot;*{name}&quot;\n                   placeholder=&quot;Employee Name&quot; class=&quot;form-control mb-4 col-4&quot;&gt;\n\n            &lt;input type=&quot;date&quot; th:field=&quot;*{contractedFrom}&quot;\n                   placeholder=&quot;Contracted From&quot; class=&quot;form-control mb-4 col-4&quot;&gt;\n\n            &lt;input type=&quot;date&quot; th:field=&quot;*{contractedTo}&quot;\n                   placeholder=&quot;Contracted To&quot; class=&quot;form-control mb-4 col-4&quot;&gt;\n            &lt;div th:each=&quot;proj : ${projects}&quot;&gt;\n                &lt;div class=&quot;form-group blu-margin&quot;&gt;\n                    &lt;input type=&quot;checkbox&quot; th:field=&quot;*{projectList}&quot; th:name=&quot;projectId&quot;\n                           th:text=&quot;${proj.name}&quot; th:value=&quot;${proj.id}&quot;&gt;\n                    &lt;input type=&quot;date&quot;\n                           th:field=&quot;*{projectList.employeeProjectStartDate}&quot;\n                           class=&quot;form-control mb-4 col-4&quot;&gt;\n                    &lt;input type=&quot;date&quot;\n                           th:field=&quot;*{projectList.employeeProjectEndDate}&quot;\n                           class=&quot;form-control mb-4 col-4&quot;&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;button type=&quot;submit&quot; class=&quot;btn btn-info col-2&quot;&gt;Save Employee&lt;/button&gt;\n        &lt;/form&gt;\n</code></pre>\n<p>Error</p>\n<pre><code>There was an unexpected error (type=Internal Server Error, status=500).\nAn error happened during template parsing (template: &quot;class path resource [templates/update_employee.html]&quot;)\norg.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/update_employee.html]&quot;)\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)\n    at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)\n    at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362)\n    at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189)\n    at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373)\n    at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: org.attoparser.ParseException: Error during execution of processor 'org.thymeleaf.spring5.processor.SpringInputGeneralFieldTagProcessor' (template: &quot;update_employee&quot; - line 35, col 10)\n    at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)\n    at org.attoparser.MarkupParser.parse(MarkupParser.java:257)\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)\n    ... 48 more\nCaused by: org.thymeleaf.exceptions.TemplateProcessingException: Error during execution of processor 'org.thymeleaf.spring5.processor.SpringInputGeneralFieldTagProcessor' (template: &quot;update_employee&quot; - line 35, col 10)\n    at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:117)\n    at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)\n    at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)\n    at org.thymeleaf.engine.ProcessorTemplateHandler.handleStandaloneElement(ProcessorTemplateHandler.java:918)\n    at org.thymeleaf.engine.StandaloneElementTag.beHandled(StandaloneElementTag.java:228)\n    at org.thymeleaf.engine.Model.process(Model.java:282)\n    at org.thymeleaf.engine.Model.process(Model.java:290)\n    at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:367)\n    at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:221)\n    at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)\n    at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)\n    at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)\n    at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)\n    at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)\n    at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)\n    at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)\n    at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)\n    at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)\n    at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)\n    at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)\n    ... 50 more\nCaused by: org.springframework.beans.NotReadablePropertyException: Invalid property 'projectList.employeeProjectStartDate' of bean class [net.javaguides.springboot.dto.EmployeeProjectDto]: Bean property 'projectList.employeeProjectStartDate' is not readable or has an invalid getter method: Does the return type of the getter match the parameter type of the setter?\n    at org.springframework.beans.AbstractNestablePropertyAccessor.getPropertyValue(AbstractNestablePropertyAccessor.java:622)\n    at org.springframework.beans.AbstractNestablePropertyAccessor.getPropertyValue(AbstractNestablePropertyAccessor.java:612)\n    at org.springframework.validation.AbstractPropertyBindingResult.getActualFieldValue(AbstractPropertyBindingResult.java:104)\n    at org.springframework.validation.AbstractBindingResult.getFieldValue(AbstractBindingResult.java:228)\n    at org.springframework.web.servlet.support.BindStatus.&lt;init&gt;(BindStatus.java:129)\n    at org.springframework.web.servlet.support.RequestContext.getBindStatus(RequestContext.java:903)\n    at org.thymeleaf.spring5.context.webmvc.SpringWebMvcThymeleafRequestContext.getBindStatus(SpringWebMvcThymeleafRequestContext.java:227)\n    at org.thymeleaf.spring5.util.FieldUtils.getBindStatusFromParsedExpression(FieldUtils.java:306)\n    at org.thymeleaf.spring5.util.FieldUtils.getBindStatus(FieldUtils.java:253)\n    at org.thymeleaf.spring5.util.FieldUtils.getBindStatus(FieldUtils.java:227)\n    at org.thymeleaf.spring5.processor.AbstractSpringFieldTagProcessor.doProcess(AbstractSpringFieldTagProcessor.java:174)\n    at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)\n    ... 69 more\n</code></pre>\n"},{"tags":["java","api","currency","converters"],"comments":[{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":2,"creation_date":1668674953,"post_id":74472422,"comment_id":131464759,"body_markdown":"Your Intellij IDEA module for your app is not configured properly. You did not specify the dependency that contains class `okio.BufferedSource`.","body":"Your Intellij IDEA module for your app is not configured properly. You did not specify the dependency that contains class <code>okio.BufferedSource</code>."}],"answers":[{"tags":[],"owner":{"account_id":104440,"reputation":5525,"user_id":279236,"display_name":"jwenting"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668677672,"creation_date":1668677672,"answer_id":74473097,"question_id":74472422,"body_markdown":"Add the jar files containing the required classes (and all their dependencies) to the project.\r\nOn Windows F4-&gt;Modules-&gt;Dependencies-&gt;+","title":"Using API in IntelliJ Java to get live exchange rates","body":"<p>Add the jar files containing the required classes (and all their dependencies) to the project.\nOn Windows F4-&gt;Modules-&gt;Dependencies-&gt;+</p>\n"}],"owner":{"account_id":26816524,"reputation":15,"user_id":20406430,"display_name":"Kamen Georgiev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668712768,"creation_date":1668674594,"question_id":74472422,"body_markdown":"I am trying to create a currency converter using GUI, however the API part, where I need to get the live rates doesn&#39;t seem to work and throws an error when I try to compile it.\r\nThis is my code:\r\n`\r\n```\r\nimport java.io.*;\r\nimport okhttp3.*;\r\n\r\npublic class Main {\r\n    public static void main(String []args) throws IOException{\r\n        OkHttpClient client = new OkHttpClient().newBuilder().build();\r\n\r\n        Request request = new Request.Builder()\r\n                .url(&quot;https://api.apilayer.com/currency_data/convert?to=BGN&amp;from=USD&amp;amount=1&quot;)\r\n                .addHeader(&quot;apikey&quot;, &quot;R2EQE6ev2c2KWFR0GID6lKqvGFD4nrP2&quot;)\r\n                .method(&quot;GET&quot;, null)\r\n            .build();\r\n    Response response = client.newCall(request).execute();\r\n    System.out.println(response.body().string());\r\n}\r\n}\r\n```\r\nAnd this is the error that I am getting when I try to run the program:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: okio/BufferedSource\r\n\tat okhttp3.internal.Util.&lt;clinit&gt;(Util.java:51)\r\n\tat okhttp3.OkHttpClient.&lt;clinit&gt;(OkHttpClient.java:126)\r\n\tat Main.main(Main.java:7)\r\nCaused by: java.lang.ClassNotFoundException: okio.BufferedSource\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\t... 3 more\r\n```\r\n\r\n\r\nWhen I run it in the browser using the Live Demo option, everything works fine, but when I run it in my IntelliJ it shows an error. I also replaced } in .method(&quot;GET&quot;, }) with .method(&quot;GET&quot;, null) s0 it would let me to compile the program.","title":"Using API in IntelliJ Java to get live exchange rates","body":"<p>I am trying to create a currency converter using GUI, however the API part, where I need to get the live rates doesn't seem to work and throws an error when I try to compile it.\nThis is my code:\n`</p>\n<pre><code>import java.io.*;\nimport okhttp3.*;\n\npublic class Main {\n    public static void main(String []args) throws IOException{\n        OkHttpClient client = new OkHttpClient().newBuilder().build();\n\n        Request request = new Request.Builder()\n                .url(&quot;https://api.apilayer.com/currency_data/convert?to=BGN&amp;from=USD&amp;amount=1&quot;)\n                .addHeader(&quot;apikey&quot;, &quot;R2EQE6ev2c2KWFR0GID6lKqvGFD4nrP2&quot;)\n                .method(&quot;GET&quot;, null)\n            .build();\n    Response response = client.newCall(request).execute();\n    System.out.println(response.body().string());\n}\n}\n</code></pre>\n<p>And this is the error that I am getting when I try to run the program:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: okio/BufferedSource\n    at okhttp3.internal.Util.&lt;clinit&gt;(Util.java:51)\n    at okhttp3.OkHttpClient.&lt;clinit&gt;(OkHttpClient.java:126)\n    at Main.main(Main.java:7)\nCaused by: java.lang.ClassNotFoundException: okio.BufferedSource\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 3 more\n</code></pre>\n<p>When I run it in the browser using the Live Demo option, everything works fine, but when I run it in my IntelliJ it shows an error. I also replaced } in .method(&quot;GET&quot;, }) with .method(&quot;GET&quot;, null) s0 it would let me to compile the program.</p>\n"},{"tags":["java","inner-classes"],"comments":[{"owner":{"account_id":2030,"reputation":50607,"user_id":2788,"accept_rate":69,"display_name":"Strelok"},"score":0,"creation_date":1330911358,"post_id":9560600,"comment_id":12119419,"body_markdown":"possible duplicate of [Java inner class and static nested class](http://stackoverflow.com/questions/70324/java-inner-class-and-static-nested-class)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/70324/java-inner-class-and-static-nested-class\">Java inner class and static nested class</a>"}],"answers":[{"tags":[],"owner":{"account_id":107532,"reputation":36152,"user_id":285873,"accept_rate":91,"display_name":"David Harkness"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1330911287,"creation_date":1330911287,"answer_id":9560631,"question_id":9560600,"body_markdown":"`Thing` is an [inner class][1] with an automatic connection to an instance of `Hello`. You get a compile error because there is no instance of `Hello` for it to attach to. You can fix it most easily by changing it to a [static nested class][2] which has no connection:\r\n\r\n    static class Thing\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/javaOO/innerclasses.html\r\n  [2]: https://stackoverflow.com/questions/70324/java-inner-class-and-static-nested-class","title":"What causes error &quot;No enclosing instance of type Foo is accessible&quot; and how do I fix it?","body":"<p><code>Thing</code> is an <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/innerclasses.html\" rel=\"noreferrer\">inner class</a> with an automatic connection to an instance of <code>Hello</code>. You get a compile error because there is no instance of <code>Hello</code> for it to attach to. You can fix it most easily by changing it to a <a href=\"https://stackoverflow.com/questions/70324/java-inner-class-and-static-nested-class\">static nested class</a> which has no connection:</p>\n\n<pre><code>static class Thing\n</code></pre>\n"},{"tags":[],"owner":{"account_id":177085,"reputation":13895,"user_id":408199,"display_name":"jacobm"},"down_vote_count":0,"up_vote_count":553,"is_accepted":true,"score":553,"last_activity_date":1330911299,"creation_date":1330911299,"answer_id":9560633,"question_id":9560600,"body_markdown":"`static class Thing` will make your program work.\r\n\r\nAs it is, you&#39;ve got `Thing` as an inner class, which (by definition) is associated with a particular instance of `Hello` (even if it never uses or refers to it), which means it&#39;s an error to say `new Thing();` without having a particular `Hello` instance in scope. \r\n\r\nIf you declare it as a static class instead, then it&#39;s a &quot;nested&quot; class, which doesn&#39;t need a particular `Hello` instance.","title":"What causes error &quot;No enclosing instance of type Foo is accessible&quot; and how do I fix it?","body":"<p><code>static class Thing</code> will make your program work.</p>\n\n<p>As it is, you've got <code>Thing</code> as an inner class, which (by definition) is associated with a particular instance of <code>Hello</code> (even if it never uses or refers to it), which means it's an error to say <code>new Thing();</code> without having a particular <code>Hello</code> instance in scope. </p>\n\n<p>If you declare it as a static class instead, then it's a \"nested\" class, which doesn't need a particular <code>Hello</code> instance.</p>\n"},{"tags":[],"owner":{"account_id":269291,"reputation":10831,"user_id":558546,"accept_rate":91,"display_name":"helloworld922"},"down_vote_count":0,"up_vote_count":108,"is_accepted":false,"score":108,"last_activity_date":1553972086,"creation_date":1330911527,"answer_id":9560660,"question_id":9560600,"body_markdown":"You&#39;ve declared the class `Thing` as a non-static inner class. That means it must be associated with an instance of the `Hello` class.\r\n\r\nIn your code, you&#39;re trying to create an instance of `Thing` from a static context. That is what the compiler is complaining about.\r\n\r\nThere are a few possible solutions. Which solution to use depends on what you want to achieve.\r\n\r\n* Move `Thing` out of the `Hello` class.\r\n\r\n* Change `Thing` to be a `static` nested class.\r\n\r\n        static class Thing\r\n\r\n* Create _an instance_ of `Hello` before creating an instance of `Thing`.\r\n\r\n        public static void main(String[] args)\r\n        {\r\n            Hello h = new Hello();\r\n            Thing thing1 = h.new Thing(); // hope this syntax is right, typing on the fly :P\r\n        }\r\n\r\nThe last solution (a _non-static_ nested class) would be mandatory if any instance of `Thing` depended on an instance of `Hello` to be meaningful. For example, if we had:\r\n\r\n    public class Hello {\r\n        public int enormous;\r\n\r\n        public Hello(int n) {\r\n            enormous = n;\r\n        }\r\n\r\n        public class Thing {\r\n            public int size;\r\n\r\n            public Thing(int m) {\r\n                if (m &gt; enormous)\r\n                    size = enormous;\r\n                else\r\n                    size = m;\r\n            }\r\n        }\r\n        ...\r\n    }\r\n\r\nany raw attempt to create an object of class `Thing`, as in:\r\n\r\n    Thing t = new Thing(31);\r\n\r\nwould be problematic, since there wouldn&#39;t be an obvious `enormous` value to test 31 against it. An instance `h` of the `Hello` outer class is necessary to provide this `h.enormous` value:\r\n\r\n    ...\r\n    Hello h = new Hello(30);\r\n    ...\r\n    Thing t = h.new Thing(31);\r\n    ...\r\n    \r\nBecause it doesn&#39;t mean a `Thing` if it doesn&#39;t have a `Hello`.\r\n\r\nFor more information on nested/inner classes:\r\n[Nested Classes (The Java Tutorials)][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/javaOO/nested.html","title":"What causes error &quot;No enclosing instance of type Foo is accessible&quot; and how do I fix it?","body":"<p>You've declared the class <code>Thing</code> as a non-static inner class. That means it must be associated with an instance of the <code>Hello</code> class.</p>\n\n<p>In your code, you're trying to create an instance of <code>Thing</code> from a static context. That is what the compiler is complaining about.</p>\n\n<p>There are a few possible solutions. Which solution to use depends on what you want to achieve.</p>\n\n<ul>\n<li><p>Move <code>Thing</code> out of the <code>Hello</code> class.</p></li>\n<li><p>Change <code>Thing</code> to be a <code>static</code> nested class.</p>\n\n<pre><code>static class Thing\n</code></pre></li>\n<li><p>Create <em>an instance</em> of <code>Hello</code> before creating an instance of <code>Thing</code>.</p>\n\n<pre><code>public static void main(String[] args)\n{\n    Hello h = new Hello();\n    Thing thing1 = h.new Thing(); // hope this syntax is right, typing on the fly :P\n}\n</code></pre></li>\n</ul>\n\n<p>The last solution (a <em>non-static</em> nested class) would be mandatory if any instance of <code>Thing</code> depended on an instance of <code>Hello</code> to be meaningful. For example, if we had:</p>\n\n<pre><code>public class Hello {\n    public int enormous;\n\n    public Hello(int n) {\n        enormous = n;\n    }\n\n    public class Thing {\n        public int size;\n\n        public Thing(int m) {\n            if (m &gt; enormous)\n                size = enormous;\n            else\n                size = m;\n        }\n    }\n    ...\n}\n</code></pre>\n\n<p>any raw attempt to create an object of class <code>Thing</code>, as in:</p>\n\n<pre><code>Thing t = new Thing(31);\n</code></pre>\n\n<p>would be problematic, since there wouldn't be an obvious <code>enormous</code> value to test 31 against it. An instance <code>h</code> of the <code>Hello</code> outer class is necessary to provide this <code>h.enormous</code> value:</p>\n\n<pre><code>...\nHello h = new Hello(30);\n...\nThing t = h.new Thing(31);\n...\n</code></pre>\n\n<p>Because it doesn't mean a <code>Thing</code> if it doesn't have a <code>Hello</code>.</p>\n\n<p>For more information on nested/inner classes:\n<a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/nested.html\" rel=\"noreferrer\">Nested Classes (The Java Tutorials)</a></p>\n"},{"tags":[],"owner":{"account_id":62229,"reputation":21708,"user_id":185022,"accept_rate":81,"display_name":"AZ_"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1350563200,"creation_date":1350563200,"answer_id":12954649,"question_id":9560600,"body_markdown":"Lets understand it with the following simple example. \r\nThis happens because this is NON-STATIC INNER CLASS. You should need the instance of outer class.\r\n\r\n     public class PQ {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\t// create dog object here\r\n    \t\tDog dog = new PQ().new Dog();\r\n    \t\t//OR\r\n    \t\tPQ pq = new PQ();\r\n    \t\tDog dog1 = pq.new Dog();\r\n    \t}\r\n    \r\n    \tabstract class Animal {\r\n    \t\tabstract void checkup();\r\n    \t}\r\n    \r\n    \tclass Dog extends Animal {\r\n    \t\t@Override\r\n    \t\tvoid checkup() {\r\n    \t\t\tSystem.out.println(&quot;Dog checkup&quot;);\r\n    \r\n    \t\t}\r\n    \t}\r\n    \r\n    \tclass Cat extends Animal {\r\n    \t\t@Override\r\n    \t\tvoid checkup() {\r\n    \t\t\tSystem.out.println(&quot;Cat Checkup&quot;);\r\n    \r\n    \t\t}\r\n    \t}\r\n    }","title":"What causes error &quot;No enclosing instance of type Foo is accessible&quot; and how do I fix it?","body":"<p>Lets understand it with the following simple example. \nThis happens because this is NON-STATIC INNER CLASS. You should need the instance of outer class.</p>\n\n<pre><code> public class PQ {\n\n    public static void main(String[] args) {\n\n        // create dog object here\n        Dog dog = new PQ().new Dog();\n        //OR\n        PQ pq = new PQ();\n        Dog dog1 = pq.new Dog();\n    }\n\n    abstract class Animal {\n        abstract void checkup();\n    }\n\n    class Dog extends Animal {\n        @Override\n        void checkup() {\n            System.out.println(\"Dog checkup\");\n\n        }\n    }\n\n    class Cat extends Animal {\n        @Override\n        void checkup() {\n            System.out.println(\"Cat Checkup\");\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":553127,"reputation":12116,"user_id":918472,"accept_rate":71,"display_name":"Rupesh Yadav"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1380798952,"creation_date":1380798952,"answer_id":19157779,"question_id":9560600,"body_markdown":"Well... so many good answers but i wanna to add more on it. A brief look on Inner class in Java- Java allows us to define a class within another class and\r\nBeing able to nest classes in this way has certain advantages:\r\n\r\n 1. It can *hide(It increases encapsulation)* the class from other classes - especially relevant if the class is only being used by the class it is contained within. In this case there is no need for the outside world to know about it.\r\n\r\n 2. It can make *code more maintainable* as the classes are logically grouped together around where they are needed.\r\n\r\n 3. The inner class has *access* to the instance variables and methods of its containing class.\r\n\r\nWe have mainly three types of  _**`Inner Classes`**_  \r\n\r\n 1. Local inner \r\n 2. Static Inner Class\r\n 3. Anonymous Inner Class  \r\n\r\nSome of the important points to be remember\r\n\r\n - We need class object to access the Local Inner Class in which it exist.\r\n - Static Inner Class get directly accessed same as like any other static method of the same class in which it is exists.\r\n - Anonymous Inner Class are not visible to out side world as well as to the other methods or classes of the same class(in which it is exist) and it is used on the point where it is declared. \r\n\r\nLet`s try to see the above concepts practically_\r\n\r\n    public class MyInnerClass {\r\n\r\n\tpublic static void main(String args[]) throws InterruptedException {\r\n\t\t// direct access to inner class method\r\n\t\tnew MyInnerClass.StaticInnerClass().staticInnerClassMethod();\r\n\r\n\t\t// static inner class reference object\r\n\t\tStaticInnerClass staticInnerclass = new StaticInnerClass();\r\n\t\tstaticInnerclass.staticInnerClassMethod();\r\n\r\n\t\t// access local inner class\r\n\t\tLocalInnerClass localInnerClass = new MyInnerClass().new LocalInnerClass();\r\n\t\tlocalInnerClass.localInnerClassMethod();\r\n\r\n\t\t/*\r\n\t\t * Pay attention to the opening curly braces and the fact that there&#39;s a\r\n\t\t * semicolon at the very end, once the anonymous class is created:\r\n\t\t */\r\n        /*\r\n\t\t AnonymousClass anonymousClass = new AnonymousClass() {\r\n\t\t\t // your code goes here...\r\n\t\t\t \r\n\t\t };*/\r\n     }\r\n\r\n\t// static inner class\r\n\tstatic class StaticInnerClass {\r\n\t\tpublic void staticInnerClassMethod() {\r\n\t\t\tSystem.out.println(&quot;Hay... from Static Inner class!&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\t// local inner class\r\n\tclass LocalInnerClass {\r\n\t\tpublic void localInnerClassMethod() {\r\n\t\t\tSystem.out.println(&quot;Hay... from local Inner class!&quot;);\r\n\t\t}\r\n\t }\r\n\r\n    }\r\n\r\n\r\nI hope this will helps to everyone. Please  [refer for more](http://docs.oracle.com/javase/tutorial/java/javaOO/nested.html)\r\n\r\n","title":"What causes error &quot;No enclosing instance of type Foo is accessible&quot; and how do I fix it?","body":"<p>Well... so many good answers but i wanna to add more on it. A brief look on Inner class in Java- Java allows us to define a class within another class and\nBeing able to nest classes in this way has certain advantages:</p>\n\n<ol>\n<li><p>It can <em>hide(It increases encapsulation)</em> the class from other classes - especially relevant if the class is only being used by the class it is contained within. In this case there is no need for the outside world to know about it.</p></li>\n<li><p>It can make <em>code more maintainable</em> as the classes are logically grouped together around where they are needed.</p></li>\n<li><p>The inner class has <em>access</em> to the instance variables and methods of its containing class.</p></li>\n</ol>\n\n<p>We have mainly three types of  <em><strong><code>Inner Classes</code></strong></em>  </p>\n\n<ol>\n<li>Local inner </li>\n<li>Static Inner Class</li>\n<li>Anonymous Inner Class  </li>\n</ol>\n\n<p>Some of the important points to be remember</p>\n\n<ul>\n<li>We need class object to access the Local Inner Class in which it exist.</li>\n<li>Static Inner Class get directly accessed same as like any other static method of the same class in which it is exists.</li>\n<li>Anonymous Inner Class are not visible to out side world as well as to the other methods or classes of the same class(in which it is exist) and it is used on the point where it is declared. </li>\n</ul>\n\n<p>Let`s try to see the above concepts practically_</p>\n\n<pre><code>public class MyInnerClass {\n\npublic static void main(String args[]) throws InterruptedException {\n    // direct access to inner class method\n    new MyInnerClass.StaticInnerClass().staticInnerClassMethod();\n\n    // static inner class reference object\n    StaticInnerClass staticInnerclass = new StaticInnerClass();\n    staticInnerclass.staticInnerClassMethod();\n\n    // access local inner class\n    LocalInnerClass localInnerClass = new MyInnerClass().new LocalInnerClass();\n    localInnerClass.localInnerClassMethod();\n\n    /*\n     * Pay attention to the opening curly braces and the fact that there's a\n     * semicolon at the very end, once the anonymous class is created:\n     */\n    /*\n     AnonymousClass anonymousClass = new AnonymousClass() {\n         // your code goes here...\n\n     };*/\n }\n\n// static inner class\nstatic class StaticInnerClass {\n    public void staticInnerClassMethod() {\n        System.out.println(\"Hay... from Static Inner class!\");\n    }\n}\n\n// local inner class\nclass LocalInnerClass {\n    public void localInnerClassMethod() {\n        System.out.println(\"Hay... from local Inner class!\");\n    }\n }\n\n}\n</code></pre>\n\n<p>I hope this will helps to everyone. Please  <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/nested.html\">refer for more</a></p>\n"},{"tags":[],"owner":{"account_id":10131623,"reputation":332,"user_id":7484811,"display_name":"Maged Almaweri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606443710,"creation_date":1606443710,"answer_id":65031340,"question_id":9560600,"body_markdown":"Declare the **INNER** class Thing as a **static** and it will work with no issues.\r\n\r\nI remember I have the same issue with the inner class Dog when I declared it as class **Dog** { only. I got the same issue as you did. **There were two solutions**:\r\n\r\n1- To declare the inner class Dog as static. **Or**\r\n\r\n2- To move the inner class Dog to a new class by itself.\r\n\r\n**Here is the Example:**\r\n\r\n    \r\npublic class ReturnDemo {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tint z = ReturnDemo.calculate(10, 12);\r\n\t\tSystem.out.println(&quot;z = &quot; + z);\r\n\t\t\r\n\t\tReturnDemo.Dog dog = new Dog(&quot;Bosh&quot;, &quot; Doggy&quot;);\r\n\t\tSystem.out.println( dog.getDog());\r\n\t}\r\n\t\r\n\t\r\n\tpublic static int calculate (int x, int y) {\r\n\t\treturn x + y;\r\n\t}\r\n\t\r\n\tpublic void print( ) {\r\n\t\tSystem.out.println(&quot;void method&quot;);\r\n\t\treturn;\r\n\t}\r\n\t\r\n\tpublic String getString() {\r\n\t\treturn &quot;Retrun String type value&quot;;\r\n\t}\r\n\t\r\n\t\r\n\tstatic class Dog {\r\n\t\t\r\n\tprivate String breed;\r\n\tprivate String name;\r\n\t\r\n\tpublic Dog(String breed, String name) {\r\n\t\tsuper();\r\n\t\tthis.breed = breed;\r\n\t\tthis.name = name;\r\n\t}\r\n\t\r\n\tpublic Dog getDog() {\r\n\t\t// return Dog type;\r\n\t\treturn this;\r\n\t\t\r\n\t}\r\n\r\n\tpublic String toString() {\r\n\t\treturn &quot;breed&quot; + breed.concat(&quot;name: &quot; + name);\r\n\t}\r\n\t}\r\n}\r\n","title":"What causes error &quot;No enclosing instance of type Foo is accessible&quot; and how do I fix it?","body":"<p>Declare the <strong>INNER</strong> class Thing as a <strong>static</strong> and it will work with no issues.</p>\n<p>I remember I have the same issue with the inner class Dog when I declared it as class <strong>Dog</strong> { only. I got the same issue as you did. <strong>There were two solutions</strong>:</p>\n<p>1- To declare the inner class Dog as static. <strong>Or</strong></p>\n<p>2- To move the inner class Dog to a new class by itself.</p>\n<p><strong>Here is the Example:</strong></p>\n<p>public class ReturnDemo {</p>\n<pre><code>public static void main(String[] args) {\n    \n    int z = ReturnDemo.calculate(10, 12);\n    System.out.println(&quot;z = &quot; + z);\n    \n    ReturnDemo.Dog dog = new Dog(&quot;Bosh&quot;, &quot; Doggy&quot;);\n    System.out.println( dog.getDog());\n}\n\n\npublic static int calculate (int x, int y) {\n    return x + y;\n}\n\npublic void print( ) {\n    System.out.println(&quot;void method&quot;);\n    return;\n}\n\npublic String getString() {\n    return &quot;Retrun String type value&quot;;\n}\n\n\nstatic class Dog {\n    \nprivate String breed;\nprivate String name;\n\npublic Dog(String breed, String name) {\n    super();\n    this.breed = breed;\n    this.name = name;\n}\n\npublic Dog getDog() {\n    // return Dog type;\n    return this;\n    \n}\n\npublic String toString() {\n    return &quot;breed&quot; + breed.concat(&quot;name: &quot; + name);\n}\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":1360570,"reputation":5872,"user_id":1298028,"accept_rate":85,"display_name":"Łukasz Rzeszotarski"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1614524869,"creation_date":1614524869,"answer_id":66410454,"question_id":9560600,"body_markdown":"**Before Java 14**\r\nYou have to add static keyword to access class `Thing` from the static context.\r\n\r\n    class Hello {\r\n        static class Thing {\r\n            public int size;\r\n    \r\n            Thing() {\r\n                size = 0;\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Thing thing1 = new Thing();\r\n            System.out.println(&quot;Hello, World!&quot;);\r\n        }\r\n    }\r\n\r\n**Java 14+** \r\nStarting from Java 14 you can use inner record classes they are implicitly static. So you would have:\r\n\r\n    class Hello {\r\n        record Thing(int size) { }\r\n    \r\n        public static void main(String[] args) {\r\n            Thing thing1 = new Thing(0);\r\n            System.out.println(&quot;Hello, World!&quot;);\r\n        }\r\n    }","title":"What causes error &quot;No enclosing instance of type Foo is accessible&quot; and how do I fix it?","body":"<p><strong>Before Java 14</strong>\nYou have to add static keyword to access class <code>Thing</code> from the static context.</p>\n<pre><code>class Hello {\n    static class Thing {\n        public int size;\n\n        Thing() {\n            size = 0;\n        }\n    }\n\n    public static void main(String[] args) {\n        Thing thing1 = new Thing();\n        System.out.println(&quot;Hello, World!&quot;);\n    }\n}\n</code></pre>\n<p><strong>Java 14+</strong>\nStarting from Java 14 you can use inner record classes they are implicitly static. So you would have:</p>\n<pre><code>class Hello {\n    record Thing(int size) { }\n\n    public static void main(String[] args) {\n        Thing thing1 = new Thing(0);\n        System.out.println(&quot;Hello, World!&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13558003,"reputation":65,"user_id":9780735,"display_name":"Johann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638957448,"creation_date":1638957448,"answer_id":70273028,"question_id":9560600,"body_markdown":"Try this my friend: (you can also call it Hello instead of Main)\r\n```\r\nclass Thing {\r\n  public int size;\r\n\r\n    Thing() {\r\n      size = 0;\r\n    }\r\n}\r\n\r\n\r\nclass Main {\r\n  public static void main(String[] args) {\r\n    Thing thing1 = new Thing();\r\n      System.out.println(&quot;Hello, World!&quot;);\r\n  }\r\n}\r\n```\r\n\r\nThe idea behind this is that you have to create a separate class to include the static void main (String[] args) method. Summing up: you must have a class that will create your objects, and another class (outside the previous one) in which you&#39;ll include the object creation. If you call it Main, you should have a file called Main.java. If you want to call it Hello, then your file must be named Hello.java","title":"What causes error &quot;No enclosing instance of type Foo is accessible&quot; and how do I fix it?","body":"<p>Try this my friend: (you can also call it Hello instead of Main)</p>\n<pre><code>class Thing {\n  public int size;\n\n    Thing() {\n      size = 0;\n    }\n}\n\n\nclass Main {\n  public static void main(String[] args) {\n    Thing thing1 = new Thing();\n      System.out.println(&quot;Hello, World!&quot;);\n  }\n}\n</code></pre>\n<p>The idea behind this is that you have to create a separate class to include the static void main (String[] args) method. Summing up: you must have a class that will create your objects, and another class (outside the previous one) in which you'll include the object creation. If you call it Main, you should have a file called Main.java. If you want to call it Hello, then your file must be named Hello.java</p>\n"},{"tags":[],"owner":{"account_id":24193400,"reputation":1,"user_id":18152329,"display_name":"Mark"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644328650,"creation_date":1644328650,"answer_id":71035135,"question_id":9560600,"body_markdown":"    class Hello {\r\n        class Thing {\r\n            public int size;\r\n    \r\n            Thing() {\r\n                size = 0;\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n        \t\r\n        \tPlayGround obj = new PlayGround();\r\n            \r\n        \tThing obj2 = obj.new Thing();\r\n        \t\r\n        \tSystem.out.println(&quot;Hello, World!&quot;);\r\n        }\r\n    }","title":"What causes error &quot;No enclosing instance of type Foo is accessible&quot; and how do I fix it?","body":"<pre><code>class Hello {\n    class Thing {\n        public int size;\n\n        Thing() {\n            size = 0;\n        }\n    }\n\n    public static void main(String[] args) {\n        \n        PlayGround obj = new PlayGround();\n        \n        Thing obj2 = obj.new Thing();\n        \n        System.out.println(&quot;Hello, World!&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8170109,"reputation":484,"user_id":6150881,"display_name":"Rabhi salim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644766027,"creation_date":1644766027,"answer_id":71102112,"question_id":9560600,"body_markdown":"In my case it was because of one extra &#39;}&#39;","title":"What causes error &quot;No enclosing instance of type Foo is accessible&quot; and how do I fix it?","body":"<p>In my case it was because of one extra '}'</p>\n"},{"tags":[],"owner":{"account_id":53291,"reputation":1729,"user_id":159326,"accept_rate":87,"display_name":"aepurniet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668712355,"creation_date":1668711969,"answer_id":74480832,"question_id":9560600,"body_markdown":"you dont actually have to declare anything as static, but you do have to specify some enclosing instance, either implicitly by being in the same class, explicitly before the new, or explicitly in the constructor.\r\n\r\n    class A {\r\n    \r\n        class B { \r\n            final A a = A.this;\r\n        }\r\n    \r\n        class C extends B { }\r\n    \r\n        final B b = new B();\r\n        final C c = new C();\r\n    \r\n    }\r\n    \r\n    class D extends A.B {\r\n    \r\n        public D(A a) {\r\n            a.super();\r\n        }\r\n    \r\n    }\r\n    \r\n    class E { \r\n    \r\n        final A   a =     new A();\r\n        final A.B b =   a.new B();\r\n        final A.C c = b.a.new C();\r\n        final D   d =     new D(a);\r\n    \r\n    }\r\n\r\n","title":"What causes error &quot;No enclosing instance of type Foo is accessible&quot; and how do I fix it?","body":"<p>you dont actually have to declare anything as static, but you do have to specify some enclosing instance, either implicitly by being in the same class, explicitly before the new, or explicitly in the constructor.</p>\n<pre><code>class A {\n\n    class B { \n        final A a = A.this;\n    }\n\n    class C extends B { }\n\n    final B b = new B();\n    final C c = new C();\n\n}\n\nclass D extends A.B {\n\n    public D(A a) {\n        a.super();\n    }\n\n}\n\nclass E { \n\n    final A   a =     new A();\n    final A.B b =   a.new B();\n    final A.C c = b.a.new C();\n    final D   d =     new D(a);\n\n}\n</code></pre>\n"}],"owner":{"account_id":298225,"reputation":3715,"user_id":604136,"display_name":"coolpapa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":346982,"favorite_count":0,"down_vote_count":0,"up_vote_count":360,"accepted_answer_id":9560633,"answer_count":11,"score":360,"last_activity_date":1668712355,"creation_date":1330911076,"question_id":9560600,"body_markdown":"I have the following code:\r\n\r\n\r\n    class Hello {\r\n        class Thing {\r\n            public int size;\r\n          \r\n            Thing() {\r\n                size = 0;\r\n            }\r\n        }\r\n     \r\n        public static void main(String[] args) {\r\n            Thing thing1 = new Thing();\r\n            System.out.println(&quot;Hello, World!&quot;);\r\n        }\r\n    }\r\n\r\nI know `Thing` does nothing, but my Hello, World program compiles just fine without it. It&#39;s only my defined classes that are failing on me.\r\n\r\nAnd it refuses to compile. I get `No enclosing instance of type Hello is accessible.&quot;` at the line that creates a new Thing. I&#39;m guessing either:\r\n\r\n 1. I have system level problems (either in DrJava or my Java install) or\r\n 2. I have some basic misunderstanding of how to construct a working program in java.\r\n\r\nAny ideas?","title":"What causes error &quot;No enclosing instance of type Foo is accessible&quot; and how do I fix it?","body":"<p>I have the following code:</p>\n\n<pre><code>class Hello {\n    class Thing {\n        public int size;\n\n        Thing() {\n            size = 0;\n        }\n    }\n\n    public static void main(String[] args) {\n        Thing thing1 = new Thing();\n        System.out.println(\"Hello, World!\");\n    }\n}\n</code></pre>\n\n<p>I know <code>Thing</code> does nothing, but my Hello, World program compiles just fine without it. It's only my defined classes that are failing on me.</p>\n\n<p>And it refuses to compile. I get <code>No enclosing instance of type Hello is accessible.\"</code> at the line that creates a new Thing. I'm guessing either:</p>\n\n<ol>\n<li>I have system level problems (either in DrJava or my Java install) or</li>\n<li>I have some basic misunderstanding of how to construct a working program in java.</li>\n</ol>\n\n<p>Any ideas?</p>\n"},{"tags":["java","android-recyclerview","android-adapter","layout-inflater"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1657799122,"post_id":72979912,"comment_id":128898941,"body_markdown":"`Caused by: ` tells me this is just a chained exception, not even potentially the first or last one. You should include the entire stack trace and the code which is causing it, which we cannot see with the current information.","body":"<code>Caused by: </code> tells me this is just a chained exception, not even potentially the first or last one. You should include the entire stack trace and the code which is causing it, which we cannot see with the current information."}],"answers":[{"tags":[],"owner":{"account_id":22671855,"reputation":37,"user_id":16843492,"display_name":"Anusha C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657860913,"creation_date":1657860913,"answer_id":72989201,"question_id":72979912,"body_markdown":"The issue got solved when I removed the material button in my recycle view item.\r\n\r\nI changed\r\n\r\n    &lt;com.google.android.material.button.MaterialButton\r\n                                    android:layout_width=&quot;match_parent&quot;\r\n                                    android:layout_height=&quot;wrap_content&quot;\r\n                                    app:strokeColor=&quot;@style/blue&quot;\r\n                                    android:textColor=&quot;#2196F3&quot;                       \r\n     android:background=&quot;@drawable/blue_border_btn&quot;\r\n                                    android:text=&quot;View &quot; /&gt;\r\n    \r\n    \r\n\r\n&gt;   to this:\r\n\r\n    \r\n                           &lt;Button\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_weight=&quot;28&quot;\r\n                            android:textAllCaps=&quot;false&quot;\r\n                            android:background=&quot;@drawable/blue_border_btn&quot;\r\n                            android:text=&quot;View &quot; /&gt;\r\n\r\n&gt; But I can&#39;t resolve the symbol R error. I also need to use the stroke color on the button.","title":"Error inflating class &lt;unknown&gt; is pointing to the custom adapter class","body":"<p>The issue got solved when I removed the material button in my recycle view item.</p>\n<p>I changed</p>\n<pre><code>&lt;com.google.android.material.button.MaterialButton\n                                android:layout_width=&quot;match_parent&quot;\n                                android:layout_height=&quot;wrap_content&quot;\n                                app:strokeColor=&quot;@style/blue&quot;\n                                android:textColor=&quot;#2196F3&quot;                       \n android:background=&quot;@drawable/blue_border_btn&quot;\n                                android:text=&quot;View &quot; /&gt;\n</code></pre>\n<blockquote>\n<p>to this:</p>\n</blockquote>\n<pre><code>                       &lt;Button\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_weight=&quot;28&quot;\n                        android:textAllCaps=&quot;false&quot;\n                        android:background=&quot;@drawable/blue_border_btn&quot;\n                        android:text=&quot;View &quot; /&gt;\n</code></pre>\n<blockquote>\n<p>But I can't resolve the symbol R error. I also need to use the stroke color on the button.</p>\n</blockquote>\n"}],"owner":{"account_id":22671855,"reputation":37,"user_id":16843492,"display_name":"Anusha C"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668711712,"creation_date":1657798848,"question_id":72979912,"body_markdown":"[![enter image description here][1]][1][![enter image description here][2]][2]This happened when I changed my button into a material button and provided overridden style as a background\r\n\r\n\r\n\r\n  This is the error pointing field:\r\n\r\n    public RecycleViewCustomAdapter(Context context, ArrayList&lt;bigModel&gt; ModelArrayList) {\r\n            this.context = context;\r\n            this.ModelArrayList = ModelArrayList;\r\n\r\nThis is the error\r\n\r\n\r\n  \r\n\r\n         118 27852-27852/com.a.b E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.a.b, PID: 27852\r\n        android.view.InflateException: Binary XML file line #236 in com.a.b:layout/saved_job_recycleview: Binary XML file line #236 in com.a.b:layout/saved_job_recycleview: Error inflating class &lt;unknown&gt;\r\n        Caused by: android.view.InflateException: Binary XML file line #236 in com.a.b:layout/saved_job_recycleview: Error inflating class &lt;unknown&gt;\r\n        Caused by: java.lang.reflect.InvocationTargetException\r\n            at java.lang.reflect.Constructor.newInstance0(Native Method)\r\n            at java.lang.reflect.Constructor.newInstance(Constructor.java:343)\r\n            at android.view.LayoutInflater.createView(LayoutInflater.java:858)\r\n    android.view.LayoutInflater.rInflate(LayoutInflater.java:1130)\r\n            at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088)\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:686)\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:538)\r\n\r\n[![e][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OILic.png\r\n  [2]: https://i.stack.imgur.com/7pP34.jpg","title":"Error inflating class &lt;unknown&gt; is pointing to the custom adapter class","body":"<p><a href=\"https://i.stack.imgur.com/OILic.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OILic.png\" alt=\"enter image description here\" /></a><a href=\"https://i.stack.imgur.com/7pP34.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7pP34.jpg\" alt=\"enter image description here\" /></a>This happened when I changed my button into a material button and provided overridden style as a background</p>\n<p>This is the error pointing field:</p>\n<pre><code>public RecycleViewCustomAdapter(Context context, ArrayList&lt;bigModel&gt; ModelArrayList) {\n        this.context = context;\n        this.ModelArrayList = ModelArrayList;\n</code></pre>\n<p>This is the error</p>\n<pre><code>     118 27852-27852/com.a.b E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.a.b, PID: 27852\n    android.view.InflateException: Binary XML file line #236 in com.a.b:layout/saved_job_recycleview: Binary XML file line #236 in com.a.b:layout/saved_job_recycleview: Error inflating class &lt;unknown&gt;\n    Caused by: android.view.InflateException: Binary XML file line #236 in com.a.b:layout/saved_job_recycleview: Error inflating class &lt;unknown&gt;\n    Caused by: java.lang.reflect.InvocationTargetException\n        at java.lang.reflect.Constructor.newInstance0(Native Method)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:343)\n        at android.view.LayoutInflater.createView(LayoutInflater.java:858)\nandroid.view.LayoutInflater.rInflate(LayoutInflater.java:1130)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:686)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:538)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/OILic.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OILic.png\" alt=\"e\" /></a></p>\n"},{"tags":["java","android","firebase","android-bottomsheetdialog"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1648533398,"post_id":71657080,"comment_id":126640990,"body_markdown":"So it&#39;s an issue more related to your layout file rather than Firebase, right?","body":"So it&#39;s an issue more related to your layout file rather than Firebase, right?"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":1,"creation_date":1648533474,"post_id":71657080,"comment_id":126641012,"body_markdown":"Post the full stack trace.  In an inflation error, its always the bottom most exception that&#39;s the real problem, and there&#39;s always at least 2, if not 3 or 4 of them.","body":"Post the full stack trace.  In an inflation error, its always the bottom most exception that&#39;s the real problem, and there&#39;s always at least 2, if not 3 or 4 of them."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1648533566,"post_id":71657080,"comment_id":126641037,"body_markdown":"@AlexMamo No, it likely isn&#39;t a problem with the layout.  Generally when you see this it&#39;s a crash while initializing the views, but since it happens while inflating an xml file that&#39;s the top crash you see, and the real crash is wrapped underneath it.  It could be an xml problem, but most of the time it ends up being a null pointer or a miscast or something of the sort.","body":"@AlexMamo No, it likely isn&#39;t a problem with the layout.  Generally when you see this it&#39;s a crash while initializing the views, but since it happens while inflating an xml file that&#39;s the top crash you see, and the real crash is wrapped underneath it.  It could be an xml problem, but most of the time it ends up being a null pointer or a miscast or something of the sort."},{"owner":{"account_id":15004654,"reputation":23,"user_id":11923435,"display_name":"Amit Swami"},"score":0,"creation_date":1648533761,"post_id":71657080,"comment_id":126641088,"body_markdown":"@Gabe Sechan yes, when i initialize the recyclerview out of the bottomsheet , then it didnot crash but also the item of recyclerview not shown","body":"@Gabe Sechan yes, when i initialize the recyclerview out of the bottomsheet , then it didnot crash but also the item of recyclerview not shown"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1648533811,"post_id":71657080,"comment_id":126641099,"body_markdown":"@AmitSwami That&#39;s great.  But post the full stacktrace.  We&#39;re not going to guess what the problem is when that will tell us exactly what and where the problem is.","body":"@AmitSwami That&#39;s great.  But post the full stacktrace.  We&#39;re not going to guess what the problem is when that will tell us exactly what and where the problem is."},{"owner":{"account_id":15004654,"reputation":23,"user_id":11923435,"display_name":"Amit Swami"},"score":0,"creation_date":1648534026,"post_id":71657080,"comment_id":126641163,"body_markdown":"@GabeSechan i have posted , it pointing the error over oncreateviewholder method","body":"@GabeSechan i have posted , it pointing the error over oncreateviewholder method"},{"owner":{"account_id":15004654,"reputation":23,"user_id":11923435,"display_name":"Amit Swami"},"score":0,"creation_date":1648534918,"post_id":71657080,"comment_id":126641428,"body_markdown":"should i posted something more?","body":"should i posted something more?"},{"owner":{"account_id":10145705,"reputation":798,"user_id":7493938,"display_name":"Mario Huizinga"},"score":0,"creation_date":1648542222,"post_id":71657080,"comment_id":126643937,"body_markdown":"Check this: https://stackoverflow.com/a/47010386/7493938","body":"Check this: <a href=\"https://stackoverflow.com/a/47010386/7493938\">stackoverflow.com/a/47010386/7493938</a>"},{"owner":{"account_id":15004654,"reputation":23,"user_id":11923435,"display_name":"Amit Swami"},"score":0,"creation_date":1648543783,"post_id":71657080,"comment_id":126644511,"body_markdown":"@MarioHuizinga thankyou so much , very accurate and simple solution for the problem, but why  getApplicationContext not working in inflating the bottomsheet?","body":"@MarioHuizinga thankyou so much , very accurate and simple solution for the problem, but why  getApplicationContext not working in inflating the bottomsheet?"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1648563167,"post_id":71657080,"comment_id":126652650,"body_markdown":"Because the application context isn&#39;t supposed to have views attached to it.  Views belong to an Activity, they need to be created with that Activity&#39;s context.  The resource system and styling system depend on that.","body":"Because the application context isn&#39;t supposed to have views attached to it.  Views belong to an Activity, they need to be created with that Activity&#39;s context.  The resource system and styling system depend on that."}],"owner":{"account_id":15004654,"reputation":23,"user_id":11923435,"display_name":"Amit Swami"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":480,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668711693,"creation_date":1648533240,"question_id":71657080,"body_markdown":"I&#39;m building a chat app where i added a feature of storyview , now i want to show the list of view on story over the bottomsheetdialog , for that i used FirebaseRecyclerAdapter to show the list over bottomsheet but when i click to open the bottomsheet the app crashes with error :\r\n `Binary XML file line #3 in com.example.hichat:layout/views_item: Binary XML file line #3 in com.example.hichat:layout/views_item: Error inflating class &lt;unknown&gt;\r\n    Caused by: android.view.InflateException: Binary XML file line #3 in com.example.hichat:layout/views_item: Error inflating class &lt;unknown&gt;`\r\n\r\nhere is my code to create the bottomsheet:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    r_seen.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    storiesProgressView.pause();\r\n                    BottomSheetDialog sheetDialog = new BottomSheetDialog(StoryActivity.this,R.style.BottomSheetDialogTheme);\r\n                    View sheetView = LayoutInflater.from(getApplicationContext())\r\n                            .inflate(R.layout.views_bottom_dialog,(LinearLayout)findViewById(R.id.dialog_container));\r\n                    sheetView.findViewById(R.id.views_cancel).setOnClickListener(new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View v) {\r\n                            sheetDialog.dismiss();\r\n                            storiesProgressView.resume();\r\n                        }\r\n                    });\r\n                    viewrecyclerView = sheetView.findViewById(R.id.views_recyclerlist);\r\n                    viewrecyclerView.setLayoutManager(new LinearLayoutManager(getApplicationContext()));\r\n                    sheetDialog.setContentView(sheetView);\r\n                    sheetDialog.show();\r\n                    loadViewList(storyids.get(counter));\r\n                }\r\n            });\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nhere is my code to load the list of views:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n     private void loadViewList(String storyid) {\r\n\r\n            viewRef = FirebaseDatabase.getInstance().getReference(&quot;story&quot;).child(userid)\r\n                    .child(storyid).child(&quot;views&quot;);\r\n\r\n            FirebaseRecyclerOptions options =\r\n                    new FirebaseRecyclerOptions.Builder&lt;User&gt;()\r\n                            .setQuery(viewRef,User.class)\r\n                            .build();\r\n\r\n            FirebaseRecyclerAdapter&lt;User,ViewsViewHolder&gt; adapter = new FirebaseRecyclerAdapter&lt;User, ViewsViewHolder&gt;(options) {\r\n                @Override\r\n                protected void onBindViewHolder(@NonNull ViewsViewHolder holder, int position, @NonNull User model) {\r\n\r\n                    String userIDs = getRef(position).getKey();\r\n\r\n                    FirebaseDatabase.getInstance().getReference(&quot;users&quot;)\r\n                            .child(userIDs).addValueEventListener(new ValueEventListener() {\r\n                        @Override\r\n                        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                            User user = snapshot.getValue(User.class);\r\n                            Glide.with(getApplicationContext())\r\n                                    .load(user.getProfileImage())\r\n                                    .placeholder(R.drawable.avatar)\r\n                                    .into(holder.viewProfileImage);\r\n                            holder.viewUserName.setText(user.getName());\r\n                        }\r\n\r\n                        @Override\r\n                        public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                        }\r\n                    });\r\n\r\n\r\n                }\r\n\r\n                @NonNull\r\n                @Override\r\n                public ViewsViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n                    View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.views_item,parent,false);\r\n                    return new ViewsViewHolder(view);\r\n                }\r\n            };\r\n\r\n            viewrecyclerView.setAdapter(adapter);\r\n            adapter.startListening();\r\n        }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nfull stack trace:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.example.hichat, PID: 4987\r\n        android.view.InflateException: Binary XML file line #3 in com.example.hichat:layout/views_item: Binary XML file line #3 in com.example.hichat:layout/views_item: Error inflating class &lt;unknown&gt;\r\n        Caused by: android.view.InflateException: Binary XML file line #3 in com.example.hichat:layout/views_item: Error inflating class &lt;unknown&gt;\r\n        Caused by: java.lang.reflect.InvocationTargetException\r\n            at java.lang.reflect.Constructor.newInstance0(Native Method)\r\n            at java.lang.reflect.Constructor.newInstance(Constructor.java:343)\r\n            at android.view.LayoutInflater.createView(LayoutInflater.java:852)\r\n            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:1008)\r\n            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:959)\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:657)\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:532)\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:479)\r\n            at com.example.hichat.Activity.StoryActivity$6.onCreateViewHolder(StoryActivity.java:215)\r\n            at com.example.hichat.Activity.StoryActivity$6.onCreateViewHolder(StoryActivity.java:185)\r\n            at androidx.recyclerview.widget.RecyclerView$Adapter.createViewHolder(RecyclerView.java:7295)\r\n            at androidx.recyclerview.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(RecyclerView.java:6416)\r\n            at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6300)\r\n            at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6296)\r\n            at androidx.recyclerview.widget.LinearLayoutManager$LayoutState.next(LinearLayoutManager.java:2330)\r\n            at androidx.recyclerview.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1631)\r\n            at androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1591)\r\n            at androidx.recyclerview.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:668)\r\n            at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep2(RecyclerView.java:4309)\r\n            at androidx.recyclerview.widget.RecyclerView.onMeasure(RecyclerView.java:3686)\r\n            at android.view.View.measure(View.java:25969)\r\n            at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7112)\r\n            at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1552)\r\n            at android.widget.LinearLayout.measureVertical(LinearLayout.java:842)\r\n            at android.widget.LinearLayout.onMeasure(LinearLayout.java:721)\r\n            at android.view.View.measure(View.java:25969)\r\n            at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7112)\r\n            at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1552)\r\n            at android.widget.LinearLayout.measureVertical(LinearLayout.java:842)\r\n            at android.widget.LinearLayout.onMeasure(LinearLayout.java:721)\r\n            at android.view.View.measure(View.java:25969)\r\n            at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7112)\r\n            at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\r\n            at android.view.View.measure(View.java:25969)\r\n            at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7112)\r\n            at androidx.coordinatorlayout.widget.CoordinatorLayout.onMeasureChild(CoordinatorLayout.java:760)\r\n            at androidx.coordinatorlayout.widget.CoordinatorLayout.onMeasure(CoordinatorLayout.java:833)\r\n            at android.view.View.measure(View.java:25969)\r\n            at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7112)\r\n            at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\r\n            at android.view.View.measure(View.java:25969)\r\n            at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7112)\r\n            at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\r\n            at androidx.appcompat.widget.ContentFrameLayout.onMeasure(ContentFrameLayout.java:145)\r\n            at android.view.View.measure(View.java:25969)\r\n            at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7112)\r\n            at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\r\n            at android.view.View.measure(View.java:25969)\r\n    E/AndroidRuntime:     at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7112)\r\n            at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\r\n            at android.view.View.measure(View.java:25969)\r\n            at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7112)\r\n            at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1552)\r\n            at android.widget.LinearLayout.measureVertical(LinearLayout.java:842)\r\n            at android.widget.LinearLayout.onMeasure(LinearLayout.java:721)\r\n            at android.view.View.measure(View.java:25969)\r\n            at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7112)\r\n            at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\r\n            at com.android.internal.policy.DecorView.onMeasure(DecorView.java:834)\r\n            at android.view.View.measure(View.java:25969)\r\n            at android.view.ViewRootImpl.performMeasure(ViewRootImpl.java:3905)\r\n            at android.view.ViewRootImpl.measureHierarchy(ViewRootImpl.java:2620)\r\n            at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2887)\r\n            at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:2340)\r\n            at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:9057)\r\n            at android.view.Choreographer$CallbackRecord.run(Choreographer.java:1040)\r\n            at android.view.Choreographer.doCallbacks(Choreographer.java:864)\r\n            at android.view.Choreographer.doFrame(Choreographer.java:791)\r\n            at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:1025)\r\n            at android.os.Handler.handleCallback(Handler.java:938)\r\n            at android.os.Handler.dispatchMessage(Handler.java:99)\r\n            at android.os.Looper.loop(Looper.java:255)\r\n            at android.app.ActivityThread.main(ActivityThread.java:8212)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:632)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1049)\r\n         Caused by: java.lang.UnsupportedOperationException: Failed to resolve attribute at index 13: TypedValue{t=0x2/d=0x7f040373 a=-1}\r\n            at android.content.res.TypedArray.getDrawableForDensity(TypedArray.java:997)\r\n            at android.content.res.TypedArray.getDrawable(TypedArray.java:981)\r\n            at android.view.View.&lt;init&gt;(View.java:5626)\r\n            at android.view.ViewGroup.&lt;init&gt;(ViewGroup.java:700)\r\n            at android.view.ViewGroup.&lt;init&gt;(ViewGroup.java:696)\r\n            at android.view.ViewGroup.&lt;init&gt;(ViewGroup.java:692)\r\n            at androidx.constraintlayout.widget.ConstraintLayout.&lt;init&gt;(ConstraintLayout.java:587)\r\n            \t... 76 more\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n ","title":"Error inflating class &lt;unknown&gt; in android","body":"<p>I'm building a chat app where i added a feature of storyview , now i want to show the list of view on story over the bottomsheetdialog , for that i used FirebaseRecyclerAdapter to show the list over bottomsheet but when i click to open the bottomsheet the app crashes with error :\n<code>Binary XML file line #3 in com.example.hichat:layout/views_item: Binary XML file line #3 in com.example.hichat:layout/views_item: Error inflating class &lt;unknown&gt; Caused by: android.view.InflateException: Binary XML file line #3 in com.example.hichat:layout/views_item: Error inflating class &lt;unknown&gt;</code></p>\n<p>here is my code to create the bottomsheet:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>r_seen.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                storiesProgressView.pause();\n                BottomSheetDialog sheetDialog = new BottomSheetDialog(StoryActivity.this,R.style.BottomSheetDialogTheme);\n                View sheetView = LayoutInflater.from(getApplicationContext())\n                        .inflate(R.layout.views_bottom_dialog,(LinearLayout)findViewById(R.id.dialog_container));\n                sheetView.findViewById(R.id.views_cancel).setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View v) {\n                        sheetDialog.dismiss();\n                        storiesProgressView.resume();\n                    }\n                });\n                viewrecyclerView = sheetView.findViewById(R.id.views_recyclerlist);\n                viewrecyclerView.setLayoutManager(new LinearLayoutManager(getApplicationContext()));\n                sheetDialog.setContentView(sheetView);\n                sheetDialog.show();\n                loadViewList(storyids.get(counter));\n            }\n        });</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>here is my code to load the list of views:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code> private void loadViewList(String storyid) {\n\n        viewRef = FirebaseDatabase.getInstance().getReference(\"story\").child(userid)\n                .child(storyid).child(\"views\");\n\n        FirebaseRecyclerOptions options =\n                new FirebaseRecyclerOptions.Builder&lt;User&gt;()\n                        .setQuery(viewRef,User.class)\n                        .build();\n\n        FirebaseRecyclerAdapter&lt;User,ViewsViewHolder&gt; adapter = new FirebaseRecyclerAdapter&lt;User, ViewsViewHolder&gt;(options) {\n            @Override\n            protected void onBindViewHolder(@NonNull ViewsViewHolder holder, int position, @NonNull User model) {\n\n                String userIDs = getRef(position).getKey();\n\n                FirebaseDatabase.getInstance().getReference(\"users\")\n                        .child(userIDs).addValueEventListener(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\n                        User user = snapshot.getValue(User.class);\n                        Glide.with(getApplicationContext())\n                                .load(user.getProfileImage())\n                                .placeholder(R.drawable.avatar)\n                                .into(holder.viewProfileImage);\n                        holder.viewUserName.setText(user.getName());\n                    }\n\n                    @Override\n                    public void onCancelled(@NonNull DatabaseError error) {\n\n                    }\n                });\n\n\n            }\n\n            @NonNull\n            @Override\n            public ViewsViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n                View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.views_item,parent,false);\n                return new ViewsViewHolder(view);\n            }\n        };\n\n        viewrecyclerView.setAdapter(adapter);\n        adapter.startListening();\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>full stack trace:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.hichat, PID: 4987\n    android.view.InflateException: Binary XML file line #3 in com.example.hichat:layout/views_item: Binary XML file line #3 in com.example.hichat:layout/views_item: Error inflating class &lt;unknown&gt;\n    Caused by: android.view.InflateException: Binary XML file line #3 in com.example.hichat:layout/views_item: Error inflating class &lt;unknown&gt;\n    Caused by: java.lang.reflect.InvocationTargetException\n        at java.lang.reflect.Constructor.newInstance0(Native Method)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:343)\n        at android.view.LayoutInflater.createView(LayoutInflater.java:852)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:1008)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:959)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:657)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:532)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:479)\n        at com.example.hichat.Activity.StoryActivity$6.onCreateViewHolder(StoryActivity.java:215)\n        at com.example.hichat.Activity.StoryActivity$6.onCreateViewHolder(StoryActivity.java:185)\n        at androidx.recyclerview.widget.RecyclerView$Adapter.createViewHolder(RecyclerView.java:7295)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(RecyclerView.java:6416)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6300)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6296)\n        at androidx.recyclerview.widget.LinearLayoutManager$LayoutState.next(LinearLayoutManager.java:2330)\n        at androidx.recyclerview.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1631)\n        at androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1591)\n        at androidx.recyclerview.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:668)\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep2(RecyclerView.java:4309)\n        at androidx.recyclerview.widget.RecyclerView.onMeasure(RecyclerView.java:3686)\n        at android.view.View.measure(View.java:25969)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7112)\n        at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1552)\n        at android.widget.LinearLayout.measureVertical(LinearLayout.java:842)\n        at android.widget.LinearLayout.onMeasure(LinearLayout.java:721)\n        at android.view.View.measure(View.java:25969)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7112)\n        at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1552)\n        at android.widget.LinearLayout.measureVertical(LinearLayout.java:842)\n        at android.widget.LinearLayout.onMeasure(LinearLayout.java:721)\n        at android.view.View.measure(View.java:25969)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7112)\n        at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\n        at android.view.View.measure(View.java:25969)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7112)\n        at androidx.coordinatorlayout.widget.CoordinatorLayout.onMeasureChild(CoordinatorLayout.java:760)\n        at androidx.coordinatorlayout.widget.CoordinatorLayout.onMeasure(CoordinatorLayout.java:833)\n        at android.view.View.measure(View.java:25969)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7112)\n        at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\n        at android.view.View.measure(View.java:25969)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7112)\n        at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\n        at androidx.appcompat.widget.ContentFrameLayout.onMeasure(ContentFrameLayout.java:145)\n        at android.view.View.measure(View.java:25969)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7112)\n        at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\n        at android.view.View.measure(View.java:25969)\nE/AndroidRuntime:     at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7112)\n        at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\n        at android.view.View.measure(View.java:25969)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7112)\n        at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1552)\n        at android.widget.LinearLayout.measureVertical(LinearLayout.java:842)\n        at android.widget.LinearLayout.onMeasure(LinearLayout.java:721)\n        at android.view.View.measure(View.java:25969)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7112)\n        at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\n        at com.android.internal.policy.DecorView.onMeasure(DecorView.java:834)\n        at android.view.View.measure(View.java:25969)\n        at android.view.ViewRootImpl.performMeasure(ViewRootImpl.java:3905)\n        at android.view.ViewRootImpl.measureHierarchy(ViewRootImpl.java:2620)\n        at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2887)\n        at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:2340)\n        at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:9057)\n        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:1040)\n        at android.view.Choreographer.doCallbacks(Choreographer.java:864)\n        at android.view.Choreographer.doFrame(Choreographer.java:791)\n        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:1025)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:255)\n        at android.app.ActivityThread.main(ActivityThread.java:8212)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:632)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1049)\n     Caused by: java.lang.UnsupportedOperationException: Failed to resolve attribute at index 13: TypedValue{t=0x2/d=0x7f040373 a=-1}\n        at android.content.res.TypedArray.getDrawableForDensity(TypedArray.java:997)\n        at android.content.res.TypedArray.getDrawable(TypedArray.java:981)\n        at android.view.View.&lt;init&gt;(View.java:5626)\n        at android.view.ViewGroup.&lt;init&gt;(ViewGroup.java:700)\n        at android.view.ViewGroup.&lt;init&gt;(ViewGroup.java:696)\n        at android.view.ViewGroup.&lt;init&gt;(ViewGroup.java:692)\n        at androidx.constraintlayout.widget.ConstraintLayout.&lt;init&gt;(ConstraintLayout.java:587)\n            ... 76 more</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","spring-boot","microservices"],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668711616,"creation_date":1668711616,"answer_id":74480761,"question_id":74470703,"body_markdown":"New JWTs should not be fetched for each request: a given OAuth2 client should use the same access-token until it expires.\r\n\r\nJWT are signed and can be validated by clients and resource-servers without the help of the authorization-server (only a single call at startup to fetch signing public key is required).\r\n\r\nSo no, authorization-server should not be specially stressed.","title":"Couldn&#39;t Authorization Server be busy, when million of users exists on Application","body":"<p>New JWTs should not be fetched for each request: a given OAuth2 client should use the same access-token until it expires.</p>\n<p>JWT are signed and can be validated by clients and resource-servers without the help of the authorization-server (only a single call at startup to fetch signing public key is required).</p>\n<p>So no, authorization-server should not be specially stressed.</p>\n"}],"owner":{"account_id":21236465,"reputation":1,"user_id":15620580,"display_name":"ru 1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1668711616,"creation_date":1668664229,"question_id":74470703,"body_markdown":"I have used Microservice Architecture in an Enterprise Application. There are more microservices in my architecture using Spring Boot. I have made a my own Microservice as Authorization service using Keycloak. Here I&#39;m doing Authentication in every Microservice calling to Authorization Service &amp; get JWT Token. on every endpoint, call to Authorization service to validate JWT Token &amp; give permission. when this Application is used by Millions of Users, couldn&#39;t Authorization Server be Busy. How to Handle Load here. I think, making more instances of Authorization Service and Balance Load is not Good Practise to the Authorization Server.  \r\n\r\ngive me a Solution good for industrial Application","title":"Couldn&#39;t Authorization Server be busy, when million of users exists on Application","body":"<p>I have used Microservice Architecture in an Enterprise Application. There are more microservices in my architecture using Spring Boot. I have made a my own Microservice as Authorization service using Keycloak. Here I'm doing Authentication in every Microservice calling to Authorization Service &amp; get JWT Token. on every endpoint, call to Authorization service to validate JWT Token &amp; give permission. when this Application is used by Millions of Users, couldn't Authorization Server be Busy. How to Handle Load here. I think, making more instances of Authorization Service and Balance Load is not Good Practise to the Authorization Server.</p>\n<p>give me a Solution good for industrial Application</p>\n"},{"tags":["java","spring-boot","reactive-programming","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668711433,"creation_date":1668711062,"answer_id":74480655,"question_id":74480281,"body_markdown":"You need to think of it as a flow of operations.\r\n\r\nWhat should happens is: \r\n\r\n 1. You receive a flow of items\r\n 2. You collect them as they arrive\r\n 3. Once they&#39;ve all been collected, you assign them to new Person\r\n\r\nWhat gives approximately:\r\n\r\n```java\r\n\r\npublic Mono&lt;Person&gt; createPersonFromReceivedItems() {\r\n    Flux&lt;Item&gt; items = service.getItems(); // &lt;1&gt;\r\n    Mono&lt;List&lt;Item&gt;&gt; collectedItems = items.collectList(); // &lt;2&gt;\r\n    Mono&lt;Person&gt; result = collectedItems.map( itemList -&gt; {  // &lt;3&gt;\r\n        Person p = new Person();\r\n        p.setItems(itemList);\r\n        return p;\r\n    });\r\n    \r\n    return result;\r\n}\r\n```\r\n","title":"How to set a Flux into a list object inside a Mono","body":"<p>You need to think of it as a flow of operations.</p>\n<p>What should happens is:</p>\n<ol>\n<li>You receive a flow of items</li>\n<li>You collect them as they arrive</li>\n<li>Once they've all been collected, you assign them to new Person</li>\n</ol>\n<p>What gives approximately:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic Mono&lt;Person&gt; createPersonFromReceivedItems() {\n    Flux&lt;Item&gt; items = service.getItems(); // &lt;1&gt;\n    Mono&lt;List&lt;Item&gt;&gt; collectedItems = items.collectList(); // &lt;2&gt;\n    Mono&lt;Person&gt; result = collectedItems.map( itemList -&gt; {  // &lt;3&gt;\n        Person p = new Person();\n        p.setItems(itemList);\n        return p;\n    });\n    \n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":26965744,"reputation":13,"user_id":20532633,"display_name":"cfapires"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74480655,"answer_count":1,"score":1,"last_activity_date":1668711433,"creation_date":1668709098,"question_id":74480281,"body_markdown":"I am new to project reactor and I am trying to set a `List&lt;Object&gt;` inside a `Mono&lt;Object&gt;` using a `Flux&lt;Object&gt;`.\r\n\r\nSo I have a `Mono&lt;Person&gt;` with an attribute called `items` which is a `List&lt;Item&gt;`. Then I received from my service layer a `Flux&lt;Item&gt;` that I nedd put in items, inside `Mono&lt;Person&gt;`.\r\n\r\n\r\nHere is my code:\r\n\r\n```\r\npublic class Person {\r\n\r\n       List&lt;Item&gt; items;\r\n\r\n}\r\n```\r\n\r\n```\r\nFlux&lt;Item&gt; items = service.getItems();\r\n\r\nPerson person = new Person();\r\nMono&lt;Person&gt; monoPerson = Mono.just(person)\r\n                              .map(p -&gt; p.setItems(items))\r\n                              ... //Here I have received an error because a required type is \r\n                              ... //a List&lt;Items&gt; and I am sendind a Flux&lt;List&gt;\r\n```\r\n\r\n\r\nI am frying my mind with this. Some help would be more than appreciate.\r\n","title":"How to set a Flux into a list object inside a Mono","body":"<p>I am new to project reactor and I am trying to set a <code>List&lt;Object&gt;</code> inside a <code>Mono&lt;Object&gt;</code> using a <code>Flux&lt;Object&gt;</code>.</p>\n<p>So I have a <code>Mono&lt;Person&gt;</code> with an attribute called <code>items</code> which is a <code>List&lt;Item&gt;</code>. Then I received from my service layer a <code>Flux&lt;Item&gt;</code> that I nedd put in items, inside <code>Mono&lt;Person&gt;</code>.</p>\n<p>Here is my code:</p>\n<pre><code>public class Person {\n\n       List&lt;Item&gt; items;\n\n}\n</code></pre>\n<pre><code>Flux&lt;Item&gt; items = service.getItems();\n\nPerson person = new Person();\nMono&lt;Person&gt; monoPerson = Mono.just(person)\n                              .map(p -&gt; p.setItems(items))\n                              ... //Here I have received an error because a required type is \n                              ... //a List&lt;Items&gt; and I am sendind a Flux&lt;List&gt;\n</code></pre>\n<p>I am frying my mind with this. Some help would be more than appreciate.</p>\n"},{"tags":["java","bouncycastle","keystore"],"answers":[{"tags":[],"owner":{"account_id":1627501,"reputation":43,"user_id":1502707,"display_name":"Karthik_Rajendiran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668711413,"creation_date":1668711413,"answer_id":74480727,"question_id":49034372,"body_markdown":"@Novaax\r\n\r\nDid you validate the certificate p12 with Keytool Command \r\n\r\n&gt; keytool -list -v -keystore cert.pfx -storepass &lt;password&gt;","title":"Loading an KeyStore make problems","body":"<p>@Novaax</p>\n<p>Did you validate the certificate p12 with Keytool Command</p>\n<blockquote>\n<p>keytool -list -v -keystore cert.pfx -storepass </p>\n</blockquote>\n"}],"owner":{"account_id":8992862,"reputation":77,"user_id":6704200,"accept_rate":0,"display_name":"Novaax"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668711413,"creation_date":1519835682,"question_id":49034372,"body_markdown":"I have a problem loading a KeyStore with a keypair that has a different password than the KeyStore.\r\n\r\nWith the following code, I try to load the KeyStore:\r\n\r\n    try (InputStream inputStream = new FileInputStream(new File(&quot;src\\\\integrationTest\\\\test.p12&quot;))) {\r\n            keyStore = KeyStore.getInstance(&quot;PKCS12&quot;,&quot;BC&quot;);\r\n            keyStore.load(inputStream, &quot;test&quot;.toCharArray());\r\n        }\r\n\r\nThe Following Exception is thrown on Runtime:\r\n\r\n    java.io.IOException: exception unwrapping private key - java.security.InvalidKeyException: pad block corrupted","title":"Loading an KeyStore make problems","body":"<p>I have a problem loading a KeyStore with a keypair that has a different password than the KeyStore.</p>\n\n<p>With the following code, I try to load the KeyStore:</p>\n\n<pre><code>try (InputStream inputStream = new FileInputStream(new File(\"src\\\\integrationTest\\\\test.p12\"))) {\n        keyStore = KeyStore.getInstance(\"PKCS12\",\"BC\");\n        keyStore.load(inputStream, \"test\".toCharArray());\n    }\n</code></pre>\n\n<p>The Following Exception is thrown on Runtime:</p>\n\n<pre><code>java.io.IOException: exception unwrapping private key - java.security.InvalidKeyException: pad block corrupted\n</code></pre>\n"},{"tags":["java","oauth-2.0","keycloak","apache-httpclient-4.x","bearer-token"],"answers":[{"tags":[],"owner":{"account_id":1449510,"reputation":48172,"user_id":1366871,"accept_rate":100,"display_name":"dreamcrash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1605688427,"creation_date":1605644255,"answer_id":64882707,"question_id":64877324,"body_markdown":"Can you try with this BasicNameValuePair instead of sending as a json:\r\n\r\n    ArrayList&lt;NameValuePair&gt; parameters;\r\n    parameters = new ArrayList&lt;NameValuePair&gt;();\r\n    parameters.add(new BasicNameValuePair(&quot;grant_type&quot;, &quot;password&quot;));\r\n    parameters.add(new BasicNameValuePair(&quot;client_id&quot;, &quot;springboot-microservice&quot;));\r\n    parameters.add(new BasicNameValuePair(&quot;username&quot;, &quot;employee1&quot;));\r\n    parameters.add(new BasicNameValuePair(&quot;password&quot;, &quot;mypassword&quot;));\r\n    parameters.add(new BasicNameValuePair(&quot;client_secret&quot;, &quot;30e8ebdf-7fbb-449d-9d94-709166b879b0&quot;));\r\n    post.setEntity(new UrlEncodedFormEntity(parameters, &quot;UTF-8&quot;));","title":"HttpClient post to obtain a Bearer token from keycloak","body":"<p>Can you try with this BasicNameValuePair instead of sending as a json:</p>\n<pre><code>ArrayList&lt;NameValuePair&gt; parameters;\nparameters = new ArrayList&lt;NameValuePair&gt;();\nparameters.add(new BasicNameValuePair(&quot;grant_type&quot;, &quot;password&quot;));\nparameters.add(new BasicNameValuePair(&quot;client_id&quot;, &quot;springboot-microservice&quot;));\nparameters.add(new BasicNameValuePair(&quot;username&quot;, &quot;employee1&quot;));\nparameters.add(new BasicNameValuePair(&quot;password&quot;, &quot;mypassword&quot;));\nparameters.add(new BasicNameValuePair(&quot;client_secret&quot;, &quot;30e8ebdf-7fbb-449d-9d94-709166b879b0&quot;));\npost.setEntity(new UrlEncodedFormEntity(parameters, &quot;UTF-8&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26966248,"reputation":1,"user_id":20533062,"display_name":"Omar Mart&#237;nez Palma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668711107,"creation_date":1668711035,"answer_id":74480654,"question_id":64877324,"body_markdown":"I had the same problem. I had something like this:\r\n\r\n    HttpPost post = new HttpPost(&quot;https://localhost:8080/auth&quot;);\r\n\t\t\tpost.setHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded;charset=UTF-8&quot;);\r\n\t\t\tStringBuilder json = new StringBuilder();\r\n\t        json.append(&quot;{&quot;);\r\n\t        json.append(&quot;\\&quot;grant_type\\&quot;:\\&quot;client_credentials\\&quot;,&quot;);\r\n\t        json.append(&quot;\\&quot;client_id\\&quot;:\\&quot;hhle4Xas\\&quot;,&quot;);\r\n\t        json.append(&quot;\\&quot;client_secret\\&quot;:\\&quot;FUe9\\&quot;,&quot;);\r\n\t        json.append(&quot;\\&quot;account_id\\&quot;:\\&quot;1234567\\&quot;&quot;);\r\n\t        json.append(&quot;}&quot;);\r\n\r\nI changed for this and it worked for me:\r\n\r\n    HttpPost post = new HttpPost(&quot;https://localhost:8080/auth&quot;);\r\n\t\t\tpost.setHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded;charset=UTF-8&quot;);\r\n\t\t\tStringBuilder json = new StringBuilder();\r\n\t\t\tjson.append(&quot;&quot;);\r\n\t        json.append(&quot;grant_type=client_credentials&amp;&quot;);\r\n\t        json.append(&quot;client_id=hhle7x22kj4upzblgnr1zkdu&amp;&quot;);\r\n\t        json.append(&quot;client_secret=SUe9O0LuUvarwqi7mj3p7EDe&amp;&quot;);\r\n\t        json.append(&quot;account_id=7295536&quot;);\r\n\t        json.append(&quot;&quot;);\r\n    ","title":"HttpClient post to obtain a Bearer token from keycloak","body":"<p>I had the same problem. I had something like this:</p>\n<pre><code>HttpPost post = new HttpPost(&quot;https://localhost:8080/auth&quot;);\n        post.setHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded;charset=UTF-8&quot;);\n        StringBuilder json = new StringBuilder();\n        json.append(&quot;{&quot;);\n        json.append(&quot;\\&quot;grant_type\\&quot;:\\&quot;client_credentials\\&quot;,&quot;);\n        json.append(&quot;\\&quot;client_id\\&quot;:\\&quot;hhle4Xas\\&quot;,&quot;);\n        json.append(&quot;\\&quot;client_secret\\&quot;:\\&quot;FUe9\\&quot;,&quot;);\n        json.append(&quot;\\&quot;account_id\\&quot;:\\&quot;1234567\\&quot;&quot;);\n        json.append(&quot;}&quot;);\n</code></pre>\n<p>I changed for this and it worked for me:</p>\n<pre><code>HttpPost post = new HttpPost(&quot;https://localhost:8080/auth&quot;);\n        post.setHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded;charset=UTF-8&quot;);\n        StringBuilder json = new StringBuilder();\n        json.append(&quot;&quot;);\n        json.append(&quot;grant_type=client_credentials&amp;&quot;);\n        json.append(&quot;client_id=hhle7x22kj4upzblgnr1zkdu&amp;&quot;);\n        json.append(&quot;client_secret=SUe9O0LuUvarwqi7mj3p7EDe&amp;&quot;);\n        json.append(&quot;account_id=7295536&quot;);\n        json.append(&quot;&quot;);\n</code></pre>\n"}],"owner":{"account_id":3076776,"reputation":1444,"user_id":2605902,"accept_rate":62,"display_name":"Stimpson Cat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3385,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":64882707,"answer_count":2,"score":3,"last_activity_date":1668711107,"creation_date":1605623817,"question_id":64877324,"body_markdown":"I have set up a keycloak 11.0.2 in standalone mode. It is up and running fine. I am able to create a POST-Request with Postman to obtain a bearer token. Now I want to obtain a token from the keycloak server with the Apache HttpClient. I don&#39;t know how to do it.\r\n\r\nThis is my code, but it returns 400 error, and i had 415 as well:\r\n\r\n    \t        CloseableHttpClient client = HttpClients.createDefault();\r\n\t\t\t    HttpPost httpPost = new HttpPost(&quot;http://localhost:8180/auth/realms/Demo-Realm/protocol/openid-connect/token&quot;);\r\n\t\t\t    httpPost.addHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n\t\t\t    httpPost.addHeader(&quot;grant_type&quot;,&quot;password&quot;);\r\n\t\t\t    httpPost.addHeader(&quot;client_secret&quot;,&quot;30e8ebdf-7fbb-449d-9d94-709166b879b0&quot;);\r\n\t\t\t    httpPost.addHeader(&quot;client_id&quot;,&quot;springboot-microservice&quot;);\r\n\t\t\t    httpPost.addHeader(&quot;username&quot;,&quot;employee1&quot;);\r\n\t\t\t    httpPost.addHeader(&quot;password&quot;,&quot;mypassword&quot;);\r\n\t\t\t    CloseableHttpResponse response = client.execute(httpPost);\r\n\t\t\t    System.out.println(&quot;response: &quot; + response.toString());\r\n\t\t\t    client.close();\r\n\r\n\r\nThis is the response:\r\n\r\n    response: HttpResponseProxy{HTTP/1.1 400 Bad Request [Cache-Control: no-store, X-XSS-Protection: 1; mode=block, Pragma: no-cache, X-Frame-Options: SAMEORIGIN, Referrer-Policy: no-referrer, Date: Tue, 17 Nov 2020 14:31:31 GMT, Connection: keep-alive, Strict-Transport-Security: max-age=31536000; includeSubDomains, X-Content-Type-Options: nosniff, Content-Type: application/json, Content-Length: 84] ResponseEntityProxy{[Content-Type: application/json,Content-Length: 84,Chunked: false]}}\r\n\r\nI wonder how to do it right. I try to do it like Postman does it, but I am missing something\r\n\r\n\r\n\r\n\r\n\r\nUPDATE / Edit: Now I am a step further, but i still can not understand the behaviour. Here is my Code:\r\n\r\n          String result = &quot;&quot;;\r\n\t\t        HttpPost post = new HttpPost(&quot;http://localhost:8180/auth/realms/Demo-Realm/protocol/openid-connect/token&quot;);\r\n\t\t        post.setHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded;charset=UTF-8&quot;);\r\n\t\t        StringBuilder json = new StringBuilder();\r\n\t\t        json.append(&quot;{&quot;);\r\n\t\t        json.append(&quot;\\&quot;grant_type\\&quot;:\\&quot;password\\&quot;&quot;);\r\n\t\t        json.append(&quot;\\&quot;client_id\\&quot;:\\&quot;springboot-microservice\\&quot;,&quot;);\r\n\t\t        json.append(&quot;\\&quot;username\\&quot;:\\&quot;employee1\\&quot;&quot;);\r\n\t\t        json.append(&quot;\\&quot;password\\&quot;:\\&quot;mypassword\\&quot;&quot;);\r\n\t\t        json.append(&quot;}&quot;);\r\n\t\t        post.setEntity(new StringEntity(json.toString()));\r\n\t\t        try (CloseableHttpClient httpClient = HttpClients.createDefault();\r\n\t\t             CloseableHttpResponse response = httpClient.execute(post)) {\r\n\t\t            result = EntityUtils.toString(response.getEntity());\r\n\t\t        }\r\n\t\t\t    System.out.println(&quot;result: &quot; + result.toString());\r\n\r\nNow i am getting as response:\r\n\r\n    result: {&quot;error&quot;:&quot;invalid_request&quot;,&quot;error_description&quot;:&quot;Missing form parameter: grant_type&quot;}\r\n\r\nBut this is what i did sent? What am I doing wrong?\r\n\r\n","title":"HttpClient post to obtain a Bearer token from keycloak","body":"<p>I have set up a keycloak 11.0.2 in standalone mode. It is up and running fine. I am able to create a POST-Request with Postman to obtain a bearer token. Now I want to obtain a token from the keycloak server with the Apache HttpClient. I don't know how to do it.</p>\n<p>This is my code, but it returns 400 error, and i had 415 as well:</p>\n<pre><code>            CloseableHttpClient client = HttpClients.createDefault();\n            HttpPost httpPost = new HttpPost(&quot;http://localhost:8180/auth/realms/Demo-Realm/protocol/openid-connect/token&quot;);\n            httpPost.addHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\n            httpPost.addHeader(&quot;grant_type&quot;,&quot;password&quot;);\n            httpPost.addHeader(&quot;client_secret&quot;,&quot;30e8ebdf-7fbb-449d-9d94-709166b879b0&quot;);\n            httpPost.addHeader(&quot;client_id&quot;,&quot;springboot-microservice&quot;);\n            httpPost.addHeader(&quot;username&quot;,&quot;employee1&quot;);\n            httpPost.addHeader(&quot;password&quot;,&quot;mypassword&quot;);\n            CloseableHttpResponse response = client.execute(httpPost);\n            System.out.println(&quot;response: &quot; + response.toString());\n            client.close();\n</code></pre>\n<p>This is the response:</p>\n<pre><code>response: HttpResponseProxy{HTTP/1.1 400 Bad Request [Cache-Control: no-store, X-XSS-Protection: 1; mode=block, Pragma: no-cache, X-Frame-Options: SAMEORIGIN, Referrer-Policy: no-referrer, Date: Tue, 17 Nov 2020 14:31:31 GMT, Connection: keep-alive, Strict-Transport-Security: max-age=31536000; includeSubDomains, X-Content-Type-Options: nosniff, Content-Type: application/json, Content-Length: 84] ResponseEntityProxy{[Content-Type: application/json,Content-Length: 84,Chunked: false]}}\n</code></pre>\n<p>I wonder how to do it right. I try to do it like Postman does it, but I am missing something</p>\n<p>UPDATE / Edit: Now I am a step further, but i still can not understand the behaviour. Here is my Code:</p>\n<pre><code>      String result = &quot;&quot;;\n            HttpPost post = new HttpPost(&quot;http://localhost:8180/auth/realms/Demo-Realm/protocol/openid-connect/token&quot;);\n            post.setHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded;charset=UTF-8&quot;);\n            StringBuilder json = new StringBuilder();\n            json.append(&quot;{&quot;);\n            json.append(&quot;\\&quot;grant_type\\&quot;:\\&quot;password\\&quot;&quot;);\n            json.append(&quot;\\&quot;client_id\\&quot;:\\&quot;springboot-microservice\\&quot;,&quot;);\n            json.append(&quot;\\&quot;username\\&quot;:\\&quot;employee1\\&quot;&quot;);\n            json.append(&quot;\\&quot;password\\&quot;:\\&quot;mypassword\\&quot;&quot;);\n            json.append(&quot;}&quot;);\n            post.setEntity(new StringEntity(json.toString()));\n            try (CloseableHttpClient httpClient = HttpClients.createDefault();\n                 CloseableHttpResponse response = httpClient.execute(post)) {\n                result = EntityUtils.toString(response.getEntity());\n            }\n            System.out.println(&quot;result: &quot; + result.toString());\n</code></pre>\n<p>Now i am getting as response:</p>\n<pre><code>result: {&quot;error&quot;:&quot;invalid_request&quot;,&quot;error_description&quot;:&quot;Missing form parameter: grant_type&quot;}\n</code></pre>\n<p>But this is what i did sent? What am I doing wrong?</p>\n"},{"tags":["java","spring-mvc","intellij-idea","model-view-controller","spring-security"],"comments":[{"owner":{"account_id":25121309,"reputation":1105,"user_id":18969611,"display_name":"void void"},"score":0,"creation_date":1668715903,"post_id":74480659,"comment_id":131480230,"body_markdown":"Are you getting 401 or 404 because you mention both?","body":"Are you getting 401 or 404 because you mention both?"},{"owner":{"account_id":2588110,"reputation":7132,"user_id":2243324,"display_name":"jzheaux"},"score":0,"creation_date":1668719805,"post_id":74480659,"comment_id":131481413,"body_markdown":"Spring Security does not adjust IntelliJ settings. The @ComponentScan in the main file seems like it might not be inclusive, please include a representation of the project&#39;s file structure. Please include a sample HTTP request that is returning a 404.","body":"Spring Security does not adjust IntelliJ settings. The @ComponentScan in the main file seems like it might not be inclusive, please include a representation of the project&#39;s file structure. Please include a sample HTTP request that is returning a 404."},{"owner":{"account_id":25980005,"reputation":1,"user_id":19693891,"display_name":"Pana"},"score":0,"creation_date":1668722644,"post_id":74480659,"comment_id":131482291,"body_markdown":"@voidvoid I am getting a 404 error now","body":"@voidvoid I am getting a 404 error now"},{"owner":{"account_id":25980005,"reputation":1,"user_id":19693891,"display_name":"Pana"},"score":0,"creation_date":1668723173,"post_id":74480659,"comment_id":131482411,"body_markdown":"@jzheaux Oh ok. Here is a link to my project structure. (https://drive.google.com/file/d/19OHbNq7NUnRdx49B7_dAtCTeroT18M-i/view?usp=sharing)","body":"@jzheaux Oh ok. Here is a link to my project structure. (<a href=\"https://drive.google.com/file/d/19OHbNq7NUnRdx49B7_dAtCTeroT18M-i/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/19OHbNq7NUnRdx49B7_dAtCTeroT18M-i/&hellip;</a>&zwnj;&#8203;)"},{"owner":{"account_id":25980005,"reputation":1,"user_id":19693891,"display_name":"Pana"},"score":0,"creation_date":1668724369,"post_id":74480659,"comment_id":131482748,"body_markdown":"@jzheaux My bad, here is a folder with the two things that you asked for. I should clarify that my HTTP request sample is from postman because my intellij terminal doesn&#39;t  bring any errors. (https://drive.google.com/drive/folders/1SqGVy-bqn9lC5xOtw8ktdZngRP7HaX40?usp=sharing)","body":"@jzheaux My bad, here is a folder with the two things that you asked for. I should clarify that my HTTP request sample is from postman because my intellij terminal doesn&#39;t  bring any errors. (<a href=\"https://drive.google.com/drive/folders/1SqGVy-bqn9lC5xOtw8ktdZngRP7HaX40?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/drive/folders/&hellip;</a>)"}],"owner":{"account_id":25980005,"reputation":1,"user_id":19693891,"display_name":"Pana"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668711091,"creation_date":1668711091,"question_id":74480659,"body_markdown":"\r\nMain Application\r\n\r\n```\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n\r\n@ComponentScan(basePackages = {&quot;com.example.backend.hostezza.repository&quot;, &quot;com.example.backend.hostezza.entities&quot; })\r\n@SpringBootApplication (exclude = { SecurityAutoConfiguration.class })\r\npublic class BackendHostezzaApplication {\r\n\r\n\tpublic static void main(String[] args) {SpringApplication.run(BackendHostezzaApplication.class, args);}\r\n}\r\n```\r\n\r\nPOM file\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.3&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;Backend-Hostezza&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;Backend-Hostezza&lt;/name&gt;\r\n\t&lt;description&gt;CTD - Proyecto Integrador - Equipo6&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;18&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.17&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.18.24&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.11.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.11.5&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.11.5&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.11&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-security&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.11&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.12&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;finalName&gt;hostezza&lt;/finalName&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nSecurity Configuration\r\n\r\n```\r\nimport com.example.Backend.Hostezza.Security.Jwt.JwtEntryPoint;\r\nimport com.example.Backend.Hostezza.Security.Jwt.JwtTokenFilter;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.http.HttpMethod;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(securedEnabled = true, jsr250Enabled = true, prePostEnabled = true)\r\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    AppUserService appUserService;\r\n    @Autowired\r\n    JwtEntryPoint jwtEntryPoint;\r\n\r\n    @Bean\r\n    public JwtTokenFilter jwtTokenFilter() {\r\n        return new JwtTokenFilter();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Override\r\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(appUserService).passwordEncoder(passwordEncoder());\r\n    }\r\n\r\n    @Bean\r\n    @Override\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n\r\n    @Override\r\n    protected AuthenticationManager authenticationManager() throws Exception {\r\n        return super.authenticationManager();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.cors().and().csrf().disable()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/authentication/signup&quot;).permitAll()\r\n                .antMatchers(&quot;/swagger-ui.html&quot;, &quot;/swagger-ui/**&quot;, &quot;/v3/api-docs/**&quot;).permitAll()\r\n                .antMatchers(HttpMethod.GET, &quot;/bookings&quot;, &quot;/bookings/product/**&quot;).permitAll()\r\n                .antMatchers(HttpMethod.GET, &quot;/categories/**&quot;).permitAll()\r\n                .antMatchers(HttpMethod.GET, &quot;/cities/**&quot;).permitAll()\r\n                .antMatchers(HttpMethod.GET, &quot;/features/**&quot;).permitAll()\r\n                .antMatchers(HttpMethod.GET, &quot;/policies/**&quot;).permitAll()\r\n                .antMatchers(HttpMethod.GET, &quot;/products/**&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .exceptionHandling().authenticationEntryPoint(jwtEntryPoint)\r\n                .and()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n        http.addFilterBefore(jwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\r\n\r\n    }\r\n}\r\n```\r\n\r\nJWT Provider\r\n\r\n```\r\nimport com.example.Backend.Hostezza.Security.AppUser;\r\nimport io.jsonwebtoken.*;\r\nimport io.jsonwebtoken.security.Keys;\r\nimport org.apache.log4j.Logger;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport javax.crypto.SecretKey;\r\nimport java.util.Date;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\n@Component\r\npublic class JwtProvider {\r\n\r\n    private static final Logger logger = Logger.getLogger(JwtProvider.class);\r\n\r\n    private SecretKey key = Keys.secretKeyFor(SignatureAlgorithm.HS256);\r\n\r\n    @Value(&quot;${jwt.expiration}&quot;)\r\n    private int expiration;\r\n\r\n    public String generateToken(Authentication authentication) {\r\n        Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\r\n        AppUser appUser = (AppUser) authentication.getPrincipal();\r\n        claims.put(&quot;user_info&quot;,appUser);\r\n        return Jwts.builder()\r\n                .setSubject(appUser.getUsername())\r\n                .addClaims(claims)\r\n                .setIssuedAt(new Date())\r\n                .setExpiration(new Date(new Date().getTime() + expiration * 99999))\r\n                .signWith(key)\r\n                .compact();\r\n           }\r\n\r\n    public String getEmailFromToken(String token) {\r\n        return Jwts.parser().setSigningKey(key).parseClaimsJws(token).getBody().getSubject();\r\n    }\r\n\r\n    public Boolean validateToken(String token) {\r\n        try {\r\n            Jwts.parser().setSigningKey(key).parseClaimsJws(token);\r\n            return true;\r\n        } catch (MalformedJwtException e) {\r\n            logger.error(&quot;Token formed incorrectly&quot;);\r\n        } catch (UnsupportedJwtException e) {\r\n            logger.error(&quot;Token not supported&quot;);\r\n        } catch (ExpiredJwtException e) {\r\n            logger.error(&quot;Token expired&quot;);\r\n        } catch (IllegalArgumentException e) {\r\n            logger.error(&quot;Token empty&quot;);\r\n        } catch (SignatureException e) {\r\n            logger.error(&quot;Signature failed&quot;);\r\n        }\r\n        return false;\r\n    }\r\n}\r\n```\r\n\r\nJWT Token FIlter\r\n\r\n```\r\nimport com.example.Backend.Hostezza.Security.AppUserService;\r\nimport org.apache.log4j.Logger;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.web.authentication.WebAuthenticationDetailsSource;\r\nimport org.springframework.web.filter.OncePerRequestFilter;\r\n\r\nimport javax.servlet.FilterChain;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport java.io.IOException;\r\n\r\npublic class JwtTokenFilter extends OncePerRequestFilter {\r\n\r\n    private static final Logger logger = Logger.getLogger(JwtTokenFilter.class);\r\n\r\n    @Autowired\r\n    JwtProvider jwtProvider;\r\n    @Autowired\r\n    AppUserService appUserService;\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n        try {\r\n            String token = getToken(request);\r\n            if (token != null &amp;&amp; jwtProvider.validateToken(token)) {\r\n                String emailUser = jwtProvider.getEmailFromToken(token);\r\n                UserDetails userDetails = appUserService.loadUserByUsername(emailUser);\r\n                UsernamePasswordAuthenticationToken auth =\r\n                        new UsernamePasswordAuthenticationToken(userDetails,\r\n                                null, userDetails.getAuthorities());\r\n                auth.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n                logger.info(&quot;Usuario con email: &quot; + emailUser + &quot; autenticado&quot;);\r\n                SecurityContextHolder.getContext().setAuthentication(auth);\r\n            }\r\n        } catch (Exception e) {\r\n            logger.error(&quot;Fallo en el metodo doFilterInternal &quot; + e.getMessage());\r\n        }\r\n        filterChain.doFilter(request, response);\r\n    }\r\n\r\n    private String getToken(HttpServletRequest request) {\r\n\r\n        String header = request.getHeader(&quot;Authorization&quot;);\r\n        if (header != null &amp;&amp; header.startsWith(&quot;Bearer &quot;))\r\n            return header.substring(7);\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nJWT EntryPoint\r\n\r\n```\r\nimport org.apache.log4j.Logger;\r\nimport org.springframework.security.core.AuthenticationException;\r\nimport org.springframework.security.web.AuthenticationEntryPoint;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport java.io.IOException;\r\n\r\n@Component\r\npublic class JwtEntryPoint implements AuthenticationEntryPoint {\r\n\r\n    private static final Logger logger = Logger.getLogger(JwtEntryPoint.class);\r\n\r\n    @Override\r\n    public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException) throws IOException, ServletException {\r\n        logger.error(&quot;Failed on commence method&quot;);\r\n        response.sendError(HttpServletResponse.SC_UNAUTHORIZED, &quot;You are not authorized&quot;);\r\n    }\r\n}\r\n```\r\n\r\nUserService\r\n\r\n```\r\n\r\nimport com.example.Backend.Hostezza.Entities.User;\r\nimport com.example.Backend.Hostezza.Repository.UserRepository;\r\nimport org.apache.log4j.Logger;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\n\r\nimport org.springframework.context.annotation.Lazy;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport javax.transaction.Transactional;\r\nimport java.util.List;\r\n\r\n\r\n@Service\r\n@Transactional\r\n\r\npublic class UserService {\r\n\r\n    private static final Logger logger = Logger.getLogger(UserService.class);\r\n    private UserRepository userRepository;\r\n\r\n    @Autowired\r\n    public UserService(UserRepository userRepository) {\r\n        this.userRepository = userRepository;\r\n    }\r\n\r\n    public User newUser(User user) {\r\n        logger.debug(&quot;Saving user: &quot; + user);\r\n        return userRepository.save(user);\r\n    }\r\n\r\n    public List&lt;User&gt; getAllUsers() {\r\n        logger.debug(&quot;Listando usuarios: &quot;);\r\n        return userRepository.findAll();\r\n    }\r\n\r\n    public User userByEmail(String email) {\r\n        logger.debug(&quot;Buscando usuario con email: &quot; + email);\r\n        return userRepository.findByEmail(email);\r\n    }\r\n\r\n    public Boolean existsUserByEmail(String email) {\r\n        return userRepository.existsByEmail(email);\r\n    }\r\n\r\n}\r\n```\r\n\r\nUser Repository\r\n\r\n```\r\nimport com.example.Backend.Hostezza.Entities.User;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface  UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n\r\n    User findByEmail(String email);\r\n\r\n    Boolean existsByEmail(String email);\r\n}\r\n```\r\n\r\nAuthentication Controller\r\n\r\n```\r\nimport com.example.Backend.Hostezza.Entities.Role;\r\nimport com.example.Backend.Hostezza.Entities.User;\r\nimport com.example.Backend.Hostezza.Security.Jwt.JwtProvider;\r\nimport com.example.Backend.Hostezza.Security.Payload.LoginRequest;\r\nimport com.example.Backend.Hostezza.Security.Payload.LoginResponse;\r\nimport com.example.Backend.Hostezza.Security.Payload.RegisterRequest;\r\nimport com.example.Backend.Hostezza.Service.EmailSenderService;\r\nimport com.example.Backend.Hostezza.Service.UserService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.validation.BindingResult;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport javax.validation.Valid;\r\n\r\n@CrossOrigin (origins = &quot;*&quot;)\r\n@RestController\r\n@RequestMapping(&quot;/authentication&quot;)\r\npublic class AuthenticationControler {\r\n\r\n    @Autowired\r\n    PasswordEncoder passwordEncoder;\r\n    @Autowired\r\n    AuthenticationManager authenticationManager;\r\n    @Autowired\r\n    UserService userService;\r\n    @Autowired\r\n    JwtProvider jwtProvider;\r\n    @Autowired\r\n    EmailSenderService emailSender;\r\n\r\n    @PostMapping(&quot;/signup&quot;)\r\n    public ResponseEntity&lt;?&gt; register(@Valid @RequestBody RegisterRequest registerRequest, BindingResult bindingResult) {\r\n\r\n        if (bindingResult.hasErrors()) {\r\n            return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(&quot;invalid data&quot;);\r\n        }\r\n        if (userService.existsUserByEmail(registerRequest.getEmail())) {\r\n            return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(&quot;this email has already been registered&quot;);\r\n        }\r\n        User user = new User(registerRequest.getName(),\r\n                registerRequest.getSurname(),\r\n                registerRequest.getEmail(),\r\n                passwordEncoder.encode(registerRequest.getPassword()),\r\n                &quot;&quot;enter image description here\r\n                );\r\n        Role role = new Role();\r\n        role.setId(2L);\r\n        user.setRole(role);\r\n        userService.newUser(user);\r\n        String registerBody = emailSender.styleRegisterBody(registerRequest.getName());\r\n        emailSender.sendEmail(registerRequest.getEmail(), &quot;You have registered succesfully&quot;,\r\n                registerBody);\r\n        return ResponseEntity.status(HttpStatus.CREATED).body(&quot;User has been registered&quot;);\r\n    }\r\n\r\n    @PostMapping(&quot;/signin&quot;)\r\n    public ResponseEntity&lt;LoginResponse&gt; login(@Valid @RequestBody LoginRequest loginRequest, BindingResult bindingResult) {\r\n        if (bindingResult.hasErrors())\r\n            return ResponseEntity.status(HttpStatus.BAD_REQUEST).build();\r\n        Authentication authentication = authenticationManager.authenticate(\r\n                new UsernamePasswordAuthenticationToken(loginRequest.getEmail(),\r\n                        loginRequest.getPassword()));\r\n        SecurityContextHolder.getContext().setAuthentication(authentication);\r\n        String jwt = jwtProvider.generateToken(authentication);\r\n        LoginResponse token = new LoginResponse(jwt);\r\n        return new ResponseEntity&lt;&gt;(token, HttpStatus.OK);\r\n    }\r\n\r\n}\r\n```\r\n\r\nI am trying to test my authentication API but I get a 404. I need to create a user so I can get a JWT token. But every time I try to access my API, I get a 404. It doesn&#39;t matter which API I sent a request; I always get a 404.\r\n\r\nThe only solution that I found was copying this in my main application, to evade the 401 error that  \r\nI used to get:\r\n\r\n```\r\n@SpringBootApplication (exclude = { SecurityAutoConfiguration.class })\r\n```\r\n\r\nI think it has to do something with spring security &quot;reconfiguring&quot; my Intellij because when I start an older version of this same project, I get the same error with my API&#39;s even though I didn&#39;t create any classes that implement spring security.","title":"Java Spring 404 API","body":"<p>Main Application</p>\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\n@ComponentScan(basePackages = {&quot;com.example.backend.hostezza.repository&quot;, &quot;com.example.backend.hostezza.entities&quot; })\n@SpringBootApplication (exclude = { SecurityAutoConfiguration.class })\npublic class BackendHostezzaApplication {\n\n    public static void main(String[] args) {SpringApplication.run(BackendHostezzaApplication.class, args);}\n}\n</code></pre>\n<p>POM file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;Backend-Hostezza&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Backend-Hostezza&lt;/name&gt;\n    &lt;description&gt;CTD - Proyecto Integrador - Equipo6&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;18&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.17&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.24&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.6.11&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-security&lt;/artifactId&gt;\n            &lt;version&gt;1.6.11&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.12&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;finalName&gt;hostezza&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Security Configuration</p>\n<pre><code>import com.example.Backend.Hostezza.Security.Jwt.JwtEntryPoint;\nimport com.example.Backend.Hostezza.Security.Jwt.JwtTokenFilter;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n\n\n@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(securedEnabled = true, jsr250Enabled = true, prePostEnabled = true)\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    AppUserService appUserService;\n    @Autowired\n    JwtEntryPoint jwtEntryPoint;\n\n    @Bean\n    public JwtTokenFilter jwtTokenFilter() {\n        return new JwtTokenFilter();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Override\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(appUserService).passwordEncoder(passwordEncoder());\n    }\n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Override\n    protected AuthenticationManager authenticationManager() throws Exception {\n        return super.authenticationManager();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.cors().and().csrf().disable()\n                .authorizeRequests()\n                .antMatchers(&quot;/authentication/signup&quot;).permitAll()\n                .antMatchers(&quot;/swagger-ui.html&quot;, &quot;/swagger-ui/**&quot;, &quot;/v3/api-docs/**&quot;).permitAll()\n                .antMatchers(HttpMethod.GET, &quot;/bookings&quot;, &quot;/bookings/product/**&quot;).permitAll()\n                .antMatchers(HttpMethod.GET, &quot;/categories/**&quot;).permitAll()\n                .antMatchers(HttpMethod.GET, &quot;/cities/**&quot;).permitAll()\n                .antMatchers(HttpMethod.GET, &quot;/features/**&quot;).permitAll()\n                .antMatchers(HttpMethod.GET, &quot;/policies/**&quot;).permitAll()\n                .antMatchers(HttpMethod.GET, &quot;/products/**&quot;).permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .exceptionHandling().authenticationEntryPoint(jwtEntryPoint)\n                .and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n        http.addFilterBefore(jwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n\n    }\n}\n</code></pre>\n<p>JWT Provider</p>\n<pre><code>import com.example.Backend.Hostezza.Security.AppUser;\nimport io.jsonwebtoken.*;\nimport io.jsonwebtoken.security.Keys;\nimport org.apache.log4j.Logger;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.stereotype.Component;\n\nimport javax.crypto.SecretKey;\nimport java.util.Date;\nimport java.util.HashMap;\nimport java.util.Map;\n\n@Component\npublic class JwtProvider {\n\n    private static final Logger logger = Logger.getLogger(JwtProvider.class);\n\n    private SecretKey key = Keys.secretKeyFor(SignatureAlgorithm.HS256);\n\n    @Value(&quot;${jwt.expiration}&quot;)\n    private int expiration;\n\n    public String generateToken(Authentication authentication) {\n        Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\n        AppUser appUser = (AppUser) authentication.getPrincipal();\n        claims.put(&quot;user_info&quot;,appUser);\n        return Jwts.builder()\n                .setSubject(appUser.getUsername())\n                .addClaims(claims)\n                .setIssuedAt(new Date())\n                .setExpiration(new Date(new Date().getTime() + expiration * 99999))\n                .signWith(key)\n                .compact();\n           }\n\n    public String getEmailFromToken(String token) {\n        return Jwts.parser().setSigningKey(key).parseClaimsJws(token).getBody().getSubject();\n    }\n\n    public Boolean validateToken(String token) {\n        try {\n            Jwts.parser().setSigningKey(key).parseClaimsJws(token);\n            return true;\n        } catch (MalformedJwtException e) {\n            logger.error(&quot;Token formed incorrectly&quot;);\n        } catch (UnsupportedJwtException e) {\n            logger.error(&quot;Token not supported&quot;);\n        } catch (ExpiredJwtException e) {\n            logger.error(&quot;Token expired&quot;);\n        } catch (IllegalArgumentException e) {\n            logger.error(&quot;Token empty&quot;);\n        } catch (SignatureException e) {\n            logger.error(&quot;Signature failed&quot;);\n        }\n        return false;\n    }\n}\n</code></pre>\n<p>JWT Token FIlter</p>\n<pre><code>import com.example.Backend.Hostezza.Security.AppUserService;\nimport org.apache.log4j.Logger;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.web.authentication.WebAuthenticationDetailsSource;\nimport org.springframework.web.filter.OncePerRequestFilter;\n\nimport javax.servlet.FilterChain;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\n\npublic class JwtTokenFilter extends OncePerRequestFilter {\n\n    private static final Logger logger = Logger.getLogger(JwtTokenFilter.class);\n\n    @Autowired\n    JwtProvider jwtProvider;\n    @Autowired\n    AppUserService appUserService;\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n        try {\n            String token = getToken(request);\n            if (token != null &amp;&amp; jwtProvider.validateToken(token)) {\n                String emailUser = jwtProvider.getEmailFromToken(token);\n                UserDetails userDetails = appUserService.loadUserByUsername(emailUser);\n                UsernamePasswordAuthenticationToken auth =\n                        new UsernamePasswordAuthenticationToken(userDetails,\n                                null, userDetails.getAuthorities());\n                auth.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n                logger.info(&quot;Usuario con email: &quot; + emailUser + &quot; autenticado&quot;);\n                SecurityContextHolder.getContext().setAuthentication(auth);\n            }\n        } catch (Exception e) {\n            logger.error(&quot;Fallo en el metodo doFilterInternal &quot; + e.getMessage());\n        }\n        filterChain.doFilter(request, response);\n    }\n\n    private String getToken(HttpServletRequest request) {\n\n        String header = request.getHeader(&quot;Authorization&quot;);\n        if (header != null &amp;&amp; header.startsWith(&quot;Bearer &quot;))\n            return header.substring(7);\n        return null;\n    }\n}\n</code></pre>\n<p>JWT EntryPoint</p>\n<pre><code>import org.apache.log4j.Logger;\nimport org.springframework.security.core.AuthenticationException;\nimport org.springframework.security.web.AuthenticationEntryPoint;\nimport org.springframework.stereotype.Component;\n\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\n\n@Component\npublic class JwtEntryPoint implements AuthenticationEntryPoint {\n\n    private static final Logger logger = Logger.getLogger(JwtEntryPoint.class);\n\n    @Override\n    public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException) throws IOException, ServletException {\n        logger.error(&quot;Failed on commence method&quot;);\n        response.sendError(HttpServletResponse.SC_UNAUTHORIZED, &quot;You are not authorized&quot;);\n    }\n}\n</code></pre>\n<p>UserService</p>\n<pre><code>\nimport com.example.Backend.Hostezza.Entities.User;\nimport com.example.Backend.Hostezza.Repository.UserRepository;\nimport org.apache.log4j.Logger;\nimport org.springframework.beans.factory.annotation.Autowired;\n\nimport org.springframework.context.annotation.Lazy;\nimport org.springframework.stereotype.Service;\n\nimport javax.transaction.Transactional;\nimport java.util.List;\n\n\n@Service\n@Transactional\n\npublic class UserService {\n\n    private static final Logger logger = Logger.getLogger(UserService.class);\n    private UserRepository userRepository;\n\n    @Autowired\n    public UserService(UserRepository userRepository) {\n        this.userRepository = userRepository;\n    }\n\n    public User newUser(User user) {\n        logger.debug(&quot;Saving user: &quot; + user);\n        return userRepository.save(user);\n    }\n\n    public List&lt;User&gt; getAllUsers() {\n        logger.debug(&quot;Listando usuarios: &quot;);\n        return userRepository.findAll();\n    }\n\n    public User userByEmail(String email) {\n        logger.debug(&quot;Buscando usuario con email: &quot; + email);\n        return userRepository.findByEmail(email);\n    }\n\n    public Boolean existsUserByEmail(String email) {\n        return userRepository.existsByEmail(email);\n    }\n\n}\n</code></pre>\n<p>User Repository</p>\n<pre><code>import com.example.Backend.Hostezza.Entities.User;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface  UserRepository extends JpaRepository&lt;User, Long&gt; {\n\n    User findByEmail(String email);\n\n    Boolean existsByEmail(String email);\n}\n</code></pre>\n<p>Authentication Controller</p>\n<pre><code>import com.example.Backend.Hostezza.Entities.Role;\nimport com.example.Backend.Hostezza.Entities.User;\nimport com.example.Backend.Hostezza.Security.Jwt.JwtProvider;\nimport com.example.Backend.Hostezza.Security.Payload.LoginRequest;\nimport com.example.Backend.Hostezza.Security.Payload.LoginResponse;\nimport com.example.Backend.Hostezza.Security.Payload.RegisterRequest;\nimport com.example.Backend.Hostezza.Service.EmailSenderService;\nimport com.example.Backend.Hostezza.Service.UserService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.validation.BindingResult;\nimport org.springframework.web.bind.annotation.*;\n\nimport javax.validation.Valid;\n\n@CrossOrigin (origins = &quot;*&quot;)\n@RestController\n@RequestMapping(&quot;/authentication&quot;)\npublic class AuthenticationControler {\n\n    @Autowired\n    PasswordEncoder passwordEncoder;\n    @Autowired\n    AuthenticationManager authenticationManager;\n    @Autowired\n    UserService userService;\n    @Autowired\n    JwtProvider jwtProvider;\n    @Autowired\n    EmailSenderService emailSender;\n\n    @PostMapping(&quot;/signup&quot;)\n    public ResponseEntity&lt;?&gt; register(@Valid @RequestBody RegisterRequest registerRequest, BindingResult bindingResult) {\n\n        if (bindingResult.hasErrors()) {\n            return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(&quot;invalid data&quot;);\n        }\n        if (userService.existsUserByEmail(registerRequest.getEmail())) {\n            return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(&quot;this email has already been registered&quot;);\n        }\n        User user = new User(registerRequest.getName(),\n                registerRequest.getSurname(),\n                registerRequest.getEmail(),\n                passwordEncoder.encode(registerRequest.getPassword()),\n                &quot;&quot;enter image description here\n                );\n        Role role = new Role();\n        role.setId(2L);\n        user.setRole(role);\n        userService.newUser(user);\n        String registerBody = emailSender.styleRegisterBody(registerRequest.getName());\n        emailSender.sendEmail(registerRequest.getEmail(), &quot;You have registered succesfully&quot;,\n                registerBody);\n        return ResponseEntity.status(HttpStatus.CREATED).body(&quot;User has been registered&quot;);\n    }\n\n    @PostMapping(&quot;/signin&quot;)\n    public ResponseEntity&lt;LoginResponse&gt; login(@Valid @RequestBody LoginRequest loginRequest, BindingResult bindingResult) {\n        if (bindingResult.hasErrors())\n            return ResponseEntity.status(HttpStatus.BAD_REQUEST).build();\n        Authentication authentication = authenticationManager.authenticate(\n                new UsernamePasswordAuthenticationToken(loginRequest.getEmail(),\n                        loginRequest.getPassword()));\n        SecurityContextHolder.getContext().setAuthentication(authentication);\n        String jwt = jwtProvider.generateToken(authentication);\n        LoginResponse token = new LoginResponse(jwt);\n        return new ResponseEntity&lt;&gt;(token, HttpStatus.OK);\n    }\n\n}\n</code></pre>\n<p>I am trying to test my authentication API but I get a 404. I need to create a user so I can get a JWT token. But every time I try to access my API, I get a 404. It doesn't matter which API I sent a request; I always get a 404.</p>\n<p>The only solution that I found was copying this in my main application, to evade the 401 error that<br />\nI used to get:</p>\n<pre><code>@SpringBootApplication (exclude = { SecurityAutoConfiguration.class })\n</code></pre>\n<p>I think it has to do something with spring security &quot;reconfiguring&quot; my Intellij because when I start an older version of this same project, I get the same error with my API's even though I didn't create any classes that implement spring security.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":10235034,"reputation":10879,"user_id":7554328,"display_name":"Darren Forsythe"},"score":0,"creation_date":1521242205,"post_id":49330692,"comment_id":85663545,"body_markdown":"tired purging maven dependencies?","body":"tired purging maven dependencies?"},{"owner":{"account_id":3732221,"reputation":566,"user_id":4361933,"accept_rate":0,"display_name":"&#214;MER TAŞCI"},"score":0,"creation_date":1526039217,"post_id":49330692,"comment_id":87599350,"body_markdown":"Thanks, your problem become my solution.  I am using &quot;org.springframework.boot.context.embedded.LocalServerPort&quot; instead of &quot;org.springframework.boot.web.server.LocalServerPort&quot;. it works!","body":"Thanks, your problem become my solution.  I am using &quot;org.springframework.boot.context.embedded.LocalServerPort&quot; instead of &quot;org.springframework.boot.web.server.LocalServerPort&quot;. it works!"}],"answers":[{"tags":[],"owner":{"account_id":411142,"reputation":34084,"user_id":783412,"accept_rate":100,"display_name":"hd1"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1521244625,"creation_date":1521244625,"answer_id":49331041,"question_id":49330692,"body_markdown":"It looks like it was moved to [org.springframework.boot.web.server.LocalServerPort](https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/api/org/springframework/boot/web/server/LocalServerPort.html) without notice. Hope that helps.","title":"@LocalServerPort missing from Spring Boot 2.0.0.RELEASE","body":"<p>It looks like it was moved to <a href=\"https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/api/org/springframework/boot/web/server/LocalServerPort.html\" rel=\"noreferrer\">org.springframework.boot.web.server.LocalServerPort</a> without notice. Hope that helps.</p>\n"},{"tags":[],"owner":{"account_id":1050926,"reputation":2756,"user_id":1054897,"accept_rate":71,"display_name":"Pankaj Gadge"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1521244647,"creation_date":1521244647,"answer_id":49331042,"question_id":49330692,"body_markdown":"It seems it&#39;s been moved to `spring-boot-starter-web` dependency as per this [API][1] documentation.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/api/org/springframework/boot/web/server/LocalServerPort.html\r\n\r\nTry adding this maven dependency to see if that fixes it\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-web --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"@LocalServerPort missing from Spring Boot 2.0.0.RELEASE","body":"<p>It seems it's been moved to <code>spring-boot-starter-web</code> dependency as per this <a href=\"https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/api/org/springframework/boot/web/server/LocalServerPort.html\" rel=\"nofollow noreferrer\">API</a> documentation.</p>\n\n<p>Try adding this maven dependency to see if that fixes it</p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-web --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2087058,"reputation":61,"user_id":3182153,"display_name":"Marsan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1668709230,"creation_date":1668709230,"answer_id":74480320,"question_id":49330692,"body_markdown":"@LocalServerPort is now in \r\n***org.springframework.boot.test.web.server.LocalServerPort***\r\n\r\nUpdate your imports in the test code.\r\n\r\nRelevant link to the Spring boot docs here \r\nhttps://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/web/server/LocalServerPort.html\r\n\r\nthe change is notified here\r\nhttps://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/web/server/LocalServerPort.html\r\n\r\nNote that if you are using the Spring Boot Getting Started guides, the guides are still using the old namespace and hence you will see a build error without an option to fix. You will need to update this manually.\r\n\r\n","title":"@LocalServerPort missing from Spring Boot 2.0.0.RELEASE","body":"<p>@LocalServerPort is now in\n<em><strong>org.springframework.boot.test.web.server.LocalServerPort</strong></em></p>\n<p>Update your imports in the test code.</p>\n<p>Relevant link to the Spring boot docs here\n<a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/web/server/LocalServerPort.html\" rel=\"noreferrer\">https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/web/server/LocalServerPort.html</a></p>\n<p>the change is notified here\n<a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/web/server/LocalServerPort.html\" rel=\"noreferrer\">https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/web/server/LocalServerPort.html</a></p>\n<p>Note that if you are using the Spring Boot Getting Started guides, the guides are still using the old namespace and hence you will see a build error without an option to fix. You will need to update this manually.</p>\n"}],"owner":{"account_id":24111,"reputation":1133,"user_id":61104,"accept_rate":85,"display_name":"Kevin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12499,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":49331041,"answer_count":3,"score":20,"last_activity_date":1668709230,"creation_date":1521241856,"question_id":49330692,"body_markdown":"I upgraded my app from spring boot 1.5.9.RELEASE to 2.0.0.RELEASE, and I can no longer import `org.springframework.boot.context.embedded.LocalServerPort`. I was using this to inject the port the server is running on during a test:\r\n\r\n\r\n    public class Task1Test {\r\n    \r\n        @LocalServerPort\r\n        private int port;\r\n\r\nThe [Spring release notes][1] do not mention this removal and [@LocalServerPort was not deprecated][2]. \r\n\r\nIs there an equivalent in Spring Boot 2.0 that I can use? \r\n\r\n**Edit**: I&#39;m pretty sure that the class is gone. I&#39;m getting these compilation errors:\r\n\r\n    [ERROR] ... Task1Test.java:[12,49]package org.springframework.boot.context.embedded does not exist\r\n    [ERROR] ... Task1Test.java:[46,6] cannot find symbol\r\n      symbol:   class LocalServerPort\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-1.5-Release-Notes\r\n  [2]: http://www.atetric.com/atetric/javadoc/org.springframework.boot/spring-boot/1.5.9.RELEASE/org/springframework/boot/context/embedded/LocalServerPort.html","title":"@LocalServerPort missing from Spring Boot 2.0.0.RELEASE","body":"<p>I upgraded my app from spring boot 1.5.9.RELEASE to 2.0.0.RELEASE, and I can no longer import <code>org.springframework.boot.context.embedded.LocalServerPort</code>. I was using this to inject the port the server is running on during a test:</p>\n\n<pre><code>public class Task1Test {\n\n    @LocalServerPort\n    private int port;\n</code></pre>\n\n<p>The <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-1.5-Release-Notes\" rel=\"noreferrer\">Spring release notes</a> do not mention this removal and <a href=\"http://www.atetric.com/atetric/javadoc/org.springframework.boot/spring-boot/1.5.9.RELEASE/org/springframework/boot/context/embedded/LocalServerPort.html\" rel=\"noreferrer\">@LocalServerPort was not deprecated</a>. </p>\n\n<p>Is there an equivalent in Spring Boot 2.0 that I can use? </p>\n\n<p><strong>Edit</strong>: I'm pretty sure that the class is gone. I'm getting these compilation errors:</p>\n\n<pre><code>[ERROR] ... Task1Test.java:[12,49]package org.springframework.boot.context.embedded does not exist\n[ERROR] ... Task1Test.java:[46,6] cannot find symbol\n  symbol:   class LocalServerPort\n</code></pre>\n"},{"tags":["java","jar","java-11","javac"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1661436626,"post_id":73489019,"comment_id":129776570,"body_markdown":"A `runable` jar should already be compiled","body":"A <code>runable</code> jar should already be compiled"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1661436771,"post_id":73489019,"comment_id":129776628,"body_markdown":"2 mistakes here: you forgot to add the `A` class (compiled to `Example$A.class`) to the jar file, use `jar cvf Example.jar *.class` to include both classes. b) `java -cp .\\Example.jar Example` works for me. `java -cp &quot;.;Example.jar&quot; Example` also works.","body":"2 mistakes here: you forgot to add the <code>A</code> class (compiled to <code>Example$A.class</code>) to the jar file, use <code>jar cvf Example.jar *.class</code> to include both classes. b) <code>java -cp .\\Example.jar Example</code> works for me. <code>java -cp &quot;.;Example.jar&quot; Example</code> also works."}],"answers":[{"tags":[],"owner":{"account_id":11741517,"reputation":4117,"user_id":8593689,"display_name":"Shane Bishop"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668709018,"creation_date":1661436952,"answer_id":73489133,"question_id":73489019,"body_markdown":"Thanks to @f1sh and @pdem, I found an answer:\r\n```bash\r\n$ javac Example.java\r\n$ jar cfe Example.jar Example Example.class &#39;Example$A.class&#39;\r\n$ java -jar Example.jar\r\n5\r\n5\r\n```\r\n\r\nIs @f1sh points out in there comment, I needed to (A) include the `Example$A.class` class when creating the JAR, and (B) run the `java` command with the correct arguments.\r\n\r\nAs for making the JAR executable, a manifest file is required. A manifest file can be created manually, or you can let `jar` create it for you with the `e` option. The general format for using the `e` option is\r\n```none\r\njava cfe &lt;name of jar&gt; &lt;name of main class&gt; &lt;list of .class files&gt;\r\n```\r\nFor more info on using the `e` option or writing a manifest file by hand, see [Setting an Application&#39;s Entry Point](https://docs.oracle.com/javase/tutorial/deployment/jar/appman.html) or one of the other child pages of [Working with Manifest Files: The Basics](https://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html).","title":"How to compile and run a runnable JAR using only javac and jar","body":"<p>Thanks to @f1sh and @pdem, I found an answer:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ javac Example.java\n$ jar cfe Example.jar Example Example.class 'Example$A.class'\n$ java -jar Example.jar\n5\n5\n</code></pre>\n<p>Is @f1sh points out in there comment, I needed to (A) include the <code>Example$A.class</code> class when creating the JAR, and (B) run the <code>java</code> command with the correct arguments.</p>\n<p>As for making the JAR executable, a manifest file is required. A manifest file can be created manually, or you can let <code>jar</code> create it for you with the <code>e</code> option. The general format for using the <code>e</code> option is</p>\n<pre class=\"lang-none prettyprint-override\"><code>java cfe &lt;name of jar&gt; &lt;name of main class&gt; &lt;list of .class files&gt;\n</code></pre>\n<p>For more info on using the <code>e</code> option or writing a manifest file by hand, see <a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/appman.html\" rel=\"nofollow noreferrer\">Setting an Application's Entry Point</a> or one of the other child pages of <a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html\" rel=\"nofollow noreferrer\">Working with Manifest Files: The Basics</a>.</p>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661441263,"creation_date":1661441263,"answer_id":73490169,"question_id":73489019,"body_markdown":"```\r\ngoose@t410:/tmp$ javac Example.java \r\ngoose@t410:/tmp$ jar cvfe example.jar Example Example*.class \r\nadded manifest\r\nadding: Example$A.class(in = 293) (out= 233)(deflated 20%)\r\nadding: Example.class(in = 682) (out= 457)(deflated 32%)\r\ngoose@t410:/tmp$ java -jar example.jar \r\n5\r\n5\r\n```\r\nNote the penultimate argument to ```jar``` is the name of the main class","title":"How to compile and run a runnable JAR using only javac and jar","body":"<pre><code>goose@t410:/tmp$ javac Example.java \ngoose@t410:/tmp$ jar cvfe example.jar Example Example*.class \nadded manifest\nadding: Example$A.class(in = 293) (out= 233)(deflated 20%)\nadding: Example.class(in = 682) (out= 457)(deflated 32%)\ngoose@t410:/tmp$ java -jar example.jar \n5\n5\n</code></pre>\n<p>Note the penultimate argument to <code>jar</code> is the name of the main class</p>\n"}],"owner":{"account_id":11741517,"reputation":4117,"user_id":8593689,"display_name":"Shane Bishop"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":533,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":73489133,"answer_count":2,"score":-3,"last_activity_date":1668709018,"creation_date":1661436492,"question_id":73489019,"body_markdown":"How can I compile and run a runnable JAR file using only `javac` and `jar`? I don&#39;t want to build the JAR file with an IDE or with tools like Gradle, Maven, or Ant, because I want to understand, for my own edification, how I can compile a runnable JAR using only `javac` and `jar`, and then how to correctly run this JAR with `java`.\r\n\r\nI have tried building the JAR like this:\r\n&lt;pre&gt;\r\n$ javac Example.java\r\n$ file Example.class\r\nExample.class: compiled Java class data, version 55.0\r\n$ jar cvf Example.jar Example.class\r\nadded manifest\r\nadding: Example.class(in = 682) (out= 456)(deflated 33%)\r\n$ file Example.jar\r\nExample.jar: Java archive data (JAR)\r\n&lt;/pre&gt;\r\n\r\nThen I tried various ways to execute the JAR, but none of them worked:\r\n&lt;pre&gt;\r\n$ java -jar Example.jar main\r\nno main manifest attribute, in Example.jar\r\n$ java -cp &#39;.;Example.jar&#39; main\r\nError: Could not find or load main class main\r\nCaused by: java.lang.ClassNotFoundException: main\r\n$ java -cp &#39;.;Example.jar&#39; Example\r\nError: Could not find or load main class Example\r\nCaused by: java.lang.ClassNotFoundException: Example\r\n$ java -cp &#39;.;Example.jar&#39; -jar Example.jar Example\r\nno main manifest attribute, in Example.jar\r\n$ java -cp &#39;.;Example.jar&#39; -jar Example.jar main\r\nno main manifest attribute, in Example.jar\r\n&lt;/pre&gt;\r\n\r\nMy code, just to show I have an `Example` class and a `main()` function:\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Example {\r\n    private static class A {\r\n        public int x = 7;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;A&gt; list = new ArrayList&lt;&gt;();\r\n        A a = new A();\r\n        list.add(a);\r\n        a.x = 5;\r\n        System.out.println(a.x);\r\n        System.out.println(list.get(0).x);\r\n    }\r\n}\r\n```\r\n\r\nMy `javac`, `jar`, and `java` tools are all version 11.0.15.\r\n\r\nI tried looking at the answers on [Compile and run with javac and java using classpath classes in jar](https://stackoverflow.com/questions/50806379/compile-and-run-with-javac-and-java-using-classpath-classes-in-jar) and [javac compiles files and jars but java fails](https://stackoverflow.com/questions/45174215/javac-compiles-files-and-jars-but-java-fails), but none of the suggestions in the answers to these two questions worked for me.","title":"How to compile and run a runnable JAR using only javac and jar","body":"<p>How can I compile and run a runnable JAR file using only <code>javac</code> and <code>jar</code>? I don't want to build the JAR file with an IDE or with tools like Gradle, Maven, or Ant, because I want to understand, for my own edification, how I can compile a runnable JAR using only <code>javac</code> and <code>jar</code>, and then how to correctly run this JAR with <code>java</code>.</p>\n<p>I have tried building the JAR like this:</p>\n<pre>\n$ javac Example.java\n$ file Example.class\nExample.class: compiled Java class data, version 55.0\n$ jar cvf Example.jar Example.class\nadded manifest\nadding: Example.class(in = 682) (out= 456)(deflated 33%)\n$ file Example.jar\nExample.jar: Java archive data (JAR)\n</pre>\n<p>Then I tried various ways to execute the JAR, but none of them worked:</p>\n<pre>\n$ java -jar Example.jar main\nno main manifest attribute, in Example.jar\n$ java -cp '.;Example.jar' main\nError: Could not find or load main class main\nCaused by: java.lang.ClassNotFoundException: main\n$ java -cp '.;Example.jar' Example\nError: Could not find or load main class Example\nCaused by: java.lang.ClassNotFoundException: Example\n$ java -cp '.;Example.jar' -jar Example.jar Example\nno main manifest attribute, in Example.jar\n$ java -cp '.;Example.jar' -jar Example.jar main\nno main manifest attribute, in Example.jar\n</pre>\n<p>My code, just to show I have an <code>Example</code> class and a <code>main()</code> function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class Example {\n    private static class A {\n        public int x = 7;\n    }\n\n    public static void main(String[] args) {\n        List&lt;A&gt; list = new ArrayList&lt;&gt;();\n        A a = new A();\n        list.add(a);\n        a.x = 5;\n        System.out.println(a.x);\n        System.out.println(list.get(0).x);\n    }\n}\n</code></pre>\n<p>My <code>javac</code>, <code>jar</code>, and <code>java</code> tools are all version 11.0.15.</p>\n<p>I tried looking at the answers on <a href=\"https://stackoverflow.com/questions/50806379/compile-and-run-with-javac-and-java-using-classpath-classes-in-jar\">Compile and run with javac and java using classpath classes in jar</a> and <a href=\"https://stackoverflow.com/questions/45174215/javac-compiles-files-and-jars-but-java-fails\">javac compiles files and jars but java fails</a>, but none of the suggestions in the answers to these two questions worked for me.</p>\n"},{"tags":["java","ioexception"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1668706198,"post_id":74479665,"comment_id":131477029,"body_markdown":"Include the stacktrace. You also likely need to run the script using `lua`&#39;s interpreter, or compile it beforehand.","body":"Include the stacktrace. You also likely need to run the script using <code>lua</code>&#39;s interpreter, or compile it beforehand."}],"answers":[{"tags":[],"owner":{"account_id":26965546,"reputation":1,"user_id":20532477,"display_name":"SusButNotCis"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1668708875,"creation_date":1668708875,"answer_id":74480230,"question_id":74479665,"body_markdown":"Problem solved. No need to answer.\r\n\r\n```\r\npublic void onClick() throws IOException {\r\n                Runtime.getRuntime().exec(&quot;/storage/emulated/0/Download/navtex1.lua&quot;);\r\n                try {\r\n                    onClick();\r\n                    } catch(Exception e) {\r\n                }\r\n            }\r\n```","title":"Weird error in my Java code: &quot;Unknown entityIOException&quot;","body":"<p>Problem solved. No need to answer.</p>\n<pre><code>public void onClick() throws IOException {\n                Runtime.getRuntime().exec(&quot;/storage/emulated/0/Download/navtex1.lua&quot;);\n                try {\n                    onClick();\n                    } catch(Exception e) {\n                }\n            }\n</code></pre>\n"}],"owner":{"account_id":26965546,"reputation":1,"user_id":20532477,"display_name":"SusButNotCis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1668708875,"creation_date":1668705993,"question_id":74479665,"body_markdown":"In Java, I was trying to make a button that runs Lua script when clicked. But I got that error:\r\n\r\n```\r\npublic void onClick() {\r\n                Runtime.getRuntime().exec(&quot;/storage/emulated/0/Download/test.lua&quot;);\r\n                try {\r\n                    onClick();\r\n                    } catch(IOException e) {\r\n                        e.printStackTrace();\r\n                }\r\n            }\r\n```\r\nWhat should I do?\r\n\r\n\r\nI tried to make a button in Java that runs Lua script when clicked, but I got an error.","title":"Weird error in my Java code: &quot;Unknown entityIOException&quot;","body":"<p>In Java, I was trying to make a button that runs Lua script when clicked. But I got that error:</p>\n<pre><code>public void onClick() {\n                Runtime.getRuntime().exec(&quot;/storage/emulated/0/Download/test.lua&quot;);\n                try {\n                    onClick();\n                    } catch(IOException e) {\n                        e.printStackTrace();\n                }\n            }\n</code></pre>\n<p>What should I do?</p>\n<p>I tried to make a button in Java that runs Lua script when clicked, but I got an error.</p>\n"},{"tags":["javascript","java","lambda","java-8","functional-programming"],"comments":[{"owner":{"account_id":3418957,"reputation":1176,"user_id":4029174,"accept_rate":100,"display_name":"bananas"},"score":0,"creation_date":1467287296,"post_id":38122121,"comment_id":63675985,"body_markdown":"in java7 , there was anonymous classes","body":"in java7 , there was anonymous classes"},{"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"score":2,"creation_date":1467287379,"post_id":38122121,"comment_id":63676027,"body_markdown":"[Check this answer](http://stackoverflow.com/a/24290939/5050667)","body":"<a href=\"http://stackoverflow.com/a/24290939/5050667\">Check this answer</a>"},{"owner":{"account_id":219684,"reputation":37257,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":0,"creation_date":1467287827,"post_id":38122121,"comment_id":63676322,"body_markdown":"@asteriskNinja a lambda *is* an anonymous class, just with shorter syntax.","body":"@asteriskNinja a lambda <i>is</i> an anonymous class, just with shorter syntax."},{"owner":{"account_id":6079722,"reputation":527,"user_id":4745878,"accept_rate":88,"display_name":"Aljoscha Meyer"},"score":0,"creation_date":1467287944,"post_id":38122121,"comment_id":63676388,"body_markdown":"@OrangeDog don&#39;t lambdas handle scope differently?","body":"@OrangeDog don&#39;t lambdas handle scope differently?"},{"owner":{"account_id":219684,"reputation":37257,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":0,"creation_date":1467288426,"post_id":38122121,"comment_id":63676728,"body_markdown":"@Holger that&#39;s the meaning of *is* that I was using.","body":"@Holger that&#39;s the meaning of <i>is</i> that I was using."},{"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"score":1,"creation_date":1467301282,"post_id":38122121,"comment_id":63686791,"body_markdown":"@Holger No, lambdas are _not_ implemented as inner classes.","body":"@Holger No, lambdas are <i>not</i> implemented as inner classes."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1467302323,"post_id":38122121,"comment_id":63687498,"body_markdown":"@Brian Goetz: I didn’t say **inner** classes. I just said **anonymous** classes…","body":"@Brian Goetz: I didn’t say <b>inner</b> classes. I just said <b>anonymous</b> classes…"},{"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"score":4,"creation_date":1467312203,"post_id":38122121,"comment_id":63693043,"body_markdown":"@Holger While technically correct, when you say &quot;anonymous classes&quot;, 99.999% of the Java ecosystem hears &quot;anonymous class&quot; as defined by the language (i.e., &quot;anonymous inner classes&quot;) -- very very few people know what VM-anonymous classes are -- and those who do, probably already know how lambdas are implemented.  So, saying &quot;they are implemented using anonymous classes&quot; is guaranteed to confuse anyone who doesn&#39;t already know the actual story.  Given that you were responding to OD, who almost certainly is thinking &quot;anonymous inner class&quot;, makes it even more likely that you&#39;ll confuse.","body":"@Holger While technically correct, when you say &quot;anonymous classes&quot;, 99.999% of the Java ecosystem hears &quot;anonymous class&quot; as defined by the language (i.e., &quot;anonymous inner classes&quot;) -- very very few people know what VM-anonymous classes are -- and those who do, probably already know how lambdas are implemented.  So, saying &quot;they are implemented using anonymous classes&quot; is guaranteed to confuse anyone who doesn&#39;t already know the actual story.  Given that you were responding to OD, who almost certainly is thinking &quot;anonymous inner class&quot;, makes it even more likely that you&#39;ll confuse."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1467363785,"post_id":38122121,"comment_id":63712424,"body_markdown":"@Brian Goetz: I removed that comment, but that doesn’t improve the situation. Comments aren’t the right place to discuss such things. Besides that, I don’t see a real issue with that, as the biggest difference is not whether they are “inner classes”, which is a language level concept only, but that they are not compiler generated class files lying on your disk. Given the popularity of the “curly brace initialization” anti-pattern, developers don’t seem to care about the number of these files anyway…","body":"@Brian Goetz: I removed that comment, but that doesn’t improve the situation. Comments aren’t the right place to discuss such things. Besides that, I don’t see a real issue with that, as the biggest difference is not whether they are “inner classes”, which is a language level concept only, but that they are not compiler generated class files lying on your disk. Given the popularity of the “curly brace initialization” anti-pattern, developers don’t seem to care about the number of these files anyway…"},{"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"score":2,"creation_date":1467380357,"post_id":38122121,"comment_id":63723409,"body_markdown":"@Holger By all means feel free to take the discussion offline -- you should know how to reach me.  My goal here is in not encouraging the myth that lambdas are &quot;just&quot; sugar for inner classes.  They&#39;re semantically different (e.g., scoping rules), they&#39;re more efficient and optimizable, and they interact with other language features differently (e.g., type inference.)  And yet the &quot;lambdas are just inner classes&quot; myth pervades.  The name `defineAnonymousClass` was unfortunately ambigous; in this context, saying &quot;anonymous class&quot; at all invariably plays into this pervasive and unhelpful myth.","body":"@Holger By all means feel free to take the discussion offline -- you should know how to reach me.  My goal here is in not encouraging the myth that lambdas are &quot;just&quot; sugar for inner classes.  They&#39;re semantically different (e.g., scoping rules), they&#39;re more efficient and optimizable, and they interact with other language features differently (e.g., type inference.)  And yet the &quot;lambdas are just inner classes&quot; myth pervades.  The name <code>defineAnonymousClass</code> was unfortunately ambigous; in this context, saying &quot;anonymous class&quot; at all invariably plays into this pervasive and unhelpful myth."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1467381521,"post_id":38122121,"comment_id":63724213,"body_markdown":"@Brian Goetz: you don’t need to tell me. Not only the name “`defineAnonymousClass`” is unfortunate, even within the `LambdaMetaFactory` framework, the classes are named “*inner classes*”, see `InnerClassLambdaMetafactory` and source lines like `Class&lt;?&gt; innerClass = spinInnerClass();`. But the myth doesn’t stem from these things. It also doesn’t spread on SO. There are enough developers jumping in, if someone tries to claim that.","body":"@Brian Goetz: you don’t need to tell me. Not only the name “<code>defineAnonymousClass</code>” is unfortunate, even within the <code>LambdaMetaFactory</code> framework, the classes are named “<i>inner classes</i>”, see <code>InnerClassLambdaMetafactory</code> and source lines like <code>Class&lt;?&gt; innerClass = spinInnerClass();</code>. But the myth doesn’t stem from these things. It also doesn’t spread on SO. There are enough developers jumping in, if someone tries to claim that."}],"answers":[{"tags":[],"owner":{"account_id":31954,"reputation":31434,"user_id":88111,"accept_rate":89,"display_name":"Craig Otis"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1467287395,"creation_date":1467287395,"answer_id":38122256,"question_id":38122121,"body_markdown":"Not without declaring the type as well. Since Java is a statically-typed language, and functions are not first class citizens, the compiler needs to know what _type_ your lambda is. A function can&#39;t just be free-floating, it always needs to be associated with either a class or an instance of a class.\r\n\r\n    Runnable r = () -&gt; {\r\n        System.out.println(&quot;Hello world!&quot;);\r\n    };\r\n    r.run();\r\n**But:** You can cast the lambda to the `Runnable` type, and give the compiler a hint as to what kind of `@FunctionalInterface` you&#39;re implementing:\r\n\r\n    ((Runnable)() -&gt; {\r\n        System.out.println(&quot;Hello world!&quot;);\r\n    }).run();\r\n\r\nOr without the braces, which makes it a one-liner:\r\n\r\n    ((Runnable)() -&gt; System.out.println(&quot;Hello world!&quot;)).run();\r\n\r\nI imagine that&#39;s about as close as you&#39;ll get!\r\n\r\n","title":"Java 8 Lambdas vs Self-executing Functions in JavaScript","body":"<p>Not without declaring the type as well. Since Java is a statically-typed language, and functions are not first class citizens, the compiler needs to know what <em>type</em> your lambda is. A function can't just be free-floating, it always needs to be associated with either a class or an instance of a class.</p>\n\n<pre><code>Runnable r = () -&gt; {\n    System.out.println(\"Hello world!\");\n};\nr.run();\n</code></pre>\n\n<p><strong>But:</strong> You can cast the lambda to the <code>Runnable</code> type, and give the compiler a hint as to what kind of <code>@FunctionalInterface</code> you're implementing:</p>\n\n<pre><code>((Runnable)() -&gt; {\n    System.out.println(\"Hello world!\");\n}).run();\n</code></pre>\n\n<p>Or without the braces, which makes it a one-liner:</p>\n\n<pre><code>((Runnable)() -&gt; System.out.println(\"Hello world!\")).run();\n</code></pre>\n\n<p>I imagine that's about as close as you'll get!</p>\n"},{"tags":[],"owner":{"account_id":1313746,"reputation":4358,"user_id":1261166,"accept_rate":87,"display_name":"Viktor Mellgren"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1467287423,"creation_date":1467287423,"answer_id":38122267,"question_id":38122121,"body_markdown":"What about something like \r\n\r\n    ((Runnable)(() -&gt; System.out.println(&quot;Foobar&quot;))).run();","title":"Java 8 Lambdas vs Self-executing Functions in JavaScript","body":"<p>What about something like </p>\n\n<pre><code>((Runnable)(() -&gt; System.out.println(\"Foobar\"))).run();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668708794,"creation_date":1668703823,"answer_id":74479205,"question_id":38122121,"body_markdown":"Java is very different from JavaScript. And Lambda expressions in Java are not the same as Arrow functions in JavaScript.\r\n\r\nJava 8 functions which can be expressed as Lambda expressions or Method references **should conform** to a so-called *Functional interface*, they can&#39;t appear out of nowhere. On the contrary, in JavaScript and TypeScript any behavior can be implemented using Arrow functions.\r\n\r\nIt&#39;s important to keep in mind this difference there&#39;s no special type for Java 8 Function, that&#39;s why we need *Functional interfaces*, which are interfaces having a single abstract method. And Lambdas (as well as Method references) are meant to provide an implementation to this interface).\r\n\r\nLambda expressions and Method references ***have no type by itself*** (*that&#39;s a direct consequence of the absence of a Functional type in the Language*).\r\n\r\nThe expressions give no clue to the compiler about their type:\r\n\r\n```\r\n() -&gt; System.out.println(&quot;foo&quot;)\r\ni -&gt; i * i\r\n```\r\n\r\nBoth Lambda expressions and Method references are so-called [***poly expressions***][polyExpression], which means they sensitive to the context in which they appear.\r\n\r\nAnd since Lambdas in have no type by itself and compiler **always** needs to infer their type based on either:\r\n* Assignment context;\r\n* Invocation context;\r\n* Casting context.\r\n\r\nHere&#39;s a short quote from the [Java Language Specification &#167;15.27. Lambda Expressions](https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.27)\r\n\r\n&gt; It is a **compile-time error** if a **lambda expression occurs** in a program in **someplace other than** an ***assignment context*** (&#167;5.2), an ***invocation context*** (&#167;5.3), or a ***casting context*** (&#167;5.5).\r\n\r\nIn case *Assignment context*, the type specified on the left of the assignment expression tells the compiler what should be the target of the *Functional interface* to which lambda conforms:\r\n\r\n```java\r\nSupplier&lt;String&gt; summer = () -&gt; &quot;fooBar&quot;;\r\nRunnable r = () -&gt; doSomething(); // this::doSomething\r\n```\r\n\r\nHere&#39;s a few examples of how to provide a *Casting context* (both statements below are valid):\r\n\r\n```java\r\n((Runnable) () -&gt; doSomething()).run();\r\n\r\n((Supplier&lt;String&gt;)() -&gt; &quot;FooBar&quot;).get().codePoints()\r\n    .filter(Character::isUpperCase)\r\n    .mapToObj(i -&gt; (char) i)\r\n    .forEach(System.out::println);\r\n```\r\n\r\nAnd here&#39;s an illustration of how [target type][targetType] can be provided through the *Invocation context*:\r\n\r\n```java\r\nString str = (() -&gt; &quot;FooBar&quot;).get();         // would Not compile\r\nString str = supplier(() -&gt; &quot;FooBar&quot;).get(); // works fine\r\n```\r\n\r\n`supplier()`:\r\n\r\n    public static &lt;T&gt; Supplier&lt;T&gt; supplier(Supplier&lt;T&gt; s) {\r\n        return s;\r\n    }\r\n\r\n\r\n   [polyExpression]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.2\r\n\r\n   [targetType]: https://docs.oracle.com/javase/tutorial/java/generics/genTypeInference.html#target_types","title":"Java 8 Lambdas vs Self-executing Functions in JavaScript","body":"<p>Java is very different from JavaScript. And Lambda expressions in Java are not the same as Arrow functions in JavaScript.</p>\n<p>Java 8 functions which can be expressed as Lambda expressions or Method references <strong>should conform</strong> to a so-called <em>Functional interface</em>, they can't appear out of nowhere. On the contrary, in JavaScript and TypeScript any behavior can be implemented using Arrow functions.</p>\n<p>It's important to keep in mind this difference there's no special type for Java 8 Function, that's why we need <em>Functional interfaces</em>, which are interfaces having a single abstract method. And Lambdas (as well as Method references) are meant to provide an implementation to this interface).</p>\n<p>Lambda expressions and Method references <em><strong>have no type by itself</strong></em> (<em>that's a direct consequence of the absence of a Functional type in the Language</em>).</p>\n<p>The expressions give no clue to the compiler about their type:</p>\n<pre><code>() -&gt; System.out.println(&quot;foo&quot;)\ni -&gt; i * i\n</code></pre>\n<p>Both Lambda expressions and Method references are so-called <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.2\" rel=\"nofollow noreferrer\"><em><strong>poly expressions</strong></em></a>, which means they sensitive to the context in which they appear.</p>\n<p>And since Lambdas in have no type by itself and compiler <strong>always</strong> needs to infer their type based on either:</p>\n<ul>\n<li>Assignment context;</li>\n<li>Invocation context;</li>\n<li>Casting context.</li>\n</ul>\n<p>Here's a short quote from the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.27\" rel=\"nofollow noreferrer\">Java Language Specification §15.27. Lambda Expressions</a></p>\n<blockquote>\n<p>It is a <strong>compile-time error</strong> if a <strong>lambda expression occurs</strong> in a program in <strong>someplace other than</strong> an <em><strong>assignment context</strong></em> (§5.2), an <em><strong>invocation context</strong></em> (§5.3), or a <em><strong>casting context</strong></em> (§5.5).</p>\n</blockquote>\n<p>In case <em>Assignment context</em>, the type specified on the left of the assignment expression tells the compiler what should be the target of the <em>Functional interface</em> to which lambda conforms:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Supplier&lt;String&gt; summer = () -&gt; &quot;fooBar&quot;;\nRunnable r = () -&gt; doSomething(); // this::doSomething\n</code></pre>\n<p>Here's a few examples of how to provide a <em>Casting context</em> (both statements below are valid):</p>\n<pre class=\"lang-java prettyprint-override\"><code>((Runnable) () -&gt; doSomething()).run();\n\n((Supplier&lt;String&gt;)() -&gt; &quot;FooBar&quot;).get().codePoints()\n    .filter(Character::isUpperCase)\n    .mapToObj(i -&gt; (char) i)\n    .forEach(System.out::println);\n</code></pre>\n<p>And here's an illustration of how <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/genTypeInference.html#target_types\" rel=\"nofollow noreferrer\">target type</a> can be provided through the <em>Invocation context</em>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String str = (() -&gt; &quot;FooBar&quot;).get();         // would Not compile\nString str = supplier(() -&gt; &quot;FooBar&quot;).get(); // works fine\n</code></pre>\n<p><code>supplier()</code>:</p>\n<pre><code>public static &lt;T&gt; Supplier&lt;T&gt; supplier(Supplier&lt;T&gt; s) {\n    return s;\n}\n</code></pre>\n"}],"owner":{"account_id":6079722,"reputation":527,"user_id":4745878,"accept_rate":88,"display_name":"Aljoscha Meyer"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2752,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":38122256,"answer_count":3,"score":11,"last_activity_date":1668708794,"creation_date":1467287010,"question_id":38122121,"body_markdown":"In JavaScript, there&#39;s the common pattern of creating an anonymous function and immediately invoking it.\r\n\r\nWhich is called a [*Self-executing anonymous function*][selfExecuting] or an [*immediately-invoked function expression*][immediatelyInvoked].\r\n\r\nWith Java 8 lambdas, is there a standard way to replicate this behavior? \r\n\r\nSomething like (*pseudocode*):\r\n\r\n```\r\n(() -&gt; doSomething())()\r\n```\r\n\r\n[This question](https://stackoverflow.com/questions/24290803/self-executing-java-methods) asks basically the same question, but for Java 7. I&#39;m explicitly looking for constructs which utilize lambdas.\r\n\r\n\r\n\r\n   [selfExecuting]: http://markdalgleish.com/2011/03/self-executing-anonymous-functions/\r\n\r\n   [immediatelyInvoked]: http://benalman.com/news/2010/11/immediately-invoked-function-expression/#iife","title":"Java 8 Lambdas vs Self-executing Functions in JavaScript","body":"<p>In JavaScript, there's the common pattern of creating an anonymous function and immediately invoking it.</p>\n<p>Which is called a <a href=\"http://markdalgleish.com/2011/03/self-executing-anonymous-functions/\" rel=\"nofollow noreferrer\"><em>Self-executing anonymous function</em></a> or an <a href=\"http://benalman.com/news/2010/11/immediately-invoked-function-expression/#iife\" rel=\"nofollow noreferrer\"><em>immediately-invoked function expression</em></a>.</p>\n<p>With Java 8 lambdas, is there a standard way to replicate this behavior?</p>\n<p>Something like (<em>pseudocode</em>):</p>\n<pre><code>(() -&gt; doSomething())()\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/24290803/self-executing-java-methods\">This question</a> asks basically the same question, but for Java 7. I'm explicitly looking for constructs which utilize lambdas.</p>\n"},{"tags":["java","spring","oracle","spring-data-jpa","hibernate-entitymanager"],"comments":[{"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"score":0,"creation_date":1668709901,"post_id":74480210,"comment_id":131478271,"body_markdown":"Is your database set to support `NUMBER` and `VARCHAR2`?  The first exception says that datatypes may be incorrect.  In PL/SQL, the `NUMBER` and `VARCHAR2` data types must be turned on in the database configuration parameter.","body":"Is your database set to support <code>NUMBER</code> and <code>VARCHAR2</code>?  The first exception says that datatypes may be incorrect.  In PL/SQL, the <code>NUMBER</code> and <code>VARCHAR2</code> data types must be turned on in the database configuration parameter."},{"owner":{"account_id":13295192,"reputation":144,"user_id":9598447,"display_name":"Brian Akumah"},"score":0,"creation_date":1669220790,"post_id":74480210,"comment_id":131596654,"body_markdown":"@skidwiz Yes the database supports ```NUMBER``` and ```VARCHAR2```","body":"@skidwiz Yes the database supports <code>NUMBER</code> and <code>VARCHAR2</code>"}],"owner":{"account_id":13295192,"reputation":144,"user_id":9598447,"display_name":"Brian Akumah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668708767,"creation_date":1668708767,"question_id":74480210,"body_markdown":"I am trying to call this using JPA/Hibernate `EntityManager` bu I keep getting errors. Essentially this is a stipped-down version of a PL/SQL function. \r\n```\r\n FUNCTION create_foo(f_name      VARCHAR2,\r\n                     l_name      VARCHAR2,\r\n                     someNum     NUMBER,\r\n                     someResult  OUT VARCHAR) RETURN NUMBER AS\r\n    id  NUMBER;\r\n    someString VARCHAR2(100);\r\n\r\n  BEGIN\r\n    id := foo.generateID(webpassword);\r\n    someResult := create_Result(to_char(aidm)\r\n    -- Some other logic and stuff with someString and id\r\n    \r\n    RETURN id;\r\n  END;\r\n```\r\n\r\nHere&#39;s what my code looks like:\r\n\r\n```\r\n StoredProcedureQuery storedProcedureQuery = entityManager.createStoredProcedureQuery(&quot;schema.create_foo&quot;)\r\n                    .registerStoredProcedureParameter(&quot;f_name&quot;, String.class, ParameterMode.IN)\r\n                    .registerStoredProcedureParameter(&quot;l_name&quot;, String.class, ParameterMode.IN)\r\n                    .registerStoredProcedureParameter(&quot;someNum&quot;, int.class, ParameterMode.IN)\r\n                    .registerStoredProcedureParameter(&quot;someResult&quot;, String.class, ParameterMode.OUT)\r\n                    .registerStoredProcedureParameter(&quot;return&quot;, int.class, ParameterMode.OUT)\r\n                    .setParameter(&quot;f_name&quot;, &quot;John&quot;)\r\n                    .setParameter(&quot;l_name&quot;, &quot;Doe&quot;)\r\n                    .setParameter(&quot;someNum&quot;, 0);\r\n\r\n            Object singleResult = storedProcedureQuery.execute();\r\n```\r\n I have tried multiple things but I can not get it to work. I have tried changing the return ```ParameterMode``` to ```REF_CURSOR``` but I got the same error\r\n```PLS-00306: wrong number or types of arguments in call to &#39;create_foo&#39;```\r\n\r\n\r\nIf I try this code like this without ```registerStoredProcedureParameter``` for the return:\r\n```\r\n StoredProcedureQuery storedProcedureQuery = entityManager.createStoredProcedureQuery(&quot;schema.create_foo&quot;)\r\n                    .registerStoredProcedureParameter(&quot;f_name&quot;, String.class, ParameterMode.IN)\r\n                    .registerStoredProcedureParameter(&quot;l_name&quot;, String.class, ParameterMode.IN)\r\n                    .registerStoredProcedureParameter(&quot;someNum&quot;, int.class, ParameterMode.IN)\r\n                    .registerStoredProcedureParameter(&quot;someResult&quot;, String.class, ParameterMode.OUT)\r\n                    .setParameter(&quot;f_name&quot;, &quot;John&quot;)\r\n                    .setParameter(&quot;l_name&quot;, &quot;Doe&quot;)\r\n                    .setParameter(&quot;someNum&quot;, 0);\r\n\r\n            Object singleResult = storedProcedureQuery.execute();\r\n```\r\nI get this error: ```PLS-00221: &#39;create_foo&#39; is not a procedure or is undefined```. I have also tried different combinations of ```storedProcedureQuery.getSingleResult()``` and ```storedProcedureQuery.excecute()```. I am using this same process for other stored procedures and they are working great. The only difference is that this one is a function and has an ```OUT``` Pram and a ```RETURN``` whereas the other ones only have an ```IN``` param. This stored procedure/function is being used by other projects and is working so I know the problem is not the PL/SQL but rather my code.\r\n\r\n**How do I get this to work?**","title":"How to call complex Stored Function using Entity Manager?","body":"<p>I am trying to call this using JPA/Hibernate <code>EntityManager</code> bu I keep getting errors. Essentially this is a stipped-down version of a PL/SQL function.</p>\n<pre><code> FUNCTION create_foo(f_name      VARCHAR2,\n                     l_name      VARCHAR2,\n                     someNum     NUMBER,\n                     someResult  OUT VARCHAR) RETURN NUMBER AS\n    id  NUMBER;\n    someString VARCHAR2(100);\n\n  BEGIN\n    id := foo.generateID(webpassword);\n    someResult := create_Result(to_char(aidm)\n    -- Some other logic and stuff with someString and id\n    \n    RETURN id;\n  END;\n</code></pre>\n<p>Here's what my code looks like:</p>\n<pre><code> StoredProcedureQuery storedProcedureQuery = entityManager.createStoredProcedureQuery(&quot;schema.create_foo&quot;)\n                    .registerStoredProcedureParameter(&quot;f_name&quot;, String.class, ParameterMode.IN)\n                    .registerStoredProcedureParameter(&quot;l_name&quot;, String.class, ParameterMode.IN)\n                    .registerStoredProcedureParameter(&quot;someNum&quot;, int.class, ParameterMode.IN)\n                    .registerStoredProcedureParameter(&quot;someResult&quot;, String.class, ParameterMode.OUT)\n                    .registerStoredProcedureParameter(&quot;return&quot;, int.class, ParameterMode.OUT)\n                    .setParameter(&quot;f_name&quot;, &quot;John&quot;)\n                    .setParameter(&quot;l_name&quot;, &quot;Doe&quot;)\n                    .setParameter(&quot;someNum&quot;, 0);\n\n            Object singleResult = storedProcedureQuery.execute();\n</code></pre>\n<p>I have tried multiple things but I can not get it to work. I have tried changing the return <code>ParameterMode</code> to <code>REF_CURSOR</code> but I got the same error\n<code>PLS-00306: wrong number or types of arguments in call to 'create_foo'</code></p>\n<p>If I try this code like this without <code>registerStoredProcedureParameter</code> for the return:</p>\n<pre><code> StoredProcedureQuery storedProcedureQuery = entityManager.createStoredProcedureQuery(&quot;schema.create_foo&quot;)\n                    .registerStoredProcedureParameter(&quot;f_name&quot;, String.class, ParameterMode.IN)\n                    .registerStoredProcedureParameter(&quot;l_name&quot;, String.class, ParameterMode.IN)\n                    .registerStoredProcedureParameter(&quot;someNum&quot;, int.class, ParameterMode.IN)\n                    .registerStoredProcedureParameter(&quot;someResult&quot;, String.class, ParameterMode.OUT)\n                    .setParameter(&quot;f_name&quot;, &quot;John&quot;)\n                    .setParameter(&quot;l_name&quot;, &quot;Doe&quot;)\n                    .setParameter(&quot;someNum&quot;, 0);\n\n            Object singleResult = storedProcedureQuery.execute();\n</code></pre>\n<p>I get this error: <code>PLS-00221: 'create_foo' is not a procedure or is undefined</code>. I have also tried different combinations of <code>storedProcedureQuery.getSingleResult()</code> and <code>storedProcedureQuery.excecute()</code>. I am using this same process for other stored procedures and they are working great. The only difference is that this one is a function and has an <code>OUT</code> Pram and a <code>RETURN</code> whereas the other ones only have an <code>IN</code> param. This stored procedure/function is being used by other projects and is working so I know the problem is not the PL/SQL but rather my code.</p>\n<p><strong>How do I get this to work?</strong></p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":2157277,"reputation":922,"user_id":1912193,"accept_rate":61,"display_name":"Max Gabderakhmanov"},"score":0,"creation_date":1533935961,"post_id":39129610,"comment_id":90545961,"body_markdown":"Did you research Spring `@Scheduled()` annotation? It might be suitable for you somehow.","body":"Did you research Spring <code>@Scheduled()</code> annotation? It might be suitable for you somehow."}],"answers":[{"tags":[],"owner":{"account_id":879004,"reputation":6117,"user_id":225703,"display_name":"Andrew Lygin"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1472062246,"creation_date":1472060420,"answer_id":39129779,"question_id":39129610,"body_markdown":"To sleep for 10 seconds, you can use `Thread.sleep()`:\r\n\r\n    Thread.sleep(10000);\r\n\r\nBut be careful with this method, it will block your thread and not let it handle other user requests until the timeout expires. It might lead to thread pool exhaustion (and finally to request timeouts) if you have many such requests running in parallel.\r\n\r\nTo execute some task after 10 seconds, you can use `Timer.schedule()`:\r\n\r\n    new Timer().schedule(\r\n        new TimerTask() {\r\n            @Override\r\n            public void run() {\r\n                // Your code here\r\n            }\r\n        }, \r\n        10000\r\n    );\r\n\r\nThis call will return immediately and execute the check later in a separate thread. This approach is much more safe and scalable.\r\n\r\nIf you need more control on the delayed tasks, you can also use `ScheduledExecutorService`. It will allow you to define the size of the thread pool that will execute your tasks, to cancel pending tasks, to obtain results from them etc.:\r\n\r\n    // Create a pool of threads to execute checks\r\n    private final ScheduledExecutorService scheduler =\r\n            Executors.newScheduledThreadPool(poolSize);\r\n\r\n    // In the request handler:\r\n    ScheduledFuture&lt;?&gt; future = scheduler.schedule(() -&gt; {\r\n\t\t// Your code here\r\n    }, 10, TimeUnit.SECONDS);","title":"Spring Controller do some work after 10 seconds","body":"<p>To sleep for 10 seconds, you can use <code>Thread.sleep()</code>:</p>\n\n<pre><code>Thread.sleep(10000);\n</code></pre>\n\n<p>But be careful with this method, it will block your thread and not let it handle other user requests until the timeout expires. It might lead to thread pool exhaustion (and finally to request timeouts) if you have many such requests running in parallel.</p>\n\n<p>To execute some task after 10 seconds, you can use <code>Timer.schedule()</code>:</p>\n\n<pre><code>new Timer().schedule(\n    new TimerTask() {\n        @Override\n        public void run() {\n            // Your code here\n        }\n    }, \n    10000\n);\n</code></pre>\n\n<p>This call will return immediately and execute the check later in a separate thread. This approach is much more safe and scalable.</p>\n\n<p>If you need more control on the delayed tasks, you can also use <code>ScheduledExecutorService</code>. It will allow you to define the size of the thread pool that will execute your tasks, to cancel pending tasks, to obtain results from them etc.:</p>\n\n<pre><code>// Create a pool of threads to execute checks\nprivate final ScheduledExecutorService scheduler =\n        Executors.newScheduledThreadPool(poolSize);\n\n// In the request handler:\nScheduledFuture&lt;?&gt; future = scheduler.schedule(() -&gt; {\n    // Your code here\n}, 10, TimeUnit.SECONDS);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2277982,"reputation":1036,"user_id":2003797,"display_name":"Konstantin Konyshev"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1472069309,"creation_date":1472069309,"answer_id":39132223,"question_id":39129610,"body_markdown":"Let me please summarise. If you need response immediately you may use @Async annotation on your service/controller method (note, you need to enable it by @EnableAsync configuration annotation.\r\n\r\n    @Configuration\r\n    @EnableAsync\r\n    @EnableScheduling\r\n    public class AppConfig {\r\n    }\r\n\r\nNext, autowire embedded spring scheduler: \r\n\r\n    @Autowired \r\n    private TaskScheduler taskScheduler;\r\n\r\nAnd finally, schedule taks execution:\r\n\r\n    taskScheduler.schedule(\r\n        () -&gt; {/*task code*/}, \r\n        new Date(OffsetDateTime.now().plusSeconds(10).toInstant().toEpochMilli())\r\n    );\r\n\r\nMore details about async processing and scheduling in spring you may find [here][1]\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/scheduling.html","title":"Spring Controller do some work after 10 seconds","body":"<p>Let me please summarise. If you need response immediately you may use @Async annotation on your service/controller method (note, you need to enable it by @EnableAsync configuration annotation.</p>\n\n<pre><code>@Configuration\n@EnableAsync\n@EnableScheduling\npublic class AppConfig {\n}\n</code></pre>\n\n<p>Next, autowire embedded spring scheduler: </p>\n\n<pre><code>@Autowired \nprivate TaskScheduler taskScheduler;\n</code></pre>\n\n<p>And finally, schedule taks execution:</p>\n\n<pre><code>taskScheduler.schedule(\n    () -&gt; {/*task code*/}, \n    new Date(OffsetDateTime.now().plusSeconds(10).toInstant().toEpochMilli())\n);\n</code></pre>\n\n<p>More details about async processing and scheduling in spring you may find <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/scheduling.html\" rel=\"nofollow\">here</a></p>\n"}],"owner":{"account_id":4516901,"reputation":281,"user_id":3671444,"accept_rate":25,"display_name":"sumy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11937,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1668708465,"creation_date":1472059815,"question_id":39129610,"body_markdown":"When a user sends a request, the information from the request will be sent to a remote web site. Then, I want to call an API to check if the request sent successfully. It returns nothing if I call it immediately, so the API should be called after some seconds.\r\n\r\nAre there any methods to let Controller **sleep** a while, or make a **task** and automatic execution after some time?","title":"Spring Controller do some work after 10 seconds","body":"<p>When a user sends a request, the information from the request will be sent to a remote web site. Then, I want to call an API to check if the request sent successfully. It returns nothing if I call it immediately, so the API should be called after some seconds.</p>\n\n<p>Are there any methods to let Controller <strong>sleep</strong> a while, or make a <strong>task</strong> and automatic execution after some time?</p>\n"},{"tags":["java","oracle","encoding","utf-8","wicket"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":1,"creation_date":1668708388,"post_id":74480102,"comment_id":131477746,"body_markdown":"This usually indicates an encoding issue. You&#39;re storing the message with a certain encoding (for example UTF-8) but then you&#39;re reading the message using another encoding (for example UTF-16) so this is causing all the characters that have different bytes in the reading encoding to be shown as unknown symbols.","body":"This usually indicates an encoding issue. You&#39;re storing the message with a certain encoding (for example UTF-8) but then you&#39;re reading the message using another encoding (for example UTF-16) so this is causing all the characters that have different bytes in the reading encoding to be shown as unknown symbols."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1668708764,"post_id":74480102,"comment_id":131477870,"body_markdown":"Let&#39;s eliminate your user&#39;s viewer as being a defective piece of software. This leads me to ask - did you set headers indicating char encoding correctly so his viewer can use the correct encoding? Or, is there some way your encoding is wrong *before* you create the mail?","body":"Let&#39;s eliminate your user&#39;s viewer as being a defective piece of software. This leads me to ask - did you set headers indicating char encoding correctly so his viewer can use the correct encoding? Or, is there some way your encoding is wrong <i>before</i> you create the mail?"}],"owner":{"account_id":22991736,"reputation":13,"user_id":17117110,"display_name":"StepZ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668708214,"creation_date":1668708214,"question_id":74480102,"body_markdown":"I have an app that sends an email to the user when he doesn&#180;t login for X months. \r\n\r\nAn example of a message is as follows:\r\n```\r\n&quot;Informa-se que este utilizador n&#227;o efetua Login no SGES h&#225; mais de tr&#234;s meses. Caso o utilizador j&#225; n&#227;o se encontre ativo, por favor, contacte o administrador do SGES da sua entidade, para que o perfil do utilizador seja removido do sistema.&quot;\r\n```\r\n\r\nBut in the email received with that message, it shows like this:\r\n```\r\n“Informa-se que este utilizador n�o efetua Login no SGES h� mais de tr�s meses. Caso o utilizador j� n�o se encontre ativo, por favor, contacte o administrador do SGES da sua entidade, para que o perfil do utilizador seja removido do sistema.”\r\n```\r\n\r\n\r\nI&#39;m not showing any code because I&#39;m not sure what to show in this particular case. \r\nWhen I&#39;m retrieving the message, I&#39;m only doing a getMessage from the column from the database. \r\n\r\nAny way to fix?","title":"Words with accents show with symbols when read from the database","body":"<p>I have an app that sends an email to the user when he doesn´t login for X months.</p>\n<p>An example of a message is as follows:</p>\n<pre><code>&quot;Informa-se que este utilizador não efetua Login no SGES há mais de três meses. Caso o utilizador já não se encontre ativo, por favor, contacte o administrador do SGES da sua entidade, para que o perfil do utilizador seja removido do sistema.&quot;\n</code></pre>\n<p>But in the email received with that message, it shows like this:</p>\n<pre><code>“Informa-se que este utilizador n�o efetua Login no SGES h� mais de tr�s meses. Caso o utilizador j� n�o se encontre ativo, por favor, contacte o administrador do SGES da sua entidade, para que o perfil do utilizador seja removido do sistema.”\n</code></pre>\n<p>I'm not showing any code because I'm not sure what to show in this particular case.\nWhen I'm retrieving the message, I'm only doing a getMessage from the column from the database.</p>\n<p>Any way to fix?</p>\n"},{"tags":["java","function"],"comments":[{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":1,"creation_date":1668707620,"post_id":74479976,"comment_id":131477505,"body_markdown":"Post the code, not a picture of the code.  No-one can run your picture.","body":"Post the code, not a picture of the code.  No-one can run your picture."},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1668707804,"post_id":74479976,"comment_id":131477553,"body_markdown":"I know that VS Code is a great editor, but honestly I&#39;d suggest you to use IntelliJ Idea to write and run/debug java code.","body":"I know that VS Code is a great editor, but honestly I&#39;d suggest you to use IntelliJ Idea to write and run/debug java code."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668707832,"post_id":74479976,"comment_id":131477561,"body_markdown":"Please read: [Why not upload images of code/errors when asking a question?](https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question)","body":"Please read: <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question\">Why not upload images of code/errors when asking a question?</a>"},{"owner":{"account_id":14679090,"reputation":1358,"user_id":10601203,"display_name":"Jesse"},"score":1,"creation_date":1668707879,"post_id":74479976,"comment_id":131477575,"body_markdown":"What do you mean by &quot;smoothly&quot;? Please include current behavior and desired behavior. From the little bit of information you&#39;ve provided I think it can be reasonably assumed that it&#39;s stuck in an infinite loop, so start by trying to figure out why the condition is never `false`.","body":"What do you mean by &quot;smoothly&quot;? Please include current behavior and desired behavior. From the little bit of information you&#39;ve provided I think it can be reasonably assumed that it&#39;s stuck in an infinite loop, so start by trying to figure out why the condition is never <code>false</code>."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1668707966,"post_id":74479976,"comment_id":131477602,"body_markdown":"Try changing `n=n%10` to `n=n/10`","body":"Try changing <code>n=n%10</code> to <code>n=n&#47;10</code>"}],"answers":[{"tags":[],"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668708136,"creation_date":1668708136,"answer_id":74480083,"question_id":74479976,"body_markdown":"`%` is not division, it&#39;s a remainder operation - it shows how much is left *after* integer division. `1 % 10 == 1`. Thus your `n` is never becoming 0, and your code enters an infinite loop.","title":"i am not getting any error in my java code but still it is unable to run?","body":"<p><code>%</code> is not division, it's a remainder operation - it shows how much is left <em>after</em> integer division. <code>1 % 10 == 1</code>. Thus your <code>n</code> is never becoming 0, and your code enters an infinite loop.</p>\n"}],"owner":{"account_id":26877071,"reputation":1,"user_id":20458153,"display_name":"Bilal Sahi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1668708224,"accepted_answer_id":74480083,"answer_count":1,"score":-4,"last_activity_date":1668708136,"creation_date":1668707526,"question_id":74479976,"body_markdown":"I don&#39;t know why my defined function is not working smoothly.\r\n\r\n[in this I am trying to build a function to convert a binary number to a decimal number](https://i.stack.imgur.com/J7oab.png)\r\n\r\n\r\n    public class binarrytodec {\r\n    public static void bintodec(int n){\r\n        int p=0;\r\n        int dec=0;\r\n        while(n&gt;0){\r\n            int ld=n%10;\r\n            dec = dec + (ld*(int)Math.pow(2, p));\r\n            p++;\r\n            n=n%10;\r\n        }\r\n        System.out.print(dec);\r\n\r\n    }\r\n    public static void main(String args[]) {\r\n        bintodec(1110001);\r\n        \r\n    }\r\n    \r\n}\r\n","title":"i am not getting any error in my java code but still it is unable to run?","body":"<p>I don't know why my defined function is not working smoothly.</p>\n<p><a href=\"https://i.stack.imgur.com/J7oab.png\" rel=\"nofollow noreferrer\">in this I am trying to build a function to convert a binary number to a decimal number</a></p>\n<pre><code>public class binarrytodec {\npublic static void bintodec(int n){\n    int p=0;\n    int dec=0;\n    while(n&gt;0){\n        int ld=n%10;\n        dec = dec + (ld*(int)Math.pow(2, p));\n        p++;\n        n=n%10;\n    }\n    System.out.print(dec);\n\n}\npublic static void main(String args[]) {\n    bintodec(1110001);\n    \n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android","proxy","android-source","system-services"],"answers":[{"tags":[],"owner":{"account_id":75005,"reputation":14157,"user_id":215266,"accept_rate":78,"display_name":"satur9nine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668707856,"creation_date":1668707856,"answer_id":74480033,"question_id":74019596,"body_markdown":"Yes it is possible to restrict access to particular methods in system service in AOSP. To enforce IPC permissions Android typically uses AndroidManifest declared permissions.\r\n\r\nYou can use `AlarmManagerService#setTime(long)` as an example:\r\n\r\nhttps://cs.android.com/android/platform/superproject/+/master:frameworks/base/apex/jobscheduler/service/java/com/android/server/alarm/AlarmManagerService.java;l=2980?q=alarmmanagerservice\r\n\r\n        public boolean setTime(long millis) {\r\n            getContext().enforceCallingOrSelfPermission(\r\n                    &quot;android.permission.SET_TIME&quot;,\r\n                    &quot;setTime&quot;);\r\n\r\n            return setTimeImpl(millis);\r\n        }\r\n\r\nThe permission itself is defined in an xml file in frameworks:\r\n\r\nhttps://cs.android.com/android/platform/superproject/+/master:frameworks/base/core/res/AndroidManifest.xml;l=3338\r\n\r\n    &lt;!-- Allows applications to set the system time directly.\r\n         &lt;p&gt;Not for use by third-party applications. --&gt;\r\n    &lt;permission android:name=&quot;android.permission.SET_TIME&quot;\r\n        android:protectionLevel=&quot;signature|privileged|role&quot; /&gt;\r\n\r\nNote that based on the protectionLevel used it is not possible for regular Android apps to obtain this permission. The `enforceCallingOrSelfPermission` allows processes with system UID access as well if you follow the implementation to the `ActivityManager#checkComponentPermission(...)` method. I&#39;m not entirely clear on the &quot;role&quot; permission, that appears to be a fairly recent addition to AOSP.","title":"Is it possible to restrict access to a System Service in AOSP?","body":"<p>Yes it is possible to restrict access to particular methods in system service in AOSP. To enforce IPC permissions Android typically uses AndroidManifest declared permissions.</p>\n<p>You can use <code>AlarmManagerService#setTime(long)</code> as an example:</p>\n<p><a href=\"https://cs.android.com/android/platform/superproject/+/master:frameworks/base/apex/jobscheduler/service/java/com/android/server/alarm/AlarmManagerService.java;l=2980?q=alarmmanagerservice\" rel=\"nofollow noreferrer\">https://cs.android.com/android/platform/superproject/+/master:frameworks/base/apex/jobscheduler/service/java/com/android/server/alarm/AlarmManagerService.java;l=2980?q=alarmmanagerservice</a></p>\n<pre><code>    public boolean setTime(long millis) {\n        getContext().enforceCallingOrSelfPermission(\n                &quot;android.permission.SET_TIME&quot;,\n                &quot;setTime&quot;);\n\n        return setTimeImpl(millis);\n    }\n</code></pre>\n<p>The permission itself is defined in an xml file in frameworks:</p>\n<p><a href=\"https://cs.android.com/android/platform/superproject/+/master:frameworks/base/core/res/AndroidManifest.xml;l=3338\" rel=\"nofollow noreferrer\">https://cs.android.com/android/platform/superproject/+/master:frameworks/base/core/res/AndroidManifest.xml;l=3338</a></p>\n<pre><code>&lt;!-- Allows applications to set the system time directly.\n     &lt;p&gt;Not for use by third-party applications. --&gt;\n&lt;permission android:name=&quot;android.permission.SET_TIME&quot;\n    android:protectionLevel=&quot;signature|privileged|role&quot; /&gt;\n</code></pre>\n<p>Note that based on the protectionLevel used it is not possible for regular Android apps to obtain this permission. The <code>enforceCallingOrSelfPermission</code> allows processes with system UID access as well if you follow the implementation to the <code>ActivityManager#checkComponentPermission(...)</code> method. I'm not entirely clear on the &quot;role&quot; permission, that appears to be a fairly recent addition to AOSP.</p>\n"}],"owner":{"account_id":22215880,"reputation":41,"user_id":16454332,"display_name":"Markusbug"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74480033,"answer_count":1,"score":0,"last_activity_date":1668707856,"creation_date":1665428365,"question_id":74019596,"body_markdown":"Is it possible to restrict access to certain methods on a System Service in AOSP?\r\n\r\nI was thinking of having two Proxies talk to the System Service with one implementing public methods and the other just methods to privileged processes.\r\n\r\nThank you! ","title":"Is it possible to restrict access to a System Service in AOSP?","body":"<p>Is it possible to restrict access to certain methods on a System Service in AOSP?</p>\n<p>I was thinking of having two Proxies talk to the System Service with one implementing public methods and the other just methods to privileged processes.</p>\n<p>Thank you!</p>\n"},{"tags":["java","android","google-api","google-places-autocomplete"],"comments":[{"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"score":0,"creation_date":1668707528,"post_id":74288841,"comment_id":131590506,"body_markdown":"You need to mail to google map this is paid API you can achive this by using that.\nHope this helps.","body":"You need to mail to google map this is paid API you can achive this by using that. Hope this helps."}],"answers":[{"tags":[],"owner":{"account_id":10319687,"reputation":781,"user_id":7612991,"display_name":"Stuti Kasliwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667795898,"creation_date":1667393030,"answer_id":74289347,"question_id":74288841,"body_markdown":"You can use the following code and changes as per your requirements.\r\n\r\n      List&lt;Address&gt; addresses;\r\n            geocoder = new Geocoder(context, Locale.getDefault());\r\n\r\n            try {\r\n                addresses = geocoder.getFromLocation(place.getLatLng().latitude, place.getLatLng().longitude, 1); // Here 1 represent max location result to returned, by documents it recommended 1 to 5\r\n                String address1 = addresses.get(0).getAddressLine(0); // If any additional address line present than only, check with max available address lines by getMaxAddressLineIndex()\r\n                String address2 = addresses.get(0).getAddressLine(1); // If any additional address line present than only, check with max available address lines by getMaxAddressLineIndex()\r\n                String city = addresses.get(0).getLocality();\r\n                String state = addresses.get(0).getAdminArea();\r\n                String country = addresses.get(0).getCountryName();\r\n                String postalCode = addresses.get(0).getPostalCode();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\nIf you want to display city name then you can use that string and if you want state as well then append it. You can also get latitude and longitude.\r\n\r\n**edit-** Still if you are getting a long address line at 0 indexing then use the following method call to get split string based on the comma.\r\n\r\n**KOTLIN -**  \r\n\r\n    fun getShortAddressLine(tag:String) : String{\r\n        var splitString= tag?.split(&quot;[/,/]&quot;.toRegex())\r\n        var arraysize= splitString.size\r\n\r\n        return splitString[0]\r\n    }\r\n\r\n**JAVA -** \r\n\r\n     public static String getShortAddressLine(String tag) {\r\n        Regex regex = new Regex(&quot;[/,/]&quot;);\r\n        List splitString = regex.split(tag, 0);\r\n        int arraysize = splitString.size();\r\n        return (String)splitString.get(0);\r\n    }","title":"How to short address in Google Autocomplete places API in android","body":"<p>You can use the following code and changes as per your requirements.</p>\n<pre><code>  List&lt;Address&gt; addresses;\n        geocoder = new Geocoder(context, Locale.getDefault());\n\n        try {\n            addresses = geocoder.getFromLocation(place.getLatLng().latitude, place.getLatLng().longitude, 1); // Here 1 represent max location result to returned, by documents it recommended 1 to 5\n            String address1 = addresses.get(0).getAddressLine(0); // If any additional address line present than only, check with max available address lines by getMaxAddressLineIndex()\n            String address2 = addresses.get(0).getAddressLine(1); // If any additional address line present than only, check with max available address lines by getMaxAddressLineIndex()\n            String city = addresses.get(0).getLocality();\n            String state = addresses.get(0).getAdminArea();\n            String country = addresses.get(0).getCountryName();\n            String postalCode = addresses.get(0).getPostalCode();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>If you want to display city name then you can use that string and if you want state as well then append it. You can also get latitude and longitude.</p>\n<p><strong>edit-</strong> Still if you are getting a long address line at 0 indexing then use the following method call to get split string based on the comma.</p>\n<p><strong>KOTLIN -</strong></p>\n<pre><code>fun getShortAddressLine(tag:String) : String{\n    var splitString= tag?.split(&quot;[/,/]&quot;.toRegex())\n    var arraysize= splitString.size\n\n    return splitString[0]\n}\n</code></pre>\n<p><strong>JAVA -</strong></p>\n<pre><code> public static String getShortAddressLine(String tag) {\n    Regex regex = new Regex(&quot;[/,/]&quot;);\n    List splitString = regex.split(tag, 0);\n    int arraysize = splitString.size();\n    return (String)splitString.get(0);\n}\n</code></pre>\n"}],"owner":{"account_id":26351131,"reputation":79,"user_id":20397293,"display_name":"Puru Chaudhary"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668707528,"creation_date":1667390578,"question_id":74288841,"body_markdown":"Hey I am using google autocomplete places API in my application where user have to select their address now the problem is that it is showing a long address while i want a very short and specific address\r\n\r\n\\*\\*image to show the address\r\n\\*\\*\r\n[![enter image description here](https://i.stack.imgur.com/jdQE3.jpg)](https://i.stack.imgur.com/jdQE3.jpg)\r\n\r\n**i want it only &quot;Ganesh Nagar, Bharatpur&quot; not this much long address. How can i solve this issue please guide me**\r\n\r\ni tried to solve this but not able. I want it to be precise only not this long address.\r\n\r\n**CODE I AM USING**\r\n\r\n      Geocoder geocoder = new Geocoder(this, Locale.getDefault());\r\n        List&lt;Address&gt; addresses = null;\r\n        try {\r\n            addresses = geocoder.getFromLocation(location.getLatitude(), location.getLongitude(), 1);\r\n        }\r\n        catch (Exception ioException) {\r\n            Log.e(&quot;&quot;, &quot;Error in getting address for the location&quot;);\r\n        }\r\n        if (addresses == null || addresses.size() == 0) {\r\n            msg = &quot;No address found for the location&quot;;\r\n            sendResultsToReceiver(1, msg);\r\n        }\r\n        else {\r\n            Address address = addresses.get(0);\r\n\r\n            String addressDetails =  address.getAddressLine(0);\r\n\r\n            sendResultsToReceiver(2, addressDetails);\r\n        }","title":"How to short address in Google Autocomplete places API in android","body":"<p>Hey I am using google autocomplete places API in my application where user have to select their address now the problem is that it is showing a long address while i want a very short and specific address</p>\n<p>**image to show the address\n**\n<a href=\"https://i.stack.imgur.com/jdQE3.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jdQE3.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>i want it only &quot;Ganesh Nagar, Bharatpur&quot; not this much long address. How can i solve this issue please guide me</strong></p>\n<p>i tried to solve this but not able. I want it to be precise only not this long address.</p>\n<p><strong>CODE I AM USING</strong></p>\n<pre><code>  Geocoder geocoder = new Geocoder(this, Locale.getDefault());\n    List&lt;Address&gt; addresses = null;\n    try {\n        addresses = geocoder.getFromLocation(location.getLatitude(), location.getLongitude(), 1);\n    }\n    catch (Exception ioException) {\n        Log.e(&quot;&quot;, &quot;Error in getting address for the location&quot;);\n    }\n    if (addresses == null || addresses.size() == 0) {\n        msg = &quot;No address found for the location&quot;;\n        sendResultsToReceiver(1, msg);\n    }\n    else {\n        Address address = addresses.get(0);\n\n        String addressDetails =  address.getAddressLine(0);\n\n        sendResultsToReceiver(2, addressDetails);\n    }\n</code></pre>\n"},{"tags":["java","android","gradle","groovy","capacitor"],"comments":[{"owner":{"account_id":19888876,"reputation":19,"user_id":14571368,"display_name":"Jonathan Mourier"},"score":0,"creation_date":1674575893,"post_id":74477435,"comment_id":132740967,"body_markdown":"The problem was solved by updating Gradle to version 5.1 and Android Gradle to version 7.4.0","body":"The problem was solved by updating Gradle to version 5.1 and Android Gradle to version 7.4.0"}],"owner":{"account_id":19888876,"reputation":19,"user_id":14571368,"display_name":"Jonathan Mourier"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1668707332,"creation_date":1668696547,"question_id":74477435,"body_markdown":"I have a problem with capacitor 4 \\[android\\] when I try to build my app.\r\nFor many securities raisons in the company I&#39;m working for, all repositories are behind a nexus firewall and the firewall blocks intellij-core dependency because it finds these vulnerabilities :\r\n\r\n![Nexus firewall screenshot](https://i.stack.imgur.com/OQNAf.png)\r\n\r\nThis dependency is used by these tasks on my project :\r\n\r\n- capacitor-filesystem:extractReleaseAnnotations\r\n- capacitor-splash-screen:extractReleaseAnnotations\r\n- capacitor-cordova-android-plugins:extractReleaseAnnotations\r\n- capacitor-camera:extractReleaseAnnotations\r\n- capacitor-android:extractReleaseAnnotations\r\n\r\nAnd here an example of my console log :\r\n\r\n```\r\n5: Task failed with an exception.\r\n-----------\r\n* What went wrong:\r\nExecution failed for task &#39;:capacitor-android:extractReleaseAnnotations&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:capacitor-android:detachedConfiguration2&#39;.\r\n   &gt; Could not download intellij-core-30.2.1.jar (com.android.tools.external.com-intellij:intellij-core:30.2.1)\r\n      &gt; Could not get resource &#39;https://si-devops-mirror.****.fr/repository/dl.google.com/com/android/tools/external/com-intellij/intellij-core/30.2.1/intellij-core-30.2.1.jar&#39;.\r\n         &gt; Could not HEAD &#39;https://si-devops-mirror.****.fr/repository/dl.google.com/com/android/tools/external/com-intellij/intellij-core/30.2.1/intellij-core-30.2.1.jar&#39;.\r\n            &gt; 403 forbidden\r\n```\r\n\r\nThis error comes when I try to build the app  on Android Studio or when I launch the capacitor:run command  \r\n*ionic capacitor run --c=release* in my ionic project.\r\n\r\nI did a Gradle build scan to get the dependencies graph of my application : \r\n\r\n![Dependencies graph Gradle](https://i.stack.imgur.com/TKUeO.png)\r\n\r\nLatest version of Intellij-core (31.0.0-alpha8) isn&#39;t blocked by our firewall, but I don&#39;t know how to tell Gradle to use the latest version of this subdependency. I tried to exclude the Intellij-core dependency with this (in build.gradle app) but it does not work : \r\n\r\n```\r\n    implementation (project(&#39;:capacitor-android&#39;)) {\r\n        exclude group: &#39;com.android.tools.external.com-intellij&#39;, module: &#39;intellij-core&#39;\r\n    }\r\n```\r\n\r\nDo you have any idea how to bypass this dependency or how to tell Gradle to use the latest version of this dependancy ?","title":"Dependency Intellij-core pull by capacitor-android:detachedConfiguration2 block by our firewall","body":"<p>I have a problem with capacitor 4 [android] when I try to build my app.\nFor many securities raisons in the company I'm working for, all repositories are behind a nexus firewall and the firewall blocks intellij-core dependency because it finds these vulnerabilities :</p>\n<p><img src=\"https://i.stack.imgur.com/OQNAf.png\" alt=\"Nexus firewall screenshot\" /></p>\n<p>This dependency is used by these tasks on my project :</p>\n<ul>\n<li>capacitor-filesystem:extractReleaseAnnotations</li>\n<li>capacitor-splash-screen:extractReleaseAnnotations</li>\n<li>capacitor-cordova-android-plugins:extractReleaseAnnotations</li>\n<li>capacitor-camera:extractReleaseAnnotations</li>\n<li>capacitor-android:extractReleaseAnnotations</li>\n</ul>\n<p>And here an example of my console log :</p>\n<pre><code>5: Task failed with an exception.\n-----------\n* What went wrong:\nExecution failed for task ':capacitor-android:extractReleaseAnnotations'.\n&gt; Could not resolve all files for configuration ':capacitor-android:detachedConfiguration2'.\n   &gt; Could not download intellij-core-30.2.1.jar (com.android.tools.external.com-intellij:intellij-core:30.2.1)\n      &gt; Could not get resource 'https://si-devops-mirror.****.fr/repository/dl.google.com/com/android/tools/external/com-intellij/intellij-core/30.2.1/intellij-core-30.2.1.jar'.\n         &gt; Could not HEAD 'https://si-devops-mirror.****.fr/repository/dl.google.com/com/android/tools/external/com-intellij/intellij-core/30.2.1/intellij-core-30.2.1.jar'.\n            &gt; 403 forbidden\n</code></pre>\n<p>This error comes when I try to build the app  on Android Studio or when I launch the capacitor:run command<br />\n<em>ionic capacitor run --c=release</em> in my ionic project.</p>\n<p>I did a Gradle build scan to get the dependencies graph of my application :</p>\n<p><img src=\"https://i.stack.imgur.com/TKUeO.png\" alt=\"Dependencies graph Gradle\" /></p>\n<p>Latest version of Intellij-core (31.0.0-alpha8) isn't blocked by our firewall, but I don't know how to tell Gradle to use the latest version of this subdependency. I tried to exclude the Intellij-core dependency with this (in build.gradle app) but it does not work :</p>\n<pre><code>    implementation (project(':capacitor-android')) {\n        exclude group: 'com.android.tools.external.com-intellij', module: 'intellij-core'\n    }\n</code></pre>\n<p>Do you have any idea how to bypass this dependency or how to tell Gradle to use the latest version of this dependancy ?</p>\n"},{"tags":["java","arraylist","hashmap","maps"],"answers":[{"tags":[],"owner":{"account_id":11095946,"reputation":315,"user_id":8146089,"display_name":"Dennis LLopis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668707213,"creation_date":1668524319,"answer_id":74447748,"question_id":74446747,"body_markdown":"```\r\npublic static void main(String[] args) {\r\n\t\t/* We will be able to modify the values in this map */\r\n\t\tMap&lt;Long, Integer&gt; counts = new HashMap&lt;&gt;();\r\n\t\tcounts.put(66L, 1);\r\n\t\tcounts.put(17L, 2);\r\n\t\t\r\n\t\t/* You cannot modify keys/value of map if it is implemented with Map.of() */\r\n\t\tMap&lt;Long, String&gt; testMenu = Map.of(\r\n\t\t        42L, &quot;gurken&quot;,\r\n\t\t        66L, &quot;kaese&quot;,\r\n\t\t        17L, &quot;fleisch&quot;);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Count Map: &quot; + counts);\r\n\t\tSystem.out.println(&quot;Ingredient Map: &quot; + testMenu + &quot;\\n&quot;);\r\n\t\t\r\n\t\tList&lt;String&gt; ingredients = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\t/* Access both key/value with entrySet() */\r\n\t\tfor(Map.Entry&lt;Long, Integer&gt; entry : counts.entrySet()) {\r\n\t\t\tlong key = entry.getKey();\r\n\t\t\tint val = entry.getValue();\r\n\t\t\tfor(int i = 0; i &lt; val; i++) {\r\n\t\t\t\tingredients.add(testMenu.get(key));\r\n\t\t\t}\r\n\t\t\tcounts.put(key, counts.get(key) - val);\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(&quot;List of ingredients: &quot; + ingredients);\r\n\t\tSystem.out.println(&quot;Updated Count Map: &quot; + counts);\r\n\t}\r\n```\r\n\r\nThis is the output:\r\n```\r\nCount Map: {17=2, 66=1}\r\nIngredient Map: {17=fleisch, 66=kaese, 42=gurken}\r\n\r\nList of ingredients: [fleisch, fleisch, kaese]\r\nUpdated Count Map: {17=0, 66=0}\r\n```\r\nNote, keys and values are immutable when you use the Map.of() method.\r\nI used strings instead of your Ingredients class object in the map, but you can modify the code with a little tinkering. If your having an issue, let me know.","title":"2 Maps with same key. Counting keys","body":"<pre><code>public static void main(String[] args) {\n        /* We will be able to modify the values in this map */\n        Map&lt;Long, Integer&gt; counts = new HashMap&lt;&gt;();\n        counts.put(66L, 1);\n        counts.put(17L, 2);\n        \n        /* You cannot modify keys/value of map if it is implemented with Map.of() */\n        Map&lt;Long, String&gt; testMenu = Map.of(\n                42L, &quot;gurken&quot;,\n                66L, &quot;kaese&quot;,\n                17L, &quot;fleisch&quot;);\n        \n        System.out.println(&quot;Count Map: &quot; + counts);\n        System.out.println(&quot;Ingredient Map: &quot; + testMenu + &quot;\\n&quot;);\n        \n        List&lt;String&gt; ingredients = new ArrayList&lt;&gt;();\n        \n        /* Access both key/value with entrySet() */\n        for(Map.Entry&lt;Long, Integer&gt; entry : counts.entrySet()) {\n            long key = entry.getKey();\n            int val = entry.getValue();\n            for(int i = 0; i &lt; val; i++) {\n                ingredients.add(testMenu.get(key));\n            }\n            counts.put(key, counts.get(key) - val);\n        }\n        \n        System.out.println(&quot;List of ingredients: &quot; + ingredients);\n        System.out.println(&quot;Updated Count Map: &quot; + counts);\n    }\n</code></pre>\n<p>This is the output:</p>\n<pre><code>Count Map: {17=2, 66=1}\nIngredient Map: {17=fleisch, 66=kaese, 42=gurken}\n\nList of ingredients: [fleisch, fleisch, kaese]\nUpdated Count Map: {17=0, 66=0}\n</code></pre>\n<p>Note, keys and values are immutable when you use the Map.of() method.\nI used strings instead of your Ingredients class object in the map, but you can modify the code with a little tinkering. If your having an issue, let me know.</p>\n"}],"owner":{"account_id":26624495,"reputation":25,"user_id":20242740,"display_name":"Escanor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74447748,"answer_count":1,"score":0,"last_activity_date":1668707213,"creation_date":1668520175,"question_id":74446747,"body_markdown":"So I have two maps. First one (idsandcount) has the id as key and number ordered as count. Second map has id as key and ingredient as value. How do implement a method that gives a list with an arraylist?\r\n\r\n\r\n```\r\npublic static List&lt;Ingredient&gt; ingredientsFromIdAndCount(Map&lt;Long, Integer&gt; idsAndCount, Map&lt;Long, Ingredient&gt; articles) {\r\n\r\n    Map&lt;Ingredient, Long&gt; inversedArt = new HashMap&lt;&gt;();\r\n    articles.forEach((key, value) -&gt; inversedArt.put((value), key));\r\n\r\n    \r\n    \r\n    List&lt;Ingredient&gt; ingredientList = new ArrayList&lt;&gt;();\r\n    for (Ingredient art : articles.values()) ingredientList.add(art);\r\n\r\n\r\n    return ingredientList;\r\n```\r\n\r\nFrom Test class:\r\n\r\n```\r\n@Test\r\n@DisplayName(&quot;should get the ingredients from the passed menu in the stated quantities of the input map&quot;)\r\nvoid ingredientsFromIdAndCount() {\r\n    Map&lt;Long, Integer&gt; counts = Map.of(\r\n            66L, 1,\r\n            17L, 2);\r\n```\r\n\r\n\r\n```\r\nprivate final Map&lt;Long, Ingredient&gt; testMenu = Map.of(\r\n        42L, gurken,\r\n        66L, kaese,\r\n        17L, fleisch);\r\n\r\n        List&lt;Ingredient&gt; expected = List.of(kaese, fleisch, fleisch);\r\n        List&lt;Ingredient&gt; actual = \r\n        MenuUtils.ingredientsFromIdAndCount(counts, testMenu);\r\n```\r\n\r\nI basically want an arraylist of kaese, fleisch, fleisch.\r\n\r\n\r\nI have tried inversing(don&#39;t know if i need it here). My main thought was to get an arraylist of the ids from the first map. An arraylist of 66, 17, 17 to then get the values from the second map using these key. Problem is I just started working with maps and arraylists, so its very confusing at the moment.","title":"2 Maps with same key. Counting keys","body":"<p>So I have two maps. First one (idsandcount) has the id as key and number ordered as count. Second map has id as key and ingredient as value. How do implement a method that gives a list with an arraylist?</p>\n<pre><code>public static List&lt;Ingredient&gt; ingredientsFromIdAndCount(Map&lt;Long, Integer&gt; idsAndCount, Map&lt;Long, Ingredient&gt; articles) {\n\n    Map&lt;Ingredient, Long&gt; inversedArt = new HashMap&lt;&gt;();\n    articles.forEach((key, value) -&gt; inversedArt.put((value), key));\n\n    \n    \n    List&lt;Ingredient&gt; ingredientList = new ArrayList&lt;&gt;();\n    for (Ingredient art : articles.values()) ingredientList.add(art);\n\n\n    return ingredientList;\n</code></pre>\n<p>From Test class:</p>\n<pre><code>@Test\n@DisplayName(&quot;should get the ingredients from the passed menu in the stated quantities of the input map&quot;)\nvoid ingredientsFromIdAndCount() {\n    Map&lt;Long, Integer&gt; counts = Map.of(\n            66L, 1,\n            17L, 2);\n</code></pre>\n<pre><code>private final Map&lt;Long, Ingredient&gt; testMenu = Map.of(\n        42L, gurken,\n        66L, kaese,\n        17L, fleisch);\n\n        List&lt;Ingredient&gt; expected = List.of(kaese, fleisch, fleisch);\n        List&lt;Ingredient&gt; actual = \n        MenuUtils.ingredientsFromIdAndCount(counts, testMenu);\n</code></pre>\n<p>I basically want an arraylist of kaese, fleisch, fleisch.</p>\n<p>I have tried inversing(don't know if i need it here). My main thought was to get an arraylist of the ids from the first map. An arraylist of 66, 17, 17 to then get the values from the second map using these key. Problem is I just started working with maps and arraylists, so its very confusing at the moment.</p>\n"},{"tags":["java","pdf","rtf"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":2,"creation_date":1312208614,"post_id":6899709,"comment_id":8214715,"body_markdown":"Any reason you cannot script Office to open the file and print to a PDF-printer?","body":"Any reason you cannot script Office to open the file and print to a PDF-printer?"},{"owner":{"account_id":801010,"reputation":53,"user_id":872465,"accept_rate":25,"display_name":"iaragorn"},"score":0,"creation_date":1312210270,"post_id":6899709,"comment_id":8215334,"body_markdown":"In java? No idea how to do that.","body":"In java? No idea how to do that."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1312214683,"post_id":6899709,"comment_id":8216641,"body_markdown":"using Office scripting tools.  Only use Java to launch those.","body":"using Office scripting tools.  Only use Java to launch those."},{"owner":{"account_id":801010,"reputation":53,"user_id":872465,"accept_rate":25,"display_name":"iaragorn"},"score":0,"creation_date":1312269192,"post_id":6899709,"comment_id":8226975,"body_markdown":"but it requires Microsoft Office. And I have no information that microsoft office is able print to pdf","body":"but it requires Microsoft Office. And I have no information that microsoft office is able print to pdf"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1312270316,"post_id":6899709,"comment_id":8227190,"body_markdown":"Office gives the best result.  You can install a third party printer which does not print to a physical printer, but a PDF file.  Also modern versions of office can install a &quot;print to PDF&quot; plugin.","body":"Office gives the best result.  You can install a third party printer which does not print to a physical printer, but a PDF file.  Also modern versions of office can install a &quot;print to PDF&quot; plugin."},{"owner":{"account_id":801010,"reputation":53,"user_id":872465,"accept_rate":25,"display_name":"iaragorn"},"score":0,"creation_date":1312291074,"post_id":6899709,"comment_id":8232768,"body_markdown":"Ok but I am still missing something. How can I call Ms office from java code?","body":"Ok but I am still missing something. How can I call Ms office from java code?"},{"owner":{"account_id":801010,"reputation":53,"user_id":872465,"accept_rate":25,"display_name":"iaragorn"},"score":0,"creation_date":1312361682,"post_id":6899709,"comment_id":8248785,"body_markdown":"but any way Ms Office is not for free","body":"but any way Ms Office is not for free"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1312361770,"post_id":6899709,"comment_id":8248808,"body_markdown":"please edit your question to include all requirements.","body":"please edit your question to include all requirements."},{"owner":{"account_id":801010,"reputation":53,"user_id":872465,"accept_rate":25,"display_name":"iaragorn"},"score":0,"creation_date":1312552751,"post_id":6899709,"comment_id":8295240,"body_markdown":"do you know how to open document with word viewer from powershell?","body":"do you know how to open document with word viewer from powershell?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1312568910,"post_id":6899709,"comment_id":8300250,"body_markdown":"no, but if you want 100% compatibility with Office, you need Office to do it.  Consider asking a new question about how to script Office to print to a given printer.","body":"no, but if you want 100% compatibility with Office, you need Office to do it.  Consider asking a new question about how to script Office to print to a given printer."}],"answers":[{"tags":[],"owner":{"account_id":76090,"reputation":1408,"user_id":218065,"accept_rate":100,"display_name":"Shahzad Latif"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1312278672,"creation_date":1312278672,"answer_id":6910179,"question_id":6899709,"body_markdown":"You may try [Aspose.Words for Java][1] to convert RTF file to PDF format. You can [load a file in RTF format into Aspose.Words for Java][2] and then [save it to PDF format][3]. Please note that while loading specify RTF as LoadFormat value and pass PDF as SaveFormat value while saving the document. This doesn&#39;t require OpenOffice or any other software to be installed for the conversion to work. \r\n\r\nDisclosure: I work as developer evangelist at Aspose.\r\n\r\n\r\n  [1]: http://www.aspose.com/categories/java-components/aspose.words-for-java/default.aspx\r\n  [2]: http://www.aspose.com/documentation/java-components/aspose.words-for-java/load-or-create-a-document.html\r\n  [3]: http://www.aspose.com/documentation/java-components/aspose.words-for-java/save-a-document.html","title":"Java generate PDF from RTF","body":"<p>You may try <a href=\"http://www.aspose.com/categories/java-components/aspose.words-for-java/default.aspx\" rel=\"nofollow\">Aspose.Words for Java</a> to convert RTF file to PDF format. You can <a href=\"http://www.aspose.com/documentation/java-components/aspose.words-for-java/load-or-create-a-document.html\" rel=\"nofollow\">load a file in RTF format into Aspose.Words for Java</a> and then <a href=\"http://www.aspose.com/documentation/java-components/aspose.words-for-java/save-a-document.html\" rel=\"nofollow\">save it to PDF format</a>. Please note that while loading specify RTF as LoadFormat value and pass PDF as SaveFormat value while saving the document. This doesn't require OpenOffice or any other software to be installed for the conversion to work. </p>\n\n<p>Disclosure: I work as developer evangelist at Aspose.</p>\n"},{"tags":[],"owner":{"account_id":1072500,"reputation":1,"user_id":1071440,"display_name":"iaragorn"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1322575577,"creation_date":1322575577,"answer_id":8312067,"question_id":6899709,"body_markdown":"Best way to do it is use MS Office. And Ms Office is able to save file in PDF format (you need install some addons I think).","title":"Java generate PDF from RTF","body":"<p>Best way to do it is use MS Office. And Ms Office is able to save file in PDF format (you need install some addons I think).</p>\n"},{"tags":[],"owner":{"account_id":307435,"reputation":24224,"user_id":618728,"accept_rate":68,"display_name":"Mr.Wizard"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1322576036,"creation_date":1322576036,"answer_id":8312185,"question_id":6899709,"body_markdown":"Under Windows you could print to [CutePDF Writer](http://www.cutepdf.com/products/cutepdf/writer.asp).  This freeware uses Ghostscript as a back end.","title":"Java generate PDF from RTF","body":"<p>Under Windows you could print to <a href=\"http://www.cutepdf.com/products/cutepdf/writer.asp\" rel=\"nofollow\">CutePDF Writer</a>.  This freeware uses Ghostscript as a back end.</p>\n"},{"tags":[],"owner":{"account_id":14313923,"reputation":8884,"user_id":10802527,"display_name":"K J"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668706717,"creation_date":1668706717,"answer_id":74479827,"question_id":6899709,"body_markdown":"Windows has native convert RTF to PDF using command line, however it will to a degree be limited, so it will use direct convert text and images, but it will depend on rtf syntax as to which drawn objects are supported. WORD ART drawing objects need MS Word to print\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe output looks reasonable but **here is the source in MSWord** where the art was clearly not handled by the non-word printout.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FbkHt.png\r\n  [2]: https://i.stack.imgur.com/caIqb.png","title":"Java generate PDF from RTF","body":"<p>Windows has native convert RTF to PDF using command line, however it will to a degree be limited, so it will use direct convert text and images, but it will depend on rtf syntax as to which drawn objects are supported. WORD ART drawing objects need MS Word to print</p>\n<p><a href=\"https://i.stack.imgur.com/FbkHt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FbkHt.png\" alt=\"enter image description here\" /></a></p>\n<p>The output looks reasonable but <strong>here is the source in MSWord</strong> where the art was clearly not handled by the non-word printout.</p>\n<p><a href=\"https://i.stack.imgur.com/caIqb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/caIqb.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":801010,"reputation":53,"user_id":872465,"accept_rate":25,"display_name":"iaragorn"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2801,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1668706717,"creation_date":1312207991,"question_id":6899709,"body_markdown":"I want to generate PDF file from RTF file. \r\nI have tried following.\r\n\r\n1. Itext\r\nIt&#39;s already outdated and new version doesn&#39;t support rtf.\r\n\r\n2. JDocConverter\r\nIt uses OpenOffice on the background. it is working fine, there is only one problem. Open office doesn&#39;t support drawing object in RTF. \r\n\r\nAny other possible and reliable solutions?\r\n\r\nNote: It would be fine don&#39;t use any commercial software.\r\n","title":"Java generate PDF from RTF","body":"<p>I want to generate PDF file from RTF file. \nI have tried following.</p>\n\n<ol>\n<li><p>Itext\nIt's already outdated and new version doesn't support rtf.</p></li>\n<li><p>JDocConverter\nIt uses OpenOffice on the background. it is working fine, there is only one problem. Open office doesn't support drawing object in RTF. </p></li>\n</ol>\n\n<p>Any other possible and reliable solutions?</p>\n\n<p>Note: It would be fine don't use any commercial software.</p>\n"},{"tags":["java","jar","manifest","instrumentation"],"answers":[{"tags":[],"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1553079887,"creation_date":1553079887,"answer_id":55259245,"question_id":55259056,"body_markdown":"The `MANIFEST` specification doesn&#39;t seem to allow spaces after the **key**, but only before the **value**.\r\n\r\n    header: alphanum *headerchar &quot;:&quot; SPACE *otherchar newline\r\n              *continuation\r\n\r\nSo this\r\n\r\n    Premain-Class : Agent\r\n\r\nshould become\r\n\r\n    Premain-Class: Agent\r\n\r\nAlso, put your `Agent` under a package, don&#39;t use the default one\r\n\r\n    Premain-Class: your.package.Agent","title":"Failed to find Premain-Class manifest attribute from a jar file","body":"<p>The <code>MANIFEST</code> specification doesn't seem to allow spaces after the <strong>key</strong>, but only before the <strong>value</strong>.</p>\n\n<pre><code>header: alphanum *headerchar \":\" SPACE *otherchar newline\n          *continuation\n</code></pre>\n\n<p>So this</p>\n\n<pre><code>Premain-Class : Agent\n</code></pre>\n\n<p>should become</p>\n\n<pre><code>Premain-Class: Agent\n</code></pre>\n\n<p>Also, put your <code>Agent</code> under a package, don't use the default one</p>\n\n<pre><code>Premain-Class: your.package.Agent\n</code></pre>\n"}],"owner":{"account_id":6712423,"reputation":319,"user_id":5604048,"display_name":"octopus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7967,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":55259245,"answer_count":1,"score":2,"last_activity_date":1668706652,"creation_date":1553079224,"question_id":55259056,"body_markdown":"I created a jar from a single .class and I mentioned in the manifest the Premain-class, the jar was generated as expected but when I try to run a program that uses the class from that jar , I get an error\r\n\r\nMANIFEST.MD\r\n\r\n    Premain-Class : Agent\r\n\r\nAgent.java\r\n\r\n    import java.lang.instrument.Instrumentation;\r\n    public class Agent{\r\n        private static Instrumentation inst;\r\n        public static void premain(String paramString, Instrumentation paramInstrumentation) \r\n        { \r\n            inst = paramInstrumentation;\r\n        }\r\n        \r\n        public static long size(Object paramObject)\r\n        {\r\n            return inst.getObjectSize(paramObject);\r\n        }\r\n    }\r\n\r\nTest.java\r\n\r\n    public class Test {\r\n\r\n\t  public static void main (String[] args){\r\n\t\tSystem.out.println(Agent.size(Integer.valueOf(9)));\r\n\t  }\r\n    }\r\n\r\nWhen I get the Agent.class, in the same folder where MANIFEST.MD file exist I execute the following command\r\n\r\n    jar -cvfm agent.jar MANIFEST.MF *.class\r\n\r\n\r\nand when I get the the jar I run the Test, after compiling it, as follow \r\n\r\n    java -javaagent:agent.jar Test\r\n\r\nand I get the following error\r\n\r\n    Failed to find Premain-Class manifest attribute in agent.jar\r\n    Error occurred during initialization of VM\r\n    agent library failed to init: instrument\r\n\r\nam I missing something ? thanks in advance \r\n\r\n ","title":"Failed to find Premain-Class manifest attribute from a jar file","body":"<p>I created a jar from a single .class and I mentioned in the manifest the Premain-class, the jar was generated as expected but when I try to run a program that uses the class from that jar , I get an error</p>\n\n<p>MANIFEST.MD</p>\n\n<pre><code>Premain-Class : Agent\n</code></pre>\n\n<p>Agent.java</p>\n\n<pre><code>import java.lang.instrument.Instrumentation;\npublic class Agent{\n    private static Instrumentation inst;\n    public static void premain(String paramString, Instrumentation paramInstrumentation) \n    { \n        inst = paramInstrumentation;\n    }\n\n    public static long size(Object paramObject)\n    {\n        return inst.getObjectSize(paramObject);\n    }\n}\n</code></pre>\n\n<p>Test.java</p>\n\n<pre><code>public class Test {\n\n  public static void main (String[] args){\n    System.out.println(Agent.size(Integer.valueOf(9)));\n  }\n}\n</code></pre>\n\n<p>When I get the Agent.class, in the same folder where MANIFEST.MD file exist I execute the following command</p>\n\n<pre><code>jar -cvfm agent.jar MANIFEST.MF *.class\n</code></pre>\n\n<p>and when I get the the jar I run the Test, after compiling it, as follow </p>\n\n<pre><code>java -javaagent:agent.jar Test\n</code></pre>\n\n<p>and I get the following error</p>\n\n<pre><code>Failed to find Premain-Class manifest attribute in agent.jar\nError occurred during initialization of VM\nagent library failed to init: instrument\n</code></pre>\n\n<p>am I missing something ? thanks in advance </p>\n"},{"tags":["java","spring","data-structures","compiler-errors","runtime-error"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1668562036,"post_id":74454060,"comment_id":131434237,"body_markdown":"`ProductKTORestResponse` contains three different `Map&lt;String, Map&lt;String, String&gt;&gt;` and a `List&lt;ProductKTOResponseParts&gt;` (in addition to any members which might be in `BaseResponse `. What would be in the `Map&lt;String, Object&gt;` resulting from a `ProductKTORestResponse` instance?","body":"<code>ProductKTORestResponse</code> contains three different <code>Map&lt;String, Map&lt;String, String&gt;&gt;</code> and a <code>List&lt;ProductKTOResponseParts&gt;</code> (in addition to any members which might be in <code>BaseResponse </code>. What would be in the <code>Map&lt;String, Object&gt;</code> resulting from a <code>ProductKTORestResponse</code> instance?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1668562390,"post_id":74454060,"comment_id":131434302,"body_markdown":"And please show the code you&#39;re trying to use to transform it -- I don&#39;t see `ktoconfigurableproduct` in the code you&#39;ve shown.","body":"And please show the code you&#39;re trying to use to transform it -- I don&#39;t see <code>ktoconfigurableproduct</code> in the code you&#39;ve shown."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1668563754,"post_id":74454060,"comment_id":131434547,"body_markdown":"If you&#39;re trying to cast an instance of `ProductKTOResponseParts` into a `Map` then it would fail, because your domain object is **not** a Map, it contains some Maps. You don&#39;t have to be a phone in order to use a phone. That said, it&#39;s not clear what advantage you&#39;re going to gain from combining all Maps contained within `ProductKTOResponseParts` into a `Map&lt;String, Object&gt;`? There&#39;s a little you can do with its values without type checking and cast, apart from printing.","body":"If you&#39;re trying to cast an instance of <code>ProductKTOResponseParts</code> into a <code>Map</code> then it would fail, because your domain object is <b>not</b> a Map, it contains some Maps. You don&#39;t have to be a phone in order to use a phone. That said, it&#39;s not clear what advantage you&#39;re going to gain from combining all Maps contained within <code>ProductKTOResponseParts</code> into a <code>Map&lt;String, Object&gt;</code>? There&#39;s a little you can do with its values without type checking and cast, apart from printing."},{"owner":{"account_id":11756706,"reputation":11,"user_id":12502870,"display_name":"Anna"},"score":0,"creation_date":1668615491,"post_id":74454060,"comment_id":131449982,"body_markdown":"BaseResponse only have one &quot;private Long expire;&quot;","body":"BaseResponse only have one &quot;private Long expire;&quot;"},{"owner":{"account_id":11756706,"reputation":11,"user_id":12502870,"display_name":"Anna"},"score":0,"creation_date":1668615593,"post_id":74454060,"comment_id":131450027,"body_markdown":"&quot;ktoconfigurableproduct&quot; is the same as &quot;ProductKTORestResponse&quot;.","body":"&quot;ktoconfigurableproduct&quot; is the same as &quot;ProductKTORestResponse&quot;."}],"owner":{"account_id":11756706,"reputation":11,"user_id":12502870,"display_name":"Anna"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668706364,"creation_date":1668561640,"question_id":74454060,"body_markdown":"I am new to Java, but not new to programming. \r\nRight now I have a two class defined my service response structure. They looked like that: class and subclass, which will be my service response structure.\r\n\r\nI am writing a gateway service, which will call other services. One service&#39;s response is &quot;ktoconfigurableproduct&quot;, which is the same structure as &quot;ProductKTORestResponse&quot;. What I need to do is add one more value &quot;expire&quot; to my &quot;ProductKTORestResponse&quot; response. \r\n\r\n```\r\n{\r\n    @Data\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class ProductKTORestResponse extends BaseResponse implements RestMessage {\r\n\r\n        private Map&lt;String, Map&lt;String, String&gt;&gt; groupMetadata;\r\n\r\n        private List&lt;ProductKTOResponseParts&gt; kits;\r\n\r\n        private Map&lt;String, Map&lt;String, String&gt;&gt; optionProductFacetAttributeMap;\r\n\r\n        private Map&lt;String, Map&lt;String, String&gt;&gt; optionValueMetadata;\r\n   }\r\n\r\n    @Data\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class ProductKTOResponseParts {\r\n        @NotEmpty\r\n        private String partNumber;\r\n\r\n        private Map&lt;String, Collection&lt;String&gt;&gt; groupKeyOptionValues;\r\n\r\n        private Map&lt;String, String&gt; selectedOptions;\r\n\r\n        private String type;\r\n\r\n        private Map&lt;String, List&lt;String&gt;&gt; optionConstraints;\r\n}\r\npublic class BaseResponse implements Serializable {\r\n\r\n    @JsonProperty(value = &quot;expire&quot;)\r\n    private Long expire;\r\n\r\n}\r\n```\r\n\r\nIs there a way to transform &quot;ProductKTORestResponse&quot; to `Map&lt;String,?&gt;` or `Map&lt;String, Object&gt;`?\r\nThanks for any comments.\r\n\r\n\r\nI tried to transform it directly. But I got\r\n\r\n```\r\nunchecked cast: &#39;com.apple.store.product.kto.domain.ktoconfigurableproduct&#39; to &#39;java.util.map&lt;java.lang.string,java.lang.object&gt;&#39;\r\n```\r\n","title":"java data structure transformer(class &quot;ProductKTORestResponse&quot; to Map&lt;String,?&gt; or Map&lt;String, Object&gt;?)","body":"<p>I am new to Java, but not new to programming.\nRight now I have a two class defined my service response structure. They looked like that: class and subclass, which will be my service response structure.</p>\n<p>I am writing a gateway service, which will call other services. One service's response is &quot;ktoconfigurableproduct&quot;, which is the same structure as &quot;ProductKTORestResponse&quot;. What I need to do is add one more value &quot;expire&quot; to my &quot;ProductKTORestResponse&quot; response.</p>\n<pre><code>{\n    @Data\n    @Builder\n    @NoArgsConstructor\n    @AllArgsConstructor\n    public class ProductKTORestResponse extends BaseResponse implements RestMessage {\n\n        private Map&lt;String, Map&lt;String, String&gt;&gt; groupMetadata;\n\n        private List&lt;ProductKTOResponseParts&gt; kits;\n\n        private Map&lt;String, Map&lt;String, String&gt;&gt; optionProductFacetAttributeMap;\n\n        private Map&lt;String, Map&lt;String, String&gt;&gt; optionValueMetadata;\n   }\n\n    @Data\n    @Builder\n    @NoArgsConstructor\n    @AllArgsConstructor\n    public class ProductKTOResponseParts {\n        @NotEmpty\n        private String partNumber;\n\n        private Map&lt;String, Collection&lt;String&gt;&gt; groupKeyOptionValues;\n\n        private Map&lt;String, String&gt; selectedOptions;\n\n        private String type;\n\n        private Map&lt;String, List&lt;String&gt;&gt; optionConstraints;\n}\npublic class BaseResponse implements Serializable {\n\n    @JsonProperty(value = &quot;expire&quot;)\n    private Long expire;\n\n}\n</code></pre>\n<p>Is there a way to transform &quot;ProductKTORestResponse&quot; to <code>Map&lt;String,?&gt;</code> or <code>Map&lt;String, Object&gt;</code>?\nThanks for any comments.</p>\n<p>I tried to transform it directly. But I got</p>\n<pre><code>unchecked cast: 'com.apple.store.product.kto.domain.ktoconfigurableproduct' to 'java.util.map&lt;java.lang.string,java.lang.object&gt;'\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1274069,"reputation":1405,"user_id":7925098,"accept_rate":83,"display_name":"Omari Celestine"},"score":0,"creation_date":1555188840,"post_id":55669616,"comment_id":98025784,"body_markdown":"for the method `isValidSearchTree()`, what defines a valid search tree?","body":"for the method <code>isValidSearchTree()</code>, what defines a valid search tree?"},{"owner":{"account_id":15240508,"reputation":1895,"user_id":11143190,"display_name":"Zain Arshad"},"score":0,"creation_date":1555191247,"post_id":55669616,"comment_id":98026383,"body_markdown":"so you got what want or you need more clarification?","body":"so you got what want or you need more clarification?"}],"answers":[{"tags":[],"owner":{"account_id":3921090,"reputation":463,"user_id":3243202,"display_name":"michael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555188085,"creation_date":1555188085,"answer_id":55669684,"question_id":55669616,"body_markdown":"If you could provide a recursive attempt that you made of `sum()`, I will be able to help you much easier. I&#39;ll update this answer with something more comprehensive once you provide an example.\r\n\r\nAs a general hint/tip, when dealing with recursion and binary trees:\r\n\r\n 1. Draw it out and trace a possible solution. This can help you visualize what you need to code.\r\n 2. For any given node, you want to visit all of its children. This means if it only has one child (left or right) you visit that child, if it has two (left and right) you visit both, and if you do not have any children, you terminate (that&#39;s a pretty big base case hint right there).","title":"Creating recursive methods given BinaryTree","body":"<p>If you could provide a recursive attempt that you made of <code>sum()</code>, I will be able to help you much easier. I'll update this answer with something more comprehensive once you provide an example.</p>\n\n<p>As a general hint/tip, when dealing with recursion and binary trees:</p>\n\n<ol>\n<li>Draw it out and trace a possible solution. This can help you visualize what you need to code.</li>\n<li>For any given node, you want to visit all of its children. This means if it only has one child (left or right) you visit that child, if it has two (left and right) you visit both, and if you do not have any children, you terminate (that's a pretty big base case hint right there).</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":13239944,"reputation":387,"user_id":9560851,"display_name":"William Torkington"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1555189371,"creation_date":1555189371,"answer_id":55669860,"question_id":55669616,"body_markdown":"First of all I think you have too many questions, but with [this meta discussion in mind][1], I&#39;ll walk through the recursive sum function and explain how to tackle a problem like these recursively.\r\n\r\nThese algorithms all appear to require [depth first search][2] so I recommend you also check out the linked video.\r\n\r\nThe neat thing about recursion is allows us to think only about what each particular node has to do. For the sum example, that means returning the value it has stored, plus the recursive sum of its children. \r\n\r\n```\r\npublic int exampleSum(){\r\n   // Start with the data we have.\r\n   int sum = this.getData();\r\n\r\n   // Then get the data we need (from each child, which can be done recursively).\r\n   if (this.getLeftChild() != null) {\r\n       sum += this.getLeftChild().exampleSum();\r\n   }\r\n   // Do the same for the right node.\r\n\r\n   return sum; \r\n}\r\n```\r\n\r\nWhat this equates to is going through each node, and getting the sum of each subtree. \r\n\r\nImagine its a group of people standing in the shape of a binary tree, where everyone has a &#39;parent&#39; and 0 to 2 &#39;children&#39;, and they all hold a number. \r\n\r\nInstead of someone going through and asking each person what their number is and adding them all up (looping), we start at the top, the first person asks their children for their sum, and their children ask their children, etc (recursion). \r\n\r\nEach person adds the number their children gave them to their number, then hands it to their parent.\r\n\r\nThe two special cases are when the person has no children, so they stop and just hand their number to their parent, and the &#39;root&#39; node who gives their number to whatever function asked them in the first place.\r\n\r\nI recommend drawing a binary search tree and going through this algorithm yourself.\r\n\r\nI hope this was helpful, and if it was could you like this answer. \r\n\r\nIn future I recommend asking one question at a time. Good luck with your test!\r\n\r\n  [1]: https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions\r\n  [2]: https://www.youtube.com/watch?v=d_C-kq71sYk","title":"Creating recursive methods given BinaryTree","body":"<p>First of all I think you have too many questions, but with <a href=\"https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions\">this meta discussion in mind</a>, I'll walk through the recursive sum function and explain how to tackle a problem like these recursively.</p>\n\n<p>These algorithms all appear to require <a href=\"https://www.youtube.com/watch?v=d_C-kq71sYk\" rel=\"nofollow noreferrer\">depth first search</a> so I recommend you also check out the linked video.</p>\n\n<p>The neat thing about recursion is allows us to think only about what each particular node has to do. For the sum example, that means returning the value it has stored, plus the recursive sum of its children. </p>\n\n<pre><code>public int exampleSum(){\n   // Start with the data we have.\n   int sum = this.getData();\n\n   // Then get the data we need (from each child, which can be done recursively).\n   if (this.getLeftChild() != null) {\n       sum += this.getLeftChild().exampleSum();\n   }\n   // Do the same for the right node.\n\n   return sum; \n}\n</code></pre>\n\n<p>What this equates to is going through each node, and getting the sum of each subtree. </p>\n\n<p>Imagine its a group of people standing in the shape of a binary tree, where everyone has a 'parent' and 0 to 2 'children', and they all hold a number. </p>\n\n<p>Instead of someone going through and asking each person what their number is and adding them all up (looping), we start at the top, the first person asks their children for their sum, and their children ask their children, etc (recursion). </p>\n\n<p>Each person adds the number their children gave them to their number, then hands it to their parent.</p>\n\n<p>The two special cases are when the person has no children, so they stop and just hand their number to their parent, and the 'root' node who gives their number to whatever function asked them in the first place.</p>\n\n<p>I recommend drawing a binary search tree and going through this algorithm yourself.</p>\n\n<p>I hope this was helpful, and if it was could you like this answer. </p>\n\n<p>In future I recommend asking one question at a time. Good luck with your test!</p>\n"},{"tags":[],"owner":{"account_id":15240508,"reputation":1895,"user_id":11143190,"display_name":"Zain Arshad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1555193195,"creation_date":1555193195,"answer_id":55670271,"question_id":55669616,"body_markdown":"You should study the **power** of `recursion`, but I have coded the methods that you asked for, all these are working like a charm:\r\n\r\n\t\r\n\t/*\r\n\t* INPUT:   Root node\r\n\t* OUTPUT:  Sum of the data of all nodes of tree\r\n\t*/\r\n\t\r\n\tpublic void sum(TreeNode node)\r\n\t{\r\n\t\tif(node == null)\r\n\t\t\treturn;\r\n\t\r\n\t\tsum(node.leftNode);  // recursive call to left subtree of each node\r\n\t\tsum += node.data;\r\n\t\tsum(node.rightNode);  // recursive call to right subtree of each node\r\n\t}\r\n\t\r\n\t\r\n\t/*\r\n\t* INPUT:   Root node , threshold value\r\n\t* OUTPUT:  sum of all node&#39;s data, that rae greater than &quot;value&quot;\r\n\t*/\r\n\t\r\n\tpublic void countGreaterThan(TreeNode node, int value)\r\n\t{\r\n\t\tif(node == null)\r\n\t\t\treturn;\r\n\t\r\n\t\tcountGreaterThan(node.leftNode,value);\r\n\t\tif( node.data &gt; value)    // only adds is node.data is greater than given value \r\n\t\t\tsum += node.data;\r\n\t\tcountGreaterThan(node.rightNode,value);\r\n\t}\t\r\n\t\t\t\r\n\t/*\r\n\t* INPUT:  nothing\r\n\t* OUTPUT:  call to its helper function, taking MIN, MAX, and root as input\r\n\t*/\r\n\r\n\tpublic boolean isBST()  \r\n\t{ \r\n        return isBSThelper(root, Integer.MIN_VALUE,  Integer.MAX_VALUE); \r\n    } \t\r\n\t\r\n\tpublic boolean isBSThelper(TreeNode node, int min, int max) \r\n    { \r\n        if (node == null)   //empty tree is always a BST \r\n            return true; \r\n  \r\n        if (node.data &lt; min || node.data &gt; max) //if node breaks the min/max condition \r\n            return false; \r\n  \r\n        // recursive call to left subtree and right subtree\r\n        return (isBSThelper(node.leftNode, min, node.data-1) &amp;&amp; isBSThelper(node.rightNode, node.data+1, max)); \r\n    } ","title":"Creating recursive methods given BinaryTree","body":"<p>You should study the <strong>power</strong> of <code>recursion</code>, but I have coded the methods that you asked for, all these are working like a charm:</p>\n\n<pre><code>/*\n* INPUT:   Root node\n* OUTPUT:  Sum of the data of all nodes of tree\n*/\n\npublic void sum(TreeNode node)\n{\n    if(node == null)\n        return;\n\n    sum(node.leftNode);  // recursive call to left subtree of each node\n    sum += node.data;\n    sum(node.rightNode);  // recursive call to right subtree of each node\n}\n\n\n/*\n* INPUT:   Root node , threshold value\n* OUTPUT:  sum of all node's data, that rae greater than \"value\"\n*/\n\npublic void countGreaterThan(TreeNode node, int value)\n{\n    if(node == null)\n        return;\n\n    countGreaterThan(node.leftNode,value);\n    if( node.data &gt; value)    // only adds is node.data is greater than given value \n        sum += node.data;\n    countGreaterThan(node.rightNode,value);\n}   \n\n/*\n* INPUT:  nothing\n* OUTPUT:  call to its helper function, taking MIN, MAX, and root as input\n*/\n\npublic boolean isBST()  \n{ \n    return isBSThelper(root, Integer.MIN_VALUE,  Integer.MAX_VALUE); \n}   \n\npublic boolean isBSThelper(TreeNode node, int min, int max) \n{ \n    if (node == null)   //empty tree is always a BST \n        return true; \n\n    if (node.data &lt; min || node.data &gt; max) //if node breaks the min/max condition \n        return false; \n\n    // recursive call to left subtree and right subtree\n    return (isBSThelper(node.leftNode, min, node.data-1) &amp;&amp; isBSThelper(node.rightNode, node.data+1, max)); \n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":26965679,"reputation":1,"user_id":20532580,"display_name":"user20532580"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668706264,"creation_date":1668706264,"answer_id":74479728,"question_id":55669616,"body_markdown":"I figured it out! the other guy was close but his method didn&#39;t work, it did put me on the right path however.\r\n\r\n          int sumNodes(BinaryNode&lt;Integer&gt; root)\r\n          {\r\n              int sum = 0;\r\n              if(root == null){\r\n                  return 0;\r\n              }\r\n    \r\n              if (root.getLeft() != null) {\r\n                  sum += sumNodes(root.getLeft());\r\n              }\r\n   \r\n              if (root.getRight() != null) {\r\n                   sum += sumNodes(root.getRight());\r\n              }\r\n              sum+= root.getValue();\r\n              return sum;\r\n    \r\n        }\r\n","title":"Creating recursive methods given BinaryTree","body":"<p>I figured it out! the other guy was close but his method didn't work, it did put me on the right path however.</p>\n<pre><code>      int sumNodes(BinaryNode&lt;Integer&gt; root)\n      {\n          int sum = 0;\n          if(root == null){\n              return 0;\n          }\n\n          if (root.getLeft() != null) {\n              sum += sumNodes(root.getLeft());\n          }\n\n          if (root.getRight() != null) {\n               sum += sumNodes(root.getRight());\n          }\n          sum+= root.getValue();\n          return sum;\n\n    }\n</code></pre>\n"}],"owner":{"account_id":15554180,"reputation":151,"user_id":11233696,"display_name":"GilmoreGirling"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":411,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":55669860,"answer_count":4,"score":0,"last_activity_date":1668706264,"creation_date":1555187521,"question_id":55669616,"body_markdown":"I&#39;m studying for a test in a few hours, and I&#39;m going over some practice problems but I&#39;m really having trouble with recursion related problems. I was wondering if someone could walk me through how to do these? \r\n\r\nUsing the `BinaryTree class` below, create the following `recursive` methods: \r\n\r\n - `sum()` – returns the sum of all values in the BinaryTree. \r\n - `countGreaterThan(int)` – returns the number of nodes that have values greater than the specified integer. \r\n - `isValidSearchTree()` – returns true if the Binary Tree is a valid search tree and false otherwise. \r\n\r\nI get the basic premise of how to create these functions like for example, for the sum function it&#39;d usually go something like:\r\n\r\n    int sum = 0\r\n    for(int i; i&lt;binaryTree.size(); i++){\r\n        sum += binaryTree[i]\r\n    }\r\n\r\nOr something similar. But I don&#39;t really know how to apply these concepts to a `BinaryTree` with `nodes` and make them `recursive` as well? The code I&#39;m provided with is given below.\r\n\r\n    public class BinaryTree {\r\n     private int data;\r\n     private BinaryTree leftChild;\r\n     private BinaryTree rightChild;\r\n\r\n     public BinaryTree(int val) {\r\n         data = val;\r\n         leftChild = null;\r\n         rightChild = null;\r\n      }\r\n\r\n      // Get methods\r\n     public int getData() { return data; }\r\n     public BinaryTree getLeftChild() { return leftChild; }\r\n     public BinaryTree getRightChild() { return rightChild; }\r\n\r\n     // Set methods\r\n     public void setData(int val) { data = val; }\r\n     public void setLeftChild(BinaryTree left) { leftChild = left; }\r\n     public void setRightChild(BinaryTree right) { rightChild = right; }\r\n    }","title":"Creating recursive methods given BinaryTree","body":"<p>I'm studying for a test in a few hours, and I'm going over some practice problems but I'm really having trouble with recursion related problems. I was wondering if someone could walk me through how to do these? </p>\n\n<p>Using the <code>BinaryTree class</code> below, create the following <code>recursive</code> methods: </p>\n\n<ul>\n<li><code>sum()</code> – returns the sum of all values in the BinaryTree. </li>\n<li><code>countGreaterThan(int)</code> – returns the number of nodes that have values greater than the specified integer. </li>\n<li><code>isValidSearchTree()</code> – returns true if the Binary Tree is a valid search tree and false otherwise. </li>\n</ul>\n\n<p>I get the basic premise of how to create these functions like for example, for the sum function it'd usually go something like:</p>\n\n<pre><code>int sum = 0\nfor(int i; i&lt;binaryTree.size(); i++){\n    sum += binaryTree[i]\n}\n</code></pre>\n\n<p>Or something similar. But I don't really know how to apply these concepts to a <code>BinaryTree</code> with <code>nodes</code> and make them <code>recursive</code> as well? The code I'm provided with is given below.</p>\n\n<pre><code>public class BinaryTree {\n private int data;\n private BinaryTree leftChild;\n private BinaryTree rightChild;\n\n public BinaryTree(int val) {\n     data = val;\n     leftChild = null;\n     rightChild = null;\n  }\n\n  // Get methods\n public int getData() { return data; }\n public BinaryTree getLeftChild() { return leftChild; }\n public BinaryTree getRightChild() { return rightChild; }\n\n // Set methods\n public void setData(int val) { data = val; }\n public void setLeftChild(BinaryTree left) { leftChild = left; }\n public void setRightChild(BinaryTree right) { rightChild = right; }\n}\n</code></pre>\n"},{"tags":["java","oracle","return","mybatis"],"answers":[{"tags":[],"owner":{"account_id":27171,"reputation":9206,"user_id":71420,"accept_rate":87,"display_name":"Igor Konoplyanko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1356095573,"creation_date":1356095573,"answer_id":13990870,"question_id":13988935,"body_markdown":"Why you haven&#39;t defined both parameterType and resultType like this:\r\n\r\n    parameterType=&quot;int&quot; resultType=&quot;int&quot;\r\n\r\n Remove specific output and try to make it like this:\r\n\r\n    &lt;select id=&quot;add&quot; parameterType=&quot;int&quot; resultType=&quot;int&quot; statementType=&quot;CALLABLE&quot;&gt;\r\n        { CALL ADD_TEN(#{input, mode=IN, jdbcType=INTEGER})}\r\n    &lt;/select&gt;","title":"return value Mybatis","body":"<p>Why you haven't defined both parameterType and resultType like this:</p>\n\n<pre><code>parameterType=\"int\" resultType=\"int\"\n</code></pre>\n\n<p>Remove specific output and try to make it like this:</p>\n\n<pre><code>&lt;select id=\"add\" parameterType=\"int\" resultType=\"int\" statementType=\"CALLABLE\"&gt;\n    { CALL ADD_TEN(#{input, mode=IN, jdbcType=INTEGER})}\n&lt;/select&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2168843,"reputation":282,"user_id":1921356,"accept_rate":83,"display_name":"Charles"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668706207,"creation_date":1359619656,"answer_id":14621106,"question_id":13988935,"body_markdown":"Solution: MyBatis return type must be `void`. The result parameter I was looking for is in the  ResultMap that function/procedure returns.","title":"return value Mybatis","body":"<p>Solution: MyBatis return type must be <code>void</code>. The result parameter I was looking for is in the  ResultMap that function/procedure returns.</p>\n"}],"owner":{"account_id":2168843,"reputation":282,"user_id":1921356,"accept_rate":83,"display_name":"Charles"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25769,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":14621106,"answer_count":2,"score":8,"last_activity_date":1668706207,"creation_date":1356087828,"question_id":13988935,"body_markdown":"I&#39;m trying to get a returned value (an Integer value) from a stored function in Oracle 11g. \r\n\r\nThe function adds 10 to the input number: \r\n\r\n    FUNCTION ADD_TEN(INPUT IN NUMBER) RETURN NUMBER IS \r\n    BEGIN \r\n        RETURN INPUT + 10; \r\n    END;\r\n\r\nIn my mapper interface I have the line: \r\n\r\n    Integer add(Integer input); \r\n\r\nAnd in Xml file \r\n\r\n    &lt;select id=&quot;add&quot; statementType=&quot;CALLABLE&quot; resultType=&#39;java.lang.Integer&#39;&gt;\r\n        {#{output,mode=OUT,jdbcType=NUMERIC,javaType=Integer} = call test_pkg.ADD_TEN( \r\n        #{input,jdbcType=NUMERIC}) } \r\n    &lt;/select&gt;`\r\n\r\n\r\nThe call to the method is like: \r\n\r\n    Integer sum = mapper.add(45); \r\n\r\nBut I&#39;m getting the following error: \r\n\r\n    Could not set property &#39;output&#39; of &#39;class java.lang.Integer&#39; with value &#39;55&#39; Cause: org.apache.ibatis.reflection.ReflectionException: There is no setter for property named &#39;output&#39; in &#39;class java.lang.Integer&#39; \r\n\r\n\r\nWhat am I doing wrong? I&#39;m really lost with this... \r\n\r\nThank you.","title":"return value Mybatis","body":"<p>I'm trying to get a returned value (an Integer value) from a stored function in Oracle 11g. </p>\n\n<p>The function adds 10 to the input number: </p>\n\n<pre><code>FUNCTION ADD_TEN(INPUT IN NUMBER) RETURN NUMBER IS \nBEGIN \n    RETURN INPUT + 10; \nEND;\n</code></pre>\n\n<p>In my mapper interface I have the line: </p>\n\n<pre><code>Integer add(Integer input); \n</code></pre>\n\n<p>And in Xml file </p>\n\n<pre><code>&lt;select id=\"add\" statementType=\"CALLABLE\" resultType='java.lang.Integer'&gt;\n    {#{output,mode=OUT,jdbcType=NUMERIC,javaType=Integer} = call test_pkg.ADD_TEN( \n    #{input,jdbcType=NUMERIC}) } \n&lt;/select&gt;`\n</code></pre>\n\n<p>The call to the method is like: </p>\n\n<pre><code>Integer sum = mapper.add(45); \n</code></pre>\n\n<p>But I'm getting the following error: </p>\n\n<pre><code>Could not set property 'output' of 'class java.lang.Integer' with value '55' Cause: org.apache.ibatis.reflection.ReflectionException: There is no setter for property named 'output' in 'class java.lang.Integer' \n</code></pre>\n\n<p>What am I doing wrong? I'm really lost with this... </p>\n\n<p>Thank you.</p>\n"},{"tags":["java","oop","inheritance","invoke","super"],"comments":[{"owner":{"account_id":2324765,"reputation":3694,"user_id":2039546,"display_name":"İsmail Y."},"score":0,"creation_date":1630394037,"post_id":68994241,"comment_id":121936595,"body_markdown":"Does this answer your question? [Java Inheritance - calling superclass method](https://stackoverflow.com/questions/6896504/java-inheritance-calling-superclass-method)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/6896504/java-inheritance-calling-superclass-method\">Java Inheritance - calling superclass method</a>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1630394071,"post_id":68994241,"comment_id":121936603,"body_markdown":"Hint: the exercise you are trying to solve is about non-static methods ... not static methods.","body":"Hint: the exercise you are trying to solve is about non-static methods ... not static methods."},{"owner":{"account_id":9437851,"reputation":157,"user_id":7019324,"display_name":"Stijn Dejongh"},"score":0,"creation_date":1630394952,"post_id":68994241,"comment_id":121936944,"body_markdown":"The key is in &quot;all the three classes implement the method test()&quot;\nYou are missing the methods in class B and C. If you implement these, the function &#39;test()&#39; in class B will override the one of class C. As A extends B, A can only use &#39;super.test()&#39; which will call the implementation of class B.\n\nas Stephen has indicated: your method should not be static.","body":"The key is in &quot;all the three classes implement the method test()&quot; You are missing the methods in class B and C. If you implement these, the function &#39;test()&#39; in class B will override the one of class C. As A extends B, A can only use &#39;super.test()&#39; which will call the implementation of class B.  as Stephen has indicated: your method should not be static."}],"answers":[{"tags":[],"owner":{"account_id":26229495,"reputation":5,"user_id":19905693,"display_name":"Klord"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668706145,"creation_date":1668704713,"answer_id":74479398,"question_id":68994241,"body_markdown":"The answer is &quot;It is not possible to invoke test()&quot;. Because if it&#39;s possible, it would break encapsulation.\r\n\r\nWe can invoke the test() method in class B using &quot;super.&quot; keyword. This happens under the assumption that we are aware that we are violating the encapsulation on our own class. But we are not allowed to access the class above the parent class using &quot;super.&quot; keywords because we don&#39;t know what rules the superclass is enforcing. So, we can&#39;t bypass an implementation. ","title":"Is it not possible to invoke superclass method?","body":"<p>The answer is &quot;It is not possible to invoke test()&quot;. Because if it's possible, it would break encapsulation.</p>\n<p>We can invoke the test() method in class B using &quot;super.&quot; keyword. This happens under the assumption that we are aware that we are violating the encapsulation on our own class. But we are not allowed to access the class above the parent class using &quot;super.&quot; keywords because we don't know what rules the superclass is enforcing. So, we can't bypass an implementation.</p>\n"}],"owner":{"account_id":21730227,"reputation":63,"user_id":16039091,"display_name":"Imesh Isuranga"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":651,"favorite_count":0,"down_vote_count":3,"up_vote_count":4,"closed_date":1668704889,"answer_count":1,"score":1,"last_activity_date":1668706172,"creation_date":1630393561,"question_id":68994241,"body_markdown":"Assume that class `A` extends class `B`, which extends class `C`. Also all the three classes implement the method `test()`. How can a method in class A invoke the test()method defined in class C?\r\n\r\nAnswer is &quot;It is not possible to invoke test()&quot;.\r\n\r\n    class C {\r\n      \r\n    \tpublic static void test(){\r\n    \t\tSystem.out.println(&quot;IMESH ISURANGA&quot;);\r\n    \t}\r\n    }\r\n      \r\n    class B extends C {\r\n      \r\n    }\r\n    \r\n    class A extends B {\r\n      //how prove it\r\n    }\r\n      \r\n    class Demo {\r\n      \r\n    \tpublic static void main(String[] args) {\r\n      \r\n    \t\t//----\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\nHow to prove it?","title":"Is it not possible to invoke superclass method?","body":"<p>Assume that class <code>A</code> extends class <code>B</code>, which extends class <code>C</code>. Also all the three classes implement the method <code>test()</code>. How can a method in class A invoke the test()method defined in class C?</p>\n<p>Answer is &quot;It is not possible to invoke test()&quot;.</p>\n<pre><code>class C {\n  \n    public static void test(){\n        System.out.println(&quot;IMESH ISURANGA&quot;);\n    }\n}\n  \nclass B extends C {\n  \n}\n\nclass A extends B {\n  //how prove it\n}\n  \nclass Demo {\n  \n    public static void main(String[] args) {\n  \n        //----\n        \n    }\n}\n</code></pre>\n<p>How to prove it?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1668708136,"post_id":74479575,"comment_id":131477658,"body_markdown":"`DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MM/d/yyyy h:mm a&quot;, Locale.UK);` does it for me ;)","body":"<code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MM&#47;d&#47;yyyy h:mm a&quot;, Locale.UK);</code> does it for me ;)"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668708276,"post_id":74479575,"comment_id":131477695,"body_markdown":"Why are you adding strings to your list? That’s bad data modelling. You should make yourself a list of `LocalDateTime` objects (or `ZonedDateTme`) and defer formatting to the time when you display the result to the user.","body":"Why are you adding strings to your list? That’s bad data modelling. You should make yourself a list of <code>LocalDateTime</code> objects (or <code>ZonedDateTme</code>) and defer formatting to the time when you display the result to the user."},{"owner":{"account_id":3506599,"reputation":357,"user_id":2932012,"accept_rate":35,"display_name":"nikhil udgirkar"},"score":0,"creation_date":1668750350,"post_id":74479575,"comment_id":131486838,"body_markdown":"@OleV.V. I get this from UI. I am doing UI test automation","body":"@OleV.V. I get this from UI. I am doing UI test automation"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668750607,"post_id":74479575,"comment_id":131486880,"body_markdown":"I would still store proper datre-time objects. If you indispensably need the exact string you got from the UI, then objects holding both even though it’s redundant.","body":"I would still store proper datre-time objects. If you indispensably need the exact string you got from the UI, then objects holding both even though it’s redundant."},{"owner":{"account_id":3506599,"reputation":357,"user_id":2932012,"accept_rate":35,"display_name":"nikhil udgirkar"},"score":0,"creation_date":1668751703,"post_id":74479575,"comment_id":131487079,"body_markdown":"@OleV.V. you mean using List&lt;LocalDateTime&gt;?. Since from the automation it is retrieved in String as it has textContent() method. I thought rather than typecasting it to LocalDateTime let&#39;s store it as it is in String. Anyway I have got it working. Can you please provide me reference code so that I can study","body":"@OleV.V. you mean using List&lt;LocalDateTime&gt;?. Since from the automation it is retrieved in String as it has textContent() method. I thought rather than typecasting it to LocalDateTime let&#39;s store it as it is in String. Anyway I have got it working. Can you please provide me reference code so that I can study"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668806110,"post_id":74479575,"comment_id":131503883,"body_markdown":"There’s an example of what I suggest [in my answer here](https://stackoverflow.com/a/52776978/5772882).","body":"There’s an example of what I suggest <a href=\"https://stackoverflow.com/a/52776978/5772882\">in my answer here</a>."}],"owner":{"account_id":3506599,"reputation":357,"user_id":2932012,"accept_rate":35,"display_name":"nikhil udgirkar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1668706066,"answer_count":0,"score":0,"last_activity_date":1668706074,"creation_date":1668705517,"question_id":74479575,"body_markdown":"I am getting multiple dates from UI which I store in list. I want to sort these dates \r\n\r\n    List&lt;String&gt; li = new ArrayList&lt;&gt;();\r\n    li.add(&quot;11/1/2022 2:59 am&quot;);\r\n    li.add(&quot;10/21/2022 9:33 pm&quot;); li.add(&quot;10/20/2022 8:26 am&quot;);\r\n\r\nand so on\r\n\r\nI am trying to sort with following code \r\n\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy hh:mm a&quot;, Locale.US);\r\n\r\n    Collections.sort(li, (s1, s2) -&gt; LocalDateTime.parse(s1, formatter).\r\n            compareTo(LocalDateTime.parse(s2, formatter)));\r\n\r\nbut getting error \r\n\r\n&gt; &quot;Exception in thread &quot;main&quot; java.time.format.DateTimeParseException:\r\n&gt; Text &#39;10/21/2022 9:33 pm&#39; could not be parsed at index 11&quot;\r\n\r\nThe accepted solution at [https://stackoverflow.com/questions/14451976/how-to-sort-date-which-is-in-string-format-in-java][1] is not working for me. Could anyone please help here?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/14451976/how-to-sort-date-which-is-in-string-format-in-java","title":"Unable to sort dates. Getting error &quot;Text &#39;&#39; could not be parsed at index 11&quot; even though the date format is correct","body":"<p>I am getting multiple dates from UI which I store in list. I want to sort these dates</p>\n<pre><code>List&lt;String&gt; li = new ArrayList&lt;&gt;();\nli.add(&quot;11/1/2022 2:59 am&quot;);\nli.add(&quot;10/21/2022 9:33 pm&quot;); li.add(&quot;10/20/2022 8:26 am&quot;);\n</code></pre>\n<p>and so on</p>\n<p>I am trying to sort with following code</p>\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy hh:mm a&quot;, Locale.US);\n\nCollections.sort(li, (s1, s2) -&gt; LocalDateTime.parse(s1, formatter).\n        compareTo(LocalDateTime.parse(s2, formatter)));\n</code></pre>\n<p>but getting error</p>\n<blockquote>\n<p>&quot;Exception in thread &quot;main&quot; java.time.format.DateTimeParseException:\nText '10/21/2022 9:33 pm' could not be parsed at index 11&quot;</p>\n</blockquote>\n<p>The accepted solution at <a href=\"https://stackoverflow.com/questions/14451976/how-to-sort-date-which-is-in-string-format-in-java\">How to sort Date which is in string format in java?</a> is not working for me. Could anyone please help here?</p>\n"},{"tags":["java","arrays","java-stream"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":2,"creation_date":1668543073,"post_id":74451565,"comment_id":131429880,"body_markdown":"As a side note, a stream is slightly slower than simply looping through an array. We use streams to make the code more readable, but in your case it wouldn&#39;t be more readable (because the operation you want to do is not standard) and at the same time you should loop twice on the array while you could get the job done simply looping once through the array with a classic for loop","body":"As a side note, a stream is slightly slower than simply looping through an array. We use streams to make the code more readable, but in your case it wouldn&#39;t be more readable (because the operation you want to do is not standard) and at the same time you should loop twice on the array while you could get the job done simply looping once through the array with a classic for loop"}],"answers":[{"tags":[],"owner":{"account_id":20342398,"reputation":155,"user_id":14921272,"display_name":"Cole Henrich"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668543062,"creation_date":1668543062,"answer_id":74451608,"question_id":74451565,"body_markdown":"    int index;\r\n    for (int i = 0; i &lt; arr.length; i++){\r\n        double d = arr[i];\r\n        if (d == min){\r\n           index = i; \r\n           break;\r\n        }\r\n    }","title":"How to get the index of Arrays.stream(array).min()?","body":"<pre><code>int index;\nfor (int i = 0; i &lt; arr.length; i++){\n    double d = arr[i];\n    if (d == min){\n       index = i; \n       break;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1668545123,"creation_date":1668543180,"answer_id":74451627,"question_id":74451565,"body_markdown":"You can make a stream of the indices of the array instead, from 0 to `arr.length` (exclusive):\r\n\r\n    Optional&lt;Integer&gt; minIndex = IntStream.range(0, arr.length).boxed()\r\n        .min(Comparator.comparingDouble(i -&gt; arr[i]));\r\n\r\nNote that this is an optional, as the array could be empty. Also, when there are multiple minimums, it is not specified which one&#39;s index it will return. In the implementation that I&#39;m using (OpenJDK 17), it returns the first one&#39;s index.\r\n\r\nIf you want to control which minimum&#39;s index you get, you can do:\r\n\r\n    Optional&lt;Integer&gt; minIndex = IntStream.range(0, arr.length).boxed().reduce(\r\n        // gets the first one&#39;s:\r\n        (a, b) -&gt; arr[a] &lt;= arr[b] ? a : b\r\n        // gets the last one&#39;s:\r\n        // (a, b) -&gt; arr[a] &lt; arr[b] ? a : b\r\n    );","title":"How to get the index of Arrays.stream(array).min()?","body":"<p>You can make a stream of the indices of the array instead, from 0 to <code>arr.length</code> (exclusive):</p>\n<pre><code>Optional&lt;Integer&gt; minIndex = IntStream.range(0, arr.length).boxed()\n    .min(Comparator.comparingDouble(i -&gt; arr[i]));\n</code></pre>\n<p>Note that this is an optional, as the array could be empty. Also, when there are multiple minimums, it is not specified which one's index it will return. In the implementation that I'm using (OpenJDK 17), it returns the first one's index.</p>\n<p>If you want to control which minimum's index you get, you can do:</p>\n<pre><code>Optional&lt;Integer&gt; minIndex = IntStream.range(0, arr.length).boxed().reduce(\n    // gets the first one's:\n    (a, b) -&gt; arr[a] &lt;= arr[b] ? a : b\n    // gets the last one's:\n    // (a, b) -&gt; arr[a] &lt; arr[b] ? a : b\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668625318,"creation_date":1668544321,"answer_id":74451832,"question_id":74451565,"body_markdown":"Here&#39;s how it can be done without iterating over the array indices and trying to mimic `for`-loop with a stream.\r\n\r\nAnd we can also grab the actual minimal value along the way.\r\n\r\nFor that we can use [`DoubleStream.collect()`][collect] which expects three arguments:\r\n\r\n* `Supplier&lt;R&gt;` *supplier* - provides a mutable object which would serve as a container of data;\r\n* `ObjDoubleConsumer&lt;R&gt;` *accumulator* - determines how stream elements should be accumulated in the mutable collector provided by the *supplier*;\r\n* `BiConsumer&lt;R,R&gt;` *combiner* - combines partial results while executing the stream in parallel.\r\n\r\nAs a mutable container which should be provided by the supplier we can use an array `double[]` (*if you have a look at the source code of Collectors that are intended to accumulate primitive values, namely* `summingInt()`, `summingDouble()`, etc. *you would probably find some similarities*).\r\n\r\n```\r\ndouble[] arr = {263.5, 393.75, 5.0, 289.75};\r\n        \r\ndouble[] min = Arrays.stream(arr)\r\n    .collect(\r\n        () -&gt; new double[]{0, -1, 0},    // supplier\r\n        (double[] res, double next) -&gt; { // accumulator\r\n            res[2]++; // element count\r\n            if (res[1] == -1 || res[0] &gt; next) {\r\n                res[0] = next;          // min value\r\n                res[1] = res[2] - 1;    // corresponding index (element count - 1)\r\n            }\r\n        },\r\n        (left, right) -&gt; {              // combiner\r\n            if (left[0] &gt; right[0]) {\r\n                left[0] = right[0];\r\n                left[1] = left[2] + right[1];\r\n            }\r\n            left[2] += right[2];\r\n        }\r\n    );\r\n        \r\nSystem.out.printf(&quot;Min value is %s at index: %d&quot;, min[0], (int) min[1]);\r\n```\r\n\r\n*Output:*\r\n\r\n```\r\nMin value is 5.0 at index: 2\r\n```\r\n\r\nThe logic for determining the min value and tracking the number of consumed elements shown above can be encapsulated into a `class` (as suggested by *@Holger*) which would be used as the accumulation type instread of array.\r\n\r\nFor convenience, I&#39;ve implemented [`DoubleConsumer`][dConsumer] interface, its method `accept()` would be used to implement *accumulator*. And method `merge()` would be used in the *combiner*.\r\n\r\n    public static class MinValueAndIndex implements DoubleConsumer {\r\n        private int totalCount;\r\n        private int index;\r\n        private double min;\r\n    \r\n        @Override\r\n        public void accept(double value) {\r\n            if (totalCount == 0 || value &lt; min) {\r\n                min = value;\r\n                index = totalCount;\r\n            }\r\n            totalCount++;\r\n        }\r\n        \r\n        public void merge(MinValueAndIndex other) {\r\n            if (min &gt; other.min) {\r\n                min = other.min;\r\n                index = totalCount + other.index;\r\n            }\r\n            totalCount += other.totalCount;\r\n        }\r\n        \r\n        // getters\r\n    }\r\n\r\nThe stream would look like that:\r\n\r\n```\r\ndouble[] arr = {263.5, 393.75, 5.0, 289.75};\r\n        \r\nMinValueAndIndex valueIndex = Arrays.stream(arr)\r\n    .collect(\r\n        MinValueAndIndex::new,\r\n        MinValueAndIndex::accept,\r\n        MinValueAndIndex::merge\r\n    );\r\n    \r\nSystem.out.printf(&quot;Min value is %s at index: %d&quot;, valueIndex.getMin(), valueIndex.getIndex());\r\n```\r\n\r\n*Output:*\r\n\r\n```\r\nMin value is 5.0 at index: 2\r\n```\r\n\r\n\r\n\r\n   [collect]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/DoubleStream.html#collect(java.util.function.Supplier,java.util.function.ObjDoubleConsumer,java.util.function.BiConsumer)\r\n\r\n   [dConsumer]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/DoubleConsumer.html","title":"How to get the index of Arrays.stream(array).min()?","body":"<p>Here's how it can be done without iterating over the array indices and trying to mimic <code>for</code>-loop with a stream.</p>\n<p>And we can also grab the actual minimal value along the way.</p>\n<p>For that we can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/DoubleStream.html#collect(java.util.function.Supplier,java.util.function.ObjDoubleConsumer,java.util.function.BiConsumer)\" rel=\"nofollow noreferrer\"><code>DoubleStream.collect()</code></a> which expects three arguments:</p>\n<ul>\n<li><code>Supplier&lt;R&gt;</code> <em>supplier</em> - provides a mutable object which would serve as a container of data;</li>\n<li><code>ObjDoubleConsumer&lt;R&gt;</code> <em>accumulator</em> - determines how stream elements should be accumulated in the mutable collector provided by the <em>supplier</em>;</li>\n<li><code>BiConsumer&lt;R,R&gt;</code> <em>combiner</em> - combines partial results while executing the stream in parallel.</li>\n</ul>\n<p>As a mutable container which should be provided by the supplier we can use an array <code>double[]</code> (<em>if you have a look at the source code of Collectors that are intended to accumulate primitive values, namely</em> <code>summingInt()</code>, <code>summingDouble()</code>, etc. <em>you would probably find some similarities</em>).</p>\n<pre><code>double[] arr = {263.5, 393.75, 5.0, 289.75};\n        \ndouble[] min = Arrays.stream(arr)\n    .collect(\n        () -&gt; new double[]{0, -1, 0},    // supplier\n        (double[] res, double next) -&gt; { // accumulator\n            res[2]++; // element count\n            if (res[1] == -1 || res[0] &gt; next) {\n                res[0] = next;          // min value\n                res[1] = res[2] - 1;    // corresponding index (element count - 1)\n            }\n        },\n        (left, right) -&gt; {              // combiner\n            if (left[0] &gt; right[0]) {\n                left[0] = right[0];\n                left[1] = left[2] + right[1];\n            }\n            left[2] += right[2];\n        }\n    );\n        \nSystem.out.printf(&quot;Min value is %s at index: %d&quot;, min[0], (int) min[1]);\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>Min value is 5.0 at index: 2\n</code></pre>\n<p>The logic for determining the min value and tracking the number of consumed elements shown above can be encapsulated into a <code>class</code> (as suggested by <em>@Holger</em>) which would be used as the accumulation type instread of array.</p>\n<p>For convenience, I've implemented <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/DoubleConsumer.html\" rel=\"nofollow noreferrer\"><code>DoubleConsumer</code></a> interface, its method <code>accept()</code> would be used to implement <em>accumulator</em>. And method <code>merge()</code> would be used in the <em>combiner</em>.</p>\n<pre><code>public static class MinValueAndIndex implements DoubleConsumer {\n    private int totalCount;\n    private int index;\n    private double min;\n\n    @Override\n    public void accept(double value) {\n        if (totalCount == 0 || value &lt; min) {\n            min = value;\n            index = totalCount;\n        }\n        totalCount++;\n    }\n    \n    public void merge(MinValueAndIndex other) {\n        if (min &gt; other.min) {\n            min = other.min;\n            index = totalCount + other.index;\n        }\n        totalCount += other.totalCount;\n    }\n    \n    // getters\n}\n</code></pre>\n<p>The stream would look like that:</p>\n<pre><code>double[] arr = {263.5, 393.75, 5.0, 289.75};\n        \nMinValueAndIndex valueIndex = Arrays.stream(arr)\n    .collect(\n        MinValueAndIndex::new,\n        MinValueAndIndex::accept,\n        MinValueAndIndex::merge\n    );\n    \nSystem.out.printf(&quot;Min value is %s at index: %d&quot;, valueIndex.getMin(), valueIndex.getIndex());\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>Min value is 5.0 at index: 2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668585359,"creation_date":1668585359,"answer_id":74456913,"question_id":74451565,"body_markdown":"You can use a custom class to hold together an index and the value at this index. The task to find the index with min value becomes trivial then, and you can find the index and value all at once.\r\n\r\nA record is perfect for this purpose, if you use version before java 14, you can just use normal class.\r\n```\r\npublic record IndexValue(int index, double value) {\r\n}\r\n```\r\nExample usage:\r\n```\r\npublic class Test {\r\n\r\n  public static void main(String[] args) {\r\n    double[] arr = {263.5, 393.75, 5.0, 289.75};\r\n    IndexValue min = IntStream.range(0, arr.length) //stream indexes\r\n            .mapToObj(i -&gt; new IndexValue(i, arr[i])) //map index and value together using the class\r\n            .min(Comparator.comparing(IndexValue::value)) //find minimum by comparing values\r\n            .orElseGet(() -&gt; new IndexValue(-1, Double.MAX_VALUE)); //supply default value suiting your needs, if array was empty\r\n    System.out.println(&quot;Min index value - &quot; + min);\r\n  }\r\n}\r\n```\r\nPrints - `Min index value - IndexValue[index=2, value=5.0]`. All operations in this stream are non-interfering and stateless, and it&#39;s safe for parallel execution.\r\n","title":"How to get the index of Arrays.stream(array).min()?","body":"<p>You can use a custom class to hold together an index and the value at this index. The task to find the index with min value becomes trivial then, and you can find the index and value all at once.</p>\n<p>A record is perfect for this purpose, if you use version before java 14, you can just use normal class.</p>\n<pre><code>public record IndexValue(int index, double value) {\n}\n</code></pre>\n<p>Example usage:</p>\n<pre><code>public class Test {\n\n  public static void main(String[] args) {\n    double[] arr = {263.5, 393.75, 5.0, 289.75};\n    IndexValue min = IntStream.range(0, arr.length) //stream indexes\n            .mapToObj(i -&gt; new IndexValue(i, arr[i])) //map index and value together using the class\n            .min(Comparator.comparing(IndexValue::value)) //find minimum by comparing values\n            .orElseGet(() -&gt; new IndexValue(-1, Double.MAX_VALUE)); //supply default value suiting your needs, if array was empty\n    System.out.println(&quot;Min index value - &quot; + min);\n  }\n}\n</code></pre>\n<p>Prints - <code>Min index value - IndexValue[index=2, value=5.0]</code>. All operations in this stream are non-interfering and stateless, and it's safe for parallel execution.</p>\n"},{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668705421,"creation_date":1668674345,"answer_id":74472380,"question_id":74451565,"body_markdown":"I think the following solution should be preferred, as in 1 iteration of the stream you collect both the required index and the required value.\r\n\r\n    double arr[] = {263.5, 393.75, 5.0, 289.75};\r\n\r\n    Optional&lt;Map.Entry&lt;Integer, Double&gt;&gt; keyValueOpt = IntStream.range(0, arr.length)\r\n                  .mapToObj(i -&gt; Map.entry(i,arr[i]))\r\n                  .min(Map.Entry.comparingByValue());\r\n    \r\n    keyValueOpt.ifPresent(keyValue -&gt; System.out.println(String.format(&quot;Index %s with min value %s&quot;, keyValue.getKey(), keyValue.getValue())));\r\n\r\n[![enter image description here][1]][1]\r\n\r\nYou also don&#39;t need any new classes to be introduced to your code as the `Map.Entry(K k, V v)` fits the role of keeping a single pair of Key, Value to your result.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/d9ky8.png","title":"How to get the index of Arrays.stream(array).min()?","body":"<p>I think the following solution should be preferred, as in 1 iteration of the stream you collect both the required index and the required value.</p>\n<pre><code>double arr[] = {263.5, 393.75, 5.0, 289.75};\n\nOptional&lt;Map.Entry&lt;Integer, Double&gt;&gt; keyValueOpt = IntStream.range(0, arr.length)\n              .mapToObj(i -&gt; Map.entry(i,arr[i]))\n              .min(Map.Entry.comparingByValue());\n\nkeyValueOpt.ifPresent(keyValue -&gt; System.out.println(String.format(&quot;Index %s with min value %s&quot;, keyValue.getKey(), keyValue.getValue())));\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/d9ky8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d9ky8.png\" alt=\"enter image description here\" /></a></p>\n<p>You also don't need any new classes to be introduced to your code as the <code>Map.Entry(K k, V v)</code> fits the role of keeping a single pair of Key, Value to your result.</p>\n"}],"owner":{"account_id":26383274,"reputation":97,"user_id":20036187,"display_name":"fujitsu fiji"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":5,"score":5,"last_activity_date":1668705421,"creation_date":1668542860,"question_id":74451565,"body_markdown":"I want to get the index of min, I tried ways like getIndexOf etc. but none of them worked. How can I do this?\r\n```\r\nimport java.util.Arrays;\r\nclass getIndexOfMin {\r\n    public static void main(String[] args) {\r\n\r\n        double arr[] = {263.5, 393.75, 5.0, 289.75};\r\n\r\n        double min = Arrays.stream(arr).min().getAsDouble();\r\n        \r\n        System.out.println(min);\r\n    }\r\n}\r\n```","title":"How to get the index of Arrays.stream(array).min()?","body":"<p>I want to get the index of min, I tried ways like getIndexOf etc. but none of them worked. How can I do this?</p>\n<pre><code>import java.util.Arrays;\nclass getIndexOfMin {\n    public static void main(String[] args) {\n\n        double arr[] = {263.5, 393.75, 5.0, 289.75};\n\n        double min = Arrays.stream(arr).min().getAsDouble();\n        \n        System.out.println(min);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":5179087,"reputation":3759,"user_id":4145291,"accept_rate":40,"display_name":"BarrySW19"},"score":1,"creation_date":1668705517,"post_id":74479539,"comment_id":131476773,"body_markdown":"It&#39;s probably a dependency of a dependency (of a dependency, etc).","body":"It&#39;s probably a dependency of a dependency (of a dependency, etc)."},{"owner":{"account_id":5193931,"reputation":419,"user_id":4155906,"accept_rate":31,"display_name":"Thejas"},"score":0,"creation_date":1668706780,"post_id":74479539,"comment_id":131477242,"body_markdown":"Found it . I did a maven dependency:tree and was able to locate the dependency inside a dependency","body":"Found it . I did a maven dependency:tree and was able to locate the dependency inside a dependency"}],"owner":{"account_id":5193931,"reputation":419,"user_id":4155906,"accept_rate":31,"display_name":"Thejas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668705358,"creation_date":1668705358,"question_id":74479539,"body_markdown":"I am trying to find the dependencies in maven project using the command\r\n\r\n    mvn dependency:tree | grep dependencyname\r\n\r\nI am able to see the dependency ie\r\n\r\n    [INFO] | +-dependencygroupId:dependencyartifactId:jar:2.2.0.0:compile\r\n\r\nbut I am unable to find the same in any of the pom.xml nor in any file search inside the project.\r\nCan some one tell me how to resolve this\r\n","title":"Unable to locate the dependencies while resolving the xray Violations","body":"<p>I am trying to find the dependencies in maven project using the command</p>\n<pre><code>mvn dependency:tree | grep dependencyname\n</code></pre>\n<p>I am able to see the dependency ie</p>\n<pre><code>[INFO] | +-dependencygroupId:dependencyartifactId:jar:2.2.0.0:compile\n</code></pre>\n<p>but I am unable to find the same in any of the pom.xml nor in any file search inside the project.\nCan some one tell me how to resolve this</p>\n"},{"tags":["java","cassandra"],"comments":[{"owner":{"account_id":14411493,"reputation":946,"user_id":10410162,"display_name":"Madhavan"},"score":0,"creation_date":1668738358,"post_id":74477587,"comment_id":131485266,"body_markdown":"Hi @Aparna, could you please update your original post/question with the version of the Cassandra that you&#39;re running along with the driver maven coordinates to help readers triage this better? TY!","body":"Hi @Aparna, could you please update your original post/question with the version of the Cassandra that you&#39;re running along with the driver maven coordinates to help readers triage this better? TY!"},{"owner":{"account_id":26963950,"reputation":1,"user_id":20531164,"display_name":"Ramya"},"score":0,"creation_date":1668748594,"post_id":74477587,"comment_id":131486591,"body_markdown":"@Madhavan : Cassandra version : V.6.8.0","body":"@Madhavan : Cassandra version : V.6.8.0"},{"owner":{"account_id":14411493,"reputation":946,"user_id":10410162,"display_name":"Madhavan"},"score":0,"creation_date":1668776455,"post_id":74477587,"comment_id":131494481,"body_markdown":"Thank you. I understand you&#39;re leveraging [DataStax Enterprise (DSE) version `6.8.0`](https://www.datastax.com/products/datastax-enterprise) here. How about the programming language, and driver versions? Unreleated, but just to let you know that `6.8.0` is super old version and the latest version as of this writing is `6.8.29`. See [the DSE `6.8` release notes here](https://github.com/datastax/release-notes/blob/master/DSE_6.8_Release_Notes.md#release-notes-for-datastax-enterprise-68) &amp; [patch release documentation](https://docs.datastax.com) for additional details.","body":"Thank you. I understand you&#39;re leveraging <a href=\"https://www.datastax.com/products/datastax-enterprise\" rel=\"nofollow noreferrer\">DataStax Enterprise (DSE) version <code>6.8.0</code></a> here. How about the programming language, and driver versions? Unreleated, but just to let you know that <code>6.8.0</code> is super old version and the latest version as of this writing is <code>6.8.29</code>. See <a href=\"https://github.com/datastax/release-notes/blob/master/DSE_6.8_Release_Notes.md#release-notes-for-datastax-enterprise-68\" rel=\"nofollow noreferrer\">the DSE <code>6.8</code> release notes here</a> &amp; <a href=\"https://docs.datastax.com\" rel=\"nofollow noreferrer\">patch release documentation</a> for additional details."}],"owner":{"account_id":26963950,"reputation":1,"user_id":20531164,"display_name":"Ramya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668705240,"creation_date":1668697148,"question_id":74477587,"body_markdown":"How to access the fields inside the `primarykeyclass` with `@query` annotation?\r\n\r\nEntity\r\n\r\n```java\r\n@Table(value = &quot;table1&quot;)\r\n@Data\r\npublic class DTable implements Serializable {\r\n\t@PrimaryKey\r\n\tpublic CassandraPrimaryKeyclass key;\r\n\r\n\t@Column(&quot;CREATED_TMSTAMP&quot;)\r\n\tprivate String createdTimeStamp;\r\n}\r\n```\r\n\r\n```\r\n@PrimaryKeyClass\r\npublic class CassandraPrimaryKeyclass implements Serializable  {\r\n\t@PrimaryKeyColumn(name = &quot;KEY_NAME&quot;, ordinal = 0, type = PrimaryKeyType.PARTITIONED)\r\n\tpublic String serviceKeyName;\r\n\r\n\t@PrimaryKeyColumn(name = &quot;KEY_VALUE&quot;, ordinal = 0, type = PrimaryKeyType.PARTITIONED)\r\n\tpublic String serviceKeyValue;\r\n\r\n\t@PrimaryKeyColumn(name =&quot;EMP_ID&quot;,ordinal = 0, type = PrimaryKeyType.CLUSTERED)\r\n\tpublic String empID;\t\r\n}\r\n```\r\n\r\nRepository:\r\n\r\n```\r\n@Query(&quot;select key.EMP_ID from table1 WHERE KEY_NAME=?0 AND KEY_VALUE=?1 )\r\n\tpublic Mono&lt;KeyValuePair&gt; ParllelMultireadkeyValue(String serviceKeyName, String serviceKeyValue);\r\n```\r\n\r\nThis throws \r\n\r\n&gt; Could not find field for property during fallback access!\r\n\r\nHow to access the column in the Primary key class?\r\n","title":"Retrieve Primaryclass column in cassandra - Could not find field for property during fallback access","body":"<p>How to access the fields inside the <code>primarykeyclass</code> with <code>@query</code> annotation?</p>\n<p>Entity</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Table(value = &quot;table1&quot;)\n@Data\npublic class DTable implements Serializable {\n    @PrimaryKey\n    public CassandraPrimaryKeyclass key;\n\n    @Column(&quot;CREATED_TMSTAMP&quot;)\n    private String createdTimeStamp;\n}\n</code></pre>\n<pre><code>@PrimaryKeyClass\npublic class CassandraPrimaryKeyclass implements Serializable  {\n    @PrimaryKeyColumn(name = &quot;KEY_NAME&quot;, ordinal = 0, type = PrimaryKeyType.PARTITIONED)\n    public String serviceKeyName;\n\n    @PrimaryKeyColumn(name = &quot;KEY_VALUE&quot;, ordinal = 0, type = PrimaryKeyType.PARTITIONED)\n    public String serviceKeyValue;\n\n    @PrimaryKeyColumn(name =&quot;EMP_ID&quot;,ordinal = 0, type = PrimaryKeyType.CLUSTERED)\n    public String empID;    \n}\n</code></pre>\n<p>Repository:</p>\n<pre><code>@Query(&quot;select key.EMP_ID from table1 WHERE KEY_NAME=?0 AND KEY_VALUE=?1 )\n    public Mono&lt;KeyValuePair&gt; ParllelMultireadkeyValue(String serviceKeyName, String serviceKeyValue);\n</code></pre>\n<p>This throws</p>\n<blockquote>\n<p>Could not find field for property during fallback access!</p>\n</blockquote>\n<p>How to access the column in the Primary key class?</p>\n"},{"tags":["java","spring","tomcat","tomcat6"],"comments":[{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":1,"creation_date":1394744800,"post_id":22390818,"comment_id":34040728,"body_markdown":"possible duplicate of [Java EE Enterprise Application: perform some action on deploy/startup](http://stackoverflow.com/questions/6120831/java-ee-enterprise-application-perform-some-action-on-deploy-startup)    You can use WebContextListener that will give you exact this thing","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/6120831/java-ee-enterprise-application-perform-some-action-on-deploy-startup\">Java EE Enterprise Application: perform some action on deploy/startup</a>    You can use WebContextListener that will give you exact this thing"},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1394745273,"post_id":22390818,"comment_id":34041003,"body_markdown":"@JigarJoshi A `ServletContextListener` is run before any `Filter` or `Servlet` instances are initialized. I think OP wants the whole web application.","body":"@JigarJoshi A <code>ServletContextListener</code> is run before any <code>Filter</code> or <code>Servlet</code> instances are initialized. I think OP wants the whole web application."},{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":0,"creation_date":1394746366,"post_id":22390818,"comment_id":34041594,"body_markdown":"@Sot I don&#39;t think OP want to initialize all servlet and filter, consider that there are some url patterns which gets hit only in certain cases (for example user is admin and logged in) how would that specific servlet (if configured) will get loaded without attempting to knock that URL","body":"@Sot I don&#39;t think OP want to initialize all servlet and filter, consider that there are some url patterns which gets hit only in certain cases (for example user is admin and logged in) how would that specific servlet (if configured) will get loaded without attempting to knock that URL"},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1394746474,"post_id":22390818,"comment_id":34041651,"body_markdown":"@JigarJoshi How are you interpreting `I would prefer to get notification back to each applications once all the applications are started`?","body":"@JigarJoshi How are you interpreting <code>I would prefer to get notification back to each applications once all the applications are started</code>?"},{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":0,"creation_date":1394746526,"post_id":22390818,"comment_id":34041677,"body_markdown":"@Sot I understand that OP&#39;s container has 8 different web application that gets started and OP wants an action that flags on each application&#39;s startup","body":"@Sot I understand that OP&#39;s container has 8 different web application that gets started and OP wants an action that flags on each application&#39;s startup"},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1394746597,"post_id":22390818,"comment_id":34041721,"body_markdown":"@JigarJoshi I don&#39;t think `once all the applications are started` means _on each application&#39;s startup_. In any case, the application hasn&#39;t started when `ServletContextListener#contextInitialized(..)` is called.","body":"@JigarJoshi I don&#39;t think <code>once all the applications are started</code> means <i>on each application&#39;s startup</i>. In any case, the application hasn&#39;t started when <code>ServletContextListener#contextInitialized(..)</code> is called."},{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":0,"creation_date":1394746677,"post_id":22390818,"comment_id":34041761,"body_markdown":"@Sot on successful context initialization that particular app has been started, if OP can do it for all the apps he can confirm that all of his web context have been initialized successfully","body":"@Sot on successful context initialization that particular app has been started, if OP can do it for all the apps he can confirm that all of his web context have been initialized successfully"},{"owner":{"account_id":1336531,"reputation":9732,"user_id":1279145,"accept_rate":83,"display_name":"Karthik Prasad"},"score":0,"creation_date":1394774381,"post_id":22390818,"comment_id":34050791,"body_markdown":"@JigarJoshi You have misunderstood my questiononce all the application started up means once all web the application is started not each application is started. I feel I don&#39;t get better advantage of using servlet context over application context. Both are specific to application not to the server.","body":"@JigarJoshi You have misunderstood my questiononce all the application started up means once all web the application is started not each application is started. I feel I don&#39;t get better advantage of using servlet context over application context. Both are specific to application not to the server."},{"owner":{"account_id":1336531,"reputation":9732,"user_id":1279145,"accept_rate":83,"display_name":"Karthik Prasad"},"score":0,"creation_date":1395041414,"post_id":22390818,"comment_id":34142917,"body_markdown":"@JigarJoshi If you had marked as duplicate could you please unmark. as the question I asked is not the same.","body":"@JigarJoshi If you had marked as duplicate could you please unmark. as the question I asked is not the same."},{"owner":{"account_id":2337701,"reputation":840,"user_id":2049647,"display_name":"ATutorMe"},"score":0,"creation_date":1668573177,"post_id":22390818,"comment_id":131435927,"body_markdown":"According to the [tomcat javadoc](https://tomcat.apache.org/tomcat-9.0-doc/api/constant-values.html#org.apache.catalina.Lifecycle.AFTER_START_EVENT) the String value is actually &#39;after_start&#39;, which is the value of  org.apache.catalina.Lifecycle.AFTER_START_EVENT.","body":"According to the <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/api/constant-values.html#org.apache.catalina.Lifecycle.AFTER_START_EVENT\" rel=\"nofollow noreferrer\">tomcat javadoc</a> the String value is actually &#39;after_start&#39;, which is the value of  org.apache.catalina.Lifecycle.AFTER_START_EVENT."}],"answers":[{"tags":[],"owner":{"account_id":699650,"reputation":16447,"user_id":1299005,"display_name":"Mark Thomas"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1394810153,"creation_date":1394744862,"answer_id":22390941,"question_id":22390818,"body_markdown":"All of the major Tomcat components implement `org.apache.catalina.Lifecycle` which includes the ability to add a `org.apache.catalina.LifecycleListener`. It sounds like you want the `AFTER_START_EVENT` of the `Host`.\r\n\r\nYou configure the listener in server.xml like this:\r\n\r\n    &lt;Host ... &gt;\r\n      &lt;Listener className=&quot;your.package.KPTomcatListener&quot;/&gt;\r\n      &lt;!-- Other nested elements go here --&gt;\r\n    &lt;/Host&gt;\r\n\r\nThe class must be packaged in a JAR and the JAR placed in Tomcat&#39;s lib directory.","title":"Callback on Tomcat server startup complete","body":"<p>All of the major Tomcat components implement <code>org.apache.catalina.Lifecycle</code> which includes the ability to add a <code>org.apache.catalina.LifecycleListener</code>. It sounds like you want the <code>AFTER_START_EVENT</code> of the <code>Host</code>.</p>\n\n<p>You configure the listener in server.xml like this:</p>\n\n<pre><code>&lt;Host ... &gt;\n  &lt;Listener className=\"your.package.KPTomcatListener\"/&gt;\n  &lt;!-- Other nested elements go here --&gt;\n&lt;/Host&gt;\n</code></pre>\n\n<p>The class must be packaged in a JAR and the JAR placed in Tomcat's lib directory.</p>\n"},{"tags":[],"owner":{"account_id":6720924,"reputation":5542,"user_id":5180989,"display_name":"Helder Pereira"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1523967716,"creation_date":1523967716,"answer_id":49878025,"question_id":22390818,"body_markdown":"In case someone wants to do it programmatically (if using embedded Tomcat for example):\r\n\r\n    Tomcat tomcat = new Tomcat();\r\n    ...\r\n    tomcat.getServer().addLifecycleListener(new KPTomcatListener());\r\n    tomcat.start()\r\n","title":"Callback on Tomcat server startup complete","body":"<p>In case someone wants to do it programmatically (if using embedded Tomcat for example):</p>\n\n<pre><code>Tomcat tomcat = new Tomcat();\n...\ntomcat.getServer().addLifecycleListener(new KPTomcatListener());\ntomcat.start()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2337701,"reputation":840,"user_id":2049647,"display_name":"ATutorMe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668573769,"creation_date":1668573769,"answer_id":74455280,"question_id":22390818,"body_markdown":"Following on from Helder&#39;s post of embedded Tomcat, you can also handle this in a lambda:\r\n\r\n```java\r\ntomcat.getServer().addLifecycleListener((LifecycleEvent e) -&gt; {\r\n  if (e.getType().equals(AFTER_START_EVENT)) {\r\n    // do something\r\n  }\r\n});\r\n```","title":"Callback on Tomcat server startup complete","body":"<p>Following on from Helder's post of embedded Tomcat, you can also handle this in a lambda:</p>\n<pre class=\"lang-java prettyprint-override\"><code>tomcat.getServer().addLifecycleListener((LifecycleEvent e) -&gt; {\n  if (e.getType().equals(AFTER_START_EVENT)) {\n    // do something\n  }\n});\n</code></pre>\n"}],"owner":{"account_id":1336531,"reputation":9732,"user_id":1279145,"accept_rate":83,"display_name":"Karthik Prasad"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6502,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":22390941,"answer_count":3,"score":4,"last_activity_date":1668704208,"creation_date":1394744471,"question_id":22390818,"body_markdown":"Is there any mechanism, lifecycle event or callbacks, in Spring or Tomcat to notify once Tomcat server startup is completed? (I have 8 web applications and queues configured. I would prefer to get notification back to each application once all the applications are started.) I know Spring has the application listener, which can be used once the web application is initialized. But I cannot use it in my case because I would prefer to get a notification once all the web apps are initialized.  \r\n\r\n\r\n******EDITED*******\r\n\r\nI&#39;ve implemented a Tomcat listener to log the message, but I have absolutely no idea where to hook this listener.\r\n\r\nI tried to create this bean using Spring and also adding the listener to web.xml both did not work.\r\n\r\nHere is my code:\r\n\r\n    public class KPTomcatListener implements LifecycleListener {\r\n    \r\n    \tprivate static final Logger LOG = LoggerFactory.getLogger(KPTomcatListener.class);\r\n    \t/**\r\n    \t * All the events of tomcat\r\n         * See: https://tomcat.apache.org/tomcat-10.0-doc/api/constant-values.html\r\n         * AFTER_DESTROY_EVENT     &quot;after_destroy&quot;\r\n         * AFTER_INIT_EVENT     &quot;after_init&quot;\r\n         * AFTER_START_EVENT     &quot;after_start&quot;\r\n         * AFTER_STOP_EVENT     &quot;after_stop&quot;\r\n         * BEFORE_DESTROY_EVENT     &quot;before_destroy&quot;\r\n         * BEFORE_INIT_EVENT     &quot;before_init&quot;\r\n         * BEFORE_START_EVENT     &quot;before_start&quot;\r\n         * BEFORE_STOP_EVENT     &quot;before_stop&quot;\r\n         * CONFIGURE_START_EVENT     &quot;configure_start&quot;\r\n         * CONFIGURE_STOP_EVENT     &quot;configure_stop&quot;\r\n         * PERIODIC_EVENT     &quot;periodic&quot;\r\n         * START_EVENT     &quot;start&quot;\r\n         * STOP_EVENT     &quot;stop&quot;\r\n    \t */\r\n    \tprivate static int counter;\r\n    \t\r\n    \t@Override\r\n    \tpublic void lifecycleEvent(LifecycleEvent arg0) {\r\n    \t\tString event = arg0.getType();\r\n    \t\tLOG.debug(&quot;Tomcat Events: &quot; + (++counter) + &quot; :: &quot; + event);\r\n    \t\tif(event.equals(org.apache.catalina.Lifecycle.AFTER_START_EVENT)) { // or &quot;after_start&quot;\r\n    \t\t\tLOG.debug(&quot;Hey I&#39;ve started&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    }","title":"Callback on Tomcat server startup complete","body":"<p>Is there any mechanism, lifecycle event or callbacks, in Spring or Tomcat to notify once Tomcat server startup is completed? (I have 8 web applications and queues configured. I would prefer to get notification back to each application once all the applications are started.) I know Spring has the application listener, which can be used once the web application is initialized. But I cannot use it in my case because I would prefer to get a notification once all the web apps are initialized.</p>\n<p><strong><strong><strong>EDITED</strong></strong></strong>*</p>\n<p>I've implemented a Tomcat listener to log the message, but I have absolutely no idea where to hook this listener.</p>\n<p>I tried to create this bean using Spring and also adding the listener to web.xml both did not work.</p>\n<p>Here is my code:</p>\n<pre><code>public class KPTomcatListener implements LifecycleListener {\n\n    private static final Logger LOG = LoggerFactory.getLogger(KPTomcatListener.class);\n    /**\n     * All the events of tomcat\n     * See: https://tomcat.apache.org/tomcat-10.0-doc/api/constant-values.html\n     * AFTER_DESTROY_EVENT     &quot;after_destroy&quot;\n     * AFTER_INIT_EVENT     &quot;after_init&quot;\n     * AFTER_START_EVENT     &quot;after_start&quot;\n     * AFTER_STOP_EVENT     &quot;after_stop&quot;\n     * BEFORE_DESTROY_EVENT     &quot;before_destroy&quot;\n     * BEFORE_INIT_EVENT     &quot;before_init&quot;\n     * BEFORE_START_EVENT     &quot;before_start&quot;\n     * BEFORE_STOP_EVENT     &quot;before_stop&quot;\n     * CONFIGURE_START_EVENT     &quot;configure_start&quot;\n     * CONFIGURE_STOP_EVENT     &quot;configure_stop&quot;\n     * PERIODIC_EVENT     &quot;periodic&quot;\n     * START_EVENT     &quot;start&quot;\n     * STOP_EVENT     &quot;stop&quot;\n     */\n    private static int counter;\n    \n    @Override\n    public void lifecycleEvent(LifecycleEvent arg0) {\n        String event = arg0.getType();\n        LOG.debug(&quot;Tomcat Events: &quot; + (++counter) + &quot; :: &quot; + event);\n        if(event.equals(org.apache.catalina.Lifecycle.AFTER_START_EVENT)) { // or &quot;after_start&quot;\n            LOG.debug(&quot;Hey I've started&quot;);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","algorithm","sorting","insertion-sort"],"comments":[{"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":2,"creation_date":1598692080,"post_id":63645255,"comment_id":112545889,"body_markdown":"Generally, in pretty much all programming languages, it doesn&#39;t matter whether you chose to use `for` or `while`. Under the hood, they implement the same semantics - *do something until some condition*. The difference lies in the practicality - when one is more convenient (readable, clean) over another. Also, some personal preference.","body":"Generally, in pretty much all programming languages, it doesn&#39;t matter whether you chose to use <code>for</code> or <code>while</code>. Under the hood, they implement the same semantics - <i>do something until some condition</i>. The difference lies in the practicality - when one is more convenient (readable, clean) over another. Also, some personal preference."},{"owner":{"account_id":18152416,"reputation":377,"user_id":13204939,"display_name":"TanDev"},"score":0,"creation_date":1598695426,"post_id":63645255,"comment_id":112546687,"body_markdown":"Thanks Giorgi. You are right for personal preference. I liked the for loop readability and usability better.","body":"Thanks Giorgi. You are right for personal preference. I liked the for loop readability and usability better."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1598704871,"post_id":63645255,"comment_id":112548971,"body_markdown":"Your solution isn&#39;t equivalent, or as good, and it&#39;s pretty rich to claim that *all* solutions except yours use a `while` loop.","body":"Your solution isn&#39;t equivalent, or as good, and it&#39;s pretty rich to claim that <i>all</i> solutions except yours use a <code>while</code> loop."}],"answers":[{"tags":[],"owner":{"account_id":17033694,"reputation":4572,"user_id":12323248,"display_name":"akuzminykh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1598699459,"creation_date":1598699459,"answer_id":63646300,"question_id":63645255,"body_markdown":"Usually, when developing algorithms, you choose a loop based on this:\r\n\r\n- If the number of iterations is known, use a for-loop.\r\n- If the number of iterations is *not* known, use a while-loop.\r\n\r\nIn Java, and other languages, you can implement the same thing using both loops. It doesn&#39;t matter if the number of iterations is known. However, it makes sense, it&#39;s more readable/logical:\r\n\r\n- ... *for* a known starting value to a known limit do ...\r\n- ... *while* a condition is true do ...\r\n\r\nIn [pseudocode](https://en.wikipedia.org/wiki/Pseudocode), which is a way to describe an algorithm independently of implementation-details, it&#39;s often done just like that (or similar):\r\n\r\n```\r\nfor i = 0 to n do\r\n    ...\r\n```\r\n\r\n```\r\nwhile condition do\r\n    ...\r\n```\r\n\r\nWhen you look at `sort`, you can see two loops: the outer for-loop and the inner while-loop.\r\n\r\n- The outer loop is a for-loop because `i` and `n` are known. Value `n` is known because it&#39;s given by the size of the array, which is a constant in this algorithm.\r\n- The inner loop is a while-loop because it&#39;s not known when the condition will fail, as it depends on an array-access. You don&#39;t know the values; if you would, then you could sort the array by hardcoding some swaps.","title":"Why does insertion sort work only if we use while as an inner loop and doesn’t work for ” for loop”?","body":"<p>Usually, when developing algorithms, you choose a loop based on this:</p>\n<ul>\n<li>If the number of iterations is known, use a for-loop.</li>\n<li>If the number of iterations is <em>not</em> known, use a while-loop.</li>\n</ul>\n<p>In Java, and other languages, you can implement the same thing using both loops. It doesn't matter if the number of iterations is known. However, it makes sense, it's more readable/logical:</p>\n<ul>\n<li>... <em>for</em> a known starting value to a known limit do ...</li>\n<li>... <em>while</em> a condition is true do ...</li>\n</ul>\n<p>In <a href=\"https://en.wikipedia.org/wiki/Pseudocode\" rel=\"nofollow noreferrer\">pseudocode</a>, which is a way to describe an algorithm independently of implementation-details, it's often done just like that (or similar):</p>\n<pre><code>for i = 0 to n do\n    ...\n</code></pre>\n<pre><code>while condition do\n    ...\n</code></pre>\n<p>When you look at <code>sort</code>, you can see two loops: the outer for-loop and the inner while-loop.</p>\n<ul>\n<li>The outer loop is a for-loop because <code>i</code> and <code>n</code> are known. Value <code>n</code> is known because it's given by the size of the array, which is a constant in this algorithm.</li>\n<li>The inner loop is a while-loop because it's not known when the condition will fail, as it depends on an array-access. You don't know the values; if you would, then you could sort the array by hardcoding some swaps.</li>\n</ul>\n"}],"owner":{"account_id":18152416,"reputation":377,"user_id":13204939,"display_name":"TanDev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2074,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"closed_date":1598718741,"accepted_answer_id":63646300,"answer_count":1,"score":3,"last_activity_date":1668704032,"creation_date":1598691797,"question_id":63645255,"body_markdown":"I was trying to attempt a insertion algorithm question. However, I had the following question. \r\n\r\nI wanted to nderstand why most solutions online use a nested while loop instead of a nested for loop? I thought it might have to do something with time complexity, however, both have a O(n^2) complexity.\r\n\r\nBelow I have attached the two different solutions\r\n\r\n```\r\n\r\npublic class InsertionSort { \r\n// MY method\r\n    /*Function to sort array using insertion sort*/\r\n    // void sort(int arr[]) \r\n    // { \r\n    //     int n = arr.length; \r\n    //     for (int i = 1; i &lt; n; ++i) { \r\n    //         if(arr[i] &lt; arr[i-1]){\r\n    //             for(int j = 0; j &lt; i; j++){\r\n    //                 if(arr[i] &lt; arr[j]){\r\n    //                     int temp = arr[j];\r\n    //                     arr[j] = arr[i];\r\n    //                     arr[i] = temp;\r\n    //                 }\r\n    //             }\r\n    //         }\r\n    //     } \r\n    // } \r\n\r\n// Online Solution\r\n  \r\n    void sort(int arr[]) \r\n    { \r\n        int n = arr.length; \r\n        for (int i = 1; i &lt; n; ++i) { \r\n            int key = arr[i]; \r\n            int j = i - 1; \r\n  \r\n            /* Move elements of arr[0..i-1], that are \r\n               greater than key, to one position ahead \r\n               of their current position */\r\n            while (j &gt;= 0 &amp;&amp; arr[j] &gt; key) { \r\n                arr[j + 1] = arr[j]; \r\n                j = j - 1; \r\n            } \r\n            arr[j + 1] = key; \r\n        } \r\n    } \r\n```","title":"Why does insertion sort work only if we use while as an inner loop and doesn’t work for ” for loop”?","body":"<p>I was trying to attempt a insertion algorithm question. However, I had the following question.</p>\n<p>I wanted to nderstand why most solutions online use a nested while loop instead of a nested for loop? I thought it might have to do something with time complexity, however, both have a O(n^2) complexity.</p>\n<p>Below I have attached the two different solutions</p>\n<pre><code>\npublic class InsertionSort { \n// MY method\n    /*Function to sort array using insertion sort*/\n    // void sort(int arr[]) \n    // { \n    //     int n = arr.length; \n    //     for (int i = 1; i &lt; n; ++i) { \n    //         if(arr[i] &lt; arr[i-1]){\n    //             for(int j = 0; j &lt; i; j++){\n    //                 if(arr[i] &lt; arr[j]){\n    //                     int temp = arr[j];\n    //                     arr[j] = arr[i];\n    //                     arr[i] = temp;\n    //                 }\n    //             }\n    //         }\n    //     } \n    // } \n\n// Online Solution\n  \n    void sort(int arr[]) \n    { \n        int n = arr.length; \n        for (int i = 1; i &lt; n; ++i) { \n            int key = arr[i]; \n            int j = i - 1; \n  \n            /* Move elements of arr[0..i-1], that are \n               greater than key, to one position ahead \n               of their current position */\n            while (j &gt;= 0 &amp;&amp; arr[j] &gt; key) { \n                arr[j + 1] = arr[j]; \n                j = j - 1; \n            } \n            arr[j + 1] = key; \n        } \n    } \n</code></pre>\n"},{"tags":["java","amazon-web-services","transfer"],"answers":[{"tags":[],"owner":{"account_id":14275079,"reputation":26,"user_id":10311489,"display_name":"Justin Schoeff"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654867471,"creation_date":1654867471,"answer_id":72575067,"question_id":72536444,"body_markdown":"The CreateServer API will return a server ID. If you are using another process like CloudFormation you could store the server ID result in a CF Output or [SSM parameter](https://docs.aws.amazon.com/systems-manager/latest/userguide/systems-manager-parameter-store.html) then access that via the Java SDK.\r\n\r\nIf you have no way to store the server ID, you could use ListServers API to retrieve Transfer servers. If you have a single server then you know its the only one. Otherwise, you could use tags, but would need to perform a DescribeServer operation on each server returned from listing to see the tags.","title":"How to get AWS transfer family server id dynamically","body":"<p>The CreateServer API will return a server ID. If you are using another process like CloudFormation you could store the server ID result in a CF Output or <a href=\"https://docs.aws.amazon.com/systems-manager/latest/userguide/systems-manager-parameter-store.html\" rel=\"nofollow noreferrer\">SSM parameter</a> then access that via the Java SDK.</p>\n<p>If you have no way to store the server ID, you could use ListServers API to retrieve Transfer servers. If you have a single server then you know its the only one. Otherwise, you could use tags, but would need to perform a DescribeServer operation on each server returned from listing to see the tags.</p>\n"},{"tags":[],"owner":{"account_id":1471560,"reputation":1031,"user_id":1383007,"accept_rate":29,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668704026,"creation_date":1668704026,"answer_id":74479255,"question_id":72536444,"body_markdown":"The below are options to get the server ID dynamically.\r\nI figured to set a tag with static tag name for server ID and retrieve it using resource groups service API (https://docs.aws.amazon.com/ARG/latest/userguide/resource-groups.html).","title":"How to get AWS transfer family server id dynamically","body":"<p>The below are options to get the server ID dynamically.\nI figured to set a tag with static tag name for server ID and retrieve it using resource groups service API (<a href=\"https://docs.aws.amazon.com/ARG/latest/userguide/resource-groups.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/ARG/latest/userguide/resource-groups.html</a>).</p>\n"}],"owner":{"account_id":1471560,"reputation":1031,"user_id":1383007,"accept_rate":29,"display_name":"Eric"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668704026,"creation_date":1654629125,"question_id":72536444,"body_markdown":"I&#39;m using AWS SDK Java to create users in transfer family service.\r\nWhen I create a new user on an existing transfer server, I need transfer server ID for the call to create a user.\r\n\r\nServer ID is a generated string by AWS like s-88ced8077ce24d99s. Whenever I recreate a new server, the server ID changed. I don&#39;t want to hard code the server ID in my Java code or even in an external file. I hope I can make a call to AWS to get the server ID somehow dynamically.\r\n\r\nMy question is: Is this possible? \r\n\r\n - like create an alias &quot;my-sftp-server&quot; somewhere, which the alias name won&#39;t change and always assign to the server, so I can use the alias name to figure out the server ID. \r\n - using tag and get it from resource group API\r\n - Other solution? environment variable, AWS Database?\r\n\r\n    code sample like below:\r\n\r\n&gt;     &gt; CreateUserRequest createUserRequest = new CreateUserRequest();\r\n&gt;     &gt; createUserRequest.setUserName(sftpUser);\r\n&gt;     &gt; createUserRequest.setServerId(&quot;s-88ced8077ce24d99s&quot;); //don&#39;t want hardcode server ID here\r\n&gt;     &gt; createUserRequest.setRole(getIamRoleArnSftp());\r\n&gt;     &gt; createUserRequest.setHomeDirectoryType(HOME_DIRECTORY_TYPE);\r\n&gt;     &gt; createUserRequest.setHomeDirectory(getBucketName() + &quot;/&quot; + sftpUser);\r\n&gt;     &gt; return getAwsTransferClient().createUser(createUserRequest);\r\n\r\nAny recommendations and best practice please.\r\nThanks\r\n\r\n","title":"How to get AWS transfer family server id dynamically","body":"<p>I'm using AWS SDK Java to create users in transfer family service.\nWhen I create a new user on an existing transfer server, I need transfer server ID for the call to create a user.</p>\n<p>Server ID is a generated string by AWS like s-88ced8077ce24d99s. Whenever I recreate a new server, the server ID changed. I don't want to hard code the server ID in my Java code or even in an external file. I hope I can make a call to AWS to get the server ID somehow dynamically.</p>\n<p>My question is: Is this possible?</p>\n<ul>\n<li><p>like create an alias &quot;my-sftp-server&quot; somewhere, which the alias name won't change and always assign to the server, so I can use the alias name to figure out the server ID.</p>\n</li>\n<li><p>using tag and get it from resource group API</p>\n</li>\n<li><p>Other solution? environment variable, AWS Database?</p>\n<p>code sample like below:</p>\n</li>\n</ul>\n<blockquote>\n<pre><code>&gt; CreateUserRequest createUserRequest = new CreateUserRequest();\n&gt; createUserRequest.setUserName(sftpUser);\n&gt; createUserRequest.setServerId(&quot;s-88ced8077ce24d99s&quot;); //don't want hardcode server ID here\n&gt; createUserRequest.setRole(getIamRoleArnSftp());\n&gt; createUserRequest.setHomeDirectoryType(HOME_DIRECTORY_TYPE);\n&gt; createUserRequest.setHomeDirectory(getBucketName() + &quot;/&quot; + sftpUser);\n&gt; return getAwsTransferClient().createUser(createUserRequest);\n</code></pre>\n</blockquote>\n<p>Any recommendations and best practice please.\nThanks</p>\n"},{"tags":["java","spring-boot","spring-kafka","spring-cloud-sleuth","distributed-tracing"],"comments":[{"owner":{"account_id":2821426,"reputation":347,"user_id":2425109,"display_name":"user2425109"},"score":0,"creation_date":1676437967,"post_id":74474027,"comment_id":133134783,"body_markdown":"You got any solution I am also looking for way to propagate custom correlation id in API and event chain say Microservice X has one API which is triggering someEvent received by Microservice Y which again calling some API and so on. I need to propagate correlation id  through out. Can we use sleuth baggage for this?","body":"You got any solution I am also looking for way to propagate custom correlation id in API and event chain say Microservice X has one API which is triggering someEvent received by Microservice Y which again calling some API and so on. I need to propagate correlation id  through out. Can we use sleuth baggage for this?"}],"owner":{"account_id":13341584,"reputation":105,"user_id":9629659,"display_name":"Ahmed Ali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":440,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1668703744,"creation_date":1668681710,"question_id":74474027,"body_markdown":"I have two microservices using Kafka as a broker for the communications between them and using Spring Cloud Sleuth for tracing and both of them have the same Spring boot version 2.7.2.\r\n\r\nI needed to pass extra information (e.g. correlationId) for the Kafka messages but I tried to do so by adding remote baggage and it didn&#39;t work.\r\n\r\nExample code (Service A):\r\n```\r\n          Span newSpan = sleuthTracer.nextSpan().start();\r\n          try (SpanInScope spanInScope = sleuthTracer.withSpan(newSpan);) {\r\n            sleuthTracer.createBaggage(&quot;correlation-id&quot;).set(UUID.randomUUID().toString());\r\n           \r\n            String key = product.getData().getMarketplaceGroupId();\r\n            var listenableFuture = kafkaTemplate.send(topic, key, message);\r\n            futures.add(listenableFuture.completable());\r\n            processThePublishingResults(\r\n                listenableFuture, topic, key, resource);\r\n          } finally {\r\n            newSpan.end();\r\n          }\r\n```\r\n\r\n\r\nExample code (Service B):\r\n\r\nIn the Kafka consumer for the topic produced by Service A\r\n\r\n```\r\n\r\nString correlationIdBaggage = sleuthTracer.getBaggage(&quot;correlation-id&quot;).get();\r\nlog.info(&quot;Received Sleuth baggage with correlation-id = &quot; + correlationIdBaggage);\r\n\r\n```\r\n\r\n\r\nBoth service contain the configurations below in application.yaml:\r\n\r\n```\r\nspring:\r\n  sleuth:\r\n    traceId128: true\r\n    baggage:\r\n      remote-fields:\r\n        - correlation-id\r\n      tag-fields:\r\n        - correlation-id\r\n      correlation-enabled: true\r\n      correlation-fields:\r\n        - correlation-id\r\n```\r\n\r\nThe question is, does this only work with REST and not intended to work with Kafka?\r\nKnowing that the continuity of tracing is working fine with Kafka and Sleuth in our logs between the producer and consumer.\r\n\r\nThanks.","title":"Spring Cloud Sleuth - not propagating baggage for Spring Kafka","body":"<p>I have two microservices using Kafka as a broker for the communications between them and using Spring Cloud Sleuth for tracing and both of them have the same Spring boot version 2.7.2.</p>\n<p>I needed to pass extra information (e.g. correlationId) for the Kafka messages but I tried to do so by adding remote baggage and it didn't work.</p>\n<p>Example code (Service A):</p>\n<pre><code>          Span newSpan = sleuthTracer.nextSpan().start();\n          try (SpanInScope spanInScope = sleuthTracer.withSpan(newSpan);) {\n            sleuthTracer.createBaggage(&quot;correlation-id&quot;).set(UUID.randomUUID().toString());\n           \n            String key = product.getData().getMarketplaceGroupId();\n            var listenableFuture = kafkaTemplate.send(topic, key, message);\n            futures.add(listenableFuture.completable());\n            processThePublishingResults(\n                listenableFuture, topic, key, resource);\n          } finally {\n            newSpan.end();\n          }\n</code></pre>\n<p>Example code (Service B):</p>\n<p>In the Kafka consumer for the topic produced by Service A</p>\n<pre><code>\nString correlationIdBaggage = sleuthTracer.getBaggage(&quot;correlation-id&quot;).get();\nlog.info(&quot;Received Sleuth baggage with correlation-id = &quot; + correlationIdBaggage);\n\n</code></pre>\n<p>Both service contain the configurations below in application.yaml:</p>\n<pre><code>spring:\n  sleuth:\n    traceId128: true\n    baggage:\n      remote-fields:\n        - correlation-id\n      tag-fields:\n        - correlation-id\n      correlation-enabled: true\n      correlation-fields:\n        - correlation-id\n</code></pre>\n<p>The question is, does this only work with REST and not intended to work with Kafka?\nKnowing that the continuity of tracing is working fine with Kafka and Sleuth in our logs between the producer and consumer.</p>\n<p>Thanks.</p>\n"},{"tags":["java","javafx"],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1668703619,"creation_date":1668702374,"answer_id":74478912,"question_id":74478387,"body_markdown":"Use a row factory:\r\n\r\n        table.setRowFactory(tv -&gt; new TableRow&lt;&gt;() {\r\n            private Tooltip tooltip = new Tooltip();\r\n            @Override\r\n            protected void updateItem(Model item, boolean empty) {\r\n                super.updateItem(item, empty);\r\n                if (empty || item == null) {\r\n                    tooltip.textProperty().unbind();\r\n                    setTooltip(null);\r\n                } else {\r\n                    tooltip.textProperty().bind(item.reasonProperty());\r\n                    setTooltip(tooltip);\r\n                }\r\n            }\r\n        });\r\n\r\nThe row&#39;s `updateItem()` method will be invoked any time the row is used to display a new `Model` instance. Empty rows set their tooltip to null; non-empty rows set their tooltip to the tooltip instance, and bind the tooltip&#39;s text to the value in the model. The binding ensures the tooltip is updated if the `reason` changes.\r\n\r\nYou might want to make the logic a little more sophisticated, e.g. only display the tooltip if the text is non-empty, or if the flag is not set.","title":"Adding tooltip for CheckBoxTableCell","body":"<p>Use a row factory:</p>\n<pre><code>    table.setRowFactory(tv -&gt; new TableRow&lt;&gt;() {\n        private Tooltip tooltip = new Tooltip();\n        @Override\n        protected void updateItem(Model item, boolean empty) {\n            super.updateItem(item, empty);\n            if (empty || item == null) {\n                tooltip.textProperty().unbind();\n                setTooltip(null);\n            } else {\n                tooltip.textProperty().bind(item.reasonProperty());\n                setTooltip(tooltip);\n            }\n        }\n    });\n</code></pre>\n<p>The row's <code>updateItem()</code> method will be invoked any time the row is used to display a new <code>Model</code> instance. Empty rows set their tooltip to null; non-empty rows set their tooltip to the tooltip instance, and bind the tooltip's text to the value in the model. The binding ensures the tooltip is updated if the <code>reason</code> changes.</p>\n<p>You might want to make the logic a little more sophisticated, e.g. only display the tooltip if the text is non-empty, or if the flag is not set.</p>\n"}],"owner":{"account_id":12824901,"reputation":1708,"user_id":9278333,"display_name":"trilogy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668703619,"creation_date":1668700298,"question_id":74478387,"body_markdown":"I&#39;d like to add a tooltip for the `CheckBoxTableCell` using the &quot;reason&quot; property in my model. How do I do this?\r\n\r\n\r\n    import javafx.application.Application;\r\n    import javafx.beans.property.SimpleBooleanProperty;\r\n    import javafx.beans.property.SimpleStringProperty;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.TableColumn;\r\n    import javafx.scene.control.TableView;\r\n    import javafx.scene.control.cell.CheckBoxTableCell;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class Test extends Application\r\n    {\r\n    \r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String[] args)\r\n        {\r\n            launch(args);\r\n        }\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage) throws Exception\r\n        {\r\n            TableView&lt;Model&gt; table = new TableView();\r\n    \r\n            table.getItems().add(new Model());\r\n            table.getItems().add(new Model());\r\n    \r\n            table.getSelectionModel().setCellSelectionEnabled(true);\r\n    \r\n            TableColumn&lt;Model, Boolean&gt; column = new TableColumn&lt;&gt;(&quot;Column&quot;);\r\n            column.setCellFactory(CheckBoxTableCell.forTableColumn(column));\r\n            column.setCellValueFactory(features -&gt; features.getValue().flagProperty());\r\n    \r\n            table.getColumns().add(column);\r\n    \r\n            final Scene scene = new Scene(table);\r\n    \r\n            primaryStage.setScene(scene);\r\n            primaryStage.show();\r\n        }\r\n    \r\n        public class Model\r\n        {\r\n    \r\n            private SimpleBooleanProperty flag;\r\n            private SimpleStringProperty reason;\r\n    \r\n            public Model()\r\n            {\r\n                flag = new SimpleBooleanProperty();\r\n                reason = new SimpleStringProperty();\r\n            }\r\n    \r\n            /**\r\n             * @return the flag\r\n             */\r\n            public SimpleBooleanProperty flagProperty()\r\n            {\r\n                return flag;\r\n            }\r\n    \r\n            public SimpleStringProperty reasonProperty()\r\n            {\r\n                return reason;\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n","title":"Adding tooltip for CheckBoxTableCell","body":"<p>I'd like to add a tooltip for the <code>CheckBoxTableCell</code> using the &quot;reason&quot; property in my model. How do I do this?</p>\n<pre><code>import javafx.application.Application;\nimport javafx.beans.property.SimpleBooleanProperty;\nimport javafx.beans.property.SimpleStringProperty;\nimport javafx.scene.Scene;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableView;\nimport javafx.scene.control.cell.CheckBoxTableCell;\nimport javafx.stage.Stage;\n\npublic class Test extends Application\n{\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args)\n    {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage) throws Exception\n    {\n        TableView&lt;Model&gt; table = new TableView();\n\n        table.getItems().add(new Model());\n        table.getItems().add(new Model());\n\n        table.getSelectionModel().setCellSelectionEnabled(true);\n\n        TableColumn&lt;Model, Boolean&gt; column = new TableColumn&lt;&gt;(&quot;Column&quot;);\n        column.setCellFactory(CheckBoxTableCell.forTableColumn(column));\n        column.setCellValueFactory(features -&gt; features.getValue().flagProperty());\n\n        table.getColumns().add(column);\n\n        final Scene scene = new Scene(table);\n\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n\n    public class Model\n    {\n\n        private SimpleBooleanProperty flag;\n        private SimpleStringProperty reason;\n\n        public Model()\n        {\n            flag = new SimpleBooleanProperty();\n            reason = new SimpleStringProperty();\n        }\n\n        /**\n         * @return the flag\n         */\n        public SimpleBooleanProperty flagProperty()\n        {\n            return flag;\n        }\n\n        public SimpleStringProperty reasonProperty()\n        {\n            return reason;\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","image","terminal","printing"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1668310776,"post_id":74418303,"comment_id":131373084,"body_markdown":"It depends on what terminal you use, but most do not have the ability to display images","body":"It depends on what terminal you use, but most do not have the ability to display images"},{"owner":{"account_id":21325068,"reputation":39,"user_id":15697573,"display_name":"dumbQuestions"},"score":0,"creation_date":1668397318,"post_id":74418303,"comment_id":131387288,"body_markdown":"@TimMoore That&#39;s what I thought... Thanks for the answer!","body":"@TimMoore That&#39;s what I thought... Thanks for the answer!"}],"answers":[{"tags":[],"owner":{"account_id":22861885,"reputation":464,"user_id":17005821,"display_name":"Igor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668312937,"creation_date":1668312937,"answer_id":74418423,"question_id":74418303,"body_markdown":"&lt;h2&gt;You can&#39;t output an image in the terminal with Java.&lt;/h2&gt;\r\n\r\nThe closest you can get is to output [ASCII art][1], in which case,\r\nyou could use something like TEXT-IMAGE.com to generate a set of characters that can be outputted to the terminal to resemble a image.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ASCII_art","title":"How to display an image in the terminal with Java","body":"<h2>You can't output an image in the terminal with Java.</h2>\n<p>The closest you can get is to output <a href=\"https://en.wikipedia.org/wiki/ASCII_art\" rel=\"nofollow noreferrer\">ASCII art</a>, in which case,\nyou could use something like TEXT-IMAGE.com to generate a set of characters that can be outputted to the terminal to resemble a image.</p>\n"},{"tags":[],"owner":{"account_id":3379153,"reputation":195928,"user_id":2836621,"display_name":"Mark Setchell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668703475,"creation_date":1668703475,"answer_id":74479142,"question_id":74418303,"body_markdown":"You can display an image in the Terminal if your terminal accepts the *&quot;Inline Images Protocol&quot;* a.k.a. OSC codes. It is basically a few bytes of header, a base64-encoded PNG image and a couple of bytes to mark the end of the sequence.\r\n\r\nExample [here][1].\r\n\r\nThere is a similar tool called `showimg` and its source is [here][2].\r\n\r\n\r\n  [1]: https://iterm2.com/documentation-images.html\r\n  [2]: https://github.com/mintty/utils/blob/master/showimg","title":"How to display an image in the terminal with Java","body":"<p>You can display an image in the Terminal if your terminal accepts the <em>&quot;Inline Images Protocol&quot;</em> a.k.a. OSC codes. It is basically a few bytes of header, a base64-encoded PNG image and a couple of bytes to mark the end of the sequence.</p>\n<p>Example <a href=\"https://iterm2.com/documentation-images.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>There is a similar tool called <code>showimg</code> and its source is <a href=\"https://github.com/mintty/utils/blob/master/showimg\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":21325068,"reputation":39,"user_id":15697573,"display_name":"dumbQuestions"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668703475,"creation_date":1668310690,"question_id":74418303,"body_markdown":"I&#39;m creating a command line app in Java and wanted to know if it was possible to output an image in the terminal. Looked up online but could not find anything... \r\n\r\nThanks!","title":"How to display an image in the terminal with Java","body":"<p>I'm creating a command line app in Java and wanted to know if it was possible to output an image in the terminal. Looked up online but could not find anything...</p>\n<p>Thanks!</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":16673497,"reputation":2011,"user_id":12050506,"display_name":"possum"},"score":0,"creation_date":1668276457,"post_id":74415360,"comment_id":131367975,"body_markdown":"Post your code.","body":"Post your code."},{"owner":{"account_id":9609,"reputation":92294,"user_id":17833,"display_name":"Anya Shenanigans"},"score":1,"creation_date":1668276540,"post_id":74415360,"comment_id":131367997,"body_markdown":"You would need to show sample payload and code in order to debug this. It could be something as simple as not setting the `Content/Type` header.","body":"You would need to show sample payload and code in order to debug this. It could be something as simple as not setting the <code>Content&#47;Type</code> header."}],"owner":{"account_id":15959737,"reputation":21,"user_id":12056322,"display_name":"Stephen Olujare"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1668703004,"creation_date":1668276364,"question_id":74415360,"body_markdown":"I have a slack channel with a generated incoming webhook URL. I already have a JSON payload but I want to be able to post String messages to this channel using the rest template from my application\r\n\r\n I have tried using a formatted adaptive card payload but when I tried posting messages I got 400 bad requests then I realize that Slack webhook only accepts text and markdown for lists as payload.|\r\n","title":"Sending payload to slack channel with incoming webhook url","body":"<p>I have a slack channel with a generated incoming webhook URL. I already have a JSON payload but I want to be able to post String messages to this channel using the rest template from my application</p>\n<p>I have tried using a formatted adaptive card payload but when I tried posting messages I got 400 bad requests then I realize that Slack webhook only accepts text and markdown for lists as payload.|</p>\n"},{"tags":["java","android","exoplayer","mediametadataretriever"],"answers":[{"tags":[],"owner":{"account_id":21846932,"reputation":176,"user_id":16139621,"display_name":"Lukas Juskevicius"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1631975000,"creation_date":1631975000,"answer_id":69235518,"question_id":69235293,"body_markdown":"This method should get you the frame you want at the specific point \r\n \r\n\r\n      public static Bitmap getVideoFrame(Context context, Uri uri, long time) {\r\n        \r\n            Bitmap bitmap = null;\r\n            MediaMetadataRetriever retriever = new MediaMetadataRetriever();\r\n        \r\n            try {\r\n        \r\n                retriever.setDataSource(context, uri);\r\n                bitmap = retriever.getFrameAtTime(time);\r\n        \r\n            } catch (RuntimeException ex) {\r\n                ex.printStackTrace();\r\n        \r\n            } finally {\r\n        \r\n                try {\r\n        \r\n                    retriever.release();\r\n        \r\n                } catch (RuntimeException ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n            }\r\n        \r\n            return bitmap;\r\n        }\r\n","title":"How to capture a video frame Exoplayer android","body":"<p>This method should get you the frame you want at the specific point</p>\n<pre><code>  public static Bitmap getVideoFrame(Context context, Uri uri, long time) {\n    \n        Bitmap bitmap = null;\n        MediaMetadataRetriever retriever = new MediaMetadataRetriever();\n    \n        try {\n    \n            retriever.setDataSource(context, uri);\n            bitmap = retriever.getFrameAtTime(time);\n    \n        } catch (RuntimeException ex) {\n            ex.printStackTrace();\n    \n        } finally {\n    \n            try {\n    \n                retriever.release();\n    \n            } catch (RuntimeException ex) {\n                ex.printStackTrace();\n            }\n        }\n    \n        return bitmap;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20914067,"reputation":51,"user_id":15364213,"display_name":"ahmadu suleiman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632113963,"creation_date":1632113963,"answer_id":69249271,"question_id":69235293,"body_markdown":"It was supposed to be milliseconds * 1000. Fixed it! ","title":"How to capture a video frame Exoplayer android","body":"<p>It was supposed to be milliseconds * 1000. Fixed it!</p>\n"},{"tags":[],"owner":{"account_id":26416608,"reputation":11,"user_id":20064926,"display_name":"richa patel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668702975,"creation_date":1668690119,"answer_id":74475925,"question_id":69235293,"body_markdown":"You can simply use seekto() function present in exoplayer to play video from any timestamp of video!\r\n\r\ncode to setup Exoplayer:\r\n\r\nXML code:\r\n\r\n    &lt;com.google.android.exoplayer2.ui.PlayerView\r\n            android:id=&quot;@+id/videoPlayerView&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;200dp&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;10dp&quot;\r\n            android:layout_marginEnd=&quot;10dp&quot;\r\n            android:layout_marginTop=&quot;10dp&quot;/&gt;\r\n\r\n\r\ndefine these variables in you class:\r\n\r\n    private Context context;\r\n    private PlayerView videoPlayerView;\r\n    private ExoPlayer player;\r\n    String videoUri = &quot;http://commondatastorage.googleapis.com/gtvvideos-bucket/sample/ForBiggerEscapes.mp4&quot;;\r\n\r\nCreating a function in your class to setupExoPlayer:\r\n\r\n    public void setVideoPlayer(long time) {\r\n        player = new ExoPlayer.Builder(context).build();\r\n        //Bind the player to the view.\r\n        playerView.setPlayer(player);\r\n        MediaItem mediaItem = MediaItem.fromUri(videoUri);\r\n        // Set the media item to be played.\r\n        player.setMediaItem(mediaItem);\r\n        // SeekTo particular timestamp in videoPlayer\r\n        player.seekTo(time * 1000);\r\n        // Prepare the player.\r\n        player.prepare();\r\n        // Start the playback.\r\n        player.play();\r\n    }\r\n\r\npass to your playerview id (XML id) and run the app! :)\r\n\r\n// to start video from 0th second\r\n\r\n    videoPlayerView.setVideoPlayer(0);\r\n\r\n   // to start video from 10th second\r\n   \r\n\r\n    videoPlayerView.setVideoPlayer(10);\r\n\r\n","title":"How to capture a video frame Exoplayer android","body":"<p>You can simply use seekto() function present in exoplayer to play video from any timestamp of video!</p>\n<p>code to setup Exoplayer:</p>\n<p>XML code:</p>\n<pre><code>&lt;com.google.android.exoplayer2.ui.PlayerView\n        android:id=&quot;@+id/videoPlayerView&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;200dp&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        android:layout_marginStart=&quot;10dp&quot;\n        android:layout_marginEnd=&quot;10dp&quot;\n        android:layout_marginTop=&quot;10dp&quot;/&gt;\n</code></pre>\n<p>define these variables in you class:</p>\n<pre><code>private Context context;\nprivate PlayerView videoPlayerView;\nprivate ExoPlayer player;\nString videoUri = &quot;http://commondatastorage.googleapis.com/gtvvideos-bucket/sample/ForBiggerEscapes.mp4&quot;;\n</code></pre>\n<p>Creating a function in your class to setupExoPlayer:</p>\n<pre><code>public void setVideoPlayer(long time) {\n    player = new ExoPlayer.Builder(context).build();\n    //Bind the player to the view.\n    playerView.setPlayer(player);\n    MediaItem mediaItem = MediaItem.fromUri(videoUri);\n    // Set the media item to be played.\n    player.setMediaItem(mediaItem);\n    // SeekTo particular timestamp in videoPlayer\n    player.seekTo(time * 1000);\n    // Prepare the player.\n    player.prepare();\n    // Start the playback.\n    player.play();\n}\n</code></pre>\n<p>pass to your playerview id (XML id) and run the app! :)</p>\n<p>// to start video from 0th second</p>\n<pre><code>videoPlayerView.setVideoPlayer(0);\n</code></pre>\n<p>// to start video from 10th second</p>\n<pre><code>videoPlayerView.setVideoPlayer(10);\n</code></pre>\n"}],"owner":{"account_id":20914067,"reputation":51,"user_id":15364213,"display_name":"ahmadu suleiman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1888,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1668702975,"creation_date":1631973253,"question_id":69235293,"body_markdown":"I&#39;m trying to capture video frames at specific points in a video using Exoplayer but this code always capture the first frame of the video. How do I fix it\r\n\r\n```\r\nMediaMetadataRetriever retriever = new MediaMetadataRetriever();\r\nretriever.setDataSource(yourPath);\r\nBitmap bitmap = retriever.getFrameAtTime(simpleExoPlayer.getCurrentPosition());\r\n","title":"How to capture a video frame Exoplayer android","body":"<p>I'm trying to capture video frames at specific points in a video using Exoplayer but this code always capture the first frame of the video. How do I fix it</p>\n<pre><code>MediaMetadataRetriever retriever = new MediaMetadataRetriever();\nretriever.setDataSource(yourPath);\nBitmap bitmap = retriever.getFrameAtTime(simpleExoPlayer.getCurrentPosition());\n</code></pre>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":1164471,"reputation":5144,"user_id":1143387,"accept_rate":95,"display_name":"sniperd"},"score":0,"creation_date":1668699365,"post_id":74477963,"comment_id":131474397,"body_markdown":"Have you considered using substitution?  Like this: https://regex101.com/r/6Votk8/1 and just concatenating or only using the `$1` you desire?  Might do the trick.","body":"Have you considered using substitution?  Like this: <a href=\"https://regex101.com/r/6Votk8/1\" rel=\"nofollow noreferrer\">regex101.com/r/6Votk8/1</a> and just concatenating or only using the <code>$1</code> you desire?  Might do the trick."},{"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1668699401,"post_id":74477963,"comment_id":131474410,"body_markdown":"If you have this string `200010 10.00 200011` you can not get 200010 and 200011 in a single group","body":"If you have this string <code>200010 10.00 200011</code> you can not get 200010 and 200011 in a single group"},{"owner":{"account_id":25285411,"reputation":17,"user_id":19112514,"display_name":"Ajm Kir"},"score":0,"creation_date":1668700078,"post_id":74477963,"comment_id":131474700,"body_markdown":"@sniperd the thing is #Section251234,Main,First/HS/12345/Jack/M,200011 11.00\nthis line does not get recognized by the regex even though it should because it dosent have the $4 and $5 subsitutions","body":"@sniperd the thing is #Section251234,Main,First/HS/12345/Jack/M,200011 11.00 this line does not get recognized by the regex even though it should because it dosent have the $4 and $5 subsitutions"},{"owner":{"account_id":25285411,"reputation":17,"user_id":19112514,"display_name":"Ajm Kir"},"score":0,"creation_date":1668700454,"post_id":74477963,"comment_id":131474842,"body_markdown":"is it possible if i can do this using filter @Thefourthbird","body":"is it possible if i can do this using filter @Thefourthbird"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668702994,"post_id":74477963,"comment_id":131475838,"body_markdown":"You might use a different approach using a `Scanner` and collect it all: `List&lt;String[]&gt; jackStuff = new Scanner(s).useDelimiter(&quot;\\\\R&quot;).tokens().filter(line -&gt; line.contains(&quot;/Jack/M&quot;)).map(line -&gt; line.replaceAll(&quot;.*Jack/M,(.+)&quot;, &quot;$1&quot;)).map(line -&gt; line.split(&quot;,&quot;)).collect(Collectors.toList());`","body":"You might use a different approach using a <code>Scanner</code> and collect it all: <code>List&lt;String[]&gt; jackStuff = new Scanner(s).useDelimiter(&quot;\\\\R&quot;).tokens().filter(line -&gt; line.contains(&quot;&#47;Jack&#47;M&quot;)).map(line -&gt; line.replaceAll(&quot;.*Jack&#47;M,(.+)&quot;, &quot;$1&quot;)).map(line -&gt; line.split(&quot;,&quot;)).collect(Collectors.toList());</code>"},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1691094383,"post_id":74477963,"comment_id":135449197,"body_markdown":"You should always accept an answer if you have got the answer. If you do not know how to accept an answer, [here](https://meta.stackexchange.com/a/5235/676168) is the help topic.","body":"You should always accept an answer if you have got the answer. If you do not know how to accept an answer, <a href=\"https://meta.stackexchange.com/a/5235/676168\">here</a> is the help topic."}],"answers":[{"tags":[],"owner":{"account_id":9080284,"reputation":440,"user_id":6760346,"display_name":"damianr13"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668701752,"creation_date":1668701752,"answer_id":74478759,"question_id":74477963,"body_markdown":"I think it is quite difficult to accomplish what you want using solely regex. According to another [SO question][1] you can&#39;t have multiple matches for the same capturing group in your regex. Instead only the last matching pattern will actually be captured. \r\n\r\nMy suggestion is to split your string by line in java, iterate through the lines, check if a line contains the substring you search for &quot;Jack/M&quot;, and then use regex to extract the different bits by searching for simpler regex pattern instead of trying to match one long regex to the whole string. \r\n\r\nA good walk through on how to find matches for a regex in a string: https://www.tutorialspoint.com/getting-the-list-of-all-the-matches-java-regular-expressions\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/37003623/how-to-capture-multiple-repeated-groups","title":"Using regex to select 3 groups from a string","body":"<p>I think it is quite difficult to accomplish what you want using solely regex. According to another <a href=\"https://stackoverflow.com/questions/37003623/how-to-capture-multiple-repeated-groups\">SO question</a> you can't have multiple matches for the same capturing group in your regex. Instead only the last matching pattern will actually be captured.</p>\n<p>My suggestion is to split your string by line in java, iterate through the lines, check if a line contains the substring you search for &quot;Jack/M&quot;, and then use regex to extract the different bits by searching for simpler regex pattern instead of trying to match one long regex to the whole string.</p>\n<p>A good walk through on how to find matches for a regex in a string: <a href=\"https://www.tutorialspoint.com/getting-the-list-of-all-the-matches-java-regular-expressions\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/getting-the-list-of-all-the-matches-java-regular-expressions</a></p>\n"},{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668702948,"creation_date":1668702167,"answer_id":74478857,"question_id":74477963,"body_markdown":"You might use a pattern to get 2 capture groups, and then after process the capture 2 values to combine the numbers that should be grouped together.\r\n\r\nAs the dates and the values in the examples strings seem to go by pair, you can split the group 2 values from the regex on a space and create 2 groups using the modulo operator to group the even/odd occurrences.\r\n\r\n    #Section(\\d+)\\b(?:(?!#Section\\d).)*\\bJack/M,(\\d+\\h+[-+]?\\d+(?:\\.\\d+)?(?:\\s+\\d+\\h+[-+]?\\d+(?:\\.\\d+)?)*)\r\n\r\n[Regex demo](https://regex101.com/r/HmFCuE/1) | [Java demo](https://ideone.com/PSe23g)\r\n\r\n    String regex = &quot;#Section(\\\\d+)\\\\b(?:(?!#Section\\\\d).)*\\\\bJack/M,(\\\\d+\\\\h+[-+]?\\\\d+(?:\\\\.\\\\d+)?(?:\\\\s+\\\\d+\\\\h+[-+]?\\\\d+(?:\\\\.\\\\d+)?)*)&quot;;\r\n    String string = &quot;#Section250342,Main,First/HS/12345/Jack/M,200010 10.00 200011 -2.00,\\n&quot;\r\n            + &quot;#Section250322,Main,First/HS/12345/Aaron/N,200010 17.00,\\n&quot;\r\n            + &quot;#Section250399,Main,First/HS/12345/Jimmy/N,200010 12.00,\\n&quot;\r\n            + &quot;#Section251234,Main,First/HS/12345/Jack/M,200011 11.00&quot;;\r\n\r\n    Pattern pattern = Pattern.compile(regex, Pattern.MULTILINE);\r\n    Matcher matcher = pattern.matcher(string);\r\n\r\n\r\n    while (matcher.find()) {\r\n        List&lt;String&gt; group2 = new ArrayList&lt;&gt;();\r\n        List&lt;String&gt; group3 = new ArrayList&lt;&gt;();\r\n\r\n        System.out.println(&quot;Group 1: &quot; + matcher.group(1));\r\n        String[] parts = matcher.group(2).split(&quot;\\\\s+&quot;);\r\n        for (int i = 0; i &lt; parts.length; i++) {\r\n            if (i % 2 == 0) {\r\n                group2.add(parts[i]);\r\n            } else {\r\n                group3.add(parts[i]);\r\n            }\r\n        }\r\n        System.out.println(&quot;Group 2: &quot; + Arrays.toString(group2.toArray()));\r\n        System.out.println(&quot;Group 3: &quot; + Arrays.toString(group3.toArray()));\r\n    }\r\n}\r\n\r\nOutput\r\n\r\n\r\n    Group 1: 250342\r\n    Group 2: [200010, 200011]\r\n    Group 3: [10.00, -2.00]\r\n    Group 1: 251234\r\n    Group 2: [200011]\r\n    Group 3: [11.00]\r\n\r\nIf you want to group all values, you can create 3 lists and print all the 3 lists after the looping.\r\n\r\n    List&lt;String&gt; group1 = new ArrayList&lt;&gt;();\r\n    List&lt;String&gt; group2 = new ArrayList&lt;&gt;();\r\n    List&lt;String&gt; group3 = new ArrayList&lt;&gt;();\r\n\r\n    while (matcher.find()) {\r\n        group1.add(matcher.group(1));\r\n        String[] parts = matcher.group(2).split(&quot;\\\\s+&quot;);\r\n        for (int i = 0; i &lt; parts.length; i++) {\r\n            if (i % 2 == 0) {\r\n                group2.add(parts[i]);\r\n            } else {\r\n                group3.add(parts[i]);\r\n            }\r\n        }\r\n    }\r\n    System.out.println(&quot;Group 1: &quot; + Arrays.toString(group1.toArray()));\r\n    System.out.println(&quot;Group 2: &quot; + Arrays.toString(group2.toArray()));\r\n    System.out.println(&quot;Group 3: &quot; + Arrays.toString(group3.toArray()));\r\n\r\nOutput\r\n\r\n    Group 1: [250342, 251234]\r\n    Group 2: [200010, 200011, 200011]\r\n    Group 3: [10.00, -2.00, 11.00]\r\n\r\nSee this [Java demo](https://ideone.com/Ufspe4)","title":"Using regex to select 3 groups from a string","body":"<p>You might use a pattern to get 2 capture groups, and then after process the capture 2 values to combine the numbers that should be grouped together.</p>\n<p>As the dates and the values in the examples strings seem to go by pair, you can split the group 2 values from the regex on a space and create 2 groups using the modulo operator to group the even/odd occurrences.</p>\n<pre><code>#Section(\\d+)\\b(?:(?!#Section\\d).)*\\bJack/M,(\\d+\\h+[-+]?\\d+(?:\\.\\d+)?(?:\\s+\\d+\\h+[-+]?\\d+(?:\\.\\d+)?)*)\n</code></pre>\n<p><a href=\"https://regex101.com/r/HmFCuE/1\" rel=\"nofollow noreferrer\">Regex demo</a> | <a href=\"https://ideone.com/PSe23g\" rel=\"nofollow noreferrer\">Java demo</a></p>\n<pre><code>String regex = &quot;#Section(\\\\d+)\\\\b(?:(?!#Section\\\\d).)*\\\\bJack/M,(\\\\d+\\\\h+[-+]?\\\\d+(?:\\\\.\\\\d+)?(?:\\\\s+\\\\d+\\\\h+[-+]?\\\\d+(?:\\\\.\\\\d+)?)*)&quot;;\nString string = &quot;#Section250342,Main,First/HS/12345/Jack/M,200010 10.00 200011 -2.00,\\n&quot;\n        + &quot;#Section250322,Main,First/HS/12345/Aaron/N,200010 17.00,\\n&quot;\n        + &quot;#Section250399,Main,First/HS/12345/Jimmy/N,200010 12.00,\\n&quot;\n        + &quot;#Section251234,Main,First/HS/12345/Jack/M,200011 11.00&quot;;\n\nPattern pattern = Pattern.compile(regex, Pattern.MULTILINE);\nMatcher matcher = pattern.matcher(string);\n\n\nwhile (matcher.find()) {\n    List&lt;String&gt; group2 = new ArrayList&lt;&gt;();\n    List&lt;String&gt; group3 = new ArrayList&lt;&gt;();\n\n    System.out.println(&quot;Group 1: &quot; + matcher.group(1));\n    String[] parts = matcher.group(2).split(&quot;\\\\s+&quot;);\n    for (int i = 0; i &lt; parts.length; i++) {\n        if (i % 2 == 0) {\n            group2.add(parts[i]);\n        } else {\n            group3.add(parts[i]);\n        }\n    }\n    System.out.println(&quot;Group 2: &quot; + Arrays.toString(group2.toArray()));\n    System.out.println(&quot;Group 3: &quot; + Arrays.toString(group3.toArray()));\n}\n</code></pre>\n<p>}</p>\n<p>Output</p>\n<pre><code>Group 1: 250342\nGroup 2: [200010, 200011]\nGroup 3: [10.00, -2.00]\nGroup 1: 251234\nGroup 2: [200011]\nGroup 3: [11.00]\n</code></pre>\n<p>If you want to group all values, you can create 3 lists and print all the 3 lists after the looping.</p>\n<pre><code>List&lt;String&gt; group1 = new ArrayList&lt;&gt;();\nList&lt;String&gt; group2 = new ArrayList&lt;&gt;();\nList&lt;String&gt; group3 = new ArrayList&lt;&gt;();\n\nwhile (matcher.find()) {\n    group1.add(matcher.group(1));\n    String[] parts = matcher.group(2).split(&quot;\\\\s+&quot;);\n    for (int i = 0; i &lt; parts.length; i++) {\n        if (i % 2 == 0) {\n            group2.add(parts[i]);\n        } else {\n            group3.add(parts[i]);\n        }\n    }\n}\nSystem.out.println(&quot;Group 1: &quot; + Arrays.toString(group1.toArray()));\nSystem.out.println(&quot;Group 2: &quot; + Arrays.toString(group2.toArray()));\nSystem.out.println(&quot;Group 3: &quot; + Arrays.toString(group3.toArray()));\n</code></pre>\n<p>Output</p>\n<pre><code>Group 1: [250342, 251234]\nGroup 2: [200010, 200011, 200011]\nGroup 3: [10.00, -2.00, 11.00]\n</code></pre>\n<p>See this <a href=\"https://ideone.com/Ufspe4\" rel=\"nofollow noreferrer\">Java demo</a></p>\n"}],"owner":{"account_id":25285411,"reputation":17,"user_id":19112514,"display_name":"Ajm Kir"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1668702948,"creation_date":1668698586,"question_id":74477963,"body_markdown":"    String s = #Section250342,Main,First/HS/12345/Jack/M,200010 10.00 200011 -2.00,\r\n    #Section250322,Main,First/HS/12345/Aaron/N,200010 17.00,\r\n    #Section250399,Main,First/HS/12345/Jimmy/N,200010 12.00,\r\n    #Section251234,Main,First/HS/12345/Jack/M,200011 11.00\r\n\r\nWherever there is the word /Jack/M in the3 string, I want to pull the section numbers(250342,251234),dates (200010,200011) and the values(10.00,11.00,-2.00) associated with it using regex each time.   Sometines a single line can contain either one value or two so that what makes the regex sort of confusing. So at the end of day, there will be 3 diff groups we want to extract.\r\n\r\n\r\nI tried\r\n```none\r\n#Section(\\d+)(?:(?!#Section\\d).)*\\bJack/M,(\\d+)\\h+(\\d+(?:\\.\\d+)?)\\s(\\d+)\\h+([-+]?\\d+(?:\\.\\d+)?)\\b\r\n```\r\nSee it in action here - https://regex101.com/r/JaKeGg/1, it brings in 5 groups instead of 3 and when there is only one value here it doesn&#39;t seem to match so I need help with this.","title":"Using regex to select 3 groups from a string","body":"<pre><code>String s = #Section250342,Main,First/HS/12345/Jack/M,200010 10.00 200011 -2.00,\n#Section250322,Main,First/HS/12345/Aaron/N,200010 17.00,\n#Section250399,Main,First/HS/12345/Jimmy/N,200010 12.00,\n#Section251234,Main,First/HS/12345/Jack/M,200011 11.00\n</code></pre>\n<p>Wherever there is the word /Jack/M in the3 string, I want to pull the section numbers(250342,251234),dates (200010,200011) and the values(10.00,11.00,-2.00) associated with it using regex each time.   Sometines a single line can contain either one value or two so that what makes the regex sort of confusing. So at the end of day, there will be 3 diff groups we want to extract.</p>\n<p>I tried</p>\n<pre class=\"lang-none prettyprint-override\"><code>#Section(\\d+)(?:(?!#Section\\d).)*\\bJack/M,(\\d+)\\h+(\\d+(?:\\.\\d+)?)\\s(\\d+)\\h+([-+]?\\d+(?:\\.\\d+)?)\\b\n</code></pre>\n<p>See it in action here - <a href=\"https://regex101.com/r/JaKeGg/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/JaKeGg/1</a>, it brings in 5 groups instead of 3 and when there is only one value here it doesn't seem to match so I need help with this.</p>\n"},{"tags":["java","unit-testing","testing","junit","junit-jupiter"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1668642830,"post_id":74468611,"comment_id":131458526,"body_markdown":"There&#39;s no benefit in covering that class. If you must, just write `new BadRequestException()` in the test method and it&#39;s covered.","body":"There&#39;s no benefit in covering that class. If you must, just write <code>new BadRequestException()</code> in the test method and it&#39;s covered."},{"owner":{"account_id":15437683,"reputation":9,"user_id":11137318,"display_name":"Wry S."},"score":0,"creation_date":1668645307,"post_id":74468611,"comment_id":131458902,"body_markdown":"@f1sh Normally, I would agree. It&#39;s just that... our overall coverage factors directly into our grading and now has me going through everything line-by-line within the coverage report.\n\nYour recommendation definitely helped me with what I was looking for though. Thank you!","body":"@f1sh Normally, I would agree. It&#39;s just that... our overall coverage factors directly into our grading and now has me going through everything line-by-line within the coverage report.  Your recommendation definitely helped me with what I was looking for though. Thank you!"}],"answers":[{"tags":[],"owner":{"account_id":15437683,"reputation":9,"user_id":11137318,"display_name":"Wry S."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668702745,"creation_date":1668646459,"answer_id":74468940,"question_id":74468611,"body_markdown":"#### Solution credit to [@f1sh](https://stackoverflow.com/users/214525/f1sh) \r\n\r\nf1sh&#39;s comment (original solution) recommended to add `new BadRequestException()` within the JUnit test.\r\n\r\nThis gave an me idea on how I could hopefully improve upon that recommendation.\r\n\r\nMy final result:\r\n```\r\npackage &lt;package_name&gt;;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.DisplayName;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\r\n\r\npublic class TestBadRequestException {\r\n\r\n    @Test\r\n    @DisplayName(&quot;Test Empty BadRequestException Class&quot;)\r\n    public void testBadRequestException() {\r\n        \r\n        assertNotNull(new BadRequestException());      // &lt;---- Here\r\n\r\n    }\r\n}\r\n```","title":"JUnit Testing: How to test a custom, empty java class that extends Exception?","body":"<h4>Solution credit to <a href=\"https://stackoverflow.com/users/214525/f1sh\">@f1sh</a></h4>\n<p>f1sh's comment (original solution) recommended to add <code>new BadRequestException()</code> within the JUnit test.</p>\n<p>This gave an me idea on how I could hopefully improve upon that recommendation.</p>\n<p>My final result:</p>\n<pre><code>package &lt;package_name&gt;;\n\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.DisplayName;\n\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\n\npublic class TestBadRequestException {\n\n    @Test\n    @DisplayName(&quot;Test Empty BadRequestException Class&quot;)\n    public void testBadRequestException() {\n        \n        assertNotNull(new BadRequestException());      // &lt;---- Here\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14070869,"reputation":71,"user_id":10164385,"display_name":"Ngo Tuoc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668651717,"creation_date":1668651717,"answer_id":74469417,"question_id":74468611,"body_markdown":"I think write a unit test for that class is unnecessary.\r\nYou can try exclude that on your code coverage rules","title":"JUnit Testing: How to test a custom, empty java class that extends Exception?","body":"<p>I think write a unit test for that class is unnecessary.\nYou can try exclude that on your code coverage rules</p>\n"}],"owner":{"account_id":15437683,"reputation":9,"user_id":11137318,"display_name":"Wry S."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":611,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1668702745,"creation_date":1668642635,"question_id":74468611,"body_markdown":"I am currently attempting to extend test coverage for a school-based-assignment web application after I came across a completely empty class that extends Exception and contains no coverage according to the coverage report.\r\n\r\nNormally, I would assume that something like this could be disregarded. However, our overall test coverage factor directly into our individual grading for this course. Because of this and it being near the end of the semester, I am trying to go through the code flagged within the coverage report line-by-line and tidy up anything I can.\r\n\r\nAfter going through course content and searches online, I am unsure of how to proceed with writing a test for a class such as this. This server-side class was included in our initial code base that was given to us at the start of the semester by the instructor (we build onto the code base as the semester progresses).\r\n\r\n\r\nThe entire code for the Java class:\r\n```\r\npackage &lt;package_name&gt;;\r\n/*\r\n * This is a custom exception that fits our personal\r\n * needs and won&#39;t collide with existing issues.\r\n */\r\npublic class BadRequestException extends Exception {}\r\n```\r\n\r\n\r\nOne example of how the class is used (still code that was provided by instructor):\r\n```\r\nprivate String processHttpRequest(spark.Request httpRequest, spark.Response httpResponse, Type requestType) {\r\n    setupResponse(httpResponse);\r\n    String jsonString = httpRequest.body();\r\n    try {\r\n        JSONValidator.validate(jsonString, requestType);\r\n        Request requestObj = new Gson().fromJson(jsonString, requestType);\r\n        return buildJSONResponse(requestObj);\r\n    } catch (IOException | BadRequestException e) {                // &lt;---- Here\r\n        log.info(&quot;Bad Request - {}&quot;, e.getMessage());              // &lt;----\r\n        httpResponse.status(HTTP_BAD_REQUEST);\r\n    } catch (Exception e) {\r\n        log.info(&quot;Server Error - &quot;, e);\r\n        httpResponse.status(HTTP_SERVER_ERROR);\r\n    }\r\n    return jsonString;\r\n}\r\n```\r\n\r\n\r\nWhat I have so far (practically nothing):\r\n```\r\npackage &lt;package_name&gt;;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.DisplayName;\r\n\r\npublic class TestBadRequestException {\r\n\r\n    @Test\r\n    @DisplayName(&quot;Test Empty BadRequestException Class&quot;)\r\n    public void testBadRequestException() {\r\n        \r\n    }\r\n}\r\n```\r\n\r\nPrior to the start of the semester, I had no experience with JUnit. So, any feedback/references/recommendations are greatly appreciated.\r\n\r\n\r\n### **EDIT (Solution):**\r\n\r\nThe first comment on this post provided the solution I was looking for. I had not occurred to me that it would be this simple.\r\n\r\nThe solution is in the answer below with proper credit.","title":"JUnit Testing: How to test a custom, empty java class that extends Exception?","body":"<p>I am currently attempting to extend test coverage for a school-based-assignment web application after I came across a completely empty class that extends Exception and contains no coverage according to the coverage report.</p>\n<p>Normally, I would assume that something like this could be disregarded. However, our overall test coverage factor directly into our individual grading for this course. Because of this and it being near the end of the semester, I am trying to go through the code flagged within the coverage report line-by-line and tidy up anything I can.</p>\n<p>After going through course content and searches online, I am unsure of how to proceed with writing a test for a class such as this. This server-side class was included in our initial code base that was given to us at the start of the semester by the instructor (we build onto the code base as the semester progresses).</p>\n<p>The entire code for the Java class:</p>\n<pre><code>package &lt;package_name&gt;;\n/*\n * This is a custom exception that fits our personal\n * needs and won't collide with existing issues.\n */\npublic class BadRequestException extends Exception {}\n</code></pre>\n<p>One example of how the class is used (still code that was provided by instructor):</p>\n<pre><code>private String processHttpRequest(spark.Request httpRequest, spark.Response httpResponse, Type requestType) {\n    setupResponse(httpResponse);\n    String jsonString = httpRequest.body();\n    try {\n        JSONValidator.validate(jsonString, requestType);\n        Request requestObj = new Gson().fromJson(jsonString, requestType);\n        return buildJSONResponse(requestObj);\n    } catch (IOException | BadRequestException e) {                // &lt;---- Here\n        log.info(&quot;Bad Request - {}&quot;, e.getMessage());              // &lt;----\n        httpResponse.status(HTTP_BAD_REQUEST);\n    } catch (Exception e) {\n        log.info(&quot;Server Error - &quot;, e);\n        httpResponse.status(HTTP_SERVER_ERROR);\n    }\n    return jsonString;\n}\n</code></pre>\n<p>What I have so far (practically nothing):</p>\n<pre><code>package &lt;package_name&gt;;\n\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.DisplayName;\n\npublic class TestBadRequestException {\n\n    @Test\n    @DisplayName(&quot;Test Empty BadRequestException Class&quot;)\n    public void testBadRequestException() {\n        \n    }\n}\n</code></pre>\n<p>Prior to the start of the semester, I had no experience with JUnit. So, any feedback/references/recommendations are greatly appreciated.</p>\n<h3><strong>EDIT (Solution):</strong></h3>\n<p>The first comment on this post provided the solution I was looking for. I had not occurred to me that it would be this simple.</p>\n<p>The solution is in the answer below with proper credit.</p>\n"},{"tags":["java","zip","response","inputstream","zipinputstream"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1668620649,"post_id":74464580,"comment_id":131451933,"body_markdown":"bytes are bytes. By turning it into a string, you corrupt it. Don&#39;t do that. Call `.bytes()`.","body":"bytes are bytes. By turning it into a string, you corrupt it. Don&#39;t do that. Call <code>.bytes()</code>."},{"owner":{"account_id":23459045,"reputation":11,"user_id":17514132,"display_name":"FNA"},"score":0,"creation_date":1668679304,"post_id":74464580,"comment_id":131466388,"body_markdown":"I can&#39;t believe I&#39;ve been struggling for a week and really missed this little thing. Thank you it really helped to solve my problem.","body":"I can&#39;t believe I&#39;ve been struggling for a week and really missed this little thing. Thank you it really helped to solve my problem."}],"answers":[{"tags":[],"owner":{"account_id":5214588,"reputation":37,"user_id":7180277,"display_name":"Joe Derham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668702557,"creation_date":1668619641,"answer_id":74464739,"question_id":74464580,"body_markdown":"Would it be a matter of encoding type?  String is of type UTF-16 (I think).  Try a different datatype that is more like an array/vector of bytes.\r\n\r\nTry something like what is mentioned here: \r\n[https://stackoverflow.com/questions/9722549/having-trouble-reading-http-response-into-input-stream][1]\r\n\r\n\r\nUpdate: Get the response as a stream of bytes and feed it into a ZipInputStream object as shown here [https://zetcode.com/java/zipinputstream/#:~:text=ZipInputStream%20is%20a%20Java%20class,both%20compressed%20and%20uncompressed%20entries.][2]\r\n\r\nThen iterate over the contained files to find the one you need.  Then retrieve the stream associated with the zipped file.  Then you can read from there.  (I realize that is a bit of handwaving, but it&#39;s been a while since I used Zip files and Java.)  That should get you down the correct path.\r\n\r\n  [1]: https://stackoverflow.com/questions/9722549/having-trouble-reading-http-response-into-input-stream\r\n  [2]: https://zetcode.com/java/zipinputstream/#:~:text=ZipInputStream%20is%20a%20Java%20class,both%20compressed%20and%20uncompressed%20entries.","title":"In Spring Boot Java Extracting the zip file from response without physically saving it","body":"<p>Would it be a matter of encoding type?  String is of type UTF-16 (I think).  Try a different datatype that is more like an array/vector of bytes.</p>\n<p>Try something like what is mentioned here:\n<a href=\"https://stackoverflow.com/questions/9722549/having-trouble-reading-http-response-into-input-stream\">Having trouble reading http response into input stream</a></p>\n<p>Update: Get the response as a stream of bytes and feed it into a ZipInputStream object as shown here <a href=\"https://zetcode.com/java/zipinputstream/#:%7E:text=ZipInputStream%20is%20a%20Java%20class,both%20compressed%20and%20uncompressed%20entries.\" rel=\"nofollow noreferrer\">https://zetcode.com/java/zipinputstream/#:~:text=ZipInputStream%20is%20a%20Java%20class,both%20compressed%20and%20uncompressed%20entries.</a></p>\n<p>Then iterate over the contained files to find the one you need.  Then retrieve the stream associated with the zipped file.  Then you can read from there.  (I realize that is a bit of handwaving, but it's been a while since I used Zip files and Java.)  That should get you down the correct path.</p>\n"}],"owner":{"account_id":23459045,"reputation":11,"user_id":17514132,"display_name":"FNA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":545,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668702557,"creation_date":1668618867,"question_id":74464580,"body_markdown":"In Spring Boot the zip file that comes as a response has a corrupted structure before saving, but there is no problem when I save it physically. I need to take the file in the zip file and process the information in the database, but I cannot physically download this file because I am using GCP. How can I extract the file in this zip file that comes as a response?. How can I solve this please help.\r\n\r\nHere is what it looks like in response.body() before saving (part of it):\r\n\r\n\r\n&quot;PK    C`iUq �=n 緰)   bu_customerfile_22110703_B001_10292121141�]i��������RI%U�v��CJ� ���&#215;��My��y/ίϹ�������=&gt;����}����8���׿}~}~yz�������ͲL��\r\n�o�0�fV�29f�����6΋$K�c$�F��/�8˳�L��_�QaZ-q�F�d4γE�[���(f�8�D�0��2_��P&quot;�I�A��D��4�߂�����D��(�T�$.��&lt;�,���i]Fe�iM�q&lt;*ʨ�Olmi�(&amp;���?�y�y4��&lt;��Q�X�ޘp�@�6f-.F���*�8����&quot;I㢨ҤU]�E��WI� \t%@������(W�8*0c�p:L��:� �}�G����e&lt;����a�&quot;\r\n\r\n\r\n\r\n\r\n\r\nHere is the request call:\r\n\r\n\r\n```\r\nOkHttpClient client1 = new OkHttpClient().newBuilder()\r\n        .build();\r\nMediaType mediaType1 = MediaType.parse(&quot;text/plain&quot;);\r\nRequestBody body1 = RequestBody.create(mediaType1, &quot;&quot;);\r\nRequest request1 = new Request.Builder()\r\n        .url(vers)\r\n        .method(&quot;POST&quot;, body1)\r\n        .addHeader(&quot;Cookie&quot;, &quot;ASP.NET_SessionId=44dxexdxass5mtf00udjfwns&quot;)\r\n        .build();\r\nResponse response1 = client1.newCall(request1).execute();\r\n\r\nString data = response1.body().string();\r\n```\r\n\r\n","title":"In Spring Boot Java Extracting the zip file from response without physically saving it","body":"<p>In Spring Boot the zip file that comes as a response has a corrupted structure before saving, but there is no problem when I save it physically. I need to take the file in the zip file and process the information in the database, but I cannot physically download this file because I am using GCP. How can I extract the file in this zip file that comes as a response?. How can I solve this please help.</p>\n<p>Here is what it looks like in response.body() before saving (part of it):</p>\n<p>&quot;PK    C`iUq �=n 緰)   bu_customerfile_22110703_B001_10292121141�]i��������RI%U�v��CJ� ���×��My��y/ίϹ�������=&gt;����}����8���׿}~}~yz�������ͲL��\n�o�0�fV�29f�����6΋$K�c$�F��/�8˳�L��_�QaZ-q�F�d4γE�[���(f�8�D�0��2_��P&quot;�I�A��D��4�߂�����D��(�T�$.��&lt;�,���i]Fe�iM�q&lt;<em>ʨ�Olmi�(&amp;���?�y�y4��&lt;��Q�X�ޘp�@�6f-.F���</em>�8����&quot;I㢨ҤU]�E��WI�     %@������(W�8*0c�p:L��:� �}�G����e&lt;����a�&quot;</p>\n<p>Here is the request call:</p>\n<pre><code>OkHttpClient client1 = new OkHttpClient().newBuilder()\n        .build();\nMediaType mediaType1 = MediaType.parse(&quot;text/plain&quot;);\nRequestBody body1 = RequestBody.create(mediaType1, &quot;&quot;);\nRequest request1 = new Request.Builder()\n        .url(vers)\n        .method(&quot;POST&quot;, body1)\n        .addHeader(&quot;Cookie&quot;, &quot;ASP.NET_SessionId=44dxexdxass5mtf00udjfwns&quot;)\n        .build();\nResponse response1 = client1.newCall(request1).execute();\n\nString data = response1.body().string();\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1668698613,"post_id":74477778,"comment_id":131474064,"body_markdown":"You either need to add an `email` column to your query, or you need to define an explicit result set mapping, or you need to define a DTO without a `email` field.","body":"You either need to add an <code>email</code> column to your query, or you need to define an explicit result set mapping, or you need to define a DTO without a <code>email</code> field."}],"answers":[{"tags":[],"owner":{"account_id":26087345,"reputation":7,"user_id":19784706,"display_name":"Kaan Tuğberk Avlamaz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668698911,"creation_date":1668698911,"answer_id":74478047,"question_id":74477778,"body_markdown":"You have to fill in the selection with your email. Like this:\r\n&quot;String selection = &quot;d.id, d.name, d.email&quot;;&quot;\r\nOr \r\nYou must define a value that will be equivalent to the column.","title":"The column name email was not found in this ResultSet","body":"<p>You have to fill in the selection with your email. Like this:\n&quot;String selection = &quot;d.id, d.name, d.email&quot;;&quot;\nOr\nYou must define a value that will be equivalent to the column.</p>\n"}],"owner":{"account_id":15201372,"reputation":11,"user_id":10969269,"display_name":"Eduardojls"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668702194,"creation_date":1668697880,"question_id":74477778,"body_markdown":"I&#39;m doing a dynamic query with **NativeQuery**, where you return one or many columns values. The columns name to be consulted are sent by user through the body of an Endpoint. The query I created is as follow:\r\n\r\n**PostgreSQL Script**\r\n\r\n    SELECT :selection FROM myScheme.myTable\r\n\r\n**NativeQuery Script**\r\n\r\n    String selection = &quot;d.id, d.name&quot;;\r\n    StringBuilder builder = new StringBuilder();\r\n    builder.append(&quot;SELECT &quot; + selection + &quot; FROM myTable d &quot;);\r\n    Query query = em.createNativeQuery(builder.toString());\r\n    List&lt;Tuple&gt; services = query.getResultList();\r\n\r\n**DTO**\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Entity\r\n    public class myDTO  {\r\n\r\n       private int id;\r\n       private String name;\r\n       private String email;\r\n    }\r\n\r\nWhile executing my code, I&#39;m getting this error:\r\n\r\n    The column name email was not found in this ResultSet\r\n\r\n**UPDATED**\r\n\r\nI might guess, I&#39;m getting that error because my query is only querying by d.id and d.name (which is fine) since selection doesn&#39;t contain the **d.email**. The **id** an **name** fields of my DTO Class are being filled in, but email don&#39;t, so that the error, isn&#39;t it? \r\n\r\n ","title":"The column name email was not found in this ResultSet","body":"<p>I'm doing a dynamic query with <strong>NativeQuery</strong>, where you return one or many columns values. The columns name to be consulted are sent by user through the body of an Endpoint. The query I created is as follow:</p>\n<p><strong>PostgreSQL Script</strong></p>\n<pre><code>SELECT :selection FROM myScheme.myTable\n</code></pre>\n<p><strong>NativeQuery Script</strong></p>\n<pre><code>String selection = &quot;d.id, d.name&quot;;\nStringBuilder builder = new StringBuilder();\nbuilder.append(&quot;SELECT &quot; + selection + &quot; FROM myTable d &quot;);\nQuery query = em.createNativeQuery(builder.toString());\nList&lt;Tuple&gt; services = query.getResultList();\n</code></pre>\n<p><strong>DTO</strong></p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\npublic class myDTO  {\n\n   private int id;\n   private String name;\n   private String email;\n}\n</code></pre>\n<p>While executing my code, I'm getting this error:</p>\n<pre><code>The column name email was not found in this ResultSet\n</code></pre>\n<p><strong>UPDATED</strong></p>\n<p>I might guess, I'm getting that error because my query is only querying by d.id and d.name (which is fine) since selection doesn't contain the <strong>d.email</strong>. The <strong>id</strong> an <strong>name</strong> fields of my DTO Class are being filled in, but email don't, so that the error, isn't it?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","webflux"],"answers":[{"tags":[],"owner":{"account_id":3870891,"reputation":35,"user_id":3206193,"display_name":"nicari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668701995,"creation_date":1646307419,"answer_id":71336518,"question_id":71300847,"body_markdown":"Found the problem myself: I was trying to use WebFlux and non-reactive Spring together. I managed to do so by applying the annotation\r\n```\r\n@EnableAutoConfiguration(exclude = {WebMvcAutoConfiguration.class })\r\n```\r\nto the main class, which solved the exception during boot:\r\n```\r\nInvalid bean definition with name &#39;requestMappingHandlerAdapter&#39; defined in class path resource [...]: Cannot register bean definition [...] for bean &#39;requestMappingHandlerAdapter&#39;: There is already [...] bound.\r\n```\r\nbut probably disable some Jackson component generating the problem I was facing.\r\n\r\nSolved by converting the SurveyController into a reactive one by returning `Flux&lt;Survey&gt;` instead of `List&lt;Survey&gt;`","title":"Spring: No converter for [class java.util.ArrayList] with preset Content-Type &#39;null&#39;","body":"<p>Found the problem myself: I was trying to use WebFlux and non-reactive Spring together. I managed to do so by applying the annotation</p>\n<pre><code>@EnableAutoConfiguration(exclude = {WebMvcAutoConfiguration.class })\n</code></pre>\n<p>to the main class, which solved the exception during boot:</p>\n<pre><code>Invalid bean definition with name 'requestMappingHandlerAdapter' defined in class path resource [...]: Cannot register bean definition [...] for bean 'requestMappingHandlerAdapter': There is already [...] bound.\n</code></pre>\n<p>but probably disable some Jackson component generating the problem I was facing.</p>\n<p>Solved by converting the SurveyController into a reactive one by returning <code>Flux&lt;Survey&gt;</code> instead of <code>List&lt;Survey&gt;</code></p>\n"}],"owner":{"account_id":3870891,"reputation":35,"user_id":3206193,"display_name":"nicari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3457,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1668701995,"creation_date":1646081049,"question_id":71300847,"body_markdown":"I keep getting this error even if the obvious possible causes seems to be taken care of (missing public getters on Survey class, missing jackson from dependency...)\r\n```\r\nServlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.http.converter.HttpMessageNotWritableException: No converter for [class java.util.ArrayList] with preset Content-Type &#39;null&#39;] with root cause\r\n\r\norg.springframework.http.converter.HttpMessageNotWritableException: No converter for [class java.util.ArrayList] with preset Content-Type &#39;null&#39;\r\n```\r\n\r\nController not working:\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class SurveyController {\r\n\r\n    @Autowired\r\n    SurveyService surveyService;\r\n\r\n    @RequestMapping(value = &quot;/surveys&quot;, method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public @ResponseBody List&lt;Survey&gt; getAllSurveys() {\r\n        List&lt;Survey&gt; surveys = surveyService.findAll();\r\n\r\n        return surveys; // &lt;-- ERROR HERE\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nThe public getters and setters are beign generated:\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Survey {\r\n    private String sid;\r\n    private String surveyls_title;\r\n    @Nullable\r\n    private String startdate;\r\n    @Nullable\r\n    private String expires;\r\n    private String active;\r\n}\r\n```\r\n\r\nThe service works as expected returning the list of Surveys\r\n```\r\n@Service\r\npublic class SurveyService implements SurveyServiceInterface{\r\n\r\n    @Autowired\r\n    WebClient webClient;\r\n\r\n    private final String SESSION_KEY = &quot;***************&quot;;\r\n\r\n    public List&lt;Survey&gt; findAll() {\r\n\r\n        RPCRequest&lt;Object&gt; rpcRequest = RPCRequest.builder()\r\n                .method(&quot;list_surveys&quot;)\r\n                .id(1)\r\n                .params(new ArrayList&lt;&gt;(){{\r\n                    add(SESSION_KEY);\r\n                }})\r\n                .build();\r\n\r\n        RPCResponse&lt;Survey&gt; rpcResponse = webClient.post()\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .accept(MediaType.APPLICATION_JSON)\r\n                .body(BodyInserters.fromValue(rpcRequest))\r\n                .retrieve()\r\n                .bodyToMono(RPCResponse.class)\r\n                .single()\r\n                .block();\r\n\r\n        return rpcResponse.getResult();\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Configuration\r\n@EnableWebFlux\r\npublic class WebFluxConfig implements WebFluxConfigurer{\r\n\r\n    @Bean\r\n    public WebClient getWebClient() {\r\n        HttpClient httpClient = HttpClient.create()\r\n                .tcpConfiguration(client -&gt;\r\n                        client.option(ChannelOption.CONNECT_TIMEOUT_MILLIS, 10000)\r\n                                .doOnConnected(conn -&gt; conn\r\n                                        .addHandlerLast(new ReadTimeoutHandler(10))\r\n                                        .addHandlerLast(new WriteTimeoutHandler(10))));\r\n\r\n        ClientHttpConnector connector = new ReactorClientHttpConnector(httpClient.wiretap(true));\r\n\r\n        return WebClient.builder()\r\n                .baseUrl(&quot;https://****.net/***.php/***/remotecontrol&quot;)\r\n                .clientConnector(connector)\r\n                .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\r\n                .exchangeStrategies(ExchangeStrategies.builder().codecs(this::acceptedCodecs).build())\r\n                .build();\r\n    }\r\n\r\n    private void acceptedCodecs(ClientCodecConfigurer clientCodecConfigurer) {\r\n        clientCodecConfigurer.customCodecs().register(new Jackson2JsonEncoder(new ObjectMapper(), MediaType.valueOf(&quot;text/javascript;charset=UTF-8&quot;)));\r\n        clientCodecConfigurer.customCodecs().register(new Jackson2JsonDecoder(new ObjectMapper(), MediaType.valueOf(&quot;text/javascript;charset=UTF-8&quot;)));\r\n    }\r\n}\r\n```\r\n\r\nPOM.xml\r\n\r\n```xml\r\n  &lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;2.5.6&lt;/version&gt;\r\n  &lt;/parent&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;java.version&gt;17&lt;/java.version&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n      &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n      &lt;version&gt;2.1.210&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n```\r\n\r\nDependency tree shows that jackson-databind and jackson-core are present\r\n```txt\r\n[INFO] --- maven-dependency-plugin:3.1.2:tree (default-cli) @ SurveyAPI ---\r\n[INFO] com.**********:SurveyAPI:jar:0.0.1-SNAPSHOT\r\n[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:2.5.6:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter:jar:2.5.6:compile\r\n[INFO] |  |  +- org.springframework.boot:spring-boot:jar:2.5.6:compile\r\n[INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:2.5.6:compile\r\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:2.5.6:compile\r\n[INFO] |  |  |  +- ch.qos.logback:logback-classic:jar:1.2.6:compile\r\n[INFO] |  |  |  |  +- ch.qos.logback:logback-core:jar:1.2.6:compile\r\n[INFO] |  |  |  |  \\- org.slf4j:slf4j-api:jar:1.7.32:compile\r\n[INFO] |  |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.14.1:compile\r\n[INFO] |  |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.14.1:compile\r\n[INFO] |  |  |  \\- org.slf4j:jul-to-slf4j:jar:1.7.32:compile\r\n[INFO] |  |  +- jakarta.annotation:jakarta.annotation-api:jar:1.3.5:compile\r\n[INFO] |  |  +- org.springframework:spring-core:jar:5.3.12:compile\r\n[INFO] |  |  |  \\- org.springframework:spring-jcl:jar:5.3.12:compile\r\n[INFO] |  |  \\- org.yaml:snakeyaml:jar:1.28:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-json:jar:2.5.6:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.12.5:compile\r\n[INFO] |  |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.12.5:compile\r\n[INFO] |  |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.12.5:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.12.5:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.12.5:compile\r\n[INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.12.5:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:2.5.6:compile\r\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:9.0.54:compile\r\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:9.0.54:compile\r\n[INFO] |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:9.0.54:compile\r\n[INFO] |  +- org.springframework:spring-web:jar:5.3.12:compile\r\n[INFO] |  |  \\- org.springframework:spring-beans:jar:5.3.12:compile\r\n[INFO] |  \\- org.springframework:spring-webmvc:jar:5.3.12:compile\r\n[INFO] |     +- org.springframework:spring-aop:jar:5.3.12:compile\r\n[INFO] |     +- org.springframework:spring-context:jar:5.3.12:compile\r\n[INFO] |     \\- org.springframework:spring-expression:jar:5.3.12:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-webflux:jar:2.5.6:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-reactor-netty:jar:2.5.6:compile\r\n[INFO] |  |  \\- io.projectreactor.netty:reactor-netty-http:jar:1.0.12:compile\r\n[INFO] |  |     +- io.netty:netty-codec-http:jar:4.1.69.Final:compile\r\n[INFO] |  |     |  +- io.netty:netty-common:jar:4.1.69.Final:compile\r\n[INFO] |  |     |  +- io.netty:netty-buffer:jar:4.1.69.Final:compile\r\n[INFO] |  |     |  +- io.netty:netty-transport:jar:4.1.69.Final:compile\r\n[INFO] |  |     |  +- io.netty:netty-codec:jar:4.1.69.Final:compile\r\n[INFO] |  |     |  \\- io.netty:netty-handler:jar:4.1.69.Final:compile\r\n[INFO] |  |     +- io.netty:netty-codec-http2:jar:4.1.69.Final:compile\r\n[INFO] |  |     +- io.netty:netty-resolver-dns:jar:4.1.69.Final:compile\r\n[INFO] |  |     |  +- io.netty:netty-resolver:jar:4.1.69.Final:compile\r\n[INFO] |  |     |  \\- io.netty:netty-codec-dns:jar:4.1.69.Final:compile\r\n[INFO] |  |     +- io.netty:netty-resolver-dns-native-macos:jar:osx-x86_64:4.1.69.Final:compile\r\n[INFO] |  |     |  \\- io.netty:netty-transport-native-unix-common:jar:4.1.69.Final:compile\r\n[INFO] |  |     +- io.netty:netty-transport-native-epoll:jar:linux-x86_64:4.1.69.Final:compile\r\n[INFO] |  |     \\- io.projectreactor.netty:reactor-netty-core:jar:1.0.12:compile\r\n[INFO] |  |        \\- io.netty:netty-handler-proxy:jar:4.1.69.Final:compile\r\n[INFO] |  |           \\- io.netty:netty-codec-socks:jar:4.1.69.Final:compile\r\n[INFO] |  \\- org.springframework:spring-webflux:jar:5.3.12:compile\r\n[INFO] |     \\- io.projectreactor:reactor-core:jar:3.4.11:compile\r\n[INFO] |        \\- org.reactivestreams:reactive-streams:jar:1.0.3:compile\r\n[INFO] +- com.h2database:h2:jar:2.1.210:compile\r\n[INFO] \\- org.projectlombok:lombok:jar:1.18.22:provided\r\n```\r\n\r\nDoes anybody know what I&#39;m doing wrong? Thanks","title":"Spring: No converter for [class java.util.ArrayList] with preset Content-Type &#39;null&#39;","body":"<p>I keep getting this error even if the obvious possible causes seems to be taken care of (missing public getters on Survey class, missing jackson from dependency...)</p>\n<pre><code>Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.http.converter.HttpMessageNotWritableException: No converter for [class java.util.ArrayList] with preset Content-Type 'null'] with root cause\n\norg.springframework.http.converter.HttpMessageNotWritableException: No converter for [class java.util.ArrayList] with preset Content-Type 'null'\n</code></pre>\n<p>Controller not working:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class SurveyController {\n\n    @Autowired\n    SurveyService surveyService;\n\n    @RequestMapping(value = &quot;/surveys&quot;, method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\n    public @ResponseBody List&lt;Survey&gt; getAllSurveys() {\n        List&lt;Survey&gt; surveys = surveyService.findAll();\n\n        return surveys; // &lt;-- ERROR HERE\n    }\n}\n</code></pre>\n<p>The public getters and setters are beign generated:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Survey {\n    private String sid;\n    private String surveyls_title;\n    @Nullable\n    private String startdate;\n    @Nullable\n    private String expires;\n    private String active;\n}\n</code></pre>\n<p>The service works as expected returning the list of Surveys</p>\n<pre><code>@Service\npublic class SurveyService implements SurveyServiceInterface{\n\n    @Autowired\n    WebClient webClient;\n\n    private final String SESSION_KEY = &quot;***************&quot;;\n\n    public List&lt;Survey&gt; findAll() {\n\n        RPCRequest&lt;Object&gt; rpcRequest = RPCRequest.builder()\n                .method(&quot;list_surveys&quot;)\n                .id(1)\n                .params(new ArrayList&lt;&gt;(){{\n                    add(SESSION_KEY);\n                }})\n                .build();\n\n        RPCResponse&lt;Survey&gt; rpcResponse = webClient.post()\n                .contentType(MediaType.APPLICATION_JSON)\n                .accept(MediaType.APPLICATION_JSON)\n                .body(BodyInserters.fromValue(rpcRequest))\n                .retrieve()\n                .bodyToMono(RPCResponse.class)\n                .single()\n                .block();\n\n        return rpcResponse.getResult();\n    }\n}\n</code></pre>\n<pre><code>@Configuration\n@EnableWebFlux\npublic class WebFluxConfig implements WebFluxConfigurer{\n\n    @Bean\n    public WebClient getWebClient() {\n        HttpClient httpClient = HttpClient.create()\n                .tcpConfiguration(client -&gt;\n                        client.option(ChannelOption.CONNECT_TIMEOUT_MILLIS, 10000)\n                                .doOnConnected(conn -&gt; conn\n                                        .addHandlerLast(new ReadTimeoutHandler(10))\n                                        .addHandlerLast(new WriteTimeoutHandler(10))));\n\n        ClientHttpConnector connector = new ReactorClientHttpConnector(httpClient.wiretap(true));\n\n        return WebClient.builder()\n                .baseUrl(&quot;https://****.net/***.php/***/remotecontrol&quot;)\n                .clientConnector(connector)\n                .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\n                .exchangeStrategies(ExchangeStrategies.builder().codecs(this::acceptedCodecs).build())\n                .build();\n    }\n\n    private void acceptedCodecs(ClientCodecConfigurer clientCodecConfigurer) {\n        clientCodecConfigurer.customCodecs().register(new Jackson2JsonEncoder(new ObjectMapper(), MediaType.valueOf(&quot;text/javascript;charset=UTF-8&quot;)));\n        clientCodecConfigurer.customCodecs().register(new Jackson2JsonDecoder(new ObjectMapper(), MediaType.valueOf(&quot;text/javascript;charset=UTF-8&quot;)));\n    }\n}\n</code></pre>\n<p>POM.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.5.6&lt;/version&gt;\n  &lt;/parent&gt;\n\n  &lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n      &lt;artifactId&gt;h2&lt;/artifactId&gt;\n      &lt;version&gt;2.1.210&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n</code></pre>\n<p>Dependency tree shows that jackson-databind and jackson-core are present</p>\n<pre><code>[INFO] --- maven-dependency-plugin:3.1.2:tree (default-cli) @ SurveyAPI ---\n[INFO] com.**********:SurveyAPI:jar:0.0.1-SNAPSHOT\n[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:2.5.6:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter:jar:2.5.6:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot:jar:2.5.6:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:2.5.6:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:2.5.6:compile\n[INFO] |  |  |  +- ch.qos.logback:logback-classic:jar:1.2.6:compile\n[INFO] |  |  |  |  +- ch.qos.logback:logback-core:jar:1.2.6:compile\n[INFO] |  |  |  |  \\- org.slf4j:slf4j-api:jar:1.7.32:compile\n[INFO] |  |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.14.1:compile\n[INFO] |  |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.14.1:compile\n[INFO] |  |  |  \\- org.slf4j:jul-to-slf4j:jar:1.7.32:compile\n[INFO] |  |  +- jakarta.annotation:jakarta.annotation-api:jar:1.3.5:compile\n[INFO] |  |  +- org.springframework:spring-core:jar:5.3.12:compile\n[INFO] |  |  |  \\- org.springframework:spring-jcl:jar:5.3.12:compile\n[INFO] |  |  \\- org.yaml:snakeyaml:jar:1.28:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-json:jar:2.5.6:compile\n[INFO] |  |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.12.5:compile\n[INFO] |  |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.12.5:compile\n[INFO] |  |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.12.5:compile\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.12.5:compile\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.12.5:compile\n[INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.12.5:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:2.5.6:compile\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:9.0.54:compile\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:9.0.54:compile\n[INFO] |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:9.0.54:compile\n[INFO] |  +- org.springframework:spring-web:jar:5.3.12:compile\n[INFO] |  |  \\- org.springframework:spring-beans:jar:5.3.12:compile\n[INFO] |  \\- org.springframework:spring-webmvc:jar:5.3.12:compile\n[INFO] |     +- org.springframework:spring-aop:jar:5.3.12:compile\n[INFO] |     +- org.springframework:spring-context:jar:5.3.12:compile\n[INFO] |     \\- org.springframework:spring-expression:jar:5.3.12:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-webflux:jar:2.5.6:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-reactor-netty:jar:2.5.6:compile\n[INFO] |  |  \\- io.projectreactor.netty:reactor-netty-http:jar:1.0.12:compile\n[INFO] |  |     +- io.netty:netty-codec-http:jar:4.1.69.Final:compile\n[INFO] |  |     |  +- io.netty:netty-common:jar:4.1.69.Final:compile\n[INFO] |  |     |  +- io.netty:netty-buffer:jar:4.1.69.Final:compile\n[INFO] |  |     |  +- io.netty:netty-transport:jar:4.1.69.Final:compile\n[INFO] |  |     |  +- io.netty:netty-codec:jar:4.1.69.Final:compile\n[INFO] |  |     |  \\- io.netty:netty-handler:jar:4.1.69.Final:compile\n[INFO] |  |     +- io.netty:netty-codec-http2:jar:4.1.69.Final:compile\n[INFO] |  |     +- io.netty:netty-resolver-dns:jar:4.1.69.Final:compile\n[INFO] |  |     |  +- io.netty:netty-resolver:jar:4.1.69.Final:compile\n[INFO] |  |     |  \\- io.netty:netty-codec-dns:jar:4.1.69.Final:compile\n[INFO] |  |     +- io.netty:netty-resolver-dns-native-macos:jar:osx-x86_64:4.1.69.Final:compile\n[INFO] |  |     |  \\- io.netty:netty-transport-native-unix-common:jar:4.1.69.Final:compile\n[INFO] |  |     +- io.netty:netty-transport-native-epoll:jar:linux-x86_64:4.1.69.Final:compile\n[INFO] |  |     \\- io.projectreactor.netty:reactor-netty-core:jar:1.0.12:compile\n[INFO] |  |        \\- io.netty:netty-handler-proxy:jar:4.1.69.Final:compile\n[INFO] |  |           \\- io.netty:netty-codec-socks:jar:4.1.69.Final:compile\n[INFO] |  \\- org.springframework:spring-webflux:jar:5.3.12:compile\n[INFO] |     \\- io.projectreactor:reactor-core:jar:3.4.11:compile\n[INFO] |        \\- org.reactivestreams:reactive-streams:jar:1.0.3:compile\n[INFO] +- com.h2database:h2:jar:2.1.210:compile\n[INFO] \\- org.projectlombok:lombok:jar:1.18.22:provided\n</code></pre>\n<p>Does anybody know what I'm doing wrong? Thanks</p>\n"},{"tags":["java","multithreading","dynamic"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":8,"creation_date":1332774162,"post_id":9874587,"comment_id":12592322,"body_markdown":"*&quot;Any suggestions ??&quot;*  Try writing some code.  Come back to us when you have a **specific** question.  Voting to close.","body":"<i>&quot;Any suggestions ??&quot;</i>  Try writing some code.  Come back to us when you have a <b>specific</b> question.  Voting to close."},{"owner":{"account_id":47564,"reputation":17345,"user_id":140934,"accept_rate":98,"display_name":"Sajad Bahmani"},"score":0,"creation_date":1332774238,"post_id":9874587,"comment_id":12592361,"body_markdown":"use classic concept LOOP","body":"use classic concept LOOP"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1332774240,"post_id":9874587,"comment_id":12592363,"body_markdown":"Well, you could call `new Thread().start()` n times. Where&#39;s the problem?","body":"Well, you could call <code>new Thread().start()</code> n times. Where&#39;s the problem?"}],"answers":[{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1668701826,"creation_date":1332774231,"answer_id":9874617,"question_id":9874587,"body_markdown":"There are a number of ways to do this.  A for loop is the easiest:\r\n\r\n    Thread[] threads = new Thread[numThreadsToCreate];\r\n    for (int i = 0; i &lt; threads.length; i++) {\r\n        threads[i] = new Thread(yourRunnable);\r\n        threads[i].start();\r\n    }\r\n\r\nYour `Runnable` could be something like this:\r\n\r\n    private class MyRunnable implements Runnable {\r\n        public void run() {\r\n            // your code to run in the thread goes here\r\n        }\r\n    }\r\n\r\nYou could also use a thread-pool:\r\n\r\n    ExecutorService threadPool = Executors.newCachedThreadPool();\r\n    for (int i = 0; i &lt; NUM_THREADS; i++) {\r\n        threadPool.submit(yourRunnable);\r\n    }\r\n    // shutdown the pool once we submit the last job, they will continue to run\r\n    threadPool.shutdown();\r\n","title":"How to create threads dynamically?","body":"<p>There are a number of ways to do this.  A for loop is the easiest:</p>\n<pre><code>Thread[] threads = new Thread[numThreadsToCreate];\nfor (int i = 0; i &lt; threads.length; i++) {\n    threads[i] = new Thread(yourRunnable);\n    threads[i].start();\n}\n</code></pre>\n<p>Your <code>Runnable</code> could be something like this:</p>\n<pre><code>private class MyRunnable implements Runnable {\n    public void run() {\n        // your code to run in the thread goes here\n    }\n}\n</code></pre>\n<p>You could also use a thread-pool:</p>\n<pre><code>ExecutorService threadPool = Executors.newCachedThreadPool();\nfor (int i = 0; i &lt; NUM_THREADS; i++) {\n    threadPool.submit(yourRunnable);\n}\n// shutdown the pool once we submit the last job, they will continue to run\nthreadPool.shutdown();\n</code></pre>\n"}],"owner":{"account_id":1313619,"reputation":103,"user_id":1261068,"accept_rate":40,"display_name":"shri ram"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7047,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1332774284,"accepted_answer_id":9874617,"answer_count":1,"score":0,"last_activity_date":1668701826,"creation_date":1332774109,"question_id":9874587,"body_markdown":"I want to create certain number of threads in my program where the number of threads to be created is provided by the user at run-time. Any suggestions ??","title":"How to create threads dynamically?","body":"<p>I want to create certain number of threads in my program where the number of threads to be created is provided by the user at run-time. Any suggestions ??</p>\n"},{"tags":["java","desktop","jna","live-wallpaper"],"comments":[{"owner":{"account_id":606180,"reputation":947,"user_id":311777,"display_name":"ee."},"score":0,"creation_date":1323069835,"post_id":8382049,"comment_id":10345953,"body_markdown":"Can you access under its registry `HKEY_CURRENT_USER\\Control Panel\\Desktop\\ `: `Wallpaper`, `OriginalWallpaper` or `ConvertedWallpaper` entry? [See link](http://hdsurvivor.blogspot.com/2006/05/set-default-wallpaper-for-users-in.html)","body":"Can you access under its registry <code>HKEY_CURRENT_USER\\Control Panel\\Desktop\\ </code>: <code>Wallpaper</code>, <code>OriginalWallpaper</code> or <code>ConvertedWallpaper</code> entry? <a href=\"http://hdsurvivor.blogspot.com/2006/05/set-default-wallpaper-for-users-in.html\" rel=\"nofollow noreferrer\">See link</a>"}],"answers":[{"tags":[],"owner":{"account_id":451780,"reputation":6004,"user_id":847853,"accept_rate":68,"display_name":"Low Flying Pelican"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1323074752,"creation_date":1323074752,"answer_id":8382793,"question_id":8382049,"body_markdown":"The way to obtain the current desktop wallpaper could different based on the operating system, for windows 7 it can be obtained from following registry path,\r\n\r\n    HKEY_CURRENT_USER\\Control Panel\\Desktop\\Wallpaper\r\n\r\nto read the registry path you can use the method described in following question\r\n\r\nhttps://stackoverflow.com/questions/62289/read-write-to-windows-registry-using-java\r\n\r\n","title":"How to get the path of current active desktop wallpaper using Java","body":"<p>The way to obtain the current desktop wallpaper could different based on the operating system, for windows 7 it can be obtained from following registry path,</p>\n\n<pre><code>HKEY_CURRENT_USER\\Control Panel\\Desktop\\Wallpaper\n</code></pre>\n\n<p>to read the registry path you can use the method described in following question</p>\n\n<p><a href=\"https://stackoverflow.com/questions/62289/read-write-to-windows-registry-using-java\">read/write to Windows Registry using Java</a></p>\n"},{"tags":[],"owner":{"account_id":9520788,"reputation":21,"user_id":7075726,"display_name":"LemonJuiz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1477492600,"creation_date":1477492600,"answer_id":40265169,"question_id":8382049,"body_markdown":"As [Low Flying Pelican](https://stackoverflow.com/users/847853/low-flying-pelican) and [ee](https://stackoverflow.com/users/311777/ee) said,\r\n\r\n    HKEY_CURRENT_USER\\Control Panel\\Desktop\r\ncontains the key &lt;b&gt;Wallpaper&lt;/b&gt; which has a pointer to the wallpaper. For the command prompt, you can use\r\n\r\n    reg query &quot;HKEY_CURRENT_USER\\Control Panel\\Desktop&quot; /v Wallpaper\r\nto get the location, or using this for native java support:\r\n\r\n    Runtime.getRuntime().exec(&#39;reg query &quot;HKEY_CURRENT_USER\\Control Panel\\Desktop&quot; /v Wallpaper&#39;);","title":"How to get the path of current active desktop wallpaper using Java","body":"<p>As <a href=\"https://stackoverflow.com/users/847853/low-flying-pelican\">Low Flying Pelican</a> and <a href=\"https://stackoverflow.com/users/311777/ee\">ee</a> said,</p>\n\n<pre><code>HKEY_CURRENT_USER\\Control Panel\\Desktop\n</code></pre>\n\n<p>contains the key <b>Wallpaper</b> which has a pointer to the wallpaper. For the command prompt, you can use</p>\n\n<pre><code>reg query \"HKEY_CURRENT_USER\\Control Panel\\Desktop\" /v Wallpaper\n</code></pre>\n\n<p>to get the location, or using this for native java support:</p>\n\n<pre><code>Runtime.getRuntime().exec('reg query \"HKEY_CURRENT_USER\\Control Panel\\Desktop\" /v Wallpaper');\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11726648,"reputation":19533,"user_id":8583692,"display_name":"Mahozad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668701690,"creation_date":1668432456,"answer_id":74432415,"question_id":8382049,"body_markdown":"Using [JNA library][1]:\r\n\r\n```kotlin\r\nimplementation(&quot;net.java.dev.jna:jna-platform:5.12.1&quot;)\r\n```\r\n\r\nI was able to get the current Wallpaper path like this (tested on Windows 11):\r\n\r\nJava:\r\n\r\n```java\r\nimport com.sun.jna.platform.win32.*;\r\nimport com.sun.jna.platform.win32.WinReg.HKEYByReference;\r\n\r\npublic class Main {\r\n\r\n    public static final String REGISTRY_PATH = &quot;Control Panel\\\\Desktop&quot;;\r\n    public static final String REGISTRY_Key = &quot;WallPaper&quot;;\r\n\r\n    public static void main(String[] args) {\r\n        var hKey = new HKEYByReference();\r\n        var registryAccessResult = openRegistryKey(hKey);\r\n        validate(registryAccessResult);\r\n        var wallpaperPath = getWallpaperPath();\r\n        System.out.println(wallpaperPath);\r\n    }\r\n\r\n    public static int openRegistryKey(HKEYByReference hKey) {\r\n        return Advapi32.INSTANCE.RegOpenKeyEx(\r\n                WinReg.HKEY_CURRENT_USER,\r\n                REGISTRY_PATH,\r\n                0,\r\n                WinNT.KEY_READ,\r\n                hKey\r\n        );\r\n    }\r\n\r\n    public static void validate(int registryAccessResult) {\r\n        if (registryAccessResult != W32Errors.ERROR_SUCCESS) {\r\n            throw new Win32Exception(registryAccessResult);\r\n        }\r\n    }\r\n\r\n    public static String getWallpaperPath() {\r\n        return Advapi32Util.registryGetStringValue(\r\n                WinReg.HKEY_CURRENT_USER,\r\n                REGISTRY_PATH,\r\n                REGISTRY_Key\r\n        );\r\n    }\r\n}\r\n```\r\n\r\nKotlin:\r\n\r\n```kotlin\r\nconst val REGISTRY_PATH = &quot;Control Panel\\\\Desktop&quot;\r\nconst val REGISTRY_Key = &quot;WallPaper&quot;\r\n\r\nfun main() {\r\n    val hKey = HKEYByReference()\r\n    openRegistryKey(hKey).validate()\r\n    val wallpaperPath = getWallpaperPath()\r\n    println(wallpaperPath)\r\n}\r\n\r\nfun openRegistryKey(hKey: HKEYByReference) =\r\n    Advapi32.INSTANCE.RegOpenKeyEx(\r\n        WinReg.HKEY_CURRENT_USER,\r\n        REGISTRY_PATH,\r\n        0,\r\n        WinNT.KEY_READ,\r\n        hKey\r\n    )\r\n\r\nfun RegistryAccessResult.validate() =\r\n    takeIf { it == W32Errors.ERROR_SUCCESS }\r\n        ?: throw Win32Exception(this)\r\n\r\nfun getWallpaperPath(): String =\r\n    Advapi32Util.registryGetStringValue(\r\n        WinReg.HKEY_CURRENT_USER,\r\n        REGISTRY_PATH,\r\n        REGISTRY_Key\r\n    )\r\n```\r\n\r\n---\r\n\r\nYou can also listen for wallpaper changes and get its new path:\r\n\r\n```kotlin\r\nwaitForWallpaperChange(hKey).validate() // Waits until wallpaper is changed\r\nval newWallpaper = getWallpaperPath()\r\n\r\nfun waitForWallpaperChange(hKey: HKEYByReference) =\r\n    Advapi32.INSTANCE.RegNotifyChangeKeyValue(\r\n        hKey.value,\r\n        false,\r\n        WinNT.REG_NOTIFY_CHANGE_LAST_SET,\r\n        null,\r\n        false\r\n    )\r\n```\r\n\r\n\r\n  [1]: https://github.com/java-native-access/jna","title":"How to get the path of current active desktop wallpaper using Java","body":"<p>Using <a href=\"https://github.com/java-native-access/jna\" rel=\"nofollow noreferrer\">JNA library</a>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>implementation(&quot;net.java.dev.jna:jna-platform:5.12.1&quot;)\n</code></pre>\n<p>I was able to get the current Wallpaper path like this (tested on Windows 11):</p>\n<p>Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.sun.jna.platform.win32.*;\nimport com.sun.jna.platform.win32.WinReg.HKEYByReference;\n\npublic class Main {\n\n    public static final String REGISTRY_PATH = &quot;Control Panel\\\\Desktop&quot;;\n    public static final String REGISTRY_Key = &quot;WallPaper&quot;;\n\n    public static void main(String[] args) {\n        var hKey = new HKEYByReference();\n        var registryAccessResult = openRegistryKey(hKey);\n        validate(registryAccessResult);\n        var wallpaperPath = getWallpaperPath();\n        System.out.println(wallpaperPath);\n    }\n\n    public static int openRegistryKey(HKEYByReference hKey) {\n        return Advapi32.INSTANCE.RegOpenKeyEx(\n                WinReg.HKEY_CURRENT_USER,\n                REGISTRY_PATH,\n                0,\n                WinNT.KEY_READ,\n                hKey\n        );\n    }\n\n    public static void validate(int registryAccessResult) {\n        if (registryAccessResult != W32Errors.ERROR_SUCCESS) {\n            throw new Win32Exception(registryAccessResult);\n        }\n    }\n\n    public static String getWallpaperPath() {\n        return Advapi32Util.registryGetStringValue(\n                WinReg.HKEY_CURRENT_USER,\n                REGISTRY_PATH,\n                REGISTRY_Key\n        );\n    }\n}\n</code></pre>\n<p>Kotlin:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>const val REGISTRY_PATH = &quot;Control Panel\\\\Desktop&quot;\nconst val REGISTRY_Key = &quot;WallPaper&quot;\n\nfun main() {\n    val hKey = HKEYByReference()\n    openRegistryKey(hKey).validate()\n    val wallpaperPath = getWallpaperPath()\n    println(wallpaperPath)\n}\n\nfun openRegistryKey(hKey: HKEYByReference) =\n    Advapi32.INSTANCE.RegOpenKeyEx(\n        WinReg.HKEY_CURRENT_USER,\n        REGISTRY_PATH,\n        0,\n        WinNT.KEY_READ,\n        hKey\n    )\n\nfun RegistryAccessResult.validate() =\n    takeIf { it == W32Errors.ERROR_SUCCESS }\n        ?: throw Win32Exception(this)\n\nfun getWallpaperPath(): String =\n    Advapi32Util.registryGetStringValue(\n        WinReg.HKEY_CURRENT_USER,\n        REGISTRY_PATH,\n        REGISTRY_Key\n    )\n</code></pre>\n<hr />\n<p>You can also listen for wallpaper changes and get its new path:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>waitForWallpaperChange(hKey).validate() // Waits until wallpaper is changed\nval newWallpaper = getWallpaperPath()\n\nfun waitForWallpaperChange(hKey: HKEYByReference) =\n    Advapi32.INSTANCE.RegNotifyChangeKeyValue(\n        hKey.value,\n        false,\n        WinNT.REG_NOTIFY_CHANGE_LAST_SET,\n        null,\n        false\n    )\n</code></pre>\n"}],"owner":{"account_id":1013180,"reputation":757,"user_id":1025317,"accept_rate":49,"display_name":"pankaj_ar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2220,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1668701690,"creation_date":1323069187,"question_id":8382049,"body_markdown":"I want to make some changes on active desktop wallpaper like adding watermark.\r\n\r\nFor that I need to get the path of the active wallpaper. Adding the watermark I can do.\r\n\r\nThis can be done using JNA library, but I can&#39;t access the file path.\r\n","title":"How to get the path of current active desktop wallpaper using Java","body":"<p>I want to make some changes on active desktop wallpaper like adding watermark.</p>\n<p>For that I need to get the path of the active wallpaper. Adding the watermark I can do.</p>\n<p>This can be done using JNA library, but I can't access the file path.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":16255308,"reputation":401,"user_id":13695861,"display_name":"Marc Bannout"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668701486,"creation_date":1668701486,"answer_id":74478696,"question_id":74438681,"body_markdown":"Is the method `addFlight(Flight flight)` called from your controller? If that&#39;s the case, you should get a [DTO](https://www.baeldung.com/java-dto-pattern) from your controller that you&#39;ll map in an entity in your service layer.\r\n\r\nFrom the DTO you&#39;ll need to provide the ids of `Airline`, `Airplane` and `Airport` objects so that you can retrieve them from the DB and set them on the `Flight` entity.\r\n\r\nHere is a solution I can suggest:\r\n\r\n```java\r\nvoid addFlight (FlightRequest flightRequest) {\r\n    boolean exists = flightRepository.existsById(flightRequest.flightNumber());\r\n    if (exists) {\r\n        throw new IllegalStateException(&quot;Flight with number&quot; + flight.getFlightNumber() \r\n        + &quot;already exists&quot;);\r\n    }\r\n    \r\n\tFlight flight = new Flight();\r\n\t\r\n    airportRepository.findById(flightRequest.airportOriginId())\r\n\t\t\t\t\t .ifPresentOrElse(airportOrigin -&gt; {  \r\n\t\t\t\t\t      flight.setAirportOrigin(airportOrigin);\r\n\t\t\t            },\r\n\t\t\t\t          () -&gt; new IllegalStateException(...)\r\n\t\t\t\t      );\r\n\r\n    airportRepository.findById(flightRequest.airportDestinationId())\r\n\t\t\t\t\t .ifPresentOrElse(airportDestination -&gt; {  \r\n\t\t\t\t\t      flight.setAirportDestination(airportDestination);\r\n\t\t\t            },\r\n\t\t\t\t          () -&gt; new IllegalStateException(...)\r\n\t\t\t\t      );\r\n\r\n    airlineRepository.findById(flightRequest.airlineId())\r\n\t\t\t\t\t .ifPresentOrElse(airline -&gt; {  \r\n\t\t\t\t\t      flight.setAirline(airline);\r\n\t\t\t            },\r\n\t\t\t\t          () -&gt; new IllegalStateException(...)\r\n\t\t\t\t      );\r\n\r\n    airplaneRepository.findById(flightRequest.airplaneId())\r\n\t\t\t\t\t .ifPresentOrElse(airplane -&gt; {  \r\n\t\t\t\t\t      flight.setAirplane(airplane);\r\n\t\t\t            },\r\n\t\t\t\t          () -&gt; new IllegalStateException(...)\r\n\t\t\t\t      );\r\n\r\n\tflight.setFlightNumber(flightRequest.flightNumber());\r\n\tflight.setDepartureTime(flightRequest.departureTime());\r\n\tflight.setArrivalTime(flightRequest.arrivalTime());\r\n\tflight.setDuration(flightRequest.duration());\r\n\tflight.setPassengers(flightRequest.passengers());\t\r\n\t...\r\n\r\n\tflightRepository.save(flight);\r\n}\r\n```\r\n\r\n```java\r\npublic record FlightRequest(  \r\n\t    String flightNumber,  \r\n        String airportOriginId,  \r\n        String airportDestinationId,  \r\n        Timestamp departureTime,  \r\n        Timestamp arrivalTime,  \r\n        String airlineId,  \r\n        String airplaneId,  \r\n        Time duration,  \r\n        int passengers,\r\n        ...\r\n) {  \r\n}\r\n```\r\n\r\nAnd for updating your `Flight`, you could do it like this:\r\n\r\n```java\r\nFlight updateFlight (FlightRequest flightRequest) {\r\n\tFlight flight = flightRepository.findById(flightRequest.flightNumber())\r\n\t\t\t\t\t\t.orElseThrow(...);\r\n\t\t\t\t\t\t\r\n\t// Same as above without the call for existsById\r\n\t...\r\n}\r\n```\r\n\r\nIf you want to go further, since version 2.7 of Spring Data JPA, you can use `getReferenceById` method instead of `findById`. In that case Spring Data JPA won&#39;t generate an SQL statement to get the entity, in our case we only want to set the foreign keys. You can find more about this [here](https://vladmihalcea.com/spring-data-jpa-findbyid/)","title":"How to update entity with OneToMany relationship in Spring Boot","body":"<p>Is the method <code>addFlight(Flight flight)</code> called from your controller? If that's the case, you should get a <a href=\"https://www.baeldung.com/java-dto-pattern\" rel=\"nofollow noreferrer\">DTO</a> from your controller that you'll map in an entity in your service layer.</p>\n<p>From the DTO you'll need to provide the ids of <code>Airline</code>, <code>Airplane</code> and <code>Airport</code> objects so that you can retrieve them from the DB and set them on the <code>Flight</code> entity.</p>\n<p>Here is a solution I can suggest:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void addFlight (FlightRequest flightRequest) {\n    boolean exists = flightRepository.existsById(flightRequest.flightNumber());\n    if (exists) {\n        throw new IllegalStateException(&quot;Flight with number&quot; + flight.getFlightNumber() \n        + &quot;already exists&quot;);\n    }\n    \n    Flight flight = new Flight();\n    \n    airportRepository.findById(flightRequest.airportOriginId())\n                     .ifPresentOrElse(airportOrigin -&gt; {  \n                          flight.setAirportOrigin(airportOrigin);\n                        },\n                          () -&gt; new IllegalStateException(...)\n                      );\n\n    airportRepository.findById(flightRequest.airportDestinationId())\n                     .ifPresentOrElse(airportDestination -&gt; {  \n                          flight.setAirportDestination(airportDestination);\n                        },\n                          () -&gt; new IllegalStateException(...)\n                      );\n\n    airlineRepository.findById(flightRequest.airlineId())\n                     .ifPresentOrElse(airline -&gt; {  \n                          flight.setAirline(airline);\n                        },\n                          () -&gt; new IllegalStateException(...)\n                      );\n\n    airplaneRepository.findById(flightRequest.airplaneId())\n                     .ifPresentOrElse(airplane -&gt; {  \n                          flight.setAirplane(airplane);\n                        },\n                          () -&gt; new IllegalStateException(...)\n                      );\n\n    flight.setFlightNumber(flightRequest.flightNumber());\n    flight.setDepartureTime(flightRequest.departureTime());\n    flight.setArrivalTime(flightRequest.arrivalTime());\n    flight.setDuration(flightRequest.duration());\n    flight.setPassengers(flightRequest.passengers());   \n    ...\n\n    flightRepository.save(flight);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public record FlightRequest(  \n        String flightNumber,  \n        String airportOriginId,  \n        String airportDestinationId,  \n        Timestamp departureTime,  \n        Timestamp arrivalTime,  \n        String airlineId,  \n        String airplaneId,  \n        Time duration,  \n        int passengers,\n        ...\n) {  \n}\n</code></pre>\n<p>And for updating your <code>Flight</code>, you could do it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Flight updateFlight (FlightRequest flightRequest) {\n    Flight flight = flightRepository.findById(flightRequest.flightNumber())\n                        .orElseThrow(...);\n                        \n    // Same as above without the call for existsById\n    ...\n}\n</code></pre>\n<p>If you want to go further, since version 2.7 of Spring Data JPA, you can use <code>getReferenceById</code> method instead of <code>findById</code>. In that case Spring Data JPA won't generate an SQL statement to get the entity, in our case we only want to set the foreign keys. You can find more about this <a href=\"https://vladmihalcea.com/spring-data-jpa-findbyid/\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":14994938,"reputation":134,"user_id":10824642,"display_name":"Raul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":329,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74478696,"answer_count":1,"score":0,"last_activity_date":1668701486,"creation_date":1668465652,"question_id":74438681,"body_markdown":"I&#39;m new to Spring boot and I&#39;m writing an application to practice, with Postresql as db.\r\nThe application is about aviation. There are 4 entity: Airline, Airplane, Airport and Flight. \r\n\r\nI tried GET, POST and DELETE requests and all works on Airline, Airplane and Airport, but I have a problem trying to add and update Flight.\r\nFlight has 4 ManyToOne relationships, this is the class:\r\n\r\n    @Entity\r\n    @Table\r\n    public class Flight {\r\n        @Id\r\n        @Column(name = &quot;flight_number&quot;)\r\n        private String flightNumber;\r\n\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;origin&quot;)\r\n        private Airport origin;\r\n\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;destination&quot;)\r\n        private Airport destination;\r\n\r\n        @Column(name = &quot;departure_time&quot;)\r\n        private Timestamp departureTime;\r\n\r\n        @Column(name = &quot;arrival_time&quot;)\r\n        private Timestamp arrivalTime;\r\n\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;airline&quot;)\r\n        private Airline airline;\r\n\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;airplane&quot;)\r\n        private Airplane airplane;\r\n\r\n        private Time duration;\r\n        private int passengers;\r\n        ...\r\n    }\r\n\r\nWhat I don&#39;t understand is how to insert and update this entity without the need to pass the  `Objects` (`Airline` and `Airport`) but only the foreign keys (as when working directly on db).\r\n\r\nHere is my code for add a new flight that requires the objects:\r\n\r\n    public void addFlight(Flight flight) {\r\n        boolean exists = flightRepository.existsById(flight.getFlightNumber());\r\n        if (exists) {\r\n            throw new IllegalStateException(&quot;Flight with number&quot; + flight.getFlightNumber() \r\n            + &quot;already exists&quot;);\r\n        }\r\n        flightRepository.save(flight);\r\n    }\r\n\r\nI also tried writing a specific query for the update in the repository and then call on PUT request, but I get some errors saying that I need to pass Airline and Airport, not strings that represents the IDs of these 2 entities.\r\n\r\n    *@Modifying\r\n    @Query(&quot;update Flight &quot; +\r\n            &quot;set origin = :origin, &quot; +\r\n            &quot;destination = :destination, &quot; +\r\n            &quot;departureTime = :departureTime, &quot; +\r\n            &quot;arrivalTime = :arrivalTime, &quot; +\r\n            &quot;airline = :airline, &quot; +\r\n            &quot;airplane = :airplane, &quot; +\r\n            &quot;passengers = :passengers, &quot; +\r\n            &quot;duration = :duration &quot; +\r\n            &quot;where flightNumber = :flightNumber&quot;)\r\n    void updateFlight(@Param(&quot;flightNumber&quot;) String flightNumber,\r\n                      @Param(&quot;origin&quot;) String origin,\r\n                      @Param(&quot;destination&quot;) String destination,\r\n                      @Param(&quot;departureTime&quot;) Timestamp departureTime,\r\n                      @Param(&quot;arrivalTime&quot;) Timestamp arrivalTime,\r\n                      @Param(&quot;airline&quot;) String airline,\r\n                      @Param(&quot;airplane&quot;) Long airplane,\r\n                      @Param(&quot;passengers&quot;) Integer passengers,\r\n                      @Param(&quot;duration&quot;) Time duration);*/\r\n\r\nTo summarize: I want to know if there is a method to avoid passing the entire Object that represents the ManyToOne relationship during creation and update.","title":"How to update entity with OneToMany relationship in Spring Boot","body":"<p>I'm new to Spring boot and I'm writing an application to practice, with Postresql as db.\nThe application is about aviation. There are 4 entity: Airline, Airplane, Airport and Flight.</p>\n<p>I tried GET, POST and DELETE requests and all works on Airline, Airplane and Airport, but I have a problem trying to add and update Flight.\nFlight has 4 ManyToOne relationships, this is the class:</p>\n<pre><code>@Entity\n@Table\npublic class Flight {\n    @Id\n    @Column(name = &quot;flight_number&quot;)\n    private String flightNumber;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;origin&quot;)\n    private Airport origin;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;destination&quot;)\n    private Airport destination;\n\n    @Column(name = &quot;departure_time&quot;)\n    private Timestamp departureTime;\n\n    @Column(name = &quot;arrival_time&quot;)\n    private Timestamp arrivalTime;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;airline&quot;)\n    private Airline airline;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;airplane&quot;)\n    private Airplane airplane;\n\n    private Time duration;\n    private int passengers;\n    ...\n}\n</code></pre>\n<p>What I don't understand is how to insert and update this entity without the need to pass the  <code>Objects</code> (<code>Airline</code> and <code>Airport</code>) but only the foreign keys (as when working directly on db).</p>\n<p>Here is my code for add a new flight that requires the objects:</p>\n<pre><code>public void addFlight(Flight flight) {\n    boolean exists = flightRepository.existsById(flight.getFlightNumber());\n    if (exists) {\n        throw new IllegalStateException(&quot;Flight with number&quot; + flight.getFlightNumber() \n        + &quot;already exists&quot;);\n    }\n    flightRepository.save(flight);\n}\n</code></pre>\n<p>I also tried writing a specific query for the update in the repository and then call on PUT request, but I get some errors saying that I need to pass Airline and Airport, not strings that represents the IDs of these 2 entities.</p>\n<pre><code>*@Modifying\n@Query(&quot;update Flight &quot; +\n        &quot;set origin = :origin, &quot; +\n        &quot;destination = :destination, &quot; +\n        &quot;departureTime = :departureTime, &quot; +\n        &quot;arrivalTime = :arrivalTime, &quot; +\n        &quot;airline = :airline, &quot; +\n        &quot;airplane = :airplane, &quot; +\n        &quot;passengers = :passengers, &quot; +\n        &quot;duration = :duration &quot; +\n        &quot;where flightNumber = :flightNumber&quot;)\nvoid updateFlight(@Param(&quot;flightNumber&quot;) String flightNumber,\n                  @Param(&quot;origin&quot;) String origin,\n                  @Param(&quot;destination&quot;) String destination,\n                  @Param(&quot;departureTime&quot;) Timestamp departureTime,\n                  @Param(&quot;arrivalTime&quot;) Timestamp arrivalTime,\n                  @Param(&quot;airline&quot;) String airline,\n                  @Param(&quot;airplane&quot;) Long airplane,\n                  @Param(&quot;passengers&quot;) Integer passengers,\n                  @Param(&quot;duration&quot;) Time duration);*/\n</code></pre>\n<p>To summarize: I want to know if there is a method to avoid passing the entire Object that represents the ManyToOne relationship during creation and update.</p>\n"},{"tags":["java","image-processing","colors","imagemagick","jmagick"],"comments":[{"owner":{"account_id":237493,"reputation":11836,"user_id":505714,"accept_rate":87,"display_name":"Alexis Dufrenoy"},"score":0,"creation_date":1340266794,"post_id":10530426,"comment_id":14592918,"body_markdown":"Do you mean the most used shade in the image or the average color?","body":"Do you mean the most used shade in the image or the average color?"}],"answers":[{"tags":[],"owner":{"account_id":368265,"reputation":39137,"user_id":714965,"accept_rate":83,"display_name":"Kai"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1336639779,"creation_date":1336639779,"answer_id":10530518,"question_id":10530426,"body_markdown":"Using plain java you can just iterate over each pixel and count how often each color is contained...\r\n\r\npseudo-code:\r\n\r\n    Map&lt;Color, Integer&gt; color2counter;\r\n    for (x : width) {\r\n       for (y : height) {\r\n          color = image.getPixel(x, y)\r\n          occurrences = color2counter.get(color)\r\n          color2counter.put(color, occurrences + 1)\r\n       }\r\n    }","title":"How can I find dominant color of an image?","body":"<p>Using plain java you can just iterate over each pixel and count how often each color is contained...</p>\n\n<p>pseudo-code:</p>\n\n<pre><code>Map&lt;Color, Integer&gt; color2counter;\nfor (x : width) {\n   for (y : height) {\n      color = image.getPixel(x, y)\n      occurrences = color2counter.get(color)\n      color2counter.put(color, occurrences + 1)\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960726,"reputation":4256,"user_id":985143,"display_name":"Zaz Gmy"},"down_vote_count":1,"up_vote_count":13,"is_accepted":true,"score":12,"last_activity_date":1336639940,"creation_date":1336639940,"answer_id":10530562,"question_id":10530426,"body_markdown":"in java iterate on each pixel and determine color\r\n\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import java.util.Collections;\r\n    import java.util.Comparator;\r\n    import java.util.HashMap;\r\n    import java.util.Iterator;\r\n    import java.util.LinkedList;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import javax.imageio.ImageIO;\r\n    import javax.imageio.ImageReader;\r\n    import javax.imageio.stream.ImageInputStream;\r\n    \r\n    \r\n    public class ImageTester {\r\n    \r\n    \r\n        public static void main(String args[]) throws Exception {\r\n            File file = new File(&quot;C:\\\\Users\\\\Andrew\\\\Desktop\\\\myImage.gif&quot;);\r\n            ImageInputStream is = ImageIO.createImageInputStream(file);\r\n            Iterator iter = ImageIO.getImageReaders(is);\r\n    \r\n            if (!iter.hasNext())\r\n            {\r\n                System.out.println(&quot;Cannot load the specified file &quot;+ file);\r\n                System.exit(1);\r\n            }\r\n            ImageReader imageReader = (ImageReader)iter.next();\r\n            imageReader.setInput(is);\r\n    \r\n            BufferedImage image = imageReader.read(0);\r\n    \r\n            int height = image.getHeight();\r\n            int width = image.getWidth();\r\n    \r\n            Map m = new HashMap();\r\n            for(int i=0; i &lt; width ; i++)\r\n            {\r\n                for(int j=0; j &lt; height ; j++)\r\n                {\r\n                    int rgb = image.getRGB(i, j);\r\n                    int[] rgbArr = getRGBArr(rgb);                \r\n                    // Filter out grays....                \r\n                    if (!isGray(rgbArr)) {                \r\n                            Integer counter = (Integer) m.get(rgb);   \r\n                            if (counter == null)\r\n                                counter = 0;\r\n                            counter++;                                \r\n                            m.put(rgb, counter);                \r\n                    }                \r\n                }\r\n            }        \r\n            String colourHex = getMostCommonColour(m);\r\n            System.out.println(colourHex);\r\n        }\r\n    \r\n    \r\n        public static String getMostCommonColour(Map map) {\r\n            List list = new LinkedList(map.entrySet());\r\n            Collections.sort(list, new Comparator() {\r\n                  public int compare(Object o1, Object o2) {\r\n                    return ((Comparable) ((Map.Entry) (o1)).getValue())\r\n                      .compareTo(((Map.Entry) (o2)).getValue());\r\n                  }\r\n            });    \r\n            Map.Entry me = (Map.Entry )list.get(list.size()-1);\r\n            int[] rgb= getRGBArr((Integer)me.getKey());\r\n            return Integer.toHexString(rgb[0])+&quot; &quot;+Integer.toHexString(rgb[1])+&quot; &quot;+Integer.toHexString(rgb[2]);        \r\n        }    \r\n    \r\n        public static int[] getRGBArr(int pixel) {\r\n            int alpha = (pixel &gt;&gt; 24) &amp; 0xff;\r\n            int red = (pixel &gt;&gt; 16) &amp; 0xff;\r\n            int green = (pixel &gt;&gt; 8) &amp; 0xff;\r\n            int blue = (pixel) &amp; 0xff;\r\n            return new int[]{red,green,blue};\r\n    \r\n      }\r\n        public static boolean isGray(int[] rgbArr) {\r\n            int rgDiff = rgbArr[0] - rgbArr[1];\r\n            int rbDiff = rgbArr[0] - rgbArr[2];\r\n            // Filter out black, white and grays...... (tolerance within 10 pixels)\r\n            int tolerance = 10;\r\n            if (rgDiff &gt; tolerance || rgDiff &lt; -tolerance) \r\n                if (rbDiff &gt; tolerance || rbDiff &lt; -tolerance) { \r\n                    return false;\r\n                }                 \r\n            return true;\r\n        }\r\n    }","title":"How can I find dominant color of an image?","body":"<p>in java iterate on each pixel and determine color</p>\n\n<pre><code>import java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.HashMap;\nimport java.util.Iterator;\nimport java.util.LinkedList;\nimport java.util.List;\nimport java.util.Map;\nimport javax.imageio.ImageIO;\nimport javax.imageio.ImageReader;\nimport javax.imageio.stream.ImageInputStream;\n\n\npublic class ImageTester {\n\n\n    public static void main(String args[]) throws Exception {\n        File file = new File(\"C:\\\\Users\\\\Andrew\\\\Desktop\\\\myImage.gif\");\n        ImageInputStream is = ImageIO.createImageInputStream(file);\n        Iterator iter = ImageIO.getImageReaders(is);\n\n        if (!iter.hasNext())\n        {\n            System.out.println(\"Cannot load the specified file \"+ file);\n            System.exit(1);\n        }\n        ImageReader imageReader = (ImageReader)iter.next();\n        imageReader.setInput(is);\n\n        BufferedImage image = imageReader.read(0);\n\n        int height = image.getHeight();\n        int width = image.getWidth();\n\n        Map m = new HashMap();\n        for(int i=0; i &lt; width ; i++)\n        {\n            for(int j=0; j &lt; height ; j++)\n            {\n                int rgb = image.getRGB(i, j);\n                int[] rgbArr = getRGBArr(rgb);                \n                // Filter out grays....                \n                if (!isGray(rgbArr)) {                \n                        Integer counter = (Integer) m.get(rgb);   \n                        if (counter == null)\n                            counter = 0;\n                        counter++;                                \n                        m.put(rgb, counter);                \n                }                \n            }\n        }        \n        String colourHex = getMostCommonColour(m);\n        System.out.println(colourHex);\n    }\n\n\n    public static String getMostCommonColour(Map map) {\n        List list = new LinkedList(map.entrySet());\n        Collections.sort(list, new Comparator() {\n              public int compare(Object o1, Object o2) {\n                return ((Comparable) ((Map.Entry) (o1)).getValue())\n                  .compareTo(((Map.Entry) (o2)).getValue());\n              }\n        });    \n        Map.Entry me = (Map.Entry )list.get(list.size()-1);\n        int[] rgb= getRGBArr((Integer)me.getKey());\n        return Integer.toHexString(rgb[0])+\" \"+Integer.toHexString(rgb[1])+\" \"+Integer.toHexString(rgb[2]);        \n    }    \n\n    public static int[] getRGBArr(int pixel) {\n        int alpha = (pixel &gt;&gt; 24) &amp; 0xff;\n        int red = (pixel &gt;&gt; 16) &amp; 0xff;\n        int green = (pixel &gt;&gt; 8) &amp; 0xff;\n        int blue = (pixel) &amp; 0xff;\n        return new int[]{red,green,blue};\n\n  }\n    public static boolean isGray(int[] rgbArr) {\n        int rgDiff = rgbArr[0] - rgbArr[1];\n        int rbDiff = rgbArr[0] - rgbArr[2];\n        // Filter out black, white and grays...... (tolerance within 10 pixels)\n        int tolerance = 10;\n        if (rgDiff &gt; tolerance || rgDiff &lt; -tolerance) \n            if (rbDiff &gt; tolerance || rbDiff &lt; -tolerance) { \n                return false;\n            }                 \n        return true;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1476155,"reputation":770,"user_id":1386498,"accept_rate":69,"display_name":"DMor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1336640107,"creation_date":1336640107,"answer_id":10530604,"question_id":10530426,"body_markdown":"assuming your using additive color scheme, where (0,0,0) is black and (255, 255, 255) is white (correct me if i&#39;m mistaken). Also, if you just want to find the dominant color out of RGB:\r\n\r\nOne idea I have, which any of you are free to scrutinize is to have 3 variables that each store one of the RGB values and add to each of them the appropriate value of every pixel in the image and then divide by (255*numOfPixels) to get a ratio of color. Then compare the 3 ratios: .60 for red and .5 for green would mean red is more dominant.\r\n\r\nThis is just an idea, and might need tweaking...","title":"How can I find dominant color of an image?","body":"<p>assuming your using additive color scheme, where (0,0,0) is black and (255, 255, 255) is white (correct me if i'm mistaken). Also, if you just want to find the dominant color out of RGB:</p>\n\n<p>One idea I have, which any of you are free to scrutinize is to have 3 variables that each store one of the RGB values and add to each of them the appropriate value of every pixel in the image and then divide by (255*numOfPixels) to get a ratio of color. Then compare the 3 ratios: .60 for red and .5 for green would mean red is more dominant.</p>\n\n<p>This is just an idea, and might need tweaking...</p>\n"},{"tags":[],"owner":{"account_id":1246269,"reputation":3386,"user_id":1207655,"accept_rate":83,"display_name":"Martin Wilson"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1336645293,"creation_date":1336645293,"answer_id":10532018,"question_id":10530426,"body_markdown":"This is a tricky problem. For example, if you have a small area of exactly the same colour and a large area of slightly different shades of a different colour then simply looking for the colour that is used the most is unlikely to give you result you want. You would get a better result by defining a set of colours and, for each, the ranges of RGB values that you consider to &#39;be&#39; that colour.\r\n\r\nThis topic is discussed at length on the ImageMagick discourse server, for example:\r\nhttp://www.imagemagick.org/discourse-server/viewtopic.php?f=1&amp;t=12878\r\n\r\nSee also https://stackoverflow.com/questions/5050250/fast-way-of-getting-the-dominant-color-of-an-image","title":"How can I find dominant color of an image?","body":"<p>This is a tricky problem. For example, if you have a small area of exactly the same colour and a large area of slightly different shades of a different colour then simply looking for the colour that is used the most is unlikely to give you result you want. You would get a better result by defining a set of colours and, for each, the ranges of RGB values that you consider to 'be' that colour.</p>\n\n<p>This topic is discussed at length on the ImageMagick discourse server, for example:\n<a href=\"http://www.imagemagick.org/discourse-server/viewtopic.php?f=1&amp;t=12878\" rel=\"nofollow noreferrer\">http://www.imagemagick.org/discourse-server/viewtopic.php?f=1&amp;t=12878</a></p>\n\n<p>See also <a href=\"https://stackoverflow.com/questions/5050250/fast-way-of-getting-the-dominant-color-of-an-image\">Fast way of getting the dominant color of an image</a></p>\n"},{"tags":[],"owner":{"account_id":1599577,"reputation":1009,"user_id":1480910,"display_name":"pieroxy"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1371627311,"creation_date":1371627311,"answer_id":17185416,"question_id":10530426,"body_markdown":"I just released a very simple algorithm that can be translated in Java trivially. It is called &lt;a href=&quot;http://pieroxy.net/blog/pages/color-finder/index.html&quot;&gt;color-finder&lt;/a&gt; and works in JavaScript. \r\n\r\nThe proposed solutions in this thread can be thrown off by a few white characters in the image, whereas mine really tries to find the most prominent color, even if all the pixels aren&#39;t really exactly of the same color.\r\n\r\n&lt;a href=&quot;http://pieroxy.net/blog/pages/color-finder/demo.html&quot;&gt;Here is a live demo&lt;/a&gt;.\r\n\r\nLet me know if you find that useful.","title":"How can I find dominant color of an image?","body":"<p>I just released a very simple algorithm that can be translated in Java trivially. It is called <a href=\"http://pieroxy.net/blog/pages/color-finder/index.html\" rel=\"noreferrer\">color-finder</a> and works in JavaScript. </p>\n\n<p>The proposed solutions in this thread can be thrown off by a few white characters in the image, whereas mine really tries to find the most prominent color, even if all the pixels aren't really exactly of the same color.</p>\n\n<p><a href=\"http://pieroxy.net/blog/pages/color-finder/demo.html\" rel=\"noreferrer\">Here is a live demo</a>.</p>\n\n<p>Let me know if you find that useful.</p>\n"},{"tags":[],"owner":{"account_id":313841,"reputation":3065,"user_id":628694,"display_name":"Khai Nguyen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1435520460,"creation_date":1435520460,"answer_id":31103997,"question_id":10530426,"body_markdown":"In other way, we can done this job with Color Thief library. More information can be found [here][1] and [here][2].\r\n\r\nCredit to @svenwoltmann and @lokeshdhakar.\r\n\r\n\r\n  [1]: https://github.com/SvenWoltmann/color-thief-java\r\n  [2]: http://lokeshdhakar.com/projects/color-thief/","title":"How can I find dominant color of an image?","body":"<p>In other way, we can done this job with Color Thief library. More information can be found <a href=\"https://github.com/SvenWoltmann/color-thief-java\" rel=\"nofollow\">here</a> and <a href=\"http://lokeshdhakar.com/projects/color-thief/\" rel=\"nofollow\">here</a>.</p>\n\n<p>Credit to @svenwoltmann and @lokeshdhakar.</p>\n"},{"tags":[],"owner":{"account_id":11726648,"reputation":19533,"user_id":8583692,"display_name":"Mahozad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668701450,"creation_date":1668701085,"answer_id":74478587,"question_id":10530426,"body_markdown":"We can use [Material color utilities library](https://github.com/material-foundation/material-color-utilities) which is currently available for Java/Kotlin, C++, Dart, TypeScript.\r\n\r\nThe colors may not necessarily be the most frequent colors but dominant colors appropriate for [Material 3 design system](https://m3.material.io/styles/color/dynamic-color/overview) and appropriate to be used on light or dark themes in apps.\r\n\r\nThe library is primarily used on apps for Android 12 and above and also on the [Material Design website][1] itself but I tested it for myself and got good results.\r\n\r\nTo use it, copy-paste the code on the [Material color utilities repository](https://github.com/material-foundation/material-color-utilities) for your desired language to your project and then you can extract dominant colors and color schemes.\r\n\r\nHere is an example for Java and Kotlin:\r\n\r\nJava:\r\n\r\n```java\r\nvar MAX_DESIRED_COLOR_COUNT = 128;\r\nvar file = new File(&quot;my-image.jpg&quot;);\r\nvar image = ImageIO.read(file);\r\nvar pixels = image.getRGB(0, 0, image.getWidth(), image.getHeight(), null, 0, image.getWidth());\r\nvar colorFrequency = QuantizerCelebi.quantize(pixels, MAX_DESIRED_COLOR_COUNT);\r\nvar decentColors = Score.score(colorFrequency);\r\nvar desiredColor = decentColors.get(0);\r\n// You can take the desiredColor or any other decentColors and forget the rest of code below\r\n\r\n\r\n// Could also use Scheme.dark(desiredColor); to get colors suitable for dark themes\r\nvar colorScheme = Scheme.light(desiredColor);\r\nSystem.out.println(&quot;Decent colors: &quot; + decentColors);\r\nSystem.out.println(&quot;Primary color (light theme): &quot; + colorScheme.getPrimary());\r\n```\r\n\r\nKotlin:\r\n\r\n```kotlin\r\nval MAX_DESIRED_COLOR_COUNT = 128\r\nval file = File(&quot;my-image.jpg&quot;)\r\nval image = ImageIO.read(file)\r\nval pixels = image.getRGB(0, 0, image.width, image.height, null, 0, image.width)\r\nval colorFrequency = QuantizerCelebi.quantize(pixels, MAX_DESIRED_COLOR_COUNT)\r\nval decentColors = Score.score(colorFrequency)\r\nval desiredColor = decentColors.first()\r\n// You can take the desiredColor or any other decentColors and forget the rest of code below\r\n\r\n\r\n// Could also use Scheme.dark(desiredColor) to get colors suitable for dark themes\r\nval colorScheme = Scheme.light(desiredColor)\r\nprintln(&quot;Decent colors: ${decentColors.joinToString { it.toHexString() }}&quot;)\r\nprintln(&quot;Primary color (light theme): ${colorScheme.primary.toHexString()}&quot;)\r\n\r\nfun Int.toHexString() = &quot;#%06X&quot;.format(this and 0xFFFFFF)\r\n```\r\n\r\nLearn more about [Material Design color system and color roles here](https://m3.material.io/styles/color/the-color-system/key-colors-tones) (like `colorScheme.primary` used in the above code snippets).\r\n\r\n  [1]: https://m3.material.io/","title":"How can I find dominant color of an image?","body":"<p>We can use <a href=\"https://github.com/material-foundation/material-color-utilities\" rel=\"nofollow noreferrer\">Material color utilities library</a> which is currently available for Java/Kotlin, C++, Dart, TypeScript.</p>\n<p>The colors may not necessarily be the most frequent colors but dominant colors appropriate for <a href=\"https://m3.material.io/styles/color/dynamic-color/overview\" rel=\"nofollow noreferrer\">Material 3 design system</a> and appropriate to be used on light or dark themes in apps.</p>\n<p>The library is primarily used on apps for Android 12 and above and also on the <a href=\"https://m3.material.io/\" rel=\"nofollow noreferrer\">Material Design website</a> itself but I tested it for myself and got good results.</p>\n<p>To use it, copy-paste the code on the <a href=\"https://github.com/material-foundation/material-color-utilities\" rel=\"nofollow noreferrer\">Material color utilities repository</a> for your desired language to your project and then you can extract dominant colors and color schemes.</p>\n<p>Here is an example for Java and Kotlin:</p>\n<p>Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var MAX_DESIRED_COLOR_COUNT = 128;\nvar file = new File(&quot;my-image.jpg&quot;);\nvar image = ImageIO.read(file);\nvar pixels = image.getRGB(0, 0, image.getWidth(), image.getHeight(), null, 0, image.getWidth());\nvar colorFrequency = QuantizerCelebi.quantize(pixels, MAX_DESIRED_COLOR_COUNT);\nvar decentColors = Score.score(colorFrequency);\nvar desiredColor = decentColors.get(0);\n// You can take the desiredColor or any other decentColors and forget the rest of code below\n\n\n// Could also use Scheme.dark(desiredColor); to get colors suitable for dark themes\nvar colorScheme = Scheme.light(desiredColor);\nSystem.out.println(&quot;Decent colors: &quot; + decentColors);\nSystem.out.println(&quot;Primary color (light theme): &quot; + colorScheme.getPrimary());\n</code></pre>\n<p>Kotlin:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val MAX_DESIRED_COLOR_COUNT = 128\nval file = File(&quot;my-image.jpg&quot;)\nval image = ImageIO.read(file)\nval pixels = image.getRGB(0, 0, image.width, image.height, null, 0, image.width)\nval colorFrequency = QuantizerCelebi.quantize(pixels, MAX_DESIRED_COLOR_COUNT)\nval decentColors = Score.score(colorFrequency)\nval desiredColor = decentColors.first()\n// You can take the desiredColor or any other decentColors and forget the rest of code below\n\n\n// Could also use Scheme.dark(desiredColor) to get colors suitable for dark themes\nval colorScheme = Scheme.light(desiredColor)\nprintln(&quot;Decent colors: ${decentColors.joinToString { it.toHexString() }}&quot;)\nprintln(&quot;Primary color (light theme): ${colorScheme.primary.toHexString()}&quot;)\n\nfun Int.toHexString() = &quot;#%06X&quot;.format(this and 0xFFFFFF)\n</code></pre>\n<p>Learn more about <a href=\"https://m3.material.io/styles/color/the-color-system/key-colors-tones\" rel=\"nofollow noreferrer\">Material Design color system and color roles here</a> (like <code>colorScheme.primary</code> used in the above code snippets).</p>\n"}],"owner":{"account_id":1217232,"reputation":1393,"user_id":1184571,"accept_rate":58,"display_name":"Er&#231;in Ak&#231;ay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24400,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"accepted_answer_id":10530562,"answer_count":7,"score":15,"last_activity_date":1668701450,"creation_date":1336639446,"question_id":10530426,"body_markdown":"Can we find which color is dominant in an image using Java, [ImageMagick][1], or [JMagick][2]?\r\n\r\n\r\n  [1]: https://github.com/ImageMagick/ImageMagick\r\n  [2]: https://sourceforge.net/projects/jmagick/","title":"How can I find dominant color of an image?","body":"<p>Can we find which color is dominant in an image using Java, <a href=\"https://github.com/ImageMagick/ImageMagick\" rel=\"nofollow noreferrer\">ImageMagick</a>, or <a href=\"https://sourceforge.net/projects/jmagick/\" rel=\"nofollow noreferrer\">JMagick</a>?</p>\n"},{"tags":["java","http","post","https","apache-httpclient-4.x"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1655832917,"post_id":72646808,"comment_id":128423533,"body_markdown":"try `-H &quot;Content-Type: application/json; charset=UTF-8&quot;","body":"try `-H &quot;Content-Type: application/json; charset=UTF-8&quot;"}],"answers":[{"tags":[],"owner":{"account_id":25265517,"reputation":1,"user_id":19095770,"display_name":"jensvannerum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668700918,"creation_date":1668700445,"answer_id":74478426,"question_id":72646808,"body_markdown":"If you worry about missing headers just `httpPost.getAllHeaders()`\r\n\r\nHere is some ugly code I used to debug my httpPosts as cUrl requests\r\n\r\n```\r\n    public String httpPostObjectAsCurl(HttpPost httpPost) throws IOException {\r\n        StringBuilder curlRequest = new StringBuilder();\r\n        curlRequest.append(&quot;curl --location&quot;)\r\n                   .append(&quot; --request &quot;)\r\n                   .append(httpPost.getMethod())\r\n                   .append(&quot; &#39;&quot;)\r\n                   .append(httpPost.getURI())\r\n                   .append(&quot;&#39; \\\\&quot;);\r\n\r\n        Header[] headers = httpPost.getAllHeaders();\r\n        for (Header header: headers) {\r\n            curlRequest.append(&quot;\\n--header &#39;&quot;)\r\n                       .append(header.getName())\r\n                       .append(&quot;: &quot;)\r\n                       .append(header.getValue())\r\n                       .append(&quot;&#39; \\\\&quot;);\r\n        }\r\n        curlRequest.append(&quot;\\n--data-raw &#39;&quot;)\r\n                   .append(EntityUtils.toString(httpPost.getEntity(), StandardCharsets.UTF_8))\r\n                   .append(&quot;&#39;&quot;);\r\n\r\n        return curlRequest.toString();\r\n    }\r\n```","title":"What is the curl equivalent command for this code for POST written using DefaultHttpClient library(httpclient 4.5 version)","body":"<p>If you worry about missing headers just <code>httpPost.getAllHeaders()</code></p>\n<p>Here is some ugly code I used to debug my httpPosts as cUrl requests</p>\n<pre><code>    public String httpPostObjectAsCurl(HttpPost httpPost) throws IOException {\n        StringBuilder curlRequest = new StringBuilder();\n        curlRequest.append(&quot;curl --location&quot;)\n                   .append(&quot; --request &quot;)\n                   .append(httpPost.getMethod())\n                   .append(&quot; '&quot;)\n                   .append(httpPost.getURI())\n                   .append(&quot;' \\\\&quot;);\n\n        Header[] headers = httpPost.getAllHeaders();\n        for (Header header: headers) {\n            curlRequest.append(&quot;\\n--header '&quot;)\n                       .append(header.getName())\n                       .append(&quot;: &quot;)\n                       .append(header.getValue())\n                       .append(&quot;' \\\\&quot;);\n        }\n        curlRequest.append(&quot;\\n--data-raw '&quot;)\n                   .append(EntityUtils.toString(httpPost.getEntity(), StandardCharsets.UTF_8))\n                   .append(&quot;'&quot;);\n\n        return curlRequest.toString();\n    }\n</code></pre>\n"}],"owner":{"account_id":15442554,"reputation":57,"user_id":11140659,"display_name":"Srikar Rao"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668700918,"creation_date":1655386630,"question_id":72646808,"body_markdown":"Here is the code we are using to hit the POST endpoint -\r\n\r\n```\r\nDefaultHttpClient client = new DefaultHttpClient();\r\n\t\ttry {\r\n\t\t\t//Create POST with REQUEST_TOKEN URL\r\n\t\t\tHttpPost post = new HttpPost(Url + REQUEST_TOKEN_URI);\r\n\t\t\tpost.setHeader(HTTP.CONTENT_TYPE, &quot;application/json; charset=UTF-8&quot;);\r\n\t\t\t\r\n\t\t\tRequestAuthTokenBody requestBody = new RequestAuthTokenBody();\r\n\t\t\trequestBody.setEmail(user.getEmail());\r\n\t\t\trequestBody.setToken(user.getToken());\r\n\t\t\trequestBody.setUUID(user.getAccountUUID());\r\n\t\t\t\r\n\t\t\t//Generate JSON from object\r\n\t\t\tString jsonRequest = mapper.writeValueAsString(requestBody);\r\n\t\t\t\r\n\t\t\t//Set request body\r\n\t\t\tStringEntity entity = new StringEntity(jsonRequest);\r\n\t\t\tentity.setContentEncoding(new BasicHeader(HTTP.CONTENT_TYPE, &quot;application/json; charset=UTF-8&quot;));\r\n\t\t\tpost.setEntity(entity);\r\n\r\n```\r\n\r\nCurrently this gives a 500 response, but if we remove this code segment below\r\n\r\n```\r\nentity.setContentEncoding(new BasicHeader(HTTP.CONTENT_TYPE, &quot;application/json; charset=UTF-8&quot;));\r\n\t\t\tpost.setEntity(entity);\r\n```\r\nIt works and gives us a 200 response.\r\n\r\nThe curl command we have currently -\r\n\r\n```\r\ncurl -vwX POST [URL(https)] -H &quot;Content-Type: application/json&quot; -d &#39;[some JSON data]&#39;\r\n```\r\nAre we missing some headers here when trying to replicate the 500 error, cos with this curl we get a 200 response. How to add additional headers with respect to -entity.setContentEncoding() as seen in code to the curl command.\r\nI can assure we have the details for the URL and the json data to be set in CURL to be correct and checked multiple times, the issue only seems to be with the missing headers/header combination.","title":"What is the curl equivalent command for this code for POST written using DefaultHttpClient library(httpclient 4.5 version)","body":"<p>Here is the code we are using to hit the POST endpoint -</p>\n<pre><code>DefaultHttpClient client = new DefaultHttpClient();\n        try {\n            //Create POST with REQUEST_TOKEN URL\n            HttpPost post = new HttpPost(Url + REQUEST_TOKEN_URI);\n            post.setHeader(HTTP.CONTENT_TYPE, &quot;application/json; charset=UTF-8&quot;);\n            \n            RequestAuthTokenBody requestBody = new RequestAuthTokenBody();\n            requestBody.setEmail(user.getEmail());\n            requestBody.setToken(user.getToken());\n            requestBody.setUUID(user.getAccountUUID());\n            \n            //Generate JSON from object\n            String jsonRequest = mapper.writeValueAsString(requestBody);\n            \n            //Set request body\n            StringEntity entity = new StringEntity(jsonRequest);\n            entity.setContentEncoding(new BasicHeader(HTTP.CONTENT_TYPE, &quot;application/json; charset=UTF-8&quot;));\n            post.setEntity(entity);\n\n</code></pre>\n<p>Currently this gives a 500 response, but if we remove this code segment below</p>\n<pre><code>entity.setContentEncoding(new BasicHeader(HTTP.CONTENT_TYPE, &quot;application/json; charset=UTF-8&quot;));\n            post.setEntity(entity);\n</code></pre>\n<p>It works and gives us a 200 response.</p>\n<p>The curl command we have currently -</p>\n<pre><code>curl -vwX POST [URL(https)] -H &quot;Content-Type: application/json&quot; -d '[some JSON data]'\n</code></pre>\n<p>Are we missing some headers here when trying to replicate the 500 error, cos with this curl we get a 200 response. How to add additional headers with respect to -entity.setContentEncoding() as seen in code to the curl command.\nI can assure we have the details for the URL and the json data to be set in CURL to be correct and checked multiple times, the issue only seems to be with the missing headers/header combination.</p>\n"},{"tags":["java","file-handling"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":2,"creation_date":1668673359,"post_id":74472091,"comment_id":131464195,"body_markdown":"Does this answer your question? [Java FileWriter with append mode](https://stackoverflow.com/questions/1225146/java-filewriter-with-append-mode)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1225146/java-filewriter-with-append-mode\">Java FileWriter with append mode</a>"},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":1,"creation_date":1668673472,"post_id":74472091,"comment_id":131464245,"body_markdown":"In short: use the constructor with append mode [`new FileWriter(File file, boolean append)`](https://docs.oracle.com/javase/8/docs/api/java/io/FileWriter.html#FileWriter-java.io.File-boolean-).","body":"In short: use the constructor with append mode <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/FileWriter.html#FileWriter-java.io.File-boolean-\" rel=\"nofollow noreferrer\"><code>new FileWriter(File file, boolean append)</code></a>."},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":1,"creation_date":1668673603,"post_id":74472091,"comment_id":131464299,"body_markdown":"The `while` loop in `createNote` is useless because both branches of the `if` contain a `break`.\nI can&#39;t see the code that reads the file. \nYou&#39;d be better off using the append mode as suggested by @maloomeister.","body":"The <code>while</code> loop in <code>createNote</code> is useless because both branches of the <code>if</code> contain a <code>break</code>. I can&#39;t see the code that reads the file.  You&#39;d be better off using the append mode as suggested by @maloomeister."},{"owner":{"account_id":26843690,"reputation":11,"user_id":20429783,"display_name":"dwextit"},"score":0,"creation_date":1668673943,"post_id":74472091,"comment_id":131464404,"body_markdown":"that doesn&#39;t work for me\nif u want to see, the full code is here: https://replit.com/join/fgjspcbfpq-dexterlanot","body":"that doesn&#39;t work for me if u want to see, the full code is here: <a href=\"https://replit.com/join/fgjspcbfpq-dexterlanot\" rel=\"nofollow noreferrer\">replit.com/join/fgjspcbfpq-dexterlanot</a>"}],"answers":[{"tags":[],"owner":{"account_id":26959943,"reputation":11,"user_id":20527747,"display_name":"Positronator"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668676851,"creation_date":1668676851,"answer_id":74472921,"question_id":74472091,"body_markdown":"Your code currently does the following:\r\n\r\nYou enter something (X) for the first time:\r\n\r\n - It gets added to the ArrayList \r\n - The ArrayList gets written into the file \r\n - Your file now contains: X\r\n\r\nYou enter something second (Y):\r\n - It gets added to the ArrayList (Which now contains: X, Y)\r\n - The ArrayList gets written into the file\r\n - Your file now contains: X + newline + Y\r\n\r\nYour Problem is, that everytime you create a new FileWrite it overwrites your file.\r\n\r\nThis can be avoided by using the constructor like this:\r\n\r\n    FileWriter writer = new FileWriter(&quot;notes.data&quot;, true);\r\n\r\nThis sets it into the append mode and therefore keeps previous data in the file","title":"Retrieve lines in txt file and append new inputs from the user java","body":"<p>Your code currently does the following:</p>\n<p>You enter something (X) for the first time:</p>\n<ul>\n<li>It gets added to the ArrayList</li>\n<li>The ArrayList gets written into the file</li>\n<li>Your file now contains: X</li>\n</ul>\n<p>You enter something second (Y):</p>\n<ul>\n<li>It gets added to the ArrayList (Which now contains: X, Y)</li>\n<li>The ArrayList gets written into the file</li>\n<li>Your file now contains: X + newline + Y</li>\n</ul>\n<p>Your Problem is, that everytime you create a new FileWrite it overwrites your file.</p>\n<p>This can be avoided by using the constructor like this:</p>\n<pre><code>FileWriter writer = new FileWriter(&quot;notes.data&quot;, true);\n</code></pre>\n<p>This sets it into the append mode and therefore keeps previous data in the file</p>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668700812,"creation_date":1668700812,"answer_id":74478520,"question_id":74472091,"body_markdown":"You don&#39;t need to create a separate `Scanner`, in method `createNote()`, in order to get a &quot;note&quot; from the user.\r\n\r\nIt is usually better to write your code using the interface rather than the specific implementation because then you usually need to change less code if you decide to change the implementation. Hence the type for member variable `memory` should probably be [List](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html) rather than `ArrayList`.\r\n\r\nNote that `ArrayList` may waste memory if the list of &quot;note&quot;s is large. I suggest using [LinkedList](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/LinkedList.html) instead. Alternatively, use an array (rather than a `List`) and handle expanding the array when adding a &quot;note&quot; as well as reducing the array when removing a &quot;note&quot;.\r\n\r\nHaving an infinite loop, i.e. `while (true)`, which contains a single `if-else` where both the `if` block and the `else` block contain `break` statements, means that the loop will perform exactly one iteration. May as well remove the `while` loop &amp;ndash; which means also removing the `break` statements.\r\n\r\nRather than writing the code that generates a timestamp repeatedly, you should adopt the [DRY](https://en.wikipedia.org/wiki/Don%27t_repeat_yourself) principle and extract that code into a separate method.\r\n\r\nThe file name should be a constant so as to minimize the amount of code changes you will need to do if you decide to change the file name.\r\n\r\nBy convention, text files have a filename extension of `.txt` whereas binary files have the `.data` extension.\r\n\r\nAlthough you don&#39;t need to, I personally prefer to initialize class member variables in the constructor.\r\n\r\nThe below code is a [SSCCE](https://meta.stackexchange.com/questions/22754/sscce-how-to-provide-examples-for-programming-questions), hence I added a `main` method. More notes appear after the code.\r\n```java\r\npackage Methods;\r\n\r\nimport java.util.*;\r\nimport java.time.format.*;\r\nimport java.time.*;\r\nimport java.io.*;\r\nimport java.nio.charset.Charset;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.nio.file.StandardOpenOption;\r\n\r\npublic class FileSys {\r\n    private static final String FILENAME = &quot;notes.txt&quot;;\r\n    private static final String CREATE = &quot;C&quot;;\r\n    private static final String DELETE = &quot;D&quot;;\r\n    private static final String FIND = &quot;F&quot;;\r\n    private static final String QUIT = &quot;Q&quot;;\r\n    private static final String SHOW = &quot;S&quot;;\r\n    private static final String UPDATE = &quot;U&quot;;\r\n\r\n    Scanner reader;\r\n    List&lt;String&gt; memory;\r\n\r\n    public FileSys() throws IOException {\r\n        reader = new Scanner(System.in);\r\n        memory = new LinkedList&lt;String&gt;();\r\n        loadFile();\r\n    }\r\n\r\n    public void fileHandling() {\r\n        Path path = Paths.get(FILENAME);\r\n        try (BufferedWriter bw = Files.newBufferedWriter(path,\r\n                                                         StandardOpenOption.CREATE,\r\n                                                         StandardOpenOption.WRITE);\r\n             PrintWriter pw = new PrintWriter(bw)) {\r\n            for (String write : memory) {\r\n                pw.println(write);\r\n            }\r\n        }\r\n        catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public void createNote() {\r\n        String dateTime = getTimestamp();\r\n\r\n            System.out.println();\r\n            System.out.println(&quot;Enter a note&quot;);\r\n            System.out.print(&quot;&gt; &quot;);\r\n            String note = reader.nextLine();\r\n\r\n            memory.add(note + &quot; / &quot; + dateTime);\r\n\r\n            fileHandling();\r\n            System.out.println(&quot;Note is saved!&quot;);\r\n    }\r\n\r\n    public void searchNote() {\r\n        System.out.print(&quot;\\nEnter note number: &quot;);\r\n        try {\r\n            int search = reader.nextInt();\r\n            reader.nextLine();\r\n            System.out.println(&quot;\\nSearch result:&quot;);\r\n            int index = memory.indexOf(memory.get(search - 1));\r\n            if (index != -1) {\r\n                System.out.println(&quot;[&quot; + (index + 1) + &quot;]&quot; + &quot; &quot; + memory.get(search - 1));\r\n            }\r\n            else {\r\n                System.out.println(&quot;Note number-&quot; + search + &quot; is not found in the collection!&quot;);\r\n            }\r\n        }\r\n        catch (IndexOutOfBoundsException e) {\r\n            System.out.println(&quot;The note number you have entered is invalid!&quot;);\r\n        }\r\n    }\r\n\r\n    public void updateNote() {\r\n        String dateTime = getTimestamp(); // ZonedDateTime.now(ZoneId.systemDefault()).format(dateTimeObj);\r\n        System.out.print(&quot;\\nEnter note number to change: &quot;);\r\n        try {\r\n            int search = reader.nextInt();\r\n            int index = memory.indexOf(memory.get(search - 1));\r\n            String updateLine;\r\n            if (index != -1) {\r\n                System.out.println(&quot;\\nCurrent note: &quot;);\r\n                System.out.println(&quot;[&quot; + (index + 1) + &quot;]&quot; + &quot; &quot; + memory.get(search - 1));\r\n                System.out.println(&quot;\\nThe updated note will be: &quot;);\r\n                System.out.print(&quot;&gt; &quot;);\r\n                reader.nextLine();\r\n                updateLine = reader.nextLine();\r\n                memory.set(index, updateLine + &quot; /&quot; + dateTime);\r\n                System.out.print(&quot;Note has been updated successfully!\\n&quot;);\r\n            }\r\n            else {\r\n                System.out.println(search + &quot; is not found in the collection!&quot;);\r\n            }\r\n        }\r\n        catch (IndexOutOfBoundsException e) {\r\n            System.out.println(&quot;The note number you have entered is invalid!&quot;);\r\n        }\r\n        fileHandling();\r\n    }\r\n\r\n    public void deleteNote() {\r\n        System.out.print(&quot;\\nEnter note number to delete: &quot;);\r\n        try {\r\n            int search = reader.nextInt();\r\n            reader.nextLine();\r\n            int index = memory.indexOf(memory.get(search - 1));\r\n            System.out.println();\r\n            if (index != -1) {\r\n                System.out.println(&quot;[&quot; + (index + 1) + &quot;]&quot; + &quot; &quot; + memory.get(search - 1));\r\n                System.out.print(&quot;\\nDo you want to delete this note? \\n[y] or [n]: &quot;);\r\n                char delDecision = reader.nextLine().charAt(0);\r\n                if (delDecision == &#39;y&#39; || delDecision == &#39;Y&#39;) {\r\n                    memory.remove(index);\r\n                    System.out.println(&quot;Note has been deleted successfully!&quot;);\r\n                    System.out.println();\r\n                }\r\n                else if (delDecision == &#39;n&#39; || delDecision == &#39;N&#39;) {\r\n                    System.out.println(&quot;Note was not deleted!&quot;);\r\n                }\r\n                else {\r\n                    System.out.println(&quot;Invalid input!&quot;);\r\n                }\r\n            }\r\n            else {\r\n                System.out.println(search + &quot; is not found in the collection!&quot;);\r\n            }\r\n        }\r\n        catch (IndexOutOfBoundsException e) {\r\n            System.out.println(&quot;The note number you have entered is invalid!&quot;);\r\n        }\r\n        fileHandling();\r\n    }\r\n\r\n    public void displayNote() {\r\n        if (memory.size() &gt; 0) {\r\n            int counter = 0;\r\n            for (String note : memory) {\r\n                System.out.printf(&quot;%d. %s%n&quot;, ++counter, note);\r\n            }\r\n        }\r\n        else {\r\n            System.out.println(&quot;There are no notes.&quot;);\r\n        }\r\n    }\r\n\r\n    private String getTimestamp() {\r\n        LocalDate todayDate = LocalDate.now();\r\n        LocalTime nowTime = LocalTime.now();\r\n        String timeFormat = nowTime.format(DateTimeFormatter.ofLocalizedTime(FormatStyle.MEDIUM));\r\n        String dateTime = todayDate.toString() + &quot; at &quot; + timeFormat;// ZonedDateTime.now(ZoneId.systemDefault()).format(dateTimeObj);\r\n        return dateTime;\r\n    }\r\n\r\n    private void loadFile() throws IOException {\r\n        Path path = Paths.get(FILENAME);\r\n        if (Files.isRegularFile(path)) {\r\n            memory.addAll(Files.readAllLines(path, Charset.defaultCharset()));\r\n        }\r\n    }\r\n\r\n    private void showMenu() {\r\n        String choice = &quot;&quot;;\r\n        while (!QUIT.equalsIgnoreCase(choice)) {\r\n            System.out.println(CREATE + &quot; - Create note&quot;);\r\n            System.out.println(DELETE + &quot; - Delete note&quot;);\r\n            System.out.println(FIND + &quot; - Search notes&quot;);\r\n            System.out.println(SHOW + &quot; - Show notes&quot;);\r\n            System.out.println(UPDATE + &quot; - Update note&quot;);\r\n            System.out.println(QUIT + &quot; - Quit&quot;);\r\n            System.out.println();\r\n            System.out.print(&quot;Your choice: &quot;);\r\n            choice = reader.nextLine();\r\n            if (!choice.isEmpty()) {\r\n                choice = choice.substring(0, 1);\r\n                choice = choice.toUpperCase();\r\n                switch (choice) {\r\n                    case CREATE -&gt; createNote();\r\n                    case DELETE -&gt; deleteNote();\r\n                    case FIND -&gt; searchNote();\r\n                    case SHOW -&gt; displayNote();\r\n                    case UPDATE -&gt; updateNote();\r\n                    case QUIT -&gt; System.out.println(&quot;Good bye.&quot;);\r\n                    default -&gt; System.out.println(&quot;Invalid: &quot; + choice);\r\n                }\r\n            }\r\n            else {\r\n                System.out.println(&quot;No selection entered. Retry.&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            FileSys fs = new FileSys();\r\n            fs.showMenu();\r\n        }\r\n        catch (IOException xIo) {\r\n            xIo.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\nYour code does not initially load `memory` with contents of file *notes.txt* so I added that in the constructor. **Consequently you don&#39;t need to append to the file since you simply overwrite it with contents of `memory`.**\r\n\r\nThe file handling is done using [NIO.2](https://docs.oracle.com/javase/tutorial/essential/io/fileio.html) including [try-with-resources](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html) &amp;ndash; which was added in [Java 7](https://docs.oracle.com/javase/7/docs/technotes/guides/language/try-with-resources.html). There are more NIO.2 [examples](https://docs.oracle.com/javase/8/docs/technotes/guides/io/example/index.html) in the JDK documentation.\r\n\r\nWhenever the code throws an unexpected exception, it is nearly always a good idea to print the stack trace.\r\n","title":"Retrieve lines in txt file and append new inputs from the user java","body":"<p>You don't need to create a separate <code>Scanner</code>, in method <code>createNote()</code>, in order to get a &quot;note&quot; from the user.</p>\n<p>It is usually better to write your code using the interface rather than the specific implementation because then you usually need to change less code if you decide to change the implementation. Hence the type for member variable <code>memory</code> should probably be <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\">List</a> rather than <code>ArrayList</code>.</p>\n<p>Note that <code>ArrayList</code> may waste memory if the list of &quot;note&quot;s is large. I suggest using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/LinkedList.html\" rel=\"nofollow noreferrer\">LinkedList</a> instead. Alternatively, use an array (rather than a <code>List</code>) and handle expanding the array when adding a &quot;note&quot; as well as reducing the array when removing a &quot;note&quot;.</p>\n<p>Having an infinite loop, i.e. <code>while (true)</code>, which contains a single <code>if-else</code> where both the <code>if</code> block and the <code>else</code> block contain <code>break</code> statements, means that the loop will perform exactly one iteration. May as well remove the <code>while</code> loop – which means also removing the <code>break</code> statements.</p>\n<p>Rather than writing the code that generates a timestamp repeatedly, you should adopt the <a href=\"https://en.wikipedia.org/wiki/Don%27t_repeat_yourself\" rel=\"nofollow noreferrer\">DRY</a> principle and extract that code into a separate method.</p>\n<p>The file name should be a constant so as to minimize the amount of code changes you will need to do if you decide to change the file name.</p>\n<p>By convention, text files have a filename extension of <code>.txt</code> whereas binary files have the <code>.data</code> extension.</p>\n<p>Although you don't need to, I personally prefer to initialize class member variables in the constructor.</p>\n<p>The below code is a <a href=\"https://meta.stackexchange.com/questions/22754/sscce-how-to-provide-examples-for-programming-questions\">SSCCE</a>, hence I added a <code>main</code> method. More notes appear after the code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package Methods;\n\nimport java.util.*;\nimport java.time.format.*;\nimport java.time.*;\nimport java.io.*;\nimport java.nio.charset.Charset;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.nio.file.StandardOpenOption;\n\npublic class FileSys {\n    private static final String FILENAME = &quot;notes.txt&quot;;\n    private static final String CREATE = &quot;C&quot;;\n    private static final String DELETE = &quot;D&quot;;\n    private static final String FIND = &quot;F&quot;;\n    private static final String QUIT = &quot;Q&quot;;\n    private static final String SHOW = &quot;S&quot;;\n    private static final String UPDATE = &quot;U&quot;;\n\n    Scanner reader;\n    List&lt;String&gt; memory;\n\n    public FileSys() throws IOException {\n        reader = new Scanner(System.in);\n        memory = new LinkedList&lt;String&gt;();\n        loadFile();\n    }\n\n    public void fileHandling() {\n        Path path = Paths.get(FILENAME);\n        try (BufferedWriter bw = Files.newBufferedWriter(path,\n                                                         StandardOpenOption.CREATE,\n                                                         StandardOpenOption.WRITE);\n             PrintWriter pw = new PrintWriter(bw)) {\n            for (String write : memory) {\n                pw.println(write);\n            }\n        }\n        catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public void createNote() {\n        String dateTime = getTimestamp();\n\n            System.out.println();\n            System.out.println(&quot;Enter a note&quot;);\n            System.out.print(&quot;&gt; &quot;);\n            String note = reader.nextLine();\n\n            memory.add(note + &quot; / &quot; + dateTime);\n\n            fileHandling();\n            System.out.println(&quot;Note is saved!&quot;);\n    }\n\n    public void searchNote() {\n        System.out.print(&quot;\\nEnter note number: &quot;);\n        try {\n            int search = reader.nextInt();\n            reader.nextLine();\n            System.out.println(&quot;\\nSearch result:&quot;);\n            int index = memory.indexOf(memory.get(search - 1));\n            if (index != -1) {\n                System.out.println(&quot;[&quot; + (index + 1) + &quot;]&quot; + &quot; &quot; + memory.get(search - 1));\n            }\n            else {\n                System.out.println(&quot;Note number-&quot; + search + &quot; is not found in the collection!&quot;);\n            }\n        }\n        catch (IndexOutOfBoundsException e) {\n            System.out.println(&quot;The note number you have entered is invalid!&quot;);\n        }\n    }\n\n    public void updateNote() {\n        String dateTime = getTimestamp(); // ZonedDateTime.now(ZoneId.systemDefault()).format(dateTimeObj);\n        System.out.print(&quot;\\nEnter note number to change: &quot;);\n        try {\n            int search = reader.nextInt();\n            int index = memory.indexOf(memory.get(search - 1));\n            String updateLine;\n            if (index != -1) {\n                System.out.println(&quot;\\nCurrent note: &quot;);\n                System.out.println(&quot;[&quot; + (index + 1) + &quot;]&quot; + &quot; &quot; + memory.get(search - 1));\n                System.out.println(&quot;\\nThe updated note will be: &quot;);\n                System.out.print(&quot;&gt; &quot;);\n                reader.nextLine();\n                updateLine = reader.nextLine();\n                memory.set(index, updateLine + &quot; /&quot; + dateTime);\n                System.out.print(&quot;Note has been updated successfully!\\n&quot;);\n            }\n            else {\n                System.out.println(search + &quot; is not found in the collection!&quot;);\n            }\n        }\n        catch (IndexOutOfBoundsException e) {\n            System.out.println(&quot;The note number you have entered is invalid!&quot;);\n        }\n        fileHandling();\n    }\n\n    public void deleteNote() {\n        System.out.print(&quot;\\nEnter note number to delete: &quot;);\n        try {\n            int search = reader.nextInt();\n            reader.nextLine();\n            int index = memory.indexOf(memory.get(search - 1));\n            System.out.println();\n            if (index != -1) {\n                System.out.println(&quot;[&quot; + (index + 1) + &quot;]&quot; + &quot; &quot; + memory.get(search - 1));\n                System.out.print(&quot;\\nDo you want to delete this note? \\n[y] or [n]: &quot;);\n                char delDecision = reader.nextLine().charAt(0);\n                if (delDecision == 'y' || delDecision == 'Y') {\n                    memory.remove(index);\n                    System.out.println(&quot;Note has been deleted successfully!&quot;);\n                    System.out.println();\n                }\n                else if (delDecision == 'n' || delDecision == 'N') {\n                    System.out.println(&quot;Note was not deleted!&quot;);\n                }\n                else {\n                    System.out.println(&quot;Invalid input!&quot;);\n                }\n            }\n            else {\n                System.out.println(search + &quot; is not found in the collection!&quot;);\n            }\n        }\n        catch (IndexOutOfBoundsException e) {\n            System.out.println(&quot;The note number you have entered is invalid!&quot;);\n        }\n        fileHandling();\n    }\n\n    public void displayNote() {\n        if (memory.size() &gt; 0) {\n            int counter = 0;\n            for (String note : memory) {\n                System.out.printf(&quot;%d. %s%n&quot;, ++counter, note);\n            }\n        }\n        else {\n            System.out.println(&quot;There are no notes.&quot;);\n        }\n    }\n\n    private String getTimestamp() {\n        LocalDate todayDate = LocalDate.now();\n        LocalTime nowTime = LocalTime.now();\n        String timeFormat = nowTime.format(DateTimeFormatter.ofLocalizedTime(FormatStyle.MEDIUM));\n        String dateTime = todayDate.toString() + &quot; at &quot; + timeFormat;// ZonedDateTime.now(ZoneId.systemDefault()).format(dateTimeObj);\n        return dateTime;\n    }\n\n    private void loadFile() throws IOException {\n        Path path = Paths.get(FILENAME);\n        if (Files.isRegularFile(path)) {\n            memory.addAll(Files.readAllLines(path, Charset.defaultCharset()));\n        }\n    }\n\n    private void showMenu() {\n        String choice = &quot;&quot;;\n        while (!QUIT.equalsIgnoreCase(choice)) {\n            System.out.println(CREATE + &quot; - Create note&quot;);\n            System.out.println(DELETE + &quot; - Delete note&quot;);\n            System.out.println(FIND + &quot; - Search notes&quot;);\n            System.out.println(SHOW + &quot; - Show notes&quot;);\n            System.out.println(UPDATE + &quot; - Update note&quot;);\n            System.out.println(QUIT + &quot; - Quit&quot;);\n            System.out.println();\n            System.out.print(&quot;Your choice: &quot;);\n            choice = reader.nextLine();\n            if (!choice.isEmpty()) {\n                choice = choice.substring(0, 1);\n                choice = choice.toUpperCase();\n                switch (choice) {\n                    case CREATE -&gt; createNote();\n                    case DELETE -&gt; deleteNote();\n                    case FIND -&gt; searchNote();\n                    case SHOW -&gt; displayNote();\n                    case UPDATE -&gt; updateNote();\n                    case QUIT -&gt; System.out.println(&quot;Good bye.&quot;);\n                    default -&gt; System.out.println(&quot;Invalid: &quot; + choice);\n                }\n            }\n            else {\n                System.out.println(&quot;No selection entered. Retry.&quot;);\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        try {\n            FileSys fs = new FileSys();\n            fs.showMenu();\n        }\n        catch (IOException xIo) {\n            xIo.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Your code does not initially load <code>memory</code> with contents of file <em>notes.txt</em> so I added that in the constructor. <strong>Consequently you don't need to append to the file since you simply overwrite it with contents of <code>memory</code>.</strong></p>\n<p>The file handling is done using <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/fileio.html\" rel=\"nofollow noreferrer\">NIO.2</a> including <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a> – which was added in <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/language/try-with-resources.html\" rel=\"nofollow noreferrer\">Java 7</a>. There are more NIO.2 <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/io/example/index.html\" rel=\"nofollow noreferrer\">examples</a> in the JDK documentation.</p>\n<p>Whenever the code throws an unexpected exception, it is nearly always a good idea to print the stack trace.</p>\n"}],"owner":{"account_id":26843690,"reputation":11,"user_id":20429783,"display_name":"dwextit"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668700812,"creation_date":1668672757,"question_id":74472091,"body_markdown":"I&#39;m using an arraylist to append inputs and send the arraylist elements to file. However, everytime I exit the program and run it again, the contents in the written in the file becomes empty.\r\n\r\n\r\n```\r\nArrayList&lt;String&gt; memory = new ArrayList&lt;String&gt;();\r\n\r\n    public void fileHandling() {\r\n        try {\r\n            FileWriter fWriter = new FileWriter(&quot;notes.data&quot;);\r\n            for (int x = 0; x &lt;= memory.size() - 1; x++) {\r\n                fWriter.write(memory.get(x) + &#39;\\n&#39;);\r\n            }\r\n            fWriter.close();\r\n\r\n        } catch (IOException e) {\r\n            System.out.println(e);\r\n        }\r\n    }\r\n\r\n    public void createNote() {\r\n        Scanner insertNote = new Scanner(System.in);\r\n        LocalDate todayDate = LocalDate.now();\r\n        LocalTime nowTime = LocalTime.now();\r\n        String timeFormat = nowTime.format(DateTimeFormatter.ofLocalizedTime(FormatStyle.MEDIUM));\r\n        String dateTime = todayDate.toString() + &quot; at &quot; + timeFormat;\r\n\r\n        while (true) {\r\n            System.out.println();\r\n            System.out.println(&quot;Enter a note&quot;);\r\n            System.out.print(&quot;&gt; &quot;);\r\n            String note = insertNote.nextLine();\r\n\r\n            if (note == null) {\r\n                System.out.println(&quot;Invalid input! Try again&quot;);\r\n                break;\r\n            } else {\r\n                memory.add(note + &quot; /&quot; + dateTime);\r\n                \r\n                fileHandling();\r\n                System.out.println(&quot;Note is saved!\\n&quot;);\r\n                break;\r\n            }\r\n        }\r\n```\r\n\r\nI expect the program to save the contents of every input. Then if I exit and run the program again, the contents will go back to the array ","title":"Retrieve lines in txt file and append new inputs from the user java","body":"<p>I'm using an arraylist to append inputs and send the arraylist elements to file. However, everytime I exit the program and run it again, the contents in the written in the file becomes empty.</p>\n<pre><code>ArrayList&lt;String&gt; memory = new ArrayList&lt;String&gt;();\n\n    public void fileHandling() {\n        try {\n            FileWriter fWriter = new FileWriter(&quot;notes.data&quot;);\n            for (int x = 0; x &lt;= memory.size() - 1; x++) {\n                fWriter.write(memory.get(x) + '\\n');\n            }\n            fWriter.close();\n\n        } catch (IOException e) {\n            System.out.println(e);\n        }\n    }\n\n    public void createNote() {\n        Scanner insertNote = new Scanner(System.in);\n        LocalDate todayDate = LocalDate.now();\n        LocalTime nowTime = LocalTime.now();\n        String timeFormat = nowTime.format(DateTimeFormatter.ofLocalizedTime(FormatStyle.MEDIUM));\n        String dateTime = todayDate.toString() + &quot; at &quot; + timeFormat;\n\n        while (true) {\n            System.out.println();\n            System.out.println(&quot;Enter a note&quot;);\n            System.out.print(&quot;&gt; &quot;);\n            String note = insertNote.nextLine();\n\n            if (note == null) {\n                System.out.println(&quot;Invalid input! Try again&quot;);\n                break;\n            } else {\n                memory.add(note + &quot; /&quot; + dateTime);\n                \n                fileHandling();\n                System.out.println(&quot;Note is saved!\\n&quot;);\n                break;\n            }\n        }\n</code></pre>\n<p>I expect the program to save the contents of every input. Then if I exit and run the program again, the contents will go back to the array</p>\n"},{"tags":["java","spring","interface","mapper"],"answers":[{"tags":[],"owner":{"account_id":5049794,"reputation":631,"user_id":4054720,"display_name":"Ben Borchard"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668700574,"creation_date":1668699022,"answer_id":74478079,"question_id":74477339,"body_markdown":"The correct way to declare your `Mapping` to ignore the field you want to ignore is the first one, you can delete the others.\r\n\r\n&gt;```\r\n&gt;@Mapping(source = &quot;type&quot;, target = &quot;type&quot;, ignore = true)\r\n&gt;```\r\n\r\nThe reason that this isn&#39;t working for you as written is that you are technically mapping a `List` object to another `List` object.  The `List` objects you pass in to be mapped will probably not have a `type` field (and definitely not the one you care about), the objects they hold (`Document` and `DocumentDTO`) will though.  \r\n\r\nTo get this to work they way you would like you need two mappers: one for the `List`s and one for `Document` to `DocumentDTO`.  Since the `type` field you want to ignore is on the latter objects, you should put the `Mapping` annotation on that method:\r\n\r\n```\r\n@Mapper\r\npublic interface DocumentsMapper {\r\n\r\nList&lt;DocumentDTO&gt; listMapper(List&lt;Document&gt; document);\r\n\r\n@Mapping(source = &quot;type&quot;, target = &quot;type&quot;, ignore = true)\r\nDocumentDTO mapper(Document document);\r\n```\r\n\r\nThe `mapstruct` library is smart enough to automatically use the `mapper` method to convert each element in your `List` in the `listMapper` method.\r\n","title":"Can not map Enum value with @mapper","body":"<p>The correct way to declare your <code>Mapping</code> to ignore the field you want to ignore is the first one, you can delete the others.</p>\n<blockquote>\n<pre><code>@Mapping(source = &quot;type&quot;, target = &quot;type&quot;, ignore = true)\n</code></pre>\n</blockquote>\n<p>The reason that this isn't working for you as written is that you are technically mapping a <code>List</code> object to another <code>List</code> object.  The <code>List</code> objects you pass in to be mapped will probably not have a <code>type</code> field (and definitely not the one you care about), the objects they hold (<code>Document</code> and <code>DocumentDTO</code>) will though.</p>\n<p>To get this to work they way you would like you need two mappers: one for the <code>List</code>s and one for <code>Document</code> to <code>DocumentDTO</code>.  Since the <code>type</code> field you want to ignore is on the latter objects, you should put the <code>Mapping</code> annotation on that method:</p>\n<pre><code>@Mapper\npublic interface DocumentsMapper {\n\nList&lt;DocumentDTO&gt; listMapper(List&lt;Document&gt; document);\n\n@Mapping(source = &quot;type&quot;, target = &quot;type&quot;, ignore = true)\nDocumentDTO mapper(Document document);\n</code></pre>\n<p>The <code>mapstruct</code> library is smart enough to automatically use the <code>mapper</code> method to convert each element in your <code>List</code> in the <code>listMapper</code> method.</p>\n"}],"owner":{"account_id":24183247,"reputation":472,"user_id":18570428,"display_name":"Talenel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":664,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74478079,"answer_count":1,"score":0,"last_activity_date":1668700574,"creation_date":1668696159,"question_id":74477339,"body_markdown":"I&#39;m trying to make an automatic mapper, but I&#39;m having a problem with an `Enum` inside my DTO.\r\nIn my `@mapper` class, I want everything to be automatically mapped except fthe `Enum` field. However, when debugging, I see that it does go into the mapper auto-implementation class, and it doesn&#39;t ignore my `Enum` as I indicate with @mapping\r\n\r\nExample of my Entity and DTO\r\n\r\n    @Entity\r\n    public class Document {\r\n    \t\r\n\t@Id\r\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    private Integer id;\r\n\t\r\n    private String type;\r\n\r\nMy DTO:\r\n\r\n    @Data\r\n    public class DocumentDTO {\r\n\r\n\tprivate Integer id;\r\n\tprivate DocumentsEnum type;\r\n\r\nHow can I ignore the mapping for that specific enumerated field?\r\n\r\nI have tried the following annotations on @mapping:\r\n\r\n    @Mapper\r\n    public interface DocumentsMapper {\r\n\t\r\n\t@Mapping(source = &quot;type&quot;, target = &quot;type&quot;, ignore = true)\r\n\t@Mapping(source = &quot;DocumentsEnum&quot;, target = &quot;DocumentsEnum&quot;, ignore = true)\r\n\t@Mapping(source = &quot;MAIN&quot;, target = &quot;MAIN&quot;, ignore = true) // &lt;-- This is the value of Enum\r\n\t@Mapping(source = &quot;ppal&quot;, target = &quot;ppal&quot;, ignore = true) // &lt;-- This is the name of Enum\r\n\tList&lt;DocumentDTO&gt; mapper(List&lt;Document&gt; document);\r\n\r\n\t@AfterMapping\r\n\tdefault void afterMapping(Document document, @MappingTarget DocumentDTO documentDTO) {\r\n\t\t//some logic\r\n\t}","title":"Can not map Enum value with @mapper","body":"<p>I'm trying to make an automatic mapper, but I'm having a problem with an <code>Enum</code> inside my DTO.\nIn my <code>@mapper</code> class, I want everything to be automatically mapped except fthe <code>Enum</code> field. However, when debugging, I see that it does go into the mapper auto-implementation class, and it doesn't ignore my <code>Enum</code> as I indicate with @mapping</p>\n<p>Example of my Entity and DTO</p>\n<pre><code>@Entity\npublic class Document {\n    \n@Id\n@GeneratedValue(strategy=GenerationType.IDENTITY)\nprivate Integer id;\n\nprivate String type;\n</code></pre>\n<p>My DTO:</p>\n<pre><code>@Data\npublic class DocumentDTO {\n\nprivate Integer id;\nprivate DocumentsEnum type;\n</code></pre>\n<p>How can I ignore the mapping for that specific enumerated field?</p>\n<p>I have tried the following annotations on @mapping:</p>\n<pre><code>@Mapper\npublic interface DocumentsMapper {\n\n@Mapping(source = &quot;type&quot;, target = &quot;type&quot;, ignore = true)\n@Mapping(source = &quot;DocumentsEnum&quot;, target = &quot;DocumentsEnum&quot;, ignore = true)\n@Mapping(source = &quot;MAIN&quot;, target = &quot;MAIN&quot;, ignore = true) // &lt;-- This is the value of Enum\n@Mapping(source = &quot;ppal&quot;, target = &quot;ppal&quot;, ignore = true) // &lt;-- This is the name of Enum\nList&lt;DocumentDTO&gt; mapper(List&lt;Document&gt; document);\n\n@AfterMapping\ndefault void afterMapping(Document document, @MappingTarget DocumentDTO documentDTO) {\n    //some logic\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","sticky-session","spring-cloud-loadbalancer"],"answers":[{"tags":[],"owner":{"account_id":3957137,"reputation":2210,"user_id":3265253,"display_name":"dangarfield"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1668689117,"creation_date":1668689117,"answer_id":74475700,"question_id":74474983,"body_markdown":"By default, Spring Cloud Loadbalancer ([see config here](https://docs.spring.io/spring-cloud-commons/docs/current/reference/html/#spring-cloud-loadbalancer)) uses [round-robin load balancing](https://www.educative.io/answers/what-is-the-round-robin-load-balancing-technique). \r\n\r\nTo change this, in your Spring Cloud Gateway, use `RequestBasedStickySessionServiceInstanceListSupplier`.\r\n\r\nBy setting the application context (`bootstrap.yml`):\r\n```\r\nspring.cloud.loadbalancer.configurations: request-based-sticky-session\r\n```\r\n\r\nor create a bean:\r\n```\r\npublic class CustomLoadBalancerConfiguration {\r\n\r\n    @Bean\r\n    public ServiceInstanceListSupplier discoveryClientServiceInstanceListSupplier(\r\n            ConfigurableApplicationContext context) {\r\n        return ServiceInstanceListSupplier.builder()\r\n                    .withDiscoveryClient()\r\n                    .withRequestBasedStickySession()\r\n                    .build(context);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nSpring Documentation\r\n- https://docs.spring.io/spring-cloud-commons/docs/current/reference/html/#request-based-sticky-session-for-loadbalancer Note: Take care of cookie handling.\r\n\r\n\r\nMedium article with related technologies (Eureka, Spring Cloud Gateway) and complete boilerplate code:\r\n- https://progen.medium.com/load-balancing-spring-cloud-applications-using-eureka-and-spring-cloud-gateway-43d0bcf57cc3\r\n- https://github.com/negorp/spring_load_balancing\r\n\r\n**CAVEAT**\r\n\r\nIf you HAVE to use stick-load balancing, I would encourage you to understand why this is the case. Please investigate why you need to use it and ideally adapt your application to that it is not dependent on the request being passed to the same server. Please read the following for reasons to NOT use them:\r\n- https://dev.to/gkoniaris/why-you-should-never-use-sticky-sessions-2pkj\r\n- https://stackoverflow.com/questions/8214536/sticky-sessions-good-or-bad\r\n\r\nGenerally, I would say that having to use sticky sessions in indicative of a sub-optimal architecture.","title":"Sticky session loadbalancing in spring Microservices","body":"<p>By default, Spring Cloud Loadbalancer (<a href=\"https://docs.spring.io/spring-cloud-commons/docs/current/reference/html/#spring-cloud-loadbalancer\" rel=\"nofollow noreferrer\">see config here</a>) uses <a href=\"https://www.educative.io/answers/what-is-the-round-robin-load-balancing-technique\" rel=\"nofollow noreferrer\">round-robin load balancing</a>.</p>\n<p>To change this, in your Spring Cloud Gateway, use <code>RequestBasedStickySessionServiceInstanceListSupplier</code>.</p>\n<p>By setting the application context (<code>bootstrap.yml</code>):</p>\n<pre><code>spring.cloud.loadbalancer.configurations: request-based-sticky-session\n</code></pre>\n<p>or create a bean:</p>\n<pre><code>public class CustomLoadBalancerConfiguration {\n\n    @Bean\n    public ServiceInstanceListSupplier discoveryClientServiceInstanceListSupplier(\n            ConfigurableApplicationContext context) {\n        return ServiceInstanceListSupplier.builder()\n                    .withDiscoveryClient()\n                    .withRequestBasedStickySession()\n                    .build(context);\n        }\n    }\n}\n</code></pre>\n<p>Spring Documentation</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-cloud-commons/docs/current/reference/html/#request-based-sticky-session-for-loadbalancer\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-cloud-commons/docs/current/reference/html/#request-based-sticky-session-for-loadbalancer</a> Note: Take care of cookie handling.</li>\n</ul>\n<p>Medium article with related technologies (Eureka, Spring Cloud Gateway) and complete boilerplate code:</p>\n<ul>\n<li><a href=\"https://progen.medium.com/load-balancing-spring-cloud-applications-using-eureka-and-spring-cloud-gateway-43d0bcf57cc3\" rel=\"nofollow noreferrer\">https://progen.medium.com/load-balancing-spring-cloud-applications-using-eureka-and-spring-cloud-gateway-43d0bcf57cc3</a></li>\n<li><a href=\"https://github.com/negorp/spring_load_balancing\" rel=\"nofollow noreferrer\">https://github.com/negorp/spring_load_balancing</a></li>\n</ul>\n<p><strong>CAVEAT</strong></p>\n<p>If you HAVE to use stick-load balancing, I would encourage you to understand why this is the case. Please investigate why you need to use it and ideally adapt your application to that it is not dependent on the request being passed to the same server. Please read the following for reasons to NOT use them:</p>\n<ul>\n<li><a href=\"https://dev.to/gkoniaris/why-you-should-never-use-sticky-sessions-2pkj\" rel=\"nofollow noreferrer\">https://dev.to/gkoniaris/why-you-should-never-use-sticky-sessions-2pkj</a></li>\n<li><a href=\"https://stackoverflow.com/questions/8214536/sticky-sessions-good-or-bad\">Sticky Sessions: Good or Bad?</a></li>\n</ul>\n<p>Generally, I would say that having to use sticky sessions in indicative of a sub-optimal architecture.</p>\n"}],"owner":{"account_id":25414251,"reputation":51,"user_id":19221489,"display_name":"TheCoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":495,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1668694046,"answer_count":1,"score":-1,"last_activity_date":1668700298,"creation_date":1668685831,"question_id":74474983,"body_markdown":"I am new to Spring and trying to do a proof-of-concept on the sticky session loadbalancing (I am using Eureka for service discovery, Spring Cloud Gateway and Spring Cloud Loadbalancer, its working in round-robin fashion now). I am unable to achieve on sticky session lb. Can some one please help me in this or share code (for sticky session loadbalancer) which I can see and learn.\r\n\r\n\r\n","title":"Sticky session loadbalancing in spring Microservices","body":"<p>I am new to Spring and trying to do a proof-of-concept on the sticky session loadbalancing (I am using Eureka for service discovery, Spring Cloud Gateway and Spring Cloud Loadbalancer, its working in round-robin fashion now). I am unable to achieve on sticky session lb. Can some one please help me in this or share code (for sticky session loadbalancer) which I can see and learn.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9117,"page":875,"page_size":100}
