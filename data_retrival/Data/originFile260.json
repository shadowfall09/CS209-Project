{"items":[{"tags":["java","gradle","java-17"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":2,"creation_date":1635792405,"post_id":69801373,"comment_id":123382965,"body_markdown":"You&#39;d have better luck searching github issues - https://github.com/gradle/gradle/issues/18508","body":"You&#39;d have better luck searching github issues - <a href=\"https://github.com/gradle/gradle/issues/18508\" rel=\"nofollow noreferrer\">github.com/gradle/gradle/issues/18508</a>"},{"owner":{"account_id":9376049,"reputation":3355,"user_id":7643517,"display_name":"Nolequen"},"score":0,"creation_date":1635794106,"post_id":69801373,"comment_id":123383550,"body_markdown":"thanks! following your link I have found another issue: https://github.com/gradle/gradle/issues/16857 according to which the answer is version 7.2.","body":"thanks! following your link I have found another issue: <a href=\"https://github.com/gradle/gradle/issues/16857\" rel=\"nofollow noreferrer\">github.com/gradle/gradle/issues/16857</a> according to which the answer is version 7.2."},{"owner":{"account_id":3845096,"reputation":126,"user_id":3186906,"display_name":"viglu"},"score":0,"creation_date":1636443410,"post_id":69801373,"comment_id":125030941,"body_markdown":"I&#39;m using Gradle 7.2 with JAVA 17 and IntelliJ 2021.2.3 without problems.","body":"I&#39;m using Gradle 7.2 with JAVA 17 and IntelliJ 2021.2.3 without problems."},{"owner":{"account_id":4614611,"reputation":6295,"user_id":3741571,"accept_rate":2,"display_name":"chenzhongpu"},"score":0,"creation_date":1640779969,"post_id":69801373,"comment_id":125030942,"body_markdown":"I am also using the same setting (Gradle 7.2, Java 17, and IntelliJ 2021.2.3), and it works well.","body":"I am also using the same setting (Gradle 7.2, Java 17, and IntelliJ 2021.2.3), and it works well."},{"owner":{"account_id":116757,"reputation":2670,"user_id":306047,"accept_rate":57,"display_name":"snorbi"},"score":0,"creation_date":1642156514,"post_id":69801373,"comment_id":125030943,"body_markdown":"Gradle 7.2 *may* work with Java 17 but it is not officially supported. Eg. I had problems when using Kotlin with Java 17 and Gradle versions &lt;7.3 .\nBased on the official compatibility table, Gradle 7.3 is the first version supporting Java 17.","body":"Gradle 7.2 <i>may</i> work with Java 17 but it is not officially supported. Eg. I had problems when using Kotlin with Java 17 and Gradle versions &lt;7.3 . Based on the official compatibility table, Gradle 7.3 is the first version supporting Java 17."}],"answers":[{"tags":[],"owner":{"account_id":6464248,"reputation":6030,"user_id":5006866,"display_name":"thokuest"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1636963058,"creation_date":1635793343,"answer_id":69801589,"question_id":69801373,"body_markdown":"Gradle 7.3 is the first version fully supporting Java 17. From the [Release Notes][1]:\r\n\r\n&gt; **Support for Java 17**\r\n&gt; \r\n&gt; Gradle now supports running on and building with Java 17.\r\n&gt;\r\n&gt; In previous Gradle versions, running Gradle itself on Java 17 resulted in an error. JVM projects could have been built with Java 17 [using toolchains][2].\r\n&gt; \r\n&gt; As of Gradle 7.3, both running Gradle itself and building JVM projects with Java 17 is fully supported.\r\n\r\n  [1]: https://docs.gradle.org/7.3/release-notes.html#java17\r\n  [2]: https://docs.gradle.org/7.3/userguide/toolchains.html","title":"Starting from which version Gradle supports Java 17","body":"<p>Gradle 7.3 is the first version fully supporting Java 17. From the <a href=\"https://docs.gradle.org/7.3/release-notes.html#java17\" rel=\"noreferrer\">Release Notes</a>:</p>\n<blockquote>\n<p><strong>Support for Java 17</strong></p>\n<p>Gradle now supports running on and building with Java 17.</p>\n<p>In previous Gradle versions, running Gradle itself on Java 17 resulted in an error. JVM projects could have been built with Java 17 <a href=\"https://docs.gradle.org/7.3/userguide/toolchains.html\" rel=\"noreferrer\">using toolchains</a>.</p>\n<p>As of Gradle 7.3, both running Gradle itself and building JVM projects with Java 17 is fully supported.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4830524,"reputation":43,"user_id":3898832,"display_name":"Deepanshu Bhardwaj"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1636962328,"creation_date":1636959653,"answer_id":69970457,"question_id":69801373,"body_markdown":"From version 7.3 Gradle is officially supporting Java 17. For more details, compatibility matrix can be seen [here][1] and details of releases can be seen from [here][2].\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/compatibility.html#java\r\n  [2]: https://gradle.org/releases/","title":"Starting from which version Gradle supports Java 17","body":"<p>From version 7.3 Gradle is officially supporting Java 17. For more details, compatibility matrix can be seen <a href=\"https://docs.gradle.org/current/userguide/compatibility.html#java\" rel=\"nofollow noreferrer\">here</a> and details of releases can be seen from <a href=\"https://gradle.org/releases/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":119615,"reputation":11742,"user_id":311420,"accept_rate":87,"display_name":"Raymond Chenon"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1691514504,"creation_date":1664278113,"answer_id":73866820,"question_id":69801373,"body_markdown":"Here is the Gradle and Java version compatibility.\r\n\r\nFor gradle 7.0 , you have to downgrade to Java 16.\r\n\r\nOr you keep Java 17.0.1 , your gradle has to be update to 7.3 or above.\r\n\r\n## Table Java compatibility\r\n\r\n|Java version| First Gradle version to support it|\r\n|------------|-----------|\r\n|8| 2.0|\r\n|9|4.3|\r\n|10|4.7|\r\n|11|5.0|\r\n|12|5.4|\r\n|13|6.0|\r\n|14|6.3|\r\n|15|6.7|\r\n|16|7.0|\r\n|17|7.3|\r\n|18|7.5|\r\n|19|7.6|\r\n|20|8.1 ⚠|\r\n\r\n\r\nhttps://docs.gradle.org/current/userguide/compatibility.html\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0dkmr.png","title":"Starting from which version Gradle supports Java 17","body":"<p>Here is the Gradle and Java version compatibility.</p>\n<p>For gradle 7.0 , you have to downgrade to Java 16.</p>\n<p>Or you keep Java 17.0.1 , your gradle has to be update to 7.3 or above.</p>\n<h2>Table Java compatibility</h2>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Java version</th>\n<th>First Gradle version to support it</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>8</td>\n<td>2.0</td>\n</tr>\n<tr>\n<td>9</td>\n<td>4.3</td>\n</tr>\n<tr>\n<td>10</td>\n<td>4.7</td>\n</tr>\n<tr>\n<td>11</td>\n<td>5.0</td>\n</tr>\n<tr>\n<td>12</td>\n<td>5.4</td>\n</tr>\n<tr>\n<td>13</td>\n<td>6.0</td>\n</tr>\n<tr>\n<td>14</td>\n<td>6.3</td>\n</tr>\n<tr>\n<td>15</td>\n<td>6.7</td>\n</tr>\n<tr>\n<td>16</td>\n<td>7.0</td>\n</tr>\n<tr>\n<td>17</td>\n<td>7.3</td>\n</tr>\n<tr>\n<td>18</td>\n<td>7.5</td>\n</tr>\n<tr>\n<td>19</td>\n<td>7.6</td>\n</tr>\n<tr>\n<td>20</td>\n<td>8.1 ⚠</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><a href=\"https://docs.gradle.org/current/userguide/compatibility.html\" rel=\"noreferrer\">https://docs.gradle.org/current/userguide/compatibility.html</a></p>\n"}],"owner":{"account_id":9376049,"reputation":3355,"user_id":7643517,"display_name":"Nolequen"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50310,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":69801589,"answer_count":3,"score":18,"last_activity_date":1691514504,"creation_date":1635792162,"question_id":69801373,"body_markdown":"When trying to configure the project I&#39;m getting the error:\r\n\r\n&gt; Unsupported Java. Your build is currently configured to use Java 17.0.1 and Gradle 7.0.\r\n\r\nUnfortunately there are no information in [official documentation][1] for now.\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/compatibility.html","title":"Starting from which version Gradle supports Java 17","body":"<p>When trying to configure the project I'm getting the error:</p>\n<blockquote>\n<p>Unsupported Java. Your build is currently configured to use Java 17.0.1 and Gradle 7.0.</p>\n</blockquote>\n<p>Unfortunately there are no information in <a href=\"https://docs.gradle.org/current/userguide/compatibility.html\" rel=\"noreferrer\">official documentation</a> for now.</p>\n"},{"tags":["java","spring","spring-boot","tomcat","tomcat9"],"answers":[{"tags":[],"owner":{"account_id":28972135,"reputation":21,"user_id":22192187,"display_name":"TheKingVaro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691513769,"creation_date":1691513769,"answer_id":76861699,"question_id":76858658,"body_markdown":"Solved it! Apache CXF was exporting Spring Core 3.0.7 into WEB-INF/lib folder of Tomcat server, and was overriding Spring Core 5.3.29, which was configured on pom.xml and contains the ReflectionUtils.accessibleConstructor method.\r\n\r\nThe solution is to not export Apache CXF libraries into WEB-INF/lib. So:\r\n\r\nRight click on Project -&gt; Properties -&gt; Java Build Path -&gt; Apache CXF, remove the option that exports Apache CXF library into WEB-INF/lib.\r\n\r\nSee ya!","title":"Failed to instantiate WebApplicationInitializer class (ReflectionUtils.accessibleConstructor)","body":"<p>Solved it! Apache CXF was exporting Spring Core 3.0.7 into WEB-INF/lib folder of Tomcat server, and was overriding Spring Core 5.3.29, which was configured on pom.xml and contains the ReflectionUtils.accessibleConstructor method.</p>\n<p>The solution is to not export Apache CXF libraries into WEB-INF/lib. So:</p>\n<p>Right click on Project -&gt; Properties -&gt; Java Build Path -&gt; Apache CXF, remove the option that exports Apache CXF library into WEB-INF/lib.</p>\n<p>See ya!</p>\n"}],"owner":{"account_id":28972135,"reputation":21,"user_id":22192187,"display_name":"TheKingVaro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76861699,"answer_count":1,"score":0,"last_activity_date":1691513769,"creation_date":1691490354,"question_id":76858658,"body_markdown":"Good morning\r\n\r\nI&#39;m developing a REST API with Java 8, Spring 5.3.29 and Spring Boot 2.7.14 and I&#39;m having the next issue when I try to launch the application on a Tomcat 9 server in Eclipse:\r\n\r\n```\r\nGRAVE: Error during ServletContainerInitializer processing\r\njavax.servlet.ServletException: Failed to instantiate WebApplicationInitializer class\r\n\tat org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:160)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4936)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1328)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1318)\r\n\tat java.util.concurrent.FutureTask.run(Unknown Source)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.util.concurrent.AbstractExecutorService.submit(Unknown Source)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:795)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1328)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1318)\r\n\tat java.util.concurrent.FutureTask.run(Unknown Source)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.util.concurrent.AbstractExecutorService.submit(Unknown Source)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:249)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:428)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:922)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:772)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:347)\r\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:478)\r\nCaused by: java.lang.NoSuchMethodError: org.springframework.util.ReflectionUtils.accessibleConstructor(Ljava/lang/Class;[Ljava/lang/Class;)Ljava/lang/reflect/Constructor;\r\n\tat org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:157)\r\n\t... 29 more\r\n```\r\n\r\nWhen I debug to stop on SpringServletContainerInitializer.java:157, which is:\r\n```\r\ninitializers.add((WebApplicationInitializer)\r\n\t\t\t\t\t\t\t\tReflectionUtils.accessibleConstructor(waiClass).newInstance());\r\n```\r\nThe waiClass is: class org.springframework.boot.autoconfigure.jersey.JerseyAutoConfiguration$JerseyWebApplicationInitializer\r\n\r\nMy pom.xml is:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.14&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;es.application&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;app&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;app&lt;/name&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;description&gt;Description&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;spring-framework.version&gt;5.3.29&lt;/spring-framework.version&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;!-- SPRING BOOT --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- JAXB --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-xjc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.15.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;finalName&gt;pid&lt;/finalName&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nAnd here is my Application.java:\r\n```\r\n@SpringBootApplication\r\npublic class Application extends SpringBootServletInitializer{\r\n\t\r\n    @Override\r\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n        return application.sources(Application.class);\r\n    }\r\n    \r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Application.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nWhat can I do?\r\n\r\nThank you!","title":"Failed to instantiate WebApplicationInitializer class (ReflectionUtils.accessibleConstructor)","body":"<p>Good morning</p>\n<p>I'm developing a REST API with Java 8, Spring 5.3.29 and Spring Boot 2.7.14 and I'm having the next issue when I try to launch the application on a Tomcat 9 server in Eclipse:</p>\n<pre><code>GRAVE: Error during ServletContainerInitializer processing\njavax.servlet.ServletException: Failed to instantiate WebApplicationInitializer class\n    at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:160)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4936)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1328)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1318)\n    at java.util.concurrent.FutureTask.run(Unknown Source)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.util.concurrent.AbstractExecutorService.submit(Unknown Source)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:795)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1328)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1318)\n    at java.util.concurrent.FutureTask.run(Unknown Source)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.util.concurrent.AbstractExecutorService.submit(Unknown Source)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:249)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:428)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:922)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:772)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:347)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:478)\nCaused by: java.lang.NoSuchMethodError: org.springframework.util.ReflectionUtils.accessibleConstructor(Ljava/lang/Class;[Ljava/lang/Class;)Ljava/lang/reflect/Constructor;\n    at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:157)\n    ... 29 more\n</code></pre>\n<p>When I debug to stop on SpringServletContainerInitializer.java:157, which is:</p>\n<pre><code>initializers.add((WebApplicationInitializer)\n                                ReflectionUtils.accessibleConstructor(waiClass).newInstance());\n</code></pre>\n<p>The waiClass is: class org.springframework.boot.autoconfigure.jersey.JerseyAutoConfiguration$JerseyWebApplicationInitializer</p>\n<p>My pom.xml is:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.14&lt;/version&gt;\n        &lt;relativePath /&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;es.application&lt;/groupId&gt;\n    &lt;artifactId&gt;app&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;app&lt;/name&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;description&gt;Description&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;spring-framework.version&gt;5.3.29&lt;/spring-framework.version&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;!-- SPRING BOOT --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- JAXB --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n            &lt;version&gt;2.3.8&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-xjc&lt;/artifactId&gt;\n            &lt;version&gt;2.3.8&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.15.3&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;finalName&gt;pid&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>And here is my Application.java:</p>\n<pre><code>@SpringBootApplication\npublic class Application extends SpringBootServletInitializer{\n    \n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(Application.class);\n    }\n    \n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n}\n</code></pre>\n<p>What can I do?</p>\n<p>Thank you!</p>\n"},{"tags":["java","maven","pom.xml"],"answers":[{"tags":[],"owner":{"account_id":21282016,"reputation":51,"user_id":15660295,"display_name":"John Doe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618691632,"creation_date":1618691632,"answer_id":67142703,"question_id":67142259,"body_markdown":"It looks like it&#39;s a bug.\r\n\r\nhttps://github.com/openjfx/javafx-maven-plugin/issues/125\r\n\r\nAdding `&lt;executable&gt;&lt;/executable&gt;` with the absolute path to the JDK 16 should fix it.","title":"Specifying JDK 16 in Maven properties","body":"<p>It looks like it's a bug.</p>\n<p><a href=\"https://github.com/openjfx/javafx-maven-plugin/issues/125\" rel=\"nofollow noreferrer\">https://github.com/openjfx/javafx-maven-plugin/issues/125</a></p>\n<p>Adding <code>&lt;executable&gt;&lt;/executable&gt;</code> with the absolute path to the JDK 16 should fix it.</p>\n"},{"tags":[],"owner":{"account_id":6098218,"reputation":707,"user_id":4758320,"accept_rate":72,"display_name":"Dev Anand Sadasivam"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1641370813,"creation_date":1641370813,"answer_id":70589701,"question_id":67142259,"body_markdown":"Beyond JDK8, you need to specify the `javac` path of your JDK and you must set `fork` to `true` to get the code executed with mentioned compiler, in `maven-compiler-plugin` `pom.xml` file.\r\n\r\nHere is the maven-compiler-plugin configuration,-\r\n\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.8.1&lt;/version&gt;\r\n    \t&lt;configuration&gt;\r\n    \t\t&lt;source&gt;16&lt;/source&gt;\r\n    \t\t&lt;target&gt;16&lt;/target&gt;\r\n    \t\t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n    \t\t&lt;fork&gt;true&lt;/fork&gt;\r\n    \t\t&lt;executable&gt;C:\\Progra~1\\Java\\jdk-16.0.2\\bin\\javac&lt;/executable&gt;\r\n    \t&lt;/configuration&gt;\r\n    &lt;/plugin&gt;","title":"Specifying JDK 16 in Maven properties","body":"<p>Beyond JDK8, you need to specify the <code>javac</code> path of your JDK and you must set <code>fork</code> to <code>true</code> to get the code executed with mentioned compiler, in <code>maven-compiler-plugin</code> <code>pom.xml</code> file.</p>\n<p>Here is the maven-compiler-plugin configuration,-</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.8.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;16&lt;/source&gt;\n        &lt;target&gt;16&lt;/target&gt;\n        &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n        &lt;fork&gt;true&lt;/fork&gt;\n        &lt;executable&gt;C:\\Progra~1\\Java\\jdk-16.0.2\\bin\\javac&lt;/executable&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3507720,"reputation":167,"user_id":2932881,"display_name":"Scott Gustafson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691513228,"creation_date":1691512887,"answer_id":76861606,"question_id":67142259,"body_markdown":"Put the JDK bin directory of the version you want on your path. That works in most cases, however I&#39;m not certain about the Java Fx bug that is discussed, your mileage may vary.","title":"Specifying JDK 16 in Maven properties","body":"<p>Put the JDK bin directory of the version you want on your path. That works in most cases, however I'm not certain about the Java Fx bug that is discussed, your mileage may vary.</p>\n"}],"owner":{"account_id":21282016,"reputation":51,"user_id":15660295,"display_name":"John Doe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7152,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1691513228,"creation_date":1618688209,"question_id":67142259,"body_markdown":"I think this two lines specify JDK 11.\r\n```\r\n&lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n&lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n```\r\n\r\nI am using Java FX 16 and I compile a code with JDK 16.\r\n\r\nWhen I&#39;ve tried specify JDK 16:\r\n```\r\n&lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\r\n&lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\r\n```\r\nI get this error message:\r\n```\r\nCaused by: java.lang.module.InvalidModuleDescriptorException: Unsupported major.minor version 60.0\r\n```\r\n\r\nP.S. This is the `pom.xml`: https://pastebin.com/raw/qTe5Vtnq\r\n\r\nP.P.S According to logs, I compile and run via `/usr/lib/jvm/java-16-openjdk/bin/java`.","title":"Specifying JDK 16 in Maven properties","body":"<p>I think this two lines specify JDK 11.</p>\n<pre><code>&lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n&lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n</code></pre>\n<p>I am using Java FX 16 and I compile a code with JDK 16.</p>\n<p>When I've tried specify JDK 16:</p>\n<pre><code>&lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\n&lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\n</code></pre>\n<p>I get this error message:</p>\n<pre><code>Caused by: java.lang.module.InvalidModuleDescriptorException: Unsupported major.minor version 60.0\n</code></pre>\n<p>P.S. This is the <code>pom.xml</code>: <a href=\"https://pastebin.com/raw/qTe5Vtnq\" rel=\"nofollow noreferrer\">https://pastebin.com/raw/qTe5Vtnq</a></p>\n<p>P.P.S According to logs, I compile and run via <code>/usr/lib/jvm/java-16-openjdk/bin/java</code>.</p>\n"},{"tags":["java","spring","spring-boot","camunda"],"owner":{"account_id":6426369,"reputation":1111,"user_id":7758110,"accept_rate":56,"display_name":"Chandresh Mishra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691513017,"creation_date":1691513017,"question_id":76861618,"body_markdown":"I have created a external client in a spring boot project. I have following properties set\r\n\r\n    camunda:\r\n      bpm:\r\n        client:\r\n          base-url:https://server/engine-rest\r\n    \r\n    server:\r\n      ssl:\r\n       \r\n        trust-store: classpath:keystore/truststore.jks\r\n        key-store: classpath:keystore/keystore.jks\r\n        enabled: true\r\n        key-store-password: pp\r\n        trust-store-password: pp\r\n        keyStoreType: JKS\r\n      port: &#39;8080&#39;\r\n\r\nBut I am getting following error\r\n\r\n    org.camunda.bpm.client.impl.EngineClientException: TASK/CLIENT-02002 Exception while establishing connection for request &#39;POST /engine-rest/external-task/fetchAndLock HTTP/1.1&#39; \r\n    at org.camunda.bpm.client.impl.EngineClientLogger.exceptionWhileEstablishingConnection(EngineClientLogger.java:36) ~[camunda-external-task-client-7.15.0-alpha5.jar:7.15.0-alpha5]\r\n    \r\n    Caused by: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target","title":"Camunda 7 External Client with HTTPS having SSL exception","body":"<p>I have created a external client in a spring boot project. I have following properties set</p>\n<pre><code>camunda:\n  bpm:\n    client:\n      base-url:https://server/engine-rest\n\nserver:\n  ssl:\n   \n    trust-store: classpath:keystore/truststore.jks\n    key-store: classpath:keystore/keystore.jks\n    enabled: true\n    key-store-password: pp\n    trust-store-password: pp\n    keyStoreType: JKS\n  port: '8080'\n</code></pre>\n<p>But I am getting following error</p>\n<pre><code>org.camunda.bpm.client.impl.EngineClientException: TASK/CLIENT-02002 Exception while establishing connection for request 'POST /engine-rest/external-task/fetchAndLock HTTP/1.1' \nat org.camunda.bpm.client.impl.EngineClientLogger.exceptionWhileEstablishingConnection(EngineClientLogger.java:36) ~[camunda-external-task-client-7.15.0-alpha5.jar:7.15.0-alpha5]\n\nCaused by: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n"},{"tags":["java","sql-server","linux","docker","jdbc"],"comments":[{"owner":{"account_id":2829929,"reputation":5163,"user_id":2431702,"display_name":"DanielBarbarian"},"score":0,"creation_date":1690979579,"post_id":76819614,"comment_id":135427903,"body_markdown":"The different error messages are due to very different reasons. If you get that a connection failed the server port can&#39;t be reached. Probably not very unexpected with the setup you are mentioning for a docker container as the docker container is not running directly in the Windows system, but in some kind of Linux subsystem and then there must be some kind of port forward in place in the Linux subsystem to be able to reach the Windows system.","body":"The different error messages are due to very different reasons. If you get that a connection failed the server port can&#39;t be reached. Probably not very unexpected with the setup you are mentioning for a docker container as the docker container is not running directly in the Windows system, but in some kind of Linux subsystem and then there must be some kind of port forward in place in the Linux subsystem to be able to reach the Windows system."},{"owner":{"account_id":2829929,"reputation":5163,"user_id":2431702,"display_name":"DanielBarbarian"},"score":0,"creation_date":1690979702,"post_id":76819614,"comment_id":135427934,"body_markdown":"If you connect from a program running in the Linux subsystem instead, there should be no reason why you wouldn&#39;t be able to connect as long as the SQL-server is responding to calls made on a network between the two. If you get the error `Login failed for user` that implies that you have indeed been able to connect to the SQL server but are failing on login. In that case you should check login credentials.","body":"If you connect from a program running in the Linux subsystem instead, there should be no reason why you wouldn&#39;t be able to connect as long as the SQL-server is responding to calls made on a network between the two. If you get the error <code>Login failed for user</code> that implies that you have indeed been able to connect to the SQL server but are failing on login. In that case you should check login credentials."},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1690982545,"post_id":76819614,"comment_id":135428664,"body_markdown":"jTDS hasn&#39;t been updated in very nearly ten years. Is there a particular reason you&#39;re trying to use it?","body":"jTDS hasn&#39;t been updated in very nearly ten years. Is there a particular reason you&#39;re trying to use it?"},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1690982696,"post_id":76819614,"comment_id":135428710,"body_markdown":"Since your JDBC connection seems to be connecting, just not authenticating, are you able to connect to the target server with SSMS? Have a look in the SQL Server Logs node for 18456 Login failure messages, take note of their `State` numbers, and compare them against those listed at [MSSQLSERVER_18456](https://learn.microsoft.com/en-us/sql/relational-databases/errors-events/mssqlserver-18456-database-engine-error) to see why the login attempts are failing.","body":"Since your JDBC connection seems to be connecting, just not authenticating, are you able to connect to the target server with SSMS? Have a look in the SQL Server Logs node for 18456 Login failure messages, take note of their <code>State</code> numbers, and compare them against those listed at <a href=\"https://learn.microsoft.com/en-us/sql/relational-databases/errors-events/mssqlserver-18456-database-engine-error\" rel=\"nofollow noreferrer\">MSSQLSERVER_18456</a> to see why the login attempts are failing."},{"owner":{"account_id":21484223,"reputation":11,"user_id":15831106,"display_name":"oggiman"},"score":0,"creation_date":1690982730,"post_id":76819614,"comment_id":135428719,"body_markdown":"Sorry but the question was not well formulated there are some missunderstanding. The docker container is not running on a subsystem but I tried two different approches to connect to sql server the first one was through the ubuntu subsystem the second through a linux docker container.","body":"Sorry but the question was not well formulated there are some missunderstanding. The docker container is not running on a subsystem but I tried two different approches to connect to sql server the first one was through the ubuntu subsystem the second through a linux docker container."},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":1,"creation_date":1690983043,"post_id":76819614,"comment_id":135428802,"body_markdown":"Docker containers are essentially Linux VMs that run inside WSL (Windows Subsystem for Linux). They cannot use Active Directory/Windows credentials because they aren&#39;t domain joined, you need to install and configure Kerberos modules and setup `kinit`, etc., if you want to go that route. With Ubuntu and/or Docker it&#39;s usually much easier to use username+password based SQL Logon credentials unless you have a business reason to do otherwise. That implies that your SQL Server instance must be configured to accept SQL Logon credentials and that you&#39;ve also created the necessary SQL Logon accounts.","body":"Docker containers are essentially Linux VMs that run inside WSL (Windows Subsystem for Linux). They cannot use Active Directory/Windows credentials because they aren&#39;t domain joined, you need to install and configure Kerberos modules and setup <code>kinit</code>, etc., if you want to go that route. With Ubuntu and/or Docker it&#39;s usually much easier to use username+password based SQL Logon credentials unless you have a business reason to do otherwise. That implies that your SQL Server instance must be configured to accept SQL Logon credentials and that you&#39;ve also created the necessary SQL Logon accounts."},{"owner":{"account_id":21484223,"reputation":11,"user_id":15831106,"display_name":"oggiman"},"score":0,"creation_date":1690983939,"post_id":76819614,"comment_id":135429037,"body_markdown":"@AlwaysLearning Trying jtds was just pure desperation","body":"@AlwaysLearning Trying jtds was just pure desperation"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1690984153,"post_id":76819614,"comment_id":135429100,"body_markdown":"Yeah, forget about AD, it&#39;s hard enough to get working between two windows machines. The last version looks more promising, make sure you actually send correct password though","body":"Yeah, forget about AD, it&#39;s hard enough to get working between two windows machines. The last version looks more promising, make sure you actually send correct password though"},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1691216561,"post_id":76819614,"comment_id":135464917,"body_markdown":"Did you ever get around to checking the Error 18456 events in the SQL Server Logs as previously suggested?","body":"Did you ever get around to checking the Error 18456 events in the SQL Server Logs as previously suggested?"},{"owner":{"account_id":21484223,"reputation":11,"user_id":15831106,"display_name":"oggiman"},"score":0,"creation_date":1691401478,"post_id":76819614,"comment_id":135481494,"body_markdown":"@AlwaysLearning: I check the Logs here is it:  \nLogin failed for user &#39;xyz&#39;. Reason: Attempting to use an NT account name with SQL Server Authentication","body":"@AlwaysLearning: I check the Logs here is it:   Login failed for user &#39;xyz&#39;. Reason: Attempting to use an NT account name with SQL Server Authentication"},{"owner":{"account_id":21484223,"reputation":11,"user_id":15831106,"display_name":"oggiman"},"score":0,"creation_date":1691416408,"post_id":76819614,"comment_id":135484664,"body_markdown":"@AlwaysLearning I also found this in the Logs: \nCause: No login could be found that matches the specified name.","body":"@AlwaysLearning I also found this in the Logs:  Cause: No login could be found that matches the specified name."},{"owner":{"account_id":21484223,"reputation":11,"user_id":15831106,"display_name":"oggiman"},"score":0,"creation_date":1691420613,"post_id":76819614,"comment_id":135485741,"body_markdown":"Reason: Could not find a login matching the name provided.","body":"Reason: Could not find a login matching the name provided."}],"answers":[{"tags":[],"owner":{"account_id":21484223,"reputation":11,"user_id":15831106,"display_name":"oggiman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691512863,"creation_date":1691481225,"answer_id":76857512,"question_id":76819614,"body_markdown":"The problem was solved by my database administrator, he created a login user who is capable of sql authentication. But first I had to check the SQL Server Logs to see what the problem was in detail, like in the comments suggested.","title":"Connecting via Java from Ubuntu Subsystem or a Linux docker container to SQL Server which is installed on Windows","body":"<p>The problem was solved by my database administrator, he created a login user who is capable of sql authentication. But first I had to check the SQL Server Logs to see what the problem was in detail, like in the comments suggested.</p>\n"}],"owner":{"account_id":21484223,"reputation":11,"user_id":15831106,"display_name":"oggiman"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76857512,"answer_count":1,"score":0,"last_activity_date":1691512863,"creation_date":1690977361,"question_id":76819614,"body_markdown":"I am trying to connect to a `sql` server database which is installed on windows out of a Linux docker container or from an `ubuntu` subsystem with java code and it is not working.\r\nI need a real hardcore expert on this field. I know there are many solutions out there to this problem and I tried many of them, but nothing worked. The special case is that the SQL Server is installed on Windows and I have a linux docker container, so the connection has to be between os. I have tried jtds and jdbc.\r\nHere is the code which works when is executed on windows but not on linux subsystem or docker.\r\nI also tried &quot;useNTLMv2=true&quot; in the connectionstring:\r\n\r\n```\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;\r\nimport net.sourceforge.jtds.jdbcx.*;\r\nimport net.sourceforge.jtds.jdbc.Driver;\r\npublic class helloWorld {\r\n    public static void main(String[] args) throws  ClassNotFoundException {\r\n//String connectionUrl = &quot;jdbc:jtds:sqlserver://&lt;db_ip&gt;:1433;databaseName=someDB;useNTLMv2=true;&quot;;\r\n        String connectionUrl = &quot;jdbc:jtds:sqlserver://&lt;server_ip&gt;:1433;databaseName=someDB;username=xyz;password=123&quot;;\r\n       Class.forName(&quot;net.sourceforge.jtds.jdbc.Driver&quot;);\r\n        try (Connection con = DriverManager.getConnection(connectionUrl); Statement stmt = con.createStatement()) {\r\n            String SQL = &quot;SELECT [PLZ] FROM [City]&quot;;\r\n            ResultSet rs = stmt.executeQuery(SQL);\r\n\r\n            // Iterate through the data in the result set and display it.\r\n            while (rs.next()) {\r\n                System.out.println(rs.getString(&quot;PLZ&quot;));\r\n            }\r\n        }\r\n        // Handle any errors that may have occurred.\r\n        catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n}\r\n}\r\n```\r\nAnd here ist the exception I am getting from the docker container using jtds:\r\n```\r\n\r\n    java.sql.SQLException: Network error IOException: Connection refused (Connection refused)\r\n            at net.sourceforge.jtds.jdbc.JtdsConnection.&lt;init&gt;(JtdsConnection.java:436)\r\n            at net.sourceforge.jtds.jdbc.Driver.connect(Driver.java:184)\r\n            at java.sql.DriverManager.getConnection(DriverManager.java:664)\r\n            at java.sql.DriverManager.getConnection(DriverManager.java:270)\r\n            at de.arz.pharmafakt.datadelivery.Main.main(Main.java:93)\r\n    Caused by: java.net.ConnectException: Connection refused (Connection refused)\r\n            at java.net.PlainSocketImpl.socketConnect(Native Method)\r\n            at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\r\n            at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\r\n            at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\r\n            at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n            at java.net.Socket.connect(Socket.java:607)\r\n            at net.sourceforge.jtds.jdbc.SharedSocket.createSocketForJDBC3(SharedSocket.java:288)\r\n            at net.sourceforge.jtds.jdbc.SharedSocket.&lt;init&gt;(SharedSocket.java:251)\r\n            at net.sourceforge.jtds.jdbc.JtdsConnection.&lt;init&gt;(JtdsConnection.java:331)\r\n\r\n```\r\n\r\nAn ohter exception with the same code I get from ubuntu subsystem:\r\n```\r\njava.sql.SQLException: I/O Error: GSS Failed: Invalid name provided (Mechanism level: KrbException: Cannot locate default realm)\r\n        at net.sourceforge.jtds.jdbc.TdsCore.login(TdsCore.java:654)\r\n        at net.sourceforge.jtds.jdbc.JtdsConnection.&lt;init&gt;(JtdsConnection.java:371)\r\n        at net.sourceforge.jtds.jdbc.Driver.connect(Driver.java:184)\r\n        at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)\r\n        at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:251)\r\n        at helloWorld.main(helloWorld.java:16)\r\nCaused by: java.io.IOException: GSS Failed: Invalid name provided (Mechanism level: KrbException: Cannot locate default realm)\r\n        at net.sourceforge.jtds.jdbc.TdsCore.sendMSLoginPkt(TdsCore.java:1976)\r\n        at net.sourceforge.jtds.jdbc.TdsCore.login(TdsCore.java:617)\r\n```\r\nHere is my code jdbc:\r\n\r\n\r\n```\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;\r\n\r\npublic class helloWorld {\r\n            public static void main(String[] args) {\r\n\r\n        String connectionUrl = &quot;jdbc:sqlserver://&lt;server_ip&gt;:1433;databaseName=someDB;user=xyz;password=123;Encrypt=false&quot;;\r\n\r\n        try (Connection con = DriverManager.getConnection(connectionUrl); Statement stmt = con.createStatement();) {\r\n                                 String SQL = &quot;SELECT PLZ FROM city&quot;;\r\n\r\n            ResultSet rs = stmt.executeQuery(SQL);\r\n\r\n            // Iterate through the data in the result set and display it.\r\n            while (rs.next()) {\r\n                System.out.println(rs.getString(&quot;PLZ&quot;) );\r\n            }\r\n        }\r\n        // Handle any errors that may have occurred.\r\n        catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n                        }\r\n        }\r\n```\r\nAnd here is the exception I am getting with ubuntu:\r\n\r\n    com.microsoft.sqlserver.jdbc.SQLServerException: Login failed for user \r\n    &#39;xyz&#39;. ClientConnectionId:21e99cbc-bd73-40a0-8101-542ddffb3a0b\r\n            at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:265)\r\n            at com.microsoft.sqlserver.jdbc.TDSTokenHandler.onEOF(tdsparser.java:305)\r\n            at com.microsoft.sqlserver.jdbc.TDSParser.parse(tdsparser.java:138)\r\n            at com.microsoft.sqlserver.jdbc.TDSParser.parse(tdsparser.java:42)\r\n            at com.microsoft.sqlserver.jdbc.SQLServerConnection.sendLogon(SQLServerConnection.java:6490)\r\n            at com.microsoft.sqlserver.jdbc.SQLServerConnection.logon(SQLServerConnection.java:5068)\r\n            at com.microsoft.sqlserver.jdbc.SQLServerConnection$LogonCommand.doExecute(SQLServerConnection.java:5002)\r\n            at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7685)\r\n            at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:4048)\r\n            at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:3487)\r\n            at com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:3077)\r\n            at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectInternal(SQLServerConnection.java:2919)\r\n            at com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:1787)\r\n            at com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:1229)\r\n            at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)\r\n            at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:251)\r\n            at helloWorld.main(helloWorld.java:16)\r\n\r\n\r\nI tried almost all solution which are published on the internet to this problem.\r\nI am expecting to see how I could connect to sql server which is installed on windows from linux.","title":"Connecting via Java from Ubuntu Subsystem or a Linux docker container to SQL Server which is installed on Windows","body":"<p>I am trying to connect to a <code>sql</code> server database which is installed on windows out of a Linux docker container or from an <code>ubuntu</code> subsystem with java code and it is not working.\nI need a real hardcore expert on this field. I know there are many solutions out there to this problem and I tried many of them, but nothing worked. The special case is that the SQL Server is installed on Windows and I have a linux docker container, so the connection has to be between os. I have tried jtds and jdbc.\nHere is the code which works when is executed on windows but not on linux subsystem or docker.\nI also tried &quot;useNTLMv2=true&quot; in the connectionstring:</p>\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport net.sourceforge.jtds.jdbcx.*;\nimport net.sourceforge.jtds.jdbc.Driver;\npublic class helloWorld {\n    public static void main(String[] args) throws  ClassNotFoundException {\n//String connectionUrl = &quot;jdbc:jtds:sqlserver://&lt;db_ip&gt;:1433;databaseName=someDB;useNTLMv2=true;&quot;;\n        String connectionUrl = &quot;jdbc:jtds:sqlserver://&lt;server_ip&gt;:1433;databaseName=someDB;username=xyz;password=123&quot;;\n       Class.forName(&quot;net.sourceforge.jtds.jdbc.Driver&quot;);\n        try (Connection con = DriverManager.getConnection(connectionUrl); Statement stmt = con.createStatement()) {\n            String SQL = &quot;SELECT [PLZ] FROM [City]&quot;;\n            ResultSet rs = stmt.executeQuery(SQL);\n\n            // Iterate through the data in the result set and display it.\n            while (rs.next()) {\n                System.out.println(rs.getString(&quot;PLZ&quot;));\n            }\n        }\n        // Handle any errors that may have occurred.\n        catch (SQLException e) {\n            e.printStackTrace();\n        }\n}\n}\n</code></pre>\n<p>And here ist the exception I am getting from the docker container using jtds:</p>\n<pre><code>\n    java.sql.SQLException: Network error IOException: Connection refused (Connection refused)\n            at net.sourceforge.jtds.jdbc.JtdsConnection.&lt;init&gt;(JtdsConnection.java:436)\n            at net.sourceforge.jtds.jdbc.Driver.connect(Driver.java:184)\n            at java.sql.DriverManager.getConnection(DriverManager.java:664)\n            at java.sql.DriverManager.getConnection(DriverManager.java:270)\n            at de.arz.pharmafakt.datadelivery.Main.main(Main.java:93)\n    Caused by: java.net.ConnectException: Connection refused (Connection refused)\n            at java.net.PlainSocketImpl.socketConnect(Native Method)\n            at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\n            at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\n            at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\n            at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n            at java.net.Socket.connect(Socket.java:607)\n            at net.sourceforge.jtds.jdbc.SharedSocket.createSocketForJDBC3(SharedSocket.java:288)\n            at net.sourceforge.jtds.jdbc.SharedSocket.&lt;init&gt;(SharedSocket.java:251)\n            at net.sourceforge.jtds.jdbc.JtdsConnection.&lt;init&gt;(JtdsConnection.java:331)\n\n</code></pre>\n<p>An ohter exception with the same code I get from ubuntu subsystem:</p>\n<pre><code>java.sql.SQLException: I/O Error: GSS Failed: Invalid name provided (Mechanism level: KrbException: Cannot locate default realm)\n        at net.sourceforge.jtds.jdbc.TdsCore.login(TdsCore.java:654)\n        at net.sourceforge.jtds.jdbc.JtdsConnection.&lt;init&gt;(JtdsConnection.java:371)\n        at net.sourceforge.jtds.jdbc.Driver.connect(Driver.java:184)\n        at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)\n        at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:251)\n        at helloWorld.main(helloWorld.java:16)\nCaused by: java.io.IOException: GSS Failed: Invalid name provided (Mechanism level: KrbException: Cannot locate default realm)\n        at net.sourceforge.jtds.jdbc.TdsCore.sendMSLoginPkt(TdsCore.java:1976)\n        at net.sourceforge.jtds.jdbc.TdsCore.login(TdsCore.java:617)\n</code></pre>\n<p>Here is my code jdbc:</p>\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\npublic class helloWorld {\n            public static void main(String[] args) {\n\n        String connectionUrl = &quot;jdbc:sqlserver://&lt;server_ip&gt;:1433;databaseName=someDB;user=xyz;password=123;Encrypt=false&quot;;\n\n        try (Connection con = DriverManager.getConnection(connectionUrl); Statement stmt = con.createStatement();) {\n                                 String SQL = &quot;SELECT PLZ FROM city&quot;;\n\n            ResultSet rs = stmt.executeQuery(SQL);\n\n            // Iterate through the data in the result set and display it.\n            while (rs.next()) {\n                System.out.println(rs.getString(&quot;PLZ&quot;) );\n            }\n        }\n        // Handle any errors that may have occurred.\n        catch (SQLException e) {\n            e.printStackTrace();\n        }\n\n                        }\n        }\n</code></pre>\n<p>And here is the exception I am getting with ubuntu:</p>\n<pre><code>com.microsoft.sqlserver.jdbc.SQLServerException: Login failed for user \n'xyz'. ClientConnectionId:21e99cbc-bd73-40a0-8101-542ddffb3a0b\n        at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:265)\n        at com.microsoft.sqlserver.jdbc.TDSTokenHandler.onEOF(tdsparser.java:305)\n        at com.microsoft.sqlserver.jdbc.TDSParser.parse(tdsparser.java:138)\n        at com.microsoft.sqlserver.jdbc.TDSParser.parse(tdsparser.java:42)\n        at com.microsoft.sqlserver.jdbc.SQLServerConnection.sendLogon(SQLServerConnection.java:6490)\n        at com.microsoft.sqlserver.jdbc.SQLServerConnection.logon(SQLServerConnection.java:5068)\n        at com.microsoft.sqlserver.jdbc.SQLServerConnection$LogonCommand.doExecute(SQLServerConnection.java:5002)\n        at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7685)\n        at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:4048)\n        at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:3487)\n        at com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:3077)\n        at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectInternal(SQLServerConnection.java:2919)\n        at com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:1787)\n        at com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:1229)\n        at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)\n        at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:251)\n        at helloWorld.main(helloWorld.java:16)\n</code></pre>\n<p>I tried almost all solution which are published on the internet to this problem.\nI am expecting to see how I could connect to sql server which is installed on windows from linux.</p>\n"},{"tags":["java","spring-data-jpa","spring-data-rest"],"comments":[{"owner":{"account_id":12469735,"reputation":13915,"user_id":9078341,"display_name":"Randy Casburn"},"score":0,"creation_date":1617659921,"post_id":66959846,"comment_id":118360851,"body_markdown":"I think if you were to construct this query by hand you would find out that &quot;name&quot; is ambiguous. I think Amed&#39;s answer is on track.","body":"I think if you were to construct this query by hand you would find out that &quot;name&quot; is ambiguous. I think Amed&#39;s answer is on track."}],"answers":[{"tags":[],"owner":{"account_id":8867817,"reputation":1108,"user_id":6815416,"display_name":"Ahmed HENTETI"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1689388371,"creation_date":1617658112,"answer_id":66960000,"question_id":66959846,"body_markdown":"I think that you have a problem in your `@JoinColumn` names. For me, you should use different names and use `referencedColumnName` to reference foreign column name\r\n\r\n```java\r\n@ManyToOne\r\n@JoinColumn(name = &quot;sender_uuid&quot;, \r\n            referencedColumnName = &quot;uuid&quot;, // this uuid is in the User entity\r\n            insertable = false, updatable = false) \r\nprivate User sender;\r\n\r\n@ManyToOne\r\n@JoinColumn(name = &quot;receiver_uuid&quot;, \r\n            referencedColumnName = &quot;uuid&quot;, // this uuid is in the User entity\r\n            insertable = false, updatable = false) \r\nprivate User receiver;\r\n```","title":"Null values in foreign key columns when saving an entity with Spring JPA","body":"<p>I think that you have a problem in your <code>@JoinColumn</code> names. For me, you should use different names and use <code>referencedColumnName</code> to reference foreign column name</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ManyToOne\n@JoinColumn(name = &quot;sender_uuid&quot;, \n            referencedColumnName = &quot;uuid&quot;, // this uuid is in the User entity\n            insertable = false, updatable = false) \nprivate User sender;\n\n@ManyToOne\n@JoinColumn(name = &quot;receiver_uuid&quot;, \n            referencedColumnName = &quot;uuid&quot;, // this uuid is in the User entity\n            insertable = false, updatable = false) \nprivate User receiver;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18757259,"reputation":1751,"user_id":13676960,"display_name":"Hopey One"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1617661826,"creation_date":1617661826,"answer_id":66960577,"question_id":66959846,"body_markdown":"Remove the `insertable = false, updatable = false`. This is telling JPA to leave this column out of the generated SQL statements.","title":"Null values in foreign key columns when saving an entity with Spring JPA","body":"<p>Remove the <code>insertable = false, updatable = false</code>. This is telling JPA to leave this column out of the generated SQL statements.</p>\n"},{"tags":[],"owner":{"account_id":8208931,"reputation":1,"user_id":6238568,"display_name":"Ricardo Gonzalez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691512509,"creation_date":1691512305,"answer_id":76861537,"question_id":66959846,"body_markdown":"I had the same problem. The problem was in my flags configurations of @JoinColumn\r\n\r\n**I solved** using `insertable = true` or *remove element from annotantion* (It will be use th default true value).\r\n[See relations in database][1]\r\n\r\n[1]: https://i.stack.imgur.com/sRTPP.png\r\n\r\nThis is for Usuarios\r\n\r\n    @Entity\r\n    @Table(name = &quot;tw_usuario&quot;)\r\n    public class Usuario implements Serializable {\r\n        @Id\r\n        private Long id;\r\n        //Other fields\r\n\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;id_rol&quot;, insertable = true, updatable = false)\r\n        // Above line is equals to @JoinColumn(name = &quot;id_rol&quot;, updatable = false)\r\n        private Rol rol;\r\n\r\n        // Getters and Setters\r\n    }\r\n\r\nExtra information about the other relation\r\n\r\n    @Entity\r\n    @Table(name = &quot;tc_rol&quot;)\r\n    public class Rol implements Serializable {\t\r\n    \t@Id\r\n    \tprivate Long id;\r\n        \r\n        //More  fields\r\n        //Declare Getters and Setters\r\n    }\r\n\r\n","title":"Null values in foreign key columns when saving an entity with Spring JPA","body":"<p>I had the same problem. The problem was in my flags configurations of @JoinColumn</p>\n<p><strong>I solved</strong> using <code>insertable = true</code> or <em>remove element from annotantion</em> (It will be use th default true value).\n<a href=\"https://i.stack.imgur.com/sRTPP.png\" rel=\"nofollow noreferrer\">See relations in database</a></p>\n<p>This is for Usuarios</p>\n<pre><code>@Entity\n@Table(name = &quot;tw_usuario&quot;)\npublic class Usuario implements Serializable {\n    @Id\n    private Long id;\n    //Other fields\n\n    @ManyToOne\n    @JoinColumn(name = &quot;id_rol&quot;, insertable = true, updatable = false)\n    // Above line is equals to @JoinColumn(name = &quot;id_rol&quot;, updatable = false)\n    private Rol rol;\n\n    // Getters and Setters\n}\n</code></pre>\n<p>Extra information about the other relation</p>\n<pre><code>@Entity\n@Table(name = &quot;tc_rol&quot;)\npublic class Rol implements Serializable {  \n    @Id\n    private Long id;\n    \n    //More  fields\n    //Declare Getters and Setters\n}\n</code></pre>\n"}],"owner":{"account_id":13672099,"reputation":601,"user_id":9864539,"display_name":"Ricky Sixx"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7256,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":66960000,"answer_count":3,"score":6,"last_activity_date":1691512509,"creation_date":1617657199,"question_id":66959846,"body_markdown":"In my database I have 2 entities with a unidirectional relationship between them. \r\n\r\nUser:\r\n\r\n    CREATE TABLE public.&quot;user&quot; (\r\n    \tuuid uuid NOT NULL DEFAULT uuid_generate_v4(),\r\n    \t&quot;name&quot; varchar NULL,\r\n    \tCONSTRAINT user_pk PRIMARY KEY (uuid)\r\n    );\r\n\r\nMessage:\r\n\r\n    CREATE TABLE public.message (\r\n    \tsender uuid NOT NULL,\r\n    \treceiver uuid NOT NULL,\r\n    \t&quot;content&quot; varchar NULL,\r\n    \tuuid uuid NOT NULL,\r\n    \tCONSTRAINT message_pk PRIMARY KEY (uuid),\r\n    \tCONSTRAINT message_fk FOREIGN KEY (sender) REFERENCES &quot;user&quot;(uuid) ON UPDATE RESTRICT ON DELETE RESTRICT,\r\n    \tCONSTRAINT message_fk_1 FOREIGN KEY (receiver) REFERENCES &quot;user&quot;(uuid) ON UPDATE RESTRICT ON DELETE RESTRICT\r\n    );\r\n\r\nThis is how I mapped those entities with Spring JPA:\r\n\r\n    @Entity\r\n    @Table(name = &quot;user&quot;, schema = &quot;public&quot;)\r\n    public class User\r\n    {\r\n        @Id\r\n        @Column(name = &quot;uuid&quot;, insertable = false, updatable = false)\r\n        private UUID uuid;\r\n    \r\n        @Column(name = &quot;name&quot;)\r\n        private String name;\r\n    }\r\n\r\n    @Entity\r\n    @Table(name = &quot;message&quot;, schema = &quot;public&quot;)\r\n    public class Message\r\n    {\r\n        @Id\r\n        @Column(name = &quot;uuid&quot;)\r\n        private UUID uuid;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;uuid&quot;, insertable = false, updatable = false) // this uuid is in the User entity\r\n        private User sender;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;uuid&quot;, insertable = false, updatable = false) // this uuid is in the User entity\r\n        private User receiver;\r\n    \r\n        @Column(name = &quot;content&quot;)\r\n        private String content;\r\n    }\r\n\r\nIn my REST controller I expose an endpoint to create a message. This endpoint simply takes two users (the sender and the receiver) and a content for the message:\r\n\r\n    @PostMapping\r\n    @RequestMapping(consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;CreateMessageResponseRO&gt; createMessage(@RequestBody CreateMessageRequestRO request)\r\n    {\r\n    \tMessage message = new Message();\r\n    \tUser sender = userRepository.findById(UUID.fromString(request.getSender())).get();\r\n    \tUser receiver = userRepository.findById(UUID.fromString(request.getReceiver())).get();\r\n    \tString content = request.getContent();\r\n    \r\n    \tmessage.setSender(sender); // sender is not null here\r\n    \tmessage.setReceiver(receiver); // receiver is not null here\r\n    \tmessage.setContent(content);\r\n    \r\n    \tmessageRepository.save(message);\r\n    \r\n    \treturn ResponseEntity.ok(new CreateMessageResponseRO(message));\r\n    }\r\n\r\nI&#39;ve checked with the debugger and at the line \r\n\r\n    messageRepository.save(message)\r\n\r\nthe two users (`sender` and `receiver`) are not null and they have a valid UUID (i.e. those UUIDs refer to 2 distinct, existing, users) However, when I invoke that endpoint I get this exception:\r\n\r\n    org.postgresql.util.PSQLException: ERROR: null value in column &quot;sender&quot; of relation &quot;message&quot; violates not-null constraint\r\n      Detail: Failing row contains (null, null, hello world!, 818ea408-fa40-49f8-93a1-85e2ff026dac).\r\n\r\nThis is the JSON I&#39;m using:\r\n\r\n    {\r\n        &quot;sender&quot;: &quot;75090bb0-0e29-4cd8-84ab-2bf2727419d2&quot;,\r\n        &quot;receiver&quot;: &quot;3539c23f-42f8-4074-a5f8-a8d3f0be8aeb&quot;,\r\n        &quot;content&quot;: &quot;hello world!&quot;\r\n    }\r\n\r\nWhy do I get that exception, when the `userRepository` correctly finds the 2 users?\r\n\r\n----------\r\n\r\n**EDIT 1**\r\n\r\nI&#39;ve tried to remove the attributes `insertable = false, updatable = false` from the `@JoinColumn` annotations in the `Message` entity. This is the updated code:\r\n\r\n    @Entity\r\n    @Table(name = &quot;message&quot;, schema = &quot;public&quot;)\r\n    public class Message\r\n    {\r\n        @Id\r\n        @Column(name = &quot;uuid&quot;)\r\n        private UUID uuid;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;uuid&quot;)\r\n        private User sender;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;uuid&quot;)\r\n        private User receiver;\r\n    \r\n        @Column(name = &quot;content&quot;)\r\n        private String content;\r\n    }\r\n\r\nHowever, now I get an exception during the startup of my application, which says that it requires the attributes I&#39;ve removed:\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Repeated column in mapping for entity: com.akwares.sccs.entity.Message column: uuid (should be mapped with insert=&quot;false&quot; update=&quot;false&quot;)\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786) ~[spring-beans-5.3.5.jar!/:5.3.5]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602) ~[spring-beans-5.3.5.jar!/:5.3.5]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.5.jar!/:5.3.5]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.5.jar!/:5.3.5]\r\n            at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.5.jar!/:5.3.5]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.5.jar!/:5.3.5]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.5.jar!/:5.3.5]\r\n            at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.5.jar!/:5.3.5]\r\n            at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.5.jar!/:5.3.5]\r\n            at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.5.jar!/:5.3.5]\r\n            at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.4.jar!/:2.4.4]\r\n            at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:769) ~[spring-boot-2.4.4.jar!/:2.4.4]\r\n            at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:761) ~[spring-boot-2.4.4.jar!/:2.4.4]\r\n            at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) ~[spring-boot-2.4.4.jar!/:2.4.4]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:326) ~[spring-boot-2.4.4.jar!/:2.4.4]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1313) ~[spring-boot-2.4.4.jar!/:2.4.4]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-2.4.4.jar!/:2.4.4]\r\n            at com.akwares.sccs.Application.main(Application.java:11) ~[classes!/:na]\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n            at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[server-1.0-SNAPSHOT.jar:na]\r\n            at org.springframework.boot.loader.Launcher.launch(Launcher.java:107) ~[server-1.0-SNAPSHOT.jar:na]\r\n            at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[server-1.0-SNAPSHOT.jar:na]\r\n            at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) ~[server-1.0-SNAPSHOT.jar:na]\r\n    Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Repeated column in mapping for entity: com.akwares.sccs.entity.Message column: uuid (should be mapped with insert=&quot;false&quot; update=&quot;false&quot;)\r\n            at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421) ~[spring-orm-5.3.5.jar!/:5.3.5]\r\n            at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.5.jar!/:5.3.5]\r\n            at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.5.jar!/:5.3.5]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1845) ~[spring-beans-5.3.5.jar!/:5.3.5]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782) ~[spring-beans-5.3.5.jar!/:5.3.5]\r\n            ... 25 common frames omitted\r\n    Caused by: org.hibernate.MappingException: Repeated column in mapping for entity: com.akwares.sccs.entity.Message column: uuid (should be mapped with insert=&quot;false&quot; update=&quot;false&quot;)\r\n            at org.hibernate.mapping.PersistentClass.checkColumnDuplication(PersistentClass.java:862) ~[hibernate-core-5.4.29.Final.jar!/:5.4.29.Final]\r\n            at org.hibernate.mapping.PersistentClass.checkPropertyColumnDuplication(PersistentClass.java:880) ~[hibernate-core-5.4.29.Final.jar!/:5.4.29.Final]\r\n            at org.hibernate.mapping.PersistentClass.checkColumnDuplication(PersistentClass.java:902) ~[hibernate-core-5.4.29.Final.jar!/:5.4.29.Final]\r\n            at org.hibernate.mapping.PersistentClass.validate(PersistentClass.java:634) ~[hibernate-core-5.4.29.Final.jar!/:5.4.29.Final]\r\n            at org.hibernate.mapping.RootClass.validate(RootClass.java:267) ~[hibernate-core-5.4.29.Final.jar!/:5.4.29.Final]\r\n            at org.hibernate.boot.internal.MetadataImpl.validate(MetadataImpl.java:354) ~[hibernate-core-5.4.29.Final.jar!/:5.4.29.Final]\r\n            at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:298) ~[hibernate-core-5.4.29.Final.jar!/:5.4.29.Final]\r\n            at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:468) ~[hibernate-core-5.4.29.Final.jar!/:5.4.29.Final]\r\n            at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1259) ~[hibernate-core-5.4.29.Final.jar!/:5.4.29.Final]\r\n            at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.5.jar!/:5.3.5]\r\n            at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.5.jar!/:5.3.5]\r\n            at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.5.jar!/:5.3.5]\r\n            ... 29 common frames omitted","title":"Null values in foreign key columns when saving an entity with Spring JPA","body":"<p>In my database I have 2 entities with a unidirectional relationship between them.</p>\n<p>User:</p>\n<pre><code>CREATE TABLE public.&quot;user&quot; (\n    uuid uuid NOT NULL DEFAULT uuid_generate_v4(),\n    &quot;name&quot; varchar NULL,\n    CONSTRAINT user_pk PRIMARY KEY (uuid)\n);\n</code></pre>\n<p>Message:</p>\n<pre><code>CREATE TABLE public.message (\n    sender uuid NOT NULL,\n    receiver uuid NOT NULL,\n    &quot;content&quot; varchar NULL,\n    uuid uuid NOT NULL,\n    CONSTRAINT message_pk PRIMARY KEY (uuid),\n    CONSTRAINT message_fk FOREIGN KEY (sender) REFERENCES &quot;user&quot;(uuid) ON UPDATE RESTRICT ON DELETE RESTRICT,\n    CONSTRAINT message_fk_1 FOREIGN KEY (receiver) REFERENCES &quot;user&quot;(uuid) ON UPDATE RESTRICT ON DELETE RESTRICT\n);\n</code></pre>\n<p>This is how I mapped those entities with Spring JPA:</p>\n<pre><code>@Entity\n@Table(name = &quot;user&quot;, schema = &quot;public&quot;)\npublic class User\n{\n    @Id\n    @Column(name = &quot;uuid&quot;, insertable = false, updatable = false)\n    private UUID uuid;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n}\n\n@Entity\n@Table(name = &quot;message&quot;, schema = &quot;public&quot;)\npublic class Message\n{\n    @Id\n    @Column(name = &quot;uuid&quot;)\n    private UUID uuid;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;uuid&quot;, insertable = false, updatable = false) // this uuid is in the User entity\n    private User sender;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;uuid&quot;, insertable = false, updatable = false) // this uuid is in the User entity\n    private User receiver;\n\n    @Column(name = &quot;content&quot;)\n    private String content;\n}\n</code></pre>\n<p>In my REST controller I expose an endpoint to create a message. This endpoint simply takes two users (the sender and the receiver) and a content for the message:</p>\n<pre><code>@PostMapping\n@RequestMapping(consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\npublic ResponseEntity&lt;CreateMessageResponseRO&gt; createMessage(@RequestBody CreateMessageRequestRO request)\n{\n    Message message = new Message();\n    User sender = userRepository.findById(UUID.fromString(request.getSender())).get();\n    User receiver = userRepository.findById(UUID.fromString(request.getReceiver())).get();\n    String content = request.getContent();\n\n    message.setSender(sender); // sender is not null here\n    message.setReceiver(receiver); // receiver is not null here\n    message.setContent(content);\n\n    messageRepository.save(message);\n\n    return ResponseEntity.ok(new CreateMessageResponseRO(message));\n}\n</code></pre>\n<p>I've checked with the debugger and at the line</p>\n<pre><code>messageRepository.save(message)\n</code></pre>\n<p>the two users (<code>sender</code> and <code>receiver</code>) are not null and they have a valid UUID (i.e. those UUIDs refer to 2 distinct, existing, users) However, when I invoke that endpoint I get this exception:</p>\n<pre><code>org.postgresql.util.PSQLException: ERROR: null value in column &quot;sender&quot; of relation &quot;message&quot; violates not-null constraint\n  Detail: Failing row contains (null, null, hello world!, 818ea408-fa40-49f8-93a1-85e2ff026dac).\n</code></pre>\n<p>This is the JSON I'm using:</p>\n<pre><code>{\n    &quot;sender&quot;: &quot;75090bb0-0e29-4cd8-84ab-2bf2727419d2&quot;,\n    &quot;receiver&quot;: &quot;3539c23f-42f8-4074-a5f8-a8d3f0be8aeb&quot;,\n    &quot;content&quot;: &quot;hello world!&quot;\n}\n</code></pre>\n<p>Why do I get that exception, when the <code>userRepository</code> correctly finds the 2 users?</p>\n<hr />\n<p><strong>EDIT 1</strong></p>\n<p>I've tried to remove the attributes <code>insertable = false, updatable = false</code> from the <code>@JoinColumn</code> annotations in the <code>Message</code> entity. This is the updated code:</p>\n<pre><code>@Entity\n@Table(name = &quot;message&quot;, schema = &quot;public&quot;)\npublic class Message\n{\n    @Id\n    @Column(name = &quot;uuid&quot;)\n    private UUID uuid;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;uuid&quot;)\n    private User sender;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;uuid&quot;)\n    private User receiver;\n\n    @Column(name = &quot;content&quot;)\n    private String content;\n}\n</code></pre>\n<p>However, now I get an exception during the startup of my application, which says that it requires the attributes I've removed:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Repeated column in mapping for entity: com.akwares.sccs.entity.Message column: uuid (should be mapped with insert=&quot;false&quot; update=&quot;false&quot;)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786) ~[spring-beans-5.3.5.jar!/:5.3.5]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602) ~[spring-beans-5.3.5.jar!/:5.3.5]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.5.jar!/:5.3.5]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.5.jar!/:5.3.5]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.5.jar!/:5.3.5]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.5.jar!/:5.3.5]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.5.jar!/:5.3.5]\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.5.jar!/:5.3.5]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.5.jar!/:5.3.5]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.5.jar!/:5.3.5]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.4.jar!/:2.4.4]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:769) ~[spring-boot-2.4.4.jar!/:2.4.4]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:761) ~[spring-boot-2.4.4.jar!/:2.4.4]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) ~[spring-boot-2.4.4.jar!/:2.4.4]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:326) ~[spring-boot-2.4.4.jar!/:2.4.4]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1313) ~[spring-boot-2.4.4.jar!/:2.4.4]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-2.4.4.jar!/:2.4.4]\n        at com.akwares.sccs.Application.main(Application.java:11) ~[classes!/:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[server-1.0-SNAPSHOT.jar:na]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:107) ~[server-1.0-SNAPSHOT.jar:na]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[server-1.0-SNAPSHOT.jar:na]\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) ~[server-1.0-SNAPSHOT.jar:na]\nCaused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Repeated column in mapping for entity: com.akwares.sccs.entity.Message column: uuid (should be mapped with insert=&quot;false&quot; update=&quot;false&quot;)\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421) ~[spring-orm-5.3.5.jar!/:5.3.5]\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.5.jar!/:5.3.5]\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.5.jar!/:5.3.5]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1845) ~[spring-beans-5.3.5.jar!/:5.3.5]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782) ~[spring-beans-5.3.5.jar!/:5.3.5]\n        ... 25 common frames omitted\nCaused by: org.hibernate.MappingException: Repeated column in mapping for entity: com.akwares.sccs.entity.Message column: uuid (should be mapped with insert=&quot;false&quot; update=&quot;false&quot;)\n        at org.hibernate.mapping.PersistentClass.checkColumnDuplication(PersistentClass.java:862) ~[hibernate-core-5.4.29.Final.jar!/:5.4.29.Final]\n        at org.hibernate.mapping.PersistentClass.checkPropertyColumnDuplication(PersistentClass.java:880) ~[hibernate-core-5.4.29.Final.jar!/:5.4.29.Final]\n        at org.hibernate.mapping.PersistentClass.checkColumnDuplication(PersistentClass.java:902) ~[hibernate-core-5.4.29.Final.jar!/:5.4.29.Final]\n        at org.hibernate.mapping.PersistentClass.validate(PersistentClass.java:634) ~[hibernate-core-5.4.29.Final.jar!/:5.4.29.Final]\n        at org.hibernate.mapping.RootClass.validate(RootClass.java:267) ~[hibernate-core-5.4.29.Final.jar!/:5.4.29.Final]\n        at org.hibernate.boot.internal.MetadataImpl.validate(MetadataImpl.java:354) ~[hibernate-core-5.4.29.Final.jar!/:5.4.29.Final]\n        at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:298) ~[hibernate-core-5.4.29.Final.jar!/:5.4.29.Final]\n        at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:468) ~[hibernate-core-5.4.29.Final.jar!/:5.4.29.Final]\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1259) ~[hibernate-core-5.4.29.Final.jar!/:5.4.29.Final]\n        at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.5.jar!/:5.3.5]\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.5.jar!/:5.3.5]\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.5.jar!/:5.3.5]\n        ... 29 common frames omitted\n</code></pre>\n"},{"tags":["java","android","flutter","firebase","keytool"],"answers":[{"tags":[],"owner":{"account_id":23432132,"reputation":31,"user_id":17490790,"display_name":"AK 1000"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655077519,"creation_date":1655077519,"answer_id":72596627,"question_id":72596428,"body_markdown":"**Solved:** After Running Flutter -v in android studioFound Out That:\r\n\r\n**Java version OpenJDK Runtime Environment (build 11.0.12+7-b1504.28-7817840)** \r\nwhich indicated that there was difference with the java version installed (was currently using java 1.8).\r\n\r\nI solved the problem by installing the same java version (In my case 11.0.12) and adding it to the PATH in environmental variables.","title":"keytool error: java.io.IOException: Invalid keystore format","body":"<p><strong>Solved:</strong> After Running Flutter -v in android studioFound Out That:</p>\n<p><strong>Java version OpenJDK Runtime Environment (build 11.0.12+7-b1504.28-7817840)</strong>\nwhich indicated that there was difference with the java version installed (was currently using java 1.8).</p>\n<p>I solved the problem by installing the same java version (In my case 11.0.12) and adding it to the PATH in environmental variables.</p>\n"},{"tags":[],"owner":{"account_id":15991284,"reputation":1,"user_id":11540411,"display_name":"A.C.C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671030059,"creation_date":1671030059,"answer_id":74800198,"question_id":72596428,"body_markdown":"A simpler way would be to use Android Java, change &quot;YOUR_USERNAME_HERE&quot;\r\n\r\n    &quot;c:\\Program Files\\Android\\Android Studio\\jre\\bin\\keytool.exe&quot; -list -v -keystore &quot;C:\\Users\\YOUR_USERNAME_HERE\\.android\\debug.keystore&quot;\r\n\r\nDefault password android","title":"keytool error: java.io.IOException: Invalid keystore format","body":"<p>A simpler way would be to use Android Java, change &quot;YOUR_USERNAME_HERE&quot;</p>\n<pre><code>&quot;c:\\Program Files\\Android\\Android Studio\\jre\\bin\\keytool.exe&quot; -list -v -keystore &quot;C:\\Users\\YOUR_USERNAME_HERE\\.android\\debug.keystore&quot;\n</code></pre>\n<p>Default password android</p>\n"},{"tags":[],"owner":{"account_id":3160305,"reputation":449,"user_id":2671613,"display_name":"urnish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691512303,"creation_date":1691512303,"answer_id":76861536,"question_id":72596428,"body_markdown":"I have the same issues but later found that there is a different JDK version mentioned in android studio(JDK 11) and a different version installed in my system(JDK 8).\r\n\r\nSo after that, I installed JDK 11 in my system and then try the same which resolved the error. So the solution is the version should be the same on both sides which will fix the error.  ","title":"keytool error: java.io.IOException: Invalid keystore format","body":"<p>I have the same issues but later found that there is a different JDK version mentioned in android studio(JDK 11) and a different version installed in my system(JDK 8).</p>\n<p>So after that, I installed JDK 11 in my system and then try the same which resolved the error. So the solution is the version should be the same on both sides which will fix the error.</p>\n"}],"owner":{"account_id":23432132,"reputation":31,"user_id":17490790,"display_name":"AK 1000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2700,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1691512303,"creation_date":1655074367,"question_id":72596428,"body_markdown":"Got an error while run the command in terminal:\r\n\r\n**&quot;keytool -list -v -alias androiddebugkey -keystore %USERPROFILE%\\.android\\debug.keystore&quot;**\r\n\r\nResults in below error:\r\n\r\n    java.io.IOException: Invalid keystore format\r\n            at sun.security.provider.JavaKeyStore.engineLoad(JavaKeyStore.java:663)\r\n            at sun.security.provider.JavaKeyStore$JKS.engineLoad(JavaKeyStore.java:56)\r\n            at sun.security.provider.KeyStoreDelegator.engineLoad(KeyStoreDelegator.java:224)\r\n            at sun.security.provider.JavaKeyStore$DualFormatJKS.engineLoad(JavaKeyStore.java:70)\r\n            at java.security.KeyStore.load(KeyStore.java:1445)\r\n            at sun.security.tools.keytool.Main.doCommands(Main.java:941)\r\n            at sun.security.tools.keytool.Main.run(Main.java:379)\r\n            at sun.security.tools.keytool.Main.main(Main.java:372)\r\n\r\nP.S: I have seen similar questions regarding this error, but none of the solutions solved my problem.\r\n\r\n","title":"keytool error: java.io.IOException: Invalid keystore format","body":"<p>Got an error while run the command in terminal:</p>\n<p><strong>&quot;keytool -list -v -alias androiddebugkey -keystore %USERPROFILE%.android\\debug.keystore&quot;</strong></p>\n<p>Results in below error:</p>\n<pre><code>java.io.IOException: Invalid keystore format\n        at sun.security.provider.JavaKeyStore.engineLoad(JavaKeyStore.java:663)\n        at sun.security.provider.JavaKeyStore$JKS.engineLoad(JavaKeyStore.java:56)\n        at sun.security.provider.KeyStoreDelegator.engineLoad(KeyStoreDelegator.java:224)\n        at sun.security.provider.JavaKeyStore$DualFormatJKS.engineLoad(JavaKeyStore.java:70)\n        at java.security.KeyStore.load(KeyStore.java:1445)\n        at sun.security.tools.keytool.Main.doCommands(Main.java:941)\n        at sun.security.tools.keytool.Main.run(Main.java:379)\n        at sun.security.tools.keytool.Main.main(Main.java:372)\n</code></pre>\n<p>P.S: I have seen similar questions regarding this error, but none of the solutions solved my problem.</p>\n"},{"tags":["java","excel","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":10933061,"reputation":6811,"user_id":8035582,"accept_rate":100,"display_name":"burki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644400955,"creation_date":1644400955,"answer_id":71047505,"question_id":71039647,"body_markdown":"I suppose you try to read a real Excel file (`.xlsx`). That does not work with the [CSV data format][1].\r\n\r\nThe `CSVFormat.EXCEL` format is to read CSV files (`.csv`) exported from Excel. Because the CSV format is done quite different from product to product, Camel supports multiple &quot;well-known&quot; CSV formats. One of them is `CSVFormat.EXCEL`.\r\n\r\nTo read the native Excel format (I think it is a ZIP file that contains XML files), you need a library like [Apache POI][2]. \r\n\r\n\r\n  [1]: https://camel.apache.org/components/3.14.x/dataformats/csv-dataformat.html\r\n  [2]: https://poi.apache.org/","title":"Read an excel file using Apache Camel","body":"<p>I suppose you try to read a real Excel file (<code>.xlsx</code>). That does not work with the <a href=\"https://camel.apache.org/components/3.14.x/dataformats/csv-dataformat.html\" rel=\"nofollow noreferrer\">CSV data format</a>.</p>\n<p>The <code>CSVFormat.EXCEL</code> format is to read CSV files (<code>.csv</code>) exported from Excel. Because the CSV format is done quite different from product to product, Camel supports multiple &quot;well-known&quot; CSV formats. One of them is <code>CSVFormat.EXCEL</code>.</p>\n<p>To read the native Excel format (I think it is a ZIP file that contains XML files), you need a library like <a href=\"https://poi.apache.org/\" rel=\"nofollow noreferrer\">Apache POI</a>.</p>\n"}],"owner":{"account_id":5910384,"reputation":937,"user_id":4650838,"accept_rate":56,"display_name":"Anirban"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71047505,"answer_count":1,"score":0,"last_activity_date":1691511636,"creation_date":1644347844,"question_id":71039647,"body_markdown":"I am trying to read an Excel file using Apache Camel. For that I have found that we can use the CSV component:\r\n\r\n    https://camel.apache.org/components/3.14.x/dataformats/csv-dataformat.html\r\n\r\nFor that I have created a simple route which reads a XLSX file from a folder. Then I am trying to print the content of of that Excel file and write to another folder, but the contents of the file are not getting printed. The route is as below:\r\n\r\n    import org.apache.camel.builder.RouteBuilder;\r\n    import org.apache.camel.dataformat.csv.CsvDataFormat;\r\n    import org.apache.commons.csv.CSVFormat;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class MyRoute extends RouteBuilder {\r\n    \t\r\n    \tpublic void configure() {\r\n    \t\t\r\n    \t\tCsvDataFormat csv = new CsvDataFormat();\r\n    \t\tcsv.setFormat(CSVFormat.EXCEL);\r\n    \t\t\r\n    \t\tfrom(&quot;file://C://work//ei01//source&quot;)\r\n    \t\t\t.unmarshal(csv)\r\n    \t\t\t.log(&quot;Reached ${body}&quot;)\r\n    \t\t\t.marshal(csv)\r\n    \t\t\t.to(&quot;file://C://work//ei01//destination?fileName=test.xlsx&quot;);\r\n    \t}\r\n    }\r\n\r\nThe pom.xml is as below:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.6.3&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;sprng-boot-camel-demo&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;sprng-boot-camel-demo&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;camel-spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.14.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;camel-csv-starter&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.14.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nCan you please suggest me what I am doing wrong here?\r\n","title":"Read an excel file using Apache Camel","body":"<p>I am trying to read an Excel file using Apache Camel. For that I have found that we can use the CSV component:</p>\n<pre><code>https://camel.apache.org/components/3.14.x/dataformats/csv-dataformat.html\n</code></pre>\n<p>For that I have created a simple route which reads a XLSX file from a folder. Then I am trying to print the content of of that Excel file and write to another folder, but the contents of the file are not getting printed. The route is as below:</p>\n<pre><code>import org.apache.camel.builder.RouteBuilder;\nimport org.apache.camel.dataformat.csv.CsvDataFormat;\nimport org.apache.commons.csv.CSVFormat;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class MyRoute extends RouteBuilder {\n    \n    public void configure() {\n        \n        CsvDataFormat csv = new CsvDataFormat();\n        csv.setFormat(CSVFormat.EXCEL);\n        \n        from(&quot;file://C://work//ei01//source&quot;)\n            .unmarshal(csv)\n            .log(&quot;Reached ${body}&quot;)\n            .marshal(csv)\n            .to(&quot;file://C://work//ei01//destination?fileName=test.xlsx&quot;);\n    }\n}\n</code></pre>\n<p>The pom.xml is as below:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;sprng-boot-camel-demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;sprng-boot-camel-demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;3.14.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-csv-starter&lt;/artifactId&gt;\n            &lt;version&gt;3.14.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Can you please suggest me what I am doing wrong here?</p>\n"},{"tags":["java","sql","spring","jdbc"],"answers":[{"tags":[],"owner":{"account_id":161943,"reputation":22096,"user_id":383087,"accept_rate":89,"display_name":"Evgeni Dimitrov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386511465,"creation_date":1386505651,"answer_id":20453380,"question_id":20452831,"body_markdown":"I would use property file to store sql queries.\r\n\r\nFor example:\r\n\r\n    person-save=insert into person values....\r\n    person-get-all=select * from person....\r\n\r\nWith that you can read the statements from the file\r\n\r\nIn the context:\r\n\r\n    &lt;util:properties id=&quot;sqlProps&quot; location=&quot;classpath:sqlProps.properties&quot; /&gt;\r\n\r\nIn the DAO:\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;sqlProps&quot;)\r\n    private Properties sqlProps;\r\n...\r\n\r\n    String query = sqlProps.getProperty(&quot;person-get-all&quot;);\r\n    PreparedStatement statement = connection.prepareStatement(query);\r\n    ResultSet resultSet = statement.executeQuery();\r\n\r\nIf you want to execute all the statements in a file, you have to implement that yourself. Just loop over the properties and execute them one by one. You will need some flag to determinate if its select or update/delete statement.\r\nLoop over properties:\r\n \r\n\r\n    Enumeration e = props.propertyNames();\r\n    \r\n        while (e.hasMoreElements()) {\r\n          String key = (String) e.nextElement();\r\n          String query= props.getProperty(key);\r\n        }","title":"How to run a .sql script (from file) in Java and return a ResultSet using Spring?","body":"<p>I would use property file to store sql queries.</p>\n\n<p>For example:</p>\n\n<pre><code>person-save=insert into person values....\nperson-get-all=select * from person....\n</code></pre>\n\n<p>With that you can read the statements from the file</p>\n\n<p>In the context:</p>\n\n<pre><code>&lt;util:properties id=\"sqlProps\" location=\"classpath:sqlProps.properties\" /&gt;\n</code></pre>\n\n<p>In the DAO:</p>\n\n<pre><code>@Autowired\n@Qualifier(\"sqlProps\")\nprivate Properties sqlProps;\n</code></pre>\n\n<p>...</p>\n\n<pre><code>String query = sqlProps.getProperty(\"person-get-all\");\nPreparedStatement statement = connection.prepareStatement(query);\nResultSet resultSet = statement.executeQuery();\n</code></pre>\n\n<p>If you want to execute all the statements in a file, you have to implement that yourself. Just loop over the properties and execute them one by one. You will need some flag to determinate if its select or update/delete statement.\nLoop over properties:</p>\n\n<pre><code>Enumeration e = props.propertyNames();\n\n    while (e.hasMoreElements()) {\n      String key = (String) e.nextElement();\n      String query= props.getProperty(key);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1232348,"reputation":3075,"user_id":1233661,"accept_rate":67,"display_name":"Alex Burdusel"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1386741322,"creation_date":1386695022,"answer_id":20500679,"question_id":20452831,"body_markdown":"I found a way to do it using Spring:\r\n\r\n\tMysqlDataSource ds = new MysqlDataSource();\r\n\tds.setServerName(&quot;host&quot;);\r\n\tds.setUser(&quot;user&quot;);\r\n\tds.setPassword(&quot;password&quot;);\r\n\r\n\tJdbcTemplate jdbcTemplate = new JdbcTemplate(ds);\r\n\r\n\tBufferedReader in = new BufferedReader(new FileReader(&quot;script.sql&quot;));\r\n\tLineNumberReader fileReader = new LineNumberReader(in);\r\n\tString query = JdbcTestUtils.readScript(fileReader);\r\n\r\nNow we will use the `jdbcTemplate.query` to query the database using the .sql script we read. The `ResultSet` required will be passed as parameter to the `extractData` of `ResultSetExtractor` implementation or to the `mapRow` of the `RowMapper` implementation. So the processing of the `ResultSet` will be done in the `extractData` or `mapRow` implementation and we will return the Collection/Object we need\r\n\t\r\n\tList&lt;YourClass&gt; result = jdbcTemplate.query(query, new RowMapper&lt;YourClass&gt;() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic YourClass mapRow(ResultSet rs, int i) throws SQLException {\r\n\t\t\t\t\t// processing of the ResultSet\r\n\t\t\t\t\treturn result;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\nor\r\n\r\n\tYourClass object = jdbcTemplate.query(query, new ResultSetExtractor&lt;YourClass&gt;() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic YourClass extractData(ResultSet rs) throws SQLException, DataAccessException {\r\n\t\t\t\t\t// processing of the ResultSet\r\n\t\t\t\t\treturn result;\r\n\t\t\t\t}\r\n\t\t\t});\r\nOf course, using the last implementation you can return any object you want, even a collection of objects. ","title":"How to run a .sql script (from file) in Java and return a ResultSet using Spring?","body":"<p>I found a way to do it using Spring:</p>\n\n<pre><code>MysqlDataSource ds = new MysqlDataSource();\nds.setServerName(\"host\");\nds.setUser(\"user\");\nds.setPassword(\"password\");\n\nJdbcTemplate jdbcTemplate = new JdbcTemplate(ds);\n\nBufferedReader in = new BufferedReader(new FileReader(\"script.sql\"));\nLineNumberReader fileReader = new LineNumberReader(in);\nString query = JdbcTestUtils.readScript(fileReader);\n</code></pre>\n\n<p>Now we will use the <code>jdbcTemplate.query</code> to query the database using the .sql script we read. The <code>ResultSet</code> required will be passed as parameter to the <code>extractData</code> of <code>ResultSetExtractor</code> implementation or to the <code>mapRow</code> of the <code>RowMapper</code> implementation. So the processing of the <code>ResultSet</code> will be done in the <code>extractData</code> or <code>mapRow</code> implementation and we will return the Collection/Object we need</p>\n\n<pre><code>List&lt;YourClass&gt; result = jdbcTemplate.query(query, new RowMapper&lt;YourClass&gt;() {\n            @Override\n            public YourClass mapRow(ResultSet rs, int i) throws SQLException {\n                // processing of the ResultSet\n                return result;\n            }\n        });\n</code></pre>\n\n<p>or</p>\n\n<pre><code>YourClass object = jdbcTemplate.query(query, new ResultSetExtractor&lt;YourClass&gt;() {\n            @Override\n            public YourClass extractData(ResultSet rs) throws SQLException, DataAccessException {\n                // processing of the ResultSet\n                return result;\n            }\n        });\n</code></pre>\n\n<p>Of course, using the last implementation you can return any object you want, even a collection of objects. </p>\n"},{"tags":[],"owner":{"account_id":29184175,"reputation":1,"user_id":22357694,"display_name":"Лариса Ермакова"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691511440,"creation_date":1691494269,"answer_id":76859135,"question_id":20452831,"body_markdown":"You can use this using `commons-io`:\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n    &lt;version&gt;2.11.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n```java\r\nimport org.apache.commons.io.IOUtils;\r\nimport org.springframework.core.io.ClassPathResource;\r\n//...\r\nString sqlQuery = IOUtils.toString((new ClassPathResource(&quot;me.sql&quot;)).getInputStream(), Charset.defaultCharset());\r\n```","title":"How to run a .sql script (from file) in Java and return a ResultSet using Spring?","body":"<p>You can use this using <code>commons-io</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;commons-io&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n    &lt;version&gt;2.11.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.commons.io.IOUtils;\nimport org.springframework.core.io.ClassPathResource;\n//...\nString sqlQuery = IOUtils.toString((new ClassPathResource(&quot;me.sql&quot;)).getInputStream(), Charset.defaultCharset());\n</code></pre>\n"}],"owner":{"account_id":1232348,"reputation":3075,"user_id":1233661,"accept_rate":67,"display_name":"Alex Burdusel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28343,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1691511440,"creation_date":1386501718,"question_id":20452831,"body_markdown":"How to run a .sql script (from file) in Java and return a `ResultSet` using Spring?\r\n\r\nI have a program that runs `SQL` queries on a database that return `ResultSet` which I later process and use the data in my classes. I am currently using `JDBC` with the scripts inside the Java program.\r\n\r\n\tStringBuilder query = new StringBuilder(&quot;some script on multiple lines&quot;);\r\n\tPreparedStatement statement = connection.prepareStatement(query.toString());\r\n\tResultSet resultSet = statement.executeQuery();\r\n\r\nI want to move the SQL queries outside of the Java program to .sql files, but I want to keep all the program logic from the `executeQuery` statements on. This means I want to have the queries return a ResultSet.\r\n\r\nI looked to several methods like using a `ScriptRunner`, using Spring `JdbcTestUtils.executeSqlScript` or reading the .sql file using a `BufferReader` and then passing the string to my statement. The `ScriptRunner` and the Spring `JdbcTestUtils.executeSqlScript` seem to not return a ResultSet, or I couldn&#39;t find the proper implementation. I want to stay away of the `BufferReader` method since it will require text parsing and a lot of exceptions to handle.\r\n\r\n\tScriptRunner scriptRunner = new ScriptRunner(connection, true, true);\r\n\tscriptRunner.runScript(new FileReader(&quot;script.sql&quot;));\r\n\t\r\nThe `runScript` method returns void. Same does the `Spring` implementation:\r\n\r\n\tMysqlDataSource ds = new MysqlDataSource();\r\n\tds.setServerName(&quot;host&quot;);\r\n\tds.setUser(&quot;user&quot;);\r\n\tds.setPassword(&quot;password&quot;);\r\n\r\n\tJdbcTemplate jdbcTemplate = new JdbcTemplate(ds);\r\n\r\n\tResource resource = new ClassPathResource(&quot;script.sql&quot;);\r\n\tJdbcTestUtils.executeSqlScript(jdbcTemplate, resource, true);\r\n\t\r\nI looked thorough the `Spring` api but couldn&#39;t find something similar to what I want.\r\nIs there a way to load a script from file and then run it so it returns a `ResultSet` using `Spring`? I would prefer using `Spring` since it is actively mantained.\r\n\r\n\r\n\r\n\t","title":"How to run a .sql script (from file) in Java and return a ResultSet using Spring?","body":"<p>How to run a .sql script (from file) in Java and return a <code>ResultSet</code> using Spring?</p>\n\n<p>I have a program that runs <code>SQL</code> queries on a database that return <code>ResultSet</code> which I later process and use the data in my classes. I am currently using <code>JDBC</code> with the scripts inside the Java program.</p>\n\n<pre><code>StringBuilder query = new StringBuilder(\"some script on multiple lines\");\nPreparedStatement statement = connection.prepareStatement(query.toString());\nResultSet resultSet = statement.executeQuery();\n</code></pre>\n\n<p>I want to move the SQL queries outside of the Java program to .sql files, but I want to keep all the program logic from the <code>executeQuery</code> statements on. This means I want to have the queries return a ResultSet.</p>\n\n<p>I looked to several methods like using a <code>ScriptRunner</code>, using Spring <code>JdbcTestUtils.executeSqlScript</code> or reading the .sql file using a <code>BufferReader</code> and then passing the string to my statement. The <code>ScriptRunner</code> and the Spring <code>JdbcTestUtils.executeSqlScript</code> seem to not return a ResultSet, or I couldn't find the proper implementation. I want to stay away of the <code>BufferReader</code> method since it will require text parsing and a lot of exceptions to handle.</p>\n\n<pre><code>ScriptRunner scriptRunner = new ScriptRunner(connection, true, true);\nscriptRunner.runScript(new FileReader(\"script.sql\"));\n</code></pre>\n\n<p>The <code>runScript</code> method returns void. Same does the <code>Spring</code> implementation:</p>\n\n<pre><code>MysqlDataSource ds = new MysqlDataSource();\nds.setServerName(\"host\");\nds.setUser(\"user\");\nds.setPassword(\"password\");\n\nJdbcTemplate jdbcTemplate = new JdbcTemplate(ds);\n\nResource resource = new ClassPathResource(\"script.sql\");\nJdbcTestUtils.executeSqlScript(jdbcTemplate, resource, true);\n</code></pre>\n\n<p>I looked thorough the <code>Spring</code> api but couldn't find something similar to what I want.\nIs there a way to load a script from file and then run it so it returns a <code>ResultSet</code> using <code>Spring</code>? I would prefer using <code>Spring</code> since it is actively mantained.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1691511870,"post_id":76861394,"comment_id":135500511,"body_markdown":"Do you mean that you want to access the files contents at runtime, but they are not Java source files?","body":"Do you mean that you want to access the files contents at runtime, but they are not Java source files?"},{"owner":{"account_id":15341077,"reputation":28,"user_id":11068056,"display_name":"jiraiya"},"score":0,"creation_date":1691512532,"post_id":76861394,"comment_id":135500637,"body_markdown":"I do not want to run/use them, just keep them there invisible to the IDE. But sometimes if i want i can see the code written there for my reference.","body":"I do not want to run/use them, just keep them there invisible to the IDE. But sometimes if i want i can see the code written there for my reference."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":3,"creation_date":1691512640,"post_id":76861394,"comment_id":135500648,"body_markdown":"Put them somewhere else, like github. Your packages should not be a storage place for reference material.","body":"Put them somewhere else, like github. Your packages should not be a storage place for reference material."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1691513782,"post_id":76861394,"comment_id":135500846,"body_markdown":"You could put them in a folder which is not part of the &quot;source path&quot;","body":"You could put them in a folder which is not part of the &quot;source path&quot;"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1691517159,"post_id":76861394,"comment_id":135501434,"body_markdown":"&quot;useless&quot; is a very ambiguous description in programming. Please be more specific. Why are those files in the package if you don&#39;t want to use them? Consider that it may not be the right place for them.","body":"&quot;useless&quot; is a very ambiguous description in programming. Please be more specific. Why are those files in the package if you don&#39;t want to use them? Consider that it may not be the right place for them."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1691668044,"post_id":76861394,"comment_id":135524031,"body_markdown":"In _Project &gt; Properties: Java Build Path_, tab _Sources_ you can exclude files or folders. But better move the Java file out of the source folder, into a documentation folder. If it is something that is (currently) not needed, rely on your version control (e.g. Git) and delete it.","body":"In <i>Project &gt; Properties: Java Build Path</i>, tab <i>Sources</i> you can exclude files or folders. But better move the Java file out of the source folder, into a documentation folder. If it is something that is (currently) not needed, rely on your version control (e.g. Git) and delete it."}],"owner":{"account_id":15341077,"reputation":28,"user_id":11068056,"display_name":"jiraiya"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691511116,"creation_date":1691511116,"question_id":76861394,"body_markdown":"I have a package and 2 java files inside the package. Now what I want is to make the files useless. They will be there in the package as the content inside is something which I do not want to lose but the files cannot be imported or run . It is something similar to how we can close a project in eclipse. Is there any way? ","title":"Is there a way to make a java file useless in eclipse?","body":"<p>I have a package and 2 java files inside the package. Now what I want is to make the files useless. They will be there in the package as the content inside is something which I do not want to lose but the files cannot be imported or run . It is something similar to how we can close a project in eclipse. Is there any way?</p>\n"},{"tags":["java","xpath","xpath-3.1"],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691505197,"creation_date":1691505197,"answer_id":76860561,"question_id":76859794,"body_markdown":"You need to put the string literal in parentheses:\r\n\r\n    ?1?(&#39;email id&#39;)","title":"How to write the Xpath for the json field having white space?","body":"<p>You need to put the string literal in parentheses:</p>\n<pre><code>?1?('email id')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691510566,"creation_date":1691505311,"answer_id":76860574,"question_id":76859794,"body_markdown":"Or just call the map with  e.g. `?1(&#39;email id&#39;)`.\r\n\r\n","title":"How to write the Xpath for the json field having white space?","body":"<p>Or just call the map with  e.g. <code>?1('email id')</code>.</p>\n"}],"owner":{"account_id":28241245,"reputation":15,"user_id":21588981,"display_name":"Sujit Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76860561,"answer_count":2,"score":1,"last_activity_date":1691510566,"creation_date":1691499412,"question_id":76859794,"body_markdown":"I want to write the xpath for a json field which is having white spaces in it.\r\n\r\n```\r\n[    \r\n    {&quot;name&quot;:&quot;Ram&quot;, &quot;emai ld&quot;:&quot;ram@gmail.com&quot;, &quot;age&quot;:23},    \r\n    {&quot;name&quot;:&quot;Shyam&quot;, &quot;email id&quot;:&quot;shyam23@gmail.com&quot;, &quot;age&quot;:28}\r\n]\r\n```\r\nI tried as below to get the email id:\r\n\r\n    ?1?email id\r\n\r\nWhen I searched in open source I got to know this is not possible in Xpath 3.1. Xpath 4.0 supports the above as\r\n\r\n    ?1?&#39;email id&#39;\r\n\r\nCan somebody helps how I can use Xpath 4.0? Meaning any dependency that I need to add?\r\n","title":"How to write the Xpath for the json field having white space?","body":"<p>I want to write the xpath for a json field which is having white spaces in it.</p>\n<pre><code>[    \n    {&quot;name&quot;:&quot;Ram&quot;, &quot;emai ld&quot;:&quot;ram@gmail.com&quot;, &quot;age&quot;:23},    \n    {&quot;name&quot;:&quot;Shyam&quot;, &quot;email id&quot;:&quot;shyam23@gmail.com&quot;, &quot;age&quot;:28}\n]\n</code></pre>\n<p>I tried as below to get the email id:</p>\n<pre><code>?1?email id\n</code></pre>\n<p>When I searched in open source I got to know this is not possible in Xpath 3.1. Xpath 4.0 supports the above as</p>\n<pre><code>?1?'email id'\n</code></pre>\n<p>Can somebody helps how I can use Xpath 4.0? Meaning any dependency that I need to add?</p>\n"},{"tags":["java","data-structures","binary-tree","avl-tree"],"comments":[{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1691507290,"post_id":76860633,"comment_id":135499485,"body_markdown":"How is your balance factor defined? Is it negative when the left subtree is heavier, or is it the opposite?","body":"How is your balance factor defined? Is it negative when the left subtree is heavier, or is it the opposite?"},{"owner":{"account_id":7421543,"reputation":2880,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":1,"creation_date":1691507541,"post_id":76860633,"comment_id":135499549,"body_markdown":"@trincot The balance factor is `height(node.left) - height(node.right)`, so a positive number would indicate a heavier left subtree, whereas a negative number would indicate a heavier right subtree.","body":"@trincot The balance factor is <code>height(node.left) - height(node.right)</code>, so a positive number would indicate a heavier left subtree, whereas a negative number would indicate a heavier right subtree."}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1691507957,"creation_date":1691507957,"answer_id":76860965,"question_id":76860633,"body_markdown":"The code block for the case where `balanceFactor &lt; -1` should mirror the other block in terms of left/right and balance factor comparisons. This is currently not the case. So change it to:\r\n\r\n\r\n    } else if (balanceFactor &lt; -1) {\r\n        // Right subtree is heavier\r\n        balanceFactor = balanceFactor(node.right);\r\n        if (balanceFactor &lt;= 0) {\r\n            leftRotate(node.right.right);\r\n        } else {\r\n            rightRotate(node.right.left);\r\n            leftRotate(node.right);\r\n        }\r\n    }\r\n\r\nNote that I used `&lt;=`. This can also be done in the first case (`&gt;=`), as even when the balance factor at the child is zero, you can suffice with one rotation.\r\n\r\nSee also [Wikipedia on rebalancing](https://en.wikipedia.org/wiki/AVL_tree#Rebalancing). Be aware that they use an opposite sign for the balance factor.","title":"How do I balance a large AVL tree?","body":"<p>The code block for the case where <code>balanceFactor &lt; -1</code> should mirror the other block in terms of left/right and balance factor comparisons. This is currently not the case. So change it to:</p>\n<pre><code>} else if (balanceFactor &lt; -1) {\n    // Right subtree is heavier\n    balanceFactor = balanceFactor(node.right);\n    if (balanceFactor &lt;= 0) {\n        leftRotate(node.right.right);\n    } else {\n        rightRotate(node.right.left);\n        leftRotate(node.right);\n    }\n}\n</code></pre>\n<p>Note that I used <code>&lt;=</code>. This can also be done in the first case (<code>&gt;=</code>), as even when the balance factor at the child is zero, you can suffice with one rotation.</p>\n<p>See also <a href=\"https://en.wikipedia.org/wiki/AVL_tree#Rebalancing\" rel=\"nofollow noreferrer\">Wikipedia on rebalancing</a>. Be aware that they use an opposite sign for the balance factor.</p>\n"},{"tags":[],"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691510073,"creation_date":1691510073,"answer_id":76861249,"question_id":76860633,"body_markdown":"According to [wikipedia](https://en.wikipedia.org/wiki/AVL_tree#Rebalancing) you have to use a double rotation because the inner subtree of `8` is the longest.\r\n\r\nSo you have\r\n\r\n           3\r\n     ...         8\r\n              5     ...\r\n           longest\r\n\r\nAfter the double rotation, `5` have resp. `3` and `8` for its children, and the \r\nright child branch of `5` becomes the left child branch of 3, and the same the left child branch of `5` becomes the right child branch of `8`. Which gives:\r\n\r\n             5\r\n        3          8\r\n      2   4    6     9\r\n    1            7     10\r\n\r\nWin! After the double rotation the tree is AVL balanced....","title":"How do I balance a large AVL tree?","body":"<p>According to <a href=\"https://en.wikipedia.org/wiki/AVL_tree#Rebalancing\" rel=\"nofollow noreferrer\">wikipedia</a> you have to use a double rotation because the inner subtree of <code>8</code> is the longest.</p>\n<p>So you have</p>\n<pre><code>       3\n ...         8\n          5     ...\n       longest\n</code></pre>\n<p>After the double rotation, <code>5</code> have resp. <code>3</code> and <code>8</code> for its children, and the\nright child branch of <code>5</code> becomes the left child branch of 3, and the same the left child branch of <code>5</code> becomes the right child branch of <code>8</code>. Which gives:</p>\n<pre><code>         5\n    3          8\n  2   4    6     9\n1            7     10\n</code></pre>\n<p>Win! After the double rotation the tree is AVL balanced....</p>\n"}],"owner":{"account_id":7421543,"reputation":2880,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76860965,"answer_count":2,"score":0,"last_activity_date":1691510073,"creation_date":1691505635,"question_id":76860633,"body_markdown":"I am trying to relearn how to balance AVL trees. After watching many tutorials, I thought I got the gist of it, but then I came across a particular scenario and now I&#39;m stumped.\r\n\r\nI am building an AVL tree using the numbers `5, 2, 3, 9, 4, 1, 6, 8, 10, 7`, inserted in that order. The tree balances without any issues all the way up to 10, but my algorithm cannot balance the tree after adding 7. Here is what the tree looks like before I balance it after adding 7:\r\n\r\n        3\r\n      ┌─┴──┐\r\n      2    8 &lt;-- Unbalanced subtree\r\n    ┌─┘  ┌─┴──┐\r\n    1    5    9\r\n        ┌┴─┐  └─┐\r\n        4  6   10\r\n           └─┐\r\n             7 &lt;-- Node causing the tree to be unbalanced \r\n\r\nI know from using [USFCA&#39;s AVL Tree Visualizer][1] that my tree is suppose to look like this after I balance it, but I do not know how to achieve this result:\r\n\r\n          5\r\n       ┌──┴───┐\r\n       3      8\r\n      ┌┴─┐  ┌─┴──┐\r\n      2  4  6    9\r\n    ┌─┘     └─┐  └─┐\r\n    1         7   10\r\n\r\n[This tutorial][2] indicates that I should perform a left-right rotation on 8, which results in something inconsistent with the desired result:\r\n\r\n         8\r\n       ┌─┴──┐\r\n       3    9\r\n      ┌┴─┐  └─┐\r\n      2  4   10\r\n    ┌─┘  └─┐\r\n    1      5\r\n           └─┐\r\n             6\r\n             └─┐\r\n               7\r\n\r\nThis is the logic I am using to determine which rotations to use for a given node (let me know if I should include the code for my rotate methods - I am not sure if it is necessary for an MCVE):\r\n\r\n\tprivate void balance(Node node) {\r\n\t\tif (node == null)\r\n\t\t\treturn;\r\n\r\n\t\tint balanceFactor = balanceFactor(node);\r\n\t\tif (balanceFactor &gt; 1) {\r\n            // Left subtree is heavier\r\n\t\t\tbalanceFactor = balanceFactor(node.left);\r\n\t\t\tif (balanceFactor &gt; 0) {\r\n\t\t\t\trightRotate(node.left.left);\r\n\t\t\t} else {\r\n\t\t\t\tleftRotate(node.left.right);\r\n\t\t\t\trightRotate(node.left);\r\n\t\t\t}\r\n\t\t} else if (balanceFactor &lt; -1) {\r\n            // Right subtree is heavier\r\n\t\t\tbalanceFactor = balanceFactor(node.right);\r\n\t\t\tif (balanceFactor &gt; 0) {\r\n\t\t\t\tleftRotate(node.right);\r\n\t\t\t\trightRotate(node.right.left);\r\n\t\t\t} else {\r\n\t\t\t\tleftRotate(node.right);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tbalance(node.parent);\r\n\t}\r\n\r\nIt would seem to me that the logic works well until the root node becomes right-heavy.\r\n\r\nWhat do I need to do differently to balance this tree?\r\n\r\n  [1]: https://www.cs.usfca.edu/~galles/visualization/AVLtree.html\r\n  [2]: https://youtu.be/wn1tc5SAGZk","title":"How do I balance a large AVL tree?","body":"<p>I am trying to relearn how to balance AVL trees. After watching many tutorials, I thought I got the gist of it, but then I came across a particular scenario and now I'm stumped.</p>\n<p>I am building an AVL tree using the numbers <code>5, 2, 3, 9, 4, 1, 6, 8, 10, 7</code>, inserted in that order. The tree balances without any issues all the way up to 10, but my algorithm cannot balance the tree after adding 7. Here is what the tree looks like before I balance it after adding 7:</p>\n<pre><code>    3\n  ┌─┴──┐\n  2    8 &lt;-- Unbalanced subtree\n┌─┘  ┌─┴──┐\n1    5    9\n    ┌┴─┐  └─┐\n    4  6   10\n       └─┐\n         7 &lt;-- Node causing the tree to be unbalanced \n</code></pre>\n<p>I know from using <a href=\"https://www.cs.usfca.edu/%7Egalles/visualization/AVLtree.html\" rel=\"nofollow noreferrer\">USFCA's AVL Tree Visualizer</a> that my tree is suppose to look like this after I balance it, but I do not know how to achieve this result:</p>\n<pre><code>      5\n   ┌──┴───┐\n   3      8\n  ┌┴─┐  ┌─┴──┐\n  2  4  6    9\n┌─┘     └─┐  └─┐\n1         7   10\n</code></pre>\n<p><a href=\"https://youtu.be/wn1tc5SAGZk\" rel=\"nofollow noreferrer\">This tutorial</a> indicates that I should perform a left-right rotation on 8, which results in something inconsistent with the desired result:</p>\n<pre><code>     8\n   ┌─┴──┐\n   3    9\n  ┌┴─┐  └─┐\n  2  4   10\n┌─┘  └─┐\n1      5\n       └─┐\n         6\n         └─┐\n           7\n</code></pre>\n<p>This is the logic I am using to determine which rotations to use for a given node (let me know if I should include the code for my rotate methods - I am not sure if it is necessary for an MCVE):</p>\n<pre><code>private void balance(Node node) {\n    if (node == null)\n        return;\n\n    int balanceFactor = balanceFactor(node);\n    if (balanceFactor &gt; 1) {\n        // Left subtree is heavier\n        balanceFactor = balanceFactor(node.left);\n        if (balanceFactor &gt; 0) {\n            rightRotate(node.left.left);\n        } else {\n            leftRotate(node.left.right);\n            rightRotate(node.left);\n        }\n    } else if (balanceFactor &lt; -1) {\n        // Right subtree is heavier\n        balanceFactor = balanceFactor(node.right);\n        if (balanceFactor &gt; 0) {\n            leftRotate(node.right);\n            rightRotate(node.right.left);\n        } else {\n            leftRotate(node.right);\n        }\n    }\n\n    balance(node.parent);\n}\n</code></pre>\n<p>It would seem to me that the logic works well until the root node becomes right-heavy.</p>\n<p>What do I need to do differently to balance this tree?</p>\n"},{"tags":["java","xml","spring","spring-boot","soap"],"comments":[{"owner":{"account_id":9709676,"reputation":1447,"user_id":7221628,"accept_rate":100,"display_name":"JGlass"},"score":0,"creation_date":1692832487,"post_id":76859754,"comment_id":135679294,"body_markdown":"did you get your issue resolved?  I just ran into the same error.  One WS method generates this error, another very similar does not.  I see you are using  JDK17, a lot of people have problems upgrading to anything later than JDK8.  May also be the spring boot version?   Looks like you are using the sample code from Spring - so if you have not introduced any changes other than it being in another project, it may be Spring or JDK version related, which does not help my problem with one method in the project causing this error but another (and two other WS methods) not causing it O_o","body":"did you get your issue resolved?  I just ran into the same error.  One WS method generates this error, another very similar does not.  I see you are using  JDK17, a lot of people have problems upgrading to anything later than JDK8.  May also be the spring boot version?   Looks like you are using the sample code from Spring - so if you have not introduced any changes other than it being in another project, it may be Spring or JDK version related, which does not help my problem with one method in the project causing this error but another (and two other WS methods) not causing it O_o"},{"owner":{"account_id":9321922,"reputation":93,"user_id":6920412,"display_name":"PRJ"},"score":0,"creation_date":1701345926,"post_id":76859754,"comment_id":136765515,"body_markdown":"It was a dependency issue. The project had missing dependencies like spring-test.","body":"It was a dependency issue. The project had missing dependencies like spring-test."}],"owner":{"account_id":9321922,"reputation":93,"user_id":6920412,"display_name":"PRJ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1691510006,"creation_date":1691499148,"question_id":76859754,"body_markdown":"I&#39;m getting this exception and unable to solve it. Also, unable to find the root cause this exception. The same code is working in another project, with less dependencies. Why this is happening? The versions are the same as I have used in the both projects.\r\n~~~\r\norg.springframework.beans.factory.BeanInitializationException: Could not initialize WebServiceMessageReceiverHandlerAdapter\r\n\tat org.springframework.ws.transport.http.MessageDispatcherServlet.initMessageReceiverHandlerAdapter(MessageDispatcherServlet.java:380) ~[spring-ws-core-4.0.5.jar:na]\r\n\tat org.springframework.ws.transport.http.MessageDispatcherServlet.initStrategies(MessageDispatcherServlet.java:361) ~[spring-ws-core-4.0.5.jar:na]\r\n\tat org.springframework.ws.transport.http.MessageDispatcherServlet.onRefresh(MessageDispatcherServlet.java:296) ~[spring-ws-core-4.0.5.jar:na]\r\n\tat org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:603) ~[spring-webmvc-6.0.11.jar:6.0.11]\r\n\tat org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:537) ~[spring-webmvc-6.0.11.jar:6.0.11]\r\n\tat org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:169) ~[spring-webmvc-6.0.11.jar:6.0.11]\r\n\tat jakarta.servlet.GenericServlet.init(GenericServlet.java:143) ~[tomcat-embed-core-10.1.11.jar:6.0]\r\n\tat jakarta.servlet.http.HttpServlet.init(HttpServlet.java:121) ~[tomcat-embed-core-10.1.11.jar:6.0]\r\n\tat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:944) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:662) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:114) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Invocation of init method failed\r\n\tat org.springframework.ws.support.DefaultStrategiesHelper.instantiateBean(DefaultStrategiesHelper.java:182) ~[spring-ws-core-4.0.5.jar:na]\r\n\tat org.springframework.ws.support.DefaultStrategiesHelper.getDefaultStrategies(DefaultStrategiesHelper.java:135) ~[spring-ws-core-4.0.5.jar:na]\r\n\tat org.springframework.ws.support.DefaultStrategiesHelper.getDefaultStrategy(DefaultStrategiesHelper.java:212) ~[spring-ws-core-4.0.5.jar:na]\r\n\tat org.springframework.ws.transport.http.MessageDispatcherServlet.initWebServiceMessageFactory(MessageDispatcherServlet.java:389) ~[spring-ws-core-4.0.5.jar:na]\r\n\tat org.springframework.ws.transport.http.MessageDispatcherServlet.initMessageReceiverHandlerAdapter(MessageDispatcherServlet.java:377) ~[spring-ws-core-4.0.5.jar:na]\r\n\t... 25 common frames omitted\r\nCaused by: org.springframework.ws.soap.SoapMessageCreationException: Could not create SAAJ MessageFactory: Unable to create SAAJ meta-factory: class com.sun.xml.messaging.saaj.soap.SAAJMetaFactoryImpl cannot be cast to class jakarta.xml.soap.SAAJMetaFactory (com.sun.xml.messaging.saaj.soap.SAAJMetaFactoryImpl and jakarta.xml.soap.SAAJMetaFactory are in unnamed module of loader &#39;app&#39;)\r\n\tat org.springframework.ws.soap.saaj.SaajSoapMessageFactory.afterPropertiesSet(SaajSoapMessageFactory.java:156) ~[spring-ws-core-4.0.5.jar:na]\r\n\tat org.springframework.ws.support.DefaultStrategiesHelper.instantiateBean(DefaultStrategiesHelper.java:180) ~[spring-ws-core-4.0.5.jar:na]\r\n\t... 29 common frames omitted\r\nCaused by: jakarta.xml.soap.SOAPException: Unable to create SAAJ meta-factory: class com.sun.xml.messaging.saaj.soap.SAAJMetaFactoryImpl cannot be cast to class jakarta.xml.soap.SAAJMetaFactory (com.sun.xml.messaging.saaj.soap.SAAJMetaFactoryImpl and jakarta.xml.soap.SAAJMetaFactory are in unnamed module of loader &#39;app&#39;)\r\n\tat jakarta.xml.soap.SAAJMetaFactory.getInstance(SAAJMetaFactory.java:73) ~[jakarta.xml.soap-api-3.0.0.jar:3.0.0]\r\n\tat jakarta.xml.soap.MessageFactory.newInstance(MessageFactory.java:126) ~[jakarta.xml.soap-api-3.0.0.jar:3.0.0]\r\n\tat org.springframework.ws.soap.saaj.SaajSoapMessageFactory.afterPropertiesSet(SaajSoapMessageFactory.java:139) ~[spring-ws-core-4.0.5.jar:na]\r\n\t... 30 common frames omitted\r\n\r\n[2m2023-08-08T17:53:10.852+05:30[0;39m [31mERROR[0;39m [35m8736[0;39m [2m---[0;39m [2m[nio-8083-exec-1][0;39m [36mo.a.c.c.C.[Tomcat].[localhost].[/]      [0;39m [2m:[0;39m Servlet.init() for servlet [messageDispatcherServlet] threw exception\r\n\r\norg.springframework.beans.factory.BeanInitializationException: Could not initialize WebServiceMessageReceiverHandlerAdapter\r\n\tat org.springframework.ws.transport.http.MessageDispatcherServlet.initMessageReceiverHandlerAdapter(MessageDispatcherServlet.java:380) ~[spring-ws-core-4.0.5.jar:na]\r\n\tat org.springframework.ws.transport.http.MessageDispatcherServlet.initStrategies(MessageDispatcherServlet.java:361) ~[spring-ws-core-4.0.5.jar:na]\r\n\tat org.springframework.ws.transport.http.MessageDispatcherServlet.onRefresh(MessageDispatcherServlet.java:296) ~[spring-ws-core-4.0.5.jar:na]\r\n\tat org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:603) ~[spring-webmvc-6.0.11.jar:6.0.11]\r\n\tat org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:537) ~[spring-webmvc-6.0.11.jar:6.0.11]\r\n\tat org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:169) ~[spring-webmvc-6.0.11.jar:6.0.11]\r\n\tat jakarta.servlet.GenericServlet.init(GenericServlet.java:143) ~[tomcat-embed-core-10.1.11.jar:6.0]\r\n\tat jakarta.servlet.http.HttpServlet.init(HttpServlet.java:121) ~[tomcat-embed-core-10.1.11.jar:6.0]\r\n\tat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:944) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:662) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:114) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Invocation of init method failed\r\n\tat org.springframework.ws.support.DefaultStrategiesHelper.instantiateBean(DefaultStrategiesHelper.java:182) ~[spring-ws-core-4.0.5.jar:na]\r\n\tat org.springframework.ws.support.DefaultStrategiesHelper.getDefaultStrategies(DefaultStrategiesHelper.java:135) ~[spring-ws-core-4.0.5.jar:na]\r\n\tat org.springframework.ws.support.DefaultStrategiesHelper.getDefaultStrategy(DefaultStrategiesHelper.java:212) ~[spring-ws-core-4.0.5.jar:na]\r\n\tat org.springframework.ws.transport.http.MessageDispatcherServlet.initWebServiceMessageFactory(MessageDispatcherServlet.java:389) ~[spring-ws-core-4.0.5.jar:na]\r\n\tat org.springframework.ws.transport.http.MessageDispatcherServlet.initMessageReceiverHandlerAdapter(MessageDispatcherServlet.java:377) ~[spring-ws-core-4.0.5.jar:na]\r\n\t... 25 common frames omitted\r\nCaused by: org.springframework.ws.soap.SoapMessageCreationException: Could not create SAAJ MessageFactory: Unable to create SAAJ meta-factory: class com.sun.xml.messaging.saaj.soap.SAAJMetaFactoryImpl cannot be cast to class jakarta.xml.soap.SAAJMetaFactory (com.sun.xml.messaging.saaj.soap.SAAJMetaFactoryImpl and jakarta.xml.soap.SAAJMetaFactory are in unnamed module of loader &#39;app&#39;)\r\n\tat org.springframework.ws.soap.saaj.SaajSoapMessageFactory.afterPropertiesSet(SaajSoapMessageFactory.java:156) ~[spring-ws-core-4.0.5.jar:na]\r\n\tat org.springframework.ws.support.DefaultStrategiesHelper.instantiateBean(DefaultStrategiesHelper.java:180) ~[spring-ws-core-4.0.5.jar:na]\r\n\t... 29 common frames omitted\r\nCaused by: jakarta.xml.soap.SOAPException: Unable to create SAAJ meta-factory: class com.sun.xml.messaging.saaj.soap.SAAJMetaFactoryImpl cannot be cast to class jakarta.xml.soap.SAAJMetaFactory (com.sun.xml.messaging.saaj.soap.SAAJMetaFactoryImpl and jakarta.xml.soap.SAAJMetaFactory are in unnamed module of loader &#39;app&#39;)\r\n\tat jakarta.xml.soap.SAAJMetaFactory.getInstance(SAAJMetaFactory.java:73) ~[jakarta.xml.soap-api-3.0.0.jar:3.0.0]\r\n\tat jakarta.xml.soap.MessageFactory.newInstance(MessageFactory.java:126) ~[jakarta.xml.soap-api-3.0.0.jar:3.0.0]\r\n\tat org.springframework.ws.soap.saaj.SaajSoapMessageFactory.afterPropertiesSet(SaajSoapMessageFactory.java:139) ~[spring-ws-core-4.0.5.jar:na]\r\n\t... 30 common frames omitted\r\n\r\n[2m2023-08-08T17:53:10.853+05:30[0;39m [31mERROR[0;39m [35m8736[0;39m [2m---[0;39m [2m[nio-8083-exec-1][0;39m [36ma.c.c.C.[.[.[.[messageDispatcherServlet][0;39m [2m:[0;39m Allocate exception for servlet [messageDispatcherServlet]\r\n\r\njakarta.xml.soap.SOAPException: Unable to create SAAJ meta-factory: class com.sun.xml.messaging.saaj.soap.SAAJMetaFactoryImpl cannot be cast to class jakarta.xml.soap.SAAJMetaFactory (com.sun.xml.messaging.saaj.soap.SAAJMetaFactoryImpl and jakarta.xml.soap.SAAJMetaFactory are in unnamed module of loader &#39;app&#39;)\r\n\tat jakarta.xml.soap.SAAJMetaFactory.getInstance(SAAJMetaFactory.java:73) ~[jakarta.xml.soap-api-3.0.0.jar:3.0.0]\r\n\tat jakarta.xml.soap.MessageFactory.newInstance(MessageFactory.java:126) ~[jakarta.xml.soap-api-3.0.0.jar:3.0.0]\r\n\tat org.springframework.ws.soap.saaj.SaajSoapMessageFactory.afterPropertiesSet(SaajSoapMessageFactory.java:139) ~[spring-ws-core-4.0.5.jar:na]\r\n\tat org.springframework.ws.support.DefaultStrategiesHelper.instantiateBean(DefaultStrategiesHelper.java:180) ~[spring-ws-core-4.0.5.jar:na]\r\n\tat org.springframework.ws.support.DefaultStrategiesHelper.getDefaultStrategies(DefaultStrategiesHelper.java:135) ~[spring-ws-core-4.0.5.jar:na]\r\n\tat org.springframework.ws.support.DefaultStrategiesHelper.getDefaultStrategy(DefaultStrategiesHelper.java:212) ~[spring-ws-core-4.0.5.jar:na]\r\n\tat org.springframework.ws.transport.http.MessageDispatcherServlet.initWebServiceMessageFactory(MessageDispatcherServlet.java:389) ~[spring-ws-core-4.0.5.jar:na]\r\n\tat org.springframework.ws.transport.http.MessageDispatcherServlet.initMessageReceiverHandlerAdapter(MessageDispatcherServlet.java:377) ~[spring-ws-core-4.0.5.jar:na]\r\n\tat org.springframework.ws.transport.http.MessageDispatcherServlet.initStrategies(MessageDispatcherServlet.java:361) ~[spring-ws-core-4.0.5.jar:na]\r\n\tat org.springframework.ws.transport.http.MessageDispatcherServlet.onRefresh(MessageDispatcherServlet.java:296) ~[spring-ws-core-4.0.5.jar:na]\r\n\tat org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:603) ~[spring-webmvc-6.0.11.jar:6.0.11]\r\n\tat org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:537) ~[spring-webmvc-6.0.11.jar:6.0.11]\r\n\tat org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:169) ~[spring-webmvc-6.0.11.jar:6.0.11]\r\n\tat jakarta.servlet.GenericServlet.init(GenericServlet.java:143) ~[tomcat-embed-core-10.1.11.jar:6.0]\r\n\tat jakarta.servlet.http.HttpServlet.init(HttpServlet.java:121) ~[tomcat-embed-core-10.1.11.jar:6.0]\r\n\tat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:944) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:662) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:114) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\n~~~\r\n\r\nHere, is the POM file\r\n~~~\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;bbpslite&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;bbpslite&lt;/name&gt;\r\n\t&lt;description&gt;BBPS Lite for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;start-class&gt;com.ci.lite.BliteApplication&lt;/start-class&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;!--\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt; --&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/jakarta.servlet/jakarta.servlet-api --&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!--\r\n\t\thttps://mvnrepository.com/artifact/org.springdoc/springdoc-openapi-ui --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;!--\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt; --&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.uuid&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;java-uuid-generator&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;redis.clients&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jedis&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;wsdl4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;wsdl4j&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt; \r\n\t\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api \r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.0&lt;/version&gt; \r\n\t\t&lt;/dependency&gt; --&gt;\r\n\t&lt;!-- https://mvnrepository.com/artifact/jakarta.xml.ws/jakarta.xml.ws-api --&gt;\r\n&lt;!-- &lt;dependency&gt;\r\n    &lt;groupId&gt;jakarta.xml.soap&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.xml.soap-api&lt;/artifactId&gt;\r\n    &lt;version&gt;1.4.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n--&gt;\r\n&lt;!-- https://mvnrepository.com/artifact/javax.xml.soap/javax.xml.soap-api --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.xml.soap&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.xml.soap-api&lt;/artifactId&gt;\r\n    &lt;version&gt;1.4.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;jakarta.xml.soap&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.xml.soap-api&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;!-- https://mvnrepository.com/artifact/org.springframework.ws/spring-ws-core --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.ws&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-ws-core&lt;/artifactId&gt;\r\n    &lt;version&gt;4.0.5&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\r\n    &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\r\n    &lt;version&gt;1.5.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\t\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;xsd1&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;xjc&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;sources&gt;\r\n\t\t\t\t\t\t\t\t&lt;source&gt;\r\n\t\t\t\t\t\t\t\t\tsrc/main/resources/xsd/request/customerBBPOUToBBPCU.xsd&lt;/source&gt;\r\n\t\t\t\t\t\t\t&lt;/sources&gt;\r\n\t\t\t\t\t\t\t&lt;packageName&gt;com.ci.lite.jaxb.request&lt;/packageName&gt;\r\n\t\t\t\t\t\t\t&lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t    &lt;execution&gt;\r\n                    &lt;id&gt;xsd2&lt;/id&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;xjc&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;sources&gt;\r\n                            &lt;source&gt;src/main/resources/xsd/request/billFetchresponse.xsd&lt;/source&gt;\r\n                        &lt;/sources&gt;\r\n                        &lt;packageName&gt;com.ci.lite.jaxb.response&lt;/packageName&gt;\r\n                        &lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\r\n                    &lt;/configuration&gt;\r\n                 &lt;/execution&gt; \r\n                   &lt;execution&gt;\r\n                    &lt;id&gt;xsd3&lt;/id&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;xjc&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;sources&gt;\r\n                            &lt;source&gt;src/main/resources/xsd/request/countries.xsd&lt;/source&gt;\r\n                        &lt;/sources&gt;\r\n                        &lt;packageName&gt;com.ci.lite.jaxb.countries&lt;/packageName&gt;\r\n                        &lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\r\n                    &lt;/configuration&gt;\r\n                 &lt;/execution&gt; \r\n\t\t\t\t&lt;/executions&gt;\r\n\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n~~~\r\nThis is config for the SOAP service\r\n~~~\r\nimport org.springframework.boot.web.servlet.ServletRegistrationBean;\r\nimport org.springframework.context.ApplicationContext;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.core.io.ClassPathResource;\r\nimport org.springframework.ws.config.annotation.EnableWs;\r\nimport org.springframework.ws.config.annotation.WsConfigurerAdapter;\r\nimport org.springframework.ws.transport.http.MessageDispatcherServlet;\r\nimport org.springframework.ws.wsdl.wsdl11.DefaultWsdl11Definition;\r\nimport org.springframework.xml.xsd.SimpleXsdSchema;\r\nimport org.springframework.xml.xsd.XsdSchema;\r\n\r\n@EnableWs\r\n@Configuration\r\npublic class SoapWSConfig extends WsConfigurerAdapter {\r\n    @Bean(name = &quot;countries&quot;)\r\n    public DefaultWsdl11Definition defaultWsdl11Definition(XsdSchema xsdSchema) {\r\n        DefaultWsdl11Definition wsdl11Definition = new DefaultWsdl11Definition();\r\n        wsdl11Definition.setPortTypeName(&quot;CountriesPort&quot;);\r\n        wsdl11Definition.setLocationUri(&quot;/ws&quot;);\r\n        wsdl11Definition.setTargetNamespace(&quot;http://spring.io/guides/gs-producing-web-service&quot;);\r\n        wsdl11Definition.setSchema(xsdSchema);\r\n        return wsdl11Definition;\r\n    }\r\n\r\n    @Bean\r\n    public XsdSchema xsdSchema() {\r\n        return new SimpleXsdSchema(new ClassPathResource(&quot;xsd/request/countries.xsd&quot;));\r\n    }\r\n}\r\n~~~\r\nHow could I resolve this?\r\n","title":"Spring boot Context initialization failed exception","body":"<p>I'm getting this exception and unable to solve it. Also, unable to find the root cause this exception. The same code is working in another project, with less dependencies. Why this is happening? The versions are the same as I have used in the both projects.</p>\n<pre><code>org.springframework.beans.factory.BeanInitializationException: Could not initialize WebServiceMessageReceiverHandlerAdapter\n    at org.springframework.ws.transport.http.MessageDispatcherServlet.initMessageReceiverHandlerAdapter(MessageDispatcherServlet.java:380) ~[spring-ws-core-4.0.5.jar:na]\n    at org.springframework.ws.transport.http.MessageDispatcherServlet.initStrategies(MessageDispatcherServlet.java:361) ~[spring-ws-core-4.0.5.jar:na]\n    at org.springframework.ws.transport.http.MessageDispatcherServlet.onRefresh(MessageDispatcherServlet.java:296) ~[spring-ws-core-4.0.5.jar:na]\n    at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:603) ~[spring-webmvc-6.0.11.jar:6.0.11]\n    at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:537) ~[spring-webmvc-6.0.11.jar:6.0.11]\n    at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:169) ~[spring-webmvc-6.0.11.jar:6.0.11]\n    at jakarta.servlet.GenericServlet.init(GenericServlet.java:143) ~[tomcat-embed-core-10.1.11.jar:6.0]\n    at jakarta.servlet.http.HttpServlet.init(HttpServlet.java:121) ~[tomcat-embed-core-10.1.11.jar:6.0]\n    at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:944) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:662) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:114) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\nCaused by: org.springframework.beans.factory.BeanCreationException: Invocation of init method failed\n    at org.springframework.ws.support.DefaultStrategiesHelper.instantiateBean(DefaultStrategiesHelper.java:182) ~[spring-ws-core-4.0.5.jar:na]\n    at org.springframework.ws.support.DefaultStrategiesHelper.getDefaultStrategies(DefaultStrategiesHelper.java:135) ~[spring-ws-core-4.0.5.jar:na]\n    at org.springframework.ws.support.DefaultStrategiesHelper.getDefaultStrategy(DefaultStrategiesHelper.java:212) ~[spring-ws-core-4.0.5.jar:na]\n    at org.springframework.ws.transport.http.MessageDispatcherServlet.initWebServiceMessageFactory(MessageDispatcherServlet.java:389) ~[spring-ws-core-4.0.5.jar:na]\n    at org.springframework.ws.transport.http.MessageDispatcherServlet.initMessageReceiverHandlerAdapter(MessageDispatcherServlet.java:377) ~[spring-ws-core-4.0.5.jar:na]\n    ... 25 common frames omitted\nCaused by: org.springframework.ws.soap.SoapMessageCreationException: Could not create SAAJ MessageFactory: Unable to create SAAJ meta-factory: class com.sun.xml.messaging.saaj.soap.SAAJMetaFactoryImpl cannot be cast to class jakarta.xml.soap.SAAJMetaFactory (com.sun.xml.messaging.saaj.soap.SAAJMetaFactoryImpl and jakarta.xml.soap.SAAJMetaFactory are in unnamed module of loader 'app')\n    at org.springframework.ws.soap.saaj.SaajSoapMessageFactory.afterPropertiesSet(SaajSoapMessageFactory.java:156) ~[spring-ws-core-4.0.5.jar:na]\n    at org.springframework.ws.support.DefaultStrategiesHelper.instantiateBean(DefaultStrategiesHelper.java:180) ~[spring-ws-core-4.0.5.jar:na]\n    ... 29 common frames omitted\nCaused by: jakarta.xml.soap.SOAPException: Unable to create SAAJ meta-factory: class com.sun.xml.messaging.saaj.soap.SAAJMetaFactoryImpl cannot be cast to class jakarta.xml.soap.SAAJMetaFactory (com.sun.xml.messaging.saaj.soap.SAAJMetaFactoryImpl and jakarta.xml.soap.SAAJMetaFactory are in unnamed module of loader 'app')\n    at jakarta.xml.soap.SAAJMetaFactory.getInstance(SAAJMetaFactory.java:73) ~[jakarta.xml.soap-api-3.0.0.jar:3.0.0]\n    at jakarta.xml.soap.MessageFactory.newInstance(MessageFactory.java:126) ~[jakarta.xml.soap-api-3.0.0.jar:3.0.0]\n    at org.springframework.ws.soap.saaj.SaajSoapMessageFactory.afterPropertiesSet(SaajSoapMessageFactory.java:139) ~[spring-ws-core-4.0.5.jar:na]\n    ... 30 common frames omitted\n\n[2m2023-08-08T17:53:10.852+05:30[0;39m [31mERROR[0;39m [35m8736[0;39m [2m---[0;39m [2m[nio-8083-exec-1][0;39m [36mo.a.c.c.C.[Tomcat].[localhost].[/]      [0;39m [2m:[0;39m Servlet.init() for servlet [messageDispatcherServlet] threw exception\n\norg.springframework.beans.factory.BeanInitializationException: Could not initialize WebServiceMessageReceiverHandlerAdapter\n    at org.springframework.ws.transport.http.MessageDispatcherServlet.initMessageReceiverHandlerAdapter(MessageDispatcherServlet.java:380) ~[spring-ws-core-4.0.5.jar:na]\n    at org.springframework.ws.transport.http.MessageDispatcherServlet.initStrategies(MessageDispatcherServlet.java:361) ~[spring-ws-core-4.0.5.jar:na]\n    at org.springframework.ws.transport.http.MessageDispatcherServlet.onRefresh(MessageDispatcherServlet.java:296) ~[spring-ws-core-4.0.5.jar:na]\n    at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:603) ~[spring-webmvc-6.0.11.jar:6.0.11]\n    at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:537) ~[spring-webmvc-6.0.11.jar:6.0.11]\n    at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:169) ~[spring-webmvc-6.0.11.jar:6.0.11]\n    at jakarta.servlet.GenericServlet.init(GenericServlet.java:143) ~[tomcat-embed-core-10.1.11.jar:6.0]\n    at jakarta.servlet.http.HttpServlet.init(HttpServlet.java:121) ~[tomcat-embed-core-10.1.11.jar:6.0]\n    at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:944) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:662) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:114) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\nCaused by: org.springframework.beans.factory.BeanCreationException: Invocation of init method failed\n    at org.springframework.ws.support.DefaultStrategiesHelper.instantiateBean(DefaultStrategiesHelper.java:182) ~[spring-ws-core-4.0.5.jar:na]\n    at org.springframework.ws.support.DefaultStrategiesHelper.getDefaultStrategies(DefaultStrategiesHelper.java:135) ~[spring-ws-core-4.0.5.jar:na]\n    at org.springframework.ws.support.DefaultStrategiesHelper.getDefaultStrategy(DefaultStrategiesHelper.java:212) ~[spring-ws-core-4.0.5.jar:na]\n    at org.springframework.ws.transport.http.MessageDispatcherServlet.initWebServiceMessageFactory(MessageDispatcherServlet.java:389) ~[spring-ws-core-4.0.5.jar:na]\n    at org.springframework.ws.transport.http.MessageDispatcherServlet.initMessageReceiverHandlerAdapter(MessageDispatcherServlet.java:377) ~[spring-ws-core-4.0.5.jar:na]\n    ... 25 common frames omitted\nCaused by: org.springframework.ws.soap.SoapMessageCreationException: Could not create SAAJ MessageFactory: Unable to create SAAJ meta-factory: class com.sun.xml.messaging.saaj.soap.SAAJMetaFactoryImpl cannot be cast to class jakarta.xml.soap.SAAJMetaFactory (com.sun.xml.messaging.saaj.soap.SAAJMetaFactoryImpl and jakarta.xml.soap.SAAJMetaFactory are in unnamed module of loader 'app')\n    at org.springframework.ws.soap.saaj.SaajSoapMessageFactory.afterPropertiesSet(SaajSoapMessageFactory.java:156) ~[spring-ws-core-4.0.5.jar:na]\n    at org.springframework.ws.support.DefaultStrategiesHelper.instantiateBean(DefaultStrategiesHelper.java:180) ~[spring-ws-core-4.0.5.jar:na]\n    ... 29 common frames omitted\nCaused by: jakarta.xml.soap.SOAPException: Unable to create SAAJ meta-factory: class com.sun.xml.messaging.saaj.soap.SAAJMetaFactoryImpl cannot be cast to class jakarta.xml.soap.SAAJMetaFactory (com.sun.xml.messaging.saaj.soap.SAAJMetaFactoryImpl and jakarta.xml.soap.SAAJMetaFactory are in unnamed module of loader 'app')\n    at jakarta.xml.soap.SAAJMetaFactory.getInstance(SAAJMetaFactory.java:73) ~[jakarta.xml.soap-api-3.0.0.jar:3.0.0]\n    at jakarta.xml.soap.MessageFactory.newInstance(MessageFactory.java:126) ~[jakarta.xml.soap-api-3.0.0.jar:3.0.0]\n    at org.springframework.ws.soap.saaj.SaajSoapMessageFactory.afterPropertiesSet(SaajSoapMessageFactory.java:139) ~[spring-ws-core-4.0.5.jar:na]\n    ... 30 common frames omitted\n\n[2m2023-08-08T17:53:10.853+05:30[0;39m [31mERROR[0;39m [35m8736[0;39m [2m---[0;39m [2m[nio-8083-exec-1][0;39m [36ma.c.c.C.[.[.[.[messageDispatcherServlet][0;39m [2m:[0;39m Allocate exception for servlet [messageDispatcherServlet]\n\njakarta.xml.soap.SOAPException: Unable to create SAAJ meta-factory: class com.sun.xml.messaging.saaj.soap.SAAJMetaFactoryImpl cannot be cast to class jakarta.xml.soap.SAAJMetaFactory (com.sun.xml.messaging.saaj.soap.SAAJMetaFactoryImpl and jakarta.xml.soap.SAAJMetaFactory are in unnamed module of loader 'app')\n    at jakarta.xml.soap.SAAJMetaFactory.getInstance(SAAJMetaFactory.java:73) ~[jakarta.xml.soap-api-3.0.0.jar:3.0.0]\n    at jakarta.xml.soap.MessageFactory.newInstance(MessageFactory.java:126) ~[jakarta.xml.soap-api-3.0.0.jar:3.0.0]\n    at org.springframework.ws.soap.saaj.SaajSoapMessageFactory.afterPropertiesSet(SaajSoapMessageFactory.java:139) ~[spring-ws-core-4.0.5.jar:na]\n    at org.springframework.ws.support.DefaultStrategiesHelper.instantiateBean(DefaultStrategiesHelper.java:180) ~[spring-ws-core-4.0.5.jar:na]\n    at org.springframework.ws.support.DefaultStrategiesHelper.getDefaultStrategies(DefaultStrategiesHelper.java:135) ~[spring-ws-core-4.0.5.jar:na]\n    at org.springframework.ws.support.DefaultStrategiesHelper.getDefaultStrategy(DefaultStrategiesHelper.java:212) ~[spring-ws-core-4.0.5.jar:na]\n    at org.springframework.ws.transport.http.MessageDispatcherServlet.initWebServiceMessageFactory(MessageDispatcherServlet.java:389) ~[spring-ws-core-4.0.5.jar:na]\n    at org.springframework.ws.transport.http.MessageDispatcherServlet.initMessageReceiverHandlerAdapter(MessageDispatcherServlet.java:377) ~[spring-ws-core-4.0.5.jar:na]\n    at org.springframework.ws.transport.http.MessageDispatcherServlet.initStrategies(MessageDispatcherServlet.java:361) ~[spring-ws-core-4.0.5.jar:na]\n    at org.springframework.ws.transport.http.MessageDispatcherServlet.onRefresh(MessageDispatcherServlet.java:296) ~[spring-ws-core-4.0.5.jar:na]\n    at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:603) ~[spring-webmvc-6.0.11.jar:6.0.11]\n    at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:537) ~[spring-webmvc-6.0.11.jar:6.0.11]\n    at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:169) ~[spring-webmvc-6.0.11.jar:6.0.11]\n    at jakarta.servlet.GenericServlet.init(GenericServlet.java:143) ~[tomcat-embed-core-10.1.11.jar:6.0]\n    at jakarta.servlet.http.HttpServlet.init(HttpServlet.java:121) ~[tomcat-embed-core-10.1.11.jar:6.0]\n    at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:944) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:662) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:114) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n\n</code></pre>\n<p>Here, is the POM file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;bbpslite&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;bbpslite&lt;/name&gt;\n    &lt;description&gt;BBPS Lite for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;start-class&gt;com.ci.lite.BliteApplication&lt;/start-class&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;!--    &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt; --&gt;\n        &lt;!-- https://mvnrepository.com/artifact/jakarta.servlet/jakarta.servlet-api --&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--\n        https://mvnrepository.com/artifact/org.springdoc/springdoc-openapi-ui --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.7.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;!--    &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt; --&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.uuid&lt;/groupId&gt;\n            &lt;artifactId&gt;java-uuid-generator&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;redis.clients&lt;/groupId&gt;\n            &lt;artifactId&gt;jedis&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;wsdl4j&lt;/groupId&gt;\n            &lt;artifactId&gt;wsdl4j&lt;/artifactId&gt;\n        &lt;/dependency&gt; \n    \n        &lt;!-- https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api \n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt; \n        &lt;/dependency&gt; --&gt;\n    &lt;!-- https://mvnrepository.com/artifact/jakarta.xml.ws/jakarta.xml.ws-api --&gt;\n&lt;!-- &lt;dependency&gt;\n    &lt;groupId&gt;jakarta.xml.soap&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.xml.soap-api&lt;/artifactId&gt;\n    &lt;version&gt;1.4.2&lt;/version&gt;\n&lt;/dependency&gt;\n--&gt;\n&lt;!-- https://mvnrepository.com/artifact/javax.xml.soap/javax.xml.soap-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.xml.soap&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.xml.soap-api&lt;/artifactId&gt;\n    &lt;version&gt;1.4.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.xml.soap&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.xml.soap-api&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.springframework.ws/spring-ws-core --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.ws&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-ws-core&lt;/artifactId&gt;\n    &lt;version&gt;4.0.5&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\n    &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\n    &lt;version&gt;1.5.2&lt;/version&gt;\n&lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n    \n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;xsd1&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;xjc&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;sources&gt;\n                                &lt;source&gt;\n                                    src/main/resources/xsd/request/customerBBPOUToBBPCU.xsd&lt;/source&gt;\n                            &lt;/sources&gt;\n                            &lt;packageName&gt;com.ci.lite.jaxb.request&lt;/packageName&gt;\n                            &lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                        &lt;execution&gt;\n                    &lt;id&gt;xsd2&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;xjc&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;sources&gt;\n                            &lt;source&gt;src/main/resources/xsd/request/billFetchresponse.xsd&lt;/source&gt;\n                        &lt;/sources&gt;\n                        &lt;packageName&gt;com.ci.lite.jaxb.response&lt;/packageName&gt;\n                        &lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\n                    &lt;/configuration&gt;\n                 &lt;/execution&gt; \n                   &lt;execution&gt;\n                    &lt;id&gt;xsd3&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;xjc&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;sources&gt;\n                            &lt;source&gt;src/main/resources/xsd/request/countries.xsd&lt;/source&gt;\n                        &lt;/sources&gt;\n                        &lt;packageName&gt;com.ci.lite.jaxb.countries&lt;/packageName&gt;\n                        &lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\n                    &lt;/configuration&gt;\n                 &lt;/execution&gt; \n                &lt;/executions&gt;\n\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>This is config for the SOAP service</p>\n<pre><code>import org.springframework.boot.web.servlet.ServletRegistrationBean;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.io.ClassPathResource;\nimport org.springframework.ws.config.annotation.EnableWs;\nimport org.springframework.ws.config.annotation.WsConfigurerAdapter;\nimport org.springframework.ws.transport.http.MessageDispatcherServlet;\nimport org.springframework.ws.wsdl.wsdl11.DefaultWsdl11Definition;\nimport org.springframework.xml.xsd.SimpleXsdSchema;\nimport org.springframework.xml.xsd.XsdSchema;\n\n@EnableWs\n@Configuration\npublic class SoapWSConfig extends WsConfigurerAdapter {\n    @Bean(name = &quot;countries&quot;)\n    public DefaultWsdl11Definition defaultWsdl11Definition(XsdSchema xsdSchema) {\n        DefaultWsdl11Definition wsdl11Definition = new DefaultWsdl11Definition();\n        wsdl11Definition.setPortTypeName(&quot;CountriesPort&quot;);\n        wsdl11Definition.setLocationUri(&quot;/ws&quot;);\n        wsdl11Definition.setTargetNamespace(&quot;http://spring.io/guides/gs-producing-web-service&quot;);\n        wsdl11Definition.setSchema(xsdSchema);\n        return wsdl11Definition;\n    }\n\n    @Bean\n    public XsdSchema xsdSchema() {\n        return new SimpleXsdSchema(new ClassPathResource(&quot;xsd/request/countries.xsd&quot;));\n    }\n}\n</code></pre>\n<p>How could I resolve this?</p>\n"},{"tags":["java","mariadb","spring-batch"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1680304081,"post_id":75903185,"comment_id":133881576,"body_markdown":"Either your new DB table does not have an id column, or id column named as the id in the query (or both). It potentially should be an Auto increment id system depending how row id&#39;s are created. The entity id for the query may not match either.","body":"Either your new DB table does not have an id column, or id column named as the id in the query (or both). It potentially should be an Auto increment id system depending how row id&#39;s are created. The entity id for the query may not match either."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1680324886,"post_id":75903185,"comment_id":133883223,"body_markdown":"Which MariaDB version do you use? We have a test that validates the DDL schema that you shared and it passes with MariaDB 10.9.3, see https://github.com/spring-projects/spring-batch/blob/main/spring-batch-core/src/test/java/org/springframework/batch/core/test/repository/MariaDBJobRepositoryIntegrationTests.java.","body":"Which MariaDB version do you use? We have a test that validates the DDL schema that you shared and it passes with MariaDB 10.9.3, see <a href=\"https://github.com/spring-projects/spring-batch/blob/main/spring-batch-core/src/test/java/org/springframework/batch/core/test/repository/MariaDBJobRepositoryIntegrationTests.java\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-batch/blob/main/&hellip;</a>."},{"owner":{"account_id":27986564,"reputation":1,"user_id":21373259,"display_name":"RizS"},"score":0,"creation_date":1680398313,"post_id":75903185,"comment_id":133891652,"body_markdown":"I am using version 10.11.1-MariaDB. I can try installing 10.9.3 and let you know the results.","body":"I am using version 10.11.1-MariaDB. I can try installing 10.9.3 and let you know the results."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1680531741,"post_id":75903185,"comment_id":133909906,"body_markdown":"The test I shared passes with MariaDB 10.11.2. So please provide a minimal example that reproduces the issue to be able to help you: https://stackoverflow.com/help/minimal-reproducible-example.","body":"The test I shared passes with MariaDB 10.11.2. So please provide a minimal example that reproduces the issue to be able to help you: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>."},{"owner":{"account_id":27986564,"reputation":1,"user_id":21373259,"display_name":"RizS"},"score":0,"creation_date":1680622091,"post_id":75903185,"comment_id":133927523,"body_markdown":"@MahmoudBenHassine I have updated the question with example. Thank you again for your help.","body":"@MahmoudBenHassine I have updated the question with example. Thank you again for your help."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1680699316,"post_id":75903185,"comment_id":133942009,"body_markdown":"I am not able to reproduce your issue, see complete example here: https://github.com/fmbenhassine/spring-batch-lab/tree/main/issues/so75903185.","body":"I am not able to reproduce your issue, see complete example here: <a href=\"https://github.com/fmbenhassine/spring-batch-lab/tree/main/issues/so75903185\" rel=\"nofollow noreferrer\">github.com/fmbenhassine/spring-batch-lab/tree/main/issues/&hellip;</a>."}],"answers":[{"tags":[],"owner":{"account_id":24784464,"reputation":1,"user_id":18667792,"display_name":"Raphael Otterbach"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691509873,"creation_date":1691509851,"answer_id":76861217,"question_id":75903185,"body_markdown":"Looks like you are missing a column named ID, which is logged here \r\n\r\n&gt; Caused by: java.sql.SQLSyntaxErrorException: Unknown column &#39;ID&#39; in &#39;field list&#39;\r\n\r\nI could not find any column named ID in the script. Maybe let Hibernate generate the Batch Tables with this property in your application.properties\r\n\r\n&gt; spring.batch.jdbc.initialize-schema=ALWAYS","title":"Using Spring Batch with MariaDB giving error","body":"<p>Looks like you are missing a column named ID, which is logged here</p>\n<blockquote>\n<p>Caused by: java.sql.SQLSyntaxErrorException: Unknown column 'ID' in 'field list'</p>\n</blockquote>\n<p>I could not find any column named ID in the script. Maybe let Hibernate generate the Batch Tables with this property in your application.properties</p>\n<blockquote>\n<p>spring.batch.jdbc.initialize-schema=ALWAYS</p>\n</blockquote>\n"}],"owner":{"account_id":27986564,"reputation":1,"user_id":21373259,"display_name":"RizS"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691509873,"creation_date":1680301498,"question_id":75903185,"body_markdown":"I have a small Batch application. If I run it with H2 Database it works fine however when I use my actual database it gave error.  \r\n\r\nThe Application.java file shown below\r\n\r\n```\r\n@SpringBootApplication()\r\npublic class Application implements CommandLineRunner {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(FaxProcesser35Application.class, args);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run(String... args) throws Exception {\r\n\t\tSystem.out.println(&quot;Starting the job&quot;);\r\n\t}\r\n}\r\n```\r\nThe reason why I am using `CommandLineRunner` is because without it the job was not running.\r\n\r\nThe code of JobConfig.java is given below\r\n\r\n```\r\n@Configuration\r\npublic class JobConfig {\r\n\r\n    @Autowired\r\n    private JobRepository jobRepository;\r\n    @Autowired\r\n    private PlatformTransactionManager transactionManager;\r\n\r\n\r\n\r\n    @Bean\r\n    public Tasklet myTasklet() {\r\n        System.out.println(&quot;tasklet method was called&quot;);\r\n        return new MyTasklet() ;\r\n    }\r\n\r\n    @Bean\r\n    public Step myStep(JobRepository jobRepository, Tasklet myTasklet, PlatformTransactionManager transactionManager) {\r\n        return new StepBuilder(&quot;myStep&quot;, jobRepository)\r\n                .tasklet(myTasklet, transactionManager) // or .chunk(chunkSize, transactionManager)\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public Job myJob() {\r\n        System.out.println(&quot;Job Method was called&quot;);\r\n        return new JobBuilder(&quot;myJob&quot;, jobRepository)\r\n                .start(myStep(jobRepository, myTasklet(), transactionManager))\r\n                .build();\r\n    }\r\n\r\n    private class MyTasklet implements Tasklet {\r\n        @Override\r\n        public RepeatStatus execute(StepContribution  stepContribution, ChunkContext chunkContext) throws Exception {\r\n            System.out.println(&quot;Running MyTasklet&quot;);\r\n            return RepeatStatus.FINISHED;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe application.properties files is list as below\r\n\r\n```\r\n#--------------------- DB Connection ------------------\r\n#spring.datasource.driver-class-name=com.mariadb.jdbc.Driver\r\n#spring.datasource.url=jdbc:mariadb://localhost:3306/database\r\n\r\nspring.datasource.url=jdbc:mysql://localhost:3306/database\r\nspring.datasource.username=username\r\nspring.datasource.password=password\r\n\r\n```\r\nAt first it said unable to find tables. So I create the tables by manually running [this script](https://github.com/spring-projects/spring-batch/blob/main/spring-batch-core/src/main/resources/org/springframework/batch/core/schema-mariadb.sql)\r\n\r\nHowever now its giving error `Could not increment ID for BATCH_JOB_SEQ sequence table` and `Unknown column &#39;ID&#39; in &#39;field list&#39;`\r\n\r\nI ran `describe BATCH_JOB_SEQ ;` got following response \r\n\r\n```\r\n+-----------------------+---------------------+------+-----+---------+-------+\r\n| Field                 | Type                | Null | Key | Default | Extra |\r\n+-----------------------+---------------------+------+-----+---------+-------+\r\n| next_not_cached_value | bigint(21)          | NO   |     | NULL    |       |\r\n| minimum_value         | bigint(21)          | NO   |     | NULL    |       |\r\n| maximum_value         | bigint(21)          | NO   |     | NULL    |       |\r\n| start_value           | bigint(21)          | NO   |     | NULL    |       |\r\n| increment             | bigint(21)          | NO   |     | NULL    |       |\r\n| cache_size            | bigint(21) unsigned | NO   |     | NULL    |       |\r\n| cycle_option          | tinyint(1) unsigned | NO   |     | NULL    |       |\r\n| cycle_count           | bigint(21)          | NO   |     | NULL    |       |\r\n+-----------------------+---------------------+------+-----+---------+-------+\r\n8 rows in set (0.017 sec)\r\n```\r\n\r\n\r\nThe complete error is given below\r\n\r\n```\r\njava.lang.IllegalStateException: Failed to execute ApplicationRunner\r\n\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:763) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:750) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:317) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat com.ahmadiyya.LetterTohazoor.faxprocesser35.FaxProcesser35Application.main(FaxProcesser35Application.java:15) ~[classes/:na]\r\nCaused by: org.springframework.dao.DataAccessResourceFailureException: Could not increment ID for BATCH_JOB_SEQ sequence table\r\n\tat org.springframework.jdbc.support.incrementer.MySQLMaxValueIncrementer.getNextKey(MySQLMaxValueIncrementer.java:153) ~[spring-jdbc-6.0.7.jar:6.0.7]\r\n\tat org.springframework.jdbc.support.incrementer.AbstractDataFieldMaxValueIncrementer.nextLongValue(AbstractDataFieldMaxValueIncrementer.java:128) ~[spring-jdbc-6.0.7.jar:6.0.7]\r\n\tat org.springframework.batch.core.repository.dao.JdbcJobInstanceDao.createJobInstance(JdbcJobInstanceDao.java:110) ~[spring-batch-core-5.0.1.jar:5.0.1]\r\n\tat org.springframework.batch.core.repository.support.SimpleJobRepository.createJobExecution(SimpleJobRepository.java:168) ~[spring-batch-core-5.0.1.jar:5.0.1]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.7.jar:6.0.7]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.7.jar:6.0.7]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.7.jar:6.0.7]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.7.jar:6.0.7]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.7.jar:6.0.7]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.7.jar:6.0.7]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.7.jar:6.0.7]\r\n\tat org.springframework.batch.core.repository.support.AbstractJobRepositoryFactoryBean$1.invoke(AbstractJobRepositoryFactoryBean.java:207) ~[spring-batch-core-5.0.1.jar:5.0.1]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.7.jar:6.0.7]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218) ~[spring-aop-6.0.7.jar:6.0.7]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy68.createJobExecution(Unknown Source) ~[na:na]\r\n\tat org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:145) ~[spring-batch-core-5.0.1.jar:5.0.1]\r\n\tat org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.run(TaskExecutorJobLauncher.java:70) ~[spring-batch-core-5.0.1.jar:5.0.1]\r\n\tat org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.execute(JobLauncherApplicationRunner.java:199) ~[spring-boot-autoconfigure-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.executeLocalJobs(JobLauncherApplicationRunner.java:178) ~[spring-boot-autoconfigure-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.launchJobFromProperties(JobLauncherApplicationRunner.java:166) ~[spring-boot-autoconfigure-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.run(JobLauncherApplicationRunner.java:161) ~[spring-boot-autoconfigure-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.run(JobLauncherApplicationRunner.java:156) ~[spring-boot-autoconfigure-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:760) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\t... 5 common frames omitted\r\nCaused by: java.sql.SQLSyntaxErrorException: Unknown column &#39;ID&#39; in &#39;field list&#39;\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120) ~[mysql-connector-j-8.0.32.jar:8.0.32]\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.32.jar:8.0.32]\r\n\tat com.mysql.cj.jdbc.StatementImpl.executeUpdateInternal(StatementImpl.java:1334) ~[mysql-connector-j-8.0.32.jar:8.0.32]\r\n\tat com.mysql.cj.jdbc.StatementImpl.executeLargeUpdate(StatementImpl.java:2084) ~[mysql-connector-j-8.0.32.jar:8.0.32]\r\n\tat com.mysql.cj.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1245) ~[mysql-connector-j-8.0.32.jar:8.0.32]\r\n\tat com.zaxxer.hikari.pool.ProxyStatement.executeUpdate(ProxyStatement.java:119) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyStatement.executeUpdate(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]\r\n\tat org.springframework.jdbc.support.incrementer.MySQLMaxValueIncrementer.getNextKey(MySQLMaxValueIncrementer.java:148) ~[spring-jdbc-6.0.7.jar:6.0.7]\r\n\t... 31 common frames omitted\r\n```\r\n","title":"Using Spring Batch with MariaDB giving error","body":"<p>I have a small Batch application. If I run it with H2 Database it works fine however when I use my actual database it gave error.</p>\n<p>The Application.java file shown below</p>\n<pre><code>@SpringBootApplication()\npublic class Application implements CommandLineRunner {\n\n    public static void main(String[] args) {\n        SpringApplication.run(FaxProcesser35Application.class, args);\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n        System.out.println(&quot;Starting the job&quot;);\n    }\n}\n</code></pre>\n<p>The reason why I am using <code>CommandLineRunner</code> is because without it the job was not running.</p>\n<p>The code of JobConfig.java is given below</p>\n<pre><code>@Configuration\npublic class JobConfig {\n\n    @Autowired\n    private JobRepository jobRepository;\n    @Autowired\n    private PlatformTransactionManager transactionManager;\n\n\n\n    @Bean\n    public Tasklet myTasklet() {\n        System.out.println(&quot;tasklet method was called&quot;);\n        return new MyTasklet() ;\n    }\n\n    @Bean\n    public Step myStep(JobRepository jobRepository, Tasklet myTasklet, PlatformTransactionManager transactionManager) {\n        return new StepBuilder(&quot;myStep&quot;, jobRepository)\n                .tasklet(myTasklet, transactionManager) // or .chunk(chunkSize, transactionManager)\n                .build();\n    }\n\n    @Bean\n    public Job myJob() {\n        System.out.println(&quot;Job Method was called&quot;);\n        return new JobBuilder(&quot;myJob&quot;, jobRepository)\n                .start(myStep(jobRepository, myTasklet(), transactionManager))\n                .build();\n    }\n\n    private class MyTasklet implements Tasklet {\n        @Override\n        public RepeatStatus execute(StepContribution  stepContribution, ChunkContext chunkContext) throws Exception {\n            System.out.println(&quot;Running MyTasklet&quot;);\n            return RepeatStatus.FINISHED;\n        }\n    }\n}\n</code></pre>\n<p>The application.properties files is list as below</p>\n<pre><code>#--------------------- DB Connection ------------------\n#spring.datasource.driver-class-name=com.mariadb.jdbc.Driver\n#spring.datasource.url=jdbc:mariadb://localhost:3306/database\n\nspring.datasource.url=jdbc:mysql://localhost:3306/database\nspring.datasource.username=username\nspring.datasource.password=password\n\n</code></pre>\n<p>At first it said unable to find tables. So I create the tables by manually running <a href=\"https://github.com/spring-projects/spring-batch/blob/main/spring-batch-core/src/main/resources/org/springframework/batch/core/schema-mariadb.sql\" rel=\"nofollow noreferrer\">this script</a></p>\n<p>However now its giving error <code>Could not increment ID for BATCH_JOB_SEQ sequence table</code> and <code>Unknown column 'ID' in 'field list'</code></p>\n<p>I ran <code>describe BATCH_JOB_SEQ ;</code> got following response</p>\n<pre><code>+-----------------------+---------------------+------+-----+---------+-------+\n| Field                 | Type                | Null | Key | Default | Extra |\n+-----------------------+---------------------+------+-----+---------+-------+\n| next_not_cached_value | bigint(21)          | NO   |     | NULL    |       |\n| minimum_value         | bigint(21)          | NO   |     | NULL    |       |\n| maximum_value         | bigint(21)          | NO   |     | NULL    |       |\n| start_value           | bigint(21)          | NO   |     | NULL    |       |\n| increment             | bigint(21)          | NO   |     | NULL    |       |\n| cache_size            | bigint(21) unsigned | NO   |     | NULL    |       |\n| cycle_option          | tinyint(1) unsigned | NO   |     | NULL    |       |\n| cycle_count           | bigint(21)          | NO   |     | NULL    |       |\n+-----------------------+---------------------+------+-----+---------+-------+\n8 rows in set (0.017 sec)\n</code></pre>\n<p>The complete error is given below</p>\n<pre><code>java.lang.IllegalStateException: Failed to execute ApplicationRunner\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:763) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:750) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:317) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.5.jar:3.0.5]\n    at com.ahmadiyya.LetterTohazoor.faxprocesser35.FaxProcesser35Application.main(FaxProcesser35Application.java:15) ~[classes/:na]\nCaused by: org.springframework.dao.DataAccessResourceFailureException: Could not increment ID for BATCH_JOB_SEQ sequence table\n    at org.springframework.jdbc.support.incrementer.MySQLMaxValueIncrementer.getNextKey(MySQLMaxValueIncrementer.java:153) ~[spring-jdbc-6.0.7.jar:6.0.7]\n    at org.springframework.jdbc.support.incrementer.AbstractDataFieldMaxValueIncrementer.nextLongValue(AbstractDataFieldMaxValueIncrementer.java:128) ~[spring-jdbc-6.0.7.jar:6.0.7]\n    at org.springframework.batch.core.repository.dao.JdbcJobInstanceDao.createJobInstance(JdbcJobInstanceDao.java:110) ~[spring-batch-core-5.0.1.jar:5.0.1]\n    at org.springframework.batch.core.repository.support.SimpleJobRepository.createJobExecution(SimpleJobRepository.java:168) ~[spring-batch-core-5.0.1.jar:5.0.1]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.7.jar:6.0.7]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.7.jar:6.0.7]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.7.jar:6.0.7]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.7.jar:6.0.7]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.7.jar:6.0.7]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.7.jar:6.0.7]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.7.jar:6.0.7]\n    at org.springframework.batch.core.repository.support.AbstractJobRepositoryFactoryBean$1.invoke(AbstractJobRepositoryFactoryBean.java:207) ~[spring-batch-core-5.0.1.jar:5.0.1]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.7.jar:6.0.7]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218) ~[spring-aop-6.0.7.jar:6.0.7]\n    at jdk.proxy2/jdk.proxy2.$Proxy68.createJobExecution(Unknown Source) ~[na:na]\n    at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:145) ~[spring-batch-core-5.0.1.jar:5.0.1]\n    at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.run(TaskExecutorJobLauncher.java:70) ~[spring-batch-core-5.0.1.jar:5.0.1]\n    at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.execute(JobLauncherApplicationRunner.java:199) ~[spring-boot-autoconfigure-3.0.5.jar:3.0.5]\n    at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.executeLocalJobs(JobLauncherApplicationRunner.java:178) ~[spring-boot-autoconfigure-3.0.5.jar:3.0.5]\n    at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.launchJobFromProperties(JobLauncherApplicationRunner.java:166) ~[spring-boot-autoconfigure-3.0.5.jar:3.0.5]\n    at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.run(JobLauncherApplicationRunner.java:161) ~[spring-boot-autoconfigure-3.0.5.jar:3.0.5]\n    at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.run(JobLauncherApplicationRunner.java:156) ~[spring-boot-autoconfigure-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:760) ~[spring-boot-3.0.5.jar:3.0.5]\n    ... 5 common frames omitted\nCaused by: java.sql.SQLSyntaxErrorException: Unknown column 'ID' in 'field list'\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120) ~[mysql-connector-j-8.0.32.jar:8.0.32]\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.32.jar:8.0.32]\n    at com.mysql.cj.jdbc.StatementImpl.executeUpdateInternal(StatementImpl.java:1334) ~[mysql-connector-j-8.0.32.jar:8.0.32]\n    at com.mysql.cj.jdbc.StatementImpl.executeLargeUpdate(StatementImpl.java:2084) ~[mysql-connector-j-8.0.32.jar:8.0.32]\n    at com.mysql.cj.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1245) ~[mysql-connector-j-8.0.32.jar:8.0.32]\n    at com.zaxxer.hikari.pool.ProxyStatement.executeUpdate(ProxyStatement.java:119) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyStatement.executeUpdate(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]\n    at org.springframework.jdbc.support.incrementer.MySQLMaxValueIncrementer.getNextKey(MySQLMaxValueIncrementer.java:148) ~[spring-jdbc-6.0.7.jar:6.0.7]\n    ... 31 common frames omitted\n</code></pre>\n"},{"tags":["java","sql-server","date","java-11"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1691396096,"post_id":76849865,"comment_id":135480407,"body_markdown":"Compare `timeStamp.getTime()` and `timeStamp.toInstant().toEpochMilli()`. Are they the same number? If they are, then the result is correct and you are probably formatting the `java.sql.Timestamp` incorrectly.","body":"Compare <code>timeStamp.getTime()</code> and <code>timeStamp.toInstant().toEpochMilli()</code>. Are they the same number? If they are, then the result is correct and you are probably formatting the <code>java.sql.Timestamp</code> incorrectly."},{"owner":{"account_id":11105434,"reputation":416,"user_id":8152720,"display_name":"Shan Chathusanda Jayathilaka"},"score":0,"creation_date":1691396913,"post_id":76849865,"comment_id":135480574,"body_markdown":"```timeStamp.getTime()``` and ```timeStamp.toInstant().toEpochMilli()``` same. But I am not formatting the ```java.sql.Timestamp``` in any point after getting that from the database.","body":"<code>timeStamp.getTime()</code> and <code>timeStamp.toInstant().toEpochMilli()</code> same. But I am not formatting the <code>java.sql.Timestamp</code> in any point after getting that from the database."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1691397083,"post_id":76849865,"comment_id":135480615,"body_markdown":"You are, otherwise you wouldn&#39;t have written `2023-08-08 07:52:09.877`. That string is the result of formatting. Try formatting the `Timestamp` with a [`DateFormat`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/DateFormat.html) that has its timezone set to UTC.","body":"You are, otherwise you wouldn&#39;t have written <code>2023-08-08 07:52:09.877</code>. That string is the result of formatting. Try formatting the <code>Timestamp</code> with a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/DateFormat.html\" rel=\"nofollow noreferrer\"><code>DateFormat</code></a> that has its timezone set to UTC."},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1691397100,"post_id":76849865,"comment_id":135480620,"body_markdown":"In which timezone are you located?","body":"In which timezone are you located?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691397158,"post_id":76849865,"comment_id":135480627,"body_markdown":"*Stored date and time is in UTC* Are you *certain* of that? What RDBMS?","body":"<i>Stored date and time is in UTC</i> Are you <i>certain</i> of that? What RDBMS?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1691397501,"post_id":76849865,"comment_id":135480704,"body_markdown":"*Timestamp timeStamp = 2023-08-08 07:52:09.877 // This is in UTC.* E.g in MySql, not any longer it isn&#39;t. It was *stored* in UTC but was converted to your timezone on retrieval","body":"<i>Timestamp timeStamp = 2023-08-08 07:52:09.877 // This is in UTC.</i> E.g in MySql, not any longer it isn&#39;t. It was <i>stored</i> in UTC but was converted to your timezone on retrieval"},{"owner":{"account_id":11105434,"reputation":416,"user_id":8152720,"display_name":"Shan Chathusanda Jayathilaka"},"score":0,"creation_date":1691403705,"post_id":76849865,"comment_id":135481932,"body_markdown":"I m using MSSQL as my DB and I am storing the time as UTC with the following prepared statement code.\n\n```prepStat.setTimestamp(TimeStamp, Calendar.getInstance(TimeZone.getTimeZone(UTC));```","body":"I m using MSSQL as my DB and I am storing the time as UTC with the following prepared statement code.  <code>prepStat.setTimestamp(TimeStamp, Calendar.getInstance(TimeZone.getTimeZone(UTC));</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1691404600,"post_id":76849865,"comment_id":135482097,"body_markdown":"You should probably be trying to do something more like call `setObject` with type `java.time.Instant` but I&#39;m not sure what MSSQL does with its datetimes","body":"You should probably be trying to do something more like call <code>setObject</code> with type <code>java.time.Instant</code> but I&#39;m not sure what MSSQL does with its datetimes"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1691422247,"post_id":76849865,"comment_id":135486127,"body_markdown":"Post your additional details as edits to the Question, not as Comments.","body":"Post your additional details as edits to the Question, not as Comments."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1691422279,"post_id":76849865,"comment_id":135486140,"body_markdown":"What is the *exact* data type of the column in your table?","body":"What is the <i>exact</i> data type of the column in your table?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1691423008,"post_id":76849865,"comment_id":135486302,"body_markdown":"Keep away from the ole `java.sql.Timestamp` `Calendar` and `TimeZone` classes. They were troublesome and poorly designed and typically gave you issues such as what you are experiencing (and/or other issues too). Best to use `timestamp with time zone` if MS SQL supports it (which I think) and `OffsetDateTime` in Java.","body":"Keep away from the ole <code>java.sql.Timestamp</code> <code>Calendar</code> and <code>TimeZone</code> classes. They were troublesome and poorly designed and typically gave you issues such as what you are experiencing (and/or other issues too). Best to use <code>timestamp with time zone</code> if MS SQL supports it (which I think) and <code>OffsetDateTime</code> in Java."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1691423176,"post_id":76849865,"comment_id":135486341,"body_markdown":"Assuming you had a `timestamp` without time zone in your database, what happened was that something in your system assumed it was in your local time zone and falsely converted it to a `java.sql.Timestamp` using this assumption. If you cannot change the database data type (which I hope you can), retrieve a `LocalDateTime` from the database and perform your own conversion to UTC so that you control that it is done correctly.","body":"Assuming you had a <code>timestamp</code> without time zone in your database, what happened was that something in your system assumed it was in your local time zone and falsely converted it to a <code>java.sql.Timestamp</code> using this assumption. If you cannot change the database data type (which I hope you can), retrieve a <code>LocalDateTime</code> from the database and perform your own conversion to UTC so that you control that it is done correctly."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691424356,"post_id":76849865,"comment_id":135486582,"body_markdown":"`prepStat.setObject(n, Instant.now(), java.time.Instant.class); // (where &#39;n&#39; is 1-based column index` is probably worth trying. Inverse op for select","body":"<code>prepStat.setObject(n, Instant.now(), java.time.Instant.class); &#47;&#47; (where &#39;n&#39; is 1-based column index</code> is probably worth trying. Inverse op for select"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1691428533,"post_id":76849865,"comment_id":135487367,"body_markdown":"@g00se It’s certainly on the right track. Did you try it, though? I didn’t. Asking becuase i suspect that the third argument to [`setObject`](https://docs.oracle.com/en/java/javase/18/docs/api/java.sql/java/sql/PreparedStatement.html#setObject(int,java.lang.Object,java.sql.SQLType)) should perhaps be [JDBCType.TIMESTAMP_WITH_TIMEZONE`](https://docs.oracle.com/en/java/javase/18/docs/api/java.sql/java/sql/JDBCType.html#TIMESTAMP_WITH_TIMEZONE)?","body":"@g00se It’s certainly on the right track. Did you try it, though? I didn’t. Asking becuase i suspect that the third argument to <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.sql/java/sql/PreparedStatement.html#setObject(int,java.lang.Object,java.sql.SQLType)\" rel=\"nofollow noreferrer\"><code>setObject</code></a> should perhaps be <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.sql/java/sql/JDBCType.html#TIMESTAMP_WITH_TIMEZONE\" rel=\"nofollow noreferrer\">JDBCType.TIMESTAMP_WITH_TIMEZONE`</a>?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691429794,"post_id":76849865,"comment_id":135487589,"body_markdown":"@OleV.V. unfortunately not as I don&#39;t have MSSQL.","body":"@OleV.V. unfortunately not as I don&#39;t have MSSQL."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1691430130,"post_id":76849865,"comment_id":135487667,"body_markdown":"afaics offsets are supported (`datetimeoffset` type) but not timezones","body":"afaics offsets are supported (<code>datetimeoffset</code> type) but not timezones"},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1691509876,"post_id":76849865,"comment_id":135500120,"body_markdown":"JDBC does not specify support for `Instant`, so it will not work on all JDBC drivers. JDBC defines support for `java.time.LocalDateTime` for `TIMESTAMP`, and `java.time.OffsetDateTime` for (SQL Standard) `TIMESTAMP WITH TIME ZONE`.","body":"JDBC does not specify support for <code>Instant</code>, so it will not work on all JDBC drivers. JDBC defines support for <code>java.time.LocalDateTime</code> for <code>TIMESTAMP</code>, and <code>java.time.OffsetDateTime</code> for (SQL Standard) <code>TIMESTAMP WITH TIME ZONE</code>."},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1691510016,"post_id":76849865,"comment_id":135500139,"body_markdown":"Related: [Is java.sql.Timestamp timezone specific?](https://stackoverflow.com/questions/14070572/is-java-sql-timestamp-timezone-specific)","body":"Related: <a href=\"https://stackoverflow.com/questions/14070572/is-java-sql-timestamp-timezone-specific\">Is java.sql.Timestamp timezone specific?</a>"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1691442643,"creation_date":1691442157,"answer_id":76855159,"question_id":76849865,"body_markdown":"## `Timestamp#toInstant` is indeed in UTC\r\n\r\n&gt; convert the stored Timestamp to an Instant\r\n\r\nCalling [`java.sql.Timestamp#toInstant`][1] will indeed give you a date and time as seen with an offset of zero hours-minutes-seconds from UTC. Both classes internally keep a count since the epoch reference of first moment of 1970 in UTC, 1970-01-01T00:00Z. \r\n\r\n    Instant instant = myJavaSqlTimestamp.toInstant() ;\r\n\r\n# Avoid legacy date-time classes\r\n\r\nThe `Timestamp` class is one of the terribly flawed legacy date-time classes. These were years ago supplanted by the modern *java.time* classes defined in JSR 310. \r\n\r\nNever use `Timestamp`, `Calendar`, `Date`, `SimpleDateFormat`, etc. Use only *java.time* classes with JDBC 4.2+. \r\n\r\n## With zone/offset\r\n\r\nIf the column in your [Microsoft SQL Server][2] database is of the type [`datetimeoffset`][3], then retrieve the matching type in JDBC: [`OffsetDateTime`][4]. \r\n\r\n    OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\r\n\r\nWriting:\r\n\r\n    String input = &quot;2023-08-08 07:52:09.877Z&quot; ;  // `Z` on the end indicates an offset of zero hours-minutes-seconds from UTC. Pronounced &quot;Zulu&quot;. \r\n    Instant instant = Instant.parse( input ) ;  // Represents a moment as seen with an offset of zero from UTC.\r\n    OffsetDateTime odt = instant.atOffset( ZoneOffset.UTC ) ;  // Represents a moment as seen with a particular offset from UTC. In this case the offset is zero.\r\n    myPreparedStatement.setObject( … , odt ) ;\r\n\r\n## Without zone/offset\r\n\r\nI suspect your problem is due to an incorrect data type on your column. You neglected to indicate the data type, so I can only guess. But I guess the type is the legacy Microsoft SQL Server type [`datetime`][5] or its modern replacement [`datetime2`][6]. \r\n\r\nBoth of those `datetime`/`datetime2` types represent a date with time-of-day but lack the context of a time zone or an offset-from-UTC. Without that context, such a value does *not* represent a moment, is *not* a specific point on the timeline. So **comparing to a value in UTC is nonsensical**.\r\n\r\nThe matching JDBC type for those `datetime`/`datetime2` types is `LocalDateTime` — a class representing a date with time-of-day but without zone/offset. \r\n\r\n    LocalDateTime ldt = myResultSet.getObject( … , LocalDateTime.class ) ;\r\n\r\nWriting:\r\n\r\n    myPreparedStatement.setObject( … , ldt ) ;\r\n\r\n**Do *not* use those `datetime`/`datetime2` types nor `LocalDateTime`** if you are tracking a moment, a specific point on the timeline. That would be like storing an amount of money without noting the currency.\r\n\r\nIf you did indeed use those `datetime`/`datetime2` types in an attempt to store a moment, then you now have a mess on your hands. You will need to use a [`datetimeoffset`][3] instead. To migrate data, you can assign an offset if you know *for certain* the intended offset of the stored values, but you will of course ultimately be guessing since you cannot know the context of every row’s insertion/update.\r\n\r\n\r\n    \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.sql/java/sql/Timestamp.html#toInstant()\r\n  [2]: https://en.wikipedia.org/wiki/Microsoft_SQL_Server\r\n  [3]: https://learn.microsoft.com/en-us/sql/t-sql/data-types/datetimeoffset-transact-sql?view=sql-server-ver16\r\n  [4]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/OffsetDateTime.html\r\n  [5]: https://learn.microsoft.com/en-us/sql/t-sql/data-types/datetime-transact-sql?view=sql-server-ver16\r\n  [6]: https://learn.microsoft.com/en-us/sql/t-sql/data-types/datetime2-transact-sql?view=sql-server-ver16","title":"Convert a sql UTC Timesamp to Instant in Java","body":"<h2><code>Timestamp#toInstant</code> is indeed in UTC</h2>\n<blockquote>\n<p>convert the stored Timestamp to an Instant</p>\n</blockquote>\n<p>Calling <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.sql/java/sql/Timestamp.html#toInstant()\" rel=\"nofollow noreferrer\"><code>java.sql.Timestamp#toInstant</code></a> will indeed give you a date and time as seen with an offset of zero hours-minutes-seconds from UTC. Both classes internally keep a count since the epoch reference of first moment of 1970 in UTC, 1970-01-01T00:00Z.</p>\n<pre><code>Instant instant = myJavaSqlTimestamp.toInstant() ;\n</code></pre>\n<h1>Avoid legacy date-time classes</h1>\n<p>The <code>Timestamp</code> class is one of the terribly flawed legacy date-time classes. These were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310.</p>\n<p>Never use <code>Timestamp</code>, <code>Calendar</code>, <code>Date</code>, <code>SimpleDateFormat</code>, etc. Use only <em>java.time</em> classes with JDBC 4.2+.</p>\n<h2>With zone/offset</h2>\n<p>If the column in your <a href=\"https://en.wikipedia.org/wiki/Microsoft_SQL_Server\" rel=\"nofollow noreferrer\">Microsoft SQL Server</a> database is of the type <a href=\"https://learn.microsoft.com/en-us/sql/t-sql/data-types/datetimeoffset-transact-sql?view=sql-server-ver16\" rel=\"nofollow noreferrer\"><code>datetimeoffset</code></a>, then retrieve the matching type in JDBC: <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/OffsetDateTime.html\" rel=\"nofollow noreferrer\"><code>OffsetDateTime</code></a>.</p>\n<pre><code>OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\n</code></pre>\n<p>Writing:</p>\n<pre><code>String input = &quot;2023-08-08 07:52:09.877Z&quot; ;  // `Z` on the end indicates an offset of zero hours-minutes-seconds from UTC. Pronounced &quot;Zulu&quot;. \nInstant instant = Instant.parse( input ) ;  // Represents a moment as seen with an offset of zero from UTC.\nOffsetDateTime odt = instant.atOffset( ZoneOffset.UTC ) ;  // Represents a moment as seen with a particular offset from UTC. In this case the offset is zero.\nmyPreparedStatement.setObject( … , odt ) ;\n</code></pre>\n<h2>Without zone/offset</h2>\n<p>I suspect your problem is due to an incorrect data type on your column. You neglected to indicate the data type, so I can only guess. But I guess the type is the legacy Microsoft SQL Server type <a href=\"https://learn.microsoft.com/en-us/sql/t-sql/data-types/datetime-transact-sql?view=sql-server-ver16\" rel=\"nofollow noreferrer\"><code>datetime</code></a> or its modern replacement <a href=\"https://learn.microsoft.com/en-us/sql/t-sql/data-types/datetime2-transact-sql?view=sql-server-ver16\" rel=\"nofollow noreferrer\"><code>datetime2</code></a>.</p>\n<p>Both of those <code>datetime</code>/<code>datetime2</code> types represent a date with time-of-day but lack the context of a time zone or an offset-from-UTC. Without that context, such a value does <em>not</em> represent a moment, is <em>not</em> a specific point on the timeline. So <strong>comparing to a value in UTC is nonsensical</strong>.</p>\n<p>The matching JDBC type for those <code>datetime</code>/<code>datetime2</code> types is <code>LocalDateTime</code> — a class representing a date with time-of-day but without zone/offset.</p>\n<pre><code>LocalDateTime ldt = myResultSet.getObject( … , LocalDateTime.class ) ;\n</code></pre>\n<p>Writing:</p>\n<pre><code>myPreparedStatement.setObject( … , ldt ) ;\n</code></pre>\n<p><strong>Do <em>not</em> use those <code>datetime</code>/<code>datetime2</code> types nor <code>LocalDateTime</code></strong> if you are tracking a moment, a specific point on the timeline. That would be like storing an amount of money without noting the currency.</p>\n<p>If you did indeed use those <code>datetime</code>/<code>datetime2</code> types in an attempt to store a moment, then you now have a mess on your hands. You will need to use a <a href=\"https://learn.microsoft.com/en-us/sql/t-sql/data-types/datetimeoffset-transact-sql?view=sql-server-ver16\" rel=\"nofollow noreferrer\"><code>datetimeoffset</code></a> instead. To migrate data, you can assign an offset if you know <em>for certain</em> the intended offset of the stored values, but you will of course ultimately be guessing since you cannot know the context of every row’s insertion/update.</p>\n"}],"owner":{"account_id":11105434,"reputation":416,"user_id":8152720,"display_name":"Shan Chathusanda Jayathilaka"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1691509796,"creation_date":1691395804,"question_id":76849865,"body_markdown":"I am working on a solution which will need to ```compare date and time which are stored in a database with the current time in Java```. Stored date and time is in UTC and it is a **java.sql.Timestamp**. I use **java.time.Instant** to compare but I need to convert the stored Timestamp to an Instant. I used **Timestamp.toInstant()** but it is returning the wrong time. Please refer the example below for the code.\r\n\r\n&gt;Timestamp timeStamp = 2023-08-08 07:52:09.877 *// This is in UTC.*\r\n\r\n&gt;timeStamp.toInstant = 2023-08-08T02:22:09.877Z *// Converted UTC value.*\r\n\r\nTried to find a method that can pass the timezone of the time that we input to the toInstant method but unable to find any. \r\n\r\nAnyone aware of a solution to get the same UTC time in to the Instant object?\r\n","title":"Convert a sql UTC Timesamp to Instant in Java","body":"<p>I am working on a solution which will need to <code>compare date and time which are stored in a database with the current time in Java</code>. Stored date and time is in UTC and it is a <strong>java.sql.Timestamp</strong>. I use <strong>java.time.Instant</strong> to compare but I need to convert the stored Timestamp to an Instant. I used <strong>Timestamp.toInstant()</strong> but it is returning the wrong time. Please refer the example below for the code.</p>\n<blockquote>\n<p>Timestamp timeStamp = 2023-08-08 07:52:09.877 <em>// This is in UTC.</em></p>\n</blockquote>\n<blockquote>\n<p>timeStamp.toInstant = 2023-08-08T02:22:09.877Z <em>// Converted UTC value.</em></p>\n</blockquote>\n<p>Tried to find a method that can pass the timezone of the time that we input to the toInstant method but unable to find any.</p>\n<p>Anyone aware of a solution to get the same UTC time in to the Instant object?</p>\n"},{"tags":["java","singleton","menuitem","jdialog"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1499148149,"post_id":44897773,"comment_id":76773530,"body_markdown":"If you&#39;re going to use a singleton, then you should be managing them through a `enum`","body":"If you&#39;re going to use a singleton, then you should be managing them through a <code>enum</code>"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1499148285,"post_id":44897773,"comment_id":76773592,"body_markdown":"So, the problem isn&#39;t with your singleton, it&#39;s with the fact that each time the `ActionListener` is triggered, it adds more components to the dialog. Overall, I have no idea why you think you need this setup. There&#39;s nothing stopping a user from making their own dialog from scratch.","body":"So, the problem isn&#39;t with your singleton, it&#39;s with the fact that each time the <code>ActionListener</code> is triggered, it adds more components to the dialog. Overall, I have no idea why you think you need this setup. There&#39;s nothing stopping a user from making their own dialog from scratch."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1499149339,"post_id":44897773,"comment_id":76774150,"body_markdown":"also show the whole code and not just fragments","body":"also show the whole code and not just fragments"},{"owner":{"account_id":11090869,"reputation":5,"user_id":8142802,"accept_rate":40,"display_name":"ManuellsenDeve"},"score":0,"creation_date":1499158430,"post_id":44897773,"comment_id":76779920,"body_markdown":"Thats the whole code I forgot just the method head. MadProgrammer you are right. Thats my problem. I searching for way to avoid that the action listener called many times","body":"Thats the whole code I forgot just the method head. MadProgrammer you are right. Thats my problem. I searching for way to avoid that the action listener called many times"}],"owner":{"account_id":11090869,"reputation":5,"user_id":8142802,"accept_rate":40,"display_name":"ManuellsenDeve"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691509788,"creation_date":1499146967,"question_id":44897773,"body_markdown":"I have created a Singleton that extends from JDialog. I do that because I want to avoid that a User can&#39;t create as many as they want. I just want one. Now I know the Singleton is the problem.\r\n\r\n&gt; **Is there a better way without Singleton maybe with an example it would be great. Because I must do that for other MenuItem as well.**\r\n\r\n[Open the MenuItem First Time][1]\r\n\r\n[Open the MenuItem Second Time][2]\r\n\r\nThis is my Method which starts if the MenuItem is clicked.\r\n\r\n    JButton confirmBTN = new JButton(&quot;Confirm&quot;);\r\n        addComp(panel, confirmBTN, 0, 0, 1, 1, GridBagConstraints.WEST, GridBagConstraints.NONE);\r\n\r\n        JButton closeBTN = new JButton(&quot;close&quot;);\r\n        addComp(panel, closeBTN, 1, 0, 1, 1, GridBagConstraints.EAST, GridBagConstraints.NONE);\r\n\r\n\r\n        this.dialog.setTitle(&quot;show Manual&quot;);\r\n        this.dialog.setSize(200, 200);\r\n        this.dialog.setVisible(true);\r\n        this.dialog.setLocationRelativeTo(null);\r\n\r\n\r\n\r\n\r\n        dialog.add(panel);\r\n        dialog.pack();\r\n\r\n\r\nThat my Singleton\r\n\r\n    public class SingletonJDialog extends JDialog {\r\n    private static SingletonJDialog dialog;\r\n\r\n    private SingletonJDialog() {\r\n\r\n    }\r\n\r\n    public static SingletonJDialog getInstace() {\r\n\r\n        if (dialog == null) {\r\n            dialog = new SingletonJDialog();\r\n        }\r\n        return dialog;\r\n    }\r\n    }\r\n\r\nThat&#39;s how I get my instance.\r\n\r\n    private SingletonJDialog dialog = SingletonJDialog.getInstace();\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OAx4I.png\r\n  [2]: https://i.stack.imgur.com/XuAhs.png","title":"Avoid that JDialog adding Comp more then 1 Time?","body":"<p>I have created a Singleton that extends from JDialog. I do that because I want to avoid that a User can't create as many as they want. I just want one. Now I know the Singleton is the problem.</p>\n<blockquote>\n<p><strong>Is there a better way without Singleton maybe with an example it would be great. Because I must do that for other MenuItem as well.</strong></p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/OAx4I.png\" rel=\"nofollow noreferrer\">Open the MenuItem First Time</a></p>\n<p><a href=\"https://i.stack.imgur.com/XuAhs.png\" rel=\"nofollow noreferrer\">Open the MenuItem Second Time</a></p>\n<p>This is my Method which starts if the MenuItem is clicked.</p>\n<pre><code>JButton confirmBTN = new JButton(&quot;Confirm&quot;);\n    addComp(panel, confirmBTN, 0, 0, 1, 1, GridBagConstraints.WEST, GridBagConstraints.NONE);\n\n    JButton closeBTN = new JButton(&quot;close&quot;);\n    addComp(panel, closeBTN, 1, 0, 1, 1, GridBagConstraints.EAST, GridBagConstraints.NONE);\n\n\n    this.dialog.setTitle(&quot;show Manual&quot;);\n    this.dialog.setSize(200, 200);\n    this.dialog.setVisible(true);\n    this.dialog.setLocationRelativeTo(null);\n\n\n\n\n    dialog.add(panel);\n    dialog.pack();\n</code></pre>\n<p>That my Singleton</p>\n<pre><code>public class SingletonJDialog extends JDialog {\nprivate static SingletonJDialog dialog;\n\nprivate SingletonJDialog() {\n\n}\n\npublic static SingletonJDialog getInstace() {\n\n    if (dialog == null) {\n        dialog = new SingletonJDialog();\n    }\n    return dialog;\n}\n}\n</code></pre>\n<p>That's how I get my instance.</p>\n<pre><code>private SingletonJDialog dialog = SingletonJDialog.getInstace();\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1664417146,"post_id":73889515,"comment_id":130468601,"body_markdown":"The documentation you&#39;ve included seems pretty clear on the subject. `&lt;? super Number&gt;` would apply to `Object`, as its a superclass of `Number`.","body":"The documentation you&#39;ve included seems pretty clear on the subject. <code>&lt;? super Number&gt;</code> would apply to <code>Object</code>, as its a superclass of <code>Number</code>."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1664417816,"post_id":73889515,"comment_id":130468670,"body_markdown":"&quot;`&lt;? super Number&gt;` is a lower bound that means any type ***that is Number*** or a super class&quot; See that part? It doesn&#39;t necessarily have to be a superclass. `? super B` could be `B`, in which case adding an `A` is not allowed.","body":"&quot;<code>&lt;? super Number&gt;</code> is a lower bound that means any type <b><i>that is Number</i></b> or a super class&quot; See that part? It doesn&#39;t necessarily have to be a superclass. <code>? super B</code> could be <code>B</code>, in which case adding an <code>A</code> is not allowed."},{"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"score":1,"creation_date":1664420453,"post_id":73889515,"comment_id":130469039,"body_markdown":"@CryptoFool but adding an Object will not compile","body":"@CryptoFool but adding an Object will not compile"},{"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"score":0,"creation_date":1664420536,"post_id":73889515,"comment_id":130469045,"body_markdown":"@Sweeper I understand that it can take B. But why can&#39;t it take A? I tried and it gives a compile error.","body":"@Sweeper I understand that it can take B. But why can&#39;t it take A? I tried and it gives a compile error."},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":4,"creation_date":1664420945,"post_id":73889515,"comment_id":130469096,"body_markdown":"It does answer the question. I and others repeatedly explained to you in the comments why it answers the question. This is not a discussion forum; &quot;I need the same material explained in a different way in order to understand it&quot; is not a reason to have a separate question.","body":"It does answer the question. I and others repeatedly explained to you in the comments why it answers the question. This is not a discussion forum; &quot;I need the same material explained in a different way in order to understand it&quot; is not a reason to have a separate question."},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":4,"creation_date":1664421001,"post_id":73889515,"comment_id":130469101,"body_markdown":"&quot;I understand that it can take B. But why can&#39;t it take A?&quot; **For the reason carefully and repeatedly explained in the duplicate that was linked to you last time, and repeatedly re-stated in the comment discussion that ensued there**.","body":"&quot;I understand that it can take B. But why can&#39;t it take A?&quot; <b>For the reason carefully and repeatedly explained in the duplicate that was linked to you last time, and repeatedly re-stated in the comment discussion that ensued there</b>."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1664417446,"creation_date":1664417446,"answer_id":73889570,"question_id":73889515,"body_markdown":"Because you&#39;re thinking about what generics means in the wrong way.\r\n\r\n`List&lt;? super B&gt;` does __not__ mean: &quot;A list that contains Bs or anything that is a supertype of B&quot;.\r\n\r\nBecause that would be __utterly useless__. `Object` is a supertype of B. All things are objects. So it&#39;s a list of absolutely anything, there&#39;s absolutely nothing useful about this list.\r\n\r\nNo, what `List&lt;? super B&gt;` means: There is a type. A specific type. It&#39;s just.. _this_ code doesn&#39;t know what it is. We do know that it is either B or some supertype of B. (So, it&#39;s B, or A, or Object, we don&#39;t know. The caller picked one of these 3 types). This list is constrained; it cannot contain anything that is _not_ this unknown type.\r\n\r\nThe point is, you can do this:\r\n\r\n```\r\nList&lt;B&gt; bees = new ArrayList&lt;B&gt;();\r\nList&lt;? super B&gt; list = bees; // legal!\r\nlist.add(new A()); // um...\r\nB bee = bees.get(0); // oh no!\r\n```\r\n\r\nSee how this goes wrong? There&#39;s only one list here - `bees` and `list` are both just variables that refer to the exacrt same list. So you if you call `list.add`, you&#39;re modifying the one list that both `bees` and `list` are pointing at, so you also add it to `bees`.\r\n\r\nSo what&#39;s the point of `&lt;? super B&gt;`?\r\n\r\nYou __can__ call `.add(new B())`. Because that works for __all legal choices__. Whatever the caller picked - if they gave you a `List&lt;B&gt;`, it works. If it&#39;s a `List&lt;A&gt;`, works. `List&lt;Object&gt;`? Still acceptable.\r\n\r\nNo other types fit the bill for `&lt;? super B&gt;`, so we&#39;ve exhausted the options: They all &#39;work out&#39;.\r\n","title":"Does wildcard &lt;? super Number&gt; refer to a superclass like Object or a subtype like Integer?","body":"<p>Because you're thinking about what generics means in the wrong way.</p>\n<p><code>List&lt;? super B&gt;</code> does <strong>not</strong> mean: &quot;A list that contains Bs or anything that is a supertype of B&quot;.</p>\n<p>Because that would be <strong>utterly useless</strong>. <code>Object</code> is a supertype of B. All things are objects. So it's a list of absolutely anything, there's absolutely nothing useful about this list.</p>\n<p>No, what <code>List&lt;? super B&gt;</code> means: There is a type. A specific type. It's just.. <em>this</em> code doesn't know what it is. We do know that it is either B or some supertype of B. (So, it's B, or A, or Object, we don't know. The caller picked one of these 3 types). This list is constrained; it cannot contain anything that is <em>not</em> this unknown type.</p>\n<p>The point is, you can do this:</p>\n<pre><code>List&lt;B&gt; bees = new ArrayList&lt;B&gt;();\nList&lt;? super B&gt; list = bees; // legal!\nlist.add(new A()); // um...\nB bee = bees.get(0); // oh no!\n</code></pre>\n<p>See how this goes wrong? There's only one list here - <code>bees</code> and <code>list</code> are both just variables that refer to the exacrt same list. So you if you call <code>list.add</code>, you're modifying the one list that both <code>bees</code> and <code>list</code> are pointing at, so you also add it to <code>bees</code>.</p>\n<p>So what's the point of <code>&lt;? super B&gt;</code>?</p>\n<p>You <strong>can</strong> call <code>.add(new B())</code>. Because that works for <strong>all legal choices</strong>. Whatever the caller picked - if they gave you a <code>List&lt;B&gt;</code>, it works. If it's a <code>List&lt;A&gt;</code>, works. <code>List&lt;Object&gt;</code>? Still acceptable.</p>\n<p>No other types fit the bill for <code>&lt;? super B&gt;</code>, so we've exhausted the options: They all 'work out'.</p>\n"}],"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":7,"up_vote_count":2,"closed_date":1664425963,"answer_count":1,"score":-5,"last_activity_date":1691509406,"creation_date":1664416795,"question_id":73889515,"body_markdown":"This was closed as being a duplicate of the PECS question.\r\nPECS is just a mnemonic that does more harm than good because people just memorize it without really understanding the deeper issues.\r\nPlease reopen.\r\n\r\n**Update**:\r\n\r\nWhat I understood from @rzswitzerloot&#39;s explanation below is: the wildcard just refers to the type of element in the Array.\r\nIt does not mean one can add the wildcard type to the array - in fact, one can only add descendants of the type (including itself, in this case, &#39;B&#39;).\r\n\r\n---------\r\nI am confused by whether wildcards `&lt;? super Number&gt;` refers to a superclass like `Object` or a subtype like `Integer`. In &quot;Java OCP 17 Developer Complete Study Guide&quot; by Jeanne Boyarsky and Scott Selikoff, (Chapter 9 Collections and Generics)\r\n\r\n&gt; Generics allow you to specify wildcards. &lt;?&gt; is an unbounded wildcard\r\n&gt; that means any type. &lt;? extends Object&gt; is an upper bound that means\r\n&gt; any type that is Object or extends it. &lt;? extends MyInterface&gt; means\r\n&gt; any type that implements MyInterface. \r\n&gt; **&lt;? super Number&gt; is a lower bound that means any type that is Number or a super class.**  A compiler error results from code that attempts\r\n&gt; to add an item in a list with an unbounded or upper-bounded wildcard\r\n\r\nA **super class** as I understand, is a *parent* of Number.\r\nBut then, why cannot one do this?\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class Bewildered {\r\n        static class A {}\r\n        static class B extends A {}\r\n        static class C extends B {}\r\n    \r\n        public static void main(String[] args) {\r\n            List&lt;? super B&gt; listBs = new ArrayList&lt;&gt;();\r\n            listBs.add(new A());\r\n        }\r\n    }\r\n\r\ncompile error:\r\n\r\n    java: incompatible types: Bewildered.A cannot be converted to capture#1 of ? super Bewildered.B\r\n","title":"Does wildcard &lt;? super Number&gt; refer to a superclass like Object or a subtype like Integer?","body":"<p>This was closed as being a duplicate of the PECS question.\nPECS is just a mnemonic that does more harm than good because people just memorize it without really understanding the deeper issues.\nPlease reopen.</p>\n<p><strong>Update</strong>:</p>\n<p>What I understood from @rzswitzerloot's explanation below is: the wildcard just refers to the type of element in the Array.\nIt does not mean one can add the wildcard type to the array - in fact, one can only add descendants of the type (including itself, in this case, 'B').</p>\n<hr />\n<p>I am confused by whether wildcards <code>&lt;? super Number&gt;</code> refers to a superclass like <code>Object</code> or a subtype like <code>Integer</code>. In &quot;Java OCP 17 Developer Complete Study Guide&quot; by Jeanne Boyarsky and Scott Selikoff, (Chapter 9 Collections and Generics)</p>\n<blockquote>\n<p>Generics allow you to specify wildcards. &lt;?&gt; is an unbounded wildcard\nthat means any type. &lt;? extends Object&gt; is an upper bound that means\nany type that is Object or extends it. &lt;? extends MyInterface&gt; means\nany type that implements MyInterface.\n<strong>&lt;? super Number&gt; is a lower bound that means any type that is Number or a super class.</strong>  A compiler error results from code that attempts\nto add an item in a list with an unbounded or upper-bounded wildcard</p>\n</blockquote>\n<p>A <strong>super class</strong> as I understand, is a <em>parent</em> of Number.\nBut then, why cannot one do this?</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class Bewildered {\n    static class A {}\n    static class B extends A {}\n    static class C extends B {}\n\n    public static void main(String[] args) {\n        List&lt;? super B&gt; listBs = new ArrayList&lt;&gt;();\n        listBs.add(new A());\n    }\n}\n</code></pre>\n<p>compile error:</p>\n<pre><code>java: incompatible types: Bewildered.A cannot be converted to capture#1 of ? super Bewildered.B\n</code></pre>\n"},{"tags":["java","gradle","libgdx","desktop-application"],"comments":[{"owner":{"account_id":6778270,"reputation":6791,"user_id":5288316,"accept_rate":79,"display_name":"Nicolas"},"score":0,"creation_date":1597946821,"post_id":63503350,"comment_id":112306143,"body_markdown":"What Java version are you using?","body":"What Java version are you using?"},{"owner":{"account_id":19336142,"reputation":371,"user_id":14136696,"display_name":"Noemi"},"score":0,"creation_date":1597997167,"post_id":63503350,"comment_id":112320023,"body_markdown":"I&#39;m using the 13.0.2","body":"I&#39;m using the 13.0.2"},{"owner":{"account_id":6778270,"reputation":6791,"user_id":5288316,"accept_rate":79,"display_name":"Nicolas"},"score":0,"creation_date":1598126692,"post_id":63503350,"comment_id":112358529,"body_markdown":"Oh I missed that. LibGDX isn&#39;t compiled against java 13 so there might be some binary incompatibilities. Can you try with Java 11 or 8?","body":"Oh I missed that. LibGDX isn&#39;t compiled against java 13 so there might be some binary incompatibilities. Can you try with Java 11 or 8?"},{"owner":{"account_id":19336142,"reputation":371,"user_id":14136696,"display_name":"Noemi"},"score":1,"creation_date":1598287796,"post_id":63503350,"comment_id":112403418,"body_markdown":"I&#39;ve tried and it worked, thank you!","body":"I&#39;ve tried and it worked, thank you!"}],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1598195463,"creation_date":1598195463,"answer_id":63548566,"question_id":63503350,"body_markdown":"This is not a LibGDX issue. Gradle 5 is incompatible with Java 13. You either need to update Gradle (the wrapped version in your project) to Gradle 6 or later, or you need to use a lower version of the JRE.\r\n\r\nTo update the wrapped gradle, go to `gradle/wrapper/gradle-wrapper-properties` in your project and update the version number. I&#39;m using 6.1.1.\r\n\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-6.1.1-all.zip\r\n\r\nIf you have an older LibGDX project, you might have to modify the `build.gradle` file in the `android` module to be compatible with Gradle 6. You can copy-paste to replace the `copyAndroidNatives` task with [the one here][1].\r\n\r\n\r\n  [1]: https://github.com/libgdx/libgdx/blob/master/extensions/gdx-setup/res/com/badlogic/gdx/setup/resources/android/build.gradle","title":"General error during semantic analysis: Unsupported class file major version 57","body":"<p>This is not a LibGDX issue. Gradle 5 is incompatible with Java 13. You either need to update Gradle (the wrapped version in your project) to Gradle 6 or later, or you need to use a lower version of the JRE.</p>\n<p>To update the wrapped gradle, go to <code>gradle/wrapper/gradle-wrapper-properties</code> in your project and update the version number. I'm using 6.1.1.</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-6.1.1-all.zip\n</code></pre>\n<p>If you have an older LibGDX project, you might have to modify the <code>build.gradle</code> file in the <code>android</code> module to be compatible with Gradle 6. You can copy-paste to replace the <code>copyAndroidNatives</code> task with <a href=\"https://github.com/libgdx/libgdx/blob/master/extensions/gdx-setup/res/com/badlogic/gdx/setup/resources/android/build.gradle\" rel=\"noreferrer\">the one here</a>.</p>\n"},{"tags":[],"owner":{"account_id":19939271,"reputation":417,"user_id":14611309,"display_name":"Jenish MS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621662579,"creation_date":1621662579,"answer_id":67646505,"question_id":63503350,"body_markdown":"Check gradle version and bundle version using the following link\r\nLink https://developer.android.com/studio/releases/gradle-plugin#updating-gradle\r\n\r\nIf you want to upgrade android/gradle/build.gradle change dependencies classpath &#39;com.android.tools.build:gradle:**[latest version]**&#39;","title":"General error during semantic analysis: Unsupported class file major version 57","body":"<p>Check gradle version and bundle version using the following link\nLink <a href=\"https://developer.android.com/studio/releases/gradle-plugin#updating-gradle\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/releases/gradle-plugin#updating-gradle</a></p>\n<p>If you want to upgrade android/gradle/build.gradle change dependencies classpath 'com.android.tools.build:gradle:<strong>[latest version]</strong>'</p>\n"},{"tags":[],"owner":{"account_id":9566511,"reputation":461,"user_id":7105635,"display_name":"Ejeh"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1637284608,"creation_date":1637284608,"answer_id":70028678,"question_id":63503350,"body_markdown":"&gt; startup failed:\r\n  General error during semantic analysis: Unsupported class file major version 61\r\n\r\nhow to fix this react native issues \r\nJAVA JDK 17\r\n\r\nGo to the android/ directory of your react-native project\r\n\r\nCreate a file called **local.properties** with this line:\r\n\r\n&gt; sdk.dir=C\\:\\\\Android\\\\sdk\r\n\r\nGOTO\r\n**android\\gradle\\wrapper\\gradle-wrapper.properties**\r\n\r\nCHANGE\r\n\r\n&gt; distributionUrl=https\\://services.gradle.org/distributions/gradle-6.7-all.zip\r\n\r\nTO\r\n\r\n&gt; distributionUrl=https\\://services.gradle.org/distributions/gradle-7.3-all.zip\r\n\r\nGOTO\r\n\r\n&gt; android\\gradle.properties\r\nadd this line\r\n\r\n    org.gradle.jvmargs=-Xmx1536M --add-exports=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED\r\n\r\n","title":"General error during semantic analysis: Unsupported class file major version 57","body":"<blockquote>\n<p>startup failed:\nGeneral error during semantic analysis: Unsupported class file major version 61</p>\n</blockquote>\n<p>how to fix this react native issues\nJAVA JDK 17</p>\n<p>Go to the android/ directory of your react-native project</p>\n<p>Create a file called <strong>local.properties</strong> with this line:</p>\n<blockquote>\n<p>sdk.dir=C:\\Android\\sdk</p>\n</blockquote>\n<p>GOTO\n<strong>android\\gradle\\wrapper\\gradle-wrapper.properties</strong></p>\n<p>CHANGE</p>\n<blockquote>\n<p>distributionUrl=https://services.gradle.org/distributions/gradle-6.7-all.zip</p>\n</blockquote>\n<p>TO</p>\n<blockquote>\n<p>distributionUrl=https://services.gradle.org/distributions/gradle-7.3-all.zip</p>\n</blockquote>\n<p>GOTO</p>\n<blockquote>\n<p>android\\gradle.properties\nadd this line</p>\n</blockquote>\n<pre><code>org.gradle.jvmargs=-Xmx1536M --add-exports=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2814311,"reputation":2660,"user_id":2918720,"display_name":"KhogaEslam"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655026079,"creation_date":1653246079,"answer_id":72340515,"question_id":63503350,"body_markdown":"If you&#39;re using eclipse, go to \r\n\r\n    Eclipse &gt; Preferences &gt; Gradle\r\n\r\nUpdate `Java home` to point to Java home location ","title":"General error during semantic analysis: Unsupported class file major version 57","body":"<p>If you're using eclipse, go to</p>\n<pre><code>Eclipse &gt; Preferences &gt; Gradle\n</code></pre>\n<p>Update <code>Java home</code> to point to Java home location</p>\n"},{"tags":[],"owner":{"account_id":13012907,"reputation":3760,"user_id":9405238,"display_name":"Doan Bui"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1655725165,"creation_date":1655717267,"answer_id":72684864,"question_id":63503350,"body_markdown":"This problem occurred when I run my old `Flutter` project that I coded 2 years ago. I think with Android project will also fix in the same way. I&#39;m use `MacOS` and `Android Studio Bumblebee`.\r\n\r\nFirst, need to move to the `android` folder and check gradle version:\r\n\r\n    cd android \r\n    ./gradlew --version\r\n[![enter image description here][1]][1]\r\n\r\nIt show Gradle version `6.7.1` and you need attention to the JVM line, and my JDK version is 15.0.2. It is too new for this project. So you must to `downgrading` from open jdk version to old version or `upgrade` Gradle version in `gradle/wrapper/gradle-wrapper.properties` to new version.\r\n\r\nIf you downgrade JDK version, you can download from [this][2]. In my case, I downgraded from Java SE 15 to Java SE 11.\r\n\r\nAfter I open Android of Flutter project\r\n\r\n[![enter image description here][3]][3] \r\n\r\nGo to `Preferences-&gt;Build, Execution, Deployment → Build Tools → Gradle → ` and choose JDK version 11.\r\n[![enter image description here][4]][4]\r\n\r\nGo to Build -&gt; Clean Project -&gt; Rebuild Project.\r\n\r\n[![enter image description here][5]][5]\r\n\r\nGo to `Terminal` run `java --version`, if it still show JE version 15 then You must set JAVA_HOME before.\r\n\r\nYou only need to add the following to your `.bash_profile` or `.zshrc`\r\n\r\n    export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-11.0.15.jdk/Contents/Home\r\n\r\nSave and go to `android` folder and run again\r\n\r\n    ./gradlew --version\r\n\r\nIt will show JDK version 11 correct.\r\n\r\n[![enter image description here][6]][6]\r\n\r\nFinally, run `flutter run`.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Xx93F.png\r\n  [2]: https://www.oracle.com/java/technologies/javase/jdk11-archive-downloads.html\r\n  [3]: https://i.stack.imgur.com/lP1mF.png\r\n  [4]: https://i.stack.imgur.com/9H0zb.png\r\n  [5]: https://i.stack.imgur.com/fd8nu.png\r\n  [6]: https://i.stack.imgur.com/kZl4l.png","title":"General error during semantic analysis: Unsupported class file major version 57","body":"<p>This problem occurred when I run my old <code>Flutter</code> project that I coded 2 years ago. I think with Android project will also fix in the same way. I'm use <code>MacOS</code> and <code>Android Studio Bumblebee</code>.</p>\n<p>First, need to move to the <code>android</code> folder and check gradle version:</p>\n<pre><code>cd android \n./gradlew --version\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Xx93F.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Xx93F.png\" alt=\"enter image description here\" /></a></p>\n<p>It show Gradle version <code>6.7.1</code> and you need attention to the JVM line, and my JDK version is 15.0.2. It is too new for this project. So you must to <code>downgrading</code> from open jdk version to old version or <code>upgrade</code> Gradle version in <code>gradle/wrapper/gradle-wrapper.properties</code> to new version.</p>\n<p>If you downgrade JDK version, you can download from <a href=\"https://www.oracle.com/java/technologies/javase/jdk11-archive-downloads.html\" rel=\"noreferrer\">this</a>. In my case, I downgraded from Java SE 15 to Java SE 11.</p>\n<p>After I open Android of Flutter project</p>\n<p><a href=\"https://i.stack.imgur.com/lP1mF.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/lP1mF.png\" alt=\"enter image description here\" /></a></p>\n<p>Go to <code>Preferences-&gt;Build, Execution, Deployment → Build Tools → Gradle → </code> and choose JDK version 11.\n<a href=\"https://i.stack.imgur.com/9H0zb.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/9H0zb.png\" alt=\"enter image description here\" /></a></p>\n<p>Go to Build -&gt; Clean Project -&gt; Rebuild Project.</p>\n<p><a href=\"https://i.stack.imgur.com/fd8nu.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/fd8nu.png\" alt=\"enter image description here\" /></a></p>\n<p>Go to <code>Terminal</code> run <code>java --version</code>, if it still show JE version 15 then You must set JAVA_HOME before.</p>\n<p>You only need to add the following to your <code>.bash_profile</code> or <code>.zshrc</code></p>\n<pre><code>export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-11.0.15.jdk/Contents/Home\n</code></pre>\n<p>Save and go to <code>android</code> folder and run again</p>\n<pre><code>./gradlew --version\n</code></pre>\n<p>It will show JDK version 11 correct.</p>\n<p><a href=\"https://i.stack.imgur.com/kZl4l.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/kZl4l.png\" alt=\"enter image description here\" /></a></p>\n<p>Finally, run <code>flutter run</code>.</p>\n"},{"tags":[],"owner":{"account_id":6073790,"reputation":3697,"user_id":4741746,"accept_rate":86,"display_name":"Sushant Gosavi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1660741459,"creation_date":1660741459,"answer_id":73388983,"question_id":63503350,"body_markdown":"I have downgraded gradle file thats why this error happens so finally I have to change Gradle wrapper file From \r\n\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-7.2-all.zip\r\n\r\nto \r\n\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-7.3.3-all.zip","title":"General error during semantic analysis: Unsupported class file major version 57","body":"<p>I have downgraded gradle file thats why this error happens so finally I have to change Gradle wrapper file From</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.2-all.zip\n</code></pre>\n<p>to</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.3.3-all.zip\n</code></pre>\n"},{"tags":[],"owner":{"account_id":119615,"reputation":11742,"user_id":311420,"accept_rate":87,"display_name":"Raymond Chenon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691509221,"creation_date":1691509221,"answer_id":76861134,"question_id":63503350,"body_markdown":"Java(13.0.2) and Gradle(6.6) are not compatible.\r\n\r\n## Fix\r\nYou can either :\r\n- change your JDK version to 14. Path to environment variable `JAVA_HOME`\r\n- or keep your JDK to 13.x and change your Gradle version to 6.0 . In your project `gradle/wrapper/gradle-wrapper.properties` , change the line to `distributionUrl=https\\://services.gradle.org/distributions/gradle-6.0.1-bin.zip` . [Available Gradle distributions][1]\r\n\r\n\r\nHow to know the compatible versions ?\r\n\r\n## Table Java Compatibility\r\n\r\nCheck this https://docs.gradle.org/current/userguide/compatibility.html\r\n\r\n|Java version| First Gradle version to support it|\r\n|------------|-----------|\r\n|8| 2.0|\r\n|9|4.3|\r\n|10|4.7|\r\n|11|5.0|\r\n|12|5.4|\r\n|13|6.0|\r\n|14|6.3|\r\n|15|6.7|\r\n|16|7.0|\r\n|17|7.3|\r\n|18|7.5|\r\n|19|7.6|\r\n|20|8.1 ⚠|\r\n\r\n\r\n  [1]: https://services.gradle.org/distributions/","title":"General error during semantic analysis: Unsupported class file major version 57","body":"<p>Java(13.0.2) and Gradle(6.6) are not compatible.</p>\n<h2>Fix</h2>\n<p>You can either :</p>\n<ul>\n<li>change your JDK version to 14. Path to environment variable <code>JAVA_HOME</code></li>\n<li>or keep your JDK to 13.x and change your Gradle version to 6.0 . In your project <code>gradle/wrapper/gradle-wrapper.properties</code> , change the line to <code>distributionUrl=https\\://services.gradle.org/distributions/gradle-6.0.1-bin.zip</code> . <a href=\"https://services.gradle.org/distributions/\" rel=\"nofollow noreferrer\">Available Gradle distributions</a></li>\n</ul>\n<p>How to know the compatible versions ?</p>\n<h2>Table Java Compatibility</h2>\n<p>Check this <a href=\"https://docs.gradle.org/current/userguide/compatibility.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/compatibility.html</a></p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Java version</th>\n<th>First Gradle version to support it</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>8</td>\n<td>2.0</td>\n</tr>\n<tr>\n<td>9</td>\n<td>4.3</td>\n</tr>\n<tr>\n<td>10</td>\n<td>4.7</td>\n</tr>\n<tr>\n<td>11</td>\n<td>5.0</td>\n</tr>\n<tr>\n<td>12</td>\n<td>5.4</td>\n</tr>\n<tr>\n<td>13</td>\n<td>6.0</td>\n</tr>\n<tr>\n<td>14</td>\n<td>6.3</td>\n</tr>\n<tr>\n<td>15</td>\n<td>6.7</td>\n</tr>\n<tr>\n<td>16</td>\n<td>7.0</td>\n</tr>\n<tr>\n<td>17</td>\n<td>7.3</td>\n</tr>\n<tr>\n<td>18</td>\n<td>7.5</td>\n</tr>\n<tr>\n<td>19</td>\n<td>7.6</td>\n</tr>\n<tr>\n<td>20</td>\n<td>8.1 ⚠</td>\n</tr>\n</tbody>\n</table>\n</div>"}],"owner":{"account_id":19336142,"reputation":371,"user_id":14136696,"display_name":"Noemi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137147,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"answer_count":7,"score":37,"last_activity_date":1691509221,"creation_date":1597920218,"question_id":63503350,"body_markdown":"I&#39;m trying to setup libgdx for a desktop game and when I try to generate the project I have this error and the build fails. \r\nI&#39;ve the latest versions of Java(13.0.2) and Gradle(6.6), both set as environment variables in the path. Can somebody help me? \r\n\r\nThe error looks like this:\r\n\r\n``` \r\nCould not compile settings file &#39;C:\\Users\\noemi\\Desktop\\Test\\settings.gradle&#39;.\r\n&gt; startup failed:\r\n  General error during semantic analysis: Unsupported class file major version 57\r\n  \r\n  java.lang.IllegalArgumentException: Unsupported class file major version 57 \r\n``` \r\n","title":"General error during semantic analysis: Unsupported class file major version 57","body":"<p>I'm trying to setup libgdx for a desktop game and when I try to generate the project I have this error and the build fails.\nI've the latest versions of Java(13.0.2) and Gradle(6.6), both set as environment variables in the path. Can somebody help me?</p>\n<p>The error looks like this:</p>\n<pre><code>Could not compile settings file 'C:\\Users\\noemi\\Desktop\\Test\\settings.gradle'.\n&gt; startup failed:\n  General error during semantic analysis: Unsupported class file major version 57\n  \n  java.lang.IllegalArgumentException: Unsupported class file major version 57 \n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1691528755,"post_id":76861058,"comment_id":135503375,"body_markdown":"How do you build your jar file ? , if you are using maven, do it with `mvn package`  and retry. of course do it after clean","body":"How do you build your jar file ? , if you are using maven, do it with <code>mvn package</code>  and retry. of course do it after clean"},{"owner":{"account_id":24553342,"reputation":5,"user_id":18462267,"display_name":"ArneVC"},"score":0,"creation_date":1691535301,"post_id":76861058,"comment_id":135504209,"body_markdown":"That indeed solves it, I was using IntelliJ IDEA&#39;s built in artifact builder to get a .jar before.","body":"That indeed solves it, I was using IntelliJ IDEA&#39;s built in artifact builder to get a .jar before."}],"owner":{"account_id":24553342,"reputation":5,"user_id":18462267,"display_name":"ArneVC"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691508693,"creation_date":1691508693,"question_id":76861058,"body_markdown":"I have a spring boot app that I can run in intellij taht will output this in the console:\r\n```\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v3.1.2)\r\n\r\n2023-08-08T17:25:17.341+02:00  INFO 16720 --- [           main] vb.backend.BackendApplication            : Starting BackendApplication using Java 17.0.4.1 with PID 16720 (C:\\Users\\Acer\\Documents\\persoonlijk\\code projects\\VB\\VB\\UI\\backend\\target\\classes started by Acer in C:\\Users\\Acer\\Documents\\persoonlijk\\code projects\\VB\\VB\\UI\\backend)\r\n2023-08-08T17:25:17.347+02:00  INFO 16720 --- [           main] vb.backend.BackendApplication            : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-08-08T17:25:18.274+02:00  INFO 16720 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-08-08T17:25:18.332+02:00  INFO 16720 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 50 ms. Found 1 JPA repository interfaces.\r\n2023-08-08T17:25:18.905+02:00  INFO 16720 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2023-08-08T17:25:18.913+02:00  INFO 16720 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-08-08T17:25:18.914+02:00  INFO 16720 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]\r\n2023-08-08T17:25:19.020+02:00  INFO 16720 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-08-08T17:25:19.020+02:00  INFO 16720 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1593 ms\r\n2023-08-08T17:25:19.155+02:00  INFO 16720 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2023-08-08T17:25:19.346+02:00  INFO 16720 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:4639ca67-0856-41e0-a31a-90bc19b84a68 user=SA\r\n2023-08-08T17:25:19.348+02:00  INFO 16720 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2023-08-08T17:25:19.407+02:00  INFO 16720 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2023-08-08T17:25:19.465+02:00  INFO 16720 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final\r\n2023-08-08T17:25:19.468+02:00  INFO 16720 --- [           main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer\r\n2023-08-08T17:25:19.624+02:00  INFO 16720 --- [           main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\r\n2023-08-08T17:25:19.778+02:00  INFO 16720 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\r\n2023-08-08T17:25:20.075+02:00  INFO 16720 --- [           main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\r\n2023-08-08T17:25:20.732+02:00  INFO 16720 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2023-08-08T17:25:20.783+02:00  INFO 16720 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-08-08T17:25:21.063+02:00  WARN 16720 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n2023-08-08T17:25:21.447+02:00  INFO 16720 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n2023-08-08T17:25:21.457+02:00  INFO 16720 --- [           main] vb.backend.BackendApplication            : Started BackendApplication in 4.707 seconds (process running for 5.719)\r\n```\r\n\r\nthat I compiled into a .jar file that I&#39;m trying to run from a .bat that looks like this:\r\n```batch\r\n@echo off\r\ntitle UI-backend\r\ncd &quot;./backend&quot;\r\njava -jar backend.jar\r\n```\r\n\r\nwhich will start the app but shutdown immediatly after:\r\n```\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v3.1.2)\r\n\r\n17:29:27.440 [main] INFO vb.backend.BackendApplication -- Starting BackendApplication using Java 17.0.4.1 with PID 1108 (C:\\Users\\Acer\\Documents\\persoonlijk\\code projects\\VB\\sample .bat setup\\UI\\backend\\backend.jar started by Acer in C:\\Users\\Acer\\Documents\\persoonlijk\\code projects\\VB\\sample .bat setup\\UI\\backend)\r\n17:29:27.444 [main] INFO vb.backend.BackendApplication -- No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n17:29:28.782 [main] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate -- Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n17:29:28.911 [main] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate -- Finished Spring Data repository scanning in 113 ms. Found 1 JPA repository interfaces.\r\n17:29:29.893 [main] INFO com.zaxxer.hikari.HikariDataSource -- HikariPool-1 - Starting...\r\n17:29:30.231 [main] INFO com.zaxxer.hikari.pool.HikariPool -- HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:dd6687ab-bd2c-4d04-9404-b70533daadbf user=SA\r\n17:29:30.234 [main] INFO com.zaxxer.hikari.HikariDataSource -- HikariPool-1 - Start completed.\r\n17:29:30.365 [main] INFO org.hibernate.jpa.internal.util.LogHelper -- HHH000204: Processing PersistenceUnitInfo [name: default]\r\n17:29:30.462 [main] INFO org.hibernate.Version -- HHH000412: Hibernate ORM core version [WORKING]\r\n17:29:30.464 [main] INFO org.hibernate.cfg.Environment -- HHH000406: Using bytecode reflection optimizer\r\n17:29:30.717 [main] INFO org.hibernate.bytecode.internal.BytecodeProviderInitiator -- HHH000021: Bytecode provider name : bytebuddy\r\n17:29:30.853 [main] INFO org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo -- No LoadTimeWeaver setup: ignoring JPA class transformer\r\n17:29:31.394 [main] INFO org.hibernate.bytecode.internal.BytecodeProviderInitiator -- HHH000021: Bytecode provider name : bytebuddy\r\n17:29:32.266 [main] INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator -- HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n17:29:32.328 [main] INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean -- Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n17:29:33.232 [main] INFO vb.backend.BackendApplication -- Started BackendApplication in 6.119 seconds (process running for 6.504)\r\n17:29:33.478 [SpringApplicationShutdownHook] INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean -- Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n17:29:33.483 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource -- HikariPool-1 - Shutdown initiated...\r\n17:29:33.488 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource -- HikariPool-1 - Shutdown completed.\r\n```\r\n\r\nWhy does this happen, it&#39;s the exact same app ran from the same java SDK there should be no reason for the app to shut down yet it just does.","title":"Spring boot app shuts down when .jar is ran from .bat but not in IDE","body":"<p>I have a spring boot app that I can run in intellij taht will output this in the console:</p>\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.1.2)\n\n2023-08-08T17:25:17.341+02:00  INFO 16720 --- [           main] vb.backend.BackendApplication            : Starting BackendApplication using Java 17.0.4.1 with PID 16720 (C:\\Users\\Acer\\Documents\\persoonlijk\\code projects\\VB\\VB\\UI\\backend\\target\\classes started by Acer in C:\\Users\\Acer\\Documents\\persoonlijk\\code projects\\VB\\VB\\UI\\backend)\n2023-08-08T17:25:17.347+02:00  INFO 16720 --- [           main] vb.backend.BackendApplication            : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-08-08T17:25:18.274+02:00  INFO 16720 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-08-08T17:25:18.332+02:00  INFO 16720 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 50 ms. Found 1 JPA repository interfaces.\n2023-08-08T17:25:18.905+02:00  INFO 16720 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-08-08T17:25:18.913+02:00  INFO 16720 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-08-08T17:25:18.914+02:00  INFO 16720 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]\n2023-08-08T17:25:19.020+02:00  INFO 16720 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-08-08T17:25:19.020+02:00  INFO 16720 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1593 ms\n2023-08-08T17:25:19.155+02:00  INFO 16720 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-08-08T17:25:19.346+02:00  INFO 16720 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:4639ca67-0856-41e0-a31a-90bc19b84a68 user=SA\n2023-08-08T17:25:19.348+02:00  INFO 16720 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-08-08T17:25:19.407+02:00  INFO 16720 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-08-08T17:25:19.465+02:00  INFO 16720 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final\n2023-08-08T17:25:19.468+02:00  INFO 16720 --- [           main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer\n2023-08-08T17:25:19.624+02:00  INFO 16720 --- [           main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\n2023-08-08T17:25:19.778+02:00  INFO 16720 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\n2023-08-08T17:25:20.075+02:00  INFO 16720 --- [           main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\n2023-08-08T17:25:20.732+02:00  INFO 16720 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2023-08-08T17:25:20.783+02:00  INFO 16720 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-08-08T17:25:21.063+02:00  WARN 16720 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2023-08-08T17:25:21.447+02:00  INFO 16720 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2023-08-08T17:25:21.457+02:00  INFO 16720 --- [           main] vb.backend.BackendApplication            : Started BackendApplication in 4.707 seconds (process running for 5.719)\n</code></pre>\n<p>that I compiled into a .jar file that I'm trying to run from a .bat that looks like this:</p>\n<pre><code>@echo off\ntitle UI-backend\ncd &quot;./backend&quot;\njava -jar backend.jar\n</code></pre>\n<p>which will start the app but shutdown immediatly after:</p>\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.1.2)\n\n17:29:27.440 [main] INFO vb.backend.BackendApplication -- Starting BackendApplication using Java 17.0.4.1 with PID 1108 (C:\\Users\\Acer\\Documents\\persoonlijk\\code projects\\VB\\sample .bat setup\\UI\\backend\\backend.jar started by Acer in C:\\Users\\Acer\\Documents\\persoonlijk\\code projects\\VB\\sample .bat setup\\UI\\backend)\n17:29:27.444 [main] INFO vb.backend.BackendApplication -- No active profile set, falling back to 1 default profile: &quot;default&quot;\n17:29:28.782 [main] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate -- Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n17:29:28.911 [main] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate -- Finished Spring Data repository scanning in 113 ms. Found 1 JPA repository interfaces.\n17:29:29.893 [main] INFO com.zaxxer.hikari.HikariDataSource -- HikariPool-1 - Starting...\n17:29:30.231 [main] INFO com.zaxxer.hikari.pool.HikariPool -- HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:dd6687ab-bd2c-4d04-9404-b70533daadbf user=SA\n17:29:30.234 [main] INFO com.zaxxer.hikari.HikariDataSource -- HikariPool-1 - Start completed.\n17:29:30.365 [main] INFO org.hibernate.jpa.internal.util.LogHelper -- HHH000204: Processing PersistenceUnitInfo [name: default]\n17:29:30.462 [main] INFO org.hibernate.Version -- HHH000412: Hibernate ORM core version [WORKING]\n17:29:30.464 [main] INFO org.hibernate.cfg.Environment -- HHH000406: Using bytecode reflection optimizer\n17:29:30.717 [main] INFO org.hibernate.bytecode.internal.BytecodeProviderInitiator -- HHH000021: Bytecode provider name : bytebuddy\n17:29:30.853 [main] INFO org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo -- No LoadTimeWeaver setup: ignoring JPA class transformer\n17:29:31.394 [main] INFO org.hibernate.bytecode.internal.BytecodeProviderInitiator -- HHH000021: Bytecode provider name : bytebuddy\n17:29:32.266 [main] INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator -- HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n17:29:32.328 [main] INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean -- Initialized JPA EntityManagerFactory for persistence unit 'default'\n17:29:33.232 [main] INFO vb.backend.BackendApplication -- Started BackendApplication in 6.119 seconds (process running for 6.504)\n17:29:33.478 [SpringApplicationShutdownHook] INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean -- Closing JPA EntityManagerFactory for persistence unit 'default'\n17:29:33.483 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource -- HikariPool-1 - Shutdown initiated...\n17:29:33.488 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource -- HikariPool-1 - Shutdown completed.\n</code></pre>\n<p>Why does this happen, it's the exact same app ran from the same java SDK there should be no reason for the app to shut down yet it just does.</p>\n"},{"tags":["java","spring","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":203641,"reputation":2744,"user_id":451420,"accept_rate":81,"display_name":"luthier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637161194,"creation_date":1637161194,"answer_id":70006743,"question_id":70005369,"body_markdown":"I managed to find a hacky solution. By adding a `List&lt;TransactionDto&gt; dummy(List&lt;Transaction&gt; transaction);` method to `GameMapper`, I have tricked MapStruct into thinking I&#39;m really using `TransactionMapper` for something and it has successfully added it to `GameMapperImpl`. \r\n\r\nI&#39;m still open to non-hacky solutions, though :) ","title":"Use another MapStruct mapper only inside an expression clause","body":"<p>I managed to find a hacky solution. By adding a <code>List&lt;TransactionDto&gt; dummy(List&lt;Transaction&gt; transaction);</code> method to <code>GameMapper</code>, I have tricked MapStruct into thinking I'm really using <code>TransactionMapper</code> for something and it has successfully added it to <code>GameMapperImpl</code>.</p>\n<p>I'm still open to non-hacky solutions, though :)</p>\n"},{"tags":[],"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1637395177,"creation_date":1637395177,"answer_id":70044179,"question_id":70005369,"body_markdown":"&gt;My best guess is that this is due to no other methods in `GameMapper` using `TransactionMapper` explicitly, so Mapstruct decides that it&#39;s not needed and doesn&#39;t inject it in the implementation.\r\n\r\nThat is correct. MapStruct will not inject mappers from `Mapper#uses` if they are not used by MapStruct.\r\n\r\nWhat you could do is to use an abstract class.\r\n\r\ne.g.\r\n\r\n```\r\n@Mapper(injectionStrategy = InjectionStrategy.CONSTRUCTOR, componentModel = &quot;spring&quot;, uses = {TransactionMapper.class, EventMapper.class})\r\npublic abstract class GameMapper {\r\n\r\n    @Autowired\r\n    protected TransactionMapper transactionMapper;\r\n\r\n    @Mapping(target = &quot;transaction&quot;, \r\n        expression = &quot;java(transactionMapper.transactionToDto(findTransactionForPlayer(game, idPlayer)))&quot;)\r\n    public abstract GameResultDto gameToGameResultDto(Game game, Long idPlayer);\r\n\r\n    // Some more methods\r\n\r\n}\r\n```\r\n","title":"Use another MapStruct mapper only inside an expression clause","body":"<blockquote>\n<p>My best guess is that this is due to no other methods in <code>GameMapper</code> using <code>TransactionMapper</code> explicitly, so Mapstruct decides that it's not needed and doesn't inject it in the implementation.</p>\n</blockquote>\n<p>That is correct. MapStruct will not inject mappers from <code>Mapper#uses</code> if they are not used by MapStruct.</p>\n<p>What you could do is to use an abstract class.</p>\n<p>e.g.</p>\n<pre><code>@Mapper(injectionStrategy = InjectionStrategy.CONSTRUCTOR, componentModel = &quot;spring&quot;, uses = {TransactionMapper.class, EventMapper.class})\npublic abstract class GameMapper {\n\n    @Autowired\n    protected TransactionMapper transactionMapper;\n\n    @Mapping(target = &quot;transaction&quot;, \n        expression = &quot;java(transactionMapper.transactionToDto(findTransactionForPlayer(game, idPlayer)))&quot;)\n    public abstract GameResultDto gameToGameResultDto(Game game, Long idPlayer);\n\n    // Some more methods\n\n}\n</code></pre>\n"}],"owner":{"account_id":203641,"reputation":2744,"user_id":451420,"accept_rate":81,"display_name":"luthier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7782,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":70044179,"answer_count":2,"score":6,"last_activity_date":1691508096,"creation_date":1637156140,"question_id":70005369,"body_markdown":"I have a mapper that, for a particular attribute of the target class, needs to choose one from a list of objects inside the source object, and map it using a differente mapper class.\r\n\r\nSimplifying it a lot, the `Game` class contains a list of `Transaction` objects, and my `GameMapper` class looks like this:\r\n\r\n```\r\n@Component\r\n@Mapper(injectionStrategy = InjectionStrategy.CONSTRUCTOR, uses = {TransactionMapper.class, EventMapper.class})\r\npublic interface GameMapper {\r\n\r\n@Mapping(target = &quot;transaction&quot;, \r\n    expression = &quot;java(transactionMapper.transactionToDto(findTransactionForPlayer(game, idPlayer)))&quot;)\r\nGameResultDto gameToGameResultDto(Game game, Long idPlayer);\r\n\r\n// Some more methods\r\n\r\n}\r\n\r\n```\r\n\r\nThe thing is, `EventMapper` gets generated as a `private final EventMapper eventMapper;` attribute inside `GameMapperImpl`, but `TransactionMapper` is not, so the build fails because MapStruct cannot find `transactionMapper`.\r\n\r\nMy best guess is that this is due to no other methods in `GameMapper` using `TransactionMapper` explicitly, so Mapstruct decides that it&#39;s not needed and doesn&#39;t inject it in the implementation.\r\n\r\nSo... is there any way to force MapStruct to include the mappers in the `uses` clause, even it if looks like they are not being used, or any other way to work around this?","title":"Use another MapStruct mapper only inside an expression clause","body":"<p>I have a mapper that, for a particular attribute of the target class, needs to choose one from a list of objects inside the source object, and map it using a differente mapper class.</p>\n<p>Simplifying it a lot, the <code>Game</code> class contains a list of <code>Transaction</code> objects, and my <code>GameMapper</code> class looks like this:</p>\n<pre><code>@Component\n@Mapper(injectionStrategy = InjectionStrategy.CONSTRUCTOR, uses = {TransactionMapper.class, EventMapper.class})\npublic interface GameMapper {\n\n@Mapping(target = &quot;transaction&quot;, \n    expression = &quot;java(transactionMapper.transactionToDto(findTransactionForPlayer(game, idPlayer)))&quot;)\nGameResultDto gameToGameResultDto(Game game, Long idPlayer);\n\n// Some more methods\n\n}\n\n</code></pre>\n<p>The thing is, <code>EventMapper</code> gets generated as a <code>private final EventMapper eventMapper;</code> attribute inside <code>GameMapperImpl</code>, but <code>TransactionMapper</code> is not, so the build fails because MapStruct cannot find <code>transactionMapper</code>.</p>\n<p>My best guess is that this is due to no other methods in <code>GameMapper</code> using <code>TransactionMapper</code> explicitly, so Mapstruct decides that it's not needed and doesn't inject it in the implementation.</p>\n<p>So... is there any way to force MapStruct to include the mappers in the <code>uses</code> clause, even it if looks like they are not being used, or any other way to work around this?</p>\n"},{"tags":["java","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":1402854,"reputation":3712,"user_id":1331297,"accept_rate":82,"display_name":"Sjaak"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1565677252,"creation_date":1565022540,"answer_id":57362597,"question_id":57351869,"body_markdown":"Mapstruct is a code generator. So it needs to know which types to construct in order to generate a method implementation. Having said that, you could do this smarter by using a base mapping method on which you define all the `@Mapping` annotations and ignore the generic type mapping. You still have the methods above but you just specify `@InheritConfiguration`\r\n\r\nAlternatively you could consider playing around with an objectfactory using `@TargetType` to construct the proper generic type. I&#39;m not sure whether that works with a generic mapping method signature. I&#39;m not in the position to check it, but let me know if that works\r\n\r\nE.g.\r\n\r\n        public interface BasePageMapper&lt;S, DTO&gt; {\r\n        \r\n            @Mapping(target = &quot;list&quot;, source = &quot;records&quot;),\r\n            @Mapping(target = &quot;currentPageNum&quot;, source = &quot;current&quot;),\r\n            @Mapping(target = &quot;totalPageNum&quot;, source = &quot;pages&quot;),\r\n            @Mapping(target = &quot;perPageNum&quot;, source = &quot;size&quot;),\r\n            @Mapping(target = &quot;totalItemNum&quot;, source = &quot;total&quot;),\r\n            PageInfoDto&lt;DTO&gt; toPageInfoDto(Page&lt;S&gt; pageInfo);\r\n        \r\n            DTO toDto(S source);\r\n        }\r\n        \r\n    @Mapper( config = CentralConfig.class, uses = StudentMapper.class, componentModel = &quot;spring&quot;)\r\n        public interface StudentMapper extends BasePageMapper&lt;Student, StudentDto&gt; {\r\n        \r\n        }\r\n        \r\n    @Mapper( config = CentralConfig.class, uses = SchoolMapper.class, componentModel = &quot;spring&quot;)\r\n        public interface SchoolMapper extends BasePageMapper&lt;School, SchoolDto&gt; {\r\n        \r\n        }","title":"How to Map to Generic Type?","body":"<p>Mapstruct is a code generator. So it needs to know which types to construct in order to generate a method implementation. Having said that, you could do this smarter by using a base mapping method on which you define all the <code>@Mapping</code> annotations and ignore the generic type mapping. You still have the methods above but you just specify <code>@InheritConfiguration</code></p>\n\n<p>Alternatively you could consider playing around with an objectfactory using <code>@TargetType</code> to construct the proper generic type. I'm not sure whether that works with a generic mapping method signature. I'm not in the position to check it, but let me know if that works</p>\n\n<p>E.g.</p>\n\n<pre><code>    public interface BasePageMapper&lt;S, DTO&gt; {\n\n        @Mapping(target = \"list\", source = \"records\"),\n        @Mapping(target = \"currentPageNum\", source = \"current\"),\n        @Mapping(target = \"totalPageNum\", source = \"pages\"),\n        @Mapping(target = \"perPageNum\", source = \"size\"),\n        @Mapping(target = \"totalItemNum\", source = \"total\"),\n        PageInfoDto&lt;DTO&gt; toPageInfoDto(Page&lt;S&gt; pageInfo);\n\n        DTO toDto(S source);\n    }\n\n@Mapper( config = CentralConfig.class, uses = StudentMapper.class, componentModel = \"spring\")\n    public interface StudentMapper extends BasePageMapper&lt;Student, StudentDto&gt; {\n\n    }\n\n@Mapper( config = CentralConfig.class, uses = SchoolMapper.class, componentModel = \"spring\")\n    public interface SchoolMapper extends BasePageMapper&lt;School, SchoolDto&gt; {\n\n    }\n</code></pre>\n"}],"owner":{"account_id":11281416,"reputation":81,"user_id":8273683,"display_name":"5468sun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15055,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":1,"score":8,"last_activity_date":1691507971,"creation_date":1564975851,"question_id":57351869,"body_markdown":"`PageInfoDto&lt;T&gt;`:\r\n```\r\npublic class PageInfoDto&lt;T&gt; {\r\n    private int currentPageNum;\r\n    private int totalPageNum;\r\n    private int perPageNum;\r\n    private int totalItemNum;\r\n    private List&lt;T&gt; list;\r\n}\r\n```\r\n\r\n`Page&lt;T&gt;`:\r\n```\r\npublic class Page&lt;T&gt; {\r\n    private int current;\r\n    private int total;\r\n    private int size;\r\n    private int items;\r\n    private List&lt;T&gt; list;\r\n}\r\n```\r\n\r\nI have a school list and a student list.\r\n\r\nI want to map `Page&lt;School&gt;` to `PageInfoDto&lt;SchoolDto&gt;` and map  `Page&lt;Student&gt;` to `PageInfoDto&lt;StudentDto&gt;`。\r\n\r\nThis is how my mapper looks like:\r\n```\r\n@Mapper(config = CentralConfig.class, uses = {StudentMapper.class, SchoolMapper.class}, componentModel = &quot;spring&quot;)\r\npublic interface PageInfoMapper {\r\n    @Mappings({\r\n        @Mapping(target = &quot;list&quot;, source = &quot;pageInfo.records&quot;),\r\n        @Mapping(target = &quot;currentPageNum&quot;, source = &quot;pageInfo.current&quot;),\r\n        @Mapping(target = &quot;totalPageNum&quot;, source = &quot;pageInfo.pages&quot;),\r\n        @Mapping(target = &quot;perPageNum&quot;, source = &quot;pageInfo.size&quot;),\r\n        @Mapping(target = &quot;totalItemNum&quot;, source = &quot;pageInfo.total&quot;),\r\n    })\r\n    PageInfoDto&lt;SchoolDto&gt; toPageInfoDto1(Page&lt;School&gt; pageInfo);\r\n\r\n    @Mappings({\r\n        @Mapping(target = &quot;list&quot;, source = &quot;pageInfo.records&quot;),\r\n        @Mapping(target = &quot;currentPageNum&quot;, source = &quot;pageInfo.current&quot;),\r\n        @Mapping(target = &quot;totalPageNum&quot;, source = &quot;pageInfo.pages&quot;),\r\n        @Mapping(target = &quot;perPageNum&quot;, source = &quot;pageInfo.size&quot;),\r\n        @Mapping(target = &quot;totalItemNum&quot;, source = &quot;pageInfo.total&quot;),\r\n    })\r\n    PageInfoDto&lt;StudentDto&gt; toPageInfoDto2(Page&lt;Student&gt; pageInfo);\r\n}\r\n```\r\n\r\nThis is obviously not a clever way to do, having to repeat the same code. Is there a better way to do this？","title":"How to Map to Generic Type?","body":"<p><code>PageInfoDto&lt;T&gt;</code>:</p>\n<pre><code>public class PageInfoDto&lt;T&gt; {\n    private int currentPageNum;\n    private int totalPageNum;\n    private int perPageNum;\n    private int totalItemNum;\n    private List&lt;T&gt; list;\n}\n</code></pre>\n<p><code>Page&lt;T&gt;</code>:</p>\n<pre><code>public class Page&lt;T&gt; {\n    private int current;\n    private int total;\n    private int size;\n    private int items;\n    private List&lt;T&gt; list;\n}\n</code></pre>\n<p>I have a school list and a student list.</p>\n<p>I want to map <code>Page&lt;School&gt;</code> to <code>PageInfoDto&lt;SchoolDto&gt;</code> and map  <code>Page&lt;Student&gt;</code> to <code>PageInfoDto&lt;StudentDto&gt;</code>。</p>\n<p>This is how my mapper looks like:</p>\n<pre><code>@Mapper(config = CentralConfig.class, uses = {StudentMapper.class, SchoolMapper.class}, componentModel = &quot;spring&quot;)\npublic interface PageInfoMapper {\n    @Mappings({\n        @Mapping(target = &quot;list&quot;, source = &quot;pageInfo.records&quot;),\n        @Mapping(target = &quot;currentPageNum&quot;, source = &quot;pageInfo.current&quot;),\n        @Mapping(target = &quot;totalPageNum&quot;, source = &quot;pageInfo.pages&quot;),\n        @Mapping(target = &quot;perPageNum&quot;, source = &quot;pageInfo.size&quot;),\n        @Mapping(target = &quot;totalItemNum&quot;, source = &quot;pageInfo.total&quot;),\n    })\n    PageInfoDto&lt;SchoolDto&gt; toPageInfoDto1(Page&lt;School&gt; pageInfo);\n\n    @Mappings({\n        @Mapping(target = &quot;list&quot;, source = &quot;pageInfo.records&quot;),\n        @Mapping(target = &quot;currentPageNum&quot;, source = &quot;pageInfo.current&quot;),\n        @Mapping(target = &quot;totalPageNum&quot;, source = &quot;pageInfo.pages&quot;),\n        @Mapping(target = &quot;perPageNum&quot;, source = &quot;pageInfo.size&quot;),\n        @Mapping(target = &quot;totalItemNum&quot;, source = &quot;pageInfo.total&quot;),\n    })\n    PageInfoDto&lt;StudentDto&gt; toPageInfoDto2(Page&lt;Student&gt; pageInfo);\n}\n</code></pre>\n<p>This is obviously not a clever way to do, having to repeat the same code. Is there a better way to do this？</p>\n"},{"tags":["java","x509certificate","safenet"],"owner":{"account_id":1622294,"reputation":317,"user_id":1498603,"display_name":"stefanu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691507778,"creation_date":1691507778,"question_id":76860940,"body_markdown":"As part of a larger project, a test module has been developed and is intended to be integrated into a tomcat-based Java webapp for unattended signing of large batches of documents using a qualified seal certificate that can be issued only on SafeNet tokens.\r\n\r\nWhen running in debug configurations and the token is connected to the local machine (Windows), documents are signed properly.\r\n\r\nWhen running on a remote server (also Windows), the token, attached to the server, is not detected.\r\n\r\nThere are two things that have been noticed :\r\n\r\n 1. the token is detected by the remote webapp code when attached locally and a remote desktop session to the server is active (this may be due to remote desktop config)\r\n 2. the token is detected by the webapp code when attached to the server only if a GUI session is active \r\n\r\nIs it possible to make the token accessible to the webapp code when connected on the server without an active session ?\r\n\r\n","title":"Using a qualified seal certificate issued on a SafeNet token for unattended operations in Java","body":"<p>As part of a larger project, a test module has been developed and is intended to be integrated into a tomcat-based Java webapp for unattended signing of large batches of documents using a qualified seal certificate that can be issued only on SafeNet tokens.</p>\n<p>When running in debug configurations and the token is connected to the local machine (Windows), documents are signed properly.</p>\n<p>When running on a remote server (also Windows), the token, attached to the server, is not detected.</p>\n<p>There are two things that have been noticed :</p>\n<ol>\n<li>the token is detected by the remote webapp code when attached locally and a remote desktop session to the server is active (this may be due to remote desktop config)</li>\n<li>the token is detected by the webapp code when attached to the server only if a GUI session is active</li>\n</ol>\n<p>Is it possible to make the token accessible to the webapp code when connected on the server without an active session ?</p>\n"},{"tags":["java","vector","simd"],"comments":[{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":0,"creation_date":1691507614,"post_id":76860317,"comment_id":135499574,"body_markdown":"Here is some doc, https://docs.oracle.com/en/java/javase/20/docs/api/jdk.incubator.vector/jdk/incubator/vector/package-summary.html\n\nMaybe you could separate the operations and the conversions to see where the problem is.","body":"Here is some doc, <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/jdk.incubator.vector/jdk/incubator/vector/package-summary.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/20/docs/api/jdk.incubator.vec&zwnj;&#8203;tor/&hellip;</a>  Maybe you could separate the operations and the conversions to see where the problem is."}],"owner":{"account_id":23450751,"reputation":11,"user_id":17506944,"display_name":"Jatinder Sangha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1691507589,"creation_date":1691503378,"question_id":76860317,"body_markdown":"I&#39;m using JDK21 EA to test the Vector API performance.\r\n\r\nMy original (non-vector) code looks like this:\r\n\r\n```\r\ndouble[] src;\r\ndouble divisor;\r\nfloat[] dst;\r\n\r\nfor (int i=0; i&lt;src.length; ++i) {\r\n  if (src[i]&lt;=0.0d) {\r\n    dst[i] = -1.0f;\r\n  }\r\n  else {\r\n    double v = src[i] / divisor;\r\n    float f = 10.0f * log10((float)v);\r\n    dst[i] = f;\r\n  }\r\n}\r\n```\r\n\r\nI&#39;ve rewritten it to use the vector API (I&#39;m sure there&#39;s bugs in this as I haven&#39;t checked the results):\r\n\r\n```\r\ndouble[] src;\r\ndouble divisor;\r\nfloat[] dst;\r\n\r\nfor (int j=0; j&lt;src.length; j+=DoubleVector.SPECIES_512.length()) {\r\n  DoubleVector dvsrc = DoubleVector.fromArray(DoubleVector.SPECIES_512, src, j);\r\n  FloatVector  fvdst = FloatVector.fromArray(FloatVector.SPECIES_256, dst, j);\r\n\r\n  // Identify values &lt;= 0.0d\r\n  VectorMask&lt;Double&gt; mask = dvsrc.compare(VectorOperators.LE, 0.0d);\r\n\r\n  // Set those values to -1.0f\r\n  fvdst.blend(-1.0f, mask.cast(FloatVector.SPECIES_256));\r\n\r\n  // Invert the mask, so it now points to values &gt;0.0d\r\n  mask = mask.not();\r\n\r\n  // Divide and cast to float\r\n  FloatVector x = dvsrc.div(divisor, mask).reinterpretAsFloats();\r\n  VectorMask&lt;Float&gt; floatMask = mask.cast(FloatVector.SPECIES_256);\r\n\r\n  // Log10 and multiply\r\n  FloatVector processed = x.lanewise(VectorOperators.LOG10).mul(10.0f);\r\n\r\n  // Store\r\n  fvdst.blend(processed, floatMask);\r\n}\r\n```\r\n\r\nSo, the code above compiles, but obviously it&#39;s a long way from actually working correctly.\r\n\r\nFirst off, the conversion of the DoubleVector (dvsrc) to a FloatVector (x) is wrong as dvsrc.length=8, but x.length=16 (I assume this is because each double gets converted to 2 floats?)\r\n\r\nThis presumably also means that the mask is invalid.\r\n\r\nThen the final blend into fvdst fails because fvdst is 256bits, whereas processed is 512bits long.\r\n\r\n```none\r\njava.lang.ClassCastException: class jdk.incubator.vector.Float512Vector cannot be cast to class jdk.incubator.vector.Float256Vector (jdk.incubator.vector.Float512Vector and jdk.incubator.vector.Float256Vector are in module jdk.incubator.vector of loader &#39;bootstrap&#39;)\r\n```\r\n\r\nI&#39;ve tried the JDK docs, Google searches, different ways to cast the DoubleVector to FloatVector including convertShape() - but so far, I&#39;ve been unable to get this code to run.\r\n\r\nI&#39;m having difficulty getting any real information from the JDK docs.\r\n\r\nCan anyone suggest how to fix this code properly or where I can go to get more detailed information about what&#39;s going on etc?\r\n\r\n\r\n","title":"OpenJDK Vector API type conversion issue (Double to Float)","body":"<p>I'm using JDK21 EA to test the Vector API performance.</p>\n<p>My original (non-vector) code looks like this:</p>\n<pre><code>double[] src;\ndouble divisor;\nfloat[] dst;\n\nfor (int i=0; i&lt;src.length; ++i) {\n  if (src[i]&lt;=0.0d) {\n    dst[i] = -1.0f;\n  }\n  else {\n    double v = src[i] / divisor;\n    float f = 10.0f * log10((float)v);\n    dst[i] = f;\n  }\n}\n</code></pre>\n<p>I've rewritten it to use the vector API (I'm sure there's bugs in this as I haven't checked the results):</p>\n<pre><code>double[] src;\ndouble divisor;\nfloat[] dst;\n\nfor (int j=0; j&lt;src.length; j+=DoubleVector.SPECIES_512.length()) {\n  DoubleVector dvsrc = DoubleVector.fromArray(DoubleVector.SPECIES_512, src, j);\n  FloatVector  fvdst = FloatVector.fromArray(FloatVector.SPECIES_256, dst, j);\n\n  // Identify values &lt;= 0.0d\n  VectorMask&lt;Double&gt; mask = dvsrc.compare(VectorOperators.LE, 0.0d);\n\n  // Set those values to -1.0f\n  fvdst.blend(-1.0f, mask.cast(FloatVector.SPECIES_256));\n\n  // Invert the mask, so it now points to values &gt;0.0d\n  mask = mask.not();\n\n  // Divide and cast to float\n  FloatVector x = dvsrc.div(divisor, mask).reinterpretAsFloats();\n  VectorMask&lt;Float&gt; floatMask = mask.cast(FloatVector.SPECIES_256);\n\n  // Log10 and multiply\n  FloatVector processed = x.lanewise(VectorOperators.LOG10).mul(10.0f);\n\n  // Store\n  fvdst.blend(processed, floatMask);\n}\n</code></pre>\n<p>So, the code above compiles, but obviously it's a long way from actually working correctly.</p>\n<p>First off, the conversion of the DoubleVector (dvsrc) to a FloatVector (x) is wrong as dvsrc.length=8, but x.length=16 (I assume this is because each double gets converted to 2 floats?)</p>\n<p>This presumably also means that the mask is invalid.</p>\n<p>Then the final blend into fvdst fails because fvdst is 256bits, whereas processed is 512bits long.</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.ClassCastException: class jdk.incubator.vector.Float512Vector cannot be cast to class jdk.incubator.vector.Float256Vector (jdk.incubator.vector.Float512Vector and jdk.incubator.vector.Float256Vector are in module jdk.incubator.vector of loader 'bootstrap')\n</code></pre>\n<p>I've tried the JDK docs, Google searches, different ways to cast the DoubleVector to FloatVector including convertShape() - but so far, I've been unable to get this code to run.</p>\n<p>I'm having difficulty getting any real information from the JDK docs.</p>\n<p>Can anyone suggest how to fix this code properly or where I can go to get more detailed information about what's going on etc?</p>\n"},{"tags":["java","scala","apache-spark","apache-spark-sql","bigdata"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":1,"creation_date":1691497421,"post_id":76859520,"comment_id":135497093,"body_markdown":"You forgot to post your attempt to solve this problem.","body":"You forgot to post your attempt to solve this problem."},{"owner":{"account_id":11741096,"reputation":9150,"user_id":8593414,"display_name":"Srinivas"},"score":0,"creation_date":1691507419,"post_id":76859520,"comment_id":135499512,"body_markdown":"If any json property contains `null` spark will remove &amp; it will not be available in your final result.","body":"If any json property contains <code>null</code> spark will remove &amp; it will not be available in your final result."}],"answers":[{"tags":[],"owner":{"account_id":11741096,"reputation":9150,"user_id":8593414,"display_name":"Srinivas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691504284,"creation_date":1691498008,"answer_id":76859610,"question_id":76859520,"body_markdown":"`filter` higher order function to filter specific attribute from nested array json.\r\n\r\n`inline` or `inline_outer` - to explode array values.\r\n\r\nBelow is sample code\r\n\r\n```\r\nscala&gt; val df = spark\r\n.read\r\n.option(&quot;multiLine&quot;, &quot;true&quot;)\r\n.json(Seq(data).toDS)\r\n\r\ndf: org.apache.spark.sql.DataFrame = [positions: struct&lt;node: string&gt;, submissions: struct&lt;submissionOffsets: array&lt;struct&lt;attributeName:string,attributeValue:bigint&gt;&gt;&gt;]\r\n\r\nscala&gt; df.show(false)\r\n+---------+----------------------------------------------------------------------+\r\n|positions|submissions                                                           |\r\n+---------+----------------------------------------------------------------------+\r\n|{abc}    |{[{sample1, 1224}, {sample2, 1224}, {sample3, 1224}, {sample4, 1224}]}|\r\n+---------+----------------------------------------------------------------------+\r\n\r\n\r\nscala&gt; df.printSchema\r\nroot\r\n |-- positions: struct (nullable = true)\r\n |    |-- node: string (nullable = true)\r\n |-- submissions: struct (nullable = true)\r\n |    |-- submissionOffsets: array (nullable = true)\r\n |    |    |-- element: struct (containsNull = true)\r\n |    |    |    |-- attributeName: string (nullable = true)\r\n |    |    |    |-- attributeValue: long (nullable = true)\r\n\r\n\r\nscala&gt; \r\n// filter higher order function to filter nested json array values / attributes\r\n// inline_outer is to explode array values\r\n\r\ndf\r\n.selectExpr(\r\n    &quot;*&quot;, // to select all columns from the dataset / dataframe\r\n    &quot;inline_outer(filter(submissions.submissionOffsets, i -&gt; i.attributeName == &#39;sample1&#39;)) as (attributeName, attributeValue)&quot;\r\n)\r\n.toJSON.show(false)\r\n+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\r\n|value                                                                                                                                                                                                                                                                                                                     |\r\n+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\r\n|{&quot;positions&quot;:{&quot;node&quot;:&quot;abc&quot;},&quot;submissions&quot;:{&quot;submissionOffsets&quot;:[{&quot;attributeName&quot;:&quot;sample1&quot;,&quot;attributeValue&quot;:1224},{&quot;attributeName&quot;:&quot;sample2&quot;,&quot;attributeValue&quot;:1224},{&quot;attributeName&quot;:&quot;sample3&quot;,&quot;attributeValue&quot;:1224},{&quot;attributeName&quot;:&quot;sample4&quot;,&quot;attributeValue&quot;:1224}]},&quot;attributeName&quot;:&quot;sample1&quot;,&quot;attributeValue&quot;:1224}|\r\n+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\r\n```","title":"handling nested Json structure","body":"<p><code>filter</code> higher order function to filter specific attribute from nested array json.</p>\n<p><code>inline</code> or <code>inline_outer</code> - to explode array values.</p>\n<p>Below is sample code</p>\n<pre><code>scala&gt; val df = spark\n.read\n.option(&quot;multiLine&quot;, &quot;true&quot;)\n.json(Seq(data).toDS)\n\ndf: org.apache.spark.sql.DataFrame = [positions: struct&lt;node: string&gt;, submissions: struct&lt;submissionOffsets: array&lt;struct&lt;attributeName:string,attributeValue:bigint&gt;&gt;&gt;]\n\nscala&gt; df.show(false)\n+---------+----------------------------------------------------------------------+\n|positions|submissions                                                           |\n+---------+----------------------------------------------------------------------+\n|{abc}    |{[{sample1, 1224}, {sample2, 1224}, {sample3, 1224}, {sample4, 1224}]}|\n+---------+----------------------------------------------------------------------+\n\n\nscala&gt; df.printSchema\nroot\n |-- positions: struct (nullable = true)\n |    |-- node: string (nullable = true)\n |-- submissions: struct (nullable = true)\n |    |-- submissionOffsets: array (nullable = true)\n |    |    |-- element: struct (containsNull = true)\n |    |    |    |-- attributeName: string (nullable = true)\n |    |    |    |-- attributeValue: long (nullable = true)\n\n\nscala&gt; \n// filter higher order function to filter nested json array values / attributes\n// inline_outer is to explode array values\n\ndf\n.selectExpr(\n    &quot;*&quot;, // to select all columns from the dataset / dataframe\n    &quot;inline_outer(filter(submissions.submissionOffsets, i -&gt; i.attributeName == 'sample1')) as (attributeName, attributeValue)&quot;\n)\n.toJSON.show(false)\n+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n|value                                                                                                                                                                                                                                                                                                                     |\n+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n|{&quot;positions&quot;:{&quot;node&quot;:&quot;abc&quot;},&quot;submissions&quot;:{&quot;submissionOffsets&quot;:[{&quot;attributeName&quot;:&quot;sample1&quot;,&quot;attributeValue&quot;:1224},{&quot;attributeName&quot;:&quot;sample2&quot;,&quot;attributeValue&quot;:1224},{&quot;attributeName&quot;:&quot;sample3&quot;,&quot;attributeValue&quot;:1224},{&quot;attributeName&quot;:&quot;sample4&quot;,&quot;attributeValue&quot;:1224}]},&quot;attributeName&quot;:&quot;sample1&quot;,&quot;attributeValue&quot;:1224}|\n+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n</code></pre>\n"}],"owner":{"account_id":29184486,"reputation":7,"user_id":22357949,"display_name":"ravish kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76859610,"answer_count":1,"score":0,"last_activity_date":1691506514,"creation_date":1691497292,"question_id":76859520,"body_markdown":"suppose we have following json structure :\r\n```\r\n{\r\n\t&quot;positions&quot;: {\r\n\t\t&quot;node&quot;: &quot;abc&quot;\r\n\t}\r\n\t&quot;submissions&quot; :{\r\n\t\t&quot;submissionOffsets&quot;:[\r\n\t\t{\r\n\t\t\t&quot;attributeName&quot;: &quot;sample1&quot;,\r\n\t\t\t&quot;attributeValue&quot;: 1224\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;attributeName&quot;: &quot;sample2&quot;,\r\n\t\t\t&quot;attributeValue&quot;: 1224\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;attributeName&quot;: &quot;sample3&quot;,\r\n\t\t\t&quot;attributeValue&quot;: 1224\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;attributeName&quot;: &quot;sample4&quot;,\r\n\t\t\t&quot;attributeValue&quot;: 1224\r\n\t\t}\r\n\t\t\r\n\t}\r\n}\r\n```\r\nand we want to read &quot;submissionOffsets&quot; and extract attributeName and attributeValue based on attribute name for example &quot;sample1&quot; and expected structure should be  **in case of Match**\r\n```\r\n{\r\n\t&quot;positions&quot;: {\r\n\t\t&quot;node&quot;: &quot;abc&quot;\r\n\t}\r\n\t&quot;submissions&quot; :{\r\n\t\t&quot;submissionOffsets&quot;:[\r\n\t\t{\r\n\t\t\t&quot;attributeName&quot;: &quot;sample1&quot;,\r\n\t\t\t&quot;attributeValue&quot;: 1224\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;attributeName&quot;: &quot;sample2&quot;,\r\n\t\t\t&quot;attributeValue&quot;: 1224\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;attributeName&quot;: &quot;sample3&quot;,\r\n\t\t\t&quot;attributeValue&quot;: 1224\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;attributeName&quot;: &quot;sample4&quot;,\r\n\t\t\t&quot;attributeValue&quot;: 1224\r\n\t\t}\r\n\t\t\r\n\t},\r\n&quot;attributeName&quot;: &quot;sample1&quot;,\r\n&quot;attributeValue&quot;: 1224\r\n}\r\n\r\n\r\n**Incase of No Match**\r\n\r\n{\r\n\t&quot;positions&quot;: {\r\n\t\t&quot;node&quot;: &quot;abc&quot;\r\n\t}\r\n\t&quot;submissions&quot; :{\r\n\t\t&quot;submissionOffsets&quot;:[\r\n\t\t{\r\n\t\t\t&quot;attributeName&quot;: &quot;sample1&quot;,\r\n\t\t\t&quot;attributeValue&quot;: 1224\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;attributeName&quot;: &quot;sample2&quot;,\r\n\t\t\t&quot;attributeValue&quot;: 1224\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;attributeName&quot;: &quot;sample3&quot;,\r\n\t\t\t&quot;attributeValue&quot;: 1224\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;attributeName&quot;: &quot;sample4&quot;,\r\n\t\t\t&quot;attributeValue&quot;: 1224\r\n\t\t}\r\n\t\t\r\n\t},\r\n&quot;attributeName&quot;: null,\r\n&quot;attributeValue&quot;: 0.00\r\n}\r\n\r\n```\r\nThis has to be done in dataframes\r\n\r\n\r\nI was trying with dataframes i exploded submissions.submissionOffsets , then checked for attribute name and value, but this giving one column, i have to join that back to original dataframe. ","title":"handling nested Json structure","body":"<p>suppose we have following json structure :</p>\n<pre><code>{\n    &quot;positions&quot;: {\n        &quot;node&quot;: &quot;abc&quot;\n    }\n    &quot;submissions&quot; :{\n        &quot;submissionOffsets&quot;:[\n        {\n            &quot;attributeName&quot;: &quot;sample1&quot;,\n            &quot;attributeValue&quot;: 1224\n        },\n        {\n            &quot;attributeName&quot;: &quot;sample2&quot;,\n            &quot;attributeValue&quot;: 1224\n        },\n        {\n            &quot;attributeName&quot;: &quot;sample3&quot;,\n            &quot;attributeValue&quot;: 1224\n        },\n        {\n            &quot;attributeName&quot;: &quot;sample4&quot;,\n            &quot;attributeValue&quot;: 1224\n        }\n        \n    }\n}\n</code></pre>\n<p>and we want to read &quot;submissionOffsets&quot; and extract attributeName and attributeValue based on attribute name for example &quot;sample1&quot; and expected structure should be  <strong>in case of Match</strong></p>\n<pre><code>{\n    &quot;positions&quot;: {\n        &quot;node&quot;: &quot;abc&quot;\n    }\n    &quot;submissions&quot; :{\n        &quot;submissionOffsets&quot;:[\n        {\n            &quot;attributeName&quot;: &quot;sample1&quot;,\n            &quot;attributeValue&quot;: 1224\n        },\n        {\n            &quot;attributeName&quot;: &quot;sample2&quot;,\n            &quot;attributeValue&quot;: 1224\n        },\n        {\n            &quot;attributeName&quot;: &quot;sample3&quot;,\n            &quot;attributeValue&quot;: 1224\n        },\n        {\n            &quot;attributeName&quot;: &quot;sample4&quot;,\n            &quot;attributeValue&quot;: 1224\n        }\n        \n    },\n&quot;attributeName&quot;: &quot;sample1&quot;,\n&quot;attributeValue&quot;: 1224\n}\n\n\n**Incase of No Match**\n\n{\n    &quot;positions&quot;: {\n        &quot;node&quot;: &quot;abc&quot;\n    }\n    &quot;submissions&quot; :{\n        &quot;submissionOffsets&quot;:[\n        {\n            &quot;attributeName&quot;: &quot;sample1&quot;,\n            &quot;attributeValue&quot;: 1224\n        },\n        {\n            &quot;attributeName&quot;: &quot;sample2&quot;,\n            &quot;attributeValue&quot;: 1224\n        },\n        {\n            &quot;attributeName&quot;: &quot;sample3&quot;,\n            &quot;attributeValue&quot;: 1224\n        },\n        {\n            &quot;attributeName&quot;: &quot;sample4&quot;,\n            &quot;attributeValue&quot;: 1224\n        }\n        \n    },\n&quot;attributeName&quot;: null,\n&quot;attributeValue&quot;: 0.00\n}\n\n</code></pre>\n<p>This has to be done in dataframes</p>\n<p>I was trying with dataframes i exploded submissions.submissionOffsets , then checked for attribute name and value, but this giving one column, i have to join that back to original dataframe.</p>\n"},{"tags":["java","toggle","accordion","wrapper"],"comments":[{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1691506542,"post_id":76860744,"comment_id":135499297,"body_markdown":"Please read [Why is &quot;Can someone help me?&quot; not an actual question?](https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question) and rewrite your question to ask an actual question.","body":"Please read <a href=\"https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question\">Why is &quot;Can someone help me?&quot; not an actual question?</a> and rewrite your question to ask an actual question."}],"owner":{"account_id":29185507,"reputation":1,"user_id":22358783,"display_name":"Sarah Crook"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691506447,"creation_date":1691506447,"question_id":76860744,"body_markdown":"I am having the hardest time with this one... any help is GREATLY appreciated.\r\n\r\nHTML:\r\n\r\n```\r\n&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\r\n    &lt;title&gt;FAQ Accordion&lt;/title&gt;\r\n    &lt;!--Font Awesome--&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css&quot;&gt;\r\n    &lt;!--Google Font--&gt;\r\n    &lt;link href=&quot;https://static.showit.co/file/8xjqzk5sTAmLSMIgi-USpQ/63707/tan_-_enigma.woff&quot; rel=&quot;stylesheet&quot;&gt;\r\n    &lt;!--Stylesheet--&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;style.css&quot;&gt;\r\n\r\n\r\n    &lt;div class=&quot;container&quot;&gt;\r\n        &lt;div class=&quot;wrapper&quot;&gt;\r\n            &lt;button class=&quot;toggle&quot;&gt;\r\n                How would you describe your style?\r\n                &lt;i class=&quot;fas fa-plus icon&quot;&gt;&lt;/i&gt;\r\n            &lt;/button&gt;\r\n            &lt;div class=&quot;content&quot;&gt;\r\n                &lt;p&gt;answer&lt;/p&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=&quot;wrapper&quot;&gt;\r\n            &lt;button class=&quot;toggle&quot;&gt;\r\n                What do your wedding packages include?\r\n                &lt;i class=&quot;fas fa-plus icon&quot;&gt;&lt;/i&gt;\r\n            &lt;/button&gt;\r\n            &lt;div class=&quot;content&quot;&gt;\r\n                &lt;p&gt;answer&lt;/p&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=&quot;wrapper&quot;&gt;\r\n            &lt;button class=&quot;toggle&quot;&gt;\r\n                Do you photograph LGBTQIA+ couples?\r\n                &lt;i class=&quot;fas fa-plus icon&quot;&gt;&lt;/i&gt;\r\n            &lt;/button&gt;\r\n            &lt;div class=&quot;content&quot;&gt;\r\n                &lt;p&gt;answer&lt;/p&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n\r\n&lt;div class=&quot;wrapper&quot;&gt;\r\n            &lt;button class=&quot;toggle&quot;&gt;\r\n                Do you offer payment plans?\r\n                &lt;i class=&quot;fas fa-plus icon&quot;&gt;&lt;/i&gt;\r\n            &lt;/button&gt;\r\n            &lt;div class=&quot;content&quot;&gt;\r\n                &lt;p&gt;answer&lt;/p&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n&lt;div class=&quot;wrapper&quot;&gt;\r\n            &lt;button class=&quot;toggle&quot;&gt;\r\n                Do you help with posing?\r\n                &lt;i class=&quot;fas fa-plus icon&quot;&gt;&lt;/i&gt;\r\n            &lt;/button&gt;\r\n            &lt;div class=&quot;content&quot;&gt;\r\n                &lt;p&gt;answer&lt;/p&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n&lt;div class=&quot;wrapper&quot;&gt;\r\n            &lt;button class=&quot;toggle&quot;&gt;\r\n                I’m obsessed! How do I book you?\r\n                &lt;i class=&quot;fas fa-plus icon&quot;&gt;&lt;/i&gt;\r\n            &lt;/button&gt;\r\n            &lt;div class=&quot;content&quot;&gt;\r\n                &lt;p&gt;answer&lt;/p&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;!--Script--&gt;\r\n    &lt;script src=&quot;script.js&quot;&gt;&lt;/script&gt;\r\n```\r\n\r\n\r\n\r\nCSS:\r\n\r\n```\r\n@font-face {\r\nfont-family: &quot;tan-enigma&quot;;\r\nsrc: url(&quot;https://static.showit.co/file/8xjqzk5sTAmLSMIgi-USpQ/63707/tan_-_enigma.woff&quot;);\r\nsrc: url(&quot;https://static.showit.co/file/8xjqzk5sTAmLSMIgi-USpQ/63707/tan_-_enigma.woff&quot;);\r\n}\r\n\r\n*,\r\n*:before,\r\n*:after{\r\n    padding: 0;\r\n    margin: 0;\r\n    box-sizing: border-box;\r\n}\r\nbody{\r\n    background-color: rgb(16,120,108);\r\n}\r\n.container{\r\n    width: 45%;\r\n    min-width: 1056px;\r\n    position: absolute;\r\n    transform: translate(-50%,-50%);\r\n    top: 50%;\r\n    left: 50%;\r\n}\r\n\r\n@media only screen and (max-width: 600px) {.container{\r\n    width: 45%;\r\n    min-width: 275px;\r\n    position: absolute;\r\n    transform: translate(-50%,-50%);\r\n    top: 50%;\r\n    left: 50%;\r\n}\r\n.toggle{\r\n    width: 100%;\r\n    background-color: transparent;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    font-size: 12px;\r\n    color: #C5A05A;\r\n    font-weight: 500;\r\n    border: none;\r\n    outline: none;\r\n    cursor: pointer;\r\n    padding: 10px 0;}\r\n\r\n.content{\r\n    position: relative;\r\n    font-size: 12px;\r\n    text-align: justify;\r\n    line-height: 12px;\r\n    height: 0;\r\n    overflow: hidden;\r\n    transition: all 1s;\r\n    font-family: rubik!important;\r\n}}\r\n\r\n.wrapper{\r\n      background-color: #ffffff;\r\n    margin-bottom: 20px;\r\n    padding: 15px 40px;\r\n    border-radius: 5px;\r\n    box-shadow: 0 15px 25px rgba(0, 0, 50, 0.2);\r\n    overflow: hidden!important;\r\n\r\n}\r\n.toggle,\r\n.content{\r\n    font-family: &quot;tan-enigma&quot;,sans-serif;\r\n}\r\n.toggle{\r\n    width: 100%;\r\n    background-color: transparent;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    font-size: 16px;\r\n    color: #C5A05A;\r\n    font-weight: 500;\r\n    border: none;\r\n    outline: none;\r\n    cursor: pointer;\r\n    padding: 15px 0;\r\n\r\n}\r\n\r\n .toggle.selected {\r\n            color: black;\r\n        }\r\n\r\n.content{\r\n    position: relative;\r\n    font-size: 14px;\r\n    text-align: justify;\r\n    line-height: 30px;\r\n    height: 0;\r\n    overflow: hidden;\r\n    transition: all 1s;\r\n    font-family: rubik!important;\r\n}\r\n\r\n.wrapper {box-shadow: #E6C8BF;}\r\nbutton.toggl element.style { color: #C5A05A;}\r\n\r\n.wrapper.expanded {\r\n    margin-bottom: 0;\r\n    box-shadow: none;\r\n}\r\n```\r\n\r\n\r\n\r\nJAVA:\r\n```\r\nlet toggles = document.getElementsByClassName(&#39;toggle&#39;);\r\nlet contentDiv = document.getElementsByClassName(&#39;content&#39;);\r\nlet contentHeight = [];\r\n\r\nfor (let i = 0; i &lt; toggles.length; i++) {\r\n    toggles[i].addEventListener(&#39;click&#39;, () =&gt; {\r\n        if (contentHeight[i] === undefined) {\r\n            contentHeight[i] = contentDiv[i].scrollHeight + &quot;px&quot;;\r\n        }\r\n\r\n        if (contentDiv[i].classList.contains(&#39;expanded&#39;)) {\r\n            // Collapse the clicked accordion\r\n            contentDiv[i].classList.remove(&#39;expanded&#39;);\r\n            contentDiv[i].style.height = &quot;0px&quot;;\r\n        } else {\r\n            // Collapse other expanded accordions\r\n            for (let j = 0; j &lt; contentDiv.length; j++) {\r\n                if (j !== i) {\r\n                    contentDiv[j].classList.remove(&#39;expanded&#39;);\r\n                    contentDiv[j].style.height = &quot;0px&quot;;\r\n                }\r\n            }\r\n\r\n            // Expand the clicked accordion\r\n            contentDiv[i].classList.add(&#39;expanded&#39;);\r\n            contentDiv[i].style.height = contentHeight[i];\r\n\r\n            // Calculate the total expanded content height\r\n            let totalExpandedHeight = 0;\r\n            for (let j = 0; j &lt; contentDiv.length; j++) {\r\n                if (j !== i &amp;&amp; contentDiv[j].classList.contains(&#39;expanded&#39;)) {\r\n                    totalExpandedHeight += parseInt(contentHeight[j]);\r\n                }\r\n            }\r\n\r\n            // Adjust the scroll position to prevent expanding upwards\r\n            window.scrollBy(0, totalExpandedHeight);\r\n        }\r\n    });\r\n}\r\n\r\n```\r\n\r\nNo matter what I adjust I cannot keep the accordion from expanding upwards once a question is selected and it&#39;s causing an awful overlap with the other elements I have in the page design. Is there any way to force this to only expand downwards?\r\n\r\nI tried several different wrapper adjustments to no avail.","title":"Can someone help me figure out a way to prevent an accordion from expanding upwards when the toggle is selected?","body":"<p>I am having the hardest time with this one... any help is GREATLY appreciated.</p>\n<p>HTML:</p>\n<pre><code>&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\n    &lt;title&gt;FAQ Accordion&lt;/title&gt;\n    &lt;!--Font Awesome--&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css&quot;&gt;\n    &lt;!--Google Font--&gt;\n    &lt;link href=&quot;https://static.showit.co/file/8xjqzk5sTAmLSMIgi-USpQ/63707/tan_-_enigma.woff&quot; rel=&quot;stylesheet&quot;&gt;\n    &lt;!--Stylesheet--&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;style.css&quot;&gt;\n\n\n    &lt;div class=&quot;container&quot;&gt;\n        &lt;div class=&quot;wrapper&quot;&gt;\n            &lt;button class=&quot;toggle&quot;&gt;\n                How would you describe your style?\n                &lt;i class=&quot;fas fa-plus icon&quot;&gt;&lt;/i&gt;\n            &lt;/button&gt;\n            &lt;div class=&quot;content&quot;&gt;\n                &lt;p&gt;answer&lt;/p&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;wrapper&quot;&gt;\n            &lt;button class=&quot;toggle&quot;&gt;\n                What do your wedding packages include?\n                &lt;i class=&quot;fas fa-plus icon&quot;&gt;&lt;/i&gt;\n            &lt;/button&gt;\n            &lt;div class=&quot;content&quot;&gt;\n                &lt;p&gt;answer&lt;/p&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;wrapper&quot;&gt;\n            &lt;button class=&quot;toggle&quot;&gt;\n                Do you photograph LGBTQIA+ couples?\n                &lt;i class=&quot;fas fa-plus icon&quot;&gt;&lt;/i&gt;\n            &lt;/button&gt;\n            &lt;div class=&quot;content&quot;&gt;\n                &lt;p&gt;answer&lt;/p&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n&lt;div class=&quot;wrapper&quot;&gt;\n            &lt;button class=&quot;toggle&quot;&gt;\n                Do you offer payment plans?\n                &lt;i class=&quot;fas fa-plus icon&quot;&gt;&lt;/i&gt;\n            &lt;/button&gt;\n            &lt;div class=&quot;content&quot;&gt;\n                &lt;p&gt;answer&lt;/p&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n&lt;div class=&quot;wrapper&quot;&gt;\n            &lt;button class=&quot;toggle&quot;&gt;\n                Do you help with posing?\n                &lt;i class=&quot;fas fa-plus icon&quot;&gt;&lt;/i&gt;\n            &lt;/button&gt;\n            &lt;div class=&quot;content&quot;&gt;\n                &lt;p&gt;answer&lt;/p&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n&lt;div class=&quot;wrapper&quot;&gt;\n            &lt;button class=&quot;toggle&quot;&gt;\n                I’m obsessed! How do I book you?\n                &lt;i class=&quot;fas fa-plus icon&quot;&gt;&lt;/i&gt;\n            &lt;/button&gt;\n            &lt;div class=&quot;content&quot;&gt;\n                &lt;p&gt;answer&lt;/p&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;!--Script--&gt;\n    &lt;script src=&quot;script.js&quot;&gt;&lt;/script&gt;\n</code></pre>\n<p>CSS:</p>\n<pre><code>@font-face {\nfont-family: &quot;tan-enigma&quot;;\nsrc: url(&quot;https://static.showit.co/file/8xjqzk5sTAmLSMIgi-USpQ/63707/tan_-_enigma.woff&quot;);\nsrc: url(&quot;https://static.showit.co/file/8xjqzk5sTAmLSMIgi-USpQ/63707/tan_-_enigma.woff&quot;);\n}\n\n*,\n*:before,\n*:after{\n    padding: 0;\n    margin: 0;\n    box-sizing: border-box;\n}\nbody{\n    background-color: rgb(16,120,108);\n}\n.container{\n    width: 45%;\n    min-width: 1056px;\n    position: absolute;\n    transform: translate(-50%,-50%);\n    top: 50%;\n    left: 50%;\n}\n\n@media only screen and (max-width: 600px) {.container{\n    width: 45%;\n    min-width: 275px;\n    position: absolute;\n    transform: translate(-50%,-50%);\n    top: 50%;\n    left: 50%;\n}\n.toggle{\n    width: 100%;\n    background-color: transparent;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    font-size: 12px;\n    color: #C5A05A;\n    font-weight: 500;\n    border: none;\n    outline: none;\n    cursor: pointer;\n    padding: 10px 0;}\n\n.content{\n    position: relative;\n    font-size: 12px;\n    text-align: justify;\n    line-height: 12px;\n    height: 0;\n    overflow: hidden;\n    transition: all 1s;\n    font-family: rubik!important;\n}}\n\n.wrapper{\n      background-color: #ffffff;\n    margin-bottom: 20px;\n    padding: 15px 40px;\n    border-radius: 5px;\n    box-shadow: 0 15px 25px rgba(0, 0, 50, 0.2);\n    overflow: hidden!important;\n\n}\n.toggle,\n.content{\n    font-family: &quot;tan-enigma&quot;,sans-serif;\n}\n.toggle{\n    width: 100%;\n    background-color: transparent;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    font-size: 16px;\n    color: #C5A05A;\n    font-weight: 500;\n    border: none;\n    outline: none;\n    cursor: pointer;\n    padding: 15px 0;\n\n}\n\n .toggle.selected {\n            color: black;\n        }\n\n.content{\n    position: relative;\n    font-size: 14px;\n    text-align: justify;\n    line-height: 30px;\n    height: 0;\n    overflow: hidden;\n    transition: all 1s;\n    font-family: rubik!important;\n}\n\n.wrapper {box-shadow: #E6C8BF;}\nbutton.toggl element.style { color: #C5A05A;}\n\n.wrapper.expanded {\n    margin-bottom: 0;\n    box-shadow: none;\n}\n</code></pre>\n<p>JAVA:</p>\n<pre><code>let toggles = document.getElementsByClassName('toggle');\nlet contentDiv = document.getElementsByClassName('content');\nlet contentHeight = [];\n\nfor (let i = 0; i &lt; toggles.length; i++) {\n    toggles[i].addEventListener('click', () =&gt; {\n        if (contentHeight[i] === undefined) {\n            contentHeight[i] = contentDiv[i].scrollHeight + &quot;px&quot;;\n        }\n\n        if (contentDiv[i].classList.contains('expanded')) {\n            // Collapse the clicked accordion\n            contentDiv[i].classList.remove('expanded');\n            contentDiv[i].style.height = &quot;0px&quot;;\n        } else {\n            // Collapse other expanded accordions\n            for (let j = 0; j &lt; contentDiv.length; j++) {\n                if (j !== i) {\n                    contentDiv[j].classList.remove('expanded');\n                    contentDiv[j].style.height = &quot;0px&quot;;\n                }\n            }\n\n            // Expand the clicked accordion\n            contentDiv[i].classList.add('expanded');\n            contentDiv[i].style.height = contentHeight[i];\n\n            // Calculate the total expanded content height\n            let totalExpandedHeight = 0;\n            for (let j = 0; j &lt; contentDiv.length; j++) {\n                if (j !== i &amp;&amp; contentDiv[j].classList.contains('expanded')) {\n                    totalExpandedHeight += parseInt(contentHeight[j]);\n                }\n            }\n\n            // Adjust the scroll position to prevent expanding upwards\n            window.scrollBy(0, totalExpandedHeight);\n        }\n    });\n}\n\n</code></pre>\n<p>No matter what I adjust I cannot keep the accordion from expanding upwards once a question is selected and it's causing an awful overlap with the other elements I have in the page design. Is there any way to force this to only expand downwards?</p>\n<p>I tried several different wrapper adjustments to no avail.</p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1691507910,"post_id":76860584,"comment_id":135499649,"body_markdown":"In what way does responding with a 404 instead of a 403 provide &quot;protection from hackers&quot;? If you configure your authorization layer correctly, then non-existent resources within sub-paths requiring authentication would always produce a 403 for unauthenticated users, and only if they are authenticated would they receive a 404.","body":"In what way does responding with a 404 instead of a 403 provide &quot;protection from hackers&quot;? If you configure your authorization layer correctly, then non-existent resources within sub-paths requiring authentication would always produce a 403 for unauthenticated users, and only if they are authenticated would they receive a 404."},{"owner":{"account_id":964649,"reputation":458,"user_id":988304,"display_name":"stevestorey"},"score":0,"creation_date":1691528295,"post_id":76860584,"comment_id":135503304,"body_markdown":"You can do it either way really, but a 403 kinda implies that &quot;they might be something here if you can find a vulnerability&quot; whereas a 404 implies &quot;there&#39;s nothing here in any case&quot; which _may_ cause an attacker not to bother looking further.","body":"You can do it either way really, but a 403 kinda implies that &quot;they might be something here if you can find a vulnerability&quot; whereas a 404 implies &quot;there&#39;s nothing here in any case&quot; which <i>may</i> cause an attacker not to bother looking further."},{"owner":{"account_id":23171414,"reputation":195,"user_id":17270610,"display_name":"dynamo"},"score":0,"creation_date":1691570086,"post_id":76860584,"comment_id":135508061,"body_markdown":"yup, exactly what @stevestorey said - just don&#39;t want to give any clues at all away so want them to think cool there is nothing here","body":"yup, exactly what @stevestorey said - just don&#39;t want to give any clues at all away so want them to think cool there is nothing here"},{"owner":{"account_id":21967042,"reputation":84,"user_id":16244113,"display_name":"mamJavad"},"score":0,"creation_date":1691587455,"post_id":76860584,"comment_id":135511722,"body_markdown":"you can write a controller advice for 403 error and return response entity of 404 I think","body":"you can write a controller advice for 403 error and return response entity of 404 I think"}],"answers":[{"tags":[],"owner":{"account_id":9767905,"reputation":1,"user_id":7240779,"display_name":"Bubu Tripathy"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1691506254,"creation_date":1691506254,"answer_id":76860714,"question_id":76860584,"body_markdown":"You’re achieve this redirection by configuring web.xml file. You&#39;ll want to use the &lt;error-page&gt; element to map the 403 status code to a specific error page, which in turn will be redirected to the 404 error page. Here&#39;s an example of how you can do this:\r\n\r\n    &lt;web-app&gt;\r\n    &lt;!-- Other configurations --&gt;\r\n\r\n    &lt;error-page&gt;\r\n        &lt;error-code&gt;403&lt;/error-code&gt;\r\n        &lt;location&gt;/redirect-404&lt;/location&gt;\r\n    &lt;/error-page&gt;\r\n\r\n    &lt;error-page&gt;\r\n        &lt;error-code&gt;404&lt;/error-code&gt;\r\n        &lt;location&gt;/404-error-page.jsp&lt;/location&gt; &lt;!-- Or your desired 404 page --&gt;\r\n    &lt;/error-page&gt;\r\n\r\n    &lt;!-- Other configurations --&gt;\r\n&lt;/web-app&gt;\r\n","title":"Can you redirect a 403 to a 404 in java spring?","body":"<p>You’re achieve this redirection by configuring web.xml file. You'll want to use the  element to map the 403 status code to a specific error page, which in turn will be redirected to the 404 error page. Here's an example of how you can do this:</p>\n<pre><code>&lt;web-app&gt;\n&lt;!-- Other configurations --&gt;\n\n&lt;error-page&gt;\n    &lt;error-code&gt;403&lt;/error-code&gt;\n    &lt;location&gt;/redirect-404&lt;/location&gt;\n&lt;/error-page&gt;\n\n&lt;error-page&gt;\n    &lt;error-code&gt;404&lt;/error-code&gt;\n    &lt;location&gt;/404-error-page.jsp&lt;/location&gt; &lt;!-- Or your desired 404 page --&gt;\n&lt;/error-page&gt;\n\n&lt;!-- Other configurations --&gt;\n</code></pre>\n\n"}],"owner":{"account_id":23171414,"reputation":195,"user_id":17270610,"display_name":"dynamo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1691506254,"creation_date":1691505340,"question_id":76860584,"body_markdown":"I want to redirect users that land on a 403 to a 404 instead. This is simply just an extra bit of protection from hackers so that it doesn&#39;t give away our file structure. \r\n\r\nIs there a nice configuration i can do inside my web.xml?\r\n\r\nSpring 4.3\r\nSpring Security 4.2","title":"Can you redirect a 403 to a 404 in java spring?","body":"<p>I want to redirect users that land on a 403 to a 404 instead. This is simply just an extra bit of protection from hackers so that it doesn't give away our file structure.</p>\n<p>Is there a nice configuration i can do inside my web.xml?</p>\n<p>Spring 4.3\nSpring Security 4.2</p>\n"},{"tags":["java","sql","jdbc","aws-lambda","amazon-redshift"],"comments":[{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1691505785,"post_id":76858709,"comment_id":135499133,"body_markdown":"Is that the full exception stacktrace?","body":"Is that the full exception stacktrace?"},{"owner":{"account_id":6483303,"reputation":198,"user_id":5019659,"accept_rate":0,"display_name":"Arun Ravichandran"},"score":0,"creation_date":1701437717,"post_id":76858709,"comment_id":136778704,"body_markdown":"Any luck to find out the solution ? Exactly facing same scenario and getting same exception","body":"Any luck to find out the solution ? Exactly facing same scenario and getting same exception"}],"owner":{"account_id":3252222,"reputation":11,"user_id":2742186,"display_name":"user2742186"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1691505770,"creation_date":1691490763,"question_id":76858709,"body_markdown":"I am facing an issue while trying to establish a JDBC connection to an Amazon Redshift workgroup from a Lambda function that is also deployed within the same VPC. My goal is to execute insert queries on the Redshift cluster using the JDBC connection. However, I am encountering the following error:\r\n\r\n```none\r\njava.sql.SQLException: The connection attempt failed.\r\nat com.amazon.redshift.util.RedshiftException.getSQLException(RedshiftException.java:56)\r\nat com.amazon.redshift.Driver.connect(Driver.java:326)\r\n```\r\n\r\nHere&#39;s some context on my setup:\r\n\r\nI have created a Redshift workgroup and a corresponding cluster within the same VPC. The Lambda function and the Redshift cluster are both in the same VPC. I am using the appropriate JDBC URL with the IAM authentication method: `jdbc:redshift:iam://&lt;cluster-endpoint&gt;:&lt;port&gt;/&lt;database-name&gt;`\r\n.\r\nI have already verified the following:\r\n\r\n- The Lambda function has the necessary IAM permissions to access the Redshift cluster.\r\n- The Lambda function is assigned a role that allows VPC access.\r\n- The security group settings for both the Lambda function and the Redshift cluster allow necessary inbound and outbound traffic.\r\n\r\nDespite this verification, I am unable to establish the JDBC connection successfully. Are there any additional steps or considerations that I might be missing to resolve this issue? I appreciate any insights or suggestions to help me troubleshoot and resolve this problem.\r\n\r\n","title":"Trouble establishing JDBC connection to Amazon Redshift workgroup from Lambda function in VPC","body":"<p>I am facing an issue while trying to establish a JDBC connection to an Amazon Redshift workgroup from a Lambda function that is also deployed within the same VPC. My goal is to execute insert queries on the Redshift cluster using the JDBC connection. However, I am encountering the following error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.sql.SQLException: The connection attempt failed.\nat com.amazon.redshift.util.RedshiftException.getSQLException(RedshiftException.java:56)\nat com.amazon.redshift.Driver.connect(Driver.java:326)\n</code></pre>\n<p>Here's some context on my setup:</p>\n<p>I have created a Redshift workgroup and a corresponding cluster within the same VPC. The Lambda function and the Redshift cluster are both in the same VPC. I am using the appropriate JDBC URL with the IAM authentication method: <code>jdbc:redshift:iam://&lt;cluster-endpoint&gt;:&lt;port&gt;/&lt;database-name&gt;</code>\n.\nI have already verified the following:</p>\n<ul>\n<li>The Lambda function has the necessary IAM permissions to access the Redshift cluster.</li>\n<li>The Lambda function is assigned a role that allows VPC access.</li>\n<li>The security group settings for both the Lambda function and the Redshift cluster allow necessary inbound and outbound traffic.</li>\n</ul>\n<p>Despite this verification, I am unable to establish the JDBC connection successfully. Are there any additional steps or considerations that I might be missing to resolve this issue? I appreciate any insights or suggestions to help me troubleshoot and resolve this problem.</p>\n"},{"tags":["java","matlab"],"comments":[{"owner":{"account_id":1753605,"reputation":1375,"user_id":1602133,"accept_rate":50,"display_name":"dustincarr"},"score":0,"creation_date":1405098973,"post_id":24687530,"comment_id":38309002,"body_markdown":"After looking at this, there is no real solution.  Just the process of converting from a javaArray to a matlab array is outrageously time consuming.  In fact, you are much better off writing to a file in Java and then reading a file into matlab rather than trying to convert a million bytes between the two.","body":"After looking at this, there is no real solution.  Just the process of converting from a javaArray to a matlab array is outrageously time consuming.  In fact, you are much better off writing to a file in Java and then reading a file into matlab rather than trying to convert a million bytes between the two."}],"answers":[{"tags":[],"owner":{"account_id":2320511,"reputation":93,"user_id":2036385,"display_name":"Hajmola"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1405034418,"creation_date":1405034418,"answer_id":24687853,"question_id":24687530,"body_markdown":"Try byte [] jbytes = new byte[8];\r\nByte class is a wrapper for the primitive byte which is the required argument for DataInpuStream.read(byte []).","title":"Reading data from Java DataInputStream in Matlab for fast communication of large amounts of data","body":"<p>Try byte [] jbytes = new byte[8];\nByte class is a wrapper for the primitive byte which is the required argument for DataInpuStream.read(byte []).</p>\n"},{"tags":[],"owner":{"account_id":29185385,"reputation":1,"user_id":22358684,"display_name":"Martin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691505723,"creation_date":1691505673,"answer_id":76860638,"question_id":24687530,"body_markdown":"This problem is created 9 years ago, but maybe my solution will help others.\r\n\r\nI wrote a small wrapper class to read all available byte to a public buffer.\r\n\r\n    public class ByteInputStream extends java.io.FilterInputStream\r\n    {\r\n      public byte[] Buffer = new byte[65536];\r\n      \r\n      public ByteInputStream(java.io.InputStream IS)\r\n      {\r\n        super(IS);\r\n      }\r\n    \r\n      public int readAll() throws java.io.IOException\r\n      {\r\n        return this.read(Buffer);\r\n      }\r\n    }\r\n\r\nAfter this file is compiled with javac you can us it in Matlab like:\r\n\r\n    Socket = java.net.Socket(&#39;127.0.0.1&#39;, 123);\r\n    SocketIn = this.Socket.getOutputStream();\r\n    SocketOut = ByteInputStream(this.Socket.getInputStream());\r\n    if SocketOut.available() &gt; 0\r\n      NumBytes = SocketOut.readAll();\r\n      Buffer = Socket.Buffer(1:NumBytes);\r\n      disp(Buffer);\r\n    end\r\n\r\n\r\n","title":"Reading data from Java DataInputStream in Matlab for fast communication of large amounts of data","body":"<p>This problem is created 9 years ago, but maybe my solution will help others.</p>\n<p>I wrote a small wrapper class to read all available byte to a public buffer.</p>\n<pre><code>public class ByteInputStream extends java.io.FilterInputStream\n{\n  public byte[] Buffer = new byte[65536];\n  \n  public ByteInputStream(java.io.InputStream IS)\n  {\n    super(IS);\n  }\n\n  public int readAll() throws java.io.IOException\n  {\n    return this.read(Buffer);\n  }\n}\n</code></pre>\n<p>After this file is compiled with javac you can us it in Matlab like:</p>\n<pre><code>Socket = java.net.Socket('127.0.0.1', 123);\nSocketIn = this.Socket.getOutputStream();\nSocketOut = ByteInputStream(this.Socket.getInputStream());\nif SocketOut.available() &gt; 0\n  NumBytes = SocketOut.readAll();\n  Buffer = Socket.Buffer(1:NumBytes);\n  disp(Buffer);\nend\n</code></pre>\n"}],"owner":{"account_id":1753605,"reputation":1375,"user_id":1602133,"accept_rate":50,"display_name":"dustincarr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":664,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1691505723,"creation_date":1405032363,"question_id":24687530,"body_markdown":"I am trying to read data over TCP into matlab using Java classes.  Everything I have seen online for this uses the java.io.DataInputStream.readbyte() method to pull data from the tcp datastream into matlab.  This is much, much too slow (by a factor of about 1000) for the very large amounts of data I am trying to stream.\r\n\r\nI imagine that using the java.io.DataInputStream.read(byte b[]) method would be much faster.  However, I can&#39;t seem to coerce it to work.\r\n\r\nFor example, I am trying the following to create the java byte array in matlab\r\n\r\n    jbytes = javaArray(&#39;java.lang.Byte&#39;,8)\r\n\r\nI then create a DataInputStream object and try to use the read method\r\n\r\n    dataInputStream.read(jbytes)\r\n\r\nAnd I get the error:\r\n\r\nNo method &#39;read&#39; with matching signature found for class &#39;java.io.DataInputStream&#39;\r\n\r\nBased on the Matlab documentation, it seems like I should be able to do this.\r\n\r\nThanks in advance for any help.","title":"Reading data from Java DataInputStream in Matlab for fast communication of large amounts of data","body":"<p>I am trying to read data over TCP into matlab using Java classes.  Everything I have seen online for this uses the java.io.DataInputStream.readbyte() method to pull data from the tcp datastream into matlab.  This is much, much too slow (by a factor of about 1000) for the very large amounts of data I am trying to stream.</p>\n\n<p>I imagine that using the java.io.DataInputStream.read(byte b[]) method would be much faster.  However, I can't seem to coerce it to work.</p>\n\n<p>For example, I am trying the following to create the java byte array in matlab</p>\n\n<pre><code>jbytes = javaArray('java.lang.Byte',8)\n</code></pre>\n\n<p>I then create a DataInputStream object and try to use the read method</p>\n\n<pre><code>dataInputStream.read(jbytes)\n</code></pre>\n\n<p>And I get the error:</p>\n\n<p>No method 'read' with matching signature found for class 'java.io.DataInputStream'</p>\n\n<p>Based on the Matlab documentation, it seems like I should be able to do this.</p>\n\n<p>Thanks in advance for any help.</p>\n"},{"tags":["java","spring","spring-boot","spring-integration","spring-integration-sftp"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691505700,"creation_date":1691505700,"answer_id":76860643,"question_id":76860135,"body_markdown":"Your `publishSubscribeChannel()` configuration is correct and don&#39;t try to make it parallel since you cannot remove (or even close) a remote file because you deal with an `InputStream` in a payload after `Sftp.inboundStreamingAdapter()`. To make it parallel from that source perspective, you need to look into a second argument of the `IntegrationFlows.from()`:\r\n\r\n    static IntegrationFlowBuilder from(MessageSource&lt;?&gt; messageSource,\r\n\t\t\t@Nullable Consumer&lt;SourcePollingChannelAdapterSpec&gt; endpointConfigurer) {\r\n\r\nThat `Consumer&lt;SourcePollingChannelAdapterSpec&gt;` gives you an access to source polling channel adapter options. One of them is `poller(Function&lt;PollerFactory, PollerSpec&gt; pollers)` and can be configured like:\r\n\r\n    e -&gt; e.poller(p -&gt; p.fixedDelay(1000).taskExecutor())\r\n\r\nThat `taskExecutor` allows a scheduled task to be shifted to different thread. Be careful with `maxMessagesPerPoll` (`1` by default for `SourcePollingChannelAdapter`): if it is more than `1`, then that number of messages are going to be emitted in the same thread.\r\n\r\n\r\nYou also can simply have a `channel(c -&gt; c.executor())` just after this `from()`.","title":"Spring Integration: Handle messages from Sftp.inboundStreamingAdapter in parallel","body":"<p>Your <code>publishSubscribeChannel()</code> configuration is correct and don't try to make it parallel since you cannot remove (or even close) a remote file because you deal with an <code>InputStream</code> in a payload after <code>Sftp.inboundStreamingAdapter()</code>. To make it parallel from that source perspective, you need to look into a second argument of the <code>IntegrationFlows.from()</code>:</p>\n<pre><code>static IntegrationFlowBuilder from(MessageSource&lt;?&gt; messageSource,\n        @Nullable Consumer&lt;SourcePollingChannelAdapterSpec&gt; endpointConfigurer) {\n</code></pre>\n<p>That <code>Consumer&lt;SourcePollingChannelAdapterSpec&gt;</code> gives you an access to source polling channel adapter options. One of them is <code>poller(Function&lt;PollerFactory, PollerSpec&gt; pollers)</code> and can be configured like:</p>\n<pre><code>e -&gt; e.poller(p -&gt; p.fixedDelay(1000).taskExecutor())\n</code></pre>\n<p>That <code>taskExecutor</code> allows a scheduled task to be shifted to different thread. Be careful with <code>maxMessagesPerPoll</code> (<code>1</code> by default for <code>SourcePollingChannelAdapter</code>): if it is more than <code>1</code>, then that number of messages are going to be emitted in the same thread.</p>\n<p>You also can simply have a <code>channel(c -&gt; c.executor())</code> just after this <code>from()</code>.</p>\n"}],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76860643,"answer_count":1,"score":0,"last_activity_date":1691505700,"creation_date":1691502019,"question_id":76860135,"body_markdown":"So,\r\n\r\nif have a Spring Integration 5.5 / Spring Boot 2.7 flow that reads XML-files from a SFTP source, processes and stores them, then deletes. Things do work, but sequentially, meaning each file is processed after the other. \r\n\r\nI&#39;d like to do the processing and transforming asynchronously (not necessary in parallel, order is no no importance) to increase the througput. But I can&#39;t figure out, how to configure it.\r\n\r\nThe code:\r\n\r\n````java\r\nIntegrationFlows\r\n  .from(Sftp.inboundStreamingAdapter(sftpTemplate))\r\n  .publishSubscribeChannel(spec -&gt; spec\r\n    .subscribe(\r\n      flow -&gt; \r\n        flow\r\n         .transform( /* file content to xml */ )\r\n         .handle( /* persist as xml */ )\r\n     )\r\n    .subscribe(flow -&gt; flow.handle( /* remove file */ ))\r\n   )\r\n  .get()\r\n````\r\n\r\nI guess the async / parallel handling must be defined between the source and the pub/sub-channel. But how?\r\n\r\n","title":"Spring Integration: Handle messages from Sftp.inboundStreamingAdapter in parallel","body":"<p>So,</p>\n<p>if have a Spring Integration 5.5 / Spring Boot 2.7 flow that reads XML-files from a SFTP source, processes and stores them, then deletes. Things do work, but sequentially, meaning each file is processed after the other.</p>\n<p>I'd like to do the processing and transforming asynchronously (not necessary in parallel, order is no no importance) to increase the througput. But I can't figure out, how to configure it.</p>\n<p>The code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>IntegrationFlows\n  .from(Sftp.inboundStreamingAdapter(sftpTemplate))\n  .publishSubscribeChannel(spec -&gt; spec\n    .subscribe(\n      flow -&gt; \n        flow\n         .transform( /* file content to xml */ )\n         .handle( /* persist as xml */ )\n     )\n    .subscribe(flow -&gt; flow.handle( /* remove file */ ))\n   )\n  .get()\n</code></pre>\n<p>I guess the async / parallel handling must be defined between the source and the pub/sub-channel. But how?</p>\n"},{"tags":["java","spring-boot","cron","quartz"],"comments":[{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1691508078,"post_id":76860548,"comment_id":135499694,"body_markdown":"you can also check ShedLock to run scheduled jobs on multiple instances, but right now if it&#39;s enough to run on only 1 instance, then stay keep it up.","body":"you can also check ShedLock to run scheduled jobs on multiple instances, but right now if it&#39;s enough to run on only 1 instance, then stay keep it up."},{"owner":{"account_id":298835,"reputation":503,"user_id":605076,"display_name":"jholder"},"score":0,"creation_date":1693230524,"post_id":76860548,"comment_id":135729088,"body_markdown":"This doesn&#39;t anwer the actual question. However, ShedLock does provide another tool on the belt if your primary need is to prevent job execution across multiple running instances of an application/job.","body":"This doesn&#39;t anwer the actual question. However, ShedLock does provide another tool on the belt if your primary need is to prevent job execution across multiple running instances of an application/job."}],"owner":{"account_id":298835,"reputation":503,"user_id":605076,"display_name":"jholder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691505107,"creation_date":1691505107,"question_id":76860548,"body_markdown":"I&#39;ve configured quartz manually before, but I thought that this time around, i would try and utilize as much of the spring-boot (2.7.4) magic as I could.\r\n\r\n(I also want to say, it&#39;s entirely possible I was hoping for too much, but would appreciate any feedback. At the end of the day, I was hoping/thinking that using the @Scheduled annotation, would be sufficient to get the quartz jobs/triggers copied into the database-backed quartz tables.\r\n\r\nThe desired end state should result with the system being clustered, with the jobs stored in the application defined  dataSource. The application where the job runs is deployed to a cloud environment with multiple running instances, and we only need one of those apps to acutally do this work.\r\n\r\nFrom the quartz/spring perspective, I have the following config.\r\n\r\n```\r\nspring.quartz.scheduler-name=super-duper-scheduler\r\nspring.quartz.properties.org.quartz.scheduler.instanceId=AUTO\r\nspring.quartz.job-store-type=jdbc\r\nspring.quartz.properties.org.quartz.job-store.class=org.quartz.impl.jdbcjobstore.LocalDataSourceJobStore\r\nspring.quartz.properties.org.quartz.jobStore.tablePrefix = QRTZ_\r\nspring.quartz.properties.org.quartz.jobStore.isClustered = true\r\nspring.quartz.properties.org.quartz.jobStore.clusterCheckinInterval = 20000\r\n```\r\n\r\nIn the code, in a spring component i have:\r\n\r\n```\r\n    @Scheduled(cron = &quot;0 */20 * * * *&quot;)\r\n    public void updateVendorInfoFromSam() {\r\n      ... doing stuff\r\n    }\r\n```\r\nLooking at the logs after startup, everything looks about how i would expect\r\n\r\n\r\n```\r\n2023-08-08 09:14:12,264 [main] INFO  org.quartz.impl.StdSchedulerFactory - Using default implementation for ThreadExecutor\r\n2023-08-08 09:14:12,273 [main] INFO  o.quartz.core.SchedulerSignalerImpl - Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl\r\n2023-08-08 09:14:12,274 [main] INFO  org.quartz.core.QuartzScheduler - Quartz Scheduler v.2.3.2 created.\r\n2023-08-08 09:14:12,306 [main] INFO  o.s.s.quartz.LocalDataSourceJobStore - Using db table-based data access locking (synchronization).\r\n2023-08-08 09:14:12,307 [main] INFO  o.s.s.quartz.LocalDataSourceJobStore - JobStoreCMT initialized.\r\n2023-08-08 09:14:12,307 [main] INFO  org.quartz.core.QuartzScheduler - Scheduler meta-data: Quartz Scheduler (v2.3.2) &#39;super-duper-scheduler&#39; with instanceId &#39;@#$@#$@#$&#39;\r\n  Scheduler class: &#39;org.quartz.core.QuartzScheduler&#39; - running locally.\r\n  NOT STARTED.\r\n  Currently in standby mode.\r\n  Number of jobs executed: 0\r\n  Using thread pool &#39;org.quartz.simpl.SimpleThreadPool&#39; - with 10 threads.\r\n  Using job-store &#39;org.springframework.scheduling.quartz.LocalDataSourceJobStore&#39; - which supports persistence. and is clustered.\r\n\r\n2023-08-08 09:14:12,308 [main] INFO  org.quartz.impl.StdSchedulerFactory - Quartz scheduler &#39;super-duper-scheduler&#39; initialized from an externally provided properties instance.\r\n2023-08-08 09:14:12,308 [main] INFO  org.quartz.impl.StdSchedulerFactory - Quartz scheduler version: 2.3.2\r\n2023-08-08 09:14:12,308 [main] INFO  org.quartz.core.QuartzScheduler - JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@1727d525\r\n```\r\n\r\nWhen I manually check the quartz database tables, a few tables have some minimum of data, but the jobs and triggers tables (which historically have held the job and trigger info) are not being written to (well at least, nothing is persisting). (Not sure that it matters at this point, but that ds has autocommit turned off.) \r\n\r\nThe overarching question I have is..... *should* I expect to set up a job in spring, using only the @Scheduled annotation, and have it run in a clustered manner (aka. only run on one instance) using quartz?  ","title":"Should spring boot write to the quartz database table(s) (aka QRTZ_TRIGGERS) when using only @Scheduled(cron=&#39;?&#39;)?","body":"<p>I've configured quartz manually before, but I thought that this time around, i would try and utilize as much of the spring-boot (2.7.4) magic as I could.</p>\n<p>(I also want to say, it's entirely possible I was hoping for too much, but would appreciate any feedback. At the end of the day, I was hoping/thinking that using the @Scheduled annotation, would be sufficient to get the quartz jobs/triggers copied into the database-backed quartz tables.</p>\n<p>The desired end state should result with the system being clustered, with the jobs stored in the application defined  dataSource. The application where the job runs is deployed to a cloud environment with multiple running instances, and we only need one of those apps to acutally do this work.</p>\n<p>From the quartz/spring perspective, I have the following config.</p>\n<pre><code>spring.quartz.scheduler-name=super-duper-scheduler\nspring.quartz.properties.org.quartz.scheduler.instanceId=AUTO\nspring.quartz.job-store-type=jdbc\nspring.quartz.properties.org.quartz.job-store.class=org.quartz.impl.jdbcjobstore.LocalDataSourceJobStore\nspring.quartz.properties.org.quartz.jobStore.tablePrefix = QRTZ_\nspring.quartz.properties.org.quartz.jobStore.isClustered = true\nspring.quartz.properties.org.quartz.jobStore.clusterCheckinInterval = 20000\n</code></pre>\n<p>In the code, in a spring component i have:</p>\n<pre><code>    @Scheduled(cron = &quot;0 */20 * * * *&quot;)\n    public void updateVendorInfoFromSam() {\n      ... doing stuff\n    }\n</code></pre>\n<p>Looking at the logs after startup, everything looks about how i would expect</p>\n<pre><code>2023-08-08 09:14:12,264 [main] INFO  org.quartz.impl.StdSchedulerFactory - Using default implementation for ThreadExecutor\n2023-08-08 09:14:12,273 [main] INFO  o.quartz.core.SchedulerSignalerImpl - Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl\n2023-08-08 09:14:12,274 [main] INFO  org.quartz.core.QuartzScheduler - Quartz Scheduler v.2.3.2 created.\n2023-08-08 09:14:12,306 [main] INFO  o.s.s.quartz.LocalDataSourceJobStore - Using db table-based data access locking (synchronization).\n2023-08-08 09:14:12,307 [main] INFO  o.s.s.quartz.LocalDataSourceJobStore - JobStoreCMT initialized.\n2023-08-08 09:14:12,307 [main] INFO  org.quartz.core.QuartzScheduler - Scheduler meta-data: Quartz Scheduler (v2.3.2) 'super-duper-scheduler' with instanceId '@#$@#$@#$'\n  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.\n  NOT STARTED.\n  Currently in standby mode.\n  Number of jobs executed: 0\n  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.\n  Using job-store 'org.springframework.scheduling.quartz.LocalDataSourceJobStore' - which supports persistence. and is clustered.\n\n2023-08-08 09:14:12,308 [main] INFO  org.quartz.impl.StdSchedulerFactory - Quartz scheduler 'super-duper-scheduler' initialized from an externally provided properties instance.\n2023-08-08 09:14:12,308 [main] INFO  org.quartz.impl.StdSchedulerFactory - Quartz scheduler version: 2.3.2\n2023-08-08 09:14:12,308 [main] INFO  org.quartz.core.QuartzScheduler - JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@1727d525\n</code></pre>\n<p>When I manually check the quartz database tables, a few tables have some minimum of data, but the jobs and triggers tables (which historically have held the job and trigger info) are not being written to (well at least, nothing is persisting). (Not sure that it matters at this point, but that ds has autocommit turned off.)</p>\n<p>The overarching question I have is..... <em>should</em> I expect to set up a job in spring, using only the @Scheduled annotation, and have it run in a clustered manner (aka. only run on one instance) using quartz?</p>\n"},{"tags":["java","netbeans","ide","netbeans-platform"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1688703750,"post_id":76633702,"comment_id":135112265,"body_markdown":"I have Netbeans 16 and it has `Java with Ant/Java Web` under the (new project) categories, with `Web Application` as one of the project types.  I build a recent web application with it - can&#39;t remember how I got it to work :P","body":"I have Netbeans 16 and it has <code>Java with Ant&#47;Java Web</code> under the (new project) categories, with <code>Web Application</code> as one of the project types.  I build a recent web application with it - can&#39;t remember how I got it to work :P"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1688709124,"post_id":76633702,"comment_id":135112719,"body_markdown":"[1] The _&quot;java web feature&quot; has not been removed. Try **File &gt; New Project... &gt; Java with Ant &gt; Java Web &gt; Web Application**. [2] Your question is close enough to be a duplicate of [How to create Java project in Netbeans, without using Maven as default?](https://stackoverflow.com/q/56311186/2985643) The [accepted answer](https://stackoverflow.com/a/56330546/2985643) explains why the changes were made to NetBeans. [3] Your need for guidance on using Maven is off topic here, but since you can still create web applications using the familiar approach that is probably no longer a concern anyway.","body":"[1] The _&quot;java web feature&quot; has not been removed. Try <b>File &gt; New Project... &gt; Java with Ant &gt; Java Web &gt; Web Application</b>. [2] Your question is close enough to be a duplicate of <a href=\"https://stackoverflow.com/q/56311186/2985643\">How to create Java project in Netbeans, without using Maven as default?</a> The <a href=\"https://stackoverflow.com/a/56330546/2985643\">accepted answer</a> explains why the changes were made to NetBeans. [3] Your need for guidance on using Maven is off topic here, but since you can still create web applications using the familiar approach that is probably no longer a concern anyway."},{"owner":{"account_id":22919884,"reputation":13,"user_id":17055870,"display_name":" Kaif Bhombal"},"score":0,"creation_date":1688755170,"post_id":76633702,"comment_id":135121325,"body_markdown":"(For all who have helped me)---&gt;@skomisa and @MadProgrammer . **Thank you sincerely for your tremendous assistance. As a newcomer to Java, I&#39;m still navigating uncharted territory and encountering countless unknowns. Having a mentor like yourself has been an invaluable resource. I am genuinely grateful for the time and effort you invest in guiding newbies like me. Your support means a great deal to me.**","body":"(For all who have helped me)---&gt;@skomisa and @MadProgrammer . <b>Thank you sincerely for your tremendous assistance. As a newcomer to Java, I&#39;m still navigating uncharted territory and encountering countless unknowns. Having a mentor like yourself has been an invaluable resource. I am genuinely grateful for the time and effort you invest in guiding newbies like me. Your support means a great deal to me.</b>"}],"owner":{"account_id":22919884,"reputation":13,"user_id":17055870,"display_name":" Kaif Bhombal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1688753561,"answer_count":0,"score":1,"last_activity_date":1691504882,"creation_date":1688699126,"question_id":76633702,"body_markdown":"I have been using an older version of NetBeans (8.2) to create web services and applications in my college. However, I recently discovered that the newer version of Apache NetBeans has switched to Maven. Despite asking around and searching online, I haven&#39;t found a clear answer on why ***java web*** feature was removed from older versions of Apache NetBeans and Maven was adopted for all future IDE updates.\r\n\r\n[java web feature removed](https://i.stack.imgur.com/3kEOd.png).\r\n\r\n\r\n\r\nCan someone guide me on how to utilize the Maven feature in the newer version of Apache NetBeans for creating Java web applications? I would appreciate any step-by-step instructions or relevant resources to help me get started. Thank you in advance!\r\n\r\nare older versions of IDE still used in Industry when we have the latest version of Apache Netbeans which has maven instead? \r\n\r\n**Why did Apache remove the Java web app feature in its newer versions of IDE; Is there some problem with older versions of IDE using the Java web app feature?**\r\n[java web feature removed](https://i.stack.imgur.com/3kEOd.png).","title":"why did Apache removed java web app feature from it&#39;s IDE","body":"<p>I have been using an older version of NetBeans (8.2) to create web services and applications in my college. However, I recently discovered that the newer version of Apache NetBeans has switched to Maven. Despite asking around and searching online, I haven't found a clear answer on why <em><strong>java web</strong></em> feature was removed from older versions of Apache NetBeans and Maven was adopted for all future IDE updates.</p>\n<p><a href=\"https://i.stack.imgur.com/3kEOd.png\" rel=\"nofollow noreferrer\">java web feature removed</a>.</p>\n<p>Can someone guide me on how to utilize the Maven feature in the newer version of Apache NetBeans for creating Java web applications? I would appreciate any step-by-step instructions or relevant resources to help me get started. Thank you in advance!</p>\n<p>are older versions of IDE still used in Industry when we have the latest version of Apache Netbeans which has maven instead?</p>\n<p><strong>Why did Apache remove the Java web app feature in its newer versions of IDE; Is there some problem with older versions of IDE using the Java web app feature?</strong>\n<a href=\"https://i.stack.imgur.com/3kEOd.png\" rel=\"nofollow noreferrer\">java web feature removed</a>.</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1688728903,"post_id":76635846,"comment_id":135116229,"body_markdown":"https://stackoverflow.com/questions/75164355/get-smart-excel-table-with-apache-poi/75172222#75172222","body":"<a href=\"https://stackoverflow.com/questions/75164355/get-smart-excel-table-with-apache-poi/75172222#75172222\" title=\"get smart excel table with apache poi\">stackoverflow.com/questions/75164355/&hellip;</a>"}],"owner":{"account_id":16975150,"reputation":11,"user_id":16747726,"display_name":"Revasha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1688814036,"answer_count":0,"score":0,"last_activity_date":1691504862,"creation_date":1688723463,"question_id":76635846,"body_markdown":"I used the XSSFWorkbook class to generate an excel file `Workbook book = new XSSFWorkbook()`\r\n\r\nTo optimize the application, I decided to switch to SXSSFWorkbook `SXSSFWorkbook book = new SXSSFWorkbook()`\r\n\r\nAs it turns out, the `SXSSFSheet ` that provides `SXSSFWorkbook ` does not have a `createTable(AreaReference)` method, so I used the following:\r\n`XSSFTable table = ((SXSSFWorkbook) book).getXSSFWorkbook().getSheetAt(0).createTable(reference);`\r\n\r\nAnd now, when generating a file, I get errors, despite the fact that i can interact with the file itself and the table:\r\n`Repaired Records: Table from /xl/tables/table1.xml part (Table)`\r\n\r\n\r\n\r\nIf i replace `SXSSFWorkbook` with `XSSFWorkbook` and the table creation method with `XSSFTable table = ((XSSFSheet) sheet).createTable(reference);`, then there are no errors\r\n\r\nThis is what the method itself looks like:\r\n\r\n```\r\n     public static void createTable(Workbook book,\r\n                                    sheet sheet,\r\n                                    stringname,\r\n                                    int pRowStart,\r\n                                    int pColStart,\r\n                                    int pRowEnd,\r\n                                    int pColEnd) {\r\n         AreaReference reference = book.getCreationHelper().createAreaReference(\r\n                 new CellReference(pRowStart, pColStart), new CellReference(pRowEnd, pColEnd)\r\n         );\r\n         XSSFTable table = ((SXSSFWorkbook) book).getXSSFWorkbook().getSheetAt(0).createTable(reference);\r\n// XSSFTable table = ((XSSFSheet) sheet).createTable(reference);\r\n         if (table.getArea() != null) {\r\n             table.getCTTable().addNewAutoFilter().setRef(table.getArea().formatAsString());\r\n         }\r\n     }\r\n\r\n```","title":"Apache poi generate file with exception","body":"<p>I used the XSSFWorkbook class to generate an excel file <code>Workbook book = new XSSFWorkbook()</code></p>\n<p>To optimize the application, I decided to switch to SXSSFWorkbook <code>SXSSFWorkbook book = new SXSSFWorkbook()</code></p>\n<p>As it turns out, the <code>SXSSFSheet </code> that provides <code>SXSSFWorkbook </code> does not have a <code>createTable(AreaReference)</code> method, so I used the following:\n<code>XSSFTable table = ((SXSSFWorkbook) book).getXSSFWorkbook().getSheetAt(0).createTable(reference);</code></p>\n<p>And now, when generating a file, I get errors, despite the fact that i can interact with the file itself and the table:\n<code>Repaired Records: Table from /xl/tables/table1.xml part (Table)</code></p>\n<p>If i replace <code>SXSSFWorkbook</code> with <code>XSSFWorkbook</code> and the table creation method with <code>XSSFTable table = ((XSSFSheet) sheet).createTable(reference);</code>, then there are no errors</p>\n<p>This is what the method itself looks like:</p>\n<pre><code>     public static void createTable(Workbook book,\n                                    sheet sheet,\n                                    stringname,\n                                    int pRowStart,\n                                    int pColStart,\n                                    int pRowEnd,\n                                    int pColEnd) {\n         AreaReference reference = book.getCreationHelper().createAreaReference(\n                 new CellReference(pRowStart, pColStart), new CellReference(pRowEnd, pColEnd)\n         );\n         XSSFTable table = ((SXSSFWorkbook) book).getXSSFWorkbook().getSheetAt(0).createTable(reference);\n// XSSFTable table = ((XSSFSheet) sheet).createTable(reference);\n         if (table.getArea() != null) {\n             table.getCTTable().addNewAutoFilter().setRef(table.getArea().formatAsString());\n         }\n     }\n\n</code></pre>\n"},{"tags":["java","spring-boot","tomcat","tomcat10"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1689134962,"post_id":76665034,"comment_id":135168542,"body_markdown":"You need to show the error message! I presume you realise Tomcat 10 is Jakarta project and uses the Jakarta package name for any framework API not javax unless the javax class is from SE core.","body":"You need to show the error message! I presume you realise Tomcat 10 is Jakarta project and uses the Jakarta package name for any framework API not javax unless the javax class is from SE core."},{"owner":{"account_id":8265735,"reputation":41,"user_id":6215356,"display_name":"Jagdish Raika"},"score":0,"creation_date":1689143420,"post_id":76665034,"comment_id":135169539,"body_markdown":"@SamuelMarchant, the application is not giving error of Jakarta package name change as I am already using the latest dependencies and also have made changes related to this. \nI have edited the question, you can find the error in the question.","body":"@SamuelMarchant, the application is not giving error of Jakarta package name change as I am already using the latest dependencies and also have made changes related to this.  I have edited the question, you can find the error in the question."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1689156080,"post_id":76665034,"comment_id":135172308,"body_markdown":"At a quick glance I don&#39;t see anything here that you couldn&#39;t control via `server.xml`. Why are you writing code for this?","body":"At a quick glance I don&#39;t see anything here that you couldn&#39;t control via <code>server.xml</code>. Why are you writing code for this?"}],"owner":{"account_id":8265735,"reputation":41,"user_id":6215356,"display_name":"Jagdish Raika"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691504828,"creation_date":1689102135,"question_id":76665034,"body_markdown":"We are using the below setter methods of class AbstractHttp11Protocol to configure mTLS in spring-boot based application. After upgrading the application to spring-boot 3, started facing some issues related to Tomcat. I am facing compilation errors and got to know that these methods have been removed in Tomcat 10.x version.\r\n\r\n\r\n```\r\n\t@Bean\r\n\tpublic WebServerFactoryCustomizer&lt;TomcatServletWebServerFactory&gt; containerCustomizer() {\r\n\r\n\t\treturn configurableEmbeddedServletContainer -&gt; {\r\n\t\t\tif (configurableEmbeddedServletContainer != null) {\r\n\t\t\t\tTomcatServletWebServerFactory tomcatEmbeddedServletContainerFactory = configurableEmbeddedServletContainer;\r\n\t\t\t\ttomcatEmbeddedServletContainerFactory.addAdditionalTomcatConnectors(additionalConnector(serverConfig()));\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\tprivate Connector additionalConnector(ServerConfig serverConfig) {\r\n\r\n\t\tSslConfig sslConfig = serverConfig.getSsl();\r\n\r\n\t\tConnector connector = new Connector(&quot;org.apache.coyote.http11.Http11NioProtocol&quot;);\r\n\t\tHttp11NioProtocol protocol = (Http11NioProtocol) connector.getProtocolHandler();\r\n\t\tconnector.setScheme(SCHEME);\r\n\t\tconnector.setSecure(true);\r\n\t\tconnector.setPort(serverConfig.getPort());\r\n\t\tprotocol.setSSLEnabled(true);\r\n\r\n        //getting complilation errors in below code\r\n\t\tprotocol.setKeystoreType(sslConfig.getKeyStoreType());\r\n\t\tprotocol.setKeystoreFile(sslConfig.getKeyStore());\r\n\t\tprotocol.setKeystorePass(String.valueOf(sslConfig.getKeyStorePassword()));\r\n\t\tprotocol.setKeyPass(String.valueOf(sslConfig.getKeyPassword()));\r\n\t\tprotocol.setTruststoreType(sslConfig.getTrustStoreType());\r\n\t\tprotocol.setTruststoreFile(sslConfig.getTrustStore());\r\n\t\tprotocol.setTruststorePass(String.valueOf(sslConfig.getTrustStorePW()));\r\n\t\tprotocol.setSSLProtocol(TLSV_1_2);\r\n\t\tprotocol.setClientAuth(&quot;true&quot;); \r\n\r\n\t\treturn connector;\r\n\t}\r\n```\r\n\r\n\r\nFind below commit where changes have been made in AbstractHttp11Protocol class for Tomcat 10.x :-\r\n\r\n[Remove support for deprecated TLS configuration style][1]\r\n\r\n\r\n  [1]: https://github.com/apache/tomcat/commit/973b0a304532a1d5a63b36ff88842e933cc91b82#diff-d4454b2c33deae44a2c2f5cd354aa3ca70c6a268e78c4fd5e1f76fcebc0181ba\r\n\r\n**Error:-**\r\n\r\n&gt; [ERROR] Failed to execute goal\r\n&gt; org.apache.maven.plugins:maven-compiler-plugin:3.11.0:compile\r\n&gt; (default-compile) on project xxx module: Compilation failure:\r\n&gt; Compilation failure:  [ERROR]\r\n&gt; /controller/HttpsRequestFactory.java:[71,30]\r\n&gt; com.xxx.HttpsRequestFactory.SelectByAlias is not abstract and does not\r\n&gt; override abstract method\r\n&gt; chooseAlias(java.util.Map&lt;java.lang.String,org.apache.hc.core5.ssl.PrivateKeyDetails&gt;,javax.net.ssl.SSLParameters)\r\n&gt; in org.apache.hc.core5.ssl.PrivateKeyStrategy [ERROR]\r\n&gt; /controller/HttpsRequestFactory.java:[81,17] method does not override\r\n&gt; or implement a method from a supertype [ERROR]\r\n&gt; /authentication/TomcatConnectorAutoConfiguration.java:[57,25] cannot\r\n&gt; find symbol [ERROR]   symbol:   method\r\n&gt; setKeystoreType(java.lang.String) [ERROR]   location: variable\r\n&gt; protocol of type org.apache.coyote.http11.Http11NioProtocol [ERROR]\r\n&gt; /authentication/TomcatConnectorAutoConfiguration.java:[58,25] cannot\r\n&gt; find symbol [ERROR]   symbol:   method\r\n&gt; setKeystoreFile(java.lang.String) [ERROR]   location: variable\r\n&gt; protocol of type org.apache.coyote.http11.Http11NioProtocol [ERROR]\r\n&gt; /authentication/TomcatConnectorAutoConfiguration.java:[59,25] cannot\r\n&gt; find symbol [ERROR]   symbol:   method\r\n&gt; setKeystorePass(java.lang.String) [ERROR]   location: variable\r\n&gt; protocol of type org.apache.coyote.http11.Http11NioProtocol [ERROR]\r\n&gt; /authentication/TomcatConnectorAutoConfiguration.java:[60,25] cannot\r\n&gt; find symbol [ERROR]   symbol:   method setKeyPass(java.lang.String)\r\n&gt; [ERROR]   location: variable protocol of type\r\n&gt; org.apache.coyote.http11.Http11NioProtocol [ERROR]\r\n&gt; /authentication/TomcatConnectorAutoConfiguration.java:[61,25] cannot\r\n&gt; find symbol [ERROR]   symbol:   method\r\n&gt; setTruststoreType(java.lang.String) [ERROR]   location: variable\r\n&gt; protocol of type org.apache.coyote.http11.Http11NioProtocol [ERROR]\r\n&gt; /authentication/TomcatConnectorAutoConfiguration.java:[62,25] cannot\r\n&gt; find symbol [ERROR]   symbol:   method\r\n&gt; setTruststoreFile(java.lang.String) [ERROR]   location: variable\r\n&gt; protocol of type org.apache.coyote.http11.Http11NioProtocol [ERROR]\r\n&gt; /authentication/TomcatConnectorAutoConfiguration.java:[63,25] cannot\r\n&gt; find symbol [ERROR]   symbol:   method\r\n&gt; setTruststorePass(java.lang.String) [ERROR]   location: variable\r\n&gt; protocol of type org.apache.coyote.http11.Http11NioProtocol [ERROR]\r\n&gt; /authentication/TomcatConnectorAutoConfiguration.java:[64,25] cannot\r\n&gt; find symbol [ERROR]   symbol:   method\r\n&gt; setSSLProtocol(java.lang.String) [ERROR]   location: variable protocol\r\n&gt; of type org.apache.coyote.http11.Http11NioProtocol [ERROR]\r\n&gt; /authentication/TomcatConnectorAutoConfiguration.java:[65,25] cannot\r\n&gt; find symbol [ERROR]   symbol:   method setClientAuth(java.lang.String)\r\n&gt; [ERROR]   location: variable protocol of type\r\n&gt; org.apache.coyote.http11.Http11NioProtocol\r\n\r\n\r\nPlease suggest if there is any alternative approach to configure these properties or how to use these methods in Tomcat 10.x.","title":"Facing compilation errors due to deletion of methods in class AbstractHttp11Protocol (Tomcat 10.x)","body":"<p>We are using the below setter methods of class AbstractHttp11Protocol to configure mTLS in spring-boot based application. After upgrading the application to spring-boot 3, started facing some issues related to Tomcat. I am facing compilation errors and got to know that these methods have been removed in Tomcat 10.x version.</p>\n<pre><code>    @Bean\n    public WebServerFactoryCustomizer&lt;TomcatServletWebServerFactory&gt; containerCustomizer() {\n\n        return configurableEmbeddedServletContainer -&gt; {\n            if (configurableEmbeddedServletContainer != null) {\n                TomcatServletWebServerFactory tomcatEmbeddedServletContainerFactory = configurableEmbeddedServletContainer;\n                tomcatEmbeddedServletContainerFactory.addAdditionalTomcatConnectors(additionalConnector(serverConfig()));\n            }\n        };\n    }\n\n    private Connector additionalConnector(ServerConfig serverConfig) {\n\n        SslConfig sslConfig = serverConfig.getSsl();\n\n        Connector connector = new Connector(&quot;org.apache.coyote.http11.Http11NioProtocol&quot;);\n        Http11NioProtocol protocol = (Http11NioProtocol) connector.getProtocolHandler();\n        connector.setScheme(SCHEME);\n        connector.setSecure(true);\n        connector.setPort(serverConfig.getPort());\n        protocol.setSSLEnabled(true);\n\n        //getting complilation errors in below code\n        protocol.setKeystoreType(sslConfig.getKeyStoreType());\n        protocol.setKeystoreFile(sslConfig.getKeyStore());\n        protocol.setKeystorePass(String.valueOf(sslConfig.getKeyStorePassword()));\n        protocol.setKeyPass(String.valueOf(sslConfig.getKeyPassword()));\n        protocol.setTruststoreType(sslConfig.getTrustStoreType());\n        protocol.setTruststoreFile(sslConfig.getTrustStore());\n        protocol.setTruststorePass(String.valueOf(sslConfig.getTrustStorePW()));\n        protocol.setSSLProtocol(TLSV_1_2);\n        protocol.setClientAuth(&quot;true&quot;); \n\n        return connector;\n    }\n</code></pre>\n<p>Find below commit where changes have been made in AbstractHttp11Protocol class for Tomcat 10.x :-</p>\n<p><a href=\"https://github.com/apache/tomcat/commit/973b0a304532a1d5a63b36ff88842e933cc91b82#diff-d4454b2c33deae44a2c2f5cd354aa3ca70c6a268e78c4fd5e1f76fcebc0181ba\" rel=\"nofollow noreferrer\">Remove support for deprecated TLS configuration style</a></p>\n<p><strong>Error:-</strong></p>\n<blockquote>\n<p>[ERROR] Failed to execute goal\norg.apache.maven.plugins:maven-compiler-plugin:3.11.0:compile\n(default-compile) on project xxx module: Compilation failure:\nCompilation failure:  [ERROR]\n/controller/HttpsRequestFactory.java:[71,30]\ncom.xxx.HttpsRequestFactory.SelectByAlias is not abstract and does not\noverride abstract method\nchooseAlias(java.util.Map&lt;java.lang.String,org.apache.hc.core5.ssl.PrivateKeyDetails&gt;,javax.net.ssl.SSLParameters)\nin org.apache.hc.core5.ssl.PrivateKeyStrategy [ERROR]\n/controller/HttpsRequestFactory.java:[81,17] method does not override\nor implement a method from a supertype [ERROR]\n/authentication/TomcatConnectorAutoConfiguration.java:[57,25] cannot\nfind symbol [ERROR]   symbol:   method\nsetKeystoreType(java.lang.String) [ERROR]   location: variable\nprotocol of type org.apache.coyote.http11.Http11NioProtocol [ERROR]\n/authentication/TomcatConnectorAutoConfiguration.java:[58,25] cannot\nfind symbol [ERROR]   symbol:   method\nsetKeystoreFile(java.lang.String) [ERROR]   location: variable\nprotocol of type org.apache.coyote.http11.Http11NioProtocol [ERROR]\n/authentication/TomcatConnectorAutoConfiguration.java:[59,25] cannot\nfind symbol [ERROR]   symbol:   method\nsetKeystorePass(java.lang.String) [ERROR]   location: variable\nprotocol of type org.apache.coyote.http11.Http11NioProtocol [ERROR]\n/authentication/TomcatConnectorAutoConfiguration.java:[60,25] cannot\nfind symbol [ERROR]   symbol:   method setKeyPass(java.lang.String)\n[ERROR]   location: variable protocol of type\norg.apache.coyote.http11.Http11NioProtocol [ERROR]\n/authentication/TomcatConnectorAutoConfiguration.java:[61,25] cannot\nfind symbol [ERROR]   symbol:   method\nsetTruststoreType(java.lang.String) [ERROR]   location: variable\nprotocol of type org.apache.coyote.http11.Http11NioProtocol [ERROR]\n/authentication/TomcatConnectorAutoConfiguration.java:[62,25] cannot\nfind symbol [ERROR]   symbol:   method\nsetTruststoreFile(java.lang.String) [ERROR]   location: variable\nprotocol of type org.apache.coyote.http11.Http11NioProtocol [ERROR]\n/authentication/TomcatConnectorAutoConfiguration.java:[63,25] cannot\nfind symbol [ERROR]   symbol:   method\nsetTruststorePass(java.lang.String) [ERROR]   location: variable\nprotocol of type org.apache.coyote.http11.Http11NioProtocol [ERROR]\n/authentication/TomcatConnectorAutoConfiguration.java:[64,25] cannot\nfind symbol [ERROR]   symbol:   method\nsetSSLProtocol(java.lang.String) [ERROR]   location: variable protocol\nof type org.apache.coyote.http11.Http11NioProtocol [ERROR]\n/authentication/TomcatConnectorAutoConfiguration.java:[65,25] cannot\nfind symbol [ERROR]   symbol:   method setClientAuth(java.lang.String)\n[ERROR]   location: variable protocol of type\norg.apache.coyote.http11.Http11NioProtocol</p>\n</blockquote>\n<p>Please suggest if there is any alternative approach to configure these properties or how to use these methods in Tomcat 10.x.</p>\n"},{"tags":["java","android","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1689233526,"post_id":76669946,"comment_id":135184981,"body_markdown":"Please share the file. While I can&#39;t help, I&#39;ll test whether this also happens in PDFBox for desktop. Does it also happen when using the standard text stripper?","body":"Please share the file. While I can&#39;t help, I&#39;ll test whether this also happens in PDFBox for desktop. Does it also happen when using the standard text stripper?"}],"owner":{"account_id":24479754,"reputation":41,"user_id":18398332,"display_name":"prem"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691504810,"creation_date":1689160460,"question_id":76669946,"body_markdown":"I&#39;m using PDF Box Android library to load pdf documents and then using it to extract text from regions on page currently opened using PDFTextStripperByArea. Mostly it works fine but in some cases I&#39;m getting this **Fatal Exception: java.lang.OutOfMemoryError**.\r\n\r\n\r\n\r\n` document = PDDocument.load(mFile, MemoryUsageSetting.setupTempFileOnly());\r\n`\r\n\r\nAnd onDestroy of Activity i&#39;m calling \r\n\r\n    document.close();`\r\n\r\n\r\nI know one solution could be increasing the heap size but that has its own disadvantages. Is there an way we can optimize this and fix this outOfMemory Exception?","title":"PDFBox Android: getting Fatal Exception: java.lang.OutOfMemoryError on calling PDDocument.load method","body":"<p>I'm using PDF Box Android library to load pdf documents and then using it to extract text from regions on page currently opened using PDFTextStripperByArea. Mostly it works fine but in some cases I'm getting this <strong>Fatal Exception: java.lang.OutOfMemoryError</strong>.</p>\n<p><code>document = PDDocument.load(mFile, MemoryUsageSetting.setupTempFileOnly());</code></p>\n<p>And onDestroy of Activity i'm calling</p>\n<pre><code>document.close();`\n</code></pre>\n<p>I know one solution could be increasing the heap size but that has its own disadvantages. Is there an way we can optimize this and fix this outOfMemory Exception?</p>\n"},{"tags":["java","tuples","apache-storm"],"owner":{"account_id":6699754,"reputation":402,"user_id":5166679,"display_name":"gwcoderguy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691504803,"creation_date":1689185986,"question_id":76673445,"body_markdown":"I am using Apache Storm version 2.4 for an application of mine which handles a lot of throughput. In my setup, I initialize a tick tuple like so: (java)\r\n\r\n            topologyBuilder.setBolt(BOLT_A_KEY, new BoltA(config), config.getBoltAThreads())\r\n                .fieldsGrouping(KINESIS_SPOUT_KEY, new Fields(KinesisRecordScheme.FIELD_PARTITION_KEY))\r\n                .addConfiguration(TOPOLOGY_TICK_TUPLE_FREQ_SECS, config.getBoltATickTupleTimeSeconds());\r\nMost of the time works totally fine and as expected; however, at some point (say ~2 weeks?) I notice the topology totally stops and requires a redeploy. During my investigation as to what&#39;s going on, I found that the tick tuple totally stops which could potentially be the culprit (the stopping of the tick tuple would halt further executions for my particular application). I&#39;ve looked into documentation around the tick tuple and found it pretty lacking.\r\n\r\nMy 2 questions then are:\r\n1) Is it expected that the tick tuple would stop if back pressure from the spout became great enough? (I ask this to eliminate the chance that the tick tuple stopping is actually a side effect of the issue and not the root cause)\r\n2) Why might the tick tuple stop working suddenly (and routinely) ? ","title":"Working Tick Tuples suddenly stopping in Apache Storm","body":"<p>I am using Apache Storm version 2.4 for an application of mine which handles a lot of throughput. In my setup, I initialize a tick tuple like so: (java)</p>\n<pre><code>        topologyBuilder.setBolt(BOLT_A_KEY, new BoltA(config), config.getBoltAThreads())\n            .fieldsGrouping(KINESIS_SPOUT_KEY, new Fields(KinesisRecordScheme.FIELD_PARTITION_KEY))\n            .addConfiguration(TOPOLOGY_TICK_TUPLE_FREQ_SECS, config.getBoltATickTupleTimeSeconds());\n</code></pre>\n<p>Most of the time works totally fine and as expected; however, at some point (say ~2 weeks?) I notice the topology totally stops and requires a redeploy. During my investigation as to what's going on, I found that the tick tuple totally stops which could potentially be the culprit (the stopping of the tick tuple would halt further executions for my particular application). I've looked into documentation around the tick tuple and found it pretty lacking.</p>\n<p>My 2 questions then are:</p>\n<ol>\n<li>Is it expected that the tick tuple would stop if back pressure from the spout became great enough? (I ask this to eliminate the chance that the tick tuple stopping is actually a side effect of the issue and not the root cause)</li>\n<li>Why might the tick tuple stop working suddenly (and routinely) ?</li>\n</ol>\n"},{"tags":["java","pdf","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1689254767,"post_id":76679614,"comment_id":135189615,"body_markdown":"You need to remove them from the content streams too.","body":"You need to remove them from the content streams too."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":2,"creation_date":1689260572,"post_id":76679614,"comment_id":135191228,"body_markdown":"You only look for images in the immediate resources of pages. You also have to recurse into form XObjects (including annotation appearances), Patterns, and Type 3 fonts and look into their resources. Also you have to remove the instructions referencing those images from the respective content streams. Also look for inline images there. Additionally images may be referenced from annotation appearance characteristics.","body":"You only look for images in the immediate resources of pages. You also have to recurse into form XObjects (including annotation appearances), Patterns, and Type 3 fonts and look into their resources. Also you have to remove the instructions referencing those images from the respective content streams. Also look for inline images there. Additionally images may be referenced from annotation appearance characteristics."}],"owner":{"account_id":28642160,"reputation":15,"user_id":21931046,"display_name":"Jupit90"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691504797,"creation_date":1689252915,"question_id":76679614,"body_markdown":"I have a pdf file and need to remove all images from it and save a new pdf file without images\r\n\r\nI wrote a function that should delete the images, but it doesn&#39;t\r\n\r\n\r\n```\r\npublic static void RemoveIMGfromPDF(String output) throws IOException {\r\n    \tfor(PDPage page : document.getPages()) {\r\n    \t\tPDResources resources = page.getResources();\r\n    \t\tif (resources != null) {\r\n    \t\t\tPDXObject xObject = resources.getXObject(COSName.getPDFName(&quot;ImageName&quot;));\r\n                if (xObject instanceof PDImageXObject) {\r\n                    COSDictionary dict = ((PDImageXObject) xObject).getCOSObject();\r\n                    dict.removeItem(COSName.getPDFName(&quot;Subtype&quot;));\r\n                \t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \tdocument.save(new File(output));\r\n        document.close();\r\n    }\r\n```\r\n\r\n\r\nString output - The name of the new PDF file\r\n**document** defined above, it is open and has the required PDF file loaded","title":"Apache pdfbox removing images from a pdf file","body":"<p>I have a pdf file and need to remove all images from it and save a new pdf file without images</p>\n<p>I wrote a function that should delete the images, but it doesn't</p>\n<pre><code>public static void RemoveIMGfromPDF(String output) throws IOException {\n        for(PDPage page : document.getPages()) {\n            PDResources resources = page.getResources();\n            if (resources != null) {\n                PDXObject xObject = resources.getXObject(COSName.getPDFName(&quot;ImageName&quot;));\n                if (xObject instanceof PDImageXObject) {\n                    COSDictionary dict = ((PDImageXObject) xObject).getCOSObject();\n                    dict.removeItem(COSName.getPDFName(&quot;Subtype&quot;));\n                    }\n                }\n            }\n        document.save(new File(output));\n        document.close();\n    }\n</code></pre>\n<p>String output - The name of the new PDF file\n<strong>document</strong> defined above, it is open and has the required PDF file loaded</p>\n"},{"tags":["java","message-queue","apache-pulsar"],"answers":[{"tags":[],"owner":{"account_id":3901577,"reputation":1056,"user_id":3229301,"display_name":"David Kjerrumgaard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690304641,"creation_date":1690304641,"answer_id":76765008,"question_id":76688324,"body_markdown":"The `Connection handshake failed` message inside the stacktrace tends to indicate that there is an issue with the TLS connection. \r\n\r\nIs your Pulsar cluster secured in any way? Are you connecting to `pulsar://&lt;IP&gt;:6650` or `pulsar+ssl://&lt;IP&gt;:6651` ?","title":"Could not get connection while getPartitionedTopicMetadata - Connection handshake failed","body":"<p>The <code>Connection handshake failed</code> message inside the stacktrace tends to indicate that there is an issue with the TLS connection.</p>\n<p>Is your Pulsar cluster secured in any way? Are you connecting to <code>pulsar://&lt;IP&gt;:6650</code> or <code>pulsar+ssl://&lt;IP&gt;:6651</code> ?</p>\n"}],"owner":{"account_id":22385087,"reputation":1,"user_id":16598033,"display_name":"BOB"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691504788,"creation_date":1689342650,"question_id":76688324,"body_markdown":"I have setup apache pulsar by following this tutorial: https://pulsar.apache.org/docs/3.0.x/deploy-aws/ but I use aws ansible dynamic inventory rather than terraform inventory in a tutorial. The problem is that once I run the following code\r\n\r\n```\r\nimport org.apache.pulsar.client.api.*;\r\n\r\n\r\npublic class test {\r\n    public static void main(String[] args) throws PulsarClientException {\r\n        PulsarClient client = PulsarClient.builder()\r\n            .serviceUrl(&lt;my pulsar web url&gt;) \r\n            .build();\r\n        \r\n        Producer&lt;String&gt; producer = client.newProducer(Schema.STRING)\r\n        .topic(&quot;my-topic&quot;)\r\n        .create();\r\n\r\n        producer.newMessage()\r\n        .value(&quot;HelloWorld&quot;)\r\n        .send();\r\n\r\n        producer.close();\r\n        client.close();\r\n        \r\n    }    \r\n}\r\n```\r\n\r\nthe following error pops up:\r\n&gt;10:17:35.419 [pulsar-client-io-1-7] DEBUG org.apache.pulsar.client.impl.ClientCnx - [id: 0x7b3029f5, L:/192.168.1.78:52743 - R:] Connected to broker\r\n10:17:35.421 [pulsar-client-io-1-7] DEBUG org.apache.pulsar.client.impl.ClientCnx - Complete: true\r\n10:17:35.604 [pulsar-client-io-1-7] DEBUG org.apache.pulsar.client.impl.ConnectionPool - Removing closed connection from pool: AbstractChannel$CloseFuture@3aac5716(success)\r\n10:17:35.604 [pulsar-client-io-1-7] INFO org.apache.pulsar.client.impl.ClientCnx - [id: 0x7b3029f5, L:/192.168.1.78:52743 ! R:] Disconnected\r\n10:17:35.605 [pulsar-client-io-1-7] WARN org.apache.pulsar.client.impl.ConnectionPool - [[id: 0x7b3029f5, L:/192.168.1.78:52743 ! R:]] Connection handshake failed: org.apache.pulsar.client.api.PulsarClientException: Connection already closed\r\n10:17:35.994 [pulsar-client-scheduled-30-1] WARN org.apache.pulsar.client.impl.PulsarClientImpl - [topic: persistent://public/default/test-topic] Could not get connection while getPartitionedTopicMetadata -- Will try again in 384 ms\r\n\r\n\r\nand these block of message repeats forever. I intentionally remove/hide my pulsar web URL for privacy purposes. I tried to disable my firewall but it does not resolve the error. Does anyone know where the issues are and how I can fix them? I am pretty new to apache pulsar so thank you in advance...\r\n","title":"Could not get connection while getPartitionedTopicMetadata - Connection handshake failed","body":"<p>I have setup apache pulsar by following this tutorial: <a href=\"https://pulsar.apache.org/docs/3.0.x/deploy-aws/\" rel=\"nofollow noreferrer\">https://pulsar.apache.org/docs/3.0.x/deploy-aws/</a> but I use aws ansible dynamic inventory rather than terraform inventory in a tutorial. The problem is that once I run the following code</p>\n<pre><code>import org.apache.pulsar.client.api.*;\n\n\npublic class test {\n    public static void main(String[] args) throws PulsarClientException {\n        PulsarClient client = PulsarClient.builder()\n            .serviceUrl(&lt;my pulsar web url&gt;) \n            .build();\n        \n        Producer&lt;String&gt; producer = client.newProducer(Schema.STRING)\n        .topic(&quot;my-topic&quot;)\n        .create();\n\n        producer.newMessage()\n        .value(&quot;HelloWorld&quot;)\n        .send();\n\n        producer.close();\n        client.close();\n        \n    }    \n}\n</code></pre>\n<p>the following error pops up:</p>\n<blockquote>\n<p>10:17:35.419 [pulsar-client-io-1-7] DEBUG org.apache.pulsar.client.impl.ClientCnx - [id: 0x7b3029f5, L:/192.168.1.78:52743 - R:] Connected to broker\n10:17:35.421 [pulsar-client-io-1-7] DEBUG org.apache.pulsar.client.impl.ClientCnx - Complete: true\n10:17:35.604 [pulsar-client-io-1-7] DEBUG org.apache.pulsar.client.impl.ConnectionPool - Removing closed connection from pool: AbstractChannel$CloseFuture@3aac5716(success)\n10:17:35.604 [pulsar-client-io-1-7] INFO org.apache.pulsar.client.impl.ClientCnx - [id: 0x7b3029f5, L:/192.168.1.78:52743 ! R:] Disconnected\n10:17:35.605 [pulsar-client-io-1-7] WARN org.apache.pulsar.client.impl.ConnectionPool - [[id: 0x7b3029f5, L:/192.168.1.78:52743 ! R:]] Connection handshake failed: org.apache.pulsar.client.api.PulsarClientException: Connection already closed\n10:17:35.994 [pulsar-client-scheduled-30-1] WARN org.apache.pulsar.client.impl.PulsarClientImpl - [topic: persistent://public/default/test-topic] Could not get connection while getPartitionedTopicMetadata -- Will try again in 384 ms</p>\n</blockquote>\n<p>and these block of message repeats forever. I intentionally remove/hide my pulsar web URL for privacy purposes. I tried to disable my firewall but it does not resolve the error. Does anyone know where the issues are and how I can fix them? I am pretty new to apache pulsar so thank you in advance...</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2449170,"reputation":1315,"user_id":2135838,"display_name":"Sascha"},"score":0,"creation_date":1689669609,"post_id":76707119,"comment_id":135242803,"body_markdown":"You are missing the import for `AsyncHttpClient` and `DefaultAsyncHttpClient`.","body":"You are missing the import for <code>AsyncHttpClient</code> and <code>DefaultAsyncHttpClient</code>."}],"owner":{"account_id":27995446,"reputation":1,"user_id":21380802,"display_name":"Rayaan Khan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691504782,"creation_date":1689617744,"question_id":76707119,"body_markdown":"Inside `public static void main`, the `AsyncHttpClient` appears red and states the issue in the title\r\n\r\n```\r\npackage org.example;\r\nimport org.apache.http.HttpEntity;\r\nimport org.apache.http.HttpResponse;\r\nimport org.apache.http.client.HttpClient;\r\nimport org.apache.http.client.methods.HttpPost;\r\nimport org.apache.http.entity.StringEntity;\r\nimport org.apache.http.impl.client.HttpClientBuilder;\r\nimport org.apache.http.util.EntityUtils;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n    \r\n        AsyncHttpClient client = new DefaultAsyncHttpClient();\r\n        client.prepare(&quot;POST&quot;, &quot;https://api.cohere.ai/v1/summarize&quot;)\r\n                .setHeader(&quot;accept&quot;, &quot;application/json&quot;)\r\n                .setHeader(&quot;content-type&quot;, &quot;application/json&quot;)\r\n                .setHeader(&quot;authorization&quot;, &quot;Bearer api key here&quot;)\r\n                .setBody(&quot;{\\&quot;text\\&quot;:\\&quot;Ice cream is a sweetened frozen food typically eaten as a snack or dessert. It may be made from milk or cream and is flavoured with a sweetener, either sugar or an alternative, and a spice, such as cocoa or vanilla, or with fruit such as strawberries or peaches. It can also be made by whisking a flavored cream base and liquid nitrogen together. Food coloring is sometimes added, in addition to stabilizers. The mixture is cooled below the freezing point of water and stirred to incorporate air spaces and to prevent detectable ice crystals from forming. The result is a smooth, semi-solid foam that is solid at very low temperatures (below 2 &#176;C or 35 &#176;F). It becomes more malleable as its temperature increases.\\\\n\\\\nThe meaning of the name \\\\\\&quot;ice cream\\\\\\&quot; varies from one country to another. In some countries, such as the United States, \\\\\\&quot;ice cream\\\\\\&quot; applies only to a specific variety, and most governments regulate the commercial use of the various terms according to the relative quantities of the main ingredients, notably the amount of cream. Products that do not meet the criteria to be called ice cream are sometimes labelled \\\\\\&quot;frozen dairy dessert\\\\\\&quot; instead. In other countries, such as Italy and Argentina, one word is used fo\\\\r all variants. Analogues made from dairy alternatives, such as goat&#39;s or sheep&#39;s milk, or milk substitutes (e.g., soy, cashew, coconut, almond milk or tofu), are available for those who are lactose intolerant, allergic to dairy protein or vegan.\\&quot;}&quot;)\r\n                .execute()\r\n                .toCompletableFuture()\r\n                .thenAccept(System.out::println)\r\n                .join();\r\n    \r\n        client.close();\r\n    \r\n    \r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nAttempted to import `AsyncHttpClient` but had the error mentioned above. Here is my code, I removed the API key for obvious reasons. I checked the Internet but could not find a similar problem to mine.\r\n","title":"Cannot resolve AsyncHttpClient when attempting to connect to an API","body":"<p>Inside <code>public static void main</code>, the <code>AsyncHttpClient</code> appears red and states the issue in the title</p>\n<pre><code>package org.example;\nimport org.apache.http.HttpEntity;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.client.HttpClient;\nimport org.apache.http.client.methods.HttpPost;\nimport org.apache.http.entity.StringEntity;\nimport org.apache.http.impl.client.HttpClientBuilder;\nimport org.apache.http.util.EntityUtils;\n\nimport java.io.IOException;\n\npublic class Main {\n\n    public static void main(String[] args) {\n    \n        AsyncHttpClient client = new DefaultAsyncHttpClient();\n        client.prepare(&quot;POST&quot;, &quot;https://api.cohere.ai/v1/summarize&quot;)\n                .setHeader(&quot;accept&quot;, &quot;application/json&quot;)\n                .setHeader(&quot;content-type&quot;, &quot;application/json&quot;)\n                .setHeader(&quot;authorization&quot;, &quot;Bearer api key here&quot;)\n                .setBody(&quot;{\\&quot;text\\&quot;:\\&quot;Ice cream is a sweetened frozen food typically eaten as a snack or dessert. It may be made from milk or cream and is flavoured with a sweetener, either sugar or an alternative, and a spice, such as cocoa or vanilla, or with fruit such as strawberries or peaches. It can also be made by whisking a flavored cream base and liquid nitrogen together. Food coloring is sometimes added, in addition to stabilizers. The mixture is cooled below the freezing point of water and stirred to incorporate air spaces and to prevent detectable ice crystals from forming. The result is a smooth, semi-solid foam that is solid at very low temperatures (below 2 °C or 35 °F). It becomes more malleable as its temperature increases.\\\\n\\\\nThe meaning of the name \\\\\\&quot;ice cream\\\\\\&quot; varies from one country to another. In some countries, such as the United States, \\\\\\&quot;ice cream\\\\\\&quot; applies only to a specific variety, and most governments regulate the commercial use of the various terms according to the relative quantities of the main ingredients, notably the amount of cream. Products that do not meet the criteria to be called ice cream are sometimes labelled \\\\\\&quot;frozen dairy dessert\\\\\\&quot; instead. In other countries, such as Italy and Argentina, one word is used fo\\\\r all variants. Analogues made from dairy alternatives, such as goat's or sheep's milk, or milk substitutes (e.g., soy, cashew, coconut, almond milk or tofu), are available for those who are lactose intolerant, allergic to dairy protein or vegan.\\&quot;}&quot;)\n                .execute()\n                .toCompletableFuture()\n                .thenAccept(System.out::println)\n                .join();\n    \n        client.close();\n    \n    \n    }\n\n}\n</code></pre>\n<p>Attempted to import <code>AsyncHttpClient</code> but had the error mentioned above. Here is my code, I removed the API key for obvious reasons. I checked the Internet but could not find a similar problem to mine.</p>\n"},{"tags":["java","spring-boot","spring-mvc","shiro"],"owner":{"account_id":9985518,"reputation":83,"user_id":7386867,"accept_rate":14,"display_name":"Ari Wibowo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691504775,"creation_date":1689670564,"question_id":76711077,"body_markdown":"I&#39;m having some troubles in my Springboot app using Apache Shiro as a Security Framework, when i called the login page, it&#39;s always give me &quot;redirected you too many times.&quot; error.\r\n\r\nI&#39;m using this XML based shiro setting : \r\n\r\n```\r\n&lt;bean id=&quot;cacheManagerShiro&quot; class=&quot;org.apache.shiro.cache.ehcache.EhCacheManager&quot;&gt;\r\n\t&lt;property name=&quot;cacheManagerConfigFile&quot; value=&quot;classpath:ehcache-shiro.xml&quot; /&gt;\r\n&lt;/bean&gt;\r\n&lt;bean id=&quot;credentialsMatcher&quot; class=&quot;com.newtouch.lion.web.shiro.credentials.RetryLimitHashedCredentialsMatcher&quot;&gt;\r\n\t&lt;constructor-arg ref=&quot;cacheManagerShiro&quot; /&gt;\r\n\t&lt;property name=&quot;hashAlgorithmName&quot; value=&quot;sha1&quot; /&gt;\r\n\t&lt;property name=&quot;hashIterations&quot; value=&quot;2&quot; /&gt;\r\n\t&lt;property name=&quot;storedCredentialsHexEncoded&quot; value=&quot;true&quot; /&gt;\r\n\t&lt;property name=&quot;retryMaxCount&quot;  value=&quot;5&quot;/&gt;\r\n&lt;/bean&gt;\r\n&lt;bean id=&quot;userRealm&quot; class=&quot;com.newtouch.starter.core.web.shiro.realm.CustomUserRealm&quot;&gt;\r\n\t&lt;property name=&quot;credentialsMatcher&quot; ref=&quot;credentialsMatcher&quot; /&gt;\r\n\t&lt;property name=&quot;cachingEnabled&quot; value=&quot;true&quot; /&gt;\r\n\t&lt;property name=&quot;authenticationCachingEnabled&quot; value=&quot;true&quot; /&gt;\r\n\t&lt;property name=&quot;authenticationCacheName&quot; value=&quot;authenticationCache&quot; /&gt;\r\n\t&lt;property name=&quot;authorizationCachingEnabled&quot; value=&quot;true&quot; /&gt;\r\n\t&lt;property name=&quot;authorizationCacheName&quot; value=&quot;authorizationCache&quot; /&gt;\r\n&lt;/bean&gt;\r\n&lt;bean id=&quot;sessionIdGenerator&quot; class=&quot;org.apache.shiro.session.mgt.eis.JavaUuidSessionIdGenerator&quot; /&gt;\r\n&lt;bean id=&quot;sessionIdCookie&quot; class=&quot;org.apache.shiro.web.servlet.SimpleCookie&quot;&gt;\r\n\t&lt;constructor-arg value=&quot;sid&quot; /&gt;\r\n\t&lt;property name=&quot;httpOnly&quot; value=&quot;true&quot; /&gt;\r\n\t&lt;property name=&quot;maxAge&quot; value=&quot;-1&quot; /&gt;\r\n&lt;/bean&gt;\r\n&lt;bean id=&quot;rememberMeCookie&quot; class=&quot;org.apache.shiro.web.servlet.SimpleCookie&quot;&gt;\r\n    &lt;constructor-arg value=&quot;rememberMe&quot;/&gt;\r\n    &lt;property name=&quot;httpOnly&quot; value=&quot;true&quot;/&gt;\r\n    &lt;property name=&quot;path&quot; value=&quot;/admin&quot;/&gt;        \r\n&lt;/bean&gt;\r\n&lt;bean id=&quot;rememberMeManager&quot; class=&quot;org.apache.shiro.web.mgt.CookieRememberMeManager&quot;&gt;\r\n    &lt;property name=&quot;cipherKey&quot;  value=&quot;#{T(org.apache.shiro.codec.Base64).decode(&#39;4AvVhmFLUs0KTA3Kprsdag==&#39;)}&quot;/&gt;\r\n    &lt;property name=&quot;cookie&quot; ref=&quot;rememberMeCookie&quot;/&gt;\r\n&lt;/bean&gt;\r\n&lt;bean id=&quot;sessionDAO&quot; class=&quot;org.apache.shiro.session.mgt.eis.EnterpriseCacheSessionDAO&quot;&gt;\r\n\t&lt;property name=&quot;activeSessionsCacheName&quot; value=&quot;shiro-activeSessionCache&quot; /&gt;\r\n\t&lt;property name=&quot;sessionIdGenerator&quot; ref=&quot;sessionIdGenerator&quot; /&gt;\r\n&lt;/bean&gt;\r\n&lt;bean id=&quot;sessionValidationScheduler&quot; class=&quot;com.newtouch.starter.core.web.shiro.session.QuartzSessionValidationScheduler&quot;&gt;\r\n\t&lt;property name=&quot;sessionValidationInterval&quot; value=&quot;1800000&quot; /&gt;\r\n\t&lt;property name=&quot;sessionManager&quot; ref=&quot;sessionManager&quot; /&gt;\r\n&lt;/bean&gt;\r\n&lt;bean id=&quot;sessionManager&quot; class=&quot;org.apache.shiro.web.session.mgt.DefaultWebSessionManager&quot;&gt;\r\n\t&lt;property name=&quot;globalSessionTimeout&quot; value=&quot;36000000&quot; /&gt;\r\n\t&lt;property name=&quot;deleteInvalidSessions&quot; value=&quot;true&quot; /&gt;\r\n\t&lt;property name=&quot;sessionValidationSchedulerEnabled&quot; value=&quot;true&quot; /&gt;\r\n\t&lt;property name=&quot;sessionValidationScheduler&quot; ref=&quot;sessionValidationScheduler&quot; /&gt;\r\n\t&lt;property name=&quot;sessionDAO&quot; ref=&quot;sessionDAO&quot; /&gt;\r\n\t&lt;property name=&quot;sessionIdCookieEnabled&quot; value=&quot;true&quot; /&gt;\r\n\t&lt;property name=&quot;sessionIdCookie&quot; ref=&quot;sessionIdCookie&quot; /&gt;\r\n&lt;/bean&gt;\r\n&lt;bean id=&quot;securityManager&quot; class=&quot;org.apache.shiro.web.mgt.DefaultWebSecurityManager&quot;&gt;\r\n\t&lt;property name=&quot;realm&quot; ref=&quot;userRealm&quot; /&gt;\r\n\t&lt;property name=&quot;sessionManager&quot; ref=&quot;sessionManager&quot; /&gt;\r\n\t&lt;property name=&quot;cacheManager&quot; ref=&quot;cacheManagerShiro&quot; /&gt;\r\n\t&lt;property name=&quot;rememberMeManager&quot; ref=&quot;rememberMeManager&quot;/&gt;\r\n&lt;/bean&gt;\r\n&lt;bean class=&quot;org.springframework.beans.factory.config.MethodInvokingFactoryBean&quot;&gt;\r\n\t&lt;property name=&quot;staticMethod&quot; value=&quot;org.apache.shiro.SecurityUtils.setSecurityManager&quot; /&gt;\r\n\t&lt;property name=&quot;arguments&quot; ref=&quot;securityManager&quot; /&gt;\r\n&lt;/bean&gt;\r\n&lt;bean id=&quot;formAuthenticationFilter&quot; class=&quot;com.newtouch.lion.web.shiro.filter.AjaxFormAuthenticationFilter&quot;&gt;\r\n\t&lt;property name=&quot;rememberMeParam&quot; value=&quot;rememberMe&quot;/&gt;\r\n\t&lt;property name=&quot;usernameParam&quot; value=&quot;username&quot; /&gt;\r\n\t&lt;property name=&quot;passwordParam&quot; value=&quot;password&quot; /&gt;\r\n\t&lt;property name=&quot;loginUrl&quot;     value=&quot;/login.htm&quot; /&gt;\r\n\t&lt;property name=&quot;successUrl&quot; value=&quot;/index.htm&quot; /&gt;\r\n&lt;/bean&gt;\r\n&lt;bean id=&quot;forceLogoutFilter&quot; class=&quot;com.newtouch.lion.web.shiro.filter.ForceLogoutFilter&quot;&gt;\r\n\t&lt;property name=&quot;forceLogoutUrl&quot; value=&quot;/loginerror.htm&quot;/&gt;\r\n\t&lt;property name=&quot;sessionCacheManager&quot; ref=&quot;sessionCacheManager&quot;/&gt;\r\n&lt;/bean&gt;\r\n&lt;bean id=&quot;sessionControlFilter&quot; class=&quot;com.newtouch.lion.web.shiro.filter.SessionControllerFilter&quot;&gt;\r\n\t&lt;constructor-arg index=&quot;0&quot; ref=&quot;cacheManagerShiro&quot; /&gt;\r\n\t&lt;property name=&quot;sessionManager&quot; ref=&quot;sessionManager&quot;/&gt;\r\n\t&lt;property name=&quot;maxSession&quot; value=&quot;1&quot;/&gt;\r\n\t&lt;property name=&quot;forceLogoutUrl&quot; value=&quot;/loginerror.htm&quot;/&gt;\r\n\t&lt;property name=&quot;forceLogoutAfter&quot; value=&quot;true&quot;/&gt;\r\n&lt;/bean&gt;\r\n&lt;bean id=&quot;sessionCacheManager&quot; class=&quot;com.newtouch.lion.web.shiro.cache.SessionCacheManager&quot;&gt;\r\n\t&lt;property name=&quot;cacheManager&quot; ref=&quot;cacheManagerShiro&quot;/&gt;\r\n&lt;/bean&gt;\r\n&lt;bean id=&quot;logoutFilter&quot; class=&quot;com.newtouch.lion.web.shiro.filter.LogoutSessionFilter&quot;&gt;\r\n\t&lt;property name=&quot;redirectUrl&quot;  value=&quot;/login.htm&quot;/&gt;\r\n\t&lt;property name=&quot;sessionCacheManager&quot; ref=&quot;sessionCacheManager&quot;/&gt;\r\n&lt;/bean&gt;\r\n&lt;bean id=&quot;ajaxPermissions&quot; class=&quot;com.newtouch.lion.web.shiro.filter.AjaxPermissionshorizationFilter&quot;/&gt;\r\n&lt;bean id=&quot;shiroFilter&quot; class=&quot;org.apache.shiro.spring.web.ShiroFilterFactoryBean&quot;&gt;\r\n\t&lt;property name=&quot;securityManager&quot; ref=&quot;securityManager&quot; /&gt;\r\n\t&lt;property name=&quot;loginUrl&quot; value=&quot;/login.htm&quot; /&gt;\r\n\t&lt;property name=&quot;unauthorizedUrl&quot; value=&quot;/unauthorized.htm&quot; /&gt;\r\n\t&lt;property name=&quot;successUrl&quot; value=&quot;/index.htm&quot;/&gt;\r\n\t&lt;property name=&quot;filters&quot;&gt;\r\n\t\t&lt;util:map&gt;\r\n\t\t\t&lt;entry key=&quot;authc&quot; value-ref=&quot;formAuthenticationFilter&quot; /&gt;\r\n\t\t\t&lt;entry key=&quot;forceLogoutFilter&quot; value-ref=&quot;forceLogoutFilter&quot;/&gt;\r\n\t\t\t&lt;entry key=&quot;logoutFilter&quot; value-ref=&quot;logoutFilter&quot;/&gt;\r\n\t\t\t&lt;entry key=&quot;perms&quot; value-ref=&quot;ajaxPermissions&quot;/&gt;\r\n\t\t&lt;/util:map&gt;\r\n\t&lt;/property&gt;\r\n\t&lt;property name=&quot;filterChainDefinitionMap&quot; ref=&quot;filterChainDefinitionManager&quot;/&gt;\r\n&lt;/bean&gt;\r\n&lt;bean  id=&quot;filterChainDefinitionManager&quot; class=&quot;com.newtouch.starter.core.web.shiro.chain.ShiroFilterChainDefinitionManager&quot;&gt;\r\n\t&lt;property name=&quot;filterChainDefinitions&quot;&gt;\r\n\t\t&lt;value&gt;\r\n\t\t\t/rest/** = anon\r\n\t\t\t/ws/** = anon\r\n\t\t\t/resources/** = anon\r\n\t\t\t/unauthorized.htm =anon\r\n\t\t\t/loginerror.htm=anon\r\n\t\t\t/i18n/language.htm = anon\r\n\t\t\t/login.htm = authc\r\n\t\t\t/unauthorized.htm = authc\r\n\t\t\t/logout.htm=logoutFilter\r\n\t\t\t/** = authc\r\n\t\t&lt;/value&gt;\r\n\t&lt;/property&gt;\r\n&lt;/bean&gt;\r\n&lt;bean id=&quot;lifecycleBeanPostProcessor&quot; class=&quot;org.apache.shiro.spring.LifecycleBeanPostProcessor&quot; /&gt;\r\n```\r\n\r\nThe code for login page using &quot;username&quot; &amp; &quot;password&quot; is already added too in the project.\r\n\r\nFor those who understand how shiro work &amp; noticed if other config file is needed, i will provide the other config file if necessary.\r\n\r\nAny help would be very appreciated.\r\nThank you.","title":"Springboot Apache Shiro Login page redirected you too many times","body":"<p>I'm having some troubles in my Springboot app using Apache Shiro as a Security Framework, when i called the login page, it's always give me &quot;redirected you too many times.&quot; error.</p>\n<p>I'm using this XML based shiro setting :</p>\n<pre><code>&lt;bean id=&quot;cacheManagerShiro&quot; class=&quot;org.apache.shiro.cache.ehcache.EhCacheManager&quot;&gt;\n    &lt;property name=&quot;cacheManagerConfigFile&quot; value=&quot;classpath:ehcache-shiro.xml&quot; /&gt;\n&lt;/bean&gt;\n&lt;bean id=&quot;credentialsMatcher&quot; class=&quot;com.newtouch.lion.web.shiro.credentials.RetryLimitHashedCredentialsMatcher&quot;&gt;\n    &lt;constructor-arg ref=&quot;cacheManagerShiro&quot; /&gt;\n    &lt;property name=&quot;hashAlgorithmName&quot; value=&quot;sha1&quot; /&gt;\n    &lt;property name=&quot;hashIterations&quot; value=&quot;2&quot; /&gt;\n    &lt;property name=&quot;storedCredentialsHexEncoded&quot; value=&quot;true&quot; /&gt;\n    &lt;property name=&quot;retryMaxCount&quot;  value=&quot;5&quot;/&gt;\n&lt;/bean&gt;\n&lt;bean id=&quot;userRealm&quot; class=&quot;com.newtouch.starter.core.web.shiro.realm.CustomUserRealm&quot;&gt;\n    &lt;property name=&quot;credentialsMatcher&quot; ref=&quot;credentialsMatcher&quot; /&gt;\n    &lt;property name=&quot;cachingEnabled&quot; value=&quot;true&quot; /&gt;\n    &lt;property name=&quot;authenticationCachingEnabled&quot; value=&quot;true&quot; /&gt;\n    &lt;property name=&quot;authenticationCacheName&quot; value=&quot;authenticationCache&quot; /&gt;\n    &lt;property name=&quot;authorizationCachingEnabled&quot; value=&quot;true&quot; /&gt;\n    &lt;property name=&quot;authorizationCacheName&quot; value=&quot;authorizationCache&quot; /&gt;\n&lt;/bean&gt;\n&lt;bean id=&quot;sessionIdGenerator&quot; class=&quot;org.apache.shiro.session.mgt.eis.JavaUuidSessionIdGenerator&quot; /&gt;\n&lt;bean id=&quot;sessionIdCookie&quot; class=&quot;org.apache.shiro.web.servlet.SimpleCookie&quot;&gt;\n    &lt;constructor-arg value=&quot;sid&quot; /&gt;\n    &lt;property name=&quot;httpOnly&quot; value=&quot;true&quot; /&gt;\n    &lt;property name=&quot;maxAge&quot; value=&quot;-1&quot; /&gt;\n&lt;/bean&gt;\n&lt;bean id=&quot;rememberMeCookie&quot; class=&quot;org.apache.shiro.web.servlet.SimpleCookie&quot;&gt;\n    &lt;constructor-arg value=&quot;rememberMe&quot;/&gt;\n    &lt;property name=&quot;httpOnly&quot; value=&quot;true&quot;/&gt;\n    &lt;property name=&quot;path&quot; value=&quot;/admin&quot;/&gt;        \n&lt;/bean&gt;\n&lt;bean id=&quot;rememberMeManager&quot; class=&quot;org.apache.shiro.web.mgt.CookieRememberMeManager&quot;&gt;\n    &lt;property name=&quot;cipherKey&quot;  value=&quot;#{T(org.apache.shiro.codec.Base64).decode('4AvVhmFLUs0KTA3Kprsdag==')}&quot;/&gt;\n    &lt;property name=&quot;cookie&quot; ref=&quot;rememberMeCookie&quot;/&gt;\n&lt;/bean&gt;\n&lt;bean id=&quot;sessionDAO&quot; class=&quot;org.apache.shiro.session.mgt.eis.EnterpriseCacheSessionDAO&quot;&gt;\n    &lt;property name=&quot;activeSessionsCacheName&quot; value=&quot;shiro-activeSessionCache&quot; /&gt;\n    &lt;property name=&quot;sessionIdGenerator&quot; ref=&quot;sessionIdGenerator&quot; /&gt;\n&lt;/bean&gt;\n&lt;bean id=&quot;sessionValidationScheduler&quot; class=&quot;com.newtouch.starter.core.web.shiro.session.QuartzSessionValidationScheduler&quot;&gt;\n    &lt;property name=&quot;sessionValidationInterval&quot; value=&quot;1800000&quot; /&gt;\n    &lt;property name=&quot;sessionManager&quot; ref=&quot;sessionManager&quot; /&gt;\n&lt;/bean&gt;\n&lt;bean id=&quot;sessionManager&quot; class=&quot;org.apache.shiro.web.session.mgt.DefaultWebSessionManager&quot;&gt;\n    &lt;property name=&quot;globalSessionTimeout&quot; value=&quot;36000000&quot; /&gt;\n    &lt;property name=&quot;deleteInvalidSessions&quot; value=&quot;true&quot; /&gt;\n    &lt;property name=&quot;sessionValidationSchedulerEnabled&quot; value=&quot;true&quot; /&gt;\n    &lt;property name=&quot;sessionValidationScheduler&quot; ref=&quot;sessionValidationScheduler&quot; /&gt;\n    &lt;property name=&quot;sessionDAO&quot; ref=&quot;sessionDAO&quot; /&gt;\n    &lt;property name=&quot;sessionIdCookieEnabled&quot; value=&quot;true&quot; /&gt;\n    &lt;property name=&quot;sessionIdCookie&quot; ref=&quot;sessionIdCookie&quot; /&gt;\n&lt;/bean&gt;\n&lt;bean id=&quot;securityManager&quot; class=&quot;org.apache.shiro.web.mgt.DefaultWebSecurityManager&quot;&gt;\n    &lt;property name=&quot;realm&quot; ref=&quot;userRealm&quot; /&gt;\n    &lt;property name=&quot;sessionManager&quot; ref=&quot;sessionManager&quot; /&gt;\n    &lt;property name=&quot;cacheManager&quot; ref=&quot;cacheManagerShiro&quot; /&gt;\n    &lt;property name=&quot;rememberMeManager&quot; ref=&quot;rememberMeManager&quot;/&gt;\n&lt;/bean&gt;\n&lt;bean class=&quot;org.springframework.beans.factory.config.MethodInvokingFactoryBean&quot;&gt;\n    &lt;property name=&quot;staticMethod&quot; value=&quot;org.apache.shiro.SecurityUtils.setSecurityManager&quot; /&gt;\n    &lt;property name=&quot;arguments&quot; ref=&quot;securityManager&quot; /&gt;\n&lt;/bean&gt;\n&lt;bean id=&quot;formAuthenticationFilter&quot; class=&quot;com.newtouch.lion.web.shiro.filter.AjaxFormAuthenticationFilter&quot;&gt;\n    &lt;property name=&quot;rememberMeParam&quot; value=&quot;rememberMe&quot;/&gt;\n    &lt;property name=&quot;usernameParam&quot; value=&quot;username&quot; /&gt;\n    &lt;property name=&quot;passwordParam&quot; value=&quot;password&quot; /&gt;\n    &lt;property name=&quot;loginUrl&quot;     value=&quot;/login.htm&quot; /&gt;\n    &lt;property name=&quot;successUrl&quot; value=&quot;/index.htm&quot; /&gt;\n&lt;/bean&gt;\n&lt;bean id=&quot;forceLogoutFilter&quot; class=&quot;com.newtouch.lion.web.shiro.filter.ForceLogoutFilter&quot;&gt;\n    &lt;property name=&quot;forceLogoutUrl&quot; value=&quot;/loginerror.htm&quot;/&gt;\n    &lt;property name=&quot;sessionCacheManager&quot; ref=&quot;sessionCacheManager&quot;/&gt;\n&lt;/bean&gt;\n&lt;bean id=&quot;sessionControlFilter&quot; class=&quot;com.newtouch.lion.web.shiro.filter.SessionControllerFilter&quot;&gt;\n    &lt;constructor-arg index=&quot;0&quot; ref=&quot;cacheManagerShiro&quot; /&gt;\n    &lt;property name=&quot;sessionManager&quot; ref=&quot;sessionManager&quot;/&gt;\n    &lt;property name=&quot;maxSession&quot; value=&quot;1&quot;/&gt;\n    &lt;property name=&quot;forceLogoutUrl&quot; value=&quot;/loginerror.htm&quot;/&gt;\n    &lt;property name=&quot;forceLogoutAfter&quot; value=&quot;true&quot;/&gt;\n&lt;/bean&gt;\n&lt;bean id=&quot;sessionCacheManager&quot; class=&quot;com.newtouch.lion.web.shiro.cache.SessionCacheManager&quot;&gt;\n    &lt;property name=&quot;cacheManager&quot; ref=&quot;cacheManagerShiro&quot;/&gt;\n&lt;/bean&gt;\n&lt;bean id=&quot;logoutFilter&quot; class=&quot;com.newtouch.lion.web.shiro.filter.LogoutSessionFilter&quot;&gt;\n    &lt;property name=&quot;redirectUrl&quot;  value=&quot;/login.htm&quot;/&gt;\n    &lt;property name=&quot;sessionCacheManager&quot; ref=&quot;sessionCacheManager&quot;/&gt;\n&lt;/bean&gt;\n&lt;bean id=&quot;ajaxPermissions&quot; class=&quot;com.newtouch.lion.web.shiro.filter.AjaxPermissionshorizationFilter&quot;/&gt;\n&lt;bean id=&quot;shiroFilter&quot; class=&quot;org.apache.shiro.spring.web.ShiroFilterFactoryBean&quot;&gt;\n    &lt;property name=&quot;securityManager&quot; ref=&quot;securityManager&quot; /&gt;\n    &lt;property name=&quot;loginUrl&quot; value=&quot;/login.htm&quot; /&gt;\n    &lt;property name=&quot;unauthorizedUrl&quot; value=&quot;/unauthorized.htm&quot; /&gt;\n    &lt;property name=&quot;successUrl&quot; value=&quot;/index.htm&quot;/&gt;\n    &lt;property name=&quot;filters&quot;&gt;\n        &lt;util:map&gt;\n            &lt;entry key=&quot;authc&quot; value-ref=&quot;formAuthenticationFilter&quot; /&gt;\n            &lt;entry key=&quot;forceLogoutFilter&quot; value-ref=&quot;forceLogoutFilter&quot;/&gt;\n            &lt;entry key=&quot;logoutFilter&quot; value-ref=&quot;logoutFilter&quot;/&gt;\n            &lt;entry key=&quot;perms&quot; value-ref=&quot;ajaxPermissions&quot;/&gt;\n        &lt;/util:map&gt;\n    &lt;/property&gt;\n    &lt;property name=&quot;filterChainDefinitionMap&quot; ref=&quot;filterChainDefinitionManager&quot;/&gt;\n&lt;/bean&gt;\n&lt;bean  id=&quot;filterChainDefinitionManager&quot; class=&quot;com.newtouch.starter.core.web.shiro.chain.ShiroFilterChainDefinitionManager&quot;&gt;\n    &lt;property name=&quot;filterChainDefinitions&quot;&gt;\n        &lt;value&gt;\n            /rest/** = anon\n            /ws/** = anon\n            /resources/** = anon\n            /unauthorized.htm =anon\n            /loginerror.htm=anon\n            /i18n/language.htm = anon\n            /login.htm = authc\n            /unauthorized.htm = authc\n            /logout.htm=logoutFilter\n            /** = authc\n        &lt;/value&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n&lt;bean id=&quot;lifecycleBeanPostProcessor&quot; class=&quot;org.apache.shiro.spring.LifecycleBeanPostProcessor&quot; /&gt;\n</code></pre>\n<p>The code for login page using &quot;username&quot; &amp; &quot;password&quot; is already added too in the project.</p>\n<p>For those who understand how shiro work &amp; noticed if other config file is needed, i will provide the other config file if necessary.</p>\n<p>Any help would be very appreciated.\nThank you.</p>\n"},{"tags":["java","apache-flink","flink-streaming"],"comments":[{"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1689891975,"post_id":76729518,"comment_id":135281487,"body_markdown":"Perhaps there&#39;s a line in the input file that doesn&#39;t have enough comma-separated fields?","body":"Perhaps there&#39;s a line in the input file that doesn&#39;t have enough comma-separated fields?"},{"owner":{"account_id":17640694,"reputation":23,"user_id":12803025,"display_name":"Sayan"},"score":0,"creation_date":1689934520,"post_id":76729518,"comment_id":135286564,"body_markdown":"Have used the same sample csv in both the cases. Works when I am using env.from Source() and does not work when using env.readTextFile()","body":"Have used the same sample csv in both the cases. Works when I am using env.from Source() and does not work when using env.readTextFile()"}],"owner":{"account_id":17640694,"reputation":23,"user_id":12803025,"display_name":"Sayan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691504756,"creation_date":1689853544,"question_id":76729518,"body_markdown":"**The sample java code that I am using is follows**\r\n\r\n```\r\npackage com.fooflink;\r\n\r\nimport org.apache.flink.api.common.functions.MapFunction;\r\nimport org.apache.flink.api.java.ExecutionEnvironment;\r\nimport org.apache.flink.api.java.tuple.Tuple3;\r\n\r\npublic class CSVTestV2 {\r\n\r\n  public static void main(String[] args) throws Exception {\r\n   \r\n    ExecutionEnvironment env = ExecutionEnvironment.getExecutionEnvironment();\r\n\r\n    String filePath = &quot;/Users/sayan.r/Downloads/sample.csv&quot;;\r\n\r\n    // Read the CSV file from local\r\n    env.readTextFile(filePath)\r\n        .map(new CSVParser())\r\n        .print();\r\n\r\n    // Execute the Flink job\r\n    env.execute(&quot;CSV Test V2&quot;);\r\n  }\r\n\r\n  // Custom MapFunction to parse the CSV data\r\n  public static class CSVParser implements MapFunction&lt;String, Tuple3&lt;String, String, String&gt;&gt; {\r\n\r\n    @Override\r\n    public Tuple3&lt;String, String, String&gt; map(String line) throws Exception {\r\n      String[] fields = line.split(&quot;,&quot;);\r\n\r\n      String id = fields[0];\r\n      String event_name4 = fields[4];\r\n      String from_state5 = fields[5];\r\n\r\n      return new Tuple3&lt;&gt;(id, event_name4, from_state5);\r\n    }\r\n  }\r\n}\r\n\r\n```\r\n\r\n**The output that I get while running this java code in my local Intellij IDE is as follows:**\r\n\r\n```\r\n/Library/Java/JavaVirtualMachines/openjdk-8.jdk/Contents/Home/bin/java -javaagent:/Applications/IntelliJ IDEA CE.app/Contents/lib/idea_rt.jar=50866:/Applications/IntelliJ IDEA CE.app/Contents/bin -Dfile.encoding=UTF-8 -classpath /Library/Java/JavaVirtualMachines/openjdk-8.jdk/Contents/Home/jre/lib/charsets.jar:/Library/Java/JavaVirtualMachines/openjdk-8.jdk/Contents/Home/jre/lib/ext/cldrdata.jar:/Library/Java/JavaVirtualMachines/openjdk-8.jdk/Contents/Home/jre/lib/ext/dnsns.jar:/Library/Java/JavaVirtualMachines/openjdk-8.jdk/Contents/Home/jre/lib/ext/jaccess.jar:/Library/Java/JavaVirtualMachines/openjdk-8.jdk/Contents/Home/jre/lib/ext/localedata.jar:/Library/Java/JavaVirtualMachines/openjdk-8.jdk/Contents/Home/jre/lib/ext/nashorn.jar:/Library/Java/JavaVirtualMachines/openjdk-8.jdk/Contents/Home/jre/lib/ext/sunec.jar:/Library/Java/JavaVirtualMachines/openjdk-8.jdk/Contents/Home/jre/lib/ext/sunjce_provider.jar:/Library/Java/JavaVirtualMachines/openjdk-8.jdk/Contents/Home/jre/lib/ext/sunpkcs11.jar:/Library/Java/JavaVirtualMachines/openjdk-8.jdk/Contents/Home/jre/lib/ext/zipfs.jar:/Library/Java/JavaVirtualMachines/openjdk-8.jdk/Contents/Home/jre/lib/jce.jar:/Library/Java/JavaVirtualMachines/openjdk-8.jdk/Contents/Home/jre/lib/jfr.jar:/Library/Java/JavaVirtualMachines/openjdk-8.jdk/Contents/Home/jre/lib/jsse.jar:/Library/Java/JavaVirtualMachines/openjdk-8.jdk/Contents/Home/jre/lib/management-agent.jar:/Library/Java/JavaVirtualMachines/openjdk-8.jdk/Contents/Home/jre/lib/resources.jar:/Library/Java/JavaVirtualMachines/openjdk-8.jdk/Contents/Home/jre/lib/rt.jar:/Library/Java/JavaVirtualMachines/openjdk-8.jdk/Contents/Home/lib/dt.jar:/Library/Java/JavaVirtualMachines/openjdk-8.jdk/Contents/Home/lib/jconsole.jar:/Library/Java/JavaVirtualMachines/openjdk-8.jdk/Contents/Home/lib/sa-jdi.jar:/Library/Java/JavaVirtualMachines/openjdk-8.jdk/Contents/Home/lib/tools.jar:/Users/sayan.r/workspace/foobar-flink/target/classes:/Users/sayan.r/.m2/repository/org/apache/flink/flink-core/1.16.1/flink-core-1.16.1.jar:/Users/sayan.r/.m2/repository/org/apache/flink/flink-annotations/1.16.1/flink-annotations-1.16.1.jar:/Users/sayan.r/.m2/repository/org/apache/flink/flink-metrics-core/1.16.1/flink-metrics-core-1.16.1.jar:/Users/sayan.r/.m2/repository/org/apache/flink/flink-shaded-asm-9/9.2-15.0/flink-shaded-asm-9-9.2-15.0.jar:/Users/sayan.r/.m2/repository/org/apache/flink/flink-shaded-jackson/2.12.4-15.0/flink-shaded-jackson-2.12.4-15.0.jar:/Users/sayan.r/.m2/repository/org/apache/commons/commons-lang3/3.3.2/commons-lang3-3.3.2.jar:/Users/sayan.r/.m2/repository/com/esotericsoftware/kryo/kryo/2.24.0/kryo-2.24.0.jar:/Users/sayan.r/.m2/repository/com/esotericsoftware/minlog/minlog/1.2/minlog-1.2.jar:/Users/sayan.r/.m2/repository/org/objenesis/objenesis/2.1/objenesis-2.1.jar:/Users/sayan.r/.m2/repository/commons-collections/commons-collections/3.2.2/commons-collections-3.2.2.jar:/Users/sayan.r/.m2/repository/org/apache/commons/commons-compress/1.21/commons-compress-1.21.jar:/Users/sayan.r/.m2/repository/org/apache/flink/flink-shaded-guava/30.1.1-jre-15.0/flink-shaded-guava-30.1.1-jre-15.0.jar:/Users/sayan.r/.m2/repository/org/slf4j/slf4j-api/1.7.32/slf4j-api-1.7.32.jar:/Users/sayan.r/.m2/repository/com/google/code/findbugs/jsr305/1.3.9/jsr305-1.3.9.jar:/Users/sayan.r/.m2/repository/org/apache/flink/flink-shaded-force-shading/15.0/flink-shaded-force-shading-15.0.jar:/Users/sayan.r/.m2/repository/org/apache/flink/flink-streaming-java/1.16.0/flink-streaming-java-1.16.0.jar:/Users/sayan.r/.m2/repository/org/apache/flink/flink-file-sink-common/1.16.0/flink-file-sink-common-1.16.0.jar:/Users/sayan.r/.m2/repository/org/apache/flink/flink-runtime/1.16.0/flink-runtime-1.16.0.jar:/Users/sayan.r/.m2/repository/org/apache/flink/flink-rpc-core/1.16.0/flink-rpc-core-1.16.0.jar:/Users/sayan.r/.m2/repository/org/apache/flink/flink-rpc-akka-loader/1.16.0/flink-rpc-akka-loader-1.16.0.jar:/Users/sayan.r/.m2/repository/org/apache/flink/flink-queryable-state-client-java/1.16.0/flink-queryable-state-client-java-1.16.0.jar:/Users/sayan.r/.m2/repository/org/apache/flink/flink-hadoop-fs/1.16.0/flink-hadoop-fs-1.16.0.jar:/Users/sayan.r/.m2/repository/commons-io/commons-io/2.11.0/commons-io-2.11.0.jar:/Users/sayan.r/.m2/repository/org/apache/flink/flink-shaded-netty/4.1.70.Final-15.0/flink-shaded-netty-4.1.70.Final-15.0.jar:/Users/sayan.r/.m2/repository/org/apache/flink/flink-shaded-zookeeper-3/3.5.9-15.0/flink-shaded-zookeeper-3-3.5.9-15.0.jar:/Users/sayan.r/.m2/repository/org/javassist/javassist/3.24.0-GA/javassist-3.24.0-GA.jar:/Users/sayan.r/.m2/repository/org/xerial/snappy/snappy-java/1.1.8.3/snappy-java-1.1.8.3.jar:/Users/sayan.r/.m2/repository/org/lz4/lz4-java/1.8.0/lz4-java-1.8.0.jar:/Users/sayan.r/.m2/repository/org/apache/commons/commons-math3/3.6.1/commons-math3-3.6.1.jar:/Users/sayan.r/.m2/repository/org/apache/flink/flink-java/1.16.0/flink-java-1.16.0.jar:/Users/sayan.r/.m2/repository/com/twitter/chill-java/0.7.6/chill-java-0.7.6.jar:/Users/sayan.r/.m2/repository/org/apache/flink/flink-clients/1.16.0/flink-clients-1.16.0.jar:/Users/sayan.r/.m2/repository/org/apache/flink/flink-optimizer/1.16.0/flink-optimizer-1.16.0.jar:/Users/sayan.r/.m2/repository/commons-cli/commons-cli/1.5.0/commons-cli-1.5.0.jar:/Users/sayan.r/.m2/repository/org/apache/flink/flink-csv/1.16.1/flink-csv-1.16.1.jar:/Users/sayan.r/.m2/repository/org/apache/flink/flink-connector-files/1.16.1/flink-connector-files-1.16.1.jar:/Users/sayan.r/.m2/repository/org/yaml/snakeyaml/1.29/snakeyaml-1.29.jar com.fooflink.CSVTestV2\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n#\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  SIGSEGV (0xb) at pc=0x00000001056bf6b9, pid=31026, tid=0x000000000000b703\r\n#\r\n# JRE version: OpenJDK Runtime Environment (8.0_282) (build 1.8.0_282-bre_2021_01_20_16_06-b00)\r\n# Java VM: OpenJDK 64-Bit Server VM (25.282-b00 mixed mode bsd-amd64 compressed oops)\r\n# Problematic frame:\r\n# [thread 47619 also had an error]\r\nV  [libjvm.dylib+0x5666b9][thread 48387 also had an error]\r\n  Unsafe_GetInt+0xcd\r\n#\r\n# Failed to write core dump. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\r\n#\r\n[thread 46339 also had an error]\r\n# An error report file with more information is saved as:\r\n# /Users/sayan.r/workspace/foobar-flink/hs_err_pid31026.log\r\nCompiled method (nm)    3778 1760     n 0       sun.misc.Unsafe::getInt (native)\r\n total in heap  [0x000000010dd95450,0x000000010dd957a0] = 848\r\n relocation     [0x000000010dd95578,0x000000010dd955b8] = 64\r\n main code      [0x000000010dd955c0,0x000000010dd957a0] = 480\r\nCompiled method (nm)    3778 1760     n 0       sun.misc.Unsafe::getInt (native)\r\n total in heap  [0x000000010dd95450,0x000000010dd957a0] = 848\r\n relocation     [0x000000010dd95578,0x000000010dd955b8] = 64\r\n main code      [0x000000010dd955c0,0x000000010dd957a0] = 480\r\n[thread 49923 also had an error]\r\n[thread 82691 also had an error]\r\n[thread 49159 also had an error]\r\n[thread 80131 also had an error]\r\n#\r\n# If you would like to submit a bug report, please visit:\r\n#   http://bugreport.java.com/bugreport/crash.jsp\r\n#\r\n\r\nProcess finished with exit code 134 (interrupted by signal 6: SIGABRT)\r\n```\r\n\r\nWhat could be the reason for this?\r\n\r\nHowever when I am using the following java code the program works like a charm.\r\n\r\n```\r\n public void execute() throws Exception {\r\n    StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\r\n\r\n    String filePath = &quot;/Users/sayan.r/Downloads/sample.csv&quot;;\r\n\r\n    CsvReaderFormat&lt;IndiaBins&gt; csvFormat = CsvReaderFormat.forPojo(Pojo.class);\r\n\r\n    FileSource&lt;Pojo&gt; source =\r\n        FileSource.forRecordStreamFormat(csvFormat, Path.fromLocalFile(new File(filePath))).build();\r\n    DataStream&lt;Pojo&gt; stream = env.fromSource(source, WatermarkStrategy.noWatermarks(),\r\n        &quot;csv-source&quot;);\r\n\r\n    stream\r\n        .map(new IncrementMapFunction())\r\n        .addSink(sink);\r\n\r\n    env.execute();\r\n  }\r\n```\r\n\r\nI wanted to understand the reason why one works and why the other one throws a SIGSEGV error.","title":"How do I solve this problem of reading a CSV file in Apache Flink?","body":"<p><strong>The sample java code that I am using is follows</strong></p>\n<pre><code>package com.fooflink;\n\nimport org.apache.flink.api.common.functions.MapFunction;\nimport org.apache.flink.api.java.ExecutionEnvironment;\nimport org.apache.flink.api.java.tuple.Tuple3;\n\npublic class CSVTestV2 {\n\n  public static void main(String[] args) throws Exception {\n   \n    ExecutionEnvironment env = ExecutionEnvironment.getExecutionEnvironment();\n\n    String filePath = &quot;/Users/sayan.r/Downloads/sample.csv&quot;;\n\n    // Read the CSV file from local\n    env.readTextFile(filePath)\n        .map(new CSVParser())\n        .print();\n\n    // Execute the Flink job\n    env.execute(&quot;CSV Test V2&quot;);\n  }\n\n  // Custom MapFunction to parse the CSV data\n  public static class CSVParser implements MapFunction&lt;String, Tuple3&lt;String, String, String&gt;&gt; {\n\n    @Override\n    public Tuple3&lt;String, String, String&gt; map(String line) throws Exception {\n      String[] fields = line.split(&quot;,&quot;);\n\n      String id = fields[0];\n      String event_name4 = fields[4];\n      String from_state5 = fields[5];\n\n      return new Tuple3&lt;&gt;(id, event_name4, from_state5);\n    }\n  }\n}\n\n</code></pre>\n<p><strong>The output that I get while running this java code in my local Intellij IDE is as follows:</strong></p>\n<pre><code>/Library/Java/JavaVirtualMachines/openjdk-8.jdk/Contents/Home/bin/java -javaagent:/Applications/IntelliJ IDEA CE.app/Contents/lib/idea_rt.jar=50866:/Applications/IntelliJ IDEA CE.app/Contents/bin -Dfile.encoding=UTF-8 -classpath /Library/Java/JavaVirtualMachines/openjdk-8.jdk/Contents/Home/jre/lib/charsets.jar:/Library/Java/JavaVirtualMachines/openjdk-8.jdk/Contents/Home/jre/lib/ext/cldrdata.jar:/Library/Java/JavaVirtualMachines/openjdk-8.jdk/Contents/Home/jre/lib/ext/dnsns.jar:/Library/Java/JavaVirtualMachines/openjdk-8.jdk/Contents/Home/jre/lib/ext/jaccess.jar:/Library/Java/JavaVirtualMachines/openjdk-8.jdk/Contents/Home/jre/lib/ext/localedata.jar:/Library/Java/JavaVirtualMachines/openjdk-8.jdk/Contents/Home/jre/lib/ext/nashorn.jar:/Library/Java/JavaVirtualMachines/openjdk-8.jdk/Contents/Home/jre/lib/ext/sunec.jar:/Library/Java/JavaVirtualMachines/openjdk-8.jdk/Contents/Home/jre/lib/ext/sunjce_provider.jar:/Library/Java/JavaVirtualMachines/openjdk-8.jdk/Contents/Home/jre/lib/ext/sunpkcs11.jar:/Library/Java/JavaVirtualMachines/openjdk-8.jdk/Contents/Home/jre/lib/ext/zipfs.jar:/Library/Java/JavaVirtualMachines/openjdk-8.jdk/Contents/Home/jre/lib/jce.jar:/Library/Java/JavaVirtualMachines/openjdk-8.jdk/Contents/Home/jre/lib/jfr.jar:/Library/Java/JavaVirtualMachines/openjdk-8.jdk/Contents/Home/jre/lib/jsse.jar:/Library/Java/JavaVirtualMachines/openjdk-8.jdk/Contents/Home/jre/lib/management-agent.jar:/Library/Java/JavaVirtualMachines/openjdk-8.jdk/Contents/Home/jre/lib/resources.jar:/Library/Java/JavaVirtualMachines/openjdk-8.jdk/Contents/Home/jre/lib/rt.jar:/Library/Java/JavaVirtualMachines/openjdk-8.jdk/Contents/Home/lib/dt.jar:/Library/Java/JavaVirtualMachines/openjdk-8.jdk/Contents/Home/lib/jconsole.jar:/Library/Java/JavaVirtualMachines/openjdk-8.jdk/Contents/Home/lib/sa-jdi.jar:/Library/Java/JavaVirtualMachines/openjdk-8.jdk/Contents/Home/lib/tools.jar:/Users/sayan.r/workspace/foobar-flink/target/classes:/Users/sayan.r/.m2/repository/org/apache/flink/flink-core/1.16.1/flink-core-1.16.1.jar:/Users/sayan.r/.m2/repository/org/apache/flink/flink-annotations/1.16.1/flink-annotations-1.16.1.jar:/Users/sayan.r/.m2/repository/org/apache/flink/flink-metrics-core/1.16.1/flink-metrics-core-1.16.1.jar:/Users/sayan.r/.m2/repository/org/apache/flink/flink-shaded-asm-9/9.2-15.0/flink-shaded-asm-9-9.2-15.0.jar:/Users/sayan.r/.m2/repository/org/apache/flink/flink-shaded-jackson/2.12.4-15.0/flink-shaded-jackson-2.12.4-15.0.jar:/Users/sayan.r/.m2/repository/org/apache/commons/commons-lang3/3.3.2/commons-lang3-3.3.2.jar:/Users/sayan.r/.m2/repository/com/esotericsoftware/kryo/kryo/2.24.0/kryo-2.24.0.jar:/Users/sayan.r/.m2/repository/com/esotericsoftware/minlog/minlog/1.2/minlog-1.2.jar:/Users/sayan.r/.m2/repository/org/objenesis/objenesis/2.1/objenesis-2.1.jar:/Users/sayan.r/.m2/repository/commons-collections/commons-collections/3.2.2/commons-collections-3.2.2.jar:/Users/sayan.r/.m2/repository/org/apache/commons/commons-compress/1.21/commons-compress-1.21.jar:/Users/sayan.r/.m2/repository/org/apache/flink/flink-shaded-guava/30.1.1-jre-15.0/flink-shaded-guava-30.1.1-jre-15.0.jar:/Users/sayan.r/.m2/repository/org/slf4j/slf4j-api/1.7.32/slf4j-api-1.7.32.jar:/Users/sayan.r/.m2/repository/com/google/code/findbugs/jsr305/1.3.9/jsr305-1.3.9.jar:/Users/sayan.r/.m2/repository/org/apache/flink/flink-shaded-force-shading/15.0/flink-shaded-force-shading-15.0.jar:/Users/sayan.r/.m2/repository/org/apache/flink/flink-streaming-java/1.16.0/flink-streaming-java-1.16.0.jar:/Users/sayan.r/.m2/repository/org/apache/flink/flink-file-sink-common/1.16.0/flink-file-sink-common-1.16.0.jar:/Users/sayan.r/.m2/repository/org/apache/flink/flink-runtime/1.16.0/flink-runtime-1.16.0.jar:/Users/sayan.r/.m2/repository/org/apache/flink/flink-rpc-core/1.16.0/flink-rpc-core-1.16.0.jar:/Users/sayan.r/.m2/repository/org/apache/flink/flink-rpc-akka-loader/1.16.0/flink-rpc-akka-loader-1.16.0.jar:/Users/sayan.r/.m2/repository/org/apache/flink/flink-queryable-state-client-java/1.16.0/flink-queryable-state-client-java-1.16.0.jar:/Users/sayan.r/.m2/repository/org/apache/flink/flink-hadoop-fs/1.16.0/flink-hadoop-fs-1.16.0.jar:/Users/sayan.r/.m2/repository/commons-io/commons-io/2.11.0/commons-io-2.11.0.jar:/Users/sayan.r/.m2/repository/org/apache/flink/flink-shaded-netty/4.1.70.Final-15.0/flink-shaded-netty-4.1.70.Final-15.0.jar:/Users/sayan.r/.m2/repository/org/apache/flink/flink-shaded-zookeeper-3/3.5.9-15.0/flink-shaded-zookeeper-3-3.5.9-15.0.jar:/Users/sayan.r/.m2/repository/org/javassist/javassist/3.24.0-GA/javassist-3.24.0-GA.jar:/Users/sayan.r/.m2/repository/org/xerial/snappy/snappy-java/1.1.8.3/snappy-java-1.1.8.3.jar:/Users/sayan.r/.m2/repository/org/lz4/lz4-java/1.8.0/lz4-java-1.8.0.jar:/Users/sayan.r/.m2/repository/org/apache/commons/commons-math3/3.6.1/commons-math3-3.6.1.jar:/Users/sayan.r/.m2/repository/org/apache/flink/flink-java/1.16.0/flink-java-1.16.0.jar:/Users/sayan.r/.m2/repository/com/twitter/chill-java/0.7.6/chill-java-0.7.6.jar:/Users/sayan.r/.m2/repository/org/apache/flink/flink-clients/1.16.0/flink-clients-1.16.0.jar:/Users/sayan.r/.m2/repository/org/apache/flink/flink-optimizer/1.16.0/flink-optimizer-1.16.0.jar:/Users/sayan.r/.m2/repository/commons-cli/commons-cli/1.5.0/commons-cli-1.5.0.jar:/Users/sayan.r/.m2/repository/org/apache/flink/flink-csv/1.16.1/flink-csv-1.16.1.jar:/Users/sayan.r/.m2/repository/org/apache/flink/flink-connector-files/1.16.1/flink-connector-files-1.16.1.jar:/Users/sayan.r/.m2/repository/org/yaml/snakeyaml/1.29/snakeyaml-1.29.jar com.fooflink.CSVTestV2\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\n#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x00000001056bf6b9, pid=31026, tid=0x000000000000b703\n#\n# JRE version: OpenJDK Runtime Environment (8.0_282) (build 1.8.0_282-bre_2021_01_20_16_06-b00)\n# Java VM: OpenJDK 64-Bit Server VM (25.282-b00 mixed mode bsd-amd64 compressed oops)\n# Problematic frame:\n# [thread 47619 also had an error]\nV  [libjvm.dylib+0x5666b9][thread 48387 also had an error]\n  Unsafe_GetInt+0xcd\n#\n# Failed to write core dump. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\n#\n[thread 46339 also had an error]\n# An error report file with more information is saved as:\n# /Users/sayan.r/workspace/foobar-flink/hs_err_pid31026.log\nCompiled method (nm)    3778 1760     n 0       sun.misc.Unsafe::getInt (native)\n total in heap  [0x000000010dd95450,0x000000010dd957a0] = 848\n relocation     [0x000000010dd95578,0x000000010dd955b8] = 64\n main code      [0x000000010dd955c0,0x000000010dd957a0] = 480\nCompiled method (nm)    3778 1760     n 0       sun.misc.Unsafe::getInt (native)\n total in heap  [0x000000010dd95450,0x000000010dd957a0] = 848\n relocation     [0x000000010dd95578,0x000000010dd955b8] = 64\n main code      [0x000000010dd955c0,0x000000010dd957a0] = 480\n[thread 49923 also had an error]\n[thread 82691 also had an error]\n[thread 49159 also had an error]\n[thread 80131 also had an error]\n#\n# If you would like to submit a bug report, please visit:\n#   http://bugreport.java.com/bugreport/crash.jsp\n#\n\nProcess finished with exit code 134 (interrupted by signal 6: SIGABRT)\n</code></pre>\n<p>What could be the reason for this?</p>\n<p>However when I am using the following java code the program works like a charm.</p>\n<pre><code> public void execute() throws Exception {\n    StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n\n    String filePath = &quot;/Users/sayan.r/Downloads/sample.csv&quot;;\n\n    CsvReaderFormat&lt;IndiaBins&gt; csvFormat = CsvReaderFormat.forPojo(Pojo.class);\n\n    FileSource&lt;Pojo&gt; source =\n        FileSource.forRecordStreamFormat(csvFormat, Path.fromLocalFile(new File(filePath))).build();\n    DataStream&lt;Pojo&gt; stream = env.fromSource(source, WatermarkStrategy.noWatermarks(),\n        &quot;csv-source&quot;);\n\n    stream\n        .map(new IncrementMapFunction())\n        .addSink(sink);\n\n    env.execute();\n  }\n</code></pre>\n<p>I wanted to understand the reason why one works and why the other one throws a SIGSEGV error.</p>\n"},{"tags":["java","solr","lucene","solr8"],"owner":{"account_id":10916652,"reputation":11,"user_id":8024268,"display_name":"user8024268"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1691504720,"creation_date":1690046803,"question_id":76745034,"body_markdown":"I am facing an issue with my SOLR (version 8.5) document structure. Currently, I have an array of strings with delimited values in my document, and I&#39;d like to transform it into an array of objects for easier querying.\r\n\r\nOriginal Document Structure:\r\n\r\n```\r\n{\r\n  &quot;ID&quot;: &quot;123&quot;,\r\n  &quot;AnotherProperty&quot;: &quot;Value&quot;,\r\n  &quot;PersonalInfo&quot;: [\r\n    &quot;PersonalName|Prop1|Prop2|Prop3|Age|Weight&quot;,\r\n    &quot;PersonalName|Prop1|Prop2|Prop3|Age|Weight&quot;\r\n  ]\r\n}\r\n```\r\n\r\nDesired Document Structure:\r\n\r\n```\r\n{\r\n  &quot;ID&quot;: &quot;123&quot;,\r\n  &quot;AnotherProperty&quot;: &quot;Value&quot;,\r\n  &quot;PersonalInfo&quot;: [\r\n    {\r\n      &quot;PersonalName&quot;: &quot;Value&quot;,\r\n      &quot;Prop1&quot;: &quot;Value&quot;,\r\n      &quot;Prop2&quot;: &quot;Value&quot;,\r\n      &quot;Prop3&quot;: &quot;Value&quot;,\r\n      &quot;Age&quot;: &quot;Value&quot;,\r\n      &quot;Weight&quot;: &quot;Value&quot;\r\n    },\r\n    {\r\n      &quot;PersonalName&quot;: &quot;Value&quot;,\r\n      &quot;Prop1&quot;: &quot;Value&quot;,\r\n      &quot;Prop2&quot;: &quot;Value&quot;,\r\n      &quot;Prop3&quot;: &quot;Value&quot;,\r\n      &quot;Age&quot;: &quot;Value&quot;,\r\n      &quot;Weight&quot;: &quot;Value&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nI have attempted a solution using a custom transformer and updating the schema, but the resulting documents seem to have the transformed structure as strings.\r\n\r\nTransformer script in data-config.xml:\r\n\r\n```\r\nfunction CombinePersonalInfoFields(row) {\r\n    var personalFieldsArr = new java.util.ArrayList();\r\n    for (var i = 0; i &lt; row.get(&quot;PersonalInfo&quot;).size(); i++) {\r\n        var personalFieldObj = new org.apache.solr.common.util.SimpleOrderedMap();\r\n        personalFieldObj.add(&quot;PersonalName&quot;, row.get(&quot;PersonalName&quot;).get(i));\r\n        personalFieldObj.add(&quot;Prop1&quot;, row.get(&quot;Prop1&quot;).get(i));\r\n        personalFieldObj.add(&quot;Prop2&quot;, row.get(&quot;Prop2&quot;).get(i));\r\n        personalFieldObj.add(&quot;Age&quot;, row.get(&quot;Age&quot;).get(i));\r\n        personalFieldObj.add(&quot;Weight&quot;, row.get(&quot;Weight&quot;).get(i));\r\n        \r\n        personalFieldsArr.add(personalFieldObj);\r\n    }\r\n    row.put(&quot;Personal_Fields&quot;, personalFieldsArr);\r\n    return row;\r\n}\r\n\r\nfunction ProcessAllRows(row) {\r\n  // Other logic here\r\n  CombinePersonalInfoFields(row);\r\n  return row;\r\n}\r\n\r\n&lt;entity name=&quot;Document&quot; transformer=&quot;script:ProcessAllRows&quot;\r\n        pk=&quot;ID&quot;\r\n        query=&quot;[dbo].[DATA_Pull] &#39;${dih.request.FullLoad}&#39;, &#39;${dih.last_index_time}&#39;}&#39;&quot;&gt;\r\n    &lt;!-- Existing field mappings --&gt;\r\n&lt;/entity&gt;\r\n```\r\n\r\nAdding a new field type in the managed-schema.xml file:\r\n\r\n\r\n```\r\n&lt;fieldType name=&quot;child_document&quot; class=&quot;solr.TextField&quot; positionIncrementGap=&quot;100&quot;&gt;\r\n    &lt;analyzer&gt;\r\n        &lt;tokenizer class=&quot;solr.KeywordTokenizerFactory&quot;/&gt;\r\n    &lt;/analyzer&gt;\r\n&lt;/fieldType&gt;\r\n&lt;field name=&quot;Personal_Fields&quot; type=&quot;child_document&quot; multiValued=&quot;true&quot; indexed=&quot;true&quot; stored=&quot;true&quot;/&gt;\r\n```\r\n\r\n\r\nAfter making these changes, the documents I&#39;m getting have the desired object structure, but it seems the objects are stored as strings, likely due to using the TextField for the child_document field type.\r\n\r\nResulting Structure after applying the above solution:\r\n\r\n    {\r\n    &quot;ID&quot;:&quot;123&quot;,\r\n    &quot;AnotherProperty&quot;: &quot;Value&quot;\r\n    PersonalInfo:[&quot;{PersonalName:Value,Prop1: Value, Prop2: Value,Prop3: Value, Age: Value,Weight: Value&quot;}&quot;,\r\n    &quot;{PersonalName:Value,Prop1: Value, Prop2: Value,Prop3: Value, Age: Value,Weight: Value&quot;}&quot;]\r\n    }\r\n\r\nI&#39;d appreciate any guidance on what I might be missing or doing wrong here, and how to achieve the correct object structure so that I can query based on the child object fields.","title":"Converting Array of Strings to Array of Objects in SOLR 8.5.2 Document Structure","body":"<p>I am facing an issue with my SOLR (version 8.5) document structure. Currently, I have an array of strings with delimited values in my document, and I'd like to transform it into an array of objects for easier querying.</p>\n<p>Original Document Structure:</p>\n<pre><code>{\n  &quot;ID&quot;: &quot;123&quot;,\n  &quot;AnotherProperty&quot;: &quot;Value&quot;,\n  &quot;PersonalInfo&quot;: [\n    &quot;PersonalName|Prop1|Prop2|Prop3|Age|Weight&quot;,\n    &quot;PersonalName|Prop1|Prop2|Prop3|Age|Weight&quot;\n  ]\n}\n</code></pre>\n<p>Desired Document Structure:</p>\n<pre><code>{\n  &quot;ID&quot;: &quot;123&quot;,\n  &quot;AnotherProperty&quot;: &quot;Value&quot;,\n  &quot;PersonalInfo&quot;: [\n    {\n      &quot;PersonalName&quot;: &quot;Value&quot;,\n      &quot;Prop1&quot;: &quot;Value&quot;,\n      &quot;Prop2&quot;: &quot;Value&quot;,\n      &quot;Prop3&quot;: &quot;Value&quot;,\n      &quot;Age&quot;: &quot;Value&quot;,\n      &quot;Weight&quot;: &quot;Value&quot;\n    },\n    {\n      &quot;PersonalName&quot;: &quot;Value&quot;,\n      &quot;Prop1&quot;: &quot;Value&quot;,\n      &quot;Prop2&quot;: &quot;Value&quot;,\n      &quot;Prop3&quot;: &quot;Value&quot;,\n      &quot;Age&quot;: &quot;Value&quot;,\n      &quot;Weight&quot;: &quot;Value&quot;\n    }\n  ]\n}\n</code></pre>\n<p>I have attempted a solution using a custom transformer and updating the schema, but the resulting documents seem to have the transformed structure as strings.</p>\n<p>Transformer script in data-config.xml:</p>\n<pre><code>function CombinePersonalInfoFields(row) {\n    var personalFieldsArr = new java.util.ArrayList();\n    for (var i = 0; i &lt; row.get(&quot;PersonalInfo&quot;).size(); i++) {\n        var personalFieldObj = new org.apache.solr.common.util.SimpleOrderedMap();\n        personalFieldObj.add(&quot;PersonalName&quot;, row.get(&quot;PersonalName&quot;).get(i));\n        personalFieldObj.add(&quot;Prop1&quot;, row.get(&quot;Prop1&quot;).get(i));\n        personalFieldObj.add(&quot;Prop2&quot;, row.get(&quot;Prop2&quot;).get(i));\n        personalFieldObj.add(&quot;Age&quot;, row.get(&quot;Age&quot;).get(i));\n        personalFieldObj.add(&quot;Weight&quot;, row.get(&quot;Weight&quot;).get(i));\n        \n        personalFieldsArr.add(personalFieldObj);\n    }\n    row.put(&quot;Personal_Fields&quot;, personalFieldsArr);\n    return row;\n}\n\nfunction ProcessAllRows(row) {\n  // Other logic here\n  CombinePersonalInfoFields(row);\n  return row;\n}\n\n&lt;entity name=&quot;Document&quot; transformer=&quot;script:ProcessAllRows&quot;\n        pk=&quot;ID&quot;\n        query=&quot;[dbo].[DATA_Pull] '${dih.request.FullLoad}', '${dih.last_index_time}'}'&quot;&gt;\n    &lt;!-- Existing field mappings --&gt;\n&lt;/entity&gt;\n</code></pre>\n<p>Adding a new field type in the managed-schema.xml file:</p>\n<pre><code>&lt;fieldType name=&quot;child_document&quot; class=&quot;solr.TextField&quot; positionIncrementGap=&quot;100&quot;&gt;\n    &lt;analyzer&gt;\n        &lt;tokenizer class=&quot;solr.KeywordTokenizerFactory&quot;/&gt;\n    &lt;/analyzer&gt;\n&lt;/fieldType&gt;\n&lt;field name=&quot;Personal_Fields&quot; type=&quot;child_document&quot; multiValued=&quot;true&quot; indexed=&quot;true&quot; stored=&quot;true&quot;/&gt;\n</code></pre>\n<p>After making these changes, the documents I'm getting have the desired object structure, but it seems the objects are stored as strings, likely due to using the TextField for the child_document field type.</p>\n<p>Resulting Structure after applying the above solution:</p>\n<pre><code>{\n&quot;ID&quot;:&quot;123&quot;,\n&quot;AnotherProperty&quot;: &quot;Value&quot;\nPersonalInfo:[&quot;{PersonalName:Value,Prop1: Value, Prop2: Value,Prop3: Value, Age: Value,Weight: Value&quot;}&quot;,\n&quot;{PersonalName:Value,Prop1: Value, Prop2: Value,Prop3: Value, Age: Value,Weight: Value&quot;}&quot;]\n}\n</code></pre>\n<p>I'd appreciate any guidance on what I might be missing or doing wrong here, and how to achieve the correct object structure so that I can query based on the child object fields.</p>\n"},{"tags":["java","xmlhttprequest","basic-authentication","apache-httpclient-4.x"],"answers":[{"tags":[],"owner":{"account_id":2427554,"reputation":830,"user_id":2119169,"display_name":"Rasel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690368737,"creation_date":1690367720,"answer_id":76770370,"question_id":76765325,"body_markdown":"After debugging further within the **httpclient-4.5.3** library, I found that, there is two states (targetAuthState, proxyAuthState) there. Initially both of the states have value **UNCHALLEGED**.  \r\n\r\nSo the library at first send a request without any *Authorization* value in header to check if any authentication scheme is required or not. If the returned value is **4XX**, then targetAuthState value is changed to **CHALLEGED**. And this time library send request with *Authorization* value in header.\r\n\r\nBut if any one do not want this behavior, in that case basic Authorization have to be set directly without using **CredentialsProvider**. \r\n\r\n&gt; byte[] credentials = Base64.encodeBase64((&quot;user&quot; + &quot;:&quot; + &quot;pass&quot;).getBytes(StandardCharsets.UTF_8));\r\n            httpPost.setHeader(&quot;Authorization&quot;, &quot;Basic &quot; + new String(credentials, StandardCharsets.UTF_8));\r\n\r\nThe complete code will be like follwoing.\r\n\r\n        RequestConfig requestConfig = RequestConfig.custom().\r\n                setConnectTimeout(2000).\r\n                setSocketTimeout(2000).\r\n                build();\r\n       try (CloseableHttpClient httpClient = HttpClients.custom().\r\n                setDefaultRequestConfig(requestConfig).\r\n                build()) {\r\n            \r\n            String reqString = mapper.writeValueAsString(obj); // here obj is a Java class of request payload\r\n            StringEntity params = new StringEntity(reqString);\r\n            HttpPost httpPost = new HttpPost(url); // server url where double requests are going\r\n            httpPost.setHeader(&quot;Accept&quot;, &quot;application/json&quot;);\r\n            httpPost.setHeader(&quot;Content-type&quot;, &quot;application/json&quot;);\r\n            byte[] credentials = Base64.encodeBase64((&quot;user&quot; + &quot;:&quot; + &quot;pass&quot;).getBytes(StandardCharsets.UTF_8));\r\n            httpPost.setHeader(&quot;Authorization&quot;, &quot;Basic &quot; + new String(credentials, StandardCharsets.UTF_8));\r\n            httpPost.setEntity(params);    \r\n\r\n            try (CloseableHttpResponse response = httpClient.execute(httpPost)) {\r\n\r\n                final String jsonString = EntityUtils.toString(response.getEntity());\r\n\r\n                if (200 == response.getStatusLine().getStatusCode()) {\r\n                    mapper = new ObjectMapper();\r\n                    \r\n                } \r\n            }\r\n        }    ","title":"Why 2 requests are sent from Java Apache HttpClient","body":"<p>After debugging further within the <strong>httpclient-4.5.3</strong> library, I found that, there is two states (targetAuthState, proxyAuthState) there. Initially both of the states have value <strong>UNCHALLEGED</strong>.</p>\n<p>So the library at first send a request without any <em>Authorization</em> value in header to check if any authentication scheme is required or not. If the returned value is <strong>4XX</strong>, then targetAuthState value is changed to <strong>CHALLEGED</strong>. And this time library send request with <em>Authorization</em> value in header.</p>\n<p>But if any one do not want this behavior, in that case basic Authorization have to be set directly without using <strong>CredentialsProvider</strong>.</p>\n<blockquote>\n<p>byte[] credentials = Base64.encodeBase64((&quot;user&quot; + &quot;:&quot; + &quot;pass&quot;).getBytes(StandardCharsets.UTF_8));\nhttpPost.setHeader(&quot;Authorization&quot;, &quot;Basic &quot; + new String(credentials, StandardCharsets.UTF_8));</p>\n</blockquote>\n<p>The complete code will be like follwoing.</p>\n<pre><code>    RequestConfig requestConfig = RequestConfig.custom().\n            setConnectTimeout(2000).\n            setSocketTimeout(2000).\n            build();\n   try (CloseableHttpClient httpClient = HttpClients.custom().\n            setDefaultRequestConfig(requestConfig).\n            build()) {\n        \n        String reqString = mapper.writeValueAsString(obj); // here obj is a Java class of request payload\n        StringEntity params = new StringEntity(reqString);\n        HttpPost httpPost = new HttpPost(url); // server url where double requests are going\n        httpPost.setHeader(&quot;Accept&quot;, &quot;application/json&quot;);\n        httpPost.setHeader(&quot;Content-type&quot;, &quot;application/json&quot;);\n        byte[] credentials = Base64.encodeBase64((&quot;user&quot; + &quot;:&quot; + &quot;pass&quot;).getBytes(StandardCharsets.UTF_8));\n        httpPost.setHeader(&quot;Authorization&quot;, &quot;Basic &quot; + new String(credentials, StandardCharsets.UTF_8));\n        httpPost.setEntity(params);    \n\n        try (CloseableHttpResponse response = httpClient.execute(httpPost)) {\n\n            final String jsonString = EntityUtils.toString(response.getEntity());\n\n            if (200 == response.getStatusLine().getStatusCode()) {\n                mapper = new ObjectMapper();\n                \n            } \n        }\n    }    \n</code></pre>\n"}],"owner":{"account_id":2427554,"reputation":830,"user_id":2119169,"display_name":"Rasel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1691504709,"creation_date":1690307190,"question_id":76765325,"body_markdown":"I have created one HTTP Post request with Basic authentication using **httpclient (*org.apache.httpcomponents)***.\r\n\r\n            CredentialsProvider provider = new BasicCredentialsProvider();\r\n            provider.setCredentials(AuthScope.ANY,new UsernamePasswordCredentials(&quot;user&quot;,&quot;pass&quot;));\r\n\r\n            RequestConfig requestConfig = RequestConfig.custom().\r\n                    setConnectTimeout(2000).\r\n                    setSocketTimeout(2000).\r\n                    build();\r\n           try (CloseableHttpClient httpClient = HttpClients.custom().\r\n                    setDefaultCredentialsProvider(provider).\r\n                    setDefaultRequestConfig(requestConfig).\r\n                    build()) {\r\n                \r\n                String reqString = mapper.writeValueAsString(obj); // here obj is a Java class of request payload\r\n                StringEntity params = new StringEntity(reqString);\r\n                HttpPost httpPost = new HttpPost(url); // server url where double requests are going\r\n                httpPost.setHeader(&quot;Accept&quot;, &quot;application/json&quot;);\r\n                httpPost.setHeader(&quot;Content-type&quot;, &quot;application/json&quot;);\r\n                httpPost.setEntity(params);    \r\n\r\n                try (CloseableHttpResponse response = httpClient.execute(httpPost)) {\r\n\r\n                    final String jsonString = EntityUtils.toString(response.getEntity());\r\n\r\n                    if (200 == response.getStatusLine().getStatusCode()) {\r\n                        mapper = new ObjectMapper();\r\n                        \r\n                    } \r\n                }\r\n            }\r\n\r\nWhen **CloseableHttpResponse response = httpClient.execute(httpPost)** is executed 2 request went to the server, First one without Basic Authorizatin in header and 2nd one with Basic Authorizatin in header. What is the reason for this?\r\n\r\nI dig down into the **httpclient-4.5.3** library and found that actual point of double request generation is ***org.apache.http.impl.execchain.MainClientExec***. On that class **execute** method contains a for loop which is actually executed 2 times. I am giving that for loop below...\r\n\r\n        for (int execCount = 1;; execCount++) {\r\n\r\n                if (execCount &gt; 1 &amp;&amp; !RequestEntityProxy.isRepeatable(request)) {\r\n                    throw new NonRepeatableRequestException(&quot;Cannot retry request &quot; +\r\n                            &quot;with a non-repeatable request entity.&quot;);\r\n                }\r\n\r\n                if (execAware != null &amp;&amp; execAware.isAborted()) {\r\n                    throw new RequestAbortedException(&quot;Request aborted&quot;);\r\n                }\r\n\r\n                if (!managedConn.isOpen()) {\r\n                    this.log.debug(&quot;Opening connection &quot; + route);\r\n                    try {\r\n                        establishRoute(proxyAuthState, managedConn, route, request, context);\r\n                    } catch (final TunnelRefusedException ex) {\r\n                        if (this.log.isDebugEnabled()) {\r\n                            this.log.debug(ex.getMessage());\r\n                        }\r\n                        response = ex.getResponse();\r\n                        break;\r\n                    }\r\n                }\r\n                final int timeout = config.getSocketTimeout();\r\n                if (timeout &gt;= 0) {\r\n                    managedConn.setSocketTimeout(timeout);\r\n                }\r\n\r\n                if (execAware != null &amp;&amp; execAware.isAborted()) {\r\n                    throw new RequestAbortedException(&quot;Request aborted&quot;);\r\n                }\r\n\r\n                if (this.log.isDebugEnabled()) {\r\n                    this.log.debug(&quot;Executing request &quot; + request.getRequestLine());\r\n                }\r\n\r\n                if (!request.containsHeader(AUTH.WWW_AUTH_RESP)) {\r\n                    if (this.log.isDebugEnabled()) {\r\n                        this.log.debug(&quot;Target auth state: &quot; + targetAuthState.getState());\r\n                    }\r\n                    this.authenticator.generateAuthResponse(request, targetAuthState, context);\r\n                }\r\n                if (!request.containsHeader(AUTH.PROXY_AUTH_RESP) &amp;&amp; !route.isTunnelled()) {\r\n                    if (this.log.isDebugEnabled()) {\r\n                        this.log.debug(&quot;Proxy auth state: &quot; + proxyAuthState.getState());\r\n                    }\r\n                    this.authenticator.generateAuthResponse(request, proxyAuthState, context);\r\n                }\r\n\r\n                response = requestExecutor.execute(request, managedConn, context);\r\n\r\n                // The connection is in or can be brought to a re-usable state.\r\n                if (reuseStrategy.keepAlive(response, context)) {\r\n                    // Set the idle duration of this connection\r\n                    final long duration = keepAliveStrategy.getKeepAliveDuration(response, context);\r\n                    if (this.log.isDebugEnabled()) {\r\n                        final String s;\r\n                        if (duration &gt; 0) {\r\n                            s = &quot;for &quot; + duration + &quot; &quot; + TimeUnit.MILLISECONDS;\r\n                        } else {\r\n                            s = &quot;indefinitely&quot;;\r\n                        }\r\n                        this.log.debug(&quot;Connection can be kept alive &quot; + s);\r\n                    }\r\n                    connHolder.setValidFor(duration, TimeUnit.MILLISECONDS);\r\n                    connHolder.markReusable();\r\n                } else {\r\n                    connHolder.markNonReusable();\r\n                }\r\n\r\n                if (needAuthentication(\r\n                        targetAuthState, proxyAuthState, route, response, context)) {\r\n                    // Make sure the response body is fully consumed, if present\r\n                    final HttpEntity entity = response.getEntity();\r\n                    if (connHolder.isReusable()) {\r\n                        EntityUtils.consume(entity);\r\n                    } else {\r\n                        managedConn.close();\r\n                        if (proxyAuthState.getState() == AuthProtocolState.SUCCESS\r\n                                &amp;&amp; proxyAuthState.getAuthScheme() != null\r\n                                &amp;&amp; proxyAuthState.getAuthScheme().isConnectionBased()) {\r\n                            this.log.debug(&quot;Resetting proxy auth state&quot;);\r\n                            proxyAuthState.reset();\r\n                        }\r\n                        if (targetAuthState.getState() == AuthProtocolState.SUCCESS\r\n                                &amp;&amp; targetAuthState.getAuthScheme() != null\r\n                                &amp;&amp; targetAuthState.getAuthScheme().isConnectionBased()) {\r\n                            this.log.debug(&quot;Resetting target auth state&quot;);\r\n                            targetAuthState.reset();\r\n                        }\r\n                    }\r\n                    // discard previous auth headers\r\n                    final HttpRequest original = request.getOriginal();\r\n                    if (!original.containsHeader(AUTH.WWW_AUTH_RESP)) {\r\n                        request.removeHeaders(AUTH.WWW_AUTH_RESP);\r\n                    }\r\n                    if (!original.containsHeader(AUTH.PROXY_AUTH_RESP)) {\r\n                        request.removeHeaders(AUTH.PROXY_AUTH_RESP);\r\n                    }\r\n                } else {\r\n                    break;\r\n                }\r\n            }\r\nCan any one give me some idea why the first request does not contain any basic Authorization in header but the second one contains that?\r\n","title":"Why 2 requests are sent from Java Apache HttpClient","body":"<p>I have created one HTTP Post request with Basic authentication using <strong>httpclient (<em>org.apache.httpcomponents)</em></strong>.</p>\n<pre><code>        CredentialsProvider provider = new BasicCredentialsProvider();\n        provider.setCredentials(AuthScope.ANY,new UsernamePasswordCredentials(&quot;user&quot;,&quot;pass&quot;));\n\n        RequestConfig requestConfig = RequestConfig.custom().\n                setConnectTimeout(2000).\n                setSocketTimeout(2000).\n                build();\n       try (CloseableHttpClient httpClient = HttpClients.custom().\n                setDefaultCredentialsProvider(provider).\n                setDefaultRequestConfig(requestConfig).\n                build()) {\n            \n            String reqString = mapper.writeValueAsString(obj); // here obj is a Java class of request payload\n            StringEntity params = new StringEntity(reqString);\n            HttpPost httpPost = new HttpPost(url); // server url where double requests are going\n            httpPost.setHeader(&quot;Accept&quot;, &quot;application/json&quot;);\n            httpPost.setHeader(&quot;Content-type&quot;, &quot;application/json&quot;);\n            httpPost.setEntity(params);    \n\n            try (CloseableHttpResponse response = httpClient.execute(httpPost)) {\n\n                final String jsonString = EntityUtils.toString(response.getEntity());\n\n                if (200 == response.getStatusLine().getStatusCode()) {\n                    mapper = new ObjectMapper();\n                    \n                } \n            }\n        }\n</code></pre>\n<p>When <strong>CloseableHttpResponse response = httpClient.execute(httpPost)</strong> is executed 2 request went to the server, First one without Basic Authorizatin in header and 2nd one with Basic Authorizatin in header. What is the reason for this?</p>\n<p>I dig down into the <strong>httpclient-4.5.3</strong> library and found that actual point of double request generation is <em><strong>org.apache.http.impl.execchain.MainClientExec</strong></em>. On that class <strong>execute</strong> method contains a for loop which is actually executed 2 times. I am giving that for loop below...</p>\n<pre><code>    for (int execCount = 1;; execCount++) {\n\n            if (execCount &gt; 1 &amp;&amp; !RequestEntityProxy.isRepeatable(request)) {\n                throw new NonRepeatableRequestException(&quot;Cannot retry request &quot; +\n                        &quot;with a non-repeatable request entity.&quot;);\n            }\n\n            if (execAware != null &amp;&amp; execAware.isAborted()) {\n                throw new RequestAbortedException(&quot;Request aborted&quot;);\n            }\n\n            if (!managedConn.isOpen()) {\n                this.log.debug(&quot;Opening connection &quot; + route);\n                try {\n                    establishRoute(proxyAuthState, managedConn, route, request, context);\n                } catch (final TunnelRefusedException ex) {\n                    if (this.log.isDebugEnabled()) {\n                        this.log.debug(ex.getMessage());\n                    }\n                    response = ex.getResponse();\n                    break;\n                }\n            }\n            final int timeout = config.getSocketTimeout();\n            if (timeout &gt;= 0) {\n                managedConn.setSocketTimeout(timeout);\n            }\n\n            if (execAware != null &amp;&amp; execAware.isAborted()) {\n                throw new RequestAbortedException(&quot;Request aborted&quot;);\n            }\n\n            if (this.log.isDebugEnabled()) {\n                this.log.debug(&quot;Executing request &quot; + request.getRequestLine());\n            }\n\n            if (!request.containsHeader(AUTH.WWW_AUTH_RESP)) {\n                if (this.log.isDebugEnabled()) {\n                    this.log.debug(&quot;Target auth state: &quot; + targetAuthState.getState());\n                }\n                this.authenticator.generateAuthResponse(request, targetAuthState, context);\n            }\n            if (!request.containsHeader(AUTH.PROXY_AUTH_RESP) &amp;&amp; !route.isTunnelled()) {\n                if (this.log.isDebugEnabled()) {\n                    this.log.debug(&quot;Proxy auth state: &quot; + proxyAuthState.getState());\n                }\n                this.authenticator.generateAuthResponse(request, proxyAuthState, context);\n            }\n\n            response = requestExecutor.execute(request, managedConn, context);\n\n            // The connection is in or can be brought to a re-usable state.\n            if (reuseStrategy.keepAlive(response, context)) {\n                // Set the idle duration of this connection\n                final long duration = keepAliveStrategy.getKeepAliveDuration(response, context);\n                if (this.log.isDebugEnabled()) {\n                    final String s;\n                    if (duration &gt; 0) {\n                        s = &quot;for &quot; + duration + &quot; &quot; + TimeUnit.MILLISECONDS;\n                    } else {\n                        s = &quot;indefinitely&quot;;\n                    }\n                    this.log.debug(&quot;Connection can be kept alive &quot; + s);\n                }\n                connHolder.setValidFor(duration, TimeUnit.MILLISECONDS);\n                connHolder.markReusable();\n            } else {\n                connHolder.markNonReusable();\n            }\n\n            if (needAuthentication(\n                    targetAuthState, proxyAuthState, route, response, context)) {\n                // Make sure the response body is fully consumed, if present\n                final HttpEntity entity = response.getEntity();\n                if (connHolder.isReusable()) {\n                    EntityUtils.consume(entity);\n                } else {\n                    managedConn.close();\n                    if (proxyAuthState.getState() == AuthProtocolState.SUCCESS\n                            &amp;&amp; proxyAuthState.getAuthScheme() != null\n                            &amp;&amp; proxyAuthState.getAuthScheme().isConnectionBased()) {\n                        this.log.debug(&quot;Resetting proxy auth state&quot;);\n                        proxyAuthState.reset();\n                    }\n                    if (targetAuthState.getState() == AuthProtocolState.SUCCESS\n                            &amp;&amp; targetAuthState.getAuthScheme() != null\n                            &amp;&amp; targetAuthState.getAuthScheme().isConnectionBased()) {\n                        this.log.debug(&quot;Resetting target auth state&quot;);\n                        targetAuthState.reset();\n                    }\n                }\n                // discard previous auth headers\n                final HttpRequest original = request.getOriginal();\n                if (!original.containsHeader(AUTH.WWW_AUTH_RESP)) {\n                    request.removeHeaders(AUTH.WWW_AUTH_RESP);\n                }\n                if (!original.containsHeader(AUTH.PROXY_AUTH_RESP)) {\n                    request.removeHeaders(AUTH.PROXY_AUTH_RESP);\n                }\n            } else {\n                break;\n            }\n        }\n</code></pre>\n<p>Can any one give me some idea why the first request does not contain any basic Authorization in header but the second one contains that?</p>\n"},{"tags":["java","postgresql","ssh","ssh-tunnel"],"owner":{"account_id":20650336,"reputation":1,"user_id":15937855,"display_name":"Ezequiel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691504663,"creation_date":1690911701,"question_id":76814053,"body_markdown":"I dont know how to connect postgres db to apache doris instance with ssh tunnel integration.\r\n\r\nHi, im trying to connect apache doris to postgres with catalogs. \r\nIm using this documentation https://doris.apache.org/docs/dev/lakehouse/multi-catalog/jdbc, and work with normal database connection, but i dont know how to do that with ssh tunnel.\r\nFirst i think to use another driver with ssh included like https://github.com/cactuslab/jdbc-sshj/tree/master, but i dont found documentation to use custom drivers in apache.\r\n\r\nDo you know some solution? If it is the case, please share me","title":"How to connect apache-doris instance to postgres with ssh tunnel","body":"<p>I dont know how to connect postgres db to apache doris instance with ssh tunnel integration.</p>\n<p>Hi, im trying to connect apache doris to postgres with catalogs.\nIm using this documentation <a href=\"https://doris.apache.org/docs/dev/lakehouse/multi-catalog/jdbc\" rel=\"nofollow noreferrer\">https://doris.apache.org/docs/dev/lakehouse/multi-catalog/jdbc</a>, and work with normal database connection, but i dont know how to do that with ssh tunnel.\nFirst i think to use another driver with ssh included like <a href=\"https://github.com/cactuslab/jdbc-sshj/tree/master\" rel=\"nofollow noreferrer\">https://github.com/cactuslab/jdbc-sshj/tree/master</a>, but i dont found documentation to use custom drivers in apache.</p>\n<p>Do you know some solution? If it is the case, please share me</p>\n"},{"tags":["java","import","interface","package"],"owner":{"account_id":26842459,"reputation":1,"user_id":20428747,"display_name":"Dguzy96"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691504584,"creation_date":1691075821,"question_id":76829459,"body_markdown":"While going through practice exercises for Java tutorials, I have noticed the mention of the UnaryPredicate interface in the code for both questions and answers. Example:\r\n\r\n&gt; How do you invoke the following method to find the first integer in a list that is relatively prime to a list of specified integers?\r\n&gt; \r\n&gt; `public static &lt;T&gt; int findFirst(List&lt;T&gt; list, int begin, int end, UnaryPredicate&lt;T&gt; p)`\r\n\r\nPart of the answer the provided included the following information:\r\n\r\n&gt; The generic UnaryPredicate interface is defined as follows:\r\n&gt; \r\n&gt; ```\r\n&gt; public interface UnaryPredicate&lt;T&gt; {\r\n&gt;     public boolean test(T obj);\r\n&gt; }\r\n&gt; ```\r\n\r\nHowever, even when I was in a code compiler, I could not access this interface, and the aforementioned answer does not show how to do so. I did also see that I have access to a `Predicate&lt;T&gt;` interface, which seems to have similar purpose, but more complex code. Mainly for the purpose of understanding, how can I efficiently access UnaryPredicate? Aside from what I mentioned, what is the difference between Predicate and UnaryPredicate? Is UnaryPredicate depreciated, and if so, is that why I can&#39;t automatically access it? Is it just something that was made up for the tutorial question?\r\n\r\n**Note:** UnaryPredicate does appear to exist in a number of packages, though some of them appear to be made by unfamiliar third party sources and/or individual programmers. While I was not 100% certain on which one to try, I believed the one from inside org.apache.commons.functor to be most trustworthy, since Apache seems to be a more legitimate source. Unfortunately, when I attempted to use `import org.apache.commons.functor.UnaryPredicate;`, I received an error stating &quot;package org.apache.commons.functor does not exist.&quot; Even when I shortened it to `import org.apache`, I received the error &quot;package org does not exist.&quot; I saw sources online about downloading particular files for packages and examples of adding it to particular java projects. However, I want to make sure I use the right file and/or source. I also want to make sure that it is not necessarily limited to just one project, similarly to how I am able to implement java across my computer or particular modules across my projects.","title":"How do I access UnaryPredicate interface and how does it compare to Predicate interface?","body":"<p>While going through practice exercises for Java tutorials, I have noticed the mention of the UnaryPredicate interface in the code for both questions and answers. Example:</p>\n<blockquote>\n<p>How do you invoke the following method to find the first integer in a list that is relatively prime to a list of specified integers?</p>\n<p><code>public static &lt;T&gt; int findFirst(List&lt;T&gt; list, int begin, int end, UnaryPredicate&lt;T&gt; p)</code></p>\n</blockquote>\n<p>Part of the answer the provided included the following information:</p>\n<blockquote>\n<p>The generic UnaryPredicate interface is defined as follows:</p>\n<pre><code>public interface UnaryPredicate&lt;T&gt; {\n    public boolean test(T obj);\n}\n</code></pre>\n</blockquote>\n<p>However, even when I was in a code compiler, I could not access this interface, and the aforementioned answer does not show how to do so. I did also see that I have access to a <code>Predicate&lt;T&gt;</code> interface, which seems to have similar purpose, but more complex code. Mainly for the purpose of understanding, how can I efficiently access UnaryPredicate? Aside from what I mentioned, what is the difference between Predicate and UnaryPredicate? Is UnaryPredicate depreciated, and if so, is that why I can't automatically access it? Is it just something that was made up for the tutorial question?</p>\n<p><strong>Note:</strong> UnaryPredicate does appear to exist in a number of packages, though some of them appear to be made by unfamiliar third party sources and/or individual programmers. While I was not 100% certain on which one to try, I believed the one from inside org.apache.commons.functor to be most trustworthy, since Apache seems to be a more legitimate source. Unfortunately, when I attempted to use <code>import org.apache.commons.functor.UnaryPredicate;</code>, I received an error stating &quot;package org.apache.commons.functor does not exist.&quot; Even when I shortened it to <code>import org.apache</code>, I received the error &quot;package org does not exist.&quot; I saw sources online about downloading particular files for packages and examples of adding it to particular java projects. However, I want to make sure I use the right file and/or source. I also want to make sure that it is not necessarily limited to just one project, similarly to how I am able to implement java across my computer or particular modules across my projects.</p>\n"},{"tags":["java","apache-httpclient-4.x"],"owner":{"account_id":3189540,"reputation":377,"user_id":2694211,"display_name":"Holy_diver"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691504550,"creation_date":1691404485,"question_id":76850871,"body_markdown":" - I am using a connector where i can only configure httpClient\r\n - The connector generates the token based on some external call\r\n - But i need to override this behavior as i already have the token in the request.\r\n - The connector is written in such a way that i can only customize HTTPClient\r\n\r\nOne solution can be to generate new HTTPClient everytime with an interceptor to inject token\r\n\r\n    private CloseableHttpClient createHttpClient(String accessToken){\r\n   \r\n    return  HttpClientBuilder.create()\r\n            .addInterceptorLast(\r\n                    (HttpRequestInterceptor) (request, context) -&gt; {\r\n                      request.addHeader(HttpHeaders.AUTHORIZATION, accessToken);\r\n                    }).build();\r\n        }\r\n\r\n\r\nBut i also want to leverage pooling.\r\nIs the implementation below fine or there can be some pitfalls ?\r\n\r\n  \r\n\r\n        private static HttpClientConnectionManager poolingConnManager\r\n                  = new PoolingHttpClientConnectionManager();\r\n    \r\n      private CloseableHttpClient createHttpClient(String accessToken){\r\n       \r\n        return  HttpClientBuilder.create()\r\n                .setConnectionManager(poolingConnManager)\r\n                .setConnectionManagerShared(true)\r\n                .addInterceptorLast(\r\n                        (HttpRequestInterceptor) (request, context) -&gt; {\r\n                          request.addHeader(HttpHeaders.AUTHORIZATION, accessToken);\r\n                        }).build();\r\n         }","title":"ApacheHTTPClient Pooling but each request has some statefullness","body":"<ul>\n<li>I am using a connector where i can only configure httpClient</li>\n<li>The connector generates the token based on some external call</li>\n<li>But i need to override this behavior as i already have the token in the request.</li>\n<li>The connector is written in such a way that i can only customize HTTPClient</li>\n</ul>\n<p>One solution can be to generate new HTTPClient everytime with an interceptor to inject token</p>\n<pre><code>private CloseableHttpClient createHttpClient(String accessToken){\n\nreturn  HttpClientBuilder.create()\n        .addInterceptorLast(\n                (HttpRequestInterceptor) (request, context) -&gt; {\n                  request.addHeader(HttpHeaders.AUTHORIZATION, accessToken);\n                }).build();\n    }\n</code></pre>\n<p>But i also want to leverage pooling.\nIs the implementation below fine or there can be some pitfalls ?</p>\n<pre><code>    private static HttpClientConnectionManager poolingConnManager\n              = new PoolingHttpClientConnectionManager();\n\n  private CloseableHttpClient createHttpClient(String accessToken){\n   \n    return  HttpClientBuilder.create()\n            .setConnectionManager(poolingConnManager)\n            .setConnectionManagerShared(true)\n            .addInterceptorLast(\n                    (HttpRequestInterceptor) (request, context) -&gt; {\n                      request.addHeader(HttpHeaders.AUTHORIZATION, accessToken);\n                    }).build();\n     }\n</code></pre>\n"},{"tags":["java","maven","google-analytics","classnotfoundexception"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1691503212,"post_id":76860256,"comment_id":135498481,"body_markdown":"I don&#39;t know anything about how credentials work in our Java libraries, but GdchCredential is documented here: https://javadoc.io/static/com.google.auth/google-auth-library-oauth2-http/1.19.0/com/google/auth/oauth2/GdchCredentials.html","body":"I don&#39;t know anything about how credentials work in our Java libraries, but GdchCredential is documented here: <a href=\"https://javadoc.io/static/com.google.auth/google-auth-library-oauth2-http/1.19.0/com/google/auth/oauth2/GdchCredentials.html\" rel=\"nofollow noreferrer\">javadoc.io/static/com.google.auth/&hellip;</a>"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1691503285,"post_id":76860256,"comment_id":135498507,"body_markdown":"Your Maven configuration uses google-auth-library-oauth2-http version 1.12.1, which is from October 2022. Perhaps that&#39;s the problem?","body":"Your Maven configuration uses google-auth-library-oauth2-http version 1.12.1, which is from October 2022. Perhaps that&#39;s the problem?"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1691503323,"post_id":76860256,"comment_id":135498519,"body_markdown":"Source code: https://github.com/googleapis/google-auth-library-java/blob/main/oauth2_http/java/com/google/auth/oauth2/GdchCredentials.java","body":"Source code: <a href=\"https://github.com/googleapis/google-auth-library-java/blob/main/oauth2_http/java/com/google/auth/oauth2/GdchCredentials.java\" rel=\"nofollow noreferrer\">github.com/googleapis/google-auth-library-java/blob/main/&hellip;</a>"},{"owner":{"account_id":7720988,"reputation":346,"user_id":5847235,"display_name":"Stefan"},"score":0,"creation_date":1691503606,"post_id":76860256,"comment_id":135498588,"body_markdown":"Thanks Jon I upgraded my google-auth-library-oauth2-http version to the most recent Maven artifact and I&#39;m now getting new errors iso of the exception - progress!","body":"Thanks Jon I upgraded my google-auth-library-oauth2-http version to the most recent Maven artifact and I&#39;m now getting new errors iso of the exception - progress!"}],"answers":[{"tags":[],"owner":{"account_id":7720988,"reputation":346,"user_id":5847235,"display_name":"Stefan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691504203,"creation_date":1691503715,"answer_id":76860365,"question_id":76860256,"body_markdown":"Solution to this specific problem / exception shown here in my use case was to upgrade the Maven artifact for the google-auth-library-oauth-2-http dependency to the version current as of 2023-08-08:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.google.auth&lt;/groupId&gt;\r\n    &lt;artifactId&gt;google-auth-library-oauth2-http&lt;/artifactId&gt;\r\n    &lt;version&gt;1.19.0&lt;/version&gt;\r\n    &lt;type&gt;jar&lt;/type&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nin the NetBeans Maven project&#39;s pom.xml.","title":"Official Google Analytics 4 Java API example is invalid and throws exception as-is - officially referenced class does not exist","body":"<p>Solution to this specific problem / exception shown here in my use case was to upgrade the Maven artifact for the google-auth-library-oauth-2-http dependency to the version current as of 2023-08-08:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.auth&lt;/groupId&gt;\n    &lt;artifactId&gt;google-auth-library-oauth2-http&lt;/artifactId&gt;\n    &lt;version&gt;1.19.0&lt;/version&gt;\n    &lt;type&gt;jar&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>in the NetBeans Maven project's pom.xml.</p>\n"}],"owner":{"account_id":7720988,"reputation":346,"user_id":5847235,"display_name":"Stefan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691504313,"creation_date":1691503033,"question_id":76860256,"body_markdown":"I&#39;m following the official Google example at\r\n\r\nhttps://developers.google.com/analytics/devguides/reporting/data/v1/quickstart-client-libraries\r\n\r\nin NetBeans with Maven.\r\n\r\nThis code snippet in this example\r\n\r\n```java\r\ntry (BetaAnalyticsDataClient analyticsData = BetaAnalyticsDataClient.create()) {\r\n    RunReportRequest request\r\n            = RunReportRequest.newBuilder()\r\n                    .setProperty(&quot;properties/&quot; + propertyId)\r\n                    .addDimensions(Dimension.newBuilder().setName(&quot;city&quot;))\r\n                    .addMetrics(Metric.newBuilder().setName(&quot;activeUsers&quot;))\r\n                    .addDateRanges(DateRange.newBuilder().setStartDate(&quot;2023-07-31&quot;).setEndDate(&quot;today&quot;))\r\n                    .build();\r\n}\r\n```\r\n\r\nThis immediately fails with\r\n\r\n```none\r\njava.lang.ClassNotFoundException: com.google.auth.oauth2.GdchCredentials\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n\tat com.google.analytics.data.v1beta.stub.GrpcBetaAnalyticsDataStub.create(GrpcBetaAnalyticsDataStub.java:149) ~[google-analytics-data-0.32.0.jar:0.32.0]\r\n\tat com.google.analytics.data.v1beta.stub.BetaAnalyticsDataStubSettings.createStub(BetaAnalyticsDataStubSettings.java:164) ~[google-analytics-data-0.32.0.jar:0.32.0]\r\n\tat com.google.analytics.data.v1beta.BetaAnalyticsDataClient.&lt;init&gt;(BetaAnalyticsDataClient.java:172) ~[google-analytics-data-0.32.0.jar:0.32.0]\r\n\tat com.google.analytics.data.v1beta.BetaAnalyticsDataClient.create(BetaAnalyticsDataClient.java:154) ~[google-analytics-data-0.32.0.jar:0.32.0]\r\n\tat com.google.analytics.data.v1beta.BetaAnalyticsDataClient.create(BetaAnalyticsDataClient.java:145) ~[google-analytics-data-0.32.0.jar:0.32.0]\r\n\tat com.verishare.wpanalyticshelper.controller.UsercountSevenDaysController.usercountSevenDays(UsercountSevenDaysController.java:53) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:836) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1747) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n```\r\n\r\nAnybody got any idea why? It is the most simple example I can find for interfacing with GA4 with Java and it fails straight out of the gate.\r\n\r\nI do note that the example has no authentication of any kind indicated?\r\n\r\nI&#39;ve searched for the class `com.google.auth.oauth2.GdchCredentials`, but can find no reference anywhere to it at all - so why is the official Google GA4 Java API libraries requiring it - it does not exist - anywhere?\r\n\r\nMy imports, etc. is exactly as in the example at the above URL.\r\n\r\nMy pom.xml (it is a Java Spring application):\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.verishare&lt;/groupId&gt;\r\n    &lt;artifactId&gt;WPAnalyticsHelper&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.5.RELEASE&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    \r\n    &lt;!--Spring--&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!--Log4J--&gt;    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.10.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.10.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;!--Google APIs Java client--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\r\n            &lt;version&gt;1.35.2&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client-java6&lt;/artifactId&gt;\r\n            &lt;version&gt;1.35.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-oauth-client-java6&lt;/artifactId&gt;\r\n            &lt;version&gt;1.34.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.google.oauth-client/google-oauth-client-jetty --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-oauth-client-jetty&lt;/artifactId&gt;\r\n            &lt;version&gt;1.34.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client-servlet&lt;/artifactId&gt;\r\n            &lt;version&gt;1.35.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client-appengine&lt;/artifactId&gt;\r\n            &lt;version&gt;1.35.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client-gson&lt;/artifactId&gt;\r\n            &lt;version&gt;1.35.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client-jackson2&lt;/artifactId&gt;\r\n            &lt;version&gt;1.35.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client-protobuf&lt;/artifactId&gt;\r\n            &lt;version&gt;1.35.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client-xml&lt;/artifactId&gt;\r\n            &lt;version&gt;1.35.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-services-analyticsreporting&lt;/artifactId&gt;\r\n            &lt;version&gt;v4-rev20190318-1.28.0&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-services-analytics&lt;/artifactId&gt;\r\n            &lt;version&gt;v3-rev134-1.22.0&lt;/version&gt;\r\n        &lt;/dependency&gt;        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.analytics&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-analytics-data&lt;/artifactId&gt;\r\n            &lt;version&gt;0.32.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.auth&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-auth-library-oauth2-http&lt;/artifactId&gt;\r\n            &lt;version&gt;1.12.1&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-services-storage&lt;/artifactId&gt;\r\n            &lt;version&gt;v1-rev58-1.21.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    \r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    \r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;mainClass&gt;com.verishare.wpanalyticshelper.Application&lt;/mainClass&gt;\r\n                    &lt;layout&gt;ZIP&lt;/layout&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            \r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;links&gt;\r\n                        &lt;link&gt;http://download.oracle.com/javase/7/docs/api/&lt;/link&gt;\r\n                        &lt;link&gt;https://googleapis.dev/java/google-http-client/${project.http.version}/&lt;/link&gt;\r\n                    &lt;/links&gt;\r\n                    &lt;doctitle&gt;${project.name} ${project.version}&lt;/doctitle&gt;\r\n                    &lt;windowtitle&gt;${project.artifactId} ${project.version}&lt;/windowtitle&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifestFile&gt;${project.build.outputDirectory}/META-INF/MANIFEST.MF&lt;/manifestFile&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\r\n                        &lt;/manifest&gt;\r\n                        &lt;manifestEntries&gt;\r\n                            &lt;Automatic-Module-Name&gt;google.api.client.java6&lt;/Automatic-Module-Name&gt;\r\n                        &lt;/manifestEntries&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.4&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;bundle-manifest&lt;/id&gt;\r\n                        &lt;phase&gt;process-classes&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;manifest&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;instructions&gt;\r\n                        &lt;Bundle-DocURL&gt;https://googleapis.dev/java/google-api-client/${project.version}/index.html&lt;/Bundle-DocURL&gt;\r\n                        &lt;Bundle-Description&gt;Java 6 extensions to the Google APIs Client Library for Java&lt;/Bundle-Description&gt;\r\n                        &lt;Bundle-SymbolicName&gt;com.google.api.client.java6&lt;/Bundle-SymbolicName&gt;\r\n                    &lt;/instructions&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!--            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;source-jar&lt;/id&gt;\r\n                        &lt;phase&gt;compile&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;jar&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;--&gt;\r\n            &lt;!--Set minimum requirement to Java 7--&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;animal-sniffer-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;signature&gt;\r\n                        &lt;groupId&gt;org.codehaus.mojo.signature&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;java17&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.0&lt;/version&gt;\r\n                    &lt;/signature&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n                             \r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n","title":"Official Google Analytics 4 Java API example is invalid and throws exception as-is - officially referenced class does not exist","body":"<p>I'm following the official Google example at</p>\n<p><a href=\"https://developers.google.com/analytics/devguides/reporting/data/v1/quickstart-client-libraries\" rel=\"nofollow noreferrer\">https://developers.google.com/analytics/devguides/reporting/data/v1/quickstart-client-libraries</a></p>\n<p>in NetBeans with Maven.</p>\n<p>This code snippet in this example</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (BetaAnalyticsDataClient analyticsData = BetaAnalyticsDataClient.create()) {\n    RunReportRequest request\n            = RunReportRequest.newBuilder()\n                    .setProperty(&quot;properties/&quot; + propertyId)\n                    .addDimensions(Dimension.newBuilder().setName(&quot;city&quot;))\n                    .addMetrics(Metric.newBuilder().setName(&quot;activeUsers&quot;))\n                    .addDateRanges(DateRange.newBuilder().setStartDate(&quot;2023-07-31&quot;).setEndDate(&quot;today&quot;))\n                    .build();\n}\n</code></pre>\n<p>This immediately fails with</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.ClassNotFoundException: com.google.auth.oauth2.GdchCredentials\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    at com.google.analytics.data.v1beta.stub.GrpcBetaAnalyticsDataStub.create(GrpcBetaAnalyticsDataStub.java:149) ~[google-analytics-data-0.32.0.jar:0.32.0]\n    at com.google.analytics.data.v1beta.stub.BetaAnalyticsDataStubSettings.createStub(BetaAnalyticsDataStubSettings.java:164) ~[google-analytics-data-0.32.0.jar:0.32.0]\n    at com.google.analytics.data.v1beta.BetaAnalyticsDataClient.&lt;init&gt;(BetaAnalyticsDataClient.java:172) ~[google-analytics-data-0.32.0.jar:0.32.0]\n    at com.google.analytics.data.v1beta.BetaAnalyticsDataClient.create(BetaAnalyticsDataClient.java:154) ~[google-analytics-data-0.32.0.jar:0.32.0]\n    at com.google.analytics.data.v1beta.BetaAnalyticsDataClient.create(BetaAnalyticsDataClient.java:145) ~[google-analytics-data-0.32.0.jar:0.32.0]\n    at com.verishare.wpanalyticshelper.controller.UsercountSevenDaysController.usercountSevenDays(UsercountSevenDaysController.java:53) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:836) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1747) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>Anybody got any idea why? It is the most simple example I can find for interfacing with GA4 with Java and it fails straight out of the gate.</p>\n<p>I do note that the example has no authentication of any kind indicated?</p>\n<p>I've searched for the class <code>com.google.auth.oauth2.GdchCredentials</code>, but can find no reference anywhere to it at all - so why is the official Google GA4 Java API libraries requiring it - it does not exist - anywhere?</p>\n<p>My imports, etc. is exactly as in the example at the above URL.</p>\n<p>My pom.xml (it is a Java Spring application):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.verishare&lt;/groupId&gt;\n    &lt;artifactId&gt;WPAnalyticsHelper&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    \n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.5.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n    \n    &lt;!--Spring--&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n            &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    \n        &lt;!--Log4J--&gt;    \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.10.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.10.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!--Google APIs Java client--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\n            &lt;version&gt;1.35.2&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client-java6&lt;/artifactId&gt;\n            &lt;version&gt;1.35.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-oauth-client-java6&lt;/artifactId&gt;\n            &lt;version&gt;1.34.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.google.oauth-client/google-oauth-client-jetty --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-oauth-client-jetty&lt;/artifactId&gt;\n            &lt;version&gt;1.34.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client-servlet&lt;/artifactId&gt;\n            &lt;version&gt;1.35.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client-appengine&lt;/artifactId&gt;\n            &lt;version&gt;1.35.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client-gson&lt;/artifactId&gt;\n            &lt;version&gt;1.35.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client-jackson2&lt;/artifactId&gt;\n            &lt;version&gt;1.35.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client-protobuf&lt;/artifactId&gt;\n            &lt;version&gt;1.35.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client-xml&lt;/artifactId&gt;\n            &lt;version&gt;1.35.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-services-analyticsreporting&lt;/artifactId&gt;\n            &lt;version&gt;v4-rev20190318-1.28.0&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-services-analytics&lt;/artifactId&gt;\n            &lt;version&gt;v3-rev134-1.22.0&lt;/version&gt;\n        &lt;/dependency&gt;        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.analytics&lt;/groupId&gt;\n            &lt;artifactId&gt;google-analytics-data&lt;/artifactId&gt;\n            &lt;version&gt;0.32.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.auth&lt;/groupId&gt;\n            &lt;artifactId&gt;google-auth-library-oauth2-http&lt;/artifactId&gt;\n            &lt;version&gt;1.12.1&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-services-storage&lt;/artifactId&gt;\n            &lt;version&gt;v1-rev58-1.21.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    \n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    \n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;com.verishare.wpanalyticshelper.Application&lt;/mainClass&gt;\n                    &lt;layout&gt;ZIP&lt;/layout&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            \n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;links&gt;\n                        &lt;link&gt;http://download.oracle.com/javase/7/docs/api/&lt;/link&gt;\n                        &lt;link&gt;https://googleapis.dev/java/google-http-client/${project.http.version}/&lt;/link&gt;\n                    &lt;/links&gt;\n                    &lt;doctitle&gt;${project.name} ${project.version}&lt;/doctitle&gt;\n                    &lt;windowtitle&gt;${project.artifactId} ${project.version}&lt;/windowtitle&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifestFile&gt;${project.build.outputDirectory}/META-INF/MANIFEST.MF&lt;/manifestFile&gt;\n                        &lt;manifest&gt;\n                            &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\n                        &lt;/manifest&gt;\n                        &lt;manifestEntries&gt;\n                            &lt;Automatic-Module-Name&gt;google.api.client.java6&lt;/Automatic-Module-Name&gt;\n                        &lt;/manifestEntries&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5.4&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;bundle-manifest&lt;/id&gt;\n                        &lt;phase&gt;process-classes&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;manifest&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;instructions&gt;\n                        &lt;Bundle-DocURL&gt;https://googleapis.dev/java/google-api-client/${project.version}/index.html&lt;/Bundle-DocURL&gt;\n                        &lt;Bundle-Description&gt;Java 6 extensions to the Google APIs Client Library for Java&lt;/Bundle-Description&gt;\n                        &lt;Bundle-SymbolicName&gt;com.google.api.client.java6&lt;/Bundle-SymbolicName&gt;\n                    &lt;/instructions&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;!--            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;source-jar&lt;/id&gt;\n                        &lt;phase&gt;compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;--&gt;\n            &lt;!--Set minimum requirement to Java 7--&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;animal-sniffer-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;signature&gt;\n                        &lt;groupId&gt;org.codehaus.mojo.signature&lt;/groupId&gt;\n                        &lt;artifactId&gt;java17&lt;/artifactId&gt;\n                        &lt;version&gt;1.0&lt;/version&gt;\n                    &lt;/signature&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n                             \n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","thymeleaf","spring-thymeleaf"],"comments":[{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1691508244,"post_id":76860430,"comment_id":135499744,"body_markdown":"it&#39;s looking for a template named accueil, so change the template name to `accueil.html`","body":"it&#39;s looking for a template named accueil, so change the template name to <code>accueil.html</code>"}],"owner":{"account_id":25603220,"reputation":11,"user_id":19377813,"display_name":"Albinch"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1691504140,"creation_date":1691504140,"question_id":76860430,"body_markdown":"I&#39;m trying to add a header to all the pages of my Spring Boot application, so I want to use Thymeleaf to add this layout.\r\n\r\nBut when I&#39;m trying to access my home page for exemple, I get this error message :\r\n\r\n`Error resolving template [accueil], template might not exist or might not be accessible by any of the configured Template Resolvers`\r\n\r\nI looked through internet and found some advices to fix this issue, but none of them worked...\r\n\r\nMy layout path is : `src/main/resources/templates/layout.html` so I tried to add these prefix and suffix to my `application.properties` file :\r\n\r\n```\r\nspring.mvc.view.prefix=/WEB-INF/jsp/\r\nspring.mvc.view.suffix=.jsp\r\n\r\nspring.thymeleaf.prefix=classpath:/templates/\r\nspring.thymeleaf.suffix=.html\r\n```\r\n\r\nBut it don&#39;t works...\r\n\r\nHere are my layout.html file, my home controller and my pom.xml file :\r\n\r\nlayout.html :\r\n\r\n```html\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n&lt;meta charset=&quot;UTF-8&quot;&gt;\r\n&lt;title&gt;Enums in Thymeleaf&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;h2&gt;Hello from layout&lt;/h2&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nAccueilControleur :\r\n\r\n```java\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\n\r\n@Controller\r\npublic class AccueilControleur {\r\n    @GetMapping(&quot;&quot;)\r\n    public String index(){\r\n        return &quot;accueil&quot;;\r\n    }\r\n}\r\n```\r\n\r\npom.xml dependencies :\r\n\r\n```xml\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;!-- Pour Spring Boot, ajoutez ceci dans la section &lt;dependencies&gt; de votre pom.xml --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.postgresql/postgresql --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;42.6.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.tomcat.embed/tomcat-embed-jasper --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-thymeleaf --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n```\r\n\r\nDid someone have an idea on that issue ?\r\n\r\nBest regards","title":"Error when adding a Thymeleaf layout to my Spring Boot application","body":"<p>I'm trying to add a header to all the pages of my Spring Boot application, so I want to use Thymeleaf to add this layout.</p>\n<p>But when I'm trying to access my home page for exemple, I get this error message :</p>\n<p><code>Error resolving template [accueil], template might not exist or might not be accessible by any of the configured Template Resolvers</code></p>\n<p>I looked through internet and found some advices to fix this issue, but none of them worked...</p>\n<p>My layout path is : <code>src/main/resources/templates/layout.html</code> so I tried to add these prefix and suffix to my <code>application.properties</code> file :</p>\n<pre><code>spring.mvc.view.prefix=/WEB-INF/jsp/\nspring.mvc.view.suffix=.jsp\n\nspring.thymeleaf.prefix=classpath:/templates/\nspring.thymeleaf.suffix=.html\n</code></pre>\n<p>But it don't works...</p>\n<p>Here are my layout.html file, my home controller and my pom.xml file :</p>\n<p>layout.html :</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;UTF-8&quot;&gt;\n&lt;title&gt;Enums in Thymeleaf&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h2&gt;Hello from layout&lt;/h2&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>AccueilControleur :</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\n\n@Controller\npublic class AccueilControleur {\n    @GetMapping(&quot;&quot;)\n    public String index(){\n        return &quot;accueil&quot;;\n    }\n}\n</code></pre>\n<p>pom.xml dependencies :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependencies&gt;\n        &lt;!-- Pour Spring Boot, ajoutez ceci dans la section &lt;dependencies&gt; de votre pom.xml --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.postgresql/postgresql --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;42.6.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.tomcat.embed/tomcat-embed-jasper --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-thymeleaf --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>Did someone have an idea on that issue ?</p>\n<p>Best regards</p>\n"},{"tags":["java","spring","spring-integration"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691503977,"creation_date":1691503977,"answer_id":76860403,"question_id":76853362,"body_markdown":"Not clear why would one like to lose his/her messages, but there is some respective API. See `QueueChannelOperations` (the `QueueChannel` implements this):\r\n\r\n\t/**\r\n\t * Remove all {@link Message Messages} from this channel.\r\n\t * @return The messages that were removed.\r\n\t */\r\n\tList&lt;Message&lt;?&gt;&gt; clear();\r\n\r\n\t/**\r\n\t * Remove any {@link Message Messages} that are not accepted by the provided selector.\r\n\t * @param selector The message selector.\r\n\t * @return The list of messages that were purged.\r\n\t */\r\n\tList&lt;Message&lt;?&gt;&gt; purge(@Nullable MessageSelector selector);\r\n\r\n\t/**\r\n\t * Obtain the current number of queued {@link Message Messages} in this channel.\r\n\t * @return The current number of queued {@link Message Messages} in this channel.\r\n\t */\r\n\t@ManagedAttribute(description = &quot;Queue size&quot;)\r\n\tint getQueueSize();\r\n\r\n\t/**\r\n\t * Obtain the remaining capacity of this channel.\r\n\t * @return The remaining capacity of this channel.\r\n\t */\r\n\t@ManagedAttribute(description = &quot;Queue remaining capacity&quot;)\r\n\tint getRemainingCapacity();\r\n\r\n\r\nYou probably are not going to get an exception on every 100 messages because the queue capacity might be bigger. For that purpose you may look into a `ChannelInterceptor` to be injected into this `QueueChannel` where you can use an API I mentioned above.","title":"Log a message only when queue is full and purge the queue","body":"<p>Not clear why would one like to lose his/her messages, but there is some respective API. See <code>QueueChannelOperations</code> (the <code>QueueChannel</code> implements this):</p>\n<pre><code>/**\n * Remove all {@link Message Messages} from this channel.\n * @return The messages that were removed.\n */\nList&lt;Message&lt;?&gt;&gt; clear();\n\n/**\n * Remove any {@link Message Messages} that are not accepted by the provided selector.\n * @param selector The message selector.\n * @return The list of messages that were purged.\n */\nList&lt;Message&lt;?&gt;&gt; purge(@Nullable MessageSelector selector);\n\n/**\n * Obtain the current number of queued {@link Message Messages} in this channel.\n * @return The current number of queued {@link Message Messages} in this channel.\n */\n@ManagedAttribute(description = &quot;Queue size&quot;)\nint getQueueSize();\n\n/**\n * Obtain the remaining capacity of this channel.\n * @return The remaining capacity of this channel.\n */\n@ManagedAttribute(description = &quot;Queue remaining capacity&quot;)\nint getRemainingCapacity();\n</code></pre>\n<p>You probably are not going to get an exception on every 100 messages because the queue capacity might be bigger. For that purpose you may look into a <code>ChannelInterceptor</code> to be injected into this <code>QueueChannel</code> where you can use an API I mentioned above.</p>\n"}],"owner":{"account_id":29100551,"reputation":15,"user_id":22292455,"display_name":"Raghavendra Prasad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691503977,"creation_date":1691424234,"question_id":76853362,"body_markdown":"We send a message to the queue using the @Gateway.\r\nWhen the Queue is full, I dont want to log a message. Instead I want to log once for every 100 messages and ourge the queue.\r\nDo we have any option to do this Spring Integration ?\r\n\r\n\r\n```\r\n//Send message to &quot;INBOUND_CHANNEL&quot;\r\n@MessagingGateway(errorChannel = Constants.INBOUND_CHANNEL_ERR)\r\n@Component\r\npublic interface CustomGateway {\r\n    @Gateway(requestChannel = Constants.INBOUND_CHANNEL)\r\n    public void sendMessage(Message&lt;User&gt; message);\r\n}\r\n\r\n//&quot;INBOUND_CHANNEL&quot; as QueueChannel\r\n@Bean(name = Constants.INBOUND_CHANNEL)\r\npublic QueueChannel inboundFilePollingChannel() {\r\n  return new QueueChannel(100);\r\n}\r\n\r\n//&quot;INBOUND_CHANNEL_ERR&quot; as QueueChannel\r\n@Bean(name = Constants.INBOUND_CHANNEL_ERR)\r\npublic QueueChannel errorInboundChannel() {\r\n    return new QueueChannel(100);\r\n}\r\n\r\n//Service Activator for &quot;INBOUND_CHANNEL_ERR&quot;.\r\n@ServiceActivator(inputChannel = Constants.INBOUND_CHANNEL_ERR)\r\npublic void handleErrors(org.springframework.messaging.Message&lt;User&gt; message) {\r\n    // TODO: Log only when the &quot;INBOUND_CHANNEL_ERR&quot; queue is full for throttling and clear the queue\r\n    LOG.error(&quot;Dropping the message. ...&quot;);\r\n}\r\n```","title":"Log a message only when queue is full and purge the queue","body":"<p>We send a message to the queue using the @Gateway.\nWhen the Queue is full, I dont want to log a message. Instead I want to log once for every 100 messages and ourge the queue.\nDo we have any option to do this Spring Integration ?</p>\n<pre><code>//Send message to &quot;INBOUND_CHANNEL&quot;\n@MessagingGateway(errorChannel = Constants.INBOUND_CHANNEL_ERR)\n@Component\npublic interface CustomGateway {\n    @Gateway(requestChannel = Constants.INBOUND_CHANNEL)\n    public void sendMessage(Message&lt;User&gt; message);\n}\n\n//&quot;INBOUND_CHANNEL&quot; as QueueChannel\n@Bean(name = Constants.INBOUND_CHANNEL)\npublic QueueChannel inboundFilePollingChannel() {\n  return new QueueChannel(100);\n}\n\n//&quot;INBOUND_CHANNEL_ERR&quot; as QueueChannel\n@Bean(name = Constants.INBOUND_CHANNEL_ERR)\npublic QueueChannel errorInboundChannel() {\n    return new QueueChannel(100);\n}\n\n//Service Activator for &quot;INBOUND_CHANNEL_ERR&quot;.\n@ServiceActivator(inputChannel = Constants.INBOUND_CHANNEL_ERR)\npublic void handleErrors(org.springframework.messaging.Message&lt;User&gt; message) {\n    // TODO: Log only when the &quot;INBOUND_CHANNEL_ERR&quot; queue is full for throttling and clear the queue\n    LOG.error(&quot;Dropping the message. ...&quot;);\n}\n</code></pre>\n"},{"tags":["java","excel","kotlin","excel-formula","apache-poi"],"comments":[{"owner":{"display_name":"user9035826"},"score":2,"creation_date":1691504015,"post_id":76860289,"comment_id":135498669,"body_markdown":"Have you tried evaluator.evaluate(cell) and then work with the resulting CellValue to format it?","body":"Have you tried evaluator.evaluate(cell) and then work with the resulting CellValue to format it?"},{"owner":{"account_id":12013743,"reputation":1,"user_id":8789546,"display_name":"user999"},"score":0,"creation_date":1691504276,"post_id":76860289,"comment_id":135498735,"body_markdown":"@CjY Hello, yes I have. The result is the same. Adding evaluator.evaluate(cell) above return cell.richStringCellValue.getString() will return the same output as if the evaluator.evaluate(cell) was not even present. The date is not today, rather currently 2023-08-03.","body":"@CjY Hello, yes I have. The result is the same. Adding evaluator.evaluate(cell) above return cell.richStringCellValue.getString() will return the same output as if the evaluator.evaluate(cell) was not even present. The date is not today, rather currently 2023-08-03."},{"owner":{"display_name":"user9035826"},"score":2,"creation_date":1691504430,"post_id":76860289,"comment_id":135498791,"body_markdown":"The formula looks incorrect. Do you want to fix it above?","body":"The formula looks incorrect. Do you want to fix it above?"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1691505149,"post_id":76860289,"comment_id":135498996,"body_markdown":"Should your formula be `=&quot;text&quot; &amp; TEXT(TODAY(), &quot;YYYY-MM-DD&quot;) &amp; &quot;text&quot;` ?","body":"Should your formula be <code>=&quot;text&quot; &amp; TEXT(TODAY(), &quot;YYYY-MM-DD&quot;) &amp; &quot;text&quot;</code> ?"},{"owner":{"display_name":"user9035826"},"score":0,"creation_date":1691505330,"post_id":76860289,"comment_id":135499040,"body_markdown":"I am able to get the expected value with the formula fixed.","body":"I am able to get the expected value with the formula fixed."},{"owner":{"account_id":12013743,"reputation":1,"user_id":8789546,"display_name":"user999"},"score":0,"creation_date":1691505538,"post_id":76860289,"comment_id":135499088,"body_markdown":"I assume this has something to do with the country where I am in? The excel file is a template and is not created by me. Perhaps there is a possibility to change this format to YYYY-MM-DD. I will look into it, Thanks.","body":"I assume this has something to do with the country where I am in? The excel file is a template and is not created by me. Perhaps there is a possibility to change this format to YYYY-MM-DD. I will look into it, Thanks."},{"owner":{"display_name":"user9035826"},"score":1,"creation_date":1691509527,"post_id":76860289,"comment_id":135500050,"body_markdown":"The semicolon in the formula seems to be an error, but the &quot;RRRR&quot; may be a locale thing.","body":"The semicolon in the formula seems to be an error, but the &quot;RRRR&quot; may be a locale thing."},{"owner":{"account_id":12013743,"reputation":1,"user_id":8789546,"display_name":"user999"},"score":0,"creation_date":1691511697,"post_id":76860289,"comment_id":135500467,"body_markdown":"This seems to have worked! Indeed, the locale was the problem. For some time now, my pc has been set to my native locale even though I prefer to have it set to English(UK).\n\nI changed everything to UK and rebooted the pc. After that, the formulas have automatically adjusted to YYYY-MM-DD format and the semicolon changed to a comma! Thanks everyone for their help.","body":"This seems to have worked! Indeed, the locale was the problem. For some time now, my pc has been set to my native locale even though I prefer to have it set to English(UK).  I changed everything to UK and rebooted the pc. After that, the formulas have automatically adjusted to YYYY-MM-DD format and the semicolon changed to a comma! Thanks everyone for their help."}],"owner":{"account_id":12013743,"reputation":1,"user_id":8789546,"display_name":"user999"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691503746,"creation_date":1691503243,"question_id":76860289,"body_markdown":"as the title says - currently I have a function that works well\r\nexcep when...\r\n\r\nFollowing is the cell I want to get data from\r\n\r\n=&quot;text&quot; &amp; TEXT(TODAY();&quot;RRRR-MM-DD&quot;) &amp; &quot;text&quot;\r\n\r\napparently the format between two ampersands is the issue.\r\n\r\n```\r\n.\r\n.\r\nrow = sheet.getRow(cellReference.getRow())\r\ncell = row.getCell(cellReference.getCol().toInt(), Row.MissingCellPolicy.CREATE_NULL_AS_BLANK)\r\nvar dataFormatter = DataFormatter()\r\n\r\n//casting this will return everything correctly as a string however the date is in unix timestamp\r\n//of 01/01/1970 - returned value is 45160.0\r\nif(cell.getCellTypeEnum() == CellType.FORMULA)\r\n{\r\n      return dataFormatter.formatCellValue(cell, evalautor)\r\n}\r\n.\r\n.\r\n```\r\nThe most success I&#39;ve had with this was casting the following\r\n```\r\nif(cell.getCellTypeEnum() == CellType.FORMULA)\r\n{\r\n      return cell.richStringCellValue.getString()\r\n}\r\n```\r\nthe code above works except it does NOT return the correct date of TODAY(). Instead this returns the date of when the excel file was last saved.\r\nCalling any kind of cell evaluation has not worked so far and I am running out of ideas. \r\nIf I open the file and manually save it before running the script, this will work and return the correct value of posting this post today =&gt; 2023-08-08. ","title":"Using Apache POI lib I want to get date value from a cell that is FORMULA type - function doesn&#39;t read the date as desired","body":"<p>as the title says - currently I have a function that works well\nexcep when...</p>\n<p>Following is the cell I want to get data from</p>\n<p>=&quot;text&quot; &amp; TEXT(TODAY();&quot;RRRR-MM-DD&quot;) &amp; &quot;text&quot;</p>\n<p>apparently the format between two ampersands is the issue.</p>\n<pre><code>.\n.\nrow = sheet.getRow(cellReference.getRow())\ncell = row.getCell(cellReference.getCol().toInt(), Row.MissingCellPolicy.CREATE_NULL_AS_BLANK)\nvar dataFormatter = DataFormatter()\n\n//casting this will return everything correctly as a string however the date is in unix timestamp\n//of 01/01/1970 - returned value is 45160.0\nif(cell.getCellTypeEnum() == CellType.FORMULA)\n{\n      return dataFormatter.formatCellValue(cell, evalautor)\n}\n.\n.\n</code></pre>\n<p>The most success I've had with this was casting the following</p>\n<pre><code>if(cell.getCellTypeEnum() == CellType.FORMULA)\n{\n      return cell.richStringCellValue.getString()\n}\n</code></pre>\n<p>the code above works except it does NOT return the correct date of TODAY(). Instead this returns the date of when the excel file was last saved.\nCalling any kind of cell evaluation has not worked so far and I am running out of ideas.\nIf I open the file and manually save it before running the script, this will work and return the correct value of posting this post today =&gt; 2023-08-08.</p>\n"},{"tags":["java","spring-boot","opencv","intellij-idea"],"comments":[{"owner":{"account_id":3072614,"reputation":12296,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":0,"creation_date":1691503337,"post_id":76856160,"comment_id":135498521,"body_markdown":"then it looks like the openpnp people don&#39;t build a package with contrib modules?","body":"then it looks like the openpnp people don&#39;t build a package with contrib modules?"}],"owner":{"account_id":28367118,"reputation":59,"user_id":21696265,"display_name":"Prasad B"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691503429,"creation_date":1691462061,"question_id":76856160,"body_markdown":"I was using [this][1] link tutorial to create the facemaker object. I already have added this dependency of OpenCV in my springboot build.gradle.kts file:-\r\n\r\n    \r\n\timplementation(&quot;org.openpnp:opencv:4.7.0-0&quot;)\r\nI also tried to add this dependency:-\r\n\r\n    \r\n\timplementation(&quot;org.openpnp:opencv-contrib:4.7.0-0&quot;)\r\n\r\nbut it is not available. I got this :-\r\n\r\n    Could not find org.openpnp:opencv-contrib:4.7.0-0.\r\n\r\n\r\n  [1]: https://docs.opencv.org/3.4/d7/dec/tutorial_facemark_usage.html","title":"Which dependency should be added for using the OpenCV FacemarkLBF?","body":"<p>I was using <a href=\"https://docs.opencv.org/3.4/d7/dec/tutorial_facemark_usage.html\" rel=\"nofollow noreferrer\">this</a> link tutorial to create the facemaker object. I already have added this dependency of OpenCV in my springboot build.gradle.kts file:-</p>\n<pre><code>implementation(&quot;org.openpnp:opencv:4.7.0-0&quot;)\n</code></pre>\n<p>I also tried to add this dependency:-</p>\n<pre><code>implementation(&quot;org.openpnp:opencv-contrib:4.7.0-0&quot;)\n</code></pre>\n<p>but it is not available. I got this :-</p>\n<pre><code>Could not find org.openpnp:opencv-contrib:4.7.0-0.\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate-validator"],"answers":[{"tags":[],"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691503269,"creation_date":1691503269,"answer_id":76860297,"question_id":76859358,"body_markdown":"The issue is not on hibernate-validator, but on the jdk you are using. You are still using Java 8 (&quot;Java Runtime only recognizes class file versions up to 52.0&quot;) and that the Hibernate dependency requires Java 11 (&quot;class file version 55.0&quot;). Moreover, [Spring Boot 3 requires Java 17](https://spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0) so even if you are able to use a previous version of hibernate-validator many other issues like this one will pop out. You should first upgrade to Java 17.","title":"SpringBoot upgrade issue - HibernateValidator has been compiled by a more recent version of the Java Runtime (class file version 55.0)","body":"<p>The issue is not on hibernate-validator, but on the jdk you are using. You are still using Java 8 (&quot;Java Runtime only recognizes class file versions up to 52.0&quot;) and that the Hibernate dependency requires Java 11 (&quot;class file version 55.0&quot;). Moreover, <a href=\"https://spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0\" rel=\"nofollow noreferrer\">Spring Boot 3 requires Java 17</a> so even if you are able to use a previous version of hibernate-validator many other issues like this one will pop out. You should first upgrade to Java 17.</p>\n"}],"owner":{"account_id":3408732,"reputation":135,"user_id":2859213,"display_name":"FelipeCaparelli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1691503269,"creation_date":1691496051,"question_id":76859358,"body_markdown":"I am getting the following error after upgrading the library **spring-boot-starter-validation** to the version 3.0.1. It is possible to force the application to use the hibernate-validator version 6.* instead of 8.*?\r\n\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;serverProperties     &#39; defined in class path resource [org/springframework/boot/autoconfigure/web/ServerPropertiesAutoConfiguration.class]: Init     ialization of bean failed; nested exception is java.lang.UnsupportedClassVersionError: org/hibernate/validator/HibernateValidator has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0 (unable to load class [org.hibernate.validator.HibernateValidator])\r\n                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowi     reCapableBeanFactory.java:562)\r\n                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowire     CapableBeanFactory.java:481)\r\n                at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312)\r\n                at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBean     Registry.java:230)\r\n                at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308)\r\n                at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n                at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java     :211)\r\n                at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListable     BeanFactory.java:1134)\r\n                at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBe     anFactory.java:1062)\r\n                at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolv     er.java:835)\r\n                at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.ja     va:741)\r\n                ... 77 more\r\n\r\n\r\nFollow below my configuration:\r\n\r\n    &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n         &lt;version&gt;3.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"SpringBoot upgrade issue - HibernateValidator has been compiled by a more recent version of the Java Runtime (class file version 55.0)","body":"<p>I am getting the following error after upgrading the library <strong>spring-boot-starter-validation</strong> to the version 3.0.1. It is possible to force the application to use the hibernate-validator version 6.* instead of 8.*?</p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'serverProperties     ' defined in class path resource [org/springframework/boot/autoconfigure/web/ServerPropertiesAutoConfiguration.class]: Init     ialization of bean failed; nested exception is java.lang.UnsupportedClassVersionError: org/hibernate/validator/HibernateValidator has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0 (unable to load class [org.hibernate.validator.HibernateValidator])\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowi     reCapableBeanFactory.java:562)\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowire     CapableBeanFactory.java:481)\n            at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312)\n            at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBean     Registry.java:230)\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308)\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n            at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java     :211)\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListable     BeanFactory.java:1134)\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBe     anFactory.java:1062)\n            at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolv     er.java:835)\n            at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.ja     va:741)\n            ... 77 more\n</code></pre>\n<p>Follow below my configuration:</p>\n<pre><code>&lt;dependency&gt;\n     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n     &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n     &lt;version&gt;3.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","swing","jtable","tablecellrenderer"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1691477906,"post_id":76856878,"comment_id":135493123,"body_markdown":"Maybe something like [this](https://stackoverflow.com/questions/49003600/jtable-not-coloring-row-correctly/49004011#49004011) - but it&#39;s a bit hard to know what to suggest based on the description","body":"Maybe something like <a href=\"https://stackoverflow.com/questions/49003600/jtable-not-coloring-row-correctly/49004011#49004011\">this</a> - but it&#39;s a bit hard to know what to suggest based on the description"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691478461,"post_id":76856878,"comment_id":135493213,"body_markdown":"Please post your `TableModel`","body":"Please post your <code>TableModel</code>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1691502919,"post_id":76856878,"comment_id":135498418,"body_markdown":"So it seems like you want the &quot;odd&quot; valued groups one color and the &quot;even&quot; valued groups another color. I would override the `prepareRenderer(...)` method. Check out: https://stackoverflow.com/a/29702874/131872 for an example and more information to get you started.","body":"So it seems like you want the &quot;odd&quot; valued groups one color and the &quot;even&quot; valued groups another color. I would override the <code>prepareRenderer(...)</code> method. Check out: <a href=\"https://stackoverflow.com/a/29702874/131872\">stackoverflow.com/a/29702874/131872</a> for an example and more information to get you started."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691593123,"post_id":76856878,"comment_id":135513116,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":26960333,"reputation":1,"user_id":20528089,"display_name":"Khushi Yadav"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691502933,"creation_date":1691475464,"question_id":76856878,"body_markdown":"I have a JTable and want to have a clear distinction between the rows through color coding as shown in image.[enter image description here](https://i.stack.imgur.com/MUIG7.png)\r\n\r\nI know we need to use cell renderer but I am not sure how to compare the value of cells.","title":"Change the background color of rows as a group in JTable","body":"<p>I have a JTable and want to have a clear distinction between the rows through color coding as shown in image.<a href=\"https://i.stack.imgur.com/MUIG7.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I know we need to use cell renderer but I am not sure how to compare the value of cells.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1682990887,"creation_date":1682989898,"answer_id":76151135,"question_id":76151072,"body_markdown":"It appears that you are running with Java 19 rather than the Java 8 JRE.  (You would not get this error for Java 8.)\r\n\r\nThe deprecation warning for `SecurityManager` in SBT has been raised as an SBT issue; see https://github.com/sbt/sbt/issues/6558.  But that is against Java 17.  \r\n\r\nIn Java 18+ the Java runtime is not just giving a deprecation warning.  The `SecurityManager` class has now been changed to be non-functional; see https://openjdk.org/jeps/411 ... where it talks about the plans for Java 18 and later.\r\n\r\nAs a result, SBT 1.8.2 and earlier don&#39;t work on Java 18 and later.\r\n\r\nYour options are:\r\n\r\n  - Downgrade to Java 17 (or maybe Java 11 or Java 8)\r\n  - Upgrade to SBT 1.9.0-RC1 or later ... where SBT&#39;s dependency on `SecurityManager` is apparently removed.  (The issue above has been closed as resolved.)\r\n\r\n-----------------------------\r\n\r\nAs a general rule, I would recommend people stick with the LTS Java releases; i.e. 8, 11 and 17 (and 21 when it arrives).  The non-LTS releases are EOL&#39;d after 6 months, and 3rd-party software vendors tend not to support them immediately (if at all).  For example the SBT documentation recommends Java 8, 11 or 17.","title":"error during sbt launcher: java.lang.UnsupportedOperationException: The Security Manager is deprecated and will be removed in a future release","body":"<p>It appears that you are running with Java 19 rather than the Java 8 JRE.  (You would not get this error for Java 8.)</p>\n<p>The deprecation warning for <code>SecurityManager</code> in SBT has been raised as an SBT issue; see <a href=\"https://github.com/sbt/sbt/issues/6558\" rel=\"nofollow noreferrer\">https://github.com/sbt/sbt/issues/6558</a>.  But that is against Java 17.</p>\n<p>In Java 18+ the Java runtime is not just giving a deprecation warning.  The <code>SecurityManager</code> class has now been changed to be non-functional; see <a href=\"https://openjdk.org/jeps/411\" rel=\"nofollow noreferrer\">https://openjdk.org/jeps/411</a> ... where it talks about the plans for Java 18 and later.</p>\n<p>As a result, SBT 1.8.2 and earlier don't work on Java 18 and later.</p>\n<p>Your options are:</p>\n<ul>\n<li>Downgrade to Java 17 (or maybe Java 11 or Java 8)</li>\n<li>Upgrade to SBT 1.9.0-RC1 or later ... where SBT's dependency on <code>SecurityManager</code> is apparently removed.  (The issue above has been closed as resolved.)</li>\n</ul>\n<hr />\n<p>As a general rule, I would recommend people stick with the LTS Java releases; i.e. 8, 11 and 17 (and 21 when it arrives).  The non-LTS releases are EOL'd after 6 months, and 3rd-party software vendors tend not to support them immediately (if at all).  For example the SBT documentation recommends Java 8, 11 or 17.</p>\n"},{"tags":[],"owner":{"account_id":12494048,"reputation":317,"user_id":9094702,"display_name":"Phillip Musiime"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1691502843,"creation_date":1691502843,"answer_id":76860228,"question_id":76151072,"body_markdown":"Rerunning the command with this option `-Djava.security.manager=allow` for JRE 17+ worked for me. Like `sbt -Djava.security.manager=allow clean dist`\r\n\r\nGot this from the issue reported on the github sbt repo https://github.com/sbt/sbt/issues/6558#issuecomment-1457274792\r\n","title":"error during sbt launcher: java.lang.UnsupportedOperationException: The Security Manager is deprecated and will be removed in a future release","body":"<p>Rerunning the command with this option <code>-Djava.security.manager=allow</code> for JRE 17+ worked for me. Like <code>sbt -Djava.security.manager=allow clean dist</code></p>\n<p>Got this from the issue reported on the github sbt repo <a href=\"https://github.com/sbt/sbt/issues/6558#issuecomment-1457274792\" rel=\"nofollow noreferrer\">https://github.com/sbt/sbt/issues/6558#issuecomment-1457274792</a></p>\n"}],"owner":{"account_id":28091063,"reputation":41,"user_id":21460584,"display_name":"Dylan Bergmann"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4955,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1691502843,"creation_date":1682988596,"question_id":76151072,"body_markdown":"So I&#39;m installing CMAK(Cluster Manager for Apache Kafka) and when I run the command \r\n\r\n    sbt clean dist\r\n\r\nin the terminal, i receive this error\r\n\r\n    java.lang.UnsupportedOperationException: The Security Manager is deprecated and will be removed in a future release\r\n            at java.base/java.lang.System.setSecurityManager(System.java:425)\r\n            at sbt.TrapExit$.installManager(TrapExit.scala:53)\r\n            at sbt.StandardMain$.runManaged(Main.scala:127)\r\n            at sbt.xMain$.run(Main.scala:67)\r\n            at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n            at sbt.internal.XMainConfiguration.run(XMainConfiguration.scala:45)\r\n            at sbt.xMain.run(Main.scala:39)\r\n            at xsbt.boot.Launch$.$anonfun$run$1(Launch.scala:149)\r\n            at xsbt.boot.Launch$.withContextLoader(Launch.scala:176)\r\n            at xsbt.boot.Launch$.run(Launch.scala:149)\r\n            at xsbt.boot.Launch$.$anonfun$apply$1(Launch.scala:44)\r\n            at xsbt.boot.Launch$.launch(Launch.scala:159)\r\n            at xsbt.boot.Launch$.apply(Launch.scala:44)\r\n            at xsbt.boot.Launch$.apply(Launch.scala:21)\r\n            at xsbt.boot.Boot$.runImpl(Boot.scala:78)\r\n            at xsbt.boot.Boot$.run(Boot.scala:73)\r\n            at xsbt.boot.Boot$.main(Boot.scala:21)\r\n            at xsbt.boot.Boot.main(Boot.scala)\r\n    [error] [launcher] error during sbt launcher: java.lang.UnsupportedOperationException: The Security Manager is deprecated and will be removed in a future release\r\n\r\nSo I have been trying to fix this all morning, and still not understanding what is really going on here. My current version of dependencies:\r\n\r\n    JDK: 19\r\n    JRE: 1.8.0_202\r\n    SBT: 1.8.2\r\n\r\nHelp me, please! ","title":"error during sbt launcher: java.lang.UnsupportedOperationException: The Security Manager is deprecated and will be removed in a future release","body":"<p>So I'm installing CMAK(Cluster Manager for Apache Kafka) and when I run the command</p>\n<pre><code>sbt clean dist\n</code></pre>\n<p>in the terminal, i receive this error</p>\n<pre><code>java.lang.UnsupportedOperationException: The Security Manager is deprecated and will be removed in a future release\n        at java.base/java.lang.System.setSecurityManager(System.java:425)\n        at sbt.TrapExit$.installManager(TrapExit.scala:53)\n        at sbt.StandardMain$.runManaged(Main.scala:127)\n        at sbt.xMain$.run(Main.scala:67)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n        at sbt.internal.XMainConfiguration.run(XMainConfiguration.scala:45)\n        at sbt.xMain.run(Main.scala:39)\n        at xsbt.boot.Launch$.$anonfun$run$1(Launch.scala:149)\n        at xsbt.boot.Launch$.withContextLoader(Launch.scala:176)\n        at xsbt.boot.Launch$.run(Launch.scala:149)\n        at xsbt.boot.Launch$.$anonfun$apply$1(Launch.scala:44)\n        at xsbt.boot.Launch$.launch(Launch.scala:159)\n        at xsbt.boot.Launch$.apply(Launch.scala:44)\n        at xsbt.boot.Launch$.apply(Launch.scala:21)\n        at xsbt.boot.Boot$.runImpl(Boot.scala:78)\n        at xsbt.boot.Boot$.run(Boot.scala:73)\n        at xsbt.boot.Boot$.main(Boot.scala:21)\n        at xsbt.boot.Boot.main(Boot.scala)\n[error] [launcher] error during sbt launcher: java.lang.UnsupportedOperationException: The Security Manager is deprecated and will be removed in a future release\n</code></pre>\n<p>So I have been trying to fix this all morning, and still not understanding what is really going on here. My current version of dependencies:</p>\n<pre><code>JDK: 19\nJRE: 1.8.0_202\nSBT: 1.8.2\n</code></pre>\n<p>Help me, please!</p>\n"},{"tags":["java","spring","image","security","thymeleaf"],"comments":[{"owner":{"account_id":3261395,"reputation":131,"user_id":2746921,"display_name":"Abel"},"score":0,"creation_date":1592736197,"post_id":62496674,"comment_id":110525744,"body_markdown":"did you try to re-run it? Your code looks fine.","body":"did you try to re-run it? Your code looks fine."}],"answers":[{"tags":[],"owner":{"account_id":10007675,"reputation":937,"user_id":7401569,"display_name":"Sumit"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1592798082,"creation_date":1592798082,"answer_id":62507186,"question_id":62496674,"body_markdown":"Use this approach to get the static images and other resources to load on your html page - \r\n\r\n\r\n1.) Correct your folder structure for images, It should be - \r\nyour_project_name -&gt; src -&gt; main -&gt; resources -&gt; static -&gt; assets -&gt; img --&gt; your images\r\n\r\n**NOTE** - Add your other static files and folders inside assets folder.\r\n\r\n\r\n2.) And your Security config class - \r\n\r\n        @Configuration\r\n        @EnableWebSecurity\r\n        public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n        \r\n             // your code\r\n    \r\n     @Override\r\n        public void configure(WebSecurity web) throws Exception {\r\n            web\r\n                    .ignoring()\r\n                    .antMatchers(&quot;/assets/**&quot;);\r\n        }\r\n    }\r\n        \r\n        \r\n3.) Use correct url on your html page to access the images - \r\n                        \r\n    //your code\r\n    &lt;img th:src=&quot;@{/assets/img/car.jpeg}&quot; alt=&quot;Image&quot; class=&quot;img-fluid&quot;&gt;\r\n\r\n","title":"Spring Security:I can load static resources but not images","body":"<p>Use this approach to get the static images and other resources to load on your html page -</p>\n<p>1.) Correct your folder structure for images, It should be -\nyour_project_name -&gt; src -&gt; main -&gt; resources -&gt; static -&gt; assets -&gt; img --&gt; your images</p>\n<p><strong>NOTE</strong> - Add your other static files and folders inside assets folder.</p>\n<p>2.) And your Security config class -</p>\n<pre><code>    @Configuration\n    @EnableWebSecurity\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\n    \n         // your code\n\n @Override\n    public void configure(WebSecurity web) throws Exception {\n        web\n                .ignoring()\n                .antMatchers(&quot;/assets/**&quot;);\n    }\n}\n    \n    \n</code></pre>\n<p>3.) Use correct url on your html page to access the images -</p>\n<pre><code>//your code\n&lt;img th:src=&quot;@{/assets/img/car.jpeg}&quot; alt=&quot;Image&quot; class=&quot;img-fluid&quot;&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20453332,"reputation":305,"user_id":15007593,"display_name":"Fotis Kolytoumpas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691502791,"creation_date":1691502791,"answer_id":76860223,"question_id":62496674,"body_markdown":"I had a similar issue with **Spring Security 6.1.2**. I placed my pictures in this directory `01-web-app/src/main/resources/static/images/car-pictures` so I had to expose images directory and its contents.\r\n\r\n**SecurityConfig.class**\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig {\r\n    \r\n    @Bean\r\n    public UserDetailsManager userDetailsManager(DataSource dataSource) {\r\n      return new JdbcUserDetailsManager(dataSource);\r\n    }\r\n    \r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n      http.authorizeHttpRequests(configurer -&gt;\r\n        configurer\r\n          .requestMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n          .requestMatchers(&quot;/webjars/**&quot;).permitAll()\r\n          .requestMatchers(&quot;/cars/**&quot;).permitAll()\r\n          .requestMatchers(&quot;/images/**&quot;).permitAll()\r\n          .requestMatchers(&quot;/css/**&quot;).permitAll()\r\n          .anyRequest().authenticated()\r\n      ).formLogin(form -&gt;\r\n        form\r\n          .loginPage(&quot;/showLoginPage&quot;)\r\n          .loginProcessingUrl(&quot;/authenticateTheUser&quot;)\r\n          .permitAll()\r\n      ).logout(LogoutConfigurer::permitAll\r\n      );\r\n    \r\n      return http.build();\r\n    }\r\n    }\r\n\r\n**car-list.html**\r\n\r\n      &lt;div th:each=&quot;car : ${cars}&quot;&gt;\r\n        &lt;img th:src=&quot;${car.image}&quot;/&gt;\r\n      &lt;/div&gt;\r\n\r\nAnd my browser renders the following\r\n\r\n    &lt;img src=&quot;images/car-pictures/audi-tt-white.jpeg&quot;&gt;","title":"Spring Security:I can load static resources but not images","body":"<p>I had a similar issue with <strong>Spring Security 6.1.2</strong>. I placed my pictures in this directory <code>01-web-app/src/main/resources/static/images/car-pictures</code> so I had to expose images directory and its contents.</p>\n<p><strong>SecurityConfig.class</strong></p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n@Bean\npublic UserDetailsManager userDetailsManager(DataSource dataSource) {\n  return new JdbcUserDetailsManager(dataSource);\n}\n\n@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n  http.authorizeHttpRequests(configurer -&gt;\n    configurer\n      .requestMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\n      .requestMatchers(&quot;/webjars/**&quot;).permitAll()\n      .requestMatchers(&quot;/cars/**&quot;).permitAll()\n      .requestMatchers(&quot;/images/**&quot;).permitAll()\n      .requestMatchers(&quot;/css/**&quot;).permitAll()\n      .anyRequest().authenticated()\n  ).formLogin(form -&gt;\n    form\n      .loginPage(&quot;/showLoginPage&quot;)\n      .loginProcessingUrl(&quot;/authenticateTheUser&quot;)\n      .permitAll()\n  ).logout(LogoutConfigurer::permitAll\n  );\n\n  return http.build();\n}\n}\n</code></pre>\n<p><strong>car-list.html</strong></p>\n<pre><code>  &lt;div th:each=&quot;car : ${cars}&quot;&gt;\n    &lt;img th:src=&quot;${car.image}&quot;/&gt;\n  &lt;/div&gt;\n</code></pre>\n<p>And my browser renders the following</p>\n<pre><code>&lt;img src=&quot;images/car-pictures/audi-tt-white.jpeg&quot;&gt;\n</code></pre>\n"}],"owner":{"account_id":16894991,"reputation":449,"user_id":12217736,"display_name":"helloApp"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":978,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62507186,"answer_count":2,"score":1,"last_activity_date":1691502791,"creation_date":1592731523,"question_id":62496674,"body_markdown":"I tried all the suggestions from here but i could not make it work\r\nhttps://stackoverflow.com/questions/40618838/spring-boot-security-static-resources\r\n\r\nI have to specify that the image i am trying to add is on the log in page.\r\n\r\nI am using maven to create a spring boot webapp with security and thymeleaf.\r\nIt seems that all my static resources load fine(css/jss)but the images do not.When i check the developer tools in chrome i get a 404 error for that said image in the console.no matter what path i am using i am geting the same error.I have permited access to all the static content here\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeRequests().antMatchers(HttpMethod.GET,&quot;/resources/**&quot; ,&quot;/js/**&quot;, &quot;/css/**&quot;, &quot;/images/**&quot; ,&quot;/fonts/**&quot;, &quot;/scss/**&quot;, &quot;/index&quot;, &quot;/&quot;, &quot;/login&quot;).permitAll()\r\n                .and()\r\n                .authorizeRequests()\r\n                .requestMatchers(PathRequest.toStaticResources().atCommonLocations()).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .formLogin()\r\n                .loginPage(&quot;/login&quot;)\r\n                .permitAll()\r\n                .defaultSuccessUrl(&quot;/home&quot;, true)\r\n                .and()\r\n                .logout()\r\n                .logoutSuccessUrl(&quot;/&quot;)\r\n                .logoutUrl(&quot;/signout&quot;);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void configure(WebSecurity web) throws Exception {\r\n        web\r\n                .ignoring()\r\n                .antMatchers(&quot;/resources/**&quot;); // #3\r\n    }}\r\n```\r\n\r\nthis is how i access it in thymeleaf\r\n\r\n```\r\n &lt;div class=&quot;col-lg-2 ml-auto&quot;  data-aos=&quot;fade-up&quot; data-aos-delay=&quot;100&quot;&gt;\r\n                    &lt;figure class=&quot;img-absolute&quot;&gt;\r\n                        &lt;img th:src=&quot;@{/images/car.jpeg}&quot; alt=&quot;Image&quot; class=&quot;img-fluid&quot;&gt;\r\n                    &lt;/figure&gt;\r\n                &lt;/div&gt;\r\n```\r\nthis is my folder structure \r\n\r\n```src-&gt;main-&gt;resources-&gt;static-&gt;images-&gt;car.jpeg```\r\n\r\nand this is the error i get in dev tools\r\n```GET http://localhost:8080/images/car.jpeg 404```\r\n\r\nany help would be greatly appreciated.","title":"Spring Security:I can load static resources but not images","body":"<p>I tried all the suggestions from here but i could not make it work\n<a href=\"https://stackoverflow.com/questions/40618838/spring-boot-security-static-resources\">spring boot security static resources</a></p>\n<p>I have to specify that the image i am trying to add is on the log in page.</p>\n<p>I am using maven to create a spring boot webapp with security and thymeleaf.\nIt seems that all my static resources load fine(css/jss)but the images do not.When i check the developer tools in chrome i get a 404 error for that said image in the console.no matter what path i am using i am geting the same error.I have permited access to all the static content here</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .authorizeRequests().antMatchers(HttpMethod.GET,&quot;/resources/**&quot; ,&quot;/js/**&quot;, &quot;/css/**&quot;, &quot;/images/**&quot; ,&quot;/fonts/**&quot;, &quot;/scss/**&quot;, &quot;/index&quot;, &quot;/&quot;, &quot;/login&quot;).permitAll()\n                .and()\n                .authorizeRequests()\n                .requestMatchers(PathRequest.toStaticResources().atCommonLocations()).permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .formLogin()\n                .loginPage(&quot;/login&quot;)\n                .permitAll()\n                .defaultSuccessUrl(&quot;/home&quot;, true)\n                .and()\n                .logout()\n                .logoutSuccessUrl(&quot;/&quot;)\n                .logoutUrl(&quot;/signout&quot;);\n\n    }\n\n    @Override\n    public void configure(WebSecurity web) throws Exception {\n        web\n                .ignoring()\n                .antMatchers(&quot;/resources/**&quot;); // #3\n    }}\n</code></pre>\n<p>this is how i access it in thymeleaf</p>\n<pre><code> &lt;div class=&quot;col-lg-2 ml-auto&quot;  data-aos=&quot;fade-up&quot; data-aos-delay=&quot;100&quot;&gt;\n                    &lt;figure class=&quot;img-absolute&quot;&gt;\n                        &lt;img th:src=&quot;@{/images/car.jpeg}&quot; alt=&quot;Image&quot; class=&quot;img-fluid&quot;&gt;\n                    &lt;/figure&gt;\n                &lt;/div&gt;\n</code></pre>\n<p>this is my folder structure</p>\n<p><code>src-&gt;main-&gt;resources-&gt;static-&gt;images-&gt;car.jpeg</code></p>\n<p>and this is the error i get in dev tools\n<code>GET http://localhost:8080/images/car.jpeg 404</code></p>\n<p>any help would be greatly appreciated.</p>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":3785624,"reputation":7670,"user_id":3143670,"accept_rate":50,"display_name":"Neeraj Jain"},"score":0,"creation_date":1426752665,"post_id":29139633,"comment_id":46503179,"body_markdown":"No this is not actual representation !!! [Check this Documenation](http://docs.oracle.com/javase/8/docs/technotes/guides/language/enums.html)","body":"No this is not actual representation !!! <a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/language/enums.html\" rel=\"nofollow noreferrer\">Check this Documenation</a>"},{"owner":{"account_id":3785624,"reputation":7670,"user_id":3143670,"accept_rate":50,"display_name":"Neeraj Jain"},"score":0,"creation_date":1426752774,"post_id":29139633,"comment_id":46503227,"body_markdown":"@NaveenRamawat , Not it is not , check out Pshemo Answer !","body":"@NaveenRamawat , Not it is not , check out Pshemo Answer !"}],"answers":[{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1426753796,"creation_date":1426752603,"answer_id":29139664,"question_id":29139633,"body_markdown":"No, your code shows how things ware organized before `enum` was added in Java 1.5.\r\n \r\n- Your enum values needs to be `public` not `private` because you want to make them accessible everywhere. \r\n- Also they value is instance of your enum class, not integer (you may want to invoke some methods on these instances like `TimeUnit.SECONDS.toMinutes(120);` where you invoke `toMinutes` on instance `SECONDS`)\r\n\r\nSo your code looks more like\r\n\r\n    public class Animal extends Enum&lt;Animal&gt;{\r\n        public static final Animal DOG = new Animal();\r\n        public static final Animal CAT = new Animal();\r\n\r\n        //rest of code added by compiler, like \r\n        // - making constructor private\r\n        // - handling `ordinal()` \r\n        // - adding `valueOf(String) ` and `values()` methods\r\n    }\r\n\r\n","title":"Java: class equivalent for an enum","body":"<p>No, your code shows how things ware organized before <code>enum</code> was added in Java 1.5.</p>\n\n<ul>\n<li>Your enum values needs to be <code>public</code> not <code>private</code> because you want to make them accessible everywhere. </li>\n<li>Also they value is instance of your enum class, not integer (you may want to invoke some methods on these instances like <code>TimeUnit.SECONDS.toMinutes(120);</code> where you invoke <code>toMinutes</code> on instance <code>SECONDS</code>)</li>\n</ul>\n\n<p>So your code looks more like</p>\n\n<pre><code>public class Animal extends Enum&lt;Animal&gt;{\n    public static final Animal DOG = new Animal();\n    public static final Animal CAT = new Animal();\n\n    //rest of code added by compiler, like \n    // - making constructor private\n    // - handling `ordinal()` \n    // - adding `valueOf(String) ` and `values()` methods\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1691502765,"creation_date":1426752779,"answer_id":29139705,"question_id":29139633,"body_markdown":"Not exactly. Here is how it will look like:\r\n\r\n    public class Animal extends Enum&lt;Enum&lt;Animal&gt;&gt; {\r\n       public static final Animal DOG = new Animal(&quot;DOG&quot;, 0);\r\n       public static final Animal CAT = new Animal(&quot;CAT&quot;, 1);\r\n       private static final Animal[] values = new Animal[] {DOG, CAT};\r\n    \r\n       private Animal(String name, int ordinal) {super(name, ordinal);}\r\n       public static Animal valueOf(String name) {return Enum.valueOf(Animal.class, name)}\r\n       public Animal[] values() {return values;}\r\n    }\r\n\r\n\r\nClass `java.lang.Enum` holds `ordinal` and `name` and provides methods that can access them. ","title":"Java: class equivalent for an enum","body":"<p>Not exactly. Here is how it will look like:</p>\n<pre><code>public class Animal extends Enum&lt;Enum&lt;Animal&gt;&gt; {\n   public static final Animal DOG = new Animal(&quot;DOG&quot;, 0);\n   public static final Animal CAT = new Animal(&quot;CAT&quot;, 1);\n   private static final Animal[] values = new Animal[] {DOG, CAT};\n\n   private Animal(String name, int ordinal) {super(name, ordinal);}\n   public static Animal valueOf(String name) {return Enum.valueOf(Animal.class, name)}\n   public Animal[] values() {return values;}\n}\n</code></pre>\n<p>Class <code>java.lang.Enum</code> holds <code>ordinal</code> and <code>name</code> and provides methods that can access them.</p>\n"}],"owner":{"account_id":2118156,"reputation":1552,"user_id":1881995,"accept_rate":37,"display_name":"unknown_boundaries"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1841,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1691502765,"creation_date":1426752456,"question_id":29139633,"body_markdown":"If there is an enum,\r\n\r\n    public enum Animal {\r\n       DOG,\r\n       CAT;\r\n    }\r\n\r\nIf I&#39;m understanding enums correctly, we can convert them in equivalent class, something like -\r\n\r\n    public class Animal {\r\n       private static final DOG = 1;\r\n       private static final CAT = 2;\r\n    }\r\n\r\nIs this the correct representation, or I&#39;m missing anything here?\r\n\r\nThanks.","title":"Java: class equivalent for an enum","body":"<p>If there is an enum,</p>\n\n<pre><code>public enum Animal {\n   DOG,\n   CAT;\n}\n</code></pre>\n\n<p>If I'm understanding enums correctly, we can convert them in equivalent class, something like -</p>\n\n<pre><code>public class Animal {\n   private static final DOG = 1;\n   private static final CAT = 2;\n}\n</code></pre>\n\n<p>Is this the correct representation, or I'm missing anything here?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","pdfbox","underline"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1684328155,"post_id":76270689,"comment_id":134501927,"body_markdown":"The PDF specification mentions border style &quot;U&quot; in the border style dictionary. I don&#39;t remember if this has an effect in for form fields widget annotations, PDFBox uses it for rendering only for link annotations. Maybe create such a file and see what happens.","body":"The PDF specification mentions border style &quot;U&quot; in the border style dictionary. I don&#39;t remember if this has an effect in for form fields widget annotations, PDFBox uses it for rendering only for link annotations. Maybe create such a file and see what happens."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1684333464,"post_id":76270689,"comment_id":134503325,"body_markdown":"It is a bad idea to try and apply such changes _after signing_. The natural way to underline would be to add an underline annotation, but adding new annotations may not be allowed depending on the signature applied. You say that *approach has not been successful* - how did you try it, how did it fail?","body":"It is a bad idea to try and apply such changes <i>after signing</i>. The natural way to underline would be to add an underline annotation, but adding new annotations may not be allowed depending on the signature applied. You say that <i>approach has not been successful</i> - how did you try it, how did it fail?"},{"owner":{"account_id":19400955,"reputation":17,"user_id":14187526,"display_name":"rahim soufiane"},"score":0,"creation_date":1688465860,"post_id":76270689,"comment_id":135074866,"body_markdown":"My code is lengthy, but I&#39;m attempting to create all the fields first. After that:\n\nThe first signer populates their fields and signs the document.\nThe second signer populates their fields and signs it again.\nEverything works fine, but when I try to add an underline, it doesn&#39;t appear. This is because I haven&#39;t implemented it correctly. Therefore, I&#39;m searching for an example to accomplish that using PDFBox 2.0.28.","body":"My code is lengthy, but I&#39;m attempting to create all the fields first. After that:  The first signer populates their fields and signs the document. The second signer populates their fields and signs it again. Everything works fine, but when I try to add an underline, it doesn&#39;t appear. This is because I haven&#39;t implemented it correctly. Therefore, I&#39;m searching for an example to accomplish that using PDFBox 2.0.28."},{"owner":{"account_id":19400955,"reputation":17,"user_id":14187526,"display_name":"rahim soufiane"},"score":0,"creation_date":1688465934,"post_id":76270689,"comment_id":135074883,"body_markdown":"@TilmanHausherr, could you please provide guidance on how to implement the &quot;U&quot; border style approach you mentioned?","body":"@TilmanHausherr, could you please provide guidance on how to implement the &quot;U&quot; border style approach you mentioned?"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1688523862,"post_id":76270689,"comment_id":135083526,"body_markdown":"PDBorderStyleDictionary borderULine = new PDBorderStyleDictionary();\n            borderULine.setStyle(PDBorderStyleDictionary.STYLE_UNDERLINE);\n\t\t\tborderULine.setWidth(1);\n\t\t\twidget.setBorderStyle(borderULine);","body":"PDBorderStyleDictionary borderULine = new PDBorderStyleDictionary();             borderULine.setStyle(PDBorderStyleDictionary.STYLE_UNDERLINE&zwnj;&#8203;); \t\t\tborderULine.setWidth(1); \t\t\twidget.setBorderStyle(borderULine);"}],"answers":[{"tags":[],"owner":{"account_id":22728212,"reputation":21,"user_id":16891571,"display_name":"Sarie Chafiq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691502533,"creation_date":1691502533,"answer_id":76860189,"question_id":76270689,"body_markdown":"You can change the leading to design a line like that and after return to the previous leading\r\n\r\n                    contentStream.setLeading(5f);\r\n                    contentStream.newLine();\r\n                    contentStream.showText(&quot;------------------------------------&quot;);\r\n                    contentStream.setLeading(25f);\r\n                    contentStream.newLine();","title":"How to underline text in form fields with Apache PDFBox?","body":"<p>You can change the leading to design a line like that and after return to the previous leading</p>\n<pre><code>                contentStream.setLeading(5f);\n                contentStream.newLine();\n                contentStream.showText(&quot;------------------------------------&quot;);\n                contentStream.setLeading(25f);\n                contentStream.newLine();\n</code></pre>\n"}],"owner":{"account_id":19400955,"reputation":17,"user_id":14187526,"display_name":"rahim soufiane"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691502533,"creation_date":1684316530,"question_id":76270689,"body_markdown":"I am currently working on a Java application that uses Apache PDFBox to fill form fields and sign a PDF document. After the document is signed, I would like to underline the text in certain form fields.\r\n\r\nI have been able to manipulate the text in terms of font, size, and color, but underlining the text has proven to be a challenge. I have tried adding an underline as an annotation, but this approach has not been successful.\r\nI&#39;m struggling to find clear instructions or examples in the PDFBox documentation or online about how to add an underline to the text in a form field after the document is signed.\r\n\r\n\r\n\r\nHere are my questions:\r\n\r\nIs it possible to underline text in a form field using PDFBox after signing the document? If so, how can it be done?\r\nIf underlining is not possible through the default appearance string or as an annotation, is there any workaround or alternative solution?\r\nAny guidance would be greatly appreciated. Thank you for your time.","title":"How to underline text in form fields with Apache PDFBox?","body":"<p>I am currently working on a Java application that uses Apache PDFBox to fill form fields and sign a PDF document. After the document is signed, I would like to underline the text in certain form fields.</p>\n<p>I have been able to manipulate the text in terms of font, size, and color, but underlining the text has proven to be a challenge. I have tried adding an underline as an annotation, but this approach has not been successful.\nI'm struggling to find clear instructions or examples in the PDFBox documentation or online about how to add an underline to the text in a form field after the document is signed.</p>\n<p>Here are my questions:</p>\n<p>Is it possible to underline text in a form field using PDFBox after signing the document? If so, how can it be done?\nIf underlining is not possible through the default appearance string or as an annotation, is there any workaround or alternative solution?\nAny guidance would be greatly appreciated. Thank you for your time.</p>\n"},{"tags":["java","java-time","timezone-offset","datetime-parsing","java.time.instant"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1516020917,"post_id":48263389,"comment_id":83509693,"body_markdown":"I&#39;d have to look it up again but I&#39;d say your timezone format `Z` is wrong.","body":"I&#39;d have to look it up again but I&#39;d say your timezone format <code>Z</code> is wrong."},{"owner":{"account_id":79832,"reputation":157,"user_id":226107,"accept_rate":100,"display_name":"Gaurav"},"score":0,"creation_date":1516021133,"post_id":48263389,"comment_id":83509810,"body_markdown":"From DateTimeFormatter.java:\n `*  Symbol  Meaning                     Presentation      Examples`\n `*   Z       zone-offset                 offset-Z          +0000; -0800; -08:00;`","body":"From DateTimeFormatter.java:  <code>*  Symbol  Meaning                     Presentation      Examples</code>  <code>*   Z       zone-offset                 offset-Z          +0000; -0800; -08:00;</code>"},{"owner":{"account_id":12145826,"reputation":518,"user_id":8868209,"display_name":"D. Braun"},"score":0,"creation_date":1516022700,"post_id":48263389,"comment_id":83510644,"body_markdown":"In https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html there are 3 possibilities for zone offsets: Z, X and x. Perhaps XX or xx works better, like described under **Offset X and x:**","body":"In <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/time/format/&hellip;</a> there are 3 possibilities for zone offsets: Z, X and x. Perhaps XX or xx works better, like described under <b>Offset X and x:</b>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1516028846,"post_id":48263389,"comment_id":83514128,"body_markdown":"[How to reproduce (ideone)](https://www.ideone.com/ZoOW1t)","body":"<a href=\"https://www.ideone.com/ZoOW1t\" rel=\"nofollow noreferrer\">How to reproduce (ideone)</a>"}],"answers":[{"tags":[],"owner":{"account_id":11286478,"reputation":131,"user_id":8867928,"display_name":"laaf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516107875,"creation_date":1516026027,"answer_id":48264881,"question_id":48263389,"body_markdown":"Try this:\r\n\r\n    LocalDateTime.parse(&quot;20140726080320+0400&quot;,\r\n        new DateTimeFormatterBuilder().appendPattern(&quot;yyyyMMddHHmmssZ&quot;).toFormatter())\r\n    .atOffset(ZoneOffset.UTC)\r\n\r\nThe return: \r\n\r\n&gt; 2014-07-26T08:03:20\r\n\r\n---\r\nThis is wrong because it ignores the offset (+0400) and then set the date/time to UTC - which will give an incorrect value for epochSecond","title":"java.time.OffsetDateTime: Unable to obtain OffsetDateTime from TemporalAccessor","body":"<p>Try this:</p>\n\n<pre><code>LocalDateTime.parse(\"20140726080320+0400\",\n    new DateTimeFormatterBuilder().appendPattern(\"yyyyMMddHHmmssZ\").toFormatter())\n.atOffset(ZoneOffset.UTC)\n</code></pre>\n\n<p>The return: </p>\n\n<blockquote>\n  <p>2014-07-26T08:03:20</p>\n</blockquote>\n\n<hr>\n\n<p>This is wrong because it ignores the offset (+0400) and then set the date/time to UTC - which will give an incorrect value for epochSecond</p>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1516108844,"creation_date":1516029557,"answer_id":48265825,"question_id":48263389,"body_markdown":"`yyyy` in the format pattern string is for year of era. Strictly speaking, 2014 could denote 2014 BCE (“before Christ”) or 2014 CE (“anno Domini”). Apparently the formatter with strict resolver style objects to this ambiguity.\r\n\r\nA solution is to use `uuuu` for year. This is a signed year where 0 means 1 BCE, -1 means 2 BCE etc. So there is no ambiguity:\r\n\r\n\t\tSystem.out.println(&quot;********************&quot;\r\n\t\t\t\t+ OffsetDateTime.parse(&quot;20140726080320+0400&quot;,\r\n\t\t\t    \t\t\t\t\tDateTimeFormatter.ofPattern(&quot;uuuuMMddHHmmssZ&quot;)\r\n\t\t\t    \t\t\t\t\t\t\t.withChronology(IsoChronology.INSTANCE)\r\n\t\t\t    \t\t\t\t\t\t\t.withResolverStyle(STRICT))\r\n\t\t\t    \t\t\t.toEpochSecond());\r\n\r\nThis prints\r\n\r\n&gt;  ********************1406347400\r\n\r\nThis is related to the way `IsoChronology` resolves the date for different resolver styles, as described in the [javadoc](https://docs.oracle.com/javase/8/docs/api/java/time/chrono/IsoChronology.html#resolveDate-java.util.Map-java.time.format.ResolverStyle-):\r\n\r\n&gt; If only the YEAR_OF_ERA is present, and the mode is smart or lenient, then the current era (CE/AD) is assumed. In strict mode, no era is assumed and the YEAR_OF_ERA is left untouched.","title":"java.time.OffsetDateTime: Unable to obtain OffsetDateTime from TemporalAccessor","body":"<p><code>yyyy</code> in the format pattern string is for year of era. Strictly speaking, 2014 could denote 2014 BCE (“before Christ”) or 2014 CE (“anno Domini”). Apparently the formatter with strict resolver style objects to this ambiguity.</p>\n\n<p>A solution is to use <code>uuuu</code> for year. This is a signed year where 0 means 1 BCE, -1 means 2 BCE etc. So there is no ambiguity:</p>\n\n<pre><code>    System.out.println(\"********************\"\n            + OffsetDateTime.parse(\"20140726080320+0400\",\n                                DateTimeFormatter.ofPattern(\"uuuuMMddHHmmssZ\")\n                                        .withChronology(IsoChronology.INSTANCE)\n                                        .withResolverStyle(STRICT))\n                        .toEpochSecond());\n</code></pre>\n\n<p>This prints</p>\n\n<blockquote>\n  <p>********************1406347400</p>\n</blockquote>\n\n<p>This is related to the way <code>IsoChronology</code> resolves the date for different resolver styles, as described in the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/chrono/IsoChronology.html#resolveDate-java.util.Map-java.time.format.ResolverStyle-\" rel=\"nofollow noreferrer\">javadoc</a>:</p>\n\n<blockquote>\n  <p>If only the YEAR_OF_ERA is present, and the mode is smart or lenient, then the current era (CE/AD) is assumed. In strict mode, no era is assumed and the YEAR_OF_ERA is left untouched.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11613700,"reputation":21,"user_id":8507187,"display_name":"LVA"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1691502323,"creation_date":1691502323,"answer_id":76860161,"question_id":48263389,"body_markdown":"Maybe my answer is outdated, but I just dealt with a similar problem -)\r\n\r\nif you want to use strict mode, and keep using &quot;yyyy&quot; instead of &quot;uuuu&quot;, then you need to add an indication of the ERA. I used the default value, like this:\r\n\r\n        OffsetDateTime.parse(&quot;20140726080320+0400&quot;, \r\n         new DateTimeFormatterBuilder()\r\n             .appendPattern(&quot;yyyyMMddHHmmssZ&quot;)\r\n             .parseDefaulting(ChronoField.ERA, 1)\r\n             .toFormatter()\r\n             .withResolverStyle(ResolverStyle.STRICT)\r\n    );\r\n\r\n\r\nThis code works correctly.\r\nI hope this helps someone.","title":"java.time.OffsetDateTime: Unable to obtain OffsetDateTime from TemporalAccessor","body":"<p>Maybe my answer is outdated, but I just dealt with a similar problem -)</p>\n<p>if you want to use strict mode, and keep using &quot;yyyy&quot; instead of &quot;uuuu&quot;, then you need to add an indication of the ERA. I used the default value, like this:</p>\n<pre><code>    OffsetDateTime.parse(&quot;20140726080320+0400&quot;, \n     new DateTimeFormatterBuilder()\n         .appendPattern(&quot;yyyyMMddHHmmssZ&quot;)\n         .parseDefaulting(ChronoField.ERA, 1)\n         .toFormatter()\n         .withResolverStyle(ResolverStyle.STRICT)\n);\n</code></pre>\n<p>This code works correctly.\nI hope this helps someone.</p>\n"}],"owner":{"account_id":79832,"reputation":157,"user_id":226107,"accept_rate":100,"display_name":"Gaurav"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3538,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":48265825,"answer_count":3,"score":2,"last_activity_date":1691502323,"creation_date":1516020598,"question_id":48263389,"body_markdown":"I&#39;m trying to parse `&quot;20140726080320+0400&quot;` using `&quot;yyyyMMddHHmmssZ&quot;` format as follows:\r\n\r\n    System.out.println(&quot;********************&quot; + OffsetDateTime\r\n        .parse(&quot;20140726080320+0400&quot;,\r\n            DateTimeFormatter.ofPattern(&quot;yyyyMMddHHmmssZ&quot;).withChronology(IsoChronology.INSTANCE).withResolverStyle(STRICT))\r\n        .toEpochSecond()); \r\n\r\n\r\nI keep running into this exception:\r\n\r\n    java.time.format.DateTimeParseException: Text &#39;20140726080320+0400&#39; could not be parsed: Unable to obtain OffsetDateTime from TemporalAccessor: {OffsetSeconds=14400, DayOfMonth=26, YearOfEra=2014, MonthOfYear=7},ISO resolved to 08:03:20 of type java.time.format.Parsed\r\n        at java.time.format.Parsed.getLong(Parsed.java:203)\r\n        at java.time.Instant.from(Instant.java:373)\r\n        at java.time.OffsetDateTime.from(OffsetDateTime.java:365)\r\n        at java.time.format.Parsed.query(Parsed.java:226)\r\n        at java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1851)\r\n        at java.time.OffsetDateTime.parse(OffsetDateTime.java:402)\r\n\r\nWhat am I doing wrong?","title":"java.time.OffsetDateTime: Unable to obtain OffsetDateTime from TemporalAccessor","body":"<p>I'm trying to parse <code>\"20140726080320+0400\"</code> using <code>\"yyyyMMddHHmmssZ\"</code> format as follows:</p>\n\n<pre><code>System.out.println(\"********************\" + OffsetDateTime\n    .parse(\"20140726080320+0400\",\n        DateTimeFormatter.ofPattern(\"yyyyMMddHHmmssZ\").withChronology(IsoChronology.INSTANCE).withResolverStyle(STRICT))\n    .toEpochSecond()); \n</code></pre>\n\n<p>I keep running into this exception:</p>\n\n<pre><code>java.time.format.DateTimeParseException: Text '20140726080320+0400' could not be parsed: Unable to obtain OffsetDateTime from TemporalAccessor: {OffsetSeconds=14400, DayOfMonth=26, YearOfEra=2014, MonthOfYear=7},ISO resolved to 08:03:20 of type java.time.format.Parsed\n    at java.time.format.Parsed.getLong(Parsed.java:203)\n    at java.time.Instant.from(Instant.java:373)\n    at java.time.OffsetDateTime.from(OffsetDateTime.java:365)\n    at java.time.format.Parsed.query(Parsed.java:226)\n    at java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1851)\n    at java.time.OffsetDateTime.parse(OffsetDateTime.java:402)\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"},{"tags":["java","logging","spring-security","spring-boot","dependency-management"],"comments":[{"owner":{"account_id":207741,"reputation":573,"user_id":457788,"accept_rate":44,"display_name":"Peter"},"score":0,"creation_date":1660044536,"post_id":30792268,"comment_id":129437117,"body_markdown":"This article helped me to better understand and solve the problem:\nhttps://tedblob.com/loggerfactory-is-not-a-logback-loggercontext-but-logback-is-on-the-classpath/","body":"This article helped me to better understand and solve the problem: <a href=\"https://tedblob.com/loggerfactory-is-not-a-logback-loggercontext-but-logback-is-on-the-classpath/\" rel=\"nofollow noreferrer\">tedblob.com/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6455518,"reputation":1237,"user_id":5001083,"accept_rate":88,"display_name":"newbie"},"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1434119981,"creation_date":1434119981,"answer_id":30805797,"question_id":30792268,"body_markdown":"i figured out\r\n\r\n    compile(&quot;org.springframework.boot:spring-boot-starter-security&quot;){\r\n\t\texclude module: &quot;spring-boot-starter-logging&quot;\r\n\t\texclude module: &quot;logback-classic&quot;\r\n\t}\r\n\tcompile(&quot;org.springframework.boot:spring-boot-starter-thymeleaf&quot;){\r\n\t\texclude module: &quot;logback-classic&quot;\r\n\t}","title":"LoggerFactory is not a Logback LoggerContext but Logback is on the classpath","body":"<p>i figured out</p>\n\n<pre><code>compile(\"org.springframework.boot:spring-boot-starter-security\"){\n    exclude module: \"spring-boot-starter-logging\"\n    exclude module: \"logback-classic\"\n}\ncompile(\"org.springframework.boot:spring-boot-starter-thymeleaf\"){\n    exclude module: \"logback-classic\"\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4489485,"reputation":1051,"user_id":3650955,"display_name":"ufukomer"},"down_vote_count":0,"up_vote_count":59,"is_accepted":false,"score":59,"last_activity_date":1488867328,"creation_date":1488867328,"answer_id":42641450,"question_id":30792268,"body_markdown":"Same solution for maven:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;version&gt;1.5.1.RELEASE&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n                &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;","title":"LoggerFactory is not a Logback LoggerContext but Logback is on the classpath","body":"<p>Same solution for maven:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n    &lt;version&gt;1.5.1.RELEASE&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":136976,"reputation":799,"user_id":1332145,"accept_rate":57,"display_name":"Robin Wang"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1489563642,"creation_date":1489563642,"answer_id":42803696,"question_id":30792268,"body_markdown":"Using the IDEA &quot;Show Dependencies&quot; or `mvn dependency:tree -Dverbose` to find all the logback-classic jar file, and exclude them.","title":"LoggerFactory is not a Logback LoggerContext but Logback is on the classpath","body":"<p>Using the IDEA \"Show Dependencies\" or <code>mvn dependency:tree -Dverbose</code> to find all the logback-classic jar file, and exclude them.</p>\n"},{"tags":[],"owner":{"account_id":5567278,"reputation":94,"user_id":4414047,"display_name":"michals"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1537971149,"creation_date":1537971149,"answer_id":52519793,"question_id":30792268,"body_markdown":"For me this problem appeared only during execution of maven-surefire-plugin. Somehow Logback is there on the class path, even if its not added to project dependencies. I added such fix:\r\n\r\n    &lt;plugin&gt;\r\n         &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n         &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n         &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\r\n         &lt;configuration&gt;\r\n            &lt;systemPropertyVariables&gt;\r\n                &lt;org.springframework.boot.logging.LoggingSystem&gt;\r\n                    org.springframework.boot.logging.log4j2.Log4J2LoggingSystem\r\n                &lt;/org.springframework.boot.logging.LoggingSystem&gt;\r\n            &lt;/systemPropertyVariables&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nYou can also use  \r\n\r\n    mvn clean install -Dorg.springframework.boot.logging.LoggingSystem=org.springframework.boot.logging.log4j2.Log4J2LoggingSystem\r\n","title":"LoggerFactory is not a Logback LoggerContext but Logback is on the classpath","body":"<p>For me this problem appeared only during execution of maven-surefire-plugin. Somehow Logback is there on the class path, even if its not added to project dependencies. I added such fix:</p>\n\n<pre><code>&lt;plugin&gt;\n     &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n     &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n     &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\n     &lt;configuration&gt;\n        &lt;systemPropertyVariables&gt;\n            &lt;org.springframework.boot.logging.LoggingSystem&gt;\n                org.springframework.boot.logging.log4j2.Log4J2LoggingSystem\n            &lt;/org.springframework.boot.logging.LoggingSystem&gt;\n        &lt;/systemPropertyVariables&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>You can also use  </p>\n\n<pre><code>mvn clean install -Dorg.springframework.boot.logging.LoggingSystem=org.springframework.boot.logging.log4j2.Log4J2LoggingSystem\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2205706,"reputation":3110,"user_id":1964277,"accept_rate":65,"display_name":"rupweb"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1580386738,"creation_date":1580386738,"answer_id":59985914,"question_id":30792268,"body_markdown":"The problem for me went on with: Either remove Logback or the competing implementation class org.apache.logging.slf4j.Log4jLoggerFactory loaded from log4j-slf4j-impl-2.12.0.jar\r\n\r\nI added \r\n\r\n    configurations {\r\n        all {\r\n        \texclude group: &#39;org.springframework.boot&#39;, module: &#39;spring-boot-starter-logging&#39;\r\n        \texclude group: &#39;ch.qos.logback&#39;, module: &#39;logback-classic&#39;\r\n        \texclude group: &#39;org.apache.logging.log4j&#39;, module: &#39;log4j-to-slf4j&#39;\r\n        }\r\n    }\r\n\r\nto my gradle.build and also refreshed all project dependencies with the latest versions and the problem resolved.","title":"LoggerFactory is not a Logback LoggerContext but Logback is on the classpath","body":"<p>The problem for me went on with: Either remove Logback or the competing implementation class org.apache.logging.slf4j.Log4jLoggerFactory loaded from log4j-slf4j-impl-2.12.0.jar</p>\n\n<p>I added </p>\n\n<pre><code>configurations {\n    all {\n        exclude group: 'org.springframework.boot', module: 'spring-boot-starter-logging'\n        exclude group: 'ch.qos.logback', module: 'logback-classic'\n        exclude group: 'org.apache.logging.log4j', module: 'log4j-to-slf4j'\n    }\n}\n</code></pre>\n\n<p>to my gradle.build and also refreshed all project dependencies with the latest versions and the problem resolved.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621456758,"creation_date":1621456758,"answer_id":67610566,"question_id":30792268,"body_markdown":"According to [this bug][1], the bundled and undeletable Kotlin plugin (reminds me the forced inclusion of U2&#39;s album with iOS) includes `org.gradle.kotlin.kotlin-dsl`, which in turn pollutes the classpath with an incompatible logging library (even if disabled).\r\n\r\nI solved this by changing the runner from &quot;IntelliJ IDEA&quot; to &quot;Gradle&quot; in preferences:\r\n\r\n- Build, Execution, Deployment\r\n  - Build Tools\r\n    - Gradle\r\n      - Build an run using -&gt; Gradle\r\n       - Run tests using -&gt; Gradle\r\n\r\n\r\n  [1]: https://github.com/gradle/gradle/issues/13788","title":"LoggerFactory is not a Logback LoggerContext but Logback is on the classpath","body":"<p>According to <a href=\"https://github.com/gradle/gradle/issues/13788\" rel=\"nofollow noreferrer\">this bug</a>, the bundled and undeletable Kotlin plugin (reminds me the forced inclusion of U2's album with iOS) includes <code>org.gradle.kotlin.kotlin-dsl</code>, which in turn pollutes the classpath with an incompatible logging library (even if disabled).</p>\n<p>I solved this by changing the runner from &quot;IntelliJ IDEA&quot; to &quot;Gradle&quot; in preferences:</p>\n<ul>\n<li>Build, Execution, Deployment\n<ul>\n<li>Build Tools\n<ul>\n<li>Gradle\n<ul>\n<li>Build an run using -&gt; Gradle</li>\n<li>Run tests using -&gt; Gradle</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":23027967,"reputation":531,"user_id":17147888,"display_name":"Praj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635348010,"creation_date":1635229734,"answer_id":69718362,"question_id":30792268,"body_markdown":"According to this [documentation][1], Spring Boot automatically configures the Log Back library because of the web starter. You should exclude the spring-boot-starter-logging to fix the issue.\r\n\r\nTo exclude the default LogBack configuration on the gradle project,\r\n\r\n    configurations {\r\n        all*.exclude module : &#39;spring-boot-starter-logging&#39;\r\n        all*.exclude module : &#39;logback-classic&#39;\r\n    }\r\n\r\n\r\n  [1]: https://tedblob.com/loggerfactory-is-not-a-logback-loggercontext-but-logback-is-on-the-classpath/","title":"LoggerFactory is not a Logback LoggerContext but Logback is on the classpath","body":"<p>According to this <a href=\"https://tedblob.com/loggerfactory-is-not-a-logback-loggercontext-but-logback-is-on-the-classpath/\" rel=\"nofollow noreferrer\">documentation</a>, Spring Boot automatically configures the Log Back library because of the web starter. You should exclude the spring-boot-starter-logging to fix the issue.</p>\n<p>To exclude the default LogBack configuration on the gradle project,</p>\n<pre><code>configurations {\n    all*.exclude module : 'spring-boot-starter-logging'\n    all*.exclude module : 'logback-classic'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2095815,"reputation":1095,"user_id":1864614,"display_name":"razvang"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1663333129,"creation_date":1663333129,"answer_id":73745202,"question_id":30792268,"body_markdown":"```\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n```\r\nFor me this was the fix, because OpenAPI Generator was bringing this and it conflicted with SpringsBoot Default.\r\nSo once I excluded this one, the SpringBootApp started working.","title":"LoggerFactory is not a Logback LoggerContext but Logback is on the classpath","body":"<pre><code>            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n</code></pre>\n<p>For me this was the fix, because OpenAPI Generator was bringing this and it conflicted with SpringsBoot Default.\nSo once I excluded this one, the SpringBootApp started working.</p>\n"},{"tags":[],"owner":{"account_id":83518,"reputation":6215,"user_id":234110,"accept_rate":67,"display_name":"Anand Rockzz"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1673037584,"creation_date":1673037584,"answer_id":75035890,"question_id":30792268,"body_markdown":"Started seeing this error after including `&#39;it.ozimov:embedded-redis:0.7.3&#39;` I had to change \r\n\r\n    testImplementation &#39;it.ozimov:embedded-redis:0.7.3&#39;\r\nto\r\n\r\n    testImplementation (&#39;it.ozimov:embedded-redis:0.7.3&#39;) {\r\n    \texclude module: &#39;commons-logging&#39;\r\n    \texclude module: &#39;slf4j-simple&#39;\r\n    }\r\n\r\nand the issue is resolved.","title":"LoggerFactory is not a Logback LoggerContext but Logback is on the classpath","body":"<p>Started seeing this error after including <code>'it.ozimov:embedded-redis:0.7.3'</code> I had to change</p>\n<pre><code>testImplementation 'it.ozimov:embedded-redis:0.7.3'\n</code></pre>\n<p>to</p>\n<pre><code>testImplementation ('it.ozimov:embedded-redis:0.7.3') {\n    exclude module: 'commons-logging'\n    exclude module: 'slf4j-simple'\n}\n</code></pre>\n<p>and the issue is resolved.</p>\n"},{"tags":[],"owner":{"account_id":19627231,"reputation":9,"user_id":20713814,"display_name":"Gabriel Sterz"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1674055770,"creation_date":1674055770,"answer_id":75161577,"question_id":30792268,"body_markdown":"It should be told that after trying to exclude every logback artifact I found which didn&#39;t work for me, I just deleted the maven-folder  (/.m2). After another \r\n\r\n    mvn clean install\r\n\r\neverything started fine and the error never appeared again. I by the way removed every Exclusion i did before. Still working","title":"LoggerFactory is not a Logback LoggerContext but Logback is on the classpath","body":"<p>It should be told that after trying to exclude every logback artifact I found which didn't work for me, I just deleted the maven-folder  (/.m2). After another</p>\n<pre><code>mvn clean install\n</code></pre>\n<p>everything started fine and the error never appeared again. I by the way removed every Exclusion i did before. Still working</p>\n"},{"tags":[],"owner":{"account_id":16419918,"reputation":2129,"user_id":11861378,"display_name":"Ad&#225;n Escobar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689725454,"creation_date":1689725454,"answer_id":76717208,"question_id":30792268,"body_markdown":"works for me:\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;!-- avoid: LoggerFactory is not a Logback LoggerContext but Logback is on the classpath. on run with vscode --&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;","title":"LoggerFactory is not a Logback LoggerContext but Logback is on the classpath","body":"<p>works for me:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;!-- avoid: LoggerFactory is not a Logback LoggerContext but Logback is on the classpath. on run with vscode --&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n                &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2264978,"reputation":3734,"user_id":1993937,"accept_rate":47,"display_name":"TheJeff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691502020,"creation_date":1691502020,"answer_id":76860136,"question_id":30792268,"body_markdown":"Per @Bohemian &#39;s post:\r\n\r\nRemoving this fixed it for me:\r\n\r\n    plugins {\r\n        `kotlin-dsl`\r\n    }\r\n\r\n[Bug reference][1] from @Bohemian\r\n\r\nThis plugin is recommended to be added to gradle files for the kotlin dsl, but I found that it really isn&#39;t needed... syntax highlighting still worked for me afterwards and I didn&#39;t see any issues after removing it. In fact it removed the issue mentioned in this thread to remove it.\r\n\r\n\r\n  [1]: https://github.com/gradle/gradle/issues/13788","title":"LoggerFactory is not a Logback LoggerContext but Logback is on the classpath","body":"<p>Per @Bohemian 's post:</p>\n<p>Removing this fixed it for me:</p>\n<pre><code>plugins {\n    `kotlin-dsl`\n}\n</code></pre>\n<p><a href=\"https://github.com/gradle/gradle/issues/13788\" rel=\"nofollow noreferrer\">Bug reference</a> from @Bohemian</p>\n<p>This plugin is recommended to be added to gradle files for the kotlin dsl, but I found that it really isn't needed... syntax highlighting still worked for me afterwards and I didn't see any issues after removing it. In fact it removed the issue mentioned in this thread to remove it.</p>\n"}],"owner":{"account_id":6455518,"reputation":1237,"user_id":5001083,"accept_rate":88,"display_name":"newbie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192938,"favorite_count":0,"down_vote_count":0,"up_vote_count":66,"accepted_answer_id":30805797,"answer_count":12,"score":66,"last_activity_date":1691502020,"creation_date":1434060380,"question_id":30792268,"body_markdown":"I think some module in spring-boot-starter-security is conflict with log4j, but I don&#39;t know which one.\r\n\r\nmy gradle dependence is as following:\r\n\t\r\n\tcompile(&quot;org.springframework.boot:spring-boot-starter-thymeleaf&quot;)\r\n\tcompile(&quot;org.springframework.boot:spring-boot-starter-security&quot;){\r\n\t\texclude module: &quot;spring-boot-starter-logging&quot;\r\n\t}\r\n\t\r\n\tcompile &quot;org.apache.logging.log4j:log4j-api&quot;\r\n\tcompile &quot;org.apache.logging.log4j:log4j-core&quot;\r\n\tcompile &quot;org.apache.logging.log4j:log4j-slf4j-impl&quot;\r\n\tcompile(&#39;org.apache.poi:poi:3.10.1&#39;)\r\n\tcompile(&#39;org.apache.poi:poi-ooxml:3.10.1&#39;)\r\n    testCompile(&quot;junit:junit&quot;)","title":"LoggerFactory is not a Logback LoggerContext but Logback is on the classpath","body":"<p>I think some module in spring-boot-starter-security is conflict with log4j, but I don't know which one.</p>\n\n<p>my gradle dependence is as following:</p>\n\n<pre><code>compile(\"org.springframework.boot:spring-boot-starter-thymeleaf\")\ncompile(\"org.springframework.boot:spring-boot-starter-security\"){\n    exclude module: \"spring-boot-starter-logging\"\n}\n\ncompile \"org.apache.logging.log4j:log4j-api\"\ncompile \"org.apache.logging.log4j:log4j-core\"\ncompile \"org.apache.logging.log4j:log4j-slf4j-impl\"\ncompile('org.apache.poi:poi:3.10.1')\ncompile('org.apache.poi:poi-ooxml:3.10.1')\ntestCompile(\"junit:junit\")\n</code></pre>\n"},{"tags":["java","eclipse","gwt","groovy"],"answers":[{"tags":[],"owner":{"account_id":272677,"reputation":14398,"user_id":563890,"display_name":"Will"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1419877224,"creation_date":1419867215,"answer_id":27691694,"question_id":27691363,"body_markdown":"[The GWT compiler is really a Java source to JavaScript source translator](http://css.dzone.com/news/understanding-gwt-compiler); it is a specific compiler which consumes Java files (article is 2008, but this main concept probably didn&#39;t changed). A [GWT Groovy-to-JS](https://groups.google.com/forum/#!topic/google-web-toolkit/Suw1DU8exU4) would be needed.\r\n\r\nYou can try using [Grooscript](http://grooscript.org/), which [transcompiles](http://en.wikipedia.org/wiki/Source-to-source_compiler) Groovy to Javascript.\r\n\r\nA Groovy-to-Java transcompiler [seems out of hand](http://groovy.329449.n5.nabble.com/Compile-groovy-to-Java-td367403.html) (thread is 2009, but it&#39;s concepts haven&#39;t changed).\r\n\r\nAlso noteworthy: https://stackoverflow.com/questions/2674964/groovy-and-gwt-combining-both-paradigms","title":"Converting Groovy project to Java project for GWT","body":"<p><a href=\"http://css.dzone.com/news/understanding-gwt-compiler\" rel=\"nofollow noreferrer\">The GWT compiler is really a Java source to JavaScript source translator</a>; it is a specific compiler which consumes Java files (article is 2008, but this main concept probably didn't changed). A <a href=\"https://groups.google.com/forum/#!topic/google-web-toolkit/Suw1DU8exU4\" rel=\"nofollow noreferrer\">GWT Groovy-to-JS</a> would be needed.</p>\n\n<p>You can try using <a href=\"http://grooscript.org/\" rel=\"nofollow noreferrer\">Grooscript</a>, which <a href=\"http://en.wikipedia.org/wiki/Source-to-source_compiler\" rel=\"nofollow noreferrer\">transcompiles</a> Groovy to Javascript.</p>\n\n<p>A Groovy-to-Java transcompiler <a href=\"http://groovy.329449.n5.nabble.com/Compile-groovy-to-Java-td367403.html\" rel=\"nofollow noreferrer\">seems out of hand</a> (thread is 2009, but it's concepts haven't changed).</p>\n\n<p>Also noteworthy: <a href=\"https://stackoverflow.com/questions/2674964/groovy-and-gwt-combining-both-paradigms\">Groovy and GWT: Combining both paradigms</a></p>\n"},{"tags":[],"owner":{"account_id":9850929,"reputation":106,"user_id":7297039,"display_name":"dauer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691501826,"creation_date":1691501826,"answer_id":76860101,"question_id":27691363,"body_markdown":"A bit late to the party...\r\n\r\nYou can use [TeaVM][1] it compiles Java bytecode (.class) to JavaScript - that means it does not matter if it is compiled from Java, Kotlin, Scala or Groovy.\r\n\r\nThere is a challenge though, since TeaVM does not support reflection (which dynamic Groovy uses) you have to annotate the code with `@CompileStatic`\r\n\r\n\r\n  [1]: https://teavm.org/","title":"Converting Groovy project to Java project for GWT","body":"<p>A bit late to the party...</p>\n<p>You can use <a href=\"https://teavm.org/\" rel=\"nofollow noreferrer\">TeaVM</a> it compiles Java bytecode (.class) to JavaScript - that means it does not matter if it is compiled from Java, Kotlin, Scala or Groovy.</p>\n<p>There is a challenge though, since TeaVM does not support reflection (which dynamic Groovy uses) you have to annotate the code with <code>@CompileStatic</code></p>\n"}],"owner":{"account_id":1183493,"reputation":169,"user_id":1157899,"accept_rate":62,"display_name":"freax"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":610,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":27691694,"answer_count":2,"score":-1,"last_activity_date":1691501826,"creation_date":1419865966,"question_id":27691363,"body_markdown":"This question might sound similar to the one over [here][1]. My case is given below.\r\n\r\n 1. I have written a project in groovy but now I want to use it as javascript in browser applications (web based GUIs). Went through Google Web Toolkit, and learned that it needs strongly typed Java code. Please let me know if I&#39;m wrong about GWT.\r\n 2. Assuming that I want to stick with GWT, is there any way to convert a groovy project to java project? Else, would it be possible to have the javascript version of my groovy project using GWT or any other framework?\r\n\r\nThanks.\r\n\r\n  [1]: https://stackoverflow.com/questions/5302103/is-there-a-way-to-convert-groovy-to-java-automatically","title":"Converting Groovy project to Java project for GWT","body":"<p>This question might sound similar to the one over <a href=\"https://stackoverflow.com/questions/5302103/is-there-a-way-to-convert-groovy-to-java-automatically\">here</a>. My case is given below.</p>\n\n<ol>\n<li>I have written a project in groovy but now I want to use it as javascript in browser applications (web based GUIs). Went through Google Web Toolkit, and learned that it needs strongly typed Java code. Please let me know if I'm wrong about GWT.</li>\n<li>Assuming that I want to stick with GWT, is there any way to convert a groovy project to java project? Else, would it be possible to have the javascript version of my groovy project using GWT or any other framework?</li>\n</ol>\n\n<p>Thanks.</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":5468895,"reputation":974,"user_id":4348811,"accept_rate":100,"display_name":"Gaurava Agarwal"},"score":1,"creation_date":1468825121,"post_id":38430262,"comment_id":64266748,"body_markdown":"You can put your code on code review for better outcome. http://codereview.stackexchange.com/","body":"You can put your code on code review for better outcome. <a href=\"http://codereview.stackexchange.com/\">codereview.stackexchange.com</a>"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1468825132,"post_id":38430262,"comment_id":64266758,"body_markdown":"Yes, you can reduce it to `O(n log n)`.","body":"Yes, you can reduce it to <code>O(n log n)</code>."},{"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"score":1,"creation_date":1468825235,"post_id":38430262,"comment_id":64266816,"body_markdown":"Add all your chars of string1 to a set (`O(n)`). Next, for each char in string-2, use `contains()` on set-1 and set it to &#39;x&#39; if it that char is there (`O(n)`)","body":"Add all your chars of string1 to a set (<code>O(n)</code>). Next, for each char in string-2, use <code>contains()</code> on set-1 and set it to &#39;x&#39; if it that char is there (<code>O(n)</code>)"}],"answers":[{"tags":[],"owner":{"account_id":5468895,"reputation":974,"user_id":4348811,"accept_rate":100,"display_name":"Gaurava Agarwal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1468825395,"creation_date":1468825395,"answer_id":38430431,"question_id":38430262,"body_markdown":"You can choose to convert second string to HashSet (if there are no duplicate letters in second string). Then check existence of each letter from first string in hashmap and remove if found. \r\n\r\nO(N) complexity for traversing the String array and complexity of put/get in HashSet is almost O(1).","title":"Remove characters from the second string which are present in the first string","body":"<p>You can choose to convert second string to HashSet (if there are no duplicate letters in second string). Then check existence of each letter from first string in hashmap and remove if found. </p>\n\n<p>O(N) complexity for traversing the String array and complexity of put/get in HashSet is almost O(1).</p>\n"},{"tags":[],"owner":{"account_id":4168927,"reputation":801,"user_id":3417226,"display_name":"Loki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1468825419,"creation_date":1468825419,"answer_id":38430437,"question_id":38430262,"body_markdown":"You can have a boolean array of size 26 if all the characters in the source string are small letters.\r\nThen scan the source string from start to end and update the boolean array if the character is present.\r\nThen scan the target string and check with the boolean array if its present in source array or not.\r\n\r\nThe complexity will be equal to sum of both strings&#39; length.","title":"Remove characters from the second string which are present in the first string","body":"<p>You can have a boolean array of size 26 if all the characters in the source string are small letters.\nThen scan the source string from start to end and update the boolean array if the character is present.\nThen scan the target string and check with the boolean array if its present in source array or not.</p>\n\n<p>The complexity will be equal to sum of both strings' length.</p>\n"},{"tags":[],"owner":{"account_id":8839373,"reputation":56,"user_id":6602297,"display_name":"Vikram Singh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1468827644,"creation_date":1468827644,"answer_id":38431097,"question_id":38430262,"body_markdown":"1. Convert first string into a Map. O(N)\r\n2. iterate over other string and check if character present in Map from step 1.\r\n O(N) + O(1)\r\n\r\nTotal time complexity = O(N)\r\n\r\nHere you have additional space complexity to store MAP. ","title":"Remove characters from the second string which are present in the first string","body":"<ol>\n<li>Convert first string into a Map. O(N)</li>\n<li>iterate over other string and check if character present in Map from step 1.\nO(N) + O(1)</li>\n</ol>\n\n<p>Total time complexity = O(N)</p>\n\n<p>Here you have additional space complexity to store MAP. </p>\n"},{"tags":[],"owner":{"account_id":18132178,"reputation":1,"user_id":13187151,"display_name":"Shubham Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585763551,"creation_date":1585759365,"answer_id":60975997,"question_id":38430262,"body_markdown":"Remove characters from input string that are present in mask string\r\n\r\n    public class RemoveCharacterFromFisrtStringWhichPInSecondString {\r\n    \r\n    \tpublic static void removeCharactersFromFirstString(String str1,String str2){\r\n    \t\tStringBuilder sb = new StringBuilder(str1.toLowerCase());\r\n    \t\tchar maskArray[] = populateMaskArray(str2);\r\n    \t\tfor(int i=0;i&lt;str1.length();i++){\r\n    \t\t\tchar ch = str1.toLowerCase().charAt(i);\r\n    \t\t\tint index = sb.toString().indexOf(ch);\r\n    \t\t\tif(maskArray[ch] == ch) {\r\n    \t\t\t\tsb.deleteCharAt(index);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(sb.toString());\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Time Complexity: O(m) Where m is the length of mask string.\r\n    \t */\r\n    \tstatic char[] populateMaskArray(String mask) {\r\n    \t\tchar[] array = new char[256];\r\n    \t\tfor(int i = 0; i &lt; mask.length(); i++) {\r\n    \t\t\tarray[mask.charAt(i)] = mask.charAt(i);\r\n    \t\t}\r\n    \t\treturn array;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tString str1 = &quot;India is country&quot;;\r\n    \t\tString str2 = &quot;in&quot;;\r\n    \t\tremoveCharactersFromFirstString(str1,str2);\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Remove characters from the second string which are present in the first string","body":"<p>Remove characters from input string that are present in mask string</p>\n\n<pre><code>public class RemoveCharacterFromFisrtStringWhichPInSecondString {\n\n    public static void removeCharactersFromFirstString(String str1,String str2){\n        StringBuilder sb = new StringBuilder(str1.toLowerCase());\n        char maskArray[] = populateMaskArray(str2);\n        for(int i=0;i&lt;str1.length();i++){\n            char ch = str1.toLowerCase().charAt(i);\n            int index = sb.toString().indexOf(ch);\n            if(maskArray[ch] == ch) {\n                sb.deleteCharAt(index);\n            }\n        }\n        System.out.println(sb.toString());\n    }\n\n    /**\n     * Time Complexity: O(m) Where m is the length of mask string.\n     */\n    static char[] populateMaskArray(String mask) {\n        char[] array = new char[256];\n        for(int i = 0; i &lt; mask.length(); i++) {\n            array[mask.charAt(i)] = mask.charAt(i);\n        }\n        return array;\n    }\n\n    public static void main(String[] args) {\n        String str1 = \"India is country\";\n        String str2 = \"in\";\n        removeCharactersFromFirstString(str1,str2);\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19665581,"reputation":1,"user_id":14396106,"display_name":"Sandeep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601919817,"creation_date":1601919330,"answer_id":64213553,"question_id":38430262,"body_markdown":"    public class Test{  \r\n        public static void main(String[] args) {\r\n            Scanner sc = new Scanner(System.in);\r\n            String str,sbstr;\r\n            \r\n            System.out.println(&quot;Enter the first String : &quot;);\r\n            str = sc.nextLine();\r\n            \r\n            System.out.println(&quot;Enter the second String : &quot;);\r\n            sbstr = sc.nextLine();\r\n            \r\n            char [] c1str = str.toCharArray();\r\n            char [] c2sbstr = sbstr.toCharArray();\r\n           \r\n            \r\n                for(int j=0;j&lt;c2sbstr.length;j++) {\r\n                    for(int i=0;i&lt;c1str.length;i++) {\r\n    \r\n                    if(c1str[i] == c2sbstr[j]) {\r\n                        c1str[i] = 0;\r\n                    }    \r\n                }\r\n            }\r\n\r\n            System.out.println(&quot;After removing the characters of second string from first string :&quot;);\r\n\r\n            for(int i=0;i&lt;c1str.length;i++) {\r\n                System.out.print(c1str[i]); \r\n            }  \r\n        }\r\n    }","title":"Remove characters from the second string which are present in the first string","body":"<pre><code>public class Test{  \n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        String str,sbstr;\n        \n        System.out.println(&quot;Enter the first String : &quot;);\n        str = sc.nextLine();\n        \n        System.out.println(&quot;Enter the second String : &quot;);\n        sbstr = sc.nextLine();\n        \n        char [] c1str = str.toCharArray();\n        char [] c2sbstr = sbstr.toCharArray();\n       \n        \n            for(int j=0;j&lt;c2sbstr.length;j++) {\n                for(int i=0;i&lt;c1str.length;i++) {\n\n                if(c1str[i] == c2sbstr[j]) {\n                    c1str[i] = 0;\n                }    \n            }\n        }\n\n        System.out.println(&quot;After removing the characters of second string from first string :&quot;);\n\n        for(int i=0;i&lt;c1str.length;i++) {\n            System.out.print(c1str[i]); \n        }  \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20571582,"reputation":1,"user_id":15099798,"display_name":"Abhishek_sherekar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1611845935,"creation_date":1611845935,"answer_id":65939683,"question_id":38430262,"body_markdown":"\t public static String removeCharAt(String s, int pos) {\r\n\t      return s.substring(0, pos) + s.substring(pos + 1);\r\n\t   }\r\n\t public static void main(String[] args) {\r\n\t\t\tString s1 = &quot;India is great &quot;;\r\n\t\t\ts1 = s1.toLowerCase();\r\n\t\t\tString s2=&quot;in&quot;;\r\n\t\t\t\r\n\t\t\tfor (int i = 0; i &lt; s1.length(); i++) {\r\n\t\t\t\tfor (int j = 0; j &lt; s2.length(); j++) {\r\n\t\t\t\t\tif(s2.charAt(j) == s1.charAt(i)) {\r\n\t\t\t\t\t\ts1 = removeCharAt(s1, i);\r\n\t\t\t\t}\r\n\t\t\t}\t\t\t\t\r\n\t\t}\r\n\t\t\tSystem.out.println(s1);\r\n\t\t\t\r\n\t}","title":"Remove characters from the second string which are present in the first string","body":"<pre><code> public static String removeCharAt(String s, int pos) {\n      return s.substring(0, pos) + s.substring(pos + 1);\n   }\n public static void main(String[] args) {\n        String s1 = &quot;India is great &quot;;\n        s1 = s1.toLowerCase();\n        String s2=&quot;in&quot;;\n        \n        for (int i = 0; i &lt; s1.length(); i++) {\n            for (int j = 0; j &lt; s2.length(); j++) {\n                if(s2.charAt(j) == s1.charAt(i)) {\n                    s1 = removeCharAt(s1, i);\n            }\n        }               \n    }\n        System.out.println(s1);\n        \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7051929,"reputation":1622,"user_id":5676822,"display_name":"Geeta Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691501767,"creation_date":1691501767,"answer_id":76860094,"question_id":38430262,"body_markdown":"Another approach could be using forLoop.\r\n\r\n**Note: Below are Kotlin code**\r\n\r\n    val str1 = &quot;computer&quot;\r\n    val str2 = &quot;cat&quot;\r\n\r\n    var strBuilder = StringBuilder()\r\n\r\n    for (data in str1) {\r\n        if (!str2.contains(data)) {\r\n            strBuilder.append(data)\r\n        }\r\n    }\r\n    println(strBuilder)\r\n\r\n   **Output: ompuer**","title":"Remove characters from the second string which are present in the first string","body":"<p>Another approach could be using forLoop.</p>\n<p><strong>Note: Below are Kotlin code</strong></p>\n<pre><code>val str1 = &quot;computer&quot;\nval str2 = &quot;cat&quot;\n\nvar strBuilder = StringBuilder()\n\nfor (data in str1) {\n    if (!str2.contains(data)) {\n        strBuilder.append(data)\n    }\n}\nprintln(strBuilder)\n</code></pre>\n<p><strong>Output: ompuer</strong></p>\n"}],"owner":{"account_id":1282323,"reputation":4466,"user_id":1236153,"accept_rate":86,"display_name":"underdog"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12731,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":38431097,"answer_count":7,"score":1,"last_activity_date":1691501767,"creation_date":1468824842,"question_id":38430262,"body_markdown":"I have written a program to remove the characters from the second string which are present in the first string. The complexity comes out to be BigO(n^2). Can the complexity be further reduced?\r\n\r\n    public class Tmp {\r\n    \r\n        public static void main(String[] args) {\r\n            String s = &quot;halloween&quot;;\r\n            String s1 = &quot;halcyon&quot;;\r\n            char[] ss = s.toCharArray();\r\n            char[] ss1 = s1.toCharArray();\r\n    \r\n            for(int i=0;i&lt;ss.length;i++){\r\n              for(int j=0;j&lt;ss1.length;j++){\r\n                    if(ss1[j] == ss[i]){\r\n                        ss1[j] = &#39;x&#39;; //Replace the common char with x\r\n                    }\r\n                }\r\n             }\r\n            System.out.println(Arrays.toString(ss1));\r\n        }\r\n    }\r\n\r\nOUTPUT\r\n\r\n     [x, x, x, c, y, x, x]","title":"Remove characters from the second string which are present in the first string","body":"<p>I have written a program to remove the characters from the second string which are present in the first string. The complexity comes out to be BigO(n^2). Can the complexity be further reduced?</p>\n\n<pre><code>public class Tmp {\n\n    public static void main(String[] args) {\n        String s = \"halloween\";\n        String s1 = \"halcyon\";\n        char[] ss = s.toCharArray();\n        char[] ss1 = s1.toCharArray();\n\n        for(int i=0;i&lt;ss.length;i++){\n          for(int j=0;j&lt;ss1.length;j++){\n                if(ss1[j] == ss[i]){\n                    ss1[j] = 'x'; //Replace the common char with x\n                }\n            }\n         }\n        System.out.println(Arrays.toString(ss1));\n    }\n}\n</code></pre>\n\n<p>OUTPUT</p>\n\n<pre><code> [x, x, x, c, y, x, x]\n</code></pre>\n"},{"tags":["java","swing","look-and-feel","uimanager","jcolorchooser"],"answers":[{"tags":[],"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1691501701,"creation_date":1691500828,"answer_id":76859975,"question_id":76859580,"body_markdown":"The key for the color code field label is not `ColorChooser.rgbColorCodeText` but `ColorChooser.rgbHexCodeText`.\r\n\r\nSee the [ColorChooserPanel.buildChooser](https://github.com/openjdk/jdk17/blob/4afbcaf55383ec2f5da53282a1547bac3d099e9d/src/java.desktop/share/classes/javax/swing/colorchooser/ColorChooserPanel.java#L135) and [ColorModel.getText](https://github.com/openjdk/jdk17/blob/4afbcaf55383ec2f5da53282a1547bac3d099e9d/src/java.desktop/share/classes/javax/swing/colorchooser/ColorModel.java#L84) source code.","title":"JColorChooser RGB Tab with custom text","body":"<p>The key for the color code field label is not <code>ColorChooser.rgbColorCodeText</code> but <code>ColorChooser.rgbHexCodeText</code>.</p>\n<p>See the <a href=\"https://github.com/openjdk/jdk17/blob/4afbcaf55383ec2f5da53282a1547bac3d099e9d/src/java.desktop/share/classes/javax/swing/colorchooser/ColorChooserPanel.java#L135\" rel=\"nofollow noreferrer\">ColorChooserPanel.buildChooser</a> and <a href=\"https://github.com/openjdk/jdk17/blob/4afbcaf55383ec2f5da53282a1547bac3d099e9d/src/java.desktop/share/classes/javax/swing/colorchooser/ColorModel.java#L84\" rel=\"nofollow noreferrer\">ColorModel.getText</a> source code.</p>\n"}],"owner":{"account_id":13163776,"reputation":35,"user_id":9508695,"display_name":"Ece &#199;anga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76859975,"answer_count":1,"score":1,"last_activity_date":1691501701,"creation_date":1691497799,"question_id":76859580,"body_markdown":"I am customizing JColorChooser by modifying the UIManager&#39;s defaults for the JColorChooser tabs. I have successfully customized the labels and texts except the **Color Code** one.\r\n\r\n[![Color Code in JColorChooser&#39;s RGB tab][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/htJ1j.png\r\n\r\nI used the following code to modify the contents of the RGB tab.\r\n\r\n    UIManager.put(&quot;ColorChooser.rgbRedText&quot;, &quot;Custom Red:&quot;);\r\n    UIManager.put(&quot;ColorChooser.rgbGreenText&quot;, &quot;Custom Green:&quot;);\r\n    UIManager.put(&quot;ColorChooser.rgbBlueText&quot;, &quot;Custom Blue:&quot;);\r\n    UIManager.put(&quot;ColorChooser.rgbAlphaText&quot;, &quot;Custom Alpha:&quot;);\r\n\r\nHowever, when I try the same thing for **Color Code** it doesn&#39;t work:\r\n\r\n    UIManager.put(&quot;ColorChooser.rgbColorCodeText&quot;, &quot;Custom Color Code:&quot;);\r\n\r\nHow can I access UIManager to customize it?","title":"JColorChooser RGB Tab with custom text","body":"<p>I am customizing JColorChooser by modifying the UIManager's defaults for the JColorChooser tabs. I have successfully customized the labels and texts except the <strong>Color Code</strong> one.</p>\n<p><a href=\"https://i.stack.imgur.com/htJ1j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/htJ1j.png\" alt=\"Color Code in JColorChooser's RGB tab\" /></a></p>\n<p>I used the following code to modify the contents of the RGB tab.</p>\n<pre><code>UIManager.put(&quot;ColorChooser.rgbRedText&quot;, &quot;Custom Red:&quot;);\nUIManager.put(&quot;ColorChooser.rgbGreenText&quot;, &quot;Custom Green:&quot;);\nUIManager.put(&quot;ColorChooser.rgbBlueText&quot;, &quot;Custom Blue:&quot;);\nUIManager.put(&quot;ColorChooser.rgbAlphaText&quot;, &quot;Custom Alpha:&quot;);\n</code></pre>\n<p>However, when I try the same thing for <strong>Color Code</strong> it doesn't work:</p>\n<pre><code>UIManager.put(&quot;ColorChooser.rgbColorCodeText&quot;, &quot;Custom Color Code:&quot;);\n</code></pre>\n<p>How can I access UIManager to customize it?</p>\n"},{"tags":["java","spring-boot","error-handling","controller","spring-cloud-gateway"],"owner":{"account_id":25192367,"reputation":55,"user_id":19032411,"display_name":"stakeika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691501579,"creation_date":1691501579,"question_id":76860069,"body_markdown":"I have an application with multiple modules. Some are not reactive, and `api-gateway` is reactive (because of Spring Cloud implementation). Security and some header filters are on the `api-gateway` side.\r\n\r\nI have a module `search-services`, it provides an endpoint `/search/{id}/info` with path variable `id`.\r\n\r\n**The problem is:** `/search//info` returns *standard 404 response body*, while I expect it to be *custom 400 body*.\r\n\r\nException handling in `api-gateway`:\r\n\r\n    @ControllerAdvice\r\n    @RequiredArgsConstructor\r\n    @Order(Ordered.HIGHEST_PRECEDENCE)\r\n    public class GlobalExceptionHandler extends ResponseEntityExceptionHandler {\r\n    // omitted some methods which are surely not related to this issue\r\n    \r\n        // 500\r\n        @Override\r\n        protected Mono&lt;ResponseEntity&lt;Object&gt;&gt; handleServerErrorException(ServerErrorException exception, HttpHeaders headers, HttpStatusCode status, ServerWebExchange exchange) {\r\n            return processException(\r\n                    exception, MsgErrorCode.SYSTEM_ERROR,\r\n                    HttpStatus.INTERNAL_SERVER_ERROR, exchange\r\n            );\r\n        }\r\n    \r\n        // validation by annotations, param types\r\n        @Override\r\n        protected Mono&lt;ResponseEntity&lt;Object&gt;&gt; handleWebExchangeBindException(WebExchangeBindException exception, HttpHeaders headers, HttpStatusCode status, ServerWebExchange exchange) {\r\n            return processException(\r\n                    exception, MsgErrorCode.BAD_REQUEST_ERROR,\r\n                    HttpStatus.BAD_REQUEST, exchange\r\n            );\r\n        }\r\n    \r\n        // missing required request param\r\n        @Override\r\n        protected Mono&lt;ResponseEntity&lt;Object&gt;&gt; handleMissingRequestValueException(MissingRequestValueException exception, HttpHeaders headers, HttpStatusCode status, ServerWebExchange exchange) {\r\n            return processException(\r\n                    exception, MsgErrorCode.BAD_REQUEST_ERROR,\r\n                    HttpStatus.BAD_REQUEST, exchange\r\n            );\r\n        }\r\n    \r\n        // missing required headers like Content-Length\r\n        @Override\r\n        protected Mono&lt;ResponseEntity&lt;Object&gt;&gt; handleServerWebInputException(ServerWebInputException exception, HttpHeaders headers, HttpStatusCode status, ServerWebExchange exchange) {\r\n            return processException(\r\n                    exception, MsgErrorCode.BAD_REQUEST_ERROR,\r\n                    HttpStatus.BAD_REQUEST, exchange\r\n            );\r\n        }\r\n    \r\n        @ExceptionHandler(DataNotFoundException.class)\r\n        private Mono&lt;ResponseEntity&lt;Object&gt;&gt; handleDataNotFound(ServerWebExchange exchange, DataNotFoundException exception) {\r\n            return processException(exception, MsgErrorCode.DATA_NOT_FOUND, HttpStatus.NOT_FOUND, exchange);\r\n        }\r\n    \r\n        private Mono&lt;ResponseEntity&lt;Object&gt;&gt; processException(\r\n                Throwable exception, MsgErrorCode errorType, HttpStatus httpStatus, ServerWebExchange exchange\r\n        ) {\r\n            Mono&lt;ErrorResponse&gt; errorResponse = ... // logic of creating a custom response body\r\n    \r\n            return errorResponse.map(body -&gt;\r\n                    ResponseEntity.status(httpStatus)\r\n                            .contentType(MediaType.APPLICATION_JSON)\r\n                            .body(body)\r\n            );\r\n        }\r\n    }\r\n\r\nFor exceptions which reactive GlobalExceptionHandler cannot handle:\r\n\r\n    @Slf4j\r\n    @Component\r\n    @Order(Ordered.HIGHEST_PRECEDENCE + 1)\r\n    public class ReactiveExceptionHandler extends AbstractErrorWebExceptionHandler {\r\n        @Override\r\n        protected RouterFunction&lt;ServerResponse&gt; getRoutingFunction(ErrorAttributes errorAttributes) {\r\n            return RouterFunctions.route(RequestPredicates.all(), this::renderErrorResponse);\r\n        }\r\n    \r\n        protected Mono&lt;ServerResponse&gt; renderErrorResponse(ServerRequest request) {\r\n            // some logic to create a response\r\n        }\r\n    }\r\n\r\nHandler for non-reactive mvc services like `search-services`:\r\n\r\n    @RestControllerAdvice\r\n    @RequiredArgsConstructor\r\n    public class GlobalExceptionHandler extends ResponseEntityExceptionHandler {\r\n    // this helps with &quot;/search/   /info&quot;, but doesn&#39;t handle the case &quot;/search//info&quot;\r\n        @Override\r\n        protected ResponseEntity&lt;Object&gt; handleMissingPathVariable(MissingPathVariableException exception, HttpHeaders headers, HttpStatusCode status, WebRequest request) {\r\n            return processException(exception, MsgErrorCode.BAD_REQUEST_ERROR, HttpStatus.BAD_REQUEST, request);\r\n        }\r\n\r\n    // omitted some methods which are surely not related to this issue\r\n\r\n        @Override\r\n        protected ResponseEntity&lt;Object&gt; handleMissingServletRequestParameter(MissingServletRequestParameterException exception, HttpHeaders headers, HttpStatusCode status, WebRequest request) {\r\n            return processException(exception, MsgErrorCode.BAD_REQUEST_ERROR, HttpStatus.BAD_REQUEST, request);\r\n        }\r\n    \r\n        @ExceptionHandler({Throwable.class, SystemException.class})\r\n        private ResponseEntity&lt;Object&gt; handleThrowable(WebRequest request, Throwable throwable) {\r\n            return processException(throwable, MsgErrorCode.SYSTEM_ERROR, HttpStatus.INTERNAL_SERVER_ERROR, request);\r\n        }\r\n    \r\n        private ResponseEntity&lt;Object&gt; processException(\r\n                Throwable exception, MsgErrorCode errorType, HttpStatus httpStatus, WebRequest webRequest\r\n        ) {\r\n            // custom response body is identical as in api-gateway\r\n        }\r\n    }\r\n\r\nI debugged non-reactive `ResponseEntityExceptionHandler` (which I inherit from), it doesn&#39;t intercept the exception and I don&#39;t know the type of exception. I cannot debug interaction of `api-gateway` and `search-services`. Because I debug locally without Kubernetes.","title":"How to handle 404 missing PathVariable error in Spring Cloud Gateway","body":"<p>I have an application with multiple modules. Some are not reactive, and <code>api-gateway</code> is reactive (because of Spring Cloud implementation). Security and some header filters are on the <code>api-gateway</code> side.</p>\n<p>I have a module <code>search-services</code>, it provides an endpoint <code>/search/{id}/info</code> with path variable <code>id</code>.</p>\n<p><strong>The problem is:</strong> <code>/search//info</code> returns <em>standard 404 response body</em>, while I expect it to be <em>custom 400 body</em>.</p>\n<p>Exception handling in <code>api-gateway</code>:</p>\n<pre><code>@ControllerAdvice\n@RequiredArgsConstructor\n@Order(Ordered.HIGHEST_PRECEDENCE)\npublic class GlobalExceptionHandler extends ResponseEntityExceptionHandler {\n// omitted some methods which are surely not related to this issue\n\n    // 500\n    @Override\n    protected Mono&lt;ResponseEntity&lt;Object&gt;&gt; handleServerErrorException(ServerErrorException exception, HttpHeaders headers, HttpStatusCode status, ServerWebExchange exchange) {\n        return processException(\n                exception, MsgErrorCode.SYSTEM_ERROR,\n                HttpStatus.INTERNAL_SERVER_ERROR, exchange\n        );\n    }\n\n    // validation by annotations, param types\n    @Override\n    protected Mono&lt;ResponseEntity&lt;Object&gt;&gt; handleWebExchangeBindException(WebExchangeBindException exception, HttpHeaders headers, HttpStatusCode status, ServerWebExchange exchange) {\n        return processException(\n                exception, MsgErrorCode.BAD_REQUEST_ERROR,\n                HttpStatus.BAD_REQUEST, exchange\n        );\n    }\n\n    // missing required request param\n    @Override\n    protected Mono&lt;ResponseEntity&lt;Object&gt;&gt; handleMissingRequestValueException(MissingRequestValueException exception, HttpHeaders headers, HttpStatusCode status, ServerWebExchange exchange) {\n        return processException(\n                exception, MsgErrorCode.BAD_REQUEST_ERROR,\n                HttpStatus.BAD_REQUEST, exchange\n        );\n    }\n\n    // missing required headers like Content-Length\n    @Override\n    protected Mono&lt;ResponseEntity&lt;Object&gt;&gt; handleServerWebInputException(ServerWebInputException exception, HttpHeaders headers, HttpStatusCode status, ServerWebExchange exchange) {\n        return processException(\n                exception, MsgErrorCode.BAD_REQUEST_ERROR,\n                HttpStatus.BAD_REQUEST, exchange\n        );\n    }\n\n    @ExceptionHandler(DataNotFoundException.class)\n    private Mono&lt;ResponseEntity&lt;Object&gt;&gt; handleDataNotFound(ServerWebExchange exchange, DataNotFoundException exception) {\n        return processException(exception, MsgErrorCode.DATA_NOT_FOUND, HttpStatus.NOT_FOUND, exchange);\n    }\n\n    private Mono&lt;ResponseEntity&lt;Object&gt;&gt; processException(\n            Throwable exception, MsgErrorCode errorType, HttpStatus httpStatus, ServerWebExchange exchange\n    ) {\n        Mono&lt;ErrorResponse&gt; errorResponse = ... // logic of creating a custom response body\n\n        return errorResponse.map(body -&gt;\n                ResponseEntity.status(httpStatus)\n                        .contentType(MediaType.APPLICATION_JSON)\n                        .body(body)\n        );\n    }\n}\n</code></pre>\n<p>For exceptions which reactive GlobalExceptionHandler cannot handle:</p>\n<pre><code>@Slf4j\n@Component\n@Order(Ordered.HIGHEST_PRECEDENCE + 1)\npublic class ReactiveExceptionHandler extends AbstractErrorWebExceptionHandler {\n    @Override\n    protected RouterFunction&lt;ServerResponse&gt; getRoutingFunction(ErrorAttributes errorAttributes) {\n        return RouterFunctions.route(RequestPredicates.all(), this::renderErrorResponse);\n    }\n\n    protected Mono&lt;ServerResponse&gt; renderErrorResponse(ServerRequest request) {\n        // some logic to create a response\n    }\n}\n</code></pre>\n<p>Handler for non-reactive mvc services like <code>search-services</code>:</p>\n<pre><code>@RestControllerAdvice\n@RequiredArgsConstructor\npublic class GlobalExceptionHandler extends ResponseEntityExceptionHandler {\n// this helps with &quot;/search/   /info&quot;, but doesn't handle the case &quot;/search//info&quot;\n    @Override\n    protected ResponseEntity&lt;Object&gt; handleMissingPathVariable(MissingPathVariableException exception, HttpHeaders headers, HttpStatusCode status, WebRequest request) {\n        return processException(exception, MsgErrorCode.BAD_REQUEST_ERROR, HttpStatus.BAD_REQUEST, request);\n    }\n\n// omitted some methods which are surely not related to this issue\n\n    @Override\n    protected ResponseEntity&lt;Object&gt; handleMissingServletRequestParameter(MissingServletRequestParameterException exception, HttpHeaders headers, HttpStatusCode status, WebRequest request) {\n        return processException(exception, MsgErrorCode.BAD_REQUEST_ERROR, HttpStatus.BAD_REQUEST, request);\n    }\n\n    @ExceptionHandler({Throwable.class, SystemException.class})\n    private ResponseEntity&lt;Object&gt; handleThrowable(WebRequest request, Throwable throwable) {\n        return processException(throwable, MsgErrorCode.SYSTEM_ERROR, HttpStatus.INTERNAL_SERVER_ERROR, request);\n    }\n\n    private ResponseEntity&lt;Object&gt; processException(\n            Throwable exception, MsgErrorCode errorType, HttpStatus httpStatus, WebRequest webRequest\n    ) {\n        // custom response body is identical as in api-gateway\n    }\n}\n</code></pre>\n<p>I debugged non-reactive <code>ResponseEntityExceptionHandler</code> (which I inherit from), it doesn't intercept the exception and I don't know the type of exception. I cannot debug interaction of <code>api-gateway</code> and <code>search-services</code>. Because I debug locally without Kubernetes.</p>\n"},{"tags":["java","android","amazon-web-services","aws-amplify","amplify-auth-cognito"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1691501758,"post_id":76860066,"comment_id":135498129,"body_markdown":"Perhaps the token simply expired? Update your logic so that a new token is obtained if that happens.","body":"Perhaps the token simply expired? Update your logic so that a new token is obtained if that happens."},{"owner":{"account_id":12235231,"reputation":79,"user_id":8929879,"display_name":"k1r4n"},"score":0,"creation_date":1691503732,"post_id":76860066,"comment_id":135498612,"body_markdown":"How do I do this? I have been searching everywhere in Amplify Auth AWS documentation but I can&#39;t find an example","body":"How do I do this? I have been searching everywhere in Amplify Auth AWS documentation but I can&#39;t find an example"}],"owner":{"account_id":12235231,"reputation":79,"user_id":8929879,"display_name":"k1r4n"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691501557,"creation_date":1691501557,"question_id":76860066,"body_markdown":"I am using Amplify Auth to sign in a user in my Java android application.\r\n\r\nAfter a couple of times of starting the android emulator, Amplify Auth signs out the user. Upon trying to login again, the user is faced with the error message:\r\n\r\n&gt; InvalidParameterException{message=One or more parameters are\r\n&gt; incorrect., cause=InvalidParameterException(message=1 validation error\r\n&gt; detected: Value at &#39;accessToken&#39; failed to satisfy constraint: Member\r\n&gt; must not be null), recoverySuggestion=Enter correct parameters.}\r\n&gt;                                                                                                     \tat\r\n&gt; com.amplifyframework.auth.cognito.CognitoAuthExceptionConverter$Companion.lookup(CognitoAuthExceptionConverter.kt:70)\r\n\r\n\r\nThe only way I can work around this is by performing a &quot;wipe data&quot; on the android emulator and re-installing the app.\r\n\r\nI don&#39;t know how to fix this issue correctly. Please help.\r\n","title":"Why is Access Token null?","body":"<p>I am using Amplify Auth to sign in a user in my Java android application.</p>\n<p>After a couple of times of starting the android emulator, Amplify Auth signs out the user. Upon trying to login again, the user is faced with the error message:</p>\n<blockquote>\n<p>InvalidParameterException{message=One or more parameters are\nincorrect., cause=InvalidParameterException(message=1 validation error\ndetected: Value at 'accessToken' failed to satisfy constraint: Member\nmust not be null), recoverySuggestion=Enter correct parameters.}\nat\ncom.amplifyframework.auth.cognito.CognitoAuthExceptionConverter$Companion.lookup(CognitoAuthExceptionConverter.kt:70)</p>\n</blockquote>\n<p>The only way I can work around this is by performing a &quot;wipe data&quot; on the android emulator and re-installing the app.</p>\n<p>I don't know how to fix this issue correctly. Please help.</p>\n"},{"tags":["java","rest","jackson","jax-rs","jakarta-migration"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1691524436,"post_id":76859942,"comment_id":135502726,"body_markdown":"So Im assuming you are create an uber/fat jar? If you you need to configure it to concatenate the META-INF/services file. This is required for auto-discovery/registration of providers. Otherwise you need to manually register all thew providers","body":"So Im assuming you are create an uber/fat jar? If you you need to configure it to concatenate the META-INF/services file. This is required for auto-discovery/registration of providers. Otherwise you need to manually register all thew providers"}],"owner":{"account_id":17104650,"reputation":121,"user_id":12376938,"display_name":"santosh jk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691501396,"creation_date":1691500588,"question_id":76859942,"body_markdown":"I am creating command line interface version for rest client api , created method works fine from normal test class/java program but same doesnot work when i built jar with maven-assembly-plugin. I am seeing below exception \r\n\r\n    ERROR:MessageBodyWriter not found for media type=application/json, type=class java.util.ArrayList, genericType=class java.util.ArrayList.\r\n\r\nI tried adding below dependency as per recommendation in multiple posts but still didnot work ,and class com.fasterxml.jackson.jaxrs.json.JacksonJsonProvider exists in assembly jar. still I see error **MessageBodyWriter not found**\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-jaxrs-json-provider&lt;/artifactId&gt;\r\n        &lt;version&gt;2.10.0&lt;/version&gt;\r\n    &lt;/dependency&gt; \r\n\r\n ERROR:MessageBodyWriter not found for media type=application/json, type=class java.util.ArrayList, genericType=class java.util.ArrayList\r\n\r\nI am using **jakarta** libraries ","title":"MessageBodyWriter not found in maven-assembly jar","body":"<p>I am creating command line interface version for rest client api , created method works fine from normal test class/java program but same doesnot work when i built jar with maven-assembly-plugin. I am seeing below exception</p>\n<pre><code>ERROR:MessageBodyWriter not found for media type=application/json, type=class java.util.ArrayList, genericType=class java.util.ArrayList.\n</code></pre>\n<p>I tried adding below dependency as per recommendation in multiple posts but still didnot work ,and class com.fasterxml.jackson.jaxrs.json.JacksonJsonProvider exists in assembly jar. still I see error <strong>MessageBodyWriter not found</strong></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-jaxrs-json-provider&lt;/artifactId&gt;\n    &lt;version&gt;2.10.0&lt;/version&gt;\n&lt;/dependency&gt; \n</code></pre>\n<p>ERROR:MessageBodyWriter not found for media type=application/json, type=class java.util.ArrayList, genericType=class java.util.ArrayList</p>\n<p>I am using <strong>jakarta</strong> libraries</p>\n"},{"tags":["java","apache-poi","log4j","slf4j","uberjar"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1691480411,"post_id":76857357,"comment_id":135493572,"body_markdown":"Try removing aem-uber-jar and use Maven Shade instead","body":"Try removing aem-uber-jar and use Maven Shade instead"}],"owner":{"account_id":29155295,"reputation":1,"user_id":22335222,"display_name":"Anirudh Pratap"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691501319,"creation_date":1691480079,"question_id":76857357,"body_markdown":"I am getting this error after I update apache poi jar from 4.0.1 to 4.1.2 and aem-uber-jar 6.5.11 jar to 6.5.17\r\n\r\n    from this line  Workbook workbook = new XSSFWorkbook(inStream))\r\n    \r\n    java.lang.NoClassDefFoundError: org/apache/logging/log4j/LogManager\r\n    at org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;clinit&gt;(XSSFWorkbook.java:195)\r\n    \r\n    Caused by: java.lang.ClassNotFoundException: org.apache.logging.log4j.LogManager\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n    \tat org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;clinit&gt;(XSSFWorkbook.java:195)\r\n\r\nI  tried reverting version it is working fine on lower version \r\n\r\n","title":"getting error java.lang.NoClassDefFoundError: org/apache/logging/log4j/LogManager","body":"<p>I am getting this error after I update apache poi jar from 4.0.1 to 4.1.2 and aem-uber-jar 6.5.11 jar to 6.5.17</p>\n<pre><code>from this line  Workbook workbook = new XSSFWorkbook(inStream))\n\njava.lang.NoClassDefFoundError: org/apache/logging/log4j/LogManager\nat org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;clinit&gt;(XSSFWorkbook.java:195)\n\nCaused by: java.lang.ClassNotFoundException: org.apache.logging.log4j.LogManager\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    at org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;clinit&gt;(XSSFWorkbook.java:195)\n</code></pre>\n<p>I  tried reverting version it is working fine on lower version</p>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1691425435,"post_id":76849775,"comment_id":135486771,"body_markdown":"How do you imagine the option to include/exclude `id`? Would it really be more useful than calling another method?","body":"How do you imagine the option to include/exclude <code>id</code>? Would it really be more useful than calling another method?"},{"owner":{"account_id":12051482,"reputation":85,"user_id":9545377,"display_name":"SpaceSloth"},"score":0,"creation_date":1691491398,"post_id":76849775,"comment_id":135495804,"body_markdown":"@MaksimEliseev I did try the idea of having seperate methods, but the way I did it, it also affected the other Mappers who have an inverse relationship with it, as it could not differentiate between the two Mappers the one with Id and the other withoutId calling it umbegious.","body":"@MaksimEliseev I did try the idea of having seperate methods, but the way I did it, it also affected the other Mappers who have an inverse relationship with it, as it could not differentiate between the two Mappers the one with Id and the other withoutId calling it umbegious."}],"answers":[{"tags":[],"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691426081,"creation_date":1691426081,"answer_id":76853567,"question_id":76849775,"body_markdown":"I can suggest the following method:\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface MenuLanguageMapper {\r\n\r\n        default MenuLanguageViewDTO toViewFromEntity(MenuLanguage entity, boolean ignoreId) {\r\n            return ignoreId\r\n                ? toViewFromEntityWithoutId(entity)\r\n                : toViewFromEntityWithId(entity);\r\n        }\r\n\r\n        @Mapping(target = &quot;id&quot;, ignore = true)\r\n        MenuLanguageViewDTO toViewFromEntityWithoutId(MenuLanguage entity);\r\n\r\n        MenuLanguageViewDTO toViewFromEntityWithId(MenuLanguage entity);\r\n}\r\n\r\nOr you can create a wrapper class that will inject `MenuLanguageMapper`, if you don&#39;t want to see the &quot;internal&quot; methods in the interface.","title":"Using MapStruct Conditional Mapping to control whether to ignore a target property or not","body":"<p>I can suggest the following method:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface MenuLanguageMapper {\n\n    default MenuLanguageViewDTO toViewFromEntity(MenuLanguage entity, boolean ignoreId) {\n        return ignoreId\n            ? toViewFromEntityWithoutId(entity)\n            : toViewFromEntityWithId(entity);\n    }\n\n    @Mapping(target = &quot;id&quot;, ignore = true)\n    MenuLanguageViewDTO toViewFromEntityWithoutId(MenuLanguage entity);\n\n    MenuLanguageViewDTO toViewFromEntityWithId(MenuLanguage entity);\n</code></pre>\n<p>}</p>\n<p>Or you can create a wrapper class that will inject <code>MenuLanguageMapper</code>, if you don't want to see the &quot;internal&quot; methods in the interface.</p>\n"}],"owner":{"account_id":12051482,"reputation":85,"user_id":9545377,"display_name":"SpaceSloth"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691501144,"creation_date":1691394856,"question_id":76849775,"body_markdown":"I am using mapStruct library, and I have this Mapper class: \r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface MenuLanguageMapper {\r\n\r\n          MenuLanguageViewDTO toViewFromEntity(MenuLanguage entity);\r\n\r\n          List&lt;MenuLanguageViewDTO&gt; toViewListFromEntityList(List&lt;MenuLanguage&gt; entityList);\r\n    }\r\n\r\nboth `MenuLanguage` and `MenulanguageViewDTO` both have a field called `id`, I would like to control whether I want to ignore it or not in the target, since in some of my MenuLanguageViewDTO&#39;s I want to include the &#39;id&#39;, rather than having to create completly new methods to do that, is that possible, I discovered conditional Mapping, but I cant seem to get it to work, mapStruct states that it supports Conditional Mapping now: [mapStruct Documentations][1]\r\n\r\n\r\n  [1]: https://mapstruct.org/news/2021-07-18-mapstruct-1_5_0_Beta1-is-out/#conditional-mapping\r\n\r\n\r\n**edit-1:** added two classes, to clarify the issue that I am facing when going the path of creating two seperate mapper methods, one with Id and one without:\r\n\r\n\r\n***MenuLanguageMapper.class:***\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface MenuLanguageMapper {\r\n\r\n          MenuLanguageViewDTO toViewFromEntity(MenuLanguage entity);\r\n\r\n          List&lt;MenuLanguageViewDTO&gt; toViewListFromEntityList(List&lt;MenuLanguage&gt; entityList);\r\n    }\r\n\r\n***MenuTranslationMapper.class:***\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;, uses = { MenuLanguageMapper.class })\r\n    public interface MenuTranslationMapper {\r\n\r\n        @InheritInverseConfiguration\r\n        MenuTranslationViewDTO toViewFromEntity(MenuTranslation entity);\r\n\r\n        @InheritInverseConfiguration\r\n        void toTranslationEntityFromUpdateDTO(MenuTranslationUpdateDTO updateDTO, @MappingTarget MenuTranslation menuTranslation);\r\n    }\r\n\r\n","title":"Using MapStruct Conditional Mapping to control whether to ignore a target property or not","body":"<p>I am using mapStruct library, and I have this Mapper class:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface MenuLanguageMapper {\n\n      MenuLanguageViewDTO toViewFromEntity(MenuLanguage entity);\n\n      List&lt;MenuLanguageViewDTO&gt; toViewListFromEntityList(List&lt;MenuLanguage&gt; entityList);\n}\n</code></pre>\n<p>both <code>MenuLanguage</code> and <code>MenulanguageViewDTO</code> both have a field called <code>id</code>, I would like to control whether I want to ignore it or not in the target, since in some of my MenuLanguageViewDTO's I want to include the 'id', rather than having to create completly new methods to do that, is that possible, I discovered conditional Mapping, but I cant seem to get it to work, mapStruct states that it supports Conditional Mapping now: <a href=\"https://mapstruct.org/news/2021-07-18-mapstruct-1_5_0_Beta1-is-out/#conditional-mapping\" rel=\"nofollow noreferrer\">mapStruct Documentations</a></p>\n<p><strong>edit-1:</strong> added two classes, to clarify the issue that I am facing when going the path of creating two seperate mapper methods, one with Id and one without:</p>\n<p><em><strong>MenuLanguageMapper.class:</strong></em></p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface MenuLanguageMapper {\n\n      MenuLanguageViewDTO toViewFromEntity(MenuLanguage entity);\n\n      List&lt;MenuLanguageViewDTO&gt; toViewListFromEntityList(List&lt;MenuLanguage&gt; entityList);\n}\n</code></pre>\n<p><em><strong>MenuTranslationMapper.class:</strong></em></p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;, uses = { MenuLanguageMapper.class })\npublic interface MenuTranslationMapper {\n\n    @InheritInverseConfiguration\n    MenuTranslationViewDTO toViewFromEntity(MenuTranslation entity);\n\n    @InheritInverseConfiguration\n    void toTranslationEntityFromUpdateDTO(MenuTranslationUpdateDTO updateDTO, @MappingTarget MenuTranslation menuTranslation);\n}\n</code></pre>\n"},{"tags":["java","binary","containers","quarkus","glibc"],"answers":[{"tags":[],"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691500652,"creation_date":1691500652,"answer_id":76859954,"question_id":76856472,"body_markdown":"Honestly I couldn&#39;t reproduce this, however my host machine has newer version of `glibc` and my native container image started successfully.\r\nOutput of `ldd --version`  \r\nOn the host:\r\n```none\r\nldd (Ubuntu GLIBC 2.35-0ubuntu3.1) 2.35\r\n```\r\nOn the container image (built by Dockerfile.native)\r\n\r\n```none\r\nldd (GNU libc) 2.28\r\n```\r\n\r\nBoth `Dockerfile.native` and `Dockerfile.native-micro` is based on UBI8 which is an **U**niversal **B**ase **I**mage of **R**ed **H**at **E**nterprise **L**inux. UBI8 is based on RHEL8 and UBI9 is on RHEL9. RHEL9 using recent `glibc 2.34`.\r\n\r\n### Solution #1 - use UBI9-minimal\r\n\r\nUbi9 minimal base image contains everything (and more), but it is a little bit bigger than `micro` version.\r\n\r\nIn this case just use this base image:\r\n\r\n```docker\r\nFROM registry.access.redhat.com/ubi9-minimal:9.2\r\n\r\n# ...\r\n```\r\n### Solution #2 create custom micro image\r\n\r\n[This guide](https://quarkus.io/guides/quarkus-runtime-base-image) explains how to create custom base image or extend the existing one.\r\n\r\nThis Dockerfile should work:\r\n\r\n```docker\r\n# -- Stage ubi\r\nFROM registry.access.redhat.com/ubi9-minimal:9.2 AS ubi\r\n# -- Stage scratch\r\nFROM registry.access.redhat.com/ubi9-micro:9.2 AS scratch\r\n# -- Final Stage\r\nFROM scratch\r\nCOPY --from=ubi /usr/lib64/libgcc_s.so.1 /usr/lib64/libgcc_s.so.1\r\nCOPY --from=ubi /usr/lib64/libstdc++.so.6 /usr/lib64/libstdc++.so.6\r\nCOPY --from=ubi /usr/lib64/libz.so.1 /usr/lib64/libz.so.1\r\n```\r\n\r\n**Note**: I cloned the [quarkus-images](https://github.com/quarkusio/quarkus-images) repository and changed the arguments to generate this Dockerfile.","title":"Alternatives to Quarkus base images for native-micro","body":"<p>Honestly I couldn't reproduce this, however my host machine has newer version of <code>glibc</code> and my native container image started successfully.\nOutput of <code>ldd --version</code><br />\nOn the host:</p>\n<pre class=\"lang-none prettyprint-override\"><code>ldd (Ubuntu GLIBC 2.35-0ubuntu3.1) 2.35\n</code></pre>\n<p>On the container image (built by Dockerfile.native)</p>\n<pre class=\"lang-none prettyprint-override\"><code>ldd (GNU libc) 2.28\n</code></pre>\n<p>Both <code>Dockerfile.native</code> and <code>Dockerfile.native-micro</code> is based on UBI8 which is an <strong>U</strong>niversal <strong>B</strong>ase <strong>I</strong>mage of <strong>R</strong>ed <strong>H</strong>at <strong>E</strong>nterprise <strong>L</strong>inux. UBI8 is based on RHEL8 and UBI9 is on RHEL9. RHEL9 using recent <code>glibc 2.34</code>.</p>\n<h3>Solution #1 - use UBI9-minimal</h3>\n<p>Ubi9 minimal base image contains everything (and more), but it is a little bit bigger than <code>micro</code> version.</p>\n<p>In this case just use this base image:</p>\n<pre><code>FROM registry.access.redhat.com/ubi9-minimal:9.2\n\n# ...\n</code></pre>\n<h3>Solution #2 create custom micro image</h3>\n<p><a href=\"https://quarkus.io/guides/quarkus-runtime-base-image\" rel=\"nofollow noreferrer\">This guide</a> explains how to create custom base image or extend the existing one.</p>\n<p>This Dockerfile should work:</p>\n<pre><code># -- Stage ubi\nFROM registry.access.redhat.com/ubi9-minimal:9.2 AS ubi\n# -- Stage scratch\nFROM registry.access.redhat.com/ubi9-micro:9.2 AS scratch\n# -- Final Stage\nFROM scratch\nCOPY --from=ubi /usr/lib64/libgcc_s.so.1 /usr/lib64/libgcc_s.so.1\nCOPY --from=ubi /usr/lib64/libstdc++.so.6 /usr/lib64/libstdc++.so.6\nCOPY --from=ubi /usr/lib64/libz.so.1 /usr/lib64/libz.so.1\n</code></pre>\n<p><strong>Note</strong>: I cloned the <a href=\"https://github.com/quarkusio/quarkus-images\" rel=\"nofollow noreferrer\">quarkus-images</a> repository and changed the arguments to generate this Dockerfile.</p>\n"}],"owner":{"account_id":557134,"reputation":2371,"user_id":919480,"accept_rate":59,"display_name":"cogitoergosum"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":567,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76859954,"answer_count":1,"score":0,"last_activity_date":1691500652,"creation_date":1691468352,"question_id":76856472,"body_markdown":"I am building the binary in a GitHub Action pipeline using `mvnw -Pnative`. The runner machine uses the latest Ubuntu OS where the `glibc` version is 2.3x. Whereas, the base Quarkus micro image uses an earlier version of `glibc`. This results in the following error when the container image is run using `docker run`.\r\n\r\n```bash\r\n./application: /lib64/libc.so.6: version `GLIBC_2.32&#39; not found (required by ./application)\r\n./application: /lib64/libc.so.6: version `GLIBC_2.34&#39; not found (required by ./application)\r\n```\r\n\r\nBrowsing [this site][1] for understanding the library version and distribution is tedious. Therefore, I wanted to know, if you can suggest an alternative micro base image - with &quot;recent&quot; `glibc` - where, a Quarkus binary can be run?\r\n\r\n\r\n  [1]: https://distrowatch.com/","title":"Alternatives to Quarkus base images for native-micro","body":"<p>I am building the binary in a GitHub Action pipeline using <code>mvnw -Pnative</code>. The runner machine uses the latest Ubuntu OS where the <code>glibc</code> version is 2.3x. Whereas, the base Quarkus micro image uses an earlier version of <code>glibc</code>. This results in the following error when the container image is run using <code>docker run</code>.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>./application: /lib64/libc.so.6: version `GLIBC_2.32' not found (required by ./application)\n./application: /lib64/libc.so.6: version `GLIBC_2.34' not found (required by ./application)\n</code></pre>\n<p>Browsing <a href=\"https://distrowatch.com/\" rel=\"nofollow noreferrer\">this site</a> for understanding the library version and distribution is tedious. Therefore, I wanted to know, if you can suggest an alternative micro base image - with &quot;recent&quot; <code>glibc</code> - where, a Quarkus binary can be run?</p>\n"},{"tags":["java","spring","elasticsearch","spring-data"],"owner":{"account_id":3245618,"reputation":372,"user_id":2737303,"display_name":"jsmin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691500152,"creation_date":1691498637,"question_id":76859701,"body_markdown":"I&#39;m using ElasticSearch Spring Data to manage documents in my application, and I&#39;m facing a situation where I need to update a document without affecting a particular large object within it. I don&#39;t want to load this large object while retrieving the document. Unfortunately, when I update other fields in the document and save it again, the large object gets removed, as it was not loaded initially.\r\n\r\nIs there a recommended approach to achieve this while using ElasticSearch Spring Data? \r\n\r\n**Example:**\r\n\r\nLet&#39;s assume I have a document representing a user profile. This document includes fields like username, email, and a complex &quot;preferences&quot; object which I don&#39;t want to load when querying the user profile. However, when I update the username and email fields and save the document using the save method in the spring data repo, the &quot;preferences&quot; object gets cleared, even though I never loaded it in the first place.\r\n","title":"Updating Elasticsearch Document and ignoring specific field using ElasticSearch Spring Data","body":"<p>I'm using ElasticSearch Spring Data to manage documents in my application, and I'm facing a situation where I need to update a document without affecting a particular large object within it. I don't want to load this large object while retrieving the document. Unfortunately, when I update other fields in the document and save it again, the large object gets removed, as it was not loaded initially.</p>\n<p>Is there a recommended approach to achieve this while using ElasticSearch Spring Data?</p>\n<p><strong>Example:</strong></p>\n<p>Let's assume I have a document representing a user profile. This document includes fields like username, email, and a complex &quot;preferences&quot; object which I don't want to load when querying the user profile. However, when I update the username and email fields and save the document using the save method in the spring data repo, the &quot;preferences&quot; object gets cleared, even though I never loaded it in the first place.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1435980,"reputation":127999,"user_id":1357341,"accept_rate":100,"display_name":"arshajii"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1378823898,"creation_date":1378823898,"answer_id":18721866,"question_id":18721771,"body_markdown":"You can use [`printf()`][1] -- the `%f` specifier works for `BigDecimal`s too:\r\n\r\n    System.out.printf(&quot;bd1 value::%.0f%n&quot;, bd1);\r\n\r\n&lt;pre&gt;\r\nbd1 value::0\r\n&lt;/pre&gt;\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/io/PrintStream.html#printf%28java.lang.String,%20java.lang.Object...%29","title":"Java : Removing zeros after decimal point in BigDecimal","body":"<p>You can use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/PrintStream.html#printf%28java.lang.String,%20java.lang.Object...%29\" rel=\"noreferrer\"><code>printf()</code></a> -- the <code>%f</code> specifier works for <code>BigDecimal</code>s too:</p>\n\n<pre><code>System.out.printf(\"bd1 value::%.0f%n\", bd1);\n</code></pre>\n\n<pre>\nbd1 value::0\n</pre>\n"},{"tags":[],"owner":{"account_id":203953,"reputation":5113,"user_id":451894,"accept_rate":53,"display_name":"upog"},"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1382352378,"creation_date":1378823911,"answer_id":18721872,"question_id":18721771,"body_markdown":"try this\r\n\r\n    import java.math.BigDecimal;\r\n    import java.text.DecimalFormat;\r\n    \r\n    public class calculator{\r\n    \tpublic static void main(String[] args) {\r\n    \t\tBigDecimal bd = new BigDecimal(23.086);\r\n    \t\tBigDecimal bd1= new BigDecimal(0.000);    \r\n    \t\tDecimalFormat df = new DecimalFormat(&quot;0.##&quot;);    \r\n    \t\tSystem.out.println(&quot;bd value::&quot;+ df.format(bd));\r\n    \t\tSystem.out.println(&quot;bd1 value::&quot;+ df.format(bd1));\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Java : Removing zeros after decimal point in BigDecimal","body":"<p>try this</p>\n\n<pre><code>import java.math.BigDecimal;\nimport java.text.DecimalFormat;\n\npublic class calculator{\n    public static void main(String[] args) {\n        BigDecimal bd = new BigDecimal(23.086);\n        BigDecimal bd1= new BigDecimal(0.000);    \n        DecimalFormat df = new DecimalFormat(\"0.##\");    \n        System.out.println(\"bd value::\"+ df.format(bd));\n        System.out.println(\"bd1 value::\"+ df.format(bd1));\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1378823957,"creation_date":1378823957,"answer_id":18721891,"question_id":18721771,"body_markdown":"You can do this\r\n\r\n    System.out.println(&quot;bd value: &quot; + ((bd.scale() == 0) ? bd.unscaledValue() : bd));\r\n        \r\n    ","title":"Java : Removing zeros after decimal point in BigDecimal","body":"<p>You can do this</p>\n\n<pre><code>System.out.println(\"bd value: \" + ((bd.scale() == 0) ? bd.unscaledValue() : bd));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1266294,"reputation":8027,"user_id":1223532,"accept_rate":67,"display_name":"MrSimpleMind"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1448487441,"creation_date":1378824006,"answer_id":18721902,"question_id":18721771,"body_markdown":"**Simple, clean, flexible, easy-2-understand and maintain code** \r\n\r\n(*will work for `double` too*)\r\n\r\n    DecimalFormat df = new DecimalFormat();\r\n    df.setMaximumFractionDigits(2); //Sets the maximum number of digits after the decimal point\r\n    df.setMinimumFractionDigits(0); //Sets the minimum number of digits after the decimal point\r\n    df.setGroupingUsed(false); //If false thousands separator such ad 1,000 wont work so it will display 1000\r\n    \r\n    String result = df.format(bd);\r\n    System.out.println(result);","title":"Java : Removing zeros after decimal point in BigDecimal","body":"<p><strong>Simple, clean, flexible, easy-2-understand and maintain code</strong> </p>\n\n<p>(<em>will work for <code>double</code> too</em>)</p>\n\n<pre><code>DecimalFormat df = new DecimalFormat();\ndf.setMaximumFractionDigits(2); //Sets the maximum number of digits after the decimal point\ndf.setMinimumFractionDigits(0); //Sets the minimum number of digits after the decimal point\ndf.setGroupingUsed(false); //If false thousands separator such ad 1,000 wont work so it will display 1000\n\nString result = df.format(bd);\nSystem.out.println(result);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3278981,"reputation":781,"user_id":2760060,"display_name":"Marcia Ong"},"down_vote_count":5,"up_vote_count":15,"is_accepted":true,"score":10,"last_activity_date":1467886078,"creation_date":1378824203,"answer_id":18721976,"question_id":18721771,"body_markdown":"   \tBigDecimal bd  = new BigDecimal(23.086); \r\n\tBigDecimal bd1 = new BigDecimal(0.000);\r\n\r\n\tbd  = bd.setScale(2, RoundingMode.HALF_UP).stripTrailingZeros(); \r\n    bd1 = bd1.setScale(2, RoundingMode.HALF_UP).stripTrailingZeros();\r\n\r\n\tSystem.out.println(&quot;bd value::&quot;+ bd); System.out.println(&quot;bd1 value::&quot;+ bd1);\r\n\tSystem.out.println(&quot;new way:&quot; + bd1.intValueExact());\r\n\r\n//OUTPUT\r\nbd value::23.09\r\n\r\nbd1 value::0.00\r\n\r\nnew way:0\r\n","title":"Java : Removing zeros after decimal point in BigDecimal","body":"<pre><code>BigDecimal bd  = new BigDecimal(23.086); \nBigDecimal bd1 = new BigDecimal(0.000);\n\nbd  = bd.setScale(2, RoundingMode.HALF_UP).stripTrailingZeros(); \nbd1 = bd1.setScale(2, RoundingMode.HALF_UP).stripTrailingZeros();\n\nSystem.out.println(\"bd value::\"+ bd); System.out.println(\"bd1 value::\"+ bd1);\nSystem.out.println(\"new way:\" + bd1.intValueExact());\n</code></pre>\n\n<p>//OUTPUT\nbd value::23.09</p>\n\n<p>bd1 value::0.00</p>\n\n<p>new way:0</p>\n"},{"tags":[],"owner":{"account_id":11428463,"reputation":29,"user_id":8377957,"display_name":"Frdhsn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1516636916,"creation_date":1516636916,"answer_id":48385673,"question_id":18721771,"body_markdown":"This method below works better IMO\r\n\r\n        bd1 = bd1.stripTrailingZeros();\r\n        System.out.println(bd1.toPlainString());\r\nPrints: \r\n\r\n        0\r\nIf bd1 = 1.2300 , this will print \r\n\r\n        1.23","title":"Java : Removing zeros after decimal point in BigDecimal","body":"<p>This method below works better IMO</p>\n\n<pre><code>    bd1 = bd1.stripTrailingZeros();\n    System.out.println(bd1.toPlainString());\n</code></pre>\n\n<p>Prints: </p>\n\n<pre><code>    0\n</code></pre>\n\n<p>If bd1 = 1.2300 , this will print </p>\n\n<pre><code>    1.23\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1134029,"reputation":4995,"user_id":1119473,"accept_rate":60,"display_name":"Gondy"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1574932424,"creation_date":1552589976,"answer_id":55170159,"question_id":18721771,"body_markdown":"Let&#39;s say you have BigDecimal with value `23000.00` and you want it to be `23000`. You can use method `stripTrailingZeros()`, but it will give you &quot;wrong&quot; result:\r\n```\r\nBigDecimal bd = new BigDecimal(&quot;23000.00&quot;);\r\nbd.stripTrailingZeros() // Result is 2.3E+4\r\n```\r\nYou can fix it by calling `.toPlainString()` and passing this to the BigDecimal constructor to let it handle correctly:\r\n```\r\nBigDecimal bd = new BigDecimal(&quot;23000.00&quot;);\r\nnew BigDecimal(bd.stripTrailingZeros().toPlainString()) // Result is 23000\r\n```","title":"Java : Removing zeros after decimal point in BigDecimal","body":"<p>Let's say you have BigDecimal with value <code>23000.00</code> and you want it to be <code>23000</code>. You can use method <code>stripTrailingZeros()</code>, but it will give you \"wrong\" result:</p>\n\n<pre><code>BigDecimal bd = new BigDecimal(\"23000.00\");\nbd.stripTrailingZeros() // Result is 2.3E+4\n</code></pre>\n\n<p>You can fix it by calling <code>.toPlainString()</code> and passing this to the BigDecimal constructor to let it handle correctly:</p>\n\n<pre><code>BigDecimal bd = new BigDecimal(\"23000.00\");\nnew BigDecimal(bd.stripTrailingZeros().toPlainString()) // Result is 23000\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17104674,"reputation":11,"user_id":12701048,"display_name":"Nelson Alonzo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668626743,"creation_date":1668626743,"answer_id":74466105,"question_id":18721771,"body_markdown":"i create this method to fix my problem...   \r\n\r\n    private BigDecimal removeZeros(BigDecimal bigDecimal){\r\n                return new BigDecimal(bigDecimal.stripTrailingZeros().toPlainString());\r\n            }\r\n\r\ni don&#39;t like it, but do the job","title":"Java : Removing zeros after decimal point in BigDecimal","body":"<p>i create this method to fix my problem...</p>\n<pre><code>private BigDecimal removeZeros(BigDecimal bigDecimal){\n            return new BigDecimal(bigDecimal.stripTrailingZeros().toPlainString());\n        }\n</code></pre>\n<p>i don't like it, but do the job</p>\n"},{"tags":[],"owner":{"account_id":4540696,"reputation":7790,"user_id":3688648,"accept_rate":54,"display_name":"Felk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691499994,"creation_date":1691499994,"answer_id":76859872,"question_id":18721771,"body_markdown":"IMO `.stripTrailingZeros()` is already the correct approach. If the goal is to only strip trailing zeroes after the decimal point, you can reset the scale back to 0 if it is below 0 after calling `.stripTrailingZeros()`:\r\n```java\r\nBigDecimal bd = new BigDecimal(&quot;100.00&quot;);           // bd ==&gt; 100.00\r\nbd = bd.stripTrailingZeros();                       // bd ==&gt; 1E+2\r\nif (bd.scale() &lt; 0)\r\n    bd = bd.setScale(0, RoundingMode.UNNECESSARY);  // bd ==&gt; 100\r\n```","title":"Java : Removing zeros after decimal point in BigDecimal","body":"<p>IMO <code>.stripTrailingZeros()</code> is already the correct approach. If the goal is to only strip trailing zeroes after the decimal point, you can reset the scale back to 0 if it is below 0 after calling <code>.stripTrailingZeros()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BigDecimal bd = new BigDecimal(&quot;100.00&quot;);           // bd ==&gt; 100.00\nbd = bd.stripTrailingZeros();                       // bd ==&gt; 1E+2\nif (bd.scale() &lt; 0)\n    bd = bd.setScale(0, RoundingMode.UNNECESSARY);  // bd ==&gt; 100\n</code></pre>\n"}],"owner":{"account_id":1803252,"reputation":393,"user_id":1641022,"accept_rate":75,"display_name":"Analysts"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39087,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":18721976,"answer_count":9,"score":26,"last_activity_date":1691499994,"creation_date":1378823657,"question_id":18721771,"body_markdown":"I have a program like this ,\r\n\r\n    BigDecimal bd = new BigDecimal(23.086);\r\n    BigDecimal bd1= new BigDecimal(0.000);\r\n\r\n    bd = bd.setScale(2, RoundingMode.HALF_UP).stripTrailingZeros();\r\n    bd1 = bd1.setScale(2, RoundingMode.HALF_UP).stripTrailingZeros();\r\n\r\n    System.out.println(&quot;bd value::&quot;+ bd);\r\n    System.out.println(&quot;bd1 value::&quot;+ bd1);\r\n\r\nI get the following output: `23.09` for `bd` and 0.00 for `bd1`, but I want `bd1` as `0` not as `0.00`. Am I applying the methods correctly? ","title":"Java : Removing zeros after decimal point in BigDecimal","body":"<p>I have a program like this ,</p>\n\n<pre><code>BigDecimal bd = new BigDecimal(23.086);\nBigDecimal bd1= new BigDecimal(0.000);\n\nbd = bd.setScale(2, RoundingMode.HALF_UP).stripTrailingZeros();\nbd1 = bd1.setScale(2, RoundingMode.HALF_UP).stripTrailingZeros();\n\nSystem.out.println(\"bd value::\"+ bd);\nSystem.out.println(\"bd1 value::\"+ bd1);\n</code></pre>\n\n<p>I get the following output: <code>23.09</code> for <code>bd</code> and 0.00 for <code>bd1</code>, but I want <code>bd1</code> as <code>0</code> not as <code>0.00</code>. Am I applying the methods correctly? </p>\n"},{"tags":["java","project-reactor"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1615756287,"post_id":66629572,"comment_id":117783879,"body_markdown":"What&#39;s the condition for the filter?","body":"What&#39;s the condition for the filter?"},{"owner":{"account_id":13048203,"reputation":113,"user_id":9429422,"display_name":"Anmol Garg"},"score":0,"creation_date":1615756448,"post_id":66629572,"comment_id":117783920,"body_markdown":"@WJS I have updated the query. The condition is that if the function &#39;checkIfIdExists&#39; returns false, I want to keep that id.","body":"@WJS I have updated the query. The condition is that if the function &#39;checkIfIdExists&#39; returns false, I want to keep that id."},{"owner":{"account_id":18064478,"reputation":356,"user_id":13132133,"display_name":"Shaan K"},"score":0,"creation_date":1615756487,"post_id":66629572,"comment_id":117783932,"body_markdown":"Have you considered using java streams?","body":"Have you considered using java streams?"},{"owner":{"account_id":13048203,"reputation":113,"user_id":9429422,"display_name":"Anmol Garg"},"score":0,"creation_date":1615756538,"post_id":66629572,"comment_id":117783953,"body_markdown":"@ShaanK I couldn&#39;t find any function in Streams that takes a Mono&lt;Boolean&gt;.","body":"@ShaanK I couldn&#39;t find any function in Streams that takes a Mono&lt;Boolean&gt;."},{"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"score":1,"creation_date":1615758732,"post_id":66629572,"comment_id":117784593,"body_markdown":"@ShaanK You can&#39;t use standard Java streams here as you can&#39;t filter() on a function that returns Mono&lt;Boolean&gt; rather than boolean. You have to use `filterWhen()` for that (only available in the project reactor publishers.)","body":"@ShaanK You can&#39;t use standard Java streams here as you can&#39;t filter() on a function that returns Mono&lt;Boolean&gt; rather than boolean. You have to use <code>filterWhen()</code> for that (only available in the project reactor publishers.)"},{"owner":{"account_id":18064478,"reputation":356,"user_id":13132133,"display_name":"Shaan K"},"score":0,"creation_date":1615759388,"post_id":66629572,"comment_id":117784760,"body_markdown":"Oh ok thank you for the heads up.","body":"Oh ok thank you for the heads up."}],"answers":[{"tags":[],"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1615758797,"creation_date":1615756451,"answer_id":66629623,"question_id":66629572,"body_markdown":"It&#39;s probably easiest to create a `Flux` from your `List` then use `filterWhen()` on that:\r\n\r\n`Flux.fromIterable(ids).filterWhen(id -&gt; !checkIfIdExists(id)).collectList()`\r\n\r\n(Note this will of course give you a `Mono&lt;List&lt;String&gt;&gt;` rather than a `List&lt;String&gt;`, as since your filter is reactive, the final result will be reative also. If you&#39;re not working reactively but just using a reactive library, you can just call `block()` to get the actual result.)","title":"How to filter a list using a function which returns Mono&lt;Boolean&gt; in Java?","body":"<p>It's probably easiest to create a <code>Flux</code> from your <code>List</code> then use <code>filterWhen()</code> on that:</p>\n<p><code>Flux.fromIterable(ids).filterWhen(id -&gt; !checkIfIdExists(id)).collectList()</code></p>\n<p>(Note this will of course give you a <code>Mono&lt;List&lt;String&gt;&gt;</code> rather than a <code>List&lt;String&gt;</code>, as since your filter is reactive, the final result will be reative also. If you're not working reactively but just using a reactive library, you can just call <code>block()</code> to get the actual result.)</p>\n"},{"tags":[],"owner":{"account_id":9449505,"reputation":41,"user_id":7026945,"display_name":"Rume7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691499935,"creation_date":1691499935,"answer_id":76859867,"question_id":66629572,"body_markdown":"I will implement it using Flux:\r\n \r\n    List&lt;String&gt; ids = new ArrayList&lt;&gt;(List.of(&quot;q1&quot;, &quot;q2&quot;, &quot;q3&quot;));\r\n\r\n    public Mono&lt;Boolean&gt; checkIfIdExists(String id)\r\n    {\r\n        return Flux.fromStream(ids.stream())\r\n                   .filter(anId -&gt; anId.equals(id))\r\n                   .hasElements();\r\n    }\r\n","title":"How to filter a list using a function which returns Mono&lt;Boolean&gt; in Java?","body":"<p>I will implement it using Flux:</p>\n<pre><code>List&lt;String&gt; ids = new ArrayList&lt;&gt;(List.of(&quot;q1&quot;, &quot;q2&quot;, &quot;q3&quot;));\n\npublic Mono&lt;Boolean&gt; checkIfIdExists(String id)\n{\n    return Flux.fromStream(ids.stream())\n               .filter(anId -&gt; anId.equals(id))\n               .hasElements();\n}\n</code></pre>\n"}],"owner":{"account_id":13048203,"reputation":113,"user_id":9429422,"display_name":"Anmol Garg"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4573,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":66629623,"answer_count":2,"score":4,"last_activity_date":1691499935,"creation_date":1615756063,"question_id":66629572,"body_markdown":"I have a list of String.\r\n\r\nFor example:\r\n\r\n    List&lt;String&gt; ids = new ArrayList&lt;&gt;(List.of(&quot;q1&quot;, &quot;q2&quot;, &quot;q3&quot;));\r\n\r\nI want to filter this list using a function that returns `Mono&lt;Boolean&gt;`. How do I do that?\r\n\r\nfunction:\r\n\r\n    public Mono&lt;Boolean&gt; checkIfIdExists(String id)\r\n    {\r\n      //External call\r\n    }","title":"How to filter a list using a function which returns Mono&lt;Boolean&gt; in Java?","body":"<p>I have a list of String.</p>\n<p>For example:</p>\n<pre><code>List&lt;String&gt; ids = new ArrayList&lt;&gt;(List.of(&quot;q1&quot;, &quot;q2&quot;, &quot;q3&quot;));\n</code></pre>\n<p>I want to filter this list using a function that returns <code>Mono&lt;Boolean&gt;</code>. How do I do that?</p>\n<p>function:</p>\n<pre><code>public Mono&lt;Boolean&gt; checkIfIdExists(String id)\n{\n  //External call\n}\n</code></pre>\n"},{"tags":["java","oracle","spring-boot","spring-data-jpa","dynamic-view"],"comments":[{"owner":{"account_id":3303062,"reputation":6616,"user_id":2778710,"display_name":"astentx"},"score":0,"creation_date":1691497288,"post_id":76858944,"comment_id":135497059,"body_markdown":"Splitting the same base table into chunks via view do not improve any read performance. It will be at best not slower than base table.","body":"Splitting the same base table into chunks via view do not improve any read performance. It will be at best not slower than base table."},{"owner":{"account_id":29109272,"reputation":1,"user_id":22299385,"display_name":"user22299385"},"score":0,"creation_date":1691498449,"post_id":76858944,"comment_id":135497342,"body_markdown":"consider like base table will have 50 + columns but view will have 2 to 5 columns from that base table as using select query","body":"consider like base table will have 50 + columns but view will have 2 to 5 columns from that base table as using select query"},{"owner":{"account_id":3303062,"reputation":6616,"user_id":2778710,"display_name":"astentx"},"score":0,"creation_date":1691499010,"post_id":76858944,"comment_id":135497482,"body_markdown":"But you wrote: *with the same column to fetch records like one view brings(1-30000) **records***","body":"But you wrote: <i>with the same column to fetch records like one view brings(1-30000) <b>records</i></b>"},{"owner":{"account_id":29109272,"reputation":1,"user_id":22299385,"display_name":"user22299385"},"score":0,"creation_date":1691499240,"post_id":76858944,"comment_id":135497532,"body_markdown":"yeah i was trying to say all views will have same column(2 to 5 columns) from that base table. only view name will be differ.","body":"yeah i was trying to say all views will have same column(2 to 5 columns) from that base table. only view name will be differ."}],"owner":{"account_id":29109272,"reputation":1,"user_id":22299385,"display_name":"user22299385"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691499881,"creation_date":1691492943,"question_id":76858944,"body_markdown":"For performance improvement going with the approach of creating multiple views in oracle(for example 5 views with same column). How to fetch these view data dynamically in spring boot application or How to implement the logic in spring boot to fetch these multiple view data dynamically at a single entity class.\r\n\r\n\r\nWhy this approach: the base table contains millions of records &amp; this takes times to fetch the records and to publish, So we created multiple views for the base table. All views will have same column name(for example: It will have totally 2 to 5 column) to fetch records like one view brings(1-30000) records and so on.\r\n\r\nWith single entity &amp; repository class looks like not possible. Any suggestions will be helpful.\r\n\r\nThanks in advance","title":"How to implement dynamic view(Oracle) logic at runtime in spring boot application","body":"<p>For performance improvement going with the approach of creating multiple views in oracle(for example 5 views with same column). How to fetch these view data dynamically in spring boot application or How to implement the logic in spring boot to fetch these multiple view data dynamically at a single entity class.</p>\n<p>Why this approach: the base table contains millions of records &amp; this takes times to fetch the records and to publish, So we created multiple views for the base table. All views will have same column name(for example: It will have totally 2 to 5 column) to fetch records like one view brings(1-30000) records and so on.</p>\n<p>With single entity &amp; repository class looks like not possible. Any suggestions will be helpful.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","spring"],"owner":{"account_id":12719650,"reputation":343,"user_id":9240529,"display_name":"Mister Lamp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691499849,"creation_date":1691499849,"question_id":76859856,"body_markdown":"I have to compile a spring boot application with java version 11. At the moment v17 is installed on my machine.\r\n\r\nI tried all I could find so far on the internet to set my eclipse IDE to compile with version 11.\r\n\r\nIn my pom.xml the following is configured.\r\n\r\n    &lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t\t&lt;site-plugin.version&gt;3.7.1&lt;/site-plugin.version&gt;\r\n\t\t&lt;project-info-reports-plugin.version&gt;3.0.0&lt;/project-info-reports-plugin.version&gt;\r\n\t&lt;/properties&gt;\r\nIf I right click my project -&gt; Properties -&gt; Java Compiler -&gt; Version 11 is selected.\r\nOn Java Facets Java with version 11 is selected.\r\n\r\nOn the target system I always receive the following error when I try to start the app.\r\n\r\n&gt; Error: LinkageError occurred while loading main class org.springframework.boot.loader.WarLauncher\r\n\r\nand\r\n\r\n&gt; java.lang.UnsupportedClassVersionError: org/springframework/boot/loader/WarLauncher has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0\r\n\r\nWhat am I missing here?","title":"Spring Boot Eclipse compiling with latest version but I need it in version 11 - not working","body":"<p>I have to compile a spring boot application with java version 11. At the moment v17 is installed on my machine.</p>\n<p>I tried all I could find so far on the internet to set my eclipse IDE to compile with version 11.</p>\n<p>In my pom.xml the following is configured.</p>\n<pre><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;site-plugin.version&gt;3.7.1&lt;/site-plugin.version&gt;\n    &lt;project-info-reports-plugin.version&gt;3.0.0&lt;/project-info-reports-plugin.version&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>If I right click my project -&gt; Properties -&gt; Java Compiler -&gt; Version 11 is selected.\nOn Java Facets Java with version 11 is selected.</p>\n<p>On the target system I always receive the following error when I try to start the app.</p>\n<blockquote>\n<p>Error: LinkageError occurred while loading main class org.springframework.boot.loader.WarLauncher</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>java.lang.UnsupportedClassVersionError: org/springframework/boot/loader/WarLauncher has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0</p>\n</blockquote>\n<p>What am I missing here?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","resttemplate"],"answers":[{"tags":[],"owner":{"account_id":14879218,"reputation":383,"user_id":10744429,"display_name":"WLefever"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691499720,"creation_date":1691499720,"answer_id":76859840,"question_id":76857636,"body_markdown":"You can indicate which content type you want to process by adding an `Accept` header:\r\n\r\n```\r\nheaders.set(&quot;Accept&quot;, &quot;application/json&quot;);\r\n```\r\n\r\nPS: When executing the request I noticed that the request isn&#39;t always successful, so you will need to handle that.","title":"Incorrect Content-Type Received in Response Headers When Using Spring Boot RestTemplate","body":"<p>You can indicate which content type you want to process by adding an <code>Accept</code> header:</p>\n<pre><code>headers.set(&quot;Accept&quot;, &quot;application/json&quot;);\n</code></pre>\n<p>PS: When executing the request I noticed that the request isn't always successful, so you will need to handle that.</p>\n"}],"owner":{"account_id":4996271,"reputation":971,"user_id":4108345,"accept_rate":61,"display_name":"Harsh Kanakhara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1691499720,"creation_date":1691482252,"question_id":76857636,"body_markdown":"In the provided code snippet, I&#39;m making an HTTP GET request using Spring Boot&#39;s RestTemplate. The intention is to execute specific business logic based on the Content-Type of the response received from the URL. However, for the URL https://worldtimeapi.org/api/timezone/Europe/London, I&#39;ve encountered a disparity in the Content-Type value retrieved from the response compared to what&#39;s observed when the same request is performed using tools like Postman or curl.\r\n\r\nHere&#39;s the code I&#39;m using to make the request:\r\n\r\n    String url = &quot;https://worldtimeapi.org/api/timezone/Europe/London&quot;;\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.set(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/112.0.0.0 Safari/537.36&quot;);\r\n    HttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(headers);\r\n    ResponseEntity&lt;String&gt; response = restTemplate.exchange(url, HttpMethod.GET, entity, String.class);\r\n    \r\n    if (MediaType.APPLICATION_JSON_UTF8.equals(response.getHeaders().getContentType())\r\n    \t\t|| MediaType.APPLICATION_JSON.equals(response.getHeaders().getContentType())) {\r\n    \t// Execute logic for JSON response\r\n    } else {\r\n    \t// Execute logic for other response types\r\n    }\r\n\r\nMy query pertains to resolving this discrepancy and ensuring that the Content-Type header received through RestTemplate is consistent with the headers obtained through tools like Postman or curl. It&#39;s noteworthy that the URL provided for the request is subject to dynamic input from end-users, thereby indicating that the response body and Content-Type could vary.\r\n\r\nI&#39;m keen on understanding how I can rectify this situation and consistently obtain the correct Content-Type through RestTemplate. The solution I&#39;m seeking should accommodate the dynamic nature of the URL and adapt to potential changes in response content and Content-Type.\r\n\r\nAny help would be appreciated.\r\n","title":"Incorrect Content-Type Received in Response Headers When Using Spring Boot RestTemplate","body":"<p>In the provided code snippet, I'm making an HTTP GET request using Spring Boot's RestTemplate. The intention is to execute specific business logic based on the Content-Type of the response received from the URL. However, for the URL <a href=\"https://worldtimeapi.org/api/timezone/Europe/London\" rel=\"nofollow noreferrer\">https://worldtimeapi.org/api/timezone/Europe/London</a>, I've encountered a disparity in the Content-Type value retrieved from the response compared to what's observed when the same request is performed using tools like Postman or curl.</p>\n<p>Here's the code I'm using to make the request:</p>\n<pre><code>String url = &quot;https://worldtimeapi.org/api/timezone/Europe/London&quot;;\nHttpHeaders headers = new HttpHeaders();\nheaders.set(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/112.0.0.0 Safari/537.36&quot;);\nHttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(headers);\nResponseEntity&lt;String&gt; response = restTemplate.exchange(url, HttpMethod.GET, entity, String.class);\n\nif (MediaType.APPLICATION_JSON_UTF8.equals(response.getHeaders().getContentType())\n        || MediaType.APPLICATION_JSON.equals(response.getHeaders().getContentType())) {\n    // Execute logic for JSON response\n} else {\n    // Execute logic for other response types\n}\n</code></pre>\n<p>My query pertains to resolving this discrepancy and ensuring that the Content-Type header received through RestTemplate is consistent with the headers obtained through tools like Postman or curl. It's noteworthy that the URL provided for the request is subject to dynamic input from end-users, thereby indicating that the response body and Content-Type could vary.</p>\n<p>I'm keen on understanding how I can rectify this situation and consistently obtain the correct Content-Type through RestTemplate. The solution I'm seeking should accommodate the dynamic nature of the URL and adapt to potential changes in response content and Content-Type.</p>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","android","android-fragments","google-places-api"],"comments":[{"owner":{"account_id":17597757,"reputation":1107,"user_id":12768366,"display_name":"Md Hanif"},"score":0,"creation_date":1590396053,"post_id":61998629,"comment_id":109653902,"body_markdown":"Does this answer your question:- https://stackoverflow.com/questions/19874882/android-view-inflateexception-binary-xml-file-error-inflating-class-fragment","body":"Does this answer your question:- <a href=\"https://stackoverflow.com/questions/19874882/android-view-inflateexception-binary-xml-file-error-inflating-class-fragment\" title=\"android view inflateexception binary xml file error inflating class fragment\">stackoverflow.com/questions/19874882/&hellip;</a>"},{"owner":{"account_id":10599094,"reputation":23,"user_id":7806581,"display_name":"Ferdy Ferdy"},"score":0,"creation_date":1590396597,"post_id":61998629,"comment_id":109654146,"body_markdown":"try change your android:name to class refer to this https://stackoverflow.com/a/19952291/7806581","body":"try change your android:name to class refer to this <a href=\"https://stackoverflow.com/a/19952291/7806581\">stackoverflow.com/a/19952291/7806581</a>"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1594466011,"post_id":61998629,"comment_id":111139539,"body_markdown":"`ClassNotFoundException: android.fragment.app.FragmentContainerView` – You have a typo in that layout tag. You&#39;re missing the `x` in `androidx`: `&lt;androidx.fragment.app.FragmentContainerView`. You have it correct in the first tag.","body":"<code>ClassNotFoundException: android.fragment.app.FragmentContainerView</code> – You have a typo in that layout tag. You&#39;re missing the <code>x</code> in <code>androidx</code>: <code>&lt;androidx.fragment.app.FragmentContainerView</code>. You have it correct in the first tag."},{"owner":{"account_id":7992266,"reputation":247,"user_id":6029786,"display_name":"Gauri Gadkari"},"score":1,"creation_date":1601675031,"post_id":61998629,"comment_id":113489638,"body_markdown":"@riizwaan were you able to resolve this? getting the same error any insights would be helpful","body":"@riizwaan were you able to resolve this? getting the same error any insights would be helpful"},{"owner":{"account_id":20013048,"reputation":95,"user_id":14669693,"display_name":"MadhanMohan"},"score":1,"creation_date":1620120332,"post_id":61998629,"comment_id":119100320,"body_markdown":"Did you find an answer for that error? I have the same problem which you had","body":"Did you find an answer for that error? I have the same problem which you had"}],"answers":[{"tags":[],"owner":{"account_id":12476573,"reputation":5021,"user_id":9082728,"display_name":"C&#244;ng Hải"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1663601049,"creation_date":1590396119,"answer_id":61998780,"question_id":61998629,"body_markdown":"You should implement new `androidx.fragment` dependencies to use `FragmentContainerView`. It is already added since version 1.2.0. You can check [here][1]\r\n\r\n```\r\nimplementation &quot;androidx.fragment:fragment:1.2.5&quot;\r\n```\r\n\r\n\r\n[1]: https://developer.android.com/jetpack/androidx/releases/fragment","title":"Error inflating class android.fragment.app.FragmentContainerView, can someone tell me what I&#39;m missing","body":"<p>You should implement new <code>androidx.fragment</code> dependencies to use <code>FragmentContainerView</code>. It is already added since version 1.2.0. You can check <a href=\"https://developer.android.com/jetpack/androidx/releases/fragment\" rel=\"nofollow noreferrer\">here</a></p>\n<pre><code>implementation &quot;androidx.fragment:fragment:1.2.5&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6122320,"reputation":1028,"user_id":4775490,"display_name":"imansdn"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1593196103,"creation_date":1593196103,"answer_id":62600823,"question_id":61998629,"body_markdown":"just try to define your startDestination in your navigation xml !","title":"Error inflating class android.fragment.app.FragmentContainerView, can someone tell me what I&#39;m missing","body":"<p>just try to define your startDestination in your navigation xml !</p>\n"},{"tags":[],"owner":{"account_id":9102688,"reputation":3351,"user_id":7369357,"accept_rate":76,"display_name":"nicolas asinovich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612765728,"creation_date":1612765728,"answer_id":66096826,"question_id":61998629,"body_markdown":"Probably after **Refactor-&gt;Remove unused resources** you can lost **id** from your `androidx.fragment.app.FragmentContainerView` - bring it back","title":"Error inflating class android.fragment.app.FragmentContainerView, can someone tell me what I&#39;m missing","body":"<p>Probably after <strong>Refactor-&gt;Remove unused resources</strong> you can lost <strong>id</strong> from your <code>androidx.fragment.app.FragmentContainerView</code> - bring it back</p>\n"},{"tags":[],"owner":{"account_id":14376786,"reputation":1552,"user_id":10385054,"display_name":"Rahul Khatri"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1624967503,"creation_date":1624967503,"answer_id":68178165,"question_id":61998629,"body_markdown":"If it is Due to Proguard Then add few lines\r\n\r\nIn proguard-rules.pro file\r\n\r\n\r\n```\r\n....\r\n# for FragmentContainerView error\r\n-keepnames class androidx.navigation.fragment.NavHostFragment\r\n-keep class * extends androidx.fragment.app.Fragment{}\r\n```","title":"Error inflating class android.fragment.app.FragmentContainerView, can someone tell me what I&#39;m missing","body":"<p>If it is Due to Proguard Then add few lines</p>\n<p>In proguard-rules.pro file</p>\n<pre><code>....\n# for FragmentContainerView error\n-keepnames class androidx.navigation.fragment.NavHostFragment\n-keep class * extends androidx.fragment.app.Fragment{}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11170080,"reputation":1139,"user_id":8663316,"display_name":"Faizan Haidar Khan"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1626620853,"creation_date":1626620853,"answer_id":68430382,"question_id":61998629,"body_markdown":"In my case, I had a Model which was used as arguments but I had not implemented Serializable and Parcelable implementaion.","title":"Error inflating class android.fragment.app.FragmentContainerView, can someone tell me what I&#39;m missing","body":"<p>In my case, I had a Model which was used as arguments but I had not implemented Serializable and Parcelable implementaion.</p>\n"},{"tags":[],"owner":{"account_id":17180029,"reputation":268,"user_id":12435588,"display_name":"Asghar Hosseini"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1629009876,"creation_date":1629009876,"answer_id":68789297,"question_id":61998629,"body_markdown":"This problem was created for me as well. The reason was two mistakes.\r\n\r\n1.I did not add startDestination in nav graph .\r\n\r\n2.I did not add @AndroidEntryPoint annotation  in MainActivitey .","title":"Error inflating class android.fragment.app.FragmentContainerView, can someone tell me what I&#39;m missing","body":"<p>This problem was created for me as well. The reason was two mistakes.</p>\n<p>1.I did not add startDestination in nav graph .</p>\n<p>2.I did not add @AndroidEntryPoint annotation  in MainActivitey .</p>\n"},{"tags":[],"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1630009018,"creation_date":1630009018,"answer_id":68944836,"question_id":61998629,"body_markdown":"For me it was a typo within one of the fragments the `navGraph`, in the class path of the `android:name` attribute.. Adding a wrong path for the fragment class doesn&#39;t provide a compile time error, instead it raises `android.view.InflateException...Error inflating class android.fragment.app.FragmentContainerView`\r\n\r\nSo, make sure to have a correct packaging path for your fragments in `android:name`\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/nav_graph.xml&quot;\r\n    app:startDestination=&quot;@id/mainFragment&quot;&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/mainFragment&quot;\r\n        android:name=&quot;com.example.android....MainFragment&quot;  // &lt;&lt;&lt;&lt; This must be a correct path \r\n        android:label=&quot;main_fragment&quot;\r\n    &lt;/fragment&gt;\r\n\r\n&lt;/navigation&gt;\r\n```","title":"Error inflating class android.fragment.app.FragmentContainerView, can someone tell me what I&#39;m missing","body":"<p>For me it was a typo within one of the fragments the <code>navGraph</code>, in the class path of the <code>android:name</code> attribute.. Adding a wrong path for the fragment class doesn't provide a compile time error, instead it raises <code>android.view.InflateException...Error inflating class android.fragment.app.FragmentContainerView</code></p>\n<p>So, make sure to have a correct packaging path for your fragments in <code>android:name</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/nav_graph.xml&quot;\n    app:startDestination=&quot;@id/mainFragment&quot;&gt;\n\n    &lt;fragment\n        android:id=&quot;@+id/mainFragment&quot;\n        android:name=&quot;com.example.android....MainFragment&quot;  // &lt;&lt;&lt;&lt; This must be a correct path \n        android:label=&quot;main_fragment&quot;\n    &lt;/fragment&gt;\n\n&lt;/navigation&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21567483,"reputation":11,"user_id":15900955,"display_name":"Erik Fors"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635029076,"creation_date":1635029076,"answer_id":69692597,"question_id":61998629,"body_markdown":"Your activity must be a child of FragmentActivity to use androidx.fragment.app.FragmentContainerView either you extend the FragmentActivity or the AppCompatActivity which is a child FragmentActivity class. It is recommended to extend the AppCompatActivity.\r\n\r\nsee: https://www.tutorialguruji.com/android/trying-to-use-navhostfragment-and-im-getting-an-error-error-inflating-class-androidx-fragment-app-fragmentcontainerview/","title":"Error inflating class android.fragment.app.FragmentContainerView, can someone tell me what I&#39;m missing","body":"<p>Your activity must be a child of FragmentActivity to use androidx.fragment.app.FragmentContainerView either you extend the FragmentActivity or the AppCompatActivity which is a child FragmentActivity class. It is recommended to extend the AppCompatActivity.</p>\n<p>see: <a href=\"https://www.tutorialguruji.com/android/trying-to-use-navhostfragment-and-im-getting-an-error-error-inflating-class-androidx-fragment-app-fragmentcontainerview/\" rel=\"nofollow noreferrer\">https://www.tutorialguruji.com/android/trying-to-use-navhostfragment-and-im-getting-an-error-error-inflating-class-androidx-fragment-app-fragmentcontainerview/</a></p>\n"},{"tags":[],"owner":{"account_id":19629209,"reputation":53,"user_id":14367907,"display_name":"Gaurav mishra"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1638111717,"creation_date":1638031230,"answer_id":70136780,"question_id":61998629,"body_markdown":"This error will only occur after you have added ProGuard &amp; R8 to your project. To fix it, add the following two lines in `proguard-rule.pro`:\r\n\r\n    -keepnames class androidx.navigation.fragment.NavHostFragment\r\n    -keep class * extends androidx.fragment.app.Fragment{}","title":"Error inflating class android.fragment.app.FragmentContainerView, can someone tell me what I&#39;m missing","body":"<p>This error will only occur after you have added ProGuard &amp; R8 to your project. To fix it, add the following two lines in <code>proguard-rule.pro</code>:</p>\n<pre><code>-keepnames class androidx.navigation.fragment.NavHostFragment\n-keep class * extends androidx.fragment.app.Fragment{}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10311711,"reputation":51,"user_id":7607324,"display_name":"Adam Giergun"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648241620,"creation_date":1648241620,"answer_id":71622990,"question_id":61998629,"body_markdown":"In my case, despite the same error, reason was different.\r\nHowever this info about adding some rules to proguard-rules.pro pointed me into the right direction. This, and some other clues in error log about problems with argument in navigation XML file.\r\nEventually I found that it was problem with using my own classes in argument. And I don&#39;t mean the class of argument, but the fact that this class also used  some of my other classes. And it was enough to add rules for each of these other classes:\r\n```\r\n-keepnames class &lt;MyClass&gt;\r\n...\r\n```","title":"Error inflating class android.fragment.app.FragmentContainerView, can someone tell me what I&#39;m missing","body":"<p>In my case, despite the same error, reason was different.\nHowever this info about adding some rules to proguard-rules.pro pointed me into the right direction. This, and some other clues in error log about problems with argument in navigation XML file.\nEventually I found that it was problem with using my own classes in argument. And I don't mean the class of argument, but the fact that this class also used  some of my other classes. And it was enough to add rules for each of these other classes:</p>\n<pre><code>-keepnames class &lt;MyClass&gt;\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18702916,"reputation":389,"user_id":13634739,"display_name":"StackOverflower"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651324708,"creation_date":1651324708,"answer_id":72068856,"question_id":61998629,"body_markdown":"If you have done all the solutions and still the problem stands maybe you should check if your `fragment constructor` is empty.","title":"Error inflating class android.fragment.app.FragmentContainerView, can someone tell me what I&#39;m missing","body":"<p>If you have done all the solutions and still the problem stands maybe you should check if your <code>fragment constructor</code> is empty.</p>\n"},{"tags":[],"owner":{"account_id":11179490,"reputation":51,"user_id":14762516,"display_name":"Savvasenok"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1673650134,"creation_date":1673650134,"answer_id":75115142,"question_id":61998629,"body_markdown":"In my case I looked deeper inside my stacktrace and found this line: ```Caused by: java.lang.IllegalStateException: FragmentContainerView must have an android:id to add Fragment MyFragment```. Giving it an id and specifying `tools:layout` fixed problem","title":"Error inflating class android.fragment.app.FragmentContainerView, can someone tell me what I&#39;m missing","body":"<p>In my case I looked deeper inside my stacktrace and found this line: <code>Caused by: java.lang.IllegalStateException: FragmentContainerView must have an android:id to add Fragment MyFragment</code>. Giving it an id and specifying <code>tools:layout</code> fixed problem</p>\n"},{"tags":[],"owner":{"account_id":19882630,"reputation":194,"user_id":14566306,"display_name":"TexD"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682442849,"creation_date":1682442849,"answer_id":76103809,"question_id":61998629,"body_markdown":"1. First add `fragment` dependency- [latest version][1]\r\n\r\n``\r\nimplementation &quot;androidx.fragment:fragment:1.5.7&quot;\r\n``\r\n\r\n2. If you getting error in `xml`. Click on that and scroll down click on **&quot;Do not warn&quot;** your view will be **visible**.\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://developer.android.com/jetpack/androidx/releases/fragment#declaring_dependencies\r\n  [2]: https://i.stack.imgur.com/w7dfw.png","title":"Error inflating class android.fragment.app.FragmentContainerView, can someone tell me what I&#39;m missing","body":"<ol>\n<li>First add <code>fragment</code> dependency- <a href=\"https://developer.android.com/jetpack/androidx/releases/fragment#declaring_dependencies\" rel=\"nofollow noreferrer\">latest version</a></li>\n</ol>\n<p><code>implementation &quot;androidx.fragment:fragment:1.5.7&quot;</code></p>\n<ol start=\"2\">\n<li>If you getting error in <code>xml</code>. Click on that and scroll down click on <strong>&quot;Do not warn&quot;</strong> your view will be <strong>visible</strong>.\n<a href=\"https://i.stack.imgur.com/w7dfw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w7dfw.png\" alt=\"enter image description here\" /></a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4526683,"reputation":2746,"user_id":3678261,"display_name":"Manoj Behera"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689937756,"creation_date":1689937756,"answer_id":76737434,"question_id":61998629,"body_markdown":"    if still this issue not resolved.\r\n\r\n    Please check if you your activity extending FragmentActivity or not.\r\n\r\n    suppose your activity is CustomerMapsActivity.\r\n\r\n    Need to check if CustomerMapsActivity extends FragmentActivity or not.\r\n    if CustomerMapsActivity extends BaseActivity, check BaseActivity should extends FragmentActivity.\r\n\r\n    To inflate this &quot;android.fragment.app.FragmentContainerView&quot; we need FragmentActivity","title":"Error inflating class android.fragment.app.FragmentContainerView, can someone tell me what I&#39;m missing","body":"<pre><code>if still this issue not resolved.\n\nPlease check if you your activity extending FragmentActivity or not.\n\nsuppose your activity is CustomerMapsActivity.\n\nNeed to check if CustomerMapsActivity extends FragmentActivity or not.\nif CustomerMapsActivity extends BaseActivity, check BaseActivity should extends FragmentActivity.\n\nTo inflate this &quot;android.fragment.app.FragmentContainerView&quot; we need FragmentActivity\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24095089,"reputation":56,"user_id":18067740,"display_name":"Devrim Catak"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1691499336,"creation_date":1691499336,"answer_id":76859785,"question_id":61998629,"body_markdown":"In my case the error was related to Serializable and Parcelable. To fix it, add the following two lines in proguard-rule.pro:\r\n\r\n    -keepnames class * extends android.os.Parcelable\r\n    -keepnames class * extends java.io.Serializable","title":"Error inflating class android.fragment.app.FragmentContainerView, can someone tell me what I&#39;m missing","body":"<p>In my case the error was related to Serializable and Parcelable. To fix it, add the following two lines in proguard-rule.pro:</p>\n<pre><code>-keepnames class * extends android.os.Parcelable\n-keepnames class * extends java.io.Serializable\n</code></pre>\n"}],"owner":{"account_id":17519397,"reputation":335,"user_id":12705779,"display_name":"riizwaan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38102,"favorite_count":0,"down_vote_count":1,"up_vote_count":30,"answer_count":15,"score":29,"last_activity_date":1691499336,"creation_date":1590395506,"question_id":61998629,"body_markdown":"I&#39;m working on getting the Google Place API to appear within a CardView.\r\n\r\nThe particular code I&#39;m looking at is from GitHub, seems to be working for everyone else but I don&#39;t understand why it&#39;s throwing me an error.\r\n\r\nThis is the error I am getting:\r\n\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.rizwanqureshi.kevstaxiscanterbury, PID: 6818\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.rizwanqureshi.kevstaxiscanterbury/com.rizwanqureshi.kevstaxiscanterbury.CustomerMapsActivity}: android.view.InflateException: Binary XML file line #50 in com.rizwanqureshi.kevstaxiscanterbury:layout/activity_customer_maps: Binary XML file line #50 in com.rizwanqureshi.kevstaxiscanterbury:layout/activity_customer_maps: Error inflating class android.fragment.app.FragmentContainerView\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3270)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)\r\n        at android.os.Looper.loop(Looper.java:214)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\r\n     Caused by: android.view.InflateException: Binary XML file line #50 in com.rizwanqureshi.kevstaxiscanterbury:layout/activity_customer_maps: Binary XML file line #50 in com.rizwanqureshi.kevstaxiscanterbury:layout/activity_customer_maps: Error inflating class android.fragment.app.FragmentContainerView\r\n     Caused by: android.view.InflateException: Binary XML file line #50 in com.rizwanqureshi.kevstaxiscanterbury:layout/activity_customer_maps: Error inflating class android.fragment.app.FragmentContainerView\r\n     Caused by: java.lang.ClassNotFoundException: android.fragment.app.FragmentContainerView\r\n        at java.lang.Class.classForName(Native Method)\r\n        at java.lang.Class.forName(Class.java:454)\r\n        at android.view.LayoutInflater.createView(LayoutInflater.java:815)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:1006)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:961)\r\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:1123)\r\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1084)\r\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:1126)\r\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1084)\r\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:1126)\r\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1084)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:682)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:534)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:481)\r\n        at com.android.internal.policy.PhoneWindow.setContentView(PhoneWindow.java:438)\r\n        at android.app.Activity.setContentView(Activity.java:3324)\r\n        at com.rizwanqureshi.kevstaxiscanterbury.CustomerMapsActivity.onCreate(CustomerMapsActivity.java:116)\r\n        at android.app.Activity.performCreate(Activity.java:7802)\r\n        at android.app.Activity.performCreate(Activity.java:7791)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1299)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3245)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)\r\n        at android.os.Looper.loop(Looper.java:214)\r\nE/AndroidRuntime:     at android.app.ActivityThread.main(ActivityThread.java:7356)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\r\n     Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;android.fragment.app.FragmentContainerView&quot; on path: DexPathList[[zip file &quot;/data/app/com.rizwanqureshi.kevstaxiscanterbury-Nkg-1mQCfbE8I1MoJKHQuA==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.rizwanqureshi.kevstaxiscanterbury-Nkg-1mQCfbE8I1MoJKHQuA==/lib/x86, /system/lib, /system/product/lib]]\r\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:196)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n        \t... 32 more\r\n```\r\n\r\nThe main takeaway is that there is an Error inflating class android.fragment.app.FragmentContainerView and that the issue is at line 50 of the XML.\r\n\r\nThis is the XML:\r\n\r\n```\r\n&lt;FrameLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.CustomerLogin&quot; &gt;\r\n\r\n\r\n    &lt;androidx.fragment.app.FragmentContainerView\r\n        android:id=&quot;@+id/map&quot;\r\n        android:name=&quot;com.google.android.gms.maps.SupportMapFragment&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;/&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:id=&quot;@+id/buttons&quot;&gt;\r\n            &lt;Button\r\n                android:layout_weight=&quot;1&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:id=&quot;@+id/logout&quot;\r\n                android:text=&quot;logout&quot;\r\n                tools:ignore=&quot;ButtonStyle&quot; /&gt;\r\n            &lt;Button\r\n                android:layout_weight=&quot;1&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:id=&quot;@+id/history&quot;\r\n                android:text=&quot;history&quot;\r\n                tools:ignore=&quot;ButtonStyle&quot; /&gt;\r\n            &lt;Button\r\n                android:layout_weight=&quot;1&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:id=&quot;@+id/settings&quot;\r\n                android:text=&quot;Settings&quot;\r\n                tools:ignore=&quot;ButtonStyle&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n        &lt;androidx.cardview.widget.CardView\r\n            android:layout_below=&quot;@+id/buttons&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;20sp&quot;&gt;\r\n\r\n\r\n\r\n//***LINE 50 WHERE THE ERROR IS***\r\n\r\n\r\n\r\n            &lt;android.fragment.app.FragmentContainerView\r\n                android:id=&quot;@+id/place_autocomplete_fragment&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                tools:ignore=&quot;ExtraText&quot;&gt;\r\n                android:name=&quot;com.google.android.gms.location.places.ui.PlaceAutocompleteFragment&quot;\r\n            &lt;/android.fragment.app.FragmentContainerView&gt;\r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n    &lt;/RelativeLayout&gt;\r\n    \r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:layout_gravity=&quot;bottom&quot;&gt;\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:id=&quot;@+id/driverInfo&quot;\r\n            android:layout_gravity=&quot;bottom&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            android:background=&quot;@android:color/white&quot;\r\n            android:visibility=&quot;gone&quot;&gt;\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:orientation=&quot;vertical&quot;\r\n                android:paddingLeft=&quot;40sp&quot;&gt;\r\n            &lt;/LinearLayout&gt;\r\n        &lt;/LinearLayout&gt;\r\n        &lt;LinearLayout\r\n            android:background=&quot;@android:color/white&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/LinearLayout&gt;\r\n&lt;/FrameLayout&gt;\r\n```\r\nSo I guess there is something wrong with the FragmentContainerView? But i&#39;m not getting any errors in the code and nothing is coming up on Google.\r\n\r\n\r\nI feel like maybe something is outdated rather than outright incorrect but I haven&#39;t a clue.\r\n\r\nThanks for any input.","title":"Error inflating class android.fragment.app.FragmentContainerView, can someone tell me what I&#39;m missing","body":"<p>I'm working on getting the Google Place API to appear within a CardView.</p>\n\n<p>The particular code I'm looking at is from GitHub, seems to be working for everyone else but I don't understand why it's throwing me an error.</p>\n\n<p>This is the error I am getting:</p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.rizwanqureshi.kevstaxiscanterbury, PID: 6818\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.rizwanqureshi.kevstaxiscanterbury/com.rizwanqureshi.kevstaxiscanterbury.CustomerMapsActivity}: android.view.InflateException: Binary XML file line #50 in com.rizwanqureshi.kevstaxiscanterbury:layout/activity_customer_maps: Binary XML file line #50 in com.rizwanqureshi.kevstaxiscanterbury:layout/activity_customer_maps: Error inflating class android.fragment.app.FragmentContainerView\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3270)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)\n        at android.os.Handler.dispatchMessage(Handler.java:107)\n        at android.os.Looper.loop(Looper.java:214)\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\n     Caused by: android.view.InflateException: Binary XML file line #50 in com.rizwanqureshi.kevstaxiscanterbury:layout/activity_customer_maps: Binary XML file line #50 in com.rizwanqureshi.kevstaxiscanterbury:layout/activity_customer_maps: Error inflating class android.fragment.app.FragmentContainerView\n     Caused by: android.view.InflateException: Binary XML file line #50 in com.rizwanqureshi.kevstaxiscanterbury:layout/activity_customer_maps: Error inflating class android.fragment.app.FragmentContainerView\n     Caused by: java.lang.ClassNotFoundException: android.fragment.app.FragmentContainerView\n        at java.lang.Class.classForName(Native Method)\n        at java.lang.Class.forName(Class.java:454)\n        at android.view.LayoutInflater.createView(LayoutInflater.java:815)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:1006)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:961)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:1123)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1084)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:1126)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1084)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:1126)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1084)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:682)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:534)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:481)\n        at com.android.internal.policy.PhoneWindow.setContentView(PhoneWindow.java:438)\n        at android.app.Activity.setContentView(Activity.java:3324)\n        at com.rizwanqureshi.kevstaxiscanterbury.CustomerMapsActivity.onCreate(CustomerMapsActivity.java:116)\n        at android.app.Activity.performCreate(Activity.java:7802)\n        at android.app.Activity.performCreate(Activity.java:7791)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1299)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3245)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)\n        at android.os.Handler.dispatchMessage(Handler.java:107)\n        at android.os.Looper.loop(Looper.java:214)\nE/AndroidRuntime:     at android.app.ActivityThread.main(ActivityThread.java:7356)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\n     Caused by: java.lang.ClassNotFoundException: Didn't find class \"android.fragment.app.FragmentContainerView\" on path: DexPathList[[zip file \"/data/app/com.rizwanqureshi.kevstaxiscanterbury-Nkg-1mQCfbE8I1MoJKHQuA==/base.apk\"],nativeLibraryDirectories=[/data/app/com.rizwanqureshi.kevstaxiscanterbury-Nkg-1mQCfbE8I1MoJKHQuA==/lib/x86, /system/lib, /system/product/lib]]\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:196)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n            ... 32 more\n</code></pre>\n\n<p>The main takeaway is that there is an Error inflating class android.fragment.app.FragmentContainerView and that the issue is at line 50 of the XML.</p>\n\n<p>This is the XML:</p>\n\n<pre><code>&lt;FrameLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".CustomerLogin\" &gt;\n\n\n    &lt;androidx.fragment.app.FragmentContainerView\n        android:id=\"@+id/map\"\n        android:name=\"com.google.android.gms.maps.SupportMapFragment\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"/&gt;\n\n    &lt;RelativeLayout\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"&gt;\n        &lt;LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:id=\"@+id/buttons\"&gt;\n            &lt;Button\n                android:layout_weight=\"1\"\n                android:layout_width=\"0dp\"\n                android:layout_height=\"wrap_content\"\n                android:id=\"@+id/logout\"\n                android:text=\"logout\"\n                tools:ignore=\"ButtonStyle\" /&gt;\n            &lt;Button\n                android:layout_weight=\"1\"\n                android:layout_width=\"0dp\"\n                android:layout_height=\"wrap_content\"\n                android:id=\"@+id/history\"\n                android:text=\"history\"\n                tools:ignore=\"ButtonStyle\" /&gt;\n            &lt;Button\n                android:layout_weight=\"1\"\n                android:layout_width=\"0dp\"\n                android:layout_height=\"wrap_content\"\n                android:id=\"@+id/settings\"\n                android:text=\"Settings\"\n                tools:ignore=\"ButtonStyle\" /&gt;\n        &lt;/LinearLayout&gt;\n\n        &lt;androidx.cardview.widget.CardView\n            android:layout_below=\"@+id/buttons\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_margin=\"20sp\"&gt;\n\n\n\n//***LINE 50 WHERE THE ERROR IS***\n\n\n\n            &lt;android.fragment.app.FragmentContainerView\n                android:id=\"@+id/place_autocomplete_fragment\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                tools:ignore=\"ExtraText\"&gt;\n                android:name=\"com.google.android.gms.location.places.ui.PlaceAutocompleteFragment\"\n            &lt;/android.fragment.app.FragmentContainerView&gt;\n        &lt;/androidx.cardview.widget.CardView&gt;\n    &lt;/RelativeLayout&gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"vertical\"\n        android:layout_gravity=\"bottom\"&gt;\n        &lt;LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:id=\"@+id/driverInfo\"\n            android:layout_gravity=\"bottom\"\n            android:orientation=\"horizontal\"\n            android:background=\"@android:color/white\"\n            android:visibility=\"gone\"&gt;\n            &lt;LinearLayout\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:orientation=\"vertical\"\n                android:paddingLeft=\"40sp\"&gt;\n            &lt;/LinearLayout&gt;\n        &lt;/LinearLayout&gt;\n        &lt;LinearLayout\n            android:background=\"@android:color/white\"\n            android:orientation=\"vertical\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"&gt;\n        &lt;/LinearLayout&gt;\n    &lt;/LinearLayout&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p>So I guess there is something wrong with the FragmentContainerView? But i'm not getting any errors in the code and nothing is coming up on Google.</p>\n\n<p>I feel like maybe something is outdated rather than outright incorrect but I haven't a clue.</p>\n\n<p>Thanks for any input.</p>\n"},{"tags":["java","android","bluetooth-lowenergy"],"comments":[{"owner":{"account_id":11064381,"reputation":1063,"user_id":8124605,"display_name":"Risto"},"score":0,"creation_date":1691511904,"post_id":76859739,"comment_id":135500520,"body_markdown":"Welcome to Stack Overflow. After studying your [incomplete source code](https://stackoverflow.com/help/minimal-reproducible-example) example, I think it is most likely that your application simply lacks the necessary rights to fulfil its function, or is there a good reason why you commented out the most important part and replaced it with a return?","body":"Welcome to Stack Overflow. After studying your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">incomplete source code</a> example, I think it is most likely that your application simply lacks the necessary rights to fulfil its function, or is there a good reason why you commented out the most important part and replaced it with a return?"},{"owner":{"account_id":5131367,"reputation":10939,"user_id":4111447,"accept_rate":59,"display_name":"Tomer Shemesh"},"score":0,"creation_date":1691523884,"post_id":76859739,"comment_id":135502635,"body_markdown":"You will need to share a lot more infomration. What device are you trying to control over bluetooth? Can you provide the spec you are trying to follow? \n\nWithout this info it will be impossible to help.","body":"You will need to share a lot more infomration. What device are you trying to control over bluetooth? Can you provide the spec you are trying to follow?   Without this info it will be impossible to help."},{"owner":{"account_id":29184680,"reputation":1,"user_id":22358104,"display_name":"Hayjyo"},"score":0,"creation_date":1691555676,"post_id":76859739,"comment_id":135505846,"body_markdown":"trying to control portable battery via bluetooth .In the device setting we have an option called brightness ,that brightness want to change based on the code for that we are passing payload to the device and for getting the characterics in bytes format.","body":"trying to control portable battery via bluetooth .In the device setting we have an option called brightness ,that brightness want to change based on the code for that we are passing payload to the device and for getting the characterics in bytes format."}],"owner":{"account_id":29184680,"reputation":1,"user_id":22358104,"display_name":"Hayjyo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691499016,"creation_date":1691499016,"question_id":76859739,"body_markdown":"Trying to changing the brightness of the device but status we are getting as a success .\r\nBut device brightness is not responding.\r\n\r\nCan any one help on the issue\r\n\r\n```\r\n public void sendCommands(BluetoothGatt gatt) throws JSONException {\r\n\r\n        if (bluetoothGatt != null) {\r\n\r\n            List&lt;BluetoothGattService&gt; gattServices = bluetoothGatt.getServices();\r\n\r\n            if (2 == BluetoothProfile.STATE_CONNECTED) // BLE Is connected after provision as ghatt is connected.\r\n            {\r\n                if (ActivityCompat.checkSelfPermission(activity, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\r\n                   \r\n                    return;\r\n                }\r\n                gatt.requestMtu(512);\r\n\r\n                for (int i = 0; i &lt; gattServices.size(); i++) {\r\n                    String serviceUUID = gattServices.get(i).getUuid().toString();\r\n                    if (serviceUUID.equalsIgnoreCase(SERVICE_GUID)) {\r\n                        List&lt;BluetoothGattCharacteristic&gt; gattCharacteristics = gattServices.get(i).getCharacteristics();\r\n                        for (BluetoothGattCharacteristic gattCharacteristic :\r\n                                gattCharacteristics) {\r\n                            final String uuid = gattCharacteristic.getUuid().toString();\r\n                            if (uuid.equalsIgnoreCase(TX_CHAR_GUID)) {\r\n                                 String jsonString = &quot;{&#39;i&#39;: 1, &#39;v&#39;: 1, &#39;t&#39;: 8, &#39;s&#39;: &#39;dbri&#39;, &#39;n&#39;: 70}&quot;;\r\n                                 \r\n                                byte[] payload = jsonString.getBytes();\r\n                                gattCharacteristic.setValue(payload+&quot;\\r\\n&quot;);\r\n                                if (ActivityCompat.checkSelfPermission(activity, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\r\n                                    // TODO: Consider calling\r\n                                    //    ActivityCompat#requestPermissions\r\n                                    // here to request the missing permissions, and then overriding\r\n                                    //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n                                    //                                          int[] grantResults)\r\n                                    // to handle the case where the user grants the permission. See the documentation\r\n                                    // for ActivityCompat#requestPermissions for more details.\r\n                                    return;\r\n                                }\r\n                                gatt.writeCharacteristic(gattCharacteristic);\r\n                            }\r\n                        }\r\n               }\r\n         }\r\n    }\r\n```\r\n\r\nexpecting to change the brightness of the device","title":"Changing brightness of the device using BLE in android","body":"<p>Trying to changing the brightness of the device but status we are getting as a success .\nBut device brightness is not responding.</p>\n<p>Can any one help on the issue</p>\n<pre><code> public void sendCommands(BluetoothGatt gatt) throws JSONException {\n\n        if (bluetoothGatt != null) {\n\n            List&lt;BluetoothGattService&gt; gattServices = bluetoothGatt.getServices();\n\n            if (2 == BluetoothProfile.STATE_CONNECTED) // BLE Is connected after provision as ghatt is connected.\n            {\n                if (ActivityCompat.checkSelfPermission(activity, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\n                   \n                    return;\n                }\n                gatt.requestMtu(512);\n\n                for (int i = 0; i &lt; gattServices.size(); i++) {\n                    String serviceUUID = gattServices.get(i).getUuid().toString();\n                    if (serviceUUID.equalsIgnoreCase(SERVICE_GUID)) {\n                        List&lt;BluetoothGattCharacteristic&gt; gattCharacteristics = gattServices.get(i).getCharacteristics();\n                        for (BluetoothGattCharacteristic gattCharacteristic :\n                                gattCharacteristics) {\n                            final String uuid = gattCharacteristic.getUuid().toString();\n                            if (uuid.equalsIgnoreCase(TX_CHAR_GUID)) {\n                                 String jsonString = &quot;{'i': 1, 'v': 1, 't': 8, 's': 'dbri', 'n': 70}&quot;;\n                                 \n                                byte[] payload = jsonString.getBytes();\n                                gattCharacteristic.setValue(payload+&quot;\\r\\n&quot;);\n                                if (ActivityCompat.checkSelfPermission(activity, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\n                                    // TODO: Consider calling\n                                    //    ActivityCompat#requestPermissions\n                                    // here to request the missing permissions, and then overriding\n                                    //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n                                    //                                          int[] grantResults)\n                                    // to handle the case where the user grants the permission. See the documentation\n                                    // for ActivityCompat#requestPermissions for more details.\n                                    return;\n                                }\n                                gatt.writeCharacteristic(gattCharacteristic);\n                            }\n                        }\n               }\n         }\n    }\n</code></pre>\n<p>expecting to change the brightness of the device</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":11905672,"reputation":119,"user_id":8712292,"display_name":"Haniyeh Ehsaninejad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691498758,"creation_date":1691498758,"answer_id":76859712,"question_id":76852505,"body_markdown":"In my opinion, you can&#39;t pass data to your view model in order to be observed in a specific fragment while some other fragments are observing to that live data too. I suggest to define separate live data objects to observe them from different fragments.","title":"How to pass the data to Specific fragment in Android Using ViewModel","body":"<p>In my opinion, you can't pass data to your view model in order to be observed in a specific fragment while some other fragments are observing to that live data too. I suggest to define separate live data objects to observe them from different fragments.</p>\n"}],"owner":{"account_id":10825243,"reputation":643,"user_id":7961334,"display_name":"vinayak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691498758,"creation_date":1691417085,"question_id":76852505,"body_markdown":"Question : \r\n\r\ncase 1 : I want to send data from Fragment A to FragmentB and dont want to observe value in FragmentC.\r\n\r\ncase 2 : I want to send data from Fragment A to FragmentC and dont want to observe value in FragmentB.\r\n\r\n\r\nActual Output :\r\n\r\ncase 1 : after sending data from FragmentA to FragmentB through \r\n         ViewModel but FragmentC also observed.\r\n\r\nExpected Output :\r\n\r\ncase 1 : I want to pass data from FragmentA to FragmentB and i dont to \r\n         observe in FragmentC.\r\n        \r\n\r\n```\r\nIn MainActivity.java\r\n\r\n        BlankFragment1  frg=new BlankFragment1();\r\n        BlankFragment2 frg1=new BlankFragment2();\r\n        BlankFragment3 frg2=new BlankFragment3();\r\n        FragmentManager manager=getSupportFragmentManager();\r\n        FragmentTransaction transaction=manager.beginTransaction();\r\n        transaction.add(R.id.f1, frg, &quot;Frag_Top_tag&quot;);\r\n        transaction.add(R.id.f2, frg1, &quot;Frag_Middle_tag&quot;);\r\n        transaction.add(R.id.f3, frg2, &quot;Frag_Bottom_tag&quot;);\r\n        transaction.commit();\r\n```\r\n\r\n\r\n```\r\nMyViewModel.java\r\n\r\npublic class MyViewModel extends ViewModel {\r\n\r\n    private final SavedStateHandle state;\r\n    private final MutableLiveData&lt;String&gt; messageContainerA;\r\n\r\n    public MyViewModel(SavedStateHandle state) {\r\n        this.state = state;\r\n\r\n        messageContainerA = state.getLiveData(&quot;Default Message A&quot;);\r\n    }\r\n\r\n    \r\n    public void sendMessageToA(String msg)\r\n    {\r\n        messageContainerA.setValue(msg);\r\n\r\n    }\r\n    public LiveData&lt;String&gt; getMessageContainerA() {\r\n        return messageContainerA;\r\n    }\r\n\r\n    \r\n}\r\n```\r\n\r\n```\r\nIn FragmentA\r\n\r\n\r\n\r\nMyViewModel pagerAgentViewModel = new ViewModelProvider(getActivity()).get(MyViewModel.class);\r\n        binding.button4.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                pagerAgentViewModel.sendMessageToA(binding.editTextTextPersonName.getText().toString());\r\n            }\r\n        });\r\n```\r\n\r\n\r\n```\r\nIn FragmentB\r\n\r\n\r\n MyViewModel pagerAgentViewModel = new ViewModelProvider(getActivity().).get(MyViewModel.class);\r\n        pagerAgentViewModel.getMessageContainerA().observe(getViewLifecycleOwner(), binding.button3::setText);\r\n```\r\n\r\n\r\n```\r\nIn FragmentC\r\n\r\n\r\n\r\nMyViewModel pagerAgentViewModel = new ViewModelProvider(getActivity()).get(MyViewModel.class);\r\n        pagerAgentViewModel.getMessageContainerA().observe(getViewLifecycleOwner(), binding.tvb3::setText);\r\n\r\n```\r\n\r\n\r\n\r\nanyone please help me through this.\r\n\r\nThanks in Andvance.","title":"How to pass the data to Specific fragment in Android Using ViewModel","body":"<p>Question :</p>\n<p>case 1 : I want to send data from Fragment A to FragmentB and dont want to observe value in FragmentC.</p>\n<p>case 2 : I want to send data from Fragment A to FragmentC and dont want to observe value in FragmentB.</p>\n<p>Actual Output :</p>\n<p>case 1 : after sending data from FragmentA to FragmentB through\nViewModel but FragmentC also observed.</p>\n<p>Expected Output :</p>\n<p>case 1 : I want to pass data from FragmentA to FragmentB and i dont to\nobserve in FragmentC.</p>\n<pre><code>In MainActivity.java\n\n        BlankFragment1  frg=new BlankFragment1();\n        BlankFragment2 frg1=new BlankFragment2();\n        BlankFragment3 frg2=new BlankFragment3();\n        FragmentManager manager=getSupportFragmentManager();\n        FragmentTransaction transaction=manager.beginTransaction();\n        transaction.add(R.id.f1, frg, &quot;Frag_Top_tag&quot;);\n        transaction.add(R.id.f2, frg1, &quot;Frag_Middle_tag&quot;);\n        transaction.add(R.id.f3, frg2, &quot;Frag_Bottom_tag&quot;);\n        transaction.commit();\n</code></pre>\n<pre><code>MyViewModel.java\n\npublic class MyViewModel extends ViewModel {\n\n    private final SavedStateHandle state;\n    private final MutableLiveData&lt;String&gt; messageContainerA;\n\n    public MyViewModel(SavedStateHandle state) {\n        this.state = state;\n\n        messageContainerA = state.getLiveData(&quot;Default Message A&quot;);\n    }\n\n    \n    public void sendMessageToA(String msg)\n    {\n        messageContainerA.setValue(msg);\n\n    }\n    public LiveData&lt;String&gt; getMessageContainerA() {\n        return messageContainerA;\n    }\n\n    \n}\n</code></pre>\n<pre><code>In FragmentA\n\n\n\nMyViewModel pagerAgentViewModel = new ViewModelProvider(getActivity()).get(MyViewModel.class);\n        binding.button4.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                pagerAgentViewModel.sendMessageToA(binding.editTextTextPersonName.getText().toString());\n            }\n        });\n</code></pre>\n<pre><code>In FragmentB\n\n\n MyViewModel pagerAgentViewModel = new ViewModelProvider(getActivity().).get(MyViewModel.class);\n        pagerAgentViewModel.getMessageContainerA().observe(getViewLifecycleOwner(), binding.button3::setText);\n</code></pre>\n<pre><code>In FragmentC\n\n\n\nMyViewModel pagerAgentViewModel = new ViewModelProvider(getActivity()).get(MyViewModel.class);\n        pagerAgentViewModel.getMessageContainerA().observe(getViewLifecycleOwner(), binding.tvb3::setText);\n\n</code></pre>\n<p>anyone please help me through this.</p>\n<p>Thanks in Andvance.</p>\n"},{"tags":["java","multithreading","asynchronous","refactoring","runnable"],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680290758,"creation_date":1680290758,"answer_id":75902099,"question_id":75901867,"body_markdown":"You aren&#39;t making or sub-classing Threads you should be making Runnables (also look at Future, Callable, Exectutor and thread pools).\r\n\r\n    abstract class AbstractBookSearcher&lt;ParamType&gt; implements Runnable {\r\n        private final ParamType searchParam;\r\n        AbstractBookSearcher(ParamType searchParam) {\r\n            this.searchParam = searchParam;\r\n        }\r\n        public void run() throws Exception {\r\n            try {\r\n                List&lt;BookResponse&gt; matches = search(searchParam);\r\n                synchronized (allMatches) {\r\n                    allMatches.addAll(matches);\r\n                }\r\n            } catch (Exception e) {\r\n                throw new CustomException(e);\r\n            }\r\n        }\r\n        protected abstract List&lt;BookResponse&gt; search(ParamType searchParam);\r\n    }\r\n\r\nThen sub-class that:\r\n\r\n    class BookNameSearcher extends AbstractBookSearcher&lt;String&gt; {\r\n        protected abstract List&lt;BookResponse&gt; search(String searchParam) {\r\n            return fetchMethod(searchParam);\r\n        }\r\n    }\r\n\r\nor:\r\n\r\n    class BookContentSearcher extends AbstractBookSearcher&lt;Integer&gt; {\r\n        protected abstract List&lt;BookResponse&gt; search(Integer searchParam) {\r\n            return differentFetchMethod(searchParam);\r\n        }\r\n    }\r\n\r\nThen you can start the threads with the custom and type safe runnables, with the search parameters that you want:\r\n\r\n    new Thread(new BookNameSearcher(someMethod()));\r\n    new Thread(new BookContentSearcher(anyMethod()));","title":"Can i encapsulate the creation of similar threads into a method?","body":"<p>You aren't making or sub-classing Threads you should be making Runnables (also look at Future, Callable, Exectutor and thread pools).</p>\n<pre><code>abstract class AbstractBookSearcher&lt;ParamType&gt; implements Runnable {\n    private final ParamType searchParam;\n    AbstractBookSearcher(ParamType searchParam) {\n        this.searchParam = searchParam;\n    }\n    public void run() throws Exception {\n        try {\n            List&lt;BookResponse&gt; matches = search(searchParam);\n            synchronized (allMatches) {\n                allMatches.addAll(matches);\n            }\n        } catch (Exception e) {\n            throw new CustomException(e);\n        }\n    }\n    protected abstract List&lt;BookResponse&gt; search(ParamType searchParam);\n}\n</code></pre>\n<p>Then sub-class that:</p>\n<pre><code>class BookNameSearcher extends AbstractBookSearcher&lt;String&gt; {\n    protected abstract List&lt;BookResponse&gt; search(String searchParam) {\n        return fetchMethod(searchParam);\n    }\n}\n</code></pre>\n<p>or:</p>\n<pre><code>class BookContentSearcher extends AbstractBookSearcher&lt;Integer&gt; {\n    protected abstract List&lt;BookResponse&gt; search(Integer searchParam) {\n        return differentFetchMethod(searchParam);\n    }\n}\n</code></pre>\n<p>Then you can start the threads with the custom and type safe runnables, with the search parameters that you want:</p>\n<pre><code>new Thread(new BookNameSearcher(someMethod()));\nnew Thread(new BookContentSearcher(anyMethod()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691498410,"creation_date":1690183598,"answer_id":76752236,"question_id":75901867,"body_markdown":"A java 8&#39;s lambda function can be put to use to avoid strong binding of no of parameters and its type.\r\n\r\nWe need to make the `fetchMethod(String someParam)` with varying number of arguments of different types.\r\n\r\n    fetchMethod(int someParam, String someParam2)\r\n\r\n```\r\n    private void executeAllThreads() {\r\n        List&lt;BookResponse&gt; allMatches = Collections.synchronizedList(new ArrayList&lt;&gt;());\r\n        List&lt;Thread&gt; threads = new ArrayList&lt;&gt;();\r\n\r\n        Supplier&lt;List&lt;BookResponse&gt;&gt; searchBookNameSupplier = ()-&gt;fetchMethod(5);\r\n        Thread searchBookName = getThread(searchBookNameSupplier, allMatches);\r\n        threads.add(searchBookName);\r\n        searchBookName.start();\r\n\r\n        Supplier&lt;List&lt;BookResponse&gt;&gt; bookResponseSupplier = ()-&gt;differentFetchMethod(&quot;stringParam&quot;);\r\n        Thread searchBookContent = getThread(bookResponseSupplier,allMatches);\r\n        threads.add(searchBookContent);\r\n        searchBookContent.start();\r\n\r\n        /*\r\n         *\r\n         *\r\n         * More Threads...\r\n         *\r\n         *\r\n         */\r\n\r\n        for (Thread search : searches) {\r\n            search.join();\r\n        }\r\n    }\r\n\r\n\r\n    private Thread getThread(Supplier&lt;List&lt;BookResponse&gt;&gt; bookResponseSupplier, List&lt;BookResponse&gt; allMatches) {\r\n        Thread thread = new Thread(() -&gt; {\r\n            try {\r\n                List&lt;BookResponse&gt; matches = bookResponseSupplier.get();\r\n                synchronized (allMatches) {\r\n                    allMatches.addAll(matches);\r\n                }\r\n            } catch (Exception e) {\r\n                throw new CustomException(e);\r\n            }\r\n        });\r\n        return thread;\r\n    }\r\n\r\n```\r\nFew more points to consider for refactoring.\r\n- Avoid creating threads manually use Executors threadpool like `Executors.newCacheThreadPool().submit(searchBookName)`\r\n- If you need the list at the very end after fetching all responses,use callable and addAll() after `join()ing` all threads,to avoid using synchronizedList\r\n","title":"Can i encapsulate the creation of similar threads into a method?","body":"<p>A java 8's lambda function can be put to use to avoid strong binding of no of parameters and its type.</p>\n<p>We need to make the <code>fetchMethod(String someParam)</code> with varying number of arguments of different types.</p>\n<pre><code>fetchMethod(int someParam, String someParam2)\n</code></pre>\n<pre><code>    private void executeAllThreads() {\n        List&lt;BookResponse&gt; allMatches = Collections.synchronizedList(new ArrayList&lt;&gt;());\n        List&lt;Thread&gt; threads = new ArrayList&lt;&gt;();\n\n        Supplier&lt;List&lt;BookResponse&gt;&gt; searchBookNameSupplier = ()-&gt;fetchMethod(5);\n        Thread searchBookName = getThread(searchBookNameSupplier, allMatches);\n        threads.add(searchBookName);\n        searchBookName.start();\n\n        Supplier&lt;List&lt;BookResponse&gt;&gt; bookResponseSupplier = ()-&gt;differentFetchMethod(&quot;stringParam&quot;);\n        Thread searchBookContent = getThread(bookResponseSupplier,allMatches);\n        threads.add(searchBookContent);\n        searchBookContent.start();\n\n        /*\n         *\n         *\n         * More Threads...\n         *\n         *\n         */\n\n        for (Thread search : searches) {\n            search.join();\n        }\n    }\n\n\n    private Thread getThread(Supplier&lt;List&lt;BookResponse&gt;&gt; bookResponseSupplier, List&lt;BookResponse&gt; allMatches) {\n        Thread thread = new Thread(() -&gt; {\n            try {\n                List&lt;BookResponse&gt; matches = bookResponseSupplier.get();\n                synchronized (allMatches) {\n                    allMatches.addAll(matches);\n                }\n            } catch (Exception e) {\n                throw new CustomException(e);\n            }\n        });\n        return thread;\n    }\n\n</code></pre>\n<p>Few more points to consider for refactoring.</p>\n<ul>\n<li>Avoid creating threads manually use Executors threadpool like <code>Executors.newCacheThreadPool().submit(searchBookName)</code></li>\n<li>If you need the list at the very end after fetching all responses,use callable and addAll() after <code>join()ing</code> all threads,to avoid using synchronizedList</li>\n</ul>\n"}],"owner":{"account_id":28181389,"reputation":45,"user_id":21538342,"display_name":"Patrick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75902099,"answer_count":2,"score":1,"last_activity_date":1691498410,"creation_date":1680288838,"question_id":75901867,"body_markdown":"I&#39;m writing a search function that is doing multiple API calls that i would like to execute asynchronous and collect their results. All my threads with their runnables look similar which made we wonder if i could encapsulate the those threads into a method since only 2 lines change per thread.\r\n\r\nIt looks similar to this:\r\n\r\n```\r\nList&lt;BookResponse&gt; allMatches = Collections.synchronizedList(new ArrayList&lt;&gt;());\r\nList&lt;Thread&gt; threads = new ArrayList&lt;&gt;();\r\n\r\nThread searchBookName = new Thread(() -&gt; {\r\n\ttry {\r\n\t\tString someParam = someMethod();\r\n\t\tList&lt;BookResponse&gt; matches = fetchMethod(someParam);\r\n\t\tsynchronized (allMatches) {\r\n\t\t\tallMatches.addAll(matches);\r\n\t\t}\r\n\t} catch (Exception e) {\r\n\t\tthrow new CustomException(e);\r\n\t}\r\n});\r\nthreads.add(searchBookName);\r\nsearchBookName.start();\r\n\r\nThread searchBookContent = new Thread(() -&gt; {\r\n\ttry {\r\n\t\tint intParam = anyMethod();\r\n\t\tList&lt;BookResponse&gt; matches = differentFetchMethod(intParam);\r\n\t\tsynchronized (allMatches) {\r\n\t\t\tallMatches.addAll(matches);\r\n\t\t}\r\n\t} catch (Exception e) {\r\n\t\tthrow new CustomException(e);\r\n\t}\r\n});\r\nthreads.add(searchBookContent);\r\nsearchBookContent.start();\r\n\r\n/*\r\n*\r\n*\r\n* More Threads...\r\n*\r\n*\r\n*/\r\n\r\nfor (Thread search : searches) {\r\n\tsearch.join();\r\n}\r\n\r\nreturn new ResponseEntity&lt;List&lt;BookResponse&gt;&gt;(allMatches, HttpStatus.OK);\r\n```\r\n\r\nThese thread blocks take up a lot of space in the code and are very repetetive, they are made in this pattern with only the 2 commented lines changing:\r\n\r\n```\r\nThread searchSomething = new Thread(() -&gt; {\r\n\ttry {\r\n\t\t//Always 1 method call for a param, params are different types\r\n\t\t//Always 1 api call giving back results\r\n\t\tsynchronized (allMatches) {\r\n\t\t\tallMatches.addAll(matches);\r\n\t\t}\r\n\t} catch (Exception e) {\r\n\t\tthrow new CustomException(e);\r\n\t}\r\n});\r\nthreads.add(searchSomething);\r\nsearchSomething.start();\r\n```\r\n\r\nI tried to come up with an interface to solve this, but i end up having to implements those 2 lines of code anyways somehow, so i that didn&#39;t make the code any cleaner.","title":"Can i encapsulate the creation of similar threads into a method?","body":"<p>I'm writing a search function that is doing multiple API calls that i would like to execute asynchronous and collect their results. All my threads with their runnables look similar which made we wonder if i could encapsulate the those threads into a method since only 2 lines change per thread.</p>\n<p>It looks similar to this:</p>\n<pre><code>List&lt;BookResponse&gt; allMatches = Collections.synchronizedList(new ArrayList&lt;&gt;());\nList&lt;Thread&gt; threads = new ArrayList&lt;&gt;();\n\nThread searchBookName = new Thread(() -&gt; {\n    try {\n        String someParam = someMethod();\n        List&lt;BookResponse&gt; matches = fetchMethod(someParam);\n        synchronized (allMatches) {\n            allMatches.addAll(matches);\n        }\n    } catch (Exception e) {\n        throw new CustomException(e);\n    }\n});\nthreads.add(searchBookName);\nsearchBookName.start();\n\nThread searchBookContent = new Thread(() -&gt; {\n    try {\n        int intParam = anyMethod();\n        List&lt;BookResponse&gt; matches = differentFetchMethod(intParam);\n        synchronized (allMatches) {\n            allMatches.addAll(matches);\n        }\n    } catch (Exception e) {\n        throw new CustomException(e);\n    }\n});\nthreads.add(searchBookContent);\nsearchBookContent.start();\n\n/*\n*\n*\n* More Threads...\n*\n*\n*/\n\nfor (Thread search : searches) {\n    search.join();\n}\n\nreturn new ResponseEntity&lt;List&lt;BookResponse&gt;&gt;(allMatches, HttpStatus.OK);\n</code></pre>\n<p>These thread blocks take up a lot of space in the code and are very repetetive, they are made in this pattern with only the 2 commented lines changing:</p>\n<pre><code>Thread searchSomething = new Thread(() -&gt; {\n    try {\n        //Always 1 method call for a param, params are different types\n        //Always 1 api call giving back results\n        synchronized (allMatches) {\n            allMatches.addAll(matches);\n        }\n    } catch (Exception e) {\n        throw new CustomException(e);\n    }\n});\nthreads.add(searchSomething);\nsearchSomething.start();\n</code></pre>\n<p>I tried to come up with an interface to solve this, but i end up having to implements those 2 lines of code anyways somehow, so i that didn't make the code any cleaner.</p>\n"},{"tags":["java","android","firebase","firebase-authentication"],"comments":[{"owner":{"account_id":8261041,"reputation":2490,"user_id":6212446,"accept_rate":57,"display_name":"M.Waqas Pervez"},"score":0,"creation_date":1472473885,"post_id":39206299,"comment_id":65751577,"body_markdown":"try this solution: http://stackoverflow.com/questions/37360126/getting-exception-java-lang-noclassdeffounderror-com-google-firebase-firebaseop","body":"try this solution: <a href=\"http://stackoverflow.com/questions/37360126/getting-exception-java-lang-noclassdeffounderror-com-google-firebase-firebaseop\" title=\"getting exception java lang noclassdeffounderror com google firebase firebaseop\">stackoverflow.com/questions/37360126/&hellip;</a>"},{"owner":{"account_id":5913122,"reputation":2721,"user_id":4652688,"accept_rate":44,"display_name":"vipin agrahari"},"score":1,"creation_date":1472474007,"post_id":39206299,"comment_id":65751660,"body_markdown":"Where is your code","body":"Where is your code"},{"owner":{"account_id":7770691,"reputation":812,"user_id":5880384,"display_name":"azsoftco"},"score":1,"creation_date":1472479383,"post_id":39206299,"comment_id":65755302,"body_markdown":"Thanks, but not working!","body":"Thanks, but not working!"},{"owner":{"account_id":6179883,"reputation":37889,"user_id":4815718,"accept_rate":100,"display_name":"Bob Snyder"},"score":0,"creation_date":1472479766,"post_id":39206299,"comment_id":65755565,"body_markdown":"Post the dependencies section of your build.gradle file.","body":"Post the dependencies section of your build.gradle file."},{"owner":{"account_id":5282912,"reputation":552,"user_id":4663544,"display_name":"Jeba Ranganathan"},"score":1,"creation_date":1475782591,"post_id":39206299,"comment_id":67094000,"body_markdown":"This worked for me http://stackoverflow.com/a/38224316/4663544","body":"This worked for me <a href=\"http://stackoverflow.com/a/38224316/4663544\">stackoverflow.com/a/38224316/4663544</a>"},{"owner":{"account_id":4964392,"reputation":8402,"user_id":3994271,"accept_rate":36,"display_name":"Ayan"},"score":0,"creation_date":1476440458,"post_id":39206299,"comment_id":67357174,"body_markdown":"I faced exactly the same problem,and got it solved using http://stackoverflow.com/a/40040720/3994271","body":"I faced exactly the same problem,and got it solved using <a href=\"http://stackoverflow.com/a/40040720/3994271\">stackoverflow.com/a/40040720/3994271</a>"},{"owner":{"account_id":10217567,"reputation":9015,"user_id":7542765,"accept_rate":81,"display_name":"Levon Petrosyan"},"score":0,"creation_date":1556592366,"post_id":39206299,"comment_id":98481025,"body_markdown":"See my answer here https://stackoverflow.com/questions/39825543/didnt-find-class-com-google-firebase-provider-firebaseinitprovider/55913295#55913295","body":"See my answer here <a href=\"https://stackoverflow.com/questions/39825543/didnt-find-class-com-google-firebase-provider-firebaseinitprovider/55913295#55913295\" title=\"didnt find class com google firebase provider firebaseinitprovider\">stackoverflow.com/questions/39825543/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":358820,"reputation":3249,"user_id":699838,"accept_rate":44,"display_name":"Lee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472545396,"creation_date":1472545396,"answer_id":39222322,"question_id":39206299,"body_markdown":"I&#39;m having the same issue, what i did is uninstall the app from device/emulator, and then, reinstall it again (from Android Studio, &#39;run&#39; button).","title":"&quot;Unable to get provider com.google.firebase.provider.FirebaseInitProvider&quot; Error path Android","body":"<p>I'm having the same issue, what i did is uninstall the app from device/emulator, and then, reinstall it again (from Android Studio, 'run' button).</p>\n"},{"tags":[],"owner":{"account_id":3579917,"reputation":281,"user_id":2988369,"display_name":"Antonio"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1536576102,"creation_date":1480193282,"answer_id":40822987,"question_id":39206299,"body_markdown":"In AndroidStudio try to do this:\r\n\r\n&gt;  1. ctrl+alt+s\r\n&gt;  2. Click on &quot;Build, Execution, Deployment\r\n&gt;  3. disable &quot;Instant Run&quot;\r\n\r\nThis should work\r\n","title":"&quot;Unable to get provider com.google.firebase.provider.FirebaseInitProvider&quot; Error path Android","body":"<p>In AndroidStudio try to do this:</p>\n\n<blockquote>\n  <ol>\n  <li>ctrl+alt+s</li>\n  <li>Click on \"Build, Execution, Deployment</li>\n  <li>disable \"Instant Run\"</li>\n  </ol>\n</blockquote>\n\n<p>This should work</p>\n"},{"tags":[],"owner":{"account_id":4872280,"reputation":2731,"user_id":3928344,"accept_rate":56,"display_name":"Garg"},"down_vote_count":0,"up_vote_count":84,"is_accepted":true,"score":84,"last_activity_date":1483450305,"creation_date":1483449584,"answer_id":41444469,"question_id":39206299,"body_markdown":"I have also faced same problem with Firebase when run application below API 19(&lt; 4.4.2) devices due to error of `Multidex`. Then below **solution** work for me:  \r\n\r\nIn app module build.gradle\r\n\r\n    android {\r\n       ...\r\n       defaultConfig {\r\n           multiDexEnabled true\r\n           ...\r\n       }\r\n    }\r\n\r\n    dependencies {\r\n      // add dependency \r\n      compile &#39;com.android.support:multidex:1.0.1&#39;\r\n    }\r\n\r\n    // ADD THIS AT THE BOTTOM\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n \r\nupdate name in AndroidManifest.xml\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:name=&quot;.MyApplication&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n\r\n         // ...\r\n    &lt;/application&gt;\r\n\r\nCrate a MyApplication.java file\r\n\r\n    public class MyApplication extends Application {\r\n\r\n        @Override\r\n        protected void attachBaseContext(Context base) {\r\n           super.attachBaseContext(base);\r\n           MultiDex.install(this);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n    \r\n","title":"&quot;Unable to get provider com.google.firebase.provider.FirebaseInitProvider&quot; Error path Android","body":"<p>I have also faced same problem with Firebase when run application below API 19(&lt; 4.4.2) devices due to error of <code>Multidex</code>. Then below <strong>solution</strong> work for me:  </p>\n\n<p>In app module build.gradle</p>\n\n<pre><code>android {\n   ...\n   defaultConfig {\n       multiDexEnabled true\n       ...\n   }\n}\n\ndependencies {\n  // add dependency \n  compile 'com.android.support:multidex:1.0.1'\n}\n\n// ADD THIS AT THE BOTTOM\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p>update name in AndroidManifest.xml</p>\n\n<pre><code>&lt;application\n    android:allowBackup=\"true\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:supportsRtl=\"true\"\n    android:name=\".MyApplication\"\n    android:theme=\"@style/AppTheme\"&gt;\n\n     // ...\n&lt;/application&gt;\n</code></pre>\n\n<p>Crate a MyApplication.java file</p>\n\n<pre><code>public class MyApplication extends Application {\n\n    @Override\n    protected void attachBaseContext(Context base) {\n       super.attachBaseContext(base);\n       MultiDex.install(this);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9899498,"reputation":657,"user_id":7329933,"display_name":"sats"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1489823498,"creation_date":1489820644,"answer_id":42871545,"question_id":39206299,"body_markdown":"If you have recently changed the firebase dependency version in your gradle you may need to update to the latest version of Google Repository in the Android SDK manager as well.\r\n\r\nIf you cannot update the Google Repository at the time, try changing the gradle dependency version back to lower.","title":"&quot;Unable to get provider com.google.firebase.provider.FirebaseInitProvider&quot; Error path Android","body":"<p>If you have recently changed the firebase dependency version in your gradle you may need to update to the latest version of Google Repository in the Android SDK manager as well.</p>\n\n<p>If you cannot update the Google Repository at the time, try changing the gradle dependency version back to lower.</p>\n"},{"tags":[],"owner":{"account_id":11396097,"reputation":25,"user_id":8354462,"display_name":"Vishalpari Goswami"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1500849904,"creation_date":1500842123,"answer_id":45269681,"question_id":39206299,"body_markdown":"Just insert below lines in your project `AndroidManifest.xml` file,\r\nif they&#39;re not in **application** tag\r\n\r\n    &lt;meta-data\r\n            android:name=&quot;com.google.android.gms.version&quot;\r\n            android:value=&quot;@integer/google_play_services_version&quot; /&gt;","title":"&quot;Unable to get provider com.google.firebase.provider.FirebaseInitProvider&quot; Error path Android","body":"<p>Just insert below lines in your project <code>AndroidManifest.xml</code> file,\nif they're not in <strong>application</strong> tag</p>\n\n<pre><code>&lt;meta-data\n        android:name=\"com.google.android.gms.version\"\n        android:value=\"@integer/google_play_services_version\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15193300,"reputation":71,"user_id":10963423,"display_name":"Chris M"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1548352654,"creation_date":1548352654,"answer_id":54352769,"question_id":39206299,"body_markdown":"Disabling instant run fixed the issue for me.\r\n\r\nAndroid Studio -&gt; Preferences -&gt; Build, Execution, Deployment -&gt; Instant Run\r\n\r\n-Uncheck the box next to &quot;Enable Instant Run...&quot;\r\n\r\n-Click OK","title":"&quot;Unable to get provider com.google.firebase.provider.FirebaseInitProvider&quot; Error path Android","body":"<p>Disabling instant run fixed the issue for me.</p>\n\n<p>Android Studio -> Preferences -> Build, Execution, Deployment -> Instant Run</p>\n\n<p>-Uncheck the box next to \"Enable Instant Run...\"</p>\n\n<p>-Click OK</p>\n"}],"owner":{"account_id":7770691,"reputation":812,"user_id":5880384,"display_name":"azsoftco"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48866,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":41444469,"answer_count":6,"score":31,"last_activity_date":1691498334,"creation_date":1472473495,"question_id":39206299,"body_markdown":"I have an Application which is connected to firebase.The problem is when install the app in device(working on several devices).I read a lot of forums and no one works.I read [here][1] and [this][2] and so on.Thanks!!\r\n\r\nThe error is here.\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n                  Process: com.dev.ptruck, PID: 8833\r\n                  java.lang.RuntimeException: Unable to get provider com.google.firebase.provider.FirebaseInitProvider: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.google.firebase.provider.FirebaseInitProvider&quot; on path: DexPathList[[zip file &quot;/data/app/com.dev.ptruck-17.apk&quot;],nativeLibraryDirectories=[/data/app-lib/com.dev.ptruck-17, /vendor/lib, /system/lib]]\r\n                      at android.app.ActivityThread.installProvider(ActivityThread.java:5196)\r\n                      at android.app.ActivityThread.installContentProviders(ActivityThread.java:4788)\r\n                      at android.app.ActivityThread.handleBindApplication(ActivityThread.java:4728)\r\n                      at android.app.ActivityThread.access$1500(ActivityThread.java:166)\r\n                      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1343)\r\n                      at android.os.Handler.dispatchMessage(Handler.java:102)\r\n                      at android.os.Looper.loop(Looper.java:136)\r\n                      at android.app.ActivityThread.main(ActivityThread.java:5584)\r\n                      at java.lang.reflect.Method.invokeNative(Native Method)\r\n                      at java.lang.reflect.Method.invoke(Method.java:515)\r\n                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1268)\r\n                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1084)\r\n                      at dalvik.system.NativeStart.main(Native Method)\r\n                   Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.google.firebase.provider.FirebaseInitProvider&quot; on path: DexPathList[[zip file &quot;/data/app/com.dev.ptruck-17.apk&quot;],nativeLibraryDirectories=[/data/app-lib/com.dev.ptruck-17, /vendor/lib, /system/lib]]\r\n                      at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:56)\r\n                      at java.lang.ClassLoader.loadClass(ClassLoader.java:497)\r\n                      at java.lang.ClassLoader.loadClass(ClassLoader.java:457)\r\n                      at android.app.ActivityThread.installProvider(ActivityThread.java:5181)\r\n                      at android.app.ActivityThread.installContentProviders(ActivityThread.java:4788)&#160;\r\n                      at android.app.ActivityThread.handleBindApplication(ActivityThread.java:4728)&#160;\r\n                      at android.app.ActivityThread.access$1500(ActivityThread.java:166)&#160;\r\n                      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1343)&#160;\r\n                      at android.os.Handler.dispatchMessage(Handler.java:102)&#160;\r\n                      at android.os.Looper.loop(Looper.java:136)&#160;\r\n                      at android.app.ActivityThread.main(ActivityThread.java:5584)&#160;\r\n                      at java.lang.reflect.Method.invokeNative(Native Method)&#160;\r\n                      at java.lang.reflect.Method.invoke(Method.java:515)&#160;\r\n                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1268)&#160;\r\n                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1084)&#160;\r\n                      at dalvik.system.NativeStart.main(Native Method)&#160;\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/37328890/android-firebase-dynamitemodule-failed-to-load-module-descriptor\r\n  [2]: https://stackoverflow.com/questions/37790190/google-map-implementation-in-viewpager-error-unable-to-get-provider-com-google\r\n\r\nHere is the start Class\r\n\r\n    public class StartActivity extends Activity {\r\n    private static final String FIREBASE_URL = &quot;https://database.firebaseio.com/&quot;;\r\n    private Firebase myFirebaseRef = null;\r\n    View rootView;\r\n    String uid;\r\n \r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_start);\r\n\r\n        Firebase.setAndroidContext(this);\r\n        final ProgressBar p = (ProgressBar) findViewById(R.id.start_progress_bar);\r\n\r\n    }\r\n    private void checkUserLogin() {\r\n                        myFirebaseRef.addAuthStateListener(new Firebase.AuthStateListener() {\r\n                            @Override\r\n                            public void onAuthStateChanged(AuthData authData) {\r\n                                if (authData != null) {\r\n\r\n                                    System.out.println(myFirebaseRef.getKey());\r\n                                    Intent toMainActivity = new Intent(getApplicationContext(), MenuActivity.class);\r\n                                    uid = myFirebaseRef.getAuth().getUid();\r\n                                    toMainActivity.putExtra(&quot;user_id&quot;, uid);\r\n                                    finish();\r\n                                    startActivity(toMainActivity);\r\n\r\n                                } else if (authData == null) {\r\n\r\n                                    Intent toMainActivity = new Intent(getApplicationContext(), LoginActivity.class);\r\n                                    startActivity(toMainActivity);\r\n                                    // user is not logged in\r\n                                }\r\n                            }\r\n                        });\r\n    }\r\n    private Runnable task = new Runnable() {\r\n        public void run() {\r\n\r\n            checkUserLogin();\r\n        }\r\n    };\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        if(myFirebaseRef == null) {\r\n            myFirebaseRef = new Firebase(FIREBASE_URL);\r\n        }\r\n        Handler handler = new Handler();\r\n        handler.postDelayed(task, 3000);\r\n       \r\n    }\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n\r\n        unbindDrawables(rootView);\r\n        rootView = null;\r\n        System.gc();\r\n\r\n    }\r\n    protected void unbindDrawables(View view) {\r\n        if (view != null) {\r\n            if (view.getBackground() != null) {\r\n                view.getBackground().setCallback(null);\r\n            }\r\n            if (view instanceof ViewGroup &amp;&amp; !(view instanceof AdapterView)) {\r\n                for (int i = 0; i &lt; ((ViewGroup) view).getChildCount(); i++) {\r\n                    unbindDrawables(((ViewGroup) view).getChildAt(i));\r\n                }\r\n                ((ViewGroup) view).removeAllViews();\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n  \r\n}\r\n\r\n","title":"&quot;Unable to get provider com.google.firebase.provider.FirebaseInitProvider&quot; Error path Android","body":"<p>I have an Application which is connected to firebase.The problem is when install the app in device(working on several devices).I read a lot of forums and no one works.I read <a href=\"https://stackoverflow.com/questions/37328890/android-firebase-dynamitemodule-failed-to-load-module-descriptor\">here</a> and <a href=\"https://stackoverflow.com/questions/37790190/google-map-implementation-in-viewpager-error-unable-to-get-provider-com-google\">this</a> and so on.Thanks!!</p>\n\n<p>The error is here.</p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n              Process: com.dev.ptruck, PID: 8833\n              java.lang.RuntimeException: Unable to get provider com.google.firebase.provider.FirebaseInitProvider: java.lang.ClassNotFoundException: Didn't find class \"com.google.firebase.provider.FirebaseInitProvider\" on path: DexPathList[[zip file \"/data/app/com.dev.ptruck-17.apk\"],nativeLibraryDirectories=[/data/app-lib/com.dev.ptruck-17, /vendor/lib, /system/lib]]\n                  at android.app.ActivityThread.installProvider(ActivityThread.java:5196)\n                  at android.app.ActivityThread.installContentProviders(ActivityThread.java:4788)\n                  at android.app.ActivityThread.handleBindApplication(ActivityThread.java:4728)\n                  at android.app.ActivityThread.access$1500(ActivityThread.java:166)\n                  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1343)\n                  at android.os.Handler.dispatchMessage(Handler.java:102)\n                  at android.os.Looper.loop(Looper.java:136)\n                  at android.app.ActivityThread.main(ActivityThread.java:5584)\n                  at java.lang.reflect.Method.invokeNative(Native Method)\n                  at java.lang.reflect.Method.invoke(Method.java:515)\n                  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1268)\n                  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1084)\n                  at dalvik.system.NativeStart.main(Native Method)\n               Caused by: java.lang.ClassNotFoundException: Didn't find class \"com.google.firebase.provider.FirebaseInitProvider\" on path: DexPathList[[zip file \"/data/app/com.dev.ptruck-17.apk\"],nativeLibraryDirectories=[/data/app-lib/com.dev.ptruck-17, /vendor/lib, /system/lib]]\n                  at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:56)\n                  at java.lang.ClassLoader.loadClass(ClassLoader.java:497)\n                  at java.lang.ClassLoader.loadClass(ClassLoader.java:457)\n                  at android.app.ActivityThread.installProvider(ActivityThread.java:5181)\n                  at android.app.ActivityThread.installContentProviders(ActivityThread.java:4788) \n                  at android.app.ActivityThread.handleBindApplication(ActivityThread.java:4728) \n                  at android.app.ActivityThread.access$1500(ActivityThread.java:166) \n                  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1343) \n                  at android.os.Handler.dispatchMessage(Handler.java:102) \n                  at android.os.Looper.loop(Looper.java:136) \n                  at android.app.ActivityThread.main(ActivityThread.java:5584) \n                  at java.lang.reflect.Method.invokeNative(Native Method) \n                  at java.lang.reflect.Method.invoke(Method.java:515) \n                  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1268) \n                  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1084) \n                  at dalvik.system.NativeStart.main(Native Method) \n</code></pre>\n\n<p>Here is the start Class</p>\n\n<pre><code>public class StartActivity extends Activity {\nprivate static final String FIREBASE_URL = \"https://database.firebaseio.com/\";\nprivate Firebase myFirebaseRef = null;\nView rootView;\nString uid;\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_start);\n\n    Firebase.setAndroidContext(this);\n    final ProgressBar p = (ProgressBar) findViewById(R.id.start_progress_bar);\n\n}\nprivate void checkUserLogin() {\n                    myFirebaseRef.addAuthStateListener(new Firebase.AuthStateListener() {\n                        @Override\n                        public void onAuthStateChanged(AuthData authData) {\n                            if (authData != null) {\n\n                                System.out.println(myFirebaseRef.getKey());\n                                Intent toMainActivity = new Intent(getApplicationContext(), MenuActivity.class);\n                                uid = myFirebaseRef.getAuth().getUid();\n                                toMainActivity.putExtra(\"user_id\", uid);\n                                finish();\n                                startActivity(toMainActivity);\n\n                            } else if (authData == null) {\n\n                                Intent toMainActivity = new Intent(getApplicationContext(), LoginActivity.class);\n                                startActivity(toMainActivity);\n                                // user is not logged in\n                            }\n                        }\n                    });\n}\nprivate Runnable task = new Runnable() {\n    public void run() {\n\n        checkUserLogin();\n    }\n};\n@Override\nprotected void onStart() {\n    super.onStart();\n    if(myFirebaseRef == null) {\n        myFirebaseRef = new Firebase(FIREBASE_URL);\n    }\n    Handler handler = new Handler();\n    handler.postDelayed(task, 3000);\n\n}\n@Override\nprotected void onDestroy() {\n    super.onDestroy();\n\n    unbindDrawables(rootView);\n    rootView = null;\n    System.gc();\n\n}\nprotected void unbindDrawables(View view) {\n    if (view != null) {\n        if (view.getBackground() != null) {\n            view.getBackground().setCallback(null);\n        }\n        if (view instanceof ViewGroup &amp;&amp; !(view instanceof AdapterView)) {\n            for (int i = 0; i &lt; ((ViewGroup) view).getChildCount(); i++) {\n                unbindDrawables(((ViewGroup) view).getChildAt(i));\n            }\n            ((ViewGroup) view).removeAllViews();\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","android","string","mobile","arabic"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691503222,"post_id":76859640,"comment_id":135498485,"body_markdown":"*String with diacritics : حَدَّثَنَا مُحَمَّدُ* Which are the &quot;diacritics&quot; in that?","body":"<i>String with diacritics : حَدَّثَنَا مُحَمَّدُ</i> Which are the &quot;diacritics&quot; in that?"}],"owner":{"account_id":24880546,"reputation":1,"user_id":18753810,"display_name":"Mohd Saadi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691498212,"creation_date":1691498212,"question_id":76859640,"body_markdown":"I want to highlight a searched word in a string that contains diacritics, \r\nthe user search for a word example &quot;محمد&quot; so I&#39;ve implemented a function that removes the diacritics from the string and return the index of the searched word in the string \r\nString with diacritics : حَدَّثَنَا مُحَمَّدُ\r\nString without diacritics : حدثنا محمد   here the start index of the word is 6\r\nbut the problem is that the index of the searched word is not the same in the content with diacritics \r\n\r\n\r\n\r\nthis is the method that retrieve the index of the searched word and apply highlights \r\n```\r\n        String normalizedSearchText = removeDiacritics(searchText.toLowerCase().trim());\r\n        String normalizedContent = removeDiacritics(content.toLowerCase().trim());\r\n\r\n        int startIndex = normalizedContent.indexOf(normalizedSearchText);\r\n\r\n        if (startIndex != -1) {\r\n            Spannable spannable = new SpannableString(content);\r\n            int endIndex = startIndex + searchText.length();\r\n\r\n            // Customize the background color of the matched text\r\n            BackgroundColorSpan backgroundColorSpan = new BackgroundColorSpan(Color.YELLOW);\r\n            spannable.setSpan(backgroundColorSpan, startIndex, endIndex, Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);\r\n\r\n            // Apply the Spannable to the TextView\r\n            binding.tvContent.setText(spannable);\r\n```\r\nthis is the output \r\n[the searched word is the second word](https://i.stack.imgur.com/PAeVs.jpg)\r\n","title":"highlight an arabic word in a string with diacritics Android","body":"<p>I want to highlight a searched word in a string that contains diacritics,\nthe user search for a word example &quot;محمد&quot; so I've implemented a function that removes the diacritics from the string and return the index of the searched word in the string\nString with diacritics : حَدَّثَنَا مُحَمَّدُ\nString without diacritics : حدثنا محمد   here the start index of the word is 6\nbut the problem is that the index of the searched word is not the same in the content with diacritics</p>\n<p>this is the method that retrieve the index of the searched word and apply highlights</p>\n<pre><code>        String normalizedSearchText = removeDiacritics(searchText.toLowerCase().trim());\n        String normalizedContent = removeDiacritics(content.toLowerCase().trim());\n\n        int startIndex = normalizedContent.indexOf(normalizedSearchText);\n\n        if (startIndex != -1) {\n            Spannable spannable = new SpannableString(content);\n            int endIndex = startIndex + searchText.length();\n\n            // Customize the background color of the matched text\n            BackgroundColorSpan backgroundColorSpan = new BackgroundColorSpan(Color.YELLOW);\n            spannable.setSpan(backgroundColorSpan, startIndex, endIndex, Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);\n\n            // Apply the Spannable to the TextView\n            binding.tvContent.setText(spannable);\n</code></pre>\n<p>this is the output\n<a href=\"https://i.stack.imgur.com/PAeVs.jpg\" rel=\"nofollow noreferrer\">the searched word is the second word</a></p>\n"},{"tags":["java","proxy","playwright"],"owner":{"account_id":21200376,"reputation":111,"user_id":15591155,"display_name":"salat _"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691498199,"creation_date":1691498199,"question_id":76859637,"body_markdown":"(I use chrome channel on chromium browser with headless mode turned off for testing)\r\n\r\nI create a proxy options like that:\r\n\r\n    new Proxy(&quot;000.000.000.000:1080&quot;).setPassword(&quot;passwordhere&quot;).setUsername(&quot;usernamehere&quot;)\r\n\r\nI also tried to do it like that\r\n\r\n    new Proxy(&quot;http://000.000.000.000:1080&quot;).setPassword(&quot;passwordhere&quot;).setUsername(&quot;usernamehere&quot;)\r\n\r\nCurrently, I am using a socks5 proxy which is shown to be working through different proxychecker websites and telegram options. But when I try to get anything inside the browser with this proxy - I get connection reset every time. What is the problem? I cant find anything related to it on the internet.","title":"Keep getting connection reset for every web resource when setting proxy in playwright (Java)","body":"<p>(I use chrome channel on chromium browser with headless mode turned off for testing)</p>\n<p>I create a proxy options like that:</p>\n<pre><code>new Proxy(&quot;000.000.000.000:1080&quot;).setPassword(&quot;passwordhere&quot;).setUsername(&quot;usernamehere&quot;)\n</code></pre>\n<p>I also tried to do it like that</p>\n<pre><code>new Proxy(&quot;http://000.000.000.000:1080&quot;).setPassword(&quot;passwordhere&quot;).setUsername(&quot;usernamehere&quot;)\n</code></pre>\n<p>Currently, I am using a socks5 proxy which is shown to be working through different proxychecker websites and telegram options. But when I try to get anything inside the browser with this proxy - I get connection reset every time. What is the problem? I cant find anything related to it on the internet.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":15636414,"reputation":250,"user_id":11281144,"display_name":"Eyasu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640960642,"creation_date":1640959893,"answer_id":70543092,"question_id":70528792,"body_markdown":"I add age column , we can get age with out any calculation \r\n\r\n    @Entity\r\n    public class Users {\r\n        ...\r\n        @Formula(&quot;date_part(&#39;year&#39;,AGE(current_date,birth_date))&quot;)\r\n        @Column(name = &quot;age&quot;)\r\n        private Integer age;\r\n    }\r\n\r\nCREATE FUNCTION ON POSTGRES WHCIH CALCULATE AGE \r\n\r\n    CREATE OR REPLACE FUNCTION get_age( birthday timestamp )\r\n    RETURNS integer\r\n    AS $CODE$\r\n    BEGIN\r\n        RETURN date_part(&#39;year&#39;,age(birthday));\r\n    END\r\n    $CODE$\r\n    LANGUAGE plpgsql IMMUTABLE;\r\n\r\nAND I MODIFY THE TABLE BY ADDING age column which will be calculated from birth_date\r\n\r\n        CREATE TABLE Users (\r\n            ....\r\n            birth_date timestamp not null,\r\n            age text GENERATED ALWAYS AS (get_age(birth_date)) stored \r\n        );\r\n\r\nNow I can filter by `age` , `age` as an integer value which derived from `birth_date`\r\n\r\n\r\nWhen we come on Spring boot specification query now this work \r\n\r\n    public class SearchSpecification implements Specification&lt;Users&gt; {\r\n        private List&lt;SearchCriteria&gt; list;\r\n        public SearchSpecification() {\r\n            this.list = new ArrayList&lt;&gt;();\r\n        }\r\n        public void add(SearchCriteria criteria) {\r\n            list.add(criteria);\r\n        }\r\n        @Override\r\n        public Predicate toPredicate(Root&lt;UserActualDatum&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) {\r\n    \r\n                    predicates.add(builder.lessThanOrEqualTo(\r\n                            root.&lt;Integer&gt;get(criteria.getKey()), (Integer) criteria.getValue()));\r\n    \r\n               return builder.and(predicates.toArray(new Predicate[0]));\r\n        }\r\n    }\r\n\r\n\r\nResource : https://stackoverflow.com/questions/62963827/how-to-compute-a-derived-age-attribute-in-postgresql","title":"How to query by age on spring boot specification","body":"<p>I add age column , we can get age with out any calculation</p>\n<pre><code>@Entity\npublic class Users {\n    ...\n    @Formula(&quot;date_part('year',AGE(current_date,birth_date))&quot;)\n    @Column(name = &quot;age&quot;)\n    private Integer age;\n}\n</code></pre>\n<p>CREATE FUNCTION ON POSTGRES WHCIH CALCULATE AGE</p>\n<pre><code>CREATE OR REPLACE FUNCTION get_age( birthday timestamp )\nRETURNS integer\nAS $CODE$\nBEGIN\n    RETURN date_part('year',age(birthday));\nEND\n$CODE$\nLANGUAGE plpgsql IMMUTABLE;\n</code></pre>\n<p>AND I MODIFY THE TABLE BY ADDING age column which will be calculated from birth_date</p>\n<pre><code>    CREATE TABLE Users (\n        ....\n        birth_date timestamp not null,\n        age text GENERATED ALWAYS AS (get_age(birth_date)) stored \n    );\n</code></pre>\n<p>Now I can filter by <code>age</code> , <code>age</code> as an integer value which derived from <code>birth_date</code></p>\n<p>When we come on Spring boot specification query now this work</p>\n<pre><code>public class SearchSpecification implements Specification&lt;Users&gt; {\n    private List&lt;SearchCriteria&gt; list;\n    public SearchSpecification() {\n        this.list = new ArrayList&lt;&gt;();\n    }\n    public void add(SearchCriteria criteria) {\n        list.add(criteria);\n    }\n    @Override\n    public Predicate toPredicate(Root&lt;UserActualDatum&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) {\n\n                predicates.add(builder.lessThanOrEqualTo(\n                        root.&lt;Integer&gt;get(criteria.getKey()), (Integer) criteria.getValue()));\n\n           return builder.and(predicates.toArray(new Predicate[0]));\n    }\n}\n</code></pre>\n<p>Resource : <a href=\"https://stackoverflow.com/questions/62963827/how-to-compute-a-derived-age-attribute-in-postgresql\">How to compute a derived age attribute in postgresql?</a></p>\n"},{"tags":[],"owner":{"account_id":2533010,"reputation":743,"user_id":2200883,"accept_rate":76,"display_name":"Mohammad Hammadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685355739,"creation_date":1685355739,"answer_id":76356504,"question_id":70528792,"body_markdown":"You can use CriteriaBuilder functions to achieve this easily as follow:\r\n\r\nFull code would be like:\r\n\r\n    return (Root&lt;Vessel&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder criteriaBuilder) -&gt; {\r\n            return criteriaBuilder.equal(criteriaBuilder.diff(\r\n                                            criteriaBuilder.function(&quot;date_part&quot;, Integer.class, criteriaBuilder.literal(&quot;YEAR&quot;), criteriaBuilder.currentTime()),\r\n                                            criteriaBuilder.function(&quot;date_part&quot;, Integer.class, criteriaBuilder.literal(&quot;YEAR&quot;), root.get(&quot;birthDate&quot;))\r\n                                         ),\r\n                                   searchedValue\r\n            );\r\n        };\r\n\r\nIn order to get the current year from Postgres (Expression 1):\r\n\r\n    criteriaBuilder.function(&quot;date_part&quot;, Integer.class, criteriaBuilder.literal(&quot;YEAR&quot;), criteriaBuilder.currentTime());\r\n    // Result example: 2023\r\n\r\nTo get birthdate Year (Expression 2):\r\n\r\n    criteriaBuilder.function(&quot;date_part&quot;, Integer.class, criteriaBuilder.literal(&quot;YEAR&quot;), root.get(&quot;birthDate&quot;))\r\n    // Result example: 2000\r\n\r\nThen get the age using diff:\r\n\r\n    criteriaBuilder.diff(Expression 1, Expression 2)\r\n    // example: criteriaBuilder.diff(2023, 2000)\r\n\r\nHere diff() gets the difference between the two years: 2023 -2000 = 23\r\n\r\nThen Apply the equal()\r\n\r\n    criteriaBuilder.equal(calculatedAge, searchedAge)","title":"How to query by age on spring boot specification","body":"<p>You can use CriteriaBuilder functions to achieve this easily as follow:</p>\n<p>Full code would be like:</p>\n<pre><code>return (Root&lt;Vessel&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder criteriaBuilder) -&gt; {\n        return criteriaBuilder.equal(criteriaBuilder.diff(\n                                        criteriaBuilder.function(&quot;date_part&quot;, Integer.class, criteriaBuilder.literal(&quot;YEAR&quot;), criteriaBuilder.currentTime()),\n                                        criteriaBuilder.function(&quot;date_part&quot;, Integer.class, criteriaBuilder.literal(&quot;YEAR&quot;), root.get(&quot;birthDate&quot;))\n                                     ),\n                               searchedValue\n        );\n    };\n</code></pre>\n<p>In order to get the current year from Postgres (Expression 1):</p>\n<pre><code>criteriaBuilder.function(&quot;date_part&quot;, Integer.class, criteriaBuilder.literal(&quot;YEAR&quot;), criteriaBuilder.currentTime());\n// Result example: 2023\n</code></pre>\n<p>To get birthdate Year (Expression 2):</p>\n<pre><code>criteriaBuilder.function(&quot;date_part&quot;, Integer.class, criteriaBuilder.literal(&quot;YEAR&quot;), root.get(&quot;birthDate&quot;))\n// Result example: 2000\n</code></pre>\n<p>Then get the age using diff:</p>\n<pre><code>criteriaBuilder.diff(Expression 1, Expression 2)\n// example: criteriaBuilder.diff(2023, 2000)\n</code></pre>\n<p>Here diff() gets the difference between the two years: 2023 -2000 = 23</p>\n<p>Then Apply the equal()</p>\n<pre><code>criteriaBuilder.equal(calculatedAge, searchedAge)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16141430,"reputation":111,"user_id":11652444,"display_name":"bangeboss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691497585,"creation_date":1691497585,"answer_id":76859552,"question_id":70528792,"body_markdown":"If you are using PostgreSQL as your database, then you can use the `age` function in the criteria builder.\r\n```\r\npublic class SearchSpecification implements Specification&lt;Users&gt; {\r\n    \r\n    private Integer ageLimit;\r\n\r\n    \r\n    @Override\r\n    public Predicate toPredicate(Root&lt;UserActualDatum&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) {\r\n        final ArrayList&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n        if(ageLimit!=null){\r\n            predicates.add(\r\n                    builder.lessThanOrEqualTo(\r\n                            builder.function(&quot;date_part&quot;, Integer.class, builder.literal(&quot;YEAR&quot;),\r\n                                    builder.function(&quot;age&quot;, String.class, builder.currentTimestamp(), root.get(&quot;birthDate&quot;))\r\n                            ), ageLimit\r\n                    )\r\n            );\r\n        }\r\n        return builder.and(predicates.toArray(new Predicate[predicates.size()]));\r\n    }\r\n}\r\n```\r\n\r\nNotice that we have used the `date_part` function to extract the number of years (as an integer) returned from the `age` function before applying the `lessThanOrEqualTo` method. ","title":"How to query by age on spring boot specification","body":"<p>If you are using PostgreSQL as your database, then you can use the <code>age</code> function in the criteria builder.</p>\n<pre><code>public class SearchSpecification implements Specification&lt;Users&gt; {\n    \n    private Integer ageLimit;\n\n    \n    @Override\n    public Predicate toPredicate(Root&lt;UserActualDatum&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) {\n        final ArrayList&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n        if(ageLimit!=null){\n            predicates.add(\n                    builder.lessThanOrEqualTo(\n                            builder.function(&quot;date_part&quot;, Integer.class, builder.literal(&quot;YEAR&quot;),\n                                    builder.function(&quot;age&quot;, String.class, builder.currentTimestamp(), root.get(&quot;birthDate&quot;))\n                            ), ageLimit\n                    )\n            );\n        }\n        return builder.and(predicates.toArray(new Predicate[predicates.size()]));\n    }\n}\n</code></pre>\n<p>Notice that we have used the <code>date_part</code> function to extract the number of years (as an integer) returned from the <code>age</code> function before applying the <code>lessThanOrEqualTo</code> method.</p>\n"}],"owner":{"account_id":15636414,"reputation":250,"user_id":11281144,"display_name":"Eyasu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1689,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70543092,"answer_count":3,"score":2,"last_activity_date":1691497585,"creation_date":1640850562,"question_id":70528792,"body_markdown":"    @Entity\r\n    public class Users {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        @Column(name = &quot;full_name&quot;, nullable = false, length = 50)\r\n        private String fullName;\r\n        @Column(name = &quot;current_location&quot;, nullable = false)\r\n        private String currentLocation;\r\n        @Column(name = &quot;gender&quot;, nullable = false, length = 6)\r\n        private String gender;\r\n        @Column(name = &quot;birth_date&quot;, nullable = false)\r\n        private Timestamp birthDate;\r\n    }\r\nI user the following to filter user by gender\r\n\r\n    public class SearchSpecification implements Specification&lt;Users&gt; {\r\n        private List&lt;SearchCriteria&gt; list;\r\n        public SearchSpecification() {\r\n            this.list = new ArrayList&lt;&gt;();\r\n        }\r\n        public void add(SearchCriteria criteria) {\r\n            list.add(criteria);\r\n        }\r\n        @Override\r\n        public Predicate toPredicate(Root&lt;UserActualDatum&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) {\r\n    \r\n               predicates.add(builder.like(root.&lt;String&gt;get(criteria.getKey()), (String) criteria.getValue()));\r\n               return builder.and(predicates.toArray(new Predicate[0]));\r\n        }\r\n    }\r\n\r\nBut I want to filter Users by age, I have `birthDate` column which store date of birth of the user. It is possible to calculate age in postgres database using `AGE()` function but when I come to Spring Specification Query I can not calculate age from date of birth and filter by calculate age.\r\n\r\n","title":"How to query by age on spring boot specification","body":"<pre><code>@Entity\npublic class Users {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @Column(name = &quot;full_name&quot;, nullable = false, length = 50)\n    private String fullName;\n    @Column(name = &quot;current_location&quot;, nullable = false)\n    private String currentLocation;\n    @Column(name = &quot;gender&quot;, nullable = false, length = 6)\n    private String gender;\n    @Column(name = &quot;birth_date&quot;, nullable = false)\n    private Timestamp birthDate;\n}\n</code></pre>\n<p>I user the following to filter user by gender</p>\n<pre><code>public class SearchSpecification implements Specification&lt;Users&gt; {\n    private List&lt;SearchCriteria&gt; list;\n    public SearchSpecification() {\n        this.list = new ArrayList&lt;&gt;();\n    }\n    public void add(SearchCriteria criteria) {\n        list.add(criteria);\n    }\n    @Override\n    public Predicate toPredicate(Root&lt;UserActualDatum&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) {\n\n           predicates.add(builder.like(root.&lt;String&gt;get(criteria.getKey()), (String) criteria.getValue()));\n           return builder.and(predicates.toArray(new Predicate[0]));\n    }\n}\n</code></pre>\n<p>But I want to filter Users by age, I have <code>birthDate</code> column which store date of birth of the user. It is possible to calculate age in postgres database using <code>AGE()</code> function but when I come to Spring Specification Query I can not calculate age from date of birth and filter by calculate age.</p>\n"},{"tags":["java","spring","spring-boot","startup","trace"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1691498000,"post_id":76859549,"comment_id":135497233,"body_markdown":"What does *it&#39;s run fast infinitely* mean? Besides the fact that you have posted some normal tracing level log messages?","body":"What does <i>it&#39;s run fast infinitely</i> mean? Besides the fact that you have posted some normal tracing level log messages?"},{"owner":{"account_id":13483389,"reputation":497,"user_id":9727918,"display_name":"lingar"},"score":0,"creation_date":1691498707,"post_id":76859549,"comment_id":135497403,"body_markdown":"It&#39;s run fast and log more and more rows. \n\nThe actual log contains dozens of rows. And not stopping run.","body":"It&#39;s run fast and log more and more rows.   The actual log contains dozens of rows. And not stopping run."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1691498760,"post_id":76859549,"comment_id":135497413,"body_markdown":"Expect *thousands* of rows. TRACE is **verbose** and you told it to do that *everywhere*.","body":"Expect <i>thousands</i> of rows. TRACE is <b>verbose</b> and you told it to do that <i>everywhere</i>."},{"owner":{"account_id":13483389,"reputation":497,"user_id":9727918,"display_name":"lingar"},"score":0,"creation_date":1691501408,"post_id":76859549,"comment_id":135498040,"body_markdown":"But it is excessive, and without a break. thousands every second. It crashes the system eventually.","body":"But it is excessive, and without a break. thousands every second. It crashes the system eventually."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1691503391,"post_id":76859549,"comment_id":135498536,"body_markdown":"It should not &quot;crashes the system eventually&quot; unless you have extremely limited disk space, and even then you could add more disk space  or disable root level tracing. You should have realized that tracing everything isn&#39;t very productive already. You enable trace on small sections of code. Not everywhere.","body":"It should not &quot;crashes the system eventually&quot; unless you have extremely limited disk space, and even then you could add more disk space  or disable root level tracing. You should have realized that tracing everything isn&#39;t very productive already. You enable trace on small sections of code. Not everywhere."},{"owner":{"account_id":13483389,"reputation":497,"user_id":9727918,"display_name":"lingar"},"score":0,"creation_date":1691528022,"post_id":76859549,"comment_id":135503268,"body_markdown":"So you are saying that it&#39;s expected behavior?","body":"So you are saying that it&#39;s expected behavior?"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1691535168,"post_id":76859549,"comment_id":135504188,"body_markdown":"Based on what you&#39;ve posted so far, yes.","body":"Based on what you&#39;ve posted so far, yes."}],"owner":{"account_id":13483389,"reputation":497,"user_id":9727918,"display_name":"lingar"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691497579,"creation_date":1691497579,"question_id":76859549,"body_markdown":"I have a web app running with spring-boot\r\n\r\nwhen I put the logging level:\r\n\r\n    logging.level.root=TRACE\r\n\r\nFrom unknown reason it&#39;s run fast infinitely\r\n\r\nDoes someone know what could be the reason? \r\n\r\nFrom my code inspection I find that it&#39;s starting when the spring launching on. \r\n\r\nThat&#39;s part of the starting log (SO don&#39;t let me add more rows ):\r\n\r\n\r\n\r\n\r\n    2023-08-08 15:07:12.926 TRACE 27396 --- [  restartedMain] o.s.c.e.PropertySourcesPropertyResolver  : Searching for key &#39;logging.register-shutdown-hook&#39; in PropertySource &#39;servletConfigInitParams&#39;\r\n    2023-08-08 15:07:12.928 TRACE 27396 --- [  restartedMain] o.s.c.e.PropertySourcesPropertyResolver  : Searching for key &#39;logging.register-shutdown-hook&#39; in PropertySource &#39;servletContextInitParams&#39;\r\n    2023-08-08 15:07:12.928 TRACE 27396 --- [  restartedMain] o.s.c.e.PropertySourcesPropertyResolver  : Searching for key &#39;logging.register-shutdown-hook&#39; in PropertySource &#39;systemProperties&#39;\r\n    2023-08-08 15:07:12.928 TRACE 27396 --- [  restartedMain] ","title":"TRACE logging level run infinitely on spring boot web app","body":"<p>I have a web app running with spring-boot</p>\n<p>when I put the logging level:</p>\n<pre><code>logging.level.root=TRACE\n</code></pre>\n<p>From unknown reason it's run fast infinitely</p>\n<p>Does someone know what could be the reason?</p>\n<p>From my code inspection I find that it's starting when the spring launching on.</p>\n<p>That's part of the starting log (SO don't let me add more rows ):</p>\n<pre><code>2023-08-08 15:07:12.926 TRACE 27396 --- [  restartedMain] o.s.c.e.PropertySourcesPropertyResolver  : Searching for key 'logging.register-shutdown-hook' in PropertySource 'servletConfigInitParams'\n2023-08-08 15:07:12.928 TRACE 27396 --- [  restartedMain] o.s.c.e.PropertySourcesPropertyResolver  : Searching for key 'logging.register-shutdown-hook' in PropertySource 'servletContextInitParams'\n2023-08-08 15:07:12.928 TRACE 27396 --- [  restartedMain] o.s.c.e.PropertySourcesPropertyResolver  : Searching for key 'logging.register-shutdown-hook' in PropertySource 'systemProperties'\n2023-08-08 15:07:12.928 TRACE 27396 --- [  restartedMain] \n</code></pre>\n"},{"tags":["java","json","data-masking","pii"],"answers":[{"tags":[],"owner":{"account_id":5985634,"reputation":443,"user_id":4703291,"display_name":"Oleg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1427314219,"creation_date":1427314219,"answer_id":29265571,"question_id":29263036,"body_markdown":"You could use jackson to convert json to map, process map and convert map back to json.\r\n\r\nFor example:\r\n\r\n    import org.codehaus.jackson.map.ObjectMapper;\r\n    import org.codehaus.jackson.type.TypeReference;\r\n    \r\n    public void mask() throws IOException {\r\n    String jsonString = &quot;{\\n&quot; +\r\n                &quot;    \\&quot;key1\\&quot;:\\&quot;value1\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;key2\\&quot;:\\&quot;value2\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;key3\\&quot;:\\&quot;value3\\&quot;\\n&quot; +\r\n                &quot;}&quot;;\r\n        Map&lt;String, Object&gt; map;    \r\n\r\n        // Convert json to map\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        try {\r\n            TypeReference ref = new TypeReference&lt;Map&lt;String, Object&gt;&gt;() { };\r\n            map = mapper.readValue(jsonString, ref);\r\n        } catch (IOException e) {\r\n            System.out.print(&quot;cannot create Map from json&quot; + e.getMessage());\r\n            throw e;\r\n        }\r\n\r\n        // Process map\r\n        if(map.containsKey(&quot;key2&quot;)) {\r\n            map.put(&quot;key2&quot;,&quot;xxxxxxxxx&quot;);\r\n        }\r\n\r\n        // Convert back map to json\r\n        String jsonResult = &quot;&quot;;\r\n        try {\r\n            jsonResult = mapper.writeValueAsString(map);\r\n        } catch (IOException e) {\r\n            System.out.print(&quot;cannot create json from Map&quot; + e.getMessage());\r\n        }\r\n\r\n        System.out.print(jsonResult);\r\n\r\n\r\n\r\n\r\n","title":"JSON PII data masking in Java","body":"<p>You could use jackson to convert json to map, process map and convert map back to json.</p>\n\n<p>For example:</p>\n\n<pre><code>import org.codehaus.jackson.map.ObjectMapper;\nimport org.codehaus.jackson.type.TypeReference;\n\npublic void mask() throws IOException {\nString jsonString = \"{\\n\" +\n            \"    \\\"key1\\\":\\\"value1\\\",\\n\" +\n            \"    \\\"key2\\\":\\\"value2\\\",\\n\" +\n            \"    \\\"key3\\\":\\\"value3\\\"\\n\" +\n            \"}\";\n    Map&lt;String, Object&gt; map;    \n\n    // Convert json to map\n    ObjectMapper mapper = new ObjectMapper();\n    try {\n        TypeReference ref = new TypeReference&lt;Map&lt;String, Object&gt;&gt;() { };\n        map = mapper.readValue(jsonString, ref);\n    } catch (IOException e) {\n        System.out.print(\"cannot create Map from json\" + e.getMessage());\n        throw e;\n    }\n\n    // Process map\n    if(map.containsKey(\"key2\")) {\n        map.put(\"key2\",\"xxxxxxxxx\");\n    }\n\n    // Convert back map to json\n    String jsonResult = \"\";\n    try {\n        jsonResult = mapper.writeValueAsString(map);\n    } catch (IOException e) {\n        System.out.print(\"cannot create json from Map\" + e.getMessage());\n    }\n\n    System.out.print(jsonResult);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18070045,"reputation":31,"user_id":13134925,"display_name":"Sureshkumar V"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1585309596,"creation_date":1585309596,"answer_id":60885365,"question_id":29263036,"body_markdown":"input will be JSON object or array type in string format. Here the maskable keys only static otherwise input string will dynamic.\r\n\r\n```\r\npublic final class MaskPIData {\r\n\r\n  /**\r\n   * Mask able keywords mentioned here. It should be in LOWER CASE.\r\n   */\r\n  private static final Set&lt;String&gt; MASKABLE_KEYS = new HashSet&lt;&gt;(Arrays.asList(\r\n    &quot;email&quot;,\r\n    &quot;emails&quot;,\r\n    &quot;phone&quot;,\r\n    &quot;pin&quot;,\r\n    &quot;password&quot;,\r\n    &quot;phonenumber&quot;,\r\n    &quot;moneys&quot;));\r\n\r\n  private static final String MASKING_VALUE = &quot;****&quot;;\r\n\r\n  private static final ObjectMapper OBJECTMAPPER =  new ObjectMapper();\r\n\r\n  private MaskPIData() {\r\n    super();\r\n  }\r\n\r\n  private static boolean isValidSet(Set&lt;String&gt; set) {\r\n    return set != null &amp;&amp; !set.isEmpty();\r\n  }\r\n\r\n  private static boolean isKnownPrimitiveWrapperModel(Object obj) {\r\n    return obj == null || obj instanceof String || obj instanceof Integer || obj instanceof Long\r\n      || obj instanceof Double;\r\n  }\r\n\r\n  @SuppressWarnings(&quot;unchecked&quot;)\r\n  private static JSONObject maskingForJsonObject(Set&lt;String&gt; maskableKeys, JSONObject input) {\r\n    if (!isValidSet(maskableKeys) || input == null) {\r\n      return input;\r\n    }\r\n\r\n    Map&lt;String, Object&gt; inputMap = (Map&lt;String, Object&gt;) input;\r\n    Map&lt;String, Object&gt; caseInsensitiveInputMap = new TreeMap&lt;&gt;(String.CASE_INSENSITIVE_ORDER);\r\n    caseInsensitiveInputMap.putAll(inputMap);\r\n\r\n    for (Map.Entry&lt;String, Object&gt; entryPair : caseInsensitiveInputMap.entrySet()) {\r\n      if (entryPair.getValue() instanceof JSONArray) {\r\n        JSONArray jsonArr = (JSONArray) caseInsensitiveInputMap.get(entryPair.getKey());\r\n        maskingForArray(maskableKeys, entryPair.getKey(), jsonArr);\r\n        caseInsensitiveInputMap.put(entryPair.getKey(), jsonArr);\r\n      } else if (entryPair.getValue() instanceof JSONObject) {\r\n        JSONObject jsonObj = (JSONObject) caseInsensitiveInputMap.get(entryPair.getKey());\r\n        caseInsensitiveInputMap.put(entryPair.getKey(), maskingForJsonObject(maskableKeys, jsonObj));\r\n      } else if (entryPair.getKey() != null &amp;&amp; maskableKeys.contains(entryPair.getKey().toLowerCase())) {\r\n        caseInsensitiveInputMap.put(entryPair.getKey(), MASKING_VALUE);\r\n      }\r\n    }\r\n\r\n    return OBJECTMAPPER.convertValue(caseInsensitiveInputMap, JSONObject.class);\r\n  }\r\n\r\n  @SuppressWarnings(&quot;unchecked&quot;)\r\n  private static JSONArray maskingForArray(Set&lt;String&gt; maskableKeys, String key,\r\n    JSONArray jsonArr) {\r\n    JSONArray toRet = jsonArr;\r\n    for (int idx = 0; idx &lt; toRet.size(); idx++) {\r\n      Object obj = toRet.get(idx);\r\n      if (isKnownPrimitiveWrapperModel(obj)) {\r\n        if (key != null &amp;&amp; maskableKeys.contains(key.toLowerCase())) {\r\n          toRet.remove(idx);\r\n          toRet.add(idx, MASKING_VALUE);\r\n        }\r\n      } else {\r\n        JSONObject jsonObjFromArray = (JSONObject) toRet.get(idx);\r\n        JSONObject maskedJsonObj = maskingForJsonObject(maskableKeys, jsonObjFromArray);\r\n        toRet.remove(idx);\r\n        toRet.add(idx, maskedJsonObj);\r\n      }\r\n    }\r\n    return toRet;\r\n  }\r\n\r\n  public static String doMask(String input) {\r\n    String maskedData = input;\r\n    if (maskedData != null &amp;&amp; !maskedData.trim().isEmpty()) {\r\n      try {\r\n        if (new JSONParser().parse(maskedData) instanceof JSONObject) {\r\n          JSONObject maskedOutput = maskingForJsonObject(MASKABLE_KEYS,\r\n            (JSONObject) new JSONParser().parse(maskedData));\r\n          maskedData = OBJECTMAPPER.writeValueAsString(maskedOutput);\r\n        } else if (new JSONParser().parse(maskedData) instanceof JSONArray) {\r\n          JSONArray maskedOutput = maskingForArray(MASKABLE_KEYS, null, (JSONArray) new JSONParser().parse(maskedData));\r\n          maskedData = OBJECTMAPPER.writeValueAsString(maskedOutput);\r\n        }\r\n      } catch (Exception e) {\r\n        // to do - Error while masking data\r\n      }\r\n    }\r\n    return maskedData;\r\n  }\r\n\r\n  public static void main(String args[]) {\r\n    String input = &quot;{\\&quot;item\\&quot;:{\\&quot;test\\&quot;:\\&quot;test\\&quot;,\\&quot;phone\\&quot;:\\&quot;993244\\&quot;,\\&quot;email\\&quot;:\\&quot;mail@mail.com\\&quot;}}&quot;;\r\n    System.out.println(doMask(input));\r\n  }\r\n```","title":"JSON PII data masking in Java","body":"<p>input will be JSON object or array type in string format. Here the maskable keys only static otherwise input string will dynamic.</p>\n\n<pre><code>public final class MaskPIData {\n\n  /**\n   * Mask able keywords mentioned here. It should be in LOWER CASE.\n   */\n  private static final Set&lt;String&gt; MASKABLE_KEYS = new HashSet&lt;&gt;(Arrays.asList(\n    \"email\",\n    \"emails\",\n    \"phone\",\n    \"pin\",\n    \"password\",\n    \"phonenumber\",\n    \"moneys\"));\n\n  private static final String MASKING_VALUE = \"****\";\n\n  private static final ObjectMapper OBJECTMAPPER =  new ObjectMapper();\n\n  private MaskPIData() {\n    super();\n  }\n\n  private static boolean isValidSet(Set&lt;String&gt; set) {\n    return set != null &amp;&amp; !set.isEmpty();\n  }\n\n  private static boolean isKnownPrimitiveWrapperModel(Object obj) {\n    return obj == null || obj instanceof String || obj instanceof Integer || obj instanceof Long\n      || obj instanceof Double;\n  }\n\n  @SuppressWarnings(\"unchecked\")\n  private static JSONObject maskingForJsonObject(Set&lt;String&gt; maskableKeys, JSONObject input) {\n    if (!isValidSet(maskableKeys) || input == null) {\n      return input;\n    }\n\n    Map&lt;String, Object&gt; inputMap = (Map&lt;String, Object&gt;) input;\n    Map&lt;String, Object&gt; caseInsensitiveInputMap = new TreeMap&lt;&gt;(String.CASE_INSENSITIVE_ORDER);\n    caseInsensitiveInputMap.putAll(inputMap);\n\n    for (Map.Entry&lt;String, Object&gt; entryPair : caseInsensitiveInputMap.entrySet()) {\n      if (entryPair.getValue() instanceof JSONArray) {\n        JSONArray jsonArr = (JSONArray) caseInsensitiveInputMap.get(entryPair.getKey());\n        maskingForArray(maskableKeys, entryPair.getKey(), jsonArr);\n        caseInsensitiveInputMap.put(entryPair.getKey(), jsonArr);\n      } else if (entryPair.getValue() instanceof JSONObject) {\n        JSONObject jsonObj = (JSONObject) caseInsensitiveInputMap.get(entryPair.getKey());\n        caseInsensitiveInputMap.put(entryPair.getKey(), maskingForJsonObject(maskableKeys, jsonObj));\n      } else if (entryPair.getKey() != null &amp;&amp; maskableKeys.contains(entryPair.getKey().toLowerCase())) {\n        caseInsensitiveInputMap.put(entryPair.getKey(), MASKING_VALUE);\n      }\n    }\n\n    return OBJECTMAPPER.convertValue(caseInsensitiveInputMap, JSONObject.class);\n  }\n\n  @SuppressWarnings(\"unchecked\")\n  private static JSONArray maskingForArray(Set&lt;String&gt; maskableKeys, String key,\n    JSONArray jsonArr) {\n    JSONArray toRet = jsonArr;\n    for (int idx = 0; idx &lt; toRet.size(); idx++) {\n      Object obj = toRet.get(idx);\n      if (isKnownPrimitiveWrapperModel(obj)) {\n        if (key != null &amp;&amp; maskableKeys.contains(key.toLowerCase())) {\n          toRet.remove(idx);\n          toRet.add(idx, MASKING_VALUE);\n        }\n      } else {\n        JSONObject jsonObjFromArray = (JSONObject) toRet.get(idx);\n        JSONObject maskedJsonObj = maskingForJsonObject(maskableKeys, jsonObjFromArray);\n        toRet.remove(idx);\n        toRet.add(idx, maskedJsonObj);\n      }\n    }\n    return toRet;\n  }\n\n  public static String doMask(String input) {\n    String maskedData = input;\n    if (maskedData != null &amp;&amp; !maskedData.trim().isEmpty()) {\n      try {\n        if (new JSONParser().parse(maskedData) instanceof JSONObject) {\n          JSONObject maskedOutput = maskingForJsonObject(MASKABLE_KEYS,\n            (JSONObject) new JSONParser().parse(maskedData));\n          maskedData = OBJECTMAPPER.writeValueAsString(maskedOutput);\n        } else if (new JSONParser().parse(maskedData) instanceof JSONArray) {\n          JSONArray maskedOutput = maskingForArray(MASKABLE_KEYS, null, (JSONArray) new JSONParser().parse(maskedData));\n          maskedData = OBJECTMAPPER.writeValueAsString(maskedOutput);\n        }\n      } catch (Exception e) {\n        // to do - Error while masking data\n      }\n    }\n    return maskedData;\n  }\n\n  public static void main(String args[]) {\n    String input = \"{\\\"item\\\":{\\\"test\\\":\\\"test\\\",\\\"phone\\\":\\\"993244\\\",\\\"email\\\":\\\"mail@mail.com\\\"}}\";\n    System.out.println(doMask(input));\n  }\n</code></pre>\n"}],"owner":{"account_id":99411,"reputation":13903,"user_id":268543,"accept_rate":92,"display_name":"josh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":29265571,"answer_count":2,"score":1,"last_activity_date":1691497518,"creation_date":1427306164,"question_id":29263036,"body_markdown":"I would like to mask certain elements of JSON and print to logs. Masking can be either by substituting by dummy data or removing the key pair .Is there a utility to do the masking in Java ?\r\n\r\nE.g.,\r\n\r\ngiven JSON:\r\n\r\n    {\r\n        &quot;key1&quot;:&quot;value1&quot;,\r\n        &quot;key2&quot;:&quot;value2&quot;,\r\n        &quot;key3&quot;:&quot;value3&quot;,\r\n    }\r\n\r\nmask key 2 alone and print JSON:\r\n\r\n    {\r\n        &quot;key1&quot;:&quot;value1&quot;,\r\n        &quot;key2&quot;:&quot;xxxxxx&quot;,\r\n        &quot;key3&quot;:&quot;value3&quot;,\r\n    }\r\n\r\nor\r\n\r\n    {\r\n        &quot;key1&quot;:&quot;value1&quot;,\r\n        &quot;key3&quot;:&quot;value3&quot;,\r\n    }","title":"JSON PII data masking in Java","body":"<p>I would like to mask certain elements of JSON and print to logs. Masking can be either by substituting by dummy data or removing the key pair .Is there a utility to do the masking in Java ?</p>\n\n<p>E.g.,</p>\n\n<p>given JSON:</p>\n\n<pre><code>{\n    \"key1\":\"value1\",\n    \"key2\":\"value2\",\n    \"key3\":\"value3\",\n}\n</code></pre>\n\n<p>mask key 2 alone and print JSON:</p>\n\n<pre><code>{\n    \"key1\":\"value1\",\n    \"key2\":\"xxxxxx\",\n    \"key3\":\"value3\",\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>{\n    \"key1\":\"value1\",\n    \"key3\":\"value3\",\n}\n</code></pre>\n"},{"tags":["java","spring","azure-application-insights"],"answers":[{"tags":[],"owner":{"account_id":26331226,"reputation":3286,"user_id":19991670,"display_name":"Pravallika KV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691497289,"creation_date":1691497289,"answer_id":76859519,"question_id":76829481,"body_markdown":"This happens due to incompatibility between the versions of the dependencies and spring boot.\r\n-  `applicationinsights-web` version 3.4.9 is not compatible with `Spring Boot 2.7.13`.\r\n-  `applicationinsights-web` **2.x.x** version is compatible with `spring-boot` 2.x.x.\r\n\r\n**Check if below steps help to fix your issue:**\r\n\r\n- If you are upgrading application insights web version, you need to upgrade ***spring boot*** version to be compatible with the upgraded ***application insights-web*** version.\r\n\r\n- And also, upgrade `application-insights-core` package to its *latest version* to be compatible with your `application-insights-web` version.\r\n```java\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\r\n    &lt;artifactId&gt;applicationinsights-core&lt;/artifactId&gt;\r\n    &lt;version&gt;3.4.15&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n- Import `com.microsoft.applicationinsights.web.internal.WebRequestTrackingFilter` and `com.microsoft.applicationinsights.web.internal.WebRequestTrackingFilter` class in your code.\r\n```java\r\npackage  com.example.demo;\r\n\r\nimport  org.springframework.boot.web.servlet.FilterRegistrationBean;\r\nimport  org.springframework.context.annotation.Bean;\r\nimport  org.springframework.context.annotation.ComponentScan;\r\nimport  org.springframework.context.annotation.Configuration;\r\nimport  com.microsoft.applicationinsights.TelemetryConfiguration;\r\nimport  com.microsoft.applicationinsights.web.internal.WebRequestTrackingFilter;\r\n```\r\n\r\n- Instead, you can also use `applicationinsights-runtime-attach` [dependency](https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-spring-boot#enabling-programmatically) in your pom.xml to configure Application Insights.\r\n```Java\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\r\n    &lt;artifactId&gt;applicationinsights-runtime-attach&lt;/artifactId&gt;\r\n    &lt;version&gt;3.4.15&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n**References:**\r\n\r\n[Upgrading from 2.x - Azure Monitor Application Insights Java - Azure Monitor ](https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-standalone-upgrade-from-2x)","title":"TelemetryConfiguration is not public in com.microsoft.applicationinsights after updating version to 3.4.9","body":"<p>This happens due to incompatibility between the versions of the dependencies and spring boot.</p>\n<ul>\n<li><code>applicationinsights-web</code> version 3.4.9 is not compatible with <code>Spring Boot 2.7.13</code>.</li>\n<li><code>applicationinsights-web</code> <strong>2.x.x</strong> version is compatible with <code>spring-boot</code> 2.x.x.</li>\n</ul>\n<p><strong>Check if below steps help to fix your issue:</strong></p>\n<ul>\n<li><p>If you are upgrading application insights web version, you need to upgrade <em><strong>spring boot</strong></em> version to be compatible with the upgraded <em><strong>application insights-web</strong></em> version.</p>\n</li>\n<li><p>And also, upgrade <code>application-insights-core</code> package to its <em>latest version</em> to be compatible with your <code>application-insights-web</code> version.</p>\n</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n    &lt;artifactId&gt;applicationinsights-core&lt;/artifactId&gt;\n    &lt;version&gt;3.4.15&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<ul>\n<li>Import <code>com.microsoft.applicationinsights.web.internal.WebRequestTrackingFilter</code> and <code>com.microsoft.applicationinsights.web.internal.WebRequestTrackingFilter</code> class in your code.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>package  com.example.demo;\n\nimport  org.springframework.boot.web.servlet.FilterRegistrationBean;\nimport  org.springframework.context.annotation.Bean;\nimport  org.springframework.context.annotation.ComponentScan;\nimport  org.springframework.context.annotation.Configuration;\nimport  com.microsoft.applicationinsights.TelemetryConfiguration;\nimport  com.microsoft.applicationinsights.web.internal.WebRequestTrackingFilter;\n</code></pre>\n<ul>\n<li>Instead, you can also use <code>applicationinsights-runtime-attach</code> <a href=\"https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-spring-boot#enabling-programmatically\" rel=\"nofollow noreferrer\">dependency</a> in your pom.xml to configure Application Insights.</li>\n</ul>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n    &lt;artifactId&gt;applicationinsights-runtime-attach&lt;/artifactId&gt;\n    &lt;version&gt;3.4.15&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>References:</strong></p>\n<p><a href=\"https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-standalone-upgrade-from-2x\" rel=\"nofollow noreferrer\">Upgrading from 2.x - Azure Monitor Application Insights Java - Azure Monitor </a></p>\n"}],"owner":{"account_id":23533877,"reputation":21,"user_id":17579107,"display_name":"Simonas Krasauskas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691497289,"creation_date":1691076005,"question_id":76829481,"body_markdown":"Maven suggests to update com.microsoft.azure:applicationinsights-web to 3.4.9 version, previously I was using 2.6.2. After updating I get errors:\r\n`java: com.microsoft.applicationinsights.TelemetryConfiguration is not public in com.microsoft.applicationinsights; cannot be accessed from outside package`\r\nand\r\n`java: cannot find symbol\r\n  symbol:   class WebRequestTrackingFilter\r\n  location: package com.microsoft.applicationinsights.web.internal`\r\n\r\n\r\nIf I update to the latest 2.x application insights version, everything works fine. But not with 3.x version. I&#39;m using Spring boot 2.7.13.\r\nCould you please advise what steps should I take to resolve this issue? \r\n\r\n\r\n\r\n\r\nCode that I&#39;m using is similar to code below (https://stackoverflow.com/questions/43064476/cannot-get-appinsights-working-under-spring-boot)\r\n```\r\n@Configuration\r\npublic class AppInsightsConfig {\r\n\r\n    @Bean\r\n    public String telemetryConfig() {\r\n        String telemetryKey = System.getenv(&quot;APPLICATION_INSIGHTS_IKEY&quot;);\r\n        if (telemetryKey != null) {\r\n            TelemetryConfiguration.getActive().setInstrumentationKey(telemetryKey);\r\n        }\r\n        return telemetryKey;\r\n    }\r\n\r\n    @Bean\r\n    public FilterRegistrationBean aiFilterRegistration() {\r\n        FilterRegistrationBean registration = new FilterRegistrationBean();\r\n        registration.setFilter(new WebRequestTrackingFilter());\r\n        registration.addUrlPatterns(&quot;/**&quot;);\r\n        registration.setOrder(1);\r\n        return registration;\r\n    } \r\n\r\n    @Bean(name = &quot;WebRequestTrackingFilter&quot;)\r\n    public Filter WebRequestTrackingFilter() {\r\n        return new WebRequestTrackingFilter();\r\n    }   \r\n}\r\n```\r\n","title":"TelemetryConfiguration is not public in com.microsoft.applicationinsights after updating version to 3.4.9","body":"<p>Maven suggests to update com.microsoft.azure:applicationinsights-web to 3.4.9 version, previously I was using 2.6.2. After updating I get errors:\n<code>java: com.microsoft.applicationinsights.TelemetryConfiguration is not public in com.microsoft.applicationinsights; cannot be accessed from outside package</code>\nand\n<code>java: cannot find symbol symbol:   class WebRequestTrackingFilter location: package com.microsoft.applicationinsights.web.internal</code></p>\n<p>If I update to the latest 2.x application insights version, everything works fine. But not with 3.x version. I'm using Spring boot 2.7.13.\nCould you please advise what steps should I take to resolve this issue?</p>\n<p>Code that I'm using is similar to code below (<a href=\"https://stackoverflow.com/questions/43064476/cannot-get-appinsights-working-under-spring-boot\">Cannot get AppInsights working under Spring Boot</a>)</p>\n<pre><code>@Configuration\npublic class AppInsightsConfig {\n\n    @Bean\n    public String telemetryConfig() {\n        String telemetryKey = System.getenv(&quot;APPLICATION_INSIGHTS_IKEY&quot;);\n        if (telemetryKey != null) {\n            TelemetryConfiguration.getActive().setInstrumentationKey(telemetryKey);\n        }\n        return telemetryKey;\n    }\n\n    @Bean\n    public FilterRegistrationBean aiFilterRegistration() {\n        FilterRegistrationBean registration = new FilterRegistrationBean();\n        registration.setFilter(new WebRequestTrackingFilter());\n        registration.addUrlPatterns(&quot;/**&quot;);\n        registration.setOrder(1);\n        return registration;\n    } \n\n    @Bean(name = &quot;WebRequestTrackingFilter&quot;)\n    public Filter WebRequestTrackingFilter() {\n        return new WebRequestTrackingFilter();\n    }   \n}\n</code></pre>\n"},{"tags":["java","android","widget","launcher"],"comments":[{"owner":{"account_id":334117,"reputation":15586,"user_id":660350,"accept_rate":54,"display_name":"Pascal"},"score":1,"creation_date":1453995104,"post_id":11473757,"comment_id":57854160,"body_markdown":"Here is a good explanation along with a full working project:\nhttp://leonardofischer.com/hosting-android-widgets-my-appwidgethost-tutorial/\nSource: http://leonardofischer.com/wp-content/uploads/2012/01/WidgetHostExample.zip\nJust need to apply this fix: http://selvaline.blogspot.it/2015/10/hosting-widgets-and-regurally-update.html","body":"Here is a good explanation along with a full working project: <a href=\"http://leonardofischer.com/hosting-android-widgets-my-appwidgethost-tutorial/\" rel=\"nofollow noreferrer\">leonardofischer.com/&hellip;</a> Source: <a href=\"http://leonardofischer.com/wp-content/uploads/2012/01/WidgetHostExample.zip\" rel=\"nofollow noreferrer\">leonardofischer.com/wp-content/uploads/2012/01/&hellip;</a> Just need to apply this fix: <a href=\"http://selvaline.blogspot.it/2015/10/hosting-widgets-and-regurally-update.html\" rel=\"nofollow noreferrer\">selvaline.blogspot.it/2015/10/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1583220,"reputation":7661,"user_id":1468093,"accept_rate":86,"display_name":"Kamran Ahmed"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1501562036,"creation_date":1342239474,"answer_id":11480986,"question_id":11473757,"body_markdown":"Try this:\r\n\r\n    final int APPWIDGET_HOST_ID = 2048;\r\n    final int REQUEST_PICK_APPWIDGET = 0;\r\n    final int REQUEST_CREATE_APPWIDGET = 5;\r\n\r\n    AppWidgetManager appWidgetManager;\r\n    AppWidgetHost appWidgetHost;\r\n\r\n    // Let user pick a widget from the list of intalled AppWidgets\r\n    public void selectWidget()\r\n    {\r\n        int appWidgetId = this.appWidgetHost.allocateAppWidgetId();\r\n        Intent pickIntent = new Intent(AppWidgetManager.ACTION_APPWIDGET_PICK);\r\n        pickIntent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, appWidgetId);\r\n        addEmptyData(pickIntent);\r\n        startActivityForResult(pickIntent, REQUEST_PICK_APPWIDGET);\r\n    }\r\n\r\n    // For some reason you have to add this empty data, else it won&#39;t work\r\n    public void addEmptyData(Intent pickIntent)\r\n    {\r\n        ArrayList&lt;AppWidgetProviderInfo&gt; customInfo = \r\n            new ArrayList&lt;AppWidgetProviderInfo&gt;();\r\n        pickIntent.putParcelableArrayListExtra(\r\n            AppWidgetManager.EXTRA_CUSTOM_INFO, customInfo);\r\n        ArrayList&lt;Bundle&gt; customExtras = new ArrayList&lt;Bundle&gt;();\r\n        pickIntent.putParcelableArrayListExtra(\r\n            AppWidgetManager.EXTRA_CUSTOM_EXTRAS, customExtras);\r\n    };\r\n    \r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, \r\n                                    Intent data) {\r\n        if (resultCode == RESULT_OK ) {\r\n            if (requestCode == REQUEST_PICK_APPWIDGET) {\r\n                configureWidget(data);\r\n            }\r\n            else if (requestCode == REQUEST_CREATE_APPWIDGET) {\r\n                createWidget(data);\r\n            }\r\n        }\r\n        else if (resultCode == RESULT_CANCELED &amp;&amp; data != null) {\r\n            int appWidgetId = \r\n                data.getIntExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, -1);\r\n            if (appWidgetId != -1) {\r\n            \tappWidgetHost.deleteAppWidgetId(appWidgetId);\r\n            }\r\n        }\r\n    }\r\n\r\n    // Show configuration activity of the widget picked by the user\r\n    private void configureWidget(Intent data) {\r\n        Bundle extras = data.getExtras();\r\n        int appWidgetId = extras.getInt(AppWidgetManager.EXTRA_APPWIDGET_ID, -1);\r\n        AppWidgetProviderInfo appWidgetInfo = \r\n        \t\tappWidgetManager.getAppWidgetInfo(appWidgetId);\r\n        if (appWidgetInfo.configure != null) {\r\n            Intent intent = \r\n                new Intent(AppWidgetManager.ACTION_APPWIDGET_CONFIGURE);\r\n            intent.setComponent(appWidgetInfo.configure);\r\n            intent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, appWidgetId);\r\n            startActivityForResult(intent, REQUEST_CREATE_APPWIDGET);\r\n        } else {\r\n            createWidget(data);\r\n        }\r\n    }\r\n    \r\n    // Get an instance of the selected widget as a AppWidgetHostView\r\n    public void createWidget(Intent data) {\r\n        Bundle extras = data.getExtras();\r\n        int appWidgetId = extras.getInt(AppWidgetManager.EXTRA_APPWIDGET_ID, -1);\r\n        AppWidgetProviderInfo appWidgetInfo = appWidgetManager.getAppWidgetInfo(appWidgetId);\r\n        \r\n        AppWidgetHostView hostView = appWidgetHost.createView(this, appWidgetId, appWidgetInfo);\r\n        hostView.setAppWidget(appWidgetId, appWidgetInfo);\r\n        // Add  it on the layout you want\r\n        myLayout.addView(hostView);\r\n    }\r\n    \r\n    // Call this when you want to remove one from your layout\r\n    public void removeWidget(AppWidgetHostView hostView) {\r\n    \tappWidgetHost.deleteAppWidgetId(hostView.getAppWidgetId());\r\n\r\n        // Remove from your layout\r\n    \tmyLayout.removeView(hostView);\r\n    }\r\n    \r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        appWidgetManager = AppWidgetManager.getInstance(this);\r\n        appWidgetHost = new AppWidgetHost(this, APPWIDGET_HOST_ID);\r\n\r\n        // Start listening to pending intents from the widgets\r\n        appWidgetHost.startListening();\r\n    }\r\n\r\n    @Override\r\n    protected void onStop() {\r\n        super.onStop();\r\n        appWidgetHost.stopListening();\r\n    }\r\n\r\nAll you&#39;ve got to do is call the method `selectWidget()` whenever you want to show a list of AppWidgets installed on the device to pick from.\r\n\r\nThis code is a bit of a modified version of the stock Android launcher.\r\n\r\n**EDIT**:\r\n\r\nTo bind widget IDs, i.e. make widgets update and respond to user interaction, refer the solution here: [Widgets don&#39;t respond when re-added through code](https://stackoverflow.com/a/44351320/1468093)","title":"Hosting widgets in an android launcher","body":"<p>Try this:</p>\n\n<pre><code>final int APPWIDGET_HOST_ID = 2048;\nfinal int REQUEST_PICK_APPWIDGET = 0;\nfinal int REQUEST_CREATE_APPWIDGET = 5;\n\nAppWidgetManager appWidgetManager;\nAppWidgetHost appWidgetHost;\n\n// Let user pick a widget from the list of intalled AppWidgets\npublic void selectWidget()\n{\n    int appWidgetId = this.appWidgetHost.allocateAppWidgetId();\n    Intent pickIntent = new Intent(AppWidgetManager.ACTION_APPWIDGET_PICK);\n    pickIntent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, appWidgetId);\n    addEmptyData(pickIntent);\n    startActivityForResult(pickIntent, REQUEST_PICK_APPWIDGET);\n}\n\n// For some reason you have to add this empty data, else it won't work\npublic void addEmptyData(Intent pickIntent)\n{\n    ArrayList&lt;AppWidgetProviderInfo&gt; customInfo = \n        new ArrayList&lt;AppWidgetProviderInfo&gt;();\n    pickIntent.putParcelableArrayListExtra(\n        AppWidgetManager.EXTRA_CUSTOM_INFO, customInfo);\n    ArrayList&lt;Bundle&gt; customExtras = new ArrayList&lt;Bundle&gt;();\n    pickIntent.putParcelableArrayListExtra(\n        AppWidgetManager.EXTRA_CUSTOM_EXTRAS, customExtras);\n};\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, \n                                Intent data) {\n    if (resultCode == RESULT_OK ) {\n        if (requestCode == REQUEST_PICK_APPWIDGET) {\n            configureWidget(data);\n        }\n        else if (requestCode == REQUEST_CREATE_APPWIDGET) {\n            createWidget(data);\n        }\n    }\n    else if (resultCode == RESULT_CANCELED &amp;&amp; data != null) {\n        int appWidgetId = \n            data.getIntExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, -1);\n        if (appWidgetId != -1) {\n            appWidgetHost.deleteAppWidgetId(appWidgetId);\n        }\n    }\n}\n\n// Show configuration activity of the widget picked by the user\nprivate void configureWidget(Intent data) {\n    Bundle extras = data.getExtras();\n    int appWidgetId = extras.getInt(AppWidgetManager.EXTRA_APPWIDGET_ID, -1);\n    AppWidgetProviderInfo appWidgetInfo = \n            appWidgetManager.getAppWidgetInfo(appWidgetId);\n    if (appWidgetInfo.configure != null) {\n        Intent intent = \n            new Intent(AppWidgetManager.ACTION_APPWIDGET_CONFIGURE);\n        intent.setComponent(appWidgetInfo.configure);\n        intent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, appWidgetId);\n        startActivityForResult(intent, REQUEST_CREATE_APPWIDGET);\n    } else {\n        createWidget(data);\n    }\n}\n\n// Get an instance of the selected widget as a AppWidgetHostView\npublic void createWidget(Intent data) {\n    Bundle extras = data.getExtras();\n    int appWidgetId = extras.getInt(AppWidgetManager.EXTRA_APPWIDGET_ID, -1);\n    AppWidgetProviderInfo appWidgetInfo = appWidgetManager.getAppWidgetInfo(appWidgetId);\n\n    AppWidgetHostView hostView = appWidgetHost.createView(this, appWidgetId, appWidgetInfo);\n    hostView.setAppWidget(appWidgetId, appWidgetInfo);\n    // Add  it on the layout you want\n    myLayout.addView(hostView);\n}\n\n// Call this when you want to remove one from your layout\npublic void removeWidget(AppWidgetHostView hostView) {\n    appWidgetHost.deleteAppWidgetId(hostView.getAppWidgetId());\n\n    // Remove from your layout\n    myLayout.removeView(hostView);\n}\n\n@Override\nprotected void onStart() {\n    super.onStart();\n    appWidgetManager = AppWidgetManager.getInstance(this);\n    appWidgetHost = new AppWidgetHost(this, APPWIDGET_HOST_ID);\n\n    // Start listening to pending intents from the widgets\n    appWidgetHost.startListening();\n}\n\n@Override\nprotected void onStop() {\n    super.onStop();\n    appWidgetHost.stopListening();\n}\n</code></pre>\n\n<p>All you've got to do is call the method <code>selectWidget()</code> whenever you want to show a list of AppWidgets installed on the device to pick from.</p>\n\n<p>This code is a bit of a modified version of the stock Android launcher.</p>\n\n<p><strong>EDIT</strong>:</p>\n\n<p>To bind widget IDs, i.e. make widgets update and respond to user interaction, refer the solution here: <a href=\"https://stackoverflow.com/a/44351320/1468093\">Widgets don't respond when re-added through code</a></p>\n"},{"tags":[],"owner":{"account_id":20527392,"reputation":13,"user_id":15065505,"display_name":"HelpIDontUnderstandComputers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691497174,"creation_date":1691497174,"answer_id":76859504,"question_id":11473757,"body_markdown":"I know I am a bit late but things have changed and the code provided by Leonardo Garcia Fischer doesn&#39;t work anymore.\r\n\r\nHere is the updated version:\r\n\r\n    final int appWidgetHostId = 23456;\r\n    final int REQUEST_BIND_APPWIDGET = 12345;\r\n    AppWidgetHost widgetHost;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        widgetHost = new AppWidgetHost(getApplicationContext(), appWidgetHostId);\r\n        widgetHost.startListening();\r\n    }\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        widgetHost.stopListening();\r\n        super.onDestroy();\r\n    }\r\n\r\n    void configureWidget(int appWidgetId) {\r\n        widgetHost.startAppWidgetConfigureActivityForResult(this, appWidgetId, 0, 0, null);\r\n    }\r\n\r\n    AppWidgetProviderInfo getWidgetProviderInfo(String packageName, int widgetPosition) {\r\n        AppWidgetManager manager = AppWidgetManager.getInstance(this);\r\n        List&lt;AppWidgetProviderInfo&gt; infos = manager.getInstalledProvidersForPackage(packageName, Process.myUserHandle());\r\n        return infos.get(widgetPosition);\r\n    }\r\n\r\n    AppWidgetHostView getWidgetHostView(AppWidgetProviderInfo info) {\r\n        int appWidgetId = widgetHost.allocateAppWidgetId();\r\n        AppWidgetManager manager = AppWidgetManager.getInstance(getApplicationContext());\r\n\r\n        boolean canBindWidgets = manager.bindAppWidgetIdIfAllowed(appWidgetId, info.provider);\r\n        if(!canBindWidgets) {\r\n            Intent intent = new Intent(AppWidgetManager.ACTION_APPWIDGET_BIND);\r\n            intent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, appWidgetId);\r\n            intent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_PROVIDER, info.provider);\r\n            startActivityForResult(intent, REQUEST_BIND_APPWIDGET);\r\n        }\r\n\r\n        AppWidgetHostView widgetHostView = widgetHost.createView(getApplicationContext(), appWidgetId, info);\r\n        \r\n        if(info.configure != null) {\r\n            configureWidget(appWidgetId);\r\n        }\r\n\r\n        return widgetHostView;\r\n    }\r\n\r\nNow, if you want to create an app widget, first you call `getWidgetProviderInfo()` by specifying which package you want to get your app widgets from and which widget you want (because there may be more than one). Then, you pass the result to `getWidgetHostView` which will create the widget and launch the configure activity if there is one. Then, you can use the AppWidgetHostView it returns and put it in a linear layout for example. Here is a more complete example:\r\n\r\n    void createMyWidget() {\r\n        String packageName = com.xxx.xxx;\r\n        AppWidgetProviderInfo widgetInfo = getWidgetProviderInfo(packageName, 0);\r\n        AppWidgetHostView widgetHostView = getWidgetHostView(widgetInfo);\r\n        //Add the widgetHostView to your container.\r\n    }\r\n        \r\nFinally, if you want to reconfigure your app widget, you can do so by calling `configureWidget` and passing its app widget id as a parameter. It will relauch the configure activity (if there is one; that&#39;s why you should verify if it exists first by looking at the widget&#39;s provider info, just like in the `getWidgetHostView` function).","title":"Hosting widgets in an android launcher","body":"<p>I know I am a bit late but things have changed and the code provided by Leonardo Garcia Fischer doesn't work anymore.</p>\n<p>Here is the updated version:</p>\n<pre><code>final int appWidgetHostId = 23456;\nfinal int REQUEST_BIND_APPWIDGET = 12345;\nAppWidgetHost widgetHost;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    widgetHost = new AppWidgetHost(getApplicationContext(), appWidgetHostId);\n    widgetHost.startListening();\n}\n\n@Override\nprotected void onDestroy() {\n    widgetHost.stopListening();\n    super.onDestroy();\n}\n\nvoid configureWidget(int appWidgetId) {\n    widgetHost.startAppWidgetConfigureActivityForResult(this, appWidgetId, 0, 0, null);\n}\n\nAppWidgetProviderInfo getWidgetProviderInfo(String packageName, int widgetPosition) {\n    AppWidgetManager manager = AppWidgetManager.getInstance(this);\n    List&lt;AppWidgetProviderInfo&gt; infos = manager.getInstalledProvidersForPackage(packageName, Process.myUserHandle());\n    return infos.get(widgetPosition);\n}\n\nAppWidgetHostView getWidgetHostView(AppWidgetProviderInfo info) {\n    int appWidgetId = widgetHost.allocateAppWidgetId();\n    AppWidgetManager manager = AppWidgetManager.getInstance(getApplicationContext());\n\n    boolean canBindWidgets = manager.bindAppWidgetIdIfAllowed(appWidgetId, info.provider);\n    if(!canBindWidgets) {\n        Intent intent = new Intent(AppWidgetManager.ACTION_APPWIDGET_BIND);\n        intent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, appWidgetId);\n        intent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_PROVIDER, info.provider);\n        startActivityForResult(intent, REQUEST_BIND_APPWIDGET);\n    }\n\n    AppWidgetHostView widgetHostView = widgetHost.createView(getApplicationContext(), appWidgetId, info);\n    \n    if(info.configure != null) {\n        configureWidget(appWidgetId);\n    }\n\n    return widgetHostView;\n}\n</code></pre>\n<p>Now, if you want to create an app widget, first you call <code>getWidgetProviderInfo()</code> by specifying which package you want to get your app widgets from and which widget you want (because there may be more than one). Then, you pass the result to <code>getWidgetHostView</code> which will create the widget and launch the configure activity if there is one. Then, you can use the AppWidgetHostView it returns and put it in a linear layout for example. Here is a more complete example:</p>\n<pre><code>void createMyWidget() {\n    String packageName = com.xxx.xxx;\n    AppWidgetProviderInfo widgetInfo = getWidgetProviderInfo(packageName, 0);\n    AppWidgetHostView widgetHostView = getWidgetHostView(widgetInfo);\n    //Add the widgetHostView to your container.\n}\n    \n</code></pre>\n<p>Finally, if you want to reconfigure your app widget, you can do so by calling <code>configureWidget</code> and passing its app widget id as a parameter. It will relauch the configure activity (if there is one; that's why you should verify if it exists first by looking at the widget's provider info, just like in the <code>getWidgetHostView</code> function).</p>\n"}],"owner":{"account_id":1555324,"reputation":427,"user_id":1446632,"accept_rate":48,"display_name":"user1446632"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4789,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":2,"score":11,"last_activity_date":1691497174,"creation_date":1342193945,"question_id":11473757,"body_markdown":"I am making a launcher for android, and I&#39;m stuck at the widget part. I&#39;ve been searching for about an hour and a half on the internet trying to figure out how can I host widgets in my application, but no luck.\r\n\r\nI have went through some stock launchers and ADW launcher codes but both just have miles of code and this is the first time I&#39;m making a launcher.\r\n\r\nCould someone please guide me through how can I add widgets into my launcher? Or at least post any links/tutorials? Please explain it since this is my first time.\r\n","title":"Hosting widgets in an android launcher","body":"<p>I am making a launcher for android, and I'm stuck at the widget part. I've been searching for about an hour and a half on the internet trying to figure out how can I host widgets in my application, but no luck.</p>\n\n<p>I have went through some stock launchers and ADW launcher codes but both just have miles of code and this is the first time I'm making a launcher.</p>\n\n<p>Could someone please guide me through how can I add widgets into my launcher? Or at least post any links/tutorials? Please explain it since this is my first time.</p>\n"},{"tags":["java","spring-boot","hibernate","maven","ehcache"],"answers":[{"tags":[],"owner":{"account_id":183306,"reputation":9428,"user_id":418599,"accept_rate":52,"display_name":"Antonio Petricca"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1691489837,"creation_date":1691489837,"answer_id":76858598,"question_id":76853497,"body_markdown":"I finally found a solution to all the issues.\r\n\r\nI report **ONLY the fixes** to the posted source code:\r\n\r\n**application.yaml**\r\n\r\n```yaml\r\nspring:\r\n  jpa:\r\n    properties:\r\n      hibernate:\r\n        cache:\r\n          region.factory_class: org.hibernate.cache.jcache.internal.JCacheRegionFactory\r\n          use_second_level_cache: true\r\n          use_query_cache: true\r\n\r\n        javax:\r\n          cache:\r\n            provider: org.ehcache.jsr107.EhcacheCachingProvider\r\n            uri: file:///app/config/ehcache.xml\r\n          missing_cache_strategy: fail\r\n```\r\n\r\n**ehcache.xml**\r\n\r\n```xml\r\n    &lt;!-- Entities (Mandatory: alias must be a FQDN of the entity in order to properly instantiate the cache as configured here!)--&gt;\r\n\r\n    &lt;cache\r\n        alias=&quot;it.sisal.betting.api.demo.springboot.application.persistence.entities.DemoEntity&quot;\r\n        uses-template=&quot;entitiesDefault&quot;\r\n    /&gt;\r\n```\r\n\r\nNo everything works!!!","title":"Porting to Springboot 3 / Hibernate 6 / EHCache 3","body":"<p>I finally found a solution to all the issues.</p>\n<p>I report <strong>ONLY the fixes</strong> to the posted source code:</p>\n<p><strong>application.yaml</strong></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  jpa:\n    properties:\n      hibernate:\n        cache:\n          region.factory_class: org.hibernate.cache.jcache.internal.JCacheRegionFactory\n          use_second_level_cache: true\n          use_query_cache: true\n\n        javax:\n          cache:\n            provider: org.ehcache.jsr107.EhcacheCachingProvider\n            uri: file:///app/config/ehcache.xml\n          missing_cache_strategy: fail\n</code></pre>\n<p><strong>ehcache.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;!-- Entities (Mandatory: alias must be a FQDN of the entity in order to properly instantiate the cache as configured here!)--&gt;\n\n    &lt;cache\n        alias=&quot;it.sisal.betting.api.demo.springboot.application.persistence.entities.DemoEntity&quot;\n        uses-template=&quot;entitiesDefault&quot;\n    /&gt;\n</code></pre>\n<p>No everything works!!!</p>\n"}],"owner":{"account_id":183306,"reputation":9428,"user_id":418599,"accept_rate":52,"display_name":"Antonio Petricca"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":743,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":76858598,"answer_count":1,"score":4,"last_activity_date":1691497041,"creation_date":1691425432,"question_id":76853497,"body_markdown":"I am trying since few days to move my old project based on **Springboot 2 / Hibernate 5 / EHCache 2** to the newer **Java 17 / Springboot 3 / Hibernate 6 / EHCache 3**.\r\n\r\nOf course I&#39;ve read a lot of documentation, tried many configurations and dependencies setup. I also debugged the libraries to figure out what was the reason of my problems.\r\n\r\nBefore posting the relevant parts of my code, I wish to list the issues I am trying to solve:\r\n\r\n1. The project starts, the configuration gets parsed (I see that by debugging), the EHCache listeners are registered, but when fetch data from DB, it is stored in the cache, but the listener does not fire. \r\n2. Despite of the **1 minute TTL**, the stored items never expire.\r\n3. I see by debugging that the DemoEntity EHCache configuration initializes two times: from JCache before, then by Hibernate itself (this flow maybe the root cause of some of the above issues).\r\n\r\nI realize it&#39;s not easy to answer with so little information at your disposal, but I trust you can tell me if I&#39;ve made any obvious mistakes in dependency inclusion, application configuration (`application.yaml`), or in the code itself.\r\n\r\nIt follows the relevant code parts.\r\n\r\nThank you in advance!\r\n\r\n**pom.xml**\r\n\r\n```xml\r\n&lt;properties&gt;\r\n    &lt;springboot.version&gt;3.1.2&lt;/springboot.version&gt;\r\n    &lt;ehcache.version&gt;3.10.8&lt;/ehcache.version&gt;\r\n    &lt;hibernate.version&gt;6.2.2.Final&lt;/hibernate.version&gt; &lt;!-- As for the current version of springboot --&gt;\r\n&lt;/properties&gt;\r\n\r\n&lt;dependencies&gt;\r\n  &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n  &lt;/dependency&gt;\r\n\r\n  &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\r\n      &lt;version&gt;${springboot.version}&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n\r\n  &lt;dependency&gt;\r\n      &lt;groupId&gt;org.ehcache&lt;/groupId&gt;\r\n      &lt;artifactId&gt;ehcache&lt;/artifactId&gt;\r\n      &lt;version&gt;${ehcache.version}&lt;/version&gt;\r\n      &lt;classifier&gt;jakarta&lt;/classifier&gt;\r\n  &lt;/dependency&gt;\r\n\r\n  &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-jcache&lt;/artifactId&gt;\r\n      &lt;version&gt;${hibernate.version}&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\n**application.yaml**\r\n\r\n```yaml\r\nspring:\r\n  cache:\r\n    jcache:\r\n      config: file:///app/config/ehcache.xml\r\n\r\n  jpa:\r\n    properties:\r\n      hibernate:\r\n        cache:\r\n          region.factory_class: org.hibernate.cache.jcache.internal.JCacheRegionFactory\r\n          use_second_level_cache: true\r\n          use_query_cache: true\r\n```\r\n\r\n**ehcache.xml**\r\n\r\n```xml\r\n&lt;config\r\n    xmlns:xsi=&#39;http://www.w3.org/2001/XMLSchema-instance&#39;\r\n    xmlns=&#39;http://www.ehcache.org/v3&#39;\r\n    xmlns:jsr107=&#39;http://www.ehcache.org/v3/jsr107&#39;\r\n    xsi:schemaLocation=&quot;http://www.ehcache.org/v3 http://www.ehcache.org/schema/ehcache-core-3.10.xsd&quot;\r\n&gt;\r\n    &lt;cache-template name=&quot;entitiesDefault&quot;&gt;\r\n        &lt;expiry&gt;\r\n            &lt;ttl unit=&quot;minutes&quot;&gt;1&lt;/ttl&gt;\r\n        &lt;/expiry&gt;\r\n\r\n        &lt;listeners&gt;\r\n            &lt;listener&gt;\r\n                &lt;class&gt;api.demo.springboot.framework.persistence.JpaCacheEventListener&lt;/class&gt;\r\n                &lt;event-firing-mode&gt;ASYNCHRONOUS&lt;/event-firing-mode&gt;\r\n                &lt;event-ordering-mode&gt;ORDERED&lt;/event-ordering-mode&gt;\r\n                &lt;events-to-fire-on&gt;CREATED&lt;/events-to-fire-on&gt;\r\n                &lt;events-to-fire-on&gt;EVICTED&lt;/events-to-fire-on&gt;\r\n                &lt;events-to-fire-on&gt;EXPIRED&lt;/events-to-fire-on&gt;\r\n                &lt;events-to-fire-on&gt;REMOVED&lt;/events-to-fire-on&gt;\r\n                &lt;events-to-fire-on&gt;UPDATED&lt;/events-to-fire-on&gt;\r\n            &lt;/listener&gt;\r\n        &lt;/listeners&gt;\r\n\r\n        &lt;resources&gt;\r\n            &lt;heap unit=&quot;entries&quot;&gt;1000&lt;/heap&gt;\r\n        &lt;/resources&gt;\r\n    &lt;/cache-template&gt;\r\n\r\n    &lt;cache-template name=&quot;entitiesRelationsDefault&quot;&gt;\r\n        &lt;expiry&gt;\r\n            &lt;ttl unit=&quot;minutes&quot;&gt;1&lt;/ttl&gt;\r\n        &lt;/expiry&gt;\r\n\r\n        &lt;listeners&gt;\r\n            &lt;listener&gt;\r\n                &lt;class&gt;api.demo.springboot.framework.persistence.JpaCacheEventListener&lt;/class&gt;\r\n                &lt;event-firing-mode&gt;ASYNCHRONOUS&lt;/event-firing-mode&gt;\r\n                &lt;event-ordering-mode&gt;ORDERED&lt;/event-ordering-mode&gt;\r\n                &lt;events-to-fire-on&gt;CREATED&lt;/events-to-fire-on&gt;\r\n                &lt;events-to-fire-on&gt;EVICTED&lt;/events-to-fire-on&gt;\r\n                &lt;events-to-fire-on&gt;EXPIRED&lt;/events-to-fire-on&gt;\r\n                &lt;events-to-fire-on&gt;REMOVED&lt;/events-to-fire-on&gt;\r\n                &lt;events-to-fire-on&gt;UPDATED&lt;/events-to-fire-on&gt;\r\n            &lt;/listener&gt;\r\n        &lt;/listeners&gt;\r\n\r\n        &lt;resources&gt;\r\n            &lt;heap unit=&quot;entries&quot;&gt;1000&lt;/heap&gt;\r\n        &lt;/resources&gt;\r\n    &lt;/cache-template&gt;\r\n\r\n    &lt;cache-template name=&quot;queriesDefault&quot;&gt;\r\n        &lt;expiry&gt;\r\n            &lt;ttl unit=&quot;minutes&quot;&gt;1&lt;/ttl&gt;\r\n        &lt;/expiry&gt;\r\n\r\n        &lt;listeners&gt;\r\n            &lt;listener&gt;\r\n                &lt;class&gt;api.demo.springboot.framework.persistence.JpaCacheEventListener&lt;/class&gt;\r\n                &lt;event-firing-mode&gt;ASYNCHRONOUS&lt;/event-firing-mode&gt;\r\n                &lt;event-ordering-mode&gt;ORDERED&lt;/event-ordering-mode&gt;\r\n                &lt;events-to-fire-on&gt;CREATED&lt;/events-to-fire-on&gt;\r\n                &lt;events-to-fire-on&gt;EVICTED&lt;/events-to-fire-on&gt;\r\n                &lt;events-to-fire-on&gt;EXPIRED&lt;/events-to-fire-on&gt;\r\n                &lt;events-to-fire-on&gt;REMOVED&lt;/events-to-fire-on&gt;\r\n                &lt;events-to-fire-on&gt;UPDATED&lt;/events-to-fire-on&gt;\r\n            &lt;/listener&gt;\r\n        &lt;/listeners&gt;\r\n\r\n        &lt;resources&gt;\r\n            &lt;heap unit=&quot;entries&quot;&gt;1000&lt;/heap&gt;\r\n        &lt;/resources&gt;\r\n    &lt;/cache-template&gt;\r\n\r\n    &lt;cache\r\n        alias=&quot;default-update-timestamps-region&quot;\r\n    &gt;\r\n        &lt;expiry&gt;\r\n            &lt;ttl unit=&quot;minutes&quot;&gt;1&lt;/ttl&gt;\r\n        &lt;/expiry&gt;\r\n\r\n        &lt;listeners&gt;\r\n            &lt;listener&gt;\r\n                &lt;class&gt;api.demo.springboot.framework.persistence.JpaCacheEventListener&lt;/class&gt;\r\n                &lt;event-firing-mode&gt;ASYNCHRONOUS&lt;/event-firing-mode&gt;\r\n                &lt;event-ordering-mode&gt;ORDERED&lt;/event-ordering-mode&gt;\r\n                &lt;events-to-fire-on&gt;CREATED&lt;/events-to-fire-on&gt;\r\n                &lt;events-to-fire-on&gt;EVICTED&lt;/events-to-fire-on&gt;\r\n                &lt;events-to-fire-on&gt;EXPIRED&lt;/events-to-fire-on&gt;\r\n                &lt;events-to-fire-on&gt;REMOVED&lt;/events-to-fire-on&gt;\r\n                &lt;events-to-fire-on&gt;UPDATED&lt;/events-to-fire-on&gt;\r\n            &lt;/listener&gt;\r\n        &lt;/listeners&gt;\r\n\r\n        &lt;resources&gt;\r\n            &lt;heap unit=&quot;entries&quot;&gt;1000&lt;/heap&gt;\r\n        &lt;/resources&gt;\r\n    &lt;/cache&gt;\r\n\r\n    &lt;cache\r\n        alias=&quot;default-query-results-region&quot;\r\n        uses-template=&quot;queriesDefault&quot;\r\n    /&gt;\r\n\r\n    &lt;cache\r\n        alias=&quot;DemoEntity&quot;\r\n        uses-template=&quot;entitiesDefault&quot;\r\n    &gt;\r\n        &lt;value-type&gt;api.demo.springboot.application.persistence.entities.DemoEntity&lt;/value-type&gt;\r\n    &lt;/cache&gt;\r\n&lt;/config&gt;\r\n```\r\n\r\n**DemoEntity.java**\r\n\r\n```java\r\nimport jakarta.persistence.*;\r\nimport lombok.Data;\r\nimport org.hibernate.annotations.Cache;\r\nimport org.hibernate.annotations.CacheConcurrencyStrategy;\r\nimport org.springframework.cache.annotation.Cacheable;\r\n\r\nimport java.io.Serializable;\r\n\r\n@Data\r\n\r\n@Entity\r\n@Table(name = &quot;DEMO_TABLE&quot;)\r\n\r\n@Cacheable\r\n@Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\r\npublic class DemoEntity implements Serializable {\r\n    private static final long serialVersionUID = 0L;\r\n\r\n    @Id\r\n    @Column(name = &quot;ID&quot;)\r\n    private Integer id;\r\n\r\n    @Column(name = &quot;DESCRIPTION&quot;)\r\n    private String description;\r\n\r\n}\r\n```\r\n\r\n**JpaCacheEventListener.java**\r\n\r\n```java\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.ehcache.event.CacheEvent;\r\nimport org.ehcache.event.CacheEventListener;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Slf4j\r\n@Component\r\npublic class JpaCacheEventListener implements CacheEventListener&lt;Object, Object&gt; {\r\n\r\n    @Override\r\n    public void onEvent(CacheEvent event) {\r\n        if (log.isTraceEnabled()) {\r\n            log.trace(\r\n                &quot;{ type: {}, key: {} }&quot;,\r\n                event.getType(),\r\n                event.getKey()\r\n            );\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n","title":"Porting to Springboot 3 / Hibernate 6 / EHCache 3","body":"<p>I am trying since few days to move my old project based on <strong>Springboot 2 / Hibernate 5 / EHCache 2</strong> to the newer <strong>Java 17 / Springboot 3 / Hibernate 6 / EHCache 3</strong>.</p>\n<p>Of course I've read a lot of documentation, tried many configurations and dependencies setup. I also debugged the libraries to figure out what was the reason of my problems.</p>\n<p>Before posting the relevant parts of my code, I wish to list the issues I am trying to solve:</p>\n<ol>\n<li>The project starts, the configuration gets parsed (I see that by debugging), the EHCache listeners are registered, but when fetch data from DB, it is stored in the cache, but the listener does not fire.</li>\n<li>Despite of the <strong>1 minute TTL</strong>, the stored items never expire.</li>\n<li>I see by debugging that the DemoEntity EHCache configuration initializes two times: from JCache before, then by Hibernate itself (this flow maybe the root cause of some of the above issues).</li>\n</ol>\n<p>I realize it's not easy to answer with so little information at your disposal, but I trust you can tell me if I've made any obvious mistakes in dependency inclusion, application configuration (<code>application.yaml</code>), or in the code itself.</p>\n<p>It follows the relevant code parts.</p>\n<p>Thank you in advance!</p>\n<p><strong>pom.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n    &lt;springboot.version&gt;3.1.2&lt;/springboot.version&gt;\n    &lt;ehcache.version&gt;3.10.8&lt;/ehcache.version&gt;\n    &lt;hibernate.version&gt;6.2.2.Final&lt;/hibernate.version&gt; &lt;!-- As for the current version of springboot --&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n  &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n\n  &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n      &lt;version&gt;${springboot.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n\n  &lt;dependency&gt;\n      &lt;groupId&gt;org.ehcache&lt;/groupId&gt;\n      &lt;artifactId&gt;ehcache&lt;/artifactId&gt;\n      &lt;version&gt;${ehcache.version}&lt;/version&gt;\n      &lt;classifier&gt;jakarta&lt;/classifier&gt;\n  &lt;/dependency&gt;\n\n  &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-jcache&lt;/artifactId&gt;\n      &lt;version&gt;${hibernate.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p><strong>application.yaml</strong></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  cache:\n    jcache:\n      config: file:///app/config/ehcache.xml\n\n  jpa:\n    properties:\n      hibernate:\n        cache:\n          region.factory_class: org.hibernate.cache.jcache.internal.JCacheRegionFactory\n          use_second_level_cache: true\n          use_query_cache: true\n</code></pre>\n<p><strong>ehcache.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;config\n    xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'\n    xmlns='http://www.ehcache.org/v3'\n    xmlns:jsr107='http://www.ehcache.org/v3/jsr107'\n    xsi:schemaLocation=&quot;http://www.ehcache.org/v3 http://www.ehcache.org/schema/ehcache-core-3.10.xsd&quot;\n&gt;\n    &lt;cache-template name=&quot;entitiesDefault&quot;&gt;\n        &lt;expiry&gt;\n            &lt;ttl unit=&quot;minutes&quot;&gt;1&lt;/ttl&gt;\n        &lt;/expiry&gt;\n\n        &lt;listeners&gt;\n            &lt;listener&gt;\n                &lt;class&gt;api.demo.springboot.framework.persistence.JpaCacheEventListener&lt;/class&gt;\n                &lt;event-firing-mode&gt;ASYNCHRONOUS&lt;/event-firing-mode&gt;\n                &lt;event-ordering-mode&gt;ORDERED&lt;/event-ordering-mode&gt;\n                &lt;events-to-fire-on&gt;CREATED&lt;/events-to-fire-on&gt;\n                &lt;events-to-fire-on&gt;EVICTED&lt;/events-to-fire-on&gt;\n                &lt;events-to-fire-on&gt;EXPIRED&lt;/events-to-fire-on&gt;\n                &lt;events-to-fire-on&gt;REMOVED&lt;/events-to-fire-on&gt;\n                &lt;events-to-fire-on&gt;UPDATED&lt;/events-to-fire-on&gt;\n            &lt;/listener&gt;\n        &lt;/listeners&gt;\n\n        &lt;resources&gt;\n            &lt;heap unit=&quot;entries&quot;&gt;1000&lt;/heap&gt;\n        &lt;/resources&gt;\n    &lt;/cache-template&gt;\n\n    &lt;cache-template name=&quot;entitiesRelationsDefault&quot;&gt;\n        &lt;expiry&gt;\n            &lt;ttl unit=&quot;minutes&quot;&gt;1&lt;/ttl&gt;\n        &lt;/expiry&gt;\n\n        &lt;listeners&gt;\n            &lt;listener&gt;\n                &lt;class&gt;api.demo.springboot.framework.persistence.JpaCacheEventListener&lt;/class&gt;\n                &lt;event-firing-mode&gt;ASYNCHRONOUS&lt;/event-firing-mode&gt;\n                &lt;event-ordering-mode&gt;ORDERED&lt;/event-ordering-mode&gt;\n                &lt;events-to-fire-on&gt;CREATED&lt;/events-to-fire-on&gt;\n                &lt;events-to-fire-on&gt;EVICTED&lt;/events-to-fire-on&gt;\n                &lt;events-to-fire-on&gt;EXPIRED&lt;/events-to-fire-on&gt;\n                &lt;events-to-fire-on&gt;REMOVED&lt;/events-to-fire-on&gt;\n                &lt;events-to-fire-on&gt;UPDATED&lt;/events-to-fire-on&gt;\n            &lt;/listener&gt;\n        &lt;/listeners&gt;\n\n        &lt;resources&gt;\n            &lt;heap unit=&quot;entries&quot;&gt;1000&lt;/heap&gt;\n        &lt;/resources&gt;\n    &lt;/cache-template&gt;\n\n    &lt;cache-template name=&quot;queriesDefault&quot;&gt;\n        &lt;expiry&gt;\n            &lt;ttl unit=&quot;minutes&quot;&gt;1&lt;/ttl&gt;\n        &lt;/expiry&gt;\n\n        &lt;listeners&gt;\n            &lt;listener&gt;\n                &lt;class&gt;api.demo.springboot.framework.persistence.JpaCacheEventListener&lt;/class&gt;\n                &lt;event-firing-mode&gt;ASYNCHRONOUS&lt;/event-firing-mode&gt;\n                &lt;event-ordering-mode&gt;ORDERED&lt;/event-ordering-mode&gt;\n                &lt;events-to-fire-on&gt;CREATED&lt;/events-to-fire-on&gt;\n                &lt;events-to-fire-on&gt;EVICTED&lt;/events-to-fire-on&gt;\n                &lt;events-to-fire-on&gt;EXPIRED&lt;/events-to-fire-on&gt;\n                &lt;events-to-fire-on&gt;REMOVED&lt;/events-to-fire-on&gt;\n                &lt;events-to-fire-on&gt;UPDATED&lt;/events-to-fire-on&gt;\n            &lt;/listener&gt;\n        &lt;/listeners&gt;\n\n        &lt;resources&gt;\n            &lt;heap unit=&quot;entries&quot;&gt;1000&lt;/heap&gt;\n        &lt;/resources&gt;\n    &lt;/cache-template&gt;\n\n    &lt;cache\n        alias=&quot;default-update-timestamps-region&quot;\n    &gt;\n        &lt;expiry&gt;\n            &lt;ttl unit=&quot;minutes&quot;&gt;1&lt;/ttl&gt;\n        &lt;/expiry&gt;\n\n        &lt;listeners&gt;\n            &lt;listener&gt;\n                &lt;class&gt;api.demo.springboot.framework.persistence.JpaCacheEventListener&lt;/class&gt;\n                &lt;event-firing-mode&gt;ASYNCHRONOUS&lt;/event-firing-mode&gt;\n                &lt;event-ordering-mode&gt;ORDERED&lt;/event-ordering-mode&gt;\n                &lt;events-to-fire-on&gt;CREATED&lt;/events-to-fire-on&gt;\n                &lt;events-to-fire-on&gt;EVICTED&lt;/events-to-fire-on&gt;\n                &lt;events-to-fire-on&gt;EXPIRED&lt;/events-to-fire-on&gt;\n                &lt;events-to-fire-on&gt;REMOVED&lt;/events-to-fire-on&gt;\n                &lt;events-to-fire-on&gt;UPDATED&lt;/events-to-fire-on&gt;\n            &lt;/listener&gt;\n        &lt;/listeners&gt;\n\n        &lt;resources&gt;\n            &lt;heap unit=&quot;entries&quot;&gt;1000&lt;/heap&gt;\n        &lt;/resources&gt;\n    &lt;/cache&gt;\n\n    &lt;cache\n        alias=&quot;default-query-results-region&quot;\n        uses-template=&quot;queriesDefault&quot;\n    /&gt;\n\n    &lt;cache\n        alias=&quot;DemoEntity&quot;\n        uses-template=&quot;entitiesDefault&quot;\n    &gt;\n        &lt;value-type&gt;api.demo.springboot.application.persistence.entities.DemoEntity&lt;/value-type&gt;\n    &lt;/cache&gt;\n&lt;/config&gt;\n</code></pre>\n<p><strong>DemoEntity.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import jakarta.persistence.*;\nimport lombok.Data;\nimport org.hibernate.annotations.Cache;\nimport org.hibernate.annotations.CacheConcurrencyStrategy;\nimport org.springframework.cache.annotation.Cacheable;\n\nimport java.io.Serializable;\n\n@Data\n\n@Entity\n@Table(name = &quot;DEMO_TABLE&quot;)\n\n@Cacheable\n@Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\npublic class DemoEntity implements Serializable {\n    private static final long serialVersionUID = 0L;\n\n    @Id\n    @Column(name = &quot;ID&quot;)\n    private Integer id;\n\n    @Column(name = &quot;DESCRIPTION&quot;)\n    private String description;\n\n}\n</code></pre>\n<p><strong>JpaCacheEventListener.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.extern.slf4j.Slf4j;\nimport org.ehcache.event.CacheEvent;\nimport org.ehcache.event.CacheEventListener;\nimport org.springframework.stereotype.Component;\n\n@Slf4j\n@Component\npublic class JpaCacheEventListener implements CacheEventListener&lt;Object, Object&gt; {\n\n    @Override\n    public void onEvent(CacheEvent event) {\n        if (log.isTraceEnabled()) {\n            log.trace(\n                &quot;{ type: {}, key: {} }&quot;,\n                event.getType(),\n                event.getKey()\n            );\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","openssl","bouncycastle","pem","pkcs#12"],"owner":{"account_id":3444588,"reputation":147,"user_id":2885704,"accept_rate":56,"display_name":"Ken"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691496760,"creation_date":1691496760,"question_id":76859450,"body_markdown":"I am looking to convert this command to java so that i can convert a pem file to the p12 format to be used in the application key store:\r\n```openssl pkcs12 -export -inkey combinedCertAndKey.pem -in combinedCertAndKey.pem -out cert_key.p12```\r\n\r\nThe file contains an encrypted private key.  I have been playing around with examples from here and other places but most have deprecated classes or class cast issues, i was trying to use the latest bouncycastle libs - 1.76 but i cant find working examples on this version and i really dont know it well at all.\r\n\r\nIf I run this command manually and use the p12 it works, but this has to be dynamic in the sense a pem will be stored securely(cant be binary), my springboot application will then access it in a secure manner, load this pem into memory and must then load it into the applications keystore. I figured if i can convert this command to java i would be sorted but there might be a simpler better solution?\r\n\r\nIs this conversion possible and are there better approaches, maybe i dont need to do any conversion but instead read the keys directly into the keystore?  I want to use as little 3rd party libraries as is possible.","title":"Openssl command to Java or Loading Pem with encrypted key and cert into keystore","body":"<p>I am looking to convert this command to java so that i can convert a pem file to the p12 format to be used in the application key store:\n<code>openssl pkcs12 -export -inkey combinedCertAndKey.pem -in combinedCertAndKey.pem -out cert_key.p12</code></p>\n<p>The file contains an encrypted private key.  I have been playing around with examples from here and other places but most have deprecated classes or class cast issues, i was trying to use the latest bouncycastle libs - 1.76 but i cant find working examples on this version and i really dont know it well at all.</p>\n<p>If I run this command manually and use the p12 it works, but this has to be dynamic in the sense a pem will be stored securely(cant be binary), my springboot application will then access it in a secure manner, load this pem into memory and must then load it into the applications keystore. I figured if i can convert this command to java i would be sorted but there might be a simpler better solution?</p>\n<p>Is this conversion possible and are there better approaches, maybe i dont need to do any conversion but instead read the keys directly into the keystore?  I want to use as little 3rd party libraries as is possible.</p>\n"},{"tags":["java","spring-boot","maven","google-secret-manager","secrets"],"owner":{"account_id":25278243,"reputation":1,"user_id":19106493,"display_name":"jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691496715,"creation_date":1691496715,"question_id":76859444,"body_markdown":"I&#39;m trying to fetch secrets from Google secret manager but they are fetching it just simply shows the secret name\r\n\r\nso these all the modifications i did here in my pox.xml i added these dependencies\r\n\r\n```\r\n   &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-gcp-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.8.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-starter-bootstrap --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-gcp-starter-secretmanager&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.6.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/com.google.cloud/spring-cloud-gcp-starter-secretmanager --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-gcp-starter-secretmanager&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/com.google.cloud/google-cloud-secretmanager --&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-cloud-secretmanager&lt;/artifactId&gt;\r\n            &lt;version&gt;2.20.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nand this here is my bootstrap-sol.test.properties\r\n\r\n```\r\nspring.cloud.gcp.secretmanager.enabled=true\r\nspring.cloud.gcp.secretmanager.bootstrap.enabled=true\r\n```\r\n\r\n```\r\nspring.cloud.gcp.secretmanager.secret-name-prefix=sm://\r\n```\r\n\r\nand this is how im fetching the secrets in my sol.test.properties\r\n\r\n```\r\njdbc.username=${sm://application-jdbc-username}\r\njdbc.password=${sm://application-jdbc-password}\r\n```\r\n\r\nand in GCP i have Secret Manager Viewer &amp; Secret Manager Secret Accessor permission","title":"Unable to fetch secrets from google secret manager in spring application","body":"<p>I'm trying to fetch secrets from Google secret manager but they are fetching it just simply shows the secret name</p>\n<p>so these all the modifications i did here in my pox.xml i added these dependencies</p>\n<pre><code>   &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-gcp-starter&lt;/artifactId&gt;\n            &lt;version&gt;1.2.8.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-starter-bootstrap --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-gcp-starter-secretmanager&lt;/artifactId&gt;\n            &lt;version&gt;1.2.6.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.google.cloud/spring-cloud-gcp-starter-secretmanager --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-gcp-starter-secretmanager&lt;/artifactId&gt;\n            &lt;version&gt;4.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.google.cloud/google-cloud-secretmanager --&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;google-cloud-secretmanager&lt;/artifactId&gt;\n            &lt;version&gt;2.20.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>and this here is my bootstrap-sol.test.properties</p>\n<pre><code>spring.cloud.gcp.secretmanager.enabled=true\nspring.cloud.gcp.secretmanager.bootstrap.enabled=true\n</code></pre>\n<pre><code>spring.cloud.gcp.secretmanager.secret-name-prefix=sm://\n</code></pre>\n<p>and this is how im fetching the secrets in my sol.test.properties</p>\n<pre><code>jdbc.username=${sm://application-jdbc-username}\njdbc.password=${sm://application-jdbc-password}\n</code></pre>\n<p>and in GCP i have Secret Manager Viewer &amp; Secret Manager Secret Accessor permission</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":14415125,"reputation":307,"user_id":10412775,"display_name":"Nagesh"},"score":0,"creation_date":1686569212,"post_id":76456197,"comment_id":134811681,"body_markdown":"References:\nhttps://www.baeldung.com/spring-jpa-like-queries\nRefer Section 4.1, 4.2","body":"References: <a href=\"https://www.baeldung.com/spring-jpa-like-queries\" rel=\"nofollow noreferrer\">baeldung.com/spring-jpa-like-queries</a> Refer Section 4.1, 4.2"}],"answers":[{"tags":[],"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686580390,"creation_date":1686580390,"answer_id":76457688,"question_id":76456197,"body_markdown":"**How i know % is a special character in a format string that indicates that a format specifier follows.** \r\n\r\nTry it:\r\n\r\n    @Query(&quot;SELECT m FROM Movie m WHERE m.title LIKE :title&quot;)\r\n    List&lt;Movie&gt; searchByTitleLike(@Param(&quot;title&quot;) String title);\r\n\r\n","title":"SpringBoot JPA HQL LIKE query is not working after upgrade to Spring-boot 3.1.0, JDK17 from Spring boot 3.0.6","body":"<p><strong>How i know % is a special character in a format string that indicates that a format specifier follows.</strong></p>\n<p>Try it:</p>\n<pre><code>@Query(&quot;SELECT m FROM Movie m WHERE m.title LIKE :title&quot;)\nList&lt;Movie&gt; searchByTitleLike(@Param(&quot;title&quot;) String title);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14415125,"reputation":307,"user_id":10412775,"display_name":"Nagesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688066098,"creation_date":1686908208,"answer_id":76488872,"question_id":76456197,"body_markdown":"**Given this HQL query**\r\n\r\n    @Query(&quot;SELECT m FROM Movie m WHERE m.title LIKE %:title%&quot;)\r\n\r\nSpringBoot 3.0.7 Converted HQL Query for printing HQL Query in Logs:\r\n\r\n    SELECT m FROM Movie m WHERE m.title LIKE :title\r\n\r\nNote: here Spring Boot 3.0.7 library is stripping of % symbol before printing to logs.\r\n\r\nSpringBoot 3.1.0 Converted HQL Query for printing HQL query in Logs:\r\n\r\n    SELECT m \r\n    FROM Movie m \r\n    WHERE m.title LIKE CONCAT(&#39;%&#39;, :title, &#39;%&#39;)\r\n\r\nBut % symbol is used as format specifier when format() method is called before printing to logs. Refer Java.util.Formatter.format() method. \r\n\r\nSingle % symbol in string argument to format() method throws conversion exception.\r\n\r\n**Workarounds**\r\n\r\n**Option #1** \r\n\r\nAdd the INFO log level to package &#39;org.hibernate.orm.query.hql&#39; in the application.properties file to avoid the exception on the application start up during bean creation time.\r\n\r\n    logging.level.org.hibernate.orm.query.hql=INFO\r\n\r\n**Option #2** \r\n\r\nEscape the % symbol in the given HQL query with another % symbol as shown below to avoid the exception on the application start up during bean creation time.\r\n\r\n    SELECT m \r\n    FROM Movie m \r\n    WHERE m.title LIKE CONCAT(&#39;%%&#39;, :title, &#39;%%&#39;)\r\n\r\nLooks like it is bug in the Spring Boot 3.1.0 version.\r\n","title":"SpringBoot JPA HQL LIKE query is not working after upgrade to Spring-boot 3.1.0, JDK17 from Spring boot 3.0.6","body":"<p><strong>Given this HQL query</strong></p>\n<pre><code>@Query(&quot;SELECT m FROM Movie m WHERE m.title LIKE %:title%&quot;)\n</code></pre>\n<p>SpringBoot 3.0.7 Converted HQL Query for printing HQL Query in Logs:</p>\n<pre><code>SELECT m FROM Movie m WHERE m.title LIKE :title\n</code></pre>\n<p>Note: here Spring Boot 3.0.7 library is stripping of % symbol before printing to logs.</p>\n<p>SpringBoot 3.1.0 Converted HQL Query for printing HQL query in Logs:</p>\n<pre><code>SELECT m \nFROM Movie m \nWHERE m.title LIKE CONCAT('%', :title, '%')\n</code></pre>\n<p>But % symbol is used as format specifier when format() method is called before printing to logs. Refer Java.util.Formatter.format() method.</p>\n<p>Single % symbol in string argument to format() method throws conversion exception.</p>\n<p><strong>Workarounds</strong></p>\n<p><strong>Option #1</strong></p>\n<p>Add the INFO log level to package 'org.hibernate.orm.query.hql' in the application.properties file to avoid the exception on the application start up during bean creation time.</p>\n<pre><code>logging.level.org.hibernate.orm.query.hql=INFO\n</code></pre>\n<p><strong>Option #2</strong></p>\n<p>Escape the % symbol in the given HQL query with another % symbol as shown below to avoid the exception on the application start up during bean creation time.</p>\n<pre><code>SELECT m \nFROM Movie m \nWHERE m.title LIKE CONCAT('%%', :title, '%%')\n</code></pre>\n<p>Looks like it is bug in the Spring Boot 3.1.0 version.</p>\n"},{"tags":[],"owner":{"account_id":14415125,"reputation":307,"user_id":10412775,"display_name":"Nagesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691496687,"creation_date":1691496687,"answer_id":76859441,"question_id":76456197,"body_markdown":"The given issue is fixed in the latest version of Spring Boot 3.1.2 without doing any code changes for like query.","title":"SpringBoot JPA HQL LIKE query is not working after upgrade to Spring-boot 3.1.0, JDK17 from Spring boot 3.0.6","body":"<p>The given issue is fixed in the latest version of Spring Boot 3.1.2 without doing any code changes for like query.</p>\n"}],"owner":{"account_id":14415125,"reputation":307,"user_id":10412775,"display_name":"Nagesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":967,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1691496687,"creation_date":1686569113,"question_id":76456197,"body_markdown":"Spring Boot 3.1.0 JPA HQL LIKE query is not working after upgrade to **Spring-boot 3.1.0, JDK17** from **Spring boot 3.0.6**\r\n\r\nJPA Like query with named parameters was working fine before upgrade.\r\nBut after upgrading to SpringBoot 3.1.0 getting runtime error.\r\nWe get this error, when we use like operator with % symbol on string column for &#39;like&#39; condition.\r\n\r\nWe can reproduce the issue by mentioning the DEBUG log level for package &quot;org.hibernate.orm.query.hql&quot; in application.properties file.\r\n\r\nlogging.level.org.hibernate.orm.query.hql=DEBUG\r\n\r\n**Note: This query JPA HQL query was working fine using older versions of Spring boot (&lt; 3.0.6). It is upgrade issue.**\r\n\r\nJPA HQL query example using @Query annotation.\r\n```\r\n@Query(&quot;SELECT m FROM Movie m WHERE m.title LIKE %:title%&quot;)\r\nList&lt;Movie&gt; searchByTitleLike(@Param(&quot;title&quot;) String title);\r\n```\r\n\r\nError message/Stack Trace:\r\n\r\n```\r\nCaused by: java.util.UnknownFormatConversionException: Conversion = &#39;&#39;&#39;\r\n\tat java.base/java.util.Formatter.parse(Formatter.java:2750)\r\n\tat java.base/java.util.Formatter.format(Formatter.java:2671)\r\n\tat java.base/java.util.Formatter.format(Formatter.java:2625)\r\n\tat java.base/java.lang.String.format(String.java:4143)\r\n\tat org.jboss.logging.Slf4jLocationAwareLogger.doLogf(Slf4jLocationAwareLogger.java:81)\r\n\tat org.jboss.logging.Logger.logf(Logger.java:2445)\r\n\tat org.jboss.logging.DelegatingBasicLogger.debugf(DelegatingBasicLogger.java:344)\r\n\tat org.hibernate.query.hql.internal.StandardHqlTranslator.translate(StandardHqlTranslator.java:75)\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.lambda$interpretHql$2(AbstractSharedSessionContract.java:744)\r\n\tat org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.createHqlInterpretation(QueryInterpretationCacheStandardImpl.java:141)\r\n\tat org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.resolveHqlInterpretation(QueryInterpretationCacheStandardImpl.java:128)\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.interpretHql(AbstractSharedSessionContract.java:741)\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:786)\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:704)\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:120)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:360)\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy153.createQuery(Unknown Source)\r\n\tat org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:94)\r\n\t... 96 more\r\n```\r\n","title":"SpringBoot JPA HQL LIKE query is not working after upgrade to Spring-boot 3.1.0, JDK17 from Spring boot 3.0.6","body":"<p>Spring Boot 3.1.0 JPA HQL LIKE query is not working after upgrade to <strong>Spring-boot 3.1.0, JDK17</strong> from <strong>Spring boot 3.0.6</strong></p>\n<p>JPA Like query with named parameters was working fine before upgrade.\nBut after upgrading to SpringBoot 3.1.0 getting runtime error.\nWe get this error, when we use like operator with % symbol on string column for 'like' condition.</p>\n<p>We can reproduce the issue by mentioning the DEBUG log level for package &quot;org.hibernate.orm.query.hql&quot; in application.properties file.</p>\n<p>logging.level.org.hibernate.orm.query.hql=DEBUG</p>\n<p><strong>Note: This query JPA HQL query was working fine using older versions of Spring boot (&lt; 3.0.6). It is upgrade issue.</strong></p>\n<p>JPA HQL query example using @Query annotation.</p>\n<pre><code>@Query(&quot;SELECT m FROM Movie m WHERE m.title LIKE %:title%&quot;)\nList&lt;Movie&gt; searchByTitleLike(@Param(&quot;title&quot;) String title);\n</code></pre>\n<p>Error message/Stack Trace:</p>\n<pre><code>Caused by: java.util.UnknownFormatConversionException: Conversion = '''\n    at java.base/java.util.Formatter.parse(Formatter.java:2750)\n    at java.base/java.util.Formatter.format(Formatter.java:2671)\n    at java.base/java.util.Formatter.format(Formatter.java:2625)\n    at java.base/java.lang.String.format(String.java:4143)\n    at org.jboss.logging.Slf4jLocationAwareLogger.doLogf(Slf4jLocationAwareLogger.java:81)\n    at org.jboss.logging.Logger.logf(Logger.java:2445)\n    at org.jboss.logging.DelegatingBasicLogger.debugf(DelegatingBasicLogger.java:344)\n    at org.hibernate.query.hql.internal.StandardHqlTranslator.translate(StandardHqlTranslator.java:75)\n    at org.hibernate.internal.AbstractSharedSessionContract.lambda$interpretHql$2(AbstractSharedSessionContract.java:744)\n    at org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.createHqlInterpretation(QueryInterpretationCacheStandardImpl.java:141)\n    at org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.resolveHqlInterpretation(QueryInterpretationCacheStandardImpl.java:128)\n    at org.hibernate.internal.AbstractSharedSessionContract.interpretHql(AbstractSharedSessionContract.java:741)\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:786)\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:704)\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:120)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:360)\n    at jdk.proxy3/jdk.proxy3.$Proxy153.createQuery(Unknown Source)\n    at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:94)\n    ... 96 more\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-bean"],"comments":[{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":1,"creation_date":1563862755,"post_id":57157396,"comment_id":100830142,"body_markdown":"something like this https://stackoverflow.com/questions/4540713/add-bean-programmatically-to-spring-web-app-context","body":"something like this <a href=\"https://stackoverflow.com/questions/4540713/add-bean-programmatically-to-spring-web-app-context\" title=\"add bean programmatically to spring web app context\">stackoverflow.com/questions/4540713/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6300117,"reputation":1389,"user_id":4895033,"accept_rate":50,"display_name":"chaos"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1563863896,"creation_date":1563863896,"answer_id":57158046,"question_id":57157396,"body_markdown":"Here is the demo. \r\n\r\n    public class Demo implements ApplicationContextAware {\r\n    \r\n        private ApplicationContext applicationContext;\r\n    \r\n        @Override\r\n        public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\r\n            this.applicationContext = applicationContext;\r\n            ConfigurableApplicationContext context = (ConfigurableApplicationContext)applicationContext;\r\n            DefaultListableBeanFactory beanFactory = (DefaultListableBeanFactory)context.getBeanFactory();\r\n    \r\n            BeanDefinitionBuilder beanDefinitionBuilder = BeanDefinitionBuilder.rootBeanDefinition(YourClass.class);\r\n    \r\n            beanDefinitionBuilder.addPropertyValue(&quot;property1&quot;, &quot;propertyValue&quot;);\r\n            beanDefinitionBuilder.addPropertyValue(&quot;property2&quot;, applicationContext.getBean(AnotherClass.class));\r\n    \r\n    \r\n            beanFactory.registerBeanDefinition(&quot;yourBeanName&quot;, beanDefinitionBuilder.getBeanDefinition());\r\n    \r\n    \r\n        }\r\n    }\r\n\r\nYou can move the register part to your method(start from `BeanDefinitionBuilder`). I suppose this will suit your demand.","title":"How to register bean dynamically in Spring Boot?","body":"<p>Here is the demo. </p>\n\n<pre><code>public class Demo implements ApplicationContextAware {\n\n    private ApplicationContext applicationContext;\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\n        this.applicationContext = applicationContext;\n        ConfigurableApplicationContext context = (ConfigurableApplicationContext)applicationContext;\n        DefaultListableBeanFactory beanFactory = (DefaultListableBeanFactory)context.getBeanFactory();\n\n        BeanDefinitionBuilder beanDefinitionBuilder = BeanDefinitionBuilder.rootBeanDefinition(YourClass.class);\n\n        beanDefinitionBuilder.addPropertyValue(\"property1\", \"propertyValue\");\n        beanDefinitionBuilder.addPropertyValue(\"property2\", applicationContext.getBean(AnotherClass.class));\n\n\n        beanFactory.registerBeanDefinition(\"yourBeanName\", beanDefinitionBuilder.getBeanDefinition());\n\n\n    }\n}\n</code></pre>\n\n<p>You can move the register part to your method(start from <code>BeanDefinitionBuilder</code>). I suppose this will suit your demand.</p>\n"},{"tags":[],"owner":{"account_id":246900,"reputation":451,"user_id":521280,"display_name":"vvursT"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1588777144,"creation_date":1588777144,"answer_id":61638454,"question_id":57157396,"body_markdown":"You can use the ConfigurableBeanFactory to register beans manually at runtime.\r\n\r\n    @Service\r\n    public class RegisterBeansDynamically implements BeanFactoryAware {\r\n\r\n        private ConfigurableBeanFactory beanFactory;\r\n\r\n        public &lt;T&gt; void registerBean(String beanName, T bean) {\r\n            beanFactory.registerSingleton(beanName, bean);\r\n        }\r\n\r\n        @Override\r\n        public void setBeanFactory(BeanFactory beanFactory) throws BeansException {\r\n            this.beanFactory = (ConfigurableBeanFactory) beanFactory;\r\n        }\r\n    }\r\n\r\nBut keep in mind: Your context must be refreshed making other beans able getting your new bean automatically injected or they have to access them dynamically from the application context.\r\n\r\nThe BeanFactory can also be accessed directly through the application context [see this answer][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/23671942/521280","title":"How to register bean dynamically in Spring Boot?","body":"<p>You can use the ConfigurableBeanFactory to register beans manually at runtime.</p>\n\n<pre><code>@Service\npublic class RegisterBeansDynamically implements BeanFactoryAware {\n\n    private ConfigurableBeanFactory beanFactory;\n\n    public &lt;T&gt; void registerBean(String beanName, T bean) {\n        beanFactory.registerSingleton(beanName, bean);\n    }\n\n    @Override\n    public void setBeanFactory(BeanFactory beanFactory) throws BeansException {\n        this.beanFactory = (ConfigurableBeanFactory) beanFactory;\n    }\n}\n</code></pre>\n\n<p>But keep in mind: Your context must be refreshed making other beans able getting your new bean automatically injected or they have to access them dynamically from the application context.</p>\n\n<p>The BeanFactory can also be accessed directly through the application context <a href=\"https://stackoverflow.com/a/23671942/521280\">see this answer</a>.</p>\n"},{"tags":[],"owner":{"account_id":1675364,"reputation":383,"user_id":1541051,"accept_rate":80,"display_name":"Bharat"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1635685824,"creation_date":1635685824,"answer_id":69787196,"question_id":57157396,"body_markdown":"Spring 5 provides Bean registration, which can be done dynamically. Please look at documentation [here](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/support/GenericApplicationContext.html#registerBean-java.lang.String-java.lang.Class-java.util.function.Supplier-org.springframework.beans.factory.config.BeanDefinitionCustomizer...-) and example [here](https://www.baeldung.com/spring-5-functional-beans).\r\n\r\n    Supplier&lt;SSLContext&gt; sslcontextSupplier = () -&gt; getSSLContext();\r\n    context.registerBean(&quot;sslcontext&quot;,SSLContext.class,sslcontextSupplier);\r\n\r\n","title":"How to register bean dynamically in Spring Boot?","body":"<p>Spring 5 provides Bean registration, which can be done dynamically. Please look at documentation <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/support/GenericApplicationContext.html#registerBean-java.lang.String-java.lang.Class-java.util.function.Supplier-org.springframework.beans.factory.config.BeanDefinitionCustomizer...-\" rel=\"nofollow noreferrer\">here</a> and example <a href=\"https://www.baeldung.com/spring-5-functional-beans\" rel=\"nofollow noreferrer\">here</a>.</p>\n<pre><code>Supplier&lt;SSLContext&gt; sslcontextSupplier = () -&gt; getSSLContext();\ncontext.registerBean(&quot;sslcontext&quot;,SSLContext.class,sslcontextSupplier);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27236183,"reputation":1,"user_id":20763058,"display_name":"Muhammadqodir Yusupov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691496043,"creation_date":1691496043,"answer_id":76859356,"question_id":57157396,"body_markdown":"For registering beans dynamically from metadata of Class use BeanDefinitionRegistryPostProcessor class of Spring boot","title":"How to register bean dynamically in Spring Boot?","body":"<p>For registering beans dynamically from metadata of Class use BeanDefinitionRegistryPostProcessor class of Spring boot</p>\n"}],"owner":{"account_id":5121452,"reputation":11211,"user_id":5045201,"accept_rate":100,"display_name":"Sapnesh Naik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14075,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":4,"score":3,"last_activity_date":1691496043,"creation_date":1563860718,"question_id":57157396,"body_markdown":"I am looking to override the SSLContext of Spring at runtime. Hence I am trying to find ways to register the below method as a bean dynamically. \r\n\r\n**For Ex**. When a GetMapping endpoint is invoked, the below method should be injected as a bean into Spring IoC.\r\n\r\n    public static SSLContext getSSLContext() throws Exception {\r\n        TrustManager[] trustManagers = new TrustManager[] {\r\n                new ReloadableX509TrustManager(truststoreNewPath)\r\n        };\r\n        SSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\r\n        sslContext.init(null, trustManagers, null);\r\n        return sslContext;\r\n    }\r\n\r\n\r\nHow can I do this?","title":"How to register bean dynamically in Spring Boot?","body":"<p>I am looking to override the SSLContext of Spring at runtime. Hence I am trying to find ways to register the below method as a bean dynamically. </p>\n\n<p><strong>For Ex</strong>. When a GetMapping endpoint is invoked, the below method should be injected as a bean into Spring IoC.</p>\n\n<pre><code>public static SSLContext getSSLContext() throws Exception {\n    TrustManager[] trustManagers = new TrustManager[] {\n            new ReloadableX509TrustManager(truststoreNewPath)\n    };\n    SSLContext sslContext = SSLContext.getInstance(\"SSL\");\n    sslContext.init(null, trustManagers, null);\n    return sslContext;\n}\n</code></pre>\n\n<p>How can I do this?</p>\n"},{"tags":["java","authentication","keycloak"],"answers":[{"tags":[],"owner":{"account_id":10902175,"reputation":1269,"user_id":8014145,"display_name":"ipave"},"down_vote_count":1,"up_vote_count":83,"is_accepted":true,"score":82,"last_activity_date":1544897885,"creation_date":1544892513,"answer_id":53795226,"question_id":53795179,"body_markdown":"You should send your data in a POST request with `Content-Type` header value set to `application/x-www-form-urlencoded`, not json.","title":"Keycloak Missing form parameter: grant_type","body":"<p>You should send your data in a POST request with <code>Content-Type</code> header value set to <code>application/x-www-form-urlencoded</code>, not json.</p>\n"},{"tags":[],"owner":{"account_id":4203786,"reputation":387,"user_id":3443251,"display_name":"Adnan Khan"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1571060579,"creation_date":1549564086,"answer_id":54579950,"question_id":53795179,"body_markdown":"For those having problems with curl the curl command is as follows \r\n\r\n    curl -d &quot;client_secret=&lt;client-secret&gt;&quot; -d &quot;client_id=&lt;client-id&gt;&quot; -d &quot;username=&lt;username&gt;&quot; -d &quot;password=&lt;password&gt;&quot; -d &quot;grant_type=password&quot; &quot;http://localhost:8080/auth/realms/&lt;realm-name&gt;/protocol/openid-connect/token&quot;\r\n\r\nThe curl command works without the `Content-Type` header.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Keycloak Missing form parameter: grant_type","body":"<p>For those having problems with curl the curl command is as follows </p>\n\n<pre><code>curl -d \"client_secret=&lt;client-secret&gt;\" -d \"client_id=&lt;client-id&gt;\" -d \"username=&lt;username&gt;\" -d \"password=&lt;password&gt;\" -d \"grant_type=password\" \"http://localhost:8080/auth/realms/&lt;realm-name&gt;/protocol/openid-connect/token\"\n</code></pre>\n\n<p>The curl command works without the <code>Content-Type</code> header.</p>\n"},{"tags":[],"owner":{"account_id":1434440,"reputation":5177,"user_id":1356141,"accept_rate":75,"display_name":"Marc"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1654634590,"creation_date":1562531746,"answer_id":56925903,"question_id":53795179,"body_markdown":"For those who landed here from a search looking for `JavaScript` solution.\r\n\r\nHere is an example when exchanging `code` for `access_token` with `keycloak` authority using `axios`.\r\n\r\n\r\nSending the request:\r\n\r\n```javascript\r\n\r\nconst params = new URLSearchParams({\r\n\r\n    grant_type: &#39;authorization_code&#39;,\r\n    client_id: &#39;client-id-here&#39;,\r\n    code: &#39;code-from-previous-redirect&#39;,\r\n    redirect_uri: location.protocol + &#39;//&#39; + location.host\r\n\r\n});\r\n\r\naxios({\r\n\r\n    method: &#39;post&#39;,\r\n    url: &#39;https://my-keycloak.authority/token&#39;,\r\n    data: params.toString(),\r\n    config: {\r\n        headers: {&#39;Content-Type&#39;: &#39;application/x-www-form-urlencoded&#39;}\r\n    }\r\n\r\n}).then(response =&gt; {\r\n\r\n    console.log(response.data);\r\n\r\n}).catch(error =&gt; {\r\n\r\n    console.error(error);\r\n\r\n});\r\n\r\n```\r\n\r\n&gt; You are required to send a POST request with the parameters as a URL encoded string in the request body.\r\n&gt;\r\n&gt; FormData object does not work.","title":"Keycloak Missing form parameter: grant_type","body":"<p>For those who landed here from a search looking for <code>JavaScript</code> solution.</p>\n<p>Here is an example when exchanging <code>code</code> for <code>access_token</code> with <code>keycloak</code> authority using <code>axios</code>.</p>\n<p>Sending the request:</p>\n<pre class=\"lang-js prettyprint-override\"><code>\nconst params = new URLSearchParams({\n\n    grant_type: 'authorization_code',\n    client_id: 'client-id-here',\n    code: 'code-from-previous-redirect',\n    redirect_uri: location.protocol + '//' + location.host\n\n});\n\naxios({\n\n    method: 'post',\n    url: 'https://my-keycloak.authority/token',\n    data: params.toString(),\n    config: {\n        headers: {'Content-Type': 'application/x-www-form-urlencoded'}\n    }\n\n}).then(response =&gt; {\n\n    console.log(response.data);\n\n}).catch(error =&gt; {\n\n    console.error(error);\n\n});\n\n</code></pre>\n<blockquote>\n<p>You are required to send a POST request with the parameters as a URL encoded string in the request body.</p>\n<p>FormData object does not work.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6800394,"reputation":2795,"user_id":5233879,"display_name":"Lanil Marasinghe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577030872,"creation_date":1577030872,"answer_id":59445853,"question_id":53795179,"body_markdown":"Here&#39;s a sample CURL command\r\n\r\n```\r\ncurl -X POST \\\r\n  http://localhost:8080/auth/realms/your_realm_name/protocol/openid-connect/token \\\r\n  -H &#39;Accept: */*&#39; \\\r\n  -H &#39;Accept-Encoding: gzip, deflate&#39; \\\r\n  -H &#39;Cache-Control: no-cache&#39; \\\r\n  -H &#39;Connection: keep-alive&#39; \\\r\n  -H &#39;Content-Length: 69&#39; \\\r\n  -H &#39;Content-Type: application/x-www-form-urlencoded&#39; \\\r\n  -H &#39;Cookie: KC_RESTART=&#39; \\\r\n  -H &#39;Host: localhost:8080&#39; \\\r\n  -H &#39;Postman-Token: 88f38aa0-8659-4b37-a2aa-d6b92177bdc2,29c4e7db-51f4-48d1-b6d5-daab06b68ab4&#39; \\\r\n  -H &#39;User-Agent: PostmanRuntime/7.20.1&#39; \\\r\n  -H &#39;cache-control: no-cache&#39; \\\r\n  -d &#39;client_id=my-app&amp;username=admin&amp;password=admin123&amp;grant_type=password&#39;\r\n```","title":"Keycloak Missing form parameter: grant_type","body":"<p>Here's a sample CURL command</p>\n\n<pre><code>curl -X POST \\\n  http://localhost:8080/auth/realms/your_realm_name/protocol/openid-connect/token \\\n  -H 'Accept: */*' \\\n  -H 'Accept-Encoding: gzip, deflate' \\\n  -H 'Cache-Control: no-cache' \\\n  -H 'Connection: keep-alive' \\\n  -H 'Content-Length: 69' \\\n  -H 'Content-Type: application/x-www-form-urlencoded' \\\n  -H 'Cookie: KC_RESTART=' \\\n  -H 'Host: localhost:8080' \\\n  -H 'Postman-Token: 88f38aa0-8659-4b37-a2aa-d6b92177bdc2,29c4e7db-51f4-48d1-b6d5-daab06b68ab4' \\\n  -H 'User-Agent: PostmanRuntime/7.20.1' \\\n  -H 'cache-control: no-cache' \\\n  -d 'client_id=my-app&amp;username=admin&amp;password=admin123&amp;grant_type=password'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8878979,"reputation":21,"user_id":6629962,"display_name":"Rohit Tewari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581120384,"creation_date":1581119941,"answer_id":60122648,"question_id":53795179,"body_markdown":"I had similar issue in SOAPUI testing. We should not POST a json. This got resolved when I cleared &#39;Media Type&#39; and checked &#39;PostQueryString&#39; checkbox. &#39;Media Type box&#39; will set to &#39;www-form-urlencoded&#39; by itself. Add attributes at Top by hitting plus sign.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6oEsN.png","title":"Keycloak Missing form parameter: grant_type","body":"<p>I had similar issue in SOAPUI testing. We should not POST a json. This got resolved when I cleared 'Media Type' and checked 'PostQueryString' checkbox. 'Media Type box' will set to 'www-form-urlencoded' by itself. Add attributes at Top by hitting plus sign.</p>\n\n<p><a href=\"https://i.stack.imgur.com/6oEsN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6oEsN.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":4247211,"reputation":457,"user_id":3475522,"display_name":"Robin Mathur"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1585749628,"creation_date":1585749628,"answer_id":60972626,"question_id":53795179,"body_markdown":"With Curl\r\n\r\n    curl -X POST \\\r\n    http://localhost:8080/auth/realms/api-gateway/protocol/openid-connect/token \\\r\n    -H &#39;Accept: */*&#39; \\\r\n    -H &#39;Accept-Encoding: gzip, deflate&#39; \\\r\n    -H &#39;Cache-Control: no-cache&#39; \\\r\n    -H &#39;Connection: keep-alive&#39; \\\r\n    -H &#39;Content-Length: 73&#39; \\\r\n    -H &#39;Content-Type: application/x-www-form-urlencoded&#39; \\\r\n    -H &#39;Cookie: JSESSIONID=F8CD240FF046572F864DC37148E51128.a139df207ece;   JSESSIONID=65D31B82F8C5FCAA5B1577DA03B4647C&#39; \\\r\n    -H &#39;Host: localhost:8080&#39; \\\r\n    -H &#39;Postman-Token: debc4f90-f555-4769-b392-c1130726a027,d5087d9f-9253-48bd-bb71-fda1d4558e4d&#39; \\\r\n    -H &#39;User-Agent: PostmanRuntime/7.15.2&#39; \\\r\n    -H &#39;cache-control: no-cache&#39; \\\r\n    -d &#39;grant_type=password&amp;client_id=api-gateway&amp;username=admin&amp;password=temp123&#39;\r\n\r\n\r\n\r\nBy Postman\r\n(Select x-www-form-urlencoded option for parameters)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/j8gIt.png","title":"Keycloak Missing form parameter: grant_type","body":"<p>With Curl</p>\n\n<pre><code>curl -X POST \\\nhttp://localhost:8080/auth/realms/api-gateway/protocol/openid-connect/token \\\n-H 'Accept: */*' \\\n-H 'Accept-Encoding: gzip, deflate' \\\n-H 'Cache-Control: no-cache' \\\n-H 'Connection: keep-alive' \\\n-H 'Content-Length: 73' \\\n-H 'Content-Type: application/x-www-form-urlencoded' \\\n-H 'Cookie: JSESSIONID=F8CD240FF046572F864DC37148E51128.a139df207ece;   JSESSIONID=65D31B82F8C5FCAA5B1577DA03B4647C' \\\n-H 'Host: localhost:8080' \\\n-H 'Postman-Token: debc4f90-f555-4769-b392-c1130726a027,d5087d9f-9253-48bd-bb71-fda1d4558e4d' \\\n-H 'User-Agent: PostmanRuntime/7.15.2' \\\n-H 'cache-control: no-cache' \\\n-d 'grant_type=password&amp;client_id=api-gateway&amp;username=admin&amp;password=temp123'\n</code></pre>\n\n<p>By Postman\n(Select x-www-form-urlencoded option for parameters)</p>\n\n<p><a href=\"https://i.stack.imgur.com/j8gIt.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/j8gIt.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":27553354,"reputation":1,"user_id":21028012,"display_name":"fdsjumbo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673968594,"creation_date":1673963891,"answer_id":75147553,"question_id":53795179,"body_markdown":"\r\nERROR TYPE:\r\n{\r\n    &quot;error&quot;: &quot;invalid_request&quot;,\r\n    &quot;error_description&quot;: &quot;Missing form parameter: grant_type&quot;\r\n}\r\n\r\nHi all, if you are experiencing an error in ARC &quot;grant_type&quot; when making a POST request to test keycloak you can do the following modifications in the parameter: set HEADER to &quot;content_type&quot; and set the value to &quot;application/x-www-form-urlencoded&quot;\r\n","title":"Keycloak Missing form parameter: grant_type","body":"<p>ERROR TYPE:\n{\n&quot;error&quot;: &quot;invalid_request&quot;,\n&quot;error_description&quot;: &quot;Missing form parameter: grant_type&quot;\n}</p>\n<p>Hi all, if you are experiencing an error in ARC &quot;grant_type&quot; when making a POST request to test keycloak you can do the following modifications in the parameter: set HEADER to &quot;content_type&quot; and set the value to &quot;application/x-www-form-urlencoded&quot;</p>\n"},{"tags":[],"owner":{"account_id":4732735,"reputation":120,"user_id":3827877,"display_name":"vgnsh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681671963,"creation_date":1681670487,"answer_id":76029690,"question_id":53795179,"body_markdown":"Expanding the solution provided [Accepted Answer][1]\r\n\r\nThe below code is directly in application/x-www-form-urlencoded format\r\n\r\n    `grant_type=${encodeURIComponent(&#39;authorization_code&#39;)}&amp;code=${encodeURIComponent(this.authorizationCode)}&amp;redirect_uri=${encodeURIComponent(redirectUri)}&amp;client_id=${encodeURIComponent(clientId)}&amp;code_verifier=${encodeURIComponent(codeVerifier)}`\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/53795226/3827877","title":"Keycloak Missing form parameter: grant_type","body":"<p>Expanding the solution provided <a href=\"https://stackoverflow.com/a/53795226/3827877\">Accepted Answer</a></p>\n<p>The below code is directly in application/x-www-form-urlencoded format</p>\n<pre><code>`grant_type=${encodeURIComponent('authorization_code')}&amp;code=${encodeURIComponent(this.authorizationCode)}&amp;redirect_uri=${encodeURIComponent(redirectUri)}&amp;client_id=${encodeURIComponent(clientId)}&amp;code_verifier=${encodeURIComponent(codeVerifier)}`\n</code></pre>\n"},{"tags":[],"owner":{"account_id":362912,"reputation":3281,"user_id":706354,"accept_rate":67,"display_name":"MiamiBeach"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691496042,"creation_date":1691496042,"answer_id":76859355,"question_id":53795179,"body_markdown":"If you still have this problem - double check if your client and user belong to the realm in post request.","title":"Keycloak Missing form parameter: grant_type","body":"<p>If you still have this problem - double check if your client and user belong to the realm in post request.</p>\n"}],"owner":{"account_id":7392763,"reputation":3367,"user_id":5625696,"accept_rate":50,"display_name":"Borislav Stoilov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67117,"favorite_count":0,"down_vote_count":0,"up_vote_count":68,"accepted_answer_id":53795226,"answer_count":9,"score":68,"last_activity_date":1691496042,"creation_date":1544892219,"question_id":53795179,"body_markdown":"I have keycloak standalone running on my local machine.\r\n\r\nI created new realm called &#39;spring-test&#39;, then new client called &#39;login-app&#39;\r\n\r\nAccording to the rest documentation:\r\n\r\n    POST: http://localhost:8080/auth/realms/spring-test/protocol/openid-connect/token\r\n    \r\n    {\r\n        &quot;client_id&quot;: &quot;login-app&quot;,\r\n        &quot;username&quot;: &quot;user123&quot;,\r\n        &quot;password&quot;: &quot;pass123&quot;,\r\n        &quot;grant_type&quot;: &quot;password&quot;\r\n    }\r\n\r\nshould give me the jwt token but I get bad request with response\r\n\r\n    {\r\n        &quot;error&quot;: &quot;invalid_request&quot;,\r\n        &quot;error_description&quot;: &quot;Missing form parameter: grant_type&quot;\r\n    }\r\n\r\nI am assuming that something is missing in my configuration.\r\n\r\n\r\nEDIT:\r\nI was using json body but it should be `application/x-www-form-urlencoded`:\r\nthe following body works:\r\n\r\n    token_type_hint:access_token&amp;token:{token}&amp;client_id:{client_id}&amp;client_secret:{client_secret}\r\n\r\n","title":"Keycloak Missing form parameter: grant_type","body":"<p>I have keycloak standalone running on my local machine.</p>\n<p>I created new realm called 'spring-test', then new client called 'login-app'</p>\n<p>According to the rest documentation:</p>\n<pre><code>POST: http://localhost:8080/auth/realms/spring-test/protocol/openid-connect/token\n\n{\n    &quot;client_id&quot;: &quot;login-app&quot;,\n    &quot;username&quot;: &quot;user123&quot;,\n    &quot;password&quot;: &quot;pass123&quot;,\n    &quot;grant_type&quot;: &quot;password&quot;\n}\n</code></pre>\n<p>should give me the jwt token but I get bad request with response</p>\n<pre><code>{\n    &quot;error&quot;: &quot;invalid_request&quot;,\n    &quot;error_description&quot;: &quot;Missing form parameter: grant_type&quot;\n}\n</code></pre>\n<p>I am assuming that something is missing in my configuration.</p>\n<p>EDIT:\nI was using json body but it should be <code>application/x-www-form-urlencoded</code>:\nthe following body works:</p>\n<pre><code>token_type_hint:access_token&amp;token:{token}&amp;client_id:{client_id}&amp;client_secret:{client_secret}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","aws-parameter-store"],"comments":[{"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"score":0,"creation_date":1691492641,"post_id":76858801,"comment_id":135496051,"body_markdown":"I recently experienced a problem that spring.config.import did not work at all (no effect) except the case when it is used in application.properties file","body":"I recently experienced a problem that spring.config.import did not work at all (no effect) except the case when it is used in application.properties file"},{"owner":{"account_id":505659,"reputation":147,"user_id":1648558,"accept_rate":0,"display_name":"alex"},"score":0,"creation_date":1691501590,"post_id":76858801,"comment_id":135498085,"body_markdown":"Thanks for your reply @Michael Gantman. In my case, i can&#39;t use application properties file, as I need to read specific parameter from parameter store based on the incoming request. Eg: The incoming request comes with request param &quot;onboarding&quot;, then I need to read parameter store to get value of &quot;/config/my-project/preset/onboarding&quot;","body":"Thanks for your reply @Michael Gantman. In my case, i can&#39;t use application properties file, as I need to read specific parameter from parameter store based on the incoming request. Eg: The incoming request comes with request param &quot;onboarding&quot;, then I need to read parameter store to get value of &quot;/config/my-project/preset/onboarding&quot;"},{"owner":{"account_id":505659,"reputation":147,"user_id":1648558,"accept_rate":0,"display_name":"alex"},"score":0,"creation_date":1691503039,"post_id":76858801,"comment_id":135498442,"body_markdown":"And how do I print all the properties available in &quot;Environment&quot; instance. Just so I can see if at all any of my other parameters are in there.","body":"And how do I print all the properties available in &quot;Environment&quot; instance. Just so I can see if at all any of my other parameters are in there."}],"owner":{"account_id":505659,"reputation":147,"user_id":1648558,"accept_rate":0,"display_name":"alex"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691496039,"creation_date":1691491633,"question_id":76858801,"body_markdown":"I have used spring.config.import feature to import values from AWS parameter store in my springboot application. But not able to access the imported values in my service class. Please help.\r\n\r\nIn aws param store, I have below values:\r\n\r\n    /config/my-project/preset/onboarding = app,scan,shop\r\n    /config/my-project/preset/onload = redeem,notification\r\n\r\napplication.yml\r\n\r\n    spring:\r\n      config:\r\n        import:\r\n          - &quot;optional:aws-parameterstore:/config/my-project/preset&quot;\r\n\r\nIn my Java class, trying to access env variables:\r\n    \r\n    import org.springframework.core.env.Environment;\r\n\r\n    @Component\r\n    public class DataService {\r\n\r\n        @Autowired\r\n        private Environment env;\r\n\r\n        public MemberData getPresetData(final String preset) {\r\n            \r\n            log.info(&quot;preset =&gt; &quot; + preset);         /* preset = onboarding */\r\n\r\n            String fields = env.getProperty(preset);\r\n            \r\n            log.info(&quot;fields =&gt; &quot; + fields);         /* fields prints as null */\r\n       \r\n            String fields = env.getProperty(&quot;/config/my-project/preset/onboarding&quot;);\r\n            \r\n            log.info(&quot;fields =&gt; &quot; + fields);         /* fields prints as null */\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    build.gradle =&gt;\r\n\r\n    springboot version 3.1.1\r\n    \r\n    implementation &#39;org.springframework.cloud:spring-cloud-starter-bootstrap:4.0.3&#39;\r\n\timplementation &#39;io.awspring.cloud:spring-cloud-aws-starter-parameter-store:3.0.1&#39;\r\n\timplementation &#39;io.awspring.cloud:spring-cloud-aws-starter-secrets-manager:3.0.1&#39;\r\n\r\n","title":"Not able to access environment variables with spring.config.import","body":"<p>I have used spring.config.import feature to import values from AWS parameter store in my springboot application. But not able to access the imported values in my service class. Please help.</p>\n<p>In aws param store, I have below values:</p>\n<pre><code>/config/my-project/preset/onboarding = app,scan,shop\n/config/my-project/preset/onload = redeem,notification\n</code></pre>\n<p>application.yml</p>\n<pre><code>spring:\n  config:\n    import:\n      - &quot;optional:aws-parameterstore:/config/my-project/preset&quot;\n</code></pre>\n<p>In my Java class, trying to access env variables:</p>\n<pre><code>import org.springframework.core.env.Environment;\n\n@Component\npublic class DataService {\n\n    @Autowired\n    private Environment env;\n\n    public MemberData getPresetData(final String preset) {\n        \n        log.info(&quot;preset =&gt; &quot; + preset);         /* preset = onboarding */\n\n        String fields = env.getProperty(preset);\n        \n        log.info(&quot;fields =&gt; &quot; + fields);         /* fields prints as null */\n   \n        String fields = env.getProperty(&quot;/config/my-project/preset/onboarding&quot;);\n        \n        log.info(&quot;fields =&gt; &quot; + fields);         /* fields prints as null */\n    }\n}\n\n\n\n\nbuild.gradle =&gt;\n\nspringboot version 3.1.1\n\nimplementation 'org.springframework.cloud:spring-cloud-starter-bootstrap:4.0.3'\nimplementation 'io.awspring.cloud:spring-cloud-aws-starter-parameter-store:3.0.1'\nimplementation 'io.awspring.cloud:spring-cloud-aws-starter-secrets-manager:3.0.1'\n</code></pre>\n"},{"tags":["java","string","file"],"comments":[{"owner":{"account_id":6213028,"reputation":130,"user_id":4838760,"accept_rate":75,"display_name":"apexlol"},"score":0,"creation_date":1516203755,"post_id":48304844,"comment_id":83594661,"body_markdown":"Show us the code and we&#39;ll tell you.","body":"Show us the code and we&#39;ll tell you."},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1516203780,"post_id":48304844,"comment_id":83594680,"body_markdown":"Possible duplicate of [Format an Integer using Java String Format](https://stackoverflow.com/questions/6034523/format-an-integer-using-java-string-format)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/6034523/format-an-integer-using-java-string-format\">Format an Integer using Java String Format</a>"},{"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"score":0,"creation_date":1516203791,"post_id":48304844,"comment_id":83594689,"body_markdown":"Can you identify whether the leading zeroes are stripped at display by the software you&#39;re using to read CSVs, or at write-time by your java code? (I suggest you open the .csv file with a text editor to make sure)","body":"Can you identify whether the leading zeroes are stripped at display by the software you&#39;re using to read CSVs, or at write-time by your java code? (I suggest you open the .csv file with a text editor to make sure)"},{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1516203835,"post_id":48304844,"comment_id":83594723,"body_markdown":"Btw. While &quot;account numbers&quot; are called &quot;numbers&quot; it would probably be best to not treat them as numbers but Strings instead. The &quot;International Bank Account Number&quot; (IBAN) for example actually also contains letters.","body":"Btw. While &quot;account numbers&quot; are called &quot;numbers&quot; it would probably be best to not treat them as numbers but Strings instead. The &quot;International Bank Account Number&quot; (IBAN) for example actually also contains letters."},{"owner":{"account_id":6809378,"reputation":27,"user_id":5240144,"accept_rate":100,"display_name":"bharath"},"score":1,"creation_date":1516204333,"post_id":48304844,"comment_id":83595060,"body_markdown":"I have added the code above.","body":"I have added the code above."},{"owner":{"account_id":1053573,"reputation":190,"user_id":1056823,"display_name":"Aravind Chennuru"},"score":0,"creation_date":1516205875,"post_id":48304844,"comment_id":83596100,"body_markdown":"This is not a question that needs to be tied to java it is an Excel or the corresponding tool you are using to open the file. Please add tags accordingly.","body":"This is not a question that needs to be tied to java it is an Excel or the corresponding tool you are using to open the file. Please add tags accordingly."}],"answers":[{"tags":[],"owner":{"account_id":1053573,"reputation":190,"user_id":1056823,"display_name":"Aravind Chennuru"},"down_vote_count":2,"up_vote_count":0,"is_accepted":true,"score":-2,"last_activity_date":1516205782,"creation_date":1516205782,"answer_id":48305534,"question_id":48304844,"body_markdown":"I am hoping that you are using Excel to open the CSV, I would recommend using excel and following these [instructions][1] to get what you need.\r\nHope this helps, once you have the data imported save the file and share it with the users.\r\n\r\n\r\n  [1]: https://support.office.com/en-us/article/keeping-leading-zeros-and-large-numbers-1bf7b935-36e1-4985-842f-5dfa51f85fe7","title":"Write String with preceding zeros into CSV file in java","body":"<p>I am hoping that you are using Excel to open the CSV, I would recommend using excel and following these <a href=\"https://support.office.com/en-us/article/keeping-leading-zeros-and-large-numbers-1bf7b935-36e1-4985-842f-5dfa51f85fe7\" rel=\"nofollow noreferrer\">instructions</a> to get what you need.\nHope this helps, once you have the data imported save the file and share it with the users.</p>\n"}],"owner":{"account_id":6809378,"reputation":27,"user_id":5240144,"accept_rate":100,"display_name":"bharath"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1994,"favorite_count":0,"down_vote_count":6,"up_vote_count":0,"accepted_answer_id":48305534,"answer_count":1,"score":-6,"last_activity_date":1691495356,"creation_date":1516203678,"question_id":48304844,"body_markdown":"I am trying to write account numbers(e.g: 00000900123) into csv file in java. After creating a file and writing account number gets converted into 900123 automatically. How can i code to make it retain the preceding zeros in the file.\r\n\r\n\r\n\r\n    public class WriteData {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        BufferedWriter bufferedWriter = null;\r\n        FileOutputStream fileOutputStream = null;\r\n        String header = &quot;name, accountNumber, amount&quot;;\r\n        String record = &quot;savings, 000090123, 12000.0&quot;;\r\n\r\n        File file = new File(&quot;testfile.csv&quot;);\r\n        try {\r\n\r\n            fileOutputStream = new FileOutputStream(file);\r\n            bufferedWriter = new BufferedWriter(new OutputStreamWriter(fileOutputStream));\r\n\r\n            bufferedWriter.write(header);\r\n            bufferedWriter.newLine();\r\n            bufferedWriter.write(record);\r\n            bufferedWriter.newLine();\r\n\r\n        } catch(FileNotFoundException fne) {\r\n        } catch(IOException ioe) {\r\n        } finally {\r\n            if (bufferedWriter != null) {\r\n                try {\r\n                    bufferedWriter.close();\r\n                } catch (IOException e) {\r\n                }\r\n            }\r\n\r\n            if (fileOutputStream != null) {\r\n                try {\r\n                    fileOutputStream.close();\r\n                } catch (IOException e) {\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n     }\r\n\r\nAfter i run the above program it generates a testfile.csv. If i open it in text editor it shows the full string as below,\r\n      \r\n    name, accountNumber, amount\r\n    savings, 000090123, 12000.0\r\n\r\nBut if i open in csv account number would be 90123. We need to provide the csv file to client so complete account number is required.","title":"Write String with preceding zeros into CSV file in java","body":"<p>I am trying to write account numbers(e.g: 00000900123) into csv file in java. After creating a file and writing account number gets converted into 900123 automatically. How can i code to make it retain the preceding zeros in the file.</p>\n\n<pre><code>public class WriteData {\n\npublic static void main(String[] args) {\n\n    BufferedWriter bufferedWriter = null;\n    FileOutputStream fileOutputStream = null;\n    String header = \"name, accountNumber, amount\";\n    String record = \"savings, 000090123, 12000.0\";\n\n    File file = new File(\"testfile.csv\");\n    try {\n\n        fileOutputStream = new FileOutputStream(file);\n        bufferedWriter = new BufferedWriter(new OutputStreamWriter(fileOutputStream));\n\n        bufferedWriter.write(header);\n        bufferedWriter.newLine();\n        bufferedWriter.write(record);\n        bufferedWriter.newLine();\n\n    } catch(FileNotFoundException fne) {\n    } catch(IOException ioe) {\n    } finally {\n        if (bufferedWriter != null) {\n            try {\n                bufferedWriter.close();\n            } catch (IOException e) {\n            }\n        }\n\n        if (fileOutputStream != null) {\n            try {\n                fileOutputStream.close();\n            } catch (IOException e) {\n            }\n        }\n    }\n}\n\n }\n</code></pre>\n\n<p>After i run the above program it generates a testfile.csv. If i open it in text editor it shows the full string as below,</p>\n\n<pre><code>name, accountNumber, amount\nsavings, 000090123, 12000.0\n</code></pre>\n\n<p>But if i open in csv account number would be 90123. We need to provide the csv file to client so complete account number is required.</p>\n"},{"tags":["java","spring","spring-integration","spring-integration-http"],"answers":[{"tags":[],"owner":{"account_id":16019624,"reputation":26,"user_id":11561413,"display_name":"yao Mr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630469048,"creation_date":1630469048,"answer_id":69007650,"question_id":69006677,"body_markdown":"like this?\r\n\r\n     @Bean\r\n    public IntegrationFlow httpInboundFlow() {\r\n        return IntegrationFlows\r\n                .from(Http.inboundGateway(&quot;/demo&quot;)\r\n                        .replyChannel(&quot;reply&quot;)\r\n                        .requestMapping(r -&gt; r.methods(HttpMethod.GET))\r\n                        .requestPayloadType(String.class)\r\n                )\r\n                .channel(&quot;next&quot;)\r\n                .get();\r\n    }\r\n\r\n\r\n    @Bean\r\n    public MessageChannel reply() {\r\n        return new QueueChannel();\r\n    }\r\n\r\n    @Bean\r\n    @ServiceActivator(inputChannel = &quot;next&quot;,outputChannel = &quot;reply&quot;)\r\n    public Function&lt;Message&lt;?&gt;, String&gt; handler() {\r\n        return new Function&lt;Message&lt;?&gt;, String&gt;() {\r\n            public String apply(Message&lt;?&gt; message) throws MessagingException {\r\n                System.out.println(&quot;myHandler: &quot; + message.getPayload());\r\n                System.out.println(&quot;myHandler: &quot; + message.getHeaders());\r\n                return &quot;ok&quot;;\r\n            }\r\n\r\n        };\r\n\r\n    }","title":"How do I configure a http inbound channel adapter with JAVA config in Spring Integration?","body":"<p>like this?</p>\n<pre><code> @Bean\npublic IntegrationFlow httpInboundFlow() {\n    return IntegrationFlows\n            .from(Http.inboundGateway(&quot;/demo&quot;)\n                    .replyChannel(&quot;reply&quot;)\n                    .requestMapping(r -&gt; r.methods(HttpMethod.GET))\n                    .requestPayloadType(String.class)\n            )\n            .channel(&quot;next&quot;)\n            .get();\n}\n\n\n@Bean\npublic MessageChannel reply() {\n    return new QueueChannel();\n}\n\n@Bean\n@ServiceActivator(inputChannel = &quot;next&quot;,outputChannel = &quot;reply&quot;)\npublic Function&lt;Message&lt;?&gt;, String&gt; handler() {\n    return new Function&lt;Message&lt;?&gt;, String&gt;() {\n        public String apply(Message&lt;?&gt; message) throws MessagingException {\n            System.out.println(&quot;myHandler: &quot; + message.getPayload());\n            System.out.println(&quot;myHandler: &quot; + message.getHeaders());\n            return &quot;ok&quot;;\n        }\n\n    };\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1691495203,"creation_date":1630503023,"answer_id":69014720,"question_id":69006677,"body_markdown":"Probably there is some misunderstanding in terminology:\r\n\r\n1. The Inbound Channel Adapter is an entry point for your application. We can call it `server`, which is expecting external requests and you do some logic downstream. With an `Http.inboundChannelAdapter` we talk about a Spring MVC controller.\r\n2. Unlike an Inbound Gateway, the Inbound Channel Adapter is a one-way entry point. So no reply (response) is expected for the external caller - the REST service.\r\n3. Another misunderstanding probably comes with misleading property names. Although they still are valid. The `requestPayloadType` is what makes conversion for the HTTP request body in that Inbound Channel Adapter and this data is going to be packed into the payload of the message to be sent to that `transfer_next_channel`.\r\n\r\nYou probably need to think of replacing your `@ServiceActivator` with a `handle()` like this:\r\n\r\n     .channel(&quot;transfer_next_channel&quot;)\r\n     .&lt;TransferRequest&gt;handle((p, h) -&gt; )\r\n     .get();\r\n\r\nNote: you may not need that channel in between, the `IntegrationFlow` will take care of that for you.\r\n\r\nProbably you to dig Spring Integration Reference Manual more to understand concepts of channel adapters, gateways and DSL.","title":"How do I configure a http inbound channel adapter with JAVA config in Spring Integration?","body":"<p>Probably there is some misunderstanding in terminology:</p>\n<ol>\n<li>The Inbound Channel Adapter is an entry point for your application. We can call it <code>server</code>, which is expecting external requests and you do some logic downstream. With an <code>Http.inboundChannelAdapter</code> we talk about a Spring MVC controller.</li>\n<li>Unlike an Inbound Gateway, the Inbound Channel Adapter is a one-way entry point. So no reply (response) is expected for the external caller - the REST service.</li>\n<li>Another misunderstanding probably comes with misleading property names. Although they still are valid. The <code>requestPayloadType</code> is what makes conversion for the HTTP request body in that Inbound Channel Adapter and this data is going to be packed into the payload of the message to be sent to that <code>transfer_next_channel</code>.</li>\n</ol>\n<p>You probably need to think of replacing your <code>@ServiceActivator</code> with a <code>handle()</code> like this:</p>\n<pre><code> .channel(&quot;transfer_next_channel&quot;)\n .&lt;TransferRequest&gt;handle((p, h) -&gt; )\n .get();\n</code></pre>\n<p>Note: you may not need that channel in between, the <code>IntegrationFlow</code> will take care of that for you.</p>\n<p>Probably you to dig Spring Integration Reference Manual more to understand concepts of channel adapters, gateways and DSL.</p>\n"}],"owner":{"account_id":4950299,"reputation":192,"user_id":3984474,"display_name":"JBStonehenge"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2875,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69014720,"answer_count":2,"score":1,"last_activity_date":1691495203,"creation_date":1630457668,"question_id":69006677,"body_markdown":"I found a xml configured inbound adapter example what I do not fully understand. The configuration  specifies a REST request setting request method, consumed format, etc.\r\n\r\nI thought from the Spring Integration point of view the response should be much more important because the response is what is acutally feeding the message channel. Am I right?\r\n\r\nThe HTTP inbound adapter is used as message endpoint (actually a message startpoint) which calls a HTTP request - the URL of a REST service, let&#39;s say &quot;http://myRest/transfer/next&quot; - feeding a SI message channel with its result. Is that right?\r\n\r\nIt is either hard to find an example or to transform other examples into something which covers my needs. Even more as many examples are XML configured whereas I want to configure with Java or Dsl.\r\n\r\nI am looking for an example where a REST service (which I will provide) is called which returns a JSON representation of `TransferRequest` object of mine which is fed into the SI channel &quot;transfer_next_channel&quot; to get processed by the Message Handler.\r\n\r\nMy code approach is rather skeleton-like. What do I have to do?\r\n\r\n    @Bean\r\n    public IntegrationFlow httpInboundFlow() {\r\n        return IntegrationFlows\r\n                .from(Http.inboundChannelAdapter(&quot;http://myRest/transfer/next&quot;)\r\n                        .requestMapping(r -&gt; r\r\n                                .methods(HttpMethod.GET)\r\n                                .consumes(&quot;text/html&quot;))\r\n                        .requestPayloadType(TransferRequest.class)\r\n                        .headerMapper(myHeaderMapper)\r\n                        )\r\n                .channel(&quot;transfer_next_channel&quot;)\r\n                .get();\r\n    }\r\n    \r\n    @Bean\r\n    @ServiceActivator(inputChannel = &quot;transfer_next_channel&quot;)\r\n    public MessageHandler handler() {\r\n    \treturn new MessageHandler() {\r\n    \t\t@Override\r\n    \t\tpublic void handleMessage(Message&lt;?&gt; message) throws MessagingException {\r\n    \t\t\tSystem.out.println(&quot;myHandler: &quot; + message.getPayload());\r\n    \t\t\tSystem.out.println(&quot;myHandler: &quot; + message.getHeaders());\r\n    \t\t}\r\n    \t};\r\n    }\r\n\r\n**EDIT 1**\r\n\r\nThe whole thing is to generate a data message of a person from persistent DB state to a String message via TCP/IP. At first there is the information what message is needed. It is provided via external REST service. The result is a `TransferRequest` entity. From this the message has to be generated: another external REST service call to transform `TransferRequest` into some kind of `DataMessage`, the required data message. That result will be delivered via TCP/IP server as soon as a TCP/IP client has connected.\r\n\r\n**EDIT 2**\r\n\r\nThe message channel is: starts with a request &quot;http://myRest/transfer/next&quot; to an external service, gets `TransferRequest`(containing a `personId`), push it as message into the channel, transformer/handler to request (another) external service &quot;http://myRest/message/{personId}&quot;, gets `DataMessage`, push it as message into another channel, handler to push the message into a TcpOutboundGateway to be received by an external system. \r\n","title":"How do I configure a http inbound channel adapter with JAVA config in Spring Integration?","body":"<p>I found a xml configured inbound adapter example what I do not fully understand. The configuration  specifies a REST request setting request method, consumed format, etc.</p>\n<p>I thought from the Spring Integration point of view the response should be much more important because the response is what is acutally feeding the message channel. Am I right?</p>\n<p>The HTTP inbound adapter is used as message endpoint (actually a message startpoint) which calls a HTTP request - the URL of a REST service, let's say &quot;http://myRest/transfer/next&quot; - feeding a SI message channel with its result. Is that right?</p>\n<p>It is either hard to find an example or to transform other examples into something which covers my needs. Even more as many examples are XML configured whereas I want to configure with Java or Dsl.</p>\n<p>I am looking for an example where a REST service (which I will provide) is called which returns a JSON representation of <code>TransferRequest</code> object of mine which is fed into the SI channel &quot;transfer_next_channel&quot; to get processed by the Message Handler.</p>\n<p>My code approach is rather skeleton-like. What do I have to do?</p>\n<pre><code>@Bean\npublic IntegrationFlow httpInboundFlow() {\n    return IntegrationFlows\n            .from(Http.inboundChannelAdapter(&quot;http://myRest/transfer/next&quot;)\n                    .requestMapping(r -&gt; r\n                            .methods(HttpMethod.GET)\n                            .consumes(&quot;text/html&quot;))\n                    .requestPayloadType(TransferRequest.class)\n                    .headerMapper(myHeaderMapper)\n                    )\n            .channel(&quot;transfer_next_channel&quot;)\n            .get();\n}\n\n@Bean\n@ServiceActivator(inputChannel = &quot;transfer_next_channel&quot;)\npublic MessageHandler handler() {\n    return new MessageHandler() {\n        @Override\n        public void handleMessage(Message&lt;?&gt; message) throws MessagingException {\n            System.out.println(&quot;myHandler: &quot; + message.getPayload());\n            System.out.println(&quot;myHandler: &quot; + message.getHeaders());\n        }\n    };\n}\n</code></pre>\n<p><strong>EDIT 1</strong></p>\n<p>The whole thing is to generate a data message of a person from persistent DB state to a String message via TCP/IP. At first there is the information what message is needed. It is provided via external REST service. The result is a <code>TransferRequest</code> entity. From this the message has to be generated: another external REST service call to transform <code>TransferRequest</code> into some kind of <code>DataMessage</code>, the required data message. That result will be delivered via TCP/IP server as soon as a TCP/IP client has connected.</p>\n<p><strong>EDIT 2</strong></p>\n<p>The message channel is: starts with a request &quot;http://myRest/transfer/next&quot; to an external service, gets <code>TransferRequest</code>(containing a <code>personId</code>), push it as message into the channel, transformer/handler to request (another) external service &quot;http://myRest/message/{personId}&quot;, gets <code>DataMessage</code>, push it as message into another channel, handler to push the message into a TcpOutboundGateway to be received by an external system.</p>\n"},{"tags":["java","html","google-chrome","console","google-chrome-devtools"],"comments":[{"owner":{"account_id":112084,"reputation":171457,"user_id":295783,"accept_rate":81,"display_name":"mplungjan"},"score":1,"creation_date":1691484086,"post_id":76857817,"comment_id":135494349,"body_markdown":"Spelling: `document.getElementById ` returns ONE element if there is ONE element with that ID. `document.getElementsByName` returns a nodelist and the nodelist[0] is the first by that NAME","body":"Spelling: <code>document.getElementById </code> returns ONE element if there is ONE element with that ID. <code>document.getElementsByName</code> returns a nodelist and the nodelist[0] is the first by that NAME"},{"owner":{"account_id":112084,"reputation":171457,"user_id":295783,"accept_rate":81,"display_name":"mplungjan"},"score":0,"creation_date":1691484284,"post_id":76857817,"comment_id":135494390,"body_markdown":"I suggest you use `document.querySelector(&quot;[name=&#39;LAYOUT_DONNEESPRIX_2_6&#39;]&quot;)` if you want to access only the first field by that name OR `document.querySelectorAll(&quot;[name=&#39;LAYOUT_DONNEESPRIX_2_6&#39;]&quot;).forEach(prix =&gt; { do something with the field or the field.value here })` if you have more elements with the same name","body":"I suggest you use <code>document.querySelector(&quot;[name=&#39;LAYOUT_DONNEESPRIX_2_6&#39;]&quot;)</code> if you want to access only the first field by that name OR <code>document.querySelectorAll(&quot;[name=&#39;LAYOUT_DONNEESPRIX_2_6&#39;]&quot;)&zwnj;&#8203;.forEach(prix =&gt; { do something with the field or the field.value here })</code> if you have more elements with the same name"}],"answers":[{"tags":[],"owner":{"account_id":13363084,"reputation":141,"user_id":9644389,"display_name":"Shakil Anwar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691485020,"creation_date":1691485020,"answer_id":76857962,"question_id":76857817,"body_markdown":"Try this code:\r\n     \r\n    var newValue = &#39;5.00&#39;; // Replace &#39;3.33&#39; with the desired new value\r\n    \r\n    var elements = document.querySelectorAll(&#39;input[value=&quot;3.33&quot;]&#39;);\r\n    \r\n    for (var i = 0; i &lt; elements.length; i++) {\r\n        elements[i].value = newValue;\r\n    }\r\n\r\n","title":"Change HTML textbox values with console code","body":"<p>Try this code:</p>\n<pre><code>var newValue = '5.00'; // Replace '3.33' with the desired new value\n\nvar elements = document.querySelectorAll('input[value=&quot;3.33&quot;]');\n\nfor (var i = 0; i &lt; elements.length; i++) {\n    elements[i].value = newValue;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29183055,"reputation":1,"user_id":22356796,"display_name":"Jens G."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691495134,"creation_date":1691495134,"answer_id":76859245,"question_id":76857817,"body_markdown":"I have found the answer: \r\n\r\n&gt; document.getElementsByName(&#39;LAYOUT_DONNEES_PRIX-2-16&#39;)[0].value=&#39;1,2&#39;\r\n&gt; document.getElementsByName(&#39;LAYOUT_DONNEES_PRIX-3-16&#39;)[0].value=&#39;2,11&#39;\r\n\r\nworks great to change the values\r\n\r\nThank you all","title":"Change HTML textbox values with console code","body":"<p>I have found the answer:</p>\n<blockquote>\n<p>document.getElementsByName('LAYOUT_DONNEES_PRIX-2-16')[0].value='1,2'\ndocument.getElementsByName('LAYOUT_DONNEES_PRIX-3-16')[0].value='2,11'</p>\n</blockquote>\n<p>works great to change the values</p>\n<p>Thank you all</p>\n"}],"owner":{"account_id":29183055,"reputation":1,"user_id":22356796,"display_name":"Jens G."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1691495134,"creation_date":1691483826,"question_id":76857817,"body_markdown":"First of all, I must say that I am less than noob in this field. \r\nI&#39;ve been sitting on a problem all morning.\r\n\r\n\r\nWhat I want to do:\r\nI often need to change prices (200+ rows) in a table on the web interface. To improve this, I already have an Excel VBA file to calculate the correct values, now I want to remove the manual input of the 200+ rows in the browser. \r\nI only need to change it &quot;visually&quot; as I can save the values after.\r\n\r\nI thought this could hopefully be done with the inspection console in Chrome. \r\nManually it works if I change the value in the code (red bordered value=&quot;3.33&quot; to whatever I want).\r\nNow I&#39;m trying to find the right code to change it in the console without clicking in the code.  \r\nI tried it already with\r\n\r\n&gt; document.getElementById(&#39;LAYOUT_DONNEES_PRIX-2-16-cell&#39;).value=&#39;1,00&#39;;\r\n\r\nor\r\n\r\n&gt;document.getElementByName(&#39;LAYOUT_DONNEES_PRIX-2-16&#39;).value=&#39;1,00&#39;;\r\n&gt; \r\n\r\nbut without success. (left Screenshots).\r\nYou can see document.getElementsById returns &quot;null&quot;, document.getElementsByName returns the NodeList.\r\n\r\nAs I already told you I am a total noob on this, so hopefully you can easily tell me what parameter I need to choose. \r\n\r\nPlease let me know if you need any additional information of the code or anything else.\r\n\r\nScreenshot: \r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JZa9f.png","title":"Change HTML textbox values with console code","body":"<p>First of all, I must say that I am less than noob in this field.\nI've been sitting on a problem all morning.</p>\n<p>What I want to do:\nI often need to change prices (200+ rows) in a table on the web interface. To improve this, I already have an Excel VBA file to calculate the correct values, now I want to remove the manual input of the 200+ rows in the browser.\nI only need to change it &quot;visually&quot; as I can save the values after.</p>\n<p>I thought this could hopefully be done with the inspection console in Chrome.\nManually it works if I change the value in the code (red bordered value=&quot;3.33&quot; to whatever I want).\nNow I'm trying to find the right code to change it in the console without clicking in the code.<br />\nI tried it already with</p>\n<blockquote>\n<p>document.getElementById('LAYOUT_DONNEES_PRIX-2-16-cell').value='1,00';</p>\n</blockquote>\n<p>or</p>\n<blockquote>\n<p>document.getElementByName('LAYOUT_DONNEES_PRIX-2-16').value='1,00';</p>\n</blockquote>\n<p>but without success. (left Screenshots).\nYou can see document.getElementsById returns &quot;null&quot;, document.getElementsByName returns the NodeList.</p>\n<p>As I already told you I am a total noob on this, so hopefully you can easily tell me what parameter I need to choose.</p>\n<p>Please let me know if you need any additional information of the code or anything else.</p>\n<p>Screenshot:\n<a href=\"https://i.stack.imgur.com/JZa9f.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","cookies","session-cookies"],"answers":[{"tags":[],"owner":{"account_id":25889560,"reputation":60,"user_id":19617167,"display_name":"JH Lee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691494194,"creation_date":1691494194,"answer_id":76859124,"question_id":76858811,"body_markdown":"It won&#39;t make that severe security risk(only for trivial data like such shopping cart). Even safer if you set Secure and HttpOnly options on cookie.\r\n\r\nBut if you already have some data store(like Redis) to manage the session state, there&#39;s completely no need to use cookie as data storage. Cause you&#39;ve already chosen to store the session-related data in that store. and cookie not showing any information but the session key to distinguish the certain client.\r\n\r\nIf you don&#39;t have and won&#39;t bring such storage into your service, yeah, cookies and local/session storage(in browser) are the only choices.\r\n\r\n","title":"Server-side store for a shopping cart in JAVA with Cookies or Sessions difference","body":"<p>It won't make that severe security risk(only for trivial data like such shopping cart). Even safer if you set Secure and HttpOnly options on cookie.</p>\n<p>But if you already have some data store(like Redis) to manage the session state, there's completely no need to use cookie as data storage. Cause you've already chosen to store the session-related data in that store. and cookie not showing any information but the session key to distinguish the certain client.</p>\n<p>If you don't have and won't bring such storage into your service, yeah, cookies and local/session storage(in browser) are the only choices.</p>\n"}],"owner":{"account_id":22508107,"reputation":45,"user_id":16703396,"display_name":"M G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76859124,"answer_count":1,"score":0,"last_activity_date":1691494194,"creation_date":1691491759,"question_id":76858811,"body_markdown":"I&#39;m trying to figure out the difference between usage of Sessions and Cookies in a particular use case. \r\nI&#39;m building java difference service with server side items storage. \r\nI see generally everybody says that sessions are a better option. Just to store a session in redis and use session id to pull the data from the database. \r\n\r\nBut if i use Cookie for example and store the cart id in the cookie and every request will just check the cookie for a cart id. Won&#39;t it be the same? \r\nCan someone explain the difference in this situation and security risks? \r\n\r\nIn my case user is not authenticated. ","title":"Server-side store for a shopping cart in JAVA with Cookies or Sessions difference","body":"<p>I'm trying to figure out the difference between usage of Sessions and Cookies in a particular use case.\nI'm building java difference service with server side items storage.\nI see generally everybody says that sessions are a better option. Just to store a session in redis and use session id to pull the data from the database.</p>\n<p>But if i use Cookie for example and store the cart id in the cookie and every request will just check the cookie for a cart id. Won't it be the same?\nCan someone explain the difference in this situation and security risks?</p>\n<p>In my case user is not authenticated.</p>\n"},{"tags":["java","spring-boot","csv","bufferedreader"],"owner":{"account_id":29184001,"reputation":1,"user_id":22357560,"display_name":"KemalK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691494130,"creation_date":1691493215,"question_id":76858984,"body_markdown":"When I send the CSV file from Postman for the second time, I encounter this error. How can I solve this issue?\r\n\r\njava.io.UncheckedIOException: Cannot delete C:\\Users\\kk\\AppData\\Local\\Temp\\tomcat.8080.8382445987963140509\\work\\Tomcat\\localhost\\ROOT\\upload_5ff0e06e_a607_4937_b707_de9c116a9f97_00000001.tmp\r\n\tat org.apache.tomcat.util.http.fileupload.disk.DiskFileItem.delete(DiskFileItem.java:431) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.catalina.core.ApplicationPart.delete(ApplicationPart.java:53) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.springframework.web.multipart.support.StandardServletMultipartResolver.cleanupMultipart(StandardServletMultipartResolver.java:134) ~[spring-web-5.3.28.jar:5.3.28]\r\n\tat org.springframework.web.servlet.DispatcherServlet.cleanupMultipart(DispatcherServlet.java:1251) [spring-webmvc-5.3.28.jar:5.3.28]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1108) [spring-webmvc-5.3.28.jar:5.3.28]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) [spring-webmvc-5.3.28.jar:5.3.28]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) [spring-webmvc-5.3.28.jar:5.3.28]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) [spring-webmvc-5.3.28.jar:5.3.28]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:555) [tomcat-embed-core-9.0.76.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) [spring-webmvc-5.3.28.jar:5.3.28]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:623) [tomcat-embed-core-9.0.76.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) [tomcat-embed-websocket-9.0.76.jar:9.0.76]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.3.28.jar:5.3.28]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.28.jar:5.3.28]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.3.28.jar:5.3.28]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.28.jar:5.3.28]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.3.28.jar:5.3.28]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.28.jar:5.3.28]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat java.lang.Thread.run(Thread.java:750) [na:1.8.0_372]\r\n\r\nWARN  o.s.w.m.s.StandardServletMultipartResolver - Failed to perform cleanup of multipart items\r\nCaused by: java.io.IOException: Cannot delete C:\\Users\\kk\\AppData\\Local\\Temp\\tomcat.8080.8711335808711968415\\work\\Tomcat\\localhost\\ROOT\\upload_39333cde_6632_40ed_9ca7_4565440ea9d0_00000001.tmp\r\n... 44 common frames omitted\r\n\r\n\r\n\r\n```\r\n@Override\r\n    @Async\r\n    public List&lt;CsvReportDto&gt; getControlReportCsvFile(InputStream inputStream) throws Exception{\r\n    List&lt;CsvReportDto&gt; reports = csvUtils.readReportFromCsv(inputStream);\r\n\r\n\r\n```\r\n\r\nCsvUtils\r\n\r\n```\r\n` public List&lt;CsvReportDto&gt; readReportFromCsv(InputStream inputStream) throws Exception{\r\n        try(BufferedReader br = new BufferedReader(new InputStreamReader(inputStream, &quot;Windows-1254&quot;))) {\r\n            List&lt;CsvReportDto&gt; csvReportDtoList = new ArrayList&lt;&gt;();\r\n            br.readLine();\r\n            String line;\r\nwhile ((line = br.readLine()) != null){\r\n\r\n                String[] data = line.split(&quot;;&quot;);\r\n                CsvReportDto csvReportDto = new CsvReportDto();\r\n                // set dtos\r\n                csvReportDtoList.add(csvReportDto);\r\n            }\r\n            br.close();\r\n            return csvReportDtoList;\r\n\r\n        }catch (Exception e){\r\n            e.printStackTrace();\r\n            throw e;\r\n        }\r\n\r\n\r\n```\r\n`\r\n\r\nI don&#39;t want to receive an error message when I send requests consecutively without closing the application.","title":"Failed to perform cleanup of multipart items","body":"<p>When I send the CSV file from Postman for the second time, I encounter this error. How can I solve this issue?</p>\n<p>java.io.UncheckedIOException: Cannot delete C:\\Users\\kk\\AppData\\Local\\Temp\\tomcat.8080.8382445987963140509\\work\\Tomcat\\localhost\\ROOT\\upload_5ff0e06e_a607_4937_b707_de9c116a9f97_00000001.tmp\nat org.apache.tomcat.util.http.fileupload.disk.DiskFileItem.delete(DiskFileItem.java:431) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.apache.catalina.core.ApplicationPart.delete(ApplicationPart.java:53) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.springframework.web.multipart.support.StandardServletMultipartResolver.cleanupMultipart(StandardServletMultipartResolver.java:134) ~[spring-web-5.3.28.jar:5.3.28]\nat org.springframework.web.servlet.DispatcherServlet.cleanupMultipart(DispatcherServlet.java:1251) [spring-webmvc-5.3.28.jar:5.3.28]\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1108) [spring-webmvc-5.3.28.jar:5.3.28]\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) [spring-webmvc-5.3.28.jar:5.3.28]\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) [spring-webmvc-5.3.28.jar:5.3.28]\nat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) [spring-webmvc-5.3.28.jar:5.3.28]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:555) [tomcat-embed-core-9.0.76.jar:4.0.FR]\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) [spring-webmvc-5.3.28.jar:5.3.28]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:623) [tomcat-embed-core-9.0.76.jar:4.0.FR]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) [tomcat-embed-websocket-9.0.76.jar:9.0.76]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.3.28.jar:5.3.28]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.28.jar:5.3.28]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.3.28.jar:5.3.28]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.28.jar:5.3.28]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.3.28.jar:5.3.28]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.28.jar:5.3.28]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat java.lang.Thread.run(Thread.java:750) [na:1.8.0_372]</p>\n<p>WARN  o.s.w.m.s.StandardServletMultipartResolver - Failed to perform cleanup of multipart items\nCaused by: java.io.IOException: Cannot delete C:\\Users\\kk\\AppData\\Local\\Temp\\tomcat.8080.8711335808711968415\\work\\Tomcat\\localhost\\ROOT\\upload_39333cde_6632_40ed_9ca7_4565440ea9d0_00000001.tmp\n... 44 common frames omitted</p>\n<pre><code>@Override\n    @Async\n    public List&lt;CsvReportDto&gt; getControlReportCsvFile(InputStream inputStream) throws Exception{\n    List&lt;CsvReportDto&gt; reports = csvUtils.readReportFromCsv(inputStream);\n\n\n</code></pre>\n<p>CsvUtils</p>\n<pre><code>` public List&lt;CsvReportDto&gt; readReportFromCsv(InputStream inputStream) throws Exception{\n        try(BufferedReader br = new BufferedReader(new InputStreamReader(inputStream, &quot;Windows-1254&quot;))) {\n            List&lt;CsvReportDto&gt; csvReportDtoList = new ArrayList&lt;&gt;();\n            br.readLine();\n            String line;\nwhile ((line = br.readLine()) != null){\n\n                String[] data = line.split(&quot;;&quot;);\n                CsvReportDto csvReportDto = new CsvReportDto();\n                // set dtos\n                csvReportDtoList.add(csvReportDto);\n            }\n            br.close();\n            return csvReportDtoList;\n\n        }catch (Exception e){\n            e.printStackTrace();\n            throw e;\n        }\n\n\n</code></pre>\n<p>`</p>\n<p>I don't want to receive an error message when I send requests consecutively without closing the application.</p>\n"},{"tags":["java","plugins","mqtt","mosquitto","paho"],"comments":[{"owner":{"account_id":236814,"reputation":55963,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":1,"creation_date":1691497523,"post_id":76859087,"comment_id":135497116,"body_markdown":"The short answer is don&#39;t do it this way. Use one of the authentication plugins and add/remove users from a database. (Otherwise how to get the `password_file` to be re-read is detailed in the `mosquitto.conf` man page https://mosquitto.org/man/mosquitto-conf-5.html)","body":"The short answer is don&#39;t do it this way. Use one of the authentication plugins and add/remove users from a database. (Otherwise how to get the <code>password_file</code> to be re-read is detailed in the <code>mosquitto.conf</code> man page <a href=\"https://mosquitto.org/man/mosquitto-conf-5.html\" rel=\"nofollow noreferrer\">mosquitto.org/man/mosquitto-conf-5.html</a>)"},{"owner":{"account_id":236814,"reputation":55963,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":1,"creation_date":1691497870,"post_id":76859087,"comment_id":135497204,"body_markdown":"Also don&#39;t try and use java to run the `mosquitto_ctrl` command. If you want to use the dynamic_sec plugin then you should just send the MQTT messages directly from the java app to the broker","body":"Also don&#39;t try and use java to run the <code>mosquitto_ctrl</code> command. If you want to use the dynamic_sec plugin then you should just send the MQTT messages directly from the java app to the broker"},{"owner":{"account_id":29142318,"reputation":1,"user_id":22325015,"display_name":"Mangesh Kale"},"score":0,"creation_date":1691561388,"post_id":76859087,"comment_id":135506489,"body_markdown":"actully my users are connecting to mqtt mosquitto server and i want to just add these user to mosquitto server for authentication and please can you explain me how to add user by sending messages from java actully i have read the doc you mentioned still i didnt get and thank you for your reply and help","body":"actully my users are connecting to mqtt mosquitto server and i want to just add these user to mosquitto server for authentication and please can you explain me how to add user by sending messages from java actully i have read the doc you mentioned still i didnt get and thank you for your reply and help"},{"owner":{"account_id":236814,"reputation":55963,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":0,"creation_date":1691698319,"post_id":76859087,"comment_id":135530580,"body_markdown":"Read this feature https://github.com/eclipse/mosquitto/issues/1779","body":"Read this feature <a href=\"https://github.com/eclipse/mosquitto/issues/1779\" rel=\"nofollow noreferrer\">github.com/eclipse/mosquitto/issues/1779</a>"}],"owner":{"account_id":29142318,"reputation":1,"user_id":22325015,"display_name":"Mangesh Kale"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1691497490,"answer_count":0,"score":0,"last_activity_date":1691493962,"creation_date":1691493962,"question_id":76859087,"body_markdown":"i have tried command line methods to create client but i want to create using java code via dynamic security plugin or any other method without restarting server \r\n\r\nin this code i am getting issue that when the command is executed then it is not waiting for password to enter after command is executed how to solve this issue ?\r\n\r\n\r\n\r\n```\r\n  public static void main(String[] args) {\r\n        String mosquittoDir = &quot;D:\\\\jar folder\\\\mosquitto&quot;;\r\n        String username = &quot;myadmin&quot;;\r\n        String password = &quot;root&quot;;\r\n        String clientName = &quot;sk123&quot;;\r\n\r\n        try {\r\n            // Set the working directory to the Mosquitto directory\r\n            File mosquittoDirectory = new File(mosquittoDir);\r\n\r\n            ProcessBuilder processBuilder = new ProcessBuilder(&quot;cmd.exe&quot;,&quot;/k&quot;, &quot;mosquitto_ctrl -u admin -P root dynsec createClient sk123&quot;);\r\n            processBuilder.directory(mosquittoDirectory);\r\n            processBuilder.redirectErrorStream(true);\r\n            Process process = processBuilder.start();\r\n\r\n            // Read the output from the command in a separate thread\r\n           \r\n                try {\r\n                    BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n                    String line;\r\n                    while ((line = reader.readLine())!=null){\r\n                        System.out.println(line);\r\n                        if (line.contains(&quot;New password for &quot; + username + &quot;:&quot;)) {\r\n                            // Provide the password\r\n                            OutputStream outputStream = process.getOutputStream();\r\n                            outputStream.write((password).getBytes());\r\n                            outputStream.flush();\r\n                        } else if (line.contains(&quot;Reenter password for &quot; + username + &quot;:&quot;)) {\r\n                            // Provide the password again for re-entering\r\n                            System.out.println(&quot;Password re-enter called&quot;);\r\n                            OutputStream outputStream = process.getOutputStream();\r\n                            outputStream.write((password + &quot;\\n&quot;).getBytes());\r\n                            outputStream.flush();\r\n                        } else if ((line.contains(&quot;This means all of the configuration changes you are making are visible on the network, including passwords.&quot;))) {\r\n                        \tbreak;\r\n                        \t\r\n                        }\r\n                    }\r\n                   // process.destroy();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n            // Wait for the process to complete\r\n            int exitCode = process.waitFor();\r\n           \r\n            // Wait for the output thread to complete\r\n           \r\n\r\n        } catch (IOException | InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n","title":"how to create or add new client with password without restarting mqtt eclipse mosquitto server through java code?","body":"<p>i have tried command line methods to create client but i want to create using java code via dynamic security plugin or any other method without restarting server</p>\n<p>in this code i am getting issue that when the command is executed then it is not waiting for password to enter after command is executed how to solve this issue ?</p>\n<pre><code>  public static void main(String[] args) {\n        String mosquittoDir = &quot;D:\\\\jar folder\\\\mosquitto&quot;;\n        String username = &quot;myadmin&quot;;\n        String password = &quot;root&quot;;\n        String clientName = &quot;sk123&quot;;\n\n        try {\n            // Set the working directory to the Mosquitto directory\n            File mosquittoDirectory = new File(mosquittoDir);\n\n            ProcessBuilder processBuilder = new ProcessBuilder(&quot;cmd.exe&quot;,&quot;/k&quot;, &quot;mosquitto_ctrl -u admin -P root dynsec createClient sk123&quot;);\n            processBuilder.directory(mosquittoDirectory);\n            processBuilder.redirectErrorStream(true);\n            Process process = processBuilder.start();\n\n            // Read the output from the command in a separate thread\n           \n                try {\n                    BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n                    String line;\n                    while ((line = reader.readLine())!=null){\n                        System.out.println(line);\n                        if (line.contains(&quot;New password for &quot; + username + &quot;:&quot;)) {\n                            // Provide the password\n                            OutputStream outputStream = process.getOutputStream();\n                            outputStream.write((password).getBytes());\n                            outputStream.flush();\n                        } else if (line.contains(&quot;Reenter password for &quot; + username + &quot;:&quot;)) {\n                            // Provide the password again for re-entering\n                            System.out.println(&quot;Password re-enter called&quot;);\n                            OutputStream outputStream = process.getOutputStream();\n                            outputStream.write((password + &quot;\\n&quot;).getBytes());\n                            outputStream.flush();\n                        } else if ((line.contains(&quot;This means all of the configuration changes you are making are visible on the network, including passwords.&quot;))) {\n                            break;\n                            \n                        }\n                    }\n                   // process.destroy();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n\n            // Wait for the process to complete\n            int exitCode = process.waitFor();\n           \n            // Wait for the output thread to complete\n           \n\n        } catch (IOException | InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1691063432,"post_id":76827766,"comment_id":135442541,"body_markdown":"&quot;i am writing this to fill character limit:&quot; &lt;- Well, you shouldn&#39;t have. [Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551) - If you simply would have added your code and a little bit of problem description you could have easily reached the limit.","body":"&quot;i am writing this to fill character limit:&quot; &lt;- Well, you shouldn&#39;t have. <a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a> - If you simply would have added your code and a little bit of problem description you could have easily reached the limit."},{"owner":{"account_id":29151886,"reputation":1,"user_id":22332549,"display_name":"Efekan Filiz"},"score":0,"creation_date":1691068521,"post_id":76827766,"comment_id":135443651,"body_markdown":"can you delete your dislike,i cant ask new questions because of your dislike,the reason why i asked this question in a bad way because i am new on this website and i dont know how to ask a good question,i am sorry","body":"can you delete your dislike,i cant ask new questions because of your dislike,the reason why i asked this question in a bad way because i am new on this website and i dont know how to ask a good question,i am sorry"}],"answers":[{"tags":[],"owner":{"account_id":8178752,"reputation":1,"user_id":6156705,"display_name":"Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691493916,"creation_date":1691063787,"answer_id":76827842,"question_id":76827766,"body_markdown":"Double-click the manifests and you should see something like: \r\n\r\n     &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n     &lt;/activity&gt;\r\n\r\nIf you don&#39;t see it, just copy paste it between the `&lt;application&gt;` tags.","title":"How to solve missing declaration of activity &#39;MainActivity&#39; in AndroidManifest.xml","body":"<p>Double-click the manifests and you should see something like:</p>\n<pre><code> &lt;activity\n        android:name=&quot;.MainActivity&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n &lt;/activity&gt;\n</code></pre>\n<p>If you don't see it, just copy paste it between the <code>&lt;application&gt;</code> tags.</p>\n"}],"owner":{"account_id":29151886,"reputation":1,"user_id":22332549,"display_name":"Efekan Filiz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1691493916,"creation_date":1691063164,"question_id":76827766,"body_markdown":"![[enter image description here](https://i.stack.imgur.com/N0694.png)](https://i.stack.imgur.com/4N24U.png)\r\n\r\nI am getting this error in all of my project: `the activity &#39;MainActivity(4) is not declared in Android Manifest.xml`\r\n\r\nThis is my code so far: \r\n```\r\npackage com.efekanfiliz.methodclasses;\r\n\r\nimport ...\r\n\r\npublic class MainActivity extends AppCompatActivity{\r\n\r\n@Override \r\nprotected void onCreate(Bundle savedInstantState) {\r\n\r\nsuper.onCreate(savedInstantState);\r\nsetContentView(R.layout.activity_main);\r\n\r\ntestMethod();\r\n}\r\nint x;\r\n\r\nprivate void testMethod(){x=4+4;}\r\n}\r\n```\r\n\r\ni couldn&#39;t solve this no matter what i did and i could not understand the cause of it as well. \r\n\r\n","title":"How to solve missing declaration of activity &#39;MainActivity&#39; in AndroidManifest.xml","body":"<p><img src=\"https://i.stack.imgur.com/4N24U.png\" alt=\"enter image description here\" /></p>\n<p>I am getting this error in all of my project: <code>the activity 'MainActivity(4) is not declared in Android Manifest.xml</code></p>\n<p>This is my code so far:</p>\n<pre><code>package com.efekanfiliz.methodclasses;\n\nimport ...\n\npublic class MainActivity extends AppCompatActivity{\n\n@Override \nprotected void onCreate(Bundle savedInstantState) {\n\nsuper.onCreate(savedInstantState);\nsetContentView(R.layout.activity_main);\n\ntestMethod();\n}\nint x;\n\nprivate void testMethod(){x=4+4;}\n}\n</code></pre>\n<p>i couldn't solve this no matter what i did and i could not understand the cause of it as well.</p>\n"},{"tags":["java","data-structures","queue","stack","callstack"],"comments":[{"owner":{"account_id":3700957,"reputation":13521,"user_id":3080723,"display_name":"Stef"},"score":1,"creation_date":1691493224,"post_id":76858894,"comment_id":135496161,"body_markdown":"*&quot;So, now when I call dequeue, 25 is popped from s1 and pushed to s2.&quot;* &lt;&lt;&lt; No. Your mistake is there. When calling `dequeue`, ***DO NOT*** put the elements of s1 onto s2, unless s2 is empty. If s2 is nonempty, then just pop one element from s2.","body":"<i>&quot;So, now when I call dequeue, 25 is popped from s1 and pushed to s2.&quot;</i> &lt;&lt;&lt; No. Your mistake is there. When calling <code>dequeue</code>, <b><i>DO NOT</i></b> put the elements of s1 onto s2, unless s2 is empty. If s2 is nonempty, then just pop one element from s2."},{"owner":{"account_id":3700957,"reputation":13521,"user_id":3080723,"display_name":"Stef"},"score":0,"creation_date":1691493327,"post_id":76858894,"comment_id":135496183,"body_markdown":"*&quot;This is the method where the dequeue operation is costly and enqueue is O(1).&quot;* &lt;&lt; The dequeue operation is not ***always*** costly. In fact it&#39;s [*amortized* O(1)](https://en.wikipedia.org/wiki/Amortized_analysis) if the queue is used in a context where amortized complexity makes sense.","body":"<i>&quot;This is the method where the dequeue operation is costly and enqueue is O(1).&quot;</i> &lt;&lt; The dequeue operation is not <b><i>always</i></b> costly. In fact it&#39;s <a href=\"https://en.wikipedia.org/wiki/Amortized_analysis\" rel=\"nofollow noreferrer\"><i>amortized</i> O(1)</a> if the queue is used in a context where amortized complexity makes sense."},{"owner":{"account_id":3700957,"reputation":13521,"user_id":3080723,"display_name":"Stef"},"score":0,"creation_date":1691493465,"post_id":76858894,"comment_id":135496212,"body_markdown":"In fact, in the java code that you&#39;ve shown, notice this big `if` inside the code of function `dequeue`: `if(s2.isEmpty()){`. So the code that pops the elements from s1 and pushes them to s2 is only executed if s2 is empty.","body":"In fact, in the java code that you&#39;ve shown, notice this big <code>if</code> inside the code of function <code>dequeue</code>: <code>if(s2.isEmpty()){</code>. So the code that pops the elements from s1 and pushes them to s2 is only executed if s2 is empty."},{"owner":{"account_id":29183869,"reputation":13,"user_id":22357449,"display_name":"Mohit"},"score":0,"creation_date":1691493625,"post_id":76858894,"comment_id":135496252,"body_markdown":"Yes, its amortized O(1). I get it now. Thanks a lot for clearing my doubt.","body":"Yes, its amortized O(1). I get it now. Thanks a lot for clearing my doubt."}],"answers":[{"tags":[],"owner":{"account_id":3700957,"reputation":13521,"user_id":3080723,"display_name":"Stef"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691493683,"creation_date":1691493683,"answer_id":76859052,"question_id":76858894,"body_markdown":"&gt; So, now when I call dequeue, 25 is popped from s1 and pushed to s2.\r\n\r\nNo. Your mistake is there. When calling `dequeue`, ***DO NOT*** put the elements of s1 onto s2, unless s2 is empty. If s2 is nonempty, then just pop one element from s2.\r\n\r\nIn fact, in the java code that you&#39;ve shown, notice this big `if` inside the code of function `dequeue`:\r\n```java\r\nif(s2.isEmpty()){\r\n    while(!s1.isEmpty()){\r\n        temp = s1.pop();\r\n        s2.push(temp); \r\n    }\r\n} \r\n```\r\nThe `while`-loop is responsible for popping the elements from s1 and pushing them onto s2, but this `while`-loop is enclosed inside a big `if(s2.isEmpty())`: the code that pops the elements from s1 and pushes them to s2 is only executed if s2 is empty. If s1 is nonempty, we jump directly to `return s2.pop();` without touching the elements from s1.\r\n\r\n&gt; This is the method where the dequeue operation is costly and enqueue is O(1).\r\n\r\nActually, the `dequeue` operation is not ***always*** costly. It&#39;s only costly when s2 is empty. In fact we say that this operation is [*amortized* O(1)](https://en.wikipedia.org/wiki/Amortized_analysis) if the queue is used in a context where amortized complexity makes sense.","title":"Queue Using Stacks: Transferring Elements Between Stacks for Dequeue, but Not Reverting for Enqueue","body":"<blockquote>\n<p>So, now when I call dequeue, 25 is popped from s1 and pushed to s2.</p>\n</blockquote>\n<p>No. Your mistake is there. When calling <code>dequeue</code>, <em><strong>DO NOT</strong></em> put the elements of s1 onto s2, unless s2 is empty. If s2 is nonempty, then just pop one element from s2.</p>\n<p>In fact, in the java code that you've shown, notice this big <code>if</code> inside the code of function <code>dequeue</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(s2.isEmpty()){\n    while(!s1.isEmpty()){\n        temp = s1.pop();\n        s2.push(temp); \n    }\n} \n</code></pre>\n<p>The <code>while</code>-loop is responsible for popping the elements from s1 and pushing them onto s2, but this <code>while</code>-loop is enclosed inside a big <code>if(s2.isEmpty())</code>: the code that pops the elements from s1 and pushes them to s2 is only executed if s2 is empty. If s1 is nonempty, we jump directly to <code>return s2.pop();</code> without touching the elements from s1.</p>\n<blockquote>\n<p>This is the method where the dequeue operation is costly and enqueue is O(1).</p>\n</blockquote>\n<p>Actually, the <code>dequeue</code> operation is not <em><strong>always</strong></em> costly. It's only costly when s2 is empty. In fact we say that this operation is <a href=\"https://en.wikipedia.org/wiki/Amortized_analysis\" rel=\"nofollow noreferrer\"><em>amortized</em> O(1)</a> if the queue is used in a context where amortized complexity makes sense.</p>\n"}],"owner":{"account_id":29183869,"reputation":13,"user_id":22357449,"display_name":"Mohit"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76859052,"answer_count":1,"score":1,"last_activity_date":1691493683,"creation_date":1691492465,"question_id":76858894,"body_markdown":"I&#39;m learning how to implement queues using two stacks. This is the method where the dequeue operation is costly and enqueue is O(1). \r\nBelow is the code:- \r\n\r\n```\r\nimport java.util.*;\r\nclass QueueusingStacks2 {\r\n    Stack&lt;Integer&gt; s1 = new Stack&lt;&gt;();\r\n    Stack&lt;Integer&gt; s2 = new Stack&lt;&gt;();\r\n    \r\n    public void enqueue(int element){\r\n        s1.push(element);\r\n    }\r\n\r\n    public int dequeue(){\r\n        int temp;\r\n        if(s1.isEmpty()&amp;&amp;s2.isEmpty()) throw new NoSuchElementException(&quot;Queue is empty&quot;);\r\n        if(s2.isEmpty()){\r\n            while(!s1.isEmpty()){\r\n                temp = s1.pop();\r\n                s2.push(temp); \r\n            }\r\n        } \r\n        if(!s1.isEmpty()) System.out.print(s1.peek()+&quot; &quot;); \r\n        return s2.pop();\r\n    }\r\n}\r\n\r\nclass Solution{\r\n    public static void main(String[] args) {\r\n        QueueusingStacks2 q1 = new QueueusingStacks2();\r\n        q1.enqueue(5);\r\n        q1.enqueue(10);\r\n        q1.enqueue(15);\r\n        q1.enqueue(20);\r\n        System.out.println(q1.dequeue()); //5\r\n        q1.enqueue(25);\r\n        System.out.println(q1.dequeue());//10\r\n        System.out.println(q1.dequeue());//15\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nNow, when enqueue is called, 5,10,15,20 are pushed to Stack s1. Now, when I call dequeue for the first time, 20,15,10,5 are popped from s1 and pushed to s2. So, at this point, \r\n\r\ncontents of s1: Empty , \r\n\r\ncontents of s2: 20,15,10,5\r\n\r\nNow , after pop from s2, 5 is dequeued.\r\nBut, I never pushed 20,15,10 back to s1. So, I assume that Stack s1 should stay empty after dequeue returns control to main function. Now, when 25 is enqueued, it is pushed to s1.  \r\nSo, now when I call dequeue, 25 is popped from s1 and pushed to s2. So, at this point, \r\n\r\ncontents of s1: Empty , \r\n\r\ncontents of s2: 25,20,15,10,5\r\n\r\n\r\nNow, after pop from s2, 25 should be dequeued(according to this incorrect interpretation). \r\nBut, 10 is dequeued, which is how actually queues should work. \r\n\r\n\r\nCould you please tell me how is it actually working?\r\n\r\nApologies, if it&#39;s a silly doubt.  ","title":"Queue Using Stacks: Transferring Elements Between Stacks for Dequeue, but Not Reverting for Enqueue","body":"<p>I'm learning how to implement queues using two stacks. This is the method where the dequeue operation is costly and enqueue is O(1).\nBelow is the code:-</p>\n<pre><code>import java.util.*;\nclass QueueusingStacks2 {\n    Stack&lt;Integer&gt; s1 = new Stack&lt;&gt;();\n    Stack&lt;Integer&gt; s2 = new Stack&lt;&gt;();\n    \n    public void enqueue(int element){\n        s1.push(element);\n    }\n\n    public int dequeue(){\n        int temp;\n        if(s1.isEmpty()&amp;&amp;s2.isEmpty()) throw new NoSuchElementException(&quot;Queue is empty&quot;);\n        if(s2.isEmpty()){\n            while(!s1.isEmpty()){\n                temp = s1.pop();\n                s2.push(temp); \n            }\n        } \n        if(!s1.isEmpty()) System.out.print(s1.peek()+&quot; &quot;); \n        return s2.pop();\n    }\n}\n\nclass Solution{\n    public static void main(String[] args) {\n        QueueusingStacks2 q1 = new QueueusingStacks2();\n        q1.enqueue(5);\n        q1.enqueue(10);\n        q1.enqueue(15);\n        q1.enqueue(20);\n        System.out.println(q1.dequeue()); //5\n        q1.enqueue(25);\n        System.out.println(q1.dequeue());//10\n        System.out.println(q1.dequeue());//15\n    }\n}\n</code></pre>\n<p>Now, when enqueue is called, 5,10,15,20 are pushed to Stack s1. Now, when I call dequeue for the first time, 20,15,10,5 are popped from s1 and pushed to s2. So, at this point,</p>\n<p>contents of s1: Empty ,</p>\n<p>contents of s2: 20,15,10,5</p>\n<p>Now , after pop from s2, 5 is dequeued.\nBut, I never pushed 20,15,10 back to s1. So, I assume that Stack s1 should stay empty after dequeue returns control to main function. Now, when 25 is enqueued, it is pushed to s1.<br />\nSo, now when I call dequeue, 25 is popped from s1 and pushed to s2. So, at this point,</p>\n<p>contents of s1: Empty ,</p>\n<p>contents of s2: 25,20,15,10,5</p>\n<p>Now, after pop from s2, 25 should be dequeued(according to this incorrect interpretation).\nBut, 10 is dequeued, which is how actually queues should work.</p>\n<p>Could you please tell me how is it actually working?</p>\n<p>Apologies, if it's a silly doubt.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9732,"page":260,"page_size":100}
