{"items":[{"tags":["java","date","elasticsearch"],"comments":[{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":1,"creation_date":1650812059,"post_id":71985245,"comment_id":127205672,"body_markdown":"Which version are you using?","body":"Which version are you using?"},{"owner":{"account_id":14326900,"reputation":15577,"user_id":10348758,"display_name":"ESCoder"},"score":0,"creation_date":1650819896,"post_id":71985245,"comment_id":127207473,"body_markdown":"@Val I am using Java 17 version, and Elasticsearch 8.1.3","body":"@Val I am using Java 17 version, and Elasticsearch 8.1.3"}],"owner":{"account_id":14326900,"reputation":15577,"user_id":10348758,"display_name":"ESCoder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650819909,"creation_date":1650770437,"question_id":71985245,"body_markdown":"I am using the Ingest API to create a timestamp pipeline for an Elasticsearch document.\r\n\r\nThe format in which Elasticsearch gives the `{_ingest.timestamp}` is `2022-04-24T01:42:49.036897988Z`\r\n\r\nUsing Set Processor, I am adding the time of ingesting the documents, in the `@timestamp` field for all the documents, using\r\n\r\n```\r\nPUT _ingest/pipeline/ts-pipeline\r\n{\r\n    &quot;description&quot;: &quot;Add timestamp field to all documents&quot;,\r\n    &quot;processors&quot;: [\r\n        {\r\n            &quot;set&quot;: {\r\n                &quot;field&quot;: &quot;timestamp&quot;,\r\n                &quot;value&quot;: &quot;{{_ingest.timestamp}}&quot;\r\n            }\r\n        },\r\n        {\r\n            &quot;script&quot;: {\r\n                &quot;id&quot;:&quot;calculate-timestamp&quot;\r\n            }\r\n        },\r\n        {\r\n            &quot;remove&quot;: {\r\n                &quot;field&quot;: &quot;timestamp&quot;\r\n            }\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\n\r\nThe definition of the script used above is given below. I need to convert the timestamp, to milliseconds, so for that, I followed this [discuss link][1]\r\n\r\n```\r\nPOST _scripts/calculate-time\r\n{\r\n  &quot;script&quot;: {\r\n    &quot;lang&quot;: &quot;painless&quot;,\r\n    &quot;source&quot;: &quot;&quot;&quot;DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSSSSSSS&#39;Z&#39;&quot;); LocalDateTime ldt = LocalDateTime.parse(ctx[&#39;timestamp&#39;], dtf); ZonedDateTime zdt = ldt.atZone(ZoneId.of(&#39;Z&#39;)); ctx[&#39;@timestamp&#39;]=zdt.toInstant().toEpochMilli();&quot;&quot;&quot;\r\n  }\r\n}\r\n```\r\n\r\nMapping of `@timstamp` field is\r\n\r\n```\r\n&quot;@timestamp&quot;: {\r\n        &quot;type&quot;: &quot;date&quot;\r\n      }\r\n```\r\n\r\nBut when indexing the documents, using this `@timestamp` field I get, the below error\r\n\r\n&gt; Text &#39;2022-04-23T10:15:07.024775Z&#39; could not be parsed at index 20\r\n\r\nThe issue is occurring since the format of ingestion time has changed from `yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSSSSSSS&#39;Z&#39;` to `yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSSSS&#39;Z&#39;`\r\n\r\n**Can anyone please let me know, how come the format of the ingestion timestamp has changed to this format `yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSSSS&#39;Z&#39;`**\r\n\r\n  [1]: https://discuss.elastic.co/t/convert-timestamp-to-milliseconds-in-ingest-pipeline/294602/9","title":"Error in using ingestion timestamp - Text &#39;2022-04-23T10:15:07.024775Z&#39; could not be parsed at index 20","body":"<p>I am using the Ingest API to create a timestamp pipeline for an Elasticsearch document.</p>\n<p>The format in which Elasticsearch gives the <code>{_ingest.timestamp}</code> is <code>2022-04-24T01:42:49.036897988Z</code></p>\n<p>Using Set Processor, I am adding the time of ingesting the documents, in the <code>@timestamp</code> field for all the documents, using</p>\n<pre><code>PUT _ingest/pipeline/ts-pipeline\n{\n    &quot;description&quot;: &quot;Add timestamp field to all documents&quot;,\n    &quot;processors&quot;: [\n        {\n            &quot;set&quot;: {\n                &quot;field&quot;: &quot;timestamp&quot;,\n                &quot;value&quot;: &quot;{{_ingest.timestamp}}&quot;\n            }\n        },\n        {\n            &quot;script&quot;: {\n                &quot;id&quot;:&quot;calculate-timestamp&quot;\n            }\n        },\n        {\n            &quot;remove&quot;: {\n                &quot;field&quot;: &quot;timestamp&quot;\n            }\n        }\n    ]\n}\n</code></pre>\n<p>The definition of the script used above is given below. I need to convert the timestamp, to milliseconds, so for that, I followed this <a href=\"https://discuss.elastic.co/t/convert-timestamp-to-milliseconds-in-ingest-pipeline/294602/9\" rel=\"nofollow noreferrer\">discuss link</a></p>\n<pre><code>POST _scripts/calculate-time\n{\n  &quot;script&quot;: {\n    &quot;lang&quot;: &quot;painless&quot;,\n    &quot;source&quot;: &quot;&quot;&quot;DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss.SSSSSSSSS'Z'&quot;); LocalDateTime ldt = LocalDateTime.parse(ctx['timestamp'], dtf); ZonedDateTime zdt = ldt.atZone(ZoneId.of('Z')); ctx['@timestamp']=zdt.toInstant().toEpochMilli();&quot;&quot;&quot;\n  }\n}\n</code></pre>\n<p>Mapping of <code>@timstamp</code> field is</p>\n<pre><code>&quot;@timestamp&quot;: {\n        &quot;type&quot;: &quot;date&quot;\n      }\n</code></pre>\n<p>But when indexing the documents, using this <code>@timestamp</code> field I get, the below error</p>\n<blockquote>\n<p>Text '2022-04-23T10:15:07.024775Z' could not be parsed at index 20</p>\n</blockquote>\n<p>The issue is occurring since the format of ingestion time has changed from <code>yyyy-MM-dd'T'HH:mm:ss.SSSSSSSSS'Z'</code> to <code>yyyy-MM-dd'T'HH:mm:ss.SSSSSS'Z'</code></p>\n<p><strong>Can anyone please let me know, how come the format of the ingestion timestamp has changed to this format <code>yyyy-MM-dd'T'HH:mm:ss.SSSSSS'Z'</code></strong></p>\n"},{"tags":["java","web-services","webservice-client","ntlm","axis"],"answers":[{"tags":[],"owner":{"account_id":38193,"reputation":5264,"user_id":109471,"accept_rate":85,"display_name":"David Garc&#237;a Gonz&#225;lez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1412348500,"creation_date":1412348500,"answer_id":26181503,"question_id":17855960,"body_markdown":"The problem is that Axis 1.4 does not implement correctly the NTLM V2 protocol.\r\n\r\nI experienced the problem with Sharepoint 2010 web services. I had a client working perfectly with Sharepoint 2007 running on Windows 2003 server. Then, I tested this client with Sharepoint 2010 web services running on Windows 2008 R2 server and they stop working. The error was:\r\n\r\n    Caused by: (401)Unauthorized\r\n\tat org.apache.axis.transport.http.CommonsHTTPSender.invoke(CommonsHTTPSender.java:218)\r\n\tat org.apache.axis.strategies.InvocationStrategy.visit(InvocationStrategy.java:32)\r\n\tat org.apache.axis.SimpleChain.doVisiting(SimpleChain.java:118)\r\n\tat org.apache.axis.SimpleChain.invoke(SimpleChain.java:83)\r\n\tat org.apache.axis.client.AxisClient.invoke(AxisClient.java:165)\r\n\tat org.apache.axis.client.Call.invokeEngine(Call.java:2784)\r\n\tat org.apache.axis.client.Call.invoke(Call.java:2767)\r\n\tat org.apache.axis.client.Call.invoke(Call.java:2443)\r\n\tat org.apache.axis.client.Call.invoke(Call.java:2366)\r\n\tat org.apache.axis.client.Call.invoke(Call.java:1812)\r\n\r\nSearching in google, the problem was that Windows 2003 is using NTLM V1 protocol as default, while Windows 2008 R2 was using NTLM V2 as default.\r\n\r\nI found the solution and the problem explained perfectly in the following url:\r\n\r\nhttp://devsac.blogspot.com.es/2010/10/supoprt-for-ntlmv2-with-apache.html\r\n\r\n\r\n\r\n\r\nThe solution is creating the following class to resolve the HttpClient 3.x:\r\n\r\n    public class JCIFS_NTLMScheme implements AuthScheme {\r\n\r\n       private static AppLogger logger = new AppLogger(HTTPHelper.class.getName());\r\n\r\n \r\n       /** NTLM challenge string. */\r\n\r\n       private String ntlmchallenge = null;\r\n\r\n       private static final int UNINITIATED = 0;\r\n       private static final int INITIATED = 1;\r\n       private static final int TYPE1_MSG_GENERATED = 2;\r\n       private static final int TYPE2_MSG_RECEIVED = 3;\r\n       private static final int TYPE3_MSG_GENERATED = 4;\r\n       private static final int FAILED = Integer.MAX_VALUE; \r\n\r\n       /** Authentication process state */\r\n\r\n       private int state;\r\n\r\n \r\n\r\n       public JCIFS_NTLMScheme() throws AuthenticationException {\r\n\r\n              // Check if JCIFS is present. If not present, do not proceed.\r\n\r\n              try {\r\n\r\n                     Class.forName(&quot;jcifs.ntlmssp.NtlmMessage&quot;,false,this.getClass().getClassLoader());\r\n\r\n              } catch (ClassNotFoundException e) {\r\n\r\n                     throw new AuthenticationException(&quot;Unable to proceed as JCIFS library is not found.&quot;);\r\n\r\n              }\r\n\r\n       }\r\n\r\n     \r\n       public String authenticate(Credentials credentials, HttpMethod method)\r\n\r\n                     throws AuthenticationException {\r\n\r\n              logger.doLog(AppLogger.FINEST,\r\n\r\n                           &quot;Enter JCIFS_NTLMScheme.authenticate(Credentials, HttpMethod)&quot;,\r\n\r\n                           null);\r\n\r\n \r\n\r\n              if (this.state == UNINITIATED) {\r\n\r\n                     throw new IllegalStateException(\r\n\r\n                                  &quot;NTLM authentication process has not been initiated&quot;);\r\n\r\n              }\r\n\r\n\r\n              NTCredentials ntcredentials = null;\r\n\r\n              try {\r\n\r\n                     ntcredentials = (NTCredentials) credentials;\r\n\r\n              } catch (ClassCastException e) {\r\n\r\n                     throw new InvalidCredentialsException(\r\n\r\n                                  &quot;Credentials cannot be used for NTLM authentication: &quot;\r\n\r\n                                                + credentials.getClass().getName());\r\n\r\n              }\r\n\r\n             \r\n\r\n              NTLM ntlm = new NTLM();\r\n\r\n              ntlm.setCredentialCharset(method.getParams().getCredentialCharset());\r\n\r\n              String response = null;\r\n\r\n              if (this.state == INITIATED || this.state == FAILED) {\r\n\r\n                     response = ntlm.generateType1Msg(ntcredentials.getHost(),\r\n\r\n                                  ntcredentials.getDomain());\r\n\r\n                     this.state = TYPE1_MSG_GENERATED;\r\n\r\n              } else {\r\n\r\n                     response = ntlm.generateType3Msg(ntcredentials.getUserName(),\r\n\r\n                                  ntcredentials.getPassword(), ntcredentials.getHost(),\r\n\r\n                                  ntcredentials.getDomain(), this.ntlmchallenge);\r\n\r\n                     this.state = TYPE3_MSG_GENERATED;\r\n\r\n              }\r\n\r\n              return &quot;NTLM &quot; + response;\r\n\r\n \r\n\r\n       }\r\n\r\n \r\n\r\n       public String authenticate(Credentials credentials, String method,\r\n\r\n                     String uri) throws AuthenticationException {\r\n\r\n              throw new RuntimeException(\r\n\r\n                           &quot;Not implemented as it is deprecated anyway in Httpclient 3.x&quot;);\r\n\r\n       }\r\n\r\n \r\n\r\n       public String getID() {\r\n\r\n              throw new RuntimeException(\r\n\r\n                           &quot;Not implemented as it is deprecated anyway in Httpclient 3.x&quot;);\r\n\r\n       }\r\n\r\n \r\n\r\n       /**\r\n\r\n        * Returns the authentication parameter with the given name, if available.\r\n\r\n        *\r\n\r\n        * &lt;p&gt;\r\n\r\n        * There are no valid parameters for NTLM authentication so this method\r\n\r\n        * always returns &lt;tt&gt;null&lt;/tt&gt;.\r\n\r\n        * &lt;/p&gt;\r\n\r\n        *\r\n\r\n        * @param name\r\n\r\n        *            The name of the parameter to be returned\r\n\r\n        *\r\n\r\n        * @return the parameter with the given name\r\n\r\n        */\r\n\r\n       public String getParameter(String name) {\r\n\r\n              if (name == null) {\r\n\r\n                     throw new IllegalArgumentException(&quot;Parameter name may not be null&quot;);\r\n\r\n              }\r\n\r\n              return null;\r\n\r\n       }\r\n\r\n \r\n\r\n       /**\r\n\r\n        * The concept of an authentication realm is not supported by the NTLM\r\n\r\n        * authentication scheme. Always returns &lt;code&gt;null&lt;/code&gt;.\r\n\r\n        *\r\n\r\n        * @return &lt;code&gt;null&lt;/code&gt;\r\n\r\n        */\r\n\r\n       public String getRealm() {\r\n\r\n              return null;\r\n\r\n       }\r\n\r\n \r\n\r\n       /**\r\n\r\n        * Returns textual designation of the NTLM authentication scheme.\r\n\r\n        *\r\n\r\n        * @return &lt;code&gt;ntlm&lt;/code&gt;\r\n\r\n        */\r\n\r\n       public String getSchemeName() {\r\n\r\n              return &quot;ntlm&quot;;\r\n\r\n       }\r\n\r\n \r\n\r\n       /**\r\n\r\n        * Tests if the NTLM authentication process has been completed.\r\n\r\n        *\r\n\r\n        * @return &lt;tt&gt;true&lt;/tt&gt; if Basic authorization has been processed,\r\n\r\n        *         &lt;tt&gt;false&lt;/tt&gt; otherwise.\r\n\r\n        *\r\n\r\n        * @since 3.0\r\n\r\n        */\r\n\r\n       public boolean isComplete() {\r\n\r\n              return this.state == TYPE3_MSG_GENERATED || this.state == FAILED;\r\n\r\n       }\r\n\r\n \r\n\r\n       /**\r\n\r\n        * Returns &lt;tt&gt;true&lt;/tt&gt;. NTLM authentication scheme is connection based.\r\n\r\n        *\r\n\r\n        * @return &lt;tt&gt;true&lt;/tt&gt;.\r\n\r\n        *\r\n\r\n        * @since 3.0\r\n\r\n        */\r\n\r\n       public boolean isConnectionBased() {\r\n\r\n              return true;\r\n\r\n       }\r\n\r\n \r\n\r\n       /**\r\n\r\n        * Processes the NTLM challenge.\r\n\r\n        *\r\n\r\n        * @param challenge\r\n\r\n        *            the challenge string\r\n\r\n        *\r\n\r\n        * @throws MalformedChallengeException\r\n\r\n        *             is thrown if the authentication challenge is malformed\r\n\r\n        *\r\n\r\n        * @since 3.0\r\n\r\n        */\r\n\r\n       public void processChallenge(final String challenge)\r\n\r\n                     throws MalformedChallengeException {\r\n\r\n              String s = AuthChallengeParser.extractScheme(challenge);\r\n\r\n              if (!s.equalsIgnoreCase(getSchemeName())) {\r\n\r\n                     throw new MalformedChallengeException(&quot;Invalid NTLM challenge: &quot;\r\n\r\n                                  + challenge);\r\n\r\n              }\r\n\r\n              int i = challenge.indexOf(&#39; &#39;);\r\n\r\n              if (i != -1) {\r\n\r\n                     s = challenge.substring(i, challenge.length());\r\n\r\n                     this.ntlmchallenge = s.trim();\r\n\r\n                     this.state = TYPE2_MSG_RECEIVED;\r\n\r\n              } else {\r\n\r\n                     this.ntlmchallenge = &quot;&quot;;\r\n\r\n                     if (this.state == UNINITIATED) {\r\n\r\n                           this.state = INITIATED;\r\n\r\n                     } else {\r\n\r\n                           this.state = FAILED;\r\n\r\n                     }\r\n\r\n              }\r\n\r\n       }\r\n\r\n \r\n\r\n       private class NTLM {\r\n\r\n           /** Character encoding */\r\n\r\n           public static final String DEFAULT_CHARSET = &quot;ASCII&quot;;\r\n\r\n          \r\n\r\n           /**\r\n\r\n               * The character was used by 3.x&#39;s NTLM to encode the username and\r\n\r\n               * password. Apparently, this is not needed in when passing username,\r\n\r\n               * password from NTCredentials to the JCIFS library\r\n\r\n               */\r\n\r\n           private String credentialCharset = DEFAULT_CHARSET;\r\n\r\n          \r\n\r\n              void setCredentialCharset(String credentialCharset) {\r\n\r\n                     this.credentialCharset = credentialCharset;\r\n\r\n              }\r\n\r\n \r\n\r\n              private String generateType1Msg(String host, String domain) {\r\n\r\n                     jcifs.ntlmssp.Type1Message t1m = new jcifs.ntlmssp.Type1Message(jcifs.ntlmssp.Type1Message.getDefaultFlags(),\r\n\r\n                                  domain, host);\r\n\r\n                     return jcifs.util.Base64.encode(t1m.toByteArray());\r\n\r\n              }\r\n\r\n \r\n\r\n              private String generateType3Msg(String username, String password, String host,\r\n\r\n                           String domain, String challenge) {\r\n\r\n                     jcifs.ntlmssp.Type2Message t2m;\r\n\r\n                     try {\r\n\r\n                           t2m = new jcifs.ntlmssp.Type2Message(jcifs.util.Base64.decode(challenge));\r\n\r\n                     } catch (IOException e) {\r\n\r\n                           throw new RuntimeException(&quot;Invalid Type2 message&quot;, e);\r\n\r\n                     }\r\n\r\n \r\n\r\n                     jcifs.ntlmssp.Type3Message t3m = new jcifs.ntlmssp.Type3Message(t2m, password, domain,\r\n\r\n                                  username, host, 0);\r\n\r\n                     return jcifs.util.Base64.encode(t3m.toByteArray());\r\n\r\n              }\r\n\r\n       }\r\n\r\n}\r\n\r\n\r\nThen it was Register the new JCIFS_NTLMScheme class as the replacement for NTLMScheme by using the following command:\r\n\r\n\r\n    AuthPolicy.registerAuthScheme(AuthPolicy.NTLM, org.xyz.JCIFS_NTLMScheme.class);\r\n\r\n\r\n[Thanks to Sachin&#39;s Tech Place][1]\r\n\r\n\r\n  [1]: http://devsac.blogspot.com.es/","title":"401: Unauthorized Exception occurred with an apache axis client(java) to invoke a webservice(.net) with an NTLM Authentication Technique","body":"<p>The problem is that Axis 1.4 does not implement correctly the NTLM V2 protocol.</p>\n\n<p>I experienced the problem with Sharepoint 2010 web services. I had a client working perfectly with Sharepoint 2007 running on Windows 2003 server. Then, I tested this client with Sharepoint 2010 web services running on Windows 2008 R2 server and they stop working. The error was:</p>\n\n<pre><code>Caused by: (401)Unauthorized\nat org.apache.axis.transport.http.CommonsHTTPSender.invoke(CommonsHTTPSender.java:218)\nat org.apache.axis.strategies.InvocationStrategy.visit(InvocationStrategy.java:32)\nat org.apache.axis.SimpleChain.doVisiting(SimpleChain.java:118)\nat org.apache.axis.SimpleChain.invoke(SimpleChain.java:83)\nat org.apache.axis.client.AxisClient.invoke(AxisClient.java:165)\nat org.apache.axis.client.Call.invokeEngine(Call.java:2784)\nat org.apache.axis.client.Call.invoke(Call.java:2767)\nat org.apache.axis.client.Call.invoke(Call.java:2443)\nat org.apache.axis.client.Call.invoke(Call.java:2366)\nat org.apache.axis.client.Call.invoke(Call.java:1812)\n</code></pre>\n\n<p>Searching in google, the problem was that Windows 2003 is using NTLM V1 protocol as default, while Windows 2008 R2 was using NTLM V2 as default.</p>\n\n<p>I found the solution and the problem explained perfectly in the following url:</p>\n\n<p><a href=\"http://devsac.blogspot.com.es/2010/10/supoprt-for-ntlmv2-with-apache.html\" rel=\"nofollow\">http://devsac.blogspot.com.es/2010/10/supoprt-for-ntlmv2-with-apache.html</a></p>\n\n<p>The solution is creating the following class to resolve the HttpClient 3.x:</p>\n\n<pre><code>public class JCIFS_NTLMScheme implements AuthScheme {\n\n   private static AppLogger logger = new AppLogger(HTTPHelper.class.getName());\n\n\n   /** NTLM challenge string. */\n\n   private String ntlmchallenge = null;\n\n   private static final int UNINITIATED = 0;\n   private static final int INITIATED = 1;\n   private static final int TYPE1_MSG_GENERATED = 2;\n   private static final int TYPE2_MSG_RECEIVED = 3;\n   private static final int TYPE3_MSG_GENERATED = 4;\n   private static final int FAILED = Integer.MAX_VALUE; \n\n   /** Authentication process state */\n\n   private int state;\n\n\n\n   public JCIFS_NTLMScheme() throws AuthenticationException {\n\n          // Check if JCIFS is present. If not present, do not proceed.\n\n          try {\n\n                 Class.forName(\"jcifs.ntlmssp.NtlmMessage\",false,this.getClass().getClassLoader());\n\n          } catch (ClassNotFoundException e) {\n\n                 throw new AuthenticationException(\"Unable to proceed as JCIFS library is not found.\");\n\n          }\n\n   }\n\n\n   public String authenticate(Credentials credentials, HttpMethod method)\n\n                 throws AuthenticationException {\n\n          logger.doLog(AppLogger.FINEST,\n\n                       \"Enter JCIFS_NTLMScheme.authenticate(Credentials, HttpMethod)\",\n\n                       null);\n\n\n\n          if (this.state == UNINITIATED) {\n\n                 throw new IllegalStateException(\n\n                              \"NTLM authentication process has not been initiated\");\n\n          }\n\n\n          NTCredentials ntcredentials = null;\n\n          try {\n\n                 ntcredentials = (NTCredentials) credentials;\n\n          } catch (ClassCastException e) {\n\n                 throw new InvalidCredentialsException(\n\n                              \"Credentials cannot be used for NTLM authentication: \"\n\n                                            + credentials.getClass().getName());\n\n          }\n\n\n\n          NTLM ntlm = new NTLM();\n\n          ntlm.setCredentialCharset(method.getParams().getCredentialCharset());\n\n          String response = null;\n\n          if (this.state == INITIATED || this.state == FAILED) {\n\n                 response = ntlm.generateType1Msg(ntcredentials.getHost(),\n\n                              ntcredentials.getDomain());\n\n                 this.state = TYPE1_MSG_GENERATED;\n\n          } else {\n\n                 response = ntlm.generateType3Msg(ntcredentials.getUserName(),\n\n                              ntcredentials.getPassword(), ntcredentials.getHost(),\n\n                              ntcredentials.getDomain(), this.ntlmchallenge);\n\n                 this.state = TYPE3_MSG_GENERATED;\n\n          }\n\n          return \"NTLM \" + response;\n\n\n\n   }\n\n\n\n   public String authenticate(Credentials credentials, String method,\n\n                 String uri) throws AuthenticationException {\n\n          throw new RuntimeException(\n\n                       \"Not implemented as it is deprecated anyway in Httpclient 3.x\");\n\n   }\n\n\n\n   public String getID() {\n\n          throw new RuntimeException(\n\n                       \"Not implemented as it is deprecated anyway in Httpclient 3.x\");\n\n   }\n\n\n\n   /**\n\n    * Returns the authentication parameter with the given name, if available.\n\n    *\n\n    * &lt;p&gt;\n\n    * There are no valid parameters for NTLM authentication so this method\n\n    * always returns &lt;tt&gt;null&lt;/tt&gt;.\n\n    * &lt;/p&gt;\n\n    *\n\n    * @param name\n\n    *            The name of the parameter to be returned\n\n    *\n\n    * @return the parameter with the given name\n\n    */\n\n   public String getParameter(String name) {\n\n          if (name == null) {\n\n                 throw new IllegalArgumentException(\"Parameter name may not be null\");\n\n          }\n\n          return null;\n\n   }\n\n\n\n   /**\n\n    * The concept of an authentication realm is not supported by the NTLM\n\n    * authentication scheme. Always returns &lt;code&gt;null&lt;/code&gt;.\n\n    *\n\n    * @return &lt;code&gt;null&lt;/code&gt;\n\n    */\n\n   public String getRealm() {\n\n          return null;\n\n   }\n\n\n\n   /**\n\n    * Returns textual designation of the NTLM authentication scheme.\n\n    *\n\n    * @return &lt;code&gt;ntlm&lt;/code&gt;\n\n    */\n\n   public String getSchemeName() {\n\n          return \"ntlm\";\n\n   }\n\n\n\n   /**\n\n    * Tests if the NTLM authentication process has been completed.\n\n    *\n\n    * @return &lt;tt&gt;true&lt;/tt&gt; if Basic authorization has been processed,\n\n    *         &lt;tt&gt;false&lt;/tt&gt; otherwise.\n\n    *\n\n    * @since 3.0\n\n    */\n\n   public boolean isComplete() {\n\n          return this.state == TYPE3_MSG_GENERATED || this.state == FAILED;\n\n   }\n\n\n\n   /**\n\n    * Returns &lt;tt&gt;true&lt;/tt&gt;. NTLM authentication scheme is connection based.\n\n    *\n\n    * @return &lt;tt&gt;true&lt;/tt&gt;.\n\n    *\n\n    * @since 3.0\n\n    */\n\n   public boolean isConnectionBased() {\n\n          return true;\n\n   }\n\n\n\n   /**\n\n    * Processes the NTLM challenge.\n\n    *\n\n    * @param challenge\n\n    *            the challenge string\n\n    *\n\n    * @throws MalformedChallengeException\n\n    *             is thrown if the authentication challenge is malformed\n\n    *\n\n    * @since 3.0\n\n    */\n\n   public void processChallenge(final String challenge)\n\n                 throws MalformedChallengeException {\n\n          String s = AuthChallengeParser.extractScheme(challenge);\n\n          if (!s.equalsIgnoreCase(getSchemeName())) {\n\n                 throw new MalformedChallengeException(\"Invalid NTLM challenge: \"\n\n                              + challenge);\n\n          }\n\n          int i = challenge.indexOf(' ');\n\n          if (i != -1) {\n\n                 s = challenge.substring(i, challenge.length());\n\n                 this.ntlmchallenge = s.trim();\n\n                 this.state = TYPE2_MSG_RECEIVED;\n\n          } else {\n\n                 this.ntlmchallenge = \"\";\n\n                 if (this.state == UNINITIATED) {\n\n                       this.state = INITIATED;\n\n                 } else {\n\n                       this.state = FAILED;\n\n                 }\n\n          }\n\n   }\n\n\n\n   private class NTLM {\n\n       /** Character encoding */\n\n       public static final String DEFAULT_CHARSET = \"ASCII\";\n\n\n\n       /**\n\n           * The character was used by 3.x's NTLM to encode the username and\n\n           * password. Apparently, this is not needed in when passing username,\n\n           * password from NTCredentials to the JCIFS library\n\n           */\n\n       private String credentialCharset = DEFAULT_CHARSET;\n\n\n\n          void setCredentialCharset(String credentialCharset) {\n\n                 this.credentialCharset = credentialCharset;\n\n          }\n\n\n\n          private String generateType1Msg(String host, String domain) {\n\n                 jcifs.ntlmssp.Type1Message t1m = new jcifs.ntlmssp.Type1Message(jcifs.ntlmssp.Type1Message.getDefaultFlags(),\n\n                              domain, host);\n\n                 return jcifs.util.Base64.encode(t1m.toByteArray());\n\n          }\n\n\n\n          private String generateType3Msg(String username, String password, String host,\n\n                       String domain, String challenge) {\n\n                 jcifs.ntlmssp.Type2Message t2m;\n\n                 try {\n\n                       t2m = new jcifs.ntlmssp.Type2Message(jcifs.util.Base64.decode(challenge));\n\n                 } catch (IOException e) {\n\n                       throw new RuntimeException(\"Invalid Type2 message\", e);\n\n                 }\n\n\n\n                 jcifs.ntlmssp.Type3Message t3m = new jcifs.ntlmssp.Type3Message(t2m, password, domain,\n\n                              username, host, 0);\n\n                 return jcifs.util.Base64.encode(t3m.toByteArray());\n\n          }\n\n   }\n</code></pre>\n\n<p>}</p>\n\n<p>Then it was Register the new JCIFS_NTLMScheme class as the replacement for NTLMScheme by using the following command:</p>\n\n<pre><code>AuthPolicy.registerAuthScheme(AuthPolicy.NTLM, org.xyz.JCIFS_NTLMScheme.class);\n</code></pre>\n\n<p><a href=\"http://devsac.blogspot.com.es/\" rel=\"nofollow\">Thanks to Sachin's Tech Place</a></p>\n"}],"owner":{"account_id":2272292,"reputation":41,"user_id":1999372,"display_name":"Imran Khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13493,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1650819730,"creation_date":1374749458,"question_id":17855960,"body_markdown":"I am calling a web service written in .net located remotely running under IIS Server.  \r\n\r\nI created its respective stub using `apache axis 1.4` with eclipse IDE and created a respective web service client. This is just a test client in actual it will be my web application going to call this web service. \r\n \r\nWe have kept its two different endpoint for keeping security credential enable/disable.  \r\n\r\n 1. &quot;ip:port/pigeon/pigeon.svc;&quot; // authentication disabled\r\n 2. &quot;ip:port/pwa/pigeon.svc; // authentiction enabled\r\n\r\n So now when I am using endpoint no (1) I am able to call web service and gets things done, but since I want to apply security credential mandatory so when I use endpoint no (2) I am getting below exception \r\n\r\n&gt; (401)Unauthorized   \r\n&gt; (401)Unauthorized AxisFault  \r\n&gt; faultCode: {http://xml.apache.org/axis/}HTTP    \r\n&gt; faultSubcode:     \r\n&gt; faultString: (401)Unauthorized    \r\n&gt; faultActor:     \r\n&gt; faultNode:     \r\n&gt; faultDetail: {}:return code:  401\r\n  \r\n\r\nI want to pass credential which are in this format :   \r\n1) domain\\username  \r\n2) password\r\n\r\nI tried adding suggestion of other post over here which says set the respective before call method in stub but I am getting the same above mentioned exception. \r\n \r\n\r\n&gt; (mystub)._setProperty(javax.xml.rpc.Stub.USERNAME_PROPERTY, domain +\r\n&gt; &quot;\\\\&quot; + username);     \r\n&gt; (mystub)._setProperty(javax.xml.rpc.Stub.PASSWORD_PROPERTY, password);\r\n\r\n**Hhowever with some search now I am able to do NTML authentication with java stand alone program invoking my remote .net web service by doing this :**   \r\n\r\n    public static void main(String[] args) throws Exception {\r\n\t\tString urlStr = “http://example.com/root/action.dll?p1=value1″;\r\n\t\tString domain = “”; // May also be referred as realm\r\n\t\tString userName = “CHANGE_ME”;\r\n\t\tString password = “CHANGE_ME”;\t\t\r\n\r\n\t\tString responseText = getAuthenticatedResponse(urlStr, domain, userName, password);\r\n\r\n\t    System.out.println(”response: ” + responseText);\r\n\t}\r\n\r\n\tprivate static String getAuthenticatedResponse(final String urlStr, final String domain, final String userName, final String password) throws IOException {\r\n\r\n\t    StringBuilder response = new StringBuilder();\r\n\r\n\t\tAuthenticator.setDefault(new Authenticator() {\r\n\t        @Override\r\n\t        public PasswordAuthentication getPasswordAuthentication() {\r\n\t            return new PasswordAuthentication(domain + “\\\\” + userName, password.toCharArray());\r\n\t        }\r\n\t    });\r\n\r\n\t    URL urlRequest = new URL(urlStr);\r\n\t    HttpURLConnection conn = (HttpURLConnection) urlRequest.openConnection();\r\n\t    conn.setDoOutput(true);\r\n\t    conn.setDoInput(true);\r\n\t    conn.setRequestMethod(”GET”);\r\n\r\n\t    InputStream stream = conn.getInputStream();\r\n\t    BufferedReader in = new BufferedReader(new InputStreamReader(stream));\r\n\t    String str = “”;\r\n\t    while ((str = in.readLine()) != null) {\r\n\t        response.append(str);\r\n\t    }\r\n\t    in.close();\t\t\r\n\r\n\t    return response.toString();\r\n\t}\r\n\r\nBut I am not able to do so with my axis client as stub are generated with wsdl provided by .net web service in my web service client. I tried changing @stub level before invoke() call by modifying according to above demo but it throws same unauthorized exception.  \r\n \r\nThis is just fyi/all that remote IIS server using NTLM authentication technique.\r\n\r\nHelp expected on windows authentication using java in order to pass security credential to IIS.  \r\n\r\n**[Note : my axis client(java) passes domain\\user with password ,this is configured with IIS server on the otherside properly]**\r\n\r\n","title":"401: Unauthorized Exception occurred with an apache axis client(java) to invoke a webservice(.net) with an NTLM Authentication Technique","body":"<p>I am calling a web service written in .net located remotely running under IIS Server.  </p>\n\n<p>I created its respective stub using <code>apache axis 1.4</code> with eclipse IDE and created a respective web service client. This is just a test client in actual it will be my web application going to call this web service. </p>\n\n<p>We have kept its two different endpoint for keeping security credential enable/disable.  </p>\n\n<ol>\n<li>\"ip:port/pigeon/pigeon.svc;\" // authentication disabled</li>\n<li><p>\"ip:port/pwa/pigeon.svc; // authentiction enabled</p>\n\n<p>So now when I am using endpoint no (1) I am able to call web service and gets things done, but since I want to apply security credential mandatory so when I use endpoint no (2) I am getting below exception </p></li>\n</ol>\n\n<blockquote>\n  <p>(401)Unauthorized<br>\n  (401)Unauthorized AxisFault<br>\n  faultCode: {<a href=\"http://xml.apache.org/axis/\" rel=\"nofollow\">http://xml.apache.org/axis/</a>}HTTP<br>\n  faultSubcode:<br>\n  faultString: (401)Unauthorized<br>\n  faultActor:<br>\n  faultNode:<br>\n  faultDetail: {}:return code:  401</p>\n</blockquote>\n\n<p>I want to pass credential which are in this format :<br>\n1) domain\\username<br>\n2) password</p>\n\n<p>I tried adding suggestion of other post over here which says set the respective before call method in stub but I am getting the same above mentioned exception. </p>\n\n<blockquote>\n  <p>(mystub)._setProperty(javax.xml.rpc.Stub.USERNAME_PROPERTY, domain +\n  \"\\\" + username);<br>\n  (mystub)._setProperty(javax.xml.rpc.Stub.PASSWORD_PROPERTY, password);</p>\n</blockquote>\n\n<p><strong>Hhowever with some search now I am able to do NTML authentication with java stand alone program invoking my remote .net web service by doing this :</strong>   </p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    String urlStr = “http://example.com/root/action.dll?p1=value1″;\n    String domain = “”; // May also be referred as realm\n    String userName = “CHANGE_ME”;\n    String password = “CHANGE_ME”;      \n\n    String responseText = getAuthenticatedResponse(urlStr, domain, userName, password);\n\n    System.out.println(”response: ” + responseText);\n}\n\nprivate static String getAuthenticatedResponse(final String urlStr, final String domain, final String userName, final String password) throws IOException {\n\n    StringBuilder response = new StringBuilder();\n\n    Authenticator.setDefault(new Authenticator() {\n        @Override\n        public PasswordAuthentication getPasswordAuthentication() {\n            return new PasswordAuthentication(domain + “\\\\” + userName, password.toCharArray());\n        }\n    });\n\n    URL urlRequest = new URL(urlStr);\n    HttpURLConnection conn = (HttpURLConnection) urlRequest.openConnection();\n    conn.setDoOutput(true);\n    conn.setDoInput(true);\n    conn.setRequestMethod(”GET”);\n\n    InputStream stream = conn.getInputStream();\n    BufferedReader in = new BufferedReader(new InputStreamReader(stream));\n    String str = “”;\n    while ((str = in.readLine()) != null) {\n        response.append(str);\n    }\n    in.close();     \n\n    return response.toString();\n}\n</code></pre>\n\n<p>But I am not able to do so with my axis client as stub are generated with wsdl provided by .net web service in my web service client. I tried changing @stub level before invoke() call by modifying according to above demo but it throws same unauthorized exception.  </p>\n\n<p>This is just fyi/all that remote IIS server using NTLM authentication technique.</p>\n\n<p>Help expected on windows authentication using java in order to pass security credential to IIS.  </p>\n\n<p><strong>[Note : my axis client(java) passes domain\\user with password ,this is configured with IIS server on the otherside properly]</strong></p>\n"},{"tags":["java","swing","user-interface","joptionpane","jdialog"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1650819773,"post_id":71990547,"comment_id":127207435,"body_markdown":"[Other similar questions on this site](https://www.google.com/search?q=site%3Astackoverflow.com+java+custom+modal+dialog) -- as well as a useful search strategy.","body":"<a href=\"https://www.google.com/search?q=site%3Astackoverflow.com+java+custom+modal+dialog\" rel=\"nofollow noreferrer\">Other similar questions on this site</a> -- as well as a useful search strategy."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1650838692,"post_id":71990547,"comment_id":127211452,"body_markdown":"Or to narrow the 15,500 hits in the search suggested by @HovercraftFullOfEels to just 185, search on [Stack Overflow in tags Java, Swing &amp; JOptionPane for &#39;custom&#39;](https://stackoverflow.com/search?q=%5Bjava%5D+%5Bswing%5D+%5BJOptionPane%5D+custom). [thought I&#39;d try my luck using words &amp; tags in the op&#39;s own question]","body":"Or to narrow the 15,500 hits in the search suggested by @HovercraftFullOfEels to just 185, search on <a href=\"https://stackoverflow.com/search?q=%5Bjava%5D+%5Bswing%5D+%5BJOptionPane%5D+custom\">Stack Overflow in tags Java, Swing &amp; JOptionPane for &#39;custom&#39;</a>. [thought I&#39;d try my luck using words &amp; tags in the op&#39;s own question]"}],"owner":{"account_id":24218990,"reputation":13,"user_id":18174435,"display_name":"Alexss_1902"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1650819663,"answer_count":0,"score":0,"last_activity_date":1650819579,"creation_date":1650819579,"question_id":71990547,"body_markdown":"I&#39;m developing a GUI, where I need some pop-up windows with a customized design, for example, the client can add a product to an order by filling a form, and this form will be in a pop-up window with a custom style. Another example is something like this\r\n\r\n[After registration: (I can&#39;t post images yet)][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/i2Kg1.png\r\n\r\nMy question is, how can I achieve this? I tried to create a JOptionPane and JDialog with a custom class that extends JPanel, but the borders are grey, and the ok button it&#39;s still there... Also I would like to remove the top default border with the close button and customize it too, but I don&#39;t know if it&#39;s possible.","title":"Customizing JOptionPane in Java Swing","body":"<p>I'm developing a GUI, where I need some pop-up windows with a customized design, for example, the client can add a product to an order by filling a form, and this form will be in a pop-up window with a custom style. Another example is something like this</p>\n<p><a href=\"https://i.stack.imgur.com/i2Kg1.png\" rel=\"nofollow noreferrer\">After registration: (I can't post images yet)</a></p>\n<p>My question is, how can I achieve this? I tried to create a JOptionPane and JDialog with a custom class that extends JPanel, but the borders are grey, and the ok button it's still there... Also I would like to remove the top default border with the close button and customize it too, but I don't know if it's possible.</p>\n"},{"tags":["java","android","android-recyclerview","custom-adapter"],"comments":[{"owner":{"account_id":180055,"reputation":75792,"user_id":413127,"accept_rate":96,"display_name":"Blundell"},"score":0,"creation_date":1650110161,"post_id":71893632,"comment_id":127041812,"body_markdown":"try calling `recyclerView.notifyDatasetChanged()` in the bottom of the `onResponse` method..","body":"try calling <code>recyclerView.notifyDatasetChanged()</code> in the bottom of the <code>onResponse</code> method.."}],"answers":[{"tags":[],"owner":{"account_id":23655286,"reputation":261,"user_id":17683676,"display_name":"Sumit Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650264278,"creation_date":1650264278,"answer_id":71908437,"question_id":71893632,"body_markdown":"Please use below code,\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n        RecyclerView recyclerView;\r\n        private ProgressDialog dialog;\r\n        List&lt;ModelRecycler&gt; newslist;\r\n        RequestQueue requestQueue;\r\n        private static final String API_URL = &quot;https://newsapi.in/newsapi/news.php?key=qEhn6RWpLRebtTmkOpQcr7CxDKRGHi&amp;category=tamil_state&quot;;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            recyclerView=findViewById(R.id.recyclerView);\r\n            newslist = new ArrayList&lt;&gt;();\r\n    \r\n            requestQueue = Volley.newRequestQueue(this);\r\n            JsonObjectRequest jsonObjectRequest = new JsonObjectRequest(Request.Method.GET, API_URL, null, new Response.Listener&lt;JSONObject&gt;() {\r\n                @Override\r\n                public void onResponse(JSONObject response) {\r\n                    try{\r\n                        JSONArray array = response.getJSONArray(&quot;News&quot;);\r\n                        for(int i=0;i&lt;array.length();i++){\r\n                            JSONObject c = array.getJSONObject(i);\r\n                            String image = c.getString(&quot;image&quot;);\r\n                            Log.d(&quot;App&quot;, &quot;Log : &quot; + c.getString(&quot;image&quot;));\r\n                            String title = c.getString(&quot;title&quot;);\r\n                            Log.d(&quot;App&quot;, &quot;Log : &quot; + c.getString(&quot;title&quot;));\r\n                            String description = c.getString(&quot;description&quot;);\r\n                            Log.d(&quot;App&quot;, &quot;Log : &quot; + c.getString(&quot;description&quot;));\r\n                            String published_date = c.getString(&quot;published_date&quot;);\r\n                            Log.d(&quot;App&quot;, &quot;Log : &quot; + c.getString(&quot;published_date&quot;));\r\n                            String url = c.getString(&quot;url&quot;);\r\n                            Log.d(&quot;App&quot;, &quot;Log : &quot; + c.getString(&quot;url&quot;));\r\n    //                        Toast.makeText(MainActivity.this, &quot;Log : &quot; + c.getString(&quot;published_date&quot;), Toast.LENGTH_SHORT).show();\r\n                            ModelRecycler modelRecycler = new ModelRecycler(image,title,description,published_date,url);\r\n                            newslist.add(modelRecycler);\r\n    \r\n     LinearLayoutManager l1 = new LinearLayoutManager(getApplicationContext());\r\n            l1.setOrientation(LinearLayoutManager.VERTICAL);\r\n            recyclerView.setLayoutManager(l1);\r\n            MyAdapter myAdapter = new MyAdapter(this, newslist);\r\n            recyclerView.setAdapter(myAdapter);\r\n                        }\r\n                    }catch (JSONException e){\r\n                        Log.d(&quot;Error&quot;, &quot;Json parsing error: &quot; + e.getMessage());\r\n                    }\r\n                }\r\n            }, new Response.ErrorListener() {\r\n                @Override\r\n                public void onErrorResponse(VolleyError error) {\r\n                    Toast.makeText(MainActivity.this, &quot;Error Occured: &quot; + error, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n            requestQueue.add(jsonObjectRequest);\r\n    \r\n           \r\n        }\r\n    \r\n    }","title":"My customAdapter for recycler view is not working","body":"<p>Please use below code,</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    RecyclerView recyclerView;\n    private ProgressDialog dialog;\n    List&lt;ModelRecycler&gt; newslist;\n    RequestQueue requestQueue;\n    private static final String API_URL = &quot;https://newsapi.in/newsapi/news.php?key=qEhn6RWpLRebtTmkOpQcr7CxDKRGHi&amp;category=tamil_state&quot;;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        recyclerView=findViewById(R.id.recyclerView);\n        newslist = new ArrayList&lt;&gt;();\n\n        requestQueue = Volley.newRequestQueue(this);\n        JsonObjectRequest jsonObjectRequest = new JsonObjectRequest(Request.Method.GET, API_URL, null, new Response.Listener&lt;JSONObject&gt;() {\n            @Override\n            public void onResponse(JSONObject response) {\n                try{\n                    JSONArray array = response.getJSONArray(&quot;News&quot;);\n                    for(int i=0;i&lt;array.length();i++){\n                        JSONObject c = array.getJSONObject(i);\n                        String image = c.getString(&quot;image&quot;);\n                        Log.d(&quot;App&quot;, &quot;Log : &quot; + c.getString(&quot;image&quot;));\n                        String title = c.getString(&quot;title&quot;);\n                        Log.d(&quot;App&quot;, &quot;Log : &quot; + c.getString(&quot;title&quot;));\n                        String description = c.getString(&quot;description&quot;);\n                        Log.d(&quot;App&quot;, &quot;Log : &quot; + c.getString(&quot;description&quot;));\n                        String published_date = c.getString(&quot;published_date&quot;);\n                        Log.d(&quot;App&quot;, &quot;Log : &quot; + c.getString(&quot;published_date&quot;));\n                        String url = c.getString(&quot;url&quot;);\n                        Log.d(&quot;App&quot;, &quot;Log : &quot; + c.getString(&quot;url&quot;));\n//                        Toast.makeText(MainActivity.this, &quot;Log : &quot; + c.getString(&quot;published_date&quot;), Toast.LENGTH_SHORT).show();\n                        ModelRecycler modelRecycler = new ModelRecycler(image,title,description,published_date,url);\n                        newslist.add(modelRecycler);\n\n LinearLayoutManager l1 = new LinearLayoutManager(getApplicationContext());\n        l1.setOrientation(LinearLayoutManager.VERTICAL);\n        recyclerView.setLayoutManager(l1);\n        MyAdapter myAdapter = new MyAdapter(this, newslist);\n        recyclerView.setAdapter(myAdapter);\n                    }\n                }catch (JSONException e){\n                    Log.d(&quot;Error&quot;, &quot;Json parsing error: &quot; + e.getMessage());\n                }\n            }\n        }, new Response.ErrorListener() {\n            @Override\n            public void onErrorResponse(VolleyError error) {\n                Toast.makeText(MainActivity.this, &quot;Error Occured: &quot; + error, Toast.LENGTH_SHORT).show();\n            }\n        });\n        requestQueue.add(jsonObjectRequest);\n\n       \n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":24960577,"reputation":3,"user_id":18824596,"display_name":"Nischal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71908437,"answer_count":1,"score":0,"last_activity_date":1650819222,"creation_date":1650109736,"question_id":71893632,"body_markdown":"What is the problem causing the recycler view not to show?\r\n\r\nMainActivity.java\r\n\r\n```\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\nimport android.app.ProgressDialog;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.widget.Toast;\r\nimport com.android.volley.Request;\r\nimport com.android.volley.RequestQueue;\r\nimport com.android.volley.Response;\r\nimport com.android.volley.VolleyError;\r\nimport com.android.volley.toolbox.JsonObjectRequest;\r\nimport com.android.volley.toolbox.Volley;\r\nimport org.json.JSONArray;\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    RecyclerView recyclerView;\r\n    private ProgressDialog dialog;\r\n    List&lt;ModelRecycler&gt; newslist;\r\n    RequestQueue requestQueue;\r\n    private static final String API_URL = &quot;https://newsapi.in/newsapi/news.php?key=qEhn6RWpLRebtTmkOpQcr7CxDKRGHi&amp;category=tamil_state&quot;;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        recyclerView=findViewById(R.id.recyclerView);\r\n        newslist = new ArrayList&lt;&gt;();\r\n\r\n        requestQueue = Volley.newRequestQueue(this);\r\n        JsonObjectRequest jsonObjectRequest = new JsonObjectRequest(Request.Method.GET, API_URL, null, new Response.Listener&lt;JSONObject&gt;() {\r\n            @Override\r\n            public void onResponse(JSONObject response) {\r\n                try{\r\n                    JSONArray array = response.getJSONArray(&quot;News&quot;);\r\n                    for(int i=0;i&lt;array.length();i++){\r\n                        JSONObject c = array.getJSONObject(i);\r\n                        String image = c.getString(&quot;image&quot;);\r\n                        Log.d(&quot;App&quot;, &quot;Log : &quot; + c.getString(&quot;image&quot;));\r\n                        String title = c.getString(&quot;title&quot;);\r\n                        Log.d(&quot;App&quot;, &quot;Log : &quot; + c.getString(&quot;title&quot;));\r\n                        String description = c.getString(&quot;description&quot;);\r\n                        Log.d(&quot;App&quot;, &quot;Log : &quot; + c.getString(&quot;description&quot;));\r\n                        String published_date = c.getString(&quot;published_date&quot;);\r\n                        Log.d(&quot;App&quot;, &quot;Log : &quot; + c.getString(&quot;published_date&quot;));\r\n                        String url = c.getString(&quot;url&quot;);\r\n                        Log.d(&quot;App&quot;, &quot;Log : &quot; + c.getString(&quot;url&quot;));\r\n//                        Toast.makeText(MainActivity.this, &quot;Log : &quot; + c.getString(&quot;published_date&quot;), Toast.LENGTH_SHORT).show();\r\n                        ModelRecycler modelRecycler = new ModelRecycler(image,title,description,published_date,url);\r\n                        newslist.add(modelRecycler);\r\n                    }\r\n                }catch (JSONException e){\r\n                    Log.d(&quot;Error&quot;, &quot;Json parsing error: &quot; + e.getMessage());\r\n                }\r\n            }\r\n        }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n                Toast.makeText(MainActivity.this, &quot;Error Occured: &quot; + error, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n        requestQueue.add(jsonObjectRequest);\r\n\r\n        LinearLayoutManager l1 = new LinearLayoutManager(getApplicationContext());\r\n        l1.setOrientation(LinearLayoutManager.VERTICAL);\r\n        recyclerView.setLayoutManager(l1);\r\n        MyAdapter myAdapter = new MyAdapter(this, newslist);\r\n        recyclerView.setAdapter(myAdapter);\r\n    }\r\n\r\n}\r\n```\r\n\r\nMyAdapter.java\r\n```\r\n\r\nimport android.content.Context;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Adapter;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.bumptech.glide.Glide;\r\n\r\nimport java.util.List;\r\n\r\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.MyViewHolder&gt; {\r\n\r\n    private Context mContext;\r\n    private List&lt;ModelRecycler&gt; mData;\r\n\r\n    public MyAdapter (Context mContext, List&lt;ModelRecycler&gt; mData) {\r\n        this.mContext = mContext;\r\n        this.mData = mData;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View v;\r\n        LayoutInflater inflater = LayoutInflater.from(mContext);\r\n        v = inflater.inflate(R.layout.list_item, parent, false);\r\n        return new MyViewHolder(v);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n        holder.news_title.setText(mData.get(position).getTitle());\r\n        holder.news_description.setText(mData.get(position).getDescription());\r\n        holder.news_time.setText(mData.get(position).getTime());\r\n        Glide.with(mContext)\r\n                .load(mData.get(position).getImage())\r\n                .into(holder.news_image);\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return mData.size();\r\n    }\r\n\r\n    public static class MyViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        TextView news_title, news_description, news_time;\r\n        ImageView news_image;\r\n\r\n        public MyViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            news_title = itemView.findViewById(R.id.news_title);\r\n            news_description = itemView.findViewById(R.id.news_description);\r\n            news_time = itemView.findViewById(R.id.news_time);\r\n            news_image = itemView.findViewById(R.id.news_image);\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nModelRecycler.java\r\n```\r\n\r\npublic class ModelRecycler {\r\n    String image, title, description, time, url;\r\n    public ModelRecycler(String image, String title, String description, String time, String url) {\r\n        this.image = image;\r\n        this.title = title;\r\n        this.description = description;\r\n        this.time = time;\r\n        this.url = url;\r\n    }\r\n\r\n    public ModelRecycler() {\r\n\r\n    }\r\n\r\n    public String getImage() {\r\n        return image;\r\n    }\r\n\r\n    public String getTitle() {\r\n        return title;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public String getTime() {\r\n        return time;\r\n    }\r\n\r\n    public String getUrl() {\r\n        return url;\r\n    }\r\n\r\n}\r\n```\r\n\r\nManifest\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.technoapps.tamilnews&quot;&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.TamilNews&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\nlist_layout\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;#F8FFFFFF&quot;&gt;\r\n\r\n    &lt;ScrollView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:padding=&quot;4dp&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n\r\n            &lt;RelativeLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;190dp&quot;\r\n                android:background=&quot;#fff&quot;\r\n                android:elevation=&quot;8dp&quot;\r\n                android:padding=&quot;10dp&quot;&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/news_title&quot;\r\n                    android:layout_width=&quot;240dp&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;Lorem Ipsum Dolor Amet, Consectetur Adipiscing Elit Ipsum Dolor Amet&quot;\r\n                    android:textSize=&quot;18sp&quot;\r\n                    android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/news_description&quot;\r\n                    android:layout_width=&quot;240dp&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@+id/news_title&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:text=&quot;There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form...&quot;\r\n                    android:textSize=&quot;14dp&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/news_time&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@+id/news_description&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:text=&quot;30 min ago&quot;\r\n                    android:textSize=&quot;12dp&quot;\r\n                    android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/news_image&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;150dp&quot;\r\n                    android:layout_marginLeft=&quot;5dp&quot;\r\n                    android:layout_toRightOf=&quot;@+id/news_title&quot;\r\n                    android:scaleType=&quot;centerCrop&quot;\r\n                    android:src=&quot;@drawable/search&quot; /&gt;\r\n\r\n            &lt;/RelativeLayout&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n    &lt;/ScrollView&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nI am getting the data from json and trying to show in a recycler view. Log shows that I am getting the data but the recycler View is not showing.\r\n\r\nHow can I solve this issue?\r\n","title":"My customAdapter for recycler view is not working","body":"<p>What is the problem causing the recycler view not to show?</p>\n<p>MainActivity.java</p>\n<pre><code>import androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\nimport android.app.ProgressDialog;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.widget.Toast;\nimport com.android.volley.Request;\nimport com.android.volley.RequestQueue;\nimport com.android.volley.Response;\nimport com.android.volley.VolleyError;\nimport com.android.volley.toolbox.JsonObjectRequest;\nimport com.android.volley.toolbox.Volley;\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class MainActivity extends AppCompatActivity {\n    RecyclerView recyclerView;\n    private ProgressDialog dialog;\n    List&lt;ModelRecycler&gt; newslist;\n    RequestQueue requestQueue;\n    private static final String API_URL = &quot;https://newsapi.in/newsapi/news.php?key=qEhn6RWpLRebtTmkOpQcr7CxDKRGHi&amp;category=tamil_state&quot;;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        recyclerView=findViewById(R.id.recyclerView);\n        newslist = new ArrayList&lt;&gt;();\n\n        requestQueue = Volley.newRequestQueue(this);\n        JsonObjectRequest jsonObjectRequest = new JsonObjectRequest(Request.Method.GET, API_URL, null, new Response.Listener&lt;JSONObject&gt;() {\n            @Override\n            public void onResponse(JSONObject response) {\n                try{\n                    JSONArray array = response.getJSONArray(&quot;News&quot;);\n                    for(int i=0;i&lt;array.length();i++){\n                        JSONObject c = array.getJSONObject(i);\n                        String image = c.getString(&quot;image&quot;);\n                        Log.d(&quot;App&quot;, &quot;Log : &quot; + c.getString(&quot;image&quot;));\n                        String title = c.getString(&quot;title&quot;);\n                        Log.d(&quot;App&quot;, &quot;Log : &quot; + c.getString(&quot;title&quot;));\n                        String description = c.getString(&quot;description&quot;);\n                        Log.d(&quot;App&quot;, &quot;Log : &quot; + c.getString(&quot;description&quot;));\n                        String published_date = c.getString(&quot;published_date&quot;);\n                        Log.d(&quot;App&quot;, &quot;Log : &quot; + c.getString(&quot;published_date&quot;));\n                        String url = c.getString(&quot;url&quot;);\n                        Log.d(&quot;App&quot;, &quot;Log : &quot; + c.getString(&quot;url&quot;));\n//                        Toast.makeText(MainActivity.this, &quot;Log : &quot; + c.getString(&quot;published_date&quot;), Toast.LENGTH_SHORT).show();\n                        ModelRecycler modelRecycler = new ModelRecycler(image,title,description,published_date,url);\n                        newslist.add(modelRecycler);\n                    }\n                }catch (JSONException e){\n                    Log.d(&quot;Error&quot;, &quot;Json parsing error: &quot; + e.getMessage());\n                }\n            }\n        }, new Response.ErrorListener() {\n            @Override\n            public void onErrorResponse(VolleyError error) {\n                Toast.makeText(MainActivity.this, &quot;Error Occured: &quot; + error, Toast.LENGTH_SHORT).show();\n            }\n        });\n        requestQueue.add(jsonObjectRequest);\n\n        LinearLayoutManager l1 = new LinearLayoutManager(getApplicationContext());\n        l1.setOrientation(LinearLayoutManager.VERTICAL);\n        recyclerView.setLayoutManager(l1);\n        MyAdapter myAdapter = new MyAdapter(this, newslist);\n        recyclerView.setAdapter(myAdapter);\n    }\n\n}\n</code></pre>\n<p>MyAdapter.java</p>\n<pre><code>\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Adapter;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.bumptech.glide.Glide;\n\nimport java.util.List;\n\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.MyViewHolder&gt; {\n\n    private Context mContext;\n    private List&lt;ModelRecycler&gt; mData;\n\n    public MyAdapter (Context mContext, List&lt;ModelRecycler&gt; mData) {\n        this.mContext = mContext;\n        this.mData = mData;\n    }\n\n    @NonNull\n    @Override\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View v;\n        LayoutInflater inflater = LayoutInflater.from(mContext);\n        v = inflater.inflate(R.layout.list_item, parent, false);\n        return new MyViewHolder(v);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\n        holder.news_title.setText(mData.get(position).getTitle());\n        holder.news_description.setText(mData.get(position).getDescription());\n        holder.news_time.setText(mData.get(position).getTime());\n        Glide.with(mContext)\n                .load(mData.get(position).getImage())\n                .into(holder.news_image);\n    }\n\n    @Override\n    public int getItemCount() {\n        return mData.size();\n    }\n\n    public static class MyViewHolder extends RecyclerView.ViewHolder {\n\n        TextView news_title, news_description, news_time;\n        ImageView news_image;\n\n        public MyViewHolder(@NonNull View itemView) {\n            super(itemView);\n            news_title = itemView.findViewById(R.id.news_title);\n            news_description = itemView.findViewById(R.id.news_description);\n            news_time = itemView.findViewById(R.id.news_time);\n            news_image = itemView.findViewById(R.id.news_image);\n        }\n    }\n\n}\n</code></pre>\n<p>ModelRecycler.java</p>\n<pre><code>\npublic class ModelRecycler {\n    String image, title, description, time, url;\n    public ModelRecycler(String image, String title, String description, String time, String url) {\n        this.image = image;\n        this.title = title;\n        this.description = description;\n        this.time = time;\n        this.url = url;\n    }\n\n    public ModelRecycler() {\n\n    }\n\n    public String getImage() {\n        return image;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public String getTime() {\n        return time;\n    }\n\n    public String getUrl() {\n        return url;\n    }\n\n}\n</code></pre>\n<p>Manifest</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.technoapps.tamilnews&quot;&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.TamilNews&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>list_layout</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;#F8FFFFFF&quot;&gt;\n\n    &lt;ScrollView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:padding=&quot;4dp&quot;&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n\n            &lt;RelativeLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;190dp&quot;\n                android:background=&quot;#fff&quot;\n                android:elevation=&quot;8dp&quot;\n                android:padding=&quot;10dp&quot;&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/news_title&quot;\n                    android:layout_width=&quot;240dp&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;Lorem Ipsum Dolor Amet, Consectetur Adipiscing Elit Ipsum Dolor Amet&quot;\n                    android:textSize=&quot;18sp&quot;\n                    android:textStyle=&quot;bold&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/news_description&quot;\n                    android:layout_width=&quot;240dp&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@+id/news_title&quot;\n                    android:layout_marginTop=&quot;10dp&quot;\n                    android:text=&quot;There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form...&quot;\n                    android:textSize=&quot;14dp&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/news_time&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@+id/news_description&quot;\n                    android:layout_marginTop=&quot;10dp&quot;\n                    android:text=&quot;30 min ago&quot;\n                    android:textSize=&quot;12dp&quot;\n                    android:textStyle=&quot;bold&quot; /&gt;\n\n                &lt;ImageView\n                    android:id=&quot;@+id/news_image&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;150dp&quot;\n                    android:layout_marginLeft=&quot;5dp&quot;\n                    android:layout_toRightOf=&quot;@+id/news_title&quot;\n                    android:scaleType=&quot;centerCrop&quot;\n                    android:src=&quot;@drawable/search&quot; /&gt;\n\n            &lt;/RelativeLayout&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/ScrollView&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>I am getting the data from json and trying to show in a recycler view. Log shows that I am getting the data but the recycler View is not showing.</p>\n<p>How can I solve this issue?</p>\n"},{"tags":["java","android","android-fragments","bluetooth"],"comments":[{"owner":{"account_id":4330624,"reputation":1317,"user_id":3536264,"accept_rate":43,"display_name":"Hitesh Gehlot"},"score":3,"creation_date":1491476156,"post_id":43253032,"comment_id":73574917,"body_markdown":"Make Bluetooth connectivity in Activity instead of Fragment.","body":"Make Bluetooth connectivity in Activity instead of Fragment."},{"owner":{"account_id":6707153,"reputation":351,"user_id":5171648,"accept_rate":48,"display_name":"Nicky Apriliani"},"score":0,"creation_date":1491476345,"post_id":43253032,"comment_id":73575054,"body_markdown":"but i want to make setting the connection and display it in fragment @HiteshGehlot","body":"but i want to make setting the connection and display it in fragment @HiteshGehlot"},{"owner":{"account_id":4330624,"reputation":1317,"user_id":3536264,"accept_rate":43,"display_name":"Hitesh Gehlot"},"score":0,"creation_date":1491476607,"post_id":43253032,"comment_id":73575226,"body_markdown":"so what you can access fragment methods in activity and vice versa.","body":"so what you can access fragment methods in activity and vice versa."},{"owner":{"account_id":4219662,"reputation":268,"user_id":3454741,"display_name":"Jorge Mart&#237;n"},"score":1,"creation_date":1491476681,"post_id":43253032,"comment_id":73575276,"body_markdown":"If `onDestroy()` gets called, your service will stop. @HiteshGehlot is right, you need to manage it outside the Fragment and then pass the data to it.","body":"If <code>onDestroy()</code> gets called, your service will stop. @HiteshGehlot is right, you need to manage it outside the Fragment and then pass the data to it."},{"owner":{"account_id":6707153,"reputation":351,"user_id":5171648,"accept_rate":48,"display_name":"Nicky Apriliani"},"score":0,"creation_date":1491497829,"post_id":43253032,"comment_id":73591453,"body_markdown":"i had move it to mainActivity but now, everytime i move to another fragments, mService always detect null\nHere i post another question with the new problem, pleas check it\nhttp://stackoverflow.com/questions/43261428/bluetooth-printer-connection-failed-in-android\nThanks @HiteshGehlot","body":"i had move it to mainActivity but now, everytime i move to another fragments, mService always detect null Here i post another question with the new problem, pleas check it <a href=\"http://stackoverflow.com/questions/43261428/bluetooth-printer-connection-failed-in-android\" title=\"bluetooth printer connection failed in android\">stackoverflow.com/questions/43261428/&hellip;</a> Thanks @HiteshGehlot"},{"owner":{"account_id":6707153,"reputation":351,"user_id":5171648,"accept_rate":48,"display_name":"Nicky Apriliani"},"score":0,"creation_date":1491497912,"post_id":43253032,"comment_id":73591501,"body_markdown":"i had move it to mainActivity but now, everytime i move to another fragments, mService always detect null\nHere i post another question with the new problem, pleas check it\nhttp://stackoverflow.com/questions/43261428/bluetooth-printer-connection-failed-in-android\nThanks @JorgeMart&#237;n","body":"i had move it to mainActivity but now, everytime i move to another fragments, mService always detect null Here i post another question with the new problem, pleas check it <a href=\"http://stackoverflow.com/questions/43261428/bluetooth-printer-connection-failed-in-android\" title=\"bluetooth printer connection failed in android\">stackoverflow.com/questions/43261428/&hellip;</a> Thanks @JorgeMart&#237;n"},{"owner":{"account_id":6707153,"reputation":351,"user_id":5171648,"accept_rate":48,"display_name":"Nicky Apriliani"},"score":0,"creation_date":1491499352,"post_id":43253032,"comment_id":73592365,"body_markdown":"or can u give me an example plis, cauze i super confused now @HiteshGehlot","body":"or can u give me an example plis, cauze i super confused now @HiteshGehlot"},{"owner":{"account_id":6707153,"reputation":351,"user_id":5171648,"accept_rate":48,"display_name":"Nicky Apriliani"},"score":0,"creation_date":1491499379,"post_id":43253032,"comment_id":73592387,"body_markdown":"or can u give me an example plis, cauze i super confused now @JorgeMart&#237;n","body":"or can u give me an example plis, cauze i super confused now @JorgeMart&#237;n"}],"owner":{"account_id":6707153,"reputation":351,"user_id":5171648,"accept_rate":48,"display_name":"Nicky Apriliani"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":868,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650818902,"creation_date":1491475863,"question_id":43253032,"body_markdown":"I make a POS in android. I want to make a printing in my apps. To do printing I&#39;m using bluetooth printer. Then, I had success make the bluetooth connection and I make it in one fragment. But every time I move to another fragment the bluetooth connction will be disconnected. How can I prevent bluetooth disconnect when moving fragment?\r\n\r\nSettingFragment.Java\r\n\r\n    /**\r\n     * A simple {@link Fragment} subclass.\r\n     */\r\n    public class SettingFragment extends Fragment {\r\n    \r\n        public static final int MESSAGE_STATE_CHANGE = 1;\r\n        public static final int MESSAGE_READ = 2;\r\n        public static final int MESSAGE_WRITE = 3;\r\n        public static final int MESSAGE_DEVICE_NAME = 4;\r\n        public static final int MESSAGE_TOAST = 5;\r\n        public static final int MESSAGE_CONNECTION_LOST = 6;\r\n        public static final int MESSAGE_UNABLE_CONNECT = 7;\r\n    \r\n        private String mConnectedDeviceName = null;\r\n        // Key names received from the BluetoothService Handler\r\n        public static final String DEVICE_NAME = &quot;device_name&quot;;\r\n        public static final String TOAST = &quot;toast&quot;;\r\n    \r\n        // Intent request codes\r\n        private static final int REQUEST_CONNECT_DEVICE = 1;\r\n        private static final int REQUEST_ENABLE_BT = 2;\r\n    \r\n        private BluetoothAdapter mBluetoothAdapter = null;\r\n        private BluetoothService mService = null;\r\n    \r\n        private static final String CHINESE = &quot;GBK&quot;;\r\n    \r\n        SessionManagement sessionManagement;\r\n        DatabaseHandler db;\r\n    \r\n        TextView tvConnected;\r\n        Button btnScan;\r\n        Button btnTest;\r\n    \r\n    \r\n        public SettingFragment() {\r\n            // Required empty public constructor\r\n        }\r\n    \r\n    \r\n    \r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            // Inflate the layout for this fragment\r\n            View rootview = inflater.inflate(R.layout.fragment_setting, container, false);\r\n            getActivity().setTitle(&quot;Setting&quot;);\r\n    \r\n            mBluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\r\n            btnScan = (Button)rootview.findViewById(R.id.btnScan);\r\n            btnTest = (Button) rootview.findViewById(R.id.btnTest);\r\n            tvConnected = (TextView) rootview.findViewById(R.id.tvPrinterConnect);\r\n    \r\n            if (!mBluetoothAdapter.isEnabled()) {\r\n                Intent enableIntent = new Intent(\r\n                        BluetoothAdapter.ACTION_REQUEST_ENABLE);\r\n                startActivityForResult(enableIntent, REQUEST_ENABLE_BT);\r\n                // Otherwise, setup the session\r\n            } else {\r\n                if (mService == null)\r\n                    KeyListenerInit();\r\n            }\r\n    \r\n            return rootview;\r\n        }\r\n    \r\n    \r\n        @SuppressLint(&quot;HandlerLeak&quot;)\r\n        private final Handler mHandler = new Handler() {\r\n            @Override\r\n            public void handleMessage(Message msg) {\r\n                switch (msg.what) {\r\n                    case MESSAGE_STATE_CHANGE:\r\n                        if (DEBUG)\r\n                            Log.i(TAG, &quot;MESSAGE_STATE_CHANGE: &quot; + msg.arg1);\r\n                        switch (msg.arg1) {\r\n                            case BluetoothService.STATE_CONNECTED:\r\n                                //btnScan.setText(getText(R.string.Connecting));\r\n                                btnScan.setEnabled(false);\r\n                                break;\r\n                            case BluetoothService.STATE_CONNECTING:\r\n                                Toast.makeText((MainActivity)getContext(),R.string.title_connecting,Toast.LENGTH_SHORT).show();\r\n                                break;\r\n                            case BluetoothService.STATE_LISTEN:\r\n                            case BluetoothService.STATE_NONE:\r\n                                Toast.makeText((MainActivity)getContext(),R.string.title_not_connected,Toast.LENGTH_SHORT).show();\r\n                                break;\r\n                        }\r\n                        break;\r\n                    case MESSAGE_WRITE:\r\n    \r\n                        break;\r\n                    case MESSAGE_READ:\r\n    \r\n                        break;\r\n                    case MESSAGE_DEVICE_NAME:\r\n                        // save the connected device&#39;s name\r\n                        mConnectedDeviceName = msg.getData().getString(DEVICE_NAME);\r\n                        Toast.makeText(getActivity(),\r\n                                &quot;Connected to &quot; + mConnectedDeviceName,\r\n                                Toast.LENGTH_SHORT).show();\r\n                        tvConnected.setText(&quot;Connected to &quot;+mConnectedDeviceName );\r\n                        break;\r\n                    case MESSAGE_TOAST:\r\n                        Toast.makeText(getActivity(),\r\n                                msg.getData().getString(TOAST), Toast.LENGTH_SHORT)\r\n                                .show();\r\n                        break;\r\n                    case MESSAGE_CONNECTION_LOST:\r\n                        Toast.makeText(getActivity(), &quot;Device connection was lost&quot;,\r\n                                Toast.LENGTH_SHORT).show();\r\n                        tvConnected.setText(&quot;Not Connect to Any Device&quot;);\r\n    //                    editText.setEnabled(false);\r\n    //                    sendButton.setEnabled(false);\r\n                        break;\r\n                    case MESSAGE_UNABLE_CONNECT:\r\n                        Toast.makeText(getActivity(), &quot;Unable to connect device&quot;,\r\n                                Toast.LENGTH_SHORT).show();\r\n                        break;\r\n                }\r\n            }\r\n        };\r\n        @Override\r\n        public void onStart() {\r\n            super.onStart();\r\n    \r\n            // If Bluetooth is not on, request that it be enabled.\r\n            // setupChat() will then be called during onActivityResult\r\n            if (!mBluetoothAdapter.isEnabled()) {\r\n                Intent enableIntent = new Intent(\r\n                        BluetoothAdapter.ACTION_REQUEST_ENABLE);\r\n                startActivityForResult(enableIntent, REQUEST_ENABLE_BT);\r\n                // Otherwise, setup the session\r\n            } else {\r\n                if (mService == null)\r\n                    KeyListenerInit();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public synchronized void onResume() {\r\n            super.onResume();\r\n    \r\n            if (mService != null) {\r\n    \r\n                if (mService.getState() == BluetoothService.STATE_NONE) {\r\n                    // Start the Bluetooth services\r\n                    mService.start();\r\n                }\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public synchronized void onPause() {\r\n            super.onPause();\r\n            if (DEBUG)\r\n                Log.e(TAG, &quot;- ON PAUSE -&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onStop() {\r\n            super.onStop();\r\n            if (DEBUG)\r\n                Log.e(TAG, &quot;-- ON STOP --&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onDestroy() {\r\n            super.onDestroy();\r\n            // Stop the Bluetooth services\r\n            if (mService != null)\r\n                mService.stop();\r\n            if (DEBUG)\r\n                Log.e(TAG, &quot;--- ON DESTROY ---&quot;);\r\n        }\r\n        @Override\r\n        public void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n            if (DEBUG)\r\n                Log.d(TAG, &quot;onActivityResult &quot; + resultCode);\r\n            switch (requestCode) {\r\n                case REQUEST_CONNECT_DEVICE:{\r\n                    // When DeviceListActivity returns with a device to connect\r\n                    if (resultCode == Activity.RESULT_OK) {\r\n                        // Get the device MAC address\r\n                        String address = data.getExtras().getString(\r\n                                DeviceListActivity.EXTRA_DEVICE_ADDRESS);\r\n                        // Get the BLuetoothDevice object\r\n                        if (BluetoothAdapter.checkBluetoothAddress(address)) {\r\n                            BluetoothDevice device = mBluetoothAdapter\r\n                                    .getRemoteDevice(address);\r\n                            // Attempt to connect to the device\r\n                            mService.connect(device);\r\n                        }\r\n                    }\r\n                    break;\r\n                }\r\n                case REQUEST_ENABLE_BT:{\r\n                    // When the request to enable Bluetooth returns\r\n                    if (resultCode == Activity.RESULT_OK) {\r\n                        // Bluetooth is now enabled, so set up a session\r\n                        KeyListenerInit();\r\n                    } else {\r\n                        // User did not enable Bluetooth or an error occured\r\n                        Log.d(TAG, &quot;BT not enabled&quot;);\r\n                        Toast.makeText(getActivity(), R.string.bt_not_enabled_leaving,\r\n                                Toast.LENGTH_SHORT).show();\r\n                        getActivity().onBackPressed();\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        private void KeyListenerInit() {\r\n    \r\n            btnScan.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Intent serverIntent = new Intent(getActivity(), DeviceListActivity.class);\r\n                    startActivityForResult(serverIntent, REQUEST_CONNECT_DEVICE);\r\n                }\r\n            });\r\n    \r\n            mService = new BluetoothService(getActivity(), mHandler);\r\n        }\r\n    \r\n    }\r\n\r\nBluetoothService.JAVA\r\n\r\n    public class BluetoothService {\r\n    // Debugging\r\n    private static final String TAG = &quot;BluetoothService&quot;;\r\n    private static final boolean DEBUG = true;\r\n\r\n    // Name for the SDP record when creating server socket\r\n    private static final String NAME = &quot;ZJPrinter&quot;;\r\n    //UUID must be this\r\n    // Unique UUID for this application\r\n    private static final UUID MY_UUID = UUID.fromString(&quot;00001101-0000-1000-8000-00805F9B34FB&quot;);\t\t\r\n\r\n    // Member fields\r\n    private BluetoothAdapter mAdapter;\r\n    private Handler mHandler;\r\n    private AcceptThread mAcceptThread;\r\n    private ConnectThread mConnectThread;\r\n    private ConnectedThread mConnectedThread;\r\n    private int mState;\r\n\r\n    // Constants that indicate the current connection state\r\n    public static final int STATE_NONE = 0;       // we&#39;re doing nothing\r\n    public static final int STATE_LISTEN = 1;     // now listening for incoming connections\r\n    public static final int STATE_CONNECTING = 2; // now initiating an outgoing connection\r\n    public static final int STATE_CONNECTED = 3;  // now connected to a remote device\r\n\r\n    public static String ErrorMessage = &quot;No_Error_Message&quot;;\r\n    /**\r\n     * Constructor. Prepares a new BTPrinter session.\r\n     * @param context  The UI Activity Context\r\n     * @param handler  A Handler to send messages back to the UI Activity\r\n     */\r\n    public BluetoothService(Context context, Handler handler) {\r\n        mAdapter = BluetoothAdapter.getDefaultAdapter();\r\n        mState = STATE_NONE;\r\n        mHandler = handler;\r\n    }\r\n    \r\n\r\n    /**\r\n     * Set the current state of the connection\r\n     * @param state  An integer defining the current connection state\r\n     */\r\n    private synchronized void setState(int state) {\r\n        if (DEBUG) Log.d(TAG, &quot;setState() &quot; + mState + &quot; -&gt; &quot; + state);\r\n        mState = state;\r\n\r\n        // Give the new state to the Handler so the UI Activity can update\r\n        mHandler.obtainMessage(SettingFragment.MESSAGE_STATE_CHANGE, state, -1).sendToTarget();\r\n    }\r\n\r\n    /**\r\n     * Return the current connection state. */\r\n    public synchronized int getState() {\r\n        return mState;\r\n    }\r\n\r\n    /**\r\n     * Start the service. Specifically start AcceptThread to begin a\r\n     * session in listening (server) mode. Called by the Activity onResume() */\r\n    public synchronized void start() {\r\n        if (DEBUG) Log.d(TAG, &quot;start&quot;);\r\n\r\n        // Cancel any thread attempting to make a connection\r\n        if (mConnectThread != null) {mConnectThread.cancel(); mConnectThread = null;}\r\n\r\n        // Cancel any thread currently running a connection\r\n        if (mConnectedThread != null) {mConnectedThread.cancel(); mConnectedThread = null;}\r\n\r\n        // Start the thread to listen on a BluetoothServerSocket\r\n        if (mAcceptThread == null) {\r\n            mAcceptThread = new AcceptThread();\r\n            mAcceptThread.start();\r\n        }\r\n        setState(STATE_LISTEN);\r\n    }\r\n\r\n    /**\r\n     * Start the ConnectThread to initiate a connection to a remote device.\r\n     * @param device  The BluetoothDevice to connect\r\n     */\r\n    public synchronized void connect(BluetoothDevice device) {\r\n        if (DEBUG) Log.d(TAG, &quot;connect to: &quot; + device);\r\n\r\n        // Cancel any thread attempting to make a connection\r\n        if (mState == STATE_CONNECTING) {\r\n            if (mConnectThread != null) {mConnectThread.cancel(); mConnectThread = null;}\r\n        }\r\n\r\n        // Cancel any thread currently running a connection\r\n        if (mConnectedThread != null) {mConnectedThread.cancel(); mConnectedThread = null;}\r\n\r\n        // Start the thread to connect with the given device\r\n        mConnectThread = new ConnectThread(device);\r\n        mConnectThread.start();\r\n        setState(STATE_CONNECTING);\r\n    }\r\n\r\n    /**\r\n     * Start the ConnectedThread to begin managing a Bluetooth connection\r\n     * @param socket  The BluetoothSocket on which the connection was made\r\n     * @param device  The BluetoothDevice that has been connected\r\n     */\r\n    public synchronized void connected(BluetoothSocket socket, BluetoothDevice device) {\r\n        if (DEBUG) Log.d(TAG, &quot;connected&quot;);\r\n\r\n        // Cancel the thread that completed the connection\r\n        if (mConnectThread != null) {mConnectThread.cancel(); mConnectThread = null;}\r\n\r\n        // Cancel any thread currently running a connection\r\n        if (mConnectedThread != null) {mConnectedThread.cancel(); mConnectedThread = null;}\r\n\r\n        // Cancel the accept thread because we only want to connect to one device\r\n        if (mAcceptThread != null) {mAcceptThread.cancel(); mAcceptThread = null;}\r\n\r\n        // Start the thread to manage the connection and perform transmissions\r\n        mConnectedThread = new ConnectedThread(socket);\r\n        mConnectedThread.start();\r\n\r\n        // Send the name of the connected device back to the UI Activity\r\n        Message msg = mHandler.obtainMessage(SettingFragment.MESSAGE_DEVICE_NAME);\r\n        Bundle bundle = new Bundle();\r\n        bundle.putString(SettingFragment.DEVICE_NAME, device.getName());\r\n        msg.setData(bundle);\r\n        mHandler.sendMessage(msg);\r\n\r\n        setState(STATE_CONNECTED);\r\n    }\r\n\r\n    /**\r\n     * Stop all threads\r\n     */\r\n    public synchronized void stop() {\r\n        if (DEBUG) Log.d(TAG, &quot;stop&quot;);\r\n        setState(STATE_NONE);\r\n        if (mConnectThread != null) {mConnectThread.cancel(); mConnectThread = null;}\r\n        if (mConnectedThread != null) {mConnectedThread.cancel(); mConnectedThread = null;}\r\n        if (mAcceptThread != null) {mAcceptThread.cancel(); mAcceptThread = null;}\r\n    }\r\n\r\n    /**\r\n     * Write to the ConnectedThread in an unsynchronized manner\r\n     * @param out The bytes to write\r\n     * @see ConnectedThread#write(byte[])\r\n     */\r\n    public void write(byte[] out) {\r\n        // Create temporary object\r\n        ConnectedThread r;\r\n        // Synchronize a copy of the ConnectedThread\r\n        synchronized (this) {\r\n            if (mState != STATE_CONNECTED) return;\r\n            r = mConnectedThread;\r\n        }\r\n        r.write(out);\r\n    }\r\n\r\n    /**\r\n     * Indicate that the connection attempt failed and notify the UI Activity.\r\n     */\r\n    private void connectionFailed() {\r\n        setState(STATE_LISTEN);\r\n        \r\n        // Send a failure message back to the Activity\r\n        Message msg = mHandler.obtainMessage(SettingFragment.MESSAGE_TOAST);\r\n        Bundle bundle = new Bundle();\r\n        bundle.putString(SettingFragment.TOAST, &quot;Unable to connect device&quot;);\r\n        msg.setData(bundle);\r\n        mHandler.sendMessage(msg);\r\n    }\r\n\r\n    /**\r\n     * Indicate that the connection was lost and notify the UI Activity.\r\n     */\r\n    private void connectionLost() {\r\n        //setState(STATE_LISTEN);\r\n \r\n        // Send a failure message back to the Activity\r\n        Message msg = mHandler.obtainMessage(SettingFragment.MESSAGE_TOAST);\r\n        Bundle bundle = new Bundle();\r\n        bundle.putString(SettingFragment.TOAST, &quot;Device connection was lost&quot;);\r\n        msg.setData(bundle);\r\n        mHandler.sendMessage(msg);\r\n    }\r\n\r\n    /**\r\n     * This thread runs while listening for incoming connections. It behaves\r\n     * like a server-side client. It runs until a connection is accepted\r\n     * (or until cancelled).\r\n     */\r\n    private class AcceptThread extends Thread {\r\n        // The local server socket\r\n        private final BluetoothServerSocket mmServerSocket;\r\n\r\n        public AcceptThread() {\r\n            BluetoothServerSocket tmp = null;\r\n\r\n            // Create a new listening server socket\r\n            try {\r\n                tmp = mAdapter.listenUsingRfcommWithServiceRecord(NAME, MY_UUID);\r\n            } catch (IOException e) {\r\n                Log.e(TAG, &quot;listen() failed&quot;, e);\r\n            }\r\n            mmServerSocket = tmp;\r\n        }\r\n\r\n        @Override\r\n\t\tpublic void run() {\r\n            if (DEBUG) Log.d(TAG, &quot;BEGIN mAcceptThread&quot; + this);\r\n            setName(&quot;AcceptThread&quot;);\r\n            BluetoothSocket socket = null;\r\n\r\n            // Listen to the server socket if we&#39;re not connected\r\n            while (mState != STATE_CONNECTED) {\r\n                try {\r\n                    // This is a blocking call and will only return on a\r\n                    // successful connection or an exception\r\n                    socket = mmServerSocket.accept();\r\n                } catch (IOException e) {\r\n                    Log.e(TAG, &quot;accept() failed&quot;, e);\r\n                    break;\r\n                }\r\n\r\n                // If a connection was accepted\r\n                if (socket != null) {\r\n                    synchronized (BluetoothService.this) {\r\n                        switch (mState) {\r\n                        case STATE_LISTEN:\r\n                        case STATE_CONNECTING:\r\n                            // Situation normal. Start the connected thread.\r\n                            connected(socket, socket.getRemoteDevice());\r\n                            break;\r\n                        case STATE_NONE:\r\n                        case STATE_CONNECTED:\r\n                            // Either not ready or already connected. Terminate new socket.\r\n                            try {\r\n                                socket.close();\r\n                            } catch (IOException e) {\r\n                                Log.e(TAG, &quot;Could not close unwanted socket&quot;, e);\r\n                            }\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if (DEBUG) Log.i(TAG, &quot;END mAcceptThread&quot;);\r\n        }\r\n\r\n        public void cancel() {\r\n            if (DEBUG) Log.d(TAG, &quot;cancel &quot; + this);\r\n            try {\r\n                mmServerSocket.close();\r\n            } catch (IOException e) {\r\n                Log.e(TAG, &quot;close() of server failed&quot;, e);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * This thread runs while attempting to make an outgoing connection\r\n     * with a device. It runs straight through; the connection either\r\n     * succeeds or fails.\r\n     */\r\n    private class ConnectThread extends Thread {\r\n        private final BluetoothSocket mmSocket;\r\n        private final BluetoothDevice mmDevice;\r\n\r\n        public ConnectThread(BluetoothDevice device) {\r\n            mmDevice = device;\r\n            BluetoothSocket tmp = null;\r\n\r\n            // Get a BluetoothSocket for a connection with the\r\n            // given BluetoothDevice\r\n            try {\r\n                tmp = device.createRfcommSocketToServiceRecord(MY_UUID);\r\n            } catch (IOException e) {\r\n                Log.e(TAG, &quot;create() failed&quot;, e);\r\n            }\r\n            mmSocket = tmp;\r\n        }\r\n\r\n        @Override\r\n\t\tpublic void run() {\r\n            Log.i(TAG, &quot;BEGIN mConnectThread&quot;);\r\n            setName(&quot;ConnectThread&quot;);\r\n\r\n            // Always cancel discovery because it will slow down a connection\r\n            mAdapter.cancelDiscovery();\r\n\r\n            // Make a connection to the BluetoothSocket\r\n            try {\r\n                // This is a blocking call and will only return on a\r\n                // successful connection or an exception\r\n                mmSocket.connect();\r\n            } catch (IOException e) {\r\n                connectionFailed();\r\n                // Close the socket\r\n                try {\r\n                    mmSocket.close();\r\n                } catch (IOException e2) {\r\n                    Log.e(TAG, &quot;unable to close() socket during connection failure&quot;, e2);\r\n                }\r\n                // Start the service over to restart listening mode\r\n                BluetoothService.this.start();\r\n                return;\r\n            }\r\n\r\n            // Reset the ConnectThread because we&#39;re done\r\n            synchronized (BluetoothService.this) {\r\n                mConnectThread = null;\r\n            }\r\n\r\n            // Start the connected thread\r\n            connected(mmSocket, mmDevice);\r\n        }\r\n\r\n        public void cancel() {\r\n            try {\r\n                mmSocket.close();\r\n            } catch (IOException e) {\r\n                Log.e(TAG, &quot;close() of connect socket failed&quot;, e);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * This thread runs during a connection with a remote device.\r\n     * It handles all incoming and outgoing transmissions.\r\n     */\r\n    private class ConnectedThread extends Thread {\r\n        private final BluetoothSocket mmSocket;\r\n        private final InputStream mmInStream;\r\n        private final OutputStream mmOutStream;\r\n\r\n        public ConnectedThread(BluetoothSocket socket) {\r\n            Log.d(TAG, &quot;create ConnectedThread&quot;);\r\n            mmSocket = socket;\r\n            InputStream tmpIn = null;\r\n            OutputStream tmpOut = null;\r\n\r\n            // Get the BluetoothSocket input and output streams\r\n            try {\r\n                tmpIn = socket.getInputStream();\r\n                tmpOut = socket.getOutputStream();\r\n            } catch (IOException e) {\r\n                Log.e(TAG, &quot;temp sockets not created&quot;, e);\r\n            }\r\n\r\n            mmInStream = tmpIn;\r\n            mmOutStream = tmpOut;\r\n        }\r\n\r\n        @Override\r\n\t\tpublic void run() {\r\n            Log.i(TAG, &quot;BEGIN mConnectedThread&quot;);\r\n            int bytes;\r\n\r\n            // Keep listening to the InputStream while connected\r\n            while (true) {\r\n                try {\r\n                \tbyte[] buffer = new byte[256];\r\n                    // Read from the InputStream\r\n                    bytes = mmInStream.read(buffer);\r\n                    if(bytes&gt;0)\r\n                    {\r\n\t                    // Send the obtained bytes to the UI Activity\r\n\t                    mHandler.obtainMessage(SettingFragment.MESSAGE_READ, bytes, -1, buffer)\r\n\t                            .sendToTarget();\r\n                    }\r\n                    else\r\n                    {\r\n                        Log.e(TAG, &quot;disconnected&quot;);\r\n                        connectionLost();\r\n                        \r\n                        //add by chongqing jinou\r\n                        if(mState != STATE_NONE)\r\n                        {\r\n                            Log.e(TAG, &quot;disconnected&quot;);\r\n                       \t// Start the service over to restart listening mode\r\n                        \tBluetoothService.this.start();\r\n                        }\r\n                        break;\r\n                    }\r\n                } catch (IOException e) {\r\n                    Log.e(TAG, &quot;disconnected&quot;, e);\r\n                    connectionLost();\r\n                    \r\n                    //add by chongqing jinou\r\n                    if(mState != STATE_NONE)\r\n                    {\r\n                    \t// Start the service over to restart listening mode\r\n                    \tBluetoothService.this.start();\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Write to the connected OutStream.\r\n         * @param buffer  The bytes to write\r\n         */\r\n        public void write(byte[] buffer) {\r\n            try {\r\n                mmOutStream.write(buffer);\r\n                mmOutStream.flush();//清空缓存\r\n               /* if (buffer.length &gt; 3000) //\r\n                {\r\n                  byte[] readata = new byte[1];\r\n                  SPPReadTimeout(readata, 1, 5000);\r\n                }*/\r\n                Log.i(&quot;BTPWRITE&quot;, new String(buffer,&quot;GBK&quot;));\r\n                // Share the sent message back to the UI Activity\r\n                mHandler.obtainMessage(SettingFragment.MESSAGE_WRITE, -1, -1, buffer)\r\n                        .sendToTarget();\r\n            } catch (IOException e) {\r\n                Log.e(TAG, &quot;Exception during write&quot;, e);\r\n            }\r\n        }\r\n        public void cancel() {\r\n            try {\r\n                mmSocket.close();\r\n            } catch (IOException e) {\r\n                Log.e(TAG, &quot;close() of connect socket failed&quot;, e);\r\n            }\r\n        }\r\n    }\r\n    }\r\n\r\n\r\n","title":"How to prevent Bluetooth Disconnected when moving Fragment","body":"<p>I make a POS in android. I want to make a printing in my apps. To do printing I'm using bluetooth printer. Then, I had success make the bluetooth connection and I make it in one fragment. But every time I move to another fragment the bluetooth connction will be disconnected. How can I prevent bluetooth disconnect when moving fragment?</p>\n<p>SettingFragment.Java</p>\n<pre><code>/**\n * A simple {@link Fragment} subclass.\n */\npublic class SettingFragment extends Fragment {\n\n    public static final int MESSAGE_STATE_CHANGE = 1;\n    public static final int MESSAGE_READ = 2;\n    public static final int MESSAGE_WRITE = 3;\n    public static final int MESSAGE_DEVICE_NAME = 4;\n    public static final int MESSAGE_TOAST = 5;\n    public static final int MESSAGE_CONNECTION_LOST = 6;\n    public static final int MESSAGE_UNABLE_CONNECT = 7;\n\n    private String mConnectedDeviceName = null;\n    // Key names received from the BluetoothService Handler\n    public static final String DEVICE_NAME = &quot;device_name&quot;;\n    public static final String TOAST = &quot;toast&quot;;\n\n    // Intent request codes\n    private static final int REQUEST_CONNECT_DEVICE = 1;\n    private static final int REQUEST_ENABLE_BT = 2;\n\n    private BluetoothAdapter mBluetoothAdapter = null;\n    private BluetoothService mService = null;\n\n    private static final String CHINESE = &quot;GBK&quot;;\n\n    SessionManagement sessionManagement;\n    DatabaseHandler db;\n\n    TextView tvConnected;\n    Button btnScan;\n    Button btnTest;\n\n\n    public SettingFragment() {\n        // Required empty public constructor\n    }\n\n\n\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View rootview = inflater.inflate(R.layout.fragment_setting, container, false);\n        getActivity().setTitle(&quot;Setting&quot;);\n\n        mBluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\n        btnScan = (Button)rootview.findViewById(R.id.btnScan);\n        btnTest = (Button) rootview.findViewById(R.id.btnTest);\n        tvConnected = (TextView) rootview.findViewById(R.id.tvPrinterConnect);\n\n        if (!mBluetoothAdapter.isEnabled()) {\n            Intent enableIntent = new Intent(\n                    BluetoothAdapter.ACTION_REQUEST_ENABLE);\n            startActivityForResult(enableIntent, REQUEST_ENABLE_BT);\n            // Otherwise, setup the session\n        } else {\n            if (mService == null)\n                KeyListenerInit();\n        }\n\n        return rootview;\n    }\n\n\n    @SuppressLint(&quot;HandlerLeak&quot;)\n    private final Handler mHandler = new Handler() {\n        @Override\n        public void handleMessage(Message msg) {\n            switch (msg.what) {\n                case MESSAGE_STATE_CHANGE:\n                    if (DEBUG)\n                        Log.i(TAG, &quot;MESSAGE_STATE_CHANGE: &quot; + msg.arg1);\n                    switch (msg.arg1) {\n                        case BluetoothService.STATE_CONNECTED:\n                            //btnScan.setText(getText(R.string.Connecting));\n                            btnScan.setEnabled(false);\n                            break;\n                        case BluetoothService.STATE_CONNECTING:\n                            Toast.makeText((MainActivity)getContext(),R.string.title_connecting,Toast.LENGTH_SHORT).show();\n                            break;\n                        case BluetoothService.STATE_LISTEN:\n                        case BluetoothService.STATE_NONE:\n                            Toast.makeText((MainActivity)getContext(),R.string.title_not_connected,Toast.LENGTH_SHORT).show();\n                            break;\n                    }\n                    break;\n                case MESSAGE_WRITE:\n\n                    break;\n                case MESSAGE_READ:\n\n                    break;\n                case MESSAGE_DEVICE_NAME:\n                    // save the connected device's name\n                    mConnectedDeviceName = msg.getData().getString(DEVICE_NAME);\n                    Toast.makeText(getActivity(),\n                            &quot;Connected to &quot; + mConnectedDeviceName,\n                            Toast.LENGTH_SHORT).show();\n                    tvConnected.setText(&quot;Connected to &quot;+mConnectedDeviceName );\n                    break;\n                case MESSAGE_TOAST:\n                    Toast.makeText(getActivity(),\n                            msg.getData().getString(TOAST), Toast.LENGTH_SHORT)\n                            .show();\n                    break;\n                case MESSAGE_CONNECTION_LOST:\n                    Toast.makeText(getActivity(), &quot;Device connection was lost&quot;,\n                            Toast.LENGTH_SHORT).show();\n                    tvConnected.setText(&quot;Not Connect to Any Device&quot;);\n//                    editText.setEnabled(false);\n//                    sendButton.setEnabled(false);\n                    break;\n                case MESSAGE_UNABLE_CONNECT:\n                    Toast.makeText(getActivity(), &quot;Unable to connect device&quot;,\n                            Toast.LENGTH_SHORT).show();\n                    break;\n            }\n        }\n    };\n    @Override\n    public void onStart() {\n        super.onStart();\n\n        // If Bluetooth is not on, request that it be enabled.\n        // setupChat() will then be called during onActivityResult\n        if (!mBluetoothAdapter.isEnabled()) {\n            Intent enableIntent = new Intent(\n                    BluetoothAdapter.ACTION_REQUEST_ENABLE);\n            startActivityForResult(enableIntent, REQUEST_ENABLE_BT);\n            // Otherwise, setup the session\n        } else {\n            if (mService == null)\n                KeyListenerInit();\n        }\n    }\n\n    @Override\n    public synchronized void onResume() {\n        super.onResume();\n\n        if (mService != null) {\n\n            if (mService.getState() == BluetoothService.STATE_NONE) {\n                // Start the Bluetooth services\n                mService.start();\n            }\n        }\n    }\n\n    @Override\n    public synchronized void onPause() {\n        super.onPause();\n        if (DEBUG)\n            Log.e(TAG, &quot;- ON PAUSE -&quot;);\n    }\n\n    @Override\n    public void onStop() {\n        super.onStop();\n        if (DEBUG)\n            Log.e(TAG, &quot;-- ON STOP --&quot;);\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        // Stop the Bluetooth services\n        if (mService != null)\n            mService.stop();\n        if (DEBUG)\n            Log.e(TAG, &quot;--- ON DESTROY ---&quot;);\n    }\n    @Override\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\n        if (DEBUG)\n            Log.d(TAG, &quot;onActivityResult &quot; + resultCode);\n        switch (requestCode) {\n            case REQUEST_CONNECT_DEVICE:{\n                // When DeviceListActivity returns with a device to connect\n                if (resultCode == Activity.RESULT_OK) {\n                    // Get the device MAC address\n                    String address = data.getExtras().getString(\n                            DeviceListActivity.EXTRA_DEVICE_ADDRESS);\n                    // Get the BLuetoothDevice object\n                    if (BluetoothAdapter.checkBluetoothAddress(address)) {\n                        BluetoothDevice device = mBluetoothAdapter\n                                .getRemoteDevice(address);\n                        // Attempt to connect to the device\n                        mService.connect(device);\n                    }\n                }\n                break;\n            }\n            case REQUEST_ENABLE_BT:{\n                // When the request to enable Bluetooth returns\n                if (resultCode == Activity.RESULT_OK) {\n                    // Bluetooth is now enabled, so set up a session\n                    KeyListenerInit();\n                } else {\n                    // User did not enable Bluetooth or an error occured\n                    Log.d(TAG, &quot;BT not enabled&quot;);\n                    Toast.makeText(getActivity(), R.string.bt_not_enabled_leaving,\n                            Toast.LENGTH_SHORT).show();\n                    getActivity().onBackPressed();\n                }\n                break;\n            }\n        }\n    }\n    private void KeyListenerInit() {\n\n        btnScan.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent serverIntent = new Intent(getActivity(), DeviceListActivity.class);\n                startActivityForResult(serverIntent, REQUEST_CONNECT_DEVICE);\n            }\n        });\n\n        mService = new BluetoothService(getActivity(), mHandler);\n    }\n\n}\n</code></pre>\n<p>BluetoothService.JAVA</p>\n<pre><code>public class BluetoothService {\n// Debugging\nprivate static final String TAG = &quot;BluetoothService&quot;;\nprivate static final boolean DEBUG = true;\n\n// Name for the SDP record when creating server socket\nprivate static final String NAME = &quot;ZJPrinter&quot;;\n//UUID must be this\n// Unique UUID for this application\nprivate static final UUID MY_UUID = UUID.fromString(&quot;00001101-0000-1000-8000-00805F9B34FB&quot;);        \n\n// Member fields\nprivate BluetoothAdapter mAdapter;\nprivate Handler mHandler;\nprivate AcceptThread mAcceptThread;\nprivate ConnectThread mConnectThread;\nprivate ConnectedThread mConnectedThread;\nprivate int mState;\n\n// Constants that indicate the current connection state\npublic static final int STATE_NONE = 0;       // we're doing nothing\npublic static final int STATE_LISTEN = 1;     // now listening for incoming connections\npublic static final int STATE_CONNECTING = 2; // now initiating an outgoing connection\npublic static final int STATE_CONNECTED = 3;  // now connected to a remote device\n\npublic static String ErrorMessage = &quot;No_Error_Message&quot;;\n/**\n * Constructor. Prepares a new BTPrinter session.\n * @param context  The UI Activity Context\n * @param handler  A Handler to send messages back to the UI Activity\n */\npublic BluetoothService(Context context, Handler handler) {\n    mAdapter = BluetoothAdapter.getDefaultAdapter();\n    mState = STATE_NONE;\n    mHandler = handler;\n}\n\n\n/**\n * Set the current state of the connection\n * @param state  An integer defining the current connection state\n */\nprivate synchronized void setState(int state) {\n    if (DEBUG) Log.d(TAG, &quot;setState() &quot; + mState + &quot; -&gt; &quot; + state);\n    mState = state;\n\n    // Give the new state to the Handler so the UI Activity can update\n    mHandler.obtainMessage(SettingFragment.MESSAGE_STATE_CHANGE, state, -1).sendToTarget();\n}\n\n/**\n * Return the current connection state. */\npublic synchronized int getState() {\n    return mState;\n}\n\n/**\n * Start the service. Specifically start AcceptThread to begin a\n * session in listening (server) mode. Called by the Activity onResume() */\npublic synchronized void start() {\n    if (DEBUG) Log.d(TAG, &quot;start&quot;);\n\n    // Cancel any thread attempting to make a connection\n    if (mConnectThread != null) {mConnectThread.cancel(); mConnectThread = null;}\n\n    // Cancel any thread currently running a connection\n    if (mConnectedThread != null) {mConnectedThread.cancel(); mConnectedThread = null;}\n\n    // Start the thread to listen on a BluetoothServerSocket\n    if (mAcceptThread == null) {\n        mAcceptThread = new AcceptThread();\n        mAcceptThread.start();\n    }\n    setState(STATE_LISTEN);\n}\n\n/**\n * Start the ConnectThread to initiate a connection to a remote device.\n * @param device  The BluetoothDevice to connect\n */\npublic synchronized void connect(BluetoothDevice device) {\n    if (DEBUG) Log.d(TAG, &quot;connect to: &quot; + device);\n\n    // Cancel any thread attempting to make a connection\n    if (mState == STATE_CONNECTING) {\n        if (mConnectThread != null) {mConnectThread.cancel(); mConnectThread = null;}\n    }\n\n    // Cancel any thread currently running a connection\n    if (mConnectedThread != null) {mConnectedThread.cancel(); mConnectedThread = null;}\n\n    // Start the thread to connect with the given device\n    mConnectThread = new ConnectThread(device);\n    mConnectThread.start();\n    setState(STATE_CONNECTING);\n}\n\n/**\n * Start the ConnectedThread to begin managing a Bluetooth connection\n * @param socket  The BluetoothSocket on which the connection was made\n * @param device  The BluetoothDevice that has been connected\n */\npublic synchronized void connected(BluetoothSocket socket, BluetoothDevice device) {\n    if (DEBUG) Log.d(TAG, &quot;connected&quot;);\n\n    // Cancel the thread that completed the connection\n    if (mConnectThread != null) {mConnectThread.cancel(); mConnectThread = null;}\n\n    // Cancel any thread currently running a connection\n    if (mConnectedThread != null) {mConnectedThread.cancel(); mConnectedThread = null;}\n\n    // Cancel the accept thread because we only want to connect to one device\n    if (mAcceptThread != null) {mAcceptThread.cancel(); mAcceptThread = null;}\n\n    // Start the thread to manage the connection and perform transmissions\n    mConnectedThread = new ConnectedThread(socket);\n    mConnectedThread.start();\n\n    // Send the name of the connected device back to the UI Activity\n    Message msg = mHandler.obtainMessage(SettingFragment.MESSAGE_DEVICE_NAME);\n    Bundle bundle = new Bundle();\n    bundle.putString(SettingFragment.DEVICE_NAME, device.getName());\n    msg.setData(bundle);\n    mHandler.sendMessage(msg);\n\n    setState(STATE_CONNECTED);\n}\n\n/**\n * Stop all threads\n */\npublic synchronized void stop() {\n    if (DEBUG) Log.d(TAG, &quot;stop&quot;);\n    setState(STATE_NONE);\n    if (mConnectThread != null) {mConnectThread.cancel(); mConnectThread = null;}\n    if (mConnectedThread != null) {mConnectedThread.cancel(); mConnectedThread = null;}\n    if (mAcceptThread != null) {mAcceptThread.cancel(); mAcceptThread = null;}\n}\n\n/**\n * Write to the ConnectedThread in an unsynchronized manner\n * @param out The bytes to write\n * @see ConnectedThread#write(byte[])\n */\npublic void write(byte[] out) {\n    // Create temporary object\n    ConnectedThread r;\n    // Synchronize a copy of the ConnectedThread\n    synchronized (this) {\n        if (mState != STATE_CONNECTED) return;\n        r = mConnectedThread;\n    }\n    r.write(out);\n}\n\n/**\n * Indicate that the connection attempt failed and notify the UI Activity.\n */\nprivate void connectionFailed() {\n    setState(STATE_LISTEN);\n    \n    // Send a failure message back to the Activity\n    Message msg = mHandler.obtainMessage(SettingFragment.MESSAGE_TOAST);\n    Bundle bundle = new Bundle();\n    bundle.putString(SettingFragment.TOAST, &quot;Unable to connect device&quot;);\n    msg.setData(bundle);\n    mHandler.sendMessage(msg);\n}\n\n/**\n * Indicate that the connection was lost and notify the UI Activity.\n */\nprivate void connectionLost() {\n    //setState(STATE_LISTEN);\n\n    // Send a failure message back to the Activity\n    Message msg = mHandler.obtainMessage(SettingFragment.MESSAGE_TOAST);\n    Bundle bundle = new Bundle();\n    bundle.putString(SettingFragment.TOAST, &quot;Device connection was lost&quot;);\n    msg.setData(bundle);\n    mHandler.sendMessage(msg);\n}\n\n/**\n * This thread runs while listening for incoming connections. It behaves\n * like a server-side client. It runs until a connection is accepted\n * (or until cancelled).\n */\nprivate class AcceptThread extends Thread {\n    // The local server socket\n    private final BluetoothServerSocket mmServerSocket;\n\n    public AcceptThread() {\n        BluetoothServerSocket tmp = null;\n\n        // Create a new listening server socket\n        try {\n            tmp = mAdapter.listenUsingRfcommWithServiceRecord(NAME, MY_UUID);\n        } catch (IOException e) {\n            Log.e(TAG, &quot;listen() failed&quot;, e);\n        }\n        mmServerSocket = tmp;\n    }\n\n    @Override\n    public void run() {\n        if (DEBUG) Log.d(TAG, &quot;BEGIN mAcceptThread&quot; + this);\n        setName(&quot;AcceptThread&quot;);\n        BluetoothSocket socket = null;\n\n        // Listen to the server socket if we're not connected\n        while (mState != STATE_CONNECTED) {\n            try {\n                // This is a blocking call and will only return on a\n                // successful connection or an exception\n                socket = mmServerSocket.accept();\n            } catch (IOException e) {\n                Log.e(TAG, &quot;accept() failed&quot;, e);\n                break;\n            }\n\n            // If a connection was accepted\n            if (socket != null) {\n                synchronized (BluetoothService.this) {\n                    switch (mState) {\n                    case STATE_LISTEN:\n                    case STATE_CONNECTING:\n                        // Situation normal. Start the connected thread.\n                        connected(socket, socket.getRemoteDevice());\n                        break;\n                    case STATE_NONE:\n                    case STATE_CONNECTED:\n                        // Either not ready or already connected. Terminate new socket.\n                        try {\n                            socket.close();\n                        } catch (IOException e) {\n                            Log.e(TAG, &quot;Could not close unwanted socket&quot;, e);\n                        }\n                        break;\n                    }\n                }\n            }\n        }\n        if (DEBUG) Log.i(TAG, &quot;END mAcceptThread&quot;);\n    }\n\n    public void cancel() {\n        if (DEBUG) Log.d(TAG, &quot;cancel &quot; + this);\n        try {\n            mmServerSocket.close();\n        } catch (IOException e) {\n            Log.e(TAG, &quot;close() of server failed&quot;, e);\n        }\n    }\n}\n\n\n/**\n * This thread runs while attempting to make an outgoing connection\n * with a device. It runs straight through; the connection either\n * succeeds or fails.\n */\nprivate class ConnectThread extends Thread {\n    private final BluetoothSocket mmSocket;\n    private final BluetoothDevice mmDevice;\n\n    public ConnectThread(BluetoothDevice device) {\n        mmDevice = device;\n        BluetoothSocket tmp = null;\n\n        // Get a BluetoothSocket for a connection with the\n        // given BluetoothDevice\n        try {\n            tmp = device.createRfcommSocketToServiceRecord(MY_UUID);\n        } catch (IOException e) {\n            Log.e(TAG, &quot;create() failed&quot;, e);\n        }\n        mmSocket = tmp;\n    }\n\n    @Override\n    public void run() {\n        Log.i(TAG, &quot;BEGIN mConnectThread&quot;);\n        setName(&quot;ConnectThread&quot;);\n\n        // Always cancel discovery because it will slow down a connection\n        mAdapter.cancelDiscovery();\n\n        // Make a connection to the BluetoothSocket\n        try {\n            // This is a blocking call and will only return on a\n            // successful connection or an exception\n            mmSocket.connect();\n        } catch (IOException e) {\n            connectionFailed();\n            // Close the socket\n            try {\n                mmSocket.close();\n            } catch (IOException e2) {\n                Log.e(TAG, &quot;unable to close() socket during connection failure&quot;, e2);\n            }\n            // Start the service over to restart listening mode\n            BluetoothService.this.start();\n            return;\n        }\n\n        // Reset the ConnectThread because we're done\n        synchronized (BluetoothService.this) {\n            mConnectThread = null;\n        }\n\n        // Start the connected thread\n        connected(mmSocket, mmDevice);\n    }\n\n    public void cancel() {\n        try {\n            mmSocket.close();\n        } catch (IOException e) {\n            Log.e(TAG, &quot;close() of connect socket failed&quot;, e);\n        }\n    }\n}\n\n/**\n * This thread runs during a connection with a remote device.\n * It handles all incoming and outgoing transmissions.\n */\nprivate class ConnectedThread extends Thread {\n    private final BluetoothSocket mmSocket;\n    private final InputStream mmInStream;\n    private final OutputStream mmOutStream;\n\n    public ConnectedThread(BluetoothSocket socket) {\n        Log.d(TAG, &quot;create ConnectedThread&quot;);\n        mmSocket = socket;\n        InputStream tmpIn = null;\n        OutputStream tmpOut = null;\n\n        // Get the BluetoothSocket input and output streams\n        try {\n            tmpIn = socket.getInputStream();\n            tmpOut = socket.getOutputStream();\n        } catch (IOException e) {\n            Log.e(TAG, &quot;temp sockets not created&quot;, e);\n        }\n\n        mmInStream = tmpIn;\n        mmOutStream = tmpOut;\n    }\n\n    @Override\n    public void run() {\n        Log.i(TAG, &quot;BEGIN mConnectedThread&quot;);\n        int bytes;\n\n        // Keep listening to the InputStream while connected\n        while (true) {\n            try {\n                byte[] buffer = new byte[256];\n                // Read from the InputStream\n                bytes = mmInStream.read(buffer);\n                if(bytes&gt;0)\n                {\n                    // Send the obtained bytes to the UI Activity\n                    mHandler.obtainMessage(SettingFragment.MESSAGE_READ, bytes, -1, buffer)\n                            .sendToTarget();\n                }\n                else\n                {\n                    Log.e(TAG, &quot;disconnected&quot;);\n                    connectionLost();\n                    \n                    //add by chongqing jinou\n                    if(mState != STATE_NONE)\n                    {\n                        Log.e(TAG, &quot;disconnected&quot;);\n                    // Start the service over to restart listening mode\n                        BluetoothService.this.start();\n                    }\n                    break;\n                }\n            } catch (IOException e) {\n                Log.e(TAG, &quot;disconnected&quot;, e);\n                connectionLost();\n                \n                //add by chongqing jinou\n                if(mState != STATE_NONE)\n                {\n                    // Start the service over to restart listening mode\n                    BluetoothService.this.start();\n                }\n                break;\n            }\n        }\n    }\n\n    /**\n     * Write to the connected OutStream.\n     * @param buffer  The bytes to write\n     */\n    public void write(byte[] buffer) {\n        try {\n            mmOutStream.write(buffer);\n            mmOutStream.flush();//清空缓存\n           /* if (buffer.length &gt; 3000) //\n            {\n              byte[] readata = new byte[1];\n              SPPReadTimeout(readata, 1, 5000);\n            }*/\n            Log.i(&quot;BTPWRITE&quot;, new String(buffer,&quot;GBK&quot;));\n            // Share the sent message back to the UI Activity\n            mHandler.obtainMessage(SettingFragment.MESSAGE_WRITE, -1, -1, buffer)\n                    .sendToTarget();\n        } catch (IOException e) {\n            Log.e(TAG, &quot;Exception during write&quot;, e);\n        }\n    }\n    public void cancel() {\n        try {\n            mmSocket.close();\n        } catch (IOException e) {\n            Log.e(TAG, &quot;close() of connect socket failed&quot;, e);\n        }\n    }\n}\n}\n</code></pre>\n"},{"tags":["java","for-loop","runtime-error","bluej"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1650795069,"post_id":71987363,"comment_id":127202173,"body_markdown":"The name of the class in the code in your question is `MenuDrivenPattern`. In order to run the code, you need to enter the following command: `java MenuDrivenPattern` from the folder containing the file named `MenuDrivenPattern.class`","body":"The name of the class in the code in your question is <code>MenuDrivenPattern</code>. In order to run the code, you need to enter the following command: <code>java MenuDrivenPattern</code> from the folder containing the file named <code>MenuDrivenPattern.class</code>"},{"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"score":0,"creation_date":1650795318,"post_id":71987363,"comment_id":127202224,"body_markdown":"Your class is called MenuDrivenPattern and your IDE is expecting to launch the program from a Main class. Besides, I see that after your first sc.nextInt() you forgot to place a sc.nextLine(). After reading a number with the Scanner class you must always add an extra nextLine() to get rid of the new line after the number inserted https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo","body":"Your class is called MenuDrivenPattern and your IDE is expecting to launch the program from a Main class. Besides, I see that after your first sc.nextInt() you forgot to place a sc.nextLine(). After reading a number with the Scanner class you must always add an extra nextLine() to get rid of the new line after the number inserted <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\" title=\"scanner is skipping nextline after using next or nextfoo\">stackoverflow.com/questions/13102045/&hellip;</a>"},{"owner":{"account_id":25074637,"reputation":1,"user_id":18928177,"display_name":"Gobardas"},"score":0,"creation_date":1650795409,"post_id":71987363,"comment_id":127202246,"body_markdown":"Sorry @Dan, that didn&#39;t change anything.","body":"Sorry @Dan, that didn&#39;t change anything."},{"owner":{"account_id":25074637,"reputation":1,"user_id":18928177,"display_name":"Gobardas"},"score":0,"creation_date":1650795702,"post_id":71987363,"comment_id":127202319,"body_markdown":"@Abra, how do I implement that? If it was convenient, could you please add a snippet of the code?","body":"@Abra, how do I implement that? If it was convenient, could you please add a snippet of the code?"},{"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"score":0,"creation_date":1650795799,"post_id":71987363,"comment_id":127202344,"body_markdown":"Let me rephrase it, your IDE should be expecting to launch the program from a Main class, depends what has been specified. Try what Abra said if you&#39;re compiling from command line","body":"Let me rephrase it, your IDE should be expecting to launch the program from a Main class, depends what has been specified. Try what Abra said if you&#39;re compiling from command line"},{"owner":{"account_id":25074637,"reputation":1,"user_id":18928177,"display_name":"Gobardas"},"score":0,"creation_date":1650801337,"post_id":71987363,"comment_id":127203391,"body_markdown":"I&#39;m really sorry, I don&#39;t know how to do that. I&#39;m relatively new to Java. What code do I add?","body":"I&#39;m really sorry, I don&#39;t know how to do that. I&#39;m relatively new to Java. What code do I add?"}],"owner":{"account_id":25074637,"reputation":1,"user_id":18928177,"display_name":"Gobardas"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":420,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650818863,"creation_date":1650794836,"question_id":71987363,"body_markdown":"This is a menu driven program. The user inputs a string and can select either of 2 patterns to be printed using the given string. These are the 2 patterns: \r\n\r\n[Both patterns][1]\r\n\r\nThis is the code for my program:\r\n\r\n    import java.util.Scanner;\r\n        class MenuDrivenPattern\r\n        {\r\n            public static void main()\r\n            {\r\n                System.out.println(&quot;\\f&quot;);\r\n                Scanner sc = new Scanner(System.in);\r\n                while (true)\r\n                {\r\n                    System.out.println(&quot;\\nMENU DRIVEN PROGRAM&quot;);\r\n                    System.out.println(&quot;\\nMake your choice&quot;);\r\n                    System.out.println(&quot;\\n&quot;);\r\n                    System.out.println(&quot;\\nPattern 1&quot;);\r\n                    System.out.println(&quot;\\nPattern 2&quot;);\r\n                    System.out.println(&quot;\\nExit&quot;);\r\n                    int choice = sc.nextInt();\r\n                    System.out.println(&quot;Enter a word&quot;);\r\n                    String s = sc.next();\r\n                    s = s.toUpperCase();\r\n                    switch (choice)\r\n                    {\r\n                        case 1:\r\n                            for (int a = s.length(); a &gt;= 1; a--)\r\n                            {\r\n                                for (int b = 0; b &lt; a; b++)\r\n                                {\r\n                                    char x = s.charAt(b);\r\n                                    System.out.print(x);\r\n                                }\r\n                                System.out.println();\r\n                            }\r\n                        case 2:\r\n                            for(int c = 0; c &lt; s.length(); c++)\r\n                            {\r\n                                for (int d = c; d &lt; s.length(); d++)\r\n                                {\r\n                                    char y = s.charAt(d);\r\n                                    System.out.print(y);\r\n                                }\r\n                                System.out.println();\r\n                            }\r\n                        case 3:\r\n                            System.out.println(&quot;Thank you for using this program&quot;);\r\n                            System.exit(0);\r\n                        default:\r\n                            System.out.println(&quot;Please enter a singular, valid word. Thank you.&quot;);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\nThere is the error it is showing: \r\n\r\nError: \r\n\r\nCould not find or load main class Main\r\n\r\nCaused by: java.lang.ClassNotFoundException: Main\r\n\r\nI am relatively new to Java and do not understand this error. What changes do I make to the program to make it compile properly?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ize1h.png","title":"Menu Driven Program where user inputs string and selects either of 2 patterns to print not compiling. java.lang.ClassNotFoundException error coming","body":"<p>This is a menu driven program. The user inputs a string and can select either of 2 patterns to be printed using the given string. These are the 2 patterns:</p>\n<p><a href=\"https://i.stack.imgur.com/ize1h.png\" rel=\"nofollow noreferrer\">Both patterns</a></p>\n<p>This is the code for my program:</p>\n<pre><code>import java.util.Scanner;\n    class MenuDrivenPattern\n    {\n        public static void main()\n        {\n            System.out.println(&quot;\\f&quot;);\n            Scanner sc = new Scanner(System.in);\n            while (true)\n            {\n                System.out.println(&quot;\\nMENU DRIVEN PROGRAM&quot;);\n                System.out.println(&quot;\\nMake your choice&quot;);\n                System.out.println(&quot;\\n&quot;);\n                System.out.println(&quot;\\nPattern 1&quot;);\n                System.out.println(&quot;\\nPattern 2&quot;);\n                System.out.println(&quot;\\nExit&quot;);\n                int choice = sc.nextInt();\n                System.out.println(&quot;Enter a word&quot;);\n                String s = sc.next();\n                s = s.toUpperCase();\n                switch (choice)\n                {\n                    case 1:\n                        for (int a = s.length(); a &gt;= 1; a--)\n                        {\n                            for (int b = 0; b &lt; a; b++)\n                            {\n                                char x = s.charAt(b);\n                                System.out.print(x);\n                            }\n                            System.out.println();\n                        }\n                    case 2:\n                        for(int c = 0; c &lt; s.length(); c++)\n                        {\n                            for (int d = c; d &lt; s.length(); d++)\n                            {\n                                char y = s.charAt(d);\n                                System.out.print(y);\n                            }\n                            System.out.println();\n                        }\n                    case 3:\n                        System.out.println(&quot;Thank you for using this program&quot;);\n                        System.exit(0);\n                    default:\n                        System.out.println(&quot;Please enter a singular, valid word. Thank you.&quot;);\n                }\n            }\n        }\n    }\n</code></pre>\n<p>There is the error it is showing:</p>\n<p>Error:</p>\n<p>Could not find or load main class Main</p>\n<p>Caused by: java.lang.ClassNotFoundException: Main</p>\n<p>I am relatively new to Java and do not understand this error. What changes do I make to the program to make it compile properly?</p>\n"},{"tags":["java","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650749543,"creation_date":1650749543,"answer_id":71983782,"question_id":71983485,"body_markdown":"Pass mock of `HttpServletResponse` to the filter and then verify it.\r\n\r\n**Custom filter that we need to test**\r\n```java\r\nimport javax.servlet.*;\r\nimport javax.servlet.http.Cookie;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport java.io.IOException;\r\n\r\npublic class CustomFilter implements Filter {\r\n    @Override\r\n    public void init(FilterConfig filterConfig) throws ServletException {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain filterChain) throws IOException, ServletException {\r\n        HttpServletRequest req = (HttpServletRequest) request;\r\n        HttpServletResponse res = (HttpServletResponse) response;\r\n        res.addCookie(new Cookie(&quot;name&quot;, &quot;value&quot;)); // filter call addCookie method which need to be verified\r\n        filterChain.doFilter(request, response);\r\n    }\r\n\r\n    @Override\r\n    public void destroy() {\r\n\r\n    }\r\n}\r\n```\r\n**Test implementation**\r\n```java\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport javax.servlet.FilterChain;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\nimport static org.mockito.Mockito.*;\r\n\r\npublic class FilterTest {\r\n    CustomFilter customFilter = new CustomFilter();\r\n\r\n    @Test\r\n    public void testDoFilter() throws Exception {\r\n        HttpServletRequest request = mock(HttpServletRequest.class);\r\n        //create mock of HttpServletResponse object\r\n        HttpServletResponse response = mock(HttpServletResponse.class);\r\n        FilterChain filterChain = mock(FilterChain.class);\r\n\r\n        //pass HttpServletResponse object to the filter\r\n        customFilter.doFilter(request, response, filterChain);\r\n\r\n        //verify that addCookie method was executed with correct value\r\n        verify(response, times(1)).addCookie(argThat(cookie -&gt; &quot;name&quot;.equals(cookie.getName()) &amp;&amp; &quot;value&quot;.equals(cookie.getValue())));\r\n    }\r\n}\r\n```","title":"Mockito, how can I call verify on an object created in a method?","body":"<p>Pass mock of <code>HttpServletResponse</code> to the filter and then verify it.</p>\n<p><strong>Custom filter that we need to test</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.servlet.*;\nimport javax.servlet.http.Cookie;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\n\npublic class CustomFilter implements Filter {\n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException {\n\n    }\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain filterChain) throws IOException, ServletException {\n        HttpServletRequest req = (HttpServletRequest) request;\n        HttpServletResponse res = (HttpServletResponse) response;\n        res.addCookie(new Cookie(&quot;name&quot;, &quot;value&quot;)); // filter call addCookie method which need to be verified\n        filterChain.doFilter(request, response);\n    }\n\n    @Override\n    public void destroy() {\n\n    }\n}\n</code></pre>\n<p><strong>Test implementation</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.Test;\n\nimport javax.servlet.FilterChain;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport static org.mockito.Mockito.*;\n\npublic class FilterTest {\n    CustomFilter customFilter = new CustomFilter();\n\n    @Test\n    public void testDoFilter() throws Exception {\n        HttpServletRequest request = mock(HttpServletRequest.class);\n        //create mock of HttpServletResponse object\n        HttpServletResponse response = mock(HttpServletResponse.class);\n        FilterChain filterChain = mock(FilterChain.class);\n\n        //pass HttpServletResponse object to the filter\n        customFilter.doFilter(request, response, filterChain);\n\n        //verify that addCookie method was executed with correct value\n        verify(response, times(1)).addCookie(argThat(cookie -&gt; &quot;name&quot;.equals(cookie.getName()) &amp;&amp; &quot;value&quot;.equals(cookie.getValue())));\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user16722881"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71983782,"answer_count":1,"score":2,"last_activity_date":1650818607,"creation_date":1650746780,"question_id":71983485,"body_markdown":"Simple example:\r\n\r\n```java\r\npublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n    HttpServletRequest req = (HttpServletRequest) request;\r\n    HttpServletResponse res = (HttpServletResponse) response;\r\n    res.addCookie(cookie);\r\n    chain.doFilter(request, response);\r\n}\r\n```\r\n\r\nHow can I verify that addCoockie method was called on a HttpServletResponse object, if that object is created from ServletResponse.\r\n","title":"Mockito, how can I call verify on an object created in a method?","body":"<p>Simple example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n    HttpServletRequest req = (HttpServletRequest) request;\n    HttpServletResponse res = (HttpServletResponse) response;\n    res.addCookie(cookie);\n    chain.doFilter(request, response);\n}\n</code></pre>\n<p>How can I verify that addCoockie method was called on a HttpServletResponse object, if that object is created from ServletResponse.</p>\n"},{"tags":["java","security","log4j","log4j2","java-6"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647223293,"creation_date":1647064378,"answer_id":71447311,"question_id":71447245,"body_markdown":"No versions of log4j 1.x are safe.  It is end-of-life, and there are vulnerabilities that have not been patched.  For log4 2.x, the best advice us to use the most recent version.  \r\n\r\nAt the time of writing this (2021-03-14), https://logging.apache.org/log4j/2.x/security.html says that log4j 2.3.2 is safe if you are **running** the code on a Java 6 JVM.  But if you intend to run on a more recent JVM, the latest security patch is advisable.\r\n\r\nSee https://www.petefreitag.com/item/926.cfm for a list of recent log4j 1.x and 2.x vulnerabilities and their patch status.\r\n\r\n--------------------\r\n\r\n&gt; I want to use log4j library for my web app that is created with Java 6. \r\n\r\nThe version of Java that your webapp was &quot;created with&quot; is not relevant from a security perspective.  However, you should not use Java 6 or Java 7 to **run** your applications.  They are both end-of-life, and you can only get security patches under a (paid) maintenance contract.\r\n\r\n&gt; Do you recommend log4j or log4j2 considering their vulnerabilities and security issues?\r\n\r\nLog4j2 is recommended.  Log4j is end-of-life, and they have stopped publishing official security patches.","title":"I am going to use log4j version 2.3.2 . is it safe for me?","body":"<p>No versions of log4j 1.x are safe.  It is end-of-life, and there are vulnerabilities that have not been patched.  For log4 2.x, the best advice us to use the most recent version.</p>\n<p>At the time of writing this (2021-03-14), <a href=\"https://logging.apache.org/log4j/2.x/security.html\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/security.html</a> says that log4j 2.3.2 is safe if you are <strong>running</strong> the code on a Java 6 JVM.  But if you intend to run on a more recent JVM, the latest security patch is advisable.</p>\n<p>See <a href=\"https://www.petefreitag.com/item/926.cfm\" rel=\"nofollow noreferrer\">https://www.petefreitag.com/item/926.cfm</a> for a list of recent log4j 1.x and 2.x vulnerabilities and their patch status.</p>\n<hr />\n<blockquote>\n<p>I want to use log4j library for my web app that is created with Java 6.</p>\n</blockquote>\n<p>The version of Java that your webapp was &quot;created with&quot; is not relevant from a security perspective.  However, you should not use Java 6 or Java 7 to <strong>run</strong> your applications.  They are both end-of-life, and you can only get security patches under a (paid) maintenance contract.</p>\n<blockquote>\n<p>Do you recommend log4j or log4j2 considering their vulnerabilities and security issues?</p>\n</blockquote>\n<p>Log4j2 is recommended.  Log4j is end-of-life, and they have stopped publishing official security patches.</p>\n"},{"tags":[],"owner":{"account_id":7091735,"reputation":2510,"user_id":5426703,"display_name":"Spyros K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650818209,"creation_date":1647064391,"answer_id":71447314,"question_id":71447245,"body_markdown":"Using log4j2 instead of log4j is highly recommended. [This page][1] provides information about security for log4j2. \n\nLog4j2 is a widely used library supported by a strong community. \n\nHowever, determining if a library , like log4j2, is secure enough for a specific application depends on the application&#39;s security requirements.\n\nGiven the wide usage of log4j2 it seems that most people consider it secure enough.\n\nTheoretically, the safest approach would be to use the latest log4j2 version in the latest LTS Java version possible so that your application takes advantage of all applied security improvements.\n\n  [1]: https://logging.apache.org/log4j/2.x/security.html","title":"I am going to use log4j version 2.3.2 . is it safe for me?","body":"<p>Using log4j2 instead of log4j is highly recommended. <a href=\"https://logging.apache.org/log4j/2.x/security.html\" rel=\"nofollow noreferrer\">This page</a> provides information about security for log4j2.</p>\n<p>Log4j2 is a widely used library supported by a strong community.</p>\n<p>However, determining if a library , like log4j2, is secure enough for a specific application depends on the application's security requirements.</p>\n<p>Given the wide usage of log4j2 it seems that most people consider it secure enough.</p>\n<p>Theoretically, the safest approach would be to use the latest log4j2 version in the latest LTS Java version possible so that your application takes advantage of all applied security improvements.</p>\n"}],"owner":{"account_id":21734037,"reputation":55,"user_id":16042294,"display_name":"Pouria Saleh"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1738,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1647223613,"answer_count":2,"score":1,"last_activity_date":1650818209,"creation_date":1647063331,"question_id":71447245,"body_markdown":"I want to use log4j library for my web app that is created with Java 6. Which version is safe for me ?\r\nDo you recommend log4j or log4j2 considering  their vulnerabilities and  security issues?","title":"I am going to use log4j version 2.3.2 . is it safe for me?","body":"<p>I want to use log4j library for my web app that is created with Java 6. Which version is safe for me ?\nDo you recommend log4j or log4j2 considering  their vulnerabilities and  security issues?</p>\n"},{"tags":["java","compression","apache-commons-compress","bz2"],"comments":[{"owner":{"account_id":103559,"reputation":73828,"user_id":277304,"accept_rate":66,"display_name":"leonbloy"},"score":0,"creation_date":1465389058,"post_id":37702388,"comment_id":62879128,"body_markdown":"This should work - unless there is some bug with the library. Can you generate a not so large test/example? Another test: uncompress the file manually and run the same code using `bis` instead of `input` in the `BufferedReader` construction line.","body":"This should work - unless there is some bug with the library. Can you generate a not so large test/example? Another test: uncompress the file manually and run the same code using <code>bis</code> instead of <code>input</code> in the <code>BufferedReader</code> construction line."},{"owner":{"account_id":103559,"reputation":73828,"user_id":277304,"accept_rate":66,"display_name":"leonbloy"},"score":0,"creation_date":1465389471,"post_id":37702388,"comment_id":62879436,"body_markdown":"Are you running this from a console with a `main` method? (i.e., are you sure an exception is not printed? did you try rethrowing the exception in the catch block?)","body":"Are you running this from a console with a <code>main</code> method? (i.e., are you sure an exception is not printed? did you try rethrowing the exception in the catch block?)"}],"answers":[{"tags":[],"owner":{"account_id":5078479,"reputation":461,"user_id":4075267,"display_name":"Tim Hirst"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650818087,"creation_date":1650818087,"answer_id":71990363,"question_id":37702388,"body_markdown":"I was having the same problem with a large file, until I noticed that `CompressorStreamFactory` has a couple of overloaded constructors that take a boolean `decompressUntilEOF` parameter.\r\n\r\n\r\nSimply changing to the following may be all that&#39;s missing...\r\n```\r\nCompressorInputStream input = new CompressorStreamFactory(true)\r\n                .createCompressorInputStream(bis);\r\n```\r\n\r\nClearly, whoever wrote this factory seems to think it&#39;s better to create new compressor input streams at certain points, with the same underlying buffered input stream so that the new one picks up where the last one left off. They seem to think that&#39;s a better default, or preferred way of doing it over allowing one stream to decompress data all the way to the end of the file. I&#39;ve no doubt they are cleverer than me, and I haven&#39;t worked out what trap I&#39;m setting for future me by setting this parameter to `true`. Maybe someone will tell me in the comments! :-)","title":"Reading a large compressed file using Apache Commons Compress","body":"<p>I was having the same problem with a large file, until I noticed that <code>CompressorStreamFactory</code> has a couple of overloaded constructors that take a boolean <code>decompressUntilEOF</code> parameter.</p>\n<p>Simply changing to the following may be all that's missing...</p>\n<pre><code>CompressorInputStream input = new CompressorStreamFactory(true)\n                .createCompressorInputStream(bis);\n</code></pre>\n<p>Clearly, whoever wrote this factory seems to think it's better to create new compressor input streams at certain points, with the same underlying buffered input stream so that the new one picks up where the last one left off. They seem to think that's a better default, or preferred way of doing it over allowing one stream to decompress data all the way to the end of the file. I've no doubt they are cleverer than me, and I haven't worked out what trap I'm setting for future me by setting this parameter to <code>true</code>. Maybe someone will tell me in the comments! :-)</p>\n"}],"owner":{"account_id":1409071,"reputation":1375,"user_id":1336058,"accept_rate":62,"display_name":"Benben"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":973,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650818087,"creation_date":1465388566,"question_id":37702388,"body_markdown":"I&#39;m trying to read a bz2 file using [Apache Commons Compress][1]. \r\n\r\nThe following code works for a small file. \r\nHowever for a large file (over 500MB), it ends after reading a few thousands lines without any error. \r\n\r\n    try {\r\n\t\tInputStream fin = new FileInputStream(&quot;/data/file.bz2&quot;);\r\n\t\tBufferedInputStream bis = new BufferedInputStream(fin);\r\n\t\tCompressorInputStream input = new CompressorStreamFactory()\r\n                    .createCompressorInputStream(bis);\r\n\t\tBufferedReader br = new BufferedReader(new InputStreamReader(input,\r\n\t\t\t\t\t&quot;UTF-8&quot;));\r\n\r\n\t\tString line = &quot;&quot;;\r\n\t\twhile ((line = br.readLine()) != null) {\r\n            System.out.println(line);\r\n\t\t}\r\n\t} catch (Exception e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n\r\n\r\nIs there another good way to read a large compressed file?\r\n\r\n  [1]: http://commons.apache.org/proper/commons-compress/index.html","title":"Reading a large compressed file using Apache Commons Compress","body":"<p>I'm trying to read a bz2 file using <a href=\"http://commons.apache.org/proper/commons-compress/index.html\" rel=\"nofollow\">Apache Commons Compress</a>. </p>\n\n<p>The following code works for a small file. \nHowever for a large file (over 500MB), it ends after reading a few thousands lines without any error. </p>\n\n<pre><code>try {\n    InputStream fin = new FileInputStream(\"/data/file.bz2\");\n    BufferedInputStream bis = new BufferedInputStream(fin);\n    CompressorInputStream input = new CompressorStreamFactory()\n                .createCompressorInputStream(bis);\n    BufferedReader br = new BufferedReader(new InputStreamReader(input,\n                \"UTF-8\"));\n\n    String line = \"\";\n    while ((line = br.readLine()) != null) {\n        System.out.println(line);\n    }\n} catch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>Is there another good way to read a large compressed file?</p>\n"},{"tags":["java","arrays","for-loop"],"answers":[{"tags":[],"owner":{"account_id":10389194,"reputation":14819,"user_id":7661119,"display_name":"Ervin Szilagyi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650817351,"creation_date":1650817351,"answer_id":71990271,"question_id":71990116,"body_markdown":"Since your input is in format of `&quot;&lt;stock&gt; &lt;price&gt;&quot;`, after splitting this into 2 parts, you have to convert only the second part to an integer, otherwise you will get an exception.\r\n\r\n```\r\npublic static String getCheapStocks(String[] stocks) {\r\n    // Use a StringBuilder to hold the final result\r\n    StringBuilder result = new StringBuilder();\r\n    for (String stock : stocks) {\r\n        String[] parts = stock.split(&quot; &quot;);\r\n        // If the price is lower than 200, append part[0] (stock name) to the result\r\n        if (Integer.parseInt(parts[1]) &lt; 200) {\r\n            result.append(parts[0]).append(&quot; &quot;); // Append also a space character for dividing the stocks\r\n        }\r\n    }\r\n    // Strip the space from the end\r\n    return result.toString().trim();\r\n}\r\n``` ","title":"How to split an array of strings whose indexes contain integers and letters Java","body":"<p>Since your input is in format of <code>&quot;&lt;stock&gt; &lt;price&gt;&quot;</code>, after splitting this into 2 parts, you have to convert only the second part to an integer, otherwise you will get an exception.</p>\n<pre><code>public static String getCheapStocks(String[] stocks) {\n    // Use a StringBuilder to hold the final result\n    StringBuilder result = new StringBuilder();\n    for (String stock : stocks) {\n        String[] parts = stock.split(&quot; &quot;);\n        // If the price is lower than 200, append part[0] (stock name) to the result\n        if (Integer.parseInt(parts[1]) &lt; 200) {\n            result.append(parts[0]).append(&quot; &quot;); // Append also a space character for dividing the stocks\n        }\n    }\n    // Strip the space from the end\n    return result.toString().trim();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7181840,"reputation":1565,"user_id":5485454,"display_name":"Kai-Sheng Yang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650817425,"creation_date":1650817425,"answer_id":71990279,"question_id":71990116,"body_markdown":"```java\r\npublic static String getCheapStocks(String[] stocks) {\r\n    int maxPrice = 200;\r\n    List&lt;String&gt; results = new ArrayList&lt;&gt;();\r\n\r\n    for (String txt : stocks) {\r\n        String[] parts = txt.split(&quot; &quot;);\r\n        String stockName = parts[0];\r\n        int price = Integer.parseInt(parts[1]);\r\n\r\n        if (price &lt; maxPrice) {\r\n            results.add(stockName);\r\n        }\r\n    }\r\n    return String.join(&quot; &quot;, results);\r\n}\r\n```","title":"How to split an array of strings whose indexes contain integers and letters Java","body":"<pre class=\"lang-java prettyprint-override\"><code>public static String getCheapStocks(String[] stocks) {\n    int maxPrice = 200;\n    List&lt;String&gt; results = new ArrayList&lt;&gt;();\n\n    for (String txt : stocks) {\n        String[] parts = txt.split(&quot; &quot;);\n        String stockName = parts[0];\n        int price = Integer.parseInt(parts[1]);\n\n        if (price &lt; maxPrice) {\n            results.add(stockName);\n        }\n    }\n    return String.join(&quot; &quot;, results);\n}\n</code></pre>\n"}],"owner":{"account_id":25014379,"reputation":51,"user_id":18873592,"display_name":"Orest Dymarchuk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71990271,"answer_count":2,"score":0,"last_activity_date":1650817425,"creation_date":1650816221,"question_id":71990116,"body_markdown":"Hi guys! =)\r\nI&#39;m new to Java, currently, I&#39;m learning arrays and loops. I have an interesting homework task that I am very confused about.\r\nAnd I don&#39;t know what to do with this one. So I need your advice. \r\n\r\nCreate a public String getCheapStocks(String[] stocks) method in it. It takes an array of strings as input. Each line consists of the name of the product and its price, separated by a single space.\r\n\r\nThe method returns a string - a list of product names whose price is less than 200.\r\nAnd the getCheapStocks(new String[] {&quot;gun 500&quot;, &quot;firebow 70&quot;, &quot;pixboom 200&quot;}) returns &quot;firebow&quot;.\r\n\r\nThere is only for loop can be used.\r\n\r\nI found a method that can split a string:\r\n\r\nString text = &quot;123 456&quot;\r\n\r\nString[] parts = text.split(&quot; &quot;)\r\n\r\nint number1 = Integer.parseInt(parts[0]) //123\r\n\r\nint number2 = Integer.parseInt(parts[1]) //456\r\n\r\nBut when I have String &quot;gun 500&quot; I can only split it in two String. And I can&#39;t compare it to 200. My code is a mess and it does nothing.\r\n\r\nI would really appreciate any tips or advice, thanks in advance!\r\n\r\n\tpublic static String getCheapStocks(String[] stocks) {\r\n\t\t\r\n\t\t//MESS!\r\n\t\tint max = 200;\r\n\t\t\r\n\t\tfor(int i = 0; i &lt; stocks.length; i++) {\r\n\t\t\tString txt = stocks[i];\r\n\t\t\tString[] parts = txt.split(&quot; &quot;);\r\n\t\t\tint number1 = Integer.parseInt(parts[0]);\r\n\t\t\tint number2 = Integer.parseInt(parts[1]);\r\n\t\t\t\r\n\t\t\t\tif(number1 &lt; max) { \r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\r\n        //returns &quot;firebow&quot;\r\n\t\tSystem.out.println(getCheapStocks(new String[] {&quot;gun 500&quot;, &quot;firebow 70&quot;, &quot;pixboom 200&quot;}));\r\n\t\t\r\n\t}\r\n\r\n}","title":"How to split an array of strings whose indexes contain integers and letters Java","body":"<p>Hi guys! =)\nI'm new to Java, currently, I'm learning arrays and loops. I have an interesting homework task that I am very confused about.\nAnd I don't know what to do with this one. So I need your advice.</p>\n<p>Create a public String getCheapStocks(String[] stocks) method in it. It takes an array of strings as input. Each line consists of the name of the product and its price, separated by a single space.</p>\n<p>The method returns a string - a list of product names whose price is less than 200.\nAnd the getCheapStocks(new String[] {&quot;gun 500&quot;, &quot;firebow 70&quot;, &quot;pixboom 200&quot;}) returns &quot;firebow&quot;.</p>\n<p>There is only for loop can be used.</p>\n<p>I found a method that can split a string:</p>\n<p>String text = &quot;123 456&quot;</p>\n<p>String[] parts = text.split(&quot; &quot;)</p>\n<p>int number1 = Integer.parseInt(parts[0]) //123</p>\n<p>int number2 = Integer.parseInt(parts[1]) //456</p>\n<p>But when I have String &quot;gun 500&quot; I can only split it in two String. And I can't compare it to 200. My code is a mess and it does nothing.</p>\n<p>I would really appreciate any tips or advice, thanks in advance!</p>\n<pre><code>public static String getCheapStocks(String[] stocks) {\n    \n    //MESS!\n    int max = 200;\n    \n    for(int i = 0; i &lt; stocks.length; i++) {\n        String txt = stocks[i];\n        String[] parts = txt.split(&quot; &quot;);\n        int number1 = Integer.parseInt(parts[0]);\n        int number2 = Integer.parseInt(parts[1]);\n        \n            if(number1 &lt; max) { \n            \n        }\n    }\n}\n\npublic static void main(String[] args) {\n\n    //returns &quot;firebow&quot;\n    System.out.println(getCheapStocks(new String[] {&quot;gun 500&quot;, &quot;firebow 70&quot;, &quot;pixboom 200&quot;}));\n    \n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android","sqlite","android-studio","arraylist"],"comments":[{"owner":{"account_id":7031093,"reputation":517,"user_id":8772085,"display_name":"Dreamer"},"score":0,"creation_date":1650834299,"post_id":71990226,"comment_id":127210697,"body_markdown":"You should pass IDs to your adapter to get them..","body":"You should pass IDs to your adapter to get them.."},{"owner":{"account_id":13406693,"reputation":55,"user_id":12844895,"display_name":"udbhav shrivastava"},"score":0,"creation_date":1650844695,"post_id":71990226,"comment_id":127212243,"body_markdown":"sorry If I misinterpreted your solution, do you mean passing the id like this ?\n `CustomAdapter(Context context, ArrayList Contact_id, ArrayList Contact_Name, ArrayList Contact_number,String mLatitude,String mLongitude){\n        this.context = context;\n        this.Contact_id = Contact_id;\n        this.Contact_Name = Contact_Name;\n        this.Contact_number = Contact_number;\n        this.Latitude= mLatitude;\n        this.Longitude=mLongitude;\n    }`","body":"sorry If I misinterpreted your solution, do you mean passing the id like this ?  <code>CustomAdapter(Context context, ArrayList Contact_id, ArrayList Contact_Name, ArrayList Contact_number,String mLatitude,String mLongitude){         this.context = context;         this.Contact_id = Contact_id;         this.Contact_Name = Contact_Name;         this.Contact_number = Contact_number;         this.Latitude= mLatitude;         this.Longitude=mLongitude;     }</code>"},{"owner":{"account_id":7031093,"reputation":517,"user_id":8772085,"display_name":"Dreamer"},"score":0,"creation_date":1650887311,"post_id":71990226,"comment_id":127221815,"body_markdown":"Yes pass the list to the adapter ..","body":"Yes pass the list to the adapter .."}],"owner":{"account_id":13406693,"reputation":55,"user_id":12844895,"display_name":"udbhav shrivastava"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650817050,"creation_date":1650817050,"question_id":71990226,"body_markdown":"I&#39;m trying to use a delete button to remove a specific contact cardview along with it&#39;s respective sqlite database entry. I managed to do so by using `deleteOne` method from the `DatabaseHelper`. It works for an int value of the `contactId` that I input (for example 1 in this case)  however I can&#39;t figure out how to input the contactID of any desired cardview. since ContactId is an arraylist  which displays all the available elements at once.\r\n\r\nThis is the delete button\r\n\r\n                mDelete.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                 //int id= Integer.parseInt(Contact_id.getText.toString());\r\n                 int contactId = 1;\r\n                 DatabaseHelper databaseHelper = new DatabaseHelper(context);\r\n                 boolean success = databaseHelper.deleteOne(contactId);\r\n                 Toast.makeText(context, &quot;Contact Deleted&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n\r\nand this is the `deleteOne` method in `DatabaseHelper`.\r\n\r\n        public boolean deleteOne(int id){\r\n        //if ContactInfo exists, it finds,deletes and returns true.\r\n        //if not found return false.\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        String queryString = &quot; DELETE FROM &quot; + CONTACT_LIST + &quot; WHERE &quot; + COLUMN_ID + &quot; = &quot; + id;\r\n\r\n        Cursor cursor = db.rawQuery(queryString, null);\r\n        if(cursor.moveToFirst()){\r\n            return true;\r\n        }\r\n        else {\r\n            return  false;\r\n        }\r\n    }\r\n\r\nHow can I get the correct ID from the `ContactID` arraylist for the desired cardview ?\r\n\r\nWould appreciate any assistance in this.","title":"How to get current sqlite id for a selected cardview from an arraylist","body":"<p>I'm trying to use a delete button to remove a specific contact cardview along with it's respective sqlite database entry. I managed to do so by using <code>deleteOne</code> method from the <code>DatabaseHelper</code>. It works for an int value of the <code>contactId</code> that I input (for example 1 in this case)  however I can't figure out how to input the contactID of any desired cardview. since ContactId is an arraylist  which displays all the available elements at once.</p>\n<p>This is the delete button</p>\n<pre><code>            mDelete.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n             //int id= Integer.parseInt(Contact_id.getText.toString());\n             int contactId = 1;\n             DatabaseHelper databaseHelper = new DatabaseHelper(context);\n             boolean success = databaseHelper.deleteOne(contactId);\n             Toast.makeText(context, &quot;Contact Deleted&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n</code></pre>\n<p>and this is the <code>deleteOne</code> method in <code>DatabaseHelper</code>.</p>\n<pre><code>    public boolean deleteOne(int id){\n    //if ContactInfo exists, it finds,deletes and returns true.\n    //if not found return false.\n    SQLiteDatabase db = this.getWritableDatabase();\n    String queryString = &quot; DELETE FROM &quot; + CONTACT_LIST + &quot; WHERE &quot; + COLUMN_ID + &quot; = &quot; + id;\n\n    Cursor cursor = db.rawQuery(queryString, null);\n    if(cursor.moveToFirst()){\n        return true;\n    }\n    else {\n        return  false;\n    }\n}\n</code></pre>\n<p>How can I get the correct ID from the <code>ContactID</code> arraylist for the desired cardview ?</p>\n<p>Would appreciate any assistance in this.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1166,"user_id":16048914,"display_name":"David Weber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650817006,"creation_date":1650817006,"answer_id":71990219,"question_id":71990104,"body_markdown":"**In case, that you do not have the full text of the poems:**\r\n\r\nStep 1: Every class needs a `toString()`, which does nothing more then `System.out.println(&quot;name=&quot;+ this.name + &quot;\\t&quot; + &quot;lines=&quot; + this.lines)`\r\n\r\nStep 2: In your `main()`, you need to create your poems and then do `poem1.toString(); poem2.toString(); poem3.toString();`.\r\n\r\n**In case, you have the full poem text, do this additionally:**\r\n\r\nYou need to count the linebreaks, e.g. `\\n`, in your `poemTextString` and add 1 to it. And this is the amount of lines of your poem!\r\n\r\nYou are welcome. :)","title":"Creating a program that outputs a poem&#39;s name and the associated lines","body":"<p><strong>In case, that you do not have the full text of the poems:</strong></p>\n<p>Step 1: Every class needs a <code>toString()</code>, which does nothing more then <code>System.out.println(&quot;name=&quot;+ this.name + &quot;\\t&quot; + &quot;lines=&quot; + this.lines)</code></p>\n<p>Step 2: In your <code>main()</code>, you need to create your poems and then do <code>poem1.toString(); poem2.toString(); poem3.toString();</code>.</p>\n<p><strong>In case, you have the full poem text, do this additionally:</strong></p>\n<p>You need to count the linebreaks, e.g. <code>\\n</code>, in your <code>poemTextString</code> and add 1 to it. And this is the amount of lines of your poem!</p>\n<p>You are welcome. :)</p>\n"}],"owner":{"account_id":24942869,"reputation":11,"user_id":18808514,"display_name":"mediocrecoder782"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":420,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650817006,"creation_date":1650816144,"question_id":71990104,"body_markdown":"I&#39;m having some issues with an assignment for my java class. As the title suggests I have been assigned a task that requires the use of inheritance in order to create a program that will output 4 different poem names along with their number of lines. An example output for this would be.\r\n\r\nPoem: The Raven    Lines: 84 |\r\nPoem: True Wit   Lines: 2 |\r\nPoem: There was an Old Man with a Beard    Lines: 5 |\r\nPoem: The Wren    Lines: 3\r\n\r\nI have been given 5 different files in order to achieve this output. Couplet.java, DemoPoem.java, Haiku.java, Limerick.java, and lastly Poem.java. The only file that has code at the current time is DemoPoem.java, which is provided below\r\n\r\n```\r\nimport java.util.*;\r\npublic class DemoPoems\r\n{\r\n   public static void main(String[] args)\r\n   {\r\n      Poem poem1 = new Poem(&quot;The Raven&quot;);\r\n      Couplet poem2 = new Couplet(&quot;True Wit&quot;);\r\n      Limerick poem3 = new Limerick(&quot;There was an Old Man with a Beard&quot;);\r\n      Haiku poem4 = new Haiku(&quot;The Wren&quot;);\r\n      display(poem1);\r\n      display(poem2);\r\n      display(poem3);\r\n      display(poem4);\r\n   }\r\n\r\n   public static void display(Poem p)\r\n   {\r\n      System.out.println(&quot;Poem: &quot; + p.getTitle() +\r\n         &quot;   Lines: &quot; + p.getLines());\r\n   }\r\n}  \r\n```\r\n\r\nThe instructions given provide a bit of an insight into what is wanted from the program. &quot;Create a class named Poem that contains the following fields: title - the name of the poem | lines - the number of lines in the poem. Include a constructor that requires values for both fields. Also include get methods to retrieve field values. Create three subclasses: Couplet, Limerick, and Haiku. These subclasses only require a title and lines field which is to be set to a constant value. The values of which will be the respective number of lines found in the form of poem, couplet has 2, limerick has 5, and haiku had 3.\r\n\r\nThe things that I have tried so far are by creating the 4 other classes that haven&#39;t been included and then extending Couplet.java, Haiku.java, and Limerick.java to Poem.java. I also put String title and int lines into Poem.java, the problem that I am having is trying to fill out the rest of the files in order to create the previously described program. So any help would be greatly appreciated. Thank you for your time.","title":"Creating a program that outputs a poem&#39;s name and the associated lines","body":"<p>I'm having some issues with an assignment for my java class. As the title suggests I have been assigned a task that requires the use of inheritance in order to create a program that will output 4 different poem names along with their number of lines. An example output for this would be.</p>\n<p>Poem: The Raven    Lines: 84 |\nPoem: True Wit   Lines: 2 |\nPoem: There was an Old Man with a Beard    Lines: 5 |\nPoem: The Wren    Lines: 3</p>\n<p>I have been given 5 different files in order to achieve this output. Couplet.java, DemoPoem.java, Haiku.java, Limerick.java, and lastly Poem.java. The only file that has code at the current time is DemoPoem.java, which is provided below</p>\n<pre><code>import java.util.*;\npublic class DemoPoems\n{\n   public static void main(String[] args)\n   {\n      Poem poem1 = new Poem(&quot;The Raven&quot;);\n      Couplet poem2 = new Couplet(&quot;True Wit&quot;);\n      Limerick poem3 = new Limerick(&quot;There was an Old Man with a Beard&quot;);\n      Haiku poem4 = new Haiku(&quot;The Wren&quot;);\n      display(poem1);\n      display(poem2);\n      display(poem3);\n      display(poem4);\n   }\n\n   public static void display(Poem p)\n   {\n      System.out.println(&quot;Poem: &quot; + p.getTitle() +\n         &quot;   Lines: &quot; + p.getLines());\n   }\n}  \n</code></pre>\n<p>The instructions given provide a bit of an insight into what is wanted from the program. &quot;Create a class named Poem that contains the following fields: title - the name of the poem | lines - the number of lines in the poem. Include a constructor that requires values for both fields. Also include get methods to retrieve field values. Create three subclasses: Couplet, Limerick, and Haiku. These subclasses only require a title and lines field which is to be set to a constant value. The values of which will be the respective number of lines found in the form of poem, couplet has 2, limerick has 5, and haiku had 3.</p>\n<p>The things that I have tried so far are by creating the 4 other classes that haven't been included and then extending Couplet.java, Haiku.java, and Limerick.java to Poem.java. I also put String title and int lines into Poem.java, the problem that I am having is trying to fill out the rest of the files in order to create the previously described program. So any help would be greatly appreciated. Thank you for your time.</p>\n"},{"tags":["java","code-coverage","jacoco","jacoco-maven-plugin"],"comments":[{"owner":{"account_id":162901,"reputation":10387,"user_id":384674,"accept_rate":69,"display_name":"Betlista"},"score":1,"creation_date":1519026261,"post_id":48861366,"comment_id":84725902,"body_markdown":"I&#39;m not sure what you want to achieve with that `-javaagent`. It should get coverage from tests - did you read http://www.baeldung.com/jacoco ? So during the Maven build, you are running tests and based on those tests coverage is measured. This is typical usage as I know it...","body":"I&#39;m not sure what you want to achieve with that <code>-javaagent</code>. It should get coverage from tests - did you read <a href=\"http://www.baeldung.com/jacoco\" rel=\"nofollow noreferrer\">baeldung.com/jacoco</a> ? So during the Maven build, you are running tests and based on those tests coverage is measured. This is typical usage as I know it..."},{"owner":{"account_id":10475,"reputation":8823,"user_id":19820,"accept_rate":41,"display_name":"Peter Becker"},"score":4,"creation_date":1519081730,"post_id":48861366,"comment_id":84755015,"body_markdown":"I&#39;m doing black-box testing against an already built JAR file. We are starting up a Spring Boot application and hit it with HTTP requests, I&#39;m trying to measure the code coverage of that. Not a typical usage, but as far as I understand the documentation it should be doable. Maybe I&#39;m wrong.","body":"I&#39;m doing black-box testing against an already built JAR file. We are starting up a Spring Boot application and hit it with HTTP requests, I&#39;m trying to measure the code coverage of that. Not a typical usage, but as far as I understand the documentation it should be doable. Maybe I&#39;m wrong."},{"owner":{"account_id":162901,"reputation":10387,"user_id":384674,"accept_rate":69,"display_name":"Betlista"},"score":0,"creation_date":1519082151,"post_id":48861366,"comment_id":84755151,"body_markdown":"I have no experience with that, maybe you can look at https://carlosbecker.com/posts/production-code-coverage-jacoco/ ;-)","body":"I have no experience with that, maybe you can look at <a href=\"https://carlosbecker.com/posts/production-code-coverage-jacoco/\" rel=\"nofollow noreferrer\">carlosbecker.com/posts/production-code-coverage-jacoco</a> ;-)"},{"owner":{"account_id":10475,"reputation":8823,"user_id":19820,"accept_rate":41,"display_name":"Peter Becker"},"score":0,"creation_date":1519190302,"post_id":48861366,"comment_id":84802624,"body_markdown":"Running the report from the CLI tool, pointing the &quot;--classfiles&quot; to the JAR, I get an exeption &quot;Error while analyzing ....app.jar@BOOT-INF/lib/aopalliance-1.0.jar@org/aopalliance/aop/AspectException.class&quot; - it looks like it can&#39;t handle the way Spring Boot packages classes. Maybe that&#39;s why my report is empty.","body":"Running the report from the CLI tool, pointing the &quot;--classfiles&quot; to the JAR, I get an exeption &quot;Error while analyzing ....app.jar@BOOT-INF/lib/aopalliance-1.0.jar@org/aopalliance&zwnj;&#8203;/aop/AspectException&zwnj;&#8203;.class&quot; - it looks like it can&#39;t handle the way Spring Boot packages classes. Maybe that&#39;s why my report is empty."},{"owner":{"account_id":7038793,"reputation":1132,"user_id":5391891,"accept_rate":59,"display_name":"dicle"},"score":0,"creation_date":1553780064,"post_id":48861366,"comment_id":97518081,"body_markdown":"any solution on that?","body":"any solution on that?"},{"owner":{"account_id":10475,"reputation":8823,"user_id":19820,"accept_rate":41,"display_name":"Peter Becker"},"score":0,"creation_date":1553873737,"post_id":48861366,"comment_id":97560910,"body_markdown":"Sorry, I should have documented the answer. Now I have moved on, and I don&#39;t remember what we did. We had coverage reports in the end, but I don&#39;t even remember if we stuck with JaCoCo or not.","body":"Sorry, I should have documented the answer. Now I have moved on, and I don&#39;t remember what we did. We had coverage reports in the end, but I don&#39;t even remember if we stuck with JaCoCo or not."}],"answers":[{"tags":[],"owner":{"account_id":25056002,"reputation":161,"user_id":18911379,"display_name":"Code Journal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650816076,"creation_date":1650816076,"answer_id":71990095,"question_id":48861366,"body_markdown":"Here are the steps to achieve this:\r\n\r\n1. Run the java application in a separate JVM with `-javaagent` parameter passed.\r\n\r\n2. Run your tests against the application(like calling an endpoint on the web server, etc.)\r\n\r\n3. Run the `dump` and `report` goals to generate the report.\r\n\r\nYou can check out [my article][1] on the this topic.\r\n\r\n  [1]: https://www.thecodejournal.tech/2022/04/jacoco-maven-plugin-dump-goal-configurations/\r\n","title":"How do I generate a JaCoCo report for a JAR file?","body":"<p>Here are the steps to achieve this:</p>\n<ol>\n<li><p>Run the java application in a separate JVM with <code>-javaagent</code> parameter passed.</p>\n</li>\n<li><p>Run your tests against the application(like calling an endpoint on the web server, etc.)</p>\n</li>\n<li><p>Run the <code>dump</code> and <code>report</code> goals to generate the report.</p>\n</li>\n</ol>\n<p>You can check out <a href=\"https://www.thecodejournal.tech/2022/04/jacoco-maven-plugin-dump-goal-configurations/\" rel=\"nofollow noreferrer\">my article</a> on the this topic.</p>\n"}],"owner":{"account_id":10475,"reputation":8823,"user_id":19820,"accept_rate":41,"display_name":"Peter Becker"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3373,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":1,"score":11,"last_activity_date":1650816076,"creation_date":1519025584,"question_id":48861366,"body_markdown":"We are trying to report code coverage of tests against a pre-packaged JAR file using JaCoCo. To do this we start the JAR file using `java -jar` with the additional argument:\r\n\r\n    -javaagent:${project.basedir}/tools/jacocoagent.jar=output=tcpserver,port=${jacoco.port}\r\n\r\nJaCoCo&#39;s Maven plugin is configured to then dump the execution file and report the results:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;0.8.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;dumpData&lt;/id&gt;\r\n                &lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;dump&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;address&gt;localhost&lt;/address&gt;\r\n                    &lt;port&gt;${jacoco.port}&lt;/port&gt;\r\n                    &lt;destFile&gt;target/jacoco.exec&lt;/destFile&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;report&lt;/id&gt;\r\n                &lt;phase&gt;verify&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;report&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;dataFile&gt;target/jacoco.exec&lt;/dataFile&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nThis works to the point that a `jacoco.exec` file is generated which has a non-zero size (~350kB). \r\n\r\nBut the report shows no coverage at all. Following the &quot;Sessions&quot; link I can see the classes in the JAR listed, but the report&#39;s home page shows this:\r\n[![JaCoCo Report][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7nIGo.png\r\n\r\nBased on the logs we have the code seems to be exercised. Is there a step missing in the JaCoCo setup or should this work?","title":"How do I generate a JaCoCo report for a JAR file?","body":"<p>We are trying to report code coverage of tests against a pre-packaged JAR file using JaCoCo. To do this we start the JAR file using <code>java -jar</code> with the additional argument:</p>\n\n<pre><code>-javaagent:${project.basedir}/tools/jacocoagent.jar=output=tcpserver,port=${jacoco.port}\n</code></pre>\n\n<p>JaCoCo's Maven plugin is configured to then dump the execution file and report the results:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.8.0&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;dumpData&lt;/id&gt;\n            &lt;phase&gt;post-integration-test&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;dump&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;address&gt;localhost&lt;/address&gt;\n                &lt;port&gt;${jacoco.port}&lt;/port&gt;\n                &lt;destFile&gt;target/jacoco.exec&lt;/destFile&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;report&lt;/id&gt;\n            &lt;phase&gt;verify&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;report&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;dataFile&gt;target/jacoco.exec&lt;/dataFile&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>This works to the point that a <code>jacoco.exec</code> file is generated which has a non-zero size (~350kB). </p>\n\n<p>But the report shows no coverage at all. Following the \"Sessions\" link I can see the classes in the JAR listed, but the report's home page shows this:\n<a href=\"https://i.stack.imgur.com/7nIGo.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/7nIGo.png\" alt=\"JaCoCo Report\"></a></p>\n\n<p>Based on the logs we have the code seems to be exercised. Is there a step missing in the JaCoCo setup or should this work?</p>\n"},{"tags":["java","android-studio","kotlin","android-mediaplayer"],"comments":[{"owner":{"account_id":22580507,"reputation":821,"user_id":16765223,"display_name":"M DEV"},"score":0,"creation_date":1650811410,"post_id":71988271,"comment_id":127205522,"body_markdown":"you already defined `mp.start()` in your `mediaplayer.setOnPreparedListener`. So just remove this line `mediaplayer.start()`. If not works, let me know","body":"you already defined <code>mp.start()</code> in your <code>mediaplayer.setOnPreparedListener</code>. So just remove this line <code>mediaplayer.start()</code>. If not works, let me know"},{"owner":{"account_id":25075318,"reputation":1,"user_id":18928804,"display_name":"Bashadam"},"score":0,"creation_date":1650836877,"post_id":71988271,"comment_id":127211176,"body_markdown":"It did not work.","body":"It did not work."}],"answers":[{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650816056,"creation_date":1650815659,"answer_id":71990051,"question_id":71988271,"body_markdown":"No. It is not possible. But, why do you want to do so? It is prepared immediately after that file is created. But, in some cases it might not get prepared due to some issue with the file or uri. So, you can use this alternate after the `.create()` function:\r\n```kotlin\r\nif(mediaplayer != null){\r\n  // it was not created or prepared.\r\n}else{\r\n  // good news. it got prepared successfully\r\n}\r\n```","title":"Is it impossible to call mediaplayer.setpreparedlistener when mediapler.create method is used?","body":"<p>No. It is not possible. But, why do you want to do so? It is prepared immediately after that file is created. But, in some cases it might not get prepared due to some issue with the file or uri. So, you can use this alternate after the <code>.create()</code> function:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>if(mediaplayer != null){\n  // it was not created or prepared.\n}else{\n  // good news. it got prepared successfully\n}\n</code></pre>\n"}],"owner":{"account_id":25075318,"reputation":1,"user_id":18928804,"display_name":"Bashadam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650816056,"creation_date":1650802473,"question_id":71988271,"body_markdown":"I&#39;m trying to learn kotlin with a media player project in Android studio. \r\n\r\nSo I create a media player using create method.\r\n\r\n```\r\nval mediaplayer : MediaPlayer\r\nmediaplayer= MediaPlayer.create(this,R.raw.song)\r\nmediaplayer.start()\r\n```\r\nBut the problem come when I use this:\r\n```\r\nmediaplayer.setOnPreparedListener(object: MediaPlayer.onPreparedListener{\r\n    override fun onPrepared(MediaPlayer mp){\r\n        val max = mp.max\r\n        Seekbar.max = max\r\n        textview.text = convertToSeconde(max) // a function I define\r\n        mp.start()\r\n    }\r\n})\r\n```\r\n\r\nThe problem is that, when I run the app my implementation of onpreparedlistener have never been called. And any error is raise to tell me what the cause. \r\nCan you help me on this please?","title":"Is it impossible to call mediaplayer.setpreparedlistener when mediapler.create method is used?","body":"<p>I'm trying to learn kotlin with a media player project in Android studio.</p>\n<p>So I create a media player using create method.</p>\n<pre><code>val mediaplayer : MediaPlayer\nmediaplayer= MediaPlayer.create(this,R.raw.song)\nmediaplayer.start()\n</code></pre>\n<p>But the problem come when I use this:</p>\n<pre><code>mediaplayer.setOnPreparedListener(object: MediaPlayer.onPreparedListener{\n    override fun onPrepared(MediaPlayer mp){\n        val max = mp.max\n        Seekbar.max = max\n        textview.text = convertToSeconde(max) // a function I define\n        mp.start()\n    }\n})\n</code></pre>\n<p>The problem is that, when I run the app my implementation of onpreparedlistener have never been called. And any error is raise to tell me what the cause.\nCan you help me on this please?</p>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"score":3,"creation_date":1285229269,"post_id":3776035,"comment_id":3998373,"body_markdown":"FYI: don&#39;t assume tail recursion is optimized in the JVM: http://stackoverflow.com/questions/105834/does-the-jvm-prevent-tail-call-optimizations","body":"FYI: don&#39;t assume tail recursion is optimized in the JVM: <a href=\"http://stackoverflow.com/questions/105834/does-the-jvm-prevent-tail-call-optimizations\" title=\"does the jvm prevent tail call optimizations\">stackoverflow.com/questions/105834/&hellip;</a>"},{"owner":{"account_id":33124,"reputation":21375,"user_id":92448,"accept_rate":100,"display_name":"JAL"},"score":12,"creation_date":1285232367,"post_id":3776035,"comment_id":3998757,"body_markdown":"To determine whether it&#39;s appropriate to use recursion, you have to ask yourself, is it appropriate to use recursion?","body":"To determine whether it&#39;s appropriate to use recursion, you have to ask yourself, is it appropriate to use recursion?"}],"answers":[{"tags":[],"owner":{"account_id":8291,"reputation":860447,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1650815920,"creation_date":1285225233,"answer_id":3776051,"question_id":3776035,"body_markdown":"Yes, there are plenty of times I would not use recursion. Recursion is _not_ free, it has a cost in stack space and that can often be a much more limited resource than some others. There&#39;s also a time cost, however small, in setting up and tearing down stack frames.\r\n\r\nBy way of example, the much vaunted factorial function is one where I would probably opt for an iterative approach where the numbers were large. Calculating 10000! with the Python:\r\n\r\n    def factorial (n):\r\n        if n = 1: return 1\r\n        return n * factorial (n-1)\r\n\r\nwill attempt to use a whopping 10,000 stack frames (though Python will protect you against this). The equivalent iterative solution:\r\n\r\n    def factorial (n):\r\n        r = 1\r\n        while n &gt; 1:\r\n            r = r * n\r\n            n = n - 1\r\n        return r\r\nwill use just the one stack frame and precious little else.\r\n\r\nIt&#39;s true that recursive solutions are often more elegant code but you have to temper that with the limitations of your environment.\r\n\r\nYour `carbon` example is one where I would actually use recursion since:\r\n\r\n  - it uses at most six stack frames (one per character in the string); and\r\n  - it&#39;s relatively elegant, at least much more so than six nested loops and huge equality checks.\r\n\r\nFor example the following Python code does the trick:\r\n\r\n    def recur (str, pref = &quot;&quot;):\r\n        # Terminating condition.\r\n\r\n        if str == &quot;&quot;:\r\n            print pref\r\n            return\r\n    \r\n        # Rotate string so all letters get a chance to be first.\r\n\r\n        for i in range (len (str)):\r\n            recur (str[1:], pref + str[:1])\r\n            str = str[1:] + str[:1]\r\n    \r\n    recur (&quot;abc&quot;)\r\nproducing:\r\n\r\n    abc\r\n    acb\r\n    bca\r\n    bac\r\n    cab\r\n    cba\r\n\r\nOf course, if your string can be 10K long, I&#39;d rethink it, since that would involve a lot more stack levels but, provided you keep in low enough, recursion is a viable solution.\r\n","title":"is there ever a time you would not use recursion?","body":"<p>Yes, there are plenty of times I would not use recursion. Recursion is <em>not</em> free, it has a cost in stack space and that can often be a much more limited resource than some others. There's also a time cost, however small, in setting up and tearing down stack frames.</p>\n<p>By way of example, the much vaunted factorial function is one where I would probably opt for an iterative approach where the numbers were large. Calculating 10000! with the Python:</p>\n<pre><code>def factorial (n):\n    if n = 1: return 1\n    return n * factorial (n-1)\n</code></pre>\n<p>will attempt to use a whopping 10,000 stack frames (though Python will protect you against this). The equivalent iterative solution:</p>\n<pre><code>def factorial (n):\n    r = 1\n    while n &gt; 1:\n        r = r * n\n        n = n - 1\n    return r\n</code></pre>\n<p>will use just the one stack frame and precious little else.</p>\n<p>It's true that recursive solutions are often more elegant code but you have to temper that with the limitations of your environment.</p>\n<p>Your <code>carbon</code> example is one where I would actually use recursion since:</p>\n<ul>\n<li>it uses at most six stack frames (one per character in the string); and</li>\n<li>it's relatively elegant, at least much more so than six nested loops and huge equality checks.</li>\n</ul>\n<p>For example the following Python code does the trick:</p>\n<pre><code>def recur (str, pref = &quot;&quot;):\n    # Terminating condition.\n\n    if str == &quot;&quot;:\n        print pref\n        return\n\n    # Rotate string so all letters get a chance to be first.\n\n    for i in range (len (str)):\n        recur (str[1:], pref + str[:1])\n        str = str[1:] + str[:1]\n\nrecur (&quot;abc&quot;)\n</code></pre>\n<p>producing:</p>\n<pre><code>abc\nacb\nbca\nbac\ncab\ncba\n</code></pre>\n<p>Of course, if your string can be 10K long, I'd rethink it, since that would involve a lot more stack levels but, provided you keep in low enough, recursion is a viable solution.</p>\n"},{"tags":[],"owner":{"account_id":34868,"reputation":1686,"user_id":98606,"accept_rate":80,"display_name":"Numenor"},"down_vote_count":6,"up_vote_count":12,"is_accepted":false,"score":6,"last_activity_date":1285225331,"creation_date":1285225331,"answer_id":3776062,"question_id":3776035,"body_markdown":"Just use a loop and you will avoid using recursion. Recursion is avoided generally because it makes the code less readable and harder to maintain and debug. If you have low resources as paxdiablo said stack space might be valuable for you so you should avoid using it then too.","title":"is there ever a time you would not use recursion?","body":"<p>Just use a loop and you will avoid using recursion. Recursion is avoided generally because it makes the code less readable and harder to maintain and debug. If you have low resources as paxdiablo said stack space might be valuable for you so you should avoid using it then too.</p>\n"},{"tags":[],"owner":{"account_id":178633,"reputation":2676,"user_id":410737,"accept_rate":36,"display_name":"Gadolin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1285225471,"creation_date":1285225471,"answer_id":3776071,"question_id":3776035,"body_markdown":"When there is plenty of invocations of recursion then your stack may explode leaving you with StackOverflowError. The good example is calculation of Fibonacci numbers (or Hanoi towers problem) with basic\r\nrecursion you will not be able to calculate many of those numbers. Which you will be able by using of non recurring version. Basically recursion creates nice looking solution and this is a virtue.  You may still have good working recursion solution by using &lt;b&gt; tail recursion&lt;/b&gt;","title":"is there ever a time you would not use recursion?","body":"<p>When there is plenty of invocations of recursion then your stack may explode leaving you with StackOverflowError. The good example is calculation of Fibonacci numbers (or Hanoi towers problem) with basic\nrecursion you will not be able to calculate many of those numbers. Which you will be able by using of non recurring version. Basically recursion creates nice looking solution and this is a virtue.  You may still have good working recursion solution by using <b> tail recursion</b></p>\n"},{"tags":[],"owner":{"account_id":78661,"reputation":4337,"user_id":223707,"display_name":"Branimir"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1285232179,"creation_date":1285232179,"answer_id":3776749,"question_id":3776035,"body_markdown":"[Algorithms and Data Structures by Niklaus Wirth][1] have a section &quot;When not to use recursion&quot;, but recursion is useful programmer`s tool. I think that understanding recursion is &quot;must&quot; for a programmer.\r\n\r\n\r\nYou have a clever approach to [permutation][2] problem. It can be solved recursively (pseudocode):\r\n\r\n    private void PermutationsRecursive(string prefix, string s)\r\n    {\r\n        int N = s.Length;\r\n\r\n        if (N &gt; 0)\r\n            for (int i = 0; i &lt; N; i++)\r\n                PermutationsRecursive(prefix + s[i], s.Substring(0, i) + s.Substring(i + 1, N - i - 1));\r\n        else\r\n            WriteLine(prefix);\r\n    }\r\n\r\n    PermutationsRecursive(&quot;&quot;, &quot;carbon&quot;);\r\n\r\n\r\n  [1]: http://www.amazon.com/Algorithms-Structures-Prentice-Hall-Automatic-Computation/dp/0130224189\r\n  [2]: http://en.wikipedia.org/wiki/Permutation","title":"is there ever a time you would not use recursion?","body":"<p><a href=\"https://rads.stackoverflow.com/amzn/click/com/0130224189\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">Algorithms and Data Structures by Niklaus Wirth</a> have a section \"When not to use recursion\", but recursion is useful programmer`s tool. I think that understanding recursion is \"must\" for a programmer.</p>\n\n<p>You have a clever approach to <a href=\"http://en.wikipedia.org/wiki/Permutation\" rel=\"nofollow noreferrer\">permutation</a> problem. It can be solved recursively (pseudocode):</p>\n\n<pre><code>private void PermutationsRecursive(string prefix, string s)\n{\n    int N = s.Length;\n\n    if (N &gt; 0)\n        for (int i = 0; i &lt; N; i++)\n            PermutationsRecursive(prefix + s[i], s.Substring(0, i) + s.Substring(i + 1, N - i - 1));\n    else\n        WriteLine(prefix);\n}\n\nPermutationsRecursive(\"\", \"carbon\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":652511,"reputation":21,"user_id":456021,"display_name":"Marek Rocki"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1285236472,"creation_date":1285235928,"answer_id":3777207,"question_id":3776035,"body_markdown":"As the people above have written, recursion is not always the optimal solution (function calls may be expensive and they consume the stack unless the compiler can optimize tail recursion away). However, it&#39;s particularly suited to such problems as yours.\r\n\r\nWhile theoretically it&#39;s possible to express each recursive algorithm in terms of iteration (ex. by manually simulating the call stack with an array), sometimes the equivalent iterative solution is less elegant. Here is a sample:\r\n&lt;pre&gt;&lt;code&gt;\r\ntext = &#39;carbon&#39;\r\nn = len(text)\r\nfor permutation_i in range(factorial(n)):\r\n\tfree_letters = list(text)\r\n\tdivisor = 1\r\n\tfor character_i in range(n, 0, -1):\r\n\t\tletter = free_letters.pop(permutation_i//divisor%character_i)\r\n\t\tprint(letter, end=&#39;&#39;)\r\n\t\tdivisor *= character_i\r\n\tprint()\r\n&lt;/pre&gt;&lt;/code&gt;","title":"is there ever a time you would not use recursion?","body":"<p>As the people above have written, recursion is not always the optimal solution (function calls may be expensive and they consume the stack unless the compiler can optimize tail recursion away). However, it's particularly suited to such problems as yours.</p>\n\n<p>While theoretically it's possible to express each recursive algorithm in terms of iteration (ex. by manually simulating the call stack with an array), sometimes the equivalent iterative solution is less elegant. Here is a sample:\n<pre><code>\ntext = 'carbon'\nn = len(text)\nfor permutation_i in range(factorial(n)):\n    free_letters = list(text)\n    divisor = 1\n    for character_i in range(n, 0, -1):\n        letter = free_letters.pop(permutation_i//divisor%character_i)\n        print(letter, end='')\n        divisor *= character_i\n    print()\n</pre></code></p>\n"},{"tags":[],"owner":{"account_id":33313,"reputation":5443,"user_id":93200,"accept_rate":76,"display_name":"Alex Feinman"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1285249623,"creation_date":1285249623,"answer_id":3779009,"question_id":3776035,"body_markdown":"Use recursion when your data is inherently hierarchical/nested. Use iteration when your data is linear/flat.\r\n\r\nIn your case, there is a natural ordering you can impose on the combinations, so you can treat the data as linear, but if you view it as a tree you end up with the recursive approach.\r\n\r\nIf the structure of your algorithm reflects the structure of the underlying problem, you end up with simpler code that is easier to understand. Don&#39;t use recursion just because your CS201 professor thought it was So! Cool!","title":"is there ever a time you would not use recursion?","body":"<p>Use recursion when your data is inherently hierarchical/nested. Use iteration when your data is linear/flat.</p>\n\n<p>In your case, there is a natural ordering you can impose on the combinations, so you can treat the data as linear, but if you view it as a tree you end up with the recursive approach.</p>\n\n<p>If the structure of your algorithm reflects the structure of the underlying problem, you end up with simpler code that is easier to understand. Don't use recursion just because your CS201 professor thought it was So! Cool!</p>\n"}],"owner":{"account_id":206287,"reputation":339,"user_id":455487,"accept_rate":83,"display_name":"LewisMc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15951,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"closed_date":1348742044,"accepted_answer_id":3776051,"answer_count":6,"score":9,"last_activity_date":1650815920,"creation_date":1285225039,"question_id":3776035,"body_markdown":"I have a problem for a university lab;\r\n\r\n**Write a short program that outputs all possible strings formed by using characters ‘c’, ‘a’, ‘r’, ‘b’, ‘o’, and ‘n’ exactly once.**\r\n\r\nIt seems to be a common interview question and well documented.\r\n\r\nSo I&#39;ve coded it with Java using a recursive method which wasn&#39;t too hard, **when or why would you choose not to use recursion and what would be the easiest way of doing it?**\r\n\r\nI started to code a counter that would count down on base 6, the output would then reference char&#39;s and print the string.\r\n\r\nThanks,","title":"is there ever a time you would not use recursion?","body":"<p>I have a problem for a university lab;</p>\n\n<p><strong>Write a short program that outputs all possible strings formed by using characters ‘c’, ‘a’, ‘r’, ‘b’, ‘o’, and ‘n’ exactly once.</strong></p>\n\n<p>It seems to be a common interview question and well documented.</p>\n\n<p>So I've coded it with Java using a recursive method which wasn't too hard, <strong>when or why would you choose not to use recursion and what would be the easiest way of doing it?</strong></p>\n\n<p>I started to code a counter that would count down on base 6, the output would then reference char's and print the string.</p>\n\n<p>Thanks,</p>\n"},{"tags":["java","spring-boot","jpa","h2","spring-cloud-feign"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":1,"creation_date":1650725594,"post_id":71980485,"comment_id":127190970,"body_markdown":"How should we help if you don&#39;t post any code of this service?","body":"How should we help if you don&#39;t post any code of this service?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1650817797,"post_id":71980485,"comment_id":127206918,"body_markdown":"Fix your ALL-CAPS.","body":"Fix your ALL-CAPS."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1650819582,"post_id":71980485,"comment_id":127207379,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":25065221,"reputation":1,"user_id":18919633,"display_name":"Aditya Pandey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650815617,"creation_date":1650723450,"question_id":71980485,"body_markdown":"I have been trying to look for a solution, Actually I need to update employee data in a service and as soon as that employee data gets created I need to asynchronously call a different service and create an insurance table of that employee using the empId generated from the first one. I have used feign client to create a proxy of second service and called that method in the first service using proxy class, but I dont see that table getting created in the second service, Can anyone help?","title":"UPDATE A TABLE IN A DIFFERENT SERVICE","body":"<p>I have been trying to look for a solution, Actually I need to update employee data in a service and as soon as that employee data gets created I need to asynchronously call a different service and create an insurance table of that employee using the empId generated from the first one. I have used feign client to create a proxy of second service and called that method in the first service using proxy class, but I dont see that table getting created in the second service, Can anyone help?</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1650870259,"post_id":71989906,"comment_id":127216216,"body_markdown":"If you understand Kotlin, I think that this [article](https://medium.com/firebase-tips-tricks/how-to-read-data-from-cloud-firestore-using-get-bf03b6ee4953) will really help.","body":"If you understand Kotlin, I think that this <a href=\"https://medium.com/firebase-tips-tricks/how-to-read-data-from-cloud-firestore-using-get-bf03b6ee4953\" rel=\"nofollow noreferrer\">article</a> will really help."}],"answers":[{"tags":[],"owner":{"account_id":15180977,"reputation":1256,"user_id":10954249,"display_name":"DeePanShu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650815599,"creation_date":1650815599,"answer_id":71990046,"question_id":71989906,"body_markdown":"You can use live data in your ViewModel:\r\nSee the code given below:\r\n\r\n    @HiltViewModel\r\n    public class UsersViewModel extends ViewModel {\r\n    \r\n        private List&lt;User&gt; users;\r\n        MutableLiveData&lt;List&lt;User&gt;&gt; usersLiveData = new MutableLiveData();\r\n        private UserRepository repository;\r\n    \r\n        @Inject\r\n        public UsersViewModel(UserRepository repository) {\r\n            this.repository = repository;\r\n        }\r\n    \r\n        public void fetchUsers() {\r\n            repository.getUsers(new OnFetchDataCallback() {\r\n                @Override\r\n                public void onFetchData(List&lt;User&gt; users) {\r\n                usersLiveData.setValue(users);\r\n                // you can observe this data after calling fetch users from your activity\r\n                setUsers(users);\r\n    }); \r\n        }\r\n    \r\n        public void setUsers(List&lt;User&gt; users) {\r\n            this.users = users;\r\n        }\r\n    \r\n        public List&lt;User&gt; getUsers() {\r\n            return users;\r\n        }\r\n    }\r\n\r\n\r\nIn the activity:\r\n\r\n    mViewModel.fetchUsers();\r\n\r\nAnd in both fragments:\r\n\r\n    viewModel.usersLiveData.observe(this,{ list-&gt;\r\n       // user your list here in both fragments\r\n       // rather than fetch users on both fragments\r\n    });","title":"Efficient way to fetch FireStore data into two fragments with a shared ViewModel","body":"<p>You can use live data in your ViewModel:\nSee the code given below:</p>\n<pre><code>@HiltViewModel\npublic class UsersViewModel extends ViewModel {\n\n    private List&lt;User&gt; users;\n    MutableLiveData&lt;List&lt;User&gt;&gt; usersLiveData = new MutableLiveData();\n    private UserRepository repository;\n\n    @Inject\n    public UsersViewModel(UserRepository repository) {\n        this.repository = repository;\n    }\n\n    public void fetchUsers() {\n        repository.getUsers(new OnFetchDataCallback() {\n            @Override\n            public void onFetchData(List&lt;User&gt; users) {\n            usersLiveData.setValue(users);\n            // you can observe this data after calling fetch users from your activity\n            setUsers(users);\n}); \n    }\n\n    public void setUsers(List&lt;User&gt; users) {\n        this.users = users;\n    }\n\n    public List&lt;User&gt; getUsers() {\n        return users;\n    }\n}\n</code></pre>\n<p>In the activity:</p>\n<pre><code>mViewModel.fetchUsers();\n</code></pre>\n<p>And in both fragments:</p>\n<pre><code>viewModel.usersLiveData.observe(this,{ list-&gt;\n   // user your list here in both fragments\n   // rather than fetch users on both fragments\n});\n</code></pre>\n"}],"owner":{"account_id":14284283,"reputation":84,"user_id":10318021,"display_name":"Ryo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71990046,"answer_count":1,"score":0,"last_activity_date":1650815599,"creation_date":1650814506,"question_id":71989906,"body_markdown":"Context: I have a `User` class that looks like this:\r\n\r\n    public class User {\r\n        private String firstname;\r\n        private String lastname;\r\n        private GeoPoint location;\r\n        \r\n        /* Constructor and getters */\r\n        ...\r\n    }\r\n\r\nand two `Fragment`s in which I&#39;ll display a list of the users&#39; names in the first fragment using a `RecyclerView` and a `GoogleMap` that displays markers of the device location of the users in the second fragment. I&#39;m using a shared `ViewModel` between these two fragments to supply the data needed. The `ViewModel` looks like this:\r\n\r\n    @HiltViewModel\r\n    public class UsersViewModel extends ViewModel {\r\n    \r\n        private List&lt;User&gt; users;\r\n        private UserRepository repository;\r\n    \r\n        @Inject\r\n        public UsersViewModel(UserRepository repository) {\r\n            this.repository = repository;\r\n        }\r\n    \r\n        public void fetchUsers(OnFetchDataCallback callback) {\r\n            repository.getUsers(callback); \r\n        }\r\n    \r\n        public void setUsers(List&lt;User&gt; users) {\r\n            this.users = users;\r\n        }\r\n    \r\n        public List&lt;User&gt; getUsers() {\r\n            return users;\r\n        }\r\n    }\r\n\r\nIn my repository class,\r\n\r\n    public class UserRepository {\r\n    \r\n        private final FirebaseFirestore db;\r\n    \r\n        @Inject\r\n        public UserRepository(FirebaseFirestore db) {\r\n            this.db = db;\r\n        }\r\n    \r\n        public List&lt;User&gt; getUsers(OnFetchDataCallback callback) {\r\n            db.collection(&quot;users&quot;)\r\n                .addSnapshotListener(new EventListener&lt;QuerySnapshot&gt;() {\r\n                    @Override\r\n                    public void onEvent(@Nullable QuerySnapshot val,\r\n                                        @FirebaseFirestoreException e) {\r\n                        List&lt;User&gt; users = new ArrayList&lt;&gt;();\r\n        \r\n                        for (QueryDocumentSnapshot document : val) {\r\n                            users.add(document.toObject(User.class);\r\n                        }\r\n                        callback.onFetchData(users);\r\n                    }\r\n                });\r\n        }\r\n    }\r\n\r\nI have a method called `getUsers()` that will do the actual fetching of users from a firestore database. I also created an interface callback that looks like this\r\n\r\n    public interface OnFetchDataCallback {\r\n        void onFetchData(List&lt;User&gt; users);\r\n    }\r\n\r\nso that later I can access the fetched users within my two fragments. In my first fragment,\r\n\r\n    @AndroidEntryPoint\r\n    public class DisplayUsersFragment extends Fragment {\r\n        private FragmentDisplayUsersBinding binding;\r\n        private UsersViewModel viewModel;\r\n        private UsersAdapter adapter;\r\n    \r\n        @Override\r\n        public void onCreate(@Nullable Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            viewModel = new ViewModelProvider(this).get(UsersViewModel.class);\r\n        }\r\n    \r\n        @Nullable\r\n        @Override\r\n        public View onCreateView(@NonNull LayoutInflater inflater,\r\n                                 @Nullable ViewGroup container,\r\n                                 @Nullable Bundle savedInstanceState) {\r\n            binding = FragmentDisplayUsersBinding.inflate(inflater, container, false);\r\n            binding.usersRecyclerView.setLayoutManager(\r\n                new LinearLayoutManager(getContext()));\r\n    \r\n            viewModel.fetchUsers(new OnFetchDataCallback() {\r\n                @Override\r\n                public void onFetchData(List&lt;User&gt; users) {\r\n                    viewModel.setUsers(users);\r\n                    adapter = new UsersAdapter(viewModel.getUsers());\r\n                    binding.usersRecyclerView.setAdapter(adapter);\r\n                }\r\n            });\r\n            return binding.getRoot();\r\n        }\r\n    }\r\n\r\nI called the `fetchUsers()` and accessed the `List` of `users` inside the callback and set it to my `viewModel`&#39;s `users` before constructing an adapter for my `RecyclerView` and providing it with the data it needs by calling `viewModel.getUsers()` and passing it as the constructor argument for the adapter. \r\nNow, my problem here is that in my second fragment,\r\n\r\n    @AndroidEntryPoint\r\n    public class UsersMapFragment extends Fragment implements OnMapReadyCallback {\r\n    \r\n        private FragmentUsersMapBinding binding;\r\n        private UsersViewModel viewModel;\r\n    \r\n        @Override\r\n        public void onCreate(@Nullable Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            viewModel = new ViewModelProvider(this).get(UsersViewModel.class);\r\n        }\r\n    \r\n        @Nullable\r\n        @Override\r\n        public View onCreateView(@NonNull LayoutInflater inflater,\r\n                                 @Nullable ViewGroup container,\r\n                                 @Nullable Bundle savedInstanceState) {\r\n            binding = FragmentUsersMapBinding.inflate(inflater, container, false);\r\n            return binding.getRoot();\r\n        }\r\n    \r\n        @Override\r\n        public void onViewCreated(@NonNull View view,\r\n                                  @Nullable Bundle savedInstanceState) {\r\n            super.onViewCreated(view, savedInstanceState);\r\n            SupportMapFragment mapFragment = SupportMapFragment.newInstance();\r\n            getChildFragmentManager().beginTransaction()\r\n                .add(R.id.users_map_fragment_container, mapFragment)\r\n                .commit()\r\n            mapFragment.getMapAsync(this);\r\n        }\r\n    \r\n        @Override\r\n        public void onMapReady(@NonNull GoogleMap googleMap) {\r\n             viewModel.fetchUsers(new OnFetchDataCallback() {\r\n                @Override\r\n                public void onFetchData(List&lt;User&gt; users) {\r\n                    viewModel.setUsers(users);\r\n                    for (User user : viewModel.getUsers()) {\r\n                        googleMap.addMarker(new MarkerOptions()\r\n                                    .position(new LatLng(\r\n                                        user.getLocation().getLatitude(),\r\n                                        user.getLocation().getLongitude())\r\n                                    )\r\n                                    .title(user.getFirstname() + &quot; &quot; \r\n                                           user.getLastname()\r\n                                    )\r\n                                );\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nI called again `fetchUsers()` inside `onMapReady()` so that I can access inside its callback the users and use them to create markers in the map. Essentially, I tried to call `fetchUsers()` twice, but I think that there is a more efficient way to do this, but I have no idea how to handle this. Please help me, sorry my English is not good.","title":"Efficient way to fetch FireStore data into two fragments with a shared ViewModel","body":"<p>Context: I have a <code>User</code> class that looks like this:</p>\n<pre><code>public class User {\n    private String firstname;\n    private String lastname;\n    private GeoPoint location;\n    \n    /* Constructor and getters */\n    ...\n}\n</code></pre>\n<p>and two <code>Fragment</code>s in which I'll display a list of the users' names in the first fragment using a <code>RecyclerView</code> and a <code>GoogleMap</code> that displays markers of the device location of the users in the second fragment. I'm using a shared <code>ViewModel</code> between these two fragments to supply the data needed. The <code>ViewModel</code> looks like this:</p>\n<pre><code>@HiltViewModel\npublic class UsersViewModel extends ViewModel {\n\n    private List&lt;User&gt; users;\n    private UserRepository repository;\n\n    @Inject\n    public UsersViewModel(UserRepository repository) {\n        this.repository = repository;\n    }\n\n    public void fetchUsers(OnFetchDataCallback callback) {\n        repository.getUsers(callback); \n    }\n\n    public void setUsers(List&lt;User&gt; users) {\n        this.users = users;\n    }\n\n    public List&lt;User&gt; getUsers() {\n        return users;\n    }\n}\n</code></pre>\n<p>In my repository class,</p>\n<pre><code>public class UserRepository {\n\n    private final FirebaseFirestore db;\n\n    @Inject\n    public UserRepository(FirebaseFirestore db) {\n        this.db = db;\n    }\n\n    public List&lt;User&gt; getUsers(OnFetchDataCallback callback) {\n        db.collection(&quot;users&quot;)\n            .addSnapshotListener(new EventListener&lt;QuerySnapshot&gt;() {\n                @Override\n                public void onEvent(@Nullable QuerySnapshot val,\n                                    @FirebaseFirestoreException e) {\n                    List&lt;User&gt; users = new ArrayList&lt;&gt;();\n    \n                    for (QueryDocumentSnapshot document : val) {\n                        users.add(document.toObject(User.class);\n                    }\n                    callback.onFetchData(users);\n                }\n            });\n    }\n}\n</code></pre>\n<p>I have a method called <code>getUsers()</code> that will do the actual fetching of users from a firestore database. I also created an interface callback that looks like this</p>\n<pre><code>public interface OnFetchDataCallback {\n    void onFetchData(List&lt;User&gt; users);\n}\n</code></pre>\n<p>so that later I can access the fetched users within my two fragments. In my first fragment,</p>\n<pre><code>@AndroidEntryPoint\npublic class DisplayUsersFragment extends Fragment {\n    private FragmentDisplayUsersBinding binding;\n    private UsersViewModel viewModel;\n    private UsersAdapter adapter;\n\n    @Override\n    public void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        viewModel = new ViewModelProvider(this).get(UsersViewModel.class);\n    }\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater,\n                             @Nullable ViewGroup container,\n                             @Nullable Bundle savedInstanceState) {\n        binding = FragmentDisplayUsersBinding.inflate(inflater, container, false);\n        binding.usersRecyclerView.setLayoutManager(\n            new LinearLayoutManager(getContext()));\n\n        viewModel.fetchUsers(new OnFetchDataCallback() {\n            @Override\n            public void onFetchData(List&lt;User&gt; users) {\n                viewModel.setUsers(users);\n                adapter = new UsersAdapter(viewModel.getUsers());\n                binding.usersRecyclerView.setAdapter(adapter);\n            }\n        });\n        return binding.getRoot();\n    }\n}\n</code></pre>\n<p>I called the <code>fetchUsers()</code> and accessed the <code>List</code> of <code>users</code> inside the callback and set it to my <code>viewModel</code>'s <code>users</code> before constructing an adapter for my <code>RecyclerView</code> and providing it with the data it needs by calling <code>viewModel.getUsers()</code> and passing it as the constructor argument for the adapter.\nNow, my problem here is that in my second fragment,</p>\n<pre><code>@AndroidEntryPoint\npublic class UsersMapFragment extends Fragment implements OnMapReadyCallback {\n\n    private FragmentUsersMapBinding binding;\n    private UsersViewModel viewModel;\n\n    @Override\n    public void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        viewModel = new ViewModelProvider(this).get(UsersViewModel.class);\n    }\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater,\n                             @Nullable ViewGroup container,\n                             @Nullable Bundle savedInstanceState) {\n        binding = FragmentUsersMapBinding.inflate(inflater, container, false);\n        return binding.getRoot();\n    }\n\n    @Override\n    public void onViewCreated(@NonNull View view,\n                              @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n        SupportMapFragment mapFragment = SupportMapFragment.newInstance();\n        getChildFragmentManager().beginTransaction()\n            .add(R.id.users_map_fragment_container, mapFragment)\n            .commit()\n        mapFragment.getMapAsync(this);\n    }\n\n    @Override\n    public void onMapReady(@NonNull GoogleMap googleMap) {\n         viewModel.fetchUsers(new OnFetchDataCallback() {\n            @Override\n            public void onFetchData(List&lt;User&gt; users) {\n                viewModel.setUsers(users);\n                for (User user : viewModel.getUsers()) {\n                    googleMap.addMarker(new MarkerOptions()\n                                .position(new LatLng(\n                                    user.getLocation().getLatitude(),\n                                    user.getLocation().getLongitude())\n                                )\n                                .title(user.getFirstname() + &quot; &quot; \n                                       user.getLastname()\n                                )\n                            );\n                }\n            }\n        });\n    }\n}\n</code></pre>\n<p>I called again <code>fetchUsers()</code> inside <code>onMapReady()</code> so that I can access inside its callback the users and use them to create markers in the map. Essentially, I tried to call <code>fetchUsers()</code> twice, but I think that there is a more efficient way to do this, but I have no idea how to handle this. Please help me, sorry my English is not good.</p>\n"},{"tags":["java","events","java-stream"],"comments":[{"owner":{"account_id":17351533,"reputation":155,"user_id":12579510,"display_name":"mamadaliev"},"score":0,"creation_date":1650724116,"post_id":71979584,"comment_id":127190637,"body_markdown":"Should the relationship between your classes be one-to-one, not one-to-many?","body":"Should the relationship between your classes be one-to-one, not one-to-many?"}],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650719716,"creation_date":1650719716,"answer_id":71979961,"question_id":71979584,"body_markdown":"You could get a `Map&lt;String, List&lt;Measurement&gt;&gt;` using `groupingBy` if that is what you are looking for:\r\n\r\n    Map&lt;String, List&lt;Measurement&gt;&gt; result = \r\n            events.stream()\r\n                    .collect(Collectors.groupingBy(Event::getDevice,\r\n                             Collectors.mapping(Event::getMeasurement, Collectors.toList())));","title":"Stream group incoming sort events","body":"<p>You could get a <code>Map&lt;String, List&lt;Measurement&gt;&gt;</code> using <code>groupingBy</code> if that is what you are looking for:</p>\n<pre><code>Map&lt;String, List&lt;Measurement&gt;&gt; result = \n        events.stream()\n                .collect(Collectors.groupingBy(Event::getDevice,\n                         Collectors.mapping(Event::getMeasurement, Collectors.toList())));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650722657,"creation_date":1650722657,"answer_id":71980380,"question_id":71979584,"body_markdown":"I&#39;ve come up with this solution assuming that for each device there cannot be multiple measurements with same timestamp and value. \r\n\r\nI understand that this could be a limit, but since I cannot see any ways of sorting a subset collected with a Collectors, I&#39;ve decided to use a TreeSet to store the grouped measurements so that they will be sorted according to their natural ordering.\r\n\r\n```\r\nclass Event {\r\n    private String device;\r\n    private String description;\r\n    private String serialnumber;\r\n    private Measurement measurement;\r\n\r\n    public Event(String device, String description, String serialnumber, Measurement measurement) {\r\n        this.device = device;\r\n        this.description = description;\r\n        this.serialnumber = serialnumber;\r\n        this.measurement = measurement;\r\n    }\r\n\r\n    //... getters and setters ...\r\n}\r\n\r\nclass Measurement implements Comparable&lt;Measurement&gt; {\r\n    private LocalDateTime timestamp;\r\n    private int value;\r\n\r\n    public Measurement(LocalDateTime timestamp, int value) {\r\n        this.timestamp = timestamp;\r\n        this.value = value;\r\n    }\r\n\r\n    //... getters and setters ...\r\n\r\n    //Redefinition of the natural ordering by timestamp and value\r\n\r\n    @Override\r\n    public int compareTo(Measurement m) {\r\n        Comparator&lt;Measurement&gt; cmp = Comparator.comparing(Measurement::getTimestamp).thenComparing(Measurement::getValue);\r\n        return cmp.compare(this, m);\r\n    }\r\n\r\n    public String toString(){\r\n        return String.format(&quot;%s - %d&quot;, timestamp, value);\r\n    }\r\n}\r\n\r\npublic class Test {\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Event&gt; dataSource = new ArrayList&lt;&gt;(List.of(\r\n                new Event(&quot;device_1&quot;, &quot;first device&quot;, &quot;1&quot;, new Measurement(LocalDateTime.parse(&quot;2022-04-23T18:20:22&quot;), 180)),\r\n                new Event(&quot;device_2&quot;, &quot;second device&quot;, &quot;2&quot;, new Measurement(LocalDateTime.parse(&quot;2022-04-23T18:20:28&quot;), 120)),\r\n                new Event(&quot;device_2&quot;, &quot;second device&quot;, &quot;2&quot;, new Measurement(LocalDateTime.parse(&quot;2022-04-23T18:20:20&quot;), 160)),\r\n                new Event(&quot;device_1&quot;, &quot;first device&quot;, &quot;1&quot;, new Measurement(LocalDateTime.parse(&quot;2022-04-23T18:20:22&quot;), 170))));\r\n\r\n        Map&lt;String, TreeSet&lt;Measurement&gt;&gt; map = dataSource.stream()\r\n                .collect(Collectors.groupingBy(Event::getDevice, Collectors.mapping(Event::getMeasurement, Collectors.toCollection(TreeSet::new))));\r\n\r\n        for (String key: map.keySet()){\r\n            System.out.printf(&quot;%s =&gt; %s%n&quot;, key, map.get(key));\r\n        }\r\n    }\r\n}\r\n```","title":"Stream group incoming sort events","body":"<p>I've come up with this solution assuming that for each device there cannot be multiple measurements with same timestamp and value.</p>\n<p>I understand that this could be a limit, but since I cannot see any ways of sorting a subset collected with a Collectors, I've decided to use a TreeSet to store the grouped measurements so that they will be sorted according to their natural ordering.</p>\n<pre><code>class Event {\n    private String device;\n    private String description;\n    private String serialnumber;\n    private Measurement measurement;\n\n    public Event(String device, String description, String serialnumber, Measurement measurement) {\n        this.device = device;\n        this.description = description;\n        this.serialnumber = serialnumber;\n        this.measurement = measurement;\n    }\n\n    //... getters and setters ...\n}\n\nclass Measurement implements Comparable&lt;Measurement&gt; {\n    private LocalDateTime timestamp;\n    private int value;\n\n    public Measurement(LocalDateTime timestamp, int value) {\n        this.timestamp = timestamp;\n        this.value = value;\n    }\n\n    //... getters and setters ...\n\n    //Redefinition of the natural ordering by timestamp and value\n\n    @Override\n    public int compareTo(Measurement m) {\n        Comparator&lt;Measurement&gt; cmp = Comparator.comparing(Measurement::getTimestamp).thenComparing(Measurement::getValue);\n        return cmp.compare(this, m);\n    }\n\n    public String toString(){\n        return String.format(&quot;%s - %d&quot;, timestamp, value);\n    }\n}\n\npublic class Test {\n\n    public static void main(String[] args) {\n        List&lt;Event&gt; dataSource = new ArrayList&lt;&gt;(List.of(\n                new Event(&quot;device_1&quot;, &quot;first device&quot;, &quot;1&quot;, new Measurement(LocalDateTime.parse(&quot;2022-04-23T18:20:22&quot;), 180)),\n                new Event(&quot;device_2&quot;, &quot;second device&quot;, &quot;2&quot;, new Measurement(LocalDateTime.parse(&quot;2022-04-23T18:20:28&quot;), 120)),\n                new Event(&quot;device_2&quot;, &quot;second device&quot;, &quot;2&quot;, new Measurement(LocalDateTime.parse(&quot;2022-04-23T18:20:20&quot;), 160)),\n                new Event(&quot;device_1&quot;, &quot;first device&quot;, &quot;1&quot;, new Measurement(LocalDateTime.parse(&quot;2022-04-23T18:20:22&quot;), 170))));\n\n        Map&lt;String, TreeSet&lt;Measurement&gt;&gt; map = dataSource.stream()\n                .collect(Collectors.groupingBy(Event::getDevice, Collectors.mapping(Event::getMeasurement, Collectors.toCollection(TreeSet::new))));\n\n        for (String key: map.keySet()){\n            System.out.printf(&quot;%s =&gt; %s%n&quot;, key, map.get(key));\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"anon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":71980380,"answer_count":2,"score":1,"last_activity_date":1650815504,"creation_date":1650716685,"question_id":71979584,"body_markdown":"I have a series of events, each event contains a timestamp, device, serialnumber, and measurement.\r\n\r\n``` lang-java\r\nclass Event {\r\n    private String device;\r\n    private String description;\r\n    private String serialnumber;\r\n    private Measurement measurement;\r\n}\r\n\r\nclass Measurement {\r\n    private LocalDateTime timestamp;\r\n    private int value;\r\n}\r\n```\r\n\r\nI have a stream of these events, and I would like to aggregate them into a simpler structure, dropping the serial number, then group them by device, and then sorting the measurements by timestamp and value. \r\n\r\n```\r\n{device: &quot;device_1&quot;, description: &quot;first device&quot;, serialnumber: &quot;1&quot;, measurement: { timestamp: 2022-04-23T18:20:22Z, value: 180}}\r\n{device: &quot;device_2&quot;, description: &quot;second device&quot;, serialnumber: &quot;2&quot;, measurement: { timestamp: 2022-04-23T18:20:28Z, value: 120}}\r\n{device: &quot;device_2&quot;, description: &quot;second device&quot;, serialnumber: &quot;2&quot;, measurement: { timestamp: 2022-04-23T18:20:20Z, value: 160}}\r\n{device: &quot;device_1&quot;, description: &quot;first device&quot;, serialnumber: &quot;1&quot;, measurement: { timestamp: 2022-04-23T18:20:22Z, value: 170}}\r\n```\r\n\r\n```\r\n[\r\n    {\r\n        device: &quot;device_1&quot;,\r\n        description: &quot;first device&quot;,\r\n        measurements: [\r\n            { timestamp: 2022-04-23T18:20:22Z, value: 170},\r\n            { timestamp: 2022-04-23T18:20:22Z, value: 180}\r\n        ]\r\n    },\r\n    {\r\n        device: &quot;device_2&quot;,\r\n        description: &quot;second device&quot;,\r\n        measurements: [\r\n            { timestamp: 2022-04-23T18:20:20Z, value: 160},\r\n            { timestamp: 2022-04-23T18:20:28Z, value: 120}\r\n        ]\r\n    }\r\n]\r\n```\r\n\r\nI&#39;ve managed to get the required format by creating a &quot;builder&quot; class in which you can insert events that get then processed and added to the data members in the correct format/order.\r\nHowever, I think it would be nicer to somehow achieve this on the fly without another extra class, but using the `groupingBy` and `toMap` (and other?) stream methods.","title":"Stream group incoming sort events","body":"<p>I have a series of events, each event contains a timestamp, device, serialnumber, and measurement.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Event {\n    private String device;\n    private String description;\n    private String serialnumber;\n    private Measurement measurement;\n}\n\nclass Measurement {\n    private LocalDateTime timestamp;\n    private int value;\n}\n</code></pre>\n<p>I have a stream of these events, and I would like to aggregate them into a simpler structure, dropping the serial number, then group them by device, and then sorting the measurements by timestamp and value.</p>\n<pre><code>{device: &quot;device_1&quot;, description: &quot;first device&quot;, serialnumber: &quot;1&quot;, measurement: { timestamp: 2022-04-23T18:20:22Z, value: 180}}\n{device: &quot;device_2&quot;, description: &quot;second device&quot;, serialnumber: &quot;2&quot;, measurement: { timestamp: 2022-04-23T18:20:28Z, value: 120}}\n{device: &quot;device_2&quot;, description: &quot;second device&quot;, serialnumber: &quot;2&quot;, measurement: { timestamp: 2022-04-23T18:20:20Z, value: 160}}\n{device: &quot;device_1&quot;, description: &quot;first device&quot;, serialnumber: &quot;1&quot;, measurement: { timestamp: 2022-04-23T18:20:22Z, value: 170}}\n</code></pre>\n<pre><code>[\n    {\n        device: &quot;device_1&quot;,\n        description: &quot;first device&quot;,\n        measurements: [\n            { timestamp: 2022-04-23T18:20:22Z, value: 170},\n            { timestamp: 2022-04-23T18:20:22Z, value: 180}\n        ]\n    },\n    {\n        device: &quot;device_2&quot;,\n        description: &quot;second device&quot;,\n        measurements: [\n            { timestamp: 2022-04-23T18:20:20Z, value: 160},\n            { timestamp: 2022-04-23T18:20:28Z, value: 120}\n        ]\n    }\n]\n</code></pre>\n<p>I've managed to get the required format by creating a &quot;builder&quot; class in which you can insert events that get then processed and added to the data members in the correct format/order.\nHowever, I think it would be nicer to somehow achieve this on the fly without another extra class, but using the <code>groupingBy</code> and <code>toMap</code> (and other?) stream methods.</p>\n"},{"tags":["java","android","android-recyclerview","sharedpreferences"],"comments":[{"owner":{"account_id":1281728,"reputation":73126,"user_id":1235698,"accept_rate":100,"display_name":"Marcin Orlowski"},"score":1,"creation_date":1650799104,"post_id":71987856,"comment_id":127202970,"body_markdown":"Just pass these values to the adapter i.e. constructor argument (of if you must, pass the instance of SharedPref class).","body":"Just pass these values to the adapter i.e. constructor argument (of if you must, pass the instance of SharedPref class)."},{"owner":{"account_id":18077388,"reputation":35,"user_id":13140259,"display_name":"Tahmid"},"score":0,"creation_date":1650800995,"post_id":71987856,"comment_id":127203306,"body_markdown":"@MarcinOrlowski-- I have no idea, how to pass in Adapter. plz can you help me?","body":"@MarcinOrlowski-- I have no idea, how to pass in Adapter. plz can you help me?"}],"answers":[{"tags":[],"owner":{"account_id":19355220,"reputation":725,"user_id":14151698,"display_name":"Manjeet deswal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650815502,"creation_date":1650801342,"answer_id":71988135,"question_id":71987856,"body_markdown":"* You can pass values in constructor like this \r\n\r\n   \r\n\r\n        Context context;\r\n        List&lt;NameModel&gt; nameItemList;\r\n        Float prepsValue;\r\n    \r\n        public NameAdapter(@NonNull Context context, List&lt;NameModel&gt; nameItemList,Float prepsValue) {\r\n            this.context = context;\r\n            this.nameItemList = nameItemList;\r\n            this.prepsValue =prepsValue;\r\n        }","title":"How to get SharedPreferences float value in RecyclerView Adapter?","body":"<ul>\n<li><p>You can pass values in constructor like this</p>\n<pre><code>  Context context;\n  List&lt;NameModel&gt; nameItemList;\n  Float prepsValue;\n\n  public NameAdapter(@NonNull Context context, List&lt;NameModel&gt; nameItemList,Float prepsValue) {\n      this.context = context;\n      this.nameItemList = nameItemList;\n      this.prepsValue =prepsValue;\n  }\n</code></pre>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":399044,"reputation":493,"user_id":764131,"display_name":"KaHa6uc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650805769,"creation_date":1650805769,"answer_id":71988730,"question_id":71987856,"body_markdown":"I&#39;d suggest you create a separate class for the SharedPrefs communication that you can call statically, like:\r\n\r\n```java\r\npublic class Preferences {\r\n\r\n\tpublic static void put( Context context, String key, boolean value ) {\r\n\t\tPreferenceManager.getDefaultSharedPreferences( context ).edit().putBoolean( key, value ).apply();\r\n\t}\r\n\r\n\tpublic static void put( Context context, String key, int value ) {\r\n\t\tPreferenceManager.getDefaultSharedPreferences( context ).edit().putInt( key, value ).apply();\r\n\t}\r\n\r\n\tpublic static void put( Context context, String key, long value ) {\r\n\t\tPreferenceManager.getDefaultSharedPreferences( context ).edit().putLong( key, value ).apply();\r\n\t}\r\n\r\n\tpublic static void put( Context context, String key, float value ) {\r\n\t\tPreferenceManager.getDefaultSharedPreferences( context ).edit().putFloat( key, value ).apply();\r\n\t}\r\n\r\n\tpublic static void put( Context context, String key, String value ) {\r\n\t\tPreferenceManager.getDefaultSharedPreferences( context ).edit().putString( key, value ).apply();\r\n\t}\r\n\r\n\tpublic static String getString( Context context, String key ) {\r\n\t\treturn getString( context, key, &quot;&quot; );\r\n\t}\r\n\r\n\tpublic static String getString( Context context, String key, String fallback ) {\r\n\t\ttry {\r\n\t\t\treturn PreferenceManager.getDefaultSharedPreferences( context ).getString( key, fallback );\r\n\t\t} catch( Exception ignored ) {\r\n\t\t\treturn fallback;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static boolean getBoolean( Context context, String key, boolean fallback ) {\r\n\t\ttry {\r\n\t\t\treturn PreferenceManager.getDefaultSharedPreferences( context ).getBoolean( key, fallback );\r\n\t\t} catch( Exception ignored ) {\r\n\t\t\treturn fallback;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static int getInt( Context context, String key, int fallback ) {\r\n\t\ttry {\r\n\t\t\treturn PreferenceManager.getDefaultSharedPreferences( context ).getInt( key, fallback );\r\n\t\t} catch( Exception ignored ) {\r\n\t\t\treturn fallback;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static long getLong( Context context, String key, long fallback ) {\r\n\t\ttry {\r\n\t\t\treturn PreferenceManager.getDefaultSharedPreferences( context ).getLong( key, fallback );\r\n\t\t} catch( Exception ignored ) {\r\n\t\t\treturn fallback;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static float getFloat( Context context, String key, float fallback ) {\r\n\t\ttry {\r\n\t\t\treturn PreferenceManager.getDefaultSharedPreferences( context ).getFloat( key, fallback );\r\n\t\t} catch( Exception ignored ) {\r\n\t\t\treturn fallback;\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\nThen from your preferences activity do a\r\n```java\r\n\tPreferences.put( getApplicationContext(), &quot;TextSize&quot;, aFloat );\r\n```\r\nand since you keep the `Context` in your `RecyclerView`, get the `TextSize` from anywhere like\r\n```java\r\n\tholder.name.setTextSize( Preferences.getFloat( context, &quot;TextSize&quot;, defaultValue );\r\n```","title":"How to get SharedPreferences float value in RecyclerView Adapter?","body":"<p>I'd suggest you create a separate class for the SharedPrefs communication that you can call statically, like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Preferences {\n\n    public static void put( Context context, String key, boolean value ) {\n        PreferenceManager.getDefaultSharedPreferences( context ).edit().putBoolean( key, value ).apply();\n    }\n\n    public static void put( Context context, String key, int value ) {\n        PreferenceManager.getDefaultSharedPreferences( context ).edit().putInt( key, value ).apply();\n    }\n\n    public static void put( Context context, String key, long value ) {\n        PreferenceManager.getDefaultSharedPreferences( context ).edit().putLong( key, value ).apply();\n    }\n\n    public static void put( Context context, String key, float value ) {\n        PreferenceManager.getDefaultSharedPreferences( context ).edit().putFloat( key, value ).apply();\n    }\n\n    public static void put( Context context, String key, String value ) {\n        PreferenceManager.getDefaultSharedPreferences( context ).edit().putString( key, value ).apply();\n    }\n\n    public static String getString( Context context, String key ) {\n        return getString( context, key, &quot;&quot; );\n    }\n\n    public static String getString( Context context, String key, String fallback ) {\n        try {\n            return PreferenceManager.getDefaultSharedPreferences( context ).getString( key, fallback );\n        } catch( Exception ignored ) {\n            return fallback;\n        }\n    }\n\n    public static boolean getBoolean( Context context, String key, boolean fallback ) {\n        try {\n            return PreferenceManager.getDefaultSharedPreferences( context ).getBoolean( key, fallback );\n        } catch( Exception ignored ) {\n            return fallback;\n        }\n    }\n\n    public static int getInt( Context context, String key, int fallback ) {\n        try {\n            return PreferenceManager.getDefaultSharedPreferences( context ).getInt( key, fallback );\n        } catch( Exception ignored ) {\n            return fallback;\n        }\n    }\n\n    public static long getLong( Context context, String key, long fallback ) {\n        try {\n            return PreferenceManager.getDefaultSharedPreferences( context ).getLong( key, fallback );\n        } catch( Exception ignored ) {\n            return fallback;\n        }\n    }\n\n    public static float getFloat( Context context, String key, float fallback ) {\n        try {\n            return PreferenceManager.getDefaultSharedPreferences( context ).getFloat( key, fallback );\n        } catch( Exception ignored ) {\n            return fallback;\n        }\n    }\n\n}\n</code></pre>\n<p>Then from your preferences activity do a</p>\n<pre class=\"lang-java prettyprint-override\"><code>    Preferences.put( getApplicationContext(), &quot;TextSize&quot;, aFloat );\n</code></pre>\n<p>and since you keep the <code>Context</code> in your <code>RecyclerView</code>, get the <code>TextSize</code> from anywhere like</p>\n<pre class=\"lang-java prettyprint-override\"><code>    holder.name.setTextSize( Preferences.getFloat( context, &quot;TextSize&quot;, defaultValue );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650813384,"creation_date":1650813384,"answer_id":71989750,"question_id":71987856,"body_markdown":"To get the value from the `SharedPreferences`, you need context. As @Manjeet suggested, you can use the constructor. But, in the `onBindViewHolder`, you get context from `itemView.getContext()`. Then it will work","title":"How to get SharedPreferences float value in RecyclerView Adapter?","body":"<p>To get the value from the <code>SharedPreferences</code>, you need context. As @Manjeet suggested, you can use the constructor. But, in the <code>onBindViewHolder</code>, you get context from <code>itemView.getContext()</code>. Then it will work</p>\n"}],"owner":{"account_id":18077388,"reputation":35,"user_id":13140259,"display_name":"Tahmid"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71988135,"answer_count":3,"score":0,"last_activity_date":1650815502,"creation_date":1650798931,"question_id":71987856,"body_markdown":"I am using this SharedPref Class for saving and retrieving value from it. Here I created setTextSize &amp; getTextSize methods.\r\n\r\n**SharedPref.java**\r\n```\r\n\r\npublic class SharedPref {\r\n            SharedPreferences mySharedPref;\r\n            float aFloat = 18.0f;\r\n\r\n    // this method will save the text size\r\n    public void setTextSize(float tSize) {\r\n        SharedPreferences.Editor editor = mySharedPref.edit();\r\n        editor.putFloat(&quot;TextSize&quot;,tSize);\r\n        editor.apply();\r\n    }\r\n    \r\n    // this method will get the text size\r\n    public float getTextSize (){\r\n        return mySharedPref.getFloat(&quot;TextSize&quot;,aFloat);\r\n    }\r\n}\r\n\r\n```\r\nNow I want to call getTextSize method in RecyclerView Adapter for set text size.\r\n\r\n**NameAdapter.java**\r\n\r\n```\r\npublic class NameAdapter extends RecyclerView.Adapter&lt;NameAdapter.NameViewHolder&gt; implements Filterable {\r\n\r\n    Context context;\r\n    List&lt;NameModel&gt; nameItemList;\r\n\r\n    public NameAdapter(@NonNull Context context, List&lt;NameModel&gt; nameItemList) {\r\n        this.context = context;\r\n        this.nameItemList = nameItemList;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public NameViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.name_item,parent, false );\r\n        return new NameViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull NameViewHolder holder, int position) {\r\n\r\n        holder.name.setText(nameItemList.get(position).getName());\r\n        holder.meaning.setText(nameItemList.get(position).getMeaning());\r\n\r\n        // here I want to use setTextSize method from SharedPref\r\n        holder.name.setTextSize(getTextSize);\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return nameItemList.size();\r\n    }\r\n\r\n      public class NameViewHolder extends RecyclerView.ViewHolder{\r\n\r\n        TextView name,meaning;\r\n\r\n        public NameViewHolder(View itemView) {\r\n            super(itemView);\r\n            name = (TextView) itemView.findViewById(R.id.tvName);\r\n            meaning = (TextView) itemView.findViewById(R.id.tvMeaning);\r\n\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n**Please help. Thanks in advance.**","title":"How to get SharedPreferences float value in RecyclerView Adapter?","body":"<p>I am using this SharedPref Class for saving and retrieving value from it. Here I created setTextSize &amp; getTextSize methods.</p>\n<p><strong>SharedPref.java</strong></p>\n<pre><code>\npublic class SharedPref {\n            SharedPreferences mySharedPref;\n            float aFloat = 18.0f;\n\n    // this method will save the text size\n    public void setTextSize(float tSize) {\n        SharedPreferences.Editor editor = mySharedPref.edit();\n        editor.putFloat(&quot;TextSize&quot;,tSize);\n        editor.apply();\n    }\n    \n    // this method will get the text size\n    public float getTextSize (){\n        return mySharedPref.getFloat(&quot;TextSize&quot;,aFloat);\n    }\n}\n\n</code></pre>\n<p>Now I want to call getTextSize method in RecyclerView Adapter for set text size.</p>\n<p><strong>NameAdapter.java</strong></p>\n<pre><code>public class NameAdapter extends RecyclerView.Adapter&lt;NameAdapter.NameViewHolder&gt; implements Filterable {\n\n    Context context;\n    List&lt;NameModel&gt; nameItemList;\n\n    public NameAdapter(@NonNull Context context, List&lt;NameModel&gt; nameItemList) {\n        this.context = context;\n        this.nameItemList = nameItemList;\n    }\n\n    @NonNull\n    @Override\n    public NameViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.name_item,parent, false );\n        return new NameViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull NameViewHolder holder, int position) {\n\n        holder.name.setText(nameItemList.get(position).getName());\n        holder.meaning.setText(nameItemList.get(position).getMeaning());\n\n        // here I want to use setTextSize method from SharedPref\n        holder.name.setTextSize(getTextSize);\n    }\n\n    @Override\n    public int getItemCount() {\n        return nameItemList.size();\n    }\n\n      public class NameViewHolder extends RecyclerView.ViewHolder{\n\n        TextView name,meaning;\n\n        public NameViewHolder(View itemView) {\n            super(itemView);\n            name = (TextView) itemView.findViewById(R.id.tvName);\n            meaning = (TextView) itemView.findViewById(R.id.tvMeaning);\n\n        }\n    }\n\n}\n\n</code></pre>\n<p><strong>Please help. Thanks in advance.</strong></p>\n"},{"tags":["java","string","encoding","hex","ascii"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":2,"creation_date":1650739449,"post_id":71982527,"comment_id":127194307,"body_markdown":"Related: [How to do URL decoding in Java?](https://stackoverflow.com/questions/6138127/how-to-do-url-decoding-in-java)","body":"Related: <a href=\"https://stackoverflow.com/questions/6138127/how-to-do-url-decoding-in-java\">How to do URL decoding in Java?</a>"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1650742408,"post_id":71982527,"comment_id":127194948,"body_markdown":"Actually the comma should be URL encoded too (`%2C`) AFAIK, older browsers did not do that. I wonder whether in the original path the non-breaking space actually occurred (`\\u00A0`)? That seems likely as names often are treated a bit special, like breaking a full name on the normal space.","body":"Actually the comma should be URL encoded too (<code>%2C</code>) AFAIK, older browsers did not do that. I wonder whether in the original path the non-breaking space actually occurred (<code>\\u00A0</code>)? That seems likely as names often are treated a bit special, like breaking a full name on the normal space."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1650780226,"post_id":71982527,"comment_id":127199702,"body_markdown":"I don’t understand the problem.  Those URIs are correct.  The space character is **not allowed** to appear in a URI.  It must be percent-encoded.  By definition, a URI is not the same as a file path, even though a URI might represent a file path.","body":"I don’t understand the problem.  Those URIs are correct.  The space character is <b>not allowed</b> to appear in a URI.  It must be percent-encoded.  By definition, a URI is not the same as a file path, even though a URI might represent a file path."},{"owner":{"account_id":2901686,"reputation":30,"user_id":2488184,"display_name":"user2488184"},"score":0,"creation_date":1650781869,"post_id":71982527,"comment_id":127199946,"body_markdown":"The link @andrewJames posted helped... it wasn&#39;t the solution tho so I&#39;ll post the solution.","body":"The link @andrewJames posted helped... it wasn&#39;t the solution tho so I&#39;ll post the solution."},{"owner":{"account_id":2901686,"reputation":30,"user_id":2488184,"display_name":"user2488184"},"score":0,"creation_date":1650783802,"post_id":71982527,"comment_id":127200233,"body_markdown":"@VGR the problem was that one of the spaces in the URI was a non breaking space (%C2%A0) which was only exposed once the URI had been encoded. This non breaking space was preventing the File exists() method from locating the folder represented by the URI","body":"@VGR the problem was that one of the spaces in the URI was a non breaking space (%C2%A0) which was only exposed once the URI had been encoded. This non breaking space was preventing the File exists() method from locating the folder represented by the URI"},{"owner":{"account_id":953310,"reputation":6267,"user_id":979052,"accept_rate":97,"display_name":"Alicia Sykes"},"score":0,"creation_date":1650813181,"post_id":71982527,"comment_id":127205880,"body_markdown":"Does this answer your question? [How to do URL decoding in Java?](https://stackoverflow.com/questions/6138127/how-to-do-url-decoding-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/6138127/how-to-do-url-decoding-in-java\">How to do URL decoding in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":22793114,"reputation":11,"user_id":16947110,"display_name":"Andrew Wood"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650740552,"creation_date":1650740552,"answer_id":71982797,"question_id":71982527,"body_markdown":"There may be a quicker solution that didn&#39;t come to my head immediately but the first thing that comes to my mind is creating an array of the special characters, and then looping through the array to remove every one of them, like such:\r\n```\r\nString[] specialChars = {&quot;!&quot;,&quot;@&quot;,&quot;#&quot;,&quot;$&quot;,&quot;%&quot;,&quot;^&quot;,&quot;&amp;&quot;,&quot;*&quot;,&quot;(&quot;,&quot;}&quot;};\r\nfor (String special : specialChars) {\r\n    original.repalceAll(special, &quot;&quot;); // original is your original string\r\n}\r\n```\r\nThe reason the array is of strings and not chars is that using chars would require you to replace special characters with a space, which may or may not be what you want.","title":"In Java, how to expose and remove non breaking characters from uri","body":"<p>There may be a quicker solution that didn't come to my head immediately but the first thing that comes to my mind is creating an array of the special characters, and then looping through the array to remove every one of them, like such:</p>\n<pre><code>String[] specialChars = {&quot;!&quot;,&quot;@&quot;,&quot;#&quot;,&quot;$&quot;,&quot;%&quot;,&quot;^&quot;,&quot;&amp;&quot;,&quot;*&quot;,&quot;(&quot;,&quot;}&quot;};\nfor (String special : specialChars) {\n    original.repalceAll(special, &quot;&quot;); // original is your original string\n}\n</code></pre>\n<p>The reason the array is of strings and not chars is that using chars would require you to replace special characters with a space, which may or may not be what you want.</p>\n"},{"tags":[],"owner":{"account_id":2901686,"reputation":30,"user_id":2488184,"display_name":"user2488184"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650813343,"creation_date":1650782826,"answer_id":71986126,"question_id":71982527,"body_markdown":"So, after further examination, the only issue in the uri&#39;s were the no break spaces (%C2%A0) so I just needed to remove those from the uri&#39;s. Thanks to @andrewjames for linking to a question that showed how to expose the special characters which was a critical part of the solution. Here&#39;s the solution I came up with. \r\n\r\nSo, first I passed the uri into a cleanString() method to remove the special characters. The uri, when passed in, had the following format:\r\n\r\n&gt; \\\\\\mycpu\\go now\\Harden, James  Jr. &amp; Allen\\2021\r\n\r\n \r\nThen I encoded the URI into UTF-8 which exposed the underlying special characters. After being encoded, the **encodedUri** had the following format:\r\n\r\n&gt; %5C%5Cmycpu%5Cgo+now%5CHarden%2C+James%C2%A0+Jr.+%26+Rene%5C2021\r\n\r\n\r\nThen I ran a String replace on the encoded URI to replace the substring of no break characters (%C2%A0) with a plus sign (which is a space in UTF-8) and stored the result in the **cleanedUri** variable which then had the following format:\r\n\r\n&gt; %5C%5Cmycpu%5Cgo+now%5CHarden%2C+James++Jr.+%26+Rene%5C2021\r\n\r\n\r\nLastly, I then decoded the **cleanedUri** back into the standard user-friendly URI format that we&#39;re all used to seeing which looked like this again (which appears exactly as it did initially except that the underlying no break space which made up one of the spaces has been replaced with a basic UTF-8 space). \r\n\r\n&gt;  \\\\\\mycpu\\go now\\Harden, James  Jr. &amp; Allen\\2021\r\n\r\n\r\nThis did the trick handsomely! Thank you all for your help! Each comment illuminated my path a bit more (see code below).\r\n\r\n\r\n\r\n    private String cleanString(String uri){\r\n            try {\r\n                String encodedUri = URLEncoder.encode(uri, StandardCharsets.UTF_8.name());\r\n                String cleanedUri = encodedUri.replace(&quot;%C2%A0&quot;, &quot;+&quot;);\r\n                return URLDecoder.decode(cleanedUri, StandardCharsets.UTF_8.name());\r\n            } catch (UnsupportedEncodingException ex) {\r\n                Logger.getLogger(ParseCSVFileImpl.class.getName()).log(Level.SEVERE, null, ex);\r\n                return uri;\r\n            }\r\n        }","title":"In Java, how to expose and remove non breaking characters from uri","body":"<p>So, after further examination, the only issue in the uri's were the no break spaces (%C2%A0) so I just needed to remove those from the uri's. Thanks to @andrewjames for linking to a question that showed how to expose the special characters which was a critical part of the solution. Here's the solution I came up with.</p>\n<p>So, first I passed the uri into a cleanString() method to remove the special characters. The uri, when passed in, had the following format:</p>\n<blockquote>\n<p>\\\\mycpu\\go now\\Harden, James  Jr. &amp; Allen\\2021</p>\n</blockquote>\n<p>Then I encoded the URI into UTF-8 which exposed the underlying special characters. After being encoded, the <strong>encodedUri</strong> had the following format:</p>\n<blockquote>\n<p>%5C%5Cmycpu%5Cgo+now%5CHarden%2C+James%C2%A0+Jr.+%26+Rene%5C2021</p>\n</blockquote>\n<p>Then I ran a String replace on the encoded URI to replace the substring of no break characters (%C2%A0) with a plus sign (which is a space in UTF-8) and stored the result in the <strong>cleanedUri</strong> variable which then had the following format:</p>\n<blockquote>\n<p>%5C%5Cmycpu%5Cgo+now%5CHarden%2C+James++Jr.+%26+Rene%5C2021</p>\n</blockquote>\n<p>Lastly, I then decoded the <strong>cleanedUri</strong> back into the standard user-friendly URI format that we're all used to seeing which looked like this again (which appears exactly as it did initially except that the underlying no break space which made up one of the spaces has been replaced with a basic UTF-8 space).</p>\n<blockquote>\n<p>\\\\mycpu\\go now\\Harden, James  Jr. &amp; Allen\\2021</p>\n</blockquote>\n<p>This did the trick handsomely! Thank you all for your help! Each comment illuminated my path a bit more (see code below).</p>\n<pre><code>private String cleanString(String uri){\n        try {\n            String encodedUri = URLEncoder.encode(uri, StandardCharsets.UTF_8.name());\n            String cleanedUri = encodedUri.replace(&quot;%C2%A0&quot;, &quot;+&quot;);\n            return URLDecoder.decode(cleanedUri, StandardCharsets.UTF_8.name());\n        } catch (UnsupportedEncodingException ex) {\n            Logger.getLogger(ParseCSVFileImpl.class.getName()).log(Level.SEVERE, null, ex);\n            return uri;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":2901686,"reputation":30,"user_id":2488184,"display_name":"user2488184"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":217,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1650813181,"answer_count":2,"score":-1,"last_activity_date":1650815193,"creation_date":1650738299,"question_id":71982527,"body_markdown":"I&#39;m writing code that loops through a list of folder uri&#39;s and checks to make sure the folder actually exists on the file system. For folders that don&#39;t exist, the code will output the uri of the folder onto a webpage. \r\n\r\nSo, to the issue. The issue that I&#39;m having is that some of the uri&#39;s of folders that are being output onto the webpage actually exist. For example, if I copy the uri from the webpage and paste it into File Explorer it locates the folder. \r\n\r\nWhile investigating the issue, I put a breakpoint in the code and grabbed the suspect uri from the code and pasted it into the File Explorer and it couldn&#39;t find the folder. So when copying the uri from the webpage, File Explorer finds the folder but when copying the exact same uri from a watch variable in the code, File Explorer cannot find the folder. Below you&#39;ll find the uri&#39;s\r\n\r\n**URI of folder output onto webpage**\r\n\r\n&gt; \\\\mycpu\\go now\\Harden, James&#160; Jr. &amp; Allen\\2021\r\n\r\n\r\n**Exact same URI but grabbed from watch variable in code**\r\n\r\n&gt; \\\\mycpu\\go now\\Harden, James  Jr. &amp; Allen\\2021\r\n\r\n\r\nThey&#39;re exactly the same. But then I tried pasting each one into chrome to see what I get, and here&#39;s what I got:\r\n\r\n\r\n**URI of folder output onto webpage and pasted into Chrome**\r\n\r\n&gt; file://mycpu//go%20now//Harden,%20James%20%20Jr.%20&amp;%20Allen//2021/\r\n\r\n\r\n**Exact same URI but grabbed from watch variable in code and pasted into Chrome**\r\n\r\n&gt; file://mycpu//go%20now//Harden,%20James%C2%A0%20Jr.%20&amp;%20Allen//2021/\r\n\r\n\r\nSo, as you can see above, the URI from the watch variable contains some non-breaking characters after the name James. What is the best way, in the code, to expose this underlying encoding so that the non breaking spaces can be removed?\r\n","title":"In Java, how to expose and remove non breaking characters from uri","body":"<p>I'm writing code that loops through a list of folder uri's and checks to make sure the folder actually exists on the file system. For folders that don't exist, the code will output the uri of the folder onto a webpage.</p>\n<p>So, to the issue. The issue that I'm having is that some of the uri's of folders that are being output onto the webpage actually exist. For example, if I copy the uri from the webpage and paste it into File Explorer it locates the folder.</p>\n<p>While investigating the issue, I put a breakpoint in the code and grabbed the suspect uri from the code and pasted it into the File Explorer and it couldn't find the folder. So when copying the uri from the webpage, File Explorer finds the folder but when copying the exact same uri from a watch variable in the code, File Explorer cannot find the folder. Below you'll find the uri's</p>\n<p><strong>URI of folder output onto webpage</strong></p>\n<blockquote>\n<p>\\mycpu\\go now\\Harden, James  Jr. &amp; Allen\\2021</p>\n</blockquote>\n<p><strong>Exact same URI but grabbed from watch variable in code</strong></p>\n<blockquote>\n<p>\\mycpu\\go now\\Harden, James  Jr. &amp; Allen\\2021</p>\n</blockquote>\n<p>They're exactly the same. But then I tried pasting each one into chrome to see what I get, and here's what I got:</p>\n<p><strong>URI of folder output onto webpage and pasted into Chrome</strong></p>\n<blockquote>\n<p>file://mycpu//go%20now//Harden,%20James%20%20Jr.%20&amp;%20Allen//2021/</p>\n</blockquote>\n<p><strong>Exact same URI but grabbed from watch variable in code and pasted into Chrome</strong></p>\n<blockquote>\n<p>file://mycpu//go%20now//Harden,%20James%C2%A0%20Jr.%20&amp;%20Allen//2021/</p>\n</blockquote>\n<p>So, as you can see above, the URI from the watch variable contains some non-breaking characters after the name James. What is the best way, in the code, to expose this underlying encoding so that the non breaking spaces can be removed?</p>\n"},{"tags":["java","spring-boot","spring-mvc","mockito","junit5"],"comments":[{"owner":{"account_id":19635311,"reputation":1574,"user_id":14372685,"display_name":"tbjorch"},"score":1,"creation_date":1650809720,"post_id":71989241,"comment_id":127205162,"body_markdown":"What&#39;s the complete error message?","body":"What&#39;s the complete error message?"},{"owner":{"account_id":23716566,"reputation":3,"user_id":17737620,"display_name":"emre topcu"},"score":0,"creation_date":1650813024,"post_id":71989241,"comment_id":127205848,"body_markdown":"Sorry for being late. I added it to the question","body":"Sorry for being late. I added it to the question"}],"answers":[{"tags":[],"owner":{"account_id":7181840,"reputation":1565,"user_id":5485454,"display_name":"Kai-Sheng Yang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650814999,"creation_date":1650814999,"answer_id":71989972,"question_id":71989241,"body_markdown":"The reason is that you made a post request with `json of customer` to your Controller, not a real `customer`. So the `when...then` statement doesn&#39;t work correctly.\r\n\r\nPlease replace \r\n\r\n`when(customerRepository.addCustomer(customer)).thenReturn(customer);`\r\n\r\nto\r\n\r\n`when(customerRepository.addCustomer(any())).thenReturn(customer);`\r\n","title":"Java Spring Boot POST method unit test returns 400 instead of 201","body":"<p>The reason is that you made a post request with <code>json of customer</code> to your Controller, not a real <code>customer</code>. So the <code>when...then</code> statement doesn't work correctly.</p>\n<p>Please replace</p>\n<p><code>when(customerRepository.addCustomer(customer)).thenReturn(customer);</code></p>\n<p>to</p>\n<p><code>when(customerRepository.addCustomer(any())).thenReturn(customer);</code></p>\n"}],"owner":{"account_id":23716566,"reputation":3,"user_id":17737620,"display_name":"emre topcu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71989972,"answer_count":1,"score":0,"last_activity_date":1650814999,"creation_date":1650809598,"question_id":71989241,"body_markdown":"I have a Restful Web Application, and I want to test the following class:\r\n\r\n    @RestController\r\n    public class CustomerController {\r\n\t\r\n\t@Autowired\r\n\tCustomerRepository customerRepository;\r\n\t\r\n\t@PostMapping(&quot;/customers&quot;)\r\n\tpublic ResponseEntity&lt;Object&gt; addCustomer(@Valid @RequestBody Customer customer) {\r\n\t\tCustomer newCustomer = customerRepository.addCustomer(customer);\r\n\t\tif(newCustomer == null) {\r\n\t\t\tthrow new ResourceWithDuplicateIdException(&quot;There already exists a customer with id: &quot; + customer.getId());\r\n\t\t}\r\n\t\tURI location = ServletUriComponentsBuilder.fromCurrentRequest().path(&quot;/{id}&quot;).buildAndExpand(customer.getId()).toUri();\r\n\t\treturn ResponseEntity.created(location).build();\r\n\t}\r\n\r\nMy test class is:\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    @MockitoSettings(strictness = Strictness.LENIENT)\r\n    @SpringBootTest(properties = &quot;spring.main.lazy-initialization=true&quot;, classes = \r\n    CustomerController.class)\r\n    @AutoConfigureMockMvc\r\n    @ComponentScan(&quot;com.emretopcu.shoppingwebservice&quot;)\r\n    public class CustomerControllerTests {\r\n\t\r\n\tprivate static String BASE_URL = &quot;http://localhost/&quot;;\r\n\t\r\n\t@InjectMocks\r\n\tCustomerController customerController;\r\n\t\r\n\t@MockBean\r\n\tCustomerRepository customerRepository;\r\n\t\r\n\t@Autowired\r\n\tMockMvc mvc;\r\n\t\r\n\t\r\n\t\r\n\t@Test\r\n\tpublic void testAddCustomer_CustomerDoesNotExist() throws Exception {\r\n\t\tCustomer customer = new Customer(&quot;TC0001&quot;, &quot;Some Name&quot;, &quot;Some Country&quot;);\r\n\t\t\r\n\t\twhen(customerRepository.addCustomer(customer)).thenReturn(customer);\r\n\t\t\r\n\t    ObjectMapper mapper = new ObjectMapper();\r\n\t    mapper.configure(SerializationFeature.WRAP_ROOT_VALUE, false);\r\n\t    ObjectWriter ow = mapper.writer().withDefaultPrettyPrinter();\r\n\t    String requestJson = ow.writeValueAsString(customer);\r\n\t\t\r\n\t\tmvc.perform(post(&quot;/customers&quot;)\r\n\t\t\t.contentType(MediaType.APPLICATION_JSON)\r\n\t\t\t.content(requestJson))\r\n\t\t\t.andExpect(status().isCreated());\r\n\t}\r\n}\r\n\r\nHowever, when I run the test, I get: java.lang.AssertionError: Status expected:&lt;201&gt; but was:&lt;400&gt;\r\n\r\nHere is my pom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.6&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.emretopcu&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;shopping-web-service&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;shopping-web-service&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;18&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t      \t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t      \t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t      \t&lt;version&gt;1.6.7&lt;/version&gt;\r\n\t   \t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t        &lt;exclusion&gt;\r\n\t\t            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t        &lt;/exclusion&gt;\r\n\t\t    &lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t \r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nI reviewed almost all questions related to this problem in this site, and tried any combination of objectMapper and objectWrapper but still could not pass the test. I will very appreciate if someone can help me.\r\n\r\nHere is the complete error:\r\n\r\n    java.lang.AssertionError: Status expected:&lt;201&gt; but was:&lt;400&gt;\r\n\tat org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)\r\n\tat org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)\r\n\tat org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$9(StatusResultMatchers.java:627)\r\n\tat org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)\r\n\tat com.emretopcu.shoppingwebservice.controller.CustomerControllerTests.testAddCustomer_CustomerDoesNotExist(CustomerControllerTests.java:124)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60)\r\n\tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\n\r\n","title":"Java Spring Boot POST method unit test returns 400 instead of 201","body":"<p>I have a Restful Web Application, and I want to test the following class:</p>\n<pre><code>@RestController\npublic class CustomerController {\n\n@Autowired\nCustomerRepository customerRepository;\n\n@PostMapping(&quot;/customers&quot;)\npublic ResponseEntity&lt;Object&gt; addCustomer(@Valid @RequestBody Customer customer) {\n    Customer newCustomer = customerRepository.addCustomer(customer);\n    if(newCustomer == null) {\n        throw new ResourceWithDuplicateIdException(&quot;There already exists a customer with id: &quot; + customer.getId());\n    }\n    URI location = ServletUriComponentsBuilder.fromCurrentRequest().path(&quot;/{id}&quot;).buildAndExpand(customer.getId()).toUri();\n    return ResponseEntity.created(location).build();\n}\n</code></pre>\n<p>My test class is:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\n@MockitoSettings(strictness = Strictness.LENIENT)\n@SpringBootTest(properties = &quot;spring.main.lazy-initialization=true&quot;, classes = \nCustomerController.class)\n@AutoConfigureMockMvc\n@ComponentScan(&quot;com.emretopcu.shoppingwebservice&quot;)\npublic class CustomerControllerTests {\n\nprivate static String BASE_URL = &quot;http://localhost/&quot;;\n\n@InjectMocks\nCustomerController customerController;\n\n@MockBean\nCustomerRepository customerRepository;\n\n@Autowired\nMockMvc mvc;\n\n\n\n@Test\npublic void testAddCustomer_CustomerDoesNotExist() throws Exception {\n    Customer customer = new Customer(&quot;TC0001&quot;, &quot;Some Name&quot;, &quot;Some Country&quot;);\n    \n    when(customerRepository.addCustomer(customer)).thenReturn(customer);\n    \n    ObjectMapper mapper = new ObjectMapper();\n    mapper.configure(SerializationFeature.WRAP_ROOT_VALUE, false);\n    ObjectWriter ow = mapper.writer().withDefaultPrettyPrinter();\n    String requestJson = ow.writeValueAsString(customer);\n    \n    mvc.perform(post(&quot;/customers&quot;)\n        .contentType(MediaType.APPLICATION_JSON)\n        .content(requestJson))\n        .andExpect(status().isCreated());\n}\n</code></pre>\n<p>}</p>\n<p>However, when I run the test, I get: java.lang.AssertionError: Status expected:&lt;201&gt; but was:&lt;400&gt;</p>\n<p>Here is my pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.6.6&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;com.emretopcu&lt;/groupId&gt;\n&lt;artifactId&gt;shopping-web-service&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;shopping-web-service&lt;/name&gt;\n&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;18&lt;/java.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n        &lt;version&gt;1.6.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;junit&lt;/groupId&gt;\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n     \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I reviewed almost all questions related to this problem in this site, and tried any combination of objectMapper and objectWrapper but still could not pass the test. I will very appreciate if someone can help me.</p>\n<p>Here is the complete error:</p>\n<pre><code>java.lang.AssertionError: Status expected:&lt;201&gt; but was:&lt;400&gt;\nat org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)\nat org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)\nat org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$9(StatusResultMatchers.java:627)\nat org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)\nat com.emretopcu.shoppingwebservice.controller.CustomerControllerTests.testAddCustomer_CustomerDoesNotExist(CustomerControllerTests.java:124)\nat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\nat java.base/java.lang.reflect.Method.invoke(Method.java:577)\nat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\nat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\nat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\nat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\nat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\nat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95)\nat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91)\nat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60)\nat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\nat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\n</code></pre>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1650816028,"post_id":71989970,"comment_id":127206476,"body_markdown":"`frm.add(scroll);` not `frm.add(table);`","body":"<code>frm.add(scroll);</code> not <code>frm.add(table);</code>"},{"owner":{"account_id":24820690,"reputation":21,"user_id":18701066,"display_name":"MicroDart"},"score":0,"creation_date":1650816469,"post_id":71989970,"comment_id":127206581,"body_markdown":"The whole table disappears when I do that.","body":"The whole table disappears when I do that."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1650816595,"post_id":71989970,"comment_id":127206597,"body_markdown":"Shouldn&#39;t. But I suspect you&#39;re doing something odd with layout (e.g. having a null layout). Can you please edit and post your full gui code?","body":"Shouldn&#39;t. But I suspect you&#39;re doing something odd with layout (e.g. having a null layout). Can you please edit and post your full gui code?"},{"owner":{"account_id":24820690,"reputation":21,"user_id":18701066,"display_name":"MicroDart"},"score":0,"creation_date":1650817148,"post_id":71989970,"comment_id":127206737,"body_markdown":"Yes I am eventually using a null layout for the JFrame.","body":"Yes I am eventually using a null layout for the JFrame."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1650817368,"post_id":71989970,"comment_id":127206796,"body_markdown":"Not good. That might be at the root of the problem","body":"Not good. That might be at the root of the problem"},{"owner":{"account_id":24820690,"reputation":21,"user_id":18701066,"display_name":"MicroDart"},"score":0,"creation_date":1650817584,"post_id":71989970,"comment_id":127206854,"body_markdown":"Yes, true. When I&#39;ve removed the null layout the table headers actually displayed but now the table is taking the whole JFrame. Do you know how I can modify its width and change its location on the frame?","body":"Yes, true. When I&#39;ve removed the null layout the table headers actually displayed but now the table is taking the whole JFrame. Do you know how I can modify its width and change its location on the frame?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1650817783,"post_id":71989970,"comment_id":127206913,"body_markdown":"You need to use a layout manager. I don&#39;t know what you want your gui to look like or what other components are on it. Of course, you don&#39;t need to display it in your frame at all, necessarily. You could display it in another `JDialog` or something","body":"You need to use a layout manager. I don&#39;t know what you want your gui to look like or what other components are on it. Of course, you don&#39;t need to display it in your frame at all, necessarily. You could display it in another <code>JDialog</code> or something"},{"owner":{"account_id":24820690,"reputation":21,"user_id":18701066,"display_name":"MicroDart"},"score":0,"creation_date":1650819452,"post_id":71989970,"comment_id":127207340,"body_markdown":"Actually I have some textfields, textarea and buttons on the left side of the frame (which takes my desktop) and I want to position the table at the right side of the frame without affecting the position of my other components since I&#39;ve set their position manually when I&#39;ve used the null layout.","body":"Actually I have some textfields, textarea and buttons on the left side of the frame (which takes my desktop) and I want to position the table at the right side of the frame without affecting the position of my other components since I&#39;ve set their position manually when I&#39;ve used the null layout."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1650821734,"post_id":71989970,"comment_id":127207947,"body_markdown":"Sketchy, but you could then place a panel of your controls `BorderLayout.WEST` and add the table `BorderLayout.CENTER`. Thanks for using my `DBUtils`.btw: there is a donate button on the page if you&#39;re so inclined ;) https://technojeeves.com/index.php/aliasjava1/22-resultset-to-tablemodel","body":"Sketchy, but you could then place a panel of your controls <code>BorderLayout.WEST</code> and add the table <code>BorderLayout.CENTER</code>. Thanks for using my <code>DBUtils</code>.btw: there is a donate button on the page if you&#39;re so inclined ;) <a href=\"https://technojeeves.com/index.php/aliasjava1/22-resultset-to-tablemodel\" rel=\"nofollow noreferrer\">technojeeves.com/index.php/aliasjava1/&hellip;</a>"}],"owner":{"account_id":24820690,"reputation":21,"user_id":18701066,"display_name":"MicroDart"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650814971,"creation_date":1650814971,"question_id":71989970,"body_markdown":"I wanted to display table records with their respective columns from a MySQL database.\r\n\r\nThis is what I tried to do:\r\n\r\n    (e.getSource().equals(btnClick)) {\r\n\r\n     //Table\r\n     JTable table = new JTable();\r\n     JScrollPane scroll = new JScrollPane(table);\r\n                                                \r\n    String[] columnNames = new String[] {&quot;Staff ID&quot;, &quot;Name&quot;, &quot;Email&quot;, &quot;Address&quot;, &quot;Phone&quot;,&quot;Gender&quot;};\r\n                                                \r\n    table.setBounds(500,50, 550,300); \r\n\r\n    try {\r\n                                                            \r\n      String sql = &quot;SELECT * FROM staffs&quot;;\r\n\r\n      PreparedStatement pstmt = ConnectDb.getConnection().prepareStatement(sql);\r\n      ResultSet rslt = pstmt.executeQuery();\r\n                                                                                                                      \r\n                                                            \r\n      table.setModel(net.proteanit.sql.DbUtils.resultSetToTableModel(rslt));  \r\n                                                            \r\n    } catch (Exception ex) {\r\n                                                                 \r\n     JOptionPane.showMessageDialog(null,ex,&quot;Error&quot;,JOptionPane.ERROR_MESSAGE);                                                             \r\n     frm.setVisible(true);\r\n\r\n    }\r\n    \r\n    }\r\n    \r\n      frm.add(btnClick);\r\n      frm.add(table); \r\n\r\n\r\nAs a result, its only the rows data which are shown while the table headers remain hidden.\r\n\r\nDoes anyone has a solution for this?                            ","title":"How to make JTable headers visible in JFrame?","body":"<p>I wanted to display table records with their respective columns from a MySQL database.</p>\n<p>This is what I tried to do:</p>\n<pre><code>(e.getSource().equals(btnClick)) {\n\n //Table\n JTable table = new JTable();\n JScrollPane scroll = new JScrollPane(table);\n                                            \nString[] columnNames = new String[] {&quot;Staff ID&quot;, &quot;Name&quot;, &quot;Email&quot;, &quot;Address&quot;, &quot;Phone&quot;,&quot;Gender&quot;};\n                                            \ntable.setBounds(500,50, 550,300); \n\ntry {\n                                                        \n  String sql = &quot;SELECT * FROM staffs&quot;;\n\n  PreparedStatement pstmt = ConnectDb.getConnection().prepareStatement(sql);\n  ResultSet rslt = pstmt.executeQuery();\n                                                                                                                  \n                                                        \n  table.setModel(net.proteanit.sql.DbUtils.resultSetToTableModel(rslt));  \n                                                        \n} catch (Exception ex) {\n                                                             \n JOptionPane.showMessageDialog(null,ex,&quot;Error&quot;,JOptionPane.ERROR_MESSAGE);                                                             \n frm.setVisible(true);\n\n}\n\n}\n\n  frm.add(btnClick);\n  frm.add(table); \n</code></pre>\n<p>As a result, its only the rows data which are shown while the table headers remain hidden.</p>\n<p>Does anyone has a solution for this?</p>\n"},{"tags":["java","mongodb","spring-boot"],"comments":[{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1650849235,"post_id":71989951,"comment_id":127212755,"body_markdown":"Here is a post with similar issue and a possible solution: https://www.mongodb.com/community/forums/t/exception-sending-message-mongosocketwriteexception/147517/2","body":"Here is a post with similar issue and a possible solution: <a href=\"https://www.mongodb.com/community/forums/t/exception-sending-message-mongosocketwriteexception/147517/2\" rel=\"nofollow noreferrer\">mongodb.com/community/forums/t/&hellip;</a>"}],"owner":{"account_id":25077243,"reputation":11,"user_id":18930510,"display_name":"Victor Hugo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650814839,"creation_date":1650814839,"question_id":71989951,"body_markdown":"I&#39;m having an error when using mongo with springboot, when trying to delete collections.\r\n\r\nThis error occurs intermittently, sometimes it works and sometimes it doesn&#39;t.\r\n\r\nI&#39;m usingo mongo gcp, version 4.4.13, with replica.\r\n\r\n**spring-boot version:** 2.3.1\r\n\r\n**java version:** 1.8\r\n\r\n**data.mongodb.uri:** ${mongodb.host}t2b_sale?retryWrites=true&amp;w=majority\r\n\r\n```\r\npublic void deleteLastVersion(String uuidOrganization, String uuidCampaign) {\r\n    String collectionName = getName(uuidOrganization, uuidCampaign, false);\r\n    mongoTemplate.dropCollection(collectionName);\r\n    return;\r\n}\r\n```\r\n\r\nLog error:\r\n```\r\n2022-04-23 08:40:56.269  WARN 1 --- [ntainer#5-1-C-1] org.mongodb.driver.connection            : Got socket exception on connection [connectionId{localValue:10, serverValue:198632}] to thanos-shard-00-01.h07ky.mongodb.net:27017. All connections to thanos-shard-00-01.h07ky.mongodb.net:27017 will be closed.\r\n2022-04-23 08:40:56.270  INFO 1 --- [ntainer#5-1-C-1] org.mongodb.driver.connection            : Closed connection [connectionId{localValue:10, serverValue:198632}] to thanos-shard-00-01.h07ky.mongodb.net:27017 because there was a socket exception raised by this connection.\r\norg.springframework.data.mongodb.UncategorizedMongoDbException: Exception sending message; nested exception is com.mongodb.MongoSocketWriteException: Exception sending message\r\n2022-04-23 08:40:56.272  INFO 1 --- [ngodb.net:27017] org.mongodb.driver.cluster               : Discovered replica set primary thanos-shard-00-01.h07ky.mongodb.net:27017\r\nat org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:133)\r\nat org.springframework.data.mongodb.core.MongoTemplate.potentiallyConvertRuntimeException(MongoTemplate.java:2863)\r\nat org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:568)\r\nat org.springframework.data.mongodb.core.MongoTemplate.doRemove(MongoTemplate.java:1712)\r\nat org.springframework.data.mongodb.core.MongoTemplate.remove(MongoTemplate.java:1678)\r\nat com.br.t2b.mercedeshitledengine.repository.BaseRepository.deleteLastVersion(BaseRepository.java:50)\r\nat com.br.t2b.mercedeshitledengine.repository.BaseRepository$$FastClassBySpringCGLIB$$6a40ae7c.invoke(&lt;generated&gt;)\r\nat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\nCaused by: com.mongodb.MongoSocketWriteException: Exception sending message\r\nat com.mongodb.internal.connection.InternalStreamConnection.translateWriteException(InternalStreamConnection.java:550)\r\nat com.mongodb.internal.connection.InternalStreamConnection.sendMessage(InternalStreamConnection.java:432)\r\nat com.mongodb.internal.connection.InternalStreamConnection.sendCommandMessage(InternalStreamConnection.java:272)\r\nat com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:256)\r\nat com.mongodb.internal.connection.UsageTrackingInternalConnection.sendAndReceive(UsageTrackingInternalConnection.java:99)\r\nat com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.sendAndReceive(DefaultConnectionPool.java:500)\r\n... 40 more\r\nCaused by: java.net.SocketException: Broken pipe (Write failed)\r\nat java.net.SocketOutputStream.socketWrite0(Native Method)\r\nat java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:111)\r\nat java.net.SocketOutputStream.write(SocketOutputStream.java:155)\r\nat sun.security.ssl.OutputRecord.writeBuffer(OutputRecord.java:431)\r\nat sun.security.ssl.OutputRecord.write(OutputRecord.java:417)\r\nat sun.security.ssl.SSLSocketImpl.writeRecordInternal(SSLSocketImpl.java:879)\r\nat sun.security.ssl.SSLSocketImpl.writeRecord(SSLSocketImpl.java:850)\r\nat sun.security.ssl.AppOutputStream.write(AppOutputStream.java:123)\r\nat com.mongodb.internal.connection.SocketStream.write(SocketStream.java:99)\r\nat com.mongodb.internal.connection.InternalStreamConnection.sendMessage(InternalStreamConnection.java:429)\r\n... 62 more\r\n```","title":"Intermittent erro using mongo","body":"<p>I'm having an error when using mongo with springboot, when trying to delete collections.</p>\n<p>This error occurs intermittently, sometimes it works and sometimes it doesn't.</p>\n<p>I'm usingo mongo gcp, version 4.4.13, with replica.</p>\n<p><strong>spring-boot version:</strong> 2.3.1</p>\n<p><strong>java version:</strong> 1.8</p>\n<p><strong>data.mongodb.uri:</strong> ${mongodb.host}t2b_sale?retryWrites=true&amp;w=majority</p>\n<pre><code>public void deleteLastVersion(String uuidOrganization, String uuidCampaign) {\n    String collectionName = getName(uuidOrganization, uuidCampaign, false);\n    mongoTemplate.dropCollection(collectionName);\n    return;\n}\n</code></pre>\n<p>Log error:</p>\n<pre><code>2022-04-23 08:40:56.269  WARN 1 --- [ntainer#5-1-C-1] org.mongodb.driver.connection            : Got socket exception on connection [connectionId{localValue:10, serverValue:198632}] to thanos-shard-00-01.h07ky.mongodb.net:27017. All connections to thanos-shard-00-01.h07ky.mongodb.net:27017 will be closed.\n2022-04-23 08:40:56.270  INFO 1 --- [ntainer#5-1-C-1] org.mongodb.driver.connection            : Closed connection [connectionId{localValue:10, serverValue:198632}] to thanos-shard-00-01.h07ky.mongodb.net:27017 because there was a socket exception raised by this connection.\norg.springframework.data.mongodb.UncategorizedMongoDbException: Exception sending message; nested exception is com.mongodb.MongoSocketWriteException: Exception sending message\n2022-04-23 08:40:56.272  INFO 1 --- [ngodb.net:27017] org.mongodb.driver.cluster               : Discovered replica set primary thanos-shard-00-01.h07ky.mongodb.net:27017\nat org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:133)\nat org.springframework.data.mongodb.core.MongoTemplate.potentiallyConvertRuntimeException(MongoTemplate.java:2863)\nat org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:568)\nat org.springframework.data.mongodb.core.MongoTemplate.doRemove(MongoTemplate.java:1712)\nat org.springframework.data.mongodb.core.MongoTemplate.remove(MongoTemplate.java:1678)\nat com.br.t2b.mercedeshitledengine.repository.BaseRepository.deleteLastVersion(BaseRepository.java:50)\nat com.br.t2b.mercedeshitledengine.repository.BaseRepository$$FastClassBySpringCGLIB$$6a40ae7c.invoke(&lt;generated&gt;)\nat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\nCaused by: com.mongodb.MongoSocketWriteException: Exception sending message\nat com.mongodb.internal.connection.InternalStreamConnection.translateWriteException(InternalStreamConnection.java:550)\nat com.mongodb.internal.connection.InternalStreamConnection.sendMessage(InternalStreamConnection.java:432)\nat com.mongodb.internal.connection.InternalStreamConnection.sendCommandMessage(InternalStreamConnection.java:272)\nat com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:256)\nat com.mongodb.internal.connection.UsageTrackingInternalConnection.sendAndReceive(UsageTrackingInternalConnection.java:99)\nat com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.sendAndReceive(DefaultConnectionPool.java:500)\n... 40 more\nCaused by: java.net.SocketException: Broken pipe (Write failed)\nat java.net.SocketOutputStream.socketWrite0(Native Method)\nat java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:111)\nat java.net.SocketOutputStream.write(SocketOutputStream.java:155)\nat sun.security.ssl.OutputRecord.writeBuffer(OutputRecord.java:431)\nat sun.security.ssl.OutputRecord.write(OutputRecord.java:417)\nat sun.security.ssl.SSLSocketImpl.writeRecordInternal(SSLSocketImpl.java:879)\nat sun.security.ssl.SSLSocketImpl.writeRecord(SSLSocketImpl.java:850)\nat sun.security.ssl.AppOutputStream.write(AppOutputStream.java:123)\nat com.mongodb.internal.connection.SocketStream.write(SocketStream.java:99)\nat com.mongodb.internal.connection.InternalStreamConnection.sendMessage(InternalStreamConnection.java:429)\n... 62 more\n</code></pre>\n"},{"tags":["java","linear-algebra","linear-equation"],"comments":[{"owner":{"account_id":1053202,"reputation":59956,"user_id":1056563,"accept_rate":90,"display_name":"WestCoastProjects"},"score":1,"creation_date":1650402933,"post_id":71914421,"comment_id":127106212,"body_markdown":"interesting problem, i hope to find a moment to look this coming weekend if noone gets there before me.","body":"interesting problem, i hope to find a moment to look this coming weekend if noone gets there before me."},{"owner":{"account_id":1053202,"reputation":59956,"user_id":1056563,"accept_rate":90,"display_name":"WestCoastProjects"},"score":0,"creation_date":1650814709,"post_id":71914421,"comment_id":127206199,"body_markdown":"thx for the reminder - got a moment now aand looking","body":"thx for the reminder - got a moment now aand looking"}],"owner":{"account_id":23318151,"reputation":65,"user_id":17396493,"display_name":"Amber Johnson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1650814757,"creation_date":1650299144,"question_id":71914421,"body_markdown":"I have adapted the Thomas Algorithm for solving the tridiagonal matrix problem i.e. finding the value of the vector T in the equation AT = b where A and b are known. \r\n\r\nBelow I have provided the code and the vectors I am inputting. The input is (should be correct) for the following equations:\r\n\r\n```\r\nW + 2X + 3Y + 4Z = 10\r\n\r\n8W + 9X + 6Y + Z = 13\t\r\n\r\n2X + 3Y + 5Z = 20\r\n\r\n5Z = 50\r\n```\r\n\r\n Using an online system of linear equations solver I expect the answer vector (x) to look like {0, 12.6, -18.4, 10}, however, it is returning (rounded) {-11.2, 10.6, -10, 10}.\r\n\r\nI have compared this to other solutions and the code seems the same, I cannot work out what the issue lies. \r\n\r\n\r\n```\r\ndouble[] a = {8, 2, 0, 0}; // Super diag of A\r\ndouble[] b = {1, 9, 3, 5}; // Main diag of A\r\ndouble[] c = {2, 6, 5, 0}; // Sub diag of A\r\ndouble[] d = {10, 13, 20, 50}; // Column vector b\r\n\r\npublic static double[] thomasAlgo(double[] a, double[] b, double[] c, double[] d) {\r\n  int n = d.length;\r\n  double temp;\r\n  c[0] = c[0] / b[0];\r\n  d[0] = d[0] / b[0];\r\n\r\n  for (int i = 1; i&lt;n; i++) {\r\n    temp = 1.0 / (b[i] - a[i] * c[i - 1]);\r\n    c[i] = c[i] * temp;\r\n    d[i] = (d[i] - a[i] * d[i - 1]) * temp;\r\n  }\r\n\r\n  double[] x = new double[n];\r\n  x[n - 1] = d[n - 1];\r\n\r\n  for (int i = n-2; i &gt;= 0; i--) {\r\n    x[i] = d[i] - c[i] * x[i+1];\r\n  }\r\n  return x;\r\n}\r\n```","title":"System of linear equations Thomas algorithm Java","body":"<p>I have adapted the Thomas Algorithm for solving the tridiagonal matrix problem i.e. finding the value of the vector T in the equation AT = b where A and b are known.</p>\n<p>Below I have provided the code and the vectors I am inputting. The input is (should be correct) for the following equations:</p>\n<pre><code>W + 2X + 3Y + 4Z = 10\n\n8W + 9X + 6Y + Z = 13   \n\n2X + 3Y + 5Z = 20\n\n5Z = 50\n</code></pre>\n<p>Using an online system of linear equations solver I expect the answer vector (x) to look like {0, 12.6, -18.4, 10}, however, it is returning (rounded) {-11.2, 10.6, -10, 10}.</p>\n<p>I have compared this to other solutions and the code seems the same, I cannot work out what the issue lies.</p>\n<pre><code>double[] a = {8, 2, 0, 0}; // Super diag of A\ndouble[] b = {1, 9, 3, 5}; // Main diag of A\ndouble[] c = {2, 6, 5, 0}; // Sub diag of A\ndouble[] d = {10, 13, 20, 50}; // Column vector b\n\npublic static double[] thomasAlgo(double[] a, double[] b, double[] c, double[] d) {\n  int n = d.length;\n  double temp;\n  c[0] = c[0] / b[0];\n  d[0] = d[0] / b[0];\n\n  for (int i = 1; i&lt;n; i++) {\n    temp = 1.0 / (b[i] - a[i] * c[i - 1]);\n    c[i] = c[i] * temp;\n    d[i] = (d[i] - a[i] * d[i - 1]) * temp;\n  }\n\n  double[] x = new double[n];\n  x[n - 1] = d[n - 1];\n\n  for (int i = n-2; i &gt;= 0; i--) {\n    x[i] = d[i] - c[i] * x[i+1];\n  }\n  return x;\n}\n</code></pre>\n"},{"tags":["java","variables","scope"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1650782024,"post_id":71985843,"comment_id":127199969,"body_markdown":"The `playerSalaryDouble` variable needs to be declared in a scope that contains both the `if` / `else` and the `for` loop that needs to use it.","body":"The <code>playerSalaryDouble</code> variable needs to be declared in a scope that contains both the <code>if</code> / <code>else</code> and the <code>for</code> loop that needs to use it."}],"answers":[{"tags":[],"owner":{"account_id":15191583,"reputation":551,"user_id":10962180,"display_name":"Levon Minasian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650814756,"creation_date":1650782029,"answer_id":71986051,"question_id":71985843,"body_markdown":"Out-of-scope-error happens because you **defined** variable `playerSalaryDouble` in your `else` scope. So it can be used only **inside** this `else`. But your are trying to use it inside `for` cycle, which is outside of `else` scope.\r\n\r\nIf you want your variable `playerSalaryDouble` to be used outside of `else` you should **define** it outside. For example like this\r\n\r\n```\r\n// here we define\r\ndouble playerSalaryDouble = 0;\r\nif (...) {\r\n    ...\r\n} else {\r\n    // here we initialize\r\n    playerSalaryDouble = Double.parseDouble(playerSalary);\r\n}\r\n\r\n// now you can use playerSalaryDouble here\r\n// but again, not in outer scope\r\n```","title":"access value of variable in different for/if statements","body":"<p>Out-of-scope-error happens because you <strong>defined</strong> variable <code>playerSalaryDouble</code> in your <code>else</code> scope. So it can be used only <strong>inside</strong> this <code>else</code>. But your are trying to use it inside <code>for</code> cycle, which is outside of <code>else</code> scope.</p>\n<p>If you want your variable <code>playerSalaryDouble</code> to be used outside of <code>else</code> you should <strong>define</strong> it outside. For example like this</p>\n<pre><code>// here we define\ndouble playerSalaryDouble = 0;\nif (...) {\n    ...\n} else {\n    // here we initialize\n    playerSalaryDouble = Double.parseDouble(playerSalary);\n}\n\n// now you can use playerSalaryDouble here\n// but again, not in outer scope\n</code></pre>\n"}],"owner":{"account_id":24233504,"reputation":1,"user_id":18186941,"display_name":"user18186941"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650814756,"creation_date":1650779499,"question_id":71985843,"body_markdown":"Im trying to use the playerSalaryDouble variable by using the value of the variable in the above if/else statement at the bottom in setPlayerSalary but it is showing as unresolved being out of scope, how can I get the value of the variable in this context.\r\n```if(playerSalary.isEmpty()){}\r\n                else{\r\n                    double playerSalaryDouble = Double.parseDouble(playerSalary);\r\n                }\r\n\r\n                for(int z = 0; z &lt; t.size(); z++){\r\n                    for(int c = 0; c &lt; t.get(z).getRoster().size(); c++){\r\n                        if(playerName.equals(t.get(z).getRoster().get(c).getName())){\r\n                            t.get(z).getRoster().get(c).setPlayerSalary(playerSalaryDouble);\r\n                        }\r\n                    }\r\n                }","title":"access value of variable in different for/if statements","body":"<p>Im trying to use the playerSalaryDouble variable by using the value of the variable in the above if/else statement at the bottom in setPlayerSalary but it is showing as unresolved being out of scope, how can I get the value of the variable in this context.</p>\n<pre><code>                else{\n                    double playerSalaryDouble = Double.parseDouble(playerSalary);\n                }\n\n                for(int z = 0; z &lt; t.size(); z++){\n                    for(int c = 0; c &lt; t.get(z).getRoster().size(); c++){\n                        if(playerName.equals(t.get(z).getRoster().get(c).getName())){\n                            t.get(z).getRoster().get(c).setPlayerSalary(playerSalaryDouble);\n                        }\n                    }\n                }\n</code></pre>\n"},{"tags":["java","maven","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1650650796,"post_id":71965375,"comment_id":127178030,"body_markdown":"Personally, I recommend ditching the shaded jar approach and using either a [jlink zip image](https://github.com/openjfx/javafx-maven-plugin#javafxjlink-options) or [jpackage installer](https://github.com/dlemmermann/JPackageScriptFX).  If you wish to continue with the shade approach, see [this JavaFX shade guide](https://stackoverflow.com/questions/52653836/maven-shade-javafx-runtime-components-are-missing).  I have no specific advice on how to fix the exact issue you are currently experiencing.","body":"Personally, I recommend ditching the shaded jar approach and using either a <a href=\"https://github.com/openjfx/javafx-maven-plugin#javafxjlink-options\" rel=\"nofollow noreferrer\">jlink zip image</a> or <a href=\"https://github.com/dlemmermann/JPackageScriptFX\" rel=\"nofollow noreferrer\">jpackage installer</a>.  If you wish to continue with the shade approach, see <a href=\"https://stackoverflow.com/questions/52653836/maven-shade-javafx-runtime-components-are-missing\">this JavaFX shade guide</a>.  I have no specific advice on how to fix the exact issue you are currently experiencing."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1650652466,"post_id":71965375,"comment_id":127178500,"body_markdown":"I tried this (following the shade guide I referenced).  The shaded jar ran fine both from the command line and on double click in Finder.  Test system JavaFX 17.0.2, OpenJDK 17.0.2, OS X (Intel) 12.3.  I guess your mileage will vary.  As it worked for me, I still have no specific advice for you.","body":"I tried this (following the shade guide I referenced).  The shaded jar ran fine both from the command line and on double click in Finder.  Test system JavaFX 17.0.2, OpenJDK 17.0.2, OS X (Intel) 12.3.  I guess your mileage will vary.  As it worked for me, I still have no specific advice for you."}],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1166,"user_id":16048914,"display_name":"David Weber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650615283,"creation_date":1650614871,"answer_id":71965422,"question_id":71965375,"body_markdown":"Do you mean the eclipse terminal or the operating system terminal?\r\n\r\nSorry for answering with a question, but I can&#39;t comment...\r\n\r\nJfx sometimes acts mysterious. \r\n\r\nLike the fact, that it don&#39;t likes it, when the class, in which your main() is located, is inheriting from another class. Please try to create an own class only for your main(). \r\n\r\nIt may sound a little bit strange, but please create an app with maven shade plugin, without javafx library and test, if it runs.\r\n\r\n\r\n","title":"JavaFX Maven shaded jar fails to open on double click but can run from terminal","body":"<p>Do you mean the eclipse terminal or the operating system terminal?</p>\n<p>Sorry for answering with a question, but I can't comment...</p>\n<p>Jfx sometimes acts mysterious.</p>\n<p>Like the fact, that it don't likes it, when the class, in which your main() is located, is inheriting from another class. Please try to create an own class only for your main().</p>\n<p>It may sound a little bit strange, but please create an app with maven shade plugin, without javafx library and test, if it runs.</p>\n"},{"tags":[],"owner":{"account_id":21741636,"reputation":1166,"user_id":16048914,"display_name":"David Weber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650814685,"creation_date":1650814685,"answer_id":71989927,"question_id":71965375,"body_markdown":"Today I came ahead the same problem, but with a JFX-gradle project, and I remembered how I solved this problem some time ago in a JFX-maven project.\r\n\r\nThis error occurs only with JFX-Projects and it took me hours to find it.\r\n\r\nPlease add this to your pom.xml\r\n\r\n    &lt;properties&gt;\r\n\t\t&lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n\t&lt;/properties&gt;\r\n\r\nHere is a pom.xml example of one my JFX-Projects:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;com.wedasoft&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;FxMultiMessageSender&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.2&lt;/version&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n\t\t&lt;javafx.version&gt;17&lt;/javafx.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;!-- javafx --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${javafx.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${javafx.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${javafx.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javafx-swing&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${javafx.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javafx-web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${javafx.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- wedasoft libraries --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.wedasoft&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;wedasoftLibraries&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.0.4&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;*&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- database libraries --&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.xerial/sqlite-jdbc --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.xerial&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;sqlite-jdbc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.36.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;release&gt;11&lt;/release&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;0.0.8&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;!-- Default configuration for running --&gt;\r\n\t\t\t\t\t\t&lt;!-- Usage: mvn clean javafx:run --&gt;\r\n\t\t\t\t\t\t&lt;id&gt;default-cli&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;mainClass&gt;com.wedasoft.FxMultiMessageSender.FxMultiMessageSenderMain&lt;/mainClass&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.2.4&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;shade&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\r\n\t\t\t\t\t\t\t&lt;transformers&gt;\r\n\t\t\t\t\t\t\t\t&lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;mainClass&gt;com.wedasoft.FxMultiMessageSender.FxMultiMessageSenderMain&lt;/mainClass&gt;\r\n\t\t\t\t\t\t\t\t&lt;/transformer&gt;\r\n\t\t\t\t\t\t\t&lt;/transformers&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;","title":"JavaFX Maven shaded jar fails to open on double click but can run from terminal","body":"<p>Today I came ahead the same problem, but with a JFX-gradle project, and I remembered how I solved this problem some time ago in a JFX-maven project.</p>\n<p>This error occurs only with JFX-Projects and it took me hours to find it.</p>\n<p>Please add this to your pom.xml</p>\n<pre><code>&lt;properties&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>Here is a pom.xml example of one my JFX-Projects:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;com.wedasoft&lt;/groupId&gt;\n&lt;artifactId&gt;FxMultiMessageSender&lt;/artifactId&gt;\n&lt;version&gt;0.0.2&lt;/version&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;javafx.version&gt;17&lt;/javafx.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;!-- javafx --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n        &lt;version&gt;${javafx.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n        &lt;version&gt;${javafx.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\n        &lt;version&gt;${javafx.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-swing&lt;/artifactId&gt;\n        &lt;version&gt;${javafx.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-web&lt;/artifactId&gt;\n        &lt;version&gt;${javafx.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- wedasoft libraries --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.wedasoft&lt;/groupId&gt;\n        &lt;artifactId&gt;wedasoftLibraries&lt;/artifactId&gt;\n        &lt;version&gt;0.0.4&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;*&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;!-- database libraries --&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.xerial/sqlite-jdbc --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.xerial&lt;/groupId&gt;\n        &lt;artifactId&gt;sqlite-jdbc&lt;/artifactId&gt;\n        &lt;version&gt;3.36.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;release&gt;11&lt;/release&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.0.8&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;!-- Default configuration for running --&gt;\n                    &lt;!-- Usage: mvn clean javafx:run --&gt;\n                    &lt;id&gt;default-cli&lt;/id&gt;\n                    &lt;configuration&gt;\n                        &lt;mainClass&gt;com.wedasoft.FxMultiMessageSender.FxMultiMessageSenderMain&lt;/mainClass&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.2.4&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;shade&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\n                        &lt;transformers&gt;\n                            &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                &lt;mainClass&gt;com.wedasoft.FxMultiMessageSender.FxMultiMessageSenderMain&lt;/mainClass&gt;\n                            &lt;/transformer&gt;\n                        &lt;/transformers&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n"}],"owner":{"account_id":6450014,"reputation":11895,"user_id":4997239,"accept_rate":61,"display_name":"Hasen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1650814685,"creation_date":1650614656,"question_id":71965375,"body_markdown":"This is the Maven shaded plugin I&#39;m using in my pom.xml:\r\n\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n             &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n             &lt;version&gt;3.2.4&lt;/version&gt;\r\n              &lt;executions&gt;\r\n                   &lt;execution&gt;\r\n                     &lt;goals&gt;\r\n                       &lt;goal&gt;shade&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                     &lt;configuration&gt;\r\n                         &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\r\n                         &lt;transformers&gt;\r\n          &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                              &lt;mainClass&gt;com.myApp.Main&lt;/mainClass&gt;\r\n                            &lt;/transformer&gt;\r\n                     &lt;/transformers&gt;\r\n                  &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n         &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nIt loads absolutely fine from the terminal with `java -jar myApp` so I have no idea why it doesn&#39;t work when simply double clicking. The error message from the finder I get with double clicking is:\r\n\r\n    The Java JAR File &quot;myApp-1.0-SNAPSHOT-shaded.jar&quot; could not be launched\r\n\r\nI&#39;ve created several different apps all with the exact same issue; they run ok as a shaded jar in terminal but fail to launch on a double click so I don&#39;t think it&#39;s anything unique to any particular app.\r\n\r\nEDIT: I&#39;m on Macos and also I have no problem launching any other jars with double click, only these specific jars I created myself with Maven shade.","title":"JavaFX Maven shaded jar fails to open on double click but can run from terminal","body":"<p>This is the Maven shaded plugin I'm using in my pom.xml:</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n         &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n         &lt;version&gt;3.2.4&lt;/version&gt;\n          &lt;executions&gt;\n               &lt;execution&gt;\n                 &lt;goals&gt;\n                   &lt;goal&gt;shade&lt;/goal&gt;\n                &lt;/goals&gt;\n                 &lt;configuration&gt;\n                     &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\n                     &lt;transformers&gt;\n      &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                          &lt;mainClass&gt;com.myApp.Main&lt;/mainClass&gt;\n                        &lt;/transformer&gt;\n                 &lt;/transformers&gt;\n              &lt;/configuration&gt;\n          &lt;/execution&gt;\n     &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>It loads absolutely fine from the terminal with <code>java -jar myApp</code> so I have no idea why it doesn't work when simply double clicking. The error message from the finder I get with double clicking is:</p>\n<pre><code>The Java JAR File &quot;myApp-1.0-SNAPSHOT-shaded.jar&quot; could not be launched\n</code></pre>\n<p>I've created several different apps all with the exact same issue; they run ok as a shaded jar in terminal but fail to launch on a double click so I don't think it's anything unique to any particular app.</p>\n<p>EDIT: I'm on Macos and also I have no problem launching any other jars with double click, only these specific jars I created myself with Maven shade.</p>\n"},{"tags":["java","macos","android-studio","intellij-idea","intellij-13"],"answers":[{"tags":[],"owner":{"account_id":1424961,"reputation":30720,"user_id":1348743,"display_name":"Javaru"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1396454207,"creation_date":1396454207,"answer_id":22816902,"question_id":22811218,"body_markdown":"Sounds like you need to map it. In the default key mapping &lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;↑&lt;/kbd&gt; and &lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;↓&lt;/kbd&gt; work as expected (i.e. as you describe). I do not have the vi mapping available to check it. Go into *Settings &gt; [IDE Settings] &gt; Keymap*. In the Keymap, go to &quot;Editor Actions&quot;. Configure the &quot;Down with Selection&quot; and &quot;Up with Selection&quot; options. This may mean removing the &lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;↑&lt;/kbd&gt; and &lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;↓&lt;/kbd&gt; mappings from something else.","title":"Multi-line block select using the keyboard in IntelliJ IDEA on a Mac OS X","body":"<p>Sounds like you need to map it. In the default key mapping <kbd>Shift</kbd>+<kbd>↑</kbd> and <kbd>Shift</kbd>+<kbd>↓</kbd> work as expected (i.e. as you describe). I do not have the vi mapping available to check it. Go into <em>Settings > [IDE Settings] > Keymap</em>. In the Keymap, go to \"Editor Actions\". Configure the \"Down with Selection\" and \"Up with Selection\" options. This may mean removing the <kbd>Shift</kbd>+<kbd>↑</kbd> and <kbd>Shift</kbd>+<kbd>↓</kbd> mappings from something else.</p>\n"},{"tags":[],"owner":{"account_id":63785,"reputation":2712,"user_id":188626,"accept_rate":89,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1398359803,"creation_date":1398359803,"answer_id":23275582,"question_id":22811218,"body_markdown":"I use the IdeaVIM plugin on Mac OS and I can increase or decrease my selection with the keyboard only with &lt;kbd&gt;alt&lt;/kbd&gt;-&lt;kbd&gt;Up&lt;/kbd&gt;/&lt;kbd&gt;Down&lt;/kbd&gt;.\r\n\r\nIt is possible I customized the VIM keymap to this, can&#39;t remember if it is default or not. However, the editor action you are looking for in the keymap settings is &quot;Select Word at Caret&quot; and &quot;Unselect Word at Caret&quot;. Repeatedly pressing the keystroke smartly selects/unselects the text. It almost always selects what I want.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/LqfvJ.png","title":"Multi-line block select using the keyboard in IntelliJ IDEA on a Mac OS X","body":"<p>I use the IdeaVIM plugin on Mac OS and I can increase or decrease my selection with the keyboard only with <kbd>alt</kbd>-<kbd>Up</kbd>/<kbd>Down</kbd>.</p>\n\n<p>It is possible I customized the VIM keymap to this, can't remember if it is default or not. However, the editor action you are looking for in the keymap settings is \"Select Word at Caret\" and \"Unselect Word at Caret\". Repeatedly pressing the keystroke smartly selects/unselects the text. It almost always selects what I want.</p>\n\n<p><img src=\"https://i.stack.imgur.com/LqfvJ.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":1252133,"reputation":484,"user_id":1212331,"display_name":"caitcoo0odes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467829940,"creation_date":1467829940,"answer_id":38231289,"question_id":22811218,"body_markdown":"You can use alt+Up/Down/Right/Left or alt+mouse-select to block select on mac in IntelliJ","title":"Multi-line block select using the keyboard in IntelliJ IDEA on a Mac OS X","body":"<p>You can use alt+Up/Down/Right/Left or alt+mouse-select to block select on mac in IntelliJ</p>\n"},{"tags":[],"owner":{"account_id":946995,"reputation":43606,"user_id":974045,"display_name":"Gibolt"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1650814648,"creation_date":1505669610,"answer_id":46266946,"question_id":22811218,"body_markdown":"### Multi-line caret ###\r\nFor Mac, you can use &lt;kbd&gt;⌘&lt;/kbd&gt;+&lt;kbd&gt;⌘&lt;/kbd&gt;(Hold)+&lt;kbd&gt;↑ / ↓&lt;/kbd&gt;.  \r\nFor Windows, replace the &lt;kbd&gt;⌘&lt;/kbd&gt; with &lt;kbd&gt;CTRL&lt;/kbd&gt;.\r\n\r\n&lt;kbd&gt;ESC&lt;/kbd&gt; will end multi-line mode.\r\n\r\n\r\n### Change Multi-caret Hotkey ###\r\nTo add a custom Keymap, &lt;kbd&gt;⌘&lt;/kbd&gt;+&lt;kbd&gt;SHIFT&lt;/kbd&gt;+&lt;kbd&gt;A&lt;/kbd&gt;, type `keymap` and click on the one with `Settings` as subtext. Search for `Clone Caret Above` and `Clone Caret Below`.\r\n\r\nI mapped mine to &lt;kbd&gt;ALT&lt;/kbd&gt;+&lt;kbd&gt;SHIFT&lt;/kbd&gt;+&lt;kbd&gt;↑ / ↓&lt;/kbd&gt;.\r\n\r\n### Bonus ###\r\nTry holding combinations of &lt;kbd&gt;⌘&lt;/kbd&gt;, &lt;kbd&gt;SHIFT&lt;/kbd&gt;, and arrows for improved selection power.","title":"Multi-line block select using the keyboard in IntelliJ IDEA on a Mac OS X","body":"<h3>Multi-line caret</h3>\n<p>For Mac, you can use <kbd>⌘</kbd>+<kbd>⌘</kbd>(Hold)+<kbd>↑ / ↓</kbd>.<br />\nFor Windows, replace the <kbd>⌘</kbd> with <kbd>CTRL</kbd>.</p>\n<p><kbd>ESC</kbd> will end multi-line mode.</p>\n<h3>Change Multi-caret Hotkey</h3>\n<p>To add a custom Keymap, <kbd>⌘</kbd>+<kbd>SHIFT</kbd>+<kbd>A</kbd>, type <code>keymap</code> and click on the one with <code>Settings</code> as subtext. Search for <code>Clone Caret Above</code> and <code>Clone Caret Below</code>.</p>\n<p>I mapped mine to <kbd>ALT</kbd>+<kbd>SHIFT</kbd>+<kbd>↑ / ↓</kbd>.</p>\n<h3>Bonus</h3>\n<p>Try holding combinations of <kbd>⌘</kbd>, <kbd>SHIFT</kbd>, and arrows for improved selection power.</p>\n"}],"owner":{"account_id":1252925,"reputation":16085,"user_id":1212960,"accept_rate":93,"display_name":"Greg Kopff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16704,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":4,"score":11,"last_activity_date":1650814648,"creation_date":1396441000,"question_id":22811218,"body_markdown":"I&#39;ve recently switched from Eclipse to IntelliJ IDEA 13.  I use the VI keybindings.\r\n\r\nOne non-vi thing I am used to doing in Eclipse is using &lt;kbd&gt;Shift&lt;/kbd&gt; + &lt;kbd&gt;↑&lt;/kbd&gt; / &lt;kbd&gt;Shift&lt;/kbd&gt; + &lt;kbd&gt;↓&lt;/kbd&gt; to block a few lines of text.  The behaviour of this text selection in Eclipse is the same as almost every other text input widget I&#39;ve ever used.  Typically I do one of two things after making the selection - delete this block or comment it out (&lt;kbd&gt;⌘&lt;/kbd&gt; + &lt;kbd&gt;/&lt;/kbd&gt;). \r\n\r\nI have no found equivalent keyboard-only multi-line selection function in IntelliJ IDEA 13.\r\n\r\n&lt;kbd&gt;Shift&lt;/kbd&gt; + &lt;kbd&gt;↑&lt;/kbd&gt; does not start a block selection - it seems to page the cursor up and down the screen.\r\n\r\nIf I use the mouse to start making a selection, then the arrow keys _do_ extend the selection.  However, I&#39;m unable to _start_ a selection using the keyboard alone.\r\n\r\nI&#39;m aware of the &lt;kbd&gt;⌘&lt;/kbd&gt; + &lt;kbd&gt;W&lt;/kbd&gt; _ever-outward-growing smart element selection_ - but if you then use the arrow keys, the selection is lost, not extended.\r\n\r\nHow can I start and then extend a selection region across multiple lines using the keyboard only on Mac OS X (that works with the VI keybindings enabled)?\r\n\r\n","title":"Multi-line block select using the keyboard in IntelliJ IDEA on a Mac OS X","body":"<p>I've recently switched from Eclipse to IntelliJ IDEA 13.  I use the VI keybindings.</p>\n\n<p>One non-vi thing I am used to doing in Eclipse is using <kbd>Shift</kbd> + <kbd>↑</kbd> / <kbd>Shift</kbd> + <kbd>↓</kbd> to block a few lines of text.  The behaviour of this text selection in Eclipse is the same as almost every other text input widget I've ever used.  Typically I do one of two things after making the selection - delete this block or comment it out (<kbd>⌘</kbd> + <kbd>/</kbd>). </p>\n\n<p>I have no found equivalent keyboard-only multi-line selection function in IntelliJ IDEA 13.</p>\n\n<p><kbd>Shift</kbd> + <kbd>↑</kbd> does not start a block selection - it seems to page the cursor up and down the screen.</p>\n\n<p>If I use the mouse to start making a selection, then the arrow keys <em>do</em> extend the selection.  However, I'm unable to <em>start</em> a selection using the keyboard alone.</p>\n\n<p>I'm aware of the <kbd>⌘</kbd> + <kbd>W</kbd> <em>ever-outward-growing smart element selection</em> - but if you then use the arrow keys, the selection is lost, not extended.</p>\n\n<p>How can I start and then extend a selection region across multiple lines using the keyboard only on Mac OS X (that works with the VI keybindings enabled)?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7018296,"reputation":7298,"user_id":5378766,"accept_rate":84,"display_name":"hotzst"},"score":0,"creation_date":1458373546,"post_id":36099102,"comment_id":59841887,"body_markdown":"Possible duplicate of [Java: checked vs unchecked exception explanation](http://stackoverflow.com/questions/6115896/java-checked-vs-unchecked-exception-explanation)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/6115896/java-checked-vs-unchecked-exception-explanation\">Java: checked vs unchecked exception explanation</a>"},{"owner":{"account_id":3291773,"reputation":3668,"user_id":2769917,"accept_rate":65,"display_name":"Asif Mushtaq"},"score":0,"creation_date":1458373826,"post_id":36099102,"comment_id":59841962,"body_markdown":"@AndyTurner what does mean by recoverable?","body":"@AndyTurner what does mean by recoverable?"},{"owner":{"account_id":3291773,"reputation":3668,"user_id":2769917,"accept_rate":65,"display_name":"Asif Mushtaq"},"score":0,"creation_date":1458373927,"post_id":36099102,"comment_id":59841979,"body_markdown":"@hotzst why duplicate? my question is about recover-able and non-recoverable.","body":"@hotzst why duplicate? my question is about recover-able and non-recoverable."},{"owner":{"account_id":7018296,"reputation":7298,"user_id":5378766,"accept_rate":84,"display_name":"hotzst"},"score":1,"creation_date":1458374251,"post_id":36099102,"comment_id":59842085,"body_markdown":"checked exceptions are also referred to recoverable in the sense that scenarios can be defined when they happen. For un-check exceptions and Errors this is not the case therefore non-recoverable.","body":"checked exceptions are also referred to recoverable in the sense that scenarios can be defined when they happen. For un-check exceptions and Errors this is not the case therefore non-recoverable."},{"owner":{"account_id":3291773,"reputation":3668,"user_id":2769917,"accept_rate":65,"display_name":"Asif Mushtaq"},"score":0,"creation_date":1458374371,"post_id":36099102,"comment_id":59842119,"body_markdown":"@hotzst can you give example of recoverable and non-recoverable?","body":"@hotzst can you give example of recoverable and non-recoverable?"},{"owner":{"account_id":558626,"reputation":1783,"user_id":921075,"accept_rate":87,"display_name":"dtc"},"score":0,"creation_date":1565210697,"post_id":36099102,"comment_id":101285681,"body_markdown":"the exception classing is a nightmare imo. im reading this more than 10 minutes and i still can&#39;t define what they mean by &quot;recoverable&quot;","body":"the exception classing is a nightmare imo. im reading this more than 10 minutes and i still can&#39;t define what they mean by &quot;recoverable&quot;"},{"owner":{"account_id":15561237,"reputation":1596,"user_id":11226302,"display_name":"Shivam Puri"},"score":0,"creation_date":1630162331,"post_id":36099102,"comment_id":121883352,"body_markdown":"Does this answer your question? [Differences between Exception and Error](https://stackoverflow.com/questions/912334/differences-between-exception-and-error)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/912334/differences-between-exception-and-error\">Differences between Exception and Error</a>"}],"answers":[{"tags":[],"owner":{"account_id":7018296,"reputation":7298,"user_id":5378766,"accept_rate":84,"display_name":"hotzst"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1565201499,"creation_date":1458375125,"answer_id":36099449,"question_id":36099102,"body_markdown":"Error, as you already figured out, means you are in serious trouble. In a catch block you might be able to do something like logging, but basically that&#39;s it.\r\n\r\nNon-recoverable exceptions are mostly runtime exceptions like `NullPointerException`. They are usually the result of some missed checks in the program code. Therefore the solution is normally to fix the code.\r\n\r\nA recoverable exception is something that you know beforehand can happen and take certain measures. Think of a web application that calls some backend service. That service may or may not be available which can cause the execution of the operation to fail. Therefore you have a checked exception, in this case most likely a custom exception that you throw, and then handle it in the front end code in a manner where you tell the user, sorry backend service xy is down, try again later or contact support.\r\n\r\nRecoverable does not mean that the application can do something to resolve the cause of the exception, though there may be cases where this is possible.","title":"What does mean by recoverable and un-recoverable exception or error","body":"<p>Error, as you already figured out, means you are in serious trouble. In a catch block you might be able to do something like logging, but basically that's it.</p>\n\n<p>Non-recoverable exceptions are mostly runtime exceptions like <code>NullPointerException</code>. They are usually the result of some missed checks in the program code. Therefore the solution is normally to fix the code.</p>\n\n<p>A recoverable exception is something that you know beforehand can happen and take certain measures. Think of a web application that calls some backend service. That service may or may not be available which can cause the execution of the operation to fail. Therefore you have a checked exception, in this case most likely a custom exception that you throw, and then handle it in the front end code in a manner where you tell the user, sorry backend service xy is down, try again later or contact support.</p>\n\n<p>Recoverable does not mean that the application can do something to resolve the cause of the exception, though there may be cases where this is possible.</p>\n"},{"tags":[],"owner":{"account_id":7379959,"reputation":169,"user_id":5646738,"display_name":"Muhammad Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498641617,"creation_date":1498641617,"answer_id":44798453,"question_id":36099102,"body_markdown":"All classes that inherit from class Exception but not directly or indirectly from class RuntimeException are considered to be checked exceptions.Such exceptions are typically caused by conditions that are not under the control of the program.\r\nExample\r\n\r\n - in file processing, the program can’t open a file if it does not\r\n   exist.\r\n\r\n \r\n**Recoverable**\r\nSo It is very easy to know that if a file does not exists so you dont need to open that file hence that is recoverable \r\n\r\nAll exception types that are direct or indirect subclasses of RuntimeException (package java.lang) are unchecked exceptions. These are typically caused by defects in  program’s code.\r\nExample\r\n\r\n - ArrayIndexOutOfBoundsExceptions \r\n - ArithmeticExceptions\r\n - Error\r\n\r\n**Unrecoverable**\r\nSo thatswhy program can not recover from these kind of errors or exceptions  ","title":"What does mean by recoverable and un-recoverable exception or error","body":"<p>All classes that inherit from class Exception but not directly or indirectly from class RuntimeException are considered to be checked exceptions.Such exceptions are typically caused by conditions that are not under the control of the program.\nExample</p>\n\n<ul>\n<li>in file processing, the program can’t open a file if it does not\nexist.</li>\n</ul>\n\n<p><strong>Recoverable</strong>\nSo It is very easy to know that if a file does not exists so you dont need to open that file hence that is recoverable </p>\n\n<p>All exception types that are direct or indirect subclasses of RuntimeException (package java.lang) are unchecked exceptions. These are typically caused by defects in  program’s code.\nExample</p>\n\n<ul>\n<li>ArrayIndexOutOfBoundsExceptions </li>\n<li>ArithmeticExceptions</li>\n<li>Error</li>\n</ul>\n\n<p><strong>Unrecoverable</strong>\nSo thatswhy program can not recover from these kind of errors or exceptions  </p>\n"},{"tags":[],"owner":{"account_id":9609132,"reputation":11276,"user_id":7134134,"display_name":"snnsnn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630162007,"creation_date":1628224515,"answer_id":68676179,"question_id":36099102,"body_markdown":"Unrecoverable errors are the ones that put the application in an undefined state, like a broken database connection or a closed port, you may handle the error and continue to execute but it would not make sense. Modern languages like Rust and Go use the name `panic` for errors of these nature, to make the distinction clear. Best action to take is logging the error, if it is possible, and exiting the application.\r\n\r\nA recoverable errors are the ones we can handle gracefully, like  division by zero or validation errors. It is something expected and the resulting behavior is covered in the language spec. Yes, application behaves erratic when that a recoverable error happens but we can contain it or work around it.","title":"What does mean by recoverable and un-recoverable exception or error","body":"<p>Unrecoverable errors are the ones that put the application in an undefined state, like a broken database connection or a closed port, you may handle the error and continue to execute but it would not make sense. Modern languages like Rust and Go use the name <code>panic</code> for errors of these nature, to make the distinction clear. Best action to take is logging the error, if it is possible, and exiting the application.</p>\n<p>A recoverable errors are the ones we can handle gracefully, like  division by zero or validation errors. It is something expected and the resulting behavior is covered in the language spec. Yes, application behaves erratic when that a recoverable error happens but we can contain it or work around it.</p>\n"},{"tags":[],"owner":{"account_id":16120639,"reputation":1,"user_id":11636691,"display_name":"moez mejri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650814503,"creation_date":1650814503,"answer_id":71989905,"question_id":36099102,"body_markdown":"The Object Throwable has 2 childs : Exception and Error.\r\n\r\nAll Exceptions are recoverable and all Errors are non-recoverable.\r\n\r\nAll Exceptions are recoverable because you can catch them and let your program continue its execution.\r\n\r\nHowever all Errors , even when you add them to a catch block, will cause the abrupt termination of your program.\r\n\r\nExamples of Errors: StackOverflowError, OutOfMemoryError,..\r\n\r\nRemark : Checked and unchecked Exceptions are childs of Exception so recoverable.","title":"What does mean by recoverable and un-recoverable exception or error","body":"<p>The Object Throwable has 2 childs : Exception and Error.</p>\n<p>All Exceptions are recoverable and all Errors are non-recoverable.</p>\n<p>All Exceptions are recoverable because you can catch them and let your program continue its execution.</p>\n<p>However all Errors , even when you add them to a catch block, will cause the abrupt termination of your program.</p>\n<p>Examples of Errors: StackOverflowError, OutOfMemoryError,..</p>\n<p>Remark : Checked and unchecked Exceptions are childs of Exception so recoverable.</p>\n"}],"owner":{"account_id":3291773,"reputation":3668,"user_id":2769917,"accept_rate":65,"display_name":"Asif Mushtaq"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11361,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1650814503,"creation_date":1458372531,"question_id":36099102,"body_markdown":"I&#39;m trying to understand difference between error and exception but it looks same thing and on [Oracle Official tutorials][1] I read this line. \r\n\r\n&gt; Checked exceptions are subject to the Catch or Specify Requirement.\r\n&gt; All exceptions are checked exceptions, except for those indicated by\r\n&gt; Error, RuntimeException, and their subclasses.\r\n\r\nNow about I&#39;m thinking it&#39;s same. But after searching more I found some difference as theoretical that.\r\n\r\n**Exception**: are recoverable\r\n\r\n**Errors**: not recoverable. \r\n\r\n**Exception Example:**\r\n\r\n    try{\r\n      read file\r\n    }\r\n    catch(FileNotFoundException e){\r\n    // how I can recover here? can i create that file?\r\n    // I think we can just make log file to continue or exit.\r\n    }\r\n\r\n**Error Example:**\r\n\r\n    try{\r\n          try to locate memory\r\n    }\r\n    catch(MemoryError e){   \r\n        // I think we can just make log file to continue or exit.\r\n    }\r\n\r\n**Edited**\r\nI&#39;m asking about recover-able and non-recoverable.\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/essential/exceptions/catchOrDeclare.html","title":"What does mean by recoverable and un-recoverable exception or error","body":"<p>I'm trying to understand difference between error and exception but it looks same thing and on <a href=\"http://docs.oracle.com/javase/tutorial/essential/exceptions/catchOrDeclare.html\" rel=\"nofollow\">Oracle Official tutorials</a> I read this line. </p>\n\n<blockquote>\n  <p>Checked exceptions are subject to the Catch or Specify Requirement.\n  All exceptions are checked exceptions, except for those indicated by\n  Error, RuntimeException, and their subclasses.</p>\n</blockquote>\n\n<p>Now about I'm thinking it's same. But after searching more I found some difference as theoretical that.</p>\n\n<p><strong>Exception</strong>: are recoverable</p>\n\n<p><strong>Errors</strong>: not recoverable. </p>\n\n<p><strong>Exception Example:</strong></p>\n\n<pre><code>try{\n  read file\n}\ncatch(FileNotFoundException e){\n// how I can recover here? can i create that file?\n// I think we can just make log file to continue or exit.\n}\n</code></pre>\n\n<p><strong>Error Example:</strong></p>\n\n<pre><code>try{\n      try to locate memory\n}\ncatch(MemoryError e){   \n    // I think we can just make log file to continue or exit.\n}\n</code></pre>\n\n<p><strong>Edited</strong>\nI'm asking about recover-able and non-recoverable.</p>\n"},{"tags":["java","spring-boot","spring-data-elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650814038,"creation_date":1650814038,"answer_id":71989840,"question_id":71970647,"body_markdown":"As for building a query method without having the entity you could go for a custom implementation (https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#repositories.single-repository-behavior).\r\n\r\n\r\nDefine an interface (not extending ElasticsearchRepository) like\r\n````java\r\ninterface CountByNameRepository {\r\n  long countByName(String name);\r\n}\r\n````\r\n\r\nand an implementation (just typing this here, not using an IDE, ao there might be errors):\r\n\r\n````java\r\npublic class CountByNameRepositoryImpl {\r\n\r\n  private final ElasticsearchOperations operations;\r\n\r\n  public CountByNameRepositoryImpl(ElasticsearchOperations operations) {\r\n      this.operations = operations;\r\n  }\r\n\r\n  public long countByName(String name) {\r\n\t  Query query = new CriteriaQuery(Criteria.where(&quot;person.name&quot;).is(name));\r\n\t  return operations.count(query, IndexCoordinates.of(&quot;type-index&quot;));\r\n  }\r\n}\r\n````\r\n\r\nYour respository then will need to extend bot `ElasticsearchRepository` and `CountByNameRepository`, Spring Data Elasticsearch will use the provided implementation.\r\n\r\nI have the index name hard coded here, as I don&#39;t know where you have access to this. You might be able to pass it as a second parameter to the method, but this depends on your concrete use case.","title":"Get Count for Generic Repository","body":"<p>As for building a query method without having the entity you could go for a custom implementation (<a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#repositories.single-repository-behavior\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#repositories.single-repository-behavior</a>).</p>\n<p>Define an interface (not extending ElasticsearchRepository) like</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface CountByNameRepository {\n  long countByName(String name);\n}\n</code></pre>\n<p>and an implementation (just typing this here, not using an IDE, ao there might be errors):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CountByNameRepositoryImpl {\n\n  private final ElasticsearchOperations operations;\n\n  public CountByNameRepositoryImpl(ElasticsearchOperations operations) {\n      this.operations = operations;\n  }\n\n  public long countByName(String name) {\n      Query query = new CriteriaQuery(Criteria.where(&quot;person.name&quot;).is(name));\n      return operations.count(query, IndexCoordinates.of(&quot;type-index&quot;));\n  }\n}\n</code></pre>\n<p>Your respository then will need to extend bot <code>ElasticsearchRepository</code> and <code>CountByNameRepository</code>, Spring Data Elasticsearch will use the provided implementation.</p>\n<p>I have the index name hard coded here, as I don't know where you have access to this. You might be able to pass it as a second parameter to the method, but this depends on your concrete use case.</p>\n"}],"owner":{"account_id":4054391,"reputation":929,"user_id":3332879,"accept_rate":38,"display_name":"Cugomastik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650814038,"creation_date":1650638821,"question_id":71970647,"body_markdown":"I am trying to get the total number (count) for a given field from an index using a generic repository. The index mapping is huge and I do not wish to have an equivalent mapping on the Springboot side. The query is extremely simple;\r\n\r\n    http://localhost:9203/type_index/_count?q=person.name:john;\r\n\r\nShould I have a generic class for the repository?\r\n\r\nCan I use the *@Query* annotation?\r\n\r\nHow do I define which type and index that the repository should go to? Normally, this is done by the *@Document(indexName=&quot;type_index)* annotation on the Entity class but in this case, I will not have one. \r\n\r\n    @Repository\r\n    public interface GenericElasticsearchRepository&lt;T, ID&gt; extends ElasticsearchRepository&lt;T, ID&gt; {\r\n\r\n         @Query(&quot;{\\&quot;bool\\&quot;: {\\&quot;must\\&quot;: [{\\&quot;match\\&quot;: {\\&quot;person.name\\&quot;: \\&quot;?0\\&quot;}}]}}&quot;)\r\n         long countByName(String name);\r\n\r\n    }\r\n\r\nWhen I use the above code, I am getting the following error;\r\n\r\n    ElasticSearchConfiguration: Invocation of init method failed;\r\n    nested exception is org.springframework.data.mapping.MappingException: Couldn&#39;t find PersistentEntity for type class java.lang.Object!\r\n\r\nThanks!","title":"Get Count for Generic Repository","body":"<p>I am trying to get the total number (count) for a given field from an index using a generic repository. The index mapping is huge and I do not wish to have an equivalent mapping on the Springboot side. The query is extremely simple;</p>\n<pre><code>http://localhost:9203/type_index/_count?q=person.name:john;\n</code></pre>\n<p>Should I have a generic class for the repository?</p>\n<p>Can I use the <em>@Query</em> annotation?</p>\n<p>How do I define which type and index that the repository should go to? Normally, this is done by the <em>@Document(indexName=&quot;type_index)</em> annotation on the Entity class but in this case, I will not have one.</p>\n<pre><code>@Repository\npublic interface GenericElasticsearchRepository&lt;T, ID&gt; extends ElasticsearchRepository&lt;T, ID&gt; {\n\n     @Query(&quot;{\\&quot;bool\\&quot;: {\\&quot;must\\&quot;: [{\\&quot;match\\&quot;: {\\&quot;person.name\\&quot;: \\&quot;?0\\&quot;}}]}}&quot;)\n     long countByName(String name);\n\n}\n</code></pre>\n<p>When I use the above code, I am getting the following error;</p>\n<pre><code>ElasticSearchConfiguration: Invocation of init method failed;\nnested exception is org.springframework.data.mapping.MappingException: Couldn't find PersistentEntity for type class java.lang.Object!\n</code></pre>\n<p>Thanks!</p>\n"},{"tags":["java","android","android-recyclerview","fragment","adapter"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":1,"creation_date":1650732266,"post_id":71981684,"comment_id":127192696,"body_markdown":"What error do you get? Pls post the stack trace","body":"What error do you get? Pls post the stack trace"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":1,"creation_date":1650732588,"post_id":71981684,"comment_id":127192760,"body_markdown":"Ok. I see that the resource is not present while setting the text on the text view. So, can you share your `Module` class also?","body":"Ok. I see that the resource is not present while setting the text on the text view. So, can you share your <code>Module</code> class also?"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":1,"creation_date":1650733221,"post_id":71981684,"comment_id":127192918,"body_markdown":"Its getting a bit confusing now. Can you tell on which line does the app crash?","body":"Its getting a bit confusing now. Can you tell on which line does the app crash?"},{"owner":{"account_id":12102141,"reputation":93,"user_id":8842546,"display_name":"Aymen Mellah"},"score":1,"creation_date":1650733393,"post_id":71981684,"comment_id":127192952,"body_markdown":"i think because of this line modulesRecyclerView.setLayoutManager(new LinearLayoutManager(view.getContext())); when i remove it the app don&#39;t crash","body":"i think because of this line modulesRecyclerView.setLayoutManager(new LinearLayoutManager(view.getContext())); when i remove it the app don&#39;t crash"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":1,"creation_date":1650733526,"post_id":71981684,"comment_id":127192982,"body_markdown":"`I think`. Dont think. The error comes in your adapter inside the `onBindViewHolder`. Not over there. Find [this](https://i.stack.imgur.com/puEcp.png) line in your error. A text in the end will be highlighted with blue color. Click on that and then you will be redirected to the line with the error","body":"<code>I think</code>. Dont think. The error comes in your adapter inside the <code>onBindViewHolder</code>. Not over there. Find <a href=\"https://i.stack.imgur.com/puEcp.png\" rel=\"nofollow noreferrer\">this</a> line in your error. A text in the end will be highlighted with blue color. Click on that and then you will be redirected to the line with the error"},{"owner":{"account_id":12102141,"reputation":93,"user_id":8842546,"display_name":"Aymen Mellah"},"score":1,"creation_date":1650733751,"post_id":71981684,"comment_id":127193027,"body_markdown":"thank&#39;s bro i found the error it was in this line holder.moduleCoefficient.setText(module.getCoefficient());  getCoeffcient return integer i should cast it you can post the answer so i can vote up your answer thank&#39;s again bro","body":"thank&#39;s bro i found the error it was in this line holder.moduleCoefficient.setText(module.getCoefficient());  getCoeffcient return integer i should cast it you can post the answer so i can vote up your answer thank&#39;s again bro"},{"owner":{"account_id":12102141,"reputation":93,"user_id":8842546,"display_name":"Aymen Mellah"},"score":0,"creation_date":1650734460,"post_id":71981684,"comment_id":127193169,"body_markdown":"can you vote up my question","body":"can you vote up my question"}],"answers":[{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650813866,"creation_date":1650734177,"answer_id":71981959,"question_id":71981684,"body_markdown":"## The issue\r\n---\r\n\r\nYou are not following the method to set the text in a text view. A text view can have its text with these methods:\r\n```java\r\npublic void setText(String text);\r\n// or\r\npublic void setText(int resId); // the resource id\r\n```\r\n\r\nNow, what you are doing is giving it an int(`module.getCoefficient()` return int) because of which, the second method is called. Now, the second method expects something like `R.string.hello_world` and etc... But, not 0, 100, 8593 and etc... But, you are giving it the second case I gave. That will give that error.\r\n\r\n## The solution\r\n---\r\n\r\nTry to change that to a string. These are the 3 methods to do so:\r\n\r\n 1. Use `String` class:\r\n\r\n     ```java\r\n    holder.moduleCoefficient.setText(String.valueOf(module.getCoefficient()));\r\n     ```\r\n 2. Use the `Integer` class:\r\n\r\n     ```java\r\n    holder.moduleCoefficien.setText(Integer.toString(module.getCoefficient()));\r\n     ```\r\n 3. Use `String` concantation:\r\n\r\n     ```java\r\n     holder.moduleCoefficient.setText(module.getCoefficient() + &quot;&quot;);\r\n     ```\r\n\r\n","title":"recyclerview is not showing data in fragment","body":"<h2>The issue</h2>\n<hr />\n<p>You are not following the method to set the text in a text view. A text view can have its text with these methods:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void setText(String text);\n// or\npublic void setText(int resId); // the resource id\n</code></pre>\n<p>Now, what you are doing is giving it an int(<code>module.getCoefficient()</code> return int) because of which, the second method is called. Now, the second method expects something like <code>R.string.hello_world</code> and etc... But, not 0, 100, 8593 and etc... But, you are giving it the second case I gave. That will give that error.</p>\n<h2>The solution</h2>\n<hr />\n<p>Try to change that to a string. These are the 3 methods to do so:</p>\n<ol>\n<li><p>Use <code>String</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>holder.moduleCoefficient.setText(String.valueOf(module.getCoefficient()));\n</code></pre>\n</li>\n<li><p>Use the <code>Integer</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>holder.moduleCoefficien.setText(Integer.toString(module.getCoefficient()));\n</code></pre>\n</li>\n<li><p>Use <code>String</code> concantation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>holder.moduleCoefficient.setText(module.getCoefficient() + &quot;&quot;);\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":12102141,"reputation":93,"user_id":8842546,"display_name":"Aymen Mellah"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71981959,"answer_count":1,"score":1,"last_activity_date":1650813866,"creation_date":1650732041,"question_id":71981684,"body_markdown":"I&#39;m trying to get some data from firebase and display it in a recycler view in fragment \r\nso i did created a methode that do that : \r\n\r\n    private void getModules(View view)\r\n    {\r\n\r\n\r\n        CollectionReference ref = db.collection(level).document(major).collection(&quot;Modules&quot;);\r\n        ref.get().addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\r\n            @Override\r\n            public void onSuccess(QuerySnapshot queryDocumentSnapshots)\r\n            {\r\n\r\n                for (DocumentSnapshot documentSnapshot:queryDocumentSnapshots.getDocuments()) {\r\n                    Module module = documentSnapshot.toObject(Module.class);\r\n                    modulesList.add(module);\r\n\r\n                }\r\n                ModulesAdapter adapter = new ModulesAdapter(modulesList);\r\n                modulesRecyclerView.setHasFixedSize(true);\r\n                modulesRecyclerView.setLayoutManager(new LinearLayoutManager(view.getContext()));\r\n                modulesRecyclerView.setAdapter(adapter);\r\n\r\n            }\r\n        });\r\n    }\r\nthe data retreived succefully and it is in the array list but it hink the problem is in these lines of code : \r\n\r\n    ModulesAdapter adapter = new ModulesAdapter(modulesList);\r\n                modulesRecyclerView.setHasFixedSize(true);\r\n                modulesRecyclerView.setLayoutManager(new LinearLayoutManager(view.getContext()));\r\n                modulesRecyclerView.setAdapter(adapter);\r\n\r\nthe module class is : \r\n\r\n    public class Module {\r\n        private String name;\r\n        private String responsable;\r\n        int coefficient;\r\n        Uri imageUri;\r\n        String imageUrl;\r\n    \r\n    \r\n        \r\n    \r\n        public Module() {\r\n        }\r\n    \r\n        public Module(String name, String responsable, int coefficient , Uri image) {\r\n            this.name = name;\r\n            this.responsable = responsable;\r\n            this.imageUri = image;\r\n            this.coefficient = coefficient;\r\n        }\r\n    \r\n        public Module(String name, String responsable, int coefficient) {\r\n            this.name = name;\r\n            this.responsable = responsable;\r\n            this.coefficient = coefficient;\r\n            this.imageUri= Uri.parse(&quot;android.resource://com.aymenmellah.edisco/&quot; + R.drawable.ali);\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getResponsable() {\r\n            return responsable;\r\n        }\r\n    \r\n        public void setResponsable(String responsable) {\r\n            this.responsable = responsable;\r\n        }\r\n    \r\n        public int getCoefficient() {\r\n            return coefficient;\r\n        }\r\n    \r\n        public void setCoefficient(int coefficient) {\r\n            this.coefficient = coefficient;\r\n        }\r\n    \r\n        @Exclude\r\n        public Uri getImageUri() {\r\n            return imageUri;\r\n        }\r\n    \r\n        public void setImageUri(Uri imageUri) {\r\n            this.imageUri = imageUri;\r\n        }\r\n    \r\n    \r\n        public String getImageUrl() {\r\n            return imageUrl;\r\n        }\r\n    \r\n        public void setImageUrl(String imageUrl) {\r\n            this.imageUrl = imageUrl;\r\n        }\r\n    }\r\n\r\n\r\n\r\nthe recycler view adapter is :\r\n \r\n\r\n     private List&lt;Module&gt; modulesArrayList;\r\n\r\n    public ModulesAdapter(List&lt;Module&gt; modulesArrayList) {\r\n        this.modulesArrayList = modulesArrayList;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ModulesViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        return new ModulesViewHolder(LayoutInflater.from(parent.getContext()).inflate(R.layout.module_item,parent,false));\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ModulesViewHolder holder, int position) {\r\n\r\n        Module module = modulesArrayList.get(position);\r\n        holder.moduleName.setText(module.getName());\r\n        holder.moduleResponsable.setText(module.getResponsable());\r\n        holder.moduleCoefficient.setText(module.getCoefficient());\r\n        //ADD HERE IMAGE\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return modulesArrayList.size();\r\n    }\r\n\r\n    public class ModulesViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        TextView moduleName,moduleResponsable,moduleCoefficient,moduleImage;\r\n\r\n        public ModulesViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            moduleName = itemView.findViewById(R.id.module_name);\r\n            moduleResponsable = itemView.findViewById(R.id.responsable_name);\r\n            moduleCoefficient = itemView.findViewById(R.id.coefficient_module_item);\r\n            //moduleImage = itemView.findViewById(R.id.module_image_item);\r\n        }\r\n    }\r\n}`\r\n\r\n and this is the onCreateView Methode : \r\n\r\n    @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n            View view = inflater.inflate(R.layout.fragment_modules, container, false);\r\n            modulesList = new ArrayList&lt;&gt;();\r\n    \r\n            db=FirebaseFirestore.getInstance();\r\n            modulesRecyclerView = view.findViewById(R.id.modules_recyclerview);\r\n            getModules(view);\r\n                    return view;\r\n        }\r\n\r\nwhen the above codes executed the app crashes and return to the previous activity and i get this error : \r\n\r\n        android.content.res.Resources$NotFoundException: String resource ID #0x2\r\n            at android.content.res.Resources.getText(Resources.java:375)\r\n            at android.widget.TextView.setText(TextView.java:6411)\r\n            at com.aymenmellah.edisco.Controller.ModulesAdapter.onBindViewHolder(ModulesAdapter.java:38)\r\n            at com.aymenmellah.edisco.Controller.ModulesAdapter.onBindViewHolder(ModulesAdapter.java:18)\r\n            at androidx.recyclerview.widget.RecyclerView$Adapter.onBindViewHolder(RecyclerView.java:7065)\r\n            at androidx.recyclerview.widget.RecyclerView$Adapter.bindViewHolder(RecyclerView.java:7107)\r\n            at androidx.recyclerview.widget.RecyclerView$Recycler.tryBindViewHolderByDeadline(RecyclerView.java:6012)\r\n            at androidx.recyclerview.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(RecyclerView.java:6279)\r\n            at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6118)\r\n            at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6114)\r\n            at androidx.recyclerview.widget.LinearLayoutManager$LayoutState.next(LinearLayoutManager.java:2303)\r\n            at androidx.recyclerview.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1627)\r\n            at androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1587)\r\n            at androidx.recyclerview.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:665)\r\n            at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep2(RecyclerView.java:4134)\r\n            at androidx.recyclerview.widget.RecyclerView.dispatchLayout(RecyclerView.java:3851)\r\n            at androidx.recyclerview.widget.RecyclerView.onLayout(RecyclerView.java:4404)\r\n            at android.view.View.layout(View.java:22344)\r\n            at android.view.ViewGroup.layout(ViewGroup.java:6445)\r\n            at androidx.constraintlayout.widget.ConstraintLayout.onLayout(ConstraintLayout.java:1873)\r\n            at android.view.View.layout(View.java:22344)\r\n            at android.view.ViewGroup.layout(ViewGroup.java:6445)\r\n            at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\r\n            at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\r\n            at android.view.View.layout(View.java:22344)\r\n            at android.view.ViewGroup.layout(ViewGroup.java:6445)\r\n            at androidx.recyclerview.widget.RecyclerView$LayoutManager.layoutDecoratedWithMargins(RecyclerView.java:9587)\r\n            at androidx.recyclerview.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1685)\r\n            at androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1587)\r\n            at androidx.recyclerview.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:665)\r\n            at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep2(RecyclerView.java:4134)\r\n            at androidx.recyclerview.widget.RecyclerView.dispatchLayout(RecyclerView.java:3851)\r\n            at androidx.recyclerview.widget.RecyclerView.onLayout(RecyclerView.java:4404)\r\n            at android.view.View.layout(View.java:22344)\r\n            at android.view.ViewGroup.layout(ViewGroup.java:6445)\r\n            at androidx.viewpager2.widget.ViewPager2.onLayout(ViewPager2.java:527)\r\n            at android.view.View.layout(View.java:22344)\r\n            at android.view.ViewGroup.layout(ViewGroup.java:6445)\r\n            at androidx.constraintlayout.widget.ConstraintLayout.onLayout(ConstraintLayout.java:1873)\r\n            at android.view.View.layout(View.java:22344)\r\n            at android.view.ViewGroup.layout(ViewGroup.java:6445)\r\n            at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\r\n            at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\r\n            at android.view.View.layout(View.java:22344)\r\n            at android.view.ViewGroup.layout(ViewGroup.java:6445)\r\n            at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1845)\r\n            at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1673)\r\n            at android.widget.LinearLayout.onLayout(LinearLayout.java:1582)\r\n            at android.view.View.layout(View.java:22344)\r\n            at android.view.ViewGroup.layout(ViewGroup.java:6445)\r\n            at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\r\n            at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\r\n    2022-04-23 17:46:14.854 26120-26120/com.aymenmellah.edisco E/AndroidRuntime:     at android.view.View.layout(View.java:22344)\r\n            at android.view.ViewGroup.layout(ViewGroup.java:6445)\r\n            at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1845)\r\n            at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1673)\r\n            at android.widget.LinearLayout.onLayout(LinearLayout.java:1582)\r\n            at android.view.View.layout(View.java:22344)\r\n            at android.view.ViewGroup.layout(ViewGroup.java:6445)\r\n            at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\r\n            at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\r\n            at com.android.internal.policy.DecorView.onLayout(DecorView.java:842)\r\n            at android.view.View.layout(View.java:22344)\r\n            at android.view.ViewGroup.layout(ViewGroup.java:6445)\r\n            at android.view.ViewRootImpl.performLayout(ViewRootImpl.java:3565)\r\n            at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2988)\r\n            at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:2051)\r\n            at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:8456)\r\n            at android.view.Choreographer$CallbackRecord.run(Choreographer.java:1065)\r\n            at android.view.Choreographer.doCallbacks(Choreographer.java:889)\r\n            at android.view.Choreographer.doFrame(Choreographer.java:816)\r\n            at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:1050)\r\n            at android.os.Handler.handleCallback(Handler.java:883)\r\n            at android.os.Handler.dispatchMessage(Handler.java:100)\r\n            at android.os.Looper.loop(Looper.java:237)\r\n            at android.app.ActivityThread.main(ActivityThread.java:7830)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1040)\r\n\r\n","title":"recyclerview is not showing data in fragment","body":"<p>I'm trying to get some data from firebase and display it in a recycler view in fragment\nso i did created a methode that do that :</p>\n<pre><code>private void getModules(View view)\n{\n\n\n    CollectionReference ref = db.collection(level).document(major).collection(&quot;Modules&quot;);\n    ref.get().addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\n        @Override\n        public void onSuccess(QuerySnapshot queryDocumentSnapshots)\n        {\n\n            for (DocumentSnapshot documentSnapshot:queryDocumentSnapshots.getDocuments()) {\n                Module module = documentSnapshot.toObject(Module.class);\n                modulesList.add(module);\n\n            }\n            ModulesAdapter adapter = new ModulesAdapter(modulesList);\n            modulesRecyclerView.setHasFixedSize(true);\n            modulesRecyclerView.setLayoutManager(new LinearLayoutManager(view.getContext()));\n            modulesRecyclerView.setAdapter(adapter);\n\n        }\n    });\n}\n</code></pre>\n<p>the data retreived succefully and it is in the array list but it hink the problem is in these lines of code :</p>\n<pre><code>ModulesAdapter adapter = new ModulesAdapter(modulesList);\n            modulesRecyclerView.setHasFixedSize(true);\n            modulesRecyclerView.setLayoutManager(new LinearLayoutManager(view.getContext()));\n            modulesRecyclerView.setAdapter(adapter);\n</code></pre>\n<p>the module class is :</p>\n<pre><code>public class Module {\n    private String name;\n    private String responsable;\n    int coefficient;\n    Uri imageUri;\n    String imageUrl;\n\n\n    \n\n    public Module() {\n    }\n\n    public Module(String name, String responsable, int coefficient , Uri image) {\n        this.name = name;\n        this.responsable = responsable;\n        this.imageUri = image;\n        this.coefficient = coefficient;\n    }\n\n    public Module(String name, String responsable, int coefficient) {\n        this.name = name;\n        this.responsable = responsable;\n        this.coefficient = coefficient;\n        this.imageUri= Uri.parse(&quot;android.resource://com.aymenmellah.edisco/&quot; + R.drawable.ali);\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getResponsable() {\n        return responsable;\n    }\n\n    public void setResponsable(String responsable) {\n        this.responsable = responsable;\n    }\n\n    public int getCoefficient() {\n        return coefficient;\n    }\n\n    public void setCoefficient(int coefficient) {\n        this.coefficient = coefficient;\n    }\n\n    @Exclude\n    public Uri getImageUri() {\n        return imageUri;\n    }\n\n    public void setImageUri(Uri imageUri) {\n        this.imageUri = imageUri;\n    }\n\n\n    public String getImageUrl() {\n        return imageUrl;\n    }\n\n    public void setImageUrl(String imageUrl) {\n        this.imageUrl = imageUrl;\n    }\n}\n</code></pre>\n<p>the recycler view adapter is :</p>\n<pre><code> private List&lt;Module&gt; modulesArrayList;\n\npublic ModulesAdapter(List&lt;Module&gt; modulesArrayList) {\n    this.modulesArrayList = modulesArrayList;\n}\n\n@NonNull\n@Override\npublic ModulesViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    return new ModulesViewHolder(LayoutInflater.from(parent.getContext()).inflate(R.layout.module_item,parent,false));\n}\n\n@Override\npublic void onBindViewHolder(@NonNull ModulesViewHolder holder, int position) {\n\n    Module module = modulesArrayList.get(position);\n    holder.moduleName.setText(module.getName());\n    holder.moduleResponsable.setText(module.getResponsable());\n    holder.moduleCoefficient.setText(module.getCoefficient());\n    //ADD HERE IMAGE\n\n}\n\n@Override\npublic int getItemCount() {\n    return modulesArrayList.size();\n}\n\npublic class ModulesViewHolder extends RecyclerView.ViewHolder {\n\n    TextView moduleName,moduleResponsable,moduleCoefficient,moduleImage;\n\n    public ModulesViewHolder(@NonNull View itemView) {\n        super(itemView);\n        moduleName = itemView.findViewById(R.id.module_name);\n        moduleResponsable = itemView.findViewById(R.id.responsable_name);\n        moduleCoefficient = itemView.findViewById(R.id.coefficient_module_item);\n        //moduleImage = itemView.findViewById(R.id.module_image_item);\n    }\n}\n</code></pre>\n<p>}`</p>\n<p>and this is the onCreateView Methode :</p>\n<pre><code>@Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.fragment_modules, container, false);\n        modulesList = new ArrayList&lt;&gt;();\n\n        db=FirebaseFirestore.getInstance();\n        modulesRecyclerView = view.findViewById(R.id.modules_recyclerview);\n        getModules(view);\n                return view;\n    }\n</code></pre>\n<p>when the above codes executed the app crashes and return to the previous activity and i get this error :</p>\n<pre><code>    android.content.res.Resources$NotFoundException: String resource ID #0x2\n        at android.content.res.Resources.getText(Resources.java:375)\n        at android.widget.TextView.setText(TextView.java:6411)\n        at com.aymenmellah.edisco.Controller.ModulesAdapter.onBindViewHolder(ModulesAdapter.java:38)\n        at com.aymenmellah.edisco.Controller.ModulesAdapter.onBindViewHolder(ModulesAdapter.java:18)\n        at androidx.recyclerview.widget.RecyclerView$Adapter.onBindViewHolder(RecyclerView.java:7065)\n        at androidx.recyclerview.widget.RecyclerView$Adapter.bindViewHolder(RecyclerView.java:7107)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.tryBindViewHolderByDeadline(RecyclerView.java:6012)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(RecyclerView.java:6279)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6118)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6114)\n        at androidx.recyclerview.widget.LinearLayoutManager$LayoutState.next(LinearLayoutManager.java:2303)\n        at androidx.recyclerview.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1627)\n        at androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1587)\n        at androidx.recyclerview.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:665)\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep2(RecyclerView.java:4134)\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayout(RecyclerView.java:3851)\n        at androidx.recyclerview.widget.RecyclerView.onLayout(RecyclerView.java:4404)\n        at android.view.View.layout(View.java:22344)\n        at android.view.ViewGroup.layout(ViewGroup.java:6445)\n        at androidx.constraintlayout.widget.ConstraintLayout.onLayout(ConstraintLayout.java:1873)\n        at android.view.View.layout(View.java:22344)\n        at android.view.ViewGroup.layout(ViewGroup.java:6445)\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\n        at android.view.View.layout(View.java:22344)\n        at android.view.ViewGroup.layout(ViewGroup.java:6445)\n        at androidx.recyclerview.widget.RecyclerView$LayoutManager.layoutDecoratedWithMargins(RecyclerView.java:9587)\n        at androidx.recyclerview.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1685)\n        at androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1587)\n        at androidx.recyclerview.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:665)\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep2(RecyclerView.java:4134)\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayout(RecyclerView.java:3851)\n        at androidx.recyclerview.widget.RecyclerView.onLayout(RecyclerView.java:4404)\n        at android.view.View.layout(View.java:22344)\n        at android.view.ViewGroup.layout(ViewGroup.java:6445)\n        at androidx.viewpager2.widget.ViewPager2.onLayout(ViewPager2.java:527)\n        at android.view.View.layout(View.java:22344)\n        at android.view.ViewGroup.layout(ViewGroup.java:6445)\n        at androidx.constraintlayout.widget.ConstraintLayout.onLayout(ConstraintLayout.java:1873)\n        at android.view.View.layout(View.java:22344)\n        at android.view.ViewGroup.layout(ViewGroup.java:6445)\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\n        at android.view.View.layout(View.java:22344)\n        at android.view.ViewGroup.layout(ViewGroup.java:6445)\n        at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1845)\n        at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1673)\n        at android.widget.LinearLayout.onLayout(LinearLayout.java:1582)\n        at android.view.View.layout(View.java:22344)\n        at android.view.ViewGroup.layout(ViewGroup.java:6445)\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\n2022-04-23 17:46:14.854 26120-26120/com.aymenmellah.edisco E/AndroidRuntime:     at android.view.View.layout(View.java:22344)\n        at android.view.ViewGroup.layout(ViewGroup.java:6445)\n        at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1845)\n        at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1673)\n        at android.widget.LinearLayout.onLayout(LinearLayout.java:1582)\n        at android.view.View.layout(View.java:22344)\n        at android.view.ViewGroup.layout(ViewGroup.java:6445)\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\n        at com.android.internal.policy.DecorView.onLayout(DecorView.java:842)\n        at android.view.View.layout(View.java:22344)\n        at android.view.ViewGroup.layout(ViewGroup.java:6445)\n        at android.view.ViewRootImpl.performLayout(ViewRootImpl.java:3565)\n        at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2988)\n        at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:2051)\n        at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:8456)\n        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:1065)\n        at android.view.Choreographer.doCallbacks(Choreographer.java:889)\n        at android.view.Choreographer.doFrame(Choreographer.java:816)\n        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:1050)\n        at android.os.Handler.handleCallback(Handler.java:883)\n        at android.os.Handler.dispatchMessage(Handler.java:100)\n        at android.os.Looper.loop(Looper.java:237)\n        at android.app.ActivityThread.main(ActivityThread.java:7830)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1040)\n</code></pre>\n"},{"tags":["java","android-studio","overriding"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":1,"creation_date":1650814079,"post_id":39352062,"comment_id":127206047,"body_markdown":"Look at your list of imports to see if you are importing &quot;AppCompatActivity&quot;. If not, right click on the red `AppCompatActivity` and select &quot;import&quot;. If you are already importing it, wait for the Gradle Sync to complete and see if it fixes it. If that doesn&#39;t fix it, choose &quot;Invalidate Caches and Restart&quot; from the file menu then do a clean build. The root cause of the override error is that the super class isn&#39;t found by the IDE.","body":"Look at your list of imports to see if you are importing &quot;AppCompatActivity&quot;. If not, right click on the red <code>AppCompatActivity</code> and select &quot;import&quot;. If you are already importing it, wait for the Gradle Sync to complete and see if it fixes it. If that doesn&#39;t fix it, choose &quot;Invalidate Caches and Restart&quot; from the file menu then do a clean build. The root cause of the override error is that the super class isn&#39;t found by the IDE."}],"answers":[{"tags":[],"owner":{"account_id":4116853,"reputation":10757,"user_id":3378204,"accept_rate":91,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473174734,"creation_date":1473174734,"answer_id":39352447,"question_id":39352062,"body_markdown":"When you add @Override to a method, if\r\n\r\n&gt; method does not override method from superclass\r\n\r\nappears. It means IDE can&#39;t find the method with same signature in its super class. \r\n\r\nFrom my view, I guess you didn&#39;t add the library which contains `AppCompatActivity` properly. Please have it examined.\r\n\r\n","title":"@Override Error: method does not override method from superclass (Android Studio)","body":"<p>When you add @Override to a method, if</p>\n\n<blockquote>\n  <p>method does not override method from superclass</p>\n</blockquote>\n\n<p>appears. It means IDE can't find the method with same signature in its super class. </p>\n\n<p>From my view, I guess you didn't add the library which contains <code>AppCompatActivity</code> properly. Please have it examined.</p>\n"}],"owner":{"account_id":8177147,"reputation":440,"user_id":6155559,"accept_rate":67,"display_name":"YektaDev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3647,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650813836,"creation_date":1473173618,"question_id":39352062,"body_markdown":"After creating any new android project inside android studio, the following error happens:\r\n[![Screenshot][1]][1]\r\n\r\nIt&#39;s an error related to `@Override`, saying:\r\n&gt; method does not override method from superclass\r\n\r\nHow would I resolve this error?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/8qJz2.png","title":"@Override Error: method does not override method from superclass (Android Studio)","body":"<p>After creating any new android project inside android studio, the following error happens:\n<a href=\"https://i.stack.imgur.com/8qJz2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8qJz2.png\" alt=\"Screenshot\" /></a></p>\n<p>It's an error related to <code>@Override</code>, saying:</p>\n<blockquote>\n<p>method does not override method from superclass</p>\n</blockquote>\n<p>How would I resolve this error?</p>\n"},{"tags":["java","mongodb"],"answers":[{"tags":[],"owner":{"account_id":5770026,"reputation":97,"user_id":4553707,"display_name":"Neil_TW"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650780491,"creation_date":1650780491,"answer_id":71985933,"question_id":71984973,"body_markdown":"you can try this sampled\r\n\r\n```\r\n collection.find(eq(&quot;id&quot;, &quot;123&quot;))\r\n    .projection(include(&quot;id&quot;, &quot;AboutMe&quot;));\r\n```\r\nhere is link to basic query in java mongodb\r\n[Mongodb Documents](https://www.mongodb.com/docs/v4.0/tutorial/project-fields-from-query-results/)","title":"How can I choose which field to return in mongodb using java","body":"<p>you can try this sampled</p>\n<pre><code> collection.find(eq(&quot;id&quot;, &quot;123&quot;))\n    .projection(include(&quot;id&quot;, &quot;AboutMe&quot;));\n</code></pre>\n<p>here is link to basic query in java mongodb\n<a href=\"https://www.mongodb.com/docs/v4.0/tutorial/project-fields-from-query-results/\" rel=\"nofollow noreferrer\">Mongodb Documents</a></p>\n"}],"owner":{"account_id":24438080,"reputation":1,"user_id":18362117,"display_name":"Meriem Br"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650812978,"creation_date":1650765976,"question_id":71984973,"body_markdown":"With the driver Java Mongodb, I am looking for a way to return just rsome fields. For example, I have a collection &quot;users&quot; with fields : &quot;id&quot;, &quot;Displayname&quot;, &quot;AboutMe&quot;,... and I just want to return &quot;id&quot; and &quot;AboutMe&quot;","title":"How can I choose which field to return in mongodb using java","body":"<p>With the driver Java Mongodb, I am looking for a way to return just rsome fields. For example, I have a collection &quot;users&quot; with fields : &quot;id&quot;, &quot;Displayname&quot;, &quot;AboutMe&quot;,... and I just want to return &quot;id&quot; and &quot;AboutMe&quot;</p>\n"},{"tags":["java","arraylist","foreach"],"answers":[{"tags":[],"owner":{"account_id":10102518,"reputation":121,"user_id":7466176,"display_name":"Tspring"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650812181,"creation_date":1650768613,"answer_id":71985127,"question_id":71985089,"body_markdown":"This looks as though you have this code:&lt;br/&gt;\r\n 1 &amp;emsp;      double one = 1.0;&lt;br/&gt;\r\n 2  &amp;emsp;     double newBookPrice = 0.0;&lt;br/&gt;\r\n 3  &amp;emsp;     for (Book currBook : this.listOfBooks) {&lt;br/&gt;\r\n 4  &amp;emsp;&amp;emsp;         if (currBook.getRating() &gt; 4) {&lt;br/&gt;\r\n 5  &amp;emsp;&amp;emsp;&amp;emsp;             newBookPrice = one + currBook.getPrice();&lt;br/&gt;\r\n 6  &amp;emsp; &amp;emsp;         }&lt;br/&gt;\r\n 7  &amp;emsp;&amp;emsp;         newBookPrice = newBookPrice + 1;&lt;br/&gt;\r\n 8  &amp;emsp;     }&lt;br/&gt;&lt;br/&gt;\r\n 9 &amp;emsp; }&lt;br/&gt;\r\n\r\n\r\nYour object of a book is currBook, which is independent of newBookPrice.\r\nSo if you want to set its value, you need to modify the property or field value&lt;br/&gt; of that object. You are only setting newBookPrice on line 5 above. This is a different variable, not related to the book object -&gt; currBook&lt;br/&gt;&lt;br/&gt;\r\n\r\nYou want something like this on line 5:&lt;br/&gt;\r\ncurrBook.Price = currBook.GetPrice() + one;&lt;br/&gt;\r\n\r\n\r\nAdditionally, if you are using get/set methods to not access the properties&lt;br/&gt; directly, then you want to do something like this:&lt;br/&gt;\r\ncurrBook.SetPrice(currBook.GetPrice() + one);&lt;br/&gt;\r\n\r\n\r\nFinally, it may have happened during testing, but you added 1 again on line 7. You want to remove this line.\r\n","title":"Why is my code not adding one to the current Price of the book?","body":"<p>This looks as though you have this code:<br/>\n1        double one = 1.0;<br/>\n2        double newBookPrice = 0.0;<br/>\n3        for (Book currBook : this.listOfBooks) {<br/>\n4             if (currBook.getRating() &gt; 4) {<br/>\n5                  newBookPrice = one + currBook.getPrice();<br/>\n6              }<br/>\n7             newBookPrice = newBookPrice + 1;<br/>\n8        }<br/><br/>\n9   }<br/></p>\n<p>Your object of a book is currBook, which is independent of newBookPrice.\nSo if you want to set its value, you need to modify the property or field value<br/> of that object. You are only setting newBookPrice on line 5 above. This is a different variable, not related to the book object -&gt; currBook<br/><br/></p>\n<p>You want something like this on line 5:<br/>\ncurrBook.Price = currBook.GetPrice() + one;<br/></p>\n<p>Additionally, if you are using get/set methods to not access the properties<br/> directly, then you want to do something like this:<br/>\ncurrBook.SetPrice(currBook.GetPrice() + one);<br/></p>\n<p>Finally, it may have happened during testing, but you added 1 again on line 7. You want to remove this line.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650769497,"creation_date":1650769497,"answer_id":71985183,"question_id":71985089,"body_markdown":"Your code is updating a local variable called `newBookPrice`.  It is not updating the price of the actual books.   The local variable then gets thrown away when your method returns.\r\n\r\nWe can&#39;t see your `Book` class, but I *expect* that it has a `setPrice(...)` method.  You should be calling that to update the prices of each `Book` object that needs updating.","title":"Why is my code not adding one to the current Price of the book?","body":"<p>Your code is updating a local variable called <code>newBookPrice</code>.  It is not updating the price of the actual books.   The local variable then gets thrown away when your method returns.</p>\n<p>We can't see your <code>Book</code> class, but I <em>expect</em> that it has a <code>setPrice(...)</code> method.  You should be calling that to update the prices of each <code>Book</code> object that needs updating.</p>\n"},{"tags":[],"owner":{"account_id":25071652,"reputation":9,"user_id":18925443,"display_name":"Mani ChakraVardhan Donuru"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650772151,"creation_date":1650772151,"answer_id":71985366,"question_id":71985089,"body_markdown":"You should currBook.setPrice(newcalculatedprice) after recalculating","title":"Why is my code not adding one to the current Price of the book?","body":"<p>You should currBook.setPrice(newcalculatedprice) after recalculating</p>\n"}],"owner":{"account_id":19759479,"reputation":1,"user_id":14468990,"display_name":"DanielR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1650812181,"creation_date":1650767953,"question_id":71985089,"body_markdown":"```\r\npublic void addDollarToRatingOfFour() {\r\n\t\tdouble one = 1.0;\r\n\t\tdouble newBookPrice = 0.0;\r\n\t\tfor (Book currBook : this.listOfBooks) {\r\n\t\t\tif (currBook.getRating() &gt; 4) {\r\n\t\t\t\tnewBookPrice = one + currBook.getPrice();\r\n\t\t\t}\r\n\t\t\tnewBookPrice = newBookPrice + 1;\r\n\t\t}\r\n\t}\r\n```\r\nWith this code it is supposed to add a dollar to all the books with a rating of 4 or above, but in my testing it&#39;s not adding a dollar at all to any price. Any Ideas?","title":"Why is my code not adding one to the current Price of the book?","body":"<pre><code>public void addDollarToRatingOfFour() {\n        double one = 1.0;\n        double newBookPrice = 0.0;\n        for (Book currBook : this.listOfBooks) {\n            if (currBook.getRating() &gt; 4) {\n                newBookPrice = one + currBook.getPrice();\n            }\n            newBookPrice = newBookPrice + 1;\n        }\n    }\n</code></pre>\n<p>With this code it is supposed to add a dollar to all the books with a rating of 4 or above, but in my testing it's not adding a dollar at all to any price. Any Ideas?</p>\n"},{"tags":["java","android","android-layout","android-fragments"],"answers":[{"tags":[],"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650811563,"creation_date":1650805517,"answer_id":71988691,"question_id":71988453,"body_markdown":"&gt; The scroll state of landscape mode is the same as it was in portrait mode.\r\n\r\nWhen the change configuration occurred (orientation in your case), in normal cases the system is able to preserve some stuff like the scroll state.\r\n\r\n&gt; but when scrolled to a level then change orientation from portrait to landscape mode the background color is lost. \r\n\r\nBut other stuff can&#39;t be preserved such as this background color which you changed programmatically after scrolling the `ScrollView`.\r\n\r\n[There are different ways][1] to maintain the data on configuration changes in fragments; the weediest/robust one to use `ViewModels`.\r\n\r\nBut in your case as the scroll value is already preserved; you can just override `onConfigurationChanged` and reset the background there:\r\n\r\n\r\n\r\n    @Override\r\n    public void onConfigurationChanged(@NonNull Configuration newConfig) {\r\n        super.onConfigurationChanged(newConfig);\r\n\r\n\t\tupdateHeaderBackground(scrollView.getScrollY()); // Change this to scrollView.getScrollX() if you the scroll is horizontal\r\n    }\r\n\r\nUPDATE:\r\n\r\n&gt; it does not get hit, the method is not called for some reason when changing orientation \r\n\r\nThis could be cause missing `android:configChanges=&quot;orientation&quot;` in manifest file, activity section. \r\n\r\n\r\nBut, I&#39;d rather recommend another way to solve it:\r\n\r\nInstead of overriding `onConfigurationChanged()`, you can check if the bundle argument is null or not in `onCreateView()` callback; it shouldn&#39;t be null for configuration changes:\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n\r\n        // CODE IS OMITTED\r\n\t\t\r\n\t\tif (savedInstanceState != null) // It&#39;s not null\r\n\t\t\tupdateHeaderBackground(scrollView.getScrollY()); // Change this to scrollView.getScrollX() if you the scroll is horizontal\r\n\t\t\r\n\t}\r\n\r\n\r\n\r\n  [1]: https://developer.android.com/guide/fragments/saving-state","title":"How to retain toolbar background color when orientation changes?","body":"<blockquote>\n<p>The scroll state of landscape mode is the same as it was in portrait mode.</p>\n</blockquote>\n<p>When the change configuration occurred (orientation in your case), in normal cases the system is able to preserve some stuff like the scroll state.</p>\n<blockquote>\n<p>but when scrolled to a level then change orientation from portrait to landscape mode the background color is lost.</p>\n</blockquote>\n<p>But other stuff can't be preserved such as this background color which you changed programmatically after scrolling the <code>ScrollView</code>.</p>\n<p><a href=\"https://developer.android.com/guide/fragments/saving-state\" rel=\"nofollow noreferrer\">There are different ways</a> to maintain the data on configuration changes in fragments; the weediest/robust one to use <code>ViewModels</code>.</p>\n<p>But in your case as the scroll value is already preserved; you can just override <code>onConfigurationChanged</code> and reset the background there:</p>\n<pre><code>@Override\npublic void onConfigurationChanged(@NonNull Configuration newConfig) {\n    super.onConfigurationChanged(newConfig);\n\n    updateHeaderBackground(scrollView.getScrollY()); // Change this to scrollView.getScrollX() if you the scroll is horizontal\n}\n</code></pre>\n<p>UPDATE:</p>\n<blockquote>\n<p>it does not get hit, the method is not called for some reason when changing orientation</p>\n</blockquote>\n<p>This could be cause missing <code>android:configChanges=&quot;orientation&quot;</code> in manifest file, activity section.</p>\n<p>But, I'd rather recommend another way to solve it:</p>\n<p>Instead of overriding <code>onConfigurationChanged()</code>, you can check if the bundle argument is null or not in <code>onCreateView()</code> callback; it shouldn't be null for configuration changes:</p>\n<pre><code>@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n\n    // CODE IS OMITTED\n    \n    if (savedInstanceState != null) // It's not null\n        updateHeaderBackground(scrollView.getScrollY()); // Change this to scrollView.getScrollX() if you the scroll is horizontal\n    \n}\n</code></pre>\n"}],"owner":{"account_id":12287488,"reputation":93,"user_id":8966229,"display_name":"Steve"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71988691,"answer_count":1,"score":1,"last_activity_date":1650812084,"creation_date":1650803599,"question_id":71988453,"body_markdown":"I encounter this unwanted behavior with toolbar in `fragment` , the toolbar background is working fine but when scrolled to a level then change orientation from portrait to landscape mode the background color is lost. The scroll state of landscape mode is the same as it was in portrait mode.\r\n\r\nIf you switch back to portrait the background color is still lost\r\n\r\nWhen the background color is lost, changing scroll state will bring back the background color.\r\n\r\nThe question is how to retain the background color when the first scroll state changed after the changing the device orientation ?\r\n\r\n\r\n```\r\npublic class VideoInfo extends Fragment {\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n\r\n        mTitleBar = (Toolbar) mRoot.findViewById(R.id.titlebar);\r\n\r\n        mTitleBar.addOnLayoutChangeListener(new View.OnLayoutChangeListener() {\r\n            @Override\r\n            public void onLayoutChange(View view, int i, int i1, int i2, int i3, int i4, int i5, int i6, int i7) {\r\n                updateHeaderHeight();\r\n            }\r\n        });\r\n    }\r\n\r\n    private void updateHeaderHeight() {\r\n        log.debug(&quot;updateHeaderHeight&quot;);\r\n        mHeaderHeight = mTitleBar.getMeasuredHeight();\r\n        if (mHeaderHeight == 0)\r\n            log.debug(&quot;Warning updateHeaderHeight sets mHeaderHeight to zero!&quot;);\r\n        if (mIsPortraitMode) {\r\n            View scrollView = mRoot.findViewById(R.id.scroll_content);\r\n            scrollView.setPadding(scrollView.getPaddingLeft(), mHeaderHeight, scrollView.getPaddingRight(), scrollView.getPaddingBottom());\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onScrollChanged(int i, boolean b, boolean b1) {\r\n        updateHeaderBackground(i, true);\r\n\r\n    }\r\n\r\n    private void updateHeaderBackground(int scroll) {\r\n        mTitleBar.setBackgroundColor(mContext.getResources().getColor(R.color.deep_dark_blue_transparent));\r\n    }\r\n}\r\n```\r\n\r\n```\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n        &lt;androidx.appcompat.widget.Toolbar\r\n            android:id=&quot;@+id/titlebar&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:contentInsetLeft=&quot;0dp&quot;\r\n            app:contentInsetStart=&quot;0dp&quot;\r\n            android:layout_margin=&quot;0dp&quot;\r\n            android:background=&quot;@android:color/transparent&quot;\r\n            android:paddingLeft=&quot;0dip&quot;&gt;\r\n            &lt;!--text size is programmatically changed --&gt;\r\n            &lt;TextView\r\n                android:id=&quot;@+id/toolbar_title&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:fontFamily=&quot;@font/lato_regular&quot;\r\n                android:singleLine=&quot;true&quot;\r\n                android:textColor=&quot;@color/white_font&quot;\r\n                android:textSize=&quot;24sp&quot;/&gt;\r\n        &lt;/androidx.appcompat.widget.Toolbar&gt;\r\n&lt;/RelativeLayout&gt;\r\n```","title":"How to retain toolbar background color when orientation changes?","body":"<p>I encounter this unwanted behavior with toolbar in <code>fragment</code> , the toolbar background is working fine but when scrolled to a level then change orientation from portrait to landscape mode the background color is lost. The scroll state of landscape mode is the same as it was in portrait mode.</p>\n<p>If you switch back to portrait the background color is still lost</p>\n<p>When the background color is lost, changing scroll state will bring back the background color.</p>\n<p>The question is how to retain the background color when the first scroll state changed after the changing the device orientation ?</p>\n<pre><code>public class VideoInfo extends Fragment {\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n\n        mTitleBar = (Toolbar) mRoot.findViewById(R.id.titlebar);\n\n        mTitleBar.addOnLayoutChangeListener(new View.OnLayoutChangeListener() {\n            @Override\n            public void onLayoutChange(View view, int i, int i1, int i2, int i3, int i4, int i5, int i6, int i7) {\n                updateHeaderHeight();\n            }\n        });\n    }\n\n    private void updateHeaderHeight() {\n        log.debug(&quot;updateHeaderHeight&quot;);\n        mHeaderHeight = mTitleBar.getMeasuredHeight();\n        if (mHeaderHeight == 0)\n            log.debug(&quot;Warning updateHeaderHeight sets mHeaderHeight to zero!&quot;);\n        if (mIsPortraitMode) {\n            View scrollView = mRoot.findViewById(R.id.scroll_content);\n            scrollView.setPadding(scrollView.getPaddingLeft(), mHeaderHeight, scrollView.getPaddingRight(), scrollView.getPaddingBottom());\n        }\n    }\n\n    @Override\n    public void onScrollChanged(int i, boolean b, boolean b1) {\n        updateHeaderBackground(i, true);\n\n    }\n\n    private void updateHeaderBackground(int scroll) {\n        mTitleBar.setBackgroundColor(mContext.getResources().getColor(R.color.deep_dark_blue_transparent));\n    }\n}\n</code></pre>\n<pre><code>&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n        &lt;androidx.appcompat.widget.Toolbar\n            android:id=&quot;@+id/titlebar&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            app:contentInsetLeft=&quot;0dp&quot;\n            app:contentInsetStart=&quot;0dp&quot;\n            android:layout_margin=&quot;0dp&quot;\n            android:background=&quot;@android:color/transparent&quot;\n            android:paddingLeft=&quot;0dip&quot;&gt;\n            &lt;!--text size is programmatically changed --&gt;\n            &lt;TextView\n                android:id=&quot;@+id/toolbar_title&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:fontFamily=&quot;@font/lato_regular&quot;\n                android:singleLine=&quot;true&quot;\n                android:textColor=&quot;@color/white_font&quot;\n                android:textSize=&quot;24sp&quot;/&gt;\n        &lt;/androidx.appcompat.widget.Toolbar&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1650799089,"post_id":71987860,"comment_id":127202966,"body_markdown":"We can use [`Integer::toBinaryString`](https://cr.openjdk.java.net/~iris/se/17/latestSpec/api/java.base/java/lang/Integer.html#toBinaryString(int)) in order to convert an `int` to its binary representation.","body":"We can use <a href=\"https://cr.openjdk.java.net/~iris/se/17/latestSpec/api/java.base/java/lang/Integer.html#toBinaryString(int)\" rel=\"nofollow noreferrer\"><code>Integer::toBinaryString</code></a> in order to convert an <code>int</code> to its binary representation."},{"owner":{"account_id":23721672,"reputation":39,"user_id":17742135,"display_name":"kilzah"},"score":0,"creation_date":1650800330,"post_id":71987860,"comment_id":127203177,"body_markdown":"where would i put the toBinaryString?","body":"where would i put the toBinaryString?"},{"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"score":0,"creation_date":1650800651,"post_id":71987860,"comment_id":127203228,"body_markdown":"Think about what happens when `i = 0`, then you try to access the String with `charAt(binary.length())` which is out of range. You need to add `-1` in order to prevent the out of range error.","body":"Think about what happens when <code>i = 0</code>, then you try to access the String with <code>charAt(binary.length())</code> which is out of range. You need to add <code>-1</code> in order to prevent the out of range error."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1650800814,"post_id":71987860,"comment_id":127203264,"body_markdown":"NB method names begin lower case in Java: https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions","body":"NB method names begin lower case in Java: <a href=\"https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions\" rel=\"nofollow noreferrer\">technojeeves.com/index.php/aliasjava1/&hellip;</a>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1650801074,"post_id":71987860,"comment_id":127203330,"body_markdown":"Binary to decimal? or convert to binary? Which is it?","body":"Binary to decimal? or convert to binary? Which is it?"},{"owner":{"account_id":9905704,"reputation":2259,"user_id":7334280,"display_name":"Mohammad Hosein Heidari"},"score":0,"creation_date":1650801129,"post_id":71987860,"comment_id":127203344,"body_markdown":"your question is all about converting binary String to number.\nalso, @Mushroomator explained your algorithm issue.","body":"your question is all about converting binary String to number. also, @Mushroomator explained your algorithm issue."},{"owner":{"account_id":23721672,"reputation":39,"user_id":17742135,"display_name":"kilzah"},"score":0,"creation_date":1650801879,"post_id":71987860,"comment_id":127203499,"body_markdown":"when I press convert it does not convert the binary to decimal vice versa","body":"when I press convert it does not convert the binary to decimal vice versa"}],"answers":[{"tags":[],"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650802580,"creation_date":1650802580,"answer_id":71988290,"question_id":71987860,"body_markdown":"There are a couple of issues with your code:\r\n#### Index ouf of bounds\r\nWhen using `str.charAt()` you can only have indices between `0` inclusive and `str.length - 1` inclusive, meaning that `str.charAt(str.length)` will result in an out of bounds error. To prevent that use `binary.length() - i - 1` instead of `binary.length() - i`.\r\n#### Type-casting to `char`\r\nWhat you do in this line `char number = (char) (select * Math.pow(2, i));` doesn&#39;t make any sense. You want to have an `int` returned not a `char`. `select` is a `char` here and doesn&#39;t hold the value `0` or `1` as you seem to think it does. Also `Math.pow()` is unnecessary here, you can just use a [bit-shift](https://www.interviewcake.com/concept/java/bit-shift) which will be faster and prevent unnecessary type casts.\r\n\r\n#### Ignore `0` bits\r\nAs I&#39;ve pointed out before `select` hold the chars `&#39;0&#39;` and `&#39;1&#39;` which don&#39;t translate to `0` and `1` integers as you seem to think. Therefore your calculation with `select * Math.pow(2, i)` yields unexpected results. Instead you could just use an `if` condition checking whether a char is `&#39;0&#39;`. This way you also save an expensive multiplication operation.\r\n\r\nAs you only index the individual chars of the String you could just transform everything to a `char` array. \r\n\r\nHere an implementation showing how to convert from a binary string to a decimal number. It also shows how you can use `Integer::toBinaryString()` to convert in the opposite direction.\r\n```java\r\npublic class Application {\r\n    public static void main(String[] args) {\r\n        System.out.println(convBinaryStringToInt(&quot;1001&quot;));\r\n        System.out.println(convBinaryStringToInt(&quot;0001&quot;));\r\n        System.out.println(convBinaryStringToInt(&quot;0010&quot;));\r\n        System.out.println(convBinaryStringToInt(&quot;0011&quot;));\r\n\r\n        // convert the other way round\r\n        System.out.println(Integer.toBinaryString(9));\r\n        System.out.println(Integer.toBinaryString(1));\r\n        System.out.println(Integer.toBinaryString(2));\r\n        System.out.println(Integer.toBinaryString(3));\r\n    }\r\n\r\n    public static int convBinaryStringToInt(String binary) {\r\n        int decimalNumber = 0;\r\n        var bits = binary.toCharArray();\r\n        for (int i = 0; i &lt; bits.length; i++) {\r\n            // add -1 otherwise you will run out of bounds\r\n            char bit = bits[bits.length - i - 1];\r\n            // skip zeros\r\n            if(bit == &#39;0&#39;) continue;\r\n            // now we know we have a one bit, instead of using Math.pow() we can just bit shift which is faster and\r\n            // prevents unnecessary type casting\r\n            // shift 1 bit to left\r\n            int number = 1 &lt;&lt; i;\r\n            decimalNumber += number;\r\n        }\r\n        return decimalNumber;\r\n    }\r\n}\r\n```\r\nExpected output:\r\n```\r\n9\r\n1\r\n2\r\n3\r\n1001\r\n1\r\n10\r\n11\r\n```","title":"Binary to Decimal Converter GUI JAVA","body":"<p>There are a couple of issues with your code:</p>\n<h4>Index ouf of bounds</h4>\n<p>When using <code>str.charAt()</code> you can only have indices between <code>0</code> inclusive and <code>str.length - 1</code> inclusive, meaning that <code>str.charAt(str.length)</code> will result in an out of bounds error. To prevent that use <code>binary.length() - i - 1</code> instead of <code>binary.length() - i</code>.</p>\n<h4>Type-casting to <code>char</code></h4>\n<p>What you do in this line <code>char number = (char) (select * Math.pow(2, i));</code> doesn't make any sense. You want to have an <code>int</code> returned not a <code>char</code>. <code>select</code> is a <code>char</code> here and doesn't hold the value <code>0</code> or <code>1</code> as you seem to think it does. Also <code>Math.pow()</code> is unnecessary here, you can just use a <a href=\"https://www.interviewcake.com/concept/java/bit-shift\" rel=\"nofollow noreferrer\">bit-shift</a> which will be faster and prevent unnecessary type casts.</p>\n<h4>Ignore <code>0</code> bits</h4>\n<p>As I've pointed out before <code>select</code> hold the chars <code>'0'</code> and <code>'1'</code> which don't translate to <code>0</code> and <code>1</code> integers as you seem to think. Therefore your calculation with <code>select * Math.pow(2, i)</code> yields unexpected results. Instead you could just use an <code>if</code> condition checking whether a char is <code>'0'</code>. This way you also save an expensive multiplication operation.</p>\n<p>As you only index the individual chars of the String you could just transform everything to a <code>char</code> array.</p>\n<p>Here an implementation showing how to convert from a binary string to a decimal number. It also shows how you can use <code>Integer::toBinaryString()</code> to convert in the opposite direction.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Application {\n    public static void main(String[] args) {\n        System.out.println(convBinaryStringToInt(&quot;1001&quot;));\n        System.out.println(convBinaryStringToInt(&quot;0001&quot;));\n        System.out.println(convBinaryStringToInt(&quot;0010&quot;));\n        System.out.println(convBinaryStringToInt(&quot;0011&quot;));\n\n        // convert the other way round\n        System.out.println(Integer.toBinaryString(9));\n        System.out.println(Integer.toBinaryString(1));\n        System.out.println(Integer.toBinaryString(2));\n        System.out.println(Integer.toBinaryString(3));\n    }\n\n    public static int convBinaryStringToInt(String binary) {\n        int decimalNumber = 0;\n        var bits = binary.toCharArray();\n        for (int i = 0; i &lt; bits.length; i++) {\n            // add -1 otherwise you will run out of bounds\n            char bit = bits[bits.length - i - 1];\n            // skip zeros\n            if(bit == '0') continue;\n            // now we know we have a one bit, instead of using Math.pow() we can just bit shift which is faster and\n            // prevents unnecessary type casting\n            // shift 1 bit to left\n            int number = 1 &lt;&lt; i;\n            decimalNumber += number;\n        }\n        return decimalNumber;\n    }\n}\n</code></pre>\n<p>Expected output:</p>\n<pre><code>9\n1\n2\n3\n1001\n1\n10\n11\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23721672,"reputation":39,"user_id":17742135,"display_name":"kilzah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650811873,"creation_date":1650811873,"answer_id":71989560,"question_id":71987860,"body_markdown":"**CODE FOR CONVERTING**\\\r\nthis is what I used in converting binary to decimal. but instead of getting decimal it prints out null+decimal and the maximum binary numbers that it could read is 2 binary number example: Binary:111 when converted to decimal it prints out Null24 which is 11000 in binary that&#39;s the problem. When getting big binary numbers 8 digits it explodes and I dont know how to fix this.\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    import java.awt.event.*;\r\n    \r\n    public class BinaryGUI extends BinaryGUIDemo {\r\n    \r\n    \r\n    \t    public static void main(String[] args) {\r\n    \t        new BinaryGUI();\r\n    \t    \t \r\n    \t        int n;\r\n    \t        String numInput;\r\n    \t        String binary;\r\n    \t        numInput = JOptionPane.showInputDialog(null, &quot;Enter a number:&quot;);\r\n    \t\t\tn = Integer.parseInt(numInput);\r\n    \t \r\n    \t         binary  = Integer.toBinaryString(n);\r\n    \t        JOptionPane.showMessageDialog(null, &quot;Binary equivalent is: &quot; +binary);\r\n    \t    }\r\n    \r\n    \t    private JFrame frame;\r\n    \t    private JButton button;\r\n    \t    private JTextField text;\r\n    \t    private JTextField text2;\r\n    \t    private String decimalnumber = null;\r\n    \r\n    \t    public BinaryGUI() {\r\n    \t    \t\r\n    \t        frame = new JFrame(&quot;Conversion!&quot;);\r\n    \r\n    \t        JLabel label = new JLabel(&quot;Binary:&quot;);\r\n    \t        frame.setLayout(new FlowLayout());\r\n    \t        frame.add(label);\r\n    \r\n    \t        text = new JTextField(15);\r\n    \t        frame.add(text);\r\n    \r\n    \t        JLabel label2 = new JLabel(&quot;Decimal:&quot;);\r\n    \t        frame.add(label2);\r\n    \r\n    \t        text2 = new JTextField(15);\r\n    \t        frame.add(text2);\r\n    \r\n    \t        \r\n    \t        button = new JButton(&quot;Convert&quot;);\r\n    \t        button.addActionListener(new ButtonListener());\r\n    \t        frame.add(button);\r\n    \t        \r\n    \t        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t        frame.setSize(250, 300);\r\n    \t        frame.setLocationRelativeTo(null);\r\n    \t        frame.setVisible(true);\r\n    \t    }\r\n    \r\n    \t    public void Convert() {\r\n    \t\t\tString binary = text.getText();\r\n    \t\t\tvar bits = binary.toCharArray();\r\n    \t        for (int i = 1; i &lt; bits.length; i++) {\r\n    \t        \tchar select = binary.charAt(binary.length() - i - 1);\r\n    \t            if(select == &#39;0&#39;) continue;\r\n    \t            int number = 1 &lt;&lt; i;\r\n    \t            decimalnumber += number;\r\n    \t        }\r\n    \t    }\r\n    \t    public class ButtonListener implements ActionListener {\r\n    \t        public void actionPerformed(ActionEvent e) {\r\n    \t            Convert();\r\n    \t            if (button.getText().equals(&quot;Convert&quot;)) {\r\n    \t                text2.setText(decimalnumber);\r\n    \t                text.getText();\r\n    \t                text2.getText();\r\n    \t            } else {\r\n    \t            }\r\n    \t        }\r\n    \t    }\r\n    \t}\r\n\r\n","title":"Binary to Decimal Converter GUI JAVA","body":"<p><strong>CODE FOR CONVERTING</strong><br />\nthis is what I used in converting binary to decimal. but instead of getting decimal it prints out null+decimal and the maximum binary numbers that it could read is 2 binary number example: Binary:111 when converted to decimal it prints out Null24 which is 11000 in binary that's the problem. When getting big binary numbers 8 digits it explodes and I dont know how to fix this.</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport java.awt.event.*;\n\npublic class BinaryGUI extends BinaryGUIDemo {\n\n\n        public static void main(String[] args) {\n            new BinaryGUI();\n             \n            int n;\n            String numInput;\n            String binary;\n            numInput = JOptionPane.showInputDialog(null, &quot;Enter a number:&quot;);\n            n = Integer.parseInt(numInput);\n     \n             binary  = Integer.toBinaryString(n);\n            JOptionPane.showMessageDialog(null, &quot;Binary equivalent is: &quot; +binary);\n        }\n\n        private JFrame frame;\n        private JButton button;\n        private JTextField text;\n        private JTextField text2;\n        private String decimalnumber = null;\n\n        public BinaryGUI() {\n            \n            frame = new JFrame(&quot;Conversion!&quot;);\n\n            JLabel label = new JLabel(&quot;Binary:&quot;);\n            frame.setLayout(new FlowLayout());\n            frame.add(label);\n\n            text = new JTextField(15);\n            frame.add(text);\n\n            JLabel label2 = new JLabel(&quot;Decimal:&quot;);\n            frame.add(label2);\n\n            text2 = new JTextField(15);\n            frame.add(text2);\n\n            \n            button = new JButton(&quot;Convert&quot;);\n            button.addActionListener(new ButtonListener());\n            frame.add(button);\n            \n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.setSize(250, 300);\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n        }\n\n        public void Convert() {\n            String binary = text.getText();\n            var bits = binary.toCharArray();\n            for (int i = 1; i &lt; bits.length; i++) {\n                char select = binary.charAt(binary.length() - i - 1);\n                if(select == '0') continue;\n                int number = 1 &lt;&lt; i;\n                decimalnumber += number;\n            }\n        }\n        public class ButtonListener implements ActionListener {\n            public void actionPerformed(ActionEvent e) {\n                Convert();\n                if (button.getText().equals(&quot;Convert&quot;)) {\n                    text2.setText(decimalnumber);\n                    text.getText();\n                    text2.getText();\n                } else {\n                }\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":23721672,"reputation":39,"user_id":17742135,"display_name":"kilzah"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":388,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1650811873,"creation_date":1650798972,"question_id":71987860,"body_markdown":"I&#39;ve tried to finish my program but it cannot convert to binary what do you think is the problem? if I press convert it would simple run a script saying, string index is out of range on how many digits of the binary. and if so how would I improve the codes. Thank you for the ones who would comment to this thread :&gt;\r\n\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    import java.awt.event.*;\r\n    \r\n    public class BinaryGUI extends BinaryGUIDemo {\r\n    \r\n    \r\n    \t    public static void main(String[] args) {\r\n    \t        new BinaryGUI();\r\n    \t    }\r\n    \r\n    \t    private JFrame frame;\r\n    \t    private JButton button;\r\n    \t    private JTextField text;\r\n    \t    private JTextField text2;\r\n    \t    private String decimalnumber = null;\r\n    \r\n    \t    public BinaryGUI() {\r\n    \t        frame = new JFrame(&quot;Conversion!&quot;);\r\n    \r\n    \t        JLabel label = new JLabel(&quot;Binary:&quot;);\r\n    \t        frame.setLayout(new FlowLayout());\r\n    \t        frame.add(label);\r\n    \r\n    \t        text = new JTextField(15);\r\n    \t        frame.add(text);\r\n    \r\n    \t        JLabel label2 = new JLabel(&quot;Decimal:&quot;);\r\n    \t        frame.add(label2);\r\n    \r\n    \t        text2 = new JTextField(15);\r\n    \t        frame.add(text2);\r\n    \r\n    \t        \r\n    \t        button = new JButton(&quot;Convert&quot;);\r\n    \t        button.addActionListener(new ButtonListener());\r\n    \t        frame.add(button);\r\n    \t        \r\n    \t        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t        frame.setSize(250, 300);\r\n    \t        frame.setLocationRelativeTo(null);\r\n    \t        frame.setVisible(true);\r\n    \t    }\r\n    \r\n    \t    public void Convert() {\r\n    \t        String binary = text.getText();\r\n    \t        int i;\r\n    \t        for (i = 0; i &lt; binary.length(); i++) {\r\n    \t            char select = binary.charAt(binary.length() - i);\r\n    \t            char number = (char) (select * Math.pow(2, i));\r\n    \t            decimalnumber += number;\r\n    \t        }\r\n    \t    }\r\n    \r\n    \t    public class ButtonListener implements ActionListener {\r\n    \t        public void actionPerformed(ActionEvent e) {\r\n    \t            Convert();\r\n    \t            if (button.getText().equals(&quot;Convert&quot;)) {\r\n    \t                text2.setText(decimalnumber);\r\n    \t                text.getText();\r\n    \t                text2.getText();\r\n    \t            } else {\r\n    \t            }\r\n    \t        }\r\n    \t    }\r\n    \t}","title":"Binary to Decimal Converter GUI JAVA","body":"<p>I've tried to finish my program but it cannot convert to binary what do you think is the problem? if I press convert it would simple run a script saying, string index is out of range on how many digits of the binary. and if so how would I improve the codes. Thank you for the ones who would comment to this thread :&gt;</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport java.awt.event.*;\n\npublic class BinaryGUI extends BinaryGUIDemo {\n\n\n        public static void main(String[] args) {\n            new BinaryGUI();\n        }\n\n        private JFrame frame;\n        private JButton button;\n        private JTextField text;\n        private JTextField text2;\n        private String decimalnumber = null;\n\n        public BinaryGUI() {\n            frame = new JFrame(&quot;Conversion!&quot;);\n\n            JLabel label = new JLabel(&quot;Binary:&quot;);\n            frame.setLayout(new FlowLayout());\n            frame.add(label);\n\n            text = new JTextField(15);\n            frame.add(text);\n\n            JLabel label2 = new JLabel(&quot;Decimal:&quot;);\n            frame.add(label2);\n\n            text2 = new JTextField(15);\n            frame.add(text2);\n\n            \n            button = new JButton(&quot;Convert&quot;);\n            button.addActionListener(new ButtonListener());\n            frame.add(button);\n            \n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.setSize(250, 300);\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n        }\n\n        public void Convert() {\n            String binary = text.getText();\n            int i;\n            for (i = 0; i &lt; binary.length(); i++) {\n                char select = binary.charAt(binary.length() - i);\n                char number = (char) (select * Math.pow(2, i));\n                decimalnumber += number;\n            }\n        }\n\n        public class ButtonListener implements ActionListener {\n            public void actionPerformed(ActionEvent e) {\n                Convert();\n                if (button.getText().equals(&quot;Convert&quot;)) {\n                    text2.setText(decimalnumber);\n                    text.getText();\n                    text2.getText();\n                } else {\n                }\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","list","dictionary","arraylist","sum"],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650807045,"creation_date":1650807045,"answer_id":71988898,"question_id":71988592,"body_markdown":"First, the name of your method is somewhat misleading. You should think about it and change it to something more meaningful than `multiValueMap`. \r\n\r\nYou can create the sums for the individual categories by simply applying a downstream collector like `Collectors.summingDouble`: \r\n\r\n    private static Map&lt;String, Double&gt; multiValueMap(List&lt;ProductCategories&gt; categoryList) {\r\n        return categoryList.stream()\r\n                .collect(Collectors.groupingBy(ProductCategories::getCategoryName,\r\n                        Collectors.summingDouble(ProductCategories::getPrice)));\r\n    }","title":"Calculate the product total sum of each category in Map - Java","body":"<p>First, the name of your method is somewhat misleading. You should think about it and change it to something more meaningful than <code>multiValueMap</code>.</p>\n<p>You can create the sums for the individual categories by simply applying a downstream collector like <code>Collectors.summingDouble</code>:</p>\n<pre><code>private static Map&lt;String, Double&gt; multiValueMap(List&lt;ProductCategories&gt; categoryList) {\n    return categoryList.stream()\n            .collect(Collectors.groupingBy(ProductCategories::getCategoryName,\n                    Collectors.summingDouble(ProductCategories::getPrice)));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650811221,"creation_date":1650808263,"answer_id":71989051,"question_id":71988592,"body_markdown":"&gt; I am trying to calculate the **total sum** value of products for each `CategoryName`, then get the category where the total sum is the greatest, and **display this sum**.\r\n\r\nTo find the maximum total price, first you need to find the total price for each category.\r\n\r\nYou can do it either by using a combination of collectors `Collectors.groupingBy` and `Collectors.summingDouble` as a downstream, or with `Collectors.toMap` by providing a *merge function* as a third argument of this collector.\r\n\r\nAnd then create a stream over the values of the intermediate map and retrieve the maximum.\r\n__________________________________________\r\n\r\nIf you need both maximum total price and a name of category, then need to create a stream over the entry set and peek the entry with maximum value providing `Map.Entry.comparingByValue()` as comparator.\r\n\r\n        private static Map.Entry&lt;String, Double&gt; getMaxByCategoryName(List&lt;ProductCategories&gt; categoryList) {\r\n            return categoryList.stream()\r\n                .collect(Collectors.toMap(ProductCategories::getCategoryName,\r\n                            ProductCategories::getPrice,\r\n                            Double::sum))\r\n                .entrySet().stream()\r\n                .max(Map.Entry.comparingByValue())\r\n                .orElse(Map.entry(&quot;no data evalable&quot;, 0d));\r\n        }","title":"Calculate the product total sum of each category in Map - Java","body":"<blockquote>\n<p>I am trying to calculate the <strong>total sum</strong> value of products for each <code>CategoryName</code>, then get the category where the total sum is the greatest, and <strong>display this sum</strong>.</p>\n</blockquote>\n<p>To find the maximum total price, first you need to find the total price for each category.</p>\n<p>You can do it either by using a combination of collectors <code>Collectors.groupingBy</code> and <code>Collectors.summingDouble</code> as a downstream, or with <code>Collectors.toMap</code> by providing a <em>merge function</em> as a third argument of this collector.</p>\n<p>And then create a stream over the values of the intermediate map and retrieve the maximum.</p>\n<hr />\n<p>If you need both maximum total price and a name of category, then need to create a stream over the entry set and peek the entry with maximum value providing <code>Map.Entry.comparingByValue()</code> as comparator.</p>\n<pre><code>    private static Map.Entry&lt;String, Double&gt; getMaxByCategoryName(List&lt;ProductCategories&gt; categoryList) {\n        return categoryList.stream()\n            .collect(Collectors.toMap(ProductCategories::getCategoryName,\n                        ProductCategories::getPrice,\n                        Double::sum))\n            .entrySet().stream()\n            .max(Map.Entry.comparingByValue())\n            .orElse(Map.entry(&quot;no data evalable&quot;, 0d));\n    }\n</code></pre>\n"}],"owner":{"account_id":24967093,"reputation":39,"user_id":18830542,"display_name":"Doublementi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":378,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71989051,"answer_count":2,"score":1,"last_activity_date":1650811221,"creation_date":1650804663,"question_id":71988592,"body_markdown":"I have a Map and I am trying to calculate the total sum value of products for each CategoryName, then get the category where the total sum is the greatest, and display this sum.\r\n\r\nI grouped the Map by categories, now i am struggling how i could calculate this sum, any solutions?\r\n \r\nThat&#39;s my class:\r\n\r\n```\r\npublic class ProductCategories {\r\n        private String categoryName;\r\n        private int productId;\r\n        private double price;\r\n\r\n        public ProductCategories(String categoryName, int productId, double price) {\r\n            this.categoryName = categoryName;\r\n            this.productId = productId;\r\n            this.price = price;\r\n        }\r\n\r\n        public String getCategoryName() {\r\n            return categoryName;\r\n        }\r\n\r\n        public int getProductId() {\r\n            return productId;\r\n        }\r\n\r\n        public double getPrice() {\r\n        return price;\r\n    }\r\n\r\n\r\n\r\n        public void setCategoryName(String categoryName) {\r\n            this.categoryName = categoryName;\r\n        }\r\n\r\n        public void setProductId(int productId) {\r\n            this.productId = productId;\r\n        }\r\n\r\n        public void setProductId(double price) {\r\n        this.price = price;\r\n    }\r\n\r\n\r\n    @Override\r\n        public String toString() {\r\n            return &quot;ProductCategories{&quot; + &quot;Category name=&#39;&quot; + categoryName + &#39;\\&#39;&#39; + &quot;, productID=&quot; + productId + &quot;, price=&#39;&quot; + price + &#39;\\&#39;&#39; + &#39;}&#39;;\r\n        }\r\n\r\n\r\n        private static Map&lt;String, Integer&gt; productIdToNameMap(List&lt;ProductCategories&gt; categoryList) {\r\n            return categoryList.stream()\r\n                    .collect(Collectors.toMap(ProductCategories::getCategoryName, ProductCategories::getProductId, (first, second) -&gt; first + second, TreeMap::new\r\n                    ));\r\n        }\r\n\r\n        private static Map&lt;String, List&lt;ProductCategories&gt;&gt; multiValueMap(List&lt;ProductCategories&gt; categoryList) {\r\n            return categoryList.stream()\r\n                    .collect(Collectors.groupingBy(ProductCategories::getCategoryName));\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            List&lt;ProductCategories&gt; categoryList = new ArrayList&lt;&gt;();\r\n            categoryList.add(new ProductCategories(&quot;The Fellowship of the Ring&quot;, 1954, 12));\r\n            categoryList.add(new ProductCategories(&quot;The Return of the King&quot;, 1954, 12));\r\n            categoryList.add(new ProductCategories(&quot;The Return of the King&quot;, 1955, 12));\r\n\r\n\r\n            //System.out.println(productIdToNameMap(categoryList));\r\n            System.out.println(multiValueMap(categoryList));\r\n        }\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```\r\n{The Return of the King=[ProductCategories{Category name=&#39;The Return of the King&#39;, productID=1954, price=&#39;12.0&#39;}, ProductCategories{Category name=&#39;The Return of the King&#39;, productID=1955, price=&#39;12.0&#39;}], The Fellowship of the Ring=[ProductCategories{Category name=&#39;The Fellowship of the Ring&#39;, productID=1954, price=&#39;12.0&#39;}]}\r\n```","title":"Calculate the product total sum of each category in Map - Java","body":"<p>I have a Map and I am trying to calculate the total sum value of products for each CategoryName, then get the category where the total sum is the greatest, and display this sum.</p>\n<p>I grouped the Map by categories, now i am struggling how i could calculate this sum, any solutions?</p>\n<p>That's my class:</p>\n<pre><code>public class ProductCategories {\n        private String categoryName;\n        private int productId;\n        private double price;\n\n        public ProductCategories(String categoryName, int productId, double price) {\n            this.categoryName = categoryName;\n            this.productId = productId;\n            this.price = price;\n        }\n\n        public String getCategoryName() {\n            return categoryName;\n        }\n\n        public int getProductId() {\n            return productId;\n        }\n\n        public double getPrice() {\n        return price;\n    }\n\n\n\n        public void setCategoryName(String categoryName) {\n            this.categoryName = categoryName;\n        }\n\n        public void setProductId(int productId) {\n            this.productId = productId;\n        }\n\n        public void setProductId(double price) {\n        this.price = price;\n    }\n\n\n    @Override\n        public String toString() {\n            return &quot;ProductCategories{&quot; + &quot;Category name='&quot; + categoryName + '\\'' + &quot;, productID=&quot; + productId + &quot;, price='&quot; + price + '\\'' + '}';\n        }\n\n\n        private static Map&lt;String, Integer&gt; productIdToNameMap(List&lt;ProductCategories&gt; categoryList) {\n            return categoryList.stream()\n                    .collect(Collectors.toMap(ProductCategories::getCategoryName, ProductCategories::getProductId, (first, second) -&gt; first + second, TreeMap::new\n                    ));\n        }\n\n        private static Map&lt;String, List&lt;ProductCategories&gt;&gt; multiValueMap(List&lt;ProductCategories&gt; categoryList) {\n            return categoryList.stream()\n                    .collect(Collectors.groupingBy(ProductCategories::getCategoryName));\n        }\n\n        public static void main(String[] args) {\n            List&lt;ProductCategories&gt; categoryList = new ArrayList&lt;&gt;();\n            categoryList.add(new ProductCategories(&quot;The Fellowship of the Ring&quot;, 1954, 12));\n            categoryList.add(new ProductCategories(&quot;The Return of the King&quot;, 1954, 12));\n            categoryList.add(new ProductCategories(&quot;The Return of the King&quot;, 1955, 12));\n\n\n            //System.out.println(productIdToNameMap(categoryList));\n            System.out.println(multiValueMap(categoryList));\n        }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>{The Return of the King=[ProductCategories{Category name='The Return of the King', productID=1954, price='12.0'}, ProductCategories{Category name='The Return of the King', productID=1955, price='12.0'}], The Fellowship of the Ring=[ProductCategories{Category name='The Fellowship of the Ring', productID=1954, price='12.0'}]}\n</code></pre>\n"},{"tags":["java","garbage-collection","jvm-hotspot"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":6,"creation_date":1650811951,"post_id":71989437,"comment_id":127205651,"body_markdown":"The documentation of `WeakHashMap` says: &quot;**Implementation note**: The value objects in a WeakHashMap are held by ordinary strong references. Thus care should be taken to ensure that value objects do not strongly refer to their own keys, either directly or indirectly, since that will prevent the keys from being discarded.&quot; This means your keys are strongly referenced when you do not comment out $1.","body":"The documentation of <code>WeakHashMap</code> says: &quot;<b>Implementation note</b>: The value objects in a WeakHashMap are held by ordinary strong references. Thus care should be taken to ensure that value objects do not strongly refer to their own keys, either directly or indirectly, since that will prevent the keys from being discarded.&quot; This means your keys are strongly referenced when you do not comment out $1."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1650816353,"post_id":71989437,"comment_id":127206552,"body_markdown":"Weak references only go away when all strong references to their contents are gone.  You&#39;re holding a strong reference from the value, which is itself held with a normal strong reference.","body":"Weak references only go away when all strong references to their contents are gone.  You&#39;re holding a strong reference from the value, which is itself held with a normal strong reference."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1650881444,"post_id":71989437,"comment_id":127219894,"body_markdown":"A garbage collector does not collect variables but *objects*. Since you put the object into a map, it is obviously reachable by the map, in other words, an object in heap memory. There is no sense in using the term “local variable” in this context. It’s not the local variable which is linked but the object. Nothing you’ve shown so far, is indicating that the object is “in the Tenured Generation”, not that it matters at all. As others already said, if the object is reachable through the mapped value, it can’t get garbage collected.","body":"A garbage collector does not collect variables but <i>objects</i>. Since you put the object into a map, it is obviously reachable by the map, in other words, an object in heap memory. There is no sense in using the term “local variable” in this context. It’s not the local variable which is linked but the object. Nothing you’ve shown so far, is indicating that the object is “in the Tenured Generation”, not that it matters at all. As others already said, if the object is reachable through the mapped value, it can’t get garbage collected."}],"owner":{"account_id":25076959,"reputation":1,"user_id":18930267,"display_name":"Xiaopang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650810900,"creation_date":1650810900,"question_id":71989437,"body_markdown":"In the project, it was suddenly found that full gc appeared frequently. After investigation, it was found that a local variable was linked to the global cache through a weak reference, which could not be recycled in the minor gc, resulting in the Tenured Generation.\r\n\r\n[class reference][1]\r\n\r\nrecurrent code:\r\n\r\nJDK:jdk1.8.0_151  \r\nJVM args: -Xmx500m -Xms500m\r\n\r\n    public class WeakRefTest {\r\n    @Test\r\n    public void test() throws InterruptedException {\r\n        Thread.sleep(5000);\r\n        Map&lt;Object, ValueObject&gt; map = new WeakHashMap&lt;&gt;();\r\n        while (true) {\r\n            mapPut(map);\r\n            map.size();\r\n        }\r\n    }\r\n    private void mapPut(Map&lt;Object, ValueObject&gt; map) {\r\n        Object o = new Object();\r\n        map.put(o, new ValueObject(o));\r\n    }\r\n    private static class ValueObject {\r\n        private Object key;\r\n        private int[] array;\r\n        public ValueObject(Object key) {\r\n            this.key = key;   // [$1] Commenting this line of code is normal (local variables are recycled in the minor gc)\r\n            this.array = new int[100];\r\n        }\r\n    }}\r\n\r\n\r\n[memory result][2]\r\n[memory result][3]\r\n\r\n[comment $1 line of code result][4]\r\n[comment $1 line of code result][5]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pLp4f.png\r\n  [2]: https://i.stack.imgur.com/k0gJ6.png\r\n  [3]: https://i.stack.imgur.com/KPvn7.png\r\n  [4]: https://i.stack.imgur.com/P0yBY.png\r\n  [5]: https://i.stack.imgur.com/8SvTD.png","title":"Why do weak reference local variables enter the Tenured Generation","body":"<p>In the project, it was suddenly found that full gc appeared frequently. After investigation, it was found that a local variable was linked to the global cache through a weak reference, which could not be recycled in the minor gc, resulting in the Tenured Generation.</p>\n<p><a href=\"https://i.stack.imgur.com/pLp4f.png\" rel=\"nofollow noreferrer\">class reference</a></p>\n<p>recurrent code:</p>\n<p>JDK:jdk1.8.0_151<br />\nJVM args: -Xmx500m -Xms500m</p>\n<pre><code>public class WeakRefTest {\n@Test\npublic void test() throws InterruptedException {\n    Thread.sleep(5000);\n    Map&lt;Object, ValueObject&gt; map = new WeakHashMap&lt;&gt;();\n    while (true) {\n        mapPut(map);\n        map.size();\n    }\n}\nprivate void mapPut(Map&lt;Object, ValueObject&gt; map) {\n    Object o = new Object();\n    map.put(o, new ValueObject(o));\n}\nprivate static class ValueObject {\n    private Object key;\n    private int[] array;\n    public ValueObject(Object key) {\n        this.key = key;   // [$1] Commenting this line of code is normal (local variables are recycled in the minor gc)\n        this.array = new int[100];\n    }\n}}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/k0gJ6.png\" rel=\"nofollow noreferrer\">memory result</a>\n<a href=\"https://i.stack.imgur.com/KPvn7.png\" rel=\"nofollow noreferrer\">memory result</a></p>\n<p><a href=\"https://i.stack.imgur.com/P0yBY.png\" rel=\"nofollow noreferrer\">comment $1 line of code result</a>\n<a href=\"https://i.stack.imgur.com/8SvTD.png\" rel=\"nofollow noreferrer\">comment $1 line of code result</a></p>\n"},{"tags":["java","serialization","objectinputstream","objectoutputstream"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1650812580,"post_id":71989435,"comment_id":127205768,"body_markdown":"`ObjectInputStream` and `ObjectOutputStream` don&#39;t send the class along. You need the exact same class on both sides, at the same version (or you mess with serialVersionUID and have extensively tested conversion between versions which is _extremely_ tricky). You also need all &#39;dependency&#39; classes - if your class contains a field of type `Foobar`, you need Foobar.class as well, and if Foobar in turn has a field of type `Qux`, you need that class as well, and so on. And all on the same version. There&#39;s a reason nobody uses OIS and OOS: They&#39;re nearly impossible to test and use.","body":"<code>ObjectInputStream</code> and <code>ObjectOutputStream</code> don&#39;t send the class along. You need the exact same class on both sides, at the same version (or you mess with serialVersionUID and have extensively tested conversion between versions which is <i>extremely</i> tricky). You also need all &#39;dependency&#39; classes - if your class contains a field of type <code>Foobar</code>, you need Foobar.class as well, and if Foobar in turn has a field of type <code>Qux</code>, you need that class as well, and so on. And all on the same version. There&#39;s a reason nobody uses OIS and OOS: They&#39;re nearly impossible to test and use."},{"owner":{"account_id":23992494,"reputation":68,"user_id":17978414,"display_name":"pandaman"},"score":0,"creation_date":1650813117,"post_id":71989435,"comment_id":127205866,"body_markdown":"so I have to create another module?","body":"so I have to create another module?"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1650814070,"post_id":71989435,"comment_id":127206046,"body_markdown":"I have no idea what you&#39;re asking.","body":"I have no idea what you&#39;re asking."},{"owner":{"account_id":23992494,"reputation":68,"user_id":17978414,"display_name":"pandaman"},"score":0,"creation_date":1650815438,"post_id":71989435,"comment_id":127206353,"body_markdown":"I have 2 modules (Server and Client) and each of them has data class implementing Serializable and do I have to create new module where I keep just 1 data class, which is used in Server and Client modules?","body":"I have 2 modules (Server and Client) and each of them has data class implementing Serializable and do I have to create new module where I keep just 1 data class, which is used in Server and Client modules?"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1650839129,"post_id":71989435,"comment_id":127211515,"body_markdown":"Yes. Both need to &#39;include&#39; that module in their deployment. Or, have the server include the client, or the client include the server code, and make sure all classes (and classes for everything used in that class, recursively) is in the one that is included by the other.","body":"Yes. Both need to &#39;include&#39; that module in their deployment. Or, have the server include the client, or the client include the server code, and make sure all classes (and classes for everything used in that class, recursively) is in the one that is included by the other."},{"owner":{"account_id":23992494,"reputation":68,"user_id":17978414,"display_name":"pandaman"},"score":0,"creation_date":1650844733,"post_id":71989435,"comment_id":127212246,"body_markdown":"but is keeping Server in a client safe and good? I already have client in Server module but still I need another to receive and add to my VBox","body":"but is keeping Server in a client safe and good? I already have client in Server module but still I need another to receive and add to my VBox"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1650853643,"post_id":71989435,"comment_id":127213373,"body_markdown":"That&#39;s an opinion question. Nothing is going to go &#39;wrong&#39; - whether it&#39;s good or bad design is beyond the scope of Stack Overflow.","body":"That&#39;s an opinion question. Nothing is going to go &#39;wrong&#39; - whether it&#39;s good or bad design is beyond the scope of Stack Overflow."},{"owner":{"account_id":23992494,"reputation":68,"user_id":17978414,"display_name":"pandaman"},"score":0,"creation_date":1650888918,"post_id":71989435,"comment_id":127222395,"body_markdown":"but making server in client doesnt make really sense for me. I mean then you can create multiple servers or get access to server files and database login.","body":"but making server in client doesnt make really sense for me. I mean then you can create multiple servers or get access to server files and database login."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1650889630,"post_id":71989435,"comment_id":127222629,"body_markdown":"So, then make a 3rd module. Or rewrite it all to ProtoBuf or similar (and do that in... a 3rd module).","body":"So, then make a 3rd module. Or rewrite it all to ProtoBuf or similar (and do that in... a 3rd module)."}],"owner":{"account_id":23992494,"reputation":68,"user_id":17978414,"display_name":"pandaman"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650810893,"creation_date":1650810893,"question_id":71989435,"body_markdown":"so I have problem with my connection between `Server` module and `Client` module.\r\n\r\nI have 2 data classes to read it from `ObjectInputStream` and send with `ObjectOutputStream`\r\nunfortunatelly it can&#39;t find my data class, I tried implementing `Serializable` but it still didn&#39;t work. Please help and thanks.\r\n\r\nMessage.java (I use it for 2 modules):\r\n\r\n```java\r\npublic record Message(String sender, String receiver, String content) implements Serializable {\r\n    @Serial\r\n    private static final long serialVersionUID = 1L;\r\n}\r\n```\r\n\r\nand the `Client` class from `Server` module, where it throws error:\r\n\r\n```java\r\n    public void run() {\r\n        while(needToRun) {\r\n            try {\r\n                int amount = inputStream.available();\r\n                if (amount != 0) {\r\n                    ObjectInputStream objIn = new ObjectInputStream(inputStream);\r\n                    Message object = (Message) objIn.readObject();\r\n                    receivedContent(object);\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n```\r\nit throws error when I try to read the object.\r\n\r\nand sending `Message` method:\r\n\r\n```java\r\n    public void send(Message msg) {\r\n        try{\r\n            ObjectOutputStream objOut = new ObjectOutputStream(outputStream);\r\n            objOut.writeObject(msg);\r\n        } catch (Exception ex){\r\n            ex.printStackTrace();\r\n        }\r\n\r\n    }\r\n```","title":"ClassNotFoundException using ObjectInputStream and data class","body":"<p>so I have problem with my connection between <code>Server</code> module and <code>Client</code> module.</p>\n<p>I have 2 data classes to read it from <code>ObjectInputStream</code> and send with <code>ObjectOutputStream</code>\nunfortunatelly it can't find my data class, I tried implementing <code>Serializable</code> but it still didn't work. Please help and thanks.</p>\n<p>Message.java (I use it for 2 modules):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record Message(String sender, String receiver, String content) implements Serializable {\n    @Serial\n    private static final long serialVersionUID = 1L;\n}\n</code></pre>\n<p>and the <code>Client</code> class from <code>Server</code> module, where it throws error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public void run() {\n        while(needToRun) {\n            try {\n                int amount = inputStream.available();\n                if (amount != 0) {\n                    ObjectInputStream objIn = new ObjectInputStream(inputStream);\n                    Message object = (Message) objIn.readObject();\n                    receivedContent(object);\n                }\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n</code></pre>\n<p>it throws error when I try to read the object.</p>\n<p>and sending <code>Message</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public void send(Message msg) {\n        try{\n            ObjectOutputStream objOut = new ObjectOutputStream(outputStream);\n            objOut.writeObject(msg);\n        } catch (Exception ex){\n            ex.printStackTrace();\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","hibernate","jpa","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":23191137,"reputation":1266,"user_id":17287498,"display_name":"Ben Zegveld"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650796421,"creation_date":1650752490,"answer_id":71984048,"question_id":71983637,"body_markdown":"Instead of an `interface` you can do the first option with an `abstract class`. That way you can expose the primary method while still using mapstruct for all mappings except the `Book`&#39;s `reviews`. This also removes the drawback of needing to manually map the other fields, since you can use a secondary method for it.\r\n\r\n```java\r\n@Mapper\r\npublic abstract class BookMapper {\r\n\r\n    public Book map(BookDto dto) {\r\n        Book book = mapBook( dto );\r\n\r\n        for ( ReviewDto reviewDto : dto.getReviews() ) {\r\n            Review review = mapReview( reviewDto );\r\n            book.addReview( review );\r\n        }\r\n\r\n        return book;\r\n    }\r\n\r\n    // mapstruct annotations\r\n    @Mapping(target = &quot;reviews&quot;, ignore=true) // if needed\r\n    abstract Book mapBook(BookDto dto);\r\n\r\n    // mapstruct annotations\r\n    @Mapping(target = &quot;book&quot;, ignore=true) // if needed\r\n    abstract Review mapReview(ReviewDto reviewDto);\r\n}\r\n```\r\n\r\nEdit: [Eugene&#39;s answer](https://stackoverflow.com/a/71984328/17287498) is better in my opinion.","title":"MapStruct custom list mapping for bi-directional Hibernate association","body":"<p>Instead of an <code>interface</code> you can do the first option with an <code>abstract class</code>. That way you can expose the primary method while still using mapstruct for all mappings except the <code>Book</code>'s <code>reviews</code>. This also removes the drawback of needing to manually map the other fields, since you can use a secondary method for it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper\npublic abstract class BookMapper {\n\n    public Book map(BookDto dto) {\n        Book book = mapBook( dto );\n\n        for ( ReviewDto reviewDto : dto.getReviews() ) {\n            Review review = mapReview( reviewDto );\n            book.addReview( review );\n        }\n\n        return book;\n    }\n\n    // mapstruct annotations\n    @Mapping(target = &quot;reviews&quot;, ignore=true) // if needed\n    abstract Book mapBook(BookDto dto);\n\n    // mapstruct annotations\n    @Mapping(target = &quot;book&quot;, ignore=true) // if needed\n    abstract Review mapReview(ReviewDto reviewDto);\n}\n</code></pre>\n<p>Edit: <a href=\"https://stackoverflow.com/a/71984328/17287498\">Eugene's answer</a> is better in my opinion.</p>\n"},{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1650759803,"creation_date":1650756116,"answer_id":71984328,"question_id":71983637,"body_markdown":"**Solution 1, [@Context][1]**\r\n&lt;br&gt; This problem can be resolved via [@Context][1].\r\n&lt;br&gt;Mapstruct contributors provide [example][2] how to use `@Context` in  parent/child relations in JPA.\r\n\r\nExample:\r\n```java\r\n@Mapper\r\npublic interface JpaMapper {\r\n    JpaMapper MAPPER = Mappers.getMapper( JpaMapper.class );\r\n\r\n    Book toEntity(BookDTO s, @Context JpaContext ctx);\r\n\r\n    @Mapping(target = &quot;book&quot;, ignore = true)\r\n    Review toEntity(ReviewDTO s, @Context JpaContext ctx);\r\n}\r\n\r\npublic class JpaContext {\r\n    private Book bookEntity;\r\n\r\n    @BeforeMapping\r\n    public void setEntity(@MappingTarget Book parentEntity) {\r\n        this.bookEntity = parentEntity;\r\n        // you could do stuff with the EntityManager here\r\n    }\r\n\r\n    @AfterMapping\r\n    public void establishRelation(@MappingTarget Review childEntity) {\r\n        childEntity.setBook(bookEntity);\r\n        // you could do stuff with the EntityManager here\r\n    }\r\n}\r\n```\r\nUsage:\r\n```java\r\nBook book = JpaMapper.MAPPER.toEntity(bookDTO, new JpaContext());\r\n```\r\n\r\nGenerated code:\r\n```java\r\npublic class JpaMapperImpl implements JpaMapper {\r\n\r\n    @Override\r\n    public Book toEntity(BookDTO s, JpaContext ctx) {\r\n        if ( s == null ) {\r\n            return null;\r\n        }\r\n\r\n        Book book = new Book();\r\n\r\n        ctx.setEntity( book );\r\n\r\n        book.setId( s.getId() );\r\n        book.setName( s.getName() );\r\n        book.setReviews( reviewDTOListToReviewList( s.getReviews(), ctx ) );\r\n\r\n        return book;\r\n    }\r\n\r\n    @Override\r\n    public Review toEntity(ReviewDTO s, JpaContext ctx) {\r\n        if ( s == null ) {\r\n            return null;\r\n        }\r\n\r\n        Review review = new Review();\r\n\r\n        review.setId( s.getId() );\r\n        review.setName( s.getName() );\r\n\r\n        ctx.establishRelation( review );\r\n\r\n        return review;\r\n    }\r\n\r\n    protected List&lt;Review&gt; reviewDTOListToReviewList(List&lt;ReviewDTO&gt; list, JpaContext ctx) {\r\n        if ( list == null ) {\r\n            return null;\r\n        }\r\n\r\n        List&lt;Review&gt; list1 = new ArrayList&lt;Review&gt;( list.size() );\r\n        for ( ReviewDTO reviewDTO : list ) {\r\n            list1.add( toEntity( reviewDTO, ctx ) );\r\n        }\r\n\r\n        return list1;\r\n    }\r\n}\r\n```\r\n&lt;br&gt;**Solution 2, [Collection mapping strategies][3]**\r\n&lt;br&gt;You can specify [CollectionMappingStrategy.ADDER_PREFERRED][4] strategy for collection mapping. It means that Mapstruct will use `addReview(Review review)` method for adding `Review` objects to collection.\r\n&lt;br&gt;I think this is the right solution.\r\n\r\n```java\r\n@Mapper(collectionMappingStrategy = CollectionMappingStrategy.ADDER_PREFERRED)\r\npublic interface JpaMapper {\r\n    JpaMapper MAPPER = Mappers.getMapper( JpaMapper.class );\r\n\r\n    Book toEntity(BookDTO s);\r\n\r\n    @Mapping(target = &quot;book&quot;, ignore = true)\r\n    Review toEntity(ReviewDTO s);\r\n}\r\n```\r\nGenerated code:\r\n```java\r\npublic class JpaMapperImpl implements JpaMapper {\r\n\r\n    @Override\r\n    public Book toEntity(BookDTO s) {\r\n        if ( s == null ) {\r\n            return null;\r\n        }\r\n\r\n        Book book = new Book();\r\n\r\n        book.setId( s.getId() );\r\n        book.setName( s.getName() );\r\n        if ( s.getReviews() != null ) {\r\n            for ( ReviewDTO review : s.getReviews() ) {\r\n                book.addReview( toEntity( review ) );\r\n            }\r\n        }\r\n\r\n        return book;\r\n    }\r\n\r\n    @Override\r\n    public Review toEntity(ReviewDTO s) {\r\n        if ( s == null ) {\r\n            return null;\r\n        }\r\n\r\n        Review review = new Review();\r\n\r\n        review.setId( s.getId() );\r\n        review.setName( s.getName() );\r\n\r\n        return review;\r\n    }\r\n}\r\n```\r\n\r\nUnit test:\r\n```java\r\n    @Test\r\n    public void test() {\r\n        BookDTO bookDTO = new BookDTO();\r\n        bookDTO.setId(1L);\r\n        bookDTO.setName(&quot;Book 1&quot;);\r\n\r\n        ReviewDTO reviewDTO1 = new ReviewDTO();\r\n        reviewDTO1.setId(1L);\r\n        reviewDTO1.setName(&quot;Review 1&quot;);\r\n\r\n        ReviewDTO reviewDTO2 = new ReviewDTO();\r\n        reviewDTO2.setId(2L);\r\n        reviewDTO2.setName(&quot;Review 2&quot;);\r\n\r\n        List&lt;ReviewDTO&gt; reviewDTOS = Arrays.asList(reviewDTO1, reviewDTO2);\r\n        bookDTO.setReviews(reviewDTOS);\r\n\r\n        Book book = JpaMapper.MAPPER.toEntity(bookDTO, new JpaContext());\r\n        //Book book = JpaMapper.MAPPER.toEntity(bookDTO);\r\n\r\n        Assert.assertNotNull(book);\r\n        Assert.assertEquals(book.getId(), book.getId());\r\n        Assert.assertEquals(book.getName(), bookDTO.getName());\r\n\r\n        Assert.assertEquals(book.getReviews().size(), bookDTO.getReviews().size());\r\n        Assert.assertEquals(book.getReviews().get(0).getId(), bookDTO.getReviews().get(0).getId());\r\n        Assert.assertEquals(book.getReviews().get(1).getId(), bookDTO.getReviews().get(1).getId());\r\n\r\n        book.getReviews().forEach(review -&gt; Assert.assertEquals(review.getBook(), book));\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://mapstruct.org/documentation/dev/reference/html/#passing-context\r\n  [2]: https://github.com/mapstruct/mapstruct-examples/tree/master/mapstruct-jpa-child-parent/src/main/java/org/mapstruct/jpa\r\n  [3]: https://mapstruct.org/documentation/dev/reference/html/#collection-mapping-strategies\r\n  [4]: https://mapstruct.org/documentation/1.0/api/org/mapstruct/CollectionMappingStrategy.html#ADDER_PREFERRED","title":"MapStruct custom list mapping for bi-directional Hibernate association","body":"<p><strong>Solution 1, <a href=\"https://mapstruct.org/documentation/dev/reference/html/#passing-context\" rel=\"noreferrer\">@Context</a></strong>\n<br> This problem can be resolved via <a href=\"https://mapstruct.org/documentation/dev/reference/html/#passing-context\" rel=\"noreferrer\">@Context</a>.\n<br>Mapstruct contributors provide <a href=\"https://github.com/mapstruct/mapstruct-examples/tree/master/mapstruct-jpa-child-parent/src/main/java/org/mapstruct/jpa\" rel=\"noreferrer\">example</a> how to use <code>@Context</code> in  parent/child relations in JPA.</p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper\npublic interface JpaMapper {\n    JpaMapper MAPPER = Mappers.getMapper( JpaMapper.class );\n\n    Book toEntity(BookDTO s, @Context JpaContext ctx);\n\n    @Mapping(target = &quot;book&quot;, ignore = true)\n    Review toEntity(ReviewDTO s, @Context JpaContext ctx);\n}\n\npublic class JpaContext {\n    private Book bookEntity;\n\n    @BeforeMapping\n    public void setEntity(@MappingTarget Book parentEntity) {\n        this.bookEntity = parentEntity;\n        // you could do stuff with the EntityManager here\n    }\n\n    @AfterMapping\n    public void establishRelation(@MappingTarget Review childEntity) {\n        childEntity.setBook(bookEntity);\n        // you could do stuff with the EntityManager here\n    }\n}\n</code></pre>\n<p>Usage:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Book book = JpaMapper.MAPPER.toEntity(bookDTO, new JpaContext());\n</code></pre>\n<p>Generated code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class JpaMapperImpl implements JpaMapper {\n\n    @Override\n    public Book toEntity(BookDTO s, JpaContext ctx) {\n        if ( s == null ) {\n            return null;\n        }\n\n        Book book = new Book();\n\n        ctx.setEntity( book );\n\n        book.setId( s.getId() );\n        book.setName( s.getName() );\n        book.setReviews( reviewDTOListToReviewList( s.getReviews(), ctx ) );\n\n        return book;\n    }\n\n    @Override\n    public Review toEntity(ReviewDTO s, JpaContext ctx) {\n        if ( s == null ) {\n            return null;\n        }\n\n        Review review = new Review();\n\n        review.setId( s.getId() );\n        review.setName( s.getName() );\n\n        ctx.establishRelation( review );\n\n        return review;\n    }\n\n    protected List&lt;Review&gt; reviewDTOListToReviewList(List&lt;ReviewDTO&gt; list, JpaContext ctx) {\n        if ( list == null ) {\n            return null;\n        }\n\n        List&lt;Review&gt; list1 = new ArrayList&lt;Review&gt;( list.size() );\n        for ( ReviewDTO reviewDTO : list ) {\n            list1.add( toEntity( reviewDTO, ctx ) );\n        }\n\n        return list1;\n    }\n}\n</code></pre>\n<p><br><strong>Solution 2, <a href=\"https://mapstruct.org/documentation/dev/reference/html/#collection-mapping-strategies\" rel=\"noreferrer\">Collection mapping strategies</a></strong>\n<br>You can specify <a href=\"https://mapstruct.org/documentation/1.0/api/org/mapstruct/CollectionMappingStrategy.html#ADDER_PREFERRED\" rel=\"noreferrer\">CollectionMappingStrategy.ADDER_PREFERRED</a> strategy for collection mapping. It means that Mapstruct will use <code>addReview(Review review)</code> method for adding <code>Review</code> objects to collection.\n<br>I think this is the right solution.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(collectionMappingStrategy = CollectionMappingStrategy.ADDER_PREFERRED)\npublic interface JpaMapper {\n    JpaMapper MAPPER = Mappers.getMapper( JpaMapper.class );\n\n    Book toEntity(BookDTO s);\n\n    @Mapping(target = &quot;book&quot;, ignore = true)\n    Review toEntity(ReviewDTO s);\n}\n</code></pre>\n<p>Generated code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class JpaMapperImpl implements JpaMapper {\n\n    @Override\n    public Book toEntity(BookDTO s) {\n        if ( s == null ) {\n            return null;\n        }\n\n        Book book = new Book();\n\n        book.setId( s.getId() );\n        book.setName( s.getName() );\n        if ( s.getReviews() != null ) {\n            for ( ReviewDTO review : s.getReviews() ) {\n                book.addReview( toEntity( review ) );\n            }\n        }\n\n        return book;\n    }\n\n    @Override\n    public Review toEntity(ReviewDTO s) {\n        if ( s == null ) {\n            return null;\n        }\n\n        Review review = new Review();\n\n        review.setId( s.getId() );\n        review.setName( s.getName() );\n\n        return review;\n    }\n}\n</code></pre>\n<p>Unit test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    public void test() {\n        BookDTO bookDTO = new BookDTO();\n        bookDTO.setId(1L);\n        bookDTO.setName(&quot;Book 1&quot;);\n\n        ReviewDTO reviewDTO1 = new ReviewDTO();\n        reviewDTO1.setId(1L);\n        reviewDTO1.setName(&quot;Review 1&quot;);\n\n        ReviewDTO reviewDTO2 = new ReviewDTO();\n        reviewDTO2.setId(2L);\n        reviewDTO2.setName(&quot;Review 2&quot;);\n\n        List&lt;ReviewDTO&gt; reviewDTOS = Arrays.asList(reviewDTO1, reviewDTO2);\n        bookDTO.setReviews(reviewDTOS);\n\n        Book book = JpaMapper.MAPPER.toEntity(bookDTO, new JpaContext());\n        //Book book = JpaMapper.MAPPER.toEntity(bookDTO);\n\n        Assert.assertNotNull(book);\n        Assert.assertEquals(book.getId(), book.getId());\n        Assert.assertEquals(book.getName(), bookDTO.getName());\n\n        Assert.assertEquals(book.getReviews().size(), bookDTO.getReviews().size());\n        Assert.assertEquals(book.getReviews().get(0).getId(), bookDTO.getReviews().get(0).getId());\n        Assert.assertEquals(book.getReviews().get(1).getId(), bookDTO.getReviews().get(1).getId());\n\n        book.getReviews().forEach(review -&gt; Assert.assertEquals(review.getBook(), book));\n    }\n</code></pre>\n"}],"owner":{"account_id":37431,"reputation":837,"user_id":107013,"accept_rate":80,"display_name":"MyKey_"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2824,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":71984328,"answer_count":2,"score":5,"last_activity_date":1650810743,"creation_date":1650748209,"question_id":71983637,"body_markdown":"What is the best way to perform *MapStruct* mapping from a Data Transfer Object (DTO) to a *Hibernate* entity with a bi-directional one-to-many association? \r\n\r\nAssume we have a `BookDto` with multiple reviews of type `ReviewDto` linked to it: \r\n\r\n```java\r\npublic class BookDto {\r\n  private List&lt;ReviewDto&gt; reviews;\r\n  // getter and setters...\r\n}\r\n```\r\n\r\nThe corresponding Hibernate entity `Book` has a one-to-many association to `Review`: \r\n\r\n```java\r\n@Entity\r\npublic class Book {\r\n  @OneToMany(mappedBy = &quot;book&quot;, orphanRemoval = true, cascade = CascadeType.ALL)\r\n  private List&lt;Review&gt; reviews = new ArrayList&lt;&gt;();\r\n  \r\n  public void addReview(Review review) {\r\n    this.reviews.add(review);\r\n    review.setBook(this);\r\n  }\r\n  //...\r\n}\r\n```\r\n```java\r\n@Entity\r\npublic class Review {\r\n  @ManyToOne(fetch = FetchType.LAZY)\r\n  private Book book;\r\n\r\n  public void setBook(Book book) {\r\n    this.book = book;\r\n  }\r\n  //...\r\n}\r\n```\r\n\r\nNote that the book&#39;s `addReview` method sets the association bi-directionally by also calling `review.setBook(this)` as recommended by Hibernate experts (e.g., [&#39;Hibernate Tips: How to map a bi-directional many-to-one association&#39; by Thorben Janssen][1] or [&#39;How to synchronize bidirectional entity associations with JPA and Hibernate&#39; by Vlad Mihalcea][2]) in order to ensure Domain Model relationship consistency. \r\n\r\nNow, we want a MapStruct mapper that automatically links the review back to the book. \r\nThere are multiple options that I have found so far, each of which has some drawbacks: \r\n\r\n 1. Custom mapping method: \r\n```java\r\n@Mapper\r\npublic interface BookMapper {\r\n  default Book mapBookDtoToBook(BookDto bookDto) {\r\n    //...\r\n    for (ReviewDto reviewDto : bookDto.getReviews()) {\r\n      book.addReview(mapReviewDtoToReview(reviewDto));\r\n    }\r\n    //...\r\n  }\r\n  //...\r\n}\r\n```\r\nThis gets cumbersome if the book has many other fields to map. \\[*Update: This can be simplified as suggested by [Ben&#39;s answer][3].*\\]\r\n\r\n2. Make the relationship bi-directional in an `@AfterMapping` method: \r\n```java\r\n@Mapper\r\npublic interface BookMapper {\r\n  Book mapBookDtoToBook(Book book); // Implementation generated by MapStruct\r\n\r\n  @AfterMapping\r\n  void linkReviewsToBook(@MappingTarget Book book) {\r\n    for (Review review : book.getReviews()) {\r\n      review.setBook(book);\r\n    }\r\n  }\r\n  //...\r\n}\r\n```\r\nThis approach allows MapStruct to generate all other field mappings; but by decoupling the auto-generated `setReviews` from the `setBook` operation in the after-mapping, we lose cohesion. \r\n\r\n3. Add a method `setBiDirectionalReviews` in `Book` and instruct MapStruct to use it as *target*: \r\n```java\r\n@Entity\r\npublic class Book {\r\n  //...\r\n  public void setBiDirectionalReviews(List&lt;Review&gt; reviews) {\r\n    this.reviews = reviews;\r\n    for (Review review : this.reviews) {\r\n      review.setBook(this);\r\n    }\r\n  }\r\n}\r\n```\r\n```java\r\n@Mapper\r\npublic class BookMapper {\r\n  @Mapping(source = &quot;reviews&quot;, target = &quot;biDirectionalReviews&quot;)\r\n  Book mapBookDtoToBook(Book book);\r\n}\r\n```\r\nNow we have re-established cohesion, but (1) we might still need the additional method `addReview` if we wanted to modify the existing reviews somewhere else, and (2) it feels somewhat hacky to abuse MapStruct&#39;s accessor naming strategy by pretending there were a field named &quot;biDirectionalReviews&quot;.  \r\nAnyway, this is the best approach that I could find so far.\r\n\r\nIs there a better solution to mapping bi-directional associations in MapStruct?\r\n\r\n\r\n  [1]: https://thorben-janssen.com/hibernate-tips-map-bidirectional-many-one-association/\r\n  [2]: https://vladmihalcea.com/jpa-hibernate-synchronize-bidirectional-entity-associations/\r\n  [3]: https://stackoverflow.com/a/71984048","title":"MapStruct custom list mapping for bi-directional Hibernate association","body":"<p>What is the best way to perform <em>MapStruct</em> mapping from a Data Transfer Object (DTO) to a <em>Hibernate</em> entity with a bi-directional one-to-many association?</p>\n<p>Assume we have a <code>BookDto</code> with multiple reviews of type <code>ReviewDto</code> linked to it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BookDto {\n  private List&lt;ReviewDto&gt; reviews;\n  // getter and setters...\n}\n</code></pre>\n<p>The corresponding Hibernate entity <code>Book</code> has a one-to-many association to <code>Review</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Book {\n  @OneToMany(mappedBy = &quot;book&quot;, orphanRemoval = true, cascade = CascadeType.ALL)\n  private List&lt;Review&gt; reviews = new ArrayList&lt;&gt;();\n  \n  public void addReview(Review review) {\n    this.reviews.add(review);\n    review.setBook(this);\n  }\n  //...\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Review {\n  @ManyToOne(fetch = FetchType.LAZY)\n  private Book book;\n\n  public void setBook(Book book) {\n    this.book = book;\n  }\n  //...\n}\n</code></pre>\n<p>Note that the book's <code>addReview</code> method sets the association bi-directionally by also calling <code>review.setBook(this)</code> as recommended by Hibernate experts (e.g., <a href=\"https://thorben-janssen.com/hibernate-tips-map-bidirectional-many-one-association/\" rel=\"noreferrer\">'Hibernate Tips: How to map a bi-directional many-to-one association' by Thorben Janssen</a> or <a href=\"https://vladmihalcea.com/jpa-hibernate-synchronize-bidirectional-entity-associations/\" rel=\"noreferrer\">'How to synchronize bidirectional entity associations with JPA and Hibernate' by Vlad Mihalcea</a>) in order to ensure Domain Model relationship consistency.</p>\n<p>Now, we want a MapStruct mapper that automatically links the review back to the book.\nThere are multiple options that I have found so far, each of which has some drawbacks:</p>\n<ol>\n<li>Custom mapping method:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper\npublic interface BookMapper {\n  default Book mapBookDtoToBook(BookDto bookDto) {\n    //...\n    for (ReviewDto reviewDto : bookDto.getReviews()) {\n      book.addReview(mapReviewDtoToReview(reviewDto));\n    }\n    //...\n  }\n  //...\n}\n</code></pre>\n<p>This gets cumbersome if the book has many other fields to map. [<em>Update: This can be simplified as suggested by <a href=\"https://stackoverflow.com/a/71984048\">Ben's answer</a>.</em>]</p>\n<ol start=\"2\">\n<li>Make the relationship bi-directional in an <code>@AfterMapping</code> method:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper\npublic interface BookMapper {\n  Book mapBookDtoToBook(Book book); // Implementation generated by MapStruct\n\n  @AfterMapping\n  void linkReviewsToBook(@MappingTarget Book book) {\n    for (Review review : book.getReviews()) {\n      review.setBook(book);\n    }\n  }\n  //...\n}\n</code></pre>\n<p>This approach allows MapStruct to generate all other field mappings; but by decoupling the auto-generated <code>setReviews</code> from the <code>setBook</code> operation in the after-mapping, we lose cohesion.</p>\n<ol start=\"3\">\n<li>Add a method <code>setBiDirectionalReviews</code> in <code>Book</code> and instruct MapStruct to use it as <em>target</em>:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Book {\n  //...\n  public void setBiDirectionalReviews(List&lt;Review&gt; reviews) {\n    this.reviews = reviews;\n    for (Review review : this.reviews) {\n      review.setBook(this);\n    }\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper\npublic class BookMapper {\n  @Mapping(source = &quot;reviews&quot;, target = &quot;biDirectionalReviews&quot;)\n  Book mapBookDtoToBook(Book book);\n}\n</code></pre>\n<p>Now we have re-established cohesion, but (1) we might still need the additional method <code>addReview</code> if we wanted to modify the existing reviews somewhere else, and (2) it feels somewhat hacky to abuse MapStruct's accessor naming strategy by pretending there were a field named &quot;biDirectionalReviews&quot;.<br />\nAnyway, this is the best approach that I could find so far.</p>\n<p>Is there a better solution to mapping bi-directional associations in MapStruct?</p>\n"},{"tags":["java","apache-spark","pyspark","cassandra","spark-cassandra-connector"],"comments":[{"owner":{"account_id":16393347,"reputation":13088,"user_id":11841571,"display_name":"Lamanus"},"score":0,"creation_date":1598625917,"post_id":63635808,"comment_id":112529166,"body_markdown":"https://learn.microsoft.com/en-us/azure/cosmos-db/cassandra-spark-read-ops","body":"<a href=\"https://learn.microsoft.com/en-us/azure/cosmos-db/cassandra-spark-read-ops\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/azure/cosmos-db/&hellip;</a>"},{"owner":{"account_id":4175030,"reputation":101,"user_id":3421834,"display_name":"Ulyses"},"score":0,"creation_date":1598630872,"post_id":63635808,"comment_id":112531628,"body_markdown":"Thanks, I think this link you share will be very helpful once I solve the problem, somehow the problem is in the method load() only, seems to be somthing else","body":"Thanks, I think this link you share will be very helpful once I solve the problem, somehow the problem is in the method load() only, seems to be somthing else"},{"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"score":0,"creation_date":1598632590,"post_id":63635808,"comment_id":112532301,"body_markdown":"package should be registered via `--packages` or via `--jars`","body":"package should be registered via <code>--packages</code> or via <code>--jars</code>"},{"owner":{"account_id":4175030,"reputation":101,"user_id":3421834,"display_name":"Ulyses"},"score":0,"creation_date":1598633604,"post_id":63635808,"comment_id":112532715,"body_markdown":"Mmm, that&#39;s new for me, I have used --packages so far, I will try --jars and see the difference","body":"Mmm, that&#39;s new for me, I have used --packages so far, I will try --jars and see the difference"},{"owner":{"account_id":4175030,"reputation":101,"user_id":3421834,"display_name":"Ulyses"},"score":0,"creation_date":1598633858,"post_id":63635808,"comment_id":112532817,"body_markdown":"--packages com.datastax.spark:spark-cassandra-connector_2.11:2.5.1 works fine,","body":"--packages com.datastax.spark:spark-cassandra-connector_2.11:2.5.1 works fine,"},{"owner":{"account_id":4175030,"reputation":101,"user_id":3421834,"display_name":"Ulyses"},"score":0,"creation_date":1598633875,"post_id":63635808,"comment_id":112532827,"body_markdown":"--jars com.datastax.spark:spark-cassandra-connector_2.11:2.5.1 doesn&#39;t work for me","body":"--jars com.datastax.spark:spark-cassandra-connector_2.11:2.5.1 doesn&#39;t work for me"}],"answers":[{"tags":[],"owner":{"account_id":4175030,"reputation":101,"user_id":3421834,"display_name":"Ulyses"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650810621,"creation_date":1599063668,"answer_id":63709615,"question_id":63635808,"body_markdown":"My problem is solved, I had to download:\r\n\r\n    --packages com.datastax.spark:spark-cassandra-connector_2.12:2.5.1\r\n\r\nwhich is the right connector for my scala version: 2.12.10\r\n\r\nThank you all for your support!","title":"Problem with cassandra-connector at &quot;load()&quot;","body":"<p>My problem is solved, I had to download:</p>\n<pre><code>--packages com.datastax.spark:spark-cassandra-connector_2.12:2.5.1\n</code></pre>\n<p>which is the right connector for my scala version: 2.12.10</p>\n<p>Thank you all for your support!</p>\n"}],"owner":{"account_id":4175030,"reputation":101,"user_id":3421834,"display_name":"Ulyses"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1261,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650810621,"creation_date":1598625108,"question_id":63635808,"body_markdown":"I downloaded succesfully this connector: `com.datastax.spark:spark-cassandra-connector_2.11:2.5.1`\r\n\r\nAnd when I try to load the information with this line:\r\n\r\n    data = sparkSession.read.format(&quot;org.apache.spark.sql.cassandra&quot;).options(table=&quot;tbthesis&quot;, \r\n    keyspace=&quot;test&quot;).load()\r\n\r\nI get this error:\r\n\r\n    Exception has occurred: Py4JJavaError\r\n    An error occurred while calling o48.load.\r\n    : java.lang.ClassNotFoundException: Failed to find data source: org.apache.spark.sql.cassandra. \r\n    Please find packages at http://spark.apache.org/third-party-projects.html\r\n\r\nAny ideas besides what the error suggests about &quot;Look for another connector&quot;? Indeed, this is the connector which several professionals have suggested me to use, hence it most be something else I think.\r\n\r\nThanks!","title":"Problem with cassandra-connector at &quot;load()&quot;","body":"<p>I downloaded succesfully this connector: <code>com.datastax.spark:spark-cassandra-connector_2.11:2.5.1</code></p>\n<p>And when I try to load the information with this line:</p>\n<pre><code>data = sparkSession.read.format(&quot;org.apache.spark.sql.cassandra&quot;).options(table=&quot;tbthesis&quot;, \nkeyspace=&quot;test&quot;).load()\n</code></pre>\n<p>I get this error:</p>\n<pre><code>Exception has occurred: Py4JJavaError\nAn error occurred while calling o48.load.\n: java.lang.ClassNotFoundException: Failed to find data source: org.apache.spark.sql.cassandra. \nPlease find packages at http://spark.apache.org/third-party-projects.html\n</code></pre>\n<p>Any ideas besides what the error suggests about &quot;Look for another connector&quot;? Indeed, this is the connector which several professionals have suggested me to use, hence it most be something else I think.</p>\n<p>Thanks!</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1650801704,"post_id":71988141,"comment_id":127203462,"body_markdown":"&quot;*But then what if there are two points that are closest*&quot; - Choose one randomly.","body":"&quot;<i>But then what if there are two points that are closest</i>&quot; - Choose one randomly."},{"owner":{"account_id":23990788,"reputation":407,"user_id":18083414,"display_name":"dnaiel"},"score":0,"creation_date":1650801975,"post_id":71988141,"comment_id":127203525,"body_markdown":"@Turing85 in the last example, 300 is also close to 200, but if I choose that, then the time taken to clean all dirty points will be more than 100. The tricky part is each person can move in any direction at the same time","body":"@Turing85 in the last example, 300 is also close to 200, but if I choose that, then the time taken to clean all dirty points will be more than 100. The tricky part is each person can move in any direction at the same time"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1650802493,"post_id":71988141,"comment_id":127203627,"body_markdown":"I think you have kind of a travelling salesman with multiple salesmen problem, see https://stackoverflow.com/q/6239148/2846138","body":"I think you have kind of a travelling salesman with multiple salesmen problem, see <a href=\"https://stackoverflow.com/q/6239148/2846138\">stackoverflow.com/q/6239148/2846138</a>"}],"answers":[{"tags":[],"owner":{"account_id":5527424,"reputation":7710,"user_id":4388512,"accept_rate":100,"display_name":"F43nd1r"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650810562,"creation_date":1650810562,"answer_id":71989389,"question_id":71988141,"body_markdown":"General Statements\r\n---\r\n\r\nFirst we&#39;ll try to limit the search space by introducing some statements, convince yourself these are true.\r\n - It never makes sense for two persons to meet or pass each other. -&gt; each point will be cleaned by either the person closest to the left or to the right -&gt; at most `2^M` cases to check\r\n - A person on an optimal path will change direction at most once. -&gt; the time a person takes depending on the points it needs to clean can be defined as follows:\r\n\r\n```kotlin\r\nval s = start position\r\nval l = min(points to clean)\r\nval r = max(points to clean)\r\nval dl = s - l\r\nval dr = r - s\r\nval time = when {\r\n dl &lt;= 0 -&gt; dr //points only to the right\r\n dr &lt;= 0 -&gt; dl //points only to the left\r\n else -&gt; min(dl, dr) * 2 + max(dl, dr) //points on both sides, take shorter side twice\r\n}\r\n```\r\n\r\nBrute Force Algorithm\r\n---\r\n```kotlin\r\nval cases: List&lt;Map&lt;Person, List&lt;Point&gt;&gt; = enumerate all 2^M cases where each point is either assigned to the closest person to the left or closest person to the right\r\nval minTime = cases.minOf { case -&gt; case.entries.maxOf { (person, points) -&gt; time(person, points) } }\r\n```\r\nTime complexity of this algorithm is dominated by enumerating the cases in `O(2^M)`.\r\n\r\nAn optimization would be to find all the left &amp; right persons first.","title":"Minimum time required to clean all the dirty points","body":"<h2>General Statements</h2>\n<p>First we'll try to limit the search space by introducing some statements, convince yourself these are true.</p>\n<ul>\n<li>It never makes sense for two persons to meet or pass each other. -&gt; each point will be cleaned by either the person closest to the left or to the right -&gt; at most <code>2^M</code> cases to check</li>\n<li>A person on an optimal path will change direction at most once. -&gt; the time a person takes depending on the points it needs to clean can be defined as follows:</li>\n</ul>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val s = start position\nval l = min(points to clean)\nval r = max(points to clean)\nval dl = s - l\nval dr = r - s\nval time = when {\n dl &lt;= 0 -&gt; dr //points only to the right\n dr &lt;= 0 -&gt; dl //points only to the left\n else -&gt; min(dl, dr) * 2 + max(dl, dr) //points on both sides, take shorter side twice\n}\n</code></pre>\n<h2>Brute Force Algorithm</h2>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val cases: List&lt;Map&lt;Person, List&lt;Point&gt;&gt; = enumerate all 2^M cases where each point is either assigned to the closest person to the left or closest person to the right\nval minTime = cases.minOf { case -&gt; case.entries.maxOf { (person, points) -&gt; time(person, points) } }\n</code></pre>\n<p>Time complexity of this algorithm is dominated by enumerating the cases in <code>O(2^M)</code>.</p>\n<p>An optimization would be to find all the left &amp; right persons first.</p>\n"}],"owner":{"account_id":23990788,"reputation":407,"user_id":18083414,"display_name":"dnaiel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650810562,"creation_date":1650801398,"question_id":71988141,"body_markdown":"Consider points on a line on the x-axis starting from 0 towards a positive direction.  \r\nThere are N people standing on some points and there are M points that are dirty  \r\nI need to find out the minimum time required to clean all the dirty points.   \r\nAt each second each person can move on point in any direction left or right or can stay  \r\nWhen a person comes to a dirty point the point gets cleaned  \r\n\r\n**Example:**  \r\nConsider person on [5,10] and dirty = [8] mean person is at point 5 and 10 and point 8  \r\nis the dirty point. The second person can go to point 8 and clean it. This will require 2 seconds  \r\n\r\nConsider [100,300] and dirty = [200,400] the first person could go from point 100 to point  \r\n200 and at the same time the second person could go from point 300 to 400  \r\nThis will take 100 seconds.\r\n\r\nNot sure how to approach it. Could one follow the greedy approach and simply move towards  \r\nthe point that is closest. But then what if there are two points that are closest\r\n","title":"Minimum time required to clean all the dirty points","body":"<p>Consider points on a line on the x-axis starting from 0 towards a positive direction.<br />\nThere are N people standing on some points and there are M points that are dirty<br />\nI need to find out the minimum time required to clean all the dirty points.<br />\nAt each second each person can move on point in any direction left or right or can stay<br />\nWhen a person comes to a dirty point the point gets cleaned</p>\n<p><strong>Example:</strong><br />\nConsider person on [5,10] and dirty = [8] mean person is at point 5 and 10 and point 8<br />\nis the dirty point. The second person can go to point 8 and clean it. This will require 2 seconds</p>\n<p>Consider [100,300] and dirty = [200,400] the first person could go from point 100 to point<br />\n200 and at the same time the second person could go from point 300 to 400<br />\nThis will take 100 seconds.</p>\n<p>Not sure how to approach it. Could one follow the greedy approach and simply move towards<br />\nthe point that is closest. But then what if there are two points that are closest</p>\n"},{"tags":["java","arraylist","input","output"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1650796939,"post_id":71984821,"comment_id":127202542,"body_markdown":"Is the result mean to be `101 5 1`?","body":"Is the result mean to be <code>101 5 1</code>?"},{"owner":{"account_id":25070416,"reputation":1,"user_id":18924295,"display_name":"Xu Tongwen"},"score":0,"creation_date":1650821305,"post_id":71984821,"comment_id":127207830,"body_markdown":"Yep, sorry I didn&#39;t make it clearly.","body":"Yep, sorry I didn&#39;t make it clearly."}],"answers":[{"tags":[],"owner":{"account_id":25027592,"reputation":161,"user_id":18885664,"display_name":"byteunderflow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650810399,"creation_date":1650810059,"answer_id":71989310,"question_id":71984821,"body_markdown":"I revised your code and now it works perfectly.\r\n\r\n    public static void main(String[] args) throws IOException\r\n    {\r\n        final ArrayList&lt;String&gt; firstWords = getFirstWords(&quot;letters.txt&quot;);\r\n        for (String word : firstWords)\r\n        {\r\n            System.out.println(word);\r\n        }\r\n    }\r\n\r\n    public static ArrayList&lt;String&gt; getFirstWords(String path) throws IOException\r\n    {\r\n        final ArrayList&lt;String&gt; firstWords = new ArrayList&lt;&gt;();\r\n        final BufferedReader input = new BufferedReader(new FileReader(path));\r\n        // loop through all lines of the file\r\n        String line;\r\n        while ((line = input.readLine()) != null)\r\n        {\r\n            // the line corresponds to another file path\r\n            // first line = myfile.txt\r\n            // second line = myfile2.txt\r\n            // third line = myfile3.txt\r\n            firstWords.add(getFirstWordInFile(line));\r\n        }\r\n        input.close();\r\n        return firstWords;\r\n    }\r\n\r\n    public static String getFirstWordInFile(String path) throws IOException\r\n    {\r\n        final BufferedReader input = new BufferedReader(new FileReader(path));\r\n        // read the first line of the file\r\n        final String firstLine = input.readLine();\r\n        // split this line into separate words\r\n        final String[] words = firstLine.split(&quot; &quot;);\r\n        final String firstWord = words[0];\r\n        input.close();\r\n        return firstWord;\r\n    }\r\n\r\nThe output is:\r\n\r\n    101\r\n    5\r\n    1","title":"Create a new ArrayList based on input files, and print the first word of each element","body":"<p>I revised your code and now it works perfectly.</p>\n<pre><code>public static void main(String[] args) throws IOException\n{\n    final ArrayList&lt;String&gt; firstWords = getFirstWords(&quot;letters.txt&quot;);\n    for (String word : firstWords)\n    {\n        System.out.println(word);\n    }\n}\n\npublic static ArrayList&lt;String&gt; getFirstWords(String path) throws IOException\n{\n    final ArrayList&lt;String&gt; firstWords = new ArrayList&lt;&gt;();\n    final BufferedReader input = new BufferedReader(new FileReader(path));\n    // loop through all lines of the file\n    String line;\n    while ((line = input.readLine()) != null)\n    {\n        // the line corresponds to another file path\n        // first line = myfile.txt\n        // second line = myfile2.txt\n        // third line = myfile3.txt\n        firstWords.add(getFirstWordInFile(line));\n    }\n    input.close();\n    return firstWords;\n}\n\npublic static String getFirstWordInFile(String path) throws IOException\n{\n    final BufferedReader input = new BufferedReader(new FileReader(path));\n    // read the first line of the file\n    final String firstLine = input.readLine();\n    // split this line into separate words\n    final String[] words = firstLine.split(&quot; &quot;);\n    final String firstWord = words[0];\n    input.close();\n    return firstWord;\n}\n</code></pre>\n<p>The output is:</p>\n<pre><code>101\n5\n1\n</code></pre>\n"}],"owner":{"account_id":25070416,"reputation":1,"user_id":18924295,"display_name":"Xu Tongwen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650810399,"creation_date":1650763654,"question_id":71984821,"body_markdown":"I try to combine information spread across different files, generating a new ArrayList with information somehow based on the original files, and output a new txt which contains the first word of each element of that ArrayList. The problem is my code doesn&#39;t end for some reason, and I don&#39;t know why.\r\nHere is my code:\r\n```\r\nimport java.util.Scanner;\r\nimport java.util.ArrayList;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileOutputStream;\r\nimport java.io.PrintWriter;\r\nimport java.io.IOException;\r\n\r\npublic class FileReadVaryingAmount {\r\n   public static void main(String[] args) throws IOException {  \r\n      ArrayList&lt;FileInputStream&gt; files = getStreams(&quot;letters.txt&quot;);\r\n      writeFirstWords(files, &quot;myoutput.txt&quot;);\r\n   }\r\n\r\n   public static ArrayList&lt;FileInputStream&gt; getStreams(String filenames) {\r\n      FileInputStream fis;\r\n      Scanner sc;\r\n      ArrayList&lt;FileInputStream&gt; inFS = new ArrayList&lt;&gt;();\r\n\r\n      try {\r\n         fis = new FileInputStream(filenames);\r\n         sc = new Scanner(fis);\r\n      }\r\n      catch (Exception e) {\r\n         System.out.println(&quot;File open error&quot;);\r\n         return inFS;\r\n      }\r\n\r\n      Scanner scnr = new Scanner(System.in);\r\n\r\n      try {\r\n           while(scnr.hasNextLine()){\r\n           String name = scnr.next();\r\n           try {\r\n               FileInputStream temp = new FileInputStream(name);\r\n               Scanner scanner = new Scanner(temp);\r\n               while (scanner.hasNext()){\r\n               inFS.add(new FileInputStream(scanner.next()));\r\n               }\r\n           }\r\n           catch (Exception e) {\r\n               System.out.println(&quot;Error.&quot;);\r\n           }\r\n      }\r\n      }\r\n      catch(Exception e){\r\n      System.out.println(&quot;Error.&quot;);\r\n      }\r\n\r\n      return inFS;\r\n      }\r\n   \r\n   public static void writeFirstWords(ArrayList&lt;FileInputStream&gt; list, String outfileName) {\r\n      FileOutputStream fileByteStream = null;\r\n      PrintWriter outFS = null;\r\n\r\n      try {\r\n          fileByteStream = new FileOutputStream(outfileName);\r\n          outFS = new PrintWriter(fileByteStream);\r\n      }\r\n      catch (Exception e) {\r\n         System.out.println(&quot;File open error&quot;);\r\n      }\r\n\r\n      for (int i = 0; i &lt; list.size(); i++){\r\n      outFS.println(list.get(i));\r\n      }\r\n      outFS.flush();\r\n\r\n      try {\r\n         fileByteStream.close();\r\n         outFS.close();\r\n      }\r\n      catch (Exception e) {\r\n      System.out.println(&quot;File close error&quot;);\r\n      }\r\n   }\r\n}\r\n```\r\nand here is the content of the files:\r\n\r\n**letters.txt**\r\n```\r\nmyfile.txt\r\nmyfile2.txt\r\nmyfile3.txt\r\n```\r\n**myfile.txt**\r\n```\r\n101 102\r\n```\r\n**myfile2.txt**\r\n```\r\n5 101 102 103 104 105\r\n```\r\n**myfile3.txt**\r\n```\r\n1 2 3 4 5\r\n```","title":"Create a new ArrayList based on input files, and print the first word of each element","body":"<p>I try to combine information spread across different files, generating a new ArrayList with information somehow based on the original files, and output a new txt which contains the first word of each element of that ArrayList. The problem is my code doesn't end for some reason, and I don't know why.\nHere is my code:</p>\n<pre><code>import java.util.Scanner;\nimport java.util.ArrayList;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.PrintWriter;\nimport java.io.IOException;\n\npublic class FileReadVaryingAmount {\n   public static void main(String[] args) throws IOException {  \n      ArrayList&lt;FileInputStream&gt; files = getStreams(&quot;letters.txt&quot;);\n      writeFirstWords(files, &quot;myoutput.txt&quot;);\n   }\n\n   public static ArrayList&lt;FileInputStream&gt; getStreams(String filenames) {\n      FileInputStream fis;\n      Scanner sc;\n      ArrayList&lt;FileInputStream&gt; inFS = new ArrayList&lt;&gt;();\n\n      try {\n         fis = new FileInputStream(filenames);\n         sc = new Scanner(fis);\n      }\n      catch (Exception e) {\n         System.out.println(&quot;File open error&quot;);\n         return inFS;\n      }\n\n      Scanner scnr = new Scanner(System.in);\n\n      try {\n           while(scnr.hasNextLine()){\n           String name = scnr.next();\n           try {\n               FileInputStream temp = new FileInputStream(name);\n               Scanner scanner = new Scanner(temp);\n               while (scanner.hasNext()){\n               inFS.add(new FileInputStream(scanner.next()));\n               }\n           }\n           catch (Exception e) {\n               System.out.println(&quot;Error.&quot;);\n           }\n      }\n      }\n      catch(Exception e){\n      System.out.println(&quot;Error.&quot;);\n      }\n\n      return inFS;\n      }\n   \n   public static void writeFirstWords(ArrayList&lt;FileInputStream&gt; list, String outfileName) {\n      FileOutputStream fileByteStream = null;\n      PrintWriter outFS = null;\n\n      try {\n          fileByteStream = new FileOutputStream(outfileName);\n          outFS = new PrintWriter(fileByteStream);\n      }\n      catch (Exception e) {\n         System.out.println(&quot;File open error&quot;);\n      }\n\n      for (int i = 0; i &lt; list.size(); i++){\n      outFS.println(list.get(i));\n      }\n      outFS.flush();\n\n      try {\n         fileByteStream.close();\n         outFS.close();\n      }\n      catch (Exception e) {\n      System.out.println(&quot;File close error&quot;);\n      }\n   }\n}\n</code></pre>\n<p>and here is the content of the files:</p>\n<p><strong>letters.txt</strong></p>\n<pre><code>myfile.txt\nmyfile2.txt\nmyfile3.txt\n</code></pre>\n<p><strong>myfile.txt</strong></p>\n<pre><code>101 102\n</code></pre>\n<p><strong>myfile2.txt</strong></p>\n<pre><code>5 101 102 103 104 105\n</code></pre>\n<p><strong>myfile3.txt</strong></p>\n<pre><code>1 2 3 4 5\n</code></pre>\n"},{"tags":["java","type-conversion","talend","data-conversion","converters"],"answers":[{"tags":[],"owner":{"account_id":24548949,"reputation":977,"user_id":18458353,"display_name":"Charfeddine Mohamed Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650808605,"creation_date":1650808605,"answer_id":71989104,"question_id":71988589,"body_markdown":"in Tmap \r\n\r\n    Float.valueOf(row.fieldName.replace(&#39;,&#39;, &#39;.&#39;)) \r\n\r\nChanging the comma  `(,)` to point `(.)` solved my problem, although I had no problem converting the string containing the comma in the last file. So if anyone has an explanation for this? \r\n","title":"converting string to Float in talend , For input &quot;64,5&quot; error","body":"<p>in Tmap</p>\n<pre><code>Float.valueOf(row.fieldName.replace(',', '.')) \n</code></pre>\n<p>Changing the comma  <code>(,)</code> to point <code>(.)</code> solved my problem, although I had no problem converting the string containing the comma in the last file. So if anyone has an explanation for this?</p>\n"}],"owner":{"account_id":24548949,"reputation":977,"user_id":18458353,"display_name":"Charfeddine Mohamed Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":467,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71989104,"answer_count":1,"score":0,"last_activity_date":1650810268,"creation_date":1650804658,"question_id":71988589,"body_markdown":"I have done these steps for each excel file and it works fine until I can&#39;t figure out why this error keeps appearing when converting the string to float in this file.\r\nI was using Taggregate directly and when the error appeared, I found that some people have solved this problem by using Tconvertype but the same error keeps appearing. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\nThis is the error \r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\nafter using \r\n\r\n    Float.valueOf(row.fieldName.replace(&#39;,&#39;, &#39;.&#39;)) \r\n\r\n\r\nsome values successfully get converted the other cause an error like the first\r\n\r\n    For input &quot;0.5&quot;\r\n\r\nusing a point not a comma in the error this time . Any solution.?\r\n\r\n  [1]: https://i.stack.imgur.com/4CUt5.jpg\r\n  [2]: https://i.stack.imgur.com/MZPGQ.jpg\r\n  [3]: https://i.stack.imgur.com/FgqMB.jpg","title":"converting string to Float in talend , For input &quot;64,5&quot; error","body":"<p>I have done these steps for each excel file and it works fine until I can't figure out why this error keeps appearing when converting the string to float in this file.\nI was using Taggregate directly and when the error appeared, I found that some people have solved this problem by using Tconvertype but the same error keeps appearing.</p>\n<p><a href=\"https://i.stack.imgur.com/4CUt5.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4CUt5.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/MZPGQ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MZPGQ.jpg\" alt=\"enter image description here\" /></a>\nThis is the error</p>\n<p><a href=\"https://i.stack.imgur.com/FgqMB.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FgqMB.jpg\" alt=\"enter image description here\" /></a></p>\n<p>after using</p>\n<pre><code>Float.valueOf(row.fieldName.replace(',', '.')) \n</code></pre>\n<p>some values successfully get converted the other cause an error like the first</p>\n<pre><code>For input &quot;0.5&quot;\n</code></pre>\n<p>using a point not a comma in the error this time . Any solution.?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":9165235,"reputation":15414,"user_id":6815131,"display_name":"Joe C"},"score":0,"creation_date":1478210267,"post_id":40411837,"comment_id":68074011,"body_markdown":"Two things.  Firstly, I&#39;m not sure how you think we can help you if you don&#39;t have the failing test case.  Secondly, why not use the `endsWith` method on your String?","body":"Two things.  Firstly, I&#39;m not sure how you think we can help you if you don&#39;t have the failing test case.  Secondly, why not use the <code>endsWith</code> method on your String?"},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1478210448,"post_id":40411837,"comment_id":68074071,"body_markdown":"@JoeC:  You can run the tests yourself on CodingBat; the test fails in a nondescript &quot;other&quot; box which can be notoriously frustrating to figure out.","body":"@JoeC:  You can run the tests yourself on CodingBat; the test fails in a nondescript &quot;other&quot; box which can be notoriously frustrating to figure out."},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1478210476,"post_id":40411837,"comment_id":68074077,"body_markdown":"I was thinking along the lines of &quot;edge case&quot;; namely, what happens if your input(s) are null or blank, but the question doesn&#39;t specify behavior for that.","body":"I was thinking along the lines of &quot;edge case&quot;; namely, what happens if your input(s) are null or blank, but the question doesn&#39;t specify behavior for that."},{"owner":{"account_id":6960368,"reputation":43,"user_id":7055592,"accept_rate":75,"display_name":"RoboticPlayer"},"score":0,"creation_date":1478210697,"post_id":40411837,"comment_id":68074184,"body_markdown":"@Makoto I have tried putting in blank checks, and it didn&#39;t change anything.","body":"@Makoto I have tried putting in blank checks, and it didn&#39;t change anything."},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1478210725,"post_id":40411837,"comment_id":68074200,"body_markdown":"Yes, I did as well and that didn&#39;t change anything.  Seemed like it&#39;d be a quick win on that regard.  Hmm.","body":"Yes, I did as well and that didn&#39;t change anything.  Seemed like it&#39;d be a quick win on that regard.  Hmm."},{"owner":{"account_id":6960368,"reputation":43,"user_id":7055592,"accept_rate":75,"display_name":"RoboticPlayer"},"score":0,"creation_date":1478210767,"post_id":40411837,"comment_id":68074219,"body_markdown":"@JoeC I was not aware of that method. I tried it and it works, however I would still like to know what I could do to fix this, so that I learn what I did wrong, or forgot.","body":"@JoeC I was not aware of that method. I tried it and it works, however I would still like to know what I could do to fix this, so that I learn what I did wrong, or forgot."}],"answers":[{"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478211168,"creation_date":1478211168,"answer_id":40412103,"question_id":40411837,"body_markdown":"My gut feeling is that they want you to use `substring`.  The reason for this is simple:  it doesn&#39;t matter where else the pattern occurs in either string, so long as it&#39;s at the *final* position(s) of that string.\r\n\r\nYou also shouldn&#39;t (in practice) manipulate the parameters you pass in, since that may trip you up later.  Adding `final` to your param list will prevent you from doing so, just in case you accidentally think that it&#39;s doing something you don&#39;t.\r\n\r\nLastly, you don&#39;t need to convert both strings to lower case at all; there is a method called `equalsIgnoreCase` which works *just fine* for this case.\r\n\r\nTo solve the problem, I&#39;ve abstracted out a different method to accomplish the main comparison.  The logic in the main method only determines which string goes where (since the longer string may be on the right).  Below is my solution, which passes *all* of the tests.\r\n\r\n    public boolean endOther(final String a, final String b) {\r\n        if (a.length() &gt;= b.length()) {\r\n            return endOtherHelper(a, b);\r\n        } else {\r\n            return endOtherHelper(b, a);\r\n        }\r\n    }\r\n\r\n    private boolean endOtherHelper(final String longStr, final String shortStr) {\r\n        return longStr.substring(longStr.length() - shortStr.length()).equalsIgnoreCase(shortStr);\r\n    }","title":"Why is my code for Codingbat String-2 EndOther not working?","body":"<p>My gut feeling is that they want you to use <code>substring</code>.  The reason for this is simple:  it doesn't matter where else the pattern occurs in either string, so long as it's at the <em>final</em> position(s) of that string.</p>\n\n<p>You also shouldn't (in practice) manipulate the parameters you pass in, since that may trip you up later.  Adding <code>final</code> to your param list will prevent you from doing so, just in case you accidentally think that it's doing something you don't.</p>\n\n<p>Lastly, you don't need to convert both strings to lower case at all; there is a method called <code>equalsIgnoreCase</code> which works <em>just fine</em> for this case.</p>\n\n<p>To solve the problem, I've abstracted out a different method to accomplish the main comparison.  The logic in the main method only determines which string goes where (since the longer string may be on the right).  Below is my solution, which passes <em>all</em> of the tests.</p>\n\n<pre><code>public boolean endOther(final String a, final String b) {\n    if (a.length() &gt;= b.length()) {\n        return endOtherHelper(a, b);\n    } else {\n        return endOtherHelper(b, a);\n    }\n}\n\nprivate boolean endOtherHelper(final String longStr, final String shortStr) {\n    return longStr.substring(longStr.length() - shortStr.length()).equalsIgnoreCase(shortStr);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9576486,"reputation":16,"user_id":7112400,"display_name":"brody"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1478213833,"creation_date":1478213833,"answer_id":40412609,"question_id":40411837,"body_markdown":"I know that an answer to this question has already been posted, but as far as your original code goes, I think I have an idea of what went wrong. \r\nIf the one of the &quot;other tests&quot; used a string such as &quot;abc&quot; and was compared with a string that had more than one occurrence of &quot;abc&quot; such as &quot;Hiabcabc&quot;, then your code would fail even though &quot;abc&quot; is at the end of &quot;Hiabcabc&quot;.\r\nThe reason this happens is that `indexOf()` looks for the *first* occurrence of the parameter and returns the index of it. This would result in false negatives in tests that contained more than one occurrence of the smaller string.\r\n\r\nUsing `substring()` is probably the best solution to this problem as it would allow you to look specifically at the end of the string, however if you wanted to modify your code as little as possible, you could use `lastIndexOf()` as an alternative to `indexOf()`. This would result in your code passing all of the tests.\r\n\r\nHere&#39;s your modified code:\r\n\r\n    public boolean endOther(String a, String b) {\r\n      a = a.toLowerCase();\r\n      b = b.toLowerCase();\r\n      if (a.contains(b) &amp;&amp; a.lastIndexOf(b) == a.length() - b.length()) {\r\n        return true;\r\n      } else if (b.contains(a) &amp;&amp; b.lastIndexOf(a) == b.length() - a.length()) {\r\n        return true;\r\n      } else {\r\n        return false; \r\n      }\r\n    }\r\n\r\nAnd here&#39;s the Oracle docs page on `indexOf()` in case you want to do some more reading: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#indexOf(java.lang.String)\r\n","title":"Why is my code for Codingbat String-2 EndOther not working?","body":"<p>I know that an answer to this question has already been posted, but as far as your original code goes, I think I have an idea of what went wrong. \nIf the one of the \"other tests\" used a string such as \"abc\" and was compared with a string that had more than one occurrence of \"abc\" such as \"Hiabcabc\", then your code would fail even though \"abc\" is at the end of \"Hiabcabc\".\nThe reason this happens is that <code>indexOf()</code> looks for the <em>first</em> occurrence of the parameter and returns the index of it. This would result in false negatives in tests that contained more than one occurrence of the smaller string.</p>\n\n<p>Using <code>substring()</code> is probably the best solution to this problem as it would allow you to look specifically at the end of the string, however if you wanted to modify your code as little as possible, you could use <code>lastIndexOf()</code> as an alternative to <code>indexOf()</code>. This would result in your code passing all of the tests.</p>\n\n<p>Here's your modified code:</p>\n\n<pre><code>public boolean endOther(String a, String b) {\n  a = a.toLowerCase();\n  b = b.toLowerCase();\n  if (a.contains(b) &amp;&amp; a.lastIndexOf(b) == a.length() - b.length()) {\n    return true;\n  } else if (b.contains(a) &amp;&amp; b.lastIndexOf(a) == b.length() - a.length()) {\n    return true;\n  } else {\n    return false; \n  }\n}\n</code></pre>\n\n<p>And here's the Oracle docs page on <code>indexOf()</code> in case you want to do some more reading: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#indexOf(java.lang.String)\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#indexOf(java.lang.String)</a></p>\n"},{"tags":[],"owner":{"account_id":8692149,"reputation":1,"user_id":6889390,"display_name":"GiantCherry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485646194,"creation_date":1485624848,"answer_id":41912739,"question_id":40411837,"body_markdown":"Look at this code, perhaps you will understand the mistakes:\r\n\r\n    public boolean endOther(String a, String b) {\r\n      if(a.length() &lt; b.length())\r\n        return b.toLowerCase().substring(b.length()-a.length()).equals(a.toLowerCase());\r\n      else\r\n        return a.toLowerCase().substring(a.length()-b.length()).equals(b.toLowerCase());\r\n    }","title":"Why is my code for Codingbat String-2 EndOther not working?","body":"<p>Look at this code, perhaps you will understand the mistakes:</p>\n\n<pre><code>public boolean endOther(String a, String b) {\n  if(a.length() &lt; b.length())\n    return b.toLowerCase().substring(b.length()-a.length()).equals(a.toLowerCase());\n  else\n    return a.toLowerCase().substring(a.length()-b.length()).equals(b.toLowerCase());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19152542,"reputation":81,"user_id":13990137,"display_name":"Choych"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650810002,"creation_date":1650549012,"answer_id":71955649,"question_id":40411837,"body_markdown":"I know this question is ancient but maybe someone will need this information. Here is my solution to String-2 &gt; endOther\r\n\r\n    public boolean endOther(String a, String b) {\r\n      a = a.toLowerCase();\r\n      b = b.toLowerCase();\r\n      if ((a.endsWith(b)) || (b.endsWith(a))) {\r\n        return true;\r\n      }\r\n      else {\r\n        return false;\r\n      }\r\n    }","title":"Why is my code for Codingbat String-2 EndOther not working?","body":"<p>I know this question is ancient but maybe someone will need this information. Here is my solution to String-2 &gt; endOther</p>\n<pre><code>public boolean endOther(String a, String b) {\n  a = a.toLowerCase();\n  b = b.toLowerCase();\n  if ((a.endsWith(b)) || (b.endsWith(a))) {\n    return true;\n  }\n  else {\n    return false;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":6960368,"reputation":43,"user_id":7055592,"accept_rate":75,"display_name":"RoboticPlayer"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1380,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":40412609,"answer_count":4,"score":0,"last_activity_date":1650810002,"creation_date":1478209816,"question_id":40411837,"body_markdown":"I won&#39;t lie, this is sort of homework for my AP Computer Science class. But I talked to my teacher, and he couldn&#39;t figure it out either.\r\n\r\nSo I&#39;m doing the Java CodingBat problem String-2 endOther [here][1], and I don&#39;t know why my code isn&#39;t working properly.\r\n\r\nThe goal of the challenge is to determine if one string appears at the very end of the other string. If so, return true, otherwise return false.\r\n\r\nExample: If the strings were &quot;Hiabc&quot; and &quot;abc&quot;, it would return true, but &quot;Hiabcx&quot; and &quot;bc&quot; would return false because &quot;bc&quot; isn&#39;t at the end.\r\nNote: Case does not matter.\r\n\r\nMy code works for all of the examples that it runs through, except for &quot;other tests&quot;. I might have been able to figure out how to fix it, except I don&#39;t know what &quot;other tests&quot; it ran. So any help on this? Here&#39;s my code:\r\n\r\n    public boolean endOther(String a, String b) {\r\n        a = a.toLowerCase();\r\n        b = b.toLowerCase();\r\n        if (a.contains(b) &amp;&amp; a.indexOf(b) == a.length() - b.length()) {\r\n            return true;\r\n        } else if (b.contains(a) &amp;&amp; b.indexOf(a) == b.length() - a.length()) {\r\n            return true;\r\n        } else {\r\n            return false; \r\n        }\r\n    }\r\n\r\nThanks!\r\n  [1]: http://codingbat.com/prob/p126880","title":"Why is my code for Codingbat String-2 EndOther not working?","body":"<p>I won't lie, this is sort of homework for my AP Computer Science class. But I talked to my teacher, and he couldn't figure it out either.</p>\n\n<p>So I'm doing the Java CodingBat problem String-2 endOther <a href=\"http://codingbat.com/prob/p126880\" rel=\"nofollow noreferrer\">here</a>, and I don't know why my code isn't working properly.</p>\n\n<p>The goal of the challenge is to determine if one string appears at the very end of the other string. If so, return true, otherwise return false.</p>\n\n<p>Example: If the strings were \"Hiabc\" and \"abc\", it would return true, but \"Hiabcx\" and \"bc\" would return false because \"bc\" isn't at the end.\nNote: Case does not matter.</p>\n\n<p>My code works for all of the examples that it runs through, except for \"other tests\". I might have been able to figure out how to fix it, except I don't know what \"other tests\" it ran. So any help on this? Here's my code:</p>\n\n<pre><code>public boolean endOther(String a, String b) {\n    a = a.toLowerCase();\n    b = b.toLowerCase();\n    if (a.contains(b) &amp;&amp; a.indexOf(b) == a.length() - b.length()) {\n        return true;\n    } else if (b.contains(a) &amp;&amp; b.indexOf(a) == b.length() - a.length()) {\n        return true;\n    } else {\n        return false; \n    }\n}\n</code></pre>\n\n<p>Thanks!</p>\n"},{"tags":["java","binary","bit-manipulation","bit"],"answers":[{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1650808390,"creation_date":1650808390,"answer_id":71989077,"question_id":71989043,"body_markdown":"If you had your input in string-form, you could use `Integer.parse(input, 2)` [see docs](https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#parseInt(java.lang.String,%20int)).\r\n\r\nIn your case you could so that: `value = Integer.parseInt(String.valueOf(pattern), 2)` (enclosed in try catch)","title":"Initialising an integer variable with a bit pattern","body":"<p>If you had your input in string-form, you could use <code>Integer.parse(input, 2)</code> <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#parseInt(java.lang.String,%20int)\" rel=\"nofollow noreferrer\">see docs</a>.</p>\n<p>In your case you could so that: <code>value = Integer.parseInt(String.valueOf(pattern), 2)</code> (enclosed in try catch)</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650809965,"creation_date":1650808401,"answer_id":71989080,"question_id":71989043,"body_markdown":"You can do it like this.  The underscores are not required but make it easier to separate nibbles.  Prefix the string with `0b`.\r\n```\r\nint a = 0b0011_1101_0101_1110_0101_1111_0001_1010;\r\nSystem.out.println(Integer.toHexString(a));\r\n```\r\nprints\r\n```\r\n3d5e5f1a\r\n```\r\nIf you have a String of bits you can do\r\n```\r\nString bitStr = &quot;00111101010111100101111100011010&quot;;\r\nint v = Integer.parseInt(bitStr, 2);\r\nSystem.out.println(Integer.toHexString(v));\r\n```\r\nprints\r\n```\r\n3d5e5f1a\r\n```\r\nFor longs you must suffix with an L\r\n```\r\nlong longbits = 0b0011110101011110010111110001101000111101010111100101111100011010L;\r\n```\r\nhere are other prefixes available\r\n```\r\nint hex = 0x2A;  // prefix with 0x - 42 in decimal\r\nint octal = 023  // prefix with 0 - 19 in decimal  ","title":"Initialising an integer variable with a bit pattern","body":"<p>You can do it like this.  The underscores are not required but make it easier to separate nibbles.  Prefix the string with <code>0b</code>.</p>\n<pre><code>int a = 0b0011_1101_0101_1110_0101_1111_0001_1010;\nSystem.out.println(Integer.toHexString(a));\n</code></pre>\n<p>prints</p>\n<pre><code>3d5e5f1a\n</code></pre>\n<p>If you have a String of bits you can do</p>\n<pre><code>String bitStr = &quot;00111101010111100101111100011010&quot;;\nint v = Integer.parseInt(bitStr, 2);\nSystem.out.println(Integer.toHexString(v));\n</code></pre>\n<p>prints</p>\n<pre><code>3d5e5f1a\n</code></pre>\n<p>For longs you must suffix with an L</p>\n<pre><code>long longbits = 0b0011110101011110010111110001101000111101010111100101111100011010L;\n</code></pre>\n<p>here are other prefixes available</p>\n<pre><code>int hex = 0x2A;  // prefix with 0x - 42 in decimal\nint octal = 023  // prefix with 0 - 19 in decimal  \n</code></pre>\n"}],"owner":{"display_name":"user18906827"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":407,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71989080,"answer_count":2,"score":1,"last_activity_date":1650809965,"creation_date":1650808178,"question_id":71989043,"body_markdown":"im an absolute beginner and have following task that I need to complete but im totally confused and can&#39;t find anything online, hope someone can help out. \r\n\r\nTask: \r\n&gt; Let the variable “pattern” be declared as an integer with 32 bits and\r\n&gt; initialised with the bit pattern 0011 1101 0101 1110 0101 1111 0001\r\n&gt; 1010 (3D5E 5F1A). Print the variable, set Bit 7 to 1 and print again. \r\n\r\nGiven:\r\n\r\n    int pattern = ;\r\n    boolean ww = false;\r\n    int value = 0;\t\r\n    \t\t\r\n    System.out.println(&quot;bitpattern = &quot; + pattern + &quot; --&gt; &quot; +Integer.toBinaryString(value));\r\n\r\nWhen I understand that right, an integer is by default declared with 32bit so nothing to do for me for this part. But when I try to assign the number 0011 1101 0101 1110 0101 1111 0001 1010 to the &quot;int pattern&quot; I get the error *&quot;integer number too large&quot;*. \r\n\r\nwhere is my misconception ? Does anyone know a tutorial for that? \r\n\r\nThanks \r\n","title":"Initialising an integer variable with a bit pattern","body":"<p>im an absolute beginner and have following task that I need to complete but im totally confused and can't find anything online, hope someone can help out.</p>\n<p>Task:</p>\n<blockquote>\n<p>Let the variable “pattern” be declared as an integer with 32 bits and\ninitialised with the bit pattern 0011 1101 0101 1110 0101 1111 0001\n1010 (3D5E 5F1A). Print the variable, set Bit 7 to 1 and print again.</p>\n</blockquote>\n<p>Given:</p>\n<pre><code>int pattern = ;\nboolean ww = false;\nint value = 0;  \n        \nSystem.out.println(&quot;bitpattern = &quot; + pattern + &quot; --&gt; &quot; +Integer.toBinaryString(value));\n</code></pre>\n<p>When I understand that right, an integer is by default declared with 32bit so nothing to do for me for this part. But when I try to assign the number 0011 1101 0101 1110 0101 1111 0001 1010 to the &quot;int pattern&quot; I get the error <em>&quot;integer number too large&quot;</em>.</p>\n<p>where is my misconception ? Does anyone know a tutorial for that?</p>\n<p>Thanks</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1591226586,"post_id":62183138,"comment_id":109979464,"body_markdown":"There is no difference. Poorly expressed documentation.","body":"There is no difference. Poorly expressed documentation."}],"answers":[{"tags":[],"owner":{"account_id":3817995,"reputation":4725,"user_id":3166846,"display_name":"Dan Harms"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650809679,"creation_date":1591221692,"answer_id":62183445,"question_id":62183138,"body_markdown":"Calling `super.onCreate()` is calling through the superclass. You&#39;ll see that the [Activity class has onCreate annotated](https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/app/Activity.java#1588) with `@CallSuper` which forces this call.","title":"What&#39;s the difference between calling super.onCreate() and calling through to the superclass?","body":"<p>Calling <code>super.onCreate()</code> is calling through the superclass. You'll see that the <a href=\"https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/app/Activity.java#1588\" rel=\"nofollow noreferrer\">Activity class has onCreate annotated</a> with <code>@CallSuper</code> which forces this call.</p>\n"},{"tags":[],"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591230761,"creation_date":1591230761,"answer_id":62184948,"question_id":62183138,"body_markdown":"They are equivalent.\r\n\r\nThe reason that the documentation for `Application.onCreate` has both lines is that originally, it was [a line in the Javadoc documentation][1].  This is responsible for the original &quot;If you override this method, be sure to call super.onCreate()&quot;.\r\n\r\nThe second one is added by the presence of the `@CallSuper` annotation, which was added later.  Note that &quot;If you override this method you *must* call through to the superclass implementation.&quot; does not appear in the source code linked above.\r\n\r\nAt this point, the line in the documentation comment could be removed, as it&#39;s now redundant.\r\n\r\n\r\n  [1]: https://cs.android.com/android/platform/superproject/+/30f11224374d3bbd7946e2f3b7ce757c3f88f437:frameworks/base/core/java/android/app/Application.java;l=236","title":"What&#39;s the difference between calling super.onCreate() and calling through to the superclass?","body":"<p>They are equivalent.</p>\n\n<p>The reason that the documentation for <code>Application.onCreate</code> has both lines is that originally, it was <a href=\"https://cs.android.com/android/platform/superproject/+/30f11224374d3bbd7946e2f3b7ce757c3f88f437:frameworks/base/core/java/android/app/Application.java;l=236\" rel=\"nofollow noreferrer\">a line in the Javadoc documentation</a>.  This is responsible for the original \"If you override this method, be sure to call super.onCreate()\".</p>\n\n<p>The second one is added by the presence of the <code>@CallSuper</code> annotation, which was added later.  Note that \"If you override this method you <em>must</em> call through to the superclass implementation.\" does not appear in the source code linked above.</p>\n\n<p>At this point, the line in the documentation comment could be removed, as it's now redundant.</p>\n"}],"owner":{"account_id":10543815,"reputation":119,"user_id":7816881,"display_name":"Tekins"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1591279606,"answer_count":2,"score":0,"last_activity_date":1650809679,"creation_date":1591220277,"question_id":62183138,"body_markdown":"The following screenshot is from official Android documentation of [android.app.Application#onCreate()][1] which says _If you override this method, be sure to call super.onCreate()_ and then _If you override this method you must call through to the superclass implementation._ (I marked them with red arrows on image).\r\nWhat is the difference between these two statements?\r\n[![https://developer.android.com/reference/android/app/Application#onCreate()][2]][2]\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/app/Application#onCreate()\r\n  [2]: https://i.stack.imgur.com/QCDsT.png","title":"What&#39;s the difference between calling super.onCreate() and calling through to the superclass?","body":"<p>The following screenshot is from official Android documentation of <a href=\"https://developer.android.com/reference/android/app/Application#onCreate()\" rel=\"nofollow noreferrer\">android.app.Application#onCreate()</a> which says <em>If you override this method, be sure to call super.onCreate()</em> and then <em>If you override this method you must call through to the superclass implementation.</em> (I marked them with red arrows on image).\nWhat is the difference between these two statements?\n<a href=\"https://i.stack.imgur.com/QCDsT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QCDsT.png\" alt=\"https://developer.android.com/reference/android/app/Application#onCreate()\"></a></p>\n"},{"tags":["java","algorithm","depth-first-search","breadth-first-search","ford-fulkerson"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1650826873,"post_id":71989068,"comment_id":127209164,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1651242182,"post_id":71989068,"comment_id":127324514,"body_markdown":"Please [edit] your post and fix the code indentation. Include hard-coded test data to make your code more of an [mre]. You may find this post useful: [What is a debugger and how can it help me diagnose problems?](https://stackoverflow.com/questions/25385173/what-is-a-debugger-and-how-can-it-help-me-diagnose-problems)","body":"Please <a href=\"https://stackoverflow.com/posts/71989068/edit\">edit</a> your post and fix the code indentation. Include hard-coded test data to make your code more of an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. You may find this post useful: <a href=\"https://stackoverflow.com/questions/25385173/what-is-a-debugger-and-how-can-it-help-me-diagnose-problems\">What is a debugger and how can it help me diagnose problems?</a>"}],"owner":{"account_id":19284158,"reputation":1,"user_id":14095541,"display_name":"Kobie127"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650809260,"creation_date":1650808346,"question_id":71989068,"body_markdown":"I am trying to implement the Ford Fulkerson Algorithm and have been getting stuck in an infinite loop when either doing my BFS or DFS solution.  I am unsure if the bug is in one of those methods or my augment algorithm.  Here is the code for each class I am working with.\r\n\r\nGraph.java \r\n```\r\n    /**\r\n * Author - Kobie Arndt\r\n */\r\n\r\nimport java.lang.reflect.Array;\r\nimport java.util.*;\r\n\r\npublic class Graph {\r\n    \r\n    public Map&lt;String, ArrayList&lt;Edge&gt;&gt; map;   // keys are nodes\r\n                                               // each node maps to an\r\n                                               // list of Edges where the\r\n                                               // node is the source\r\n    public int flow;       // the flow from s -&gt; t in this graph right now\r\n\r\n     /**\r\n     * Construct a Graph object\r\n     * @param none\r\n     */\r\n    public Graph() {\r\n\tthis.map = new HashMap&lt;String, ArrayList&lt;Edge&gt;&gt;();\r\n    }\r\n\r\n    /**\r\n     * add a new node to this Graph\r\n     * @param node - is just a string label\r\n     */ \r\n    public void addNode(String node) {\r\n \tthis.map.put(node, new ArrayList&lt;Edge&gt;());\r\n    }\r\n\r\n    /**\r\n     * add a new edge to this graph\r\n     * @param node - String - add this edge to nodes adjacency list\r\n     * @param e - Edge to add\r\n     */ \r\n    public void addEdge(String node, Edge e) {\r\n\tArrayList&lt;Edge&gt; list;\r\n        list = map.get(node);\r\n\tlist.add(e);\r\n        map.put(node,list);\r\n    }\r\n\r\n    /**\r\n     * Get set of nodes (all string labels) for this graph\r\n\t@return Set of Strings (nodes) in this graph\r\n     */ \r\n    public Set&lt;String&gt; getNodes (){\r\n\treturn map.keySet();\r\n    }\r\n\r\n    /**\r\n     * Get set of nodes (all string labels) for this graph\r\n\t@return Set of Strings (nodes) in this graph\r\n     */     \r\n    public ArrayList&lt;Edge&gt; getEdges (String n) {\r\n\treturn map.get(n);\r\n    }\r\n\r\n\r\n    /**\r\n     *\t@return String representation of this Graph, includes the current flow\r\n     */         \r\n    public String toString() {\r\n\tString result = &quot;G_&quot; + this.flow + &quot;\\n&quot;;\r\n\tSet&lt;String&gt; nodes = this.map.keySet();\r\n\tfor (String n : nodes) {\r\n\t    result += n + &quot;=&quot; + this.map.get(n) + &quot;\\n&quot;;\r\n\t}\r\n\treturn result;\r\n    }\r\n\r\n    /**\r\n     *\t@return a residual graph corresponding to this Graph\r\n     */             \r\n    public ResGraph getResidual() {\r\n\r\n\tResGraph graphR = new ResGraph();\r\n\tSet&lt;String&gt; nodes = this.getNodes();\r\n\tfor (String n : nodes)\r\n\t    graphR.addNode(n);\r\n\r\n        for (String n : nodes) {\r\n            ArrayList&lt;Edge&gt; edgeList = this.getEdges(n);\r\n\t    for (Edge e : edgeList) {\r\n\t\tif (e.capacity == e.flow) \r\n\t\t    graphR.addEdge(e.dest, new EdgeB(e.dest, e.source,\r\n\t\t\t\t\t\t   e.capacity, e.capacity));\r\n\t\telse if (e.flow == 0){\r\n\t\t    graphR.addEdge(n, new EdgeF(e.source, e.dest,\r\n\t\t\t\t\t\te.capacity,  e.capacity));\r\n\t\t}\r\n\t\telse {\r\n\t\t    graphR.addEdge(n,\r\n\t\t\t\t   new EdgeF(e.source, e.dest, e.capacity,\r\n\t\t\t\t\t     e.capacity-e.flow));\r\n\t\t    graphR.addEdge(e.dest,\r\n\t\t\t\t   new EdgeB(e.dest, e.source, e.capacity, e.flow));\r\n\t\t}\r\n\t    }\r\n\t}\r\n\r\n\tgraphR.flow = this.flow;\r\n\treturn graphR;\t    \r\n    }\r\n\r\n\r\n    /**\r\n     *\t@return augment(update) this graph with the new path\r\n     */             \r\n    public void augment(ArrayList&lt;Edge&gt; path) {\r\n\t// if the path is empty, there is no update to this graph\r\n        if (path.size() &lt;=0) return;\r\n\r\n\t\tint b = bottleNeck(path);\r\n\t\tSystem.out.println(&quot;b&quot; + b);\r\n\r\n\t\tfor (Edge e: path) {\r\n\t\t\tif (e == pickOut(path, e.dest)) {\r\n\t\t\t\tSystem.out.println(&quot;TRUE&quot;);\r\n\t\t\t\tthis.flow += b;\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.flow -= b;\r\n\t\t\t}\r\n\r\n\r\n\t\t}\r\n\r\n\t\t// update the flow of this graph with the bottleneck in the path\r\n\t\tthis.flow +=b;\r\n    }\r\n\r\n    /**\r\n     *\t@return pick out and return an edge from this adjacency\r\n     *      list given the destination node\r\n     */             \r\n    private Edge pickOut(ArrayList&lt;Edge&gt; edgeList, String dest) {\r\n\tfor (Edge e : edgeList)\r\n\t    if (dest.equals(e.dest)) \r\n\t\treturn e;\r\n\treturn null;\r\n\r\n    }\r\n\r\n    /**\r\n     *\t@return given a path (a listed of Edges), return\r\n     *     the bottleneck\r\n     */                 \r\n    private int bottleNeck(ArrayList&lt;Edge&gt; path) {\r\n\tint n = path.size();\r\n\tint minFlow = path.get(0).flow;\r\n        for (int i =1; i &lt; n; i++) {\r\n\t    int flow = path.get(i).flow;\r\n\t    if (flow &lt; minFlow)\r\n\t\tminFlow = flow;\r\n\t}\r\n\treturn minFlow;\r\n    }\r\n}\r\n\r\n// There is a residual graph for every graph\r\n\r\nclass ResGraph extends Graph{\r\n\r\n    /*\r\n     *\t@return String representation of this Graph, includes the current flow\r\n     */         \r\n    public String toString() {\r\n\tString result = &quot;G_&quot; + this.flow + &quot;^R\\n&quot;;\t\r\n\tSet&lt;String&gt; nodes = this.map.keySet();\r\n\tfor (String n : nodes) {\r\n\t    result += n + &quot;=&quot; + this.map.get(n) + &quot;\\n&quot;;\r\n\t}\r\n\treturn result;\r\n    }\r\n\r\n    // FINISH ONE OF THE FOLLOWING METHODS, either DFS or BFS\r\n    /**\r\n     *  @param source node for search\r\n     *  @param target node for search\r\n     *\t@return a path from the source node to the target node\r\n     *          which is a list of Edges\r\n     *          returns an empty path[] if there is no path\r\n     *          uses DFS\r\n     */             \r\n    public ArrayList &lt;Edge&gt; DFS(String source, String target) {\r\n\t\tArrayList&lt;String&gt; Stack = new ArrayList&lt;String&gt;();\r\n\t\tStack.add(source);\r\n\t\tArrayList&lt;String&gt; visited = new ArrayList&lt;String&gt;();\r\n\t\tvisited.add(source);\r\n\t\tArrayList&lt;Edge&gt; path = new ArrayList&lt;Edge&gt;();\r\n\r\n\t\twhile (!Stack.isEmpty() &amp;&amp; !target.equals(Stack.get(Stack.size() - 1))) {\r\n\t\t\tString current = Stack.get(Stack.size() - 1);\r\n\t\t\tSystem.out.println(&quot;Current &quot; + current);\r\n\t\t\tArrayList&lt;Edge&gt; listOfEdges = getEdges(current);\r\n\t\t\tint index = 0;\r\n\t\t\tboolean isGoodEdge = false;\r\n\t\t\twhile (!isGoodEdge &amp;&amp; index &lt; listOfEdges.size()) {\r\n\t\t\t\tEdge currentEdge = listOfEdges.get(index);\r\n\t\t\t\tSystem.out.println(&quot;current edge &quot; + currentEdge);\r\n\t\t\t\tif (Objects.equals(currentEdge.source, current) &amp;&amp; !visited.contains(currentEdge.dest) &amp;&amp; currentEdge.capacity &gt; 0) {\r\n\t\t\t\t\tisGoodEdge = true;\r\n\t\t\t\t\tSystem.out.println(&quot;DEST &quot; + currentEdge.dest);\r\n\t\t\t\t\tStack.add(currentEdge.dest);\r\n\t\t\t\t\tvisited.add(currentEdge.dest);\r\n\t\t\t\t\tpath.add(currentEdge);\r\n\t\t\t\t}\r\n\t\t\t\tindex++;\r\n\t\t\t}\r\n\t\t\tif(!isGoodEdge){\r\n\t\t\t\tStack.remove(Stack.size()-1);\r\n\t\t\t\tpath.remove(path.size() - 1);\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(path);\r\n\t\t// FINISH ME\r\n\t\r\n\treturn new ArrayList&lt;Edge&gt;(); // dummy return value of\r\n\t                              // empty list which signals no path\t\r\n    }\r\n\r\n\tpublic ArrayList&lt;Edge&gt; bfsHelper(ArrayList&lt;String&gt; strings) {\r\n\t\tArrayList&lt;Edge&gt; result = new ArrayList&lt;&gt;();\r\n\t\tfor (int i = strings.size() - 1; i &gt;= 1; i--) {\r\n\t\t\tArrayList&lt;Edge&gt; edges = this.map.get(strings.get(i - 1));\r\n\t\t\tfor (Edge e : edges) {\r\n\t\t\t\tif (Objects.equals(e.dest, strings.get(i))) {\r\n\t\t\t\t\tSystem.out.println(&quot;HERE&quot;);\r\n\t\t\t\t\tresult.add(0, e);\r\n\t\t\t\t\tSystem.out.println(&quot;RESULT &quot; + result);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n    /**\r\n     *  @param source node for search\r\n     *  @param target node for search\r\n     *\t@return a path from the source node to the target node\r\n     *          which is a list of Edges\r\n     *          returns an empty path[] if there is no path\r\n     *          uses BFS\r\n     */             \r\n    public ArrayList &lt;Edge&gt; BFS(String source, String target) {\r\n\r\n//\t\tArrayList&lt;Edge&gt; path = new ArrayList&lt;Edge&gt;();\r\n//\t\tSet&lt;String&gt; nodes = getNodes();\r\n//\t\tboolean[] visited = new boolean[nodes.size()];\r\n//\r\n//\t\tfor (int i = 0; i &lt; nodes.size(); i++) {\r\n//\t\t\tvisited[i] = false;\r\n//\t\t}\r\n//\r\n//\t\tLinkedList&lt;String&gt; queue = new LinkedList&lt;String&gt;();\r\n//\t\tqueue.add(source);\r\n//\t\tpath = getEdges(source);\r\n//\r\n//\r\n//\t\tfor (int i = 0; i &lt; nodes.size(); i++) {\r\n//\t\t\tif (nodes.toArray()[i] == source) {\r\n//\t\t\t\tvisited[i] = true;\r\n//\t\t\t}\r\n//\t\t}\r\n//\r\n//\t\twhile (queue.size() != 0) {\r\n//\t\t\tString u = queue.poll();\r\n//\t\t\tfor (int v = 0; v &lt; nodes.size(); v++) {\r\n//\t\t\t\tif (!visited[v]) {\r\n//\t\t\t\t\tSystem.out.println(nodes.toArray()[v]);\r\n//\t\t\t\t\tSystem.out.println(getEdges((String) nodes.toArray()[v]));\r\n//\t\t\t\t\tqueue.add((String) nodes.toArray()[v]);\r\n//\t\t\t\t\tSystem.out.println(path);\r\n//\t\t\t\t\tvisited[v] = true;\r\n//\t\t\t\t\t//path.add(getEdges((String) nodes.toArray()[v]));\r\n//\t\t\t\t}\r\n//\t\t\t}\r\n//\t\t}\r\n\r\n\t\tArrayList&lt;Edge&gt; result = new ArrayList&lt;&gt;();\r\n\t\tif (source.equals(target)) {\r\n\t\t\tresult = getEdges(source);\r\n\t\t\treturn result;\r\n\t\t}\r\n\r\n\t\tQueue&lt;ArrayList&lt;String&gt;&gt; queue = new LinkedList&lt;&gt;();\r\n\t\tArrayList&lt;String&gt; strings = new ArrayList&lt;&gt;();\r\n\r\n\r\n\t\tstrings.add(source);\r\n\t\tqueue.add(strings);\r\n\r\n\t\twhile (queue.size() != 0) {\r\n\t\t\tSystem.out.println(&quot;queue &quot; + queue);\r\n\t\t\tArrayList&lt;String&gt; path = queue.poll();\r\n\t\t\tString current = path.get(path.size() - 1);\r\n\t\t\tSystem.out.println(current);\r\n\t\t\tif (Objects.equals(current, target)) {\r\n\t\t\t\treturn bfsHelper(path);\r\n\t\t\t}\r\n\t\t\tArrayList&lt;Edge&gt; edges = this.map.get(current);\r\n\t\t\tfor (Edge e : edges) {\r\n\t\t\t\tArrayList&lt;String&gt; newPath = new ArrayList&lt;&gt;(path);\r\n\t\t\t\tif (!path.contains((e.dest))) {\r\n\t\t\t\t\tresult.add(e);\r\n\t\t\t\t\tSystem.out.println(&quot;RESULT &quot; + result);\r\n\t\t\t\t\tnewPath.add(e.dest);\r\n\t\t\t\t\tqueue.add(newPath);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n//\t\t\tfor (Edge e : edges) {\r\n//\r\n//\t\t\t\tArrayList&lt;String&gt; newPath = new ArrayList&lt;&gt;(path);\r\n//\t\t\t\tif (!path.contains(e.dest)) {\r\n//\t\t\t\t\tnewPath.add(e.dest);\r\n//\t\t\t\t\tqueue.add(newPath);\r\n//\t\t\t\t}\r\n//\t\t\t}\r\n\r\n\r\n\t\t\t// or FINISH ME\r\n\r\n\r\n\t\t}\r\n\r\n\t\treturn new ArrayList&lt;Edge&gt;(); // dummy return value of\r\n\t\t// empty list which signals no path\r\n\t}\r\n\r\n}\r\n```\r\n\r\nEdge.java\r\n```\r\n\r\n    import java.util.*;\r\n\r\npublic class Edge {\r\n\r\n    public String source;  // source node\r\n    public String dest;    // destination node\r\n    public int capacity;   // flow capacity c_e for this edge\r\n    public int flow;       // the actual flow on this edge\r\n\r\n    /**\r\n     * Construct a Graph object\r\n     * @param source  - a node\r\n     * @param dest - a destination node\r\n     * @param capacity - of this edge\r\n     * @param flow - current flow in this edge\r\n     *    constructs a new edge from source to dest with the given\r\n     *    capacity and flow\r\n     */\r\n    public Edge (String source, String dest, int capacity, int flow){\r\n\tthis.source = source;\r\n\tthis.dest = dest;\r\n\tthis.capacity = capacity; \r\n\tthis.flow = flow;     \r\n    }\r\n\r\n    /**\r\n     *  @return a string representation of this edge as s-&gt;d (cap) flow\r\n     */\r\n    public String toString() {\r\n\treturn this.source + &quot;-&gt;&quot;+ this.dest +\r\n\t    &quot; (&quot; + this.capacity +&quot;) &quot; + this.flow;\r\n    }\r\n}\r\n\r\n// forward edge this should only be used in residual graphs\r\nclass EdgeF extends Edge {\r\n\r\n    public EdgeF (String source, String dest, int capacity, int flow){\r\n\tsuper(source, dest, capacity, flow);\r\n    }\r\n\r\n    public String toString() {\r\n\treturn &quot;E_F: &quot;+ this.source + &quot;-&gt;&quot;+ this.dest + &quot; &quot; + this.flow;\r\n    }\r\n}\r\n\r\n// backward edge this should only be used in residual graphs\r\nclass EdgeB extends Edge {\r\n\r\n     public EdgeB (String source, String dest, int capacity, int flow){\r\n\tsuper(source, dest, capacity, flow);\r\n    }\r\n    \r\n    public String toString() {\r\n\treturn &quot;E_B: &quot;+ this.source + &quot;-&gt;&quot;+ this.dest + &quot; &quot; + this.flow;\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nFindFlow.java\r\n\r\n    import java.util.*;\r\nimport java.io.*;\r\nimport java.util.logging.ErrorManager;\r\n\r\npublic class FindFlow {\r\n\r\n    public static void main (String [] args) throws FileNotFoundException {\r\n\tScanner sc = new Scanner(new File(args[0]));\r\n\t// get the number of nodes in graph (first line of file)\r\n\tint n = Integer.parseInt(sc.nextLine());\r\n\r\n\t// construct new empty graph\r\n        Graph graph = new Graph();\r\n\r\n\t// add nodes to this graph\r\n\tString source = sc.nextLine();\r\n\tgraph.addNode(source);\r\n\tfor (int i = 1; i &lt; n-1; i++) {\r\n\t    String node = sc.nextLine();\r\n\t    graph.addNode(node);\r\n\t}\r\n\tString dest = sc.nextLine();\r\n\tgraph.addNode(dest);\r\n\t\r\n\t// add edges to this graph, each edge has source, dest, capacity\r\n\t// and starts off with a flow of 0\r\n\twhile (sc.hasNextLine()) {\r\n\t    String [] tokens = sc.nextLine().split(&quot; &quot;);\r\n      \t    String s = tokens[0]; //get edge source\r\n      \t    String d = tokens[1]; // get edge dest\r\n\t    int capacity = Integer.parseInt(tokens[2]);\r\n\t    graph.addEdge(s, new Edge(s, d, capacity,0));\r\n\t}\r\n\t// right now the graph is G_0\r\n\r\n\tArrayList &lt;Edge&gt; path = new ArrayList&lt;Edge&gt;();\r\n        do {\r\n\t    // when printed, each graph prints its current flow\r\n            System.out.println(graph);\r\n\t    // get the residual graph\r\n\t    // the first residual graph will be G_0^R\r\n            ResGraph resGraph = graph.getResidual();\r\n\t    // when printed, each graph prints what graph it is the\r\n\t    // residual for\r\n            System.out.println(resGraph);\r\n\t    // find a path in the residual graph, use either DFS or BFS\r\n\t    // comment out the one you do not want\r\n\t\t//\tpath = resGraph.BFS(source,dest);\r\n\r\n            path = resGraph.DFS(source, dest);\r\n            //print the path\r\n            System.out.println(&quot;path = &quot; + path + &quot;\\n&quot;);\r\n\t    // update (that is augment) the graph with the new path\r\n\t    // if the new path is empty, no augmentation happens\r\n            graph.augment(path);\r\n\t\t\t//throw new Error();\r\n\t\t\t//throw new Error();\r\n\t} while (path.size() &gt; 0);\r\n\r\n    }\r\n\t\r\n}\r\n\r\n\r\nExample Input \r\n```\r\n4\r\ns\r\nu\r\nv\r\nt\r\ns u 20\r\ns v 10\r\nu t 10\r\nu v 30\r\nv t 20\r\n```\r\n\r\n","title":"Ford Fulkerson Algorithm DFS/BFS issue","body":"<p>I am trying to implement the Ford Fulkerson Algorithm and have been getting stuck in an infinite loop when either doing my BFS or DFS solution.  I am unsure if the bug is in one of those methods or my augment algorithm.  Here is the code for each class I am working with.</p>\n<p>Graph.java</p>\n<pre><code>    /**\n * Author - Kobie Arndt\n */\n\nimport java.lang.reflect.Array;\nimport java.util.*;\n\npublic class Graph {\n    \n    public Map&lt;String, ArrayList&lt;Edge&gt;&gt; map;   // keys are nodes\n                                               // each node maps to an\n                                               // list of Edges where the\n                                               // node is the source\n    public int flow;       // the flow from s -&gt; t in this graph right now\n\n     /**\n     * Construct a Graph object\n     * @param none\n     */\n    public Graph() {\n    this.map = new HashMap&lt;String, ArrayList&lt;Edge&gt;&gt;();\n    }\n\n    /**\n     * add a new node to this Graph\n     * @param node - is just a string label\n     */ \n    public void addNode(String node) {\n    this.map.put(node, new ArrayList&lt;Edge&gt;());\n    }\n\n    /**\n     * add a new edge to this graph\n     * @param node - String - add this edge to nodes adjacency list\n     * @param e - Edge to add\n     */ \n    public void addEdge(String node, Edge e) {\n    ArrayList&lt;Edge&gt; list;\n        list = map.get(node);\n    list.add(e);\n        map.put(node,list);\n    }\n\n    /**\n     * Get set of nodes (all string labels) for this graph\n    @return Set of Strings (nodes) in this graph\n     */ \n    public Set&lt;String&gt; getNodes (){\n    return map.keySet();\n    }\n\n    /**\n     * Get set of nodes (all string labels) for this graph\n    @return Set of Strings (nodes) in this graph\n     */     \n    public ArrayList&lt;Edge&gt; getEdges (String n) {\n    return map.get(n);\n    }\n\n\n    /**\n     *  @return String representation of this Graph, includes the current flow\n     */         \n    public String toString() {\n    String result = &quot;G_&quot; + this.flow + &quot;\\n&quot;;\n    Set&lt;String&gt; nodes = this.map.keySet();\n    for (String n : nodes) {\n        result += n + &quot;=&quot; + this.map.get(n) + &quot;\\n&quot;;\n    }\n    return result;\n    }\n\n    /**\n     *  @return a residual graph corresponding to this Graph\n     */             \n    public ResGraph getResidual() {\n\n    ResGraph graphR = new ResGraph();\n    Set&lt;String&gt; nodes = this.getNodes();\n    for (String n : nodes)\n        graphR.addNode(n);\n\n        for (String n : nodes) {\n            ArrayList&lt;Edge&gt; edgeList = this.getEdges(n);\n        for (Edge e : edgeList) {\n        if (e.capacity == e.flow) \n            graphR.addEdge(e.dest, new EdgeB(e.dest, e.source,\n                           e.capacity, e.capacity));\n        else if (e.flow == 0){\n            graphR.addEdge(n, new EdgeF(e.source, e.dest,\n                        e.capacity,  e.capacity));\n        }\n        else {\n            graphR.addEdge(n,\n                   new EdgeF(e.source, e.dest, e.capacity,\n                         e.capacity-e.flow));\n            graphR.addEdge(e.dest,\n                   new EdgeB(e.dest, e.source, e.capacity, e.flow));\n        }\n        }\n    }\n\n    graphR.flow = this.flow;\n    return graphR;      \n    }\n\n\n    /**\n     *  @return augment(update) this graph with the new path\n     */             \n    public void augment(ArrayList&lt;Edge&gt; path) {\n    // if the path is empty, there is no update to this graph\n        if (path.size() &lt;=0) return;\n\n        int b = bottleNeck(path);\n        System.out.println(&quot;b&quot; + b);\n\n        for (Edge e: path) {\n            if (e == pickOut(path, e.dest)) {\n                System.out.println(&quot;TRUE&quot;);\n                this.flow += b;\n            } else {\n\n                this.flow -= b;\n            }\n\n\n        }\n\n        // update the flow of this graph with the bottleneck in the path\n        this.flow +=b;\n    }\n\n    /**\n     *  @return pick out and return an edge from this adjacency\n     *      list given the destination node\n     */             \n    private Edge pickOut(ArrayList&lt;Edge&gt; edgeList, String dest) {\n    for (Edge e : edgeList)\n        if (dest.equals(e.dest)) \n        return e;\n    return null;\n\n    }\n\n    /**\n     *  @return given a path (a listed of Edges), return\n     *     the bottleneck\n     */                 \n    private int bottleNeck(ArrayList&lt;Edge&gt; path) {\n    int n = path.size();\n    int minFlow = path.get(0).flow;\n        for (int i =1; i &lt; n; i++) {\n        int flow = path.get(i).flow;\n        if (flow &lt; minFlow)\n        minFlow = flow;\n    }\n    return minFlow;\n    }\n}\n\n// There is a residual graph for every graph\n\nclass ResGraph extends Graph{\n\n    /*\n     *  @return String representation of this Graph, includes the current flow\n     */         \n    public String toString() {\n    String result = &quot;G_&quot; + this.flow + &quot;^R\\n&quot;;  \n    Set&lt;String&gt; nodes = this.map.keySet();\n    for (String n : nodes) {\n        result += n + &quot;=&quot; + this.map.get(n) + &quot;\\n&quot;;\n    }\n    return result;\n    }\n\n    // FINISH ONE OF THE FOLLOWING METHODS, either DFS or BFS\n    /**\n     *  @param source node for search\n     *  @param target node for search\n     *  @return a path from the source node to the target node\n     *          which is a list of Edges\n     *          returns an empty path[] if there is no path\n     *          uses DFS\n     */             \n    public ArrayList &lt;Edge&gt; DFS(String source, String target) {\n        ArrayList&lt;String&gt; Stack = new ArrayList&lt;String&gt;();\n        Stack.add(source);\n        ArrayList&lt;String&gt; visited = new ArrayList&lt;String&gt;();\n        visited.add(source);\n        ArrayList&lt;Edge&gt; path = new ArrayList&lt;Edge&gt;();\n\n        while (!Stack.isEmpty() &amp;&amp; !target.equals(Stack.get(Stack.size() - 1))) {\n            String current = Stack.get(Stack.size() - 1);\n            System.out.println(&quot;Current &quot; + current);\n            ArrayList&lt;Edge&gt; listOfEdges = getEdges(current);\n            int index = 0;\n            boolean isGoodEdge = false;\n            while (!isGoodEdge &amp;&amp; index &lt; listOfEdges.size()) {\n                Edge currentEdge = listOfEdges.get(index);\n                System.out.println(&quot;current edge &quot; + currentEdge);\n                if (Objects.equals(currentEdge.source, current) &amp;&amp; !visited.contains(currentEdge.dest) &amp;&amp; currentEdge.capacity &gt; 0) {\n                    isGoodEdge = true;\n                    System.out.println(&quot;DEST &quot; + currentEdge.dest);\n                    Stack.add(currentEdge.dest);\n                    visited.add(currentEdge.dest);\n                    path.add(currentEdge);\n                }\n                index++;\n            }\n            if(!isGoodEdge){\n                Stack.remove(Stack.size()-1);\n                path.remove(path.size() - 1);\n            }\n        }\n        System.out.println(path);\n        // FINISH ME\n    \n    return new ArrayList&lt;Edge&gt;(); // dummy return value of\n                                  // empty list which signals no path   \n    }\n\n    public ArrayList&lt;Edge&gt; bfsHelper(ArrayList&lt;String&gt; strings) {\n        ArrayList&lt;Edge&gt; result = new ArrayList&lt;&gt;();\n        for (int i = strings.size() - 1; i &gt;= 1; i--) {\n            ArrayList&lt;Edge&gt; edges = this.map.get(strings.get(i - 1));\n            for (Edge e : edges) {\n                if (Objects.equals(e.dest, strings.get(i))) {\n                    System.out.println(&quot;HERE&quot;);\n                    result.add(0, e);\n                    System.out.println(&quot;RESULT &quot; + result);\n                    break;\n                }\n            }\n        }\n        return result;\n    }\n\n    /**\n     *  @param source node for search\n     *  @param target node for search\n     *  @return a path from the source node to the target node\n     *          which is a list of Edges\n     *          returns an empty path[] if there is no path\n     *          uses BFS\n     */             \n    public ArrayList &lt;Edge&gt; BFS(String source, String target) {\n\n//      ArrayList&lt;Edge&gt; path = new ArrayList&lt;Edge&gt;();\n//      Set&lt;String&gt; nodes = getNodes();\n//      boolean[] visited = new boolean[nodes.size()];\n//\n//      for (int i = 0; i &lt; nodes.size(); i++) {\n//          visited[i] = false;\n//      }\n//\n//      LinkedList&lt;String&gt; queue = new LinkedList&lt;String&gt;();\n//      queue.add(source);\n//      path = getEdges(source);\n//\n//\n//      for (int i = 0; i &lt; nodes.size(); i++) {\n//          if (nodes.toArray()[i] == source) {\n//              visited[i] = true;\n//          }\n//      }\n//\n//      while (queue.size() != 0) {\n//          String u = queue.poll();\n//          for (int v = 0; v &lt; nodes.size(); v++) {\n//              if (!visited[v]) {\n//                  System.out.println(nodes.toArray()[v]);\n//                  System.out.println(getEdges((String) nodes.toArray()[v]));\n//                  queue.add((String) nodes.toArray()[v]);\n//                  System.out.println(path);\n//                  visited[v] = true;\n//                  //path.add(getEdges((String) nodes.toArray()[v]));\n//              }\n//          }\n//      }\n\n        ArrayList&lt;Edge&gt; result = new ArrayList&lt;&gt;();\n        if (source.equals(target)) {\n            result = getEdges(source);\n            return result;\n        }\n\n        Queue&lt;ArrayList&lt;String&gt;&gt; queue = new LinkedList&lt;&gt;();\n        ArrayList&lt;String&gt; strings = new ArrayList&lt;&gt;();\n\n\n        strings.add(source);\n        queue.add(strings);\n\n        while (queue.size() != 0) {\n            System.out.println(&quot;queue &quot; + queue);\n            ArrayList&lt;String&gt; path = queue.poll();\n            String current = path.get(path.size() - 1);\n            System.out.println(current);\n            if (Objects.equals(current, target)) {\n                return bfsHelper(path);\n            }\n            ArrayList&lt;Edge&gt; edges = this.map.get(current);\n            for (Edge e : edges) {\n                ArrayList&lt;String&gt; newPath = new ArrayList&lt;&gt;(path);\n                if (!path.contains((e.dest))) {\n                    result.add(e);\n                    System.out.println(&quot;RESULT &quot; + result);\n                    newPath.add(e.dest);\n                    queue.add(newPath);\n                }\n            }\n\n//          for (Edge e : edges) {\n//\n//              ArrayList&lt;String&gt; newPath = new ArrayList&lt;&gt;(path);\n//              if (!path.contains(e.dest)) {\n//                  newPath.add(e.dest);\n//                  queue.add(newPath);\n//              }\n//          }\n\n\n            // or FINISH ME\n\n\n        }\n\n        return new ArrayList&lt;Edge&gt;(); // dummy return value of\n        // empty list which signals no path\n    }\n\n}\n</code></pre>\n<p>Edge.java</p>\n<pre><code>\n    import java.util.*;\n\npublic class Edge {\n\n    public String source;  // source node\n    public String dest;    // destination node\n    public int capacity;   // flow capacity c_e for this edge\n    public int flow;       // the actual flow on this edge\n\n    /**\n     * Construct a Graph object\n     * @param source  - a node\n     * @param dest - a destination node\n     * @param capacity - of this edge\n     * @param flow - current flow in this edge\n     *    constructs a new edge from source to dest with the given\n     *    capacity and flow\n     */\n    public Edge (String source, String dest, int capacity, int flow){\n    this.source = source;\n    this.dest = dest;\n    this.capacity = capacity; \n    this.flow = flow;     \n    }\n\n    /**\n     *  @return a string representation of this edge as s-&gt;d (cap) flow\n     */\n    public String toString() {\n    return this.source + &quot;-&gt;&quot;+ this.dest +\n        &quot; (&quot; + this.capacity +&quot;) &quot; + this.flow;\n    }\n}\n\n// forward edge this should only be used in residual graphs\nclass EdgeF extends Edge {\n\n    public EdgeF (String source, String dest, int capacity, int flow){\n    super(source, dest, capacity, flow);\n    }\n\n    public String toString() {\n    return &quot;E_F: &quot;+ this.source + &quot;-&gt;&quot;+ this.dest + &quot; &quot; + this.flow;\n    }\n}\n\n// backward edge this should only be used in residual graphs\nclass EdgeB extends Edge {\n\n     public EdgeB (String source, String dest, int capacity, int flow){\n    super(source, dest, capacity, flow);\n    }\n    \n    public String toString() {\n    return &quot;E_B: &quot;+ this.source + &quot;-&gt;&quot;+ this.dest + &quot; &quot; + this.flow;\n    }\n}\n\n\n</code></pre>\n<p>FindFlow.java</p>\n<pre><code>import java.util.*;\n</code></pre>\n<p>import java.io.*;\nimport java.util.logging.ErrorManager;</p>\n<p>public class FindFlow {</p>\n<pre><code>public static void main (String [] args) throws FileNotFoundException {\nScanner sc = new Scanner(new File(args[0]));\n// get the number of nodes in graph (first line of file)\nint n = Integer.parseInt(sc.nextLine());\n\n// construct new empty graph\n    Graph graph = new Graph();\n\n// add nodes to this graph\nString source = sc.nextLine();\ngraph.addNode(source);\nfor (int i = 1; i &lt; n-1; i++) {\n    String node = sc.nextLine();\n    graph.addNode(node);\n}\nString dest = sc.nextLine();\ngraph.addNode(dest);\n\n// add edges to this graph, each edge has source, dest, capacity\n// and starts off with a flow of 0\nwhile (sc.hasNextLine()) {\n    String [] tokens = sc.nextLine().split(&quot; &quot;);\n        String s = tokens[0]; //get edge source\n        String d = tokens[1]; // get edge dest\n    int capacity = Integer.parseInt(tokens[2]);\n    graph.addEdge(s, new Edge(s, d, capacity,0));\n}\n// right now the graph is G_0\n\nArrayList &lt;Edge&gt; path = new ArrayList&lt;Edge&gt;();\n    do {\n    // when printed, each graph prints its current flow\n        System.out.println(graph);\n    // get the residual graph\n    // the first residual graph will be G_0^R\n        ResGraph resGraph = graph.getResidual();\n    // when printed, each graph prints what graph it is the\n    // residual for\n        System.out.println(resGraph);\n    // find a path in the residual graph, use either DFS or BFS\n    // comment out the one you do not want\n    //  path = resGraph.BFS(source,dest);\n\n        path = resGraph.DFS(source, dest);\n        //print the path\n        System.out.println(&quot;path = &quot; + path + &quot;\\n&quot;);\n    // update (that is augment) the graph with the new path\n    // if the new path is empty, no augmentation happens\n        graph.augment(path);\n        //throw new Error();\n        //throw new Error();\n} while (path.size() &gt; 0);\n\n}\n</code></pre>\n<p>}</p>\n<p>Example Input</p>\n<pre><code>4\ns\nu\nv\nt\ns u 20\ns v 10\nu t 10\nu v 30\nv t 20\n</code></pre>\n"},{"tags":["java","redirect","oauth-2.0","spotify","redirect-uri"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1650738370,"post_id":71981058,"comment_id":127194056,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":23592032,"reputation":51,"user_id":17629671,"display_name":"Zakon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650808924,"creation_date":1650808924,"answer_id":71989148,"question_id":71981058,"body_markdown":"Lack of understanding made me think that the userID must be included in the callback URI. However, this would not only be a security issue, but it also doesn&#39;t work because the callback URI has to be static. \r\n\r\nSo I decided to solve the problem with session cookies. Now i save a cookie with a session id and the userID when the user first enters the page after logging in.\r\n\r\nIf the user comes back to the site after the oAuth2 authentication, I use the session cookie that is cached. ","title":"Spotify APi Redirect URI with changed Parameters?","body":"<p>Lack of understanding made me think that the userID must be included in the callback URI. However, this would not only be a security issue, but it also doesn't work because the callback URI has to be static.</p>\n<p>So I decided to solve the problem with session cookies. Now i save a cookie with a session id and the userID when the user first enters the page after logging in.</p>\n<p>If the user comes back to the site after the oAuth2 authentication, I use the session cookie that is cached.</p>\n"}],"owner":{"account_id":23592032,"reputation":51,"user_id":17629671,"display_name":"Zakon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":621,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71989148,"answer_count":1,"score":0,"last_activity_date":1650808924,"creation_date":1650727737,"question_id":71981058,"body_markdown":"I am currently using the Spotify APi. The request URL from which the authentication originates is http://localhost:8080/app/9\r\nThe 9 is the parameter for the respective ID of the user.\r\n\r\nThe callback URL is also entered in Spotif Developer:\r\nhttp://localhost:8080/app/?\r\n\r\nI now get the error message:\r\nINVALID_CLIENT: Invalid redirect URI\r\n\r\nI am aware that this is due to the changed CallbackURi. The question now. How do I create a wildcard for the parameter in the URI? \r\n\r\nThanks for your help. ","title":"Spotify APi Redirect URI with changed Parameters?","body":"<p>I am currently using the Spotify APi. The request URL from which the authentication originates is http://localhost:8080/app/9\nThe 9 is the parameter for the respective ID of the user.</p>\n<p>The callback URL is also entered in Spotif Developer:\nhttp://localhost:8080/app/?</p>\n<p>I now get the error message:\nINVALID_CLIENT: Invalid redirect URI</p>\n<p>I am aware that this is due to the changed CallbackURi. The question now. How do I create a wildcard for the parameter in the URI?</p>\n<p>Thanks for your help.</p>\n"},{"tags":["java","spring","mongodb","crud","mongorepository"],"answers":[{"tags":[],"owner":{"account_id":19646528,"reputation":120,"user_id":15196929,"display_name":"Shai Ace"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650808820,"creation_date":1650807891,"answer_id":71989007,"question_id":71988951,"body_markdown":"since you are using mongo you need to add an additional annotation.\r\n\r\n    @SpringBootApplication\r\n    @EnableMongoRepositories(basePackageClasses = FormRepository .class)\r\n    public class MainClass {}\r\n\r\nalso make sure your folders are structured correctly.\r\n\r\nfor the other Issue you should add a dependency in your &#39;POM&#39;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIt is all about mongo configuration.\r\nHope this helps.","title":"Bean creation error on @Repository interface","body":"<p>since you are using mongo you need to add an additional annotation.</p>\n<pre><code>@SpringBootApplication\n@EnableMongoRepositories(basePackageClasses = FormRepository .class)\npublic class MainClass {}\n</code></pre>\n<p>also make sure your folders are structured correctly.</p>\n<p>for the other Issue you should add a dependency in your 'POM'</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>It is all about mongo configuration.\nHope this helps.</p>\n"}],"owner":{"account_id":19206462,"reputation":193,"user_id":14033226,"display_name":"njari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1043,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71989007,"answer_count":1,"score":0,"last_activity_date":1650808820,"creation_date":1650807414,"question_id":71988951,"body_markdown":"```\r\nimport org.springframework.data.mongodb.repository.MongoRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport java.util.Optional;\r\n\r\n@Repository\r\npublic interface FormRepository extends MongoRepository&lt;Form, Integer&gt; {\r\n    \r\n    Optional&lt;Form&gt; findById(Integer formId);\r\n}\r\n\r\n```\r\nThis is a mongo repository I have created. I am accessing it as follows : \r\n\r\n```\r\n@Service\r\npublic class FormServiceImpl implements FormService {\r\n\r\n        @Autowired\r\n        FormRepository formRepository;\r\n    @Override\r\n    public List&lt;Question&gt; getQuestions(Integer formId, ){\r\n            List&lt;Question&gt; questionList = new ArrayList&lt;&gt;();\r\n            ..........\r\n            ......................\r\n            ........ initialise questionlist .............\r\n            ......................\r\n\r\n            formRepository.save(new Form(questionList, &quot;firstForm&quot;));\r\n            return questionList;\r\n        }\r\n    }\r\n```\r\n\r\nError I&#39;m getting -&gt; \r\n\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nField formRepository in *.service.impl.FormServiceImpl required a bean of type &#39;*.service.FormRepository&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;*.service.FormRepository&#39; in your configuration.\r\n\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nMy thoughts : \r\nThe @Repository should be enough to register the FormRepository as a bean. However, that is not the case. I&#39;m not able to register the FormRepository interface as a bean. The two files above lie in the same package. \r\nI have replaced the prefix path with * - but rest assured * has the same meaning everywhere.\r\nPlease let me know if any additional logs.\r\n\r\nEdit : \r\n\r\nI added @EnableMongoRepositories on my main application class. That leads to this error -&gt; \r\n\r\n```\r\n2022-04-24 19:20:29.085 ERROR 2941 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nField formRepository in *.service.impl.FormServiceImpl required a bean named &#39;mongoTemplate&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean named &#39;mongoTemplate&#39; in your configuration.\r\n\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nI think MongoTemplate and MongoRepository are two very different things. Why does my mongo repo need a dependency to MongoTemplate? \r\n\r\n","title":"Bean creation error on @Repository interface","body":"<pre><code>import org.springframework.data.mongodb.repository.MongoRepository;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.Optional;\n\n@Repository\npublic interface FormRepository extends MongoRepository&lt;Form, Integer&gt; {\n    \n    Optional&lt;Form&gt; findById(Integer formId);\n}\n\n</code></pre>\n<p>This is a mongo repository I have created. I am accessing it as follows :</p>\n<pre><code>@Service\npublic class FormServiceImpl implements FormService {\n\n        @Autowired\n        FormRepository formRepository;\n    @Override\n    public List&lt;Question&gt; getQuestions(Integer formId, ){\n            List&lt;Question&gt; questionList = new ArrayList&lt;&gt;();\n            ..........\n            ......................\n            ........ initialise questionlist .............\n            ......................\n\n            formRepository.save(new Form(questionList, &quot;firstForm&quot;));\n            return questionList;\n        }\n    }\n</code></pre>\n<p>Error I'm getting -&gt;</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField formRepository in *.service.impl.FormServiceImpl required a bean of type '*.service.FormRepository' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type '*.service.FormRepository' in your configuration.\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>My thoughts :\nThe @Repository should be enough to register the FormRepository as a bean. However, that is not the case. I'm not able to register the FormRepository interface as a bean. The two files above lie in the same package.\nI have replaced the prefix path with * - but rest assured * has the same meaning everywhere.\nPlease let me know if any additional logs.</p>\n<p>Edit :</p>\n<p>I added @EnableMongoRepositories on my main application class. That leads to this error -&gt;</p>\n<pre><code>2022-04-24 19:20:29.085 ERROR 2941 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField formRepository in *.service.impl.FormServiceImpl required a bean named 'mongoTemplate' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean named 'mongoTemplate' in your configuration.\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>I think MongoTemplate and MongoRepository are two very different things. Why does my mongo repo need a dependency to MongoTemplate?</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1650807940,"post_id":71988995,"comment_id":127204793,"body_markdown":"Well you can do the averaging on entry can&#39;t you? `runningTotal += score; // (runningTotal is a double initialised to 0.0);`","body":"Well you can do the averaging on entry can&#39;t you? <code>runningTotal += score; &#47;&#47; (runningTotal is a double initialised to 0.0);</code>"},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1650808053,"post_id":71988995,"comment_id":127204815,"body_markdown":"The code you posted will not even compile. You use `average` before you define it, and you have a dangling 6 that shouldn&#39;t be there.","body":"The code you posted will not even compile. You use <code>average</code> before you define it, and you have a dangling 6 that shouldn&#39;t be there."}],"answers":[{"tags":[],"owner":{"account_id":18192720,"reputation":849,"user_id":13238310,"display_name":"idanz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650808230,"creation_date":1650808230,"answer_id":71989047,"question_id":71988995,"body_markdown":"Note that in order to get the average, you need to sum the scores, and then to divide by the number of students. Your second `for` loop looks like the right place to handle the sum, and in addition you need to declare the `average` variable before printing it. Here is some suggestion (see my comments):\r\n\r\n      public static void main(String args[]) {\r\n        System.out.println(&quot;Hello MJ &quot;);\r\n    \r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.println(&quot;Insert number of students: &quot;);\r\n        String student = sc.nextLine();\r\n        int studenti = Integer.parseInt(student);\r\n        int[] array = new int[studenti];\r\n        for (int i = 0; i &lt; studenti; i++) {\r\n          System.out.println(&quot;Insert a score in procentage: &quot;);\r\n          String score = sc.nextLine();\r\n    \r\n          array[i] = Integer.parseInt(score);\r\n        }\r\n    \r\n        System.out.println(&quot;\\nProcentages are: &quot;);\r\n        int sum = 0; // Added a variable for sum\r\n        for (int i = 0; i &lt; studenti; i++) {\r\n          System.out.println((array[i]) + &quot;%&quot;);\r\n          sum += array[i]; // maintaining sum\r\n        }\r\n        int average = sum / array.length; // calculating the average\r\n        System.out.println(&quot;\\nThe Average Score is: &quot; + average + &quot;%&quot;);\r\n      }\r\n\r\nNote that you can make the average more accurate if you work with it as float and not integer.","title":"Getting information out of a whole array to a variable?","body":"<p>Note that in order to get the average, you need to sum the scores, and then to divide by the number of students. Your second <code>for</code> loop looks like the right place to handle the sum, and in addition you need to declare the <code>average</code> variable before printing it. Here is some suggestion (see my comments):</p>\n<pre><code>  public static void main(String args[]) {\n    System.out.println(&quot;Hello MJ &quot;);\n\n    Scanner sc = new Scanner(System.in);\n    System.out.println(&quot;Insert number of students: &quot;);\n    String student = sc.nextLine();\n    int studenti = Integer.parseInt(student);\n    int[] array = new int[studenti];\n    for (int i = 0; i &lt; studenti; i++) {\n      System.out.println(&quot;Insert a score in procentage: &quot;);\n      String score = sc.nextLine();\n\n      array[i] = Integer.parseInt(score);\n    }\n\n    System.out.println(&quot;\\nProcentages are: &quot;);\n    int sum = 0; // Added a variable for sum\n    for (int i = 0; i &lt; studenti; i++) {\n      System.out.println((array[i]) + &quot;%&quot;);\n      sum += array[i]; // maintaining sum\n    }\n    int average = sum / array.length; // calculating the average\n    System.out.println(&quot;\\nThe Average Score is: &quot; + average + &quot;%&quot;);\n  }\n</code></pre>\n<p>Note that you can make the average more accurate if you work with it as float and not integer.</p>\n"},{"tags":[],"owner":{"account_id":13259080,"reputation":236,"user_id":9574235,"display_name":"Abhishek Singh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1650808769,"creation_date":1650808769,"answer_id":71989128,"question_id":71988995,"body_markdown":"Use a stream to process data. Convert your array to intSream\r\n\r\n    IntStream stream = Arrays.stream(arr);\r\nintSream have many funtions like average, min , max, sum etc. \r\n\r\n[![stream provide many methods for processing][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/W1Y9w.png","title":"Getting information out of a whole array to a variable?","body":"<p>Use a stream to process data. Convert your array to intSream</p>\n<pre><code>IntStream stream = Arrays.stream(arr);\n</code></pre>\n<p>intSream have many funtions like average, min , max, sum etc.</p>\n<p><a href=\"https://i.stack.imgur.com/W1Y9w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W1Y9w.png\" alt=\"stream provide many methods for processing\" /></a></p>\n"}],"owner":{"account_id":25076542,"reputation":5,"user_id":18929900,"display_name":"BitMan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71989047,"answer_count":2,"score":0,"last_activity_date":1650808769,"creation_date":1650807809,"question_id":71988995,"body_markdown":"I&#39;m new to Stack Overflow So please go easy on me :D\r\n\r\nI&#39;m having some problems solving this problem, because of my data is stored inside of an array I need a way to be able to put the same data inside of a variable because I need to do some operation to get the average score, the first thing that I try to do was making a variable and giving it the array as the value but it was not allowing me to do anything, I&#39;ve spent quite a lot of times on it and I still cannot like understand how to fix it, so if you could please help me out with this problem.\r\n\r\n\r\nSo to summarise what I&#39;m trying to do is get the number of students that I have stored in i and the percentage Of the students that should be in array[i], this is to obtain the average score for the number of students, so the Sum Of Percentages / number of Students * 100 = Average Percentage of Score.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    import java.util.Scanner;\r\n\r\n\r\npublic class main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(&quot;Hello MJ &quot;);\r\n\t\t\r\n\t\tScanner sc= new Scanner(System.in);\r\n\t       System.out.println(&quot;Insert number of students: &quot;);\r\n\t                String student = sc.nextLine();\r\n\t                int studenti = Integer.parseInt(student);\r\n\t                 int[] array = new int[studenti];\r\n\t                for (int i = 0; i&lt;studenti;i++)\r\n\t                {\r\n\t                    System.out.println(&quot;Insert a score in procentage: &quot;);\r\n\t                    String score = sc.nextLine();\r\n\t                    \r\n\t                    array[i]= Integer.parseInt(score);\r\n\t                    \r\n\r\n\t                    \r\n\t                }\r\n\t                \r\n\t                System.out.println(&quot;\\nProcentages are: &quot;);  \r\n\t                for (int i=0; i&lt;studenti;i++)\r\n\t                {\r\n\t                    System.out.println((array[i])+&quot;%&quot;);\r\n\t                    \r\n\t                }\r\n\t                \r\n\t                System.out.println(&quot;\\nThe Average Score is: &quot; +  average + &quot;%&quot;);       \r\n\t                \r\n\t                int average =  (persentegesOfStudents)/students;6\r\n\t\t\r\n\r\n\t}","title":"Getting information out of a whole array to a variable?","body":"<p>I'm new to Stack Overflow So please go easy on me :D</p>\n<p>I'm having some problems solving this problem, because of my data is stored inside of an array I need a way to be able to put the same data inside of a variable because I need to do some operation to get the average score, the first thing that I try to do was making a variable and giving it the array as the value but it was not allowing me to do anything, I've spent quite a lot of times on it and I still cannot like understand how to fix it, so if you could please help me out with this problem.</p>\n<p>So to summarise what I'm trying to do is get the number of students that I have stored in i and the percentage Of the students that should be in array[i], this is to obtain the average score for the number of students, so the Sum Of Percentages / number of Students * 100 = Average Percentage of Score.</p>\n<pre><code>import java.util.Scanner;\n</code></pre>\n<p>public class main {</p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(&quot;Hello MJ &quot;);\n    \n    Scanner sc= new Scanner(System.in);\n       System.out.println(&quot;Insert number of students: &quot;);\n                String student = sc.nextLine();\n                int studenti = Integer.parseInt(student);\n                 int[] array = new int[studenti];\n                for (int i = 0; i&lt;studenti;i++)\n                {\n                    System.out.println(&quot;Insert a score in procentage: &quot;);\n                    String score = sc.nextLine();\n                    \n                    array[i]= Integer.parseInt(score);\n                    \n\n                    \n                }\n                \n                System.out.println(&quot;\\nProcentages are: &quot;);  \n                for (int i=0; i&lt;studenti;i++)\n                {\n                    System.out.println((array[i])+&quot;%&quot;);\n                    \n                }\n                \n                System.out.println(&quot;\\nThe Average Score is: &quot; +  average + &quot;%&quot;);       \n                \n                int average =  (persentegesOfStudents)/students;6\n    \n\n}\n</code></pre>\n"},{"tags":["java","parsing","midi","audio-player"],"answers":[{"tags":[],"owner":{"account_id":1844213,"reputation":2025,"user_id":2975589,"display_name":"Maxim"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1650808645,"creation_date":1650790067,"answer_id":71986822,"question_id":71984337,"body_markdown":"First of all, your formula should work in your simple case. Please see my [answer](https://stackoverflow.com/a/44175419/2975589) to another question ([Midi timestamp in seconds](https://stackoverflow.com/q/7063437/2975589)). The formula there is for microseconds, so we can divide it by 1000 and we&#39;ll get your calculations for milliseconds.\r\n\r\nWell, I&#39;ve checked your file with my library. First thing I should to notice is you&#39;re right, second note is about 2 seconds long:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nNow let&#39;s apply your formula to the second note&#39;s length in ticks:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nWell...it&#39;s obviously wrong number. But fix is supereasy. The problem with your formala in this line:\r\n\r\n    double bpm =  (60000000 / mTempo);\r\n\r\nYou defined `bpm` as `double`, but you don&#39;t use `double`. In fact you have integer division and thus you lose precision which leads to bad result. Let&#39;s check new code:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nGreat! We have right number now. But I don&#39;t see 7000 here. I suppose your VLQ calculations are wrong. I mean this line:\r\n\r\n    int deltaTicks = Math.abs(calculateDeltaTicks(getVariableLengthQuantity()));\r\n\r\nHere correct time and length of the second note in ticks so please check your numbers:\r\n\r\n[![enter image description here][4]][4]\r\n\r\nBUT your approach is wrong in general case. It will fail on most MIDI files. Your formula use two main assumptions:\r\n\r\n* there are no tempo changes in a file;\r\n* there are no other MIDI events between Note On and corresponding Note Off.\r\n\r\nBoth assumptions won&#39;t work in real world. To correctly calculate the length of a note in ms you need:\r\n\r\n* calculate time of Note On event in ms;\r\n* calculate time of corresponding Note Off event in ms;\r\n* take the difference between those times.\r\n\r\nCalculation of time is simple if there are no tempo changes. You just need to calculate **absolute time** of an event summing all delta-times of previous events and then apply your formula.\r\n\r\nBut calculation of time with tempo changes requires more complex logic. You need to watch each range of constant tempo summing the length of each one in ms along the way until the time of a MIDI event falls in one of those ranges.\r\n\r\nYou&#39;re on Java so I can&#39;t recommend appropriate tool for that task. For .NET you can use my [DryWetMIDI](https://github.com/melanchall/drywetmidi) library which supports different formats of times and lengths correctly handling tempo changes.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DkpH7.png\r\n  [2]: https://i.stack.imgur.com/Q2fvW.png\r\n  [3]: https://i.stack.imgur.com/jUdjU.png\r\n  [4]: https://i.stack.imgur.com/UX0js.png","title":"How long is a MIDI file note in milliseconds?","body":"<p>First of all, your formula should work in your simple case. Please see my <a href=\"https://stackoverflow.com/a/44175419/2975589\">answer</a> to another question (<a href=\"https://stackoverflow.com/q/7063437/2975589\">Midi timestamp in seconds</a>). The formula there is for microseconds, so we can divide it by 1000 and we'll get your calculations for milliseconds.</p>\n<p>Well, I've checked your file with my library. First thing I should to notice is you're right, second note is about 2 seconds long:</p>\n<p><a href=\"https://i.stack.imgur.com/DkpH7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DkpH7.png\" alt=\"enter image description here\" /></a></p>\n<p>Now let's apply your formula to the second note's length in ticks:</p>\n<p><a href=\"https://i.stack.imgur.com/Q2fvW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q2fvW.png\" alt=\"enter image description here\" /></a></p>\n<p>Well...it's obviously wrong number. But fix is supereasy. The problem with your formala in this line:</p>\n<pre><code>double bpm =  (60000000 / mTempo);\n</code></pre>\n<p>You defined <code>bpm</code> as <code>double</code>, but you don't use <code>double</code>. In fact you have integer division and thus you lose precision which leads to bad result. Let's check new code:</p>\n<p><a href=\"https://i.stack.imgur.com/jUdjU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jUdjU.png\" alt=\"enter image description here\" /></a></p>\n<p>Great! We have right number now. But I don't see 7000 here. I suppose your VLQ calculations are wrong. I mean this line:</p>\n<pre><code>int deltaTicks = Math.abs(calculateDeltaTicks(getVariableLengthQuantity()));\n</code></pre>\n<p>Here correct time and length of the second note in ticks so please check your numbers:</p>\n<p><a href=\"https://i.stack.imgur.com/UX0js.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UX0js.png\" alt=\"enter image description here\" /></a></p>\n<p>BUT your approach is wrong in general case. It will fail on most MIDI files. Your formula use two main assumptions:</p>\n<ul>\n<li>there are no tempo changes in a file;</li>\n<li>there are no other MIDI events between Note On and corresponding Note Off.</li>\n</ul>\n<p>Both assumptions won't work in real world. To correctly calculate the length of a note in ms you need:</p>\n<ul>\n<li>calculate time of Note On event in ms;</li>\n<li>calculate time of corresponding Note Off event in ms;</li>\n<li>take the difference between those times.</li>\n</ul>\n<p>Calculation of time is simple if there are no tempo changes. You just need to calculate <strong>absolute time</strong> of an event summing all delta-times of previous events and then apply your formula.</p>\n<p>But calculation of time with tempo changes requires more complex logic. You need to watch each range of constant tempo summing the length of each one in ms along the way until the time of a MIDI event falls in one of those ranges.</p>\n<p>You're on Java so I can't recommend appropriate tool for that task. For .NET you can use my <a href=\"https://github.com/melanchall/drywetmidi\" rel=\"nofollow noreferrer\">DryWetMIDI</a> library which supports different formats of times and lengths correctly handling tempo changes.</p>\n"}],"owner":{"account_id":20673637,"reputation":240,"user_id":15178796,"display_name":"Nadav Holtzman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":550,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71986822,"answer_count":1,"score":1,"last_activity_date":1650808645,"creation_date":1650756282,"question_id":71984337,"body_markdown":"So I have this very simple MIDI file:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI simply want do define the length in milliseconds for these 2 notes. In real time the first note is less than a second and the second note is about 2 seconds.\r\n\r\nAs I iterate the MIDI events, every time I get a note-on or note-off event I fetch there delta ticks. I&#39;m 100% sure these delta ticks are correct because I compared them with an algorithm that works properly.\r\n\r\nAs far as I understand, if the F5 key in this file hits note-on in an X time, the note-off of that event will hit after the number of deltaTicks of the note-off event. So that means that to find how long in milliseconds the length of the F5 key is, all I need to do is to convert the note-off event delta ticks to milliseconds. (Am I correct?)\r\n\r\nI parsed the MIDI file so I have the tempo and the PPQ, and I searched a lot about this so till now I found this formula:\r\n\r\n    double bpm =  (60000000 / mTempo);\r\n    deltaTimesInMilliseconds = deltaTicks * (60000 / (bpm * division));\r\n            \r\nbut I&#39;m probably doing something wrong here because the delta time in milliseconds for the F5 key note-off event is about 7000, which means 7 seconds.\r\n\r\nThank&#39;s for any help!\r\n\r\nMore of the file:\r\n\r\n        public class MidiParserN {\r\n                private static double mTempo;\r\n                private static short division;\r\n                ...\r\n                ...\r\n                private static TrackChunkEvent \r\n                parseMTrkEvent() throws Exception {\r\n    \r\n                int deltaTicks = Math.abs(calculateDeltaTicks(getVariableLengthQuantity()));\r\n                double deltaTimesInMilliseconds = 0;\r\n        \r\n                int eventType = parseEventType();\r\n                int eventNum = -1;\r\n                String eventName = &quot;&quot;;\r\n    \r\n                if (eventType == EventTypes.MIDI_EVENT.ordinal()) {\r\n                    eventNum = parseMidiMessage();\r\n                    eventName = midiEventsTypes[eventNum].toString();\r\n                } else if (eventType == EventTypes.SYSEX_EVENT.ordinal()) {\r\n                    parseSysexEvent();\r\n                } else {\r\n                    eventNum = parseAndExecuteMetaEvent();\r\n                    eventName = metaEventsTypes[eventNum].toString();\r\n                }\r\n        \r\n                if (eventName.equals(&quot;NOTE_ON_EVENT&quot;) &amp;&amp; deltaTimes != 0 &amp;&amp; mTempo != 0) {\r\n                    double bpm =  (60000000 / mTempo);\r\n                    deltaTimesInMilliseconds = deltaTicks * (60000 / (bpm * division));              \r\n                    log(&quot;DELTA_TIMES_MILLISECONDS&quot;, Double.toString(deltaTimesInMilliseconds));\r\n                        }\r\n           \r\n    \r\n                 else if (eventName.equals(&quot;NOTE_OFF_EVENT&quot;) &amp;&amp; deltaTimes != 0 &amp;&amp; mTempo != 0) {\r\n                    double bpm =  (60000000 / mTempo);\r\n                    deltaTimesInMilliseconds = deltaTicks * (60000 / (bpm * division));\r\n                    log(&quot;DELTA_TIMES_MILISECONDS&quot;, Double.toString(deltaTimesInMilliseconds));\r\n                }\r\n          return new TrackChunkEvent(eventNum, eventName);\r\n                }\r\n    ...\r\n    ...\r\n    }\r\n\r\nUpdating tempo on tempo event:\r\n\r\n      if (firstByteOfMetaEvent == 0x51 &amp;&amp; secondByteOfMetaEvent == 3) {\r\n                int tempo = byteArrayToInt(parseMetaEventSetTempo());\r\n                mTempo = tempo;\r\n                return MetaEventsTypes.SET_TEMPO.ordinal();\r\n            }\r\n\r\nThe MIDI file:\r\n\r\n&gt;  4d 54 68 64 00 00 00 06 00 01 00 02 01 80 4d 54 72 6b 00 00 00 13 00 ff 58  04 04 02 18 08 00 ff 51 03 08 52 ae 00 ff 2f 00 4d 54 72 6b 00 00 00 33 00 ff 03 15 45 6c 65 63 2e 20 50 69 61 6e 6f 20 28 43 6c 61 73 73 69 63 29 00  c0 00 82 20 90 3c 32 60 80 3c 00 83 00 90 41 32 8d 40 80 41 00 00 ff 2f 00 \r\n\r\nAs an image:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VfLGb.png\r\n  [2]: https://i.stack.imgur.com/nMkBg.png","title":"How long is a MIDI file note in milliseconds?","body":"<p>So I have this very simple MIDI file:\n<a href=\"https://i.stack.imgur.com/VfLGb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VfLGb.png\" alt=\"enter image description here\" /></a></p>\n<p>I simply want do define the length in milliseconds for these 2 notes. In real time the first note is less than a second and the second note is about 2 seconds.</p>\n<p>As I iterate the MIDI events, every time I get a note-on or note-off event I fetch there delta ticks. I'm 100% sure these delta ticks are correct because I compared them with an algorithm that works properly.</p>\n<p>As far as I understand, if the F5 key in this file hits note-on in an X time, the note-off of that event will hit after the number of deltaTicks of the note-off event. So that means that to find how long in milliseconds the length of the F5 key is, all I need to do is to convert the note-off event delta ticks to milliseconds. (Am I correct?)</p>\n<p>I parsed the MIDI file so I have the tempo and the PPQ, and I searched a lot about this so till now I found this formula:</p>\n<pre><code>double bpm =  (60000000 / mTempo);\ndeltaTimesInMilliseconds = deltaTicks * (60000 / (bpm * division));\n        \n</code></pre>\n<p>but I'm probably doing something wrong here because the delta time in milliseconds for the F5 key note-off event is about 7000, which means 7 seconds.</p>\n<p>Thank's for any help!</p>\n<p>More of the file:</p>\n<pre><code>    public class MidiParserN {\n            private static double mTempo;\n            private static short division;\n            ...\n            ...\n            private static TrackChunkEvent \n            parseMTrkEvent() throws Exception {\n\n            int deltaTicks = Math.abs(calculateDeltaTicks(getVariableLengthQuantity()));\n            double deltaTimesInMilliseconds = 0;\n    \n            int eventType = parseEventType();\n            int eventNum = -1;\n            String eventName = &quot;&quot;;\n\n            if (eventType == EventTypes.MIDI_EVENT.ordinal()) {\n                eventNum = parseMidiMessage();\n                eventName = midiEventsTypes[eventNum].toString();\n            } else if (eventType == EventTypes.SYSEX_EVENT.ordinal()) {\n                parseSysexEvent();\n            } else {\n                eventNum = parseAndExecuteMetaEvent();\n                eventName = metaEventsTypes[eventNum].toString();\n            }\n    \n            if (eventName.equals(&quot;NOTE_ON_EVENT&quot;) &amp;&amp; deltaTimes != 0 &amp;&amp; mTempo != 0) {\n                double bpm =  (60000000 / mTempo);\n                deltaTimesInMilliseconds = deltaTicks * (60000 / (bpm * division));              \n                log(&quot;DELTA_TIMES_MILLISECONDS&quot;, Double.toString(deltaTimesInMilliseconds));\n                    }\n       \n\n             else if (eventName.equals(&quot;NOTE_OFF_EVENT&quot;) &amp;&amp; deltaTimes != 0 &amp;&amp; mTempo != 0) {\n                double bpm =  (60000000 / mTempo);\n                deltaTimesInMilliseconds = deltaTicks * (60000 / (bpm * division));\n                log(&quot;DELTA_TIMES_MILISECONDS&quot;, Double.toString(deltaTimesInMilliseconds));\n            }\n      return new TrackChunkEvent(eventNum, eventName);\n            }\n...\n...\n}\n</code></pre>\n<p>Updating tempo on tempo event:</p>\n<pre><code>  if (firstByteOfMetaEvent == 0x51 &amp;&amp; secondByteOfMetaEvent == 3) {\n            int tempo = byteArrayToInt(parseMetaEventSetTempo());\n            mTempo = tempo;\n            return MetaEventsTypes.SET_TEMPO.ordinal();\n        }\n</code></pre>\n<p>The MIDI file:</p>\n<blockquote>\n<p>4d 54 68 64 00 00 00 06 00 01 00 02 01 80 4d 54 72 6b 00 00 00 13 00 ff 58  04 04 02 18 08 00 ff 51 03 08 52 ae 00 ff 2f 00 4d 54 72 6b 00 00 00 33 00 ff 03 15 45 6c 65 63 2e 20 50 69 61 6e 6f 20 28 43 6c 61 73 73 69 63 29 00  c0 00 82 20 90 3c 32 60 80 3c 00 83 00 90 41 32 8d 40 80 41 00 00 ff 2f 00</p>\n</blockquote>\n<p>As an image:\n<a href=\"https://i.stack.imgur.com/nMkBg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nMkBg.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","swing","jtable","jbutton"],"comments":[{"owner":{"account_id":464648,"reputation":1417,"user_id":868300,"accept_rate":73,"display_name":"Shantanu Banerjee"},"score":0,"creation_date":1355291953,"post_id":13833688,"comment_id":19039517,"body_markdown":"Check this topic this may helpful.\nhttp://stackoverflow.com/questions/9321623/adding-button-to-jtable","body":"Check this topic this may helpful. <a href=\"http://stackoverflow.com/questions/9321623/adding-button-to-jtable\" title=\"adding button to jtable\">stackoverflow.com/questions/9321623/adding-button-to-jtable</a>"},{"owner":{"account_id":196782,"reputation":141,"user_id":1862317,"accept_rate":75,"display_name":"deva"},"score":0,"creation_date":1355292259,"post_id":13833688,"comment_id":19039610,"body_markdown":"need a full sample code..i can&#39;t understand it..","body":"need a full sample code..i can&#39;t understand it.."},{"owner":{"account_id":939255,"reputation":8775,"user_id":967638,"accept_rate":98,"display_name":"Amarnath"},"score":0,"creation_date":1355294257,"post_id":13833688,"comment_id":19040197,"body_markdown":"What have you tried? There are many sources available for doing this. Look at this http://tips4java.wordpress.com/2009/07/12/table-button-column/   by Rob Camick. It is explained very well.","body":"What have you tried? There are many sources available for doing this. Look at this <a href=\"http://tips4java.wordpress.com/2009/07/12/table-button-column/\" rel=\"nofollow noreferrer\">tips4java.wordpress.com/2009/07/12/table-button-column</a>   by Rob Camick. It is explained very well."}],"answers":[{"tags":[],"owner":{"account_id":464648,"reputation":1417,"user_id":868300,"accept_rate":73,"display_name":"Shantanu Banerjee"},"down_vote_count":2,"up_vote_count":25,"is_accepted":true,"score":23,"last_activity_date":1650808524,"creation_date":1355294050,"answer_id":13834126,"question_id":13833688,"body_markdown":"###Add button to `JTable`\r\n\r\n \r\n\r\n    JTable table = new JTable(new JTableModel()); \r\n    JScrollPane scrollPane = new JScrollPane(table);\r\n    table.setFillsViewportHeight(true);\t\r\n    \t\t\r\n    TableCellRenderer buttonRenderer = new JTableButtonRenderer();\r\n    table.getColumn(&quot;Button1&quot;).setCellRenderer(buttonRenderer);\r\n    table.getColumn(&quot;Button2&quot;).setCellRenderer(buttonRenderer);\r\n\r\n###Sample `JTableModel`, This is manage the columns and rows, Setting components\r\n\r\n    public static class JTableModel extends AbstractTableModel {\r\n    \t\tprivate static final long serialVersionUID = 1L;\r\n    \t\tprivate static final String[] COLUMN_NAMES = new String[] {&quot;Id&quot;, &quot;Stuff&quot;, &quot;Button1&quot;, &quot;Button2&quot;};\r\n    \t\tprivate static final Class&lt;?&gt;[] COLUMN_TYPES = new Class&lt;?&gt;[] {Integer.class, String.class, JButton.class,  JButton.class};\r\n    \t\t\r\n    \t\t@Override public int getColumnCount() {\r\n    \t\t\treturn COLUMN_NAMES.length;\r\n    \t\t}\r\n    \r\n    \t\t@Override public int getRowCount() {\r\n    \t\t\treturn 4;\r\n    \t\t}\r\n    \t\t\r\n    \t\t@Override public String getColumnName(int columnIndex) {\r\n    \t        return COLUMN_NAMES[columnIndex];\r\n    \t    }\r\n    \t\t\r\n    \t\t@Override public Class&lt;?&gt; getColumnClass(int columnIndex) {\r\n    \t\t\treturn COLUMN_TYPES[columnIndex];\r\n    \t\t}\r\n    \r\n    \t\t@Override public Object getValueAt(final int rowIndex, final int columnIndex) {\r\n                /*Adding components*/\r\n    \t\t\tswitch (columnIndex) {\r\n    \t\t\t\tcase 0: return rowIndex;\r\n    \t\t\t\tcase 1: return &quot;Text for &quot;+rowIndex;\r\n    \t\t\t\tcase 2: // fall through\r\n                   /*Adding button and creating click listener*/\r\n    \t\t\t\tcase 3: final JButton button = new JButton(COLUMN_NAMES[columnIndex]);\r\n    \t\t\t\t\t\tbutton.addActionListener(new ActionListener() {\r\n    \t\t\t\t\t\t\tpublic void actionPerformed(ActionEvent arg0) {\r\n    \t\t\t\t\t\t\t\tJOptionPane.showMessageDialog(JOptionPane.getFrameForComponent(button), \r\n    \t\t\t\t\t\t\t\t\t\t&quot;Button clicked for row &quot;+rowIndex);\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t});\r\n    \t\t\t\t\t\treturn button;\r\n    \t\t\t\tdefault: return &quot;Error&quot;;\r\n    \t\t\t}\r\n    \t\t}\t\r\n    \t}\r\n\r\n\r\n###Sample `Button click listener `, This manage the when mouse is clicked over the component\r\n\r\n\t\r\n\r\n    private static class JTableButtonMouseListener extends MouseAdapter {\r\n    \t\tprivate final JTable table;\r\n    \t\t\r\n    \t\tpublic JTableButtonMouseListener(JTable table) {\r\n    \t\t\tthis.table = table;\r\n    \t\t}\r\n    \r\n    \t\tpublic void mouseClicked(MouseEvent e) {\r\n    \t\t\tint column = table.getColumnModel().getColumnIndexAtX(e.getX()); // get the coloum of the button\r\n    \t\t\tint row    = e.getY()/table.getRowHeight(); //get the row of the button\r\n    \r\n                /*Checking the row or column is valid or not*/\r\n    \t\t\tif (row &lt; table.getRowCount() &amp;&amp; row &gt;= 0 &amp;&amp; column &lt; table.getColumnCount() &amp;&amp; column &gt;= 0) {\r\n    \t\t\t    Object value = table.getValueAt(row, column);\r\n    \t\t\t    if (value instanceof JButton) {\r\n                        /*perform a click event*/\r\n    \t\t\t    \t((JButton)value).doClick();\r\n    \t\t\t    }\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n\r\n###Sample JTable Cell Renderer, Managing the cell component\r\n\r\n    private static class JTableButtonRenderer implements TableCellRenderer {\t\t\r\n    \t\t@Override public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\r\n    \t\t\tJButton button = (JButton)value;\r\n    \t\t\treturn button;\t\r\n    \t\t}\r\n    \t}","title":"Adding Jbutton to JTable","body":"<p>###Add button to <code>JTable</code></p>\n<pre><code>JTable table = new JTable(new JTableModel()); \nJScrollPane scrollPane = new JScrollPane(table);\ntable.setFillsViewportHeight(true); \n        \nTableCellRenderer buttonRenderer = new JTableButtonRenderer();\ntable.getColumn(&quot;Button1&quot;).setCellRenderer(buttonRenderer);\ntable.getColumn(&quot;Button2&quot;).setCellRenderer(buttonRenderer);\n</code></pre>\n<p>###Sample <code>JTableModel</code>, This is manage the columns and rows, Setting components</p>\n<pre><code>public static class JTableModel extends AbstractTableModel {\n        private static final long serialVersionUID = 1L;\n        private static final String[] COLUMN_NAMES = new String[] {&quot;Id&quot;, &quot;Stuff&quot;, &quot;Button1&quot;, &quot;Button2&quot;};\n        private static final Class&lt;?&gt;[] COLUMN_TYPES = new Class&lt;?&gt;[] {Integer.class, String.class, JButton.class,  JButton.class};\n        \n        @Override public int getColumnCount() {\n            return COLUMN_NAMES.length;\n        }\n\n        @Override public int getRowCount() {\n            return 4;\n        }\n        \n        @Override public String getColumnName(int columnIndex) {\n            return COLUMN_NAMES[columnIndex];\n        }\n        \n        @Override public Class&lt;?&gt; getColumnClass(int columnIndex) {\n            return COLUMN_TYPES[columnIndex];\n        }\n\n        @Override public Object getValueAt(final int rowIndex, final int columnIndex) {\n            /*Adding components*/\n            switch (columnIndex) {\n                case 0: return rowIndex;\n                case 1: return &quot;Text for &quot;+rowIndex;\n                case 2: // fall through\n               /*Adding button and creating click listener*/\n                case 3: final JButton button = new JButton(COLUMN_NAMES[columnIndex]);\n                        button.addActionListener(new ActionListener() {\n                            public void actionPerformed(ActionEvent arg0) {\n                                JOptionPane.showMessageDialog(JOptionPane.getFrameForComponent(button), \n                                        &quot;Button clicked for row &quot;+rowIndex);\n                            }\n                        });\n                        return button;\n                default: return &quot;Error&quot;;\n            }\n        }   \n    }\n</code></pre>\n<p>###Sample <code>Button click listener </code>, This manage the when mouse is clicked over the component</p>\n<pre><code>private static class JTableButtonMouseListener extends MouseAdapter {\n        private final JTable table;\n        \n        public JTableButtonMouseListener(JTable table) {\n            this.table = table;\n        }\n\n        public void mouseClicked(MouseEvent e) {\n            int column = table.getColumnModel().getColumnIndexAtX(e.getX()); // get the coloum of the button\n            int row    = e.getY()/table.getRowHeight(); //get the row of the button\n\n            /*Checking the row or column is valid or not*/\n            if (row &lt; table.getRowCount() &amp;&amp; row &gt;= 0 &amp;&amp; column &lt; table.getColumnCount() &amp;&amp; column &gt;= 0) {\n                Object value = table.getValueAt(row, column);\n                if (value instanceof JButton) {\n                    /*perform a click event*/\n                    ((JButton)value).doClick();\n                }\n            }\n        }\n    }\n</code></pre>\n<p>###Sample JTable Cell Renderer, Managing the cell component</p>\n<pre><code>private static class JTableButtonRenderer implements TableCellRenderer {        \n        @Override public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\n            JButton button = (JButton)value;\n            return button;  \n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1151383,"reputation":36217,"user_id":1133011,"accept_rate":96,"display_name":"David Kroukamp"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1481755537,"creation_date":1355298610,"answer_id":13835133,"question_id":13833688,"body_markdown":"Here a really nice example which adds a `JButton` to a cell in `JTable`:\r\n\r\n![enter image description here][1]\r\n\r\n    import java.awt.Component;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.DefaultCellEditor;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JCheckBox;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTable;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.UIManager;\r\n    import javax.swing.table.DefaultTableModel;\r\n    import javax.swing.table.TableCellRenderer;\r\n    \r\n    public class JButtonTableExample {\r\n    \r\n        public JButtonTableExample() {\r\n            JFrame frame = new JFrame(&quot;JButtonTable Example&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n            DefaultTableModel dm = new DefaultTableModel();\r\n            dm.setDataVector(new Object[][]{{&quot;button 1&quot;, &quot;foo&quot;},\r\n                        {&quot;button 2&quot;, &quot;bar&quot;}}, new Object[]{&quot;Button&quot;, &quot;String&quot;});\r\n    \r\n            JTable table = new JTable(dm);\r\n            table.getColumn(&quot;Button&quot;).setCellRenderer(new ButtonRenderer());\r\n            table.getColumn(&quot;Button&quot;).setCellEditor(new ButtonEditor(new JCheckBox()));\r\n    \r\n    \r\n            JScrollPane scroll = new JScrollPane(table);\r\n    \r\n            table.setPreferredScrollableViewportSize(table.getPreferredSize());//thanks mKorbel +1 http://stackoverflow.com/questions/10551995/how-to-set-jscrollpane-layout-to-be-the-same-as-jtable\r\n    \r\n            table.getColumnModel().getColumn(0).setPreferredWidth(100);//so buttons will fit and not be shown butto..\r\n    \r\n            frame.add(scroll);\r\n    \r\n            frame.pack();\r\n            frame.setVisible(true);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            SwingUtilities.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    new JButtonTableExample();\r\n                }\r\n            });\r\n    \r\n        }\r\n    }\r\n    \r\n    class ButtonRenderer extends JButton implements TableCellRenderer {\r\n    \r\n        public ButtonRenderer() {\r\n            setOpaque(true);\r\n        }\r\n    \r\n        @Override\r\n        public Component getTableCellRendererComponent(JTable table, Object value,\r\n                boolean isSelected, boolean hasFocus, int row, int column) {\r\n            if (isSelected) {\r\n                setForeground(table.getSelectionForeground());\r\n                setBackground(table.getSelectionBackground());\r\n            } else {\r\n                setForeground(table.getForeground());\r\n                setBackground(UIManager.getColor(&quot;Button.background&quot;));\r\n            }\r\n            setText((value == null) ? &quot;&quot; : value.toString());\r\n            return this;\r\n        }\r\n    }\r\n    \r\n    class ButtonEditor extends DefaultCellEditor {\r\n    \r\n        protected JButton button;\r\n        private String label;\r\n        private boolean isPushed;\r\n    \r\n        public ButtonEditor(JCheckBox checkBox) {\r\n            super(checkBox);\r\n            button = new JButton();\r\n            button.setOpaque(true);\r\n            button.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    fireEditingStopped();\r\n                }\r\n            });\r\n        }\r\n    \r\n        @Override\r\n        public Component getTableCellEditorComponent(JTable table, Object value,\r\n                boolean isSelected, int row, int column) {\r\n            if (isSelected) {\r\n                button.setForeground(table.getSelectionForeground());\r\n                button.setBackground(table.getSelectionBackground());\r\n            } else {\r\n                button.setForeground(table.getForeground());\r\n                button.setBackground(table.getBackground());\r\n            }\r\n            label = (value == null) ? &quot;&quot; : value.toString();\r\n            button.setText(label);\r\n            isPushed = true;\r\n            return button;\r\n        }\r\n    \r\n        @Override\r\n        public Object getCellEditorValue() {\r\n            if (isPushed) {\r\n                JOptionPane.showMessageDialog(button, label + &quot;: Ouch!&quot;);\r\n            }\r\n            isPushed = false;\r\n            return label;\r\n        }\r\n    \r\n        @Override\r\n        public boolean stopCellEditing() {\r\n            isPushed = false;\r\n            return super.stopCellEditing();\r\n        }\r\n    }\r\n\r\n**References:**\r\n\r\n- http://www.java2s.com/Code/Java/Swing-Components/ButtonTableExample.htm\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/dBpVz.png","title":"Adding Jbutton to JTable","body":"<p>Here a really nice example which adds a <code>JButton</code> to a cell in <code>JTable</code>:</p>\n\n<p><img src=\"https://i.stack.imgur.com/dBpVz.png\" alt=\"enter image description here\"></p>\n\n<pre><code>import java.awt.Component;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.DefaultCellEditor;\nimport javax.swing.JButton;\nimport javax.swing.JCheckBox;\nimport javax.swing.JFrame;\nimport javax.swing.JOptionPane;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.SwingUtilities;\nimport javax.swing.UIManager;\nimport javax.swing.table.DefaultTableModel;\nimport javax.swing.table.TableCellRenderer;\n\npublic class JButtonTableExample {\n\n    public JButtonTableExample() {\n        JFrame frame = new JFrame(\"JButtonTable Example\");\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        DefaultTableModel dm = new DefaultTableModel();\n        dm.setDataVector(new Object[][]{{\"button 1\", \"foo\"},\n                    {\"button 2\", \"bar\"}}, new Object[]{\"Button\", \"String\"});\n\n        JTable table = new JTable(dm);\n        table.getColumn(\"Button\").setCellRenderer(new ButtonRenderer());\n        table.getColumn(\"Button\").setCellEditor(new ButtonEditor(new JCheckBox()));\n\n\n        JScrollPane scroll = new JScrollPane(table);\n\n        table.setPreferredScrollableViewportSize(table.getPreferredSize());//thanks mKorbel +1 http://stackoverflow.com/questions/10551995/how-to-set-jscrollpane-layout-to-be-the-same-as-jtable\n\n        table.getColumnModel().getColumn(0).setPreferredWidth(100);//so buttons will fit and not be shown butto..\n\n        frame.add(scroll);\n\n        frame.pack();\n        frame.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                new JButtonTableExample();\n            }\n        });\n\n    }\n}\n\nclass ButtonRenderer extends JButton implements TableCellRenderer {\n\n    public ButtonRenderer() {\n        setOpaque(true);\n    }\n\n    @Override\n    public Component getTableCellRendererComponent(JTable table, Object value,\n            boolean isSelected, boolean hasFocus, int row, int column) {\n        if (isSelected) {\n            setForeground(table.getSelectionForeground());\n            setBackground(table.getSelectionBackground());\n        } else {\n            setForeground(table.getForeground());\n            setBackground(UIManager.getColor(\"Button.background\"));\n        }\n        setText((value == null) ? \"\" : value.toString());\n        return this;\n    }\n}\n\nclass ButtonEditor extends DefaultCellEditor {\n\n    protected JButton button;\n    private String label;\n    private boolean isPushed;\n\n    public ButtonEditor(JCheckBox checkBox) {\n        super(checkBox);\n        button = new JButton();\n        button.setOpaque(true);\n        button.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                fireEditingStopped();\n            }\n        });\n    }\n\n    @Override\n    public Component getTableCellEditorComponent(JTable table, Object value,\n            boolean isSelected, int row, int column) {\n        if (isSelected) {\n            button.setForeground(table.getSelectionForeground());\n            button.setBackground(table.getSelectionBackground());\n        } else {\n            button.setForeground(table.getForeground());\n            button.setBackground(table.getBackground());\n        }\n        label = (value == null) ? \"\" : value.toString();\n        button.setText(label);\n        isPushed = true;\n        return button;\n    }\n\n    @Override\n    public Object getCellEditorValue() {\n        if (isPushed) {\n            JOptionPane.showMessageDialog(button, label + \": Ouch!\");\n        }\n        isPushed = false;\n        return label;\n    }\n\n    @Override\n    public boolean stopCellEditing() {\n        isPushed = false;\n        return super.stopCellEditing();\n    }\n}\n</code></pre>\n\n<p><strong>References:</strong></p>\n\n<ul>\n<li><a href=\"http://www.java2s.com/Code/Java/Swing-Components/ButtonTableExample.htm\" rel=\"noreferrer\">http://www.java2s.com/Code/Java/Swing-Components/ButtonTableExample.htm</a></li>\n</ul>\n"}],"owner":{"account_id":196782,"reputation":141,"user_id":1862317,"accept_rate":75,"display_name":"deva"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76650,"favorite_count":0,"down_vote_count":4,"up_vote_count":11,"closed_date":1355323386,"accepted_answer_id":13834126,"answer_count":2,"score":7,"last_activity_date":1650808524,"creation_date":1355291814,"question_id":13833688,"body_markdown":"Need a simple Swing code to demonstrate how to add a button in a column of a Jtable using tablecellrenderer and tablecelleditor.","title":"Adding Jbutton to JTable","body":"<p>Need a simple Swing code to demonstrate how to add a button in a column of a Jtable using tablecellrenderer and tablecelleditor.</p>\n"},{"tags":["java","swing","model-view-controller","tooltip"],"answers":[{"tags":[],"owner":{"account_id":1418971,"reputation":15473,"user_id":1344008,"display_name":"npe"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1340263086,"creation_date":1340263086,"answer_id":11133327,"question_id":11133301,"body_markdown":"`ToolTipManager` is a singleton. To use it, you need to call a static [`sharedInstance`][1] method that returns the instance of this class.\r\n\r\n`ToolTipManager` manages all tooltips - it is a global configuration class, changes made to the `sharedInstance` will be applied to every tooltip in your application.\r\n\r\n\r\n[1]: http://docs.oracle.com/javase/7/docs/api/javax/swing/ToolTipManager.html#sharedInstance%28%29","title":"ToolTipManager in Java","body":"<p><code>ToolTipManager</code> is a singleton. To use it, you need to call a static <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/ToolTipManager.html#sharedInstance%28%29\" rel=\"noreferrer\"><code>sharedInstance</code></a> method that returns the instance of this class.</p>\n\n<p><code>ToolTipManager</code> manages all tooltips - it is a global configuration class, changes made to the <code>sharedInstance</code> will be applied to every tooltip in your application.</p>\n"},{"tags":[],"owner":{"account_id":890308,"reputation":47359,"user_id":928711,"accept_rate":60,"display_name":"Guillaume Polet"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1340263096,"creation_date":1340263096,"answer_id":11133329,"question_id":11133301,"body_markdown":"Here is an example showing how to use the ToolTipManager:\r\n\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.ToolTipManager;\r\n    \r\n    public class TestTooltips {\r\n    \r\n    \tprotected static void initUI() {\r\n    \t\tToolTipManager.sharedInstance().setInitialDelay(0);\r\n    \t\tToolTipManager.sharedInstance().setDismissDelay(500);\r\n    \t\tJFrame frame = new JFrame(&quot;test&quot;);\r\n    \t\tJLabel label = new JLabel(&quot;Label text&quot;);\r\n    \t\tlabel.setToolTipText(&quot;My cool nice and fun tooltip&quot;);\r\n    \t\tframe.add(label);\r\n    \t\tframe.pack();\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new Runnable() {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\tinitUI();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    }\r\n\r\n","title":"ToolTipManager in Java","body":"<p>Here is an example showing how to use the ToolTipManager:</p>\n\n<pre><code>import javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.SwingUtilities;\nimport javax.swing.ToolTipManager;\n\npublic class TestTooltips {\n\n    protected static void initUI() {\n        ToolTipManager.sharedInstance().setInitialDelay(0);\n        ToolTipManager.sharedInstance().setDismissDelay(500);\n        JFrame frame = new JFrame(\"test\");\n        JLabel label = new JLabel(\"Label text\");\n        label.setToolTipText(\"My cool nice and fun tooltip\");\n        frame.add(label);\n        frame.pack();\n        frame.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n\n            @Override\n            public void run() {\n                initUI();\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1650808391,"creation_date":1340263475,"answer_id":11133425,"question_id":11133301,"body_markdown":"No idea what you tried and what you want to do... do you have success with the following code?\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.MouseWheelEvent;\r\n    import java.awt.event.MouseWheelListener;\r\n    import javax.swing.*;\r\n    import javax.swing.table.DefaultTableCellRenderer;\r\n    \r\n    public class JScrollableToolTip extends JToolTip {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n        private final MouseWheelListener mouseWheelListener;\r\n        private final JTextArea tipArea;\r\n    \r\n        public JScrollableToolTip(final int rows, final int columns) {\r\n            setLayout(new BorderLayout());\r\n            mouseWheelListener = createMouseWheelListener();\r\n            tipArea = new JTextArea(rows, columns);\r\n            tipArea.setLineWrap(true);\r\n            tipArea.setWrapStyleWord(true);\r\n            tipArea.setEditable(false);\r\n            LookAndFeel.installColorsAndFont(tipArea, &quot;ToolTip.background&quot;,\r\n                    &quot;ToolTip.foreground&quot;, &quot;ToolTip.font&quot;);\r\n            JScrollPane scrollpane = new JScrollPane(tipArea);\r\n            scrollpane.setBorder(null);\r\n            scrollpane.getViewport().setOpaque(false);\r\n            add(scrollpane);\r\n        }\r\n    \r\n        private MouseWheelListener createMouseWheelListener() {\r\n            return new MouseWheelListener() {\r\n    \r\n                @Override\r\n                public void mouseWheelMoved(final MouseWheelEvent e) {\r\n                    JComponent component = getComponent();\r\n                    if (component != null) {\r\n                        tipArea.dispatchEvent(new MouseWheelEvent(tipArea, e.getID(),\r\n                                e.getWhen(), e.getModifiers(), 0, 0, e.getClickCount(),\r\n                                e.isPopupTrigger(), e.getScrollType(), e.getScrollAmount(),\r\n                                e.getWheelRotation()));\r\n                    }\r\n                }\r\n            };\r\n        }\r\n    \r\n        @Override\r\n        public void addNotify() {\r\n            super.addNotify();\r\n            JComponent component = getComponent();\r\n            if (component != null) {\r\n                component.addMouseWheelListener(mouseWheelListener);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void removeNotify() {\r\n            JComponent component = getComponent();\r\n            if (component != null) {\r\n                component.removeMouseWheelListener(mouseWheelListener);\r\n            }\r\n            super.removeNotify();\r\n        }\r\n    \r\n        @Override\r\n        public void setComponent(JComponent c) {\r\n            JComponent component = getComponent();\r\n            if (component != null) {\r\n                component.removeMouseWheelListener(mouseWheelListener);\r\n            }\r\n            super.setComponent(c);\r\n        }\r\n    \r\n        @Override\r\n        public void setTipText(final String tipText) {\r\n            String oldValue = this.tipArea.getText();\r\n            tipArea.setText(tipText);\r\n            tipArea.setCaretPosition(0);\r\n            firePropertyChange(&quot;tiptext&quot;, oldValue, tipText);\r\n        }\r\n    \r\n        @Override\r\n        public Dimension getPreferredSize() {\r\n            return getComponent(0).getPreferredSize();\r\n        }\r\n    \r\n        @Override\r\n        public String getTipText() {\r\n            return tipArea == null ? &quot;&quot; : tipArea.getText();\r\n        }\r\n    \r\n        @Override\r\n        protected String paramString() {\r\n            String tipTextString = (tipArea.getText() != null ? tipArea.getText() : &quot;&quot;);\r\n            return super.paramString() + &quot;,tipText=&quot; + tipTextString;\r\n        }\r\n    \r\n        //for testing only:\r\n        public static void main(final String args[]) {\r\n            EventQueue.invokeLater(new Runnable() {\r\n    \r\n                public void run() {\r\n                    try {\r\n                        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    JFrame f = new JFrame(&quot;JScrollableToolTip&quot;);\r\n                    f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                    f.setSize(300, 200);\r\n                    f.setLocationRelativeTo(null);\r\n                    ToolTipManager.sharedInstance().setInitialDelay(500);\r\n                    ToolTipManager.sharedInstance().setDismissDelay(10000);\r\n                    ToolTipManager.sharedInstance().mousePressed(null);\r\n                    JTable table = new JTable(50, 4) {\r\n    \r\n                        private static final long serialVersionUID = 1L;\r\n    \r\n                        @Override\r\n                        public JToolTip createToolTip() {\r\n                            JScrollableToolTip tip = new JScrollableToolTip(3, 20);\r\n                            tip.setComponent(this);\r\n                            return tip;\r\n                        }\r\n                    };\r\n                    table.setDefaultRenderer(Object.class, new DefaultTableCellRenderer() {\r\n    \r\n                        private static final long serialVersionUID = 1L;\r\n    \r\n                        @Override\r\n                        public Component getTableCellRendererComponent(JTable table, Object value,\r\n                                boolean isSelected, boolean hasFocus, int row, int column) {\r\n                            super.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column);\r\n                            setToolTipText(&quot;Row &quot; + row + &quot; Column &quot; + column\r\n                                    + &quot;\\nUsed to display a &#39;Tip&#39; for a Component. &quot;\r\n                                    + &quot;Typically components provide api to automate the process of &quot;\r\n                                    + &quot;using ToolTips. For example, any Swing component can use the &quot;\r\n                                    + &quot;JComponent  setToolTipText method to specify the text for a standard tooltip.&quot;);\r\n    \r\n                            return this;\r\n                        }\r\n                    });\r\n                    f.add(new JScrollPane(table));\r\n                    f.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n","title":"ToolTipManager in Java","body":"<p>No idea what you tried and what you want to do... do you have success with the following code?</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.MouseWheelEvent;\nimport java.awt.event.MouseWheelListener;\nimport javax.swing.*;\nimport javax.swing.table.DefaultTableCellRenderer;\n\npublic class JScrollableToolTip extends JToolTip {\n\n    private static final long serialVersionUID = 1L;\n    private final MouseWheelListener mouseWheelListener;\n    private final JTextArea tipArea;\n\n    public JScrollableToolTip(final int rows, final int columns) {\n        setLayout(new BorderLayout());\n        mouseWheelListener = createMouseWheelListener();\n        tipArea = new JTextArea(rows, columns);\n        tipArea.setLineWrap(true);\n        tipArea.setWrapStyleWord(true);\n        tipArea.setEditable(false);\n        LookAndFeel.installColorsAndFont(tipArea, &quot;ToolTip.background&quot;,\n                &quot;ToolTip.foreground&quot;, &quot;ToolTip.font&quot;);\n        JScrollPane scrollpane = new JScrollPane(tipArea);\n        scrollpane.setBorder(null);\n        scrollpane.getViewport().setOpaque(false);\n        add(scrollpane);\n    }\n\n    private MouseWheelListener createMouseWheelListener() {\n        return new MouseWheelListener() {\n\n            @Override\n            public void mouseWheelMoved(final MouseWheelEvent e) {\n                JComponent component = getComponent();\n                if (component != null) {\n                    tipArea.dispatchEvent(new MouseWheelEvent(tipArea, e.getID(),\n                            e.getWhen(), e.getModifiers(), 0, 0, e.getClickCount(),\n                            e.isPopupTrigger(), e.getScrollType(), e.getScrollAmount(),\n                            e.getWheelRotation()));\n                }\n            }\n        };\n    }\n\n    @Override\n    public void addNotify() {\n        super.addNotify();\n        JComponent component = getComponent();\n        if (component != null) {\n            component.addMouseWheelListener(mouseWheelListener);\n        }\n    }\n\n    @Override\n    public void removeNotify() {\n        JComponent component = getComponent();\n        if (component != null) {\n            component.removeMouseWheelListener(mouseWheelListener);\n        }\n        super.removeNotify();\n    }\n\n    @Override\n    public void setComponent(JComponent c) {\n        JComponent component = getComponent();\n        if (component != null) {\n            component.removeMouseWheelListener(mouseWheelListener);\n        }\n        super.setComponent(c);\n    }\n\n    @Override\n    public void setTipText(final String tipText) {\n        String oldValue = this.tipArea.getText();\n        tipArea.setText(tipText);\n        tipArea.setCaretPosition(0);\n        firePropertyChange(&quot;tiptext&quot;, oldValue, tipText);\n    }\n\n    @Override\n    public Dimension getPreferredSize() {\n        return getComponent(0).getPreferredSize();\n    }\n\n    @Override\n    public String getTipText() {\n        return tipArea == null ? &quot;&quot; : tipArea.getText();\n    }\n\n    @Override\n    protected String paramString() {\n        String tipTextString = (tipArea.getText() != null ? tipArea.getText() : &quot;&quot;);\n        return super.paramString() + &quot;,tipText=&quot; + tipTextString;\n    }\n\n    //for testing only:\n    public static void main(final String args[]) {\n        EventQueue.invokeLater(new Runnable() {\n\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n                JFrame f = new JFrame(&quot;JScrollableToolTip&quot;);\n                f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                f.setSize(300, 200);\n                f.setLocationRelativeTo(null);\n                ToolTipManager.sharedInstance().setInitialDelay(500);\n                ToolTipManager.sharedInstance().setDismissDelay(10000);\n                ToolTipManager.sharedInstance().mousePressed(null);\n                JTable table = new JTable(50, 4) {\n\n                    private static final long serialVersionUID = 1L;\n\n                    @Override\n                    public JToolTip createToolTip() {\n                        JScrollableToolTip tip = new JScrollableToolTip(3, 20);\n                        tip.setComponent(this);\n                        return tip;\n                    }\n                };\n                table.setDefaultRenderer(Object.class, new DefaultTableCellRenderer() {\n\n                    private static final long serialVersionUID = 1L;\n\n                    @Override\n                    public Component getTableCellRendererComponent(JTable table, Object value,\n                            boolean isSelected, boolean hasFocus, int row, int column) {\n                        super.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column);\n                        setToolTipText(&quot;Row &quot; + row + &quot; Column &quot; + column\n                                + &quot;\\nUsed to display a 'Tip' for a Component. &quot;\n                                + &quot;Typically components provide api to automate the process of &quot;\n                                + &quot;using ToolTips. For example, any Swing component can use the &quot;\n                                + &quot;JComponent  setToolTipText method to specify the text for a standard tooltip.&quot;);\n\n                        return this;\n                    }\n                });\n                f.add(new JScrollPane(table));\n                f.setVisible(true);\n            }\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1552669,"reputation":165,"user_id":1444702,"accept_rate":83,"display_name":"Julien Breuil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10589,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":11133327,"answer_count":3,"score":5,"last_activity_date":1650808391,"creation_date":1340262943,"question_id":11133301,"body_markdown":"I am implementing a `MVC` and I want to have a `JToolTip` on a `JLabel` in my view. I succeeded but now I want to set the dismiss and initial timer.\r\n\r\nI read the Javadoc for [JToolTip][1] and [TollTipManager][2]. I found what I want in ToolTipManager but now I can&#39;t understand how to use it. \r\n\r\n`JToolTip` doesn&#39;t have a setter for `ToolTipManager` and in the doc they said:\r\n\r\n&gt; Manages all the ToolTips in the system.\r\n\r\nI don&#39;t really understand how I should use `ToolTipManager`. Should my View extend `ToolTipManager` or am I mislead?\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/javax/swing/JToolTip.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/javax/swing/ToolTipManager.html","title":"ToolTipManager in Java","body":"<p>I am implementing a <code>MVC</code> and I want to have a <code>JToolTip</code> on a <code>JLabel</code> in my view. I succeeded but now I want to set the dismiss and initial timer.</p>\n<p>I read the Javadoc for <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JToolTip.html\" rel=\"nofollow noreferrer\">JToolTip</a> and <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/ToolTipManager.html\" rel=\"nofollow noreferrer\">TollTipManager</a>. I found what I want in ToolTipManager but now I can't understand how to use it.</p>\n<p><code>JToolTip</code> doesn't have a setter for <code>ToolTipManager</code> and in the doc they said:</p>\n<blockquote>\n<p>Manages all the ToolTips in the system.</p>\n</blockquote>\n<p>I don't really understand how I should use <code>ToolTipManager</code>. Should my View extend <code>ToolTipManager</code> or am I mislead?</p>\n"},{"tags":["java","synchronization","overriding","paint","repaint"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1650802814,"post_id":71988302,"comment_id":127203699,"body_markdown":"You should be overriding `paintComponent` but we need to see your code","body":"You should be overriding <code>paintComponent</code> but we need to see your code"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1651589118,"post_id":71988302,"comment_id":127396017,"body_markdown":"Did you read [Swing’s Threading Policy](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/package-summary.html#threading)? Don’t modify the UI from a background thread. Use `javax.swing.Timer` to perform a UI action repeatedly.","body":"Did you read <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/package-summary.html#threading\" rel=\"nofollow noreferrer\">Swing’s Threading Policy</a>? Don’t modify the UI from a background thread. Use <code>javax.swing.Timer</code> to perform a UI action repeatedly."}],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1166,"user_id":16048914,"display_name":"David Weber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650804785,"creation_date":1650804785,"answer_id":71988610,"question_id":71988302,"body_markdown":"At first, if you want better performance and a lower chance of lagging/stuttering, use `paintImmediately()` instead of `repaint()`.\r\n\r\nIt could be, that this solves your problem already.\r\n\r\nThe second part is: Do you use double buffering? If you use this, this problem will definitely disappear (in my oppinion).","title":"Jlabels flickering or randomly not showing","body":"<p>At first, if you want better performance and a lower chance of lagging/stuttering, use <code>paintImmediately()</code> instead of <code>repaint()</code>.</p>\n<p>It could be, that this solves your problem already.</p>\n<p>The second part is: Do you use double buffering? If you use this, this problem will definitely disappear (in my oppinion).</p>\n"}],"owner":{"account_id":20578840,"reputation":3,"user_id":15105433,"display_name":"sottaceto"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650808272,"creation_date":1650802640,"question_id":71988302,"body_markdown":"I have a problem with a Java 2d game I&#39;m developing.\r\n\r\nSome of the game screen elements are drawn in a  `Jpanel` overriding the  `paint()` method and some other elements are `Jlabels` added to that panel.\r\n \r\nThe problem is that the elements drawn in the `paint()` method are always up to date (I recall a `Jpanel.repaint()` every 30ms from a thread) but the `Jlabels` often are not shown or are blinking in a random way.\r\n\r\nI&#39;ve searched a lot but couldn&#39;t find a way to update all the elements at the same time.\r\n\r\nThis is the core structure of the code:\r\n\r\n**Main Class**\r\n```\r\nfinal class ATC_sim {\r\n \r\n\t// ...\r\n\r\n\tpublic CustomLabel[] label; \r\n\t// CustomLabel is just a class in which are organized differents JLabels in\r\n\t// a certain relative position.  \r\n\r\n\t// ...\r\n\t\r\n \tprivate ATC_sim(){\r\n        initGui();\r\n        initGame();\r\n    }\r\n\r\n    private void initGui(){\r\n    \tframe = new JFrame();\r\n        pGame = new GamePanel(this);\r\n        for(int i=0; i&lt; label.length; i++){\r\n        \tpGame.add(label[i]);\r\n        }\r\n        frame.add(pGame);\r\n       \t// ...\r\n    }\r\n\r\n \tprivate void initGame(){\r\n \t\tloop = new Loop(this, 30);                  \r\n        thread = new Thread(loop);\r\n    \tthread.start();\r\n        \r\n        pGame.repaint();\r\n    }\r\n\r\n    // method recalled every 30ms from thread(loop)\r\n    public void updateGame(){         \r\n    \t// do the math of the game (in which I also move the position of labels)\r\n    \t// ...\r\n    \tfor(int i=0; i&lt; label.length; i++){\r\n        \tlabel[i].update(); // this method update text in Jlabels and position of label.\r\n        }\r\n\r\n\r\n    \tpGame.repaint();\r\n    }\r\n}\r\n```\r\n**GamePanel class**\r\n\r\n```\r\npublic class GamePanel extends JPanel {\r\n\t// ...\r\n\r\n\tpublic GamePanel(ATC_sim a) {\r\n\t\tthis.atc = a;\r\n\t\t// ...\r\n\t}\r\n\t\r\n\tpublic void paintComponent(Graphics g) {\r\n\t\tsuper.paintComponent(g);\r\n\t\tg2d = (Graphics2D) g;\r\n\t\tg2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,RenderingHints.VALUE_ANTIALIAS_ON);\r\n\t\t\r\n\t\t// do some drawings according to some variable calculated in updateGame()\r\n\r\n\r\n\t}\r\n}\r\n```","title":"Jlabels flickering or randomly not showing","body":"<p>I have a problem with a Java 2d game I'm developing.</p>\n<p>Some of the game screen elements are drawn in a  <code>Jpanel</code> overriding the  <code>paint()</code> method and some other elements are <code>Jlabels</code> added to that panel.</p>\n<p>The problem is that the elements drawn in the <code>paint()</code> method are always up to date (I recall a <code>Jpanel.repaint()</code> every 30ms from a thread) but the <code>Jlabels</code> often are not shown or are blinking in a random way.</p>\n<p>I've searched a lot but couldn't find a way to update all the elements at the same time.</p>\n<p>This is the core structure of the code:</p>\n<p><strong>Main Class</strong></p>\n<pre><code>final class ATC_sim {\n \n    // ...\n\n    public CustomLabel[] label; \n    // CustomLabel is just a class in which are organized differents JLabels in\n    // a certain relative position.  \n\n    // ...\n    \n    private ATC_sim(){\n        initGui();\n        initGame();\n    }\n\n    private void initGui(){\n        frame = new JFrame();\n        pGame = new GamePanel(this);\n        for(int i=0; i&lt; label.length; i++){\n            pGame.add(label[i]);\n        }\n        frame.add(pGame);\n        // ...\n    }\n\n    private void initGame(){\n        loop = new Loop(this, 30);                  \n        thread = new Thread(loop);\n        thread.start();\n        \n        pGame.repaint();\n    }\n\n    // method recalled every 30ms from thread(loop)\n    public void updateGame(){         \n        // do the math of the game (in which I also move the position of labels)\n        // ...\n        for(int i=0; i&lt; label.length; i++){\n            label[i].update(); // this method update text in Jlabels and position of label.\n        }\n\n\n        pGame.repaint();\n    }\n}\n</code></pre>\n<p><strong>GamePanel class</strong></p>\n<pre><code>public class GamePanel extends JPanel {\n    // ...\n\n    public GamePanel(ATC_sim a) {\n        this.atc = a;\n        // ...\n    }\n    \n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        g2d = (Graphics2D) g;\n        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,RenderingHints.VALUE_ANTIALIAS_ON);\n        \n        // do some drawings according to some variable calculated in updateGame()\n\n\n    }\n}\n</code></pre>\n"},{"tags":["java","itext","itext7"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1650694983,"post_id":71970558,"comment_id":127185241,"body_markdown":"Does the issue occur with any PDFs or have you tested just with very specific PDFs? I ask because according to the stacktrace the issue occurs while cloning the outlines. This may hint at an error in the outline structure in the PDF you merge.","body":"Does the issue occur with any PDFs or have you tested just with very specific PDFs? I ask because according to the stacktrace the issue occurs while cloning the outlines. This may hint at an error in the outline structure in the PDF you merge."},{"owner":{"account_id":12576534,"reputation":63,"user_id":9148768,"display_name":"Bhagath"},"score":0,"creation_date":1650895264,"post_id":71970558,"comment_id":127224847,"body_markdown":"@mkl I tried doing the same with PDF Box and I see no issue but it is utilizing lot of memory when compared to IText.","body":"@mkl I tried doing the same with PDF Box and I see no issue but it is utilizing lot of memory when compared to IText."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1650899678,"post_id":71970558,"comment_id":127226695,"body_markdown":"Please share the PDF for which the issue occurs.","body":"Please share the PDF for which the issue occurs."}],"owner":{"account_id":12576534,"reputation":63,"user_id":9148768,"display_name":"Bhagath"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650807206,"creation_date":1650638415,"question_id":71970558,"body_markdown":"We have a requirement to merge multiple pdf documents and I am using Itext7 to achieve this. I have around 20k files to merge and I am doing them in chunks. During the merge process I am getting below exception. Can someone help to figure out the issue\r\n```lang-none\r\n2022-04-21 05:55:27 ERROR AggregatorServiceItext: - Exception occurred while append file letter_aggregation/PDFFiles/Test149.pdf for date 04-11-2022 , hour 4:\r\njava.lang.NullPointerException: null\r\n\tat com.itextpdf.kernel.pdf.PdfOutline.addOutline(PdfOutline.java:280) ~[kernel-7.2.1.jar!/:?]\r\n\tat com.itextpdf.kernel.pdf.PdfOutline.addOutline(PdfOutline.java:313) ~[kernel-7.2.1.jar!/:?]\r\n\tat com.itextpdf.kernel.pdf.PdfDocument.cloneOutlines(PdfDocument.java:2408) ~[kernel-7.2.1.jar!/:?]\r\n\tat com.itextpdf.kernel.pdf.PdfDocument.copyOutlines(PdfDocument.java:2370) ~[kernel-7.2.1.jar!/:?]\r\n\tat com.itextpdf.kernel.pdf.PdfDocument.copyPagesTo(PdfDocument.java:1325) ~[kernel-7.2.1.jar!/:?]\r\n\tat com.itextpdf.kernel.pdf.PdfDocument.copyPagesTo(PdfDocument.java:1366) ~[kernel-7.2.1.jar!/:?]\r\n\tat com.itextpdf.kernel.pdf.PdfDocument.copyPagesTo(PdfDocument.java:1345) ~[kernel-7.2.1.jar!/:?]\r\n\tat com.itextpdf.kernel.utils.PdfMerger.merge(PdfMerger.java:140) ~[kernel-7.2.1.jar!/:?]\r\n\tat com.itextpdf.kernel.utils.PdfMerger.merge(PdfMerger.java:117) ~[kernel-7.2.1.jar!/:?]\r\n\tat com.test.letterbatch.service.AggregatorServiceItext.lambda$null$3(AggregatorServiceItext.java:177) ~[pdf-aggregator-utils-1.7.jar!/:?]\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_275]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_275]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_275]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_275]\r\n\tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_275]\r\n```\r\n\r\n\r\nHere is the code I am using to Merge. Iam getting the documents from s3 and merging them in chunks.\r\n```lang-java\r\ns3ObjectReplicatedSummaries.stream().collect(Collectors.groupingBy(x -&gt; index.getAndIncrement() / chunkSize)).entrySet().forEach(integerListEntry -&gt; {\r\n    try {\r\n        PdfDocument pdfDoc = new PdfDocument(new PdfWriter(aggregatedFileLocalPath +FOLDER_PATH_SEPARATE + &quot;aggregated_&quot;+integerListEntry.getKey()+&quot;.pdf&quot;, new WriterProperties().useSmartMode()));\r\n        PdfMerger merger = new PdfMerger(pdfDoc);\r\n        final CountDownLatch latch = new CountDownLatch(integerListEntry.getValue().size());\r\n        integerListEntry.getValue().forEach(s3ObjectSummary -&gt; executorService.submit(() -&gt; {\r\n            try {\r\n                S3Object s3Object = s3Client.getObject(s3ObjectSummary.getBucketName(), s3ObjectSummary.getKey());\r\n                PdfDocument pdfDocument = new PdfDocument(new PdfReader(s3Object.getObjectContent().getDelegateStream()));\r\n                merger.merge(pdfDocument, 1, pdfDocument.getNumberOfPages());\r\n                s3Object.close();\r\n                pdfDocument.close();\r\n            } catch (Exception ex) {\r\n                logger.error(&quot;Exception occurred while append file {} for date {} , hour {}:&quot;,s3ObjectSummary.getKey(),dateOfProcessing, hourOfProcessing, ex);\r\n            }\r\n            finally {\r\n                latch.countDown();\r\n                logger.info(&quot;Down:{}&quot;,latch.getCount());\r\n            }\r\n        }));\r\n        logger.info(&quot;Before latch await&quot;);\r\n        latch.await();\r\n        logger.info(&quot;After latch await&quot;);\r\n        pdfDoc.close();\r\n        logger.info(&quot;Successfully created Chunk pdf&quot;);\r\n        filesList.add(aggregatedFileLocalPath +FOLDER_PATH_SEPARATE + &quot;aggregated_&quot;+integerListEntry.getKey()+&quot;.pdf&quot;);\r\n    }\r\n    catch (Exception ex) {\r\n        logger.error(&quot;Exception occurred while append for date {} , hour {}:&quot;,dateOfProcessing, hourOfProcessing, ex);\r\n    }\r\n});\r\n```\r\n\r\n","title":"PDF Merge using Itext7 throwing NullPointerException","body":"<p>We have a requirement to merge multiple pdf documents and I am using Itext7 to achieve this. I have around 20k files to merge and I am doing them in chunks. During the merge process I am getting below exception. Can someone help to figure out the issue</p>\n<pre class=\"lang-none prettyprint-override\"><code>2022-04-21 05:55:27 ERROR AggregatorServiceItext: - Exception occurred while append file letter_aggregation/PDFFiles/Test149.pdf for date 04-11-2022 , hour 4:\njava.lang.NullPointerException: null\n    at com.itextpdf.kernel.pdf.PdfOutline.addOutline(PdfOutline.java:280) ~[kernel-7.2.1.jar!/:?]\n    at com.itextpdf.kernel.pdf.PdfOutline.addOutline(PdfOutline.java:313) ~[kernel-7.2.1.jar!/:?]\n    at com.itextpdf.kernel.pdf.PdfDocument.cloneOutlines(PdfDocument.java:2408) ~[kernel-7.2.1.jar!/:?]\n    at com.itextpdf.kernel.pdf.PdfDocument.copyOutlines(PdfDocument.java:2370) ~[kernel-7.2.1.jar!/:?]\n    at com.itextpdf.kernel.pdf.PdfDocument.copyPagesTo(PdfDocument.java:1325) ~[kernel-7.2.1.jar!/:?]\n    at com.itextpdf.kernel.pdf.PdfDocument.copyPagesTo(PdfDocument.java:1366) ~[kernel-7.2.1.jar!/:?]\n    at com.itextpdf.kernel.pdf.PdfDocument.copyPagesTo(PdfDocument.java:1345) ~[kernel-7.2.1.jar!/:?]\n    at com.itextpdf.kernel.utils.PdfMerger.merge(PdfMerger.java:140) ~[kernel-7.2.1.jar!/:?]\n    at com.itextpdf.kernel.utils.PdfMerger.merge(PdfMerger.java:117) ~[kernel-7.2.1.jar!/:?]\n    at com.test.letterbatch.service.AggregatorServiceItext.lambda$null$3(AggregatorServiceItext.java:177) ~[pdf-aggregator-utils-1.7.jar!/:?]\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_275]\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_275]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_275]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_275]\n    at java.lang.Thread.run(Thread.java:748) [?:1.8.0_275]\n</code></pre>\n<p>Here is the code I am using to Merge. Iam getting the documents from s3 and merging them in chunks.</p>\n<pre class=\"lang-java prettyprint-override\"><code>s3ObjectReplicatedSummaries.stream().collect(Collectors.groupingBy(x -&gt; index.getAndIncrement() / chunkSize)).entrySet().forEach(integerListEntry -&gt; {\n    try {\n        PdfDocument pdfDoc = new PdfDocument(new PdfWriter(aggregatedFileLocalPath +FOLDER_PATH_SEPARATE + &quot;aggregated_&quot;+integerListEntry.getKey()+&quot;.pdf&quot;, new WriterProperties().useSmartMode()));\n        PdfMerger merger = new PdfMerger(pdfDoc);\n        final CountDownLatch latch = new CountDownLatch(integerListEntry.getValue().size());\n        integerListEntry.getValue().forEach(s3ObjectSummary -&gt; executorService.submit(() -&gt; {\n            try {\n                S3Object s3Object = s3Client.getObject(s3ObjectSummary.getBucketName(), s3ObjectSummary.getKey());\n                PdfDocument pdfDocument = new PdfDocument(new PdfReader(s3Object.getObjectContent().getDelegateStream()));\n                merger.merge(pdfDocument, 1, pdfDocument.getNumberOfPages());\n                s3Object.close();\n                pdfDocument.close();\n            } catch (Exception ex) {\n                logger.error(&quot;Exception occurred while append file {} for date {} , hour {}:&quot;,s3ObjectSummary.getKey(),dateOfProcessing, hourOfProcessing, ex);\n            }\n            finally {\n                latch.countDown();\n                logger.info(&quot;Down:{}&quot;,latch.getCount());\n            }\n        }));\n        logger.info(&quot;Before latch await&quot;);\n        latch.await();\n        logger.info(&quot;After latch await&quot;);\n        pdfDoc.close();\n        logger.info(&quot;Successfully created Chunk pdf&quot;);\n        filesList.add(aggregatedFileLocalPath +FOLDER_PATH_SEPARATE + &quot;aggregated_&quot;+integerListEntry.getKey()+&quot;.pdf&quot;);\n    }\n    catch (Exception ex) {\n        logger.error(&quot;Exception occurred while append for date {} , hour {}:&quot;,dateOfProcessing, hourOfProcessing, ex);\n    }\n});\n</code></pre>\n"},{"tags":["java","javafx","listener"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1650718236,"post_id":71979681,"comment_id":127189298,"body_markdown":"[mcve] please, demonstrating why you are using such an unusual construct - a onClose handler is notified automatically, if not null","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please, demonstrating why you are using such an unusual construct - a onClose handler is notified automatically, if not null"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1650721520,"post_id":71979681,"comment_id":127190046,"body_markdown":"If you want to respond to a tab being closed either by the user, or programmatically, why not just add a listener to the tab pane’s list of tabs?","body":"If you want to respond to a tab being closed either by the user, or programmatically, why not just add a listener to the tab pane’s list of tabs?"},{"owner":{"account_id":15375909,"reputation":643,"user_id":11092636,"display_name":"FluidMechanics Potential Flows"},"score":0,"creation_date":1650737635,"post_id":71979681,"comment_id":127193889,"body_markdown":"Not sure what unusual construct you&#39;re talking about. I&#39;ve just copied the other stackoverflow answer?","body":"Not sure what unusual construct you&#39;re talking about. I&#39;ve just copied the other stackoverflow answer?"},{"owner":{"account_id":15375909,"reputation":643,"user_id":11092636,"display_name":"FluidMechanics Potential Flows"},"score":0,"creation_date":1650737682,"post_id":71979681,"comment_id":127193901,"body_markdown":"I don&#39;t really understand what you mean by a listener to the tab pane&#39;s list of tabs? sorry I&#39;m a total beginner in java &amp; javaFX.","body":"I don&#39;t really understand what you mean by a listener to the tab pane&#39;s list of tabs? sorry I&#39;m a total beginner in java &amp; javaFX."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1650744077,"post_id":71979681,"comment_id":127195316,"body_markdown":"@FluidMechanicsPotentialFlows `tabPane.getTabs()` returns an observable list of the tabs in the tab pane. Add a `ListChangeListener` to it. I don’t really know how to say it more simply than that.","body":"@FluidMechanicsPotentialFlows <code>tabPane.getTabs()</code> returns an observable list of the tabs in the tab pane. Add a <code>ListChangeListener</code> to it. I don’t really know how to say it more simply than that."}],"answers":[{"tags":[],"owner":{"account_id":24012140,"reputation":52,"user_id":17995593,"display_name":"IHopeItWontBeAStupidQuestion"},"down_vote_count":2,"up_vote_count":1,"is_accepted":true,"score":-1,"last_activity_date":1650738961,"creation_date":1650738961,"answer_id":71982624,"question_id":71979681,"body_markdown":"You might want to use `getOnCloseRequest` instead of `getOnClosed` in your method `closeTab`:\r\n\r\n    EventHandler&lt;Event&gt; handler = tab.getOnCloseRequest();\r\n    handler.handle(null);\r\n    tab.getTabPane().getTabs().remove(tab);","title":"tabPane.getTabs().remove(tab) doesn&#39;t call listener","body":"<p>You might want to use <code>getOnCloseRequest</code> instead of <code>getOnClosed</code> in your method <code>closeTab</code>:</p>\n<pre><code>EventHandler&lt;Event&gt; handler = tab.getOnCloseRequest();\nhandler.handle(null);\ntab.getTabPane().getTabs().remove(tab);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650806665,"creation_date":1650747032,"answer_id":71983507,"question_id":71979681,"body_markdown":"None of these approaches (in other current answers in this post, or in the original post you linked) really make sense to me. It&#39;s possible I am not understanding what you are trying to do.\r\n\r\nIf you want to respond to a tab being removed, whether it is removed by the user clicking the tab close button, or programmatically by manipulating the tab pane&#39;s list of tabs, the usual approach would be to register a listener with the list of tabs:\r\n\r\n    private TabPane tabPane ;\r\n    \r\n    // ...\r\n\r\n    tabPane.getTabs().addListener((Change&lt;? extends Tab&gt; c) -&gt; {\r\n        while (c.next()) {\r\n            if (c.wasRemoved()) {\r\n                for (Tab tab : c.getRemoved()) {\r\n                    System.out.println(&quot;Tab &quot; + tab.getText() + &quot; closed.&quot;);\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n","title":"tabPane.getTabs().remove(tab) doesn&#39;t call listener","body":"<p>None of these approaches (in other current answers in this post, or in the original post you linked) really make sense to me. It's possible I am not understanding what you are trying to do.</p>\n<p>If you want to respond to a tab being removed, whether it is removed by the user clicking the tab close button, or programmatically by manipulating the tab pane's list of tabs, the usual approach would be to register a listener with the list of tabs:</p>\n<pre><code>private TabPane tabPane ;\n\n// ...\n\ntabPane.getTabs().addListener((Change&lt;? extends Tab&gt; c) -&gt; {\n    while (c.next()) {\n        if (c.wasRemoved()) {\n            for (Tab tab : c.getRemoved()) {\n                System.out.println(&quot;Tab &quot; + tab.getText() + &quot; closed.&quot;);\n            }\n        }\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":15375909,"reputation":643,"user_id":11092636,"display_name":"FluidMechanics Potential Flows"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71982624,"answer_count":2,"score":-1,"last_activity_date":1650806665,"creation_date":1650717472,"question_id":71979681,"body_markdown":"I have been [reading this stackoverflow post][1]. And they say `tabPane.getTabs().remove(tab)` will not trigger the listener on the event closing the tab which makes sense.\r\n\r\nTherefore, I have applied their solution to my problem (I understand the principle, but not really the code), but my listener will never get called. Neither `tabPane.getTabs().remove(tab)` nor `closeTab(tab)` with the method `closeTab` defined like so:\r\n\r\n    private void closeTab(Tab tab) {\r\n            EventHandler&lt;Event&gt; handler = tab.getOnClosed();\r\n            if (null != handler) {\r\n                handler.handle(null);\r\n            } else {\r\n                tab.getTabPane().getTabs().remove(tab);\r\n            }\r\n        }\r\ncall my listener. My listener is however called when I do close the tab with the mouse.\r\n\r\n\r\nHere is my listener:\r\n\r\n    private static void addListenerOnClosingTab(Tab tab) {\r\n            tab.setOnCloseRequest(new EventHandler&lt;Event&gt;()\r\n            {\r\n                @Override\r\n                public void handle(Event arg0)\r\n                {\r\n                    Util.loggerControllerDiagram.info(&quot;Tab &quot; + tab.getText() + &quot; closed.&quot;);\r\n                }\r\n            });\r\n        }\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/21022961/11092636","title":"tabPane.getTabs().remove(tab) doesn&#39;t call listener","body":"<p>I have been <a href=\"https://stackoverflow.com/a/21022961/11092636\">reading this stackoverflow post</a>. And they say <code>tabPane.getTabs().remove(tab)</code> will not trigger the listener on the event closing the tab which makes sense.</p>\n<p>Therefore, I have applied their solution to my problem (I understand the principle, but not really the code), but my listener will never get called. Neither <code>tabPane.getTabs().remove(tab)</code> nor <code>closeTab(tab)</code> with the method <code>closeTab</code> defined like so:</p>\n<pre><code>private void closeTab(Tab tab) {\n        EventHandler&lt;Event&gt; handler = tab.getOnClosed();\n        if (null != handler) {\n            handler.handle(null);\n        } else {\n            tab.getTabPane().getTabs().remove(tab);\n        }\n    }\n</code></pre>\n<p>call my listener. My listener is however called when I do close the tab with the mouse.</p>\n<p>Here is my listener:</p>\n<pre><code>private static void addListenerOnClosingTab(Tab tab) {\n        tab.setOnCloseRequest(new EventHandler&lt;Event&gt;()\n        {\n            @Override\n            public void handle(Event arg0)\n            {\n                Util.loggerControllerDiagram.info(&quot;Tab &quot; + tab.getText() + &quot; closed.&quot;);\n            }\n        });\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","jackson","webclient","zoneddatetime"],"comments":[{"owner":{"account_id":2751107,"reputation":31052,"user_id":2370483,"accept_rate":89,"display_name":"Machavity"},"score":1,"creation_date":1650803934,"post_id":71986132,"comment_id":127203930,"body_markdown":"Comments are not for extended discussion; this conversation has been [moved to chat](https://chat.stackoverflow.com/rooms/244152/discussion-on-question-by-vladislav-sedov-webclient-loses-zone-when-fetching-dat).","body":"Comments are not for extended discussion; this conversation has been <a href=\"https://chat.stackoverflow.com/rooms/244152/discussion-on-question-by-vladislav-sedov-webclient-loses-zone-when-fetching-dat\">moved to chat</a>."}],"owner":{"account_id":18896443,"reputation":31,"user_id":13785504,"display_name":"Vladislav Sedov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1650867927,"answer_count":0,"score":1,"last_activity_date":1650806123,"creation_date":1650782895,"question_id":71986132,"body_markdown":"I am trying to get data from another service. The database has fields like time stamp with zone.\r\n\r\n```sql \r\ncreation_date TIMESTAMP WITH TIME ZONE NOT NULL\r\n```\r\n\r\nIn model `creationDate` is `ZonedDateTime`.\r\n\r\nI store dates in `UTC+0` and want them to be up to date for any zone when requested.\r\nIn the service, I solved this problem by adding a zone to the mapper. \r\n\r\n```java\r\n.creationDate(notificationsHistory.getCreationDate().withZoneSameInstant(ZoneId.systemDefault()))\r\n```\r\n\r\nWhen I try to get data using the `webClient` from this service, I get the dates again in `UTC+0`, although I get `UTC+3` (default time zone) directly from the service\r\n\r\nIn Service:\r\n\r\n```json\r\n&quot;creationDate&quot;: &quot;2022-04-23T13:19:49.361144 +03:00&quot;\r\n``` \r\n(time in `UTC+3`)\r\n\r\nIn WebClient query: \r\n\r\n```json\r\n&quot;creationDate&quot;: &quot;2022-04-23T10:19:49.361144Z&quot;\r\n``` \r\n(time in `UTC+0`)\r\n\r\nHere is my request to service:\r\n\r\n```java\r\n    webClient.get()\r\n      .uri(uriBuilder -&gt; uriBuilder\r\n        .path(&quot;...&quot;)\r\n        .build(...))\r\n      .retrieve()\r\n      .bodyToMono(Dto.class)\r\n      .block();\r\n```\r\n\r\nHere is my WebClient configuration:\r\n\r\n```java\r\n  @Bean\r\n  public WebClient webClient() {\r\n    return WebClient.builder()\r\n      .baseUrl(URI)\r\n      .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\r\n      .build();\r\n  }\r\n```\r\n\r\n`creationDate` in model:\r\n\r\n ```java\r\n  @Schema(\r\n    description = &quot;Date of creation&quot;\r\n  )\r\n  private ZonedDateTime creationDate;\r\n```\r\n\r\nApparently, I&#39;m losing the zone already with `bodyToMono(Dto.class);`\r\n\r\nCan I somehow configure the webClient to not lose the zone? It is very important that there is the right time from any zone.\r\n","title":"WebClient loses zone when fetching data from another service","body":"<p>I am trying to get data from another service. The database has fields like time stamp with zone.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>creation_date TIMESTAMP WITH TIME ZONE NOT NULL\n</code></pre>\n<p>In model <code>creationDate</code> is <code>ZonedDateTime</code>.</p>\n<p>I store dates in <code>UTC+0</code> and want them to be up to date for any zone when requested.\nIn the service, I solved this problem by adding a zone to the mapper.</p>\n<pre class=\"lang-java prettyprint-override\"><code>.creationDate(notificationsHistory.getCreationDate().withZoneSameInstant(ZoneId.systemDefault()))\n</code></pre>\n<p>When I try to get data using the <code>webClient</code> from this service, I get the dates again in <code>UTC+0</code>, although I get <code>UTC+3</code> (default time zone) directly from the service</p>\n<p>In Service:</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;creationDate&quot;: &quot;2022-04-23T13:19:49.361144 +03:00&quot;\n</code></pre>\n<p>(time in <code>UTC+3</code>)</p>\n<p>In WebClient query:</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;creationDate&quot;: &quot;2022-04-23T10:19:49.361144Z&quot;\n</code></pre>\n<p>(time in <code>UTC+0</code>)</p>\n<p>Here is my request to service:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    webClient.get()\n      .uri(uriBuilder -&gt; uriBuilder\n        .path(&quot;...&quot;)\n        .build(...))\n      .retrieve()\n      .bodyToMono(Dto.class)\n      .block();\n</code></pre>\n<p>Here is my WebClient configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Bean\n  public WebClient webClient() {\n    return WebClient.builder()\n      .baseUrl(URI)\n      .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\n      .build();\n  }\n</code></pre>\n<p><code>creationDate</code> in model:</p>\n<pre class=\"lang-java prettyprint-override\"><code> @Schema(\n   description = &quot;Date of creation&quot;\n )\n private ZonedDateTime creationDate;\n</code></pre>\n<p>Apparently, I'm losing the zone already with <code>bodyToMono(Dto.class);</code></p>\n<p>Can I somehow configure the webClient to not lose the zone? It is very important that there is the right time from any zone.</p>\n"},{"tags":["java","types","compiler-errors"],"comments":[{"owner":{"account_id":2734060,"reputation":263882,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"score":0,"creation_date":1401788637,"post_id":24011843,"comment_id":37008810,"body_markdown":"`args` is an array of strings. How do you want to apply the remainder operation to an array of strings?","body":"<code>args</code> is an array of strings. How do you want to apply the remainder operation to an array of strings?"},{"owner":{"account_id":200015,"reputation":4010,"user_id":445651,"accept_rate":82,"display_name":"Wolfpack&#39;08"},"score":0,"creation_date":1401788802,"post_id":24011843,"comment_id":37008922,"body_markdown":"@R.J I&#39;m on the basics (chapter 4).  Passing and returning types comes much later.","body":"@R.J I&#39;m on the basics (chapter 4).  Passing and returning types comes much later."},{"owner":{"account_id":2305374,"reputation":44549,"user_id":2024761,"display_name":"Rahul"},"score":0,"creation_date":1401789149,"post_id":24011843,"comment_id":37009139,"body_markdown":"@Wolfpack&#39;08 - I&#39;m of the idea that parameter passing and return types of method would be included with the method calling tutorial. May be the tutorial you&#39;re referring to is a bit different. Happy learning nonetheless.","body":"@Wolfpack&#39;08 - I&#39;m of the idea that parameter passing and return types of method would be included with the method calling tutorial. May be the tutorial you&#39;re referring to is a bit different. Happy learning nonetheless."},{"owner":{"account_id":200015,"reputation":4010,"user_id":445651,"accept_rate":82,"display_name":"Wolfpack&#39;08"},"score":0,"creation_date":1401802381,"post_id":24011843,"comment_id":37017454,"body_markdown":"@RJ, I would love to hear more about your curriculum. Thank you.","body":"@RJ, I would love to hear more about your curriculum. Thank you."}],"answers":[{"tags":[],"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401788532,"creation_date":1401788532,"answer_id":24011879,"question_id":24011843,"body_markdown":"    extRight(args) // extRight() expects an int, you are passing a String[]\r\n\r\ncheck\r\n\r\n    public static void extRight(int x) { // expecting int. Also int s = extRight(args); --&gt; this method returns nothing i.e, void\r\n\r\n        x = x % 10; //initially tried `x % 10;`\r\n\r\n    }","title":"String[] cannot be converted to int by method invocation conversion?","body":"<pre><code>extRight(args) // extRight() expects an int, you are passing a String[]\n</code></pre>\n\n<p>check</p>\n\n<pre><code>public static void extRight(int x) { // expecting int. Also int s = extRight(args); --&gt; this method returns nothing i.e, void\n\n    x = x % 10; //initially tried `x % 10;`\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":129540,"reputation":210847,"user_id":328193,"accept_rate":91,"display_name":"David"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401788835,"creation_date":1401788835,"answer_id":24011987,"question_id":24011843,"body_markdown":"At first glance there are two things wrong here (possibly quite a few more).  Look at your definition for the `extRight` method:\r\n\r\n    public static void extRight(int x)\r\n\r\nSpecifically the types.  The *argument* is an `int` and the `return` is `void`.  Now see how you use it:\r\n\r\n    int s = extRight(args);\r\n\r\n`args` is a `String[]` (hence the compiler error), and what do you expect `s` to become if there&#39;s no return type?\r\n\r\nIt&#39;s not clear at all what this code is even trying to do, but to &quot;correct the error&quot; you would need to align your types correctly.  Simply changing the argument to a `String[]` wouldn&#39;t really work, because the method&#39;s logic needs an `int`.  Maybe you need to convert the first `args` value to an `int` and pass that to the method?  Then you&#39;ll also want to *return* something from that method it seems...","title":"String[] cannot be converted to int by method invocation conversion?","body":"<p>At first glance there are two things wrong here (possibly quite a few more).  Look at your definition for the <code>extRight</code> method:</p>\n\n<pre><code>public static void extRight(int x)\n</code></pre>\n\n<p>Specifically the types.  The <em>argument</em> is an <code>int</code> and the <code>return</code> is <code>void</code>.  Now see how you use it:</p>\n\n<pre><code>int s = extRight(args);\n</code></pre>\n\n<p><code>args</code> is a <code>String[]</code> (hence the compiler error), and what do you expect <code>s</code> to become if there's no return type?</p>\n\n<p>It's not clear at all what this code is even trying to do, but to \"correct the error\" you would need to align your types correctly.  Simply changing the argument to a <code>String[]</code> wouldn't really work, because the method's logic needs an <code>int</code>.  Maybe you need to convert the first <code>args</code> value to an <code>int</code> and pass that to the method?  Then you'll also want to <em>return</em> something from that method it seems...</p>\n"},{"tags":[],"owner":{"account_id":1126136,"reputation":17393,"user_id":1113392,"display_name":"A4L"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401789525,"creation_date":1401788939,"answer_id":24012020,"question_id":24011843,"body_markdown":"As you can see or have wirten \r\n\r\n    String[] args\r\n\r\n`args` is an array of `String`-Objects\r\n\r\nYour method \r\n\r\n    void extRight(int x)\r\n\r\nhowever takes an `int` as argument. The primitive type `int` and the Object type `String` are not compatible. Plus an array of objects is not compatible with a single object of the same type. You need to Iterate over the array of your arguments and do an explicit conversion/parsing of the `String` value to an `int` value.\r\n\r\n\r\nThe statement\r\n\r\n    x = x % 10;\r\n\r\nhas not the effect that you expect, in java parameters are passed by value (references too), so when you modify x inside the method, the modified value is visible only in that method. (It&#39;s not like in C where you can pass a pointer to an int!)\r\n\r\nfinally your method `extRight` has the the return type `void` which will give you error on the line\r\n\r\n    int s = extRight(args);\r\n\r\nYour method needs to be \r\n\r\n    int extRight(int x)\r\n\r\nHere is a modified version of your class\r\n\r\n    class ExtRight {\r\n        public static int extRight(int x) {\r\n            return x % 10;\r\n        }\r\n    \r\n        public static void main(String[] args){\r\n            for(String s : args) {\r\n                int i = extRight(Integer.parseInt(s));\r\n                System.out.print(i);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nAlso note that you should not name a method with the same name of The class, and that classnames should always start with an Upper case letter.","title":"String[] cannot be converted to int by method invocation conversion?","body":"<p>As you can see or have wirten </p>\n\n<pre><code>String[] args\n</code></pre>\n\n<p><code>args</code> is an array of <code>String</code>-Objects</p>\n\n<p>Your method </p>\n\n<pre><code>void extRight(int x)\n</code></pre>\n\n<p>however takes an <code>int</code> as argument. The primitive type <code>int</code> and the Object type <code>String</code> are not compatible. Plus an array of objects is not compatible with a single object of the same type. You need to Iterate over the array of your arguments and do an explicit conversion/parsing of the <code>String</code> value to an <code>int</code> value.</p>\n\n<p>The statement</p>\n\n<pre><code>x = x % 10;\n</code></pre>\n\n<p>has not the effect that you expect, in java parameters are passed by value (references too), so when you modify x inside the method, the modified value is visible only in that method. (It's not like in C where you can pass a pointer to an int!)</p>\n\n<p>finally your method <code>extRight</code> has the the return type <code>void</code> which will give you error on the line</p>\n\n<pre><code>int s = extRight(args);\n</code></pre>\n\n<p>Your method needs to be </p>\n\n<pre><code>int extRight(int x)\n</code></pre>\n\n<p>Here is a modified version of your class</p>\n\n<pre><code>class ExtRight {\n    public static int extRight(int x) {\n        return x % 10;\n    }\n\n    public static void main(String[] args){\n        for(String s : args) {\n            int i = extRight(Integer.parseInt(s));\n            System.out.print(i);\n        }\n    }\n}\n</code></pre>\n\n<p>Also note that you should not name a method with the same name of The class, and that classnames should always start with an Upper case letter.</p>\n"},{"tags":[],"owner":{"account_id":2341914,"reputation":109,"user_id":2053003,"accept_rate":100,"display_name":"sona"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401800387,"creation_date":1401789003,"answer_id":24012038,"question_id":24011843,"body_markdown":"args are string-type. You need to convert arg to Int type.\r\n\r\nHere is modified code:\r\n\r\n    class extRight {\r\n\r\n    public static int extRight(int x) {\r\n\r\n        x = x % 10; //initially tried `x % 10;`\r\n        return x;\r\n    \r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        int i = Integer.parseInt(args[0]) //convert to int\r\n        int s = extRight(i);\r\n        String o = Integer.toString(s);\r\n        System.out.print(o);\r\n    }\r\n    }\r\n","title":"String[] cannot be converted to int by method invocation conversion?","body":"<p>args are string-type. You need to convert arg to Int type.</p>\n\n<p>Here is modified code:</p>\n\n<pre><code>class extRight {\n\npublic static int extRight(int x) {\n\n    x = x % 10; //initially tried `x % 10;`\n    return x;\n\n}\n\npublic static void main(String[] args) {\n\n    int i = Integer.parseInt(args[0]) //convert to int\n    int s = extRight(i);\n    String o = Integer.toString(s);\n    System.out.print(o);\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4439065,"reputation":21,"user_id":3614088,"display_name":"Fr&#233;d&#233;ric Fil&#233;e"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401789104,"creation_date":1401789104,"answer_id":24012076,"question_id":24011843,"body_markdown":"You have to parse your &#39;args&#39; String tab into an integer :\r\n\r\n    int t = 0;\r\n    try {\r\n        t = Integer.parseInt(args[0]);\r\n    } catch (Exception e) {\r\n        // error : the first argument is not an integer\r\n        t = 0;\r\n    }\r\n    s = extRight(t);","title":"String[] cannot be converted to int by method invocation conversion?","body":"<p>You have to parse your 'args' String tab into an integer :</p>\n\n<pre><code>int t = 0;\ntry {\n    t = Integer.parseInt(args[0]);\n} catch (Exception e) {\n    // error : the first argument is not an integer\n    t = 0;\n}\ns = extRight(t);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401789123,"creation_date":1401789123,"answer_id":24012084,"question_id":24011843,"body_markdown":"There are some very basic problems with your code.\r\n\r\nThe first problem is that you have a ``String[]`` and try to treat it as an ``int``. A ``String[]`` may contain multiple values (even 0 values!), so it&#39;s not clear which one you want to treat as a number. I&#39;ll just assume you want the very first one.\r\n\r\nThe second problem is the problem of return types and call-by-value in your ``extRight`` function. Assigning a value to ``x`` inside the function will overwrite only the local variable ``x``. It doesn&#39;t change the variable of the calling function (your ``main``).\r\n\r\nHere&#39;s my guess on what you want to achieve and my proposed solution:\r\n\r\n    class extRight {\r\n        //this function now returns a value so that the changes by your calculations\r\n        // can be used by the main function\r\n        public static int extRight(int x) {\r\n            return x % 10;\r\n    \t}\r\n\r\n    \tpublic static void main(String[] args){\r\n            //this converts the first argument to an int:\r\n            int arg = Integer.valueOf(args[0]);\r\n            //the return value of your extRight function is store to the variable s\r\n    \t    int s = extRight(arg);\r\n            //instead of your code, you can simply print the int variable\r\n    \t    System.out.print(s);\r\n    \t}\r\n    }","title":"String[] cannot be converted to int by method invocation conversion?","body":"<p>There are some very basic problems with your code.</p>\n\n<p>The first problem is that you have a <code>String[]</code> and try to treat it as an <code>int</code>. A <code>String[]</code> may contain multiple values (even 0 values!), so it's not clear which one you want to treat as a number. I'll just assume you want the very first one.</p>\n\n<p>The second problem is the problem of return types and call-by-value in your <code>extRight</code> function. Assigning a value to <code>x</code> inside the function will overwrite only the local variable <code>x</code>. It doesn't change the variable of the calling function (your <code>main</code>).</p>\n\n<p>Here's my guess on what you want to achieve and my proposed solution:</p>\n\n<pre><code>class extRight {\n    //this function now returns a value so that the changes by your calculations\n    // can be used by the main function\n    public static int extRight(int x) {\n        return x % 10;\n    }\n\n    public static void main(String[] args){\n        //this converts the first argument to an int:\n        int arg = Integer.valueOf(args[0]);\n        //the return value of your extRight function is store to the variable s\n        int s = extRight(arg);\n        //instead of your code, you can simply print the int variable\n        System.out.print(s);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4435760,"reputation":4170,"user_id":3611648,"accept_rate":80,"display_name":"Mustafa sabir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1401821973,"creation_date":1401789365,"answer_id":24012169,"question_id":24011843,"body_markdown":"## Existing function ##\r\n\r\nFirst of all, change the name of your function, `extRight`, to something else! It&#39;s the name of the function&#39;s class,which would be used for defining constructors of that class.\r\n\r\n## How to assign a new value to an argument ##\r\n\r\n`x` is an argument, and you cannot modify arguments like  `x = x % 10;`. Either declare a static variable, `int x`, and directly access it; or, return int from your function! Otherwise, your function will not be useful. **Ex.:**\r\n\r\n    //return x\r\n    public static int extRight1(int x) {\r\n\r\n        x = x % 10;\r\n        return x;\r\n    \r\n    }\r\n\r\n## Passing wrong type ##\r\n\r\nYou are passing `args` to `extRight`, which expects an int-type parameter: `int s = extRight(args);`. \r\n\r\n## Automatic string conversation ##\r\n\r\nYou don&#39;t have to take this step: `String o = Integer.toString(s);`. You can directly write `System.out.print(s);`, as it will automatically convert the int in sysout to String before printing it to console.\r\n\r\n## Working code ##\r\n\r\nWorking code would look something like what follows (with my understanding of what you want to achieve):\r\n\r\n    class extRight {\r\n\r\n    public static int extRight1(int x) {\r\n\r\n        x = x % 10; \r\n         return x;\r\n\r\n    }\r\n\r\n    public static void main(String[] args){\r\n        //do not forget  to pass command line args to program like this &quot;java extRight 1&quot;   \r\n        int s = extRight1(Integer.parseInt(args[0]));// change indices to assign different arg[] values\r\n       //  String o = Integer.toString(s)  you dont have to do this you can directly write\r\n        System.out.print(s);\r\n\r\n    }\r\n\r\n    }","title":"String[] cannot be converted to int by method invocation conversion?","body":"<h2>Existing function</h2>\n\n<p>First of all, change the name of your function, <code>extRight</code>, to something else! It's the name of the function's class,which would be used for defining constructors of that class.</p>\n\n<h2>How to assign a new value to an argument</h2>\n\n<p><code>x</code> is an argument, and you cannot modify arguments like  <code>x = x % 10;</code>. Either declare a static variable, <code>int x</code>, and directly access it; or, return int from your function! Otherwise, your function will not be useful. <strong>Ex.:</strong></p>\n\n<pre><code>//return x\npublic static int extRight1(int x) {\n\n    x = x % 10;\n    return x;\n\n}\n</code></pre>\n\n<h2>Passing wrong type</h2>\n\n<p>You are passing <code>args</code> to <code>extRight</code>, which expects an int-type parameter: <code>int s = extRight(args);</code>. </p>\n\n<h2>Automatic string conversation</h2>\n\n<p>You don't have to take this step: <code>String o = Integer.toString(s);</code>. You can directly write <code>System.out.print(s);</code>, as it will automatically convert the int in sysout to String before printing it to console.</p>\n\n<h2>Working code</h2>\n\n<p>Working code would look something like what follows (with my understanding of what you want to achieve):</p>\n\n<pre><code>class extRight {\n\npublic static int extRight1(int x) {\n\n    x = x % 10; \n     return x;\n\n}\n\npublic static void main(String[] args){\n    //do not forget  to pass command line args to program like this \"java extRight 1\"   \n    int s = extRight1(Integer.parseInt(args[0]));// change indices to assign different arg[] values\n   //  String o = Integer.toString(s)  you dont have to do this you can directly write\n    System.out.print(s);\n\n}\n\n}\n</code></pre>\n"}],"owner":{"account_id":200015,"reputation":4010,"user_id":445651,"accept_rate":82,"display_name":"Wolfpack&#39;08"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2765,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":24012169,"answer_count":7,"score":0,"last_activity_date":1650805878,"creation_date":1401788456,"question_id":24011843,"body_markdown":"## What this code is trying to do ##\r\n\r\nDesired result: \r\n\r\nSolove the following word problem, using code:\r\n\r\n&gt; Also, you can use the modulus operator to extract the rightmost digit or digits from a number. For example, x % 10 yields the rightmost digit of x (in base 10). Similarly x % 100 yields the last two digits.\r\n - Think Java, Allan Downey, Green Tea Press\r\n\r\n## Questions ##\r\n\r\n  - How is this error repaired?\r\n  - Can my code be simplified or consolidated (see comments)?\r\n\r\n## Error message ##\r\n\r\n    extRight.java:11: error: method extRight in class \r\n    extRight cannot be applied to given types;\r\n                    int s = extRight(args);\r\n                            ^\r\n      required: int\r\n      found: String[]\r\n      reason: actual argument String[] cannot be \r\n      converted to int by method invocation conversion\r\n    1 error\r\n\r\n## My code ##\r\n\r\n    class extRight {\r\n    \r\n        public static void extRight(int x) {\r\n    \t\r\n    \t\tx = x % 10; //initially tried `x % 10;`\r\n    \t\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args){\r\n    \t\r\n                //initially the below was: extRight(args);\r\n                //then: System.out.print(extRight(args));\r\n    \t\tint s = extRight(args);\r\n    \t\tString o = Integer.toString(s);\r\n    \t\tSystem.out.print(o);\r\n    \t\r\n    \t}\r\n    \t\r\n    }\r\n","title":"String[] cannot be converted to int by method invocation conversion?","body":"<h2>What this code is trying to do</h2>\n<p>Desired result:</p>\n<p>Solove the following word problem, using code:</p>\n<blockquote>\n<p>Also, you can use the modulus operator to extract the rightmost digit or digits from a number. For example, x % 10 yields the rightmost digit of x (in base 10). Similarly x % 100 yields the last two digits.</p>\n</blockquote>\n<ul>\n<li>Think Java, Allan Downey, Green Tea Press</li>\n</ul>\n<h2>Questions</h2>\n<ul>\n<li>How is this error repaired?</li>\n<li>Can my code be simplified or consolidated (see comments)?</li>\n</ul>\n<h2>Error message</h2>\n<pre><code>extRight.java:11: error: method extRight in class \nextRight cannot be applied to given types;\n                int s = extRight(args);\n                        ^\n  required: int\n  found: String[]\n  reason: actual argument String[] cannot be \n  converted to int by method invocation conversion\n1 error\n</code></pre>\n<h2>My code</h2>\n<pre><code>class extRight {\n\n    public static void extRight(int x) {\n    \n        x = x % 10; //initially tried `x % 10;`\n    \n    }\n\n    public static void main(String[] args){\n    \n            //initially the below was: extRight(args);\n            //then: System.out.print(extRight(args));\n        int s = extRight(args);\n        String o = Integer.toString(s);\n        System.out.print(o);\n    \n    }\n    \n}\n</code></pre>\n"},{"tags":["java","cmd","jar","command-line-arguments"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1650806085,"post_id":71988688,"comment_id":127204369,"body_markdown":"You need to supply your application jar name that is created after the build. It can be found in the `dist` directory: `java -jar MyApplicationName.jar`.","body":"You need to supply your application jar name that is created after the build. It can be found in the <code>dist</code> directory: <code>java -jar MyApplicationName.jar</code>."},{"owner":{"account_id":25076275,"reputation":1,"user_id":18929668,"display_name":"Luca Maddox"},"score":0,"creation_date":1650809926,"post_id":71988688,"comment_id":127205205,"body_markdown":"Sorry, yes I have done that as well. I forgot to include in the post. It still doesn&#39;t run immediately with the printing method.","body":"Sorry, yes I have done that as well. I forgot to include in the post. It still doesn&#39;t run immediately with the printing method."}],"owner":{"account_id":25076275,"reputation":1,"user_id":18929668,"display_name":"Luca Maddox"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650805499,"creation_date":1650805499,"question_id":71988688,"body_markdown":"I have created a jar file from Netbeans with a scanner and a subsequent method in main. When I open cmd to run the jar file, I write java -jar [scanner input].\r\nNow when I enter the scanner input, the program should run directly. However, when I do that it runs the jar file but prints nothing, then I write the same [scanner input] without java -jar and it starts to print.\r\nI need the program to print directly after the initial java- jar &lt;scanner input&gt;. How do I do that? \r\n\r\nPS. To make that jar file, I simply pressed clean and build on the project without editing much of the properties.","title":"cmd not running jar file directly","body":"<p>I have created a jar file from Netbeans with a scanner and a subsequent method in main. When I open cmd to run the jar file, I write java -jar [scanner input].\nNow when I enter the scanner input, the program should run directly. However, when I do that it runs the jar file but prints nothing, then I write the same [scanner input] without java -jar and it starts to print.\nI need the program to print directly after the initial java- jar . How do I do that?</p>\n<p>PS. To make that jar file, I simply pressed clean and build on the project without editing much of the properties.</p>\n"},{"tags":["java","spring","spring-boot","swing","testing"],"answers":[{"tags":[],"owner":{"account_id":17601890,"reputation":21,"user_id":12771688,"display_name":"HALO"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650805421,"creation_date":1650805421,"answer_id":71988678,"question_id":70511731,"body_markdown":"Try adding ```@ContextConfiguration(loader = AnnotationConfigContextLoader.class)``` annotation in your TestUserService class","title":"When running Swing application with the Spring Framework, Unit tests do not work","body":"<p>Try adding <code>@ContextConfiguration(loader = AnnotationConfigContextLoader.class)</code> annotation in your TestUserService class</p>\n"}],"owner":{"account_id":21809497,"reputation":11,"user_id":16107262,"display_name":"Pukki_Pukki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650805421,"creation_date":1640720264,"question_id":70511731,"body_markdown":"I am developing a project through the spring framework. I am using JUnit to run unit tests, swing for the GUI. When I run the system, the GUI opens and I can access the database. But when I try to run the tests, I get the following errors.\r\n\r\n`Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;cs320MtsApplication&#39;: Unsatisfied dependency expressed through field &#39;application&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;application&#39; defined in file`\r\n\r\nHere is my **runner class**\r\n\r\n        @SpringBootApplication\r\n    public class Cs320MtsApplication implements CommandLineRunner {\r\n    \r\n        @Autowired\r\n        Application application;\r\n    \r\n        public static void main(String[] args) {\r\n            new SpringApplicationBuilder(Cs320MtsApplication.class).headless(false).run(args);\r\n        }\r\n    \r\n        @Override\r\n        public void run(String... args) {\r\n            application.init();\r\n        }\r\n    }\r\n\r\n**Application** class which is contains swing components.\r\n\r\n    \r\n\r\n        @Component\r\n        public class Application extends JFrame {\r\n            @Autowired\r\n            private TransferOthersAccount   transferOthers;\r\n            @Autowired\r\n            private Register                register;\r\n            @Autowired\r\n            private CheckBalance            checkBalance;\r\n            @Autowired\r\n            private MainMenu                mainMenu;\r\n            @Autowired\r\n            private ViewTransactionHist     viewTransaction;\r\n            @Autowired\r\n            private Welcome                 welcome;\r\n            @Autowired\r\n            private ChangePassword          changePassword;\r\n            @Autowired\r\n            private TransferOwnAccount      transferOwn;\r\n            @Autowired\r\n            private Login                   login;\r\n    }\r\n\r\nHere is my **example test**\r\n\r\n    @SpringBootTest\r\n    public class TestUserService\r\n    {\r\n        @Autowired\r\n        UserService userService;\r\n        @Autowired\r\n        AccountService accountService;\r\n        /**\r\n         * The default DB mode is &quot;create&quot;\r\n         * This test creates 2 user and 2 account for each user.\r\n         * This method should be run in order to initialize the DB and work with it for testing purposes.\r\n         */\r\n        @Test\r\n        public void testCreateUser() throws Exception {\r\n    \r\n            // Creation of first User\r\n            User user = new User(&quot;Kerem&quot;,&quot;Ersan&quot;,123456,&quot;07-04-2000&quot;,&quot;35007269396&quot;,&quot;kerem.ersan@ozu.edu.tr&quot;,&quot;5057656825&quot;);\r\n    \r\n            // Creation of first User&#39;s first account.\r\n            Account account = new Account(300,user);\r\n            user.getAccounts().add(account);\r\n            account.setUser(user);\r\n    \r\n            // Creation of first User&#39;s second account.\r\n            Account account2 = new Account(200,user);\r\n            user.getAccounts().add(account2);\r\n            account.setUser(user);\r\n    \r\n            // saves first User information to the DB\r\n            userService.save(user);\r\n    \r\n            // Creation of second User\r\n            User user2 = new User(&quot;Zuhal&quot;,&quot;Karabas&quot;,973100,&quot;05-06-1998&quot;,&quot;24107854293&quot;,&quot;zuhaltokgoz@gmail.com.tr&quot;,&quot;5511768127&quot;);\r\n    \r\n            // Creation of second User&#39;s first account\r\n            Account account3 = new Account(1575,user2);\r\n            user2.getAccounts().add(account3);\r\n            account.setUser(user2);\r\n    \r\n            // Creation of second User&#39;s second account\r\n            Account account4 = new Account(1870,user2);\r\n            user2.getAccounts().add(account4);\r\n            account4.setUser(user2);\r\n    \r\n            // saves second User information to the DB\r\n            userService.save(user2);\r\n    \r\n    \r\n        }\r\n        @Test\r\n        public void deleteAllRows()\r\n        {\r\n            userService.deleteAll();\r\n        }\r\n    }\r\n    \r\nHow can I solve this, some parts may have been misused in the spring, I&#39;m very new in Spring.","title":"When running Swing application with the Spring Framework, Unit tests do not work","body":"<p>I am developing a project through the spring framework. I am using JUnit to run unit tests, swing for the GUI. When I run the system, the GUI opens and I can access the database. But when I try to run the tests, I get the following errors.</p>\n<p><code>Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'cs320MtsApplication': Unsatisfied dependency expressed through field 'application'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'application' defined in file</code></p>\n<p>Here is my <strong>runner class</strong></p>\n<pre><code>    @SpringBootApplication\npublic class Cs320MtsApplication implements CommandLineRunner {\n\n    @Autowired\n    Application application;\n\n    public static void main(String[] args) {\n        new SpringApplicationBuilder(Cs320MtsApplication.class).headless(false).run(args);\n    }\n\n    @Override\n    public void run(String... args) {\n        application.init();\n    }\n}\n</code></pre>\n<p><strong>Application</strong> class which is contains swing components.</p>\n<pre><code>    @Component\n    public class Application extends JFrame {\n        @Autowired\n        private TransferOthersAccount   transferOthers;\n        @Autowired\n        private Register                register;\n        @Autowired\n        private CheckBalance            checkBalance;\n        @Autowired\n        private MainMenu                mainMenu;\n        @Autowired\n        private ViewTransactionHist     viewTransaction;\n        @Autowired\n        private Welcome                 welcome;\n        @Autowired\n        private ChangePassword          changePassword;\n        @Autowired\n        private TransferOwnAccount      transferOwn;\n        @Autowired\n        private Login                   login;\n}\n</code></pre>\n<p>Here is my <strong>example test</strong></p>\n<pre><code>@SpringBootTest\npublic class TestUserService\n{\n    @Autowired\n    UserService userService;\n    @Autowired\n    AccountService accountService;\n    /**\n     * The default DB mode is &quot;create&quot;\n     * This test creates 2 user and 2 account for each user.\n     * This method should be run in order to initialize the DB and work with it for testing purposes.\n     */\n    @Test\n    public void testCreateUser() throws Exception {\n\n        // Creation of first User\n        User user = new User(&quot;Kerem&quot;,&quot;Ersan&quot;,123456,&quot;07-04-2000&quot;,&quot;35007269396&quot;,&quot;kerem.ersan@ozu.edu.tr&quot;,&quot;5057656825&quot;);\n\n        // Creation of first User's first account.\n        Account account = new Account(300,user);\n        user.getAccounts().add(account);\n        account.setUser(user);\n\n        // Creation of first User's second account.\n        Account account2 = new Account(200,user);\n        user.getAccounts().add(account2);\n        account.setUser(user);\n\n        // saves first User information to the DB\n        userService.save(user);\n\n        // Creation of second User\n        User user2 = new User(&quot;Zuhal&quot;,&quot;Karabas&quot;,973100,&quot;05-06-1998&quot;,&quot;24107854293&quot;,&quot;zuhaltokgoz@gmail.com.tr&quot;,&quot;5511768127&quot;);\n\n        // Creation of second User's first account\n        Account account3 = new Account(1575,user2);\n        user2.getAccounts().add(account3);\n        account.setUser(user2);\n\n        // Creation of second User's second account\n        Account account4 = new Account(1870,user2);\n        user2.getAccounts().add(account4);\n        account4.setUser(user2);\n\n        // saves second User information to the DB\n        userService.save(user2);\n\n\n    }\n    @Test\n    public void deleteAllRows()\n    {\n        userService.deleteAll();\n    }\n}\n</code></pre>\n<p>How can I solve this, some parts may have been misused in the spring, I'm very new in Spring.</p>\n"},{"tags":["java","spring","ssl","spring-ws"],"answers":[{"tags":[],"owner":{"account_id":37019,"reputation":51344,"user_id":105744,"accept_rate":92,"display_name":"Taylor Leese"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1268253596,"creation_date":1268248980,"answer_id":2419853,"question_id":2419791,"body_markdown":"You should install the certificates you need in the keystore (probably the cacerts file) of the JDK used to run your app server using they keytool command.\r\n\r\nHere is an example command:\r\n\r\n    keytool -import -trustcacerts -alias someAlias -file someCert.crt -keystore yourKeystore\r\n\r\n**Edit**: Based on the updated question it looks like this may be what you are looking for: http://static.springsource.org/spring-ws/sites/1.5/reference/html/security.html","title":"Using WebServiceTemplate with a keystore","body":"<p>You should install the certificates you need in the keystore (probably the cacerts file) of the JDK used to run your app server using they keytool command.</p>\n\n<p>Here is an example command:</p>\n\n<pre><code>keytool -import -trustcacerts -alias someAlias -file someCert.crt -keystore yourKeystore\n</code></pre>\n\n<p><strong>Edit</strong>: Based on the updated question it looks like this may be what you are looking for: <a href=\"http://static.springsource.org/spring-ws/sites/1.5/reference/html/security.html\" rel=\"nofollow noreferrer\">http://static.springsource.org/spring-ws/sites/1.5/reference/html/security.html</a></p>\n"},{"tags":[],"owner":{"account_id":779,"reputation":4357,"user_id":1012,"display_name":"simonlord"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1268328366,"creation_date":1268327092,"answer_id":2427044,"question_id":2419791,"body_markdown":"I think you can programatically load a keystore based using a KeyStore.Builder:\r\n\r\nhttp://java.sun.com/j2se/1.5.0/docs/api/java/security/KeyStore.Builder.html#newInstance%28java.lang.String,%20java.security.Provider,%20java.io.File,%20java.security.KeyStore.ProtectionParameter%29\r\n\r\nSo maybe have a class that has a webservice template or extends it, then set the file path of the keystore on it in your spring config and make it an inizialing bean (@PostConstruct in Spring 3?) which then loads the keystore.\r\n\r\n    File f = new File(keyStorePath);\r\n    KeyStore.Builder builder = KeyStore.Builder.newInstance(&quot;type&quot;,provider,file,protection);\r\n    KeyStore keystore = builder.getKeyStore();\r\n\r\nOk - to actually use it with your webservicetemplate i think it must be based around the keystore callback as documented here: http://static.springsource.org/spring-ws/sites/1.5/reference/html/security.html#d0e4462\r\n\r\nOr maybe by using the spring org.springframework.ws.transport.http.HttpsUrlConnectionMessageSender which you can set keystoremanager on. Then that can be used by your webservicetemplate.\r\n\r\nA bit like this:\r\n\r\n    &lt;bean id=&quot;template&quot; class=&quot;org.springframework.ws.client.core.WebServiceTemplate&quot;&gt;\r\n\t\t&lt;property name=&quot;messageSender&quot;&gt;\r\n\t\t\t&lt;bean class=&quot;org.springframework.ws.transport.http.HttpsUrlConnectionMessageSender&quot;&gt;\r\n\t\t\t\t&lt;property name=&quot;&quot;&gt;&lt;/property&gt;\r\n\t\t\t&lt;/bean&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\r\nHTH","title":"Using WebServiceTemplate with a keystore","body":"<p>I think you can programatically load a keystore based using a KeyStore.Builder:</p>\n\n<p><a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/security/KeyStore.Builder.html#newInstance%28java.lang.String,%20java.security.Provider,%20java.io.File,%20java.security.KeyStore.ProtectionParameter%29\" rel=\"nofollow noreferrer\">http://java.sun.com/j2se/1.5.0/docs/api/java/security/KeyStore.Builder.html#newInstance%28java.lang.String,%20java.security.Provider,%20java.io.File,%20java.security.KeyStore.ProtectionParameter%29</a></p>\n\n<p>So maybe have a class that has a webservice template or extends it, then set the file path of the keystore on it in your spring config and make it an inizialing bean (@PostConstruct in Spring 3?) which then loads the keystore.</p>\n\n<pre><code>File f = new File(keyStorePath);\nKeyStore.Builder builder = KeyStore.Builder.newInstance(\"type\",provider,file,protection);\nKeyStore keystore = builder.getKeyStore();\n</code></pre>\n\n<p>Ok - to actually use it with your webservicetemplate i think it must be based around the keystore callback as documented here: <a href=\"http://static.springsource.org/spring-ws/sites/1.5/reference/html/security.html#d0e4462\" rel=\"nofollow noreferrer\">http://static.springsource.org/spring-ws/sites/1.5/reference/html/security.html#d0e4462</a></p>\n\n<p>Or maybe by using the spring org.springframework.ws.transport.http.HttpsUrlConnectionMessageSender which you can set keystoremanager on. Then that can be used by your webservicetemplate.</p>\n\n<p>A bit like this:</p>\n\n<pre><code>&lt;bean id=\"template\" class=\"org.springframework.ws.client.core.WebServiceTemplate\"&gt;\n    &lt;property name=\"messageSender\"&gt;\n        &lt;bean class=\"org.springframework.ws.transport.http.HttpsUrlConnectionMessageSender\"&gt;\n            &lt;property name=\"\"&gt;&lt;/property&gt;\n        &lt;/bean&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>HTH</p>\n"},{"tags":[],"owner":{"account_id":625428,"reputation":11,"user_id":375018,"display_name":"obaudys"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1277366393,"creation_date":1277366393,"answer_id":3108143,"question_id":2419791,"body_markdown":"Late reply on this thread but anyway:  note that once you have your keystore and everything else set up, you may be shocked to find that the WebServiceTemplate doesn&#39;t seem to support HTTPS connections!\r\n\r\nMake sure you set the `messageSender` property to be `org.springframework.ws.transport.http.CommonsHttpMessageSender`.  The default `WebServiceMessageSender` implementation does not support HTTPS.","title":"Using WebServiceTemplate with a keystore","body":"<p>Late reply on this thread but anyway:  note that once you have your keystore and everything else set up, you may be shocked to find that the WebServiceTemplate doesn't seem to support HTTPS connections!</p>\n\n<p>Make sure you set the <code>messageSender</code> property to be <code>org.springframework.ws.transport.http.CommonsHttpMessageSender</code>.  The default <code>WebServiceMessageSender</code> implementation does not support HTTPS.</p>\n"},{"tags":[],"owner":{"account_id":167843,"reputation":151,"user_id":392909,"display_name":"mrcrabs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1279208547,"creation_date":1279208547,"answer_id":3257260,"question_id":2419791,"body_markdown":"I&#39;m assuming you mean you want to configure the keystore used by JSSE, since that is the Template will use.  JSSE will always always look at the javax.net.ssl.keyStore/javax.net.ssl.keyStorePassword system properties to find the keystore.  You can configure these properties in Spring using an InitializingBean like this.\r\n\r\nNote that if you are running in an app server the JSSE may already be configured before Spring initializes.  In this case you need to use the app server interface to set the keystore -- usually using -D params on command line.\r\n\r\n\t&lt;bean id=&quot;jsseInitializer&quot; lazy-init=&quot;false&quot; class=&quot;com.blah.JsseInitializer&quot;&gt;\r\n\t\t\t&lt;property name=&quot;trustStoreLocation&quot; value=&quot;${pnet.batch.trustStore.location}&quot;/&gt;\r\n\t\t\t&lt;property name=&quot;trustStorePassword&quot; value=&quot;${pnet.batch.trustStore.password}&quot;/&gt;\r\n\t\t\t&lt;property name=&quot;keyStoreLocation&quot; value=&quot;${pnet.batch.keyStore.location}&quot;/&gt;\r\n\t\t\t&lt;property name=&quot;keyStorePassword&quot; value=&quot;${pnet.batch.keyStore.password}&quot;/&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\r\n    public class JsseInitializer implements InitializingBean {\r\n    \t\r\n    \tprivate String trustStoreLocation;\r\n    \tprivate String trustStorePassword;\r\n    \tprivate String keyStoreLocation;\r\n    \tprivate String keyStorePassword;\r\n    \t\r\n    \tpublic String getTrustStoreLocation() {\r\n    \t\treturn trustStoreLocation;\r\n    \t}\r\n    \r\n    \r\n    \tpublic void setTrustStoreLocation(String trustStoreLocation) {\r\n    \t\tthis.trustStoreLocation = trustStoreLocation;\r\n    \t}\r\n    \r\n    \r\n    \tpublic String getTrustStorePassword() {\r\n    \t\treturn trustStorePassword;\r\n    \t}\r\n    \r\n    \r\n    \tpublic void setTrustStorePassword(String trustStorePassword) {\r\n    \t\tthis.trustStorePassword = trustStorePassword;\r\n    \t}\r\n    \r\n    \r\n    \tpublic String getKeyStoreLocation() {\r\n    \t\treturn keyStoreLocation;\r\n    \t}\r\n    \r\n    \r\n    \tpublic void setKeyStoreLocation(String keyStoreLocation) {\r\n    \t\tthis.keyStoreLocation = keyStoreLocation;\r\n    \t}\r\n    \r\n    \r\n    \tpublic String getKeyStorePassword() {\r\n    \t\treturn keyStorePassword;\r\n    \t}\r\n    \r\n    \r\n    \tpublic void setKeyStorePassword(String keyStorePassword) {\r\n    \t\tthis.keyStorePassword = keyStorePassword;\r\n    \t}\r\n    \r\n    \tpublic void afterPropertiesSet() throws Exception {\r\n            System.setProperty(&quot;javax.net.ssl.trustStore&quot;, trustStoreLocation);\r\n            System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, trustStorePassword);\r\n            System.setProperty(&quot;javax.net.ssl.keyStore&quot;, keyStoreLocation);\r\n            System.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, keyStorePassword);\r\n            \r\n        }\r\n    }","title":"Using WebServiceTemplate with a keystore","body":"<p>I'm assuming you mean you want to configure the keystore used by JSSE, since that is the Template will use.  JSSE will always always look at the javax.net.ssl.keyStore/javax.net.ssl.keyStorePassword system properties to find the keystore.  You can configure these properties in Spring using an InitializingBean like this.</p>\n\n<p>Note that if you are running in an app server the JSSE may already be configured before Spring initializes.  In this case you need to use the app server interface to set the keystore -- usually using -D params on command line.</p>\n\n<pre><code>&lt;bean id=\"jsseInitializer\" lazy-init=\"false\" class=\"com.blah.JsseInitializer\"&gt;\n        &lt;property name=\"trustStoreLocation\" value=\"${pnet.batch.trustStore.location}\"/&gt;\n        &lt;property name=\"trustStorePassword\" value=\"${pnet.batch.trustStore.password}\"/&gt;\n        &lt;property name=\"keyStoreLocation\" value=\"${pnet.batch.keyStore.location}\"/&gt;\n        &lt;property name=\"keyStorePassword\" value=\"${pnet.batch.keyStore.password}\"/&gt;\n&lt;/bean&gt;\n\n\npublic class JsseInitializer implements InitializingBean {\n\n    private String trustStoreLocation;\n    private String trustStorePassword;\n    private String keyStoreLocation;\n    private String keyStorePassword;\n\n    public String getTrustStoreLocation() {\n        return trustStoreLocation;\n    }\n\n\n    public void setTrustStoreLocation(String trustStoreLocation) {\n        this.trustStoreLocation = trustStoreLocation;\n    }\n\n\n    public String getTrustStorePassword() {\n        return trustStorePassword;\n    }\n\n\n    public void setTrustStorePassword(String trustStorePassword) {\n        this.trustStorePassword = trustStorePassword;\n    }\n\n\n    public String getKeyStoreLocation() {\n        return keyStoreLocation;\n    }\n\n\n    public void setKeyStoreLocation(String keyStoreLocation) {\n        this.keyStoreLocation = keyStoreLocation;\n    }\n\n\n    public String getKeyStorePassword() {\n        return keyStorePassword;\n    }\n\n\n    public void setKeyStorePassword(String keyStorePassword) {\n        this.keyStorePassword = keyStorePassword;\n    }\n\n    public void afterPropertiesSet() throws Exception {\n        System.setProperty(\"javax.net.ssl.trustStore\", trustStoreLocation);\n        System.setProperty(\"javax.net.ssl.trustStorePassword\", trustStorePassword);\n        System.setProperty(\"javax.net.ssl.keyStore\", keyStoreLocation);\n        System.setProperty(\"javax.net.ssl.keyStorePassword\", keyStorePassword);\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1307135,"reputation":21,"user_id":1255893,"display_name":"Michael Vandewalle"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1472547339,"creation_date":1331161617,"answer_id":9610537,"question_id":2419791,"body_markdown":"The answers and the questions that I found in this post kept me chasing my tail for a while.  In the end I got this working for an application I deployed to WebLogic 11g by importing the keystore into the keystore on my Weblogic server:\r\n\r\n**C:\\bea\\jrockit_160_14_R27.6.5-32\\jre\\bin&gt;keytool -importkeystore -srckeystore \\workspace\\myProject\\webservice.keystore**\r\n\r\nThen I changed the configuration for the WebLogic keystore to point to this keystore. You can do this through the WL console: **Environment-&gt;Servers-&gt;AdminServer-&gt;Keystores**.\r\nChange the Keystores: selection to **&quot;Custom Identity and Custom Trust&quot;**, then fill in the path in the **Identity**(incoming), and **Trust**(outgoing) sections to your keystore location.  On Windows XP, mine was in \\Documents an Settings\\my id\\\\.keystore.\r\n\r\nI didn&#39;t provide the passphrase and I believe it is optional.","title":"Using WebServiceTemplate with a keystore","body":"<p>The answers and the questions that I found in this post kept me chasing my tail for a while.  In the end I got this working for an application I deployed to WebLogic 11g by importing the keystore into the keystore on my Weblogic server:</p>\n\n<p><strong>C:\\bea\\jrockit_160_14_R27.6.5-32\\jre\\bin>keytool -importkeystore -srckeystore \\workspace\\myProject\\webservice.keystore</strong></p>\n\n<p>Then I changed the configuration for the WebLogic keystore to point to this keystore. You can do this through the WL console: <strong>Environment->Servers->AdminServer->Keystores</strong>.\nChange the Keystores: selection to <strong>\"Custom Identity and Custom Trust\"</strong>, then fill in the path in the <strong>Identity</strong>(incoming), and <strong>Trust</strong>(outgoing) sections to your keystore location.  On Windows XP, mine was in \\Documents an Settings\\my id\\.keystore.</p>\n\n<p>I didn't provide the passphrase and I believe it is optional.</p>\n"},{"tags":[],"owner":{"account_id":450498,"reputation":1652,"user_id":845849,"display_name":"Suken Shah"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1464744280,"creation_date":1464744280,"answer_id":37558028,"question_id":2419791,"body_markdown":"I am posting this answer after six years but to be honest there isn&#39;t a single post where a complete and concise solution is provided. All you need is spring-ws-core (2.1.4.RELEASE +) and spring-we-security (2.2.4.RELEASE +) dependencies. The next step is to configure custom keystore and truststore as beans and then inject them to web service template in spring configuration.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;bean id=&quot;myKeyStore&quot; class=&quot;org.springframework.ws.soap.security.support.KeyStoreFactoryBean&quot;&gt;\r\n    \t&lt;property name=&quot;location&quot; value=&quot;file:/tmp/config/my-keystore.jks&quot;/&gt;\r\n    \t&lt;property name=&quot;password&quot; value=&quot;password&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;myTrustStore&quot; class=&quot;org.springframework.ws.soap.security.support.KeyStoreFactoryBean&quot;&gt;\r\n    \t&lt;property name=&quot;location&quot; value=&quot;file:/tmp/config/my-truststore.jks&quot;/&gt;\r\n    \t&lt;property name=&quot;password&quot; value=&quot;different_password&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;template&quot; class=&quot;org.springframework.ws.client.core.WebServiceTemplate&quot;&gt;\r\n        &lt;property name=&quot;messageSender&quot;&gt;\r\n            &lt;bean class=&quot;org.springframework.ws.transport.http.HttpsUrlConnectionMessageSender&quot;&gt;\r\n                &lt;property name=&quot;trustManagers&quot;&gt;\r\n    \t\t&lt;bean class=&quot;org.springframework.ws.soap.security.support.TrustManagersFactoryBean&quot;&gt;\r\n    \t\t\t&lt;property name=&quot;keyStore&quot; ref=&quot;mytrustStore&quot; /&gt;\r\n    \t\t&lt;/bean&gt;\r\n    \t    &lt;/property&gt;\r\n    \t    &lt;property name=&quot;keyManagers&quot;&gt;\r\n    \t\t&lt;bean class=&quot;org.springframework.ws.soap.security.support.KeyManagersFactoryBean&quot;&gt;\r\n    \t\t\t&lt;property name=&quot;keyStore&quot; ref=&quot;myKeyStore&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;password&quot; value=&quot;password&quot; /&gt;\r\n    \t\t&lt;/bean&gt;\r\n    \t   &lt;/property&gt;\r\n            &lt;/bean&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nIn summery there is no need to write any code, the use case can be easily achieved using spring config.","title":"Using WebServiceTemplate with a keystore","body":"<p>I am posting this answer after six years but to be honest there isn't a single post where a complete and concise solution is provided. All you need is spring-ws-core (2.1.4.RELEASE +) and spring-we-security (2.2.4.RELEASE +) dependencies. The next step is to configure custom keystore and truststore as beans and then inject them to web service template in spring configuration.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;bean id=\"myKeyStore\" class=\"org.springframework.ws.soap.security.support.KeyStoreFactoryBean\"&gt;\r\n\t&lt;property name=\"location\" value=\"file:/tmp/config/my-keystore.jks\"/&gt;\r\n\t&lt;property name=\"password\" value=\"password\"/&gt;\r\n&lt;/bean&gt;\r\n\r\n&lt;bean id=\"myTrustStore\" class=\"org.springframework.ws.soap.security.support.KeyStoreFactoryBean\"&gt;\r\n\t&lt;property name=\"location\" value=\"file:/tmp/config/my-truststore.jks\"/&gt;\r\n\t&lt;property name=\"password\" value=\"different_password\"/&gt;\r\n&lt;/bean&gt;\r\n\r\n&lt;bean id=\"template\" class=\"org.springframework.ws.client.core.WebServiceTemplate\"&gt;\r\n    &lt;property name=\"messageSender\"&gt;\r\n        &lt;bean class=\"org.springframework.ws.transport.http.HttpsUrlConnectionMessageSender\"&gt;\r\n            &lt;property name=\"trustManagers\"&gt;\r\n\t\t&lt;bean class=\"org.springframework.ws.soap.security.support.TrustManagersFactoryBean\"&gt;\r\n\t\t\t&lt;property name=\"keyStore\" ref=\"mytrustStore\" /&gt;\r\n\t\t&lt;/bean&gt;\r\n\t    &lt;/property&gt;\r\n\t    &lt;property name=\"keyManagers\"&gt;\r\n\t\t&lt;bean class=\"org.springframework.ws.soap.security.support.KeyManagersFactoryBean\"&gt;\r\n\t\t\t&lt;property name=\"keyStore\" ref=\"myKeyStore\" /&gt;\r\n\t\t\t&lt;property name=\"password\" value=\"password\" /&gt;\r\n\t\t&lt;/bean&gt;\r\n\t   &lt;/property&gt;\r\n        &lt;/bean&gt;\r\n    &lt;/property&gt;\r\n&lt;/bean&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>In summery there is no need to write any code, the use case can be easily achieved using spring config.</p>\n"},{"tags":[],"owner":{"account_id":6461925,"reputation":467,"user_id":5005397,"display_name":"Akshay Joshi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1650805252,"creation_date":1632309457,"answer_id":69283133,"question_id":2419791,"body_markdown":"For spring boot application \r\n\r\nI found this blog by Zoltan very helpful.\r\n\r\nhttps://zoltanaltfatter.com/2016/04/30/soap-over-https-with-client-certificate-authentication/\r\n\r\nShowing a code snippets below from his blog.\r\n\r\nAdd all required properties in application.properties.\r\n\r\n\r\n    @Value(&quot;${key-store}&quot;)\r\n    private Resource keyStore;\r\n\r\n    @Value(&quot;${key-store-password}&quot;)\r\n    private String keyStorePassword;\r\n\r\n    @Value(&quot;${trust-store}&quot;)\r\n    private Resource trustStore;\r\n\r\n    @Value(&quot;${trust-store-password}&quot;)\r\n    private String trustStorePassword;\r\n\r\nAnd along with setting Uri, marshaller, unmarshaller for your class which is implementing WebServiceGatewaySupport set messagesender. For which below steps need to be followed.\r\n\r\n Load Keystore manager factory with your keystore \r\n\r\n     KeyStore ks = KeyStore.getInstance(&quot;JKS&quot;);\r\n     ks.load(keyStore.getInputStream(), keyStorePassword.toCharArray());\r\n     KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\r\n     keyManagerFactory.init(ks, keyStorePassword.toCharArray());\r\n   \r\n\r\n Load Trust store manager factory with your truststore\r\n\r\n     TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n     trustManagerFactory.init(ts);\r\n\r\nCreate instance of HttpsUrlConnectionMessageSender and set key and trust manager using key manager factory and trust manager factory created above.\r\n\r\n\r\n        HttpsUrlConnectionMessageSender messageSender = new HttpsUrlConnectionMessageSender();\r\n        messageSender.setKeyManagers(keyManagerFactory.getKeyManagers());\r\n        messageSender.setTrustManagers(trustManagerFactory.getTrustManagers());\r\n\r\nFinally set message sender \r\n\r\n\r\n        client.setMessageSender(messageSender);\r\n\r\nHere client is the class that extends WebServiceGatewaySupport ","title":"Using WebServiceTemplate with a keystore","body":"<p>For spring boot application</p>\n<p>I found this blog by Zoltan very helpful.</p>\n<p><a href=\"https://zoltanaltfatter.com/2016/04/30/soap-over-https-with-client-certificate-authentication/\" rel=\"nofollow noreferrer\">https://zoltanaltfatter.com/2016/04/30/soap-over-https-with-client-certificate-authentication/</a></p>\n<p>Showing a code snippets below from his blog.</p>\n<p>Add all required properties in application.properties.</p>\n<pre><code>@Value(&quot;${key-store}&quot;)\nprivate Resource keyStore;\n\n@Value(&quot;${key-store-password}&quot;)\nprivate String keyStorePassword;\n\n@Value(&quot;${trust-store}&quot;)\nprivate Resource trustStore;\n\n@Value(&quot;${trust-store-password}&quot;)\nprivate String trustStorePassword;\n</code></pre>\n<p>And along with setting Uri, marshaller, unmarshaller for your class which is implementing WebServiceGatewaySupport set messagesender. For which below steps need to be followed.</p>\n<p>Load Keystore manager factory with your keystore</p>\n<pre><code> KeyStore ks = KeyStore.getInstance(&quot;JKS&quot;);\n ks.load(keyStore.getInputStream(), keyStorePassword.toCharArray());\n KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\n keyManagerFactory.init(ks, keyStorePassword.toCharArray());\n</code></pre>\n<p>Load Trust store manager factory with your truststore</p>\n<pre><code> TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n trustManagerFactory.init(ts);\n</code></pre>\n<p>Create instance of HttpsUrlConnectionMessageSender and set key and trust manager using key manager factory and trust manager factory created above.</p>\n<pre><code>    HttpsUrlConnectionMessageSender messageSender = new HttpsUrlConnectionMessageSender();\n    messageSender.setKeyManagers(keyManagerFactory.getKeyManagers());\n    messageSender.setTrustManagers(trustManagerFactory.getTrustManagers());\n</code></pre>\n<p>Finally set message sender</p>\n<pre><code>    client.setMessageSender(messageSender);\n</code></pre>\n<p>Here client is the class that extends WebServiceGatewaySupport</p>\n"}],"owner":{"account_id":85212,"reputation":11234,"user_id":237733,"accept_rate":94,"display_name":"Mark Pope"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26934,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":2427044,"answer_count":7,"score":11,"last_activity_date":1650805252,"creation_date":1268248467,"question_id":2419791,"body_markdown":"Is it possible to configure a WebServiceTemplate with a java keystore?\r\n\r\n**edit**  \r\nI&#39;m looking for a way to configure the location of the keystore in the spring config","title":"Using WebServiceTemplate with a keystore","body":"<p>Is it possible to configure a WebServiceTemplate with a java keystore?</p>\n\n<p><strong>edit</strong><br>\nI'm looking for a way to configure the location of the keystore in the spring config</p>\n"},{"tags":["java","selenium-webdriver","selenium-grid","nosuchelementexception"],"answers":[{"tags":[],"owner":{"account_id":1031744,"reputation":27054,"user_id":1039952,"accept_rate":81,"display_name":"Petr Mensik"},"down_vote_count":1,"up_vote_count":35,"is_accepted":true,"score":34,"last_activity_date":1428485843,"creation_date":1382518232,"answer_id":19537085,"question_id":19536954,"body_markdown":"You can never be sure that element will be found, actually this is purpose of functional tests - to tell you if anything changed on your page. But one thing which definitely helps is to add waits for the elements which are often causing `NoSuchElementException` like\r\n\r\n   \r\n    WebDriverWait wait = new WebDriverWait(webDriver, timeoutInSeconds);\r\n    wait.until(ExpectedConditions.visibilityOfElementLocated(By.id&lt;locator&gt;));","title":"What is the best way to avoid NoSuchElementException in Selenium?","body":"<p>You can never be sure that element will be found, actually this is purpose of functional tests - to tell you if anything changed on your page. But one thing which definitely helps is to add waits for the elements which are often causing <code>NoSuchElementException</code> like</p>\n\n<pre><code>WebDriverWait wait = new WebDriverWait(webDriver, timeoutInSeconds);\nwait.until(ExpectedConditions.visibilityOfElementLocated(By.id&lt;locator&gt;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3412916,"reputation":6868,"user_id":2862485,"accept_rate":89,"display_name":"Amith"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1450281354,"creation_date":1382519685,"answer_id":19537614,"question_id":19536954,"body_markdown":"you can also use `FluentWait`,\r\n\r\nEach `FluentWait` instance defines the maximum amount of time to wait for a condition, as well as the frequency with which to check the condition.\r\n\r\n Furthermore, the user may configure the wait to ignore specific types of exceptions whilst waiting, such as `NoSuchElementExceptions` when searching for an element on the page.\r\n\r\n    // Waiting 30 seconds for an element to be present on the page, checking\r\n       // for its presence once every 5 seconds.\r\n       Wait&lt;WebDriver&gt; wait = new FluentWait&lt;WebDriver&gt;(driver)\r\n           .withTimeout(30, SECONDS)\r\n           .pollingEvery(5, SECONDS)\r\n           .ignoring(NoSuchElementException.class);\r\n    \r\n       WebElement foo = wait.until(new Function&lt;WebDriver, WebElement&gt;() {\r\n         public WebElement apply(WebDriver driver) {\r\n           return driver.findElement(By.id(&quot;foo&quot;));\r\n         }\r\n       });\r\n[Click here for more info](http://selenium.googlecode.com/git/docs/api/java/org/openqa/selenium/support/ui/FluentWait.html)","title":"What is the best way to avoid NoSuchElementException in Selenium?","body":"<p>you can also use <code>FluentWait</code>,</p>\n\n<p>Each <code>FluentWait</code> instance defines the maximum amount of time to wait for a condition, as well as the frequency with which to check the condition.</p>\n\n<p>Furthermore, the user may configure the wait to ignore specific types of exceptions whilst waiting, such as <code>NoSuchElementExceptions</code> when searching for an element on the page.</p>\n\n<pre><code>// Waiting 30 seconds for an element to be present on the page, checking\n   // for its presence once every 5 seconds.\n   Wait&lt;WebDriver&gt; wait = new FluentWait&lt;WebDriver&gt;(driver)\n       .withTimeout(30, SECONDS)\n       .pollingEvery(5, SECONDS)\n       .ignoring(NoSuchElementException.class);\n\n   WebElement foo = wait.until(new Function&lt;WebDriver, WebElement&gt;() {\n     public WebElement apply(WebDriver driver) {\n       return driver.findElement(By.id(\"foo\"));\n     }\n   });\n</code></pre>\n\n<p><a href=\"http://selenium.googlecode.com/git/docs/api/java/org/openqa/selenium/support/ui/FluentWait.html\" rel=\"nofollow\">Click here for more info</a></p>\n"},{"tags":[],"owner":{"account_id":1682656,"reputation":7274,"user_id":1546574,"display_name":"eugene.polschikov"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1450281552,"creation_date":1382524943,"answer_id":19539462,"question_id":19536954,"body_markdown":"I completely agree to Petr Mensik above. The matter you can never say whether element is present.\r\nYou should clearly understand why when it happens. From my experience I should say that it happens due to the following reasons:\r\n\r\n - 1) The page is still being rendered and you&#39;ve already finished your\r\n   element search and obtain no element exception.\r\n - 2) The second reason is AJAX has not returned yet and you&#39;ve already\r\n   obtain `NoSuchElementException`\r\n - 3) The third is most obvious: The element is really not on the page\r\n   whenever.\r\n\r\nso the most robust IMHO way to handle all these three conditions using one function call is to use `fluentWait` as Amith003  suggested.\r\n\r\nso the code be the following:\r\n\r\nlet ur element has the locator:\r\n\r\n    String elLocXpath= &quot;..blablabla&quot;;\r\n    WebElement myButton= fluentWait(By.xpath(elLocXpath));\r\n    myButton.click();\r\n    \r\n    public WebElement fluentWait(final By locator){\r\n            Wait&lt;WebDriver&gt; wait = new FluentWait&lt;WebDriver&gt;(driver)\r\n                    .withTimeout(30, TimeUnit.SECONDS)\r\n    \r\n                    .pollingEvery(5, TimeUnit.SECONDS)\r\n    \r\n            .ignoring(org.openqa.selenium.NoSuchElementException.class);\r\n            WebElement foo = wait.until(\r\n                    new Function&lt;WebDriver, WebElement&gt;() {\r\n                        public WebElement apply(WebDriver driver) {\r\n                            return driver.findElement(locator);\r\n                        }\r\n                    }\r\n            );\r\n            return  foo;\r\n        };\r\n\r\n\r\nAlso if your purpose is robust code  wrap `fluentWait()` with a `try{} catch{}` block.\r\n\r\nAlso don&#39;t forget about\r\n\r\n     public boolean isElementPresent(By selector)\r\n       {\r\n       \r\n                  return driver.findElements(selector).size()&gt;0;\r\n    }\r\n\r\nthat is also useful.\r\n\r\nSo to conclude all the mentioned if you want to avoid `NoElement` exception just handle it properly as nobody can ensure in the element presence on the page.\r\n\r\nHope now it is more clear to you. Regards\r\n","title":"What is the best way to avoid NoSuchElementException in Selenium?","body":"<p>I completely agree to Petr Mensik above. The matter you can never say whether element is present.\nYou should clearly understand why when it happens. From my experience I should say that it happens due to the following reasons:</p>\n\n<ul>\n<li>1) The page is still being rendered and you've already finished your\nelement search and obtain no element exception.</li>\n<li>2) The second reason is AJAX has not returned yet and you've already\nobtain <code>NoSuchElementException</code></li>\n<li>3) The third is most obvious: The element is really not on the page\nwhenever.</li>\n</ul>\n\n<p>so the most robust IMHO way to handle all these three conditions using one function call is to use <code>fluentWait</code> as Amith003  suggested.</p>\n\n<p>so the code be the following:</p>\n\n<p>let ur element has the locator:</p>\n\n<pre><code>String elLocXpath= \"..blablabla\";\nWebElement myButton= fluentWait(By.xpath(elLocXpath));\nmyButton.click();\n\npublic WebElement fluentWait(final By locator){\n        Wait&lt;WebDriver&gt; wait = new FluentWait&lt;WebDriver&gt;(driver)\n                .withTimeout(30, TimeUnit.SECONDS)\n\n                .pollingEvery(5, TimeUnit.SECONDS)\n\n        .ignoring(org.openqa.selenium.NoSuchElementException.class);\n        WebElement foo = wait.until(\n                new Function&lt;WebDriver, WebElement&gt;() {\n                    public WebElement apply(WebDriver driver) {\n                        return driver.findElement(locator);\n                    }\n                }\n        );\n        return  foo;\n    };\n</code></pre>\n\n<p>Also if your purpose is robust code  wrap <code>fluentWait()</code> with a <code>try{} catch{}</code> block.</p>\n\n<p>Also don't forget about</p>\n\n<pre><code> public boolean isElementPresent(By selector)\n   {\n\n              return driver.findElements(selector).size()&gt;0;\n}\n</code></pre>\n\n<p>that is also useful.</p>\n\n<p>So to conclude all the mentioned if you want to avoid <code>NoElement</code> exception just handle it properly as nobody can ensure in the element presence on the page.</p>\n\n<p>Hope now it is more clear to you. Regards</p>\n"},{"tags":[],"owner":{"account_id":2213565,"reputation":744,"user_id":1954772,"accept_rate":35,"display_name":"Satish"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1384241751,"creation_date":1384241751,"answer_id":19923413,"question_id":19536954,"body_markdown":"    WebDriverWait wait = new WebDriverWait(webDriver, timeoutInSeconds);\r\n    wait.until(ExpectedConditions.elementToBeClickable(By.id&lt;locator&gt;));\r\n\r\n**elementToBeClickable** waits for **Enable** and **Visible** of an Element ","title":"What is the best way to avoid NoSuchElementException in Selenium?","body":"<pre><code>WebDriverWait wait = new WebDriverWait(webDriver, timeoutInSeconds);\nwait.until(ExpectedConditions.elementToBeClickable(By.id&lt;locator&gt;));\n</code></pre>\n\n<p><strong>elementToBeClickable</strong> waits for <strong>Enable</strong> and <strong>Visible</strong> of an Element </p>\n"},{"tags":[],"owner":{"account_id":8987344,"reputation":119,"user_id":6700507,"display_name":"Ashwini"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1471608700,"creation_date":1471606061,"answer_id":39037927,"question_id":19536954,"body_markdown":"\tpublic WebElement fluientWaitforElement(WebElement element, int timoutSec, int pollingSec) {\r\n\r\n\t    FluentWait&lt;WebDriver&gt; fWait = new FluentWait&lt;WebDriver&gt;(driver).withTimeout(timoutSec, TimeUnit.SECONDS)\r\n\t\t.pollingEvery(pollingSec, TimeUnit.SECONDS)\r\n\t\t.ignoring(NoSuchElementException.class, TimeoutException.class);\r\n\r\n\t    for (int i = 0; i &lt; 2; i++) {\r\n\t        try {\r\n\t    \t    //fWait.until(ExpectedConditions.invisibilityOfElementLocated(By.xpath(&quot;//*[@id=&#39;reportmanager-wrapper&#39;]/div[1]/div[2]/ul/li/span[3]/i[@data-original--title=&#39;We are processing through trillions of data events, this insight may take more than 15 minutes to complete.&#39;]&quot;)));\r\n\t\t        fWait.until(ExpectedConditions.visibilityOf(element));\r\n\t\t        fWait.until(ExpectedConditions.elementToBeClickable(element));\r\n\t        } \r\n            catch (Exception e) {\r\n\t\t\r\n\t\t        System.out.println(&quot;Element Not found trying again - &quot; + element.toString().substring(70));\r\n\t\t        e.printStackTrace();\r\n\t        }\r\n\t    }\r\n\r\n\t    return element;\r\n    }","title":"What is the best way to avoid NoSuchElementException in Selenium?","body":"<pre><code>public WebElement fluientWaitforElement(WebElement element, int timoutSec, int pollingSec) {\n\n    FluentWait&lt;WebDriver&gt; fWait = new FluentWait&lt;WebDriver&gt;(driver).withTimeout(timoutSec, TimeUnit.SECONDS)\n    .pollingEvery(pollingSec, TimeUnit.SECONDS)\n    .ignoring(NoSuchElementException.class, TimeoutException.class);\n\n    for (int i = 0; i &lt; 2; i++) {\n        try {\n            //fWait.until(ExpectedConditions.invisibilityOfElementLocated(By.xpath(\"//*[@id='reportmanager-wrapper']/div[1]/div[2]/ul/li/span[3]/i[@data-original--title='We are processing through trillions of data events, this insight may take more than 15 minutes to complete.']\")));\n            fWait.until(ExpectedConditions.visibilityOf(element));\n            fWait.until(ExpectedConditions.elementToBeClickable(element));\n        } \n        catch (Exception e) {\n\n            System.out.println(\"Element Not found trying again - \" + element.toString().substring(70));\n            e.printStackTrace();\n        }\n    }\n\n    return element;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3236754,"reputation":1,"user_id":2730765,"display_name":"Chetu19"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487637761,"creation_date":1487637761,"answer_id":42356707,"question_id":19536954,"body_markdown":"I usually use this line in the main function\r\n\r\n    public static void main(String[] args) throws ParseException {\r\n\t\tdriver= new ChromeDriver();\r\n\t\tdriver.manage().window().maximize();\r\n\t\t**driver.manage().timeouts().implicitlyWait(30,TimeUnit.SECONDS);**\r\n\r\nHope this helps.\r\n\r\n\r\n","title":"What is the best way to avoid NoSuchElementException in Selenium?","body":"<p>I usually use this line in the main function</p>\n\n<pre><code>public static void main(String[] args) throws ParseException {\n    driver= new ChromeDriver();\n    driver.manage().window().maximize();\n    **driver.manage().timeouts().implicitlyWait(30,TimeUnit.SECONDS);**\n</code></pre>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":11524861,"reputation":21,"user_id":8445632,"display_name":"Ankit Vijay"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1505469260,"creation_date":1505469260,"answer_id":46236764,"question_id":19536954,"body_markdown":"We can apply below codes to remove this exception condition\r\n\r\n1.      By applying  WebDriverWait, webdriver object  wait for a specific time (in second) of an    element for its visibility.\r\n              \r\n              WebDriverWait wait = new WebDriverWait(driver, 10);       \r\n               wait.until(ExpectedConditions.visibilityOf(link));\r\n  \r\n \r\n\r\n2.  We can handle NoSuchElementException through try-catch block inside Generic method\r\n                \r\n    \r\n         public boolean isElementPresent(By by) {\r\n         boolean isPresent = true;\r\n         try {\r\n         driver.findElement(by);\r\n         } catch (NoSuchElementException e) {\r\n          isPresent = false;\r\n         }\r\n        return isPresent\r\n        }\r\n\r\n\r\n\r\nhttp://selenium-code.blogspot.in/2017/08/selenium-exception-nosuchelementexcepti.html","title":"What is the best way to avoid NoSuchElementException in Selenium?","body":"<p>We can apply below codes to remove this exception condition</p>\n\n<ol>\n<li><p>By applying  WebDriverWait, webdriver object  wait for a specific time (in second) of an    element for its visibility.</p>\n\n<pre><code>      WebDriverWait wait = new WebDriverWait(driver, 10);       \n       wait.until(ExpectedConditions.visibilityOf(link));\n</code></pre></li>\n<li><p>We can handle NoSuchElementException through try-catch block inside Generic method</p>\n\n<pre><code> public boolean isElementPresent(By by) {\n boolean isPresent = true;\n try {\n driver.findElement(by);\n } catch (NoSuchElementException e) {\n  isPresent = false;\n }\nreturn isPresent\n}\n</code></pre></li>\n</ol>\n\n<p><a href=\"http://selenium-code.blogspot.in/2017/08/selenium-exception-nosuchelementexcepti.html\" rel=\"nofollow noreferrer\">http://selenium-code.blogspot.in/2017/08/selenium-exception-nosuchelementexcepti.html</a></p>\n"},{"tags":[],"owner":{"account_id":15232696,"reputation":46,"user_id":10991361,"display_name":"Blay Wille"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556785441,"creation_date":1556784100,"answer_id":55948022,"question_id":19536954,"body_markdown":"Sometimes it is possible to wait for the download of the desired item.\r\n\r\n    \r\n\r\n\r\n    driver.get(&quot;https://zzzzzzzzz.market/items/mirage_prime_set&quot;)\r\n    \r\n    WebDriverWait(driver, 20)\r\n           .until(\r\n            EC.visibility_of_element_located(\r\n              (By.XPATH, (&#39;//div[@class=&quot;orders-row__element order__price sell_color&quot;]&#39;)\r\n            )))\r\n\r\n\r\n\r\nSometimes you need to do something so that the UI framework loads the data. For example scroll page\r\n\r\n\r\n    driver.execute_script(&quot;window.scrollTo(0, document.body.scrollHeight);&quot;)\r\n\r\n\r\n\r\nAnd then get the necessary data\r\n\r\n\r\n\r\n    responsetext=driver.page_source\r\n    \r\n    from lxml import html\r\n    parsed_body = html.fromstring(responsetext)\r\n    \r\n    obj1 = parsed_body.xpath(&#39;.//div[@class=&quot;orders-row__element order__price sell_color&quot;]/span[1]&#39;)\r\n    print(len(obj1))\r\n\r\n\r\n","title":"What is the best way to avoid NoSuchElementException in Selenium?","body":"<p>Sometimes it is possible to wait for the download of the desired item.</p>\n\n<pre><code>driver.get(\"https://zzzzzzzzz.market/items/mirage_prime_set\")\n\nWebDriverWait(driver, 20)\n       .until(\n        EC.visibility_of_element_located(\n          (By.XPATH, ('//div[@class=\"orders-row__element order__price sell_color\"]')\n        )))\n</code></pre>\n\n<p>Sometimes you need to do something so that the UI framework loads the data. For example scroll page</p>\n\n<pre><code>driver.execute_script(\"window.scrollTo(0, document.body.scrollHeight);\")\n</code></pre>\n\n<p>And then get the necessary data</p>\n\n<pre><code>responsetext=driver.page_source\n\nfrom lxml import html\nparsed_body = html.fromstring(responsetext)\n\nobj1 = parsed_body.xpath('.//div[@class=\"orders-row__element order__price sell_color\"]/span[1]')\nprint(len(obj1))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19099098,"reputation":151,"user_id":13947737,"display_name":"Navpreet Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595016557,"creation_date":1595016557,"answer_id":62961122,"question_id":19536954,"body_markdown":"NoSuchElementException occurs, when the locators (i.e. id / xpath/ css selectors) is unable to find the web element on the web page.\r\n\r\nThe reasons for this could be :\r\n\r\n 1. Incorrect Locator\r\n 2. Web element not available on web page\r\n\r\n    In order to avoid this exception, we can use Fluent Wait. This wait allows us to define max timeout, polling frequency and define which exception to ignore.\r\n\r\nPlease find the sample usage of Fluent wait below :\r\n\r\n````Wait wait = new FluentWait&lt;WebDriver&gt;(driver)\r\n.withTimeout(50, TimeUnit.SECONDS)\r\n.pollingevery(3, TimeUnit.SECONDS)\r\n.ignoring(NoSuchElementException.class);\r\n````","title":"What is the best way to avoid NoSuchElementException in Selenium?","body":"<p>NoSuchElementException occurs, when the locators (i.e. id / xpath/ css selectors) is unable to find the web element on the web page.</p>\n<p>The reasons for this could be :</p>\n<ol>\n<li><p>Incorrect Locator</p>\n</li>\n<li><p>Web element not available on web page</p>\n<p>In order to avoid this exception, we can use Fluent Wait. This wait allows us to define max timeout, polling frequency and define which exception to ignore.</p>\n</li>\n</ol>\n<p>Please find the sample usage of Fluent wait below :</p>\n<pre><code>.withTimeout(50, TimeUnit.SECONDS)\n.pollingevery(3, TimeUnit.SECONDS)\n.ignoring(NoSuchElementException.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8027063,"reputation":89,"user_id":6053575,"display_name":"Uchiha Suryajit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650803129,"creation_date":1650803129,"answer_id":71988378,"question_id":19536954,"body_markdown":"There could be multiple reasons why your locator is failing. The context of your test is important before you go for a solution. \r\nIn any case, the below steps should be helpful for you. \r\n\r\n - Your locator should NOT be incorrect. If it has changed, then the failing test is correctly pointing towards the recent change.\r\n - If your locator is correct but still fails or sometimes fails and sometimes passes, then I would suggest a generic method to solve it. \r\n\r\nThere could be situations where the web element gets detached or is not loaded in the DOM, even if it may look like the whole page or a specific component is loaded.\r\n\r\nSo use the below method to solve it.\r\n\r\n      public WebElement relocateWebElement(By by, WebElement element){\r\n        try {\r\n    \t\r\n          wait.ignoreAll(Collections.singleton(NoSuchElementException.class))\r\n                  .until(refreshed(visibilityOf(element)));\r\n\r\n          logger.info((&quot;Element is available. &quot;).concat(element.toString()));\r\n    \r\n        } catch (NoSuchElementException exception) {\r\n    \t\r\n          logger.warn(exception.getMessage());\r\n        } \r\n    \t\r\n    \treturn driver.findElement(by);\r\n      }","title":"What is the best way to avoid NoSuchElementException in Selenium?","body":"<p>There could be multiple reasons why your locator is failing. The context of your test is important before you go for a solution.\nIn any case, the below steps should be helpful for you.</p>\n<ul>\n<li>Your locator should NOT be incorrect. If it has changed, then the failing test is correctly pointing towards the recent change.</li>\n<li>If your locator is correct but still fails or sometimes fails and sometimes passes, then I would suggest a generic method to solve it.</li>\n</ul>\n<p>There could be situations where the web element gets detached or is not loaded in the DOM, even if it may look like the whole page or a specific component is loaded.</p>\n<p>So use the below method to solve it.</p>\n<pre><code>  public WebElement relocateWebElement(By by, WebElement element){\n    try {\n    \n      wait.ignoreAll(Collections.singleton(NoSuchElementException.class))\n              .until(refreshed(visibilityOf(element)));\n\n      logger.info((&quot;Element is available. &quot;).concat(element.toString()));\n\n    } catch (NoSuchElementException exception) {\n    \n      logger.warn(exception.getMessage());\n    } \n    \n    return driver.findElement(by);\n  }\n</code></pre>\n"}],"owner":{"account_id":3411790,"reputation":313,"user_id":2861546,"accept_rate":25,"display_name":"Parminder Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118148,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":19537085,"answer_count":10,"score":24,"last_activity_date":1650803129,"creation_date":1382517863,"question_id":19536954,"body_markdown":"I have written few test cases in Selenium WebDriver using Java and execute them on grid (hub and multiple nodes). I have noticed that a few test cases fail due to `NoSuchElementException`. What is the best and robust way to avoid `NoSuchElementException` and ensure the element is always found?","title":"What is the best way to avoid NoSuchElementException in Selenium?","body":"<p>I have written few test cases in Selenium WebDriver using Java and execute them on grid (hub and multiple nodes). I have noticed that a few test cases fail due to <code>NoSuchElementException</code>. What is the best and robust way to avoid <code>NoSuchElementException</code> and ensure the element is always found?</p>\n"},{"tags":["java","arrays","json"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":1,"creation_date":1650797157,"post_id":71987543,"comment_id":127202581,"body_markdown":"1) Create a list of Java objects from the JSON response. 2) Sort the list.","body":"1) Create a list of Java objects from the JSON response. 2) Sort the list."}],"answers":[{"tags":[],"owner":{"account_id":24989454,"reputation":411,"user_id":18850835,"display_name":"Michel K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650802636,"creation_date":1650801999,"answer_id":71988212,"question_id":71987543,"body_markdown":"One possible approach is to compute the indices of the five entries with the highest `&quot;total.amount&quot;`. A possible implementation using streams:  \r\n``` lang-java\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.IntStream;\r\n\r\n\r\nList&lt;String&gt; amounts = jsonPath.getList(&quot;total.amount&quot;);\r\nList&lt;Integer&gt; indices = \r\n        // Create stream of indices (integers from 0 to items.size()-1)\r\n        IntStream.range(0, amounts.size()).boxed()\r\n        // Sort indices by decreasing amount\r\n        .sorted(Comparator.comparing(index -&gt; Long.parseLong(amounts.get((int)index))).reversed())\r\n        // We&#39;re only interested in the top five entries\r\n        .limit(5)\r\n        // Convert to list.\r\n        .collect(Collectors.toList());\r\n``` \r\nAfter that, you can iterate over these indices. To print the top five entries: \r\n```lang-java\r\nfor (int index : indices) {\r\n    System.out.println(jsonPath.getString(&quot;[&quot; + index + &quot;]&quot;));\r\n}\r\n```","title":"Sort response array in desc order in Java","body":"<p>One possible approach is to compute the indices of the five entries with the highest <code>&quot;total.amount&quot;</code>. A possible implementation using streams:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.stream.Collectors;\nimport java.util.stream.IntStream;\n\n\nList&lt;String&gt; amounts = jsonPath.getList(&quot;total.amount&quot;);\nList&lt;Integer&gt; indices = \n        // Create stream of indices (integers from 0 to items.size()-1)\n        IntStream.range(0, amounts.size()).boxed()\n        // Sort indices by decreasing amount\n        .sorted(Comparator.comparing(index -&gt; Long.parseLong(amounts.get((int)index))).reversed())\n        // We're only interested in the top five entries\n        .limit(5)\n        // Convert to list.\n        .collect(Collectors.toList());\n</code></pre>\n<p>After that, you can iterate over these indices. To print the top five entries:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int index : indices) {\n    System.out.println(jsonPath.getString(&quot;[&quot; + index + &quot;]&quot;));\n}\n</code></pre>\n"}],"owner":{"account_id":25074811,"reputation":11,"user_id":18928340,"display_name":"racecar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650802636,"creation_date":1650796338,"question_id":71987543,"body_markdown":"I am trying to print the top 5 entries based on `total.amount` from an api response array.\r\n\r\nThe response looks something like this, but a lot longer: \r\n```\r\n[\r\n    {\r\n        &quot;total&quot;: {\r\n            &quot;amount&quot;: &quot;100000&quot;\r\n        },\r\n        &quot;name&quot;: {\r\n            &quot;first&quot;: &quot;Test&quot;\r\n        },\r\n    },\r\n    {\r\n        &quot;total&quot;: {\r\n            &quot;amount&quot;: &quot;500&quot;\r\n        },\r\n        &quot;name&quot;: {\r\n            &quot;first&quot;: &quot;Test2&quot;\r\n        },\r\n    }\r\n]\r\n```\r\n\r\nAt the moment I am able to print all the `amount` values in descending order:\r\n\r\n```\r\npublic static void orderResultsDesc(int total) throws JSONException {\r\n        JsonPath jsonPathValidator = response.jsonPath();\r\n        List&lt;String&gt; totAm = jsonPathValidator.getList(&quot;total.amount&quot;);\r\n        try {\r\n            totAm.sort(Comparator.reverseOrder());\r\n            System.out.println(&quot;List:\\n&quot; + totAm);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n}\r\n```\r\n\r\nBut I need to adjust this to print the top 5 entries with a whole response (not just the `total.amount` values).\r\n\r\nHave tried doing things like:\r\n```\r\n     List&lt;Integer&gt; ids = jsonPathValidator.getList(&quot;total.amount&quot;);\r\n        for(Integer i:ids)\r\n        {\r\n            ids.sort(Comparator.reverseOrder());\r\n            sortedOrder.add(ids); // this doesn&#39;t work\r\n            System.out.println(i);\r\n        }\r\n```\r\n\r\nIt&#39;s new territory for me.. Any help is appreciated!! ","title":"Sort response array in desc order in Java","body":"<p>I am trying to print the top 5 entries based on <code>total.amount</code> from an api response array.</p>\n<p>The response looks something like this, but a lot longer:</p>\n<pre><code>[\n    {\n        &quot;total&quot;: {\n            &quot;amount&quot;: &quot;100000&quot;\n        },\n        &quot;name&quot;: {\n            &quot;first&quot;: &quot;Test&quot;\n        },\n    },\n    {\n        &quot;total&quot;: {\n            &quot;amount&quot;: &quot;500&quot;\n        },\n        &quot;name&quot;: {\n            &quot;first&quot;: &quot;Test2&quot;\n        },\n    }\n]\n</code></pre>\n<p>At the moment I am able to print all the <code>amount</code> values in descending order:</p>\n<pre><code>public static void orderResultsDesc(int total) throws JSONException {\n        JsonPath jsonPathValidator = response.jsonPath();\n        List&lt;String&gt; totAm = jsonPathValidator.getList(&quot;total.amount&quot;);\n        try {\n            totAm.sort(Comparator.reverseOrder());\n            System.out.println(&quot;List:\\n&quot; + totAm);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n}\n</code></pre>\n<p>But I need to adjust this to print the top 5 entries with a whole response (not just the <code>total.amount</code> values).</p>\n<p>Have tried doing things like:</p>\n<pre><code>     List&lt;Integer&gt; ids = jsonPathValidator.getList(&quot;total.amount&quot;);\n        for(Integer i:ids)\n        {\n            ids.sort(Comparator.reverseOrder());\n            sortedOrder.add(ids); // this doesn't work\n            System.out.println(i);\n        }\n</code></pre>\n<p>It's new territory for me.. Any help is appreciated!!</p>\n"},{"tags":["java","android"],"owner":{"account_id":25075726,"reputation":11,"user_id":18929169,"display_name":"Hongfei Zhou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650802563,"creation_date":1650802563,"question_id":71988285,"body_markdown":"I write a simple code to show and update the latitude and longitude through GPS. The problem is they remain unchanged when I change the location of AVD. \r\n\r\n\r\n\r\n\r\n\r\npublic class PocketSphinxActivity extends Activity implements\r\n        RecognitionListener {\r\n\r\n    boolean updateOn = false;\r\n    private static final int PERMISSIONS_FINE_LOCATION = 99;\r\n    TextView tv_lat, tv_lon, tv_add, tv_sen, tv_ud;\r\n    @SuppressLint(&quot;UseSwitchCompatOrMaterialCode&quot;)\r\n    Switch sw_locationupdates, sw_GPS;\r\n\r\n    LocationRequest locationRequest;\r\n    LocationCallback locationCallback;\r\n\r\n    FusedLocationProviderClient fusedLocationProviderClient;\r\n\r\n\r\n    /* Named searches allow to quickly reconfigure the decoder */\r\n\r\n    private static final String KWS_SEARCH = &quot;wakeup&quot;;\r\n    private static final String STORE_SEARCH = &quot;store&quot;;\r\n    private static final String LIBRARY_SEARCH = &quot;library&quot;;\r\n    private static final String MUSEUM_SEARCH = &quot;museum&quot;;\r\n    private static final String MENU_SEARCH = &quot;menu&quot;;\r\n\r\n    /* Keyword we are looking for to activate menu */\r\n    private static final String KEYPHRASE = &quot;guide me&quot;;\r\n\r\n    /* Used to handle permission request */\r\n    private static final int PERMISSIONS_REQUEST_RECORD_AUDIO = 1;\r\n\r\n    private SpeechRecognizer recognizer;\r\n    private TextToSpeech tts;\r\n    private HashMap&lt;String, Integer&gt; captions;\r\n\r\n    @SuppressLint(&quot;SetTextI18n&quot;)\r\n    @Override\r\n    public void onCreate(Bundle state) {\r\n        super.onCreate(state);\r\n        setContentView(R.layout.main);\r\n\r\n        // Prepare the data for UI\r\n        tv_lat = findViewById(R.id.tv_lat);\r\n        tv_lon = findViewById(R.id.tv_lon);\r\n        tv_add = findViewById(R.id.tv_add);\r\n        sw_locationupdates = findViewById(R.id.sw_locationupdates);\r\n        tv_sen = findViewById(R.id.tv_sen);\r\n        sw_GPS = findViewById(R.id.sw_GPS);\r\n        tv_ud = findViewById(R.id.tv_ud);\r\n\r\n        captions = new HashMap&lt;&gt;();\r\n        captions.put(KWS_SEARCH, R.string.kws_caption);\r\n        captions.put(MENU_SEARCH, R.string.menu_caption);\r\n        captions.put(LIBRARY_SEARCH, R.string.digits_caption);\r\n        captions.put(MUSEUM_SEARCH, R.string.phone_caption);\r\n        captions.put(STORE_SEARCH, R.string.forecast_caption);\r\n\r\n        ((TextView) findViewById(R.id.caption_text))\r\n                .setText(&quot;Preparing the recognizer&quot;);\r\n\r\n        // set properties of LocationRequest\r\n        locationRequest = LocationRequest.create();\r\n        locationRequest.setInterval(1000 * 5);\r\n        locationRequest.setFastestInterval(1000 * 1);\r\n        locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n\r\n        // triggered whenever update interval is met\r\n        locationCallback = new LocationCallback() {\r\n            @Override\r\n            public void onLocationResult(@NonNull LocationResult locationResult) {\r\n                super.onLocationResult(locationResult);\r\n                Location location = locationResult.getLastLocation();\r\n                updateUI(location);\r\n            }\r\n        };\r\n\r\n\r\n        sw_GPS.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                if (sw_GPS.isChecked()) {\r\n                    locationRequest.setPriority(LocationRequest.PRIORITY_BALANCED_POWER_ACCURACY);\r\n                    tv_sen.setText(&quot;Using Tower + Wifi&quot;);\r\n                } else {\r\n                    locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n                    tv_sen.setText(&quot;Using GPS&quot;);\r\n                }\r\n            }\r\n        });\r\n\r\n        //StartLocUpdates();\r\n\r\n        sw_locationupdates.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                if (sw_locationupdates.isChecked()) {\r\n                    //start tracking\r\n                    StartLocUpdates();\r\n\r\n                } else {\r\n                    //stop tracking\r\n                    StopLocUpdates();\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n        // Check if user has given permission to record audio\r\n        int permissionCheck = ContextCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.RECORD_AUDIO);\r\n        if (permissionCheck != PackageManager.PERMISSION_GRANTED) {\r\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.RECORD_AUDIO}, PERMISSIONS_REQUEST_RECORD_AUDIO);\r\n            return;\r\n        }\r\n\r\n        // Recognizer initialization is a time-consuming and it involves IO,\r\n        // so we execute it in async task\r\n\r\n        new SetupTask(this).execute();\r\n        updateGPS();\r\n\r\n    }\r\n\r\n    private void StopLocUpdates() {\r\n        tv_lat.setText(&quot;Not tracking location&quot;);\r\n        tv_lon.setText(&quot;Not tracking location&quot;);\r\n        tv_add.setText(&quot;Not tracking location&quot;);\r\n        tv_ud.setText(&quot;Location stop tracking&quot;);\r\n        fusedLocationProviderClient.removeLocationUpdates(locationCallback);\r\n    }\r\n\r\n    private void StartLocUpdates() {\r\n        //tv_ud.setText(&quot;stop &quot;);\r\n        tv_ud.setText(&quot;Location is being tracked&quot;);\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n            return;\r\n        }\r\n        fusedLocationProviderClient.requestLocationUpdates(locationRequest,locationCallback,null);\r\n        updateGPS();\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull  int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n\r\n        //PERMISSIONS_REQUEST_RECORD_AUDIO\r\n        if (requestCode == PERMISSIONS_FINE_LOCATION || requestCode == PERMISSIONS_REQUEST_RECORD_AUDIO) {\r\n\r\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                // Recognizer initialization is a time-consuming and it involves IO,\r\n                // so we execute it in async task\r\n                updateGPS();\r\n                new SetupTask(this).execute();\r\n            } else {\r\n                Toast.makeText(this, &quot;This app permission to be granted in order to work properly&quot;, Toast.LENGTH_SHORT).show();\r\n                finish();\r\n            }\r\n        }\r\n    }\r\n\r\n    private void updateGPS() {\r\n        //get permission\r\n        //get current location\r\n        //update UI\r\n        fusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(PocketSphinxActivity.this);\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\r\n\r\n            fusedLocationProviderClient.getLastLocation().addOnSuccessListener(this, new OnSuccessListener&lt;Location&gt;() {\r\n                @Override\r\n                public void onSuccess(Location location) {\r\n                    //put values into UI\r\n                    updateUI(location);\r\n                }\r\n            });\r\n        } else {\r\n            //\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                requestPermissions(new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, PERMISSIONS_FINE_LOCATION);\r\n            }\r\n        }\r\n    }\r\n\r\n    private void updateUI(Location location) {\r\n        tv_lat.setText(String.valueOf(location.getLatitude()));\r\n        tv_lon.setText(String.valueOf(location.getLongitude()));\r\n\r\n        Geocoder geocoder = new Geocoder(PocketSphinxActivity.this);\r\n        try{\r\n            List&lt;Address&gt;addresses=geocoder.getFromLocation(location.getLatitude(),location.getLongitude(),1);\r\n            tv_add.setText(addresses.get(0).getAddressLine(0));\r\n        }\r\n        catch(Exception e){\r\n            tv_add.setText(&quot;Unable to get address&quot;);\r\n        }\r\n    }\r\n    \r\n}\r\n\r\n\r\n\r\nIt seems that the location generated by fusedLocationProviderClient.getLastLocation() in method updateGPS() never changed. I wonder why. \r\n\r\n    private void updateGPS() {\r\n        //get permission\r\n        //get current location\r\n        //update UI\r\n        fusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(PocketSphinxActivity.this);\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\r\n\r\n            fusedLocationProviderClient.getLastLocation().addOnSuccessListener(this, new OnSuccessListener&lt;Location&gt;() {\r\n                @Override\r\n                public void onSuccess(Location location) {\r\n                    //put values into UI\r\n                    updateUI(location);\r\n                }\r\n            });\r\n        } else {\r\n            //\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                requestPermissions(new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, PERMISSIONS_FINE_LOCATION);\r\n            }\r\n        }","title":"GPS location data does not match the location of AVD","body":"<p>I write a simple code to show and update the latitude and longitude through GPS. The problem is they remain unchanged when I change the location of AVD.</p>\n<p>public class PocketSphinxActivity extends Activity implements\nRecognitionListener {</p>\n<pre><code>boolean updateOn = false;\nprivate static final int PERMISSIONS_FINE_LOCATION = 99;\nTextView tv_lat, tv_lon, tv_add, tv_sen, tv_ud;\n@SuppressLint(&quot;UseSwitchCompatOrMaterialCode&quot;)\nSwitch sw_locationupdates, sw_GPS;\n\nLocationRequest locationRequest;\nLocationCallback locationCallback;\n\nFusedLocationProviderClient fusedLocationProviderClient;\n\n\n/* Named searches allow to quickly reconfigure the decoder */\n\nprivate static final String KWS_SEARCH = &quot;wakeup&quot;;\nprivate static final String STORE_SEARCH = &quot;store&quot;;\nprivate static final String LIBRARY_SEARCH = &quot;library&quot;;\nprivate static final String MUSEUM_SEARCH = &quot;museum&quot;;\nprivate static final String MENU_SEARCH = &quot;menu&quot;;\n\n/* Keyword we are looking for to activate menu */\nprivate static final String KEYPHRASE = &quot;guide me&quot;;\n\n/* Used to handle permission request */\nprivate static final int PERMISSIONS_REQUEST_RECORD_AUDIO = 1;\n\nprivate SpeechRecognizer recognizer;\nprivate TextToSpeech tts;\nprivate HashMap&lt;String, Integer&gt; captions;\n\n@SuppressLint(&quot;SetTextI18n&quot;)\n@Override\npublic void onCreate(Bundle state) {\n    super.onCreate(state);\n    setContentView(R.layout.main);\n\n    // Prepare the data for UI\n    tv_lat = findViewById(R.id.tv_lat);\n    tv_lon = findViewById(R.id.tv_lon);\n    tv_add = findViewById(R.id.tv_add);\n    sw_locationupdates = findViewById(R.id.sw_locationupdates);\n    tv_sen = findViewById(R.id.tv_sen);\n    sw_GPS = findViewById(R.id.sw_GPS);\n    tv_ud = findViewById(R.id.tv_ud);\n\n    captions = new HashMap&lt;&gt;();\n    captions.put(KWS_SEARCH, R.string.kws_caption);\n    captions.put(MENU_SEARCH, R.string.menu_caption);\n    captions.put(LIBRARY_SEARCH, R.string.digits_caption);\n    captions.put(MUSEUM_SEARCH, R.string.phone_caption);\n    captions.put(STORE_SEARCH, R.string.forecast_caption);\n\n    ((TextView) findViewById(R.id.caption_text))\n            .setText(&quot;Preparing the recognizer&quot;);\n\n    // set properties of LocationRequest\n    locationRequest = LocationRequest.create();\n    locationRequest.setInterval(1000 * 5);\n    locationRequest.setFastestInterval(1000 * 1);\n    locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n\n    // triggered whenever update interval is met\n    locationCallback = new LocationCallback() {\n        @Override\n        public void onLocationResult(@NonNull LocationResult locationResult) {\n            super.onLocationResult(locationResult);\n            Location location = locationResult.getLastLocation();\n            updateUI(location);\n        }\n    };\n\n\n    sw_GPS.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            if (sw_GPS.isChecked()) {\n                locationRequest.setPriority(LocationRequest.PRIORITY_BALANCED_POWER_ACCURACY);\n                tv_sen.setText(&quot;Using Tower + Wifi&quot;);\n            } else {\n                locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n                tv_sen.setText(&quot;Using GPS&quot;);\n            }\n        }\n    });\n\n    //StartLocUpdates();\n\n    sw_locationupdates.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            if (sw_locationupdates.isChecked()) {\n                //start tracking\n                StartLocUpdates();\n\n            } else {\n                //stop tracking\n                StopLocUpdates();\n            }\n        }\n    });\n\n\n\n\n    // Check if user has given permission to record audio\n    int permissionCheck = ContextCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.RECORD_AUDIO);\n    if (permissionCheck != PackageManager.PERMISSION_GRANTED) {\n        ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.RECORD_AUDIO}, PERMISSIONS_REQUEST_RECORD_AUDIO);\n        return;\n    }\n\n    // Recognizer initialization is a time-consuming and it involves IO,\n    // so we execute it in async task\n\n    new SetupTask(this).execute();\n    updateGPS();\n\n}\n\nprivate void StopLocUpdates() {\n    tv_lat.setText(&quot;Not tracking location&quot;);\n    tv_lon.setText(&quot;Not tracking location&quot;);\n    tv_add.setText(&quot;Not tracking location&quot;);\n    tv_ud.setText(&quot;Location stop tracking&quot;);\n    fusedLocationProviderClient.removeLocationUpdates(locationCallback);\n}\n\nprivate void StartLocUpdates() {\n    //tv_ud.setText(&quot;stop &quot;);\n    tv_ud.setText(&quot;Location is being tracked&quot;);\n    if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n        return;\n    }\n    fusedLocationProviderClient.requestLocationUpdates(locationRequest,locationCallback,null);\n    updateGPS();\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull  int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n\n    //PERMISSIONS_REQUEST_RECORD_AUDIO\n    if (requestCode == PERMISSIONS_FINE_LOCATION || requestCode == PERMISSIONS_REQUEST_RECORD_AUDIO) {\n\n        if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n            // Recognizer initialization is a time-consuming and it involves IO,\n            // so we execute it in async task\n            updateGPS();\n            new SetupTask(this).execute();\n        } else {\n            Toast.makeText(this, &quot;This app permission to be granted in order to work properly&quot;, Toast.LENGTH_SHORT).show();\n            finish();\n        }\n    }\n}\n\nprivate void updateGPS() {\n    //get permission\n    //get current location\n    //update UI\n    fusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(PocketSphinxActivity.this);\n    if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\n\n        fusedLocationProviderClient.getLastLocation().addOnSuccessListener(this, new OnSuccessListener&lt;Location&gt;() {\n            @Override\n            public void onSuccess(Location location) {\n                //put values into UI\n                updateUI(location);\n            }\n        });\n    } else {\n        //\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            requestPermissions(new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, PERMISSIONS_FINE_LOCATION);\n        }\n    }\n}\n\nprivate void updateUI(Location location) {\n    tv_lat.setText(String.valueOf(location.getLatitude()));\n    tv_lon.setText(String.valueOf(location.getLongitude()));\n\n    Geocoder geocoder = new Geocoder(PocketSphinxActivity.this);\n    try{\n        List&lt;Address&gt;addresses=geocoder.getFromLocation(location.getLatitude(),location.getLongitude(),1);\n        tv_add.setText(addresses.get(0).getAddressLine(0));\n    }\n    catch(Exception e){\n        tv_add.setText(&quot;Unable to get address&quot;);\n    }\n}\n</code></pre>\n<p>}</p>\n<p>It seems that the location generated by fusedLocationProviderClient.getLastLocation() in method updateGPS() never changed. I wonder why.</p>\n<pre><code>private void updateGPS() {\n    //get permission\n    //get current location\n    //update UI\n    fusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(PocketSphinxActivity.this);\n    if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\n\n        fusedLocationProviderClient.getLastLocation().addOnSuccessListener(this, new OnSuccessListener&lt;Location&gt;() {\n            @Override\n            public void onSuccess(Location location) {\n                //put values into UI\n                updateUI(location);\n            }\n        });\n    } else {\n        //\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            requestPermissions(new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, PERMISSIONS_FINE_LOCATION);\n        }\n    }\n</code></pre>\n"},{"tags":["java","generics","java-stream","collectors","java-17"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1650761742,"post_id":71982217,"comment_id":127197917,"body_markdown":"By the way, to make your code more robust, call `String#codePoints` rather than `String#chars`. The `char` type is legacy, physically incapable of representing most characters. Your code may fail with characters from outside the [BMP](https://en.m.wikipedia.org/wiki/Plane_(Unicode)#Basic_Multilingual_Plane).","body":"By the way, to make your code more robust, call <code>String#codePoints</code> rather than <code>String#chars</code>. The <code>char</code> type is legacy, physically incapable of representing most characters. Your code may fail with characters from outside the <a href=\"https://en.m.wikipedia.org/wiki/Plane_(Unicode)#Basic_Multilingual_Plane\" rel=\"nofollow noreferrer\">BMP</a>."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1650801791,"creation_date":1650739226,"answer_id":71982668,"question_id":71982217,"body_markdown":"Interface [`Collector`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Collector.html) has the following declaration:\r\n```\r\npublic interface Collector&lt;T,​A,​R&gt;\r\n```\r\nWhere the second generic type parameter `A` denotes the type of the *mutable container* which is used internally to accumulate the results of the reduction. This type is usually hidden by the implementations.\r\n\r\nYour method `countingLetters()` declares the return type as follows:\r\n```\r\nCollector&lt;Letter, Object, LetterCount&gt;\r\n```\r\nAnd that implies the type of the *mutable container* of the collector returned by this method is expected to be an `Object`.\r\n\r\n*Reminder:* generics are **invariant**, i.e. if you&#39;ve said `Object` you have to provide only `Object` (not it&#39;s subtype, not *unknown type* `?`, only the `Object` type itself).\r\n\r\nAnd that is incorrect for several reasons:\r\n\r\n* All *collectors* built-in in the JDK are hiding their types of mutable containers. Collector `conting` that you are using in your code declares to return `Collector&lt;T,?,Long&gt;`. Under the hood, it makes use of `summingLong`, which in turn returns `Collector&lt;T,?,Long&gt;` although it internally utilizes `long[]` as a *container*. That is because it doesn&#39;t make sense to expose these implementation details. And as a consequence, generic parameters of the return type you&#39;ve declared doesn&#39;t conform to the generic parameters of the *collector* that you are returning. I.e. since you are given an unknown type `?`, you can&#39;t declare to return an `Object`.\r\n\r\n* Even if you wouldn&#39;t use built-in collectors, but your own *custom collector* instead, it still will not be a very bright idea to expose the *actual type* of its *container*. Simply because sometime in the future, you might want to change it.\r\n\r\n* `Object` class is immutable, hence it&#39;s fruitless to use it as a container type (*if you would try to implement a custom collector*) because it is not capable to accumulate data. \r\n\r\n____________________________________________________\r\n\r\n**The bottom line:** the second generic parameter in the *collector* returned by the `countingLetters()` method isn&#39;t correct.\r\n\r\nTo fix it, you have to change the type of the *mutable container* to be either:\r\n* an unknown type `?` which encompasses all possible types, i.e. expected that provided collector may have a *mutable container* of any type (and that&#39;s how all collectors in the JDK have been declared);\r\n* or to an upper bounded wildcard `? extends Object` (which is basically a more verbose way to describe the *unknown type*).\r\n```\r\npublic static Collector&lt;Letter, ?, LetterCount&gt; countingLetters()\r\n```","title":"Generic type mismatch while using a Collector returned by the method - Java 17","body":"<p>Interface <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Collector.html\" rel=\"nofollow noreferrer\"><code>Collector</code></a> has the following declaration:</p>\n<pre><code>public interface Collector&lt;T,​A,​R&gt;\n</code></pre>\n<p>Where the second generic type parameter <code>A</code> denotes the type of the <em>mutable container</em> which is used internally to accumulate the results of the reduction. This type is usually hidden by the implementations.</p>\n<p>Your method <code>countingLetters()</code> declares the return type as follows:</p>\n<pre><code>Collector&lt;Letter, Object, LetterCount&gt;\n</code></pre>\n<p>And that implies the type of the <em>mutable container</em> of the collector returned by this method is expected to be an <code>Object</code>.</p>\n<p><em>Reminder:</em> generics are <strong>invariant</strong>, i.e. if you've said <code>Object</code> you have to provide only <code>Object</code> (not it's subtype, not <em>unknown type</em> <code>?</code>, only the <code>Object</code> type itself).</p>\n<p>And that is incorrect for several reasons:</p>\n<ul>\n<li><p>All <em>collectors</em> built-in in the JDK are hiding their types of mutable containers. Collector <code>conting</code> that you are using in your code declares to return <code>Collector&lt;T,?,Long&gt;</code>. Under the hood, it makes use of <code>summingLong</code>, which in turn returns <code>Collector&lt;T,?,Long&gt;</code> although it internally utilizes <code>long[]</code> as a <em>container</em>. That is because it doesn't make sense to expose these implementation details. And as a consequence, generic parameters of the return type you've declared doesn't conform to the generic parameters of the <em>collector</em> that you are returning. I.e. since you are given an unknown type <code>?</code>, you can't declare to return an <code>Object</code>.</p>\n</li>\n<li><p>Even if you wouldn't use built-in collectors, but your own <em>custom collector</em> instead, it still will not be a very bright idea to expose the <em>actual type</em> of its <em>container</em>. Simply because sometime in the future, you might want to change it.</p>\n</li>\n<li><p><code>Object</code> class is immutable, hence it's fruitless to use it as a container type (<em>if you would try to implement a custom collector</em>) because it is not capable to accumulate data.</p>\n</li>\n</ul>\n<hr />\n<p><strong>The bottom line:</strong> the second generic parameter in the <em>collector</em> returned by the <code>countingLetters()</code> method isn't correct.</p>\n<p>To fix it, you have to change the type of the <em>mutable container</em> to be either:</p>\n<ul>\n<li>an unknown type <code>?</code> which encompasses all possible types, i.e. expected that provided collector may have a <em>mutable container</em> of any type (and that's how all collectors in the JDK have been declared);</li>\n<li>or to an upper bounded wildcard <code>? extends Object</code> (which is basically a more verbose way to describe the <em>unknown type</em>).</li>\n</ul>\n<pre><code>public static Collector&lt;Letter, ?, LetterCount&gt; countingLetters()\n</code></pre>\n"}],"owner":{"account_id":9507708,"reputation":2869,"user_id":7066647,"display_name":"dbaltor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":406,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71982668,"answer_count":1,"score":2,"last_activity_date":1650801791,"creation_date":1650735969,"question_id":71982217,"body_markdown":"I was experimenting with `records` and *streams*.\r\n\r\nI&#39;ve created these *records* to count the number of letters in a text.\r\n\r\n    record Letter(int code) {\r\n        Letter(int code) {\r\n            this.code = Character.toLowerCase(code);\r\n        }\r\n    }\r\n\r\n    record LetterCount(long count) implements Comparable&lt;LetterCount&gt; {\r\n        @Override\r\n        public int compareTo(LetterCount other) {\r\n            return Long.compare(this.count, other.count);\r\n        }\r\n\r\n        static Collector&lt;Letter, Object, LetterCount&gt; countingLetters() {\r\n            return Collectors.collectingAndThen(\r\n                Collectors.&lt;Letter&gt;counting(), \r\n                LetterCount::new);\r\n        }\r\n    }\r\n\r\nAnd here is the snippet where they&#39;re used:\r\n\r\n    final var countedChars = text.chars()\r\n        .mapToObj(Letter::new)\r\n        .collect(\r\n            groupingBy(Function.identity(), \r\n                LetterCount.countingLetters()                      // compilation error\r\n                // collectingAndThen(counting(), LetterCount::new) // this line doesn&#39;t produce error\r\n            ));\r\n\r\nThe snippet shown above doesn&#39;t produce error if I comment out `collectingAndThen()` to be used as the downstream collector within the `groupingBy()`.\r\n\r\nHowever, the compiler gets lost when I&#39;m trying to use `LetterCount.countingLetters()` as the downstream collector.\r\n\r\nI&#39;m getting the following error message:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \r\n            Collector cannot be resolved to a type\r\n            Type mismatch: cannot convert from Collector&lt;Letter,capture#17-of ?,LetterCount&gt; to Collector&lt;Letter,Object,LetterCount&gt;\r\n            The method countingLetters() from the type LetterCount refers to the missing type Collector\r\n            The method entrySet() is undefined for the type Object","title":"Generic type mismatch while using a Collector returned by the method - Java 17","body":"<p>I was experimenting with <code>records</code> and <em>streams</em>.</p>\n<p>I've created these <em>records</em> to count the number of letters in a text.</p>\n<pre><code>record Letter(int code) {\n    Letter(int code) {\n        this.code = Character.toLowerCase(code);\n    }\n}\n\nrecord LetterCount(long count) implements Comparable&lt;LetterCount&gt; {\n    @Override\n    public int compareTo(LetterCount other) {\n        return Long.compare(this.count, other.count);\n    }\n\n    static Collector&lt;Letter, Object, LetterCount&gt; countingLetters() {\n        return Collectors.collectingAndThen(\n            Collectors.&lt;Letter&gt;counting(), \n            LetterCount::new);\n    }\n}\n</code></pre>\n<p>And here is the snippet where they're used:</p>\n<pre><code>final var countedChars = text.chars()\n    .mapToObj(Letter::new)\n    .collect(\n        groupingBy(Function.identity(), \n            LetterCount.countingLetters()                      // compilation error\n            // collectingAndThen(counting(), LetterCount::new) // this line doesn't produce error\n        ));\n</code></pre>\n<p>The snippet shown above doesn't produce error if I comment out <code>collectingAndThen()</code> to be used as the downstream collector within the <code>groupingBy()</code>.</p>\n<p>However, the compiler gets lost when I'm trying to use <code>LetterCount.countingLetters()</code> as the downstream collector.</p>\n<p>I'm getting the following error message:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \n        Collector cannot be resolved to a type\n        Type mismatch: cannot convert from Collector&lt;Letter,capture#17-of ?,LetterCount&gt; to Collector&lt;Letter,Object,LetterCount&gt;\n        The method countingLetters() from the type LetterCount refers to the missing type Collector\n        The method entrySet() is undefined for the type Object\n</code></pre>\n"},{"tags":["java","recursion","nullpointerexception","iostream"],"comments":[{"owner":{"account_id":23500207,"reputation":5,"user_id":17550185,"display_name":"CoderLala"},"score":0,"creation_date":1650788412,"post_id":71986641,"comment_id":127200964,"body_markdown":"I wanted to write &quot;local 2 is null&quot; but the website will not let me do it","body":"I wanted to write &quot;local 2 is null&quot; but the website will not let me do it"},{"owner":{"account_id":16871523,"reputation":706,"user_id":12199915,"display_name":"Alex"},"score":0,"creation_date":1650789731,"post_id":71986641,"comment_id":127201188,"body_markdown":"Cause second `File` in array is file and not directory. So it returns null on `file.listFiles()`","body":"Cause second <code>File</code> in array is file and not directory. So it returns null on <code>file.listFiles()</code>"},{"owner":{"account_id":23500207,"reputation":5,"user_id":17550185,"display_name":"CoderLala"},"score":0,"creation_date":1650794274,"post_id":71986641,"comment_id":127202055,"body_markdown":"Would you say that the problem is in code or the content of resources folder?","body":"Would you say that the problem is in code or the content of resources folder?"},{"owner":{"account_id":322960,"reputation":7711,"user_id":642680,"accept_rate":74,"display_name":"D-Dᴙum"},"score":0,"creation_date":1650794794,"post_id":71986641,"comment_id":127202131,"body_markdown":"@Mar17Ava have you stepped through the code using a debugger?","body":"@Mar17Ava have you stepped through the code using a debugger?"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1650795509,"post_id":71986641,"comment_id":127202273,"body_markdown":"To get an advance solution of your assignment, have a look at `java.nio.file.Files#walkFileTree` together with `java.nio.file.Files#copy`.","body":"To get an advance solution of your assignment, have a look at <code>java.nio.file.Files#walkFileTree</code> together with <code>java.nio.file.Files#copy</code>."},{"owner":{"display_name":"user14972917"},"score":1,"creation_date":1650802286,"post_id":71986641,"comment_id":127203584,"body_markdown":"file.listFiles() also &quot;[r]eturns null if this abstract pathname does not denote a directory, or if an I/O error occurs.&quot;. An I/O error could be that you are not allowed to read the content of the directory. Or it is a network-shared directory that suddenly is not available any longer.","body":"file.listFiles() also &quot;[r]eturns null if this abstract pathname does not denote a directory, or if an I/O error occurs.&quot;. An I/O error could be that you are not allowed to read the content of the directory. Or it is a network-shared directory that suddenly is not available any longer."}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650801044,"creation_date":1650794957,"answer_id":71987384,"question_id":71986641,"body_markdown":"In your method `recursiveCopy`, your `file` is either a file (you match that with `.isFile()`) _or else_ it is a folder. You handle that with the for-loop. But it cannot be both, so when it is a file, you must not fetch the list of files inside (since there are none). Skip the for-loop in that case.","title":"NullPointerException when recursively copying files in Java","body":"<p>In your method <code>recursiveCopy</code>, your <code>file</code> is either a file (you match that with <code>.isFile()</code>) <em>or else</em> it is a folder. You handle that with the for-loop. But it cannot be both, so when it is a file, you must not fetch the list of files inside (since there are none). Skip the for-loop in that case.</p>\n"}],"owner":{"account_id":23500207,"reputation":5,"user_id":17550185,"display_name":"CoderLala"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1650795077,"answer_count":1,"score":-1,"last_activity_date":1650801044,"creation_date":1650788268,"question_id":71986641,"body_markdown":"We have the following exercise: Given a list of directories and files followed by the destination copy all these directories (recursively) and\r\nfiles into the destination. \r\n\r\nHere is the code I wrote: \r\n```java\r\npublic static void copyFile(File source, File dest) throws IOException {\r\n\r\n    //use DataOutputStream for its method size() to measure amount of bytes copied\r\n    try(FileInputStream is = new FileInputStream(source);\r\n        FileOutputStream os = new FileOutputStream(dest);\r\n        DataOutputStream dos = new DataOutputStream(os)) {\r\n            byte[] buffer = new byte[1000];\r\n            int res;\r\n            while ((res = is.read(buffer)) !=-1) {\r\n                dos.write(buffer, 0, res);\r\n            }\r\n            int size1 = dos.size();\r\n            if(size1&lt;1024){\r\n                System.out.println(&quot;Total of &quot; + size1 + &quot;B&quot; + &quot; were copied&quot;);\r\n            }\r\n            if(size1&gt;1024){\r\n                System.out.println(&quot;Total of &quot; + size1/1024 + &quot;KB&quot; + &quot; were copied&quot;);\r\n            }\r\n            if(size1&gt;1e-6){\r\n                System.out.println(&quot;Total of &quot; + size1/1024/1024 + &quot;MB&quot; + &quot; were copied&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    static void recursiveCopy(File file, File Destination){\r\n        if(file.isFile()){\r\n            try {\r\n                System.out.println(&quot;&gt;Started: &quot; + file.getAbsolutePath());\r\n                copyFile(file, Destination);\r\n                System.out.println(&quot;&gt;Finished FILE : &quot; + file.getAbsolutePath());\r\n                return;\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        for(File sub:file.listFiles()){\r\n            String indent2 = &quot;&quot;;\r\n            System.out.println( indent2+ &quot;&gt;Started: &quot; + sub.getAbsolutePath());\r\n            recursiveCopy(sub, Destination);\r\n            indent2+= &quot;  &quot;;\r\n        }\r\n    }\r\n\r\n    static void copyAll(File[] listOfFiles, File dest) throws IOException{\r\n        for(File f:listOfFiles){\r\n            recursiveCopy(f, dest);\r\n            System.out.println(&quot;        &gt;Finished FOLDER: &quot; + f.getAbsolutePath());\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        File[] listOfFiles = new File[] {new File(&quot;resources/docs/books&quot;),\r\n                                         new File(&quot;resources/docs/books/some citations.txt&quot;)};\r\n        copyAll(listOfFiles, new File(&quot;dest&quot;));\r\n    }\r\n```\r\nIt throws the `NullPointerException` with this message:\r\n&gt;Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot read the array length because &quot; &amp;lt;local2&amp;gt; &quot; is null\r\n\r\nThe issue starts with the line `for(File sub:file.listFiles())`\r\n\r\nDoes anyone know how I can resolve this issue? All the files and directories exist so I don&#39;t know which element of array could possibly be null. Perhaps there is something else?\r\n","title":"NullPointerException when recursively copying files in Java","body":"<p>We have the following exercise: Given a list of directories and files followed by the destination copy all these directories (recursively) and\nfiles into the destination.</p>\n<p>Here is the code I wrote:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void copyFile(File source, File dest) throws IOException {\n\n    //use DataOutputStream for its method size() to measure amount of bytes copied\n    try(FileInputStream is = new FileInputStream(source);\n        FileOutputStream os = new FileOutputStream(dest);\n        DataOutputStream dos = new DataOutputStream(os)) {\n            byte[] buffer = new byte[1000];\n            int res;\n            while ((res = is.read(buffer)) !=-1) {\n                dos.write(buffer, 0, res);\n            }\n            int size1 = dos.size();\n            if(size1&lt;1024){\n                System.out.println(&quot;Total of &quot; + size1 + &quot;B&quot; + &quot; were copied&quot;);\n            }\n            if(size1&gt;1024){\n                System.out.println(&quot;Total of &quot; + size1/1024 + &quot;KB&quot; + &quot; were copied&quot;);\n            }\n            if(size1&gt;1e-6){\n                System.out.println(&quot;Total of &quot; + size1/1024/1024 + &quot;MB&quot; + &quot; were copied&quot;);\n            }\n        }\n    }\n\n    static void recursiveCopy(File file, File Destination){\n        if(file.isFile()){\n            try {\n                System.out.println(&quot;&gt;Started: &quot; + file.getAbsolutePath());\n                copyFile(file, Destination);\n                System.out.println(&quot;&gt;Finished FILE : &quot; + file.getAbsolutePath());\n                return;\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n        for(File sub:file.listFiles()){\n            String indent2 = &quot;&quot;;\n            System.out.println( indent2+ &quot;&gt;Started: &quot; + sub.getAbsolutePath());\n            recursiveCopy(sub, Destination);\n            indent2+= &quot;  &quot;;\n        }\n    }\n\n    static void copyAll(File[] listOfFiles, File dest) throws IOException{\n        for(File f:listOfFiles){\n            recursiveCopy(f, dest);\n            System.out.println(&quot;        &gt;Finished FOLDER: &quot; + f.getAbsolutePath());\n        }\n    }\n\n    public static void main(String[] args) throws IOException {\n        File[] listOfFiles = new File[] {new File(&quot;resources/docs/books&quot;),\n                                         new File(&quot;resources/docs/books/some citations.txt&quot;)};\n        copyAll(listOfFiles, new File(&quot;dest&quot;));\n    }\n</code></pre>\n<p>It throws the <code>NullPointerException</code> with this message:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot read the array length because &quot; &lt;local2&gt; &quot; is null</p>\n</blockquote>\n<p>The issue starts with the line <code>for(File sub:file.listFiles())</code></p>\n<p>Does anyone know how I can resolve this issue? All the files and directories exist so I don't know which element of array could possibly be null. Perhaps there is something else?</p>\n"},{"tags":["java","jacoco","jacoco-maven-plugin"],"comments":[{"owner":{"account_id":8867817,"reputation":1108,"user_id":6815416,"display_name":"Ahmed HENTETI"},"score":0,"creation_date":1618448459,"post_id":67100841,"comment_id":118606899,"body_markdown":"possible duplicate of [Maven Jacoco Configuration - Exclude classes/packages from report not working](https://stackoverflow.com/questions/27799419/maven-jacoco-configuration-exclude-classes-packages-from-report-not-working)","body":"possible duplicate of <a href=\"https://stackoverflow.com/questions/27799419/maven-jacoco-configuration-exclude-classes-packages-from-report-not-working\">Maven Jacoco Configuration - Exclude classes/packages from report not working</a>"},{"owner":{"account_id":4103729,"reputation":109,"user_id":3402233,"display_name":"Ganesh"},"score":0,"creation_date":1618448866,"post_id":67100841,"comment_id":118606985,"body_markdown":"So in that I see option to exclude class/package but not module. My modules have several packages and it&#39;ll be cumbersome to maintain every time we add a new package to say DataModule to go add it to the config. So I&#39;m looking for something to exclude whole modules or include only certain modules like sonar allows for example","body":"So in that I see option to exclude class/package but not module. My modules have several packages and it&#39;ll be cumbersome to maintain every time we add a new package to say DataModule to go add it to the config. So I&#39;m looking for something to exclude whole modules or include only certain modules like sonar allows for example"}],"answers":[{"tags":[],"owner":{"account_id":2324653,"reputation":2869,"user_id":2039455,"display_name":"Laura Liparulo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626169238,"creation_date":1626169238,"answer_id":68359991,"question_id":67100841,"body_markdown":"if you are using maven, you can add a profile in the root pom (where the modules are specified), where you specify the plugin in a plugin management section. in each module you want to run jacoco, you have to reference the plugin.  it will generate the site folder only in the modules where you need the jacoco report.","title":"Excluding complete modules from jacoco coverage","body":"<p>if you are using maven, you can add a profile in the root pom (where the modules are specified), where you specify the plugin in a plugin management section. in each module you want to run jacoco, you have to reference the plugin.  it will generate the site folder only in the modules where you need the jacoco report.</p>\n"},{"tags":[],"owner":{"account_id":25056002,"reputation":161,"user_id":18911379,"display_name":"Code Journal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650800977,"creation_date":1650800594,"answer_id":71988043,"question_id":67100841,"body_markdown":"To generate a report for a multi-module Maven project, here is how it needs to be setup.\r\n\r\n```\r\nparent/\r\n├── child1\r\n├── child2\r\n├── jacoco-reports    &lt;-- Adds dependency for child1 and child2 modules\r\n└── pom.xml\r\n```\r\n\r\nWhen you run the build to generate the aggregate report using the [`report-aggregate`][1] goal, the coverage report is generated in the `jacoco-reports` module for the entire project.\r\n\r\nWith this setup, you can pick and chose the modules for which the report is generated.\r\n\r\n[Here is my article][2] for using jacoco-maven-plugin with multi-module Maven projects.\r\n\r\n  [1]: https://www.jacoco.org/jacoco/trunk/doc/report-aggregate-mojo.html\r\n  [2]: https://www.thecodejournal.tech/2022/04/jacoco-maven-plugin-report-aggregate-goal-configurations/","title":"Excluding complete modules from jacoco coverage","body":"<p>To generate a report for a multi-module Maven project, here is how it needs to be setup.</p>\n<pre><code>parent/\n├── child1\n├── child2\n├── jacoco-reports    &lt;-- Adds dependency for child1 and child2 modules\n└── pom.xml\n</code></pre>\n<p>When you run the build to generate the aggregate report using the <a href=\"https://www.jacoco.org/jacoco/trunk/doc/report-aggregate-mojo.html\" rel=\"nofollow noreferrer\"><code>report-aggregate</code></a> goal, the coverage report is generated in the <code>jacoco-reports</code> module for the entire project.</p>\n<p>With this setup, you can pick and chose the modules for which the report is generated.</p>\n<p><a href=\"https://www.thecodejournal.tech/2022/04/jacoco-maven-plugin-report-aggregate-goal-configurations/\" rel=\"nofollow noreferrer\">Here is my article</a> for using jacoco-maven-plugin with multi-module Maven projects.</p>\n"}],"owner":{"account_id":4103729,"reputation":109,"user_id":3402233,"display_name":"Ganesh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1133,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1650800977,"creation_date":1618448102,"question_id":67100841,"body_markdown":"I have a multi-module project like lets say below:\r\n```\r\nProject\r\n|-- DataModule\r\n|-- LogicModule\r\n|-- ServiceClientModule\r\n```\r\n\r\nIn this project the service client will just implement calls to any services I&#39;m calling and DataModule will just be data classes. Currently jacoco considers all of these modules. Is there a way to exclude complete modules like DataModule or ServiceClientModule since there&#39;s no need for UTs in both those cases?\r\n\r\n","title":"Excluding complete modules from jacoco coverage","body":"<p>I have a multi-module project like lets say below:</p>\n<pre><code>Project\n|-- DataModule\n|-- LogicModule\n|-- ServiceClientModule\n</code></pre>\n<p>In this project the service client will just implement calls to any services I'm calling and DataModule will just be data classes. Currently jacoco considers all of these modules. Is there a way to exclude complete modules like DataModule or ServiceClientModule since there's no need for UTs in both those cases?</p>\n"},{"tags":["java","spring","spring-mvc","model-view-controller","controller"],"comments":[{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1650804527,"post_id":71987899,"comment_id":127204040,"body_markdown":"I don&#39;t think you need to define it in your test class. It is already done in your controller.","body":"I don&#39;t think you need to define it in your test class. It is already done in your controller."},{"owner":{"account_id":2991126,"reputation":420,"user_id":2538699,"accept_rate":25,"display_name":"Naveen Kumar"},"score":1,"creation_date":1650822120,"post_id":71987899,"comment_id":127208039,"body_markdown":"Hi @Abdu,\n\nIdeally it should work with contentType in MockMvc test. If it is not working then you can think of passing the accept header as well.\nWe are doing as below in our project for MockMvc based Junit.\n            mockMvc.perform(\n                post(BASE_URL)\n                    .accept(MediaType.APPLICATION_JSON)\n                    .contentType(MediaType.APPLICATION_JSON))\n                    .andExpect(status().isOk());\nTry once like this.","body":"Hi @Abdu,  Ideally it should work with contentType in MockMvc test. If it is not working then you can think of passing the accept header as well. We are doing as below in our project for MockMvc based Junit.             mockMvc.perform(                 post(BASE_URL)                     .accept(MediaType.APPLICATION_JSON)                     .contentType(MediaType.APPLICATION_JSON))                     .andExpect(status().isOk()); Try once like this."}],"answers":[{"tags":[],"owner":{"account_id":15065077,"reputation":67,"user_id":10872496,"display_name":"MrMyth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650800262,"creation_date":1650800262,"answer_id":71988013,"question_id":71987899,"body_markdown":"I don&#39;t know if it&#39;s the case for SpringBoot, but with JPA you should have the Annotations @Consumes and @Produces which you can put above a method.\r\n\r\nFor example you can put @Consumes(MediaType.APPLICATION_JSON)\r\nor @Produces(MediaType.TEXT_PLAIN)\r\n\r\ngiven that MediaType is available as well.","title":"How to set consumes and produces of rest controller in mockmvc using Spring boot?","body":"<p>I don't know if it's the case for SpringBoot, but with JPA you should have the Annotations @Consumes and @Produces which you can put above a method.</p>\n<p>For example you can put @Consumes(MediaType.APPLICATION_JSON)\nor @Produces(MediaType.TEXT_PLAIN)</p>\n<p>given that MediaType is available as well.</p>\n"}],"owner":{"account_id":23500273,"reputation":123,"user_id":17550246,"display_name":"Abdu Muhammadal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":826,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650800262,"creation_date":1650799302,"question_id":71987899,"body_markdown":"I have a controller like this;\r\n\r\n    @RestController\r\n    @RequestMapping(GA)\r\n    @RequiredArgsConstructor\r\n    public class GaController {\r\n    \r\n        private final GaService service;\r\n    \r\n        @PostMapping(value = INITIALIZE, produces = APPLICATION_JSON_VALUE)\r\n        public ResponseEntity&lt;GaDTO&gt; initialize() {\r\n            return status(CREATED).body(service.initialize());\r\n        }\r\n    \r\n        @GetMapping(value = FIND, produces = APPLICATION_JSON_VALUE)\r\n        public ResponseEntity&lt;GaDTO&gt; find(@PathVariable String id) {\r\n            return ok().body(service.find(id));\r\n        }\r\n    \r\n        @PutMapping(value = PLAY, produces = APPLICATION_JSON_VALUE, consumes = APPLICATION_JSON_VALUE)\r\n        public ResponseEntity&lt;GaDTO&gt; play(@Valid @RequestBody Request request) {\r\n            return ok().body(service.play(request));\r\n        }\r\n    \r\n        @DeleteMapping(value = DELETE)\r\n        public ResponseEntity&lt;Void&gt; delete(@PathVariable String id) {\r\n            service.delete(id);\r\n            return status(NO_CONTENT).build();\r\n        }\r\n    \r\n    }\r\n\r\nAnd in my unit test, I used `@WebMvcTest` and `@MockMvc` but I don&#39;t know how to set `produces` and `consumes` configurations in `mockMvc`.\r\n\r\nHere&#39;s an example;\r\n\r\n    @Test\r\n    public void initialize_success() throws Exception {\r\n        when(gaService.initialize()).thenReturn(gaDTO);\r\n    \r\n        mockMvc.perform(post(GA + INITIALIZE)\r\n                        .contentType(APPLICATION_JSON))\r\n                .andExpect(status().isCreated())\r\n                .andExpect(jsonPath(&quot;$.id&quot;, is(gaDTO.getId())));\r\n    }\r\n\r\nIs this true? I mean, `.contentType(APPLICATION_JSON)` refers to `produces` or `consumes`?","title":"How to set consumes and produces of rest controller in mockmvc using Spring boot?","body":"<p>I have a controller like this;</p>\n<pre><code>@RestController\n@RequestMapping(GA)\n@RequiredArgsConstructor\npublic class GaController {\n\n    private final GaService service;\n\n    @PostMapping(value = INITIALIZE, produces = APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;GaDTO&gt; initialize() {\n        return status(CREATED).body(service.initialize());\n    }\n\n    @GetMapping(value = FIND, produces = APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;GaDTO&gt; find(@PathVariable String id) {\n        return ok().body(service.find(id));\n    }\n\n    @PutMapping(value = PLAY, produces = APPLICATION_JSON_VALUE, consumes = APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;GaDTO&gt; play(@Valid @RequestBody Request request) {\n        return ok().body(service.play(request));\n    }\n\n    @DeleteMapping(value = DELETE)\n    public ResponseEntity&lt;Void&gt; delete(@PathVariable String id) {\n        service.delete(id);\n        return status(NO_CONTENT).build();\n    }\n\n}\n</code></pre>\n<p>And in my unit test, I used <code>@WebMvcTest</code> and <code>@MockMvc</code> but I don't know how to set <code>produces</code> and <code>consumes</code> configurations in <code>mockMvc</code>.</p>\n<p>Here's an example;</p>\n<pre><code>@Test\npublic void initialize_success() throws Exception {\n    when(gaService.initialize()).thenReturn(gaDTO);\n\n    mockMvc.perform(post(GA + INITIALIZE)\n                    .contentType(APPLICATION_JSON))\n            .andExpect(status().isCreated())\n            .andExpect(jsonPath(&quot;$.id&quot;, is(gaDTO.getId())));\n}\n</code></pre>\n<p>Is this true? I mean, <code>.contentType(APPLICATION_JSON)</code> refers to <code>produces</code> or <code>consumes</code>?</p>\n"},{"tags":["java","xml","jboss","wildfly"],"comments":[{"owner":{"account_id":294406,"reputation":24602,"user_id":598289,"accept_rate":85,"display_name":"SJuan76"},"score":0,"creation_date":1650799713,"post_id":71987927,"comment_id":127203085,"body_markdown":"Have you checked the logs to see if the datasource has been deployed, or if there has been a problem preventing the datasource from deploying?","body":"Have you checked the logs to see if the datasource has been deployed, or if there has been a problem preventing the datasource from deploying?"},{"owner":{"account_id":20045078,"reputation":15,"user_id":14694953,"display_name":"alanT"},"score":0,"creation_date":1650803566,"post_id":71987927,"comment_id":127203856,"body_markdown":"@SJuan76 Just checked to service.logs and found several errors, mostly ones which says &quot;address already in use bind /127.0.0.1:9990&quot;. Tried to increment the port by one but didn&#39;t make any difference. You got any ideas? thanks","body":"@SJuan76 Just checked to service.logs and found several errors, mostly ones which says &quot;address already in use bind /127.0.0.1:9990&quot;. Tried to increment the port by one but didn&#39;t make any difference. You got any ideas? thanks"}],"owner":{"account_id":20045078,"reputation":15,"user_id":14694953,"display_name":"alanT"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":713,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650799494,"creation_date":1650799494,"question_id":71987927,"body_markdown":"I am trying to add a mysql datasource to my wildfly 26 server and when I deploy it I encounter the following error:\r\n\r\nI saved a copy of my standalone and tried to redo it, since I&#39;ve heard the xml can be quite tricky, however that didn&#39;t change anything. Also looked for blankspaces in the beginning of each xml document as per another stackoverflow post - but no bueno. \r\n\r\n```\r\n13:07:14,521 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;deploy&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;ISProjectEAR.ear&quot;)]) - failure description: {\r\n    &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.naming.context.java.jboss.datasources.jdbc.dsLabs&quot;],\r\n    &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [\r\n        &quot;jboss.persistenceunit.\\&quot;ISProjectEAR.ear/ISEJBProject.jar#LabEJBSql\\&quot; is missing [jboss.naming.context.java.jboss.datasources.jdbc.dsLabs]&quot;,\r\n        &quot;jboss.persistenceunit.\\&quot;ISProjectEAR.ear/ISEJBProject.jar#LabEJBSql\\&quot;.__FIRST_PHASE__ is missing [jboss.naming.context.java.jboss.datasources.jdbc.dsLabs]&quot;\r\n    ]\r\n}\r\n13:07:14,675 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 45) WFLYSRV0010: Deployed &quot;ISProjectEAR.ear&quot; (runtime-name : &quot;ISProjectEAR.ear&quot;)\r\n13:07:14,727 INFO  [org.jboss.as.controller] (Controller Boot Thread) WFLYCTL0183: Service status report\r\nWFLYCTL0184:    New missing/unsatisfied dependencies:\r\n      service jboss.naming.context.java.jboss.datasources.jdbc.dsLabs (missing) dependents: [service jboss.persistenceunit.&quot;ISProjectEAR.ear/ISEJBProject.jar#LabEJBSql&quot;, service jboss.persistenceunit.&quot;ISProjectEAR.ear/ISEJBProject.jar#LabEJBSql&quot;.__FIRST_PHASE__] \r\nWFLYCTL0448: 33 additional services are down due to their dependencies being missing or failed\r\n13:07:14,864 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0212: Resuming server\r\n13:07:14,873 ERROR [org.jboss.as] (Controller Boot Thread) WFLYSRV0026: WildFly Full 26.0.0.Final (WildFly Core 18.0.0.Final) started (with errors) in 16170ms - Started 607 of 832 services (43 services failed or missing dependencies, 347 services are lazy, passive or on-demand)\r\n13:07:14,878 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://127.0.0.1:9990/management\r\n13:07:14,879 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://127.0.0.1:9990\r\n\r\n```\r\n\r\nHere&#39;s my module.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;module xmlns=&quot;urn:jboss:module:1.3&quot; name=&quot;com.microsoft.sqlserver.jdbc&quot;&gt;\r\n  &lt;resources&gt;\r\n    &lt;resource-root path=&quot;sqljdbc4.jar&quot;/&gt;\r\n  &lt;/resources&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;module name=&quot;javax.api&quot;/&gt;\r\n    &lt;module name=&quot;javax.transaction.api&quot;/&gt;\r\n    &lt;module name=&quot;javax.servlet.api&quot; optional=&quot;true&quot;/&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;/module&gt;\r\n\r\n```\r\n\r\nThis is the datasource from my standalone.xml\r\n\r\n```\r\n&lt;datasources&gt;\r\n                &lt;datasource jndi-name=&quot;java:jboss/datasources/ExampleDS&quot; pool-name=&quot;ExampleDS&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot; statistics-enabled=&quot;${wildfly.datasources.statistics-enabled:${wildfly.statistics-enabled:false}}&quot;&gt;\r\n                    &lt;connection-url&gt;jdbc:h2:mem:test;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE&lt;/connection-url&gt;\r\n                    &lt;driver&gt;h2&lt;/driver&gt;\r\n                    &lt;security&gt;\r\n                        &lt;user-name&gt;sa&lt;/user-name&gt;\r\n                        &lt;password&gt;sa&lt;/password&gt;\r\n                    &lt;/security&gt;\r\n                &lt;/datasource&gt;\r\n                &lt;datasource jta=&quot;true&quot; jndi-name=&quot;java:jboss/datasources/jdbc/dsLabs&quot; pool-name=&quot;MysqlDS&quot; enabled=&quot;true&quot; use-ccm=&quot;false&quot; statistics-enabled=&quot;true&quot;&gt;\r\n                    &lt;connection-url&gt;jdbc:sqlserver://localhost:1433; databaseName=T4Lab;&lt;/connection-url&gt;\r\n                    &lt;driver&gt;sqljdbc4&lt;/driver&gt;\r\n                    &lt;security&gt;\r\n                        &lt;user-name&gt;Din anvandare&lt;/user-name&gt;\r\n                        &lt;password&gt;Ditt password&lt;/password&gt;\r\n                    &lt;/security&gt;\r\n                    &lt;validation&gt;\r\n                        &lt;validate-on-match&gt;false&lt;/validate-on-match&gt;\r\n                        &lt;background-validation&gt;false&lt;/background-validation&gt;\r\n                        &lt;background-validation-millis&gt;1&lt;/background-validation-millis&gt;\r\n                    &lt;/validation&gt;\r\n                    &lt;statement&gt;\r\n                        &lt;prepared-statement-cache-size&gt;0&lt;/prepared-statement-cache-size&gt;\r\n                        &lt;share-prepared-statements&gt;false&lt;/share-prepared-statements&gt;\r\n                    &lt;/statement&gt;\r\n                &lt;/datasource&gt;\r\n                &lt;drivers&gt;\r\n                    &lt;driver name=&quot;h2&quot; module=&quot;com.h2database.h2&quot;&gt;\r\n                        &lt;xa-datasource-class&gt;org.h2.jdbcx.JdbcDataSource&lt;/xa-datasource-class&gt;\r\n                    &lt;/driver&gt;\r\n                    &lt;driver name=&quot;sqljdbc4&quot; module=&quot;com.microsoft.sqlserver.jdbc&quot;&gt;\r\n                        &lt;xa-datasource-class&gt;com.microsoft.sqlserver.jdbc.SQLServerXADataSource&lt;/xa-datasource-class&gt;\r\n                    &lt;/driver&gt;\r\n                &lt;/drivers&gt;\r\n            &lt;/datasources&gt;\r\n```\r\n\r\nHere&#39;s the persistence.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;persistence xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_1_0.xsd&quot; version=&quot;1.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot;&gt;\r\n  &lt;persistence-unit name=&quot;LabEJBSql&quot;&gt;\r\n\t&lt;jta-data-source&gt;java:jboss/datasources/jdbc/dsLabs&lt;/jta-data-source&gt;\r\n\t&lt;non-jta-data-source&gt;java:jboss/datasources/jdbc/dsLabs&lt;/non-jta-data-source&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.SQLServerDialect&quot;&gt;&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\r\n\t&lt;/properties&gt;\r\n  &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n","title":"Wildfly server doesn&#39;t work, errors WFLYCTL0412 &amp; WFLYCTL0180","body":"<p>I am trying to add a mysql datasource to my wildfly 26 server and when I deploy it I encounter the following error:</p>\n<p>I saved a copy of my standalone and tried to redo it, since I've heard the xml can be quite tricky, however that didn't change anything. Also looked for blankspaces in the beginning of each xml document as per another stackoverflow post - but no bueno.</p>\n<pre><code>13:07:14,521 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;deploy&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;ISProjectEAR.ear&quot;)]) - failure description: {\n    &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.naming.context.java.jboss.datasources.jdbc.dsLabs&quot;],\n    &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [\n        &quot;jboss.persistenceunit.\\&quot;ISProjectEAR.ear/ISEJBProject.jar#LabEJBSql\\&quot; is missing [jboss.naming.context.java.jboss.datasources.jdbc.dsLabs]&quot;,\n        &quot;jboss.persistenceunit.\\&quot;ISProjectEAR.ear/ISEJBProject.jar#LabEJBSql\\&quot;.__FIRST_PHASE__ is missing [jboss.naming.context.java.jboss.datasources.jdbc.dsLabs]&quot;\n    ]\n}\n13:07:14,675 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 45) WFLYSRV0010: Deployed &quot;ISProjectEAR.ear&quot; (runtime-name : &quot;ISProjectEAR.ear&quot;)\n13:07:14,727 INFO  [org.jboss.as.controller] (Controller Boot Thread) WFLYCTL0183: Service status report\nWFLYCTL0184:    New missing/unsatisfied dependencies:\n      service jboss.naming.context.java.jboss.datasources.jdbc.dsLabs (missing) dependents: [service jboss.persistenceunit.&quot;ISProjectEAR.ear/ISEJBProject.jar#LabEJBSql&quot;, service jboss.persistenceunit.&quot;ISProjectEAR.ear/ISEJBProject.jar#LabEJBSql&quot;.__FIRST_PHASE__] \nWFLYCTL0448: 33 additional services are down due to their dependencies being missing or failed\n13:07:14,864 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0212: Resuming server\n13:07:14,873 ERROR [org.jboss.as] (Controller Boot Thread) WFLYSRV0026: WildFly Full 26.0.0.Final (WildFly Core 18.0.0.Final) started (with errors) in 16170ms - Started 607 of 832 services (43 services failed or missing dependencies, 347 services are lazy, passive or on-demand)\n13:07:14,878 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://127.0.0.1:9990/management\n13:07:14,879 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://127.0.0.1:9990\n\n</code></pre>\n<p>Here's my module.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;module xmlns=&quot;urn:jboss:module:1.3&quot; name=&quot;com.microsoft.sqlserver.jdbc&quot;&gt;\n  &lt;resources&gt;\n    &lt;resource-root path=&quot;sqljdbc4.jar&quot;/&gt;\n  &lt;/resources&gt;\n  &lt;dependencies&gt;\n    &lt;module name=&quot;javax.api&quot;/&gt;\n    &lt;module name=&quot;javax.transaction.api&quot;/&gt;\n    &lt;module name=&quot;javax.servlet.api&quot; optional=&quot;true&quot;/&gt;\n  &lt;/dependencies&gt;\n&lt;/module&gt;\n\n</code></pre>\n<p>This is the datasource from my standalone.xml</p>\n<pre><code>&lt;datasources&gt;\n                &lt;datasource jndi-name=&quot;java:jboss/datasources/ExampleDS&quot; pool-name=&quot;ExampleDS&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot; statistics-enabled=&quot;${wildfly.datasources.statistics-enabled:${wildfly.statistics-enabled:false}}&quot;&gt;\n                    &lt;connection-url&gt;jdbc:h2:mem:test;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE&lt;/connection-url&gt;\n                    &lt;driver&gt;h2&lt;/driver&gt;\n                    &lt;security&gt;\n                        &lt;user-name&gt;sa&lt;/user-name&gt;\n                        &lt;password&gt;sa&lt;/password&gt;\n                    &lt;/security&gt;\n                &lt;/datasource&gt;\n                &lt;datasource jta=&quot;true&quot; jndi-name=&quot;java:jboss/datasources/jdbc/dsLabs&quot; pool-name=&quot;MysqlDS&quot; enabled=&quot;true&quot; use-ccm=&quot;false&quot; statistics-enabled=&quot;true&quot;&gt;\n                    &lt;connection-url&gt;jdbc:sqlserver://localhost:1433; databaseName=T4Lab;&lt;/connection-url&gt;\n                    &lt;driver&gt;sqljdbc4&lt;/driver&gt;\n                    &lt;security&gt;\n                        &lt;user-name&gt;Din anvandare&lt;/user-name&gt;\n                        &lt;password&gt;Ditt password&lt;/password&gt;\n                    &lt;/security&gt;\n                    &lt;validation&gt;\n                        &lt;validate-on-match&gt;false&lt;/validate-on-match&gt;\n                        &lt;background-validation&gt;false&lt;/background-validation&gt;\n                        &lt;background-validation-millis&gt;1&lt;/background-validation-millis&gt;\n                    &lt;/validation&gt;\n                    &lt;statement&gt;\n                        &lt;prepared-statement-cache-size&gt;0&lt;/prepared-statement-cache-size&gt;\n                        &lt;share-prepared-statements&gt;false&lt;/share-prepared-statements&gt;\n                    &lt;/statement&gt;\n                &lt;/datasource&gt;\n                &lt;drivers&gt;\n                    &lt;driver name=&quot;h2&quot; module=&quot;com.h2database.h2&quot;&gt;\n                        &lt;xa-datasource-class&gt;org.h2.jdbcx.JdbcDataSource&lt;/xa-datasource-class&gt;\n                    &lt;/driver&gt;\n                    &lt;driver name=&quot;sqljdbc4&quot; module=&quot;com.microsoft.sqlserver.jdbc&quot;&gt;\n                        &lt;xa-datasource-class&gt;com.microsoft.sqlserver.jdbc.SQLServerXADataSource&lt;/xa-datasource-class&gt;\n                    &lt;/driver&gt;\n                &lt;/drivers&gt;\n            &lt;/datasources&gt;\n</code></pre>\n<p>Here's the persistence.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_1_0.xsd&quot; version=&quot;1.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot;&gt;\n  &lt;persistence-unit name=&quot;LabEJBSql&quot;&gt;\n    &lt;jta-data-source&gt;java:jboss/datasources/jdbc/dsLabs&lt;/jta-data-source&gt;\n    &lt;non-jta-data-source&gt;java:jboss/datasources/jdbc/dsLabs&lt;/non-jta-data-source&gt;\n    &lt;properties&gt;\n        &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.SQLServerDialect&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\n    &lt;/properties&gt;\n  &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n"},{"tags":["java","android","sql","sql-server","android-studio"],"comments":[{"owner":{"account_id":2312068,"reputation":90341,"user_id":2029983,"display_name":"Thom A"},"score":4,"creation_date":1650787515,"post_id":71986491,"comment_id":127200811,"body_markdown":"**WARNING:** Your code is **dangerous**. It is wide open to SQL injection attacks. Always, *always, **always*** parametrise your code. [Why do we always prefer using parameters in SQL statements?](//stackoverflow.com/q/7505808)","body":"<b>WARNING:</b> Your code is <b>dangerous</b>. It is wide open to SQL injection attacks. Always, <i>always, <b>always</i></b> parametrise your code. <a href=\"//stackoverflow.com/q/7505808\">Why do we always prefer using parameters in SQL statements?</a>"},{"owner":{"account_id":5025459,"reputation":929,"user_id":4037594,"accept_rate":40,"display_name":"Haem"},"score":2,"creation_date":1650879133,"post_id":71986491,"comment_id":127219102,"body_markdown":"Please edit your code sample into a [mcve] so it&#39;s easier to diagnose.","body":"Please edit your code sample into a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so it&#39;s easier to diagnose."}],"answers":[{"tags":[],"owner":{"account_id":16582962,"reputation":3261,"user_id":11983124,"display_name":"Praveen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650799070,"creation_date":1650799070,"answer_id":71987872,"question_id":71986491,"body_markdown":"&gt; `(androidx.appcompat.widget.AppCompatSpinner{eadaafd VFED..CL. ........\r\n&gt; 19,38-505,171 #7f0700bc app:id/spn_flight})` this line is save into\r\n&gt; database not the actual value.\r\n\r\nIn `query` you are directly passing the instance of the `spinner`, which is saving the instance name of the same. whereas you should pass the `selectedItem` of the `spinner` to the `query`.\r\n\r\n    String queryStmt = &quot;Insert into flight&quot; +\r\n                            &quot; (FlightNumber) values &quot;\r\n                            + &quot;(&#39;&quot;\r\n                            + spn_flight.getSelectedItem()\r\n                            + &quot;&#39;)&quot;;","title":"Insert spinner value into database","body":"<blockquote>\n<p><code>(androidx.appcompat.widget.AppCompatSpinner{eadaafd VFED..CL. ........ 19,38-505,171 #7f0700bc app:id/spn_flight})</code> this line is save into\ndatabase not the actual value.</p>\n</blockquote>\n<p>In <code>query</code> you are directly passing the instance of the <code>spinner</code>, which is saving the instance name of the same. whereas you should pass the <code>selectedItem</code> of the <code>spinner</code> to the <code>query</code>.</p>\n<pre><code>String queryStmt = &quot;Insert into flight&quot; +\n                        &quot; (FlightNumber) values &quot;\n                        + &quot;('&quot;\n                        + spn_flight.getSelectedItem()\n                        + &quot;')&quot;;\n</code></pre>\n"}],"owner":{"account_id":17662791,"reputation":33,"user_id":12820870,"display_name":"Muhammad Ali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":314,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1650799070,"creation_date":1650786729,"question_id":71986491,"body_markdown":"I have populated spinner value from SQL database but I want after selecting the value it should save again into database. but when I click on saved button then (`androidx.appcompat.widget.AppCompatSpinner{eadaafd VFED..CL. ........ 19,38-505,171 #7f0700bc app:id/spn_flight}`) this line is save into database not the actual value.\r\n\r\n\r\n\r\n```\r\npackage com.example.timetracker.ui;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.app.ProgressDialog;\r\nimport android.os.AsyncTask;\r\nimport android.os.Bundle;\r\nimport android.os.StrictMode;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.AdapterView;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.Button;\r\nimport android.widget.Spinner;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.example.timetracker.R;\r\nimport com.example.timetracker.jdbc_connection.ConnectionHelper;\r\nimport com.example.timetracker.manager.SharedPrefManager;\r\nimport com.example.timetracker.util.Const;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.Date;\r\nimport java.util.Locale;\r\n\r\npublic class FlightSelection extends AppCompatActivity {\r\n    Spinner spn_flight;\r\n    Button btn_submit;\r\n    TextView date;\r\n    ProgressDialog progressDialog;\r\n    SharedPrefManager sharedPrefManager = new SharedPrefManager();\r\n    String ip, db, un, passwords;\r\n    Connection connect;\r\n    PreparedStatement stmt;\r\n    ResultSet rs;\r\n    Connection conn;\r\n    boolean isSucess = false;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_flight_selection);\r\n        //create a date string.\r\n        String date_n = new SimpleDateFormat(&quot;MMM dd, yyyy&quot;, Locale.getDefault()).format(new Date());\r\n//get hold of textview.\r\n         date  = (TextView) findViewById(R.id.dateText);\r\n//set it as current date.\r\n        date.setText(date_n);\r\n        ip = &quot;SECRET&quot;;\r\n        un = &quot;SECRET&quot;;\r\n        passwords = &quot;SECRET&quot;;\r\n        db = &quot;SECRET&quot;;\r\n\r\n        spn_flight = (Spinner) findViewById(R.id.spn_flight);\r\n        btn_submit = (Button) findViewById(R.id.btn_submit);\r\n\r\n        connect = CONN(un, passwords, db, ip);\r\n        String query = &quot;select FlightNumber from flight&quot;;\r\n\r\n        try {\r\n            connect = CONN(un, passwords, db, ip);\r\n            stmt = connect.prepareStatement(query);\r\n            rs = stmt.executeQuery();\r\n            ArrayList&lt;String&gt; data = new ArrayList&lt;String&gt;();\r\n            while (rs.next()) {\r\n                String id = rs.getString(&quot;FlightNumber&quot;);\r\n                data.add(id);\r\n\r\n            }\r\n            String[] array = data.toArray(new String[0]);\r\n            ArrayAdapter NoCoreAdapter = new ArrayAdapter(this,\r\n                    android.R.layout.simple_list_item_1, data);\r\n            spn_flight.setAdapter(NoCoreAdapter);\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n        spn_flight.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n\r\n            @Override\r\n            public void onItemSelected(AdapterView&lt;?&gt; parent, View view,\r\n                                       int position, long id) {\r\n\r\n                String name = spn_flight.getSelectedItem().toString();\r\n                Toast.makeText(FlightSelection.this, name, Toast.LENGTH_SHORT)\r\n                        .show();\r\n            }\r\n\r\n            @Override\r\n            public void onNothingSelected(AdapterView&lt;?&gt; parent) {\r\n\r\n            }\r\n        });\r\n\r\n\r\n\r\n        btn_submit.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n\r\n                    uploadtable uploadtable = new uploadtable();\r\n                    uploadtable.execute();\r\n\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    @SuppressLint(&quot;NewApi&quot;)\r\n    private Connection CONN(String _user, String _pass, String _DB,\r\n                            String _server) {\r\n        StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder()\r\n                .permitAll().build();\r\n        StrictMode.setThreadPolicy(policy);\r\n        Connection conn = null;\r\n        String ConnURL = null;\r\n        try {\r\n\r\n            Class.forName(&quot;net.sourceforge.jtds.jdbc.Driver&quot;);\r\n            ConnURL = &quot;jdbc:jtds:sqlserver://&quot; + _server + &quot;;&quot;\r\n                    + &quot;databaseName=&quot; + _DB + &quot;;user=&quot; + _user + &quot;;password=&quot;\r\n                    + _pass + &quot;;&quot;;\r\n            conn = DriverManager.getConnection(ConnURL);\r\n        } catch (SQLException se) {\r\n            Log.e(&quot;ERRO&quot;, se.getMessage());\r\n        } catch (ClassNotFoundException e) {\r\n            Log.e(&quot;ERRO&quot;, e.getMessage());\r\n        } catch (Exception e) {\r\n            Log.e(&quot;ERRO&quot;, e.getMessage());\r\n        }\r\n        return conn;\r\n    }\r\n    private class uploadtable extends AsyncTask&lt;Void, Void, Void&gt; {\r\n\r\n      /* @Override\r\n        protected void onPreExecute() {\r\n            progressDialog = new ProgressDialog(FlightSelection.this);\r\n            progressDialog.setTitle(&quot;Creating account please wait!&quot;);\r\n            progressDialog.show();\r\n            super.onPreExecute();\r\n        }*/\r\n\r\n        @Override\r\n        protected Void doInBackground(Void... voids) {\r\n            try {\r\n\r\n\r\n                ConnectionHelper con = new ConnectionHelper();\r\n                conn = con.connectionclasss(Const.DBUserNameStr, Const.DBPasswordStr, Const.db, Const.ip);\r\n                String queryStmt = &quot;Insert into flight&quot; +\r\n                        &quot; (FlightNumber) values &quot;\r\n                        + &quot;(&#39;&quot;\r\n                        + spn_flight\r\n                        + &quot;&#39;)&quot;;\r\n                Statement stmt = conn.createStatement();\r\n                isSucess = stmt.execute(queryStmt);\r\n                isSucess = true;\r\n                conn.close();\r\n                // return data;\r\n            } catch (Exception e) {\r\n                isSucess = false;\r\n                e.printStackTrace();\r\n            }\r\n\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(Void aVoid) {\r\n\r\n            if (isSucess) {\r\n\r\n                Toast.makeText(FlightSelection.this, &quot;product added&quot;, Toast.LENGTH_SHORT).show();\r\n            } else {\r\n                Toast.makeText(FlightSelection.this, &quot;prduct not added&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n\r\n            super.onPostExecute(aVoid);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n   ","title":"Insert spinner value into database","body":"<p>I have populated spinner value from SQL database but I want after selecting the value it should save again into database. but when I click on saved button then (<code>androidx.appcompat.widget.AppCompatSpinner{eadaafd VFED..CL. ........ 19,38-505,171 #7f0700bc app:id/spn_flight}</code>) this line is save into database not the actual value.</p>\n<pre><code>package com.example.timetracker.ui;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.annotation.SuppressLint;\nimport android.app.ProgressDialog;\nimport android.os.AsyncTask;\nimport android.os.Bundle;\nimport android.os.StrictMode;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.AdapterView;\nimport android.widget.ArrayAdapter;\nimport android.widget.Button;\nimport android.widget.Spinner;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.example.timetracker.R;\nimport com.example.timetracker.jdbc_connection.ConnectionHelper;\nimport com.example.timetracker.manager.SharedPrefManager;\nimport com.example.timetracker.util.Const;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.Date;\nimport java.util.Locale;\n\npublic class FlightSelection extends AppCompatActivity {\n    Spinner spn_flight;\n    Button btn_submit;\n    TextView date;\n    ProgressDialog progressDialog;\n    SharedPrefManager sharedPrefManager = new SharedPrefManager();\n    String ip, db, un, passwords;\n    Connection connect;\n    PreparedStatement stmt;\n    ResultSet rs;\n    Connection conn;\n    boolean isSucess = false;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_flight_selection);\n        //create a date string.\n        String date_n = new SimpleDateFormat(&quot;MMM dd, yyyy&quot;, Locale.getDefault()).format(new Date());\n//get hold of textview.\n         date  = (TextView) findViewById(R.id.dateText);\n//set it as current date.\n        date.setText(date_n);\n        ip = &quot;SECRET&quot;;\n        un = &quot;SECRET&quot;;\n        passwords = &quot;SECRET&quot;;\n        db = &quot;SECRET&quot;;\n\n        spn_flight = (Spinner) findViewById(R.id.spn_flight);\n        btn_submit = (Button) findViewById(R.id.btn_submit);\n\n        connect = CONN(un, passwords, db, ip);\n        String query = &quot;select FlightNumber from flight&quot;;\n\n        try {\n            connect = CONN(un, passwords, db, ip);\n            stmt = connect.prepareStatement(query);\n            rs = stmt.executeQuery();\n            ArrayList&lt;String&gt; data = new ArrayList&lt;String&gt;();\n            while (rs.next()) {\n                String id = rs.getString(&quot;FlightNumber&quot;);\n                data.add(id);\n\n            }\n            String[] array = data.toArray(new String[0]);\n            ArrayAdapter NoCoreAdapter = new ArrayAdapter(this,\n                    android.R.layout.simple_list_item_1, data);\n            spn_flight.setAdapter(NoCoreAdapter);\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n        spn_flight.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n\n            @Override\n            public void onItemSelected(AdapterView&lt;?&gt; parent, View view,\n                                       int position, long id) {\n\n                String name = spn_flight.getSelectedItem().toString();\n                Toast.makeText(FlightSelection.this, name, Toast.LENGTH_SHORT)\n                        .show();\n            }\n\n            @Override\n            public void onNothingSelected(AdapterView&lt;?&gt; parent) {\n\n            }\n        });\n\n\n\n        btn_submit.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n\n                    uploadtable uploadtable = new uploadtable();\n                    uploadtable.execute();\n\n\n            }\n        });\n\n    }\n\n    @SuppressLint(&quot;NewApi&quot;)\n    private Connection CONN(String _user, String _pass, String _DB,\n                            String _server) {\n        StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder()\n                .permitAll().build();\n        StrictMode.setThreadPolicy(policy);\n        Connection conn = null;\n        String ConnURL = null;\n        try {\n\n            Class.forName(&quot;net.sourceforge.jtds.jdbc.Driver&quot;);\n            ConnURL = &quot;jdbc:jtds:sqlserver://&quot; + _server + &quot;;&quot;\n                    + &quot;databaseName=&quot; + _DB + &quot;;user=&quot; + _user + &quot;;password=&quot;\n                    + _pass + &quot;;&quot;;\n            conn = DriverManager.getConnection(ConnURL);\n        } catch (SQLException se) {\n            Log.e(&quot;ERRO&quot;, se.getMessage());\n        } catch (ClassNotFoundException e) {\n            Log.e(&quot;ERRO&quot;, e.getMessage());\n        } catch (Exception e) {\n            Log.e(&quot;ERRO&quot;, e.getMessage());\n        }\n        return conn;\n    }\n    private class uploadtable extends AsyncTask&lt;Void, Void, Void&gt; {\n\n      /* @Override\n        protected void onPreExecute() {\n            progressDialog = new ProgressDialog(FlightSelection.this);\n            progressDialog.setTitle(&quot;Creating account please wait!&quot;);\n            progressDialog.show();\n            super.onPreExecute();\n        }*/\n\n        @Override\n        protected Void doInBackground(Void... voids) {\n            try {\n\n\n                ConnectionHelper con = new ConnectionHelper();\n                conn = con.connectionclasss(Const.DBUserNameStr, Const.DBPasswordStr, Const.db, Const.ip);\n                String queryStmt = &quot;Insert into flight&quot; +\n                        &quot; (FlightNumber) values &quot;\n                        + &quot;('&quot;\n                        + spn_flight\n                        + &quot;')&quot;;\n                Statement stmt = conn.createStatement();\n                isSucess = stmt.execute(queryStmt);\n                isSucess = true;\n                conn.close();\n                // return data;\n            } catch (Exception e) {\n                isSucess = false;\n                e.printStackTrace();\n            }\n\n            return null;\n        }\n\n        @Override\n        protected void onPostExecute(Void aVoid) {\n\n            if (isSucess) {\n\n                Toast.makeText(FlightSelection.this, &quot;product added&quot;, Toast.LENGTH_SHORT).show();\n            } else {\n                Toast.makeText(FlightSelection.this, &quot;prduct not added&quot;, Toast.LENGTH_SHORT).show();\n            }\n\n            super.onPostExecute(aVoid);\n        }\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","javafx","tableview","scenebuilder","observablelist"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1650801214,"post_id":71987839,"comment_id":127203363,"body_markdown":"[mcve] please ..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1650821202,"post_id":71987839,"comment_id":127207812,"body_markdown":"Maybe a `FilteredList`, seen [here](https://stackoverflow.com/q/69711881/230513).","body":"Maybe a <code>FilteredList</code>, seen <a href=\"https://stackoverflow.com/q/69711881/230513\">here</a>."}],"owner":{"account_id":25075186,"reputation":1,"user_id":18928678,"display_name":"Uzay &#199;etinkaya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650798832,"creation_date":1650798832,"question_id":71987839,"body_markdown":"Basically what I&#39;m trying to do is, I create a type object with a name and attribute names (I tried to collect those attribute names in a tableview). Then I create items by selecting those types I created before. The Item object i create has its name,type and attribute names. What I want is, when I&#39;m creating an item, I select a type. When I select that type, I want the tableview in item creating page to show selected types attribute names.[item creating page is something like that][1]\r\n\r\nI tried something like this. Those are my initialize method and creatType methods.\r\nany suggestions?\r\n\r\n\r\n        ObservableList&lt;Types&gt; list2 = FXCollections.observableArrayList();\r\n    ObservableList&lt;Items&gt; list3 = FXCollections.observableArrayList();\r\n\r\n\r\n\r\n    public void initialize(URL url, ResourceBundle resourceBundle) {\r\n        typeAttributesNames.setCellValueFactory(new PropertyValueFactory&lt;Types, String&gt;(&quot;typeAttributesNames&quot;));\r\n        this.itemAttrValue.setCellValueFactory(new PropertyValueFactory&lt;Items,String&gt;(&quot;attributeValues&quot;));\r\n        typeAttrNameColumn.setCellValueFactory(new PropertyValueFactory&lt;Types,String&gt;(&quot;typeAttributesNames2&quot;));\r\n        attrNameTableView.setItems(list2);\r\n        itemsAttrTableView.setItems(list3);\r\n\r\n    }\r\n     public void createType(){\r\n        ObservableList&lt;Types&gt; typesObservableList=list2;\r\n        Types types= new Types(typesTextField.getText(),typesObservableList);\r\n        types.getTypesTitledPane().setText(typesTextField.getText());\r\n        typeTitledPaneVbox.getChildren().addAll(types.getTypesTitledPane());\r\n        typeNameComboBox.getItems().addAll(typesTextField.getText());\r\n        Types.typesArrayList.add(types);\r\n        typesTextField.clear();\r\n\r\n        typeNameComboBox.setOnAction(e -&gt;\r\n                typeAttrTableView.setItems(typesObservableList));\r\n\r\n         attrNameTableView.getItems().clear();\r\n\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/HxWEV.png","title":"How can I send the elements of the tableview to another tableview?","body":"<p>Basically what I'm trying to do is, I create a type object with a name and attribute names (I tried to collect those attribute names in a tableview). Then I create items by selecting those types I created before. The Item object i create has its name,type and attribute names. What I want is, when I'm creating an item, I select a type. When I select that type, I want the tableview in item creating page to show selected types attribute names.<a href=\"https://i.stack.imgur.com/HxWEV.png\" rel=\"nofollow noreferrer\">item creating page is something like that</a></p>\n<p>I tried something like this. Those are my initialize method and creatType methods.\nany suggestions?</p>\n<pre><code>    ObservableList&lt;Types&gt; list2 = FXCollections.observableArrayList();\nObservableList&lt;Items&gt; list3 = FXCollections.observableArrayList();\n\n\n\npublic void initialize(URL url, ResourceBundle resourceBundle) {\n    typeAttributesNames.setCellValueFactory(new PropertyValueFactory&lt;Types, String&gt;(&quot;typeAttributesNames&quot;));\n    this.itemAttrValue.setCellValueFactory(new PropertyValueFactory&lt;Items,String&gt;(&quot;attributeValues&quot;));\n    typeAttrNameColumn.setCellValueFactory(new PropertyValueFactory&lt;Types,String&gt;(&quot;typeAttributesNames2&quot;));\n    attrNameTableView.setItems(list2);\n    itemsAttrTableView.setItems(list3);\n\n}\n public void createType(){\n    ObservableList&lt;Types&gt; typesObservableList=list2;\n    Types types= new Types(typesTextField.getText(),typesObservableList);\n    types.getTypesTitledPane().setText(typesTextField.getText());\n    typeTitledPaneVbox.getChildren().addAll(types.getTypesTitledPane());\n    typeNameComboBox.getItems().addAll(typesTextField.getText());\n    Types.typesArrayList.add(types);\n    typesTextField.clear();\n\n    typeNameComboBox.setOnAction(e -&gt;\n            typeAttrTableView.setItems(typesObservableList));\n\n     attrNameTableView.getItems().clear();\n\n}\n</code></pre>\n"},{"tags":["java","android","hex","iot"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1500267829,"post_id":45136264,"comment_id":77241804,"body_markdown":"`Integer.toHexString((int)(System.currentTimeMillis() / 1000))`?","body":"<code>Integer.toHexString((int)(System.currentTimeMillis() &#47; 1000))</code>?"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1500268658,"post_id":45136264,"comment_id":77242058,"body_markdown":"Value returned by `date.getTime()` is in milliseconds, but the hex value `47C7EDE0` is in seconds. That&#39;s why comment by @shmosel is correct, because it converts the milliseconds to seconds, before converting that to hex. To see that `47C7EDE0` is in seconds, try printing `new Date(0x47C7EDE0 * 1000L)`. I get `Fri Feb 29 06:34:56 EST 2008` because I&#39;m in Eastern US time zone.","body":"Value returned by <code>date.getTime()</code> is in milliseconds, but the hex value <code>47C7EDE0</code> is in seconds. That&#39;s why comment by @shmosel is correct, because it converts the milliseconds to seconds, before converting that to hex. To see that <code>47C7EDE0</code> is in seconds, try printing <code>new Date(0x47C7EDE0 * 1000L)</code>. I get <code>Fri Feb 29 06:34:56 EST 2008</code> because I&#39;m in Eastern US time zone."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1500268878,"post_id":45136264,"comment_id":77242134,"body_markdown":"If you have Java 8, print `Instant.ofEpochSecond(0x47C7EDE0)` and you get `2008-02-29T11:34:56Z`. The date you show seems to be in Central European time zone.","body":"If you have Java 8, print <code>Instant.ofEpochSecond(0x47C7EDE0)</code> and you get <code>2008-02-29T11:34:56Z</code>. The date you show seems to be in Central European time zone."}],"answers":[{"tags":[],"owner":{"account_id":10727029,"reputation":1149,"user_id":7894239,"display_name":"Ankita"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1500271000,"creation_date":1500269015,"answer_id":45136477,"question_id":45136264,"body_markdown":"Try this:\r\n     \r\n     private String getDateTimeToHexa() {\r\n            Calendar mCalendar = Calendar.getInstance();\r\n            TimeZone gmtTime =  TimeZone.getTimeZone(TimeZone.getDefault().getDisplayName());\r\n            mCalendar.setTimeZone(gmtTime);\r\n            final Date date = mCalendar.getTime();\r\n            return Long.toHexString(date.getTime()/1000);\r\n        }\r\n\r\n","title":"How to convert date time in hex in android","body":"<p>Try this:</p>\n\n<pre><code> private String getDateTimeToHexa() {\n        Calendar mCalendar = Calendar.getInstance();\n        TimeZone gmtTime =  TimeZone.getTimeZone(TimeZone.getDefault().getDisplayName());\n        mCalendar.setTimeZone(gmtTime);\n        final Date date = mCalendar.getTime();\n        return Long.toHexString(date.getTime()/1000);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3149932,"reputation":2652,"user_id":2663579,"accept_rate":0,"display_name":"SachinSarawgi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500269757,"creation_date":1500269055,"answer_id":45136485,"question_id":45136264,"body_markdown":"Instead of returning\r\n\r\n    return Long.toHexString(date.getTime());\r\n\r\nReturn following\r\n\r\n    return Long.toHexString(date.getTime()/1000);\r\n\r\nAs correctly pointed out by @shmosel that date.getTime() return time in a millisecond and if you want 8 digit Hex format then it needs to be converted in the second format.\r\n\r\nThe return type of Date can be found [here][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Date.html#getTime()","title":"How to convert date time in hex in android","body":"<p>Instead of returning</p>\n\n<pre><code>return Long.toHexString(date.getTime());\n</code></pre>\n\n<p>Return following</p>\n\n<pre><code>return Long.toHexString(date.getTime()/1000);\n</code></pre>\n\n<p>As correctly pointed out by @shmosel that date.getTime() return time in a millisecond and if you want 8 digit Hex format then it needs to be converted in the second format.</p>\n\n<p>The return type of Date can be found <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Date.html#getTime()\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":11344691,"reputation":21,"user_id":8317513,"display_name":"Mona"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1500269726,"creation_date":1500269726,"answer_id":45136609,"question_id":45136264,"body_markdown":" \r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n    public class Date {\r\n        public static void main(final String[] args)\r\n        {\r\n        final Calendar cal = Calendar.getInstance();\r\n        cal.set(Calendar.DATE, 15);\r\n        cal.set(Calendar.MONTH, Calendar.DECEMBER);\r\n        cal.set(Calendar.YEAR, 2005);\r\n        cal.set(Calendar.HOUR, 17);\r\n        cal.set(Calendar.MINUTE, 35);\r\n        cal.set(Calendar.SECOND, 20);\r\n        final Date date = cal.getTime();\r\n\r\n        System.out.printf(&quot;Date %s is encoded as: %s\\n&quot;, date, Long.toHexString(date.getTime()));\r\n        // decode with: new Date(Long.parseLong(&quot;1082f469308&quot;, 16))\r\n    }\r\n}","title":"How to convert date time in hex in android","body":"<pre><code>import java.util.Calendar;\nimport java.util.Date;\npublic class Date {\n    public static void main(final String[] args)\n    {\n    final Calendar cal = Calendar.getInstance();\n    cal.set(Calendar.DATE, 15);\n    cal.set(Calendar.MONTH, Calendar.DECEMBER);\n    cal.set(Calendar.YEAR, 2005);\n    cal.set(Calendar.HOUR, 17);\n    cal.set(Calendar.MINUTE, 35);\n    cal.set(Calendar.SECOND, 20);\n    final Date date = cal.getTime();\n\n    System.out.printf(\"Date %s is encoded as: %s\\n\", date, Long.toHexString(date.getTime()));\n    // decode with: new Date(Long.parseLong(\"1082f469308\", 16))\n}\n</code></pre>\n\n<p>}</p>\n"}],"owner":{"account_id":1552435,"reputation":4487,"user_id":1444525,"accept_rate":22,"display_name":"Harneet Kaur"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1834,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":45136477,"answer_count":3,"score":0,"last_activity_date":1650798689,"creation_date":1500267652,"question_id":45136264,"body_markdown":"I need to convert date and time in hex code for writing it on IOT device. \r\nHere is my code\r\n                                                                         \r\n    private String getDateTimeToHexa() { \r\n                                                    \r\n\tCalendar mCalendar = Calendar.getInstance();\r\n    TimeZone gmtTime =  TimeZone.getTimeZone(TimeZone.getDefault().getDisplayName());\r\n\r\n\t\tmCalendar.setTimeZone(gmtTime);\r\n\t\tfinal Date date = mCalendar.getTime();\r\n\t\treturn Long.toHexString(date.getTime());\r\n    }\r\n\r\nIt is returning 11 digits hex code I need 8 digits, just like date and time in hex is `47C7EDE0` for this date `12:34:56 29/Feb/2008`\r\n\r\nPlease help","title":"How to convert date time in hex in android","body":"<p>I need to convert date and time in hex code for writing it on IOT device. \nHere is my code</p>\n\n<pre><code>private String getDateTimeToHexa() { \n\nCalendar mCalendar = Calendar.getInstance();\nTimeZone gmtTime =  TimeZone.getTimeZone(TimeZone.getDefault().getDisplayName());\n\n    mCalendar.setTimeZone(gmtTime);\n    final Date date = mCalendar.getTime();\n    return Long.toHexString(date.getTime());\n}\n</code></pre>\n\n<p>It is returning 11 digits hex code I need 8 digits, just like date and time in hex is <code>47C7EDE0</code> for this date <code>12:34:56 29/Feb/2008</code></p>\n\n<p>Please help</p>\n"},{"tags":["java","android","kotlin","opencv","image-processing"],"comments":[{"owner":{"display_name":"user1196549"},"score":0,"creation_date":1650002772,"post_id":71879650,"comment_id":127019993,"body_markdown":"I don&#39;t intend to scrutinize this code. Can you tell me if there is a place where you specify the image format to the viewer, or if you can pass some callback function to process the image on the fly (convert the format) before display ?","body":"I don&#39;t intend to scrutinize this code. Can you tell me if there is a place where you specify the image format to the viewer, or if you can pass some callback function to process the image on the fly (convert the format) before display ?"},{"owner":{"display_name":"user1196549"},"score":0,"creation_date":1650003162,"post_id":71879650,"comment_id":127020044,"body_markdown":"YUYV is also known as YUV 4:2:2. Try the conversion COLOR_YUV2RGB_YUYV in OpenCV.","body":"YUYV is also known as YUV 4:2:2. Try the conversion COLOR_YUV2RGB_YUYV in OpenCV."},{"owner":{"display_name":"user11597888"},"score":0,"creation_date":1650026786,"post_id":71879650,"comment_id":127025812,"body_markdown":"@YvesDaoust Hello, thanks for the reply. In the Stream Service file, on the function onConnect, the line `camera.setPreviewSize(width, height, UVCCamera.FRAME_FORMAT_YUYV)` defines the image on the fly. FRAME_FORMAT_YUYV is one option and the other one is MJPEG which gives me black frames. The callback `uvcCamera.setFrameCallback(mIFrameCallback, UVCCamera.PIXEL_FORMAT_RGBX);` should give me the images before display, however I don&#39;t know how to pass it to opencv for processing in android","body":"@YvesDaoust Hello, thanks for the reply. In the Stream Service file, on the function onConnect, the line <code>camera.setPreviewSize(width, height, UVCCamera.FRAME_FORMAT_YUYV)</code> defines the image on the fly. FRAME_FORMAT_YUYV is one option and the other one is MJPEG which gives me black frames. The callback <code>uvcCamera.setFrameCallback(mIFrameCallback, UVCCamera.PIXEL_FORMAT_RGBX);</code> should give me the images before display, however I don&#39;t know how to pass it to opencv for processing in android"},{"owner":{"display_name":"user1196549"},"score":0,"creation_date":1650027371,"post_id":71879650,"comment_id":127026011,"body_markdown":"Check the prototype of the callback function, it should give you access to the frame.","body":"Check the prototype of the callback function, it should give you access to the frame."},{"owner":{"display_name":"user11597888"},"score":0,"creation_date":1650029023,"post_id":71879650,"comment_id":127026567,"body_markdown":"The prototype: `public interface IFrameCallback {\n    void onFrame(ByteBuffer var1);\n}` where frameData is of type Byte buffer in . `frameData.get(FrameData, 0, frameData.capacity());`","body":"The prototype: <code>public interface IFrameCallback {     void onFrame(ByteBuffer var1); }</code> where frameData is of type Byte buffer in . <code>frameData.get(FrameData, 0, frameData.capacity());</code>"},{"owner":{"display_name":"user1196549"},"score":0,"creation_date":1650029092,"post_id":71879650,"comment_id":127026579,"body_markdown":"I can&#39;t answer. This information must be in the manual of the library.","body":"I can&#39;t answer. This information must be in the manual of the library."}],"owner":{"display_name":"user11597888"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":579,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":0,"score":6,"last_activity_date":1650797980,"creation_date":1649991908,"question_id":71879650,"body_markdown":"I am using a library to do RTMP streaming from an USB/UVC camera in android. The library I am using is [this one][1]. This library works just fine for android USB cameras that are RGB. However, I am working with a thermal camera that has YUYV frame format, therefore the initial camera image is as below:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nThis image format is in YUV and needs some processing before the image is viewable. Therefore, I&#39;d like to know how can I grab the frames from the camera, applying processing and then update the preview. \r\n\r\nMy problem is that, when streaming from my device, the endpoint/device receiving the stream will also view this green image, as it needs some processing, and i don&#39;t know how to correct this in android. \r\n\r\nWhen connecting in Windows, I could process the image make it viewable by doing the following steps:\r\n    \r\n    cap = cv2.VideoCapture(-1)\r\n    cap.set(cv2.CAP_PROP_CONVERT_RGB, 0)\r\n    \r\n    while(True):\r\n        ret, frame = cap.read()\r\n        frame = frame.reshape(292, 384, 2)\r\n        # I would remove the last 4 extra rows\r\n        frame = frame[0:288, ...]\r\n        # Convert image to uint16\r\n        dt = np.dtype((&#39;&lt;u2&#39;, [(&#39;x&#39;, np.uint8, 2]))\r\n        frame = frame.view(dtype=dt).astype(np.float32)\r\n        \r\n        cv2.imshow(&#39;frame&#39;, gray)\r\n    if cv2.waiKey(1) &amp; 0xFF = ord(&#39;q&#39;):\r\n        break\r\nThis would output a 16bit frame in greyscale\r\n\r\nUnfortunately, i do not have considerable experience with image processing on Android, so I am not sure if I must repeat the same steps done in Python, but on android or is there any alternative/easier way to fix the frames being streamed by the OpenGlView. The stream library uses a OpenGlView to display the frames\r\n\r\n    &lt;com.pedro.rtplibrary.view.OpenGlView\r\n        android:id=&quot;@+id/openglview&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:keepAspectRatio=&quot;true&quot;\r\n        /&gt;\r\n\r\n\r\nThis is the stream service that handles the camera detection\r\n\r\n\r\n    import android.app.Service\r\n    import android.content.Context\r\n    import android.content.Intent\r\n    import android.hardware.usb.UsbDevice\r\n    import android.os.Binder\r\n    import android.os.Build\r\n    import android.os.IBinder\r\n    import android.util.Log\r\n    import androidx.annotation.RequiresApi\r\n    import androidx.core.app.NotificationCompat\r\n    import com.pedro.rtplibrary.view.OpenGlView\r\n    import com.serenegiant.usb.USBMonitor\r\n    import com.serenegiant.usb.UVCCamera\r\n    import net.ossrs.rtmp.ConnectCheckerRtmp\r\n    \r\n    /**\r\n     * Basic RTMP/RTSP service streaming implementation with camera2\r\n     */\r\n    @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\r\n    class StreamService : Service() {\r\n        companion object {\r\n            private const val TAG = &quot;RtpService&quot;\r\n            private const val channelId = &quot;rtpStreamChannel&quot;\r\n            private const val notifyId = 123456\r\n            private const val width = 384\r\n            private const val height = 292\r\n    \r\n            var openGlView: OpenGlView? = null\r\n        }\r\n    \r\n        val isStreaming: Boolean get() = endpoint != null\r\n    \r\n        private var endpoint: String? = null\r\n        private var rtmpUSB: RtmpUSB? = null\r\n        private var uvcCamera: UVCCamera? = null\r\n        private var usbMonitor: USBMonitor? = null\r\n        private val notificationManager: NotificationManager by lazy { getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager }\r\n    \r\n        override fun onCreate() {\r\n            super.onCreate()\r\n            Log.e(TAG, &quot;RTP service create&quot;)\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                val channel = NotificationChannel(channelId, channelId, NotificationManager.IMPORTANCE_HIGH)\r\n                notificationManager.createNotificationChannel(channel)\r\n            }\r\n            keepAliveTrick()\r\n        }\r\n    \r\n        private fun keepAliveTrick() {\r\n            if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.O) {\r\n                val notification = NotificationCompat.Builder(this, channelId)\r\n                    .setOngoing(true)\r\n                    .setContentTitle(&quot;&quot;)\r\n                    .setContentText(&quot;&quot;).build()\r\n                startForeground(1, notification)\r\n            } else {\r\n                startForeground(1, Notification())\r\n            }\r\n        }\r\n    \r\n        override fun onStartCommand(intent: Intent?, flags: Int, startId: Int): Int {\r\n            Log.e(TAG, &quot;RTP service started&quot;)\r\n            usbMonitor = USBMonitor(this, onDeviceConnectListener).apply {\r\n                register()\r\n            }\r\n            return START_STICKY\r\n        }\r\n    \r\n        private fun prepareStreamRtp() {\r\n            stopStream()\r\n            stopPreview()\r\n    \r\n            rtmpUSB = if (openGlView == null) {\r\n                RtmpUSB(this, connectCheckerRtmp)\r\n            } else {\r\n                RtmpUSB(openGlView, connectCheckerRtmp)\r\n            }\r\n        }\r\n    \r\n        fun startStreamRtp(endpoint: String): Boolean {\r\n            if (rtmpUSB?.isStreaming == false) {\r\n                this.endpoint = endpoint\r\n                if (rtmpUSB!!.prepareVideo(width, height, 30, 4000 * 1024, false, 0, uvcCamera) &amp;&amp; rtmpUSB!!.prepareAudio()) {\r\n                    rtmpUSB!!.startStream(uvcCamera, endpoint)\r\n                    return true\r\n                }\r\n            }\r\n            return false\r\n        }\r\n    \r\n        fun setView(view: OpenGlView) {\r\n            openGlView = view\r\n            rtmpUSB?.replaceView(openGlView, uvcCamera)\r\n        }\r\n    \r\n        fun setView(context: Context) {\r\n            openGlView = null\r\n            rtmpUSB?.replaceView(context, uvcCamera)\r\n        }\r\n    \r\n        fun startPreview() {\r\n            rtmpUSB?.startPreview(uvcCamera, width, height)\r\n        }\r\n    \r\n        private val connectCheckerRtmp = object : ConnectCheckerRtmp {\r\n            override fun onConnectionSuccessRtmp() {\r\n                showNotification(&quot;Stream started&quot;)\r\n                Log.e(TAG, &quot;RTP connection success&quot;)\r\n            }\r\n    \r\n        private val onDeviceConnectListener = object : USBMonitor.OnDeviceConnectListener {\r\n            override fun onAttach(device: UsbDevice?) {\r\n                usbMonitor!!.requestPermission(device)\r\n            }\r\n    \r\n            override fun onConnect(device: UsbDevice?, ctrlBlock: USBMonitor.UsbControlBlock?, createNew: Boolean) {\r\n                val camera = UVCCamera()\r\n                camera.open(ctrlBlock)\r\n                try {\r\n                    camera.setPreviewSize(width, height, UVCCamera.FRAME_FORMAT_YUYV)\r\n                } catch (e: IllegalArgumentException) {\r\n                    camera.destroy()\r\n                    try {\r\n                        camera.setPreviewSize(width, height, UVCCamera.DEFAULT_PREVIEW_MODE)\r\n                    } catch (e1: IllegalArgumentException) {\r\n                        return\r\n                    }\r\n                }\r\n                uvcCamera = camera\r\n                prepareStreamRtp()\r\n                rtmpUSB!!.startPreview(uvcCamera, width, height)\r\n                endpoint?.let { startStreamRtp(it) }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\nThe MainActivity that calls the stream service library to do the streaming:\r\n\r\n\r\n    import android.Manifest.permission.CAMERA\r\n    import android.Manifest.permission.READ_EXTERNAL_STORAGE\r\n    import android.Manifest.permission.RECORD_AUDIO\r\n    import android.Manifest.permission.WRITE_EXTERNAL_STORAGE\r\n    import android.content.ComponentName\r\n    import android.content.Context\r\n    import android.content.Intent\r\n    import android.content.ServiceConnection\r\n    import android.os.Bundle\r\n    import android.os.IBinder\r\n    import android.util.Log\r\n    import android.view.SurfaceHolder\r\n    import android.view.View\r\n    import android.widget.Button\r\n    import androidx.activity.viewModels\r\n    import androidx.appcompat.app.AppCompatActivity\r\n    import androidx.core.app.ActivityCompat.requestPermissions\r\n    import com.pedro.rtplibrary.view.OpenGlView\r\n    import dagger.hilt.android.AndroidEntryPoint\r\n    import dev.alejandrorosas.apptemplate.MainViewModel.ViewState\r\n    import dev.alejandrorosas.streamlib.StreamService\r\n    import org.opencv.android.OpenCVLoader\r\n    \r\n    @AndroidEntryPoint\r\n    class MainActivity : AppCompatActivity(R.layout.activity_main), SurfaceHolder.Callback, ServiceConnection {\r\n    \r\n        private val viewModel by viewModels&lt;MainViewModel&gt;()\r\n        private var mService: StreamService? = null\r\n    \r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            Log.d(&quot;OPENCV&quot;, &quot;OPENCV Loading Status ${OpenCVLoader.initDebug()}&quot;)\r\n    \r\n            super.onCreate(savedInstanceState)\r\n            StreamService.openGlView = findViewById(R.id.openglview)\r\n            startService(getServiceIntent())\r\n    \r\n            viewModel.serviceLiveEvent.observe(this) { mService?.let(it) }\r\n            viewModel.getViewState().observe(this) { render(it) }\r\n    \r\n            findViewById&lt;View&gt;(R.id.settings_button).setOnClickListener { startActivity(Intent(this, SettingsActivity::class.java)) }\r\n            findViewById&lt;OpenGlView&gt;(R.id.openglview).holder.addCallback(this)\r\n            findViewById&lt;Button&gt;(R.id.start_stop_stream).setOnClickListener { viewModel.onStreamControlButtonClick() }\r\n    \r\n            requestPermissions(this, arrayOf(READ_EXTERNAL_STORAGE, RECORD_AUDIO, CAMERA, WRITE_EXTERNAL_STORAGE), 1)\r\n        }\r\n    \r\n        private fun render(viewState: ViewState) {\r\n            findViewById&lt;Button&gt;(R.id.start_stop_stream).setText(viewState.streamButtonText)\r\n        }\r\n    \r\n        private fun getServiceIntent(): Intent {\r\n            return Intent(this, StreamService::class.java).also {\r\n                bindService(it, this, Context.BIND_AUTO_CREATE)\r\n            }\r\n        }\r\n    \r\n    \r\n        override fun surfaceChanged(holder: SurfaceHolder, p1: Int, p2: Int, p3: Int) {\r\n            mService?.let {\r\n                it.setView(findViewById&lt;OpenGlView&gt;(R.id.openglview))\r\n                it.startPreview()\r\n            }\r\n        }\r\n    \r\n    \r\n        override fun surfaceCreated(holder: SurfaceHolder) {\r\n        }\r\n    \r\n       }\r\n\r\n\r\nI implemented the native function that calls the frames from the USB camera as below in the [USBBase.Java][3]:\r\n\r\n\r\n \r\n\r\n     public void startPreview(final UVCCamera uvcCamera, int width, int height) {\r\n            Log.e(TAG, &quot;handleStartPreview:mUVCCamera&quot; + uvcCamera + &quot; mIsPreviewing:&quot;);\r\n            if ((uvcCamera == null)) return;\r\n            Log.e(TAG, &quot;handleStartPreview2 &quot;);\r\n            if (!isStreaming() &amp;&amp; !onPreview &amp;&amp; !(glInterface instanceof OffScreenGlThread)) {\r\n                uvcCamera.setFrameCallback(mIFrameCallback, UVCCamera.PIXEL_FORMAT_RGBX);\r\n                //uvcCamera.setValue(UVCCamera.CTRL_ZOOM_ABS, 0x8800);\r\n                glInterface.setEncoderSize(width, height);\r\n                glInterface.setRotation(0);\r\n                glInterface.start();\r\n                uvcCamera.setPreviewTexture(glInterface.getSurfaceTexture());\r\n                uvcCamera.startPreview();\r\n                onPreview = true;\r\n            } else {\r\n                Log.e(TAG, &quot;Streaming or preview started, ignored&quot;);\r\n            }\r\n        }\r\n\r\n        // grabs the frame from the camera\r\n        private byte[] FrameData = new byte[384 * 292 * 4];\r\n        private final IFrameCallback mIFrameCallback = new IFrameCallback() {\r\n            @Override\r\n            public void onFrame(final ByteBuffer frameData) {\r\n                Log.d(TAG, &quot;mIFrameCallback: onFrame------&quot;);\r\n                frameData.get(FrameData, 0, frameData.capacity());\r\n            }\r\n        };\r\n\r\n\r\nHowever, I don&#39;t understand if this what I got to process to have a viewable image being streamed from OpenGlView, or how can I process correctly the YUYV frame and then update my view.\r\n\r\nI would like to know how can i fix this green image being captured by my camera\r\n\r\n\r\n  [1]: https://github.com/alejandrorosas/android-uvc-rtmp-stream\r\n  [2]: https://i.stack.imgur.com/Vxjz9.png\r\n  [3]: https://github.com/alejandrorosas/android-uvc-rtmp-stream/blob/master/libraries/streamlib/src/main/java/dev/alejandrorosas/streamlib/USBBase.java\r\n","title":"Fixing green YUYV frame format being streamed using OpenGlView","body":"<p>I am using a library to do RTMP streaming from an USB/UVC camera in android. The library I am using is <a href=\"https://github.com/alejandrorosas/android-uvc-rtmp-stream\" rel=\"noreferrer\">this one</a>. This library works just fine for android USB cameras that are RGB. However, I am working with a thermal camera that has YUYV frame format, therefore the initial camera image is as below:</p>\n<p><a href=\"https://i.stack.imgur.com/Vxjz9.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Vxjz9.png\" alt=\"enter image description here\" /></a></p>\n<p>This image format is in YUV and needs some processing before the image is viewable. Therefore, I'd like to know how can I grab the frames from the camera, applying processing and then update the preview.</p>\n<p>My problem is that, when streaming from my device, the endpoint/device receiving the stream will also view this green image, as it needs some processing, and i don't know how to correct this in android.</p>\n<p>When connecting in Windows, I could process the image make it viewable by doing the following steps:</p>\n<pre><code>cap = cv2.VideoCapture(-1)\ncap.set(cv2.CAP_PROP_CONVERT_RGB, 0)\n\nwhile(True):\n    ret, frame = cap.read()\n    frame = frame.reshape(292, 384, 2)\n    # I would remove the last 4 extra rows\n    frame = frame[0:288, ...]\n    # Convert image to uint16\n    dt = np.dtype(('&lt;u2', [('x', np.uint8, 2]))\n    frame = frame.view(dtype=dt).astype(np.float32)\n    \n    cv2.imshow('frame', gray)\nif cv2.waiKey(1) &amp; 0xFF = ord('q'):\n    break\n</code></pre>\n<p>This would output a 16bit frame in greyscale</p>\n<p>Unfortunately, i do not have considerable experience with image processing on Android, so I am not sure if I must repeat the same steps done in Python, but on android or is there any alternative/easier way to fix the frames being streamed by the OpenGlView. The stream library uses a OpenGlView to display the frames</p>\n<pre><code>&lt;com.pedro.rtplibrary.view.OpenGlView\n    android:id=&quot;@+id/openglview&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    app:keepAspectRatio=&quot;true&quot;\n    /&gt;\n</code></pre>\n<p>This is the stream service that handles the camera detection</p>\n<pre><code>import android.app.Service\nimport android.content.Context\nimport android.content.Intent\nimport android.hardware.usb.UsbDevice\nimport android.os.Binder\nimport android.os.Build\nimport android.os.IBinder\nimport android.util.Log\nimport androidx.annotation.RequiresApi\nimport androidx.core.app.NotificationCompat\nimport com.pedro.rtplibrary.view.OpenGlView\nimport com.serenegiant.usb.USBMonitor\nimport com.serenegiant.usb.UVCCamera\nimport net.ossrs.rtmp.ConnectCheckerRtmp\n\n/**\n * Basic RTMP/RTSP service streaming implementation with camera2\n */\n@RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\nclass StreamService : Service() {\n    companion object {\n        private const val TAG = &quot;RtpService&quot;\n        private const val channelId = &quot;rtpStreamChannel&quot;\n        private const val notifyId = 123456\n        private const val width = 384\n        private const val height = 292\n\n        var openGlView: OpenGlView? = null\n    }\n\n    val isStreaming: Boolean get() = endpoint != null\n\n    private var endpoint: String? = null\n    private var rtmpUSB: RtmpUSB? = null\n    private var uvcCamera: UVCCamera? = null\n    private var usbMonitor: USBMonitor? = null\n    private val notificationManager: NotificationManager by lazy { getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager }\n\n    override fun onCreate() {\n        super.onCreate()\n        Log.e(TAG, &quot;RTP service create&quot;)\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            val channel = NotificationChannel(channelId, channelId, NotificationManager.IMPORTANCE_HIGH)\n            notificationManager.createNotificationChannel(channel)\n        }\n        keepAliveTrick()\n    }\n\n    private fun keepAliveTrick() {\n        if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.O) {\n            val notification = NotificationCompat.Builder(this, channelId)\n                .setOngoing(true)\n                .setContentTitle(&quot;&quot;)\n                .setContentText(&quot;&quot;).build()\n            startForeground(1, notification)\n        } else {\n            startForeground(1, Notification())\n        }\n    }\n\n    override fun onStartCommand(intent: Intent?, flags: Int, startId: Int): Int {\n        Log.e(TAG, &quot;RTP service started&quot;)\n        usbMonitor = USBMonitor(this, onDeviceConnectListener).apply {\n            register()\n        }\n        return START_STICKY\n    }\n\n    private fun prepareStreamRtp() {\n        stopStream()\n        stopPreview()\n\n        rtmpUSB = if (openGlView == null) {\n            RtmpUSB(this, connectCheckerRtmp)\n        } else {\n            RtmpUSB(openGlView, connectCheckerRtmp)\n        }\n    }\n\n    fun startStreamRtp(endpoint: String): Boolean {\n        if (rtmpUSB?.isStreaming == false) {\n            this.endpoint = endpoint\n            if (rtmpUSB!!.prepareVideo(width, height, 30, 4000 * 1024, false, 0, uvcCamera) &amp;&amp; rtmpUSB!!.prepareAudio()) {\n                rtmpUSB!!.startStream(uvcCamera, endpoint)\n                return true\n            }\n        }\n        return false\n    }\n\n    fun setView(view: OpenGlView) {\n        openGlView = view\n        rtmpUSB?.replaceView(openGlView, uvcCamera)\n    }\n\n    fun setView(context: Context) {\n        openGlView = null\n        rtmpUSB?.replaceView(context, uvcCamera)\n    }\n\n    fun startPreview() {\n        rtmpUSB?.startPreview(uvcCamera, width, height)\n    }\n\n    private val connectCheckerRtmp = object : ConnectCheckerRtmp {\n        override fun onConnectionSuccessRtmp() {\n            showNotification(&quot;Stream started&quot;)\n            Log.e(TAG, &quot;RTP connection success&quot;)\n        }\n\n    private val onDeviceConnectListener = object : USBMonitor.OnDeviceConnectListener {\n        override fun onAttach(device: UsbDevice?) {\n            usbMonitor!!.requestPermission(device)\n        }\n\n        override fun onConnect(device: UsbDevice?, ctrlBlock: USBMonitor.UsbControlBlock?, createNew: Boolean) {\n            val camera = UVCCamera()\n            camera.open(ctrlBlock)\n            try {\n                camera.setPreviewSize(width, height, UVCCamera.FRAME_FORMAT_YUYV)\n            } catch (e: IllegalArgumentException) {\n                camera.destroy()\n                try {\n                    camera.setPreviewSize(width, height, UVCCamera.DEFAULT_PREVIEW_MODE)\n                } catch (e1: IllegalArgumentException) {\n                    return\n                }\n            }\n            uvcCamera = camera\n            prepareStreamRtp()\n            rtmpUSB!!.startPreview(uvcCamera, width, height)\n            endpoint?.let { startStreamRtp(it) }\n        }\n    }\n}\n</code></pre>\n<p>The MainActivity that calls the stream service library to do the streaming:</p>\n<pre><code>import android.Manifest.permission.CAMERA\nimport android.Manifest.permission.READ_EXTERNAL_STORAGE\nimport android.Manifest.permission.RECORD_AUDIO\nimport android.Manifest.permission.WRITE_EXTERNAL_STORAGE\nimport android.content.ComponentName\nimport android.content.Context\nimport android.content.Intent\nimport android.content.ServiceConnection\nimport android.os.Bundle\nimport android.os.IBinder\nimport android.util.Log\nimport android.view.SurfaceHolder\nimport android.view.View\nimport android.widget.Button\nimport androidx.activity.viewModels\nimport androidx.appcompat.app.AppCompatActivity\nimport androidx.core.app.ActivityCompat.requestPermissions\nimport com.pedro.rtplibrary.view.OpenGlView\nimport dagger.hilt.android.AndroidEntryPoint\nimport dev.alejandrorosas.apptemplate.MainViewModel.ViewState\nimport dev.alejandrorosas.streamlib.StreamService\nimport org.opencv.android.OpenCVLoader\n\n@AndroidEntryPoint\nclass MainActivity : AppCompatActivity(R.layout.activity_main), SurfaceHolder.Callback, ServiceConnection {\n\n    private val viewModel by viewModels&lt;MainViewModel&gt;()\n    private var mService: StreamService? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        Log.d(&quot;OPENCV&quot;, &quot;OPENCV Loading Status ${OpenCVLoader.initDebug()}&quot;)\n\n        super.onCreate(savedInstanceState)\n        StreamService.openGlView = findViewById(R.id.openglview)\n        startService(getServiceIntent())\n\n        viewModel.serviceLiveEvent.observe(this) { mService?.let(it) }\n        viewModel.getViewState().observe(this) { render(it) }\n\n        findViewById&lt;View&gt;(R.id.settings_button).setOnClickListener { startActivity(Intent(this, SettingsActivity::class.java)) }\n        findViewById&lt;OpenGlView&gt;(R.id.openglview).holder.addCallback(this)\n        findViewById&lt;Button&gt;(R.id.start_stop_stream).setOnClickListener { viewModel.onStreamControlButtonClick() }\n\n        requestPermissions(this, arrayOf(READ_EXTERNAL_STORAGE, RECORD_AUDIO, CAMERA, WRITE_EXTERNAL_STORAGE), 1)\n    }\n\n    private fun render(viewState: ViewState) {\n        findViewById&lt;Button&gt;(R.id.start_stop_stream).setText(viewState.streamButtonText)\n    }\n\n    private fun getServiceIntent(): Intent {\n        return Intent(this, StreamService::class.java).also {\n            bindService(it, this, Context.BIND_AUTO_CREATE)\n        }\n    }\n\n\n    override fun surfaceChanged(holder: SurfaceHolder, p1: Int, p2: Int, p3: Int) {\n        mService?.let {\n            it.setView(findViewById&lt;OpenGlView&gt;(R.id.openglview))\n            it.startPreview()\n        }\n    }\n\n\n    override fun surfaceCreated(holder: SurfaceHolder) {\n    }\n\n   }\n</code></pre>\n<p>I implemented the native function that calls the frames from the USB camera as below in the <a href=\"https://github.com/alejandrorosas/android-uvc-rtmp-stream/blob/master/libraries/streamlib/src/main/java/dev/alejandrorosas/streamlib/USBBase.java\" rel=\"noreferrer\">USBBase.Java</a>:</p>\n<pre><code> public void startPreview(final UVCCamera uvcCamera, int width, int height) {\n        Log.e(TAG, &quot;handleStartPreview:mUVCCamera&quot; + uvcCamera + &quot; mIsPreviewing:&quot;);\n        if ((uvcCamera == null)) return;\n        Log.e(TAG, &quot;handleStartPreview2 &quot;);\n        if (!isStreaming() &amp;&amp; !onPreview &amp;&amp; !(glInterface instanceof OffScreenGlThread)) {\n            uvcCamera.setFrameCallback(mIFrameCallback, UVCCamera.PIXEL_FORMAT_RGBX);\n            //uvcCamera.setValue(UVCCamera.CTRL_ZOOM_ABS, 0x8800);\n            glInterface.setEncoderSize(width, height);\n            glInterface.setRotation(0);\n            glInterface.start();\n            uvcCamera.setPreviewTexture(glInterface.getSurfaceTexture());\n            uvcCamera.startPreview();\n            onPreview = true;\n        } else {\n            Log.e(TAG, &quot;Streaming or preview started, ignored&quot;);\n        }\n    }\n\n    // grabs the frame from the camera\n    private byte[] FrameData = new byte[384 * 292 * 4];\n    private final IFrameCallback mIFrameCallback = new IFrameCallback() {\n        @Override\n        public void onFrame(final ByteBuffer frameData) {\n            Log.d(TAG, &quot;mIFrameCallback: onFrame------&quot;);\n            frameData.get(FrameData, 0, frameData.capacity());\n        }\n    };\n</code></pre>\n<p>However, I don't understand if this what I got to process to have a viewable image being streamed from OpenGlView, or how can I process correctly the YUYV frame and then update my view.</p>\n<p>I would like to know how can i fix this green image being captured by my camera</p>\n"},{"tags":["java","csv","file-handling","filewriter","bufferedwriter"],"comments":[{"owner":{"account_id":25074638,"reputation":19,"user_id":18928178,"display_name":"Shyam Deshmukh"},"score":0,"creation_date":1650796949,"post_id":71987589,"comment_id":127202544,"body_markdown":"The table is seen properly in the &quot;this is how your post will look like&quot; section of the edit view. It seems it does not display correctly in the actual post. How do I fix that?","body":"The table is seen properly in the &quot;this is how your post will look like&quot; section of the edit view. It seems it does not display correctly in the actual post. How do I fix that?"},{"owner":{"account_id":3005837,"reputation":5552,"user_id":2550406,"accept_rate":88,"display_name":"lucidbrot"},"score":0,"creation_date":1650797067,"post_id":71987589,"comment_id":127202561,"body_markdown":"Just from a quick search, I don&#39;t actually know, what I notice is that [this answer](https://stackoverflow.com/a/1625263/2550406) uses a second argument `true` to `FileWriter`, which is called `append` [here](https://docs.oracle.com/javase/7/docs/api/java/io/FileWriter.html). Maybe your way is correct too, but worth checking whether this other way would work","body":"Just from a quick search, I don&#39;t actually know, what I notice is that <a href=\"https://stackoverflow.com/a/1625263/2550406\">this answer</a> uses a second argument <code>true</code> to <code>FileWriter</code>, which is called <code>append</code> <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/FileWriter.html\" rel=\"nofollow noreferrer\">here</a>. Maybe your way is correct too, but worth checking whether this other way would work"},{"owner":{"account_id":3005837,"reputation":5552,"user_id":2550406,"accept_rate":88,"display_name":"lucidbrot"},"score":0,"creation_date":1650797136,"post_id":71987589,"comment_id":127202579,"body_markdown":"Regarding the table, yes sadly the preview supports more markdown syntax than the actual view sometimes. I guess you can format it as a code block instead, then it does not look so broken. If it is relevant at all","body":"Regarding the table, yes sadly the preview supports more markdown syntax than the actual view sometimes. I guess you can format it as a code block instead, then it does not look so broken. If it is relevant at all"},{"owner":{"account_id":25074638,"reputation":19,"user_id":18928178,"display_name":"Shyam Deshmukh"},"score":0,"creation_date":1650797206,"post_id":71987589,"comment_id":127202592,"body_markdown":"Nah, the code formatted table is even worse!","body":"Nah, the code formatted table is even worse!"},{"owner":{"account_id":25074638,"reputation":19,"user_id":18928178,"display_name":"Shyam Deshmukh"},"score":1,"creation_date":1650797640,"post_id":71987589,"comment_id":127202674,"body_markdown":"@lucidbrot, the answer worked!","body":"@lucidbrot, the answer worked!"},{"owner":{"account_id":3005837,"reputation":5552,"user_id":2550406,"accept_rate":88,"display_name":"lucidbrot"},"score":0,"creation_date":1650797692,"post_id":71987589,"comment_id":127202684,"body_markdown":"That&#39;s wonderful! But also confusing to me then why your approach did not work. I haven&#39;t seen clear documentation about this yet. Maybe the bufferedwriter only `append()`ed to what it already knew, and since you recreate it everytime... shrug","body":"That&#39;s wonderful! But also confusing to me then why your approach did not work. I haven&#39;t seen clear documentation about this yet. Maybe the bufferedwriter only <code>append()</code>ed to what it already knew, and since you recreate it everytime... shrug"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1650798113,"post_id":71987589,"comment_id":127202760,"body_markdown":"The `append(...)` methods of a writer have nothing to do with appending to a file. They are an implementation of the `Appendable` interface, which has a specific use case in combination with `java.util.Formatter`.","body":"The <code>append(...)</code> methods of a writer have nothing to do with appending to a file. They are an implementation of the <code>Appendable</code> interface, which has a specific use case in combination with <code>java.util.Formatter</code>."},{"owner":{"account_id":11660265,"reputation":1970,"user_id":11930602,"display_name":"kesarling He-Him"},"score":1,"creation_date":1650798158,"post_id":71987589,"comment_id":127202775,"body_markdown":"@lucidbrot, its simple. The `FileWriter` as the name suggests, is used primarily for writing  to a file rather than appending to a file. It creates a new file irrespective of whether the file is present unless exclusively asked not to.","body":"@lucidbrot, its simple. The <code>FileWriter</code> as the name suggests, is used primarily for writing  to a file rather than appending to a file. It creates a new file irrespective of whether the file is present unless exclusively asked not to."}],"owner":{"account_id":25074638,"reputation":19,"user_id":18928178,"display_name":"Shyam Deshmukh"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1650797618,"answer_count":0,"score":1,"last_activity_date":1650797620,"creation_date":1650796665,"question_id":71987589,"body_markdown":"I am new to file handling in Java. My input file is a csv file with a number of columns. My objective is to create a new file each time I encounter a different value in the input .csv file and append to it if the file already exists but the file is being overwritten instead, which is apparent by keeping watch over the file size when the program is running.\r\n\r\n----------\r\n\r\nExample Input File:  \r\n  \r\n```\r\n100, 1000\r\n200, 2000\r\n200, 3000\r\n300, 4000\r\n```\r\n\r\nExample Output Files (Expected):  \r\n100.csv:\r\n```\r\n100,1000\r\n```\r\n\r\n\r\n200.csv:\r\n```\r\n200, 2000\r\n200, 3000\r\n```\r\n\r\n300.csv:  \r\n```\r\n300, 4000\r\n```\r\n \r\n\r\nExample Output Files (Actual):  \r\n\r\n\r\n100.csv:\r\n```\r\n100, 1000\r\n```\r\n\r\n\r\n200.csv:\r\n```\r\n200,3000\r\n```\r\n\r\n300.csv:  \r\n```\r\n300,4000\r\n```\r\n \r\n\r\nCode:\r\n```lang-java\r\npublic class App {\r\n    public static void main(String[] args) throws Exception {\r\n        \r\n        List&lt;File&gt; filesInFolder = Files.walk(Paths.get(&quot;D:/java-projects/task_usage&quot;))\r\n        .filter(Files::isRegularFile)\r\n        .map(Path::toFile)\r\n        .collect(Collectors.toList());\r\n        for(File file : filesInFolder) {\r\n            Sheet sheet = new Sheet();\r\n            String inputFile = file.getAbsolutePath();\r\n\r\n            BufferedReader br = new BufferedReader(new FileReader(inputFile));\r\n            String line = &quot;&quot;;\r\n            while ((line = br.readLine()) != null) {\r\n                sheet.add(line.split(&quot;,&quot;));\r\n            }\r\n            br.close();\r\n\r\n            for(String[] row : sheet.getSheet()) {\r\n                String outputFile = &quot;H:/Files/&quot; + row[3] + &quot;.csv&quot;;\r\n                BufferedWriter bw = new BufferedWriter(new FileWriter(outputFile));\r\n                bw.append(String.join(&quot;,&quot;, row));\r\n                bw.append(&quot;\\n&quot;);\r\n                bw.close();\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\npublic class Sheet {\r\n\tprivate List&lt;String[]&gt; sheet = null;\r\n\r\n\tpublic Sheet() {\r\n\t\tsheet = new ArrayList&lt;&gt;();\r\n\t}\r\n\r\n\t// adds a new row to the sheet\r\n\tpublic Boolean add(String[] row) {\r\n\t\tLong diff = Long.parseLong(row[1]) - Long.parseLong(row[0]);\r\n\t\tString[] newRow = new String[row.length + 1];\r\n\t\tnewRow[0] = diff + &quot;&quot;;\r\n\t\tfor(Integer i = 1, j = 0; j &lt; row.length; i++) {\r\n\t\t\tnewRow[i] = row[j++];\r\n\t\t}\r\n\t\treturn this.sheet.add(newRow);\r\n\t}\r\n\r\n\t// retrieves a row from the sheet\r\n\tpublic String[] get(Integer index) {\r\n\t\treturn this.sheet.get(index);\r\n\t}\r\n\r\n\tpublic void setSheet(List&lt;String[]&gt; sheet) {\r\n\t\tthis.sheet = sheet;\r\n\t}\r\n\r\n\tpublic List&lt;String[]&gt; getSheet() {\r\n\t\treturn this.sheet;\r\n\t}\r\n\r\n}\r\n\r\n\r\n\r\npublic class SheetSorter {\r\n\r\n\t// sorts the sheet\r\n\tpublic static Sheet sortSheet(Sheet sheet) {\r\n\t\tList&lt;String[]&gt; list = sheet.getSheet().stream().collect(Collectors.toList());\r\n\t\tCollections.sort(list, new Comparator&lt;String[]&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic int compare(String[] arr1, String[] arr2) {\r\n\t\t\t\tif (Long.parseLong(arr1[3]) == Long.parseLong(arr2[3])) {\r\n\t\t\t\t\treturn (int) (Long.parseLong(arr1[4]) - Long.parseLong(arr2[4]));\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\treturn (int) (Long.parseLong(arr1[3]) - Long.parseLong(arr2[3]));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tsheet.setSheet(list);\r\n\t\treturn sheet;\r\n\t}\r\n}\r\n```\r\n\r\nWhere have I gone wrong?\r\n\r\n ","title":"Why is my Java program creating a new file every time I call append?","body":"<p>I am new to file handling in Java. My input file is a csv file with a number of columns. My objective is to create a new file each time I encounter a different value in the input .csv file and append to it if the file already exists but the file is being overwritten instead, which is apparent by keeping watch over the file size when the program is running.</p>\n<hr />\n<p>Example Input File:</p>\n<pre><code>100, 1000\n200, 2000\n200, 3000\n300, 4000\n</code></pre>\n<p>Example Output Files (Expected):<br />\n100.csv:</p>\n<pre><code>100,1000\n</code></pre>\n<p>200.csv:</p>\n<pre><code>200, 2000\n200, 3000\n</code></pre>\n<p>300.csv:</p>\n<pre><code>300, 4000\n</code></pre>\n<p>Example Output Files (Actual):</p>\n<p>100.csv:</p>\n<pre><code>100, 1000\n</code></pre>\n<p>200.csv:</p>\n<pre><code>200,3000\n</code></pre>\n<p>300.csv:</p>\n<pre><code>300,4000\n</code></pre>\n<p>Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class App {\n    public static void main(String[] args) throws Exception {\n        \n        List&lt;File&gt; filesInFolder = Files.walk(Paths.get(&quot;D:/java-projects/task_usage&quot;))\n        .filter(Files::isRegularFile)\n        .map(Path::toFile)\n        .collect(Collectors.toList());\n        for(File file : filesInFolder) {\n            Sheet sheet = new Sheet();\n            String inputFile = file.getAbsolutePath();\n\n            BufferedReader br = new BufferedReader(new FileReader(inputFile));\n            String line = &quot;&quot;;\n            while ((line = br.readLine()) != null) {\n                sheet.add(line.split(&quot;,&quot;));\n            }\n            br.close();\n\n            for(String[] row : sheet.getSheet()) {\n                String outputFile = &quot;H:/Files/&quot; + row[3] + &quot;.csv&quot;;\n                BufferedWriter bw = new BufferedWriter(new FileWriter(outputFile));\n                bw.append(String.join(&quot;,&quot;, row));\n                bw.append(&quot;\\n&quot;);\n                bw.close();\n            }\n        }\n    }\n}\n\n\npublic class Sheet {\n    private List&lt;String[]&gt; sheet = null;\n\n    public Sheet() {\n        sheet = new ArrayList&lt;&gt;();\n    }\n\n    // adds a new row to the sheet\n    public Boolean add(String[] row) {\n        Long diff = Long.parseLong(row[1]) - Long.parseLong(row[0]);\n        String[] newRow = new String[row.length + 1];\n        newRow[0] = diff + &quot;&quot;;\n        for(Integer i = 1, j = 0; j &lt; row.length; i++) {\n            newRow[i] = row[j++];\n        }\n        return this.sheet.add(newRow);\n    }\n\n    // retrieves a row from the sheet\n    public String[] get(Integer index) {\n        return this.sheet.get(index);\n    }\n\n    public void setSheet(List&lt;String[]&gt; sheet) {\n        this.sheet = sheet;\n    }\n\n    public List&lt;String[]&gt; getSheet() {\n        return this.sheet;\n    }\n\n}\n\n\n\npublic class SheetSorter {\n\n    // sorts the sheet\n    public static Sheet sortSheet(Sheet sheet) {\n        List&lt;String[]&gt; list = sheet.getSheet().stream().collect(Collectors.toList());\n        Collections.sort(list, new Comparator&lt;String[]&gt;() {\n            @Override\n            public int compare(String[] arr1, String[] arr2) {\n                if (Long.parseLong(arr1[3]) == Long.parseLong(arr2[3])) {\n                    return (int) (Long.parseLong(arr1[4]) - Long.parseLong(arr2[4]));\n                }\n                else {\n                    return (int) (Long.parseLong(arr1[3]) - Long.parseLong(arr2[3]));\n                }\n            }\n        });\n        sheet.setSheet(list);\n        return sheet;\n    }\n}\n</code></pre>\n<p>Where have I gone wrong?</p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":1,"creation_date":1650795842,"post_id":71987465,"comment_id":127202350,"body_markdown":"please [edit] and share the full exception. Also share the table definition","body":"please <a href=\"https://stackoverflow.com/posts/71987465/edit\">edit</a> and share the full exception. Also share the table definition"},{"owner":{"account_id":24820690,"reputation":21,"user_id":18701066,"display_name":"MicroDart"},"score":0,"creation_date":1650796437,"post_id":71987465,"comment_id":127202446,"body_markdown":"As I remember it said &quot;Duplicate entry &#39;1&#39;for key &#39;PRIMARY&#39;&quot;.\nSorry but I&#39;ve deleted the table from my database.","body":"As I remember it said &quot;Duplicate entry &#39;1&#39;for key &#39;PRIMARY&#39;&quot;. Sorry but I&#39;ve deleted the table from my database."}],"answers":[{"tags":[],"owner":{"account_id":2579581,"reputation":761,"user_id":2236549,"accept_rate":29,"display_name":"Subha Chandra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650796425,"creation_date":1650796425,"answer_id":71987555,"question_id":71987465,"body_markdown":"Create a sequence in database and pass that sequence name in insert query.","title":"How to add an integer value from a variable to an auto-incremental primary key field in a MySQL database?","body":"<p>Create a sequence in database and pass that sequence name in insert query.</p>\n"},{"tags":[],"owner":{"account_id":24820690,"reputation":21,"user_id":18701066,"display_name":"MicroDart"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650797164,"creation_date":1650797164,"answer_id":71987654,"question_id":71987465,"body_markdown":"Thank you anyway, I solved it by removing the x variable and the first parameter in my query.","title":"How to add an integer value from a variable to an auto-incremental primary key field in a MySQL database?","body":"<p>Thank you anyway, I solved it by removing the x variable and the first parameter in my query.</p>\n"}],"owner":{"account_id":24820690,"reputation":21,"user_id":18701066,"display_name":"MicroDart"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1650797164,"creation_date":1650795590,"question_id":71987465,"body_markdown":"Here is what I vainly tried to do:\r\n\r\n            int x = 0;\r\n\r\n            PreparedStatement ps;\r\n            String query = &quot;INSERT INTO staff VALUES (?,?,?,?,?,?)&quot;; \r\n\r\n            try {\r\n                \r\n                ps = ConnectDb.getConnection().prepareStatement(query);\r\n                x++;\r\n\r\n                //ps.setInt(1, x);\r\n                ps.setString(2, nameTxt.getText());  \r\n                ps.setString(3, emailTxt.getText());\r\n                ps.setString(4, address.getText());  \r\n                ps.setString(5, phone.getText());  \r\n                ps.setString(6, genderCb.getSelectedItem().toString());\r\n                \r\n                ps.execute();\r\n                \r\n                if (x &gt; 0) {\r\n                JOptionPane.showMessageDialog(null, &quot;Staff added successfully&quot;);\r\n                }\r\n\r\n                } catch (Exception ex) {\r\n                     JOptionPane.showMessageDialog(null,ex,&quot;Error: Staff not added!&quot;,JOptionPane.ERROR_MESSAGE);\r\n                     frm.setVisible(true);\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n\r\nHow can I continuously add record to the database without getting any exception on the auto-incremental primary key (e.g StaffID)?\r\n\r\n","title":"How to add an integer value from a variable to an auto-incremental primary key field in a MySQL database?","body":"<p>Here is what I vainly tried to do:</p>\n<pre><code>        int x = 0;\n\n        PreparedStatement ps;\n        String query = &quot;INSERT INTO staff VALUES (?,?,?,?,?,?)&quot;; \n\n        try {\n            \n            ps = ConnectDb.getConnection().prepareStatement(query);\n            x++;\n\n            //ps.setInt(1, x);\n            ps.setString(2, nameTxt.getText());  \n            ps.setString(3, emailTxt.getText());\n            ps.setString(4, address.getText());  \n            ps.setString(5, phone.getText());  \n            ps.setString(6, genderCb.getSelectedItem().toString());\n            \n            ps.execute();\n            \n            if (x &gt; 0) {\n            JOptionPane.showMessageDialog(null, &quot;Staff added successfully&quot;);\n            }\n\n            } catch (Exception ex) {\n                 JOptionPane.showMessageDialog(null,ex,&quot;Error: Staff not added!&quot;,JOptionPane.ERROR_MESSAGE);\n                 frm.setVisible(true);\n            }\n\n        }\n\n    }\n</code></pre>\n<p>How can I continuously add record to the database without getting any exception on the auto-incremental primary key (e.g StaffID)?</p>\n"},{"tags":["java","scylla"],"owner":{"account_id":23937148,"reputation":21,"user_id":17930758,"display_name":"Min Liu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1650796724,"creation_date":1650796724,"question_id":71987595,"body_markdown":"I have read [the doc][1] of Scylla CDC and [the Java Demo][2]. After unremitting efforts in local code debugging but did not find how to save the CDC consumption offset. When my service is restarted, I will consume from the starting point, which makes me very confused.\r\n\r\nThis is my local Java Code \r\n\r\n```\r\npublic static void main(String[] args) {\r\n        RawChangeConsumerProvider changeConsumerProvider = threadId -&gt; {\r\n            RawChangeConsumer changeConsumer = change -&gt; {\r\n                if (change.getOperationType().equals(RawChange.OperationType.ROW_INSERT)) {\r\n                    ChangeId changeId = change.getId();\r\n                    StreamId streamId = changeId.getStreamId();\r\n                    ChangeTime changeTime = changeId.getChangeTime();\r\n                    System.out.println(&quot;-------- change ------------ ttl is &quot; + change.getTTL() + &quot;, changeId is &quot; + changeId + &quot;, streamId  is &quot; + streamId + &quot;,changeTime is &quot; + changeTime);\r\n                }\r\n\r\n                return CompletableFuture.completedFuture(null);\r\n            };\r\n            return changeConsumer;\r\n        };\r\n\r\n        try (CDCConsumer consumer = CDCConsumer.builder()\r\n                .addContactPoint(&quot;127.0.0.1&quot;, 9042)\r\n                .withCredentials(&quot;cassandra&quot;, &quot;cassandra&quot;)\r\n                .addTable(new TableName(&quot;cds&quot;, &quot;outbox_event&quot;))\r\n                .withConsumerProvider(changeConsumerProvider)\r\n                .withWorkersCount(1)\r\n                .withSleepBeforeFirstGenerationMs(500)\r\n                //.withQueryTimeWindowSizeMs(5000)\r\n                .withConfidenceWindowSizeMs(500)\r\n                .build()) {\r\n\r\n            consumer.start();\r\n            CountDownLatch terminationLatch = new CountDownLatch(1);\r\n            Signal.handle(new Signal(&quot;INT&quot;), signal -&gt; terminationLatch.countDown());\r\n            terminationLatch.await();\r\n        } catch (InterruptedException ex) {\r\n            System.err.println(&quot;Exception occurred while running the Printer: &quot; + ex.getMessage());\r\n        }\r\n\r\n    }\r\n```\r\n\r\n  [1]: https://docs.scylladb.com/using-scylla/cdc/\r\n  [2]: https://github.com/scylladb/scylla-cdc-java/blob/master/scylla-cdc-printer/src/main/java/com/scylladb/cdc/printer/Main.java\r\n  [3]: https://i.stack.imgur.com/wTPI7.png","title":"How can I save the offset of ScyllaDB CDC after consumption?","body":"<p>I have read <a href=\"https://docs.scylladb.com/using-scylla/cdc/\" rel=\"nofollow noreferrer\">the doc</a> of Scylla CDC and <a href=\"https://github.com/scylladb/scylla-cdc-java/blob/master/scylla-cdc-printer/src/main/java/com/scylladb/cdc/printer/Main.java\" rel=\"nofollow noreferrer\">the Java Demo</a>. After unremitting efforts in local code debugging but did not find how to save the CDC consumption offset. When my service is restarted, I will consume from the starting point, which makes me very confused.</p>\n<p>This is my local Java Code</p>\n<pre><code>public static void main(String[] args) {\n        RawChangeConsumerProvider changeConsumerProvider = threadId -&gt; {\n            RawChangeConsumer changeConsumer = change -&gt; {\n                if (change.getOperationType().equals(RawChange.OperationType.ROW_INSERT)) {\n                    ChangeId changeId = change.getId();\n                    StreamId streamId = changeId.getStreamId();\n                    ChangeTime changeTime = changeId.getChangeTime();\n                    System.out.println(&quot;-------- change ------------ ttl is &quot; + change.getTTL() + &quot;, changeId is &quot; + changeId + &quot;, streamId  is &quot; + streamId + &quot;,changeTime is &quot; + changeTime);\n                }\n\n                return CompletableFuture.completedFuture(null);\n            };\n            return changeConsumer;\n        };\n\n        try (CDCConsumer consumer = CDCConsumer.builder()\n                .addContactPoint(&quot;127.0.0.1&quot;, 9042)\n                .withCredentials(&quot;cassandra&quot;, &quot;cassandra&quot;)\n                .addTable(new TableName(&quot;cds&quot;, &quot;outbox_event&quot;))\n                .withConsumerProvider(changeConsumerProvider)\n                .withWorkersCount(1)\n                .withSleepBeforeFirstGenerationMs(500)\n                //.withQueryTimeWindowSizeMs(5000)\n                .withConfidenceWindowSizeMs(500)\n                .build()) {\n\n            consumer.start();\n            CountDownLatch terminationLatch = new CountDownLatch(1);\n            Signal.handle(new Signal(&quot;INT&quot;), signal -&gt; terminationLatch.countDown());\n            terminationLatch.await();\n        } catch (InterruptedException ex) {\n            System.err.println(&quot;Exception occurred while running the Printer: &quot; + ex.getMessage());\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":18159434,"reputation":300,"user_id":13211030,"display_name":"Fullslack"},"score":0,"creation_date":1605510100,"post_id":64853824,"comment_id":114661909,"body_markdown":"Ctrl+shift+p -&gt; select javadoc generator","body":"Ctrl+shift+p -&gt; select javadoc generator"},{"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"score":0,"creation_date":1605594206,"post_id":64853824,"comment_id":114690807,"body_markdown":"Press Ctrl and click a function or class can go into its `.class` file. If there&#39;re comments before code, the extension **Language Support for Java(TM) by Red Hat** will get them and when you hover up the function or class in `.java` file, the comment or we can call them docs will be displayed in a block, so when you go into .class, are there any comments or docs there?","body":"Press Ctrl and click a function or class can go into its <code>.class</code> file. If there&#39;re comments before code, the extension <b>Language Support for Java(TM) by Red Hat</b> will get them and when you hover up the function or class in <code>.java</code> file, the comment or we can call them docs will be displayed in a block, so when you go into .class, are there any comments or docs there?"}],"answers":[{"tags":[],"owner":{"account_id":7227100,"reputation":2697,"user_id":5515287,"display_name":"Mustafa Poya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1605517575,"creation_date":1605512796,"answer_id":64854245,"question_id":64853824,"body_markdown":"to view the Java documentation in Visual Studio Code to you can do it by the following ways:\r\n\r\n1. mouse hover elements which you want to lookup\r\n2. after short version appears, press &lt;kbd&gt;ctrl&lt;/kbd&gt; key twice (if you press &lt;kbd&gt;ctrl&lt;/kbd&gt; key once, the long version documentation appears as long as you hold the &lt;kbd&gt;ctrl&lt;/kbd&gt; key)\r\n\r\n**`NOTE: `** if it didn&#39;t work you need to install the java extension path in your visual studio code which the extension id is: `@id:vscjava.vscode-java-pack`\r\n\r\n[![visual studio code with Java code and related Java extension][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wiW96.png","title":"Java shortcut in VSCode to open JavaDocs","body":"<p>to view the Java documentation in Visual Studio Code to you can do it by the following ways:</p>\n<ol>\n<li>mouse hover elements which you want to lookup</li>\n<li>after short version appears, press <kbd>ctrl</kbd> key twice (if you press <kbd>ctrl</kbd> key once, the long version documentation appears as long as you hold the <kbd>ctrl</kbd> key)</li>\n</ol>\n<p><strong><code>NOTE: </code></strong> if it didn't work you need to install the java extension path in your visual studio code which the extension id is: <code>@id:vscjava.vscode-java-pack</code></p>\n<p><a href=\"https://i.stack.imgur.com/wiW96.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wiW96.png\" alt=\"visual studio code with Java code and related Java extension\" /></a></p>\n"},{"tags":[],"owner":{"account_id":17983057,"reputation":1072,"user_id":13068918,"display_name":"Sheng Chen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606446517,"creation_date":1606446517,"answer_id":65031610,"question_id":64853824,"body_markdown":"VS Code have such capability but you may need to set a keyboard shortcut first. First go to the configure page:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nSearch `Show Definition Preview Hover`, you will see it, and just set a shortcut whatever you want:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8V5kt.png\r\n  [2]: https://i.stack.imgur.com/PXZc0.png","title":"Java shortcut in VSCode to open JavaDocs","body":"<p>VS Code have such capability but you may need to set a keyboard shortcut first. First go to the configure page:</p>\n<p><a href=\"https://i.stack.imgur.com/8V5kt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8V5kt.png\" alt=\"enter image description here\" /></a></p>\n<p>Search <code>Show Definition Preview Hover</code>, you will see it, and just set a shortcut whatever you want:</p>\n<p><a href=\"https://i.stack.imgur.com/PXZc0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PXZc0.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":8661996,"reputation":81,"user_id":6483989,"display_name":"Manoj Baishya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622443960,"creation_date":1622443960,"answer_id":67769095,"question_id":64853824,"body_markdown":"If you would like to view documentation in a separate panel, there is an extension called [Docs View](https://marketplace.visualstudio.com/items?itemName=bierner.docs-view). Simply set shortcuts for ```docsView.documentation.focus``` and ```workbench.action.togglePanel```, position the cursor over the class, attribute or method and press the shortcut. Other useful commands are ```editor.action.showHover``` and ```editor.action.showDefinitionPreviewHover```.\r\n\r\n![docs-view-preview](https://user-images.githubusercontent.com/28330014/120148937-9c220680-c206-11eb-9527-b0faabe74461.png)\r\n\r\n","title":"Java shortcut in VSCode to open JavaDocs","body":"<p>If you would like to view documentation in a separate panel, there is an extension called <a href=\"https://marketplace.visualstudio.com/items?itemName=bierner.docs-view\" rel=\"nofollow noreferrer\">Docs View</a>. Simply set shortcuts for <code>docsView.documentation.focus</code> and <code>workbench.action.togglePanel</code>, position the cursor over the class, attribute or method and press the shortcut. Other useful commands are <code>editor.action.showHover</code> and <code>editor.action.showDefinitionPreviewHover</code>.</p>\n<p><img src=\"https://user-images.githubusercontent.com/28330014/120148937-9c220680-c206-11eb-9527-b0faabe74461.png\" alt=\"docs-view-preview\" /></p>\n"},{"tags":[],"owner":{"account_id":185850,"reputation":336,"user_id":422827,"accept_rate":50,"display_name":"arik"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1650796542,"creation_date":1650796542,"answer_id":71987575,"question_id":64853824,"body_markdown":"There is an extension calls \r\n\r\n[Docs View][1]\r\nwhich show you the docs in separate vs code window\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://marketplace.visualstudio.com/items?itemName=bierner.docs-view\r\n  [2]: https://i.stack.imgur.com/D8Rrg.png","title":"Java shortcut in VSCode to open JavaDocs","body":"<p>There is an extension calls</p>\n<p><a href=\"https://marketplace.visualstudio.com/items?itemName=bierner.docs-view\" rel=\"nofollow noreferrer\">Docs View</a>\nwhich show you the docs in separate vs code window</p>\n<p><a href=\"https://i.stack.imgur.com/D8Rrg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D8Rrg.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":8023096,"reputation":61,"user_id":6051127,"display_name":"Elmu Ezz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8461,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1650796542,"creation_date":1605509961,"question_id":64853824,"body_markdown":"In Intellij the shortcut for showing official Javadoc is `CTRL+q`.\r\nAny shortcut to do this in VSCode?","title":"Java shortcut in VSCode to open JavaDocs","body":"<p>In Intellij the shortcut for showing official Javadoc is <code>CTRL+q</code>.\nAny shortcut to do this in VSCode?</p>\n"},{"tags":["java","html","post"],"answers":[{"tags":[],"owner":{"account_id":369687,"reputation":56616,"user_id":717214,"accept_rate":86,"display_name":"Aleks G"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1317204731,"creation_date":1317204731,"answer_id":7581609,"question_id":7581550,"body_markdown":"You may want to consider using [HttpClient library from Apache][1].  It&#39;s got `HttpPost` class, which is very easy to use.\r\n\r\n\r\n  [1]: http://hc.apache.org/httpcomponents-client-ga/","title":"How to send post form with java?","body":"<p>You may want to consider using <a href=\"http://hc.apache.org/httpcomponents-client-ga/\" rel=\"nofollow\">HttpClient library from Apache</a>.  It's got <code>HttpPost</code> class, which is very easy to use.</p>\n"},{"tags":[],"owner":{"account_id":76179,"reputation":1715,"user_id":218275,"accept_rate":97,"display_name":"Aloong"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1650796235,"creation_date":1317204926,"answer_id":7581649,"question_id":7581550,"body_markdown":"Apache&#39;s [HttpClient][1] project will handle this better for you.\r\n\r\nor you can try this code:  \r\n\r\n```java\r\n// Using java.net.URL and  \r\n    //java.net.URLConnection  \r\n    URL url = new URL(&quot;http://jobsearch.dice.com/jobsearch/jobsearch.cgi&quot;);   \r\n    URLConnection connection = url.openConnection();\r\n    connection.setDoOutput(true);  \r\n    OutputStreamWriter out = new OutputStreamWriter(uc.getOutputStream(), &quot;8859_1&quot;);   \r\n    out.write(&quot;username=bob&amp;password=&quot;+password+&quot;&quot;);   \r\n    // remember to clean up   \r\n    out.flush();   \r\n    out.close();\r\n```\r\n\r\n\r\n  [1]: http://hc.apache.org/httpclient-3.x/","title":"How to send post form with java?","body":"<p>Apache's <a href=\"http://hc.apache.org/httpclient-3.x/\" rel=\"nofollow noreferrer\">HttpClient</a> project will handle this better for you.</p>\n<p>or you can try this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Using java.net.URL and  \n    //java.net.URLConnection  \n    URL url = new URL(&quot;http://jobsearch.dice.com/jobsearch/jobsearch.cgi&quot;);   \n    URLConnection connection = url.openConnection();\n    connection.setDoOutput(true);  \n    OutputStreamWriter out = new OutputStreamWriter(uc.getOutputStream(), &quot;8859_1&quot;);   \n    out.write(&quot;username=bob&amp;password=&quot;+password+&quot;&quot;);   \n    // remember to clean up   \n    out.flush();   \n    out.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":82939,"reputation":8206,"user_id":232867,"accept_rate":44,"display_name":"Satya"},"down_vote_count":1,"up_vote_count":29,"is_accepted":true,"score":28,"last_activity_date":1479168896,"creation_date":1317207002,"answer_id":7582061,"question_id":7581550,"body_markdown":"You can write code similar to this :\r\n     \r\n     import org.apache.commons.httpclient.HttpClient;\r\n     import org.apache.commons.httpclient.HttpException;\r\n     import org.apache.commons.httpclient.HttpStatus;\r\n     import org.apache.commons.httpclient.methods.PostMethod;\r\n     import org.apache.http.impl.client.HttpClients;\r\n\r\n    public class PostReqEx {\r\n\r\n  \t  public void sendReq(String url,String email,String fname){\r\n\t\tHttpClient httpClient = HttpClients.createDefault();\r\n\t\tPostMethod postMethod = new PostMethod(url);\r\n\t\tpostMethod.addParameter(&quot;Email&quot;, email);\r\n\t\tpostMethod.addParameter(&quot;fname&quot;, fname);\r\n\t\ttry {\r\n\t\t\thttpClient.executeMethod(postMethod);\r\n\t\t} catch (HttpException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\tif (postMethod.getStatusCode() == HttpStatus.SC_OK) {\r\n\t\t    String resp = postMethod.getResponseBodyAsString();\r\n\t\t} else {\r\n\t\t     //...postMethod.getStatusLine();\r\n\t\t}\r\n\t  }\r\n    }","title":"How to send post form with java?","body":"<p>You can write code similar to this :</p>\n\n<pre><code> import org.apache.commons.httpclient.HttpClient;\n import org.apache.commons.httpclient.HttpException;\n import org.apache.commons.httpclient.HttpStatus;\n import org.apache.commons.httpclient.methods.PostMethod;\n import org.apache.http.impl.client.HttpClients;\n\npublic class PostReqEx {\n\n  public void sendReq(String url,String email,String fname){\n    HttpClient httpClient = HttpClients.createDefault();\n    PostMethod postMethod = new PostMethod(url);\n    postMethod.addParameter(\"Email\", email);\n    postMethod.addParameter(\"fname\", fname);\n    try {\n        httpClient.executeMethod(postMethod);\n    } catch (HttpException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    if (postMethod.getStatusCode() == HttpStatus.SC_OK) {\n        String resp = postMethod.getResponseBodyAsString();\n    } else {\n         //...postMethod.getStatusLine();\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3739315,"reputation":11,"user_id":3109444,"display_name":"ToBeBetter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571989997,"creation_date":1571989997,"answer_id":58554382,"question_id":7581550,"body_markdown":"It&#39;s easy to use unirest . \r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.konghq&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;unirest-java&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.02&lt;/version&gt;\r\n\t\t&lt;classifier&gt;standalone&lt;/classifier&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n    \t\t\r\n\r\n    Unirest.config().verifySsl(false);\r\n    \t\tHttpResponse response = Unirest.post(&quot;http://127.0.0.1&quot;)\r\n    \t\t\t\t.field(&quot;timestamp&quot;, &quot;1571971524&quot;)\r\n    \t\t\t\t.field(&quot;appId&quot;, &quot;xxx&quot;)\r\n    \t\t\t\t.field(&quot;sign&quot;, &quot;3e345613c687110ebf437da23ad5a13f&quot;)\r\n    \t\t\t\t.asString();","title":"How to send post form with java?","body":"<p>It's easy to use unirest . </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.konghq&lt;/groupId&gt;\n    &lt;artifactId&gt;unirest-java&lt;/artifactId&gt;\n    &lt;version&gt;3.1.02&lt;/version&gt;\n    &lt;classifier&gt;standalone&lt;/classifier&gt;\n&lt;/dependency&gt;\n\n\n\nUnirest.config().verifySsl(false);\n        HttpResponse response = Unirest.post(\"http://127.0.0.1\")\n                .field(\"timestamp\", \"1571971524\")\n                .field(\"appId\", \"xxx\")\n                .field(\"sign\", \"3e345613c687110ebf437da23ad5a13f\")\n                .asString();\n</code></pre>\n"}],"owner":{"account_id":451722,"reputation":15865,"user_id":847773,"accept_rate":69,"display_name":"Borut Flis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87682,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":7582061,"answer_count":4,"score":20,"last_activity_date":1650796235,"creation_date":1317204425,"question_id":7581550,"body_markdown":"I would like to send a post form with java on a website. I came up with this, but I dont what to do next or if this is even the right way.\r\n\r\n    URL url = new URL(&quot;http://127.0.0.1&quot;);\r\n    URLConnection conn=url.openConnection();\r\n    conn.setDoOutput(true);\r\n    OutputStreamWriter wr = new OutputStreamWriter(conn.getOutputStream());\r\n    wr.write(data);\r\n\r\nthe post form looks like this.\r\n\r\n    &lt;form action=&quot;prikaz4.php&quot; method=&quot;post&quot;&gt;\r\n        &lt;select name=&quot;igralec&quot;/&gt;\r\n        &lt;option value=&quot;Kobe Bryant&quot;&gt;Kobe Bryant&lt;/option&gt;\r\n        &lt;option value=&quot;Dwayne Wade&quot;&gt;Dwayne Wade&lt;/option&gt;\r\n        &lt;input type=&quot;submit&quot; /&gt;\r\n    &lt;/form&gt;\r\n","title":"How to send post form with java?","body":"<p>I would like to send a post form with java on a website. I came up with this, but I dont what to do next or if this is even the right way.</p>\n\n<pre><code>URL url = new URL(\"http://127.0.0.1\");\nURLConnection conn=url.openConnection();\nconn.setDoOutput(true);\nOutputStreamWriter wr = new OutputStreamWriter(conn.getOutputStream());\nwr.write(data);\n</code></pre>\n\n<p>the post form looks like this.</p>\n\n<pre><code>&lt;form action=\"prikaz4.php\" method=\"post\"&gt;\n    &lt;select name=\"igralec\"/&gt;\n    &lt;option value=\"Kobe Bryant\"&gt;Kobe Bryant&lt;/option&gt;\n    &lt;option value=\"Dwayne Wade\"&gt;Dwayne Wade&lt;/option&gt;\n    &lt;input type=\"submit\" /&gt;\n&lt;/form&gt;\n</code></pre>\n"},{"tags":["java","mysql","prepared-statement","mysql-connector"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1650625163,"post_id":71967394,"comment_id":127168832,"body_markdown":"I think you should really be addressing the authors with these questions","body":"I think you should really be addressing the authors with these questions"}],"answers":[{"tags":[],"owner":{"account_id":25047490,"reputation":1,"user_id":18903759,"display_name":"Yuankai Xue"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650795580,"creation_date":1650795580,"answer_id":71987464,"question_id":71967394,"body_markdown":"This turns out to be a code bug in MySQL Connector/J after reaching out to the authors. I&#39;ve already reported the bug to the community. See https://bugs.mysql.com/bug.php?id=107107","title":"Redundant &quot;Reset stmt&quot; before &quot;Execute&quot; when setting useServerPrepStmts and cachePrepStmts to true in MySQL Connector/J","body":"<p>This turns out to be a code bug in MySQL Connector/J after reaching out to the authors. I've already reported the bug to the community. See <a href=\"https://bugs.mysql.com/bug.php?id=107107\" rel=\"nofollow noreferrer\">https://bugs.mysql.com/bug.php?id=107107</a></p>\n"}],"owner":{"account_id":25047490,"reputation":1,"user_id":18903759,"display_name":"Yuankai Xue"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650795580,"creation_date":1650623872,"question_id":71967394,"body_markdown":"I&#39;m using MySQL Connector/J (version 8.0.28) as the driver on client side. Following is part of my code for test purpose:\r\n```\r\nPreparedStatement ps = null;\r\nString url = &quot;jdbc:mysql://10.86.49.16:3306/test?useServerPrepStmts=true&amp;cachePrepStmts=true&quot;;\r\n...\r\nClass.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\nconn = DriverManager.getConnection(url, user, password);\r\nString sql = &quot;select * from test where id=?&quot;;\r\nfor (int i = 1; i &lt;= 3; i++) {\r\n    ps = conn.prepareStatement(sql);\r\n    ps.setInt(1, i);\r\n    ps.execute();\r\n    ps.close();\r\n}\r\n```\r\nWhen setting **&quot;useServerPrepStmts=true&quot; alone**, my general log looks like this:\r\n```\r\n6 Prepare   select * from test where id=?\r\n6 Execute   select * from test where id=1\r\n6 Close stmt\r\n6 Prepare   select * from test where id=?\r\n6 Execute   select * from test where id=2\r\n6 Close stmt\r\n6 Prepare   select * from test where id=?\r\n6 Execute   select * from test where id=3\r\n6 Close stmt\r\n```\r\nHowever after **enabling &quot;cachePrepStmts&quot; together**, the log becomes:\r\n```\r\n7 Prepare   select * from test where id=?\r\n7 Execute   select * from test where id=1\r\n7 Reset stmt\r\n7 Execute   select * from test where id=2\r\n7 Reset stmt\r\n7 Execute   select * from test where id=3\r\n```\r\nLooks like the prepared statement cache does take effect but there&#39;re **unexpected &quot;Reset stmt&quot; which cause extra round-trips**.\r\nI&#39;ve checked the source code of MySQL Connector/J and found a strange logic executed **when closing the prepared statement**. It will **always set longParameterSwitchDetected to true** **in my case**!\r\n```\r\ncom.mysql.cj.ServerPreparedQuery#clearParameters\r\n\r\n/**\r\n * @param clearServerParameters\r\n *            flag indicating whether we need an additional clean up\r\n */\r\npublic void clearParameters(boolean clearServerParameters) {\r\n    boolean hadLongData = false;\r\n    if (this.queryBindings != null) {\r\n        hadLongData = this.queryBindings.clearBindValues();\r\n        this.queryBindings.setLongParameterSwitchDetected(clearServerParameters &amp;&amp; hadLongData ? false : true);\r\n    }\r\n    ...\r\n}\r\n```\r\nThen when next &quot;Execute&quot; comes, it will check this flag and decide whether to send &quot;Reset stmt&quot; or not as shown below:\r\n```\r\ncom.mysql.cj.ServerPreparedQuery#prepareExecutePacket\r\n\r\npublic NativePacketPayload prepareExecutePacket() {\r\n    ServerPreparedQueryBindValue[] parameterBindings = this.que\r\n    if (this.queryBindings.isLongParameterSwitchDetected()) {\r\n        ...\r\n        // Okay, we&#39;ve got all &quot;newly&quot;-bound streams, so reset server-side state to clear out previous bindings\r\n        serverResetStatement();\r\n    }\r\n    ...\r\n}\r\n```\r\nI&#39;ve tried to set this **longParameterSwitchDetected** manually to false in debug mode and the statement executed successfully without sending the &quot;Reset stmt&quot;.\r\nSo here&#39;re my questions:\r\n1. Are there any configurations for removing this &quot;Reset stmt&quot;?\r\n2. What&#39;s the exact meaning/logic of this &quot;longParameterSwitchDetected&quot;?","title":"Redundant &quot;Reset stmt&quot; before &quot;Execute&quot; when setting useServerPrepStmts and cachePrepStmts to true in MySQL Connector/J","body":"<p>I'm using MySQL Connector/J (version 8.0.28) as the driver on client side. Following is part of my code for test purpose:</p>\n<pre><code>PreparedStatement ps = null;\nString url = &quot;jdbc:mysql://10.86.49.16:3306/test?useServerPrepStmts=true&amp;cachePrepStmts=true&quot;;\n...\nClass.forName(&quot;com.mysql.jdbc.Driver&quot;);\nconn = DriverManager.getConnection(url, user, password);\nString sql = &quot;select * from test where id=?&quot;;\nfor (int i = 1; i &lt;= 3; i++) {\n    ps = conn.prepareStatement(sql);\n    ps.setInt(1, i);\n    ps.execute();\n    ps.close();\n}\n</code></pre>\n<p>When setting <strong>&quot;useServerPrepStmts=true&quot; alone</strong>, my general log looks like this:</p>\n<pre><code>6 Prepare   select * from test where id=?\n6 Execute   select * from test where id=1\n6 Close stmt\n6 Prepare   select * from test where id=?\n6 Execute   select * from test where id=2\n6 Close stmt\n6 Prepare   select * from test where id=?\n6 Execute   select * from test where id=3\n6 Close stmt\n</code></pre>\n<p>However after <strong>enabling &quot;cachePrepStmts&quot; together</strong>, the log becomes:</p>\n<pre><code>7 Prepare   select * from test where id=?\n7 Execute   select * from test where id=1\n7 Reset stmt\n7 Execute   select * from test where id=2\n7 Reset stmt\n7 Execute   select * from test where id=3\n</code></pre>\n<p>Looks like the prepared statement cache does take effect but there're <strong>unexpected &quot;Reset stmt&quot; which cause extra round-trips</strong>.\nI've checked the source code of MySQL Connector/J and found a strange logic executed <strong>when closing the prepared statement</strong>. It will <strong>always set longParameterSwitchDetected to true</strong> <strong>in my case</strong>!</p>\n<pre><code>com.mysql.cj.ServerPreparedQuery#clearParameters\n\n/**\n * @param clearServerParameters\n *            flag indicating whether we need an additional clean up\n */\npublic void clearParameters(boolean clearServerParameters) {\n    boolean hadLongData = false;\n    if (this.queryBindings != null) {\n        hadLongData = this.queryBindings.clearBindValues();\n        this.queryBindings.setLongParameterSwitchDetected(clearServerParameters &amp;&amp; hadLongData ? false : true);\n    }\n    ...\n}\n</code></pre>\n<p>Then when next &quot;Execute&quot; comes, it will check this flag and decide whether to send &quot;Reset stmt&quot; or not as shown below:</p>\n<pre><code>com.mysql.cj.ServerPreparedQuery#prepareExecutePacket\n\npublic NativePacketPayload prepareExecutePacket() {\n    ServerPreparedQueryBindValue[] parameterBindings = this.que\n    if (this.queryBindings.isLongParameterSwitchDetected()) {\n        ...\n        // Okay, we've got all &quot;newly&quot;-bound streams, so reset server-side state to clear out previous bindings\n        serverResetStatement();\n    }\n    ...\n}\n</code></pre>\n<p>I've tried to set this <strong>longParameterSwitchDetected</strong> manually to false in debug mode and the statement executed successfully without sending the &quot;Reset stmt&quot;.\nSo here're my questions:</p>\n<ol>\n<li>Are there any configurations for removing this &quot;Reset stmt&quot;?</li>\n<li>What's the exact meaning/logic of this &quot;longParameterSwitchDetected&quot;?</li>\n</ol>\n"},{"tags":["java","spring","cucumber","cucumber-spring"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1622142542,"post_id":67725726,"comment_id":119713875,"body_markdown":"Are you using `cucumber-spring`?","body":"Are you using <code>cucumber-spring</code>?"},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1622142570,"post_id":67725726,"comment_id":119713885,"body_markdown":"And have you tried to do constructor dependency injection instead of autowired?","body":"And have you tried to do constructor dependency injection instead of autowired?"},{"owner":{"account_id":21733790,"reputation":387,"user_id":16042088,"display_name":"Mike Marsh"},"score":0,"creation_date":1622143656,"post_id":67725726,"comment_id":119714316,"body_markdown":"Yes, I&#39;m using cucumber-spring and tried using constructor DI but it didn&#39;t work. Updated my original post - can you please check","body":"Yes, I&#39;m using cucumber-spring and tried using constructor DI but it didn&#39;t work. Updated my original post - can you please check"},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1622145351,"post_id":67725726,"comment_id":119714985,"body_markdown":"Currently your code doesn&#39;t compile.","body":"Currently your code doesn&#39;t compile."},{"owner":{"account_id":21733790,"reputation":387,"user_id":16042088,"display_name":"Mike Marsh"},"score":0,"creation_date":1622149609,"post_id":67725726,"comment_id":119716508,"body_markdown":"May I know what error you are getting because I&#39;m able to compile and run the test","body":"May I know what error you are getting because I&#39;m able to compile and run the test"}],"owner":{"account_id":21733790,"reputation":387,"user_id":16042088,"display_name":"Mike Marsh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":464,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650795403,"creation_date":1622130715,"question_id":67725726,"body_markdown":"I&#39;m getting `NullPointerException` when I use `@Autowired` in the `@BeforeStep` cucumber method in my step definition. What I&#39;m doing wrong here?\r\n\r\nPlease find my code below:\r\n\r\n**RunTest.java**\r\n\r\n    import io.cucumber.junit.platform.engine.Cucumber;\r\n    \r\n    @Cucumber\r\n    public class RunTest {\r\n    }\r\n\r\n**CucumberSpringConfig.java**\r\n\r\n    import io.cucumber.spring.CucumberContextConfiguration;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    \r\n    \r\n    @CucumberContextConfiguration\r\n    @SpringBootTest(classes = DemoApplication.class)\r\n    public class CucumberSpringConfig {\r\n    }\r\n\r\n**MyStepdefs.java**\r\n\r\n    import io.cucumber.java.BeforeStep;\r\n    import io.cucumber.java.en.Given;\r\n    import io.cucumber.java.en.Then;\r\n    import io.cucumber.java.en.When;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.core.env.Environment;\r\n        \r\n        public class MyStepdefs {\r\n                \r\n            //@Autowired Environment environment;\r\n            \r\n            Environment environment;\r\n            \r\n            MyStepdefs(Environment environment) {\r\n                this.environment = environment;\r\n            }\r\n                \r\n        @BeforeStep\r\n        public static void beforeStep() {\r\n        System.out.println(&quot;beforeStep method&quot;);\r\n        String path = environment.getProperty(&quot;spring.security.oauth2.token-uri&quot;);\r\n        System.out.println(&quot;path: &quot; +path);\r\n        }\r\n        }\r\n\r\n**pom.xml**\r\n\r\n    &lt;!-- cucumber plugins --&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;6.6.1&lt;/version&gt;\r\n        \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;6.6.1&lt;/version&gt;\r\n        \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;cucumber-spring&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;6.6.1&lt;/version&gt;\r\n        \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;datatable&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;3.4.0&lt;/version&gt;\r\n        \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;cucumber-junit-platform-engine&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;6.6.1&lt;/version&gt;\r\n        \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n        \t\t&lt;/dependency&gt;\r\n\r\n\r\n**Exception:**\r\n\r\nStep failed\r\njava.lang.NullPointerException\r\n    at com.demo.test.step.MyStepdefs.beforeStep(MyStepdefs.java:33)","title":"How to use Autowired in BeforeStep cucumber step definition","body":"<p>I'm getting <code>NullPointerException</code> when I use <code>@Autowired</code> in the <code>@BeforeStep</code> cucumber method in my step definition. What I'm doing wrong here?</p>\n<p>Please find my code below:</p>\n<p><strong>RunTest.java</strong></p>\n<pre><code>import io.cucumber.junit.platform.engine.Cucumber;\n\n@Cucumber\npublic class RunTest {\n}\n</code></pre>\n<p><strong>CucumberSpringConfig.java</strong></p>\n<pre><code>import io.cucumber.spring.CucumberContextConfiguration;\nimport org.springframework.boot.test.context.SpringBootTest;\n\n\n@CucumberContextConfiguration\n@SpringBootTest(classes = DemoApplication.class)\npublic class CucumberSpringConfig {\n}\n</code></pre>\n<p><strong>MyStepdefs.java</strong></p>\n<pre><code>import io.cucumber.java.BeforeStep;\nimport io.cucumber.java.en.Given;\nimport io.cucumber.java.en.Then;\nimport io.cucumber.java.en.When;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.core.env.Environment;\n    \n    public class MyStepdefs {\n            \n        //@Autowired Environment environment;\n        \n        Environment environment;\n        \n        MyStepdefs(Environment environment) {\n            this.environment = environment;\n        }\n            \n    @BeforeStep\n    public static void beforeStep() {\n    System.out.println(&quot;beforeStep method&quot;);\n    String path = environment.getProperty(&quot;spring.security.oauth2.token-uri&quot;);\n    System.out.println(&quot;path: &quot; +path);\n    }\n    }\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;!-- cucumber plugins --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n                &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n                &lt;version&gt;6.6.1&lt;/version&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n                &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n                &lt;version&gt;6.6.1&lt;/version&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n                &lt;artifactId&gt;cucumber-spring&lt;/artifactId&gt;\n                &lt;version&gt;6.6.1&lt;/version&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n                &lt;artifactId&gt;datatable&lt;/artifactId&gt;\n                &lt;version&gt;3.4.0&lt;/version&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n                &lt;artifactId&gt;cucumber-junit-platform-engine&lt;/artifactId&gt;\n                &lt;version&gt;6.6.1&lt;/version&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n</code></pre>\n<p><strong>Exception:</strong></p>\n<p>Step failed\njava.lang.NullPointerException\nat com.demo.test.step.MyStepdefs.beforeStep(MyStepdefs.java:33)</p>\n"},{"tags":["java","swing","jtable"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1650794469,"post_id":71987251,"comment_id":127202084,"body_markdown":"`JTable` doesn&#39;t take anything from &quot;the result set&quot; - it takes all information from the `TableModel`.  The intention of `AbstractTableModel` is to provide a basic, abstract, implementation of the core, most commonly repeated/boil plate code and leave the remaining functionality up to future implementations.  `AbstractTableModel` also, doesn&#39;t implement `getValueAt`, `getValueAt`, `getRowCount` and `getColumnCount` are marked as `abstract` and you are expected to implement those.","body":"<code>JTable</code> doesn&#39;t take anything from &quot;the result set&quot; - it takes all information from the <code>TableModel</code>.  The intention of <code>AbstractTableModel</code> is to provide a basic, abstract, implementation of the core, most commonly repeated/boil plate code and leave the remaining functionality up to future implementations.  <code>AbstractTableModel</code> also, doesn&#39;t implement <code>getValueAt</code>, <code>getValueAt</code>, <code>getRowCount</code> and <code>getColumnCount</code> are marked as <code>abstract</code> and you are expected to implement those."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1650794506,"post_id":71987251,"comment_id":127202092,"body_markdown":"Think of it this way - the `TableModel` sits between the `JTable` and your data and provides the contract through which you can get you data, in what ever format it is, presented on the table in common way","body":"Think of it this way - the <code>TableModel</code> sits between the <code>JTable</code> and your data and provides the contract through which you can get you data, in what ever format it is, presented on the table in common way"},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1650795147,"post_id":71987251,"comment_id":127202194,"body_markdown":"*&quot;how the values are set?&quot;* Look at [`DefaultTableModel`](https://docs.oracle.com/javase/8/docs/api/javax/swing/table/DefaultTableModel.html) for an example.","body":"<i>&quot;how the values are set?&quot;</i> Look at <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/table/DefaultTableModel.html\" rel=\"nofollow noreferrer\"><code>DefaultTableModel</code></a> for an example."},{"owner":{"account_id":24431404,"reputation":11,"user_id":18356293,"display_name":"Ahmed"},"score":0,"creation_date":1650795345,"post_id":71987251,"comment_id":127202232,"body_markdown":"@MadProgrammer Thank You. I tried to clarify my question in the original post.","body":"@MadProgrammer Thank You. I tried to clarify my question in the original post."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1650801693,"post_id":71987251,"comment_id":127203459,"body_markdown":"From the looks of it, the implementation is using `ResultSet` as the backing data, although calling the `setQuery` method should be calling `fireTableStructureChange` to cause the `JTable` to rebuild itself.  There must be more to the implementation, `getValueAt` should be implemented and I imagine at least `getColumnName` as well","body":"From the looks of it, the implementation is using <code>ResultSet</code> as the backing data, although calling the <code>setQuery</code> method should be calling <code>fireTableStructureChange</code> to cause the <code>JTable</code> to rebuild itself.  There must be more to the implementation, <code>getValueAt</code> should be implemented and I imagine at least <code>getColumnName</code> as well"},{"owner":{"account_id":24431404,"reputation":11,"user_id":18356293,"display_name":"Ahmed"},"score":0,"creation_date":1650825551,"post_id":71987251,"comment_id":127208886,"body_markdown":"@MadProgrammer Yeah You are correct they are implemented ,all of them, so what you are saying that those methods plays a rule in setting the values of the table?","body":"@MadProgrammer Yeah You are correct they are implemented ,all of them, so what you are saying that those methods plays a rule in setting the values of the table?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1650844618,"post_id":71987251,"comment_id":127212238,"body_markdown":"Of course they do - look at the `TableModel` `interface`, this is the minimal contractual requirements that any implementation of a `TableModel` MUST have","body":"Of course they do - look at the <code>TableModel</code> <code>interface</code>, this is the minimal contractual requirements that any implementation of a <code>TableModel</code> MUST have"}],"owner":{"account_id":24431404,"reputation":11,"user_id":18356293,"display_name":"Ahmed"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650795279,"creation_date":1650793930,"question_id":71987251,"body_markdown":"I couldn&#39;t Get my head around how AbstractTableModel  works,\r\nit implements : getValueAt(),getColumnClass(),getColumnName(),etc..\r\nwhat I didn&#39;t understand how JTable takes the data and meta data from The result Set and show them.\r\nThe methods in AbstractTableModel all of them are getters so how the values are set?\r\n\r\nfor example in &quot;Java How to Program&quot; book,\r\nThere is a code for AbstractTableModel in page 1233, and he created this method in it\r\n\r\n\r\n    public void setQuery( String query )\r\n    145 throws SQLException, IllegalStateException\r\n    146 {\r\n    147 // ensure database connection is available\r\n    148 if ( !connectedToDatabase )\r\n    149 throw new IllegalStateException( &quot;Not Connected to Database&quot; );\r\n    150\r\n    151 // specify query and execute it\r\n    152 resultSet = statement.executeQuery( query );\r\n    153\r\n    154 // obtain meta data for ResultSet\r\n    155 metaData = resultSet.getMetaData();\r\n    156\r\n    157 // determine number of rows in ResultSet\r\n    158 resultSet.last(); // move to last row\r\n    159 numberOfRows = resultSet.getRow(); // get row number\r\n    160\r\n    161\r\n    162\r\n    163 } // end method setQuery\r\n    Fig. 28.25 | A TableModel that supplies ResultSet data to a JTable. (Part 4 of 5.)\r\n    public int getRowCount()\r\n    public Object getValueAt( int row, int column )\r\n    resultSet.absolute( row + 1 );\r\n    return resultSet.getObject( column + 1 );\r\n    // notify JTable that model has changed\r\n    fireTableStructureChange\r\n\r\nand when he decaled the jtable in the other class,and set the model for it,\r\nhe just used The setQuery Method that he has created and The meta data and rows of the table has changed automatically.\r\n","title":"How AbstractTableModel works?","body":"<p>I couldn't Get my head around how AbstractTableModel  works,\nit implements : getValueAt(),getColumnClass(),getColumnName(),etc..\nwhat I didn't understand how JTable takes the data and meta data from The result Set and show them.\nThe methods in AbstractTableModel all of them are getters so how the values are set?</p>\n<p>for example in &quot;Java How to Program&quot; book,\nThere is a code for AbstractTableModel in page 1233, and he created this method in it</p>\n<pre><code>public void setQuery( String query )\n145 throws SQLException, IllegalStateException\n146 {\n147 // ensure database connection is available\n148 if ( !connectedToDatabase )\n149 throw new IllegalStateException( &quot;Not Connected to Database&quot; );\n150\n151 // specify query and execute it\n152 resultSet = statement.executeQuery( query );\n153\n154 // obtain meta data for ResultSet\n155 metaData = resultSet.getMetaData();\n156\n157 // determine number of rows in ResultSet\n158 resultSet.last(); // move to last row\n159 numberOfRows = resultSet.getRow(); // get row number\n160\n161\n162\n163 } // end method setQuery\nFig. 28.25 | A TableModel that supplies ResultSet data to a JTable. (Part 4 of 5.)\npublic int getRowCount()\npublic Object getValueAt( int row, int column )\nresultSet.absolute( row + 1 );\nreturn resultSet.getObject( column + 1 );\n// notify JTable that model has changed\nfireTableStructureChange\n</code></pre>\n<p>and when he decaled the jtable in the other class,and set the model for it,\nhe just used The setQuery Method that he has created and The meta data and rows of the table has changed automatically.</p>\n"},{"tags":["java","jpa","many-to-many","model-associations"],"answers":[{"tags":[],"owner":{"account_id":967624,"reputation":10828,"user_id":990750,"accept_rate":50,"display_name":"Tarik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650795073,"creation_date":1595727696,"answer_id":63095298,"question_id":63095204,"body_markdown":"You do not need to use recursion. Just use two nested loops. Something like this pseudo code:\r\n\r\n    int[] drugs = {1, 4, 6};\r\n    for (i=0; i&lt;drugs.length; i++) {\r\n        drug1 = drugs[i];\r\n        for (int j=i+1; j&lt;drugs.length; j++) {\r\n             drug2 = drugs[j];\r\n             get_interaction(drug1, drug2);\r\n        }\r\n    }\r\n\r\nDrugs being administered are represented by integers in the  drugs array.","title":"How do I set up a recursive, many-to-many relationship WITH an association class using JPA?","body":"<p>You do not need to use recursion. Just use two nested loops. Something like this pseudo code:</p>\n<pre><code>int[] drugs = {1, 4, 6};\nfor (i=0; i&lt;drugs.length; i++) {\n    drug1 = drugs[i];\n    for (int j=i+1; j&lt;drugs.length; j++) {\n         drug2 = drugs[j];\n         get_interaction(drug1, drug2);\n    }\n}\n</code></pre>\n<p>Drugs being administered are represented by integers in the  drugs array.</p>\n"}],"owner":{"account_id":15348424,"reputation":11,"user_id":11073027,"display_name":"William Duong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650795073,"creation_date":1595726514,"question_id":63095204,"body_markdown":"So I&#39;m trying to create a pharmacy database that, among other things, keeps track of drug-to-drug interactions. I have a Drug entity with various members and associations and they all seem to work out fine thus far. The one implementation I&#39;m not sure I have down correct is a recursive, many-to-many relationship with the Drug entity using an association class. The association class (DrugDrugIX) has 2 foreign keys - one from each drug - and a description and assignment of how severe is that interaction.\r\n\r\nWhat I have so far works, in that it will compile and run and let me add Drugs and interactions. However, I certainly don&#39;t think what I&#39;m doing is the most optimal -- or even correct. Any advice on how to optimize what I&#39;m trying to do?\r\n\r\nThe **Drug** entity (some members omitted for brevity):\r\n```\r\n@Entity\r\n@Table (name = &quot;drugs&quot;)\r\n@NamedQueries({\r\n        @NamedQuery (name = Drug.FIND_ALL_BY_NAME,\r\n                     query = &quot;SELECT d FROM Drug d WHERE LOWER (d.chemical_name) LIKE LOWER (CONCAT (&#39;%&#39;, :searchString, &#39;%&#39;))&quot; )\r\n})\r\npublic class Drug\r\n{\r\n    // QUERY STRING(S)\r\n    public static final String FIND_ALL_BY_NAME = &quot;Drug.findAllByName&quot;;\r\n\r\n    @Id\r\n    @GeneratedValue (strategy = GenerationType.IDENTITY)\r\n    private long did;\r\n\r\n    private String chemical_name;\r\n    private String description;\r\n\r\n    // ASSOCIATION(S)\r\n    is this the correct implementation (???)\r\n&lt;-----------------------------------------------------------------------------------&gt;\r\n    @OneToMany (mappedBy = &quot;base&quot;, cascade = CascadeType.PERSIST)\r\n    private List&lt;DrugDrugIX&gt; interxAsBase;\r\n    \r\n    @OneToMany (mappedBy = &quot;offender&quot;, cascade = CascadeType.PERSIST)\r\n    private List&lt;DrugDrugIX&gt; interxAsOffender;\r\n&lt;-----------------------------------------------------------------------------------&gt;\r\n\r\n    @ManyToOne (cascade = CascadeType.PERSIST)\r\n    private DEA_Class schedule;\r\n\r\n    @OneToOne (cascade = CascadeType.PERSIST)\r\n    private Pharmacology PK_profile;\r\n\r\n    (...) other associations, getters and setters here (...)\r\n\r\n    public void addInterxAsBase (DrugDrugIX interaction)\r\n    {\r\n        if (this.interxAsBase == null)\r\n            interxAsBase = new ArrayList&lt;&gt;();\r\n\r\n        interxAsBase.add (interaction);\r\n    }\r\n\r\n    public void addInterxAsOffender (DrugDrugIX interaction)\r\n    {\r\n        if (this.interxAsOffender == null)\r\n            interxAsOffender = new ArrayList&lt;&gt;();\r\n\r\n        interxAsOffender.add (interaction);\r\n    }\r\n}\r\n```\r\n\r\nThe **DrugDrugIX** association entity:\r\n```\r\n@Entity\r\n@Table (name = &quot;drug_drug_interactions&quot;)\r\npublic class DrugDrugIX\r\n{\r\n    @EmbeddedId\r\n    private DrugDrugIX_PK interaction_CPK;\r\n    private int severityLevel = -1;\r\n    \r\n    // ASSOCIATION(S)\r\n    @ManyToOne\r\n    @MapsId (&quot;base&quot;)\r\n    private Drug base;\r\n    \r\n    @ManyToOne\r\n    @MapsId (&quot;offender&quot;)\r\n    private Drug offender;\r\n\r\n    (...) getters, setters omitted for brevity (...)\r\n\r\n    public void registerInteraction (Drug object, Drug precipitate)\r\n    {\r\n        if (this.base == null)\r\n            this.base = object;\r\n        if (this.offender == null)\r\n            this.offender = precipitate;\r\n\r\n        if ((this.base == object &amp;&amp; this.offender == precipitate) &amp;&amp; (severityLevel == -1))\r\n        {\r\n            object.addInterxAsBase(this);\r\n            precipitate.addInterxAsOffender(this);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n...and just for posterity, the Embeddable that comprises the primary key of the DrugDrugIX entity:\r\n```\r\n@Embeddable\r\npublic class DrugDrugIX_PK implements Serializable\r\n{\r\n    private long base;\r\n    private long offender;\r\n    private String description;\r\n\r\n    // CONSTRUCTORS\r\n    public DrugDrugIX_PK () {}\r\n    public DrugDrugIX_PK (Drug base, Drug offender, String description)\r\n    {\r\n        this.base = base.getDID();\r\n        this.offender = offender.getDID();\r\n        this.description = description;\r\n    }\r\n    \r\n    // ACCESSORS\r\n    public String getDescription () { return this.description; }\r\n\r\n    // MISCELLANEOUS\r\n    @Override\r\n    public boolean equals (Object other)\r\n    {\r\n        if (other instanceof DrugDrugIX_PK)\r\n        {\r\n            DrugDrugIX_PK second = (DrugDrugIX_PK) other;\r\n\r\n            return (this.base == second.base) &amp;&amp; (offender == second.offender) &amp;&amp; (this.description.equals (description));\r\n        }\r\n        else\r\n            return false;\r\n    }\r\n\r\n    @Override\r\n    public int hashCode () { return (int) (base + offender); }\r\n}\r\n```\r\nI pray to the stackoverflow gods for guidance..","title":"How do I set up a recursive, many-to-many relationship WITH an association class using JPA?","body":"<p>So I'm trying to create a pharmacy database that, among other things, keeps track of drug-to-drug interactions. I have a Drug entity with various members and associations and they all seem to work out fine thus far. The one implementation I'm not sure I have down correct is a recursive, many-to-many relationship with the Drug entity using an association class. The association class (DrugDrugIX) has 2 foreign keys - one from each drug - and a description and assignment of how severe is that interaction.</p>\n<p>What I have so far works, in that it will compile and run and let me add Drugs and interactions. However, I certainly don't think what I'm doing is the most optimal -- or even correct. Any advice on how to optimize what I'm trying to do?</p>\n<p>The <strong>Drug</strong> entity (some members omitted for brevity):</p>\n<pre><code>@Entity\n@Table (name = &quot;drugs&quot;)\n@NamedQueries({\n        @NamedQuery (name = Drug.FIND_ALL_BY_NAME,\n                     query = &quot;SELECT d FROM Drug d WHERE LOWER (d.chemical_name) LIKE LOWER (CONCAT ('%', :searchString, '%'))&quot; )\n})\npublic class Drug\n{\n    // QUERY STRING(S)\n    public static final String FIND_ALL_BY_NAME = &quot;Drug.findAllByName&quot;;\n\n    @Id\n    @GeneratedValue (strategy = GenerationType.IDENTITY)\n    private long did;\n\n    private String chemical_name;\n    private String description;\n\n    // ASSOCIATION(S)\n    is this the correct implementation (???)\n&lt;-----------------------------------------------------------------------------------&gt;\n    @OneToMany (mappedBy = &quot;base&quot;, cascade = CascadeType.PERSIST)\n    private List&lt;DrugDrugIX&gt; interxAsBase;\n    \n    @OneToMany (mappedBy = &quot;offender&quot;, cascade = CascadeType.PERSIST)\n    private List&lt;DrugDrugIX&gt; interxAsOffender;\n&lt;-----------------------------------------------------------------------------------&gt;\n\n    @ManyToOne (cascade = CascadeType.PERSIST)\n    private DEA_Class schedule;\n\n    @OneToOne (cascade = CascadeType.PERSIST)\n    private Pharmacology PK_profile;\n\n    (...) other associations, getters and setters here (...)\n\n    public void addInterxAsBase (DrugDrugIX interaction)\n    {\n        if (this.interxAsBase == null)\n            interxAsBase = new ArrayList&lt;&gt;();\n\n        interxAsBase.add (interaction);\n    }\n\n    public void addInterxAsOffender (DrugDrugIX interaction)\n    {\n        if (this.interxAsOffender == null)\n            interxAsOffender = new ArrayList&lt;&gt;();\n\n        interxAsOffender.add (interaction);\n    }\n}\n</code></pre>\n<p>The <strong>DrugDrugIX</strong> association entity:</p>\n<pre><code>@Entity\n@Table (name = &quot;drug_drug_interactions&quot;)\npublic class DrugDrugIX\n{\n    @EmbeddedId\n    private DrugDrugIX_PK interaction_CPK;\n    private int severityLevel = -1;\n    \n    // ASSOCIATION(S)\n    @ManyToOne\n    @MapsId (&quot;base&quot;)\n    private Drug base;\n    \n    @ManyToOne\n    @MapsId (&quot;offender&quot;)\n    private Drug offender;\n\n    (...) getters, setters omitted for brevity (...)\n\n    public void registerInteraction (Drug object, Drug precipitate)\n    {\n        if (this.base == null)\n            this.base = object;\n        if (this.offender == null)\n            this.offender = precipitate;\n\n        if ((this.base == object &amp;&amp; this.offender == precipitate) &amp;&amp; (severityLevel == -1))\n        {\n            object.addInterxAsBase(this);\n            precipitate.addInterxAsOffender(this);\n        }\n    }\n}\n</code></pre>\n<p>...and just for posterity, the Embeddable that comprises the primary key of the DrugDrugIX entity:</p>\n<pre><code>@Embeddable\npublic class DrugDrugIX_PK implements Serializable\n{\n    private long base;\n    private long offender;\n    private String description;\n\n    // CONSTRUCTORS\n    public DrugDrugIX_PK () {}\n    public DrugDrugIX_PK (Drug base, Drug offender, String description)\n    {\n        this.base = base.getDID();\n        this.offender = offender.getDID();\n        this.description = description;\n    }\n    \n    // ACCESSORS\n    public String getDescription () { return this.description; }\n\n    // MISCELLANEOUS\n    @Override\n    public boolean equals (Object other)\n    {\n        if (other instanceof DrugDrugIX_PK)\n        {\n            DrugDrugIX_PK second = (DrugDrugIX_PK) other;\n\n            return (this.base == second.base) &amp;&amp; (offender == second.offender) &amp;&amp; (this.description.equals (description));\n        }\n        else\n            return false;\n    }\n\n    @Override\n    public int hashCode () { return (int) (base + offender); }\n}\n</code></pre>\n<p>I pray to the stackoverflow gods for guidance..</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1650793956,"post_id":71987041,"comment_id":127202004,"body_markdown":"&#39;Goes run&quot; and &#39;does not work&#39; are not problem descriptions. Try again.","body":"&#39;Goes run&quot; and &#39;does not work&#39; are not problem descriptions. Try again."}],"answers":[{"tags":[],"owner":{"account_id":21132288,"reputation":409,"user_id":15536371,"display_name":"Tariq Hussain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650793909,"creation_date":1650792590,"answer_id":71987098,"question_id":71987041,"body_markdown":"As I can see in your code that in xml you have assigned the id to the button which is\r\n\r\n    android:id=&quot;@+id/button_1&quot;\r\n\r\nbut you are trying to access the wrong id here \r\n\r\n    Button buttonClick = (Button)rootView.findViewById(R.id.button);\r\n\r\nand if you are in activity there is no need of `rootView` you can simply access the button with `findViewById(R.id.button_1)`\r\n\r\nAlso it is missing in your `first_layout.xml`\r\n\r\n \r\n    tools:context=&quot;.FirstActivity&quot;\r\n\r\nadd this to the `constraintLayout` in xml\r\n\r\nalso add import \r\n\r\n    import android.widget.Button;\r\n\r\nAnd I will suggest you to use `viewBinding` it will help you a lot in this case\r\n\r\n","title":"&quot;Button button1 = (Button)findViewById(R.id.button_1) &quot; goes run in Android","body":"<p>As I can see in your code that in xml you have assigned the id to the button which is</p>\n<pre><code>android:id=&quot;@+id/button_1&quot;\n</code></pre>\n<p>but you are trying to access the wrong id here</p>\n<pre><code>Button buttonClick = (Button)rootView.findViewById(R.id.button);\n</code></pre>\n<p>and if you are in activity there is no need of <code>rootView</code> you can simply access the button with <code>findViewById(R.id.button_1)</code></p>\n<p>Also it is missing in your <code>first_layout.xml</code></p>\n<pre><code>tools:context=&quot;.FirstActivity&quot;\n</code></pre>\n<p>add this to the <code>constraintLayout</code> in xml</p>\n<p>also add import</p>\n<pre><code>import android.widget.Button;\n</code></pre>\n<p>And I will suggest you to use <code>viewBinding</code> it will help you a lot in this case</p>\n"},{"tags":[],"owner":{"account_id":18000638,"reputation":531,"user_id":13082664,"display_name":"Meet Bhavsar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650792937,"creation_date":1650792937,"answer_id":71987144,"question_id":71987041,"body_markdown":"add this line \r\n```\r\nimport android.widget.Button;\r\n```\r\nFirstActivity.java\r\n```\r\npackage com.example.activitytest;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Toast;\r\nimport android.widget.Button;\r\n\r\npublic class FirstActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.first_layout);\r\n        Button button1 = (Button)findViewById(R.id.button_1);\r\n        button1.setOnClickListener(new View.OnClickListener(){\r\n            @Override\r\n            public void onClick(View v){\r\n                Toast.makeText(FirstActivity.this, &quot;You clicked Button 1&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n```","title":"&quot;Button button1 = (Button)findViewById(R.id.button_1) &quot; goes run in Android","body":"<p>add this line</p>\n<pre><code>import android.widget.Button;\n</code></pre>\n<p>FirstActivity.java</p>\n<pre><code>package com.example.activitytest;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Toast;\nimport android.widget.Button;\n\npublic class FirstActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.first_layout);\n        Button button1 = (Button)findViewById(R.id.button_1);\n        button1.setOnClickListener(new View.OnClickListener(){\n            @Override\n            public void onClick(View v){\n                Toast.makeText(FirstActivity.this, &quot;You clicked Button 1&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":24273737,"reputation":3,"user_id":18221346,"display_name":"赵颜哲"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":583,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1650794468,"accepted_answer_id":71987098,"answer_count":2,"score":-1,"last_activity_date":1650793909,"creation_date":1650792037,"question_id":71987041,"body_markdown":"I&#39;m a beginner in Android , so please pardon my ignorance.\r\nAs I was learning Android programming,I followed the book and the codes are as follows:\r\n#### FirstActivity.java\r\n\r\n```java\r\npackage com.example.activitytest;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Toast;\r\npublic class FirstActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.first_layout);\r\n        Button button1 = (Button)findViewById(R.id.button_1);\r\n        button1.setOnClickListener(new View.OnClickListener(){\r\n            @Override\r\n            public void onClick(View v){\r\n                Toast.makeText(FirstActivity.this, &quot;You clicked Button 1&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n```\r\n#### AndroidManifest.xml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.example.activitytest&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.Activitytest&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.FirstActivity&quot;\r\n            android:label=&quot;This is FirstActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name = &quot;android.intent.action.MAIN&quot;/&gt;\r\n                &lt;category android:name = &quot;android.intent.category.LAUNCHER&quot;/&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\n#### first_layout.xml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button_1&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/button_1&quot;\r\n        tools:ignore=&quot;MissingConstraints&quot;\r\n        tools:layout_editor_absoluteX=&quot;0dp&quot;\r\n        tools:layout_editor_absoluteY=&quot;1dp&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n\r\n\r\nAnd android studio reports that:\r\n```txt\r\nerror: cannot find symbol\r\n        Button button1 = (Button)findViewById(R.id.button_1);\r\n        ^\r\n  symbol:   class Button\r\n  location: class FirstActivity\r\n```\r\n\r\n\r\n\r\nand then I search stackoverflow to find the method to debug.\r\nI once tried this method:\r\n```java\r\nView rootView = inflater.inflate(R.layout.fragment_main, container, false);\r\nButton buttonClick = (Button)rootView.findViewById(R.id.button);\r\nbuttonClick.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View view) {\r\n        onButtonClick((Button) view);\r\n    }\r\n});\r\n```\r\nBut it still does not work.As I am just a beginner, I can&#39;t find a way to debug.\r\nCan someone help me? Thank you for that.","title":"&quot;Button button1 = (Button)findViewById(R.id.button_1) &quot; goes run in Android","body":"<p>I'm a beginner in Android , so please pardon my ignorance.\nAs I was learning Android programming,I followed the book and the codes are as follows:</p>\n<h4>FirstActivity.java</h4>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.activitytest;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Toast;\npublic class FirstActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.first_layout);\n        Button button1 = (Button)findViewById(R.id.button_1);\n        button1.setOnClickListener(new View.OnClickListener(){\n            @Override\n            public void onClick(View v){\n                Toast.makeText(FirstActivity.this, &quot;You clicked Button 1&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n}\n\n</code></pre>\n<h4>AndroidManifest.xml</h4>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.activitytest&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.Activitytest&quot;&gt;\n        &lt;activity\n            android:name=&quot;.FirstActivity&quot;\n            android:label=&quot;This is FirstActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name = &quot;android.intent.action.MAIN&quot;/&gt;\n                &lt;category android:name = &quot;android.intent.category.LAUNCHER&quot;/&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<h4>first_layout.xml</h4>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:orientation=&quot;vertical&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button_1&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/button_1&quot;\n        tools:ignore=&quot;MissingConstraints&quot;\n        tools:layout_editor_absoluteX=&quot;0dp&quot;\n        tools:layout_editor_absoluteY=&quot;1dp&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>And android studio reports that:</p>\n<pre><code>error: cannot find symbol\n        Button button1 = (Button)findViewById(R.id.button_1);\n        ^\n  symbol:   class Button\n  location: class FirstActivity\n</code></pre>\n<p>and then I search stackoverflow to find the method to debug.\nI once tried this method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>View rootView = inflater.inflate(R.layout.fragment_main, container, false);\nButton buttonClick = (Button)rootView.findViewById(R.id.button);\nbuttonClick.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        onButtonClick((Button) view);\n    }\n});\n</code></pre>\n<p>But it still does not work.As I am just a beginner, I can't find a way to debug.\nCan someone help me? Thank you for that.</p>\n"},{"tags":["java","spring-boot","amazon-s3","jsch"],"comments":[{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1650374023,"post_id":71924266,"comment_id":127095700,"body_markdown":"Take a look at [Apache Camel](https://camel.apache.org). It&#39;s an integration library supporting [S3](https://camel.apache.org/components/3.16.x/aws2-s3-component.html) and [SFTP](https://camel.apache.org/components/3.16.x/sftp-component.html).","body":"Take a look at <a href=\"https://camel.apache.org\" rel=\"nofollow noreferrer\">Apache Camel</a>. It&#39;s an integration library supporting <a href=\"https://camel.apache.org/components/3.16.x/aws2-s3-component.html\" rel=\"nofollow noreferrer\">S3</a> and <a href=\"https://camel.apache.org/components/3.16.x/sftp-component.html\" rel=\"nofollow noreferrer\">SFTP</a>."},{"owner":{"account_id":25002767,"reputation":7,"user_id":18863025,"display_name":"Arshu."},"score":0,"creation_date":1650528422,"post_id":71924266,"comment_id":127140195,"body_markdown":"Ok.is it possible to transfer without getting into local","body":"Ok.is it possible to transfer without getting into local"}],"owner":{"account_id":25002767,"reputation":7,"user_id":18863025,"display_name":"Arshu."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":230,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1650793754,"creation_date":1650367957,"question_id":71924266,"body_markdown":"I am new to coding.I wants to copy a file from SFTP server to S3bucket.I don&#39;t want to copy it in to my local..I am trying to do this in Java springboot.Is there any way to do this.Could someone please help me with some code snippet to do the same.","title":"How to copy a file from SFTP to S3bucket","body":"<p>I am new to coding.I wants to copy a file from SFTP server to S3bucket.I don't want to copy it in to my local..I am trying to do this in Java springboot.Is there any way to do this.Could someone please help me with some code snippet to do the same.</p>\n"},{"tags":["java","numberformatexception"],"answers":[{"tags":[],"owner":{"account_id":7181840,"reputation":1565,"user_id":5485454,"display_name":"Kai-Sheng Yang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650789976,"creation_date":1650789976,"answer_id":71986810,"question_id":71986729,"body_markdown":"Because you have removed the `userId` after logged out.\r\n\r\n**Logout .java Line#11**\r\n\r\n`session.removeAttribute(&quot;userId&quot;);`\r\n\r\n\r\n\r\nand then you got a `null` when you go back to histoy:\r\n\r\n**Transaction_history.java Line#42**\r\n\r\n`String s_user_id = (String)session.getAttribute(&quot;userId&quot;);`\r\n","title":"java.lang.NumberFormatException: null at java.lang.Integer.parseInt","body":"<p>Because you have removed the <code>userId</code> after logged out.</p>\n<p><strong>Logout .java Line#11</strong></p>\n<p><code>session.removeAttribute(&quot;userId&quot;);</code></p>\n<p>and then you got a <code>null</code> when you go back to histoy:</p>\n<p><strong>Transaction_history.java Line#42</strong></p>\n<p><code>String s_user_id = (String)session.getAttribute(&quot;userId&quot;);</code></p>\n"}],"owner":{"account_id":16440259,"reputation":23,"user_id":11876753,"display_name":"tinu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":541,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650793427,"creation_date":1650789107,"question_id":71986729,"body_markdown":"Code in the below link: https://github.com/dheenupriya/Gpay\r\n\r\nAt first.. I login, then I get the mainPage.jsp and I click transactions and I can view transactions and click Main Page button and I move back to mainPage.jsp and then when I click logout in mainpage.jsp, I move to index.jsp. Now my problem is.. when I click back, i go to mainPage.jsp and from there when I click linkbankaccount.jsp, I able to go to session_expired.jsp as session==null... but when I click other links like view balance or transaction_history.jsp... I get HTTP 500 internal server error... don&#39;t know y...\r\n\r\n**The page I get when I click logout and go back to mainpage and click linkbankaccount.jsp**\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**The page I get when I click other links like transactions, view balance**\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/s2k4a.png\r\n  [2]: https://i.stack.imgur.com/vyQRr.png","title":"java.lang.NumberFormatException: null at java.lang.Integer.parseInt","body":"<p>Code in the below link: <a href=\"https://github.com/dheenupriya/Gpay\" rel=\"nofollow noreferrer\">https://github.com/dheenupriya/Gpay</a></p>\n<p>At first.. I login, then I get the mainPage.jsp and I click transactions and I can view transactions and click Main Page button and I move back to mainPage.jsp and then when I click logout in mainpage.jsp, I move to index.jsp. Now my problem is.. when I click back, i go to mainPage.jsp and from there when I click linkbankaccount.jsp, I able to go to session_expired.jsp as session==null... but when I click other links like view balance or transaction_history.jsp... I get HTTP 500 internal server error... don't know y...</p>\n<p><strong>The page I get when I click logout and go back to mainpage and click linkbankaccount.jsp</strong>\n<a href=\"https://i.stack.imgur.com/s2k4a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s2k4a.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>The page I get when I click other links like transactions, view balance</strong>\n<a href=\"https://i.stack.imgur.com/vyQRr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vyQRr.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","maven","jacoco","jacoco-maven-plugin"],"comments":[{"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"score":1,"creation_date":1645612082,"post_id":71235126,"comment_id":125916229,"body_markdown":"During which phase does jacoco run? If it runs during any phase before package - it will do what you want, otherwise it just won&#39;t run so won&#39;t fail :)","body":"During which phase does jacoco run? If it runs during any phase before package - it will do what you want, otherwise it just won&#39;t run so won&#39;t fail :)"},{"owner":{"account_id":14027567,"reputation":394,"user_id":10132227,"display_name":"c_anirudh"},"score":0,"creation_date":1645612703,"post_id":71235126,"comment_id":125916504,"body_markdown":"That helped, thank you for making me think in the right direction ^_^. \n\nI added `&lt;phase&gt;package&lt;/phase&gt;` to the `check` execution which makes JaCoCo run during the package phase.","body":"That helped, thank you for making me think in the right direction ^_^.   I added <code>&lt;phase&gt;package&lt;&#47;phase&gt;</code> to the <code>check</code> execution which makes JaCoCo run during the package phase."},{"owner":{"account_id":14027567,"reputation":394,"user_id":10132227,"display_name":"c_anirudh"},"score":0,"creation_date":1645612864,"post_id":71235126,"comment_id":125916596,"body_markdown":"An after thought, it will probably be better to make it run in the `test` phase.","body":"An after thought, it will probably be better to make it run in the <code>test</code> phase."}],"answers":[{"tags":[],"owner":{"account_id":25056002,"reputation":161,"user_id":18911379,"display_name":"Code Journal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650793308,"creation_date":1650793308,"answer_id":71987183,"question_id":71235126,"body_markdown":"You can configure your `check` goal to run on the `prepare-package` phase. `prepare-package` phase runs just before the `package` goal. This way, your build will fail if the coverage rules are not met.\r\n\r\nHere is how your `pom.xml` will change.\r\n\r\n```xml\r\n&lt;execution&gt;\r\n    &lt;id&gt;default-check&lt;/id&gt;\r\n    &lt;goals&gt;\r\n        &lt;goal&gt;check&lt;/goal&gt;\r\n    &lt;/goals&gt;\r\n    &lt;phase&gt;prepare-package&lt;/phase&gt; &lt;!-- Fail just before package phase is executed --&gt;\r\n    &lt;configuration&gt;\r\n        &lt;rules&gt;\r\n            &lt;!-- Rule configuration here --&gt;\r\n        &lt;/rules&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/execution&gt;\r\n```\r\n\r\nCheckout the [documentation for Maven Lifecycle Goals for phases][1] and the order in which they are executed.\r\n\r\n  [1]: https://maven.apache.org/ref/3.8.5/maven-core/lifecycles.html","title":"Is it possible to fail &quot;mvn package&quot; for not meeting JaCoCo code coverage requirements?","body":"<p>You can configure your <code>check</code> goal to run on the <code>prepare-package</code> phase. <code>prepare-package</code> phase runs just before the <code>package</code> goal. This way, your build will fail if the coverage rules are not met.</p>\n<p>Here is how your <code>pom.xml</code> will change.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;execution&gt;\n    &lt;id&gt;default-check&lt;/id&gt;\n    &lt;goals&gt;\n        &lt;goal&gt;check&lt;/goal&gt;\n    &lt;/goals&gt;\n    &lt;phase&gt;prepare-package&lt;/phase&gt; &lt;!-- Fail just before package phase is executed --&gt;\n    &lt;configuration&gt;\n        &lt;rules&gt;\n            &lt;!-- Rule configuration here --&gt;\n        &lt;/rules&gt;\n    &lt;/configuration&gt;\n&lt;/execution&gt;\n</code></pre>\n<p>Checkout the <a href=\"https://maven.apache.org/ref/3.8.5/maven-core/lifecycles.html\" rel=\"nofollow noreferrer\">documentation for Maven Lifecycle Goals for phases</a> and the order in which they are executed.</p>\n"}],"owner":{"account_id":14027567,"reputation":394,"user_id":10132227,"display_name":"c_anirudh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":582,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71987183,"answer_count":1,"score":0,"last_activity_date":1650793308,"creation_date":1645611649,"question_id":71235126,"body_markdown":"I have included the JaCoCo maven plugin in my project&#39;s POM\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;0.8.7&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;default-prepare-agent&lt;/id&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;default-report&lt;/id&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;report&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;default-check&lt;/id&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;check&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;rules&gt;\r\n                    &lt;rule&gt;\r\n                        &lt;element&gt;BUNDLE&lt;/element&gt;\r\n                        &lt;limits&gt;\r\n                            &lt;limit&gt;\r\n                                &lt;counter&gt;LINE&lt;/counter&gt;\r\n                                &lt;value&gt;COVEREDRATIO&lt;/value&gt;\r\n                                &lt;minimum&gt;0.70&lt;/minimum&gt;\r\n                            &lt;/limit&gt;\r\n                        &lt;/limits&gt;\r\n                    &lt;/rule&gt;\r\n                &lt;/rules&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nI noticed that only the following commands fail when the code coverage requirements is not met:\r\n- `mvn verify`\r\n- `mvn install`\r\n- `mvn deploy`\r\n\r\nIs it possible to configure the JaCoCo plugin to fail the `mvn package` command as well?\r\n","title":"Is it possible to fail &quot;mvn package&quot; for not meeting JaCoCo code coverage requirements?","body":"<p>I have included the JaCoCo maven plugin in my project's POM</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.8.7&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;default-prepare-agent&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;prepare-agent&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;default-report&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;report&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;default-check&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;check&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;rules&gt;\n                    &lt;rule&gt;\n                        &lt;element&gt;BUNDLE&lt;/element&gt;\n                        &lt;limits&gt;\n                            &lt;limit&gt;\n                                &lt;counter&gt;LINE&lt;/counter&gt;\n                                &lt;value&gt;COVEREDRATIO&lt;/value&gt;\n                                &lt;minimum&gt;0.70&lt;/minimum&gt;\n                            &lt;/limit&gt;\n                        &lt;/limits&gt;\n                    &lt;/rule&gt;\n                &lt;/rules&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>I noticed that only the following commands fail when the code coverage requirements is not met:</p>\n<ul>\n<li><code>mvn verify</code></li>\n<li><code>mvn install</code></li>\n<li><code>mvn deploy</code></li>\n</ul>\n<p>Is it possible to configure the JaCoCo plugin to fail the <code>mvn package</code> command as well?</p>\n"},{"tags":["java","nashorn"],"answers":[{"tags":[],"owner":{"account_id":3848680,"reputation":4287,"user_id":3189360,"display_name":"A. Sundararajan"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1436190381,"creation_date":1436190381,"answer_id":31247523,"question_id":31236550,"body_markdown":"You can use Object.bindProperties extension of nashorn to bind properties of arbitrary object to JS global object. That way user can invoke methods (and access properties) on your &quot;default&quot; object from script without qualification.\r\nSee Object.bindProperties documentation here https://wiki.openjdk.java.net/display/Nashorn/Nashorn+extensions#Nashornextensions-Object.bindProperties\r\n\r\nExample code:\r\n\r\n    import javax.script.*;\r\n    \r\n    public class Main {\r\n       public static void main(String[] args) throws Exception {\r\n           ScriptEngineManager m = new ScriptEngineManager();\r\n           ScriptEngine e = m.getEngineByName(&quot;nashorn&quot;);\r\n    \r\n           // get JavaScript &quot;global&quot; object\r\n           Object global = e.eval(&quot;this&quot;);\r\n           // get JS &quot;Object&quot; constructor object\r\n           Object jsObject = e.eval(&quot;Object&quot;);\r\n    \r\n           Invocable invocable = (Invocable)e;\r\n    \r\n           // calling Object.bindProperties(global, &quot;hello&quot;);\r\n           // which will &quot;bind&quot; properties of &quot;hello&quot; String object\r\n           // to JS global object\r\n           invocable.invokeMethod(jsObject, &quot;bindProperties&quot;, global, &quot;hello&quot;);\r\n    \r\n           // you&#39;re calling &quot;hello&quot;.toUpperCase()&quot;\r\n           e.eval(&quot;print(toUpperCase())&quot;);\r\n           // accessing bean property &quot;empty&quot; on &#39;hello&#39; object\r\n           e.eval(&quot;print(empty)&quot;);\r\n    \r\n           // just print all (enumerable) properties of global\r\n           // you&#39;ll see methods, properties of String class\r\n           // (which&#39;d be called on &quot;hello&quot; instance when accessed)\r\n           e.eval(&quot;for (var i in this) print(i)&quot;);\r\n       }\r\n    }","title":"Defining a default/global Java object to Nashorn script engine?","body":"<p>You can use Object.bindProperties extension of nashorn to bind properties of arbitrary object to JS global object. That way user can invoke methods (and access properties) on your \"default\" object from script without qualification.\nSee Object.bindProperties documentation here <a href=\"https://wiki.openjdk.java.net/display/Nashorn/Nashorn+extensions#Nashornextensions-Object.bindProperties\" rel=\"noreferrer\">https://wiki.openjdk.java.net/display/Nashorn/Nashorn+extensions#Nashornextensions-Object.bindProperties</a></p>\n\n<p>Example code:</p>\n\n<pre><code>import javax.script.*;\n\npublic class Main {\n   public static void main(String[] args) throws Exception {\n       ScriptEngineManager m = new ScriptEngineManager();\n       ScriptEngine e = m.getEngineByName(\"nashorn\");\n\n       // get JavaScript \"global\" object\n       Object global = e.eval(\"this\");\n       // get JS \"Object\" constructor object\n       Object jsObject = e.eval(\"Object\");\n\n       Invocable invocable = (Invocable)e;\n\n       // calling Object.bindProperties(global, \"hello\");\n       // which will \"bind\" properties of \"hello\" String object\n       // to JS global object\n       invocable.invokeMethod(jsObject, \"bindProperties\", global, \"hello\");\n\n       // you're calling \"hello\".toUpperCase()\"\n       e.eval(\"print(toUpperCase())\");\n       // accessing bean property \"empty\" on 'hello' object\n       e.eval(\"print(empty)\");\n\n       // just print all (enumerable) properties of global\n       // you'll see methods, properties of String class\n       // (which'd be called on \"hello\" instance when accessed)\n       e.eval(\"for (var i in this) print(i)\");\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":78039,"reputation":3109,"user_id":222374,"accept_rate":56,"display_name":"justkevin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4443,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":31247523,"answer_count":1,"score":3,"last_activity_date":1650792978,"creation_date":1436144770,"question_id":31236550,"body_markdown":"With Java&#39;s Nashorn script engine, I can provide objects in the context of an eval() using bindings like so:\r\n   \r\n\r\n    Bindings bindings = scriptContext.getBindings(ScriptContext.ENGINE_SCOPE);\r\n    bindings.put(&quot;rules&quot;, myObj); \r\n    scriptEngine.eval(&quot;rules.someMethod(&#39;Hello&#39;)&quot;, scriptContext);\r\n\r\nI&#39;d like to be able to simplify the javascript by providing a default object, so that instead of the javascript being:\r\n\r\n    rules.someMethod(&#39;Hello&#39;)\r\n\r\nI can just write:\r\n\r\n    someMethod(&#39;Hello&#39;)\r\n\r\nIs there any way to accomplish this? (someMethod is a method on an object, not a static method)\r\n\r\n","title":"Defining a default/global Java object to Nashorn script engine?","body":"<p>With Java's Nashorn script engine, I can provide objects in the context of an eval() using bindings like so:</p>\n\n<pre><code>Bindings bindings = scriptContext.getBindings(ScriptContext.ENGINE_SCOPE);\nbindings.put(\"rules\", myObj); \nscriptEngine.eval(\"rules.someMethod('Hello')\", scriptContext);\n</code></pre>\n\n<p>I'd like to be able to simplify the javascript by providing a default object, so that instead of the javascript being:</p>\n\n<pre><code>rules.someMethod('Hello')\n</code></pre>\n\n<p>I can just write:</p>\n\n<pre><code>someMethod('Hello')\n</code></pre>\n\n<p>Is there any way to accomplish this? (someMethod is a method on an object, not a static method)</p>\n"},{"tags":["java","macos","android-studio","macos-catalina"],"comments":[{"owner":{"account_id":434980,"reputation":3666,"user_id":821306,"display_name":"Rapha&#235;l"},"score":2,"creation_date":1593612790,"post_id":62468449,"comment_id":110842737,"body_markdown":"I have the exact same problem. It happens randomly when I run a Java application but it seems to happen more when I do something with Netbeans or Maven.","body":"I have the exact same problem. It happens randomly when I run a Java application but it seems to happen more when I do something with Netbeans or Maven."},{"owner":{"account_id":2482145,"reputation":817,"user_id":2161407,"display_name":"OussaMah"},"score":0,"creation_date":1594658352,"post_id":62468449,"comment_id":111195773,"body_markdown":"I started using a virtual memory cleaner called &quot;CleanMyMac&quot; free version to clean my RAM at least once per hour, and my mac rarely crashes (once during last 2 weeks).","body":"I started using a virtual memory cleaner called &quot;CleanMyMac&quot; free version to clean my RAM at least once per hour, and my mac rarely crashes (once during last 2 weeks)."},{"owner":{"account_id":8817192,"reputation":1188,"user_id":6588221,"display_name":"Konstantin Kuznetsov"},"score":0,"creation_date":1597301883,"post_id":62468449,"comment_id":112089144,"body_markdown":"I have same problem and can&#39;t understand the cause too. Catalina 10.15.5, AndroidStudio 4.1-RC1 One difference is thread name: BSD process name corresponding to current thread: studio","body":"I have same problem and can&#39;t understand the cause too. Catalina 10.15.5, AndroidStudio 4.1-RC1 One difference is thread name: BSD process name corresponding to current thread: studio"},{"owner":{"account_id":1927464,"reputation":5476,"user_id":1895328,"display_name":"RoninDev"},"score":0,"creation_date":1605267166,"post_id":62468449,"comment_id":114604704,"body_markdown":"Same issue with current thread: idea","body":"Same issue with current thread: idea"},{"owner":{"account_id":8505390,"reputation":448,"user_id":6377163,"display_name":"Santee"},"score":0,"creation_date":1608868825,"post_id":62468449,"comment_id":115704385,"body_markdown":"Same issue with current thread: safari","body":"Same issue with current thread: safari"},{"owner":{"account_id":9076931,"reputation":375,"user_id":8225093,"display_name":"Rutvij07"},"score":0,"creation_date":1631447479,"post_id":62468449,"comment_id":122219465,"body_markdown":"The same issue with me, whenever there are multiple applications running it suddenly hangs. Any help will be appreciated","body":"The same issue with me, whenever there are multiple applications running it suddenly hangs. Any help will be appreciated"},{"owner":{"account_id":2482145,"reputation":817,"user_id":2161407,"display_name":"OussaMah"},"score":0,"creation_date":1631632048,"post_id":62468449,"comment_id":122272231,"body_markdown":"Try to update your system to BigSur, the error never occurred to me while using BigSur. I think that the problem is somehow linked to the RAM memory especially if the Mac is equipped with only 8Gb. And as you all know, you can&#39;t upgrade it to 16Gb or more, Apple wants you to buy a new Mac instead.","body":"Try to update your system to BigSur, the error never occurred to me while using BigSur. I think that the problem is somehow linked to the RAM memory especially if the Mac is equipped with only 8Gb. And as you all know, you can&#39;t upgrade it to 16Gb or more, Apple wants you to buy a new Mac instead."}],"answers":[{"tags":[],"owner":{"account_id":18764744,"reputation":15,"user_id":13682889,"display_name":"Milan Dol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650792281,"creation_date":1650792281,"answer_id":71987064,"question_id":62468449,"body_markdown":"Kernel panics are predominately caused by third-party kernel extensions or hardware faults.\r\n\r\nA Page Fault is memory related, so it may be your RAM. [Apple Diagnostics][1] or [Rember][2] can be used to check the RAM.\r\n\r\nResetting NVRAM may fix some rare causes of panics.\r\n\r\nIf you have any external hardware connected to the Mac, that could also cause a panic. If you have anything other than keyboard/mouse/printer connected, disconnect them and see if the panics stop.\r\n\r\nsource: https://discussions.apple.com/thread/251609637?answerId=253103012022#253103012022\r\n\r\n\r\n  [1]: https://support.apple.com/en-us/HT202731\r\n  [2]: http://www.kelleycomputing.net/rember/","title":"MacOs Catalina 10.15.5 crashes and report gives no clue","body":"<p>Kernel panics are predominately caused by third-party kernel extensions or hardware faults.</p>\n<p>A Page Fault is memory related, so it may be your RAM. <a href=\"https://support.apple.com/en-us/HT202731\" rel=\"nofollow noreferrer\">Apple Diagnostics</a> or <a href=\"http://www.kelleycomputing.net/rember/\" rel=\"nofollow noreferrer\">Rember</a> can be used to check the RAM.</p>\n<p>Resetting NVRAM may fix some rare causes of panics.</p>\n<p>If you have any external hardware connected to the Mac, that could also cause a panic. If you have anything other than keyboard/mouse/printer connected, disconnect them and see if the panics stop.</p>\n<p>source: <a href=\"https://discussions.apple.com/thread/251609637?answerId=253103012022#253103012022\" rel=\"nofollow noreferrer\">https://discussions.apple.com/thread/251609637?answerId=253103012022#253103012022</a></p>\n"}],"owner":{"account_id":2482145,"reputation":817,"user_id":2161407,"display_name":"OussaMah"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2904,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":1,"score":14,"last_activity_date":1650792281,"creation_date":1592563213,"question_id":62468449,"body_markdown":"I recently updated my MacOs from Catalina 10.15.4 to 10.15.5 (19F101).\r\nI use Android Studio as IDE to develop Android apps using Java programming language.\r\nSo I also updated Android Studio to v4.0 and Java to 8u251.\r\n\r\nI never faced this error before, but, now I get the system crashed at least once per day. I can&#39;t understand what caused the crash from the report details below, I only see the word java : \r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    panic(cpu 1 caller 0xffffff801524aa3a): Kernel trap at 0xffffff7f980dfbcb, type 14=page fault, registers:\r\n    CR0: 0x000000008001003b, CR2: 0x0000000000000000, CR3: 0x00000001ca6f90e2, CR4: 0x00000000003626e0\r\n    RAX: 0x013050217a000004, RBX: 0xffffff802dd55800, RCX: 0x000024980000000a, RDX: 0xffffff8104098000\r\n    RSP: 0xffffff9149053930, RBP: 0xffffff9149053960, RSI: 0x000000000000000a, RDI: 0xffffff802a335000\r\n    R8:  0x0000000000000000, R9:  0x0000000000000000, R10: 0x0000020000011000, R11: 0x0000000001a8000e\r\n    R12: 0xffffff81076f6030, R13: 0x0000000000000000, R14: 0xffffff802dd55e50, R15: 0x0000000000000000\r\n    RFL: 0x0000000000010206, RIP: 0xffffff7f980dfbcb, CS:  0x0000000000000008, SS:  0x0000000000000000\r\n    Fault CR2: 0x0000000000000000, Error code: 0x0000000000000002, Fault CPU: 0x1, PL: 0, VF: 0\r\n\r\n    Backtrace (CPU 1), Frame : Return Address\r\n    0xffffff9149053390 : 0xffffff801511f5cd \r\n    0xffffff91490533e0 : 0xffffff8015258b05 \r\n    0xffffff9149053420 : 0xffffff801524a68e \r\n    0xffffff9149053470 : 0xffffff80150c5a40 \r\n    0xffffff9149053490 : 0xffffff801511ec97 \r\n    0xffffff9149053590 : 0xffffff801511f087 \r\n    0xffffff91490535e0 : 0xffffff80158c27cc \r\n    0xffffff9149053650 : 0xffffff801524aa3a \r\n    0xffffff91490537d0 : 0xffffff801524a738 \r\n    0xffffff9149053820 : 0xffffff80150c5a40 \r\n    0xffffff9149053840 : 0xffffff7f980dfbcb \r\n    0xffffff9149053960 : 0xffffff7f97c2151e \r\n    0xffffff91490539a0 : 0xffffff7f97c21a4f \r\n    0xffffff91490539d0 : 0xffffff7f97c3067d \r\n    0xffffff9149053a10 : 0xffffff7f980e5bdc \r\n    0xffffff9149053a40 : 0xffffff7f97c1f00b \r\n    0xffffff9149053ac0 : 0xffffff801585695e \r\n    0xffffff9149053b10 : 0xffffff8015854be7 \r\n    0xffffff9149053b60 : 0xffffff801585dcb3 \r\n    0xffffff9149053ca0 : 0xffffff80152082b2 \r\n    0xffffff9149053db0 : 0xffffff8015125328 \r\n    0xffffff9149053e10 : 0xffffff80150fbcc5 \r\n    0xffffff9149053e70 : 0xffffff8015112aa2 \r\n    0xffffff9149053f00 : 0xffffff8015230d05 \r\n    0xffffff9149053fa0 : 0xffffff80150c6226 \r\n          Kernel Extensions in backtrace:\r\n             com.apple.iokit.IOAcceleratorFamily2(438.5.4)[D695D9DA-7C20-35D6-910F-E7A332A0F515]@0xffffff7f97c18000-&gt;0xffffff7f97cdcfff\r\n                dependency: com.apple.driver.AppleMobileFileIntegrity(1.0.5)[E35D090D-DB9E-3DD0-9723-651FA730AA13]@0xffffff7f961d6000\r\n                dependency: com.apple.iokit.IOPCIFamily(2.9)[BE052F4D-9B80-3FCD-B36D-BACB7DEE0DF2]@0xffffff7f95b31000\r\n                dependency: com.apple.iokit.IOSurface(269.11)[F1E7389D-2807-3C5D-8A7F-5422542E867F]@0xffffff7f96613000\r\n                dependency: com.apple.iokit.IOGraphicsFamily(576.1)[B1C0006F-E1F5-37D9-9548-5F918E92B422]@0xffffff7f96529000\r\n                dependency: com.apple.iokit.IOReportFamily(47)[1FB49168-0280-3F04-A99A-F830C915E994]@0xffffff7f95f05000\r\n             com.apple.driver.AppleIntelBDWGraphics(14.0.6)[6139D437-2098-316E-967B-4692BAA82C5B]@0xffffff7f98098000-&gt;0xffffff7f98131fff\r\n                dependency: com.apple.iokit.IOPCIFamily(2.9)[BE052F4D-9B80-3FCD-B36D-BACB7DEE0DF2]@0xffffff7f95b31000\r\n                dependency: com.apple.iokit.IOSurface(269.11)[F1E7389D-2807-3C5D-8A7F-5422542E867F]@0xffffff7f96613000\r\n                dependency: com.apple.iokit.IOGraphicsFamily(576.1)[B1C0006F-E1F5-37D9-9548-5F918E92B422]@0xffffff7f96529000\r\n                dependency: com.apple.iokit.IOAcceleratorFamily2(438.5.4)[D695D9DA-7C20-35D6-910F-E7A332A0F515]@0xffffff7f97c18000\r\n\r\n    BSD process name corresponding to current thread: java\r\n\r\n    Mac OS version:\r\n    19F101\r\n\r\n    Kernel version:\r\n    Darwin Kernel Version 19.5.0: Tue May 26 20:41:44 PDT 2020; root:xnu-6153.121.2~2/RELEASE_X86_64\r\n    Kernel UUID: 54F1A78D-6F41-32BD-BFED-4381F9F6E2EF\r\n    Kernel slide:     0x0000000014e00000\r\n    Kernel text base: 0xffffff8015000000\r\n    __HIB  text base: 0xffffff8014f00000\r\n    System model name: MacBookPro12,1 (Mac-E43C1C25D4880AD6)\r\n    System shutdown begun: NO\r\n    Panic diags file available: YES (0x0)\r\n\r\n    System uptime in nanoseconds: 28462843245396\r\n    last loaded kext at 21798979754283: &gt;usb.cdc.acm\t5.0.0 (addr 0xffffff7f98b51000, size 32768)\r\n    loaded kexts:\r\n    org.pqrs.driver.Karabiner.VirtualHIDDevice.v061000\t6.10.0\r\n    com.intel.kext.intelhaxm\t7.5.1\r\n    &gt;!AMikeyHIDDriver\t131\r\n    @fileutil\t20.036.15\r\n    &gt;AudioAUUC\t1.70\r\n    |IO!BSerialManager\t7.0.5f6\r\n    &gt;!APlatformEnabler\t2.7.0d0\r\n    &gt;AGPM\t111.4.4\r\n    &gt;X86PlatformShim\t1.0.0\r\n    @filesystems.autofs\t3.0\r\n    &gt;!AUpstreamUserClient\t3.6.8\r\n    &gt;!AHDAHardwareConfigDriver\t283.15\r\n    &gt;!AHDA\t283.15\r\n    &gt;!AGraphicsDevicePolicy\t5.2.4\r\n    @AGDCPluginDisplayMetrics\t5.2.4\r\n    &gt;!AHV\t1\r\n    |IOUserEthernet\t1.0.1\r\n    &gt;pmtelemetry\t1\r\n    &gt;AGDCBacklightControl\t5.2.4\r\n    &gt;!A!IBDWGraphics\t14.0.6\r\n    &gt;!ABacklight\t180.3\r\n    &gt;eficheck\t1\r\n    &gt;!ACameraInterface\t7.6.0\r\n    @Dont_Steal_Mac_OS_X\t7.0.0\r\n    &gt;!AThunderboltIP\t3.1.4\r\n    &gt;ACPI_SMC_PlatformPlugin\t1.0.0\r\n    &gt;!A!ISlowAdaptiveClocking\t4.0.0\r\n    &gt;!AMCCSControl\t1.14\r\n    &gt;!ASMCLMU\t212\r\n    |Broadcom!B20703USBTransport\t7.0.5f6\r\n    &gt;!A!IBDWGraphicsFramebuffer\t14.0.6\r\n    &gt;!ALPC\t3.1\r\n    &gt;!AFIVRDriver\t4.1.0\r\n    |IO!BUSBDFU\t7.0.5f6\r\n    |SCSITaskUserClient\t422.120.3\r\n    &gt;!U!SCoexistentDriver\t489.120.1\r\n    &gt;!UCardReader\t489.120.1\r\n    &gt;!AFileSystemDriver\t3.0.1\r\n    &gt;!AVirtIO\t1.0\r\n    @filesystems.hfs.kext\t522.100.5\r\n    @!AFSCompression.!AFSCompressionTypeDataless\t1.0.0d1\r\n    @BootCache\t40\r\n    @!AFSCompression.!AFSCompressionTypeZlib\t1.0.0\r\n    @filesystems.apfs\t1412.120.2\r\n    &gt;!AAHCIPort\t341.0.2\r\n    &gt;!ATopCaseHIDEventDriver\t3430.1\r\n    @private.KextAudit\t1.0\r\n    &gt;AirPort.BrcmNIC\t1400.1.1\r\n    &gt;!ASmartBatteryManager\t161.0.0\r\n    &gt;!ARTC\t2.0\r\n    &gt;!AACPIButtons\t6.1\r\n    &gt;!AHPET\t1.8\r\n    &gt;!ASMBIOS\t2.1\r\n    &gt;!AACPIEC\t6.1\r\n    &gt;!AAPIC\t1.7\r\n    $!AImage4\t1\r\n    @nke.applicationfirewall\t303\r\n    $TMSafetyNet\t8\r\n    @!ASystemPolicy\t2.0.0\r\n    |EndpointSecurity\t1\r\n    &gt;usb.cdc.acm\t5.0.0\r\n    &gt;usb.serial\t6.0.0\r\n    &gt;usb.cdc.ecm\t5.0.0\r\n    @kext.triggers\t1.0\r\n    &gt;DspFuncLib\t283.15\r\n    @kext.OSvKernDSPLib\t529\r\n    &gt;!AGraphicsControl\t5.2.4\r\n    |IOAVB!F\t850.1\r\n    &gt;!ASSE\t1.0\r\n    &gt;!ABacklightExpert\t1.1.0\r\n    &gt;IOPlatformPluginLegacy\t1.0.0\r\n    &gt;!AThunderboltEDMSink\t4.2.3\r\n    &gt;!AThunderboltDPOutAdapter\t6.2.6\r\n    @!AGPUWrangler\t5.2.4\r\n    |IOSlowAdaptiveClocking!F\t1.0.0\r\n    &gt;!ASMBus!C\t1.0.18d1\r\n    &gt;X86PlatformPlugin\t1.0.0\r\n    |IONDRVSupport\t576.1\r\n    |Broadcom!BHost!CUSBTransport\t7.0.5f6\r\n    |IO!BHost!CUSBTransport\t7.0.5f6\r\n    |IO!BHost!CTransport\t7.0.5f6\r\n    @!AGraphicsDeviceControl\t5.2.4\r\n    |IOAccelerator!F2\t438.5.4\r\n    &gt;!ASMBusPCI\t1.0.14d1\r\n    &gt;IOPlatformPlugin!F\t6.0.0d8\r\n    &gt;!AHDA!C\t283.15\r\n    |IOGraphics!F\t576.1\r\n    |IOHDA!F\t283.15\r\n    @plugin.IOgPTPPlugin\t840.3\r\n    |IOEthernetAVB!C\t1.1.0\r\n    &gt;usb.!UHub\t1.2\r\n    &gt;usb.IOUSBHostHIDDevice\t1.2\r\n    |IOUSBMass!SClass\t4.0.4\r\n    &gt;!UAudio\t323.1\r\n    &gt;usb.cdc\t5.0.0\r\n    &gt;usb.networking\t5.0.0\r\n    &gt;usb.!UHostCompositeDevice\t1.2\r\n    |IOAudio!F\t300.2\r\n    @vecLib.kext\t1.2.0\r\n    |IOSerial!F\t11\r\n    |IOSurface\t269.11\r\n    @filesystems.hfs.encodings.kext\t1\r\n    &gt;!AXsanScheme\t3\r\n    |IOAHCIBlock!S\t316.100.5\r\n    &gt;!AThunderboltDPInAdapter\t6.2.6\r\n    &gt;!AThunderboltDPAdapter!F\t6.2.6\r\n    &gt;!AThunderboltPCIDownAdapter\t2.5.4\r\n    |IOAHCI!F\t290.0.1\r\n    &gt;!AActuatorDriver\t3440.1\r\n    &gt;!AHIDKeyboard\t209\r\n    &gt;!AHS!BDriver\t3430.1\r\n    &gt;IO!BHIDDriver\t7.0.5f6\r\n    |IO!B!F\t7.0.5f6\r\n    |IO!BPacketLogger\t7.0.5f6\r\n    &gt;!AMultitouchDriver\t3440.1\r\n    &gt;!AInputDeviceSupport\t3440.8\r\n    &gt;!AHSSPIHIDDriver\t59\r\n    &gt;!AThunderboltNHI\t5.8.6\r\n    |IOThunderbolt!F\t7.6.1\r\n    |IO80211!F\t1200.12.2b1\r\n    &gt;mDNSOffloadUserClient\t1.0.1b8\r\n    &gt;corecapture\t1.0.4\r\n    |IOSkywalk!F\t1\r\n    &gt;usb.!UHostPacketFilter\t1.0\r\n    |IOUSB!F\t900.4.2\r\n    &gt;!AHSSPISupport\t59\r\n    &gt;!A!ILpssSpi!C\t3.0.60\r\n    &gt;!A!ILpssGspi\t3.0.60\r\n    &gt;!A!ILpssDmac\t3.0.60\r\n    &gt;!A!ILpssI2C\t3.0.60\r\n    &gt;usb.!UXHCIPCI\t1.2\r\n    &gt;usb.!UXHCI\t1.2\r\n    &gt;!AEFINVRAM\t2.1\r\n    &gt;!AEFIRuntime\t2.1\r\n    |IOSMBus!F\t1.1\r\n    |IOHID!F\t2.0.0\r\n    $quarantine\t4\r\n    $sandbox\t300.0\r\n    @kext.!AMatch\t1.0.0d1\r\n    &gt;DiskImages\t493.0.0\r\n    &gt;!AFDEKeyStore\t28.30\r\n    &gt;!AEffaceable!S\t1.0\r\n    &gt;!AKeyStore\t2\r\n    &gt;!UTDM\t489.120.1\r\n    |IOSCSIBlockCommandsDevice\t422.120.3\r\n    &gt;!ACredentialManager\t1.0\r\n    &gt;KernelRelayHost\t1\r\n    &gt;!ASEPManager\t1.0.1\r\n    &gt;IOSlaveProcessor\t1\r\n    |IOUSBMass!SDriver\t157.121.1\r\n    |IOSCSIArchitectureModel!F\t422.120.3\r\n    |IO!S!F\t2.1\r\n    |IOUSBHost!F\t1.2\r\n    &gt;!UHostMergeProperties\t1.2\r\n    &gt;usb.!UCommon\t1.0\r\n    &gt;!ABusPower!C\t1.0\r\n    |CoreAnalytics!F\t1\r\n    &gt;!AMobileFileIntegrity\t1.0.5\r\n    @kext.CoreTrust\t1\r\n    |IOTimeSync!F\t840.3\r\n    |IONetworking!F\t3.4\r\n    |IOReport!F\t47\r\n    &gt;!AACPIPlatform\t6.1\r\n    &gt;!ASMC\t3.1.9\r\n    &gt;watchdog\t1\r\n    |IOPCI!F\t2.9\r\n    |IOACPI!F\t1.4\r\n    @kec.pthread\t1\r\n    @kec.corecrypto\t1.0\r\n    @kec.Libm\t1\r\n\r\n\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAny help would be greatly appreciated.","title":"MacOs Catalina 10.15.5 crashes and report gives no clue","body":"<p>I recently updated my MacOs from Catalina 10.15.4 to 10.15.5 (19F101).\nI use Android Studio as IDE to develop Android apps using Java programming language.\nSo I also updated Android Studio to v4.0 and Java to 8u251.</p>\n\n<p>I never faced this error before, but, now I get the system crashed at least once per day. I can't understand what caused the crash from the report details below, I only see the word java : </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>panic(cpu 1 caller 0xffffff801524aa3a): Kernel trap at 0xffffff7f980dfbcb, type 14=page fault, registers:\r\nCR0: 0x000000008001003b, CR2: 0x0000000000000000, CR3: 0x00000001ca6f90e2, CR4: 0x00000000003626e0\r\nRAX: 0x013050217a000004, RBX: 0xffffff802dd55800, RCX: 0x000024980000000a, RDX: 0xffffff8104098000\r\nRSP: 0xffffff9149053930, RBP: 0xffffff9149053960, RSI: 0x000000000000000a, RDI: 0xffffff802a335000\r\nR8:  0x0000000000000000, R9:  0x0000000000000000, R10: 0x0000020000011000, R11: 0x0000000001a8000e\r\nR12: 0xffffff81076f6030, R13: 0x0000000000000000, R14: 0xffffff802dd55e50, R15: 0x0000000000000000\r\nRFL: 0x0000000000010206, RIP: 0xffffff7f980dfbcb, CS:  0x0000000000000008, SS:  0x0000000000000000\r\nFault CR2: 0x0000000000000000, Error code: 0x0000000000000002, Fault CPU: 0x1, PL: 0, VF: 0\r\n\r\nBacktrace (CPU 1), Frame : Return Address\r\n0xffffff9149053390 : 0xffffff801511f5cd \r\n0xffffff91490533e0 : 0xffffff8015258b05 \r\n0xffffff9149053420 : 0xffffff801524a68e \r\n0xffffff9149053470 : 0xffffff80150c5a40 \r\n0xffffff9149053490 : 0xffffff801511ec97 \r\n0xffffff9149053590 : 0xffffff801511f087 \r\n0xffffff91490535e0 : 0xffffff80158c27cc \r\n0xffffff9149053650 : 0xffffff801524aa3a \r\n0xffffff91490537d0 : 0xffffff801524a738 \r\n0xffffff9149053820 : 0xffffff80150c5a40 \r\n0xffffff9149053840 : 0xffffff7f980dfbcb \r\n0xffffff9149053960 : 0xffffff7f97c2151e \r\n0xffffff91490539a0 : 0xffffff7f97c21a4f \r\n0xffffff91490539d0 : 0xffffff7f97c3067d \r\n0xffffff9149053a10 : 0xffffff7f980e5bdc \r\n0xffffff9149053a40 : 0xffffff7f97c1f00b \r\n0xffffff9149053ac0 : 0xffffff801585695e \r\n0xffffff9149053b10 : 0xffffff8015854be7 \r\n0xffffff9149053b60 : 0xffffff801585dcb3 \r\n0xffffff9149053ca0 : 0xffffff80152082b2 \r\n0xffffff9149053db0 : 0xffffff8015125328 \r\n0xffffff9149053e10 : 0xffffff80150fbcc5 \r\n0xffffff9149053e70 : 0xffffff8015112aa2 \r\n0xffffff9149053f00 : 0xffffff8015230d05 \r\n0xffffff9149053fa0 : 0xffffff80150c6226 \r\n      Kernel Extensions in backtrace:\r\n         com.apple.iokit.IOAcceleratorFamily2(438.5.4)[D695D9DA-7C20-35D6-910F-E7A332A0F515]@0xffffff7f97c18000-&gt;0xffffff7f97cdcfff\r\n            dependency: com.apple.driver.AppleMobileFileIntegrity(1.0.5)[E35D090D-DB9E-3DD0-9723-651FA730AA13]@0xffffff7f961d6000\r\n            dependency: com.apple.iokit.IOPCIFamily(2.9)[BE052F4D-9B80-3FCD-B36D-BACB7DEE0DF2]@0xffffff7f95b31000\r\n            dependency: com.apple.iokit.IOSurface(269.11)[F1E7389D-2807-3C5D-8A7F-5422542E867F]@0xffffff7f96613000\r\n            dependency: com.apple.iokit.IOGraphicsFamily(576.1)[B1C0006F-E1F5-37D9-9548-5F918E92B422]@0xffffff7f96529000\r\n            dependency: com.apple.iokit.IOReportFamily(47)[1FB49168-0280-3F04-A99A-F830C915E994]@0xffffff7f95f05000\r\n         com.apple.driver.AppleIntelBDWGraphics(14.0.6)[6139D437-2098-316E-967B-4692BAA82C5B]@0xffffff7f98098000-&gt;0xffffff7f98131fff\r\n            dependency: com.apple.iokit.IOPCIFamily(2.9)[BE052F4D-9B80-3FCD-B36D-BACB7DEE0DF2]@0xffffff7f95b31000\r\n            dependency: com.apple.iokit.IOSurface(269.11)[F1E7389D-2807-3C5D-8A7F-5422542E867F]@0xffffff7f96613000\r\n            dependency: com.apple.iokit.IOGraphicsFamily(576.1)[B1C0006F-E1F5-37D9-9548-5F918E92B422]@0xffffff7f96529000\r\n            dependency: com.apple.iokit.IOAcceleratorFamily2(438.5.4)[D695D9DA-7C20-35D6-910F-E7A332A0F515]@0xffffff7f97c18000\r\n\r\nBSD process name corresponding to current thread: java\r\n\r\nMac OS version:\r\n19F101\r\n\r\nKernel version:\r\nDarwin Kernel Version 19.5.0: Tue May 26 20:41:44 PDT 2020; root:xnu-6153.121.2~2/RELEASE_X86_64\r\nKernel UUID: 54F1A78D-6F41-32BD-BFED-4381F9F6E2EF\r\nKernel slide:     0x0000000014e00000\r\nKernel text base: 0xffffff8015000000\r\n__HIB  text base: 0xffffff8014f00000\r\nSystem model name: MacBookPro12,1 (Mac-E43C1C25D4880AD6)\r\nSystem shutdown begun: NO\r\nPanic diags file available: YES (0x0)\r\n\r\nSystem uptime in nanoseconds: 28462843245396\r\nlast loaded kext at 21798979754283: &gt;usb.cdc.acm\t5.0.0 (addr 0xffffff7f98b51000, size 32768)\r\nloaded kexts:\r\norg.pqrs.driver.Karabiner.VirtualHIDDevice.v061000\t6.10.0\r\ncom.intel.kext.intelhaxm\t7.5.1\r\n&gt;!AMikeyHIDDriver\t131\r\n@fileutil\t20.036.15\r\n&gt;AudioAUUC\t1.70\r\n|IO!BSerialManager\t7.0.5f6\r\n&gt;!APlatformEnabler\t2.7.0d0\r\n&gt;AGPM\t111.4.4\r\n&gt;X86PlatformShim\t1.0.0\r\n@filesystems.autofs\t3.0\r\n&gt;!AUpstreamUserClient\t3.6.8\r\n&gt;!AHDAHardwareConfigDriver\t283.15\r\n&gt;!AHDA\t283.15\r\n&gt;!AGraphicsDevicePolicy\t5.2.4\r\n@AGDCPluginDisplayMetrics\t5.2.4\r\n&gt;!AHV\t1\r\n|IOUserEthernet\t1.0.1\r\n&gt;pmtelemetry\t1\r\n&gt;AGDCBacklightControl\t5.2.4\r\n&gt;!A!IBDWGraphics\t14.0.6\r\n&gt;!ABacklight\t180.3\r\n&gt;eficheck\t1\r\n&gt;!ACameraInterface\t7.6.0\r\n@Dont_Steal_Mac_OS_X\t7.0.0\r\n&gt;!AThunderboltIP\t3.1.4\r\n&gt;ACPI_SMC_PlatformPlugin\t1.0.0\r\n&gt;!A!ISlowAdaptiveClocking\t4.0.0\r\n&gt;!AMCCSControl\t1.14\r\n&gt;!ASMCLMU\t212\r\n|Broadcom!B20703USBTransport\t7.0.5f6\r\n&gt;!A!IBDWGraphicsFramebuffer\t14.0.6\r\n&gt;!ALPC\t3.1\r\n&gt;!AFIVRDriver\t4.1.0\r\n|IO!BUSBDFU\t7.0.5f6\r\n|SCSITaskUserClient\t422.120.3\r\n&gt;!U!SCoexistentDriver\t489.120.1\r\n&gt;!UCardReader\t489.120.1\r\n&gt;!AFileSystemDriver\t3.0.1\r\n&gt;!AVirtIO\t1.0\r\n@filesystems.hfs.kext\t522.100.5\r\n@!AFSCompression.!AFSCompressionTypeDataless\t1.0.0d1\r\n@BootCache\t40\r\n@!AFSCompression.!AFSCompressionTypeZlib\t1.0.0\r\n@filesystems.apfs\t1412.120.2\r\n&gt;!AAHCIPort\t341.0.2\r\n&gt;!ATopCaseHIDEventDriver\t3430.1\r\n@private.KextAudit\t1.0\r\n&gt;AirPort.BrcmNIC\t1400.1.1\r\n&gt;!ASmartBatteryManager\t161.0.0\r\n&gt;!ARTC\t2.0\r\n&gt;!AACPIButtons\t6.1\r\n&gt;!AHPET\t1.8\r\n&gt;!ASMBIOS\t2.1\r\n&gt;!AACPIEC\t6.1\r\n&gt;!AAPIC\t1.7\r\n$!AImage4\t1\r\n@nke.applicationfirewall\t303\r\n$TMSafetyNet\t8\r\n@!ASystemPolicy\t2.0.0\r\n|EndpointSecurity\t1\r\n&gt;usb.cdc.acm\t5.0.0\r\n&gt;usb.serial\t6.0.0\r\n&gt;usb.cdc.ecm\t5.0.0\r\n@kext.triggers\t1.0\r\n&gt;DspFuncLib\t283.15\r\n@kext.OSvKernDSPLib\t529\r\n&gt;!AGraphicsControl\t5.2.4\r\n|IOAVB!F\t850.1\r\n&gt;!ASSE\t1.0\r\n&gt;!ABacklightExpert\t1.1.0\r\n&gt;IOPlatformPluginLegacy\t1.0.0\r\n&gt;!AThunderboltEDMSink\t4.2.3\r\n&gt;!AThunderboltDPOutAdapter\t6.2.6\r\n@!AGPUWrangler\t5.2.4\r\n|IOSlowAdaptiveClocking!F\t1.0.0\r\n&gt;!ASMBus!C\t1.0.18d1\r\n&gt;X86PlatformPlugin\t1.0.0\r\n|IONDRVSupport\t576.1\r\n|Broadcom!BHost!CUSBTransport\t7.0.5f6\r\n|IO!BHost!CUSBTransport\t7.0.5f6\r\n|IO!BHost!CTransport\t7.0.5f6\r\n@!AGraphicsDeviceControl\t5.2.4\r\n|IOAccelerator!F2\t438.5.4\r\n&gt;!ASMBusPCI\t1.0.14d1\r\n&gt;IOPlatformPlugin!F\t6.0.0d8\r\n&gt;!AHDA!C\t283.15\r\n|IOGraphics!F\t576.1\r\n|IOHDA!F\t283.15\r\n@plugin.IOgPTPPlugin\t840.3\r\n|IOEthernetAVB!C\t1.1.0\r\n&gt;usb.!UHub\t1.2\r\n&gt;usb.IOUSBHostHIDDevice\t1.2\r\n|IOUSBMass!SClass\t4.0.4\r\n&gt;!UAudio\t323.1\r\n&gt;usb.cdc\t5.0.0\r\n&gt;usb.networking\t5.0.0\r\n&gt;usb.!UHostCompositeDevice\t1.2\r\n|IOAudio!F\t300.2\r\n@vecLib.kext\t1.2.0\r\n|IOSerial!F\t11\r\n|IOSurface\t269.11\r\n@filesystems.hfs.encodings.kext\t1\r\n&gt;!AXsanScheme\t3\r\n|IOAHCIBlock!S\t316.100.5\r\n&gt;!AThunderboltDPInAdapter\t6.2.6\r\n&gt;!AThunderboltDPAdapter!F\t6.2.6\r\n&gt;!AThunderboltPCIDownAdapter\t2.5.4\r\n|IOAHCI!F\t290.0.1\r\n&gt;!AActuatorDriver\t3440.1\r\n&gt;!AHIDKeyboard\t209\r\n&gt;!AHS!BDriver\t3430.1\r\n&gt;IO!BHIDDriver\t7.0.5f6\r\n|IO!B!F\t7.0.5f6\r\n|IO!BPacketLogger\t7.0.5f6\r\n&gt;!AMultitouchDriver\t3440.1\r\n&gt;!AInputDeviceSupport\t3440.8\r\n&gt;!AHSSPIHIDDriver\t59\r\n&gt;!AThunderboltNHI\t5.8.6\r\n|IOThunderbolt!F\t7.6.1\r\n|IO80211!F\t1200.12.2b1\r\n&gt;mDNSOffloadUserClient\t1.0.1b8\r\n&gt;corecapture\t1.0.4\r\n|IOSkywalk!F\t1\r\n&gt;usb.!UHostPacketFilter\t1.0\r\n|IOUSB!F\t900.4.2\r\n&gt;!AHSSPISupport\t59\r\n&gt;!A!ILpssSpi!C\t3.0.60\r\n&gt;!A!ILpssGspi\t3.0.60\r\n&gt;!A!ILpssDmac\t3.0.60\r\n&gt;!A!ILpssI2C\t3.0.60\r\n&gt;usb.!UXHCIPCI\t1.2\r\n&gt;usb.!UXHCI\t1.2\r\n&gt;!AEFINVRAM\t2.1\r\n&gt;!AEFIRuntime\t2.1\r\n|IOSMBus!F\t1.1\r\n|IOHID!F\t2.0.0\r\n$quarantine\t4\r\n$sandbox\t300.0\r\n@kext.!AMatch\t1.0.0d1\r\n&gt;DiskImages\t493.0.0\r\n&gt;!AFDEKeyStore\t28.30\r\n&gt;!AEffaceable!S\t1.0\r\n&gt;!AKeyStore\t2\r\n&gt;!UTDM\t489.120.1\r\n|IOSCSIBlockCommandsDevice\t422.120.3\r\n&gt;!ACredentialManager\t1.0\r\n&gt;KernelRelayHost\t1\r\n&gt;!ASEPManager\t1.0.1\r\n&gt;IOSlaveProcessor\t1\r\n|IOUSBMass!SDriver\t157.121.1\r\n|IOSCSIArchitectureModel!F\t422.120.3\r\n|IO!S!F\t2.1\r\n|IOUSBHost!F\t1.2\r\n&gt;!UHostMergeProperties\t1.2\r\n&gt;usb.!UCommon\t1.0\r\n&gt;!ABusPower!C\t1.0\r\n|CoreAnalytics!F\t1\r\n&gt;!AMobileFileIntegrity\t1.0.5\r\n@kext.CoreTrust\t1\r\n|IOTimeSync!F\t840.3\r\n|IONetworking!F\t3.4\r\n|IOReport!F\t47\r\n&gt;!AACPIPlatform\t6.1\r\n&gt;!ASMC\t3.1.9\r\n&gt;watchdog\t1\r\n|IOPCI!F\t2.9\r\n|IOACPI!F\t1.4\r\n@kec.pthread\t1\r\n@kec.corecrypto\t1.0\r\n@kec.Libm\t1</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Any help would be greatly appreciated.</p>\n"},{"tags":["java","zip"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1508422312,"post_id":46831932,"comment_id":80611370,"body_markdown":"Look at its [magic number](https://en.wikipedia.org/wiki/Zip_(file_format)).","body":"Look at its <a href=\"https://en.wikipedia.org/wiki/Zip_(file_format)\" rel=\"nofollow noreferrer\">magic number</a>."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1508422875,"post_id":46831932,"comment_id":80611730,"body_markdown":"What is your definition of a &quot;valid zip file&quot;?","body":"What is your definition of a &quot;valid zip file&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":3856521,"reputation":1920,"user_id":3195314,"display_name":"alseether"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526027281,"creation_date":1508422736,"answer_id":46832121,"question_id":46831932,"body_markdown":"Check [Zip4j][1] library. It is really easy to use and the `ZipFile` class has a `isValidZipFile()` method\r\n\r\n\r\n  [1]: http://javadox.com/net.lingala.zip4j/zip4j/1.3.1/net/lingala/zip4j/core/ZipFile.html","title":"Java: Telling whether a byte array is a zip file","body":"<p>Check <a href=\"http://javadox.com/net.lingala.zip4j/zip4j/1.3.1/net/lingala/zip4j/core/ZipFile.html\" rel=\"nofollow noreferrer\">Zip4j</a> library. It is really easy to use and the <code>ZipFile</code> class has a <code>isValidZipFile()</code> method</p>\n"},{"tags":[],"owner":{"account_id":11190113,"reputation":16,"user_id":8210848,"display_name":"YMA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508423110,"creation_date":1508423110,"answer_id":46832261,"question_id":46831932,"body_markdown":"If you want to standard way to implement for this process, you can use serialization API.For that use following articles that found myself while searching about this topic.\r\n\r\n[Article 1 - javaworld][1]&lt;br&gt;\r\n[Article 2 - developer.com][2]\r\n\r\n\r\n  [1]: https://www.javaworld.com/article/2072752/the-java-serialization-algorithm-revealed.html\r\n  [2]: https://www.developer.com/java/data/advanced-concepts-of-java-object-serialization.html","title":"Java: Telling whether a byte array is a zip file","body":"<p>If you want to standard way to implement for this process, you can use serialization API.For that use following articles that found myself while searching about this topic.</p>\n\n<p><a href=\"https://www.javaworld.com/article/2072752/the-java-serialization-algorithm-revealed.html\" rel=\"nofollow noreferrer\">Article 1 - javaworld</a><br>\n<a href=\"https://www.developer.com/java/data/advanced-concepts-of-java-object-serialization.html\" rel=\"nofollow noreferrer\">Article 2 - developer.com</a></p>\n"},{"tags":[],"owner":{"account_id":3862105,"reputation":29203,"user_id":3199595,"accept_rate":84,"display_name":"Malt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1508423553,"creation_date":1508423217,"answer_id":46832295,"question_id":46831932,"body_markdown":"Files are typically identified using [magic numbers][1] in the beginning of the file. \r\n\r\nTo make an educated guess about a given file Java has built-in method of detecting some file types: [Files.probeContentType][2]. Plus, there are various third party libraries: [simplemagic][3] or [Apache Tika][4] (which supports more than only magic numbers).\r\n\r\nBut content detection alone won&#39;t tell you whether the file is *valid*. For that, you&#39;d need something that actually knows how to read Zip files, such as Java&#39;s [ZipFile][5]. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/File_format#Magic_number\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#probeContentType-java.nio.file.Path-\r\n  [3]: https://github.com/j256/simplemagic\r\n  [4]: http://tika.apache.org/\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/util/zip/ZipFile.html","title":"Java: Telling whether a byte array is a zip file","body":"<p>Files are typically identified using <a href=\"https://en.wikipedia.org/wiki/File_format#Magic_number\" rel=\"nofollow noreferrer\">magic numbers</a> in the beginning of the file. </p>\n\n<p>To make an educated guess about a given file Java has built-in method of detecting some file types: <a href=\"http://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#probeContentType-java.nio.file.Path-\" rel=\"nofollow noreferrer\">Files.probeContentType</a>. Plus, there are various third party libraries: <a href=\"https://github.com/j256/simplemagic\" rel=\"nofollow noreferrer\">simplemagic</a> or <a href=\"http://tika.apache.org/\" rel=\"nofollow noreferrer\">Apache Tika</a> (which supports more than only magic numbers).</p>\n\n<p>But content detection alone won't tell you whether the file is <em>valid</em>. For that, you'd need something that actually knows how to read Zip files, such as Java's <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/zip/ZipFile.html\" rel=\"nofollow noreferrer\">ZipFile</a>. </p>\n"},{"tags":[],"owner":{"account_id":104640,"reputation":192,"user_id":279632,"display_name":"Faz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650791307,"creation_date":1650791307,"answer_id":71986962,"question_id":46831932,"body_markdown":"The easiest way is to check the &quot;PK&quot; magic at the beginning of the byte array.\r\n\r\nSomething like this: \t\t\r\n\r\n&quot;PK&quot;.equals(new String(array, 0,2))\r\n","title":"Java: Telling whether a byte array is a zip file","body":"<p>The easiest way is to check the &quot;PK&quot; magic at the beginning of the byte array.</p>\n<p>Something like this:</p>\n<p>&quot;PK&quot;.equals(new String(array, 0,2))</p>\n"}],"owner":{"account_id":4038832,"reputation":11673,"user_id":3322273,"accept_rate":73,"display_name":"SomethingSomething"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1914,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":46832295,"answer_count":4,"score":0,"last_activity_date":1650791307,"creation_date":1508422239,"question_id":46831932,"body_markdown":"I have a server written in Java, that in a single request, gets a whole file from the client. The file is passed to the server as a list of bytes, and is finally represented in the java server as a byte array.\r\n\r\nIs there some standard way / standard library that could tell whether a file represented by a byte array is a valid **zip** file?","title":"Java: Telling whether a byte array is a zip file","body":"<p>I have a server written in Java, that in a single request, gets a whole file from the client. The file is passed to the server as a list of bytes, and is finally represented in the java server as a byte array.</p>\n\n<p>Is there some standard way / standard library that could tell whether a file represented by a byte array is a valid <strong>zip</strong> file?</p>\n"},{"tags":["java","spring-boot","tomcat","filter","utf-8"],"comments":[{"owner":{"account_id":2522425,"reputation":577,"user_id":2192527,"accept_rate":61,"display_name":"Dave"},"score":0,"creation_date":1649832358,"post_id":71851408,"comment_id":126972302,"body_markdown":"It because the character set your using to display your message does not have a mapping for the character your attempting to display.\n\nYou need to research the issues of I18N/internalisation\n\nFor example https://stackoverflow.com/questions/12486781/java-replace-missing-unicode-symbols-in-a-string","body":"It because the character set your using to display your message does not have a mapping for the character your attempting to display.  You need to research the issues of I18N/internalisation  For example <a href=\"https://stackoverflow.com/questions/12486781/java-replace-missing-unicode-symbols-in-a-string\" title=\"java replace missing unicode symbols in a string\">stackoverflow.com/questions/12486781/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":23772853,"reputation":1,"user_id":17786678,"display_name":"qun cheng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650791228,"creation_date":1650791228,"answer_id":71986953,"question_id":71851408,"body_markdown":"The wrapper.reset() method will reset characterEncoding of wrapper to ISO-8859-1 ,So I use wrapper.setCharacterEncoding(StandardCharsets.UTF_8.toString()); wrapper.resetBuffer(); Then solved this bug.","title":"How to solve Chinese garbled when using javax.servlet.Filter","body":"<p>The wrapper.reset() method will reset characterEncoding of wrapper to ISO-8859-1 ,So I use wrapper.setCharacterEncoding(StandardCharsets.UTF_8.toString()); wrapper.resetBuffer(); Then solved this bug.</p>\n"}],"owner":{"account_id":23772853,"reputation":1,"user_id":17786678,"display_name":"qun cheng"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650791228,"creation_date":1649819478,"question_id":71851408,"body_markdown":"```\r\nContentCachingResponseWrapper wrapper = new ContentCachingResponseWrapper(response);\r\nwrapper.setContentType(&quot;application/json;charset=UTF-8&quot;);\r\nwrapper.setCharacterEncoding(&quot;UTF-8&quot;);\r\nfilterChain.doFilter(request, wrapper);\r\nif (uris != null) {\r\n\tbyte[] bytes = wrapper.getContentAsByteArray();\r\n\tString content = new String(bytes, StandardCharsets.UTF_8);\r\n\tObject jsonObject = JSONObject.parse(content);\r\n\tif (jsonObject != null) {\r\n\t\tfor (int i = 0; i &lt; uris.size(); i++) {\r\n\t\t\tString[] attrs = uris.get(i).split(&quot;\\\\.&quot;);\r\n\t\t\tif (!rights.contains(attrs[attrs.length-1])){\r\n\t\t\t\tfilter(jsonObject, attrs, 0);\r\n\t\t\t}\r\n\t\t}\r\n\t\twrapper.reset();\r\n\t\twrapper.getWriter().write(((JSONObject) jsonObject).toJSONString());\r\n\t}\r\n}\r\nwrapper.copyBodyToResponse();\r\n```\r\n**Why response to the web page ,the Chinese characters become ????\r\nAnd If I remove this filter, the Chinese characters become normal. **","title":"How to solve Chinese garbled when using javax.servlet.Filter","body":"<pre><code>ContentCachingResponseWrapper wrapper = new ContentCachingResponseWrapper(response);\nwrapper.setContentType(&quot;application/json;charset=UTF-8&quot;);\nwrapper.setCharacterEncoding(&quot;UTF-8&quot;);\nfilterChain.doFilter(request, wrapper);\nif (uris != null) {\n    byte[] bytes = wrapper.getContentAsByteArray();\n    String content = new String(bytes, StandardCharsets.UTF_8);\n    Object jsonObject = JSONObject.parse(content);\n    if (jsonObject != null) {\n        for (int i = 0; i &lt; uris.size(); i++) {\n            String[] attrs = uris.get(i).split(&quot;\\\\.&quot;);\n            if (!rights.contains(attrs[attrs.length-1])){\n                filter(jsonObject, attrs, 0);\n            }\n        }\n        wrapper.reset();\n        wrapper.getWriter().write(((JSONObject) jsonObject).toJSONString());\n    }\n}\nwrapper.copyBodyToResponse();\n</code></pre>\n<p>**Why response to the web page ,the Chinese characters become ????\nAnd If I remove this filter, the Chinese characters become normal. **</p>\n"},{"tags":["java","algorithm","recursion","tree","nodes"],"comments":[{"owner":{"account_id":9569746,"reputation":53,"user_id":7107760,"accept_rate":75,"display_name":"Ravitej Rai"},"score":0,"creation_date":1480708223,"post_id":27229579,"comment_id":69098067,"body_markdown":"There is no inorder traversal for a general tree.","body":"There is no inorder traversal for a general tree."},{"owner":{"account_id":316230,"reputation":4509,"user_id":632293,"display_name":"jediz"},"score":0,"creation_date":1480709168,"post_id":27229579,"comment_id":69098068,"body_markdown":"you mean not implemented in standard java perhaps, but there definitely are libraries.","body":"you mean not implemented in standard java perhaps, but there definitely are libraries."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1417443294,"creation_date":1417443294,"answer_id":27230278,"question_id":27229579,"body_markdown":"I have neglected the order for now, and just given an `Tree.insert(parentData, data)`.\r\nWith the hope that this helps getting you started.\r\n\r\n    public class Node&lt;T&gt; {\r\n        private T data;   \r\n        private List&lt;Node&lt;T&gt;&gt; children;\r\n\r\n        Node&lt;T&gt; find(T data) {\r\n            if (this.data.equals(data)) {\r\n                return this;\r\n            }\r\n            for (Node&lt;T&gt; node : children) {\r\n                Node&lt;T&gt; found = node.find(data);\r\n                if (found != null) {\r\n                    return found;\r\n                }\r\n            }\r\n            return null; // Not found.\r\n        }\r\n\r\n    public class Tree&lt;T&gt; {\r\n\r\n        public find(T data) {\r\n            return root == null ? null : root.find(data);\r\n        }\r\n\r\n        public boolean insert(T parentData, T data) {\r\n            Node&lt;T&gt; found = find(parentData);\r\n            if (found == null) {\r\n                return false;\r\n            }\r\n            found.getChildren().add(new Node(data));\r\n            return true;\r\n        }\r\n\r\nAs one sees, having a `find(data)` method for retrieving the (parent) Node helps.\r\nThe search method `find` here disregards any sorting of the values, and does a preorder search.\r\n\r\nAs far as order is concerned, normally on has nodes of the form:\r\n\r\n    class Node&lt;T&gt; {\r\n        List&lt;Node&lt;T&gt;&gt; children; // 0, 1, ... N\r\n        List&lt;T&gt; values; // 0, 1, ... N-1\r\n    }\r\n\r\nWith an sort ordering:\r\n\r\n    children[0]\r\n    values[0}\r\n    children[1}\r\n    values[0]\r\n    children[2]\r\n    ...\r\n    children[N-1]\r\n    values[N-1]\r\n    children[N]\r\n\r\nOne might retain the values in the entire tree in this order.\r\nSorting and preorder/postorder walks and bread f&#237;rst/depth first walks are different notions.","title":"Building general trees in java (with recursion)","body":"<p>I have neglected the order for now, and just given an <code>Tree.insert(parentData, data)</code>.\nWith the hope that this helps getting you started.</p>\n\n<pre><code>public class Node&lt;T&gt; {\n    private T data;   \n    private List&lt;Node&lt;T&gt;&gt; children;\n\n    Node&lt;T&gt; find(T data) {\n        if (this.data.equals(data)) {\n            return this;\n        }\n        for (Node&lt;T&gt; node : children) {\n            Node&lt;T&gt; found = node.find(data);\n            if (found != null) {\n                return found;\n            }\n        }\n        return null; // Not found.\n    }\n\npublic class Tree&lt;T&gt; {\n\n    public find(T data) {\n        return root == null ? null : root.find(data);\n    }\n\n    public boolean insert(T parentData, T data) {\n        Node&lt;T&gt; found = find(parentData);\n        if (found == null) {\n            return false;\n        }\n        found.getChildren().add(new Node(data));\n        return true;\n    }\n</code></pre>\n\n<p>As one sees, having a <code>find(data)</code> method for retrieving the (parent) Node helps.\nThe search method <code>find</code> here disregards any sorting of the values, and does a preorder search.</p>\n\n<p>As far as order is concerned, normally on has nodes of the form:</p>\n\n<pre><code>class Node&lt;T&gt; {\n    List&lt;Node&lt;T&gt;&gt; children; // 0, 1, ... N\n    List&lt;T&gt; values; // 0, 1, ... N-1\n}\n</code></pre>\n\n<p>With an sort ordering:</p>\n\n<pre><code>children[0]\nvalues[0}\nchildren[1}\nvalues[0]\nchildren[2]\n...\nchildren[N-1]\nvalues[N-1]\nchildren[N]\n</code></pre>\n\n<p>One might retain the values in the entire tree in this order.\nSorting and preorder/postorder walks and bread fírst/depth first walks are different notions.</p>\n"}],"owner":{"account_id":5416571,"reputation":33,"user_id":4311558,"display_name":"Knotty_da_kid"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13681,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":27230278,"answer_count":1,"score":3,"last_activity_date":1650791036,"creation_date":1417440735,"question_id":27229579,"body_markdown":"I have been stuck on a problem for quite a few days. My end goal is to perform preorder, inorder, and postorder traversals on a general tree. The problem I am having is just populating the tree. I am only able to add nodes to the root and to the root&#39;s children. I am not able to move &quot;down&quot; past the roots children. I woke up one morning with the idea of building the tree recursively from a bottom-up approach. I have never used recursion so first of all, is this possible? I would basically build the tree by creating the nodes at the bottom of the tree and then work my way up?\r\n\r\nHere is my node class:\r\n\r\n    //Represents node of the Tree&lt;T&gt; class\r\n    public class Node&lt;T&gt;\r\n    {\r\n      public T data;   \r\n      public List&lt;Node&lt;T&gt;&gt; children;\r\n      \r\n      //Default constructor\r\n      public Node()\r\n      {\r\n         super();\r\n         children = new ArrayList&lt;Node&lt;T&gt;&gt;();\r\n      }\r\n      \r\n      public Node(T data)\r\n      {\r\n         this();\r\n         setData(data);\r\n      }\r\n      \r\n      //Return the children of Node&lt;T&gt;\r\n      public List&lt;Node&lt;T&gt;&gt; getChildren()\r\n      {\r\n         if(this.children == null)\r\n         {\r\n            return new ArrayList&lt;Node&lt;T&gt;&gt;();\r\n         }  \r\n         return this.children;\r\n      }\r\n      \r\n      //Sets the children of a Node&lt;T&gt; object\r\n      public void setChildren(List&lt;Node&lt;T&gt;&gt; children)\r\n      {\r\n         this.children = children;\r\n      }\r\n      \r\n      //Returns the number of immediate children of this Node&lt;T&gt;\r\n      public int getNumberOfChildren()\r\n      {\r\n         if(children == null)\r\n         {\r\n            return 0;\r\n         } \r\n         return children.size();\r\n      }\r\n      \r\n      //Adds a child to the list of children for this Node&lt;T&gt;\r\n      public void addChild(Node&lt;T&gt; child)\r\n      {\r\n         if(children == null)\r\n         {\r\n            children = new ArrayList&lt;Node&lt;T&gt;&gt;();\r\n         }\r\n         children.add(child);\r\n      }\r\n      \r\n      public void addChildAt(int index, Node&lt;T&gt; child) throws IndexOutOfBoundsException\r\n      {\r\n         if(index == getNumberOfChildren())\r\n         {\r\n            addChild(child);\r\n            return;\r\n         }\r\n         else\r\n         {\r\n            children.get(index);\r\n            children.add(index, child);\r\n         }\r\n      }\r\n      \r\n      public boolean isLeaf()\r\n      {\r\n         if(getNumberOfChildren() == 0)\r\n            return true;\r\n         return false;\r\n      }\r\n      \r\n      public T getData()\r\n      {\r\n         return this.data;\r\n      }  \r\n      \r\n      public void setData(T data)\r\n      {\r\n         this.data = data;\r\n      }\r\n      \r\n      public String toString()\r\n      {\r\n         StringBuilder sb = new StringBuilder();\r\n         sb.append(&quot;{&quot;).append(getData().toString()).append(&quot;,[&quot;);\r\n         int i = 0;\r\n         for(Node&lt;T&gt; e : getChildren())\r\n         {\r\n            if(i &gt; 0)\r\n            {\r\n               sb.append(&quot;,&quot;);\r\n            }\r\n            sb.append(e.getData().toString());\r\n            i++;\r\n         }\r\n         sb.append(&quot;]&quot;).append(&quot;}&quot;);\r\n         return sb.toString();\r\n      }\r\n    }\r\n\r\nHere is my tree class:\r\n\r\n    //Tree class\r\n    public class Tree&lt;T&gt;\r\n    {\r\n       private Node&lt;T&gt; root;\r\n   \r\n       //Default constructor\r\n       public Tree()\r\n       {\r\n          super();\r\n       }\r\n   \r\n       //Returns the root\r\n       public Node&lt;T&gt; getRoot()\r\n       {\r\n          return this.root;\r\n       }\r\n   \r\n       //Set the root of the tree\r\n       public void setRoot(Node&lt;T&gt; root)\r\n       {\r\n          this.root = root;\r\n       }\r\n   \r\n       //Returns the Tree&lt;T&gt; as a List of Node&lt;T&gt; objects\r\n       public List&lt;Node&lt;T&gt;&gt; toList()\r\n       {\r\n          List&lt;Node&lt;T&gt;&gt; list = new ArrayList&lt;Node&lt;T&gt;&gt;();\r\n          walk(root, list);\r\n          return list;\r\n       }\r\n   \r\n       //String representation of ttree\r\n       public String toString()\r\n       {\r\n          return toList().toString();\r\n       }\r\n   \r\n       //Preorder traversal\r\n       private void walk(Node&lt;T&gt; element, List&lt;Node&lt;T&gt;&gt; list)\r\n       {\r\n          list.add(element);\r\n          for(Node&lt;T&gt; data : element.getChildren())\r\n          {\r\n             walk(data, list);\r\n          }\r\n       }\r\n    }\r\n\r\nThis is my main driver program:\r\n\r\n    //Importing packages\r\n    import java.util.Scanner;\r\n    import java.util.StringTokenizer;\r\n    import java.io.*;\r\n    import java.io.BufferedReader;\r\n    import java.util.List;\r\n    import java.util.ArrayList;\r\n\r\n    //Class header\r\n    public class treeTraversals\r\n    {\r\n       //Main method\r\n       public static void main (String[] args) throws IOException\r\n       {\r\n          //Defining variables\r\n          String file;\r\n          int size = 0;\r\n          int id = 1;\r\n          int counter = 1;\r\n            \r\n          Scanner keyboard = new Scanner(System.in);\r\n      \r\n          //Request file\r\n          System.out.print(&quot;Enter the filename: &quot;);\r\n          file = keyboard.nextLine();\r\n      \r\n          //Read file\r\n          File treeFile = new File(file);\r\n          Scanner inputFile = new Scanner(treeFile);\r\n          BufferedReader reader = new BufferedReader(new FileReader(file));\r\n      \r\n          //Find size of input file\r\n          while(reader.readLine() != null)\r\n          {\r\n             size++;\r\n          }\r\n          reader.close();\r\n\r\n          String[] parent = new String[size+1];\r\n          String[] child = new String[size+1];\r\n      \r\n          //Add file vaules to arrays\r\n          while(inputFile.hasNext())\r\n          {       \r\n                String line = inputFile.nextLine();\r\n                StringTokenizer st = new StringTokenizer(line);\r\n            \r\n                while(st.hasMoreTokens())\r\n                {    \r\n                   String previousValue = st.nextToken();\r\n                   String nextValue = st.nextToken();\r\n               \r\n                   parent[counter] = previousValue;\r\n                   child[counter] = nextValue;\r\n            \r\n                   counter++;\r\n                }\r\n          }\r\n          System.out.println();\r\n      \r\n          //Output to the screen\r\n          System.out.println(&quot;The Tree&quot;);\r\n          System.out.println();\r\n      \r\n          for(int l = 1; l &lt;= size; l++)\r\n          {\r\n             System.out.print(parent[l] + &quot; &quot;);\r\n             System.out.println(child[l]);\r\n          }\r\n      \r\n          //Create the root of the tree\r\n          Tree tree = new Tree();\r\n          Node root = new Node(parent[id]);\r\n          tree.setRoot(root);\r\n           \r\n          Node active = new Node();\r\n      \r\n          //Fill tree with nodes  \r\n          for(id = 1; id &lt;= size; id++)\r\n          {       \r\n             Node parentNode = new Node(parent[id]);\r\n             Node childNode = new Node(child[id]);\r\n             active = root; \r\n             int passage = 0;\r\n         \r\n             //Adds children to the root node\r\n             if(parentNode.getData().equals(active.getData()))\r\n             {       \r\n                active.addChild(childNode);\r\n            \r\n                System.out.println(tree.toList());\r\n             }\r\n             //Adds children to the root&#39;s children\r\n             else if(!parentNode.getData().equals(active.getData()))\r\n             {         \r\n                boolean marked = false;\r\n                int i = -1;\r\n                int n = 0;\r\n            \r\n            \r\n                while(i != active.getNumberOfChildren() &amp;&amp; marked == false &amp;&amp; n &lt;= 2)\r\n                {\r\n                   active = root;     \r\n                   active = (Node)active.getChildren().get(n);\r\n                             \r\n                   if(active.getData().equals(parentNode.getData()))\r\n                   {\r\n                      active.addChild(childNode);\r\n                      marked = true;\r\n                   }\r\n                   i++;\r\n                   n++; \r\n                }   \r\n            \r\n                active = root;\r\n                if(n &gt;= 3 &amp;&amp; marked == false)\r\n                {\r\n                   for(int p=0; p &lt; active.getNumberOfChildren(); p++)\r\n                   {\r\n                       active = (Node)active.getChildren().get(p);\r\n               \r\n                       if(active.getData().equals(parentNode.getData()))\r\n                       {\r\n                          active.addChild(childNode);\r\n                          //p++;\r\n                          marked = true;\r\n                       }\r\n                       else\r\n                       {  \r\n                           active = root;\r\n                           active = (Node)active.getChildren().get(p);\r\n                           active = (Node)active.getChildren().get(p);\r\n                           if(active.getData().equals(parentNode))\r\n                           {\r\n                               active.addChild(childNode);\r\n                               System.out.println(&quot;No&quot;);\r\n                               p = 0;\r\n                           }\r\n                        }\r\n                     }\r\n                  }\r\n               }\r\n               //See the nodes in the tree\r\n               System.out.println(tree.toList());\r\n            }\r\n         }\r\n      }\r\n\r\nLastly, here is the text file that is provided:\r\n\r\n    a  b\r\n    a  c\r\n    a  d\r\n    b  e\r\n    b  f\r\n    d  g\r\n    d  h\r\n    d  i\r\n    e  j\r\n    e  k\r\n    g  l\r\n    g  m\r\n    k  n\r\n    k  o\r\n    k  p\r\n\r\nPlease, any help would be appreciated, I&#39;m stuck on my own approach so I&#39;m asking: how would I even start if I&#39;m going with a recursive approach?\r\n","title":"Building general trees in java (with recursion)","body":"<p>I have been stuck on a problem for quite a few days. My end goal is to perform preorder, inorder, and postorder traversals on a general tree. The problem I am having is just populating the tree. I am only able to add nodes to the root and to the root's children. I am not able to move \"down\" past the roots children. I woke up one morning with the idea of building the tree recursively from a bottom-up approach. I have never used recursion so first of all, is this possible? I would basically build the tree by creating the nodes at the bottom of the tree and then work my way up?</p>\n\n<p>Here is my node class:</p>\n\n<pre><code>//Represents node of the Tree&lt;T&gt; class\npublic class Node&lt;T&gt;\n{\n  public T data;   \n  public List&lt;Node&lt;T&gt;&gt; children;\n\n  //Default constructor\n  public Node()\n  {\n     super();\n     children = new ArrayList&lt;Node&lt;T&gt;&gt;();\n  }\n\n  public Node(T data)\n  {\n     this();\n     setData(data);\n  }\n\n  //Return the children of Node&lt;T&gt;\n  public List&lt;Node&lt;T&gt;&gt; getChildren()\n  {\n     if(this.children == null)\n     {\n        return new ArrayList&lt;Node&lt;T&gt;&gt;();\n     }  \n     return this.children;\n  }\n\n  //Sets the children of a Node&lt;T&gt; object\n  public void setChildren(List&lt;Node&lt;T&gt;&gt; children)\n  {\n     this.children = children;\n  }\n\n  //Returns the number of immediate children of this Node&lt;T&gt;\n  public int getNumberOfChildren()\n  {\n     if(children == null)\n     {\n        return 0;\n     } \n     return children.size();\n  }\n\n  //Adds a child to the list of children for this Node&lt;T&gt;\n  public void addChild(Node&lt;T&gt; child)\n  {\n     if(children == null)\n     {\n        children = new ArrayList&lt;Node&lt;T&gt;&gt;();\n     }\n     children.add(child);\n  }\n\n  public void addChildAt(int index, Node&lt;T&gt; child) throws IndexOutOfBoundsException\n  {\n     if(index == getNumberOfChildren())\n     {\n        addChild(child);\n        return;\n     }\n     else\n     {\n        children.get(index);\n        children.add(index, child);\n     }\n  }\n\n  public boolean isLeaf()\n  {\n     if(getNumberOfChildren() == 0)\n        return true;\n     return false;\n  }\n\n  public T getData()\n  {\n     return this.data;\n  }  \n\n  public void setData(T data)\n  {\n     this.data = data;\n  }\n\n  public String toString()\n  {\n     StringBuilder sb = new StringBuilder();\n     sb.append(\"{\").append(getData().toString()).append(\",[\");\n     int i = 0;\n     for(Node&lt;T&gt; e : getChildren())\n     {\n        if(i &gt; 0)\n        {\n           sb.append(\",\");\n        }\n        sb.append(e.getData().toString());\n        i++;\n     }\n     sb.append(\"]\").append(\"}\");\n     return sb.toString();\n  }\n}\n</code></pre>\n\n<p>Here is my tree class:</p>\n\n<pre><code>//Tree class\npublic class Tree&lt;T&gt;\n{\n   private Node&lt;T&gt; root;\n\n   //Default constructor\n   public Tree()\n   {\n      super();\n   }\n\n   //Returns the root\n   public Node&lt;T&gt; getRoot()\n   {\n      return this.root;\n   }\n\n   //Set the root of the tree\n   public void setRoot(Node&lt;T&gt; root)\n   {\n      this.root = root;\n   }\n\n   //Returns the Tree&lt;T&gt; as a List of Node&lt;T&gt; objects\n   public List&lt;Node&lt;T&gt;&gt; toList()\n   {\n      List&lt;Node&lt;T&gt;&gt; list = new ArrayList&lt;Node&lt;T&gt;&gt;();\n      walk(root, list);\n      return list;\n   }\n\n   //String representation of ttree\n   public String toString()\n   {\n      return toList().toString();\n   }\n\n   //Preorder traversal\n   private void walk(Node&lt;T&gt; element, List&lt;Node&lt;T&gt;&gt; list)\n   {\n      list.add(element);\n      for(Node&lt;T&gt; data : element.getChildren())\n      {\n         walk(data, list);\n      }\n   }\n}\n</code></pre>\n\n<p>This is my main driver program:</p>\n\n<pre><code>//Importing packages\nimport java.util.Scanner;\nimport java.util.StringTokenizer;\nimport java.io.*;\nimport java.io.BufferedReader;\nimport java.util.List;\nimport java.util.ArrayList;\n\n//Class header\npublic class treeTraversals\n{\n   //Main method\n   public static void main (String[] args) throws IOException\n   {\n      //Defining variables\n      String file;\n      int size = 0;\n      int id = 1;\n      int counter = 1;\n\n      Scanner keyboard = new Scanner(System.in);\n\n      //Request file\n      System.out.print(\"Enter the filename: \");\n      file = keyboard.nextLine();\n\n      //Read file\n      File treeFile = new File(file);\n      Scanner inputFile = new Scanner(treeFile);\n      BufferedReader reader = new BufferedReader(new FileReader(file));\n\n      //Find size of input file\n      while(reader.readLine() != null)\n      {\n         size++;\n      }\n      reader.close();\n\n      String[] parent = new String[size+1];\n      String[] child = new String[size+1];\n\n      //Add file vaules to arrays\n      while(inputFile.hasNext())\n      {       \n            String line = inputFile.nextLine();\n            StringTokenizer st = new StringTokenizer(line);\n\n            while(st.hasMoreTokens())\n            {    \n               String previousValue = st.nextToken();\n               String nextValue = st.nextToken();\n\n               parent[counter] = previousValue;\n               child[counter] = nextValue;\n\n               counter++;\n            }\n      }\n      System.out.println();\n\n      //Output to the screen\n      System.out.println(\"The Tree\");\n      System.out.println();\n\n      for(int l = 1; l &lt;= size; l++)\n      {\n         System.out.print(parent[l] + \" \");\n         System.out.println(child[l]);\n      }\n\n      //Create the root of the tree\n      Tree tree = new Tree();\n      Node root = new Node(parent[id]);\n      tree.setRoot(root);\n\n      Node active = new Node();\n\n      //Fill tree with nodes  \n      for(id = 1; id &lt;= size; id++)\n      {       \n         Node parentNode = new Node(parent[id]);\n         Node childNode = new Node(child[id]);\n         active = root; \n         int passage = 0;\n\n         //Adds children to the root node\n         if(parentNode.getData().equals(active.getData()))\n         {       \n            active.addChild(childNode);\n\n            System.out.println(tree.toList());\n         }\n         //Adds children to the root's children\n         else if(!parentNode.getData().equals(active.getData()))\n         {         \n            boolean marked = false;\n            int i = -1;\n            int n = 0;\n\n\n            while(i != active.getNumberOfChildren() &amp;&amp; marked == false &amp;&amp; n &lt;= 2)\n            {\n               active = root;     \n               active = (Node)active.getChildren().get(n);\n\n               if(active.getData().equals(parentNode.getData()))\n               {\n                  active.addChild(childNode);\n                  marked = true;\n               }\n               i++;\n               n++; \n            }   \n\n            active = root;\n            if(n &gt;= 3 &amp;&amp; marked == false)\n            {\n               for(int p=0; p &lt; active.getNumberOfChildren(); p++)\n               {\n                   active = (Node)active.getChildren().get(p);\n\n                   if(active.getData().equals(parentNode.getData()))\n                   {\n                      active.addChild(childNode);\n                      //p++;\n                      marked = true;\n                   }\n                   else\n                   {  \n                       active = root;\n                       active = (Node)active.getChildren().get(p);\n                       active = (Node)active.getChildren().get(p);\n                       if(active.getData().equals(parentNode))\n                       {\n                           active.addChild(childNode);\n                           System.out.println(\"No\");\n                           p = 0;\n                       }\n                    }\n                 }\n              }\n           }\n           //See the nodes in the tree\n           System.out.println(tree.toList());\n        }\n     }\n  }\n</code></pre>\n\n<p>Lastly, here is the text file that is provided:</p>\n\n<pre><code>a  b\na  c\na  d\nb  e\nb  f\nd  g\nd  h\nd  i\ne  j\ne  k\ng  l\ng  m\nk  n\nk  o\nk  p\n</code></pre>\n\n<p>Please, any help would be appreciated, I'm stuck on my own approach so I'm asking: how would I even start if I'm going with a recursive approach?</p>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":372293,"reputation":180467,"user_id":721269,"accept_rate":100,"display_name":"David Schwartz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1650790908,"creation_date":1650790908,"answer_id":71986922,"question_id":71986895,"body_markdown":"The `ln` in `println` stands for *line*.","title":"Why does my 8x8 X and 0 break line after each output","body":"<p>The <code>ln</code> in <code>println</code> stands for <em>line</em>.</p>\n"}],"owner":{"account_id":3981671,"reputation":11,"user_id":3283421,"display_name":"user3283421"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71986922,"answer_count":1,"score":0,"last_activity_date":1650790908,"creation_date":1650790731,"question_id":71986895,"body_markdown":"I&#39;m trying to create an 8x8 Alternating X and 0 that switches position in the next line\r\n\r\n    X0X0X0X0\r\n    0X0X0X0X\r\n    X0X0X0X0\r\n    0X0X0X0X\r\n    X0X0X0X0\r\n    0X0X0X0X\r\n    X0X0X0X0\r\n    0X0X0X0X\r\n\r\nInstead my return is this\r\n\r\n    X\r\n    0\r\n    X\r\n    0\r\n    X\r\n    0\r\n    X\r\n    0\r\n\r\n    0\r\n    X\r\n    ...\r\n\r\nWhat is causing the code to always break line if I&#39;m not using the \\n statement\r\n\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            for (int row = 0; row &lt; 8; row++) {\r\n                if (row % 2 == 0) {\r\n                    for (int row1 = 0; row1 &lt; 8; row1++) {\r\n                        if (row1 % 2 == 0) {\r\n                            System.out.println(&quot;X&quot;);\r\n                        } else {\r\n                            System.out.println(&quot;0&quot;);\r\n                        }\r\n    \r\n                    }\r\n                    System.out.println(&quot;\\n&quot;);\r\n                } else {\r\n                    for (int row2 = 0; row2 &lt; 8; row2++) {\r\n                        if (row2 % 2 == 0) {\r\n                            System.out.println(&quot;0&quot;);\r\n                        } else {\r\n                            System.out.println(&quot;X&quot;);\r\n                        }\r\n                    }\r\n                    System.out.println(&quot;\\n&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Why does my 8x8 X and 0 break line after each output","body":"<p>I'm trying to create an 8x8 Alternating X and 0 that switches position in the next line</p>\n<pre><code>X0X0X0X0\n0X0X0X0X\nX0X0X0X0\n0X0X0X0X\nX0X0X0X0\n0X0X0X0X\nX0X0X0X0\n0X0X0X0X\n</code></pre>\n<p>Instead my return is this</p>\n<pre><code>X\n0\nX\n0\nX\n0\nX\n0\n\n0\nX\n...\n</code></pre>\n<p>What is causing the code to always break line if I'm not using the \\n statement</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        for (int row = 0; row &lt; 8; row++) {\n            if (row % 2 == 0) {\n                for (int row1 = 0; row1 &lt; 8; row1++) {\n                    if (row1 % 2 == 0) {\n                        System.out.println(&quot;X&quot;);\n                    } else {\n                        System.out.println(&quot;0&quot;);\n                    }\n\n                }\n                System.out.println(&quot;\\n&quot;);\n            } else {\n                for (int row2 = 0; row2 &lt; 8; row2++) {\n                    if (row2 % 2 == 0) {\n                        System.out.println(&quot;0&quot;);\n                    } else {\n                        System.out.println(&quot;X&quot;);\n                    }\n                }\n                System.out.println(&quot;\\n&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","recursion","tree-traversal","preorder"],"comments":[{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1406367320,"post_id":24969599,"comment_id":38813003,"body_markdown":"This isn&#39;t your actual code. Post the code you&#39;re actually using. (copy-paste, don&#39;t retype)","body":"This isn&#39;t your actual code. Post the code you&#39;re actually using. (copy-paste, don&#39;t retype)"},{"owner":{"account_id":391538,"reputation":498,"user_id":752261,"display_name":"David Frye"},"score":0,"creation_date":1406367322,"post_id":24969599,"comment_id":38813005,"body_markdown":"I assume there is more code, a main/unit test or something. Can we see that?","body":"I assume there is more code, a main/unit test or something. Can we see that?"},{"owner":{"account_id":2413237,"reputation":31164,"user_id":2107876,"accept_rate":88,"display_name":"laune"},"score":2,"creation_date":1406367384,"post_id":24969599,"comment_id":38813022,"body_markdown":"No. You don&#39;t show how this input is used and how the output is created.","body":"No. You don&#39;t show how this input is used and how the output is created."},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1406367471,"post_id":24969599,"comment_id":38813053,"body_markdown":"Using a `static` mutable `List` and returning it or something else from an _instance_ method smells very odd.","body":"Using a <code>static</code> mutable <code>List</code> and returning it or something else from an <i>instance</i> method smells very odd."},{"owner":{"account_id":391538,"reputation":498,"user_id":752261,"display_name":"David Frye"},"score":0,"creation_date":1406367553,"post_id":24969599,"comment_id":38813076,"body_markdown":"Your edit has done little more than combine what you showed us before into a single class and showed us your includes. Where is the main()/unit test?","body":"Your edit has done little more than combine what you showed us before into a single class and showed us your includes. Where is the main()/unit test?"},{"owner":{"account_id":2456210,"reputation":1404,"user_id":3371223,"accept_rate":52,"display_name":"sammy333"},"score":0,"creation_date":1406367577,"post_id":24969599,"comment_id":38813082,"body_markdown":"This is an online judging system. This is all information that I have","body":"This is an online judging system. This is all information that I have"},{"owner":{"account_id":391538,"reputation":498,"user_id":752261,"display_name":"David Frye"},"score":0,"creation_date":1406367685,"post_id":24969599,"comment_id":38813108,"body_markdown":"Then I&#39;m not really sure what to tell you. You&#39;ve given us your tools, but you haven&#39;t told us how you&#39;ve tried to use them. Based on what you&#39;ve told me, I kind of have to assume that the missing code is correct, and since I don&#39;t see anything immediately and obviously wrong with the above...","body":"Then I&#39;m not really sure what to tell you. You&#39;ve given us your tools, but you haven&#39;t told us how you&#39;ve tried to use them. Based on what you&#39;ve told me, I kind of have to assume that the missing code is correct, and since I don&#39;t see anything immediately and obviously wrong with the above..."},{"owner":{"account_id":2456210,"reputation":1404,"user_id":3371223,"accept_rate":52,"display_name":"sammy333"},"score":0,"creation_date":1406367863,"post_id":24969599,"comment_id":38813139,"body_markdown":"@DavidFrye What more should I say? I gave you the link + my whole solution + the output that I receive from the system. If I&#39;ve missed something, please tell me?","body":"@DavidFrye What more should I say? I gave you the link + my whole solution + the output that I receive from the system. If I&#39;ve missed something, please tell me?"},{"owner":{"account_id":391538,"reputation":498,"user_id":752261,"display_name":"David Frye"},"score":0,"creation_date":1406368123,"post_id":24969599,"comment_id":38813183,"body_markdown":"Yeah, I was so focused on what was missing that I didn&#39;t think about this carefully enough and missed an obvious problem. I apologize for being an idiot.","body":"Yeah, I was so focused on what was missing that I didn&#39;t think about this carefully enough and missed an obvious problem. I apologize for being an idiot."}],"answers":[{"tags":[],"owner":{"account_id":1762234,"reputation":2058,"user_id":1609017,"display_name":"alfredaday"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1406368117,"creation_date":1406367807,"answer_id":24969678,"question_id":24969599,"body_markdown":"The problem is that within each recursive loop, you are adding the entire array again into your final result.\r\n\r\nFor example, given the following tree:\r\n&lt;pre&gt;  1\r\n /\r\n2&lt;/pre&gt;\r\n\r\nYour first iteration adds 1 into &#39;res&#39; variable.  The problem is when it gets to this line:\r\n\r\n    res.add(preorderTraversal(root.left));\r\n\r\nThen it recursively calls itself for the left side.  That preorderTraversal will return the res array, which will be [1,2].  Hence, when [1,2] gets added to res (which was [1], remember?), then you get [1,1,2].\r\n\r\nHere&#39;s code that should work:\r\n\r\n    \r\n    public List&lt;Integer&gt; preorderTraversal(TreeNode root) {\r\n        List&lt;Integer&gt; result = new ArrayList&lt;Integer&gt;();\r\n\r\n        if(root == null){\r\n            return result;\r\n        }\r\n\r\n        result.add(root.val);\r\n        if(root.left != null){\r\n            result.addAll(preorderTraversal(root.left));\r\n        }\r\n        if(root.right != null){\r\n            result.addAll(preorderTraversal(root.right));\r\n        }\r\n\r\n        return result;\r\n    }\r\n","title":"What is wrong with my Preorder traversal?","body":"<p>The problem is that within each recursive loop, you are adding the entire array again into your final result.</p>\n\n<p>For example, given the following tree:</p>\n\n<pre>  1\n /\n2</pre>\n\n<p>Your first iteration adds 1 into 'res' variable.  The problem is when it gets to this line:</p>\n\n<pre><code>res.add(preorderTraversal(root.left));\n</code></pre>\n\n<p>Then it recursively calls itself for the left side.  That preorderTraversal will return the res array, which will be [1,2].  Hence, when [1,2] gets added to res (which was [1], remember?), then you get [1,1,2].</p>\n\n<p>Here's code that should work:</p>\n\n<pre><code>public List&lt;Integer&gt; preorderTraversal(TreeNode root) {\n    List&lt;Integer&gt; result = new ArrayList&lt;Integer&gt;();\n\n    if(root == null){\n        return result;\n    }\n\n    result.add(root.val);\n    if(root.left != null){\n        result.addAll(preorderTraversal(root.left));\n    }\n    if(root.right != null){\n        result.addAll(preorderTraversal(root.right));\n    }\n\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2310386,"reputation":2253,"user_id":2028640,"accept_rate":71,"display_name":"Pat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1406367832,"creation_date":1406367832,"answer_id":24969682,"question_id":24969599,"body_markdown":"try this method code:\r\n\r\n    public List&lt;Integer&gt; preorderTraversal(TreeNode root) {\r\n            if(root == null){\r\n                return new ArrayList&lt;Integer&gt;();\r\n            }\r\n            res.add(root.val);\r\n            if(root.left != null){\r\n                res = preorderTraversal(root.left);\r\n            }\r\n            if(root.right != null){\r\n                res = preorderTraversal(root.right);\r\n            }\r\n            return res;\r\n       }\r\n\r\nbtw, you were doing `res.add` in the recursion. You should rather do `res=` in it.","title":"What is wrong with my Preorder traversal?","body":"<p>try this method code:</p>\n\n<pre><code>public List&lt;Integer&gt; preorderTraversal(TreeNode root) {\n        if(root == null){\n            return new ArrayList&lt;Integer&gt;();\n        }\n        res.add(root.val);\n        if(root.left != null){\n            res = preorderTraversal(root.left);\n        }\n        if(root.right != null){\n            res = preorderTraversal(root.right);\n        }\n        return res;\n   }\n</code></pre>\n\n<p>btw, you were doing <code>res.add</code> in the recursion. You should rather do <code>res=</code> in it.</p>\n"},{"tags":[],"owner":{"account_id":2899256,"reputation":742,"user_id":2486371,"display_name":"Niru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406368098,"creation_date":1406368098,"answer_id":24969724,"question_id":24969599,"body_markdown":"Since you have not posted the whole code how the input is done and output is produced it is difficult to tell. For preorder traversal it should be something like this.\r\n   \r\n\r\n     void traverse(TreeNode node){\r\n       if(node != null){\r\n          res.add(node.val);\r\n    \t  traverse(root.left);\r\n    \t  traverse(root.right);\r\n    \t}\r\n    }","title":"What is wrong with my Preorder traversal?","body":"<p>Since you have not posted the whole code how the input is done and output is produced it is difficult to tell. For preorder traversal it should be something like this.</p>\n\n<pre><code> void traverse(TreeNode node){\n   if(node != null){\n      res.add(node.val);\n      traverse(root.left);\n      traverse(root.right);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3201759,"reputation":166,"user_id":2703681,"display_name":"Viorel Ghelbert"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1406369762,"creation_date":1406368600,"answer_id":24969785,"question_id":24969599,"body_markdown":"For the left and right nodes, just call `preorderTraversal` recursively, and it will add the values to `res`. Calling `add/addAll` on `res` with the results of these recursive calls is wrong.\r\n\r\n    public class Solution {\r\n         List&lt;Integer&gt; res = new ArrayList&lt;Integer&gt;();\r\n         public List&lt;Integer&gt; preorderTraversal(TreeNode root) {\r\n                if(root == null){\r\n                    return new ArrayList&lt;Integer&gt;();\r\n                }\r\n                res.add(root.val);\r\n                if(root.left != null){\r\n                    preorderTraversal(root.left);\r\n                }\r\n                if(root.right != null){\r\n                    preorderTraversal(root.right);\r\n                }\r\n                return res;\r\n          }\r\n    }\r\n\r\nThere&#39;s a little problem with this solution -- `res` retains the values from previous calls, so calling `preorderTraversal` more than once on the same instance may return incorrect results. Here&#39;s  a solution that does not have this drawback:\r\n\r\n    public class Solution {\r\n         public List&lt;Integer&gt; preorderTraversal(TreeNode root) {\r\n                List&lt;Integer&gt; res = new ArrayList&lt;Integer&gt;();\r\n                preorderTraversal(root, res);\r\n                return res;\r\n          }\r\n          private void preorderTraversal(TreeNode node, List&lt;Integer&gt; res) {\r\n              if (node != null) {\r\n                  res.add(node.val);\r\n                  preorderTraversal(node.left, res);\r\n                  preorderTraversal(node.right, res);\r\n              }\r\n          }\r\n    }","title":"What is wrong with my Preorder traversal?","body":"<p>For the left and right nodes, just call <code>preorderTraversal</code> recursively, and it will add the values to <code>res</code>. Calling <code>add/addAll</code> on <code>res</code> with the results of these recursive calls is wrong.</p>\n\n<pre><code>public class Solution {\n     List&lt;Integer&gt; res = new ArrayList&lt;Integer&gt;();\n     public List&lt;Integer&gt; preorderTraversal(TreeNode root) {\n            if(root == null){\n                return new ArrayList&lt;Integer&gt;();\n            }\n            res.add(root.val);\n            if(root.left != null){\n                preorderTraversal(root.left);\n            }\n            if(root.right != null){\n                preorderTraversal(root.right);\n            }\n            return res;\n      }\n}\n</code></pre>\n\n<p>There's a little problem with this solution -- <code>res</code> retains the values from previous calls, so calling <code>preorderTraversal</code> more than once on the same instance may return incorrect results. Here's  a solution that does not have this drawback:</p>\n\n<pre><code>public class Solution {\n     public List&lt;Integer&gt; preorderTraversal(TreeNode root) {\n            List&lt;Integer&gt; res = new ArrayList&lt;Integer&gt;();\n            preorderTraversal(root, res);\n            return res;\n      }\n      private void preorderTraversal(TreeNode node, List&lt;Integer&gt; res) {\n          if (node != null) {\n              res.add(node.val);\n              preorderTraversal(node.left, res);\n              preorderTraversal(node.right, res);\n          }\n      }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4789030,"reputation":11,"user_id":3868728,"display_name":"karlNorton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1406369768,"creation_date":1406369768,"answer_id":24969957,"question_id":24969599,"body_markdown":"**A working solution :**\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    \r\n     \r\n    class TreeNode \r\n    {\r\n          int val;\r\n         TreeNode left;\r\n         TreeNode right;\r\n         TreeNode(int x) { val = x; }\r\n     }\r\n    \r\n    class Solution {\r\n        public List&lt;Integer&gt; preorderTraversal(TreeNode root) \r\n        {\r\n           ArrayList&lt;Integer&gt; res = new ArrayList&lt;Integer&gt;();\r\n        \t\r\n        \tif(root == null)\r\n        \t\treturn res;\r\n        \telse res.add(root.val);\r\n        \t\r\n        \tif(root.left != null)\r\n        \t{\r\n        \t\tres.add(root.left.val);\r\n        \t\tpreorderTraversal(root.left);\r\n        \t}\r\n        \t\r\n        \tif(root.right != null)\r\n        \t{\r\n        \t\tres.add(root.right.val);\r\n        \t\tpreorderTraversal(root.right);\r\n        \t}\r\n        \t    \t\r\n        \t\r\n        \treturn res;    \r\n        }\r\n    }\r\n    \r\n    public class TreeTest\r\n    {\r\n    \t\r\n    \r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\t\r\n    \t\tSolution c = new Solution();\r\n    \t\t\r\n    \t\tTreeNode t1 = new TreeNode(1);\r\n    \t\tTreeNode t2 = new TreeNode(2);\r\n    \t\tTreeNode t3 = new TreeNode(3);\r\n    \t\t\r\n    \t\t//Link the nodes of the tree\r\n    \t\tt1.left = t2;\r\n    \t\tt1.right = t3;\r\n    \t\t\r\n    \t\t\r\n    \t\tList&lt;Integer&gt; list = c.preorderTraversal(t1);\r\n    \t\t\r\n    \t\tSystem.out.println(list);\r\n    \t}\r\n    }","title":"What is wrong with my Preorder traversal?","body":"<p><strong>A working solution :</strong></p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\n\n\nclass TreeNode \n{\n      int val;\n     TreeNode left;\n     TreeNode right;\n     TreeNode(int x) { val = x; }\n }\n\nclass Solution {\n    public List&lt;Integer&gt; preorderTraversal(TreeNode root) \n    {\n       ArrayList&lt;Integer&gt; res = new ArrayList&lt;Integer&gt;();\n\n        if(root == null)\n            return res;\n        else res.add(root.val);\n\n        if(root.left != null)\n        {\n            res.add(root.left.val);\n            preorderTraversal(root.left);\n        }\n\n        if(root.right != null)\n        {\n            res.add(root.right.val);\n            preorderTraversal(root.right);\n        }\n\n\n        return res;    \n    }\n}\n\npublic class TreeTest\n{\n\n\n    public static void main(String[] args)\n    {\n\n        Solution c = new Solution();\n\n        TreeNode t1 = new TreeNode(1);\n        TreeNode t2 = new TreeNode(2);\n        TreeNode t3 = new TreeNode(3);\n\n        //Link the nodes of the tree\n        t1.left = t2;\n        t1.right = t3;\n\n\n        List&lt;Integer&gt; list = c.preorderTraversal(t1);\n\n        System.out.println(list);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3993068,"reputation":789,"user_id":3291343,"display_name":"Alex L"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503263290,"creation_date":1503263290,"answer_id":45786823,"question_id":24969599,"body_markdown":"    public ArrayList&lt;E&gt; getPreOrderTraversal() {\r\n\t\treturn getPreOrderTraversal(root);\r\n\t}\r\n\t\r\n\tprivate ArrayList&lt;E&gt; getPreOrderTraversal(Node tree) {\r\n\t\tArrayList&lt;E&gt; list = new ArrayList&lt;E&gt;();\r\n\t\t\r\n\t\tif (tree != null) {\r\n\t\t\tlist.add((E) tree.value);\r\n\t\t\tlist.addAll(getPreOrderTraversal(tree.left));\r\n\t\t\tlist.addAll(getPreOrderTraversal(tree.right));\r\n\t\t}\r\n\r\n\t\treturn list;\r\n\t}","title":"What is wrong with my Preorder traversal?","body":"<pre><code>public ArrayList&lt;E&gt; getPreOrderTraversal() {\n    return getPreOrderTraversal(root);\n}\n\nprivate ArrayList&lt;E&gt; getPreOrderTraversal(Node tree) {\n    ArrayList&lt;E&gt; list = new ArrayList&lt;E&gt;();\n\n    if (tree != null) {\n        list.add((E) tree.value);\n        list.addAll(getPreOrderTraversal(tree.left));\n        list.addAll(getPreOrderTraversal(tree.right));\n    }\n\n    return list;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2809848,"reputation":45,"user_id":2416295,"accept_rate":83,"display_name":"Lalin Pethiyagoda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588402946,"creation_date":1588399800,"answer_id":61555219,"question_id":24969599,"body_markdown":"A working and LeetCode accepted solution:\r\n```java\r\nclass Solution {\r\n    public List&lt;Integer&gt; preorderTraversal(TreeNode root) {\r\n        List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n        return preOrderTraversalInternal(root, list);\r\n    }\r\n    private List&lt;Integer&gt; preOrderTraversalInternal(TreeNode root, List&lt;Integer&gt; list){\r\n    if(root == null) return list;\r\n    list.add(root.val);\r\n    if(root.left != null){\r\n      preOrderTraversalInternal(root.left, list);\r\n    }\r\n    if(root.right != null){\r\n      preOrderTraversalInternal(root.right, list);\r\n    }\r\n    return list;\r\n  }\r\n}\r\n```","title":"What is wrong with my Preorder traversal?","body":"<p>A working and LeetCode accepted solution:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>class Solution {\n    public List&lt;Integer&gt; preorderTraversal(TreeNode root) {\n        List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n        return preOrderTraversalInternal(root, list);\n    }\n    private List&lt;Integer&gt; preOrderTraversalInternal(TreeNode root, List&lt;Integer&gt; list){\n    if(root == null) return list;\n    list.add(root.val);\n    if(root.left != null){\n      preOrderTraversalInternal(root.left, list);\n    }\n    if(root.right != null){\n      preOrderTraversalInternal(root.right, list);\n    }\n    return list;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22908132,"reputation":31,"user_id":17045864,"display_name":"Adarsh Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650790178,"creation_date":1650790178,"answer_id":71986834,"question_id":24969599,"body_markdown":"The problem is that within each recursive loop, you are adding the entire array again into your final result.\r\nYou need to add left or right nodes only one time while traversing but in your code whole arr is getting added to the new res array.\r\nThis result will contain repetitive nodes.\r\n\r\nFor these issues, please use Print statements after every recursive call to debug the problem.\r\n\r\nSolution -\r\nUse addAll method:  res.addAll(node.left);\r\n","title":"What is wrong with my Preorder traversal?","body":"<p>The problem is that within each recursive loop, you are adding the entire array again into your final result.\nYou need to add left or right nodes only one time while traversing but in your code whole arr is getting added to the new res array.\nThis result will contain repetitive nodes.</p>\n<p>For these issues, please use Print statements after every recursive call to debug the problem.</p>\n<p>Solution -\nUse addAll method:  res.addAll(node.left);</p>\n"}],"owner":{"account_id":2456210,"reputation":1404,"user_id":3371223,"accept_rate":52,"display_name":"sammy333"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3419,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":24969678,"answer_count":8,"score":3,"last_activity_date":1650790178,"creation_date":1406367096,"question_id":24969599,"body_markdown":"I am trying to solve this problem https://oj.leetcode.com/problems/binary-tree-preorder-traversal/ , i.e. preorder traversal with recursive slution.\r\n\r\nEDIT: The whole code:\r\n\r\n     \r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class Solution {\r\n    \t \r\n    \tpublic class TreeNode {\r\n    \t     int val;\r\n    \t     TreeNode left;\r\n    \t     TreeNode right;\r\n    \t     TreeNode(int x) { val = x; }\r\n    \t}\r\n    \t static List&lt;Integer&gt; res = new ArrayList&lt;Integer&gt;();\r\n    \t public List&lt;Integer&gt; preorderTraversal(TreeNode root) {\r\n    \t        if(root == null){\r\n    \t        \treturn new ArrayList&lt;Integer&gt;();\r\n    \t        }\r\n    \t        res.add(root.val);\r\n    \t        if(root.left != null){\r\n    \t        \tres.add(preorderTraversal(root.left));\r\n    \t        }\r\n    \t        if(root.right != null){\r\n    \t        \tres.add(preorderTraversal(root.right));\r\n    \t        }\r\n    \t        return res;\r\n    \t  }\r\n    }\r\n\r\nI have wrong answer because of the following: \r\n\r\n    Input: \t{1,2}\r\n    Output: \t[1,1,2]\r\n    Expected: \t[1,2]\r\n\r\nCan someone tell me how to fix this?\r\n\r\nEDIT: I dont have `main()` method or unit tests. If you open the link that I posted you will see that this is **online judging system**. \r\n","title":"What is wrong with my Preorder traversal?","body":"<p>I am trying to solve this problem <a href=\"https://oj.leetcode.com/problems/binary-tree-preorder-traversal/\" rel=\"nofollow\">https://oj.leetcode.com/problems/binary-tree-preorder-traversal/</a> , i.e. preorder traversal with recursive slution.</p>\n\n<p>EDIT: The whole code:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class Solution {\n\n    public class TreeNode {\n         int val;\n         TreeNode left;\n         TreeNode right;\n         TreeNode(int x) { val = x; }\n    }\n     static List&lt;Integer&gt; res = new ArrayList&lt;Integer&gt;();\n     public List&lt;Integer&gt; preorderTraversal(TreeNode root) {\n            if(root == null){\n                return new ArrayList&lt;Integer&gt;();\n            }\n            res.add(root.val);\n            if(root.left != null){\n                res.add(preorderTraversal(root.left));\n            }\n            if(root.right != null){\n                res.add(preorderTraversal(root.right));\n            }\n            return res;\n      }\n}\n</code></pre>\n\n<p>I have wrong answer because of the following: </p>\n\n<pre><code>Input:  {1,2}\nOutput:     [1,1,2]\nExpected:   [1,2]\n</code></pre>\n\n<p>Can someone tell me how to fix this?</p>\n\n<p>EDIT: I dont have <code>main()</code> method or unit tests. If you open the link that I posted you will see that this is <strong>online judging system</strong>. </p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","orm"],"comments":[{"owner":{"account_id":7402185,"reputation":1651,"user_id":5632255,"accept_rate":88,"display_name":"Mehdi Rahimi"},"score":0,"creation_date":1650637293,"post_id":71968926,"comment_id":127173290,"body_markdown":"This part of code your shared is working correctly. Show us more code","body":"This part of code your shared is working correctly. Show us more code"}],"answers":[{"tags":[],"owner":{"account_id":4475864,"reputation":457,"user_id":3641003,"accept_rate":83,"display_name":"Roe hit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650728505,"creation_date":1650639279,"answer_id":71970746,"question_id":71968926,"body_markdown":"Your JPARepository references a Student object. Which is why it returns a Student with a specific Id that you request in that method argument. \r\n\r\nHowever In your Native query, you are explicitly asking for `s.name` and for that reason you are getting back a String value of that name \r\n\r\nYou can get the object and extract the name from this object, if you would like to retain your JpaRepository&lt;Student, Integer&gt; extension to the StudentRepository. Get an Optional&lt;Student&gt; returned from your JPA. Then in your service layer extract the name\r\n\r\n    @Repository\r\n    public interface StudentRepository extends JpaRepository&lt;Student, Integer&gt; {\r\n        Optional&lt;Student&gt; findById(Integer id);\r\n    }\r\n\r\nAnd in your service class, \r\n\r\n    public class StudentService {\r\n        public void processStudent(){\r\n              Optional&lt;Student&gt; student = studentRepository.findById(1);\r\n              if(student.isPresent()){\r\n                Student studentEntity = student.get();\r\n                String name = studentEntity.getName();\r\n              }\r\n        }\r\n    }\r\n\r\n","title":"JPA funciton findFieldById() extends JpaRepository didn&#39;t work properly?","body":"<p>Your JPARepository references a Student object. Which is why it returns a Student with a specific Id that you request in that method argument.</p>\n<p>However In your Native query, you are explicitly asking for <code>s.name</code> and for that reason you are getting back a String value of that name</p>\n<p>You can get the object and extract the name from this object, if you would like to retain your JpaRepository&lt;Student, Integer&gt; extension to the StudentRepository. Get an Optional returned from your JPA. Then in your service layer extract the name</p>\n<pre><code>@Repository\npublic interface StudentRepository extends JpaRepository&lt;Student, Integer&gt; {\n    Optional&lt;Student&gt; findById(Integer id);\n}\n</code></pre>\n<p>And in your service class,</p>\n<pre><code>public class StudentService {\n    public void processStudent(){\n          Optional&lt;Student&gt; student = studentRepository.findById(1);\n          if(student.isPresent()){\n            Student studentEntity = student.get();\n            String name = studentEntity.getName();\n          }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25051572,"reputation":1,"user_id":18907426,"display_name":"Ananovo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650790126,"creation_date":1650631393,"question_id":71968926,"body_markdown":"```\r\n@Repository\r\npublic interface StudentRepository extends JpaRepository&lt;Student, Integer&gt; {\r\n    String findNameById(Integer id);\r\n\r\n    int getClassidById(Integer id);\r\n}\r\n```\r\nI used those functions for a time and they worked well before, but today all of them return an entity object instead of single property\\\r\nSuch as findNameById(id) returns a Student object which cause &lt;br /&gt;`ClassCastException: db.entity.Student cannot be cast to java.lang.String`\\\r\nEven it can&#39;t return Map like :\r\n```\r\nMap&lt;String, Object&gt; findOneById(Integer id);\r\n```\r\nAnd My IDEA will notice `&#39;Student&#39; domain type or valid projection interface expected here`\r\n```\r\n@Query(&quot;select s.name from Student s where s.id = ?1&quot;)\r\nString findNameById(Integer id);\r\n```\r\nOnly do I use `@Query` that they work properly. Does anyone has this problem?\\\r\n**(spring-data-jpa 2.2.5.RELEASE)**","title":"JPA funciton findFieldById() extends JpaRepository didn&#39;t work properly?","body":"<pre><code>@Repository\npublic interface StudentRepository extends JpaRepository&lt;Student, Integer&gt; {\n    String findNameById(Integer id);\n\n    int getClassidById(Integer id);\n}\n</code></pre>\n<p>I used those functions for a time and they worked well before, but today all of them return an entity object instead of single property<br />\nSuch as findNameById(id) returns a Student object which cause <br /><code>ClassCastException: db.entity.Student cannot be cast to java.lang.String</code><br />\nEven it can't return Map like :</p>\n<pre><code>Map&lt;String, Object&gt; findOneById(Integer id);\n</code></pre>\n<p>And My IDEA will notice <code>'Student' domain type or valid projection interface expected here</code></p>\n<pre><code>@Query(&quot;select s.name from Student s where s.id = ?1&quot;)\nString findNameById(Integer id);\n</code></pre>\n<p>Only do I use <code>@Query</code> that they work properly. Does anyone has this problem?<br />\n<strong>(spring-data-jpa 2.2.5.RELEASE)</strong></p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650790114,"creation_date":1650790114,"answer_id":71986827,"question_id":71986795,"body_markdown":"Don&#39;t use raw types, `Map` is a generic interface, you may define the type of keys and values\r\n\r\n\r\n    // at method return type\r\n    public &lt;T&gt; Map&lt;Integer, Object&gt; Search(T t, String... condition){\r\n    \r\n        // at definition\r\n        Map&lt;Integer, Object&gt; map = new HashMap&lt;&gt;();\r\n   \r\n    }\r\n\r\nAnd when retrieving and using it\r\n\r\n    Map&lt;Integer, Object&gt; map = foo.Search();\r\n\r\n    for (Map.Entry&lt;Integer, Object&gt; entry : map.entrySet()) {\r\n        System.out.println(entry.getKey() + &quot;  &quot; + entry.getValue());\r\n    }\r\n\r\n\r\n","title":"Incompatible types. Found: &#39;java.util.Map.Entry&#39;, required: &#39;java.lang.Object&#39;","body":"<p>Don't use raw types, <code>Map</code> is a generic interface, you may define the type of keys and values</p>\n<pre><code>// at method return type\npublic &lt;T&gt; Map&lt;Integer, Object&gt; Search(T t, String... condition){\n\n    // at definition\n    Map&lt;Integer, Object&gt; map = new HashMap&lt;&gt;();\n\n}\n</code></pre>\n<p>And when retrieving and using it</p>\n<pre><code>Map&lt;Integer, Object&gt; map = foo.Search();\n\nfor (Map.Entry&lt;Integer, Object&gt; entry : map.entrySet()) {\n    System.out.println(entry.getKey() + &quot;  &quot; + entry.getValue());\n}\n</code></pre>\n"}],"owner":{"account_id":24628898,"reputation":3,"user_id":18528343,"display_name":"dragnill"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1389,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71986827,"answer_count":1,"score":0,"last_activity_date":1650790114,"creation_date":1650789769,"question_id":71986795,"body_markdown":"I am working on a simple project for fun, but I am getting an odd error while writing the test method. In it is a loop, and I have made sure that it causes the problem. It gives me this compilation error\r\n\r\n```Incompatible types. Found: &#39;java.util.Map.Entry&#39;, required: &#39;java.lang.Object&#39;```\r\n\r\nThe code is written as below:\r\n```Map map = searchUtil.Search(t,condition);\r\n        for(Map.Entry entry : map.entrySet()){\r\n            entry.getKey();\r\n            entry.getValue();\r\n            System.out.println(entry.getKey()+&quot;  &quot;+entry.getValue());\r\n        }\r\n```\r\nThe searchUtil was wirrten to search in the sql,I have tested it and maybe it has not error.\r\n```\r\npublic Map Search(T t, String... condition){\r\n        JdbcPool pool = JdbcPoolImpl.poolEnum.INSTANCE.getPoolInstance();\r\n        Connection conn = null;\r\n        PreparedStatement ps = null;\r\n        ResultSet rs = null;\r\n        StringBuilder sql = new StringBuilder(&quot;select * from &quot;+t.getClass().getSimpleName());\r\n        Map map = new HashMap();\r\n        try {\r\n            conn = pool.getConn();\r\n            ps = conn.prepareStatement(sql.toString());\r\n        } catch (SQLException throwables) {\r\n            throwables.printStackTrace();\r\n        }\r\n        if (!&quot;&quot;.equals(condition[0])){\r\n            try {\r\n                if (condition.length &gt; 0){\r\n                    sql = sql.append(&quot; where &quot;+condition[0]+&quot; =?&quot;);\r\n                    Method method = t.getClass().getMethod(&quot;get&quot;+condition[0].substring(0,1).toUpperCase()+condition[0].substring(1));\r\n                    Object object = method.invoke(t);\r\n                    ps = conn.prepareStatement(sql.toString());\r\n                    ps.setObject(1,object);\r\n                    if (condition.length&gt;1){\r\n                        for (int i = 1; i &lt; condition.length; i++) {\r\n                            sql = sql.append(&quot; and &quot;+condition[i]+&quot; =?&quot;);\r\n                        }\r\n                        ps = conn.prepareStatement(sql.toString());\r\n                        ps.setObject(1,object);\r\n                        for (int i = 1; i &lt; condition.length; i++) {\r\n                            method = t.getClass().getMethod(&quot;get&quot;+condition[i].substring(0,1).toUpperCase()+condition[i].substring(1));\r\n                            object = method.invoke(t);\r\n                            ps.setObject(i+1,object);\r\n                        }\r\n                    }\r\n                }\r\n            } catch (SQLException | NoSuchMethodException | IllegalAccessException | InvocationTargetException throwables) {\r\n                throwables.printStackTrace();\r\n            }\r\n        }\r\n        try {\r\n            rs = ps.executeQuery();\r\n            ResultSetMetaData resultSetMetaData = rs.getMetaData();\r\n            Field[] fields = t.getClass().getDeclaredFields();\r\n            int count = fields.length;\r\n            int id;\r\n                while (rs.next()) {\r\n                    id = rs.getInt(1);\r\n                    Constructor constructor = t.getClass().getConstructor();\r\n                    T t1 = (T)constructor.newInstance();\r\n                    for (int i = 0; i &lt; count; i++) {\r\n                        Method method = t.getClass().getMethod(&quot;set&quot; + resultSetMetaData.getColumnName(i + 1).substring(0, 1).toUpperCase() + resultSetMetaData.getColumnName(i + 1).substring(1), fields[i].getType());\r\n                        method.invoke(t1, rs.getObject(i + 1));\r\n                    }\r\n                    map.put(id,t1);\r\n                }\r\n            }catch (NoSuchMethodException | IllegalAccessException | InvocationTargetException | InstantiationException | SQLException throwables) {\r\n                throwables.printStackTrace();\r\n            }\r\n        finally {\r\n            pool.release(conn);\r\n            JdbcUtil.close(ps,rs);\r\n        }\r\n        return map;\r\n    }\r\n```\r\n\r\nI have googled it many times but have no function.Any help would be appreciated. ","title":"Incompatible types. Found: &#39;java.util.Map.Entry&#39;, required: &#39;java.lang.Object&#39;","body":"<p>I am working on a simple project for fun, but I am getting an odd error while writing the test method. In it is a loop, and I have made sure that it causes the problem. It gives me this compilation error</p>\n<p><code>Incompatible types. Found: 'java.util.Map.Entry', required: 'java.lang.Object'</code></p>\n<p>The code is written as below:</p>\n<pre><code>        for(Map.Entry entry : map.entrySet()){\n            entry.getKey();\n            entry.getValue();\n            System.out.println(entry.getKey()+&quot;  &quot;+entry.getValue());\n        }\n</code></pre>\n<p>The searchUtil was wirrten to search in the sql,I have tested it and maybe it has not error.</p>\n<pre><code>public Map Search(T t, String... condition){\n        JdbcPool pool = JdbcPoolImpl.poolEnum.INSTANCE.getPoolInstance();\n        Connection conn = null;\n        PreparedStatement ps = null;\n        ResultSet rs = null;\n        StringBuilder sql = new StringBuilder(&quot;select * from &quot;+t.getClass().getSimpleName());\n        Map map = new HashMap();\n        try {\n            conn = pool.getConn();\n            ps = conn.prepareStatement(sql.toString());\n        } catch (SQLException throwables) {\n            throwables.printStackTrace();\n        }\n        if (!&quot;&quot;.equals(condition[0])){\n            try {\n                if (condition.length &gt; 0){\n                    sql = sql.append(&quot; where &quot;+condition[0]+&quot; =?&quot;);\n                    Method method = t.getClass().getMethod(&quot;get&quot;+condition[0].substring(0,1).toUpperCase()+condition[0].substring(1));\n                    Object object = method.invoke(t);\n                    ps = conn.prepareStatement(sql.toString());\n                    ps.setObject(1,object);\n                    if (condition.length&gt;1){\n                        for (int i = 1; i &lt; condition.length; i++) {\n                            sql = sql.append(&quot; and &quot;+condition[i]+&quot; =?&quot;);\n                        }\n                        ps = conn.prepareStatement(sql.toString());\n                        ps.setObject(1,object);\n                        for (int i = 1; i &lt; condition.length; i++) {\n                            method = t.getClass().getMethod(&quot;get&quot;+condition[i].substring(0,1).toUpperCase()+condition[i].substring(1));\n                            object = method.invoke(t);\n                            ps.setObject(i+1,object);\n                        }\n                    }\n                }\n            } catch (SQLException | NoSuchMethodException | IllegalAccessException | InvocationTargetException throwables) {\n                throwables.printStackTrace();\n            }\n        }\n        try {\n            rs = ps.executeQuery();\n            ResultSetMetaData resultSetMetaData = rs.getMetaData();\n            Field[] fields = t.getClass().getDeclaredFields();\n            int count = fields.length;\n            int id;\n                while (rs.next()) {\n                    id = rs.getInt(1);\n                    Constructor constructor = t.getClass().getConstructor();\n                    T t1 = (T)constructor.newInstance();\n                    for (int i = 0; i &lt; count; i++) {\n                        Method method = t.getClass().getMethod(&quot;set&quot; + resultSetMetaData.getColumnName(i + 1).substring(0, 1).toUpperCase() + resultSetMetaData.getColumnName(i + 1).substring(1), fields[i].getType());\n                        method.invoke(t1, rs.getObject(i + 1));\n                    }\n                    map.put(id,t1);\n                }\n            }catch (NoSuchMethodException | IllegalAccessException | InvocationTargetException | InstantiationException | SQLException throwables) {\n                throwables.printStackTrace();\n            }\n        finally {\n            pool.release(conn);\n            JdbcUtil.close(ps,rs);\n        }\n        return map;\n    }\n</code></pre>\n<p>I have googled it many times but have no function.Any help would be appreciated.</p>\n"},{"tags":["java","android","logout"],"answers":[{"tags":[],"owner":{"account_id":14727304,"reputation":56,"user_id":10635783,"display_name":"Behnam Nasehi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650789362,"creation_date":1650789362,"answer_id":71986753,"question_id":71986672,"body_markdown":"      if (VERSION_CODES.KITKAT &lt;= VERSION.SDK_INT) {\r\n            ((ActivityManager) context.getSystemService(ACTIVITY_SERVICE))\r\n                    .clearApplicationUserData(); // note: it has a return value!\r\n        } else {\r\n            try {\r\n                // clearing app data\r\n                Runtime runtime = Runtime.getRuntime();\r\n                runtime.exec(&quot;pm clear YOUR_APP_PACKAGE_GOES HERE&quot;);\r\n\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }","title":"how to clear app data programmatically but not force close android java","body":"<pre><code>  if (VERSION_CODES.KITKAT &lt;= VERSION.SDK_INT) {\n        ((ActivityManager) context.getSystemService(ACTIVITY_SERVICE))\n                .clearApplicationUserData(); // note: it has a return value!\n    } else {\n        try {\n            // clearing app data\n            Runtime runtime = Runtime.getRuntime();\n            runtime.exec(&quot;pm clear YOUR_APP_PACKAGE_GOES HERE&quot;);\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":23914807,"reputation":11,"user_id":17911327,"display_name":"Dimas Fendriansyah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":688,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650789362,"creation_date":1650788535,"question_id":71986672,"body_markdown":"how to clear app data programmatically\r\n\r\nI know we can clear data in the mobile device through:\r\n\r\nSettings-&gt;Applications-&gt; ManageApplications-&gt; My_application-&gt;Clear Data\r\n\r\ni want to implement this method when clicked on LOGOUT button in my application. But it force closes the app. Instead I want to start the main activity where the signup/sign in form is present.. How will this be possible?","title":"how to clear app data programmatically but not force close android java","body":"<p>how to clear app data programmatically</p>\n<p>I know we can clear data in the mobile device through:</p>\n<p>Settings-&gt;Applications-&gt; ManageApplications-&gt; My_application-&gt;Clear Data</p>\n<p>i want to implement this method when clicked on LOGOUT button in my application. But it force closes the app. Instead I want to start the main activity where the signup/sign in form is present.. How will this be possible?</p>\n"},{"tags":["java","android","android-fragments","android-fragment-manager","bottom-navigation-bar"],"comments":[{"owner":{"account_id":4540795,"reputation":651,"user_id":3688726,"accept_rate":25,"display_name":"Simon Harvan"},"score":0,"creation_date":1650551209,"post_id":71954280,"comment_id":127149300,"body_markdown":"Could you specify what kind of data is reseted? Maybe it would be clearer if you provided minimal reproducible example (not that much copy/pasted code) + scenario which you are trying to achieve.","body":"Could you specify what kind of data is reseted? Maybe it would be clearer if you provided minimal reproducible example (not that much copy/pasted code) + scenario which you are trying to achieve."}],"answers":[{"tags":[],"owner":{"account_id":14727304,"reputation":56,"user_id":10635783,"display_name":"Behnam Nasehi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650789136,"creation_date":1650789136,"answer_id":71986732,"question_id":71954280,"body_markdown":"because every time user click on navigation bottom u create new instance of fragment every time :\r\n\r\n     private void setBottomNavigationView() {\r\n        bottomNavigationView.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {\r\n            @Override\r\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n                fragment = null;\r\n                switch (item.getItemId()) {\r\n                    //id yang ada di menu bottom_menu.xml\r\n                    case R.id.home_menu:\r\n                        fragment = new HomeFragment();\r\n                        break;\r\n                    case R.id.computer_menu:\r\n                        fragment = new ComputerFragment();\r\n                        break;\r\n                    case R.id.phone_menu:\r\n                        fragment = new PhoneFragment();\r\n                        break;\r\n                    case R.id.home_services_menu:\r\n                        fragment = new HomeServicesFragment();\r\n                        break;\r\n                }\r\n                return getFragmentPage(fragment);\r\n            }\r\n        });\r\n    }\r\n\r\ntry this :\r\n\r\n       private homeFragment = new HomeFragment();\r\n    private computerFragment = new ComputerFragment();\r\n    private phoneFragment = new PhoneFragment();\r\n    private homeServicesFragment = new HomeServicesFragment();\r\n    private Fragment active;\r\n    private final FragmentManager fm = getSupportFragmentManager();\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        ...\r\n        initFragment();\r\n        ...\r\n    }\r\n    \r\n    private void changeFragment(Fragment fragment, Bundle bundle) {\r\n        fm.beginTransaction()\r\n                .hide(active)\r\n                .show(fragment)\r\n                .commit();\r\n        active = fragment;\r\n        active.setArguments(bundle);\r\n    }\r\n\r\n    private void initFragment() {\r\n        fm.beginTransaction().add(R.id.frameLayout, homeFragment, homeFragment.class.getSimpleName()).commit();\r\n        fm.beginTransaction().add(R.id.frameLayout, computerFragment, computerFragment.class.getSimpleName()).hide(computerFragment).commit();\r\n        fm.beginTransaction().add(R.id.frameLayout, phoneFragment, PhoneFragment.class.getSimpleName()).hide(phoneFragment).commit();\r\n        fm.beginTransaction().add(R.id.frameLayout, homeServicesFragment, HomeServicesFragment.class.getSimpleName()).hide(homeServicesFragment).commit();\r\n         active = homeFragment;\r\n        changeFragment(homeFragment, null);\r\n    }\r\n\r\n    private void setBottomNavigationView() {\r\n        bottomNavigationView.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {\r\n            @Override\r\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n                fragment = null;\r\n                switch (item.getItemId()) {\r\n                    //id yang ada di menu bottom_menu.xml\r\n                    case R.id.home_menu:\r\n                        changeFragment(homeFragment, null);\r\n                        return true;\r\n                         \r\n                    case R.id.computer_menu:\r\n                        changeFragment(computerFragment, null);\r\n                        return true;\r\n                         \r\n                    case R.id.phone_menu:\r\n                        changeFragment(phoneFragment, null);\r\n                        return true;\r\n                         \r\n                    case R.id.home_services_menu:\r\n                        changeFragment(homeServicesFragment, null);\r\n                        return true;\r\n                         \r\n                }\r\n                return homeFragment;\r\n            }\r\n        });\r\n    }","title":"Data reset when moving from one to another fragment using Bottom Navigation Bar","body":"<p>because every time user click on navigation bottom u create new instance of fragment every time :</p>\n<pre><code> private void setBottomNavigationView() {\n    bottomNavigationView.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {\n        @Override\n        public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n            fragment = null;\n            switch (item.getItemId()) {\n                //id yang ada di menu bottom_menu.xml\n                case R.id.home_menu:\n                    fragment = new HomeFragment();\n                    break;\n                case R.id.computer_menu:\n                    fragment = new ComputerFragment();\n                    break;\n                case R.id.phone_menu:\n                    fragment = new PhoneFragment();\n                    break;\n                case R.id.home_services_menu:\n                    fragment = new HomeServicesFragment();\n                    break;\n            }\n            return getFragmentPage(fragment);\n        }\n    });\n}\n</code></pre>\n<p>try this :</p>\n<pre><code>   private homeFragment = new HomeFragment();\nprivate computerFragment = new ComputerFragment();\nprivate phoneFragment = new PhoneFragment();\nprivate homeServicesFragment = new HomeServicesFragment();\nprivate Fragment active;\nprivate final FragmentManager fm = getSupportFragmentManager();\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    ...\n    initFragment();\n    ...\n}\n\nprivate void changeFragment(Fragment fragment, Bundle bundle) {\n    fm.beginTransaction()\n            .hide(active)\n            .show(fragment)\n            .commit();\n    active = fragment;\n    active.setArguments(bundle);\n}\n\nprivate void initFragment() {\n    fm.beginTransaction().add(R.id.frameLayout, homeFragment, homeFragment.class.getSimpleName()).commit();\n    fm.beginTransaction().add(R.id.frameLayout, computerFragment, computerFragment.class.getSimpleName()).hide(computerFragment).commit();\n    fm.beginTransaction().add(R.id.frameLayout, phoneFragment, PhoneFragment.class.getSimpleName()).hide(phoneFragment).commit();\n    fm.beginTransaction().add(R.id.frameLayout, homeServicesFragment, HomeServicesFragment.class.getSimpleName()).hide(homeServicesFragment).commit();\n     active = homeFragment;\n    changeFragment(homeFragment, null);\n}\n\nprivate void setBottomNavigationView() {\n    bottomNavigationView.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {\n        @Override\n        public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n            fragment = null;\n            switch (item.getItemId()) {\n                //id yang ada di menu bottom_menu.xml\n                case R.id.home_menu:\n                    changeFragment(homeFragment, null);\n                    return true;\n                     \n                case R.id.computer_menu:\n                    changeFragment(computerFragment, null);\n                    return true;\n                     \n                case R.id.phone_menu:\n                    changeFragment(phoneFragment, null);\n                    return true;\n                     \n                case R.id.home_services_menu:\n                    changeFragment(homeServicesFragment, null);\n                    return true;\n                     \n            }\n            return homeFragment;\n        }\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":23487660,"reputation":21,"user_id":17539026,"display_name":"M. Noval Hidayat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":591,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650789136,"creation_date":1650543170,"question_id":71954280,"body_markdown":"I am using bottom navigation bar dan fragment in my project.\r\nWhen it moved from one to another fragment, I dont want to lose the state or data\r\nHow can I do it?\r\n\r\nThis is activity_main.xml\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;androidx.coordinatorlayout.widget.CoordinatorLayout\r\n        android:id=&quot;@+id/container&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;#F9FAFD&quot;&gt;\r\n\r\n        &lt;FrameLayout\r\n            android:id=&quot;@+id/page_fragment&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot; /&gt;\r\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n\r\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n        android:id=&quot;@+id/bottom_bar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;56dp&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:background=&quot;@android:color/white&quot;\r\n        app:labelVisibilityMode=&quot;labeled&quot;\r\n        app:menu=&quot;@menu/bottom_menu&quot; /&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n```\r\n\r\nAnd this is the MainActivity.java\r\n```\r\npackage com.noval.tugas_6;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.MenuItem;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\r\nimport com.noval.tugas_6.computer.ComputerFragment;\r\nimport com.noval.tugas_6.home.HomeFragment;\r\nimport com.noval.tugas_6.home_services.HomeServicesFragment;\r\nimport com.noval.tugas_6.phone.PhoneFragment;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    BottomNavigationView bottomNavigationView;\r\n    private Fragment fragment;\r\n    private long exitTime = 0;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        bottomNavigationView = findViewById(R.id.bottom_bar);\r\n        getFragmentPage(new HomeFragment());\r\n        setBottomNavigationView();\r\n    }\r\n\r\n    private void setBottomNavigationView() {\r\n        bottomNavigationView.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {\r\n            @Override\r\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n                fragment = null;\r\n                switch (item.getItemId()) {\r\n                    //id yang ada di menu bottom_menu.xml\r\n                    case R.id.home_menu:\r\n                        fragment = new HomeFragment();\r\n                        break;\r\n                    case R.id.computer_menu:\r\n                        fragment = new ComputerFragment();\r\n                        break;\r\n                    case R.id.phone_menu:\r\n                        fragment = new PhoneFragment();\r\n                        break;\r\n                    case R.id.home_services_menu:\r\n                        fragment = new HomeServicesFragment();\r\n                        break;\r\n                }\r\n                return getFragmentPage(fragment);\r\n            }\r\n        });\r\n    }\r\n\r\n    private boolean getFragmentPage(Fragment fragment) {\r\n        if (fragment != null) {\r\n            getSupportFragmentManager()\r\n                    .beginTransaction()\r\n                    .setReorderingAllowed(true)\r\n                    .addToBackStack(null)\r\n                    .replace(R.id.page_fragment, fragment)\r\n                    .commit();\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n\r\n        if ((System.currentTimeMillis() - exitTime) &gt; 2000) {\r\n            Toast.makeText(this, &quot;Press again to exit&quot;, Toast.LENGTH_SHORT).show();\r\n            exitTime = System.currentTimeMillis();\r\n        } else {\r\n            finish();\r\n            System.exit(0);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis is one of the fragment that I am using\r\nPhoneFragment.java\r\n```\r\npackage com.noval.tugas_6.phone;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport com.noval.tugas_6.R;\r\n\r\npublic class PhoneFragment extends Fragment {\r\n\r\n    public int[] imgID = new int[]{R.drawable.infinix_zero, R.drawable.realme_c35,\r\n            R.drawable.galaxy_a33, R.drawable.samsung_galaxy_a13, R.drawable.samsung_galaxy_a23};\r\n    public String[] namaHP = new String[]{&quot;Infinix Zero 5G&quot;, &quot;Realme C35&quot;, &quot;Samsung Galaxy A33 5G&quot;,\r\n            &quot;Samsung Galaxy A13&quot;, &quot;Samsung Galaxy A23&quot;};\r\n    public String[] hargaHP = new String[]{&quot;Rp3.600.000&quot;, &quot;Rp2.150.000&quot;, &quot;Rp4.700.000&quot;, &quot;Rp2.500.000&quot;, &quot;Rp3.500.000&quot;};\r\n\r\n    ImageView imgHP;\r\n    TextView txtNama, txtHarga;\r\n    Button btnNext, btnPrevious;\r\n    int position = 0;\r\n\r\n    public PhoneFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n//    public static PhoneFragment newInstance() {\r\n//        PhoneFragment fragment = new PhoneFragment();\r\n//        Bundle args = new Bundle();\r\n//        fragment.setArguments(args);\r\n//        return fragment;\r\n//    }\r\n//\r\n//    @Override\r\n//    public void onCreate(Bundle savedInstanceState) {\r\n//        super.onCreate(savedInstanceState);\r\n//        if (getArguments() != null) {\r\n//\r\n//        }\r\n//    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        return inflater.inflate(R.layout.fragment_phone, container, false);\r\n\r\n    }\r\n\r\n    // method ini dipanggil sesaat setelah onCreateView di atas dipanggil\r\n    // semua pembacaan view dan penambahan listener dilakukan disini\r\n    @Override\r\n    public void onViewCreated(View view, Bundle savedInstanceState) {\r\n        imgHP = (ImageView) getActivity().findViewById(R.id.imgHP);\r\n        txtNama = (TextView) getActivity().findViewById(R.id.txtNamaHP);\r\n        txtHarga = (TextView) getActivity().findViewById(R.id.txtHargaHP);\r\n        btnNext = (Button) getActivity().findViewById(R.id.btnNextHP);\r\n        btnPrevious = (Button) getActivity().findViewById(R.id.btnPreviousHP);\r\n\r\n        imgHP.setImageResource(imgID[position]);\r\n        txtNama.setText(namaHP[position]);\r\n        txtHarga.setText(hargaHP[position]);\r\n        btnPrevious.setVisibility(View.GONE);\r\n\r\n        btnNext.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                position += 1;\r\n                imgHP.setImageResource(imgID[position]);\r\n                txtNama.setText(namaHP[position]);\r\n                txtHarga.setText(hargaHP[position]);\r\n\r\n                // jika posisi item yang terakhir, hilangkan tombol next\r\n                if (position == (imgID.length - 1)) {\r\n                    btnNext.setVisibility(View.GONE);\r\n                } else if (position &gt; 0) {\r\n                    btnPrevious.setVisibility(View.VISIBLE);\r\n                }\r\n            }\r\n        });\r\n\r\n        btnPrevious.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                position -= 1;\r\n                imgHP.setImageResource(imgID[position]);\r\n                txtNama.setText(namaHP[position]);\r\n                txtHarga.setText(hargaHP[position]);\r\n\r\n                if (position == 0) {\r\n                    btnPrevious.setVisibility(View.GONE);\r\n                } else {\r\n                    btnNext.setVisibility(View.VISIBLE);\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nPlease show me how to not lose the fragment data when moving to another fragment\r\nThanks","title":"Data reset when moving from one to another fragment using Bottom Navigation Bar","body":"<p>I am using bottom navigation bar dan fragment in my project.\nWhen it moved from one to another fragment, I dont want to lose the state or data\nHow can I do it?</p>\n<p>This is activity_main.xml</p>\n<pre><code>&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;androidx.coordinatorlayout.widget.CoordinatorLayout\n        android:id=&quot;@+id/container&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:background=&quot;#F9FAFD&quot;&gt;\n\n        &lt;FrameLayout\n            android:id=&quot;@+id/page_fragment&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot; /&gt;\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n        android:id=&quot;@+id/bottom_bar&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;56dp&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:background=&quot;@android:color/white&quot;\n        app:labelVisibilityMode=&quot;labeled&quot;\n        app:menu=&quot;@menu/bottom_menu&quot; /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>And this is the MainActivity.java</p>\n<pre><code>package com.noval.tugas_6;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.fragment.app.Fragment;\n\nimport android.os.Bundle;\nimport android.view.MenuItem;\nimport android.widget.Toast;\n\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\nimport com.noval.tugas_6.computer.ComputerFragment;\nimport com.noval.tugas_6.home.HomeFragment;\nimport com.noval.tugas_6.home_services.HomeServicesFragment;\nimport com.noval.tugas_6.phone.PhoneFragment;\n\npublic class MainActivity extends AppCompatActivity {\n\n    BottomNavigationView bottomNavigationView;\n    private Fragment fragment;\n    private long exitTime = 0;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        bottomNavigationView = findViewById(R.id.bottom_bar);\n        getFragmentPage(new HomeFragment());\n        setBottomNavigationView();\n    }\n\n    private void setBottomNavigationView() {\n        bottomNavigationView.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {\n            @Override\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n                fragment = null;\n                switch (item.getItemId()) {\n                    //id yang ada di menu bottom_menu.xml\n                    case R.id.home_menu:\n                        fragment = new HomeFragment();\n                        break;\n                    case R.id.computer_menu:\n                        fragment = new ComputerFragment();\n                        break;\n                    case R.id.phone_menu:\n                        fragment = new PhoneFragment();\n                        break;\n                    case R.id.home_services_menu:\n                        fragment = new HomeServicesFragment();\n                        break;\n                }\n                return getFragmentPage(fragment);\n            }\n        });\n    }\n\n    private boolean getFragmentPage(Fragment fragment) {\n        if (fragment != null) {\n            getSupportFragmentManager()\n                    .beginTransaction()\n                    .setReorderingAllowed(true)\n                    .addToBackStack(null)\n                    .replace(R.id.page_fragment, fragment)\n                    .commit();\n            return true;\n        }\n        return false;\n    }\n\n    @Override\n    public void onBackPressed() {\n\n        if ((System.currentTimeMillis() - exitTime) &gt; 2000) {\n            Toast.makeText(this, &quot;Press again to exit&quot;, Toast.LENGTH_SHORT).show();\n            exitTime = System.currentTimeMillis();\n        } else {\n            finish();\n            System.exit(0);\n        }\n    }\n}\n</code></pre>\n<p>This is one of the fragment that I am using\nPhoneFragment.java</p>\n<pre><code>package com.noval.tugas_6.phone;\n\nimport android.os.Bundle;\n\nimport androidx.fragment.app.Fragment;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport com.noval.tugas_6.R;\n\npublic class PhoneFragment extends Fragment {\n\n    public int[] imgID = new int[]{R.drawable.infinix_zero, R.drawable.realme_c35,\n            R.drawable.galaxy_a33, R.drawable.samsung_galaxy_a13, R.drawable.samsung_galaxy_a23};\n    public String[] namaHP = new String[]{&quot;Infinix Zero 5G&quot;, &quot;Realme C35&quot;, &quot;Samsung Galaxy A33 5G&quot;,\n            &quot;Samsung Galaxy A13&quot;, &quot;Samsung Galaxy A23&quot;};\n    public String[] hargaHP = new String[]{&quot;Rp3.600.000&quot;, &quot;Rp2.150.000&quot;, &quot;Rp4.700.000&quot;, &quot;Rp2.500.000&quot;, &quot;Rp3.500.000&quot;};\n\n    ImageView imgHP;\n    TextView txtNama, txtHarga;\n    Button btnNext, btnPrevious;\n    int position = 0;\n\n    public PhoneFragment() {\n        // Required empty public constructor\n    }\n\n//    public static PhoneFragment newInstance() {\n//        PhoneFragment fragment = new PhoneFragment();\n//        Bundle args = new Bundle();\n//        fragment.setArguments(args);\n//        return fragment;\n//    }\n//\n//    @Override\n//    public void onCreate(Bundle savedInstanceState) {\n//        super.onCreate(savedInstanceState);\n//        if (getArguments() != null) {\n//\n//        }\n//    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        return inflater.inflate(R.layout.fragment_phone, container, false);\n\n    }\n\n    // method ini dipanggil sesaat setelah onCreateView di atas dipanggil\n    // semua pembacaan view dan penambahan listener dilakukan disini\n    @Override\n    public void onViewCreated(View view, Bundle savedInstanceState) {\n        imgHP = (ImageView) getActivity().findViewById(R.id.imgHP);\n        txtNama = (TextView) getActivity().findViewById(R.id.txtNamaHP);\n        txtHarga = (TextView) getActivity().findViewById(R.id.txtHargaHP);\n        btnNext = (Button) getActivity().findViewById(R.id.btnNextHP);\n        btnPrevious = (Button) getActivity().findViewById(R.id.btnPreviousHP);\n\n        imgHP.setImageResource(imgID[position]);\n        txtNama.setText(namaHP[position]);\n        txtHarga.setText(hargaHP[position]);\n        btnPrevious.setVisibility(View.GONE);\n\n        btnNext.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                position += 1;\n                imgHP.setImageResource(imgID[position]);\n                txtNama.setText(namaHP[position]);\n                txtHarga.setText(hargaHP[position]);\n\n                // jika posisi item yang terakhir, hilangkan tombol next\n                if (position == (imgID.length - 1)) {\n                    btnNext.setVisibility(View.GONE);\n                } else if (position &gt; 0) {\n                    btnPrevious.setVisibility(View.VISIBLE);\n                }\n            }\n        });\n\n        btnPrevious.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                position -= 1;\n                imgHP.setImageResource(imgID[position]);\n                txtNama.setText(namaHP[position]);\n                txtHarga.setText(hargaHP[position]);\n\n                if (position == 0) {\n                    btnPrevious.setVisibility(View.GONE);\n                } else {\n                    btnNext.setVisibility(View.VISIBLE);\n                }\n            }\n        });\n    }\n}\n</code></pre>\n<p>Please show me how to not lose the fragment data when moving to another fragment\nThanks</p>\n"},{"tags":["java","android","profile"],"answers":[{"tags":[],"owner":{"account_id":14727304,"reputation":56,"user_id":10635783,"display_name":"Behnam Nasehi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650788730,"creation_date":1650788730,"answer_id":71986688,"question_id":71960641,"body_markdown":"Override this method in your fragment :\r\n\r\n    @Override\r\n    public void onHiddenChanged(boolean hidden) {\r\n        super.onHiddenChanged(hidden);\r\n        this.isHidden = hidden;\r\n        if (isHidden) {\r\n            //todo do something\r\n        } else {\r\n           //todo do something\r\n        }\r\n    }","title":"User profile fragment Setting","body":"<p>Override this method in your fragment :</p>\n<pre><code>@Override\npublic void onHiddenChanged(boolean hidden) {\n    super.onHiddenChanged(hidden);\n    this.isHidden = hidden;\n    if (isHidden) {\n        //todo do something\n    } else {\n       //todo do something\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24992069,"reputation":1,"user_id":18853147,"display_name":"Asif Munir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650788730,"creation_date":1650573642,"question_id":71960641,"body_markdown":"i am creating small app with login and signup option and also with profile fragment so that user can update their profile later. i design my user profile layout but don&#39;t know how to code with java so when user open profile fragment he changed his detail . i am using firebasefirestore \r\nplease help me \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    public class ProfileFragment extends Fragment {\r\n        FirebaseAuth auth;\r\n        FirebaseFirestore database;\r\n        UserDetail userDetail;\r\n        public ProfileFragment() {\r\n            // Required empty public constructor\r\n        }\r\n\r\n\r\n\r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n        }\r\n        FragmentProfileBinding binding;\r\n\r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            // Inflate the layout for this fragment\r\n            binding = FragmentProfileBinding.inflate( inflater, container,false );\r\n            database =  FirebaseFirestore.getInstance();\r\n            database.collection( &quot;Users&quot; )\r\n                    .document( FirebaseAuth.getInstance().getUid() )\r\n                    .get().addOnSuccessListener( new OnSuccessListener&lt;DocumentSnapshot&gt;() {\r\n                @Override\r\n                public void onSuccess(DocumentSnapshot documentSnapshot) {\r\n                    userDetail = documentSnapshot.toObject( UserDetail.class );\r\n\r\n                }\r\n            } );\r\n            binding.updateButton.setOnClickListener( new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    String name, cityName, mobileNumber, whatsappNumber, email, password;\r\n                    name = binding.nameBox.getText().toString();\r\n                    cityName = binding.cityNameBox.getText().toString();\r\n                    mobileNumber = binding.mobileNumberBox.getText().toString();\r\n                    whatsappNumber = binding.whatsappNumberBox.getText().toString();\r\n                    email = binding.emailBox.getText().toString();\r\n                    password = binding.passwordBox.getText().toString();\r\n\r\n                    final UserDetail userDetail = new UserDetail(name, email, password, cityName, mobileNumber, whatsappNumber);\r\n\r\n\r\n                    }\r\n\r\n            } );\r\n\r\n            return binding.getRoot();\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"User profile fragment Setting","body":"<p>i am creating small app with login and signup option and also with profile fragment so that user can update their profile later. i design my user profile layout but don't know how to code with java so when user open profile fragment he changed his detail . i am using firebasefirestore\nplease help me</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>public class ProfileFragment extends Fragment {\n    FirebaseAuth auth;\n    FirebaseFirestore database;\n    UserDetail userDetail;\n    public ProfileFragment() {\n        // Required empty public constructor\n    }\n\n\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n    }\n    FragmentProfileBinding binding;\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        binding = FragmentProfileBinding.inflate( inflater, container,false );\n        database =  FirebaseFirestore.getInstance();\n        database.collection( \"Users\" )\n                .document( FirebaseAuth.getInstance().getUid() )\n                .get().addOnSuccessListener( new OnSuccessListener&lt;DocumentSnapshot&gt;() {\n            @Override\n            public void onSuccess(DocumentSnapshot documentSnapshot) {\n                userDetail = documentSnapshot.toObject( UserDetail.class );\n\n            }\n        } );\n        binding.updateButton.setOnClickListener( new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                String name, cityName, mobileNumber, whatsappNumber, email, password;\n                name = binding.nameBox.getText().toString();\n                cityName = binding.cityNameBox.getText().toString();\n                mobileNumber = binding.mobileNumberBox.getText().toString();\n                whatsappNumber = binding.whatsappNumberBox.getText().toString();\n                email = binding.emailBox.getText().toString();\n                password = binding.passwordBox.getText().toString();\n\n                final UserDetail userDetail = new UserDetail(name, email, password, cityName, mobileNumber, whatsappNumber);\n\n\n                }\n\n        } );\n\n        return binding.getRoot();\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":6023206,"reputation":7989,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1650633167,"post_id":71969166,"comment_id":127171668,"body_markdown":"why do you think that would be safe ? people would surely decompile this, right ? but this problem goes beyond just people having access to a username and password because they&#39;d probably need to have this access for the app to work, right","body":"why do you think that would be safe ? people would surely decompile this, right ? but this problem goes beyond just people having access to a username and password because they&#39;d probably need to have this access for the app to work, right"},{"owner":{"account_id":6075086,"reputation":159,"user_id":4742703,"display_name":"Zahra"},"score":0,"creation_date":1650633370,"post_id":71969166,"comment_id":127171762,"body_markdown":"what do i do then?","body":"what do i do then?"},{"owner":{"account_id":6023206,"reputation":7989,"user_id":4729721,"display_name":"a_local_nobody"},"score":1,"creation_date":1650633383,"post_id":71969166,"comment_id":127171766,"body_markdown":"well, that&#39;s my point. your question is &quot;Is it safe...&quot; to which the answer is _probably_  &quot;no&quot;, but how else you could handle this is possibly a different question and perhaps this doesn&#39;t have much to do with android anymore, perhaps this is more relevant on a security/server forum","body":"well, that&#39;s my point. your question is &quot;Is it safe...&quot; to which the answer is <i>probably</i>  &quot;no&quot;, but how else you could handle this is possibly a different question and perhaps this doesn&#39;t have much to do with android anymore, perhaps this is more relevant on a security/server forum"}],"answers":[{"tags":[],"owner":{"account_id":19838165,"reputation":284,"user_id":14531373,"display_name":"Dominik Teroerde"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1650661682,"creation_date":1650633537,"answer_id":71969429,"question_id":71969166,"body_markdown":"Your feeling is right. It is **not recommended** to store your password in source code. Instead you can store it maybe in **protected section**. You could use **EncryptedSharedPreferences** from the Jetpack security library **[like this][1]**:\r\n\r\n      String masterKeyAlias = MasterKeys.getOrCreate(MasterKeys.AES256_GCM_SPEC);\r\n    \r\n      SharedPreferences sharedPreferences = EncryptedSharedPreferences.create(\r\n          &quot;secret_shared_prefs&quot;,\r\n          masterKeyAlias,\r\n          context,\r\n          EncryptedSharedPreferences.PrefKeyEncryptionScheme.AES256_SIV,\r\n          EncryptedSharedPreferences.PrefValueEncryptionScheme.AES256_GCM\r\n      );\r\n    \r\n      // use the shared preferences and editor as you normally would\r\n      SharedPreferences.Editor editor = sharedPreferences.edit();\r\n\r\n**As already discussed in many threads, there is no &quot;really secure&quot; solution in Android. It is better if the user authenticates his password on the server. If it is a developer web service, then in most cases you have an API that you can use. Then you can work with [access tokens][2].**\r\n\r\n  [1]: https://stackoverflow.com/questions/9233035/best-option-to-store-username-and-password-in-android-app\r\n  [2]: https://en.wikipedia.org/wiki/Access_token","title":"Is it safe to put your username and password in the client android application","body":"<p>Your feeling is right. It is <strong>not recommended</strong> to store your password in source code. Instead you can store it maybe in <strong>protected section</strong>. You could use <strong>EncryptedSharedPreferences</strong> from the Jetpack security library <strong><a href=\"https://stackoverflow.com/questions/9233035/best-option-to-store-username-and-password-in-android-app\">like this</a></strong>:</p>\n<pre><code>  String masterKeyAlias = MasterKeys.getOrCreate(MasterKeys.AES256_GCM_SPEC);\n\n  SharedPreferences sharedPreferences = EncryptedSharedPreferences.create(\n      &quot;secret_shared_prefs&quot;,\n      masterKeyAlias,\n      context,\n      EncryptedSharedPreferences.PrefKeyEncryptionScheme.AES256_SIV,\n      EncryptedSharedPreferences.PrefValueEncryptionScheme.AES256_GCM\n  );\n\n  // use the shared preferences and editor as you normally would\n  SharedPreferences.Editor editor = sharedPreferences.edit();\n</code></pre>\n<p><strong>As already discussed in many threads, there is no &quot;really secure&quot; solution in Android. It is better if the user authenticates his password on the server. If it is a developer web service, then in most cases you have an API that you can use. Then you can work with <a href=\"https://en.wikipedia.org/wiki/Access_token\" rel=\"nofollow noreferrer\">access tokens</a>.</strong></p>\n"},{"tags":[],"owner":{"account_id":14727304,"reputation":56,"user_id":10635783,"display_name":"Behnam Nasehi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650788530,"creation_date":1650788530,"answer_id":71986669,"question_id":71969166,"body_markdown":"Try to save it with encryptedSharedPrefrences :\r\nhttps://github.com/behnamnasehi/EncryptedSharedPreferences","title":"Is it safe to put your username and password in the client android application","body":"<p>Try to save it with encryptedSharedPrefrences :\n<a href=\"https://github.com/behnamnasehi/EncryptedSharedPreferences\" rel=\"nofollow noreferrer\">https://github.com/behnamnasehi/EncryptedSharedPreferences</a></p>\n"}],"owner":{"account_id":6075086,"reputation":159,"user_id":4742703,"display_name":"Zahra"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71969429,"answer_count":2,"score":0,"last_activity_date":1650788530,"creation_date":1650632401,"question_id":71969166,"body_markdown":"so I&#39;m developing an application in android studio using Java. \r\nI&#39;m using this service on my client application that needs my username and password.\r\n\r\n    private Rsms s= new Rsms(&quot;Username&quot;,&quot;Password&quot;);\r\n\r\nbut I don&#39;t feel it&#39;s safe to just put my username and password in the code. ","title":"Is it safe to put your username and password in the client android application","body":"<p>so I'm developing an application in android studio using Java.\nI'm using this service on my client application that needs my username and password.</p>\n<pre><code>private Rsms s= new Rsms(&quot;Username&quot;,&quot;Password&quot;);\n</code></pre>\n<p>but I don't feel it's safe to just put my username and password in the code.</p>\n"},{"tags":["java","eclipse","automated-refactoring"],"comments":[{"owner":{"account_id":2293390,"reputation":8655,"user_id":2015517,"accept_rate":60,"display_name":"Dev Blanked"},"score":1,"creation_date":1433494478,"post_id":30662258,"comment_id":49386816,"body_markdown":"Is it possible to introduce a new method instead of &#39;getNames&#39; which returns the list without first and last items ?","body":"Is it possible to introduce a new method instead of &#39;getNames&#39; which returns the list without first and last items ?"},{"owner":{"account_id":222412,"reputation":55996,"user_id":480982,"accept_rate":83,"display_name":"Thomas Weller"},"score":0,"creation_date":1433495174,"post_id":30662258,"comment_id":49387275,"body_markdown":"@DevBlanked: of course that would technically be possible, but doesn&#39;t that mean I manually write a loop that copies everything except the first and the last item?","body":"@DevBlanked: of course that would technically be possible, but doesn&#39;t that mean I manually write a loop that copies everything except the first and the last item?"},{"owner":{"account_id":2293390,"reputation":8655,"user_id":2015517,"accept_rate":60,"display_name":"Dev Blanked"},"score":0,"creation_date":1433578387,"post_id":30662258,"comment_id":49421750,"body_markdown":"not really, you could remove the first &amp; last items giving their indexes, https://docs.oracle.com/javase/7/docs/api/java/util/List.html#remove(int).","body":"not really, you could remove the first &amp; last items giving their indexes, <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/List.html#remove(int)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/&hellip;</a>."}],"answers":[{"tags":[],"owner":{"account_id":2764833,"reputation":232372,"user_id":2380830,"accept_rate":89,"display_name":"Bathsheba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433495399,"creation_date":1433494642,"answer_id":30662361,"question_id":30662258,"body_markdown":"Be careful with this refactoring.\r\n\r\nThe reason is that for a traditional linked list, your second `for` loop formulation is O(N * N) since you&#39;re having to traverse the linked list in order to evaluate `names.get(i);`. That could become expensive.\r\n\r\nDo consider performance implications when moving from `for(String name:names) {`. There may well be a better way of fixing your immediate bug, and retaining the current &quot;Big O&quot;.\r\n\r\n`for(String name : names.subList(1, names.size() - 1)) {`\r\n\r\nis one such way (Acknowledge @JB Nizet).","title":"Refactor foreach to for loop","body":"<p>Be careful with this refactoring.</p>\n\n<p>The reason is that for a traditional linked list, your second <code>for</code> loop formulation is O(N * N) since you're having to traverse the linked list in order to evaluate <code>names.get(i);</code>. That could become expensive.</p>\n\n<p>Do consider performance implications when moving from <code>for(String name:names) {</code>. There may well be a better way of fixing your immediate bug, and retaining the current \"Big O\".</p>\n\n<p><code>for(String name : names.subList(1, names.size() - 1)) {</code></p>\n\n<p>is one such way (Acknowledge @JB Nizet).</p>\n"},{"tags":[],"owner":{"account_id":5860066,"reputation":13475,"user_id":4616087,"display_name":"Marvin"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1433497245,"creation_date":1433494643,"answer_id":30662363,"question_id":30662258,"body_markdown":"In my eclipse (Kepler RC2) it works to select the `for` keyword and either use the quick fix from the context menu or hit &lt;kbd&gt;CTRL&lt;/kbd&gt;+&lt;kbd&gt;1&lt;/kbd&gt; for the shortcut. Eclipse then offers me &quot;Convert to indexed &#39;for&#39; loop&quot; or &quot;Convert to Iterator-based &#39;for&#39; loop&quot;.\r\n\r\n![Screenshot of quick fix options][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/7wZ5X.png","title":"Refactor foreach to for loop","body":"<p>In my eclipse (Kepler RC2) it works to select the <code>for</code> keyword and either use the quick fix from the context menu or hit <kbd>CTRL</kbd>+<kbd>1</kbd> for the shortcut. Eclipse then offers me \"Convert to indexed 'for' loop\" or \"Convert to Iterator-based 'for' loop\".</p>\n\n<p><img src=\"https://i.stack.imgur.com/7wZ5X.png\" alt=\"Screenshot of quick fix options\"></p>\n"},{"tags":[],"owner":{"account_id":3395893,"reputation":702,"user_id":2849525,"accept_rate":88,"display_name":"Massimo"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1433498281,"creation_date":1433494647,"answer_id":30662364,"question_id":30662258,"body_markdown":"Mouseover the `for` statement, right-click, Quick fix (&lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;1&lt;/kbd&gt;), convert to indexed loop.\r\n\r\nShould work!","title":"Refactor foreach to for loop","body":"<p>Mouseover the <code>for</code> statement, right-click, Quick fix (<kbd>Ctrl</kbd>+<kbd>1</kbd>), convert to indexed loop.</p>\n\n<p>Should work!</p>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1433495110,"creation_date":1433494693,"answer_id":30662380,"question_id":30662258,"body_markdown":"    List&lt;String&gt; names = getNames();\r\n    names = names.subList(1, names.size() - 1);\r\n    for(String name : names) {\r\n        doSomething(name);\r\n    }\r\n\r\nOf course, you could put that into a reusable method if you need to do it several times:\r\n\r\n    public static List&lt;String&gt; fixList(List&lt;String&gt; names) {\r\n        return names.subList(1, names.size() - 1);\r\n    }\r\n\r\nand then use it as\r\n\r\n    List&lt;String&gt; names = fixList(getNames());\r\n    for(String name : names) {\r\n        doSomething(name);\r\n    }","title":"Refactor foreach to for loop","body":"<pre><code>List&lt;String&gt; names = getNames();\nnames = names.subList(1, names.size() - 1);\nfor(String name : names) {\n    doSomething(name);\n}\n</code></pre>\n\n<p>Of course, you could put that into a reusable method if you need to do it several times:</p>\n\n<pre><code>public static List&lt;String&gt; fixList(List&lt;String&gt; names) {\n    return names.subList(1, names.size() - 1);\n}\n</code></pre>\n\n<p>and then use it as</p>\n\n<pre><code>List&lt;String&gt; names = fixList(getNames());\nfor(String name : names) {\n    doSomething(name);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2297872,"reputation":2063,"user_id":2018885,"accept_rate":80,"display_name":"Stefaan Neyts"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1433494829,"creation_date":1433494829,"answer_id":30662417,"question_id":30662258,"body_markdown":"When using java 8 you could use the stream api\r\n\r\n    names.stream().skip(1).reverse().skip(1).reverse().foreach(\r\n        name -&gt; do something(name)\r\n    );\r\n\r\nSomething like this...","title":"Refactor foreach to for loop","body":"<p>When using java 8 you could use the stream api</p>\n\n<pre><code>names.stream().skip(1).reverse().skip(1).reverse().foreach(\n    name -&gt; do something(name)\n);\n</code></pre>\n\n<p>Something like this...</p>\n"},{"tags":[],"owner":{"account_id":1673756,"reputation":1421,"user_id":2445298,"accept_rate":50,"display_name":"Estimate"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1433495142,"creation_date":1433495142,"answer_id":30662530,"question_id":30662258,"body_markdown":"You can use either:\r\n\r\n    names = names.subList(1, names.size()-1);\r\n    for (String name : names) {\r\n       doSomething(name);\r\n    }\r\n\r\nor in manually:\r\n\r\n    for (int i = 1; i &lt; names.size()-1; i++) {\r\n       String name = names.get(i);\r\n        doSomething(name);\r\n    }\r\n\r\nBut the first one I prefer to use.","title":"Refactor foreach to for loop","body":"<p>You can use either:</p>\n\n<pre><code>names = names.subList(1, names.size()-1);\nfor (String name : names) {\n   doSomething(name);\n}\n</code></pre>\n\n<p>or in manually:</p>\n\n<pre><code>for (int i = 1; i &lt; names.size()-1; i++) {\n   String name = names.get(i);\n    doSomething(name);\n}\n</code></pre>\n\n<p>But the first one I prefer to use.</p>\n"},{"tags":[],"owner":{"account_id":3677882,"reputation":787,"user_id":3063555,"display_name":"JnRouvignac"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433497630,"creation_date":1433497630,"answer_id":30663393,"question_id":30662258,"body_markdown":"Don&#39;t go for indexed iteration!\r\nThis does not perform well with all implementations of `List`.\r\n\r\nIt is much better to go for an `Iterator` and let the JIT optimize the `Iterator` away if this code is hot.\r\n\r\nSo either write this:\r\n\r\n    List&lt;String&gt; names = getNames();\r\n    for (String name : names.subList(1, names.size() - 1)) {\r\n        doSomething(name);\r\n    }\r\n\r\nOr that (one allocation less):\r\n\r\n    Iterator&lt;String&gt; it = getNames().iterator();\r\n    it.next(); // You seem to be sure there is more than one element in the list\r\n    while (it.hasNext()) {\r\n        String name = it.next();\r\n        doSomething(name);\r\n    }\r\n","title":"Refactor foreach to for loop","body":"<p>Don't go for indexed iteration!\nThis does not perform well with all implementations of <code>List</code>.</p>\n\n<p>It is much better to go for an <code>Iterator</code> and let the JIT optimize the <code>Iterator</code> away if this code is hot.</p>\n\n<p>So either write this:</p>\n\n<pre><code>List&lt;String&gt; names = getNames();\nfor (String name : names.subList(1, names.size() - 1)) {\n    doSomething(name);\n}\n</code></pre>\n\n<p>Or that (one allocation less):</p>\n\n<pre><code>Iterator&lt;String&gt; it = getNames().iterator();\nit.next(); // You seem to be sure there is more than one element in the list\nwhile (it.hasNext()) {\n    String name = it.next();\n    doSomething(name);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22916503,"reputation":45,"user_id":17053025,"display_name":"grojas123"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1650788277,"creation_date":1650788277,"answer_id":71986642,"question_id":30662258,"body_markdown":"In my case, I need to transform the foreach to use an index .\r\nThis is my two cents\r\n \r\n\r\n     \r\n    Integer index=0;\r\n                      \r\n          for (final String OneCell :CellList){\r\n         // Your code use the index\r\n                 index=index+1;\r\n         }","title":"Refactor foreach to for loop","body":"<p>In my case, I need to transform the foreach to use an index .\nThis is my two cents</p>\n<pre><code>Integer index=0;\n                  \n      for (final String OneCell :CellList){\n     // Your code use the index\n             index=index+1;\n     }\n</code></pre>\n"}],"owner":{"account_id":222412,"reputation":55996,"user_id":480982,"accept_rate":83,"display_name":"Thomas Weller"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8651,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":30662364,"answer_count":8,"score":8,"last_activity_date":1650788277,"creation_date":1433494340,"question_id":30662258,"body_markdown":"I have a foreach loop in Java (simplified version here)\r\n\r\n    List&lt;String&gt; names = getNames();\r\n    for(String name:names) {\r\n        doSomething(name);\r\n    }\r\n\r\nIs there an automated way to refactor this to a traditional `for` loop?\r\n\r\nI know how to do it manually\r\n\r\n    List&lt;String&gt; names = getNames();\r\n    for(int i=0; i&lt;names.size(); i++) {\r\n        String name = names.get(i);\r\n        doSomething(name);\r\n    }\r\n\r\nAs you can see, there is a bit of typing needed in the `for` statement itself as well as introducing the variable `name` again and assign it the value `names.get(i)`. In total, the manual edit is too error-prone for me.\r\n\r\nWhy do I want to do this? I have to fix a bug and the fix is to start at index 1 instead of index 0 and end at index n-1 instead of the end (unfortunately I can&#39;t fix the input right away, I need to wait for a library update if that&#39;s recognized as a bug).\r\n\r\nWhat have I tried? I right-clicked on the `for` keyword and clicked on &quot;Refactor&quot;, but as far as I can get from the context menu entries, nothing in there would do the work for me.\r\n\r\nWhy do I think this could theoretically work? Because similar functionality exists in Resharper for Visual Studio (C#).\r\n\r\nFYI: I&#39;m using Eclipse Luna SR 2 (4.4.2)","title":"Refactor foreach to for loop","body":"<p>I have a foreach loop in Java (simplified version here)</p>\n\n<pre><code>List&lt;String&gt; names = getNames();\nfor(String name:names) {\n    doSomething(name);\n}\n</code></pre>\n\n<p>Is there an automated way to refactor this to a traditional <code>for</code> loop?</p>\n\n<p>I know how to do it manually</p>\n\n<pre><code>List&lt;String&gt; names = getNames();\nfor(int i=0; i&lt;names.size(); i++) {\n    String name = names.get(i);\n    doSomething(name);\n}\n</code></pre>\n\n<p>As you can see, there is a bit of typing needed in the <code>for</code> statement itself as well as introducing the variable <code>name</code> again and assign it the value <code>names.get(i)</code>. In total, the manual edit is too error-prone for me.</p>\n\n<p>Why do I want to do this? I have to fix a bug and the fix is to start at index 1 instead of index 0 and end at index n-1 instead of the end (unfortunately I can't fix the input right away, I need to wait for a library update if that's recognized as a bug).</p>\n\n<p>What have I tried? I right-clicked on the <code>for</code> keyword and clicked on \"Refactor\", but as far as I can get from the context menu entries, nothing in there would do the work for me.</p>\n\n<p>Why do I think this could theoretically work? Because similar functionality exists in Resharper for Visual Studio (C#).</p>\n\n<p>FYI: I'm using Eclipse Luna SR 2 (4.4.2)</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8587,"page":1405,"page_size":100}
