{"items":[{"tags":["java","junit","mocking","mockito"],"answers":[{"tags":[],"owner":{"account_id":4425261,"reputation":632,"user_id":3603906,"display_name":"artie"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1514962124,"creation_date":1514962124,"answer_id":48072531,"question_id":48070184,"body_markdown":"There are couple of options instead of creating new instance of A inside of `run`:\r\n\r\n 1. Pass instance of A in the constructor, like\r\n\r\n        class B {\r\n            private A a;\r\n            B(A a) {\r\n                this.a = a;\r\n            }\r\n            void run() {\r\n                a.test(&quot;something&quot;);\r\n            }\r\n        }\r\n\r\n So your test code will change to\r\n\r\n        B b = new B(mockA);\r\n        b.run();\r\n\r\n 2. Create setter method:\r\n\r\n        class B {\r\n            private A a;\r\n            void setA(A a) {\r\n                this.a = a;\r\n            }\r\n            void run() {\r\n                a.test(&quot;something&quot;);\r\n            }\r\n        }\r\n\r\n So your test code will change to\r\n\r\n        B b = new B();\r\n        b.setA(mockA);\r\n        b.run();\r\n\r\nUsually second method is preferred.","title":"How to use mock object to replace the original object in internal code section?","body":"<p>There are couple of options instead of creating new instance of A inside of <code>run</code>:</p>\n\n<ol>\n<li><p>Pass instance of A in the constructor, like</p>\n\n<pre><code>class B {\n    private A a;\n    B(A a) {\n        this.a = a;\n    }\n    void run() {\n        a.test(\"something\");\n    }\n}\n</code></pre>\n\n<p>So your test code will change to</p>\n\n<pre><code>B b = new B(mockA);\nb.run();\n</code></pre></li>\n<li><p>Create setter method:</p>\n\n<pre><code>class B {\n    private A a;\n    void setA(A a) {\n        this.a = a;\n    }\n    void run() {\n        a.test(\"something\");\n    }\n}\n</code></pre>\n\n<p>So your test code will change to</p>\n\n<pre><code>B b = new B();\nb.setA(mockA);\nb.run();\n</code></pre></li>\n</ol>\n\n<p>Usually second method is preferred.</p>\n"}],"owner":{"account_id":10848427,"reputation":13,"user_id":7977079,"display_name":"chrisstaryu8"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2774,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":48072531,"answer_count":1,"score":0,"last_activity_date":1648048798,"creation_date":1514944441,"question_id":48070184,"body_markdown":"I met this problem when I tried to execute some JUnit mockito tests.\r\n\r\nTo make it easy to understand my question, I will provide an example below:\r\n\r\n\r\n    Class A {\r\n       public String test(String para1) {\r\n           //...do whatever stuff\r\n           return para1;\r\n       }\r\n    }\r\n    \r\n    Class B {\r\n       public void run() {\r\n           A a = new A();\r\n           String result = a.test(&quot;test&quot;);\r\n           System.out.println(result);\r\n       }\r\n    }\r\n    \r\n    when(mockA.test(anyString()).thenReturn(&quot;mockResult&quot;);\r\n    \r\n    A mockA = mock(A.class);\r\n    \r\n    //Instead of doing mockA.test(), I do the following:\r\n    B b = new B();\r\n    b.run();\r\n\r\nThe question is, **how can I replace the &quot;a&quot; object in B&#39;s run() method with the &quot;mockA&quot; object?** This way I can start the code execution from b.run() and also utilize the mock object inside of the code execution process.\r\n\r\nAny help would be greatly appreciated! :P\r\n","title":"How to use mock object to replace the original object in internal code section?","body":"<p>I met this problem when I tried to execute some JUnit mockito tests.</p>\n\n<p>To make it easy to understand my question, I will provide an example below:</p>\n\n<pre><code>Class A {\n   public String test(String para1) {\n       //...do whatever stuff\n       return para1;\n   }\n}\n\nClass B {\n   public void run() {\n       A a = new A();\n       String result = a.test(\"test\");\n       System.out.println(result);\n   }\n}\n\nwhen(mockA.test(anyString()).thenReturn(\"mockResult\");\n\nA mockA = mock(A.class);\n\n//Instead of doing mockA.test(), I do the following:\nB b = new B();\nb.run();\n</code></pre>\n\n<p>The question is, <strong>how can I replace the \"a\" object in B's run() method with the \"mockA\" object?</strong> This way I can start the code execution from b.run() and also utilize the mock object inside of the code execution process.</p>\n\n<p>Any help would be greatly appreciated! :P</p>\n"},{"tags":["java","micronaut","graalvm"],"answers":[{"tags":[],"owner":{"account_id":2600552,"reputation":426,"user_id":2253088,"display_name":"Martin Jes Rasmussen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648048791,"creation_date":1647600572,"answer_id":71525904,"question_id":71008037,"body_markdown":"I know this question has been asked a while ago, but after having spent some hours figuring out the solution to a very similar problem, I thought I&#39;d share the solution here.\r\n\r\nI found that apparently the graal compiler throws any private fields away, thus throwing an error saying something like:\r\n\r\n    Caused by: java.lang.NoSuchFieldError: No field &#39;value1&#39; found for type: com.example.ConferenceConfig\r\n\r\nThe solution that worked for me, was to annotate the classes in question with @ReflectiveAccess.\r\n\r\nHowever other solutions also work; use constructor injection or configure src/main/graal/reflect.json\r\n\r\n    @Factory\r\n    public class ConferenceConfig {\r\n        private final String value1;\r\n    \r\n        public ConferenceConfig(@Value(&quot;${my.value1}&quot;) final String value1) {\r\n            this.value1 = value1;\r\n        }\r\n    \r\n        @Context\r\n        public ConferenceConfigBean confBean() {\r\n            return new ConferenceConfigBean(value1);\r\n        }\r\n    \r\n        public record ConferenceConfigBean(String value) {\r\n            public String getValue() {\r\n                return value;\r\n            }\r\n        }\r\n    }\r\n\r\nThis also works for records:\r\n\r\n        @Singleton\r\n        public record ConferenceService(@Value(&quot;${my.value1}&quot;) String value1) {\r\n        \r\n            private static final List&lt;Conference&gt; CONFERENCES = Arrays.asList(\r\n                    new Conference(&quot;Greach&quot;),\r\n                    new Conference(&quot;GR8Conf EU&quot;),\r\n                    new Conference(&quot;Micronaut Summit&quot;),\r\n                    new Conference(&quot;Devoxx Belgium&quot;),\r\n                    new Conference(&quot;Oracle Code One&quot;),\r\n                    new Conference(&quot;CommitConf&quot;),\r\n                    new Conference(&quot;Codemotion Madrid&quot;)\r\n            );\r\n        public Conference randomConf() {\r\n            return CONFERENCES.get(new Random().nextInt(CONFERENCES.size()));\r\n        }\r\n    \r\n        public String getV1() {\r\n            return value1;\r\n        }\r\n    }\r\n\r\nAnother ","title":"Micronaut native image ignores properties","body":"<p>I know this question has been asked a while ago, but after having spent some hours figuring out the solution to a very similar problem, I thought I'd share the solution here.</p>\n<p>I found that apparently the graal compiler throws any private fields away, thus throwing an error saying something like:</p>\n<pre><code>Caused by: java.lang.NoSuchFieldError: No field 'value1' found for type: com.example.ConferenceConfig\n</code></pre>\n<p>The solution that worked for me, was to annotate the classes in question with @ReflectiveAccess.</p>\n<p>However other solutions also work; use constructor injection or configure src/main/graal/reflect.json</p>\n<pre><code>@Factory\npublic class ConferenceConfig {\n    private final String value1;\n\n    public ConferenceConfig(@Value(&quot;${my.value1}&quot;) final String value1) {\n        this.value1 = value1;\n    }\n\n    @Context\n    public ConferenceConfigBean confBean() {\n        return new ConferenceConfigBean(value1);\n    }\n\n    public record ConferenceConfigBean(String value) {\n        public String getValue() {\n            return value;\n        }\n    }\n}\n</code></pre>\n<p>This also works for records:</p>\n<pre><code>    @Singleton\n    public record ConferenceService(@Value(&quot;${my.value1}&quot;) String value1) {\n    \n        private static final List&lt;Conference&gt; CONFERENCES = Arrays.asList(\n                new Conference(&quot;Greach&quot;),\n                new Conference(&quot;GR8Conf EU&quot;),\n                new Conference(&quot;Micronaut Summit&quot;),\n                new Conference(&quot;Devoxx Belgium&quot;),\n                new Conference(&quot;Oracle Code One&quot;),\n                new Conference(&quot;CommitConf&quot;),\n                new Conference(&quot;Codemotion Madrid&quot;)\n        );\n    public Conference randomConf() {\n        return CONFERENCES.get(new Random().nextInt(CONFERENCES.size()));\n    }\n\n    public String getV1() {\n        return value1;\n    }\n}\n</code></pre>\n<p>Another</p>\n"}],"owner":{"account_id":3509735,"reputation":979,"user_id":2970627,"accept_rate":35,"display_name":"Alex Bondar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":396,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1648048791,"creation_date":1644156875,"question_id":71008037,"body_markdown":"I am trying to build graalvm native image of my micronaut application. I see the werid issue that some of the properties from application.yaml are ignored, though when I run the app via \r\n\r\n&gt; ./gradlew run\r\n\r\nall works fine. \r\n\r\nHere is my yaml\r\n\r\n    micronaut:\r\n      application:\r\n        name: phonebook\r\n      caches:\r\n        phonebook:\r\n          charset: UTF-8\r\n      router:\r\n        static-resources:\r\n          swagger:\r\n            paths: classpath:META-INF/swagger\r\n            mapping: /swagger/**\r\n          swagger-ui:\r\n            paths: classpath:META-INF/swagger/views/swagger-ui\r\n            mapping: /doc/**\r\n    \r\n    endpoints:\r\n      caches:\r\n        enabled: true\r\n        # sensitive: false\r\n      env:\r\n        enabled: true\r\n       # sensitive: false\r\n    \r\n    fauna:\r\n      secret: &#39;${FAUNA_KEY}&#39;\r\n      endpoint: https://db.eu.fauna.com:443\r\n\r\nHere is how I read the properties in the class\r\n \r\n\r\n    @Value(&quot;${fauna.secret}&quot;)\r\n      private String faunaKey;\r\n    \r\n    @Value(&quot;${fauna.endpoint}&quot;)\r\n      private String faunaEndpoint;\r\n\r\nWhat could cause an issue?","title":"Micronaut native image ignores properties","body":"<p>I am trying to build graalvm native image of my micronaut application. I see the werid issue that some of the properties from application.yaml are ignored, though when I run the app via</p>\n<blockquote>\n<p>./gradlew run</p>\n</blockquote>\n<p>all works fine.</p>\n<p>Here is my yaml</p>\n<pre><code>micronaut:\n  application:\n    name: phonebook\n  caches:\n    phonebook:\n      charset: UTF-8\n  router:\n    static-resources:\n      swagger:\n        paths: classpath:META-INF/swagger\n        mapping: /swagger/**\n      swagger-ui:\n        paths: classpath:META-INF/swagger/views/swagger-ui\n        mapping: /doc/**\n\nendpoints:\n  caches:\n    enabled: true\n    # sensitive: false\n  env:\n    enabled: true\n   # sensitive: false\n\nfauna:\n  secret: '${FAUNA_KEY}'\n  endpoint: https://db.eu.fauna.com:443\n</code></pre>\n<p>Here is how I read the properties in the class</p>\n<pre><code>@Value(&quot;${fauna.secret}&quot;)\n  private String faunaKey;\n\n@Value(&quot;${fauna.endpoint}&quot;)\n  private String faunaEndpoint;\n</code></pre>\n<p>What could cause an issue?</p>\n"},{"tags":["java","arrays","string","char","println"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":3,"creation_date":1648048345,"post_id":71589614,"comment_id":126526354,"body_markdown":"About the `char[]`, here&#39;s why:https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/PrintStream.html#print(char%5B%5D)","body":"About the <code>char[]</code>, here&#39;s why:<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/PrintStream.html#print(char%5B%5D)\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.base/jav&zwnj;&#8203;a/io/&hellip;</a>"},{"owner":{"account_id":9544477,"reputation":174,"user_id":7091142,"display_name":"Komiii"},"score":0,"creation_date":1648048387,"post_id":71589614,"comment_id":126526374,"body_markdown":"This answer from Duncan Jones might be useful: https://stackoverflow.com/questions/29140402/how-do-i-print-my-java-object-without-getting-sometype2f92e0f4","body":"This answer from Duncan Jones might be useful: <a href=\"https://stackoverflow.com/questions/29140402/how-do-i-print-my-java-object-without-getting-sometype2f92e0f4\" title=\"how do i print my java object without getting sometype2f92e0f4\">stackoverflow.com/questions/29140402/&hellip;</a>"}],"owner":{"account_id":24661788,"reputation":1,"user_id":18557927,"display_name":"Unmesh Ahire"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1648049087,"answer_count":0,"score":0,"last_activity_date":1648048263,"creation_date":1648048213,"question_id":71589614,"body_markdown":"Currently, I&#39;m learning arrays in JAVA. when I was trying to print reference variable of Primitive and non-primitive data types, I was getting usual results (as I have thought I will get) but when I tried to print the reference variable of &#39;Char&#39; Datatype, I got characters back as a string result. can someone please explain why does it work like that? and plus if you know why the reference variable of string data type also gives different output as compared to others?\r\n\r\n    int[] arr1 = {1,2,3,4,5};\r\n    System.out.println(arr1); // Output : [I@e9e54c2\r\n    \r\n    char[] arr2 = {&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;d&#39;,&#39;e&#39;};\r\n    System.out.println(arr2); // Output : abcde\r\n    \r\n    String[] arr3 = {&quot;Luke&quot;, &quot;Phill&quot;,&quot;Alex&quot;};\r\n    System.out.println(arr3); // Output : [Ljava.lang.String;@6d311334","title":"Why does printing statement returns string result while printing array reference variable of Char datatype in JAVA?","body":"<p>Currently, I'm learning arrays in JAVA. when I was trying to print reference variable of Primitive and non-primitive data types, I was getting usual results (as I have thought I will get) but when I tried to print the reference variable of 'Char' Datatype, I got characters back as a string result. can someone please explain why does it work like that? and plus if you know why the reference variable of string data type also gives different output as compared to others?</p>\n<pre><code>int[] arr1 = {1,2,3,4,5};\nSystem.out.println(arr1); // Output : [I@e9e54c2\n\nchar[] arr2 = {'a','b','c','d','e'};\nSystem.out.println(arr2); // Output : abcde\n\nString[] arr3 = {&quot;Luke&quot;, &quot;Phill&quot;,&quot;Alex&quot;};\nSystem.out.println(arr3); // Output : [Ljava.lang.String;@6d311334\n</code></pre>\n"},{"tags":["java","tomcat","garbage-collection","jvm"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":2,"creation_date":1648048273,"post_id":71589457,"comment_id":126526324,"body_markdown":"I don&#39;t think anybody can answer this with no details whatsoever.","body":"I don&#39;t think anybody can answer this with no details whatsoever."},{"owner":{"account_id":593875,"reputation":20383,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"score":0,"creation_date":1648147027,"post_id":71589457,"comment_id":126557296,"body_markdown":"Take a thread dump of the process while it&#39;s &quot;paused&quot;. The thread dump will tell you exactly what is happening at that time. You say you checked it; what did it say? All threads waiting for new requests? When you say &quot;pause&quot;, what _exactly_ do you mean? The response doesn&#39;t come back to the client? Hourglass cursor on the server? What kind of request? Simple GET? AJAX?","body":"Take a thread dump of the process while it&#39;s &quot;paused&quot;. The thread dump will tell you exactly what is happening at that time. You say you checked it; what did it say? All threads waiting for new requests? When you say &quot;pause&quot;, what <i>exactly</i> do you mean? The response doesn&#39;t come back to the client? Hourglass cursor on the server? What kind of request? Simple GET? AJAX?"}],"owner":{"account_id":24661944,"reputation":11,"user_id":18558069,"display_name":"Chayan Porwal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648047555,"creation_date":1648047555,"question_id":71589457,"body_markdown":"Tomcat 8 pause for few minutes. Tomcat is not serving any request and response.\r\nWe have checked logs but not found any thing.\r\n\r\nAfter some time it will automatically started working.\r\n\r\nWe have checked logs but not found any thing.\r\nChecked thread dump but not found any thing.\r\n\r\nWe want to know the root cause of the issue and solution.","title":"Tomcat 8 pause while serving the request","body":"<p>Tomcat 8 pause for few minutes. Tomcat is not serving any request and response.\nWe have checked logs but not found any thing.</p>\n<p>After some time it will automatically started working.</p>\n<p>We have checked logs but not found any thing.\nChecked thread dump but not found any thing.</p>\n<p>We want to know the root cause of the issue and solution.</p>\n"},{"tags":["python","java","execution"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1648047420,"post_id":71589397,"comment_id":126525962,"body_markdown":"HINT: `cmd` is an array. You are currently passing **one** (**1**) `String` instead of an array. There are simpler ways to invoke (a) python (b) an external process `ProcessBuilder`","body":"HINT: <code>cmd</code> is an array. You are currently passing <b>one</b> (<b>1</b>) <code>String</code> instead of an array. There are simpler ways to invoke (a) python (b) an external process <code>ProcessBuilder</code>"},{"owner":{"account_id":963516,"reputation":10188,"user_id":987358,"accept_rate":40,"display_name":"Michael Butscher"},"score":0,"creation_date":1648047520,"post_id":71589397,"comment_id":126526004,"body_markdown":"Have you tried to call the Python script directly from command line?","body":"Have you tried to call the Python script directly from command line?"},{"owner":{"account_id":24661879,"reputation":1,"user_id":18558010,"display_name":"johnny wilkinson"},"score":0,"creation_date":1648048032,"post_id":71589397,"comment_id":126526216,"body_markdown":"finally i will not use cmd.","body":"finally i will not use cmd."},{"owner":{"account_id":24661879,"reputation":1,"user_id":18558010,"display_name":"johnny wilkinson"},"score":0,"creation_date":1648048054,"post_id":71589397,"comment_id":126526224,"body_markdown":"how can i call the python script directly from command line ?","body":"how can i call the python script directly from command line ?"}],"owner":{"account_id":24661879,"reputation":1,"user_id":18558010,"display_name":"johnny wilkinson"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648047304,"creation_date":1648047304,"question_id":71589397,"body_markdown":"I&#39;m trying to integrate a python script in java. I want my java program to be able to execute my python script\r\n\r\nI tried to code a class named PythonCaller made to execute a test python script\r\n\r\n```\r\npackage pythontest;\r\n\r\nimport java.io.*;\r\npublic class PythonCaller {\r\n\r\n\tpublic static void main(String[] args) throws IOException{\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\t// set up the command and parameter\r\n\t\t\tString pythonScriptPath = &quot;D:\\\\Programmes\\\\test.py&quot;;\r\n\t\t\tString[] cmd = new String[2];\r\n\t\t\tcmd[0] = &quot;D:\\\\Programmes\\\\python.exe&quot;; // check version of installed python: python -V\r\n\t\t\tcmd[1] = pythonScriptPath;\r\n\t\t\t \r\n\t\t\t// create runtime to execute external command\r\n\t\r\n\t\t\tProcess pr = Runtime.getRuntime().exec(&quot;python D:/Documents/T&#233;l&#233;com/Programmation/workspace python/test.py&quot;);\r\n\t\t\tSystem.out.println(&quot;adhi&quot;);\r\n\t\t\t// retrieve output from python script\r\n\t\t\tBufferedReader bfr = new BufferedReader(new InputStreamReader(pr.getInputStream()));\r\n\t\t\tSystem.out.println(bfr.readLine());\r\n\t\t\tString line = &quot;&quot;;\r\n\t\t\ttry {\r\n\t\t\t\twhile((line = bfr.readLine()) != null) {\r\n\r\n\t\t\t// display each output line form python script\r\n\t\t\tSystem.out.println(line);\r\n\t\t\tSystem.out.println(&quot;daiuh&quot;);\r\n\t\t\t}\r\n\t\t\t}\r\n\t\t\t\tcatch(IOException e) {\r\n\t\t\t\t\tSystem.out.println(&quot;Exception in reading output&quot; + e.toString());\r\n\t\t\t\t}\r\n\t\t\t\r\n\t}\r\n\t}\r\n```\r\n\r\nWhen i execute it, it appears that bfr.readLine() returns null\r\n\r\nHere is the script in test.py :\r\n\r\n```\r\nprint(&quot;aiujadh&quot;)\r\nprint(&quot;f&quot;)\r\n```\r\n\r\nwhat i dont understand is that i did tests with the exact same code before, and it worked. I changed it because it failed to read the lines that were not &quot;prints&quot;. Then i moved back to the working code, and it doesnt work anymore. I looked at similar topics on the internet, and i do not understand why my code doesn&#39;t work.\r\nCan somebody try to explain me pls ?","title":"How can i execute a python script using java?","body":"<p>I'm trying to integrate a python script in java. I want my java program to be able to execute my python script</p>\n<p>I tried to code a class named PythonCaller made to execute a test python script</p>\n<pre><code>package pythontest;\n\nimport java.io.*;\npublic class PythonCaller {\n\n    public static void main(String[] args) throws IOException{\n        // TODO Auto-generated method stub\n            // set up the command and parameter\n            String pythonScriptPath = &quot;D:\\\\Programmes\\\\test.py&quot;;\n            String[] cmd = new String[2];\n            cmd[0] = &quot;D:\\\\Programmes\\\\python.exe&quot;; // check version of installed python: python -V\n            cmd[1] = pythonScriptPath;\n             \n            // create runtime to execute external command\n    \n            Process pr = Runtime.getRuntime().exec(&quot;python D:/Documents/Télécom/Programmation/workspace python/test.py&quot;);\n            System.out.println(&quot;adhi&quot;);\n            // retrieve output from python script\n            BufferedReader bfr = new BufferedReader(new InputStreamReader(pr.getInputStream()));\n            System.out.println(bfr.readLine());\n            String line = &quot;&quot;;\n            try {\n                while((line = bfr.readLine()) != null) {\n\n            // display each output line form python script\n            System.out.println(line);\n            System.out.println(&quot;daiuh&quot;);\n            }\n            }\n                catch(IOException e) {\n                    System.out.println(&quot;Exception in reading output&quot; + e.toString());\n                }\n            \n    }\n    }\n</code></pre>\n<p>When i execute it, it appears that bfr.readLine() returns null</p>\n<p>Here is the script in test.py :</p>\n<pre><code>print(&quot;aiujadh&quot;)\nprint(&quot;f&quot;)\n</code></pre>\n<p>what i dont understand is that i did tests with the exact same code before, and it worked. I changed it because it failed to read the lines that were not &quot;prints&quot;. Then i moved back to the working code, and it doesnt work anymore. I looked at similar topics on the internet, and i do not understand why my code doesn't work.\nCan somebody try to explain me pls ?</p>\n"},{"tags":["java","spring-websocket","activemq-artemis","sockjs"],"comments":[{"owner":{"account_id":10233123,"reputation":158,"user_id":7553069,"display_name":"Deng"},"score":0,"creation_date":1646285204,"post_id":71332227,"comment_id":126086699,"body_markdown":"I didn&#39;t inspect my network, I used localhost, not any WAN or LAN. did localhost also have this problem?","body":"I didn&#39;t inspect my network, I used localhost, not any WAN or LAN. did localhost also have this problem?"},{"owner":{"account_id":10233123,"reputation":158,"user_id":7553069,"display_name":"Deng"},"score":0,"creation_date":1646379362,"post_id":71332227,"comment_id":126112964,"body_markdown":"I set the log level to trace and the server exactly don&#39;t receive the heartbeat from the client in 20s (the heartbeat is 10s at a time) then the MQ broke the connection. So, maybe it&#39;s the problem of the client, maybe the CPU spikes, this may need more tests to find the problem","body":"I set the log level to trace and the server exactly don&#39;t receive the heartbeat from the client in 20s (the heartbeat is 10s at a time) then the MQ broke the connection. So, maybe it&#39;s the problem of the client, maybe the CPU spikes, this may need more tests to find the problem"},{"owner":{"account_id":10233123,"reputation":158,"user_id":7553069,"display_name":"Deng"},"score":0,"creation_date":1646380967,"post_id":71332227,"comment_id":126113410,"body_markdown":"In my opinion, since the client cannot guarantee a continuous and stable heartbeat, the server is responsible for sending the heartbeat to MQ. The client only needs to keep the connection but does not need to send a heartbeat to ensure whether it is online. After a certain period, the server initiates an initiative to ask whether the client is available  If the client disconnects, the server stops sending heartbeat messages using the connection information.","body":"In my opinion, since the client cannot guarantee a continuous and stable heartbeat, the server is responsible for sending the heartbeat to MQ. The client only needs to keep the connection but does not need to send a heartbeat to ensure whether it is online. After a certain period, the server initiates an initiative to ask whether the client is available  If the client disconnects, the server stops sending heartbeat messages using the connection information."},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1688749068,"post_id":71332227,"comment_id":135120363,"body_markdown":"Did my answer address your question? If so, please mark it as correct to help other folks who have this same question in the future. Thanks!","body":"Did my answer address your question? If so, please mark it as correct to help other folks who have this same question in the future. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646413981,"creation_date":1646413981,"answer_id":71354901,"question_id":71332227,"body_markdown":"Your opinion does not conform to the STOMP specification. If the client cannot guarantee a heart-beat according to the value it sends in the `heart-beat` header of the `CONNECT` frame then it should send a **different value**. In your case you&#39;re sending `10000` for the client heart-beat. Therefore, the broker will expect heart-beats from the client based on this value, and if it doesn&#39;t receive those heart-beats then it will disconnect that client. If you don&#39;t want the client to send heart-beats then you should send `0`, e.g. `heart-beat:0,10000`.\r\n\r\nAlso, the broker reports that it closed the client&#39;s connection after &quot;20,000ms&quot; because by default it will multiple the client heart-beat value by `2` (e.g. `10000 * 2 = 20000`). It does this because the [STOMP specification][1] recommends incorporating a margin for timing errors:\r\n\r\n&gt; because of timing inaccuracies, the receiver SHOULD be tolerant and take into account an error margin\r\n\r\n\r\n  [1]: https://stomp.github.io/stomp-specification-1.2.html#Heart-beating","title":"Spring Boot STOMP lost connection after a few minutes","body":"<p>Your opinion does not conform to the STOMP specification. If the client cannot guarantee a heart-beat according to the value it sends in the <code>heart-beat</code> header of the <code>CONNECT</code> frame then it should send a <strong>different value</strong>. In your case you're sending <code>10000</code> for the client heart-beat. Therefore, the broker will expect heart-beats from the client based on this value, and if it doesn't receive those heart-beats then it will disconnect that client. If you don't want the client to send heart-beats then you should send <code>0</code>, e.g. <code>heart-beat:0,10000</code>.</p>\n<p>Also, the broker reports that it closed the client's connection after &quot;20,000ms&quot; because by default it will multiple the client heart-beat value by <code>2</code> (e.g. <code>10000 * 2 = 20000</code>). It does this because the <a href=\"https://stomp.github.io/stomp-specification-1.2.html#Heart-beating\" rel=\"nofollow noreferrer\">STOMP specification</a> recommends incorporating a margin for timing errors:</p>\n<blockquote>\n<p>because of timing inaccuracies, the receiver SHOULD be tolerant and take into account an error margin</p>\n</blockquote>\n"}],"owner":{"account_id":10233123,"reputation":158,"user_id":7553069,"display_name":"Deng"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2948,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1648047261,"creation_date":1646282517,"question_id":71332227,"body_markdown":"I am using ActiveMQ Artemis, SockJS, StompJS, Spring Boot STOMP. \r\nWhen establishing the connection the client sends heart-beat info:\r\n```\r\n&lt;&lt;&lt; CONNECTED\r\nversion:1.1\r\nsession:1913360c\r\nserver:ActiveMQ-Artemis/2.20.0 ActiveMQ Artemis Messaging Engine\r\nheart-beat:10000,10000\r\nuser-name:qqq\r\n```\r\nThe heartbeat is normal, but after several minutes the connection is closed by ActiveMQ. Here&#39;s the corresponding logs:\r\n```\r\n2022-03-03 09:30:09,718 WARN  [org.apache.activemq.artemis.core.protocol.stomp] AMQ332069: Sent ERROR frame to STOMP client /127.0.0.1:1432: AMQ229014: Did not receive data from /127.0.0.1:1432 within the 20,000ms connection TTL. The connection will now be closed.\r\n2022-03-03 09:30:09,719 WARN  [org.apache.activemq.artemis.core.server] AMQ222067: Connection failure has been detected: AMQ229014: Did not receive data from /127.0.0.1:1432 within the 20,000ms connection TTL. The connection will now be closed. [code=CONNECTION_TIMEDOUT]\r\n2022-03-03 09:30:09,719 WARN  [org.apache.activemq.artemis.core.server] AMQ222061: Client connection failed, clearing up resources for session aa0cdab7-9a90-11ec-8b3d-6c02e05f997e\r\n2022-03-03 09:30:09,725 WARN  [org.apache.activemq.artemis.core.server] AMQ222107: Cleared up resources for session aa0cdab7-9a90-11ec-8b3d-6c02e05f997e\r\n2022-03-03 09:58:45,120 WARN  [org.apache.activemq.artemis.core.protocol.stomp] AMQ332069: Sent ERROR frame to STOMP client /127.0.0.1:1922: AMQ229014: Did not receive data from /127.0.0.1:1922 within the 20,000ms connection TTL. The connection will now be closed.\r\n2022-03-03 09:58:45,122 WARN  [org.apache.activemq.artemis.core.server] AMQ222067: Connection failure has been detected: AMQ229014: Did not receive data from /127.0.0.1:1922 within the 20,000ms connection TTL. The connection will now be closed. [code=CONNECTION_TIMEDOUT]\r\n2022-03-03 09:58:45,122 WARN  [org.apache.activemq.artemis.core.server] AMQ222061: Client connection failed, clearing up resources for session d2309f42-9a91-11ec-8b3d-6c02e05f997e\r\n2022-03-03 09:58:45,125 WARN  [org.apache.activemq.artemis.core.server] AMQ222107: Cleared up resources for session d2309f42-9a91-11ec-8b3d-6c02e05f997e\r\n2022-03-03 10:14:16,758 WARN  [org.apache.activemq.artemis.core.protocol.stomp] AMQ332069: Sent ERROR frame to STOMP client /127.0.0.1:4003: AMQ229014: Did not receive data from /127.0.0.1:4003 within the 20,000ms connection TTL. The connection will now be closed.\r\n2022-03-03 10:14:16,759 WARN  [org.apache.activemq.artemis.core.server] AMQ222067: Connection failure has been detected: AMQ229014: Did not receive data from /127.0.0.1:4003 within the 20,000ms connection TTL. The connection will now be closed. [code=CONNECTION_TIMEDOUT]\r\n2022-03-03 10:14:16,759 WARN  [org.apache.activemq.artemis.core.server] AMQ222061: Client connection failed, clearing up resources for session 939d58fd-9a95-11ec-8b3d-6c02e05f997e\r\n2022-03-03 10:14:16,763 WARN  [org.apache.activemq.artemis.core.server] AMQ222107: Cleared up resources for session 939d58fd-9a95-11ec-8b3d-6c02e05f997e\r\n2022-03-03 10:14:53,112 WARN  [org.apache.activemq.artemis.core.protocol.stomp] AMQ332069: Sent ERROR frame to STOMP client null: null\r\n2022-03-03 10:14:53,113 WARN  [org.apache.activemq.artemis.core.server] AMQ222067: Connection failure has been detected: null [code=REMOTE_DISCONNECT]\r\n2022-03-03 10:14:53,123 WARN  [org.apache.activemq.artemis.core.protocol.stomp] AMQ332069: Sent ERROR frame to STOMP client null: null\r\n2022-03-03 10:14:53,123 WARN  [org.apache.activemq.artemis.core.server] AMQ222067: Connection failure has been detected: null [code=REMOTE_DISCONNECT]\r\n2022-03-03 10:21:34,506 WARN  [org.apache.activemq.artemis.core.protocol.stomp] AMQ332069: Sent ERROR frame to STOMP client /127.0.0.1:5140: AMQ229014: Did not receive data from /127.0.0.1:5140 within the 20,000ms connection TTL. The connection will now be closed.\r\n2022-03-03 10:21:34,506 WARN  [org.apache.activemq.artemis.core.server] AMQ222067: Connection failure has been detected: AMQ229014: Did not receive data from /127.0.0.1:5140 within the 20,000ms connection TTL. The connection will now be closed. [code=CONNECTION_TIMEDOUT]\r\n2022-03-03 10:21:34,507 WARN  [org.apache.activemq.artemis.core.server] AMQ222061: Client connection failed, clearing up resources for session ce63aa1a-9a97-11ec-8b3d-6c02e05f997e\r\n2022-03-03 10:21:34,510 WARN  [org.apache.activemq.artemis.core.server] AMQ222107: Cleared up resources for session ce63aa1a-9a97-11ec-8b3d-6c02e05f997e\r\n2022-03-03 11:21:29,133 WARN  [org.apache.activemq.artemis.core.protocol.stomp] AMQ332069: Sent ERROR frame to STOMP client /127.0.0.1:5582: AMQ229014: Did not receive data from /127.0.0.1:5582 within the 20,000ms connection TTL. The connection will now be closed.\r\n2022-03-03 11:21:29,134 WARN  [org.apache.activemq.artemis.core.server] AMQ222067: Connection failure has been detected: AMQ229014: Did not receive data from /127.0.0.1:5582 within the 20,000ms connection TTL. The connection will now be closed. [code=CONNECTION_TIMEDOUT]\r\n2022-03-03 11:21:29,134 WARN  [org.apache.activemq.artemis.core.server] AMQ222061: Client connection failed, clearing up resources for session d1631205-9a98-11ec-8b3d-6c02e05f997e\r\n2022-03-03 11:21:29,137 WARN  [org.apache.activemq.artemis.core.server] AMQ222107: Cleared up resources for session d1631205-9a98-11ec-8b3d-6c02e05f997e\r\n```\r\nI tried several times, Refresh immediately when the last connection is lost. It&#39;s look stranger, sometimes the connection can hold half an hour, sometimes just a few minutes.\r\n\r\n\r\njava code:\r\n```java\r\n    @Override\r\n    protected void configureStompEndpoints(StompEndpointRegistry registry) {\r\n        registry.addEndpoint(&quot;/ws&quot;).withSockJS();\r\n    }\r\n\r\n    @Override\r\n    public void configureMessageBroker(MessageBrokerRegistry registry) {\r\n        //registry.enableSimpleBroker(&quot;/queue/&quot;, &quot;/topic/&quot;, &quot;/exchange/&quot;);\r\n        registry.enableStompBrokerRelay(&quot;/queue/&quot;, &quot;/topic/&quot;, &quot;/exchange/&quot;)\r\n                .setSystemHeartbeatSendInterval(20000)\r\n                .setSystemHeartbeatReceiveInterval(20000)\r\n                .setTaskScheduler(heartBeatScheduler())\r\n                \r\n                .setRelayHost(&quot;127.0.0.1&quot;)\r\n                .setRelayPort(61613)\r\n                .setClientLogin(&quot;mirana&quot;)\r\n                .setClientPasscode(&quot;mirana&quot;)\r\n                .setSystemLogin(&quot;mirana&quot;)\r\n                .setSystemPasscode(&quot;mirana&quot;);\r\n        registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n    }\r\n\r\n\r\n  \r\n    @Bean\r\n    @Primary\r\n    public UserDestinationResolver destinationResolver(SimpUserRegistry simpUserRegistry){\r\n        return new DefaultUserDestinationResolver(simpUserRegistry){\r\n            @Override\r\n            public String getTargetDestination(String sourceDestination, String actualDestination,\r\n                    String sessionId, @Nullable String user){\r\n                return actualDestination + &quot;-user-&quot; + user;\r\n            }\r\n        };\r\n    }\r\n\r\n    @Bean\r\n    public TaskScheduler heartBeatScheduler() {\r\n        return new ThreadPoolTaskScheduler();\r\n    }\r\n```\r\n`server.js`:\r\n```javascript\r\nimport Stomp from &#39;stompjs&#39;\r\nimport Sockjs from &#39;sockjs-client&#39;\r\n\r\nvar stompClient;\r\n\r\nexport function init(url){\r\n    stompClient = Stomp.over(new Sockjs(url))\r\n}\r\n\r\n\r\nexport function connect(successCallback, errorCallback){\r\n    stompClient.connect({}, function(frame){\r\n        successCallback(frame)\r\n    }, function(frame){\r\n        errorCallback(frame)\r\n    })\r\n}\r\n\r\n\r\nexport function subscribe(destination, callback){\r\n    stompClient.subscribe(destination, message =&gt; callback(message))\r\n}\r\n\r\nexport function send(destination, headers, object){\r\n    stompClient.send(destination,headers,object)\r\n}\r\n```\r\n`client.js`\r\n```javascript\r\nserver.init(&#39;http://localhost:9999/ws?type=1&amp;id=321feead21313fesa&#39;)\r\n    server.connect(frame =&gt;{\r\n      console.log(frame)\r\n      server.subscribe(&#39;/topic/chat.typing&#39;, message =&gt; {\r\n        console.log(&quot;chat.type&quot;+message)\r\n      })\r\n      server.subscribe(&#39;/topic/chat.message&#39;, message =&gt; {\r\n        console.log(&quot;chat.message&quot;+message)\r\n      })\r\n    }, frame =&gt;{\r\n      console.log(frame)\r\n    })\r\n}\r\n```\r\n\r\nWhy are the lost connection intervals different? I am very confused.\r\n\r\nI used localhost, not any WAN or LAN.\r\n\r\nI set the log level to `TRACE` and the server doesn&#39;t receive the heart-beat from the client in 20s (the heartbeat is 10s at a time) then the broker closed the connection. So maybe it&#39;s the problem of the client. Maybe there&#39;s CPU spikes. This may need more tests to find the problem.\r\n\r\n\r\nI try to inspect the client, and when the connection loses the status code is 1002, which means ` an endpoint is terminating the connection due to a protocol error`.\r\nDoes anybody know how to solve this problem.","title":"Spring Boot STOMP lost connection after a few minutes","body":"<p>I am using ActiveMQ Artemis, SockJS, StompJS, Spring Boot STOMP.\nWhen establishing the connection the client sends heart-beat info:</p>\n<pre><code>&lt;&lt;&lt; CONNECTED\nversion:1.1\nsession:1913360c\nserver:ActiveMQ-Artemis/2.20.0 ActiveMQ Artemis Messaging Engine\nheart-beat:10000,10000\nuser-name:qqq\n</code></pre>\n<p>The heartbeat is normal, but after several minutes the connection is closed by ActiveMQ. Here's the corresponding logs:</p>\n<pre><code>2022-03-03 09:30:09,718 WARN  [org.apache.activemq.artemis.core.protocol.stomp] AMQ332069: Sent ERROR frame to STOMP client /127.0.0.1:1432: AMQ229014: Did not receive data from /127.0.0.1:1432 within the 20,000ms connection TTL. The connection will now be closed.\n2022-03-03 09:30:09,719 WARN  [org.apache.activemq.artemis.core.server] AMQ222067: Connection failure has been detected: AMQ229014: Did not receive data from /127.0.0.1:1432 within the 20,000ms connection TTL. The connection will now be closed. [code=CONNECTION_TIMEDOUT]\n2022-03-03 09:30:09,719 WARN  [org.apache.activemq.artemis.core.server] AMQ222061: Client connection failed, clearing up resources for session aa0cdab7-9a90-11ec-8b3d-6c02e05f997e\n2022-03-03 09:30:09,725 WARN  [org.apache.activemq.artemis.core.server] AMQ222107: Cleared up resources for session aa0cdab7-9a90-11ec-8b3d-6c02e05f997e\n2022-03-03 09:58:45,120 WARN  [org.apache.activemq.artemis.core.protocol.stomp] AMQ332069: Sent ERROR frame to STOMP client /127.0.0.1:1922: AMQ229014: Did not receive data from /127.0.0.1:1922 within the 20,000ms connection TTL. The connection will now be closed.\n2022-03-03 09:58:45,122 WARN  [org.apache.activemq.artemis.core.server] AMQ222067: Connection failure has been detected: AMQ229014: Did not receive data from /127.0.0.1:1922 within the 20,000ms connection TTL. The connection will now be closed. [code=CONNECTION_TIMEDOUT]\n2022-03-03 09:58:45,122 WARN  [org.apache.activemq.artemis.core.server] AMQ222061: Client connection failed, clearing up resources for session d2309f42-9a91-11ec-8b3d-6c02e05f997e\n2022-03-03 09:58:45,125 WARN  [org.apache.activemq.artemis.core.server] AMQ222107: Cleared up resources for session d2309f42-9a91-11ec-8b3d-6c02e05f997e\n2022-03-03 10:14:16,758 WARN  [org.apache.activemq.artemis.core.protocol.stomp] AMQ332069: Sent ERROR frame to STOMP client /127.0.0.1:4003: AMQ229014: Did not receive data from /127.0.0.1:4003 within the 20,000ms connection TTL. The connection will now be closed.\n2022-03-03 10:14:16,759 WARN  [org.apache.activemq.artemis.core.server] AMQ222067: Connection failure has been detected: AMQ229014: Did not receive data from /127.0.0.1:4003 within the 20,000ms connection TTL. The connection will now be closed. [code=CONNECTION_TIMEDOUT]\n2022-03-03 10:14:16,759 WARN  [org.apache.activemq.artemis.core.server] AMQ222061: Client connection failed, clearing up resources for session 939d58fd-9a95-11ec-8b3d-6c02e05f997e\n2022-03-03 10:14:16,763 WARN  [org.apache.activemq.artemis.core.server] AMQ222107: Cleared up resources for session 939d58fd-9a95-11ec-8b3d-6c02e05f997e\n2022-03-03 10:14:53,112 WARN  [org.apache.activemq.artemis.core.protocol.stomp] AMQ332069: Sent ERROR frame to STOMP client null: null\n2022-03-03 10:14:53,113 WARN  [org.apache.activemq.artemis.core.server] AMQ222067: Connection failure has been detected: null [code=REMOTE_DISCONNECT]\n2022-03-03 10:14:53,123 WARN  [org.apache.activemq.artemis.core.protocol.stomp] AMQ332069: Sent ERROR frame to STOMP client null: null\n2022-03-03 10:14:53,123 WARN  [org.apache.activemq.artemis.core.server] AMQ222067: Connection failure has been detected: null [code=REMOTE_DISCONNECT]\n2022-03-03 10:21:34,506 WARN  [org.apache.activemq.artemis.core.protocol.stomp] AMQ332069: Sent ERROR frame to STOMP client /127.0.0.1:5140: AMQ229014: Did not receive data from /127.0.0.1:5140 within the 20,000ms connection TTL. The connection will now be closed.\n2022-03-03 10:21:34,506 WARN  [org.apache.activemq.artemis.core.server] AMQ222067: Connection failure has been detected: AMQ229014: Did not receive data from /127.0.0.1:5140 within the 20,000ms connection TTL. The connection will now be closed. [code=CONNECTION_TIMEDOUT]\n2022-03-03 10:21:34,507 WARN  [org.apache.activemq.artemis.core.server] AMQ222061: Client connection failed, clearing up resources for session ce63aa1a-9a97-11ec-8b3d-6c02e05f997e\n2022-03-03 10:21:34,510 WARN  [org.apache.activemq.artemis.core.server] AMQ222107: Cleared up resources for session ce63aa1a-9a97-11ec-8b3d-6c02e05f997e\n2022-03-03 11:21:29,133 WARN  [org.apache.activemq.artemis.core.protocol.stomp] AMQ332069: Sent ERROR frame to STOMP client /127.0.0.1:5582: AMQ229014: Did not receive data from /127.0.0.1:5582 within the 20,000ms connection TTL. The connection will now be closed.\n2022-03-03 11:21:29,134 WARN  [org.apache.activemq.artemis.core.server] AMQ222067: Connection failure has been detected: AMQ229014: Did not receive data from /127.0.0.1:5582 within the 20,000ms connection TTL. The connection will now be closed. [code=CONNECTION_TIMEDOUT]\n2022-03-03 11:21:29,134 WARN  [org.apache.activemq.artemis.core.server] AMQ222061: Client connection failed, clearing up resources for session d1631205-9a98-11ec-8b3d-6c02e05f997e\n2022-03-03 11:21:29,137 WARN  [org.apache.activemq.artemis.core.server] AMQ222107: Cleared up resources for session d1631205-9a98-11ec-8b3d-6c02e05f997e\n</code></pre>\n<p>I tried several times, Refresh immediately when the last connection is lost. It's look stranger, sometimes the connection can hold half an hour, sometimes just a few minutes.</p>\n<p>java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    protected void configureStompEndpoints(StompEndpointRegistry registry) {\n        registry.addEndpoint(&quot;/ws&quot;).withSockJS();\n    }\n\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry registry) {\n        //registry.enableSimpleBroker(&quot;/queue/&quot;, &quot;/topic/&quot;, &quot;/exchange/&quot;);\n        registry.enableStompBrokerRelay(&quot;/queue/&quot;, &quot;/topic/&quot;, &quot;/exchange/&quot;)\n                .setSystemHeartbeatSendInterval(20000)\n                .setSystemHeartbeatReceiveInterval(20000)\n                .setTaskScheduler(heartBeatScheduler())\n                \n                .setRelayHost(&quot;127.0.0.1&quot;)\n                .setRelayPort(61613)\n                .setClientLogin(&quot;mirana&quot;)\n                .setClientPasscode(&quot;mirana&quot;)\n                .setSystemLogin(&quot;mirana&quot;)\n                .setSystemPasscode(&quot;mirana&quot;);\n        registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\n    }\n\n\n  \n    @Bean\n    @Primary\n    public UserDestinationResolver destinationResolver(SimpUserRegistry simpUserRegistry){\n        return new DefaultUserDestinationResolver(simpUserRegistry){\n            @Override\n            public String getTargetDestination(String sourceDestination, String actualDestination,\n                    String sessionId, @Nullable String user){\n                return actualDestination + &quot;-user-&quot; + user;\n            }\n        };\n    }\n\n    @Bean\n    public TaskScheduler heartBeatScheduler() {\n        return new ThreadPoolTaskScheduler();\n    }\n</code></pre>\n<p><code>server.js</code>:</p>\n<pre class=\"lang-js prettyprint-override\"><code>import Stomp from 'stompjs'\nimport Sockjs from 'sockjs-client'\n\nvar stompClient;\n\nexport function init(url){\n    stompClient = Stomp.over(new Sockjs(url))\n}\n\n\nexport function connect(successCallback, errorCallback){\n    stompClient.connect({}, function(frame){\n        successCallback(frame)\n    }, function(frame){\n        errorCallback(frame)\n    })\n}\n\n\nexport function subscribe(destination, callback){\n    stompClient.subscribe(destination, message =&gt; callback(message))\n}\n\nexport function send(destination, headers, object){\n    stompClient.send(destination,headers,object)\n}\n</code></pre>\n<p><code>client.js</code></p>\n<pre class=\"lang-js prettyprint-override\"><code>server.init('http://localhost:9999/ws?type=1&amp;id=321feead21313fesa')\n    server.connect(frame =&gt;{\n      console.log(frame)\n      server.subscribe('/topic/chat.typing', message =&gt; {\n        console.log(&quot;chat.type&quot;+message)\n      })\n      server.subscribe('/topic/chat.message', message =&gt; {\n        console.log(&quot;chat.message&quot;+message)\n      })\n    }, frame =&gt;{\n      console.log(frame)\n    })\n}\n</code></pre>\n<p>Why are the lost connection intervals different? I am very confused.</p>\n<p>I used localhost, not any WAN or LAN.</p>\n<p>I set the log level to <code>TRACE</code> and the server doesn't receive the heart-beat from the client in 20s (the heartbeat is 10s at a time) then the broker closed the connection. So maybe it's the problem of the client. Maybe there's CPU spikes. This may need more tests to find the problem.</p>\n<p>I try to inspect the client, and when the connection loses the status code is 1002, which means <code> an endpoint is terminating the connection due to a protocol error</code>.\nDoes anybody know how to solve this problem.</p>\n"},{"tags":["java","android","ussd"],"comments":[{"owner":{"account_id":1972221,"reputation":16711,"user_id":1770868,"accept_rate":95,"display_name":"Ahmad Aghazadeh"},"score":0,"creation_date":1478782910,"post_id":40528151,"comment_id":68296636,"body_markdown":"Hi read this post http://stackoverflow.com/a/37339004/1770868","body":"Hi read this post <a href=\"http://stackoverflow.com/a/37339004/1770868\">stackoverflow.com/a/37339004/1770868</a>"},{"owner":{"account_id":2091175,"reputation":3923,"user_id":1860982,"accept_rate":52,"display_name":"Tosin Onikute"},"score":0,"creation_date":1478783569,"post_id":40528151,"comment_id":68297033,"body_markdown":"@AhmadAghazadeh, thanks but when i tried implementing that earlier, I got an error saying &quot; cannot find IExtendedNetworkService.Stub &quot; , Pointing to &quot;Stub&quot; for reasons which i&#39;m not sure. because i followed the steps","body":"@AhmadAghazadeh, thanks but when i tried implementing that earlier, I got an error saying &quot; cannot find IExtendedNetworkService.Stub &quot; , Pointing to &quot;Stub&quot; for reasons which i&#39;m not sure. because i followed the steps"},{"owner":{"account_id":2091175,"reputation":3923,"user_id":1860982,"accept_rate":52,"display_name":"Tosin Onikute"},"score":0,"creation_date":1478783686,"post_id":40528151,"comment_id":68297107,"body_markdown":"@AhmadAghazadeh Please, have you tried running that answer recently? , because it doesn&#39;t work for me.","body":"@AhmadAghazadeh Please, have you tried running that answer recently? , because it doesn&#39;t work for me."},{"owner":{"account_id":1972221,"reputation":16711,"user_id":1770868,"accept_rate":95,"display_name":"Ahmad Aghazadeh"},"score":0,"creation_date":1478784179,"post_id":40528151,"comment_id":68297400,"body_markdown":"try it: &lt;service android:name=&quot;full path&quot; android:enabled=&quot;true&quot;&gt;&lt;/service&gt;","body":"try it: &lt;service android:name=&quot;full path&quot; android:enabled=&quot;true&quot;&gt;&lt;/service&gt;"},{"owner":{"account_id":2091175,"reputation":3923,"user_id":1860982,"accept_rate":52,"display_name":"Tosin Onikute"},"score":0,"creation_date":1478788834,"post_id":40528151,"comment_id":68300377,"body_markdown":"@AhmadAghazadeh what is suppose to be the EXTRA_ACTION_USSD in your code ?","body":"@AhmadAghazadeh what is suppose to be the EXTRA_ACTION_USSD in your code ?"},{"owner":{"account_id":1342983,"reputation":396,"user_id":1284291,"display_name":"davkutalek"},"score":0,"creation_date":1589821190,"post_id":40528151,"comment_id":109439461,"body_markdown":"@AhmadAghazadeh that method was depreciated by Google in Android 4.3 for security reasons","body":"@AhmadAghazadeh that method was depreciated by Google in Android 4.3 for security reasons"}],"answers":[{"tags":[],"owner":{"account_id":7421064,"reputation":1,"user_id":5645391,"display_name":"Denis Wane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501576510,"creation_date":1501576510,"answer_id":45432824,"question_id":40528151,"body_markdown":"After the launch, change the settings manually\r\n\r\nSetting-&gt;Accessibility Setting -&gt; You can see a option &#39;your app name&#39;. Turn it on. (This has to be done from as a part of application flow(not manual))","title":"android read USSD response","body":"<p>After the launch, change the settings manually</p>\n\n<p>Setting->Accessibility Setting -> You can see a option 'your app name'. Turn it on. (This has to be done from as a part of application flow(not manual))</p>\n"},{"tags":[],"owner":{"account_id":23538671,"reputation":1,"user_id":17583225,"display_name":"Pridesoft ITsolutions"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638690744,"creation_date":1638688711,"answer_id":70232218,"question_id":40528151,"body_markdown":"instead of using broadcast receiver use these two lines of code in \r\n \r\nadd this code in MainActivity\r\n\r\n    public static void setTextViewToModify(String  Text) {\r\n            textView.setText(Text);}\r\n\r\nand add this in service class with in onAccessibityEvent\r\n\r\n    MainActivity.setTextViewToModify(text);\r\n\r\n","title":"android read USSD response","body":"<p>instead of using broadcast receiver use these two lines of code in</p>\n<p>add this code in MainActivity</p>\n<pre><code>public static void setTextViewToModify(String  Text) {\n        textView.setText(Text);}\n</code></pre>\n<p>and add this in service class with in onAccessibityEvent</p>\n<pre><code>MainActivity.setTextViewToModify(text);\n</code></pre>\n"}],"owner":{"account_id":2091175,"reputation":3923,"user_id":1860982,"accept_rate":52,"display_name":"Tosin Onikute"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3641,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1648047224,"creation_date":1478782447,"question_id":40528151,"body_markdown":"I&#39;m trying to read USSD response to get Sim balance amount etc, and I&#39;m having issues, I have been reading many questions related to that on Stackoverflow, nothing has worked so far. Except for this that came close: [https://stackoverflow.com/questions/22057625/prevent-ussd-dialog-and-read-ussd-response/34132708#34132708][1]. by @HenBoy331\r\n\r\nBut i&#39;m still having issues with it. My broadcast receiver doesn&#39;t get called too. I&#39;m using 4.4.2\r\n\r\n\r\n\r\nBut it shows nothing. I can&#39;t seem to parse the message and get the balance.\r\n\r\nI have a `MainActivity` to make the phone call, `ReceiverActivity` to implement broadcast receiver, `USSDService` class to get the USSD response.\r\n\r\nMainActivity.java\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            startService(new Intent(this, USSDService.class));\r\n            dailNumber(&quot;100&quot;);\r\n    \r\n        }\r\n    \r\n        private void dailNumber(String code) {\r\n            String ussdCode = &quot;*&quot; + code + Uri.encode(&quot;#&quot;);\r\n            startActivity(new Intent(&quot;android.intent.action.CALL&quot;, Uri.parse(&quot;tel:&quot; + ussdCode)));\r\n        }\r\n    }\r\n\r\n\r\nRecieverActivity.java\r\n\r\n\r\n    public class RecieverActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            IntentFilter filter = new IntentFilter(&quot;com.times.ussd.action.REFRESH&quot;);\r\n            this.registerReceiver(new Receiver(), filter);\r\n        }\r\n    \r\n        public class Receiver extends BroadcastReceiver {\r\n    \r\n            private String TAG = &quot;XXXX&quot;;\r\n    \r\n            @Override\r\n            public void onReceive(Context context, Intent intent) {\r\n    \r\n                String message = intent.getStringExtra(&quot;message&quot;);\r\n                Log.i(TAG, &quot;Got message: &quot; + message);\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\nUSSDService.java\r\n\r\n\r\n    public class USSDService extends AccessibilityService {\r\n        \r\n            public String TAG = &quot;XXXX&quot;;\r\n        \r\n            @Override\r\n            public void onAccessibilityEvent(AccessibilityEvent event) {\r\n                Log.d(TAG, &quot;onAccessibilityEvent&quot;);\r\n        \r\n                AccessibilityNodeInfo source = event.getSource();\r\n            /* if (event.getEventType() == AccessibilityEvent.TYPE_WINDOW_STATE_CHANGED &amp;&amp; !event.getClassName().equals(&quot;android.app.AlertDialog&quot;)) { // android.app.AlertDialog is the standard but not for all phones  */\r\n                if (event.getEventType() == AccessibilityEvent.TYPE_WINDOW_STATE_CHANGED &amp;&amp; !String.valueOf(event.getClassName()).contains(&quot;AlertDialog&quot;)) {\r\n                    return;\r\n                }\r\n                if(event.getEventType() == AccessibilityEvent.TYPE_WINDOW_CONTENT_CHANGED &amp;&amp; (source == null || !source.getClassName().equals(&quot;android.widget.TextView&quot;))) {\r\n                    return;\r\n                }\r\n                if(event.getEventType() == AccessibilityEvent.TYPE_WINDOW_CONTENT_CHANGED &amp;&amp; TextUtils.isEmpty(source.getText())) {\r\n                    return;\r\n                }\r\n        \r\n                List&lt;CharSequence&gt; eventText;\r\n        \r\n                if(event.getEventType() == AccessibilityEvent.TYPE_WINDOW_STATE_CHANGED) {\r\n                    eventText = event.getText();\r\n                } else {\r\n                    eventText = Collections.singletonList(source.getText());\r\n                }\r\n        \r\n                String text = processUSSDText(eventText);\r\n        \r\n                if( TextUtils.isEmpty(text) ) return;\r\n        \r\n                // Close dialog\r\n                performGlobalAction(GLOBAL_ACTION_BACK); // This works on 4.1+ only\r\n        \r\n                Log.d(TAG, text);\r\n        \r\n                // Handle USSD response here\r\n                Intent intent = new Intent(&quot;com.times.ussd.action.REFRESH&quot;);\r\n                intent.putExtra(&quot;message&quot;, text);\r\n                sendBroadcast(intent);\r\n        \r\n            }\r\n        \r\n            private String processUSSDText(List&lt;CharSequence&gt; eventText) {\r\n                for (CharSequence s : eventText) {\r\n                    String text = String.valueOf(s);\r\n                    // Return text if text is the expected ussd response\r\n                    if( true ) {\r\n                        return text;\r\n                    }\r\n                }\r\n                return null;\r\n            }\r\n        \r\n            @Override\r\n            public void onInterrupt() {\r\n            }\r\n        \r\n            @Override\r\n            protected void onServiceConnected() {\r\n                super.onServiceConnected();\r\n                Log.d(TAG, &quot;onServiceConnected&quot;);\r\n                AccessibilityServiceInfo info = new AccessibilityServiceInfo();\r\n                info.flags = AccessibilityServiceInfo.DEFAULT;\r\n                info.packageNames = new String[]{&quot;com.android.phone&quot;};\r\n                info.eventTypes = AccessibilityEvent.TYPE_WINDOW_STATE_CHANGED | AccessibilityEvent.TYPE_WINDOW_CONTENT_CHANGED;\r\n                info.feedbackType = AccessibilityServiceInfo.FEEDBACK_GENERIC;\r\n                setServiceInfo(info);\r\n            }\r\n        }\r\n\r\nAndroidManifest\r\n\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.dialussd&quot;&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.CALL_PHONE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\r\n    \r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/AppTheme&quot;&gt;\r\n            &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n    \r\n    \r\n            &lt;service\r\n                android:name=&quot;.services.USSDService&quot;\r\n                android:enabled=&quot;true&quot;\r\n                android:exported=&quot;true&quot;\r\n                android:permission=&quot;android.permission.BIND_ACCESSIBILITY_SERVICE&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.accessibilityservice.AccessibilityService&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n                &lt;meta-data android:name=&quot;android.accessibilityservice&quot;\r\n                    android:resource=&quot;@xml/config_service&quot; /&gt;\r\n            &lt;/service&gt;\r\n    \r\n            &lt;receiver android:name=&quot;.RecieverActivity$Receiver&quot; &gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/receiver&gt;\r\n    \r\n    \r\n    \r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\nPlease, is there any way i&#39;m implementing this wrongly, Or perhaps there is a new way to get USSD responses which works?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/22057625/prevent-ussd-dialog-and-read-ussd-response/34132708#34132708","title":"android read USSD response","body":"<p>I'm trying to read USSD response to get Sim balance amount etc, and I'm having issues, I have been reading many questions related to that on Stackoverflow, nothing has worked so far. Except for this that came close: <a href=\"https://stackoverflow.com/questions/22057625/prevent-ussd-dialog-and-read-ussd-response/34132708#34132708\">Prevent USSD dialog and read USSD response?</a>. by @HenBoy331</p>\n\n<p>But i'm still having issues with it. My broadcast receiver doesn't get called too. I'm using 4.4.2</p>\n\n<p>But it shows nothing. I can't seem to parse the message and get the balance.</p>\n\n<p>I have a <code>MainActivity</code> to make the phone call, <code>ReceiverActivity</code> to implement broadcast receiver, <code>USSDService</code> class to get the USSD response.</p>\n\n<p>MainActivity.java</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        startService(new Intent(this, USSDService.class));\n        dailNumber(\"100\");\n\n    }\n\n    private void dailNumber(String code) {\n        String ussdCode = \"*\" + code + Uri.encode(\"#\");\n        startActivity(new Intent(\"android.intent.action.CALL\", Uri.parse(\"tel:\" + ussdCode)));\n    }\n}\n</code></pre>\n\n<p>RecieverActivity.java</p>\n\n<pre><code>public class RecieverActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        IntentFilter filter = new IntentFilter(\"com.times.ussd.action.REFRESH\");\n        this.registerReceiver(new Receiver(), filter);\n    }\n\n    public class Receiver extends BroadcastReceiver {\n\n        private String TAG = \"XXXX\";\n\n        @Override\n        public void onReceive(Context context, Intent intent) {\n\n            String message = intent.getStringExtra(\"message\");\n            Log.i(TAG, \"Got message: \" + message);\n\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>USSDService.java</p>\n\n<pre><code>public class USSDService extends AccessibilityService {\n\n        public String TAG = \"XXXX\";\n\n        @Override\n        public void onAccessibilityEvent(AccessibilityEvent event) {\n            Log.d(TAG, \"onAccessibilityEvent\");\n\n            AccessibilityNodeInfo source = event.getSource();\n        /* if (event.getEventType() == AccessibilityEvent.TYPE_WINDOW_STATE_CHANGED &amp;&amp; !event.getClassName().equals(\"android.app.AlertDialog\")) { // android.app.AlertDialog is the standard but not for all phones  */\n            if (event.getEventType() == AccessibilityEvent.TYPE_WINDOW_STATE_CHANGED &amp;&amp; !String.valueOf(event.getClassName()).contains(\"AlertDialog\")) {\n                return;\n            }\n            if(event.getEventType() == AccessibilityEvent.TYPE_WINDOW_CONTENT_CHANGED &amp;&amp; (source == null || !source.getClassName().equals(\"android.widget.TextView\"))) {\n                return;\n            }\n            if(event.getEventType() == AccessibilityEvent.TYPE_WINDOW_CONTENT_CHANGED &amp;&amp; TextUtils.isEmpty(source.getText())) {\n                return;\n            }\n\n            List&lt;CharSequence&gt; eventText;\n\n            if(event.getEventType() == AccessibilityEvent.TYPE_WINDOW_STATE_CHANGED) {\n                eventText = event.getText();\n            } else {\n                eventText = Collections.singletonList(source.getText());\n            }\n\n            String text = processUSSDText(eventText);\n\n            if( TextUtils.isEmpty(text) ) return;\n\n            // Close dialog\n            performGlobalAction(GLOBAL_ACTION_BACK); // This works on 4.1+ only\n\n            Log.d(TAG, text);\n\n            // Handle USSD response here\n            Intent intent = new Intent(\"com.times.ussd.action.REFRESH\");\n            intent.putExtra(\"message\", text);\n            sendBroadcast(intent);\n\n        }\n\n        private String processUSSDText(List&lt;CharSequence&gt; eventText) {\n            for (CharSequence s : eventText) {\n                String text = String.valueOf(s);\n                // Return text if text is the expected ussd response\n                if( true ) {\n                    return text;\n                }\n            }\n            return null;\n        }\n\n        @Override\n        public void onInterrupt() {\n        }\n\n        @Override\n        protected void onServiceConnected() {\n            super.onServiceConnected();\n            Log.d(TAG, \"onServiceConnected\");\n            AccessibilityServiceInfo info = new AccessibilityServiceInfo();\n            info.flags = AccessibilityServiceInfo.DEFAULT;\n            info.packageNames = new String[]{\"com.android.phone\"};\n            info.eventTypes = AccessibilityEvent.TYPE_WINDOW_STATE_CHANGED | AccessibilityEvent.TYPE_WINDOW_CONTENT_CHANGED;\n            info.feedbackType = AccessibilityServiceInfo.FEEDBACK_GENERIC;\n            setServiceInfo(info);\n        }\n    }\n</code></pre>\n\n<p>AndroidManifest</p>\n\n<pre><code>&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.dialussd\"&gt;\n\n    &lt;uses-permission android:name=\"android.permission.CALL_PHONE\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.RECEIVE_BOOT_COMPLETED\" /&gt;\n\n\n    &lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\"&gt;\n        &lt;activity android:name=\".MainActivity\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n\n        &lt;service\n            android:name=\".services.USSDService\"\n            android:enabled=\"true\"\n            android:exported=\"true\"\n            android:permission=\"android.permission.BIND_ACCESSIBILITY_SERVICE\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.accessibilityservice.AccessibilityService\" /&gt;\n            &lt;/intent-filter&gt;\n            &lt;meta-data android:name=\"android.accessibilityservice\"\n                android:resource=\"@xml/config_service\" /&gt;\n        &lt;/service&gt;\n\n        &lt;receiver android:name=\".RecieverActivity$Receiver\" &gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.BOOT_COMPLETED\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n\n\n\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n\n<p>Please, is there any way i'm implementing this wrongly, Or perhaps there is a new way to get USSD responses which works?</p>\n"},{"tags":["java","angular","spring","post","put"],"answers":[{"tags":[],"owner":{"account_id":6206196,"reputation":4298,"user_id":4834117,"accept_rate":56,"display_name":"Tonio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648045598,"creation_date":1648045598,"answer_id":71588941,"question_id":71588903,"body_markdown":"Are you subscribing to this call on the FE ? the angular HttpClient returns an `Observable`, if you are not subscribing, i.e. if you are not doing something like this:\r\n\r\n```javascript \r\ngetUsers().subscribe((data) =&gt; {\r\n  console.log(&#39;whatever&#39;);\r\n})\r\n```\r\n\r\nThe http request will never be send, that&#39;s how observable works, they only get &quot;executed&quot; when someone is &quot;listening&quot;\r\n","title":"Simple put request Angular--&gt;Java/spring not working","body":"<p>Are you subscribing to this call on the FE ? the angular HttpClient returns an <code>Observable</code>, if you are not subscribing, i.e. if you are not doing something like this:</p>\n<pre class=\"lang-js prettyprint-override\"><code>getUsers().subscribe((data) =&gt; {\n  console.log('whatever');\n})\n</code></pre>\n<p>The http request will never be send, that's how observable works, they only get &quot;executed&quot; when someone is &quot;listening&quot;</p>\n"},{"tags":[],"owner":{"account_id":21011157,"reputation":5561,"user_id":15439733,"display_name":"Joosep Parts"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648047010,"creation_date":1648046620,"answer_id":71589217,"question_id":71588903,"body_markdown":"Seeing how you try to pass `id` as pathVariable your endpoint should also accept it as such. For that refactor your endpoint. Frontend looks fine.\r\n\r\n```java\r\n@PutMapping(&quot;/api/users/{id}&quot;)\r\npublic Employee changeStatus(@PathVariable Long id) \r\n{ \r\n       Employee newEmployee = userRepository.getById(id); \r\n       newEmployee.setStatus(&quot;Checked&quot;); \r\n       return userRepository.save(newEmployee); \r\n}\r\n```\r\nRemove one extra `id` from url.\r\n```javascript\r\npublic changeStatus(id: number): Observable&lt;any&gt; \r\n{ \r\n    const url = this.apiServerUrl + /users/ + id;\r\n    return this.http.put&lt;any&gt;(url);\r\n} \r\n```\r\nOtherwise try to get rid of `any` types and use strong typing - that&#39;s the benefit TypeScript gives us.","title":"Simple put request Angular--&gt;Java/spring not working","body":"<p>Seeing how you try to pass <code>id</code> as pathVariable your endpoint should also accept it as such. For that refactor your endpoint. Frontend looks fine.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PutMapping(&quot;/api/users/{id}&quot;)\npublic Employee changeStatus(@PathVariable Long id) \n{ \n       Employee newEmployee = userRepository.getById(id); \n       newEmployee.setStatus(&quot;Checked&quot;); \n       return userRepository.save(newEmployee); \n}\n</code></pre>\n<p>Remove one extra <code>id</code> from url.</p>\n<pre class=\"lang-js prettyprint-override\"><code>public changeStatus(id: number): Observable&lt;any&gt; \n{ \n    const url = this.apiServerUrl + /users/ + id;\n    return this.http.put&lt;any&gt;(url);\n} \n</code></pre>\n<p>Otherwise try to get rid of <code>any</code> types and use strong typing - that's the benefit TypeScript gives us.</p>\n"}],"owner":{"account_id":17954940,"reputation":1,"user_id":13047231,"display_name":"Chispas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648047010,"creation_date":1648045438,"question_id":71588903,"body_markdown":"I have an objects in java backend that i want to change status property on:\r\n\r\n    @Entity \r\n    public class Employee { \r\n        @Id @GeneratedValue long id; \r\n        private  String name; \r\n        private  String status;\r\n}\r\n\r\nI want to set the property status to &quot;Checked&quot; for a targeted object chosen with id with this putmapping:\r\n\r\n    @PutMapping(&quot;/api/users/id&quot;) \r\n    public Employee changeStatus(@RequestParam Long id) \r\n    { \r\n           Employee newEmployee = userRepository.getById(id); \r\n           newEmployee.setStatus(&quot;Checked&quot;); \r\n           return userRepository.save(newEmployee); \r\n    }\r\n\r\nI want to do it from my frontend through :\r\n\r\n    public changeStatus(id: number): Observable&lt;any&gt; \r\n    { \r\n        return this.http.put&lt;any&gt;(${this.apiServerUrl}/users/id, id) \r\n    } \r\n\r\nNothing happens in backend, no errors or anything shows up. What am i missing? I suspect i do something wrong in the frontend call, but i cant figure it out.\r\n\r\nBackend-frontend connections seems to work because i can get all data from my backend and see it in frontend with theese two endpoints\r\n\r\nBackend:\r\n\r\n    @RequestMapping(&quot;/api/users&quot;) public List&lt;Employee&gt; getUsers() \r\n    { \r\n         return (List&lt;Employee&gt;) userRepository.findAll(); \r\n    } \r\n\r\nFrontend:\r\n\r\n    public getUsers(): Observable&lt;any&gt;\r\n    { \r\n        return this.http.get&lt;any&gt;(${this.apiServerUrl}/users) \r\n    } \r\n\r\nThanks in advance!","title":"Simple put request Angular--&gt;Java/spring not working","body":"<p>I have an objects in java backend that i want to change status property on:</p>\n<pre><code>@Entity \npublic class Employee { \n    @Id @GeneratedValue long id; \n    private  String name; \n    private  String status;\n</code></pre>\n<p>}</p>\n<p>I want to set the property status to &quot;Checked&quot; for a targeted object chosen with id with this putmapping:</p>\n<pre><code>@PutMapping(&quot;/api/users/id&quot;) \npublic Employee changeStatus(@RequestParam Long id) \n{ \n       Employee newEmployee = userRepository.getById(id); \n       newEmployee.setStatus(&quot;Checked&quot;); \n       return userRepository.save(newEmployee); \n}\n</code></pre>\n<p>I want to do it from my frontend through :</p>\n<pre><code>public changeStatus(id: number): Observable&lt;any&gt; \n{ \n    return this.http.put&lt;any&gt;(${this.apiServerUrl}/users/id, id) \n} \n</code></pre>\n<p>Nothing happens in backend, no errors or anything shows up. What am i missing? I suspect i do something wrong in the frontend call, but i cant figure it out.</p>\n<p>Backend-frontend connections seems to work because i can get all data from my backend and see it in frontend with theese two endpoints</p>\n<p>Backend:</p>\n<pre><code>@RequestMapping(&quot;/api/users&quot;) public List&lt;Employee&gt; getUsers() \n{ \n     return (List&lt;Employee&gt;) userRepository.findAll(); \n} \n</code></pre>\n<p>Frontend:</p>\n<pre><code>public getUsers(): Observable&lt;any&gt;\n{ \n    return this.http.get&lt;any&gt;(${this.apiServerUrl}/users) \n} \n</code></pre>\n<p>Thanks in advance!</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"score":0,"creation_date":1452261171,"post_id":34676217,"comment_id":57102478,"body_markdown":"I have used a converter for a List field with DataNucleus JPA and it tracks changes to the list and persists them. So looks like your provider doesn&#39;t support that","body":"I have used a converter for a List field with DataNucleus JPA and it tracks changes to the list and persists them. So looks like your provider doesn&#39;t support that"},{"owner":{"account_id":1714975,"reputation":20238,"user_id":1572269,"accept_rate":43,"display_name":"Naros"},"score":0,"creation_date":1452274487,"post_id":34676217,"comment_id":57111670,"body_markdown":"Despite how you may have initially `saved` the data, if it is read back in and parsed out as A, C, B and you never add or remove elements from the list, Hibernate hasn&#39;t detected the state having been changed, thus not dirty, despite how it may be stored in the actual DB.  What we need to see is both your serialize and deserialize methods to confirm it isn&#39;t just a deserialization problem as to why your load has A,C,B instead of A,B,C.","body":"Despite how you may have initially <code>saved</code> the data, if it is read back in and parsed out as A, C, B and you never add or remove elements from the list, Hibernate hasn&#39;t detected the state having been changed, thus not dirty, despite how it may be stored in the actual DB.  What we need to see is both your serialize and deserialize methods to confirm it isn&#39;t just a deserialization problem as to why your load has A,C,B instead of A,B,C."},{"owner":{"account_id":1661225,"reputation":308,"user_id":1529492,"accept_rate":50,"display_name":"Martin Metz"},"score":0,"creation_date":1452503297,"post_id":34676217,"comment_id":57180969,"body_markdown":"Hello Naros, in my unit test I add and remove elements, see the sample code. It contains a &quot;loaded.getSampleList().remove(1);&quot; and &quot;loaded.getSampleList().add(moveObj);&quot;.\nThe serialization/deserialization is done using the gson library, calling Gson#toJSon(Object) and Gson#fromJson(String, Type). But my expectation was that hibernate does always call the convertToDatabaseColumn() and compares the strings or maybe compares the original objects. But it seems that Hibernate is simply ignoring changes with converter data.","body":"Hello Naros, in my unit test I add and remove elements, see the sample code. It contains a &quot;loaded.getSampleList().remove(1);&quot; and &quot;loaded.getSampleList().add(moveObj);&quot;. The serialization/deserialization is done using the gson library, calling Gson#toJSon(Object) and Gson#fromJson(String, Type). But my expectation was that hibernate does always call the convertToDatabaseColumn() and compares the strings or maybe compares the original objects. But it seems that Hibernate is simply ignoring changes with converter data."},{"owner":{"account_id":1661225,"reputation":308,"user_id":1529492,"accept_rate":50,"display_name":"Martin Metz"},"score":0,"creation_date":1452676772,"post_id":34676217,"comment_id":57270411,"body_markdown":"UPDATE: The mostly same test code works within an Arquilian test! But not within JSE unit test! But another, very similar test case still fails, even as a JEE test. I&#39;m still searching the differences!","body":"UPDATE: The mostly same test code works within an Arquilian test! But not within JSE unit test! But another, very similar test case still fails, even as a JEE test. I&#39;m still searching the differences!"},{"owner":{"account_id":1661225,"reputation":308,"user_id":1529492,"accept_rate":50,"display_name":"Martin Metz"},"score":0,"creation_date":1452695494,"post_id":34676217,"comment_id":57283370,"body_markdown":"UPDATE: In JEE: If I modify a detached object (loaded by older transaction) and make an entitiyManager.merge() afterwards, all works fine! But if I load the object and modify it within one transaction, the changes in the JSON serialization are not detected! Looks like a Hibernate bug to me!","body":"UPDATE: In JEE: If I modify a detached object (loaded by older transaction) and make an entitiyManager.merge() afterwards, all works fine! But if I load the object and modify it within one transaction, the changes in the JSON serialization are not detected! Looks like a Hibernate bug to me!"},{"owner":{"account_id":10719092,"reputation":215,"user_id":7888743,"display_name":"Ilya Berdzenishvili"},"score":0,"creation_date":1593201828,"post_id":34676217,"comment_id":110707456,"body_markdown":"Are there any updates regarding this topic? I mean, some kind of best practice or smth else","body":"Are there any updates regarding this topic? I mean, some kind of best practice or smth else"},{"owner":{"account_id":1661225,"reputation":308,"user_id":1529492,"accept_rate":50,"display_name":"Martin Metz"},"score":0,"creation_date":1593594640,"post_id":34676217,"comment_id":110833106,"body_markdown":"I did no longer check the issue. My solution, was not to use the @Converter but specific code for Hibernate.","body":"I did no longer check the issue. My solution, was not to use the @Converter but specific code for Hibernate."}],"answers":[{"tags":[],"owner":{"account_id":2601471,"reputation":1111,"user_id":2253719,"display_name":"Wilfredo Pomier"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1478663594,"creation_date":1478663594,"answer_id":40499981,"question_id":34676217,"body_markdown":"I know it&#39;s an old question, but...\r\n\r\nI&#39;ve had the same problem with Hibernate+@Converter once. \r\nAfter a while, I realized that&#39;s because Hibernate doesn&#39;t know when the left side of `AttributeConverter&lt;left,right&gt;` gets dirty (maybe some other JPA implementations do), that&#39;s why it never calls `convertToDatabaseColumn()` and therefore never updates the database.\r\n\r\nTo work around this issue, you must set the entity&#39;s property to a fresh new instance (a `clone()` would do the trick).\r\n\r\n    EntitySample entity=new EntitySample();\r\n    entity.getSampleList().add(new SampleObject(&quot;A&quot;));\r\n    entity.getSampleList().add(new SampleObject(&quot;B&quot;));\r\n    entity.getSampleList().add(new SampleObject(&quot;C&quot;));\r\n    entity.setName(&quot;init&quot;);\r\n    startTransaction();\r\n    getEM().persist(entity);\r\n    commitTransaction();\r\n    \r\n    // change the order to A, C, B:\r\n    getEM().clear();\r\n    startTransaction();  // &lt;-- Transaction should start here\r\n    EntitySample loaded=getEM().find(...);\r\n    List&lt;SampleObject&gt; list = loaded.getSampleList();\r\n    SampleObject moveObj = list.remove(1);\r\n    list.add(moveObj);\r\n    loaded.setSampleList(list.clone()); // &lt;-- Workaround\r\n    \r\n    // getEM().merge(loaded); // &lt;-- &#39;loaded&#39; already is an entity!\r\n    commitTransaction();\r\n\r\nHere `clone()` returns a shallow copy of the `List` instance.  (The instances of `SampleObject` themselves are not copied.)\r\n\r\nTo avoid this you have to create a new Hibernate Type (leaving pure JPA aside), but that&#39;s not related to the main question.\r\n","title":"Data lost because of JPA AttributeConverter?","body":"<p>I know it's an old question, but...</p>\n\n<p>I've had the same problem with Hibernate+@Converter once. \nAfter a while, I realized that's because Hibernate doesn't know when the left side of <code>AttributeConverter&lt;left,right&gt;</code> gets dirty (maybe some other JPA implementations do), that's why it never calls <code>convertToDatabaseColumn()</code> and therefore never updates the database.</p>\n\n<p>To work around this issue, you must set the entity's property to a fresh new instance (a <code>clone()</code> would do the trick).</p>\n\n<pre><code>EntitySample entity=new EntitySample();\nentity.getSampleList().add(new SampleObject(\"A\"));\nentity.getSampleList().add(new SampleObject(\"B\"));\nentity.getSampleList().add(new SampleObject(\"C\"));\nentity.setName(\"init\");\nstartTransaction();\ngetEM().persist(entity);\ncommitTransaction();\n\n// change the order to A, C, B:\ngetEM().clear();\nstartTransaction();  // &lt;-- Transaction should start here\nEntitySample loaded=getEM().find(...);\nList&lt;SampleObject&gt; list = loaded.getSampleList();\nSampleObject moveObj = list.remove(1);\nlist.add(moveObj);\nloaded.setSampleList(list.clone()); // &lt;-- Workaround\n\n// getEM().merge(loaded); // &lt;-- 'loaded' already is an entity!\ncommitTransaction();\n</code></pre>\n\n<p>Here <code>clone()</code> returns a shallow copy of the <code>List</code> instance.  (The instances of <code>SampleObject</code> themselves are not copied.)</p>\n\n<p>To avoid this you have to create a new Hibernate Type (leaving pure JPA aside), but that's not related to the main question.</p>\n"},{"tags":[],"owner":{"account_id":24661815,"reputation":11,"user_id":18557952,"display_name":"Simon Mennig"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648046889,"creation_date":1648046889,"answer_id":71589282,"question_id":34676217,"body_markdown":"For EclipseLink the `@Mutable` annotation should work. This cause EclipseLink to your equals implementation, in order to determine if the object has changed. \r\n\r\nEclipseLink docu:\r\nhttps://www.eclipse.org/eclipselink/documentation/2.6/jpa/extensions/annotations_ref.htm#CHDIFIJF \r\n\r\n```\r\n  @Convert(converter=ConverterSample.class)\r\n  @Mutable\r\n  private List&lt;SampleObject&gt; sampleList=new ArrayList&lt;&gt;();\r\n```","title":"Data lost because of JPA AttributeConverter?","body":"<p>For EclipseLink the <code>@Mutable</code> annotation should work. This cause EclipseLink to your equals implementation, in order to determine if the object has changed.</p>\n<p>EclipseLink docu:\n<a href=\"https://www.eclipse.org/eclipselink/documentation/2.6/jpa/extensions/annotations_ref.htm#CHDIFIJF\" rel=\"nofollow noreferrer\">https://www.eclipse.org/eclipselink/documentation/2.6/jpa/extensions/annotations_ref.htm#CHDIFIJF</a></p>\n<pre><code>  @Convert(converter=ConverterSample.class)\n  @Mutable\n  private List&lt;SampleObject&gt; sampleList=new ArrayList&lt;&gt;();\n</code></pre>\n"}],"owner":{"account_id":1661225,"reputation":308,"user_id":1529492,"accept_rate":50,"display_name":"Martin Metz"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2188,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1648046889,"creation_date":1452253116,"question_id":34676217,"body_markdown":"I use JPA to persist my data to the database. In detail I use Hibernate 4.3.5 as JPA implementation.\r\nBecause of performance and keeping the table structure simple, I don not map directly 1:1 from objects to tables but some list of data I only keep as objects but do not create entity classes for. Instead of this, I serialize the object structure as JSON to the DB. This serialization/deserialization is done with @Converter and works mostly nice.\r\n\r\nSimplified Code:\r\n\r\n    @Entity\r\n    public class EntitySample {\r\n      ...\r\n      @Convert(converter=ConverterSample.class)\r\n      private List&lt;SampleObject&gt; sampleList=new ArrayList&lt;&gt;();\r\n    \r\n      private String name;\r\n    \r\n      public List&lt;SampleObject&gt; getSampleList() {\r\n        return sampleList;\r\n      }\r\n    \r\n      public void setName(String newName) {\r\n        name=newName;\r\n      }\r\n      ...\r\n    }\r\n\r\n    @Converter\r\n    public class ConverterSample implements AttributeConverter&lt;List,String&gt; {\r\n    \r\n      @Override\r\n      public String convertToDatabaseColumn(List data) {\r\n        return serializeToJSON(data);\r\n      }\r\n    \r\n      @Override\r\n      public List convertToEntityAttribute(String data) {\r\n        return deserializeFromJSON(data);\r\n      }\r\n    \r\n      ...\r\n    }\r\n\r\nAs told, it is mostly working!\r\nI detected the following problem in a unit test:\r\n\r\n    // create a new entity object with list A, B, C:\r\n    EntitySample entity=new EntitySample();\r\n    entity.getSampleList().add(new SampleObject(&quot;A&quot;));\r\n    entity.getSampleList().add(new SampleObject(&quot;B&quot;));\r\n    entity.getSampleList().add(new SampleObject(&quot;C&quot;));\r\n    entity.setName(&quot;init&quot;);\r\n    startTransaction();\r\n    getEM().persist(entity);\r\n    commitTransaction();\r\n    \r\n    // change the order to A, C, B:\r\n    getEM().clear();\r\n    EntitySample loaded=getEM().find(...); // just reload from DB\r\n    SampleObject moveObj=loaded.getSampleList().remove(1);\r\n    loaded.getSampleList().add(moveObj);\r\n    // loaded.setName(&quot;changed&quot;); // all works with this change, but not without!\r\n    \r\n    startTransaction();\r\n    getEM().merge(loaded);\r\n    commitTransaction();\r\n\r\nWith the upper code, an object with a JSON list with elements A, B, C is written to DB. After this the object is loaded back again and the order of the list elements is changed to A, C, B. But now saving the object does NOT change data data in the database! For me it looks like, that Hibernate does not detect that anything has changed! My converter code convertToDatabaseColumn() is not called for the merge.\r\nbut as soon as I also change the name (commented line above), all works fine. Now the loaded object seems to be detected as changed and therefore also the conversion is called and the JSON string is stored to DB.\r\n\r\nDoes anybody know this bug or knows a workaround? Or is it my bug in the end?","title":"Data lost because of JPA AttributeConverter?","body":"<p>I use JPA to persist my data to the database. In detail I use Hibernate 4.3.5 as JPA implementation.\nBecause of performance and keeping the table structure simple, I don not map directly 1:1 from objects to tables but some list of data I only keep as objects but do not create entity classes for. Instead of this, I serialize the object structure as JSON to the DB. This serialization/deserialization is done with @Converter and works mostly nice.</p>\n\n<p>Simplified Code:</p>\n\n<pre><code>@Entity\npublic class EntitySample {\n  ...\n  @Convert(converter=ConverterSample.class)\n  private List&lt;SampleObject&gt; sampleList=new ArrayList&lt;&gt;();\n\n  private String name;\n\n  public List&lt;SampleObject&gt; getSampleList() {\n    return sampleList;\n  }\n\n  public void setName(String newName) {\n    name=newName;\n  }\n  ...\n}\n\n@Converter\npublic class ConverterSample implements AttributeConverter&lt;List,String&gt; {\n\n  @Override\n  public String convertToDatabaseColumn(List data) {\n    return serializeToJSON(data);\n  }\n\n  @Override\n  public List convertToEntityAttribute(String data) {\n    return deserializeFromJSON(data);\n  }\n\n  ...\n}\n</code></pre>\n\n<p>As told, it is mostly working!\nI detected the following problem in a unit test:</p>\n\n<pre><code>// create a new entity object with list A, B, C:\nEntitySample entity=new EntitySample();\nentity.getSampleList().add(new SampleObject(\"A\"));\nentity.getSampleList().add(new SampleObject(\"B\"));\nentity.getSampleList().add(new SampleObject(\"C\"));\nentity.setName(\"init\");\nstartTransaction();\ngetEM().persist(entity);\ncommitTransaction();\n\n// change the order to A, C, B:\ngetEM().clear();\nEntitySample loaded=getEM().find(...); // just reload from DB\nSampleObject moveObj=loaded.getSampleList().remove(1);\nloaded.getSampleList().add(moveObj);\n// loaded.setName(\"changed\"); // all works with this change, but not without!\n\nstartTransaction();\ngetEM().merge(loaded);\ncommitTransaction();\n</code></pre>\n\n<p>With the upper code, an object with a JSON list with elements A, B, C is written to DB. After this the object is loaded back again and the order of the list elements is changed to A, C, B. But now saving the object does NOT change data data in the database! For me it looks like, that Hibernate does not detect that anything has changed! My converter code convertToDatabaseColumn() is not called for the merge.\nbut as soon as I also change the name (commented line above), all works fine. Now the loaded object seems to be detected as changed and therefore also the conversion is called and the JSON string is stored to DB.</p>\n\n<p>Does anybody know this bug or knows a workaround? Or is it my bug in the end?</p>\n"},{"tags":["java","docker","kubernetes","containers","flags"],"answers":[{"tags":[],"owner":{"account_id":4915498,"reputation":958,"user_id":3959535,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1538139344,"creation_date":1538139344,"answer_id":52555836,"question_id":52555036,"body_markdown":"The -Xmx flag overwrites the -XX:+UseCGroupMemoryLimitForHeap flag.\r\n\r\nThe flag -XX:+UseCGroupMemoryLimitForHeap lets the JVM detect what the max heap size in a container should be.\r\n\r\nThe -Xmx flag set the max heap size to a fixed size.\r\n\r\nTo answer your example, the JVM would reserve 2500M heap space. There will be some additional memory usage for non-heap and jvm stuff.\r\n\r\nTo further tune your memory usage in a container you could use the -XX:MaxRAMFraction flag. \r\nSee this article: https://blog.csanchez.org/2017/05/31/running-a-jvm-in-a-container-without-getting-killed/","title":"Do java flags Xms and Xmx overwrite flag XX:+UseCGroupMemoryLimitForHeap?","body":"<p>The -Xmx flag overwrites the -XX:+UseCGroupMemoryLimitForHeap flag.</p>\n\n<p>The flag -XX:+UseCGroupMemoryLimitForHeap lets the JVM detect what the max heap size in a container should be.</p>\n\n<p>The -Xmx flag set the max heap size to a fixed size.</p>\n\n<p>To answer your example, the JVM would reserve 2500M heap space. There will be some additional memory usage for non-heap and jvm stuff.</p>\n\n<p>To further tune your memory usage in a container you could use the -XX:MaxRAMFraction flag. \nSee this article: <a href=\"https://blog.csanchez.org/2017/05/31/running-a-jvm-in-a-container-without-getting-killed/\" rel=\"noreferrer\">https://blog.csanchez.org/2017/05/31/running-a-jvm-in-a-container-without-getting-killed/</a></p>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1538142750,"creation_date":1538142750,"answer_id":52556887,"question_id":52555036,"body_markdown":"Think about it this way, *before* that `UseCGroupMemoryLimitForHeap` was added, you could specify `Xmx` with a value larger than what your pod had (it would look only on the host memory, not the pod itself), eventually being killed. By default that was 1/4 of the memory if not specified. This happens because heap is calculated like:\r\n\r\n\r\n    heap = memory / MaxRAMFraction\r\n\r\nAnd running:\r\n\r\n    java -XX:+PrintFlagsFinal | grep MaxRAMFraction\r\n\r\nwould reveal that `MaxRAMFraction = 4`. \r\n\r\nNow that `UseCGroupMemoryLimitForHeap` was added, you can tell how much heap *from the pod* itself will be taken. By default, that is still 1/4; but you can adjust that via `MaxRAMFraction`, of course.\r\n\r\nIf you specify both arguments, `Xms` wins. always. And 1) this is pretty logic (as `UseCGroupMemoryLimitForHeap` is more specific than `Xmx`) 2) this is exactly proven by my experiments just now. No matter the order in which they are specified, `Xmx` always wins.","title":"Do java flags Xms and Xmx overwrite flag XX:+UseCGroupMemoryLimitForHeap?","body":"<p>Think about it this way, <em>before</em> that <code>UseCGroupMemoryLimitForHeap</code> was added, you could specify <code>Xmx</code> with a value larger than what your pod had (it would look only on the host memory, not the pod itself), eventually being killed. By default that was 1/4 of the memory if not specified. This happens because heap is calculated like:</p>\n\n<pre><code>heap = memory / MaxRAMFraction\n</code></pre>\n\n<p>And running:</p>\n\n<pre><code>java -XX:+PrintFlagsFinal | grep MaxRAMFraction\n</code></pre>\n\n<p>would reveal that <code>MaxRAMFraction = 4</code>. </p>\n\n<p>Now that <code>UseCGroupMemoryLimitForHeap</code> was added, you can tell how much heap <em>from the pod</em> itself will be taken. By default, that is still 1/4; but you can adjust that via <code>MaxRAMFraction</code>, of course.</p>\n\n<p>If you specify both arguments, <code>Xms</code> wins. always. And 1) this is pretty logic (as <code>UseCGroupMemoryLimitForHeap</code> is more specific than <code>Xmx</code>) 2) this is exactly proven by my experiments just now. No matter the order in which they are specified, <code>Xmx</code> always wins.</p>\n"},{"tags":[],"owner":{"account_id":55404,"reputation":1970,"user_id":165927,"accept_rate":67,"display_name":"MosheElisha"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648046437,"creation_date":1648046437,"answer_id":71589158,"question_id":52555036,"body_markdown":"If you are running Java 8 update 191 or later, or Java 10, 11,12, 13 etc. you **must NOT** use the `UseCGroupMemoryLimitForHeap` option. Instead you should use the `UseContainerSupport` that is activated by default.\r\n\r\nYou can then control the memory with the following options, `InitialRAMPercentage`, `MaxRAMPercentage` and `MinRAMPercentage`. \r\n\r\nSee https://merikan.com/2019/04/jvm-in-a-container/","title":"Do java flags Xms and Xmx overwrite flag XX:+UseCGroupMemoryLimitForHeap?","body":"<p>If you are running Java 8 update 191 or later, or Java 10, 11,12, 13 etc. you <strong>must NOT</strong> use the <code>UseCGroupMemoryLimitForHeap</code> option. Instead you should use the <code>UseContainerSupport</code> that is activated by default.</p>\n<p>You can then control the memory with the following options, <code>InitialRAMPercentage</code>, <code>MaxRAMPercentage</code> and <code>MinRAMPercentage</code>.</p>\n<p>See <a href=\"https://merikan.com/2019/04/jvm-in-a-container/\" rel=\"nofollow noreferrer\">https://merikan.com/2019/04/jvm-in-a-container/</a></p>\n"}],"owner":{"account_id":5767825,"reputation":445,"user_id":4552188,"display_name":"Dimitrios"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22727,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":52555836,"answer_count":3,"score":13,"last_activity_date":1648046437,"creation_date":1538136678,"question_id":52555036,"body_markdown":"I&#39;m running a containerized java application in Kubernetes.\r\n\r\nIn order to make the jvm reserve memory according to the container specifications, the flags ```-XX:+UnlockExperimentalVMOptions -XX:+UseCGroupMemoryLimitForHeap  ``` must be set.\r\n\r\nIf both those flags are set along with Xms and Xmx flags, what would the behavior of the jvm be? Do one flag overwrite the other?  \r\n\r\nFor example, if we had ``` java -XX:+UnlockExperimentalVMOptions -XX:+UseCGroupMemoryLimitForHeap -Xms -Xms2500M -Xmx2500M -jar myjar.jar ```\r\nin a pod with container limits 4Gi for requests and 4Gi for responses, in a host machine that has 128Gi memory, how much memory would the JVM reserve?","title":"Do java flags Xms and Xmx overwrite flag XX:+UseCGroupMemoryLimitForHeap?","body":"<p>I'm running a containerized java application in Kubernetes.</p>\n\n<p>In order to make the jvm reserve memory according to the container specifications, the flags <code>-XX:+UnlockExperimentalVMOptions -XX:+UseCGroupMemoryLimitForHeap</code> must be set.</p>\n\n<p>If both those flags are set along with Xms and Xmx flags, what would the behavior of the jvm be? Do one flag overwrite the other?  </p>\n\n<p>For example, if we had <code>java -XX:+UnlockExperimentalVMOptions -XX:+UseCGroupMemoryLimitForHeap -Xms -Xms2500M -Xmx2500M -jar myjar.jar</code>\nin a pod with container limits 4Gi for requests and 4Gi for responses, in a host machine that has 128Gi memory, how much memory would the JVM reserve?</p>\n"},{"tags":["java","debugging","bitset"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1648046368,"creation_date":1648046368,"answer_id":71589140,"question_id":71588802,"body_markdown":"I doubt this would be documented. It certainly won&#39;t be &#39;fixed&#39;, as there is no sensible fix available that doesn&#39;t break backwards compatibility, and it is nowhere near relevant enough to take such drastic steps.\r\n\r\n## Digging under the hood - why is this happening?\r\n\r\nWhilst the API docs make no such guarantee, the _effect_ of `size()` is that it simply returns the `nBits` value you passed when you constructed the `BitSet` instance... but rounded up to the next value that is evenly divisible by 64:\r\n\r\n```java\r\nsysout(new BitSet(1).size());   // 64\r\nsysout(new BitSet(63).size());  // 64\r\nsysout(new BitSet(64).size());  // 64\r\nsysout(new BitSet(65).size());  // 128\r\nsysout(new BitSet(100).size()); // 128\r\nsysout(new BitSet(128).size()); // 128\r\nsysout(new BitSet(129).size()); // 192\r\n```\r\n\r\nThis is logical; the implementation uses an array of `long` values to store these bits (as that&#39;s (by a factor of 8!) more efficient than using e.g. a `boolean[]`, as each boolean still takes up a byte in an array, and an entire long&#39;s worth of bits as lone variable).\r\n\r\nThe spec doesn&#39;t _guarantee_ this, but it explains why this is happening.\r\n\r\nIt then also explains why you are witnessing what you are: `Integer.MAX_VALUE` is 2147483647. Round that up to the nearest multiple of 64 and you get... 2147483648. Which __overflows `int`__ - and `Integer.MAX_VALUE + 1` / `(int) 2147483648L` - are both the same value: -2147483648. That is the _one_ value that exists in signed `int` space as a negative number with no matching positive number (that makes sense too: Some bit sequence needs to represent 0 which is neither positive or negative. By convention / by the rules of 2s complement, which is how java represents in bit form all numbers, the 0 is in the &#39;positive&#39; space (given that it&#39;s all 0 bits). It thus &#39;leaches&#39; a number from there, and that number is 2147483648.\r\n\r\n## Let&#39;s fix it!\r\n\r\nOne easy fix is to have the `size()` method return a `long` instead, which can trivially represent 2147483648, which is the correct answer. Unfortunately, this is not backwards compatible. Hence, extremely unlikely to succeed if one would ask for that change.\r\n\r\nAnother fix is to create a second method with some throw-in-the-towel name such as `accurateSize()` or whatnot, so that `size()` remains unmolested and thus backwards compatibility is preserved, which does return `long`. But this is dirtying up the API forever, for a detail that is irrelevant for all cases except the largest 63 numbers you can ask for. (Integer.MAX_VALUE-62 through Integer.MAX_VALUE are the only values you can pass for nBits which result in `size()` returning a negative value. The negative value returned will always be `Integer.MIN_VALUE`. I doubt they&#39;d do that.\r\n\r\nA third fix is to lie and return Integer.MAX_VALUE instead, which isn&#39;t quite the right value (as 1 bit more is in fact &#39;available&#39; in the bit space). Given that you can&#39;t actually &#39;set&#39; that bit value, as you can&#39;t pass 2147483648 to the constructor (as you must pass an `int`, that number is not passable as an int, if you try you end up with -2147483648, which is negative and causes the constructor to throw, hence not giving you an instance: Without hackery such as using reflection to set private fields, which APIs do not need to adress, you can&#39;t make a BitSet that can actually _store_ the value of the 2147483648th bit.\r\n\r\nThis then gets us to what the point of `size()` is. Is it for telling you the amount of bytes that the BitSet object occupies? If that&#39;s the point, it&#39;s never been a great way to go about it: The JVM doesn&#39;t guarantee that a `long[]`&#39;s memory size is arrSize*8 bytes (though all JVM impls have that, + some low overhead for the array&#39;s header structure).\r\n\r\nInstead it is perhaps simply to let you know what you can do with it. Even if you call, say, `new BitSet(5)`, you can still set the 6th bit (because why not - it doesn&#39;t &quot;cost&quot; anything, I guess that was the intent). You can set all bits from 0 up to the `.size()` minus 1.\r\n\r\n## And this gets us to the real answer!\r\n\r\nsize() is not actually broken. The number returned is entirely correct: That is, in fact, the size. It&#39;s merely that when you print it, it &#39;prints wrong&#39; - because `size()`&#39;s return value should be interpreted as __unsigned__. The javadoc of `size()` explicitly calls out its only point, which is to take that number, and subtract 1: This then tells you the maximum element you can set.\r\n\r\n__And this works just fine__:\r\n\r\n```java\r\nBitSet x = new BitSet(Integer.MAX_VALUE);\r\nint maxIndex = x.size() - 1;\r\nSystem.out.println(maxIndex);\r\nx.set(maxIndex);\r\n```\r\n\r\nThe above code works fine. That maxIndex value is 2147483647 (Which is Integer.MAX_VALUE) as expected.\r\n\r\nHence, there&#39;s really nothing to do here: The API is fine as is and does what it suggests you use it for accurately. Any API you care to come up with that&#39;s &#39;better&#39; would be backwards incompatible; changing BitSet is not a good idea, adding more methods, `java.util.Vector` style uglies up the API which is definitely a case of the cure being worse than the disease.\r\n\r\nThat _just_ leaves adding notes to the docs. If you delve into this level of exotics in docs, you end up with huge documentation that is, again, a cure worse than the disease. The sustainable solution would perhaps be for javadoc to gain a fundamental ability to write esoteric footnotes, which e.g. the `javadoc` tool can turn into HTML by way of a &#39;folding&#39; popdown interface element that is folded up by default (i.e. the exotic footnotes are not visible), but can be expanded if you really want to read the details.\r\n\r\nJavadoc doesn&#39;t have this.\r\n\r\nCONCLUSION: One can easily argue the API isn&#39;t broken at all; nothing in `size()` explicitly says that the returned value should be interpreted as a signed int; the only explicit promise is that you can subtract 1 from the result and use that as index, which works fine. At best, you could file a bug report to get the docs updated, except that&#39;s not a good idea because it&#39;s not (easily) possible to add such esoterics to the documentation. If you do want to go down that path, there&#39;s a lot more of this sort of thing in the JDK libraries that aren&#39;t documented either.","title":"BitSet.size() returns negative value. Known bug?","body":"<p>I doubt this would be documented. It certainly won't be 'fixed', as there is no sensible fix available that doesn't break backwards compatibility, and it is nowhere near relevant enough to take such drastic steps.</p>\n<h2>Digging under the hood - why is this happening?</h2>\n<p>Whilst the API docs make no such guarantee, the <em>effect</em> of <code>size()</code> is that it simply returns the <code>nBits</code> value you passed when you constructed the <code>BitSet</code> instance... but rounded up to the next value that is evenly divisible by 64:</p>\n<pre class=\"lang-java prettyprint-override\"><code>sysout(new BitSet(1).size());   // 64\nsysout(new BitSet(63).size());  // 64\nsysout(new BitSet(64).size());  // 64\nsysout(new BitSet(65).size());  // 128\nsysout(new BitSet(100).size()); // 128\nsysout(new BitSet(128).size()); // 128\nsysout(new BitSet(129).size()); // 192\n</code></pre>\n<p>This is logical; the implementation uses an array of <code>long</code> values to store these bits (as that's (by a factor of 8!) more efficient than using e.g. a <code>boolean[]</code>, as each boolean still takes up a byte in an array, and an entire long's worth of bits as lone variable).</p>\n<p>The spec doesn't <em>guarantee</em> this, but it explains why this is happening.</p>\n<p>It then also explains why you are witnessing what you are: <code>Integer.MAX_VALUE</code> is 2147483647. Round that up to the nearest multiple of 64 and you get... 2147483648. Which <strong>overflows <code>int</code></strong> - and <code>Integer.MAX_VALUE + 1</code> / <code>(int) 2147483648L</code> - are both the same value: -2147483648. That is the <em>one</em> value that exists in signed <code>int</code> space as a negative number with no matching positive number (that makes sense too: Some bit sequence needs to represent 0 which is neither positive or negative. By convention / by the rules of 2s complement, which is how java represents in bit form all numbers, the 0 is in the 'positive' space (given that it's all 0 bits). It thus 'leaches' a number from there, and that number is 2147483648.</p>\n<h2>Let's fix it!</h2>\n<p>One easy fix is to have the <code>size()</code> method return a <code>long</code> instead, which can trivially represent 2147483648, which is the correct answer. Unfortunately, this is not backwards compatible. Hence, extremely unlikely to succeed if one would ask for that change.</p>\n<p>Another fix is to create a second method with some throw-in-the-towel name such as <code>accurateSize()</code> or whatnot, so that <code>size()</code> remains unmolested and thus backwards compatibility is preserved, which does return <code>long</code>. But this is dirtying up the API forever, for a detail that is irrelevant for all cases except the largest 63 numbers you can ask for. (Integer.MAX_VALUE-62 through Integer.MAX_VALUE are the only values you can pass for nBits which result in <code>size()</code> returning a negative value. The negative value returned will always be <code>Integer.MIN_VALUE</code>. I doubt they'd do that.</p>\n<p>A third fix is to lie and return Integer.MAX_VALUE instead, which isn't quite the right value (as 1 bit more is in fact 'available' in the bit space). Given that you can't actually 'set' that bit value, as you can't pass 2147483648 to the constructor (as you must pass an <code>int</code>, that number is not passable as an int, if you try you end up with -2147483648, which is negative and causes the constructor to throw, hence not giving you an instance: Without hackery such as using reflection to set private fields, which APIs do not need to adress, you can't make a BitSet that can actually <em>store</em> the value of the 2147483648th bit.</p>\n<p>This then gets us to what the point of <code>size()</code> is. Is it for telling you the amount of bytes that the BitSet object occupies? If that's the point, it's never been a great way to go about it: The JVM doesn't guarantee that a <code>long[]</code>'s memory size is arrSize*8 bytes (though all JVM impls have that, + some low overhead for the array's header structure).</p>\n<p>Instead it is perhaps simply to let you know what you can do with it. Even if you call, say, <code>new BitSet(5)</code>, you can still set the 6th bit (because why not - it doesn't &quot;cost&quot; anything, I guess that was the intent). You can set all bits from 0 up to the <code>.size()</code> minus 1.</p>\n<h2>And this gets us to the real answer!</h2>\n<p>size() is not actually broken. The number returned is entirely correct: That is, in fact, the size. It's merely that when you print it, it 'prints wrong' - because <code>size()</code>'s return value should be interpreted as <strong>unsigned</strong>. The javadoc of <code>size()</code> explicitly calls out its only point, which is to take that number, and subtract 1: This then tells you the maximum element you can set.</p>\n<p><strong>And this works just fine</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BitSet x = new BitSet(Integer.MAX_VALUE);\nint maxIndex = x.size() - 1;\nSystem.out.println(maxIndex);\nx.set(maxIndex);\n</code></pre>\n<p>The above code works fine. That maxIndex value is 2147483647 (Which is Integer.MAX_VALUE) as expected.</p>\n<p>Hence, there's really nothing to do here: The API is fine as is and does what it suggests you use it for accurately. Any API you care to come up with that's 'better' would be backwards incompatible; changing BitSet is not a good idea, adding more methods, <code>java.util.Vector</code> style uglies up the API which is definitely a case of the cure being worse than the disease.</p>\n<p>That <em>just</em> leaves adding notes to the docs. If you delve into this level of exotics in docs, you end up with huge documentation that is, again, a cure worse than the disease. The sustainable solution would perhaps be for javadoc to gain a fundamental ability to write esoteric footnotes, which e.g. the <code>javadoc</code> tool can turn into HTML by way of a 'folding' popdown interface element that is folded up by default (i.e. the exotic footnotes are not visible), but can be expanded if you really want to read the details.</p>\n<p>Javadoc doesn't have this.</p>\n<p>CONCLUSION: One can easily argue the API isn't broken at all; nothing in <code>size()</code> explicitly says that the returned value should be interpreted as a signed int; the only explicit promise is that you can subtract 1 from the result and use that as index, which works fine. At best, you could file a bug report to get the docs updated, except that's not a good idea because it's not (easily) possible to add such esoterics to the documentation. If you do want to go down that path, there's a lot more of this sort of thing in the JDK libraries that aren't documented either.</p>\n"}],"owner":{"account_id":2062486,"reputation":6486,"user_id":1838726,"accept_rate":63,"display_name":"Daniel S."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":71589140,"answer_count":1,"score":4,"last_activity_date":1648046368,"creation_date":1648045029,"question_id":71588802,"body_markdown":"`new BitSet(Integer.MAX_VALUE).size()` reports a negative value:\r\n\r\n    import java.util.BitSet;\r\n    \r\n    public class NegativeBitSetSize {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tBitSet a;\r\n    \r\n    \t\ta = new BitSet(Integer.MAX_VALUE);\r\n    \t\tSystem.out.println(a.size()); // -2147483648\r\n    \r\n    \t\ta = new BitSet(Integer.MAX_VALUE - 50);\r\n    \t\tSystem.out.println(a.size()); // -2147483648\r\n    \r\n    \t\ta = new BitSet(Integer.MAX_VALUE - 62);\r\n    \t\tSystem.out.println(a.size()); // -2147483648\r\n    \r\n    \t\ta = new BitSet(Integer.MAX_VALUE - 63);\r\n    \t\tSystem.out.println(a.size()); // 2147483584\r\n    \t}\r\n    }\r\n\r\nOn the test system:\r\n\r\n    $ java -version\r\n    openjdk version &quot;11.0.14&quot; 2022-01-18\r\n    OpenJDK Runtime Environment (build 11.0.14+9-Ubuntu-0ubuntu2.18.04)\r\n    OpenJDK 64-Bit Server VM (build 11.0.14+9-Ubuntu-0ubuntu2.18.04, mixed mode, sharing)\r\n\r\nI couldn&#39;t find a bug report for this. Is this known or documented?","title":"BitSet.size() returns negative value. Known bug?","body":"<p><code>new BitSet(Integer.MAX_VALUE).size()</code> reports a negative value:</p>\n<pre><code>import java.util.BitSet;\n\npublic class NegativeBitSetSize {\n    public static void main(String[] args) {\n        BitSet a;\n\n        a = new BitSet(Integer.MAX_VALUE);\n        System.out.println(a.size()); // -2147483648\n\n        a = new BitSet(Integer.MAX_VALUE - 50);\n        System.out.println(a.size()); // -2147483648\n\n        a = new BitSet(Integer.MAX_VALUE - 62);\n        System.out.println(a.size()); // -2147483648\n\n        a = new BitSet(Integer.MAX_VALUE - 63);\n        System.out.println(a.size()); // 2147483584\n    }\n}\n</code></pre>\n<p>On the test system:</p>\n<pre><code>$ java -version\nopenjdk version &quot;11.0.14&quot; 2022-01-18\nOpenJDK Runtime Environment (build 11.0.14+9-Ubuntu-0ubuntu2.18.04)\nOpenJDK 64-Bit Server VM (build 11.0.14+9-Ubuntu-0ubuntu2.18.04, mixed mode, sharing)\n</code></pre>\n<p>I couldn't find a bug report for this. Is this known or documented?</p>\n"},{"tags":["java","arrays","compare"],"comments":[{"owner":{"account_id":10418091,"reputation":932,"user_id":7681514,"display_name":"Matt"},"score":1,"creation_date":1647955111,"post_id":71572697,"comment_id":126496842,"body_markdown":"For your example, if `userRecipe` had sugar at index 3 and flour at index 1, would the accuracy still be expected to be 75% or should it be 25% since they are out of order?","body":"For your example, if <code>userRecipe</code> had sugar at index 3 and flour at index 1, would the accuracy still be expected to be 75% or should it be 25% since they are out of order?"},{"owner":{"account_id":24644681,"reputation":197,"user_id":18542460,"display_name":"Chspsa"},"score":0,"creation_date":1647955168,"post_id":71572697,"comment_id":126496869,"body_markdown":"it would still be 75%. Assume that The lists have already been sorted, by the way.","body":"it would still be 75%. Assume that The lists have already been sorted, by the way."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":2,"creation_date":1647955908,"post_id":71572697,"comment_id":126497201,"body_markdown":"How do you score someone who overspecifies the recipe.  Includes 5 items but only 2 match.   Or includes 6 items of which 4 match the recipe exactly.","body":"How do you score someone who overspecifies the recipe.  Includes 5 items but only 2 match.   Or includes 6 items of which 4 match the recipe exactly."},{"owner":{"account_id":24644681,"reputation":197,"user_id":18542460,"display_name":"Chspsa"},"score":0,"creation_date":1647956036,"post_id":71572697,"comment_id":126497245,"body_markdown":"You should lose percent for each mistake, and yes that is a mistake so -percent.","body":"You should lose percent for each mistake, and yes that is a mistake so -percent."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1647956122,"post_id":71572697,"comment_id":126497285,"body_markdown":"So for my question, it would be 40% (2 out of 5) and (66% 4 out of 6)?","body":"So for my question, it would be 40% (2 out of 5) and (66% 4 out of 6)?"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1647961887,"post_id":71572697,"comment_id":126500001,"body_markdown":"What would the percentages be for two userRecipes of one ingredient each.  `[eggs]` for one and `[milk]` for the other.","body":"What would the percentages be for two userRecipes of one ingredient each.  <code>[eggs]</code> for one and <code>[milk]</code> for the other."},{"owner":{"account_id":24644681,"reputation":197,"user_id":18542460,"display_name":"Chspsa"},"score":0,"creation_date":1647962147,"post_id":71572697,"comment_id":126500098,"body_markdown":"0% for [eggs] vs [milk]. Also yes for other q.","body":"0% for [eggs] vs [milk]. Also yes for other q."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1647962281,"post_id":71572697,"comment_id":126500160,"body_markdown":"Just to be certain before you accept my answer, please check my percentages.","body":"Just to be certain before you accept my answer, please check my percentages."},{"owner":{"account_id":24644681,"reputation":197,"user_id":18542460,"display_name":"Chspsa"},"score":1,"creation_date":1647962489,"post_id":71572697,"comment_id":126500251,"body_markdown":"Yes, it produces the results I expected. Thank you!","body":"Yes, it produces the results I expected. Thank you!"}],"answers":[{"tags":[],"owner":{"account_id":10418091,"reputation":932,"user_id":7681514,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647955872,"creation_date":1647955528,"answer_id":71572860,"question_id":71572697,"body_markdown":"Assuming the lists are in sorted order, to solve this problem optimally (without running in O(n^2) time), this is a classic _manipulate two pointers_ problem.\r\n\r\n```java\r\nint increase = 100 / userRecipe.size();\r\nint userIndex = 0;\r\nint bookIndex = 0;\r\nwhile (bookIndex &lt; boockRecipe.size() &amp;&amp; userIndex &lt; userRecipe.size()) {\r\n    if (userRecipe.get(userIndex).equals(bookRecipe.get(bookIndex))) {\r\n        percentage += increase;\r\n        bookIndex++;\r\n    }\r\n    userIndex++;\r\n}\r\n```\r\nThis will only loop through each list _once_.","title":"comparing two arrays and getting similarity java","body":"<p>Assuming the lists are in sorted order, to solve this problem optimally (without running in O(n^2) time), this is a classic <em>manipulate two pointers</em> problem.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int increase = 100 / userRecipe.size();\nint userIndex = 0;\nint bookIndex = 0;\nwhile (bookIndex &lt; boockRecipe.size() &amp;&amp; userIndex &lt; userRecipe.size()) {\n    if (userRecipe.get(userIndex).equals(bookRecipe.get(bookIndex))) {\n        percentage += increase;\n        bookIndex++;\n    }\n    userIndex++;\n}\n</code></pre>\n<p>This will only loop through each list <em>once</em>.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647962002,"creation_date":1647958557,"answer_id":71573568,"question_id":71572697,"body_markdown":"Here is my take on this.\r\n- use a set to hold the recipe ingredients.\r\n- then simply stream each submission and get the count of correct ingredients.\r\n- then compute the percentage based on the larger of the submitted ingredient count and the recipe count (to penalize for over specifying)\r\n\r\nThis works regardless of the order of the ingredients and works in linear time for each user due to the use of a set to hold the recipe.\r\n```\r\nSet&lt;String&gt; bookRecipe = Set.of(&quot;sugar&quot;, &quot;eggs&quot;, &quot;flour&quot;);\r\ndouble ingredientCount = bookRecipe.size();\r\n\r\nList&lt;List&lt;String&gt;&gt; entries = List.of(List.of(&quot;milk&quot;, &quot;sugar&quot;),\r\n\t\tList.of(&quot;milk&quot;, &quot;sugar&quot;, &quot;eggs&quot;, &quot;flour&quot;),\r\n\t\tList.of(&quot;milk&quot;, &quot;sugar&quot;, &quot;eggs&quot;, &quot;flour&quot;, &quot;beer&quot;),\r\n\t\tList.of(&quot;milk&quot;, &quot;sugar&quot;, &quot;whiskey&quot;, &quot;paint&quot;),\r\n\t\tList.of(&quot;milk&quot;, &quot;sugar&quot;, &quot;eggs&quot;, &quot;beer&quot;, &quot;hay&quot;),\r\n\t\tList.of(&quot;milk&quot;, &quot;beer&quot;, &quot;hay&quot;),\r\n\t\tList.of(&quot;milk&quot;, &quot;sugar&quot;, &quot;eggs&quot;, &quot;beer&quot;, &quot;hay&quot;,\r\n\t\t\t\t&quot;orange juice&quot;));\r\n\r\nSystem.out.println(&quot;Recipe: &quot; + bookRecipe + &quot;\\n&quot;);\r\nfor (List&lt;String&gt; submission : entries) {\r\n\tlong correct = submission.stream()\r\n\t\t\t.filter(ingredient -&gt; bookRecipe.contains(ingredient))\r\n\t\t\t.count();\r\n\t\r\n\tdouble percentage = correct\r\n\t\t\t/ Math.max(ingredientCount, submission.size());\r\n\t\r\n\tSystem.out.printf(&quot;%3d%% - %s%n&quot;,\r\n\t\t\t(int) (percentage * 100), submission);\r\n}\r\n```\r\nprints\r\n```\r\nRecipe: [eggs, flour, sugar]\r\n\r\n 33% - [milk, sugar]\r\n 33% - [eggs]\r\n  0% - [milk]\r\n 75% - [milk, sugar, eggs, flour]\r\n 60% - [milk, sugar, eggs, flour, beer]\r\n 25% - [milk, sugar, whiskey, paint]\r\n 40% - [milk, sugar, eggs, beer, hay]\r\n  0% - [milk, beer, hay]\r\n  0% - [beer, chips, salsa]\r\n 33% - [milk, sugar, eggs, beer, hay, orange juice]","title":"comparing two arrays and getting similarity java","body":"<p>Here is my take on this.</p>\n<ul>\n<li>use a set to hold the recipe ingredients.</li>\n<li>then simply stream each submission and get the count of correct ingredients.</li>\n<li>then compute the percentage based on the larger of the submitted ingredient count and the recipe count (to penalize for over specifying)</li>\n</ul>\n<p>This works regardless of the order of the ingredients and works in linear time for each user due to the use of a set to hold the recipe.</p>\n<pre><code>Set&lt;String&gt; bookRecipe = Set.of(&quot;sugar&quot;, &quot;eggs&quot;, &quot;flour&quot;);\ndouble ingredientCount = bookRecipe.size();\n\nList&lt;List&lt;String&gt;&gt; entries = List.of(List.of(&quot;milk&quot;, &quot;sugar&quot;),\n        List.of(&quot;milk&quot;, &quot;sugar&quot;, &quot;eggs&quot;, &quot;flour&quot;),\n        List.of(&quot;milk&quot;, &quot;sugar&quot;, &quot;eggs&quot;, &quot;flour&quot;, &quot;beer&quot;),\n        List.of(&quot;milk&quot;, &quot;sugar&quot;, &quot;whiskey&quot;, &quot;paint&quot;),\n        List.of(&quot;milk&quot;, &quot;sugar&quot;, &quot;eggs&quot;, &quot;beer&quot;, &quot;hay&quot;),\n        List.of(&quot;milk&quot;, &quot;beer&quot;, &quot;hay&quot;),\n        List.of(&quot;milk&quot;, &quot;sugar&quot;, &quot;eggs&quot;, &quot;beer&quot;, &quot;hay&quot;,\n                &quot;orange juice&quot;));\n\nSystem.out.println(&quot;Recipe: &quot; + bookRecipe + &quot;\\n&quot;);\nfor (List&lt;String&gt; submission : entries) {\n    long correct = submission.stream()\n            .filter(ingredient -&gt; bookRecipe.contains(ingredient))\n            .count();\n    \n    double percentage = correct\n            / Math.max(ingredientCount, submission.size());\n    \n    System.out.printf(&quot;%3d%% - %s%n&quot;,\n            (int) (percentage * 100), submission);\n}\n</code></pre>\n<p>prints</p>\n<pre><code>Recipe: [eggs, flour, sugar]\n\n 33% - [milk, sugar]\n 33% - [eggs]\n  0% - [milk]\n 75% - [milk, sugar, eggs, flour]\n 60% - [milk, sugar, eggs, flour, beer]\n 25% - [milk, sugar, whiskey, paint]\n 40% - [milk, sugar, eggs, beer, hay]\n  0% - [milk, beer, hay]\n  0% - [beer, chips, salsa]\n 33% - [milk, sugar, eggs, beer, hay, orange juice]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12185213,"reputation":13,"user_id":8895306,"display_name":"Sagar Basnet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648046316,"creation_date":1648046316,"answer_id":71589125,"question_id":71572697,"body_markdown":"I think you mean Something like this.\r\n \r\n\r\n    public static void main(String[] args) {\r\n    \r\n    \r\n    \r\n    \r\n    \r\n        String[] s1 = {&quot;A&quot;, &quot;B&quot;, &quot;D&quot;};//userRecipe\r\n        String[] s2 = {&quot;A&quot;, &quot;B&quot;, &quot;C&quot;,&quot;D&quot;,&quot;E&quot;};//bookRecipe\r\n    \r\n        int percent=0;\r\n    \r\n        int largerCount=s1.length&gt;s2.length ? s1.length:s2.length;\r\n        int smallerCount=s1.length&lt;s2.length ? s1.length:s2.length;\r\n        String[] largeArr =s1.length&gt;s2.length ?s1:s2;\r\n        String[] smallerArr =s1.length&lt;s2.length ?s1:s2;\r\n    \r\n        for(String x:largeArr)\r\n            for (String y:smallerArr) {\r\n                if (x==y) percent++;\r\n            }\r\n    \r\n        System.out.println((percent*100)/largerCount+&quot;%&quot;);\r\n    \r\n    }","title":"comparing two arrays and getting similarity java","body":"<p>I think you mean Something like this.</p>\n<pre><code>public static void main(String[] args) {\n\n\n\n\n\n    String[] s1 = {&quot;A&quot;, &quot;B&quot;, &quot;D&quot;};//userRecipe\n    String[] s2 = {&quot;A&quot;, &quot;B&quot;, &quot;C&quot;,&quot;D&quot;,&quot;E&quot;};//bookRecipe\n\n    int percent=0;\n\n    int largerCount=s1.length&gt;s2.length ? s1.length:s2.length;\n    int smallerCount=s1.length&lt;s2.length ? s1.length:s2.length;\n    String[] largeArr =s1.length&gt;s2.length ?s1:s2;\n    String[] smallerArr =s1.length&lt;s2.length ?s1:s2;\n\n    for(String x:largeArr)\n        for (String y:smallerArr) {\n            if (x==y) percent++;\n        }\n\n    System.out.println((percent*100)/largerCount+&quot;%&quot;);\n\n}\n</code></pre>\n"}],"owner":{"account_id":24644681,"reputation":197,"user_id":18542460,"display_name":"Chspsa"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":425,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71573568,"answer_count":3,"score":1,"last_activity_date":1648046316,"creation_date":1647954868,"question_id":71572697,"body_markdown":"I have two arrays on my own custom objects. I need to find the amount of similarity to score it. The user will submit a recipe that they cooked and the program should score how accurate it was to the original recipe. Here is what I tried:\r\n\r\n    int increase = 100 / userRecipe.size();\r\n    for(int i = 0; i &lt; userRecipe.size(); i++) {\r\n        if(userRecipe.get(i).equals(bookRecipe.get(i))) {\r\n             percent += increase;\r\n        }\r\n    }\r\n\r\nHowever the major flaw with this solution is that in theory, these two recipes below are scored 0% accuracy when it should be 75%.\r\n\r\n    Item[] userRecipe = {milk, sugar, eggs, flour};\r\n    Item[] bookRecipe = {sugar, eggs, flour};\r\n\r\nHowever it doesn&#39;t work because the two lists are different lengths so it doesn&#39;t work. If anyone knows how I should approach this, I&#39;d appreciate it. Here are the problems\r\n\r\n - The userRecipe list may be larger or smaller than the bookRecipe\r\n - The offset makes scoring inaccurate\r\n\r\nI am a relative beginner to java, so if anyone wouldn&#39;t mind giving me a good solution, I&#39;d appreciate it! Thank you.","title":"comparing two arrays and getting similarity java","body":"<p>I have two arrays on my own custom objects. I need to find the amount of similarity to score it. The user will submit a recipe that they cooked and the program should score how accurate it was to the original recipe. Here is what I tried:</p>\n<pre><code>int increase = 100 / userRecipe.size();\nfor(int i = 0; i &lt; userRecipe.size(); i++) {\n    if(userRecipe.get(i).equals(bookRecipe.get(i))) {\n         percent += increase;\n    }\n}\n</code></pre>\n<p>However the major flaw with this solution is that in theory, these two recipes below are scored 0% accuracy when it should be 75%.</p>\n<pre><code>Item[] userRecipe = {milk, sugar, eggs, flour};\nItem[] bookRecipe = {sugar, eggs, flour};\n</code></pre>\n<p>However it doesn't work because the two lists are different lengths so it doesn't work. If anyone knows how I should approach this, I'd appreciate it. Here are the problems</p>\n<ul>\n<li>The userRecipe list may be larger or smaller than the bookRecipe</li>\n<li>The offset makes scoring inaccurate</li>\n</ul>\n<p>I am a relative beginner to java, so if anyone wouldn't mind giving me a good solution, I'd appreciate it! Thank you.</p>\n"},{"tags":["java","spring-boot","validation","spring-integration","spring-integration-dsl"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648046143,"creation_date":1648046143,"answer_id":71589076,"question_id":71587443,"body_markdown":"This is not what `Validator` contract is for. You cannot return from it anything. You can use such a `validate()` in other wrapper service and then in the end you consult that `errors` to be able to return whatever you want via its `hasErrors()` and `getAllErrors()`.\r\n\r\nI have showed you some way in this answer: https://stackoverflow.com/questions/71575227/validator-spring-integration","title":"Validator Exception Spring Integration: returning an error message in validator","body":"<p>This is not what <code>Validator</code> contract is for. You cannot return from it anything. You can use such a <code>validate()</code> in other wrapper service and then in the end you consult that <code>errors</code> to be able to return whatever you want via its <code>hasErrors()</code> and <code>getAllErrors()</code>.</p>\n<p>I have showed you some way in this answer: <a href=\"https://stackoverflow.com/questions/71575227/validator-spring-integration\">Validator Spring integration</a></p>\n"}],"owner":{"account_id":24427070,"reputation":101,"user_id":18352519,"display_name":"Bash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71589076,"answer_count":1,"score":1,"last_activity_date":1648046143,"creation_date":1648039392,"question_id":71587443,"body_markdown":"Does anybody has an idea about how I can return an error message. I am trying to return an specific xml error message in my validator. This is my code: \r\n```\r\n @Override\r\n    public void validate(Object target, Errors errors) {\r\n        try {\r\n            ValidationClassUtil.validateDocument(new String((byte[]) target), xmlVersionEnum);\r\n            (//should the error be returned here when I send an invalid xml file over http?)\r\n        } catch (Exception exc) {\r\n            errors.reject(errorCode);\r\n        }\r\n    }\r\n```","title":"Validator Exception Spring Integration: returning an error message in validator","body":"<p>Does anybody has an idea about how I can return an error message. I am trying to return an specific xml error message in my validator. This is my code:</p>\n<pre><code> @Override\n    public void validate(Object target, Errors errors) {\n        try {\n            ValidationClassUtil.validateDocument(new String((byte[]) target), xmlVersionEnum);\n            (//should the error be returned here when I send an invalid xml file over http?)\n        } catch (Exception exc) {\n            errors.reject(errorCode);\n        }\n    }\n</code></pre>\n"},{"tags":["java","amazon-web-services","docker","amazon-ec2","amazon-sns"],"comments":[{"owner":{"account_id":6220603,"reputation":6013,"user_id":4840338,"display_name":"omuthu"},"score":1,"creation_date":1648045133,"post_id":71588703,"comment_id":126524888,"body_markdown":"Does this answer your question? [Passing aws credentials to Docker](https://stackoverflow.com/questions/53442954/passing-aws-credentials-to-docker)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/53442954/passing-aws-credentials-to-docker\">Passing aws credentials to Docker</a>"},{"owner":{"account_id":13863020,"reputation":137033,"user_id":10008173,"display_name":"David Maze"},"score":3,"creation_date":1648045284,"post_id":71588703,"comment_id":126524977,"body_markdown":"Can you replace the &quot;enter image description here&quot; link with the actual text of the error you&#39;re getting?  What credentials are you getting in the two cases, and how do you expect the process to get them?","body":"Can you replace the &quot;enter image description here&quot; link with the actual text of the error you&#39;re getting?  What credentials are you getting in the two cases, and how do you expect the process to get them?"},{"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":1,"creation_date":1648045383,"post_id":71588703,"comment_id":126525026,"body_markdown":"There is 0 reason that you couldn&#39;t copy/paste that error message into the question itself, to make it searchable and indexable.","body":"There is 0 reason that you couldn&#39;t copy/paste that error message into the question itself, to make it searchable and indexable."},{"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1648045753,"post_id":71588703,"comment_id":126525194,"body_markdown":"@omuthu the answer you linked doesn&#39;t use an EC2 IAM role, it just uses a credentials file.","body":"@omuthu the answer you linked doesn&#39;t use an EC2 IAM role, it just uses a credentials file."}],"answers":[{"tags":[],"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648045897,"creation_date":1648045897,"answer_id":71589013,"question_id":71588703,"body_markdown":"The EC2 metadata service is not available inside a Docker container running on the EC2 instance. There are some projects out there that try to solve that issue, like [this one][1].\r\n\r\nOtherwise you would need to pass IAM credentials to the container in some other way, for example through environment variables.\r\n\r\nOf course if you were using AWS ECS, you would be able to assign an IAM role to your container.\r\n\r\n\r\n  [1]: https://github.com/dump247/ec2metaproxy","title":"Docker is not able to pick IAM role when running on EC2 instance","body":"<p>The EC2 metadata service is not available inside a Docker container running on the EC2 instance. There are some projects out there that try to solve that issue, like <a href=\"https://github.com/dump247/ec2metaproxy\" rel=\"nofollow noreferrer\">this one</a>.</p>\n<p>Otherwise you would need to pass IAM credentials to the container in some other way, for example through environment variables.</p>\n<p>Of course if you were using AWS ECS, you would be able to assign an IAM role to your container.</p>\n"}],"owner":{"account_id":23462967,"reputation":39,"user_id":17517576,"display_name":"elves 0055"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1712,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1648045897,"creation_date":1648044718,"question_id":71588703,"body_markdown":"I am using below code to publish message to SNS. \r\n \r\n\r\n    AmazonSNSclient snsClient=null;\r\n    snsClient=AmazonSNSClientBuilder.standard.withRegion(&quot;us-east-2&quot;).build();\r\n    snsClient.publish(topicAr,&quot;Sample SNS Message&quot;);\r\n\r\nThis code is inside a java servlet and it&#39;s war is deployed using docker on EC2 instance.\r\nThe issue is docker is unable to pick the IAM role from Ec2 instance hence failing to publish a message to SNS \r\n\r\n**Background:**\r\nWhen I am running the above code via EC2 instance terminal, I am able to publish message.\r\nBut When I am putting this code in java servlet based application and deploying the war of it on Docker, It is not able to publish the message because it is not getting IAM role.\r\n\r\nError message is in the screen short.\r\n\r\n[enter image description here][1]   \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kdIfd.png","title":"Docker is not able to pick IAM role when running on EC2 instance","body":"<p>I am using below code to publish message to SNS.</p>\n<pre><code>AmazonSNSclient snsClient=null;\nsnsClient=AmazonSNSClientBuilder.standard.withRegion(&quot;us-east-2&quot;).build();\nsnsClient.publish(topicAr,&quot;Sample SNS Message&quot;);\n</code></pre>\n<p>This code is inside a java servlet and it's war is deployed using docker on EC2 instance.\nThe issue is docker is unable to pick the IAM role from Ec2 instance hence failing to publish a message to SNS</p>\n<p><strong>Background:</strong>\nWhen I am running the above code via EC2 instance terminal, I am able to publish message.\nBut When I am putting this code in java servlet based application and deploying the war of it on Docker, It is not able to publish the message because it is not getting IAM role.</p>\n<p>Error message is in the screen short.</p>\n<p><a href=\"https://i.stack.imgur.com/kdIfd.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","spring-boot","spring-integration","spring-messaging"],"comments":[{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1647914846,"post_id":71565251,"comment_id":126485992,"body_markdown":"Show us , please, where you call that gateway from? How does it work without Lazy though ?","body":"Show us , please, where you call that gateway from? How does it work without Lazy though ?"},{"owner":{"account_id":1964174,"reputation":7,"user_id":1764845,"display_name":"Razor"},"score":0,"creation_date":1648038430,"post_id":71565251,"comment_id":126521839,"body_markdown":"Sorry for late response, and yes, the issue was with lazy init. Made a workaround to get rid of lazy init, everything is working fine now. Post this as an answer, will approve. And thanks for working idea!","body":"Sorry for late response, and yes, the issue was with lazy init. Made a workaround to get rid of lazy init, everything is working fine now. Post this as an answer, will approve. And thanks for working idea!"}],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648045854,"creation_date":1648045854,"answer_id":71589004,"question_id":71565251,"body_markdown":"The `@Lazy` may have some effect on those beans initialization. Consider to divide your configuration logic to extract only those beans which cannot live with `@Lazy`. And don&#39;t apply it for those Spring Integration components.","title":"Dispatcher has no subscribers for outgoing sftp channel","body":"<p>The <code>@Lazy</code> may have some effect on those beans initialization. Consider to divide your configuration logic to extract only those beans which cannot live with <code>@Lazy</code>. And don't apply it for those Spring Integration components.</p>\n"}],"owner":{"account_id":1964174,"reputation":7,"user_id":1764845,"display_name":"Razor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71589004,"answer_count":1,"score":0,"last_activity_date":1648045854,"creation_date":1647904684,"question_id":71565251,"body_markdown":"I&#39;m using spring-integration-sftp and my goal is to push local file to SFTP (just that for now, without confirmation or anything else). My configuration is as follows:\r\n\r\n   \r\n\r\n    @EnableIntegration\r\n    @IntegrationComponentScan\r\n    @Configuration\r\n    @Lazy\r\n    public class SftpConfiguration {\r\n    \r\n    \t@Bean(name = &quot;toSftpChannel&quot;)\r\n    \tpublic MessageChannel sftpMessageChannel() {\r\n    \t\treturn new DirectChannel();\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic DefaultSftpSessionFactory sftpSessionFactory(\r\n    \t\t\t@Qualifier(&quot;sftpDestination&quot;) SftpPropertiesService sftpPropertiesService \r\n    \t) {\r\n    \t\tDefaultSftpSessionFactory factory = new DefaultSftpSessionFactory();\r\n    \t\tfactory.setHost(sftpPropertiesService.getServiceHost());\r\n    \t\tfactory.setPort(22);\r\n    \t\tfactory.setUser(sftpPropertiesService.getUsername());\r\n    \t\tfactory.setPassword(sftpPropertiesService.getPassword());\r\n    \t\tfactory.setAllowUnknownKeys(true);\r\n    \t\treturn factory;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic SftpRemoteFileTemplate sftpRemoteFileTemplate(DefaultSftpSessionFactory dssf,\r\n    \t\t\t@Value(&quot;${sftp.output.directory}&quot;) String outputDirectory) {\r\n    \t\tSftpRemoteFileTemplate template = new SftpRemoteFileTemplate(dssf);\r\n    \t\ttemplate.setRemoteDirectoryExpression(new LiteralExpression(outputDirectory));\r\n    \t\treturn template;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \t@ServiceActivator(inputChannel = &quot;toSftpChannel&quot;)\r\n    \tpublic MessageHandler handler(SftpRemoteFileTemplate sftpRemoteFileTemplate) {\r\n    \t\tSftpOutboundGateway gateway =\r\n    \t\t\tnew SftpOutboundGateway(sftpRemoteFileTemplate, Command.PUT.getCommand(), &quot;payload&quot;);\r\n    \t\tgateway.setFileExistsMode(FileExistsMode.FAIL);\r\n    \t\treturn gateway;\r\n    \t}\r\n    \r\n    \t@MessagingGateway\r\n    \tpublic interface OutputSftpGateway {\r\n    \t\t@Gateway(requestChannel = &quot;toSftpChannel&quot;)\r\n    \t\tvoid sendToSftp(File file);\r\n    \t}\r\n    }\r\n\r\nand sending is just\r\n\r\n    private final OutputSftpGateway outputSftpGateway;\r\n    ...\r\n    outputSftpGateway.sendToSftp(file);\r\nWhen I&#39;m running my code I at first get\r\n \r\n\r\n    A bean definition with name &#39;toSftpChannel&#39; exists, but failed to be created; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name &#39;toSftpChannel&#39;: Requested bean is currently in creation: Is there an unresolvable circular reference?\r\nwhich is kind of expected with lazy init (though still will have to fix it), but at the second and subsequent runs I&#39;m getting stuck with\r\n\r\n    Exception occurred during request processing. org.springframework.messaging.MessageDeliveryException. Dispatcher has no subscribers for channel &#39;application.toSftpChannel&#39;.; nested exception is org.springframework.integration.MessageDispatchingException: Dispatcher has no subscribers\r\nI&#39;ll honestly admit that I&#39;m new with Spring messaging magic, so the cause is probably very stupid but can someone give me a hint why this is happening and how can I fix it?","title":"Dispatcher has no subscribers for outgoing sftp channel","body":"<p>I'm using spring-integration-sftp and my goal is to push local file to SFTP (just that for now, without confirmation or anything else). My configuration is as follows:</p>\n<pre><code>@EnableIntegration\n@IntegrationComponentScan\n@Configuration\n@Lazy\npublic class SftpConfiguration {\n\n    @Bean(name = &quot;toSftpChannel&quot;)\n    public MessageChannel sftpMessageChannel() {\n        return new DirectChannel();\n    }\n\n    @Bean\n    public DefaultSftpSessionFactory sftpSessionFactory(\n            @Qualifier(&quot;sftpDestination&quot;) SftpPropertiesService sftpPropertiesService \n    ) {\n        DefaultSftpSessionFactory factory = new DefaultSftpSessionFactory();\n        factory.setHost(sftpPropertiesService.getServiceHost());\n        factory.setPort(22);\n        factory.setUser(sftpPropertiesService.getUsername());\n        factory.setPassword(sftpPropertiesService.getPassword());\n        factory.setAllowUnknownKeys(true);\n        return factory;\n    }\n\n    @Bean\n    public SftpRemoteFileTemplate sftpRemoteFileTemplate(DefaultSftpSessionFactory dssf,\n            @Value(&quot;${sftp.output.directory}&quot;) String outputDirectory) {\n        SftpRemoteFileTemplate template = new SftpRemoteFileTemplate(dssf);\n        template.setRemoteDirectoryExpression(new LiteralExpression(outputDirectory));\n        return template;\n    }\n\n    @Bean\n    @ServiceActivator(inputChannel = &quot;toSftpChannel&quot;)\n    public MessageHandler handler(SftpRemoteFileTemplate sftpRemoteFileTemplate) {\n        SftpOutboundGateway gateway =\n            new SftpOutboundGateway(sftpRemoteFileTemplate, Command.PUT.getCommand(), &quot;payload&quot;);\n        gateway.setFileExistsMode(FileExistsMode.FAIL);\n        return gateway;\n    }\n\n    @MessagingGateway\n    public interface OutputSftpGateway {\n        @Gateway(requestChannel = &quot;toSftpChannel&quot;)\n        void sendToSftp(File file);\n    }\n}\n</code></pre>\n<p>and sending is just</p>\n<pre><code>private final OutputSftpGateway outputSftpGateway;\n...\noutputSftpGateway.sendToSftp(file);\n</code></pre>\n<p>When I'm running my code I at first get</p>\n<pre><code>A bean definition with name 'toSftpChannel' exists, but failed to be created; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'toSftpChannel': Requested bean is currently in creation: Is there an unresolvable circular reference?\n</code></pre>\n<p>which is kind of expected with lazy init (though still will have to fix it), but at the second and subsequent runs I'm getting stuck with</p>\n<pre><code>Exception occurred during request processing. org.springframework.messaging.MessageDeliveryException. Dispatcher has no subscribers for channel 'application.toSftpChannel'.; nested exception is org.springframework.integration.MessageDispatchingException: Dispatcher has no subscribers\n</code></pre>\n<p>I'll honestly admit that I'm new with Spring messaging magic, so the cause is probably very stupid but can someone give me a hint why this is happening and how can I fix it?</p>\n"},{"tags":["java","spring-boot","testing","spring-security","spring-security-oauth2"],"answers":[{"tags":[],"owner":{"account_id":1708812,"reputation":790,"user_id":1567291,"accept_rate":77,"display_name":"bytor99999"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648045839,"creation_date":1648045839,"answer_id":71588999,"question_id":70354161,"body_markdown":"Have you fixed this issue?\r\n\r\nI am working on the same thing, where we have it working in one project but not another.\r\n\r\nOne thing you haven&#39;t posted is your Spring Security configuration. I am assuming you want to use it with Azure AAD. And to do that it is all done in the configuration. Since we can&#39;t see it, we can&#39;t decode if you have told Spring you want to use your custom class. Here is an example of how we used our custom one.\r\n\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    class AADOAuth2LoginSecurityConfig extends AADWebSecurityConfigurerAdapter {\r\n\r\n    @Resource\r\n    OAuth2UserService&lt;OidcUserRequest, OidcUser&gt; customOidcUserService;\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        super.configure(http);\r\n        http\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/&quot;, &quot;/login&quot;, &quot;/*.js&quot;, &quot;/*.css&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .csrf()\r\n                .disable()\r\n                .oauth2Login(oauth2Login -&gt;\r\n                        oauth2Login.userInfoEndpoint(userInfoEndpoint -&gt;\r\n                                userInfoEndpoint.oidcUserService(customOidcUserService)\r\n                        )\r\n                );\r\n    }\r\n}","title":"Integration testing loadUser call on custom OidcUserService in Spring Security","body":"<p>Have you fixed this issue?</p>\n<p>I am working on the same thing, where we have it working in one project but not another.</p>\n<p>One thing you haven't posted is your Spring Security configuration. I am assuming you want to use it with Azure AAD. And to do that it is all done in the configuration. Since we can't see it, we can't decode if you have told Spring you want to use your custom class. Here is an example of how we used our custom one.</p>\n<pre><code>@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\nclass AADOAuth2LoginSecurityConfig extends AADWebSecurityConfigurerAdapter {\n\n@Resource\nOAuth2UserService&lt;OidcUserRequest, OidcUser&gt; customOidcUserService;\n\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    super.configure(http);\n    http\n            .authorizeRequests()\n            .antMatchers(&quot;/&quot;, &quot;/login&quot;, &quot;/*.js&quot;, &quot;/*.css&quot;).permitAll()\n            .anyRequest().authenticated()\n            .and()\n            .csrf()\n            .disable()\n            .oauth2Login(oauth2Login -&gt;\n                    oauth2Login.userInfoEndpoint(userInfoEndpoint -&gt;\n                            userInfoEndpoint.oidcUserService(customOidcUserService)\n                    )\n            );\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":23460802,"reputation":31,"user_id":17515688,"display_name":"Jesse"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1648045839,"creation_date":1639507872,"question_id":70354161,"body_markdown":"I have the following class that extends `OidcUserService`:\r\n\r\n```java\r\n@Service\r\npublic class CustomOidcUserService extends OidcUserService {\r\n    private final UserProfileService profileService;\r\n\r\n    public CustomOidcUserService(UserProfileService profileService) {\r\n        this.profileService = profileService;\r\n    }\r\n\r\n    @Override\r\n    public OidcUser loadUser(OidcUserRequest userRequest) throws OAuth2AuthenticationException {\r\n        var id = UUID.fromString(userRequest.getIdToken().getSubject());\r\n        var preferredUsername = userRequest.getIdToken().getPreferredUsername();\r\n\r\n        var profile = profileService.findByUserId(id)\r\n                .orElseGet(() -&gt; profileService.createProfile(id, preferredUsername));\r\n\r\n        return new CustomUser(super.loadUser(userRequest), profile);\r\n    }\r\n}\r\n```\r\n\r\nSimple enough so far and it works fine when I run the application, however, I would like to test that this service is indeed working correctly. I&#39;ve written the following integration test:\r\n\r\n```java\r\n@SpringBootTest\r\nclass CustomOidcUserServiceTests {\r\n    @MockBean\r\n    private UserProfileService profileService;\r\n\r\n    @Autowired\r\n    private WebApplicationContext context;\r\n\r\n    private MockMvc mvc;\r\n\r\n    @BeforeEach\r\n    public void setup() {\r\n        mvc = MockMvcBuilders\r\n                .webAppContextSetup(context)\r\n                .apply(springSecurity())\r\n                .build();\r\n    }\r\n\r\n    @Test\r\n    public void whenLoadNewUser_createNewProfile() throws Exception {\r\n        when(profileService.findByUserId(any())).thenReturn(Optional.empty());\r\n        when(profileService.createProfile(any(UUID.class), anyString())).thenAnswer(i -&gt; {\r\n            var id = i.getArgument(0, UUID.class);\r\n            var displayName = i.getArgument(1, String.class);\r\n            return new UserProfile(id, displayName);\r\n        });\r\n\r\n        mvc.perform(get(&quot;/organizations/create&quot;)\r\n                .with(oidcLogin().idToken(token -&gt; {\r\n                    token.claim(IdTokenClaimNames.SUB, UUID.randomUUID());\r\n                    token.claim(&quot;preferred_username&quot;, &quot;testuser&quot;);\r\n                })));\r\n\r\n        assertThat(mockingDetails(profileService).getInvocations().size()).isEqualTo(2);\r\n    }\r\n}\r\n```\r\n\r\nHowever, the `loadUser` method is never called. How can I write a test that calls the `loadUser` method?","title":"Integration testing loadUser call on custom OidcUserService in Spring Security","body":"<p>I have the following class that extends <code>OidcUserService</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class CustomOidcUserService extends OidcUserService {\n    private final UserProfileService profileService;\n\n    public CustomOidcUserService(UserProfileService profileService) {\n        this.profileService = profileService;\n    }\n\n    @Override\n    public OidcUser loadUser(OidcUserRequest userRequest) throws OAuth2AuthenticationException {\n        var id = UUID.fromString(userRequest.getIdToken().getSubject());\n        var preferredUsername = userRequest.getIdToken().getPreferredUsername();\n\n        var profile = profileService.findByUserId(id)\n                .orElseGet(() -&gt; profileService.createProfile(id, preferredUsername));\n\n        return new CustomUser(super.loadUser(userRequest), profile);\n    }\n}\n</code></pre>\n<p>Simple enough so far and it works fine when I run the application, however, I would like to test that this service is indeed working correctly. I've written the following integration test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\nclass CustomOidcUserServiceTests {\n    @MockBean\n    private UserProfileService profileService;\n\n    @Autowired\n    private WebApplicationContext context;\n\n    private MockMvc mvc;\n\n    @BeforeEach\n    public void setup() {\n        mvc = MockMvcBuilders\n                .webAppContextSetup(context)\n                .apply(springSecurity())\n                .build();\n    }\n\n    @Test\n    public void whenLoadNewUser_createNewProfile() throws Exception {\n        when(profileService.findByUserId(any())).thenReturn(Optional.empty());\n        when(profileService.createProfile(any(UUID.class), anyString())).thenAnswer(i -&gt; {\n            var id = i.getArgument(0, UUID.class);\n            var displayName = i.getArgument(1, String.class);\n            return new UserProfile(id, displayName);\n        });\n\n        mvc.perform(get(&quot;/organizations/create&quot;)\n                .with(oidcLogin().idToken(token -&gt; {\n                    token.claim(IdTokenClaimNames.SUB, UUID.randomUUID());\n                    token.claim(&quot;preferred_username&quot;, &quot;testuser&quot;);\n                })));\n\n        assertThat(mockingDetails(profileService).getInvocations().size()).isEqualTo(2);\n    }\n}\n</code></pre>\n<p>However, the <code>loadUser</code> method is never called. How can I write a test that calls the <code>loadUser</code> method?</p>\n"},{"tags":["java","spring","hibernate","uuid"],"comments":[{"owner":{"account_id":223457,"reputation":4755,"user_id":482682,"accept_rate":95,"display_name":"Lrrr"},"score":0,"creation_date":1647955902,"post_id":71572662,"comment_id":126497199,"body_markdown":"Use IDE&#39;s debug feature or print logs in your code to see what you retrieve from DB and what happens in your service , ...","body":"Use IDE&#39;s debug feature or print logs in your code to see what you retrieve from DB and what happens in your service , ..."},{"owner":{"account_id":17900519,"reputation":13,"user_id":13004869,"display_name":"Shimshaker"},"score":0,"creation_date":1647962279,"post_id":71572662,"comment_id":126500159,"body_markdown":"I don&#39;t have any error, with debugger on spring, is just, he pretend null, and if i asking for list, that&#39;s working nice, but if asking only for one, he pretend null...I have added picture of mysql and postman upside...It&#39;s my way to ask with uuid, on problem or other&#39;s...I don&#39;t no...?Thanks for your help...","body":"I don&#39;t have any error, with debugger on spring, is just, he pretend null, and if i asking for list, that&#39;s working nice, but if asking only for one, he pretend null...I have added picture of mysql and postman upside...It&#39;s my way to ask with uuid, on problem or other&#39;s...I don&#39;t no...?Thanks for your help..."},{"owner":{"account_id":17900519,"reputation":13,"user_id":13004869,"display_name":"Shimshaker"},"score":1,"creation_date":1648045507,"post_id":71572662,"comment_id":126525088,"body_markdown":"I have found solutions with Query on repository.... `@Query(&quot;SELECT CASE WHEN COUNT(a) &gt; 0 THEN true ELSE false END FROM Annonce a WHERE a.annonce_id = :annonceId&quot;)\n    Boolean ifExistByUuid(@Param(&quot;annonceId&quot;) UUID annonce_id);\n    @Query(&quot;SELECT a FROM Annonce a WHERE a.annonce_id= ?1&quot;)\n    Annonce findOneByUuid(UUID annonce_id);` Many thank for your help....That&#39;s working fine....","body":"I have found solutions with Query on repository.... <code>@Query(&quot;SELECT CASE WHEN COUNT(a) &gt; 0 THEN true ELSE false END FROM Annonce a WHERE a.annonce_id = :annonceId&quot;)     Boolean ifExistByUuid(@Param(&quot;annonceId&quot;) UUID annonce_id);     @Query(&quot;SELECT a FROM Annonce a WHERE a.annonce_id= ?1&quot;)     Annonce findOneByUuid(UUID annonce_id);</code> Many thank for your help....That&#39;s working fine...."}],"answers":[{"tags":[],"owner":{"account_id":17900519,"reputation":13,"user_id":13004869,"display_name":"Shimshaker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648045786,"creation_date":1648045786,"answer_id":71588988,"question_id":71572662,"body_markdown":"I have found solutions with Query on repository.... \r\n\r\n```\r\n@Query(&quot;SELECT CASE WHEN COUNT(a) &gt; 0 THEN true ELSE false END FROM Annonce a WHERE a.annonce_id = :annonceId&quot;)     \r\nBoolean ifExistByUuid(@Param(&quot;annonceId&quot;) UUID annonce_id);    \r\n@Query(&quot;SELECT a FROM Annonce a WHERE a.annonce_id= ?1&quot;)     \r\nAnnonce findOneByUuid(UUID annonce_id); \r\n```\r\nMany thank for your help....That&#39;s working fine....","title":"He return null, from my repository with UUID, primary id","body":"<p>I have found solutions with Query on repository....</p>\n<pre><code>@Query(&quot;SELECT CASE WHEN COUNT(a) &gt; 0 THEN true ELSE false END FROM Annonce a WHERE a.annonce_id = :annonceId&quot;)     \nBoolean ifExistByUuid(@Param(&quot;annonceId&quot;) UUID annonce_id);    \n@Query(&quot;SELECT a FROM Annonce a WHERE a.annonce_id= ?1&quot;)     \nAnnonce findOneByUuid(UUID annonce_id); \n</code></pre>\n<p>Many thank for your help....That's working fine....</p>\n"}],"owner":{"account_id":17900519,"reputation":13,"user_id":13004869,"display_name":"Shimshaker"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":855,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71588988,"answer_count":1,"score":0,"last_activity_date":1648045786,"creation_date":1647954698,"question_id":71572662,"body_markdown":"I have one entity like this with uuid pk key...\r\n\r\n```\r\npackage com.bonrefil_rest_api.bonrefil_rest_api.data.entity;\r\n\r\nimport lombok.*;\r\nimport org.hibernate.annotations.GenericGenerator;\r\nimport org.hibernate.annotations.NotFound;\r\nimport org.hibernate.annotations.NotFoundAction;\r\n\r\nimport javax.persistence.*;\r\nimport java.util.*;\r\n\r\n@Entity\r\n@Table(name = &quot;annonce&quot;)\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\npublic class Annonce {\r\n    @Id\r\n    @GeneratedValue(generator = &quot;UUID&quot;)\r\n    @GenericGenerator(name = &quot;UUID&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\r\n    @Column(length = 16, name = &quot;annonce_id&quot;, nullable = false, updatable = false)\r\n    private UUID annonce_id;\r\n\r\n    @Column(nullable = false)\r\n    private String name;\r\n\r\n    @Column(nullable = false)\r\n    private String title;\r\n\r\n    @Column(nullable = false)\r\n    private String description;\r\n\r\n    @Column(nullable = false)\r\n    private double price;\r\n\r\n    @Column(nullable = false)\r\n    private int quantity;\r\n\r\n    @Column(nullable = false)\r\n    private String salesTerms;\r\n\r\n    @JoinColumn(name = &quot;author_client_id&quot;)\r\n    private UUID author;\r\n\r\n    @OneToOne(mappedBy = &quot;annonce&quot;, optional = false)\r\n    private AnnoncePicture picture;\r\n\r\n    @ManyToMany\r\n    @JoinTable(name = &quot;annonce_carts&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;annonce_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;cart_id&quot;))\r\n    private List&lt;Cart&gt; cartList = new ArrayList&lt;&gt;();\r\n\r\n    @OneToMany(mappedBy = &quot;conversationOnAnnonce&quot;)\r\n    private Collection&lt;Conversation&gt; conversationList = new ArrayList&lt;&gt;();\r\n\r\n    @ManyToMany(mappedBy = &quot;annonceList&quot;)\r\n    private List&lt;Categorie&gt; categorieList = new ArrayList&lt;&gt;();\r\n\r\n    @Enumerated\r\n    @ElementCollection(fetch = FetchType.LAZY)\r\n    private List&lt;State&gt; states;\r\n\r\n    @OneToMany(mappedBy = &quot;noteFor&quot;)\r\n    private Collection&lt;Note&gt; noteList;\r\n\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    @Column(name = &quot;createdAt&quot;, insertable = false, columnDefinition = &quot;DATETIME DEFAULT NOW()&quot;)\r\n    private Date createdAt;\r\n    @Column(name = &quot;updateAt&quot;, nullable = true, columnDefinition = &quot;DATETIME&quot;)\r\n    private Date updateAt;\r\n\r\n    @Column(nullable = false)\r\n    private String categorie;\r\n\r\n}\r\n```\r\n\r\nI have one restrepepository like this\r\n\r\n```\r\n@RepositoryRestResource\r\npublic interface AnnonceRepository extends JpaRepository&lt;Annonce, UUID&gt; {\r\n    List&lt;Annonce&gt; getAllByCategorie(String categorie);\r\n    List&lt;Annonce&gt; findAnnonceByAuthor(Client author);\r\n}\r\n\r\n```\r\nOne controller for retrieve one annonce with uuid like this\r\n\r\n```\r\n @GetMapping(&quot;/{annonce_id}&quot;)\r\n    public ResponseEntity&lt;Optional&lt;AnnonceDTO&gt;&gt; getOne(@PathVariable UUID annonce_id){\r\n        return ResponseEntity.ok(annonceService.getOne(annonce_id));\r\n    }\r\n```\r\nAnd the service for \r\n\r\n```\r\n@Override\r\n    public Optional&lt;AnnonceDTO&gt; getOne(UUID annonceId) {\r\n        if (!annonceRepository.existsById(annonceId))\r\n            throw new ElementNotFoundException();\r\n\r\n        return annonceRepository.findById(annonceId).map(annonceMapper::toDTO);\r\n\r\n    }\r\n```\r\n\r\nI try on postman \r\n\r\nhttp://localhost:8080/annonce/0e7b4f11-b7eb-4c83-83e3-d08955ddd7ae\r\n\r\nBut return is null, and the row is on my mysql db...\r\n\r\nI don&#39;t have error but just null, i have looking for why, but i don&#39;t found,  but there is some things more to know ?...With UUID ?...I have see to on my db, the row is blob, and i try select on db, that&#39;s working only with unhex, but on spring, UUID is fonctionnaly inside ?..\r\n\r\nSomeone can help me,\r\n\r\nMany thanks ?..\r\n\r\n\r\nHere is too mysql \r\n[![Mysql][1]][1]\r\n\r\n\r\n[![My Postman][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JusM0.png\r\n  [2]: https://i.stack.imgur.com/XG9jR.png","title":"He return null, from my repository with UUID, primary id","body":"<p>I have one entity like this with uuid pk key...</p>\n<pre><code>package com.bonrefil_rest_api.bonrefil_rest_api.data.entity;\n\nimport lombok.*;\nimport org.hibernate.annotations.GenericGenerator;\nimport org.hibernate.annotations.NotFound;\nimport org.hibernate.annotations.NotFoundAction;\n\nimport javax.persistence.*;\nimport java.util.*;\n\n@Entity\n@Table(name = &quot;annonce&quot;)\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class Annonce {\n    @Id\n    @GeneratedValue(generator = &quot;UUID&quot;)\n    @GenericGenerator(name = &quot;UUID&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\n    @Column(length = 16, name = &quot;annonce_id&quot;, nullable = false, updatable = false)\n    private UUID annonce_id;\n\n    @Column(nullable = false)\n    private String name;\n\n    @Column(nullable = false)\n    private String title;\n\n    @Column(nullable = false)\n    private String description;\n\n    @Column(nullable = false)\n    private double price;\n\n    @Column(nullable = false)\n    private int quantity;\n\n    @Column(nullable = false)\n    private String salesTerms;\n\n    @JoinColumn(name = &quot;author_client_id&quot;)\n    private UUID author;\n\n    @OneToOne(mappedBy = &quot;annonce&quot;, optional = false)\n    private AnnoncePicture picture;\n\n    @ManyToMany\n    @JoinTable(name = &quot;annonce_carts&quot;,\n            joinColumns = @JoinColumn(name = &quot;annonce_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;cart_id&quot;))\n    private List&lt;Cart&gt; cartList = new ArrayList&lt;&gt;();\n\n    @OneToMany(mappedBy = &quot;conversationOnAnnonce&quot;)\n    private Collection&lt;Conversation&gt; conversationList = new ArrayList&lt;&gt;();\n\n    @ManyToMany(mappedBy = &quot;annonceList&quot;)\n    private List&lt;Categorie&gt; categorieList = new ArrayList&lt;&gt;();\n\n    @Enumerated\n    @ElementCollection(fetch = FetchType.LAZY)\n    private List&lt;State&gt; states;\n\n    @OneToMany(mappedBy = &quot;noteFor&quot;)\n    private Collection&lt;Note&gt; noteList;\n\n    @Temporal(TemporalType.TIMESTAMP)\n    @Column(name = &quot;createdAt&quot;, insertable = false, columnDefinition = &quot;DATETIME DEFAULT NOW()&quot;)\n    private Date createdAt;\n    @Column(name = &quot;updateAt&quot;, nullable = true, columnDefinition = &quot;DATETIME&quot;)\n    private Date updateAt;\n\n    @Column(nullable = false)\n    private String categorie;\n\n}\n</code></pre>\n<p>I have one restrepepository like this</p>\n<pre><code>@RepositoryRestResource\npublic interface AnnonceRepository extends JpaRepository&lt;Annonce, UUID&gt; {\n    List&lt;Annonce&gt; getAllByCategorie(String categorie);\n    List&lt;Annonce&gt; findAnnonceByAuthor(Client author);\n}\n\n</code></pre>\n<p>One controller for retrieve one annonce with uuid like this</p>\n<pre><code> @GetMapping(&quot;/{annonce_id}&quot;)\n    public ResponseEntity&lt;Optional&lt;AnnonceDTO&gt;&gt; getOne(@PathVariable UUID annonce_id){\n        return ResponseEntity.ok(annonceService.getOne(annonce_id));\n    }\n</code></pre>\n<p>And the service for</p>\n<pre><code>@Override\n    public Optional&lt;AnnonceDTO&gt; getOne(UUID annonceId) {\n        if (!annonceRepository.existsById(annonceId))\n            throw new ElementNotFoundException();\n\n        return annonceRepository.findById(annonceId).map(annonceMapper::toDTO);\n\n    }\n</code></pre>\n<p>I try on postman</p>\n<p>http://localhost:8080/annonce/0e7b4f11-b7eb-4c83-83e3-d08955ddd7ae</p>\n<p>But return is null, and the row is on my mysql db...</p>\n<p>I don't have error but just null, i have looking for why, but i don't found,  but there is some things more to know ?...With UUID ?...I have see to on my db, the row is blob, and i try select on db, that's working only with unhex, but on spring, UUID is fonctionnaly inside ?..</p>\n<p>Someone can help me,</p>\n<p>Many thanks ?..</p>\n<p>Here is too mysql\n<a href=\"https://i.stack.imgur.com/JusM0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JusM0.png\" alt=\"Mysql\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/XG9jR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XG9jR.png\" alt=\"My Postman\" /></a></p>\n"},{"tags":["java","spring-boot","gitlab","featuretoggle"],"owner":{"account_id":1323993,"reputation":161,"user_id":1269234,"display_name":"Rod"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1011,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648045723,"creation_date":1648045723,"question_id":71588977,"body_markdown":"I&#39;m using unleash to implement feature toggles in my Spring Boot project and even though it works, I keep getting lots of `WARN` messages: \r\n\r\n```\r\nio.getunleash.UnleashException: Could not fetch toggles\r\n\tat io.getunleash.repository.HttpToggleFetcher.fetchToggles(HttpToggleFetcher.java:43)\r\n\tat io.getunleash.repository.FeatureToggleRepository.lambda$updateToggles$0(FeatureToggleRepository.java:58)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.net.SocketTimeoutException: Read timed out\r\n\tat java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:283)\r\n\tat java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:309)\r\n\tat java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)\r\n\tat java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)\r\n\tat java.base/java.net.Socket$SocketInputStream.read(Socket.java:966)\r\n\tat java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:478)\r\n\tat java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:472)\r\n\tat java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1455)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1059)\r\n\tat java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:244)\r\n\tat java.base/java.io.BufferedInputStream.read1(BufferedInputStream.java:284)\r\n\tat java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:343)\r\n\tat java.base/sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:791)\r\n\tat java.base/sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:726)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1688)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1589)\r\n\tat java.base/java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:529)\r\n\tat java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:308)\r\n\tat io.getunleash.repository.HttpToggleFetcher.getToggleResponse(HttpToggleFetcher.java:55)\r\n\tat io.getunleash.repository.HttpToggleFetcher.fetchToggles(HttpToggleFetcher.java:41)\r\n\t... 7 common frames omitted\r\n```\r\n\r\nIs anyone having the same issue? Have no idea why I&#39;m getting these warnings. Because after all, it&#39;s working fine other than this.","title":"Keep getting &quot;Could not fetch toggles&quot; with Unleash java sdk","body":"<p>I'm using unleash to implement feature toggles in my Spring Boot project and even though it works, I keep getting lots of <code>WARN</code> messages:</p>\n<pre><code>io.getunleash.UnleashException: Could not fetch toggles\n    at io.getunleash.repository.HttpToggleFetcher.fetchToggles(HttpToggleFetcher.java:43)\n    at io.getunleash.repository.FeatureToggleRepository.lambda$updateToggles$0(FeatureToggleRepository.java:58)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\n    at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.net.SocketTimeoutException: Read timed out\n    at java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:283)\n    at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:309)\n    at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)\n    at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)\n    at java.base/java.net.Socket$SocketInputStream.read(Socket.java:966)\n    at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:478)\n    at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:472)\n    at java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70)\n    at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1455)\n    at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1059)\n    at java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:244)\n    at java.base/java.io.BufferedInputStream.read1(BufferedInputStream.java:284)\n    at java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:343)\n    at java.base/sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:791)\n    at java.base/sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:726)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1688)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1589)\n    at java.base/java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:529)\n    at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:308)\n    at io.getunleash.repository.HttpToggleFetcher.getToggleResponse(HttpToggleFetcher.java:55)\n    at io.getunleash.repository.HttpToggleFetcher.fetchToggles(HttpToggleFetcher.java:41)\n    ... 7 common frames omitted\n</code></pre>\n<p>Is anyone having the same issue? Have no idea why I'm getting these warnings. Because after all, it's working fine other than this.</p>\n"},{"tags":["java","vaadin","vaadin-flow","background-thread"],"comments":[{"owner":{"account_id":16052956,"reputation":122,"user_id":11586250,"display_name":"Emilio"},"score":1,"creation_date":1643992633,"post_id":70989805,"comment_id":125494727,"body_markdown":"could you please post your code or at least the basic part of it?","body":"could you please post your code or at least the basic part of it?"},{"owner":{"account_id":295692,"reputation":41,"user_id":600230,"display_name":"WaTho"},"score":0,"creation_date":1643995422,"post_id":70989805,"comment_id":125495902,"body_markdown":"I added a minimal example. Remove the sleep and it does not work anymore.","body":"I added a minimal example. Remove the sleep and it does not work anymore."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1644056474,"post_id":70989805,"comment_id":125507500,"body_markdown":"Why do you create the UI components in afterNavigation and not the constructor?","body":"Why do you create the UI components in afterNavigation and not the constructor?"},{"owner":{"account_id":2759852,"reputation":7920,"user_id":2376954,"display_name":"Leif &#197;strand"},"score":0,"creation_date":1644215726,"post_id":70989805,"comment_id":125536414,"body_markdown":"What does the problem look like to the user? To me, it sounds like the only difference is that the user sometimes sometimes sees the intermediate step and sometimes immediately sees the final step. That doesn&#39;t sound like a problem at all.","body":"What does the problem look like to the user? To me, it sounds like the only difference is that the user sometimes sometimes sees the intermediate step and sometimes immediately sees the final step. That doesn&#39;t sound like a problem at all."},{"owner":{"account_id":295692,"reputation":41,"user_id":600230,"display_name":"WaTho"},"score":0,"creation_date":1644243336,"post_id":70989805,"comment_id":125545932,"body_markdown":"It&#39;s the other way round. The user sometimes got stuck in the first step. And that&#39;s a problem.","body":"It&#39;s the other way round. The user sometimes got stuck in the first step. And that&#39;s a problem."}],"answers":[{"tags":[],"owner":{"account_id":1831742,"reputation":1989,"user_id":1662997,"display_name":"Knoobie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643993559,"creation_date":1643993559,"answer_id":70990045,"question_id":70989805,"body_markdown":"You could try to overwrite and implement onAttach on your route. See https://vaadin.com/docs/v14/flow/creating-components/tutorial-component-lifecycle-callbacks for more details.","title":"Event on view rendering finished","body":"<p>You could try to overwrite and implement onAttach on your route. See <a href=\"https://vaadin.com/docs/v14/flow/creating-components/tutorial-component-lifecycle-callbacks\" rel=\"nofollow noreferrer\">https://vaadin.com/docs/v14/flow/creating-components/tutorial-component-lifecycle-callbacks</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644239574,"creation_date":1644239574,"answer_id":71019169,"question_id":70989805,"body_markdown":"Knoobie&#39;s answer should be checked, but (if I remember correctly) StackOverflow guidelines prefers code over a link to the same.\r\n\r\nEvery `Component` the `onAttach(DetachEvent)` method. From the [Javadoc](https://vaadin.com/api/platform/14.8.2/com/vaadin/flow/component/Component.html#onAttach-com.vaadin.flow.component.AttachEvent-):\r\n\r\n&gt; `protected void onAttach(AttachEvent attachEvent)\r\n&gt;\r\n&gt; Called when the component is attached to a UI.\r\n&gt;\r\n&gt; The default implementation does nothing.\r\n&gt;\r\n&gt; This method is invoked before the AttachEvent is fired for the component.\r\n&gt;\r\n&gt; **Parameters:**\r\n&gt;\r\n&gt; attachEvent - the attach event\r\n\r\nYou can override this method in any `Component`:\r\n\r\n```java\r\npublic class MyComponent extends VerticalLayout {\r\n  @Override\r\n  protected void onAttach(AttachEvent event) {\r\n    System.out.println(&quot;I attached: &quot; + event);\r\n  }\r\n}\r\n```\r\n\r\n`Component` also implements `AttachNotifier`, which offers the [this](https://vaadin.com/api/platform/14.8.2/com/vaadin/flow/component/AttachNotifier.html#addAttachListener-com.vaadin.flow.component.ComponentEventListener-) method:\r\n\r\n```java\r\npublic class MyComponent extends VerticalLayout {\r\n  public MyComponent() {\r\n    addAttachListener(event -&gt; System.out.println(&quot;I attached: &quot; + event));\r\n  }\r\n}\r\n```\r\n\r\nNote the docs quoted above! The `onAttach` method is called before the event.\r\n\r\nAnother approach is from JavaScript to wait for the `v-loading-indicator`&#39;s first child to have `display: none`.","title":"Event on view rendering finished","body":"<p>Knoobie's answer should be checked, but (if I remember correctly) StackOverflow guidelines prefers code over a link to the same.</p>\n<p>Every <code>Component</code> the <code>onAttach(DetachEvent)</code> method. From the <a href=\"https://vaadin.com/api/platform/14.8.2/com/vaadin/flow/component/Component.html#onAttach-com.vaadin.flow.component.AttachEvent-\" rel=\"nofollow noreferrer\">Javadoc</a>:</p>\n<blockquote>\n<p>`protected void onAttach(AttachEvent attachEvent)</p>\n<p>Called when the component is attached to a UI.</p>\n<p>The default implementation does nothing.</p>\n<p>This method is invoked before the AttachEvent is fired for the component.</p>\n<p><strong>Parameters:</strong></p>\n<p>attachEvent - the attach event</p>\n</blockquote>\n<p>You can override this method in any <code>Component</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyComponent extends VerticalLayout {\n  @Override\n  protected void onAttach(AttachEvent event) {\n    System.out.println(&quot;I attached: &quot; + event);\n  }\n}\n</code></pre>\n<p><code>Component</code> also implements <code>AttachNotifier</code>, which offers the <a href=\"https://vaadin.com/api/platform/14.8.2/com/vaadin/flow/component/AttachNotifier.html#addAttachListener-com.vaadin.flow.component.ComponentEventListener-\" rel=\"nofollow noreferrer\">this</a> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyComponent extends VerticalLayout {\n  public MyComponent() {\n    addAttachListener(event -&gt; System.out.println(&quot;I attached: &quot; + event));\n  }\n}\n</code></pre>\n<p>Note the docs quoted above! The <code>onAttach</code> method is called before the event.</p>\n<p>Another approach is from JavaScript to wait for the <code>v-loading-indicator</code>'s first child to have <code>display: none</code>.</p>\n"}],"owner":{"account_id":295692,"reputation":41,"user_id":600230,"display_name":"WaTho"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":462,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1648045646,"creation_date":1643992464,"question_id":70989805,"body_markdown":"After navigating to a new view i want to start a background thread, which does some validation and reports changes to my view. I am building the ui and starting the thread on `AfterNavigationObserver#afterNavigation`.\r\n\r\nMost of the time this works, but when the background thread finishes too fast it can&#39;t update the view cause the rendering is not finished and the component to update is not visible yet. The possible solution would be to start the background thread after the rendering is finished and the view is visible in the browser. What is the recommended way to do this? I looked through the APIs but can&#39;t find a matching event.\r\n\r\nUsing vaadin-flow 14.8.\r\n\r\nIn the following minimal example the second accordion panel should be opened when the task finished. It works on my pc mostly with a timeout of 500 ms or greater. Going below this value or removing the sleep results in not opening the second accordion.\r\n\r\nThe view:\r\n``` lang-java\r\nimport com.vaadin.flow.component.UI;\r\nimport com.vaadin.flow.component.accordion.Accordion;\r\nimport com.vaadin.flow.component.accordion.AccordionPanel;\r\nimport com.vaadin.flow.component.html.Label;\r\nimport com.vaadin.flow.component.orderedlayout.VerticalLayout;\r\nimport com.vaadin.flow.component.page.Push;\r\nimport com.vaadin.flow.router.AfterNavigationEvent;\r\nimport com.vaadin.flow.router.AfterNavigationObserver;\r\nimport com.vaadin.flow.router.Route;\r\nimport de.fs_aut.ddm.desktop.bgtasks.TimeConsumingTask;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\n\r\n@Route(&quot;debug&quot;)\r\n@Push\r\npublic class DebugView extends VerticalLayout implements AfterNavigationObserver {\r\n\r\n  @Autowired\r\n  private TimeConsumingTask task;\r\n\r\n  private UI ui;\r\n  private Accordion acc;\r\n  private AccordionPanel firstPanel;\r\n  private AccordionPanel secondPanel;\r\n\r\n  @Override\r\n  public void afterNavigation(AfterNavigationEvent event) {\r\n    removeAll();\r\n    acc = new Accordion();\r\n    firstPanel = new AccordionPanel(&quot;First task&quot;, new Label(&quot;first task in progress&quot;));\r\n    secondPanel = new AccordionPanel(&quot;second task&quot;, new Label(&quot;second task in progress&quot;));\r\n    acc.add(firstPanel);\r\n    acc.add(secondPanel);\r\n    add(acc);\r\n    startValidation();\r\n  }\r\n\r\n  public void startValidation() {\r\n    ui = UI.getCurrent();\r\n    task.sleep().addCallback(result -&gt; {\r\n      ui.access(() -&gt; {\r\n        acc.open(secondPanel);\r\n      });\r\n    }, error -&gt; {\r\n    });\r\n  }\r\n}\r\n```\r\n\r\nThe async task:\r\n``` lang-java\r\nimport java.time.LocalDateTime;\r\nimport org.springframework.scheduling.annotation.Async;\r\nimport org.springframework.scheduling.annotation.AsyncResult;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.util.concurrent.ListenableFuture;\r\n\r\n/**\r\n * Testdummy. Does nothing but waits.\r\n *\r\n */\r\n@Service\r\npublic class TimeConsumingTask {\r\n\r\n  @Async\r\n  public ListenableFuture&lt;String&gt; sleep() {\r\n    try {\r\n      Thread.sleep(500);\r\n    } catch (final InterruptedException e) {\r\n      e.printStackTrace();\r\n    }\r\n    return AsyncResult.forValue(&quot;Validation finished at &quot; + LocalDateTime.now().toString());\r\n  }\r\n}\r\n```","title":"Event on view rendering finished","body":"<p>After navigating to a new view i want to start a background thread, which does some validation and reports changes to my view. I am building the ui and starting the thread on <code>AfterNavigationObserver#afterNavigation</code>.</p>\n<p>Most of the time this works, but when the background thread finishes too fast it can't update the view cause the rendering is not finished and the component to update is not visible yet. The possible solution would be to start the background thread after the rendering is finished and the view is visible in the browser. What is the recommended way to do this? I looked through the APIs but can't find a matching event.</p>\n<p>Using vaadin-flow 14.8.</p>\n<p>In the following minimal example the second accordion panel should be opened when the task finished. It works on my pc mostly with a timeout of 500 ms or greater. Going below this value or removing the sleep results in not opening the second accordion.</p>\n<p>The view:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.vaadin.flow.component.UI;\nimport com.vaadin.flow.component.accordion.Accordion;\nimport com.vaadin.flow.component.accordion.AccordionPanel;\nimport com.vaadin.flow.component.html.Label;\nimport com.vaadin.flow.component.orderedlayout.VerticalLayout;\nimport com.vaadin.flow.component.page.Push;\nimport com.vaadin.flow.router.AfterNavigationEvent;\nimport com.vaadin.flow.router.AfterNavigationObserver;\nimport com.vaadin.flow.router.Route;\nimport de.fs_aut.ddm.desktop.bgtasks.TimeConsumingTask;\nimport org.springframework.beans.factory.annotation.Autowired;\n\n@Route(&quot;debug&quot;)\n@Push\npublic class DebugView extends VerticalLayout implements AfterNavigationObserver {\n\n  @Autowired\n  private TimeConsumingTask task;\n\n  private UI ui;\n  private Accordion acc;\n  private AccordionPanel firstPanel;\n  private AccordionPanel secondPanel;\n\n  @Override\n  public void afterNavigation(AfterNavigationEvent event) {\n    removeAll();\n    acc = new Accordion();\n    firstPanel = new AccordionPanel(&quot;First task&quot;, new Label(&quot;first task in progress&quot;));\n    secondPanel = new AccordionPanel(&quot;second task&quot;, new Label(&quot;second task in progress&quot;));\n    acc.add(firstPanel);\n    acc.add(secondPanel);\n    add(acc);\n    startValidation();\n  }\n\n  public void startValidation() {\n    ui = UI.getCurrent();\n    task.sleep().addCallback(result -&gt; {\n      ui.access(() -&gt; {\n        acc.open(secondPanel);\n      });\n    }, error -&gt; {\n    });\n  }\n}\n</code></pre>\n<p>The async task:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.LocalDateTime;\nimport org.springframework.scheduling.annotation.Async;\nimport org.springframework.scheduling.annotation.AsyncResult;\nimport org.springframework.stereotype.Service;\nimport org.springframework.util.concurrent.ListenableFuture;\n\n/**\n * Testdummy. Does nothing but waits.\n *\n */\n@Service\npublic class TimeConsumingTask {\n\n  @Async\n  public ListenableFuture&lt;String&gt; sleep() {\n    try {\n      Thread.sleep(500);\n    } catch (final InterruptedException e) {\n      e.printStackTrace();\n    }\n    return AsyncResult.forValue(&quot;Validation finished at &quot; + LocalDateTime.now().toString());\n  }\n}\n</code></pre>\n"},{"tags":["java","hibernate","illegalargumentexception"],"comments":[{"owner":{"account_id":120777,"reputation":14376,"user_id":313400,"display_name":"Guillaume"},"score":0,"creation_date":1648039357,"post_id":71587212,"comment_id":126522192,"body_markdown":"The error message in your question title is not in the stacktrace you posted and the code you&#39;re running is missing, can you please clarify the question?","body":"The error message in your question title is not in the stacktrace you posted and the code you&#39;re running is missing, can you please clarify the question?"},{"owner":{"account_id":2290518,"reputation":686,"user_id":2013472,"accept_rate":89,"display_name":"Ken Alton"},"score":0,"creation_date":1648045045,"post_id":71587212,"comment_id":126524844,"body_markdown":"Edited as per advice. Thank you.","body":"Edited as per advice. Thank you."},{"owner":{"account_id":120777,"reputation":14376,"user_id":313400,"display_name":"Guillaume"},"score":0,"creation_date":1648045373,"post_id":71587212,"comment_id":126525020,"body_markdown":"Do you have multiple Instrument classes? In the home() method you&#39;re calling a constructor that does not exist in the Instrument class you posted","body":"Do you have multiple Instrument classes? In the home() method you&#39;re calling a constructor that does not exist in the Instrument class you posted"},{"owner":{"account_id":2290518,"reputation":686,"user_id":2013472,"accept_rate":89,"display_name":"Ken Alton"},"score":0,"creation_date":1648045796,"post_id":71587212,"comment_id":126525213,"body_markdown":"No multiple Instrument classes - I even refactored it to a different name but get the same result.\nIndeed I removed the multi-arg constructor for the question initially so the class would be &#39;pure&#39; as generated from the schema.  I&#39;ve now added the extra constructor","body":"No multiple Instrument classes - I even refactored it to a different name but get the same result. Indeed I removed the multi-arg constructor for the question initially so the class would be &#39;pure&#39; as generated from the schema.  I&#39;ve now added the extra constructor"},{"owner":{"account_id":6484184,"reputation":2035,"user_id":5020294,"display_name":"Andriy Slobodyanyk"},"score":0,"creation_date":1648047322,"post_id":71587212,"comment_id":126525911,"body_markdown":"getApptype() is not annotated with @Basic","body":"getApptype() is not annotated with @Basic"},{"owner":{"account_id":2290518,"reputation":686,"user_id":2013472,"accept_rate":89,"display_name":"Ken Alton"},"score":0,"creation_date":1648047793,"post_id":71587212,"comment_id":126526130,"body_markdown":"I&#39;ve tried with and without @Basic - I get the same error in each case","body":"I&#39;ve tried with and without @Basic - I get the same error in each case"}],"owner":{"account_id":2290518,"reputation":686,"user_id":2013472,"accept_rate":89,"display_name":"Ken Alton"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648045502,"creation_date":1648038451,"question_id":71587212,"body_markdown":"I have a super simple app (just a first try with Hibernate) with this schema:\r\n\r\n    DROP DATABASE IF EXISTS deubor;\r\n    CREATE DATABASE IF NOT EXISTS deubor DEFAULT CHARACTER SET = utf8;\r\n    USE deubor;\r\n    SET character_set_client = utf8;\r\n\r\n    CREATE TABLE INSTRUMENT (\r\n      ID INTEGER NOT NULL AUTO_INCREMENT,\r\n\r\n      ISIN VARCHAR(12) DEFAULT &#39;&#39; NOT NULL,\r\n      ISSUERNAME VARCHAR(200) DEFAULT &#39;&#39; NOT NULL,\r\n      APPTYPE VARCHAR(20) DEFAULT &#39;&#39; NOT NULL,\r\n      INSTYPE VARCHAR(20) DEFAULT &#39;&#39; NOT NULL,\r\n      MDATE INTEGER DEFAULT &#39;0&#39; , \r\n\r\n      PRIMARY KEY(ID)\r\n    );\r\n\r\n\r\nI&#39;ve generated the Hibernate Entity and it produces the following:\r\n\r\n        @Entity\r\n    @Table(name = &quot;instrument&quot;)\r\n    public class Instrument {\r\n        private int id;\r\n        private String isin;\r\n        private String issuername;\r\n        private String apptype;\r\n        private String instype;\r\n        private Integer mdate;\r\n    \r\n        @Id\r\n        @Column(name = &quot;ID&quot;)\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        @Basic\r\n        @Column(name = &quot;ISIN&quot;)\r\n        public String getIsin() {\r\n            return isin;\r\n        }\r\n    \r\n        public void setIsin(String isin) {\r\n            this.isin = isin;\r\n        }\r\n    \r\n        @Basic\r\n        @Column(name = &quot;ISSUERNAME&quot;)\r\n        public String getIssuername() {\r\n            return issuername;\r\n        }\r\n    \r\n        public void setIssuername(String issuername) {\r\n            this.issuername = issuername;\r\n        }\r\n    \r\n        @Column(name = &quot;APPTYPE&quot;)\r\n        public String getApptype() {\r\n            return apptype;\r\n        }\r\n    \r\n        public void setApptype(String apptype) {\r\n            this.apptype = apptype;\r\n        }\r\n    \r\n        @Basic\r\n        @Column(name = &quot;INSTYPE&quot;)\r\n        public String getInstype() {\r\n            return instype;\r\n        }\r\n    \r\n        public void setInstype(String instype) {\r\n            this.instype = instype;\r\n        }\r\n    \r\n        @Basic\r\n        @Column(name = &quot;MDATE&quot;)\r\n        public Integer getMdate() {\r\n            return mdate;\r\n        }\r\n    \r\n        public void setMdate(Integer mdate) {\r\n            this.mdate = mdate;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            Instrument that = (Instrument) o;\r\n            return id == that.id &amp;&amp;\r\n                    Objects.equals(isin, that.isin) &amp;&amp;\r\n                    Objects.equals(issuername, that.issuername) &amp;&amp;\r\n                    Objects.equals(apptype, that.apptype) &amp;&amp;\r\n                    Objects.equals(instype, that.instype) &amp;&amp;\r\n                    Objects.equals(mdate, that.mdate);\r\n        }\r\n    \r\n        public Instrument(String isin, String issuername, String apptype, String instype, Integer mdate) {\r\n            this.isin = isin;\r\n            this.issuername = issuername;\r\n            this.apptype = apptype;\r\n            this.instype = instype;\r\n            this.mdate = mdate;\r\n        }\r\n\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(id, isin, issuername, apptype, instype, mdate);\r\n        }\r\n    }\r\n\r\nhibernate.cfg.xml :\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC\r\n            &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n            &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    &lt;hibernate-configuration&gt;\r\n        &lt;session-factory&gt;\r\n            &lt;!-- Database connection settings --&gt;\r\n            &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n            &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/demo&lt;/property&gt;\r\n            &lt;property name=&quot;connection.username&quot;&gt;username&lt;/property&gt;\r\n            &lt;property name=&quot;connection.password&quot;&gt;password&lt;/property&gt;\r\n            &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n    \r\n            &lt;mapping class=&quot;com.mm.prep.demo.model.Instrument&quot; /&gt;\r\n    \r\n        &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\n\r\nCalling code with initialised object:\r\n\r\n        @GetMapping(&quot;/&quot;)\r\n        public String home(Model model) {\r\n            InstrumentManager im = new InstrumentManager();\r\n            Instrument i = new Instrument(&quot;XCVBFT&quot;, &quot;Issuer 1&quot;, &quot;INCLUSION&quot;, &quot;BOND&quot;, null);\r\n            im.setup();\r\n            im.save(i);\r\n            return &quot;instruments&quot;;\r\n        }\r\n\r\nCode called in InstrumentManager:\r\n\r\n        public void setup() {\r\n            final StandardServiceRegistry registry = new StandardServiceRegistryBuilder()\r\n                    .configure() // configures settings from hibernate.cfg.xml\r\n                    .build();\r\n            try {\r\n                sessionFactory = new MetadataSources(registry).buildMetadata().buildSessionFactory();\r\n            } catch (Exception ex) {\r\n                StandardServiceRegistryBuilder.destroy(registry);\r\n            }\r\n        }\r\n\r\n        public void save(Instrument i) {\r\n            Session s = sessionFactory.openSession();\r\n            s.beginTransaction();\r\n            s.save(i);\r\n            s.getTransaction().commit();\r\n            s.close();\r\n    \r\n        }\r\n    \r\n\r\n\r\n\r\nBut when I try to save I get the following stacktrace.  I mean this app can&#39;t get any simpler... what am I doing wrong?\r\n\r\n```\r\nIllegalArgumentException occurred calling getter of com.mm.prep.demo.model.Instrument.apptype\r\norg.hibernate.PropertyAccessException: IllegalArgumentException occurred calling getter of com.mm.prep.demo.model.Instrument.apptype\r\n\tat org.hibernate.property.access.spi.GetterMethodImpl.get(GetterMethodImpl.java:64)\r\n\tat org.hibernate.property.access.spi.GetterMethodImpl.getForInsert(GetterMethodImpl.java:76)\r\n\tat org.hibernate.tuple.entity.AbstractEntityTuplizer.getPropertyValuesToInsert(AbstractEntityTuplizer.java:619)\r\n\tat org.hibernate.tuple.entity.PojoEntityTuplizer.getPropertyValuesToInsert(PojoEntityTuplizer.java:225)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.getPropertyValuesToInsert(AbstractEntityPersister.java:4793)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:254)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:182)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:113)\r\n\tat org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.saveWithGeneratedOrRequestedId(DefaultSaveOrUpdateEventListener.java:192)\r\n\tat org.hibernate.event.internal.DefaultSaveEventListener.saveWithGeneratedOrRequestedId(DefaultSaveEventListener.java:38)\r\n\tat org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.entityIsTransient(DefaultSaveOrUpdateEventListener.java:177)\r\n\tat org.hibernate.event.internal.DefaultSaveEventListener.performSaveOrUpdate(DefaultSaveEventListener.java:32)\r\n\tat org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.onSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:73)\r\n```","title":"Hibernate - IllegalArgumentException occurred calling getter of","body":"<p>I have a super simple app (just a first try with Hibernate) with this schema:</p>\n<pre><code>DROP DATABASE IF EXISTS deubor;\nCREATE DATABASE IF NOT EXISTS deubor DEFAULT CHARACTER SET = utf8;\nUSE deubor;\nSET character_set_client = utf8;\n\nCREATE TABLE INSTRUMENT (\n  ID INTEGER NOT NULL AUTO_INCREMENT,\n\n  ISIN VARCHAR(12) DEFAULT '' NOT NULL,\n  ISSUERNAME VARCHAR(200) DEFAULT '' NOT NULL,\n  APPTYPE VARCHAR(20) DEFAULT '' NOT NULL,\n  INSTYPE VARCHAR(20) DEFAULT '' NOT NULL,\n  MDATE INTEGER DEFAULT '0' , \n\n  PRIMARY KEY(ID)\n);\n</code></pre>\n<p>I've generated the Hibernate Entity and it produces the following:</p>\n<pre><code>    @Entity\n@Table(name = &quot;instrument&quot;)\npublic class Instrument {\n    private int id;\n    private String isin;\n    private String issuername;\n    private String apptype;\n    private String instype;\n    private Integer mdate;\n\n    @Id\n    @Column(name = &quot;ID&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    @Basic\n    @Column(name = &quot;ISIN&quot;)\n    public String getIsin() {\n        return isin;\n    }\n\n    public void setIsin(String isin) {\n        this.isin = isin;\n    }\n\n    @Basic\n    @Column(name = &quot;ISSUERNAME&quot;)\n    public String getIssuername() {\n        return issuername;\n    }\n\n    public void setIssuername(String issuername) {\n        this.issuername = issuername;\n    }\n\n    @Column(name = &quot;APPTYPE&quot;)\n    public String getApptype() {\n        return apptype;\n    }\n\n    public void setApptype(String apptype) {\n        this.apptype = apptype;\n    }\n\n    @Basic\n    @Column(name = &quot;INSTYPE&quot;)\n    public String getInstype() {\n        return instype;\n    }\n\n    public void setInstype(String instype) {\n        this.instype = instype;\n    }\n\n    @Basic\n    @Column(name = &quot;MDATE&quot;)\n    public Integer getMdate() {\n        return mdate;\n    }\n\n    public void setMdate(Integer mdate) {\n        this.mdate = mdate;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Instrument that = (Instrument) o;\n        return id == that.id &amp;&amp;\n                Objects.equals(isin, that.isin) &amp;&amp;\n                Objects.equals(issuername, that.issuername) &amp;&amp;\n                Objects.equals(apptype, that.apptype) &amp;&amp;\n                Objects.equals(instype, that.instype) &amp;&amp;\n                Objects.equals(mdate, that.mdate);\n    }\n\n    public Instrument(String isin, String issuername, String apptype, String instype, Integer mdate) {\n        this.isin = isin;\n        this.issuername = issuername;\n        this.apptype = apptype;\n        this.instype = instype;\n        this.mdate = mdate;\n    }\n\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(id, isin, issuername, apptype, instype, mdate);\n    }\n}\n</code></pre>\n<p>hibernate.cfg.xml :</p>\n\n<pre><code>&lt;!DOCTYPE hibernate-configuration PUBLIC\n        &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;!-- Database connection settings --&gt;\n        &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/demo&lt;/property&gt;\n        &lt;property name=&quot;connection.username&quot;&gt;username&lt;/property&gt;\n        &lt;property name=&quot;connection.password&quot;&gt;password&lt;/property&gt;\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\n\n        &lt;mapping class=&quot;com.mm.prep.demo.model.Instrument&quot; /&gt;\n\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>Calling code with initialised object:</p>\n<pre><code>    @GetMapping(&quot;/&quot;)\n    public String home(Model model) {\n        InstrumentManager im = new InstrumentManager();\n        Instrument i = new Instrument(&quot;XCVBFT&quot;, &quot;Issuer 1&quot;, &quot;INCLUSION&quot;, &quot;BOND&quot;, null);\n        im.setup();\n        im.save(i);\n        return &quot;instruments&quot;;\n    }\n</code></pre>\n<p>Code called in InstrumentManager:</p>\n<pre><code>    public void setup() {\n        final StandardServiceRegistry registry = new StandardServiceRegistryBuilder()\n                .configure() // configures settings from hibernate.cfg.xml\n                .build();\n        try {\n            sessionFactory = new MetadataSources(registry).buildMetadata().buildSessionFactory();\n        } catch (Exception ex) {\n            StandardServiceRegistryBuilder.destroy(registry);\n        }\n    }\n\n    public void save(Instrument i) {\n        Session s = sessionFactory.openSession();\n        s.beginTransaction();\n        s.save(i);\n        s.getTransaction().commit();\n        s.close();\n\n    }\n</code></pre>\n<p>But when I try to save I get the following stacktrace.  I mean this app can't get any simpler... what am I doing wrong?</p>\n<pre><code>IllegalArgumentException occurred calling getter of com.mm.prep.demo.model.Instrument.apptype\norg.hibernate.PropertyAccessException: IllegalArgumentException occurred calling getter of com.mm.prep.demo.model.Instrument.apptype\n    at org.hibernate.property.access.spi.GetterMethodImpl.get(GetterMethodImpl.java:64)\n    at org.hibernate.property.access.spi.GetterMethodImpl.getForInsert(GetterMethodImpl.java:76)\n    at org.hibernate.tuple.entity.AbstractEntityTuplizer.getPropertyValuesToInsert(AbstractEntityTuplizer.java:619)\n    at org.hibernate.tuple.entity.PojoEntityTuplizer.getPropertyValuesToInsert(PojoEntityTuplizer.java:225)\n    at org.hibernate.persister.entity.AbstractEntityPersister.getPropertyValuesToInsert(AbstractEntityPersister.java:4793)\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:254)\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:182)\n    at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:113)\n    at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.saveWithGeneratedOrRequestedId(DefaultSaveOrUpdateEventListener.java:192)\n    at org.hibernate.event.internal.DefaultSaveEventListener.saveWithGeneratedOrRequestedId(DefaultSaveEventListener.java:38)\n    at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.entityIsTransient(DefaultSaveOrUpdateEventListener.java:177)\n    at org.hibernate.event.internal.DefaultSaveEventListener.performSaveOrUpdate(DefaultSaveEventListener.java:32)\n    at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.onSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:73)\n</code></pre>\n"},{"tags":["java","mongodb-java","alphanumeric"],"comments":[{"owner":{"account_id":22968286,"reputation":82,"user_id":17097058,"display_name":"Curious"},"score":0,"creation_date":1647469101,"post_id":71504860,"comment_id":126382523,"body_markdown":"@chaosfire here is a follow up to the question I asked earlier.","body":"@chaosfire here is a follow up to the question I asked earlier."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1647530031,"post_id":71504860,"comment_id":126398820,"body_markdown":"Should id be unique in the entire database? Or is it unique only in a concrete set of terminals, for example set1(ids - `0000`, `0001`, `0002`, and so on), set2(ids - `0000`, `0001`, and so on)?","body":"Should id be unique in the entire database? Or is it unique only in a concrete set of terminals, for example set1(ids - <code>0000</code>, <code>0001</code>, <code>0002</code>, and so on), set2(ids - <code>0000</code>, <code>0001</code>, and so on)?"},{"owner":{"account_id":22968286,"reputation":82,"user_id":17097058,"display_name":"Curious"},"score":0,"creation_date":1647530241,"post_id":71504860,"comment_id":126398899,"body_markdown":"It should be unique in the entire database","body":"It should be unique in the entire database"}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647869998,"creation_date":1647605198,"answer_id":71526800,"question_id":71504860,"body_markdown":"You could do it adding a new table to db. Since it has to be unique for entire db, this table will hold a single row, which keeps track of next integer to use for id generation.\r\n\r\nI&#39;ll assume you use spring data, then your entity could be something like this:\r\n```\r\npublic class Sequence {\r\n\r\n  private String id;\r\n  private int next;\r\n\r\n  //getters and setters\r\n}\r\n```\r\n\r\nThe repository:\r\n```\r\n@Repository\r\npublic interface SequenceRepository extends MongoRepository&lt;Sequence, String&gt; {\r\n}\r\n```\r\nAssuming you are using mongo from question tag.\r\n\r\nInitial value for next should be zero.\r\n```\r\nSequence sequence = new Sequence();\r\nsequence.setNext(0);\r\nthis.repository.saveAndFlush(sequence);\r\n```\r\nInitialise and save in db at appropriate time, maybe app startup. Just do this initialization only once.\r\n\r\nThen generation method might be like this:\r\n```\r\n@Autowired\r\nprivate SequenceRepository repository;\r\n\r\npublic BaseResponse generateTerminalIDs(TerminalIDDTO terminalDto) {\r\n  Terminal terminal = new Terminal();\r\n  int totalLength = 8;\r\n  int numberOfIds = terminalDto.getNumberOfTerminals();\r\n  int countRemainingSymbols = totalLength - START.length();\r\n  //there should be only 1 row at all times\r\n  Sequence sequence = this.repository.findAll().get(0);\r\n  int start = sequence.getNext();//start generation of sequences from the value of next\r\n  int next = start + numberOfIds;//this will be next value of sequence.next\r\n  for (int i = start; i &lt; next; i++) {\r\n    StringBuilder end = new StringBuilder();\r\n    int current = i;\r\n    int remainder = current % ALPHANUMERIC.length();//the index of next character\r\n    do {\r\n      end.append(ALPHANUMERIC.charAt(remainder));\r\n      current /= ALPHANUMERIC.length();//update to check if we need to add more characters\r\n      remainder = current % ALPHANUMERIC.length();//update index, only used if more chars are needed\r\n    } while (current &gt; 0);\r\n    int padCount = countRemainingSymbols - end.length();\r\n    StringBuilder result = new StringBuilder(START).append(&quot;-&quot;);//- is for easier debugging, remove it for your case\r\n    for (int j = 0; j &lt; padCount; j++) {\r\n      result.append(&quot;0&quot;);\r\n    }\r\n    //this should be outside pad loop\r\n    result.append(end.reverse());\r\n  }\r\n  //update next value and save in db\r\n  sequence.setNext(next);\r\n  this.repository.saveAndFlush(sequence);\r\n  return BaseResponse.builder().status(true).message(&quot;TerminalIDs have been generated&quot;).build();\r\n}\r\n```\r\nThere are some assumptions here, but this is the overall algorithm you should follow.\r\n\r\n**Important:** This solution does not take into account possible simultaneous access to the table, which may lead to duplicating ids. If you have such use cases, you might want to consider:\r\n\r\n 1. Locking the table during `generateTerminalIDs` execution, thus forcing other threads who want access for next to wait until all ids are generated.\r\n 2. Get next, and update it right after, before id generation. Locking the table during get and update may still be a good idea, but other threads that want access will wait less.\r\n\r\n**Edit:** SaveAndFlush is equivalent for create or update. In spring it&#39;s implemented in this way - if entity has id property(`sequence.id != null` in this case), do an update, otherwise do create(insert). For your case, create the row when initializing new table, update it when ids are created.\r\n\r\nAbout `findAll()` - it returns a list with all rows/entites from a table. Here `repository.findAll()` will return `List&lt;Sequence&gt;`. `repository.findAll().get(0)` will return `Sequence`, the **first and only** row in the table.","title":"How to save alphanumeric sequence in mongodb and start generating from the last saved sequence in MongoDB","body":"<p>You could do it adding a new table to db. Since it has to be unique for entire db, this table will hold a single row, which keeps track of next integer to use for id generation.</p>\n<p>I'll assume you use spring data, then your entity could be something like this:</p>\n<pre><code>public class Sequence {\n\n  private String id;\n  private int next;\n\n  //getters and setters\n}\n</code></pre>\n<p>The repository:</p>\n<pre><code>@Repository\npublic interface SequenceRepository extends MongoRepository&lt;Sequence, String&gt; {\n}\n</code></pre>\n<p>Assuming you are using mongo from question tag.</p>\n<p>Initial value for next should be zero.</p>\n<pre><code>Sequence sequence = new Sequence();\nsequence.setNext(0);\nthis.repository.saveAndFlush(sequence);\n</code></pre>\n<p>Initialise and save in db at appropriate time, maybe app startup. Just do this initialization only once.</p>\n<p>Then generation method might be like this:</p>\n<pre><code>@Autowired\nprivate SequenceRepository repository;\n\npublic BaseResponse generateTerminalIDs(TerminalIDDTO terminalDto) {\n  Terminal terminal = new Terminal();\n  int totalLength = 8;\n  int numberOfIds = terminalDto.getNumberOfTerminals();\n  int countRemainingSymbols = totalLength - START.length();\n  //there should be only 1 row at all times\n  Sequence sequence = this.repository.findAll().get(0);\n  int start = sequence.getNext();//start generation of sequences from the value of next\n  int next = start + numberOfIds;//this will be next value of sequence.next\n  for (int i = start; i &lt; next; i++) {\n    StringBuilder end = new StringBuilder();\n    int current = i;\n    int remainder = current % ALPHANUMERIC.length();//the index of next character\n    do {\n      end.append(ALPHANUMERIC.charAt(remainder));\n      current /= ALPHANUMERIC.length();//update to check if we need to add more characters\n      remainder = current % ALPHANUMERIC.length();//update index, only used if more chars are needed\n    } while (current &gt; 0);\n    int padCount = countRemainingSymbols - end.length();\n    StringBuilder result = new StringBuilder(START).append(&quot;-&quot;);//- is for easier debugging, remove it for your case\n    for (int j = 0; j &lt; padCount; j++) {\n      result.append(&quot;0&quot;);\n    }\n    //this should be outside pad loop\n    result.append(end.reverse());\n  }\n  //update next value and save in db\n  sequence.setNext(next);\n  this.repository.saveAndFlush(sequence);\n  return BaseResponse.builder().status(true).message(&quot;TerminalIDs have been generated&quot;).build();\n}\n</code></pre>\n<p>There are some assumptions here, but this is the overall algorithm you should follow.</p>\n<p><strong>Important:</strong> This solution does not take into account possible simultaneous access to the table, which may lead to duplicating ids. If you have such use cases, you might want to consider:</p>\n<ol>\n<li>Locking the table during <code>generateTerminalIDs</code> execution, thus forcing other threads who want access for next to wait until all ids are generated.</li>\n<li>Get next, and update it right after, before id generation. Locking the table during get and update may still be a good idea, but other threads that want access will wait less.</li>\n</ol>\n<p><strong>Edit:</strong> SaveAndFlush is equivalent for create or update. In spring it's implemented in this way - if entity has id property(<code>sequence.id != null</code> in this case), do an update, otherwise do create(insert). For your case, create the row when initializing new table, update it when ids are created.</p>\n<p>About <code>findAll()</code> - it returns a list with all rows/entites from a table. Here <code>repository.findAll()</code> will return <code>List&lt;Sequence&gt;</code>. <code>repository.findAll().get(0)</code> will return <code>Sequence</code>, the <strong>first and only</strong> row in the table.</p>\n"}],"owner":{"account_id":22968286,"reputation":82,"user_id":17097058,"display_name":"Curious"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":561,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71526800,"answer_count":1,"score":1,"last_activity_date":1648045471,"creation_date":1647469011,"question_id":71504860,"body_markdown":"I have a method that generates an alphanumeric sequence based on a particular pattern. I want to save the generated sequence and when next I want to generate a new one, it should start from the last saved one. I am having an issue with this happening because it is alphanumeric. Also, I want to put the generated IDs in an excel file. \r\n\r\nThese two methods below check if it already exists and also try to fetch the last item saved.\r\n\r\n   \r\n\r\n     public Optional&lt;Terminal&gt; findByGeneratedTerminalIDs(String id){\r\n            return Optional.ofNullable(this.collection.findOne(Filters.eq(&quot;generatedTerminalID&quot;, id)));\r\n        }\r\n    \r\n        public Optional&lt;FindIterable&lt;Terminal&gt;&gt; findLastGeneratedTerminalID(String generatedTerminalID) {\r\n            return Optional.ofNullable(this.collection.find(Filters.eq(&quot;generatedTerminalID&quot;, generatedTerminalID)).\r\n                    sort(Sorts.descending(&quot;generatedTerminalID&quot;)).limit(1));\r\n    \r\n        }\r\n\r\n\r\n\r\nHere is the updated repository\r\n\r\n    private JacksonMongoCollection&lt;Sequence&gt; collection;\r\n    \r\n        public SequenceRepository(JacksonMongoCollection&lt;Sequence&gt; collection) {\r\n            this.collection = collection;\r\n        }\r\n    \r\n    \r\n    public Sequence save(Sequence sequence) {\r\n        collection.save(sequence);\r\n        return sequence;\r\n    }\r\n    \r\n    public Sequence findAllSequences(Sequence sequence) {\r\n        return collection.find(Filters.eq(&quot;generatedTerminalID&quot;, sequence.getGeneratedTerminalID())).first();\r\n    }\r\n\r\n \r\n\r\npublic BaseResponse generateTerminalIDs(TerminalIDDTO terminalDto) {\r\n\r\n    Sequence sequence = new Sequence();\r\n    sequence.setNext(0);\r\n    sequenceRepository.save(sequence);\r\n\r\n    int totalLength = 8;\r\n    int numberOfIds = terminalDto.getNumberOfTerminals();\r\n    int countRemainingSymbols = totalLength - START.length();\r\n    //there should be only 1 row at all times\r\n    sequence = this.sequenceRepository.findAllSequences(sequence);\r\n    int start = sequence.getNext();//start generation of sequences from the value of next\r\n    int next = start + numberOfIds;//this will be next value of sequence.next\r\n    for (int i = start; i &lt; next; i++) {\r\n        StringBuilder end = new StringBuilder();\r\n        int current = i;\r\n        int remainder = current % ALPHANUMERIC.length();//the index of next character\r\n        do {\r\n            end.append(ALPHANUMERIC.charAt(remainder));\r\n            current /= ALPHANUMERIC.length();//update to check if we need to add more characters\r\n            remainder = current % ALPHANUMERIC.length();//update index, only used if more chars are needed\r\n        } while (current &gt; 0);\r\n        int padCount = countRemainingSymbols - end.length();\r\n        StringBuilder result = new StringBuilder(START).append(&quot;-&quot;);//- is for easier debugging, remove it for your case\r\n        for (int j = 0; j &lt; padCount; j++) {\r\n            result.append(&quot;0&quot;);\r\n        }\r\n        result.append(end.reverse());\r\n        log.info(&quot;These are the values {}&quot;, result);\r\n    }\r\n    //update next value and save in db\r\n    sequence.setNext(next);\r\n    sequenceRepository.save(sequence);\r\n\r\n    return BaseResponse.builder().status(true).message(&quot;TerminalIDs have been generated&quot;).build();\r\n}\r\n\r\nI want the saving and checking if it exists to be done in this method I posted above. What is the best way to go about it?\r\n","title":"How to save alphanumeric sequence in mongodb and start generating from the last saved sequence in MongoDB","body":"<p>I have a method that generates an alphanumeric sequence based on a particular pattern. I want to save the generated sequence and when next I want to generate a new one, it should start from the last saved one. I am having an issue with this happening because it is alphanumeric. Also, I want to put the generated IDs in an excel file.</p>\n<p>These two methods below check if it already exists and also try to fetch the last item saved.</p>\n<pre><code> public Optional&lt;Terminal&gt; findByGeneratedTerminalIDs(String id){\n        return Optional.ofNullable(this.collection.findOne(Filters.eq(&quot;generatedTerminalID&quot;, id)));\n    }\n\n    public Optional&lt;FindIterable&lt;Terminal&gt;&gt; findLastGeneratedTerminalID(String generatedTerminalID) {\n        return Optional.ofNullable(this.collection.find(Filters.eq(&quot;generatedTerminalID&quot;, generatedTerminalID)).\n                sort(Sorts.descending(&quot;generatedTerminalID&quot;)).limit(1));\n\n    }\n</code></pre>\n<p>Here is the updated repository</p>\n<pre><code>private JacksonMongoCollection&lt;Sequence&gt; collection;\n\n    public SequenceRepository(JacksonMongoCollection&lt;Sequence&gt; collection) {\n        this.collection = collection;\n    }\n\n\npublic Sequence save(Sequence sequence) {\n    collection.save(sequence);\n    return sequence;\n}\n\npublic Sequence findAllSequences(Sequence sequence) {\n    return collection.find(Filters.eq(&quot;generatedTerminalID&quot;, sequence.getGeneratedTerminalID())).first();\n}\n</code></pre>\n<p>public BaseResponse generateTerminalIDs(TerminalIDDTO terminalDto) {</p>\n<pre><code>Sequence sequence = new Sequence();\nsequence.setNext(0);\nsequenceRepository.save(sequence);\n\nint totalLength = 8;\nint numberOfIds = terminalDto.getNumberOfTerminals();\nint countRemainingSymbols = totalLength - START.length();\n//there should be only 1 row at all times\nsequence = this.sequenceRepository.findAllSequences(sequence);\nint start = sequence.getNext();//start generation of sequences from the value of next\nint next = start + numberOfIds;//this will be next value of sequence.next\nfor (int i = start; i &lt; next; i++) {\n    StringBuilder end = new StringBuilder();\n    int current = i;\n    int remainder = current % ALPHANUMERIC.length();//the index of next character\n    do {\n        end.append(ALPHANUMERIC.charAt(remainder));\n        current /= ALPHANUMERIC.length();//update to check if we need to add more characters\n        remainder = current % ALPHANUMERIC.length();//update index, only used if more chars are needed\n    } while (current &gt; 0);\n    int padCount = countRemainingSymbols - end.length();\n    StringBuilder result = new StringBuilder(START).append(&quot;-&quot;);//- is for easier debugging, remove it for your case\n    for (int j = 0; j &lt; padCount; j++) {\n        result.append(&quot;0&quot;);\n    }\n    result.append(end.reverse());\n    log.info(&quot;These are the values {}&quot;, result);\n}\n//update next value and save in db\nsequence.setNext(next);\nsequenceRepository.save(sequence);\n\nreturn BaseResponse.builder().status(true).message(&quot;TerminalIDs have been generated&quot;).build();\n</code></pre>\n<p>}</p>\n<p>I want the saving and checking if it exists to be done in this method I posted above. What is the best way to go about it?</p>\n"},{"tags":["java","mysql","sql","spring","database"],"comments":[{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1648044476,"post_id":71588578,"comment_id":126524560,"body_markdown":"&quot;...at which number do i break my database...&quot; -- That depends on a specific database, and the specific version of it. As a general rule engines typ&#236;cally accept hundreds but you would reach some limits at 1000 (oracle, for example). I would try with increasing sets of values to check your specific engine/version and also the specific JDBC driver limitations.","body":"&quot;...at which number do i break my database...&quot; -- That depends on a specific database, and the specific version of it. As a general rule engines typ&#236;cally accept hundreds but you would reach some limits at 1000 (oracle, for example). I would try with increasing sets of values to check your specific engine/version and also the specific JDBC driver limitations."},{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":1,"creation_date":1648044545,"post_id":71588578,"comment_id":126524593,"body_markdown":"Al alternative way (that I have seen sometimes implemented) is to create a temp table, batch-insert all parameters on it and then a simple join would get all the info you need in a single query.","body":"Al alternative way (that I have seen sometimes implemented) is to create a temp table, batch-insert all parameters on it and then a simple join would get all the info you need in a single query."},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1648044839,"post_id":71588578,"comment_id":126524740,"body_markdown":"I would go for selecting UserInformation joinned with user table. You should get same amount of rows but &quot;username&quot; for example will be fetched as many times as there are rows of UserInformation. Then create Set&lt;UserModel&gt; and in row mapper just add rows to the Set if there is user from row in set. If there is user in set just add row information into it. Ideally UserModel should have hashcode and equals based on id of user.","body":"I would go for selecting UserInformation joinned with user table. You should get same amount of rows but &quot;username&quot; for example will be fetched as many times as there are rows of UserInformation. Then create Set&lt;UserModel&gt; and in row mapper just add rows to the Set if there is user from row in set. If there is user in set just add row information into it. Ideally UserModel should have hashcode and equals based on id of user."},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1648045004,"post_id":71588578,"comment_id":126524824,"body_markdown":"Generally everything depends on performance, sometimes 10000selects is faster than one big. But it&#39;s not a rule. Maybe it would be better for you to just do select * from user and select * from userinformation and just merge them in java. It depends on size of database and your ram size :D","body":"Generally everything depends on performance, sometimes 10000selects is faster than one big. But it&#39;s not a rule. Maybe it would be better for you to just do select * from user and select * from userinformation and just merge them in java. It depends on size of database and your ram size :D"},{"owner":{"account_id":5037968,"reputation":31,"user_id":4046248,"display_name":"Dominik Eiglsperger"},"score":0,"creation_date":1648045161,"post_id":71588578,"comment_id":126524907,"body_markdown":"Ok, i forgot to mention. User table and UserInformation table can&#39;t be joined. Assume they are on different databases. My core question rather relates to the problem of querying thousands of requests or 1 request and merging them to the right object (which has the problems of the &#39;in&#39; clause)","body":"Ok, i forgot to mention. User table and UserInformation table can&#39;t be joined. Assume they are on different databases. My core question rather relates to the problem of querying thousands of requests or 1 request and merging them to the right object (which has the problems of the &#39;in&#39; clause)"}],"owner":{"account_id":5037968,"reputation":31,"user_id":4046248,"display_name":"Dominik Eiglsperger"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648045234,"creation_date":1648044231,"question_id":71588578,"body_markdown":"Assuming i have a database table &#39;UserInformation&#39; with thousands of entries.\r\n\r\n| id | user_id | type | value |\r\n| -- | ------- | ---- | ----- |\r\n| 1  | 1 | A | value_1 |\r\n| 2  | 1  | B | value_2 |\r\n| 3  | 2 | A | value_3 |\r\n| 4  | 2  | B | value_4 |\r\n| 5  | 2  | C | value_5 |\r\n|...| ...|...|...|\r\n\r\nFor simplicity, my task is to select all entries with a specific user_id and type A or B and assign the values to an UserModel Object (in Java). \r\nBut i have to select those information for thousands of user ids (e.g. user = 10.000 entries).\r\n\r\nI know two ways of achieving this:\r\n\r\n1.\r\n``` java\r\npublic List&lt;UserModel&gt; getUsers(List&lt;User&gt; users){\r\n    List&lt;UserModel&gt; userModels = new ArrayList&lt;&gt;();\r\n    for (User user : users){\r\n        String valueA = findValueByUserIdAndType(user.getId(), &quot;A&quot;);\r\n        String valueB = findValueByUserIdAndType(user.getId(), &quot;B&quot;);\r\n        userModels.add(new UserModel(user.getId(), valueA, valueB);\r\n    }\r\n    return userModels;\r\n}\r\n```\r\n\r\n2.\r\n``` java\r\npublic List&lt;UserModel&gt; getUsers(List&lt;User&gt; users){\r\n    List&lt;UserModel&gt; userModels = new ArrayList&lt;&gt;();\r\n    List&lt;UserInformation&gt; entries = findAllByUserIdInAndTypeIn(userIds, List.of(&quot;A&quot;, &quot;B&quot;);\r\n    Map&lt;Long, List&lt;UserInformation&gt;&gt; entriesMappedByUserId = groupByUserId(entries);\r\n    \r\n    for (User user : users){\r\n      UserInformation userInformation = entriesMappedByUserId.get(user.getId());\r\n      userModels.add(new UserModel(user.getId(), userInformation);\r\n    }\r\n\r\n    return userModels;\r\n}\r\n\r\n``` \r\n\r\nI know the first method yields in 20.000 database queries. But the second one leads me to two questions:\r\n- Is there a better way than transforming the database result into a map and retrieving the values based on an identifier\r\n- Assuming the second database query uses an in clause in the sql query (where user_id in (1,2,3,...,10000), at which number do i break my database\r\n\r\nAnd the resulting question: Is there a better way to select a huge number of entries?\r\n\r\n**Edit:** Assume the User table and UserInformation table can&#39;t be joined because the information is stored on two different places.\r\n","title":"Is there a better way of bulk selections in sql?","body":"<p>Assuming i have a database table 'UserInformation' with thousands of entries.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>id</th>\n<th>user_id</th>\n<th>type</th>\n<th>value</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>1</td>\n<td>A</td>\n<td>value_1</td>\n</tr>\n<tr>\n<td>2</td>\n<td>1</td>\n<td>B</td>\n<td>value_2</td>\n</tr>\n<tr>\n<td>3</td>\n<td>2</td>\n<td>A</td>\n<td>value_3</td>\n</tr>\n<tr>\n<td>4</td>\n<td>2</td>\n<td>B</td>\n<td>value_4</td>\n</tr>\n<tr>\n<td>5</td>\n<td>2</td>\n<td>C</td>\n<td>value_5</td>\n</tr>\n<tr>\n<td>...</td>\n<td>...</td>\n<td>...</td>\n<td>...</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>For simplicity, my task is to select all entries with a specific user_id and type A or B and assign the values to an UserModel Object (in Java).\nBut i have to select those information for thousands of user ids (e.g. user = 10.000 entries).</p>\n<p>I know two ways of achieving this:</p>\n<p>1.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;UserModel&gt; getUsers(List&lt;User&gt; users){\n    List&lt;UserModel&gt; userModels = new ArrayList&lt;&gt;();\n    for (User user : users){\n        String valueA = findValueByUserIdAndType(user.getId(), &quot;A&quot;);\n        String valueB = findValueByUserIdAndType(user.getId(), &quot;B&quot;);\n        userModels.add(new UserModel(user.getId(), valueA, valueB);\n    }\n    return userModels;\n}\n</code></pre>\n<ol start=\"2\">\n<li></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;UserModel&gt; getUsers(List&lt;User&gt; users){\n    List&lt;UserModel&gt; userModels = new ArrayList&lt;&gt;();\n    List&lt;UserInformation&gt; entries = findAllByUserIdInAndTypeIn(userIds, List.of(&quot;A&quot;, &quot;B&quot;);\n    Map&lt;Long, List&lt;UserInformation&gt;&gt; entriesMappedByUserId = groupByUserId(entries);\n    \n    for (User user : users){\n      UserInformation userInformation = entriesMappedByUserId.get(user.getId());\n      userModels.add(new UserModel(user.getId(), userInformation);\n    }\n\n    return userModels;\n}\n\n</code></pre>\n<p>I know the first method yields in 20.000 database queries. But the second one leads me to two questions:</p>\n<ul>\n<li>Is there a better way than transforming the database result into a map and retrieving the values based on an identifier</li>\n<li>Assuming the second database query uses an in clause in the sql query (where user_id in (1,2,3,...,10000), at which number do i break my database</li>\n</ul>\n<p>And the resulting question: Is there a better way to select a huge number of entries?</p>\n<p><strong>Edit:</strong> Assume the User table and UserInformation table can't be joined because the information is stored on two different places.</p>\n"},{"tags":["java","polymorphism"],"comments":[{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1648045661,"post_id":71588792,"comment_id":126525158,"body_markdown":"Presumably, the two child classes should have different results.  They appear to be doing some random math operations.  Can you describe your input, output, and expected output more specifically?  Does it work for some inputs and not others?","body":"Presumably, the two child classes should have different results.  They appear to be doing some random math operations.  Can you describe your input, output, and expected output more specifically?  Does it work for some inputs and not others?"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1648046548,"post_id":71588792,"comment_id":126525543,"body_markdown":"That code shouldn&#39;t even compile as you haven&#39;t defined a default constructor for your child classes and java won&#39;t be able to auto-generate one because your parent class does not have a default constructor. Apart from that in your filter methods you ignore the passed `int StartElement` parameter and instead use the field `startElement` from the parent, which will probably still be 0 as you haven&#39;t initialized it. Capitalization is important in java.","body":"That code shouldn&#39;t even compile as you haven&#39;t defined a default constructor for your child classes and java won&#39;t be able to auto-generate one because your parent class does not have a default constructor. Apart from that in your filter methods you ignore the passed <code>int StartElement</code> parameter and instead use the field <code>startElement</code> from the parent, which will probably still be 0 as you haven&#39;t initialized it. Capitalization is important in java."}],"owner":{"account_id":15132789,"reputation":11,"user_id":10920113,"display_name":"Tarun Sai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648044996,"creation_date":1648044996,"question_id":71588792,"body_markdown":"At where I&#39;m missing the link to parent and children class as the startElement and endElement of parent class variables are holding( 0 and 50 )respectively in both the ChildOne and ChildTwo classes regardless of input given to them.\r\n\r\neg: when startElement=20,endElement=100 the filter methods in both classes should return the values in the interval\\[20,100\\] but getting values in range \\[0,50\\]\r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n    import java.text.*;\r\n    import java.math.*;\r\n    import java.util.regex.*;\r\n    \r\n    public class Solution {\r\n        public static void main(String args[] ) throws Exception {\r\n                /* Enter your code here. Read input from STDIN. Print output to STDOUT */\r\n                Scanner scan = new Scanner(System.in);\r\n                int startElement = scan.nextInt();\r\n                int endElement=scan.nextInt();\r\n                Parent a;\r\n                a = new ChildOne();\r\n                System.out.println(a.filter(startElement,endElement));\r\n        \r\n                a = new ChildTwo();\r\n                System.out.println(a.filter(startElement,endElement));\r\n        }\r\n    }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    class Parent {\r\n        public int startElement;\r\n        public int endElement;\r\n        \r\n        \r\n        public String filter(int startElement,int endElement)\r\n        {\r\n            return null;\r\n        }\r\n        Parent(int startElement,int endElement){\r\n          this.startElement=startElement;\r\n          this.endElement=endElement;\r\n        }\r\n        \r\n    }\r\n    \r\n    \r\n    class ChildOne extends Parent{\r\n        public String filter(int StartElement,int endElement){\r\n          ArrayList&lt;Integer&gt; arr= new ArrayList&lt;Integer&gt;();\r\n          int flag=0;\r\n          System.out.println(&quot;input &quot;+startElement +endElement);\r\n            for(int i=startElement;i&lt;=endElement;i++){\r\n                if (i == 1 || i == 0){\r\n                    continue;\r\n                }\r\n                flag = 1;\r\n                for(int j=2;j&lt;=i/2;j++){\r\n                    if(i%j==0){\r\n                        flag=0;\r\n                        break;\r\n                    }\r\n                }\r\n                if(flag==1){\r\n                    arr.add(i);\r\n                    \r\n                }\r\n            }\r\n             String str=&quot;&quot;;\r\n            for(Integer value:arr){\r\n              String s=String.valueOf(value);\r\n              str+=s+&#39; &#39;;\r\n              \r\n            }\r\n            return str;\r\n            \r\n        }\r\n        \r\n    }\r\n    \r\n    class ChildTwo extends Parent {\r\n      \r\n        public String filter(int StartElement,int endElement)\r\n        {\r\n           ArrayList&lt;Integer&gt; arr= new ArrayList&lt;Integer&gt;();\r\n           System.out.println(&quot;input &quot;+startElement +&quot; &quot;+endElement);\r\n           for(int i=StartElement;i&lt;=endElement;i++)\r\n           {\r\n            int num=i,sum=0,rem;\r\n             while(sum!=1 &amp;&amp; sum!=4)\r\n               {\r\n                  sum=0;\r\n                  while(num!=0)\r\n                  {\r\n                      rem=num%10;\r\n                      sum+=(rem*rem);\r\n                      num/=10;\r\n                  }\r\n                  num=sum;\r\n              }\r\n            if(sum==1){\r\n              arr.add(i);\r\n            } \r\n                      \r\n         }\r\n        String str=&quot;&quot;;\r\n        for(Integer value:arr){\r\n           String s=String.valueOf(value);\r\n              str+=s+&#39; &#39;;\r\n          }\r\n          \r\n        return str;\r\n            \r\n        }\r\n    }\r\n    \r\n    \r\n\r\n   ","title":"startElement and endElement variable are holding 0 and 50 regardless of the input given to them in derived classes","body":"<p>At where I'm missing the link to parent and children class as the startElement and endElement of parent class variables are holding( 0 and 50 )respectively in both the ChildOne and ChildTwo classes regardless of input given to them.</p>\n<p>eg: when startElement=20,endElement=100 the filter methods in both classes should return the values in the interval[20,100] but getting values in range [0,50]</p>\n<pre><code>import java.io.*;\nimport java.util.*;\nimport java.text.*;\nimport java.math.*;\nimport java.util.regex.*;\n\npublic class Solution {\n    public static void main(String args[] ) throws Exception {\n            /* Enter your code here. Read input from STDIN. Print output to STDOUT */\n            Scanner scan = new Scanner(System.in);\n            int startElement = scan.nextInt();\n            int endElement=scan.nextInt();\n            Parent a;\n            a = new ChildOne();\n            System.out.println(a.filter(startElement,endElement));\n    \n            a = new ChildTwo();\n            System.out.println(a.filter(startElement,endElement));\n    }\n}\n\n\n\n\n\nclass Parent {\n    public int startElement;\n    public int endElement;\n    \n    \n    public String filter(int startElement,int endElement)\n    {\n        return null;\n    }\n    Parent(int startElement,int endElement){\n      this.startElement=startElement;\n      this.endElement=endElement;\n    }\n    \n}\n\n\nclass ChildOne extends Parent{\n    public String filter(int StartElement,int endElement){\n      ArrayList&lt;Integer&gt; arr= new ArrayList&lt;Integer&gt;();\n      int flag=0;\n      System.out.println(&quot;input &quot;+startElement +endElement);\n        for(int i=startElement;i&lt;=endElement;i++){\n            if (i == 1 || i == 0){\n                continue;\n            }\n            flag = 1;\n            for(int j=2;j&lt;=i/2;j++){\n                if(i%j==0){\n                    flag=0;\n                    break;\n                }\n            }\n            if(flag==1){\n                arr.add(i);\n                \n            }\n        }\n         String str=&quot;&quot;;\n        for(Integer value:arr){\n          String s=String.valueOf(value);\n          str+=s+' ';\n          \n        }\n        return str;\n        \n    }\n    \n}\n\nclass ChildTwo extends Parent {\n  \n    public String filter(int StartElement,int endElement)\n    {\n       ArrayList&lt;Integer&gt; arr= new ArrayList&lt;Integer&gt;();\n       System.out.println(&quot;input &quot;+startElement +&quot; &quot;+endElement);\n       for(int i=StartElement;i&lt;=endElement;i++)\n       {\n        int num=i,sum=0,rem;\n         while(sum!=1 &amp;&amp; sum!=4)\n           {\n              sum=0;\n              while(num!=0)\n              {\n                  rem=num%10;\n                  sum+=(rem*rem);\n                  num/=10;\n              }\n              num=sum;\n          }\n        if(sum==1){\n          arr.add(i);\n        } \n                  \n     }\n    String str=&quot;&quot;;\n    for(Integer value:arr){\n       String s=String.valueOf(value);\n          str+=s+' ';\n      }\n      \n    return str;\n        \n    }\n}\n</code></pre>\n"},{"tags":["java","algorithm","recursion","maze"],"comments":[{"owner":{"account_id":34433,"reputation":55374,"user_id":1400793,"display_name":"Paul Hankin"},"score":2,"creation_date":1648026814,"post_id":71584372,"comment_id":126517269,"body_markdown":"`traverse` only prints something when `returnValue` is set, which records whether the path found the target.","body":"<code>traverse</code> only prints something when <code>returnValue</code> is set, which records whether the path found the target."}],"answers":[{"tags":[],"owner":{"account_id":24401797,"reputation":1794,"user_id":18330436,"display_name":"Tomer Geva"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648044925,"creation_date":1648028185,"answer_id":71584866,"question_id":71584372,"body_markdown":"The function implements Depth First Search, also knows as DFS to find the path. You can read more on DFS and BFS [here][1]. What happens is basically as follow:\r\n1. Checking if a current coordinate is the end coordinate, if it is returns `True`\r\n2. Else, check if you can reach the end by advancing up\r\n   \r\n   2.1 if you can reach the end by advancing up, print this coordinate and return `True`\r\n3. Else, check if you can reach the end by advancing right\r\n   \r\n   3.1 if you can reach the end by advancing up, print this coordinate and return `True`\r\n4. Else, check if you can reach the end by advancing down\r\n   \r\n   4.1 if you can reach the end by advancing up, print this coordinate and return `True`\r\n5. Else, check if you can reach the end by advancing left\r\n   \r\n   5.1 if you can reach the end by advancing up, print this coordinate and return `True`\r\n6. Else, return `False`, meaning that from this coordinate you can not reach the end.\r\n\r\nInstead of keeping a list of states to be visited, the information is being stored in the recursion.\r\n\r\nA similar problem with DFS search of a path in a maze can be found [here][2], implemented in Python and might be easier to understand the concept since it is not implemented with recursion but with a list.\r\n\r\n**Please note** that the algorithm that is written does not find the *shortest* path, but it finds *a* path. To find the shortest path, you should use BFS since it covers all the paths with `x` steps before checking paths with `x+1` steps.\r\n\r\n\r\n  [1]: https://www.guru99.com/difference-between-bfs-and-dfs.html\r\n  [2]: https://stackoverflow.com/questions/71543676/find-maximum-y-coordinate-of-path-in-grid/71567719#71567719","title":"How does this maze algorithm return the shortest path correctly?","body":"<p>The function implements Depth First Search, also knows as DFS to find the path. You can read more on DFS and BFS <a href=\"https://www.guru99.com/difference-between-bfs-and-dfs.html\" rel=\"nofollow noreferrer\">here</a>. What happens is basically as follow:</p>\n<ol>\n<li><p>Checking if a current coordinate is the end coordinate, if it is returns <code>True</code></p>\n</li>\n<li><p>Else, check if you can reach the end by advancing up</p>\n<p>2.1 if you can reach the end by advancing up, print this coordinate and return <code>True</code></p>\n</li>\n<li><p>Else, check if you can reach the end by advancing right</p>\n<p>3.1 if you can reach the end by advancing up, print this coordinate and return <code>True</code></p>\n</li>\n<li><p>Else, check if you can reach the end by advancing down</p>\n<p>4.1 if you can reach the end by advancing up, print this coordinate and return <code>True</code></p>\n</li>\n<li><p>Else, check if you can reach the end by advancing left</p>\n<p>5.1 if you can reach the end by advancing up, print this coordinate and return <code>True</code></p>\n</li>\n<li><p>Else, return <code>False</code>, meaning that from this coordinate you can not reach the end.</p>\n</li>\n</ol>\n<p>Instead of keeping a list of states to be visited, the information is being stored in the recursion.</p>\n<p>A similar problem with DFS search of a path in a maze can be found <a href=\"https://stackoverflow.com/questions/71543676/find-maximum-y-coordinate-of-path-in-grid/71567719#71567719\">here</a>, implemented in Python and might be easier to understand the concept since it is not implemented with recursion but with a list.</p>\n<p><strong>Please note</strong> that the algorithm that is written does not find the <em>shortest</em> path, but it finds <em>a</em> path. To find the shortest path, you should use BFS since it covers all the paths with <code>x</code> steps before checking paths with <code>x+1</code> steps.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648031279,"creation_date":1648031279,"answer_id":71585581,"question_id":71584372,"body_markdown":"A Depth First Search is not optimal for finding the shortest path.\r\nA Breadth First Search ensures that you are at the shortest path whenever you find a solution (path).\r\n\r\nA BFS needs to mark the locations already searched (like &#39;*&#39; in the code), the current path length.\r\nAnd hold a list of locations just reached: the border.\r\n\r\nIn the next step from the border look at new neighbors, which will form the new border. Should a neighbor be the target (`(r == 9 &amp;&amp; c == 9)` here).\r\n\r\nThe border is initially the start: {(0, 0)}. The number of border points initially grows, and decreases again as dead-ends are dropped. A fixed size array is complicated, hence a `Set` or `List` is more appropriate.\r\n\r\nA real _recursive_ BFS is easier, but you might iterate over the borders, and\r\nreconstruct the shortest path by leaving &quot;bread crumbs.&quot;\r\n\r\nFor a location a `record` class is easiest. Since Java 16.\r\n\r\n    record Location (int row, int column) {\r\n        List&lt;Location&gt; getNeighbors() {\r\n            List&lt;Location&gt; nbs = new ArrayList&lt;&gt;();            \r\n            if (row &gt; 0) {\r\n                nbs.add(new Location(row - 1, column));\r\n            }\r\n            if (row &lt; 10-1) {\r\n                nbs.add(new Location(row + 1, column));\r\n            }\r\n            if (column &gt; 0) {\r\n                nbs.add(new Location(row, column - 1));\r\n            }\r\n            if (column &lt; 10-1) {\r\n                nbs.add(new Location(row, column + 1));\r\n            }\r\n            return nbs;\r\n        }\r\n\r\n    }\r\n\r\nFor the border a Set is more suitable as from two old border locations one can reach the same new border location.\r\n\r\n    Set&lt;Location&gt; border = new HashSet&lt;&gt;();\r\n    border.add(new Location(0, 0));\r\n    int pathLength = 0;\r\n\r\n    void moveToNextBorder(Set&lt;Location&gt; border) {\r\n        char breadCrumb = &#39;a&#39; + pathLength;\r\n        ++pathLength;\r\n        Set&lt;Location&gt; result = new HashSet&lt;&gt;();\r\n        for (Location oldLoc: border) {\r\n            maze[oldLoc.row][oldLoc.column] = breadCrumb;\r\n        }\r\n        for (Location oldLoc: border) {\r\n            for (Location loc: oldLoc.getNeighbors()) {\r\n                if (maze[loc.row][loc.column] == &#39;.&#39;) {\r\n                    result.add(loc); // Could already have been added.\r\n                }\r\n            }\r\n        }\r\n        border.clear();\r\n        border.addAll(result);\r\n    }\r\n\r\nTo see whether the new border reaches the target:\r\n\r\n    moveToNextBorder(border);\r\n    if (border.contains(new Location(9, 9))) {\r\n        // Take a shortest path, using breadCrumbs downto &#39;a&#39;.\r\n        Location[] shortestPath = new Location[pathLength];\r\n        ...\r\n    }\r\n\r\n","title":"How does this maze algorithm return the shortest path correctly?","body":"<p>A Depth First Search is not optimal for finding the shortest path.\nA Breadth First Search ensures that you are at the shortest path whenever you find a solution (path).</p>\n<p>A BFS needs to mark the locations already searched (like '*' in the code), the current path length.\nAnd hold a list of locations just reached: the border.</p>\n<p>In the next step from the border look at new neighbors, which will form the new border. Should a neighbor be the target (<code>(r == 9 &amp;&amp; c == 9)</code> here).</p>\n<p>The border is initially the start: {(0, 0)}. The number of border points initially grows, and decreases again as dead-ends are dropped. A fixed size array is complicated, hence a <code>Set</code> or <code>List</code> is more appropriate.</p>\n<p>A real <em>recursive</em> BFS is easier, but you might iterate over the borders, and\nreconstruct the shortest path by leaving &quot;bread crumbs.&quot;</p>\n<p>For a location a <code>record</code> class is easiest. Since Java 16.</p>\n<pre><code>record Location (int row, int column) {\n    List&lt;Location&gt; getNeighbors() {\n        List&lt;Location&gt; nbs = new ArrayList&lt;&gt;();            \n        if (row &gt; 0) {\n            nbs.add(new Location(row - 1, column));\n        }\n        if (row &lt; 10-1) {\n            nbs.add(new Location(row + 1, column));\n        }\n        if (column &gt; 0) {\n            nbs.add(new Location(row, column - 1));\n        }\n        if (column &lt; 10-1) {\n            nbs.add(new Location(row, column + 1));\n        }\n        return nbs;\n    }\n\n}\n</code></pre>\n<p>For the border a Set is more suitable as from two old border locations one can reach the same new border location.</p>\n<pre><code>Set&lt;Location&gt; border = new HashSet&lt;&gt;();\nborder.add(new Location(0, 0));\nint pathLength = 0;\n\nvoid moveToNextBorder(Set&lt;Location&gt; border) {\n    char breadCrumb = 'a' + pathLength;\n    ++pathLength;\n    Set&lt;Location&gt; result = new HashSet&lt;&gt;();\n    for (Location oldLoc: border) {\n        maze[oldLoc.row][oldLoc.column] = breadCrumb;\n    }\n    for (Location oldLoc: border) {\n        for (Location loc: oldLoc.getNeighbors()) {\n            if (maze[loc.row][loc.column] == '.') {\n                result.add(loc); // Could already have been added.\n            }\n        }\n    }\n    border.clear();\n    border.addAll(result);\n}\n</code></pre>\n<p>To see whether the new border reaches the target:</p>\n<pre><code>moveToNextBorder(border);\nif (border.contains(new Location(9, 9))) {\n    // Take a shortest path, using breadCrumbs downto 'a'.\n    Location[] shortestPath = new Location[pathLength];\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":20028751,"reputation":83,"user_id":17944655,"display_name":"Miles"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71584866,"answer_count":2,"score":1,"last_activity_date":1648044925,"creation_date":1648025921,"question_id":71584372,"body_markdown":"I came across this maze solver algorithm:\r\n\r\n```\r\npublic class Maze {\r\n\r\n    public static void main(String[] args) {\r\n        char[][] maze = {\r\n                {&#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;},\r\n                {&#39;0&#39;, &#39;0&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;0&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;0&#39;},\r\n                {&#39;0&#39;, &#39;0&#39;, &#39;.&#39;, &#39;0&#39;, &#39;.&#39;, &#39;0&#39;, &#39;.&#39;, &#39;0&#39;, &#39;.&#39;, &#39;0&#39;},\r\n                {&#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;0&#39;, &#39;.&#39;, &#39;0&#39;, &#39;.&#39;, &#39;0&#39;, &#39;.&#39;, &#39;0&#39;},\r\n                {&#39;.&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;0&#39;, &#39;.&#39;, &#39;0&#39;},\r\n                {&#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;.&#39;, &#39;.&#39;, &#39;0&#39;},\r\n                {&#39;.&#39;, &#39;0&#39;, &#39;0&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;0&#39;, &#39;.&#39;, &#39;.&#39;, &#39;0&#39;},\r\n                {&#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;0&#39;, &#39;0&#39;, &#39;.&#39;, &#39;0&#39;, &#39;0&#39;, &#39;.&#39;, &#39;.&#39;},\r\n                {&#39;0&#39;, &#39;0&#39;, &#39;.&#39;, &#39;0&#39;, &#39;0&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;0&#39;, &#39;0&#39;},\r\n                {&#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;},\r\n        };\r\n\r\n        print(maze);\r\n\r\n        if(traverse(maze, 0, 0)) {\r\n            System.out.println(&quot;SOLVED maze&quot;);\r\n        } else {\r\n            System.out.println(&quot;could NOT SOLVE maze&quot;);\r\n        }\r\n\r\n        print(maze);\r\n    }\r\n\r\n    private static void print(char[][] maze) {\r\n        System.out.println(&quot;-----------------------&quot;);\r\n        for(int x = 0; x &lt; 10; x++) {\r\n            System.out.print(&quot;| &quot;);\r\n            for(int y = 0; y &lt; 10; y++) {\r\n                System.out.print(maze[x][y] + &quot; &quot;);\r\n            }\r\n            System.out.println(&quot;|&quot;);\r\n        }\r\n        System.out.println(&quot;-----------------------&quot;);\r\n    }\r\n\r\n    public static boolean isValidSpot(char[][] maze, int r, int c) {\r\n        if(r &gt;= 0 &amp;&amp; r &lt; 10 &amp;&amp; c &gt;= 0 &amp;&amp; c &lt; 10) {\r\n            return maze[r][c] == &#39;.&#39;;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public static boolean traverse(char[][] maze, int r, int c) {\r\n        if(isValidSpot(maze, r, c)) {\r\n            //it is a valid spot\r\n            if(r == 9 &amp;&amp; c == 9) {\r\n                return true;\r\n            }\r\n\r\n            maze[r][c] = &#39;*&#39;;\r\n\r\n            //up\r\n            boolean returnValue = traverse(maze, r - 1, c);\r\n\r\n\r\n            //right\r\n            if(!returnValue) {\r\n                returnValue = traverse(maze, r, c + 1);\r\n            }\r\n\r\n            //down\r\n            if(!returnValue) {\r\n                returnValue = traverse(maze, r + 1, c);\r\n            }\r\n\r\n            //left\r\n            if(!returnValue) {\r\n                returnValue = traverse(maze, r, c - 1);\r\n            }\r\n\r\n            if(returnValue) {\r\n                System.out.println(r + &quot;, &quot; + c);\r\n                maze[r][c] = &#39; &#39;;\r\n            }\r\n            return returnValue;\r\n        }\r\n\r\n        return false;\r\n    }\r\n}\r\n```\r\n\r\nbut I can&#39;t work out the recursion in my mind. Even if the algorithm hits dead ends while searching for the exit spot and it marks the paths it passed through as invalid to pass through, it somehow returns to the last checkpoint, all while not printing the dead end paths. Which is the part that baffles me the most. How are dead end paths not printed in this algorithm?\r\n\r\nI tried printing the maze at every step but still couldn&#39;t work out how invalid paths are not printed.","title":"How does this maze algorithm return the shortest path correctly?","body":"<p>I came across this maze solver algorithm:</p>\n<pre><code>public class Maze {\n\n    public static void main(String[] args) {\n        char[][] maze = {\n                {'.', '.', '.', '0', '0', '0', '0', '0', '0', '0'},\n                {'0', '0', '.', '.', '.', '0', '.', '.', '.', '0'},\n                {'0', '0', '.', '0', '.', '0', '.', '0', '.', '0'},\n                {'.', '.', '.', '0', '.', '0', '.', '0', '.', '0'},\n                {'.', '0', '0', '0', '.', '.', '.', '0', '.', '0'},\n                {'.', '.', '.', '.', '0', '0', '0', '.', '.', '0'},\n                {'.', '0', '0', '.', '.', '.', '0', '.', '.', '0'},\n                {'.', '.', '.', '0', '0', '.', '0', '0', '.', '.'},\n                {'0', '0', '.', '0', '0', '.', '.', '.', '0', '0'},\n                {'0', '0', '0', '0', '0', '0', '0', '.', '.', '.'},\n        };\n\n        print(maze);\n\n        if(traverse(maze, 0, 0)) {\n            System.out.println(&quot;SOLVED maze&quot;);\n        } else {\n            System.out.println(&quot;could NOT SOLVE maze&quot;);\n        }\n\n        print(maze);\n    }\n\n    private static void print(char[][] maze) {\n        System.out.println(&quot;-----------------------&quot;);\n        for(int x = 0; x &lt; 10; x++) {\n            System.out.print(&quot;| &quot;);\n            for(int y = 0; y &lt; 10; y++) {\n                System.out.print(maze[x][y] + &quot; &quot;);\n            }\n            System.out.println(&quot;|&quot;);\n        }\n        System.out.println(&quot;-----------------------&quot;);\n    }\n\n    public static boolean isValidSpot(char[][] maze, int r, int c) {\n        if(r &gt;= 0 &amp;&amp; r &lt; 10 &amp;&amp; c &gt;= 0 &amp;&amp; c &lt; 10) {\n            return maze[r][c] == '.';\n        }\n        return false;\n    }\n\n    public static boolean traverse(char[][] maze, int r, int c) {\n        if(isValidSpot(maze, r, c)) {\n            //it is a valid spot\n            if(r == 9 &amp;&amp; c == 9) {\n                return true;\n            }\n\n            maze[r][c] = '*';\n\n            //up\n            boolean returnValue = traverse(maze, r - 1, c);\n\n\n            //right\n            if(!returnValue) {\n                returnValue = traverse(maze, r, c + 1);\n            }\n\n            //down\n            if(!returnValue) {\n                returnValue = traverse(maze, r + 1, c);\n            }\n\n            //left\n            if(!returnValue) {\n                returnValue = traverse(maze, r, c - 1);\n            }\n\n            if(returnValue) {\n                System.out.println(r + &quot;, &quot; + c);\n                maze[r][c] = ' ';\n            }\n            return returnValue;\n        }\n\n        return false;\n    }\n}\n</code></pre>\n<p>but I can't work out the recursion in my mind. Even if the algorithm hits dead ends while searching for the exit spot and it marks the paths it passed through as invalid to pass through, it somehow returns to the last checkpoint, all while not printing the dead end paths. Which is the part that baffles me the most. How are dead end paths not printed in this algorithm?</p>\n<p>I tried printing the maze at every step but still couldn't work out how invalid paths are not printed.</p>\n"},{"tags":["java","arrays","types","int","long-integer"],"comments":[{"owner":{"account_id":2400541,"reputation":2755,"user_id":2098287,"accept_rate":75,"display_name":"Arman Fatahi"},"score":1,"creation_date":1575008621,"post_id":59099611,"comment_id":104432039,"body_markdown":"Do you want to convert the `long` array to `int` array?","body":"Do you want to convert the <code>long</code> array to <code>int</code> array?"}],"answers":[{"tags":[],"owner":{"account_id":16725352,"reputation":983,"user_id":12089082,"display_name":"bbrinck"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1575008885,"creation_date":1575008885,"answer_id":59099745,"question_id":59099611,"body_markdown":"To convert an long[] to int[], you need to iterate over your long[] array, cast each individual number to int and put it to the int[] array.\r\n\r\n    // Your result\r\n    long[] numbers = sorting(new long[] {5, 21, 19, 55, 94, 73, 69, 100});\r\n\r\n    // Define a new int array with the same length of your result array\r\n    int[] intNumbers = new int[numbers.length];\r\n\r\n    // Loop through all the result numbers\r\n\tfor(int i = 0; i &lt; numbers.length; i++)\r\n\t{\r\n        // Cast to int and put it to the int array\r\n\t\tintNumbers[i] = (int) numbers[i];\r\n\t}\r\n\r\n\r\nOr you can also use Java Streams (&gt;= 1.8) for a shorter version:\r\n\r\n`int[] intArray = Arrays.stream(numbers).mapToInt(i -&gt; (int) i).toArray();`","title":"Convert long array to int array in Java","body":"<p>To convert an long[] to int[], you need to iterate over your long[] array, cast each individual number to int and put it to the int[] array.</p>\n\n<pre><code>// Your result\nlong[] numbers = sorting(new long[] {5, 21, 19, 55, 94, 73, 69, 100});\n\n// Define a new int array with the same length of your result array\nint[] intNumbers = new int[numbers.length];\n\n// Loop through all the result numbers\nfor(int i = 0; i &lt; numbers.length; i++)\n{\n    // Cast to int and put it to the int array\n    intNumbers[i] = (int) numbers[i];\n}\n</code></pre>\n\n<p>Or you can also use Java Streams (>= 1.8) for a shorter version:</p>\n\n<p><code>int[] intArray = Arrays.stream(numbers).mapToInt(i -&gt; (int) i).toArray();</code></p>\n"},{"tags":[],"owner":{"account_id":2400541,"reputation":2755,"user_id":2098287,"accept_rate":75,"display_name":"Arman Fatahi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1575009088,"creation_date":1575008908,"answer_id":59099751,"question_id":59099611,"body_markdown":"There is a similar question in \r\n[convert-an-int-array-to-long-array-using-java-8][1]\r\n\r\nYou can try this:\r\n```\r\n    long[] longArray = {1, 2, 3};\r\n    int[] intArray = Arrays.stream(longArray).mapToInt(i -&gt; (int) i).toArray();\r\n```\r\n\r\n  [1]: https://stackoverflow.com/questions/37882512/convert-an-int-array-to-long-array-using-java-8","title":"Convert long array to int array in Java","body":"<p>There is a similar question in \n<a href=\"https://stackoverflow.com/questions/37882512/convert-an-int-array-to-long-array-using-java-8\">convert-an-int-array-to-long-array-using-java-8</a></p>\n\n<p>You can try this:</p>\n\n<pre><code>    long[] longArray = {1, 2, 3};\n    int[] intArray = Arrays.stream(longArray).mapToInt(i -&gt; (int) i).toArray();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5914240,"reputation":1974,"user_id":4653517,"display_name":"James Mudd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648044824,"creation_date":1648044824,"answer_id":71588731,"question_id":59099611,"body_markdown":"Something else to mention here. If you just cast `long` to `int` you risk an integer overflow. So to be safe I would recommend `Math#toIntExact` function which ensures the conversion is safe. Here is an example:\r\n```\r\nlong[] longs = new long[] {1,2,3,4,5};\r\nint[] ints = Arrays.stream(longs).mapToInt(Math::toIntExact).toArray();\r\n```\r\nIf `longs` contains a value that can&#39;t be converted to an `int` then an\r\n`ArithmeticException` will be thrown e.g.\r\n```\r\nlong[] longs = new long[] {1,2,3,4,5, Long.MAX_VALUE};\r\nint[] ints = Arrays.stream(longs).mapToInt(Math::toIntExact).toArray(); // Throws here\r\n```\r\nwill throw `Exception in thread &quot;main&quot; java.lang.ArithmeticException: integer overflow` this ensures your code works correctly.\r\n","title":"Convert long array to int array in Java","body":"<p>Something else to mention here. If you just cast <code>long</code> to <code>int</code> you risk an integer overflow. So to be safe I would recommend <code>Math#toIntExact</code> function which ensures the conversion is safe. Here is an example:</p>\n<pre><code>long[] longs = new long[] {1,2,3,4,5};\nint[] ints = Arrays.stream(longs).mapToInt(Math::toIntExact).toArray();\n</code></pre>\n<p>If <code>longs</code> contains a value that can't be converted to an <code>int</code> then an\n<code>ArithmeticException</code> will be thrown e.g.</p>\n<pre><code>long[] longs = new long[] {1,2,3,4,5, Long.MAX_VALUE};\nint[] ints = Arrays.stream(longs).mapToInt(Math::toIntExact).toArray(); // Throws here\n</code></pre>\n<p>will throw <code>Exception in thread &quot;main&quot; java.lang.ArithmeticException: integer overflow</code> this ensures your code works correctly.</p>\n"}],"owner":{"account_id":17204123,"reputation":31,"user_id":12455070,"display_name":"Inna S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9976,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1648044824,"creation_date":1575008161,"question_id":59099611,"body_markdown":"I&#39;ve just begun using java and I can&#39;t convert a long array type to int array. Can you give a piece of advice what should I do?\r\nThank you!\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            long[] numbers;\r\n            numbers = sorting(new long[]{5, 21, 19, 55, 94, 73, 69, 100,});\r\n    \r\n    \r\n    \r\n        }\r\n    \r\n        public static long[] sorting(long [] numbers) {\r\n    \r\n            for (long num : numbers) {\r\n                long j = 0;\r\n                for (int i = 0; i &lt; numbers.length - 1; i++) {\r\n                    if (numbers[i] &gt; numbers[i + 1]) {\r\n                        j = numbers[i];\r\n                        numbers[i] = numbers[i + 1];\r\n                        numbers[i + 1] = j;\r\n    \r\n    \r\n                    }\r\n                }\r\n                System.out.println(num + &quot;,&quot;);\r\n            }\r\n            return (numbers); ","title":"Convert long array to int array in Java","body":"<p>I've just begun using java and I can't convert a long array type to int array. Can you give a piece of advice what should I do?\nThank you!</p>\n\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        long[] numbers;\n        numbers = sorting(new long[]{5, 21, 19, 55, 94, 73, 69, 100,});\n\n\n\n    }\n\n    public static long[] sorting(long [] numbers) {\n\n        for (long num : numbers) {\n            long j = 0;\n            for (int i = 0; i &lt; numbers.length - 1; i++) {\n                if (numbers[i] &gt; numbers[i + 1]) {\n                    j = numbers[i];\n                    numbers[i] = numbers[i + 1];\n                    numbers[i + 1] = j;\n\n\n                }\n            }\n            System.out.println(num + \",\");\n        }\n        return (numbers); \n</code></pre>\n"},{"tags":["java","json","jaxb","jersey","jax-rs"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":1,"creation_date":1648053895,"post_id":71587846,"comment_id":126528931,"body_markdown":"Different providers is being used. That&#39;s the only thing I can think","body":"Different providers is being used. That&#39;s the only thing I can think"},{"owner":{"account_id":1014158,"reputation":2646,"user_id":1026104,"display_name":"jan.supol"},"score":1,"creation_date":1648061086,"post_id":71587846,"comment_id":126531681,"body_markdown":"What provider do you use? The default in Jersey 2.17 is Moxy, the default in 2.35 is JSON-B/Yasson. Or maybe you use Jackson?","body":"What provider do you use? The default in Jersey 2.17 is Moxy, the default in 2.35 is JSON-B/Yasson. Or maybe you use Jackson?"},{"owner":{"account_id":18226753,"reputation":95,"user_id":13266400,"display_name":"Q2Dev"},"score":0,"creation_date":1648067237,"post_id":71587846,"comment_id":126533559,"body_markdown":"Sorry, i am new to this, I tried to search on how to figure out the provider i am using, is there any way i can find out the provider i am using? I do not have any @Provider annotation in the class file where the setter is present.  This is not an maven project, this project is built using Apache ant.","body":"Sorry, i am new to this, I tried to search on how to figure out the provider i am using, is there any way i can find out the provider i am using? I do not have any @Provider annotation in the class file where the setter is present.  This is not an maven project, this project is built using Apache ant."},{"owner":{"account_id":18226753,"reputation":95,"user_id":13266400,"display_name":"Q2Dev"},"score":0,"creation_date":1648103625,"post_id":71587846,"comment_id":126540514,"body_markdown":"@jan.supol I checked the web.xml , i do not have any jackson related property in &lt;init-param&gt;","body":"@jan.supol I checked the web.xml , i do not have any jackson related property in &lt;init-param&gt;"},{"owner":{"account_id":1014158,"reputation":2646,"user_id":1026104,"display_name":"jan.supol"},"score":1,"creation_date":1648118941,"post_id":71587846,"comment_id":126545585,"body_markdown":"With Ant, it depends on what jars you have on your classpath.","body":"With Ant, it depends on what jars you have on your classpath."},{"owner":{"account_id":18226753,"reputation":95,"user_id":13266400,"display_name":"Q2Dev"},"score":0,"creation_date":1648147664,"post_id":71587846,"comment_id":126557491,"body_markdown":"@jan.supol I have jars related to jersey-2.35 , jackson, jakarta, osgi. I can share all the jars if its required for clarity, just that there are quite a lot in number. I have referred this site eclipse-ee4j.github.io/jersey/download.html and added all the required dependencies for jersey-2.35","body":"@jan.supol I have jars related to jersey-2.35 , jackson, jakarta, osgi. I can share all the jars if its required for clarity, just that there are quite a lot in number. I have referred this site eclipse-ee4j.github.io/jersey/download.html and added all the required dependencies for jersey-2.35"},{"owner":{"account_id":1014158,"reputation":2646,"user_id":1026104,"display_name":"jan.supol"},"score":0,"creation_date":1648150142,"post_id":71587846,"comment_id":126558337,"body_markdown":"So it looks like Jackson then. Do you use the same version of Jackson for 2.17 and 2.35?","body":"So it looks like Jackson then. Do you use the same version of Jackson for 2.17 and 2.35?"},{"owner":{"account_id":18226753,"reputation":95,"user_id":13266400,"display_name":"Q2Dev"},"score":0,"creation_date":1648198302,"post_id":71587846,"comment_id":126568525,"body_markdown":"@jan.supol Yes, Jackson has not been update, what version should i be using with jersey-2.35?","body":"@jan.supol Yes, Jackson has not been update, what version should i be using with jersey-2.35?"},{"owner":{"account_id":1014158,"reputation":2646,"user_id":1026104,"display_name":"jan.supol"},"score":1,"creation_date":1648204414,"post_id":71587846,"comment_id":126570629,"body_markdown":"2.35 is using Jackson 2.13.x. Jackson can be configured via [ContextResolver](https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest/media.html#json.jackson). So you can set `ObjectMapper#setPropertyNamingStrategy` to configure the key name with camel-case.","body":"2.35 is using Jackson 2.13.x. Jackson can be configured via <a href=\"https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest/media.html#json.jackson\" rel=\"nofollow noreferrer\">ContextResolver</a>. So you can set <code>ObjectMapper#setPropertyNamingStrategy</code> to configure the key name with camel-case."},{"owner":{"account_id":1014158,"reputation":2646,"user_id":1026104,"display_name":"jan.supol"},"score":1,"creation_date":1648204830,"post_id":71587846,"comment_id":126570798,"body_markdown":"The provider depends on the runtime classpath, i.e. what environment / application server it runs at, such as Payara which provides the dependencies. Or do you run on a Servlet Container such as Tomcat, where you need to provide your own dependencies for Jersey?","body":"The provider depends on the runtime classpath, i.e. what environment / application server it runs at, such as Payara which provides the dependencies. Or do you run on a Servlet Container such as Tomcat, where you need to provide your own dependencies for Jersey?"},{"owner":{"account_id":18226753,"reputation":95,"user_id":13266400,"display_name":"Q2Dev"},"score":0,"creation_date":1648231143,"post_id":71587846,"comment_id":126580492,"body_markdown":"@jan.supol In maven repository, i see jersey-media-jackson has compile dependencies with jackson with minimum version 2.12.2 is it not the right version to use?","body":"@jan.supol In maven repository, i see jersey-media-jackson has compile dependencies with jackson with minimum version 2.12.2 is it not the right version to use?"},{"owner":{"account_id":18226753,"reputation":95,"user_id":13266400,"display_name":"Q2Dev"},"score":0,"creation_date":1648231219,"post_id":71587846,"comment_id":126580515,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/243328/discussion-between-yuhubug-and-jan-supol).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/243328/discussion-between-yuhubug-and-jan-supol\">continue this discussion in chat</a>."}],"owner":{"account_id":18226753,"reputation":95,"user_id":13266400,"display_name":"Q2Dev"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648044812,"creation_date":1648041091,"question_id":71587846,"body_markdown":"I have an web application which is currently on jersey-2.16. After I upgrade it to jersey-2.35 I see the JSON responses(JSON key to be specific) is getting capitalized. \r\n\r\nJSON response in jesrsey-2.17\r\n\r\n    {\r\n    &quot;Key1&quot;:&quot;value1&quot;\r\n    &quot;Key2&quot;:&quot;value2&quot;\r\n    &quot;Key3&quot;:&quot;value3&quot;\r\n    }\r\n\r\nJSON response in jesrsey-2.35\r\n\r\n    {\r\n    &quot;KEY1&quot;:&quot;value1&quot;\r\n    &quot;KEY2&quot;:&quot;value2&quot;\r\n    &quot;KEY3&quot;:&quot;value3&quot;\r\n    }\r\n\r\nTo solve this issue, I had to change my setters and rename them as follows:\r\n\r\n`setKEY1() to setKey1()` and similary to all other setters.\r\n\r\nI am unable to understand how changing name of setter Method is changing the JSON response. Is it some property that jersey uses based on which the JSON response/request changes? ","title":"JSON key:values changes after upgrading jersey from 2.17 to 2.35","body":"<p>I have an web application which is currently on jersey-2.16. After I upgrade it to jersey-2.35 I see the JSON responses(JSON key to be specific) is getting capitalized.</p>\n<p>JSON response in jesrsey-2.17</p>\n<pre><code>{\n&quot;Key1&quot;:&quot;value1&quot;\n&quot;Key2&quot;:&quot;value2&quot;\n&quot;Key3&quot;:&quot;value3&quot;\n}\n</code></pre>\n<p>JSON response in jesrsey-2.35</p>\n<pre><code>{\n&quot;KEY1&quot;:&quot;value1&quot;\n&quot;KEY2&quot;:&quot;value2&quot;\n&quot;KEY3&quot;:&quot;value3&quot;\n}\n</code></pre>\n<p>To solve this issue, I had to change my setters and rename them as follows:</p>\n<p><code>setKEY1() to setKey1()</code> and similary to all other setters.</p>\n<p>I am unable to understand how changing name of setter Method is changing the JSON response. Is it some property that jersey uses based on which the JSON response/request changes?</p>\n"},{"tags":["java","jsp","glassfish"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1647386302,"post_id":71489311,"comment_id":126357273,"body_markdown":"&quot;I can&#39;t execute my application&quot; is not a problem description. NB There is no [tag:jsp] here.","body":"&quot;I can&#39;t execute my application&quot; is not a problem description. NB There is no <a href=\"https://stackoverflow.com/questions/tagged/jsp\">jsp</a> here."}],"answers":[{"tags":[],"owner":{"account_id":13686921,"reputation":99,"user_id":14634980,"display_name":"Manuel Sebastian Blanco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648044758,"creation_date":1648044758,"answer_id":71588715,"question_id":71489311,"body_markdown":"I founded the error. You can&#39;t use HttpServletRequest and HttpServletResponse because it&#39;s a soap method, you need to use instead Interface [WebServiceContext][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/javax/xml/ws/WebServiceContext.html","title":"Error using HttpServletRequest and HttpServletResponse","body":"<p>I founded the error. You can't use HttpServletRequest and HttpServletResponse because it's a soap method, you need to use instead Interface <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/xml/ws/WebServiceContext.html\" rel=\"nofollow noreferrer\">WebServiceContext</a></p>\n"}],"owner":{"account_id":13686921,"reputation":99,"user_id":14634980,"display_name":"Manuel Sebastian Blanco"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":764,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1648044758,"creation_date":1647380242,"question_id":71489311,"body_markdown":"After I added some lines of code, I can&#39;t start my aplication on glassfish server. I don&#39;t know what its wrong. it&#39;s my first time working with **HttpServletRequest**  &amp; **HttpServletResponse**\r\n\r\nHere is the code I have written so far :\r\n\r\n        /*\r\n     * To change this template, choose Tools | Templates\r\n     * and open the template in the editor.\r\n     */\r\n    \r\n    package ws;\r\n    \r\n    import java.io.IOException;\r\n    import java.net.URL;\r\n    import java.util.logging.Logger;\r\n    import javax.jws.WebMethod;\r\n    import javax.jws.WebParam;\r\n    import javax.jws.WebService;\r\n    import javax.xml.namespace.QName;\r\n    import javax.xml.ws.WebServiceRef;\r\n    import rptws.RptwsWebService;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.http.HttpServlet;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    \r\n    \r\n    /**\r\n     *\r\n     * Llamado a servicios del RptGen.\r\n     * \r\n     * \r\n     */\r\n\r\n    @WebService()\r\n    public class WSDigitalizacion extends HttpServlet {\r\n        private static final Logger LOG = Logger.getLogger(WSDigitalizacion.class.getName());\r\n        @WebServiceRef(wsdlLocation = &quot;WEB-INF/wsdl/sundadesa.hospitalitaliano.net_38084/rptws/RptwsWebService.wsdl&quot;)\r\n        private RptwsWebService service;     \r\n    \r\n    /**\r\n     * \r\n     * @param cAccion\r\n     * @param iArea\r\n     * @param iUsr\r\n     * @param cParametrosXml\r\n     * @param request \r\n     * @param response\r\n     * \r\n     * @return Resultado de la llamada al RptWs.\r\n     * @throws javax.servlet.ServletException\r\n     * @throws java.io.IOException\r\n     */\r\n    @WebMethod(operationName = &quot;callRptWS&quot;)\r\n    public String callRptWS(@WebParam(name = &quot;cAccion&quot;) String cAccion, \r\n                            @WebParam(name = &quot;iArea&quot;) long iArea, \r\n                            @WebParam(name = &quot;iUsr&quot;) long iUsr, \r\n                            @WebParam(name = &quot;cParametrosXml&quot;) String cParametrosXml,\r\n                            HttpServletRequest request,\r\n                            HttpServletResponse response) throws ServletException, IOException  {  \r\n        \r\n            String result;\r\n        try { // Call Web Service Operation\r\n            String url_wsdl = utils.Utils.getUrlWsdlRptWs();\r\n            service = new rptws.RptwsWebService(new URL(url_wsdl), new QName(&quot;http://rptws/&quot;, &quot;RptwsWebService&quot;));\r\n            rptws.RptwsWeb port = service.getRptwsWebPort();\r\n            result = port.rptGenWS(cAccion, iArea, iUsr, cParametrosXml);\r\n            //System.out.println(&quot;Result = &quot;+result);\r\n        } catch (Exception ex) {\r\n            result = ex.getMessage();\r\n        }\r\n        return result;\r\n        \r\n    }}\r\n\r\nThe code before the edition was\r\n\r\n    package ws;\r\n\r\n    import java.io.IOException;\r\n    import java.net.URL;\r\n    import java.util.logging.Logger;\r\n    import javax.jws.WebMethod;\r\n    import javax.jws.WebParam;\r\n    import javax.jws.WebService;\r\n    import javax.xml.namespace.QName;\r\n    import javax.xml.ws.WebServiceRef;\r\n    import rptws.RptwsWebService;\r\n    \r\n    \r\n    \r\n    /**\r\n     *\r\n     * Llamado a servicios del RptGen.\r\n     * \r\n     * \r\n     */\r\n    @WebService()\r\n    public class WSDigitalizacion {\r\n        private static final Logger LOG = Logger.getLogger(WSDigitalizacion.class.getName());\r\n        @WebServiceRef(wsdlLocation = &quot;WEB-INF/wsdl/sundadesa.hospitalitaliano.net_38084/rptws/RptwsWebService.wsdl&quot;)\r\n        private RptwsWebService service;     \r\n        \r\n    /**\r\n     * \r\n     * @param cAccion\r\n     * @param iArea\r\n     * @param iUsr\r\n     * @param cParametrosXml\r\n     * \r\n     * \r\n     * \r\n     * @return Resultado de la llamada al RptWs.\r\n     * \r\n     * \r\n     */\r\n    @WebMethod(operationName = &quot;callRptWS&quot;)\r\n    public String callRptWS(@WebParam(name = &quot;cAccion&quot;) String cAccion, \r\n                            @WebParam(name = &quot;iArea&quot;) long iArea, \r\n                            @WebParam(name = &quot;iUsr&quot;) long iUsr, \r\n                            @WebParam(name = &quot;cParametrosXml&quot;) String cParametrosXml)   {  \r\n        \r\n            String result;\r\n        try { // Call Web Service Operation\r\n            String url_wsdl = utils.Utils.getUrlWsdlRptWs();\r\n            service = new rptws.RptwsWebService(new URL(url_wsdl), new QName(&quot;http://rptws/&quot;, &quot;RptwsWebService&quot;));\r\n            rptws.RptwsWeb port = service.getRptwsWebPort();\r\n            result = port.rptGenWS(cAccion, iArea, iUsr, cParametrosXml);\r\n            //System.out.println(&quot;Result = &quot;+result);\r\n        } catch (Exception ex) {\r\n            result = ex.getMessage();\r\n        }\r\n        return result;\r\n        \r\n    }    \r\n\r\n}\r\n\r\nI don&#39;t know how to use HttpServletRequest &amp; HttpServletResponse, my intetion was to securize the function `callRptWS()` because at this moment it&#39;s returning data without any security parameter\r\n\r\nI&#39;m using JDK 1.8","title":"Error using HttpServletRequest and HttpServletResponse","body":"<p>After I added some lines of code, I can't start my aplication on glassfish server. I don't know what its wrong. it's my first time working with <strong>HttpServletRequest</strong>  &amp; <strong>HttpServletResponse</strong></p>\n<p>Here is the code I have written so far :</p>\n<pre><code>    /*\n * To change this template, choose Tools | Templates\n * and open the template in the editor.\n */\n\npackage ws;\n\nimport java.io.IOException;\nimport java.net.URL;\nimport java.util.logging.Logger;\nimport javax.jws.WebMethod;\nimport javax.jws.WebParam;\nimport javax.jws.WebService;\nimport javax.xml.namespace.QName;\nimport javax.xml.ws.WebServiceRef;\nimport rptws.RptwsWebService;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\n\n/**\n *\n * Llamado a servicios del RptGen.\n * \n * \n */\n\n@WebService()\npublic class WSDigitalizacion extends HttpServlet {\n    private static final Logger LOG = Logger.getLogger(WSDigitalizacion.class.getName());\n    @WebServiceRef(wsdlLocation = &quot;WEB-INF/wsdl/sundadesa.hospitalitaliano.net_38084/rptws/RptwsWebService.wsdl&quot;)\n    private RptwsWebService service;     \n\n/**\n * \n * @param cAccion\n * @param iArea\n * @param iUsr\n * @param cParametrosXml\n * @param request \n * @param response\n * \n * @return Resultado de la llamada al RptWs.\n * @throws javax.servlet.ServletException\n * @throws java.io.IOException\n */\n@WebMethod(operationName = &quot;callRptWS&quot;)\npublic String callRptWS(@WebParam(name = &quot;cAccion&quot;) String cAccion, \n                        @WebParam(name = &quot;iArea&quot;) long iArea, \n                        @WebParam(name = &quot;iUsr&quot;) long iUsr, \n                        @WebParam(name = &quot;cParametrosXml&quot;) String cParametrosXml,\n                        HttpServletRequest request,\n                        HttpServletResponse response) throws ServletException, IOException  {  \n    \n        String result;\n    try { // Call Web Service Operation\n        String url_wsdl = utils.Utils.getUrlWsdlRptWs();\n        service = new rptws.RptwsWebService(new URL(url_wsdl), new QName(&quot;http://rptws/&quot;, &quot;RptwsWebService&quot;));\n        rptws.RptwsWeb port = service.getRptwsWebPort();\n        result = port.rptGenWS(cAccion, iArea, iUsr, cParametrosXml);\n        //System.out.println(&quot;Result = &quot;+result);\n    } catch (Exception ex) {\n        result = ex.getMessage();\n    }\n    return result;\n    \n}}\n</code></pre>\n<p>The code before the edition was</p>\n<pre><code>package ws;\n\nimport java.io.IOException;\nimport java.net.URL;\nimport java.util.logging.Logger;\nimport javax.jws.WebMethod;\nimport javax.jws.WebParam;\nimport javax.jws.WebService;\nimport javax.xml.namespace.QName;\nimport javax.xml.ws.WebServiceRef;\nimport rptws.RptwsWebService;\n\n\n\n/**\n *\n * Llamado a servicios del RptGen.\n * \n * \n */\n@WebService()\npublic class WSDigitalizacion {\n    private static final Logger LOG = Logger.getLogger(WSDigitalizacion.class.getName());\n    @WebServiceRef(wsdlLocation = &quot;WEB-INF/wsdl/sundadesa.hospitalitaliano.net_38084/rptws/RptwsWebService.wsdl&quot;)\n    private RptwsWebService service;     \n    \n/**\n * \n * @param cAccion\n * @param iArea\n * @param iUsr\n * @param cParametrosXml\n * \n * \n * \n * @return Resultado de la llamada al RptWs.\n * \n * \n */\n@WebMethod(operationName = &quot;callRptWS&quot;)\npublic String callRptWS(@WebParam(name = &quot;cAccion&quot;) String cAccion, \n                        @WebParam(name = &quot;iArea&quot;) long iArea, \n                        @WebParam(name = &quot;iUsr&quot;) long iUsr, \n                        @WebParam(name = &quot;cParametrosXml&quot;) String cParametrosXml)   {  \n    \n        String result;\n    try { // Call Web Service Operation\n        String url_wsdl = utils.Utils.getUrlWsdlRptWs();\n        service = new rptws.RptwsWebService(new URL(url_wsdl), new QName(&quot;http://rptws/&quot;, &quot;RptwsWebService&quot;));\n        rptws.RptwsWeb port = service.getRptwsWebPort();\n        result = port.rptGenWS(cAccion, iArea, iUsr, cParametrosXml);\n        //System.out.println(&quot;Result = &quot;+result);\n    } catch (Exception ex) {\n        result = ex.getMessage();\n    }\n    return result;\n    \n}    \n</code></pre>\n<p>}</p>\n<p>I don't know how to use HttpServletRequest &amp; HttpServletResponse, my intetion was to securize the function <code>callRptWS()</code> because at this moment it's returning data without any security parameter</p>\n<p>I'm using JDK 1.8</p>\n"},{"tags":["java","regex","http-headers"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":2,"creation_date":1375969472,"post_id":5674268,"comment_id":26544227,"body_markdown":"Above is very sub-optimal code. It can be easily be rewritten to use a constant (`static final Pattern`) so that the pattern has to be compiled only once. Furthermore, it is very easy to rewrite in such a way that only a single `Matcher` instance is retrieved with a single call to `Pattern.matcher(String)`. The error when calling `group()` without `matches()` or `find()` is not very clear though, it should just throw an `IllegalStateException` instead.","body":"Above is very sub-optimal code. It can be easily be rewritten to use a constant (<code>static final Pattern</code>) so that the pattern has to be compiled only once. Furthermore, it is very easy to rewrite in such a way that only a single <code>Matcher</code> instance is retrieved with a single call to <code>Pattern.matcher(String)</code>. The error when calling <code>group()</code> without <code>matches()</code> or <code>find()</code> is not very clear though, it should just throw an <code>IllegalStateException</code> instead."},{"owner":{"account_id":6241436,"reputation":2512,"user_id":4854931,"accept_rate":33,"display_name":"Alex78191"},"score":2,"creation_date":1550683894,"post_id":5674268,"comment_id":96362420,"body_markdown":"@MaartenBodewes Why using Regex in java is so verbose?","body":"@MaartenBodewes Why using Regex in java is so verbose?"}],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":126,"is_accepted":true,"score":126,"last_activity_date":1302865618,"creation_date":1302857030,"answer_id":5674321,"question_id":5674268,"body_markdown":"`pattern.matcher(input)` always creates a new matcher, so you&#39;d need to call `matches()` again.\r\n\r\nTry:\r\n\r\n    Matcher m = responseCodePattern.matcher(firstHeader);\r\n    m.matches();\r\n    m.groupCount();\r\n    m.group(0); //must call matches() first\r\n    ...","title":"&quot;No match Found&quot; when using matcher&#39;s group method","body":"<p><code>pattern.matcher(input)</code> always creates a new matcher, so you'd need to call <code>matches()</code> again.</p>\n\n<p>Try:</p>\n\n<pre><code>Matcher m = responseCodePattern.matcher(firstHeader);\nm.matches();\nm.groupCount();\nm.group(0); //must call matches() first\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":35623,"reputation":30546,"user_id":100957,"accept_rate":93,"display_name":"Heiko Rupp"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1302857461,"creation_date":1302857461,"answer_id":5674387,"question_id":5674268,"body_markdown":"You are constantly overwriting the matches you got by using\r\n\r\n    System.out.println(responseCodePattern.matcher(firstHeader).matches());\r\n    System.out.println(responseCodePattern.matcher(firstHeader).groupCount());\r\n\r\nEach line creates a new Matcher object.\r\n\r\nYou should go\r\n\r\n    Matcher matcher = responseCodePattern.matcher(firstHeader);\r\n    System.out.println(matcher.matches());\r\n    System.out.println(matcher.groupCount());\r\n","title":"&quot;No match Found&quot; when using matcher&#39;s group method","body":"<p>You are constantly overwriting the matches you got by using</p>\n\n<pre><code>System.out.println(responseCodePattern.matcher(firstHeader).matches());\nSystem.out.println(responseCodePattern.matcher(firstHeader).groupCount());\n</code></pre>\n\n<p>Each line creates a new Matcher object.</p>\n\n<p>You should go</p>\n\n<pre><code>Matcher matcher = responseCodePattern.matcher(firstHeader);\nSystem.out.println(matcher.matches());\nSystem.out.println(matcher.groupCount());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3504594,"reputation":3961,"user_id":2930417,"display_name":"hatanooh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647941357,"creation_date":1647941357,"answer_id":71569694,"question_id":5674268,"body_markdown":"Or you can call `matcher.find();` before `matcher.group(1)`","title":"&quot;No match Found&quot; when using matcher&#39;s group method","body":"<p>Or you can call <code>matcher.find();</code> before <code>matcher.group(1)</code></p>\n"},{"tags":[],"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1648044681,"creation_date":1648044681,"answer_id":71588696,"question_id":5674268,"body_markdown":"I was experiencing the same, but I&#39;m writing this answer because I noticed something else:\r\n\r\nAs others stated, you have to call either\r\n\r\n\r\n    matcher.matches()\r\n\r\nor \r\n\r\n    matcher.find();\r\n\r\n\r\nBefore you are able to call \r\n\r\n\r\n    matcher.group(1);\r\n\r\n\r\nHowever, if you are using the results() call, you won&#39;t explicitly have to call those methods above and the results are immediately available.\r\n\r\n    pattern\r\n            .matcher(pathname)\r\n            .results()\r\n            .collect(Collectors.toList())\r\n            .get(0)\r\n            .group(1);\r\n\r\nI think this is intentionally the case, but I&#39;m just adding it here in addition \r\n\r\n&gt; **No need to call matcher.find() or matcher.matches() when using matcher.results()**.","title":"&quot;No match Found&quot; when using matcher&#39;s group method","body":"<p>I was experiencing the same, but I'm writing this answer because I noticed something else:</p>\n<p>As others stated, you have to call either</p>\n<pre><code>matcher.matches()\n</code></pre>\n<p>or</p>\n<pre><code>matcher.find();\n</code></pre>\n<p>Before you are able to call</p>\n<pre><code>matcher.group(1);\n</code></pre>\n<p>However, if you are using the results() call, you won't explicitly have to call those methods above and the results are immediately available.</p>\n<pre><code>pattern\n        .matcher(pathname)\n        .results()\n        .collect(Collectors.toList())\n        .get(0)\n        .group(1);\n</code></pre>\n<p>I think this is intentionally the case, but I'm just adding it here in addition</p>\n<blockquote>\n<p><strong>No need to call matcher.find() or matcher.matches() when using matcher.results()</strong>.</p>\n</blockquote>\n"}],"owner":{"account_id":55445,"reputation":77403,"user_id":166067,"accept_rate":77,"display_name":"Amir Rachum"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69746,"favorite_count":0,"down_vote_count":0,"up_vote_count":81,"accepted_answer_id":5674321,"answer_count":4,"score":81,"last_activity_date":1648044681,"creation_date":1302856699,"question_id":5674268,"body_markdown":"I&#39;m using `Pattern`/`Matcher` to get the response code in an HTTP response. `groupCount` returns 1, but I get an exception when trying to get it! Any idea why?\r\n\r\nHere&#39;s the code:\r\n\r\n    //get response code\r\n    String firstHeader = reader.readLine();\r\n    Pattern responseCodePattern = Pattern.compile(&quot;^HTTP/1\\\\.1 (\\\\d+) OK$&quot;);\r\n    System.out.println(firstHeader);\r\n    System.out.println(responseCodePattern.matcher(firstHeader).matches());\r\n    System.out.println(responseCodePattern.matcher(firstHeader).groupCount());\r\n    System.out.println(responseCodePattern.matcher(firstHeader).group(0));\r\n    System.out.println(responseCodePattern.matcher(firstHeader).group(1));\r\n    responseCode = Integer.parseInt(responseCodePattern.matcher(firstHeader).group(1));\r\n\r\nAnd here&#39;s the output:\r\n\r\n    HTTP/1.1 200 OK\r\n    true\r\n    1\r\n    Exception in thread &quot;Thread-0&quot; java.lang.IllegalStateException: No match found\r\n\t at java.util.regex.Matcher.group(Unknown Source)\r\n\t at cs236369.proxy.Response.&lt;init&gt;(Response.java:27)\r\n\t at cs236369.proxy.ProxyServer.start(ProxyServer.java:71)\r\n\t at tests.Hw3Tests$1.run(Hw3Tests.java:29)\r\n\t at java.lang.Thread.run(Unknown Source)\r\n","title":"&quot;No match Found&quot; when using matcher&#39;s group method","body":"<p>I'm using <code>Pattern</code>/<code>Matcher</code> to get the response code in an HTTP response. <code>groupCount</code> returns 1, but I get an exception when trying to get it! Any idea why?</p>\n\n<p>Here's the code:</p>\n\n<pre><code>//get response code\nString firstHeader = reader.readLine();\nPattern responseCodePattern = Pattern.compile(\"^HTTP/1\\\\.1 (\\\\d+) OK$\");\nSystem.out.println(firstHeader);\nSystem.out.println(responseCodePattern.matcher(firstHeader).matches());\nSystem.out.println(responseCodePattern.matcher(firstHeader).groupCount());\nSystem.out.println(responseCodePattern.matcher(firstHeader).group(0));\nSystem.out.println(responseCodePattern.matcher(firstHeader).group(1));\nresponseCode = Integer.parseInt(responseCodePattern.matcher(firstHeader).group(1));\n</code></pre>\n\n<p>And here's the output:</p>\n\n<pre><code>HTTP/1.1 200 OK\ntrue\n1\nException in thread \"Thread-0\" java.lang.IllegalStateException: No match found\n at java.util.regex.Matcher.group(Unknown Source)\n at cs236369.proxy.Response.&lt;init&gt;(Response.java:27)\n at cs236369.proxy.ProxyServer.start(ProxyServer.java:71)\n at tests.Hw3Tests$1.run(Hw3Tests.java:29)\n at java.lang.Thread.run(Unknown Source)\n</code></pre>\n"},{"tags":["java","testing","exception","aop"],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648044640,"creation_date":1648017415,"answer_id":71582777,"question_id":71582550,"body_markdown":"Catch and add `test` to the exception message:\r\n\r\n    int test = 0:\r\n    try {\r\n         // statements that increment test or throw RuntimeException\r\n    } catch (Exception e) {\r\n        throw new RuntimeException(&quot;error thrown &quot; + test, e);\r\n    }\r\n\r\nThen inspect it in the catch:\r\n\r\n    public void handleValidationException(RuntimeException throwable) {\r\n        String step = throwable.getMessage().replaceAll(&quot;error thrown (\\\\d+)&quot;, &quot;$1&quot;);\r\n        System.out.println(&quot;failed at step: &quot; + step);\r\n        Throwable cause = throwable.getCause(); // if you need it\r\n    }","title":"How to get a value of a field inside a method from exception handler","body":"<p>Catch and add <code>test</code> to the exception message:</p>\n<pre><code>int test = 0:\ntry {\n     // statements that increment test or throw RuntimeException\n} catch (Exception e) {\n    throw new RuntimeException(&quot;error thrown &quot; + test, e);\n}\n</code></pre>\n<p>Then inspect it in the catch:</p>\n<pre><code>public void handleValidationException(RuntimeException throwable) {\n    String step = throwable.getMessage().replaceAll(&quot;error thrown (\\\\d+)&quot;, &quot;$1&quot;);\n    System.out.println(&quot;failed at step: &quot; + step);\n    Throwable cause = throwable.getCause(); // if you need it\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648030849,"creation_date":1648018678,"answer_id":71582962,"question_id":71582550,"body_markdown":"The values of the local variables are lost, when an exception is thrown. No way to get them back.\r\n\r\nThe only way to track them is to secure them before the exception is thrown. This may look like below – based on the suggestion from Johannes Kuhn&#39;s comment to the answer from Bohemian and that answer:\r\n\r\n```Java\r\n@RunWith( SpringJUnit4ClassRunner.class )\r\npublic class Test \r\n{\r\n  @Test\r\n  public void runCode()\r\n  {\r\n    Integer test = 0;\r\n    try\r\n    {\r\n      System.out.println( test );\r\n\r\n      test = 1;\r\n      System.out.println( test );\r\n      if( true ) throw new RuntimeException( &quot; error thrown&quot; );\r\n      \r\n      test = 2;\r\n      System.out.println( test );\r\n      File file = new File( &quot;DefinitelyNonExisting.file&quot; );\r\n      InputStream inputStream = new FileInputStream( file );\r\n      \r\n      test = 3;\r\n      System.out.println( test );\r\n    }\r\n    catch( final Throwable t )\r\n    {\r\n      throw new RuntimeException( test.toString(), t );\r\n    }\r\n  }\r\n\r\n  @ExceptionHandler( RuntimeException.class )\r\n  @ResponseBody\r\n  public void handleValidationException( RuntimeException throwable ) \r\n  {\r\n    Integer testStep = Integer.valueOf( throwable.getMessage() );\r\n    System.out.printf( &quot;failed at step: %d with exception %s%n&quot;, testStep, throwable.getCause() );\r\n  }\r\n}\r\n```\r\nSome error handling should be added …\r\n\r\nOf course you can create your own exception class, derived from `RuntimeException`, that takes the value of `test` as an additional argument for its constructor, perhaps plus some additional information that might be useful for your diagnosis of the failure, and throw that in the `catch` block.\r\n\r\nAnd yes, usually you should never catch `Throwable`. But this rule is for production code, not for test cases.","title":"How to get a value of a field inside a method from exception handler","body":"<p>The values of the local variables are lost, when an exception is thrown. No way to get them back.</p>\n<p>The only way to track them is to secure them before the exception is thrown. This may look like below – based on the suggestion from Johannes Kuhn's comment to the answer from Bohemian and that answer:</p>\n<pre><code>@RunWith( SpringJUnit4ClassRunner.class )\npublic class Test \n{\n  @Test\n  public void runCode()\n  {\n    Integer test = 0;\n    try\n    {\n      System.out.println( test );\n\n      test = 1;\n      System.out.println( test );\n      if( true ) throw new RuntimeException( &quot; error thrown&quot; );\n      \n      test = 2;\n      System.out.println( test );\n      File file = new File( &quot;DefinitelyNonExisting.file&quot; );\n      InputStream inputStream = new FileInputStream( file );\n      \n      test = 3;\n      System.out.println( test );\n    }\n    catch( final Throwable t )\n    {\n      throw new RuntimeException( test.toString(), t );\n    }\n  }\n\n  @ExceptionHandler( RuntimeException.class )\n  @ResponseBody\n  public void handleValidationException( RuntimeException throwable ) \n  {\n    Integer testStep = Integer.valueOf( throwable.getMessage() );\n    System.out.printf( &quot;failed at step: %d with exception %s%n&quot;, testStep, throwable.getCause() );\n  }\n}\n</code></pre>\n<p>Some error handling should be added …</p>\n<p>Of course you can create your own exception class, derived from <code>RuntimeException</code>, that takes the value of <code>test</code> as an additional argument for its constructor, perhaps plus some additional information that might be useful for your diagnosis of the failure, and throw that in the <code>catch</code> block.</p>\n<p>And yes, usually you should never catch <code>Throwable</code>. But this rule is for production code, not for test cases.</p>\n"}],"owner":{"account_id":1551684,"reputation":1024,"user_id":1443928,"accept_rate":93,"display_name":"Hard Worker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":536,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648044640,"creation_date":1648015873,"question_id":71582550,"body_markdown":"\r\nI have a code that executes multiples commands, I need to track the steps\r\nto track failures based on the step number\r\n\r\nHow to get a value of a field inside a method from exception handler\r\nI don&#39;t want to use try/catch clause.\r\n\r\nMaybe it&#39;s possible to write it annotation on the test Method with Aspect J?\r\n\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    public class Test {\r\n\r\n    @Test\r\n    public void runCode(){\r\n        Integer test = 0;\r\n        System.out.println(test);\r\n\r\n        test = 1;\r\n        System.out.println(test);\r\n        if(true) throw new RuntimeException(&quot; error thrown&quot;);\r\n        test = 2;\r\n        System.out.println(test);\r\n\r\n    }\r\n\r\n\r\n    @ExceptionHandler(RuntimeException.class)\r\n    @ResponseBody\r\n    public void handleValidationException(RuntimeException throwable) {\r\n        //TODO how to get here the last step\r\n        System.out.println(&quot;failed as step: &quot;);\r\n    }\r\n    }\r\n\r\n\r\nJust to clarify My code not really throwing an exception\r\nI might get an exception from reading a file, writing a file etc..\r\nSo for unexpected an Exception how can i get the last step\r\n","title":"How to get a value of a field inside a method from exception handler","body":"<p>I have a code that executes multiples commands, I need to track the steps\nto track failures based on the step number</p>\n<p>How to get a value of a field inside a method from exception handler\nI don't want to use try/catch clause.</p>\n<p>Maybe it's possible to write it annotation on the test Method with Aspect J?</p>\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\npublic class Test {\n\n@Test\npublic void runCode(){\n    Integer test = 0;\n    System.out.println(test);\n\n    test = 1;\n    System.out.println(test);\n    if(true) throw new RuntimeException(&quot; error thrown&quot;);\n    test = 2;\n    System.out.println(test);\n\n}\n\n\n@ExceptionHandler(RuntimeException.class)\n@ResponseBody\npublic void handleValidationException(RuntimeException throwable) {\n    //TODO how to get here the last step\n    System.out.println(&quot;failed as step: &quot;);\n}\n}\n</code></pre>\n<p>Just to clarify My code not really throwing an exception\nI might get an exception from reading a file, writing a file etc..\nSo for unexpected an Exception how can i get the last step</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1495812340,"post_id":44204917,"comment_id":75422853,"body_markdown":"The error doesn&#39;t appear to be caused by the code you posted (because you are clearly just adding two labels on each iteration of the loop, which you have just created). Check the exception is being thrown from where you think, and add logging if necessary to figure out which node is being added to the scene graph twice. If that doesn&#39;t solve it, you&#39;ll probably need to provide a [MCVE] (emphasis on *minimal* **and** *complete*).","body":"The error doesn&#39;t appear to be caused by the code you posted (because you are clearly just adding two labels on each iteration of the loop, which you have just created). Check the exception is being thrown from where you think, and add logging if necessary to figure out which node is being added to the scene graph twice. If that doesn&#39;t solve it, you&#39;ll probably need to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (emphasis on <i>minimal</i> <b>and</b> <i>complete</i>)."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1495812433,"post_id":44204917,"comment_id":75422912,"body_markdown":"I guess `action.setVisualWrapper(this)` looks a bit suspicious. What is that for? Are you using that to add the UI components somewhere else at a later stage?","body":"I guess <code>action.setVisualWrapper(this)</code> looks a bit suspicious. What is that for? Are you using that to add the UI components somewhere else at a later stage?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1495812773,"post_id":44204917,"comment_id":75423133,"body_markdown":"Adding the entire stack trace to your question would make this a lot easier to analyze.","body":"Adding the entire stack trace to your question would make this a lot easier to analyze."}],"answers":[{"tags":[],"owner":{"account_id":1455151,"reputation":1993,"user_id":1370948,"accept_rate":89,"display_name":"Adrian Elder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1495849963,"creation_date":1495849963,"answer_id":44212181,"question_id":44204917,"body_markdown":"This code actually does work and no longer throws the exception. I think before I was setting GridPane.setConstraints along with the add method which may have caused some issues. I thought the issue was still persisting despite removing this but I guess that isn&#39;t the case. Thanks to everyone who tried to help.","title":"Why do I get a &quot;duplicate children&quot; exception when creating GridPane children?","body":"<p>This code actually does work and no longer throws the exception. I think before I was setting GridPane.setConstraints along with the add method which may have caused some issues. I thought the issue was still persisting despite removing this but I guess that isn't the case. Thanks to everyone who tried to help.</p>\n"}],"owner":{"account_id":1455151,"reputation":1993,"user_id":1370948,"accept_rate":89,"display_name":"Adrian Elder"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":44212181,"answer_count":1,"score":-1,"last_activity_date":1648044565,"creation_date":1495811526,"question_id":44204917,"body_markdown":"I am trying to dynamically create a GridPane view in JavaFX. The issue is when trying to add the children to the pane I get a &quot;duplicate children&quot; exception.\r\n\r\nHere is how I adding the children to the pane:\r\n\r\n\t\tGridPane gridView = new GridPane();\r\n\t\tfor(int i = 0; i &lt; mobster.getActions().size(); i++) {\r\n\t\t\tMobsterVisualWrapper actionWrapper = new MobsterVisualWrapper(mobster.getActionList().get(i));\r\n\r\n\t\t\tgridView.add(actionWrapper.getNode(), 0, i);\r\n\t\t\tgridView.add(actionWrapper.getLabel(), 1, i);\r\n\t\t}\r\n\t\t\r\n\t\tPlatform.runLater(() -&gt; {\r\n\t\t\tqueuedActionsBorderPane.setCenter(gridView);\r\n\t\t});\r\n\r\n\t\r\n\r\n    public static class MobsterVisualWrapper{\r\n    \t\tprivate final Label actionLabel;\r\n    \t\tprivate final ProgressBar progressBar = new ProgressBar(-1.0f);\r\n    \t\tprivate final ImageView imageView = new ImageView();\r\n    \t\tprivate Node node;\r\n    \t\t\r\n    \t\tpublic MobsterVisualWrapper(AbstractAction action) {\r\n    \t\t\tactionLabel = new Label(action.getName());\r\n    \t\t\tactionLabel.setDisable(true);\r\n    \t\t\tnode = new Label(&quot;-&quot;);\r\n    \t\t\taction.setVisualWrapper(this);\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic void setRunning(boolean running) {\r\n    \t\t\tif(running) {\r\n    \t\t\t\tsetNode(progressBar);\r\n    \t\t\t} else {\r\n    \t\t\t\tsetNode(new ImageView());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic void setFailed() {\r\n    \t\t\timageView.setId(&quot;actionViewFailed&quot;);\r\n    \t\t\tsetNode(imageView);\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic void setComplete() {\r\n    \t\t\timageView.setId(&quot;actionViewComplete&quot;);\r\n    \t\t\tsetNode(imageView);\r\n    \t\t}\r\n    \t\t\r\n    \t\t/**\r\n    \t\t * Sets the node that will show the current status of the action\r\n    \t\t * @param node the node to show the status\r\n    \t\t */\r\n    \t\tprivate void setNode(Node node) {\r\n    \t\t\tthis.node = node;\r\n    \t\t}\r\n    \t\t\r\n    \t\t/**\r\n    \t\t * @return the node to show the status of the action\r\n    \t\t */\r\n    \t\tprivate Node getNode() {\r\n    \t\t\treturn node;\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic Label getLabel() {\r\n    \t\t\treturn actionLabel;\r\n    \t\t}\r\n    \t}\r\n\r\nI am trying to add a new row each loop iteration with two columns.","title":"Why do I get a &quot;duplicate children&quot; exception when creating GridPane children?","body":"<p>I am trying to dynamically create a GridPane view in JavaFX. The issue is when trying to add the children to the pane I get a &quot;duplicate children&quot; exception.</p>\n<p>Here is how I adding the children to the pane:</p>\n<pre><code>    GridPane gridView = new GridPane();\n    for(int i = 0; i &lt; mobster.getActions().size(); i++) {\n        MobsterVisualWrapper actionWrapper = new MobsterVisualWrapper(mobster.getActionList().get(i));\n\n        gridView.add(actionWrapper.getNode(), 0, i);\n        gridView.add(actionWrapper.getLabel(), 1, i);\n    }\n    \n    Platform.runLater(() -&gt; {\n        queuedActionsBorderPane.setCenter(gridView);\n    });\n\n\n\npublic static class MobsterVisualWrapper{\n        private final Label actionLabel;\n        private final ProgressBar progressBar = new ProgressBar(-1.0f);\n        private final ImageView imageView = new ImageView();\n        private Node node;\n        \n        public MobsterVisualWrapper(AbstractAction action) {\n            actionLabel = new Label(action.getName());\n            actionLabel.setDisable(true);\n            node = new Label(&quot;-&quot;);\n            action.setVisualWrapper(this);\n        }\n        \n        public void setRunning(boolean running) {\n            if(running) {\n                setNode(progressBar);\n            } else {\n                setNode(new ImageView());\n            }\n        }\n        \n        public void setFailed() {\n            imageView.setId(&quot;actionViewFailed&quot;);\n            setNode(imageView);\n        }\n        \n        public void setComplete() {\n            imageView.setId(&quot;actionViewComplete&quot;);\n            setNode(imageView);\n        }\n        \n        /**\n         * Sets the node that will show the current status of the action\n         * @param node the node to show the status\n         */\n        private void setNode(Node node) {\n            this.node = node;\n        }\n        \n        /**\n         * @return the node to show the status of the action\n         */\n        private Node getNode() {\n            return node;\n        }\n        \n        public Label getLabel() {\n            return actionLabel;\n        }\n    }\n</code></pre>\n<p>I am trying to add a new row each loop iteration with two columns.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":14666883,"reputation":1411,"user_id":10628833,"display_name":"Gustavo Ces&#225;rio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648044521,"creation_date":1648044521,"answer_id":71588648,"question_id":71587466,"body_markdown":"In my case the problem was the ```final``` keyword in my repository method. Removing it made it possible to access my autowired EntityManager.\r\n\r\n```java\r\n@Repository\r\npublic class ProcedureRepository implements IProcedureRepository  {\r\n\r\n    @Autowired\r\n    EntityManager entityManager;\r\n\r\n    @Override\r\n    public void executarQueryComParametros(String query){\r\n        var entityManagerQuery = entityManager.createNativeQuery(query);\r\n        entityManagerQuery.executeUpdate();\r\n    }\r\n}\r\n```","title":"How can I autowire an EntityManager into my repository without it being always null?","body":"<p>In my case the problem was the <code>final</code> keyword in my repository method. Removing it made it possible to access my autowired EntityManager.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic class ProcedureRepository implements IProcedureRepository  {\n\n    @Autowired\n    EntityManager entityManager;\n\n    @Override\n    public void executarQueryComParametros(String query){\n        var entityManagerQuery = entityManager.createNativeQuery(query);\n        entityManagerQuery.executeUpdate();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14666883,"reputation":1411,"user_id":10628833,"display_name":"Gustavo Ces&#225;rio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":904,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648044521,"creation_date":1648039480,"question_id":71587466,"body_markdown":"I have a multi-module spring project. In one of my modules I have a repository that executes native queries in my database. To achieve that I&#39;m using an Autowired EntityManager.\r\n\r\nThe problem is that EntityManager is always null in my repository. I&#39;m not sure if I should configure the EntityManager anywhere, but I expected Spring to be able to inject it into my repository without that.\r\n\r\nError message:\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;javax.persistence.EntityManager.createNativeQuery(String)&quot; because &quot;this.entityManager&quot; is null\r\n```\r\n\r\nWhat I have already tried:\r\n\r\n - Using @PersistenceContext instead of @Autowired\r\n - Adding @EnableJpaRepositories, @EntityScan, @ComponentScan into the MainApplication class to force Spring to scan my classes in the other module. \r\n\r\nHere is my project tree: (Some files are omitted because they are probably not relevant)\r\n```\r\nMyApp/\r\n├─ Application/\r\n│  ├─ com.application/\r\n│  │  ├─ MainApplication.java\r\n├─ Module/\r\n│  ├─ com.myModule/\r\n│  │  ├─ service/\r\n│  │  │  ├─ ProcedureService.java\r\n│  │  ├─ repository/\r\n│  │  │  ├─ IProcedureRepository.java\r\n│  │  │  ├─ ProcedureRepository.java\r\n```\r\n\r\nMainApplication.java\r\n```java\r\n@SpringBootApplication(\r\n\t\tscanBasePackages = {\r\n\t\t\t&quot;com.myModule&quot;, &quot;com.Application&quot;\r\n\t\t})\r\n@EnableJpaRepositories(basePackages = { &quot;com.myModule&quot; })\r\n@EntityScan(basePackages = { &quot;com.myModule&quot; })\r\n@ComponentScan(basePackages = { &quot;com.myModule&quot; })\r\npublic class MainApplication {\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(MainApplication.class, args);\r\n\t}\r\n}\r\n```\r\n\r\nProcedureService.java\r\n```java\r\n@Service\r\npublic class ProcedureService implements IProcedureService {\r\n\r\n    @Autowired\r\n    IProcedureRepository repository;\r\n\r\n    @Override\r\n    @Transactional\r\n    public void executarQueryTeste() {\r\n        repository.executarQueryComParametros(query here);\r\n    }\r\n```\r\n\r\nProcedureRepository.java\r\n```java\r\n@Repository\r\npublic class ProcedureRepository implements IProcedureRepository  {\r\n\r\n    @Autowired\r\n    EntityManager entityManager;\r\n\r\n    @SafeVarargs\r\n    @Override\r\n    public final void executarQueryComParametros(String query){\r\n        var entityManagerQuery = entityManager.createNativeQuery(query);\r\n        entityManagerQuery.executeUpdate();\r\n    }\r\n}\r\n```\r\n\r\nWhat should I do to be able to access my EntityManager?","title":"How can I autowire an EntityManager into my repository without it being always null?","body":"<p>I have a multi-module spring project. In one of my modules I have a repository that executes native queries in my database. To achieve that I'm using an Autowired EntityManager.</p>\n<p>The problem is that EntityManager is always null in my repository. I'm not sure if I should configure the EntityManager anywhere, but I expected Spring to be able to inject it into my repository without that.</p>\n<p>Error message:</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;javax.persistence.EntityManager.createNativeQuery(String)&quot; because &quot;this.entityManager&quot; is null\n</code></pre>\n<p>What I have already tried:</p>\n<ul>\n<li>Using @PersistenceContext instead of @Autowired</li>\n<li>Adding @EnableJpaRepositories, @EntityScan, @ComponentScan into the MainApplication class to force Spring to scan my classes in the other module.</li>\n</ul>\n<p>Here is my project tree: (Some files are omitted because they are probably not relevant)</p>\n<pre><code>MyApp/\n├─ Application/\n│  ├─ com.application/\n│  │  ├─ MainApplication.java\n├─ Module/\n│  ├─ com.myModule/\n│  │  ├─ service/\n│  │  │  ├─ ProcedureService.java\n│  │  ├─ repository/\n│  │  │  ├─ IProcedureRepository.java\n│  │  │  ├─ ProcedureRepository.java\n</code></pre>\n<p>MainApplication.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication(\n        scanBasePackages = {\n            &quot;com.myModule&quot;, &quot;com.Application&quot;\n        })\n@EnableJpaRepositories(basePackages = { &quot;com.myModule&quot; })\n@EntityScan(basePackages = { &quot;com.myModule&quot; })\n@ComponentScan(basePackages = { &quot;com.myModule&quot; })\npublic class MainApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(MainApplication.class, args);\n    }\n}\n</code></pre>\n<p>ProcedureService.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class ProcedureService implements IProcedureService {\n\n    @Autowired\n    IProcedureRepository repository;\n\n    @Override\n    @Transactional\n    public void executarQueryTeste() {\n        repository.executarQueryComParametros(query here);\n    }\n</code></pre>\n<p>ProcedureRepository.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic class ProcedureRepository implements IProcedureRepository  {\n\n    @Autowired\n    EntityManager entityManager;\n\n    @SafeVarargs\n    @Override\n    public final void executarQueryComParametros(String query){\n        var entityManagerQuery = entityManager.createNativeQuery(query);\n        entityManagerQuery.executeUpdate();\n    }\n}\n</code></pre>\n<p>What should I do to be able to access my EntityManager?</p>\n"},{"tags":["java","sorting","priority-queue"],"comments":[{"owner":{"account_id":34676,"reputation":15299,"user_id":98057,"accept_rate":90,"display_name":"Andr&#233; Laszlo"},"score":0,"creation_date":1495894797,"post_id":44217908,"comment_id":75446476,"body_markdown":"Please post the implementation of `getMindist` as well.","body":"Please post the implementation of <code>getMindist</code> as well."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":2,"creation_date":1495894834,"post_id":44217908,"comment_id":75446487,"body_markdown":"Your comparator could be reduced to `Comparator.comparingInt(Rtree.Entry::getMindist)`, but I doubt that the performance problem you&#39;re facing, if any, comes from the comparator implementation (unless getMindist() tries finding the meaning of life every time it&#39;s called). What is your code, what does it do, and how do you measure that it&#39;s slow?","body":"Your comparator could be reduced to <code>Comparator.comparingInt(Rtree.Entry::getMindist)</code>, but I doubt that the performance problem you&#39;re facing, if any, comes from the comparator implementation (unless getMindist() tries finding the meaning of life every time it&#39;s called). What is your code, what does it do, and how do you measure that it&#39;s slow?"},{"owner":{"account_id":8192753,"reputation":141,"user_id":6166551,"accept_rate":60,"display_name":"dididaisy"},"score":0,"creation_date":1495895477,"post_id":44217908,"comment_id":75446699,"body_markdown":"@Andr&#233;Laszlo Hi I have added the implementation of &quot;Entry&quot; class, getMindist is a getter to get one of the entry&#39;s attributes which I want to sort by.","body":"@Andr&#233;Laszlo Hi I have added the implementation of &quot;Entry&quot; class, getMindist is a getter to get one of the entry&#39;s attributes which I want to sort by."},{"owner":{"account_id":34676,"reputation":15299,"user_id":98057,"accept_rate":90,"display_name":"Andr&#233; Laszlo"},"score":0,"creation_date":1495895594,"post_id":44217908,"comment_id":75446734,"body_markdown":"@ShidiYang ok thanks! I don&#39;t see anything obviously slow with the sorting. Please see JB Nizet&#39;s comment too. How do you measure that it&#39;s slow?","body":"@ShidiYang ok thanks! I don&#39;t see anything obviously slow with the sorting. Please see JB Nizet&#39;s comment too. How do you measure that it&#39;s slow?"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":2,"creation_date":1495895788,"post_id":44217908,"comment_id":75446779,"body_markdown":"Regarding my previous comment, it should be `Comparator.comparing(Rtree.Entry::getMindist)`, which would be marginally faster than yours (and much clearer and more concise, too). But again: what is slow, and how do you measure it?","body":"Regarding my previous comment, it should be <code>Comparator.comparing(Rtree.Entry::getMindist)</code>, which would be marginally faster than yours (and much clearer and more concise, too). But again: what is slow, and how do you measure it?"},{"owner":{"account_id":8192753,"reputation":141,"user_id":6166551,"accept_rate":60,"display_name":"dididaisy"},"score":0,"creation_date":1495895818,"post_id":44217908,"comment_id":75446785,"body_markdown":"@JBNizet Hi! Thanks for help! Your way save the execution time about 5-10 times","body":"@JBNizet Hi! Thanks for help! Your way save the execution time about 5-10 times"},{"owner":{"account_id":8192753,"reputation":141,"user_id":6166551,"accept_rate":60,"display_name":"dididaisy"},"score":0,"creation_date":1495896215,"post_id":44217908,"comment_id":75446912,"body_markdown":"@Andr&#233;Laszlo I subtract the System.nanoTime() before and after execute this part of the code to get its execution time.","body":"@Andr&#233;Laszlo I subtract the System.nanoTime() before and after execute this part of the code to get its execution time."},{"owner":{"account_id":8192753,"reputation":141,"user_id":6166551,"accept_rate":60,"display_name":"dididaisy"},"score":0,"creation_date":1495896232,"post_id":44217908,"comment_id":75446915,"body_markdown":"@JBNizet I subtract the System.nanoTime() before and after execute this part of the code to get its execution time.","body":"@JBNizet I subtract the System.nanoTime() before and after execute this part of the code to get its execution time."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":2,"creation_date":1495896425,"post_id":44217908,"comment_id":75446982,"body_markdown":"Which part of the code? Executed how many times? Benchmarking in Java is hard. The JIT will optimize your code if it&#39;s called often enough. But again, which code? Post it.","body":"Which part of the code? Executed how many times? Benchmarking in Java is hard. The JIT will optimize your code if it&#39;s called often enough. But again, which code? Post it."},{"owner":{"account_id":8192753,"reputation":141,"user_id":6166551,"accept_rate":60,"display_name":"dididaisy"},"score":0,"creation_date":1495896694,"post_id":44217908,"comment_id":75447071,"body_markdown":"@JBNizet This is part of the code to implement an &quot;efficient&quot; algorithm, but the total time for this algorithm is much longer than the brute-force way. And  I found this sorting part cost the majority of the time.","body":"@JBNizet This is part of the code to implement an &quot;efficient&quot; algorithm, but the total time for this algorithm is much longer than the brute-force way. And  I found this sorting part cost the majority of the time."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1495896829,"post_id":44217908,"comment_id":75447118,"body_markdown":"OK. I&#39;m done. I&#39;ve asked you to post the code 3 times and you won&#39;t do it, so it&#39;s impossible to help more.","body":"OK. I&#39;m done. I&#39;ve asked you to post the code 3 times and you won&#39;t do it, so it&#39;s impossible to help more."},{"owner":{"account_id":8192753,"reputation":141,"user_id":6166551,"accept_rate":60,"display_name":"dididaisy"},"score":0,"creation_date":1495897734,"post_id":44217908,"comment_id":75447384,"body_markdown":"@JBNizet Sorry for misunderstanding. I measure the execution time by running: listH.add(new Entry(n,mindist)); several times, so that each time a new element added in, the priority queue will auto sort it in ascending. Pls refer to my new edit.","body":"@JBNizet Sorry for misunderstanding. I measure the execution time by running: listH.add(new Entry(n,mindist)); several times, so that each time a new element added in, the priority queue will auto sort it in ascending. Pls refer to my new edit."},{"owner":{"account_id":34676,"reputation":15299,"user_id":98057,"accept_rate":90,"display_name":"Andr&#233; Laszlo"},"score":0,"creation_date":1495903274,"post_id":44217908,"comment_id":75449178,"body_markdown":"@dididaisy Please add the full code you used for benchmarking (you might not be measuring what you think). Could you also add the measured time for running your benchmark with 0 nodes added, 1 node added, 10, 100, 1k, 10k and so on until it takes a minute or so to run.","body":"@dididaisy Please add the full code you used for benchmarking (you might not be measuring what you think). Could you also add the measured time for running your benchmark with 0 nodes added, 1 node added, 10, 100, 1k, 10k and so on until it takes a minute or so to run."},{"owner":{"account_id":2488885,"reputation":18917,"user_id":2166798,"accept_rate":50,"display_name":"pjs"},"score":0,"creation_date":1496610779,"post_id":44217908,"comment_id":75719522,"body_markdown":"Proclaiming &quot;process still takes longer time than I expected&quot; is too vague to be a meaningful problem statement.","body":"Proclaiming &quot;process still takes longer time than I expected&quot; is too vague to be a meaningful problem statement."}],"owner":{"account_id":8192753,"reputation":141,"user_id":6166551,"accept_rate":60,"display_name":"dididaisy"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":432,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648044261,"creation_date":1495894556,"question_id":44217908,"body_markdown":"I want the priority queue auto to sort its elements in ascending way by objects&#39; value. \r\n&quot;Entry&quot; is one of my custom class.\r\nCurrently I&#39;m doing it in this way:\r\n\r\n    static Comparator&lt;Entry&gt; comparator = new MindistComparator();\r\n    static PriorityQueue&lt;Entry&gt; listH = new PriorityQueue&lt;Entry&gt;(10, comparator);\r\n\r\n    public class MindistComparator implements Comparator&lt;Rtree.Entry&gt; {\r\n\r\n\t@Override\r\n\tpublic int compare(Rtree.Entry o1, Rtree.Entry o2) {\r\n\t\tif(o1.getMindist() &lt; o2.getMindist()){\r\n\t\t\treturn -1;\r\n\t\t}\r\n\t\t\r\n\t\tif(o1.getMindist() &gt; o2.getMindist()){\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n    }\r\n\r\nCustom class: entry\r\n    \r\n    public static class Entry{\r\n    \tprivate Node node;\r\n    \tprivate Double mindist;\r\n    \t\r\n    \tpublic Entry(Node node, Double mindist){\r\n    \t\tthis.node = node;\r\n    \t\tthis.setMindist(mindist);\r\n    \t}\r\n\r\n\r\n\t\tpublic void setMindist(Double mindist) {\r\n\t\t\tthis.mindist = mindist;\r\n\t\t}\r\n\r\n\t\tpublic Double getMindist() {\r\n\t\t\treturn mindist;\r\n\t\t}\r\n    }\r\n \r\nI measure the execution time by running:\r\n    \r\n    listH.add(new Entry(n,mindist));\r\nseveral times (let&#39;s say 1000.). \r\n \r\nI can get the correct output through above code. But this process still takes longer time than I expected. I&#39;m looking for a more efficient way to sort the priority queue.","title":"Efficient way on sorting priority queue of objects by specified value","body":"<p>I want the priority queue auto to sort its elements in ascending way by objects' value.\n&quot;Entry&quot; is one of my custom class.\nCurrently I'm doing it in this way:</p>\n<pre><code>static Comparator&lt;Entry&gt; comparator = new MindistComparator();\nstatic PriorityQueue&lt;Entry&gt; listH = new PriorityQueue&lt;Entry&gt;(10, comparator);\n\npublic class MindistComparator implements Comparator&lt;Rtree.Entry&gt; {\n\n@Override\npublic int compare(Rtree.Entry o1, Rtree.Entry o2) {\n    if(o1.getMindist() &lt; o2.getMindist()){\n        return -1;\n    }\n    \n    if(o1.getMindist() &gt; o2.getMindist()){\n        return 1;\n    }\n    return 0;\n}\n}\n</code></pre>\n<p>Custom class: entry</p>\n<pre><code>public static class Entry{\n    private Node node;\n    private Double mindist;\n    \n    public Entry(Node node, Double mindist){\n        this.node = node;\n        this.setMindist(mindist);\n    }\n\n\n    public void setMindist(Double mindist) {\n        this.mindist = mindist;\n    }\n\n    public Double getMindist() {\n        return mindist;\n    }\n}\n</code></pre>\n<p>I measure the execution time by running:</p>\n<pre><code>listH.add(new Entry(n,mindist));\n</code></pre>\n<p>several times (let's say 1000.).</p>\n<p>I can get the correct output through above code. But this process still takes longer time than I expected. I'm looking for a more efficient way to sort the priority queue.</p>\n"},{"tags":["java","spring","spring-boot","itext"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1648041750,"post_id":71587933,"comment_id":126523204,"body_markdown":"the error message is quite clear. You can&#39;t call = new Document(); because that constructor does not exist. Use the code you commented out instead.\nhttps://api.itextpdf.com/iText7/java/7.2.0/index.html?com/itextpdf/layout/Document.html","body":"the error message is quite clear. You can&#39;t call = new Document(); because that constructor does not exist. Use the code you commented out instead. <a href=\"https://api.itextpdf.com/iText7/java/7.2.0/index.html?com/itextpdf/layout/Document.html\" rel=\"nofollow noreferrer\">api.itextpdf.com/iText7/java/7.2.0/index.html?com/itextpdf/&hellip;</a>"},{"owner":{"account_id":20436520,"reputation":1120,"user_id":14994239,"display_name":"hakima maarouf"},"score":0,"creation_date":1648044096,"post_id":71587933,"comment_id":126524386,"body_markdown":"@Stultuske  thank you for the answer. Please should I write it like this (Update above) so that I can work with `ByteArrayOutputStream` ?","body":"@Stultuske  thank you for the answer. Please should I write it like this (Update above) so that I can work with <code>ByteArrayOutputStream</code> ?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1648044533,"post_id":71587933,"comment_id":126524586,"body_markdown":"Try it and see if it works","body":"Try it and see if it works"},{"owner":{"account_id":20436520,"reputation":1120,"user_id":14994239,"display_name":"hakima maarouf"},"score":1,"creation_date":1648045572,"post_id":71587933,"comment_id":126525117,"body_markdown":"@Stultuske It works and my pdf file saved successfully in h2 db. Thank you!","body":"@Stultuske It works and my pdf file saved successfully in h2 db. Thank you!"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1648047298,"post_id":71587933,"comment_id":126525896,"body_markdown":"As explanation: Your code, except the imports, is for iText 5. Your imports are for iText 7. The latter is a complete re-design of the former, so that combination cannot work. Your code update on the other hand is applicable for iText 7.","body":"As explanation: Your code, except the imports, is for iText 5. Your imports are for iText 7. The latter is a complete re-design of the former, so that combination cannot work. Your code update on the other hand is applicable for iText 7."}],"owner":{"account_id":20436520,"reputation":1120,"user_id":14994239,"display_name":"hakima maarouf"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":767,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648044215,"creation_date":1648041469,"question_id":71587933,"body_markdown":"I want to save my gererated pdf file in h2 database as BLOB, It works fine when I save it locally (commented code). but when I tried to implement this solution https://stackoverflow.com/a/28495745/14994239\r\nI got that error in the title. \r\n\r\nhere is the code to create pdf file.\r\n``` \r\npublic void pdfCreation(Port port) {\r\n        //String filepath = &quot;C:/Users/ASUS/Desktop/PdfFiles/simpleTable.pdf&quot;;\r\n\r\n        try {\r\n\r\n            //PdfWriter writer = new PdfWriter(filepath);\r\n            //PdfDocument pdfdoc = new PdfDocument(writer);\r\n            //Document document = new Document(pdfdoc);\r\n\r\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n            Document document = new Document();\r\n            PdfWriter pd= PdfWriter.getInstance(document, baos);\r\n\r\n            float[] columnWidth = { 200f, 200f, 200f, 200f };\r\n            Table table = new Table(columnWidth);\r\n            table.addCell(new Cell().add(new Paragraph(&quot;id&quot;)));\r\n            table.addCell(new Cell().add(new Paragraph(&quot;description&quot;)));\r\n           \r\n            table.addCell(new Cell().add(new Paragraph(new StringBuilder().append(port.getId()).toString())));\r\n            table.addCell(new Cell().add(new Paragraph(port.getDescription())));\r\n\r\n            document.add(table);\r\n            document.close();\r\n\r\n            byte[] pdf = baos.toByteArray();\r\n\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n``` \r\nhere is the imports \r\n``` \r\nimport com.itextpdf.io.source.ByteArrayOutputStream;\r\nimport com.itextpdf.kernel.geom.PageSize;\r\nimport com.itextpdf.kernel.pdf.PdfDocument;\r\nimport com.itextpdf.kernel.pdf.PdfWriter;\r\nimport com.itextpdf.layout.Document;\r\nimport com.itextpdf.layout.element.Cell;\r\nimport com.itextpdf.layout.element.List;\r\nimport com.itextpdf.layout.element.Paragraph;\r\nimport com.itextpdf.layout.element.Table;\r\nimport java.io.FileNotFoundException;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport ma.company.myapp.domain.Port;\r\n``` \r\n\r\nI am using **7.2.0** of ```com.itextpdf``` \r\n\r\nUPDATE: \r\n\r\n```\r\nByteArrayOutputStream baos = new ByteArrayOutputStream();\r\nPdfWriter writer = new PdfWriter(baos);\r\nPdfDocument pdfdoc = new PdfDocument(writer);\r\nDocument document = new Document(pdfdoc);\r\n```","title":"The constructor Document() is undefined Java(134217858)","body":"<p>I want to save my gererated pdf file in h2 database as BLOB, It works fine when I save it locally (commented code). but when I tried to implement this solution <a href=\"https://stackoverflow.com/a/28495745/14994239\">https://stackoverflow.com/a/28495745/14994239</a>\nI got that error in the title.</p>\n<p>here is the code to create pdf file.</p>\n<pre><code>public void pdfCreation(Port port) {\n        //String filepath = &quot;C:/Users/ASUS/Desktop/PdfFiles/simpleTable.pdf&quot;;\n\n        try {\n\n            //PdfWriter writer = new PdfWriter(filepath);\n            //PdfDocument pdfdoc = new PdfDocument(writer);\n            //Document document = new Document(pdfdoc);\n\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n            Document document = new Document();\n            PdfWriter pd= PdfWriter.getInstance(document, baos);\n\n            float[] columnWidth = { 200f, 200f, 200f, 200f };\n            Table table = new Table(columnWidth);\n            table.addCell(new Cell().add(new Paragraph(&quot;id&quot;)));\n            table.addCell(new Cell().add(new Paragraph(&quot;description&quot;)));\n           \n            table.addCell(new Cell().add(new Paragraph(new StringBuilder().append(port.getId()).toString())));\n            table.addCell(new Cell().add(new Paragraph(port.getDescription())));\n\n            document.add(table);\n            document.close();\n\n            byte[] pdf = baos.toByteArray();\n\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>here is the imports</p>\n<pre><code>import com.itextpdf.io.source.ByteArrayOutputStream;\nimport com.itextpdf.kernel.geom.PageSize;\nimport com.itextpdf.kernel.pdf.PdfDocument;\nimport com.itextpdf.kernel.pdf.PdfWriter;\nimport com.itextpdf.layout.Document;\nimport com.itextpdf.layout.element.Cell;\nimport com.itextpdf.layout.element.List;\nimport com.itextpdf.layout.element.Paragraph;\nimport com.itextpdf.layout.element.Table;\nimport java.io.FileNotFoundException;\nimport org.springframework.stereotype.Service;\n\nimport ma.company.myapp.domain.Port;\n</code></pre>\n<p>I am using <strong>7.2.0</strong> of <code>com.itextpdf</code></p>\n<p>UPDATE:</p>\n<pre><code>ByteArrayOutputStream baos = new ByteArrayOutputStream();\nPdfWriter writer = new PdfWriter(baos);\nPdfDocument pdfdoc = new PdfDocument(writer);\nDocument document = new Document(pdfdoc);\n</code></pre>\n"},{"tags":["java","protocol-buffers","wildfly","infinispan"],"answers":[{"tags":[],"owner":{"account_id":14901939,"reputation":111,"user_id":10760520,"display_name":"Paul Ferraro"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1648044004,"creation_date":1648044004,"answer_id":71588519,"question_id":71538299,"body_markdown":"&gt; Now, Wildfly itself already registers various serialization context\r\n&gt; initializers of its own. Consequently, automatic detection is\r\n&gt; disabled.\r\n\r\nWildFly will automatically load any `SerializationContextInitializer` instances (via `ServiceLoader`) that are visible from the modules associated with your cache-container. This means that you need to package your key/value types along with the associated `SerializationContextInitializer` instances enumerated within `/META-INF/services/org.infinispan.protstream.SerializationContextInitializer` as a WildFly module and associate this module with your cache-container.\r\ne.g.\r\n\r\n    &lt;cache-container name=&quot;foo&quot; marshaller=&quot;PROTOSTREAM&quot; modules=&quot;org.wildfly.clustering.infinispan.spi com.acme.bar&quot;&gt;\r\n       &lt;!--...--&gt;\r\n    &lt;/cache-container&gt;\r\n\r\nThis will configure the &quot;foo&quot; cache-container with ProtoStream marshalling using both WF&#39;s default set of `SerializationContextInitializer` instances and your custom marshallers packaged within the &quot;com.acme.bar&quot; module.\r\n\r\nSee the WF docs specifics on creating a custom module.\r\n\r\nI realize the need to create a custom module is awkward. I am hoping to simplify the process of configuring deployment specific cache-containers in a future release.","title":"How to configure a custom Protostream serialization context initializer for Wildfly Infinispan subsystem?","body":"<blockquote>\n<p>Now, Wildfly itself already registers various serialization context\ninitializers of its own. Consequently, automatic detection is\ndisabled.</p>\n</blockquote>\n<p>WildFly will automatically load any <code>SerializationContextInitializer</code> instances (via <code>ServiceLoader</code>) that are visible from the modules associated with your cache-container. This means that you need to package your key/value types along with the associated <code>SerializationContextInitializer</code> instances enumerated within <code>/META-INF/services/org.infinispan.protstream.SerializationContextInitializer</code> as a WildFly module and associate this module with your cache-container.\ne.g.</p>\n<pre><code>&lt;cache-container name=&quot;foo&quot; marshaller=&quot;PROTOSTREAM&quot; modules=&quot;org.wildfly.clustering.infinispan.spi com.acme.bar&quot;&gt;\n   &lt;!--...--&gt;\n&lt;/cache-container&gt;\n</code></pre>\n<p>This will configure the &quot;foo&quot; cache-container with ProtoStream marshalling using both WF's default set of <code>SerializationContextInitializer</code> instances and your custom marshallers packaged within the &quot;com.acme.bar&quot; module.</p>\n<p>See the WF docs specifics on creating a custom module.</p>\n<p>I realize the need to create a custom module is awkward. I am hoping to simplify the process of configuring deployment specific cache-containers in a future release.</p>\n"}],"owner":{"account_id":37431,"reputation":837,"user_id":107013,"accept_rate":80,"display_name":"MyKey_"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":653,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71588519,"answer_count":1,"score":2,"last_activity_date":1648044004,"creation_date":1647694410,"question_id":71538299,"body_markdown":"I have a Wildfly application with an Infinispan cache containing objects that require custom serialization. \r\n\r\nThe Infinispan documentation for [Marshalling and Encoding Data][1] recommends to use the protobuf-based *Protostream* marshaller. \r\n\r\nI have generated the Protostream marshaller and *serialization context initializer* for the custom objects as described in the corresponding [documentation section][2]. \r\n\r\nI have also configured the cache container to use &quot;PROTOSTREAM&quot; marshaller via the Wildfly [Infinispan subsystem configuration attribute][3]: \r\n\r\n```\r\n&lt;cache-container marshaller=&quot;PROTOSTREAM&quot; ... &gt;&lt;!-- ... --&gt;&lt;/cache-container&gt;\r\n```\r\n\r\nHow can I configure the Wildfly Infinispan subsystem to use my custom *serialization context initializer*?\r\n\r\nAccording to the Infispan documentation section on [Registering serialization context initializers][4], there are two mechanisms: \r\n\r\n 1. Automatic detection via `java.util.ServiceLoader`\r\n 2. Manual registration via `serialization/context-initializer`\r\n\r\nThe documentation warns that \r\n&gt; If you manually register one `SerializationContextInitializer` implementation, it disables automatic registration. You must then manually register all other implementations.\r\n\r\nNow, Wildfly itself already registers various *serialization context initializers* of its own. \r\nConsequently, automatic detection is disabled. \r\n\r\nIs there a way to **declaratively** configure custom *serialization context initializers* via **Wildfly Infinispan subsystem configuration**?\r\n\r\n(Note that the custom *serialization context initializer* implementation is generated by the annotation processor into the *&quot;target/&quot;* folder. \r\nThus, I want to avoid *programmatic* registration because that would involve either loading that class by name or creating a separate project in order to reference that implementation class.) \r\n\r\n  [1]: https://infinispan.org/docs/12.1.x/titles/encoding/encoding.html\r\n  [2]: https://infinispan.org/docs/12.1.x/titles/encoding/encoding.html#marshalling_user_types\r\n  [3]: https://docs.wildfly.org/24/wildscribe/subsystem/infinispan/cache-container/index.html#attr-marshaller\r\n  [4]: https://infinispan.org/docs/12.1.x/titles/encoding/encoding.html#registering-sci-embedded-caches_marshalling\r\n","title":"How to configure a custom Protostream serialization context initializer for Wildfly Infinispan subsystem?","body":"<p>I have a Wildfly application with an Infinispan cache containing objects that require custom serialization.</p>\n<p>The Infinispan documentation for <a href=\"https://infinispan.org/docs/12.1.x/titles/encoding/encoding.html\" rel=\"nofollow noreferrer\">Marshalling and Encoding Data</a> recommends to use the protobuf-based <em>Protostream</em> marshaller.</p>\n<p>I have generated the Protostream marshaller and <em>serialization context initializer</em> for the custom objects as described in the corresponding <a href=\"https://infinispan.org/docs/12.1.x/titles/encoding/encoding.html#marshalling_user_types\" rel=\"nofollow noreferrer\">documentation section</a>.</p>\n<p>I have also configured the cache container to use &quot;PROTOSTREAM&quot; marshaller via the Wildfly <a href=\"https://docs.wildfly.org/24/wildscribe/subsystem/infinispan/cache-container/index.html#attr-marshaller\" rel=\"nofollow noreferrer\">Infinispan subsystem configuration attribute</a>:</p>\n<pre><code>&lt;cache-container marshaller=&quot;PROTOSTREAM&quot; ... &gt;&lt;!-- ... --&gt;&lt;/cache-container&gt;\n</code></pre>\n<p>How can I configure the Wildfly Infinispan subsystem to use my custom <em>serialization context initializer</em>?</p>\n<p>According to the Infispan documentation section on <a href=\"https://infinispan.org/docs/12.1.x/titles/encoding/encoding.html#registering-sci-embedded-caches_marshalling\" rel=\"nofollow noreferrer\">Registering serialization context initializers</a>, there are two mechanisms:</p>\n<ol>\n<li>Automatic detection via <code>java.util.ServiceLoader</code></li>\n<li>Manual registration via <code>serialization/context-initializer</code></li>\n</ol>\n<p>The documentation warns that</p>\n<blockquote>\n<p>If you manually register one <code>SerializationContextInitializer</code> implementation, it disables automatic registration. You must then manually register all other implementations.</p>\n</blockquote>\n<p>Now, Wildfly itself already registers various <em>serialization context initializers</em> of its own.\nConsequently, automatic detection is disabled.</p>\n<p>Is there a way to <strong>declaratively</strong> configure custom <em>serialization context initializers</em> via <strong>Wildfly Infinispan subsystem configuration</strong>?</p>\n<p>(Note that the custom <em>serialization context initializer</em> implementation is generated by the annotation processor into the <em>&quot;target/&quot;</em> folder.\nThus, I want to avoid <em>programmatic</em> registration because that would involve either loading that class by name or creating a separate project in order to reference that implementation class.)</p>\n"},{"tags":["java","multithreading","concurrency"],"comments":[{"owner":{"account_id":7029306,"reputation":1258,"user_id":5385625,"accept_rate":75,"display_name":"Sam Orozco"},"score":0,"creation_date":1647982143,"post_id":71578726,"comment_id":126507623,"body_markdown":"What is the `wait` method doing?","body":"What is the <code>wait</code> method doing?"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1647983537,"post_id":71578726,"comment_id":126508035,"body_markdown":"Why does your title ask about semaphores when there is no semaphore in your code?","body":"Why does your title ask about semaphores when there is no semaphore in your code?"},{"owner":{"account_id":24650207,"reputation":1,"user_id":18547391,"display_name":"meow"},"score":0,"creation_date":1647983673,"post_id":71578726,"comment_id":126508074,"body_markdown":"Thats the problem but no one is understanding me, i need to create a semaphore with synchronized mechanism using semaphores","body":"Thats the problem but no one is understanding me, i need to create a semaphore with synchronized mechanism using semaphores"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1647983701,"post_id":71578726,"comment_id":126508083,"body_markdown":"Re, `for(...)&#160;{&#160;contents[i-1]=contents[i];&#160;//shifting left&#160;}` Shifting everything one place to the left _works,_ but it isn&#39;t the best way. The best way is to use the array as a [_circular buffer_](https://en.wikipedia.org/wiki/Circular_buffer).","body":"Re, <code>for(...) { contents[i-1]=contents[i]; &#47;&#47;shifting left }</code> Shifting everything one place to the left <i>works,</i> but it isn&#39;t the best way. The best way is to use the array as a <a href=\"https://en.wikipedia.org/wiki/Circular_buffer\" rel=\"nofollow noreferrer\"><i>circular buffer</i></a>."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1647983796,"post_id":71578726,"comment_id":126508107,"body_markdown":"Perhaps you could explain a bit more. Why do you need to create a semaphore? Why would it make any sense to _use_ a semaphore to create a semaphore? If your goal is to create a counting semaphore, then why did you write code that implements a blocking queue?","body":"Perhaps you could explain a bit more. Why do you need to create a semaphore? Why would it make any sense to <i>use</i> a semaphore to create a semaphore? If your goal is to create a counting semaphore, then why did you write code that implements a blocking queue?"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1647984368,"post_id":71578726,"comment_id":126508281,"body_markdown":"@SamOrozco, `o.wait()` is a method defined by Java&#39;s `Object` class. In a nutshell, `o.wait()` does not return until some other thread subsequently calls `o.notifyAll()` for the same object,&#160;`o`. In OP&#39;s example, `wait()` (without the&#160;`o.`) implicitly means `this.wait()`. In other words, the OP is using the BlockingQueue instance itself (i.e., `this`) as the synchronization object. See https://docs.oracle.com/javase/tutorial/essential/concurrency/guardmeth.html for more about `wait()` and `notifyAll()`.","body":"@SamOrozco, <code>o.wait()</code> is a method defined by Java&#39;s <code>Object</code> class. In a nutshell, <code>o.wait()</code> does not return until some other thread subsequently calls <code>o.notifyAll()</code> for the same object, <code>o</code>. In OP&#39;s example, <code>wait()</code> (without the <code>o.</code>) implicitly means <code>this.wait()</code>. In other words, the OP is using the BlockingQueue instance itself (i.e., <code>this</code>) as the synchronization object. See <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/guardmeth.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/concurrency/&hellip;</a> for more about <code>wait()</code> and <code>notifyAll()</code>."},{"owner":{"account_id":7029306,"reputation":1258,"user_id":5385625,"accept_rate":75,"display_name":"Sam Orozco"},"score":0,"creation_date":1647985146,"post_id":71578726,"comment_id":126508482,"body_markdown":"@SolomonSlow Awesome! I am surprised I do not know that.","body":"@SolomonSlow Awesome! I am surprised I do not know that."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1648034100,"post_id":71578726,"comment_id":126520175,"body_markdown":"**`length` should not be `static`** Each `BlockingQueue` instance has its own length, obviously, so how do you even get to the idea that a `static` modifier was appropriate?","body":"<b><code>length</code> should not be <code>static</code></b> Each <code>BlockingQueue</code> instance has its own length, obviously, so how do you even get to the idea that a <code>static</code> modifier was appropriate?"}],"answers":[{"tags":[],"owner":{"account_id":16503230,"reputation":48083,"user_id":11923999,"display_name":"Burak Serdar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648043826,"creation_date":1647982952,"answer_id":71578903,"question_id":71578726,"body_markdown":"The implementation looks correct. The structure you have with `length` and `capacity` essentially implements a semaphore. A few items can be improved I believe:\r\n```\r\nif(contents.length == 1) {\r\n    notifyAll();\r\n}\r\n```\r\nIf there are multiple producers, this is correct. If there is only one producer, `notify()` should suffice.\r\n\r\n\r\nInstead of shifting contents, consider allocating capacity+1 and use a circular queue.\r\n","title":"Can I implement BlockingQueue in Java using semaphores in this way?","body":"<p>The implementation looks correct. The structure you have with <code>length</code> and <code>capacity</code> essentially implements a semaphore. A few items can be improved I believe:</p>\n<pre><code>if(contents.length == 1) {\n    notifyAll();\n}\n</code></pre>\n<p>If there are multiple producers, this is correct. If there is only one producer, <code>notify()</code> should suffice.</p>\n<p>Instead of shifting contents, consider allocating capacity+1 and use a circular queue.</p>\n"}],"owner":{"account_id":24650207,"reputation":1,"user_id":18547391,"display_name":"meow"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1648043826,"creation_date":1647981932,"question_id":71578726,"body_markdown":"Is this code good implementation of using synchronized mechanism using semaphore in Java, I&#39;m not sure if the length variable is safe because we have 2 methods there, I think that this is the right way, but I need someone to confirm this for me.\r\nThank you very much for your time!\r\n\r\n```\r\npublic class BlockingQueue&lt;T&gt; {\r\n    static int length;\r\n    T[] contents;\r\n    int capacity;\r\n\r\n    public BlockingQueue(int capacity) {\r\n        contents = (T[]) new Object[capacity];\r\n        this.capacity = capacity;\r\n    }\r\n\r\n    public synchronized void enqueue(T item) throws InterruptedException  {\r\n        while(length == this.capacity) {\r\n            wait();\r\n        }\r\n        contents[length++]= item;\r\n        if(contents.length == 1) {\r\n            notifyAll();\r\n        }\r\n    }\r\n\r\n    public synchronized T dequeue() throws InterruptedException{\r\n        while(length == 0){\r\n            wait();\r\n        }\r\n        if(length == capacity){\r\n            notifyAll();\r\n        }\r\n        T it = contents[0];\r\n        for(int i=1;i&lt;length;i++)\r\n        {\r\n            contents[i-1]=contents[i]; //shifting left\r\n        }\r\n        length--;\r\n        return it;\r\n    }\r\n}\r\n```","title":"Can I implement BlockingQueue in Java using semaphores in this way?","body":"<p>Is this code good implementation of using synchronized mechanism using semaphore in Java, I'm not sure if the length variable is safe because we have 2 methods there, I think that this is the right way, but I need someone to confirm this for me.\nThank you very much for your time!</p>\n<pre><code>public class BlockingQueue&lt;T&gt; {\n    static int length;\n    T[] contents;\n    int capacity;\n\n    public BlockingQueue(int capacity) {\n        contents = (T[]) new Object[capacity];\n        this.capacity = capacity;\n    }\n\n    public synchronized void enqueue(T item) throws InterruptedException  {\n        while(length == this.capacity) {\n            wait();\n        }\n        contents[length++]= item;\n        if(contents.length == 1) {\n            notifyAll();\n        }\n    }\n\n    public synchronized T dequeue() throws InterruptedException{\n        while(length == 0){\n            wait();\n        }\n        if(length == capacity){\n            notifyAll();\n        }\n        T it = contents[0];\n        for(int i=1;i&lt;length;i++)\n        {\n            contents[i-1]=contents[i]; //shifting left\n        }\n        length--;\n        return it;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-fileprovider"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1648044488,"post_id":71588319,"comment_id":126524566,"body_markdown":"Start by using a concrete MIME type, not a wildcard like `image/*`. Then, make sure that your `FileProvider` XML contains the roots that you need. Right now, your only root is for external storage (`external-path`).","body":"Start by using a concrete MIME type, not a wildcard like <code>image&#47;*</code>. Then, make sure that your <code>FileProvider</code> XML contains the roots that you need. Right now, your only root is for external storage (<code>external-path</code>)."},{"owner":{"account_id":14888087,"reputation":333,"user_id":10750674,"display_name":"Graziano"},"score":0,"creation_date":1648044496,"post_id":71588319,"comment_id":126524568,"body_markdown":"What API are you targeting?","body":"What API are you targeting?"},{"owner":{"account_id":12963151,"reputation":137,"user_id":9371737,"display_name":"GoshkaLP"},"score":0,"creation_date":1648044897,"post_id":71588319,"comment_id":126524766,"body_markdown":"@CommonsWare I am trying to get the file `cat.jpg` from path `storage/emulated/0/Download`. As I understand, `external-path` &quot;returns&quot; the path `storage/emulated/0` or I am not correct?","body":"@CommonsWare I am trying to get the file <code>cat.jpg</code> from path <code>storage&#47;emulated&#47;0&#47;Download</code>. As I understand, <code>external-path</code> &quot;returns&quot; the path <code>storage&#47;emulated&#47;0</code> or I am not correct?"},{"owner":{"account_id":12963151,"reputation":137,"user_id":9371737,"display_name":"GoshkaLP"},"score":0,"creation_date":1648045002,"post_id":71588319,"comment_id":126524821,"body_markdown":"@Graziano 31 api level","body":"@Graziano 31 api level"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1648052447,"post_id":71588319,"comment_id":126528231,"body_markdown":"Use file.exists() and file.canRead() before you try to get an uri from FileProvider.","body":"Use file.exists() and file.canRead() before you try to get an uri from FileProvider."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1648052492,"post_id":71588319,"comment_id":126528257,"body_markdown":"`path=&quot;Download&quot;` Better: `path=&quot;.&quot;`","body":"<code>path=&quot;Download&quot;</code> Better: <code>path=&quot;.&quot;</code>"},{"owner":{"account_id":12963151,"reputation":137,"user_id":9371737,"display_name":"GoshkaLP"},"score":0,"creation_date":1648053112,"post_id":71588319,"comment_id":126528550,"body_markdown":"@blackapps So, after testing this methods, I saw that the file exists, but can&#39;t be read. That&#39;s strange","body":"@blackapps So, after testing this methods, I saw that the file exists, but can&#39;t be read. That&#39;s strange"},{"owner":{"account_id":12963151,"reputation":137,"user_id":9371737,"display_name":"GoshkaLP"},"score":0,"creation_date":1648053178,"post_id":71588319,"comment_id":126528582,"body_markdown":"the required permissions are added to the manifest","body":"the required permissions are added to the manifest"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1648053948,"post_id":71588319,"comment_id":126528962,"body_markdown":"No that is not strange on Android 11+ when the file is not created by your app.  You better use ACTION_OPEN_DOCUMENT to let the user select that file.","body":"No that is not strange on Android 11+ when the file is not created by your app.  You better use ACTION_OPEN_DOCUMENT to let the user select that file."},{"owner":{"account_id":12963151,"reputation":137,"user_id":9371737,"display_name":"GoshkaLP"},"score":0,"creation_date":1648054278,"post_id":71588319,"comment_id":126529094,"body_markdown":"I fixed the problem with `requestPermissions()` method. this is a good decision?","body":"I fixed the problem with <code>requestPermissions()</code> method. this is a good decision?"}],"owner":{"account_id":12963151,"reputation":137,"user_id":9371737,"display_name":"GoshkaLP"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":598,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648043221,"creation_date":1648043221,"question_id":71588319,"body_markdown":"I am new to android development and I ran into problems sending files via FileProvider.\r\nI am trying to send file from `storage` to other Apps on device. But unfortunately the file can&#39;t be attached in all apps.  \r\nHere is my AndroidManifest.xml\r\n```\r\n&lt;provider\r\n            android:name=&quot;androidx.core.content.FileProvider&quot;\r\n            android:authorities=&quot;${applicationId}.provider&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:grantUriPermissions=&quot;true&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                android:resource=&quot;@xml/provider_paths&quot;/&gt;\r\n&lt;/provider&gt;\r\n```\r\nprovider_paths.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;paths xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;external-path name=&quot;download&quot; path=&quot;Download&quot; /&gt;\r\n&lt;/paths&gt;\r\n```\r\nMainActivity.java\r\n```\r\nIntent shareIntent = new Intent();\r\nString filename = &quot;cat.jpg&quot;;\r\nString fullPath = Environment.getExternalStorageDirectory() + &quot;/Download/&quot; + filename;\r\nFile file = new File(fullPath);\r\nUri uriToImage = FileProvider.getUriForFile(this, BuildConfig.APPLICATION_ID + &quot;.provider&quot;, file);\r\nshareIntent.setAction(Intent.ACTION_SEND);\r\nshareIntent.putExtra(Intent.EXTRA_STREAM, uriToImage);\r\nshareIntent.setType(&quot;image/*&quot;);\r\nshareIntent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION | Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\r\nshareIntent.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION | Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\r\nstartActivity(shareIntent);\r\n```\r\nThis example works when I am sharing file from app&#39;s external storage, but I want to send the file from the internal storage of the device. Where could I go wrong?","title":"Sharing images with FileProvider doesn&#39;t work correctly","body":"<p>I am new to android development and I ran into problems sending files via FileProvider.\nI am trying to send file from <code>storage</code> to other Apps on device. But unfortunately the file can't be attached in all apps.<br />\nHere is my AndroidManifest.xml</p>\n<pre><code>&lt;provider\n            android:name=&quot;androidx.core.content.FileProvider&quot;\n            android:authorities=&quot;${applicationId}.provider&quot;\n            android:exported=&quot;false&quot;\n            android:grantUriPermissions=&quot;true&quot;&gt;\n            &lt;meta-data\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n                android:resource=&quot;@xml/provider_paths&quot;/&gt;\n&lt;/provider&gt;\n</code></pre>\n<p>provider_paths.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;paths xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;external-path name=&quot;download&quot; path=&quot;Download&quot; /&gt;\n&lt;/paths&gt;\n</code></pre>\n<p>MainActivity.java</p>\n<pre><code>Intent shareIntent = new Intent();\nString filename = &quot;cat.jpg&quot;;\nString fullPath = Environment.getExternalStorageDirectory() + &quot;/Download/&quot; + filename;\nFile file = new File(fullPath);\nUri uriToImage = FileProvider.getUriForFile(this, BuildConfig.APPLICATION_ID + &quot;.provider&quot;, file);\nshareIntent.setAction(Intent.ACTION_SEND);\nshareIntent.putExtra(Intent.EXTRA_STREAM, uriToImage);\nshareIntent.setType(&quot;image/*&quot;);\nshareIntent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION | Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\nshareIntent.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION | Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\nstartActivity(shareIntent);\n</code></pre>\n<p>This example works when I am sharing file from app's external storage, but I want to send the file from the internal storage of the device. Where could I go wrong?</p>\n"},{"tags":["java","spring","mongodb","spring-boot","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648043110,"creation_date":1648043110,"answer_id":71588288,"question_id":71588201,"body_markdown":"You need to add a public default constructor (one without a parameters) in AuthController.\r\n\r\nThen create a method with annotation @PostConstruct to initialize your AuthController with values that it needs to work properly.\r\n\r\nI personally prefer dependency injection through setters because it&#39;s easier to create test in that way.\r\n\r\nHere you have a nice example of how to do dependency injection with setters: https://www.amitph.com/spring-setter-injection-example/","title":"Unable to test Spring Boot Rest Controller (stack trace attached)","body":"<p>You need to add a public default constructor (one without a parameters) in AuthController.</p>\n<p>Then create a method with annotation @PostConstruct to initialize your AuthController with values that it needs to work properly.</p>\n<p>I personally prefer dependency injection through setters because it's easier to create test in that way.</p>\n<p>Here you have a nice example of how to do dependency injection with setters: <a href=\"https://www.amitph.com/spring-setter-injection-example/\" rel=\"nofollow noreferrer\">https://www.amitph.com/spring-setter-injection-example/</a></p>\n"}],"owner":{"account_id":3066334,"reputation":103,"user_id":2597935,"display_name":"Leighton"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1840,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71588288,"answer_count":1,"score":1,"last_activity_date":1648043110,"creation_date":1648042694,"question_id":71588201,"body_markdown":"I&#39;m trying to write tests for my Rest controller. I followed this guide here: https://www.javachinna.com/spring-boot-rest-controller-junit-tests-mockito/ and tried to apply it to my own setup. The application works fine, I just need to know how to write the tests.\r\n\r\nHere is the stack trace I am getting:\r\n```\r\n2022-03-23 13:33:12.567  INFO 3957714 --- [           main] dev.tdwl.controller.AuthControllerTests  : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2022-03-23 13:33:12.962  WARN 3957714 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;authController&#39;: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;dev.tdwl.repository.UserRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n2022-03-23 13:33:12.967  INFO 3957714 --- [           main] ConditionEvaluationReportLoggingListener : \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2022-03-23 13:33:12.986 ERROR 3957714 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of constructor in dev.tdwl.controller.AuthController required a bean of type &#39;dev.tdwl.repository.UserRepository&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;dev.tdwl.repository.UserRepository&#39; in your configuration.\r\n\r\n2022-03-23 13:33:12.990 ERROR 3957714 --- [           main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@3e27ba32] to prepare test instance [dev.tdwl.controller.AuthControllerTests@5c77053b]\r\n\r\njava.lang.IllegalStateException: Failed to load ApplicationContext\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132) ~[spring-test-5.3.16.jar:5.3.16]\r\n\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124) ~[spring-test-5.3.16.jar:5.3.16]\r\n\tat org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190) ~[spring-test-5.3.16.jar:5.3.16]\r\n\tat org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132) ~[spring-test-5.3.16.jar:5.3.16]\r\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248) ~[spring-test-5.3.16.jar:5.3.16]\r\n\tat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138) [spring-test-5.3.16.jar:5.3.16]\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363) [junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368) [junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363) [junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_312]\r\n\tat java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_312]\r\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384) ~[na:1.8.0_312]\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482) ~[na:1.8.0_312]\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472) ~[na:1.8.0_312]\r\n\tat java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:313) ~[na:1.8.0_312]\r\n\tat java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_312]\r\n\tat java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_312]\r\n\tat java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:647) ~[na:1.8.0_312]\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362) [junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283) [junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282) [junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272) [junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_312]\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271) [junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat java.util.ArrayList.forEach(ArrayList.java:1259) ~[na:1.8.0_312]\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat java.util.ArrayList.forEach(ArrayList.java:1259) ~[na:1.8.0_312]\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71) ~[junit5-rt.jar:na]\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38) ~[junit-rt.jar:na]\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11) ~[idea_rt.jar:na]\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35) ~[junit-rt.jar:na]\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235) ~[junit-rt.jar:na]\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54) ~[junit-rt.jar:na]\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;authController&#39;: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;dev.tdwl.repository.UserRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.16.jar:5.3.16]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.16.jar:5.3.16]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136) ~[spring-boot-test-2.6.4.jar:2.6.4]\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.3.16.jar:5.3.16]\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124) ~[spring-test-5.3.16.jar:5.3.16]\r\n\t... 71 common frames omitted\r\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;dev.tdwl.repository.UserRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1799) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1355) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\t... 89 common frames omitted\r\n\r\n\r\njava.lang.IllegalStateException: Failed to load ApplicationContext\r\n ...\r\n\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;authController&#39;: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;dev.tdwl.repository.UserRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n\r\n...\r\n\r\n\r\nProcess finished with exit code 255\r\n\r\n```\r\n\r\nHere is my `AuthControllerTests.java`\r\n```\r\npackage dev.tdwl.controller;\r\n\r\nimport dev.tdwl.services.UserService;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.security.test.context.support.WithUserDetails;\r\nimport org.springframework.test.web.servlet.MockMvc;\r\n\r\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultHandlers.print;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\r\n\r\n@SpringBootTest(classes = {AuthController.class, UserService.class})\r\n@AutoConfigureMockMvc\r\npublic class AuthControllerTests {\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n    @Test\r\n    @WithUserDetails(value = &quot;testaccount@test.com&quot;, userDetailsServiceBeanName = &quot;userService&quot;)\r\n    void testAuthenticationCheckValid() {\r\n        try {\r\n            mockMvc.perform(get(&quot;/auth/check&quot;)).andExpect(status().isOk()).andDo(print());\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nHere is my `AuthController.java`\r\n```\r\npackage dev.tdwl.controller;\r\n\r\n\r\nimport com.mongodb.MongoException;\r\nimport dev.tdwl.model.AuthenticationRequest;\r\nimport dev.tdwl.model.CategoryLists;\r\nimport dev.tdwl.model.JwtResponse;\r\nimport dev.tdwl.model.User;\r\nimport dev.tdwl.repository.CategoryListsRepository;\r\nimport dev.tdwl.repository.UserRepository;\r\nimport dev.tdwl.security.jwt.JwtUtils;\r\nimport dev.tdwl.services.UserDetailsImpl;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.dao.DuplicateKeyException;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.util.Collections;\r\n\r\n@RestController\r\npublic class AuthController {\r\n\r\n    private final CategoryListsRepository categoryRepo;\r\n    private final UserRepository userRepo;\r\n    private final AuthenticationManager authenticationManager;\r\n    private final PasswordEncoder encoder;\r\n    private final JwtUtils jwtUtils;\r\n\r\n    @Autowired\r\n    public AuthController(UserRepository repository, AuthenticationManager authenticationManager, PasswordEncoder encoder, JwtUtils jwtUtils, CategoryListsRepository categoryRepo) {\r\n        this.authenticationManager = authenticationManager;\r\n        this.userRepo = repository;\r\n        this.encoder = encoder;\r\n        this.jwtUtils = jwtUtils;\r\n        this.categoryRepo = categoryRepo;\r\n    }\r\n\r\n    @GetMapping(&quot;/auth/check&quot;)\r\n    public ResponseEntity&lt;?&gt; verifyLogin() {\r\n        UserDetailsImpl userDetails = (UserDetailsImpl) SecurityContextHolder.getContext().getAuthentication().getPrincipal();\r\n\r\n        if (userDetails.getId() == null) {\r\n            return ResponseEntity.status(HttpStatus.UNAUTHORIZED).build();\r\n        }\r\n\r\n        return ResponseEntity.ok(userDetails);\r\n    }\r\n\r\n    @PostMapping(&quot;/auth/login&quot;)\r\n    public ResponseEntity&lt;?&gt; login(@RequestBody AuthenticationRequest authenticationRequest) {\r\n        Authentication authentication = authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(authenticationRequest.getEmail(), authenticationRequest.getPassword()));\r\n        SecurityContextHolder.getContext().setAuthentication(authentication);\r\n        String jwt = jwtUtils.generateJwtToken(authentication);\r\n\r\n        UserDetailsImpl user = (UserDetailsImpl) authentication.getPrincipal();\r\n        return ResponseEntity.ok(new JwtResponse(jwt, user.getUsername(), user.getId()));\r\n    }\r\n\r\n    @PostMapping(&quot;/auth/signup&quot;)\r\n    public ResponseEntity&lt;?&gt; authenticateClient(@RequestBody AuthenticationRequest authenticationRequest) {\r\n        String email = authenticationRequest.getEmail();\r\n        String password = authenticationRequest.getPassword();\r\n\r\n        User newUser = new User(email, encoder.encode(password));\r\n\r\n        try {\r\n            userRepo.save(newUser);\r\n            CategoryLists newList = new CategoryLists(newUser.getId(), Collections.emptyList());\r\n            categoryRepo.save(newList);\r\n        } catch (DuplicateKeyException | MongoException e) {\r\n            return ResponseEntity.status(HttpStatus.CONFLICT).build();\r\n        }\r\n\r\n        return ResponseEntity.ok(&quot;User registered successfully!&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\nHere is my `UserRepository.java`\r\n```\r\npackage dev.tdwl.repository;\r\n\r\nimport dev.tdwl.model.User;\r\nimport org.springframework.data.mongodb.repository.MongoRepository;\r\nimport org.springframework.data.mongodb.repository.Query;\r\n\r\npublic interface UserRepository extends MongoRepository&lt;User, String&gt; {\r\n\r\n    @Query(&quot;{email:&#39;?0&#39;}&quot;)\r\n    User findUserByEmail(String email);\r\n\r\n    @Query(&quot;{id:&#39;?0&#39;}&quot;)\r\n    User findUserById(String Id);\r\n\r\n    long count();\r\n}\r\n\r\n```\r\n\r\n\r\nIf anyone has any resources for learning how to do this with modern practices, I would appreciate any and all knowledge passed on.","title":"Unable to test Spring Boot Rest Controller (stack trace attached)","body":"<p>I'm trying to write tests for my Rest controller. I followed this guide here: <a href=\"https://www.javachinna.com/spring-boot-rest-controller-junit-tests-mockito/\" rel=\"nofollow noreferrer\">https://www.javachinna.com/spring-boot-rest-controller-junit-tests-mockito/</a> and tried to apply it to my own setup. The application works fine, I just need to know how to write the tests.</p>\n<p>Here is the stack trace I am getting:</p>\n<pre><code>2022-03-23 13:33:12.567  INFO 3957714 --- [           main] dev.tdwl.controller.AuthControllerTests  : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2022-03-23 13:33:12.962  WARN 3957714 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'authController': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'dev.tdwl.repository.UserRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n2022-03-23 13:33:12.967  INFO 3957714 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-03-23 13:33:12.986 ERROR 3957714 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of constructor in dev.tdwl.controller.AuthController required a bean of type 'dev.tdwl.repository.UserRepository' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'dev.tdwl.repository.UserRepository' in your configuration.\n\n2022-03-23 13:33:12.990 ERROR 3957714 --- [           main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@3e27ba32] to prepare test instance [dev.tdwl.controller.AuthControllerTests@5c77053b]\n\njava.lang.IllegalStateException: Failed to load ApplicationContext\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132) ~[spring-test-5.3.16.jar:5.3.16]\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124) ~[spring-test-5.3.16.jar:5.3.16]\n    at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190) ~[spring-test-5.3.16.jar:5.3.16]\n    at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132) ~[spring-test-5.3.16.jar:5.3.16]\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248) ~[spring-test-5.3.16.jar:5.3.16]\n    at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138) [spring-test-5.3.16.jar:5.3.16]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363) [junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368) [junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363) [junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_312]\n    at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_312]\n    at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384) ~[na:1.8.0_312]\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482) ~[na:1.8.0_312]\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472) ~[na:1.8.0_312]\n    at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:313) ~[na:1.8.0_312]\n    at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_312]\n    at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_312]\n    at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:647) ~[na:1.8.0_312]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362) [junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283) [junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282) [junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272) [junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_312]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271) [junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at java.util.ArrayList.forEach(ArrayList.java:1259) ~[na:1.8.0_312]\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at java.util.ArrayList.forEach(ArrayList.java:1259) ~[na:1.8.0_312]\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71) ~[junit5-rt.jar:na]\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38) ~[junit-rt.jar:na]\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11) ~[idea_rt.jar:na]\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35) ~[junit-rt.jar:na]\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235) ~[junit-rt.jar:na]\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54) ~[junit-rt.jar:na]\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'authController': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'dev.tdwl.repository.UserRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136) ~[spring-boot-test-2.6.4.jar:2.6.4]\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.3.16.jar:5.3.16]\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124) ~[spring-test-5.3.16.jar:5.3.16]\n    ... 71 common frames omitted\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'dev.tdwl.repository.UserRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1799) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1355) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.16.jar:5.3.16]\n    ... 89 common frames omitted\n\n\njava.lang.IllegalStateException: Failed to load ApplicationContext\n ...\n\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'authController': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'dev.tdwl.repository.UserRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n\n...\n\n\nProcess finished with exit code 255\n\n</code></pre>\n<p>Here is my <code>AuthControllerTests.java</code></p>\n<pre><code>package dev.tdwl.controller;\n\nimport dev.tdwl.services.UserService;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.security.test.context.support.WithUserDetails;\nimport org.springframework.test.web.servlet.MockMvc;\n\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\nimport static org.springframework.test.web.servlet.result.MockMvcResultHandlers.print;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\n\n@SpringBootTest(classes = {AuthController.class, UserService.class})\n@AutoConfigureMockMvc\npublic class AuthControllerTests {\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @Test\n    @WithUserDetails(value = &quot;testaccount@test.com&quot;, userDetailsServiceBeanName = &quot;userService&quot;)\n    void testAuthenticationCheckValid() {\n        try {\n            mockMvc.perform(get(&quot;/auth/check&quot;)).andExpect(status().isOk()).andDo(print());\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n</code></pre>\n<p>Here is my <code>AuthController.java</code></p>\n<pre><code>package dev.tdwl.controller;\n\n\nimport com.mongodb.MongoException;\nimport dev.tdwl.model.AuthenticationRequest;\nimport dev.tdwl.model.CategoryLists;\nimport dev.tdwl.model.JwtResponse;\nimport dev.tdwl.model.User;\nimport dev.tdwl.repository.CategoryListsRepository;\nimport dev.tdwl.repository.UserRepository;\nimport dev.tdwl.security.jwt.JwtUtils;\nimport dev.tdwl.services.UserDetailsImpl;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.dao.DuplicateKeyException;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.Collections;\n\n@RestController\npublic class AuthController {\n\n    private final CategoryListsRepository categoryRepo;\n    private final UserRepository userRepo;\n    private final AuthenticationManager authenticationManager;\n    private final PasswordEncoder encoder;\n    private final JwtUtils jwtUtils;\n\n    @Autowired\n    public AuthController(UserRepository repository, AuthenticationManager authenticationManager, PasswordEncoder encoder, JwtUtils jwtUtils, CategoryListsRepository categoryRepo) {\n        this.authenticationManager = authenticationManager;\n        this.userRepo = repository;\n        this.encoder = encoder;\n        this.jwtUtils = jwtUtils;\n        this.categoryRepo = categoryRepo;\n    }\n\n    @GetMapping(&quot;/auth/check&quot;)\n    public ResponseEntity&lt;?&gt; verifyLogin() {\n        UserDetailsImpl userDetails = (UserDetailsImpl) SecurityContextHolder.getContext().getAuthentication().getPrincipal();\n\n        if (userDetails.getId() == null) {\n            return ResponseEntity.status(HttpStatus.UNAUTHORIZED).build();\n        }\n\n        return ResponseEntity.ok(userDetails);\n    }\n\n    @PostMapping(&quot;/auth/login&quot;)\n    public ResponseEntity&lt;?&gt; login(@RequestBody AuthenticationRequest authenticationRequest) {\n        Authentication authentication = authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(authenticationRequest.getEmail(), authenticationRequest.getPassword()));\n        SecurityContextHolder.getContext().setAuthentication(authentication);\n        String jwt = jwtUtils.generateJwtToken(authentication);\n\n        UserDetailsImpl user = (UserDetailsImpl) authentication.getPrincipal();\n        return ResponseEntity.ok(new JwtResponse(jwt, user.getUsername(), user.getId()));\n    }\n\n    @PostMapping(&quot;/auth/signup&quot;)\n    public ResponseEntity&lt;?&gt; authenticateClient(@RequestBody AuthenticationRequest authenticationRequest) {\n        String email = authenticationRequest.getEmail();\n        String password = authenticationRequest.getPassword();\n\n        User newUser = new User(email, encoder.encode(password));\n\n        try {\n            userRepo.save(newUser);\n            CategoryLists newList = new CategoryLists(newUser.getId(), Collections.emptyList());\n            categoryRepo.save(newList);\n        } catch (DuplicateKeyException | MongoException e) {\n            return ResponseEntity.status(HttpStatus.CONFLICT).build();\n        }\n\n        return ResponseEntity.ok(&quot;User registered successfully!&quot;);\n    }\n}\n\n</code></pre>\n<p>Here is my <code>UserRepository.java</code></p>\n<pre><code>package dev.tdwl.repository;\n\nimport dev.tdwl.model.User;\nimport org.springframework.data.mongodb.repository.MongoRepository;\nimport org.springframework.data.mongodb.repository.Query;\n\npublic interface UserRepository extends MongoRepository&lt;User, String&gt; {\n\n    @Query(&quot;{email:'?0'}&quot;)\n    User findUserByEmail(String email);\n\n    @Query(&quot;{id:'?0'}&quot;)\n    User findUserById(String Id);\n\n    long count();\n}\n\n</code></pre>\n<p>If anyone has any resources for learning how to do this with modern practices, I would appreciate any and all knowledge passed on.</p>\n"},{"tags":["java","aws-lambda","amazon-cognito"],"comments":[{"owner":{"account_id":6744301,"reputation":15398,"user_id":5196394,"display_name":"hoangdv"},"score":0,"creation_date":1648043425,"post_id":71585392,"comment_id":126524009,"body_markdown":"It is not supported yet. Implement it by yourself. I guest just filter by username is enough.","body":"It is not supported yet. Implement it by yourself. I guest just filter by username is enough."},{"owner":{"account_id":11156233,"reputation":31,"user_id":18541594,"display_name":"TryalBA"},"score":0,"creation_date":1648045468,"post_id":71585392,"comment_id":126525062,"body_markdown":"Thanks! I have to valide other fields &#39;cause must be uniques, like email, phone or documentId.","body":"Thanks! I have to valide other fields &#39;cause must be uniques, like email, phone or documentId."}],"owner":{"account_id":11156233,"reputation":31,"user_id":18541594,"display_name":"TryalBA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":361,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1648043068,"creation_date":1648030406,"question_id":71585392,"body_markdown":"I&#39;m trying to filter in my presignup lambda for a few params (in the same call) with Cognito ListUserRequest but it doesn&#39;t work.\r\nSomebody knows a workaround without making several calls?\r\nThanks a lot!\r\n\r\n     ListUsersRequest listUsersRequest = new ListUsersRequest();\r\n     listUsersRequest.withUserPoolId(USER_POOL_ID);\r\n     listUsersRequest.withFilter(&quot;username = \\&quot;&quot; + USER_NAME + &quot;\\&quot; and email = \\&quot;&quot; + EMAIL + &quot;\\&quot;&quot;&quot;);\r\n\r\n ","title":"Several Filters in Cognito ListUsers","body":"<p>I'm trying to filter in my presignup lambda for a few params (in the same call) with Cognito ListUserRequest but it doesn't work.\nSomebody knows a workaround without making several calls?\nThanks a lot!</p>\n<pre><code> ListUsersRequest listUsersRequest = new ListUsersRequest();\n listUsersRequest.withUserPoolId(USER_POOL_ID);\n listUsersRequest.withFilter(&quot;username = \\&quot;&quot; + USER_NAME + &quot;\\&quot; and email = \\&quot;&quot; + EMAIL + &quot;\\&quot;&quot;&quot;);\n</code></pre>\n"},{"tags":["java","android","image","bluetooth","inputstream"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1643722383,"post_id":70940006,"comment_id":125410795,"body_markdown":"https://stackoverflow.com/questions/70850912/what-is-causing-my-image-to-corrupt-during-transfer-via-bluetooth-rfcomm-using-f?noredirect=1#comment125255717_70850912","body":"<a href=\"https://stackoverflow.com/questions/70850912/what-is-causing-my-image-to-corrupt-during-transfer-via-bluetooth-rfcomm-using-f?noredirect=1#comment125255717_70850912\" title=\"what is causing my image to corrupt during transfer via bluetooth rfcomm using f\">stackoverflow.com/questions/70850912/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":328627,"reputation":8506,"user_id":651701,"accept_rate":52,"display_name":"Arpit Garg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643717404,"creation_date":1643717404,"answer_id":70940344,"question_id":70940006,"body_markdown":"        private val mmInStream: InputStream = mmSocket.inputStream\r\n               private val mmOutStream: OutputStream = mmSocket.outputStream\r\n               private val mmBuffer: ByteArray = ByteArray(1024) // mmBuffer store for the stream\r\n        \r\n               override fun run() {\r\n                   var numBytes: Int // bytes returned from read()\r\n        \r\n                   // Keep listening to the InputStream until an exception occurs.\r\n                   while (true) {\r\n                       // Read from the InputStream.\r\n                       numBytes = try {\r\n                           mmInStream.read(mmBuffer)\r\n                       } catch (e: IOException) {\r\n                           Log.d(TAG, &quot;Input stream was disconnected&quot;, e)\r\n                           break\r\n                       }\r\n        \r\n                       }\r\n\r\n\r\n    // Now the bytes read can be write to a file let&#39;s say .png/.jpeg image file.\r\n       fun write(bytes: ByteArray) {\r\n           try {\r\n               mmOutStream.write(bytes)\r\n           } catch (e: IOException) {\r\n               Log.e(TAG, &quot;Error occurred when sending data&quot;, e)\r\n              \r\n               }\r\n          \r\n           }\r\n          \r\n       }","title":"Conversion Bluetooth inputstream to an image, java android app","body":"<pre><code>    private val mmInStream: InputStream = mmSocket.inputStream\n           private val mmOutStream: OutputStream = mmSocket.outputStream\n           private val mmBuffer: ByteArray = ByteArray(1024) // mmBuffer store for the stream\n    \n           override fun run() {\n               var numBytes: Int // bytes returned from read()\n    \n               // Keep listening to the InputStream until an exception occurs.\n               while (true) {\n                   // Read from the InputStream.\n                   numBytes = try {\n                       mmInStream.read(mmBuffer)\n                   } catch (e: IOException) {\n                       Log.d(TAG, &quot;Input stream was disconnected&quot;, e)\n                       break\n                   }\n    \n                   }\n\n\n// Now the bytes read can be write to a file let's say .png/.jpeg image file.\n   fun write(bytes: ByteArray) {\n       try {\n           mmOutStream.write(bytes)\n       } catch (e: IOException) {\n           Log.e(TAG, &quot;Error occurred when sending data&quot;, e)\n          \n           }\n      \n       }\n      \n   }\n</code></pre>\n"}],"owner":{"account_id":22887815,"reputation":11,"user_id":17028409,"display_name":"Richard"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648042961,"creation_date":1643715856,"question_id":70940006,"body_markdown":"How to convert bluetooth inputstream to an image in java android app?\r\nData are devided into chunks. Chunk by chunk is catched in inputstream, but it can&#39;t hold more than one chunk. The idea is to put together all chunks (stream by stream) to a byte array and then make a bitmap. \r\n","title":"Conversion Bluetooth inputstream to an image, java android app","body":"<p>How to convert bluetooth inputstream to an image in java android app?\nData are devided into chunks. Chunk by chunk is catched in inputstream, but it can't hold more than one chunk. The idea is to put together all chunks (stream by stream) to a byte array and then make a bitmap.</p>\n"},{"tags":["java","rest","osgi","apache-karaf"],"comments":[{"owner":{"account_id":91170,"reputation":6162,"user_id":250517,"accept_rate":75,"display_name":"Grzegorz Grzybek"},"score":1,"creation_date":1648042905,"post_id":71572292,"comment_id":126523738,"body_markdown":"5005 is jdwp port (debugger attach protocol). When you start Karaf with pax-web features installed (like pax-http-jetty), it should listen on 8181 port (http).","body":"5005 is jdwp port (debugger attach protocol). When you start Karaf with pax-web features installed (like pax-http-jetty), it should listen on 8181 port (http)."}],"answers":[{"tags":[],"owner":{"account_id":1477271,"reputation":602,"user_id":1387372,"display_name":"JamesP"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648042922,"creation_date":1648042922,"answer_id":71588241,"question_id":71572292,"body_markdown":"You are attaching to the debugging port 5005, not the Karaf application port which is 8181 by default. Try:\r\n\r\n`curl http://localhost:8181/hello`","title":"Cannot access REST api on karaf","body":"<p>You are attaching to the debugging port 5005, not the Karaf application port which is 8181 by default. Try:</p>\n<p><code>curl http://localhost:8181/hello</code></p>\n"}],"owner":{"account_id":8776074,"reputation":8345,"user_id":6561309,"accept_rate":42,"display_name":"Richard"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648042922,"creation_date":1647953058,"question_id":71572292,"body_markdown":"I am using Apache Karaf 4.0.1 with Java 1.8.  The java OSGi project already consumes SOAP messages, but I am trying to add a REST api.\r\n\r\nI have added a module with a REST endpoint, and this compiles successfully using Maven.  However, if I try access the endpoint, I get an error.\r\n\r\nREST Endpoint:\r\n\r\n**HelloResource.java**\r\n\r\n    @Path(&quot;/&quot;)\r\n    public interface HelloResource {\r\n    \r\n        @Path(&quot;/hello&quot;)\r\n        @Produces(MediaType.APPLICATION_JSON)\r\n        @GET\r\n        String hello();\r\n    }\r\n\r\n**HelloResourceImpl.java**\r\n\r\n    public class HelloResourceImpl implements HelloResource {\r\n    \r\n        public String hello() {\r\n            return &quot;hello!&quot;;\r\n        }\r\n    }\r\n\r\nWhen I try access the REST endpoint:\r\n\r\n**cmd line:**\r\n\r\n&gt; $ curl http://localhost:5005/hello  \r\n&gt; curl: (56) Recv failure: Connection reset by peer\r\n\r\n**Karaf log:**\r\n\r\n&gt; Debugger failed to attach: handshake failed - received &gt;GET /hello\r\n&gt; HTT&lt; - expected &gt;JDWP-Handshake&lt;\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nProject REST module:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X5uWz.png\r\n  [2]: https://i.stack.imgur.com/j0Exx.png","title":"Cannot access REST api on karaf","body":"<p>I am using Apache Karaf 4.0.1 with Java 1.8.  The java OSGi project already consumes SOAP messages, but I am trying to add a REST api.</p>\n<p>I have added a module with a REST endpoint, and this compiles successfully using Maven.  However, if I try access the endpoint, I get an error.</p>\n<p>REST Endpoint:</p>\n<p><strong>HelloResource.java</strong></p>\n<pre><code>@Path(&quot;/&quot;)\npublic interface HelloResource {\n\n    @Path(&quot;/hello&quot;)\n    @Produces(MediaType.APPLICATION_JSON)\n    @GET\n    String hello();\n}\n</code></pre>\n<p><strong>HelloResourceImpl.java</strong></p>\n<pre><code>public class HelloResourceImpl implements HelloResource {\n\n    public String hello() {\n        return &quot;hello!&quot;;\n    }\n}\n</code></pre>\n<p>When I try access the REST endpoint:</p>\n<p><strong>cmd line:</strong></p>\n<blockquote>\n<p>$ curl http://localhost:5005/hello<br />\ncurl: (56) Recv failure: Connection reset by peer</p>\n</blockquote>\n<p><strong>Karaf log:</strong></p>\n<blockquote>\n<p>Debugger failed to attach: handshake failed - received &gt;GET /hello\nHTT&lt; - expected &gt;JDWP-Handshake&lt;</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/X5uWz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X5uWz.png\" alt=\"enter image description here\" /></a></p>\n<p>Project REST module:</p>\n<p><a href=\"https://i.stack.imgur.com/j0Exx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j0Exx.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","algorithm","binary","decimal"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1647887290,"post_id":71562341,"comment_id":126479602,"body_markdown":"Just FYI, all numbers in a computer are binary.  There are no decimal numbers.  You typically want to *print* a number in binary when you do this.","body":"Just FYI, all numbers in a computer are binary.  There are no decimal numbers.  You typically want to <i>print</i> a number in binary when you do this."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1647887374,"post_id":71562341,"comment_id":126479643,"body_markdown":"Can you give an example of a wrong answer this code gives?  It&#39;s harder for us to test it if we don&#39;t already know where the problems are.","body":"Can you give an example of a wrong answer this code gives?  It&#39;s harder for us to test it if we don&#39;t already know where the problems are."},{"owner":{"account_id":23627788,"reputation":13,"user_id":17660052,"display_name":"713 Jishnu Bandyopadhyay"},"score":0,"creation_date":1647888977,"post_id":71562341,"comment_id":126480185,"body_markdown":"@markspace I wanted to say that using array only outputs an array. But I want to get a variable as output, in my case &#39;num&#39;.","body":"@markspace I wanted to say that using array only outputs an array. But I want to get a variable as output, in my case &#39;num&#39;."},{"owner":{"account_id":23627788,"reputation":13,"user_id":17660052,"display_name":"713 Jishnu Bandyopadhyay"},"score":0,"creation_date":1647889049,"post_id":71562341,"comment_id":126480213,"body_markdown":"@markspace for example, if you input 6, it gives 110 which is right. But if you input 5, it gives 1010, which should be 101","body":"@markspace for example, if you input 6, it gives 110 which is right. But if you input 5, it gives 1010, which should be 101"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1647910451,"post_id":71562341,"comment_id":126485248,"body_markdown":"The approach of representing the result as a decimal number with only `1`s and `0`s is a very bad idea.  The input range is extremely limited (1023 for `int` and `524288` for `long`)","body":"The approach of representing the result as a decimal number with only <code>1</code>s and <code>0</code>s is a very bad idea.  The input range is extremely limited (1023 for <code>int</code> and <code>524288</code> for <code>long</code>)"}],"answers":[{"tags":[],"owner":{"account_id":16547795,"reputation":139,"user_id":12076092,"display_name":"faire"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1647887384,"creation_date":1647887384,"answer_id":71562450,"question_id":71562341,"body_markdown":"This problem lends its self to a recursive solution\r\n\r\n```java\r\n  private static int DecToBin(final int input, final int result) {\r\n    if (input == 0) {\r\n      return result;\r\n    }\r\n    return DecToBin(input / 2, result * 10 + input % 2);\r\n  }\r\n```","title":"Convert Decimal Number to Binary without using Array","body":"<p>This problem lends its self to a recursive solution</p>\n<pre class=\"lang-java prettyprint-override\"><code>  private static int DecToBin(final int input, final int result) {\n    if (input == 0) {\n      return result;\n    }\n    return DecToBin(input / 2, result * 10 + input % 2);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2857042,"reputation":5165,"user_id":2453089,"accept_rate":72,"display_name":"vish4071"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1647889744,"creation_date":1647889744,"answer_id":71562900,"question_id":71562341,"body_markdown":"I found following &quot;direct&quot; issues with your code:\r\n1. You are not reversing the final number. In the manual way of converting DEC-&gt;BIN, we reverse the final representation. Hint: Dry run for input 11\r\n2. You are doing `num += rem; num *= 10`. The order is wrong. You should be multiplying it before you add the remainder. eg. Your code will output `1010` for `5`, instead of `101`.\r\n3. By your method, you are trying to represent decimal number into its binary representation as `int`, which limits your input to `2047`, as `2048` and above need 11+ digits for their binary representation and you can&#39;t have that in `int`. You should use `String` if you don&#39;t want to use array. Also, reversing would be easier.\r\n\r\nsomething like:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class DecToBin {\r\n        public static void main(String[] args) {\r\n            Scanner sc = new Scanner(System.in);\r\n            int dec = 0, num = 0;\r\n            \r\n            System.out.print(&quot;Enter A Decimal Number: &quot;);\r\n            dec = sc.nextInt();\r\n            String bi = &quot;&quot;;\r\n            while(dec &gt; 0){\r\n                int rem = dec % 2;\r\n                // num *= 10;\r\n                // num += rem;\r\n                bi += Character.toString(rem + 48);\r\n                dec /= 2;\r\n    \r\n            }\r\n            // if(num % 100 == 10){\r\n            //     num = num/10;\r\n            // }\r\n            System.out.println(&quot;Binary Equivalent: &quot; + new StringBuilder(bi).reverse().toString());\r\n    \r\n    \r\n        }\r\n    }\r\n","title":"Convert Decimal Number to Binary without using Array","body":"<p>I found following &quot;direct&quot; issues with your code:</p>\n<ol>\n<li>You are not reversing the final number. In the manual way of converting DEC-&gt;BIN, we reverse the final representation. Hint: Dry run for input 11</li>\n<li>You are doing <code>num += rem; num *= 10</code>. The order is wrong. You should be multiplying it before you add the remainder. eg. Your code will output <code>1010</code> for <code>5</code>, instead of <code>101</code>.</li>\n<li>By your method, you are trying to represent decimal number into its binary representation as <code>int</code>, which limits your input to <code>2047</code>, as <code>2048</code> and above need 11+ digits for their binary representation and you can't have that in <code>int</code>. You should use <code>String</code> if you don't want to use array. Also, reversing would be easier.</li>\n</ol>\n<p>something like:</p>\n<pre><code>import java.util.Scanner;\n\npublic class DecToBin {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int dec = 0, num = 0;\n        \n        System.out.print(&quot;Enter A Decimal Number: &quot;);\n        dec = sc.nextInt();\n        String bi = &quot;&quot;;\n        while(dec &gt; 0){\n            int rem = dec % 2;\n            // num *= 10;\n            // num += rem;\n            bi += Character.toString(rem + 48);\n            dec /= 2;\n\n        }\n        // if(num % 100 == 10){\n        //     num = num/10;\n        // }\n        System.out.println(&quot;Binary Equivalent: &quot; + new StringBuilder(bi).reverse().toString());\n\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1706473,"reputation":1,"user_id":1565429,"display_name":"blok82"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648042752,"creation_date":1648042373,"answer_id":71588139,"question_id":71562341,"body_markdown":"This is my first time answering, so please let me know if anything is off :-) \r\n\r\nYou could try to use a String as intermediate. Short and simple.... But i dont know if that counts as an Array :-)   \r\nYour while-part would be something like this:\r\n\r\n\t\tString strBin = &quot;&quot;;\r\n        while(dec &gt; 0){\r\n\t\t\tstrBin = String.valueOf(dec%2) + strBin;\r\n            dec /= 2;\r\n        }\r\n\t\tnum = Long.valueOf(strBin);        \r\n\r\nThe order of bits in the binairy number is correct by adding in front of the previous String, so building up the result from right to left.  \r\nAlso, i would not use a Long (last line... num), because it limits your max result.  But if you must.....  meh","title":"Convert Decimal Number to Binary without using Array","body":"<p>This is my first time answering, so please let me know if anything is off :-)</p>\n<p>You could try to use a String as intermediate. Short and simple.... But i dont know if that counts as an Array :-)<br />\nYour while-part would be something like this:</p>\n<pre><code>    String strBin = &quot;&quot;;\n    while(dec &gt; 0){\n        strBin = String.valueOf(dec%2) + strBin;\n        dec /= 2;\n    }\n    num = Long.valueOf(strBin);        \n</code></pre>\n<p>The order of bits in the binairy number is correct by adding in front of the previous String, so building up the result from right to left.<br />\nAlso, i would not use a Long (last line... num), because it limits your max result.  But if you must.....  meh</p>\n"}],"owner":{"account_id":23627788,"reputation":13,"user_id":17660052,"display_name":"713 Jishnu Bandyopadhyay"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1270,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71562900,"answer_count":3,"score":0,"last_activity_date":1648042752,"creation_date":1647886884,"question_id":71562341,"body_markdown":"I want to make a java code that converts any decimal number inputted, into binary number. Although the array method is easy, it doesn&#39;t actually prints a number(it prints array), nor does it seem to correctly use the algorithm we use manually. So I&#39;m trying to do it without array. The problem is it sometimes giving correct answers, and sometimes giving wrong answers. I think the problem might be in multiplying by zero in the last cycle of loop, but I&#39;m not sure. The code I wrote as comment was a failed try to resolve the issue.\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class DecToBin {\r\n        public static void main(String[] args) {\r\n            Scanner sc = new Scanner(System.in);\r\n            long dec = 0, num = 0, rem = 0;\r\n            \r\n            System.out.print(&quot;Enter A Decimal Number: &quot;);\r\n            dec = sc.nextLong();\r\n            while(dec &gt; 0){\r\n                rem = dec % 2;\r\n                num += rem;\r\n                num *= 10;\r\n                dec /= 2;\r\n    \r\n            }\r\n            // if(num % 100 == 10){\r\n            //     num = num/10;\r\n            // }\r\n            System.out.println(&quot;Binary Equivalent: &quot; + num);\r\n    \r\n    \r\n        }\r\n    }\r\n     ","title":"Convert Decimal Number to Binary without using Array","body":"<p>I want to make a java code that converts any decimal number inputted, into binary number. Although the array method is easy, it doesn't actually prints a number(it prints array), nor does it seem to correctly use the algorithm we use manually. So I'm trying to do it without array. The problem is it sometimes giving correct answers, and sometimes giving wrong answers. I think the problem might be in multiplying by zero in the last cycle of loop, but I'm not sure. The code I wrote as comment was a failed try to resolve the issue.</p>\n<pre><code>import java.util.Scanner;\n\npublic class DecToBin {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        long dec = 0, num = 0, rem = 0;\n        \n        System.out.print(&quot;Enter A Decimal Number: &quot;);\n        dec = sc.nextLong();\n        while(dec &gt; 0){\n            rem = dec % 2;\n            num += rem;\n            num *= 10;\n            dec /= 2;\n\n        }\n        // if(num % 100 == 10){\n        //     num = num/10;\n        // }\n        System.out.println(&quot;Binary Equivalent: &quot; + num);\n\n\n    }\n}\n \n</code></pre>\n"},{"tags":["java","processbuilder"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":1,"creation_date":1496029703,"post_id":44234074,"comment_id":75478394,"body_markdown":"Append a Date/Time to the file name.","body":"Append a Date/Time to the file name."},{"owner":{"account_id":9234979,"reputation":55,"user_id":6859911,"display_name":"Sony"},"score":0,"creation_date":1496072661,"post_id":44234074,"comment_id":75501094,"body_markdown":"Can you give an example sir @DevilsHnd","body":"Can you give an example sir @DevilsHnd"}],"owner":{"account_id":9234979,"reputation":55,"user_id":6859911,"display_name":"Sony"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648042561,"creation_date":1496027020,"question_id":44234074,"body_markdown":"I am using process builder to run my external program and the external program generate some files. I am using the following code to save the file \r\n\r\n         Process en = new ProcessBuilder(&quot;E:\\\\Encryption.exe&quot;,file.getAbsolutePath(),\r\n    &quot;E:\\\\key_abc.key&quot;,&quot;E:\\\\encypted_img.jpg&quot;).start();\r\n\r\nThis can save my all the files generate from the process. But how to save the files in a location with new file name each time? Because when I run the program the previous files are replacing.","title":"Saving a file in a location with new file name each time in java","body":"<p>I am using process builder to run my external program and the external program generate some files. I am using the following code to save the file</p>\n<pre><code>     Process en = new ProcessBuilder(&quot;E:\\\\Encryption.exe&quot;,file.getAbsolutePath(),\n&quot;E:\\\\key_abc.key&quot;,&quot;E:\\\\encypted_img.jpg&quot;).start();\n</code></pre>\n<p>This can save my all the files generate from the process. But how to save the files in a location with new file name each time? Because when I run the program the previous files are replacing.</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":2,"creation_date":1486463538,"post_id":42087117,"comment_id":71345133,"body_markdown":"So you don&#39;t want the width of column 0 to be formatted autosize? So simple exclude `i==0` from `sheet.autoSizeColumn(i);`.","body":"So you don&#39;t want the width of column 0 to be formatted autosize? So simple exclude <code>i==0</code> from <code>sheet.autoSizeColumn(i);</code>."},{"owner":{"account_id":5024488,"reputation":399,"user_id":4036926,"accept_rate":50,"display_name":"Divagar Haldurai"},"score":0,"creation_date":1486465167,"post_id":42087117,"comment_id":71346173,"body_markdown":"It works ..thank you Alex","body":"It works ..thank you Alex"}],"answers":[{"tags":[],"owner":{"account_id":9069472,"reputation":2154,"user_id":6753238,"display_name":"Nikolas"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1486463648,"creation_date":1486463648,"answer_id":42087538,"question_id":42087117,"body_markdown":"[setColumnWidth(int, int)][1] should work ... is it because you reset the sizes to *auto* in your loop?\r\n\r\n    for (int i = 0; i &lt; headers.length; i++) {\r\n        sheet.autoSizeColumn(i);\r\n    }\r\n\r\nStart your loop from 1 to headers.length instead.\r\n  [1]: http://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Sheet.html#setColumnWidth%28int,%20int%29","title":"How to set fixed column width in Apache POI","body":"<p><a href=\"http://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Sheet.html#setColumnWidth%28int,%20int%29\" rel=\"noreferrer\">setColumnWidth(int, int)</a> should work ... is it because you reset the sizes to <em>auto</em> in your loop?</p>\n\n<pre><code>for (int i = 0; i &lt; headers.length; i++) {\n    sheet.autoSizeColumn(i);\n}\n</code></pre>\n\n<p>Start your loop from 1 to headers.length instead.</p>\n"},{"tags":[],"owner":{"account_id":4023216,"reputation":20427,"user_id":3312636,"accept_rate":83,"display_name":"Sarath Subramanian"},"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1578926421,"creation_date":1578926421,"answer_id":59718764,"question_id":42087117,"body_markdown":"You can set the column width using `setColumnWidth` method of `XSSFWorkbook`. The 1st parameter is the column number (starts from zero) and the 2nd parameter is the width. We need to be little tricky here to set the width. To set the width as `25` we need to pass the parameter as `25 * 256`.\r\n\r\n    XSSFSheet sheet = workbook.createSheet(&quot;MySheet&quot;);\r\n    sheet.setColumnWidth(3, 25 * 256);","title":"How to set fixed column width in Apache POI","body":"<p>You can set the column width using <code>setColumnWidth</code> method of <code>XSSFWorkbook</code>. The 1st parameter is the column number (starts from zero) and the 2nd parameter is the width. We need to be little tricky here to set the width. To set the width as <code>25</code> we need to pass the parameter as <code>25 * 256</code>.</p>\n\n<pre><code>XSSFSheet sheet = workbook.createSheet(\"MySheet\");\nsheet.setColumnWidth(3, 25 * 256);\n</code></pre>\n"}],"owner":{"account_id":5024488,"reputation":399,"user_id":4036926,"accept_rate":50,"display_name":"Divagar Haldurai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87522,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":42087538,"answer_count":2,"score":24,"last_activity_date":1648042363,"creation_date":1486462459,"question_id":42087117,"body_markdown":"How to set fixed column width in Apache POI.\r\nI want to make my first column to fixed width.\r\n\r\nI have tried with sheet.setColumnWidth(0, 1000);\r\n\t\t\tcellStyle.setWrapText(true); //Set wordwrap it is not reflecting\r\n\r\n        public XSSFWorkbook generateReport(List&lt;Dto&gt; result, boolean isRes, boolean isRes1) {\r\n\t\tXSSFWorkbook workbook = null;\r\n\t\tXSSFSheet sheet = null;\r\n\t\tXSSFRow row = null;\r\n\t\tXSSFCell cell = null;\r\n\t\tString[] headers = null;\r\n\t\tint rowNum = 0;\r\n\t\tint colNum = 0;\r\n\t\tCellStyle cellStyle = null;\r\n\t\tCellStyle headerStyle = null;\r\n\t\tXSSFFont font = null;\r\n\t\tCellStyle datecellStyle = null;\r\n\t\t/* set the weight of the font */\r\n\t\t\r\n\t\t\r\n\r\n\t\ttry {\r\n\t\t\tworkbook = new XSSFWorkbook();\r\n\t\t\t\r\n\t\t\theaders = new String[] { ...values goes here...};\r\n\t\t\trow = sheet.createRow(rowNum);\r\n\t\t\tfont = workbook.createFont();\r\n\t\t\tfont.setBoldweight(XSSFFont.BOLDWEIGHT_BOLD);\r\n\r\n\t\t\theaderStyle = workbook.createCellStyle();\r\n\t\t\theaderStyle.setBorderBottom(HSSFCellStyle.BORDER_MEDIUM);\r\n\t\t\theaderStyle.setBorderTop(HSSFCellStyle.BORDER_MEDIUM);\r\n\t\t\theaderStyle.setBorderRight(HSSFCellStyle.BORDER_MEDIUM);\r\n\t\t\theaderStyle.setBorderLeft(HSSFCellStyle.BORDER_MEDIUM);\r\n\t\t\theaderStyle.setFillForegroundColor((short) 200);\r\n\t\t\theaderStyle.setFillPattern(XSSFCellStyle.SOLID_FOREGROUND);\r\n\t\t\theaderStyle.setFont(font);\r\n\r\n\t\t\tcellStyle = workbook.createCellStyle();\r\n\t\t\tcellStyle.setBorderBottom(HSSFCellStyle.BORDER_THIN);\r\n\t\t\tcellStyle.setBorderTop(HSSFCellStyle.BORDER_THIN);\r\n\t\t\tcellStyle.setBorderRight(HSSFCellStyle.BORDER_THIN);\r\n\t\t\tcellStyle.setBorderLeft(HSSFCellStyle.BORDER_THIN);\r\n\t\t\t\r\n\t\t\t\r\n\r\n\t\t\tdatecellStyle = workbook.createCellStyle();\r\n\t\t\tdatecellStyle.setDataFormat(workbook.getCreationHelper().createDataFormat().getFormat(&quot;dd-MMM-yyyy&quot;));\r\n\t\t\tdatecellStyle.setBorderBottom(HSSFCellStyle.BORDER_THIN);\r\n\t\t\tdatecellStyle.setBorderTop(HSSFCellStyle.BORDER_THIN);\r\n\t\t\tdatecellStyle.setBorderRight(HSSFCellStyle.BORDER_THIN);\r\n\t\t\tdatecellStyle.setBorderLeft(HSSFCellStyle.BORDER_THIN);\r\n\t\t\t\r\n\t\t\t\r\n\r\n\t\t\t/**\r\n\t\t\t * Writing Headers\r\n\t\t\t */\r\n\t\t\tfor (String header : headers) {\r\n\t\t\t\tcell = row.createCell(colNum);\r\n\t\t\t\tcell.setCellValue(header);\r\n\t\t\t\tcell.setCellStyle(headerStyle);\r\n\t\t\t\t++colNum;\r\n\t\t\t}\r\n\r\n\t\t\t/**\r\n\t\t\t * Writing Other Rows\r\n\t\t\t */\r\n\t\t\tSimpleDateFormat DATE_FORMAT = new SimpleDateFormat(&quot;dd-MMM-yyyy HH:mm:ss&quot;);\r\n\t\t\tfor (Dto detail : result) {\r\n\t\t\t\t++rowNum;\r\n\t\t\t\tcolNum = 0;\r\n\t\t\t\trow = sheet.createRow(rowNum);\r\n\t\t\t\tcell = row.createCell(colNum);\r\n\t\t\t\t//sheet.setColumnWidth(0, 4000);\r\n\t\t\t\tcell.\r\n\t\t\t\tif(null != detail.getGid()){\r\n\t\t\t\t\tcell.setCellValue(detail.getGid());\r\n\t\t\t\t}else{\r\n\t\t\t\t\tcell.setCellValue(&quot;-&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tcell.setCellStyle(cellStyle);\r\n\r\n\t\t\t\t++colNum;\r\n\t\t\t\tcell = row.createCell(colNum);\r\n\t\t\t\tif(null != detail.getName()){\r\n\t\t\t\t\tcell.setCellValue(detail.getName());\r\n\t\t\t\t}else{\r\n\t\t\t\t\tcell.setCellValue(&quot;-&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tcell.setCellStyle(cellStyle);\r\n\r\n\t\t\t\t++colNum;\r\n\t\t\t\tcell = row.createCell(colNum);\r\n\t\t\t\tif(null != detail.getNGid()){\r\n\t\t\t\t\tcell.setCellValue(detail.getNGid());\r\n\t\t\t\t}else{\r\n\t\t\t\t\tcell.setCellValue(&quot;-&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tcell.setCellStyle(cellStyle);\r\n\r\n\t\t\t\t++colNum;\r\n\t\t\t\tcell = row.createCell(colNum);\r\n\t\t\t\tif(null != detail.getName()){\r\n\t\t\t\t\tcell.setCellValue(detail.getName());\r\n\t\t\t\t}else{\r\n\t\t\t\t\tcell.setCellValue(&quot;-&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tcell.setCellStyle(cellStyle);\r\n\r\n\t\t\t\t\r\n\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\tfor (int i = 0; i &lt; headers.length; i++) {\r\n\t\t\t\tsheet.autoSizeColumn(i);\r\n\t\t\t}\r\n\t\t\tsheet.createFreezePane(1, 1);\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn workbook;\r\n\t}","title":"How to set fixed column width in Apache POI","body":"<p>How to set fixed column width in Apache POI.\nI want to make my first column to fixed width.</p>\n\n<p>I have tried with sheet.setColumnWidth(0, 1000);\n            cellStyle.setWrapText(true); //Set wordwrap it is not reflecting</p>\n\n<pre><code>    public XSSFWorkbook generateReport(List&lt;Dto&gt; result, boolean isRes, boolean isRes1) {\n    XSSFWorkbook workbook = null;\n    XSSFSheet sheet = null;\n    XSSFRow row = null;\n    XSSFCell cell = null;\n    String[] headers = null;\n    int rowNum = 0;\n    int colNum = 0;\n    CellStyle cellStyle = null;\n    CellStyle headerStyle = null;\n    XSSFFont font = null;\n    CellStyle datecellStyle = null;\n    /* set the weight of the font */\n\n\n\n    try {\n        workbook = new XSSFWorkbook();\n\n        headers = new String[] { ...values goes here...};\n        row = sheet.createRow(rowNum);\n        font = workbook.createFont();\n        font.setBoldweight(XSSFFont.BOLDWEIGHT_BOLD);\n\n        headerStyle = workbook.createCellStyle();\n        headerStyle.setBorderBottom(HSSFCellStyle.BORDER_MEDIUM);\n        headerStyle.setBorderTop(HSSFCellStyle.BORDER_MEDIUM);\n        headerStyle.setBorderRight(HSSFCellStyle.BORDER_MEDIUM);\n        headerStyle.setBorderLeft(HSSFCellStyle.BORDER_MEDIUM);\n        headerStyle.setFillForegroundColor((short) 200);\n        headerStyle.setFillPattern(XSSFCellStyle.SOLID_FOREGROUND);\n        headerStyle.setFont(font);\n\n        cellStyle = workbook.createCellStyle();\n        cellStyle.setBorderBottom(HSSFCellStyle.BORDER_THIN);\n        cellStyle.setBorderTop(HSSFCellStyle.BORDER_THIN);\n        cellStyle.setBorderRight(HSSFCellStyle.BORDER_THIN);\n        cellStyle.setBorderLeft(HSSFCellStyle.BORDER_THIN);\n\n\n\n        datecellStyle = workbook.createCellStyle();\n        datecellStyle.setDataFormat(workbook.getCreationHelper().createDataFormat().getFormat(\"dd-MMM-yyyy\"));\n        datecellStyle.setBorderBottom(HSSFCellStyle.BORDER_THIN);\n        datecellStyle.setBorderTop(HSSFCellStyle.BORDER_THIN);\n        datecellStyle.setBorderRight(HSSFCellStyle.BORDER_THIN);\n        datecellStyle.setBorderLeft(HSSFCellStyle.BORDER_THIN);\n\n\n\n        /**\n         * Writing Headers\n         */\n        for (String header : headers) {\n            cell = row.createCell(colNum);\n            cell.setCellValue(header);\n            cell.setCellStyle(headerStyle);\n            ++colNum;\n        }\n\n        /**\n         * Writing Other Rows\n         */\n        SimpleDateFormat DATE_FORMAT = new SimpleDateFormat(\"dd-MMM-yyyy HH:mm:ss\");\n        for (Dto detail : result) {\n            ++rowNum;\n            colNum = 0;\n            row = sheet.createRow(rowNum);\n            cell = row.createCell(colNum);\n            //sheet.setColumnWidth(0, 4000);\n            cell.\n            if(null != detail.getGid()){\n                cell.setCellValue(detail.getGid());\n            }else{\n                cell.setCellValue(\"-\");\n            }\n            cell.setCellStyle(cellStyle);\n\n            ++colNum;\n            cell = row.createCell(colNum);\n            if(null != detail.getName()){\n                cell.setCellValue(detail.getName());\n            }else{\n                cell.setCellValue(\"-\");\n            }\n            cell.setCellStyle(cellStyle);\n\n            ++colNum;\n            cell = row.createCell(colNum);\n            if(null != detail.getNGid()){\n                cell.setCellValue(detail.getNGid());\n            }else{\n                cell.setCellValue(\"-\");\n            }\n            cell.setCellStyle(cellStyle);\n\n            ++colNum;\n            cell = row.createCell(colNum);\n            if(null != detail.getName()){\n                cell.setCellValue(detail.getName());\n            }else{\n                cell.setCellValue(\"-\");\n            }\n            cell.setCellStyle(cellStyle);\n\n\n\n\n        }\n\n        for (int i = 0; i &lt; headers.length; i++) {\n            sheet.autoSizeColumn(i);\n        }\n        sheet.createFreezePane(1, 1);\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return workbook;\n}\n</code></pre>\n"},{"tags":["java","list","dataframe","methods"],"comments":[{"owner":{"display_name":"user6073886"},"score":5,"creation_date":1648035714,"post_id":71586528,"comment_id":126520830,"body_markdown":"Apart from the fact that I have a hard time understanding your question (What is &quot;I need another method (method2) that creates another letter and word pair that can be also returned by method1&quot; supposed to actually mean?) and that the code you posted isn&#39;t valid and functioning java code. It overall sounds like what you are really looking for is a Map that maps your letters to words:  [The Java Tutorials - The Map interface](https://docs.oracle.com/javase/tutorial/collections/interfaces/map.html)","body":"Apart from the fact that I have a hard time understanding your question (What is &quot;I need another method (method2) that creates another letter and word pair that can be also returned by method1&quot; supposed to actually mean?) and that the code you posted isn&#39;t valid and functioning java code. It overall sounds like what you are really looking for is a Map that maps your letters to words:  <a href=\"https://docs.oracle.com/javase/tutorial/collections/interfaces/map.html\" rel=\"nofollow noreferrer\">The Java Tutorials - The Map interface</a>"},{"owner":{"account_id":1646676,"reputation":4100,"user_id":1518100,"accept_rate":96,"display_name":"Lei Yang"},"score":0,"creation_date":1648036612,"post_id":71586528,"comment_id":126521151,"body_markdown":"let me try to repeat the question: want define one or two method(s), that can add key value pairs, and return the value given the key. is it correct? @qwerqwer02","body":"let me try to repeat the question: want define one or two method(s), that can add key value pairs, and return the value given the key. is it correct? @qwerqwer02"},{"owner":{"account_id":24658341,"reputation":21,"user_id":18554816,"display_name":"qwerqwer02"},"score":0,"creation_date":1648037097,"post_id":71586528,"comment_id":126521351,"body_markdown":"@LeiYang yes, correct","body":"@LeiYang yes, correct"}],"answers":[{"tags":[],"owner":{"account_id":24512067,"reputation":172,"user_id":18426258,"display_name":"MaxVK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648036633,"creation_date":1648036633,"answer_id":71586800,"question_id":71586528,"body_markdown":"Not one hundred percent sure what your question is but if it is how to change variables inside objects that are done by setter methods inside of the class of the object. If this is not your question please respond using a comment and I can try help from there\r\n\r\n\r\n```\r\npublic void setVar(String newValue)\r\n{\r\n    this.oldVar = newVale\r\n}\r\n```","title":"How to change/update a method from outside in java?","body":"<p>Not one hundred percent sure what your question is but if it is how to change variables inside objects that are done by setter methods inside of the class of the object. If this is not your question please respond using a comment and I can try help from there</p>\n<pre><code>public void setVar(String newValue)\n{\n    this.oldVar = newVale\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":875002,"reputation":6703,"user_id":924820,"display_name":"BigMike"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1648037299,"creation_date":1648037299,"answer_id":71586954,"question_id":71586528,"body_markdown":"I&#39;d start with something trivial, a Test class which has a single data member, a Map (a collection suitable to hold pairs of Key/Value). \r\n\r\n    public class Test {\r\n        // The collection where we&#39;ll hold the pairs\r\n        private Map&lt;String, String&gt; myMap;\r\n\r\n        // Constructor\r\n        public Test() {\r\n            myMap = new HashMap&lt;String, String&gt;();\r\n        }\r\n\r\nThen I&#39;ll add two simple methods, one to add an element to the collection and one to retrieve an element from the collection.\r\n\r\n\r\n        public String get(String letter) {\r\n             return myMap.get(letter);\r\n        }\r\n\r\n        public void put(String letter, String word) {\r\n             myMap.put(letter, word);\r\n        }\r\n\r\nFinally a main to test it all, allocate the Test object, add a few elements, then retrieve one and print it&#39;s value.\r\n\r\n        public static void main(String [] args) {\r\n            Test app = new Test();\r\n            app.put(&quot;A&quot;, &quot;Apple&quot;);\r\n            app.put(&quot;B&quot;, &quot;Bus&quot;);\r\n\r\n            String value = app.get(&quot;A&quot;);\r\n            System.out.println(value);\r\n            System.exit(0);\r\n        }\r\n    }","title":"How to change/update a method from outside in java?","body":"<p>I'd start with something trivial, a Test class which has a single data member, a Map (a collection suitable to hold pairs of Key/Value).</p>\n<pre><code>public class Test {\n    // The collection where we'll hold the pairs\n    private Map&lt;String, String&gt; myMap;\n\n    // Constructor\n    public Test() {\n        myMap = new HashMap&lt;String, String&gt;();\n    }\n</code></pre>\n<p>Then I'll add two simple methods, one to add an element to the collection and one to retrieve an element from the collection.</p>\n<pre><code>    public String get(String letter) {\n         return myMap.get(letter);\n    }\n\n    public void put(String letter, String word) {\n         myMap.put(letter, word);\n    }\n</code></pre>\n<p>Finally a main to test it all, allocate the Test object, add a few elements, then retrieve one and print it's value.</p>\n<pre><code>    public static void main(String [] args) {\n        Test app = new Test();\n        app.put(&quot;A&quot;, &quot;Apple&quot;);\n        app.put(&quot;B&quot;, &quot;Bus&quot;);\n\n        String value = app.get(&quot;A&quot;);\n        System.out.println(value);\n        System.exit(0);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17076275,"reputation":596,"user_id":12355831,"display_name":"stefan-dan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648041882,"creation_date":1648037446,"answer_id":71586989,"question_id":71586528,"body_markdown":"As [OH GOD SPIDERS][1] metioned, you have to use a [Map][2].\r\n\r\nCreate an `Alphabet` class, like this:\r\n\r\n    public class Alphabet {\r\n    // Find why do we use a ConcurentHashMap? What other types are there?\r\n    private final Map&lt;Character, String&gt; letterWordMap = new ConcurrentHashMap&lt;&gt;();\r\n\r\n    public void addWord(Character letter, String word) {\r\n        // Try to replace with .putIfAbsent() and check the return value of this method!\r\n        letterWordMap.put(letter, word);\r\n    }\r\n\r\n    public String getWord(Character letter) {\r\n        // Try to get a non existing letter like &#39;X&#39;\r\n        return letterWordMap.get(letter);\r\n    }}\r\n\r\nTest the methods in a `main` method:\r\n\r\n    public class Main {\r\n    public static void main(String[] args) {\r\n        Alphabet alphabet = new Alphabet();\r\n        // Add letters and words\r\n        alphabet.addWord(&#39;A&#39;, &quot;Apple&quot;);\r\n        alphabet.addWord(&#39;B&#39;, &quot;Bus&quot;);\r\n\r\n        // Get the word\r\n        String wordForLetterA = alphabet.getWord(&#39;A&#39;);\r\n        System.out.println(&quot;Word for letter &#39;A&#39;: &quot; + wordForLetterA);\r\n\r\n        // Add another letter and word\r\n        alphabet.addWord(&#39;J&#39;, &quot;Java&quot;);\r\n\r\n        // Get another word\r\n        String wordForLetterJ = alphabet.getWord(&#39;J&#39;);\r\n        System.out.println(&quot;Word for letter &#39;J&#39;: &quot; + wordForLetterJ);\r\n    }}\r\n\r\n  [1]: https://stackoverflow.com/users/6073886/oh-god-spiders\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html","title":"How to change/update a method from outside in java?","body":"<p>As <a href=\"https://stackoverflow.com/users/6073886/oh-god-spiders\">OH GOD SPIDERS</a> metioned, you have to use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html\" rel=\"nofollow noreferrer\">Map</a>.</p>\n<p>Create an <code>Alphabet</code> class, like this:</p>\n<pre><code>public class Alphabet {\n// Find why do we use a ConcurentHashMap? What other types are there?\nprivate final Map&lt;Character, String&gt; letterWordMap = new ConcurrentHashMap&lt;&gt;();\n\npublic void addWord(Character letter, String word) {\n    // Try to replace with .putIfAbsent() and check the return value of this method!\n    letterWordMap.put(letter, word);\n}\n\npublic String getWord(Character letter) {\n    // Try to get a non existing letter like 'X'\n    return letterWordMap.get(letter);\n}}\n</code></pre>\n<p>Test the methods in a <code>main</code> method:</p>\n<pre><code>public class Main {\npublic static void main(String[] args) {\n    Alphabet alphabet = new Alphabet();\n    // Add letters and words\n    alphabet.addWord('A', &quot;Apple&quot;);\n    alphabet.addWord('B', &quot;Bus&quot;);\n\n    // Get the word\n    String wordForLetterA = alphabet.getWord('A');\n    System.out.println(&quot;Word for letter 'A': &quot; + wordForLetterA);\n\n    // Add another letter and word\n    alphabet.addWord('J', &quot;Java&quot;);\n\n    // Get another word\n    String wordForLetterJ = alphabet.getWord('J');\n    System.out.println(&quot;Word for letter 'J': &quot; + wordForLetterJ);\n}}\n</code></pre>\n"}],"owner":{"account_id":24658341,"reputation":21,"user_id":18554816,"display_name":"qwerqwer02"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1648041882,"creation_date":1648035351,"question_id":71586528,"body_markdown":"I have two letters and for each letter there is a word\r\neg: A-apple, B-bus\r\nI need to create a method that returns the words if I provide the letter\r\nI was thinking that I could do it this way (method1):\r\n\r\n```\r\npublic class Main {\r\n  static void method1(String letter) {\r\n    if (letter.equals(&quot;A&quot;) {\r\n      System.out.println(&quot;apple&quot;);\r\n    } else if (letter.equals(&quot;B&quot;) {\r\n      System.out.println(&quot;bus&quot;);\r\n    }\r\n  }\r\n```\r\n\r\nThe problem is that I need another method (method2) that creates another letter and word pair that can be also returned by  method1, how can I do this without changing method1? Can I make a dataframe or list that is outside the methods but can be accessed and updated by the methods?\r\n\r\n To clarify I need solution for the following task:\r\n\r\n - I have pairs which contain 1 letter and 1 word  \r\n(for example this is a pair: A-Apple)\r\n - I have to create two methods\r\n - 1. method should    print/return the word from a pair if we provide the letter, so for    example if we provide the letter A, then it should print/return    the word &#39;Apple&#39;\r\n - 2.method should somehow creat a new pair that    can be later accessed the same way as the above example (A-Apple    pair)","title":"How to change/update a method from outside in java?","body":"<p>I have two letters and for each letter there is a word\neg: A-apple, B-bus\nI need to create a method that returns the words if I provide the letter\nI was thinking that I could do it this way (method1):</p>\n<pre><code>public class Main {\n  static void method1(String letter) {\n    if (letter.equals(&quot;A&quot;) {\n      System.out.println(&quot;apple&quot;);\n    } else if (letter.equals(&quot;B&quot;) {\n      System.out.println(&quot;bus&quot;);\n    }\n  }\n</code></pre>\n<p>The problem is that I need another method (method2) that creates another letter and word pair that can be also returned by  method1, how can I do this without changing method1? Can I make a dataframe or list that is outside the methods but can be accessed and updated by the methods?</p>\n<p>To clarify I need solution for the following task:</p>\n<ul>\n<li>I have pairs which contain 1 letter and 1 word<br />\n(for example this is a pair: A-Apple)</li>\n<li>I have to create two methods</li>\n<li>\n<ol>\n<li>method should    print/return the word from a pair if we provide the letter, so for    example if we provide the letter A, then it should print/return    the word 'Apple'</li>\n</ol>\n</li>\n<li>2.method should somehow creat a new pair that    can be later accessed the same way as the above example (A-Apple    pair)</li>\n</ul>\n"},{"tags":["java","matrix","arraylist"],"answers":[{"tags":[],"owner":{"account_id":8088402,"reputation":1,"user_id":6095190,"display_name":"Jonathan Wooldridge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648040744,"creation_date":1648040744,"answer_id":71587763,"question_id":71587493,"body_markdown":"That seems like a real drag to repeatedly enter data by hand. Might want to read in from a file instead.\r\n\r\n      /**\r\n       * Load a set of loot items into loot table from a CSV file\r\n       * @param fileName expected CSV format: | String name | int tries |\r\n       * @throws NumberFormatException if 2nd column isn&#39;t an integer\r\n       * @throws FileNotFoundException if can&#39;t find the CSV file\r\n       * @throws IOException other I/O &amp; storage problems\r\n       */\r\n      public void load(String fileName){  \r\n        try {\r\n          BufferedReader fileReader = new BufferedReader(new FileReader(fileName));\r\n          String lineItem;\r\n\r\n          while ((lineItem = fileReader.readLine()) != null) {\r\n            String[] lootDetails = lineItem.split(&quot;,&quot;);\r\n\r\n            lootRecord record = new lootRecord();\r\n            record.name       = lootDetails[0];\r\n            record.tries      = Integer.valueOf(lootDetails[1]);\r\n\r\n            table.add(record);\r\n        }\r\n        fileReader.close();\r\n      }\r\n      catch (NumberFormatException e) {\r\n        System.out.println(&quot;Invalid String: Integer count of tries expected&quot;);\r\n        e.printStackTrace();\r\n      } \r\n      catch (FileNotFoundException e) {\r\n        e.printStackTrace();\r\n      } \r\n      catch (IOException e) {\r\n        e.printStackTrace();\r\n      }\r\n    } // load\r\n","title":"Take user input into a matrix of unknown size until -1 is entered","body":"<p>That seems like a real drag to repeatedly enter data by hand. Might want to read in from a file instead.</p>\n<pre><code>  /**\n   * Load a set of loot items into loot table from a CSV file\n   * @param fileName expected CSV format: | String name | int tries |\n   * @throws NumberFormatException if 2nd column isn't an integer\n   * @throws FileNotFoundException if can't find the CSV file\n   * @throws IOException other I/O &amp; storage problems\n   */\n  public void load(String fileName){  \n    try {\n      BufferedReader fileReader = new BufferedReader(new FileReader(fileName));\n      String lineItem;\n\n      while ((lineItem = fileReader.readLine()) != null) {\n        String[] lootDetails = lineItem.split(&quot;,&quot;);\n\n        lootRecord record = new lootRecord();\n        record.name       = lootDetails[0];\n        record.tries      = Integer.valueOf(lootDetails[1]);\n\n        table.add(record);\n    }\n    fileReader.close();\n  }\n  catch (NumberFormatException e) {\n    System.out.println(&quot;Invalid String: Integer count of tries expected&quot;);\n    e.printStackTrace();\n  } \n  catch (FileNotFoundException e) {\n    e.printStackTrace();\n  } \n  catch (IOException e) {\n    e.printStackTrace();\n  }\n} // load\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2000334,"reputation":7336,"user_id":1791546,"accept_rate":68,"display_name":"Shridutt Kothari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648041717,"creation_date":1648041211,"answer_id":71587873,"question_id":71587493,"body_markdown":"You can create `ArrayList` of `ArrayList`  of `integers`\r\n for example:\r\n\r\n    ArrayList&lt;ArrayList&lt;Integer&gt;&gt; matrix = new ArrayList&lt;&gt;();\r\n\r\nExample Code: \r\n\r\n    \tArrayList&lt;ArrayList&lt;Integer&gt;&gt; matrix = new ArrayList&lt;&gt;();\r\n\r\n\t\r\n\tprivate void buildMatrix() {\r\n\t\tString rows [] = new String[10];\r\n\t\tfor(String eachRow: rows) {\r\n\t\t\tmatrix.add(processRow(eachRow));\t\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic ArrayList&lt;Integer&gt; processRow(String row) {\r\n\t\tArrayList&lt;Integer&gt; rowInts = new ArrayList&lt;&gt;();\r\n\t\tif (null != row &amp;&amp; row.contains(&quot; &quot;)) {\r\n\t\t\tString numbers[] = row.split(&quot; &quot;);\r\n\t\t\tfor (String number : numbers) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tint numberAsInt = Integer.parseInt(number);\r\n\t\t\t\t\trowInts.add(numberAsInt);\r\n\t\t\t\t} catch (NumberFormatException ex) {\r\n\t\t\t\t\tex.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn rowInts;\r\n\t}\r\n\r\n","title":"Take user input into a matrix of unknown size until -1 is entered","body":"<p>You can create <code>ArrayList</code> of <code>ArrayList</code>  of <code>integers</code>\nfor example:</p>\n<pre><code>ArrayList&lt;ArrayList&lt;Integer&gt;&gt; matrix = new ArrayList&lt;&gt;();\n</code></pre>\n<p>Example Code:</p>\n<pre><code>    ArrayList&lt;ArrayList&lt;Integer&gt;&gt; matrix = new ArrayList&lt;&gt;();\n\n\nprivate void buildMatrix() {\n    String rows [] = new String[10];\n    for(String eachRow: rows) {\n        matrix.add(processRow(eachRow));    \n    }\n}\n\npublic ArrayList&lt;Integer&gt; processRow(String row) {\n    ArrayList&lt;Integer&gt; rowInts = new ArrayList&lt;&gt;();\n    if (null != row &amp;&amp; row.contains(&quot; &quot;)) {\n        String numbers[] = row.split(&quot; &quot;);\n        for (String number : numbers) {\n            try {\n                int numberAsInt = Integer.parseInt(number);\n                rowInts.add(numberAsInt);\n            } catch (NumberFormatException ex) {\n                ex.printStackTrace();\n            }\n        }\n    }\n    return rowInts;\n}\n</code></pre>\n"}],"owner":{"account_id":21911707,"reputation":23,"user_id":16196105,"display_name":"Anonymous"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1648041717,"creation_date":1648039565,"question_id":71587493,"body_markdown":"So I need to read in an integer matrix from standard input from the user. The matrix will be specified with spaces between the columns and with each row on a new line. The input is terminated with a -1. \r\n\r\n**Input**\r\n```\r\n3 9 7 1\r\n2 4 8 6\r\n3 7 9 2\r\n-1\r\n```\r\n\r\nI know that 2D arrays cannot be used since the dimension of the matrix is unknown. I&#39;ve read up about 2d arraylists but I&#39;m unsure on how to store or read that info from the user.\r\n\r\nAny help is appreciated thanks \r\n","title":"Take user input into a matrix of unknown size until -1 is entered","body":"<p>So I need to read in an integer matrix from standard input from the user. The matrix will be specified with spaces between the columns and with each row on a new line. The input is terminated with a -1.</p>\n<p><strong>Input</strong></p>\n<pre><code>3 9 7 1\n2 4 8 6\n3 7 9 2\n-1\n</code></pre>\n<p>I know that 2D arrays cannot be used since the dimension of the matrix is unknown. I've read up about 2d arraylists but I'm unsure on how to store or read that info from the user.</p>\n<p>Any help is appreciated thanks</p>\n"},{"tags":["java","playframework"],"answers":[{"tags":[],"owner":{"account_id":7649606,"reputation":49,"user_id":5798913,"display_name":"CornelZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648041654,"creation_date":1648041654,"answer_id":71587983,"question_id":71313524,"body_markdown":"From the documentation:\r\n\r\n&gt; Play provides a lower level filter API called EssentialFilter that gives you full access to the body of the request. This API allows you to wrap EssentialAction with another action.\r\n\r\nMore info here: [https://www.playframework.com/documentation/2.8.x/JavaHttpFilters#More-powerful-filters][1]\r\n\r\n\r\n  [1]: https://www.playframework.com/documentation/2.8.x/JavaHttpFilters#More-powerful-filters","title":"Play Java - Is there a way access response in filter /print/log response body","body":"<p>From the documentation:</p>\n<blockquote>\n<p>Play provides a lower level filter API called EssentialFilter that gives you full access to the body of the request. This API allows you to wrap EssentialAction with another action.</p>\n</blockquote>\n<p>More info here: <a href=\"https://www.playframework.com/documentation/2.8.x/JavaHttpFilters#More-powerful-filters\" rel=\"nofollow noreferrer\">https://www.playframework.com/documentation/2.8.x/JavaHttpFilters#More-powerful-filters</a></p>\n"}],"owner":{"account_id":24420515,"reputation":1,"user_id":18346826,"display_name":"userJava23"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1648041654,"creation_date":1646161977,"question_id":71313524,"body_markdown":"I&#39;m trying to figure out if there&#39;s a way to get response body in filter for PlayFramework in Java. I&#39;m new to Java and Play and learning through logging filter from https://www.playframework.com/documentation/2.8.x/JavaHttpFilters . \r\n\r\n`Result.body()` is a `HttpEntity`, how can I access the result body without having to consume the data?\r\n\r\n```java\r\npublic CompletionStage&lt;Result&gt; apply(\r\n      Function&lt;Http.RequestHeader, CompletionStage&lt;Result&gt;&gt; nextFilter Http.RequestHeader requestHeader) {\r\n    long startTime = System.currentTimeMillis();\r\n    return nextFilter\r\n        .apply(requestHeader)\r\n        .thenApply(\r\n            result -&gt; {\r\n              long endTime = System.currentTimeMillis();\r\n              long requestTime = endTime - startTime;\r\n\r\n              log.info(\r\n                  &quot;{} {} took {}ms and returned {}&quot;,\r\n                  requestHeader.method(),\r\n                  result.body(), //Json Response\r\n                  result.status());\r\n\r\n              return result.withHeader(&quot;Request-Time&quot;, &quot;&quot; + requestTime);\r\n            });\r\n    }\r\n}\r\n```","title":"Play Java - Is there a way access response in filter /print/log response body","body":"<p>I'm trying to figure out if there's a way to get response body in filter for PlayFramework in Java. I'm new to Java and Play and learning through logging filter from <a href=\"https://www.playframework.com/documentation/2.8.x/JavaHttpFilters\" rel=\"nofollow noreferrer\">https://www.playframework.com/documentation/2.8.x/JavaHttpFilters</a> .</p>\n<p><code>Result.body()</code> is a <code>HttpEntity</code>, how can I access the result body without having to consume the data?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public CompletionStage&lt;Result&gt; apply(\n      Function&lt;Http.RequestHeader, CompletionStage&lt;Result&gt;&gt; nextFilter Http.RequestHeader requestHeader) {\n    long startTime = System.currentTimeMillis();\n    return nextFilter\n        .apply(requestHeader)\n        .thenApply(\n            result -&gt; {\n              long endTime = System.currentTimeMillis();\n              long requestTime = endTime - startTime;\n\n              log.info(\n                  &quot;{} {} took {}ms and returned {}&quot;,\n                  requestHeader.method(),\n                  result.body(), //Json Response\n                  result.status());\n\n              return result.withHeader(&quot;Request-Time&quot;, &quot;&quot; + requestTime);\n            });\n    }\n}\n</code></pre>\n"},{"tags":["java","class","inheritance"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1648039684,"post_id":71587471,"comment_id":126522329,"body_markdown":"As these are only relevant for a Knight, why would you want to access them outside the Knight class? Why are they public?","body":"As these are only relevant for a Knight, why would you want to access them outside the Knight class? Why are they public?"},{"owner":{"account_id":19826205,"reputation":43,"user_id":14521729,"display_name":"Jonathan Zinzan Salisbury Vega"},"score":0,"creation_date":1648040101,"post_id":71587471,"comment_id":126522491,"body_markdown":"No, I use them in another logic class for my model. The end goal is to be able to do chesspieceVar.dx without knowing what piece it is.","body":"No, I use them in another logic class for my model. The end goal is to be able to do chesspieceVar.dx without knowing what piece it is."},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1648040692,"post_id":71587471,"comment_id":126522717,"body_markdown":"You should use interfaces and/or abstract classes with some methods, to achieve this.","body":"You should use interfaces and/or abstract classes with some methods, to achieve this."}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648041374,"creation_date":1648041374,"answer_id":71587916,"question_id":71587471,"body_markdown":"&gt; I thought maybe i could somehow declare an abstract variable or something in my Chesspiece class, and then overwrite its value in each subclass. But after searching i found out that java doesn&#39;t let static inheritance.\r\n\r\nThere are a couple things to correct in here:\r\n\r\n* Firstly, you can&#39;t have abstract variables (by which I assume you mean fields). Fields don&#39;t participate in inheritance, so they can&#39;t be declared in one class, and then &quot;implemented&quot; in another.\r\n* Secondly, static and abstract don&#39;t go together. They are completely separate things. So, this statement is a non-sequitur.\r\n\r\nThe correct way to do this is to add abstract *methods* to a base class or interface. For example, assuming your `Chesspiece` class is abstract, add it there:\r\n\r\n```\r\nabstract class Chesspiece {\r\n  // ...\r\n\r\n  abstract int[] getDx();\r\n  abstract int[] getDy();\r\n\r\n  // ...\r\n}\r\n```\r\n\r\nNow, non-abstract classes that extend `Chesspiece` have to provide implementations:\r\n\r\n```\r\nclass Knight extends Chesspiece{\r\n    private static final int dy = {1, 1, 2, 2, -1, -1, -2, -2}; \r\n    private static final int dx = {2, -2, 1, -1, 2, -2, 1, -1}; \r\n\r\n    @Override int[] getDy() { return dy; }\r\n    @Override int[] getDx() { return dx; }\r\n}\r\n```\r\n\r\nIf you do it like this, the same array instances are returned each time. This is not necessarily desirable, however, because it allows the internal state of the `Knight` instances to be changed:\r\n\r\n```\r\nKnight robin = new Knight();\r\nSystem.out.println(robin.getDx()[0]); // 2\r\n\r\nKnight galahad = new Knight();\r\ngalahad.getDx()[0] = 42;\r\n\r\nSystem.out.println(galahad.getDx()[0]); // 42.\r\nSystem.out.println(robin.getDx()[0]); // 42 !?\r\n```\r\n\r\nTo get around this, don&#39;t return the same instance each time: either declare the array inside the getter:\r\n\r\n```\r\n    @Override int[] getDx() {\r\n      return new int[] {2, -2, 1, -1, 2, -2, 1, -1};\r\n    }\r\n```\r\n\r\n```\r\nKnight robin = new Knight();\r\nSystem.out.println(robin.getDx()[0]); // 2\r\n\r\nKnight galahad = new Knight();\r\ngalahad.getDx()[0] = 42;\r\n\r\nSystem.out.println(galahad.getDx()[0]); // 2\r\nSystem.out.println(robin.getDx()[0]); // 2\r\n```\r\n\r\nAlternatively, copy the array in the getter:\r\n\r\n```\r\n    @Override int[] getDx() {\r\n      return Arrays.copyOf(dx, dx.length);\r\n    }\r\n```\r\n","title":"Inherited Static Variables","body":"<blockquote>\n<p>I thought maybe i could somehow declare an abstract variable or something in my Chesspiece class, and then overwrite its value in each subclass. But after searching i found out that java doesn't let static inheritance.</p>\n</blockquote>\n<p>There are a couple things to correct in here:</p>\n<ul>\n<li>Firstly, you can't have abstract variables (by which I assume you mean fields). Fields don't participate in inheritance, so they can't be declared in one class, and then &quot;implemented&quot; in another.</li>\n<li>Secondly, static and abstract don't go together. They are completely separate things. So, this statement is a non-sequitur.</li>\n</ul>\n<p>The correct way to do this is to add abstract <em>methods</em> to a base class or interface. For example, assuming your <code>Chesspiece</code> class is abstract, add it there:</p>\n<pre><code>abstract class Chesspiece {\n  // ...\n\n  abstract int[] getDx();\n  abstract int[] getDy();\n\n  // ...\n}\n</code></pre>\n<p>Now, non-abstract classes that extend <code>Chesspiece</code> have to provide implementations:</p>\n<pre><code>class Knight extends Chesspiece{\n    private static final int dy = {1, 1, 2, 2, -1, -1, -2, -2}; \n    private static final int dx = {2, -2, 1, -1, 2, -2, 1, -1}; \n\n    @Override int[] getDy() { return dy; }\n    @Override int[] getDx() { return dx; }\n}\n</code></pre>\n<p>If you do it like this, the same array instances are returned each time. This is not necessarily desirable, however, because it allows the internal state of the <code>Knight</code> instances to be changed:</p>\n<pre><code>Knight robin = new Knight();\nSystem.out.println(robin.getDx()[0]); // 2\n\nKnight galahad = new Knight();\ngalahad.getDx()[0] = 42;\n\nSystem.out.println(galahad.getDx()[0]); // 42.\nSystem.out.println(robin.getDx()[0]); // 42 !?\n</code></pre>\n<p>To get around this, don't return the same instance each time: either declare the array inside the getter:</p>\n<pre><code>    @Override int[] getDx() {\n      return new int[] {2, -2, 1, -1, 2, -2, 1, -1};\n    }\n</code></pre>\n<pre><code>Knight robin = new Knight();\nSystem.out.println(robin.getDx()[0]); // 2\n\nKnight galahad = new Knight();\ngalahad.getDx()[0] = 42;\n\nSystem.out.println(galahad.getDx()[0]); // 2\nSystem.out.println(robin.getDx()[0]); // 2\n</code></pre>\n<p>Alternatively, copy the array in the getter:</p>\n<pre><code>    @Override int[] getDx() {\n      return Arrays.copyOf(dx, dx.length);\n    }\n</code></pre>\n"}],"owner":{"account_id":19826205,"reputation":43,"user_id":14521729,"display_name":"Jonathan Zinzan Salisbury Vega"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":71587916,"answer_count":1,"score":1,"last_activity_date":1648041374,"creation_date":1648039505,"question_id":71587471,"body_markdown":"I&#39;m trying to implement a simple chess problem with inheritance, but i found myself stuck.\r\n\r\nI have my abstract Chesspiece class and many child classes for each type of piece. I need an array to store the possible moves of each piece, so i was thinking about making the variable static because this array is always the same and independent from the instance\r\n\r\n    public class Knight extends Chesspiece{\r\n        public static final int dy = {1, 1, 2, 2, -1, -1, -2, -2}; \r\n        public static final int dx = {2, -2, 1, -1, 2, -2, 1, -1}; \r\n    }\r\nSomewhat like this, but afterwards in my logic I only have instances without knowing its subtype, so i cant access this variables.\r\n\r\nI thought maybe i could somehow declare an abstract variable or something in my Chesspiece class, and then overwrite its value in each subclass. But after searching i found out that java doesn&#39;t let static inheritance.\r\n\r\nSo im wondering what would be the best solution to this problem. I&#39;m very keen on learing good conceptual programming so each time i write better code. I have though solutions that work (not making the variables static), but they don&#39;t seem right or elegant for this problem. Any help is appreciated.","title":"Inherited Static Variables","body":"<p>I'm trying to implement a simple chess problem with inheritance, but i found myself stuck.</p>\n<p>I have my abstract Chesspiece class and many child classes for each type of piece. I need an array to store the possible moves of each piece, so i was thinking about making the variable static because this array is always the same and independent from the instance</p>\n<pre><code>public class Knight extends Chesspiece{\n    public static final int dy = {1, 1, 2, 2, -1, -1, -2, -2}; \n    public static final int dx = {2, -2, 1, -1, 2, -2, 1, -1}; \n}\n</code></pre>\n<p>Somewhat like this, but afterwards in my logic I only have instances without knowing its subtype, so i cant access this variables.</p>\n<p>I thought maybe i could somehow declare an abstract variable or something in my Chesspiece class, and then overwrite its value in each subclass. But after searching i found out that java doesn't let static inheritance.</p>\n<p>So im wondering what would be the best solution to this problem. I'm very keen on learing good conceptual programming so each time i write better code. I have though solutions that work (not making the variables static), but they don't seem right or elegant for this problem. Any help is appreciated.</p>\n"},{"tags":["java","eclipse","cvs"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1648041147,"post_id":71587806,"comment_id":126522922,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1648042469,"post_id":71587806,"comment_id":126523557,"body_markdown":"Does in the preferences _Install/Update &gt; Available Software Sites_ adding the update site [`https://download.eclipse.org/eclipse/updates/4.22`](https://download.eclipse.org/eclipse/updates/4.22) before installing _CVS Version Tree_ via the Marketplace work?","body":"Does in the preferences <i>Install/Update &gt; Available Software Sites</i> adding the update site <a href=\"https://download.eclipse.org/eclipse/updates/4.22\" rel=\"nofollow noreferrer\"><code>https:&#47;&#47;download.eclipse.org&#47;eclipse&#47;updates&#47;4.22</code></a> before installing <i>CVS Version Tree</i> via the Marketplace work?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1648042751,"post_id":71587806,"comment_id":126523673,"body_markdown":"@StephenC The CVS support feature has been removed and is no longer provided by the current update sites. But I guess, installing it from an older update site into the current Eclipse will still work.","body":"@StephenC The CVS support feature has been removed and is no longer provided by the current update sites. But I guess, installing it from an older update site into the current Eclipse will still work."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1648042828,"post_id":71587806,"comment_id":126523703,"body_markdown":"... as you said on the Q&amp;A I just linked to.","body":"... as you said on the Q&amp;A I just linked to."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1648043435,"post_id":71587806,"comment_id":126524015,"body_markdown":"@StephenC Yes, but here something cannot be installed via the Eclipse Marketplace that requires CVS support. Instead of just using a different update site URL (which is not possible in the Marketplace), the older update site for CVS support must be added to the preferences here. I am fine with closing this as a duplicate. With my comment I just wanted to provide more specific guidance here.","body":"@StephenC Yes, but here something cannot be installed via the Eclipse Marketplace that requires CVS support. Instead of just using a different update site URL (which is not possible in the Marketplace), the older update site for CVS support must be added to the preferences here. I am fine with closing this as a duplicate. With my comment I just wanted to provide more specific guidance here."},{"owner":{"account_id":24660576,"reputation":1,"user_id":18556837,"display_name":"Ashutosh Bhagat"},"score":0,"creation_date":1648044265,"post_id":71587806,"comment_id":126524475,"body_markdown":"Thanks!. It worked on after adding cvs from https://download.eclipse.org/eclipse/updates/4.22","body":"Thanks!. It worked on after adding cvs from <a href=\"https://download.eclipse.org/eclipse/updates/4.22\" rel=\"nofollow noreferrer\">download.eclipse.org/eclipse/updates/4.22</a>"}],"owner":{"account_id":24660576,"reputation":1,"user_id":18556837,"display_name":"Ashutosh Bhagat"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1648042101,"answer_count":0,"score":0,"last_activity_date":1648041331,"creation_date":1648040890,"question_id":71587806,"body_markdown":"I am trying to install cvs in eclipse but it is showing the below error. I have also tried other step like click on install new software-&gt; select eclipse-&gt;search cvs. But still I am not able to install\r\n\r\n[click_here_to_see_error][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Mum5R.png","title":"How to install CVS in eclipse?","body":"<p>I am trying to install cvs in eclipse but it is showing the below error. I have also tried other step like click on install new software-&gt; select eclipse-&gt;search cvs. But still I am not able to install</p>\n<p><a href=\"https://i.stack.imgur.com/Mum5R.png\" rel=\"nofollow noreferrer\">click_here_to_see_error</a></p>\n"},{"tags":["java","excel","txt"],"comments":[{"owner":{"account_id":20936085,"reputation":483,"user_id":15381219,"display_name":"Nishikant Tayade"},"score":2,"creation_date":1648041271,"post_id":71587869,"comment_id":126522972,"body_markdown":"have you tried anything ? if yes, then please post that code as well.","body":"have you tried anything ? if yes, then please post that code as well."},{"owner":{"account_id":5370447,"reputation":16262,"user_id":4279155,"accept_rate":55,"display_name":"Dominique"},"score":2,"creation_date":1648041335,"post_id":71587869,"comment_id":126523007,"body_markdown":"Excel is capable of reading comma-separated text files, so you don&#39;t need to do anything :-)","body":"Excel is capable of reading comma-separated text files, so you don&#39;t need to do anything :-)"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1648041395,"post_id":71587869,"comment_id":126523042,"body_markdown":"Does this answer your question? [Writing data to excel sheet java](https://stackoverflow.com/questions/21488419/writing-data-to-excel-sheet-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/21488419/writing-data-to-excel-sheet-java\">Writing data to excel sheet java</a>"},{"owner":{"account_id":16864324,"reputation":1,"user_id":12194391,"display_name":"emre_avr"},"score":0,"creation_date":1648041626,"post_id":71587869,"comment_id":126523152,"body_markdown":"This code may help you from another quest : https://stackoverflow.com/a/49798057/12194391","body":"This code may help you from another quest : <a href=\"https://stackoverflow.com/a/49798057/12194391\">stackoverflow.com/a/49798057/12194391</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1648041696,"post_id":71587869,"comment_id":126523183,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":16864324,"reputation":1,"user_id":12194391,"display_name":"emre_avr"},"score":0,"creation_date":1648041734,"post_id":71587869,"comment_id":126523195,"body_markdown":"This link may help you from similar question : https://stackoverflow.com/a/49798057/12194391","body":"This link may help you from similar question : <a href=\"https://stackoverflow.com/a/49798057/12194391\">stackoverflow.com/a/49798057/12194391</a>"},{"owner":{"account_id":24660555,"reputation":1,"user_id":18556819,"display_name":"lola"},"score":0,"creation_date":1648041747,"post_id":71587869,"comment_id":126523202,"body_markdown":"If I manage to create the excel, the problem is that it does not print the txt records to the excel","body":"If I manage to create the excel, the problem is that it does not print the txt records to the excel"}],"owner":{"account_id":24660555,"reputation":1,"user_id":18556819,"display_name":"lola"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648041208,"creation_date":1648041208,"question_id":71587869,"body_markdown":"I have a txt and I have to transform it to excel, the txt records are separated by commas, how can I put those records in excel with java ","title":"How can I read a txt that has commas and take it to an excel in java?","body":"<p>I have a txt and I have to transform it to excel, the txt records are separated by commas, how can I put those records in excel with java</p>\n"},{"tags":["java","android","string","append"],"comments":[{"owner":{"account_id":43453,"reputation":16185,"user_id":127035,"accept_rate":71,"display_name":"ewan.chalmers"},"score":0,"creation_date":1305906115,"post_id":6074200,"comment_id":7035197,"body_markdown":"As an aside, you don&#39;t need to do &quot;new String&quot; in this context (you rarely need to in Java). You can just concatenate String literals.","body":"As an aside, you don&#39;t need to do &quot;new String&quot; in this context (you rarely need to in Java). You can just concatenate String literals."},{"owner":{"account_id":259656,"reputation":40223,"user_id":542701,"accept_rate":92,"display_name":"Aleadam"},"score":0,"creation_date":1305913490,"post_id":6074200,"comment_id":7037234,"body_markdown":"When you get a force close, you need to look at the logcat output to see what is the error. See http://developer.android.com/guide/developing/tools/logcat.html","body":"When you get a force close, you need to look at the logcat output to see what is the error. See <a href=\"http://developer.android.com/guide/developing/tools/logcat.html\" rel=\"nofollow noreferrer\">developer.android.com/guide/developing/tools/logcat.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":438937,"reputation":3729,"user_id":827530,"accept_rate":96,"display_name":"Kris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1305938598,"creation_date":1305938598,"answer_id":6078867,"question_id":6074200,"body_markdown":"I end up using another method. I used the ff code:\r\n\r\n    \tString TESTSTRING = &quot;&lt;div style=&#39;color: blue; border: thin solid red;&#39;&gt;YO!&lt;/div&gt;&quot;;\r\n    \t\r\n    \tFile root = Environment.getExternalStorageDirectory();\r\n\t    if (root.canWrite()){\r\n\t        File gpxfile = new File(root, &quot;samplefile.html&quot;);\r\n\t        FileWriter gpxwriter = new FileWriter(gpxfile, true);\r\n\t        BufferedWriter out = new BufferedWriter(gpxwriter);\r\n\t        out.write(TESTSTRING);\r\n\t        out.close();\r\n\t    }","title":"Android: Appending string - getting force close message","body":"<p>I end up using another method. I used the ff code:</p>\n\n<pre><code>    String TESTSTRING = \"&lt;div style='color: blue; border: thin solid red;'&gt;YO!&lt;/div&gt;\";\n\n    File root = Environment.getExternalStorageDirectory();\n    if (root.canWrite()){\n        File gpxfile = new File(root, \"samplefile.html\");\n        FileWriter gpxwriter = new FileWriter(gpxfile, true);\n        BufferedWriter out = new BufferedWriter(gpxwriter);\n        out.write(TESTSTRING);\n        out.close();\n    }\n</code></pre>\n"}],"owner":{"account_id":438937,"reputation":3729,"user_id":827530,"accept_rate":96,"display_name":"Kris"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":535,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":6078867,"answer_count":1,"score":0,"last_activity_date":1648041093,"creation_date":1305905482,"question_id":6074200,"body_markdown":"Can someone tell me what is wrong with my code below?\r\n\r\n    public class GetContentThenAppend extends Activity {\r\n        /** Called when the activity is first created. */\r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.main);\r\n            \r\n            TextView tv2;\r\n            tv2 = (TextView) this.findViewById(R.id.thetext);\r\n            tv2.setText(&quot;This is the writing program...\\n&quot;);\r\n            \r\n            try{\r\n            \t\t/*\r\n            \t   File f = new File(Environment.getExternalStorageDirectory()+&quot;/EngagiaDroid/videos.html&quot;);\r\n            \t   FileInputStream fileIS = new FileInputStream(f);\r\n            \t   BufferedReader buf = new BufferedReader(new InputStreamReader(fileIS));\r\n            \t   String readString = new String();\r\n            \t \r\n            \t   //just reading each line and pass it on the debugger\r\n            \t   int x = 1;\r\n            \t   while((readString = buf.readLine())!= null){\r\n            \t\t   tv2.append( Integer.toString(x) + &quot;:&gt; &quot; );\r\n            \t\t   tv2.append( readString );\r\n            \t\t   tv2.append( &quot;\\n&quot; );\r\n            \t\t   x++;\r\n            \t   }\r\n            \t \t*/\r\n            \t\r\n                final String entryString = new String(&quot;&quot; +\r\n                \t\t&quot;&lt;div stle=&#39;color: red; border: this solid red;&#39;&gt;&quot; +\r\n                \t\t&quot;Hey yo this is the new content!!!&quot; +\r\n                \t\t&quot;&lt;/div&gt;&quot; +\r\n                \t\t&quot;&lt;/div&gt;&quot; +\r\n                \t\t&quot;&lt;/div&gt;&quot; +\r\n                \t\t&quot;&lt;/body&gt;&quot; +\r\n                \t\t&quot;&lt;/html&gt;&quot;);\r\n                \r\n                String htmlFile = Environment.getExternalStorageDirectory()+&quot;/EngagiaDroid/videos.html&quot;;\r\n    \t\t    FileOutputStream fOut = openFileOutput(htmlFile, MODE_APPEND);\r\n    \t\t    OutputStreamWriter osw = new OutputStreamWriter(fOut);  \r\n    \r\n    \t\t    osw.write(entryString);\r\n    \r\n    \t\t    osw.flush();\r\n    \t\t    osw.close();\r\n            \t   \r\n            \t   \r\n            \t} catch (FileNotFoundException e) {\r\n            \t   e.printStackTrace();\r\n            \t} catch (IOException e){\r\n            \t   e.printStackTrace();\r\n            \t}\r\n        }\r\n    }\r\n\r\nI am trying to update the html content by appending some string/html code to it. I am getting a force close message when I try to run it.","title":"Android: Appending string - getting force close message","body":"<p>Can someone tell me what is wrong with my code below?</p>\n<pre><code>public class GetContentThenAppend extends Activity {\n    /** Called when the activity is first created. */\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n        \n        TextView tv2;\n        tv2 = (TextView) this.findViewById(R.id.thetext);\n        tv2.setText(&quot;This is the writing program...\\n&quot;);\n        \n        try{\n                /*\n               File f = new File(Environment.getExternalStorageDirectory()+&quot;/EngagiaDroid/videos.html&quot;);\n               FileInputStream fileIS = new FileInputStream(f);\n               BufferedReader buf = new BufferedReader(new InputStreamReader(fileIS));\n               String readString = new String();\n             \n               //just reading each line and pass it on the debugger\n               int x = 1;\n               while((readString = buf.readLine())!= null){\n                   tv2.append( Integer.toString(x) + &quot;:&gt; &quot; );\n                   tv2.append( readString );\n                   tv2.append( &quot;\\n&quot; );\n                   x++;\n               }\n                */\n            \n            final String entryString = new String(&quot;&quot; +\n                    &quot;&lt;div stle='color: red; border: this solid red;'&gt;&quot; +\n                    &quot;Hey yo this is the new content!!!&quot; +\n                    &quot;&lt;/div&gt;&quot; +\n                    &quot;&lt;/div&gt;&quot; +\n                    &quot;&lt;/div&gt;&quot; +\n                    &quot;&lt;/body&gt;&quot; +\n                    &quot;&lt;/html&gt;&quot;);\n            \n            String htmlFile = Environment.getExternalStorageDirectory()+&quot;/EngagiaDroid/videos.html&quot;;\n            FileOutputStream fOut = openFileOutput(htmlFile, MODE_APPEND);\n            OutputStreamWriter osw = new OutputStreamWriter(fOut);  \n\n            osw.write(entryString);\n\n            osw.flush();\n            osw.close();\n               \n               \n            } catch (FileNotFoundException e) {\n               e.printStackTrace();\n            } catch (IOException e){\n               e.printStackTrace();\n            }\n    }\n}\n</code></pre>\n<p>I am trying to update the html content by appending some string/html code to it. I am getting a force close message when I try to run it.</p>\n"},{"tags":["java","spring-boot","unit-testing","gradle","junit"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":2,"creation_date":1648039432,"post_id":71587319,"comment_id":126522228,"body_markdown":"Please clarify - is `exception` null or `actualMessage` null?  Did you try debugging, and step through the code?  Does `SourceHostUnknownException`&#39;s constructor pass the message to the base class?","body":"Please clarify - is <code>exception</code> null or <code>actualMessage</code> null?  Did you try debugging, and step through the code?  Does <code>SourceHostUnknownException</code>&#39;s constructor pass the message to the base class?"},{"owner":{"account_id":17987597,"reputation":105,"user_id":13072490,"display_name":"jenny"},"score":0,"creation_date":1648040245,"post_id":71587319,"comment_id":126522545,"body_markdown":"Thank you, your question guided me to the answer. I didn&#39;t handle the message in the constructor.","body":"Thank you, your question guided me to the answer. I didn&#39;t handle the message in the constructor."},{"owner":{"account_id":17505775,"reputation":3076,"user_id":12695027,"display_name":"Scratte"},"score":0,"creation_date":1648044433,"post_id":71587319,"comment_id":126524541,"body_markdown":"How is this Question related to Gradle?","body":"How is this Question related to Gradle?"}],"answers":[{"tags":[],"owner":{"account_id":2000334,"reputation":7336,"user_id":1791546,"accept_rate":68,"display_name":"Shridutt Kothari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648040863,"creation_date":1648040511,"answer_id":71587704,"question_id":71587319,"body_markdown":"Try this:\r\n\r\n    \r\n\t\tAssertions.assertThatExceptionOfType(SourceHostUnknownException.class).isThrownBy(() -&gt; {\r\n\t\t\tSecurityResult result = secSvc.validateRequest(req);\r\n\t\t}).withMessage(&quot;This command is only supported from within the Environment&quot;);\r\n\r\n\r\n----------\r\n\r\n\r\nAnd if this does not work, check if the class `SourceHostUnknownException` is setting the constructor parameter correctly into super message field\r\n\r\nfor example, if you create custom exception class and you define constructor you need to pass the String message to super, as you are expecting **getMessage()** method to return you the error message.\r\n\r\n\r\n    public class SourceHostUnknownException extends Exception {\r\n\r\n\tpublic SourceHostUnknownException(String message) {\r\n\t\tsuper(message);\r\n\t}\r\n    }\r\n\r\n","title":"test if exception was thrown - java","body":"<p>Try this:</p>\n<pre><code>    Assertions.assertThatExceptionOfType(SourceHostUnknownException.class).isThrownBy(() -&gt; {\n        SecurityResult result = secSvc.validateRequest(req);\n    }).withMessage(&quot;This command is only supported from within the Environment&quot;);\n</code></pre>\n<hr />\n<p>And if this does not work, check if the class <code>SourceHostUnknownException</code> is setting the constructor parameter correctly into super message field</p>\n<p>for example, if you create custom exception class and you define constructor you need to pass the String message to super, as you are expecting <strong>getMessage()</strong> method to return you the error message.</p>\n<pre><code>public class SourceHostUnknownException extends Exception {\n\npublic SourceHostUnknownException(String message) {\n    super(message);\n}\n}\n</code></pre>\n"}],"owner":{"account_id":17987597,"reputation":105,"user_id":13072490,"display_name":"jenny"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":585,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1648040863,"creation_date":1648038852,"question_id":71587319,"body_markdown":"I have the following code (the part that throws the exception is obviously part of a class but I only put the relevant lines).\r\n\r\n    if (found==null)\r\n    {\r\n        log.warn(&quot;Got request from source IP - &quot; + ip + &quot; which is not in the env - not answering&quot;);\r\n        throw new SourceHostUnknownException(&quot;This command is only supported from within the Environment&quot;);\r\n    }\r\n\r\n\r\n\r\n    @Test\r\n    public void testSecurityResult_whenRVERegex_assertexception()\r\n    {\r\n\r\n        Throwable exception = Assertions.assertThrows(SourceHostUnknownException.class, () -&gt; {\r\n            SecurityResult result = secSvc.validateRequest(req);\r\n        });\r\n        String expectedMessage = &quot;This command is only supported from within the Environment&quot;;\r\n        String actualMessage = exception.getMessage();\r\n\r\n        Assertions.assertEquals(expectedMessage,actualMessage);\r\n    }\r\n\r\nMy goal is to test if the exception was thrown, but when I&#39;m trying to get the message from the exception, the value is null- meaning, the exception doesn&#39;t contain the message.\r\n\r\nWhat am I doing wrong? \r\n","title":"test if exception was thrown - java","body":"<p>I have the following code (the part that throws the exception is obviously part of a class but I only put the relevant lines).</p>\n<pre><code>if (found==null)\n{\n    log.warn(&quot;Got request from source IP - &quot; + ip + &quot; which is not in the env - not answering&quot;);\n    throw new SourceHostUnknownException(&quot;This command is only supported from within the Environment&quot;);\n}\n\n\n\n@Test\npublic void testSecurityResult_whenRVERegex_assertexception()\n{\n\n    Throwable exception = Assertions.assertThrows(SourceHostUnknownException.class, () -&gt; {\n        SecurityResult result = secSvc.validateRequest(req);\n    });\n    String expectedMessage = &quot;This command is only supported from within the Environment&quot;;\n    String actualMessage = exception.getMessage();\n\n    Assertions.assertEquals(expectedMessage,actualMessage);\n}\n</code></pre>\n<p>My goal is to test if the exception was thrown, but when I'm trying to get the message from the exception, the value is null- meaning, the exception doesn't contain the message.</p>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","android","android-notifications"],"comments":[{"owner":{"account_id":6023206,"reputation":7989,"user_id":4729721,"display_name":"a_local_nobody"},"score":3,"creation_date":1648039327,"post_id":71587348,"comment_id":126522182,"body_markdown":"i&#39;d advise you to focus on asking about one specific problem per question, you&#39;re welcome to create multiple questions but don&#39;t ask about multiple problems at once","body":"i&#39;d advise you to focus on asking about one specific problem per question, you&#39;re welcome to create multiple questions but don&#39;t ask about multiple problems at once"}],"owner":{"account_id":13298500,"reputation":41,"user_id":9600659,"display_name":"NACHIKETA CHAKRABORTY"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648040701,"creation_date":1648039000,"question_id":71587348,"body_markdown":"1. I am tring to replicate uber&#39;s drop off dialog that shows in the homepage.\r\nI have already tried it using bubbles but couldn&#39;t make it work. \r\n\r\n[![Uber Drop Off Notification][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iWbv7.png\r\n\r\n","title":"How to achieve &quot;uber drop-off&quot; like notification?","body":"<ol>\n<li>I am tring to replicate uber's drop off dialog that shows in the homepage.\nI have already tried it using bubbles but couldn't make it work.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/iWbv7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iWbv7.png\" alt=\"Uber Drop Off Notification\" /></a></p>\n"},{"tags":["java","algorithm"],"answers":[{"tags":[],"owner":{"account_id":6348104,"reputation":17893,"user_id":4927984,"accept_rate":80,"display_name":"Mistalis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1465909669,"creation_date":1465909251,"answer_id":37812819,"question_id":37812667,"body_markdown":"The following code check if the scanned number (on console) is a Armstrong number. I&#39;ve tested it, it works fine.\r\n\r\n**TEST IN CONSOLE**\r\n\r\n    import java.util.Scanner;\r\n     \r\n    class ArmstrongNumber\r\n    {\r\n       public static void main(String args[])\r\n       {\r\n          int n, sum = 0, temp, remainder, digits = 0;\r\n     \r\n          Scanner in = new Scanner(System.in);\r\n          System.out.println(&quot;Input a number to check if it is an Armstrong number&quot;);      \r\n          n = in.nextInt();\r\n     \r\n          temp = n;\r\n     \r\n          // Count number of digits\r\n     \r\n          while (temp != 0) {\r\n             digits++;\r\n             temp = temp/10;\r\n          }\r\n     \r\n          temp = n;\r\n     \r\n          while (temp != 0) {\r\n             remainder = temp%10;\r\n             sum = sum + power(remainder, digits);\r\n             temp = temp/10;\r\n          }\r\n     \r\n          if (n == sum)\r\n             System.out.println(n + &quot; is an Armstrong number.&quot;);\r\n          else\r\n             System.out.println(n + &quot; is not an Armstrong number.&quot;);         \r\n       }\r\n     \r\n       static int power(int n, int r) {\r\n          int c, p = 1;\r\n     \r\n          for (c = 1; c &lt;= r; c++) \r\n             p = p*n;\r\n     \r\n          return p;   \r\n       }\r\n    }\r\n[Source here][1].\r\n\r\n\r\n  [1]: http://www.programmingsimplified.com/java/source-code/java-program-armstrong-number\r\n\r\n---\r\n\r\n**WITH A FUNCTION**\r\n\r\nIf you need to use it as a function, please try this. The `n` param is the number you want to check. My function return true if it is an Armstrong number, else it returns false.\r\n\r\n    public boolean isArmstrongNumber(int n) {\r\n        int sum = 0, temp = n, remainder, digits = 0;\r\n    \twhile (temp != 0) {\r\n             digits++;\r\n             temp = temp/10;\r\n          }\r\n     \r\n          temp = n;\r\n     \r\n          while (temp != 0) {\r\n             remainder = temp%10;\r\n             sum = sum + power(remainder, digits);\r\n             temp = temp/10;\r\n          }\r\n          if (n == sum) //Armstrong number\r\n              return true;\r\n           else //Not Armstrong number\r\n              return false;\r\n    }","title":"Java any digit Armstrong number","body":"<p>The following code check if the scanned number (on console) is a Armstrong number. I've tested it, it works fine.</p>\n\n<p><strong>TEST IN CONSOLE</strong></p>\n\n<pre><code>import java.util.Scanner;\n\nclass ArmstrongNumber\n{\n   public static void main(String args[])\n   {\n      int n, sum = 0, temp, remainder, digits = 0;\n\n      Scanner in = new Scanner(System.in);\n      System.out.println(\"Input a number to check if it is an Armstrong number\");      \n      n = in.nextInt();\n\n      temp = n;\n\n      // Count number of digits\n\n      while (temp != 0) {\n         digits++;\n         temp = temp/10;\n      }\n\n      temp = n;\n\n      while (temp != 0) {\n         remainder = temp%10;\n         sum = sum + power(remainder, digits);\n         temp = temp/10;\n      }\n\n      if (n == sum)\n         System.out.println(n + \" is an Armstrong number.\");\n      else\n         System.out.println(n + \" is not an Armstrong number.\");         \n   }\n\n   static int power(int n, int r) {\n      int c, p = 1;\n\n      for (c = 1; c &lt;= r; c++) \n         p = p*n;\n\n      return p;   \n   }\n}\n</code></pre>\n\n<p><a href=\"http://www.programmingsimplified.com/java/source-code/java-program-armstrong-number\" rel=\"nofollow\">Source here</a>.</p>\n\n<hr>\n\n<p><strong>WITH A FUNCTION</strong></p>\n\n<p>If you need to use it as a function, please try this. The <code>n</code> param is the number you want to check. My function return true if it is an Armstrong number, else it returns false.</p>\n\n<pre><code>public boolean isArmstrongNumber(int n) {\n    int sum = 0, temp = n, remainder, digits = 0;\n    while (temp != 0) {\n         digits++;\n         temp = temp/10;\n      }\n\n      temp = n;\n\n      while (temp != 0) {\n         remainder = temp%10;\n         sum = sum + power(remainder, digits);\n         temp = temp/10;\n      }\n      if (n == sum) //Armstrong number\n          return true;\n       else //Not Armstrong number\n          return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10000,"reputation":8088,"user_id":18709,"accept_rate":32,"display_name":"kedar kamthe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465911599,"creation_date":1465911599,"answer_id":37813753,"question_id":37812667,"body_markdown":"Please try using below method \r\n\r\n    public static Boolean isArmstrongNumber(int number) {\r\n\t\tint n = number;\r\n\t\tList&lt;Integer&gt; lst = new ArrayList&lt;Integer&gt;();\r\n\r\n\t\t// to find digit and putting in list\r\n\t\twhile (number &gt; 0) {\r\n\t\t\tlst.add(number % 10);\r\n\t\t\tnumber = number / 10;\r\n\t\t}\r\n\r\n\t\tLong sum = 0L;\r\n\t\tfor (Integer integer : lst)\r\n\t\t\tsum += (Long) Math.round(Math.pow(integer, lst.size()));\r\n\t\treturn sum.intValue() == n ? true : false;\r\n\t}","title":"Java any digit Armstrong number","body":"<p>Please try using below method </p>\n\n<pre><code>public static Boolean isArmstrongNumber(int number) {\n    int n = number;\n    List&lt;Integer&gt; lst = new ArrayList&lt;Integer&gt;();\n\n    // to find digit and putting in list\n    while (number &gt; 0) {\n        lst.add(number % 10);\n        number = number / 10;\n    }\n\n    Long sum = 0L;\n    for (Integer integer : lst)\n        sum += (Long) Math.round(Math.pow(integer, lst.size()));\n    return sum.intValue() == n ? true : false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3044796,"reputation":3439,"user_id":2580773,"display_name":"David SN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465913741,"creation_date":1465913409,"answer_id":37814454,"question_id":37812667,"body_markdown":"Using Java8, you could create a IntStream to generate the Armstrong Numbers.\r\n\r\nThe first step could be to create a function to validate if a number is a Armstrong number:\r\n\r\n\r\n\tpublic class ArmstrongNumbersGenerator {\t\r\n\r\n        // Get the next n armstrong numbers starting at a given number         \r\n\t\tpublic static int[] get(int start, int count) {\t\t\t\r\n\t\t\treturn IntStream.iterate(start, i -&gt; i + 1)\r\n\t\t\t\t.filter(ArmstrongNumbersGenerator::isArmstrongNumber)\r\n\t\t\t\t.limit(count)\r\n\t\t\t\t.toArray();\r\n\t\t}\r\n\t\r\n        // Get all the armstrong numbers in a given range\r\n\t\tpublic static int[] inRange(int start, int end) {\r\n\t\t\treturn IntStream.range(start, end)\r\n\t\t\t\t\t.filter(ArmstrongNumbersGenerator::isArmstrongNumber)\r\n\t\t\t\t\t.toArray();\r\n\t\t}\r\n\t\r\n        // Validate if a number is a armstrong number\r\n\t\tpublic static boolean isArmstrongNumber(int number) {\r\n\t\t\tint remainingDigits = number;\r\n\t\t\tint cubesTotal = 0;\r\n\t\t\twhile(remainingDigits &gt; 0) {\r\n\t\t\t\tint currentDigit = remainingDigits % 10;\r\n\t\t\t\tremainingDigits = remainingDigits / 10;\r\n\t\t\t\tcubesTotal += currentDigit * currentDigit * currentDigit;\r\n\t\t\t}\r\n\t\t\treturn cubesTotal == number;\r\n\t\t}\r\n\t}\r\n\r\n\r\n----------\r\nExample usage:\r\n\r\n    System.out.println(Arrays.toString(ArmstrongNumbersGenerator.inRange(0, 10_000)));\r\n    Output: [0, 1, 153, 370, 371, 407]\r\n\r\n    System.out.println(Arrays.toString(ArmstrongNumbersGenerator.get(200, 2)));\r\n    Output: [370, 371] \r\n","title":"Java any digit Armstrong number","body":"<p>Using Java8, you could create a IntStream to generate the Armstrong Numbers.</p>\n\n<p>The first step could be to create a function to validate if a number is a Armstrong number:</p>\n\n<pre><code>public class ArmstrongNumbersGenerator {    \n\n    // Get the next n armstrong numbers starting at a given number         \n    public static int[] get(int start, int count) {         \n        return IntStream.iterate(start, i -&gt; i + 1)\n            .filter(ArmstrongNumbersGenerator::isArmstrongNumber)\n            .limit(count)\n            .toArray();\n    }\n\n    // Get all the armstrong numbers in a given range\n    public static int[] inRange(int start, int end) {\n        return IntStream.range(start, end)\n                .filter(ArmstrongNumbersGenerator::isArmstrongNumber)\n                .toArray();\n    }\n\n    // Validate if a number is a armstrong number\n    public static boolean isArmstrongNumber(int number) {\n        int remainingDigits = number;\n        int cubesTotal = 0;\n        while(remainingDigits &gt; 0) {\n            int currentDigit = remainingDigits % 10;\n            remainingDigits = remainingDigits / 10;\n            cubesTotal += currentDigit * currentDigit * currentDigit;\n        }\n        return cubesTotal == number;\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>Example usage:</p>\n\n<pre><code>System.out.println(Arrays.toString(ArmstrongNumbersGenerator.inRange(0, 10_000)));\nOutput: [0, 1, 153, 370, 371, 407]\n\nSystem.out.println(Arrays.toString(ArmstrongNumbersGenerator.get(200, 2)));\nOutput: [370, 371] \n</code></pre>\n"},{"tags":[],"owner":{"account_id":8011176,"reputation":3990,"user_id":6042824,"accept_rate":94,"display_name":"Bilesh Ganguly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1469618460,"creation_date":1469613978,"answer_id":38609875,"question_id":37812667,"body_markdown":"I had written a program for getting all Armstrong Numbers between `1` and `10_000_000` which I had gotten reviewed on Code Review. Following is a minimalist implementation for finding the Armstrong Number using [tag:java-8] based on the suggestions I received there:\r\n\r\n    IntStream.range(1, 10_000_000)\r\n                .filter((n) -&gt; {\r\n                    final String number = Integer.toString(n);\r\n                    return number.chars()\r\n                        .mapToDouble(v -&gt; Math.pow(v - &#39;0&#39;, number.length()))\r\n                        .sum() == n;\r\n                }).forEach(System.out::println);\r\n\r\n**Output:**\r\n\r\n    1\r\n    2\r\n    3\r\n    4\r\n    5\r\n    6\r\n    7\r\n    8\r\n    9\r\n    153\r\n    370\r\n    371\r\n    407\r\n    1634\r\n    8208\r\n    9474\r\n    54748\r\n    92727\r\n    93084\r\n    548834\r\n    1741725\r\n    4210818\r\n    9800817\r\n    9926315\r\n\r\nLinks to the review questions:\r\n\r\n - [Armstrong numbers in a given range using Java 8][1]\r\n - [(Follow Up) Armstrong numbers in a given range using Java 8][2]\r\n\r\n----------\r\n\r\nThis is **not** a fast solution to the problem. You could use parallel for reducing the execution time. The only drawback being that the final output won&#39;t be in order.\r\n\r\n    IntStream.range(1, 10_000_000)\r\n                .parallel()    // For reducing execution time.\r\n                .filter((n) -&gt; {\r\n                    final String number = Integer.toString(n);\r\n                    return number.chars()\r\n                            .mapToDouble(v -&gt; Math.pow(v - &#39;0&#39;, number.length()))\r\n                            .sum() == n;\r\n                }).forEach(System.out::println);\r\n\r\n**Output:**\r\n\r\n    1741725\r\n    9800817\r\n    9926315\r\n    1\r\n    2\r\n    3\r\n    4\r\n    5\r\n    6\r\n    7\r\n    8\r\n    9\r\n    153\r\n    370\r\n    371\r\n    407\r\n    1634\r\n    8208\r\n    9474\r\n    54748\r\n    92727\r\n    93084\r\n    4210818\r\n    548834\r\n\r\nFollowing is a Caliper Test report for the given range of `1` to `10_000`:\r\n\r\n     0% Scenario{vm=java, trial=0, benchmark=Parallel} 1933923.45 ns; ?=119465.91 ns @ 10 trials\r\n    50% Scenario{vm=java, trial=0, benchmark=Normal} 6161598.59 ns; ?=29084.33 ns @ 3 trials\r\n    \r\n    benchmark   ms linear runtime\r\n     Parallel 1.93 =========\r\n       Normal 6.16 ==============================\r\n\r\n  [1]: https://codereview.stackexchange.com/q/134701/104662\r\n  [2]: https://codereview.stackexchange.com/q/134734/104662\r\n\r\n","title":"Java any digit Armstrong number","body":"<p>I had written a program for getting all Armstrong Numbers between <code>1</code> and <code>10_000_000</code> which I had gotten reviewed on Code Review. Following is a minimalist implementation for finding the Armstrong Number using <a href=\"/questions/tagged/java-8\" class=\"post-tag\" title=\"show questions tagged &#39;java-8&#39;\" rel=\"tag\">java-8</a> based on the suggestions I received there:</p>\n\n<pre><code>IntStream.range(1, 10_000_000)\n            .filter((n) -&gt; {\n                final String number = Integer.toString(n);\n                return number.chars()\n                    .mapToDouble(v -&gt; Math.pow(v - '0', number.length()))\n                    .sum() == n;\n            }).forEach(System.out::println);\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>1\n2\n3\n4\n5\n6\n7\n8\n9\n153\n370\n371\n407\n1634\n8208\n9474\n54748\n92727\n93084\n548834\n1741725\n4210818\n9800817\n9926315\n</code></pre>\n\n<p>Links to the review questions:</p>\n\n<ul>\n<li><a href=\"https://codereview.stackexchange.com/q/134701/104662\">Armstrong numbers in a given range using Java 8</a></li>\n<li><a href=\"https://codereview.stackexchange.com/q/134734/104662\">(Follow Up) Armstrong numbers in a given range using Java 8</a></li>\n</ul>\n\n<hr>\n\n<p>This is <strong>not</strong> a fast solution to the problem. You could use parallel for reducing the execution time. The only drawback being that the final output won't be in order.</p>\n\n<pre><code>IntStream.range(1, 10_000_000)\n            .parallel()    // For reducing execution time.\n            .filter((n) -&gt; {\n                final String number = Integer.toString(n);\n                return number.chars()\n                        .mapToDouble(v -&gt; Math.pow(v - '0', number.length()))\n                        .sum() == n;\n            }).forEach(System.out::println);\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>1741725\n9800817\n9926315\n1\n2\n3\n4\n5\n6\n7\n8\n9\n153\n370\n371\n407\n1634\n8208\n9474\n54748\n92727\n93084\n4210818\n548834\n</code></pre>\n\n<p>Following is a Caliper Test report for the given range of <code>1</code> to <code>10_000</code>:</p>\n\n<pre><code> 0% Scenario{vm=java, trial=0, benchmark=Parallel} 1933923.45 ns; ?=119465.91 ns @ 10 trials\n50% Scenario{vm=java, trial=0, benchmark=Normal} 6161598.59 ns; ?=29084.33 ns @ 3 trials\n\nbenchmark   ms linear runtime\n Parallel 1.93 =========\n   Normal 6.16 ==============================\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8887031,"reputation":33,"user_id":6634977,"display_name":"Bhimreddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1469695228,"creation_date":1469695228,"answer_id":38631209,"question_id":37812667,"body_markdown":"Try This code,\r\nU can even ask user to input the number to test for Armstrong.\r\n\r\n\r\n    class Test{  \r\n\t  public static void main(String[] args)  {  \r\n\t    int c=0,a,temp;  \r\n\t    Scanner scn = new Scanner(System.in);\r\n\t  //It is the number to check armstrong\r\n\t    System.out.println(&quot;Enter the number to check&quot;);\r\n\t    int n=scn.nextInt();  \r\n\t    \r\n\t    temp=n;  \r\n\t    while(n&gt;0)  \r\n\t    {  \r\n\t    a=n%10;  \r\n\t    n=n/10;  \r\n\t    c=c+(a*a*a);  \r\n\t    }  \r\n\t    if(temp==c)  \r\n\t    System.out.println(&quot;armstrong number&quot;);   \r\n\t    else  \r\n\t        System.out.println(&quot;Not armstrong number&quot;);   \r\n\t   }  \r\n\t}  ","title":"Java any digit Armstrong number","body":"<p>Try This code,\nU can even ask user to input the number to test for Armstrong.</p>\n\n<pre><code>class Test{  \n  public static void main(String[] args)  {  \n    int c=0,a,temp;  \n    Scanner scn = new Scanner(System.in);\n  //It is the number to check armstrong\n    System.out.println(\"Enter the number to check\");\n    int n=scn.nextInt();  \n\n    temp=n;  \n    while(n&gt;0)  \n    {  \n    a=n%10;  \n    n=n/10;  \n    c=c+(a*a*a);  \n    }  \n    if(temp==c)  \n    System.out.println(\"armstrong number\");   \n    else  \n        System.out.println(\"Not armstrong number\");   \n   }  \n}  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":9594872,"reputation":1,"user_id":7124347,"display_name":"John15"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478486747,"creation_date":1478486747,"answer_id":40457076,"question_id":37812667,"body_markdown":"I think my solution is easier...\r\n\r\n    int n = in.nextInt();\r\n    for(int i = 10; i&lt;=n; i++){\r\n        int x=i; sum = 0;\r\n        while(x&gt;0){\r\n          sum+ = (x%10)(x%10)(x%10);\r\n          x/=10;\r\n    }\r\n    if(sum==i)\r\n    System.out.println(i+&quot; &quot;);\r\n    }","title":"Java any digit Armstrong number","body":"<p>I think my solution is easier...</p>\n\n<pre><code>int n = in.nextInt();\nfor(int i = 10; i&lt;=n; i++){\n    int x=i; sum = 0;\n    while(x&gt;0){\n      sum+ = (x%10)(x%10)(x%10);\n      x/=10;\n}\nif(sum==i)\nSystem.out.println(i+\" \");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9296472,"reputation":3349,"user_id":6903223,"accept_rate":67,"display_name":"Kushal Bhalaik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502632923,"creation_date":1502632923,"answer_id":45661171,"question_id":37812667,"body_markdown":"You just need to provide a limit value, so the following program will search all the Armstrong Numbers from **1 to Limit** \r\n\r\n\t\tint sum =0, tenspower =1;\r\n        Int limit =1000000001;\r\n\r\n\t\tint arr[] = new int[10];\r\n\r\n\r\n\t\tfor (int i=1;i&lt;limit;i++){\r\n\t\t\tString[] str = String.valueOf(i).split(&quot;&quot;);\r\n\r\n\r\n\t\t\tfor(int k=0; k&lt; str.length; k++ ){\r\n\r\n\t\t\t\tsum = (int) (sum + Math.pow(Integer.parseInt(str[k]), str.length))   ;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\r\n\r\n\t\t\tif(sum==i){\r\n\t\t\t\tSystem.out.println(sum);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tsum =0 ;\r\n\t\t\tstr =null;\r\n\r\n\t\t}\r\n\r\n\r\n\r\n","title":"Java any digit Armstrong number","body":"<p>You just need to provide a limit value, so the following program will search all the Armstrong Numbers from <strong>1 to Limit</strong> </p>\n\n<pre><code>    int sum =0, tenspower =1;\n    Int limit =1000000001;\n\n    int arr[] = new int[10];\n\n\n    for (int i=1;i&lt;limit;i++){\n        String[] str = String.valueOf(i).split(\"\");\n\n\n        for(int k=0; k&lt; str.length; k++ ){\n\n            sum = (int) (sum + Math.pow(Integer.parseInt(str[k]), str.length))   ;\n\n                }\n\n\n        if(sum==i){\n            System.out.println(sum);\n\n        }\n\n        sum =0 ;\n        str =null;\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5946193,"reputation":392,"user_id":6870739,"display_name":"Bhola"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1515583853,"creation_date":1515583853,"answer_id":48186485,"question_id":37812667,"body_markdown":"just change max value of `arm_num` you will get Armstrong number between 0 to `arm_num` \r\n\r\n    for(int arm_num = 0 ; arm_num &lt; 100000 ; arm_num++)\r\n    \t\t{\r\n    \t\t\tString[] data = String.valueOf(arm_num).split(&quot;(?&lt;=.)&quot;);\r\n    \t\t\tint lngth = String.valueOf(arm_num).length();\r\n    \t\t\t\r\n    \t\t\tint arm_t_num = 0;\r\n    \t\t\t\r\n    \t\t\tint ary[] = new int[lngth];\r\n    \t\t\t\r\n    \t\t\tfor(int i = 0 ; i &lt; lngth ; i++)\r\n    \t\t\t{\r\n    \t\t\t\tary[i] = Integer.parseInt(data[i]);\r\n    \t\t\t\t\r\n    \t\t\t\tfor(int x = 0 ; x &lt; lngth-1 ; x++)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tary[i] = ary[i] * Integer.parseInt(data[i]);\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tarm_t_num+=ary[i];\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tif(arm_num == arm_t_num)\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(&quot;Number is ArmStrong : &quot;+arm_num);\r\n    \t\t\t}\r\n    \t\t}","title":"Java any digit Armstrong number","body":"<p>just change max value of <code>arm_num</code> you will get Armstrong number between 0 to <code>arm_num</code> </p>\n\n<pre><code>for(int arm_num = 0 ; arm_num &lt; 100000 ; arm_num++)\n        {\n            String[] data = String.valueOf(arm_num).split(\"(?&lt;=.)\");\n            int lngth = String.valueOf(arm_num).length();\n\n            int arm_t_num = 0;\n\n            int ary[] = new int[lngth];\n\n            for(int i = 0 ; i &lt; lngth ; i++)\n            {\n                ary[i] = Integer.parseInt(data[i]);\n\n                for(int x = 0 ; x &lt; lngth-1 ; x++)\n                {\n                    ary[i] = ary[i] * Integer.parseInt(data[i]);\n                }\n\n                arm_t_num+=ary[i];\n            }\n\n            if(arm_num == arm_t_num)\n            {\n                System.out.println(\"Number is ArmStrong : \"+arm_num);\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15251813,"reputation":1,"user_id":11004932,"display_name":"Poonguzhali kandaswamy"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1549113303,"creation_date":1549104668,"answer_id":54492321,"question_id":37812667,"body_markdown":"    /* \r\n     * To Find The Given Number is Armstrong Or Not.\r\n     */\r\n    package Test_2_Feb;\r\n    \r\n    import java.util.Scanner;\r\n    public class ArmStrongNo {\r\n    \r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \t\tint count =0,rem,Sum =0,pow;\r\n    \t\tSystem.out.println(&quot;\\t\\tWelcome To the Program To Find Armstrong Number&quot;);\r\n    \t\tSystem.out.println(&quot;\\t\\t------- -- --- ------- -- ---- --------- ------&quot;);\r\n    \t\tSystem.out.println(&quot;Enter The Number &quot;);\r\n    \t\tint no = sc.nextInt();\r\n    \t\tint temp = no;\r\n    \t\tpow = no;\r\n    \t\twhile(no&gt;0)\r\n    \t\t{\r\n    \t\t\trem = no%10;\r\n    \t\t\t\r\n    \t\t\twhile(pow&gt;0)\r\n    \t\t\t{\r\n    \t\t\t\tpow = pow/10;\r\n    \t\t\t\tcount++;\r\n    \t\t        }\r\n    \t\t\r\n    \t\t\tno = no/10;\r\n    \t\t\t\t\t\r\n    \t\t\tif(count!=0)\r\n    \t\t\t{\r\n    \t\t\t\tSum = (int) (Sum+Math.pow(rem, count));\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t}\r\n    \t\tif(temp==Sum)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;\\tGiven Number : &quot; +temp + &quot;\\n\\tSum Of Number : &quot; + Sum + &quot;\\n\\tSo, The Given Number (&quot; + temp + &quot;) is An armstrong Number&quot;);\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;\\tGiven Number : &quot; +temp + &quot;\\n\\tSum Of Number : &quot; + Sum + &quot;\\n\\tSo, The Given Number (&quot; + temp + &quot;) is Not an armstrong Number&quot;);\r\n    \r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n    \r\n        ","title":"Java any digit Armstrong number","body":"<pre><code>/* \n * To Find The Given Number is Armstrong Or Not.\n */\npackage Test_2_Feb;\n\nimport java.util.Scanner;\npublic class ArmStrongNo {\n\n\n    public static void main(String[] args) {\n\n        Scanner sc = new Scanner(System.in);\n        int count =0,rem,Sum =0,pow;\n        System.out.println(\"\\t\\tWelcome To the Program To Find Armstrong Number\");\n        System.out.println(\"\\t\\t------- -- --- ------- -- ---- --------- ------\");\n        System.out.println(\"Enter The Number \");\n        int no = sc.nextInt();\n        int temp = no;\n        pow = no;\n        while(no&gt;0)\n        {\n            rem = no%10;\n\n            while(pow&gt;0)\n            {\n                pow = pow/10;\n                count++;\n                }\n\n            no = no/10;\n\n            if(count!=0)\n            {\n                Sum = (int) (Sum+Math.pow(rem, count));\n            }\n\n        }\n        if(temp==Sum)\n        {\n            System.out.println(\"\\tGiven Number : \" +temp + \"\\n\\tSum Of Number : \" + Sum + \"\\n\\tSo, The Given Number (\" + temp + \") is An armstrong Number\");\n        }\n        else\n        {\n            System.out.println(\"\\tGiven Number : \" +temp + \"\\n\\tSum Of Number : \" + Sum + \"\\n\\tSo, The Given Number (\" + temp + \") is Not an armstrong Number\");\n\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":4513561,"reputation":249,"user_id":3669045,"accept_rate":100,"display_name":"user56690"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2021,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":37812819,"answer_count":9,"score":0,"last_activity_date":1648040277,"creation_date":1465908903,"question_id":37812667,"body_markdown":"Following is my code for getting a three digit [Armstrong number][1]:\r\n\r\n    public class test {\r\n\r\n        public static void main(String args[]) {\r\n\r\n            for (int i = 100; i &lt;= 999; i++) {\r\n                int firstDigit = (i / 100);\r\n                int secondDigit = (i % 100) / 10;\r\n                int thirdDigit = (i % 10);\r\n                if ((firstDigit * firstDigit * firstDigit)\r\n                        + (secondDigit * secondDigit * secondDigit)\r\n                        + (thirdDigit * thirdDigit * thirdDigit) == i) {\r\n\r\n                    System.out.println(&quot;this is a armstriong number - &quot; + i);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nI am trying to get **any** digit Armstrong based on users input, but I am ending up writing too many loops and excess code.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Narcissistic_number","title":"Java any digit Armstrong number","body":"<p>Following is my code for getting a three digit <a href=\"https://en.wikipedia.org/wiki/Narcissistic_number\" rel=\"nofollow\">Armstrong number</a>:</p>\n\n<pre><code>public class test {\n\n    public static void main(String args[]) {\n\n        for (int i = 100; i &lt;= 999; i++) {\n            int firstDigit = (i / 100);\n            int secondDigit = (i % 100) / 10;\n            int thirdDigit = (i % 10);\n            if ((firstDigit * firstDigit * firstDigit)\n                    + (secondDigit * secondDigit * secondDigit)\n                    + (thirdDigit * thirdDigit * thirdDigit) == i) {\n\n                System.out.println(\"this is a armstriong number - \" + i);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I am trying to get <strong>any</strong> digit Armstrong based on users input, but I am ending up writing too many loops and excess code.</p>\n"},{"tags":["java","xml","jaxb","xjc"],"comments":[{"owner":{"account_id":57788,"reputation":46110,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"score":0,"creation_date":1549567946,"post_id":30261107,"comment_id":95958953,"body_markdown":"XML namespaces has nothing to do with HTTP servers. It is unspoken convention use HTTP URL as distributed unique names.","body":"XML namespaces has nothing to do with HTTP servers. It is unspoken convention use HTTP URL as distributed unique names."}],"answers":[{"tags":[],"owner":{"account_id":6625798,"reputation":834,"user_id":5116073,"display_name":"Seb T"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1648039969,"creation_date":1443257987,"answer_id":32795394,"question_id":30261107,"body_markdown":"This works for me:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;jaxb:bindings xmlns:xsd=&#39;http://www.w3.org/2001/XMLSchema&#39; xmlns:jaxb=&#39;http://java.sun.com/xml/ns/jaxb&#39; version=&#39;2.1&#39;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n\txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/jaxb https://www.oracle.com/webfolder/technetwork/jsc/xml/ns/jaxb/bindingschema_2_0.xsd&quot;&gt;\r\n    \r\n    &lt;/jaxb:bindings&gt;","title":"What&#39;s the current URL for JAXB Bindings XML Schema?","body":"<p>This works for me:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;jaxb:bindings xmlns:xsd='http://www.w3.org/2001/XMLSchema' xmlns:jaxb='http://java.sun.com/xml/ns/jaxb' version='2.1'\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \nxsi:schemaLocation=&quot;http://java.sun.com/xml/ns/jaxb https://www.oracle.com/webfolder/technetwork/jsc/xml/ns/jaxb/bindingschema_2_0.xsd&quot;&gt;\n\n&lt;/jaxb:bindings&gt;\n</code></pre>\n"}],"owner":{"account_id":145509,"reputation":986,"user_id":355364,"accept_rate":67,"display_name":"lpacheco"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5455,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":32795394,"answer_count":1,"score":8,"last_activity_date":1648039969,"creation_date":1431697563,"question_id":30261107,"body_markdown":"I&#39;m trying to automate the generation of Java classes from XML DTD using xjc. The generated Java classes must be serializable. The articles that help with that add a pointer to a bindings file that uses the schema at http://java.sun.com/xml/ns/jaxb for the JAXB namespace, but that URL doesn&#39;t work anymore.\r\n\r\nThe URL http://java.sun.com/xml/ns/jaxb redirects to http://www.oracle.com/webfolder/technetwork/jsc/xml/ns/jaxb/index.html which in turn says that http://java.sun.com/xml/ns/jaxb is the latest URL but links to http://www.oracle.com/xml/ns/jaxb/ that also redirects to http://www.oracle.com/webfolder/technetwork/jsc/xml/ns/jaxb/index.html.\r\n\r\nA bit confusing.\r\n\r\nI&#39;ve found tutorials at Oracle updated in 2014 that still use that URL, and I didn&#39;t find any other. Does anyone have a more up to date info?","title":"What&#39;s the current URL for JAXB Bindings XML Schema?","body":"<p>I'm trying to automate the generation of Java classes from XML DTD using xjc. The generated Java classes must be serializable. The articles that help with that add a pointer to a bindings file that uses the schema at <a href=\"http://java.sun.com/xml/ns/jaxb\" rel=\"noreferrer\">http://java.sun.com/xml/ns/jaxb</a> for the JAXB namespace, but that URL doesn't work anymore.</p>\n\n<p>The URL <a href=\"http://java.sun.com/xml/ns/jaxb\" rel=\"noreferrer\">http://java.sun.com/xml/ns/jaxb</a> redirects to <a href=\"http://www.oracle.com/webfolder/technetwork/jsc/xml/ns/jaxb/index.html\" rel=\"noreferrer\">http://www.oracle.com/webfolder/technetwork/jsc/xml/ns/jaxb/index.html</a> which in turn says that <a href=\"http://java.sun.com/xml/ns/jaxb\" rel=\"noreferrer\">http://java.sun.com/xml/ns/jaxb</a> is the latest URL but links to <a href=\"http://www.oracle.com/xml/ns/jaxb/\" rel=\"noreferrer\">http://www.oracle.com/xml/ns/jaxb/</a> that also redirects to <a href=\"http://www.oracle.com/webfolder/technetwork/jsc/xml/ns/jaxb/index.html\" rel=\"noreferrer\">http://www.oracle.com/webfolder/technetwork/jsc/xml/ns/jaxb/index.html</a>.</p>\n\n<p>A bit confusing.</p>\n\n<p>I've found tutorials at Oracle updated in 2014 that still use that URL, and I didn't find any other. Does anyone have a more up to date info?</p>\n"},{"tags":["java","log4j","java.util.logging","bridge"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1648031136,"post_id":71584146,"comment_id":126519007,"body_markdown":"You can set system properties with `System.setProperty` **but** it varies a lot *when* those properties are read. I don&#39;t know if that specific property will be read/interpreted before execution reaches your main class. If it is, then setting it won&#39;t have any observable effect.","body":"You can set system properties with <code>System.setProperty</code> <b>but</b> it varies a lot <i>when</i> those properties are read. I don&#39;t know if that specific property will be read/interpreted before execution reaches your main class. If it is, then setting it won&#39;t have any observable effect."},{"owner":{"account_id":17518664,"reputation":67,"user_id":12705184,"display_name":"Sepi"},"score":0,"creation_date":1648032840,"post_id":71584146,"comment_id":126519698,"body_markdown":"@JoachimSauer I will try, but when I want set my logging manager it will be \n\nSystem.setProperty(&quot;java.util.logging.manager&quot;, &quot;org.apache.logging.julbridge.JULBridgeLogManager&quot;); \n\nOr I must somehowe create property?","body":"@JoachimSauer I will try, but when I want set my logging manager it will be   System.setProperty(&quot;java.util.logging.manager&quot;, &quot;org.apache.logging.julbridge.JULBridgeLogManager&quot;);   Or I must somehowe create property?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1648033041,"post_id":71584146,"comment_id":126519785,"body_markdown":"Yes, that would be it. There&#39;s no distinction between setting and creating.","body":"Yes, that would be it. There&#39;s no distinction between setting and creating."},{"owner":{"account_id":17518664,"reputation":67,"user_id":12705184,"display_name":"Sepi"},"score":0,"creation_date":1648033542,"post_id":71584146,"comment_id":126519962,"body_markdown":"@JoachimSauer this is not working for me.","body":"@JoachimSauer this is not working for me."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1648034435,"post_id":71584146,"comment_id":126520311,"body_markdown":"then the property is apparently read before your code is reached. Seems you need to figure out how to set the system property from the command line after all.","body":"then the property is apparently read before your code is reached. Seems you need to figure out how to set the system property from the command line after all."},{"owner":{"account_id":17518664,"reputation":67,"user_id":12705184,"display_name":"Sepi"},"score":0,"creation_date":1648035261,"post_id":71584146,"comment_id":126520629,"body_markdown":"There must be the way how to do in code :/","body":"There must be the way how to do in code :/"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1648035566,"post_id":71584146,"comment_id":126520775,"body_markdown":"Must there? I&#39;m not sure, but you do you.","body":"Must there? I&#39;m not sure, but you do you."},{"owner":{"account_id":17518664,"reputation":67,"user_id":12705184,"display_name":"Sepi"},"score":0,"creation_date":1648039280,"post_id":71584146,"comment_id":126522166,"body_markdown":"@JoachimSauer it is solved. I did put System.setProperty(...) to the static block and worked well. Thank you for your advice.","body":"@JoachimSauer it is solved. I did put System.setProperty(...) to the static block and worked well. Thank you for your advice."}],"answers":[{"tags":[],"owner":{"account_id":17518664,"reputation":67,"user_id":12705184,"display_name":"Sepi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648039508,"creation_date":1648039508,"answer_id":71587472,"question_id":71584146,"body_markdown":"I used in Main class static block and delete VM arguments and that worked well:\r\n\r\n    static {\r\n\t\tSystem.setProperty(&quot;java.util.logging.manager&quot;, &quot;org.apache.logging.julbridge.JULBridgeLogManager&quot;);\r\n\t}","title":"Initialize VM arguments to the static variable","body":"<p>I used in Main class static block and delete VM arguments and that worked well:</p>\n<pre><code>static {\n    System.setProperty(&quot;java.util.logging.manager&quot;, &quot;org.apache.logging.julbridge.JULBridgeLogManager&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":17518664,"reputation":67,"user_id":12705184,"display_name":"Sepi"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71587472,"answer_count":1,"score":0,"last_activity_date":1648039508,"creation_date":1648024875,"question_id":71584146,"body_markdown":"I am working on the JUL - Log4j 1.x bridge.\r\nI was follow this steps https://stackoverflow.com/a/4318607.\r\nEverything work fine, when I using VM argument:\r\n\r\n    -Djava.util.logging.manager=org.apache.logging.julbridge.JULBridgeLogManager\r\n\r\nBut I can&#39;t using VM arguments, it is some way how to set this classpath like static variable? For in exmple in Main.class\r\n\r\nOr somehow set java.util.logging.manager (LogManager class) to JULBridgeLogManager","title":"Initialize VM arguments to the static variable","body":"<p>I am working on the JUL - Log4j 1.x bridge.\nI was follow this steps <a href=\"https://stackoverflow.com/a/4318607\">https://stackoverflow.com/a/4318607</a>.\nEverything work fine, when I using VM argument:</p>\n<pre><code>-Djava.util.logging.manager=org.apache.logging.julbridge.JULBridgeLogManager\n</code></pre>\n<p>But I can't using VM arguments, it is some way how to set this classpath like static variable? For in exmple in Main.class</p>\n<p>Or somehow set java.util.logging.manager (LogManager class) to JULBridgeLogManager</p>\n"},{"tags":["java","selenium","testing","automation","testng"],"comments":[{"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"score":0,"creation_date":1648040835,"post_id":71586961,"comment_id":126522773,"body_markdown":"Update the question with entire error stack trace.","body":"Update the question with entire error stack trace."},{"owner":{"account_id":2463872,"reputation":4439,"user_id":2147409,"display_name":"Amit Jain"},"score":0,"creation_date":1648040983,"post_id":71586961,"comment_id":126522846,"body_markdown":"Also how you are running your test, using testng.xml \nAre you getting this option run as testng test for this class in your code ? Also check testng plugin is installed or not","body":"Also how you are running your test, using testng.xml  Are you getting this option run as testng test for this class in your code ? Also check testng plugin is installed or not"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648039170,"creation_date":1648039170,"answer_id":71587391,"question_id":71586961,"body_markdown":"As you are using [_TestNG_](https://stackoverflow.com/a/56770108/7429447) you need to add the following import:\r\n\r\n    import org.testng.annotations.Test;","title":"TestCases not found","body":"<p>As you are using <a href=\"https://stackoverflow.com/a/56770108/7429447\"><em>TestNG</em></a> you need to add the following import:</p>\n<pre><code>import org.testng.annotations.Test;\n</code></pre>\n"}],"owner":{"account_id":24581150,"reputation":1,"user_id":18486254,"display_name":"Aarti Ragella"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648039264,"creation_date":1648037323,"question_id":71586961,"body_markdown":"Code trials:\r\n\r\n    @BeforeMethod\r\n    public void setUp() {\r\n    \t System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:/Users/hp/Downloads/chromedriver_win32/chromedriver.exe&quot;);\r\n    \t    driver = new ChromeDriver();\r\n    \t    //driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\r\n    \t    driver.manage().window().maximize();\r\n    \t    driver.get(&quot;https://www.google.com&quot;);\r\n    }\r\n    \r\n    @Test\r\n    \r\n    public void verifyTitle() {\r\n    \tSystem.out.println(&quot;demo&quot;);\r\n    \tString title =driver.getTitle();\r\n    \tSystem.out.println(&quot;the page title is :&quot;+title);\r\n    \tAssert.assertEquals(title,&quot;Google&quot;);\t\r\n    }\r\n    \r\n    @AfterMethod\r\n    public void tearDown() {\r\n    \tdriver.quit();\r\n    }\r\n\r\nThis is the code I am trying to run using Selenium Testng but showing error as _Test case not found_","title":"TestCases not found","body":"<p>Code trials:</p>\n<pre><code>@BeforeMethod\npublic void setUp() {\n     System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:/Users/hp/Downloads/chromedriver_win32/chromedriver.exe&quot;);\n        driver = new ChromeDriver();\n        //driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\n        driver.manage().window().maximize();\n        driver.get(&quot;https://www.google.com&quot;);\n}\n\n@Test\n\npublic void verifyTitle() {\n    System.out.println(&quot;demo&quot;);\n    String title =driver.getTitle();\n    System.out.println(&quot;the page title is :&quot;+title);\n    Assert.assertEquals(title,&quot;Google&quot;);    \n}\n\n@AfterMethod\npublic void tearDown() {\n    driver.quit();\n}\n</code></pre>\n<p>This is the code I am trying to run using Selenium Testng but showing error as <em>Test case not found</em></p>\n"},{"tags":["java","selenium","google-chrome","selenium-webdriver","webdrivermanager-java"],"answers":[{"tags":[],"owner":{"account_id":4420200,"reputation":4708,"user_id":3877746,"accept_rate":100,"display_name":"Boni Garc&#237;a"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648038937,"creation_date":1648038937,"answer_id":71587339,"question_id":71578947,"body_markdown":"\r\nAlthough it is tricky, it can be done using the WebDriverManager method `browserVersionDetectionCommand()`. Supposing that Chrome Beta is in this path:\r\n\r\n```\r\nC:\\Program Files\\Google\\Chrome Beta\\Application\\chrome.exe\r\n```\r\n\r\n... we need to run the following command in the shell:\r\n\r\n```\r\ncmd.exe /C wmic datafile where name=&quot;%PROGRAMFILES:\\=\\\\%\\\\Google\\\\Chrome Beta\\\\Application\\\\chrome.exe&quot; get Version /value\r\n```\r\n\r\nThe problem is that, when running this command in Java, the blank space (in &quot;Chrome Beta&quot; folder) makes this command to be interpreted incorretly. The solution is to find the Windows path name using the ~ sintax. You can discover these names by running `dir /X` in the Windows shell (e.g, `C:\\Program Files` becomes `C:\\PROGRA~1`).\r\n\r\nYou can see a test using this feature [here][1]. The traces of this test are as follows:\r\n\r\n```\r\n2022-03-23 13:35:00 [main] DEBUG i.g.bonigarcia.wdm.versions.Shell.runAndWaitArray(65) -- Running command on the shell: [cmd.exe, /C, wmic, datafile, where, name=&quot;C:\\\\PROGRA~1\\\\GOOGLE\\\\CHROME~1\\\\APPLIC~1\\\\CHROME.EXE&quot;, get, Version, /value]\r\n2022-03-23 13:35:00 [main] DEBUG i.g.bonigarcia.wdm.versions.Shell.runAndWaitArray(69) -- Result: Version=100.0.4896.46\r\n2022-03-23 13:35:00 [main] DEBUG i.g.b.wdm.versions.VersionDetector.getDriverVersionFromRepository(127) -- Latest version of chromedriver according to https://chromedriver.storage.googleapis.com/LATEST_RELEASE_100 is 100.0.4896.20\r\n2022-03-23 13:35:00 [main] INFO  i.g.bonigarcia.wdm.WebDriverManager.resolveDriverVersion(1093) -- Using chromedriver 100.0.4896.20 (resolved driver for Chrome 100)\r\n2022-03-23 13:35:00 [main] DEBUG i.g.b.wdm.cache.ResolutionCache.putValueInResolutionCacheIfEmpty(119) -- Storing resolution chrome=100 in cache (valid until 14:35:00 23/03/2022 CET)\r\n2022-03-23 13:35:00 [main] DEBUG i.g.b.wdm.cache.ResolutionCache.putValueInResolutionCacheIfEmpty(119) -- Storing resolution chrome100=100.0.4896.20 in cache (valid until 13:35:00 24/03/2022 CET)\r\n2022-03-23 13:35:00 [main] DEBUG i.g.bonigarcia.wdm.WebDriverManager.manage(1049) -- Driver chromedriver 100.0.4896.20 found in cache\r\n2022-03-23 13:35:00 [main] INFO  i.g.bonigarcia.wdm.WebDriverManager.exportDriver(1148) -- Exporting webdriver.chrome.driver as C:\\Users\\boni\\.cache\\selenium\\chromedriver\\win32\\100.0.4896.20\\chromedriver.exe\r\n\r\n```\r\n\r\n\r\n  [1]: https://github.com/bonigarcia/webdrivermanager/blob/master/src/test/java/io/github/bonigarcia/wdm/test/chrome/ChromeBetaWindowsTest.java","title":"WebDriverManager is pulling chrome browser version from a default path regardless of settings","body":"<p>Although it is tricky, it can be done using the WebDriverManager method <code>browserVersionDetectionCommand()</code>. Supposing that Chrome Beta is in this path:</p>\n<pre><code>C:\\Program Files\\Google\\Chrome Beta\\Application\\chrome.exe\n</code></pre>\n<p>... we need to run the following command in the shell:</p>\n<pre><code>cmd.exe /C wmic datafile where name=&quot;%PROGRAMFILES:\\=\\\\%\\\\Google\\\\Chrome Beta\\\\Application\\\\chrome.exe&quot; get Version /value\n</code></pre>\n<p>The problem is that, when running this command in Java, the blank space (in &quot;Chrome Beta&quot; folder) makes this command to be interpreted incorretly. The solution is to find the Windows path name using the ~ sintax. You can discover these names by running <code>dir /X</code> in the Windows shell (e.g, <code>C:\\Program Files</code> becomes <code>C:\\PROGRA~1</code>).</p>\n<p>You can see a test using this feature <a href=\"https://github.com/bonigarcia/webdrivermanager/blob/master/src/test/java/io/github/bonigarcia/wdm/test/chrome/ChromeBetaWindowsTest.java\" rel=\"nofollow noreferrer\">here</a>. The traces of this test are as follows:</p>\n<pre><code>2022-03-23 13:35:00 [main] DEBUG i.g.bonigarcia.wdm.versions.Shell.runAndWaitArray(65) -- Running command on the shell: [cmd.exe, /C, wmic, datafile, where, name=&quot;C:\\\\PROGRA~1\\\\GOOGLE\\\\CHROME~1\\\\APPLIC~1\\\\CHROME.EXE&quot;, get, Version, /value]\n2022-03-23 13:35:00 [main] DEBUG i.g.bonigarcia.wdm.versions.Shell.runAndWaitArray(69) -- Result: Version=100.0.4896.46\n2022-03-23 13:35:00 [main] DEBUG i.g.b.wdm.versions.VersionDetector.getDriverVersionFromRepository(127) -- Latest version of chromedriver according to https://chromedriver.storage.googleapis.com/LATEST_RELEASE_100 is 100.0.4896.20\n2022-03-23 13:35:00 [main] INFO  i.g.bonigarcia.wdm.WebDriverManager.resolveDriverVersion(1093) -- Using chromedriver 100.0.4896.20 (resolved driver for Chrome 100)\n2022-03-23 13:35:00 [main] DEBUG i.g.b.wdm.cache.ResolutionCache.putValueInResolutionCacheIfEmpty(119) -- Storing resolution chrome=100 in cache (valid until 14:35:00 23/03/2022 CET)\n2022-03-23 13:35:00 [main] DEBUG i.g.b.wdm.cache.ResolutionCache.putValueInResolutionCacheIfEmpty(119) -- Storing resolution chrome100=100.0.4896.20 in cache (valid until 13:35:00 24/03/2022 CET)\n2022-03-23 13:35:00 [main] DEBUG i.g.bonigarcia.wdm.WebDriverManager.manage(1049) -- Driver chromedriver 100.0.4896.20 found in cache\n2022-03-23 13:35:00 [main] INFO  i.g.bonigarcia.wdm.WebDriverManager.exportDriver(1148) -- Exporting webdriver.chrome.driver as C:\\Users\\boni\\.cache\\selenium\\chromedriver\\win32\\100.0.4896.20\\chromedriver.exe\n\n</code></pre>\n"}],"owner":{"account_id":4257661,"reputation":740,"user_id":3482896,"accept_rate":90,"display_name":"GregMa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2514,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71587339,"answer_count":1,"score":0,"last_activity_date":1648038937,"creation_date":1647983161,"question_id":71578947,"body_markdown":"I&#39;ve tried everything I can think of to get WebDriverManager to detect the correct version of the chrome browser that I can think of, nothing works.  I want to detect the browser driver version from the chrome.exe located at C:\\Program Files\\Google\\Chrome Beta\\Application.  However, no matter what I do it runs the following command to detect the version:  \r\n\r\n    io.github.bonigarcia.wdm.versions.Shell - Running command on the shell: [cmd.exe, /C, wmic, datafile, where, name=&quot;%PROGRAMFILES(X86):\\=\\\\%\\\\Google\\\\Chrome\\\\Application\\\\chrome.exe&quot;, get, Version, /value]\r\n\r\nI have tried so far:\r\n\r\nFor all the below:\r\n\r\n    sBrowserBinaryLocation = &quot;C:\\Program Files\\Google\\Chrome Beta\\Application&quot;; \r\n\r\nsetting \r\n\r\n    options.setBinary(sBrowserBinaryLocation);\r\n    WebDriverManager.chromedriver().clearDriverCache().setup();\r\n\r\nSetting:\r\n\r\n    options.setBinary(sBrowserBinaryLocation);\r\n    WebDriverManager.chromedriver().clearDriverCache().arch64().setup();\r\n\r\nSetting:\r\n\r\n    options.setBinary(sBrowserBinaryLocation);\r\n    WebDriverManager.chromedriver().clearDriverCache().browserVersionDetectionCommand(sBrowserBinaryLocation + &quot; --version&quot;).arch64().setup();\r\n\r\nEvery one of those produced the same \r\n\r\n    io.github.bonigarcia.wdm.versions.Shell - Running command on the shell: [cmd.exe, /C, wmic, datafile, where, name=&quot;%PROGRAMFILES(X86):\\=\\\\%\\\\Google\\\\Chrome\\\\Application\\\\chrome.exe&quot;, get, Version, /value]\r\n\r\nWhich picked up the non-beta version 99.  How do I tell WebDriverManager to use &quot;C:\\Program Files\\Google\\Chrome Beta\\Application&quot; rather than &quot;C:\\Program Files(x86)\\Google\\Chrome\\Application&quot;?\r\n\r\n","title":"WebDriverManager is pulling chrome browser version from a default path regardless of settings","body":"<p>I've tried everything I can think of to get WebDriverManager to detect the correct version of the chrome browser that I can think of, nothing works.  I want to detect the browser driver version from the chrome.exe located at C:\\Program Files\\Google\\Chrome Beta\\Application.  However, no matter what I do it runs the following command to detect the version:</p>\n<pre><code>io.github.bonigarcia.wdm.versions.Shell - Running command on the shell: [cmd.exe, /C, wmic, datafile, where, name=&quot;%PROGRAMFILES(X86):\\=\\\\%\\\\Google\\\\Chrome\\\\Application\\\\chrome.exe&quot;, get, Version, /value]\n</code></pre>\n<p>I have tried so far:</p>\n<p>For all the below:</p>\n<pre><code>sBrowserBinaryLocation = &quot;C:\\Program Files\\Google\\Chrome Beta\\Application&quot;; \n</code></pre>\n<p>setting</p>\n<pre><code>options.setBinary(sBrowserBinaryLocation);\nWebDriverManager.chromedriver().clearDriverCache().setup();\n</code></pre>\n<p>Setting:</p>\n<pre><code>options.setBinary(sBrowserBinaryLocation);\nWebDriverManager.chromedriver().clearDriverCache().arch64().setup();\n</code></pre>\n<p>Setting:</p>\n<pre><code>options.setBinary(sBrowserBinaryLocation);\nWebDriverManager.chromedriver().clearDriverCache().browserVersionDetectionCommand(sBrowserBinaryLocation + &quot; --version&quot;).arch64().setup();\n</code></pre>\n<p>Every one of those produced the same</p>\n<pre><code>io.github.bonigarcia.wdm.versions.Shell - Running command on the shell: [cmd.exe, /C, wmic, datafile, where, name=&quot;%PROGRAMFILES(X86):\\=\\\\%\\\\Google\\\\Chrome\\\\Application\\\\chrome.exe&quot;, get, Version, /value]\n</code></pre>\n<p>Which picked up the non-beta version 99.  How do I tell WebDriverManager to use &quot;C:\\Program Files\\Google\\Chrome Beta\\Application&quot; rather than &quot;C:\\Program Files(x86)\\Google\\Chrome\\Application&quot;?</p>\n"},{"tags":["java","mocking","mockito","spring-mvc-test"],"comments":[{"owner":{"account_id":15956467,"reputation":4079,"user_id":11514534,"display_name":"second"},"score":1,"creation_date":1585133335,"post_id":60847014,"comment_id":107654024,"body_markdown":"A `MockMultipartFile` isn&#39;t a mock defined by `mockito`. It&#39;s a spring class. Maybe you can add some more context to your question, so we can see if there isn&#39;t a different way to achieve the same result.","body":"A <code>MockMultipartFile</code> isn&#39;t a mock defined by <code>mockito</code>. It&#39;s a spring class. Maybe you can add some more context to your question, so we can see if there isn&#39;t a different way to achieve the same result."},{"owner":{"account_id":11458679,"reputation":51,"user_id":8398953,"display_name":"M Hall"},"score":0,"creation_date":1585133413,"post_id":60847014,"comment_id":107654053,"body_markdown":"OK thanks, and good point. I&#39;ll take a look.","body":"OK thanks, and good point. I&#39;ll take a look."},{"owner":{"account_id":15956467,"reputation":4079,"user_id":11514534,"display_name":"second"},"score":0,"creation_date":1585134178,"post_id":60847014,"comment_id":107654401,"body_markdown":"Try to add the complete method and your test. Ideally a [mre]. A solution might be the use of `PowerMockito` to mock the static method, but there might be better approaches. But finding them depends on the code you have and test you have written.","body":"Try to add the complete method and your test. Ideally a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. A solution might be the use of <code>PowerMockito</code> to mock the static method, but there might be better approaches. But finding them depends on the code you have and test you have written."}],"answers":[{"tags":[],"owner":{"account_id":11458679,"reputation":51,"user_id":8398953,"display_name":"M Hall"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1585149921,"creation_date":1585149921,"answer_id":60851927,"question_id":60847014,"body_markdown":"So my colleague found a good way to get around this using an anonymous inner class:\r\n\r\n```        MockMultipartFile file = new MockMultipartFile(&quot;file&quot;, &quot;receipts.zip&quot;, &quot;application/zip&quot;, &quot;&quot;.getBytes()){\r\n            @Override\r\n            public InputStream getInputStream() throws IOException {\r\n                throw new IOException();\r\n            }\r\n        };\r\n```\r\n\r\nThis means that an exception is thrown in the try/catch block in the controller method when trying to get the InputStream from the MockMultipartFile, and the result is the BadUpdateException.","title":"How to generate exception in Spring MVC test from MockMultipartFile?","body":"<p>So my colleague found a good way to get around this using an anonymous inner class:</p>\n\n<pre><code>            @Override\n            public InputStream getInputStream() throws IOException {\n                throw new IOException();\n            }\n        };\n</code></pre>\n\n<p>This means that an exception is thrown in the try/catch block in the controller method when trying to get the InputStream from the MockMultipartFile, and the result is the BadUpdateException.</p>\n"},{"tags":[],"owner":{"account_id":16638398,"reputation":35,"user_id":12024568,"display_name":"Eugen Barbu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648038503,"creation_date":1648038503,"answer_id":71587231,"question_id":60847014,"body_markdown":"Here is the complete code for uploading an Excel file as multipart file. This is based on M Hall&#39;s previous response, so he/she should take credit for it.\r\n\r\nThis is the controller which will allow you to make the upload:\r\n\r\n\r\n    public class MyController {\r\n    \t@PostMapping({&quot;/upload&quot;})\r\n        public String upload(@RequestParam(&quot;excelFile&quot;) MultipartFile excelFile) {\r\n            try {\r\n    \t\t\t//This should throw an IOException\r\n                InputStream in = excelFile.getInputStream();\r\n            } catch (IOException e) {\r\n                //handle exception\r\n            }\r\n            return &quot;redirect:/index&quot;;\r\n        }\r\n    }\r\n\r\nThis is how the test should look like:\r\n\r\n    @SpringBootTest(classes = {MyController.class})\r\n    public class MyControllerTest {\r\n    \r\n            public static final String CONTENT_TYPE = &quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;;\r\n            public static final byte[] CONTENT = &quot;xml content&quot;.getBytes();\r\n        \t\r\n        \t//Create a custom mock multipart file. This file will throw an IOException, when the method getInputStream is called.\r\n        \tCustomMockMultipartFile excelFile = new CustomMockMultipartFile(&quot;excelFile&quot;, &quot;MyExcelFile.xlsx&quot;, CONTENT_TYPE, CONTENT);\r\n        \t\r\n        \t@Autowired\r\n            private WebApplicationContext wac;\r\n        \t\r\n        \t@Autowired\r\n            MyController myController;\r\n        \t\r\n        \t@Test\r\n            public void testUploadIoException() throws Exception {\r\n        \t\tMockMvc mockMvc = MockMvcBuilders.webAppContextSetup(this.wac).build();\r\n                MvcResult result = mockMvc.perform(MockMvcRequestBuilders.multipart(&quot;/upload&quot;).file(excelFile))\r\n                        .andExpect(redirectedUrl(&quot;/index&quot;))\r\n                        .andReturn();\r\n        \t\t//Perform other assertions based on your business needs and test specifications\r\n                //Assert that the logic in the catch block is executed\r\n            }\r\n        \r\n        \t//A private inner class, which extends the MockMultipartFile\r\n            private class CustomMockMultipartFile extends MockMultipartFile {\r\n        \r\n                public CustomMockMultipartFile(String name, String originalFilename, String contentType, byte[] content) {\r\n                    super(name, originalFilename, contentType, content);\r\n                }\r\n        \r\n        \t\t//Method is overrided, so that it throws an IOException, when it&#39;s called\r\n                @Override\r\n                public InputStream getInputStream() throws IOException {\r\n                    throw new IOException();\r\n                }\r\n            }\r\n        }\r\n\r\n","title":"How to generate exception in Spring MVC test from MockMultipartFile?","body":"<p>Here is the complete code for uploading an Excel file as multipart file. This is based on M Hall's previous response, so he/she should take credit for it.</p>\n<p>This is the controller which will allow you to make the upload:</p>\n<pre><code>public class MyController {\n    @PostMapping({&quot;/upload&quot;})\n    public String upload(@RequestParam(&quot;excelFile&quot;) MultipartFile excelFile) {\n        try {\n            //This should throw an IOException\n            InputStream in = excelFile.getInputStream();\n        } catch (IOException e) {\n            //handle exception\n        }\n        return &quot;redirect:/index&quot;;\n    }\n}\n</code></pre>\n<p>This is how the test should look like:</p>\n<pre><code>@SpringBootTest(classes = {MyController.class})\npublic class MyControllerTest {\n\n        public static final String CONTENT_TYPE = &quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;;\n        public static final byte[] CONTENT = &quot;xml content&quot;.getBytes();\n        \n        //Create a custom mock multipart file. This file will throw an IOException, when the method getInputStream is called.\n        CustomMockMultipartFile excelFile = new CustomMockMultipartFile(&quot;excelFile&quot;, &quot;MyExcelFile.xlsx&quot;, CONTENT_TYPE, CONTENT);\n        \n        @Autowired\n        private WebApplicationContext wac;\n        \n        @Autowired\n        MyController myController;\n        \n        @Test\n        public void testUploadIoException() throws Exception {\n            MockMvc mockMvc = MockMvcBuilders.webAppContextSetup(this.wac).build();\n            MvcResult result = mockMvc.perform(MockMvcRequestBuilders.multipart(&quot;/upload&quot;).file(excelFile))\n                    .andExpect(redirectedUrl(&quot;/index&quot;))\n                    .andReturn();\n            //Perform other assertions based on your business needs and test specifications\n            //Assert that the logic in the catch block is executed\n        }\n    \n        //A private inner class, which extends the MockMultipartFile\n        private class CustomMockMultipartFile extends MockMultipartFile {\n    \n            public CustomMockMultipartFile(String name, String originalFilename, String contentType, byte[] content) {\n                super(name, originalFilename, contentType, content);\n            }\n    \n            //Method is overrided, so that it throws an IOException, when it's called\n            @Override\n            public InputStream getInputStream() throws IOException {\n                throw new IOException();\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":11458679,"reputation":51,"user_id":8398953,"display_name":"M Hall"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1391,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1648038503,"creation_date":1585132478,"question_id":60847014,"body_markdown":"I am trying to write some unit tests for a controller in Spring MVC, and part of the controller method has the follwing code:\r\n\r\n```\r\n        try {\r\n            newProjectFile.setFileType(fileType);\r\n            newProjectFile.setContent(BlobProxy.generateProxy(file.getInputStream(), file.getSize()));\r\n        } catch (Exception e) {\r\n            throw new BadUpdateException(e.getMessage());\r\n        }\r\n```\r\n\r\nI&#39;ve set up a MockMultipartFile in my unit test, and would like to test the exception case here so that I can get a bad request response.\r\n\r\nI&#39;ve tried setting up something like the following:\r\n\r\nunit test:\r\n```\r\nMockMultipartFile file = new MockMultipartFile(&quot;file&quot;, &quot;receipts.zip&quot;, &quot;application/zip&quot;, &quot;&quot;.getBytes());\r\n\r\n[...]\r\n\r\nwhen(file.getInputStream()).thenThrow(IOException.class);\r\n\r\n[...]\r\n\r\n```\r\nand I get the following error:\r\n\r\n```\r\nwhen() requires an argument which has to be &#39;a method call on a mock&#39;.\r\nFor example:\r\n    when(mock.getArticles()).thenReturn(articles);\r\n```\r\n\r\nIf I can&#39;t use &#39;when&#39; on a MockMultipartFile like I would any normal mock object, and Mockito doesn&#39;t allow you to mock static methods, how can I get an exception to be thrown here?\r\n\r\nEdit:\r\nas mentioned in the commments, the MockMultipartFile is not from Mockito, hence the error mentioned above.\r\n\r\nThe question really is how to throw an exception in the try/catch block, which is presumably *either* by throwing an IOException on file.getInputStream(), or an UnsupportedOperationException on BlobProxy.generateProxy(), so that my method throws the BadUpdateException.","title":"How to generate exception in Spring MVC test from MockMultipartFile?","body":"<p>I am trying to write some unit tests for a controller in Spring MVC, and part of the controller method has the follwing code:</p>\n\n<pre><code>        try {\n            newProjectFile.setFileType(fileType);\n            newProjectFile.setContent(BlobProxy.generateProxy(file.getInputStream(), file.getSize()));\n        } catch (Exception e) {\n            throw new BadUpdateException(e.getMessage());\n        }\n</code></pre>\n\n<p>I've set up a MockMultipartFile in my unit test, and would like to test the exception case here so that I can get a bad request response.</p>\n\n<p>I've tried setting up something like the following:</p>\n\n<p>unit test:</p>\n\n<pre><code>MockMultipartFile file = new MockMultipartFile(\"file\", \"receipts.zip\", \"application/zip\", \"\".getBytes());\n\n[...]\n\nwhen(file.getInputStream()).thenThrow(IOException.class);\n\n[...]\n\n</code></pre>\n\n<p>and I get the following error:</p>\n\n<pre><code>when() requires an argument which has to be 'a method call on a mock'.\nFor example:\n    when(mock.getArticles()).thenReturn(articles);\n</code></pre>\n\n<p>If I can't use 'when' on a MockMultipartFile like I would any normal mock object, and Mockito doesn't allow you to mock static methods, how can I get an exception to be thrown here?</p>\n\n<p>Edit:\nas mentioned in the commments, the MockMultipartFile is not from Mockito, hence the error mentioned above.</p>\n\n<p>The question really is how to throw an exception in the try/catch block, which is presumably <em>either</em> by throwing an IOException on file.getInputStream(), or an UnsupportedOperationException on BlobProxy.generateProxy(), so that my method throws the BadUpdateException.</p>\n"},{"tags":["javascript","java","jsp","veracode"],"answers":[{"tags":[],"owner":{"account_id":12247989,"reputation":123,"user_id":8939178,"display_name":"Masoom Raza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648038422,"creation_date":1648038422,"answer_id":71587208,"question_id":71555564,"body_markdown":"We can use Encode.forJavaScript() function under &quot;org.owasp.encoder.Encode&quot;. Below is the demonstration:\r\n\r\n```\r\n&lt;script src=&quot;/acumepro/javascript/master2.js?v=&lt;%=Encode.forJavaScript( trivisionApp.getVersionNumber()) %&gt;&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\r\n\r\nvar guid = &quot;&lt;%=Encode.forJavaScript(trivisionApp.getCustomerGUID()) %&gt;&quot;;\r\n```","title":"CWE-80: Improper Neutralization of Script-Related HTML Tags in a Web Page (Basic XSS) and CWE-201: Insertion of Sensitive Information Into Sent Data","body":"<p>We can use Encode.forJavaScript() function under &quot;org.owasp.encoder.Encode&quot;. Below is the demonstration:</p>\n<pre><code>&lt;script src=&quot;/acumepro/javascript/master2.js?v=&lt;%=Encode.forJavaScript( trivisionApp.getVersionNumber()) %&gt;&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n\nvar guid = &quot;&lt;%=Encode.forJavaScript(trivisionApp.getCustomerGUID()) %&gt;&quot;;\n</code></pre>\n"}],"owner":{"account_id":12247989,"reputation":123,"user_id":8939178,"display_name":"Masoom Raza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71587208,"answer_count":1,"score":0,"last_activity_date":1648038422,"creation_date":1647856060,"question_id":71555564,"body_markdown":"I am getting veracode vulnerability issue named &quot;CWE-80: Improper Neutralization of Script-Related HTML Tags in a Web Page (Basic XSS)&quot; for the following code.\r\n\r\n```\r\nvar planNumber = &lt;%=request.getParameter(&quot;planNumber&quot;) %&gt;;\r\nvar guid = &quot;&lt;%=trivisionApp.getCustomerGUID() %&gt;&quot;;\r\n```\r\nAlso there is another type of vulnerability issue named &quot;CWE-201: Insertion of Sensitive Information Into Sent Data&quot; for the below piece of code:\r\n\r\n```\r\n&lt;script src=&quot;/acumepro/javascript/master2.js?v=&lt;%=trivisionApp.getVersionNumber() %&gt;&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\r\n```\r\n\r\nHow to solve these vulnerability, I am currently working on JSP related project.","title":"CWE-80: Improper Neutralization of Script-Related HTML Tags in a Web Page (Basic XSS) and CWE-201: Insertion of Sensitive Information Into Sent Data","body":"<p>I am getting veracode vulnerability issue named &quot;CWE-80: Improper Neutralization of Script-Related HTML Tags in a Web Page (Basic XSS)&quot; for the following code.</p>\n<pre><code>var planNumber = &lt;%=request.getParameter(&quot;planNumber&quot;) %&gt;;\nvar guid = &quot;&lt;%=trivisionApp.getCustomerGUID() %&gt;&quot;;\n</code></pre>\n<p>Also there is another type of vulnerability issue named &quot;CWE-201: Insertion of Sensitive Information Into Sent Data&quot; for the below piece of code:</p>\n<pre><code>&lt;script src=&quot;/acumepro/javascript/master2.js?v=&lt;%=trivisionApp.getVersionNumber() %&gt;&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n</code></pre>\n<p>How to solve these vulnerability, I am currently working on JSP related project.</p>\n"},{"tags":["java","amazon-dynamodb","performbatchupdates"],"answers":[{"tags":[],"owner":{"account_id":4990869,"reputation":556,"user_id":4013152,"display_name":"Alberto Martin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585413284,"creation_date":1585413284,"answer_id":60903614,"question_id":60889376,"body_markdown":"Based on Amazon documentation it is not possible, they ask to use `UpdateItem`: https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_BatchWriteItem.html\r\n\r\nSo you can either use your approach or execute parallel `UpdateItem` in your application, at the end, as stated by Amazon docs, the benefits of using BatchWriteItem are mainly latency costs and complexity:\r\n&gt; BatchWriteItem performs the specified put and delete operations in parallel, giving you the power of the thread pool approach without having to introduce complexity into your application.\r\n\r\nYour approach may be faster (less latency) but a higher cost (need to read and write the whole item). Meanwhile `UpdateItem` approach may be more complex to implement depending on the technology you use.","title":"Batch Update in DynamoDB","body":"<p>Based on Amazon documentation it is not possible, they ask to use <code>UpdateItem</code>: <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_BatchWriteItem.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_BatchWriteItem.html</a></p>\n\n<p>So you can either use your approach or execute parallel <code>UpdateItem</code> in your application, at the end, as stated by Amazon docs, the benefits of using BatchWriteItem are mainly latency costs and complexity:</p>\n\n<blockquote>\n  <p>BatchWriteItem performs the specified put and delete operations in parallel, giving you the power of the thread pool approach without having to introduce complexity into your application.</p>\n</blockquote>\n\n<p>Your approach may be faster (less latency) but a higher cost (need to read and write the whole item). Meanwhile <code>UpdateItem</code> approach may be more complex to implement depending on the technology you use.</p>\n"},{"tags":[],"owner":{"account_id":1029607,"reputation":338,"user_id":1038189,"accept_rate":86,"display_name":"sas1138"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648038333,"creation_date":1648038333,"answer_id":71587185,"question_id":60889376,"body_markdown":"You can try the new PartiQl BatchExecute Statement.\r\n\r\nhttps://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_BatchExecuteStatement.html\r\n\r\nhttps://docs.aws.amazon.com/amazondynamodb/latest/developerguide/ql-reference.multiplestatements.batching.html\r\n\r\nThe syntax is very Sql like, from the above docs ...\r\n\r\n    [    \r\n    {\r\n        &quot;Statement&quot;: &quot;INSERT INTO Music value {&#39;Artist&#39;:&#39;?&#39;,&#39;SongTitle&#39;:&#39;?&#39;}&quot;,\r\n        &quot;Parameters&quot;: [{&quot;S&quot;: &quot;Acme Band&quot;}, {&quot;S&quot;: &quot;Best Song&quot;}]\r\n    },\r\n    {\r\n        &quot;Statement&quot;: &quot;UPDATE Music SET AwardsWon=1 SET AwardDetail={&#39;Grammys&#39;:[2020, 2018]}  where Artist=&#39;Acme Band&#39; and SongTitle=&#39;PartiQL Rocks&#39;&quot;\r\n    }\r\n    ]\r\n\r\n\r\n\r\n","title":"Batch Update in DynamoDB","body":"<p>You can try the new PartiQl BatchExecute Statement.</p>\n<p><a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_BatchExecuteStatement.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_BatchExecuteStatement.html</a></p>\n<p><a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/ql-reference.multiplestatements.batching.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/ql-reference.multiplestatements.batching.html</a></p>\n<p>The syntax is very Sql like, from the above docs ...</p>\n<pre><code>[    \n{\n    &quot;Statement&quot;: &quot;INSERT INTO Music value {'Artist':'?','SongTitle':'?'}&quot;,\n    &quot;Parameters&quot;: [{&quot;S&quot;: &quot;Acme Band&quot;}, {&quot;S&quot;: &quot;Best Song&quot;}]\n},\n{\n    &quot;Statement&quot;: &quot;UPDATE Music SET AwardsWon=1 SET AwardDetail={'Grammys':[2020, 2018]}  where Artist='Acme Band' and SongTitle='PartiQL Rocks'&quot;\n}\n]\n</code></pre>\n"}],"owner":{"account_id":15679087,"reputation":107,"user_id":11313549,"display_name":"sahillearner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":921,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648038333,"creation_date":1585323861,"question_id":60889376,"body_markdown":"I need to perform a batch update to dynamo db in java. By update I mean that I have the primary key of an item and want to update a single attribute of the item.\r\nI tried first getting the items through batchGetItem, modifying it and performing a batchWriteItem. Even batchSave of dynamoDb mapper doesn&#39;t provide updates. \r\nI can use this method, but is there a way by which I can perform batchUpdate on the items directly without getting the whole item from the db ?\r\n\r\n ","title":"Batch Update in DynamoDB","body":"<p>I need to perform a batch update to dynamo db in java. By update I mean that I have the primary key of an item and want to update a single attribute of the item.\nI tried first getting the items through batchGetItem, modifying it and performing a batchWriteItem. Even batchSave of dynamoDb mapper doesn't provide updates. \nI can use this method, but is there a way by which I can perform batchUpdate on the items directly without getting the whole item from the db ?</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1647865414,"post_id":71557480,"comment_id":126470775,"body_markdown":"The logic can be same as [This](https://stackoverflow.com/a/21764444/4168607) you save the last clicked time and just validate the next click withing the interval ..","body":"The logic can be same as <a href=\"https://stackoverflow.com/a/21764444/4168607\">This</a> you save the last clicked time and just validate the next click withing the interval .."}],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648038031,"creation_date":1647867344,"answer_id":71557983,"question_id":71557480,"body_markdown":"You could encapsulate the handling of multi-taps in a helper class like this. This class accepts each tap of the button when you call `submitTap()`, and if the specified number of taps happen within a certain amount of time (`withinMillis`), then it fires the `onMultiTap` callback. If it has been too long since the first of the taps it has been counting, it resets its time and counts the latest tap as the first of a new count.\r\n\r\n```\r\nclass MultiTapHandler(\r\n    val multiTapCount: Int,\r\n    val withinMillis: Long,\r\n    var onMultiTap: () -&gt; Unit\r\n) {\r\n    init {\r\n        require(multiTapCount &gt; 1) { &quot;Must have multiTapCount of at least 2.&quot; }\r\n    }\r\n\r\n    private var firstInputTime = 0L\r\n    private var count = 0\r\n\r\n    fun submitTap() {\r\n        val time = System.currentTimeMillis()\r\n        when {\r\n            count == 0 || time - firstInputTime &gt; withinMillis -&gt; {\r\n                count = 1\r\n                firstInputTime = time\r\n            }\r\n            ++count == multiTapCount -&gt; {\r\n                count = 0\r\n                onMultiTap()\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nSo to use it in your code, where you want to do something when there is a triple-tap of the volume button, you would store it in a property with a `multiTapCount` of 3. You can experiment with values of `withinMillis` to find what feels right.\r\n\r\n```\r\nprivate val tripleVolumeUpHandler = MultiTapHandler(3, 500L) {\r\n    Log.d(TAG, &quot;Just got triple tap on volume up button!&quot;)\r\n}\r\n\r\noverride fun dispatchKeyEvent(event: KeyEvent): Boolean {\r\n    val action = event.action\r\n    return when (val keyCode = event.keyCode) {\r\n        KeyEvent.KEYCODE_VOLUME_UP -&gt; {\r\n            if (action == KeyEvent.ACTION_UP) {\r\n                tripleVolumeUpHandler.submitTap()\r\n            }\r\n            true\r\n        }\r\n        else -&gt; super.dispatchKeyEvent(event)\r\n    }\r\n}\r\n```\r\n\r\n----\r\nEdit: If you want to handle single, double, and triple taps of the button, you can create a second instance like this:\r\n\r\n```\r\nprivate val doubleVolumeUpHandler = MultiTapHandler(2, 250L) {\r\n    Log.d(TAG, &quot;Just got double tap on volume up button!&quot;)\r\n}\r\n\r\nprivate val tripleVolumeUpHandler = MultiTapHandler(3, 500L) {\r\n    Log.d(TAG, &quot;Just got triple tap on volume up button!&quot;)\r\n}\r\n\r\noverride fun dispatchKeyEvent(event: KeyEvent): Boolean {\r\n    val action = event.action\r\n    return when (val keyCode = event.keyCode) {\r\n        KeyEvent.KEYCODE_VOLUME_UP -&gt; {\r\n            if (action == KeyEvent.ACTION_UP) {\r\n                doSingleTapAction()\r\n                doubleVolumeUpHandler.submitTap()\r\n                tripleVolumeUpHandler.submitTap()\r\n            }\r\n            true\r\n        }\r\n        else -&gt; super.dispatchKeyEvent(event)\r\n    }\r\n}\r\n```","title":"How to handle press on volume up button in my activity","body":"<p>You could encapsulate the handling of multi-taps in a helper class like this. This class accepts each tap of the button when you call <code>submitTap()</code>, and if the specified number of taps happen within a certain amount of time (<code>withinMillis</code>), then it fires the <code>onMultiTap</code> callback. If it has been too long since the first of the taps it has been counting, it resets its time and counts the latest tap as the first of a new count.</p>\n<pre><code>class MultiTapHandler(\n    val multiTapCount: Int,\n    val withinMillis: Long,\n    var onMultiTap: () -&gt; Unit\n) {\n    init {\n        require(multiTapCount &gt; 1) { &quot;Must have multiTapCount of at least 2.&quot; }\n    }\n\n    private var firstInputTime = 0L\n    private var count = 0\n\n    fun submitTap() {\n        val time = System.currentTimeMillis()\n        when {\n            count == 0 || time - firstInputTime &gt; withinMillis -&gt; {\n                count = 1\n                firstInputTime = time\n            }\n            ++count == multiTapCount -&gt; {\n                count = 0\n                onMultiTap()\n            }\n        }\n    }\n}\n</code></pre>\n<p>So to use it in your code, where you want to do something when there is a triple-tap of the volume button, you would store it in a property with a <code>multiTapCount</code> of 3. You can experiment with values of <code>withinMillis</code> to find what feels right.</p>\n<pre><code>private val tripleVolumeUpHandler = MultiTapHandler(3, 500L) {\n    Log.d(TAG, &quot;Just got triple tap on volume up button!&quot;)\n}\n\noverride fun dispatchKeyEvent(event: KeyEvent): Boolean {\n    val action = event.action\n    return when (val keyCode = event.keyCode) {\n        KeyEvent.KEYCODE_VOLUME_UP -&gt; {\n            if (action == KeyEvent.ACTION_UP) {\n                tripleVolumeUpHandler.submitTap()\n            }\n            true\n        }\n        else -&gt; super.dispatchKeyEvent(event)\n    }\n}\n</code></pre>\n<hr />\n<p>Edit: If you want to handle single, double, and triple taps of the button, you can create a second instance like this:</p>\n<pre><code>private val doubleVolumeUpHandler = MultiTapHandler(2, 250L) {\n    Log.d(TAG, &quot;Just got double tap on volume up button!&quot;)\n}\n\nprivate val tripleVolumeUpHandler = MultiTapHandler(3, 500L) {\n    Log.d(TAG, &quot;Just got triple tap on volume up button!&quot;)\n}\n\noverride fun dispatchKeyEvent(event: KeyEvent): Boolean {\n    val action = event.action\n    return when (val keyCode = event.keyCode) {\n        KeyEvent.KEYCODE_VOLUME_UP -&gt; {\n            if (action == KeyEvent.ACTION_UP) {\n                doSingleTapAction()\n                doubleVolumeUpHandler.submitTap()\n                tripleVolumeUpHandler.submitTap()\n            }\n            true\n        }\n        else -&gt; super.dispatchKeyEvent(event)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24629819,"reputation":23,"user_id":18529181,"display_name":"Ayman Mazra&#39;awi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":71557983,"answer_count":1,"score":1,"last_activity_date":1648038031,"creation_date":1647864870,"question_id":71557480,"body_markdown":"How to handle three presses on volume up button in my activity ?\r\n\r\n```\r\n    override fun dispatchKeyEvent(event: KeyEvent?): Boolean {\r\n        val action = event!!.action\r\n        return when (val keyCode = event.keyCode) {\r\n\r\n            //handle press on volume up button\r\n            KeyEvent.KEYCODE_VOLUME_UP -&gt; {\r\n                if (action == KeyEvent.ACTION_UP) {\r\n                    \r\n                }\r\n                true\r\n            }\r\n else -&gt; super.dispatchKeyEvent(event)\r\n        }\r\n    }\r\n```","title":"How to handle press on volume up button in my activity","body":"<p>How to handle three presses on volume up button in my activity ?</p>\n<pre><code>    override fun dispatchKeyEvent(event: KeyEvent?): Boolean {\n        val action = event!!.action\n        return when (val keyCode = event.keyCode) {\n\n            //handle press on volume up button\n            KeyEvent.KEYCODE_VOLUME_UP -&gt; {\n                if (action == KeyEvent.ACTION_UP) {\n                    \n                }\n                true\n            }\n else -&gt; super.dispatchKeyEvent(event)\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-security","oauth","spring-security-oauth2"],"answers":[{"tags":[],"owner":{"account_id":15841746,"reputation":6011,"user_id":11430047,"display_name":"Eleftheria Stein-Kousathana"},"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1576679900,"creation_date":1576679900,"answer_id":59394341,"question_id":59379645,"body_markdown":"By default, the resource server populates the authorities based on the `&quot;scope&quot;` claim.  \r\nIf the `Jwt` contains a claim with the name `&quot;scope&quot;` or `&quot;scp&quot;`, then Spring Security will use the value in that claim to construct the authorities by prefixing each value with `&quot;SCOPE_&quot;`.  \r\n\r\nIn your example, one of the claims is `scope=[&quot;read&quot;,&quot;write&quot;]`.  \r\nThis means that the authority list will consist of `&quot;SCOPE_read&quot;` and `&quot;SCOPE_write&quot;`. \r\n\r\nYou can modify the default authority mapping behaviour by providing a custom authentication converter in your security configuration.\r\n\r\n```\r\nhttp\r\n\t.authorizeRequests()\r\n\t\t.anyRequest().authenticated()\r\n\t\t.and()\r\n\t.oauth2ResourceServer()\r\n\t\t.jwt()\r\n\t\t\t.jwtAuthenticationConverter(getJwtAuthenticationConverter());\r\n```\r\n\r\nThen in your implementation of `getJwtAuthenticationConverter`, you can configure how the `Jwt` maps to the list of authorities.\r\n\r\n```java\r\nConverter&lt;Jwt, AbstractAuthenticationToken&gt; getJwtAuthenticationConverter() {\r\n\tJwtAuthenticationConverter converter = new JwtAuthenticationConverter();\r\n\tconverter.setJwtGrantedAuthoritiesConverter(jwt -&gt; {\r\n\t\t// custom logic\r\n\t});\r\n\treturn converter;\r\n}\r\n```","title":"Spring Security 5 populating authorities based on JWT claims","body":"<p>By default, the resource server populates the authorities based on the <code>\"scope\"</code> claim.<br>\nIf the <code>Jwt</code> contains a claim with the name <code>\"scope\"</code> or <code>\"scp\"</code>, then Spring Security will use the value in that claim to construct the authorities by prefixing each value with <code>\"SCOPE_\"</code>.  </p>\n\n<p>In your example, one of the claims is <code>scope=[\"read\",\"write\"]</code>.<br>\nThis means that the authority list will consist of <code>\"SCOPE_read\"</code> and <code>\"SCOPE_write\"</code>. </p>\n\n<p>You can modify the default authority mapping behaviour by providing a custom authentication converter in your security configuration.</p>\n\n<pre><code>http\n    .authorizeRequests()\n        .anyRequest().authenticated()\n        .and()\n    .oauth2ResourceServer()\n        .jwt()\n            .jwtAuthenticationConverter(getJwtAuthenticationConverter());\n</code></pre>\n\n<p>Then in your implementation of <code>getJwtAuthenticationConverter</code>, you can configure how the <code>Jwt</code> maps to the list of authorities.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Converter&lt;Jwt, AbstractAuthenticationToken&gt; getJwtAuthenticationConverter() {\n    JwtAuthenticationConverter converter = new JwtAuthenticationConverter();\n    converter.setJwtGrantedAuthoritiesConverter(jwt -&gt; {\n        // custom logic\n    });\n    return converter;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3982757,"reputation":164,"user_id":3284288,"display_name":"przem"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1648037871,"creation_date":1648037871,"answer_id":71587089,"question_id":59379645,"body_markdown":"Add this to your SecurityConfig\r\n\r\n    .jwt()\r\n    .jwtAuthenticationConverter(jwtAuthenticationConverter());\r\n\r\nAnd the converter\r\n\r\n    private JwtAuthenticationConverter jwtAuthenticationConverter() {\r\n        // create a custom JWT converter to map the &quot;roles&quot; from the token as granted authorities\r\n        JwtGrantedAuthoritiesConverter jwtGrantedAuthoritiesConverter = new JwtGrantedAuthoritiesConverter();\r\n        jwtGrantedAuthoritiesConverter.setAuthoritiesClaimName(&quot;roles&quot;);\r\n        jwtGrantedAuthoritiesConverter.setAuthorityPrefix(&quot;ROLE_&quot;);\r\n        JwtAuthenticationConverter jwtAuthenticationConverter = new JwtAuthenticationConverter();\r\n        jwtAuthenticationConverter.setJwtGrantedAuthoritiesConverter(jwtGrantedAuthoritiesConverter);\r\n        return jwtAuthenticationConverter;\r\n      }","title":"Spring Security 5 populating authorities based on JWT claims","body":"<p>Add this to your SecurityConfig</p>\n<pre><code>.jwt()\n.jwtAuthenticationConverter(jwtAuthenticationConverter());\n</code></pre>\n<p>And the converter</p>\n<pre><code>private JwtAuthenticationConverter jwtAuthenticationConverter() {\n    // create a custom JWT converter to map the &quot;roles&quot; from the token as granted authorities\n    JwtGrantedAuthoritiesConverter jwtGrantedAuthoritiesConverter = new JwtGrantedAuthoritiesConverter();\n    jwtGrantedAuthoritiesConverter.setAuthoritiesClaimName(&quot;roles&quot;);\n    jwtGrantedAuthoritiesConverter.setAuthorityPrefix(&quot;ROLE_&quot;);\n    JwtAuthenticationConverter jwtAuthenticationConverter = new JwtAuthenticationConverter();\n    jwtAuthenticationConverter.setJwtGrantedAuthoritiesConverter(jwtGrantedAuthoritiesConverter);\n    return jwtAuthenticationConverter;\n  }\n</code></pre>\n"}],"owner":{"account_id":9710158,"reputation":541,"user_id":7202347,"accept_rate":29,"display_name":"ketrab321"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15876,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":59394341,"answer_count":2,"score":12,"last_activity_date":1648037871,"creation_date":1576605255,"question_id":59379645,"body_markdown":"As I see Spring Security OAuth2.x project was moved to Spring Security 5.2.x. I try to implement authorization and resource server in new way. Everythin is working correctly except one thing - `@PreAuthorize` annotation. When I try to use this with standard `@PreAuthorize(&quot;hasRole(&#39;ROLE_USER&#39;)&quot;)` I always get forbidden. What I see is that the `Principal` object which is type of `org.springframework.security.oauth2.jwt.Jwt` is not able to resolve authorities and I have no idea why.\r\n\r\n    org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationToken@44915f5f: Principal: org.springframework.security.oauth2.jwt.Jwt@2cfdbd3; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@ffffa64e: RemoteIpAddress: 172.19.0.1; SessionId: null; Granted Authorities: SCOPE_read, SCOPE_write\r\n\r\nAnd claims after casting it to `Jwt`\r\n\r\n    {user_name=user, scope=[&quot;read&quot;,&quot;write&quot;], exp=2019-12-18T13:19:29Z, iat=2019-12-18T13:19:28Z, authorities=[&quot;ROLE_USER&quot;,&quot;READ_ONLY&quot;], client_id=sampleClientId}\r\n\r\nSecurity Server Configuration\r\n\r\n    @Configuration\r\n    @EnableAuthorizationServer\r\n    public class AuthorizationServerConfiguration extends AuthorizationServerConfigurerAdapter {\r\n    \r\n      @Autowired\r\n      private DataSource dataSource;\r\n    \r\n      @Autowired\r\n      private AuthenticationManager authenticationManager;\r\n    \r\n      @Bean\r\n      public KeyPair keyPair() {\r\n        ClassPathResource ksFile = new ClassPathResource(&quot;mytest.jks&quot;);\r\n        KeyStoreKeyFactory keyStoreKeyFactory = new KeyStoreKeyFactory(ksFile, &quot;mypass&quot;.toCharArray());\r\n        return keyStoreKeyFactory.getKeyPair(&quot;mytest&quot;);\r\n      }\r\n    \r\n      @Bean\r\n      public JwtAccessTokenConverter accessTokenConverter() {\r\n        JwtAccessTokenConverter converter = new JwtAccessTokenConverter();\r\n        converter.setKeyPair(keyPair());\r\n        return converter;\r\n      }\r\n    \r\n      @Bean\r\n      public JWKSet jwkSet() {\r\n        RSAKey key = new Builder((RSAPublicKey) keyPair().getPublic()).build();\r\n        return new JWKSet(key);\r\n      }\r\n    \r\n      @Bean\r\n      public TokenStore tokenStore() {\r\n        return new JwtTokenStore(accessTokenConverter());\r\n      }\r\n    \r\n      @Override\r\n      public void configure(ClientDetailsServiceConfigurer clients) throws Exception {\r\n        clients.jdbc(dataSource);\r\n      }\r\n    \r\n      @Override\r\n      public void configure(AuthorizationServerEndpointsConfigurer endpoints) {\r\n        endpoints.tokenStore(tokenStore())\r\n            .accessTokenConverter(accessTokenConverter())\r\n            .authenticationManager(authenticationManager);\r\n      }\r\n    \r\n      @Override\r\n      public void configure(AuthorizationServerSecurityConfigurer security) {\r\n        security.tokenKeyAccess(&quot;permitAll()&quot;)\r\n            .checkTokenAccess(&quot;isAuthenticated()&quot;);\r\n      }\r\n    }\r\n\r\n    @EnableWebSecurity\r\n    public class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n    \r\n      private UserDetailsService userDetailsService;\r\n    \r\n      public SecurityConfiguration(UserDetailsService userDetailsService) {\r\n        this.userDetailsService = userDetailsService;\r\n      }\r\n    \r\n      @Override\r\n      protected void configure(HttpSecurity http) throws Exception {\r\n        http.authorizeRequests()\r\n                .mvcMatchers(&quot;/.well-known/jwks.json&quot;)\r\n                .permitAll()\r\n                .anyRequest()\r\n                .authenticated();\r\n      }\r\n    \r\n      @Bean\r\n      public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n      }\r\n    \r\n      @Bean\r\n      @Override\r\n      public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n      }\r\n    \r\n      @Override\r\n      protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\r\n      }\r\n    }\r\n\r\nResource server configuration\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class ResuorceServerConfiguration extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.authorizeRequests()\r\n                    .anyRequest()\r\n                    .authenticated()\r\n                    .and()\r\n                    .oauth2ResourceServer()\r\n                    .jwt();\r\n        }\r\n    }\r\nMaybe someone had similar issue?","title":"Spring Security 5 populating authorities based on JWT claims","body":"<p>As I see Spring Security OAuth2.x project was moved to Spring Security 5.2.x. I try to implement authorization and resource server in new way. Everythin is working correctly except one thing - <code>@PreAuthorize</code> annotation. When I try to use this with standard <code>@PreAuthorize(\"hasRole('ROLE_USER')\")</code> I always get forbidden. What I see is that the <code>Principal</code> object which is type of <code>org.springframework.security.oauth2.jwt.Jwt</code> is not able to resolve authorities and I have no idea why.</p>\n\n<pre><code>org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationToken@44915f5f: Principal: org.springframework.security.oauth2.jwt.Jwt@2cfdbd3; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@ffffa64e: RemoteIpAddress: 172.19.0.1; SessionId: null; Granted Authorities: SCOPE_read, SCOPE_write\n</code></pre>\n\n<p>And claims after casting it to <code>Jwt</code></p>\n\n<pre><code>{user_name=user, scope=[\"read\",\"write\"], exp=2019-12-18T13:19:29Z, iat=2019-12-18T13:19:28Z, authorities=[\"ROLE_USER\",\"READ_ONLY\"], client_id=sampleClientId}\n</code></pre>\n\n<p>Security Server Configuration</p>\n\n<pre><code>@Configuration\n@EnableAuthorizationServer\npublic class AuthorizationServerConfiguration extends AuthorizationServerConfigurerAdapter {\n\n  @Autowired\n  private DataSource dataSource;\n\n  @Autowired\n  private AuthenticationManager authenticationManager;\n\n  @Bean\n  public KeyPair keyPair() {\n    ClassPathResource ksFile = new ClassPathResource(\"mytest.jks\");\n    KeyStoreKeyFactory keyStoreKeyFactory = new KeyStoreKeyFactory(ksFile, \"mypass\".toCharArray());\n    return keyStoreKeyFactory.getKeyPair(\"mytest\");\n  }\n\n  @Bean\n  public JwtAccessTokenConverter accessTokenConverter() {\n    JwtAccessTokenConverter converter = new JwtAccessTokenConverter();\n    converter.setKeyPair(keyPair());\n    return converter;\n  }\n\n  @Bean\n  public JWKSet jwkSet() {\n    RSAKey key = new Builder((RSAPublicKey) keyPair().getPublic()).build();\n    return new JWKSet(key);\n  }\n\n  @Bean\n  public TokenStore tokenStore() {\n    return new JwtTokenStore(accessTokenConverter());\n  }\n\n  @Override\n  public void configure(ClientDetailsServiceConfigurer clients) throws Exception {\n    clients.jdbc(dataSource);\n  }\n\n  @Override\n  public void configure(AuthorizationServerEndpointsConfigurer endpoints) {\n    endpoints.tokenStore(tokenStore())\n        .accessTokenConverter(accessTokenConverter())\n        .authenticationManager(authenticationManager);\n  }\n\n  @Override\n  public void configure(AuthorizationServerSecurityConfigurer security) {\n    security.tokenKeyAccess(\"permitAll()\")\n        .checkTokenAccess(\"isAuthenticated()\");\n  }\n}\n\n@EnableWebSecurity\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n  private UserDetailsService userDetailsService;\n\n  public SecurityConfiguration(UserDetailsService userDetailsService) {\n    this.userDetailsService = userDetailsService;\n  }\n\n  @Override\n  protected void configure(HttpSecurity http) throws Exception {\n    http.authorizeRequests()\n            .mvcMatchers(\"/.well-known/jwks.json\")\n            .permitAll()\n            .anyRequest()\n            .authenticated();\n  }\n\n  @Bean\n  public PasswordEncoder passwordEncoder() {\n    return new BCryptPasswordEncoder();\n  }\n\n  @Bean\n  @Override\n  public AuthenticationManager authenticationManagerBean() throws Exception {\n    return super.authenticationManagerBean();\n  }\n\n  @Override\n  protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n    auth.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\n  }\n}\n</code></pre>\n\n<p>Resource server configuration</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class ResuorceServerConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .oauth2ResourceServer()\n                .jwt();\n    }\n}\n</code></pre>\n\n<p>Maybe someone had similar issue?</p>\n"},{"tags":["java","spring","amazon-web-services","amazon-s3","log4j"],"comments":[{"owner":{"account_id":1213999,"reputation":799,"user_id":1181958,"accept_rate":50,"display_name":"Prasoon Joshi"},"score":0,"creation_date":1417174844,"post_id":27186137,"comment_id":42862223,"body_markdown":"Did you try s3://path/to/bucket ?","body":"Did you try s3://path/to/bucket ?"},{"owner":{"account_id":1310598,"reputation":153,"user_id":1258668,"accept_rate":40,"display_name":"Santhosh Raj"},"score":0,"creation_date":1417186007,"post_id":27186137,"comment_id":42868160,"body_markdown":"Yes, I tried that Prasoon, with no luck.","body":"Yes, I tried that Prasoon, with no luck."},{"owner":{"account_id":1213999,"reputation":799,"user_id":1181958,"accept_rate":50,"display_name":"Prasoon Joshi"},"score":0,"creation_date":1417405238,"post_id":27186137,"comment_id":42921561,"body_markdown":"I think only paths relative to the machine you are in would work for the log files. What you can do is write a small utility that copies the logs to the S3 bucket.","body":"I think only paths relative to the machine you are in would work for the log files. What you can do is write a small utility that copies the logs to the S3 bucket."},{"owner":{"account_id":1748089,"reputation":730,"user_id":1597814,"display_name":"Meiyappan Kannappa"},"score":0,"creation_date":1541759493,"post_id":27186137,"comment_id":93334852,"body_markdown":"Hi Santhosh, Did you able to make it work. If so could you share how you did it","body":"Hi Santhosh, Did you able to make it work. If so could you share how you did it"}],"answers":[{"tags":[],"owner":{"account_id":3538238,"reputation":2841,"user_id":2955996,"accept_rate":100,"display_name":"ashokramcse"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1461139646,"creation_date":1417417898,"answer_id":27223347,"question_id":27186137,"body_markdown":"&gt; Log file should also get stored in a different path in cloud, say Amazon S3.\r\n\r\nI am sure that you cannot log your info directly to S3. It is a costlier process. First you have to log in EC2 instance and then you have to sync to sync your log you can use LogRotate.\r\n\r\nTo Store your log in S3 refer [logrotate apache logs to amazon S3][1].\r\n\r\n  [1]: https://lustforge.com/2012/07/15/logrotate-apache-logs-to-amazon-s3/","title":"Storing log file in AWS S3 from Spring boot application","body":"<blockquote>\n  <p>Log file should also get stored in a different path in cloud, say Amazon S3.</p>\n</blockquote>\n\n<p>I am sure that you cannot log your info directly to S3. It is a costlier process. First you have to log in EC2 instance and then you have to sync to sync your log you can use LogRotate.</p>\n\n<p>To Store your log in S3 refer <a href=\"https://lustforge.com/2012/07/15/logrotate-apache-logs-to-amazon-s3/\" rel=\"nofollow\">logrotate apache logs to amazon S3</a>.</p>\n"},{"tags":[],"owner":{"account_id":1310598,"reputation":153,"user_id":1258668,"accept_rate":40,"display_name":"Santhosh Raj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1541849503,"creation_date":1541849503,"answer_id":53238509,"question_id":27186137,"body_markdown":"I was able to resolve this by storing the log files in a Amazon EC2 location where your web server is installed.\r\nI was storing in Amazon EC2 instance as my web server was hosted there. You can choose our own location.\r\nAnd then wrote a cron job inside my Spring boot application itself to copy these files from Amazon EC2 to Amazon S3 once in every 24 hours.","title":"Storing log file in AWS S3 from Spring boot application","body":"<p>I was able to resolve this by storing the log files in a Amazon EC2 location where your web server is installed.\nI was storing in Amazon EC2 instance as my web server was hosted there. You can choose our own location.\nAnd then wrote a cron job inside my Spring boot application itself to copy these files from Amazon EC2 to Amazon S3 once in every 24 hours.</p>\n"},{"tags":[],"owner":{"account_id":1310598,"reputation":153,"user_id":1258668,"accept_rate":40,"display_name":"Santhosh Raj"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1588743662,"creation_date":1588743662,"answer_id":61628151,"question_id":27186137,"body_markdown":"        import com.amazonaws.services.s3.AmazonS3;\r\n        import com.amazonaws.services.s3.model.PutObjectRequest;\r\n        import org.springframework.core.env.Environment;\r\n        import org.springframework.scheduling.annotation.EnableScheduling;\r\n        import org.springframework.scheduling.annotation.Scheduled;\r\n    \r\n    \r\n    @Autowired\r\n        private AmazonS3 s3Client;\r\n    @Scheduled(cron = &quot;0 5 1 * * *&quot;)\r\n    public void moveLogsFromEC2ToS3() {\r\n        try {\r\n            File logsDir = new File(env.getProperty(&quot;AWS_EC2_LOG_PATH&quot;));\r\n            for (File logFile : logsDir.listFiles()) {\r\n                String fileName = logFile.getName();\r\n                if (fileName.endsWith(&quot;.log&quot;)) {\r\n                    s3Client.putObject(new PutObjectRequest(env.getProperty(&quot;AWS_S3_LOGS_BUCKET_NAME&quot;), fileName, logFile));\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            logger.error(&quot;Error in moving log files! : {}&quot;, e);\r\n        }\r\n    }\r\n","title":"Storing log file in AWS S3 from Spring boot application","body":"<pre><code>    import com.amazonaws.services.s3.AmazonS3;\n    import com.amazonaws.services.s3.model.PutObjectRequest;\n    import org.springframework.core.env.Environment;\n    import org.springframework.scheduling.annotation.EnableScheduling;\n    import org.springframework.scheduling.annotation.Scheduled;\n\n\n@Autowired\n    private AmazonS3 s3Client;\n@Scheduled(cron = \"0 5 1 * * *\")\npublic void moveLogsFromEC2ToS3() {\n    try {\n        File logsDir = new File(env.getProperty(\"AWS_EC2_LOG_PATH\"));\n        for (File logFile : logsDir.listFiles()) {\n            String fileName = logFile.getName();\n            if (fileName.endsWith(\".log\")) {\n                s3Client.putObject(new PutObjectRequest(env.getProperty(\"AWS_S3_LOGS_BUCKET_NAME\"), fileName, logFile));\n            }\n        }\n    } catch (Exception e) {\n        logger.error(\"Error in moving log files! : {}\", e);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5107148,"reputation":106,"user_id":4094902,"display_name":"Nilay Shah"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648037552,"creation_date":1648037552,"answer_id":71587015,"question_id":27186137,"body_markdown":"Although user has mentioned log4j, in case someone is using logback, they could use this library. \r\n[https://github.com/link-nv/logback-s3-rolling-policy][1]\r\n\r\n```\r\nlogback-s3-rolling-policy automatically uploads rolled log files to S3.\r\n\r\nThere are 2 rolling policies which can be used:\r\n\r\n- S3FixedWindowRollingPolicy\r\n- S3TimeBasedRollingPolicy\r\n```\r\n\r\nUser would need to use these Rolling policies in their `RollingFileAppender` configuraiton\r\n\r\nExample:\r\n\r\n```\r\n&lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n  &lt;file&gt;logs/myapp.log&lt;/file&gt;\r\n  &lt;encoder&gt;\r\n    &lt;pattern&gt;[%d] %-8relative %22c{0} [%-5level] %msg%xEx{3}%n&lt;/pattern&gt;\r\n  &lt;/encoder&gt;\r\n  &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.S3FixedWindowRollingPolicy&quot;&gt;\r\n    &lt;fileNamePattern&gt;logs/myapp.%i.log.gz&lt;/fileNamePattern&gt;\r\n    &lt;awsAccessKey&gt;ACCESS_KEY&lt;/awsAccessKey&gt;\r\n    &lt;awsSecretKey&gt;SECRET_KEY&lt;/awsSecretKey&gt;\r\n    &lt;s3BucketName&gt;myapp-logging&lt;/s3BucketName&gt;\r\n    &lt;s3FolderName&gt;logs/%d{yyyy/MM/dd}&lt;/s3FolderName&gt;\r\n    &lt;rolloverOnExit&gt;true&lt;/rolloverOnExit&gt;\r\n    &lt;shutdownHookType&gt;SERVLET_CONTEXT&lt;/shutdownHookType&gt;\r\n    &lt;prefixTimestamp&gt;true&lt;/prefixTimestamp&gt;\r\n    &lt;prefixIdentifier&gt;true&lt;/prefixIdentifier&gt;\r\n  &lt;/rollingPolicy&gt;\r\n  &lt;triggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy&quot;&gt;\r\n    &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;\r\n  &lt;/triggeringPolicy&gt;\r\n&lt;/appender&gt;\r\n\r\n```\r\n\r\n\r\n  [1]: https://github.com/link-nv/logback-s3-rolling-policy","title":"Storing log file in AWS S3 from Spring boot application","body":"<p>Although user has mentioned log4j, in case someone is using logback, they could use this library.\n<a href=\"https://github.com/link-nv/logback-s3-rolling-policy\" rel=\"nofollow noreferrer\">https://github.com/link-nv/logback-s3-rolling-policy</a></p>\n<pre><code>logback-s3-rolling-policy automatically uploads rolled log files to S3.\n\nThere are 2 rolling policies which can be used:\n\n- S3FixedWindowRollingPolicy\n- S3TimeBasedRollingPolicy\n</code></pre>\n<p>User would need to use these Rolling policies in their <code>RollingFileAppender</code> configuraiton</p>\n<p>Example:</p>\n<pre><code>&lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n  &lt;file&gt;logs/myapp.log&lt;/file&gt;\n  &lt;encoder&gt;\n    &lt;pattern&gt;[%d] %-8relative %22c{0} [%-5level] %msg%xEx{3}%n&lt;/pattern&gt;\n  &lt;/encoder&gt;\n  &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.S3FixedWindowRollingPolicy&quot;&gt;\n    &lt;fileNamePattern&gt;logs/myapp.%i.log.gz&lt;/fileNamePattern&gt;\n    &lt;awsAccessKey&gt;ACCESS_KEY&lt;/awsAccessKey&gt;\n    &lt;awsSecretKey&gt;SECRET_KEY&lt;/awsSecretKey&gt;\n    &lt;s3BucketName&gt;myapp-logging&lt;/s3BucketName&gt;\n    &lt;s3FolderName&gt;logs/%d{yyyy/MM/dd}&lt;/s3FolderName&gt;\n    &lt;rolloverOnExit&gt;true&lt;/rolloverOnExit&gt;\n    &lt;shutdownHookType&gt;SERVLET_CONTEXT&lt;/shutdownHookType&gt;\n    &lt;prefixTimestamp&gt;true&lt;/prefixTimestamp&gt;\n    &lt;prefixIdentifier&gt;true&lt;/prefixIdentifier&gt;\n  &lt;/rollingPolicy&gt;\n  &lt;triggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy&quot;&gt;\n    &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;\n  &lt;/triggeringPolicy&gt;\n&lt;/appender&gt;\n\n</code></pre>\n"}],"owner":{"account_id":1310598,"reputation":153,"user_id":1258668,"accept_rate":40,"display_name":"Santhosh Raj"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9417,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":61628151,"answer_count":4,"score":7,"last_activity_date":1648037552,"creation_date":1417168831,"question_id":27186137,"body_markdown":"I am building a Spring-boot application where in all the logging is stored in a specified path in log4j.properties.\r\n\r\nI am hosting this application on AWS Beanstalk.\r\n\r\nOnce I host the application on the AWS, the specified path for the log file will become invalid.\r\n\r\nHow can I resolve this issue where in the log file should also get stored in a different path in cloud, say Amazon S3, but not on server as the log file takes considerable amount of size.\r\n\r\n    log4j.appender.file.File=/my_log.log\r\n\r\nHow can I change the above line to store the &quot;my_log.log&quot; in AWS S3?","title":"Storing log file in AWS S3 from Spring boot application","body":"<p>I am building a Spring-boot application where in all the logging is stored in a specified path in log4j.properties.</p>\n\n<p>I am hosting this application on AWS Beanstalk.</p>\n\n<p>Once I host the application on the AWS, the specified path for the log file will become invalid.</p>\n\n<p>How can I resolve this issue where in the log file should also get stored in a different path in cloud, say Amazon S3, but not on server as the log file takes considerable amount of size.</p>\n\n<pre><code>log4j.appender.file.File=/my_log.log\n</code></pre>\n\n<p>How can I change the above line to store the \"my_log.log\" in AWS S3?</p>\n"},{"tags":["java","rest","jax-rs"],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648037409,"creation_date":1648037409,"answer_id":71586985,"question_id":71586723,"body_markdown":"&gt;  I know I can call the method of the other endpoint directly. Is it\r\n&gt; rational?\r\n\r\nYes, this is perfectly fine where in your code behind one request you will call a method of some class that is used for serving some other request. There is no need to send extra HTTP request unless you have a specific need for invocation of that method to be triggered by HTTP request","title":"Is there any method to call another endpoint from same API","body":"<blockquote>\n<p>I know I can call the method of the other endpoint directly. Is it\nrational?</p>\n</blockquote>\n<p>Yes, this is perfectly fine where in your code behind one request you will call a method of some class that is used for serving some other request. There is no need to send extra HTTP request unless you have a specific need for invocation of that method to be triggered by HTTP request</p>\n"}],"owner":{"account_id":4237332,"reputation":1500,"user_id":3468135,"accept_rate":50,"display_name":"stuck"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1834,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71586985,"answer_count":1,"score":1,"last_activity_date":1648037409,"creation_date":1648036260,"question_id":71586723,"body_markdown":"I have a Java JAX-RS REST service which has many endpoints, let&#39;s say:\r\n\r\n    ...\r\n    POST /api/ops/create\r\n    GET /api/items\r\n    ...\r\n\r\nBoth of them served under same war file, so if I want to reach them from a client I am using following URLs:\r\n\r\n    POST http://server.domain.com:8080/the_war_file/api/ops/create\r\n\r\n    POST http://server.domain.com:8080/the_war_file/api/items\r\n\r\nWell, the question begins here. I want to access the **GET endpoint** from **the code behind the POST endpoint.**\r\n\r\nIn other words, I want to send a GET request when I am operating the POST request.\r\n\r\nOf course, I can send the request to the full URL with server, port and name of the war file.\r\nHowever, it seems wrong, because I am already in the war file.\r\n\r\nOr, I know I can call the method of the other endpoint directly. Is it rational?\r\n\r\nSo, are there any efficient methods/solutions to call different endpoint in the same war file? (Like routing etc.)\r\n","title":"Is there any method to call another endpoint from same API","body":"<p>I have a Java JAX-RS REST service which has many endpoints, let's say:</p>\n<pre><code>...\nPOST /api/ops/create\nGET /api/items\n...\n</code></pre>\n<p>Both of them served under same war file, so if I want to reach them from a client I am using following URLs:</p>\n<pre><code>POST http://server.domain.com:8080/the_war_file/api/ops/create\n\nPOST http://server.domain.com:8080/the_war_file/api/items\n</code></pre>\n<p>Well, the question begins here. I want to access the <strong>GET endpoint</strong> from <strong>the code behind the POST endpoint.</strong></p>\n<p>In other words, I want to send a GET request when I am operating the POST request.</p>\n<p>Of course, I can send the request to the full URL with server, port and name of the war file.\nHowever, it seems wrong, because I am already in the war file.</p>\n<p>Or, I know I can call the method of the other endpoint directly. Is it rational?</p>\n<p>So, are there any efficient methods/solutions to call different endpoint in the same war file? (Like routing etc.)</p>\n"},{"tags":["java","http","browser","https","netbeans"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1648037273,"post_id":71586819,"comment_id":126521423,"body_markdown":"The college server seems to want to use TLS v1.0, while even v1.1 is not something Java supports (out of the box) anymore, the default being v1.3.","body":"The college server seems to want to use TLS v1.0, while even v1.1 is not something Java supports (out of the box) anymore, the default being v1.3."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1648039633,"post_id":71586819,"comment_id":126522312,"body_markdown":"[1] The JDK now disables TLS 1.0 and 1.1 by default. See [JDK-8202343 : Disable TLS 1.0 and 1.1](https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8202343). [2] The workarounds would be to use a version of JDK 8 or JDK 11 that hasn&#39;t implemented that fix (not good), or by messing with **java.security**. See the section titled &quot;How do I re-enable TLS1.0 and TLS1.1...&quot; in [this article](https://aws.amazon.com/blogs/opensource/tls-1-0-1-1-changes-in-openjdk-and-amazon-corretto/). [3] Once you resolve this, please be sure to post an answer with your solution. That helps the SO community.","body":"[1] The JDK now disables TLS 1.0 and 1.1 by default. See <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8202343\" rel=\"nofollow noreferrer\">JDK-8202343 : Disable TLS 1.0 and 1.1</a>. [2] The workarounds would be to use a version of JDK 8 or JDK 11 that hasn&#39;t implemented that fix (not good), or by messing with <b>java.security</b>. See the section titled &quot;How do I re-enable TLS1.0 and TLS1.1...&quot; in <a href=\"https://aws.amazon.com/blogs/opensource/tls-1-0-1-1-changes-in-openjdk-and-amazon-corretto/\" rel=\"nofollow noreferrer\">this article</a>. [3] Once you resolve this, please be sure to post an answer with your solution. That helps the SO community."},{"owner":{"account_id":17763259,"reputation":11,"user_id":12898787,"display_name":"RuSY"},"score":0,"creation_date":1648041675,"post_id":71586819,"comment_id":126523173,"body_markdown":"@skomisa is there any option in which i can enable TLS1.0 and TLS1.1 from program code? because if i share my project with my classmates they will have to do the whole process in their pc so is there any other option?","body":"@skomisa is there any option in which i can enable TLS1.0 and TLS1.1 from program code? because if i share my project with my classmates they will have to do the whole process in their pc so is there any other option?"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1648046286,"post_id":71586819,"comment_id":126525437,"body_markdown":"If patch JDK8202343 has been applied I don&#39;t think you could enable TLS 1.0/1.1 dynamically from application code. You&#39;d have to configure it using **java.security**. But if that patch hadn&#39;t been applied (e.g. If using a release of JRE 8 prior to update 291) you could call `setEnabledProtocols()` for `SSLEngine` or `SSLSocket` in your code. But that would require you and your classmates to be using a less secure version of the JRE which would not be good, even if it helped you with this specific issue. Unfortunately, I don&#39;t see a clean and easy solution to your problem.","body":"If patch JDK8202343 has been applied I don&#39;t think you could enable TLS 1.0/1.1 dynamically from application code. You&#39;d have to configure it using <b>java.security</b>. But if that patch hadn&#39;t been applied (e.g. If using a release of JRE 8 prior to update 291) you could call <code>setEnabledProtocols()</code> for <code>SSLEngine</code> or <code>SSLSocket</code> in your code. But that would require you and your classmates to be using a less secure version of the JRE which would not be good, even if it helped you with this specific issue. Unfortunately, I don&#39;t see a clean and easy solution to your problem."}],"owner":{"account_id":17763259,"reputation":11,"user_id":12898787,"display_name":"RuSY"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648036720,"creation_date":1648036720,"question_id":71586819,"body_markdown":"i am building a web browser in order to access websites not having secure protocol in it. actually my college website doesnt have a secure protocol so i want to develop a web browser of my own so i can access my college website easily.\r\n\r\ni am getting following error when i try to access my college website\r\n\r\n    javax.net.ssl.SSLHandshakeException: The server selected protocol version TLS10 is not accepted by client preferences [TLS12]\r\n\tat sun.security.ssl.Alert.createSSLException(Alert.java:131)\r\n\tat sun.security.ssl.Alert.createSSLException(Alert.java:117)\r\n\tat sun.security.ssl.TransportContext.fatal(TransportContext.java:357)\r\n\tat sun.security.ssl.TransportContext.fatal(TransportContext.java:313)\r\n\tat sun.security.ssl.TransportContext.fatal(TransportContext.java:304)\r\n\tat sun.security.ssl.ServerHello$ServerHelloConsumer.onServerHello(ServerHello.java:946)\r\n\tat sun.security.ssl.ServerHello$ServerHelloConsumer.consume(ServerHello.java:873)\r\n\tat sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:376)\r\n\tat sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:479)\r\n\tat sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:457)\r\n\tat sun.security.ssl.TransportContext.dispatch(TransportContext.java:200)\r\n\tat sun.security.ssl.SSLTransport.decode(SSLTransport.java:154)\r\n\tat sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1290)\r\n\tat sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1199)\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:401)\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:373)\r\n\tat sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:587)\r\n\tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:197)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1570)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1498)\r\n\tat java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:480)\r\n\tat sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:352)\r\n\tat javax.swing.JEditorPane.getStream(JEditorPane.java:733)\r\n\tat javax.swing.JEditorPane.setPage(JEditorPane.java:432)\r\n\tat javax.swing.JEditorPane.setPage(JEditorPane.java:880)\r\n\tat insecurebrowser.BrowserScreen.enterURL(BrowserScreen.java:165)\r\n\tat insecurebrowser.BrowserScreen.lambda$new$0(BrowserScreen.java:24)\r\n\tat javax.swing.JTextField.fireActionPerformed(JTextField.java:508)\r\n\tat javax.swing.JTextField.postActionEvent(JTextField.java:721)\r\n\tat javax.swing.JTextField$NotifyAction.actionPerformed(JTextField.java:836)\r\n\tat javax.swing.SwingUtilities.notifyAction(SwingUtilities.java:1668)\r\n\tat javax.swing.JComponent.processKeyBinding(JComponent.java:2882)\r\n\tat javax.swing.JComponent.processKeyBindings(JComponent.java:2929)\r\n\tat javax.swing.JComponent.processKeyEvent(JComponent.java:2845)\r\n\tat java.awt.Component.processEvent(Component.java:6316)\r\n\tat java.awt.Container.processEvent(Container.java:2239)\r\n\tat java.awt.Component.dispatchEventImpl(Component.java:4889)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2297)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4711)\r\n\tat java.awt.KeyboardFocusManager.redispatchEvent(KeyboardFocusManager.java:1954)\r\n\tat java.awt.DefaultKeyboardFocusManager.dispatchKeyEvent(DefaultKeyboardFocusManager.java:835)\r\n\tat java.awt.DefaultKeyboardFocusManager.preDispatchKeyEvent(DefaultKeyboardFocusManager.java:1103)\r\n\tat java.awt.DefaultKeyboardFocusManager.typeAheadAssertions(DefaultKeyboardFocusManager.java:974)\r\n\tat java.awt.DefaultKeyboardFocusManager.dispatchEvent(DefaultKeyboardFocusManager.java:800)\r\n\tat java.awt.Component.dispatchEventImpl(Component.java:4760)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2297)\r\n\tat java.awt.Window.dispatchEventImpl(Window.java:2746)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4711)\r\n\tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:760)\r\n\tat java.awt.EventQueue.access$500(EventQueue.java:97)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:709)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:703)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:84)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:733)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:731)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\r\n\tat java.awt.EventQueue.dispatchEvent(EventQueue.java:730)\r\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:205)\r\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\r\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\r\n\tat java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\r\n\r\n\r\nhere is the java code i have written.\r\n\r\n    public class BrowserScreen extends javax.swing.JFrame {\r\n\r\n    /**\r\n     * Creates new form BrowserScreen\r\n     */\r\n    public BrowserScreen() {\r\n        initComponents();\r\n        addressField.addActionListener((ActionEvent e) -&gt; {\r\n            enterURL(e.getActionCommand());\r\n        });\r\n        \r\n        browserPane.addHyperlinkListener((HyperlinkEvent e) -&gt; {\r\n            if(e.getEventType() == HyperlinkEvent.EventType.ACTIVATED){\r\n                enterURL(e.getURL().toString());\r\n            }\r\n        });\r\n        \r\n        refreshButton.addActionListener((ActionEvent e) -&gt; {\r\n            enterURL(addressField.getText());\r\n        });\r\n    }\r\n\r\n    /**\r\n     * This method is called from within the constructor to initialize the form.\r\n     * WARNING: Do NOT modify this code. The content of this method is always\r\n     * regenerated by the Form Editor.\r\n     */\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \r\n    private void initComponents() {\r\n\r\n        jPanel1 = new javax.swing.JPanel();\r\n        addressField = new javax.swing.JTextField();\r\n        refreshButton = new javax.swing.JButton();\r\n        jPanel2 = new javax.swing.JPanel();\r\n        jScrollPane1 = new javax.swing.JScrollPane();\r\n        browserPane = new javax.swing.JEditorPane();\r\n\r\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n\r\n        jPanel1.setBorder(javax.swing.BorderFactory.createEtchedBorder());\r\n\r\n        addressField.setText(&quot;URL&quot;);\r\n\r\n        refreshButton.setText(&quot;Refresh&quot;);\r\n\r\n        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);\r\n        jPanel1.setLayout(jPanel1Layout);\r\n        jPanel1Layout.setHorizontalGroup(\r\n            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(jPanel1Layout.createSequentialGroup()\r\n                .addContainerGap()\r\n                .addComponent(addressField, javax.swing.GroupLayout.PREFERRED_SIZE, 625, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                .addComponent(refreshButton)\r\n                .addContainerGap(14, Short.MAX_VALUE))\r\n        );\r\n        jPanel1Layout.setVerticalGroup(\r\n            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()\r\n                .addContainerGap()\r\n                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                    .addComponent(addressField)\r\n                    .addComponent(refreshButton, javax.swing.GroupLayout.DEFAULT_SIZE, 32, Short.MAX_VALUE))\r\n                .addContainerGap())\r\n        );\r\n\r\n        jPanel2.setBorder(javax.swing.BorderFactory.createEtchedBorder());\r\n\r\n        jScrollPane1.setViewportView(browserPane);\r\n\r\n        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);\r\n        jPanel2.setLayout(jPanel2Layout);\r\n        jPanel2Layout.setHorizontalGroup(\r\n            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()\r\n                .addContainerGap()\r\n                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE)\r\n                .addContainerGap())\r\n        );\r\n        jPanel2Layout.setVerticalGroup(\r\n            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()\r\n                .addContainerGap()\r\n                .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 397, Short.MAX_VALUE)\r\n                .addContainerGap())\r\n        );\r\n\r\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\r\n        getContentPane().setLayout(layout);\r\n        layout.setHorizontalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(layout.createSequentialGroup()\r\n                .addContainerGap()\r\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                    .addComponent(jPanel2, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                    .addComponent(jPanel1, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\r\n                .addContainerGap())\r\n        );\r\n        layout.setVerticalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(layout.createSequentialGroup()\r\n                .addContainerGap()\r\n                .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)\r\n                .addComponent(jPanel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                .addContainerGap())\r\n        );\r\n\r\n        pack();\r\n    }// &lt;/editor-fold&gt;                        \r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String args[]) {\r\n        /* Set the Nimbus look and feel */\r\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\r\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\r\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \r\n         */\r\n        try {\r\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\r\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\r\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\r\n                    break;\r\n                }\r\n            }\r\n        } catch (ClassNotFoundException ex) {\r\n            java.util.logging.Logger.getLogger(BrowserScreen.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (InstantiationException ex) {\r\n            java.util.logging.Logger.getLogger(BrowserScreen.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (IllegalAccessException ex) {\r\n            java.util.logging.Logger.getLogger(BrowserScreen.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\r\n            java.util.logging.Logger.getLogger(BrowserScreen.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        }\r\n        //&lt;/editor-fold&gt;\r\n\r\n        /* Create and display the form */\r\n        java.awt.EventQueue.invokeLater(new Runnable() {\r\n            public void run() {\r\n                new BrowserScreen().setVisible(true);\r\n            }\r\n        });\r\n    }\r\n    \r\n    private void enterURL(String url){\r\n        try{\r\n            browserPane.setPage(url);\r\n            addressField.setText(url);\r\n        } catch(Exception e)\r\n        {\r\n            JOptionPane.showMessageDialog(null,&quot;Not a valid url&quot;);\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    \r\n\r\n    // Variables declaration - do not modify                     \r\n    private javax.swing.JTextField addressField;\r\n    private javax.swing.JEditorPane browserPane;\r\n    private javax.swing.JPanel jPanel1;\r\n    private javax.swing.JPanel jPanel2;\r\n    private javax.swing.JScrollPane jScrollPane1;\r\n    private javax.swing.JButton refreshButton;\r\n    // End of variables declaration                   \r\n}\r\n\r\n\r\n","title":"how to bypass/disable SSLHandshake in java netbeans?","body":"<p>i am building a web browser in order to access websites not having secure protocol in it. actually my college website doesnt have a secure protocol so i want to develop a web browser of my own so i can access my college website easily.</p>\n<p>i am getting following error when i try to access my college website</p>\n<pre><code>javax.net.ssl.SSLHandshakeException: The server selected protocol version TLS10 is not accepted by client preferences [TLS12]\nat sun.security.ssl.Alert.createSSLException(Alert.java:131)\nat sun.security.ssl.Alert.createSSLException(Alert.java:117)\nat sun.security.ssl.TransportContext.fatal(TransportContext.java:357)\nat sun.security.ssl.TransportContext.fatal(TransportContext.java:313)\nat sun.security.ssl.TransportContext.fatal(TransportContext.java:304)\nat sun.security.ssl.ServerHello$ServerHelloConsumer.onServerHello(ServerHello.java:946)\nat sun.security.ssl.ServerHello$ServerHelloConsumer.consume(ServerHello.java:873)\nat sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:376)\nat sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:479)\nat sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:457)\nat sun.security.ssl.TransportContext.dispatch(TransportContext.java:200)\nat sun.security.ssl.SSLTransport.decode(SSLTransport.java:154)\nat sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1290)\nat sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1199)\nat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:401)\nat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:373)\nat sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:587)\nat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:197)\nat sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1570)\nat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1498)\nat java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:480)\nat sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:352)\nat javax.swing.JEditorPane.getStream(JEditorPane.java:733)\nat javax.swing.JEditorPane.setPage(JEditorPane.java:432)\nat javax.swing.JEditorPane.setPage(JEditorPane.java:880)\nat insecurebrowser.BrowserScreen.enterURL(BrowserScreen.java:165)\nat insecurebrowser.BrowserScreen.lambda$new$0(BrowserScreen.java:24)\nat javax.swing.JTextField.fireActionPerformed(JTextField.java:508)\nat javax.swing.JTextField.postActionEvent(JTextField.java:721)\nat javax.swing.JTextField$NotifyAction.actionPerformed(JTextField.java:836)\nat javax.swing.SwingUtilities.notifyAction(SwingUtilities.java:1668)\nat javax.swing.JComponent.processKeyBinding(JComponent.java:2882)\nat javax.swing.JComponent.processKeyBindings(JComponent.java:2929)\nat javax.swing.JComponent.processKeyEvent(JComponent.java:2845)\nat java.awt.Component.processEvent(Component.java:6316)\nat java.awt.Container.processEvent(Container.java:2239)\nat java.awt.Component.dispatchEventImpl(Component.java:4889)\nat java.awt.Container.dispatchEventImpl(Container.java:2297)\nat java.awt.Component.dispatchEvent(Component.java:4711)\nat java.awt.KeyboardFocusManager.redispatchEvent(KeyboardFocusManager.java:1954)\nat java.awt.DefaultKeyboardFocusManager.dispatchKeyEvent(DefaultKeyboardFocusManager.java:835)\nat java.awt.DefaultKeyboardFocusManager.preDispatchKeyEvent(DefaultKeyboardFocusManager.java:1103)\nat java.awt.DefaultKeyboardFocusManager.typeAheadAssertions(DefaultKeyboardFocusManager.java:974)\nat java.awt.DefaultKeyboardFocusManager.dispatchEvent(DefaultKeyboardFocusManager.java:800)\nat java.awt.Component.dispatchEventImpl(Component.java:4760)\nat java.awt.Container.dispatchEventImpl(Container.java:2297)\nat java.awt.Window.dispatchEventImpl(Window.java:2746)\nat java.awt.Component.dispatchEvent(Component.java:4711)\nat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:760)\nat java.awt.EventQueue.access$500(EventQueue.java:97)\nat java.awt.EventQueue$3.run(EventQueue.java:709)\nat java.awt.EventQueue$3.run(EventQueue.java:703)\nat java.security.AccessController.doPrivileged(Native Method)\nat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\nat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:84)\nat java.awt.EventQueue$4.run(EventQueue.java:733)\nat java.awt.EventQueue$4.run(EventQueue.java:731)\nat java.security.AccessController.doPrivileged(Native Method)\nat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\nat java.awt.EventQueue.dispatchEvent(EventQueue.java:730)\nat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:205)\nat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\nat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\nat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\nat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\nat java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\n</code></pre>\n<p>here is the java code i have written.</p>\n<pre><code>public class BrowserScreen extends javax.swing.JFrame {\n\n/**\n * Creates new form BrowserScreen\n */\npublic BrowserScreen() {\n    initComponents();\n    addressField.addActionListener((ActionEvent e) -&gt; {\n        enterURL(e.getActionCommand());\n    });\n    \n    browserPane.addHyperlinkListener((HyperlinkEvent e) -&gt; {\n        if(e.getEventType() == HyperlinkEvent.EventType.ACTIVATED){\n            enterURL(e.getURL().toString());\n        }\n    });\n    \n    refreshButton.addActionListener((ActionEvent e) -&gt; {\n        enterURL(addressField.getText());\n    });\n}\n\n/**\n * This method is called from within the constructor to initialize the form.\n * WARNING: Do NOT modify this code. The content of this method is always\n * regenerated by the Form Editor.\n */\n@SuppressWarnings(&quot;unchecked&quot;)\n// &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \nprivate void initComponents() {\n\n    jPanel1 = new javax.swing.JPanel();\n    addressField = new javax.swing.JTextField();\n    refreshButton = new javax.swing.JButton();\n    jPanel2 = new javax.swing.JPanel();\n    jScrollPane1 = new javax.swing.JScrollPane();\n    browserPane = new javax.swing.JEditorPane();\n\n    setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n\n    jPanel1.setBorder(javax.swing.BorderFactory.createEtchedBorder());\n\n    addressField.setText(&quot;URL&quot;);\n\n    refreshButton.setText(&quot;Refresh&quot;);\n\n    javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);\n    jPanel1.setLayout(jPanel1Layout);\n    jPanel1Layout.setHorizontalGroup(\n        jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n        .addGroup(jPanel1Layout.createSequentialGroup()\n            .addContainerGap()\n            .addComponent(addressField, javax.swing.GroupLayout.PREFERRED_SIZE, 625, javax.swing.GroupLayout.PREFERRED_SIZE)\n            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n            .addComponent(refreshButton)\n            .addContainerGap(14, Short.MAX_VALUE))\n    );\n    jPanel1Layout.setVerticalGroup(\n        jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n        .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()\n            .addContainerGap()\n            .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                .addComponent(addressField)\n                .addComponent(refreshButton, javax.swing.GroupLayout.DEFAULT_SIZE, 32, Short.MAX_VALUE))\n            .addContainerGap())\n    );\n\n    jPanel2.setBorder(javax.swing.BorderFactory.createEtchedBorder());\n\n    jScrollPane1.setViewportView(browserPane);\n\n    javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);\n    jPanel2.setLayout(jPanel2Layout);\n    jPanel2Layout.setHorizontalGroup(\n        jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n        .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()\n            .addContainerGap()\n            .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE)\n            .addContainerGap())\n    );\n    jPanel2Layout.setVerticalGroup(\n        jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n        .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()\n            .addContainerGap()\n            .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 397, Short.MAX_VALUE)\n            .addContainerGap())\n    );\n\n    javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n    getContentPane().setLayout(layout);\n    layout.setHorizontalGroup(\n        layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n        .addGroup(layout.createSequentialGroup()\n            .addContainerGap()\n            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                .addComponent(jPanel2, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                .addComponent(jPanel1, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\n            .addContainerGap())\n    );\n    layout.setVerticalGroup(\n        layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n        .addGroup(layout.createSequentialGroup()\n            .addContainerGap()\n            .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)\n            .addComponent(jPanel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n            .addContainerGap())\n    );\n\n    pack();\n}// &lt;/editor-fold&gt;                        \n\n/**\n * @param args the command line arguments\n */\npublic static void main(String args[]) {\n    /* Set the Nimbus look and feel */\n    //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\n    /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\n     * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \n     */\n    try {\n        for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\n            if (&quot;Nimbus&quot;.equals(info.getName())) {\n                javax.swing.UIManager.setLookAndFeel(info.getClassName());\n                break;\n            }\n        }\n    } catch (ClassNotFoundException ex) {\n        java.util.logging.Logger.getLogger(BrowserScreen.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n    } catch (InstantiationException ex) {\n        java.util.logging.Logger.getLogger(BrowserScreen.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n    } catch (IllegalAccessException ex) {\n        java.util.logging.Logger.getLogger(BrowserScreen.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n    } catch (javax.swing.UnsupportedLookAndFeelException ex) {\n        java.util.logging.Logger.getLogger(BrowserScreen.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n    }\n    //&lt;/editor-fold&gt;\n\n    /* Create and display the form */\n    java.awt.EventQueue.invokeLater(new Runnable() {\n        public void run() {\n            new BrowserScreen().setVisible(true);\n        }\n    });\n}\n\nprivate void enterURL(String url){\n    try{\n        browserPane.setPage(url);\n        addressField.setText(url);\n    } catch(Exception e)\n    {\n        JOptionPane.showMessageDialog(null,&quot;Not a valid url&quot;);\n        e.printStackTrace();\n    }\n}\n\n\n// Variables declaration - do not modify                     \nprivate javax.swing.JTextField addressField;\nprivate javax.swing.JEditorPane browserPane;\nprivate javax.swing.JPanel jPanel1;\nprivate javax.swing.JPanel jPanel2;\nprivate javax.swing.JScrollPane jScrollPane1;\nprivate javax.swing.JButton refreshButton;\n// End of variables declaration                   \n</code></pre>\n<p>}</p>\n"},{"tags":["java","stream","average"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1648036817,"post_id":71586697,"comment_id":126521245,"body_markdown":"Sorting collections/streams is extensively documented, there are many questions about it here, and many tutorials out there. Please understand that this isn&#39;t a free tutoring service where people write down the same information every time someone comes asking for it. So: do some research first. Pick up a good tutorial, look at that code, and then apply it to your problem. And then, when you have a specific problem, write up a [mcve] and we will gladly help with that.","body":"Sorting collections/streams is extensively documented, there are many questions about it here, and many tutorials out there. Please understand that this isn&#39;t a free tutoring service where people write down the same information every time someone comes asking for it. So: do some research first. Pick up a good tutorial, look at that code, and then apply it to your problem. And then, when you have a specific problem, write up a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and we will gladly help with that."},{"owner":{"account_id":24659549,"reputation":1,"user_id":18555911,"display_name":"hunterthompson"},"score":0,"creation_date":1648037117,"post_id":71586697,"comment_id":126521359,"body_markdown":"@GhostCat You have clearly not bothered to properly read what I&#39;m asking because the question you linked to mine is not related. I am NOT asking to find an object in a list with a maximum property, it is more complex than that! And I have read done research, the reason I am asking this question in the first place is because I am stumped and don&#39;t know how to continue. And FYI It&#39;s really frustrating receiving a patronising comment like this, I fully understand how Stackoverflow works.","body":"@GhostCat You have clearly not bothered to properly read what I&#39;m asking because the question you linked to mine is not related. I am NOT asking to find an object in a list with a maximum property, it is more complex than that! And I have read done research, the reason I am asking this question in the first place is because I am stumped and don&#39;t know how to continue. And FYI It&#39;s really frustrating receiving a patronising comment like this, I fully understand how Stackoverflow works."}],"owner":{"account_id":24659549,"reputation":1,"user_id":18555911,"display_name":"hunterthompson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1648036740,"answer_count":0,"score":0,"last_activity_date":1648036451,"creation_date":1648036113,"question_id":71586697,"body_markdown":"I have a list of cars for sale and I need to find the car make that has the highest average price. The car class looks like the following pseudocode:\r\n\r\n```\r\nclass Car \r\n{\r\n\tstring make;\r\n\tstring model;\r\n\tdouble price;\r\n}\r\n```\r\n\r\nSo for example, if I had the following collection of cars:\r\n\r\n- **Make**: Honda       **Model**: Civic    **Price**: €8000\r\n- **Make**: Honda       **Model**: Jazz      **Price**: €6000\r\n- **Make**: Skoda       **Model**: Fabia     **Price**: €7500\r\n\r\nThen obviously it should return that Skoda is the car make with the highest average price.\r\n\r\nI want to do this using streams, however I&#39;m a bit stumped as to where to start. Any help would be appreciated.","title":"Java - Find Object Group with Maximum Value","body":"<p>I have a list of cars for sale and I need to find the car make that has the highest average price. The car class looks like the following pseudocode:</p>\n<pre><code>class Car \n{\n    string make;\n    string model;\n    double price;\n}\n</code></pre>\n<p>So for example, if I had the following collection of cars:</p>\n<ul>\n<li><strong>Make</strong>: Honda       <strong>Model</strong>: Civic    <strong>Price</strong>: €8000</li>\n<li><strong>Make</strong>: Honda       <strong>Model</strong>: Jazz      <strong>Price</strong>: €6000</li>\n<li><strong>Make</strong>: Skoda       <strong>Model</strong>: Fabia     <strong>Price</strong>: €7500</li>\n</ul>\n<p>Then obviously it should return that Skoda is the car make with the highest average price.</p>\n<p>I want to do this using streams, however I'm a bit stumped as to where to start. Any help would be appreciated.</p>\n"},{"tags":["java","android","text-to-speech","google-text-to-speech"],"answers":[{"tags":[],"owner":{"account_id":15889084,"reputation":335,"user_id":11464737,"display_name":"Kamal"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1648035322,"creation_date":1648035322,"answer_id":71586520,"question_id":71586331,"body_markdown":"As per [doc](https://developer.android.com/reference/android/speech/tts/TextToSpeech#getVoices())\r\n\r\n```getVoices()``` method from ```TextToSpeech``` returns set of all the available voices.","title":"how to get list all supported voices from Text To Speech in android studio","body":"<p>As per <a href=\"https://developer.android.com/reference/android/speech/tts/TextToSpeech#getVoices()\" rel=\"noreferrer\">doc</a></p>\n<p><code>getVoices()</code> method from <code>TextToSpeech</code> returns set of all the available voices.</p>\n"}],"owner":{"account_id":22625163,"reputation":27,"user_id":16803362,"display_name":"Kira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1480,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71586520,"answer_count":1,"score":0,"last_activity_date":1648035322,"creation_date":1648034542,"question_id":71586331,"body_markdown":"I am working on TTS (Text to Speech). And I want to get the list of supported voices, what should I do\r\nEXAMPLE:\r\n\r\n    private TextToSpeech t1;\r\n    t1 = new TextToSpeech(getApplicationContext(), new TextToSpeech.OnInitListener() {\r\n    @Override\r\n    public void onInit(int status) {\r\n          if (status != TextToSpeech.ERROR) {\r\n                        t1.setLanguage(Locale.US);\r\n                    }\r\n                }\r\n          });\r\n    t1.setLanguage(Locale.US);\r\n    Voice va=new Voice(&quot;en-gb-x-rjs#female_2-local&quot;,new\r\n    Locale(&quot;en&quot;,&quot;US&quot;),400,200,true,a);\r\n    \r\n    t1.setVoice(va);\r\n    String toSpeak = textTitle.getText().toString();\r\n    t1.speak(toSpeak, TextToSpeech.QUEUE_FLUSH, null);\r\n\r\nI want have all list as \r\n\r\n&gt; &quot;en-gb-x-rjs#female_2-local&quot;","title":"how to get list all supported voices from Text To Speech in android studio","body":"<p>I am working on TTS (Text to Speech). And I want to get the list of supported voices, what should I do\nEXAMPLE:</p>\n<pre><code>private TextToSpeech t1;\nt1 = new TextToSpeech(getApplicationContext(), new TextToSpeech.OnInitListener() {\n@Override\npublic void onInit(int status) {\n      if (status != TextToSpeech.ERROR) {\n                    t1.setLanguage(Locale.US);\n                }\n            }\n      });\nt1.setLanguage(Locale.US);\nVoice va=new Voice(&quot;en-gb-x-rjs#female_2-local&quot;,new\nLocale(&quot;en&quot;,&quot;US&quot;),400,200,true,a);\n\nt1.setVoice(va);\nString toSpeak = textTitle.getText().toString();\nt1.speak(toSpeak, TextToSpeech.QUEUE_FLUSH, null);\n</code></pre>\n<p>I want have all list as</p>\n<blockquote>\n<p>&quot;en-gb-x-rjs#female_2-local&quot;</p>\n</blockquote>\n"},{"tags":["java","android","android-recyclerview","android-service","android-adapter"],"comments":[{"owner":{"account_id":6696437,"reputation":2557,"user_id":5164318,"display_name":"emandt"},"score":0,"creation_date":1648033015,"post_id":71585940,"comment_id":126519769,"body_markdown":"How your foreground Service can &quot;display items&quot;? An Android Service doesn&#39;t has an Interface where display something, so you need to explain better WHO is displaying these items....","body":"How your foreground Service can &quot;display items&quot;? An Android Service doesn&#39;t has an Interface where display something, so you need to explain better WHO is displaying these items...."},{"owner":{"account_id":1312446,"reputation":915,"user_id":1262012,"accept_rate":65,"display_name":"Bialy"},"score":0,"creation_date":1648033223,"post_id":71585940,"comment_id":126519852,"body_markdown":"A foreground service with a WindowManager","body":"A foreground service with a WindowManager"}],"answers":[{"tags":[],"owner":{"account_id":6696437,"reputation":2557,"user_id":5164318,"display_name":"emandt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648035280,"creation_date":1648035280,"answer_id":71586507,"question_id":71585940,"body_markdown":"Normally everything you would like to execute in the Service should be implemented and then called using a Binder (if Service and App are in the same Process) and its onBind() method.\r\n\r\nIn your specific case I suppose your Service is the &quot;owner&quot; of the UI created by WindowManager (like a floating window), so:\r\n\r\n - if Service and UI are in the same Thread, you can pass a Listener/Callback to it or use the common onBind() way\r\n - if Service and UI are in different Theads: you need some kind of synchronization between them (Looper+Message, a Queue, etc...)\r\n - if Service and UI are in different Process: you need to implement &quot;AIDL&quot; technique","title":"Comunication between a running android service and a recyclerview adapter inside the same service","body":"<p>Normally everything you would like to execute in the Service should be implemented and then called using a Binder (if Service and App are in the same Process) and its onBind() method.</p>\n<p>In your specific case I suppose your Service is the &quot;owner&quot; of the UI created by WindowManager (like a floating window), so:</p>\n<ul>\n<li>if Service and UI are in the same Thread, you can pass a Listener/Callback to it or use the common onBind() way</li>\n<li>if Service and UI are in different Theads: you need some kind of synchronization between them (Looper+Message, a Queue, etc...)</li>\n<li>if Service and UI are in different Process: you need to implement &quot;AIDL&quot; technique</li>\n</ul>\n"}],"owner":{"account_id":1312446,"reputation":915,"user_id":1262012,"accept_rate":65,"display_name":"Bialy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71586507,"answer_count":1,"score":0,"last_activity_date":1648035280,"creation_date":1648032761,"question_id":71585940,"body_markdown":"So I have a foreground service displaying a few items, I want to perform some function in the enclosing service when I press on an item in the recycler view. I&#39;m aware I can use an `Instance` of the service, but it&#39;s a memory leak. I&#39;m aware as well of the binding/unbinding methods between service and activity, but this I believe doesn&#39;t apply to my situation?","title":"Comunication between a running android service and a recyclerview adapter inside the same service","body":"<p>So I have a foreground service displaying a few items, I want to perform some function in the enclosing service when I press on an item in the recycler view. I'm aware I can use an <code>Instance</code> of the service, but it's a memory leak. I'm aware as well of the binding/unbinding methods between service and activity, but this I believe doesn't apply to my situation?</p>\n"},{"tags":["java","event-handling","jcheckbox"],"answers":[{"tags":[],"owner":{"account_id":11478953,"reputation":937,"user_id":8413680,"display_name":"Sujay Mohan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1570025330,"creation_date":1570025330,"answer_id":58203250,"question_id":58202510,"body_markdown":"The issue is you are checking isSelected in wrong place.\r\nyou should check the Selection inside actionPerformed.\r\n```\r\ncheckBox.addItemListener(new ItemListener() {\r\n\t\t\tpublic void itemStateChanged(ItemEvent arg0) {\r\n\t\t\t\tSystem.out.println(&quot;SELECTED!&quot;);\r\n\t\t\t\tcheckBox.addActionListener(new ActionListener() {\r\n\t\t\t\t\tpublic void actionPerformed(ActionEvent event) {\r\n\t\t\t\t\t\tif (checkBox.isSelected()) {\r\n\t\t\t\t\t\t\tif (fileChooser.showSaveDialog(checkBox) == JFileChooser.APPROVE_OPTION) {\r\n\t\t\t\t\t\t\t\t// DIALOG BOX CODE....\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n```","title":"Java JCheckBoxMenuItem fire event only when selected","body":"<p>The issue is you are checking isSelected in wrong place.\nyou should check the Selection inside actionPerformed.</p>\n\n<pre><code>checkBox.addItemListener(new ItemListener() {\n            public void itemStateChanged(ItemEvent arg0) {\n                System.out.println(\"SELECTED!\");\n                checkBox.addActionListener(new ActionListener() {\n                    public void actionPerformed(ActionEvent event) {\n                        if (checkBox.isSelected()) {\n                            if (fileChooser.showSaveDialog(checkBox) == JFileChooser.APPROVE_OPTION) {\n                                // DIALOG BOX CODE....\n                            }\n                        }\n                    };\n                });\n            }\n        });\n</code></pre>\n"}],"owner":{"account_id":12881093,"reputation":303,"user_id":9316108,"display_name":"Wall"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58203250,"answer_count":1,"score":0,"last_activity_date":1648034950,"creation_date":1570022736,"question_id":58202510,"body_markdown":"I have a JCheckBoxMenuItem inside a JMenu.\r\nMy task is simple: when it&#39;s selected, it should fire a DialogBox, in other words a JFileChooser. When it&#39;s unselected, do nothing.\r\nPROBLEM: it works fine when it&#39;s selected, but it keep doing the same when unselected.\r\n\r\nThis is the code:\r\n\r\n    JCheckBoxMenuItem checkBox = new JCheckBoxMenuItem(&quot;ChebkBox&quot;);\r\n\t\tcheckBox.addItemListener(new ItemListener() {\r\n\t\t\tpublic void itemStateChanged(ItemEvent arg0) {\r\n\t\t\t\tif(checkBox.isSelected())\r\n\t\t\t\t{\r\n\t\t\t\t\tSystem.out.println(&quot;SELECTED!&quot;);\r\n\t\t\t\t\tcheckBox.addActionListener(new ActionListener() {\r\n\t\t\t\t\t\tpublic void actionPerformed(ActionEvent event) {\r\n\t\t\t\t\t\t\tJFileChooser fileChooser = new JFileChooser();\r\n\t\t\t\t\t\t\tif (fileChooser.showSaveDialog(checkBox) == JFileChooser.APPROVE_OPTION) {\r\n\t\t\t\t\t\t\t\t//DIALOG BOX CODE....\r\n\t\t });\r\n\r\nI&#39;m not sure where the issue is, maybe it&#39;s related to the action lister which is nested. It&#39;s fired even when the checkbox got unselected.\r\nIs there a way so solve this?","title":"Java JCheckBoxMenuItem fire event only when selected","body":"<p>I have a JCheckBoxMenuItem inside a JMenu.\nMy task is simple: when it's selected, it should fire a DialogBox, in other words a JFileChooser. When it's unselected, do nothing.\nPROBLEM: it works fine when it's selected, but it keep doing the same when unselected.</p>\n\n<p>This is the code:</p>\n\n<pre><code>JCheckBoxMenuItem checkBox = new JCheckBoxMenuItem(\"ChebkBox\");\n    checkBox.addItemListener(new ItemListener() {\n        public void itemStateChanged(ItemEvent arg0) {\n            if(checkBox.isSelected())\n            {\n                System.out.println(\"SELECTED!\");\n                checkBox.addActionListener(new ActionListener() {\n                    public void actionPerformed(ActionEvent event) {\n                        JFileChooser fileChooser = new JFileChooser();\n                        if (fileChooser.showSaveDialog(checkBox) == JFileChooser.APPROVE_OPTION) {\n                            //DIALOG BOX CODE....\n     });\n</code></pre>\n\n<p>I'm not sure where the issue is, maybe it's related to the action lister which is nested. It's fired even when the checkbox got unselected.\nIs there a way so solve this?</p>\n"},{"tags":["java","android","navigation-drawer","back-button"],"comments":[{"owner":{"account_id":21708163,"reputation":291,"user_id":16020235,"display_name":"Richard Wilson"},"score":0,"creation_date":1640255299,"post_id":70455347,"comment_id":124553447,"body_markdown":"Please if there&#39;s anything I should correct/add, let me know","body":"Please if there&#39;s anything I should correct/add, let me know"},{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1640300473,"post_id":70455347,"comment_id":124566800,"body_markdown":"Hey Richard.. I think [this](https://stackoverflow.com/questions/68026718/navigation-component-how-to-show-a-normal-up-back-button-instead-of-hamburger-i/68038101#68038101) could help you out","body":"Hey Richard.. I think <a href=\"https://stackoverflow.com/questions/68026718/navigation-component-how-to-show-a-normal-up-back-button-instead-of-hamburger-i/68038101#68038101\">this</a> could help you out"},{"owner":{"account_id":21708163,"reputation":291,"user_id":16020235,"display_name":"Richard Wilson"},"score":1,"creation_date":1640606401,"post_id":70455347,"comment_id":124614013,"body_markdown":"@zain The preview you shared is quite different from how I would love my app to\nbe done. When you clicked the navbar on your app, it displayed home as the \nfirst bar on that side meaning that the entire app is being controlled by the\nnavbar, it has no other default fragment normally controlled before adding\nadditional items to the app using the navbar. Also, your codes were written in\nKotlin.","body":"@zain The preview you shared is quite different from how I would love my app to be done. When you clicked the navbar on your app, it displayed home as the  first bar on that side meaning that the entire app is being controlled by the navbar, it has no other default fragment normally controlled before adding additional items to the app using the navbar. Also, your codes were written in Kotlin."},{"owner":{"account_id":21708163,"reputation":291,"user_id":16020235,"display_name":"Richard Wilson"},"score":0,"creation_date":1640606452,"post_id":70455347,"comment_id":124614028,"body_markdown":"@zain I don&#39;t want my app to be controlled using the navbar, I designed the navbar\njust for additional things like settings, upgrade to remove ads, and privacy \npolicy(like how AccuWeather nav bar is). I&#39;ve posted a screenshot of it for easy\nIdentification. Any suggestion on how I can go about it or do you know of any\nway to do it? If not, I&#39;ll have to bounty the code, thanks for your previous\nsuggestion.","body":"@zain I don&#39;t want my app to be controlled using the navbar, I designed the navbar just for additional things like settings, upgrade to remove ads, and privacy  policy(like how AccuWeather nav bar is). I&#39;ve posted a screenshot of it for easy Identification. Any suggestion on how I can go about it or do you know of any way to do it? If not, I&#39;ll have to bounty the code, thanks for your previous suggestion."},{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1641334442,"post_id":70455347,"comment_id":124777758,"body_markdown":"I&#39;ve adjusted that on java; pls check the answer","body":"I&#39;ve adjusted that on java; pls check the answer"}],"answers":[{"tags":[],"owner":{"account_id":10833670,"reputation":549,"user_id":7967235,"display_name":"Avital"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648034774,"creation_date":1640769908,"answer_id":70517460,"question_id":70455347,"body_markdown":"I think you should override the `onKeyDown` at the `MainActivity`, which controlls the behavior of the virtual back button of the entire app. Right now any click on this button exits the app because you have only one &quot;page&quot; that holds the `fragments` and switches between them, so if you go back from this single page, you exit the app... \r\n\r\nI have a `public String` at the `MainActivty` that holds the current_fragment and I update it each time I switch `fragment`:\r\n\r\n**MainActivity** (before `onCreate()`)    \r\n\r\n    public String current_page = &quot;&quot;;\r\n\r\n\r\n**any Fragment**\r\n\r\n      public View onCreateView(LayoutInflater inflater, ViewGroup parent, Bundle savedInstanceState) {\r\n\r\n        mainActivity.current_fragment = &quot;anyFragment&quot;;\r\n\r\n**home Fragment**\r\n\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup parent, Bundle savedInstanceState) {\r\n\r\n        mainActivity.current_fragment = &quot;home_page&quot;;\r\n\r\n \r\n\r\n**MainActivity**    \r\n\r\n    \r\n    @Override\r\n    public boolean onKeyDown(int keyCode, KeyEvent event) {\r\n\r\n        if (keyCode == KeyEvent.KEYCODE_BACK) { // you only want to treat the back click, not any click...\r\n\r\n            if (drawerLayout.isDrawerOpen(GravityCompat.START)) { // if drawer is open, close it\r\n\r\n                drawerLayout.closeDrawer(GravityCompat.START);\r\n                return true;\r\n\r\n            } else if (!current_page.equals (&quot;home_page&quot;) {\r\n\r\n                setHomePage(); // a method that switch the fragment to homePageFragment\r\n                return true;\r\n\r\n            } \r\n        }\r\n\r\n        return super.onKeyDown(keyCode, event);\r\n    }\r\n\r\n\r\nAbout setHomePage () - that is a method for switching between Fragments, like you do at your app already...","title":"How to properly implement the top back button in navigation drawer?","body":"<p>I think you should override the <code>onKeyDown</code> at the <code>MainActivity</code>, which controlls the behavior of the virtual back button of the entire app. Right now any click on this button exits the app because you have only one &quot;page&quot; that holds the <code>fragments</code> and switches between them, so if you go back from this single page, you exit the app...</p>\n<p>I have a <code>public String</code> at the <code>MainActivty</code> that holds the current_fragment and I update it each time I switch <code>fragment</code>:</p>\n<p><strong>MainActivity</strong> (before <code>onCreate()</code>)</p>\n<pre><code>public String current_page = &quot;&quot;;\n</code></pre>\n<p><strong>any Fragment</strong></p>\n<pre><code>  public View onCreateView(LayoutInflater inflater, ViewGroup parent, Bundle savedInstanceState) {\n\n    mainActivity.current_fragment = &quot;anyFragment&quot;;\n</code></pre>\n<p><strong>home Fragment</strong></p>\n<pre><code>public View onCreateView(LayoutInflater inflater, ViewGroup parent, Bundle savedInstanceState) {\n\n    mainActivity.current_fragment = &quot;home_page&quot;;\n</code></pre>\n<p><strong>MainActivity</strong></p>\n<pre><code>@Override\npublic boolean onKeyDown(int keyCode, KeyEvent event) {\n\n    if (keyCode == KeyEvent.KEYCODE_BACK) { // you only want to treat the back click, not any click...\n\n        if (drawerLayout.isDrawerOpen(GravityCompat.START)) { // if drawer is open, close it\n\n            drawerLayout.closeDrawer(GravityCompat.START);\n            return true;\n\n        } else if (!current_page.equals (&quot;home_page&quot;) {\n\n            setHomePage(); // a method that switch the fragment to homePageFragment\n            return true;\n\n        } \n    }\n\n    return super.onKeyDown(keyCode, event);\n}\n</code></pre>\n<p>About setHomePage () - that is a method for switching between Fragments, like you do at your app already...</p>\n"},{"tags":[],"owner":{"account_id":22002926,"reputation":1,"user_id":17804636,"display_name":"gdev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641273136,"creation_date":1641273136,"answer_id":70574321,"question_id":70455347,"body_markdown":"You can try add `app:startDestination=&quot;@+id/your default fragment&quot;` attribute in your mobile_navigation.xml&#39;s root layout.\r\n\r\nmobile_navigation.xml is a file where you manage your fragments like in this example\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/mobile_navigation&quot;\r\n    app:startDestination=&quot;@+id/nav_home&quot;&gt; \r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/nav_home&quot;\r\n        android:name=&quot;com.example.navd.ui.home.HomeFragment&quot;\r\n        android:label=&quot;@string/menu_home&quot;\r\n        tools:layout=&quot;@layout/fragment_home&quot; /&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/nav_gallery&quot;\r\n        android:name=&quot;com.example.navd.ui.gallery.GalleryFragment&quot;\r\n        android:label=&quot;@string/menu_gallery&quot;\r\n        tools:layout=&quot;@layout/fragment_gallery&quot; /&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/nav_slideshow&quot;\r\n        android:name=&quot;com.example.navd.ui.slideshow.SlideshowFragment&quot;\r\n        android:label=&quot;@string/menu_slideshow&quot;\r\n        tools:layout=&quot;@layout/fragment_slideshow&quot; /&gt;\r\n&lt;/navigation&gt;\r\n\r\n","title":"How to properly implement the top back button in navigation drawer?","body":"<p>You can try add <code>app:startDestination=&quot;@+id/your default fragment&quot;</code> attribute in your mobile_navigation.xml's root layout.</p>\n<p>mobile_navigation.xml is a file where you manage your fragments like in this example</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:id=&quot;@+id/mobile_navigation&quot;\napp:startDestination=&quot;@+id/nav_home&quot;&gt; \n\n&lt;fragment\n    android:id=&quot;@+id/nav_home&quot;\n    android:name=&quot;com.example.navd.ui.home.HomeFragment&quot;\n    android:label=&quot;@string/menu_home&quot;\n    tools:layout=&quot;@layout/fragment_home&quot; /&gt;\n\n&lt;fragment\n    android:id=&quot;@+id/nav_gallery&quot;\n    android:name=&quot;com.example.navd.ui.gallery.GalleryFragment&quot;\n    android:label=&quot;@string/menu_gallery&quot;\n    tools:layout=&quot;@layout/fragment_gallery&quot; /&gt;\n\n&lt;fragment\n    android:id=&quot;@+id/nav_slideshow&quot;\n    android:name=&quot;com.example.navd.ui.slideshow.SlideshowFragment&quot;\n    android:label=&quot;@string/menu_slideshow&quot;\n    tools:layout=&quot;@layout/fragment_slideshow&quot; /&gt;\n</code></pre>\n\n"},{"tags":[],"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641417113,"creation_date":1641333067,"answer_id":70585466,"question_id":70455347,"body_markdown":"    if (item.getItemId() == android.R.id.home) {\r\n        int backStackCount = fragmentManager.getBackStackEntryCount();//check currently how many frags loaded\r\n        if (backStackCount &gt; 0) {\r\n            fragmentManager.popBackStack(); //go back to previously loaded fragment\r\n        }   \r\n    }\r\n\r\n&gt; Currently, clicking back only exits the app.\r\n\r\nUsing `popBackStack()` will pop up the backstack making your app exists, but you just need to return to the default fragment.\r\n\r\nTo fix this, you need to change the behavior of the drawer burger button, so that it can be used sometimes to open the drawer navView layout, and other times to back to the default fragment; the later is when you want to add the top back button instead.\r\n\r\n&gt; how I can implement the up/top back button for the nav drawer\r\n\r\nThis requires to access the [`setToolbarNavigationClickListener`][1] method which enables you add a listener to burger clicks.\r\n\r\nIn this case you need to return back to the home fragment as you need, in the `onCreate()` method add:\r\n\r\n    toggle.setToolbarNavigationClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View v) {\r\n            // Enable the functionality of opening the side drawer, when the burger icon is clicked\r\n            toggle.setDrawerIndicatorEnabled(true); // Show the burger icon &amp; enable the drawer funcionality\r\n            navController.navigate(R.id.home); // Back to default fragment (replace home with your default fragment id in the navGraph)\r\n        }\r\n    });\r\n\r\nThe remaining part is to show the back button whenever you want to go to certain fragment\r\n\r\nAnd use `toggle.setDrawerIndicatorEnabled()` to enable/disable the functionality of opening/closing the drawer when the home/burger icon is clicked\r\n\r\n\tnavController.addOnDestinationChangedListener(new NavController.OnDestinationChangedListener() {\r\n\t\t@Override\r\n\t\tpublic void onDestinationChanged(@NonNull NavController controller, @NonNull NavDestination destination, @Nullable Bundle arguments) {\r\n\r\n\t\t\t// Repeat this condition for all the Fragments that you want to show the back button\r\n\t\t\tif (destination.getId() == R.id.settings_id) { // replace `settings_id` with your fragment id in the navGraph that you want to show the back button\r\n\t\t\t\t// Disable the functionality of opening the side drawer, when the burger icon is clicked &amp; show the UP button instead\r\n\t\t\t\ttoggle.setDrawerIndicatorEnabled(false);\r\n\r\n\t\t\t} \r\n\r\n\t\t}\r\n\t});\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://developer.android.com/reference/androidx/appcompat/app/ActionBarDrawerToggle#setToolbarNavigationClickListener(android.view.View.OnClickListener)","title":"How to properly implement the top back button in navigation drawer?","body":"<pre><code>if (item.getItemId() == android.R.id.home) {\n    int backStackCount = fragmentManager.getBackStackEntryCount();//check currently how many frags loaded\n    if (backStackCount &gt; 0) {\n        fragmentManager.popBackStack(); //go back to previously loaded fragment\n    }   \n}\n</code></pre>\n<blockquote>\n<p>Currently, clicking back only exits the app.</p>\n</blockquote>\n<p>Using <code>popBackStack()</code> will pop up the backstack making your app exists, but you just need to return to the default fragment.</p>\n<p>To fix this, you need to change the behavior of the drawer burger button, so that it can be used sometimes to open the drawer navView layout, and other times to back to the default fragment; the later is when you want to add the top back button instead.</p>\n<blockquote>\n<p>how I can implement the up/top back button for the nav drawer</p>\n</blockquote>\n<p>This requires to access the <a href=\"https://developer.android.com/reference/androidx/appcompat/app/ActionBarDrawerToggle#setToolbarNavigationClickListener(android.view.View.OnClickListener)\" rel=\"nofollow noreferrer\"><code>setToolbarNavigationClickListener</code></a> method which enables you add a listener to burger clicks.</p>\n<p>In this case you need to return back to the home fragment as you need, in the <code>onCreate()</code> method add:</p>\n<pre><code>toggle.setToolbarNavigationClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        // Enable the functionality of opening the side drawer, when the burger icon is clicked\n        toggle.setDrawerIndicatorEnabled(true); // Show the burger icon &amp; enable the drawer funcionality\n        navController.navigate(R.id.home); // Back to default fragment (replace home with your default fragment id in the navGraph)\n    }\n});\n</code></pre>\n<p>The remaining part is to show the back button whenever you want to go to certain fragment</p>\n<p>And use <code>toggle.setDrawerIndicatorEnabled()</code> to enable/disable the functionality of opening/closing the drawer when the home/burger icon is clicked</p>\n<pre><code>navController.addOnDestinationChangedListener(new NavController.OnDestinationChangedListener() {\n    @Override\n    public void onDestinationChanged(@NonNull NavController controller, @NonNull NavDestination destination, @Nullable Bundle arguments) {\n\n        // Repeat this condition for all the Fragments that you want to show the back button\n        if (destination.getId() == R.id.settings_id) { // replace `settings_id` with your fragment id in the navGraph that you want to show the back button\n            // Disable the functionality of opening the side drawer, when the burger icon is clicked &amp; show the UP button instead\n            toggle.setDrawerIndicatorEnabled(false);\n\n        } \n\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":21708163,"reputation":291,"user_id":16020235,"display_name":"Richard Wilson"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1991,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":70585466,"answer_count":3,"score":2,"last_activity_date":1648034774,"creation_date":1640208806,"question_id":70455347,"body_markdown":"I&#39;m currently trying to add a navigation drawer to my weather app, so I watched a youtube\r\ntutorial on it and was able to implement it the way I wanted to until I realized\r\nthat the tutorial I watched didn&#39;t cover how I can implement the up/top back \r\nbutton for the nav drawer so as a matter of fact, I currently cannot get back to\r\nmy default fragment after opening any of the nav tabs. I searched several \r\nsites and youtube videos looking for tutorials on how to implement the top back\r\nbutton but haven&#39;t seen/been able to find it. I also searched this site and still\r\nhaven&#39;t found anyone with a similar issue here. Please, can anyone be of help?\r\n\r\nHere&#39;s a screenshot of how my app currently is: https://i.stack.imgur.com/SeSjV.png but if I open any of the navbar options i.e settings and click back, I can&#39;t return back to the default fragment where the weather is displayed. It also doesn&#39;t have an up-back button as well. \r\n\r\nCurrently, clicking back only exits the app.\r\n\r\nThis is the only code I&#39;ve tried and it didn&#39;t work:\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n    \r\n        if (item.getItemId() == android.R.id.home) {\r\n            int backStackCount = fragmentManager.getBackStackEntryCount();//check currently how many frags loaded\r\n            if (backStackCount &gt; 0) {\r\n                fragmentManager.popBackStack(); //go back to previously loaded fragment\r\n            }   \r\n        }\r\n    \r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\nIt gave the following error:\r\n&gt; error: cannot find symbol\r\n&gt;             int backStackCount = fragmentManager.getBackStackEntryCount();//check currently how many\r\n&gt; frags loaded\r\n\r\nHere&#39;s my activity code:\r\n\r\n    public class HomeActivity extends AppCompatActivity implements NavigationView.OnNavigationItemSelectedListener {\r\n        private DrawerLayout drawer;\r\n        // Last update time, click sound, search button, search panel.\r\n        TextView timeField;\r\n        MediaPlayer player;\r\n        ImageView Search;\r\n        EditText textfield;\r\n        // For scheduling background image change(using constraint layout, start counting from dubai, down to statue of liberty.\r\n        ConstraintLayout constraintLayout;\r\n        public static int count = 0;\r\n        int[] drawable = new int[]{R.drawable.dubai, R.drawable.norway, R.drawable.eiffel_tower, R.drawable.hong_kong, R.drawable.statue_of_liberty,\r\n                R.drawable.beijing, R.drawable.chicago, R.drawable.colombia, R.drawable.vienna,R.drawable.tokyo};\r\n        Timer _t;\r\n    \r\n        private WeatherDataViewModel viewModel;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_home);\r\n            // use home activity layout.\r\n    \r\n            Toolbar toolbar = findViewById(R.id.toolbar);\r\n            setSupportActionBar(toolbar);\r\n            // Allow activity to make use of the toolbar\r\n    \r\n            drawer = findViewById(R.id.drawer_layout);\r\n            NavigationView navigationView = findViewById(R.id.nav_view);\r\n            navigationView.setNavigationItemSelectedListener(this);\r\n    \r\n            viewModel = new ViewModelProvider(this).get(WeatherDataViewModel.class);\r\n    \r\n            // Trigger action to open &amp; close nevigation drawer\r\n            ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(this, drawer, toolbar\r\n                    , R.string.navigation_drawer_open, R.string.navigation_drawer_close);\r\n            drawer.addDrawerListener(toggle);\r\n            toggle.syncState();\r\n    \r\n            timeField = findViewById(R.id.textView9);\r\n            Search = findViewById(R.id.imageView4);\r\n            textfield = findViewById(R.id.textfield);\r\n            //  find the id&#39;s of specific variables.\r\n    \r\n            BottomNavigationView bottomNavigationView = findViewById(R.id.bottomNavigationView);\r\n            // host 3 fragments along with bottom navigation.\r\n            final NavHostFragment navHostFragment = (NavHostFragment) getSupportFragmentManager().findFragmentById(R.id.fragment);\r\n            assert navHostFragment != null;\r\n            final NavController navController = navHostFragment.getNavController();\r\n            NavigationUI.setupWithNavController(bottomNavigationView, navController);\r\n    \r\n            // Make hourly &amp; daily tab unusable\r\n            bottomNavigationView.setOnNavigationItemSelectedListener(item -&gt; {\r\n    \r\n                if (getSupportFragmentManager().getBackStackEntryCount() &gt; 0) {\r\n                    getSupportFragmentManager().popBackStack();\r\n                }\r\n                return false;\r\n            });\r\n    \r\n            navController.addOnDestinationChangedListener((controller, destination, arguments) -&gt; navController.popBackStack(destination.getId(), false));\r\n    \r\n            // For scheduling background image change\r\n            constraintLayout = findViewById(R.id.layout);\r\n            constraintLayout.setBackgroundResource(R.drawable.dubai);\r\n            _t = new Timer();\r\n            _t.scheduleAtFixedRate(new TimerTask() {\r\n                @Override\r\n                public void run() {\r\n                    // run on ui thread\r\n                    runOnUiThread(() -&gt; {\r\n                        if (count &lt; drawable.length) {\r\n    \r\n                            constraintLayout.setBackgroundResource(drawable[count]);\r\n                            count = (count + 1) % drawable.length;\r\n                        }\r\n                    });\r\n                }\r\n            }, 5000, 5000);\r\n    \r\n            Search.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n    \r\n                    // make click sound when search button is clicked.\r\n                    player = MediaPlayer.create(HomeActivity.this, R.raw.click);\r\n                    player.start();\r\n    \r\n                    getWeatherData(textfield.getText().toString().trim());\r\n                    // make use of some fragment&#39;s data\r\n    \r\n                    Fragment currentFragment = navHostFragment.getChildFragmentManager().getFragments().get(0);\r\n                    if (currentFragment instanceof FirstFragment) {\r\n                        FirstFragment firstFragment = (FirstFragment) currentFragment;\r\n                        firstFragment.getWeatherData(textfield.getText().toString().trim());\r\n                    } else if (currentFragment instanceof SecondFragment) {\r\n                        SecondFragment secondFragment = (SecondFragment) currentFragment;\r\n                        secondFragment.getWeatherData(textfield.getText().toString().trim());\r\n                    } else if (currentFragment instanceof ThirdFragment) {\r\n                        ThirdFragment thirdFragment = (ThirdFragment) currentFragment;\r\n                        thirdFragment.getWeatherData(textfield.getText().toString().trim());\r\n                    }\r\n                }\r\n    \r\n                private void getWeatherData(String name) {\r\n    \r\n                    ApiInterface apiInterface = ApiClient.getClient().create(ApiInterface.class);\r\n    \r\n                    Call&lt;Example&gt; call = apiInterface.getWeatherData(name);\r\n    \r\n                    call.enqueue(new Callback&lt;Example&gt;() {\r\n                        @Override\r\n                        public void onResponse(@NonNull Call&lt;Example&gt; call, @NonNull Response&lt;Example&gt; response) {\r\n    \r\n                            try {\r\n                                assert response.body() != null;\r\n                                timeField.setVisibility(View.VISIBLE);\r\n                                timeField.setText(&quot;First Updated:&quot; + &quot; &quot; + response.body().getDt());\r\n                            } catch (Exception e) {\r\n                                timeField.setVisibility(View.GONE);\r\n                                timeField.setText(&quot;First Updated: Unknown&quot;);\r\n                                Log.e(&quot;TAG&quot;, &quot;No City found&quot;);\r\n                                Toast.makeText(HomeActivity.this, &quot;No City found&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onFailure(@NotNull Call&lt;Example&gt; call, @NotNull Throwable t) {\r\n                            t.printStackTrace();\r\n                        }\r\n    \r\n                    });\r\n                }\r\n    \r\n            });\r\n        }\r\n    \r\n        @Override\r\n        public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n            switch (item.getItemId()) {\r\n                case R.id.settings_id:\r\n                    getSupportFragmentManager().beginTransaction().replace(R.id.fragment,\r\n                            new Settings()).commit();\r\n                    break;\r\n                case R.id.ads_upgrade_id:\r\n                    getSupportFragmentManager().beginTransaction().replace(R.id.fragment,\r\n                            new Upgrade()).commit();\r\n                    break;\r\n                case R.id.privacy_policy_id:\r\n                    getSupportFragmentManager().beginTransaction().replace(R.id.fragment,\r\n                            new Privacy_Policy()).commit();\r\n                    break;\r\n            }\r\n            drawer.closeDrawer(GravityCompat.START);\r\n    \r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public void onBackPressed() {\r\n            if (drawer.isDrawerOpen(GravityCompat.START)) {\r\n                drawer.closeDrawer(GravityCompat.START);\r\n            } else {\r\n                super.onBackPressed();\r\n                // Open/close drawer animation\r\n            }\r\n        }\r\n\r\n","title":"How to properly implement the top back button in navigation drawer?","body":"<p>I'm currently trying to add a navigation drawer to my weather app, so I watched a youtube\ntutorial on it and was able to implement it the way I wanted to until I realized\nthat the tutorial I watched didn't cover how I can implement the up/top back\nbutton for the nav drawer so as a matter of fact, I currently cannot get back to\nmy default fragment after opening any of the nav tabs. I searched several\nsites and youtube videos looking for tutorials on how to implement the top back\nbutton but haven't seen/been able to find it. I also searched this site and still\nhaven't found anyone with a similar issue here. Please, can anyone be of help?</p>\n<p>Here's a screenshot of how my app currently is: <a href=\"https://i.stack.imgur.com/SeSjV.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/SeSjV.png</a> but if I open any of the navbar options i.e settings and click back, I can't return back to the default fragment where the weather is displayed. It also doesn't have an up-back button as well.</p>\n<p>Currently, clicking back only exits the app.</p>\n<p>This is the only code I've tried and it didn't work:</p>\n<pre><code>@Override\npublic boolean onOptionsItemSelected(MenuItem item) {\n\n    if (item.getItemId() == android.R.id.home) {\n        int backStackCount = fragmentManager.getBackStackEntryCount();//check currently how many frags loaded\n        if (backStackCount &gt; 0) {\n            fragmentManager.popBackStack(); //go back to previously loaded fragment\n        }   \n    }\n\n    return super.onOptionsItemSelected(item);\n}\n</code></pre>\n<p>It gave the following error:</p>\n<blockquote>\n<p>error: cannot find symbol\nint backStackCount = fragmentManager.getBackStackEntryCount();//check currently how many\nfrags loaded</p>\n</blockquote>\n<p>Here's my activity code:</p>\n<pre><code>public class HomeActivity extends AppCompatActivity implements NavigationView.OnNavigationItemSelectedListener {\n    private DrawerLayout drawer;\n    // Last update time, click sound, search button, search panel.\n    TextView timeField;\n    MediaPlayer player;\n    ImageView Search;\n    EditText textfield;\n    // For scheduling background image change(using constraint layout, start counting from dubai, down to statue of liberty.\n    ConstraintLayout constraintLayout;\n    public static int count = 0;\n    int[] drawable = new int[]{R.drawable.dubai, R.drawable.norway, R.drawable.eiffel_tower, R.drawable.hong_kong, R.drawable.statue_of_liberty,\n            R.drawable.beijing, R.drawable.chicago, R.drawable.colombia, R.drawable.vienna,R.drawable.tokyo};\n    Timer _t;\n\n    private WeatherDataViewModel viewModel;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_home);\n        // use home activity layout.\n\n        Toolbar toolbar = findViewById(R.id.toolbar);\n        setSupportActionBar(toolbar);\n        // Allow activity to make use of the toolbar\n\n        drawer = findViewById(R.id.drawer_layout);\n        NavigationView navigationView = findViewById(R.id.nav_view);\n        navigationView.setNavigationItemSelectedListener(this);\n\n        viewModel = new ViewModelProvider(this).get(WeatherDataViewModel.class);\n\n        // Trigger action to open &amp; close nevigation drawer\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(this, drawer, toolbar\n                , R.string.navigation_drawer_open, R.string.navigation_drawer_close);\n        drawer.addDrawerListener(toggle);\n        toggle.syncState();\n\n        timeField = findViewById(R.id.textView9);\n        Search = findViewById(R.id.imageView4);\n        textfield = findViewById(R.id.textfield);\n        //  find the id's of specific variables.\n\n        BottomNavigationView bottomNavigationView = findViewById(R.id.bottomNavigationView);\n        // host 3 fragments along with bottom navigation.\n        final NavHostFragment navHostFragment = (NavHostFragment) getSupportFragmentManager().findFragmentById(R.id.fragment);\n        assert navHostFragment != null;\n        final NavController navController = navHostFragment.getNavController();\n        NavigationUI.setupWithNavController(bottomNavigationView, navController);\n\n        // Make hourly &amp; daily tab unusable\n        bottomNavigationView.setOnNavigationItemSelectedListener(item -&gt; {\n\n            if (getSupportFragmentManager().getBackStackEntryCount() &gt; 0) {\n                getSupportFragmentManager().popBackStack();\n            }\n            return false;\n        });\n\n        navController.addOnDestinationChangedListener((controller, destination, arguments) -&gt; navController.popBackStack(destination.getId(), false));\n\n        // For scheduling background image change\n        constraintLayout = findViewById(R.id.layout);\n        constraintLayout.setBackgroundResource(R.drawable.dubai);\n        _t = new Timer();\n        _t.scheduleAtFixedRate(new TimerTask() {\n            @Override\n            public void run() {\n                // run on ui thread\n                runOnUiThread(() -&gt; {\n                    if (count &lt; drawable.length) {\n\n                        constraintLayout.setBackgroundResource(drawable[count]);\n                        count = (count + 1) % drawable.length;\n                    }\n                });\n            }\n        }, 5000, 5000);\n\n        Search.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                // make click sound when search button is clicked.\n                player = MediaPlayer.create(HomeActivity.this, R.raw.click);\n                player.start();\n\n                getWeatherData(textfield.getText().toString().trim());\n                // make use of some fragment's data\n\n                Fragment currentFragment = navHostFragment.getChildFragmentManager().getFragments().get(0);\n                if (currentFragment instanceof FirstFragment) {\n                    FirstFragment firstFragment = (FirstFragment) currentFragment;\n                    firstFragment.getWeatherData(textfield.getText().toString().trim());\n                } else if (currentFragment instanceof SecondFragment) {\n                    SecondFragment secondFragment = (SecondFragment) currentFragment;\n                    secondFragment.getWeatherData(textfield.getText().toString().trim());\n                } else if (currentFragment instanceof ThirdFragment) {\n                    ThirdFragment thirdFragment = (ThirdFragment) currentFragment;\n                    thirdFragment.getWeatherData(textfield.getText().toString().trim());\n                }\n            }\n\n            private void getWeatherData(String name) {\n\n                ApiInterface apiInterface = ApiClient.getClient().create(ApiInterface.class);\n\n                Call&lt;Example&gt; call = apiInterface.getWeatherData(name);\n\n                call.enqueue(new Callback&lt;Example&gt;() {\n                    @Override\n                    public void onResponse(@NonNull Call&lt;Example&gt; call, @NonNull Response&lt;Example&gt; response) {\n\n                        try {\n                            assert response.body() != null;\n                            timeField.setVisibility(View.VISIBLE);\n                            timeField.setText(&quot;First Updated:&quot; + &quot; &quot; + response.body().getDt());\n                        } catch (Exception e) {\n                            timeField.setVisibility(View.GONE);\n                            timeField.setText(&quot;First Updated: Unknown&quot;);\n                            Log.e(&quot;TAG&quot;, &quot;No City found&quot;);\n                            Toast.makeText(HomeActivity.this, &quot;No City found&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    }\n\n                    @Override\n                    public void onFailure(@NotNull Call&lt;Example&gt; call, @NotNull Throwable t) {\n                        t.printStackTrace();\n                    }\n\n                });\n            }\n\n        });\n    }\n\n    @Override\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n        switch (item.getItemId()) {\n            case R.id.settings_id:\n                getSupportFragmentManager().beginTransaction().replace(R.id.fragment,\n                        new Settings()).commit();\n                break;\n            case R.id.ads_upgrade_id:\n                getSupportFragmentManager().beginTransaction().replace(R.id.fragment,\n                        new Upgrade()).commit();\n                break;\n            case R.id.privacy_policy_id:\n                getSupportFragmentManager().beginTransaction().replace(R.id.fragment,\n                        new Privacy_Policy()).commit();\n                break;\n        }\n        drawer.closeDrawer(GravityCompat.START);\n\n        return true;\n    }\n\n    @Override\n    public void onBackPressed() {\n        if (drawer.isDrawerOpen(GravityCompat.START)) {\n            drawer.closeDrawer(GravityCompat.START);\n        } else {\n            super.onBackPressed();\n            // Open/close drawer animation\n        }\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":173557,"reputation":22258,"user_id":402322,"accept_rate":67,"display_name":"ceving"},"score":0,"creation_date":1363259077,"post_id":15406321,"comment_id":21783428,"body_markdown":"@MarkoTopolnik If I would be allowed I would use [Kawa](http://www.gnu.org/software/kawa/).","body":"@MarkoTopolnik If I would be allowed I would use <a href=\"http://www.gnu.org/software/kawa/\" rel=\"nofollow noreferrer\">Kawa</a>."}],"answers":[{"tags":[],"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1363256047,"creation_date":1363256047,"answer_id":15406397,"question_id":15406321,"body_markdown":"You implemented your class as an inner class inside some other. In that case you must mark the class as `static`.\r\n\r\nBut, the real answer is: you don&#39;t need the class at all, you just need the method:\r\n\r\n    public static &lt;T&gt; T dump(T arg) { ... }\r\n\r\nAs a side note, I use the same trick in my code, but I always include a msg argument for easier dump reading/grepping:\r\n\r\n    public static &lt;T&gt; T dump(String msg, T arg) { ... }","title":"How to work around &quot;non-static class T cannot be referenced from a static context&quot;?","body":"<p>You implemented your class as an inner class inside some other. In that case you must mark the class as <code>static</code>.</p>\n\n<p>But, the real answer is: you don't need the class at all, you just need the method:</p>\n\n<pre><code>public static &lt;T&gt; T dump(T arg) { ... }\n</code></pre>\n\n<p>As a side note, I use the same trick in my code, but I always include a msg argument for easier dump reading/grepping:</p>\n\n<pre><code>public static &lt;T&gt; T dump(String msg, T arg) { ... }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":173557,"reputation":22258,"user_id":402322,"accept_rate":67,"display_name":"ceving"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648034603,"creation_date":1648034603,"answer_id":71586345,"question_id":15406321,"body_markdown":"Thanks I got it:\r\n\r\n    import java.util.Arrays;\r\n    \r\n    public class Debug\r\n    {\r\n        public static &lt;T&gt; T dump (T arg)\r\n        {\r\n            System.err.println(arg instanceof Object[] ? \r\n                               Arrays.toString((Object[])arg) : arg);\r\n            return arg;\r\n        }\r\n    }\r\n\r\nLovely Scheme I grieve for you...","title":"How to work around &quot;non-static class T cannot be referenced from a static context&quot;?","body":"<p>Thanks I got it:</p>\n<pre><code>import java.util.Arrays;\n\npublic class Debug\n{\n    public static &lt;T&gt; T dump (T arg)\n    {\n        System.err.println(arg instanceof Object[] ? \n                           Arrays.toString((Object[])arg) : arg);\n        return arg;\n    }\n}\n</code></pre>\n<p>Lovely Scheme I grieve for you...</p>\n"}],"owner":{"account_id":173557,"reputation":22258,"user_id":402322,"accept_rate":67,"display_name":"ceving"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1886,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":15406397,"answer_count":2,"score":5,"last_activity_date":1648034603,"creation_date":1363255808,"question_id":15406321,"body_markdown":"How to write a Java function which simply takes an argument of any type, prints it and returns it?\r\n\r\nIn Scheme I am used to write the following macro:\r\n\r\n~~~scheme\r\n(define-syntax dump\r\n  (syntax-rules ()\r\n    ((_ arg) (let ((value arg))\r\n               (display &#39;arg)\r\n               (display &quot; -&gt; &quot;)\r\n               (display value)\r\n               (newline)\r\n               arg))))\r\n~~~\r\nCalling it `(+ 1 (dump (* 2 3)))` would return 7 and print `(* 2 3) -&gt; 6`.\r\n\r\nI tried something similar in Java:\r\n\r\n    public class Debug&lt;T&gt;\r\n    {\r\n        public static T dump (T arg)\r\n        {\r\n            System.err.println (arg);\r\n            return arg;\r\n        }\r\n    }\r\n\r\nBut I get the error:\r\n\r\n    non-static class T cannot be referenced from a static context\r\n\r\nHow to solve this?","title":"How to work around &quot;non-static class T cannot be referenced from a static context&quot;?","body":"<p>How to write a Java function which simply takes an argument of any type, prints it and returns it?</p>\n<p>In Scheme I am used to write the following macro:</p>\n<pre class=\"lang-lisp prettyprint-override\"><code>(define-syntax dump\n  (syntax-rules ()\n    ((_ arg) (let ((value arg))\n               (display 'arg)\n               (display &quot; -&gt; &quot;)\n               (display value)\n               (newline)\n               arg))))\n</code></pre>\n<p>Calling it <code>(+ 1 (dump (* 2 3)))</code> would return 7 and print <code>(* 2 3) -&gt; 6</code>.</p>\n<p>I tried something similar in Java:</p>\n<pre><code>public class Debug&lt;T&gt;\n{\n    public static T dump (T arg)\n    {\n        System.err.println (arg);\n        return arg;\n    }\n}\n</code></pre>\n<p>But I get the error:</p>\n<pre><code>non-static class T cannot be referenced from a static context\n</code></pre>\n<p>How to solve this?</p>\n"},{"tags":["java","data-structures"],"comments":[{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":2,"creation_date":1643393273,"post_id":70898163,"comment_id":125336666,"body_markdown":"Does this answer your question? [Avoiding NullPointerException in Java](https://stackoverflow.com/questions/271526/avoiding-nullpointerexception-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/271526/avoiding-nullpointerexception-in-java\">Avoiding NullPointerException in Java</a>"},{"owner":{"account_id":255453,"reputation":3554,"user_id":535515,"accept_rate":100,"display_name":"Gus"},"score":2,"creation_date":1643393557,"post_id":70898163,"comment_id":125336756,"body_markdown":"You could get that error / stack trace  if `__DriverSolution__.__helper__` called your method with a `null` argument for `head`","body":"You could get that error / stack trace  if <code>__DriverSolution__.__helper__</code> called your method with a <code>null</code> argument for <code>head</code>"},{"owner":{"account_id":7821678,"reputation":2208,"user_id":5914654,"display_name":"vincrichaud"},"score":0,"creation_date":1648034899,"post_id":70898163,"comment_id":126520482,"body_markdown":"You should loop while `current_head != null` and not while `head != null` in the first loop","body":"You should loop while <code>current_head != null</code> and not while <code>head != null</code> in the first loop"}],"answers":[{"tags":[],"owner":{"account_id":23744098,"reputation":1,"user_id":17761784,"display_name":"Siddharth Sagar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647788170,"creation_date":1647788170,"answer_id":71547854,"question_id":70898163,"body_markdown":"you need to add a condition for current_head==null in your while loop that&#39;s faulty. It should work fine after that.","title":"palindrome in linkedList","body":"<p>you need to add a condition for current_head==null in your while loop that's faulty. It should work fine after that.</p>\n"}],"owner":{"account_id":23219108,"reputation":27,"user_id":17311614,"display_name":"mario"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1764,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1648308784,"answer_count":1,"score":2,"last_activity_date":1648034544,"creation_date":1643392473,"question_id":70898163,"body_markdown":"I am trying to solve palindrome linked list on leetcode with brute force, but I am stuck in a logical problem. What&#39;s the difference between a head node and a reference to a head node?\r\n```\r\nclass Solution {\r\n    public boolean isPalindrome(ListNode head) {\r\n\r\n        ListNode prev = null;\r\n        ListNode current_head = head; // reference to head\r\n\r\n        while (head != null) // reversing a linked list\r\n        {\r\n            ListNode next_node = current_head.next; // here is the error\r\n            current_head.next = prev;\r\n            prev = current_head;\r\n            current_head = next_node;\r\n\r\n        }\r\n        while (prev != null &amp;&amp; head != null) //trying to print values.\r\n        {\r\n            System.out.println(&quot;prev :&quot; + prev.val);\r\n            System.out.println(&quot; head :&quot; + head.val);\r\n            head = head.next;\r\n            prev = prev.next;\r\n        }\r\n\r\n\r\n\r\n        /*   while(prev != null  &amp;&amp; current_head !=null)    //checking if it is a palindrome.\r\n           {\r\n              if(prev.val != current_head.val)\r\n              {\r\n                  return false;\r\n              }\r\n              else{\r\n                    prev=prev.next;\r\n               current_head= current_head.next;\r\n              }\r\n           }\r\n        */\r\n\r\n        return true;\r\n\r\n    }\r\n}\r\n```    \r\n\r\n\r\nThe error:\r\n\r\n\r\n     WARNING: A command line option has enabled the Security Manager\r\n        WARNING: The Security Manager is deprecated and will be removed in a future release\r\n        java.lang.NullPointerException: Cannot read field &quot;next&quot; because &quot;&lt;local3&gt;&quot; is null\r\n          at line 19, Solution.isPalindrome\r\n          at line 54, __DriverSolution__.__helper__\r\n          at line 84, __Driver__.main","title":"palindrome in linkedList","body":"<p>I am trying to solve palindrome linked list on leetcode with brute force, but I am stuck in a logical problem. What's the difference between a head node and a reference to a head node?</p>\n<pre><code>class Solution {\n    public boolean isPalindrome(ListNode head) {\n\n        ListNode prev = null;\n        ListNode current_head = head; // reference to head\n\n        while (head != null) // reversing a linked list\n        {\n            ListNode next_node = current_head.next; // here is the error\n            current_head.next = prev;\n            prev = current_head;\n            current_head = next_node;\n\n        }\n        while (prev != null &amp;&amp; head != null) //trying to print values.\n        {\n            System.out.println(&quot;prev :&quot; + prev.val);\n            System.out.println(&quot; head :&quot; + head.val);\n            head = head.next;\n            prev = prev.next;\n        }\n\n\n\n        /*   while(prev != null  &amp;&amp; current_head !=null)    //checking if it is a palindrome.\n           {\n              if(prev.val != current_head.val)\n              {\n                  return false;\n              }\n              else{\n                    prev=prev.next;\n               current_head= current_head.next;\n              }\n           }\n        */\n\n        return true;\n\n    }\n}\n</code></pre>\n<p>The error:</p>\n<pre><code> WARNING: A command line option has enabled the Security Manager\n    WARNING: The Security Manager is deprecated and will be removed in a future release\n    java.lang.NullPointerException: Cannot read field &quot;next&quot; because &quot;&lt;local3&gt;&quot; is null\n      at line 19, Solution.isPalindrome\n      at line 54, __DriverSolution__.__helper__\n      at line 84, __Driver__.main\n</code></pre>\n"},{"tags":["java","eclipse","error-handling","command-prompt"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1648034614,"post_id":71586306,"comment_id":126520371,"body_markdown":"You have to provide the [_classpath_](https://docs.oracle.com/en/java/javase/17/docs/specs/man/javac.html#standard-options).","body":"You have to provide the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/javac.html#standard-options\" rel=\"nofollow noreferrer\"><i>classpath</i></a>."},{"owner":{"account_id":21329132,"reputation":1,"user_id":15701137,"display_name":"pingutong"},"score":0,"creation_date":1648036228,"post_id":71586306,"comment_id":126521013,"body_markdown":"@Seelenvirtuose how? like in the environment variable?","body":"@Seelenvirtuose how? like in the environment variable?"},{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1648039665,"post_id":71586306,"comment_id":126522323,"body_markdown":"Read the link. You have to specify the `--class-path` command option or set the `CLASSPATH` environment variable","body":"Read the link. You have to specify the <code>--class-path</code> command option or set the <code>CLASSPATH</code> environment variable"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1648039696,"post_id":71586306,"comment_id":126522332,"body_markdown":"`javac` means compile your code, not run your code. In the run/launch configuration there the button _Show Command Line_ to get the command line to run your already compiled code.","body":"<code>javac</code> means compile your code, not run your code. In the run/launch configuration there the button <i>Show Command Line</i> to get the command line to run your already compiled code."},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1648047104,"post_id":71586306,"comment_id":126525810,"body_markdown":"@pingutong You really should read the very good documentation for which I provided you the link. It explains how to use the `javac` CLI tool.","body":"@pingutong You really should read the very good documentation for which I provided you the link. It explains how to use the <code>javac</code> CLI tool."}],"owner":{"account_id":21329132,"reputation":1,"user_id":15701137,"display_name":"pingutong"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648034435,"creation_date":1648034435,"question_id":71586306,"body_markdown":"There are no errors when I run my code in Eclipse. However, when I try to run it on the command prompt, I get 2 errors that are related to each other. ![Error on command prompt](https://i.stack.imgur.com/MXkUg.png)\r\n\r\nI reimported the rs2xml jar file, yet it still gave me the same error.","title":"Code works on Eclipse IDE but not on Command Prompt (error:package net.proteanit.sql does not exist)","body":"<p>There are no errors when I run my code in Eclipse. However, when I try to run it on the command prompt, I get 2 errors that are related to each other. <img src=\"https://i.stack.imgur.com/MXkUg.png\" alt=\"Error on command prompt\" /></p>\n<p>I reimported the rs2xml jar file, yet it still gave me the same error.</p>\n"},{"tags":["java","kotlin","automation"],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647990345,"creation_date":1647990345,"answer_id":71579976,"question_id":71579657,"body_markdown":"IntelliJ IDEA and Android Studio can do the function part of this.\r\n\r\nPut the cursor in your abstract class somewhere. Then Right Click -&gt; Refactor -&gt; Push Members Down...\r\n\r\nCheck the boxes next to all your abstract functions and press OK. This deletes the abstract function from the superclass and the `override` keyword from all the children.\r\n\r\nI don&#39;t know of any way to do the classes. But if your class is in the same package as its subclasses, you could refactor-rename it (Shift+F6) to &quot;Any&quot; and then simply delete the code of the class. Now all your classes will be subclasses of the standard library Any. They will be unnecessarily calling the superconstructor of Any, but that won&#39;t harm anything. This is already implicitly done anyway.\r\n\r\nIf it bothers you, you could write a script to remove that part by processing the kt files as text. Probably simpler than the script necessary to remove the `override` from the appropriate places.\r\n","title":"Delete an abstract class/interface and change all classes that inherit/implement it in bulk","body":"<p>IntelliJ IDEA and Android Studio can do the function part of this.</p>\n<p>Put the cursor in your abstract class somewhere. Then Right Click -&gt; Refactor -&gt; Push Members Down...</p>\n<p>Check the boxes next to all your abstract functions and press OK. This deletes the abstract function from the superclass and the <code>override</code> keyword from all the children.</p>\n<p>I don't know of any way to do the classes. But if your class is in the same package as its subclasses, you could refactor-rename it (Shift+F6) to &quot;Any&quot; and then simply delete the code of the class. Now all your classes will be subclasses of the standard library Any. They will be unnecessarily calling the superconstructor of Any, but that won't harm anything. This is already implicitly done anyway.</p>\n<p>If it bothers you, you could write a script to remove that part by processing the kt files as text. Probably simpler than the script necessary to remove the <code>override</code> from the appropriate places.</p>\n"},{"tags":[],"owner":{"account_id":13722742,"reputation":16978,"user_id":10134209,"display_name":"gidds"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648034003,"creation_date":1648034003,"answer_id":71586228,"question_id":71579657,"body_markdown":"I haven&#39;t tried this, but here&#39;s an idea that might work:\r\n\r\n* Take a copy of the code in your concrete subclass.\r\n* Delete it from your IDE. (Any references to it will then give an error.)\r\n* Refactor your abstract superclass, renaming and moving it so that it has the same name and package as the concrete subclass. (This should update all references in the rest of your codebase.)\r\n* Edit the moved class, pasting in the code of the concrete subclass. (You may be able to do this via a rollback in our source-control system.)\r\n\r\nYou should then end up with the same concrete subclass you started with, but the rest of the codebase referring to it rather than the no-longer-existing abstract superclass.\r\n\r\n(One potential issue is that if you&#39;re using a source-code control system such as git, that may show an unnecessary deletion and move/rename. But you should be able to fix that by doing a rollback before committing anything.)","title":"Delete an abstract class/interface and change all classes that inherit/implement it in bulk","body":"<p>I haven't tried this, but here's an idea that might work:</p>\n<ul>\n<li>Take a copy of the code in your concrete subclass.</li>\n<li>Delete it from your IDE. (Any references to it will then give an error.)</li>\n<li>Refactor your abstract superclass, renaming and moving it so that it has the same name and package as the concrete subclass. (This should update all references in the rest of your codebase.)</li>\n<li>Edit the moved class, pasting in the code of the concrete subclass. (You may be able to do this via a rollback in our source-control system.)</li>\n</ul>\n<p>You should then end up with the same concrete subclass you started with, but the rest of the codebase referring to it rather than the no-longer-existing abstract superclass.</p>\n<p>(One potential issue is that if you're using a source-code control system such as git, that may show an unnecessary deletion and move/rename. But you should be able to fix that by doing a rollback before committing anything.)</p>\n"}],"owner":{"account_id":9615566,"reputation":5188,"user_id":7138492,"accept_rate":100,"display_name":"Sergey Emeliyanov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":531,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648034003,"creation_date":1647987986,"question_id":71579657,"body_markdown":"I have an abstract class, which I decided to delete, since it did nothing but add boilerplate and needless complexity to the code: \r\n\r\n    abstract class AbstractClassToDelete {\r\n\r\n        fun someFun() {...}\r\n    }\r\n\r\nUnfortunately, it happenes so that several hundred of classes (almost 500 classes), are inheriting this abstract class, so in a nutshell they all look like this:\r\n\r\n    import com.example.AbstractClassToDelete\r\n\r\n    class SomeClass: AbstractClassToDelete {\r\n\r\n        override fun someFun() {...}\r\n\r\n        ...\r\n    }\r\n\r\nAfter I delete the abstract class, I&#39;d like the override functions to become normal (public) functions instead, without any changes to the insides:\r\n\r\n    // delete the import\r\n\r\n    class SomeClass { // delete inheritence\r\n\r\n        fun someFun() {...} // delete override keyword\r\n\r\n        ...\r\n    }\r\n\r\nDoing this by hand will take days, I wish this could be automated. I&#39;m using Android Studio, but I guess this task could be done elsewhere. After all, it&#39;s just a bunch of text files.","title":"Delete an abstract class/interface and change all classes that inherit/implement it in bulk","body":"<p>I have an abstract class, which I decided to delete, since it did nothing but add boilerplate and needless complexity to the code:</p>\n<pre><code>abstract class AbstractClassToDelete {\n\n    fun someFun() {...}\n}\n</code></pre>\n<p>Unfortunately, it happenes so that several hundred of classes (almost 500 classes), are inheriting this abstract class, so in a nutshell they all look like this:</p>\n<pre><code>import com.example.AbstractClassToDelete\n\nclass SomeClass: AbstractClassToDelete {\n\n    override fun someFun() {...}\n\n    ...\n}\n</code></pre>\n<p>After I delete the abstract class, I'd like the override functions to become normal (public) functions instead, without any changes to the insides:</p>\n<pre><code>// delete the import\n\nclass SomeClass { // delete inheritence\n\n    fun someFun() {...} // delete override keyword\n\n    ...\n}\n</code></pre>\n<p>Doing this by hand will take days, I wish this could be automated. I'm using Android Studio, but I guess this task could be done elsewhere. After all, it's just a bunch of text files.</p>\n"},{"tags":["java","hibernate","testing","jpa-2.0"],"answers":[{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1300900114,"creation_date":1300894436,"answer_id":5407710,"question_id":5407033,"body_markdown":"I&#39;m pretty sure this isn&#39;t possible. The annotated-entity mechanism is very static, which is why I stopped using it.\r\n\r\nWhat I did instead in similar situations was to define interfaces for the entities to implement, something like this:\r\n\r\n    interface UpdateValidation{\r\n        void preUpdate();\r\n    }\r\n\r\n    interface PersistValidation{\r\n        void prePersist();\r\n    }\r\n    \r\n    // etc.\r\n\r\nNow define a single EntityListener that checks the entities for the above interfaces. In the `@PreUpdate` method, check for `UpdateValidation`, in the `@PrePersist` method, check for `PersistValidation`. Then delegate to the entity methods.\r\n\r\nThat way you have a single Listener that controls the entire functionality, and you can turn that listener on or off with XML configuration.\r\n\r\n----------\r\n\r\n**Update** here&#39;s a complete implementation:\r\n\r\n    public class DelegatingEntityListener{\r\n    \r\n        public interface PrePersistSupport{\r\n            void prePersist();\r\n        }\r\n    \r\n        public interface PostPersistSupport{\r\n            void postPersist();\r\n        }\r\n    \r\n        public interface PreRemoveSupport{\r\n            void preRemove();\r\n        }\r\n    \r\n        public interface PostRemoveSupport{\r\n            void postRemove();\r\n        }\r\n    \r\n        public interface PreUpdateSupport{\r\n            void preUpdate();\r\n        }\r\n    \r\n        public interface PostUpdateSupport{\r\n            void postUpdate();\r\n        }\r\n    \r\n        public interface PostLoadSupport{\r\n            void postLoad();\r\n        }\r\n    \r\n        @PrePersist\r\n        public void prePersist(final Object entity){\r\n            if(entity instanceof PrePersistSupport){\r\n                ((PrePersistSupport) entity).prePersist();\r\n            }\r\n        }\r\n    \r\n        @PostPersist\r\n        public void postPersist(final Object entity){\r\n            if(entity instanceof PostPersistSupport){\r\n                ((PostPersistSupport) entity).postPersist();\r\n            }\r\n        }\r\n    \r\n        @PreRemove\r\n        public void preRemove(final Object entity){\r\n            if(entity instanceof PreRemoveSupport){\r\n                ((PreRemoveSupport) entity).preRemove();\r\n            }\r\n        }\r\n    \r\n        @PostRemove\r\n        public void postRemove(final Object entity){\r\n            if(entity instanceof PostRemoveSupport){\r\n                ((PostRemoveSupport) entity).postRemove();\r\n            }\r\n        }\r\n    \r\n        @PreUpdate\r\n        public void preUpdate(final Object entity){\r\n            if(entity instanceof PreUpdateSupport){\r\n                ((PreUpdateSupport) entity).preUpdate();\r\n            }\r\n        }\r\n    \r\n        @PostUpdate\r\n        public void postUpdate(final Object entity){\r\n            if(entity instanceof PostUpdateSupport){\r\n                ((PostUpdateSupport) entity).postUpdate();\r\n            }\r\n        }\r\n    \r\n        @PostLoad\r\n        public void postLoad(final Object entity){\r\n            if(entity instanceof PostLoadSupport){\r\n                ((PostLoadSupport) entity).postLoad();\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nAnd in case you wondered: no, I didn&#39;t write the code by hand. Here&#39;s the code that wrote that code :-) You can easily adjust it to your own needs.\r\n\r\n\r\n    public static void main(final String[] args){\r\n\r\n        final StringBuilder ib = new StringBuilder(); // interface builder\r\n        final StringBuilder sb = new StringBuilder(); // method builder\r\n        for(final Class&lt;? extends Annotation&gt; annotationType : Arrays\r\n            .asList(\r\n                // all lifecycle annotations:\r\n                PrePersist.class, PostPersist.class, PreRemove.class,\r\n                PostRemove.class, PreUpdate.class, PostUpdate.class,\r\n                PostLoad.class)){\r\n\r\n            final String annotationName = annotationType.getSimpleName();\r\n            final String lower =\r\n                annotationName\r\n                    .substring(0, 1)\r\n                    .toLowerCase()\r\n                    .concat(annotationName.substring(1));\r\n\r\n            ib.append(&quot;public interface &quot;)\r\n                .append(annotationName)\r\n                .append(&quot;Support{\\n\\tvoid &quot;)\r\n                .append(lower)\r\n                .append(&quot;();\\n}\\n\\n&quot;);\r\n\r\n            sb.append(&#39;@&#39;)\r\n                .append(annotationName)\r\n                .append(&quot; public void &quot;)\r\n                .append(lower)\r\n                .append(&quot;(Object entity){\\nif(entity instanceof &quot;)\r\n                .append(annotationName)\r\n                .append(&quot;Support){((&quot;)\r\n                .append(annotationName)\r\n                .append(&quot;Support)entity).&quot;)\r\n                .append(lower)\r\n                .append(&quot;();}}\\n\\n&quot;);\r\n\r\n        }\r\n        System.out.println(ib.toString());\r\n        System.out.println(sb.toString());\r\n\r\n    }\r\n\r\nThe drawback is of course that the JPA provider can&#39;t cache the lifecycle methods that are actually used, but I&#39;d say this is the only way to get what you want / need.","title":"How to disable JPA 2 callback methods and entity listeners","body":"<p>I'm pretty sure this isn't possible. The annotated-entity mechanism is very static, which is why I stopped using it.</p>\n\n<p>What I did instead in similar situations was to define interfaces for the entities to implement, something like this:</p>\n\n<pre><code>interface UpdateValidation{\n    void preUpdate();\n}\n\ninterface PersistValidation{\n    void prePersist();\n}\n\n// etc.\n</code></pre>\n\n<p>Now define a single EntityListener that checks the entities for the above interfaces. In the <code>@PreUpdate</code> method, check for <code>UpdateValidation</code>, in the <code>@PrePersist</code> method, check for <code>PersistValidation</code>. Then delegate to the entity methods.</p>\n\n<p>That way you have a single Listener that controls the entire functionality, and you can turn that listener on or off with XML configuration.</p>\n\n<hr>\n\n<p><strong>Update</strong> here's a complete implementation:</p>\n\n<pre><code>public class DelegatingEntityListener{\n\n    public interface PrePersistSupport{\n        void prePersist();\n    }\n\n    public interface PostPersistSupport{\n        void postPersist();\n    }\n\n    public interface PreRemoveSupport{\n        void preRemove();\n    }\n\n    public interface PostRemoveSupport{\n        void postRemove();\n    }\n\n    public interface PreUpdateSupport{\n        void preUpdate();\n    }\n\n    public interface PostUpdateSupport{\n        void postUpdate();\n    }\n\n    public interface PostLoadSupport{\n        void postLoad();\n    }\n\n    @PrePersist\n    public void prePersist(final Object entity){\n        if(entity instanceof PrePersistSupport){\n            ((PrePersistSupport) entity).prePersist();\n        }\n    }\n\n    @PostPersist\n    public void postPersist(final Object entity){\n        if(entity instanceof PostPersistSupport){\n            ((PostPersistSupport) entity).postPersist();\n        }\n    }\n\n    @PreRemove\n    public void preRemove(final Object entity){\n        if(entity instanceof PreRemoveSupport){\n            ((PreRemoveSupport) entity).preRemove();\n        }\n    }\n\n    @PostRemove\n    public void postRemove(final Object entity){\n        if(entity instanceof PostRemoveSupport){\n            ((PostRemoveSupport) entity).postRemove();\n        }\n    }\n\n    @PreUpdate\n    public void preUpdate(final Object entity){\n        if(entity instanceof PreUpdateSupport){\n            ((PreUpdateSupport) entity).preUpdate();\n        }\n    }\n\n    @PostUpdate\n    public void postUpdate(final Object entity){\n        if(entity instanceof PostUpdateSupport){\n            ((PostUpdateSupport) entity).postUpdate();\n        }\n    }\n\n    @PostLoad\n    public void postLoad(final Object entity){\n        if(entity instanceof PostLoadSupport){\n            ((PostLoadSupport) entity).postLoad();\n        }\n    }\n\n}\n</code></pre>\n\n<p>And in case you wondered: no, I didn't write the code by hand. Here's the code that wrote that code :-) You can easily adjust it to your own needs.</p>\n\n<pre><code>public static void main(final String[] args){\n\n    final StringBuilder ib = new StringBuilder(); // interface builder\n    final StringBuilder sb = new StringBuilder(); // method builder\n    for(final Class&lt;? extends Annotation&gt; annotationType : Arrays\n        .asList(\n            // all lifecycle annotations:\n            PrePersist.class, PostPersist.class, PreRemove.class,\n            PostRemove.class, PreUpdate.class, PostUpdate.class,\n            PostLoad.class)){\n\n        final String annotationName = annotationType.getSimpleName();\n        final String lower =\n            annotationName\n                .substring(0, 1)\n                .toLowerCase()\n                .concat(annotationName.substring(1));\n\n        ib.append(\"public interface \")\n            .append(annotationName)\n            .append(\"Support{\\n\\tvoid \")\n            .append(lower)\n            .append(\"();\\n}\\n\\n\");\n\n        sb.append('@')\n            .append(annotationName)\n            .append(\" public void \")\n            .append(lower)\n            .append(\"(Object entity){\\nif(entity instanceof \")\n            .append(annotationName)\n            .append(\"Support){((\")\n            .append(annotationName)\n            .append(\"Support)entity).\")\n            .append(lower)\n            .append(\"();}}\\n\\n\");\n\n    }\n    System.out.println(ib.toString());\n    System.out.println(sb.toString());\n\n}\n</code></pre>\n\n<p>The drawback is of course that the JPA provider can't cache the lifecycle methods that are actually used, but I'd say this is the only way to get what you want / need.</p>\n"},{"tags":[],"owner":{"account_id":32429,"reputation":3646,"user_id":90033,"accept_rate":87,"display_name":"Konstantin"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1412776272,"creation_date":1412774824,"answer_id":26258102,"question_id":5407033,"body_markdown":"If you want to remove all JPA listeners from Hibernate 4.3.5 (the only one I have tested) it can be done. I will not show how to get hold of the EntityMangerFactory (emf in below code) but after that the below code should be added/run. \r\n\r\n\r\n----------\r\n\r\n\r\nExplanation: it seems there is a very central class called  `org.hibernate.jpa.event.internal.jpa.CallbackRegistryImpl` that contains all registered listeners and callbacks on the entities. By replacing the registry with an empty one no callbacks will be performed.\r\n\r\n    SessionFactoryImpl sessionFactory = (SessionFactoryImpl) ((EntityManagerFactoryImpl) emf).getSessionFactory();\r\n    EventListenerRegistry eventListenerRegistry = sessionFactory.getServiceRegistry().getService(EventListenerRegistry.class);\r\n\r\n    CallbackRegistryImpl emptyRegistry= new CallbackRegistryImpl();\r\n\r\n    for ( EventType eventType : EventType.values() ) {\r\n      final EventListenerGroup eventListenerGroup = eventListenerRegistry.getEventListenerGroup( eventType );\r\n      for ( Object listener : eventListenerGroup.listeners() ) {\r\n        if ( CallbackRegistryConsumer.class.isInstance( listener ) ) {\r\n          ( (CallbackRegistryConsumer) listener ).injectCallbackRegistry( emptyRegistry );\r\n        }\r\n      }\r\n    }","title":"How to disable JPA 2 callback methods and entity listeners","body":"<p>If you want to remove all JPA listeners from Hibernate 4.3.5 (the only one I have tested) it can be done. I will not show how to get hold of the EntityMangerFactory (emf in below code) but after that the below code should be added/run. </p>\n\n<hr>\n\n<p>Explanation: it seems there is a very central class called  <code>org.hibernate.jpa.event.internal.jpa.CallbackRegistryImpl</code> that contains all registered listeners and callbacks on the entities. By replacing the registry with an empty one no callbacks will be performed.</p>\n\n<pre><code>SessionFactoryImpl sessionFactory = (SessionFactoryImpl) ((EntityManagerFactoryImpl) emf).getSessionFactory();\nEventListenerRegistry eventListenerRegistry = sessionFactory.getServiceRegistry().getService(EventListenerRegistry.class);\n\nCallbackRegistryImpl emptyRegistry= new CallbackRegistryImpl();\n\nfor ( EventType eventType : EventType.values() ) {\n  final EventListenerGroup eventListenerGroup = eventListenerRegistry.getEventListenerGroup( eventType );\n  for ( Object listener : eventListenerGroup.listeners() ) {\n    if ( CallbackRegistryConsumer.class.isInstance( listener ) ) {\n      ( (CallbackRegistryConsumer) listener ).injectCallbackRegistry( emptyRegistry );\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18835,"reputation":82190,"user_id":43582,"accept_rate":83,"display_name":"Bombe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1570451049,"creation_date":1570451049,"answer_id":58269491,"question_id":5407033,"body_markdown":"I recently had the same problem with entities annotated with `@EntityListeners` using EclipseLink. Here is what I have done to remove the listeners:\r\n\r\n    private fun disableEntityListeners(entityManager: EntityManager) {\r\n        entityManager.metamodel.entities\r\n                .map { it as EntityTypeImpl&lt;*&gt; }\r\n                .forEach {\r\n                    it.descriptor.eventManager.entityListenerEventListeners.clear()\r\n                }\r\n    }\r\n\r\n(It’s Kotlin code but you get the gist.)","title":"How to disable JPA 2 callback methods and entity listeners","body":"<p>I recently had the same problem with entities annotated with <code>@EntityListeners</code> using EclipseLink. Here is what I have done to remove the listeners:</p>\n\n<pre><code>private fun disableEntityListeners(entityManager: EntityManager) {\n    entityManager.metamodel.entities\n            .map { it as EntityTypeImpl&lt;*&gt; }\n            .forEach {\n                it.descriptor.eventManager.entityListenerEventListeners.clear()\n            }\n}\n</code></pre>\n\n<p>(It’s Kotlin code but you get the gist.)</p>\n"},{"tags":[],"owner":{"account_id":4557423,"reputation":97,"user_id":3700759,"display_name":"madarinho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648033880,"creation_date":1648033880,"answer_id":71586204,"question_id":5407033,"body_markdown":"First I want to add this related documentation here.\r\nhttps://docs.jboss.org/hibernate/stable/entitymanager/reference/en/html/listeners.html\r\n\r\nYou can use xml configuration instead of annotations, It will allow more flexibility.\r\n\r\nIn some scenarios, maybe not yours, there is the posiblity to extend your implementation class and add the @ExcludeSuperclassListeners. Then test around the new implementation class.","title":"How to disable JPA 2 callback methods and entity listeners","body":"<p>First I want to add this related documentation here.\n<a href=\"https://docs.jboss.org/hibernate/stable/entitymanager/reference/en/html/listeners.html\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/stable/entitymanager/reference/en/html/listeners.html</a></p>\n<p>You can use xml configuration instead of annotations, It will allow more flexibility.</p>\n<p>In some scenarios, maybe not yours, there is the posiblity to extend your implementation class and add the @ExcludeSuperclassListeners. Then test around the new implementation class.</p>\n"}],"owner":{"account_id":61147,"reputation":2846,"user_id":182393,"accept_rate":85,"display_name":"Koziołek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9240,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":5407710,"answer_count":4,"score":9,"last_activity_date":1648033880,"creation_date":1300891685,"question_id":5407033,"body_markdown":"I have some classes (entities) with methods annotated by `@PostLoad`, `@PrePersist` etc. and classes has `@EntityListeners` annotation. I want to disable processing of callback methods and listeners in my test environment. \r\n\r\nRemoving part of code is impossible because tests are run on CI server and I don&#39;t have any possibility to change code just for tests.\r\n\r\nIs there any possibility to turn off callback methods and entity listeners in JPA 2 configuration? I use Hibernate.","title":"How to disable JPA 2 callback methods and entity listeners","body":"<p>I have some classes (entities) with methods annotated by <code>@PostLoad</code>, <code>@PrePersist</code> etc. and classes has <code>@EntityListeners</code> annotation. I want to disable processing of callback methods and listeners in my test environment. </p>\n\n<p>Removing part of code is impossible because tests are run on CI server and I don't have any possibility to change code just for tests.</p>\n\n<p>Is there any possibility to turn off callback methods and entity listeners in JPA 2 configuration? I use Hibernate.</p>\n"},{"tags":["java","spring","spring-boot","gradle","java-platform-module-system"],"comments":[{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1647895134,"post_id":71562916,"comment_id":126481990,"body_markdown":"Why are you trying to turn a fat jar into a module? A fat jar is intended as a self-contained deployment unit, somewhat similar to a war file. This means that many of the benefits of being a module aren&#39;t applicable.","body":"Why are you trying to turn a fat jar into a module? A fat jar is intended as a self-contained deployment unit, somewhat similar to a war file. This means that many of the benefits of being a module aren&#39;t applicable."},{"owner":{"account_id":2666030,"reputation":5,"user_id":2304456,"display_name":"Pavel Taruts"},"score":0,"creation_date":1647900063,"post_id":71562916,"comment_id":126483356,"body_markdown":"@AndyWilkinson, it wasn&#39;t my intention to turn the fat jar into a module, I just put it to the module path as part of a shotgun debugging process. The main goal was to have the module &quot;app&quot; inside the jar to be a full-fledged named module at runtime.","body":"@AndyWilkinson, it wasn&#39;t my intention to turn the fat jar into a module, I just put it to the module path as part of a shotgun debugging process. The main goal was to have the module &quot;app&quot; inside the jar to be a full-fledged named module at runtime."}],"owner":{"account_id":2666030,"reputation":5,"user_id":2304456,"display_name":"Pavel Taruts"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":475,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648033574,"creation_date":1647889885,"question_id":71562916,"body_markdown":"I&#39;ve got a simplest modular sample application made with Gradle and Spring Boot, and I&#39;m having trouble to launch it with the modules being full-fledged named modules at runtime.\r\n\r\nMy questions are the following\r\n 1. **Can spring-boot-gradle-plugin build fat jars that you can run with full-fledged named modules at runtime?**\r\n 2. **If it can, then how do you make it build the jar, and how do you run it?**\r\n 3. **If it cannot, then what do I do to have modules at runtime in a Spring Boot app?**\r\n\r\n\r\nThe Gradle version is 7.2\r\n\r\n# The source #\r\n\r\n(You can get it here as well: &lt;https://github.com/ptrts/modules-bootRun-bug&gt;)\r\n\r\n## settings.gradle ##\r\n```\r\nrootProject.name = &#39;app&#39;\r\n```\r\n## build.gradle ##\r\n```\r\nplugins {\r\n    id &#39;org.springframework.boot&#39; version &#39;2.6.4&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n    id &#39;application&#39;\r\n}\r\n\r\ngroup = &#39;we&#39;\r\nsourceCompatibility = &#39;17&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n}\r\n\r\napplication {\r\n    mainModule = &#39;app&#39;\r\n    mainClass = &#39;app.Main&#39;\r\n}\r\n```\r\n## src/main/java/module-info.java ##\r\n```\r\nmodule app {\r\n    requires spring.boot;\r\n    requires spring.boot.autoconfigure;\r\n    requires java.annotation;\r\n    exports app;\r\n}\r\n```\r\n## src/main/java/app/Main ##\r\n```\r\npackage app;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        \r\n        // &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\r\n        // Output the module name\r\n        System.out.println(&quot;Module name = &quot; + Main.class.getModule().getName());\r\n        // &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\r\n\r\n        SpringApplication.run(Main.class, args);\r\n    }\r\n}\r\n```\r\n\r\nAs you can see **the app outputs to stdout the module name** of the Main class when launched\r\n\r\n# The resulting fat jar layout #\r\n&lt;pre&gt;\r\norg/springframework/boot/loader\r\n    Spring Boot bootstrapping stuff\r\nMETA-INF/MAINIFEST.MF\r\n    ...\r\n    Main-Class: org.springframework.boot.loader.JarLauncher\r\n    Start-Class: app.Main\r\n    ...\r\nBOOT-INF\r\n    lib\r\n        dependency libs\r\n    classes\r\n        app/Main.class **the package is deep in the JAR**\r\nmodule-info.class **the module descriptor is in the JAR root**\r\n&lt;/pre&gt;\r\n\r\n\r\n# How I tried to launch the application #\r\nI tried three different ways of launching the app\r\n- ./gradlew bootRun -i (-i is for INFO logging level)\r\n- java -jar build/libs/app.jar\r\n- java --module-path build/libs/app.jar --module app/app.Main\r\n\r\n## Launching with ./gradlew bootRun -i ##\r\nThe app prints out **Module name = null**\r\n\r\nIn the gradle logs we can see the command line used to launch the JVM, which also tells us that everything is in the class path\r\nHere it is with some extra line brakes which I added for readability\r\n\r\n&lt;pre&gt;\r\nC:\\Program Files\\Java\\jdk-17.0.1\\bin\\java.exe\r\n    ...\r\n    -cp\r\n        C:\\data\\projects\\modules-bootRun-bug\\build\\classes\\java\\main;\r\n        C:\\data\\projects\\modules-bootRun-bug\\build\\resources\\main;\r\n        C:\\Users\\pavel\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework.boot\\spring-boot-autoconfigure\\2.6.4\\36e75a2781fc604ac042945eed8be2fe049731df\\spring-boot-autoconfigure-2.6.4.jar;\r\n    ...\r\n    app.Main\r\n&lt;/pre&gt;\r\n\r\n## Launching with java -jar build/libs/app.jar ##\r\nThe app prints out **Module name = null**\r\n\r\n## Launching with java --module-path build/libs/app.jar --module app/app.Main ##\r\n\r\n&lt;pre&gt;\r\nError occurred during initialization of boot layer\r\njava.lang.module.FindException: Error reading module: app.jar\r\nCaused by: java.lang.module.InvalidModuleDescriptorException: Package app not found in module\r\n&lt;/pre&gt;\r\n\r\nThis is of course expectable, since module-info.class is in the jar root and it&#39;s package is somewhere deeper in the jar\r\n","title":"Running a spring-boot-gradle-plugin fat jar with named application modules at runtime?","body":"<p>I've got a simplest modular sample application made with Gradle and Spring Boot, and I'm having trouble to launch it with the modules being full-fledged named modules at runtime.</p>\n<p>My questions are the following</p>\n<ol>\n<li><strong>Can spring-boot-gradle-plugin build fat jars that you can run with full-fledged named modules at runtime?</strong></li>\n<li><strong>If it can, then how do you make it build the jar, and how do you run it?</strong></li>\n<li><strong>If it cannot, then what do I do to have modules at runtime in a Spring Boot app?</strong></li>\n</ol>\n<p>The Gradle version is 7.2</p>\n<h1>The source</h1>\n<p>(You can get it here as well: <a href=\"https://github.com/ptrts/modules-bootRun-bug\" rel=\"nofollow noreferrer\">https://github.com/ptrts/modules-bootRun-bug</a>)</p>\n<h2>settings.gradle</h2>\n<pre><code>rootProject.name = 'app'\n</code></pre>\n<h2>build.gradle</h2>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.6.4'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'application'\n}\n\ngroup = 'we'\nsourceCompatibility = '17'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter'\n}\n\napplication {\n    mainModule = 'app'\n    mainClass = 'app.Main'\n}\n</code></pre>\n<h2>src/main/java/module-info.java</h2>\n<pre><code>module app {\n    requires spring.boot;\n    requires spring.boot.autoconfigure;\n    requires java.annotation;\n    exports app;\n}\n</code></pre>\n<h2>src/main/java/app/Main</h2>\n<pre><code>package app;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class Main {\n    public static void main(String[] args) {\n        \n        // &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\n        // Output the module name\n        System.out.println(&quot;Module name = &quot; + Main.class.getModule().getName());\n        // &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\n\n        SpringApplication.run(Main.class, args);\n    }\n}\n</code></pre>\n<p>As you can see <strong>the app outputs to stdout the module name</strong> of the Main class when launched</p>\n<h1>The resulting fat jar layout</h1>\n<pre>\norg/springframework/boot/loader\n    Spring Boot bootstrapping stuff\nMETA-INF/MAINIFEST.MF\n    ...\n    Main-Class: org.springframework.boot.loader.JarLauncher\n    Start-Class: app.Main\n    ...\nBOOT-INF\n    lib\n        dependency libs\n    classes\n        app/Main.class **the package is deep in the JAR**\nmodule-info.class **the module descriptor is in the JAR root**\n</pre>\n<h1>How I tried to launch the application</h1>\n<p>I tried three different ways of launching the app</p>\n<ul>\n<li>./gradlew bootRun -i (-i is for INFO logging level)</li>\n<li>java -jar build/libs/app.jar</li>\n<li>java --module-path build/libs/app.jar --module app/app.Main</li>\n</ul>\n<h2>Launching with ./gradlew bootRun -i</h2>\n<p>The app prints out <strong>Module name = null</strong></p>\n<p>In the gradle logs we can see the command line used to launch the JVM, which also tells us that everything is in the class path\nHere it is with some extra line brakes which I added for readability</p>\n<pre>\nC:\\Program Files\\Java\\jdk-17.0.1\\bin\\java.exe\n    ...\n    -cp\n        C:\\data\\projects\\modules-bootRun-bug\\build\\classes\\java\\main;\n        C:\\data\\projects\\modules-bootRun-bug\\build\\resources\\main;\n        C:\\Users\\pavel\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework.boot\\spring-boot-autoconfigure\\2.6.4\\36e75a2781fc604ac042945eed8be2fe049731df\\spring-boot-autoconfigure-2.6.4.jar;\n    ...\n    app.Main\n</pre>\n<h2>Launching with java -jar build/libs/app.jar</h2>\n<p>The app prints out <strong>Module name = null</strong></p>\n<h2>Launching with java --module-path build/libs/app.jar --module app/app.Main</h2>\n<pre>\nError occurred during initialization of boot layer\njava.lang.module.FindException: Error reading module: app.jar\nCaused by: java.lang.module.InvalidModuleDescriptorException: Package app not found in module\n</pre>\n<p>This is of course expectable, since module-info.class is in the jar root and it's package is somewhere deeper in the jar</p>\n"},{"tags":["java","xml","xpath","xml-parsing"],"comments":[{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":1,"creation_date":1648034204,"post_id":71586097,"comment_id":126520222,"body_markdown":"If I run that code, `nodes.item(0).getLocalName()` is `typedef`; if I stringify it using [this answer](https://stackoverflow.com/questions/31399798/converting-nodelist-to-string-in-java), I get the whole element.","body":"If I run that code, <code>nodes.item(0).getLocalName()</code> is <code>typedef</code>; if I stringify it using <a href=\"https://stackoverflow.com/questions/31399798/converting-nodelist-to-string-in-java\">this answer</a>, I get the whole element."},{"owner":{"account_id":4570164,"reputation":4170,"user_id":3710053,"display_name":"Siebe Jongebloed"},"score":1,"creation_date":1648034549,"post_id":71586097,"comment_id":126520345,"body_markdown":"Your XPath is ok","body":"Your XPath is ok"},{"owner":{"account_id":11496422,"reputation":71,"user_id":8425611,"display_name":"Oguz"},"score":0,"creation_date":1648036300,"post_id":71586097,"comment_id":126521041,"body_markdown":"@Joe thank you for answer. It solved my problem. By the way, there could be more than one typedef element in xml. So, I can find the right one after visiting all nodes and check if(buf.toString().contains(&quot;laser-range&quot;)) if I am searching for &quot;laser-range&quot;. Is there different way to get right typdef element without traverse?","body":"@Joe thank you for answer. It solved my problem. By the way, there could be more than one typedef element in xml. So, I can find the right one after visiting all nodes and check if(buf.toString().contains(&quot;laser-range&quot;)) if I am searching for &quot;laser-range&quot;. Is there different way to get right typdef element without traverse?"},{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":0,"creation_date":1648111482,"post_id":71586097,"comment_id":126542831,"body_markdown":"@Oguz I&#39;m not sure I understand that requirement; the XPath has already selected only the elements with a `name` of `laser-range`.","body":"@Oguz I&#39;m not sure I understand that requirement; the XPath has already selected only the elements with a <code>name</code> of <code>laser-range</code>."},{"owner":{"account_id":11496422,"reputation":71,"user_id":8425611,"display_name":"Oguz"},"score":0,"creation_date":1648119250,"post_id":71586097,"comment_id":126545723,"body_markdown":"@Joe I see now. I though all typedef tags come from xml. It was my mistake. Thank you again.","body":"@Joe I see now. I though all typedef tags come from xml. It was my mistake. Thank you again."}],"owner":{"account_id":11496422,"reputation":71,"user_id":8425611,"display_name":"Oguz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648033352,"creation_date":1648033352,"question_id":71586097,"body_markdown":"I have a dynamic xml file that has not specific structure. For example;\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;module xmlns=&quot;urn:ietf:params:xml:ns:yang:yin:1&quot; name=&quot;ui-leaf-type-second&quot;&gt;\r\n    &lt;yang-version value=&quot;1.1&quot;/&gt;\r\n    &lt;namespace uri=&quot;ui-leaf-type-second&quot;/&gt;\r\n    &lt;prefix value=&quot;uil-type-second&quot;/&gt;\r\n    &lt;description&gt;\r\n        &lt;text&gt;This is basic yang types example&lt;/text&gt;\r\n    &lt;/description&gt;\r\n    &lt;revision date=&quot;2022-02-02&quot;&gt;\r\n        &lt;description&gt;\r\n            &lt;text&gt;initial revision&lt;/text&gt;\r\n        &lt;/description&gt;\r\n    &lt;/revision&gt;\r\n    &lt;typedef name=&quot;laser-range&quot;&gt;\r\n        &lt;type name=&quot;uint8&quot;&gt;\r\n            &lt;range value=&quot;0 .. 100&quot;/&gt;\r\n        &lt;/type&gt;\r\n        &lt;description&gt;\r\n            &lt;text&gt;Percentage&lt;/text&gt;\r\n        &lt;/description&gt;\r\n\t\t\r\n    &lt;/typedef&gt;\r\n    &lt;grouping name=&quot;grp-range&quot;&gt;\r\n        &lt;leaf name=&quot;name-of-range&quot;&gt;\r\n            &lt;type name=&quot;boolean&quot;/&gt;\r\n        &lt;/leaf&gt;\r\n    &lt;/grouping&gt;\r\n    &lt;container name=&quot;cnt-range&quot;&gt;\r\n        &lt;uses name=&quot;grp-range&quot;/&gt;\r\n    &lt;/container&gt;\r\n&lt;/module&gt;\r\n```\r\n\r\nI want to get full element which has value that I searching for. \r\nFor example, I want to get an element that have **@name = &quot;laser-range&quot;**\r\n\r\nIt should return whole element:\r\n\r\n```\r\n&lt;typedef name=&quot;laser-range&quot;&gt;\r\n        &lt;type name=&quot;uint8&quot;&gt;\r\n            &lt;range value=&quot;0 .. 100&quot;/&gt;\r\n        &lt;/type&gt;\r\n        &lt;description&gt;\r\n            &lt;text&gt;Percentage&lt;/text&gt;\r\n        &lt;/description&gt;\r\n\r\n&lt;/typedef&gt;\r\n```\r\n\r\nIf I search for **@name=&#39;name-of-range&#39;**, it should return\r\n```\r\n&lt;leaf name=&quot;name-of-range&quot;&gt;\r\n    &lt;type name=&quot;boolean&quot;/&gt;\r\n&lt;/leaf&gt;\r\n```\r\nI tried to get those with xpath but it is returning only values in the tag.\r\n    \r\n    \r\n    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n            factory.setNamespaceAware(true);\r\n            DocumentBuilder builder;\r\n            Document doc = null;\r\n            try {\r\n                builder = factory.newDocumentBuilder();\r\n                doc = builder.parse(tmpFile.toFile());\r\n    \r\n                XPath xpath = XPathFactory.newInstance().newXPath();\r\n                // XPath Query for showing all nodes value\r\n                XPathExpression expr = xpath.compile(&quot;//*[@name=&#39;laser-range&#39;]&quot;);\r\n    \r\n                Object result = expr.evaluate(doc, XPathConstants.NODESET);\r\n                NodeList nodes = (NodeList) result;\r\n                //result includes only &quot;Percentage&quot;\r\n    }\r\nI also tried to use @* notation of xpath but it could not give me a solution too.\r\n\r\nSo, how can I make it? Can someone to show me a way?","title":"XML Parse with Xpath in Java to get all elements with values matches","body":"<p>I have a dynamic xml file that has not specific structure. For example;</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;module xmlns=&quot;urn:ietf:params:xml:ns:yang:yin:1&quot; name=&quot;ui-leaf-type-second&quot;&gt;\n    &lt;yang-version value=&quot;1.1&quot;/&gt;\n    &lt;namespace uri=&quot;ui-leaf-type-second&quot;/&gt;\n    &lt;prefix value=&quot;uil-type-second&quot;/&gt;\n    &lt;description&gt;\n        &lt;text&gt;This is basic yang types example&lt;/text&gt;\n    &lt;/description&gt;\n    &lt;revision date=&quot;2022-02-02&quot;&gt;\n        &lt;description&gt;\n            &lt;text&gt;initial revision&lt;/text&gt;\n        &lt;/description&gt;\n    &lt;/revision&gt;\n    &lt;typedef name=&quot;laser-range&quot;&gt;\n        &lt;type name=&quot;uint8&quot;&gt;\n            &lt;range value=&quot;0 .. 100&quot;/&gt;\n        &lt;/type&gt;\n        &lt;description&gt;\n            &lt;text&gt;Percentage&lt;/text&gt;\n        &lt;/description&gt;\n        \n    &lt;/typedef&gt;\n    &lt;grouping name=&quot;grp-range&quot;&gt;\n        &lt;leaf name=&quot;name-of-range&quot;&gt;\n            &lt;type name=&quot;boolean&quot;/&gt;\n        &lt;/leaf&gt;\n    &lt;/grouping&gt;\n    &lt;container name=&quot;cnt-range&quot;&gt;\n        &lt;uses name=&quot;grp-range&quot;/&gt;\n    &lt;/container&gt;\n&lt;/module&gt;\n</code></pre>\n<p>I want to get full element which has value that I searching for.\nFor example, I want to get an element that have <strong>@name = &quot;laser-range&quot;</strong></p>\n<p>It should return whole element:</p>\n<pre><code>&lt;typedef name=&quot;laser-range&quot;&gt;\n        &lt;type name=&quot;uint8&quot;&gt;\n            &lt;range value=&quot;0 .. 100&quot;/&gt;\n        &lt;/type&gt;\n        &lt;description&gt;\n            &lt;text&gt;Percentage&lt;/text&gt;\n        &lt;/description&gt;\n\n&lt;/typedef&gt;\n</code></pre>\n<p>If I search for <strong>@name='name-of-range'</strong>, it should return</p>\n<pre><code>&lt;leaf name=&quot;name-of-range&quot;&gt;\n    &lt;type name=&quot;boolean&quot;/&gt;\n&lt;/leaf&gt;\n</code></pre>\n<p>I tried to get those with xpath but it is returning only values in the tag.</p>\n<pre><code>DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n        factory.setNamespaceAware(true);\n        DocumentBuilder builder;\n        Document doc = null;\n        try {\n            builder = factory.newDocumentBuilder();\n            doc = builder.parse(tmpFile.toFile());\n\n            XPath xpath = XPathFactory.newInstance().newXPath();\n            // XPath Query for showing all nodes value\n            XPathExpression expr = xpath.compile(&quot;//*[@name='laser-range']&quot;);\n\n            Object result = expr.evaluate(doc, XPathConstants.NODESET);\n            NodeList nodes = (NodeList) result;\n            //result includes only &quot;Percentage&quot;\n}\n</code></pre>\n<p>I also tried to use @* notation of xpath but it could not give me a solution too.</p>\n<p>So, how can I make it? Can someone to show me a way?</p>\n"},{"tags":["java","apache-beam"],"comments":[{"owner":{"account_id":18205236,"reputation":1825,"user_id":13248738,"display_name":"ewertonvsilva"},"score":0,"creation_date":1648052355,"post_id":71586061,"comment_id":126528199,"body_markdown":"does it show if you print only `collections` ?","body":"does it show if you print only <code>collections</code> ?"},{"owner":{"account_id":284307,"reputation":4946,"user_id":582333,"display_name":"robertwb"},"score":0,"creation_date":1648064144,"post_id":71586061,"comment_id":126532622,"body_markdown":"Are you sure `finalPayload` and `opPCol` are not both empty?","body":"Are you sure <code>finalPayload</code> and <code>opPCol</code> are not both empty?"},{"owner":{"account_id":12499967,"reputation":97,"user_id":9098732,"display_name":"sandeep singh"},"score":0,"creation_date":1648109333,"post_id":71586061,"comment_id":126542055,"body_markdown":"Yes,@robertwb, not empty","body":"Yes,@robertwb, not empty"},{"owner":{"account_id":284307,"reputation":4946,"user_id":582333,"display_name":"robertwb"},"score":0,"creation_date":1648142475,"post_id":71586061,"comment_id":126555684,"body_markdown":"Can you try counting the number of elements in finalPayload, opPCol, and mergedPcoll.","body":"Can you try counting the number of elements in finalPayload, opPCol, and mergedPcoll."},{"owner":{"account_id":19863790,"reputation":1361,"user_id":14551567,"display_name":"Betjens"},"score":0,"creation_date":1649240234,"post_id":71586061,"comment_id":126823855,"body_markdown":"I think you should check the official documentation about [designing pipelines](https://beam.apache.org/documentation/pipelines/design-your-pipeline/) which cover handling many pCollections and how you can merge it. Also, I invite you to check the official github project page for apache beam [join examples](https://github.com/apache/beam/blob/master/examples/java/src/main/java/org/apache/beam/examples/cookbook/JoinExamples.java). It would be helpful if you can also provide additional details such as opPCol definition and finalPayload details. As well as input and output mockup-data.","body":"I think you should check the official documentation about <a href=\"https://beam.apache.org/documentation/pipelines/design-your-pipeline/\" rel=\"nofollow noreferrer\">designing pipelines</a> which cover handling many pCollections and how you can merge it. Also, I invite you to check the official github project page for apache beam <a href=\"https://github.com/apache/beam/blob/master/examples/java/src/main/java/org/apache/beam/examples/cookbook/JoinExamples.java\" rel=\"nofollow noreferrer\">join examples</a>. It would be helpful if you can also provide additional details such as opPCol definition and finalPayload details. As well as input and output mockup-data."}],"owner":{"account_id":12499967,"reputation":97,"user_id":9098732,"display_name":"sandeep singh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648033210,"creation_date":1648033210,"question_id":71586061,"body_markdown":"This is my pic of code.I am trying to merge data from one PCollection to others PCollection.Although In graph view of dataflow it is showing but data is not coming  \r\n\r\nPCollectionList&lt;List&lt;MicroServiceResponse&gt;&gt; collections = PCollectionList.of(finalPayload).and(opPCol);\r\n\r\nPCollection&lt;List&lt;MicroServiceResponse&gt;&gt; mergedPcoll = collections.apply(Flatten.&lt;List&lt;MicroServiceResponse&gt;&gt;pCollections());\r\n\t\t","title":"Apache Beam Flatten is not taking data from others Pcollection","body":"<p>This is my pic of code.I am trying to merge data from one PCollection to others PCollection.Although In graph view of dataflow it is showing but data is not coming</p>\n<p>PCollectionList&lt;List&gt; collections = PCollectionList.of(finalPayload).and(opPCol);</p>\n<p>PCollection&lt;List&gt; mergedPcoll = collections.apply(Flatten.&lt;List&gt;pCollections());</p>\n"},{"tags":["powershell","java"],"comments":[{"owner":{"account_id":2644552,"reputation":4952,"user_id":2287538,"accept_rate":62,"display_name":"Rahul Bobhate"},"score":3,"creation_date":1369822907,"post_id":16811332,"comment_id":24231962,"body_markdown":"Have you set `%JAVA_HOME%/bin` in `PATH`?","body":"Have you set <code>%JAVA_HOME%&#47;bin</code> in <code>PATH</code>?"},{"owner":{"account_id":88922,"reputation":28816,"user_id":245679,"accept_rate":99,"display_name":"MD Sayem Ahmed"},"score":0,"creation_date":1369822922,"post_id":16811332,"comment_id":24231975,"body_markdown":"You need to add Java to your system path.","body":"You need to add Java to your system path."}],"answers":[{"tags":[],"owner":{"account_id":270103,"reputation":1176,"user_id":559849,"accept_rate":100,"display_name":"Gyan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1561304717,"creation_date":1369822969,"answer_id":16811385,"question_id":16811332,"body_markdown":"Add it to `C:/Program Files/Java/jre7/bin` added to the classpath environment variable.","title":"Cannot run Java from the Windows PowerShell command prompt","body":"<p>Add it to <code>C:/Program Files/Java/jre7/bin</code> added to the classpath environment variable.</p>\n"},{"tags":[],"owner":{"account_id":1212717,"reputation":11317,"user_id":1180968,"accept_rate":100,"display_name":"Sajan Chandran"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1369823205,"creation_date":1369823205,"answer_id":16811473,"question_id":16811332,"body_markdown":"You need to modify your &quot;PATH&quot; environment variable to add your &quot;java&quot; bin location, one way\r\nvia command prompt\r\n`set path=%path%;&lt;your java bin location&gt;;`\r\n\r\nBut this will be set only for your current session of your terminal.","title":"Cannot run Java from the Windows PowerShell command prompt","body":"<p>You need to modify your \"PATH\" environment variable to add your \"java\" bin location, one way\nvia command prompt\n<code>set path=%path%;&lt;your java bin location&gt;;</code></p>\n\n<p>But this will be set only for your current session of your terminal.</p>\n"},{"tags":[],"owner":{"account_id":2504602,"reputation":4189,"user_id":2178702,"accept_rate":68,"display_name":"Butani Vijay"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1419644555,"creation_date":1369823238,"answer_id":16811486,"question_id":16811332,"body_markdown":"You need to set the Java class path:\r\n\r\nReference: \r\n\r\n[How to set class path?][1]\r\n\r\nOr:\r\n\r\n[Link-2: How to set class path?][2]\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/essential/environment/paths.html\r\n  [2]: http://www.roseindia.net/java/java-classpath.shtml\r\n","title":"Cannot run Java from the Windows PowerShell command prompt","body":"<p>You need to set the Java class path:</p>\n\n<p>Reference: </p>\n\n<p><a href=\"http://docs.oracle.com/javase/tutorial/essential/environment/paths.html\" rel=\"nofollow\">How to set class path?</a></p>\n\n<p>Or:</p>\n\n<p><a href=\"http://www.roseindia.net/java/java-classpath.shtml\" rel=\"nofollow\">Link-2: How to set class path?</a></p>\n"},{"tags":[],"owner":{"account_id":2830303,"reputation":1,"user_id":2432024,"display_name":"rzakrzewski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1369823646,"creation_date":1369823646,"answer_id":16811607,"question_id":16811332,"body_markdown":"If it works in the regular shell but not in PowerShell, maybe you had PowerShell open when you installed or set your path and you just need to close PowerShell and reopen a new one to pick up the new path. ","title":"Cannot run Java from the Windows PowerShell command prompt","body":"<p>If it works in the regular shell but not in PowerShell, maybe you had PowerShell open when you installed or set your path and you just need to close PowerShell and reopen a new one to pick up the new path. </p>\n"},{"tags":[],"owner":{"account_id":1015060,"reputation":11794,"user_id":1026805,"accept_rate":86,"display_name":"Sri Harsha Chilakapati"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1369824654,"creation_date":1369823797,"answer_id":16811659,"question_id":16811332,"body_markdown":"&lt;!-- language-all: lang-none --&gt;\r\n\r\n  - In the run dialog box, enter &lt;kbd&gt;sysdm.cpl&lt;/kbd&gt;\r\n  - In the window that came up, navigate to &lt;kbd&gt;Advanced&lt;/kbd&gt; tab. Click on the &lt;kbd&gt;Environment Variables&lt;/kbd&gt; button.\r\n  - Add the location of your java installation (the bin directory) to the &lt;kbd&gt;PATH&lt;/kbd&gt; variable.\r\n\r\n        ;%ProgramFiles%/Java/jre%version%/bin\r\n\r\n    followed by a `;`\r\n\r\nNote:\r\n\r\n    %version% means the java version.","title":"Cannot run Java from the Windows PowerShell command prompt","body":"\n\n<ul>\n<li>In the run dialog box, enter <kbd>sysdm.cpl</kbd></li>\n<li>In the window that came up, navigate to <kbd>Advanced</kbd> tab. Click on the <kbd>Environment Variables</kbd> button.</li>\n<li><p>Add the location of your java installation (the bin directory) to the <kbd>PATH</kbd> variable.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>;%ProgramFiles%/Java/jre%version%/bin\n</code></pre>\n\n<p>followed by a <code>;</code></p></li>\n</ul>\n\n<p>Note:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>%version% means the java version.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1630434132,"creation_date":1377797716,"answer_id":18517503,"question_id":16811332,"body_markdown":"Make 2 environment variable changes:\r\n\r\n1.  Add a `JAVA_HOME` variable equal to something like:  `C:\\Java\\JDK1.7.0_25_x64`\r\n2.  Add `%JAVA_HOME%\\bin` to the beginning of your `PATH` variable.\r\n\r\nThen, start a brand new shell to see if the changes were applied.","title":"Cannot run Java from the Windows PowerShell command prompt","body":"<p>Make 2 environment variable changes:</p>\n<ol>\n<li>Add a <code>JAVA_HOME</code> variable equal to something like:  <code>C:\\Java\\JDK1.7.0_25_x64</code></li>\n<li>Add <code>%JAVA_HOME%\\bin</code> to the beginning of your <code>PATH</code> variable.</li>\n</ol>\n<p>Then, start a brand new shell to see if the changes were applied.</p>\n"},{"tags":[],"owner":{"account_id":5218446,"reputation":11,"user_id":4172604,"display_name":"Klunk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1419644684,"creation_date":1414039641,"answer_id":26521473,"question_id":16811332,"body_markdown":"If the environment variable is set or you have sourced the environment appropriately, the issue is executing a file in a shell:\r\n\r\n    javac .\\HelloWorld.java      //That is a file, so it can be ./\r\n\r\n    java HelloWorld              //Not the correct file name, so it will not execute, and so must call it as in MSDOS\r\n\r\nYou cannot `.\\` on the HelloWorld.class as the Java bytecode must be executed without the extension, `.\\` is for file execution.\r\n","title":"Cannot run Java from the Windows PowerShell command prompt","body":"<p>If the environment variable is set or you have sourced the environment appropriately, the issue is executing a file in a shell:</p>\n\n<pre><code>javac .\\HelloWorld.java      //That is a file, so it can be ./\n\njava HelloWorld              //Not the correct file name, so it will not execute, and so must call it as in MSDOS\n</code></pre>\n\n<p>You cannot <code>.\\</code> on the HelloWorld.class as the Java bytecode must be executed without the extension, <code>.\\</code> is for file execution.</p>\n"},{"tags":[],"owner":{"account_id":1096720,"reputation":9050,"user_id":1090166,"accept_rate":68,"display_name":"Cedric Reichenbach"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1572263513,"creation_date":1517688841,"answer_id":48601572,"question_id":16811332,"body_markdown":"If it works in cmd, but not in PowerShell, **your JDK path entry might be in quotes**.\r\n\r\nAs described in an [answer to another question](https://stackoverflow.com/a/48601543/1090166), go to system variables, edit the raw text of *Path* and simply remove the quotes.","title":"Cannot run Java from the Windows PowerShell command prompt","body":"<p>If it works in cmd, but not in PowerShell, <strong>your JDK path entry might be in quotes</strong>.</p>\n\n<p>As described in an <a href=\"https://stackoverflow.com/a/48601543/1090166\">answer to another question</a>, go to system variables, edit the raw text of <em>Path</em> and simply remove the quotes.</p>\n"},{"tags":[],"owner":{"account_id":8130851,"reputation":2004,"user_id":6124193,"display_name":"Dave"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630426634,"creation_date":1561310930,"answer_id":56726271,"question_id":16811332,"body_markdown":"I fixed this problem by reinstalling `Git-2.8.2-64-bit.exe`\r\nand following these instructions! https://learn.adafruit.com/windows-tools-for-the-electrical-engineer/git-plus-command-line-tools\r\n\r\nI then added the code mentioned above `c:\\Program Files\\Java\\jdk-11.0.3\\bin` \r\n- by navigating to control panel `/system/Advanced` tab\r\n- Click on &quot;Environment Variables&quot; then &quot;system&#39;s variables&quot; \r\n- and looked for `Path` to edited and\r\n- then added `c:\\Program Files\\Java\\jdk-11.0.3\\bin` \r\n\r\nAfter that, all is working for me now in a Windows PowerShell and also a MinGW64! See images of it working: [![Windows power shell][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/amIs3.png","title":"Cannot run Java from the Windows PowerShell command prompt","body":"<p>I fixed this problem by reinstalling <code>Git-2.8.2-64-bit.exe</code>\nand following these instructions! <a href=\"https://learn.adafruit.com/windows-tools-for-the-electrical-engineer/git-plus-command-line-tools\" rel=\"nofollow noreferrer\">https://learn.adafruit.com/windows-tools-for-the-electrical-engineer/git-plus-command-line-tools</a></p>\n<p>I then added the code mentioned above <code>c:\\Program Files\\Java\\jdk-11.0.3\\bin</code></p>\n<ul>\n<li>by navigating to control panel <code>/system/Advanced</code> tab</li>\n<li>Click on &quot;Environment Variables&quot; then &quot;system's variables&quot;</li>\n<li>and looked for <code>Path</code> to edited and</li>\n<li>then added <code>c:\\Program Files\\Java\\jdk-11.0.3\\bin</code></li>\n</ul>\n<p>After that, all is working for me now in a Windows PowerShell and also a MinGW64! See images of it working: <a href=\"https://i.stack.imgur.com/amIs3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/amIs3.png\" alt=\"Windows power shell\" /></a></p>\n"},{"tags":[],"owner":{"account_id":10194083,"reputation":322,"user_id":7526452,"display_name":"Codeninja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624257426,"creation_date":1624257426,"answer_id":68063343,"question_id":16811332,"body_markdown":"If this occurs while running the script, edit the value for JAVA_HOME inside script.\r\n\r\nexample:\r\n```[string] $java_home = &quot;C:\\env\\java\\jdk-1.8.0.222&quot;,```","title":"Cannot run Java from the Windows PowerShell command prompt","body":"<p>If this occurs while running the script, edit the value for JAVA_HOME inside script.</p>\n<p>example:\n<code>[string] $java_home = &quot;C:\\env\\java\\jdk-1.8.0.222&quot;,</code></p>\n"},{"tags":[],"owner":{"account_id":9457790,"reputation":478,"user_id":7032513,"display_name":"Kevin Oswaldo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648032916,"creation_date":1648032916,"answer_id":71585984,"question_id":16811332,"body_markdown":"My issue was that I had to restart my terminal, it worked after that. \r\n\r\nI hope this helps to anyone with my same issue","title":"Cannot run Java from the Windows PowerShell command prompt","body":"<p>My issue was that I had to restart my terminal, it worked after that.</p>\n<p>I hope this helps to anyone with my same issue</p>\n"}],"owner":{"account_id":38358,"reputation":53281,"user_id":110028,"accept_rate":86,"display_name":"snakile"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72173,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":11,"score":15,"last_activity_date":1648032916,"creation_date":1369822838,"question_id":16811332,"body_markdown":"I have Java installed on my machine (the JRE is under `C:\\Program Files\\Java`) but I can&#39;t run any java command from the Windows PowerShell command prompt.\r\n\r\n    &gt;&gt;&gt; java -version\r\n    java : The term &#39;java&#39; is not recognized as the name of a cmdlet, function, script file, or operable program. Check\r\n    the spelling of the name, or if a path was included, verify that the path is correct and try again.\r\n    At line:1 char:1\r\n    + java\r\n    + ~~~~\r\n        + CategoryInfo          : ObjectNotFound: (java:String) [], CommandNotFoundException\r\n        + FullyQualifiedErrorId : CommandNotFoundException\r\n\r\nHowever, I have noticed that Java does work and that I *can* run Java commands on the old Windows command prompt. Turns out it&#39;s only PowerShell where I can&#39;t run those commands. \r\n\r\nI have JRE 7 and I&#39;m using Windows PowerShell on Windows 8.","title":"Cannot run Java from the Windows PowerShell command prompt","body":"<p>I have Java installed on my machine (the JRE is under <code>C:\\Program Files\\Java</code>) but I can't run any java command from the Windows PowerShell command prompt.</p>\n\n<pre><code>&gt;&gt;&gt; java -version\njava : The term 'java' is not recognized as the name of a cmdlet, function, script file, or operable program. Check\nthe spelling of the name, or if a path was included, verify that the path is correct and try again.\nAt line:1 char:1\n+ java\n+ ~~~~\n    + CategoryInfo          : ObjectNotFound: (java:String) [], CommandNotFoundException\n    + FullyQualifiedErrorId : CommandNotFoundException\n</code></pre>\n\n<p>However, I have noticed that Java does work and that I <em>can</em> run Java commands on the old Windows command prompt. Turns out it's only PowerShell where I can't run those commands. </p>\n\n<p>I have JRE 7 and I'm using Windows PowerShell on Windows 8.</p>\n"},{"tags":["java","date","serialization"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1648023907,"post_id":71583807,"comment_id":126516190,"body_markdown":"Do not use a `java.util.Date` with a `SimpleDateFormat` here, instead try to use a `LocalDate` and two suitable `DateTimeFormatter`s. A `LocalDate` just stores day of month, month of year and year, nothing more.","body":"Do not use a <code>java.util.Date</code> with a <code>SimpleDateFormat</code> here, instead try to use a <code>LocalDate</code> and two suitable <code>DateTimeFormatter</code>s. A <code>LocalDate</code> just stores day of month, month of year and year, nothing more."}],"answers":[{"tags":[],"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648023933,"creation_date":1648023933,"answer_id":71583928,"question_id":71583807,"body_markdown":"The `JsonDeserializer` instructs Jackson how to convert a serialized input (in JSON) into an object (a `Date`).\r\n\r\nSpecularly, you need to create a `JsonSerializer` (and annotate the same field with it) in order to serialize the `Date` object into the format you want. That would be: \r\n\r\n    public final class TimestampSerializer extends JsonSerializer&lt;Date&gt; {\r\n        private static final DateTimeFormatter DATE_TIME_FORMATTER = DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy&quot;);\r\n    \r\n        @Override\r\n        public void serialize(Date date, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException {\r\n            String str = DATE_TIME_FORMATTER.format(date);\r\n            jsonGenerator.writeString(str);\r\n        }\r\n    }    \r\n\r\nSuggestion: the class `Date` is deprecated, prefer something newer such as `LocalDate` (if you care about the time zone) or `Instant` (if you want to leave everything at UTC timezone).","title":"Problem deserializing property &#39;udate&#39; Date in JAVA","body":"<p>The <code>JsonDeserializer</code> instructs Jackson how to convert a serialized input (in JSON) into an object (a <code>Date</code>).</p>\n<p>Specularly, you need to create a <code>JsonSerializer</code> (and annotate the same field with it) in order to serialize the <code>Date</code> object into the format you want. That would be:</p>\n<pre><code>public final class TimestampSerializer extends JsonSerializer&lt;Date&gt; {\n    private static final DateTimeFormatter DATE_TIME_FORMATTER = DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy&quot;);\n\n    @Override\n    public void serialize(Date date, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException {\n        String str = DATE_TIME_FORMATTER.format(date);\n        jsonGenerator.writeString(str);\n    }\n}    \n</code></pre>\n<p>Suggestion: the class <code>Date</code> is deprecated, prefer something newer such as <code>LocalDate</code> (if you care about the time zone) or <code>Instant</code> (if you want to leave everything at UTC timezone).</p>\n"},{"tags":[],"owner":{"account_id":23946100,"reputation":34,"user_id":17938423,"display_name":"Nodirbek Sirojiddinov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648032328,"creation_date":1648032328,"answer_id":71585834,"question_id":71583807,"body_markdown":"public class MyDateDeserializer extends JsonDeserializer {\r\n\r\n    @Override\r\n\r\n    public Object deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JacksonException {\r\n\r\n\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;);\r\n        DateTimeFormatter formatter2 = DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy&quot;);\r\n\r\n        String date2 = jsonParser.getText();\r\n\r\n\r\n\r\n        LocalDate localDate = LocalDate.parse(date2, formatter);\r\n     // LocalDate localDate1= LocalDate.parse(formatter2.format(localDate));\r\n\r\n        return localDate;\r\n\r\n    }\r\n\r\nI do this and its working. Thanks)","title":"Problem deserializing property &#39;udate&#39; Date in JAVA","body":"<p>public class MyDateDeserializer extends JsonDeserializer {</p>\n<pre><code>@Override\n\npublic Object deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JacksonException {\n\n\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;);\n    DateTimeFormatter formatter2 = DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy&quot;);\n\n    String date2 = jsonParser.getText();\n\n\n\n    LocalDate localDate = LocalDate.parse(date2, formatter);\n // LocalDate localDate1= LocalDate.parse(formatter2.format(localDate));\n\n    return localDate;\n\n}\n</code></pre>\n<p>I do this and its working. Thanks)</p>\n"}],"owner":{"account_id":23946100,"reputation":34,"user_id":17938423,"display_name":"Nodirbek Sirojiddinov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648032328,"creation_date":1648023348,"question_id":71583807,"body_markdown":"https://i.stack.imgur.com/aaPHR.png\r\n\r\nI get date (udate field) in String format from API.\r\n\r\nI have DTO class for this. But i need get day like &#39;28.12.2021&#39; for send to user.\r\n\r\n    public class CardHistoryUtrno {\r\n\r\n    @JsonDeserialize( using = MyDateDeserializer.class )\r\n    @JsonFormat(pattern=&quot;yyyyMMdd&quot;)\r\n            private Date udate;\r\n\r\nNow i take date like this:\r\n\r\nhttps://i.stack.imgur.com/I2oxj.png\r\n\r\nMyDateDeserializer.class\r\n\r\n```java\r\npublic class MyDateDeserializer extends JsonDeserializer {\r\n\r\n    @Override\r\n    \r\n    public Object deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JacksonException {\r\n        SimpleDateFormat format = new SimpleDateFormat(&quot;yyyyMMdd&quot;);\r\n       DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;);\r\n        String date = jsonParser.getText();\r\n    \r\n    \r\n    \r\n    \r\n        try {\r\n            return format.parse(date);\r\n    \r\n        } catch (ParseException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nHow i can get date like DD.MM.YYYY?","title":"Problem deserializing property &#39;udate&#39; Date in JAVA","body":"<p><a href=\"https://i.stack.imgur.com/aaPHR.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/aaPHR.png</a></p>\n<p>I get date (udate field) in String format from API.</p>\n<p>I have DTO class for this. But i need get day like '28.12.2021' for send to user.</p>\n<pre><code>public class CardHistoryUtrno {\n\n@JsonDeserialize( using = MyDateDeserializer.class )\n@JsonFormat(pattern=&quot;yyyyMMdd&quot;)\n        private Date udate;\n</code></pre>\n<p>Now i take date like this:</p>\n<p><a href=\"https://i.stack.imgur.com/I2oxj.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/I2oxj.png</a></p>\n<p>MyDateDeserializer.class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyDateDeserializer extends JsonDeserializer {\n\n    @Override\n    \n    public Object deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JacksonException {\n        SimpleDateFormat format = new SimpleDateFormat(&quot;yyyyMMdd&quot;);\n       DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;);\n        String date = jsonParser.getText();\n    \n    \n    \n    \n        try {\n            return format.parse(date);\n    \n        } catch (ParseException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n}\n</code></pre>\n<p>How i can get date like DD.MM.YYYY?</p>\n"},{"tags":["java","android","android-gradle-plugin","build.gradle"],"comments":[{"owner":{"account_id":4232032,"reputation":104,"user_id":3464162,"accept_rate":33,"display_name":"shivpal jodha"},"score":0,"creation_date":1554983960,"post_id":55631924,"comment_id":97954983,"body_markdown":"did you get any solution","body":"did you get any solution"},{"owner":{"account_id":3285290,"reputation":993,"user_id":2764954,"accept_rate":76,"display_name":"Manish"},"score":0,"creation_date":1564383479,"post_id":55631924,"comment_id":100997300,"body_markdown":"did you get any solution","body":"did you get any solution"},{"owner":{"account_id":7263281,"reputation":3763,"user_id":5539082,"display_name":"ND1010_"},"score":0,"creation_date":1579171917,"post_id":55631924,"comment_id":105679930,"body_markdown":"Have any one got the solution?","body":"Have any one got the solution?"}],"owner":{"account_id":8846477,"reputation":66,"user_id":6607074,"display_name":"Umesh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":832,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648031756,"creation_date":1554983779,"question_id":55631924,"body_markdown":"Program type already present: org.bouncycastle.LICENSE\r\n\r\nHello Everyone Hope you are doing well. \r\n\r\nHere is my question : We are using Two different types of Module library in one project but the scenario is We are getting compilation error of Program type already present: org.bouncycastle.LICENSE &amp; we didn&#39;t get where it is. So here we want a solution for how can we fix this issue without deleting or removing any module in our project ? We use this library in one of our module - bcprov-jdk15on-157.jar\r\nWe got while run this issue More than one file was found with OS independent path &#39;org/bouncycastle/x509/CertPathReviewerMessages_de.properties&#39;\r\n\r\n\r\n       packagingOptions {\r\n             exclude &#39;org.bouncycastle.LICENSE&#39;\r\n             exclude &#39;LICENSE&#39;\r\n             exclude &#39;LICENSE.txt&#39;\r\n             exclude &#39;META-INF/LICENSE&#39;\r\n             exclude &#39;META-INF/LICENSE.txt&#39;\r\n             exclude &#39;META-INF/NOTICE&#39;\r\n             exclude &#39;META-INF/NOTICE.txt&#39;\r\n             exclude &#39;META-             \r\n             INF/services/com.fasterxml.jackson.core.JsonFactory&#39;\r\n             exclude &#39;META-INF/rxjava.properties&#39;\r\n      }\r\n\r\n      configurations {\r\n             compile.exclude module: &#39;org.bouncycastle&#39;\r\n             compile.exclude group: &#39;com.google.code.gson&#39;\r\n      }\r\n\r\nThis is my gradle file\r\n\r\n      apply plugin: &#39;com.android.application&#39;\r\n      apply plugin: &#39;kotlin-android&#39;\r\n      apply plugin: &#39;kotlin-android-extensions&#39;\r\n      android {\r\n           compileSdkVersion 27\r\n        defaultConfig {\r\n             applicationId &quot;xxxxx&quot;\r\n             minSdkVersion 19\r\n             targetSdkVersion 27\r\n             versionCode 2\r\n             versionName &quot;1.1&quot;\r\n             multiDexEnabled true\r\n             testInstrumentationRunner \r\n               &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n        buildTypes {\r\n           release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), \r\n            &#39;proguard-rules.pro&#39;\r\n        }\r\n        }\r\n\r\n    packagingOptions {\r\n        exclude &#39;org.bouncycastle.LICENSE&#39;\r\n        exclude &#39;LICENSE&#39;\r\n        exclude &#39;LICENSE.txt&#39;\r\n        exclude &#39;META-INF/LICENSE&#39;\r\n        exclude &#39;META-INF/LICENSE.txt&#39;\r\n        exclude &#39;META-INF/NOTICE&#39;\r\n        exclude &#39;META-INF/NOTICE.txt&#39;\r\n        exclude &#39;META-INF/services/com.fasterxml.jackson.core.JsonFactory&#39;\r\n        exclude &#39;META-INF/rxjava.properties&#39;\r\n    }\r\n\r\n\r\n    configurations {\r\n        compile.exclude module: &#39;org.bouncycastle&#39;\r\n       compile.exclude group: &#39;com.google.code.gson&#39;\r\n       \r\n    }\r\n\r\n    }\r\n\r\n    dependencies {\r\n       implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n      /* implementation &quot;org.jetbrains.kotlin:kotlin-stdlib- \r\n       jdk7:$kotlin_version&quot;*/\r\n       implementation &#39;com.android.support.constraint:constraint-layout:1.1.2&#39;\r\n       implementation &#39;com.android.support:support-v4:27.1.1&#39;\r\n       implementation &#39;com.squareup.retrofit2:retrofit:2.3.0&#39;\r\n       implementation &#39;com.squareup.retrofit2:converter-gson:2.3.0&#39;\r\n       implementation &#39;com.android.support:recyclerview-v7:27.1.1&#39;\r\n       implementation &#39;com.android.support:design:27.1.1&#39;\r\n       implementation &#39;com.android.support:cardview-v7:27.1.1&#39;\r\n       implementation &#39;com.github.ganfra:material-spinner:2.0.0&#39;\r\n       implementation &#39;com.android.support:multidex:1.0.3&#39;\r\n       implementation &#39;xml-security:xmlsec:1.3.0&#39;\r\n       implementation &#39;com.intuit.sdp:sdp-android:1.0.3&#39;\r\n       implementation &#39;net.cachapa.expandablelayout:expandablelayout:2.9.2&#39;\r\n       implementation &#39;com.borax12.materialdaterangepicker:library:1.9&#39;\r\n       implementation &#39;com.moos:Material-ProgressView:1.0.6&#39;\r\n       implementation &#39;de.greenrobot:greendao:2.1.0&#39;\r\n       implementation &#39;org.greenrobot:eventbus:3.0.0&#39;\r\n       /* implementation &#39;org.jsoup:jsoup:1.8.3&#39;*/\r\n       implementation &#39;com.github.ravindu1024:android-loadingdialog:1.0.3&#39;\r\n       testImplementation &#39;junit:junit:4.12&#39;\r\n       androidTestImplementation &#39;com.android.support.test:runner:1.0.2&#39;\r\n       androidTestImplementation &#39;com.android.support.test.espresso:espresso-              \r\n       core:3.0.2&#39;\r\n       implementation &#39;com.github.ittianyu:BottomNavigationViewEx:1.2.4&#39;\r\n       implementation &#39;com.jakewharton:butterknife:8.2.0&#39;\r\n       annotationProcessor &#39;com.jakewharton:butterknife-compiler:8.2.0&#39;\r\n       implementation project(&#39;:framework-release&#39;)\r\n       implementation project(&#39;:aepscore&#39;)\r\n       implementation project(&#39;:aepslibrary-release&#39;)\r\n       implementation project(&#39;:fingpay&#39;)\r\n       }\r\n\r\n\r\nThis is my Error log \r\n\r\n\r\n             org.gradle.api.tasks.TaskExecutionException: Execution failed for \r\n            task &#39;:app:transformResourcesWithMergeJavaResForDebug&#39;.\r\n\tat  \r\n       org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter. \r\n       executeActions(ExecuteActionsTaskExecuter.java:103)\r\n\tat \r\n      org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter. \r\n       execute(ExecuteActionsTaskExecuter.java:73)\r\n\tat \r\n      org.gradle.api.internal.tasks.execution. \r\n      OutputDirectoryCreatingTaskExecuter \r\n      .execute(OutputDirectoryCreatingTaskExecuter.java:51)\r\n\tat org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter. \r\n      execute(SkipUpToDateTaskExecuter.java:59)\r\n\tat org.gradle.api.internal.tasks.execution. \r\n       ResolveTaskOutputCachingStateExecuter.execute \r\n      (ResolveTaskOutputCachingStateExecuter.java:54)\r\n\tat org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter. \r\n       execute(ValidatingTaskExecuter.java:59)\r\n\tat \r\n      org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter \r\n      .execute(SkipEmptySourceFilesTaskExecuter.java:101)\r\n\tat org.gradle.api.internal.tasks.execution.FinalizeInputFileProperties \r\n       TaskExecuter.execute(FinalizeInputFilePropertiesTaskExecuter.java:44)\r\n\tat \r\n       org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter. \r\n       execute(CleanupStaleOutputsExecuter.java:91)\r\n\tat org.gradle.api.internal.tasks.execution. \r\n       ResolveTaskArtifactStateTaskExecuter.execute \r\n      (ResolveTaskArtifactStateTaskExecuter.java:62)\r\n\tat \r\n      org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter \r\n     .execute(SkipTaskWithNoActionsExecuter.java:59)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter. \r\n       execute(SkipOnlyIfTaskExecuter.java:54)\r\n\tat \r\n      org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter. \r\n      execute(ExecuteAtMostOnceTaskExecuter.java:43)\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.\r\n      execute(CatchExceptionTaskExecuter.java:34)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$ \r\n      EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:256)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor$ \r\n      RunnableBuildOperationWorker.execute \r\n      (DefaultBuildOperationExecutor.java:336)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor$ \r\n      RunnableBuildOperationWorker.execute \r\n      (DefaultBuildOperationExecutor.java:328)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor. \r\n      execute(DefaultBuildOperationExecutor.java:199)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor. \r\n      run(DefaultBuildOperationExecutor.java:110)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$ \r\n      EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:249)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$ \r\n      EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:238)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ \r\n      TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:123)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ \r\n      TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:79)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ \r\n      TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:104)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ \r\n      TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:98)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionPlan. \r\n      execute(DefaultTaskExecutionPlan.java:663)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionPlan. \r\n        executeWithTask(DefaultTaskExecutionPlan.java:597)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$                        \r\n        TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:98)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecord \r\n        Failures.onExecute(ExecutorPolicy.java:63)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1. \r\n       run(ManagedExecutorImpl.java:46)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker \r\n       (ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run \r\n       (ThreadPoolExecutor.java:617)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$Managed \r\n       ThreadRunnable.run(ThreadFactoryImpl.java:55)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n\r\n    Caused by: com.android.builder.merge.DuplicateRelativeFileException: More \r\n    than one file was found with OS independent path \r\n    &#39;org/bouncycastle/x509/CertPathReviewerMessages_de.properties&#39;\r\n\tat com.android.builder.merge.StreamMergeAlgorithms. \r\n    lambda$acceptOnlyOne$2(StreamMergeAlgorithms.java:75)\r\n\tat com.android.builder.merge.StreamMergeAlgorithms. \r\n    lambda$select$3(StreamMergeAlgorithms.java:100)\r\n\tat com.android.builder.merge.IncrementalFileMergerOutputs$1. \r\n    create(IncrementalFileMergerOutputs.java:86)\r\n\tat com.android.builder.merge.DelegateIncrementalFileMergerOutput. \r\n    create(DelegateIncrementalFileMergerOutput.java:61)\r\n\tat com.android.build.gradle.internal.transforms. \r\n    MergeJavaResourcesTransform$1.create(MergeJavaResourcesTransform.java:379)\r\n\tat com.android.builder.merge.IncrementalFileMerger. \r\n    updateChangedFile(IncrementalFileMerger.java:221)\r\n\tat com.android.builder.merge.IncrementalFileMerger. \r\n    mergeChangedInputs(IncrementalFileMerger.java:190)\r\n\tat com.android.builder.merge.IncrementalFileMerger. \r\n    merge(IncrementalFileMerger.java:77)\r\n\tat com.android.build.gradle.internal.transforms. \r\n    MergeJavaResourcesTransform.transform \r\n    (MergeJavaResourcesTransform.java:411)\r\n\tat com.android.build.gradle.internal.pipeline.TransformTask$2. \r\n    call(TransformTask.java:239)\r\n\tat com.android.build.gradle.internal.pipeline.TransformTask$2. \r\n    call(TransformTask.java:235)\r\n\tat com.android.builder.profile.ThreadRecorder.record \r\n    (ThreadRecorder.java:102)\r\n\tat com.android.build.gradle.internal.pipeline.TransformTask. \r\n    transform(TransformTask.java:230)\r\n\tat sun.reflect.GeneratedMethodAccessor562.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke \r\n    (DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\r\n\tat org.gradle.api.internal.project.taskfactory. \r\n    IncrementalTaskAction.doExecute(IncrementalTaskAction.java:50)\r\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction. \r\n    execute(StandardTaskAction.java:39)\r\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction. \r\n    execute(StandardTaskAction.java:26)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActions \r\n    TaskExecuter$1.run(ExecuteActionsTaskExecuter.java:124)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor \r\n    $RunnableBuildOperationWorker.execute \r\n    (DefaultBuildOperationExecutor.java:336)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor \r\n    $RunnableBuildOperationWorker.execute \r\n    (DefaultBuildOperationExecutor.java:328)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor. \r\n    execute(DefaultBuildOperationExecutor.java:199)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor. \r\n    run(DefaultBuildOperationExecutor.java:110)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActions \r\n    TaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:113)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter. \r\n    executeActions(ExecuteActionsTaskExecuter.java:95)\r\n\t... 33 more","title":"Program type already present: org.bouncycastle.LICENSE","body":"<p>Program type already present: org.bouncycastle.LICENSE</p>\n\n<p>Hello Everyone Hope you are doing well. </p>\n\n<p>Here is my question : We are using Two different types of Module library in one project but the scenario is We are getting compilation error of Program type already present: org.bouncycastle.LICENSE &amp; we didn't get where it is. So here we want a solution for how can we fix this issue without deleting or removing any module in our project ? We use this library in one of our module - bcprov-jdk15on-157.jar\nWe got while run this issue More than one file was found with OS independent path 'org/bouncycastle/x509/CertPathReviewerMessages_de.properties'</p>\n\n<pre><code>   packagingOptions {\n         exclude 'org.bouncycastle.LICENSE'\n         exclude 'LICENSE'\n         exclude 'LICENSE.txt'\n         exclude 'META-INF/LICENSE'\n         exclude 'META-INF/LICENSE.txt'\n         exclude 'META-INF/NOTICE'\n         exclude 'META-INF/NOTICE.txt'\n         exclude 'META-             \n         INF/services/com.fasterxml.jackson.core.JsonFactory'\n         exclude 'META-INF/rxjava.properties'\n  }\n\n  configurations {\n         compile.exclude module: 'org.bouncycastle'\n         compile.exclude group: 'com.google.code.gson'\n  }\n</code></pre>\n\n<p>This is my gradle file</p>\n\n<pre><code>  apply plugin: 'com.android.application'\n  apply plugin: 'kotlin-android'\n  apply plugin: 'kotlin-android-extensions'\n  android {\n       compileSdkVersion 27\n    defaultConfig {\n         applicationId \"xxxxx\"\n         minSdkVersion 19\n         targetSdkVersion 27\n         versionCode 2\n         versionName \"1.1\"\n         multiDexEnabled true\n         testInstrumentationRunner \n           \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n       release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), \n        'proguard-rules.pro'\n    }\n    }\n\npackagingOptions {\n    exclude 'org.bouncycastle.LICENSE'\n    exclude 'LICENSE'\n    exclude 'LICENSE.txt'\n    exclude 'META-INF/LICENSE'\n    exclude 'META-INF/LICENSE.txt'\n    exclude 'META-INF/NOTICE'\n    exclude 'META-INF/NOTICE.txt'\n    exclude 'META-INF/services/com.fasterxml.jackson.core.JsonFactory'\n    exclude 'META-INF/rxjava.properties'\n}\n\n\nconfigurations {\n    compile.exclude module: 'org.bouncycastle'\n   compile.exclude group: 'com.google.code.gson'\n\n}\n\n}\n\ndependencies {\n   implementation fileTree(include: ['*.jar'], dir: 'libs')\n  /* implementation \"org.jetbrains.kotlin:kotlin-stdlib- \n   jdk7:$kotlin_version\"*/\n   implementation 'com.android.support.constraint:constraint-layout:1.1.2'\n   implementation 'com.android.support:support-v4:27.1.1'\n   implementation 'com.squareup.retrofit2:retrofit:2.3.0'\n   implementation 'com.squareup.retrofit2:converter-gson:2.3.0'\n   implementation 'com.android.support:recyclerview-v7:27.1.1'\n   implementation 'com.android.support:design:27.1.1'\n   implementation 'com.android.support:cardview-v7:27.1.1'\n   implementation 'com.github.ganfra:material-spinner:2.0.0'\n   implementation 'com.android.support:multidex:1.0.3'\n   implementation 'xml-security:xmlsec:1.3.0'\n   implementation 'com.intuit.sdp:sdp-android:1.0.3'\n   implementation 'net.cachapa.expandablelayout:expandablelayout:2.9.2'\n   implementation 'com.borax12.materialdaterangepicker:library:1.9'\n   implementation 'com.moos:Material-ProgressView:1.0.6'\n   implementation 'de.greenrobot:greendao:2.1.0'\n   implementation 'org.greenrobot:eventbus:3.0.0'\n   /* implementation 'org.jsoup:jsoup:1.8.3'*/\n   implementation 'com.github.ravindu1024:android-loadingdialog:1.0.3'\n   testImplementation 'junit:junit:4.12'\n   androidTestImplementation 'com.android.support.test:runner:1.0.2'\n   androidTestImplementation 'com.android.support.test.espresso:espresso-              \n   core:3.0.2'\n   implementation 'com.github.ittianyu:BottomNavigationViewEx:1.2.4'\n   implementation 'com.jakewharton:butterknife:8.2.0'\n   annotationProcessor 'com.jakewharton:butterknife-compiler:8.2.0'\n   implementation project(':framework-release')\n   implementation project(':aepscore')\n   implementation project(':aepslibrary-release')\n   implementation project(':fingpay')\n   }\n</code></pre>\n\n<p>This is my Error log </p>\n\n<pre><code>         org.gradle.api.tasks.TaskExecutionException: Execution failed for \n        task ':app:transformResourcesWithMergeJavaResForDebug'.\nat  \n   org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter. \n   executeActions(ExecuteActionsTaskExecuter.java:103)\nat \n  org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter. \n   execute(ExecuteActionsTaskExecuter.java:73)\nat \n  org.gradle.api.internal.tasks.execution. \n  OutputDirectoryCreatingTaskExecuter \n  .execute(OutputDirectoryCreatingTaskExecuter.java:51)\nat org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter. \n  execute(SkipUpToDateTaskExecuter.java:59)\nat org.gradle.api.internal.tasks.execution. \n   ResolveTaskOutputCachingStateExecuter.execute \n  (ResolveTaskOutputCachingStateExecuter.java:54)\nat org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter. \n   execute(ValidatingTaskExecuter.java:59)\nat \n  org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter \n  .execute(SkipEmptySourceFilesTaskExecuter.java:101)\nat org.gradle.api.internal.tasks.execution.FinalizeInputFileProperties \n   TaskExecuter.execute(FinalizeInputFilePropertiesTaskExecuter.java:44)\nat \n   org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter. \n   execute(CleanupStaleOutputsExecuter.java:91)\nat org.gradle.api.internal.tasks.execution. \n   ResolveTaskArtifactStateTaskExecuter.execute \n  (ResolveTaskArtifactStateTaskExecuter.java:62)\nat \n  org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter \n .execute(SkipTaskWithNoActionsExecuter.java:59)\nat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter. \n   execute(SkipOnlyIfTaskExecuter.java:54)\nat \n  org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter. \n  execute(ExecuteAtMostOnceTaskExecuter.java:43)\nat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.\n  execute(CatchExceptionTaskExecuter.java:34)\nat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$ \n  EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:256)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor$ \n  RunnableBuildOperationWorker.execute \n  (DefaultBuildOperationExecutor.java:336)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor$ \n  RunnableBuildOperationWorker.execute \n  (DefaultBuildOperationExecutor.java:328)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor. \n  execute(DefaultBuildOperationExecutor.java:199)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor. \n  run(DefaultBuildOperationExecutor.java:110)\nat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$ \n  EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:249)\nat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$ \n  EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:238)\nat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ \n  TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:123)\nat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ \n  TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:79)\nat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ \n  TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:104)\nat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ \n  TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:98)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionPlan. \n  execute(DefaultTaskExecutionPlan.java:663)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionPlan. \n    executeWithTask(DefaultTaskExecutionPlan.java:597)\nat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$                        \n    TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:98)\nat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecord \n    Failures.onExecute(ExecutorPolicy.java:63)\nat org.gradle.internal.concurrent.ManagedExecutorImpl$1. \n   run(ManagedExecutorImpl.java:46)\nat java.util.concurrent.ThreadPoolExecutor.runWorker \n   (ThreadPoolExecutor.java:1142)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run \n   (ThreadPoolExecutor.java:617)\nat org.gradle.internal.concurrent.ThreadFactoryImpl$Managed \n   ThreadRunnable.run(ThreadFactoryImpl.java:55)\nat java.lang.Thread.run(Thread.java:745)\n\nCaused by: com.android.builder.merge.DuplicateRelativeFileException: More \nthan one file was found with OS independent path \n'org/bouncycastle/x509/CertPathReviewerMessages_de.properties'\nat com.android.builder.merge.StreamMergeAlgorithms. \nlambda$acceptOnlyOne$2(StreamMergeAlgorithms.java:75)\nat com.android.builder.merge.StreamMergeAlgorithms. \nlambda$select$3(StreamMergeAlgorithms.java:100)\nat com.android.builder.merge.IncrementalFileMergerOutputs$1. \ncreate(IncrementalFileMergerOutputs.java:86)\nat com.android.builder.merge.DelegateIncrementalFileMergerOutput. \ncreate(DelegateIncrementalFileMergerOutput.java:61)\nat com.android.build.gradle.internal.transforms. \nMergeJavaResourcesTransform$1.create(MergeJavaResourcesTransform.java:379)\nat com.android.builder.merge.IncrementalFileMerger. \nupdateChangedFile(IncrementalFileMerger.java:221)\nat com.android.builder.merge.IncrementalFileMerger. \nmergeChangedInputs(IncrementalFileMerger.java:190)\nat com.android.builder.merge.IncrementalFileMerger. \nmerge(IncrementalFileMerger.java:77)\nat com.android.build.gradle.internal.transforms. \nMergeJavaResourcesTransform.transform \n(MergeJavaResourcesTransform.java:411)\nat com.android.build.gradle.internal.pipeline.TransformTask$2. \ncall(TransformTask.java:239)\nat com.android.build.gradle.internal.pipeline.TransformTask$2. \ncall(TransformTask.java:235)\nat com.android.builder.profile.ThreadRecorder.record \n(ThreadRecorder.java:102)\nat com.android.build.gradle.internal.pipeline.TransformTask. \ntransform(TransformTask.java:230)\nat sun.reflect.GeneratedMethodAccessor562.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke \n(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\nat org.gradle.api.internal.project.taskfactory. \nIncrementalTaskAction.doExecute(IncrementalTaskAction.java:50)\nat org.gradle.api.internal.project.taskfactory.StandardTaskAction. \nexecute(StandardTaskAction.java:39)\nat org.gradle.api.internal.project.taskfactory.StandardTaskAction. \nexecute(StandardTaskAction.java:26)\nat org.gradle.api.internal.tasks.execution.ExecuteActions \nTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:124)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor \n$RunnableBuildOperationWorker.execute \n(DefaultBuildOperationExecutor.java:336)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor \n$RunnableBuildOperationWorker.execute \n(DefaultBuildOperationExecutor.java:328)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor. \nexecute(DefaultBuildOperationExecutor.java:199)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor. \nrun(DefaultBuildOperationExecutor.java:110)\nat org.gradle.api.internal.tasks.execution.ExecuteActions \nTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:113)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter. \nexecuteActions(ExecuteActionsTaskExecuter.java:95)\n... 33 more\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1648026200,"post_id":71584383,"comment_id":126517005,"body_markdown":"What is the output you are getting?","body":"What is the output you are getting?"},{"owner":{"account_id":24657568,"reputation":1,"user_id":18554117,"display_name":"Adam"},"score":0,"creation_date":1648026247,"post_id":71584383,"comment_id":126517027,"body_markdown":"292278994-08-17 12:42:55  this is the output","body":"292278994-08-17 12:42:55  this is the output"},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1648026371,"post_id":71584383,"comment_id":126517083,"body_markdown":"Long.MAX_VALUE is a timestamp very far in the future, so the year is apparently 292278994. What are you exactly trying to achieve?","body":"Long.MAX_VALUE is a timestamp very far in the future, so the year is apparently 292278994. What are you exactly trying to achieve?"},{"owner":{"account_id":24657568,"reputation":1,"user_id":18554117,"display_name":"Adam"},"score":0,"creation_date":1648026423,"post_id":71584383,"comment_id":126517111,"body_markdown":"I need to get output like this -  2022-08-17 12:42:55 .  how to convert &quot; 292278994 &quot; this year format  to &quot; 2022 &quot;. Or any suggestions for get Date MAX value ?","body":"I need to get output like this -  2022-08-17 12:42:55 .  how to convert &quot; 292278994 &quot; this year format  to &quot; 2022 &quot;. Or any suggestions for get Date MAX value ?"},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1648026444,"post_id":71584383,"comment_id":126517115,"body_markdown":"To see the date of 10 seconds ago, try  `new Date(System.currentTimeMillis() - 10000);`","body":"To see the date of 10 seconds ago, try  <code>new Date(System.currentTimeMillis() - 10000);</code>"},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":5,"creation_date":1648026498,"post_id":71584383,"comment_id":126517133,"body_markdown":"If you want the date to be in 2022, then you should not pass a long timestamp that points to the year 292278994","body":"If you want the date to be in 2022, then you should not pass a long timestamp that points to the year 292278994"},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1648026548,"post_id":71584383,"comment_id":126517153,"body_markdown":"by default, just `new Date()` will create the current date (using System.currentTimeMillis() as the timestamp)","body":"by default, just <code>new Date()</code> will create the current date (using System.currentTimeMillis() as the timestamp)"},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1648026607,"post_id":71584383,"comment_id":126517185,"body_markdown":"Note that java.util.Date is just a wrapper around a long timestamp, nothing else. If you want to do more with time and date, then use the new java.time classes instead.","body":"Note that java.util.Date is just a wrapper around a long timestamp, nothing else. If you want to do more with time and date, then use the new java.time classes instead."},{"owner":{"account_id":24657568,"reputation":1,"user_id":18554117,"display_name":"Adam"},"score":0,"creation_date":1648026672,"post_id":71584383,"comment_id":126517213,"body_markdown":"How can I get Date MAX value and MIN value in java. is there any way to get this","body":"How can I get Date MAX value and MIN value in java. is there any way to get this"},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":1,"creation_date":1648026712,"post_id":71584383,"comment_id":126517232,"body_markdown":"You just did that, by passing the Long.MAX_VALUE to the Date class, you got the largest date it can represent, which is 292278994-08-17 12:42:55","body":"You just did that, by passing the Long.MAX_VALUE to the Date class, you got the largest date it can represent, which is 292278994-08-17 12:42:55"},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1648026812,"post_id":71584383,"comment_id":126517266,"body_markdown":"or do you want the largest date in the current year?","body":"or do you want the largest date in the current year?"},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1648026931,"post_id":71584383,"comment_id":126517315,"body_markdown":"BTW the MIN value is obtained by passing the timestamp 0, which leads to `1970-01-01 01:00:00`","body":"BTW the MIN value is obtained by passing the timestamp 0, which leads to <code>1970-01-01 01:00:00</code>"},{"owner":{"account_id":24657568,"reputation":1,"user_id":18554117,"display_name":"Adam"},"score":0,"creation_date":1648026997,"post_id":71584383,"comment_id":126517340,"body_markdown":"Oh 292278994 this is the MAX year from Date class. There is nothing to do for this. but how can I get the MAX Value and MIN Value in java?","body":"Oh 292278994 this is the MAX year from Date class. There is nothing to do for this. but how can I get the MAX Value and MIN Value in java?"},{"owner":{"account_id":24657568,"reputation":1,"user_id":18554117,"display_name":"Adam"},"score":0,"creation_date":1648027170,"post_id":71584383,"comment_id":126517416,"body_markdown":"Yeah I want to get largest date and minimum date in the current year .","body":"Yeah I want to get largest date and minimum date in the current year ."},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1648027206,"post_id":71584383,"comment_id":126517425,"body_markdown":"Finally, we know what you want :-)","body":"Finally, we know what you want :-)"},{"owner":{"account_id":24657568,"reputation":1,"user_id":18554117,"display_name":"Adam"},"score":0,"creation_date":1648027331,"post_id":71584383,"comment_id":126517483,"body_markdown":"Ha Ha Ha... Thanks brother can you help for this :D","body":"Ha Ha Ha... Thanks brother can you help for this :D"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1648047109,"post_id":71584383,"comment_id":126525811,"body_markdown":"Set `today` to `LocalDate.now(ZoneId.systemDefault())`. Then get the earliest time of the year as `today.with(TemporalAdjusters.firstDayOfYear()).atStartOfDay()`. Gives `2022-01-01T00:00`. Get the latest time as `today.with(TemporalAdjusters.lastDayOfYear()).atTime(LocalTime.MAX)`. Gives `2022-12-31T23:59:59.999999999`. Or even beter, represent the year as the half-open interval from first time inclusive to the first time of the following year exclusive.","body":"Set <code>today</code> to <code>LocalDate.now(ZoneId.systemDefault())</code>. Then get the earliest time of the year as <code>today.with(TemporalAdjusters.firstDayOfYear()).atStartOfDay(&zwnj;&#8203;)</code>. Gives <code>2022-01-01T00:00</code>. Get the latest time as <code>today.with(TemporalAdjusters.lastDayOfYear()).atTime(LocalTi&zwnj;&#8203;me.MAX)</code>. Gives <code>2022-12-31T23:59:59.999999999</code>. Or even beter, represent the year as the half-open interval from first time inclusive to the first time of the following year exclusive."}],"answers":[{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648028922,"creation_date":1648026714,"answer_id":71584552,"question_id":71584383,"body_markdown":"Epoch milliseconds are milliseconds counted from the very first moment of 1970 and they are stored as `long` in Java. That means `Long.MAX_VALUE` will get you the moment in time that is as far in the future as this representation allows. A moment that is beyond some maximum date of the current year, like some hundred million years beyond…\r\n\r\nIf you are on Java 8 or higher and try to use an `Instant` with `Long.MAX_VALUE` like this:\r\n\r\n```lang-java\r\npublic static void main(String[] args) {\r\n\t// use the greates Long as epoch millis and create an Instant from it\r\n\tInstant instant = Instant.ofEpochMilli(Long.MAX_VALUE);\r\n\t// represent the Instant as date and time of day in a specific zone\r\n\tZonedDateTime zdt = ZonedDateTime.ofInstant(instant, ZoneId.of(&quot;UTC&quot;));\r\n\t// define the output format\r\n\tDateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss&quot;);\r\n\t// and print the \r\n\tSystem.out.println(zdt.format(dtf));\r\n}\r\n```\r\n\r\nYou will get the following output:\r\n\r\n```lang-none\r\n+292278994-08-17 07:12:55\r\n```\r\n\r\nYou may want to adjust the `ZoneId` to the desired one and remove the leading *plus* from the output…\r\n\r\nBut basically understand that epoch milliseconds are not years.","title":"want to get the largest date from now on in java","body":"<p>Epoch milliseconds are milliseconds counted from the very first moment of 1970 and they are stored as <code>long</code> in Java. That means <code>Long.MAX_VALUE</code> will get you the moment in time that is as far in the future as this representation allows. A moment that is beyond some maximum date of the current year, like some hundred million years beyond…</p>\n<p>If you are on Java 8 or higher and try to use an <code>Instant</code> with <code>Long.MAX_VALUE</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    // use the greates Long as epoch millis and create an Instant from it\n    Instant instant = Instant.ofEpochMilli(Long.MAX_VALUE);\n    // represent the Instant as date and time of day in a specific zone\n    ZonedDateTime zdt = ZonedDateTime.ofInstant(instant, ZoneId.of(&quot;UTC&quot;));\n    // define the output format\n    DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss&quot;);\n    // and print the \n    System.out.println(zdt.format(dtf));\n}\n</code></pre>\n<p>You will get the following output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>+292278994-08-17 07:12:55\n</code></pre>\n<p>You may want to adjust the <code>ZoneId</code> to the desired one and remove the leading <em>plus</em> from the output…</p>\n<p>But basically understand that epoch milliseconds are not years.</p>\n"},{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648027629,"creation_date":1648027629,"answer_id":71584738,"question_id":71584383,"body_markdown":"To get the boundary dates of the current year, you can use the java.time API and set the month/day values to january 1st and december 31st respectively:\r\n\r\n        LocalDateTime now = LocalDateTime.now();\r\n        LocalDateTime startOfYear = now.withMonth(1).withDayOfMonth(1).withHour(0).withMinute(0).withSecond(0).withNano(0);\r\n        LocalDateTime endOfYear = now.withMonth(12).withDayOfMonth(31).withHour(23).withMinute(59).withSecond(59).withNano(999999999);\r\n        System.out.println(startOfYear);\r\n        System.out.println(endOfYear);\r\n\r\nOutput:\r\n\r\n    2022-01-01T00:00\r\n    2022-12-31T23:59:59.999999999","title":"want to get the largest date from now on in java","body":"<p>To get the boundary dates of the current year, you can use the java.time API and set the month/day values to january 1st and december 31st respectively:</p>\n<pre><code>    LocalDateTime now = LocalDateTime.now();\n    LocalDateTime startOfYear = now.withMonth(1).withDayOfMonth(1).withHour(0).withMinute(0).withSecond(0).withNano(0);\n    LocalDateTime endOfYear = now.withMonth(12).withDayOfMonth(31).withHour(23).withMinute(59).withSecond(59).withNano(999999999);\n    System.out.println(startOfYear);\n    System.out.println(endOfYear);\n</code></pre>\n<p>Output:</p>\n<pre><code>2022-01-01T00:00\n2022-12-31T23:59:59.999999999\n</code></pre>\n"}],"owner":{"account_id":24657568,"reputation":1,"user_id":18554117,"display_name":"Adam"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":277,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1648029158,"accepted_answer_id":71584738,"answer_count":2,"score":-1,"last_activity_date":1648031424,"creation_date":1648025965,"question_id":71584383,"body_markdown":"Code\r\n\r\n` Date dates = new Date(Long.MAX_VALUE);`\r\n\r\noutput -\r\n**292278994-08-17 12:42:55**\r\n\r\nI want to get the largest date today onwards. How to get this using another way.292278994 this year cant save my DB I need only 4 characters for the year.","title":"want to get the largest date from now on in java","body":"<p>Code</p>\n<p><code> Date dates = new Date(Long.MAX_VALUE);</code></p>\n<p>output -\n<strong>292278994-08-17 12:42:55</strong></p>\n<p>I want to get the largest date today onwards. How to get this using another way.292278994 this year cant save my DB I need only 4 characters for the year.</p>\n"},{"tags":["java","multithreading","synchronization","wait","synchronized"],"answers":[{"tags":[],"owner":{"account_id":7345617,"reputation":664,"user_id":5593397,"display_name":"marian0"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1452117648,"creation_date":1452117122,"answer_id":34643514,"question_id":34643342,"body_markdown":"Have a look at [this][1].\r\n\r\n**Short story**: A waiting thread can be woken up by another one calling notify. So in your case addWorkItem will return false in a thread that called `wait()` just after another thread calls `notify()`.\r\n\r\nAlso having a look at your logic I think you are trying to block the consumer when the queue is empty and awake it when there is job to be done.\r\nAnd you want the producer not to deliver new jobs until the queue is empty.\r\nIf this is the case, then calling return after waiting will just close your consumer/producer not letting them finish their jobs when they can. \r\n\r\n  [1]: https://stackoverflow.com/questions/1036754/difference-between-wait-and-sleep","title":"What does it mean to return a value after calling wait()?","body":"<p>Have a look at <a href=\"https://stackoverflow.com/questions/1036754/difference-between-wait-and-sleep\">this</a>.</p>\n\n<p><strong>Short story</strong>: A waiting thread can be woken up by another one calling notify. So in your case addWorkItem will return false in a thread that called <code>wait()</code> just after another thread calls <code>notify()</code>.</p>\n\n<p>Also having a look at your logic I think you are trying to block the consumer when the queue is empty and awake it when there is job to be done.\nAnd you want the producer not to deliver new jobs until the queue is empty.\nIf this is the case, then calling return after waiting will just close your consumer/producer not letting them finish their jobs when they can. </p>\n"},{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1452136199,"creation_date":1452117125,"answer_id":34643515,"question_id":34643342,"body_markdown":"Having the producer maintain a retry buffer does keep  the i value from getting lost, but this still isn&#39;t a good way to write the method.\r\n\r\nReturning from inside the while loop doesn&#39;t make sense. You check the size of the queue, and if it&#39;s maxed out you wait around until you get a notification that the size of the queue changed, then inexplicably return false (??). The waiting doesn&#39;t really accomplish anything.\r\n\r\nThe point of waiting in addWorkItem is to delay your thread until the queue has room for the new value. You should wait inside a loop, where when you come out of the wait, your thread reacquires the lock and re-checks the condition (queue size &gt; max) to see if it can add the item yet. \r\n\r\nOnce the thread has exited from the while loop it is holding the lock, it is sure there&#39;s enough room in the queue for the new item (because no other threads can do anything to change the size of the queue while this thread has the lock held), and it can go ahead and add the value to the queue.\r\n\r\nYou are catching the InterruptedException in an unproductive way, because you catch it, don&#39;t bother to restore the interrupt flag, and go back to the top of the while loop. You should be using the interruption to quit waiting and get out of the method. Letting InterruptedException be thrown here would make more sense; the thread running the method should know better how to handle the interruption than this object does.\r\n\r\nYou shouldn&#39;t assume wait returns only when the thread is notified, it can return without a notification. That&#39;s one of the reasons to call wait in a loop.\r\n\r\nReworked version:\r\n\r\n    public synchronized boolean addWorkItem(Integer i) throws InterruptedException {\r\n        while (queue.size() &gt;= QUEUE_SIZE) {\r\n            wait();\r\n        }\r\n        queue.addLast(i);\r\n        notify();\r\n        return true;\r\n    }\r\n\r\nIf you want an excuse to return false from this you could make the method return false if the queue doesn&#39;t make room for the new entry within some time frame  (having a timeout can be a good thing in a lot of real-life situations):\r\n\r\n    public synchronized boolean addWorkItem(Integer i) throws InterruptedException {\r\n        final long maxWaitTime = 60L * 1000;\r\n        long totalWaitTime = 0;\r\n        while (queue.size() &gt;= QUEUE_SIZE &amp;&amp; totalWaitTime &lt;= maxWaitTime) {\r\n            long waitStartTime = System.currentTimeMillis();\r\n            wait(maxWaitTime);\r\n            totalWaitTime += (System.currentTimeMillis() - waitStartTime);\r\n        }\r\n        if (queue.size() &gt;= QUEUE_SIZE) {\r\n            return false;\r\n        }\r\n        queue.addLast(i);\r\n        notify();\r\n        return true;\r\n    }\r\n\r\n\r\nThis will still use the retry buffer (which the first version above it won&#39;t do at all), but probably not nearly as much as you are now.\r\n\r\nAnother thing: you have producer and consumer threads concurrently accessing this, and notify is called for both cases. Since notify only wakes up one thread, it&#39;s possible for a thread to get a notification that isn&#39;t relevant for it (so the notified thread wakes up, checks its condition and finds it still false, then waits some more, while another thread that the notification actually matters to never finds out about it). There are different ways to solve the problem, you can \r\n\r\n* assign separate locks, one for producers and one for consumers, \r\n\r\n* reduce the timeout passed into the wait method so you&#39;re less dependent on getting notified, or \r\n\r\n* you can use notifyAll (less performant but a quick fix).\r\n","title":"What does it mean to return a value after calling wait()?","body":"<p>Having the producer maintain a retry buffer does keep  the i value from getting lost, but this still isn't a good way to write the method.</p>\n\n<p>Returning from inside the while loop doesn't make sense. You check the size of the queue, and if it's maxed out you wait around until you get a notification that the size of the queue changed, then inexplicably return false (??). The waiting doesn't really accomplish anything.</p>\n\n<p>The point of waiting in addWorkItem is to delay your thread until the queue has room for the new value. You should wait inside a loop, where when you come out of the wait, your thread reacquires the lock and re-checks the condition (queue size > max) to see if it can add the item yet. </p>\n\n<p>Once the thread has exited from the while loop it is holding the lock, it is sure there's enough room in the queue for the new item (because no other threads can do anything to change the size of the queue while this thread has the lock held), and it can go ahead and add the value to the queue.</p>\n\n<p>You are catching the InterruptedException in an unproductive way, because you catch it, don't bother to restore the interrupt flag, and go back to the top of the while loop. You should be using the interruption to quit waiting and get out of the method. Letting InterruptedException be thrown here would make more sense; the thread running the method should know better how to handle the interruption than this object does.</p>\n\n<p>You shouldn't assume wait returns only when the thread is notified, it can return without a notification. That's one of the reasons to call wait in a loop.</p>\n\n<p>Reworked version:</p>\n\n<pre><code>public synchronized boolean addWorkItem(Integer i) throws InterruptedException {\n    while (queue.size() &gt;= QUEUE_SIZE) {\n        wait();\n    }\n    queue.addLast(i);\n    notify();\n    return true;\n}\n</code></pre>\n\n<p>If you want an excuse to return false from this you could make the method return false if the queue doesn't make room for the new entry within some time frame  (having a timeout can be a good thing in a lot of real-life situations):</p>\n\n<pre><code>public synchronized boolean addWorkItem(Integer i) throws InterruptedException {\n    final long maxWaitTime = 60L * 1000;\n    long totalWaitTime = 0;\n    while (queue.size() &gt;= QUEUE_SIZE &amp;&amp; totalWaitTime &lt;= maxWaitTime) {\n        long waitStartTime = System.currentTimeMillis();\n        wait(maxWaitTime);\n        totalWaitTime += (System.currentTimeMillis() - waitStartTime);\n    }\n    if (queue.size() &gt;= QUEUE_SIZE) {\n        return false;\n    }\n    queue.addLast(i);\n    notify();\n    return true;\n}\n</code></pre>\n\n<p>This will still use the retry buffer (which the first version above it won't do at all), but probably not nearly as much as you are now.</p>\n\n<p>Another thing: you have producer and consumer threads concurrently accessing this, and notify is called for both cases. Since notify only wakes up one thread, it's possible for a thread to get a notification that isn't relevant for it (so the notified thread wakes up, checks its condition and finds it still false, then waits some more, while another thread that the notification actually matters to never finds out about it). There are different ways to solve the problem, you can </p>\n\n<ul>\n<li><p>assign separate locks, one for producers and one for consumers, </p></li>\n<li><p>reduce the timeout passed into the wait method so you're less dependent on getting notified, or </p></li>\n<li><p>you can use notifyAll (less performant but a quick fix).</p></li>\n</ul>\n"}],"owner":{"account_id":154386,"reputation":5559,"user_id":1852230,"accept_rate":40,"display_name":"jcm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":794,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":34643515,"answer_count":2,"score":1,"last_activity_date":1648031254,"creation_date":1452116484,"question_id":34643342,"body_markdown":"In the code below I have a question regarding what happens after I call wait(). In my code, I am returning a value after calling `wait()`, what does this actually do? I thought that calling `wait()` suspends the current thread, but what happens to the value `i` passed to `addWorkItem(Integer i)` if `wait()` is called without returning false? You can see in the producer thread that it adds `i` to a retry buffer if it couldn&#39;t be added to the deque. If I don&#39;t return false after wait, does the value `i` just get lost, or is it still there once the thread wakes up?\r\n\r\n    import java.util.ArrayDeque;\r\n    import java.util.ArrayList;\r\n    import java.util.Deque;\r\n    import java.util.List;\r\n    \r\n    \r\n    public class ConsumerProducer2 {\r\n    \r\n        private static int QUEUE_SIZE = 10;\r\n    \r\n        private Deque&lt;Integer&gt; queue = new ArrayDeque&lt;Integer&gt;(QUEUE_SIZE);\r\n    \r\n    \r\n        public synchronized boolean addWorkItem(Integer i) {\r\n            while (queue.size() &gt;= QUEUE_SIZE) {\r\n                try {\r\n                    wait();\r\n                    return false; // WHAT HAPPENS HERE?\r\n                } catch (InterruptedException ex) {}\r\n            }\r\n    \r\n            queue.addLast(i);\r\n            notify();\r\n            return true;\r\n        }\r\n    \r\n        public synchronized Integer getWork() {\r\n            while (queue.size() == 0) {\r\n                try {\r\n                    wait();\r\n                    return null;  // WHAT HAPPENS HERE?\r\n                } catch (InterruptedException ex) {\r\n                }\r\n            }\r\n            Integer i = queue.removeFirst();\r\n            notify();\r\n            return i;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            new ConsumerProducer2().go();\r\n        }\r\n    \r\n        public void go() {\r\n            ConsumerThread ct = new ConsumerThread();\r\n            ct.start();\r\n            ConsumerThread ct2 = new ConsumerThread();\r\n            ct2.start();\r\n            ProducerThread pt = new ProducerThread();\r\n            pt.start();\r\n        }\r\n    \r\n        class ConsumerThread extends Thread {\r\n            public void run() {\r\n                while(true) {\r\n    \r\n                    Integer work = getWork();\r\n                    if (work == null) {\r\n                    } else {\r\n                        System.out.println(&quot;Thread: &quot; + this.getId() + &quot; received work: &quot; + work);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        class ProducerThread extends Thread {\r\n            private List&lt;Integer&gt; retryList = new ArrayList&lt;Integer&gt;();\r\n            public void run() {\r\n                while(true) {\r\n                    Integer currWork;\r\n                    if (retryList.size() == 0) {\r\n                        currWork = (int) (Math.random() * 100);\r\n                    } else {\r\n                        currWork = retryList.remove(0);\r\n                        System.out.println(&quot;Thread: &quot; + this.getId() + &quot; retrying old work: &quot; + currWork);\r\n                    }\r\n                    if (!addWorkItem(currWork)) {\r\n                        System.out.println(&quot;Thread: &quot; + this.getId() + &quot; could not add work (because buffer is probably full): &quot; + currWork);\r\n                        retryList.add(currWork);\r\n                    } else {\r\n                        System.out.println(&quot;Thread: &quot; + this.getId() + &quot; added work to queue: &quot; + currWork);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }","title":"What does it mean to return a value after calling wait()?","body":"<p>In the code below I have a question regarding what happens after I call wait(). In my code, I am returning a value after calling <code>wait()</code>, what does this actually do? I thought that calling <code>wait()</code> suspends the current thread, but what happens to the value <code>i</code> passed to <code>addWorkItem(Integer i)</code> if <code>wait()</code> is called without returning false? You can see in the producer thread that it adds <code>i</code> to a retry buffer if it couldn't be added to the deque. If I don't return false after wait, does the value <code>i</code> just get lost, or is it still there once the thread wakes up?</p>\n\n<pre><code>import java.util.ArrayDeque;\nimport java.util.ArrayList;\nimport java.util.Deque;\nimport java.util.List;\n\n\npublic class ConsumerProducer2 {\n\n    private static int QUEUE_SIZE = 10;\n\n    private Deque&lt;Integer&gt; queue = new ArrayDeque&lt;Integer&gt;(QUEUE_SIZE);\n\n\n    public synchronized boolean addWorkItem(Integer i) {\n        while (queue.size() &gt;= QUEUE_SIZE) {\n            try {\n                wait();\n                return false; // WHAT HAPPENS HERE?\n            } catch (InterruptedException ex) {}\n        }\n\n        queue.addLast(i);\n        notify();\n        return true;\n    }\n\n    public synchronized Integer getWork() {\n        while (queue.size() == 0) {\n            try {\n                wait();\n                return null;  // WHAT HAPPENS HERE?\n            } catch (InterruptedException ex) {\n            }\n        }\n        Integer i = queue.removeFirst();\n        notify();\n        return i;\n    }\n\n    public static void main(String[] args) {\n        new ConsumerProducer2().go();\n    }\n\n    public void go() {\n        ConsumerThread ct = new ConsumerThread();\n        ct.start();\n        ConsumerThread ct2 = new ConsumerThread();\n        ct2.start();\n        ProducerThread pt = new ProducerThread();\n        pt.start();\n    }\n\n    class ConsumerThread extends Thread {\n        public void run() {\n            while(true) {\n\n                Integer work = getWork();\n                if (work == null) {\n                } else {\n                    System.out.println(\"Thread: \" + this.getId() + \" received work: \" + work);\n                }\n            }\n        }\n    }\n\n    class ProducerThread extends Thread {\n        private List&lt;Integer&gt; retryList = new ArrayList&lt;Integer&gt;();\n        public void run() {\n            while(true) {\n                Integer currWork;\n                if (retryList.size() == 0) {\n                    currWork = (int) (Math.random() * 100);\n                } else {\n                    currWork = retryList.remove(0);\n                    System.out.println(\"Thread: \" + this.getId() + \" retrying old work: \" + currWork);\n                }\n                if (!addWorkItem(currWork)) {\n                    System.out.println(\"Thread: \" + this.getId() + \" could not add work (because buffer is probably full): \" + currWork);\n                    retryList.add(currWork);\n                } else {\n                    System.out.println(\"Thread: \" + this.getId() + \" added work to queue: \" + currWork);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","ssl","websocket","protocols","java-websocket"],"comments":[{"owner":{"account_id":24487896,"reputation":1,"user_id":18405332,"display_name":"임상후"},"score":0,"creation_date":1646723135,"post_id":71391028,"comment_id":126188051,"body_markdown":"I tried  like below.   \n\n`var webSocket = new WebSocket(protocol+&quot;//&quot;+hostPort+$B.path+&quot;/websocket&quot;, {\n  protocolVersion: 8,\n  origin: protocol+&quot;//&quot;+hostPort+$B.path+&quot;/websocket&quot;,\n  rejectUnauthorized: false\n});`\n\nit&#39;s show this error : Failed to construct &#39;WebSocket&#39;: The subprotocol &#39;[object Object]&#39; is invalid.","body":"I tried  like below.     <code>var webSocket = new WebSocket(protocol+&quot;&#47;&#47;&quot;+hostPort+$B.path+&quot;&#47;websocket&quot;, {   protocolVersion: 8,   origin: protocol+&quot;&#47;&#47;&quot;+hostPort+$B.path+&quot;&#47;websocket&quot;,   rejectUnauthorized: false });</code>  it&#39;s show this error : Failed to construct &#39;WebSocket&#39;: The subprotocol &#39;[object Object]&#39; is invalid."}],"answers":[{"tags":[],"owner":{"account_id":24487896,"reputation":1,"user_id":18405332,"display_name":"임상후"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648030886,"creation_date":1648023770,"answer_id":71583895,"question_id":71391028,"body_markdown":"I already solves this problem.\r\nIt&#39;s related with apache.\r\n\r\nI add proxypass `localhost:8080/websocketPath` to http conf file.\r\n\r\nThat result, I success connect using wss protocol.","title":"Websocket Wss connection failed","body":"<p>I already solves this problem.\nIt's related with apache.</p>\n<p>I add proxypass <code>localhost:8080/websocketPath</code> to http conf file.</p>\n<p>That result, I success connect using wss protocol.</p>\n"}],"owner":{"account_id":24487896,"reputation":1,"user_id":18405332,"display_name":"임상후"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4732,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648030886,"creation_date":1646722138,"question_id":71391028,"body_markdown":"everyone. I&#39;m trying to apply the websocket to our server.\r\n\r\nI used the websocket provided by Javax, succeeded in connecting in my local environment, and sent a message to the client.\r\n\r\nHowever, as a result of applying it to the server, the connection is failing. The difference from the local environment is that the protocol uses wss instead of ws.\r\n\r\nCurrently, our server is using SSL. Is it related to this?\r\n\r\nPlease Help.\r\nPlease help!\r\n\r\nCode at client side (Javascript)\r\n\r\n    ```\r\n    var protocol = location.protocol === &#39;https:&#39; ? &#39;wss:&#39; : &#39;ws:&#39;;\r\n    var hostPort = location.host;\r\n    var webSocket = new WebSocket(protocol+&quot;//&quot;+hostPort+$B.path+&quot;/websocket&quot;);\r\n    ```\r\n\r\nCode at Server side (Java)\r\n    \r\n    @ServerEndpoint(&quot;/websocket&quot;)\r\n    public class WebSocket {\r\n        private static final Logger logger = LogManager.getLogger(WebSocket.class);\r\n        public static Session session;\r\n        @OnOpen\r\n        public void handleOpen(Session session) {\r\n            this.session = session;\r\n            String username = &quot;&quot;;\r\n            try {\r\n                session.getBasicRemote().sendText(&quot;You are connected. Your ID is&quot; + session);\r\n                // sessions.put(&quot;&quot;,session);\r\n            } catch (Exception e) {\r\n                logger.error(&quot;Error on open web socket&quot;, e);\r\n            }\r\n        }\r\n    \r\nError at the browser console :\r\n\r\n    VM1435:4 WebSocket connection to &#39;wss://framptest.bizflow.com/bizflowappdev/websocket&#39; failed: \r\n\r\n","title":"Websocket Wss connection failed","body":"<p>everyone. I'm trying to apply the websocket to our server.</p>\n<p>I used the websocket provided by Javax, succeeded in connecting in my local environment, and sent a message to the client.</p>\n<p>However, as a result of applying it to the server, the connection is failing. The difference from the local environment is that the protocol uses wss instead of ws.</p>\n<p>Currently, our server is using SSL. Is it related to this?</p>\n<p>Please Help.\nPlease help!</p>\n<p>Code at client side (Javascript)</p>\n<pre><code>```\nvar protocol = location.protocol === 'https:' ? 'wss:' : 'ws:';\nvar hostPort = location.host;\nvar webSocket = new WebSocket(protocol+&quot;//&quot;+hostPort+$B.path+&quot;/websocket&quot;);\n```\n</code></pre>\n<p>Code at Server side (Java)</p>\n<pre><code>@ServerEndpoint(&quot;/websocket&quot;)\npublic class WebSocket {\n    private static final Logger logger = LogManager.getLogger(WebSocket.class);\n    public static Session session;\n    @OnOpen\n    public void handleOpen(Session session) {\n        this.session = session;\n        String username = &quot;&quot;;\n        try {\n            session.getBasicRemote().sendText(&quot;You are connected. Your ID is&quot; + session);\n            // sessions.put(&quot;&quot;,session);\n        } catch (Exception e) {\n            logger.error(&quot;Error on open web socket&quot;, e);\n        }\n    }\n</code></pre>\n<p>Error at the browser console :</p>\n<pre><code>VM1435:4 WebSocket connection to 'wss://framptest.bizflow.com/bizflowappdev/websocket' failed: \n</code></pre>\n"},{"tags":["java","akka"],"answers":[{"tags":[],"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648030865,"creation_date":1648030865,"answer_id":71585503,"question_id":71584585,"body_markdown":"`Concat` tries to empty the first source first.\r\n\r\nChanging it to `Merge` gives the Output\r\n\r\n    100.0\r\n    10.0\r\n    100.0\r\n    10.0\r\n    100.0\r\n    10.0\r\n    100.0\r\n    10.0\r\n    10.0\r\n    100.0\r\n    10.0","title":"Merging 2 sources in streams","body":"<p><code>Concat</code> tries to empty the first source first.</p>\n<p>Changing it to <code>Merge</code> gives the Output</p>\n<pre><code>100.0\n10.0\n100.0\n10.0\n100.0\n10.0\n100.0\n10.0\n10.0\n100.0\n10.0\n</code></pre>\n"}],"owner":{"account_id":215504,"reputation":52462,"user_id":470184,"accept_rate":91,"display_name":"blue-sky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71585503,"answer_count":1,"score":0,"last_activity_date":1648030865,"creation_date":1648026882,"question_id":71584585,"body_markdown":"I use `final Source&lt;Double, NotUsed&gt; sources = Source.combine(source1, source2 , null, Concat::create);` to combine two sources. Reading https://doc.akka.io/docs/akka/current/stream/operators/Source/combine.html does not provide an example of merging &gt; 2 sources so I&#39;m unsure if using null is a correct method of combining 2 sources.\r\n\r\nWhen I run the below code 100.0 is continually printed. Each source computes the average of a sliding window of values where each window size is 3. The difference between each source is `source1` utilises and `source2` utilises 10. But `source2` is not being executed as \r\n\r\n    sources.to(printSink).run(actorSystem); just outputs `100` - the first source result.\r\n\r\nHow to correctly combine `source1` and `source2` such that each source is executed?\r\n\r\nsrc : \r\n\r\n    import akka.Done;\r\n    import akka.NotUsed;\r\n    import akka.actor.typed.ActorSystem;\r\n    import akka.actor.typed.javadsl.Behaviors;\r\n    import akka.stream.javadsl.Concat;\r\n    import akka.stream.javadsl.Sink;\r\n    import akka.stream.javadsl.Source;\r\n    \r\n    import java.time.Duration;\r\n    import java.util.concurrent.CompletionStage;\r\n    \r\n    \r\n    public class MultipleStreams {\r\n    \r\n        public static void main(String args[]) {\r\n    \r\n            ActorSystem actorSystem = ActorSystem.create(Behaviors.empty(), &quot;as&quot;);\r\n    \r\n            final String json1 = &quot;100&quot;;\r\n            Sink&lt;Double, CompletionStage&lt;Done&gt;&gt; printSink = Sink.foreach(System.out::println);\r\n    \r\n            final Source&lt;Double, NotUsed&gt; source1 = Source.repeat(json1).throttle(3, Duration.ofMillis(1000))\r\n                    .sliding(3, 3)\r\n                    .map(x -&gt; {\r\n                        final Double b = x.stream()\r\n                                .mapToDouble(a -&gt; Double.valueOf(a))\r\n                                .sum() / x.size();\r\n                        return b;\r\n                    });\r\n    \r\n            final String json2 = &quot;10&quot;;\r\n            final Source&lt;Double, NotUsed&gt; source2 = Source.repeat(json2).throttle(3, Duration.ofMillis(1000))\r\n                    .sliding(3, 3)\r\n                    .map(x -&gt; {\r\n                        return x.stream()\r\n                                .mapToDouble(a -&gt; Double.valueOf(a))\r\n                                .sum() / x.size();\r\n                    });\r\n    \r\n            final Source&lt;Double, NotUsed&gt; sources = Source.combine(source1, source2 , null, Concat::create);\r\n    \r\n            sources.to(printSink).run(actorSystem);\r\n    \r\n        }\r\n    }\r\n\r\n\r\n","title":"Merging 2 sources in streams","body":"<p>I use <code>final Source&lt;Double, NotUsed&gt; sources = Source.combine(source1, source2 , null, Concat::create);</code> to combine two sources. Reading <a href=\"https://doc.akka.io/docs/akka/current/stream/operators/Source/combine.html\" rel=\"nofollow noreferrer\">https://doc.akka.io/docs/akka/current/stream/operators/Source/combine.html</a> does not provide an example of merging &gt; 2 sources so I'm unsure if using null is a correct method of combining 2 sources.</p>\n<p>When I run the below code 100.0 is continually printed. Each source computes the average of a sliding window of values where each window size is 3. The difference between each source is <code>source1</code> utilises and <code>source2</code> utilises 10. But <code>source2</code> is not being executed as</p>\n<pre><code>sources.to(printSink).run(actorSystem); just outputs `100` - the first source result.\n</code></pre>\n<p>How to correctly combine <code>source1</code> and <code>source2</code> such that each source is executed?</p>\n<p>src :</p>\n<pre><code>import akka.Done;\nimport akka.NotUsed;\nimport akka.actor.typed.ActorSystem;\nimport akka.actor.typed.javadsl.Behaviors;\nimport akka.stream.javadsl.Concat;\nimport akka.stream.javadsl.Sink;\nimport akka.stream.javadsl.Source;\n\nimport java.time.Duration;\nimport java.util.concurrent.CompletionStage;\n\n\npublic class MultipleStreams {\n\n    public static void main(String args[]) {\n\n        ActorSystem actorSystem = ActorSystem.create(Behaviors.empty(), &quot;as&quot;);\n\n        final String json1 = &quot;100&quot;;\n        Sink&lt;Double, CompletionStage&lt;Done&gt;&gt; printSink = Sink.foreach(System.out::println);\n\n        final Source&lt;Double, NotUsed&gt; source1 = Source.repeat(json1).throttle(3, Duration.ofMillis(1000))\n                .sliding(3, 3)\n                .map(x -&gt; {\n                    final Double b = x.stream()\n                            .mapToDouble(a -&gt; Double.valueOf(a))\n                            .sum() / x.size();\n                    return b;\n                });\n\n        final String json2 = &quot;10&quot;;\n        final Source&lt;Double, NotUsed&gt; source2 = Source.repeat(json2).throttle(3, Duration.ofMillis(1000))\n                .sliding(3, 3)\n                .map(x -&gt; {\n                    return x.stream()\n                            .mapToDouble(a -&gt; Double.valueOf(a))\n                            .sum() / x.size();\n                });\n\n        final Source&lt;Double, NotUsed&gt; sources = Source.combine(source1, source2 , null, Concat::create);\n\n        sources.to(printSink).run(actorSystem);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","email","jakarta-mail","ioexception","jnotify"],"answers":[{"tags":[],"owner":{"account_id":1032936,"reputation":29659,"user_id":1040885,"display_name":"Bill Shannon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1392760913,"creation_date":1392760913,"answer_id":21866418,"question_id":21856211,"body_markdown":"Tell me more about the environment in which your code is running.  What JDK are you using?  Are you running in an application server?\r\n\r\nThe JavaBeans Activation Framework (JAF) looks for configuration files that tell how to map MIME types to the Java classes (DataContentHandlers) that handle them.  It uses the ClassLoader to find the configuration files.  If there are problems with the ClassLoader, the configuration files might not be found.\r\n\r\nYou might want to try the workaround described [here][1], but of course it would be better to determine the root cause of the problem for you.\r\n\r\nFinally, you  might want to simplify your program by fixing some of these [common JavaMail mistakes][2].\r\n\r\n\r\n  [1]: https://community.oracle.com/thread/3513698\r\n  [2]: http://www.oracle.com/technetwork/java/javamail/faq/index.html#commonmistakes","title":"javax.activation.UnsupportedDataTypeException: no object DCH for MIME type multipart/mixed; boundary","body":"<p>Tell me more about the environment in which your code is running.  What JDK are you using?  Are you running in an application server?</p>\n\n<p>The JavaBeans Activation Framework (JAF) looks for configuration files that tell how to map MIME types to the Java classes (DataContentHandlers) that handle them.  It uses the ClassLoader to find the configuration files.  If there are problems with the ClassLoader, the configuration files might not be found.</p>\n\n<p>You might want to try the workaround described <a href=\"https://community.oracle.com/thread/3513698\" rel=\"nofollow\">here</a>, but of course it would be better to determine the root cause of the problem for you.</p>\n\n<p>Finally, you  might want to simplify your program by fixing some of these <a href=\"http://www.oracle.com/technetwork/java/javamail/faq/index.html#commonmistakes\" rel=\"nofollow\">common JavaMail mistakes</a>.</p>\n"},{"tags":[],"owner":{"account_id":3958903,"reputation":787,"user_id":3266561,"display_name":"Vidhee"},"down_vote_count":1,"up_vote_count":30,"is_accepted":true,"score":29,"last_activity_date":1592303645,"creation_date":1392874226,"answer_id":21898970,"question_id":21856211,"body_markdown":"This issue can get a solution by taking up the below two steps.\r\n\r\n 1. Make sure java mail is 1.4.7.(Previously I used 1.4.5 which led to all confusions). Download it from  http://www.oracle.com/technetwork/java/index-138643.html\r\n 2. Add this piece of code before sending the message:\r\n```java\r\n    Thread.currentThread().setContextClassLoader( getClass().getClassLoader() );\r\n```","title":"javax.activation.UnsupportedDataTypeException: no object DCH for MIME type multipart/mixed; boundary","body":"<p>This issue can get a solution by taking up the below two steps.</p>\n\n<ol>\n<li>Make sure java mail is 1.4.7.(Previously I used 1.4.5 which led to all confusions). Download it from  <a href=\"http://www.oracle.com/technetwork/java/index-138643.html\" rel=\"noreferrer\">http://www.oracle.com/technetwork/java/index-138643.html</a></li>\n<li>Add this piece of code before sending the message:</li>\n</ol>\n\n<pre class=\"lang-java prettyprint-override\"><code>    Thread.currentThread().setContextClassLoader( getClass().getClassLoader() );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1531770,"reputation":4658,"user_id":1428821,"accept_rate":69,"display_name":"Som"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1522916749,"creation_date":1409764207,"answer_id":25650033,"question_id":21856211,"body_markdown":"JavaMail depends on some configuration files to map MIME types to Java classes (e.g., `multipart/mixed` to `javax.mail.internet.MimeMultipart`).  These configuration files are loaded using the ClassLoader for the application.  If the ClassLoader doesn&#39;t function properly, these configuration files won&#39;t be found.\r\n\r\nYou can simply add below lines .. that solves the issue .\r\n\r\n    MailcapCommandMap mc = (MailcapCommandMap) CommandMap.getDefaultCommandMap(); \r\n    mc.addMailcap(&quot;text/html;; x-java-content-handler=com.sun.mail.handlers.text_html&quot;); \r\n    mc.addMailcap(&quot;text/xml;; x-java-content-handler=com.sun.mail.handlers.text_xml&quot;); \r\n    mc.addMailcap(&quot;text/plain;; x-java-content-handler=com.sun.mail.handlers.text_plain&quot;); \r\n    mc.addMailcap(&quot;multipart/*;; x-java-content-handler=com.sun.mail.handlers.multipart_mixed&quot;); \r\n    mc.addMailcap(&quot;message/rfc822;; x-java-content- handler=com.sun.mail.handlers.message_rfc822&quot;); ","title":"javax.activation.UnsupportedDataTypeException: no object DCH for MIME type multipart/mixed; boundary","body":"<p>JavaMail depends on some configuration files to map MIME types to Java classes (e.g., <code>multipart/mixed</code> to <code>javax.mail.internet.MimeMultipart</code>).  These configuration files are loaded using the ClassLoader for the application.  If the ClassLoader doesn't function properly, these configuration files won't be found.</p>\n\n<p>You can simply add below lines .. that solves the issue .</p>\n\n<pre><code>MailcapCommandMap mc = (MailcapCommandMap) CommandMap.getDefaultCommandMap(); \nmc.addMailcap(\"text/html;; x-java-content-handler=com.sun.mail.handlers.text_html\"); \nmc.addMailcap(\"text/xml;; x-java-content-handler=com.sun.mail.handlers.text_xml\"); \nmc.addMailcap(\"text/plain;; x-java-content-handler=com.sun.mail.handlers.text_plain\"); \nmc.addMailcap(\"multipart/*;; x-java-content-handler=com.sun.mail.handlers.multipart_mixed\"); \nmc.addMailcap(\"message/rfc822;; x-java-content- handler=com.sun.mail.handlers.message_rfc822\"); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3901102,"reputation":91,"user_id":3228950,"display_name":"slaman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485476855,"creation_date":1485476855,"answer_id":41885356,"question_id":21856211,"body_markdown":"If your build.xml does this:\r\nzipfileset src=&quot;javamail-1.4.7/mail.jar&quot; **excludes=&quot;META-INF/**&quot;**\r\n\r\nThen you&#39;re stripping out the configuration information.\r\n","title":"javax.activation.UnsupportedDataTypeException: no object DCH for MIME type multipart/mixed; boundary","body":"<p>If your build.xml does this:\nzipfileset src=\"javamail-1.4.7/mail.jar\" <strong>excludes=\"META-INF/</strong>\"**</p>\n\n<p>Then you're stripping out the configuration information.</p>\n"},{"tags":[],"owner":{"account_id":13747317,"reputation":121,"user_id":9920531,"display_name":"Steven Swart"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1530074786,"creation_date":1530074786,"answer_id":51054697,"question_id":21856211,"body_markdown":"I am busy converting a Java 8 project to Java 10. At the same time I have been updating all of the dependencies. I was getting a similar exception and none of the above solutions worked for me.\r\n\r\nI have the following in my pom.xml:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n        &lt;version&gt;1.6.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI did a bit more research and found the following link:\r\n\r\nhttp://www.jguru.com/faq/view.jsp?EID=237257\r\n\r\nSo I tried adding the following dependency to my pom.xml:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n        &lt;artifactId&gt;activation&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1.1&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n\r\nThat fixed the problem, I was able to send mail with attachments again.","title":"javax.activation.UnsupportedDataTypeException: no object DCH for MIME type multipart/mixed; boundary","body":"<p>I am busy converting a Java 8 project to Java 10. At the same time I have been updating all of the dependencies. I was getting a similar exception and none of the above solutions worked for me.</p>\n\n<p>I have the following in my pom.xml:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n    &lt;version&gt;1.6.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I did a bit more research and found the following link:</p>\n\n<p><a href=\"http://www.jguru.com/faq/view.jsp?EID=237257\" rel=\"noreferrer\">http://www.jguru.com/faq/view.jsp?EID=237257</a></p>\n\n<p>So I tried adding the following dependency to my pom.xml:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n    &lt;artifactId&gt;activation&lt;/artifactId&gt;\n    &lt;version&gt;1.1.1&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n\n<p>That fixed the problem, I was able to send mail with attachments again.</p>\n"},{"tags":[],"owner":{"account_id":13317651,"reputation":2168,"user_id":9613462,"display_name":"wgm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1534636597,"creation_date":1532052575,"answer_id":51434113,"question_id":21856211,"body_markdown":"If it&#39;s a android project, it&#39;s highly possible the proguard stripped out unused classes by mistake, please add the following lines in the proguard file to fix the problem without modifying the code directly:\r\n\r\n    -keep class com.sun.mail.handlers.**\r\n    -dontwarn com.sun.mail.handlers.handler_base\r\n\r\n","title":"javax.activation.UnsupportedDataTypeException: no object DCH for MIME type multipart/mixed; boundary","body":"<p>If it's a android project, it's highly possible the proguard stripped out unused classes by mistake, please add the following lines in the proguard file to fix the problem without modifying the code directly:</p>\n\n<pre><code>-keep class com.sun.mail.handlers.**\n-dontwarn com.sun.mail.handlers.handler_base\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1236252,"reputation":31,"user_id":1199786,"display_name":"GeneralElektrix"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537885716,"creation_date":1537885716,"answer_id":52500625,"question_id":21856211,"body_markdown":"Som&#39;s answer (`MailcapCommandMap`) worked for me with Spring war Portlets in Liferay 7.1 ga1. However, I had to remove Tomcat&#39;s `mail.jar` from `tomcat/lib/ext` and replace it with `javax.mail-1.6.2.jar`, then make sure the dependency is scoped as provided in the project&#39;s pom.xml:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n        &lt;version&gt;1.6.2&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"javax.activation.UnsupportedDataTypeException: no object DCH for MIME type multipart/mixed; boundary","body":"<p>Som's answer (<code>MailcapCommandMap</code>) worked for me with Spring war Portlets in Liferay 7.1 ga1. However, I had to remove Tomcat's <code>mail.jar</code> from <code>tomcat/lib/ext</code> and replace it with <code>javax.mail-1.6.2.jar</code>, then make sure the dependency is scoped as provided in the project's pom.xml:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n    &lt;version&gt;1.6.2&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":411987,"reputation":412,"user_id":784804,"display_name":"Ian"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1546457382,"creation_date":1546457382,"answer_id":54012115,"question_id":21856211,"body_markdown":"The answer from [Som][1] worked for me. However I had to modify the mappings as I was using JavaMail DSN, and needed those mailcap entries also (included below, including Som&#39;s answer):\r\n\r\n    // Original answer from Som:\r\n    MailcapCommandMap mc = (MailcapCommandMap) CommandMap.getDefaultCommandMap();\r\n    mc.addMailcap(&quot;text/html;; x-java-content-handler=com.sun.mail.handlers.text_html&quot;);\r\n    mc.addMailcap(&quot;text/xml;; x-java-content-handler=com.sun.mail.handlers.text_xml&quot;);\r\n    mc.addMailcap(&quot;text/plain;; x-java-content-handler=com.sun.mail.handlers.text_plain&quot;);\r\n    mc.addMailcap(&quot;multipart/*;; x-java-content-handler=com.sun.mail.handlers.multipart_mixed&quot;);\r\n    mc.addMailcap(&quot;message/rfc822;; x-java-content-handler=com.sun.mail.handlers.message_rfc822&quot;);\r\n    \r\n    // Additional elements to make DSN work \r\n    mc.addMailcap(&quot;multipart/report;;  x-java-content-handler=com.sun.mail.dsn.multipart_report&quot;);\r\n    mc.addMailcap(&quot;message/delivery-status;; x-java-content-handler=com.sun.mail.dsn.message_deliverystatus&quot;);\r\n    mc.addMailcap(&quot;message/disposition-notification;; x-java-content-handler=com.sun.mail.dsn.message_dispositionnotification&quot;);\r\n    mc.addMailcap(&quot;text/rfc822-headers;;   x-java-content-handler=com.sun.mail.dsn.text_rfc822headers&quot;);\r\n\r\nAs it turns out, it was adding the DSN JAR into my fat JAR (using shadowJar/Gradle) that caused the problem: the META-INF/mailcap from the DSN jar was overwriting the core one. \r\n\r\n  [1]: https://stackoverflow.com/a/25650033/784804","title":"javax.activation.UnsupportedDataTypeException: no object DCH for MIME type multipart/mixed; boundary","body":"<p>The answer from <a href=\"https://stackoverflow.com/a/25650033/784804\">Som</a> worked for me. However I had to modify the mappings as I was using JavaMail DSN, and needed those mailcap entries also (included below, including Som's answer):</p>\n\n<pre><code>// Original answer from Som:\nMailcapCommandMap mc = (MailcapCommandMap) CommandMap.getDefaultCommandMap();\nmc.addMailcap(\"text/html;; x-java-content-handler=com.sun.mail.handlers.text_html\");\nmc.addMailcap(\"text/xml;; x-java-content-handler=com.sun.mail.handlers.text_xml\");\nmc.addMailcap(\"text/plain;; x-java-content-handler=com.sun.mail.handlers.text_plain\");\nmc.addMailcap(\"multipart/*;; x-java-content-handler=com.sun.mail.handlers.multipart_mixed\");\nmc.addMailcap(\"message/rfc822;; x-java-content-handler=com.sun.mail.handlers.message_rfc822\");\n\n// Additional elements to make DSN work \nmc.addMailcap(\"multipart/report;;  x-java-content-handler=com.sun.mail.dsn.multipart_report\");\nmc.addMailcap(\"message/delivery-status;; x-java-content-handler=com.sun.mail.dsn.message_deliverystatus\");\nmc.addMailcap(\"message/disposition-notification;; x-java-content-handler=com.sun.mail.dsn.message_dispositionnotification\");\nmc.addMailcap(\"text/rfc822-headers;;   x-java-content-handler=com.sun.mail.dsn.text_rfc822headers\");\n</code></pre>\n\n<p>As it turns out, it was adding the DSN JAR into my fat JAR (using shadowJar/Gradle) that caused the problem: the META-INF/mailcap from the DSN jar was overwriting the core one. </p>\n"},{"tags":[],"owner":{"account_id":349022,"reputation":657,"user_id":684057,"display_name":"metatechbe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571130895,"creation_date":1566488485,"answer_id":57612941,"question_id":21856211,"body_markdown":"Under OSGI, the following workaround allows the javax.activation bundle to load the &quot;META-INF/mailcap&quot; resource from the javax.mail bundle :\r\n\r\n    Thread.currentThread().setContextClassLoader(javax.mail.Message.class.getClassLoader());\r\n\r\nNote : character sets conversions may have limitations with this workaround...","title":"javax.activation.UnsupportedDataTypeException: no object DCH for MIME type multipart/mixed; boundary","body":"<p>Under OSGI, the following workaround allows the javax.activation bundle to load the \"META-INF/mailcap\" resource from the javax.mail bundle :</p>\n\n<pre><code>Thread.currentThread().setContextClassLoader(javax.mail.Message.class.getClassLoader());\n</code></pre>\n\n<p>Note : character sets conversions may have limitations with this workaround...</p>\n"},{"tags":[],"owner":{"account_id":16149244,"reputation":1,"user_id":11658100,"display_name":"Sanjay Shetty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597925003,"creation_date":1597904838,"answer_id":63499445,"question_id":21856211,"body_markdown":"Even I had faced same issue. I tried different versions of javamail it didnt work. The problem was `Transport.send()` was using `MailCapCommandMap` class from the default java jdk (JAVA 8 in my case) that loaded outdated mailcap files. \r\n\r\nSo I used the latest version of JAVA after which it used `MailCapCommandMap` from the *activation* package which loaded the correct mailcap file.\r\n\r\nIf any anyone faces same problem in future just add a breakpoint in `MailCapCommandMap` classes available so that u know which mailcap file it is using. ","title":"javax.activation.UnsupportedDataTypeException: no object DCH for MIME type multipart/mixed; boundary","body":"<p>Even I had faced same issue. I tried different versions of javamail it didnt work. The problem was <code>Transport.send()</code> was using <code>MailCapCommandMap</code> class from the default java jdk (JAVA 8 in my case) that loaded outdated mailcap files.</p>\n<p>So I used the latest version of JAVA after which it used <code>MailCapCommandMap</code> from the <em>activation</em> package which loaded the correct mailcap file.</p>\n<p>If any anyone faces same problem in future just add a breakpoint in <code>MailCapCommandMap</code> classes available so that u know which mailcap file it is using.</p>\n"},{"tags":[],"owner":{"account_id":3287434,"reputation":1034,"user_id":2766545,"accept_rate":75,"display_name":"Janaka Bandara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622104296,"creation_date":1622104296,"answer_id":67718528,"question_id":21856211,"body_markdown":"A similar problem appeared when running a Java 8 S/MIME parsing code on Java 12.\r\nRelevant (missing) DCH was for a custom MIME type `message/disposition-notification`.\r\n\r\nUnlike in old Java&#39;s native `javax.activation.ObjectDataContentHandler`,\r\nthe external `javax.activation:activation` library for Java 9+, does not seem to tolerate &quot;unknown&quot; MIME types;\r\nearlier, multipart &quot;parts&quot; with such custom content-types (not found in `mailcap` meta-files)\r\nwere still consumed if they contained `byte[]` or `String` content - but not anymore.\r\n\r\n```\r\n// old native\r\n    public void writeTo(Object obj, String mimeType, OutputStream os) throws IOException {\r\n        if (this.dch != null) {\r\n            this.dch.writeTo(obj, mimeType, os);\r\n        } else if (obj instanceof byte[]) {\r\n            os.write((byte[])((byte[])obj));\r\n        } else {\r\n            if (!(obj instanceof String)) {\r\n                throw new UnsupportedDataTypeException(&quot;no object DCH for MIME type &quot; + this.mimeType);\r\n            }\r\n\r\n            OutputStreamWriter osw = new OutputStreamWriter(os);\r\n            osw.write((String)obj);\r\n            osw.flush();\r\n        }\r\n    }\r\n\r\n\r\n// new javax.activation:activation\r\n    public void writeTo(Object obj, String mimeType, OutputStream os)\r\n\t\t\t\t\t\tthrows IOException {\r\n\tif (dch != null)\r\n\t    dch.writeTo(obj, mimeType, os);\r\n\telse\r\n\t    throw new UnsupportedDataTypeException(\r\n\t\t\t\t&quot;no object DCH for MIME type &quot; + this.mimeType);\r\n    }\r\n```\r\n\r\nSolution was to define an entry for `message/disposition-notification` (it can be safely interpreted as text)\r\nin a `mailcap` file; technically similar to [@Som&#39;s answer](#25650033), but we all love no-code solutions, right?\r\n\r\n```\r\nmessage/disposition-notification;;x-java-content-handler=com.sun.mail.handlers.text_plain\r\n```\r\n\r\nand bundle it into the JAR (classpath); e.g. with Maven:\r\n\r\n```\r\n    &lt;build&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                &lt;includes&gt;\r\n                    &lt;include&gt;META-INF/mailcap&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n    &lt;/build&gt;\r\n```\r\n\r\nAlso noteworthy: setting a `-Djavax.activation.debug=true` system property on the JVM,\r\ngreatly helps in tracing issues related to such `mailcap` loading, handling, fallbacks etc.","title":"javax.activation.UnsupportedDataTypeException: no object DCH for MIME type multipart/mixed; boundary","body":"<p>A similar problem appeared when running a Java 8 S/MIME parsing code on Java 12.\nRelevant (missing) DCH was for a custom MIME type <code>message/disposition-notification</code>.</p>\n<p>Unlike in old Java's native <code>javax.activation.ObjectDataContentHandler</code>,\nthe external <code>javax.activation:activation</code> library for Java 9+, does not seem to tolerate &quot;unknown&quot; MIME types;\nearlier, multipart &quot;parts&quot; with such custom content-types (not found in <code>mailcap</code> meta-files)\nwere still consumed if they contained <code>byte[]</code> or <code>String</code> content - but not anymore.</p>\n<pre><code>// old native\n    public void writeTo(Object obj, String mimeType, OutputStream os) throws IOException {\n        if (this.dch != null) {\n            this.dch.writeTo(obj, mimeType, os);\n        } else if (obj instanceof byte[]) {\n            os.write((byte[])((byte[])obj));\n        } else {\n            if (!(obj instanceof String)) {\n                throw new UnsupportedDataTypeException(&quot;no object DCH for MIME type &quot; + this.mimeType);\n            }\n\n            OutputStreamWriter osw = new OutputStreamWriter(os);\n            osw.write((String)obj);\n            osw.flush();\n        }\n    }\n\n\n// new javax.activation:activation\n    public void writeTo(Object obj, String mimeType, OutputStream os)\n                        throws IOException {\n    if (dch != null)\n        dch.writeTo(obj, mimeType, os);\n    else\n        throw new UnsupportedDataTypeException(\n                &quot;no object DCH for MIME type &quot; + this.mimeType);\n    }\n</code></pre>\n<p>Solution was to define an entry for <code>message/disposition-notification</code> (it can be safely interpreted as text)\nin a <code>mailcap</code> file; technically similar to @Som's answer, but we all love no-code solutions, right?</p>\n<pre><code>message/disposition-notification;;x-java-content-handler=com.sun.mail.handlers.text_plain\n</code></pre>\n<p>and bundle it into the JAR (classpath); e.g. with Maven:</p>\n<pre><code>    &lt;build&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;META-INF/mailcap&lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>Also noteworthy: setting a <code>-Djavax.activation.debug=true</code> system property on the JVM,\ngreatly helps in tracing issues related to such <code>mailcap</code> loading, handling, fallbacks etc.</p>\n"},{"tags":[],"owner":{"account_id":873349,"reputation":3374,"user_id":923712,"accept_rate":67,"display_name":"Xavier Portebois"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644502809,"creation_date":1644502809,"answer_id":71066769,"question_id":21856211,"body_markdown":"If anyone encountered the problem after including **Apache Tika 2**, it could be due to a mail dependency embedded in Tika.\r\n\r\nWe manage to fix the issue by adding a Maven exclusion, leaving only javax.mail on classpath. Something like:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n      &lt;artifactId&gt;tika-parsers-standard-package&lt;/artifactId&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n          &lt;artifactId&gt;bcmail-jdk15on&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;","title":"javax.activation.UnsupportedDataTypeException: no object DCH for MIME type multipart/mixed; boundary","body":"<p>If anyone encountered the problem after including <strong>Apache Tika 2</strong>, it could be due to a mail dependency embedded in Tika.</p>\n<p>We manage to fix the issue by adding a Maven exclusion, leaving only javax.mail on classpath. Something like:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n  &lt;artifactId&gt;tika-parsers-standard-package&lt;/artifactId&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n      &lt;artifactId&gt;bcmail-jdk15on&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2005653,"reputation":439,"user_id":1795639,"display_name":"Christopher Broderick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648030716,"creation_date":1648030392,"answer_id":71585388,"question_id":21856211,"body_markdown":"I was starting my Java app using file globbing for the classpath in the startup script.\r\neg.\r\n\r\n    java -cp ${LIBDIR}/*.jar org.MyApp\r\n\r\nChanging it to do this solved the problem without any code change:\r\n\r\n    CLASSPATH=$(echo &quot;${LIBDIR}/&quot;*&quot;.jar&quot; | tr &#39; &#39; &#39;:&#39;)\r\n    java -cp ${CLASSPATH} org.MyApp","title":"javax.activation.UnsupportedDataTypeException: no object DCH for MIME type multipart/mixed; boundary","body":"<p>I was starting my Java app using file globbing for the classpath in the startup script.\neg.</p>\n<pre><code>java -cp ${LIBDIR}/*.jar org.MyApp\n</code></pre>\n<p>Changing it to do this solved the problem without any code change:</p>\n<pre><code>CLASSPATH=$(echo &quot;${LIBDIR}/&quot;*&quot;.jar&quot; | tr ' ' ':')\njava -cp ${CLASSPATH} org.MyApp\n</code></pre>\n"}],"owner":{"account_id":3958903,"reputation":787,"user_id":3266561,"display_name":"Vidhee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53985,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":21898970,"answer_count":13,"score":31,"last_activity_date":1648030716,"creation_date":1392732336,"question_id":21856211,"body_markdown":"Currently I&#39;m inline of writing a code that will be listening to a directory. when the directory is updated with .apk file, I&#39;ll send a mail with this .apk file to a gmail account. I&#39;m using Jnotify and JAVA Mail in my program.\r\n\r\nThe Error I&#39;m getting is,\r\n\r\n    javax.mail.MessagingException: IOException while sending message;\r\n      nested exception is:\r\n    javax.activation.UnsupportedDataTypeException: no object DCH for MIME type multipart/mixed; boundary=&quot;----=_Part_0_145238.1392728439484&quot;\r\n\r\nI looked for the solutions given in the stackoverflow for help but none of them where helpful.   \r\n\r\nThanks in Advance  \r\n\r\n    public void fileCreated(int wd, String rootPath, String name) {\r\n        print(&quot;created &quot; + rootPath + &quot; : &quot; + name);\r\n\r\n        if (name.contains(&quot;.apk&quot;))\r\n          SendEmail(name);\r\n        else\r\n            System.out.println(&quot;Not the APK file&quot;);\r\n    }\r\n                \r\n    void SendEmail(String strname){\r\n        String Path = &quot;D:/POC/Email/apk folder/&quot;+strname;\r\n        System.out.println(&quot;Path-&gt;&quot; + Path);\r\n        \r\n        Properties props = new Properties();\r\n        props.put(&quot;mail.smtp.host&quot;,&quot;173.194.78.108&quot;);\r\n        props.put(&quot;mail.smtp.socketFactory.port&quot;, &quot;465&quot;);\r\n        props.put(&quot;mail.smtp.socketFactory.class&quot;,&quot;javax.net.ssl.SSLSocketFactory&quot;);\r\n        props.put(&quot;mail.smtp.auth&quot;,&quot;true&quot;);\r\n        props.put(&quot;mail.smtp.port&quot;,&quot;465&quot;);\r\n        \r\n        System.out.println(&quot;Properties has been set properly&quot;);\r\n\r\n        Session session = Session.getDefaultInstance(props,\r\n            new javax.mail.Authenticator(){\r\n                protected PasswordAuthentication getPasswordAuthentication(){\r\n                    return new PasswordAuthentication(&quot;SenderEmailID@gmail.com&quot;, &quot;senderPassword&quot;);\r\n                }\r\n            }\r\n        );\r\n        \r\n        System.out.println(&quot;Session Created successfully&quot;);\r\n        \r\n        try{\r\n            Message message = new MimeMessage(session); \r\n            message.setFrom(new InternetAddress(&quot;SenderEmailID@gmail.com&quot;));\r\n            message.setRecipients(Message.RecipientType.TO, InternetAddress.parse(&quot;ToReceiverEmailID@gmail.com&quot;));\r\n            message.setSubject(&quot;Android : &quot; + strname);\r\n\r\n            MimeBodyPart msgbody = new MimeBodyPart();\r\n            msgbody.setText(&quot;This is the message content which is sent using JAVA MAIL 1.4.5&quot;);\r\n            Multipart mulpart = new MimeMultipart();\r\n            mulpart.addBodyPart(msgbody);\r\n\r\n            //Attachement Starts here.\r\n            msgbody = new MimeBodyPart();\r\n            javax.activation.DataSource source = new FileDataSource(Path);\r\n            msgbody.setDataHandler(new DataHandler(source));\r\n            msgbody.setFileName(strname);\r\n            message.setContent(mulpart);\r\n\r\n            System.out.println(&quot;Attached the message going to start transporting the mail&quot;);\r\n\r\n            //If I&#39;ve the code before sending the email is getting sent but without attachment. \r\n            //Thread.currentThread().setContextClassLoader( getClass().getClassLoader() );\r\n\r\n            Transport.send(message);\r\n            System.out.println(&quot;Mail Sent successfully&quot;);\r\n        }\r\n        catch(MessagingException msg){\r\n            msg.printStackTrace();\r\n        }\r\n        catch(Exception e){\r\n            e.printStackTrace();\r\n        }\r\n    }","title":"javax.activation.UnsupportedDataTypeException: no object DCH for MIME type multipart/mixed; boundary","body":"<p>Currently I'm inline of writing a code that will be listening to a directory. when the directory is updated with .apk file, I'll send a mail with this .apk file to a gmail account. I'm using Jnotify and JAVA Mail in my program.</p>\n\n<p>The Error I'm getting is,</p>\n\n<pre><code>javax.mail.MessagingException: IOException while sending message;\n  nested exception is:\njavax.activation.UnsupportedDataTypeException: no object DCH for MIME type multipart/mixed; boundary=\"----=_Part_0_145238.1392728439484\"\n</code></pre>\n\n<p>I looked for the solutions given in the stackoverflow for help but none of them where helpful.   </p>\n\n<p>Thanks in Advance  </p>\n\n<pre><code>public void fileCreated(int wd, String rootPath, String name) {\n    print(\"created \" + rootPath + \" : \" + name);\n\n    if (name.contains(\".apk\"))\n      SendEmail(name);\n    else\n        System.out.println(\"Not the APK file\");\n}\n\nvoid SendEmail(String strname){\n    String Path = \"D:/POC/Email/apk folder/\"+strname;\n    System.out.println(\"Path-&gt;\" + Path);\n\n    Properties props = new Properties();\n    props.put(\"mail.smtp.host\",\"173.194.78.108\");\n    props.put(\"mail.smtp.socketFactory.port\", \"465\");\n    props.put(\"mail.smtp.socketFactory.class\",\"javax.net.ssl.SSLSocketFactory\");\n    props.put(\"mail.smtp.auth\",\"true\");\n    props.put(\"mail.smtp.port\",\"465\");\n\n    System.out.println(\"Properties has been set properly\");\n\n    Session session = Session.getDefaultInstance(props,\n        new javax.mail.Authenticator(){\n            protected PasswordAuthentication getPasswordAuthentication(){\n                return new PasswordAuthentication(\"SenderEmailID@gmail.com\", \"senderPassword\");\n            }\n        }\n    );\n\n    System.out.println(\"Session Created successfully\");\n\n    try{\n        Message message = new MimeMessage(session); \n        message.setFrom(new InternetAddress(\"SenderEmailID@gmail.com\"));\n        message.setRecipients(Message.RecipientType.TO, InternetAddress.parse(\"ToReceiverEmailID@gmail.com\"));\n        message.setSubject(\"Android : \" + strname);\n\n        MimeBodyPart msgbody = new MimeBodyPart();\n        msgbody.setText(\"This is the message content which is sent using JAVA MAIL 1.4.5\");\n        Multipart mulpart = new MimeMultipart();\n        mulpart.addBodyPart(msgbody);\n\n        //Attachement Starts here.\n        msgbody = new MimeBodyPart();\n        javax.activation.DataSource source = new FileDataSource(Path);\n        msgbody.setDataHandler(new DataHandler(source));\n        msgbody.setFileName(strname);\n        message.setContent(mulpart);\n\n        System.out.println(\"Attached the message going to start transporting the mail\");\n\n        //If I've the code before sending the email is getting sent but without attachment. \n        //Thread.currentThread().setContextClassLoader( getClass().getClassLoader() );\n\n        Transport.send(message);\n        System.out.println(\"Mail Sent successfully\");\n    }\n    catch(MessagingException msg){\n        msg.printStackTrace();\n    }\n    catch(Exception e){\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":["java","debugging"],"comments":[{"owner":{"account_id":4985577,"reputation":406,"user_id":4009310,"accept_rate":0,"display_name":"Benji Weiss"},"score":0,"creation_date":1410666454,"post_id":25829866,"comment_id":40409694,"body_markdown":"shouldnt have left that in there, sorry lol.","body":"shouldnt have left that in there, sorry lol."},{"owner":{"account_id":4985577,"reputation":406,"user_id":4009310,"accept_rate":0,"display_name":"Benji Weiss"},"score":0,"creation_date":1410666480,"post_id":25829866,"comment_id":40409697,"body_markdown":"it compiles, i just cant get the correct return im looking for @Pshemo","body":"it compiles, i just cant get the correct return im looking for @Pshemo"},{"owner":{"account_id":3701688,"reputation":3357,"user_id":3081206,"display_name":"takendarkk"},"score":1,"creation_date":1410666542,"post_id":25829866,"comment_id":40409706,"body_markdown":"Shouldn&#39;t you have a check for the string length in there somewhere since that is what you are comparing? Something like `if (SA[i].length() &lt; first.length())`.","body":"Shouldn&#39;t you have a check for the string length in there somewhere since that is what you are comparing? Something like <code>if (SA[i].length() &lt; first.length())</code>."},{"owner":{"account_id":4985577,"reputation":406,"user_id":4009310,"accept_rate":0,"display_name":"Benji Weiss"},"score":0,"creation_date":1410666687,"post_id":25829866,"comment_id":40409729,"body_markdown":"if((SA[i].compareTo(first))&lt;0)\n\nthe compareto function returns a negative number if the string at index i is smaller than the word that first is = to.","body":"if((SA[i].compareTo(first))&lt;0)  the compareto function returns a negative number if the string at index i is smaller than the word that first is = to."},{"owner":{"account_id":3701688,"reputation":3357,"user_id":3081206,"display_name":"takendarkk"},"score":2,"creation_date":1410666811,"post_id":25829866,"comment_id":40409746,"body_markdown":"@BenjiWeiss That&#39;s not what `compareTo` does. It checks for alphabetical order.","body":"@BenjiWeiss That&#39;s not what <code>compareTo</code> does. It checks for alphabetical order."},{"owner":{"account_id":3634475,"reputation":2800,"user_id":3029904,"accept_rate":88,"display_name":"Ken de Guzman"},"score":0,"creation_date":1410667235,"post_id":25829866,"comment_id":40409802,"body_markdown":"possible duplicate of [Java: Finding the shortest word in a string and printing it out](http://stackoverflow.com/questions/12326899/java-finding-the-shortest-word-in-a-string-and-printing-it-out)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/12326899/java-finding-the-shortest-word-in-a-string-and-printing-it-out\">Java: Finding the shortest word in a string and printing it out</a>"}],"answers":[{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1410666705,"creation_date":1410666705,"answer_id":25829910,"question_id":25829866,"body_markdown":"`compareTo` doesn&#39;t compare length of Strings, but their alphabetic order. \r\n\r\nYou should change your condition to `if (SA[i].length()&lt;first.length())`.","title":"finding the shortest word in an array of strings java","body":"<p><code>compareTo</code> doesn't compare length of Strings, but their alphabetic order. </p>\n\n<p>You should change your condition to <code>if (SA[i].length()&lt;first.length())</code>.</p>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1410666736,"creation_date":1410666736,"answer_id":25829913,"question_id":25829866,"body_markdown":"Your method is close, but your variable names are a bit difficult to read to start you only need to call your method once to print the shortest name (calling it twice searches twice, and discards the first result),\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString[] SA = { &quot;hello&quot;, &quot;goodbye&quot;, &quot;jack&quot;, &quot;bye&quot;, &quot;yes&quot;, &quot;no&quot;, &quot;yoo&quot; };\r\n\t\tSystem.out.println(&quot;The shortest word is &quot; + smallest(SA));\r\n\t}\r\n\r\nNext, it&#39;s usually a good idea to test that your input is valid (not `null` and at least one element). You should also decide how you want to handle those cases, I chose to `return &quot;&quot;;` below. Finally, you need to check `length()` the String(s) to get the shortest word. Something like,\r\n\r\n\tpublic static String smallest(String words[]) {\r\n\t\tif (words == null || words.length &lt; 1) {\r\n\t\t\treturn &quot;&quot;;\r\n\t\t}\r\n\t\tString smallest = words[0];\r\n\t\tfor (int i = 1; i &lt; words.length; i++) {\r\n\t\t\tif (words[i].length() &lt; smallest.length()) {\r\n\t\t\t\tsmallest = words[i];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn smallest;\r\n\t}// smallest","title":"finding the shortest word in an array of strings java","body":"<p>Your method is close, but your variable names are a bit difficult to read to start you only need to call your method once to print the shortest name (calling it twice searches twice, and discards the first result),</p>\n\n<pre><code>public static void main(String[] args) {\n    String[] SA = { \"hello\", \"goodbye\", \"jack\", \"bye\", \"yes\", \"no\", \"yoo\" };\n    System.out.println(\"The shortest word is \" + smallest(SA));\n}\n</code></pre>\n\n<p>Next, it's usually a good idea to test that your input is valid (not <code>null</code> and at least one element). You should also decide how you want to handle those cases, I chose to <code>return \"\";</code> below. Finally, you need to check <code>length()</code> the String(s) to get the shortest word. Something like,</p>\n\n<pre><code>public static String smallest(String words[]) {\n    if (words == null || words.length &lt; 1) {\n        return \"\";\n    }\n    String smallest = words[0];\n    for (int i = 1; i &lt; words.length; i++) {\n        if (words[i].length() &lt; smallest.length()) {\n            smallest = words[i];\n        }\n    }\n    return smallest;\n}// smallest\n</code></pre>\n"},{"tags":[],"owner":{"account_id":173890,"reputation":30412,"user_id":402884,"accept_rate":75,"display_name":"Chris Martin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1410667782,"creation_date":1410667782,"answer_id":25829985,"question_id":25829866,"body_markdown":"\r\n    import java.util.Comparator;\r\n    import java.util.function.Function;\r\n    \r\n    import static java.util.Arrays.asList;\r\n    \r\n    public class Foo {\r\n    \r\n        public static void main(String[] args) {\r\n            String[] words =\r\n                {&quot;hello&quot;, &quot;goodbye&quot;, &quot;jack&quot;, &quot;bye&quot;, &quot;yes&quot;, &quot;no&quot;, &quot;yoo&quot;};\r\n            System.out.println(shortestWord(words));\r\n        }\r\n    \r\n        static String shortestWord(String[] words) {\r\n            return asList(words).stream().min(compareBy(String::length)).get();\r\n        }\r\n    \r\n        static &lt;A, B extends Comparable&lt;B&gt;&gt; Comparator&lt;A&gt; compareBy(\r\n                Function&lt;A, B&gt; f) {\r\n            return (A x, A y) -&gt; f.apply(x).compareTo(f.apply(y));\r\n        }\r\n    }\r\n","title":"finding the shortest word in an array of strings java","body":"<pre><code>import java.util.Comparator;\nimport java.util.function.Function;\n\nimport static java.util.Arrays.asList;\n\npublic class Foo {\n\n    public static void main(String[] args) {\n        String[] words =\n            {\"hello\", \"goodbye\", \"jack\", \"bye\", \"yes\", \"no\", \"yoo\"};\n        System.out.println(shortestWord(words));\n    }\n\n    static String shortestWord(String[] words) {\n        return asList(words).stream().min(compareBy(String::length)).get();\n    }\n\n    static &lt;A, B extends Comparable&lt;B&gt;&gt; Comparator&lt;A&gt; compareBy(\n            Function&lt;A, B&gt; f) {\n        return (A x, A y) -&gt; f.apply(x).compareTo(f.apply(y));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4213427,"reputation":834,"user_id":3450431,"display_name":"Leo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1410668047,"creation_date":1410668047,"answer_id":25830003,"question_id":25829866,"body_markdown":"Im not sure what you are trying to do with the method compareTo(), but if you want to keep find the length of a string you use the length() method.\r\n\r\n    public class function 2\r\n    {\r\n    \r\n        public static void main(String[] args) {\r\n            String [] SA = {&quot;hello&quot; , &quot;goodbye&quot;  , &quot;jack&quot; , &quot;bye&quot; , &quot;yes&quot; , &quot;no&quot; , &quot;yoo&quot;};\r\n            \r\n            System.out.println(&quot;The shortest word is &quot; + smallest(SA));\r\n        }\r\n    \r\n        public static String smallest(String SA[]) {\r\n            //Keep track of the shortest word by index and length\r\n            int index = 0, minLength = SA[0].length();\r\n            for (int i = 1; i &lt; SA.length; i++){\r\n                //if the next string is smaller in length then we save that index and length in our variables\r\n                if(SA[i].length() &lt; minLength){\r\n                    index = i;\r\n                    minLength = SA[i].length();  \r\n                }           \r\n            }\r\n            //returns the smallest word\r\n            return SA[index];\r\n        }\r\n    \r\n    }","title":"finding the shortest word in an array of strings java","body":"<p>Im not sure what you are trying to do with the method compareTo(), but if you want to keep find the length of a string you use the length() method.</p>\n\n<pre><code>public class function 2\n{\n\n    public static void main(String[] args) {\n        String [] SA = {\"hello\" , \"goodbye\"  , \"jack\" , \"bye\" , \"yes\" , \"no\" , \"yoo\"};\n\n        System.out.println(\"The shortest word is \" + smallest(SA));\n    }\n\n    public static String smallest(String SA[]) {\n        //Keep track of the shortest word by index and length\n        int index = 0, minLength = SA[0].length();\n        for (int i = 1; i &lt; SA.length; i++){\n            //if the next string is smaller in length then we save that index and length in our variables\n            if(SA[i].length() &lt; minLength){\n                index = i;\n                minLength = SA[i].length();  \n            }           \n        }\n        //returns the smallest word\n        return SA[index];\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":266703,"reputation":18305,"user_id":1149423,"accept_rate":83,"display_name":"Sufiyan Ghori"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1422996739,"creation_date":1422996739,"answer_id":28308509,"question_id":25829866,"body_markdown":"In Java 8,  you create a `Comparator` that will check the length of string which would make the array ascending, convert that list in a stream, and use `sorted` to sort the array, eventually, use `findFirst` to return the first element and `get()` to convert it into a `String`.\r\n\r\n\tString[] words = new String[]{&quot;Hello&quot;, &quot;aadsads&quot;, &quot;adssadsadads&quot;, &quot;aaa&quot;};\r\n\tString shortest = Arrays.asList(words).stream()\r\n\t        .sorted((e2, e1) -&gt; e1.length() &gt; e2.length() ? -1 : 1)\r\n\t        .findFirst().get();","title":"finding the shortest word in an array of strings java","body":"<p>In Java 8,  you create a <code>Comparator</code> that will check the length of string which would make the array ascending, convert that list in a stream, and use <code>sorted</code> to sort the array, eventually, use <code>findFirst</code> to return the first element and <code>get()</code> to convert it into a <code>String</code>.</p>\n\n<pre><code>String[] words = new String[]{\"Hello\", \"aadsads\", \"adssadsadads\", \"aaa\"};\nString shortest = Arrays.asList(words).stream()\n        .sorted((e2, e1) -&gt; e1.length() &gt; e2.length() ? -1 : 1)\n        .findFirst().get();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2610521,"reputation":220,"user_id":2260704,"display_name":"jpep1"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1648030423,"creation_date":1648030423,"answer_id":71585397,"question_id":25829866,"body_markdown":"Shortest algorithm with Java 8+ using elegant Comparator.comparing method.\r\n\r\n    final String shortest = List.of(&quot;hello&quot;, &quot;yes&quot;, &quot;no&quot;)\r\n                              .stream()\r\n                              .min(Comparator.comparing(String::length))\r\n                              .get();\r\n","title":"finding the shortest word in an array of strings java","body":"<p>Shortest algorithm with Java 8+ using elegant Comparator.comparing method.</p>\n<pre><code>final String shortest = List.of(&quot;hello&quot;, &quot;yes&quot;, &quot;no&quot;)\n                          .stream()\n                          .min(Comparator.comparing(String::length))\n                          .get();\n</code></pre>\n"}],"owner":{"account_id":4985577,"reputation":406,"user_id":4009310,"accept_rate":0,"display_name":"Benji Weiss"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23332,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":6,"score":6,"last_activity_date":1648030423,"creation_date":1410666249,"question_id":25829866,"body_markdown":"im trying to write a code to take in a group of words, and return the smallest word in character length. pretty simple, for some reason its returning &#39;bye&#39; when there is a shorter word in there such as &#39;no&#39;. \r\n\r\n    public class function2 {\r\n    \r\n        public static void main(String [] args) {\r\n            String [] SA = {&quot;hello&quot;, &quot;goodbye&quot;, &quot;jack&quot;, &quot;bye&quot;, &quot;yes&quot;, &quot;no&quot;, &quot;yoo&quot;};\r\n            smallest(SA);\r\n            System.out.println(&quot;The shortest word is &quot; + smallest(SA));\r\n        }\r\n    \r\n        public static String smallest(String SA[]) {\r\n            String first = SA[0];\r\n            for (int i = 1 ; i &lt; SA.length ; i++) {\r\n                if ((SA[i].compareTo(first)) &lt; 0) {\r\n                    first = SA[i];\r\n                } // if\r\n            } // for\r\n            return first;\r\n        }// smallest\r\n    }// lab1b\r\n\r\n","title":"finding the shortest word in an array of strings java","body":"<p>im trying to write a code to take in a group of words, and return the smallest word in character length. pretty simple, for some reason its returning 'bye' when there is a shorter word in there such as 'no'. </p>\n\n<pre><code>public class function2 {\n\n    public static void main(String [] args) {\n        String [] SA = {\"hello\", \"goodbye\", \"jack\", \"bye\", \"yes\", \"no\", \"yoo\"};\n        smallest(SA);\n        System.out.println(\"The shortest word is \" + smallest(SA));\n    }\n\n    public static String smallest(String SA[]) {\n        String first = SA[0];\n        for (int i = 1 ; i &lt; SA.length ; i++) {\n            if ((SA[i].compareTo(first)) &lt; 0) {\n                first = SA[i];\n            } // if\n        } // for\n        return first;\n    }// smallest\n}// lab1b\n</code></pre>\n"},{"tags":["java","completable-future"],"comments":[{"owner":{"account_id":886614,"reputation":29561,"user_id":925913,"accept_rate":82,"display_name":"Andrew Cheong"},"score":1,"creation_date":1647610255,"post_id":71522329,"comment_id":126420145,"body_markdown":"Can you make your own `thenComposeOrThrow` using `exceptionally`?","body":"Can you make your own <code>thenComposeOrThrow</code> using <code>exceptionally</code>?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1648112733,"post_id":71522329,"comment_id":126543287,"body_markdown":"There’s no built-in method, so the closest you can get, is `handle((value, throwable) -&gt; …return future…) .thenCompose(Function.identity())`","body":"There’s no built-in method, so the closest you can get, is <code>handle((value, throwable) -&gt; …return future…) .thenCompose(Function.identity())</code>"}],"answers":[{"tags":[],"owner":{"account_id":4290743,"reputation":143,"user_id":3507197,"display_name":"Ying Cherry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647617568,"creation_date":1647617568,"answer_id":71529468,"question_id":71522329,"body_markdown":"Have you tried to chain `thenCompose` with `handle` or `exceptionally`? \r\n\r\nIt should meet your needs. ","title":"Does java completableFuture has method returning CompletionStage&lt;U&gt; to handle exception?","body":"<p>Have you tried to chain <code>thenCompose</code> with <code>handle</code> or <code>exceptionally</code>?</p>\n<p>It should meet your needs.</p>\n"}],"owner":{"account_id":17411566,"reputation":55,"user_id":12618690,"display_name":"xiaowangzhixiao"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71529468,"answer_count":1,"score":1,"last_activity_date":1648030032,"creation_date":1647576033,"question_id":71522329,"body_markdown":"Does java completableFuture have thenCompose method having param with CompletionStage&lt;U&gt; value type to handle exception?\r\nlike this method:\r\n\r\n     public &lt;U&gt; CompletableFuture&lt;U&gt; thenCompose(BiFunction&lt;? super T, Throwable, ? extends CompletionStage&lt;U&gt;&gt; var1)\r\n\r\nI want to handle the result and exception and convert the result use a function A returning a completableFuture, just like :\r\n\r\n    CompletableFuture&lt;V&gt; A(V v,Throwable e); \r\n\r\nand function A will call RPC. It is a async function.\r\n\r\nCompletableFuture.handle(BiFunction&lt;? super T, Throwable, ? extends U&gt; var1) just convert the result, can not combine two completableFuture, can not meet my needs.\r\n","title":"Does java completableFuture has method returning CompletionStage&lt;U&gt; to handle exception?","body":"<p>Does java completableFuture have thenCompose method having param with CompletionStage value type to handle exception?\nlike this method:</p>\n<pre><code> public &lt;U&gt; CompletableFuture&lt;U&gt; thenCompose(BiFunction&lt;? super T, Throwable, ? extends CompletionStage&lt;U&gt;&gt; var1)\n</code></pre>\n<p>I want to handle the result and exception and convert the result use a function A returning a completableFuture, just like :</p>\n<pre><code>CompletableFuture&lt;V&gt; A(V v,Throwable e); \n</code></pre>\n<p>and function A will call RPC. It is a async function.</p>\n<p>CompletableFuture.handle(BiFunction&lt;? super T, Throwable, ? extends U&gt; var1) just convert the result, can not combine two completableFuture, can not meet my needs.</p>\n"},{"tags":["java","spring-boot","spring-retry"],"answers":[{"tags":[],"owner":{"account_id":3010059,"reputation":1749,"user_id":5134102,"accept_rate":94,"display_name":"Jesus Zavarce"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648029825,"creation_date":1648029518,"answer_id":71585179,"question_id":59569143,"body_markdown":"We can use @ConditionalOnMissingBean if we want to load a bean only if a certain other bean is not in the application context:\r\n\r\n    @Configuration\r\n    class OnMissingBeanModule {\r\n      @Bean\r\n      @ConditionalOnMissingBean\r\n      DataSource dataSource() {\r\n        return new InMemoryDataSource();\r\n      }\r\n    }\r\n\r\nIn this example, **we’re only injecting an in-memory datasource into the application context if there is not already a datasource available**. This is very similar to what Spring Boot does internally to provide an in-memory database in a test context.\r\n\r\n---\r\n\r\nWe can use @ConditionalOnSingleCandidate if we want to load a bean only if a single candidate for the given bean class has been determined. \r\n\r\n    @Configuration\r\n    @ConditionalOnSingleCandidate(DataSource.class)\r\n    class OnSingleCandidateModule {\r\n      ...\r\n    }\r\nIn this example, **the condition matches if there is exactly one primary DataSource bean specified in your application context**.","title":"@ConditionalOnMissingBean vs @ConditionalOnSingleCandidate","body":"<p>We can use @ConditionalOnMissingBean if we want to load a bean only if a certain other bean is not in the application context:</p>\n<pre><code>@Configuration\nclass OnMissingBeanModule {\n  @Bean\n  @ConditionalOnMissingBean\n  DataSource dataSource() {\n    return new InMemoryDataSource();\n  }\n}\n</code></pre>\n<p>In this example, <strong>we’re only injecting an in-memory datasource into the application context if there is not already a datasource available</strong>. This is very similar to what Spring Boot does internally to provide an in-memory database in a test context.</p>\n<hr />\n<p>We can use @ConditionalOnSingleCandidate if we want to load a bean only if a single candidate for the given bean class has been determined.</p>\n<pre><code>@Configuration\n@ConditionalOnSingleCandidate(DataSource.class)\nclass OnSingleCandidateModule {\n  ...\n}\n</code></pre>\n<p>In this example, <strong>the condition matches if there is exactly one primary DataSource bean specified in your application context</strong>.</p>\n"}],"owner":{"account_id":6794864,"reputation":1053,"user_id":5230585,"display_name":"Katy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1948,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1648029825,"creation_date":1577994413,"question_id":59569143,"body_markdown":"We&#180;re working on multi-module project where each module is a cutom spring boot starter that holds several [retryable][1] tasks. (Using [spring-retry][2])\r\n\r\nIn order to ensure that retry annotations are activated only once cross starters, a configuration bean is added to each starter auto configuration submodule:\r\n\r\n     @EnableRetry\r\n     @Configuration\r\n     @ConditionalOnMissingBean(RetryConfiguration.class)\r\n     public class StarterRetryAutoConfiguation {}\r\n\r\n\r\n The solution is working as expected.\r\n\r\n**Question:**  What&#39;s the difference between `@ConditionalOnSingleCandidate` and `@ConditionalOnMissingBean` ? \r\n\r\nI&#39;ve read the Spring documentation more then once. However, I didn&#39;t get when and where should we use each one of them.\r\n\r\n**ConditionalOnSingleCandidate:** \r\n\r\n&gt; @Conditional that only matches when a bean of the specified class is\r\n&gt; already contained in the BeanFactory and a single candidate can be\r\n&gt; determined. The condition will also match if multiple matching bean\r\n&gt; instances are already contained in the BeanFactory but a primary\r\n&gt; candidate has been defined; essentially, the condition match if\r\n&gt; auto-wiring a bean with the defined type will succeed.\r\n&gt; \r\n&gt; The condition can only match the bean definitions that have been\r\n&gt; processed by the application context so far and, as such, it is\r\n&gt; strongly recommended to use this condition on auto-configuration\r\n&gt; classes only. If a candidate bean may be created by another\r\n&gt; auto-configuration, make sure that the one using this condition runs\r\n&gt; after.\r\n\r\n**ConditionalOnMissingBean:**\r\n\r\n&gt; @Conditional that only matches when no beans meeting the specified\r\n&gt; requirements are already contained in the BeanFactory. None of the\r\n&gt; requirements must be met for the condition to match and the\r\n&gt; requirements do not have to be met by the same bean.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-retry/docs/api/current/org/springframework/retry/annotation/Retryable.html\r\n  [2]: https://docs.spring.io/spring-batch/docs/current/reference/html/retry.html","title":"@ConditionalOnMissingBean vs @ConditionalOnSingleCandidate","body":"<p>We´re working on multi-module project where each module is a cutom spring boot starter that holds several <a href=\"https://docs.spring.io/spring-retry/docs/api/current/org/springframework/retry/annotation/Retryable.html\" rel=\"nofollow noreferrer\">retryable</a> tasks. (Using <a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/retry.html\" rel=\"nofollow noreferrer\">spring-retry</a>)</p>\n\n<p>In order to ensure that retry annotations are activated only once cross starters, a configuration bean is added to each starter auto configuration submodule:</p>\n\n<pre><code> @EnableRetry\n @Configuration\n @ConditionalOnMissingBean(RetryConfiguration.class)\n public class StarterRetryAutoConfiguation {}\n</code></pre>\n\n<p>The solution is working as expected.</p>\n\n<p><strong>Question:</strong>  What's the difference between <code>@ConditionalOnSingleCandidate</code> and <code>@ConditionalOnMissingBean</code> ? </p>\n\n<p>I've read the Spring documentation more then once. However, I didn't get when and where should we use each one of them.</p>\n\n<p><strong>ConditionalOnSingleCandidate:</strong> </p>\n\n<blockquote>\n  <p>@Conditional that only matches when a bean of the specified class is\n  already contained in the BeanFactory and a single candidate can be\n  determined. The condition will also match if multiple matching bean\n  instances are already contained in the BeanFactory but a primary\n  candidate has been defined; essentially, the condition match if\n  auto-wiring a bean with the defined type will succeed.</p>\n  \n  <p>The condition can only match the bean definitions that have been\n  processed by the application context so far and, as such, it is\n  strongly recommended to use this condition on auto-configuration\n  classes only. If a candidate bean may be created by another\n  auto-configuration, make sure that the one using this condition runs\n  after.</p>\n</blockquote>\n\n<p><strong>ConditionalOnMissingBean:</strong></p>\n\n<blockquote>\n  <p>@Conditional that only matches when no beans meeting the specified\n  requirements are already contained in the BeanFactory. None of the\n  requirements must be met for the condition to match and the\n  requirements do not have to be met by the same bean.</p>\n</blockquote>\n"},{"tags":["java","jdbc","db2","zos"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1548674864,"post_id":54400878,"comment_id":95612498,"body_markdown":"4.3.11 *or* 3.65.92 ?? (there seems to be confusion)... and why would you expect the same error(message), when you fixed it..?;)","body":"4.3.11 <i>or</i> 3.65.92 ?? (there seems to be confusion)... and why would you expect the same error(message), when you fixed it..?;)"},{"owner":{"account_id":1454034,"reputation":21,"user_id":10950073,"display_name":"Bassant"},"score":0,"creation_date":1548677943,"post_id":54400878,"comment_id":95614131,"body_markdown":"driver is 3.65.92 , and i&#39;m expecting the same message as i wand to handle my code based on the returned error message . for Example : if the returned error code=-803 which means duplicate exception , i would handle my code to make update instead off insert , or if the returned message contains some words like &quot; FOREIGN KEY &quot; i&#39;ll tell user to make sure about lookup tables .. and so on","body":"driver is 3.65.92 , and i&#39;m expecting the same message as i wand to handle my code based on the returned error message . for Example : if the returned error code=-803 which means duplicate exception , i would handle my code to make update instead off insert , or if the returned message contains some words like &quot; FOREIGN KEY &quot; i&#39;ll tell user to make sure about lookup tables .. and so on"},{"owner":{"account_id":14422603,"reputation":11689,"user_id":10418264,"display_name":"Mark Barinstein"},"score":1,"creation_date":1548679459,"post_id":54400878,"comment_id":95614959,"body_markdown":"@Bassant There is no such a db2 version on z/OS: 10.5.3. Is this 10.5 for LUW or 10 for z/OS?","body":"@Bassant There is no such a db2 version on z/OS: 10.5.3. Is this 10.5 for LUW or 10 for z/OS?"},{"owner":{"account_id":1454034,"reputation":21,"user_id":10950073,"display_name":"Bassant"},"score":0,"creation_date":1548690320,"post_id":54400878,"comment_id":95621571,"body_markdown":"yes, it&#39;s 10.5.","body":"yes, it&#39;s 10.5."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1548693579,"post_id":54400878,"comment_id":95623773,"body_markdown":"Exceptions can have causes, and `SQLException` can have multiple exception chained onto the original. Make sure that you analyse everything by using 1) `exception.printStackTrace()`, and call `getNextException()`, print its stacktrace, and then call `getNextException()` on that exception, and repeat that until `null` is returned. You can also iterate over all exceptions and their causes (eg `for (Throwable t : yourSQLException) { System.out.println(t); }` to just print the messages)","body":"Exceptions can have causes, and <code>SQLException</code> can have multiple exception chained onto the original. Make sure that you analyse everything by using 1) <code>exception.printStackTrace()</code>, and call <code>getNextException()</code>, print its stacktrace, and then call <code>getNextException()</code> on that exception, and repeat that until <code>null</code> is returned. You can also iterate over all exceptions and their causes (eg <code>for (Throwable t : yourSQLException) { System.out.println(t); }</code> to just print the messages)"}],"answers":[{"tags":[],"owner":{"account_id":1270839,"reputation":18313,"user_id":1227152,"display_name":"mustaccio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1548675807,"creation_date":1548675807,"answer_id":54401279,"question_id":54400878,"body_markdown":"I think the batch exception message is pretty clear. Consider that different statements in a batch might fail or issue warnings for different reasons. The batch level error message is therefore generic and instructs you to use &quot;getNextException() to retrieve the exceptions for specific&quot; statements in the batch. ","title":"Java Exception doesn&#39;t have the same exception message returned from db2 console?","body":"<p>I think the batch exception message is pretty clear. Consider that different statements in a batch might fail or issue warnings for different reasons. The batch level error message is therefore generic and instructs you to use \"getNextException() to retrieve the exceptions for specific\" statements in the batch. </p>\n"},{"tags":[],"owner":{"account_id":14422603,"reputation":11689,"user_id":10418264,"display_name":"Mark Barinstein"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1548692287,"creation_date":1548679341,"answer_id":54402288,"question_id":54400878,"body_markdown":"    \t} catch (SQLException ex) {\r\n    \t\twhile (ex != null) {\r\n    \t\t\tif (ex instanceof com.ibm.db2.jcc.DB2Diagnosable) {\r\n    \t\t\t\tcom.ibm.db2.jcc.DB2Diagnosable db2ex = (com.ibm.db2.jcc.DB2Diagnosable) ex;\r\n    \t\t\t\tcom.ibm.db2.jcc.DB2Sqlca sqlca = db2ex.getSqlca();\r\n    \t\t\t\tif (sqlca != null) {\r\n    \t\t\t\t  System.out.println(&quot;SQLCODE: &quot; + sqlca.getSqlCode());\r\n    \t\t\t\t  System.out.println(&quot;MESSAGE: &quot; + sqlca.getMessage());\r\n    \t\t\t\t} else {\r\n    \t\t\t      System.out.println(&quot;Error code: &quot; + ex.getErrorCode());\r\n    \t\t\t      System.out.println(&quot;Error msg : &quot; + ex.getMessage());\r\n    \t\t\t\t}\r\n    \t\t\t} else {\r\n  \t\t\t      System.out.println(&quot;Error code (non-db2): &quot; + ex.getErrorCode());\r\n  \t\t\t      System.out.println(&quot;Error msg  (non-db2): &quot; + ex.getMessage());\r\n    \t\t    }\r\n    \t\t\tex = ex.getNextException();\r\n    \t\t}\r\n    \t\t...\r\n    \t}\r\nAbove is an example of handling db2 exceptions. The example of output when there are 2 violations simultaneously: unique key on the table `MYSCHEMA.MYTABLE` where batch inserts come, and a foreign key on a parent table. I split it intentionally into 2 parts:\r\n\r\nBefore `getNextException()`:\r\n\r\n&gt; Error code: -4229\r\n&gt; \r\n&gt; Error msg : [jcc][t4][102][10040][4.19.66] ... getNextException().\r\n&gt; ERRORCODE=-4229, SQLSTATE=null\r\n\r\nAfter `getNextException()`:\r\n\r\n&gt; SQLCODE: -803\r\n&gt; \r\n&gt; MESSAGE: One or more values in the INSERT statement,\r\n&gt; UPDATE statement, or foreign key update caused by a DELETE statement\r\n&gt; are not valid because the primary key, unique constraint or unique\r\n&gt; index identified by &quot;1&quot; constrains table &quot;MYSCHEMA.MYTABLE&quot; from\r\n&gt; having duplicate values for the index key.. SQLCODE=-803,\r\n&gt; SQLSTATE=23505, DRIVER=4.19.66\r\n&gt; \r\n&gt; SQLCODE: -530 \r\n&gt; \r\n&gt; MESSAGE: The insert or update value of the FOREIGN KEY\r\n&gt; &quot;MYSCHEMA.MYTABLE.MYTABLE_FK&quot; is not equal to any value of the parent\r\n&gt; key of the parent table.. SQLCODE=-530, SQLSTATE=23503, DRIVER=4.19.66\r\n\r\n","title":"Java Exception doesn&#39;t have the same exception message returned from db2 console?","body":"<pre><code>    } catch (SQLException ex) {\n        while (ex != null) {\n            if (ex instanceof com.ibm.db2.jcc.DB2Diagnosable) {\n                com.ibm.db2.jcc.DB2Diagnosable db2ex = (com.ibm.db2.jcc.DB2Diagnosable) ex;\n                com.ibm.db2.jcc.DB2Sqlca sqlca = db2ex.getSqlca();\n                if (sqlca != null) {\n                  System.out.println(\"SQLCODE: \" + sqlca.getSqlCode());\n                  System.out.println(\"MESSAGE: \" + sqlca.getMessage());\n                } else {\n                  System.out.println(\"Error code: \" + ex.getErrorCode());\n                  System.out.println(\"Error msg : \" + ex.getMessage());\n                }\n            } else {\n              System.out.println(\"Error code (non-db2): \" + ex.getErrorCode());\n              System.out.println(\"Error msg  (non-db2): \" + ex.getMessage());\n            }\n            ex = ex.getNextException();\n        }\n        ...\n    }\n</code></pre>\n\n<p>Above is an example of handling db2 exceptions. The example of output when there are 2 violations simultaneously: unique key on the table <code>MYSCHEMA.MYTABLE</code> where batch inserts come, and a foreign key on a parent table. I split it intentionally into 2 parts:</p>\n\n<p>Before <code>getNextException()</code>:</p>\n\n<blockquote>\n  <p>Error code: -4229</p>\n  \n  <p>Error msg : [jcc][t4][102][10040][4.19.66] ... getNextException().\n  ERRORCODE=-4229, SQLSTATE=null</p>\n</blockquote>\n\n<p>After <code>getNextException()</code>:</p>\n\n<blockquote>\n  <p>SQLCODE: -803</p>\n  \n  <p>MESSAGE: One or more values in the INSERT statement,\n  UPDATE statement, or foreign key update caused by a DELETE statement\n  are not valid because the primary key, unique constraint or unique\n  index identified by \"1\" constrains table \"MYSCHEMA.MYTABLE\" from\n  having duplicate values for the index key.. SQLCODE=-803,\n  SQLSTATE=23505, DRIVER=4.19.66</p>\n  \n  <p>SQLCODE: -530 </p>\n  \n  <p>MESSAGE: The insert or update value of the FOREIGN KEY\n  \"MYSCHEMA.MYTABLE.MYTABLE_FK\" is not equal to any value of the parent\n  key of the parent table.. SQLCODE=-530, SQLSTATE=23503, DRIVER=4.19.66</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11424364,"reputation":539,"user_id":8374909,"display_name":"Clover"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648029821,"creation_date":1648029821,"answer_id":71585252,"question_id":54400878,"body_markdown":"Though this is an old thread. I will share the code which worked for me\r\n\r\n     try{\r\n    preparedStatement.batchUpdate( new ClassName{\r\n    //code with setting values and batch size});\r\n    }catch (Exception e) {\r\n    \t\t\tif (e.getCause() instanceof BatchUpdateException) {\r\n    \t\t\t\tBatchUpdateException be = (BatchUpdateException) e.getCause();\r\n    \t\t\t\tSQLException current = be.getNextException();\r\n    \t\t\t\tdo {\r\n    \t\t\t\t\tcurrent.printStackTrace();\r\n    \t\t\t\t} while ((current = current.getNextException()) != null);\r\n    \t\t\t}\r\n    \t\t}\r\n\r\nIn here I&#39;m trying to get the exception based on BatchUpdateException instance.","title":"Java Exception doesn&#39;t have the same exception message returned from db2 console?","body":"<p>Though this is an old thread. I will share the code which worked for me</p>\n<pre><code> try{\npreparedStatement.batchUpdate( new ClassName{\n//code with setting values and batch size});\n}catch (Exception e) {\n            if (e.getCause() instanceof BatchUpdateException) {\n                BatchUpdateException be = (BatchUpdateException) e.getCause();\n                SQLException current = be.getNextException();\n                do {\n                    current.printStackTrace();\n                } while ((current = current.getNextException()) != null);\n            }\n        }\n</code></pre>\n<p>In here I'm trying to get the exception based on BatchUpdateException instance.</p>\n"}],"owner":{"account_id":1454034,"reputation":21,"user_id":10950073,"display_name":"Bassant"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2394,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1648029821,"creation_date":1548674422,"question_id":54400878,"body_markdown":"I want to insert multiple rows in a table from a console/tool (e.g.: Data studio) I get the following error message\r\n\r\n&gt; THE INSERT OR UPDATE VALUE OF FOREIGN KEY FK$MAR$S IS INVALID.\r\n&gt; SQLCODE=-530, SQLSTATE=23503, DRIVER=4.13.111\r\n\r\nThis means I have some trouble with a FOREIGN KEY variable, but **I solved that** later and it works well.\r\n\r\nMy problem is that when I&#39;m running the same query from a Java application using `PreparedStatement.executeBatch()` (batch because it could insert more than one row at a time), I get a different error message: \r\n\r\n&gt; com.ibm.db2.jcc.am.wn: [jcc][t4][102][10040][3.57.82] Batch failure.\r\n&gt; The batch was submitted, but at least one exception occurred on an\r\n&gt; individual member of the batch.  Use getNextException() to retrieve\r\n&gt; the exceptions for specific batched elements. ERRORCODE=-4228,\r\n&gt; SQLSTATE=null\r\n\r\nWhen I used `getNextException()`, I get the following:\r\n\r\n&gt; com.ibm.db2.jcc.am.co: A NON-ATOMIC INSERT STATEMENT ATTEMPTED TO\r\n&gt; PROCESS MULTIPLE ROWS OF DATA, BUT ERRORS OCCURRED\r\n\r\nAnd the error code is -4228.\r\n\r\nWhy this difference? I want the java application return the same error details as the console tool, so I can handle those exceptions in my java code.\r\n\r\nFor example, if the returned error code=-803 which means duplicate exception, I would handle my code to make update instead of insert, or if the returned message contains some words like &quot; FOREIGN KEY &quot;, I&#39;ll tell user to make sure about lookup tables and so on\r\n\r\nI use DB2 version 10.5.3 on z/OS and the DB2 driver version is : 3.65.92\r\n","title":"Java Exception doesn&#39;t have the same exception message returned from db2 console?","body":"<p>I want to insert multiple rows in a table from a console/tool (e.g.: Data studio) I get the following error message</p>\n\n<blockquote>\n  <p>THE INSERT OR UPDATE VALUE OF FOREIGN KEY FK$MAR$S IS INVALID.\n  SQLCODE=-530, SQLSTATE=23503, DRIVER=4.13.111</p>\n</blockquote>\n\n<p>This means I have some trouble with a FOREIGN KEY variable, but <strong>I solved that</strong> later and it works well.</p>\n\n<p>My problem is that when I'm running the same query from a Java application using <code>PreparedStatement.executeBatch()</code> (batch because it could insert more than one row at a time), I get a different error message: </p>\n\n<blockquote>\n  <p>com.ibm.db2.jcc.am.wn: [jcc][t4][102][10040][3.57.82] Batch failure.\n  The batch was submitted, but at least one exception occurred on an\n  individual member of the batch.  Use getNextException() to retrieve\n  the exceptions for specific batched elements. ERRORCODE=-4228,\n  SQLSTATE=null</p>\n</blockquote>\n\n<p>When I used <code>getNextException()</code>, I get the following:</p>\n\n<blockquote>\n  <p>com.ibm.db2.jcc.am.co: A NON-ATOMIC INSERT STATEMENT ATTEMPTED TO\n  PROCESS MULTIPLE ROWS OF DATA, BUT ERRORS OCCURRED</p>\n</blockquote>\n\n<p>And the error code is -4228.</p>\n\n<p>Why this difference? I want the java application return the same error details as the console tool, so I can handle those exceptions in my java code.</p>\n\n<p>For example, if the returned error code=-803 which means duplicate exception, I would handle my code to make update instead of insert, or if the returned message contains some words like \" FOREIGN KEY \", I'll tell user to make sure about lookup tables and so on</p>\n\n<p>I use DB2 version 10.5.3 on z/OS and the DB2 driver version is : 3.65.92</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":23810835,"reputation":91,"user_id":17819649,"display_name":"IODevBlue"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648029037,"creation_date":1647823506,"answer_id":71551757,"question_id":71551421,"body_markdown":"The reason the TextView is not showing any text in the target Activity (`newActivity.class`) is because the text data to be shown in the TextView has to be passed from the exiting Activity (`MainActivity`) using a [Bundle][1] object to the Intent that starts the `NewActivity`.\r\n\r\n\r\nI would assume that variable &#39;t&#39; is supposed to be the TextView of `newActivity.class` and not `MainActivity`. \r\n\r\nThat would mean you would have to move it&#39;s initialization code to the `onCreate()` of `NewActivity`. \r\n\r\nIt should not be in the `onItemClick()` of the `MainActivity`.\r\n\r\n    TextView t = (TextView) findViewById(R.id.myTV);\r\n            \r\nThe next step you would want to take is to create a `Bundle` object in the `onItemClick()` and pass the relevant text information to the target Activity. This is one way to do so:\r\n\r\n    public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n            Intent intent = new Intent(view.getContext(), newActivity.class);\r\n            Bundle txtBundle = new Bundle();\r\n            \r\n            if (i == 0) {\r\n                txtBundle.putString(&quot;text&quot;, &quot;Zero&quot;);\r\n            } else if (i == 1) {\r\n                txtBundle.putString(&quot;text&quot;, &quot;One&quot;);\r\n            } else if (i == 2) {\r\n                txtBundle.putString(&quot;text&quot;, &quot;Two&quot;);\r\n            } else if (i == 3) {\r\n                txtBundle.putString(&quot;text&quot;, &quot;Three&quot;);\r\n            }  else {\r\n                txtBundle.putString(&quot;text&quot;, &quot;...&quot;);\r\n            }\r\n\r\n           intent.putExtras(txtBundle);\r\n\r\n           startActivity(intent);\r\n    }\r\n\r\nThen proceed to the `onCreate()` of the `NewActivity` and retrieve the Bundle that was added to the Intent that started it like so:\r\n\r\n    public class NewActivity extends AppCompatActivity {\r\n     \r\n \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.new_activity_layout);\r\n            TextView t = (TextView) findViewById(R.id.myTV);\r\n            Bundle txtBundle = getIntent().getExtras();\r\n            String text = txtBundle.getString(&quot;text&quot;);\r\n            t.setText(text);   \r\n     \r\n    }\r\n\r\nHopefully this should solve the problem.\r\n   \r\n  [1]: https://developer.android.com/reference/android/os/Bundle","title":"Android after clicking on listview item, open new activity and set text there, text does&#39;t change","body":"<p>The reason the TextView is not showing any text in the target Activity (<code>newActivity.class</code>) is because the text data to be shown in the TextView has to be passed from the exiting Activity (<code>MainActivity</code>) using a <a href=\"https://developer.android.com/reference/android/os/Bundle\" rel=\"nofollow noreferrer\">Bundle</a> object to the Intent that starts the <code>NewActivity</code>.</p>\n<p>I would assume that variable 't' is supposed to be the TextView of <code>newActivity.class</code> and not <code>MainActivity</code>.</p>\n<p>That would mean you would have to move it's initialization code to the <code>onCreate()</code> of <code>NewActivity</code>.</p>\n<p>It should not be in the <code>onItemClick()</code> of the <code>MainActivity</code>.</p>\n<pre><code>TextView t = (TextView) findViewById(R.id.myTV);\n        \n</code></pre>\n<p>The next step you would want to take is to create a <code>Bundle</code> object in the <code>onItemClick()</code> and pass the relevant text information to the target Activity. This is one way to do so:</p>\n<pre><code>public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n        Intent intent = new Intent(view.getContext(), newActivity.class);\n        Bundle txtBundle = new Bundle();\n        \n        if (i == 0) {\n            txtBundle.putString(&quot;text&quot;, &quot;Zero&quot;);\n        } else if (i == 1) {\n            txtBundle.putString(&quot;text&quot;, &quot;One&quot;);\n        } else if (i == 2) {\n            txtBundle.putString(&quot;text&quot;, &quot;Two&quot;);\n        } else if (i == 3) {\n            txtBundle.putString(&quot;text&quot;, &quot;Three&quot;);\n        }  else {\n            txtBundle.putString(&quot;text&quot;, &quot;...&quot;);\n        }\n\n       intent.putExtras(txtBundle);\n\n       startActivity(intent);\n}\n</code></pre>\n<p>Then proceed to the <code>onCreate()</code> of the <code>NewActivity</code> and retrieve the Bundle that was added to the Intent that started it like so:</p>\n<pre><code>public class NewActivity extends AppCompatActivity {\n \n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.new_activity_layout);\n        TextView t = (TextView) findViewById(R.id.myTV);\n        Bundle txtBundle = getIntent().getExtras();\n        String text = txtBundle.getString(&quot;text&quot;);\n        t.setText(text);   \n \n}\n</code></pre>\n<p>Hopefully this should solve the problem.</p>\n"}],"owner":{"account_id":20079434,"reputation":63,"user_id":14722393,"display_name":"Filgum0326"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71551757,"answer_count":1,"score":0,"last_activity_date":1648029037,"creation_date":1647818689,"question_id":71551421,"body_markdown":"I&#39;m new to Android and I&#39;m trying to create simple app in Android Studio.\r\nBasically listview of some bigger towns, after clicking on any I would like to create an activity and based on which item was clicked, I&#39;d like to set text of textview of new activity on some basic text like &quot;One&quot;, or town description e.g.\r\nThe problem is setting text, it simply doesn&#39;t work and I can&#39;t really figure out why.\r\nThe id passed to t(Textview) is the id from new Acticity (its textview) \r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n        private ListView list;\r\n        private ArrayAdapter&lt;String&gt; adapter;\r\n        private AdapterView.OnItemClickListener myClick = new AdapterView.OnItemClickListener() {\r\n            @SuppressLint(&quot;SetTextI18n&quot;)\r\n            @Override\r\n            public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n                Intent intent = new Intent(view.getContext(), newActivity.class);\r\n                startActivity(intent);\r\n                TextView t = (TextView) findViewById(R.id.myTV);\r\n                if (i == 0) {\r\n                    t.setText(&quot;Zero&quot;);\r\n                } else if (i == 1) {\r\n                    t.setText(&quot;One&quot;);\r\n                } else if (i == 2) {\r\n                    t.setText(&quot;Two&quot;);\r\n                } else if (i == 3) {\r\n                    t.setText(&quot;Three&quot;);\r\n                }  else {\r\n                    t.setText(&quot;...&quot;);\r\n                }\r\n            }\r\n        };\r\n    \r\n            @Override\r\n            protected void onCreate(Bundle savedInstanceState) {\r\n                super.onCreate(savedInstanceState);\r\n                setContentView(R.layout.activity_main);\r\n        \r\n                list = (ListView) findViewById(R.id.listView);\r\n                String[] m = {&quot;Rome&quot;, &quot;Florence&quot;, &quot;Paris&quot;, &quot;Edinburgh&quot;,\r\n                        &quot;London&quot;, &quot;Prague&quot;, &quot;Venice&quot;, &quot;Brisbane&quot;, &quot;Kyoto&quot;, &quot;Rio de Janeiro&quot;};\r\n                ArrayList&lt;String&gt; towns = new ArrayList&lt;&gt;(Arrays.asList(m));\r\n                adapter = new ArrayAdapter&lt;&gt;(this, R.layout.element, towns);\r\n                list.setAdapter(adapter);\r\n        \r\n                list.setOnItemClickListener(myClick);\r\n            }\r\n        }\r\n\r\n","title":"Android after clicking on listview item, open new activity and set text there, text does&#39;t change","body":"<p>I'm new to Android and I'm trying to create simple app in Android Studio.\nBasically listview of some bigger towns, after clicking on any I would like to create an activity and based on which item was clicked, I'd like to set text of textview of new activity on some basic text like &quot;One&quot;, or town description e.g.\nThe problem is setting text, it simply doesn't work and I can't really figure out why.\nThe id passed to t(Textview) is the id from new Acticity (its textview)</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    private ListView list;\n    private ArrayAdapter&lt;String&gt; adapter;\n    private AdapterView.OnItemClickListener myClick = new AdapterView.OnItemClickListener() {\n        @SuppressLint(&quot;SetTextI18n&quot;)\n        @Override\n        public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n            Intent intent = new Intent(view.getContext(), newActivity.class);\n            startActivity(intent);\n            TextView t = (TextView) findViewById(R.id.myTV);\n            if (i == 0) {\n                t.setText(&quot;Zero&quot;);\n            } else if (i == 1) {\n                t.setText(&quot;One&quot;);\n            } else if (i == 2) {\n                t.setText(&quot;Two&quot;);\n            } else if (i == 3) {\n                t.setText(&quot;Three&quot;);\n            }  else {\n                t.setText(&quot;...&quot;);\n            }\n        }\n    };\n\n        @Override\n        protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.activity_main);\n    \n            list = (ListView) findViewById(R.id.listView);\n            String[] m = {&quot;Rome&quot;, &quot;Florence&quot;, &quot;Paris&quot;, &quot;Edinburgh&quot;,\n                    &quot;London&quot;, &quot;Prague&quot;, &quot;Venice&quot;, &quot;Brisbane&quot;, &quot;Kyoto&quot;, &quot;Rio de Janeiro&quot;};\n            ArrayList&lt;String&gt; towns = new ArrayList&lt;&gt;(Arrays.asList(m));\n            adapter = new ArrayAdapter&lt;&gt;(this, R.layout.element, towns);\n            list.setAdapter(adapter);\n    \n            list.setOnItemClickListener(myClick);\n        }\n    }\n</code></pre>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":5,"creation_date":1648028818,"post_id":71584986,"comment_id":126518078,"body_markdown":"Does https://stackoverflow.com/questions/11288083/java-conditional-imports help?","body":"Does <a href=\"https://stackoverflow.com/questions/11288083/java-conditional-imports\" title=\"java conditional imports\">stackoverflow.com/questions/11288083/java-conditional-import&zwnj;&#8203;s</a> help?"},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1648029253,"post_id":71584986,"comment_id":126518268,"body_markdown":"Import statements in java are just an instruction to the compiler so you don&#39;t have to type the packages when you are defining and instanciating objects.","body":"Import statements in java are just an instruction to the compiler so you don&#39;t have to type the packages when you are defining and instanciating objects."},{"owner":{"account_id":3557255,"reputation":5214,"user_id":2970705,"display_name":"JavAlex"},"score":0,"creation_date":1648029430,"post_id":71584986,"comment_id":126518338,"body_markdown":"Thanks a lot, @luk2302 https://stackoverflow.com/questions/11288083/java-conditional-imports helped.","body":"Thanks a lot, @luk2302 <a href=\"https://stackoverflow.com/questions/11288083/java-conditional-imports\" title=\"java conditional imports\">stackoverflow.com/questions/11288083/java-conditional-import&zwnj;&#8203;s</a> helped."}],"owner":{"account_id":3557255,"reputation":5214,"user_id":2970705,"display_name":"JavAlex"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1648103904,"answer_count":0,"score":0,"last_activity_date":1648028733,"creation_date":1648028733,"question_id":71584986,"body_markdown":"I would like wrap an *import*-statement with a *try-catch*-block.\r\nHow can I do this in Java?\r\n\r\nIn more detail, I want to import\r\n\r\n    import com.sun.java.swing.plaf.windows.WindowsLookAndFeel;\r\n\r\nHowever, this class is only available if the JDK runs on Windows. It is not available when I build the same come on Linux (e. g. in Jenkins, see https://stackoverflow.com/questions/62990097/openjdk-11-class-not-found-error-com-sun-java-swing-plaf-windows-windowslookand).\r\n\r\nSo, I would like to do something like\r\n\r\n    try { \r\n        import com.sun.java.swing.plaf.windows.WindowsLookAndFeel;\r\n    } catch(Exception e) {\r\n        ...\r\n    }\r\n\r\nIn Python, it is possilbe to wrap imports with a try-block. Is there a similar solution in Java?","title":"Wrap an import-statement with a try-catch-block","body":"<p>I would like wrap an <em>import</em>-statement with a <em>try-catch</em>-block.\nHow can I do this in Java?</p>\n<p>In more detail, I want to import</p>\n<pre><code>import com.sun.java.swing.plaf.windows.WindowsLookAndFeel;\n</code></pre>\n<p>However, this class is only available if the JDK runs on Windows. It is not available when I build the same come on Linux (e. g. in Jenkins, see <a href=\"https://stackoverflow.com/questions/62990097/openjdk-11-class-not-found-error-com-sun-java-swing-plaf-windows-windowslookand\">OpenJDK 11: class not found error com.sun.java.swing.plaf.windows.WindowsLookAndFeel (linux)</a>).</p>\n<p>So, I would like to do something like</p>\n<pre><code>try { \n    import com.sun.java.swing.plaf.windows.WindowsLookAndFeel;\n} catch(Exception e) {\n    ...\n}\n</code></pre>\n<p>In Python, it is possilbe to wrap imports with a try-block. Is there a similar solution in Java?</p>\n"},{"tags":["java","android","android-glide"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1647150040,"post_id":71452366,"comment_id":126295727,"body_markdown":"what glide version are you using?","body":"what glide version are you using?"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":2,"creation_date":1647150408,"post_id":71452366,"comment_id":126295746,"body_markdown":"have you added these 2 libraries? -&gt; If not, add theme\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n`implementation &#39;com.github.bumptech.glide:glide:4.13.0&#39;`\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n`annotationProcessor &#39;com.github.bumptech.glide:compiler:4.13.0&#39;`","body":"have you added these 2 libraries? -&gt; If not, add theme                                        <code>implementation &#39;com.github.bumptech.glide:glide:4.13.0&#39;</code>                           <code>annotationProcessor &#39;com.github.bumptech.glide:compiler:4.13.0&#39;</code>"},{"owner":{"account_id":12869869,"reputation":1426,"user_id":9308731,"display_name":"CrackerKSR"},"score":1,"creation_date":1647154094,"post_id":71452366,"comment_id":126296150,"body_markdown":"asGif works now but can&#39;t save as file. the file size is 4mb but the file is blank","body":"asGif works now but can&#39;t save as file. the file size is 4mb but the file is blank"},{"owner":{"account_id":12869869,"reputation":1426,"user_id":9308731,"display_name":"CrackerKSR"},"score":0,"creation_date":1647154236,"post_id":71452366,"comment_id":126296168,"body_markdown":"I saw there is asFile type in glide&#39;s repo so I tried with asFile(). But I could not resize the gif using override(size) and submit(size).","body":"I saw there is asFile type in glide&#39;s repo so I tried with asFile(). But I could not resize the gif using override(size) and submit(size)."},{"owner":{"account_id":12869869,"reputation":1426,"user_id":9308731,"display_name":"CrackerKSR"},"score":0,"creation_date":1647164820,"post_id":71452366,"comment_id":126297921,"body_markdown":"If you know Glide well , Can you please tell me how to resize the gif file for saving not displaying on imageview","body":"If you know Glide well , Can you please tell me how to resize the gif file for saving not displaying on imageview"},{"owner":{"account_id":12869869,"reputation":1426,"user_id":9308731,"display_name":"CrackerKSR"},"score":0,"creation_date":1647165360,"post_id":71452366,"comment_id":126298021,"body_markdown":"As my question title implies, I want to resize and save the gif :)","body":"As my question title implies, I want to resize and save the gif :)"}],"answers":[{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648028654,"creation_date":1647165519,"answer_id":71455614,"question_id":71452366,"body_markdown":"`Glide` can not only load files, but also download them. And that is what you want. You can just use this code and it will be downloaded.\r\n```java\r\nGlide.with(MainActivity.this).asFile()\r\n            .load(url)\r\n            .apply(new RequestOptions()\r\n                    .format(DecodeFormat.PREFER_ARGB_8888)\r\n                    .override(Target.SIZE_ORIGINAL)) // you can also give your size here\r\n            .into(new Target&lt;File&gt;() {\r\n                @Override\r\n                public void onStart() {\r\n\r\n                }\r\n\r\n                @Override\r\n                public void onStop() {\r\n\r\n                }\r\n\r\n                @Override\r\n                public void onDestroy() {\r\n\r\n                }\r\n\r\n                @Override\r\n                public void onLoadStarted(@Nullable Drawable placeholder) {\r\n\r\n                }\r\n\r\n                @Override\r\n                public void onLoadFailed(@Nullable Drawable errorDrawable) {\r\n\r\n                }\r\n\r\n                @Override\r\n                public void onResourceReady(@NonNull File resource, @Nullable Transition&lt;? super File&gt; transition) {\r\n                    storeImage(resource);\r\n                }\r\n\r\n                @Override\r\n                public void onLoadCleared(@Nullable Drawable placeholder) {\r\n\r\n                }\r\n\r\n                @Override\r\n                public void getSize(@NonNull SizeReadyCallback cb) {\r\n\r\n                }\r\n\r\n                @Override\r\n                public void removeCallback(@NonNull SizeReadyCallback cb) {\r\n\r\n                }\r\n\r\n                @Override\r\n                public void setRequest(@Nullable Request request) {\r\n\r\n                }\r\n\r\n                @Nullable\r\n                @Override\r\n                public Request getRequest() {\r\n                    return null;\r\n                }\r\n            });\r\n```\r\n\r\nThe `storeImage` method:\r\n```java\r\nprivate void storeImage(File image) {\r\n    File pictureFile = getOutputMediaFile();\r\n    if (pictureFile == null) {\r\n        return;\r\n    }\r\n    try {\r\n        FileOutputStream output = new FileOutputStream(pictureFile);\r\n        FileInputStream input = new FileInputStream(image);\r\n\r\n        FileChannel inputChannel = input.getChannel();\r\n        FileChannel outputChannel = output.getChannel();\r\n\r\n        inputChannel.transferTo(0, inputChannel.size(), outputChannel);\r\n        output.close();\r\n        input.close();\r\n        Toast.makeText(MainActivity.this, &quot;Image Downloaded&quot;, Toast.LENGTH_SHORT).show();\r\n    } catch (FileNotFoundException e) {\r\n        e.printStackTrace();\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n\r\nprivate File getOutputMediaFile() {\r\n    File mediaStorageDir = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS) + &quot;/Diwali Images&quot;); // change the folder name according to your needs.\r\n    if (!mediaStorageDir.exists()) {\r\n        if (!mediaStorageDir.mkdirs())\r\n            return null;\r\n    }\r\n\r\n    File mediaFile;\r\n    mediaFile = new File(mediaStorageDir.getPath() + File.separator + &quot;IMG_SHUBH_DIWALI_&quot;+Calendar.getInstance().getTimeInMillis() +&quot;.gif&quot;); // change the name of the file according to your wish\r\n    return mediaFile;\r\n}\r\n```\r\n\r\n### Edit\r\n---\r\nI have actually found out 1 library for that. In that library, I found [this][1] class interesting. Here, in the constructor we can pass the width and height and then we can save it.\r\n\r\n\r\n  [1]: https://github.com/waynejo/android-ndk-gif/blob/master/library/androidndkgif/src/com/waynejo/androidndkgif/GifEncoder.java","title":"Glide: How to resize and save the gif as file using Glide v4?","body":"<p><code>Glide</code> can not only load files, but also download them. And that is what you want. You can just use this code and it will be downloaded.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Glide.with(MainActivity.this).asFile()\n            .load(url)\n            .apply(new RequestOptions()\n                    .format(DecodeFormat.PREFER_ARGB_8888)\n                    .override(Target.SIZE_ORIGINAL)) // you can also give your size here\n            .into(new Target&lt;File&gt;() {\n                @Override\n                public void onStart() {\n\n                }\n\n                @Override\n                public void onStop() {\n\n                }\n\n                @Override\n                public void onDestroy() {\n\n                }\n\n                @Override\n                public void onLoadStarted(@Nullable Drawable placeholder) {\n\n                }\n\n                @Override\n                public void onLoadFailed(@Nullable Drawable errorDrawable) {\n\n                }\n\n                @Override\n                public void onResourceReady(@NonNull File resource, @Nullable Transition&lt;? super File&gt; transition) {\n                    storeImage(resource);\n                }\n\n                @Override\n                public void onLoadCleared(@Nullable Drawable placeholder) {\n\n                }\n\n                @Override\n                public void getSize(@NonNull SizeReadyCallback cb) {\n\n                }\n\n                @Override\n                public void removeCallback(@NonNull SizeReadyCallback cb) {\n\n                }\n\n                @Override\n                public void setRequest(@Nullable Request request) {\n\n                }\n\n                @Nullable\n                @Override\n                public Request getRequest() {\n                    return null;\n                }\n            });\n</code></pre>\n<p>The <code>storeImage</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void storeImage(File image) {\n    File pictureFile = getOutputMediaFile();\n    if (pictureFile == null) {\n        return;\n    }\n    try {\n        FileOutputStream output = new FileOutputStream(pictureFile);\n        FileInputStream input = new FileInputStream(image);\n\n        FileChannel inputChannel = input.getChannel();\n        FileChannel outputChannel = output.getChannel();\n\n        inputChannel.transferTo(0, inputChannel.size(), outputChannel);\n        output.close();\n        input.close();\n        Toast.makeText(MainActivity.this, &quot;Image Downloaded&quot;, Toast.LENGTH_SHORT).show();\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n\nprivate File getOutputMediaFile() {\n    File mediaStorageDir = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS) + &quot;/Diwali Images&quot;); // change the folder name according to your needs.\n    if (!mediaStorageDir.exists()) {\n        if (!mediaStorageDir.mkdirs())\n            return null;\n    }\n\n    File mediaFile;\n    mediaFile = new File(mediaStorageDir.getPath() + File.separator + &quot;IMG_SHUBH_DIWALI_&quot;+Calendar.getInstance().getTimeInMillis() +&quot;.gif&quot;); // change the name of the file according to your wish\n    return mediaFile;\n}\n</code></pre>\n<h3>Edit</h3>\n<hr />\n<p>I have actually found out 1 library for that. In that library, I found <a href=\"https://github.com/waynejo/android-ndk-gif/blob/master/library/androidndkgif/src/com/waynejo/androidndkgif/GifEncoder.java\" rel=\"nofollow noreferrer\">this</a> class interesting. Here, in the constructor we can pass the width and height and then we can save it.</p>\n"}],"owner":{"account_id":12869869,"reputation":1426,"user_id":9308731,"display_name":"CrackerKSR"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":888,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":71455614,"answer_count":1,"score":3,"last_activity_date":1648028654,"creation_date":1647111679,"question_id":71452366,"body_markdown":"I want to resize the gif file and save it. I tried to use some suggested methods but those give error and later I came to know that some of methods are deprecated in Glide `v4`\r\n```Java\r\n           byte[] bytes = Glide.with(context)\r\n                         .asGif()                   \r\n                         .load(url)\r\n                         .toBytes()\r\n                         .into(250, 250)\r\n                         .submit()\r\n                         .get();\r\n```\r\nIn above code converting the arrays to file gives blank gif file with 4.x MB size\r\n\r\n\r\n```java\r\n            File file = Glide.with(reactContext)\r\n                        .asFile()\r\n                        .load(url)\r\n                        .override(512, 512)\r\n                        .fitCenter()\r\n                        .into(512,512)\r\n                        .get();\r\n```\r\nAnd\r\n```java\r\n            File file = Glide.with(reactContext)\r\n                        .asFile()\r\n                        .load(url)\r\n                        .apply(new RequestOptions().override(512, 512))\r\n                        // .diskCacheStrategy(DiskCacheStrategy.ALL)\r\n                        .submit(512,512)\r\n                        .get();\r\n```\r\nAnd\r\n```java\r\n            File file = Glide.with(reactContext)\r\n                        .asFile()\r\n                        .load(url)\r\n                        // .override(512, 512)\r\n                        .fitCenter()\r\n                        .submit(512,512)\r\n                        .get();\r\n```\r\nBut the above code keeps the width and height as it is\r\n\r\n\r\n\r\nDetails:\r\n```text\r\nGlide version : 4.13.0\r\n```\r\n\r\nPlease share the proper code or suggest something to resize the gif (to save as file rather displaying).\r\n\r\n","title":"Glide: How to resize and save the gif as file using Glide v4?","body":"<p>I want to resize the gif file and save it. I tried to use some suggested methods but those give error and later I came to know that some of methods are deprecated in Glide <code>v4</code></p>\n<pre><code>           byte[] bytes = Glide.with(context)\n                         .asGif()                   \n                         .load(url)\n                         .toBytes()\n                         .into(250, 250)\n                         .submit()\n                         .get();\n</code></pre>\n<p>In above code converting the arrays to file gives blank gif file with 4.x MB size</p>\n<pre class=\"lang-java prettyprint-override\"><code>            File file = Glide.with(reactContext)\n                        .asFile()\n                        .load(url)\n                        .override(512, 512)\n                        .fitCenter()\n                        .into(512,512)\n                        .get();\n</code></pre>\n<p>And</p>\n<pre class=\"lang-java prettyprint-override\"><code>            File file = Glide.with(reactContext)\n                        .asFile()\n                        .load(url)\n                        .apply(new RequestOptions().override(512, 512))\n                        // .diskCacheStrategy(DiskCacheStrategy.ALL)\n                        .submit(512,512)\n                        .get();\n</code></pre>\n<p>And</p>\n<pre class=\"lang-java prettyprint-override\"><code>            File file = Glide.with(reactContext)\n                        .asFile()\n                        .load(url)\n                        // .override(512, 512)\n                        .fitCenter()\n                        .submit(512,512)\n                        .get();\n</code></pre>\n<p>But the above code keeps the width and height as it is</p>\n<p>Details:</p>\n<pre><code>Glide version : 4.13.0\n</code></pre>\n<p>Please share the proper code or suggest something to resize the gif (to save as file rather displaying).</p>\n"},{"tags":["java","maven","aem"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":3,"creation_date":1648028781,"post_id":71584947,"comment_id":126518066,"body_markdown":"You have to set `JAVA_HOME` as environment variable pointing to `C:\\Program Files\\Java\\jdk1.8.0_202` nothing else... Also of course the installation of Maven in your PATH...apart from that check the version of JDK you are using...","body":"You have to set <code>JAVA_HOME</code> as environment variable pointing to <code>C:\\Program Files\\Java\\jdk1.8.0_202</code> nothing else... Also of course the installation of Maven in your PATH...apart from that check the version of JDK you are using..."},{"owner":{"account_id":2700437,"reputation":2554,"user_id":2331271,"display_name":"Julien"},"score":0,"creation_date":1648028781,"post_id":71584947,"comment_id":126518067,"body_markdown":"Have you defined a JAVA_HOME env variable set to `C:\\Program Files\\Java\\jdk1.8.0_202`&#160;?","body":"Have you defined a JAVA_HOME env variable set to <code>C:\\Program Files\\Java\\jdk1.8.0_202</code> ?"},{"owner":{"account_id":11849278,"reputation":58,"user_id":8671041,"display_name":"veena vikraman"},"score":0,"creation_date":1648032342,"post_id":71584947,"comment_id":126519489,"body_markdown":"You have to set the JAVA_HOME in env variables . Please refer https://stackoverflow.com/a/19655276/8671041","body":"You have to set the JAVA_HOME in env variables . Please refer <a href=\"https://stackoverflow.com/a/19655276/8671041\">stackoverflow.com/a/19655276/8671041</a>"}],"owner":{"account_id":24514456,"reputation":17,"user_id":18428407,"display_name":"devnoob"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648028567,"creation_date":1648028567,"question_id":71584947,"body_markdown":"I&#39;m trying to run an AEM project. I successfully added it from cmd and now I&#39;m trying to run it from InteliJ but I&#39;m getting error. \r\n\r\n\r\nIm trying with `mvn clean install -PautoInstallPackage` because I have running instance and want to build and package the whole project and deploy AEM with it.\r\n\r\nError is: `Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project aem-guides-wknd-full.core: Compilation failure\r\n[ERROR] No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?`\r\n\r\n`javac 1.8.0_202`\r\n---------------------------------------------------\r\n`java version &quot;1.8.0_321&quot;`\r\n\r\nIn env variables I set for `User variables` `path &gt; C:\\Program Files\\Java\\jdk1.8.0_202\\bin`\r\n\r\n\r\n\r\nAnd in `System Variables` in `Path` I added `C:\\Program Files\\Java\\jdk1.8.0_202\\bin`\r\n\r\n\r\n\r\n","title":"No compiler is provided","body":"<p>I'm trying to run an AEM project. I successfully added it from cmd and now I'm trying to run it from InteliJ but I'm getting error.</p>\n<p>Im trying with <code>mvn clean install -PautoInstallPackage</code> because I have running instance and want to build and package the whole project and deploy AEM with it.</p>\n<p>Error is: <code>Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project aem-guides-wknd-full.core: Compilation failure [ERROR] No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?</code></p>\n<h2><code>javac 1.8.0_202</code></h2>\n<p><code>java version &quot;1.8.0_321&quot;</code></p>\n<p>In env variables I set for <code>User variables</code> <code>path &gt; C:\\Program Files\\Java\\jdk1.8.0_202\\bin</code></p>\n<p>And in <code>System Variables</code> in <code>Path</code> I added <code>C:\\Program Files\\Java\\jdk1.8.0_202\\bin</code></p>\n"},{"tags":["java","android-studio","java-8","macos-catalina"],"answers":[{"tags":[],"owner":{"account_id":4062721,"reputation":21,"user_id":3338798,"display_name":"iallnay"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648028278,"creation_date":1648028278,"answer_id":71584891,"question_id":59712378,"body_markdown":"Old question, but I also struggled with this and just got to the bottom of it.\r\n\r\nFirst, I noticed that I was able to run java as superuser, so stuff like this worked fine: \r\n```\r\nsudo java ...\r\nsudo javac ...\r\n``` \r\nHowever, this was annoying and a bit weird, so I went digging and found that I had `$JAVA_HOME` in my `$PATH` in `~/.zshrc` (yours may be `~/.bashrc` or whatever shell you&#39;re using), like:\r\n\r\n```\r\nexport $JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk_whatever/Contents/Home\r\nexport PATH=$JAVA_HOME/bin:$PATH\r\n```\r\n\r\nI removed that second line, and used the java located in `/usr/bin` as is default and already in my path, and this worked. I could still switch my java version with `$JAVA_HOME` and it functioned correctly.\r\n\r\nStill, I couldn&#39;t run java with `/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/bin/java`, and some stuff was still broken –&#160;in my case the maven/run configuration UI tools in IntelliJ.\r\n\r\nFinally, I noticed that there was yet another problematic line in my `.zshrc`:\r\n\r\n```\r\nexport DYLD_LIBRARY_PATH=&quot;/usr/local/lib/&quot;\r\n```\r\n\r\nI&#39;m not entirely sure why I added that, but I removed it, refreshed my terminal, and suddenly everything was OK again. \r\n\r\nIt may be fine to just prepend/append values to this environment variable, but I haven&#39;t needed to do that yet.","title":"Error occurred during initialization of VM. Corrupted ZIP library: /Library/Java/JavaVirtualMachines/jdk1.8.0_231.jdk/Contents/Home/bin/keytool","body":"<p>Old question, but I also struggled with this and just got to the bottom of it.</p>\n<p>First, I noticed that I was able to run java as superuser, so stuff like this worked fine:</p>\n<pre><code>sudo java ...\nsudo javac ...\n</code></pre>\n<p>However, this was annoying and a bit weird, so I went digging and found that I had <code>$JAVA_HOME</code> in my <code>$PATH</code> in <code>~/.zshrc</code> (yours may be <code>~/.bashrc</code> or whatever shell you're using), like:</p>\n<pre><code>export $JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk_whatever/Contents/Home\nexport PATH=$JAVA_HOME/bin:$PATH\n</code></pre>\n<p>I removed that second line, and used the java located in <code>/usr/bin</code> as is default and already in my path, and this worked. I could still switch my java version with <code>$JAVA_HOME</code> and it functioned correctly.</p>\n<p>Still, I couldn't run java with <code>/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/bin/java</code>, and some stuff was still broken – in my case the maven/run configuration UI tools in IntelliJ.</p>\n<p>Finally, I noticed that there was yet another problematic line in my <code>.zshrc</code>:</p>\n<pre><code>export DYLD_LIBRARY_PATH=&quot;/usr/local/lib/&quot;\n</code></pre>\n<p>I'm not entirely sure why I added that, but I removed it, refreshed my terminal, and suddenly everything was OK again.</p>\n<p>It may be fine to just prepend/append values to this environment variable, but I haven't needed to do that yet.</p>\n"}],"owner":{"account_id":1765368,"reputation":76,"user_id":1611357,"display_name":"user1611357"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1098,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1648028278,"creation_date":1578901536,"question_id":59712378,"body_markdown":"I&#39;m consistently getting the error executing keytool, java, javac, etc:\r\n\r\n```\r\nError occurred during initialization of VM\r\nCorrupted ZIP library: /Library/Java/JavaVirtualMachines/jdk1.8.0_231.jdk/Contents/Home/jre/lib/libzip.dylib\r\n```\r\n\r\nI&#39;ve tried to reinstalling my JRE and JDK. The same problem persists for both versions of JDK, jdk1.8.0_231 and jdk13.0.1.\r\n\r\nI tried using the Java binary from the Android Studio installation as well but it gives the same error. The binary I used: &quot;/Applications/Android\\ Studio.app/Contents/jre/jdk/Contents/Home/bin/keytool&quot;\r\n\r\nI&#39;m currently running Java 8 Update 231 on macOS Catalina.","title":"Error occurred during initialization of VM. Corrupted ZIP library: /Library/Java/JavaVirtualMachines/jdk1.8.0_231.jdk/Contents/Home/bin/keytool","body":"<p>I'm consistently getting the error executing keytool, java, javac, etc:</p>\n\n<pre><code>Error occurred during initialization of VM\nCorrupted ZIP library: /Library/Java/JavaVirtualMachines/jdk1.8.0_231.jdk/Contents/Home/jre/lib/libzip.dylib\n</code></pre>\n\n<p>I've tried to reinstalling my JRE and JDK. The same problem persists for both versions of JDK, jdk1.8.0_231 and jdk13.0.1.</p>\n\n<p>I tried using the Java binary from the Android Studio installation as well but it gives the same error. The binary I used: \"/Applications/Android\\ Studio.app/Contents/jre/jdk/Contents/Home/bin/keytool\"</p>\n\n<p>I'm currently running Java 8 Update 231 on macOS Catalina.</p>\n"},{"tags":["java","concurrency","java-stream","threadpool","completable-future"],"answers":[{"tags":[],"owner":{"account_id":1063012,"reputation":71986,"user_id":1064245,"accept_rate":82,"display_name":"M A"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1646406384,"creation_date":1646406005,"answer_id":71353250,"question_id":71352623,"body_markdown":"The reason is that `collect(Collectors.toList())` is a terminal operation, hence it triggers the stream pipeline (remember that streams are evaluated lazily). So when you call `collect`, all of the `CompletableFuture` instances are constructed and placed in the list. This means that there is a chain of `CompletableFuture`, where each one is in turn a chain composed of two stages, let&#39;s call them X and Y.\r\n\r\nEvery time the first thread executor finishes an X stage, it is free to process the X stage of the next composed `CompletableFuture`, while the other thread executor is processing stage Y of the previous `CompletableFuture`. This is the result that we intuitively expect.\r\n\r\nOn the other hand, when you don&#39;t call `collect`, then `forEach` is in this case the terminal operation. However, in this case every element in the stream is processed ***sequentially*** (to confirm try switching to `parallelStream()`), hence stages X and Y get executed for the first `CompletableFuture`. Only when stage Y from the previous stream element is finished, will `forEach` move to the second element in the stream pipeline, and only then will a new `CompletableFuture` be mapped from the original `Double` value.","title":"Understanding Parallel Execution of chained CompletableFutures","body":"<p>The reason is that <code>collect(Collectors.toList())</code> is a terminal operation, hence it triggers the stream pipeline (remember that streams are evaluated lazily). So when you call <code>collect</code>, all of the <code>CompletableFuture</code> instances are constructed and placed in the list. This means that there is a chain of <code>CompletableFuture</code>, where each one is in turn a chain composed of two stages, let's call them X and Y.</p>\n<p>Every time the first thread executor finishes an X stage, it is free to process the X stage of the next composed <code>CompletableFuture</code>, while the other thread executor is processing stage Y of the previous <code>CompletableFuture</code>. This is the result that we intuitively expect.</p>\n<p>On the other hand, when you don't call <code>collect</code>, then <code>forEach</code> is in this case the terminal operation. However, in this case every element in the stream is processed <em><strong>sequentially</strong></em> (to confirm try switching to <code>parallelStream()</code>), hence stages X and Y get executed for the first <code>CompletableFuture</code>. Only when stage Y from the previous stream element is finished, will <code>forEach</code> move to the second element in the stream pipeline, and only then will a new <code>CompletableFuture</code> be mapped from the original <code>Double</code> value.</p>\n"},{"tags":[],"owner":{"account_id":4290743,"reputation":143,"user_id":3507197,"display_name":"Ying Cherry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648028224,"creation_date":1647785264,"answer_id":71547501,"question_id":71352623,"body_markdown":"Love this question and M A&#39;s answer is awesome! I had a similar use case, and I was using Rxjava there. It worked very well, but my colleagues challenged me to implement it without that. T.T\r\n\r\nI tested your example and found a workaround to make it the same performance without `collect`. The trick is to let the `cf.join()` be executed in another thread. \r\n\r\n```\r\n.forEach(cf -&gt; CompletableFuture.supplyAsync(cf::join, anotherThreadpool) \r\n// another threadpool for the join, or you can omit it, using the default forkjoinpool.commonpool\r\n              .thenAccept(v -&gt;  System.out.println(&quot;Dug a hole and filled it back in.  Net volume: &quot; + v))\r\n);\r\n```\r\n\r\n\r\nBut I have to say, this might lead to potential issues as it lacks the support for backpressure...if the upstream is infinite and fast, but the consumer is too slow, all the fast-created `CompletableFuture` in the `map` operator would be accumulated and submitted to the first diggingThreadPool, finally causing RejectedExecutionException, OOM, etc. \r\n","title":"Understanding Parallel Execution of chained CompletableFutures","body":"<p>Love this question and M A's answer is awesome! I had a similar use case, and I was using Rxjava there. It worked very well, but my colleagues challenged me to implement it without that. T.T</p>\n<p>I tested your example and found a workaround to make it the same performance without <code>collect</code>. The trick is to let the <code>cf.join()</code> be executed in another thread.</p>\n<pre><code>.forEach(cf -&gt; CompletableFuture.supplyAsync(cf::join, anotherThreadpool) \n// another threadpool for the join, or you can omit it, using the default forkjoinpool.commonpool\n              .thenAccept(v -&gt;  System.out.println(&quot;Dug a hole and filled it back in.  Net volume: &quot; + v))\n);\n</code></pre>\n<p>But I have to say, this might lead to potential issues as it lacks the support for backpressure...if the upstream is infinite and fast, but the consumer is too slow, all the fast-created <code>CompletableFuture</code> in the <code>map</code> operator would be accumulated and submitted to the first diggingThreadPool, finally causing RejectedExecutionException, OOM, etc.</p>\n"}],"owner":{"account_id":2425257,"reputation":5090,"user_id":2117355,"accept_rate":71,"display_name":"Mark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":620,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1648028224,"creation_date":1646402846,"question_id":71352623,"body_markdown":"I have a question about how Java Streams and chained CompletableFutures perform.  \r\n\r\nMy question is this: if I run the following code, calling `execute()` with 10 items in the list takes ~11 seconds to complete (number of items in the list plus 1).  This is because I have two threads working in parallel: the first executes the `digItUp` operation, and once that&#39;s complete, the second executes the `fillItBackIn` operation, and the first starts processing `digItUp` on the next item in the list.\r\n\r\nIf I comment out line 36 (`.collect(Collectors.toList())`), the `execute()` method takes ~20 seconds to complete.  The threads do not operate in parallel; for each item in the list, the `digItUp` operation completes, and then the `fillItBackIn` operation completes in sequence before the next item in the list is processed.\r\n\r\nIt&#39;s unclear to me why the exclusion of (`.collect(Collectors.toList())`) should change this behavior.  Can someone explain?\r\n\r\nThe complete class:\r\n\r\n\r\n```\r\npackage com.test;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Random;\r\nimport java.util.concurrent.CompletableFuture;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class SimpleExample {\r\n\r\n    private final ExecutorService diggingThreadPool = Executors.newFixedThreadPool(1);\r\n    private final ExecutorService fillingThreadPool = Executors.newFixedThreadPool(1);\r\n\r\n    public SimpleExample() {\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Double&gt; holesToDig = new ArrayList&lt;&gt;();\r\n        Random random = new Random();\r\n        for (int c = 0; c &lt; 10; c++) {\r\n            holesToDig.add(random.nextDouble(1000));\r\n        }\r\n        new SimpleExample().execute(holesToDig);\r\n    }\r\n\r\n    public void execute(List&lt;Double&gt; holeVolumes) {\r\n        long start = System.currentTimeMillis();\r\n        holeVolumes.stream()\r\n                .map(volume -&gt; {\r\n                    CompletableFuture&lt;Double&gt; digItUpCF = CompletableFuture.supplyAsync(() -&gt; digItUp(volume), diggingThreadPool);\r\n                    return digItUpCF.thenApplyAsync(volumeDugUp -&gt; fillItBackIn(volumeDugUp), fillingThreadPool);\r\n                })\r\n                .collect(Collectors.toList())\r\n                .forEach(cf -&gt; {\r\n                    Double volume = cf.join();\r\n                    System.out.println(&quot;Dug a hole and filled it back in.  Net volume: &quot; + volume);\r\n                });\r\n        System.out.println(&quot;Dug up and filled back in &quot; + holeVolumes.size() + &quot; holes in &quot; + (System.currentTimeMillis() - start) + &quot; ms&quot;);\r\n    }\r\n\r\n    public Double digItUp(Double volume) {\r\n        try {\r\n            Thread.sleep(1000);\r\n        } catch (InterruptedException e) {\r\n        }\r\n        System.out.println(&quot;Dug hole with volume &quot; + volume);\r\n        return volume;\r\n    }\r\n\r\n    public Double fillItBackIn(Double volumeDugUp) {\r\n        try {\r\n            Thread.sleep(1000);\r\n        } catch (InterruptedException e) {\r\n        }\r\n        System.out.println(&quot;Filled back in hole of volume &quot; + volumeDugUp);\r\n        return 0.0;\r\n    }\r\n}\r\n\r\n```","title":"Understanding Parallel Execution of chained CompletableFutures","body":"<p>I have a question about how Java Streams and chained CompletableFutures perform.</p>\n<p>My question is this: if I run the following code, calling <code>execute()</code> with 10 items in the list takes ~11 seconds to complete (number of items in the list plus 1).  This is because I have two threads working in parallel: the first executes the <code>digItUp</code> operation, and once that's complete, the second executes the <code>fillItBackIn</code> operation, and the first starts processing <code>digItUp</code> on the next item in the list.</p>\n<p>If I comment out line 36 (<code>.collect(Collectors.toList())</code>), the <code>execute()</code> method takes ~20 seconds to complete.  The threads do not operate in parallel; for each item in the list, the <code>digItUp</code> operation completes, and then the <code>fillItBackIn</code> operation completes in sequence before the next item in the list is processed.</p>\n<p>It's unclear to me why the exclusion of (<code>.collect(Collectors.toList())</code>) should change this behavior.  Can someone explain?</p>\n<p>The complete class:</p>\n<pre><code>package com.test;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Random;\nimport java.util.concurrent.CompletableFuture;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.stream.Collectors;\n\npublic class SimpleExample {\n\n    private final ExecutorService diggingThreadPool = Executors.newFixedThreadPool(1);\n    private final ExecutorService fillingThreadPool = Executors.newFixedThreadPool(1);\n\n    public SimpleExample() {\n\n    }\n\n    public static void main(String[] args) {\n        List&lt;Double&gt; holesToDig = new ArrayList&lt;&gt;();\n        Random random = new Random();\n        for (int c = 0; c &lt; 10; c++) {\n            holesToDig.add(random.nextDouble(1000));\n        }\n        new SimpleExample().execute(holesToDig);\n    }\n\n    public void execute(List&lt;Double&gt; holeVolumes) {\n        long start = System.currentTimeMillis();\n        holeVolumes.stream()\n                .map(volume -&gt; {\n                    CompletableFuture&lt;Double&gt; digItUpCF = CompletableFuture.supplyAsync(() -&gt; digItUp(volume), diggingThreadPool);\n                    return digItUpCF.thenApplyAsync(volumeDugUp -&gt; fillItBackIn(volumeDugUp), fillingThreadPool);\n                })\n                .collect(Collectors.toList())\n                .forEach(cf -&gt; {\n                    Double volume = cf.join();\n                    System.out.println(&quot;Dug a hole and filled it back in.  Net volume: &quot; + volume);\n                });\n        System.out.println(&quot;Dug up and filled back in &quot; + holeVolumes.size() + &quot; holes in &quot; + (System.currentTimeMillis() - start) + &quot; ms&quot;);\n    }\n\n    public Double digItUp(Double volume) {\n        try {\n            Thread.sleep(1000);\n        } catch (InterruptedException e) {\n        }\n        System.out.println(&quot;Dug hole with volume &quot; + volume);\n        return volume;\n    }\n\n    public Double fillItBackIn(Double volumeDugUp) {\n        try {\n            Thread.sleep(1000);\n        } catch (InterruptedException e) {\n        }\n        System.out.println(&quot;Filled back in hole of volume &quot; + volumeDugUp);\n        return 0.0;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","google-sheets"],"answers":[{"tags":[],"owner":{"account_id":14623783,"reputation":139,"user_id":10561645,"display_name":"Jerrymon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648028022,"creation_date":1648028022,"answer_id":71584836,"question_id":71584400,"body_markdown":"Your program uses spreadsheets().values().update() which requires OAuth scopes.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZRquk.png\r\n\r\nThis is the reason why the &quot;Request had insufficient authentication scopes&quot; error occurs. Refer to https://developers.google.com/sheets/api/reference/rest/v4/spreadsheets.values/update?hl=en for more details.\r\n\r\nThis link should help you in authorizing the application.\r\nhttps://developers.google.com/sheets/api/quickstart/java?hl=en\r\n","title":"Permissions - Google Sheets API","body":"<p>Your program uses spreadsheets().values().update() which requires OAuth scopes.\n<a href=\"https://i.stack.imgur.com/ZRquk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZRquk.png\" alt=\"enter image description here\" /></a></p>\n<p>This is the reason why the &quot;Request had insufficient authentication scopes&quot; error occurs. Refer to <a href=\"https://developers.google.com/sheets/api/reference/rest/v4/spreadsheets.values/update?hl=en\" rel=\"nofollow noreferrer\">https://developers.google.com/sheets/api/reference/rest/v4/spreadsheets.values/update?hl=en</a> for more details.</p>\n<p>This link should help you in authorizing the application.\n<a href=\"https://developers.google.com/sheets/api/quickstart/java?hl=en\" rel=\"nofollow noreferrer\">https://developers.google.com/sheets/api/quickstart/java?hl=en</a></p>\n"}],"owner":{"account_id":7597598,"reputation":3,"user_id":17009221,"display_name":"Netrom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71584836,"answer_count":1,"score":0,"last_activity_date":1648028022,"creation_date":1648026046,"question_id":71584400,"body_markdown":"I&#39;m getting this error when Im trying to write data to my spreadsheet in Google sheets.\r\n\r\n&lt;!-- language: lang-json --&gt;\r\n\r\n    {&quot;code&quot;: 403,&quot;details&quot;: [{&quot;@type&quot;: &quot;type.googleapis.com/google.rpc.ErrorInfo&quot;,&quot;reason&quot;:      &quot;ACCESS_TOKEN_SCOPE_INSUFFICIENT&quot;}],&quot;errors&quot;: [{&quot;domain&quot;: &quot;global&quot;,&quot;message&quot;: &quot;Insufficient Permission&quot;,&quot;reason&quot;: &quot;insufficientPermissions&quot;}],&quot;message&quot;: &quot;Request had insufficient authentication scopes.&quot;,&quot;status&quot;: &quot;PERMISSION_DENIED&quot;}\r\n\r\nThe Java code:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public static void updateData(String sheetName, String cellLocation, String newValue) throws Exception {\r\n\r\n\t\tfinal NetHttpTransport HTTP_TRANSPORT =      GoogleNetHttpTransport.newTrustedTransport();\r\n\t\t\r\n\t\tSheets service = new Sheets.Builder(HTTP_TRANSPORT, JSON_FACTORY, getCredentials(HTTP_TRANSPORT))\r\n\t    \t\t.setApplicationName(APPLICATION_NAME)\r\n\t    \t\t.build();\r\n\t\t\r\n\t\t\r\n\t\tValueRange body = new ValueRange()\r\n\t\t        .setValues(Arrays.asList(Arrays.asList(newValue)));\r\n\t\tUpdateValuesResponse result =\r\n\t\t        service.spreadsheets().values().update(spreadsheetId, cellLocation, body)\r\n\t\t                .setValueInputOption(&quot;RAW&quot;)\r\n\t\t                .execute();\r\n\t\tSystem.out.printf(&quot;%d cells updated.&quot;, result.getUpdatedCells());\r\n\t\t\r\n   \t}\r\n\r\nThank You!\r\n\r\nI have tried to make my spreadsheet public.","title":"Permissions - Google Sheets API","body":"<p>I'm getting this error when Im trying to write data to my spreadsheet in Google sheets.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;code&quot;: 403,&quot;details&quot;: [{&quot;@type&quot;: &quot;type.googleapis.com/google.rpc.ErrorInfo&quot;,&quot;reason&quot;:      &quot;ACCESS_TOKEN_SCOPE_INSUFFICIENT&quot;}],&quot;errors&quot;: [{&quot;domain&quot;: &quot;global&quot;,&quot;message&quot;: &quot;Insufficient Permission&quot;,&quot;reason&quot;: &quot;insufficientPermissions&quot;}],&quot;message&quot;: &quot;Request had insufficient authentication scopes.&quot;,&quot;status&quot;: &quot;PERMISSION_DENIED&quot;}\n</code></pre>\n<p>The Java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void updateData(String sheetName, String cellLocation, String newValue) throws Exception {\n\n    final NetHttpTransport HTTP_TRANSPORT =      GoogleNetHttpTransport.newTrustedTransport();\n    \n    Sheets service = new Sheets.Builder(HTTP_TRANSPORT, JSON_FACTORY, getCredentials(HTTP_TRANSPORT))\n            .setApplicationName(APPLICATION_NAME)\n            .build();\n    \n    \n    ValueRange body = new ValueRange()\n            .setValues(Arrays.asList(Arrays.asList(newValue)));\n    UpdateValuesResponse result =\n            service.spreadsheets().values().update(spreadsheetId, cellLocation, body)\n                    .setValueInputOption(&quot;RAW&quot;)\n                    .execute();\n    System.out.printf(&quot;%d cells updated.&quot;, result.getUpdatedCells());\n    \n}\n</code></pre>\n<p>Thank You!</p>\n<p>I have tried to make my spreadsheet public.</p>\n"},{"tags":["java","regex","checkstyle"],"comments":[{"owner":{"account_id":987285,"reputation":17009,"user_id":1005481,"accept_rate":89,"display_name":"barfuin"},"score":1,"creation_date":1403719366,"post_id":24415234,"comment_id":37771398,"body_markdown":"Unfortunately, this is impossible. You will have to write a custom check, let&#39;s say as a subclass of *MethodName*, which adds an annotation based filter.","body":"Unfortunately, this is impossible. You will have to write a custom check, let&#39;s say as a subclass of <i>MethodName</i>, which adds an annotation based filter."},{"owner":{"account_id":987285,"reputation":17009,"user_id":1005481,"accept_rate":89,"display_name":"barfuin"},"score":0,"creation_date":1403719459,"post_id":24415234,"comment_id":37771452,"body_markdown":"It would theoretically be possible to define a RegExp check instead of MethodName, but this will not work reliably if other annotations are used in addition to `@Test`.","body":"It would theoretically be possible to define a RegExp check instead of MethodName, but this will not work reliably if other annotations are used in addition to <code>@Test</code>."}],"answers":[{"tags":[],"owner":{"account_id":24656281,"reputation":11,"user_id":18552929,"display_name":"XuLin Yang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648027986,"creation_date":1648027986,"answer_id":71584828,"question_id":24415234,"body_markdown":"You can define your own CustomizedChecker class which extends MethodNameCheck.\r\n\r\nIn you class implementation:\r\n\r\nyou only need to overwrite one method: \r\n-   ```java\r\n    /**\r\n     * Called to process a token.\r\n     *\r\n     * @param ast the token to process\r\n     */\r\n    public void visitToken(DetailAST ast) {\r\n        // No code by default, should be overridden only by demand at subclasses\r\n    }\r\n    ```\r\n\r\nThe method implementation will have following logic:\r\n\r\n 1. get the MODIFIERS_DEF from the method definition which is `DetailAST ast` in the parameter because annotations used are stored in the MODIFIERS child for the METHOD_DEF as you can referred from the documentations in `TokenTypes`\r\n 2. check that @Test is in the modifier definition\r\n 3. perform your method check\r\n\r\nFor example:\r\n```java\r\npublic class JUnitTestMethodNameFormatChecker extends MethodNameCheck {\r\n    public static final Set&lt;String&gt; testAnnotationNames = Stream.of(&quot;Test&quot;, &quot;ParameterizedTest&quot;).collect(Collectors.toSet());\r\n\r\n    @Override\r\n    public void visitToken(DetailAST methodAST) {\r\n        if (methodAST.getType() == TokenTypes.METHOD_DEF) {\r\n            // 1\r\n            List&lt;DetailAST&gt; methodAnnotations = CheckUtils.getAnnotationModifiers(methodAST);\r\n            String methodName = methodAST.findFirstToken(TokenTypes.IDENT).getText();\r\n            // 2\r\n            boolean hasTestAnnotation = methodAnnotations.stream().anyMatch(a -&gt; testAnnotationNames.contains(a.findFirstToken(TokenTypes.IDENT).getText()));\r\n            if (hasTestAnnotation) {\r\n                // 3 perform your method name check here\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\npublic class CheckUtils {\r\n    public static List&lt;DetailAST&gt; getAnnotationModifiers(DetailAST ast) {\r\n        List&lt;DetailAST&gt; res = new ArrayList&lt;&gt;();\r\n        if (ast.branchContains(TokenTypes.MODIFIERS)) {\r\n            TokenUtil.forEachChild(ast.findFirstToken(TokenTypes.MODIFIERS), TokenTypes.ANNOTATION, res::add);\r\n        }\r\n        return res;\r\n    }\r\n}\r\n\r\n```","title":"Configure checkstyle method names for @Test methods only","body":"<p>You can define your own CustomizedChecker class which extends MethodNameCheck.</p>\n<p>In you class implementation:</p>\n<p>you only need to overwrite one method:</p>\n<ul>\n<li>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Called to process a token.\n *\n * @param ast the token to process\n */\npublic void visitToken(DetailAST ast) {\n    // No code by default, should be overridden only by demand at subclasses\n}\n</code></pre>\n</li>\n</ul>\n<p>The method implementation will have following logic:</p>\n<ol>\n<li>get the MODIFIERS_DEF from the method definition which is <code>DetailAST ast</code> in the parameter because annotations used are stored in the MODIFIERS child for the METHOD_DEF as you can referred from the documentations in <code>TokenTypes</code></li>\n<li>check that @Test is in the modifier definition</li>\n<li>perform your method check</li>\n</ol>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class JUnitTestMethodNameFormatChecker extends MethodNameCheck {\n    public static final Set&lt;String&gt; testAnnotationNames = Stream.of(&quot;Test&quot;, &quot;ParameterizedTest&quot;).collect(Collectors.toSet());\n\n    @Override\n    public void visitToken(DetailAST methodAST) {\n        if (methodAST.getType() == TokenTypes.METHOD_DEF) {\n            // 1\n            List&lt;DetailAST&gt; methodAnnotations = CheckUtils.getAnnotationModifiers(methodAST);\n            String methodName = methodAST.findFirstToken(TokenTypes.IDENT).getText();\n            // 2\n            boolean hasTestAnnotation = methodAnnotations.stream().anyMatch(a -&gt; testAnnotationNames.contains(a.findFirstToken(TokenTypes.IDENT).getText()));\n            if (hasTestAnnotation) {\n                // 3 perform your method name check here\n            }\n        }\n    }\n}\n\npublic class CheckUtils {\n    public static List&lt;DetailAST&gt; getAnnotationModifiers(DetailAST ast) {\n        List&lt;DetailAST&gt; res = new ArrayList&lt;&gt;();\n        if (ast.branchContains(TokenTypes.MODIFIERS)) {\n            TokenUtil.forEachChild(ast.findFirstToken(TokenTypes.MODIFIERS), TokenTypes.ANNOTATION, res::add);\n        }\n        return res;\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":1541113,"reputation":477,"user_id":1435757,"accept_rate":33,"display_name":"mors"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1076,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1648027986,"creation_date":1403718204,"question_id":24415234,"body_markdown":"Is it possible to define the checkstyle MethodName module in order to verify a diferent regex for @Test methods?\r\n\r\nMy configuration now is:\r\n\r\n    &lt;module name=&quot;MethodName&quot;&gt;\r\n      &lt;property name=&quot;format&quot; value=&quot;^(may_or_may_not_)?[a-z][a-zA-Z0-9]*$&quot;/&gt;\r\n    &lt;/module&gt;\r\n\r\nThis means that methods can have may_or_may_not_ in the beginning. I&#39;d like to know if its possible to have such a check in @Test methods only.\r\n\r\nthanks!","title":"Configure checkstyle method names for @Test methods only","body":"<p>Is it possible to define the checkstyle MethodName module in order to verify a diferent regex for @Test methods?</p>\n\n<p>My configuration now is:</p>\n\n<pre><code>&lt;module name=\"MethodName\"&gt;\n  &lt;property name=\"format\" value=\"^(may_or_may_not_)?[a-z][a-zA-Z0-9]*$\"/&gt;\n&lt;/module&gt;\n</code></pre>\n\n<p>This means that methods can have may_or_may_not_ in the beginning. I'd like to know if its possible to have such a check in @Test methods only.</p>\n\n<p>thanks!</p>\n"},{"tags":["java","exception","try-catch","try-catch-finally"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":4,"creation_date":1648027187,"post_id":71584606,"comment_id":126517422,"body_markdown":"The throw in the finally block hides - completely replaces - the previously-thrown exception.","body":"The throw in the finally block hides - completely replaces - the previously-thrown exception."},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1648027208,"post_id":71584606,"comment_id":126517427,"body_markdown":"That doesn&#39;t make sense. Have you recompiled your code after removing the finally and the catch blocks?","body":"That doesn&#39;t make sense. Have you recompiled your code after removing the finally and the catch blocks?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1648027251,"post_id":71584606,"comment_id":126517439,"body_markdown":"More details [here](https://errorprone.info/bugpattern/Finally)","body":"More details <a href=\"https://errorprone.info/bugpattern/Finally\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1648027253,"post_id":71584606,"comment_id":126517442,"body_markdown":"Oh wait, you remove the catch and not the finally? Then @AndyTurner&#39;s is the answer.","body":"Oh wait, you remove the catch and not the finally? Then @AndyTurner&#39;s is the answer."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1648027254,"post_id":71584606,"comment_id":126517444,"body_markdown":"@MatteoNNZ the trick is that OP apparently never removed the finally block, which is very unclear.","body":"@MatteoNNZ the trick is that OP apparently never removed the finally block, which is very unclear."},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1648027442,"post_id":71584606,"comment_id":126517531,"body_markdown":"@f1sh right, I thought he was removing both catch and finally when I wrote the first comment","body":"@f1sh right, I thought he was removing both catch and finally when I wrote the first comment"}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1648027525,"creation_date":1648027525,"answer_id":71584710,"question_id":71584606,"body_markdown":"A return or throw in a `finally` block causes any other returned (or thrown) result to be ignored.\r\n\r\nDon&#39;t `return` or `throw` in a `finally` block, unless you _really_ know what you&#39;re doing.\r\n\r\nIt should be noted that Java Throwables have a notion of &quot;suppressed&quot; exceptions: you can invoke [`addSuppressed`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Throwable.html#addSuppressed(java.lang.Throwable)) on a `Throwable` that you have caught; this is done automatically with a [try-with-resources](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html) block, if an exception occurs in the body *and* whilst closing the resource; but this does not happen for a throw in a `finally` block.","title":"Understanding Try/Finally Suppressed Exceptions","body":"<p>A return or throw in a <code>finally</code> block causes any other returned (or thrown) result to be ignored.</p>\n<p>Don't <code>return</code> or <code>throw</code> in a <code>finally</code> block, unless you <em>really</em> know what you're doing.</p>\n<p>It should be noted that Java Throwables have a notion of &quot;suppressed&quot; exceptions: you can invoke <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Throwable.html#addSuppressed(java.lang.Throwable)\" rel=\"noreferrer\"><code>addSuppressed</code></a> on a <code>Throwable</code> that you have caught; this is done automatically with a <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"noreferrer\">try-with-resources</a> block, if an exception occurs in the body <em>and</em> whilst closing the resource; but this does not happen for a throw in a <code>finally</code> block.</p>\n"},{"tags":[],"owner":{"account_id":223457,"reputation":4755,"user_id":482682,"accept_rate":95,"display_name":"Lrrr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648027639,"creation_date":1648027639,"answer_id":71584739,"question_id":71584606,"body_markdown":"It is because `finally` block would always execute. It doesn&#39;t matter if you catch the exception or not. To understand it better try the code bellow:\r\n\r\n    public static void main(String[] args) {\r\n        try (IOManip ioManip = new IOManip()) {\r\n            System.out.println(&quot;Try!&quot;);\r\n            throw new RuntimeException(&quot;from try!&quot;);\r\n        } finally {\r\n            System.out.println(&quot;Finally!&quot;);\r\n        }\r\n    }\r\n\r\nRemember that it is not a good practice to return or throw from the finally block, and you should avoid doing that.","title":"Understanding Try/Finally Suppressed Exceptions","body":"<p>It is because <code>finally</code> block would always execute. It doesn't matter if you catch the exception or not. To understand it better try the code bellow:</p>\n<pre><code>public static void main(String[] args) {\n    try (IOManip ioManip = new IOManip()) {\n        System.out.println(&quot;Try!&quot;);\n        throw new RuntimeException(&quot;from try!&quot;);\n    } finally {\n        System.out.println(&quot;Finally!&quot;);\n    }\n}\n</code></pre>\n<p>Remember that it is not a good practice to return or throw from the finally block, and you should avoid doing that.</p>\n"}],"owner":{"account_id":14085595,"reputation":121,"user_id":10175441,"display_name":"Unearthly"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":333,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71584710,"answer_count":2,"score":0,"last_activity_date":1648027639,"creation_date":1648026995,"question_id":71584606,"body_markdown":"I&#39;m learning Exceptions and I found out that you can have suppressed ones.\r\nI read many examples on stackoverflow but still, they don&#39;t work as they are supposed to in the &quot;try/finally&quot; case:\r\n\r\n    public class MultipleExceptionsExample {\r\n    \r\n       static class IOManip implements Closeable{\r\n           @Override\r\n           public void close() {\r\n               throw new RuntimeException(&quot;from IOManip.close&quot;);\r\n           }\r\n       }\r\n    \r\n       public static void main(String[] args) {\r\n           try(IOManip ioManip = new IOManip()){\r\n               throw new RuntimeException(&quot;from try!&quot;);\r\n           }catch(Exception e){\r\n               throw new RuntimeException(&quot;from catch!&quot;);\r\n           }finally{\r\n               throw new RuntimeException(&quot;from finally!&quot;);\r\n           }\r\n       }\r\n    }\r\n\r\nAs many explain, with all lines I should get: &quot;java.lang.RuntimeException: from finally!&quot; (Yes I do)\r\n\r\nRemoving finally block I should get: &quot;java.lang.RuntimeException: from catch!&quot; (Yes I do)\r\n\r\nRemoving catch block I should get:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.RuntimeException: from try!\r\n        Suppressed: java.lang.RuntimeException: from IOManip.close\r\n\r\nAnd I never do! Why? What am I missing?\r\n\r\nBy removing the catch block I should see the try message, but I get this instead:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.RuntimeException: from finally!\r\n    \tat it.core.MultipleExceptionsExample.main(MultipleExceptionsExample.java:18)\r\n\r\nThanks a lot.","title":"Understanding Try/Finally Suppressed Exceptions","body":"<p>I'm learning Exceptions and I found out that you can have suppressed ones.\nI read many examples on stackoverflow but still, they don't work as they are supposed to in the &quot;try/finally&quot; case:</p>\n<pre><code>public class MultipleExceptionsExample {\n\n   static class IOManip implements Closeable{\n       @Override\n       public void close() {\n           throw new RuntimeException(&quot;from IOManip.close&quot;);\n       }\n   }\n\n   public static void main(String[] args) {\n       try(IOManip ioManip = new IOManip()){\n           throw new RuntimeException(&quot;from try!&quot;);\n       }catch(Exception e){\n           throw new RuntimeException(&quot;from catch!&quot;);\n       }finally{\n           throw new RuntimeException(&quot;from finally!&quot;);\n       }\n   }\n}\n</code></pre>\n<p>As many explain, with all lines I should get: &quot;java.lang.RuntimeException: from finally!&quot; (Yes I do)</p>\n<p>Removing finally block I should get: &quot;java.lang.RuntimeException: from catch!&quot; (Yes I do)</p>\n<p>Removing catch block I should get:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: from try!\n    Suppressed: java.lang.RuntimeException: from IOManip.close\n</code></pre>\n<p>And I never do! Why? What am I missing?</p>\n<p>By removing the catch block I should see the try message, but I get this instead:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: from finally!\n    at it.core.MultipleExceptionsExample.main(MultipleExceptionsExample.java:18)\n</code></pre>\n<p>Thanks a lot.</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":0,"creation_date":1647933268,"post_id":71566545,"comment_id":126489177,"body_markdown":"Going by the details of your question, what user207421 indicated is correct. However, if you go by the subject line of your question, which is more general. the answer is you cannot ensure such a thing unless there is come external controller (by some means) and largely dependent on your design. For example, if it is a multi object call and the state of the objects can be changed externally and the threads depend on that state, then thread 2 may very well skip a object call based on the state and go ahead of thread1. java.util.concurrentpackage has mechanisms bywhich control canbe established.","body":"Going by the details of your question, what user207421 indicated is correct. However, if you go by the subject line of your question, which is more general. the answer is you cannot ensure such a thing unless there is come external controller (by some means) and largely dependent on your design. For example, if it is a multi object call and the state of the objects can be changed externally and the threads depend on that state, then thread 2 may very well skip a object call based on the state and go ahead of thread1. java.util.concurrentpackage has mechanisms bywhich control canbe established."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1648027722,"post_id":71566545,"comment_id":126517655,"body_markdown":"Hint: there is absolutely no need to make the fields in your two classes **static**. I suggest you learn about super basic things, too. Well, honestly: learn about these basics before turning to more advanced topics like concurrency.","body":"Hint: there is absolutely no need to make the fields in your two classes <b>static</b>. I suggest you learn about super basic things, too. Well, honestly: learn about these basics before turning to more advanced topics like concurrency."},{"owner":{"account_id":395272,"reputation":24521,"user_id":758133,"accept_rate":100,"display_name":"Martin James"},"score":0,"creation_date":1648028609,"post_id":71566545,"comment_id":126518014,"body_markdown":"Two semaphores.  Thread 1 waits on sema A, prints, posts to sema B.  Thread 2 waits on sema B, prints, posts to sema A.   Create the threads, nothing will happen because both threads are waiting.  Then post a unit to sema B and watch &#39;em go:)","body":"Two semaphores.  Thread 1 waits on sema A, prints, posts to sema B.  Thread 2 waits on sema B, prints, posts to sema A.   Create the threads, nothing will happen because both threads are waiting.  Then post a unit to sema B and watch &#39;em go:)"}],"answers":[{"tags":[],"owner":{"account_id":6341988,"reputation":38,"user_id":4923618,"display_name":"leekai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648027011,"creation_date":1647936137,"answer_id":71568627,"question_id":71566545,"body_markdown":"This is a consumer-producer problem. Folloing is a blocking queue implementation. Other options:https://www.geeksforgeeks.org/producer-consumer-solution-using-threads-java/\r\n```java\r\nimport java.util.concurrent.BlockingQueue;\r\nimport java.util.concurrent.LinkedBlockingQueue;\r\n\r\npublic class ThreadLeader {\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        BlockingQueue&lt;Integer&gt; queue = new LinkedBlockingQueue&lt;&gt;();\r\n        Leader lead = new Leader(queue, 100);\r\n        Follower foll = new Follower(queue, 100);\r\n        foll.start();\r\n        lead.start();\r\n        foll.join();\r\n        lead.join();\r\n    }\r\n\r\n}\r\n\r\nclass Leader extends Thread {\r\n    private BlockingQueue&lt;Integer&gt; queue;\r\n    private int num;\r\n\r\n    Leader(BlockingQueue&lt;Integer&gt; queue, int num) {\r\n        this.queue = queue;\r\n        this.num = num;\r\n    }\r\n\r\n    public void run() {\r\n        for (int i = 1; i &lt;= num; i++) {\r\n            System.out.println(&quot;Leader is printing &quot; + i);\r\n            queue.offer(i);\r\n        }\r\n    }\r\n}\r\n\r\nclass Follower extends Thread {\r\n    private BlockingQueue&lt;Integer&gt; queue;\r\n    private int num;\r\n\r\n    Follower(BlockingQueue&lt;Integer&gt; queue, int num) {\r\n        this.queue = queue;\r\n        this.num = num;\r\n    }\r\n\r\n    public void run() {\r\n        for (int i = 0; i &lt; num; i++){\r\n            try {\r\n                System.out.println(&quot;Follower is printing &quot; + queue.take());\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"How do I ensure that one thread always run ahead of other in java? Given two threads. I need to make sure that Thread 1 always leads Thread 2","body":"<p>This is a consumer-producer problem. Folloing is a blocking queue implementation. Other options:<a href=\"https://www.geeksforgeeks.org/producer-consumer-solution-using-threads-java/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/producer-consumer-solution-using-threads-java/</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.concurrent.BlockingQueue;\nimport java.util.concurrent.LinkedBlockingQueue;\n\npublic class ThreadLeader {\n\n    public static void main(String[] args) throws InterruptedException {\n        BlockingQueue&lt;Integer&gt; queue = new LinkedBlockingQueue&lt;&gt;();\n        Leader lead = new Leader(queue, 100);\n        Follower foll = new Follower(queue, 100);\n        foll.start();\n        lead.start();\n        foll.join();\n        lead.join();\n    }\n\n}\n\nclass Leader extends Thread {\n    private BlockingQueue&lt;Integer&gt; queue;\n    private int num;\n\n    Leader(BlockingQueue&lt;Integer&gt; queue, int num) {\n        this.queue = queue;\n        this.num = num;\n    }\n\n    public void run() {\n        for (int i = 1; i &lt;= num; i++) {\n            System.out.println(&quot;Leader is printing &quot; + i);\n            queue.offer(i);\n        }\n    }\n}\n\nclass Follower extends Thread {\n    private BlockingQueue&lt;Integer&gt; queue;\n    private int num;\n\n    Follower(BlockingQueue&lt;Integer&gt; queue, int num) {\n        this.queue = queue;\n        this.num = num;\n    }\n\n    public void run() {\n        for (int i = 0; i &lt; num; i++){\n            try {\n                System.out.println(&quot;Follower is printing &quot; + queue.take());\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15615432,"reputation":179,"user_id":13719128,"display_name":"Anubhav Sharma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71568627,"answer_count":1,"score":-1,"last_activity_date":1648027011,"creation_date":1647918980,"question_id":71566545,"body_markdown":"Given two threads.\r\nThread 1 : prints from 1 to 100\r\nThread 2 : prints from 1 to 100\r\nI need to make sure that Thread 1 never prints any number which is not yet printed by Thread 2.\r\n\r\nPlease help me with this. Thanks in advance.\r\n(-- was asked in my interview with Wissen Technology)\r\n\r\nI tried below approach.\r\n\r\n    package threadTutor;\r\n    \r\n    public class ThreadLeader {\r\n    \r\n    \tpublic static void main(String[] args) throws InterruptedException {\r\n    \t\tLeader lead = new Leader(100);\r\n    \t\tFollower foll = new Follower(100);\r\n    \t\tfoll.start();\r\n    \t\tlead.start();\r\n    \t\tfoll.join();\r\n    \t\tlead.join();\t\t\r\n    \t}\r\n    \r\n    }\r\n    \r\n    class Leader extends Thread{\r\n    \tstatic int start;\r\n    \tstatic int end;\r\n    \tstatic int pos;\r\n    \tLeader(int end){\r\n    \t\tLeader.end = end;\r\n    \t}\r\n    \tpublic void run() {\r\n    \t\tfor(int i=start;i&lt;end;i++) {\r\n    \t\t\tSystem.out.println(&quot;Leader is printing &quot;+i);\r\n    \t\t\tLeader.pos=i;\r\n    \t\t}\r\n    \t}\r\n    }\r\n    class Follower extends Thread{\r\n    \tstatic int start;\r\n    \tstatic int end;\r\n    \tstatic int pos;\r\n    \tFollower(int end){\r\n    \t\tFollower.end = end;\r\n    \t}\r\n    \tpublic void run() {\r\n    \t\twhile(true) {\r\n    \t\t\tif(Follower.pos&lt;=Leader.pos) {\r\n    \t\t\t\tSystem.out.println(&quot;Follower is printing &quot;+pos);\r\n    \t\t\t\tpos++;\r\n    \t\t\t}\r\n    \t\t\tif(Follower.pos==Follower.end) break;\r\n    \t\t}\t\t\r\n    \t}\r\n    }\r\n\r\nbut ofcourse infinite while loop is not a good way of doing things.\r\nPlease help with a better approach.","title":"How do I ensure that one thread always run ahead of other in java? Given two threads. I need to make sure that Thread 1 always leads Thread 2","body":"<p>Given two threads.\nThread 1 : prints from 1 to 100\nThread 2 : prints from 1 to 100\nI need to make sure that Thread 1 never prints any number which is not yet printed by Thread 2.</p>\n<p>Please help me with this. Thanks in advance.\n(-- was asked in my interview with Wissen Technology)</p>\n<p>I tried below approach.</p>\n<pre><code>package threadTutor;\n\npublic class ThreadLeader {\n\n    public static void main(String[] args) throws InterruptedException {\n        Leader lead = new Leader(100);\n        Follower foll = new Follower(100);\n        foll.start();\n        lead.start();\n        foll.join();\n        lead.join();        \n    }\n\n}\n\nclass Leader extends Thread{\n    static int start;\n    static int end;\n    static int pos;\n    Leader(int end){\n        Leader.end = end;\n    }\n    public void run() {\n        for(int i=start;i&lt;end;i++) {\n            System.out.println(&quot;Leader is printing &quot;+i);\n            Leader.pos=i;\n        }\n    }\n}\nclass Follower extends Thread{\n    static int start;\n    static int end;\n    static int pos;\n    Follower(int end){\n        Follower.end = end;\n    }\n    public void run() {\n        while(true) {\n            if(Follower.pos&lt;=Leader.pos) {\n                System.out.println(&quot;Follower is printing &quot;+pos);\n                pos++;\n            }\n            if(Follower.pos==Follower.end) break;\n        }       \n    }\n}\n</code></pre>\n<p>but ofcourse infinite while loop is not a good way of doing things.\nPlease help with a better approach.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8499,"page":1493,"page_size":100}
