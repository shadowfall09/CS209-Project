{"items":[{"tags":["java","methods","collections","iterator","return-type"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1397357582,"post_id":23038578,"comment_id":35198692,"body_markdown":"[Here&#39;s](http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#iterator()) the javadoc.","body":"<a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#iterator()\" rel=\"nofollow noreferrer\">Here&#39;s</a> the javadoc."},{"owner":{"account_id":2808454,"reputation":14373,"user_id":2415194,"accept_rate":87,"display_name":"nachokk"},"score":1,"creation_date":1397357652,"post_id":23038578,"comment_id":35198703,"body_markdown":"concept is [programming to an interface](http://stackoverflow.com/questions/1992384/program-to-an-interface-what-does-it-mean) @SotiriosDelimanolis i remember when we had the same reputation xD","body":"concept is <a href=\"http://stackoverflow.com/questions/1992384/program-to-an-interface-what-does-it-mean\">programming to an interface</a> @SotiriosDelimanolis i remember when we had the same reputation xD"},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1397357812,"post_id":23038578,"comment_id":35198724,"body_markdown":"@nachokk I have an addictive personality. I spend too much time here.","body":"@nachokk I have an addictive personality. I spend too much time here."}],"answers":[{"tags":[],"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1397357775,"creation_date":1397357775,"answer_id":23038601,"question_id":23038578,"body_markdown":"The implementation is defined in `AbstractList` itself. Find it at its [source code](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/AbstractList.java).\r\n\r\n    public abstract class AbstractList&lt;E&gt; extends AbstractCollection&lt;E&gt; implements List&lt;E&gt; {\r\n        private class Itr implements Iterator&lt;E&gt; {\r\n           ...\r\n        }\r\n\r\n        public Iterator&lt;E&gt; iterator() {\r\n\t       return new Itr();\r\n        }\r\n    }\r\n\r\n\r\nTry\r\n\r\n    System.out.println(new ArrayList&lt;String&gt;().iterator().getClass().getName());\r\n\r\noutput\r\n\r\n    java.util.AbstractList$Itr","title":"Return type of iterator() method in java","body":"<p>The implementation is defined in <code>AbstractList</code> itself. Find it at its <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/AbstractList.java\" rel=\"nofollow\">source code</a>.</p>\n\n<pre><code>public abstract class AbstractList&lt;E&gt; extends AbstractCollection&lt;E&gt; implements List&lt;E&gt; {\n    private class Itr implements Iterator&lt;E&gt; {\n       ...\n    }\n\n    public Iterator&lt;E&gt; iterator() {\n       return new Itr();\n    }\n}\n</code></pre>\n\n<p>Try</p>\n\n<pre><code>System.out.println(new ArrayList&lt;String&gt;().iterator().getClass().getName());\n</code></pre>\n\n<p>output</p>\n\n<pre><code>java.util.AbstractList$Itr\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2734060,"reputation":263882,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1397357779,"creation_date":1397357779,"answer_id":23038602,"question_id":23038578,"body_markdown":"&gt; I want to know what is here the return type of al.iterator()\r\n\r\n**You shouldn&#39;t care**. It doesn&#39;t matter what particular implementation of Iterator the method returns, only that it returns an Iterator. You can call next, hasNext, and remove, or iterate with a for-each loop, without knowing that it happens to be an ArrayList.Itr or whatever the implementation is.\r\n\r\nSuppose the Java developers working on the ArrayList want to rename their iterator implementation to ArrayListIterator instead of whatever they&#39;re calling it now. If your code relied on knowing the exact Iterator implementation, you would have to change your code just to handle an ArrayList-internal change you shouldn&#39;t even see.","title":"Return type of iterator() method in java","body":"<blockquote>\n  <p>I want to know what is here the return type of al.iterator()</p>\n</blockquote>\n\n<p><strong>You shouldn't care</strong>. It doesn't matter what particular implementation of Iterator the method returns, only that it returns an Iterator. You can call next, hasNext, and remove, or iterate with a for-each loop, without knowing that it happens to be an ArrayList.Itr or whatever the implementation is.</p>\n\n<p>Suppose the Java developers working on the ArrayList want to rename their iterator implementation to ArrayListIterator instead of whatever they're calling it now. If your code relied on knowing the exact Iterator implementation, you would have to change your code just to handle an ArrayList-internal change you shouldn't even see.</p>\n"},{"tags":[],"owner":{"account_id":3570818,"reputation":3,"user_id":2981184,"display_name":"Racereddy20"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397358587,"creation_date":1397358587,"answer_id":23038679,"question_id":23038578,"body_markdown":"Iterator is generic and doesn&#39;t return a specific type unless you define it in the ArrayList. Iterator is an interface (part of the Java Collections) that returns the &lt;T&gt; type that was passed to it. The Iterator is used to traverse the list of elements, and remove an element if necessary. ","title":"Return type of iterator() method in java","body":"<p>Iterator is generic and doesn't return a specific type unless you define it in the ArrayList. Iterator is an interface (part of the Java Collections) that returns the  type that was passed to it. The Iterator is used to traverse the list of elements, and remove an element if necessary. </p>\n"},{"tags":[],"owner":{"account_id":3327594,"reputation":1669,"user_id":2797254,"accept_rate":65,"display_name":"Weishi Z"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1397358915,"creation_date":1397358915,"answer_id":23038703,"question_id":23038578,"body_markdown":"You are right saying that `Iterator` is an interface. So, some class must implement this interface so you can use it. \r\n\r\nThe iterator interface defines what an iterator should do. In this case, the class ArrayList provides its own implementation of this interface.  \r\n\r\n**What you get from `al.iterator()`** is the inner class of ArrayList **Itr** (see following code, which IS iterator. (as we kind of describe the IS-A relationship)\r\n\r\n(you can think of an inner class as a normal class for now. So the answer to your question is **Itr**, which is just a name, and all you should care about is its function, which is defined by interface Iterator.)\r\n\r\n       /**\r\n         * An optimized version of AbstractList.Itr\r\n         */\r\n        private class Itr implements Iterator&lt;E&gt; {\r\n            int cursor;       // index of next element to return\r\n            int lastRet = -1; // index of last element returned; -1 if no such\r\n            int expectedModCount = modCount;\r\n    \r\n            public boolean hasNext() {\r\n                return cursor != size;\r\n            }\r\n           .....\r\n      }\r\n\r\n\r\nThis code is by Josh Bloch and Neal Gafter, who wrote the ArrayList class.","title":"Return type of iterator() method in java","body":"<p>You are right saying that <code>Iterator</code> is an interface. So, some class must implement this interface so you can use it. </p>\n\n<p>The iterator interface defines what an iterator should do. In this case, the class ArrayList provides its own implementation of this interface.  </p>\n\n<p><strong>What you get from <code>al.iterator()</code></strong> is the inner class of ArrayList <strong>Itr</strong> (see following code, which IS iterator. (as we kind of describe the IS-A relationship)</p>\n\n<p>(you can think of an inner class as a normal class for now. So the answer to your question is <strong>Itr</strong>, which is just a name, and all you should care about is its function, which is defined by interface Iterator.)</p>\n\n<pre><code>   /**\n     * An optimized version of AbstractList.Itr\n     */\n    private class Itr implements Iterator&lt;E&gt; {\n        int cursor;       // index of next element to return\n        int lastRet = -1; // index of last element returned; -1 if no such\n        int expectedModCount = modCount;\n\n        public boolean hasNext() {\n            return cursor != size;\n        }\n       .....\n  }\n</code></pre>\n\n<p>This code is by Josh Bloch and Neal Gafter, who wrote the ArrayList class.</p>\n"},{"tags":[],"owner":{"account_id":1028535,"reputation":1500,"user_id":1037303,"display_name":"domih"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1456242495,"creation_date":1456242495,"answer_id":35582004,"question_id":23038578,"body_markdown":"You can define the return type of your Iterator beforehand. As you declare the iterator, you can (and should) define the type of your list items like this: \r\n\r\n`Iterator&lt;File&gt; itr = al.iterator(); `\r\n\r\nSo when you access `itr` you don&#39;t have to cast to file, e.g. `(File) itr.next()` but can directly use it in your while loop: \r\n\r\n`while (it.hasNext()) { File f = itr.next() } `\r\n\r\nYour compiler now won&#39;t complain when using next(). ","title":"Return type of iterator() method in java","body":"<p>You can define the return type of your Iterator beforehand. As you declare the iterator, you can (and should) define the type of your list items like this: </p>\n\n<p><code>Iterator&lt;File&gt; itr = al.iterator();</code></p>\n\n<p>So when you access <code>itr</code> you don't have to cast to file, e.g. <code>(File) itr.next()</code> but can directly use it in your while loop: </p>\n\n<p><code>while (it.hasNext()) { File f = itr.next() }</code></p>\n\n<p>Your compiler now won't complain when using next(). </p>\n"},{"tags":[],"owner":{"account_id":4814579,"reputation":1,"user_id":3887046,"display_name":"Atul Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479198566,"creation_date":1479196436,"answer_id":40604646,"question_id":23038578,"body_markdown":"Simply it returns the object it does iterate. For example you can refer to the code below.\r\n\r\n\t\twhile(itr.hasNext())\r\n\t\t{\r\n\t\t\tString str = itr.next().toString(); // Converting an answer type object into String.\r\n\t\t\tSystem.out.println(str);\r\n\t\t}\r\n\t","title":"Return type of iterator() method in java","body":"<p>Simply it returns the object it does iterate. For example you can refer to the code below.</p>\n\n<pre><code>    while(itr.hasNext())\n    {\n        String str = itr.next().toString(); // Converting an answer type object into String.\n        System.out.println(str);\n    }\n</code></pre>\n"}],"owner":{"account_id":4319314,"reputation":73,"user_id":3528086,"display_name":"user3528086"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22361,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":6,"score":4,"last_activity_date":1661434165,"creation_date":1397357510,"question_id":23038578,"body_markdown":"I am a new-comer in Java and in process of learning.\nI need a an answer of following question supported with valid theory.\nConsider the following line-\n\n    Iterator itr = al.iterator(); \n\nwhere *al* is some collection object of ArrayList (class) type.\nI want to know what is here the return type of \n### al.iterator() ###\nIt is not definitely of a primitive data type, then it could be an **object** , but since every object belong to a class then it is of **which class**. Documentation and books etc says it has return type of Iterator. But *Iterator* is an interface. On other hand we say an interface could not have a direct object. Although interface variable could refer to an object of a class or classes that implements it.\n### - ###\nSo the above syntax is correct (as Iterator variable *itr* could be used to refer to an object of some class implementing it). But in realty it is object of which class?  And can substituting *itr* with reference variable of that class will cause no error (I have tried substituting *itr* with ref. variable of ArrayList class in above line but that causes an error). I am using this syntax very often also in Generics form, but dont know the theory behind this. And I am supposing I am lacking a very basic concept here. Please rectify.\n\n\n    ","title":"Return type of iterator() method in java","body":"<p>I am a new-comer in Java and in process of learning.\nI need a an answer of following question supported with valid theory.\nConsider the following line-</p>\n<pre><code>Iterator itr = al.iterator(); \n</code></pre>\n<p>where <em>al</em> is some collection object of ArrayList (class) type.\nI want to know what is here the return type of</p>\n<h3>al.iterator()</h3>\n<p>It is not definitely of a primitive data type, then it could be an <strong>object</strong> , but since every object belong to a class then it is of <strong>which class</strong>. Documentation and books etc says it has return type of Iterator. But <em>Iterator</em> is an interface. On other hand we say an interface could not have a direct object. Although interface variable could refer to an object of a class or classes that implements it.</p>\n<h3>-</h3>\n<p>So the above syntax is correct (as Iterator variable <em>itr</em> could be used to refer to an object of some class implementing it). But in realty it is object of which class?  And can substituting <em>itr</em> with reference variable of that class will cause no error (I have tried substituting <em>itr</em> with ref. variable of ArrayList class in above line but that causes an error). I am using this syntax very often also in Generics form, but dont know the theory behind this. And I am supposing I am lacking a very basic concept here. Please rectify.</p>\n"},{"tags":["java","multithreading","unit-testing","executorservice","futuretask"],"comments":[{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1661434976,"post_id":73488285,"comment_id":129775771,"body_markdown":"So... you&#39;re using a real FutureTask, and it&#39;s getting stuck when you call `futureTask.get()` correct? is the future task actually being executed?","body":"So... you&#39;re using a real FutureTask, and it&#39;s getting stuck when you call <code>futureTask.get()</code> correct? is the future task actually being executed?"},{"owner":{"account_id":3976529,"reputation":1,"user_id":3279587,"display_name":"jarvis_"},"score":0,"creation_date":1663075015,"post_id":73488285,"comment_id":130150004,"body_markdown":"I got it working. I changed the way I was using ExecutorService and was able to mock the Future object\n\n`Future&lt;Optional&lt;Attestation&gt;&gt; attestationDbFuture =\n                executorService.submit(() -&gt; attestationStore.get(imageInfo.getBucketKey()));`","body":"I got it working. I changed the way I was using ExecutorService and was able to mock the Future object  <code>Future&lt;Optional&lt;Attestation&gt;&gt; attestationDbFuture =                 executorService.submit(() -&gt; attestationStore.get(imageInfo.getBucketKey()));</code>"}],"owner":{"account_id":3976529,"reputation":1,"user_id":3279587,"display_name":"jarvis_"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661433803,"creation_date":1661433726,"question_id":73488285,"body_markdown":"I have a callable FutureTask that is getting executed using ExecutorService. \r\n```\r\nFutureTask&lt;Optional&lt;Attestation&gt;&gt; attestationDbTask\r\n                = new FutureTask&lt;Optional&lt;Attestation&gt;&gt;(() -&gt; attestationStore.get(imageInfo.getBucketKey()));\r\n```\r\n```attestationStore.get(imageInfo.getBucketKey())``` returns response of type ```Optional&lt;Attestation&gt;```\r\n\r\nExecuting this task by calling\r\n```executorService.execute(attestationDbTask);```\r\n\r\nI am calling attestationDbTask.get(long, TimeUnit) method to get the execution result\r\n```\r\nattestation = attestationDbTask.get(AttestationServiceLimits.READ_ATTESTATION_PDB_TIME_OUT, TimeUnit.MILLISECONDS)\r\n                    .orElseThrow(() -&gt; generateNotFoundOrNotAuthorizedException(imageInfo + &quot; in Attestation Store&quot;));\r\n```\r\n\r\nI am trying to write unit test for this but the test get&#39;s stuck at ```attestationDbTask.get``` even though I have mocked the ```attestationStore.get``` to return the response for the callable.\r\n```when(attestationStore.get(anyString())).thenReturn(Optional.empty());```\r\n\r\nCan someone help with any pointers on how to go about mocking the futureTask.get method.","title":"How to mock callable futureTask.get(long, TimeUnit) method to return a response","body":"<p>I have a callable FutureTask that is getting executed using ExecutorService.</p>\n<pre><code>FutureTask&lt;Optional&lt;Attestation&gt;&gt; attestationDbTask\n                = new FutureTask&lt;Optional&lt;Attestation&gt;&gt;(() -&gt; attestationStore.get(imageInfo.getBucketKey()));\n</code></pre>\n<p><code>attestationStore.get(imageInfo.getBucketKey())</code> returns response of type <code>Optional&lt;Attestation&gt;</code></p>\n<p>Executing this task by calling\n<code>executorService.execute(attestationDbTask);</code></p>\n<p>I am calling attestationDbTask.get(long, TimeUnit) method to get the execution result</p>\n<pre><code>attestation = attestationDbTask.get(AttestationServiceLimits.READ_ATTESTATION_PDB_TIME_OUT, TimeUnit.MILLISECONDS)\n                    .orElseThrow(() -&gt; generateNotFoundOrNotAuthorizedException(imageInfo + &quot; in Attestation Store&quot;));\n</code></pre>\n<p>I am trying to write unit test for this but the test get's stuck at <code>attestationDbTask.get</code> even though I have mocked the <code>attestationStore.get</code> to return the response for the callable.\n<code>when(attestationStore.get(anyString())).thenReturn(Optional.empty());</code></p>\n<p>Can someone help with any pointers on how to go about mocking the futureTask.get method.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":3862105,"reputation":29203,"user_id":3199595,"accept_rate":84,"display_name":"Malt"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1509920629,"creation_date":1509920258,"answer_id":47127240,"question_id":47127225,"body_markdown":"For a single string:\r\n\r\n\tString str = &quot;look!   Spaces!  &quot;;\r\n\tSystem.out.println(str.replaceAll(&quot; &quot;,&quot;&quot;)); //Will print &quot;look!Spaces!&quot;\r\n\r\nFor an array:\r\n\r\n\tString[] arr = ...\r\n\tfor (int i = 0; i &lt; arr.length; i++) {\r\n\t\tarr[i] = arr[i].replaceAll(&quot; &quot;, &quot;&quot;);\r\n\t}\r\n\r\nOr using Java 8 streams (although this one returns a `List`, not an array):\r\n\r\n\tString[] arr = ...\r\n\tList&lt;String&gt; l = Arrays.stream(arr).map(i -&gt; i.replaceAll(&quot; &quot;, &quot;&quot;)).collect(Collectors.toList());","title":"Removing white space from an array containing String in Java","body":"<p>For a single string:</p>\n\n<pre><code>String str = \"look!   Spaces!  \";\nSystem.out.println(str.replaceAll(\" \",\"\")); //Will print \"look!Spaces!\"\n</code></pre>\n\n<p>For an array:</p>\n\n<pre><code>String[] arr = ...\nfor (int i = 0; i &lt; arr.length; i++) {\n    arr[i] = arr[i].replaceAll(\" \", \"\");\n}\n</code></pre>\n\n<p>Or using Java 8 streams (although this one returns a <code>List</code>, not an array):</p>\n\n<pre><code>String[] arr = ...\nList&lt;String&gt; l = Arrays.stream(arr).map(i -&gt; i.replaceAll(\" \", \"\")).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8087134,"reputation":28351,"user_id":6094348,"accept_rate":100,"display_name":"Yousaf"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1661433672,"creation_date":1509920338,"answer_id":47127245,"question_id":47127225,"body_markdown":"Use the [trim()](https://www.javatpoint.com/java-string-trim) method\r\n\r\n    String s1=&quot;  hello string   &quot;;  \r\n    System.out.println(s1.trim()); \r\n\r\n&lt;h3&gt;EDIT&lt;/h3&gt;\r\n\r\n`trim()` method only removes leading and trailing white spaces. If you want to remove spaces between words like `Mel on`, you can use the [replaceAll()](https://www.javatpoint.com/java-string-replaceall) method.\r\n\r\n    public static void main(String[] args) {\r\n            \r\n        String[] list ={&quot;Apple &quot;,  &quot;Mel on&quot;, &quot;  Ice -cream &quot;, &quot;Television&quot;};\r\n            \r\n        for (int i = 0; i &lt; list.length; i++) {\r\n                list[i] = list[i].replaceAll(&quot; &quot;, &quot;&quot;);\r\n        }\r\n            \r\n        for (int i = 0; i &lt; list.length; i++) {\r\n               System.out.println(list[i]);\r\n        }\r\n    }\r\n\r\nOutput\r\n\r\n    Apple\r\n    Melon\r\n    Ice-cream\r\n    Television","title":"Removing white space from an array containing String in Java","body":"<p>Use the <a href=\"https://www.javatpoint.com/java-string-trim\" rel=\"nofollow noreferrer\">trim()</a> method</p>\n<pre><code>String s1=&quot;  hello string   &quot;;  \nSystem.out.println(s1.trim()); \n</code></pre>\n<h3>EDIT</h3>\n<p><code>trim()</code> method only removes leading and trailing white spaces. If you want to remove spaces between words like <code>Mel on</code>, you can use the <a href=\"https://www.javatpoint.com/java-string-replaceall\" rel=\"nofollow noreferrer\">replaceAll()</a> method.</p>\n<pre><code>public static void main(String[] args) {\n        \n    String[] list ={&quot;Apple &quot;,  &quot;Mel on&quot;, &quot;  Ice -cream &quot;, &quot;Television&quot;};\n        \n    for (int i = 0; i &lt; list.length; i++) {\n            list[i] = list[i].replaceAll(&quot; &quot;, &quot;&quot;);\n    }\n        \n    for (int i = 0; i &lt; list.length; i++) {\n           System.out.println(list[i]);\n    }\n}\n</code></pre>\n<p>Output</p>\n<pre><code>Apple\nMelon\nIce-cream\nTelevision\n</code></pre>\n"}],"owner":{"account_id":9789419,"reputation":43,"user_id":8859201,"display_name":"DpATe 26"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3711,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":47127245,"answer_count":2,"score":2,"last_activity_date":1661433672,"creation_date":1509920177,"question_id":47127225,"body_markdown":"So how can I remove a space(s) from an array of a string...\r\n\r\nTaking an example, I have a string called `list`:\r\n\r\nString[] list ={&quot;Apple &quot;,  &quot;Mel on&quot;, &quot;  Ice -cream &quot;, Television&quot;};\r\n\r\n\r\nCan anyone please guide on what methods I should be using? \r\nI&#39;ve already tried using `.replace()`. ","title":"Removing white space from an array containing String in Java","body":"<p>So how can I remove a space(s) from an array of a string...</p>\n<p>Taking an example, I have a string called <code>list</code>:</p>\n<p>String[] list ={&quot;Apple &quot;,  &quot;Mel on&quot;, &quot;  Ice -cream &quot;, Television&quot;};</p>\n<p>Can anyone please guide on what methods I should be using?\nI've already tried using <code>.replace()</code>.</p>\n"},{"tags":["java","amazon-web-services","amazon-elastic-beanstalk"],"answers":[{"tags":[],"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661433490,"creation_date":1661433490,"answer_id":73488234,"question_id":73488171,"body_markdown":"I don&#39;t see OpenJDK listed as a supported runtime for Elastic Beanstalk [here][1]. You need to change your settings to specify `corretto8`. \r\n\r\n\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/elasticbeanstalk/latest/platforms/platforms-supported.html#platforms-supported.javase","title":"aws Unknown runtime version named &#39;openjdk8&#39; of java. This build image has the following versions: corretto11, corretto8","body":"<p>I don't see OpenJDK listed as a supported runtime for Elastic Beanstalk <a href=\"https://docs.aws.amazon.com/elasticbeanstalk/latest/platforms/platforms-supported.html#platforms-supported.javase\" rel=\"nofollow noreferrer\">here</a>. You need to change your settings to specify <code>corretto8</code>.</p>\n"}],"owner":{"account_id":22294782,"reputation":1051,"user_id":16520980,"display_name":"etranz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":423,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73488234,"answer_count":1,"score":0,"last_activity_date":1661433490,"creation_date":1661433253,"question_id":73488171,"body_markdown":"I am trying to deploy my java application to aws EBS using codecommit\r\n\r\nbut I am faced with this error\r\n\r\n    YAML_FILE_ERROR Message: Unknown runtime version named &#39;openjdk8&#39; of java. This build image has the following versions: corretto11, corretto8\r\n\r\nI am using ubuntu with codebuild standard:4.0\r\n\r\nmy runtime version in my buildspec is openjdk8","title":"aws Unknown runtime version named &#39;openjdk8&#39; of java. This build image has the following versions: corretto11, corretto8","body":"<p>I am trying to deploy my java application to aws EBS using codecommit</p>\n<p>but I am faced with this error</p>\n<pre><code>YAML_FILE_ERROR Message: Unknown runtime version named 'openjdk8' of java. This build image has the following versions: corretto11, corretto8\n</code></pre>\n<p>I am using ubuntu with codebuild standard:4.0</p>\n<p>my runtime version in my buildspec is openjdk8</p>\n"},{"tags":["java","selenium","annotations","testng"],"comments":[{"owner":{"account_id":14157780,"reputation":660,"user_id":10227917,"display_name":"Callanbr"},"score":0,"creation_date":1661398425,"post_id":73473690,"comment_id":129764234,"body_markdown":"Have you looked at this answer? https://stackoverflow.com/questions/30105487/testng-not-executing-beforemethod#30118362\n\nThe answer says to use an abstract class for the configuration methods.","body":"Have you looked at this answer? <a href=\"https://stackoverflow.com/questions/30105487/testng-not-executing-beforemethod#30118362\" title=\"testng not executing beforemethod%2330118362\">stackoverflow.com/questions/30105487/&hellip;</a>  The answer says to use an abstract class for the configuration methods."},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1661414973,"post_id":73473690,"comment_id":129768068,"body_markdown":"`however, then my cucumber JSON is somehow empty` what is `cucumber JSON` ?","body":"<code>however, then my cucumber JSON is somehow empty</code> what is <code>cucumber JSON</code> ?"},{"owner":{"account_id":26149444,"reputation":11,"user_id":19837615,"display_name":"ecatz"},"score":0,"creation_date":1661499616,"post_id":73473690,"comment_id":129791365,"body_markdown":"cucumber JSON is JSON report generated using @CucumberOptions =&gt; plugin = &quot;pretty&quot;. After meddling with the codes per Callanbr suggestion, everything seems to be working. Only thing is that the html report from pretty plugin shows &quot;?&quot; for the test test status even though the JSON contains &quot;status&quot;:&quot;passed&quot; within.","body":"cucumber JSON is JSON report generated using @CucumberOptions =&gt; plugin = &quot;pretty&quot;. After meddling with the codes per Callanbr suggestion, everything seems to be working. Only thing is that the html report from pretty plugin shows &quot;?&quot; for the test test status even though the JSON contains &quot;status&quot;:&quot;passed&quot; within."}],"owner":{"account_id":26149444,"reputation":11,"user_id":19837615,"display_name":"ecatz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":590,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661433297,"creation_date":1661346146,"question_id":73473690,"body_markdown":"**TestNG.XML**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n&lt;suite name=&quot;BDD Test Suite&quot; verbose=&quot;1&quot; parallel=&quot;tests&quot; thread-count=&quot;3&quot; &gt;\r\n    &lt;test name=&quot;Chrome&quot; annotations=&quot;JDK&quot; preserve-order=&quot;true&quot;&gt;\r\n        &lt;parameter name=&quot;browser&quot; value=&quot;chrome&quot;/&gt;\r\n        &lt;classes&gt;\r\n            &lt;class name=&quot;runner.TestRunner&quot; /&gt;\r\n        &lt;/classes&gt;\r\n    &lt;/test&gt;\r\n\r\n    &lt;test name=&quot;Safari&quot; annotations=&quot;JDK&quot; preserve-order=&quot;true&quot;&gt;\r\n        &lt;parameter name=&quot;browser&quot; value=&quot;safari&quot;/&gt;\r\n        &lt;classes&gt;\r\n          &lt;class name=&quot;runner.TestRunner&quot; /&gt;\r\n        &lt;/classes&gt;\r\n    &lt;/test&gt; \r\n&lt;/suite&gt;\r\n```\r\n\r\n**Runner**\r\n```\r\npackage runner;\r\n\r\nimport io.cucumber.testng.AbstractTestNGCucumberTests;\r\nimport io.cucumber.testng.CucumberOptions;\r\n\r\n@CucumberOptions(features = &quot;something.feature&quot;, glue = {&quot;definitions&quot; })\r\n\r\npublic class TestRunner extends AbstractTestNGCucumberTests {\r\n\r\n}\r\n```\r\n\r\n**definitions**\r\n```\r\npackage definitions;\r\n\r\nimport io.cucumber.java.en.*;\r\nimport org.testng.annotations.BeforeClass;\r\nimport org.testng.annotations.BeforeMethod;\r\nimport org.testng.annotations.Parameters;\r\nimport pom.loginPage;\r\n\r\npublic class LoginTests {\r\n\t\r\n\t@BeforeClass(alwaysRun = true)\r\n\tpublic void setUpCucumber() {\r\n\t\t//this part is not executed\r\n\t}\r\n\r\n\t@BeforeMethod(alwaysRun = true)\r\n\t@Parameters({ &quot;browser&quot; })\r\n    \tpublic void setUp(String browser) {\r\n\t\t//this part is not executed\r\n\t}\r\n\r\n\t@Given(&quot;this is part of feature file&quot;)\r\n\tpublic void this_is_part_of_feature_file() {\r\n\t\t//this part is executed twice per TestNG.XML\r\n\t}\r\n}\r\n```\r\n\r\nI am fairly new to Java and TestNG. I tried to simplify the above code. Please forgive me if it’s not well formatted.\r\n\r\nWhen running the TestNG.XML as TestNG in eclipse, the parameters are passed in and the @Given part is executed twice =&gt; the XML is calling the definition file =&gt; the runner file is correctly written.\r\n\r\nMy problem is that @BeforeClass and @BeforeMethod are not executed. If I move these 2 to the Runner, then it’s executed; however, then my cucumber JSON is somehow empty. \r\n\r\nCan someone assist to let me know why the @BeforeClass and @BeforeMethod are not executed even though I specify *alwaysRun=true*?","title":"TESTNG - @BeforeClass and @BeforeMethod does not execute","body":"<p><strong>TestNG.XML</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\n&lt;suite name=&quot;BDD Test Suite&quot; verbose=&quot;1&quot; parallel=&quot;tests&quot; thread-count=&quot;3&quot; &gt;\n    &lt;test name=&quot;Chrome&quot; annotations=&quot;JDK&quot; preserve-order=&quot;true&quot;&gt;\n        &lt;parameter name=&quot;browser&quot; value=&quot;chrome&quot;/&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;runner.TestRunner&quot; /&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n\n    &lt;test name=&quot;Safari&quot; annotations=&quot;JDK&quot; preserve-order=&quot;true&quot;&gt;\n        &lt;parameter name=&quot;browser&quot; value=&quot;safari&quot;/&gt;\n        &lt;classes&gt;\n          &lt;class name=&quot;runner.TestRunner&quot; /&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt; \n&lt;/suite&gt;\n</code></pre>\n<p><strong>Runner</strong></p>\n<pre><code>package runner;\n\nimport io.cucumber.testng.AbstractTestNGCucumberTests;\nimport io.cucumber.testng.CucumberOptions;\n\n@CucumberOptions(features = &quot;something.feature&quot;, glue = {&quot;definitions&quot; })\n\npublic class TestRunner extends AbstractTestNGCucumberTests {\n\n}\n</code></pre>\n<p><strong>definitions</strong></p>\n<pre><code>package definitions;\n\nimport io.cucumber.java.en.*;\nimport org.testng.annotations.BeforeClass;\nimport org.testng.annotations.BeforeMethod;\nimport org.testng.annotations.Parameters;\nimport pom.loginPage;\n\npublic class LoginTests {\n    \n    @BeforeClass(alwaysRun = true)\n    public void setUpCucumber() {\n        //this part is not executed\n    }\n\n    @BeforeMethod(alwaysRun = true)\n    @Parameters({ &quot;browser&quot; })\n        public void setUp(String browser) {\n        //this part is not executed\n    }\n\n    @Given(&quot;this is part of feature file&quot;)\n    public void this_is_part_of_feature_file() {\n        //this part is executed twice per TestNG.XML\n    }\n}\n</code></pre>\n<p>I am fairly new to Java and TestNG. I tried to simplify the above code. Please forgive me if it’s not well formatted.</p>\n<p>When running the TestNG.XML as TestNG in eclipse, the parameters are passed in and the @Given part is executed twice =&gt; the XML is calling the definition file =&gt; the runner file is correctly written.</p>\n<p>My problem is that @BeforeClass and @BeforeMethod are not executed. If I move these 2 to the Runner, then it’s executed; however, then my cucumber JSON is somehow empty.</p>\n<p>Can someone assist to let me know why the @BeforeClass and @BeforeMethod are not executed even though I specify <em>alwaysRun=true</em>?</p>\n"},{"tags":["java","android"],"owner":{"account_id":26050686,"reputation":35,"user_id":19753966,"display_name":"user787878"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661432718,"creation_date":1661432718,"question_id":73488048,"body_markdown":"While on wifi although precise location permission given to app (confirmed from settings), I was unable to get ssid while location service is turned off in latest android.\r\n\r\nAlso manifest permissions looks like:\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n```\r\n\r\nThanks.","title":"Is there a way to get ssid while location is turned off although correct permissions are given in latest android","body":"<p>While on wifi although precise location permission given to app (confirmed from settings), I was unable to get ssid while location service is turned off in latest android.</p>\n<p>Also manifest permissions looks like:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n</code></pre>\n<p>Thanks.</p>\n"},{"tags":["java","static","initialization","static-block","initialization-block"],"comments":[{"owner":{"account_id":402964,"reputation":22541,"user_id":770452,"accept_rate":49,"display_name":"David T."},"score":6,"creation_date":1387147959,"post_id":2420389,"comment_id":30824856,"body_markdown":"Minor feedback, but it would help if you could please state your assumptions clearly, and hence clarify which answer is correct. when i first read your question, i mis-understood and thought you knew the difference between `{...}` vs `static {...}`. (in which case Jon Skeet definitely answered your question way better)","body":"Minor feedback, but it would help if you could please state your assumptions clearly, and hence clarify which answer is correct. when i first read your question, i mis-understood and thought you knew the difference between <code>{...}</code> vs <code>static {...}</code>. (in which case Jon Skeet definitely answered your question way better)"},{"owner":{"account_id":2490315,"reputation":5131,"user_id":2552290,"accept_rate":68,"display_name":"Don Hatch"},"score":1,"creation_date":1511666579,"post_id":2420389,"comment_id":81940636,"body_markdown":"This question is very unclear; you have the answerers scrambling and making lots of long-winded conjectures about what you meant.  How about explicitly writing out the example static initialization block you have in mind and your alternative, so that people have something clear to answer?","body":"This question is very unclear; you have the answerers scrambling and making lots of long-winded conjectures about what you meant.  How about explicitly writing out the example static initialization block you have in mind and your alternative, so that people have something clear to answer?"}],"answers":[{"tags":[],"owner":{"account_id":45868,"reputation":24272,"user_id":135360,"accept_rate":100,"display_name":"Pierre-Antoine LaFayette"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1268253960,"creation_date":1268253627,"answer_id":2420403,"question_id":2420389,"body_markdown":"You can execute bits of code once for a class before an object is constructed in the static blocks.\r\n\r\nE.g.\r\n\r\n    class A {\r\n      static int var1 = 6;\r\n      static int var2 = 9;\r\n      static int var3;\r\n      static long var4;\r\n    \r\n      static Date date1;\r\n      static Date date2;\r\n    \r\n      static {\r\n        date1 = new Date();\r\n    \r\n        for(int cnt = 0; cnt &lt; var2; cnt++){\r\n          var3 += var1;\r\n        }\r\n    \r\n        System.out.println(&quot;End first static init: &quot; + new Date());\r\n      }\r\n    }","title":"Static Initialization Blocks","body":"<p>You can execute bits of code once for a class before an object is constructed in the static blocks.</p>\n\n<p>E.g.</p>\n\n<pre><code>class A {\n  static int var1 = 6;\n  static int var2 = 9;\n  static int var3;\n  static long var4;\n\n  static Date date1;\n  static Date date2;\n\n  static {\n    date1 = new Date();\n\n    for(int cnt = 0; cnt &lt; var2; cnt++){\n      var3 += var1;\n    }\n\n    System.out.println(\"End first static init: \" + new Date());\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":61252,"reputation":407488,"user_id":182668,"accept_rate":68,"display_name":"Pointy"},"down_vote_count":0,"up_vote_count":108,"is_accepted":false,"score":108,"last_activity_date":1268254133,"creation_date":1268253627,"answer_id":2420404,"question_id":2420389,"body_markdown":"Here&#39;s an example:\r\n\r\n      private static final HashMap&lt;String, String&gt; MAP = new HashMap&lt;String, String&gt;();\r\n      static {\r\n        MAP.put(&quot;banana&quot;, &quot;honey&quot;);\r\n        MAP.put(&quot;peanut butter&quot;, &quot;jelly&quot;);\r\n        MAP.put(&quot;rice&quot;, &quot;beans&quot;);\r\n      }\r\n\r\nThe code in the &quot;static&quot; section(s) will be executed at class load time, before any instances of the class are constructed (and before any static methods are called from elsewhere). That way you can make sure that the class resources are all ready to use.\r\n\r\nIt&#39;s also possible to have non-static initializer blocks.  Those act like extensions to the set of constructor methods defined for the class. They look just like static initializer blocks, except the keyword &quot;static&quot; is left off.","title":"Static Initialization Blocks","body":"<p>Here's an example:</p>\n\n<pre><code>  private static final HashMap&lt;String, String&gt; MAP = new HashMap&lt;String, String&gt;();\n  static {\n    MAP.put(\"banana\", \"honey\");\n    MAP.put(\"peanut butter\", \"jelly\");\n    MAP.put(\"rice\", \"beans\");\n  }\n</code></pre>\n\n<p>The code in the \"static\" section(s) will be executed at class load time, before any instances of the class are constructed (and before any static methods are called from elsewhere). That way you can make sure that the class resources are all ready to use.</p>\n\n<p>It's also possible to have non-static initializer blocks.  Those act like extensions to the set of constructor methods defined for the class. They look just like static initializer blocks, except the keyword \"static\" is left off.</p>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":145,"is_accepted":false,"score":145,"last_activity_date":1552976509,"creation_date":1268253649,"answer_id":2420405,"question_id":2420389,"body_markdown":"If they weren&#39;t in a static initialization block, where would they be? How would you declare a variable which was only meant to be local for the purposes of initialization, and distinguish it from a field? For example, how would *you* want to write:\r\n\r\n    public class Foo {\r\n        private static final int widgets;\r\n\r\n        static {\r\n            int first = Widgets.getFirstCount();\r\n            int second = Widgets.getSecondCount();\r\n            // Imagine more complex logic here which really used first/second\r\n            widgets = first + second;\r\n        }\r\n    }\r\n\r\nIf `first` and `second` weren&#39;t in a block, they&#39;d look like fields. If they were in a block without `static` in front of it, that would count as an instance initialization block instead of a static initialization block, so it would be executed once **per** constructed instance rather than once in total.\r\n\r\nNow in this particular case, you could use a static method instead:\r\n\r\n    public class Foo {\r\n        private static final int widgets = getWidgets();\r\n\r\n        static int getWidgets() {\r\n            int first = Widgets.getFirstCount();\r\n            int second = Widgets.getSecondCount();\r\n            // Imagine more complex logic here which really used first/second\r\n            return first + second;\r\n        }\r\n    }\r\n\r\n... but that doesn&#39;t work when there are multiple variables you wish to assign within the same block, or none (e.g. if you just want to log something - or maybe initialize a native library).","title":"Static Initialization Blocks","body":"<p>If they weren't in a static initialization block, where would they be? How would you declare a variable which was only meant to be local for the purposes of initialization, and distinguish it from a field? For example, how would <em>you</em> want to write:</p>\n\n<pre><code>public class Foo {\n    private static final int widgets;\n\n    static {\n        int first = Widgets.getFirstCount();\n        int second = Widgets.getSecondCount();\n        // Imagine more complex logic here which really used first/second\n        widgets = first + second;\n    }\n}\n</code></pre>\n\n<p>If <code>first</code> and <code>second</code> weren't in a block, they'd look like fields. If they were in a block without <code>static</code> in front of it, that would count as an instance initialization block instead of a static initialization block, so it would be executed once <strong>per</strong> constructed instance rather than once in total.</p>\n\n<p>Now in this particular case, you could use a static method instead:</p>\n\n<pre><code>public class Foo {\n    private static final int widgets = getWidgets();\n\n    static int getWidgets() {\n        int first = Widgets.getFirstCount();\n        int second = Widgets.getSecondCount();\n        // Imagine more complex logic here which really used first/second\n        return first + second;\n    }\n}\n</code></pre>\n\n<p>... but that doesn't work when there are multiple variables you wish to assign within the same block, or none (e.g. if you just want to log something - or maybe initialize a native library).</p>\n"},{"tags":[],"owner":{"account_id":19971,"reputation":55479,"user_id":47281,"accept_rate":83,"display_name":"Marcus Leon"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1268253651,"creation_date":1268253651,"answer_id":2420406,"question_id":2420389,"body_markdown":"If your static variables need to be set at runtime then a `static {...}` block is very helpful.  \r\n\r\nFor example, if you need to set the static member to a value which is stored in a config file or database.\r\n\r\nAlso useful when you want to add values to a static `Map` member as you can&#39;t add these values in the initial member declaration.","title":"Static Initialization Blocks","body":"<p>If your static variables need to be set at runtime then a <code>static {...}</code> block is very helpful.  </p>\n\n<p>For example, if you need to set the static member to a value which is stored in a config file or database.</p>\n\n<p>Also useful when you want to add values to a static <code>Map</code> member as you can't add these values in the initial member declaration.</p>\n"},{"tags":[],"owner":{"account_id":98479,"reputation":10061,"user_id":266541,"accept_rate":79,"display_name":"Frederik Wordenskjold"},"down_vote_count":10,"up_vote_count":518,"is_accepted":true,"score":508,"last_activity_date":1458771010,"creation_date":1268254119,"answer_id":2420466,"question_id":2420389,"body_markdown":"The *non-static block:*\r\n\r\n    {\r\n        // Do Something...\r\n    }\r\n\r\nGets called **every time** an instance of the class is constructed. The *static block* only gets called **once**, when the class itself is initialized, no matter how many objects of that type you create.\r\n\r\nExample:\r\n\r\n\r\n\r\n    public class Test {\r\n\r\n        static{\r\n            System.out.println(&quot;Static&quot;);\r\n        }\r\n\t\r\n        {\r\n            System.out.println(&quot;Non-static block&quot;);\r\n        }\r\n\t\r\n        public static void main(String[] args) {\r\n            Test t = new Test();\r\n            Test t2 = new Test();\r\n        }\r\n    }\r\n\r\nThis prints:\r\n\r\n\r\n    Static\r\n    Non-static block\r\n    Non-static block\r\n","title":"Static Initialization Blocks","body":"<p>The <em>non-static block:</em></p>\n\n<pre><code>{\n    // Do Something...\n}\n</code></pre>\n\n<p>Gets called <strong>every time</strong> an instance of the class is constructed. The <em>static block</em> only gets called <strong>once</strong>, when the class itself is initialized, no matter how many objects of that type you create.</p>\n\n<p>Example:</p>\n\n<pre><code>public class Test {\n\n    static{\n        System.out.println(\"Static\");\n    }\n\n    {\n        System.out.println(\"Non-static block\");\n    }\n\n    public static void main(String[] args) {\n        Test t = new Test();\n        Test t2 = new Test();\n    }\n}\n</code></pre>\n\n<p>This prints:</p>\n\n<pre><code>Static\nNon-static block\nNon-static block\n</code></pre>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":51,"is_accepted":false,"score":51,"last_activity_date":1268256016,"creation_date":1268256016,"answer_id":2420682,"question_id":2420389,"body_markdown":"It&#39;s also useful when you actually don&#39;t want to assign the value to anything, such as loading some class *only once* during runtime.\r\n\r\nE.g.\r\n\r\n    static {\r\n        try {\r\n            Class.forName(&quot;com.example.jdbc.Driver&quot;);\r\n        } catch (ClassNotFoundException e) {\r\n            throw new ExceptionInInitializerError(&quot;Cannot load JDBC driver.&quot;, e);\r\n        }\r\n    }\r\n\r\nHey, there&#39;s another benefit, you can use it to handle exceptions. Imagine that `getStuff()` here throws an `Exception` which *really* belongs in a catch block:\r\n\r\n    private static Object stuff = getStuff(); // Won&#39;t compile: unhandled exception.\r\n\r\nthen a `static` initializer is useful here. You can handle the exception there.\r\n\r\nAnother example is to do stuff afterwards which can&#39;t be done during assigning:\r\n\r\n    private static Properties config = new Properties();\r\n\r\n    static {\r\n        try { \r\n            config.load(Thread.currentThread().getClassLoader().getResourceAsStream(&quot;config.properties&quot;);\r\n        } catch (IOException e) {\r\n            throw new ExceptionInInitializerError(&quot;Cannot load properties file.&quot;, e);\r\n        }\r\n    }\r\n\r\nTo come back to the JDBC driver example, any decent JDBC driver itself also makes use of the `static` initializer to register itself in the `DriverManager`. Also see [this][1] and [this][2] answer.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1893274/doubt-in-java-basics\r\n  [2]: https://stackoverflow.com/questions/2092659/what-is-difference-between-class-forname-and-class-forname-newinstance/2093236#2093236","title":"Static Initialization Blocks","body":"<p>It's also useful when you actually don't want to assign the value to anything, such as loading some class <em>only once</em> during runtime.</p>\n\n<p>E.g.</p>\n\n<pre><code>static {\n    try {\n        Class.forName(\"com.example.jdbc.Driver\");\n    } catch (ClassNotFoundException e) {\n        throw new ExceptionInInitializerError(\"Cannot load JDBC driver.\", e);\n    }\n}\n</code></pre>\n\n<p>Hey, there's another benefit, you can use it to handle exceptions. Imagine that <code>getStuff()</code> here throws an <code>Exception</code> which <em>really</em> belongs in a catch block:</p>\n\n<pre><code>private static Object stuff = getStuff(); // Won't compile: unhandled exception.\n</code></pre>\n\n<p>then a <code>static</code> initializer is useful here. You can handle the exception there.</p>\n\n<p>Another example is to do stuff afterwards which can't be done during assigning:</p>\n\n<pre><code>private static Properties config = new Properties();\n\nstatic {\n    try { \n        config.load(Thread.currentThread().getClassLoader().getResourceAsStream(\"config.properties\");\n    } catch (IOException e) {\n        throw new ExceptionInInitializerError(\"Cannot load properties file.\", e);\n    }\n}\n</code></pre>\n\n<p>To come back to the JDBC driver example, any decent JDBC driver itself also makes use of the <code>static</code> initializer to register itself in the <code>DriverManager</code>. Also see <a href=\"https://stackoverflow.com/questions/1893274/doubt-in-java-basics\">this</a> and <a href=\"https://stackoverflow.com/questions/2092659/what-is-difference-between-class-forname-and-class-forname-newinstance/2093236#2093236\">this</a> answer.</p>\n"},{"tags":[],"owner":{"account_id":18279,"reputation":58451,"user_id":41747,"display_name":"D.Shawley"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1347018219,"creation_date":1347018219,"answer_id":12317473,"question_id":2420389,"body_markdown":"There are a few actual reasons that it is required to exist:\r\n\r\n1. initializing `static final` members whose initialization might throw an exception\r\n2. initializing `static final` members with calculated values\r\n\r\nPeople tend to use `static {}` blocks as a convenient way to initialize things that the class depends on within the runtime as well - such as ensuring that particular class is loaded (e.g., JDBC drivers).  That can be done in other ways; however, the two things that I mention above can only be done with a construct like the `static {}` block.","title":"Static Initialization Blocks","body":"<p>There are a few actual reasons that it is required to exist:</p>\n\n<ol>\n<li>initializing <code>static final</code> members whose initialization might throw an exception</li>\n<li>initializing <code>static final</code> members with calculated values</li>\n</ol>\n\n<p>People tend to use <code>static {}</code> blocks as a convenient way to initialize things that the class depends on within the runtime as well - such as ensuring that particular class is loaded (e.g., JDBC drivers).  That can be done in other ways; however, the two things that I mention above can only be done with a construct like the <code>static {}</code> block.</p>\n"},{"tags":[],"owner":{"account_id":1895433,"reputation":1038,"user_id":1712517,"accept_rate":61,"display_name":"Arun"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1350233121,"creation_date":1350233121,"answer_id":12884339,"question_id":2420389,"body_markdown":"static block is used for any technology to initialize  static data member in dynamic way,or we can say for the dynamic initialization of static data member static block is being used..Because for non static data member initialization we have constructor but we do not have any place where we can dynamically initialize static data member\r\n\r\n    Eg:-class Solution{\r\n             // static int x=10;\r\n               static int x;\r\n           static{\r\n            try{\r\n              x=System.out.println();\r\n              }\r\n             catch(Exception e){}\r\n            }\r\n           }\r\n    \r\n         class Solution1{\r\n          public static void main(String a[]){\r\n          System.out.println(Solution.x);\r\n            }\r\n            }\r\n\r\n\r\n Now my static int x will initialize dynamically ..Bcoz when compiler will go to Solution.x it will load Solution Class and static block load at class loading time..So we can able to dynamically initialize that static data member..   \r\n\r\n}","title":"Static Initialization Blocks","body":"<p>static block is used for any technology to initialize  static data member in dynamic way,or we can say for the dynamic initialization of static data member static block is being used..Because for non static data member initialization we have constructor but we do not have any place where we can dynamically initialize static data member</p>\n\n<pre><code>Eg:-class Solution{\n         // static int x=10;\n           static int x;\n       static{\n        try{\n          x=System.out.println();\n          }\n         catch(Exception e){}\n        }\n       }\n\n     class Solution1{\n      public static void main(String a[]){\n      System.out.println(Solution.x);\n        }\n        }\n</code></pre>\n\n<p>Now my static int x will initialize dynamically ..Bcoz when compiler will go to Solution.x it will load Solution Class and static block load at class loading time..So we can able to dynamically initialize that static data member..   </p>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":1635203,"reputation":9343,"user_id":1508893,"accept_rate":74,"display_name":"user1508893"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1362028849,"creation_date":1362028849,"answer_id":15128069,"question_id":2420389,"body_markdown":"I would say `static block` is just syntactic sugar. There is nothing you could do with `static` block and not with anything else.\r\n\r\nTo re-use some examples posted here.\r\n\r\nThis piece of code could be re-written without using `static` initialiser.\r\n\r\nMethod #1: With `static`\r\n\r\n    private static final HashMap&lt;String, String&gt; MAP;\r\n    static {\r\n        MAP.put(&quot;banana&quot;, &quot;honey&quot;);\r\n        MAP.put(&quot;peanut butter&quot;, &quot;jelly&quot;);\r\n        MAP.put(&quot;rice&quot;, &quot;beans&quot;);\r\n      }\r\n\r\nMethod #2: Without `static`\r\n\r\n    private static final HashMap&lt;String, String&gt; MAP = getMap();\r\n    private static HashMap&lt;String, String&gt; getMap()\r\n    {\r\n        HashMap&lt;String, String&gt; ret = new HashMap&lt;&gt;();\r\n        ret.put(&quot;banana&quot;, &quot;honey&quot;);\r\n        ret.put(&quot;peanut butter&quot;, &quot;jelly&quot;);\r\n        ret.put(&quot;rice&quot;, &quot;beans&quot;);\r\n        return ret;\r\n    }","title":"Static Initialization Blocks","body":"<p>I would say <code>static block</code> is just syntactic sugar. There is nothing you could do with <code>static</code> block and not with anything else.</p>\n\n<p>To re-use some examples posted here.</p>\n\n<p>This piece of code could be re-written without using <code>static</code> initialiser.</p>\n\n<p>Method #1: With <code>static</code></p>\n\n<pre><code>private static final HashMap&lt;String, String&gt; MAP;\nstatic {\n    MAP.put(\"banana\", \"honey\");\n    MAP.put(\"peanut butter\", \"jelly\");\n    MAP.put(\"rice\", \"beans\");\n  }\n</code></pre>\n\n<p>Method #2: Without <code>static</code></p>\n\n<pre><code>private static final HashMap&lt;String, String&gt; MAP = getMap();\nprivate static HashMap&lt;String, String&gt; getMap()\n{\n    HashMap&lt;String, String&gt; ret = new HashMap&lt;&gt;();\n    ret.put(\"banana\", \"honey\");\n    ret.put(\"peanut butter\", \"jelly\");\n    ret.put(\"rice\", \"beans\");\n    return ret;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":694376,"reputation":370,"user_id":571975,"display_name":"Randa Sbeity"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1375069875,"creation_date":1375069875,"answer_id":17915789,"question_id":2420389,"body_markdown":"So you have a static field (it&#39;s also called &quot;class variable&quot; because it belongs to the class rather than to an instance of the class; in other words it&#39;s associated with the class rather than with any object) and you want to initialize it. So if you do NOT want to create an instance of this class and you want to manipulate this static field, you can do it in three ways:\r\n\r\n1- Just initialize it when you declare the variable:\r\n\r\n    static int x = 3;\r\n\r\n2- Have a static initializing block:\r\n\r\n    static int x;\r\n    \r\n    static {\r\n     x=3;\r\n    }\r\n\r\n3- Have a class method (static method) that accesses the class variable and initializes it:\r\nthis is the alternative to the above static block; you can write a private static method:\r\n\r\n    public static int x=initializeX();\r\n    \r\n    private static int initializeX(){\r\n     return 3;\r\n    }\r\n\r\nNow why would you use static initializing block instead of static methods?\r\n\r\nIt&#39;s really up to what you need in your program. But you have to know that static initializing block is called once and the only advantage of the class method is that they can be reused later if you need to reinitialize the class variable.\r\n\r\nlet&#39;s say you have a complex array in your program. You initialize it (using *for* loop for example) and then the values in this array will change throughout the program but then at some point you want to reinitialize it (go back to the initial value). In this case you can call the private static method. In case you do not need in your program to reinitialize the values, you can just use the static block and no need for a static method since you&#39;re not gonna use it later in the program.\r\n\r\nNote: the static blocks are called in the order they appear in the code. \r\n\r\nExample 1:\r\n\r\n    class A{\r\n     public static int a =f();\r\n    \r\n    // this is a static method\r\n     private static int f(){\r\n      return 3;\r\n     }\r\n    \r\n    // this is a static block\r\n     static {\r\n      a=5;\r\n     }\r\n     \r\n     public static void main(String args[]) {\r\n    // As I mentioned, you do not need to create an instance of the class to use the class variable\r\n      System.out.print(A.a); // this will print 5\r\n     }\r\n    \r\n    }\r\n\r\nExample 2:\r\n\r\n    class A{\r\n     static {\r\n      a=5;\r\n     }\r\n     public static int a =f();\r\n    \r\n     private static int f(){\r\n      return 3;\r\n     }\r\n     \r\n     public static void main(String args[]) {\r\n      System.out.print(A.a); // this will print 3\r\n     }\r\n    \r\n    }","title":"Static Initialization Blocks","body":"<p>So you have a static field (it's also called \"class variable\" because it belongs to the class rather than to an instance of the class; in other words it's associated with the class rather than with any object) and you want to initialize it. So if you do NOT want to create an instance of this class and you want to manipulate this static field, you can do it in three ways:</p>\n\n<p>1- Just initialize it when you declare the variable:</p>\n\n<pre><code>static int x = 3;\n</code></pre>\n\n<p>2- Have a static initializing block:</p>\n\n<pre><code>static int x;\n\nstatic {\n x=3;\n}\n</code></pre>\n\n<p>3- Have a class method (static method) that accesses the class variable and initializes it:\nthis is the alternative to the above static block; you can write a private static method:</p>\n\n<pre><code>public static int x=initializeX();\n\nprivate static int initializeX(){\n return 3;\n}\n</code></pre>\n\n<p>Now why would you use static initializing block instead of static methods?</p>\n\n<p>It's really up to what you need in your program. But you have to know that static initializing block is called once and the only advantage of the class method is that they can be reused later if you need to reinitialize the class variable.</p>\n\n<p>let's say you have a complex array in your program. You initialize it (using <em>for</em> loop for example) and then the values in this array will change throughout the program but then at some point you want to reinitialize it (go back to the initial value). In this case you can call the private static method. In case you do not need in your program to reinitialize the values, you can just use the static block and no need for a static method since you're not gonna use it later in the program.</p>\n\n<p>Note: the static blocks are called in the order they appear in the code. </p>\n\n<p>Example 1:</p>\n\n<pre><code>class A{\n public static int a =f();\n\n// this is a static method\n private static int f(){\n  return 3;\n }\n\n// this is a static block\n static {\n  a=5;\n }\n\n public static void main(String args[]) {\n// As I mentioned, you do not need to create an instance of the class to use the class variable\n  System.out.print(A.a); // this will print 5\n }\n\n}\n</code></pre>\n\n<p>Example 2:</p>\n\n<pre><code>class A{\n static {\n  a=5;\n }\n public static int a =f();\n\n private static int f(){\n  return 3;\n }\n\n public static void main(String args[]) {\n  System.out.print(A.a); // this will print 3\n }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":386394,"reputation":9197,"user_id":744133,"accept_rate":57,"display_name":"YoYo"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1517951613,"creation_date":1434342706,"answer_id":30837385,"question_id":2420389,"body_markdown":"It is a common misconception to think that a static block has only access to static fields. For this I would like to show below piece of code that I quite often use in real-life projects (copied partially from [another answer][1] in a slightly different context):\r\n\r\n    public enum Language { \r\n      ENGLISH(&quot;eng&quot;, &quot;en&quot;, &quot;en_GB&quot;, &quot;en_US&quot;),   \r\n      GERMAN(&quot;de&quot;, &quot;ge&quot;),   \r\n      CROATIAN(&quot;hr&quot;, &quot;cro&quot;),   \r\n      RUSSIAN(&quot;ru&quot;),\r\n      BELGIAN(&quot;be&quot;,&quot;;-)&quot;);\r\n \r\n      static final private Map&lt;String,Language&gt; ALIAS_MAP = new HashMap&lt;String,Language&gt;(); \r\n      static { \r\n        for (Language l:Language.values()) { \r\n          // ignoring the case by normalizing to uppercase\r\n          ALIAS_MAP.put(l.name().toUpperCase(),l); \r\n          for (String alias:l.aliases) ALIAS_MAP.put(alias.toUpperCase(),l); \r\n        } \r\n      } \r\n \r\n      static public boolean has(String value) { \r\n        // ignoring the case by normalizing to uppercase\r\n        return ALIAS_MAP.containsKey(value.toUpper()); \r\n      } \r\n \r\n      static public Language fromString(String value) { \r\n        if (value == null) throw new NullPointerException(&quot;alias null&quot;); \r\n        Language l = ALIAS_MAP.get(value); \r\n        if (l == null) throw new IllegalArgumentException(&quot;Not an alias: &quot;+value); \r\n        return l; \r\n      } \r\n \r\n      private List&lt;String&gt; aliases; \r\n      private Language(String... aliases) { \r\n        this.aliases = Arrays.asList(aliases); \r\n      } \r\n    } \r\n\r\nHere the initializer is used to maintain an index (`ALIAS_MAP`), to map a set of aliases back to the original enum type. It is intended as an extension to the built-in valueOf method provided by the `Enum` itself.\r\n\r\nAs you can see, the static initializer accesses even the `private` field `aliases`. It is important to understand that the `static` block already has access to the `Enum` value instances (e.g. `ENGLISH`). This is because the [order of initialization and execution in the case of `Enum` types][2], just as if the `static private` fields have been initialized with instances before the `static` blocks have been called:\r\n\r\n1. The `Enum` constants which are implicit static fields. This requires the Enum constructor and instance blocks, and instance initialization to occur first as well.\r\n2. `static` block and initialization of static fields in the order of occurrence.\r\n\r\nThis out-of-order initialization (constructor before `static` block) is important to note. It also happens when we initialize static fields with the instances similarly to a Singleton (simplifications made):\r\n\r\n    public class Foo {\r\n      static { System.out.println(&quot;Static Block 1&quot;); }\r\n      public static final Foo FOO = new Foo();\r\n      static { System.out.println(&quot;Static Block 2&quot;); }\r\n      public Foo() { System.out.println(&quot;Constructor&quot;); }\r\n      static public void main(String p[]) {\r\n        System.out.println(&quot;In Main&quot;);\r\n        new Foo();\r\n      }\r\n    }\r\n\r\nWhat we see is the following output:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    Static Block 1\r\n    Constructor\r\n    Static Block 2\r\n    In Main\r\n    Constructor\r\n\r\nClear is that the static initialization actually can happen *before* the constructor, and even after:\r\n\r\nSimply accessing Foo in the main method, causes the class to be loaded and the static initialization to start. But as part of the Static initialization we again call the constructors for the static fields, after which it resumes static initialization, and completes the constructor called from within the main method. Rather complex situation for which I hope that in normal coding we would not have to deal with.\r\n\r\nFor more info on this see the book &quot;[Effective Java][3]&quot;.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/12659023/744133\r\n  [2]: https://stackoverflow.com/a/12664200/744133\r\n  [3]: https://books.google.com/books?id=ka2VUBqHiWkC&amp;lpg=PA154&amp;ots=yYGoIhoZMY&amp;dq=effective%20java%20static%20enum%20block&amp;pg=PA154#v=onepage&amp;q=effective%20java%20static%20enum%20block&amp;f=false &quot;Effective Java. - Joshua Bloch&quot;\r\n\r\n\r\n\r\n","title":"Static Initialization Blocks","body":"<p>It is a common misconception to think that a static block has only access to static fields. For this I would like to show below piece of code that I quite often use in real-life projects (copied partially from <a href=\"https://stackoverflow.com/a/12659023/744133\">another answer</a> in a slightly different context):</p>\n\n<pre><code>public enum Language { \n  ENGLISH(\"eng\", \"en\", \"en_GB\", \"en_US\"),   \n  GERMAN(\"de\", \"ge\"),   \n  CROATIAN(\"hr\", \"cro\"),   \n  RUSSIAN(\"ru\"),\n  BELGIAN(\"be\",\";-)\");\n\n  static final private Map&lt;String,Language&gt; ALIAS_MAP = new HashMap&lt;String,Language&gt;(); \n  static { \n    for (Language l:Language.values()) { \n      // ignoring the case by normalizing to uppercase\n      ALIAS_MAP.put(l.name().toUpperCase(),l); \n      for (String alias:l.aliases) ALIAS_MAP.put(alias.toUpperCase(),l); \n    } \n  } \n\n  static public boolean has(String value) { \n    // ignoring the case by normalizing to uppercase\n    return ALIAS_MAP.containsKey(value.toUpper()); \n  } \n\n  static public Language fromString(String value) { \n    if (value == null) throw new NullPointerException(\"alias null\"); \n    Language l = ALIAS_MAP.get(value); \n    if (l == null) throw new IllegalArgumentException(\"Not an alias: \"+value); \n    return l; \n  } \n\n  private List&lt;String&gt; aliases; \n  private Language(String... aliases) { \n    this.aliases = Arrays.asList(aliases); \n  } \n} \n</code></pre>\n\n<p>Here the initializer is used to maintain an index (<code>ALIAS_MAP</code>), to map a set of aliases back to the original enum type. It is intended as an extension to the built-in valueOf method provided by the <code>Enum</code> itself.</p>\n\n<p>As you can see, the static initializer accesses even the <code>private</code> field <code>aliases</code>. It is important to understand that the <code>static</code> block already has access to the <code>Enum</code> value instances (e.g. <code>ENGLISH</code>). This is because the <a href=\"https://stackoverflow.com/a/12664200/744133\">order of initialization and execution in the case of <code>Enum</code> types</a>, just as if the <code>static private</code> fields have been initialized with instances before the <code>static</code> blocks have been called:</p>\n\n<ol>\n<li>The <code>Enum</code> constants which are implicit static fields. This requires the Enum constructor and instance blocks, and instance initialization to occur first as well.</li>\n<li><code>static</code> block and initialization of static fields in the order of occurrence.</li>\n</ol>\n\n<p>This out-of-order initialization (constructor before <code>static</code> block) is important to note. It also happens when we initialize static fields with the instances similarly to a Singleton (simplifications made):</p>\n\n<pre><code>public class Foo {\n  static { System.out.println(\"Static Block 1\"); }\n  public static final Foo FOO = new Foo();\n  static { System.out.println(\"Static Block 2\"); }\n  public Foo() { System.out.println(\"Constructor\"); }\n  static public void main(String p[]) {\n    System.out.println(\"In Main\");\n    new Foo();\n  }\n}\n</code></pre>\n\n<p>What we see is the following output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Static Block 1\nConstructor\nStatic Block 2\nIn Main\nConstructor\n</code></pre>\n\n<p>Clear is that the static initialization actually can happen <em>before</em> the constructor, and even after:</p>\n\n<p>Simply accessing Foo in the main method, causes the class to be loaded and the static initialization to start. But as part of the Static initialization we again call the constructors for the static fields, after which it resumes static initialization, and completes the constructor called from within the main method. Rather complex situation for which I hope that in normal coding we would not have to deal with.</p>\n\n<p>For more info on this see the book \"<a href=\"https://books.google.com/books?id=ka2VUBqHiWkC&amp;lpg=PA154&amp;ots=yYGoIhoZMY&amp;dq=effective%20java%20static%20enum%20block&amp;pg=PA154#v=onepage&amp;q=effective%20java%20static%20enum%20block&amp;f=false\" rel=\"nofollow noreferrer\" title=\"Effective Java. - Joshua Bloch\">Effective Java</a>\".</p>\n"},{"tags":[],"owner":{"account_id":4116853,"reputation":10757,"user_id":3378204,"accept_rate":91,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470233931,"creation_date":1470233931,"answer_id":38746224,"question_id":2420389,"body_markdown":"As supplementary, like @Pointy said\r\n\r\n&gt; The code in the &quot;static&quot; section(s) will be executed at class load\r\n&gt; time, before any instances of the class are constructed (and before\r\n&gt; any static methods are called from elsewhere).\r\n\r\nIt&#39;s supposed to add `System.loadLibrary(&quot;I_am_native_library&quot;)` into static block.\r\n\r\n\tstatic{\r\n\t\tSystem.loadLibrary(&quot;I_am_a_library&quot;);\r\n\t}\r\n \r\nIt will guarantee no native method be called before the related library is loaded into memory.\r\n\r\nAccording to [loadLibrary from oracle][1]:\r\n\r\n&gt; If this method is called more than once with the same library name,\r\n&gt; the second and subsequent calls are ignored.\r\n\r\nSo quite unexpectedly, putting System.loadLibrary is not used to avoid library be loaded multi-times.\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/Runtime.html#loadLibrary%28java.lang.String%29","title":"Static Initialization Blocks","body":"<p>As supplementary, like @Pointy said</p>\n\n<blockquote>\n  <p>The code in the \"static\" section(s) will be executed at class load\n  time, before any instances of the class are constructed (and before\n  any static methods are called from elsewhere).</p>\n</blockquote>\n\n<p>It's supposed to add <code>System.loadLibrary(\"I_am_native_library\")</code> into static block.</p>\n\n<pre><code>static{\n    System.loadLibrary(\"I_am_a_library\");\n}\n</code></pre>\n\n<p>It will guarantee no native method be called before the related library is loaded into memory.</p>\n\n<p>According to <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Runtime.html#loadLibrary%28java.lang.String%29\" rel=\"nofollow\">loadLibrary from oracle</a>:</p>\n\n<blockquote>\n  <p>If this method is called more than once with the same library name,\n  the second and subsequent calls are ignored.</p>\n</blockquote>\n\n<p>So quite unexpectedly, putting System.loadLibrary is not used to avoid library be loaded multi-times.</p>\n"},{"tags":[],"owner":{"account_id":5071035,"reputation":5785,"user_id":4069782,"accept_rate":75,"display_name":"Emmanuel Osimosu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661432313,"creation_date":1476979350,"answer_id":40159303,"question_id":2420389,"body_markdown":"It is important to understand that classes are instantiated from `java.class.Class` during runtime. That is when static blocks are executed, which allows you to execute code **without instantiating a class**:\r\n\r\n\r\n    public class Main {\r\n\r\n        private static int myInt;\r\n    \r\n        static {\r\n            myInt = 1;\r\n            System.out.println(&quot;myInt is 1&quot;);\r\n        }\r\n        \r\n        //  needed only to run this class\r\n        public static void main(String[] args) {\r\n        }\r\n       \r\n    }\r\n\r\nThe result is `myInt is 1` printed to the console.","title":"Static Initialization Blocks","body":"<p>It is important to understand that classes are instantiated from <code>java.class.Class</code> during runtime. That is when static blocks are executed, which allows you to execute code <strong>without instantiating a class</strong>:</p>\n<pre><code>public class Main {\n\n    private static int myInt;\n\n    static {\n        myInt = 1;\n        System.out.println(&quot;myInt is 1&quot;);\n    }\n    \n    //  needed only to run this class\n    public static void main(String[] args) {\n    }\n   \n}\n</code></pre>\n<p>The result is <code>myInt is 1</code> printed to the console.</p>\n"},{"tags":[],"owner":{"account_id":6958292,"reputation":5,"user_id":5338636,"display_name":"Vid"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1557465778,"creation_date":1557465778,"answer_id":56071140,"question_id":2420389,"body_markdown":"\r\n    static int B,H;\r\n    static boolean flag = true;\r\n    static{\r\n        Scanner scan = new Scanner(System.in);\r\n        B = scan.nextInt();\r\n        scan.nextLine();\r\n        H = scan.nextInt();\r\n\r\n        if(B &lt; 0 || H &lt; 0){\r\n            flag = false;\r\n            System.out.println(&quot;java.lang.Exception: Breadth and height must be positive&quot;);\r\n        } \r\n    }","title":"Static Initialization Blocks","body":"<pre><code>static int B,H;\nstatic boolean flag = true;\nstatic{\n    Scanner scan = new Scanner(System.in);\n    B = scan.nextInt();\n    scan.nextLine();\n    H = scan.nextInt();\n\n    if(B &lt; 0 || H &lt; 0){\n        flag = false;\n        System.out.println(\"java.lang.Exception: Breadth and height must be positive\");\n    } \n}\n</code></pre>\n"}],"owner":{"account_id":88863,"reputation":126149,"user_id":245549,"accept_rate":66,"display_name":"Roman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":258471,"favorite_count":0,"down_vote_count":3,"up_vote_count":311,"accepted_answer_id":2420466,"answer_count":14,"score":308,"last_activity_date":1661432313,"creation_date":1268253455,"question_id":2420389,"body_markdown":"As far as I understood the &quot;static initialization block&quot; is used to set values of static field if it cannot be done in one line. \r\n\r\nBut I do not understand why we need a special block for that. For example we declare a field as static (without a value assignment). And then write several lines of the code which generate and assign a value to the above declared static field.\r\n\r\nWhy do we need this lines in a special block like: `static {...}`? ","title":"Static Initialization Blocks","body":"<p>As far as I understood the \"static initialization block\" is used to set values of static field if it cannot be done in one line. </p>\n\n<p>But I do not understand why we need a special block for that. For example we declare a field as static (without a value assignment). And then write several lines of the code which generate and assign a value to the above declared static field.</p>\n\n<p>Why do we need this lines in a special block like: <code>static {...}</code>? </p>\n"},{"tags":["java","spring","rest","spring-restcontroller","request-mapping"],"comments":[{"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"score":0,"creation_date":1543406512,"post_id":53519006,"comment_id":93906547,"body_markdown":"How would you know which method you want to call if the endpoints and methods are identical?","body":"How would you know which method you want to call if the endpoints and methods are identical?"},{"owner":{"account_id":3597514,"reputation":117144,"user_id":3001761,"display_name":"jonrsharpe"},"score":1,"creation_date":1543406650,"post_id":53519006,"comment_id":93906649,"body_markdown":"It might be helpful to give some context, this seems like an http://xyproblem.info","body":"It might be helpful to give some context, this seems like an <a href=\"http://xyproblem.info\" rel=\"nofollow noreferrer\">xyproblem.info</a>"},{"owner":{"account_id":8146898,"reputation":453,"user_id":6135309,"display_name":"Ravikumar"},"score":0,"creation_date":1543406746,"post_id":53519006,"comment_id":93906699,"body_markdown":"parameters in request body is different in each method","body":"parameters in request body is different in each method"},{"owner":{"account_id":3597514,"reputation":117144,"user_id":3001761,"display_name":"jonrsharpe"},"score":0,"creation_date":1543421940,"post_id":53519006,"comment_id":93916532,"body_markdown":"That&#39;s the same context again. *Why* is it different, why do you post different resources to the same endpoint?","body":"That&#39;s the same context again. <i>Why</i> is it different, why do you post different resources to the same endpoint?"}],"answers":[{"tags":[],"owner":{"account_id":12972203,"reputation":469,"user_id":9377527,"display_name":"mwdev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543409683,"creation_date":1543409683,"answer_id":53519969,"question_id":53519006,"body_markdown":"Yes you can do that but you need to specify unique parameters signature in RequestMapping annotation:\r\n\r\n    public class MyController {\r\n\r\n    @RequestMapping(method = RequestMethod.POST, params = {&quot;!name&quot;, &quot;!name2&quot;})\r\n    public String action(HttpServletRequest request, HttpServletResponse response){\r\n        // body\r\n    }\r\n\r\n    @RequestMapping(method = RequestMethod.POST, params = &quot;name&quot;)\r\n    public String action(HttpServletRequest request, HttpServletResponse response,\r\n                            @RequestParam(value = &quot;name&quot;, required = true) String name) {\r\n        // body\r\n    }\r\n    \r\n    }\r\n`","title":"Spring - is it possible to give same url (path) in request mapping for two different post methods?","body":"<p>Yes you can do that but you need to specify unique parameters signature in RequestMapping annotation:</p>\n\n<pre><code>public class MyController {\n\n@RequestMapping(method = RequestMethod.POST, params = {\"!name\", \"!name2\"})\npublic String action(HttpServletRequest request, HttpServletResponse response){\n    // body\n}\n\n@RequestMapping(method = RequestMethod.POST, params = \"name\")\npublic String action(HttpServletRequest request, HttpServletResponse response,\n                        @RequestParam(value = \"name\", required = true) String name) {\n    // body\n}\n\n}\n</code></pre>\n\n<p>`</p>\n"},{"tags":[],"owner":{"account_id":12836302,"reputation":2160,"user_id":9285802,"display_name":"Sukhpal Singh"},"down_vote_count":1,"up_vote_count":19,"is_accepted":true,"score":18,"last_activity_date":1543410158,"creation_date":1543410158,"answer_id":53520114,"question_id":53519006,"body_markdown":"No, you can&#39;t give same url in request mapping of post method having different request body type but same media type. Below won&#39;t work:\r\n\r\n      @PostMapping(path = &quot;/hello&quot;, consumes = MediaType.APPLICATION_JSON_VALUE)\r\n      public String hello(@RequestBody Pojo1 val) {\r\n        return &quot;Hello&quot;;\r\n      }\r\n\r\n      @PostMapping(path = &quot;/hello&quot;, consumes = MediaType.APPLICATION_JSON_VALUE)\r\n      public String hello(@RequestBody Pojo2 val) {\r\n        return &quot;Hello&quot;;\r\n      }\r\n  \r\nIf you have different media type, then it will. Below will work:\r\n\r\n      @PostMapping(path = &quot;/hello&quot;, consumes = MediaType.APPLICATION_JSON_VALUE)\r\n      public String hello(@RequestBody Pojo val) {\r\n        return &quot;Hello&quot;;\r\n      }\r\n\r\n      @PostMapping(path = &quot;/hello&quot;, consumes = MediaType.TEXT_PLAIN_VALUE)\r\n      public String hello(@RequestBody String val) {\r\n        return &quot;Hello&quot;;\r\n      }\r\n  \r\nYour `RequestMapping` should differ on at least one of the conditions; `path,method,params,headers,consumes,produces`\r\n\r\n","title":"Spring - is it possible to give same url (path) in request mapping for two different post methods?","body":"<p>No, you can't give same url in request mapping of post method having different request body type but same media type. Below won't work:</p>\n\n<pre><code>  @PostMapping(path = \"/hello\", consumes = MediaType.APPLICATION_JSON_VALUE)\n  public String hello(@RequestBody Pojo1 val) {\n    return \"Hello\";\n  }\n\n  @PostMapping(path = \"/hello\", consumes = MediaType.APPLICATION_JSON_VALUE)\n  public String hello(@RequestBody Pojo2 val) {\n    return \"Hello\";\n  }\n</code></pre>\n\n<p>If you have different media type, then it will. Below will work:</p>\n\n<pre><code>  @PostMapping(path = \"/hello\", consumes = MediaType.APPLICATION_JSON_VALUE)\n  public String hello(@RequestBody Pojo val) {\n    return \"Hello\";\n  }\n\n  @PostMapping(path = \"/hello\", consumes = MediaType.TEXT_PLAIN_VALUE)\n  public String hello(@RequestBody String val) {\n    return \"Hello\";\n  }\n</code></pre>\n\n<p>Your <code>RequestMapping</code> should differ on at least one of the conditions; <code>path,method,params,headers,consumes,produces</code></p>\n"},{"tags":[],"owner":{"account_id":18583394,"reputation":526,"user_id":13542384,"display_name":"Sumedh Deshpande"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1661432304,"creation_date":1604400395,"answer_id":64661314,"question_id":53519006,"body_markdown":"I needed the same url post mapping but it was giving me an error so I added different params and it worked for me\r\n \r\n```\r\n//url1 post mapping\r\n@PostMapping(value = &quot;/applicant/{step}&quot;, params = &quot;validatedata&quot;)\r\n\r\n//url2 post mapping\r\n@PostMapping(value = &quot;/applicant/{step}&quot;, params = &quot;data&quot;)\r\n```\r\n\r\nif any of the below is different(as mentioned by the above answers)then you can have the same URL post mapping\r\n**path,method,params,headers,consumes,produces**\r\n\r\nIn my case params was diffrent","title":"Spring - is it possible to give same url (path) in request mapping for two different post methods?","body":"<p>I needed the same url post mapping but it was giving me an error so I added different params and it worked for me</p>\n<pre><code>//url1 post mapping\n@PostMapping(value = &quot;/applicant/{step}&quot;, params = &quot;validatedata&quot;)\n\n//url2 post mapping\n@PostMapping(value = &quot;/applicant/{step}&quot;, params = &quot;data&quot;)\n</code></pre>\n<p>if any of the below is different(as mentioned by the above answers)then you can have the same URL post mapping\n<strong>path,method,params,headers,consumes,produces</strong></p>\n<p>In my case params was diffrent</p>\n"}],"owner":{"account_id":8146898,"reputation":453,"user_id":6135309,"display_name":"Ravikumar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24058,"favorite_count":0,"down_vote_count":2,"up_vote_count":11,"accepted_answer_id":53520114,"answer_count":3,"score":9,"last_activity_date":1661432304,"creation_date":1543406423,"question_id":53519006,"body_markdown":"Is it possible to map same path (uri) in request mapping for two different post methods, only difference is request body.\r\n\r\n**Example** \r\n\r\n      @RequestMapping(value = &quot;/hello&quot;, method = RequestMethod.POST)\r\n      public String helloEmployee(@RequestBody Employee employee) {\r\n        return &quot;Hello Employee&quot;;\r\n      }\r\n    \r\n      @RequestMapping(value = &quot;/hello&quot;, method = RequestMethod.POST)\r\n      public String helloStudent(@RequestBody Student student) {\r\n        return &quot;Hello Student&quot;;\r\n      }","title":"Spring - is it possible to give same url (path) in request mapping for two different post methods?","body":"<p>Is it possible to map same path (uri) in request mapping for two different post methods, only difference is request body.</p>\n<p><strong>Example</strong></p>\n<pre><code>  @RequestMapping(value = &quot;/hello&quot;, method = RequestMethod.POST)\n  public String helloEmployee(@RequestBody Employee employee) {\n    return &quot;Hello Employee&quot;;\n  }\n\n  @RequestMapping(value = &quot;/hello&quot;, method = RequestMethod.POST)\n  public String helloStudent(@RequestBody Student student) {\n    return &quot;Hello Student&quot;;\n  }\n</code></pre>\n"},{"tags":["java","visual-studio","selenium-webdriver","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":19605851,"reputation":1,"user_id":14349556,"display_name":"Vin&#237;cius Ribeiro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661166595,"creation_date":1661166595,"answer_id":73444132,"question_id":73443842,"body_markdown":"This [exception][1] can happen when:\r\n\r\n 1. Element is not visible.\r\n 2. Element is present in off screen (after scroll down it will display).\r\n 3. Element is present behind any other element.\r\n 4. Element is disabled.\r\n\r\nYou can try to use Wait and ExpectedConditions:\r\n\r\n    Wait&lt;WebDriver&gt; = new FluentWait&lt;&gt;(webDriver)\r\n                    .withTimeout(Duration.ofSeconds(TIMEOUT))\r\n                    .pollingEvery(Duration.ofSeconds(POLLING))\r\n                    .ignoring(NoSuchElementException.class); \r\n       \r\n    wait.until(ExpectedConditions.elementToBeClickable(By.id(&quot;password&quot;))).click();\r\n\r\nor\r\n\r\n    wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;password&quot;))).click();\r\n\r\n\r\n  [1]: https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/ElementNotInteractableException.html","title":"org.openqa.selenium.ElementNotInteractableException: element not interactable","body":"<p>This <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/ElementNotInteractableException.html\" rel=\"nofollow noreferrer\">exception</a> can happen when:</p>\n<ol>\n<li>Element is not visible.</li>\n<li>Element is present in off screen (after scroll down it will display).</li>\n<li>Element is present behind any other element.</li>\n<li>Element is disabled.</li>\n</ol>\n<p>You can try to use Wait and ExpectedConditions:</p>\n<pre><code>Wait&lt;WebDriver&gt; = new FluentWait&lt;&gt;(webDriver)\n                .withTimeout(Duration.ofSeconds(TIMEOUT))\n                .pollingEvery(Duration.ofSeconds(POLLING))\n                .ignoring(NoSuchElementException.class); \n   \nwait.until(ExpectedConditions.elementToBeClickable(By.id(&quot;password&quot;))).click();\n</code></pre>\n<p>or</p>\n<pre><code>wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;password&quot;))).click();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26137991,"reputation":11,"user_id":19827757,"display_name":"SELVA K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661432273,"creation_date":1661432273,"answer_id":73487958,"question_id":73443842,"body_markdown":"1.Now only use Thread.sleep(5000); it may be work otherwise use selenium waits like implicit,explicit and fluent waits","title":"org.openqa.selenium.ElementNotInteractableException: element not interactable","body":"<p>1.Now only use Thread.sleep(5000); it may be work otherwise use selenium waits like implicit,explicit and fluent waits</p>\n"}],"owner":{"account_id":26128545,"reputation":1,"user_id":19819620,"display_name":"Nyaradzo Moyo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":845,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1661432273,"creation_date":1661165030,"question_id":73443842,"body_markdown":"My test is failing when it reaches the line below:\r\n\r\n**driver.findElement(By.id(&quot;password&quot;)).sendKeys(&quot;myPass&quot;);**\r\n\r\nI have tried the solutions given but it still not interactable ","title":"org.openqa.selenium.ElementNotInteractableException: element not interactable","body":"<p>My test is failing when it reaches the line below:</p>\n<p><strong>driver.findElement(By.id(&quot;password&quot;)).sendKeys(&quot;myPass&quot;);</strong></p>\n<p>I have tried the solutions given but it still not interactable</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1427512528,"post_id":29313030,"comment_id":46819720,"body_markdown":"How are you setting your environment variables? Also, don&#39;t put the jre in the folder `Path=%JAVA_HOME%\\bin;%MAVEN_HOME%\\bin;`","body":"How are you setting your environment variables? Also, don&#39;t put the jre in the folder <code>Path=%JAVA_HOME%\\bin;%MAVEN_HOME%\\bin;</code>"},{"owner":{"account_id":5645389,"reputation":129,"user_id":4467675,"accept_rate":100,"display_name":"LoGWRiTer"},"score":0,"creation_date":1427513469,"post_id":29313030,"comment_id":46819870,"body_markdown":"Yeah, I&#39;ve deleted the jre folder for the Path environment variables. But the problem still exists...","body":"Yeah, I&#39;ve deleted the jre folder for the Path environment variables. But the problem still exists..."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1427553343,"post_id":29313030,"comment_id":46828473,"body_markdown":"Only two things. JAVA_HOME must be set correctly which means for Maven it must point to a JDK. Only the bin folder of `apache-maven-3.3.1/bin` must be in your path. That&#39;s all really needed. Afterwards you should run `mvn --version`. You have to close and reopen your console after changing the environment variables.","body":"Only two things. JAVA_HOME must be set correctly which means for Maven it must point to a JDK. Only the bin folder of <code>apache-maven-3.3.1&#47;bin</code> must be in your path. That&#39;s all really needed. Afterwards you should run <code>mvn --version</code>. You have to close and reopen your console after changing the environment variables."}],"answers":[{"tags":[],"owner":{"account_id":1283501,"reputation":51335,"user_id":1237040,"display_name":"Ravi K Thapliyal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427513113,"creation_date":1427513113,"answer_id":29313312,"question_id":29313030,"body_markdown":"On the other drive you&#39;re running the command with `--` instead of `-` which isn&#39;t recognized and prints `-help` instead. Make sure you&#39;re using\r\n\r\n    mvn -version\r\n\r\n&gt; -Dmaven.multiModuleProjectDirectory system property is not set.\r\n\r\nThis is a known bug (more details [here](https://youtrack.jetbrains.com/issue/IDEA-137783)) which has been **fixed** now. Either update or patch your current installation as described in the bug tracker.\r\n\r\n&gt; Fixed in IDEA 14.0.x and 14.1 branches, the fix will be available in\r\n&gt; 14.0.5 and 14.1.1 respectively.\r\n&gt; \r\n&gt; If you want to try the fix right now, do the following:\r\n&gt; \r\n&gt; for **IDEA 14.0.3**:\r\n&gt; \r\n&gt; 1. unzip the archive with the patch from [IDEA-137783-patch-for_IDEA_14.0.3.zip][1]\r\n&gt; 2. backup and replace the following jars\r\n&gt; \r\n&gt; - &lt;IDEA-14.0.3 installation path&gt;\\plugins\\maven\\lib\\maven.jar\r\n&gt; - &lt;IDEA-14.0.3 installation path&gt;\\plugins\\maven\\lib\\maven-server-api.jar\r\n&gt; \r\n&gt;  with jars from the archive\r\n&gt;\r\n&gt; for **IDEA 14.1**:\r\n&gt; \r\n&gt; 1. unzip the archive with the patch from [IDEA-137783-patch-for_IDEA_14.1.zip][2]\r\n&gt; 2. backup and replace the following jars\r\n&gt; \r\n&gt; - &lt;IDEA-14.1 installation path&gt;\\plugins\\maven\\lib\\maven.jar\r\n&gt; - &lt;IDEA-14.1 installation path&gt;\\plugins\\maven\\lib\\maven-server-api.jar\r\n&gt; -  &lt;IDEA-14.1 installation path&gt;\\plugins\\maven\\lib\\maven32-server-impl.jar\r\n&gt;\r\n&gt;  with jars from the archive\r\n\r\n\r\n  [1]: https://youtrack.jetbrains.com/_persistent/IDEA-137783-patch-for_IDEA_14.0.3.zip?file=74-220287&amp;v=0&amp;c=true\r\n  [2]: https://youtrack.jetbrains.com/_persistent/IDEA-137783-patch-for_IDEA_14.1.zip?file=74-220288&amp;v=0&amp;c=true","title":"I entered mvn command in windows, but the command line return a java hint","body":"<p>On the other drive you're running the command with <code>--</code> instead of <code>-</code> which isn't recognized and prints <code>-help</code> instead. Make sure you're using</p>\n\n<pre><code>mvn -version\n</code></pre>\n\n<blockquote>\n  <p>-Dmaven.multiModuleProjectDirectory system property is not set.</p>\n</blockquote>\n\n<p>This is a known bug (more details <a href=\"https://youtrack.jetbrains.com/issue/IDEA-137783\" rel=\"nofollow\">here</a>) which has been <strong>fixed</strong> now. Either update or patch your current installation as described in the bug tracker.</p>\n\n<blockquote>\n  <p>Fixed in IDEA 14.0.x and 14.1 branches, the fix will be available in\n  14.0.5 and 14.1.1 respectively.</p>\n  \n  <p>If you want to try the fix right now, do the following:</p>\n  \n  <p>for <strong>IDEA 14.0.3</strong>:</p>\n  \n  <ol>\n  <li>unzip the archive with the patch from <a href=\"https://youtrack.jetbrains.com/_persistent/IDEA-137783-patch-for_IDEA_14.0.3.zip?file=74-220287&amp;v=0&amp;c=true\" rel=\"nofollow\">IDEA-137783-patch-for_IDEA_14.0.3.zip</a></li>\n  <li><p>backup and replace the following jars</p>\n  \n  <ul>\n  <li>\\plugins\\maven\\lib\\maven.jar</li>\n  <li>\\plugins\\maven\\lib\\maven-server-api.jar</li>\n  </ul>\n  \n  <p>with jars from the archive</p></li>\n  </ol>\n  \n  <p>for <strong>IDEA 14.1</strong>:</p>\n  \n  <ol>\n  <li>unzip the archive with the patch from <a href=\"https://youtrack.jetbrains.com/_persistent/IDEA-137783-patch-for_IDEA_14.1.zip?file=74-220288&amp;v=0&amp;c=true\" rel=\"nofollow\">IDEA-137783-patch-for_IDEA_14.1.zip</a></li>\n  <li><p>backup and replace the following jars</p>\n  \n  <ul>\n  <li>\\plugins\\maven\\lib\\maven.jar</li>\n  <li>\\plugins\\maven\\lib\\maven-server-api.jar</li>\n  <li>\\plugins\\maven\\lib\\maven32-server-impl.jar</li>\n  </ul>\n  \n  <p>with jars from the archive</p></li>\n  </ol>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":994255,"reputation":756,"user_id":1010619,"accept_rate":25,"display_name":"Mehdi"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1430809964,"creation_date":1430809964,"answer_id":30046419,"question_id":29313030,"body_markdown":"I had the same issue with Maven 3.3.1 but when I tried version 3.2.5 the problem fixed. I don&#39;t know what&#39;s wrong with windows 7/8 and maven 3.3.1.","title":"I entered mvn command in windows, but the command line return a java hint","body":"<p>I had the same issue with Maven 3.3.1 but when I tried version 3.2.5 the problem fixed. I don't know what's wrong with windows 7/8 and maven 3.3.1.</p>\n"},{"tags":[],"owner":{"account_id":4050630,"reputation":111,"user_id":3330355,"display_name":"etricky"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1434562952,"creation_date":1434562952,"answer_id":30898679,"question_id":29313030,"body_markdown":"I too have this problem with maven 3.3.1 and windows 7 and I have found this [answer][1] in a forum. In this version of maven there is a problem with the command line being issued in the root directory of a drive (c:\\, d:\\, ...). Issuing the command on any other directory works.\r\n\r\n  [1]: http://maven.40175.n5.nabble.com/Problem-Running-Maven-td5833093.html","title":"I entered mvn command in windows, but the command line return a java hint","body":"<p>I too have this problem with maven 3.3.1 and windows 7 and I have found this <a href=\"http://maven.40175.n5.nabble.com/Problem-Running-Maven-td5833093.html\">answer</a> in a forum. In this version of maven there is a problem with the command line being issued in the root directory of a drive (c:\\, d:\\, ...). Issuing the command on any other directory works.</p>\n"},{"tags":[],"owner":{"account_id":7132302,"reputation":21,"user_id":5453140,"display_name":"Shrikant Patankar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1444987350,"creation_date":1444987350,"answer_id":33166795,"question_id":29313030,"body_markdown":"As stated in previous replies, the problem is with `&quot;-Dmaven.multiModuleProjectDirectory=C:\\&quot;` property. If the quotes around this property are removed, the java command works fine. It seems that the end quote is being treated as part of the path due to preceding backslash.\r\n\r\nAdding following line in `mvn.cmd` after `:endDetectBaseDir` tag fixed it for me. I am using maven 3.3.3.\r\n\r\n`IF &quot;%MAVEN_PROJECTBASEDIR:~-1%&quot;==&quot;\\&quot; set MAVEN_PROJECTBASEDIR=%MAVEN_PROJECTBASEDIR%\\`","title":"I entered mvn command in windows, but the command line return a java hint","body":"<p>As stated in previous replies, the problem is with <code>\"-Dmaven.multiModuleProjectDirectory=C:\\\"</code> property. If the quotes around this property are removed, the java command works fine. It seems that the end quote is being treated as part of the path due to preceding backslash.</p>\n\n<p>Adding following line in <code>mvn.cmd</code> after <code>:endDetectBaseDir</code> tag fixed it for me. I am using maven 3.3.3.</p>\n\n<p><code>IF \"%MAVEN_PROJECTBASEDIR:~-1%\"==\"\\\" set MAVEN_PROJECTBASEDIR=%MAVEN_PROJECTBASEDIR%\\</code></p>\n"},{"tags":[],"owner":{"account_id":7099345,"reputation":216,"user_id":5431598,"display_name":"Yasitha Bogamuwa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1544250432,"creation_date":1544250432,"answer_id":53680132,"question_id":29313030,"body_markdown":"I had the same problem in Windows Server 2012 R2 with Apache Maven 3.6.0. It was a strange issue. \r\n\r\nI had to delete **C:\\\\.mvn** Folder and it worked!\r\n\r\n[![With C:\\.mvn Folder][1]][1]\r\n\r\n[![Without C:\\.mvn Folder][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Baf0B.png\r\n  [2]: https://i.stack.imgur.com/DR1wy.png","title":"I entered mvn command in windows, but the command line return a java hint","body":"<p>I had the same problem in Windows Server 2012 R2 with Apache Maven 3.6.0. It was a strange issue. </p>\n\n<p>I had to delete <strong>C:\\.mvn</strong> Folder and it worked!</p>\n\n<p><a href=\"https://i.stack.imgur.com/Baf0B.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Baf0B.png\" alt=\"With C:.mvn Folder\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/DR1wy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DR1wy.png\" alt=\"Without C:.mvn Folder\"></a></p>\n"},{"tags":[],"owner":{"account_id":6461925,"reputation":467,"user_id":5005397,"display_name":"Akshay Joshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661432020,"creation_date":1661432020,"answer_id":73487886,"question_id":29313030,"body_markdown":"In my case I had MAVEN_OPTS environment variable incorrectly set up. Which was not in use. That was causing this issue. \r\n\r\nAfter having a look at this exec command in mvn file. I realized something may be wrong with the MAVEN_OPTS environment variable. It worked after deleting that incorrectly set up environment variable. \r\n\r\n    exec &quot;$JAVACMD&quot; \\\r\n    $MAVEN_OPTS \\\r\n    $MAVEN_DEBUG_OPTS \\\r\n    -classpath &quot;${CLASSWORLDS_JAR}&quot; \\\r\n    &quot;-Dclassworlds.conf=${MAVEN_HOME}/bin/m2.conf&quot; \\\r\n    &quot;-Dmaven.home=${MAVEN_HOME}&quot; \\\r\n    &quot;-Dlibrary.jansi.path=${MAVEN_HOME}/lib/jansi-native&quot; \\\r\n    &quot;-Dmaven.multiModuleProjectDirectory=${MAVEN_PROJECTBASEDIR}&quot; \\\r\n    ${CLASSWORLDS_LAUNCHER} &quot;$@&quot;\r\n\r\n\r\nPS - Be careful while deleting the variable. Make sure that same is not being used directly/indirectly anywhere in any other application. ","title":"I entered mvn command in windows, but the command line return a java hint","body":"<p>In my case I had MAVEN_OPTS environment variable incorrectly set up. Which was not in use. That was causing this issue.</p>\n<p>After having a look at this exec command in mvn file. I realized something may be wrong with the MAVEN_OPTS environment variable. It worked after deleting that incorrectly set up environment variable.</p>\n<pre><code>exec &quot;$JAVACMD&quot; \\\n$MAVEN_OPTS \\\n$MAVEN_DEBUG_OPTS \\\n-classpath &quot;${CLASSWORLDS_JAR}&quot; \\\n&quot;-Dclassworlds.conf=${MAVEN_HOME}/bin/m2.conf&quot; \\\n&quot;-Dmaven.home=${MAVEN_HOME}&quot; \\\n&quot;-Dlibrary.jansi.path=${MAVEN_HOME}/lib/jansi-native&quot; \\\n&quot;-Dmaven.multiModuleProjectDirectory=${MAVEN_PROJECTBASEDIR}&quot; \\\n${CLASSWORLDS_LAUNCHER} &quot;$@&quot;\n</code></pre>\n<p>PS - Be careful while deleting the variable. Make sure that same is not being used directly/indirectly anywhere in any other application.</p>\n"}],"owner":{"account_id":5645389,"reputation":129,"user_id":4467675,"accept_rate":100,"display_name":"LoGWRiTer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9548,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":30046419,"answer_count":6,"score":10,"last_activity_date":1661432020,"creation_date":1427510133,"question_id":29313030,"body_markdown":"I have maven 3.3.1 and java 1.7 installed on my machine, windows 8.1.\r\n\r\n    MAVEN_HOME=C:\\Program Files\\Apache\\apache-maven-3.3.1\r\n    JAVA_HOME=C:\\Program Files\\Java\\jdk1.7.0_75\r\n    Path=%JAVA_HOME%\\bin;%JAVA_HOME%\\jre\\bin;%MAVEN_HOME%\\bin;\r\n\r\n\r\nI&#39;ve tried to access mvn command line, under C:\\Users\\\\{myusername}&gt;, it works well:\r\n\r\n    C:\\Users\\{myusername}&gt;java -version\r\n    java version &quot;1.7.0_75&quot;\r\n    Java(TM) SE Runtime Environment (build 1.7.0_75-b13)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 24.75-b04, mixed mode)\r\n    \r\n    C:\\Users\\{myusername}&gt;mvn -version\r\n    Apache Maven 3.3.1 (cab6659f9874fa96462afef40fcf6bc033d58c1c; 2015-03-13T13:10:2\r\n    7-07:00)\r\n    Maven home: C:\\Program Files\\Apache\\apache-maven-3.3.1\\bin\\..\r\n    Java version: 1.7.0_75, vendor: Oracle Corporation\r\n    Java home: C:\\Program Files\\Java\\jdk1.7.0_75\\jre\r\n    Default locale: en_US, platform encoding: GBK\r\n    OS name: &quot;windows 8.1&quot;, version: &quot;6.3&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\r\n\r\nBut when I change the command path to D:, another disk in my machine, the output becomes:\r\n\r\n    D:\\&gt;mvn --version\r\n    Usage: java [-options] class [args...]\r\n               (to execute a class)\r\n       or  java [-options] -jar jarfile [args...]\r\n               (to execute a jar file)\r\n    where options include:\r\n        -d32          use a 32-bit data model if available\r\n        -d64          use a 64-bit data model if available\r\n        -server       to select the &quot;server&quot; VM\r\n        -hotspot      is a synonym for the &quot;server&quot; VM  [deprecated]\r\n                      The default VM is server.\r\n    \r\n        -cp &lt;class search path of directories and zip/jar files&gt;\r\n        -classpath &lt;class search path of directories and zip/jar files&gt;\r\n                      A ; separated list of directories, JAR archives,\r\n                      and ZIP archives to search for class files.\r\n        -D&lt;name&gt;=&lt;value&gt;\r\n                      set a system property\r\n        -verbose:[class|gc|jni]\r\n                      enable verbose output\r\n        -version      print product version and exit\r\n        -version:&lt;value&gt;\r\n                      require the specified version to run\r\n        -showversion  print product version and continue\r\n        -jre-restrict-search | -no-jre-restrict-search\r\n                      include/exclude user private JREs in the version search\r\n        -? -help      print this help message\r\n        -X            print help on non-standard options\r\n        -ea[:&lt;packagename&gt;...|:&lt;classname&gt;]\r\n        -enableassertions[:&lt;packagename&gt;...|:&lt;classname&gt;]\r\n                      enable assertions with specified granularity\r\n        -da[:&lt;packagename&gt;...|:&lt;classname&gt;]\r\n        -disableassertions[:&lt;packagename&gt;...|:&lt;classname&gt;]\r\n                      disable assertions with specified granularity\r\n        -esa | -enablesystemassertions\r\n                      enable system assertions\r\n        -dsa | -disablesystemassertions\r\n                      disable system assertions\r\n        -agentlib:&lt;libname&gt;[=&lt;options&gt;]\r\n                      load native agent library &lt;libname&gt;, e.g. -agentlib:hprof\r\n                      see also, -agentlib:jdwp=help and -agentlib:hprof=help\r\n        -agentpath:&lt;pathname&gt;[=&lt;options&gt;]\r\n                      load native agent library by full pathname\r\n        -javaagent:&lt;jarpath&gt;[=&lt;options&gt;]\r\n                      load Java programming language agent, see java.lang.instrument\r\n    \r\n        -splash:&lt;imagepath&gt;\r\n                      show splash screen with specified image\r\n    See http://www.oracle.com/technetwork/java/javase/documentation/index.html for m\r\n    ore details.\r\n\r\n    D:\\&gt;java -version\r\n    java version &quot;1.7.0_75&quot;\r\n    Java(TM) SE Runtime Environment (build 1.7.0_75-b13)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 24.75-b04, mixed mode)\r\n\r\nBesides, when I use Intellij to create maven project, just like quickstart, the similar error happened:\r\n\r\n    -Dmaven.multiModuleProjectDirectory system propery is not set. Check $M2_HOME environment variable and mvn script match.[ERROR] Maven execution terminated abnormally (exit code 1)\r\n\r\nI&#39;ve tried like mvn -version, mvn -d. But they still do not work.\r\nCould anyone please help? Thanks!!\r\n\r\n\r\n\r\nUpdated:\r\nNow my environment variables is set to:\r\n\r\n    JAVA_HOME=C:\\Program Files\\Java\\jdk1.7.0_75;\r\n    CLASSPATH=.;%JAVA_HOME%\\lib\\dt.jar;%JAVA_HOME%\\lib\\tools.jar;\r\n    M2_HOME=C:\\Program Files\\Apache\\apache-maven-3.3.1;\r\n    MAVEN_HOME=C:\\Program Files\\Apache\\apache-maven-3.3.1;\r\n    PATH=%JAVA_HOME%\\bin;%M2_HOME%\\bin;{others...}\r\n\r\nAnd the problem still exists.\r\n\r\nUpdated:\r\n\r\nWhenever I type after mvn command in D: path, the command line will just return java hint; it seems all the things after mvn are ignored.\r\nJust like this:\r\n\r\n    D:\\&gt;mvn fewadsfe\r\n    Usage: java [-options] class [args...]\r\n               (to execute a class)\r\n       or  java [-options] -jar jarfile [args...]\r\n               (to execute a jar file)\r\n    where options include:\r\n        -d32          use a 32-bit data model if available\r\n        -d64          use a 64-bit data model if available\r\n        -server       to select the &quot;server&quot; VM\r\n        -hotspot      is a synonym for the &quot;server&quot; VM  [deprecated]\r\n                      The default VM is server.\r\n    \r\n        -cp &lt;class search path of directories and zip/jar files&gt;\r\n        -classpath &lt;class search path of directories and zip/jar files&gt;\r\n                      A ; separated list of directories, JAR archives,\r\n                      and ZIP archives to search for class files.\r\n        -D&lt;name&gt;=&lt;value&gt;\r\n                      set a system property\r\n        -verbose:[class|gc|jni]\r\n                      enable verbose output\r\n        -version      print product version and exit\r\n        -version:&lt;value&gt;\r\n                      require the specified version to run\r\n        -showversion  print product version and continue\r\n        -jre-restrict-search | -no-jre-restrict-search\r\n                      include/exclude user private JREs in the version search\r\n        -? -help      print this help message\r\n        -X            print help on non-standard options\r\n        -ea[:&lt;packagename&gt;...|:&lt;classname&gt;]\r\n        -enableassertions[:&lt;packagename&gt;...|:&lt;classname&gt;]\r\n                      enable assertions with specified granularity\r\n        -da[:&lt;packagename&gt;...|:&lt;classname&gt;]\r\n        -disableassertions[:&lt;packagename&gt;...|:&lt;classname&gt;]\r\n                      disable assertions with specified granularity\r\n        -esa | -enablesystemassertions\r\n                      enable system assertions\r\n        -dsa | -disablesystemassertions\r\n                      disable system assertions\r\n        -agentlib:&lt;libname&gt;[=&lt;options&gt;]\r\n                      load native agent library &lt;libname&gt;, e.g. -agentlib:hprof\r\n                      see also, -agentlib:jdwp=help and -agentlib:hprof=help\r\n        -agentpath:&lt;pathname&gt;[=&lt;options&gt;]\r\n                      load native agent library by full pathname\r\n        -javaagent:&lt;jarpath&gt;[=&lt;options&gt;]\r\n                      load Java programming language agent, see java.lang.instrument\r\n    \r\n        -splash:&lt;imagepath&gt;\r\n                      show splash screen with specified image\r\n    See http://www.oracle.com/technetwork/java/javase/documentation/index.html for m\r\n    ore details.","title":"I entered mvn command in windows, but the command line return a java hint","body":"<p>I have maven 3.3.1 and java 1.7 installed on my machine, windows 8.1.</p>\n\n<pre><code>MAVEN_HOME=C:\\Program Files\\Apache\\apache-maven-3.3.1\nJAVA_HOME=C:\\Program Files\\Java\\jdk1.7.0_75\nPath=%JAVA_HOME%\\bin;%JAVA_HOME%\\jre\\bin;%MAVEN_HOME%\\bin;\n</code></pre>\n\n<p>I've tried to access mvn command line, under C:\\Users\\{myusername}>, it works well:</p>\n\n<pre><code>C:\\Users\\{myusername}&gt;java -version\njava version \"1.7.0_75\"\nJava(TM) SE Runtime Environment (build 1.7.0_75-b13)\nJava HotSpot(TM) 64-Bit Server VM (build 24.75-b04, mixed mode)\n\nC:\\Users\\{myusername}&gt;mvn -version\nApache Maven 3.3.1 (cab6659f9874fa96462afef40fcf6bc033d58c1c; 2015-03-13T13:10:2\n7-07:00)\nMaven home: C:\\Program Files\\Apache\\apache-maven-3.3.1\\bin\\..\nJava version: 1.7.0_75, vendor: Oracle Corporation\nJava home: C:\\Program Files\\Java\\jdk1.7.0_75\\jre\nDefault locale: en_US, platform encoding: GBK\nOS name: \"windows 8.1\", version: \"6.3\", arch: \"amd64\", family: \"windows\"\n</code></pre>\n\n<p>But when I change the command path to D:, another disk in my machine, the output becomes:</p>\n\n<pre><code>D:\\&gt;mvn --version\nUsage: java [-options] class [args...]\n           (to execute a class)\n   or  java [-options] -jar jarfile [args...]\n           (to execute a jar file)\nwhere options include:\n    -d32          use a 32-bit data model if available\n    -d64          use a 64-bit data model if available\n    -server       to select the \"server\" VM\n    -hotspot      is a synonym for the \"server\" VM  [deprecated]\n                  The default VM is server.\n\n    -cp &lt;class search path of directories and zip/jar files&gt;\n    -classpath &lt;class search path of directories and zip/jar files&gt;\n                  A ; separated list of directories, JAR archives,\n                  and ZIP archives to search for class files.\n    -D&lt;name&gt;=&lt;value&gt;\n                  set a system property\n    -verbose:[class|gc|jni]\n                  enable verbose output\n    -version      print product version and exit\n    -version:&lt;value&gt;\n                  require the specified version to run\n    -showversion  print product version and continue\n    -jre-restrict-search | -no-jre-restrict-search\n                  include/exclude user private JREs in the version search\n    -? -help      print this help message\n    -X            print help on non-standard options\n    -ea[:&lt;packagename&gt;...|:&lt;classname&gt;]\n    -enableassertions[:&lt;packagename&gt;...|:&lt;classname&gt;]\n                  enable assertions with specified granularity\n    -da[:&lt;packagename&gt;...|:&lt;classname&gt;]\n    -disableassertions[:&lt;packagename&gt;...|:&lt;classname&gt;]\n                  disable assertions with specified granularity\n    -esa | -enablesystemassertions\n                  enable system assertions\n    -dsa | -disablesystemassertions\n                  disable system assertions\n    -agentlib:&lt;libname&gt;[=&lt;options&gt;]\n                  load native agent library &lt;libname&gt;, e.g. -agentlib:hprof\n                  see also, -agentlib:jdwp=help and -agentlib:hprof=help\n    -agentpath:&lt;pathname&gt;[=&lt;options&gt;]\n                  load native agent library by full pathname\n    -javaagent:&lt;jarpath&gt;[=&lt;options&gt;]\n                  load Java programming language agent, see java.lang.instrument\n\n    -splash:&lt;imagepath&gt;\n                  show splash screen with specified image\nSee http://www.oracle.com/technetwork/java/javase/documentation/index.html for m\nore details.\n\nD:\\&gt;java -version\njava version \"1.7.0_75\"\nJava(TM) SE Runtime Environment (build 1.7.0_75-b13)\nJava HotSpot(TM) 64-Bit Server VM (build 24.75-b04, mixed mode)\n</code></pre>\n\n<p>Besides, when I use Intellij to create maven project, just like quickstart, the similar error happened:</p>\n\n<pre><code>-Dmaven.multiModuleProjectDirectory system propery is not set. Check $M2_HOME environment variable and mvn script match.[ERROR] Maven execution terminated abnormally (exit code 1)\n</code></pre>\n\n<p>I've tried like mvn -version, mvn -d. But they still do not work.\nCould anyone please help? Thanks!!</p>\n\n<p>Updated:\nNow my environment variables is set to:</p>\n\n<pre><code>JAVA_HOME=C:\\Program Files\\Java\\jdk1.7.0_75;\nCLASSPATH=.;%JAVA_HOME%\\lib\\dt.jar;%JAVA_HOME%\\lib\\tools.jar;\nM2_HOME=C:\\Program Files\\Apache\\apache-maven-3.3.1;\nMAVEN_HOME=C:\\Program Files\\Apache\\apache-maven-3.3.1;\nPATH=%JAVA_HOME%\\bin;%M2_HOME%\\bin;{others...}\n</code></pre>\n\n<p>And the problem still exists.</p>\n\n<p>Updated:</p>\n\n<p>Whenever I type after mvn command in D: path, the command line will just return java hint; it seems all the things after mvn are ignored.\nJust like this:</p>\n\n<pre><code>D:\\&gt;mvn fewadsfe\nUsage: java [-options] class [args...]\n           (to execute a class)\n   or  java [-options] -jar jarfile [args...]\n           (to execute a jar file)\nwhere options include:\n    -d32          use a 32-bit data model if available\n    -d64          use a 64-bit data model if available\n    -server       to select the \"server\" VM\n    -hotspot      is a synonym for the \"server\" VM  [deprecated]\n                  The default VM is server.\n\n    -cp &lt;class search path of directories and zip/jar files&gt;\n    -classpath &lt;class search path of directories and zip/jar files&gt;\n                  A ; separated list of directories, JAR archives,\n                  and ZIP archives to search for class files.\n    -D&lt;name&gt;=&lt;value&gt;\n                  set a system property\n    -verbose:[class|gc|jni]\n                  enable verbose output\n    -version      print product version and exit\n    -version:&lt;value&gt;\n                  require the specified version to run\n    -showversion  print product version and continue\n    -jre-restrict-search | -no-jre-restrict-search\n                  include/exclude user private JREs in the version search\n    -? -help      print this help message\n    -X            print help on non-standard options\n    -ea[:&lt;packagename&gt;...|:&lt;classname&gt;]\n    -enableassertions[:&lt;packagename&gt;...|:&lt;classname&gt;]\n                  enable assertions with specified granularity\n    -da[:&lt;packagename&gt;...|:&lt;classname&gt;]\n    -disableassertions[:&lt;packagename&gt;...|:&lt;classname&gt;]\n                  disable assertions with specified granularity\n    -esa | -enablesystemassertions\n                  enable system assertions\n    -dsa | -disablesystemassertions\n                  disable system assertions\n    -agentlib:&lt;libname&gt;[=&lt;options&gt;]\n                  load native agent library &lt;libname&gt;, e.g. -agentlib:hprof\n                  see also, -agentlib:jdwp=help and -agentlib:hprof=help\n    -agentpath:&lt;pathname&gt;[=&lt;options&gt;]\n                  load native agent library by full pathname\n    -javaagent:&lt;jarpath&gt;[=&lt;options&gt;]\n                  load Java programming language agent, see java.lang.instrument\n\n    -splash:&lt;imagepath&gt;\n                  show splash screen with specified image\nSee http://www.oracle.com/technetwork/java/javase/documentation/index.html for m\nore details.\n</code></pre>\n"},{"tags":["java","null","sailpoint"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1661416377,"post_id":73484316,"comment_id":129768588,"body_markdown":"have you debugged your code? What exactly is the problem you are having?","body":"have you debugged your code? What exactly is the problem you are having?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1661416407,"post_id":73484316,"comment_id":129768603,"body_markdown":"Please reformat your code, before posting it","body":"Please reformat your code, before posting it"}],"answers":[{"tags":[],"owner":{"account_id":26135982,"reputation":94,"user_id":19825967,"display_name":"hungtv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661432013,"creation_date":1661425911,"answer_id":73486478,"question_id":73484316,"body_markdown":"With your first code.\r\nIt was exception because `tarihEnd = null`, but you also use it that line: \r\n\r\n`LocalDate jobLeavingDay = LocalDate.parse(tarihEnd,sdf);`\r\n\r\nWith yout code second, please you provide value tarih, tarih2.\r\n\r\nBellow my code:\r\n\r\n     public static void main(String[] args) {\r\n        DateTimeFormatter sdf = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;);\r\n\r\n        String tarihEnd = &quot;26/08/2022&quot;;\r\n        String tarihStart = &quot;18/01/2023&quot;;\r\n        String stat = &quot;&quot;;\r\n        try {\r\n            if (tarihEnd != null || tarihStart != null) {\r\n                LocalDate jobLeavingDay = LocalDate.parse(tarihEnd, sdf);\r\n                LocalDate jobStartingDay = LocalDate.parse(tarihStart, sdf);\r\n                LocalDate nowDate = LocalDate.now();\r\n\r\n                if (jobStartingDay.isAfter(nowDate)) {\r\n                    stat = &quot;True&quot;;\r\n                } else if (jobStartingDay.compareTo(nowDate) &lt; 0)\r\n                    stat = &quot;False&quot;;\r\n                }\r\n        } catch (Exception e) {\r\n            tarihStart = null;\r\n            tarihEnd = null;\r\n        }\r\n        System.out.println(stat);\r\n    }\r\nBellow code in library:\r\n\r\n    public boolean isAfter(ChronoLocalDate other) {\r\n        if (other instanceof LocalDate) {\r\n            return this.compareTo0((LocalDate)other) &gt; 0;\r\n        } else {\r\n            return super.isAfter(other);\r\n        }\r\n    }\r\nand:\r\n\r\n    int compareTo0(LocalDate otherDate) {\r\n        int cmp = this.year - otherDate.year;\r\n        if (cmp == 0) {\r\n            cmp = this.month - otherDate.month;\r\n            if (cmp == 0) {\r\n                cmp = this.day - otherDate.day;\r\n            }\r\n        }\r\n\r\n        return cmp;\r\n    }\r\nAs you can see, we use LocalDate, so that method isAfter will return: `this.compareTo0((LocalDate)other) &gt; 0;` here `other = now()`\r\n\r\nMy code, `jobStartingDay = 18/01/2023`, then `cmp = 2023-2022=1`, therefore `isAfter = true`.\r\n18/01/2023 is the date after the today, `isAfter = true` is correct.\r\nEasier you should convert to long and work.","title":"Sailpoint java eclipse null value?","body":"<p>With your first code.\nIt was exception because <code>tarihEnd = null</code>, but you also use it that line:</p>\n<p><code>LocalDate jobLeavingDay = LocalDate.parse(tarihEnd,sdf);</code></p>\n<p>With yout code second, please you provide value tarih, tarih2.</p>\n<p>Bellow my code:</p>\n<pre><code> public static void main(String[] args) {\n    DateTimeFormatter sdf = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;);\n\n    String tarihEnd = &quot;26/08/2022&quot;;\n    String tarihStart = &quot;18/01/2023&quot;;\n    String stat = &quot;&quot;;\n    try {\n        if (tarihEnd != null || tarihStart != null) {\n            LocalDate jobLeavingDay = LocalDate.parse(tarihEnd, sdf);\n            LocalDate jobStartingDay = LocalDate.parse(tarihStart, sdf);\n            LocalDate nowDate = LocalDate.now();\n\n            if (jobStartingDay.isAfter(nowDate)) {\n                stat = &quot;True&quot;;\n            } else if (jobStartingDay.compareTo(nowDate) &lt; 0)\n                stat = &quot;False&quot;;\n            }\n    } catch (Exception e) {\n        tarihStart = null;\n        tarihEnd = null;\n    }\n    System.out.println(stat);\n}\n</code></pre>\n<p>Bellow code in library:</p>\n<pre><code>public boolean isAfter(ChronoLocalDate other) {\n    if (other instanceof LocalDate) {\n        return this.compareTo0((LocalDate)other) &gt; 0;\n    } else {\n        return super.isAfter(other);\n    }\n}\n</code></pre>\n<p>and:</p>\n<pre><code>int compareTo0(LocalDate otherDate) {\n    int cmp = this.year - otherDate.year;\n    if (cmp == 0) {\n        cmp = this.month - otherDate.month;\n        if (cmp == 0) {\n            cmp = this.day - otherDate.day;\n        }\n    }\n\n    return cmp;\n}\n</code></pre>\n<p>As you can see, we use LocalDate, so that method isAfter will return: <code>this.compareTo0((LocalDate)other) &gt; 0;</code> here <code>other = now()</code></p>\n<p>My code, <code>jobStartingDay = 18/01/2023</code>, then <code>cmp = 2023-2022=1</code>, therefore <code>isAfter = true</code>.\n18/01/2023 is the date after the today, <code>isAfter = true</code> is correct.\nEasier you should convert to long and work.</p>\n"}],"owner":{"account_id":26156395,"reputation":1,"user_id":19843597,"display_name":"Yusuf Akar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661432013,"creation_date":1661416314,"question_id":73484316,"body_markdown":"I have two string values in my benchmark test in Eclipse. \r\nProvided that one of them is empty. Users can be used to log in and log out.\r\n \r\nI want to assign a null value as not every User has a departure date.  \r\nI will use my engineering work in sail point software.  \r\n\r\n    \r\nECLIPSE\r\n    \r\n        \r\n    \t\r\n    \r\n    public static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t\tDateTimeFormatter sdf = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;);\r\n    \t\tString tarihEnd= null; \r\n    \t\tString tarihStart = &quot;18/01/2023&quot;;\r\n    \t    \r\n    \t   try {\r\n    \t\tif  (tarihEnd !=null || tarihStart!=null)\r\n    \t\t{\r\n    \t\t\t\r\n    \t\t\tLocalDate jobLeavingDay = LocalDate.parse(tarihEnd,sdf);\r\n    \t\t\tLocalDate jobStartingDay = LocalDate.parse(tarihStart,sdf);\r\n    \t\t\t\r\n    \t             LocalDateTime beginDate = jobLeavingDay.atTime(8, 00);\r\n    \t       \t\t LocalDateTime endDate = jobLeavingDay.atTime(16, 30);\r\n    \t             LocalDateTime nowDateTime = LocalDateTime.now();\r\n    \t       \t\t\r\n    \t        if(nowDateTime.compareTo(beginDate)==1 &amp;&amp; nowDateTime.compareTo(endDate)==-1) \r\n    \t       \t\t\t  System.out.println(&quot;False1&quot;);\r\n    \t        \r\n    \t         \telse if(jobLeavingDay.compareTo(nowDateTime.toLocalDate())&lt;0 &amp;&amp; jobStartingDay.compareTo(nowDateTime.toLocalDate())&lt;0) // jobleaving and jobstarting &lt; nowdatetime = true\r\n    \t       \t\t\tSystem.out.println(&quot;True1&quot;);\r\n    \r\n    \t       \t    else if (jobStartingDay.compareTo(nowDateTime.toLocalDate())&lt;0 &amp;&amp; jobLeavingDay.compareTo(nowDateTime.toLocalDate()) &gt;0) \r\n    \t       \t\t\tSystem.out.println(&quot;False2&quot;);\r\n    \t        \r\n    \t       \t\telse if (jobStartingDay.compareTo(nowDateTime.toLocalDate())&gt;0)\r\n    \t       \t\t\tSystem.out.println(&quot;True&quot;);\r\n    \t        \r\n    \t       \t\telse if (jobStartingDay.compareTo(nowDateTime.toLocalDate())&lt;0)\r\n    \t       \t\t\tSystem.out.println(&quot;False3&quot;); //jobleaving null, jobStarting_NowDate den once gelirse\r\n    \t\t}} catch (Exception e) {\r\n    \t        \r\n    \t          tarihStart=null;\r\n    \t           tarihEnd=null;\r\n    \t        \r\n    \t        }\t  \r\n    \t}\r\n    }\r\n    \r\nSAILPOINT \r\n    \r\nIdentification is done here. Extracts information from csv file. \r\n\r\nExample: The actual value of the user who will start work on 20/12/2022 should be true. \r\n\r\nBut even if I put the &gt; sign or give isAfter it gets false value every time.\r\n\r\nWhat is the point to be edited here? \r\n    \r\n    import java.time.LocalDate;\r\n    import java.time.LocalTime;\r\n    import java.time.LocalDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import sailpoint.object.*;\r\n    \r\n    DateTimeFormatter sdf= DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;);\r\n    \r\n    Attributes attrs = link.getAttributes();\r\n    String tarih = attrs.getString(&quot;JobLeaveDate&quot;);\r\n    String tarih2 = attrs.getString(&quot;JobStartDate&quot;);\r\n    \r\n    try{\r\n    if(tarih!=null || tarih2!=null {\r\n    \r\n    LocalDate jobLeavingDay = LocalDate.parse(tarih, sdf);\r\n    LocalDate jobStartingDay = LocalDate.parse(tarih2, sdf);\r\n    LocalDate nowDate = LocalDate.now();\r\n    \r\n    \t\t //LocalDateTime beginDate = jobLeavingDay.atTime(8, 00);\r\n    \t\t// LocalDateTime endDate = jobLeavingDay.atTime(16, 30);\r\n                    // LocalDateTime nowDateTime = LocalDateTime.now();\r\n    \r\n    if (jobStartingDay.compareTo(nowDate)&gt;0)\r\n    stat=&quot;True&quot;;\r\n    \r\n    else if (jobStartingDay.compareTo(nowDate)&lt;0)\r\n    stat=&quot;False&quot;;\r\n    } } catch (Exception e) {\r\n      \r\n               tarih=null;\r\n            }\t\r\n    return (stat)  \r\n    \r\n\r\n\r\n\r\n","title":"Sailpoint java eclipse null value?","body":"<p>I have two string values in my benchmark test in Eclipse.\nProvided that one of them is empty. Users can be used to log in and log out.</p>\n<p>I want to assign a null value as not every User has a departure date.<br />\nI will use my engineering work in sail point software.</p>\n<p>ECLIPSE</p>\n<pre><code>public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        \n        DateTimeFormatter sdf = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;);\n        String tarihEnd= null; \n        String tarihStart = &quot;18/01/2023&quot;;\n        \n       try {\n        if  (tarihEnd !=null || tarihStart!=null)\n        {\n            \n            LocalDate jobLeavingDay = LocalDate.parse(tarihEnd,sdf);\n            LocalDate jobStartingDay = LocalDate.parse(tarihStart,sdf);\n            \n                 LocalDateTime beginDate = jobLeavingDay.atTime(8, 00);\n                 LocalDateTime endDate = jobLeavingDay.atTime(16, 30);\n                 LocalDateTime nowDateTime = LocalDateTime.now();\n                \n            if(nowDateTime.compareTo(beginDate)==1 &amp;&amp; nowDateTime.compareTo(endDate)==-1) \n                      System.out.println(&quot;False1&quot;);\n            \n                else if(jobLeavingDay.compareTo(nowDateTime.toLocalDate())&lt;0 &amp;&amp; jobStartingDay.compareTo(nowDateTime.toLocalDate())&lt;0) // jobleaving and jobstarting &lt; nowdatetime = true\n                    System.out.println(&quot;True1&quot;);\n\n                else if (jobStartingDay.compareTo(nowDateTime.toLocalDate())&lt;0 &amp;&amp; jobLeavingDay.compareTo(nowDateTime.toLocalDate()) &gt;0) \n                    System.out.println(&quot;False2&quot;);\n            \n                else if (jobStartingDay.compareTo(nowDateTime.toLocalDate())&gt;0)\n                    System.out.println(&quot;True&quot;);\n            \n                else if (jobStartingDay.compareTo(nowDateTime.toLocalDate())&lt;0)\n                    System.out.println(&quot;False3&quot;); //jobleaving null, jobStarting_NowDate den once gelirse\n        }} catch (Exception e) {\n            \n              tarihStart=null;\n               tarihEnd=null;\n            \n            }     \n    }\n}\n</code></pre>\n<p>SAILPOINT</p>\n<p>Identification is done here. Extracts information from csv file.</p>\n<p>Example: The actual value of the user who will start work on 20/12/2022 should be true.</p>\n<p>But even if I put the &gt; sign or give isAfter it gets false value every time.</p>\n<p>What is the point to be edited here?</p>\n<pre><code>import java.time.LocalDate;\nimport java.time.LocalTime;\nimport java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\nimport sailpoint.object.*;\n\nDateTimeFormatter sdf= DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;);\n\nAttributes attrs = link.getAttributes();\nString tarih = attrs.getString(&quot;JobLeaveDate&quot;);\nString tarih2 = attrs.getString(&quot;JobStartDate&quot;);\n\ntry{\nif(tarih!=null || tarih2!=null {\n\nLocalDate jobLeavingDay = LocalDate.parse(tarih, sdf);\nLocalDate jobStartingDay = LocalDate.parse(tarih2, sdf);\nLocalDate nowDate = LocalDate.now();\n\n         //LocalDateTime beginDate = jobLeavingDay.atTime(8, 00);\n        // LocalDateTime endDate = jobLeavingDay.atTime(16, 30);\n                // LocalDateTime nowDateTime = LocalDateTime.now();\n\nif (jobStartingDay.compareTo(nowDate)&gt;0)\nstat=&quot;True&quot;;\n\nelse if (jobStartingDay.compareTo(nowDate)&lt;0)\nstat=&quot;False&quot;;\n} } catch (Exception e) {\n  \n           tarih=null;\n        }   \nreturn (stat)  \n</code></pre>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1661431969,"creation_date":1413145038,"answer_id":26329550,"question_id":26329339,"body_markdown":"Don&#39;t try to use regex for this kind of task in Java since here regex doesn&#39;t support recursion and you could end up with monster regex like shown in https://stackoverflow.com/questions/47162098/is-it-possible-to-match-nested-brackets-with-a-regex-without-using-recursion-or. \r\n\r\nSimplest solution would be writing your own parser which would count balance of `(` and `)` (lets call it nesting level) and will split only on `,` if nesting level would be `0`. \r\n\r\nCode for this task (which will also solve this problem in **one iteration**) could look like \r\n\r\n\tpublic static List&lt;String&gt; splitOnNotNestedCommas(String data){\r\n\t\tList&lt;String&gt; resultList = new ArrayList();\r\n\t\t\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\tint nestingLvl = 0;\r\n\t\tfor (char ch : data.toCharArray()){\r\n\t\t\tif (ch == &#39;(&#39;) nestingLvl++;\r\n\t\t\tif (ch == &#39;)&#39;) nestingLvl--;\r\n\t\t\tif (ch == &#39;,&#39; &amp; nestingLvl==0){\r\n\t\t\t\tresultList.add(sb.toString().trim());\r\n\t\t\t\tsb.delete(0, sb.length());\r\n\t\t\t}else{\r\n\t\t\t\tsb.append(ch);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (sb.length()&gt;0)\r\n\t\t\tresultList.add(sb.toString().trim());\r\n\t\t\r\n\t\treturn resultList;\r\n\t}\r\n\r\nUsage:\r\n\r\n\tfor (String s : splitOnNotNestedCommas(&quot;a, b, (c, d), e, f, (g, (h, i))&quot;)){\r\n\t\tSystem.out.println(s);\r\n\t}\r\n\r\nOutput:\r\n\r\n    a\r\n    b\r\n    (c, d)\r\n    e\r\n    f\r\n    (g, (h, i))","title":"java regexp for nested parenthesis","body":"<p>Don't try to use regex for this kind of task in Java since here regex doesn't support recursion and you could end up with monster regex like shown in <a href=\"https://stackoverflow.com/questions/47162098/is-it-possible-to-match-nested-brackets-with-a-regex-without-using-recursion-or\">Is it possible to match nested brackets with a regex without using recursion or balancing groups?</a>.</p>\n<p>Simplest solution would be writing your own parser which would count balance of <code>(</code> and <code>)</code> (lets call it nesting level) and will split only on <code>,</code> if nesting level would be <code>0</code>.</p>\n<p>Code for this task (which will also solve this problem in <strong>one iteration</strong>) could look like</p>\n<pre><code>public static List&lt;String&gt; splitOnNotNestedCommas(String data){\n    List&lt;String&gt; resultList = new ArrayList();\n    \n    StringBuilder sb = new StringBuilder();\n    int nestingLvl = 0;\n    for (char ch : data.toCharArray()){\n        if (ch == '(') nestingLvl++;\n        if (ch == ')') nestingLvl--;\n        if (ch == ',' &amp; nestingLvl==0){\n            resultList.add(sb.toString().trim());\n            sb.delete(0, sb.length());\n        }else{\n            sb.append(ch);\n        }\n    }\n    if (sb.length()&gt;0)\n        resultList.add(sb.toString().trim());\n    \n    return resultList;\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>for (String s : splitOnNotNestedCommas(&quot;a, b, (c, d), e, f, (g, (h, i))&quot;)){\n    System.out.println(s);\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>a\nb\n(c, d)\ne\nf\n(g, (h, i))\n</code></pre>\n"}],"owner":{"account_id":4480570,"reputation":351,"user_id":3644744,"accept_rate":100,"display_name":"Goose"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":26329550,"answer_count":1,"score":0,"last_activity_date":1661431969,"creation_date":1413143686,"question_id":26329339,"body_markdown":"Consider the following java String:\r\n\r\n    String input = &quot;a, b, (c, d), e, f, (g, (h, i))&quot;;\r\n\r\nCan you help me to find a java regexp to obtain its 6 parts:\r\n\r\n    a\r\n    b\r\n    (c,d)\r\n    e\r\n    f\r\n    (g, (h,i))\r\n\r\nThat were obtained from the original  input string based in the &quot;most external&quot; commas.\r\n","title":"java regexp for nested parenthesis","body":"<p>Consider the following java String:</p>\n\n<pre><code>String input = \"a, b, (c, d), e, f, (g, (h, i))\";\n</code></pre>\n\n<p>Can you help me to find a java regexp to obtain its 6 parts:</p>\n\n<pre><code>a\nb\n(c,d)\ne\nf\n(g, (h,i))\n</code></pre>\n\n<p>That were obtained from the original  input string based in the \"most external\" commas.</p>\n"},{"tags":["java","selenium","class"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1661416535,"post_id":73484361,"comment_id":129768662,"body_markdown":"Is the class/package you are trying to use on the path?","body":"Is the class/package you are trying to use on the path?"},{"owner":{"account_id":25822668,"reputation":41,"user_id":19561477,"display_name":"Zamir Sultan"},"score":0,"creation_date":1661416668,"post_id":73484361,"comment_id":129768710,"body_markdown":"no i am not using path simply i am writing import pom_class in task_testng import section","body":"no i am not using path simply i am writing import pom_class in task_testng import section"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1661416867,"post_id":73484361,"comment_id":129768806,"body_markdown":"I meant: is it on the classpath?","body":"I meant: is it on the classpath?"},{"owner":{"account_id":25822668,"reputation":41,"user_id":19561477,"display_name":"Zamir Sultan"},"score":0,"creation_date":1661417214,"post_id":73484361,"comment_id":129768962,"body_markdown":"I am extremely sorry i am not getting your point","body":"I am extremely sorry i am not getting your point"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1661417266,"post_id":73484361,"comment_id":129768982,"body_markdown":"if a package is not on the classpath, it won&#39;t be found, and you can&#39;t use it. Make sure all the packages/classes you are trying to use are on the classpath","body":"if a package is not on the classpath, it won&#39;t be found, and you can&#39;t use it. Make sure all the packages/classes you are trying to use are on the classpath"},{"owner":{"account_id":25822668,"reputation":41,"user_id":19561477,"display_name":"Zamir Sultan"},"score":0,"creation_date":1661421244,"post_id":73484361,"comment_id":129770530,"body_markdown":"how to set package onto classpath , can you help with this","body":"how to set package onto classpath , can you help with this"},{"owner":{"account_id":22881048,"reputation":231,"user_id":17022635,"display_name":"siarhei987"},"score":0,"creation_date":1661519240,"post_id":73484361,"comment_id":129797827,"body_markdown":"Does  `Canel_popup.java` contains a package declaration `package pom_class;` at the top? And try to write a whole import `import pom_class.Canel_popup;` to check if the error will also be present.","body":"Does  <code>Canel_popup.java</code> contains a package declaration <code>package pom_class;</code> at the top? And try to write a whole import <code>import pom_class.Canel_popup;</code> to check if the error will also be present."}],"owner":{"account_id":25822668,"reputation":41,"user_id":19561477,"display_name":"Zamir Sultan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661431961,"creation_date":1661416494,"question_id":73484361,"body_markdown":"so here is my simple scenario , i want to import a class shown in the picture [![import canel_popup.java into Task_testng.jave][1]][1] \r\n\r\n\r\nwhen I write import and start writing class name it should popup with an exact class name and then it writes pages.pom.class, but that is not happening don&#39;t know what is the reason i am stuck on it for a while , i want to use a function written in canel_popup.java for that i want to import pom_class package \r\n\r\n[![enter image description here][2]][2]\r\n\r\nhere you can see that i am not able to import pom_class\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PGgEk.jpg\r\n  [2]: https://i.stack.imgur.com/hSi66.jpg","title":"Not able to import class in import section , class name is not being visible","body":"<p>so here is my simple scenario , i want to import a class shown in the picture <a href=\"https://i.stack.imgur.com/PGgEk.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PGgEk.jpg\" alt=\"import canel_popup.java into Task_testng.jave\" /></a></p>\n<p>when I write import and start writing class name it should popup with an exact class name and then it writes pages.pom.class, but that is not happening don't know what is the reason i am stuck on it for a while , i want to use a function written in canel_popup.java for that i want to import pom_class package</p>\n<p><a href=\"https://i.stack.imgur.com/hSi66.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hSi66.jpg\" alt=\"enter image description here\" /></a></p>\n<p>here you can see that i am not able to import pom_class</p>\n"},{"tags":["java","android","json","mvvm","retrofit"],"comments":[{"owner":{"account_id":25757421,"reputation":381,"user_id":19508866,"display_name":"Rohit Bhati"},"score":0,"creation_date":1660461070,"post_id":73349713,"comment_id":129535091,"body_markdown":"Please shere you retrofit interface and request code too.","body":"Please shere you retrofit interface and request code too."},{"owner":{"account_id":15067325,"reputation":37,"user_id":10873994,"display_name":"Mohammad khaled"},"score":0,"creation_date":1660634932,"post_id":73349713,"comment_id":129571823,"body_markdown":"@RohitBhati i added the interface as u suggested and do u mean by request code the adapter","body":"@RohitBhati i added the interface as u suggested and do u mean by request code the adapter"},{"owner":{"account_id":25757421,"reputation":381,"user_id":19508866,"display_name":"Rohit Bhati"},"score":0,"creation_date":1660650063,"post_id":73349713,"comment_id":129577018,"body_markdown":"No the code of sending retrofit request on you activity, where you use you interface methods and pass parameters","body":"No the code of sending retrofit request on you activity, where you use you interface methods and pass parameters"}],"answers":[{"tags":[],"owner":{"account_id":11037489,"reputation":129,"user_id":8106685,"display_name":"DarkDeveloper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660461829,"creation_date":1660461829,"answer_id":73349810,"question_id":73349713,"body_markdown":"you may implement pojo as this:\r\n\r\nthis class represent the top level object:\r\n\r\n```java\r\npublic class ResponseModel {\r\n   private Integer Status;\r\n   private String Message;\r\n   private DataModel Data;\r\n\r\n   // getters, setters, constructors\r\n}\r\n```\r\n\r\nthis class represents Data class:\r\n\r\n```java\r\n\r\npublic class DataModel {\r\n    private List&lt;ServiceTypeModel&gt; ServiceTypes;\r\n\r\n    // getters, setters, constructors\r\n}\r\n```\r\n\r\nand this class maps with ServiceTypes\r\n\r\n```java\r\npublic class ServiceTypeModel {\r\n    private Long Id;\r\n    private String ServiceTypeNameAr;\r\n    private String ServiceTypeNameEn;\r\n    private List&lt;MainServiceModel&gt; MainServices;\r\n\r\n    // getters, setters, constructors\r\n}\r\n```\r\n\r\nAnd finally this class maps with MainServices\r\n\r\n```java\r\npublic class MainServiceModel{\r\n    private Long Id;\r\n    private Long ServiceTypeId;\r\n    private String MainServiceNameAr;\r\n    private String MainServiceNameEn;\r\n    private List&lt;SubServiceModel&gt; SubServices;\r\n\r\n    // getters, setters, constructors\r\n\r\n}\r\n\r\n```\r\n\r\nfor `SubServices`, you have provided null so I imagine this is a List of `SubServiceModel`. You can implement this class like how I did for the others.\r\nAlso you can use some online tools to generate pojo of a json like [this][1]\r\n\r\n\r\n  [1]: https://www.javainuse.com/pojo","title":"How to implelement this on retrofit?","body":"<p>you may implement pojo as this:</p>\n<p>this class represent the top level object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ResponseModel {\n   private Integer Status;\n   private String Message;\n   private DataModel Data;\n\n   // getters, setters, constructors\n}\n</code></pre>\n<p>this class represents Data class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class DataModel {\n    private List&lt;ServiceTypeModel&gt; ServiceTypes;\n\n    // getters, setters, constructors\n}\n</code></pre>\n<p>and this class maps with ServiceTypes</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ServiceTypeModel {\n    private Long Id;\n    private String ServiceTypeNameAr;\n    private String ServiceTypeNameEn;\n    private List&lt;MainServiceModel&gt; MainServices;\n\n    // getters, setters, constructors\n}\n</code></pre>\n<p>And finally this class maps with MainServices</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainServiceModel{\n    private Long Id;\n    private Long ServiceTypeId;\n    private String MainServiceNameAr;\n    private String MainServiceNameEn;\n    private List&lt;SubServiceModel&gt; SubServices;\n\n    // getters, setters, constructors\n\n}\n\n</code></pre>\n<p>for <code>SubServices</code>, you have provided null so I imagine this is a List of <code>SubServiceModel</code>. You can implement this class like how I did for the others.\nAlso you can use some online tools to generate pojo of a json like <a href=\"https://www.javainuse.com/pojo\" rel=\"nofollow noreferrer\">this</a></p>\n"},{"tags":[],"owner":{"account_id":25757421,"reputation":381,"user_id":19508866,"display_name":"Rohit Bhati"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660462055,"creation_date":1660462055,"answer_id":73349833,"question_id":73349713,"body_markdown":"I think the problem is with your `ServiceTypeWebEntity` model where you set `data` as a `list` but it&#39;s an object which has `ServiceTypes` key with `List&lt;ServiceTypeModel&gt;` inside, so you can try this model.\r\n\r\n    public class ServiceTypeWebEntity {\r\n        @SerializedName(&quot;Status&quot;)\r\n        private int Status;\r\n        @SerializedName(&quot;Message&quot;)\r\n        private String Message;\r\n        @SerializedName(&quot;data&quot;)\r\n        public ServiceTypes ServicesType;\r\n    \r\n        public int getStatus() {\r\n            return Status;\r\n        }\r\n    \r\n        public void setStatus(int status) {\r\n            Status = status;\r\n        }\r\n    \r\n        public String getMessage() {\r\n            return Message;\r\n        }\r\n    \r\n        public void setMessage(String message) {\r\n            Message = message;\r\n        }\r\n    \r\n        public ServiceTypes getServicesType() {\r\n            return ServicesType;\r\n        }\r\n    \r\n        public void setServicesType(ServiceTypes servicesType) {\r\n            ServicesType = servicesType;\r\n        }\r\n    \r\n     public class ServiceTypes{\r\n           \r\n        @SerializedName(&quot;ServiceTypes&quot;)\r\n         public List&lt;ServiceTypeModel&gt; ServicesType;\r\n          \r\n       public List&lt;ServiceTypeModel&gt; getServicesType() {\r\n            return ServicesType;\r\n        }\r\n    \r\n        public void setServicesType(List&lt;ServiceTypeModel&gt; servicesType) {\r\n            ServicesType = servicesType;\r\n        }\r\n        }\r\n        \r\n        public class ServiceTypeModel {\r\n            @SerializedName(&quot;Id&quot;)\r\n            private int id;\r\n            @SerializedName(&quot;ServiceTypeNameAr&quot;)\r\n            private String serviceTypeNameAr;\r\n            @SerializedName(&quot;ServiceTypeNameEn&quot;)\r\n            private String serviceTypeNameEn;\r\n            @SerializedName(&quot;MainServices&quot;)\r\n            private List&lt;MainServicesModel&gt; mainServicesList;\r\n    \r\n            public List&lt;MainServicesModel&gt; getMainServicesList() {\r\n                return mainServicesList;\r\n            }\r\n    \r\n            public void setMainServicesList(List&lt;MainServicesModel&gt; mainServicesList) {\r\n                this.mainServicesList = mainServicesList;\r\n            }\r\n    \r\n            public int getId() {\r\n                return id;\r\n            }\r\n    \r\n            public void setId(int id) {\r\n                this.id = id;\r\n            }\r\n    \r\n            public String getServiceTypeNameAr() {\r\n                return serviceTypeNameAr;\r\n            }\r\n    \r\n            public void setServiceTypeNameAr(String serviceTypeNameAr) {\r\n                this.serviceTypeNameAr = serviceTypeNameAr;\r\n            }\r\n    \r\n            public String getServiceTypeNameEn() {\r\n                return serviceTypeNameEn;\r\n            }\r\n    \r\n            public void setServiceTypeNameEn(String serviceTypeNameEn) {\r\n                this.serviceTypeNameEn = serviceTypeNameEn;\r\n            }\r\n        }\r\n    }\r\n\r\nhope it helps.","title":"How to implelement this on retrofit?","body":"<p>I think the problem is with your <code>ServiceTypeWebEntity</code> model where you set <code>data</code> as a <code>list</code> but it's an object which has <code>ServiceTypes</code> key with <code>List&lt;ServiceTypeModel&gt;</code> inside, so you can try this model.</p>\n<pre><code>public class ServiceTypeWebEntity {\n    @SerializedName(&quot;Status&quot;)\n    private int Status;\n    @SerializedName(&quot;Message&quot;)\n    private String Message;\n    @SerializedName(&quot;data&quot;)\n    public ServiceTypes ServicesType;\n\n    public int getStatus() {\n        return Status;\n    }\n\n    public void setStatus(int status) {\n        Status = status;\n    }\n\n    public String getMessage() {\n        return Message;\n    }\n\n    public void setMessage(String message) {\n        Message = message;\n    }\n\n    public ServiceTypes getServicesType() {\n        return ServicesType;\n    }\n\n    public void setServicesType(ServiceTypes servicesType) {\n        ServicesType = servicesType;\n    }\n\n public class ServiceTypes{\n       \n    @SerializedName(&quot;ServiceTypes&quot;)\n     public List&lt;ServiceTypeModel&gt; ServicesType;\n      \n   public List&lt;ServiceTypeModel&gt; getServicesType() {\n        return ServicesType;\n    }\n\n    public void setServicesType(List&lt;ServiceTypeModel&gt; servicesType) {\n        ServicesType = servicesType;\n    }\n    }\n    \n    public class ServiceTypeModel {\n        @SerializedName(&quot;Id&quot;)\n        private int id;\n        @SerializedName(&quot;ServiceTypeNameAr&quot;)\n        private String serviceTypeNameAr;\n        @SerializedName(&quot;ServiceTypeNameEn&quot;)\n        private String serviceTypeNameEn;\n        @SerializedName(&quot;MainServices&quot;)\n        private List&lt;MainServicesModel&gt; mainServicesList;\n\n        public List&lt;MainServicesModel&gt; getMainServicesList() {\n            return mainServicesList;\n        }\n\n        public void setMainServicesList(List&lt;MainServicesModel&gt; mainServicesList) {\n            this.mainServicesList = mainServicesList;\n        }\n\n        public int getId() {\n            return id;\n        }\n\n        public void setId(int id) {\n            this.id = id;\n        }\n\n        public String getServiceTypeNameAr() {\n            return serviceTypeNameAr;\n        }\n\n        public void setServiceTypeNameAr(String serviceTypeNameAr) {\n            this.serviceTypeNameAr = serviceTypeNameAr;\n        }\n\n        public String getServiceTypeNameEn() {\n            return serviceTypeNameEn;\n        }\n\n        public void setServiceTypeNameEn(String serviceTypeNameEn) {\n            this.serviceTypeNameEn = serviceTypeNameEn;\n        }\n    }\n}\n</code></pre>\n<p>hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":15067325,"reputation":37,"user_id":10873994,"display_name":"Mohammad khaled"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661431853,"creation_date":1661431853,"answer_id":73487838,"question_id":73349713,"body_markdown":"I knew where i was wrong i was missing a small part  in my main for calling the list itself here is the main for anyone who needs it or anyone facing the same issue\r\n\r\n```         \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_categories);\r\n//\r\n        TestTxt = findViewById(R.id.TestTxt);\r\n        serviceTypeViewModel = ViewModelProviders.of(this).get(ServiceTypeViewModel.class);\r\n        serviceTypeViewModel.GetServiceType();\r\n        serviceTypeRecycler = findViewById(R.id.ServiceTypeRV);\r\n//        LinearLayoutManager layoutManager = new LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL, false);\r\n//        serviceTypeRecycler.setLayoutManager(layoutManager);\r\n//        serviceTypeRecycler.setItemAnimator(new DefaultItemAnimator());\r\n//        serviceTypeRecycler.setAdapter(serviceTypeAdapter);\r\n        FillListServices();\r\n\r\n    }\r\n\r\n    private void FillListServices() {\r\n        serviceTypeViewModel.ServiceTypeMutableLiveData.observe(this, new Observer&lt;ResponseModel&gt;() {\r\n//          Here i was trying to call the ServiceTypeModel instead\r\n            @Override\r\n            public void onChanged(ResponseModel responseModel) {\r\n                Utilities.dismissLoadingDialog();\r\n\r\n                serviceTypeModelArrayList = new ArrayList&lt;&gt;();\r\n                serviceTypeModelArrayList = responseModel.getData().getServiceTypeModels();\r\n                TestTxt.setText(responseModel.getData().getServiceTypeModels().get(0).getServiceTypeNameAr());\r\n                serviceTypeAdapter = new ServiceTypeAdapter(responseModel.getData().getServiceTypeModels());\r\n                LinearLayoutManager layoutManager = new LinearLayoutManager(MainCategories.this, LinearLayoutManager.HORIZONTAL, false);\r\n\r\n                serviceTypeRecycler.setLayoutManager(layoutManager);\r\n                serviceTypeRecycler.setAdapter(serviceTypeAdapter);\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n``` \r\n","title":"How to implelement this on retrofit?","body":"<p>I knew where i was wrong i was missing a small part  in my main for calling the list itself here is the main for anyone who needs it or anyone facing the same issue</p>\n<pre><code>    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_categories);\n//\n        TestTxt = findViewById(R.id.TestTxt);\n        serviceTypeViewModel = ViewModelProviders.of(this).get(ServiceTypeViewModel.class);\n        serviceTypeViewModel.GetServiceType();\n        serviceTypeRecycler = findViewById(R.id.ServiceTypeRV);\n//        LinearLayoutManager layoutManager = new LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL, false);\n//        serviceTypeRecycler.setLayoutManager(layoutManager);\n//        serviceTypeRecycler.setItemAnimator(new DefaultItemAnimator());\n//        serviceTypeRecycler.setAdapter(serviceTypeAdapter);\n        FillListServices();\n\n    }\n\n    private void FillListServices() {\n        serviceTypeViewModel.ServiceTypeMutableLiveData.observe(this, new Observer&lt;ResponseModel&gt;() {\n//          Here i was trying to call the ServiceTypeModel instead\n            @Override\n            public void onChanged(ResponseModel responseModel) {\n                Utilities.dismissLoadingDialog();\n\n                serviceTypeModelArrayList = new ArrayList&lt;&gt;();\n                serviceTypeModelArrayList = responseModel.getData().getServiceTypeModels();\n                TestTxt.setText(responseModel.getData().getServiceTypeModels().get(0).getServiceTypeNameAr());\n                serviceTypeAdapter = new ServiceTypeAdapter(responseModel.getData().getServiceTypeModels());\n                LinearLayoutManager layoutManager = new LinearLayoutManager(MainCategories.this, LinearLayoutManager.HORIZONTAL, false);\n\n                serviceTypeRecycler.setLayoutManager(layoutManager);\n                serviceTypeRecycler.setAdapter(serviceTypeAdapter);\n\n            }\n        });\n    }\n\n</code></pre>\n"}],"owner":{"account_id":15067325,"reputation":37,"user_id":10873994,"display_name":"Mohammad khaled"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73487838,"answer_count":3,"score":1,"last_activity_date":1661431853,"creation_date":1660460720,"question_id":73349713,"body_markdown":"Hello I am an android developer and i have never before faced this problem before &quot;Expected BEGIN_ARRAY but was BEGIN_OBJECT at line 1 column 2 path $&quot; i am suspecting the issue is in my model.\r\n\r\nthis is the postman response as is\r\n```\r\n{\r\n  &quot;Status&quot;: 200,\r\n  &quot;Message&quot;: &quot;OK&quot;,\r\n  &quot;Data&quot;: {\r\n    &quot;ServiceTypes&quot;: [\r\n      {\r\n        &quot;Id&quot;: 1,\r\n        &quot;ServiceTypeNameAr&quot;: &quot;صيانة&quot;,\r\n        &quot;ServiceTypeNameEn&quot;: &quot;Maintenance&quot;,\r\n        &quot;MainServices&quot;: [\r\n          {\r\n            &quot;Id&quot;: 11,\r\n            &quot;ServiceTypeId&quot;: 1,\r\n            &quot;MainServiceNameAr&quot;: &quot;تكييفات\\r\\n&quot;,\r\n            &quot;MainServiceNameEn&quot;: &quot;Air conditioning\\r\\n&quot;,\r\n            &quot;SubServices&quot;: null\r\n          },\r\n          {\r\n            &quot;Id&quot;: 12,\r\n            &quot;ServiceTypeId&quot;: 1,\r\n            &quot;MainServiceNameAr&quot;: &quot;كهرباء\\r\\n&quot;,\r\n            &quot;MainServiceNameEn&quot;: &quot;Electricity\\r\\n&quot;,\r\n            &quot;SubServices&quot;: null\r\n          },\r\n          {\r\n            &quot;Id&quot;: 14,\r\n            &quot;ServiceTypeId&quot;: 1,\r\n            &quot;MainServiceNameAr&quot;: &quot;سباكة&quot;,\r\n            &quot;MainServiceNameEn&quot;: &quot;Plumbing\\r\\n&quot;,\r\n            &quot;SubServices&quot;: null\r\n          },\r\n          {\r\n            &quot;Id&quot;: 15,\r\n            &quot;ServiceTypeId&quot;: 1,\r\n            &quot;MainServiceNameAr&quot;: &quot;اجهزة منزلية\\r\\n&quot;,\r\n            &quot;MainServiceNameEn&quot;: &quot;Home appliances\\r\\n&quot;,\r\n            &quot;SubServices&quot;: null\r\n          }\r\n          \r\n        ]\r\n     }\r\n      \r\n    ]\r\n    \r\n  }\r\n  \r\n}\r\n```\r\ni want to implement this as a pojo(model) in my code this is my try (Edited)\r\nResponseModel\r\n```\r\npublic class ResponseModel {\r\n    @SerializedName(&quot;Status&quot;)\r\n    public int Status;\r\n    @SerializedName(&quot;Message&quot;)\r\n    public String Message;\r\n    @SerializedName(&quot;Data&quot;)\r\n\r\n    public DataModel Data;\r\n\r\n    public int getStatus() {\r\n        return Status;\r\n    }\r\n\r\n    public void setStatus(int status) {\r\n        Status = status;\r\n    }\r\n\r\n    public String getMessage() {\r\n        return Message;\r\n    }\r\n\r\n    public void setMessage(String message) {\r\n        Message = message;\r\n    }\r\n\r\n    public DataModel getData() {\r\n        return Data;\r\n    }\r\n\r\n    public void setData(DataModel data) {\r\n        this.Data = data;\r\n    }\r\n\r\n}\r\n```\r\nDataModel\r\n```\r\npublic class DataModel {\r\n    @SerializedName(&quot;Country&quot;)\r\n    private List&lt;CountryModel&gt; countryModels;\r\n    @SerializedName(&quot;Users&quot;)\r\n    private List&lt;UserModel&gt; users;\r\n    @SerializedName(&quot;Cities&quot;)\r\n    private List&lt;CityItem&gt; cityItems;\r\n    @SerializedName(&quot;ServiceTypes&quot;)\r\n    private List&lt;ServiceTypeModel&gt; serviceTypeModels;\r\n    private Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String,\r\n                Object&gt;();\r\n\r\n    public List&lt;CityItem&gt; getCityItems() {\r\n        return cityItems;\r\n    }\r\n\r\n    public void setCityItems(List&lt;CityItem&gt; cityItems) {\r\n        this.cityItems = cityItems;\r\n    }\r\n\r\n    public List&lt;UserModel&gt; getUsers() {\r\n        return users;\r\n    }\r\n\r\n    public void setUsers(ArrayList&lt;UserModel&gt; users) {\r\n        this.users = users;\r\n    }\r\n\r\n    public List&lt;CountryModel&gt; getCountryModels() {\r\n        return countryModels;\r\n    }\r\n\r\n    public void setCountryModels(ArrayList&lt;CountryModel&gt; countryModels) {\r\n        this.countryModels = countryModels;\r\n    }\r\n    public List&lt;ServiceTypeModel&gt; getServiceTypeModels() {\r\n        return serviceTypeModels;\r\n    }\r\n\r\n    public void setServiceTypeModels(List&lt;ServiceTypeModel&gt; serviceTypeModels) {\r\n        this.serviceTypeModels = serviceTypeModels;\r\n    }\r\n\r\n    public void setCountryModels(List&lt;CountryModel&gt; countryModels) {\r\n        this.countryModels = countryModels;\r\n    }\r\n\r\n    public void setUsers(List&lt;UserModel&gt; users) {\r\n        this.users = users;\r\n    }\r\n\r\n    public Map&lt;String, Object&gt; getAdditionalProperties() {\r\n        return additionalProperties;\r\n    }\r\n\r\n    public void setAdditionalProperties(Map&lt;String, Object&gt; additionalProperties) {\r\n        this.additionalProperties = additionalProperties;\r\n    }\r\n}\r\n\r\n```\r\nServiceTypeModel\r\n```\r\npublic class ServiceTypeModel {\r\n    @SerializedName(&quot;Id&quot;)\r\n    private int id;\r\n    @SerializedName(&quot;ServiceTypeNameAr&quot;)\r\n    private String serviceTypeNameAr;\r\n    @SerializedName(&quot;ServiceTypeNameEn&quot;)\r\n    private String serviceTypeNameEn;\r\n    @SerializedName(&quot;MainServices&quot;)\r\n    private List&lt;MainServicesModel&gt; mainServicesList;\r\n\r\n    public List&lt;MainServicesModel&gt; getMainServicesList() {\r\n        return mainServicesList;\r\n    }\r\n\r\n    public void setMainServicesList(List&lt;MainServicesModel&gt; mainServicesList) {\r\n        this.mainServicesList = mainServicesList;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getServiceTypeNameAr() {\r\n        return serviceTypeNameAr;\r\n    }\r\n\r\n    public void setServiceTypeNameAr(String serviceTypeNameAr) {\r\n        this.serviceTypeNameAr = serviceTypeNameAr;\r\n    }\r\n\r\n    public String getServiceTypeNameEn() {\r\n        return serviceTypeNameEn;\r\n    }\r\n\r\n    public void setServiceTypeNameEn(String serviceTypeNameEn) {\r\n        this.serviceTypeNameEn = serviceTypeNameEn;\r\n    }\r\n}\r\n\r\n```\r\nThe Interface:\r\n\r\n```\r\npublic interface ServiceTypeInterface {\r\n\r\n    @GET(&quot;ServiceType&quot;)\r\n    public Call&lt;ResponseModel&gt; GetServicesType(@Header(&quot;authorization&quot;) String token);\r\n\r\n    @GET(&quot;ServiceType/{id}&quot;)\r\n    public Call&lt;ResponseModel&gt; GetServiceTypeById(@Path(&quot;id&quot;) int Id, @Header(&quot;authorization&quot;) String token);\r\n}\r\n```\r\nAdapter\r\n```\r\npublic class ServiceTypeAdapter extends RecyclerView.Adapter&lt;ServiceTypeAdapter.ServiceTypeHolder&gt; {\r\n    private List&lt;ResponseModel&gt; serviceTypeModels = new ArrayList&lt;&gt;();\r\n    private final ServiceTypeListener listener;\r\n    private Context context;\r\n\r\n    public ServiceTypeAdapter(ServiceTypeListener listener, Context context, List&lt;ResponseModel&gt; serviceTypeList) {\r\n        this.listener = listener;\r\n        this.context = context;\r\n        this.serviceTypeModels = serviceTypeList;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ServiceTypeHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View itemView = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_sub_service, parent, false);\r\n        return new ServiceTypeHolder(itemView);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ServiceTypeHolder holder, int position) {\r\n        final ResponseModel ServiceType = serviceTypeModels.get(position);\r\n        holder.TxtServiceTypeName.setText(ServiceType.getData().getServiceTypeModels().get(0).getServiceTypeNameEn());\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return serviceTypeModels.size();\r\n    }\r\n\r\n    public long getItemId(int position) {\r\n        return position;\r\n    }\r\n\r\n    public void  setList(List&lt;ResponseModel&gt; serviceTypeModels) {\r\n//        serviceTypeModels = new List&lt;ResponseModel&gt;(serviceTypeModels.get(0).getData().getServiceTypeModels().get(0).getServiceTypeNameEn());\r\n        this.serviceTypeModels = serviceTypeModels;\r\n        notifyDataSetChanged();\r\n    }\r\n\r\n    public class ServiceTypeHolder extends RecyclerView.ViewHolder {\r\n        TextView TxtServiceTypeName;\r\n        public ServiceTypeHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            TxtServiceTypeName = itemView.findViewById(R.id.ServiceTypeName);\r\n            itemView.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    listener.onServiceTypeSelected(serviceTypeModels.get(getAdapterPosition()));\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    public interface ServiceTypeListener {\r\n        void onServiceTypeSelected(ResponseModel serviceTypeModel);\r\n    }\r\n}\r\n\r\n```\r\ni tried to separate them as well into two models the status, message and data which calls for the services type which is in another model.\r\nif anything else or more clarification is needed pls don&#39;t hesitate to ask me for code or anything.\r\nany help is really appreciated.\r\nThanks in advance.","title":"How to implelement this on retrofit?","body":"<p>Hello I am an android developer and i have never before faced this problem before &quot;Expected BEGIN_ARRAY but was BEGIN_OBJECT at line 1 column 2 path $&quot; i am suspecting the issue is in my model.</p>\n<p>this is the postman response as is</p>\n<pre><code>{\n  &quot;Status&quot;: 200,\n  &quot;Message&quot;: &quot;OK&quot;,\n  &quot;Data&quot;: {\n    &quot;ServiceTypes&quot;: [\n      {\n        &quot;Id&quot;: 1,\n        &quot;ServiceTypeNameAr&quot;: &quot;صيانة&quot;,\n        &quot;ServiceTypeNameEn&quot;: &quot;Maintenance&quot;,\n        &quot;MainServices&quot;: [\n          {\n            &quot;Id&quot;: 11,\n            &quot;ServiceTypeId&quot;: 1,\n            &quot;MainServiceNameAr&quot;: &quot;تكييفات\\r\\n&quot;,\n            &quot;MainServiceNameEn&quot;: &quot;Air conditioning\\r\\n&quot;,\n            &quot;SubServices&quot;: null\n          },\n          {\n            &quot;Id&quot;: 12,\n            &quot;ServiceTypeId&quot;: 1,\n            &quot;MainServiceNameAr&quot;: &quot;كهرباء\\r\\n&quot;,\n            &quot;MainServiceNameEn&quot;: &quot;Electricity\\r\\n&quot;,\n            &quot;SubServices&quot;: null\n          },\n          {\n            &quot;Id&quot;: 14,\n            &quot;ServiceTypeId&quot;: 1,\n            &quot;MainServiceNameAr&quot;: &quot;سباكة&quot;,\n            &quot;MainServiceNameEn&quot;: &quot;Plumbing\\r\\n&quot;,\n            &quot;SubServices&quot;: null\n          },\n          {\n            &quot;Id&quot;: 15,\n            &quot;ServiceTypeId&quot;: 1,\n            &quot;MainServiceNameAr&quot;: &quot;اجهزة منزلية\\r\\n&quot;,\n            &quot;MainServiceNameEn&quot;: &quot;Home appliances\\r\\n&quot;,\n            &quot;SubServices&quot;: null\n          }\n          \n        ]\n     }\n      \n    ]\n    \n  }\n  \n}\n</code></pre>\n<p>i want to implement this as a pojo(model) in my code this is my try (Edited)\nResponseModel</p>\n<pre><code>public class ResponseModel {\n    @SerializedName(&quot;Status&quot;)\n    public int Status;\n    @SerializedName(&quot;Message&quot;)\n    public String Message;\n    @SerializedName(&quot;Data&quot;)\n\n    public DataModel Data;\n\n    public int getStatus() {\n        return Status;\n    }\n\n    public void setStatus(int status) {\n        Status = status;\n    }\n\n    public String getMessage() {\n        return Message;\n    }\n\n    public void setMessage(String message) {\n        Message = message;\n    }\n\n    public DataModel getData() {\n        return Data;\n    }\n\n    public void setData(DataModel data) {\n        this.Data = data;\n    }\n\n}\n</code></pre>\n<p>DataModel</p>\n<pre><code>public class DataModel {\n    @SerializedName(&quot;Country&quot;)\n    private List&lt;CountryModel&gt; countryModels;\n    @SerializedName(&quot;Users&quot;)\n    private List&lt;UserModel&gt; users;\n    @SerializedName(&quot;Cities&quot;)\n    private List&lt;CityItem&gt; cityItems;\n    @SerializedName(&quot;ServiceTypes&quot;)\n    private List&lt;ServiceTypeModel&gt; serviceTypeModels;\n    private Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String,\n                Object&gt;();\n\n    public List&lt;CityItem&gt; getCityItems() {\n        return cityItems;\n    }\n\n    public void setCityItems(List&lt;CityItem&gt; cityItems) {\n        this.cityItems = cityItems;\n    }\n\n    public List&lt;UserModel&gt; getUsers() {\n        return users;\n    }\n\n    public void setUsers(ArrayList&lt;UserModel&gt; users) {\n        this.users = users;\n    }\n\n    public List&lt;CountryModel&gt; getCountryModels() {\n        return countryModels;\n    }\n\n    public void setCountryModels(ArrayList&lt;CountryModel&gt; countryModels) {\n        this.countryModels = countryModels;\n    }\n    public List&lt;ServiceTypeModel&gt; getServiceTypeModels() {\n        return serviceTypeModels;\n    }\n\n    public void setServiceTypeModels(List&lt;ServiceTypeModel&gt; serviceTypeModels) {\n        this.serviceTypeModels = serviceTypeModels;\n    }\n\n    public void setCountryModels(List&lt;CountryModel&gt; countryModels) {\n        this.countryModels = countryModels;\n    }\n\n    public void setUsers(List&lt;UserModel&gt; users) {\n        this.users = users;\n    }\n\n    public Map&lt;String, Object&gt; getAdditionalProperties() {\n        return additionalProperties;\n    }\n\n    public void setAdditionalProperties(Map&lt;String, Object&gt; additionalProperties) {\n        this.additionalProperties = additionalProperties;\n    }\n}\n\n</code></pre>\n<p>ServiceTypeModel</p>\n<pre><code>public class ServiceTypeModel {\n    @SerializedName(&quot;Id&quot;)\n    private int id;\n    @SerializedName(&quot;ServiceTypeNameAr&quot;)\n    private String serviceTypeNameAr;\n    @SerializedName(&quot;ServiceTypeNameEn&quot;)\n    private String serviceTypeNameEn;\n    @SerializedName(&quot;MainServices&quot;)\n    private List&lt;MainServicesModel&gt; mainServicesList;\n\n    public List&lt;MainServicesModel&gt; getMainServicesList() {\n        return mainServicesList;\n    }\n\n    public void setMainServicesList(List&lt;MainServicesModel&gt; mainServicesList) {\n        this.mainServicesList = mainServicesList;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getServiceTypeNameAr() {\n        return serviceTypeNameAr;\n    }\n\n    public void setServiceTypeNameAr(String serviceTypeNameAr) {\n        this.serviceTypeNameAr = serviceTypeNameAr;\n    }\n\n    public String getServiceTypeNameEn() {\n        return serviceTypeNameEn;\n    }\n\n    public void setServiceTypeNameEn(String serviceTypeNameEn) {\n        this.serviceTypeNameEn = serviceTypeNameEn;\n    }\n}\n\n</code></pre>\n<p>The Interface:</p>\n<pre><code>public interface ServiceTypeInterface {\n\n    @GET(&quot;ServiceType&quot;)\n    public Call&lt;ResponseModel&gt; GetServicesType(@Header(&quot;authorization&quot;) String token);\n\n    @GET(&quot;ServiceType/{id}&quot;)\n    public Call&lt;ResponseModel&gt; GetServiceTypeById(@Path(&quot;id&quot;) int Id, @Header(&quot;authorization&quot;) String token);\n}\n</code></pre>\n<p>Adapter</p>\n<pre><code>public class ServiceTypeAdapter extends RecyclerView.Adapter&lt;ServiceTypeAdapter.ServiceTypeHolder&gt; {\n    private List&lt;ResponseModel&gt; serviceTypeModels = new ArrayList&lt;&gt;();\n    private final ServiceTypeListener listener;\n    private Context context;\n\n    public ServiceTypeAdapter(ServiceTypeListener listener, Context context, List&lt;ResponseModel&gt; serviceTypeList) {\n        this.listener = listener;\n        this.context = context;\n        this.serviceTypeModels = serviceTypeList;\n    }\n\n    @NonNull\n    @Override\n    public ServiceTypeHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View itemView = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_sub_service, parent, false);\n        return new ServiceTypeHolder(itemView);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ServiceTypeHolder holder, int position) {\n        final ResponseModel ServiceType = serviceTypeModels.get(position);\n        holder.TxtServiceTypeName.setText(ServiceType.getData().getServiceTypeModels().get(0).getServiceTypeNameEn());\n    }\n\n    @Override\n    public int getItemCount() {\n        return serviceTypeModels.size();\n    }\n\n    public long getItemId(int position) {\n        return position;\n    }\n\n    public void  setList(List&lt;ResponseModel&gt; serviceTypeModels) {\n//        serviceTypeModels = new List&lt;ResponseModel&gt;(serviceTypeModels.get(0).getData().getServiceTypeModels().get(0).getServiceTypeNameEn());\n        this.serviceTypeModels = serviceTypeModels;\n        notifyDataSetChanged();\n    }\n\n    public class ServiceTypeHolder extends RecyclerView.ViewHolder {\n        TextView TxtServiceTypeName;\n        public ServiceTypeHolder(@NonNull View itemView) {\n            super(itemView);\n            TxtServiceTypeName = itemView.findViewById(R.id.ServiceTypeName);\n            itemView.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    listener.onServiceTypeSelected(serviceTypeModels.get(getAdapterPosition()));\n                }\n            });\n        }\n    }\n\n    public interface ServiceTypeListener {\n        void onServiceTypeSelected(ResponseModel serviceTypeModel);\n    }\n}\n\n</code></pre>\n<p>i tried to separate them as well into two models the status, message and data which calls for the services type which is in another model.\nif anything else or more clarification is needed pls don't hesitate to ask me for code or anything.\nany help is really appreciated.\nThanks in advance.</p>\n"},{"tags":["java","xml","apache","svg","batik"],"answers":[{"tags":[],"owner":{"account_id":5140026,"reputation":24,"user_id":4304697,"display_name":"Ricardo Marcano"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1417200499,"creation_date":1417200499,"answer_id":27194472,"question_id":24901621,"body_markdown":"You should create a Runnable with all modifications to the SVG document and then use JSVGCanvas Update Manager&#39;s Runnable Queue to call this Runnable and all changes to take effect.\r\n\r\n    public Runnable r = new Runnable() {\r\n    \r\n            @Override\r\n            public void run() {\r\n                value = value + 10;\r\n                svgCanvas.evaluate(&quot;setlevel(&quot; + value + &quot;,&#39;Text&#39;)&quot;);\r\n            }\r\n        };\r\n\r\nAnd then,\r\n\r\n    svgCanvas.getUpdateManager().getUpdateRunnableQueue().invokeLater(r);\r\n\r\n\r\nEverything done outside this queue will not take effect inmediatly.\r\n","title":"How I can repaint a JSVGCanvas after editing the SVGDocument? using Apache Batik","body":"<p>You should create a Runnable with all modifications to the SVG document and then use JSVGCanvas Update Manager's Runnable Queue to call this Runnable and all changes to take effect.</p>\n\n<pre><code>public Runnable r = new Runnable() {\n\n        @Override\n        public void run() {\n            value = value + 10;\n            svgCanvas.evaluate(\"setlevel(\" + value + \",'Text')\");\n        }\n    };\n</code></pre>\n\n<p>And then,</p>\n\n<pre><code>svgCanvas.getUpdateManager().getUpdateRunnableQueue().invokeLater(r);\n</code></pre>\n\n<p>Everything done outside this queue will not take effect inmediatly.</p>\n"},{"tags":[],"owner":{"account_id":3239634,"reputation":20214,"user_id":2732991,"accept_rate":80,"display_name":"Halvor Holsten Strand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661431852,"creation_date":1661431852,"answer_id":73487836,"question_id":24901621,"body_markdown":"For your new `ellipse` to be rendered it has to be recognized by namespace. This does currently not happen due to you using:\r\n\r\n```\r\npublic void crearCirculo() {\r\n    Element newCircle = svgDoc.createElement(&quot;ellipse&quot;);\r\n    // ...\r\n}\r\n```\r\n\r\nIf you instead change to the following:\r\n\r\n\r\n\r\n```\r\npublic void crearCirculo() {\r\n    Element newCircle = svgDoc.createElementNS(&quot;http://www.w3.org/2000/svg&quot;, &quot;ellipse&quot;);\r\n    // ...\r\n}\r\n```\r\n\r\nYour new ellipsis is rendered with no further changes needed.","title":"How I can repaint a JSVGCanvas after editing the SVGDocument? using Apache Batik","body":"<p>For your new <code>ellipse</code> to be rendered it has to be recognized by namespace. This does currently not happen due to you using:</p>\n<pre><code>public void crearCirculo() {\n    Element newCircle = svgDoc.createElement(&quot;ellipse&quot;);\n    // ...\n}\n</code></pre>\n<p>If you instead change to the following:</p>\n<pre><code>public void crearCirculo() {\n    Element newCircle = svgDoc.createElementNS(&quot;http://www.w3.org/2000/svg&quot;, &quot;ellipse&quot;);\n    // ...\n}\n</code></pre>\n<p>Your new ellipsis is rendered with no further changes needed.</p>\n"}],"owner":{"account_id":3983247,"reputation":475,"user_id":3284646,"accept_rate":73,"display_name":"Raul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1151,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":27194472,"answer_count":2,"score":1,"last_activity_date":1661431852,"creation_date":1406088134,"question_id":24901621,"body_markdown":"I&#39;m trying to modify the SVG document in runtime and go repainting the modifications performed to the SVG:\r\n\r\nI need your help, i&#39;m trying with repaint method, but is not posible refresh the SVG Canvas.\r\n\r\nthis is the code:\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.event.MouseListener;\r\n    import java.awt.event.MouseMotionListener;\r\n    import java.awt.geom.*;\r\n    import java.io.StringReader;\r\n    \r\n    import javax.swing.*;\r\n    import org.apache.batik.dom.svg.SAXSVGDocumentFactory;\r\n    \r\n    import org.apache.batik.swing.*;\r\n    import org.apache.batik.svggen.*;\r\n    import org.apache.batik.dom.svg.SVGDOMImplementation;\r\n    import org.apache.batik.util.XMLResourceDescriptor;\r\n    \r\n    import org.w3c.dom.*;\r\n    import org.w3c.dom.svg.*;\r\n    \r\n    public class BatikViewGeneratedSVGDemo extends JFrame implements MouseListener, MouseMotionListener{\r\n        \r\n        String xmlSVG;\r\n        SVGDocument svgDoc;\r\n        Element svgRoot;\r\n        JSVGCanvas canvas;\r\n    \r\n        public BatikViewGeneratedSVGDemo() throws HeadlessException {\r\n            setLayout(new BorderLayout());\r\n            setPreferredSize(new Dimension(600, 600));\r\n            setMinimumSize(new Dimension(600, 600));\r\n            \r\n            String xmlSVG = &quot;&quot;\r\n                    + &quot;&lt;?xml version=\\&quot;1.0\\&quot; standalone=\\&quot;no\\&quot;?&gt;\\n&quot; +\r\n                    &quot;&lt;svg &quot;\r\n                    + &quot;contentScriptType=\\&quot;text/ecmascript\\&quot; &quot;\r\n                    + &quot;xmlns:xlink=\\&quot;http://www.w3.org/1999/xlink\\&quot; &quot;\r\n                    + &quot;xmlns=\\&quot;http://www.w3.org/2000/svg\\&quot;\\n&quot;\r\n                    + &quot;baseProfile=\\&quot;full\\&quot;\\n &quot;\r\n                    + &quot;zoomAndPan=\\&quot;magnify\\&quot; &quot;\r\n                    + &quot;contentStyleType=\\&quot;text/css\\&quot; &quot;\r\n                    + &quot;preserveAspectRatio=\\&quot;xMidYMid meet\\&quot; &quot;\r\n                    + &quot;width=\\&quot;600\\&quot;  &quot;\r\n                    + &quot;height=\\&quot;600.0px\\&quot;  &quot;\r\n                    + &quot;viewBox=&#39;0 0 716.3783 753.51105&#39;&quot;\r\n                    + &quot; version=\\&quot;1.0\\&quot;  &gt;\\n &quot;\r\n                    + &quot; &lt;ellipse id=&#39;circulo1&#39; fill-opacity=\\&quot;0.5\\&quot; fill=\\&quot;#ff0033\\&quot; rx=\\&quot;58.0\\&quot; cx=\\&quot;238.0\\&quot; ry=\\&quot;45.5\\&quot; cy=\\&quot;180.5\\&quot; stroke=\\&quot;#000000\\&quot;/&gt;\\n &quot;\r\n                    + &quot;&lt;/svg&gt;&quot;;\r\n                    \r\n            StringReader reader = new StringReader(xmlSVG);\r\n            String uri = &quot;nothing&quot;;\r\n            try {\r\n                String parser = XMLResourceDescriptor.getXMLParserClassName();\r\n                SAXSVGDocumentFactory f = new SAXSVGDocumentFactory(parser);\r\n                svgDoc = f.createSVGDocument(uri, reader);\r\n                Element circulo = svgDoc.getElementById(&quot;circulo1&quot;);\r\n                System.out.println(&quot;opacidad: &quot; + circulo.getAttribute(&quot;fill-opacity&quot;));\r\n                \r\n                svgRoot = svgDoc.getDocumentElement();\r\n                // Display the document.\r\n                canvas = new JSVGCanvas();\r\n                System.out.println(&quot;doc.width: &quot; + svgRoot.getAttribute(&quot;width&quot;));\r\n                getContentPane().add(canvas, BorderLayout.CENTER);\r\n                canvas.setSVGDocument(svgDoc);\r\n                \r\n                JButton btn = new JButton(&quot;Crear Circulo&quot;);\r\n                btn.addMouseListener(this);\r\n                getContentPane().add(btn, BorderLayout.SOUTH);\r\n                System.out.println(&quot;ancho: &quot; + canvas.getSize().width + &quot; alto: &quot; + canvas.getSize().height);\r\n            } catch (Exception ex) {\r\n                System.out.println(&quot;ocurri&#243; un error&quot;);\r\n            } finally {\r\n                reader.close();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void mouseClicked(MouseEvent e) {\r\n            crearCirculo();\r\n        }\r\n    \r\n        @Override\r\n        public void mousePressed(MouseEvent e) {}\r\n    \r\n        @Override\r\n        public void mouseReleased(MouseEvent e) {}\r\n    \r\n        @Override\r\n        public void mouseEntered(MouseEvent e) {}\r\n    \r\n        @Override\r\n        public void mouseExited(MouseEvent e) {}\r\n    \r\n        @Override\r\n        public void mouseDragged(MouseEvent e) {}\r\n    \r\n        @Override\r\n        public void mouseMoved(MouseEvent e) {}\r\n        \r\n        public void crearCirculo() {\r\n            Element newCircle = svgDoc.createElement(&quot;ellipse&quot;);\r\n            newCircle.setAttribute(&quot;id&quot;, &quot;circulo2&quot;);\r\n            newCircle.setAttribute(&quot;fill-opacity&quot;, &quot;0.5&quot;);\r\n            newCircle.setAttribute(&quot;fill&quot;, &quot;#990055&quot;);\r\n            newCircle.setAttribute(&quot;rx&quot;, &quot;100&quot;);\r\n            newCircle.setAttribute(&quot;cx&quot;, &quot;150&quot;);\r\n            newCircle.setAttribute(&quot;ry&quot;, &quot;100&quot;);\r\n            newCircle.setAttribute(&quot;cy&quot;, &quot;150&quot;);\r\n            newCircle.setAttribute(&quot;stroke&quot;, &quot;#990055&quot;);\r\n            System.out.println(&quot;XML: &quot;+svgDoc.getRootElement().getXMLbase());\r\n            \r\n            svgRoot.appendChild(newCircle);\r\n            canvas.setSVGDocument(svgDoc);\r\n            System.out.println(&quot;opacidad2: &quot; + svgDoc.getElementById(&quot;circulo2&quot;).getAttribute(&quot;fill-opacity&quot;));\r\n            System.out.println(&quot;entra&quot;);\r\n        }\r\n        \r\n        \r\n        public static void main(String[] args) {\r\n            javax.swing.SwingUtilities.invokeLater(new Runnable() {\r\n                public void run() {\r\n                    BatikViewGeneratedSVGDemo obj = new BatikViewGeneratedSVGDemo();\r\n                    obj.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                    obj.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n    }","title":"How I can repaint a JSVGCanvas after editing the SVGDocument? using Apache Batik","body":"<p>I'm trying to modify the SVG document in runtime and go repainting the modifications performed to the SVG:</p>\n\n<p>I need your help, i'm trying with repaint method, but is not posible refresh the SVG Canvas.</p>\n\n<p>this is the code:</p>\n\n<pre><code>import java.awt.*;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport java.awt.event.MouseMotionListener;\nimport java.awt.geom.*;\nimport java.io.StringReader;\n\nimport javax.swing.*;\nimport org.apache.batik.dom.svg.SAXSVGDocumentFactory;\n\nimport org.apache.batik.swing.*;\nimport org.apache.batik.svggen.*;\nimport org.apache.batik.dom.svg.SVGDOMImplementation;\nimport org.apache.batik.util.XMLResourceDescriptor;\n\nimport org.w3c.dom.*;\nimport org.w3c.dom.svg.*;\n\npublic class BatikViewGeneratedSVGDemo extends JFrame implements MouseListener, MouseMotionListener{\n\n    String xmlSVG;\n    SVGDocument svgDoc;\n    Element svgRoot;\n    JSVGCanvas canvas;\n\n    public BatikViewGeneratedSVGDemo() throws HeadlessException {\n        setLayout(new BorderLayout());\n        setPreferredSize(new Dimension(600, 600));\n        setMinimumSize(new Dimension(600, 600));\n\n        String xmlSVG = \"\"\n                + \"&lt;?xml version=\\\"1.0\\\" standalone=\\\"no\\\"?&gt;\\n\" +\n                \"&lt;svg \"\n                + \"contentScriptType=\\\"text/ecmascript\\\" \"\n                + \"xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" \"\n                + \"xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n\"\n                + \"baseProfile=\\\"full\\\"\\n \"\n                + \"zoomAndPan=\\\"magnify\\\" \"\n                + \"contentStyleType=\\\"text/css\\\" \"\n                + \"preserveAspectRatio=\\\"xMidYMid meet\\\" \"\n                + \"width=\\\"600\\\"  \"\n                + \"height=\\\"600.0px\\\"  \"\n                + \"viewBox='0 0 716.3783 753.51105'\"\n                + \" version=\\\"1.0\\\"  &gt;\\n \"\n                + \" &lt;ellipse id='circulo1' fill-opacity=\\\"0.5\\\" fill=\\\"#ff0033\\\" rx=\\\"58.0\\\" cx=\\\"238.0\\\" ry=\\\"45.5\\\" cy=\\\"180.5\\\" stroke=\\\"#000000\\\"/&gt;\\n \"\n                + \"&lt;/svg&gt;\";\n\n        StringReader reader = new StringReader(xmlSVG);\n        String uri = \"nothing\";\n        try {\n            String parser = XMLResourceDescriptor.getXMLParserClassName();\n            SAXSVGDocumentFactory f = new SAXSVGDocumentFactory(parser);\n            svgDoc = f.createSVGDocument(uri, reader);\n            Element circulo = svgDoc.getElementById(\"circulo1\");\n            System.out.println(\"opacidad: \" + circulo.getAttribute(\"fill-opacity\"));\n\n            svgRoot = svgDoc.getDocumentElement();\n            // Display the document.\n            canvas = new JSVGCanvas();\n            System.out.println(\"doc.width: \" + svgRoot.getAttribute(\"width\"));\n            getContentPane().add(canvas, BorderLayout.CENTER);\n            canvas.setSVGDocument(svgDoc);\n\n            JButton btn = new JButton(\"Crear Circulo\");\n            btn.addMouseListener(this);\n            getContentPane().add(btn, BorderLayout.SOUTH);\n            System.out.println(\"ancho: \" + canvas.getSize().width + \" alto: \" + canvas.getSize().height);\n        } catch (Exception ex) {\n            System.out.println(\"ocurrió un error\");\n        } finally {\n            reader.close();\n        }\n    }\n\n    @Override\n    public void mouseClicked(MouseEvent e) {\n        crearCirculo();\n    }\n\n    @Override\n    public void mousePressed(MouseEvent e) {}\n\n    @Override\n    public void mouseReleased(MouseEvent e) {}\n\n    @Override\n    public void mouseEntered(MouseEvent e) {}\n\n    @Override\n    public void mouseExited(MouseEvent e) {}\n\n    @Override\n    public void mouseDragged(MouseEvent e) {}\n\n    @Override\n    public void mouseMoved(MouseEvent e) {}\n\n    public void crearCirculo() {\n        Element newCircle = svgDoc.createElement(\"ellipse\");\n        newCircle.setAttribute(\"id\", \"circulo2\");\n        newCircle.setAttribute(\"fill-opacity\", \"0.5\");\n        newCircle.setAttribute(\"fill\", \"#990055\");\n        newCircle.setAttribute(\"rx\", \"100\");\n        newCircle.setAttribute(\"cx\", \"150\");\n        newCircle.setAttribute(\"ry\", \"100\");\n        newCircle.setAttribute(\"cy\", \"150\");\n        newCircle.setAttribute(\"stroke\", \"#990055\");\n        System.out.println(\"XML: \"+svgDoc.getRootElement().getXMLbase());\n\n        svgRoot.appendChild(newCircle);\n        canvas.setSVGDocument(svgDoc);\n        System.out.println(\"opacidad2: \" + svgDoc.getElementById(\"circulo2\").getAttribute(\"fill-opacity\"));\n        System.out.println(\"entra\");\n    }\n\n\n    public static void main(String[] args) {\n        javax.swing.SwingUtilities.invokeLater(new Runnable() {\n            public void run() {\n                BatikViewGeneratedSVGDemo obj = new BatikViewGeneratedSVGDemo();\n                obj.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                obj.setVisible(true);\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","concurrency","java.util.concurrent"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1403539869,"post_id":24370313,"comment_id":37686700,"body_markdown":"I didn&#39;t understand your comment about speculative optimizer in the other answer. Can you explain? How does that re-arrange the statement in the `&amp;&amp;`? (Is that even what you&#39;re hinting at?)","body":"I didn&#39;t understand your comment about speculative optimizer in the other answer. Can you explain? How does that re-arrange the statement in the <code>&amp;&amp;</code>? (Is that even what you&#39;re hinting at?)"},{"owner":{"account_id":36208,"reputation":240316,"user_id":103154,"display_name":"axtavt"},"score":1,"creation_date":1403539932,"post_id":24370313,"comment_id":37686739,"body_markdown":"Does it really happen? I see that javadoc of `isDone()` doesn&#39;t guarantee `happens-before` for `isDone()`, but both `FutureTask` and Guava&#39;s `AbstractTask` are implemented in such a way that guarantees it.","body":"Does it really happen? I see that javadoc of <code>isDone()</code> doesn&#39;t guarantee <code>happens-before</code> for <code>isDone()</code>, but both <code>FutureTask</code> and Guava&#39;s <code>AbstractTask</code> are implemented in such a way that guarantees it."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1403540004,"post_id":24370313,"comment_id":37686779,"body_markdown":"Isn&#39;t the short circuiting of the `&amp;&amp;` operator sufficient to ensure that?","body":"Isn&#39;t the short circuiting of the <code>&amp;&amp;</code> operator sufficient to ensure that?"},{"owner":{"account_id":36208,"reputation":240316,"user_id":103154,"display_name":"axtavt"},"score":2,"creation_date":1403540176,"post_id":24370313,"comment_id":37686886,"body_markdown":"@DavidConrad: No, as long as happens-before relationship between `cancel()` and `isDone()` is not guaranteed. There is no such guarantee in javadoc.","body":"@DavidConrad: No, as long as happens-before relationship between <code>cancel()</code> and <code>isDone()</code> is not guaranteed. There is no such guarantee in javadoc."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1403540447,"post_id":24370313,"comment_id":37687027,"body_markdown":"@axtavt I believe that is what I was missing too, thanks.","body":"@axtavt I believe that is what I was missing too, thanks."},{"owner":{"account_id":3765082,"reputation":375,"user_id":3128804,"accept_rate":50,"display_name":"const.grigoryev"},"score":0,"creation_date":1403541160,"post_id":24370313,"comment_id":37687435,"body_markdown":"`future.isCancelled()` can be pre-evaluated speculativelly with result caching. Speculative optimizer can do such tricks. He thinks that `isCancelled()` and `isDone()` calling are commutative, because he sees that no one can detect an actual calling order.","body":"<code>future.isCancelled()</code> can be pre-evaluated speculativelly with result caching. Speculative optimizer can do such tricks. He thinks that <code>isCancelled()</code> and <code>isDone()</code> calling are commutative, because he sees that no one can detect an actual calling order."},{"owner":{"account_id":36208,"reputation":240316,"user_id":103154,"display_name":"axtavt"},"score":0,"creation_date":1403542070,"post_id":24370313,"comment_id":37687938,"body_markdown":"@const.grigoryev: I don&#39;t think so, because short-circuiting behavior of `&amp;&amp;` is strictly guaranteed by the JLS. The only reason why things may theoretically go wrong is memory visibility.","body":"@const.grigoryev: I don&#39;t think so, because short-circuiting behavior of <code>&amp;&amp;</code> is strictly guaranteed by the JLS. The only reason why things may theoretically go wrong is memory visibility."},{"owner":{"account_id":54362,"reputation":11938,"user_id":162634,"accept_rate":62,"display_name":"Victor Sorokin"},"score":1,"creation_date":1403547367,"post_id":24370313,"comment_id":37690797,"body_markdown":"Can you try google&#39;s `ListenableFuture` which allows to call a listener when `Future` is completed?","body":"Can you try google&#39;s <code>ListenableFuture</code> which allows to call a listener when <code>Future</code> is completed?"},{"owner":{"account_id":3765082,"reputation":375,"user_id":3128804,"accept_rate":50,"display_name":"const.grigoryev"},"score":0,"creation_date":1403589109,"post_id":24370313,"comment_id":37703064,"body_markdown":"@VictorSorokin `ListenableFuture` will launch listeners after task cancellation, as well as after normal termination","body":"@VictorSorokin <code>ListenableFuture</code> will launch listeners after task cancellation, as well as after normal termination"},{"owner":{"account_id":54362,"reputation":11938,"user_id":162634,"accept_rate":62,"display_name":"Victor Sorokin"},"score":1,"creation_date":1403623237,"post_id":24370313,"comment_id":37724227,"body_markdown":"you can place your check `isDone() &amp;&amp; !isCancelled()` inside a listener -- since `Future` is completed its&#39; status won&#39;t change and you get proper visibility inside listener, so result will be correct.","body":"you can place your check <code>isDone() &amp;&amp; !isCancelled()</code> inside a listener -- since <code>Future</code> is completed its&#39; status won&#39;t change and you get proper visibility inside listener, so result will be correct."},{"owner":{"account_id":7165000,"reputation":489,"user_id":5474413,"accept_rate":75,"display_name":"shivam"},"score":0,"creation_date":1631288509,"post_id":24370313,"comment_id":122190042,"body_markdown":"Hi @const-grigoryev, why Thread#1 will execute the &quot;future.isCancelled()&quot; first ?  it will execute future.isDone first right ?","body":"Hi @const-grigoryev, why Thread#1 will execute the &quot;future.isCancelled()&quot; first ?  it will execute future.isDone first right ?"}],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1403539317,"creation_date":1403539317,"answer_id":24370372,"question_id":24370313,"body_markdown":"You can try calling [`get(..)`][1] with an extremely short timeout. If it returns a value, it was completed. If you get a `TimeoutException`, it wasn&#39;t. If you get any other of the possible exceptions, it was either cancelled, failed, or was interrupted.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html#get%28long,%20java.util.concurrent.TimeUnit%29","title":"How to test if Future is complete without race?","body":"<p>You can try calling <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html#get%28long,%20java.util.concurrent.TimeUnit%29\" rel=\"nofollow\"><code>get(..)</code></a> with an extremely short timeout. If it returns a value, it was completed. If you get a <code>TimeoutException</code>, it wasn't. If you get any other of the possible exceptions, it was either cancelled, failed, or was interrupted.</p>\n"},{"tags":[],"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661431780,"creation_date":1661430224,"answer_id":73487454,"question_id":24370313,"body_markdown":"I believe that the given solution is safe and that the worry for concurrency bugs is unfounded.\r\n\r\nThese are my three arguments:\r\n\r\n1. Although not explicitly stated in the documentation `Future` I believe that it contrary to the spirit of the design of the class to allow such re-orderings as the one described in the question text.\r\n2. None of the most popular implementations, `FutureTask`, `CompletableFuture` and Guava&#39;s `AbstractFuture` have the risk this re-ordering.\r\n\r\n3. The [Javadoc of `Future`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html) states the following:\r\n\r\n    &gt; Memory consistency effects: Actions taken by the asynchronous computation\r\n    &gt; *happen-before* actions following the corresponding `Future.get()` in another thread.\r\n    \r\n    I believe that it is resonable to assume that this applies not only the actions taken be by the asynchronous computation, but also to actions such as state transitions. This happens-before relationship forbids the problematic re-ordering\r\n\r\nConclusion: I believe that it is a documentation bug in `Future` that this is not explicitly stated.\r\n\r\n### Reason why popular implementation do not risk this re-ordering\r\n\r\nThe given solution is this:\r\n\r\n```\r\nboolean isCompleted = future.isDone() &amp;&amp; !future.isCancelled();\r\n```\r\n\r\nIn both `FutureTask`, `CompletableFuture` and Guava&#39;s `AbstractFuture` these operations involve reading an internal volatile `state` field. This `state` field is also written in every state transition. This forbids re-ordering of those operations.\r\n\r\nThe [Java Memory Model FAQ](https://www.cs.umd.edu/~pugh/java/memoryModel/jsr-133-faq.html) states this:\r\n\r\n&gt; * Each action in a thread happens before every action in that thread that comes later in the program&#39;s order.\r\n&gt; * A write to a volatile field happens before every subsequent read of that same volatile.\r\n\r\nThis implies that if `isDone` sees the value of the state *Completed* then there is a happens-before relationship between the write action of the state and the read action in `isDone` and `isCancelled`, by the second cited bullet in JMM FAQ.\r\n\r\nThere is also  a happens-before relationship between the call to `isDone` and the call to `isCancelled`, by the first cited bullet in JMM FAQ.\r\n\r\nHence the re-ordering between step 1. and step 3. in the question text is not possible.\r\n\r\nThe question poster worries that values are &quot;pre-evaluated speculativelly with result caching&quot;. That kind of things can only be observable in the context of writes and reads from concurrent threads that are not ordered by `volatile`, `synchronized` or other mechanisms.\r\n","title":"How to test if Future is complete without race?","body":"<p>I believe that the given solution is safe and that the worry for concurrency bugs is unfounded.</p>\n<p>These are my three arguments:</p>\n<ol>\n<li><p>Although not explicitly stated in the documentation <code>Future</code> I believe that it contrary to the spirit of the design of the class to allow such re-orderings as the one described in the question text.</p>\n</li>\n<li><p>None of the most popular implementations, <code>FutureTask</code>, <code>CompletableFuture</code> and Guava's <code>AbstractFuture</code> have the risk this re-ordering.</p>\n</li>\n<li><p>The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html\" rel=\"nofollow noreferrer\">Javadoc of <code>Future</code></a> states the following:</p>\n<blockquote>\n<p>Memory consistency effects: Actions taken by the asynchronous computation\n<em>happen-before</em> actions following the corresponding <code>Future.get()</code> in another thread.</p>\n</blockquote>\n<p>I believe that it is resonable to assume that this applies not only the actions taken be by the asynchronous computation, but also to actions such as state transitions. This happens-before relationship forbids the problematic re-ordering</p>\n</li>\n</ol>\n<p>Conclusion: I believe that it is a documentation bug in <code>Future</code> that this is not explicitly stated.</p>\n<h3>Reason why popular implementation do not risk this re-ordering</h3>\n<p>The given solution is this:</p>\n<pre><code>boolean isCompleted = future.isDone() &amp;&amp; !future.isCancelled();\n</code></pre>\n<p>In both <code>FutureTask</code>, <code>CompletableFuture</code> and Guava's <code>AbstractFuture</code> these operations involve reading an internal volatile <code>state</code> field. This <code>state</code> field is also written in every state transition. This forbids re-ordering of those operations.</p>\n<p>The <a href=\"https://www.cs.umd.edu/%7Epugh/java/memoryModel/jsr-133-faq.html\" rel=\"nofollow noreferrer\">Java Memory Model FAQ</a> states this:</p>\n<blockquote>\n<ul>\n<li>Each action in a thread happens before every action in that thread that comes later in the program's order.</li>\n<li>A write to a volatile field happens before every subsequent read of that same volatile.</li>\n</ul>\n</blockquote>\n<p>This implies that if <code>isDone</code> sees the value of the state <em>Completed</em> then there is a happens-before relationship between the write action of the state and the read action in <code>isDone</code> and <code>isCancelled</code>, by the second cited bullet in JMM FAQ.</p>\n<p>There is also  a happens-before relationship between the call to <code>isDone</code> and the call to <code>isCancelled</code>, by the first cited bullet in JMM FAQ.</p>\n<p>Hence the re-ordering between step 1. and step 3. in the question text is not possible.</p>\n<p>The question poster worries that values are &quot;pre-evaluated speculativelly with result caching&quot;. That kind of things can only be observable in the context of writes and reads from concurrent threads that are not ordered by <code>volatile</code>, <code>synchronized</code> or other mechanisms.</p>\n"}],"owner":{"account_id":3765082,"reputation":375,"user_id":3128804,"accept_rate":50,"display_name":"const.grigoryev"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7419,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":2,"score":9,"last_activity_date":1661431780,"creation_date":1403539138,"question_id":24370313,"body_markdown":"I&#39;m tracking execution of a task with standard `Future` object. There are the following valid states of that task (as I see in Guava code of `AbstractFuture` class):\r\n\r\n - *Running*;\r\n - *Completing*;\r\n - *Completed* successfully or with exception;\r\n - *Cancelled*;\r\n - *Interrupted*.\r\n\r\n`Future.isDone()` returns `true` if and only if the state is *completed*, *cancelled* or *interrupted*. `Future.isCancelled()` returns `true` if and only if the state is either *interrupted* or *cancelled*.\r\n\r\nOk, but I need to check if the task is *completed*. There is an obvious way to do this:\r\n\r\n    boolean isCompleted = future.isDone() &amp;&amp; !future.isCancelled();\r\n\r\nUnfortunatelly, a nasty concurrency bug hides there.\r\n\r\n 1. Thread #1 invokes `future.isCancelled()`. The result is `false`, because the task is still in progress.\r\n 2. Thread #2 cancels the task calling `future.cancel()`.\r\n 3. Thread #1 invokes `future.isDone()`. The result is `true` now.\r\n 4. Evaluation of expression above yields `true`, and it&#39;s incorrect answer.\r\n\r\nHow to avoid this issue?","title":"How to test if Future is complete without race?","body":"<p>I'm tracking execution of a task with standard <code>Future</code> object. There are the following valid states of that task (as I see in Guava code of <code>AbstractFuture</code> class):</p>\n\n<ul>\n<li><em>Running</em>;</li>\n<li><em>Completing</em>;</li>\n<li><em>Completed</em> successfully or with exception;</li>\n<li><em>Cancelled</em>;</li>\n<li><em>Interrupted</em>.</li>\n</ul>\n\n<p><code>Future.isDone()</code> returns <code>true</code> if and only if the state is <em>completed</em>, <em>cancelled</em> or <em>interrupted</em>. <code>Future.isCancelled()</code> returns <code>true</code> if and only if the state is either <em>interrupted</em> or <em>cancelled</em>.</p>\n\n<p>Ok, but I need to check if the task is <em>completed</em>. There is an obvious way to do this:</p>\n\n<pre><code>boolean isCompleted = future.isDone() &amp;&amp; !future.isCancelled();\n</code></pre>\n\n<p>Unfortunatelly, a nasty concurrency bug hides there.</p>\n\n<ol>\n<li>Thread #1 invokes <code>future.isCancelled()</code>. The result is <code>false</code>, because the task is still in progress.</li>\n<li>Thread #2 cancels the task calling <code>future.cancel()</code>.</li>\n<li>Thread #1 invokes <code>future.isDone()</code>. The result is <code>true</code> now.</li>\n<li>Evaluation of expression above yields <code>true</code>, and it's incorrect answer.</li>\n</ol>\n\n<p>How to avoid this issue?</p>\n"},{"tags":["java","performance","logging","log4j2"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1661432112,"post_id":73487760,"comment_id":129774630,"body_markdown":"&quot;For similar stacktrace errors only log few sample stacktrace and not all the stack traces&quot; - that&#39;s probably hard to do since log4j would then have to keep track of all errors to see if the stack trace is similar. It&#39;s probably easier to just log the stack traces. \n\nMy approach would probably be to reduce the number of stack traces that need to be logged by fixing the unexpected exceptions and not logging stack traces for expected ones.","body":"&quot;For similar stacktrace errors only log few sample stacktrace and not all the stack traces&quot; - that&#39;s probably hard to do since log4j would then have to keep track of all errors to see if the stack trace is similar. It&#39;s probably easier to just log the stack traces.   My approach would probably be to reduce the number of stack traces that need to be logged by fixing the unexpected exceptions and not logging stack traces for expected ones."},{"owner":{"account_id":4821703,"reputation":5934,"user_id":3892213,"accept_rate":80,"display_name":"best wishes"},"score":0,"creation_date":1661435715,"post_id":73487760,"comment_id":129776128,"body_markdown":"since we are talking about higher qps service (for lower qps service logging exception should not be a big issue imo) we may even be fine doing random sampling. If can be handled at framework level(log4j2) without too much code changes.","body":"since we are talking about higher qps service (for lower qps service logging exception should not be a big issue imo) we may even be fine doing random sampling. If can be handled at framework level(log4j2) without too much code changes."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1661443275,"post_id":73487760,"comment_id":129779522,"body_markdown":"It is worth noting that exceptions are not supposed to be performant.  The very creation of an exception and its stack trace has a measurable effect on performance.  This is one reason developers are urged not to use exceptions for flow control (for example, one should check for a valid index with `if` rather than catching IndexOutOfBoundsException).","body":"It is worth noting that exceptions are not supposed to be performant.  The very creation of an exception and its stack trace has a measurable effect on performance.  This is one reason developers are urged not to use exceptions for flow control (for example, one should check for a valid index with <code>if</code> rather than catching IndexOutOfBoundsException)."}],"owner":{"account_id":4821703,"reputation":5934,"user_id":3892213,"accept_rate":80,"display_name":"best wishes"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661431547,"creation_date":1661431547,"question_id":73487760,"body_markdown":"We are using log4j2 for logging. After doing initial benchmark I have concluded that for same QPS, logging exception is 80 times slower than logging normal message. \r\n\r\nHere is a sample error log message.\r\n\r\n```\r\n2022-08-25 11:09:14,699 - [pool-2-thread-1][{id=eb9bcf4f-1dcc-4cd7-8588-fd7916d623b8, path=/hellowworld}] - [Test2] ERROR - error wile doing something important java.lang.RuntimeException: exception\r\n\tat Test2.recursiveCount(Test2.java:140) ~[logging.jar:?]\r\n\tat Test2.recursiveCount(Test2.java:142) ~[logging.jar:?]\r\n\tat Test2.recursiveCount(Test2.java:142) ~[logging.jar:?]\r\n\tat Test2.access$000(Test2.java:17) ~[logging.jar:?]\r\n\tat Test2$LoggerRunnable.run(Test2.java:75) ~[logging.jar:?]\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[?:1.8.0_202]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_202]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_202]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_202]\r\n\tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_202]\r\n```\r\n\r\nHere is a sample log message\r\n```\r\n2022-08-25 18:12:02,125 - [pool-2-thread-1][{id=90e8ebda-e02a-4c48-bc37-560190bda40a, path=/hellowworld}] - [Test2] INFO - adding log with number=ok uuid=1661431322125\r\n```\r\n\r\nIt could be attributed to \r\n\r\n&gt;Note: Logging exceptions and stack traces will create temporary objects with any layout. (However, Layouts will only create these temporary objects when an exception actually occurs.) We haven&#39;t figured out a way to log exceptions and stack traces without creating temporary objects. That is unfortunate, but you probably still want to log them when they happen.\r\n\r\n[source log4j2 documentation][1]\r\n\r\nAre there any config change that can be done to reduce the overhead of exception logging? Like \r\n\r\n 1. For similar stacktrace errors only log few sample stacktrace and not all the stack traces\r\n\r\n 2. limiting the deapth of stacktrace?\r\n\r\n\r\nanything else?\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/manual/garbagefree.html","title":"log4j2 Exception logging performance","body":"<p>We are using log4j2 for logging. After doing initial benchmark I have concluded that for same QPS, logging exception is 80 times slower than logging normal message.</p>\n<p>Here is a sample error log message.</p>\n<pre><code>2022-08-25 11:09:14,699 - [pool-2-thread-1][{id=eb9bcf4f-1dcc-4cd7-8588-fd7916d623b8, path=/hellowworld}] - [Test2] ERROR - error wile doing something important java.lang.RuntimeException: exception\n    at Test2.recursiveCount(Test2.java:140) ~[logging.jar:?]\n    at Test2.recursiveCount(Test2.java:142) ~[logging.jar:?]\n    at Test2.recursiveCount(Test2.java:142) ~[logging.jar:?]\n    at Test2.access$000(Test2.java:17) ~[logging.jar:?]\n    at Test2$LoggerRunnable.run(Test2.java:75) ~[logging.jar:?]\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[?:1.8.0_202]\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_202]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_202]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_202]\n    at java.lang.Thread.run(Thread.java:748) [?:1.8.0_202]\n</code></pre>\n<p>Here is a sample log message</p>\n<pre><code>2022-08-25 18:12:02,125 - [pool-2-thread-1][{id=90e8ebda-e02a-4c48-bc37-560190bda40a, path=/hellowworld}] - [Test2] INFO - adding log with number=ok uuid=1661431322125\n</code></pre>\n<p>It could be attributed to</p>\n<blockquote>\n<p>Note: Logging exceptions and stack traces will create temporary objects with any layout. (However, Layouts will only create these temporary objects when an exception actually occurs.) We haven't figured out a way to log exceptions and stack traces without creating temporary objects. That is unfortunate, but you probably still want to log them when they happen.</p>\n</blockquote>\n<p><a href=\"https://logging.apache.org/log4j/2.x/manual/garbagefree.html\" rel=\"nofollow noreferrer\">source log4j2 documentation</a></p>\n<p>Are there any config change that can be done to reduce the overhead of exception logging? Like</p>\n<ol>\n<li><p>For similar stacktrace errors only log few sample stacktrace and not all the stack traces</p>\n</li>\n<li><p>limiting the deapth of stacktrace?</p>\n</li>\n</ol>\n<p>anything else?</p>\n"},{"tags":["java","spring-boot","api","rest","http-request-parameters"],"comments":[{"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"score":0,"creation_date":1598458541,"post_id":63601530,"comment_id":112467927,"body_markdown":"I don&#39;t know  why you want to do this, but this is not a good pattern. You can do if else inside method. Still you want to use, you can do `/users/copy/type/old` `/users/copy/type/new`.","body":"I don&#39;t know  why you want to do this, but this is not a good pattern. You can do if else inside method. Still you want to use, you can do <code>&#47;users&#47;copy&#47;type&#47;old</code> <code>&#47;users&#47;copy&#47;type&#47;new</code>."},{"owner":{"account_id":7966981,"reputation":6819,"user_id":6012939,"accept_rate":100,"display_name":"htshame"},"score":0,"creation_date":1598458654,"post_id":63601530,"comment_id":112467976,"body_markdown":"Yes, I understand that my question is peculiar. But adding suffixes is not an option for me","body":"Yes, I understand that my question is peculiar. But adding suffixes is not an option for me"},{"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"score":0,"creation_date":1598458779,"post_id":63601530,"comment_id":112468039,"body_markdown":"If you want fixed param then you use  suffix is better. Or use if-else inside method.","body":"If you want fixed param then you use  suffix is better. Or use if-else inside method."},{"owner":{"account_id":7966981,"reputation":6819,"user_id":6012939,"accept_rate":100,"display_name":"htshame"},"score":0,"creation_date":1598458909,"post_id":63601530,"comment_id":112468100,"body_markdown":"I can&#39;t add suffixes and I&#39;d very much like to avoid additional if-else constructions. Otherwise I wouldn&#39;t have had this question","body":"I can&#39;t add suffixes and I&#39;d very much like to avoid additional if-else constructions. Otherwise I wouldn&#39;t have had this question"},{"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"score":0,"creation_date":1598459112,"post_id":63601530,"comment_id":112468206,"body_markdown":"If you are taking request param and doing static behavior then there is no meaning to use request param actually. And if you want to filter User using userType  you can query  dynamically in the repository  (guessing data fetching)","body":"If you are taking request param and doing static behavior then there is no meaning to use request param actually. And if you want to filter User using userType  you can query  dynamically in the repository  (guessing data fetching)"},{"owner":{"account_id":7966981,"reputation":6819,"user_id":6012939,"accept_rate":100,"display_name":"htshame"},"score":0,"creation_date":1598459486,"post_id":63601530,"comment_id":112468368,"body_markdown":"It makes sense. But the question remains, at least out of the sporting interest","body":"It makes sense. But the question remains, at least out of the sporting interest"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":2,"creation_date":1598460353,"post_id":63601530,"comment_id":112468799,"body_markdown":"Did you _try_ this?","body":"Did you <i>try</i> this?"},{"owner":{"account_id":7966981,"reputation":6819,"user_id":6012939,"accept_rate":100,"display_name":"htshame"},"score":0,"creation_date":1598460933,"post_id":63601530,"comment_id":112469051,"body_markdown":"My goodness! I never thought something that trivial would work! Thanks!!!","body":"My goodness! I never thought something that trivial would work! Thanks!!!"}],"answers":[{"tags":[],"owner":{"account_id":7966981,"reputation":6819,"user_id":6012939,"accept_rate":100,"display_name":"htshame"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661431462,"creation_date":1598461184,"answer_id":63602382,"question_id":63601530,"body_markdown":"Actually, the answer was in the question.\r\n\r\nIn order to have different APIs endpoints with the same path and the same set of @RequestParam, but with different @RequestParam values you need to specify `params` attribute as such:\r\n\r\n    @GetMapping(value = &quot;/users/copy&quot;, params = {&quot;type=OLD&quot;})\r\n    public ResponseEntity&lt;UserDto&gt; copyUserWithTypeOld(@RequestParam UserTypeEnum type) {\r\n        ...\r\n    }  \r\n    \r\n    @GetMapping(value = &quot;/users/copy&quot;, params = {&quot;type=NEW&quot;})\r\n    public ResponseEntity&lt;UserDto&gt; copyUserWithTypeNew(@RequestParam UserTypeEnum type) {\r\n        ...\r\n    }","title":"Multiple endpoints with the same path but with different @RequestParam values","body":"<p>Actually, the answer was in the question.</p>\n<p>In order to have different APIs endpoints with the same path and the same set of @RequestParam, but with different @RequestParam values you need to specify <code>params</code> attribute as such:</p>\n<pre><code>@GetMapping(value = &quot;/users/copy&quot;, params = {&quot;type=OLD&quot;})\npublic ResponseEntity&lt;UserDto&gt; copyUserWithTypeOld(@RequestParam UserTypeEnum type) {\n    ...\n}  \n\n@GetMapping(value = &quot;/users/copy&quot;, params = {&quot;type=NEW&quot;})\npublic ResponseEntity&lt;UserDto&gt; copyUserWithTypeNew(@RequestParam UserTypeEnum type) {\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":7966981,"reputation":6819,"user_id":6012939,"accept_rate":100,"display_name":"htshame"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63602382,"answer_count":1,"score":1,"last_activity_date":1661431462,"creation_date":1598458127,"question_id":63601530,"body_markdown":"I have an API path `GET /users/copy`. I can have two APIs with the same `/users/type` path but with different sets of RequestParams using the following construction:\r\n\r\n    @GetMapping(value = &quot;/users/copy&quot;, params = {&quot;type&quot;})\r\n    public ResponseEntity&lt;UserDto&gt; copyUserWithType(@RequestParam UserTypeEnum type) {\r\n        ...\r\n    }\r\n\r\n    @GetMapping(value = &quot;/users/copy&quot;, params = {&quot;origin&quot;})\r\n    public ResponseEntity&lt;UserDto&gt; copyUserWithOrigin(@RequestParam UserOriginEnum origin) {\r\n        ...\r\n    }\r\n\r\n**BUT** in case I need to have different APIs for different user types (like for `type = OLD` and `type = NEW`), is there a way to still have the same `GET /users/copy` path for them?\r\n\r\nPerhaps something like:\r\n\r\n    @GetMapping(value = &quot;/users/copy&quot;, params = {&quot;type=OLD&quot;})\r\n    public ResponseEntity&lt;UserDto&gt; copyUserWithTypeOld(@RequestParam UserTypeEnum type) {\r\n        ...\r\n    }  \r\n\r\n    @GetMapping(value = &quot;/users/copy&quot;, params = {&quot;type=NEW&quot;})\r\n    public ResponseEntity&lt;UserDto&gt; copyUserWithTypeNew(@RequestParam UserTypeEnum type) {\r\n        ...\r\n    }\r\n\r\n\r\n","title":"Multiple endpoints with the same path but with different @RequestParam values","body":"<p>I have an API path <code>GET /users/copy</code>. I can have two APIs with the same <code>/users/type</code> path but with different sets of RequestParams using the following construction:</p>\n<pre><code>@GetMapping(value = &quot;/users/copy&quot;, params = {&quot;type&quot;})\npublic ResponseEntity&lt;UserDto&gt; copyUserWithType(@RequestParam UserTypeEnum type) {\n    ...\n}\n\n@GetMapping(value = &quot;/users/copy&quot;, params = {&quot;origin&quot;})\npublic ResponseEntity&lt;UserDto&gt; copyUserWithOrigin(@RequestParam UserOriginEnum origin) {\n    ...\n}\n</code></pre>\n<p><strong>BUT</strong> in case I need to have different APIs for different user types (like for <code>type = OLD</code> and <code>type = NEW</code>), is there a way to still have the same <code>GET /users/copy</code> path for them?</p>\n<p>Perhaps something like:</p>\n<pre><code>@GetMapping(value = &quot;/users/copy&quot;, params = {&quot;type=OLD&quot;})\npublic ResponseEntity&lt;UserDto&gt; copyUserWithTypeOld(@RequestParam UserTypeEnum type) {\n    ...\n}  \n\n@GetMapping(value = &quot;/users/copy&quot;, params = {&quot;type=NEW&quot;})\npublic ResponseEntity&lt;UserDto&gt; copyUserWithTypeNew(@RequestParam UserTypeEnum type) {\n    ...\n}\n</code></pre>\n"},{"tags":["java","openshift"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1642219313,"post_id":70718306,"comment_id":125019132,"body_markdown":"I found this example in the source code for the library: https://github.com/fabric8io/kubernetes-client/blob/02826311061aa15633f7482397ae3ce11e26d34e/kubernetes-examples/src/main/java/io/fabric8/kubernetes/examples/kubectl/equivalents/PortForwardEquivalent.java  Note that the `oc` command is an extension of `kubectl`. Similarly, `OpenShiftClient` extends `KubernetesClient`","body":"I found this example in the source code for the library: <a href=\"https://github.com/fabric8io/kubernetes-client/blob/02826311061aa15633f7482397ae3ce11e26d34e/kubernetes-examples/src/main/java/io/fabric8/kubernetes/examples/kubectl/equivalents/PortForwardEquivalent.java\" rel=\"nofollow noreferrer\">github.com/fabric8io/kubernetes-client/blob/&hellip;</a>  Note that the <code>oc</code> command is an extension of <code>kubectl</code>. Similarly, <code>OpenShiftClient</code> extends <code>KubernetesClient</code>"},{"owner":{"account_id":7142651,"reputation":4656,"user_id":5459640,"display_name":"Noam Yizraeli"},"score":0,"creation_date":1642271345,"post_id":70718306,"comment_id":125028554,"body_markdown":"why cant you use routes or published service?","body":"why cant you use routes or published service?"}],"answers":[{"tags":[],"owner":{"account_id":9650808,"reputation":51,"user_id":7162043,"display_name":"Mildju"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661431211,"creation_date":1661431211,"answer_id":73487677,"question_id":70718306,"body_markdown":"Something like this works like a charm :\r\n\r\n    OpenShiftClient client = new KubernetesClientBuilder().build().adapt(OpenShiftClient.class);\r\n\r\n    Resource&lt;Namespace&gt; openShiftProject = client.namespaces().withName(yourNamespace);\r\n\r\n    PodResource openShiftPod = client.pods().inNamespace(yourNamespace).withName(yourPodName);\r\n\r\n    openShiftPod.portForward(REMOTE_PORT_NBR, LOCAL_PORT_NBR);\r\n\r\nFeel free to add some checks (```isReady``` for instance) to secure your code.  And don&#39;t forget to close the client once its job is over.","title":"Port forward from OpenShift via Java","body":"<p>Something like this works like a charm :</p>\n<pre><code>OpenShiftClient client = new KubernetesClientBuilder().build().adapt(OpenShiftClient.class);\n\nResource&lt;Namespace&gt; openShiftProject = client.namespaces().withName(yourNamespace);\n\nPodResource openShiftPod = client.pods().inNamespace(yourNamespace).withName(yourPodName);\n\nopenShiftPod.portForward(REMOTE_PORT_NBR, LOCAL_PORT_NBR);\n</code></pre>\n<p>Feel free to add some checks (<code>isReady</code> for instance) to secure your code.  And don't forget to close the client once its job is over.</p>\n"}],"owner":{"account_id":14248845,"reputation":444,"user_id":11435260,"display_name":"AbrA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661431211,"creation_date":1642211421,"question_id":70718306,"body_markdown":"How to programmatically execute \r\n\r\n    oc port-forward &lt;podName&gt; &lt;podPort&gt;:&lt;localPort&gt; \r\n\r\nvia Java?  \r\nAt the moment I managed to get the list of pods under through the library io.fabric8:openshift-client. \r\n\r\n    OpenShiftClient config = new DefaultOpenShiftClient();\r\n    client.pods().inNamespace(&quot;namespace&quot;).list().getItems();\r\nBut in this library don&#39;t exist port-forwarding functionality and I didn&#39;t find any information on the net \r\n\r\n\r\n ","title":"Port forward from OpenShift via Java","body":"<p>How to programmatically execute</p>\n<pre><code>oc port-forward &lt;podName&gt; &lt;podPort&gt;:&lt;localPort&gt; \n</code></pre>\n<p>via Java?<br />\nAt the moment I managed to get the list of pods under through the library io.fabric8:openshift-client.</p>\n<pre><code>OpenShiftClient config = new DefaultOpenShiftClient();\nclient.pods().inNamespace(&quot;namespace&quot;).list().getItems();\n</code></pre>\n<p>But in this library don't exist port-forwarding functionality and I didn't find any information on the net</p>\n"},{"tags":["java","logging","error-handling"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1661431374,"post_id":73487675,"comment_id":129774330,"body_markdown":"this should be able to help you out. It&#39;ll require a change in your code, though: https://logback.qos.ch/manual/filters.html","body":"this should be able to help you out. It&#39;ll require a change in your code, though: <a href=\"https://logback.qos.ch/manual/filters.html\" rel=\"nofollow noreferrer\">logback.qos.ch/manual/filters.html</a>"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1661431469,"post_id":73487675,"comment_id":129774370,"body_markdown":"Why do you want to hide it in the first place? If it&#39;s not that important wouldn&#39;t it make more sence to turn that log into a warning or lower?","body":"Why do you want to hide it in the first place? If it&#39;s not that important wouldn&#39;t it make more sence to turn that log into a warning or lower?"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1661431708,"post_id":73487675,"comment_id":129774467,"body_markdown":"Another approach if the client supports it - inject a hook/interceptor in the client to not log a 404.","body":"Another approach if the client supports it - inject a hook/interceptor in the client to not log a 404."},{"owner":{"account_id":21875934,"reputation":47,"user_id":16164944,"display_name":"Anas Abdeljalil"},"score":0,"creation_date":1661431794,"post_id":73487675,"comment_id":129774506,"body_markdown":"@Thomas, We retrieving all the error logs and put them in something like Monitor System, in my case I want to hide this specific error message in xml file, And no I can not change it to another log type","body":"@Thomas, We retrieving all the error logs and put them in something like Monitor System, in my case I want to hide this specific error message in xml file, And no I can not change it to another log type"}],"owner":{"account_id":21875934,"reputation":47,"user_id":16164944,"display_name":"Anas Abdeljalil"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":435,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661431190,"creation_date":1661431190,"question_id":73487675,"body_markdown":"\r\n\r\nI want to hide an ERROR log in console, I tried to add this in logback.xml file : \r\n\r\n    &lt;logger name=&quot;package.client&quot; level=&quot;error&quot; additivity=&quot;false&quot; /&gt;\r\nbut this hide all the error logs from the class, so my problem is, How to hide ERROR log with a speceifc message? \r\n\r\nThe log I want to hide : \r\n\r\n    15:30:06.548 ERROR SearchClient - Status: 404 NOT_FOUND\t URL : http://localhost:8888/client/search/\r\nMessage: \r\n\r\n","title":"How to Ignore error log with specific message?","body":"<p>I want to hide an ERROR log in console, I tried to add this in logback.xml file :</p>\n<pre><code>&lt;logger name=&quot;package.client&quot; level=&quot;error&quot; additivity=&quot;false&quot; /&gt;\n</code></pre>\n<p>but this hide all the error logs from the class, so my problem is, How to hide ERROR log with a speceifc message?</p>\n<p>The log I want to hide :</p>\n<pre><code>15:30:06.548 ERROR SearchClient - Status: 404 NOT_FOUND  URL : http://localhost:8888/client/search/\n</code></pre>\n<p>Message:</p>\n"},{"tags":["java","list"],"comments":[{"owner":{"account_id":4000458,"reputation":17823,"user_id":3296621,"accept_rate":78,"display_name":"Smutje"},"score":0,"creation_date":1599467044,"post_id":63773855,"comment_id":112773248,"body_markdown":"Where&#39;s the definition of `Feed`? Also, you write a feed by putting it&#39;s details into multiple lines but on reading a feed you read them line by line. How should the feed details match that?","body":"Where&#39;s the definition of <code>Feed</code>? Also, you write a feed by putting it&#39;s details into multiple lines but on reading a feed you read them line by line. How should the feed details match that?"},{"owner":{"account_id":13240159,"reputation":13,"user_id":9560998,"display_name":"TotalNoob"},"score":0,"creation_date":1599467074,"post_id":63773855,"comment_id":112773257,"body_markdown":"Posted it now..","body":"Posted it now.."},{"owner":{"account_id":4000458,"reputation":17823,"user_id":3296621,"accept_rate":78,"display_name":"Smutje"},"score":0,"creation_date":1599467371,"post_id":63773855,"comment_id":112773384,"body_markdown":"I don&#39;t see where you populate the title and description of your feed on reading them from a file, so how should they match the values in your test?","body":"I don&#39;t see where you populate the title and description of your feed on reading them from a file, so how should they match the values in your test?"},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":1,"creation_date":1599467377,"post_id":63773855,"comment_id":112773389,"body_markdown":"`pw.println(feed.getTitle());` creates a new line in the file with just the title. So your Feed object is written using 5 lines in the file. And when you read with `s.nextLine()`, you will first get the title, then the description etc.","body":"<code>pw.println(feed.getTitle());</code> creates a new line in the file with just the title. So your Feed object is written using 5 lines in the file. And when you read with <code>s.nextLine()</code>, you will first get the title, then the description etc."},{"owner":{"account_id":13240159,"reputation":13,"user_id":9560998,"display_name":"TotalNoob"},"score":0,"creation_date":1599467666,"post_id":63773855,"comment_id":112773519,"body_markdown":"How do I get the exact same content?","body":"How do I get the exact same content?"},{"owner":{"account_id":12982621,"reputation":443,"user_id":9384494,"display_name":"Tushar Jajodia"},"score":0,"creation_date":1599467898,"post_id":63773855,"comment_id":112773594,"body_markdown":"You are writing at least 5 lines in file for a single Feed Object and \nYou are creating one object for each line from File. \nThis is the mismatch","body":"You are writing at least 5 lines in file for a single Feed Object and  You are creating one object for each line from File.  This is the mismatch"},{"owner":{"account_id":13240159,"reputation":13,"user_id":9560998,"display_name":"TotalNoob"},"score":0,"creation_date":1599469266,"post_id":63773855,"comment_id":112774264,"body_markdown":"How do I avoid the mismatch?","body":"How do I avoid the mismatch?"}],"answers":[{"tags":[],"owner":{"account_id":15168430,"reputation":173,"user_id":10945276,"display_name":"roediGERhard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599470556,"creation_date":1599470556,"answer_id":63774766,"question_id":63773855,"body_markdown":"First of all: try using a debugger to see what&#39;s going on, when you run into such issues. You can progress in your code line by line and also see variables and their contents.\r\nSecond: The Problem you are facing there, as Tushar mentionend, you are writing title, description,... in a new line each time. Then when you try to read the object, you read just one line and then try to make a new Feed object, where you populate the fields title, description... with &quot;&quot; in the constructor and url with the given parameter. So what happens with the next line in the File which holds the description? It will generate a Feed object with the description set as url. Of course JUnit says, it is not the same object.\r\nWhat you can do now:\r\n - separate the fields by a constant character and break line only for a new Feed object. Then parse the fields from the separate lines to populate your objects. For example: url;title;description;publishedDate;\\nurl2;title2;description2;publishedDate2;\\n whereas the \\n obviously marks the linebreak\r\n - create an XML instead and use a proper parsing library. There are already java built-in libs you can use. Here&#39;s a link to a tutorial of one of them: https://www.tutorialspoint.com/java_xml/java_dom_parse_document.htm","title":"How to save the content of a file in a list in Java?","body":"<p>First of all: try using a debugger to see what's going on, when you run into such issues. You can progress in your code line by line and also see variables and their contents.\nSecond: The Problem you are facing there, as Tushar mentionend, you are writing title, description,... in a new line each time. Then when you try to read the object, you read just one line and then try to make a new Feed object, where you populate the fields title, description... with &quot;&quot; in the constructor and url with the given parameter. So what happens with the next line in the File which holds the description? It will generate a Feed object with the description set as url. Of course JUnit says, it is not the same object.\nWhat you can do now:</p>\n<ul>\n<li>separate the fields by a constant character and break line only for a new Feed object. Then parse the fields from the separate lines to populate your objects. For example: url;title;description;publishedDate;\\nurl2;title2;description2;publishedDate2;\\n whereas the \\n obviously marks the linebreak</li>\n<li>create an XML instead and use a proper parsing library. There are already java built-in libs you can use. Here's a link to a tutorial of one of them: <a href=\"https://www.tutorialspoint.com/java_xml/java_dom_parse_document.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/java_xml/java_dom_parse_document.htm</a></li>\n</ul>\n"}],"owner":{"account_id":13240159,"reputation":13,"user_id":9560998,"display_name":"TotalNoob"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661430707,"creation_date":1599466908,"question_id":63773855,"body_markdown":"I got two methods: `saveSubscribedFeeds()` and `loadSubscribedFeeds()`. In the save-method I&#39;m saving some data to the file `feedsFile` in the parameter like this:\r\n\r\n\r\n    @Override\r\n\tpublic void saveSubscribedFeeds(List&lt;Feed&gt; feeds, File feedsFile) {\r\n\t\ttry {\r\n\t\t\tPrintWriter pw = new PrintWriter(new FileOutputStream(feedsFile));\r\n\t\t    for (Feed feed : feeds) {\r\n\t\t    \tpw.println(feed.getTitle());\r\n\t\t    \tpw.println(feed.getDescription());\r\n\t\t    \tpw.println(feed.getEntries());\r\n\t\t        pw.println(feed.getUrl());\r\n\t\t\t\tpw.println(feed.getPublishedDateString());\r\n\t\t    }\r\n\t\t    pw.close();\r\n\t     }\r\n\t\tcatch(IOException i) {\r\n\t        i.printStackTrace();\r\n\t     }\r\n\t}\r\n\r\nIn the load-method I&#39;m trying to load the exact same file `feedsFile` and return it as a List and for that I used a Scanner .\r\n\r\n    @Override\r\n\tpublic List&lt;Feed&gt; loadSubscribedFeeds(File feedsFile) throws FileNotFoundException {\t\r\n\t\t\r\n\t\tScanner s = new Scanner(feedsFile.getAbsoluteFile());\r\n\t\tList&lt;Feed&gt; listFeed = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\twhile (s.hasNextLine()) {\r\n\t\t\tlistFeed.add(new Feed(s.nextLine()));\r\n\t\t}\r\n\t\ts.close();\r\n\t\r\n\t\treturn listFeed;\r\n\t}\r\n\r\nHowever the JUnit-test is telling me that my list does&#39;t match the read object:\r\n\r\n    if (!feedsTemp.get(0).getUrl().equals(TEST_FEED_URL)\r\n\t\t\t\t|| !feedsTemp.get(0).getTitle().equals(TEST_FEED_TITLE)\r\n\t\t\t\t|| !feedsTemp.get(0).getDescription().equals(TEST_FEED_DESC)) {\r\n\t\t\tSystem.err.println(&quot;The data read from save-file &#39;&quot; + FEEDS_FILE.getName() + &quot;&#39; doesn&#39;t match the test input data!&quot;);\r\n\t\t\tfail(&quot;feed sample data (&quot; + FEEDS_FILE.getAbsolutePath() + &quot;) doesn&#39;t match read object!&quot;);\r\n\t\t}\r\n\r\nWhat am I doing wrong? Here&#39;s the Feed Class:\r\n\r\n    import java.io.ObjectOutputStream;\r\n    import java.io.Serializable;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import com.rometools.rome.feed.synd.SyndEntry;\r\n    import com.rometools.rome.feed.synd.SyndFeed;\r\n    \r\n    import de.uk.java.feader.utils.FeaderUtils;\r\n    \r\n    public class Feed implements Serializable, Comparable&lt;Feed&gt; {\r\n\t\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t\r\n\tprivate String url;\r\n\tprivate String title;\r\n\tprivate String description;\r\n\tprivate String publishedDateString;\r\n\tprivate List&lt;Entry&gt; entries;\r\n\t\r\n\tpublic Feed() {\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic Feed(String url) {\r\n\t\tsuper();\r\n\t\tthis.url = url;\r\n\t\tthis.entries = new ArrayList&lt;Entry&gt;();\r\n\t\tthis.title = &quot;&quot;;\r\n\t\tthis.description = &quot;&quot;;\r\n\t\tthis.publishedDateString = &quot;&quot;;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Creates an instance of a Feed and transfers the feed\r\n\t * data form a SyndFeed object to the new instance.\r\n\t * @param url The URL string of this feed\r\n\t * @param sourceFeed The SyndFeed object holding the data for this feed instance\r\n\t */\r\n\tpublic Feed(String url, SyndFeed sourceFeed) {\r\n\t\tthis(url);\r\n\t\tsetTitle(sourceFeed.getTitle());\r\n\t\tsetDescription(sourceFeed.getDescription());\r\n\t\t\r\n\t\tif (sourceFeed.getPublishedDate() != null)\r\n\t\t\tsetPublishedDateString(FeaderUtils.DATE_FORMAT.format(sourceFeed.getPublishedDate()));\r\n\r\n\t\t\r\n\t\tfor (SyndEntry entryTemp : sourceFeed.getEntries()) {\r\n\t\t\tEntry entry = new Entry(entryTemp.getTitle());\r\n\t\t\tentry.setContent(entryTemp.getDescription().getValue());\r\n\t\t\tentry.setLinkUrl(entryTemp.getLink());\r\n\t\t\tentry.setParentFeedTitle(getTitle());\r\n\t\t\tif (entryTemp.getPublishedDate() != null) {\r\n\t\t\t\tentry.setPublishedDateString(FeaderUtils.DATE_FORMAT.format(entryTemp.getPublishedDate()));\r\n\t\t\t}\r\n\t\t\taddEntry(entry);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic String getUrl() {\r\n\t\treturn url;\r\n\t}\r\n\t\r\n\tpublic void setTitle(String title) {\r\n\t\tthis.title = title != null ? title : &quot;&quot;;\r\n\t}\r\n\r\n\tpublic String getTitle() {\r\n\t\treturn title;\r\n\t}\r\n\r\n\tpublic void setDescription(String description) {\r\n\t\tthis.description = description != null ? description : &quot;&quot;;\r\n\t}\r\n\r\n\tpublic String getDescription() {\r\n\t\treturn description;\r\n\t}\r\n\r\n\tpublic void setPublishedDateString(String publishedDateString) {\r\n\t\tthis.publishedDateString = publishedDateString != null ? publishedDateString : &quot;&quot;;\r\n\t}\r\n\r\n\tpublic String getPublishedDateString() {\r\n\t\treturn publishedDateString;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Returns a short string containing a combination of meta data for this feed\r\n\t * @return info string\r\n\t */\r\n\tpublic String getShortFeedInfo() {\r\n\t\treturn getTitle() + &quot; [&quot; +\r\n\t\t\t\tgetEntriesCount() + &quot; entries]: &quot; + \r\n\t\t\t\tgetDescription() +\r\n\t\t\t\t(getPublishedDateString() != null &amp;&amp; getPublishedDateString().length() &gt; 0\r\n\t\t\t\t\t? &quot; (updated &quot; + getPublishedDateString() + &quot;)&quot;\r\n\t\t\t\t\t: &quot;&quot;);\r\n\t}\r\n\t\r\n\tpublic void addEntry(Entry entry) {\r\n\t\tif (entry != null) entries.add(entry);\r\n\t}\r\n\r\n\tpublic List&lt;Entry&gt; getEntries() {\r\n\t\treturn entries;\r\n\t}\r\n\t\r\n\tpublic int getEntriesCount() {\r\n\t\treturn entries.size();\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic boolean equals(Object obj) {\r\n\t\treturn (obj instanceof Feed)\r\n\t\t\t&amp;&amp; ((Feed)obj).getUrl().equals(url);\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic int hashCode() {\r\n\t\treturn url.hashCode();\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn getTitle();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int compareTo(Feed o) {\r\n\t\treturn getPublishedDateString().compareTo(o.getPublishedDateString());\r\n\t}\r\n\t\r\n}","title":"How to save the content of a file in a list in Java?","body":"<p>I got two methods: <code>saveSubscribedFeeds()</code> and <code>loadSubscribedFeeds()</code>. In the save-method I'm saving some data to the file <code>feedsFile</code> in the parameter like this:</p>\n<pre><code>@Override\npublic void saveSubscribedFeeds(List&lt;Feed&gt; feeds, File feedsFile) {\n    try {\n        PrintWriter pw = new PrintWriter(new FileOutputStream(feedsFile));\n        for (Feed feed : feeds) {\n            pw.println(feed.getTitle());\n            pw.println(feed.getDescription());\n            pw.println(feed.getEntries());\n            pw.println(feed.getUrl());\n            pw.println(feed.getPublishedDateString());\n        }\n        pw.close();\n     }\n    catch(IOException i) {\n        i.printStackTrace();\n     }\n}\n</code></pre>\n<p>In the load-method I'm trying to load the exact same file <code>feedsFile</code> and return it as a List and for that I used a Scanner .</p>\n<pre><code>@Override\npublic List&lt;Feed&gt; loadSubscribedFeeds(File feedsFile) throws FileNotFoundException {    \n    \n    Scanner s = new Scanner(feedsFile.getAbsoluteFile());\n    List&lt;Feed&gt; listFeed = new ArrayList&lt;&gt;();\n    \n    while (s.hasNextLine()) {\n        listFeed.add(new Feed(s.nextLine()));\n    }\n    s.close();\n\n    return listFeed;\n}\n</code></pre>\n<p>However the JUnit-test is telling me that my list does't match the read object:</p>\n<pre><code>if (!feedsTemp.get(0).getUrl().equals(TEST_FEED_URL)\n            || !feedsTemp.get(0).getTitle().equals(TEST_FEED_TITLE)\n            || !feedsTemp.get(0).getDescription().equals(TEST_FEED_DESC)) {\n        System.err.println(&quot;The data read from save-file '&quot; + FEEDS_FILE.getName() + &quot;' doesn't match the test input data!&quot;);\n        fail(&quot;feed sample data (&quot; + FEEDS_FILE.getAbsolutePath() + &quot;) doesn't match read object!&quot;);\n    }\n</code></pre>\n<p>What am I doing wrong? Here's the Feed Class:</p>\n<pre><code>import java.io.ObjectOutputStream;\nimport java.io.Serializable;\nimport java.util.ArrayList;\nimport java.util.List;\nimport com.rometools.rome.feed.synd.SyndEntry;\nimport com.rometools.rome.feed.synd.SyndFeed;\n\nimport de.uk.java.feader.utils.FeaderUtils;\n\npublic class Feed implements Serializable, Comparable&lt;Feed&gt; {\n\nprivate static final long serialVersionUID = 1L;\n\nprivate String url;\nprivate String title;\nprivate String description;\nprivate String publishedDateString;\nprivate List&lt;Entry&gt; entries;\n\npublic Feed() {\n    \n}\n\npublic Feed(String url) {\n    super();\n    this.url = url;\n    this.entries = new ArrayList&lt;Entry&gt;();\n    this.title = &quot;&quot;;\n    this.description = &quot;&quot;;\n    this.publishedDateString = &quot;&quot;;\n}\n\n/**\n * Creates an instance of a Feed and transfers the feed\n * data form a SyndFeed object to the new instance.\n * @param url The URL string of this feed\n * @param sourceFeed The SyndFeed object holding the data for this feed instance\n */\npublic Feed(String url, SyndFeed sourceFeed) {\n    this(url);\n    setTitle(sourceFeed.getTitle());\n    setDescription(sourceFeed.getDescription());\n    \n    if (sourceFeed.getPublishedDate() != null)\n        setPublishedDateString(FeaderUtils.DATE_FORMAT.format(sourceFeed.getPublishedDate()));\n\n    \n    for (SyndEntry entryTemp : sourceFeed.getEntries()) {\n        Entry entry = new Entry(entryTemp.getTitle());\n        entry.setContent(entryTemp.getDescription().getValue());\n        entry.setLinkUrl(entryTemp.getLink());\n        entry.setParentFeedTitle(getTitle());\n        if (entryTemp.getPublishedDate() != null) {\n            entry.setPublishedDateString(FeaderUtils.DATE_FORMAT.format(entryTemp.getPublishedDate()));\n        }\n        addEntry(entry);\n    }\n}\n\npublic String getUrl() {\n    return url;\n}\n\npublic void setTitle(String title) {\n    this.title = title != null ? title : &quot;&quot;;\n}\n\npublic String getTitle() {\n    return title;\n}\n\npublic void setDescription(String description) {\n    this.description = description != null ? description : &quot;&quot;;\n}\n\npublic String getDescription() {\n    return description;\n}\n\npublic void setPublishedDateString(String publishedDateString) {\n    this.publishedDateString = publishedDateString != null ? publishedDateString : &quot;&quot;;\n}\n\npublic String getPublishedDateString() {\n    return publishedDateString;\n}\n\n/**\n * Returns a short string containing a combination of meta data for this feed\n * @return info string\n */\npublic String getShortFeedInfo() {\n    return getTitle() + &quot; [&quot; +\n            getEntriesCount() + &quot; entries]: &quot; + \n            getDescription() +\n            (getPublishedDateString() != null &amp;&amp; getPublishedDateString().length() &gt; 0\n                ? &quot; (updated &quot; + getPublishedDateString() + &quot;)&quot;\n                : &quot;&quot;);\n}\n\npublic void addEntry(Entry entry) {\n    if (entry != null) entries.add(entry);\n}\n\npublic List&lt;Entry&gt; getEntries() {\n    return entries;\n}\n\npublic int getEntriesCount() {\n    return entries.size();\n}\n\n@Override\npublic boolean equals(Object obj) {\n    return (obj instanceof Feed)\n        &amp;&amp; ((Feed)obj).getUrl().equals(url);\n}\n\n@Override\npublic int hashCode() {\n    return url.hashCode();\n}\n\n@Override\npublic String toString() {\n    return getTitle();\n}\n\n@Override\npublic int compareTo(Feed o) {\n    return getPublishedDateString().compareTo(o.getPublishedDateString());\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","azure-functions"],"answers":[{"tags":[],"owner":{"account_id":481006,"reputation":31216,"user_id":894565,"accept_rate":76,"display_name":"Jatin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661430429,"creation_date":1661430429,"answer_id":73487510,"question_id":73406191,"body_markdown":"The dependency injection support for Java doesn&#39;t exist. \r\n\r\nThere is an open ticket for this: https://github.com/Azure/azure-functions-java-worker/issues/324","title":"Azure web function bootstrap dependency injection java","body":"<p>The dependency injection support for Java doesn't exist.</p>\n<p>There is an open ticket for this: <a href=\"https://github.com/Azure/azure-functions-java-worker/issues/324\" rel=\"nofollow noreferrer\">https://github.com/Azure/azure-functions-java-worker/issues/324</a></p>\n"}],"owner":{"account_id":3045921,"reputation":497,"user_id":2581581,"accept_rate":67,"display_name":"Lockless"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73487510,"answer_count":1,"score":0,"last_activity_date":1661430429,"creation_date":1660838324,"question_id":73406191,"body_markdown":"I&#39;m trying to add dependency injection to an Azure Web Function using Java. There are a good deal of examples to do so in C#. There is also a spring boot project that has got it to work. As far I can tell I should be able to add a bootstrap class with a main method to the local.settings.json file. Mine looks like this.\r\n```\r\n{\r\n  &quot;IsEncrypted&quot;: false,\r\n  &quot;Values&quot;: {\r\n    &quot;AzureWebJobsStorage&quot;: &quot;&quot;,\r\n    &quot;FUNCTIONS_WORKER_RUNTIME&quot;: &quot;java&quot;,\r\n    &quot;MAIN_CLASS&quot;:&quot;com.example.Startup&quot;\r\n  }\r\n}\r\n```\r\nThat class has a main method but it fails to run when I run the azure functions local runner (mvn azure-functions:run). I want to ensure any time the app is run that the class loads and runs before invoking the web endpoint. ","title":"Azure web function bootstrap dependency injection java","body":"<p>I'm trying to add dependency injection to an Azure Web Function using Java. There are a good deal of examples to do so in C#. There is also a spring boot project that has got it to work. As far I can tell I should be able to add a bootstrap class with a main method to the local.settings.json file. Mine looks like this.</p>\n<pre><code>{\n  &quot;IsEncrypted&quot;: false,\n  &quot;Values&quot;: {\n    &quot;AzureWebJobsStorage&quot;: &quot;&quot;,\n    &quot;FUNCTIONS_WORKER_RUNTIME&quot;: &quot;java&quot;,\n    &quot;MAIN_CLASS&quot;:&quot;com.example.Startup&quot;\n  }\n}\n</code></pre>\n<p>That class has a main method but it fails to run when I run the azure functions local runner (mvn azure-functions:run). I want to ensure any time the app is run that the class loads and runs before invoking the web endpoint.</p>\n"},{"tags":["java","string","palindrome"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1661429972,"post_id":73487293,"comment_id":129773734,"body_markdown":"each class can have or not have its own implementation of  `equals()` - documentation for the `String` one [here](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html#equals(java.lang.Object))","body":"each class can have or not have its own implementation of  <code>equals()</code> - documentation for the <code>String</code> one <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\">here</a>"}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299858,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1661429748,"creation_date":1661429748,"answer_id":73487345,"question_id":73487293,"body_markdown":"`equals` checks if two objects are logically equal.\r\n\r\nA palindrome is a string that can be read the same way from front to back and from back to front. `rev` is `str` reversed. If you reverse a string and it&#39;s equal to the original string, it means that reading it backwards is the same as reading it forwards, and it&#39;s a palindrom.","title":"What does equals() function does in java?","body":"<p><code>equals</code> checks if two objects are logically equal.</p>\n<p>A palindrome is a string that can be read the same way from front to back and from back to front. <code>rev</code> is <code>str</code> reversed. If you reverse a string and it's equal to the original string, it means that reading it backwards is the same as reading it forwards, and it's a palindrom.</p>\n"}],"owner":{"account_id":22101474,"reputation":11,"user_id":16357873,"display_name":"AKSHAY MOTE"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"accepted_answer_id":73487345,"answer_count":1,"score":-4,"last_activity_date":1661429963,"creation_date":1661429545,"question_id":73487293,"body_markdown":"    class ChkPalindrome\r\n    {\r\n       public static void main(String args[])\r\n       {\r\n          String str, rev = &quot;&quot;;\r\n          Scanner sc = new Scanner(System.in);\r\n     \r\n          System.out.println(&quot;Enter a string:&quot;);\r\n          str = sc.nextLine();\r\n     \r\n          int length = str.length();\r\n     \r\n          for ( int i = length - 1; i &gt;= 0; i-- )\r\n             rev = rev + str.charAt(i);\r\n     \r\n          if (str.equals(rev))\r\n             System.out.println(str+&quot; is a palindrome&quot;);\r\n          else\r\n             System.out.println(str+&quot; is not a palindrome&quot;);\r\n     \r\n       }\r\n    }\r\n\r\nThis a code for checking whether string is palindrome or not. In if statement, they have used .equals() function. In &quot;**str**&quot; variable I&#39;m having user input string and in &quot;**rev**&quot; variable I&#39;m having reverse string. So, if **.equals()** function checks whether string is similar or not, then how come string in &quot;**str**&quot; and string in &quot;**rev**&quot; will be same as &quot;**rev**&quot; has reversed string, and it will output that string is Palindrome?\r\n","title":"What does equals() function does in java?","body":"<pre><code>class ChkPalindrome\n{\n   public static void main(String args[])\n   {\n      String str, rev = &quot;&quot;;\n      Scanner sc = new Scanner(System.in);\n \n      System.out.println(&quot;Enter a string:&quot;);\n      str = sc.nextLine();\n \n      int length = str.length();\n \n      for ( int i = length - 1; i &gt;= 0; i-- )\n         rev = rev + str.charAt(i);\n \n      if (str.equals(rev))\n         System.out.println(str+&quot; is a palindrome&quot;);\n      else\n         System.out.println(str+&quot; is not a palindrome&quot;);\n \n   }\n}\n</code></pre>\n<p>This a code for checking whether string is palindrome or not. In if statement, they have used .equals() function. In &quot;<strong>str</strong>&quot; variable I'm having user input string and in &quot;<strong>rev</strong>&quot; variable I'm having reverse string. So, if <strong>.equals()</strong> function checks whether string is similar or not, then how come string in &quot;<strong>str</strong>&quot; and string in &quot;<strong>rev</strong>&quot; will be same as &quot;<strong>rev</strong>&quot; has reversed string, and it will output that string is Palindrome?</p>\n"},{"tags":["java","android","kotlin","android-intent","onclicklistener"],"answers":[{"tags":[],"owner":{"account_id":7698197,"reputation":101,"user_id":5831840,"display_name":"Based Gob"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661429359,"creation_date":1661429359,"answer_id":73487245,"question_id":73486924,"body_markdown":"Add an onClick function as an input parameter into the constructor of `MoviesRecyclerAdapter` like so:\r\n\r\n```\r\nclass MoviesRecyclerAdapter(private val onItemClick: (MovieAndDetailsUi) -&gt; Unit) : RecyclerView.Adapter&lt;MoviesRecyclerAdapter.RecyclerViewHolder&gt;() {\r\n     ...\r\n}\r\n```\r\n\r\nNow when you create your MoviesRecyclerAdapter instance, you can define a function to be ran whenever you click an item. You could do something like this:\r\n\r\n```\r\nval adapter = MoviesRecyclerAdapter({ item -&gt;\r\n     // On click functionality here\r\n     // For example, you could do myApiRequest(item.id)\r\n})\r\n```\r\n\r\nThen, in `onBindViewHolder()` in the adapter, you can change your click listener to call that function you set when constructing your adapter:\r\n\r\n```\r\nholder.itemView.setOnClickListener {\r\n    onItemClick(recyclerViewItem)\r\n}\r\n```","title":"How to get the id from the click item from the list?","body":"<p>Add an onClick function as an input parameter into the constructor of <code>MoviesRecyclerAdapter</code> like so:</p>\n<pre><code>class MoviesRecyclerAdapter(private val onItemClick: (MovieAndDetailsUi) -&gt; Unit) : RecyclerView.Adapter&lt;MoviesRecyclerAdapter.RecyclerViewHolder&gt;() {\n     ...\n}\n</code></pre>\n<p>Now when you create your MoviesRecyclerAdapter instance, you can define a function to be ran whenever you click an item. You could do something like this:</p>\n<pre><code>val adapter = MoviesRecyclerAdapter({ item -&gt;\n     // On click functionality here\n     // For example, you could do myApiRequest(item.id)\n})\n</code></pre>\n<p>Then, in <code>onBindViewHolder()</code> in the adapter, you can change your click listener to call that function you set when constructing your adapter:</p>\n<pre><code>holder.itemView.setOnClickListener {\n    onItemClick(recyclerViewItem)\n}\n</code></pre>\n"}],"owner":{"account_id":12027415,"reputation":97,"user_id":10560969,"display_name":"Alex20280"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661429359,"creation_date":1661428039,"question_id":73486924,"body_markdown":"I have a recycler view adapter and I pass there a list of movies. Each item has an id, poster_path, title, overview, genres, and runtime. I need to detect what item the user clicked on and pass its id, title, and other information in intent to another activity. \r\nIt sounds not very difficult but for some reason, it doesn&#39;t work for me. Could you please help me?\r\n \r\n``` \r\nclass MoviesRecyclerAdapter() : RecyclerView.Adapter&lt;MoviesRecyclerAdapter.RecyclerViewHolder&gt;() {\r\n\r\n    private var poster: String = &quot;https://image.tmdb.org/t/p/w500&quot;\r\n    private var mylist = mutableListOf&lt;MovieAndDetailsUi&gt;()\r\n\r\n\r\n    class RecyclerViewHolder(val binding: StarMovieRecycleItemBinding) :\r\n        RecyclerView.ViewHolder(binding.root) {\r\n\r\n    }\r\n\r\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerViewHolder {\r\n        val binding =\r\n            StarMovieRecycleItemBinding.inflate(LayoutInflater.from(parent.context), parent, false)\r\n        return RecyclerViewHolder(binding);\r\n    }\r\n\r\n    override fun onBindViewHolder(holder: RecyclerViewHolder, position: Int) {\r\n        val recyclerViewItem = mylist.get(position)\r\n\r\n        with(holder) {\r\n            with(mylist[position]) {\r\n\r\n                //Log.d(&quot;test&quot;, mylist.toString())\r\n\r\n                binding.posterIv.load(poster + recyclerViewItem.poster_path)\r\n\r\n                binding.movieTitleTv.text = recyclerViewItem.title\r\n\r\n                binding.genreTv.text = recyclerViewItem.genres.get(0).name\r\n\r\n                binding.movieDurationTv.text = convertTime(mylist.get(position).runtime)\r\n\r\n            }\r\n        }\r\n\r\n        holder.itemView.setOnClickListener {\r\n            val id: String = holder.itemView.id.toString()\r\n\r\n            val intent = Intent(holder.binding.root.context, DetailsActivity::class.java)\r\n            intent.putExtra(&quot;id&quot;, id)\r\n            //intent.flags = Intent.FLAG_ACTIVITY_NEW_TASK //TODO add movie id to extras\r\n            holder.binding.root.context.startActivity(intent)\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    override fun getItemCount(): Int = mylist.size\r\n\r\n    fun setSomeList(list: MutableList&lt;MovieAndDetailsUi&gt;) {\r\n        mylist.addAll(list)\r\n        notifyDataSetChanged()\r\n    }\r\n\r\n    fun convertTime(duration: Int):String{\r\n\r\n        val hours = duration/60\r\n        val min = duration % 60\r\n        return String.format(&quot;%2dhr %02dm&quot;, hours, min)\r\n    }\r\n\r\n} \r\n```","title":"How to get the id from the click item from the list?","body":"<p>I have a recycler view adapter and I pass there a list of movies. Each item has an id, poster_path, title, overview, genres, and runtime. I need to detect what item the user clicked on and pass its id, title, and other information in intent to another activity.\nIt sounds not very difficult but for some reason, it doesn't work for me. Could you please help me?</p>\n<pre><code>class MoviesRecyclerAdapter() : RecyclerView.Adapter&lt;MoviesRecyclerAdapter.RecyclerViewHolder&gt;() {\n\n    private var poster: String = &quot;https://image.tmdb.org/t/p/w500&quot;\n    private var mylist = mutableListOf&lt;MovieAndDetailsUi&gt;()\n\n\n    class RecyclerViewHolder(val binding: StarMovieRecycleItemBinding) :\n        RecyclerView.ViewHolder(binding.root) {\n\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerViewHolder {\n        val binding =\n            StarMovieRecycleItemBinding.inflate(LayoutInflater.from(parent.context), parent, false)\n        return RecyclerViewHolder(binding);\n    }\n\n    override fun onBindViewHolder(holder: RecyclerViewHolder, position: Int) {\n        val recyclerViewItem = mylist.get(position)\n\n        with(holder) {\n            with(mylist[position]) {\n\n                //Log.d(&quot;test&quot;, mylist.toString())\n\n                binding.posterIv.load(poster + recyclerViewItem.poster_path)\n\n                binding.movieTitleTv.text = recyclerViewItem.title\n\n                binding.genreTv.text = recyclerViewItem.genres.get(0).name\n\n                binding.movieDurationTv.text = convertTime(mylist.get(position).runtime)\n\n            }\n        }\n\n        holder.itemView.setOnClickListener {\n            val id: String = holder.itemView.id.toString()\n\n            val intent = Intent(holder.binding.root.context, DetailsActivity::class.java)\n            intent.putExtra(&quot;id&quot;, id)\n            //intent.flags = Intent.FLAG_ACTIVITY_NEW_TASK //TODO add movie id to extras\n            holder.binding.root.context.startActivity(intent)\n        }\n\n    }\n\n\n\n    override fun getItemCount(): Int = mylist.size\n\n    fun setSomeList(list: MutableList&lt;MovieAndDetailsUi&gt;) {\n        mylist.addAll(list)\n        notifyDataSetChanged()\n    }\n\n    fun convertTime(duration: Int):String{\n\n        val hours = duration/60\n        val min = duration % 60\n        return String.format(&quot;%2dhr %02dm&quot;, hours, min)\n    }\n\n} \n</code></pre>\n"},{"tags":["java","angular","spring-boot","frontend","backend"],"answers":[{"tags":[],"owner":{"account_id":357760,"reputation":1492,"user_id":2304483,"display_name":"user2304483"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661426910,"creation_date":1661426910,"answer_id":73486674,"question_id":73485058,"body_markdown":"You haven&#39;t post the controller code so I can&#39;t verify typo, but base on what I can\r\nsee here: usually when you not hitting the server the subscribe code is not\r\nworking properly.\r\n\r\nI suggest you remove all these comments and error handling for a start and put\r\nsomething like this:\r\n\r\n    this.employeeService.addNewEmployee(this.employee).subscribe((result) =&gt; {\r\n          console.log(result);\r\n        });\r\n\r\nAlso, have a look on the server log to find json parsing errors, this errors happened outsite the controller and can also be the reason you can&#39;t hit the controller.","title":"Signup button not working in angular and not able to figure out how to connect frontend to backend","body":"<p>You haven't post the controller code so I can't verify typo, but base on what I can\nsee here: usually when you not hitting the server the subscribe code is not\nworking properly.</p>\n<p>I suggest you remove all these comments and error handling for a start and put\nsomething like this:</p>\n<pre><code>this.employeeService.addNewEmployee(this.employee).subscribe((result) =&gt; {\n      console.log(result);\n    });\n</code></pre>\n<p>Also, have a look on the server log to find json parsing errors, this errors happened outsite the controller and can also be the reason you can't hit the controller.</p>\n"}],"owner":{"account_id":26156883,"reputation":1,"user_id":19844017,"display_name":"Arpit Jha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661429205,"creation_date":1661419424,"question_id":73485058,"body_markdown":"I am new to angular so I am not able to figure out what&#39;s going wrong upon clicking signup button. Nothing is happing(not even throwing 404 or any kind of error). Also I am not able to connect angular to spring boot. Please help.\r\n\r\nCode snippets are in below order.\r\n\r\n1&gt; Signup.component.html\r\n\r\n2&gt; Employee.service.ts\r\n\r\n3&gt; Signup.component.ts\r\n\r\n4&gt; EmployeeController.java\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;div class=&quot;container-fluid&quot;&gt;\r\n      &lt;div class=&quot;card&quot; style=&quot;width: 38rem;&quot;&gt;\r\n        &lt;div class=&quot;card-body&quot;&gt;\r\n          &lt;h3 class=&quot;card-title text-primary&quot;&gt;SignUp&lt;/h3&gt;\r\n          &lt;hr&gt;\r\n          &lt;form #f=&quot;ngForm&quot; (ngSubmit)=&quot;f.form.valid &amp;&amp; addEmployee(f)&quot; name=&quot;form&quot; novalidate&gt;\r\n            &lt;div class=&quot;form-group&quot;&gt;\r\n              &lt;div class=&quot;input-group mb-3&quot;&gt;\r\n                &lt;span class=&quot;input-group-text&quot;&gt;  &lt;i class=&quot;fa fa-user fa-fw&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;&lt;/span&gt;\r\n\r\n                &lt;input type=&quot;text&quot; class=&quot;form-control&quot; placeholder=&quot;name&quot;\r\n                       name=&quot;name&quot; [(ngModel)]=&quot;name&quot; #nameTag=&quot;ngModel&quot;\r\n                       required [pattern]=unamePattern\r\n                       [ngClass]=&quot;{ &#39;is-invalid&#39;: f.submitted &amp;&amp; name.invalid }&quot;&gt;\r\n                &lt;div *ngIf=&quot;nameTag.touched &amp;&amp; nameTag.invalid &quot; class=&quot;invalid-feedback&quot;&gt;\r\n                  &lt;div *ngIf=&quot;nameTag.errors &amp;&amp; nameTag.errors.required&quot;&gt; name is required&lt;/div&gt;\r\n                  &lt;div *ngIf=&quot;nameTag.errors?.pattern&quot;&gt;name is not valid&lt;/div&gt;\r\n                &lt;/div&gt;\r\n\r\n              &lt;/div&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;form-group&quot;&gt;\r\n              &lt;div class=&quot;input-group mb-3&quot;&gt;\r\n                &lt;span class=&quot;input-group-text&quot; id=&quot;email&quot;&gt;  &lt;i class=&quot;fa fa-envelope-o fa-fw&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;&lt;/span&gt;\r\n\r\n                &lt;input type=&quot;text&quot; class=&quot;form-control&quot; placeholder=&quot;Email address&quot;\r\n                       name=&quot;email&quot; [(ngModel)]=&quot;email&quot; #emailTag=&quot;ngModel&quot; required email [pattern]=emailPattern\r\n                       [ngClass]=&quot;{ &#39;is-invalid&#39;: f.submitted &amp;&amp; email.invalid }&quot; &gt;\r\n                &lt;div *ngIf=&quot;f.submitted &amp;&amp; emailTag.invalid&quot; class=&quot;invalid-feedback&quot;&gt;\r\n                  &lt;div *ngIf=&quot;emailTag.errors &amp;&amp; emailTag.errors.required&quot;&gt;Email is required&lt;/div&gt;\r\n                  &lt;div *ngIf=&quot;emailTag.errors?.pattern&quot;&gt;Email must be a valid email address&lt;/div&gt;\r\n                &lt;/div&gt;\r\n              &lt;/div&gt;\r\n            &lt;/div&gt;\r\n\r\n            &lt;div class=&quot;form-group&quot;&gt;\r\n              &lt;div class=&quot;input-group mb-3&quot;&gt;\r\n                &lt;span class=&quot;input-group-text&quot; id=&quot;phone&quot;&gt;  &lt;i class=&quot;fa fa-phone fa-fw&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;&lt;/span&gt;\r\n    &lt;!--            &lt;input type=&quot;text&quot; ng2TelInput (countryChange)=&quot;onCountryChange($event)&quot;--&gt;\r\n    &lt;!--                   [ng2TelInputOptions]=&quot;{initialCountry:&#39;in&#39;}&quot;--&gt;\r\n    &lt;!--                   name=&quot;phoneCode&quot; [(ngModel)]=&quot;employee.phoneCode&quot; #phoneCode=&quot;ngModel&quot; required&gt;--&gt;\r\n                &lt;input type=&quot;text&quot; class=&quot;form-control&quot; placeholder=&quot;Phone&quot;\r\n                       name=&quot;phoneNumber&quot; [(ngModel)]=&quot;phoneNumber&quot; #phone=&quot;ngModel&quot;\r\n                       [ngClass]=&quot;{ &#39;is-invalid&#39;: f.submitted &amp;&amp; phone.invalid }&quot; required [pattern]=phonePattern &gt;\r\n                &lt;div *ngIf=&quot;f.submitted &amp;&amp; phone.invalid&quot; class=&quot;invalid-feedback&quot;&gt;\r\n                  &lt;div *ngIf=&quot;phone.errors &amp;&amp; phone.errors.required&quot;&gt;Phone Number is required&lt;/div&gt;\r\n                  &lt;div *ngIf=&quot;phone.errors?.pattern&quot;&gt;Phone Number must be valid&lt;/div&gt;\r\n                &lt;/div&gt;\r\n              &lt;/div&gt;\r\n            &lt;/div&gt;\r\n\r\n            &lt;div class=&quot;input-group mb-3 w-40&quot;&gt;\r\n              &lt;span class=&quot;input-group-text&quot; &gt;  &lt;i class=&quot;fa fa-male fa-fw&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;&lt;/span&gt;\r\n              &lt;select class=&quot;form-select&quot; aria-label=&quot;Default select example&quot;\r\n                      [(ngModel)]=&quot;empType&quot; name=&quot;empType&quot; id=&quot;empType&quot; #empTypeTag=&quot;ngModel&quot; &gt;\r\n                &lt;option selected value=&quot;employee&quot;&gt;Employee&lt;/option&gt;\r\n                &lt;option value=&quot;manager&quot;&gt;Manager&lt;/option&gt;\r\n                &lt;option value=&quot;admin&quot;&gt;System admin&lt;/option&gt;\r\n              &lt;/select&gt;\r\n            &lt;/div&gt;\r\n\r\n    &lt;!--          &lt;div  *ngIf=&quot;empType.value===&#39;employee&#39;&quot; class=&quot;input-group mb-3 w-40&quot;&gt;--&gt;\r\n    &lt;!--            &lt;span class=&quot;input-group-text&quot; &gt;  &lt;i class=&quot;fa fa-users fa-fw&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;&lt;/span&gt;--&gt;\r\n    &lt;!--            &lt;select  class=&quot;form-select&quot; aria-label=&quot;Default select example&quot;--&gt;\r\n    &lt;!--                    [(ngModel)]=&quot;employee.manager&quot; name=&quot;managerOfEmployee&quot; id=&quot;managerOfEmployee&quot; #managerOfEmployee=&quot;ngModel&quot; &gt;--&gt;\r\n    &lt;!--              &lt;option *ngFor=&quot;let manager of managers&quot; &gt;{{manager}}&lt;/option&gt;--&gt;\r\n    &lt;!--            &lt;/select&gt;--&gt;\r\n    &lt;!--          &lt;/div&gt;--&gt;\r\n            &lt;div class=&quot;d-grid&quot;&gt;\r\n              &lt;button class=&quot;btn btn-primary&quot; type=&quot;submit&quot;&gt;Signup&lt;/button&gt;\r\n            &lt;/div&gt;\r\n          &lt;/form&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n\r\n    &lt;/div&gt;\r\n\r\n\r\n    &lt;!-- Button trigger modal --&gt;\r\n    &lt;!--&lt;button type=&quot;button&quot; class=&quot;btn btn-primary&quot; data-bs-toggle=&quot;modal&quot; data-bs-target=&quot;#exampleModal&quot; id=&quot;showmodal&quot;&gt;Loading--&gt;\r\n    &lt;!--&lt;/button&gt;--&gt;\r\n\r\n    &lt;!--&amp;lt;!&amp;ndash; Modal &amp;ndash;&amp;gt;--&gt;\r\n    &lt;!--&lt;div class=&quot;modal fade&quot; id=&quot;exampleModal&quot; tabindex=&quot;-1&quot; aria-labelledby=&quot;exampleModalLabel&quot; aria-hidden=&quot;true&quot;&gt;--&gt;\r\n    &lt;!--  &lt;div class=&quot;modal-dialog&quot;&gt;--&gt;\r\n    &lt;!--    &lt;div class=&quot;modal-content&quot;&gt;--&gt;\r\n    &lt;!--      &lt;div class=&quot;modal-header&quot;&gt;--&gt;\r\n    &lt;!--        &lt;h5 class=&quot;modal-title&quot; id=&quot;exampleModalLabel&quot;&gt;Please Wait&lt;/h5&gt;--&gt;\r\n    &lt;!--        &lt;button type=&quot;button&quot; class=&quot;btn-close&quot; data-bs-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&gt;&lt;/button&gt;--&gt;\r\n    &lt;!--      &lt;/div&gt;--&gt;\r\n    &lt;!--      &lt;div class=&quot;modal-body d-flex justify-content-center&quot;&gt;--&gt;\r\n    &lt;!--        &lt;i class=&quot;fa fa-spinner fa-spin fa-3x fa-fw&quot;&gt;&lt;/i&gt;--&gt;\r\n    &lt;!--        &lt;span class=&quot;sr-only&quot;&gt;Loading...&lt;/span&gt;--&gt;\r\n    &lt;!--      &lt;/div&gt;--&gt;\r\n    &lt;!--      &lt;div class=&quot;modal-footer&quot;&gt;--&gt;\r\n    &lt;!--        &lt;button type=&quot;button&quot;  data-bs-dismiss=&quot;modal&quot;&gt;Close&lt;/button&gt;--&gt;\r\n\r\n    &lt;!--      &lt;/div&gt;--&gt;\r\n    &lt;!--    &lt;/div&gt;--&gt;\r\n    &lt;!--  &lt;/div&gt;--&gt;\r\n    &lt;!--&lt;/div&gt;--&gt;\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    import {Injectable} from &#39;@angular/core&#39;;\r\n    import {HttpClient} from &quot;@angular/common/http&quot;;\r\n    import {Employee} from &quot;../../shared/employee&quot;;\r\n    import {environment} from &quot;../../../environments/environment&quot;;\r\n    import {Observable} from &quot;rxjs&quot;;\r\n    import {EmployeeDto} from &quot;../../shared/employeeDto&quot;;\r\n    import {ForgotPasswordDto} from &quot;../../forgot-password/common/ForgotPasswordDto&quot;;\r\n    import {ResetPasswordDto} from &quot;../../reset-password/ResetPasswordDto&quot;;\r\n\r\n    @Injectable({\r\n      providedIn: &#39;root&#39;\r\n    })\r\n    export class EmployeeService {\r\n\r\n      private apiServerUrl  =environment.apiBaseUrl;\r\n\r\n      constructor(private http: HttpClient) { }\r\n\r\n      getEmployeeByEmail(email: string, password: string):Observable&lt;Employee&gt;{\r\n        return this.http.get&lt;Employee&gt;(`${this.apiServerUrl}/employees/${email}/${password}`);\r\n      }\r\n\r\n\r\n      getAllEmployeesUnderManager(name: string):Observable&lt;EmployeeDto[]&gt; {\r\n        return this.http.get&lt;EmployeeDto[]&gt;(`${this.apiServerUrl}/manager/${name}/employees`);\r\n      }\r\n\r\n\r\n      addNewEmployee( employee: EmployeeDto):Observable&lt;Employee&gt;{\r\n        return this.http.post&lt;Employee&gt;(`${this.apiServerUrl}/employees/addEmployee`,employee);\r\n      }\r\n\r\n      deleteEmployeeUnderManager(manager: number, employeeId:number) {\r\n        return this.http.delete&lt;void&gt;(`${this.apiServerUrl}/manager/${manager}/employees/${employeeId}`);\r\n      }\r\n\r\n\r\n      getEmployeeUnderManager(manager: number, employeeId:number):Observable&lt;Employee&gt;{\r\n        return this.http.get&lt;Employee&gt;(`${this.apiServerUrl}/manager/${manager}/employee/${employeeId}`)\r\n      }\r\n\r\n      updateEmployeeUnderManager(employeeId: number, employee: EmployeeDto):Observable&lt;Employee&gt;{\r\n        return this.http.put&lt;Employee&gt;(`${this.apiServerUrl}/employees/${employeeId}`,employee);\r\n      }\r\n\r\n      createEmployeeUnderManager(manager: number,employee: Employee):Observable&lt;Employee&gt;{\r\n\r\n        return this.http.post&lt;Employee&gt;(`${this.apiServerUrl}/manager/${manager}/employees`,employee);\r\n      }\r\n\r\n\r\n      forgotPassword(body: ForgotPasswordDto){\r\n        return this.http.post(`${this.apiServerUrl}/changePassword`,body);\r\n      }\r\n\r\n      resetPassword(body: ResetPasswordDto){\r\n        return this.http.post(`${this.apiServerUrl}/resetPassword`,body);\r\n      }\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    import { Component, OnInit } from &#39;@angular/core&#39;;\r\n    import {NgForm} from &quot;@angular/forms&quot;;\r\n    import {Employee} from &quot;../shared/employee&quot;;\r\n    import {EmployeeService} from &quot;../services/data/employee.service&quot;;\r\n    import {EmployeeDto} from &quot;../shared/employeeDto&quot;;\r\n    import {Router} from &quot;@angular/router&quot;;\r\n\r\n\r\n    @Component({\r\n      selector: &#39;app-signup&#39;,\r\n      templateUrl: &#39;./signup.component.html&#39;,\r\n      styleUrls: [&#39;./signup.component.css&#39;]\r\n    })\r\n    export class SignupComponent implements OnInit {\r\n\r\n      managers =[&#39;balaji&#39;, &#39;ameen&#39;,&#39;abhiram&#39;]\r\n      employee = new EmployeeDto(0,&#39;&#39;,&#39;&#39;,&#39;&#39;,0,&#39;&#39;);\r\n\r\n      name :any\r\n      email :any;\r\n      empType:any;\r\n      phoneNumber :any;\r\n\r\n\r\n      constructor(private employeeService: EmployeeService,\r\n                  private router: Router) {\r\n      }\r\n\r\n      ngOnInit(): void {\r\n      }\r\n\r\n      unamePattern = &#39;^[a-z0-9_-]{8,15}$&#39;;\r\n      phonePattern = &#39;[- +()0-9]{6,12}&#39;;\r\n      emailPattern = &#39;^[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,4}$&#39;;\r\n\r\n      addEmployee(f:NgForm):void {\r\n\r\n        console.log(f.value);\r\n\r\n        this.employee.name = this.name;\r\n        this.employee.email = this.email;\r\n        this.employee.phoneNumber = this.phoneNumber;\r\n        this.employee.empType = this.empType;\r\n\r\n        this.employeeService.addNewEmployee(this.employee).subscribe(\r\n          response =&gt; {\r\n            // if (!response) {\r\n            //   this.showLoader();\r\n            // }\r\n            alert(&quot;Check Your Mail For Login Credentials&quot;);\r\n            this.router.navigate([&#39;&#39;]);\r\n          },\r\n          error =&gt; {\r\n            this.router.navigate([&#39;/error&#39;]);\r\n          }\r\n        )\r\n\r\n\r\n      }\r\n\r\n      initialCountry =  &#39;in&#39;;\r\n\r\n      onCountryChange(event: any) {\r\n        console.log(event.dialCode);\r\n\r\n      }\r\n\r\n      private showLoader() {\r\n        document.getElementById(&quot;exampleModal&quot;);\r\n        // @ts-ignore\r\n        document.getElementById(&quot;showmodal&quot;).click();\r\n      }\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    @PostMapping(&quot;employees/addEmployee&quot;)\r\n        public ResponseEntity&lt;Void&gt; addNewEmployee(@Valid @RequestBody EmployeeDto employee) throws UserNotFoundException {\r\n            if (employee.getEmpType().equals(&quot;employee&quot;)){\r\n                return (employeeService.createNewUser(employee) != null) ?\r\n                        new ResponseEntity&lt;&gt;(HttpStatus.CREATED) :\r\n                        new ResponseEntity&lt;&gt;(HttpStatus.CONFLICT);\r\n\r\n            }\r\n            else if (employee.getEmpType().equals(EmpType.manager.toString())){\r\n                if(managerService.createNewUser(employee) != null) {\r\n                    return new ResponseEntity&lt;&gt;(HttpStatus.CREATED);\r\n                }\r\n                return new ResponseEntity&lt;&gt;(HttpStatus.CONFLICT);\r\n            }\r\n    //        else if (employee.getEmpType().equals(EmpType.admin.toString())){\r\n    //            admin.createNewUser(employee);\r\n    //            return new ResponseEntity&lt;&gt;(HttpStatus.CREATED);\r\n    //        }\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.UNSUPPORTED_MEDIA_TYPE);\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Signup button not working in angular and not able to figure out how to connect frontend to backend","body":"<p>I am new to angular so I am not able to figure out what's going wrong upon clicking signup button. Nothing is happing(not even throwing 404 or any kind of error). Also I am not able to connect angular to spring boot. Please help.</p>\n<p>Code snippets are in below order.</p>\n<p>1&gt; Signup.component.html</p>\n<p>2&gt; Employee.service.ts</p>\n<p>3&gt; Signup.component.ts</p>\n<p>4&gt; EmployeeController.java</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"container-fluid\"&gt;\n  &lt;div class=\"card\" style=\"width: 38rem;\"&gt;\n    &lt;div class=\"card-body\"&gt;\n      &lt;h3 class=\"card-title text-primary\"&gt;SignUp&lt;/h3&gt;\n      &lt;hr&gt;\n      &lt;form #f=\"ngForm\" (ngSubmit)=\"f.form.valid &amp;&amp; addEmployee(f)\" name=\"form\" novalidate&gt;\n        &lt;div class=\"form-group\"&gt;\n          &lt;div class=\"input-group mb-3\"&gt;\n            &lt;span class=\"input-group-text\"&gt;  &lt;i class=\"fa fa-user fa-fw\" aria-hidden=\"true\"&gt;&lt;/i&gt;&lt;/span&gt;\n\n            &lt;input type=\"text\" class=\"form-control\" placeholder=\"name\"\n                   name=\"name\" [(ngModel)]=\"name\" #nameTag=\"ngModel\"\n                   required [pattern]=unamePattern\n                   [ngClass]=\"{ 'is-invalid': f.submitted &amp;&amp; name.invalid }\"&gt;\n            &lt;div *ngIf=\"nameTag.touched &amp;&amp; nameTag.invalid \" class=\"invalid-feedback\"&gt;\n              &lt;div *ngIf=\"nameTag.errors &amp;&amp; nameTag.errors.required\"&gt; name is required&lt;/div&gt;\n              &lt;div *ngIf=\"nameTag.errors?.pattern\"&gt;name is not valid&lt;/div&gt;\n            &lt;/div&gt;\n\n          &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=\"form-group\"&gt;\n          &lt;div class=\"input-group mb-3\"&gt;\n            &lt;span class=\"input-group-text\" id=\"email\"&gt;  &lt;i class=\"fa fa-envelope-o fa-fw\" aria-hidden=\"true\"&gt;&lt;/i&gt;&lt;/span&gt;\n\n            &lt;input type=\"text\" class=\"form-control\" placeholder=\"Email address\"\n                   name=\"email\" [(ngModel)]=\"email\" #emailTag=\"ngModel\" required email [pattern]=emailPattern\n                   [ngClass]=\"{ 'is-invalid': f.submitted &amp;&amp; email.invalid }\" &gt;\n            &lt;div *ngIf=\"f.submitted &amp;&amp; emailTag.invalid\" class=\"invalid-feedback\"&gt;\n              &lt;div *ngIf=\"emailTag.errors &amp;&amp; emailTag.errors.required\"&gt;Email is required&lt;/div&gt;\n              &lt;div *ngIf=\"emailTag.errors?.pattern\"&gt;Email must be a valid email address&lt;/div&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"form-group\"&gt;\n          &lt;div class=\"input-group mb-3\"&gt;\n            &lt;span class=\"input-group-text\" id=\"phone\"&gt;  &lt;i class=\"fa fa-phone fa-fw\" aria-hidden=\"true\"&gt;&lt;/i&gt;&lt;/span&gt;\n&lt;!--            &lt;input type=\"text\" ng2TelInput (countryChange)=\"onCountryChange($event)\"--&gt;\n&lt;!--                   [ng2TelInputOptions]=\"{initialCountry:'in'}\"--&gt;\n&lt;!--                   name=\"phoneCode\" [(ngModel)]=\"employee.phoneCode\" #phoneCode=\"ngModel\" required&gt;--&gt;\n            &lt;input type=\"text\" class=\"form-control\" placeholder=\"Phone\"\n                   name=\"phoneNumber\" [(ngModel)]=\"phoneNumber\" #phone=\"ngModel\"\n                   [ngClass]=\"{ 'is-invalid': f.submitted &amp;&amp; phone.invalid }\" required [pattern]=phonePattern &gt;\n            &lt;div *ngIf=\"f.submitted &amp;&amp; phone.invalid\" class=\"invalid-feedback\"&gt;\n              &lt;div *ngIf=\"phone.errors &amp;&amp; phone.errors.required\"&gt;Phone Number is required&lt;/div&gt;\n              &lt;div *ngIf=\"phone.errors?.pattern\"&gt;Phone Number must be valid&lt;/div&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"input-group mb-3 w-40\"&gt;\n          &lt;span class=\"input-group-text\" &gt;  &lt;i class=\"fa fa-male fa-fw\" aria-hidden=\"true\"&gt;&lt;/i&gt;&lt;/span&gt;\n          &lt;select class=\"form-select\" aria-label=\"Default select example\"\n                  [(ngModel)]=\"empType\" name=\"empType\" id=\"empType\" #empTypeTag=\"ngModel\" &gt;\n            &lt;option selected value=\"employee\"&gt;Employee&lt;/option&gt;\n            &lt;option value=\"manager\"&gt;Manager&lt;/option&gt;\n            &lt;option value=\"admin\"&gt;System admin&lt;/option&gt;\n          &lt;/select&gt;\n        &lt;/div&gt;\n\n&lt;!--          &lt;div  *ngIf=\"empType.value==='employee'\" class=\"input-group mb-3 w-40\"&gt;--&gt;\n&lt;!--            &lt;span class=\"input-group-text\" &gt;  &lt;i class=\"fa fa-users fa-fw\" aria-hidden=\"true\"&gt;&lt;/i&gt;&lt;/span&gt;--&gt;\n&lt;!--            &lt;select  class=\"form-select\" aria-label=\"Default select example\"--&gt;\n&lt;!--                    [(ngModel)]=\"employee.manager\" name=\"managerOfEmployee\" id=\"managerOfEmployee\" #managerOfEmployee=\"ngModel\" &gt;--&gt;\n&lt;!--              &lt;option *ngFor=\"let manager of managers\" &gt;{{manager}}&lt;/option&gt;--&gt;\n&lt;!--            &lt;/select&gt;--&gt;\n&lt;!--          &lt;/div&gt;--&gt;\n        &lt;div class=\"d-grid\"&gt;\n          &lt;button class=\"btn btn-primary\" type=\"submit\"&gt;Signup&lt;/button&gt;\n        &lt;/div&gt;\n      &lt;/form&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n\n&lt;/div&gt;\n\n\n&lt;!-- Button trigger modal --&gt;\n&lt;!--&lt;button type=\"button\" class=\"btn btn-primary\" data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\" id=\"showmodal\"&gt;Loading--&gt;\n&lt;!--&lt;/button&gt;--&gt;\n\n&lt;!--&amp;lt;!&amp;ndash; Modal &amp;ndash;&amp;gt;--&gt;\n&lt;!--&lt;div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\"&gt;--&gt;\n&lt;!--  &lt;div class=\"modal-dialog\"&gt;--&gt;\n&lt;!--    &lt;div class=\"modal-content\"&gt;--&gt;\n&lt;!--      &lt;div class=\"modal-header\"&gt;--&gt;\n&lt;!--        &lt;h5 class=\"modal-title\" id=\"exampleModalLabel\"&gt;Please Wait&lt;/h5&gt;--&gt;\n&lt;!--        &lt;button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"&gt;&lt;/button&gt;--&gt;\n&lt;!--      &lt;/div&gt;--&gt;\n&lt;!--      &lt;div class=\"modal-body d-flex justify-content-center\"&gt;--&gt;\n&lt;!--        &lt;i class=\"fa fa-spinner fa-spin fa-3x fa-fw\"&gt;&lt;/i&gt;--&gt;\n&lt;!--        &lt;span class=\"sr-only\"&gt;Loading...&lt;/span&gt;--&gt;\n&lt;!--      &lt;/div&gt;--&gt;\n&lt;!--      &lt;div class=\"modal-footer\"&gt;--&gt;\n&lt;!--        &lt;button type=\"button\"  data-bs-dismiss=\"modal\"&gt;Close&lt;/button&gt;--&gt;\n\n&lt;!--      &lt;/div&gt;--&gt;\n&lt;!--    &lt;/div&gt;--&gt;\n&lt;!--  &lt;/div&gt;--&gt;\n&lt;!--&lt;/div&gt;--&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import {Injectable} from '@angular/core';\nimport {HttpClient} from \"@angular/common/http\";\nimport {Employee} from \"../../shared/employee\";\nimport {environment} from \"../../../environments/environment\";\nimport {Observable} from \"rxjs\";\nimport {EmployeeDto} from \"../../shared/employeeDto\";\nimport {ForgotPasswordDto} from \"../../forgot-password/common/ForgotPasswordDto\";\nimport {ResetPasswordDto} from \"../../reset-password/ResetPasswordDto\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class EmployeeService {\n\n  private apiServerUrl  =environment.apiBaseUrl;\n\n  constructor(private http: HttpClient) { }\n\n  getEmployeeByEmail(email: string, password: string):Observable&lt;Employee&gt;{\n    return this.http.get&lt;Employee&gt;(`${this.apiServerUrl}/employees/${email}/${password}`);\n  }\n\n\n  getAllEmployeesUnderManager(name: string):Observable&lt;EmployeeDto[]&gt; {\n    return this.http.get&lt;EmployeeDto[]&gt;(`${this.apiServerUrl}/manager/${name}/employees`);\n  }\n\n\n  addNewEmployee( employee: EmployeeDto):Observable&lt;Employee&gt;{\n    return this.http.post&lt;Employee&gt;(`${this.apiServerUrl}/employees/addEmployee`,employee);\n  }\n\n  deleteEmployeeUnderManager(manager: number, employeeId:number) {\n    return this.http.delete&lt;void&gt;(`${this.apiServerUrl}/manager/${manager}/employees/${employeeId}`);\n  }\n\n\n  getEmployeeUnderManager(manager: number, employeeId:number):Observable&lt;Employee&gt;{\n    return this.http.get&lt;Employee&gt;(`${this.apiServerUrl}/manager/${manager}/employee/${employeeId}`)\n  }\n\n  updateEmployeeUnderManager(employeeId: number, employee: EmployeeDto):Observable&lt;Employee&gt;{\n    return this.http.put&lt;Employee&gt;(`${this.apiServerUrl}/employees/${employeeId}`,employee);\n  }\n\n  createEmployeeUnderManager(manager: number,employee: Employee):Observable&lt;Employee&gt;{\n\n    return this.http.post&lt;Employee&gt;(`${this.apiServerUrl}/manager/${manager}/employees`,employee);\n  }\n\n\n  forgotPassword(body: ForgotPasswordDto){\n    return this.http.post(`${this.apiServerUrl}/changePassword`,body);\n  }\n\n  resetPassword(body: ResetPasswordDto){\n    return this.http.post(`${this.apiServerUrl}/resetPassword`,body);\n  }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { Component, OnInit } from '@angular/core';\nimport {NgForm} from \"@angular/forms\";\nimport {Employee} from \"../shared/employee\";\nimport {EmployeeService} from \"../services/data/employee.service\";\nimport {EmployeeDto} from \"../shared/employeeDto\";\nimport {Router} from \"@angular/router\";\n\n\n@Component({\n  selector: 'app-signup',\n  templateUrl: './signup.component.html',\n  styleUrls: ['./signup.component.css']\n})\nexport class SignupComponent implements OnInit {\n\n  managers =['balaji', 'ameen','abhiram']\n  employee = new EmployeeDto(0,'','','',0,'');\n\n  name :any\n  email :any;\n  empType:any;\n  phoneNumber :any;\n\n\n  constructor(private employeeService: EmployeeService,\n              private router: Router) {\n  }\n\n  ngOnInit(): void {\n  }\n\n  unamePattern = '^[a-z0-9_-]{8,15}$';\n  phonePattern = '[- +()0-9]{6,12}';\n  emailPattern = '^[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,4}$';\n\n  addEmployee(f:NgForm):void {\n\n    console.log(f.value);\n\n    this.employee.name = this.name;\n    this.employee.email = this.email;\n    this.employee.phoneNumber = this.phoneNumber;\n    this.employee.empType = this.empType;\n\n    this.employeeService.addNewEmployee(this.employee).subscribe(\n      response =&gt; {\n        // if (!response) {\n        //   this.showLoader();\n        // }\n        alert(\"Check Your Mail For Login Credentials\");\n        this.router.navigate(['']);\n      },\n      error =&gt; {\n        this.router.navigate(['/error']);\n      }\n    )\n\n\n  }\n\n  initialCountry =  'in';\n\n  onCountryChange(event: any) {\n    console.log(event.dialCode);\n\n  }\n\n  private showLoader() {\n    document.getElementById(\"exampleModal\");\n    // @ts-ignore\n    document.getElementById(\"showmodal\").click();\n  }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>@PostMapping(\"employees/addEmployee\")\n    public ResponseEntity&lt;Void&gt; addNewEmployee(@Valid @RequestBody EmployeeDto employee) throws UserNotFoundException {\n        if (employee.getEmpType().equals(\"employee\")){\n            return (employeeService.createNewUser(employee) != null) ?\n                    new ResponseEntity&lt;&gt;(HttpStatus.CREATED) :\n                    new ResponseEntity&lt;&gt;(HttpStatus.CONFLICT);\n\n        }\n        else if (employee.getEmpType().equals(EmpType.manager.toString())){\n            if(managerService.createNewUser(employee) != null) {\n                return new ResponseEntity&lt;&gt;(HttpStatus.CREATED);\n            }\n            return new ResponseEntity&lt;&gt;(HttpStatus.CONFLICT);\n        }\n//        else if (employee.getEmpType().equals(EmpType.admin.toString())){\n//            admin.createNewUser(employee);\n//            return new ResponseEntity&lt;&gt;(HttpStatus.CREATED);\n//        }\n        return new ResponseEntity&lt;&gt;(HttpStatus.UNSUPPORTED_MEDIA_TYPE);\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","spring","dto","criteria-api"],"comments":[{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1661433391,"post_id":73487073,"comment_id":129775100,"body_markdown":"Unlikely you can&#39;t construct a List using criteria API inside a DTO. I have a medim size project that makes intensive use of criteria and yes the DTO sometimes have List inside them but are not filled using the constucor. You can make a try with this [library](https://stackoverflow.com/questions/67107880/criteria-query-for-pojo-with-list-field)","body":"Unlikely you can&#39;t construct a List using criteria API inside a DTO. I have a medim size project that makes intensive use of criteria and yes the DTO sometimes have List inside them but are not filled using the constucor. You can make a try with this <a href=\"https://stackoverflow.com/questions/67107880/criteria-query-for-pojo-with-list-field\">library</a>"}],"owner":{"account_id":198938,"reputation":1576,"user_id":443908,"accept_rate":82,"display_name":"badperson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661428650,"creation_date":1661428650,"question_id":73487073,"body_markdown":"Do java DTO&#39;s typically contain lists? Or are they normally just a flat structure? I have searched around and not been able to find any examples of DTO&#39;s that contain lists. \r\n\r\nSay I have a constructor like this:\r\n\r\n    public WidgetDTO(String name, String type, List&lt;Tag&gt; tagList) {\r\n      this.name = name;\r\n      this.type = type;\r\n      this.tagList = tagList;\r\n    }\r\n\r\nand in my repository I have this:\r\n\r\n    CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\r\n    CriteriaQuery&lt;WidgetDTO&gt; query = criteriaBuilder.createQuery(WidgetDTO.class);\r\n    Root&lt;Widget&gt; root = query.from(Widget.class);\r\n\r\ncan I build this with just a join, as I do when pulling the entity from the db? \r\n\r\n    Join&lt;Widget, Tag&gt; tagJoin = root.join(Widget_.tagList);\r\n\r\nor do I need to do a subquery? \r\nOr should I skip lists altogether? When trying to do a join as above I was getting an error similar to :\r\n\r\n    Unable to locate appropriate constructor on class [com.mypackage.Widget]\r\n\r\nthanks","title":"spring-boot / jpa : do DTO&#39;s typically contain lists?","body":"<p>Do java DTO's typically contain lists? Or are they normally just a flat structure? I have searched around and not been able to find any examples of DTO's that contain lists.</p>\n<p>Say I have a constructor like this:</p>\n<pre><code>public WidgetDTO(String name, String type, List&lt;Tag&gt; tagList) {\n  this.name = name;\n  this.type = type;\n  this.tagList = tagList;\n}\n</code></pre>\n<p>and in my repository I have this:</p>\n<pre><code>CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\nCriteriaQuery&lt;WidgetDTO&gt; query = criteriaBuilder.createQuery(WidgetDTO.class);\nRoot&lt;Widget&gt; root = query.from(Widget.class);\n</code></pre>\n<p>can I build this with just a join, as I do when pulling the entity from the db?</p>\n<pre><code>Join&lt;Widget, Tag&gt; tagJoin = root.join(Widget_.tagList);\n</code></pre>\n<p>or do I need to do a subquery?\nOr should I skip lists altogether? When trying to do a join as above I was getting an error similar to :</p>\n<pre><code>Unable to locate appropriate constructor on class [com.mypackage.Widget]\n</code></pre>\n<p>thanks</p>\n"},{"tags":["java","kubernetes","google-cloud-platform","heap-dump"],"answers":[{"tags":[],"owner":{"account_id":2934651,"reputation":1282,"user_id":2513916,"display_name":"Rando Shtishi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661428617,"creation_date":1661428617,"answer_id":73487066,"question_id":73290884,"body_markdown":"I found a workaround to solve this issue. It is not possible to solve it by adding `XX:HeapDumpPath=\\&quot;/dumps/heap-dump/demo-heap-dump$(date +_%m%d%Y.%H:%M:%S).bin\\&quot;&quot;\r\n`  in yml because it will not be executed. For this line `$(date +_%m%d%Y.%H:%M:%S)` to be executed it needs to run on the bash terminal.\r\n\r\nI removed the line below from the yml file:\r\n```\r\n - name: JAVA_TOOL_OPTIONS\r\n          value: &quot; -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=\\&quot;/dumps/heap-dump/demo-heap-dump$(date +_%m%d%Y.%H:%M:%S).bin\\&quot;&quot;\r\n``` \r\n\r\nModified the docker file to use bash to execute jar and not the java command like below:\r\n\r\n```\r\nFROM repo/jdk8\r\n\r\nADD target/app.jar app.jar\r\n\r\n#CMD [ &quot;java&quot;, &quot;-jar&quot;, &quot;/app.jar&quot; ] \r\n\r\nCMD [&quot;/bin/bash&quot;, &quot;-c&quot;, &quot;java -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/dumps/heap-dump/app-heap-dump$(date +-%Y-%m-%d-%H-%M-%S).hprof -jar  /app.jar &quot;]\r\n\r\nEXPOSE 5147\r\n```\r\n\r\nAfter the modification, I am to store the heap dump with the timestamps attached to the filename of the heap dump.","title":"Adding the timestamp to heap dump filename generated from java application running in kubernetes pod","body":"<p>I found a workaround to solve this issue. It is not possible to solve it by adding <code>XX:HeapDumpPath=\\&quot;/dumps/heap-dump/demo-heap-dump$(date +_%m%d%Y.%H:%M:%S).bin\\&quot;&quot; </code>  in yml because it will not be executed. For this line <code>$(date +_%m%d%Y.%H:%M:%S)</code> to be executed it needs to run on the bash terminal.</p>\n<p>I removed the line below from the yml file:</p>\n<pre><code> - name: JAVA_TOOL_OPTIONS\n          value: &quot; -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=\\&quot;/dumps/heap-dump/demo-heap-dump$(date +_%m%d%Y.%H:%M:%S).bin\\&quot;&quot;\n</code></pre>\n<p>Modified the docker file to use bash to execute jar and not the java command like below:</p>\n<pre><code>FROM repo/jdk8\n\nADD target/app.jar app.jar\n\n#CMD [ &quot;java&quot;, &quot;-jar&quot;, &quot;/app.jar&quot; ] \n\nCMD [&quot;/bin/bash&quot;, &quot;-c&quot;, &quot;java -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/dumps/heap-dump/app-heap-dump$(date +-%Y-%m-%d-%H-%M-%S).hprof -jar  /app.jar &quot;]\n\nEXPOSE 5147\n</code></pre>\n<p>After the modification, I am to store the heap dump with the timestamps attached to the filename of the heap dump.</p>\n"}],"owner":{"account_id":2934651,"reputation":1282,"user_id":2513916,"display_name":"Rando Shtishi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73487066,"answer_count":1,"score":0,"last_activity_date":1661428617,"creation_date":1660043564,"question_id":73290884,"body_markdown":"I want to add a timestamp after the heap dump filename. It works when I specify the ```-XX:HeapDumpPath``` option when running the command below:\r\n\r\n```\r\njava -Xmx64m  -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=outputFilename.$(date +_%m%d%Y.%H:%M:%S).bin -jar app.jar\r\n```\r\n\r\nBut when this option is set on the Kubernetes service yml file is not working. Below is option defined in the yml file:\r\n\r\n```\r\n    env:\r\n        - name: JAVA_TOOL_OPTIONS\r\n          value: &quot; -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=\\&quot;/dumps/heap-dump/demo-heap-dump$(date +_%m%d%Y.%H:%M:%S).bin\\&quot;&quot;\r\n\r\n```\r\nIt throws the error below when trying to create heap dump\r\n```\r\n2022-08-09 13:02:15.901 CESTPicked up JAVA_TOOL_OPTIONS: -Xmx1m -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=&quot;/dumps/heap-dump/&quot;demo-heap-dump$(date +_%m%d%Y.%H:%M:%S).bin\r\n2022-08-09 13:00:56.853 CESTUnrecognized option: +_%m%d%Y.%H:%M:%S).bin\r\n```\r\nThank you for your help.\r\n\r\nBest regards,\r\nRando.\r\n","title":"Adding the timestamp to heap dump filename generated from java application running in kubernetes pod","body":"<p>I want to add a timestamp after the heap dump filename. It works when I specify the <code>-XX:HeapDumpPath</code> option when running the command below:</p>\n<pre><code>java -Xmx64m  -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=outputFilename.$(date +_%m%d%Y.%H:%M:%S).bin -jar app.jar\n</code></pre>\n<p>But when this option is set on the Kubernetes service yml file is not working. Below is option defined in the yml file:</p>\n<pre><code>    env:\n        - name: JAVA_TOOL_OPTIONS\n          value: &quot; -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=\\&quot;/dumps/heap-dump/demo-heap-dump$(date +_%m%d%Y.%H:%M:%S).bin\\&quot;&quot;\n\n</code></pre>\n<p>It throws the error below when trying to create heap dump</p>\n<pre><code>2022-08-09 13:02:15.901 CESTPicked up JAVA_TOOL_OPTIONS: -Xmx1m -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=&quot;/dumps/heap-dump/&quot;demo-heap-dump$(date +_%m%d%Y.%H:%M:%S).bin\n2022-08-09 13:00:56.853 CESTUnrecognized option: +_%m%d%Y.%H:%M:%S).bin\n</code></pre>\n<p>Thank you for your help.</p>\n<p>Best regards,\nRando.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":1010382,"reputation":127,"user_id":1023077,"accept_rate":25,"display_name":"sushil"},"score":0,"creation_date":1661426709,"post_id":73486498,"comment_id":129772512,"body_markdown":"Eventually I would like to fetch data of last key. So, in this case it would be json5.","body":"Eventually I would like to fetch data of last key. So, in this case it would be json5."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1661427493,"post_id":73486498,"comment_id":129772772,"body_markdown":"@sushil It looks like you are trying to reinvent [JSONPath](https://github.com/json-path/JsonPath) (linked page includes tutorual/documentation at the end, don&#39;t miss it) . Are you aware of its existence?","body":"@sushil It looks like you are trying to reinvent <a href=\"https://github.com/json-path/JsonPath\" rel=\"nofollow noreferrer\">JSONPath</a> (linked page includes tutorual/documentation at the end, don&#39;t miss it) . Are you aware of its existence?"},{"owner":{"account_id":1010382,"reputation":127,"user_id":1023077,"accept_rate":25,"display_name":"sushil"},"score":0,"creation_date":1661427503,"post_id":73486498,"comment_id":129772774,"body_markdown":"Alexander, here I am developing a utility which will be used to extract JSONObject/JSONArray for give path as a list.","body":"Alexander, here I am developing a utility which will be used to extract JSONObject/JSONArray for give path as a list."}],"answers":[{"tags":[],"owner":{"account_id":18507520,"reputation":141,"user_id":13483506,"display_name":"Duwang"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1661426462,"creation_date":1661426462,"answer_id":73486581,"question_id":73486498,"body_markdown":"`traverses.stream().forEach((key)-&gt; {jsonObject = jsonObject.optJSONObject(key);\r\n})`","title":"Iterate over JSON Object for given list of keys using using Java 8 stream","body":"<p><code>traverses.stream().forEach((key)-&gt; {jsonObject = jsonObject.optJSONObject(key); })</code></p>\n"},{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661428486,"creation_date":1661428486,"answer_id":73487027,"question_id":73486498,"body_markdown":"This is equivalent to your loop:\r\n\r\n    JSONObjet jsonObject = traverses.stream().reduce(\r\n            getJSONObject(),\r\n            JSONObject::optJSONObject,\r\n            (c1, c2) -&gt; null);\r\n\r\nIt uses the [reduce][1] method which unfortunately requires a combiner argument that doesn&#39;t make much sense. Fortunately, it doesn&#39;t actually call it in this case, so I just made it return null.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/stream/Stream.html#reduce(U,java.util.function.BiFunction,java.util.function.BinaryOperator)","title":"Iterate over JSON Object for given list of keys using using Java 8 stream","body":"<p>This is equivalent to your loop:</p>\n<pre><code>JSONObjet jsonObject = traverses.stream().reduce(\n        getJSONObject(),\n        JSONObject::optJSONObject,\n        (c1, c2) -&gt; null);\n</code></pre>\n<p>It uses the <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/stream/Stream.html#reduce(U,java.util.function.BiFunction,java.util.function.BinaryOperator)\" rel=\"nofollow noreferrer\">reduce</a> method which unfortunately requires a combiner argument that doesn't make much sense. Fortunately, it doesn't actually call it in this case, so I just made it return null.</p>\n"}],"owner":{"account_id":1010382,"reputation":127,"user_id":1023077,"accept_rate":25,"display_name":"sushil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":551,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73487027,"answer_count":2,"score":-1,"last_activity_date":1661428486,"creation_date":1661426053,"question_id":73486498,"body_markdown":"I have list of keys\r\n\r\n    List&lt;String&gt; traverses = Arrays.asList(&quot;json1&quot;, &quot;json2&quot;, &quot;json3&quot;, &quot;json4&quot;, &quot;json5&quot;);\r\nAnd below is the JSONObject\r\n\r\n    {\r\n      &quot;json1&quot;: {\r\n        &quot;json2&quot;: {\r\n          &quot;json3&quot;: {\r\n            &quot;json4&quot;: {\r\n              &quot;json5&quot;: {\r\n                &quot;data&quot;: [\r\n                  {\r\n                    &quot;key&quot;: &quot;9941&quot;,\r\n                    &quot;doc_count&quot;: 14\r\n                  },\r\n                  {\r\n                    &quot;key&quot;: &quot;9920&quot;,\r\n                    &quot;doc_count&quot;: 11\r\n                  },\r\n                  {\r\n                    &quot;key&quot;: &quot;9933&quot;,\r\n                    &quot;doc_count&quot;: 11\r\n                  },\r\n                  {\r\n                    &quot;key&quot;: &quot;9931&quot;,\r\n                    &quot;doc_count&quot;: 6\r\n                  },\r\n                  {\r\n                    &quot;key&quot;: &quot;9932&quot;,\r\n                    &quot;doc_count&quot;: 4\r\n                  }\r\n                ]\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\nI would like to iterate over above JSONObject for given json keys (traverses) using Lambda.\r\n\r\nI have achieved it using traditional way\r\n\r\n    JSONObjet jsonObject = getJSONObject();\r\n    for (String key : traverses) {\r\n        jsonObject = jsonObject.optJSONObject(key);\r\n    }\r\nBut looking for advanced way (using Stream/Lambda) to achieve the same.\r\n","title":"Iterate over JSON Object for given list of keys using using Java 8 stream","body":"<p>I have list of keys</p>\n<pre><code>List&lt;String&gt; traverses = Arrays.asList(&quot;json1&quot;, &quot;json2&quot;, &quot;json3&quot;, &quot;json4&quot;, &quot;json5&quot;);\n</code></pre>\n<p>And below is the JSONObject</p>\n<pre><code>{\n  &quot;json1&quot;: {\n    &quot;json2&quot;: {\n      &quot;json3&quot;: {\n        &quot;json4&quot;: {\n          &quot;json5&quot;: {\n            &quot;data&quot;: [\n              {\n                &quot;key&quot;: &quot;9941&quot;,\n                &quot;doc_count&quot;: 14\n              },\n              {\n                &quot;key&quot;: &quot;9920&quot;,\n                &quot;doc_count&quot;: 11\n              },\n              {\n                &quot;key&quot;: &quot;9933&quot;,\n                &quot;doc_count&quot;: 11\n              },\n              {\n                &quot;key&quot;: &quot;9931&quot;,\n                &quot;doc_count&quot;: 6\n              },\n              {\n                &quot;key&quot;: &quot;9932&quot;,\n                &quot;doc_count&quot;: 4\n              }\n            ]\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>I would like to iterate over above JSONObject for given json keys (traverses) using Lambda.</p>\n<p>I have achieved it using traditional way</p>\n<pre><code>JSONObjet jsonObject = getJSONObject();\nfor (String key : traverses) {\n    jsonObject = jsonObject.optJSONObject(key);\n}\n</code></pre>\n<p>But looking for advanced way (using Stream/Lambda) to achieve the same.</p>\n"},{"tags":["java","lucene"],"answers":[{"tags":[],"owner":{"account_id":116755,"reputation":12030,"user_id":306042,"accept_rate":80,"display_name":"milan"},"down_vote_count":1,"up_vote_count":11,"is_accepted":true,"score":10,"last_activity_date":1326891232,"creation_date":1326889563,"answer_id":8910072,"question_id":8910008,"body_markdown":"You&#39;re looking for [term vectors][1] (a set of all the words that were in the field and the number of times each word was used, excluding stop words). You&#39;ll use IndexReader&#39;s [getTermFreqVector(docid, field)][2] for each document in the index, and populate a `HashSet` with them. \r\n\r\nThe alternative would be to use [terms()][3] and pick only terms for the field you&#39;re interested in:\r\n\r\n    IndexReader reader = IndexReader.open(index);\r\n    TermEnum terms = reader.terms();\r\n    Set&lt;String&gt; uniqueTerms = new HashSet&lt;String&gt;();\r\n    while (terms.next()) {\r\n            final Term term = terms.term();\r\n            if (term.field().equals(&quot;field_name&quot;)) {\r\n                    uniqueTerms.add(term.text());\r\n            }\r\n    }\r\n\r\nThis is not the optimal solution, you&#39;re reading and then discarding all other fields. There&#39;s a class `Fields` in Lucene 4, that returns [terms(field)][4] only for a single field. \r\n\r\n\r\n  [1]: http://lucene.apache.org/java/3_5_0/fileformats.html#Term%20Vectors\r\n  [2]: http://lucene.apache.org/java/3_5_0/api/core/org/apache/lucene/index/FilterIndexReader.html#getTermFreqVector%28int,%20java.lang.String%29\r\n  [3]: http://lucene.apache.org/java/3_5_0/api/core/org/apache/lucene/index/IndexReader.html#terms%28%29\r\n  [4]: http://search-lucene.com/jd/lucene/org/apache/lucene/index/Fields.html#terms%28java.lang.String%29","title":"How can I get the list of unique terms from a specific field in Lucene?","body":"<p>You're looking for <a href=\"http://lucene.apache.org/java/3_5_0/fileformats.html#Term%20Vectors\" rel=\"noreferrer\">term vectors</a> (a set of all the words that were in the field and the number of times each word was used, excluding stop words). You'll use IndexReader's <a href=\"http://lucene.apache.org/java/3_5_0/api/core/org/apache/lucene/index/FilterIndexReader.html#getTermFreqVector%28int,%20java.lang.String%29\" rel=\"noreferrer\">getTermFreqVector(docid, field)</a> for each document in the index, and populate a <code>HashSet</code> with them. </p>\n\n<p>The alternative would be to use <a href=\"http://lucene.apache.org/java/3_5_0/api/core/org/apache/lucene/index/IndexReader.html#terms%28%29\" rel=\"noreferrer\">terms()</a> and pick only terms for the field you're interested in:</p>\n\n<pre><code>IndexReader reader = IndexReader.open(index);\nTermEnum terms = reader.terms();\nSet&lt;String&gt; uniqueTerms = new HashSet&lt;String&gt;();\nwhile (terms.next()) {\n        final Term term = terms.term();\n        if (term.field().equals(\"field_name\")) {\n                uniqueTerms.add(term.text());\n        }\n}\n</code></pre>\n\n<p>This is not the optimal solution, you're reading and then discarding all other fields. There's a class <code>Fields</code> in Lucene 4, that returns <a href=\"http://search-lucene.com/jd/lucene/org/apache/lucene/index/Fields.html#terms%28java.lang.String%29\" rel=\"noreferrer\">terms(field)</a> only for a single field. </p>\n"},{"tags":[],"owner":{"account_id":1168065,"reputation":833,"user_id":1145896,"accept_rate":88,"display_name":"pokeRex110"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1508166109,"creation_date":1355737816,"answer_id":13911747,"question_id":8910008,"body_markdown":"If you are using the Lucene 4.0 api, you need to get the fields out of the index reader. The Fields then offers the way to get the terms for each field in the index. Here is an example of how to do that: \r\n\r\n      \t    Fields fields = MultiFields.getFields(indexReader);\r\n        \tTerms terms = fields.terms(&quot;field&quot;);\r\n\t\t\tTermsEnum iterator = terms.iterator(null);\r\n        \tBytesRef byteRef = null;\r\n\t\t\twhile((byteRef = iterator.next()) != null) {\r\n        \t\tString term = new String(byteRef.bytes, byteRef.offset, byteRef.length);\r\n        \t\r\n            }\r\n\r\nEventually, for the new version of Lucene you can get the string from the BytesRef calling:\r\n\r\n           byteRef.utf8ToString();\r\n\r\ninstead of\r\n          \r\n           new String(byteRef.bytes, byteRef.offset, byteRef.length);\r\n\r\n\r\nIf you want to get the document frequency, you can do :\r\n    \r\n           int docFreq = iterator.docFreq();","title":"How can I get the list of unique terms from a specific field in Lucene?","body":"<p>If you are using the Lucene 4.0 api, you need to get the fields out of the index reader. The Fields then offers the way to get the terms for each field in the index. Here is an example of how to do that: </p>\n\n<pre><code>        Fields fields = MultiFields.getFields(indexReader);\n        Terms terms = fields.terms(\"field\");\n        TermsEnum iterator = terms.iterator(null);\n        BytesRef byteRef = null;\n        while((byteRef = iterator.next()) != null) {\n            String term = new String(byteRef.bytes, byteRef.offset, byteRef.length);\n\n        }\n</code></pre>\n\n<p>Eventually, for the new version of Lucene you can get the string from the BytesRef calling:</p>\n\n<pre><code>       byteRef.utf8ToString();\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>       new String(byteRef.bytes, byteRef.offset, byteRef.length);\n</code></pre>\n\n<p>If you want to get the document frequency, you can do :</p>\n\n<pre><code>       int docFreq = iterator.docFreq();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1384511655,"creation_date":1366987755,"answer_id":16239300,"question_id":8910008,"body_markdown":"Same result, just a little cleaner, is to use the `LuceneDictionary` in the `lucene-suggest` package. It takes care of a field that does not contain any terms by returning an `BytesRefIterator.EMPTY`. That will save you a NPE :)\r\n \r\n\r\n\t\tLuceneDictionary ld = new LuceneDictionary( indexReader, &quot;field&quot; );\r\n\t\tBytesRefIterator iterator = ld.getWordsIterator();\r\n\t\tBytesRef byteRef = null;\r\n\t\twhile ( ( byteRef = iterator.next() ) != null )\r\n\t\t{\r\n\t\t\tString term = byteRef.utf8ToString();\r\n\t\t}\r\n","title":"How can I get the list of unique terms from a specific field in Lucene?","body":"<p>Same result, just a little cleaner, is to use the <code>LuceneDictionary</code> in the <code>lucene-suggest</code> package. It takes care of a field that does not contain any terms by returning an <code>BytesRefIterator.EMPTY</code>. That will save you a NPE :)</p>\n\n<pre><code>    LuceneDictionary ld = new LuceneDictionary( indexReader, \"field\" );\n    BytesRefIterator iterator = ld.getWordsIterator();\n    BytesRef byteRef = null;\n    while ( ( byteRef = iterator.next() ) != null )\n    {\n        String term = byteRef.utf8ToString();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1864569,"reputation":11425,"user_id":1688439,"accept_rate":100,"display_name":"Owen Pauling"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1513251796,"creation_date":1513251796,"answer_id":47812531,"question_id":8910008,"body_markdown":"The answers using `TermsEnum` and `terms.next()` have a subtle off by one bug. This is because the `TermsEnum` already points to the first term, so `while(terms.next())` will cause the first term to be skipped.\r\n\r\nInstead use a for loop:\r\n\r\n    TermEnum terms = reader.terms();\r\n    for(Term term = terms.term(); term != null; terms.next(), term = terms.term()) {\r\n        // do something with the term\r\n    }\r\n\r\nTo modify the code from the accepted answer:\r\n\r\n    IndexReader reader = IndexReader.open(index);\r\n    TermEnum terms = reader.terms();\r\n    Set&lt;String&gt; uniqueTerms = new HashSet&lt;String&gt;();\r\n    for(Term term = terms.term(); term != null; terms.next(), term = terms.term()) {\r\n            if (term.field().equals(&quot;field_name&quot;)) {\r\n                    uniqueTerms.add(term.text());\r\n            }\r\n    }","title":"How can I get the list of unique terms from a specific field in Lucene?","body":"<p>The answers using <code>TermsEnum</code> and <code>terms.next()</code> have a subtle off by one bug. This is because the <code>TermsEnum</code> already points to the first term, so <code>while(terms.next())</code> will cause the first term to be skipped.</p>\n\n<p>Instead use a for loop:</p>\n\n<pre><code>TermEnum terms = reader.terms();\nfor(Term term = terms.term(); term != null; terms.next(), term = terms.term()) {\n    // do something with the term\n}\n</code></pre>\n\n<p>To modify the code from the accepted answer:</p>\n\n<pre><code>IndexReader reader = IndexReader.open(index);\nTermEnum terms = reader.terms();\nSet&lt;String&gt; uniqueTerms = new HashSet&lt;String&gt;();\nfor(Term term = terms.term(); term != null; terms.next(), term = terms.term()) {\n        if (term.field().equals(\"field_name\")) {\n                uniqueTerms.add(term.text());\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2000736,"reputation":3013,"user_id":1791856,"accept_rate":88,"display_name":"Alex Moore-Niemi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1603309875,"creation_date":1603309875,"answer_id":64470781,"question_id":8910008,"body_markdown":"As of Lucene 7+ the above and some related links are obsolete.\r\n\r\nHere&#39;s what&#39;s current:\r\n\r\n```\r\n// IndexReader has leaves, you&#39;ll iterate through those\r\nint leavesCount = reader.leaves().size();\r\nfinal String fieldName = &quot;content&quot;;\r\n\r\nfor(int l = 0; l &lt; leavesCount; l++) {\r\n  System.out.println(&quot;l: &quot; + l);\r\n  // specify the field here -----------------------------&gt;\r\n  TermsEnum terms = reader.leaves().get(l).reader().terms(fieldName).iterator();\r\n  // this stops at 20 just to sample the head\r\n  for(int i = 0; i &lt; 20; i++) {\r\n    // and to get it out, here --&gt;\r\n    final Term content = new Term(fieldName, BytesRef.deepCopyOf(terms.next()));\r\n    System.out.println(&quot;i: &quot; + i + &quot;, term: &quot; + content);\r\n  }\r\n}\r\n```","title":"How can I get the list of unique terms from a specific field in Lucene?","body":"<p>As of Lucene 7+ the above and some related links are obsolete.</p>\n<p>Here's what's current:</p>\n<pre><code>// IndexReader has leaves, you'll iterate through those\nint leavesCount = reader.leaves().size();\nfinal String fieldName = &quot;content&quot;;\n\nfor(int l = 0; l &lt; leavesCount; l++) {\n  System.out.println(&quot;l: &quot; + l);\n  // specify the field here -----------------------------&gt;\n  TermsEnum terms = reader.leaves().get(l).reader().terms(fieldName).iterator();\n  // this stops at 20 just to sample the head\n  for(int i = 0; i &lt; 20; i++) {\n    // and to get it out, here --&gt;\n    final Term content = new Term(fieldName, BytesRef.deepCopyOf(terms.next()));\n    System.out.println(&quot;i: &quot; + i + &quot;, term: &quot; + content);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":465074,"reputation":12318,"user_id":868941,"accept_rate":75,"display_name":"rmuller"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661428286,"creation_date":1661428286,"answer_id":73486980,"question_id":8910008,"body_markdown":"Slightly different compared to the solution of @pokeRex110  (tested with Lucene 9.3.0)\r\n\r\n    Terms terms = MultiTerms.getTerms(indexReader, &quot;title&quot;);\r\n    if (terms != null) {\r\n        TermsEnum iter = terms.iterator();\r\n        BytesRef byteRef = null;\r\n        while ((byteRef = iter.next()) != null) {\r\n            System.out.printf(&quot;%s (freq=%s)%n&quot;, \r\n                byteRef.utf8ToString(), \r\n                iter.docFreq()\r\n            );\r\n        }\r\n    }","title":"How can I get the list of unique terms from a specific field in Lucene?","body":"<p>Slightly different compared to the solution of @pokeRex110  (tested with Lucene 9.3.0)</p>\n<pre><code>Terms terms = MultiTerms.getTerms(indexReader, &quot;title&quot;);\nif (terms != null) {\n    TermsEnum iter = terms.iterator();\n    BytesRef byteRef = null;\n    while ((byteRef = iter.next()) != null) {\n        System.out.printf(&quot;%s (freq=%s)%n&quot;, \n            byteRef.utf8ToString(), \n            iter.docFreq()\n        );\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":120672,"reputation":40569,"user_id":313245,"accept_rate":81,"display_name":"Hossein"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15230,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":8910072,"answer_count":6,"score":10,"last_activity_date":1661428286,"creation_date":1326889190,"question_id":8910008,"body_markdown":"I have an index from a large corpus with several fields. Only one these fields contain text.\r\nI need to extract the unique words from the whole index based on this field.\r\nDoes anyone know how I can do that with Lucene in java?\r\n","title":"How can I get the list of unique terms from a specific field in Lucene?","body":"<p>I have an index from a large corpus with several fields. Only one these fields contain text.\nI need to extract the unique words from the whole index based on this field.\nDoes anyone know how I can do that with Lucene in java?</p>\n"},{"tags":["java","mongodb","morphia"],"answers":[{"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1373450852,"creation_date":1373450493,"answer_id":17567747,"question_id":17567686,"body_markdown":"Use `String#equals` to compare `String` content. The `==` operator compares object references. `JTextField#getText` returns a different `String` object compared to the interned one `&quot;&quot;` being compared so the field value for the `Entity` `contact` is never set.\r\n\r\n    if (jTextField4.getText().equals(&quot;&quot;)) {\r\n       contact.setName(jTextField4.getText());\r\n    }","title":"I dont want to save the field with null values in MongoDB using Morphia","body":"<p>Use <code>String#equals</code> to compare <code>String</code> content. The <code>==</code> operator compares object references. <code>JTextField#getText</code> returns a different <code>String</code> object compared to the interned one <code>\"\"</code> being compared so the field value for the <code>Entity</code> <code>contact</code> is never set.</p>\n\n<pre><code>if (jTextField4.getText().equals(\"\")) {\n   contact.setName(jTextField4.getText());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":178568,"reputation":1722,"user_id":410624,"accept_rate":84,"display_name":"krizajb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661428262,"creation_date":1661428262,"answer_id":73486972,"question_id":17567686,"body_markdown":"One can disable storing of null values in mongo by using `Datastore.getMapper().getOptions().setStoreNulls(false);`","title":"I dont want to save the field with null values in MongoDB using Morphia","body":"<p>One can disable storing of null values in mongo by using <code>Datastore.getMapper().getOptions().setStoreNulls(false);</code></p>\n"}],"owner":{"account_id":2734621,"reputation":551,"user_id":2357558,"accept_rate":68,"display_name":"TangoStar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1056,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":17567747,"answer_count":2,"score":0,"last_activity_date":1661428262,"creation_date":1373450327,"question_id":17567686,"body_markdown":"I have a form with many fields, I want to save this fields in mongodb in a collection. I want if the user doesnt fill a textfield, then this field should not be saved in the collection.\r\n\r\nI have an `District` Entity. This entity contains another two entities (`contact` and `address`).\r\n\r\nThe District class lokks like this:\r\n\r\n    public class District {\r\n        @Id private ObjectId id;\r\n        private String Type;\r\n        private String Name;\r\n        private Contact contact;\r\n        private  Address address;\r\n    \r\n        /**\r\n         * @return the Type\r\n         */\r\n        public String getType() {\r\n            return Type;\r\n            }\r\n    ....\r\n    \r\n        /**\r\n         * @param Type the Type to set\r\n         */\r\n        public void setType(String Type) {\r\n            this.Type = Type;\r\n        }\r\n\r\nFor contact I have this Java class:\r\n\r\n    @Embedded\r\n    public class Contact {\r\n        private String email;\r\n        private String fax;\r\n        private String firstname;\r\n        private String lastname;\r\n        private String gender;\r\n        private String telephone;\r\n        private String title; \r\n    \r\n        /**\r\n         * @return the email\r\n         */\r\n        public String getEmail() {\r\n            return email;\r\n        }\r\n    \r\n        /**\r\n         * @param email the email to set\r\n         */\r\n        public void setEmail(String email) {\r\n            this.email = email;\r\n        }\r\n    \r\n        /**\r\n         * @return the fax\r\n         */\r\n        public String getFax() {\r\n            return fax;\r\n        }\r\n    \r\n        /**\r\n         * @param fax the fax to set\r\n         */\r\n        public void setFax(String fax) {\r\n            this.fax = fax;\r\n        } \r\n    ...\r\n\r\nand my form lokks like this:\r\n\r\n    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n           Mongo mongo = null;\r\n            try {\r\n                mongo = new Mongo();\r\n            } catch (UnknownHostException ex) {\r\n                Logger.getLogger(TestForm.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n            Morphia morphia=new Morphia();\r\n            morphia.map(District).map(Contact).map(Address);\r\n            \r\n            \r\n          District district=new District();\r\n          \r\n          \r\n          district.setName(jTextField2.getText());\r\n          district.setType(jTextField3.getText());\r\n          \r\n          Address address=new Address();\r\n          address.setCity(jTextField11.getText());\r\n          address.setStreet(jTextField10.getText());\r\n          address.setZipcode(jTextField9.getText());\r\n    ....\r\n     Datastore ds=morphia.createDatastore(mongo, &quot;rcfdb&quot;);\r\n          ds.save(district);\r\n\r\nI want if the user doesnt fill the `Name` field in the Form, then this field is not written in the MongoDB.(now I see the field i.e `Name` with null value) I have tried to do that but that didnt help me:\r\n \r\n\r\n    ....\r\n    if(jTextField4.getText()!=&quot;&quot;)\r\n           {\r\n             contact.setName(jTextField4.getText());\r\n           }\r\n    ....\r\n\r\ncould you please help me to do this job?\r\n\r\nthanks","title":"I dont want to save the field with null values in MongoDB using Morphia","body":"<p>I have a form with many fields, I want to save this fields in mongodb in a collection. I want if the user doesnt fill a textfield, then this field should not be saved in the collection.</p>\n\n<p>I have an <code>District</code> Entity. This entity contains another two entities (<code>contact</code> and <code>address</code>).</p>\n\n<p>The District class lokks like this:</p>\n\n<pre><code>public class District {\n    @Id private ObjectId id;\n    private String Type;\n    private String Name;\n    private Contact contact;\n    private  Address address;\n\n    /**\n     * @return the Type\n     */\n    public String getType() {\n        return Type;\n        }\n....\n\n    /**\n     * @param Type the Type to set\n     */\n    public void setType(String Type) {\n        this.Type = Type;\n    }\n</code></pre>\n\n<p>For contact I have this Java class:</p>\n\n<pre><code>@Embedded\npublic class Contact {\n    private String email;\n    private String fax;\n    private String firstname;\n    private String lastname;\n    private String gender;\n    private String telephone;\n    private String title; \n\n    /**\n     * @return the email\n     */\n    public String getEmail() {\n        return email;\n    }\n\n    /**\n     * @param email the email to set\n     */\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    /**\n     * @return the fax\n     */\n    public String getFax() {\n        return fax;\n    }\n\n    /**\n     * @param fax the fax to set\n     */\n    public void setFax(String fax) {\n        this.fax = fax;\n    } \n...\n</code></pre>\n\n<p>and my form lokks like this:</p>\n\n<pre><code>private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n       Mongo mongo = null;\n        try {\n            mongo = new Mongo();\n        } catch (UnknownHostException ex) {\n            Logger.getLogger(TestForm.class.getName()).log(Level.SEVERE, null, ex);\n        }\n        Morphia morphia=new Morphia();\n        morphia.map(District).map(Contact).map(Address);\n\n\n      District district=new District();\n\n\n      district.setName(jTextField2.getText());\n      district.setType(jTextField3.getText());\n\n      Address address=new Address();\n      address.setCity(jTextField11.getText());\n      address.setStreet(jTextField10.getText());\n      address.setZipcode(jTextField9.getText());\n....\n Datastore ds=morphia.createDatastore(mongo, \"rcfdb\");\n      ds.save(district);\n</code></pre>\n\n<p>I want if the user doesnt fill the <code>Name</code> field in the Form, then this field is not written in the MongoDB.(now I see the field i.e <code>Name</code> with null value) I have tried to do that but that didnt help me:</p>\n\n<pre><code>....\nif(jTextField4.getText()!=\"\")\n       {\n         contact.setName(jTextField4.getText());\n       }\n....\n</code></pre>\n\n<p>could you please help me to do this job?</p>\n\n<p>thanks</p>\n"},{"tags":["java","maven","artifacts","hessian"],"comments":[{"owner":{"account_id":126610,"reputation":13693,"user_id":323221,"accept_rate":76,"display_name":"Erik Pragt"},"score":2,"creation_date":1369651686,"post_id":16771398,"comment_id":24163895,"body_markdown":"What I would do is to (re)move a part of your local Maven repo (in ~/.m2/repository), especially the com.caucho part, and build it then. See if maven will correctly download the file. If that doesn&#39;t work, enable debugging (-X, I think), and see what that does.","body":"What I would do is to (re)move a part of your local Maven repo (in ~/.m2/repository), especially the com.caucho part, and build it then. See if maven will correctly download the file. If that doesn&#39;t work, enable debugging (-X, I think), and see what that does."},{"owner":{"account_id":1417953,"reputation":45783,"user_id":1343161,"accept_rate":100,"display_name":"Keppil"},"score":0,"creation_date":1369651963,"post_id":16771398,"comment_id":24164003,"body_markdown":"Did you look at [this question](http://stackoverflow.com/q/5074063/134316)?","body":"Did you look at <a href=\"http://stackoverflow.com/q/5074063/134316\">this question</a>?"},{"owner":{"account_id":2792307,"reputation":99,"user_id":2402304,"display_name":"aPythonJourney"},"score":0,"creation_date":1369658307,"post_id":16771398,"comment_id":24167086,"body_markdown":"I tried to remove the caucho/hessian folder from ~/.m2 and to restart maven. The missing parts were properly downloaded :","body":"I tried to remove the caucho/hessian folder from ~/.m2 and to restart maven. The missing parts were properly downloaded :"},{"owner":{"account_id":2792307,"reputation":99,"user_id":2402304,"display_name":"aPythonJourney"},"score":0,"creation_date":1369658916,"post_id":16771398,"comment_id":24167393,"body_markdown":"The missing parts were properly downloaded, but the errors didn&#39;t go away. mvn clean and project clean doesn&#39;t solve my issue, neither does closing/reopening the projects.","body":"The missing parts were properly downloaded, but the errors didn&#39;t go away. mvn clean and project clean doesn&#39;t solve my issue, neither does closing/reopening the projects."}],"answers":[{"tags":[],"owner":{"account_id":137963,"reputation":1295,"user_id":2053415,"display_name":"Simon Verhoeven"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1372766064,"creation_date":1372766064,"answer_id":17424944,"question_id":16771398,"body_markdown":"Open a command prompt, go to your project directory and run: `mvn eclipse:eclipse -DdownloadSources=true -DdownloadJavadocs=true`\r\n\r\nThe `eclipse:eclipse` portion will regenerate your project files etc, the last 2 properties are more for convenience but I like downloading the sources and javadoc.","title":"Maven not able to download dependency","body":"<p>Open a command prompt, go to your project directory and run: <code>mvn eclipse:eclipse -DdownloadSources=true -DdownloadJavadocs=true</code></p>\n\n<p>The <code>eclipse:eclipse</code> portion will regenerate your project files etc, the last 2 properties are more for convenience but I like downloading the sources and javadoc.</p>\n"},{"tags":[],"owner":{"account_id":1317368,"reputation":28514,"user_id":1263942,"accept_rate":96,"display_name":"Bruno Grieder"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1372766546,"creation_date":1372766546,"answer_id":17425110,"question_id":16771398,"body_markdown":"After a failed attempt, maven will leave a small file in your local .m2 repository that will prevent any attempt to re-download the file unless the update interval has elapsed or you force the updates using the maven  `-U` switch described in other answers.\r\n\r\nJust delete the folder for that artifact in your local m2 repository and update you project; a new download attempt will trigger.\r\n\r\n`rm -rf ~/.m2/repository/com/caucho/hessian/3.1.5`","title":"Maven not able to download dependency","body":"<p>After a failed attempt, maven will leave a small file in your local .m2 repository that will prevent any attempt to re-download the file unless the update interval has elapsed or you force the updates using the maven  <code>-U</code> switch described in other answers.</p>\n\n<p>Just delete the folder for that artifact in your local m2 repository and update you project; a new download attempt will trigger.</p>\n\n<p><code>rm -rf ~/.m2/repository/com/caucho/hessian/3.1.5</code></p>\n"}],"owner":{"account_id":2792307,"reputation":99,"user_id":2402304,"display_name":"aPythonJourney"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43697,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":17425110,"answer_count":2,"score":6,"last_activity_date":1661428232,"creation_date":1369651363,"question_id":16771398,"body_markdown":"I have started working on a new project using Maven, and I&#39;m unable to have it work properly on eclipse. I have multiples of this error :\r\n\r\n    ArtifactTransferException: Failure to transfer com.caucho:hessian:jar:3.1.5 from &lt;repository&gt; was cached in the local repository, resolution will not be reattempted until the update interval of Archiva SIVPN Internal has elapsed or updates are forced. Original error: Could not transfer artifact com.caucho:hessian:jar:3.1.5 from/to Archiva SIVPN Internal (&lt;repository&gt;): No response received after 60000\tpom.xml\t/&lt;file&gt;\tline 2\tMaven Dependency Problem\r\n    Description\tResource\tPath\tLocation\tType\r\nMissing artifact com.caucho:hessian:jar:3.1.5\tpom.xml\t/&lt;file&gt;\tline 2\tMaven Dependency Problem\r\n\r\nAfter doing some research, I found that it was probably either the pom.xml that&#39;s wrong, or that I have proxy problems.\r\n\r\nI checked that the resource was available on our repository, and that the pom snippet is the same as declared in my code :\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.caucho&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hessian&lt;/artifactId&gt;\r\n      &lt;version&gt;3.1.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nMy proxy works just fine for the trunk of the project, and there is no other proxy I&#39;m aware of.\r\n\r\nI thought it was maybe a one-time connection problem, but making a new maven build with `-U` didn&#39;t resolve the problem.\r\n\r\nI also found [https://stackoverflow.com/questions/6111408/maven2-missing-artifact-but-jars-are-in-place\r\n][1] with several I-don&#39;t-know-what-else-to-do solutions, but it didn&#39;t work for me...\r\n\r\nSince the lead developer is on vacation and I have little experience on mvn, could someone tell me other potential problems that could be responsible for this ?\r\n\r\nThanks in advance for answers :)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6111408/maven2-missing-artifact-but-jars-are-in-place","title":"Maven not able to download dependency","body":"<p>I have started working on a new project using Maven, and I'm unable to have it work properly on eclipse. I have multiples of this error :</p>\n\n<pre><code>ArtifactTransferException: Failure to transfer com.caucho:hessian:jar:3.1.5 from &lt;repository&gt; was cached in the local repository, resolution will not be reattempted until the update interval of Archiva SIVPN Internal has elapsed or updates are forced. Original error: Could not transfer artifact com.caucho:hessian:jar:3.1.5 from/to Archiva SIVPN Internal (&lt;repository&gt;): No response received after 60000    pom.xml /&lt;file&gt; line 2  Maven Dependency Problem\nDescription Resource    Path    Location    Type\n</code></pre>\n\n<p>Missing artifact com.caucho:hessian:jar:3.1.5   pom.xml / line 2  Maven Dependency Problem</p>\n\n<p>After doing some research, I found that it was probably either the pom.xml that's wrong, or that I have proxy problems.</p>\n\n<p>I checked that the resource was available on our repository, and that the pom snippet is the same as declared in my code :</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.caucho&lt;/groupId&gt;\n  &lt;artifactId&gt;hessian&lt;/artifactId&gt;\n  &lt;version&gt;3.1.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>My proxy works just fine for the trunk of the project, and there is no other proxy I'm aware of.</p>\n\n<p>I thought it was maybe a one-time connection problem, but making a new maven build with <code>-U</code> didn't resolve the problem.</p>\n\n<p>I also found <a href=\"https://stackoverflow.com/questions/6111408/maven2-missing-artifact-but-jars-are-in-place\">https://stackoverflow.com/questions/6111408/maven2-missing-artifact-but-jars-are-in-place\n</a> with several I-don't-know-what-else-to-do solutions, but it didn't work for me...</p>\n\n<p>Since the lead developer is on vacation and I have little experience on mvn, could someone tell me other potential problems that could be responsible for this ?</p>\n\n<p>Thanks in advance for answers :)</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1661416614,"post_id":73483459,"comment_id":129768686,"body_markdown":"Use ```JOptionPane``` to display an error message. Plenty of examples exist","body":"Use <code>JOptionPane</code> to display an error message. Plenty of examples exist"}],"answers":[{"tags":[],"owner":{"account_id":26086726,"reputation":129,"user_id":19784153,"display_name":"ePortfel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661428011,"creation_date":1661428011,"answer_id":73486911,"question_id":73483459,"body_markdown":"Complete runnable solution.\r\n\r\nYou&#39;re welcome.\r\n\r\n```\r\npublic class MyDialog extends JDialog\r\n{\r\n  public MyDialog()\r\n  {\r\n    txtField = new javax.swing.JTextField();\r\n    btn = new javax.swing.JButton();\r\n\r\n    setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);\r\n    getContentPane().setLayout(new java.awt.FlowLayout());\r\n\r\n    txtField.setText(&quot;XXXXXXXXXXXX&quot;);\r\n    getContentPane().add(txtField);\r\n\r\n    btn.setText(&quot;OK&quot;);\r\n    btn.addActionListener(new java.awt.event.ActionListener()\r\n    {\r\n      public void actionPerformed(java.awt.event.ActionEvent evt)\r\n      {\r\n        btnActionPerformed(evt);\r\n      }\r\n    });\r\n    getContentPane().add(btn);\r\n\r\n    pack();     \r\n  }\r\n\r\n  private void btnActionPerformed(java.awt.event.ActionEvent evt)                                    \r\n  {                                        \r\n    if (txtField.getText().equals(&quot;XXX&quot;))\r\n    {\r\n      JOptionPane.showMessageDialog((Component)evt.getSource(),&quot;Good input, closing.&quot;);\r\n      dispose();\r\n    }\r\n    else\r\n    {\r\n      JOptionPane.showMessageDialog((Component)evt.getSource(),&quot;Bad input, correct please.&quot;);      \r\n    }\r\n  }                                   \r\n\r\n  public static void main(String args[])\r\n  {\r\n    MyDialog dialog = new MyDialog();\r\n    dialog.setVisible(true);\r\n  }\r\n                  \r\n  private javax.swing.JButton btn;\r\n  private javax.swing.JTextField txtField;                \r\n}\r\n```","title":"How to add an action listener to JDialog Textfield in Java Swing?","body":"<p>Complete runnable solution.</p>\n<p>You're welcome.</p>\n<pre><code>public class MyDialog extends JDialog\n{\n  public MyDialog()\n  {\n    txtField = new javax.swing.JTextField();\n    btn = new javax.swing.JButton();\n\n    setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);\n    getContentPane().setLayout(new java.awt.FlowLayout());\n\n    txtField.setText(&quot;XXXXXXXXXXXX&quot;);\n    getContentPane().add(txtField);\n\n    btn.setText(&quot;OK&quot;);\n    btn.addActionListener(new java.awt.event.ActionListener()\n    {\n      public void actionPerformed(java.awt.event.ActionEvent evt)\n      {\n        btnActionPerformed(evt);\n      }\n    });\n    getContentPane().add(btn);\n\n    pack();     \n  }\n\n  private void btnActionPerformed(java.awt.event.ActionEvent evt)                                    \n  {                                        \n    if (txtField.getText().equals(&quot;XXX&quot;))\n    {\n      JOptionPane.showMessageDialog((Component)evt.getSource(),&quot;Good input, closing.&quot;);\n      dispose();\n    }\n    else\n    {\n      JOptionPane.showMessageDialog((Component)evt.getSource(),&quot;Bad input, correct please.&quot;);      \n    }\n  }                                   \n\n  public static void main(String args[])\n  {\n    MyDialog dialog = new MyDialog();\n    dialog.setVisible(true);\n  }\n                  \n  private javax.swing.JButton btn;\n  private javax.swing.JTextField txtField;                \n}\n</code></pre>\n"}],"owner":{"account_id":25686735,"reputation":5,"user_id":19448693,"display_name":"kdawn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73486911,"answer_count":1,"score":0,"last_activity_date":1661428011,"creation_date":1661412297,"question_id":73483459,"body_markdown":"I have a JDialog form in a Java Swing app. If the user enters valid inputs and clicks the Ok button, the data will save to the DB, but if not valid, a message box should display with the appropriate message, and then the dialog form should remain visible until the user clicks the Cancel button or entered valid input and clicks the OK button. I&#39;m very new to Java Swing. Any sample code is highly appreciated.\r\n\r\nHere is what I want to do:\r\n\r\n     private void saveOnOKCklicked() {\r\n      String string1ToValidate = textField1.getText();\r\n      String string2ToValidate = textField2.getText();\r\n      \r\n     // here I want to do the validation for the Dialog box and the fields but not knowing how to start.\r\n        // Though I have read some documents online but do not fully understand how to do it.\r\n    }\r\n\r\n\r\nThis is what I have done so far: I want to call this method when the ok button is clicked.\r\n\r\n      private void onOk() {\r\n                name = nameTextField.getText();\r\n                inputToValidate = inputField.getText();\r\n               okClick = true;\r\n               dispose();\r\n    }\r\n\r\n    private ActionListener oKButtonClicked() {\r\n      return new ActionListener() {\r\n          @Override\r\n          public void actionPerformed(ActionEvent e) {\r\n              String checkInput = inputField.getText();\r\n              if (checkInput is valid){\r\n                 continue with the process\r\n          }\r\n              else show a message box and dialog form remains visible \r\n          }\r\n      };\r\n    }\r\n\r\nBut this one only shows the message box if the input is not valid. but the dialog form closes when the message box&#39;s ok button is clicked. I want the dialog form to remain open until the input is valid before it closes when the ok button is clicked. please, help.","title":"How to add an action listener to JDialog Textfield in Java Swing?","body":"<p>I have a JDialog form in a Java Swing app. If the user enters valid inputs and clicks the Ok button, the data will save to the DB, but if not valid, a message box should display with the appropriate message, and then the dialog form should remain visible until the user clicks the Cancel button or entered valid input and clicks the OK button. I'm very new to Java Swing. Any sample code is highly appreciated.</p>\n<p>Here is what I want to do:</p>\n<pre><code> private void saveOnOKCklicked() {\n  String string1ToValidate = textField1.getText();\n  String string2ToValidate = textField2.getText();\n  \n // here I want to do the validation for the Dialog box and the fields but not knowing how to start.\n    // Though I have read some documents online but do not fully understand how to do it.\n}\n</code></pre>\n<p>This is what I have done so far: I want to call this method when the ok button is clicked.</p>\n<pre><code>  private void onOk() {\n            name = nameTextField.getText();\n            inputToValidate = inputField.getText();\n           okClick = true;\n           dispose();\n}\n\nprivate ActionListener oKButtonClicked() {\n  return new ActionListener() {\n      @Override\n      public void actionPerformed(ActionEvent e) {\n          String checkInput = inputField.getText();\n          if (checkInput is valid){\n             continue with the process\n      }\n          else show a message box and dialog form remains visible \n      }\n  };\n}\n</code></pre>\n<p>But this one only shows the message box if the input is not valid. but the dialog form closes when the message box's ok button is clicked. I want the dialog form to remain open until the input is valid before it closes when the ok button is clicked. please, help.</p>\n"},{"tags":["java","concurrency","countdownlatch","cyclicbarrier"],"comments":[{"owner":{"account_id":2812323,"reputation":2352,"user_id":2418306,"accept_rate":80,"display_name":"user2418306"},"score":14,"creation_date":1459852908,"post_id":4168772,"comment_id":60462338,"body_markdown":"Latches are for waiting for events; barriers are for waiting for other threads. - Java Concurrency in Practice, B.Goetz et al.","body":"Latches are for waiting for events; barriers are for waiting for other threads. - Java Concurrency in Practice, B.Goetz et al."},{"owner":{"account_id":12883313,"reputation":431,"user_id":9317690,"display_name":"alife"},"score":0,"creation_date":1673201404,"post_id":4168772,"comment_id":132440205,"body_markdown":"Careful with the CyclicBarrier.  Unlike the countdown latch, it&#39;s role is to always block any caller until all threads have completed.  This means if you (say) are attempting to use it from the GUI thread to trigger (say) a change in state in another thread, you are required to make sure that the other thread is already waiting, or call `.reset()` which is apparently highly unclean.  CountDownLatch absolutely should have been resetable; I believe it is a failing.  CyclicBarrier&#39;s are listed as options for when you need a reusable latch, but it&#39;s simply not the same mechanism.","body":"Careful with the CyclicBarrier.  Unlike the countdown latch, it&#39;s role is to always block any caller until all threads have completed.  This means if you (say) are attempting to use it from the GUI thread to trigger (say) a change in state in another thread, you are required to make sure that the other thread is already waiting, or call <code>.reset()</code> which is apparently highly unclean.  CountDownLatch absolutely should have been resetable; I believe it is a failing.  CyclicBarrier&#39;s are listed as options for when you need a reusable latch, but it&#39;s simply not the same mechanism."}],"answers":[{"tags":[],"owner":{"account_id":30387,"reputation":62460,"user_id":82865,"accept_rate":71,"display_name":"Jonathan Holloway"},"down_vote_count":0,"up_vote_count":145,"is_accepted":true,"score":145,"last_activity_date":1289594590,"creation_date":1289594252,"answer_id":4168861,"question_id":4168772,"body_markdown":"One major difference is that [CyclicBarrier][1] takes an (optional) Runnable task which is run once the common barrier condition is met.  \r\n\r\nIt also allows you to get the number of clients waiting at the barrier and the number required to trigger the barrier.  Once triggered the barrier is reset and can be used again.  \r\n\r\nFor simple use cases - services starting etc... a CountdownLatch is fine.  A CyclicBarrier is useful for more complex co-ordination tasks.  An example of such a thing would be parallel computation - where multiple subtasks are involved in the computation - kind of like [MapReduce][2].\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/CyclicBarrier.html\r\n  [2]: http://en.wikipedia.org/wiki/MapReduce","title":"Java concurrency: Countdown latch vs Cyclic barrier","body":"<p>One major difference is that <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/CyclicBarrier.html\" rel=\"noreferrer\">CyclicBarrier</a> takes an (optional) Runnable task which is run once the common barrier condition is met.  </p>\n\n<p>It also allows you to get the number of clients waiting at the barrier and the number required to trigger the barrier.  Once triggered the barrier is reset and can be used again.  </p>\n\n<p>For simple use cases - services starting etc... a CountdownLatch is fine.  A CyclicBarrier is useful for more complex co-ordination tasks.  An example of such a thing would be parallel computation - where multiple subtasks are involved in the computation - kind of like <a href=\"http://en.wikipedia.org/wiki/MapReduce\" rel=\"noreferrer\">MapReduce</a>.</p>\n"},{"tags":[],"owner":{"account_id":72007,"reputation":3018,"user_id":208065,"accept_rate":100,"display_name":"JohnnyO"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1289594651,"creation_date":1289594651,"answer_id":4168895,"question_id":4168772,"body_markdown":"The main difference is documented right in the Javadocs for CountdownLatch.  Namely: \r\n\r\n\r\n&gt; A CountDownLatch is initialized with a\r\n&gt; given count. The await methods block\r\n&gt; until the current count reaches zero\r\n&gt; due to invocations of the countDown()\r\n&gt; method, after which all waiting\r\n&gt; threads are released and any\r\n&gt; subsequent invocations of await return\r\n&gt; immediately. This is a one-shot\r\n&gt; phenomenon -- the count cannot be\r\n&gt; reset. If you need a version that\r\n&gt; resets the count, consider using a\r\n&gt; CyclicBarrier.\r\n\r\n\r\nsource [1.6 Javadoc][1]\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/concurrent/CountDownLatch.html","title":"Java concurrency: Countdown latch vs Cyclic barrier","body":"<p>The main difference is documented right in the Javadocs for CountdownLatch.  Namely: </p>\n\n<blockquote>\n  <p>A CountDownLatch is initialized with a\n  given count. The await methods block\n  until the current count reaches zero\n  due to invocations of the countDown()\n  method, after which all waiting\n  threads are released and any\n  subsequent invocations of await return\n  immediately. This is a one-shot\n  phenomenon -- the count cannot be\n  reset. If you need a version that\n  resets the count, consider using a\n  CyclicBarrier.</p>\n</blockquote>\n\n<p>source <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/concurrent/CountDownLatch.html\" rel=\"noreferrer\">1.6 Javadoc</a></p>\n"},{"tags":[],"owner":{"account_id":309761,"reputation":1589,"user_id":622390,"display_name":"Kim"},"down_vote_count":1,"up_vote_count":149,"is_accepted":false,"score":148,"last_activity_date":1298955213,"creation_date":1298955213,"answer_id":5150598,"question_id":4168772,"body_markdown":"There&#39;s another difference.\r\n\r\nWhen using a `CyclicBarrier`, the assumption is that you specify the number of waiting threads that trigger the barrier. If you specify 5, you must have at least 5 threads to call `await()`.\r\n\r\nWhen using a `CountDownLatch`, you specify the number of calls to `countDown()` that will result in all waiting threads being released. This means that you can use a `CountDownLatch` with only a single thread.\r\n\r\n&quot;Why would you do that?&quot;, you may say. Imagine that you are using a mysterious API coded by someone else that performs callbacks. You want one of your threads to wait until a certain callback has been called a number of times. You have no idea which threads the callback will be called on. In this case, a `CountDownLatch` is perfect, whereas I can&#39;t think of any way to implement this using a `CyclicBarrier` (actually, I can, but it involves timeouts... yuck!).\r\n\r\nI just wish that `CountDownLatch` could be reset!","title":"Java concurrency: Countdown latch vs Cyclic barrier","body":"<p>There's another difference.</p>\n\n<p>When using a <code>CyclicBarrier</code>, the assumption is that you specify the number of waiting threads that trigger the barrier. If you specify 5, you must have at least 5 threads to call <code>await()</code>.</p>\n\n<p>When using a <code>CountDownLatch</code>, you specify the number of calls to <code>countDown()</code> that will result in all waiting threads being released. This means that you can use a <code>CountDownLatch</code> with only a single thread.</p>\n\n<p>\"Why would you do that?\", you may say. Imagine that you are using a mysterious API coded by someone else that performs callbacks. You want one of your threads to wait until a certain callback has been called a number of times. You have no idea which threads the callback will be called on. In this case, a <code>CountDownLatch</code> is perfect, whereas I can't think of any way to implement this using a <code>CyclicBarrier</code> (actually, I can, but it involves timeouts... yuck!).</p>\n\n<p>I just wish that <code>CountDownLatch</code> could be reset!</p>\n"},{"tags":[],"owner":{"account_id":1106810,"reputation":41,"user_id":1098067,"display_name":"Brandon"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1323876389,"creation_date":1323874686,"answer_id":8506577,"question_id":4168772,"body_markdown":"In the case of CyclicBarrier, as soon as ALL child threads begins calling barrier.await(), the Runnable is executed in the Barrier. The barrier.await in each child thread will take different lengh of time to finish, and they all finish at the same time. ","title":"Java concurrency: Countdown latch vs Cyclic barrier","body":"<p>In the case of CyclicBarrier, as soon as ALL child threads begins calling barrier.await(), the Runnable is executed in the Barrier. The barrier.await in each child thread will take different lengh of time to finish, and they all finish at the same time. </p>\n"},{"tags":[],"owner":{"account_id":146287,"reputation":3470,"user_id":356645,"display_name":"shams"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1335751342,"creation_date":1335751342,"answer_id":10377726,"question_id":4168772,"body_markdown":"A CountDownLatch is used for one-time synchronization. While using a CountDownLatch, any thread is allowed to call countDown() as many times as they like. Threads which called await() are blocked until the count reaches zero because of calls to countDown() by other unblocked threads. The [javadoc for CountDownLatch][2] states:\n\n&gt; The await methods block until the current count reaches zero due to\n&gt; invocations of the countDown() method, after which all waiting threads\n&gt; are released and any subsequent invocations of await return\n&gt; immediately.\n&gt; ...\n&gt;\n&gt; Another typical usage would be to divide a problem into N parts,\n&gt; describe each part with a Runnable that executes that portion and\n&gt; counts down on the latch, and queue all the Runnables to an Executor.\n&gt; When all sub-parts are complete, the coordinating thread will be able\n&gt; to pass through await. (When threads must repeatedly count down in\n&gt; this way, instead use a CyclicBarrier.)\n\n\nIn contrast, the cyclic barrier is used for multiple sychronization points, e.g. if a set of threads are running a loop/phased computation and need to synchronize before starting the next iteration/phase. As per the [javadoc for CyclicBarrier][1]:\n\n&gt; The barrier is called cyclic because it can be re-used after the\n&gt; waiting threads are released.\n\nUnlike the CountDownLatch, each call to await() belongs to some phase and can cause the thread to block until all parties belonging to that phase have invoked await(). There is no explicit countDown() operation supported by the CyclicBarrier.\n\n  \n\n[1]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CyclicBarrier.html\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CountDownLatch.html\n","title":"Java concurrency: Countdown latch vs Cyclic barrier","body":"<p>A CountDownLatch is used for one-time synchronization. While using a CountDownLatch, any thread is allowed to call countDown() as many times as they like. Threads which called await() are blocked until the count reaches zero because of calls to countDown() by other unblocked threads. The <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CountDownLatch.html\" rel=\"noreferrer\">javadoc for CountDownLatch</a> states:</p>\n<blockquote>\n<p>The await methods block until the current count reaches zero due to\ninvocations of the countDown() method, after which all waiting threads\nare released and any subsequent invocations of await return\nimmediately.\n...</p>\n<p>Another typical usage would be to divide a problem into N parts,\ndescribe each part with a Runnable that executes that portion and\ncounts down on the latch, and queue all the Runnables to an Executor.\nWhen all sub-parts are complete, the coordinating thread will be able\nto pass through await. (When threads must repeatedly count down in\nthis way, instead use a CyclicBarrier.)</p>\n</blockquote>\n<p>In contrast, the cyclic barrier is used for multiple sychronization points, e.g. if a set of threads are running a loop/phased computation and need to synchronize before starting the next iteration/phase. As per the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CyclicBarrier.html\" rel=\"noreferrer\">javadoc for CyclicBarrier</a>:</p>\n<blockquote>\n<p>The barrier is called cyclic because it can be re-used after the\nwaiting threads are released.</p>\n</blockquote>\n<p>Unlike the CountDownLatch, each call to await() belongs to some phase and can cause the thread to block until all parties belonging to that phase have invoked await(). There is no explicit countDown() operation supported by the CyclicBarrier.</p>\n"},{"tags":[],"owner":{"account_id":329066,"reputation":6021,"user_id":652378,"accept_rate":52,"display_name":"Chirlo"},"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1349625782,"creation_date":1349625782,"answer_id":12770402,"question_id":4168772,"body_markdown":"One point that nobody has yet mentioned is that, in a `CyclicBarrier`, if a thread has a problem (timeout, interrupted...), all the others that have reached `await()` get an exception. See Javadoc: \r\n&gt;The CyclicBarrier uses an all-or-none breakage model for failed synchronization attempts: If a thread leaves a barrier point prematurely because of interruption, failure, or timeout, all other threads waiting at that barrier point will also leave abnormally via BrokenBarrierException (or InterruptedException if they too were interrupted at about the same time).","title":"Java concurrency: Countdown latch vs Cyclic barrier","body":"<p>One point that nobody has yet mentioned is that, in a <code>CyclicBarrier</code>, if a thread has a problem (timeout, interrupted...), all the others that have reached <code>await()</code> get an exception. See Javadoc: </p>\n\n<blockquote>\n  <p>The CyclicBarrier uses an all-or-none breakage model for failed synchronization attempts: If a thread leaves a barrier point prematurely because of interruption, failure, or timeout, all other threads waiting at that barrier point will also leave abnormally via BrokenBarrierException (or InterruptedException if they too were interrupted at about the same time).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3158057,"reputation":2327,"user_id":2669960,"accept_rate":83,"display_name":"Kevin Lee"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1397283896,"creation_date":1397283896,"answer_id":23026934,"question_id":4168772,"body_markdown":"This question has been adequately answered already, but I think I can value-add a little by posting some code.\r\n\r\nTo illustrate the behaviour of cyclic barrier, I have made some sample code. As soon as the barrier is tipped, it is *automatically* reset so that it can be used again (hence it is &quot;cyclic&quot;). When you run the program, observe that the print outs &quot;Let&#39;s play&quot; are triggered only after the barrier is tipped.\r\n\r\n    import java.util.concurrent.BrokenBarrierException;\r\n    import java.util.concurrent.CyclicBarrier;\r\n    \r\n    public class CyclicBarrierCycles {\r\n    \t\r\n    \tstatic CyclicBarrier barrier;\r\n    \t\r\n    \tpublic static void main(String[] args) throws InterruptedException {\r\n    \t\tbarrier = new CyclicBarrier(3); \r\n    \t\t\r\n    \t\tnew Worker().start();\r\n    \t\tThread.sleep(1000);\r\n    \t\tnew Worker().start();\r\n    \t\tThread.sleep(1000);\r\n    \t\tnew Worker().start();\r\n    \t\tThread.sleep(1000);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Barrier automatically resets.&quot;);\r\n    \t\t\r\n    \t\tnew Worker().start();\r\n    \t\tThread.sleep(1000);\r\n    \t\tnew Worker().start();\r\n    \t\tThread.sleep(1000);\r\n    \t\tnew Worker().start();\r\n    \t}\r\n    \r\n    }\r\n    \r\n    \r\n    class Worker extends Thread {\r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\ttry {\r\n    \t\t\tCyclicBarrierCycles.barrier.await();\r\n    \t\t\tSystem.out.println(&quot;Let&#39;s play.&quot;);\r\n    \t\t} catch (InterruptedException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch (BrokenBarrierException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }","title":"Java concurrency: Countdown latch vs Cyclic barrier","body":"<p>This question has been adequately answered already, but I think I can value-add a little by posting some code.</p>\n\n<p>To illustrate the behaviour of cyclic barrier, I have made some sample code. As soon as the barrier is tipped, it is <em>automatically</em> reset so that it can be used again (hence it is \"cyclic\"). When you run the program, observe that the print outs \"Let's play\" are triggered only after the barrier is tipped.</p>\n\n<pre><code>import java.util.concurrent.BrokenBarrierException;\nimport java.util.concurrent.CyclicBarrier;\n\npublic class CyclicBarrierCycles {\n\n    static CyclicBarrier barrier;\n\n    public static void main(String[] args) throws InterruptedException {\n        barrier = new CyclicBarrier(3); \n\n        new Worker().start();\n        Thread.sleep(1000);\n        new Worker().start();\n        Thread.sleep(1000);\n        new Worker().start();\n        Thread.sleep(1000);\n\n        System.out.println(\"Barrier automatically resets.\");\n\n        new Worker().start();\n        Thread.sleep(1000);\n        new Worker().start();\n        Thread.sleep(1000);\n        new Worker().start();\n    }\n\n}\n\n\nclass Worker extends Thread {\n    @Override\n    public void run() {\n        try {\n            CyclicBarrierCycles.barrier.await();\n            System.out.println(\"Let's play.\");\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        } catch (BrokenBarrierException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3375818,"reputation":893,"user_id":2833957,"display_name":"Justin Civi"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1428746568,"creation_date":1404282830,"answer_id":24524351,"question_id":4168772,"body_markdown":"I think that the JavaDoc has explained the differences explicitly.\r\nMost people know that CountDownLatch can not be reset, however, CyclicBarrier can. But this is not the only difference, or the CyclicBarrier could be renamed to ResetbleCountDownLatch.\r\nWe should tell the differences from the perspective of their goals, which are described in JavaDoc\r\n\r\n**CountDownLatch:** A synchronization aid that allows one or more threads to wait until a set of operations being performed in other threads completes.\r\n\r\n**CyclicBarrier:** A synchronization aid that allows a set of threads to all wait for each other to reach a common barrier point.\r\n \r\nIn countDownLatch, there is one or more threads, that are waiting for a set of **other threads** to complete. In this situation, there are two types of threads, one type is waiting, another type is doing something, after finishes their tasks, they could be waiting or just terminated. \r\n\r\nIn CyclicBarrier, there are only one type of threads, they are waiting for each other, they are equal.\r\n\r\n","title":"Java concurrency: Countdown latch vs Cyclic barrier","body":"<p>I think that the JavaDoc has explained the differences explicitly.\nMost people know that CountDownLatch can not be reset, however, CyclicBarrier can. But this is not the only difference, or the CyclicBarrier could be renamed to ResetbleCountDownLatch.\nWe should tell the differences from the perspective of their goals, which are described in JavaDoc</p>\n\n<p><strong>CountDownLatch:</strong> A synchronization aid that allows one or more threads to wait until a set of operations being performed in other threads completes.</p>\n\n<p><strong>CyclicBarrier:</strong> A synchronization aid that allows a set of threads to all wait for each other to reach a common barrier point.</p>\n\n<p>In countDownLatch, there is one or more threads, that are waiting for a set of <strong>other threads</strong> to complete. In this situation, there are two types of threads, one type is waiting, another type is doing something, after finishes their tasks, they could be waiting or just terminated. </p>\n\n<p>In CyclicBarrier, there are only one type of threads, they are waiting for each other, they are equal.</p>\n"},{"tags":[],"owner":{"account_id":3071466,"reputation":121,"user_id":2602026,"display_name":"Pramma"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1446139267,"creation_date":1446139267,"answer_id":33420760,"question_id":4168772,"body_markdown":"One obvious difference is, only N threads can await on a CyclicBarrier of N to be release in one cycle. But unlimited number of threads can await on a CountDownLatch of N. The count down decrement can be done by one thread N times or N threads one time each or combinations.  ","title":"Java concurrency: Countdown latch vs Cyclic barrier","body":"<p>One obvious difference is, only N threads can await on a CyclicBarrier of N to be release in one cycle. But unlimited number of threads can await on a CountDownLatch of N. The count down decrement can be done by one thread N times or N threads one time each or combinations.  </p>\n"},{"tags":[],"owner":{"account_id":7376502,"reputation":391,"user_id":5614906,"display_name":"V Jo"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1661427988,"creation_date":1463251093,"answer_id":37230484,"question_id":4168772,"body_markdown":"In **CountDownLatch**, threads waits for other threads to complete their execution. In **CyclicBarrier**, worker threads wait for each other to complete their execution.\r\n\r\nYou can not reuse same **CountDownLatch** instance once count reaches to zero and latch is open, on the other hand **CyclicBarrier** can be reused by resetting Barrier, Once barrier is broken.","title":"Java concurrency: Countdown latch vs Cyclic barrier","body":"<p>In <strong>CountDownLatch</strong>, threads waits for other threads to complete their execution. In <strong>CyclicBarrier</strong>, worker threads wait for each other to complete their execution.</p>\n<p>You can not reuse same <strong>CountDownLatch</strong> instance once count reaches to zero and latch is open, on the other hand <strong>CyclicBarrier</strong> can be reused by resetting Barrier, Once barrier is broken.</p>\n"},{"tags":[],"owner":{"account_id":2745991,"reputation":1440,"user_id":2366397,"display_name":"igor.zh"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1485208615,"creation_date":1485208615,"answer_id":41816419,"question_id":4168772,"body_markdown":"*In a nutshell*, just to understand key *functional* differences between the two :\r\n\r\n    public class CountDownLatch {\r\n        private Object mutex = new Object();\r\n        private int count;\r\n    \r\n    \tpublic CountDownLatch(int count) {\r\n    \t\tthis.count = count;\r\n    \t}\r\n    \r\n    \tpublic void await() throws InterruptedException {\r\n    \t\tsynchronized (mutex) {\r\n    \t\t\twhile (count &gt; 0) {\r\n    \t\t\t\tmutex.wait();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void countDown() {\r\n    \t\tsynchronized (mutex) {\r\n    \t\t\tif (--count == 0)\r\n    \t\t\t\tmutex.notifyAll();\r\n    \t\t}\r\n    \r\n    \t}\r\n    }\r\nand\r\n\r\n    public class CyclicBarrier {\r\n        private Object mutex = new Object();\r\n    \tprivate int count;\r\n    \r\n    \tpublic CyclicBarrier(int count) {\r\n            this.count = count;\r\n        }\r\n    \t\r\n        public void await() throws InterruptedException {\r\n    \t\tsynchronized (mutex) {\r\n    \t\t\tcount--;\r\n    \t\t\twhile(count &gt; 0)\r\n    \t\t\t\tmutex.wait();\r\n    \t\t\tmutex.notifyAll();\r\n    \t\t}\r\n        }\r\n    }\r\nexcept, of course, features like non-blocking, timed waiting, diagnostics and everything which has been in details explained in the above answers. \r\n\r\nThe above classes are, however, fully functional and equivalent, within the provided functionality, to their correspondent namesakes.\r\n\r\nOn a different note, `CountDownLatch`&#39;s inner class subclasses `AQS`, while `CyclicBarrier` uses `ReentrantLock` (my suspicion is it could be other way around or both could use AQS or both use Lock -- without any loss of performance efficiency)\r\n\r\n","title":"Java concurrency: Countdown latch vs Cyclic barrier","body":"<p><em>In a nutshell</em>, just to understand key <em>functional</em> differences between the two :</p>\n\n<pre><code>public class CountDownLatch {\n    private Object mutex = new Object();\n    private int count;\n\n    public CountDownLatch(int count) {\n        this.count = count;\n    }\n\n    public void await() throws InterruptedException {\n        synchronized (mutex) {\n            while (count &gt; 0) {\n                mutex.wait();\n            }\n        }\n    }\n\n    public void countDown() {\n        synchronized (mutex) {\n            if (--count == 0)\n                mutex.notifyAll();\n        }\n\n    }\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>public class CyclicBarrier {\n    private Object mutex = new Object();\n    private int count;\n\n    public CyclicBarrier(int count) {\n        this.count = count;\n    }\n\n    public void await() throws InterruptedException {\n        synchronized (mutex) {\n            count--;\n            while(count &gt; 0)\n                mutex.wait();\n            mutex.notifyAll();\n        }\n    }\n}\n</code></pre>\n\n<p>except, of course, features like non-blocking, timed waiting, diagnostics and everything which has been in details explained in the above answers. </p>\n\n<p>The above classes are, however, fully functional and equivalent, within the provided functionality, to their correspondent namesakes.</p>\n\n<p>On a different note, <code>CountDownLatch</code>'s inner class subclasses <code>AQS</code>, while <code>CyclicBarrier</code> uses <code>ReentrantLock</code> (my suspicion is it could be other way around or both could use AQS or both use Lock -- without any loss of performance efficiency)</p>\n"},{"tags":[],"owner":{"account_id":4409801,"reputation":4386,"user_id":3593084,"accept_rate":40,"display_name":"Mr.Q"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1502278272,"creation_date":1502278272,"answer_id":45589454,"question_id":4168772,"body_markdown":"When I was studying about Latches and cyclicbarriers I came up with this metaphors.\r\n**cyclicbarriers**: Imagine a company has a meeting room. In order to start the meeting, a certain number of meeting attendees have to come to meeting (to make it official). the following is the code of a normal meeting attendee (an employee)\r\n\r\n    class MeetingAtendee implements Runnable {\r\n\r\n    CyclicBarrier myMeetingQuorumBarrier;\r\n\r\n    public MeetingAtendee(CyclicBarrier myMileStoneBarrier) {\r\n        this.myMeetingQuorumBarrier = myMileStoneBarrier;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        try {\r\n            System.out.println(Thread.currentThread().getName() + &quot; i joined the meeting ...&quot;);\r\n            myMeetingQuorumBarrier.await();\r\n            System.out.println(Thread.currentThread().getName()+&quot; finally meeting stared ...&quot;);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        } catch (BrokenBarrierException e) {\r\n            System.out.println(&quot;Meeting canceled! every body dance &lt;by chic band!&gt;&quot;);\r\n        }\r\n     }\r\n    }\r\nemployee joins the meeting, waits for others to come to start meeting. also he gets exited if the meeting gets canceled :) then we have THE BOSS how doses not like to wait for others to show up and if he looses his patient, he cancels meeting.\r\n\r\n    class MeetingAtendeeTheBoss implements Runnable {\r\n\r\n    CyclicBarrier myMeetingQuorumBarrier;\r\n\r\n    public MeetingAtendeeTheBoss(CyclicBarrier myMileStoneBarrier) {\r\n        this.myMeetingQuorumBarrier = myMileStoneBarrier;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        try {\r\n            System.out.println(Thread.currentThread().getName() + &quot;I am THE BOSS - i joined the meeting ...&quot;);\r\n            //boss dose not like to wait too much!! he/she waits for 2 seconds and we END the meeting\r\n            myMeetingQuorumBarrier.await(1,TimeUnit.SECONDS);\r\n            System.out.println(Thread.currentThread().getName()+&quot; finally meeting stared ...&quot;);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        } catch (BrokenBarrierException e) {\r\n            System.out.println(&quot;what WHO canceled The meeting&quot;);\r\n        } catch (TimeoutException e) {\r\n            System.out.println(&quot;These employees waste my time!!&quot;);\r\n        }\r\n     }\r\n    }\r\n\r\nOn a normal day, employee come to meeting wait for other to show up and if some attendees don`t come they have to wait indefinitely! in some special meeting the boss comes and he does not like to wait.(5 persons need to start meeting but only boss comes and also an enthusiastic employee) so he cancels the meeting (angrily)\r\n\r\n    CyclicBarrier meetingAtendeeQuorum = new CyclicBarrier(5);\r\n    Thread atendeeThread = new Thread(new MeetingAtendee(meetingAtendeeQuorum));\r\n    Thread atendeeThreadBoss = new Thread(new MeetingAtendeeTheBoss(meetingAtendeeQuorum));\r\n        atendeeThread.start();\r\n        atendeeThreadBoss.start();\r\nOutput:\r\n\r\n    //Thread-1I am THE BOSS - i joined the meeting ...\r\n    // Thread-0 i joined the meeting ...\r\n    // These employees waste my time!!\r\n    // Meeting canceled! every body dance &lt;by chic band!&gt;\r\nThere is another scenario in which another outsider thread (an earth quake) cancels the meeting (call reset method). in this case all the waiting threads get woken up by an exception.\r\n\r\n    class NaturalDisasters implements Runnable {\r\n\r\n    CyclicBarrier someStupidMeetingAtendeeQuorum;\r\n\r\n    public NaturalDisasters(CyclicBarrier someStupidMeetingAtendeeQuorum) {\r\n        this.someStupidMeetingAtendeeQuorum = someStupidMeetingAtendeeQuorum;\r\n    }\r\n\r\n    void earthQuakeHappening(){\r\n        System.out.println(&quot;earth quaking.....&quot;);\r\n        someStupidMeetingAtendeeQuorum.reset();\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        earthQuakeHappening();\r\n     }\r\n    }\r\nrunning code will result in funny output:\r\n\r\n    // Thread-1I am THE BOSS - i joined the meeting ...\r\n    // Thread-0 i joined the meeting ...\r\n    // earth quaking.....\r\n    // what WHO canceled The meeting\r\n    // Meeting canceled! every body dance &lt;by chic band!&gt;\r\nYou can also add a secretary to meeting room, if a meeting is held she will document every thing but she is not part of the meeting:\r\n\r\n    class MeetingSecretary implements Runnable {\r\n    \r\n    @Override\r\n    public void run() {\r\n            System.out.println(&quot;preparing meeting documents&quot;);\r\n            System.out.println(&quot;taking notes ...&quot;);\r\n     }\r\n    }\r\n\r\n**Latches**: if the angry boss wants to hold an exhibition for company customers, every thing needs to be ready (resources). we provide a to-do list every worker (Thread) dose his job and we check the to-do list (some workers do painting, others prepare sound system ...). when all the items in to-do list are complete (resources are provided) we can open the doors to customers. \r\n\r\n    public class Visitor implements Runnable{\r\n\r\n    CountDownLatch exhibitonDoorlatch = null;\r\n\r\n    public Visitor (CountDownLatch latch) {\r\n        exhibitonDoorlatch  = latch;\r\n    }\r\n\r\n    public void run() {\r\n        try {\r\n            exhibitonDoorlatch .await();\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        System.out.println(&quot;customer visiting exebition&quot;);\r\n     }\r\n    }\r\nAnd the workers how are preparing the exhibition:\r\n\r\n    class Worker implements Runnable {\r\n\r\n    CountDownLatch myTodoItem = null;\r\n\r\n    public Worker(CountDownLatch latch) {\r\n        this.myTodoItem = latch;\r\n    }\r\n\r\n    public void run() {\r\n            System.out.println(&quot;doing my part of job ...&quot;);\r\n            System.out.println(&quot;My work is done! remove it from todo list&quot;);\r\n            myTodoItem.countDown();\r\n     }\r\n    }\r\n\r\n        CountDownLatch preperationTodoList = new CountDownLatch(3);\r\n\r\n        // exhibition preparation workers  \r\n        Worker      electricalWorker      = new Worker(preperationTodoList);\r\n        Worker      paintingWorker      = new Worker(preperationTodoList);\r\n        \r\n        // Exhibition Visitors \r\n        ExhibitionVisitor exhibitionVisitorA = new ExhibitionVisitor(preperationTodoList);\r\n        ExhibitionVisitor exhibitionVisitorB = new ExhibitionVisitor(preperationTodoList);\r\n        ExhibitionVisitor exhibitionVisitorC = new ExhibitionVisitor(preperationTodoList);\r\n\r\n        new Thread(electricalWorker).start();\r\n        new Thread(paintingWorker).start();\r\n        \r\n        new Thread(exhibitionVisitorA).start();\r\n        new Thread(exhibitionVisitorB).start();\r\n        new Thread(exhibitionVisitorC).start();\r\n\r\n \r\n\r\n\r\n      \r\n\r\n \r\n\r\n   \r\n    ","title":"Java concurrency: Countdown latch vs Cyclic barrier","body":"<p>When I was studying about Latches and cyclicbarriers I came up with this metaphors.\n<strong>cyclicbarriers</strong>: Imagine a company has a meeting room. In order to start the meeting, a certain number of meeting attendees have to come to meeting (to make it official). the following is the code of a normal meeting attendee (an employee)</p>\n\n<pre><code>class MeetingAtendee implements Runnable {\n\nCyclicBarrier myMeetingQuorumBarrier;\n\npublic MeetingAtendee(CyclicBarrier myMileStoneBarrier) {\n    this.myMeetingQuorumBarrier = myMileStoneBarrier;\n}\n\n@Override\npublic void run() {\n    try {\n        System.out.println(Thread.currentThread().getName() + \" i joined the meeting ...\");\n        myMeetingQuorumBarrier.await();\n        System.out.println(Thread.currentThread().getName()+\" finally meeting stared ...\");\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    } catch (BrokenBarrierException e) {\n        System.out.println(\"Meeting canceled! every body dance &lt;by chic band!&gt;\");\n    }\n }\n}\n</code></pre>\n\n<p>employee joins the meeting, waits for others to come to start meeting. also he gets exited if the meeting gets canceled :) then we have THE BOSS how doses not like to wait for others to show up and if he looses his patient, he cancels meeting.</p>\n\n<pre><code>class MeetingAtendeeTheBoss implements Runnable {\n\nCyclicBarrier myMeetingQuorumBarrier;\n\npublic MeetingAtendeeTheBoss(CyclicBarrier myMileStoneBarrier) {\n    this.myMeetingQuorumBarrier = myMileStoneBarrier;\n}\n\n@Override\npublic void run() {\n    try {\n        System.out.println(Thread.currentThread().getName() + \"I am THE BOSS - i joined the meeting ...\");\n        //boss dose not like to wait too much!! he/she waits for 2 seconds and we END the meeting\n        myMeetingQuorumBarrier.await(1,TimeUnit.SECONDS);\n        System.out.println(Thread.currentThread().getName()+\" finally meeting stared ...\");\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    } catch (BrokenBarrierException e) {\n        System.out.println(\"what WHO canceled The meeting\");\n    } catch (TimeoutException e) {\n        System.out.println(\"These employees waste my time!!\");\n    }\n }\n}\n</code></pre>\n\n<p>On a normal day, employee come to meeting wait for other to show up and if some attendees don`t come they have to wait indefinitely! in some special meeting the boss comes and he does not like to wait.(5 persons need to start meeting but only boss comes and also an enthusiastic employee) so he cancels the meeting (angrily)</p>\n\n<pre><code>CyclicBarrier meetingAtendeeQuorum = new CyclicBarrier(5);\nThread atendeeThread = new Thread(new MeetingAtendee(meetingAtendeeQuorum));\nThread atendeeThreadBoss = new Thread(new MeetingAtendeeTheBoss(meetingAtendeeQuorum));\n    atendeeThread.start();\n    atendeeThreadBoss.start();\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>//Thread-1I am THE BOSS - i joined the meeting ...\n// Thread-0 i joined the meeting ...\n// These employees waste my time!!\n// Meeting canceled! every body dance &lt;by chic band!&gt;\n</code></pre>\n\n<p>There is another scenario in which another outsider thread (an earth quake) cancels the meeting (call reset method). in this case all the waiting threads get woken up by an exception.</p>\n\n<pre><code>class NaturalDisasters implements Runnable {\n\nCyclicBarrier someStupidMeetingAtendeeQuorum;\n\npublic NaturalDisasters(CyclicBarrier someStupidMeetingAtendeeQuorum) {\n    this.someStupidMeetingAtendeeQuorum = someStupidMeetingAtendeeQuorum;\n}\n\nvoid earthQuakeHappening(){\n    System.out.println(\"earth quaking.....\");\n    someStupidMeetingAtendeeQuorum.reset();\n}\n\n@Override\npublic void run() {\n    earthQuakeHappening();\n }\n}\n</code></pre>\n\n<p>running code will result in funny output:</p>\n\n<pre><code>// Thread-1I am THE BOSS - i joined the meeting ...\n// Thread-0 i joined the meeting ...\n// earth quaking.....\n// what WHO canceled The meeting\n// Meeting canceled! every body dance &lt;by chic band!&gt;\n</code></pre>\n\n<p>You can also add a secretary to meeting room, if a meeting is held she will document every thing but she is not part of the meeting:</p>\n\n<pre><code>class MeetingSecretary implements Runnable {\n\n@Override\npublic void run() {\n        System.out.println(\"preparing meeting documents\");\n        System.out.println(\"taking notes ...\");\n }\n}\n</code></pre>\n\n<p><strong>Latches</strong>: if the angry boss wants to hold an exhibition for company customers, every thing needs to be ready (resources). we provide a to-do list every worker (Thread) dose his job and we check the to-do list (some workers do painting, others prepare sound system ...). when all the items in to-do list are complete (resources are provided) we can open the doors to customers. </p>\n\n<pre><code>public class Visitor implements Runnable{\n\nCountDownLatch exhibitonDoorlatch = null;\n\npublic Visitor (CountDownLatch latch) {\n    exhibitonDoorlatch  = latch;\n}\n\npublic void run() {\n    try {\n        exhibitonDoorlatch .await();\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n\n    System.out.println(\"customer visiting exebition\");\n }\n}\n</code></pre>\n\n<p>And the workers how are preparing the exhibition:</p>\n\n<pre><code>class Worker implements Runnable {\n\nCountDownLatch myTodoItem = null;\n\npublic Worker(CountDownLatch latch) {\n    this.myTodoItem = latch;\n}\n\npublic void run() {\n        System.out.println(\"doing my part of job ...\");\n        System.out.println(\"My work is done! remove it from todo list\");\n        myTodoItem.countDown();\n }\n}\n\n    CountDownLatch preperationTodoList = new CountDownLatch(3);\n\n    // exhibition preparation workers  \n    Worker      electricalWorker      = new Worker(preperationTodoList);\n    Worker      paintingWorker      = new Worker(preperationTodoList);\n\n    // Exhibition Visitors \n    ExhibitionVisitor exhibitionVisitorA = new ExhibitionVisitor(preperationTodoList);\n    ExhibitionVisitor exhibitionVisitorB = new ExhibitionVisitor(preperationTodoList);\n    ExhibitionVisitor exhibitionVisitorC = new ExhibitionVisitor(preperationTodoList);\n\n    new Thread(electricalWorker).start();\n    new Thread(paintingWorker).start();\n\n    new Thread(exhibitionVisitorA).start();\n    new Thread(exhibitionVisitorB).start();\n    new Thread(exhibitionVisitorC).start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11348189,"reputation":179,"user_id":8320076,"accept_rate":60,"display_name":"yk42b"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1539832747,"creation_date":1539832341,"answer_id":52866452,"question_id":4168772,"body_markdown":"CountDownLatch is a count down of anything; CyclicBarrier is a count down for thread only\r\n\r\nassume there are 5 worker threads and one shipper thread, and when workers produce 100 items, shipper will ship them out.\r\n\r\nFor CountDownLatch, the counter can be on workers or items\r\n\r\nFor CyclicBarrier, the counter can only on workers\r\n\r\nIf a worker falls infinite sleep, with CountDownLatch on items, Shipper can ship; However, with CyclicBarrier, Shipper can never be called","title":"Java concurrency: Countdown latch vs Cyclic barrier","body":"<p>CountDownLatch is a count down of anything; CyclicBarrier is a count down for thread only</p>\n\n<p>assume there are 5 worker threads and one shipper thread, and when workers produce 100 items, shipper will ship them out.</p>\n\n<p>For CountDownLatch, the counter can be on workers or items</p>\n\n<p>For CyclicBarrier, the counter can only on workers</p>\n\n<p>If a worker falls infinite sleep, with CountDownLatch on items, Shipper can ship; However, with CyclicBarrier, Shipper can never be called</p>\n"},{"tags":[],"owner":{"account_id":5068854,"reputation":3050,"user_id":4068218,"accept_rate":7,"display_name":"Hari Rao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541514137,"creation_date":1541514137,"answer_id":53173829,"question_id":4168772,"body_markdown":"@Kevin Lee and @Jon I tried CyclicBarrier with Optional Runnable. Looks like it runs in the beginning and after the CyclicBarrier is tipped. Here is the code and output\r\n\r\n\r\n   static CyclicBarrier barrier;\r\n\r\n        public static void main(String[] args) throws InterruptedException {\r\n            barrier = new CyclicBarrier(3, new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    System.out.println(&quot;I run in the beginning and after the CyclicBarrier is tipped&quot;);\r\n                }\r\n            });\r\n\r\n            new Worker().start();\r\n            Thread.sleep(1000);\r\n            new Worker().start();\r\n            Thread.sleep(1000);\r\n            new Worker().start();\r\n            Thread.sleep(1000);\r\n\r\n            System.out.println(&quot;Barrier automatically resets.&quot;);\r\n\r\n            new Worker().start();\r\n            Thread.sleep(1000);\r\n            new Worker().start();\r\n            Thread.sleep(1000);\r\n            new Worker().start();\r\n        }\r\n\r\n\r\n**Output**\r\n\r\n    I run in the beginning and after the CyclicBarrier is tipped\r\n    Let&#39;s play.\r\n    Let&#39;s play.\r\n    Let&#39;s play.\r\n    Barrier automatically resets.\r\n    I run in the beginning and after the CyclicBarrier is tipped\r\n    Let&#39;s play.\r\n    Let&#39;s play.\r\n    Let&#39;s play.\r\n\r\n","title":"Java concurrency: Countdown latch vs Cyclic barrier","body":"<p>@Kevin Lee and @Jon I tried CyclicBarrier with Optional Runnable. Looks like it runs in the beginning and after the CyclicBarrier is tipped. Here is the code and output</p>\n\n<p>static CyclicBarrier barrier;</p>\n\n<pre><code>    public static void main(String[] args) throws InterruptedException {\n        barrier = new CyclicBarrier(3, new Runnable() {\n            @Override\n            public void run() {\n                System.out.println(\"I run in the beginning and after the CyclicBarrier is tipped\");\n            }\n        });\n\n        new Worker().start();\n        Thread.sleep(1000);\n        new Worker().start();\n        Thread.sleep(1000);\n        new Worker().start();\n        Thread.sleep(1000);\n\n        System.out.println(\"Barrier automatically resets.\");\n\n        new Worker().start();\n        Thread.sleep(1000);\n        new Worker().start();\n        Thread.sleep(1000);\n        new Worker().start();\n    }\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>I run in the beginning and after the CyclicBarrier is tipped\nLet's play.\nLet's play.\nLet's play.\nBarrier automatically resets.\nI run in the beginning and after the CyclicBarrier is tipped\nLet's play.\nLet's play.\nLet's play.\n</code></pre>\n"}],"owner":{"account_id":159676,"reputation":88183,"user_id":379235,"accept_rate":62,"display_name":"daydreamer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99858,"favorite_count":0,"down_vote_count":0,"up_vote_count":180,"accepted_answer_id":4168861,"answer_count":14,"score":180,"last_activity_date":1661427988,"creation_date":1289593601,"question_id":4168772,"body_markdown":"I was reading through the [java.util.concurrent API][1], and found that  \r\n\r\n - `CountDownLatch`: A synchronization aid that allows one or more threads to wait until a set of operations being performed in other threads completes.\r\n - `CyclicBarrier`: A synchronization aid that allows a set of threads to all wait for each other to reach a common barrier point.  \r\n\r\nTo me both seems equal, but I am sure there is much more to it.  \r\n\r\nFor example, in `CoundownLatch, the countdown value could not be reset, that can happen in the case of CyclicBarrier`.   \r\n\r\nIs there any other difference between the two?  \r\nWhat are the `use cases` where someone would want to reset the value of countdown?\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/concurrent/package-summary.html","title":"Java concurrency: Countdown latch vs Cyclic barrier","body":"<p>I was reading through the <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/concurrent/package-summary.html\" rel=\"noreferrer\">java.util.concurrent API</a>, and found that  </p>\n\n<ul>\n<li><code>CountDownLatch</code>: A synchronization aid that allows one or more threads to wait until a set of operations being performed in other threads completes.</li>\n<li><code>CyclicBarrier</code>: A synchronization aid that allows a set of threads to all wait for each other to reach a common barrier point.  </li>\n</ul>\n\n<p>To me both seems equal, but I am sure there is much more to it.  </p>\n\n<p>For example, in <code>CoundownLatch, the countdown value could not be reset, that can happen in the case of CyclicBarrier</code>.   </p>\n\n<p>Is there any other difference between the two?<br>\nWhat are the <code>use cases</code> where someone would want to reset the value of countdown?</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661427907,"creation_date":1661424184,"answer_id":73486126,"question_id":73485965,"body_markdown":"You can use the `ApplicationContext.getBeanNamesForType()` method:\r\n\r\n    @Component\r\n    public class BeanNames {\r\n    \r\n        private final ApplicationContext applicationContext;\r\n\r\n        public BeanNames(ApplicationContext applicationContext) {\r\n            this.applicationContext = applicationContext;\r\n        }\r\n    \r\n        public String[] getBeanNames() {\r\n            return applicationContext.getBeanNamesForType(SlpStoreInterceptor.class);\r\n        }\r\n    }","title":"Get bean id from class","body":"<p>You can use the <code>ApplicationContext.getBeanNamesForType()</code> method:</p>\n<pre><code>@Component\npublic class BeanNames {\n\n    private final ApplicationContext applicationContext;\n\n    public BeanNames(ApplicationContext applicationContext) {\n        this.applicationContext = applicationContext;\n    }\n\n    public String[] getBeanNames() {\n        return applicationContext.getBeanNamesForType(SlpStoreInterceptor.class);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23710186,"reputation":85,"user_id":17732139,"display_name":"Joel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1661427907,"creation_date":1661423486,"question_id":73485965,"body_markdown":"I have the following bean :\r\n\r\n```    \r\n   &lt;bean id=&quot;slpStore&quot;\r\n          class=&quot;com.strategy.interceptor.SlpStoreInterceptor&quot; &gt;\r\n    &lt;/bean&gt;\r\n```\r\nI suppose only one bean exists in the spring context from the SlpStoreInterceptor.class, How can I retrieve the id of this bean which is &quot;slpStore&quot; if I only know the class name :SlpStoreInterceptor.class?","title":"Get bean id from class","body":"<p>I have the following bean :</p>\n<pre><code>   &lt;bean id=&quot;slpStore&quot;\n          class=&quot;com.strategy.interceptor.SlpStoreInterceptor&quot; &gt;\n    &lt;/bean&gt;\n</code></pre>\n<p>I suppose only one bean exists in the spring context from the SlpStoreInterceptor.class, How can I retrieve the id of this bean which is &quot;slpStore&quot; if I only know the class name :SlpStoreInterceptor.class?</p>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":25690087,"reputation":1360,"user_id":19451633,"display_name":"Andrei Titov"},"score":0,"creation_date":1661324223,"post_id":73464819,"comment_id":129741422,"body_markdown":"looks like there&#39;s something wrong with your mapping: you have `@OneToOne` in the `ICError` class, but `@ManyToOne` in the `Document` class. do you want the document to have multiple errors or only one error?","body":"looks like there&#39;s something wrong with your mapping: you have <code>@OneToOne</code> in the <code>ICError</code> class, but <code>@ManyToOne</code> in the <code>Document</code> class. do you want the document to have multiple errors or only one error?"},{"owner":{"account_id":10244422,"reputation":599,"user_id":7560684,"display_name":"VKP"},"score":0,"creation_date":1661342851,"post_id":73464819,"comment_id":129748467,"body_markdown":"Sorry , that was a typo mistake , I want oneToOne only.","body":"Sorry , that was a typo mistake , I want oneToOne only."}],"answers":[{"tags":[],"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661427859,"creation_date":1661427859,"answer_id":73486877,"question_id":73464819,"body_markdown":"I don&#39;t really see the benefit of what you are trying to do here, but you could save Document first which will give you the documentId and then set ICError.documentId &amp; ICError.document fields\r\n\r\n","title":"How to get the JPA child class id in parent class","body":"<p>I don't really see the benefit of what you are trying to do here, but you could save Document first which will give you the documentId and then set ICError.documentId &amp; ICError.document fields</p>\n"}],"owner":{"account_id":10244422,"reputation":599,"user_id":7560684,"display_name":"VKP"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661427859,"creation_date":1661287185,"question_id":73464819,"body_markdown":"i am trying to associate two entity classes . The Document class i cannot really change it because its used in lot of other places in the application . But i can play around ICError  class.\r\nI am trying to get id of the Document  into my ICError class field.\r\n\r\n    public class ICError {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy= GenerationType.SEQUENCE, generator=&quot;SEQ1&quot;)\r\n    @SequenceGenerator(name=&quot;SEQ1&quot;, sequenceName = &quot;SEQ_IC_ERROR&quot; , allocationSize = 1)\r\n    @Column(name=&quot;ID&quot;)\r\n    private Long id;\r\n\r\n    String documentId; // i want to map Document id into this field.\r\n\r\n    @OneToOne(mappedBy = &quot;icError&quot; , orphanRemoval = true,cascade = CascadeType.ALL)\r\n    Document document;\r\n\r\n    }\r\n\r\n\r\n    public class Document {\r\n\r\n    @Id\r\n    @GenericGenerator(name = &quot;UUIDGenerator&quot;, strategy = &quot;uuid2&quot;)\r\n    @GeneratedValue(generator = &quot;UUIDGenerator&quot;)\r\n    @Type(type = &quot;uuid-char&quot;)\r\n    UUID id;\r\n\r\n    @OneToOne\r\n    @JsonIgnore\r\n    @JoinColumn(name = &quot;id&quot;,referencedColumnName = &quot;id&quot;)\r\n    ICError icError;\r\n  \r\n    }\r\n\r\n    Service Class \r\n  \r\n    //Document document = new Document();\r\n    //document.setId(UUID.randomUUID());// Getting error saying detached entity passed to persist, \r\n    //if i remove the cascade = CascadeType.ALL its not even inserting the record. and dont want to \r\n    //use the UUID.randomUUID() because entity class already have generator.\r\n  \r\n    //Below is the one am trying. This is inserting the record but \r\n    //documentId is null.\r\n    ICError icError = new ICError(documentId, new Document());// how i will get the documentId to \r\n    //ICError class . \r\n\trepo.save(icError);\r\n\t\r\n\t","title":"How to get the JPA child class id in parent class","body":"<p>i am trying to associate two entity classes . The Document class i cannot really change it because its used in lot of other places in the application . But i can play around ICError  class.\nI am trying to get id of the Document  into my ICError class field.</p>\n<pre><code>public class ICError {\n\n@Id\n@GeneratedValue(strategy= GenerationType.SEQUENCE, generator=&quot;SEQ1&quot;)\n@SequenceGenerator(name=&quot;SEQ1&quot;, sequenceName = &quot;SEQ_IC_ERROR&quot; , allocationSize = 1)\n@Column(name=&quot;ID&quot;)\nprivate Long id;\n\nString documentId; // i want to map Document id into this field.\n\n@OneToOne(mappedBy = &quot;icError&quot; , orphanRemoval = true,cascade = CascadeType.ALL)\nDocument document;\n\n}\n\n\npublic class Document {\n\n@Id\n@GenericGenerator(name = &quot;UUIDGenerator&quot;, strategy = &quot;uuid2&quot;)\n@GeneratedValue(generator = &quot;UUIDGenerator&quot;)\n@Type(type = &quot;uuid-char&quot;)\nUUID id;\n\n@OneToOne\n@JsonIgnore\n@JoinColumn(name = &quot;id&quot;,referencedColumnName = &quot;id&quot;)\nICError icError;\n\n}\n\nService Class \n\n//Document document = new Document();\n//document.setId(UUID.randomUUID());// Getting error saying detached entity passed to persist, \n//if i remove the cascade = CascadeType.ALL its not even inserting the record. and dont want to \n//use the UUID.randomUUID() because entity class already have generator.\n\n//Below is the one am trying. This is inserting the record but \n//documentId is null.\nICError icError = new ICError(documentId, new Document());// how i will get the documentId to \n//ICError class . \nrepo.save(icError);\n</code></pre>\n"},{"tags":["java","angular","typescript","spring-boot"],"comments":[{"owner":{"display_name":"user17740968"},"score":2,"creation_date":1651064396,"post_id":72029167,"comment_id":127272998,"body_markdown":"We&#39;re not here to give you code, we&#39;re here to help you write it. did you learn about local storage and/or session storage, and tokens ?","body":"We&#39;re not here to give you code, we&#39;re here to help you write it. did you learn about local storage and/or session storage, and tokens ?"}],"answers":[{"tags":[],"owner":{"account_id":357760,"reputation":1492,"user_id":2304483,"display_name":"user2304483"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661427762,"creation_date":1661427762,"answer_id":73486856,"question_id":72029167,"body_markdown":"The angular app has keep token and user details in order to keep commnication\r\nwith the server.\r\nThis token usually will be save in localStorage which is not angular related.\r\n\r\nYou can create a service like this:\r\n\r\n    @Injectable\r\n    export class MyService {\r\n    \r\n      constructor() { }\r\n    \r\n     public saveUser(user) {   \r\n        localStorage .setItem(U_KEY, JSON.stringify(user));    \r\n      }\r\n    }\r\n\r\n","title":"How to keep session alive in angular (login foncionality)","body":"<p>The angular app has keep token and user details in order to keep commnication\nwith the server.\nThis token usually will be save in localStorage which is not angular related.</p>\n<p>You can create a service like this:</p>\n<pre><code>@Injectable\nexport class MyService {\n\n  constructor() { }\n\n public saveUser(user) {   \n    localStorage .setItem(U_KEY, JSON.stringify(user));    \n  }\n}\n</code></pre>\n"}],"owner":{"account_id":14964963,"reputation":120,"user_id":10803521,"display_name":"Sidou Gmr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73486856,"answer_count":1,"score":0,"last_activity_date":1661427762,"creation_date":1651064108,"question_id":72029167,"body_markdown":"i using angular (typescript) and Spring boot (Java)\r\nHow i can keep session alive when i in the admin mode (login)\r\njust the code or the fucntion to do that\r\nand thanks\r\n\r\nthis is the service code to get all account\r\n \r\ni know it&#39;s not secure but just for learn lol\r\n``` \r\npublic getAdmin(): Observable&lt;Admin[]&gt;{\r\n    return this.http.get&lt;Admin[]&gt;(`${this.apiServerUrl}/admin/all`);\r\n  }\r\n```\r\n\r\n ","title":"How to keep session alive in angular (login foncionality)","body":"<p>i using angular (typescript) and Spring boot (Java)\nHow i can keep session alive when i in the admin mode (login)\njust the code or the fucntion to do that\nand thanks</p>\n<p>this is the service code to get all account</p>\n<p>i know it's not secure but just for learn lol</p>\n<pre><code>public getAdmin(): Observable&lt;Admin[]&gt;{\n    return this.http.get&lt;Admin[]&gt;(`${this.apiServerUrl}/admin/all`);\n  }\n</code></pre>\n"},{"tags":["java","push","jakarta-mail"],"comments":[{"owner":{"account_id":1032936,"reputation":29659,"user_id":1040885,"display_name":"Bill Shannon"},"score":0,"creation_date":1513384520,"post_id":47840089,"comment_id":82647148,"body_markdown":"Can you provide more detail about how you&#39;re using threads, how many folders you have open, etc.?  Are you using the IdleManager class?  Or are you just calling the IMAPFolder.idle method?  The idle method never creates threads.  IdleManager uses an ExecutorService to create threads.  JavaMail events are delivered on a separate thread per Folder by default.","body":"Can you provide more detail about how you&#39;re using threads, how many folders you have open, etc.?  Are you using the IdleManager class?  Or are you just calling the IMAPFolder.idle method?  The idle method never creates threads.  IdleManager uses an ExecutorService to create threads.  JavaMail events are delivered on a separate thread per Folder by default."},{"owner":{"account_id":12043434,"reputation":39,"user_id":8809470,"display_name":"Esther Margarita Noa Rodr&#237;guez"},"score":0,"creation_date":1513388069,"post_id":47840089,"comment_id":82647704,"body_markdown":"I have edited my question by adding the code I use to start the idle. Please check it. Thank you","body":"I have edited my question by adding the code I use to start the idle. Please check it. Thank you"},{"owner":{"account_id":1032936,"reputation":29659,"user_id":1040885,"display_name":"Bill Shannon"},"score":0,"creation_date":1513408665,"post_id":47840089,"comment_id":82650833,"body_markdown":"Are you calling that code more than once?  If you call it once it should only be using two threads.","body":"Are you calling that code more than once?  If you call it once it should only be using two threads."},{"owner":{"account_id":12043434,"reputation":39,"user_id":8809470,"display_name":"Esther Margarita Noa Rodr&#237;guez"},"score":0,"creation_date":1513441764,"post_id":47840089,"comment_id":82659571,"body_markdown":"Yes, I use it in an Android service, which could be called several times. Now how could I destroy the threads that have javamail assets to start them again? Or know that there is someone active to not create another?","body":"Yes, I use it in an Android service, which could be called several times. Now how could I destroy the threads that have javamail assets to start them again? Or know that there is someone active to not create another?"},{"owner":{"account_id":1032936,"reputation":29659,"user_id":1040885,"display_name":"Bill Shannon"},"score":1,"creation_date":1513471072,"post_id":47840089,"comment_id":82666861,"body_markdown":"If you close the folder, the idle method will throw an exception terminating the loop and thus allow the thread to terminate.","body":"If you close the folder, the idle method will throw an exception terminating the loop and thus allow the thread to terminate."},{"owner":{"account_id":12043434,"reputation":39,"user_id":8809470,"display_name":"Esther Margarita Noa Rodr&#237;guez"},"score":0,"creation_date":1513633989,"post_id":47840089,"comment_id":82719634,"body_markdown":"Thanks I resolved with your comment, subscribing to the OnDestroy event of the service and closing the folder and the session, although not entirely because I will never be sure if there is a thread running yet :(","body":"Thanks I resolved with your comment, subscribing to the OnDestroy event of the service and closing the folder and the session, although not entirely because I will never be sure if there is a thread running yet :("}],"owner":{"account_id":12043434,"reputation":39,"user_id":8809470,"display_name":"Esther Margarita Noa Rodr&#237;guez"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661427684,"creation_date":1513373352,"question_id":47840089,"body_markdown":"I have implemented an idle javamail monitor similar to the example in the documentation. However, sometimes two or more simultaneous threads of the idle are triggered, which causes the folder.idle() of the for not to stop running. This causes that a lot of network is consumed and they do not stop.\r\n\r\nIs there any way I can detect that there is already an imap thread so that another thread does not start?\r\n\r\nHere is an example of what you print in the log\r\n\r\n    10-21 14:22:11.595 8095-24908/X I/System.out: DEBUG IMAP: waitIfIdle: wait to be not idle: Thread[Thread-6764,5,main]\r\n    10-21 14:22:11.595 8095-22625/X I/System.out: DEBUG IMAP: waitIfIdle: idleState 2\r\n    10-21 14:22:11.595 8095-22625/X I/System.out: DEBUG IMAP: waitIfIdle: wait to be not idle: Thread[Thread-6751,5,main]\r\n    10-21 14:22:11.596 8095-24908/X I/System.out: DEBUG IMAP: waitIfIdle: idleState 2\r\n    10-21 14:22:11.596 8095-24908/X I/System.out: DEBUG IMAP: waitIfIdle: wait to be not idle: Thread[Thread-6764,5,main]\r\n    10-21 14:22:11.596 8095-23671/X I/System.out: DEBUG IMAP: waitIfIdle: idleState 2\r\n    10-21 14:22:11.596 8095-23671/X I/System.out: DEBUG IMAP: waitIfIdle: wait to be not idle: Thread[Thread-6755,5,main]\r\n    10-21 14:22:11.597 8095-24908/X I/System.out: DEBUG IMAP: waitIfIdle: idleState 2\r\n    10-21 14:22:11.597 8095-24908/X I/System.out: DEBUG IMAP: waitIfIdle: wait to be not idle: Thread[Thread-6764,5,main]\r\n    10-21 14:22:11.597 8095-22625/X I/System.out: DEBUG IMAP: waitIfIdle: idleState 2\r\n    10-21 14:22:11.598 8095-22625/X I/System.out: DEBUG IMAP: waitIfIdle: wait to be not idle: Thread[Thread-6751,5,main]\r\n    10-21 14:22:11.598 8095-23671/X I/System.out: DEBUG IMAP: waitIfIdle: idleState 2\r\n    10-21 14:22:11.598 8095-23671/X I/System.out: DEBUG IMAP: waitIfIdle: wait to be not idle: Thread[Thread-6755,5,main]\r\n    10-21 14:22:11.599 8095-22625/X I/System.out: DEBUG IMAP: waitIfIdle: idleState 2\r\n    10-21 14:22:11.599 8095-22625/X I/System.out: DEBUG IMAP: waitIfIdle: wait to be not idle: Thread[Thread-6751,5,main]\r\n    10-21 14:22:11.599 8095-22625/X I/System.out: DEBUG IMAP: waitIfIdle: idleState 2\r\n    10-21 14:22:11.599 8095-22625/X I/System.out: DEBUG IMAP: waitIfIdle: wait to be not idle: Thread[Thread-6751,5,main]\r\n    10-21 14:22:11.600 8095-22625/X I/System.out: DEBUG IMAP: waitIfIdle: idleState 2\r\n    10-21 14:22:11.600 8095-22625/X I/System.out: DEBUG IMAP: waitIfIdle: wait to be not idle: Thread[Thread-6751,5,main]\r\n    10-21 14:22:11.600 8095-22625/X I/System.out: DEBUG IMAP: waitIfIdle: idleState 2\r\n    10-21 14:22:11.600 8095-22625/X I/System.out: DEBUG IMAP: waitIfIdle: wait to be not idle: Thread[Thread-6751,5,main]\r\n    10-21 14:22:11.602 8095-22625/X I/System.out: DEBUG IMAP: waitIfIdle: idleState 2\r\n    10-21 14:22:11.606 8095-22625/X I/System.out: DEBUG IMAP: waitIfIdle: wait to be not idle: Thread[Thread-6751,5,main]\r\n    10-21 14:22:11.607 8095-24908/X I/System.out: DEBUG IMAP: waitIfIdle: idleState 2\r\n    10-21 14:22:11.607 8095-24908/X I/System.out: DEBUG IMAP: waitIfIdle: wait to be not idle: Thread[Thread-6764,5,main]\r\n    10-21 14:22:11.607 8095-23671/X I/System.out: DEBUG IMAP: waitIfIdle: idleState 2\r\n    10-21 14:22:11.607 8095-23671/X I/System.out: DEBUG IMAP: waitIfIdle: wait to be not idle: Thread[Thread-6755,5,main]\r\n    10-21 14:22:11.608 8095-24908/X I/System.out: DEBUG IMAP: waitIfIdle: idleState 2\r\n    10-21 14:22:11.608 8095-24908/X I/System.out: DEBUG IMAP: waitIfIdle: wait to be not idle: Thread[Thread-6764,5,main]\r\n    10-21 14:22:11.608 8095-22625/X I/System.out: DEBUG IMAP: waitIfIdle: idleState 2\r\n    10-21 14:22:11.608 8095-22625/X I/System.out: DEBUG IMAP: waitIfIdle: wait to be not idle: Thread[Thread-6751,5,main]\r\n    10-21 14:22:11.609 8095-23671/X I/System.out: DEBUG IMAP: waitIfIdle: idleState 2\r\n    10-21 14:22:11.609 8095-23671/X I/System.out: DEBUG IMAP: waitIfIdle: wait to be not idle: Thread[Thread-6755,5,main]\r\n    10-21 14:22:11.609 8095-23671/X I/System.out: DEBUG IMAP: waitIfIdle: idleState 2\r\n    10-21 14:22:11.609 8095-23671/X I/System.out: DEBUG IMAP: waitIfIdle: wait to be not idle: Thread[Thread-6755,5,main]\r\n    10-21 14:22:11.610 8095-24908/X I/System.out: DEBUG IMAP: waitIfIdle: idleState 2\r\n    10-21 14:22:11.610 8095-24908/X I/System.out: DEBUG IMAP: waitIfIdle: wait to be not idle: Thread[Thread-6764,5,main]\r\n    10-21 14:22:11.610 8095-22625/X I/System.out: DEBUG IMAP: waitIfIdle: idleState 2\r\n    10-21 14:22:11.610 8095-22625/X I/System.out: DEBUG IMAP: waitIfIdle: wait to be not idle: Thread[Thread-6751,5,main]\r\n    10-21 14:22:11.610 8095-23671/X I/System.out: DEBUG IMAP: waitIfIdle: idleState 2\r\n    10-21 14:22:11.610 8095-23671/X I/System.out: DEBUG IMAP: waitIfIdle: wait to be not idle: Thread[Thread-6755,5,main]\r\n    10-21 14:22:11.611 8095-24908/X I/System.out: DEBUG IMAP: waitIfIdle: idleState 2\r\n\r\n\r\nI&#39;m only subscribed to a single folder inbox. I really do not understand why several threads are created ...\r\n\r\nthis is the code...\r\n\r\n   \r\n\r\n    props =  getServerProperties(account.getEmail(), false);\r\n    \tsession = null;\r\n    \tstore = null;\r\n    \tsession = Session.getDefaultInstance(props, null);\r\n    \tstore =  session.getStore(&quot;imap&quot;);\r\n    \r\n    \tif(!store.isConnected())\r\n    \t{\r\n    \t\tstore.connect(account.getEmail(), account.getPassword());\r\n    \t}\r\n    \tfolderInbox = store.getFolder(&quot;inbox&quot;);\r\n\r\n\tif(folderInbox == null || !folderInbox.exists())\r\n\t{\r\n\t\tinternalError();\r\n\t\treturn;\r\n\t}\r\n\r\n\tfolderInbox.open(Folder.READ_WRITE);\r\n\r\n\r\n\tSearchTerm searchTerm = new AndTerm(unReviewFlagTerm, unDeleteFlagTerm);\r\n\tMessage[] allmessages =folderInbox.search(searchTerm, folderInbox.getMessages());\r\n\t\r\n\t...\r\n\r\n\t\ttry {\r\n\t\t\tfolderInbox.expunge();\r\n\t\t} catch (MessagingException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\tfolderInbox.addMessageCountListener(new MessageCountAdapter() {\r\n\r\n\t\tpublic void messagesAdded(MessageCountEvent ev) {\r\n\t\t\tLog.d(&quot;Monitor new message&quot;, lastNewMessage.toString());\r\n\t\t\tMessage[] msgs = ev.getMessages();\r\n\r\n\t\t}\r\n\r\n\t});\r\n\r\n\tint freq = Integer.parseInt(&quot;180000&quot;); // 3 minutes\r\n\tboolean supportsIdle = false;\r\n\ttry {\r\n\t\tif (folderInbox instanceof IMAPFolder) {\r\n\t\t\tIMAPFolder f = (IMAPFolder)folderInbox;\r\n\t\t\tf.idle();\r\n\t\t\tsupportsIdle = true;\r\n\t\t}\r\n\t} catch (FolderClosedException fex) {\r\n\t\tinternalError();\r\n\t\tsupportsIdle = false;\r\n\t\tthrow fex;\r\n\t}catch (MessagingException mex) {\r\n\t\tsupportsIdle = false;\r\n\t}\r\n\tfor (;;) {\r\n\t\tif (supportsIdle  &amp;&amp; folderInbox instanceof IMAPFolder) {\r\n\t\t\tIMAPFolder f = (IMAPFolder)folderInbox;\r\n\t\t\tf.idle();\r\n\t\t}else{\r\n\t\t\tThread.sleep(freq);\r\n\t\t\tfolderInbox.getMessageCount();\r\n\t\t}\r\n\r\n\t}\r\n\r\n","title":"javamail idle creates multiple threads","body":"<p>I have implemented an idle javamail monitor similar to the example in the documentation. However, sometimes two or more simultaneous threads of the idle are triggered, which causes the folder.idle() of the for not to stop running. This causes that a lot of network is consumed and they do not stop.</p>\n\n<p>Is there any way I can detect that there is already an imap thread so that another thread does not start?</p>\n\n<p>Here is an example of what you print in the log</p>\n\n<pre><code>10-21 14:22:11.595 8095-24908/X I/System.out: DEBUG IMAP: waitIfIdle: wait to be not idle: Thread[Thread-6764,5,main]\n10-21 14:22:11.595 8095-22625/X I/System.out: DEBUG IMAP: waitIfIdle: idleState 2\n10-21 14:22:11.595 8095-22625/X I/System.out: DEBUG IMAP: waitIfIdle: wait to be not idle: Thread[Thread-6751,5,main]\n10-21 14:22:11.596 8095-24908/X I/System.out: DEBUG IMAP: waitIfIdle: idleState 2\n10-21 14:22:11.596 8095-24908/X I/System.out: DEBUG IMAP: waitIfIdle: wait to be not idle: Thread[Thread-6764,5,main]\n10-21 14:22:11.596 8095-23671/X I/System.out: DEBUG IMAP: waitIfIdle: idleState 2\n10-21 14:22:11.596 8095-23671/X I/System.out: DEBUG IMAP: waitIfIdle: wait to be not idle: Thread[Thread-6755,5,main]\n10-21 14:22:11.597 8095-24908/X I/System.out: DEBUG IMAP: waitIfIdle: idleState 2\n10-21 14:22:11.597 8095-24908/X I/System.out: DEBUG IMAP: waitIfIdle: wait to be not idle: Thread[Thread-6764,5,main]\n10-21 14:22:11.597 8095-22625/X I/System.out: DEBUG IMAP: waitIfIdle: idleState 2\n10-21 14:22:11.598 8095-22625/X I/System.out: DEBUG IMAP: waitIfIdle: wait to be not idle: Thread[Thread-6751,5,main]\n10-21 14:22:11.598 8095-23671/X I/System.out: DEBUG IMAP: waitIfIdle: idleState 2\n10-21 14:22:11.598 8095-23671/X I/System.out: DEBUG IMAP: waitIfIdle: wait to be not idle: Thread[Thread-6755,5,main]\n10-21 14:22:11.599 8095-22625/X I/System.out: DEBUG IMAP: waitIfIdle: idleState 2\n10-21 14:22:11.599 8095-22625/X I/System.out: DEBUG IMAP: waitIfIdle: wait to be not idle: Thread[Thread-6751,5,main]\n10-21 14:22:11.599 8095-22625/X I/System.out: DEBUG IMAP: waitIfIdle: idleState 2\n10-21 14:22:11.599 8095-22625/X I/System.out: DEBUG IMAP: waitIfIdle: wait to be not idle: Thread[Thread-6751,5,main]\n10-21 14:22:11.600 8095-22625/X I/System.out: DEBUG IMAP: waitIfIdle: idleState 2\n10-21 14:22:11.600 8095-22625/X I/System.out: DEBUG IMAP: waitIfIdle: wait to be not idle: Thread[Thread-6751,5,main]\n10-21 14:22:11.600 8095-22625/X I/System.out: DEBUG IMAP: waitIfIdle: idleState 2\n10-21 14:22:11.600 8095-22625/X I/System.out: DEBUG IMAP: waitIfIdle: wait to be not idle: Thread[Thread-6751,5,main]\n10-21 14:22:11.602 8095-22625/X I/System.out: DEBUG IMAP: waitIfIdle: idleState 2\n10-21 14:22:11.606 8095-22625/X I/System.out: DEBUG IMAP: waitIfIdle: wait to be not idle: Thread[Thread-6751,5,main]\n10-21 14:22:11.607 8095-24908/X I/System.out: DEBUG IMAP: waitIfIdle: idleState 2\n10-21 14:22:11.607 8095-24908/X I/System.out: DEBUG IMAP: waitIfIdle: wait to be not idle: Thread[Thread-6764,5,main]\n10-21 14:22:11.607 8095-23671/X I/System.out: DEBUG IMAP: waitIfIdle: idleState 2\n10-21 14:22:11.607 8095-23671/X I/System.out: DEBUG IMAP: waitIfIdle: wait to be not idle: Thread[Thread-6755,5,main]\n10-21 14:22:11.608 8095-24908/X I/System.out: DEBUG IMAP: waitIfIdle: idleState 2\n10-21 14:22:11.608 8095-24908/X I/System.out: DEBUG IMAP: waitIfIdle: wait to be not idle: Thread[Thread-6764,5,main]\n10-21 14:22:11.608 8095-22625/X I/System.out: DEBUG IMAP: waitIfIdle: idleState 2\n10-21 14:22:11.608 8095-22625/X I/System.out: DEBUG IMAP: waitIfIdle: wait to be not idle: Thread[Thread-6751,5,main]\n10-21 14:22:11.609 8095-23671/X I/System.out: DEBUG IMAP: waitIfIdle: idleState 2\n10-21 14:22:11.609 8095-23671/X I/System.out: DEBUG IMAP: waitIfIdle: wait to be not idle: Thread[Thread-6755,5,main]\n10-21 14:22:11.609 8095-23671/X I/System.out: DEBUG IMAP: waitIfIdle: idleState 2\n10-21 14:22:11.609 8095-23671/X I/System.out: DEBUG IMAP: waitIfIdle: wait to be not idle: Thread[Thread-6755,5,main]\n10-21 14:22:11.610 8095-24908/X I/System.out: DEBUG IMAP: waitIfIdle: idleState 2\n10-21 14:22:11.610 8095-24908/X I/System.out: DEBUG IMAP: waitIfIdle: wait to be not idle: Thread[Thread-6764,5,main]\n10-21 14:22:11.610 8095-22625/X I/System.out: DEBUG IMAP: waitIfIdle: idleState 2\n10-21 14:22:11.610 8095-22625/X I/System.out: DEBUG IMAP: waitIfIdle: wait to be not idle: Thread[Thread-6751,5,main]\n10-21 14:22:11.610 8095-23671/X I/System.out: DEBUG IMAP: waitIfIdle: idleState 2\n10-21 14:22:11.610 8095-23671/X I/System.out: DEBUG IMAP: waitIfIdle: wait to be not idle: Thread[Thread-6755,5,main]\n10-21 14:22:11.611 8095-24908/X I/System.out: DEBUG IMAP: waitIfIdle: idleState 2\n</code></pre>\n\n<p>I'm only subscribed to a single folder inbox. I really do not understand why several threads are created ...</p>\n\n<p>this is the code...</p>\n\n<pre><code>props =  getServerProperties(account.getEmail(), false);\n    session = null;\n    store = null;\n    session = Session.getDefaultInstance(props, null);\n    store =  session.getStore(\"imap\");\n\n    if(!store.isConnected())\n    {\n        store.connect(account.getEmail(), account.getPassword());\n    }\n    folderInbox = store.getFolder(\"inbox\");\n\nif(folderInbox == null || !folderInbox.exists())\n{\n    internalError();\n    return;\n}\n\nfolderInbox.open(Folder.READ_WRITE);\n\n\nSearchTerm searchTerm = new AndTerm(unReviewFlagTerm, unDeleteFlagTerm);\nMessage[] allmessages =folderInbox.search(searchTerm, folderInbox.getMessages());\n\n...\n\n    try {\n        folderInbox.expunge();\n    } catch (MessagingException e) {\n        e.printStackTrace();\n    }\n\nfolderInbox.addMessageCountListener(new MessageCountAdapter() {\n\n    public void messagesAdded(MessageCountEvent ev) {\n        Log.d(\"Monitor new message\", lastNewMessage.toString());\n        Message[] msgs = ev.getMessages();\n\n    }\n\n});\n\nint freq = Integer.parseInt(\"180000\"); // 3 minutes\nboolean supportsIdle = false;\ntry {\n    if (folderInbox instanceof IMAPFolder) {\n        IMAPFolder f = (IMAPFolder)folderInbox;\n        f.idle();\n        supportsIdle = true;\n    }\n} catch (FolderClosedException fex) {\n    internalError();\n    supportsIdle = false;\n    throw fex;\n}catch (MessagingException mex) {\n    supportsIdle = false;\n}\nfor (;;) {\n    if (supportsIdle  &amp;&amp; folderInbox instanceof IMAPFolder) {\n        IMAPFolder f = (IMAPFolder)folderInbox;\n        f.idle();\n    }else{\n        Thread.sleep(freq);\n        folderInbox.getMessageCount();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","sorting","collections","arraylist"],"answers":[{"tags":[],"owner":{"account_id":29773,"reputation":14194,"user_id":80701,"accept_rate":87,"display_name":"monksy"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1259451051,"creation_date":1259450440,"answer_id":1814100,"question_id":1814095,"body_markdown":"You shoud use the Arrays.sort function. The containing classes should implement Comparable.","title":"Sorting an ArrayList of objects using a custom sorting order","body":"<p>You shoud use the Arrays.sort function. The containing classes should implement Comparable.</p>\n"},{"tags":[],"owner":{"account_id":4074,"reputation":26324,"user_id":6013,"accept_rate":95,"display_name":"Joshua"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1259450492,"creation_date":1259450492,"answer_id":1814105,"question_id":1814095,"body_markdown":"The Collections.sort is a good sort implementation. If you don&#39;t have The comparable implemented for Contact, you will need to pass in a [Comparator&lt;Contact&gt; implementation][1]\r\n\r\nOf note:\r\n\r\n&gt; The sorting algorithm is a modified mergesort (in which the merge is omitted if the highest element in the low sublist is less than the lowest element in the high sublist). This algorithm offers guaranteed n log(n) performance. The specified list must be modifiable, but need not be resizable. This implementation dumps the specified list into an array, sorts the array, and iterates over the list resetting each element from the corresponding position in the array. This avoids the n2 log(n) performance that would result from attempting to sort a linked list in place. \r\n\r\nThe merge sort is probably better than most search algorithm you can do.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Collections.html#sort(java.util.List,%20java.util.Comparator)","title":"Sorting an ArrayList of objects using a custom sorting order","body":"<p>The Collections.sort is a good sort implementation. If you don't have The comparable implemented for Contact, you will need to pass in a <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Collections.html#sort(java.util.List,%20java.util.Comparator)\" rel=\"nofollow noreferrer\">Comparator implementation</a></p>\n\n<p>Of note:</p>\n\n<blockquote>\n  <p>The sorting algorithm is a modified mergesort (in which the merge is omitted if the highest element in the low sublist is less than the lowest element in the high sublist). This algorithm offers guaranteed n log(n) performance. The specified list must be modifiable, but need not be resizable. This implementation dumps the specified list into an array, sorts the array, and iterates over the list resetting each element from the corresponding position in the array. This avoids the n2 log(n) performance that would result from attempting to sort a linked list in place. </p>\n</blockquote>\n\n<p>The merge sort is probably better than most search algorithm you can do.</p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":278,"is_accepted":true,"score":278,"last_activity_date":1661427412,"creation_date":1259450732,"answer_id":1814112,"question_id":1814095,"body_markdown":"Here&#39;s a tutorial about ordering objects:\r\n\r\n- [The Java Tutorials - Collections - Object Ordering][1]\r\n\r\nAlthough I will give some examples, I would recommend to read it anyway.\r\n\r\n---\r\n\r\nThere are various way to sort an `ArrayList`. If you want to define a **natural** (default) **ordering**, then you need to let `Contact` implement [`Comparable`][2]. Assuming that you want to sort by default on `name`, then do (nullchecks omitted for simplicity):\r\n\r\n    public class Contact implements Comparable&lt;Contact&gt; {\r\n\r\n        private String name;\r\n        private String phone;\r\n        private Address address;\r\n\r\n        @Override\r\n        public int compareTo(Contact other) {\r\n            return name.compareTo(other.name);\r\n        }\r\n\r\n        // Add/generate getters/setters and other boilerplate.\r\n    }\r\n\r\nso that you can just do\r\n\r\n    List&lt;Contact&gt; contacts = new ArrayList&lt;Contact&gt;();\r\n    // Fill it.\r\n\r\n    Collections.sort(contacts);\r\n\r\n---\r\n\r\nIf you want to define an **external controllable ordering** (which overrides the natural ordering), then you need to create a [`Comparator`][3]:\r\n\r\n    List&lt;Contact&gt; contacts = new ArrayList&lt;Contact&gt;();\r\n    // Fill it.\r\n\r\n    // Now sort by address instead of name (default).\r\n    Collections.sort(contacts, new Comparator&lt;Contact&gt;() {\r\n        public int compare(Contact one, Contact other) {\r\n            return one.getAddress().compareTo(other.getAddress());\r\n        }\r\n    }); \r\n\r\n---\r\n\r\nYou can even define the `Comparator`s in the `Contact` itself so that you can reuse them instead of recreating them everytime:\r\n\r\n    public class Contact {\r\n\r\n        private String name;\r\n        private String phone;\r\n        private Address address;\r\n\r\n        // ...\r\n\r\n        public static Comparator&lt;Contact&gt; COMPARE_BY_PHONE = new Comparator&lt;Contact&gt;() {\r\n            public int compare(Contact one, Contact other) {\r\n                return one.phone.compareTo(other.phone);\r\n            }\r\n        };\r\n\r\n        public static Comparator&lt;Contact&gt; COMPARE_BY_ADDRESS = new Comparator&lt;Contact&gt;() {\r\n            public int compare(Contact one, Contact other) {\r\n                return one.address.compareTo(other.address);\r\n            }\r\n        };\r\n\r\n    }\r\n\r\nwhich can be used as follows:\r\n\r\n    List&lt;Contact&gt; contacts = new ArrayList&lt;Contact&gt;();\r\n    // Fill it.\r\n    \r\n    // Sort by address.\r\n    Collections.sort(contacts, Contact.COMPARE_BY_ADDRESS);\r\n    \r\n    // Sort later by phone.\r\n    Collections.sort(contacts, Contact.COMPARE_BY_PHONE);\r\n\r\n---\r\n\r\nAnd to cream the top off, you could consider to use a **generic javabean comparator**:\r\n\r\n    public class BeanComparator implements Comparator&lt;Object&gt; {\r\n\r\n        private String getter;\r\n    \r\n        public BeanComparator(String field) {\r\n            this.getter = &quot;get&quot; + field.substring(0, 1).toUpperCase() + field.substring(1);\r\n        }\r\n    \r\n        public int compare(Object o1, Object o2) {\r\n            try {\r\n                if (o1 != null &amp;&amp; o2 != null) {\r\n                    o1 = o1.getClass().getMethod(getter, new Class[0]).invoke(o1, new Object[0]);\r\n                    o2 = o2.getClass().getMethod(getter, new Class[0]).invoke(o2, new Object[0]);\r\n                }\r\n            } catch (Exception e) {\r\n                // If this exception occurs, then it is usually a fault of the developer.\r\n                throw new RuntimeException(&quot;Cannot compare &quot; + o1 + &quot; with &quot; + o2 + &quot; on &quot; + getter, e);\r\n            }\r\n    \r\n            return (o1 == null) ? -1 : ((o2 == null) ? 1 : ((Comparable&lt;Object&gt;) o1).compareTo(o2));\r\n        }\r\n\r\n    }\r\n\r\nwhich you can use as follows:\r\n\r\n    // Sort on &quot;phone&quot; field of the Contact bean.\r\n    Collections.sort(contacts, new BeanComparator(&quot;phone&quot;));\r\n\r\n*(as you see in the code, possibly null fields are already covered to avoid NPE&#39;s during sort)*\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/collections/interfaces/order.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Comparable.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html\r\n","title":"Sorting an ArrayList of objects using a custom sorting order","body":"<p>Here's a tutorial about ordering objects:</p>\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/tutorial/collections/interfaces/order.html\" rel=\"nofollow noreferrer\">The Java Tutorials - Collections - Object Ordering</a></li>\n</ul>\n<p>Although I will give some examples, I would recommend to read it anyway.</p>\n<hr />\n<p>There are various way to sort an <code>ArrayList</code>. If you want to define a <strong>natural</strong> (default) <strong>ordering</strong>, then you need to let <code>Contact</code> implement <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Comparable.html\" rel=\"nofollow noreferrer\"><code>Comparable</code></a>. Assuming that you want to sort by default on <code>name</code>, then do (nullchecks omitted for simplicity):</p>\n<pre><code>public class Contact implements Comparable&lt;Contact&gt; {\n\n    private String name;\n    private String phone;\n    private Address address;\n\n    @Override\n    public int compareTo(Contact other) {\n        return name.compareTo(other.name);\n    }\n\n    // Add/generate getters/setters and other boilerplate.\n}\n</code></pre>\n<p>so that you can just do</p>\n<pre><code>List&lt;Contact&gt; contacts = new ArrayList&lt;Contact&gt;();\n// Fill it.\n\nCollections.sort(contacts);\n</code></pre>\n<hr />\n<p>If you want to define an <strong>external controllable ordering</strong> (which overrides the natural ordering), then you need to create a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html\" rel=\"nofollow noreferrer\"><code>Comparator</code></a>:</p>\n<pre><code>List&lt;Contact&gt; contacts = new ArrayList&lt;Contact&gt;();\n// Fill it.\n\n// Now sort by address instead of name (default).\nCollections.sort(contacts, new Comparator&lt;Contact&gt;() {\n    public int compare(Contact one, Contact other) {\n        return one.getAddress().compareTo(other.getAddress());\n    }\n}); \n</code></pre>\n<hr />\n<p>You can even define the <code>Comparator</code>s in the <code>Contact</code> itself so that you can reuse them instead of recreating them everytime:</p>\n<pre><code>public class Contact {\n\n    private String name;\n    private String phone;\n    private Address address;\n\n    // ...\n\n    public static Comparator&lt;Contact&gt; COMPARE_BY_PHONE = new Comparator&lt;Contact&gt;() {\n        public int compare(Contact one, Contact other) {\n            return one.phone.compareTo(other.phone);\n        }\n    };\n\n    public static Comparator&lt;Contact&gt; COMPARE_BY_ADDRESS = new Comparator&lt;Contact&gt;() {\n        public int compare(Contact one, Contact other) {\n            return one.address.compareTo(other.address);\n        }\n    };\n\n}\n</code></pre>\n<p>which can be used as follows:</p>\n<pre><code>List&lt;Contact&gt; contacts = new ArrayList&lt;Contact&gt;();\n// Fill it.\n\n// Sort by address.\nCollections.sort(contacts, Contact.COMPARE_BY_ADDRESS);\n\n// Sort later by phone.\nCollections.sort(contacts, Contact.COMPARE_BY_PHONE);\n</code></pre>\n<hr />\n<p>And to cream the top off, you could consider to use a <strong>generic javabean comparator</strong>:</p>\n<pre><code>public class BeanComparator implements Comparator&lt;Object&gt; {\n\n    private String getter;\n\n    public BeanComparator(String field) {\n        this.getter = &quot;get&quot; + field.substring(0, 1).toUpperCase() + field.substring(1);\n    }\n\n    public int compare(Object o1, Object o2) {\n        try {\n            if (o1 != null &amp;&amp; o2 != null) {\n                o1 = o1.getClass().getMethod(getter, new Class[0]).invoke(o1, new Object[0]);\n                o2 = o2.getClass().getMethod(getter, new Class[0]).invoke(o2, new Object[0]);\n            }\n        } catch (Exception e) {\n            // If this exception occurs, then it is usually a fault of the developer.\n            throw new RuntimeException(&quot;Cannot compare &quot; + o1 + &quot; with &quot; + o2 + &quot; on &quot; + getter, e);\n        }\n\n        return (o1 == null) ? -1 : ((o2 == null) ? 1 : ((Comparable&lt;Object&gt;) o1).compareTo(o2));\n    }\n\n}\n</code></pre>\n<p>which you can use as follows:</p>\n<pre><code>// Sort on &quot;phone&quot; field of the Contact bean.\nCollections.sort(contacts, new BeanComparator(&quot;phone&quot;));\n</code></pre>\n<p><em>(as you see in the code, possibly null fields are already covered to avoid NPE's during sort)</em></p>\n"},{"tags":[],"owner":{"account_id":59951,"reputation":51423,"user_id":179233,"accept_rate":100,"display_name":"Kaleb Brasee"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1259450860,"creation_date":1259450860,"answer_id":1814118,"question_id":1814095,"body_markdown":"You need make your Contact classes implement [Comparable&lt;Contact&gt;][1], and then implement the `compareTo(Contact)` method.  That way, the Collections.sort will be able to sort them for you.  Per the page I linked to, compareTo &#39;returns a negative integer, zero, or a positive integer as this object is less than, equal to, or greater than the specified object.&#39;\r\n\r\nFor example, if you wanted to sort by name (A to Z), your class would look like this:\r\n\r\n    public class Contact implements Comparable&lt;Contact&gt; {\r\n\r\n        private String name;\r\n\r\n        // all the other attributes and methods\r\n\r\n        public compareTo(Contact other) {\r\n            return this.name.compareTo(other.name);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/Comparable.html","title":"Sorting an ArrayList of objects using a custom sorting order","body":"<p>You need make your Contact classes implement <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Comparable.html\" rel=\"nofollow noreferrer\">Comparable</a>, and then implement the <code>compareTo(Contact)</code> method.  That way, the Collections.sort will be able to sort them for you.  Per the page I linked to, compareTo 'returns a negative integer, zero, or a positive integer as this object is less than, equal to, or greater than the specified object.'</p>\n\n<p>For example, if you wanted to sort by name (A to Z), your class would look like this:</p>\n\n<pre><code>public class Contact implements Comparable&lt;Contact&gt; {\n\n    private String name;\n\n    // all the other attributes and methods\n\n    public compareTo(Contact other) {\n        return this.name.compareTo(other.name);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":66479,"reputation":27633,"user_id":194982,"accept_rate":65,"display_name":"bguiz"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1259451682,"creation_date":1259451311,"answer_id":1814139,"question_id":1814095,"body_markdown":"[This page][1] tells you all you need to know about sorting collections, such as ArrayList.\r\n\r\nBasically you need to\r\n\r\n * make your `Contact` class implement the `Comparable` interface by\r\n  * creating a method `public int compareTo(Contact anotherContact)` within it.\r\n * Once you do this, you can just call `Collections.sort(myContactList);`,\r\n  * where `myContactList` is `ArrayList&lt;Contact&gt;` (or any other collection of `Contact`).\r\n\r\nThere&#39;s another way as well, involving creating a Comparator class, and you can read about that from the linked page as well.\r\n\r\nExample:\r\n\r\n    public class Contact implements Comparable&lt;Contact&gt; {\r\n    \r\n        ....\r\n    \r\n        //return -1 for less than, 0 for equals, and 1 for more than\r\n        public compareTo(Contact anotherContact) {\r\n            int result = 0;\r\n            result = getName().compareTo(anotherContact.getName());\r\n            if (result != 0)\r\n            {\r\n                return result;\r\n            }\r\n            result = getNunmber().compareTo(anotherContact.getNumber());\r\n            if (result != 0)\r\n            {\r\n                return result;\r\n            }\r\n            ...\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/collections/interfaces/order.html\r\n","title":"Sorting an ArrayList of objects using a custom sorting order","body":"<p><a href=\"http://java.sun.com/docs/books/tutorial/collections/interfaces/order.html\" rel=\"noreferrer\">This page</a> tells you all you need to know about sorting collections, such as ArrayList.</p>\n\n<p>Basically you need to</p>\n\n<ul>\n<li>make your <code>Contact</code> class implement the <code>Comparable</code> interface by\n\n<ul>\n<li>creating a method <code>public int compareTo(Contact anotherContact)</code> within it.</li>\n</ul></li>\n<li>Once you do this, you can just call <code>Collections.sort(myContactList);</code>,\n\n<ul>\n<li>where <code>myContactList</code> is <code>ArrayList&lt;Contact&gt;</code> (or any other collection of <code>Contact</code>).</li>\n</ul></li>\n</ul>\n\n<p>There's another way as well, involving creating a Comparator class, and you can read about that from the linked page as well.</p>\n\n<p>Example:</p>\n\n<pre><code>public class Contact implements Comparable&lt;Contact&gt; {\n\n    ....\n\n    //return -1 for less than, 0 for equals, and 1 for more than\n    public compareTo(Contact anotherContact) {\n        int result = 0;\n        result = getName().compareTo(anotherContact.getName());\n        if (result != 0)\n        {\n            return result;\n        }\n        result = getNunmber().compareTo(anotherContact.getNumber());\n        if (result != 0)\n        {\n            return result;\n        }\n        ...\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":48170,"reputation":12634,"user_id":142983,"accept_rate":80,"display_name":"Etienne Neveu"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1286967685,"creation_date":1259453922,"answer_id":1814242,"question_id":1814095,"body_markdown":"BalusC and bguiz have already given very complete answers on how to use Java&#39;s built-in Comparators.\r\n\r\nI just want to add that google-collections has an [Ordering][1] class which is more &quot;powerful&quot; than the standard Comparators.\r\nIt might be worth checking out. You can do cool things such as compounding Orderings, reversing them, ordering depending on a function&#39;s result for your objects...\r\n\r\n[Here][2] is a blog post that mentions some of its benefits.\r\n\r\n\r\n  [1]: http://google-collections.googlecode.com/svn/trunk/javadoc/index.html?com/google/common/collect/Ordering.html &quot;com.google.common.collect.Ordering javadoc&quot;\r\n  [2]: http://codemunchies.com/2009/11/functional-java-filtering-and-ordering-with-google-collections-part-3/ &quot;Functional Java, Filtering and Ordering with Google Collections (part 3)&quot;","title":"Sorting an ArrayList of objects using a custom sorting order","body":"<p>BalusC and bguiz have already given very complete answers on how to use Java's built-in Comparators.</p>\n\n<p>I just want to add that google-collections has an <a href=\"http://google-collections.googlecode.com/svn/trunk/javadoc/index.html?com/google/common/collect/Ordering.html\" rel=\"nofollow noreferrer\" title=\"com.google.common.collect.Ordering javadoc\">Ordering</a> class which is more \"powerful\" than the standard Comparators.\nIt might be worth checking out. You can do cool things such as compounding Orderings, reversing them, ordering depending on a function's result for your objects...</p>\n\n<p><a href=\"http://codemunchies.com/2009/11/functional-java-filtering-and-ordering-with-google-collections-part-3/\" rel=\"nofollow noreferrer\" title=\"Functional Java, Filtering and Ordering with Google Collections (part 3)\">Here</a> is a blog post that mentions some of its benefits.</p>\n"},{"tags":[],"owner":{"account_id":39135,"reputation":13588,"user_id":112779,"accept_rate":67,"display_name":"Mario Fusco"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1273237376,"creation_date":1273237376,"answer_id":2788692,"question_id":1814095,"body_markdown":"By using [lambdaj][1] you can sort a collection of your contacts (for example by their name) as it follows\r\n\r\n    sort(contacts, on(Contact.class).getName());\r\n\r\nor by their address:\r\n\r\n    sort(contacts, on(Contacts.class).getAddress());\r\n\r\nand so on. More in general, it offers a DSL to access and manipulate your collections in many ways, like filtering or grouping your contacts based on some conditions, aggregate some of their property values, etc.\r\n\r\n  [1]: http://code.google.com/p/lambdaj/","title":"Sorting an ArrayList of objects using a custom sorting order","body":"<p>By using <a href=\"http://code.google.com/p/lambdaj/\" rel=\"nofollow noreferrer\">lambdaj</a> you can sort a collection of your contacts (for example by their name) as it follows</p>\n\n<pre><code>sort(contacts, on(Contact.class).getName());\n</code></pre>\n\n<p>or by their address:</p>\n\n<pre><code>sort(contacts, on(Contacts.class).getAddress());\n</code></pre>\n\n<p>and so on. More in general, it offers a DSL to access and manipulate your collections in many ways, like filtering or grouping your contacts based on some conditions, aggregate some of their property values, etc.</p>\n"},{"tags":[],"owner":{"account_id":1262331,"reputation":3191,"user_id":1220296,"accept_rate":82,"display_name":"sarath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1345788606,"creation_date":1345788606,"answer_id":12103993,"question_id":1814095,"body_markdown":" I did it by the following way.\r\nnumber and name are two arraylist. I have to sort name .If any change happen to name arralist order then the number arraylist also change its order.\r\n\r\n    public void sortval(){\r\n    \t\r\n    \t\tString tempname=&quot;&quot;,tempnum=&quot;&quot;;\r\n    \t\t\r\n    \t\t if (name.size()&gt;1) // check if the number of orders is larger than 1\r\n    \t        {\r\n    \t            for (int x=0; x&lt;name.size(); x++) // bubble sort outer loop\r\n    \t            {\r\n    \t                for (int i=0; i &lt; name.size()-x-1; i++) {\r\n    \t                    if (name.get(i).compareTo(name.get(i+1)) &gt; 0)\r\n    \t                    {\r\n    \t                    \t\r\n    \t                        tempname = name.get(i);\r\n    \t                       \r\n    \t                        tempnum=number.get(i);\r\n    \t                        \r\n    \t                        \r\n    \t                       name.set(i,name.get(i+1) );\r\n    \t                       name.set(i+1, tempname);\r\n    \t                       \r\n    \t                        number.set(i,number.get(i+1) );\r\n    \t                        number.set(i+1, tempnum);\r\n    \t                     \r\n    \t                        \r\n    \t                    }\r\n    \t                }\r\n    \t            }\r\n    \t        }\r\n\r\n\r\n    \t\r\n    }\r\n    ","title":"Sorting an ArrayList of objects using a custom sorting order","body":"<p>I did it by the following way.\nnumber and name are two arraylist. I have to sort name .If any change happen to name arralist order then the number arraylist also change its order.</p>\n\n<pre><code>public void sortval(){\n\n        String tempname=\"\",tempnum=\"\";\n\n         if (name.size()&gt;1) // check if the number of orders is larger than 1\n            {\n                for (int x=0; x&lt;name.size(); x++) // bubble sort outer loop\n                {\n                    for (int i=0; i &lt; name.size()-x-1; i++) {\n                        if (name.get(i).compareTo(name.get(i+1)) &gt; 0)\n                        {\n\n                            tempname = name.get(i);\n\n                            tempnum=number.get(i);\n\n\n                           name.set(i,name.get(i+1) );\n                           name.set(i+1, tempname);\n\n                            number.set(i,number.get(i+1) );\n                            number.set(i+1, tempnum);\n\n\n                        }\n                    }\n                }\n            }\n\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1644759704,"creation_date":1462553596,"answer_id":37077669,"question_id":1814095,"body_markdown":"In addition to [what was already posted][1] by [BalusC][2] it may be worth pointing that since Java 8 we can shorten our code and write it like:\r\n\r\n    Collection.sort(yourList, Comparator.comparing(YourClass::getSomeComparableField));\r\n\r\nor since List now have `sort` method also like\r\n\r\n    yourList.sort(Comparator.comparing(YourClass::getSomeComparableField));\r\n\r\n### Explanation: \r\n\r\nSince Java 8, functional interfaces (interfaces with only one abstract method - they can have more default or static methods) can be easily implemented using:\r\n\r\n- [lambdas][3] `arguments -&gt; body` \r\n- or [method references][4] `source::method`.\r\n\r\nSince `Comparator&lt;T&gt;` has only one abstract method `int compare(T o1, T o2)` it is functional interface.\r\n\r\nSo instead of (example from [@BalusC][2] [answer][5])\r\n\r\n    Collections.sort(contacts, new Comparator&lt;Contact&gt;() {\r\n        public int compare(Contact one, Contact other) {\r\n            return one.getAddress().compareTo(other.getAddress());\r\n        }\r\n    }); \r\n\r\nwe can reduce this code to:\r\n\r\n    Collections.sort(contacts, (Contact one, Contact other) -&gt; {\r\n         return one.getAddress().compareTo(other.getAddress());\r\n    });\r\n\r\nWe can simplify this (or any) lambda by skipping \r\n\r\n- argument types (Java will infer them based on method signature) \r\n- or `{return` ... `}`\r\n\r\nSo instead of  \r\n\r\n    (Contact one, Contact other) -&gt; {\r\n         return one.getAddress().compareTo(other.getAddress();\r\n    }\r\n\r\nwe can write\r\n\r\n    (one, other) -&gt; one.getAddress().compareTo(other.getAddress())\r\n\r\nAlso now `Comparator` has static methods like `comparing(FunctionToComparableValue)` or `comparing(FunctionToValue, ValueComparator)` which we could use to easily create Comparators which should compare some specific values from objects. \r\n\r\nIn other words we can rewrite above code as\r\n\r\n    Collections.sort(contacts, Comparator.comparing(Contact::getAddress)); \r\n    //assuming that Address implements Comparable (provides default order).\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/1814112\r\n  [2]: https://stackoverflow.com/users/157882/balusc\r\n  [3]: https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\r\n  [4]: https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\r\n  [5]: https://stackoverflow.com/a/1814112/1393766","title":"Sorting an ArrayList of objects using a custom sorting order","body":"<p>In addition to <a href=\"https://stackoverflow.com/a/1814112\">what was already posted</a> by <a href=\"https://stackoverflow.com/users/157882/balusc\">BalusC</a> it may be worth pointing that since Java 8 we can shorten our code and write it like:</p>\n<pre><code>Collection.sort(yourList, Comparator.comparing(YourClass::getSomeComparableField));\n</code></pre>\n<p>or since List now have <code>sort</code> method also like</p>\n<pre><code>yourList.sort(Comparator.comparing(YourClass::getSomeComparableField));\n</code></pre>\n<h3>Explanation:</h3>\n<p>Since Java 8, functional interfaces (interfaces with only one abstract method - they can have more default or static methods) can be easily implemented using:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">lambdas</a> <code>arguments -&gt; body</code></li>\n<li>or <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">method references</a> <code>source::method</code>.</li>\n</ul>\n<p>Since <code>Comparator&lt;T&gt;</code> has only one abstract method <code>int compare(T o1, T o2)</code> it is functional interface.</p>\n<p>So instead of (example from <a href=\"https://stackoverflow.com/users/157882/balusc\">@BalusC</a> <a href=\"https://stackoverflow.com/a/1814112/1393766\">answer</a>)</p>\n<pre><code>Collections.sort(contacts, new Comparator&lt;Contact&gt;() {\n    public int compare(Contact one, Contact other) {\n        return one.getAddress().compareTo(other.getAddress());\n    }\n}); \n</code></pre>\n<p>we can reduce this code to:</p>\n<pre><code>Collections.sort(contacts, (Contact one, Contact other) -&gt; {\n     return one.getAddress().compareTo(other.getAddress());\n});\n</code></pre>\n<p>We can simplify this (or any) lambda by skipping</p>\n<ul>\n<li>argument types (Java will infer them based on method signature)</li>\n<li>or <code>{return</code> ... <code>}</code></li>\n</ul>\n<p>So instead of</p>\n<pre><code>(Contact one, Contact other) -&gt; {\n     return one.getAddress().compareTo(other.getAddress();\n}\n</code></pre>\n<p>we can write</p>\n<pre><code>(one, other) -&gt; one.getAddress().compareTo(other.getAddress())\n</code></pre>\n<p>Also now <code>Comparator</code> has static methods like <code>comparing(FunctionToComparableValue)</code> or <code>comparing(FunctionToValue, ValueComparator)</code> which we could use to easily create Comparators which should compare some specific values from objects.</p>\n<p>In other words we can rewrite above code as</p>\n<pre><code>Collections.sort(contacts, Comparator.comparing(Contact::getAddress)); \n//assuming that Address implements Comparable (provides default order).\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14713182,"reputation":1,"user_id":10625944,"display_name":"Bruno Mulas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541878097,"creation_date":1541781692,"answer_id":53229887,"question_id":1814095,"body_markdown":"use this method:\r\n\r\n    private ArrayList&lt;myClass&gt; sortList(ArrayList&lt;myClass&gt; list) {\r\n        if (list != null &amp;&amp; list.size() &gt; 1) {\r\n            Collections.sort(list, new Comparator&lt;myClass&gt;() {\r\n                public int compare(myClass o1, myClass o2) {\r\n                    if (o1.getsortnumber() == o2.getsortnumber()) return 0;\r\n                    return o1.getsortnumber() &lt; o2.getsortnumber() ? 1 : -1;\r\n                }\r\n            });\r\n        }\r\n        return list;\r\n    }\r\n`\r\n\r\n\r\n\r\nand use: `mySortedlist = sortList(myList);`\r\nNo need to implement comparator in your class.\r\nIf you want inverse order swap `1` and `-1`","title":"Sorting an ArrayList of objects using a custom sorting order","body":"<p>use this method:</p>\n\n<pre><code>private ArrayList&lt;myClass&gt; sortList(ArrayList&lt;myClass&gt; list) {\n    if (list != null &amp;&amp; list.size() &gt; 1) {\n        Collections.sort(list, new Comparator&lt;myClass&gt;() {\n            public int compare(myClass o1, myClass o2) {\n                if (o1.getsortnumber() == o2.getsortnumber()) return 0;\n                return o1.getsortnumber() &lt; o2.getsortnumber() ? 1 : -1;\n            }\n        });\n    }\n    return list;\n}\n</code></pre>\n\n<p>`</p>\n\n<p>and use: <code>mySortedlist = sortList(myList);</code>\nNo need to implement comparator in your class.\nIf you want inverse order swap <code>1</code> and <code>-1</code></p>\n"},{"tags":[],"owner":{"account_id":6606886,"reputation":916,"user_id":5103458,"display_name":"Shebla Tsama"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590262880,"creation_date":1590262880,"answer_id":61977681,"question_id":1814095,"body_markdown":"Ok, I know this was answered a long time ago... but, here&#39;s some new info:\r\n\r\nSay the Contact class in question already has a defined natural ordering via implementing Comparable&lt;Contact&gt;, but you want to override that ordering, say by name.  Here&#39;s the modern way to do it:\r\n\r\n    List&lt;Contact&gt; contacts = ...;\r\n    \r\n    contacts.sort(Comparator.comparing(Contact::getName).reversed().thenComparing(Comparator.naturalOrder());\r\n\r\n\r\nThis way it will sort by name first (in reverse order), and then for name collisions it will fall back to the &#39;natural&#39; ordering implemented by the Contact class itself.\r\n\r\n\r\n\r\n","title":"Sorting an ArrayList of objects using a custom sorting order","body":"<p>Ok, I know this was answered a long time ago... but, here's some new info:</p>\n\n<p>Say the Contact class in question already has a defined natural ordering via implementing Comparable, but you want to override that ordering, say by name.  Here's the modern way to do it:</p>\n\n<pre><code>List&lt;Contact&gt; contacts = ...;\n\ncontacts.sort(Comparator.comparing(Contact::getName).reversed().thenComparing(Comparator.naturalOrder());\n</code></pre>\n\n<p>This way it will sort by name first (in reverse order), and then for name collisions it will fall back to the 'natural' ordering implemented by the Contact class itself.</p>\n"},{"tags":[],"owner":{"account_id":15327802,"reputation":1,"user_id":11323240,"display_name":"Mohit Patni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657176271,"creation_date":1656775773,"answer_id":72840264,"question_id":1814095,"body_markdown":"With java  8 feature\r\n\r\n    List&lt;Contact&gt; contact = contactArray.stream().sorted((c1, c2) -&gt; ((c1.getName().compareTo(c2.getName())))).collect(Collectors.toList());\r\n\r\n","title":"Sorting an ArrayList of objects using a custom sorting order","body":"<p>With java  8 feature</p>\n<pre><code>List&lt;Contact&gt; contact = contactArray.stream().sorted((c1, c2) -&gt; ((c1.getName().compareTo(c2.getName())))).collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":572399,"reputation":1333,"user_id":218027,"display_name":"Sameera0"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188324,"favorite_count":0,"down_vote_count":1,"up_vote_count":132,"accepted_answer_id":1814112,"answer_count":12,"score":131,"last_activity_date":1661427412,"creation_date":1259450291,"question_id":1814095,"body_markdown":"I am looking to implement a sort feature for my address book application.\r\n\r\nI want to sort an `ArrayList&lt;Contact&gt; contactArray`. `Contact` is a class which contains four fields: name, home number, mobile number and address. I want to sort on `name`.\r\n\r\nHow can I write a custom sort function to do this?\r\n","title":"Sorting an ArrayList of objects using a custom sorting order","body":"<p>I am looking to implement a sort feature for my address book application.</p>\n\n<p>I want to sort an <code>ArrayList&lt;Contact&gt; contactArray</code>. <code>Contact</code> is a class which contains four fields: name, home number, mobile number and address. I want to sort on <code>name</code>.</p>\n\n<p>How can I write a custom sort function to do this?</p>\n"},{"tags":["java","comparator","comparable"],"answers":[{"tags":[],"owner":{"account_id":12141,"reputation":11915,"user_id":23760,"accept_rate":90,"display_name":"ZeissS"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1266247053,"creation_date":1266247053,"answer_id":2266861,"question_id":2266827,"body_markdown":"There had been a similar question here: https://stackoverflow.com/questions/1440134/java-what-is-the-difference-between-implementing-comparable-and-comparator\r\n\r\nI would say the following:\r\nImplement Comparable for something like a natural ordering, e.g. based on an internal ID\r\n\r\nImplement a Comparator if you have a more complex comparing algorithm, e.g. multiple fields and so on.","title":"When to use Comparable and Comparator","body":"<p>There had been a similar question here: <a href=\"https://stackoverflow.com/questions/1440134/java-what-is-the-difference-between-implementing-comparable-and-comparator\">When should a class be Comparable and/or Comparator?</a></p>\n\n<p>I would say the following:\nImplement Comparable for something like a natural ordering, e.g. based on an internal ID</p>\n\n<p>Implement a Comparator if you have a more complex comparing algorithm, e.g. multiple fields and so on.</p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":138,"is_accepted":false,"score":138,"last_activity_date":1661427345,"creation_date":1266247065,"answer_id":2266863,"question_id":2266827,"body_markdown":"Use [`Comparable`][1] if you want to define a **default** (natural) ordering behaviour of the object in question, a common practice is to use a technical or natural (database?) identifier of the object for this.\r\n\r\nUse [`Comparator`][2] if you want to define an **external controllable** ordering behaviour, this can override the default ordering behaviour.\r\n\r\n### See also:\r\n\r\n- https://stackoverflow.com/questions/1814095/sorting-an-arraylist-of-objects-using-a-custom-sorting-order/1814112#1814112\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Comparable.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html","title":"When to use Comparable and Comparator","body":"<p>Use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Comparable.html\" rel=\"nofollow noreferrer\"><code>Comparable</code></a> if you want to define a <strong>default</strong> (natural) ordering behaviour of the object in question, a common practice is to use a technical or natural (database?) identifier of the object for this.</p>\n<p>Use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html\" rel=\"nofollow noreferrer\"><code>Comparator</code></a> if you want to define an <strong>external controllable</strong> ordering behaviour, this can override the default ordering behaviour.</p>\n<h3>See also:</h3>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/1814095/sorting-an-arraylist-of-objects-using-a-custom-sorting-order/1814112#1814112\">Sorting an ArrayList of objects using a custom sorting order</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":28947,"reputation":90759,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"down_vote_count":1,"up_vote_count":85,"is_accepted":true,"score":84,"last_activity_date":1266247101,"creation_date":1266247101,"answer_id":2266868,"question_id":2266827,"body_markdown":"I would say that an object should implement Comparable if that is the clear natural way to sort the class, and anyone would need to sort the class would generally want to do it that way.\r\n\r\nIf, however, the sorting was an unusual use of the class, or the sorting only makes sense for a specific use case, then a Comparator is a better option.\r\n\r\nPut another way, given the class name, is it clear how a comparable would sort, or do you have to resort to reading the javadoc? If it is the latter, odds are every future sorting use case would require a comparator, at which point the implementation of comparable may slow down users of the class, not speed them up.","title":"When to use Comparable and Comparator","body":"<p>I would say that an object should implement Comparable if that is the clear natural way to sort the class, and anyone would need to sort the class would generally want to do it that way.</p>\n\n<p>If, however, the sorting was an unusual use of the class, or the sorting only makes sense for a specific use case, then a Comparator is a better option.</p>\n\n<p>Put another way, given the class name, is it clear how a comparable would sort, or do you have to resort to reading the javadoc? If it is the latter, odds are every future sorting use case would require a comparator, at which point the implementation of comparable may slow down users of the class, not speed them up.</p>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":63,"is_accepted":false,"score":63,"last_activity_date":1430732186,"creation_date":1266247293,"answer_id":2266896,"question_id":2266827,"body_markdown":"Use `Comparable`:\r\n\r\n- if the object is in your control.\r\n- if the comparing behaviour is the main comparing behaviour.\r\n\r\nUse `Comparator` :\r\n\r\n- if the object is outside your control and you cannot make them implement `Comparable`.\r\n- when you want comparing behaviour different from the default (which is specified by `Comparable`) behaviour.","title":"When to use Comparable and Comparator","body":"<p>Use <code>Comparable</code>:</p>\n\n<ul>\n<li>if the object is in your control.</li>\n<li>if the comparing behaviour is the main comparing behaviour.</li>\n</ul>\n\n<p>Use <code>Comparator</code> :</p>\n\n<ul>\n<li>if the object is outside your control and you cannot make them implement <code>Comparable</code>.</li>\n<li>when you want comparing behaviour different from the default (which is specified by <code>Comparable</code>) behaviour.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":12478,"reputation":23673,"user_id":24582,"display_name":"extraneon"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1266247863,"creation_date":1266247863,"answer_id":2266957,"question_id":2266827,"body_markdown":"I would say:\r\n\r\n  - if the comparison is intuitive, then by all means implement Comparable\r\n  - if it is unclear wether your comparison is intuitive, use a Comparator as it&#39;s more\r\n    explicit and thus more clear for the poor soul who has to maintain the code\r\n  - if there is more than one intuitive comparison possible I&#39;d prefer a Comparator,\r\n    possibly build by a factory method in the class to be compared.\r\n  - if the comparison is special purpose, use Comparator","title":"When to use Comparable and Comparator","body":"<p>I would say:</p>\n\n<ul>\n<li>if the comparison is intuitive, then by all means implement Comparable</li>\n<li>if it is unclear wether your comparison is intuitive, use a Comparator as it's more\nexplicit and thus more clear for the poor soul who has to maintain the code</li>\n<li>if there is more than one intuitive comparison possible I'd prefer a Comparator,\npossibly build by a factory method in the class to be compared.</li>\n<li>if the comparison is special purpose, use Comparator</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":41833,"reputation":47089,"user_id":121687,"accept_rate":63,"display_name":"fabrizioM"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1266250531,"creation_date":1266250531,"answer_id":2267228,"question_id":2266827,"body_markdown":" - If at the moment of writing the class\r\n   you have only one use case of sorting\r\n   use Comparable. \r\n - Only when you have    more than one\r\n   strategy of sorting    implement a\r\n   Comparator.","title":"When to use Comparable and Comparator","body":"<ul>\n<li>If at the moment of writing the class\nyou have only one use case of sorting\nuse Comparable. </li>\n<li>Only when you have    more than one\nstrategy of sorting    implement a\nComparator.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":778287,"reputation":131,"user_id":831143,"display_name":"Devang Paliwal"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1605917220,"creation_date":1309940626,"answer_id":6593478,"question_id":2266827,"body_markdown":"Comparable should be used when you compare instances of the same class.\r\n\r\nComparator can be used to compare instances of different classes.\r\n\r\nComparable is implemented by the class which needs to define a natural ordering for its objects.\r\nFor example, String implements Comparable.\r\n\r\nIn case a different sorting order is required, then, implement comparator and define its own way of comparing two instances.\r\n","title":"When to use Comparable and Comparator","body":"<p>Comparable should be used when you compare instances of the same class.</p>\n<p>Comparator can be used to compare instances of different classes.</p>\n<p>Comparable is implemented by the class which needs to define a natural ordering for its objects.\nFor example, String implements Comparable.</p>\n<p>In case a different sorting order is required, then, implement comparator and define its own way of comparing two instances.</p>\n"},{"tags":[],"owner":{"account_id":950447,"reputation":7,"user_id":976715,"display_name":"user976715"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1318399102,"creation_date":1318399102,"answer_id":7735886,"question_id":2266827,"body_markdown":"Very simple approach is to assume that the entity class in question be represented in database and then in database table would you need index made up of fields of entity class? If answer is yes then implement comparable and use the index field(s) for natural sorting order. In all other cases use comparator.","title":"When to use Comparable and Comparator","body":"<p>Very simple approach is to assume that the entity class in question be represented in database and then in database table would you need index made up of fields of entity class? If answer is yes then implement comparable and use the index field(s) for natural sorting order. In all other cases use comparator.</p>\n"},{"tags":[],"owner":{"account_id":968146,"reputation":51,"user_id":991210,"display_name":"Rajiv"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1318413765,"creation_date":1318413765,"answer_id":7738338,"question_id":2266827,"body_markdown":"If you need natural order sorting -- User Comparable\r\nIF you need Custom Order Sorting - Use Comparator\r\n\r\nExample:\r\n\r\n    Class Employee{\r\n    private int id;\r\n    private String name;\r\n    private String department;\r\n    }\r\n\r\nNatural order Sorting would be based on id because it would be unique and custom order sortin g would be name and department.\r\n\r\nRefrences:  \r\nhttps://stackoverflow.com/questions/1440134/java-what-is-the-difference-between-implementing-comparable-and-comparator \r\nhttp://javarevisited.blogspot.com/2011/06/comparator-and-comparable-in-java.html\r\n","title":"When to use Comparable and Comparator","body":"<p>If you need natural order sorting -- User Comparable\nIF you need Custom Order Sorting - Use Comparator</p>\n\n<p>Example:</p>\n\n<pre><code>Class Employee{\nprivate int id;\nprivate String name;\nprivate String department;\n}\n</code></pre>\n\n<p>Natural order Sorting would be based on id because it would be unique and custom order sortin g would be name and department.</p>\n\n<p>Refrences:<br>\n<a href=\"https://stackoverflow.com/questions/1440134/java-what-is-the-difference-between-implementing-comparable-and-comparator\">When should a class be Comparable and/or Comparator?</a> \n<a href=\"http://javarevisited.blogspot.com/2011/06/comparator-and-comparable-in-java.html\" rel=\"nofollow noreferrer\">http://javarevisited.blogspot.com/2011/06/comparator-and-comparable-in-java.html</a></p>\n"},{"tags":[],"owner":{"account_id":1100526,"reputation":21,"user_id":1093018,"display_name":"G swamy reddy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1352043921,"creation_date":1323659927,"answer_id":8469600,"question_id":2266827,"body_markdown":"**Comparable:**  \r\n Whenever we want to store only homogeneous elements and default natural sorting order required, we can go for class implementing  `comparable` interface.\r\n\r\n**Comparator:**  \r\nWhenever we want to store homogeneous and heterogeneous elements and we want to sort in default customized sorting order, we can go for `comparator` interface.","title":"When to use Comparable and Comparator","body":"<p><strong>Comparable:</strong><br>\n Whenever we want to store only homogeneous elements and default natural sorting order required, we can go for class implementing  <code>comparable</code> interface.</p>\n\n<p><strong>Comparator:</strong><br>\nWhenever we want to store homogeneous and heterogeneous elements and we want to sort in default customized sorting order, we can go for <code>comparator</code> interface.</p>\n"},{"tags":[],"owner":{"account_id":1156008,"reputation":9,"user_id":1136612,"display_name":"Jianmin Liu"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1351321483,"creation_date":1325986951,"answer_id":8774716,"question_id":2266827,"body_markdown":"My annotation lib for implementing `Comparable` and `Comparator`:\r\n\r\n    public class Person implements Comparable&lt;Person&gt; {         \r\n        private String firstName;  \r\n        private String lastName;         \r\n        private int age;         \r\n        private char gentle;         \r\n\r\n        @Override         \r\n        @CompaProperties({ @CompaProperty(property = &quot;lastName&quot;),              \r\n            @CompaProperty(property = &quot;age&quot;,  order = Order.DSC) })           \r\n        public int compareTo(Person person) {                 \r\n            return Compamatic.doComparasion(this, person);         \r\n        }  \r\n    }\r\n\r\n\r\nClick the link to see more examples.\r\nhttp://code.google.com/p/compamatic/wiki/CompamaticByExamples","title":"When to use Comparable and Comparator","body":"<p>My annotation lib for implementing <code>Comparable</code> and <code>Comparator</code>:</p>\n\n<pre><code>public class Person implements Comparable&lt;Person&gt; {         \n    private String firstName;  \n    private String lastName;         \n    private int age;         \n    private char gentle;         \n\n    @Override         \n    @CompaProperties({ @CompaProperty(property = \"lastName\"),              \n        @CompaProperty(property = \"age\",  order = Order.DSC) })           \n    public int compareTo(Person person) {                 \n        return Compamatic.doComparasion(this, person);         \n    }  \n}\n</code></pre>\n\n<p>Click the link to see more examples.\n<a href=\"http://code.google.com/p/compamatic/wiki/CompamaticByExamples\" rel=\"nofollow\">http://code.google.com/p/compamatic/wiki/CompamaticByExamples</a></p>\n"},{"tags":[],"owner":{"account_id":1202636,"reputation":107,"user_id":1172965,"accept_rate":64,"display_name":"spring pro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1351497623,"creation_date":1351497623,"answer_id":13117836,"question_id":2266827,"body_markdown":"My need was sort based on date.\r\n\r\nSo, I used Comparable and it worked easily for me.\r\n\r\n\tpublic int compareTo(GoogleCalendarBean o) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn eventdate.compareTo(o.getEventdate());\r\n\t}\r\n\r\nOne restriction with Comparable is that they cannot used for Collections other than List.","title":"When to use Comparable and Comparator","body":"<p>My need was sort based on date.</p>\n\n<p>So, I used Comparable and it worked easily for me.</p>\n\n<pre><code>public int compareTo(GoogleCalendarBean o) {\n    // TODO Auto-generated method stub\n    return eventdate.compareTo(o.getEventdate());\n}\n</code></pre>\n\n<p>One restriction with Comparable is that they cannot used for Collections other than List.</p>\n"},{"tags":[],"owner":{"account_id":928111,"reputation":1021,"user_id":958470,"accept_rate":12,"display_name":"Sai Sunder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400587363,"creation_date":1400587363,"answer_id":23759313,"question_id":2266827,"body_markdown":"If you own the class better go with **Comparable**. Generally **Comparator** is used if you dont own the class but you have to use it a **TreeSet** or **TreeMap** because Comparator can be passed as a parameter in the conctructor of TreeSet or TreeMap. You can see how to use Comparator and Comparable in http://preciselyconcise.com/java/collections/g_comparator.php","title":"When to use Comparable and Comparator","body":"<p>If you own the class better go with <strong>Comparable</strong>. Generally <strong>Comparator</strong> is used if you dont own the class but you have to use it a <strong>TreeSet</strong> or <strong>TreeMap</strong> because Comparator can be passed as a parameter in the conctructor of TreeSet or TreeMap. You can see how to use Comparator and Comparable in <a href=\"http://preciselyconcise.com/java/collections/g_comparator.php\" rel=\"nofollow\">http://preciselyconcise.com/java/collections/g_comparator.php</a></p>\n"},{"tags":[],"owner":{"display_name":"user2773898"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1416126454,"creation_date":1416126454,"answer_id":26955176,"question_id":2266827,"body_markdown":"Comparator does everything that comparable does, plus more.\r\n\r\n&gt; `|                                                        | Comparable | Comparator\r\n._______________________________________________________________________________\r\nIs used to allow Collections.sort to work               | yes        |   yes\r\nCan compare multiple fields                             | yes        |   yes\r\nLives inside the class you’re comparing and serves      |            |\r\nas a “default” way to compare                           | yes        |   yes\r\nCan live outside the class you’re comparing             | no         |   yes\r\nCan have multiple instances with different method names | no         |   yes\r\nInput arguments can be a list of                        | just Object|   Any type\r\nCan use enums                                           | no         |   yes\r\n`\r\n\r\nI found the best approach to use comparators as anonymous classes as follows:\r\n\r\n    private static void sortAccountsByPriority(List&lt;AccountRecord&gt; accounts) {\r\n        Collections.sort(accounts, new Comparator&lt;AccountRecord&gt;() {\r\n\r\n            @Override\r\n            public int compare(AccountRecord a1, AccountRecord a2) {\r\n                return a1.getRank().compareTo(a2.getRank());\r\n            }\r\n        });\r\n    }\r\n\r\nYou can create multiple versions of such methods right inside the class you’re planning to sort.   So you can have:\r\n\r\n - sortAccountsByPriority \r\n - sortAccountsByType\r\n - sortAccountsByPriorityAndType \r\n \r\n etc...\r\n\r\nNow, you can use these sort methods anywhere and get code reuse.\r\nThis gives me everything a comparable would, plus more ... so I don’t see any reason to use comparable at all.","title":"When to use Comparable and Comparator","body":"<p>Comparator does everything that comparable does, plus more.</p>\n\n<blockquote>\n  <p><code>|                                                        | Comparable | Comparator\n  ._______________________________________________________________________________\n  Is used to allow Collections.sort to work               | yes        |   yes\n  Can compare multiple fields                             | yes        |   yes\n  Lives inside the class you’re comparing and serves      |            |\n  as a “default” way to compare                           | yes        |   yes\n  Can live outside the class you’re comparing             | no         |   yes\n  Can have multiple instances with different method names | no         |   yes\n  Input arguments can be a list of                        | just Object|   Any type\n  Can use enums                                           | no         |   yes\n  </code></p>\n</blockquote>\n\n<p>I found the best approach to use comparators as anonymous classes as follows:</p>\n\n<pre><code>private static void sortAccountsByPriority(List&lt;AccountRecord&gt; accounts) {\n    Collections.sort(accounts, new Comparator&lt;AccountRecord&gt;() {\n\n        @Override\n        public int compare(AccountRecord a1, AccountRecord a2) {\n            return a1.getRank().compareTo(a2.getRank());\n        }\n    });\n}\n</code></pre>\n\n<p>You can create multiple versions of such methods right inside the class you’re planning to sort.   So you can have:</p>\n\n<ul>\n<li>sortAccountsByPriority </li>\n<li>sortAccountsByType</li>\n<li><p>sortAccountsByPriorityAndType </p>\n\n<p>etc...</p></li>\n</ul>\n\n<p>Now, you can use these sort methods anywhere and get code reuse.\nThis gives me everything a comparable would, plus more ... so I don’t see any reason to use comparable at all.</p>\n"},{"tags":[],"owner":{"account_id":6575754,"reputation":9298,"user_id":5081877,"accept_rate":92,"display_name":"Yash"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1504703362,"creation_date":1436181843,"answer_id":31244596,"question_id":2266827,"body_markdown":"[**Comparable**][1] - `java.lang.Comparable: int compareTo(Object o1)`\r\n\r\nA comparable object is capable of comparing itself with another object. The class itself must implements the java.lang.Comparable interface in order to be able to compare its instances.\r\n\r\n* Capable of comparing current object with the provided object.\r\n* By using this we can implement **`only one sort sequence`** based on the instances properties.\r\nEX: `Person.id`\r\n* Some of the Predefined Classes like String, Wrapper classes, Date, Calendar has implemented Comparable&lt;T&gt; interface.\r\n\r\n-----\r\n\r\n[**Comparator**][2] - `java.util.Comparator: int compare(Object o1, Object o2)`\r\n\r\nA comparator object is capable of comparing two different objects. The class is not comparing its instances, but some other class’s instances. This comparator class must implement the java.util.Comparator interface.\r\n\r\n* Capable of comparing any two Objects of Same Type.\r\n* By using this we can implement **`many sort sequence`** and name each, based on the instances properties.\r\nEX: `Person.id, Person.name, Person.age`\r\n* We can implement Comparator&lt;T&gt; interface to our Pre-defined classes for Customized sorting.\r\n\r\n-----\r\n\r\nExample:\r\n\r\n    public class Employee implements Comparable&lt;Employee&gt; {\r\n    \t\r\n    \tprivate int id;\r\n    \tprivate String name;\r\n    \tprivate int age;\r\n    \tprivate long salary;\r\n    \t\r\n    \t// Many sort sequences can be created with different names.\r\n    \tpublic static Comparator&lt;Employee&gt; NameComparator = new Comparator&lt;Employee&gt;() {\t\t \r\n            @Override\r\n            public int compare(Employee e1, Employee e2) {\r\n                return e1.getName().compareTo(e2.getName());\r\n            }\r\n    \t};\r\n      \tpublic static Comparator&lt;Employee&gt; idComparator = new Comparator&lt;Employee&gt;() {\t\t \r\n    \t\t@Override\r\n    \t\tpublic int compare(Employee e1, Employee e2) {\r\n    \t\t\treturn Integer.valueOf(e1.getId()).compareTo(Integer.valueOf(e2.getId()));\r\n    \t\t}\r\n    \t};\r\n    \t\r\n    \tpublic Employee() {\t}\r\n    \tpublic Employee(int id, String name, int age, long salary){\r\n    \t\tthis.id = id;\r\n    \t\tthis.name = name;\r\n    \t\tthis.age = age;\r\n    \t\tthis.salary = salary;\r\n    \t}\r\n        // setters and getters.\r\n        \r\n        // Only one sort sequence can be created with in the class.\r\n        @Override\r\n    \tpublic int compareTo(Employee e) {\r\n        //return Integer.valueOf(this.id).compareTo(Integer.valueOf(e.id));\r\n        //return Character.toString(this.name.charAt(0)).compareToIgnoreCase(Character.toString(e.name.charAt(0)));\r\n    \t\tif (this.id &gt; e.id) {\r\n    \t\t\treturn 1;\r\n    \t\t}else if(this.id &lt; e.id){\r\n    \t\t\treturn -1;\r\n    \t\t}else {\r\n    \t\t\treturn Character.toString(this.name.charAt(0)).compareToIgnoreCase(Character.toString(e.name.charAt(0)));\r\n    \t\t}\r\n    \t\t\r\n    \t}\t\r\n    \r\n        public static void main(String[] args) {\r\n    \t\t\r\n    \t\tEmployee e1 = new Employee(5, &quot;Yash&quot;, 22, 1000);\r\n    \t\tEmployee e2 = new Employee(8, &quot;Tharun&quot;, 24, 25000);\r\n            \r\n            List&lt;Employee&gt; list = new ArrayList&lt;Employee&gt;();\r\n    \t\tlist.add(e1);\r\n    \t\tlist.add(e2);\r\n            Collections.sort(list); // call @compareTo(o1)\r\n            Collections.sort(list, Employee.nameComparator); // call @compare (o1,o2)\r\n            Collections.sort(list, Employee.idComparator); // call @compare (o1,o2)\r\n        }\r\n    }\r\n\r\n - For customized sorting we go for comparator @compare(o1, o2) for other scenarios we go for comparable @compareTo(o1),  with out changing code if we want to sort more than one field then we use comparator. \r\n\r\nFor [Java 8 Lambda : Comparator][3] refer to my post.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/Comparable.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/Comparator.html\r\n  [3]: https://stackoverflow.com/a/46075163/5081877","title":"When to use Comparable and Comparator","body":"<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Comparable.html\" rel=\"noreferrer\"><strong>Comparable</strong></a> - <code>java.lang.Comparable: int compareTo(Object o1)</code></p>\n\n<p>A comparable object is capable of comparing itself with another object. The class itself must implements the java.lang.Comparable interface in order to be able to compare its instances.</p>\n\n<ul>\n<li>Capable of comparing current object with the provided object.</li>\n<li>By using this we can implement <strong><code>only one sort sequence</code></strong> based on the instances properties.\nEX: <code>Person.id</code></li>\n<li>Some of the Predefined Classes like String, Wrapper classes, Date, Calendar has implemented Comparable interface.</li>\n</ul>\n\n<hr>\n\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Comparator.html\" rel=\"noreferrer\"><strong>Comparator</strong></a> - <code>java.util.Comparator: int compare(Object o1, Object o2)</code></p>\n\n<p>A comparator object is capable of comparing two different objects. The class is not comparing its instances, but some other class’s instances. This comparator class must implement the java.util.Comparator interface.</p>\n\n<ul>\n<li>Capable of comparing any two Objects of Same Type.</li>\n<li>By using this we can implement <strong><code>many sort sequence</code></strong> and name each, based on the instances properties.\nEX: <code>Person.id, Person.name, Person.age</code></li>\n<li>We can implement Comparator interface to our Pre-defined classes for Customized sorting.</li>\n</ul>\n\n<hr>\n\n<p>Example:</p>\n\n<pre><code>public class Employee implements Comparable&lt;Employee&gt; {\n\n    private int id;\n    private String name;\n    private int age;\n    private long salary;\n\n    // Many sort sequences can be created with different names.\n    public static Comparator&lt;Employee&gt; NameComparator = new Comparator&lt;Employee&gt;() {         \n        @Override\n        public int compare(Employee e1, Employee e2) {\n            return e1.getName().compareTo(e2.getName());\n        }\n    };\n    public static Comparator&lt;Employee&gt; idComparator = new Comparator&lt;Employee&gt;() {       \n        @Override\n        public int compare(Employee e1, Employee e2) {\n            return Integer.valueOf(e1.getId()).compareTo(Integer.valueOf(e2.getId()));\n        }\n    };\n\n    public Employee() { }\n    public Employee(int id, String name, int age, long salary){\n        this.id = id;\n        this.name = name;\n        this.age = age;\n        this.salary = salary;\n    }\n    // setters and getters.\n\n    // Only one sort sequence can be created with in the class.\n    @Override\n    public int compareTo(Employee e) {\n    //return Integer.valueOf(this.id).compareTo(Integer.valueOf(e.id));\n    //return Character.toString(this.name.charAt(0)).compareToIgnoreCase(Character.toString(e.name.charAt(0)));\n        if (this.id &gt; e.id) {\n            return 1;\n        }else if(this.id &lt; e.id){\n            return -1;\n        }else {\n            return Character.toString(this.name.charAt(0)).compareToIgnoreCase(Character.toString(e.name.charAt(0)));\n        }\n\n    }   \n\n    public static void main(String[] args) {\n\n        Employee e1 = new Employee(5, \"Yash\", 22, 1000);\n        Employee e2 = new Employee(8, \"Tharun\", 24, 25000);\n\n        List&lt;Employee&gt; list = new ArrayList&lt;Employee&gt;();\n        list.add(e1);\n        list.add(e2);\n        Collections.sort(list); // call @compareTo(o1)\n        Collections.sort(list, Employee.nameComparator); // call @compare (o1,o2)\n        Collections.sort(list, Employee.idComparator); // call @compare (o1,o2)\n    }\n}\n</code></pre>\n\n<ul>\n<li>For customized sorting we go for comparator @compare(o1, o2) for other scenarios we go for comparable @compareTo(o1),  with out changing code if we want to sort more than one field then we use comparator. </li>\n</ul>\n\n<p>For <a href=\"https://stackoverflow.com/a/46075163/5081877\">Java 8 Lambda : Comparator</a> refer to my post.</p>\n"},{"tags":[],"owner":{"account_id":1672073,"reputation":189,"user_id":1538362,"accept_rate":80,"display_name":"Mr. Wonderful"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1436985035,"creation_date":1436985035,"answer_id":31438334,"question_id":2266827,"body_markdown":"I have been asked sorting of a definite range of numbers in better than nlogn time in one of interview. (Not using Counting sort)\r\n\r\nImplementing Comparable interface over an object allows implicit sorting algos to use overridden compareTo method to order sort elements and that would be linear time.","title":"When to use Comparable and Comparator","body":"<p>I have been asked sorting of a definite range of numbers in better than nlogn time in one of interview. (Not using Counting sort)</p>\n\n<p>Implementing Comparable interface over an object allows implicit sorting algos to use overridden compareTo method to order sort elements and that would be linear time.</p>\n"},{"tags":[],"owner":{"account_id":910157,"reputation":4964,"user_id":944190,"accept_rate":54,"display_name":"a Learner"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1437878492,"creation_date":1437878492,"answer_id":31633127,"question_id":2266827,"body_markdown":"The following points help you in deciding in which situations one should use Comparable and in which Comparator:\r\n\r\n1) Code Availabilty\r\n\r\n2) Single Versus Multiple Sorting Criteria\r\n\r\n3) Arays.sort() and Collection.sort()\r\n\r\n4) As keys in SortedMap and SortedSet\r\n\r\n5) More Number of classes Versus flexibility\r\n\r\n6) Interclass comparisions\r\n\r\n7) Natural Order\r\n\r\nFor more detailed article you can refer [When to use comparable and when to use comparator][1]\r\n\r\n\r\n  [1]: http://java-journal.blogspot.in/2011/01/when-to-use-comparable-and-when-to-use.html","title":"When to use Comparable and Comparator","body":"<p>The following points help you in deciding in which situations one should use Comparable and in which Comparator:</p>\n\n<p>1) Code Availabilty</p>\n\n<p>2) Single Versus Multiple Sorting Criteria</p>\n\n<p>3) Arays.sort() and Collection.sort()</p>\n\n<p>4) As keys in SortedMap and SortedSet</p>\n\n<p>5) More Number of classes Versus flexibility</p>\n\n<p>6) Interclass comparisions</p>\n\n<p>7) Natural Order</p>\n\n<p>For more detailed article you can refer <a href=\"http://java-journal.blogspot.in/2011/01/when-to-use-comparable-and-when-to-use.html\" rel=\"noreferrer\">When to use comparable and when to use comparator</a></p>\n"},{"tags":[],"owner":{"account_id":5144206,"reputation":10678,"user_id":4120631,"accept_rate":33,"display_name":"Joby Wilson Mathews"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1594565123,"creation_date":1526970071,"answer_id":50461038,"question_id":2266827,"body_markdown":"***If sorting of objects needs to be based on natural order then use Comparable whereas if your sorting needs to be done on attributes of different objects, then use Comparator in Java.***\r\n\r\n**Main differences between Comparable and Comparator:**\r\n\r\n    +------------------------------------------------------------------------------------+\r\n    &#166;               Comparable                &#166;                Comparator                &#166;\r\n    &#166;-----------------------------------------+------------------------------------------&#166;\r\n    &#166; java.lang.Comparable                    &#166; java.util.Comparator                     &#166;\r\n    &#166;-----------------------------------------+------------------------------------------&#166;\r\n    &#166; int objOne.compareTo(objTwo)            &#166; int compare(objOne, objTwo)              &#166;\r\n    &#166;-----------------------------------------+------------------------------------------&#166;\r\n    &#166; Negative, if objOne &lt; objTwo            &#166; Same as Comparable                       &#166;\r\n    &#166; Zero,  if objOne == objTwo              &#166;                                          &#166;\r\n    &#166; Positive,  if objOne &gt; objTwo           &#166;                                          &#166;\r\n    &#166;-----------------------------------------+------------------------------------------&#166;\r\n    &#166; You must modify the class whose         &#166; You build a class separate from to sort. &#166;\r\n    &#166; instances you want to sort.             &#166; the class whose instances you want       &#166;\r\n    &#166;-----------------------------------------+------------------------------------------&#166;\r\n    &#166; Only one sort sequence can be created   &#166; Many sort sequences can be created       &#166;\r\n    &#166;-----------------------------------------+------------------------------------------&#166;\r\n    &#166; Implemented frequently in the API by:   &#166; Meant to be implemented to sort          &#166;\r\n    &#166; String, Wrapper classes, Date, Calendar &#166; instances of third-party classes.        &#166;\r\n    +------------------------------------------------------------------------------------+","title":"When to use Comparable and Comparator","body":"<p><em><strong>If sorting of objects needs to be based on natural order then use Comparable whereas if your sorting needs to be done on attributes of different objects, then use Comparator in Java.</strong></em></p>\n<p><strong>Main differences between Comparable and Comparator:</strong></p>\n<pre><code>+------------------------------------------------------------------------------------+\n¦               Comparable                ¦                Comparator                ¦\n¦-----------------------------------------+------------------------------------------¦\n¦ java.lang.Comparable                    ¦ java.util.Comparator                     ¦\n¦-----------------------------------------+------------------------------------------¦\n¦ int objOne.compareTo(objTwo)            ¦ int compare(objOne, objTwo)              ¦\n¦-----------------------------------------+------------------------------------------¦\n¦ Negative, if objOne &lt; objTwo            ¦ Same as Comparable                       ¦\n¦ Zero,  if objOne == objTwo              ¦                                          ¦\n¦ Positive,  if objOne &gt; objTwo           ¦                                          ¦\n¦-----------------------------------------+------------------------------------------¦\n¦ You must modify the class whose         ¦ You build a class separate from to sort. ¦\n¦ instances you want to sort.             ¦ the class whose instances you want       ¦\n¦-----------------------------------------+------------------------------------------¦\n¦ Only one sort sequence can be created   ¦ Many sort sequences can be created       ¦\n¦-----------------------------------------+------------------------------------------¦\n¦ Implemented frequently in the API by:   ¦ Meant to be implemented to sort          ¦\n¦ String, Wrapper classes, Date, Calendar ¦ instances of third-party classes.        ¦\n+------------------------------------------------------------------------------------+\n</code></pre>\n"},{"tags":[],"owner":{"account_id":463980,"reputation":6162,"user_id":867206,"accept_rate":14,"display_name":"Ajay Takur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536855504,"creation_date":1536855504,"answer_id":52317868,"question_id":2266827,"body_markdown":"Comparable is the default natural sorting order provided for numerical values are ascending and for strings are alphabetical order.\r\nfor eg:\r\n\r\n    Treeset t=new Treeset();\r\n    t.add(2);\r\n    t.add(1);\r\n    System.out.println(t);//[1,2]\r\n\r\nComparator is the custom sorting order  implemented in custom myComparator class by overriding a compare method\r\nfor eg:\r\n\r\n    Treeset t=new Treeset(new myComparator());\r\n    t.add(55);\r\n    t.add(56);\r\n    class myComparator implements Comparator{\r\n    public int compare(Object o1,Object o2){\r\n    //Descending Logic\r\n    }\r\n    }\r\n    System.out.println(t);//[56,55]","title":"When to use Comparable and Comparator","body":"<p>Comparable is the default natural sorting order provided for numerical values are ascending and for strings are alphabetical order.\nfor eg:</p>\n\n<pre><code>Treeset t=new Treeset();\nt.add(2);\nt.add(1);\nSystem.out.println(t);//[1,2]\n</code></pre>\n\n<p>Comparator is the custom sorting order  implemented in custom myComparator class by overriding a compare method\nfor eg:</p>\n\n<pre><code>Treeset t=new Treeset(new myComparator());\nt.add(55);\nt.add(56);\nclass myComparator implements Comparator{\npublic int compare(Object o1,Object o2){\n//Descending Logic\n}\n}\nSystem.out.println(t);//[56,55]\n</code></pre>\n"}],"owner":{"account_id":91142,"reputation":2229,"user_id":250444,"accept_rate":57,"display_name":"pkrish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130527,"favorite_count":0,"down_vote_count":1,"up_vote_count":124,"accepted_answer_id":2266868,"answer_count":19,"score":123,"last_activity_date":1661427345,"creation_date":1266246773,"question_id":2266827,"body_markdown":"I have a list of objects I need to sort on a field, say Score. Without giving much thought I wrote a new class that implements Comparator&lt;Object&gt;, that does the task and it works. \r\n\r\nNow looking back at this, I am wondering if I should have instead have the my class implement Comparable instead of creating a new class that implements Comparator. The score is the only field that the objects will be ordered on. \r\n\r\n1. What I have done acceptable as a practice? \r\n\r\n2. Is the right approach &quot;First have the class implement Comparable (for the natural ordering) and if an alternative field comparison is required, then create a new class that implements Comparator&quot; ?\r\n\r\n3. If (2) above is true, then does it mean that one should implement Comparator only after they have the class implement Comparable? (Assuming I own the original class).\r\n","title":"When to use Comparable and Comparator","body":"<p>I have a list of objects I need to sort on a field, say Score. Without giving much thought I wrote a new class that implements Comparator, that does the task and it works. </p>\n\n<p>Now looking back at this, I am wondering if I should have instead have the my class implement Comparable instead of creating a new class that implements Comparator. The score is the only field that the objects will be ordered on. </p>\n\n<ol>\n<li><p>What I have done acceptable as a practice? </p></li>\n<li><p>Is the right approach \"First have the class implement Comparable (for the natural ordering) and if an alternative field comparison is required, then create a new class that implements Comparator\" ?</p></li>\n<li><p>If (2) above is true, then does it mean that one should implement Comparator only after they have the class implement Comparable? (Assuming I own the original class).</p></li>\n</ol>\n"},{"tags":["java","mongodb","spring-boot","docker","docker-compose"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1661431908,"post_id":73486753,"comment_id":129774552,"body_markdown":"`localhost` or `127.0.0.1` in Docker almost always refers to the current container, not a different container.  You need to use the database container&#39;s Compose service name `db` in your setup here (maybe set a `SPRING_DATA_MONGODB_URI` environment variable).","body":"<code>localhost</code> or <code>127.0.0.1</code> in Docker almost always refers to the current container, not a different container.  You need to use the database container&#39;s Compose service name <code>db</code> in your setup here (maybe set a <code>SPRING_DATA_MONGODB_URI</code> environment variable)."},{"owner":{"account_id":25050964,"reputation":99,"user_id":18906891,"display_name":"Sonn"},"score":0,"creation_date":1661435587,"post_id":73486753,"comment_id":129776057,"body_markdown":"Hi @DavidMaze thanks for the comment, when yo say I have to set this variable in docker-compose file :(SPRING_DATA_MONGODB_URI), which value should i give?","body":"Hi @DavidMaze thanks for the comment, when yo say I have to set this variable in docker-compose file :(SPRING_DATA_MONGODB_URI), which value should i give?"},{"owner":{"account_id":22436368,"reputation":276,"user_id":16641566,"display_name":"Robs"},"score":1,"creation_date":1661526858,"post_id":73486753,"comment_id":129800647,"body_markdown":"Try to set the SPRING_DATA_MONGODB_URI to mongodb://host.docker.internal:27017 and set the same host to application.properties/yml","body":"Try to set the SPRING_DATA_MONGODB_URI to mongodb://host.docker.internal:27017 and set the same host to application.properties/yml"}],"owner":{"account_id":25050964,"reputation":99,"user_id":18906891,"display_name":"Sonn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1661431810,"answer_count":0,"score":1,"last_activity_date":1661427244,"creation_date":1661427244,"question_id":73486753,"body_markdown":"I&#39;m dockerizing my applications, I got a problem with the spring side while trying to connect to the database, (on local everything was working), even when I running my docker-compose the database is working, even if i run my local with the docker-compose running is working.\r\nThe error I got on docker is this:\r\n\r\n        org.springframework.dao.DataAccessResourceFailureException: Timed out after 30000 ms while waiting to connect. Client view of cluster state is {type=UNKNOWN, servers=[{address=127.0.0.1:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.ConnectException: Connection refused}}]; nested exception is com.mongodb.MongoTimeoutException: Timed out after 30000 ms while waiting to connect. Client view of cluster state is {type=UNKNOWN, servers=[{address=127.0.0.1:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.ConnectException: Connection refused}}]\r\n            at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:95) ~[spring-data-mongodb-3.4.0.jar!/:3.4.0]\r\n            at org.springframework.data.mongodb.core.MongoTemplate.potentiallyConvertRuntimeException(MongoTemplate.java:3044) ~[spring-data-mongodb-3.4.0.jar!/:3.4.0]\r\n            at org.springframework.data.mongodb.core.MongoTemplate.executeFindMultiInternal(MongoTemplate.java:2980) ~[spring-data-mongodb-3.4.0.jar!/:3.4.0]\r\n            at org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:2667) ~[spring-data-mongodb-3.4.0.jar!/:3.4.0]\r\n            at org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:2649) ~[spring-data-mongodb-3.4.0.jar!/:3.4.0]\r\n            at org.springframework.data.mongodb.core.MongoTemplate.find(MongoTemplate.java:902) ~[spring-data-mongodb-3.4.0.jar!/:3.4.0]\r\n            at org.springframework.data.mongodb.repository.support.SimpleMongoRepository.findAll(SimpleMongoRepository.java:444) ~[spring-data-mongodb-3.4.0.jar!/:3.4.0]\r\n            at org.springframework.data.mongodb.repository.support.SimpleMongoRepository.findAll(SimpleMongoRepository.java:154) ~[spring-data-mongodb-3.4.0.jar!/:3.4.0]\r\n            at org.springframework.data.mongodb.repository.support.SimpleMongoRepository.findAll(SimpleMongoRepository.java:61) ~[spring-data-mongodb-3.4.0.jar!/:3.4.0]\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n            at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.0.jar!/:2.7.0]\r\n            at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.0.jar!/:2.7.0]\r\n            at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.0.jar!/:2.7.0]\r\n            at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.7.0.jar!/:2.7.0]\r\n            at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.7.0.jar!/:2.7.0]\r\n            at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:639) ~[spring-data-commons-2.7.0.jar!/:2.7.0]\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar!/:5.3.20]\r\n            at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.7.0.jar!/:2.7.0]\r\n            at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.7.0.jar!/:2.7.0]\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar!/:5.3.20]\r\n            at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.7.0.jar!/:2.7.0]\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar!/:5.3.20]\r\n            at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.20.jar!/:5.3.20]\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar!/:5.3.20]\r\n            at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.20.jar!/:5.3.20]\r\n            at jdk.proxy2/jdk.proxy2.$Proxy84.findAll(Unknown Source) ~[na:na]\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n            at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.20.jar!/:5.3.20]\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.20.jar!/:5.3.20]\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar!/:5.3.20]\r\n            at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.20.jar!/:5.3.20]\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar!/:5.3.20]\r\n            at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.20.jar!/:5.3.20]\r\n            at jdk.proxy2/jdk.proxy2.$Proxy84.findAll(Unknown Source) ~[na:na]\r\n            at com.example.Person.view.PersonProcessor.process(PersonProcessor.java:23) ~[classes!/:0.0.1-SNAPSHOT]\r\n            at com.example.Person.view.FileCSV.getFromCSV(FileCSV.java:24) ~[classes!/:0.0.1-SNAPSHOT]\r\n            at com.example.Person.PersonApplication.onStart(PersonApplication.java:28) ~[classes!/:0.0.1-SNAPSHOT]\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n            at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:344) ~[spring-context-5.3.20.jar!/:5.3.20]\r\n            at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:229) ~[spring-context-5.3.20.jar!/:5.3.20]\r\n            at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:166) ~[spring-context-5.3.20.jar!/:5.3.20]\r\n            at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.20.jar!/:5.3.20]\r\n            at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.20.jar!/:5.3.20]\r\n            at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.20.jar!/:5.3.20]\r\n            at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421) ~[spring-context-5.3.20.jar!/:5.3.20]\r\n            at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378) ~[spring-context-5.3.20.jar!/:5.3.20]\r\n            at org.springframework.boot.context.event.EventPublishingRunListener.ready(EventPublishingRunListener.java:114) ~[spring-boot-2.7.0.jar!/:2.7.0]\r\n            at org.springframework.boot.SpringApplicationRunListeners.lambda$ready$6(SpringApplicationRunListeners.java:82) ~[spring-boot-2.7.0.jar!/:2.7.0]\r\n            at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\r\n            at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:120) ~[spring-boot-2.7.0.jar!/:2.7.0]\r\n            at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:114) ~[spring-boot-2.7.0.jar!/:2.7.0]\r\n            at org.springframework.boot.SpringApplicationRunListeners.ready(SpringApplicationRunListeners.java:82) ~[spring-boot-2.7.0.jar!/:2.7.0]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:323) ~[spring-boot-2.7.0.jar!/:2.7.0]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.0.jar!/:2.7.0]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.0.jar!/:2.7.0]\r\n            at com.example.Person.PersonApplication.main(PersonApplication.java:22) ~[classes!/:0.0.1-SNAPSHOT]\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n            at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[springboot-docker-togepi.jar:0.0.1-SNAPSHOT]\r\n            at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[springboot-docker-togepi.jar:0.0.1-SNAPSHOT]\r\n            at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[springboot-docker-togepi.jar:0.0.1-SNAPSHOT]\r\n            at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[springboot-docker-togepi.jar:0.0.1-SNAPSHOT]\r\n    Caused by: com.mongodb.MongoTimeoutException: Timed out after 30000 ms while waiting to connect. Client view of cluster state is {type=UNKNOWN, servers=[{address=127.0.0.1:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.ConnectException: Connection refused}}]\r\n            at com.mongodb.internal.connection.BaseCluster.getDescription(BaseCluster.java:180) ~[mongodb-driver-core-4.6.0.jar!/:na]\r\n            at com.mongodb.internal.connection.SingleServerCluster.getDescription(SingleServerCluster.java:44) ~[mongodb-driver-core-4.6.0.jar!/:na]\r\n            at com.mongodb.client.internal.MongoClientDelegate.getConnectedClusterDescription(MongoClientDelegate.java:144) ~[mongodb-driver-sync-4.6.0.jar!/:na]\r\n            at com.mongodb.client.internal.MongoClientDelegate.createClientSession(MongoClientDelegate.java:101) ~[mongodb-driver-sync-4.6.0.jar!/:na]\r\n            at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.getClientSession(MongoClientDelegate.java:291) ~[mongodb-driver-sync-4.6.0.jar!/:na]\r\n            at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:183) ~[mongodb-driver-sync-4.6.0.jar!/:na]\r\n            at com.mongodb.client.internal.MongoIterableImpl.execute(MongoIterableImpl.java:135) ~[mongodb-driver-sync-4.6.0.jar!/:na]\r\n            at com.mongodb.client.internal.MongoIterableImpl.iterator(MongoIterableImpl.java:92) ~[mongodb-driver-sync-4.6.0.jar!/:na]\r\n            at org.springframework.data.mongodb.core.MongoTemplate.executeFindMultiInternal(MongoTemplate.java:2968) ~[spring-data-mongodb-3.4.0.jar!/:3.4.0]\r\n\r\nIn my application.yml:\r\n\r\n        spring:\r\n      autoconfigure:\r\n        exclude=org:\r\n          springframework:\r\n            boot:\r\n              autoconfigure:\r\n                security: SecurityAutoConfiguration\r\n      #colori per console\r\n      output:\r\n        ansi:\r\n          enabled: ALWAYS\r\n      data:\r\n        mongodb:\r\n          uri: mongodb://User:Password@127.0.0.1:27017/DB_NAME?authSource=admin\r\n      jpa:\r\n        show-sql: true\r\n    server:\r\n      error:\r\n        include-message: always\r\n    jwt:\r\n      secret: secret\r\n    file:\r\n      input: name.csv\r\n      assets: src\\main\\resources\\person-fe\\src\\assets\\\r\n    \r\n    \r\n    logging:\r\n      level:\r\n        org:\r\n          springframework:\r\n            data:\r\n              mongodb:\r\n                core:\r\n                  MongoTemplate: DEBUG\r\n\r\n\r\n\r\nIn my docker-compose:\r\n\r\n        version: &quot;3.8&quot;  #versione di docker-compose\r\n    #creo services che dicono a docker come buildare e runnare\r\n    services:\r\n      db:\r\n        image: mongo:latest\r\n        ports:\r\n          - 27017:27017\r\n        #direcory del database\r\n        environment:\r\n          MONGO_INITDB_ROOT_USERNAME: User\r\n          MONGO_INITDB_ROOT_PASSWORD: Password\r\n        volumes:\r\n          - ./mongo-init.js:/docker-entrypoint-initdb.d/mongo-init.js:ro\r\n      #web ed api sono nome scelti a caso, l&#39;importante e&#39; il percorso\r\n      web:\r\n        build: ./PersonBE/src/main/resources/person-fe\r\n        ports:\r\n          - 8082:8082\r\n      api:\r\n        #usare queste due righe solo per prendere il docker file presente nel progetto (questa riga contiene il path)\r\n        build: ./PersonBE\r\n        #porta dove run il nostro DockerFile\r\n        ports:\r\n          - 8081:8081\r\n        #connessione mongodb://nome dell&#39;host (quello alla riga di sotto dove prendiamo l&#39;immagine)/nome del database\r\n        # environment:\r\n        #   DB_URL: mongodb://db/Person\r\n    \r\n    volumes:\r\n      Person:\r\n\r\nMy Dockerfile:\r\n\r\n        FROM openjdk:17\r\n    ENV APP_HOME=/usr/app/\r\n    WORKDIR $APP_HOME\r\n    ADD target/Person-0.0.1-SNAPSHOT.jar springboot-docker-people.jar\r\n    EXPOSE 8082\r\n    CMD [&quot;java&quot;, &quot;-jar&quot;, &quot;springboot-docker-people.jar&quot;]\r\n\r\n\r\nPlease, somebody can help me, because I&#39;m stuck here and I don&#39;t know what to do.\r\n\r\nthanks to all","title":"Error while connecting spring to MongoDb (Docker)","body":"<p>I'm dockerizing my applications, I got a problem with the spring side while trying to connect to the database, (on local everything was working), even when I running my docker-compose the database is working, even if i run my local with the docker-compose running is working.\nThe error I got on docker is this:</p>\n<pre><code>    org.springframework.dao.DataAccessResourceFailureException: Timed out after 30000 ms while waiting to connect. Client view of cluster state is {type=UNKNOWN, servers=[{address=127.0.0.1:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.ConnectException: Connection refused}}]; nested exception is com.mongodb.MongoTimeoutException: Timed out after 30000 ms while waiting to connect. Client view of cluster state is {type=UNKNOWN, servers=[{address=127.0.0.1:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.ConnectException: Connection refused}}]\n        at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:95) ~[spring-data-mongodb-3.4.0.jar!/:3.4.0]\n        at org.springframework.data.mongodb.core.MongoTemplate.potentiallyConvertRuntimeException(MongoTemplate.java:3044) ~[spring-data-mongodb-3.4.0.jar!/:3.4.0]\n        at org.springframework.data.mongodb.core.MongoTemplate.executeFindMultiInternal(MongoTemplate.java:2980) ~[spring-data-mongodb-3.4.0.jar!/:3.4.0]\n        at org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:2667) ~[spring-data-mongodb-3.4.0.jar!/:3.4.0]\n        at org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:2649) ~[spring-data-mongodb-3.4.0.jar!/:3.4.0]\n        at org.springframework.data.mongodb.core.MongoTemplate.find(MongoTemplate.java:902) ~[spring-data-mongodb-3.4.0.jar!/:3.4.0]\n        at org.springframework.data.mongodb.repository.support.SimpleMongoRepository.findAll(SimpleMongoRepository.java:444) ~[spring-data-mongodb-3.4.0.jar!/:3.4.0]\n        at org.springframework.data.mongodb.repository.support.SimpleMongoRepository.findAll(SimpleMongoRepository.java:154) ~[spring-data-mongodb-3.4.0.jar!/:3.4.0]\n        at org.springframework.data.mongodb.repository.support.SimpleMongoRepository.findAll(SimpleMongoRepository.java:61) ~[spring-data-mongodb-3.4.0.jar!/:3.4.0]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.0.jar!/:2.7.0]\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.0.jar!/:2.7.0]\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.0.jar!/:2.7.0]\n        at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.7.0.jar!/:2.7.0]\n        at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.7.0.jar!/:2.7.0]\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:639) ~[spring-data-commons-2.7.0.jar!/:2.7.0]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar!/:5.3.20]\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.7.0.jar!/:2.7.0]\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.7.0.jar!/:2.7.0]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar!/:5.3.20]\n        at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.7.0.jar!/:2.7.0]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar!/:5.3.20]\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.20.jar!/:5.3.20]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar!/:5.3.20]\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.20.jar!/:5.3.20]\n        at jdk.proxy2/jdk.proxy2.$Proxy84.findAll(Unknown Source) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n        at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.20.jar!/:5.3.20]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.20.jar!/:5.3.20]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar!/:5.3.20]\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.20.jar!/:5.3.20]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar!/:5.3.20]\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.20.jar!/:5.3.20]\n        at jdk.proxy2/jdk.proxy2.$Proxy84.findAll(Unknown Source) ~[na:na]\n        at com.example.Person.view.PersonProcessor.process(PersonProcessor.java:23) ~[classes!/:0.0.1-SNAPSHOT]\n        at com.example.Person.view.FileCSV.getFromCSV(FileCSV.java:24) ~[classes!/:0.0.1-SNAPSHOT]\n        at com.example.Person.PersonApplication.onStart(PersonApplication.java:28) ~[classes!/:0.0.1-SNAPSHOT]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n        at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:344) ~[spring-context-5.3.20.jar!/:5.3.20]\n        at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:229) ~[spring-context-5.3.20.jar!/:5.3.20]\n        at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:166) ~[spring-context-5.3.20.jar!/:5.3.20]\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.20.jar!/:5.3.20]\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.20.jar!/:5.3.20]\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.20.jar!/:5.3.20]\n        at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421) ~[spring-context-5.3.20.jar!/:5.3.20]\n        at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378) ~[spring-context-5.3.20.jar!/:5.3.20]\n        at org.springframework.boot.context.event.EventPublishingRunListener.ready(EventPublishingRunListener.java:114) ~[spring-boot-2.7.0.jar!/:2.7.0]\n        at org.springframework.boot.SpringApplicationRunListeners.lambda$ready$6(SpringApplicationRunListeners.java:82) ~[spring-boot-2.7.0.jar!/:2.7.0]\n        at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\n        at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:120) ~[spring-boot-2.7.0.jar!/:2.7.0]\n        at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:114) ~[spring-boot-2.7.0.jar!/:2.7.0]\n        at org.springframework.boot.SpringApplicationRunListeners.ready(SpringApplicationRunListeners.java:82) ~[spring-boot-2.7.0.jar!/:2.7.0]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:323) ~[spring-boot-2.7.0.jar!/:2.7.0]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.0.jar!/:2.7.0]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.0.jar!/:2.7.0]\n        at com.example.Person.PersonApplication.main(PersonApplication.java:22) ~[classes!/:0.0.1-SNAPSHOT]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[springboot-docker-togepi.jar:0.0.1-SNAPSHOT]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[springboot-docker-togepi.jar:0.0.1-SNAPSHOT]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[springboot-docker-togepi.jar:0.0.1-SNAPSHOT]\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[springboot-docker-togepi.jar:0.0.1-SNAPSHOT]\nCaused by: com.mongodb.MongoTimeoutException: Timed out after 30000 ms while waiting to connect. Client view of cluster state is {type=UNKNOWN, servers=[{address=127.0.0.1:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.ConnectException: Connection refused}}]\n        at com.mongodb.internal.connection.BaseCluster.getDescription(BaseCluster.java:180) ~[mongodb-driver-core-4.6.0.jar!/:na]\n        at com.mongodb.internal.connection.SingleServerCluster.getDescription(SingleServerCluster.java:44) ~[mongodb-driver-core-4.6.0.jar!/:na]\n        at com.mongodb.client.internal.MongoClientDelegate.getConnectedClusterDescription(MongoClientDelegate.java:144) ~[mongodb-driver-sync-4.6.0.jar!/:na]\n        at com.mongodb.client.internal.MongoClientDelegate.createClientSession(MongoClientDelegate.java:101) ~[mongodb-driver-sync-4.6.0.jar!/:na]\n        at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.getClientSession(MongoClientDelegate.java:291) ~[mongodb-driver-sync-4.6.0.jar!/:na]\n        at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:183) ~[mongodb-driver-sync-4.6.0.jar!/:na]\n        at com.mongodb.client.internal.MongoIterableImpl.execute(MongoIterableImpl.java:135) ~[mongodb-driver-sync-4.6.0.jar!/:na]\n        at com.mongodb.client.internal.MongoIterableImpl.iterator(MongoIterableImpl.java:92) ~[mongodb-driver-sync-4.6.0.jar!/:na]\n        at org.springframework.data.mongodb.core.MongoTemplate.executeFindMultiInternal(MongoTemplate.java:2968) ~[spring-data-mongodb-3.4.0.jar!/:3.4.0]\n</code></pre>\n<p>In my application.yml:</p>\n<pre><code>    spring:\n  autoconfigure:\n    exclude=org:\n      springframework:\n        boot:\n          autoconfigure:\n            security: SecurityAutoConfiguration\n  #colori per console\n  output:\n    ansi:\n      enabled: ALWAYS\n  data:\n    mongodb:\n      uri: mongodb://User:Password@127.0.0.1:27017/DB_NAME?authSource=admin\n  jpa:\n    show-sql: true\nserver:\n  error:\n    include-message: always\njwt:\n  secret: secret\nfile:\n  input: name.csv\n  assets: src\\main\\resources\\person-fe\\src\\assets\\\n\n\nlogging:\n  level:\n    org:\n      springframework:\n        data:\n          mongodb:\n            core:\n              MongoTemplate: DEBUG\n</code></pre>\n<p>In my docker-compose:</p>\n<pre><code>    version: &quot;3.8&quot;  #versione di docker-compose\n#creo services che dicono a docker come buildare e runnare\nservices:\n  db:\n    image: mongo:latest\n    ports:\n      - 27017:27017\n    #direcory del database\n    environment:\n      MONGO_INITDB_ROOT_USERNAME: User\n      MONGO_INITDB_ROOT_PASSWORD: Password\n    volumes:\n      - ./mongo-init.js:/docker-entrypoint-initdb.d/mongo-init.js:ro\n  #web ed api sono nome scelti a caso, l'importante e' il percorso\n  web:\n    build: ./PersonBE/src/main/resources/person-fe\n    ports:\n      - 8082:8082\n  api:\n    #usare queste due righe solo per prendere il docker file presente nel progetto (questa riga contiene il path)\n    build: ./PersonBE\n    #porta dove run il nostro DockerFile\n    ports:\n      - 8081:8081\n    #connessione mongodb://nome dell'host (quello alla riga di sotto dove prendiamo l'immagine)/nome del database\n    # environment:\n    #   DB_URL: mongodb://db/Person\n\nvolumes:\n  Person:\n</code></pre>\n<p>My Dockerfile:</p>\n<pre><code>    FROM openjdk:17\nENV APP_HOME=/usr/app/\nWORKDIR $APP_HOME\nADD target/Person-0.0.1-SNAPSHOT.jar springboot-docker-people.jar\nEXPOSE 8082\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;springboot-docker-people.jar&quot;]\n</code></pre>\n<p>Please, somebody can help me, because I'm stuck here and I don't know what to do.</p>\n<p>thanks to all</p>\n"},{"tags":["java","spring","spring-boot","properties-file"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1661425388,"post_id":73484923,"comment_id":129772063,"body_markdown":"You&#39;ll probably have to [find](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/Files.html#find(java.nio.file.Path,int,java.util.function.BiPredicate,java.nio.file.FileVisitOption...))\n them","body":"You&#39;ll probably have to <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/Files.html#find(java.nio.file.Path,int,java.util.function.BiPredicate,java.nio.file.FileVisitOption...)\" rel=\"nofollow noreferrer\">find</a>  them"},{"owner":{"account_id":1362416,"reputation":4479,"user_id":1299533,"display_name":"Scott Frederick"},"score":0,"creation_date":1661799318,"post_id":73484923,"comment_id":129852956,"body_markdown":"Since the properties are stored in Kubernetes ConfigMaps, another option would be to use configuration trees instead of properties files: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.external-config.files.configtree. The `configtree:` feature was designed for just such a use case.","body":"Since the properties are stored in Kubernetes ConfigMaps, another option would be to use configuration trees instead of properties files: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.external-config.files.configtree\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/htmlsingle&zwnj;&#8203;/&hellip;</a>. The <code>configtree:</code> feature was designed for just such a use case."},{"owner":{"account_id":5184544,"reputation":35,"user_id":4149285,"display_name":"user4149285"},"score":0,"creation_date":1662469796,"post_id":73484923,"comment_id":130008631,"body_markdown":"@ScottFrederick could you add that as an actual answer, as it solves the issue in the most clean way I think.","body":"@ScottFrederick could you add that as an actual answer, as it solves the issue in the most clean way I think."}],"answers":[{"tags":[],"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661426863,"creation_date":1661426863,"answer_id":73486661,"question_id":73484923,"body_markdown":"Reference: [features.external-config.files.wildcard-locations](https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.files.wildcard-locations)\r\n\r\nIn your case if you use `--spring.config.additional-location=file:data/config/*/` then the files like `data/config/first/application.properties` and `data/config/second/application.properties` will be loaded.\r\n\r\n*Note*: If you have a different config.name, like `--spring.config.name=myapp`\r\nthen all the directories should contain `myapp.properties`","title":"Load all property files with unknown names from a directory in Spring Boot","body":"<p>Reference: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.files.wildcard-locations\" rel=\"nofollow noreferrer\">features.external-config.files.wildcard-locations</a></p>\n<p>In your case if you use <code>--spring.config.additional-location=file:data/config/*/</code> then the files like <code>data/config/first/application.properties</code> and <code>data/config/second/application.properties</code> will be loaded.</p>\n<p><em>Note</em>: If you have a different config.name, like <code>--spring.config.name=myapp</code>\nthen all the directories should contain <code>myapp.properties</code></p>\n"}],"owner":{"account_id":5184544,"reputation":35,"user_id":4149285,"display_name":"user4149285"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":550,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661426863,"creation_date":1661418855,"question_id":73484923,"body_markdown":"I have a Spring Boot (2.6.5) application that has a build in default property file (contained in the jar).&lt;br&gt;I also specify an external property file by using `--spring.config.additional-location=/data/config/myapp.properties`.\r\n\r\nThis works as expected, both files are loaded and properties of both files are used where the external pairs override the internal in the case of duplicate keys.\r\n\r\nNow I want to split up the `myapp.properties` into multiple smaller property files. The reason for this is that they are created by a Kubernetes configMap, and some parts are used in multiple applications, so it makes sense to split those in smaller files instead of duplicating everything.\r\n\r\nI tried to set the parameter to a directory, like `--spring.config.additional-location=/data/config/` and then placing the various `.properties` files in this directory. However, when I do this, Spring will no longer load the files. So it seems that when I don&#39;t specify a specific filename, it only scans for `application.properties`.\r\n\r\nHow can I configure Spring to look for and load **all** files of type `.properties` in the given directory? I could specify each file individually,  but that would require me to always keep track of the files that are present which is difficult to maintain.","title":"Load all property files with unknown names from a directory in Spring Boot","body":"<p>I have a Spring Boot (2.6.5) application that has a build in default property file (contained in the jar).<br>I also specify an external property file by using <code>--spring.config.additional-location=/data/config/myapp.properties</code>.</p>\n<p>This works as expected, both files are loaded and properties of both files are used where the external pairs override the internal in the case of duplicate keys.</p>\n<p>Now I want to split up the <code>myapp.properties</code> into multiple smaller property files. The reason for this is that they are created by a Kubernetes configMap, and some parts are used in multiple applications, so it makes sense to split those in smaller files instead of duplicating everything.</p>\n<p>I tried to set the parameter to a directory, like <code>--spring.config.additional-location=/data/config/</code> and then placing the various <code>.properties</code> files in this directory. However, when I do this, Spring will no longer load the files. So it seems that when I don't specify a specific filename, it only scans for <code>application.properties</code>.</p>\n<p>How can I configure Spring to look for and load <strong>all</strong> files of type <code>.properties</code> in the given directory? I could specify each file individually,  but that would require me to always keep track of the files that are present which is difficult to maintain.</p>\n"},{"tags":["java","sockets","javafx","client-server"],"answers":[{"tags":[],"owner":{"account_id":20173270,"reputation":850,"user_id":14795595,"display_name":"0xRyN"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1661426535,"creation_date":1661422844,"answer_id":73485838,"question_id":73485756,"body_markdown":"When the server is done, just close the connection (`socket.close` server side).\r\n\r\nWhen the client reads data (ie read function), it will return `-1` or `null`.\r\n\r\nCheck this answer for more info : https://stackoverflow.com/questions/10240694/java-socket-api-how-to-tell-if-a-connection-has-been-closed\r\n\r\nEDIT: Here is a simple way of reading and printing data.\r\n\r\n`read()` returns `-1` if the peer (server) closed it&#39;s socket.\r\n\r\n```java\r\nbyte[] buffer = new byte[1024];\r\nint read = socket.getInputStream().read(buffer);\r\nif(read == -1) { // Server has closed it&#39;s socket\r\n    throw new Exception(); // Throw the exception you want\r\n}\r\nSystem.out.println(new String(buffer)); // If it reads correctly, print data\r\n","title":"Throw an exception to a client when server is closed","body":"<p>When the server is done, just close the connection (<code>socket.close</code> server side).</p>\n<p>When the client reads data (ie read function), it will return <code>-1</code> or <code>null</code>.</p>\n<p>Check this answer for more info : <a href=\"https://stackoverflow.com/questions/10240694/java-socket-api-how-to-tell-if-a-connection-has-been-closed\">Java socket API: How to tell if a connection has been closed?</a></p>\n<p>EDIT: Here is a simple way of reading and printing data.</p>\n<p><code>read()</code> returns <code>-1</code> if the peer (server) closed it's socket.</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte[] buffer = new byte[1024];\nint read = socket.getInputStream().read(buffer);\nif(read == -1) { // Server has closed it's socket\n    throw new Exception(); // Throw the exception you want\n}\nSystem.out.println(new String(buffer)); // If it reads correctly, print data\n</code></pre>\n"}],"owner":{"account_id":24759476,"reputation":11,"user_id":18644049,"display_name":"Celo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1661426535,"creation_date":1661422429,"question_id":73485756,"body_markdown":"I&#39;m developing a Javafx application and I need that clients run only when so server does first. I&#39;m a newbie to socket and concurrent programming and I tried to send from server a string called &quot;Done&quot; when is closed. However, I don&#39;t know how to catch the string properly in order to throw the right exception for the closure of the server when the clients are running, because otherwise the clients in execution run even without the server after is stopped and I want to prevent it. Thanks for your help!\r\n\r\nThat&#39;s my client (InitApplication.java)\r\n\r\n\r\n\r\n```\r\npackage com.sailingclub.ui.sailingclub;\r\n\r\nimport body.entities.Admin;\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.geometry.Insets;\r\nimport javafx.geometry.Pos;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.ScrollPane;\r\nimport javafx.scene.control.TextArea;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.layout.BorderPane;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.DataInputStream;\r\nimport java.io.DataOutputStream;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.net.ConnectException;\r\nimport java.net.Socket;\r\n\r\nimport static java.lang.System.exit;\r\n\r\n\r\n/**\r\n * Entry point\r\n */\r\npublic class InitApplication extends Application {\r\n\r\n\r\n    DataOutputStream toServer = null;\r\n    DataInputStream fromServer = null;\r\n\r\n    Parent root = null;\r\n    FXMLLoader loader;\r\n\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) throws IOException, InterruptedException {\r\n\r\n\r\n        try {\r\n\r\n            // Create a socket to connect to the server\r\n            Socket socket = new Socket(&quot;localhost&quot;, 8000);\r\n\r\n            fromServer = new DataInputStream(socket.getInputStream());\r\n            // Create an output stream to send data to the server\r\n            toServer = new DataOutputStream(socket.getOutputStream());\r\n\r\n            primaryStage.setOnCloseRequest(event -&gt; {\r\n                try {\r\n                    socket.close();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                // Save file\r\n            });\r\n\r\n            loader = new FXMLLoader(new File(&quot;src/main/java/com/sailingclub/ui/sailingclub/first/FirstPage.fxml&quot;).toURI().toURL());\r\n            root=loader.load();\r\n\r\n            Scene scene = new Scene(root);\r\n            primaryStage.setScene(scene);\r\n            primaryStage.show();\r\n\r\n        } catch (Exception e) {\r\n            if (e instanceof ConnectException) {\r\n                loader = new FXMLLoader(new File(&quot;src/main/java/com/sailingclub/ui/sailingclub/error.fxml&quot;).toURI().toURL());\r\n                root = loader.load();\r\n                Scene scene = new Scene(root);\r\n                primaryStage.setScene(scene);\r\n                primaryStage.show();\r\n\r\n            }\r\n            else {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n\r\n        var beginning=new Admin();\r\n\r\n        beginning.notifyGenerator(&quot;Membership&quot;);\r\n        beginning.notifyGenerator(&quot;Storage&quot;);\r\n\r\n        launch();\r\n    }\r\n}\r\n```\r\n\r\nand that&#39;s my server (Server.java)\r\n```\r\npackage body.core.ClientServer;\r\n\r\nimport com.sailingclub.ui.sailingclub.InitApplication;\r\nimport javafx.application.Application;\r\nimport javafx.application.Platform;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.ScrollPane;\r\nimport javafx.scene.control.TextArea;\r\nimport javafx.stage.Stage;\r\nimport java.io.*;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\nimport java.util.Date;\r\n\r\n\r\n/**\r\n * Server side for Client-Server connection\r\n */\r\npublic class Server extends Application {\r\n\r\n    @Override\r\n    public void start(Stage stage) throws Exception {\r\n\r\n        TextArea ta = new TextArea();\r\n        // Create a scene and place it in the stage\r\n        Scene scene = new Scene(new ScrollPane(ta), 450, 200);\r\n        stage.setTitle(&quot;Server&quot;); // Set the stage title\r\n        stage.setScene(scene); // Place the scene in the stage\r\n        stage.show(); // Display the stage\r\n\r\n\r\n\r\n\r\n\r\n        new Thread( () -&gt; {\r\n            try {\r\n                // Create a server socket\r\n                ServerSocket serverSocket = new ServerSocket(8000);\r\n                Platform.runLater(() -&gt;\r\n                        ta.appendText(&quot;Server started at &quot; + new Date() + &#39;\\n&#39;));\r\n\r\n                // Listen for a connection request\r\n                Socket socket = serverSocket.accept();\r\n\r\n                // Create data input and output streams\r\n                DataInputStream inputFromClient = new DataInputStream(\r\n                        socket.getInputStream());\r\n                DataOutputStream outputToClient = new DataOutputStream(\r\n                        socket.getOutputStream());\r\n\r\n                // while (true) {\r\n\r\n\r\n                    // Send result back to the client\r\n                    //outputToClient.writeInt(flag);\r\n\r\n                // }\r\n                stage.setOnCloseRequest(event -&gt; {\r\n                    try {\r\n                        outputToClient.writeBytes(&quot;Done&quot;);\r\n                        serverSocket.close();\r\n                        socket.close();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    // Save file\r\n                });\r\n            }\r\n            catch(IOException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        }).start();\r\n\r\n        /* InitApplication client = new InitApplication();\r\n        Stage clientStage = new Stage();\r\n        clientStage.initOwner(stage);\r\n        client.start(clientStage); */\r\n\r\n    }\r\n\r\n    public static void main(String[] args)\r\n    {\r\n\r\n        launch();\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n}\r\n```\r\n\r\n\r\n","title":"Throw an exception to a client when server is closed","body":"<p>I'm developing a Javafx application and I need that clients run only when so server does first. I'm a newbie to socket and concurrent programming and I tried to send from server a string called &quot;Done&quot; when is closed. However, I don't know how to catch the string properly in order to throw the right exception for the closure of the server when the clients are running, because otherwise the clients in execution run even without the server after is stopped and I want to prevent it. Thanks for your help!</p>\n<p>That's my client (InitApplication.java)</p>\n<pre><code>package com.sailingclub.ui.sailingclub;\n\nimport body.entities.Admin;\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.ScrollPane;\nimport javafx.scene.control.TextArea;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.BorderPane;\nimport javafx.stage.Stage;\n\nimport java.io.DataInputStream;\nimport java.io.DataOutputStream;\nimport java.io.File;\nimport java.io.IOException;\nimport java.net.ConnectException;\nimport java.net.Socket;\n\nimport static java.lang.System.exit;\n\n\n/**\n * Entry point\n */\npublic class InitApplication extends Application {\n\n\n    DataOutputStream toServer = null;\n    DataInputStream fromServer = null;\n\n    Parent root = null;\n    FXMLLoader loader;\n\n\n    @Override\n    public void start(Stage primaryStage) throws IOException, InterruptedException {\n\n\n        try {\n\n            // Create a socket to connect to the server\n            Socket socket = new Socket(&quot;localhost&quot;, 8000);\n\n            fromServer = new DataInputStream(socket.getInputStream());\n            // Create an output stream to send data to the server\n            toServer = new DataOutputStream(socket.getOutputStream());\n\n            primaryStage.setOnCloseRequest(event -&gt; {\n                try {\n                    socket.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n                // Save file\n            });\n\n            loader = new FXMLLoader(new File(&quot;src/main/java/com/sailingclub/ui/sailingclub/first/FirstPage.fxml&quot;).toURI().toURL());\n            root=loader.load();\n\n            Scene scene = new Scene(root);\n            primaryStage.setScene(scene);\n            primaryStage.show();\n\n        } catch (Exception e) {\n            if (e instanceof ConnectException) {\n                loader = new FXMLLoader(new File(&quot;src/main/java/com/sailingclub/ui/sailingclub/error.fxml&quot;).toURI().toURL());\n                root = loader.load();\n                Scene scene = new Scene(root);\n                primaryStage.setScene(scene);\n                primaryStage.show();\n\n            }\n            else {\n                e.printStackTrace();\n            }\n        }\n    }\n\n\n    public static void main(String[] args) {\n\n        var beginning=new Admin();\n\n        beginning.notifyGenerator(&quot;Membership&quot;);\n        beginning.notifyGenerator(&quot;Storage&quot;);\n\n        launch();\n    }\n}\n</code></pre>\n<p>and that's my server (Server.java)</p>\n<pre><code>package body.core.ClientServer;\n\nimport com.sailingclub.ui.sailingclub.InitApplication;\nimport javafx.application.Application;\nimport javafx.application.Platform;\nimport javafx.scene.Scene;\nimport javafx.scene.control.ScrollPane;\nimport javafx.scene.control.TextArea;\nimport javafx.stage.Stage;\nimport java.io.*;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.util.Date;\n\n\n/**\n * Server side for Client-Server connection\n */\npublic class Server extends Application {\n\n    @Override\n    public void start(Stage stage) throws Exception {\n\n        TextArea ta = new TextArea();\n        // Create a scene and place it in the stage\n        Scene scene = new Scene(new ScrollPane(ta), 450, 200);\n        stage.setTitle(&quot;Server&quot;); // Set the stage title\n        stage.setScene(scene); // Place the scene in the stage\n        stage.show(); // Display the stage\n\n\n\n\n\n        new Thread( () -&gt; {\n            try {\n                // Create a server socket\n                ServerSocket serverSocket = new ServerSocket(8000);\n                Platform.runLater(() -&gt;\n                        ta.appendText(&quot;Server started at &quot; + new Date() + '\\n'));\n\n                // Listen for a connection request\n                Socket socket = serverSocket.accept();\n\n                // Create data input and output streams\n                DataInputStream inputFromClient = new DataInputStream(\n                        socket.getInputStream());\n                DataOutputStream outputToClient = new DataOutputStream(\n                        socket.getOutputStream());\n\n                // while (true) {\n\n\n                    // Send result back to the client\n                    //outputToClient.writeInt(flag);\n\n                // }\n                stage.setOnCloseRequest(event -&gt; {\n                    try {\n                        outputToClient.writeBytes(&quot;Done&quot;);\n                        serverSocket.close();\n                        socket.close();\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                    // Save file\n                });\n            }\n            catch(IOException ex) {\n                ex.printStackTrace();\n            }\n        }).start();\n\n        /* InitApplication client = new InitApplication();\n        Stage clientStage = new Stage();\n        clientStage.initOwner(stage);\n        client.start(clientStage); */\n\n    }\n\n    public static void main(String[] args)\n    {\n\n        launch();\n    }\n\n\n\n\n\n}\n</code></pre>\n"},{"tags":["java","spring","sendgrid"],"comments":[{"owner":{"account_id":214091,"reputation":5538,"user_id":467851,"accept_rate":100,"display_name":"Andrey Stukalin"},"score":0,"creation_date":1557114334,"post_id":55927911,"comment_id":98643855,"body_markdown":"Does your API key have required permissions to do that? You can check it on the API Keys settings page.","body":"Does your API key have required permissions to do that? You can check it on the API Keys settings page."},{"owner":{"account_id":14926760,"reputation":33,"user_id":10777379,"display_name":"Pranay"},"score":0,"creation_date":1557157620,"post_id":55927911,"comment_id":98662332,"body_markdown":"I contacted the sendgrid support team and It was an API Key issue. Since I was trying out the free account, I did not have access to that particular endpoint. However once I upgraded to a paid account with the email activity add on, It worked. Thanks for the help.","body":"I contacted the sendgrid support team and It was an API Key issue. Since I was trying out the free account, I did not have access to that particular endpoint. However once I upgraded to a paid account with the email activity add on, It worked. Thanks for the help."}],"answers":[{"tags":[],"owner":{"account_id":14926760,"reputation":33,"user_id":10777379,"display_name":"Pranay"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1557327191,"creation_date":1557327191,"answer_id":56043526,"question_id":55927911,"body_markdown":"I contacted the sendgrid support team and It was an API Key issue. Since I was trying out the free account, I did not have access to that particular endpoint. However once I upgraded to a paid account with the email activity add on, It worked.","title":"Authorization Exception While implementing &quot;/messages&quot; endpoint in sendgrid API","body":"<p>I contacted the sendgrid support team and It was an API Key issue. Since I was trying out the free account, I did not have access to that particular endpoint. However once I upgraded to a paid account with the email activity add on, It worked.</p>\n"},{"tags":[],"owner":{"account_id":16248087,"reputation":1,"user_id":11732680,"display_name":"PK_008"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661426348,"creation_date":1661426304,"answer_id":73486543,"question_id":55927911,"body_markdown":"Yes, like Pranay said, You have to purchase Add-On named as &quot;Extended Email Activity History&quot; located at (once you logged in with send grid, look for)  &lt;br /&gt; Settings → Account_Details → Product_Page → Scroll down to add-ons → then select &quot;Extended Email Activity History&quot; and add to your plan. (Current cost of this add-on is $12/month* &amp; I don not understand meaning of * here)\r\n &lt;br /&gt;\r\nYou can check following link for sendgrid code snippet &lt;br /&gt;\r\nhttps://docs.sendgrid.com/api-reference/e-mail-activity/filter-all-messages\r\n &lt;br /&gt; &lt;br /&gt;\r\nHope this helps&lt;br /&gt;\r\nPK","title":"Authorization Exception While implementing &quot;/messages&quot; endpoint in sendgrid API","body":"<p>Yes, like Pranay said, You have to purchase Add-On named as &quot;Extended Email Activity History&quot; located at (once you logged in with send grid, look for)  <br /> Settings → Account_Details → Product_Page → Scroll down to add-ons → then select &quot;Extended Email Activity History&quot; and add to your plan. (Current cost of this add-on is $12/month* &amp; I don not understand meaning of * here)\n<br />\nYou can check following link for sendgrid code snippet <br />\n<a href=\"https://docs.sendgrid.com/api-reference/e-mail-activity/filter-all-messages\" rel=\"nofollow noreferrer\">https://docs.sendgrid.com/api-reference/e-mail-activity/filter-all-messages</a>\n<br /> <br />\nHope this helps<br />\nPK</p>\n"}],"owner":{"account_id":14926760,"reputation":33,"user_id":10777379,"display_name":"Pranay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1783,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56043526,"answer_count":2,"score":1,"last_activity_date":1661426348,"creation_date":1556654327,"question_id":55927911,"body_markdown":"I am developing a jsf + spring application and in that trying to get all the emails send through the sendgrid api using the [&quot;/messages&quot;](https://sendgrid.api-docs.io/v3.0/email-activity/filter-all-messages) endpoint . \r\n\r\nI tried implementing the &quot;/messages&quot; endpoint in Java similar to the &quot;/stats&quot; endpoint mentioned in the example [here](https://github.com/sendgrid/sendgrid-java/blob/master/examples/stats/stats.java). Below is my code\r\n\r\nI am initializing the send grid object in my application context\r\n```\r\n&lt;bean id=&quot;sendGrid&quot; class=&quot;com.sendgrid.SendGrid&quot;&gt;\r\n    &lt;constructor-arg name=&quot;apiKey&quot; value=&quot;my_api_key&quot;/&gt;\r\n&lt;/bean&gt;\r\n```\r\n\r\nThen I am using the autowired instance of that object in my service bean as follows:\r\n```\r\ncom.sendgrid.Request request = new Request();\r\ntry {\r\n   request.setMethod(Method.GET);\r\n   request.setEndpoint(&quot;messages&quot;);\r\n   request.addQueryParam(&quot;limit&quot;, &quot;10&quot;);\r\n   request.addQueryParam(&quot;query&quot;, &quot;status=&#39;processed&#39;&quot;);\r\n   com.sendgrid.Response response=sendGrid.api(request);\r\n   LOGGER.debug(response.getBody());\r\n} catch (IOException e) {\r\n   LOGGER.error(ExceptionUtils.getStackTrace(e));\r\n}\r\n```\r\n\r\nHowever I am receiving the following exception\r\n\r\nStack Trace:\r\n```\r\njava.io.IOException: Request returned status Code 400 Body:{&quot;errors&quot;:[{&quot;message&quot;:&quot;authorization required&quot;}]}\r\nat com.sendgrid.Client.executeApiCall(Client.java:287)\r\nat com.sendgrid.Client.get(Client.java:163)\r\nat com.sendgrid.Client.api(Client.java:308)\r\nat com.sendgrid.SendGrid.makeCall(SendGrid.java:203)\r\nat com.sendgrid.SendGrid.api(SendGrid.java:225)\r\n```\r\nSince I am able to send e-mail and receive stats successfully. I don&#39;t think authorization should be the problem here. Am I going wrong somewhere or am I missing something? \r\n\r\nAny guesses or leads welcome. Thanks","title":"Authorization Exception While implementing &quot;/messages&quot; endpoint in sendgrid API","body":"<p>I am developing a jsf + spring application and in that trying to get all the emails send through the sendgrid api using the <a href=\"https://sendgrid.api-docs.io/v3.0/email-activity/filter-all-messages\" rel=\"nofollow noreferrer\">\"/messages\"</a> endpoint . </p>\n\n<p>I tried implementing the \"/messages\" endpoint in Java similar to the \"/stats\" endpoint mentioned in the example <a href=\"https://github.com/sendgrid/sendgrid-java/blob/master/examples/stats/stats.java\" rel=\"nofollow noreferrer\">here</a>. Below is my code</p>\n\n<p>I am initializing the send grid object in my application context</p>\n\n<pre><code>&lt;bean id=\"sendGrid\" class=\"com.sendgrid.SendGrid\"&gt;\n    &lt;constructor-arg name=\"apiKey\" value=\"my_api_key\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>Then I am using the autowired instance of that object in my service bean as follows:</p>\n\n<pre><code>com.sendgrid.Request request = new Request();\ntry {\n   request.setMethod(Method.GET);\n   request.setEndpoint(\"messages\");\n   request.addQueryParam(\"limit\", \"10\");\n   request.addQueryParam(\"query\", \"status='processed'\");\n   com.sendgrid.Response response=sendGrid.api(request);\n   LOGGER.debug(response.getBody());\n} catch (IOException e) {\n   LOGGER.error(ExceptionUtils.getStackTrace(e));\n}\n</code></pre>\n\n<p>However I am receiving the following exception</p>\n\n<p>Stack Trace:</p>\n\n<pre><code>java.io.IOException: Request returned status Code 400 Body:{\"errors\":[{\"message\":\"authorization required\"}]}\nat com.sendgrid.Client.executeApiCall(Client.java:287)\nat com.sendgrid.Client.get(Client.java:163)\nat com.sendgrid.Client.api(Client.java:308)\nat com.sendgrid.SendGrid.makeCall(SendGrid.java:203)\nat com.sendgrid.SendGrid.api(SendGrid.java:225)\n</code></pre>\n\n<p>Since I am able to send e-mail and receive stats successfully. I don't think authorization should be the problem here. Am I going wrong somewhere or am I missing something? </p>\n\n<p>Any guesses or leads welcome. Thanks</p>\n"},{"tags":["java","spring","hamcrest"],"answers":[{"tags":[],"owner":{"account_id":258602,"reputation":20902,"user_id":540873,"display_name":"Thomas Jungblut"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1661426320,"creation_date":1661426320,"answer_id":73486550,"question_id":73485478,"body_markdown":"I think you&#39;re going to spot this yourself for sure:\r\n\r\n\r\n&gt; jsonPath(&quot;$.stockName&quot;, Matchers.is(&quot;SPOT&quot;))\r\n\r\nvs.\r\n\r\n&gt; jsonPath(&quot;$.stockValue&quot;), Matchers.greaterThan(0.00)","title":"How to assert that json property is greater than 0 using jsonpath and hamcrest?","body":"<p>I think you're going to spot this yourself for sure:</p>\n<blockquote>\n<p>jsonPath(&quot;$.stockName&quot;, Matchers.is(&quot;SPOT&quot;))</p>\n</blockquote>\n<p>vs.</p>\n<blockquote>\n<p>jsonPath(&quot;$.stockValue&quot;), Matchers.greaterThan(0.00)</p>\n</blockquote>\n"}],"owner":{"account_id":16792700,"reputation":195,"user_id":12139915,"display_name":"meniman98"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":459,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73486550,"answer_count":1,"score":2,"last_activity_date":1661426320,"creation_date":1661421221,"question_id":73485478,"body_markdown":"I have a JSON response looking like this\r\n```\r\n{\r\n&quot;stockId&quot;: 1,\r\n&quot;stockName&quot;: &quot;SPOT&quot;,\r\n&quot;stockValue&quot;: 150.00\r\n}\r\n```\r\n\r\nI must ensure that &quot;stockValue&quot; is greater than 0. I tried doing this:\r\n\r\n```\r\n.andExpect(jsonPath(&quot;$.stockValue&quot;), Matchers.greaterThan(0.00));\r\n```\r\n\r\nBut that produces me a compile time error of this:\r\n\r\n```\r\n&#39;andExpect(org.springframework.test.web.servlet.ResultMatcher)&#39; in &#39;org.springframework.test.web.servlet.ResultActions&#39; cannot be applied to &#39;(org.springframework.test.web.servlet.result.JsonPathResultMatchers, org.hamcrest.Matcher&lt;java.lang.Double&gt;)&#39;\r\n```\r\n\r\nI searched around, and I tried this solution which doesn&#39;t work:\r\n\r\n```\r\n.andExpect(jsonPath(&quot;$.stockValue&quot;), Matchers.everyItem(Matchers.greaterThan(0.00)));\r\n```\r\n\r\nBecause it produces this compile time error:\r\n\r\n```\r\n&#39;andExpect(org.springframework.test.web.servlet.ResultMatcher)&#39; in &#39;org.springframework.test.web.servlet.ResultActions&#39; cannot be applied to &#39;(org.springframework.test.web.servlet.result.JsonPathResultMatchers, org.hamcrest.Matcher&lt;java.lang.Iterable&lt;? extends java.lang.Double&gt;&gt;)&#39;\r\n```\r\n\r\nI want to ensure that stockValue is indeed more than 0.00. How would I do that?\r\n\r\nThis is my entire test function below:\r\n\r\n```\r\n\t@Test\r\n\tvoid getStockDetail200() throws Exception {\r\n//\t\t\tPerform the GET request\r\n\t\tString endpoint = MessageFormat.format(&quot;{0}?symbol=SPOT&amp;{1}&quot;,\r\n\t\t\t\tUtils.BASE_URL,\r\n\t\t\t\tUtils.TOKEN);\r\n\r\n\t\tmockMvc.perform(get(endpoint)\r\n\t\t.contentType(MediaType.APPLICATION_JSON))\r\n\t\t\t\t.andExpect(status().isOk())\r\n\t\t\t\t.andExpect(jsonPath(&quot;$.stockName&quot;, Matchers.is(&quot;SPOT&quot;)))\r\n\t\t\t\t\t.andExpect(jsonPath(&quot;$.stockValue&quot;), Matchers.greaterThan(0.00));\r\n\t}\r\n```","title":"How to assert that json property is greater than 0 using jsonpath and hamcrest?","body":"<p>I have a JSON response looking like this</p>\n<pre><code>{\n&quot;stockId&quot;: 1,\n&quot;stockName&quot;: &quot;SPOT&quot;,\n&quot;stockValue&quot;: 150.00\n}\n</code></pre>\n<p>I must ensure that &quot;stockValue&quot; is greater than 0. I tried doing this:</p>\n<pre><code>.andExpect(jsonPath(&quot;$.stockValue&quot;), Matchers.greaterThan(0.00));\n</code></pre>\n<p>But that produces me a compile time error of this:</p>\n<pre><code>'andExpect(org.springframework.test.web.servlet.ResultMatcher)' in 'org.springframework.test.web.servlet.ResultActions' cannot be applied to '(org.springframework.test.web.servlet.result.JsonPathResultMatchers, org.hamcrest.Matcher&lt;java.lang.Double&gt;)'\n</code></pre>\n<p>I searched around, and I tried this solution which doesn't work:</p>\n<pre><code>.andExpect(jsonPath(&quot;$.stockValue&quot;), Matchers.everyItem(Matchers.greaterThan(0.00)));\n</code></pre>\n<p>Because it produces this compile time error:</p>\n<pre><code>'andExpect(org.springframework.test.web.servlet.ResultMatcher)' in 'org.springframework.test.web.servlet.ResultActions' cannot be applied to '(org.springframework.test.web.servlet.result.JsonPathResultMatchers, org.hamcrest.Matcher&lt;java.lang.Iterable&lt;? extends java.lang.Double&gt;&gt;)'\n</code></pre>\n<p>I want to ensure that stockValue is indeed more than 0.00. How would I do that?</p>\n<p>This is my entire test function below:</p>\n<pre><code>    @Test\n    void getStockDetail200() throws Exception {\n//          Perform the GET request\n        String endpoint = MessageFormat.format(&quot;{0}?symbol=SPOT&amp;{1}&quot;,\n                Utils.BASE_URL,\n                Utils.TOKEN);\n\n        mockMvc.perform(get(endpoint)\n        .contentType(MediaType.APPLICATION_JSON))\n                .andExpect(status().isOk())\n                .andExpect(jsonPath(&quot;$.stockName&quot;, Matchers.is(&quot;SPOT&quot;)))\n                    .andExpect(jsonPath(&quot;$.stockValue&quot;), Matchers.greaterThan(0.00));\n    }\n</code></pre>\n"},{"tags":["java","media-player","media","vlcj"],"comments":[{"owner":{"account_id":3101468,"reputation":3914,"user_id":2625478,"accept_rate":82,"display_name":"caprica"},"score":0,"creation_date":1661286114,"post_id":73464270,"comment_id":129735146,"body_markdown":"You&#39;re trying to set position while the video is stopped? That won&#39;t work.","body":"You&#39;re trying to set position while the video is stopped? That won&#39;t work."},{"owner":{"account_id":26142775,"reputation":13,"user_id":19831911,"display_name":"NPC239"},"score":0,"creation_date":1661374271,"post_id":73464270,"comment_id":129760185,"body_markdown":"Why not? Does the video have to be running? I tried that too, that doesn&#39;t work either.","body":"Why not? Does the video have to be running? I tried that too, that doesn&#39;t work either."},{"owner":{"account_id":26142775,"reputation":13,"user_id":19831911,"display_name":"NPC239"},"score":0,"creation_date":1661374666,"post_id":73464270,"comment_id":129760279,"body_markdown":"Oh wait - if I load the video, call play(), and then stop() and start() - and *then* call setPosition() or setTime() - then it works!!!! Dude, thank you so much!!!!","body":"Oh wait - if I load the video, call play(), and then stop() and start() - and <i>then</i> call setPosition() or setTime() - then it works!!!! Dude, thank you so much!!!!"},{"owner":{"account_id":3101468,"reputation":3914,"user_id":2625478,"accept_rate":82,"display_name":"caprica"},"score":0,"creation_date":1661424422,"post_id":73464270,"comment_id":129771760,"body_markdown":"You need to realise that a lot of things with LibVLC are asynchronous, I&#39;ll write an answer showing how to do this properly that doesn&#39;t rely on play stop start.","body":"You need to realise that a lot of things with LibVLC are asynchronous, I&#39;ll write an answer showing how to do this properly that doesn&#39;t rely on play stop start."}],"answers":[{"tags":[],"owner":{"account_id":26142775,"reputation":13,"user_id":19831911,"display_name":"NPC239"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661375015,"creation_date":1661375015,"answer_id":73479441,"question_id":73464270,"body_markdown":"Thanks to caprica&#39;s ingenious insights, this snippet actually works (don&#39;t know why, but it does - and that&#39;s all that matters for now):\r\n\r\n        ourMediaPlayer.mediaPlayer().media().play(&quot;/home/manfred/ExtraDisk/Work/BTL/Movement2022/walking.mp4&quot;); // works\r\n\r\n        ourMediaPlayer.mediaPlayer().controls().stop(); // works\r\n        ourMediaPlayer.mediaPlayer().controls().start(); // works\r\n\r\n        ourMediaPlayer.mediaPlayer().controls().setTime(5000); // WORKS\r\n\r\nStill a bit of a mystery, but I&#39;ll take it!","title":"vlcj setPosition()/setTime() doesn&#39;t do anything - what am I doing wrong?","body":"<p>Thanks to caprica's ingenious insights, this snippet actually works (don't know why, but it does - and that's all that matters for now):</p>\n<pre><code>    ourMediaPlayer.mediaPlayer().media().play(&quot;/home/manfred/ExtraDisk/Work/BTL/Movement2022/walking.mp4&quot;); // works\n\n    ourMediaPlayer.mediaPlayer().controls().stop(); // works\n    ourMediaPlayer.mediaPlayer().controls().start(); // works\n\n    ourMediaPlayer.mediaPlayer().controls().setTime(5000); // WORKS\n</code></pre>\n<p>Still a bit of a mystery, but I'll take it!</p>\n"},{"tags":[],"owner":{"account_id":3101468,"reputation":3914,"user_id":2625478,"accept_rate":82,"display_name":"caprica"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661425081,"creation_date":1661425081,"answer_id":73486310,"question_id":73464270,"body_markdown":"It is not possible to use the API to set the time/position before playback has started.\r\n\r\nLibVLC operates asynchronously for many operations. Just calling play() does not mean that playback has started, so setting the time/position immediately after play() is called will not (always) work.\r\n\r\nThere are at least two approaches you can use:\r\n\r\n1. Wait for a media player &quot;ready&quot; event, and set the time/position (this will fire an event each time the media player is ready, so each time you play it, although you can write a one-shot listener that unregisters itself if you only want to do it the first time you play).\r\n\r\n```java\r\n    public static void main(String[] args) throws Exception {\r\n        MediaPlayer mediaPlayer = new MediaPlayerFactory().mediaPlayers().newMediaPlayer();\r\n\r\n        mediaPlayer.events().addMediaPlayerEventListener(new MediaPlayerEventAdapter() {\r\n            @Override\r\n            public void mediaPlayerReady(MediaPlayer mediaPlayer) {\r\n                mediaPlayer.controls().setTime(10000);\r\n            }\r\n        });\r\n\r\n        mediaPlayer.media().play(&quot;/home/movies/whatever.mp4&quot;);\r\n\r\n        Thread.currentThread().join();\r\n    }\r\n\r\n```\r\n\r\nWith this first approach there is the small risk that you will see one or two video frames rendered before skipping occurs.\r\n\r\n2. Use media options to set the start time (in seconds, including fractions of seconds like 10.5):\r\n\r\n```java\r\n    public static void main(String[] args) throws Exception {\r\n        MediaPlayer mediaPlayer = new MediaPlayerFactory().mediaPlayers().newMediaPlayer();\r\n\r\n        mediaPlayer.media().play(&quot;/home/movies/whatever.mp4&quot;, &quot;:start-time=10&quot;);\r\n\r\n        Thread.currentThread().join();\r\n    }\r\n```\r\n","title":"vlcj setPosition()/setTime() doesn&#39;t do anything - what am I doing wrong?","body":"<p>It is not possible to use the API to set the time/position before playback has started.</p>\n<p>LibVLC operates asynchronously for many operations. Just calling play() does not mean that playback has started, so setting the time/position immediately after play() is called will not (always) work.</p>\n<p>There are at least two approaches you can use:</p>\n<ol>\n<li>Wait for a media player &quot;ready&quot; event, and set the time/position (this will fire an event each time the media player is ready, so each time you play it, although you can write a one-shot listener that unregisters itself if you only want to do it the first time you play).</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String[] args) throws Exception {\n        MediaPlayer mediaPlayer = new MediaPlayerFactory().mediaPlayers().newMediaPlayer();\n\n        mediaPlayer.events().addMediaPlayerEventListener(new MediaPlayerEventAdapter() {\n            @Override\n            public void mediaPlayerReady(MediaPlayer mediaPlayer) {\n                mediaPlayer.controls().setTime(10000);\n            }\n        });\n\n        mediaPlayer.media().play(&quot;/home/movies/whatever.mp4&quot;);\n\n        Thread.currentThread().join();\n    }\n\n</code></pre>\n<p>With this first approach there is the small risk that you will see one or two video frames rendered before skipping occurs.</p>\n<ol start=\"2\">\n<li>Use media options to set the start time (in seconds, including fractions of seconds like 10.5):</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String[] args) throws Exception {\n        MediaPlayer mediaPlayer = new MediaPlayerFactory().mediaPlayers().newMediaPlayer();\n\n        mediaPlayer.media().play(&quot;/home/movies/whatever.mp4&quot;, &quot;:start-time=10&quot;);\n\n        Thread.currentThread().join();\n    }\n</code></pre>\n"}],"owner":{"account_id":26142775,"reputation":13,"user_id":19831911,"display_name":"NPC239"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73486310,"answer_count":2,"score":1,"last_activity_date":1661425081,"creation_date":1661283387,"question_id":73464270,"body_markdown":"thanks so much in advance for helping me with this seemingly tiny thing - yet I can&#39;t figure it out. MP4 Video/audio playback works just fine, yet I can&#39;t set the position in the video.\r\n\r\nHere&#39;s my stripped down code:\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Canvas;\r\n    import java.awt.Color;\r\n    \r\n    import javax.swing.JPanel;\r\n    \r\n    import com.sun.jna.NativeLibrary;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import uk.co.caprica.vlcj.binding.RuntimeUtil;\r\n    import uk.co.caprica.vlcj.player.base.ControlsApi;\r\n    import uk.co.caprica.vlcj.player.base.MediaApi;\r\n    \r\n    \r\n    import uk.co.caprica.vlcj.player.base.MediaPlayer;\r\n    import uk.co.caprica.vlcj.player.component.CallbackMediaPlayerComponent;\r\n    import uk.co.caprica.vlcj.player.component.EmbeddedMediaPlayerComponent;\r\n    import uk.co.caprica.vlcj.player.component.callback.FilledCallbackImagePainter;\r\n    import uk.co.caprica.vlcj.player.component.callback.FixedCallbackImagePainter;\r\n    import uk.co.caprica.vlcj.player.component.callback.ScaledCallbackImagePainter;\r\n    import uk.co.caprica.vlcj.player.embedded.EmbeddedMediaPlayer;\r\n    import uk.co.caprica.vlcj.player.renderer.RendererItem;\r\n    import uk.co.caprica.vlcjplayer.event.TickEvent;\r\n    import uk.co.caprica.vlcjplayer.view.action.mediaplayer.MediaPlayerActions;\r\n    \r\n    \r\n    public class TestClass extends JPanel {\r\n        private EmbeddedMediaPlayerComponent ourMediaPlayer;\r\n        TestClass(){\r\n            //NativeLibrary.addSearchPath(RuntimeUtil.getLibVlcLibraryName(), &quot;C:\\\\Program Files\\\\VideoLAN\\\\VLC&quot;);\r\n    \r\n            ourMediaPlayer = new EmbeddedMediaPlayerComponent();\r\n    \r\n    \r\n    \r\n            /* Set the canvas */\r\n            Canvas c = new Canvas();\r\n            c.setBackground(Color.black);\r\n            c.setVisible(true);\r\n    \r\n            /* Set the layout */\r\n            this.setLayout(new BorderLayout());\r\n    \r\n            /* Add the canvas */\r\n            this.add(c, BorderLayout.CENTER);\r\n            this.setVisible(true);\r\n            this.add(ourMediaPlayer);\r\n    \r\n\r\n    \r\n        }\r\n        public void play() {\r\n           /* Play the video */\r\n     \r\n            System.out.println(&quot;Starting...&quot;);  \r\n    \r\n            \r\n            ourMediaPlayer.mediaPlayer().controls().setPosition((float) 0.5); // NOPE\r\n            ourMediaPlayer.mediaPlayer().media().play(&quot;/home/manfred/ExtraDisk/Work/BTL/Movement2022/walking.mp4&quot;); // works\r\n            ourMediaPlayer.mediaPlayer().controls().stop(); // works\r\n            \r\n            ourMediaPlayer.mediaPlayer().controls().setPosition((float) 0.5); //NOPE\r\n        \r\n            try { \r\n                Thread.sleep(2000);\r\n            } catch (InterruptedException ex) {\r\n                Logger.getLogger(TestClass.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n            ourMediaPlayer.mediaPlayer().controls().setPosition((float) 0.5);  //NOPE\r\n            ourMediaPlayer.mediaPlayer().controls().setTime(2000); // NOPE\r\n            ourMediaPlayer.mediaPlayer().controls().start(); //works\r\n            \r\n            \r\n            //System.time.sleep(2);\r\n            System.out.println(&quot;Started!&quot;);  \r\n            try { \r\n                Thread.sleep(2000);\r\n            } catch (InterruptedException ex) {\r\n                Logger.getLogger(TestClass.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n            ourMediaPlayer.mediaPlayer().controls().stop(); // works\r\n    \r\n        }\r\n    }\r\n\r\nPlayback via .mediaPlayer().media().play() works, so does start and stop via .mediaPlayer().controls().start() and .mediaPlayer().controls().stop().\r\n\r\nWhat doesn&#39;t work is .mediaPlayer().controls().setTime(xx) and .mediaPlayer().controls().setPosition(xx), basically nothing happens.\r\n\r\nWhat am I not doing right here? Is this a threading issue? Anyone have any working minimal examples?\r\n\r\nThanks again, any help is greatly appreciated! \r\n\r\n","title":"vlcj setPosition()/setTime() doesn&#39;t do anything - what am I doing wrong?","body":"<p>thanks so much in advance for helping me with this seemingly tiny thing - yet I can't figure it out. MP4 Video/audio playback works just fine, yet I can't set the position in the video.</p>\n<p>Here's my stripped down code:</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Canvas;\nimport java.awt.Color;\n\nimport javax.swing.JPanel;\n\nimport com.sun.jna.NativeLibrary;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport uk.co.caprica.vlcj.binding.RuntimeUtil;\nimport uk.co.caprica.vlcj.player.base.ControlsApi;\nimport uk.co.caprica.vlcj.player.base.MediaApi;\n\n\nimport uk.co.caprica.vlcj.player.base.MediaPlayer;\nimport uk.co.caprica.vlcj.player.component.CallbackMediaPlayerComponent;\nimport uk.co.caprica.vlcj.player.component.EmbeddedMediaPlayerComponent;\nimport uk.co.caprica.vlcj.player.component.callback.FilledCallbackImagePainter;\nimport uk.co.caprica.vlcj.player.component.callback.FixedCallbackImagePainter;\nimport uk.co.caprica.vlcj.player.component.callback.ScaledCallbackImagePainter;\nimport uk.co.caprica.vlcj.player.embedded.EmbeddedMediaPlayer;\nimport uk.co.caprica.vlcj.player.renderer.RendererItem;\nimport uk.co.caprica.vlcjplayer.event.TickEvent;\nimport uk.co.caprica.vlcjplayer.view.action.mediaplayer.MediaPlayerActions;\n\n\npublic class TestClass extends JPanel {\n    private EmbeddedMediaPlayerComponent ourMediaPlayer;\n    TestClass(){\n        //NativeLibrary.addSearchPath(RuntimeUtil.getLibVlcLibraryName(), &quot;C:\\\\Program Files\\\\VideoLAN\\\\VLC&quot;);\n\n        ourMediaPlayer = new EmbeddedMediaPlayerComponent();\n\n\n\n        /* Set the canvas */\n        Canvas c = new Canvas();\n        c.setBackground(Color.black);\n        c.setVisible(true);\n\n        /* Set the layout */\n        this.setLayout(new BorderLayout());\n\n        /* Add the canvas */\n        this.add(c, BorderLayout.CENTER);\n        this.setVisible(true);\n        this.add(ourMediaPlayer);\n\n\n\n    }\n    public void play() {\n       /* Play the video */\n \n        System.out.println(&quot;Starting...&quot;);  \n\n        \n        ourMediaPlayer.mediaPlayer().controls().setPosition((float) 0.5); // NOPE\n        ourMediaPlayer.mediaPlayer().media().play(&quot;/home/manfred/ExtraDisk/Work/BTL/Movement2022/walking.mp4&quot;); // works\n        ourMediaPlayer.mediaPlayer().controls().stop(); // works\n        \n        ourMediaPlayer.mediaPlayer().controls().setPosition((float) 0.5); //NOPE\n    \n        try { \n            Thread.sleep(2000);\n        } catch (InterruptedException ex) {\n            Logger.getLogger(TestClass.class.getName()).log(Level.SEVERE, null, ex);\n        }\n        ourMediaPlayer.mediaPlayer().controls().setPosition((float) 0.5);  //NOPE\n        ourMediaPlayer.mediaPlayer().controls().setTime(2000); // NOPE\n        ourMediaPlayer.mediaPlayer().controls().start(); //works\n        \n        \n        //System.time.sleep(2);\n        System.out.println(&quot;Started!&quot;);  \n        try { \n            Thread.sleep(2000);\n        } catch (InterruptedException ex) {\n            Logger.getLogger(TestClass.class.getName()).log(Level.SEVERE, null, ex);\n        }\n        ourMediaPlayer.mediaPlayer().controls().stop(); // works\n\n    }\n}\n</code></pre>\n<p>Playback via .mediaPlayer().media().play() works, so does start and stop via .mediaPlayer().controls().start() and .mediaPlayer().controls().stop().</p>\n<p>What doesn't work is .mediaPlayer().controls().setTime(xx) and .mediaPlayer().controls().setPosition(xx), basically nothing happens.</p>\n<p>What am I not doing right here? Is this a threading issue? Anyone have any working minimal examples?</p>\n<p>Thanks again, any help is greatly appreciated!</p>\n"},{"tags":["java","spring-boot","mapping"],"comments":[{"owner":{"account_id":11107201,"reputation":178,"user_id":8154052,"display_name":"Frank"},"score":0,"creation_date":1661424226,"post_id":73485964,"comment_id":129771688,"body_markdown":"You might want to add some of your code to understand what exactly you are doing","body":"You might want to add some of your code to understand what exactly you are doing"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1661424798,"post_id":73485964,"comment_id":129771891,"body_markdown":"&quot;No default constructor for entity:  : com.example.learnspring.model.Student&quot; - That should already tell you what the problem is - at least where: the `Student` class. Does that class have an accessible no-argument constructor?","body":"&quot;No default constructor for entity:  : com.example.learnspring.model.Student&quot; - That should already tell you what the problem is - at least where: the <code>Student</code> class. Does that class have an accessible no-argument constructor?"},{"owner":{"account_id":22390914,"reputation":35,"user_id":16603001,"display_name":"DeadSilent"},"score":0,"creation_date":1661424895,"post_id":73485964,"comment_id":129771923,"body_markdown":"@Thomas yes it has also I added both student and studentDto classes","body":"@Thomas yes it has also I added both student and studentDto classes"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1661425022,"post_id":73485964,"comment_id":129771961,"body_markdown":"please share the class then for us to check","body":"please share the class then for us to check"},{"owner":{"account_id":22390914,"reputation":35,"user_id":16603001,"display_name":"DeadSilent"},"score":0,"creation_date":1661425108,"post_id":73485964,"comment_id":129771987,"body_markdown":"@Thomas already added!","body":"@Thomas already added!"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1661426098,"post_id":73485964,"comment_id":129772294,"body_markdown":"@DeadSilent You said &quot;Yes it has&quot; when asked: &quot;Does Student have a no-args constructor&quot;. However, from your paste, __no it does not__.","body":"@DeadSilent You said &quot;Yes it has&quot; when asked: &quot;Does Student have a no-args constructor&quot;. However, from your paste, <b>no it does not</b>."},{"owner":{"account_id":22390914,"reputation":35,"user_id":16603001,"display_name":"DeadSilent"},"score":0,"creation_date":1661426750,"post_id":73485964,"comment_id":129772525,"body_markdown":"@rzwitserloot Maybe you should check it because if I didn&#39;t used id(or I delete intentionally it gives error and doesn&#39;t event start) you meant no-arg constructor (@NoArgsConstructor right? then it has)","body":"@rzwitserloot Maybe you should check it because if I didn&#39;t used id(or I delete intentionally it gives error and doesn&#39;t event start) you meant no-arg constructor (@NoArgsConstructor right? then it has)"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1661428816,"post_id":73485964,"comment_id":129773247,"body_markdown":"That might be a problem with Lombok (which you should have mentioned) not being executed during compilation or producing conflicts with Hibernate but if you have a look at where the exception is thrown you&#39;ll see that Hibernate has trouble locating the no-args constructor: https://github.com/hibernate/hibernate-orm/blob/5.6/hibernate-core/src/main/java/org/hibernate/tuple/PojoInstantiator.java. So from Hibernate&#39;s PoV it&#39;s not there. Try to add it manually to remove the possibility of Lombok messing it up.","body":"That might be a problem with Lombok (which you should have mentioned) not being executed during compilation or producing conflicts with Hibernate but if you have a look at where the exception is thrown you&#39;ll see that Hibernate has trouble locating the no-args constructor: <a href=\"https://github.com/hibernate/hibernate-orm/blob/5.6/hibernate-core/src/main/java/org/hibernate/tuple/PojoInstantiator.java\" rel=\"nofollow noreferrer\">github.com/hibernate/hibernate-orm/blob/5.6/hibernate-core/s&zwnj;&#8203;rc/&hellip;</a>. So from Hibernate&#39;s PoV it&#39;s not there. Try to add it manually to remove the possibility of Lombok messing it up."}],"owner":{"account_id":22390914,"reputation":35,"user_id":16603001,"display_name":"DeadSilent"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661424857,"creation_date":1661423476,"question_id":73485964,"body_markdown":"After starting the application(there is no problem code run successfully) when I enter a valid id for calling my entity application gives this log. I try to solve it but I couldn&#39;t find the answer.\r\n\r\nApplication log after I enter id(valid id)\r\n\r\n   \r\n\r\n 2022-08-25 14:21:35.603  INFO 14956 --- [nio-9090-exec-4] o.h.e.internal.DefaultLoadEventListener  : HHH000327: Error performing load command\r\n    \r\n    org.hibernate.InstantiationException: No default constructor for entity:  : com.example.learnspring.model.Student\r\n    \tat org.hibernate.tuple.PojoInstantiator.instantiate(PojoInstantiator.java:85) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.tuple.PojoInstantiator.instantiate(PojoInstantiator.java:105) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.tuple.entity.AbstractEntityTuplizer.instantiate(AbstractEntityTuplizer.java:705) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.instantiate(AbstractEntityPersister.java:5295) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.internal.SessionImpl.instantiate(SessionImpl.java:1643) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.internal.SessionImpl.instantiate(SessionImpl.java:1627) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.loader.plan.exec.process.internal.EntityReferenceInitializerImpl.hydrateEntityState(EntityReferenceInitializerImpl.java:255) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.loader.plan.exec.process.internal.AbstractRowReader.readRow(AbstractRowReader.java:80) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.loader.plan.exec.internal.EntityLoadQueryDetails$EntityLoaderRowReader.readRow(EntityLoadQueryDetails.java:288) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.loader.plan.exec.process.internal.ResultSetProcessorImpl.extractRows(ResultSetProcessorImpl.java:157) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.loader.plan.exec.process.internal.ResultSetProcessorImpl.extractResults(ResultSetProcessorImpl.java:94) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:105) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.loader.entity.plan.AbstractLoadPlanBasedEntityLoader.load(AbstractLoadPlanBasedEntityLoader.java:285) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.doLoad(AbstractEntityPersister.java:4521) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:4511) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:571) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:539) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:208) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:327) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:108) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:74) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:118) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1231) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1220) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.internal.SessionImpl.access$2100(SessionImpl.java:202) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.doLoad(SessionImpl.java:2835) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.lambda$load$1(SessionImpl.java:2812) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.perform(SessionImpl.java:2768) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.load(SessionImpl.java:2812) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.internal.SessionImpl.find(SessionImpl.java:3400) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.internal.SessionImpl.find(SessionImpl.java:3367) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n    \tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.22.jar:5.3.22]\r\n    \tat jdk.proxy2/jdk.proxy2.$Proxy105.find(Unknown Source) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:an]\r\n\r\n\r\n    org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n        \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.22.jar:5.3.22]\r\n        \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n        \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.22.jar:5.3.22]\r\n        \tat jdk.proxy2/jdk.proxy2.$Proxy108.findById(Unknown Source) ~[na:na]\r\n        \tat com.example.learnspring.service.StudentService.getStudentbyId(StudentService.java:25) ~[classes/:na]\r\n        \tat com.example.learnspring.controller.StudentController.get(StudentController.java:35) ~[classes/:na]\r\n        \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n        \tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n        \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.22.jar:5.3.22]\r\n        \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.22.jar:5.3.22]\r\n        \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n        \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n        \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n        \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n        \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n        \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n        \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n        \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n        \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\r\n        \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n        \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.65.jar:9.0.65]\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.22.jar:5.3.22]\r\n        \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.22.jar:5.3.22]\r\n        \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.22.jar:5.3.22]\r\n        \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        \tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n        \r\n        2022-08-25 14:21:35.610 ERROR 14956 --- [nio-9090-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.orm.jpa.JpaSystemException: No default constructor for entity:  : com.example.learnspring.model.Student; nested exception is org.hibernate.InstantiationException: No default constructor for entity:  : com.example.learnspring.model.Student] with root cause\r\n        \r\n        org.hibernate.InstantiationException: No default constructor for entity:  : com.example.learnspring.model.Student\r\n        \tat org.hibernate.tuple.PojoInstantiator.instantiate(PojoInstantiator.java:85) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n        \tat org.hibernate.tuple.PojoInstantiator.instantiate(PojoInstantiator.java:105) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n        \tat org.hibernate.tuple.entity.AbstractEntityTuplizer.instantiate(AbstractEntityTuplizer.java:705) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n        \tat org.hibernate.persister.entity.AbstractEntityPersister.instantiate(AbstractEntityPersister.java:5295) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n        \tat org.hibernate.internal.SessionImpl.instantiate(SessionImpl.java:1643) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n        \tat org.hibernate.internal.SessionImpl.instantiate(SessionImpl.java:1627) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n        \tat org.hibernate.loader.plan.exec.process.internal.EntityReferenceInitializerImpl.hydrateEntityState(EntityReferenceInitializerImpl.java:255) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n        \tat org.hibernate.loader.plan.exec.process.internal.AbstractRowReader.readRow(AbstractRowReader.java:80) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n        \tat org.hibernate.loader.plan.exec.internal.EntityLoadQueryDetails$EntityLoaderRowReader.readRow(EntityLoadQueryDetails.java:288) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n        \tat org.hibernate.loader.plan.exec.process.internal.ResultSetProcessorImpl.extractRows(ResultSetProcessorImpl.java:157) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n        \tat org.hibernate.loader.plan.exec.process.internal.ResultSetProcessorImpl.extractResults(ResultSetProcessorImpl.java:94) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n        \tat org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:105) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n        \tat org.hibernate.loader.entity.plan.AbstractLoadPlanBasedEntityLoader.load(AbstractLoadPlanBasedEntityLoader.java:285) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n        \tat org.hibernate.persister.entity.AbstractEntityPersister.doLoad(AbstractEntityPersister.java:4521) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n        \tat org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:4511) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n        \tat org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:571) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n        \tat org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:539) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n        \tat org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:208) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n        \tat org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:327) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n        \tat org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:108) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n        \tat org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:74) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n        \tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:118) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n        \tat org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1231) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n        \tat org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1220) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n        \tat org.hibernate.internal.SessionImpl.access$2100(SessionImpl.java:202) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n        \tat org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.doLoad(SessionImpl.java:2835) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n        \tat org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.lambda$load$1(SessionImpl.java:2812) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n        \tat org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.perform(SessionImpl.java:2768) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n        \tat org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.load(SessionImpl.java:2812) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n        \tat org.hibernate.internal.SessionImpl.find(SessionImpl.java:3400) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n        \tat org.hibernate.internal.SessionImpl.find(SessionImpl.java:3367) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n        \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n        \tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n        \tat ...\r\n        org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n            \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n            \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.65.jar:9.0.65]\r\n            \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n            \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n            \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.22.jar:5.3.22]\r\n            \tat \r\n        ...\r\n        org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n            \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n            \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n            \tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:an]\r\n\r\nAnd this is the log when I enter(invalid id doesn&#39;t exist in the database) \r\n\r\n    2022-08-25 14:26:13.190  WARN 14956 --- [nio-9090-exec-6] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpMediaTypeNotAcceptableException: Could not find acceptable representation]\r\n\r\n\r\nMy controller class\r\n\r\n    import com.example.learnspring.model.StudentDTO;\r\n    import com.example.learnspring.service.StudentService;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    \r\n    @RestController\r\n    public class StudentController {\r\n    \r\n    \r\n        @Autowired\r\n        private  StudentService service;\r\n     @GetMapping(&quot;/student/{id}&quot;)\r\n        public StudentDTO get(@PathVariable int id) {\r\n            return service.getStudentbyId(id);\r\n        }}\r\n\r\nMapper class\r\n\r\n    import com.example.learnspring.model.Student;\r\n    import com.example.learnspring.model.StudentDTO;\r\n    import org.mapstruct.InjectionStrategy;\r\n    import org.mapstruct.Mapper;\r\n    import org.mapstruct.ReportingPolicy;\r\n    \r\n    @Mapper(componentModel = &quot;spring&quot;,\r\n            injectionStrategy = InjectionStrategy.CONSTRUCTOR,\r\n            unmappedTargetPolicy = ReportingPolicy.IGNORE,\r\n            unmappedSourcePolicy = ReportingPolicy.IGNORE)\r\n    public interface StudentMapper {\r\n        StudentDTO toDto(Student student);\r\n    \r\n    }\r\n\r\n\r\nAnd service class\r\n\r\n\r\n    @Service\r\n    public class StudentService {\r\n    \r\n        @Autowired\r\n        private StudentRepository repository;\r\n    \r\n        @Autowired\r\n        private StudentMapper studentMapper;\r\n    \r\n        public StudentDTO getStudentbyId(int id) {\r\n    \r\n            StudentDTO studentDTO = new StudentDTO();\r\n    \r\n            Optional&lt;Student&gt; student = repository.findById(id);\r\n            if (student.isPresent()) {\r\n                return studentMapper.toDto(student.get());\r\n            }\r\n            return studentDTO;\r\n        }\r\n    \r\n    }\r\n\r\nStudent\r\n\r\n\r\n    package com.example.learnspring.model;\r\n    \r\n    import lombok.*;\r\n    import lombok.experimental.FieldDefaults;\r\n    \r\n    import javax.persistence.*;\r\n    import javax.validation.constraints.Max;\r\n    import javax.validation.constraints.Min;\r\n    import javax.validation.constraints.NotNull;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;student&quot;)\r\n    @Setter\r\n    @Getter\r\n    @NoArgsConstructor\r\n    @Data\r\n    @FieldDefaults(level= AccessLevel.PRIVATE)\r\n    public class Student {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Column(name = &quot;id&quot;, nullable = false)\r\n        private int id;\r\n    \r\n        @Column(name = &quot;name&quot;)\r\n        @NotNull(message = &quot;Name cannot be null&quot;)\r\n        private String name;\r\n    \r\n        @Column(name = &quot;age&quot;)\r\n        @NotNull(message = &quot;Age cannot be null&quot;)\r\n        @Min(value = 15, message = &quot;Age should not be less than 15&quot;)\r\n        @Max(value = 65, message = &quot;Age should not be greater than 65&quot;)\r\n        private int age;\r\n    \r\n        public Student(String name, int age){\r\n            this.name=name;\r\n            this.age=age;\r\n        }\r\n    }\r\n\r\n\r\nStudentDTO\r\n\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Builder;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    @Data\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class StudentDTO {\r\n    \r\n        private String name;\r\n        private int age;\r\n    \r\n    }\r\n\r\n","title":"I get exception when I wrote valid id","body":"<p>After starting the application(there is no problem code run successfully) when I enter a valid id for calling my entity application gives this log. I try to solve it but I couldn't find the answer.</p>\n<p>Application log after I enter id(valid id)</p>\n<p>2022-08-25 14:21:35.603  INFO 14956 --- [nio-9090-exec-4] o.h.e.internal.DefaultLoadEventListener  : HHH000327: Error performing load command</p>\n<pre><code>org.hibernate.InstantiationException: No default constructor for entity:  : com.example.learnspring.model.Student\n    at org.hibernate.tuple.PojoInstantiator.instantiate(PojoInstantiator.java:85) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.tuple.PojoInstantiator.instantiate(PojoInstantiator.java:105) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.tuple.entity.AbstractEntityTuplizer.instantiate(AbstractEntityTuplizer.java:705) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.instantiate(AbstractEntityPersister.java:5295) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.internal.SessionImpl.instantiate(SessionImpl.java:1643) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.internal.SessionImpl.instantiate(SessionImpl.java:1627) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.loader.plan.exec.process.internal.EntityReferenceInitializerImpl.hydrateEntityState(EntityReferenceInitializerImpl.java:255) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.loader.plan.exec.process.internal.AbstractRowReader.readRow(AbstractRowReader.java:80) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.loader.plan.exec.internal.EntityLoadQueryDetails$EntityLoaderRowReader.readRow(EntityLoadQueryDetails.java:288) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.loader.plan.exec.process.internal.ResultSetProcessorImpl.extractRows(ResultSetProcessorImpl.java:157) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.loader.plan.exec.process.internal.ResultSetProcessorImpl.extractResults(ResultSetProcessorImpl.java:94) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:105) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.loader.entity.plan.AbstractLoadPlanBasedEntityLoader.load(AbstractLoadPlanBasedEntityLoader.java:285) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.doLoad(AbstractEntityPersister.java:4521) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:4511) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:571) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:539) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:208) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:327) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:108) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:74) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:118) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1231) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1220) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.internal.SessionImpl.access$2100(SessionImpl.java:202) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.doLoad(SessionImpl.java:2835) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.lambda$load$1(SessionImpl.java:2812) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.perform(SessionImpl.java:2768) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.load(SessionImpl.java:2812) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.internal.SessionImpl.find(SessionImpl.java:3400) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.internal.SessionImpl.find(SessionImpl.java:3367) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.22.jar:5.3.22]\n    at jdk.proxy2/jdk.proxy2.$Proxy105.find(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:an]\n\n\norg.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.22.jar:5.3.22]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.22.jar:5.3.22]\n        at jdk.proxy2/jdk.proxy2.$Proxy108.findById(Unknown Source) ~[na:na]\n        at com.example.learnspring.service.StudentService.getStudentbyId(StudentService.java:25) ~[classes/:na]\n        at com.example.learnspring.controller.StudentController.get(StudentController.java:35) ~[classes/:na]\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.22.jar:5.3.22]\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.22.jar:5.3.22]\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.22.jar:5.3.22]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.22.jar:5.3.22]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.22.jar:5.3.22]\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.22.jar:5.3.22]\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070) ~[spring-webmvc-5.3.22.jar:5.3.22]\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.22.jar:5.3.22]\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.22.jar:5.3.22]\n        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.22.jar:5.3.22]\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.22.jar:5.3.22]\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.65.jar:9.0.65]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.22.jar:5.3.22]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.22.jar:5.3.22]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.22.jar:5.3.22]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n    \n    2022-08-25 14:21:35.610 ERROR 14956 --- [nio-9090-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.orm.jpa.JpaSystemException: No default constructor for entity:  : com.example.learnspring.model.Student; nested exception is org.hibernate.InstantiationException: No default constructor for entity:  : com.example.learnspring.model.Student] with root cause\n    \n    org.hibernate.InstantiationException: No default constructor for entity:  : com.example.learnspring.model.Student\n        at org.hibernate.tuple.PojoInstantiator.instantiate(PojoInstantiator.java:85) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n        at org.hibernate.tuple.PojoInstantiator.instantiate(PojoInstantiator.java:105) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n        at org.hibernate.tuple.entity.AbstractEntityTuplizer.instantiate(AbstractEntityTuplizer.java:705) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n        at org.hibernate.persister.entity.AbstractEntityPersister.instantiate(AbstractEntityPersister.java:5295) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n        at org.hibernate.internal.SessionImpl.instantiate(SessionImpl.java:1643) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n        at org.hibernate.internal.SessionImpl.instantiate(SessionImpl.java:1627) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n        at org.hibernate.loader.plan.exec.process.internal.EntityReferenceInitializerImpl.hydrateEntityState(EntityReferenceInitializerImpl.java:255) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n        at org.hibernate.loader.plan.exec.process.internal.AbstractRowReader.readRow(AbstractRowReader.java:80) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n        at org.hibernate.loader.plan.exec.internal.EntityLoadQueryDetails$EntityLoaderRowReader.readRow(EntityLoadQueryDetails.java:288) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n        at org.hibernate.loader.plan.exec.process.internal.ResultSetProcessorImpl.extractRows(ResultSetProcessorImpl.java:157) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n        at org.hibernate.loader.plan.exec.process.internal.ResultSetProcessorImpl.extractResults(ResultSetProcessorImpl.java:94) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n        at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:105) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n        at org.hibernate.loader.entity.plan.AbstractLoadPlanBasedEntityLoader.load(AbstractLoadPlanBasedEntityLoader.java:285) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n        at org.hibernate.persister.entity.AbstractEntityPersister.doLoad(AbstractEntityPersister.java:4521) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n        at org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:4511) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n        at org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:571) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n        at org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:539) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n        at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:208) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n        at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:327) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n        at org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:108) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n        at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:74) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n        at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:118) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n        at org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1231) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n        at org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1220) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n        at org.hibernate.internal.SessionImpl.access$2100(SessionImpl.java:202) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n        at org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.doLoad(SessionImpl.java:2835) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n        at org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.lambda$load$1(SessionImpl.java:2812) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n        at org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.perform(SessionImpl.java:2768) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n        at org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.load(SessionImpl.java:2812) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n        at org.hibernate.internal.SessionImpl.find(SessionImpl.java:3400) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n        at org.hibernate.internal.SessionImpl.find(SessionImpl.java:3367) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n        at ...\n    org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n            at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.65.jar:9.0.65]\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n            at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.22.jar:5.3.22]\n            at \n    ...\n    org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n            at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n            at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n            at java.base/java.lang.Thread.run(Thread.java:833) ~[na:an]\n</code></pre>\n<p>And this is the log when I enter(invalid id doesn't exist in the database)</p>\n<pre><code>2022-08-25 14:26:13.190  WARN 14956 --- [nio-9090-exec-6] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpMediaTypeNotAcceptableException: Could not find acceptable representation]\n</code></pre>\n<p>My controller class</p>\n<pre><code>import com.example.learnspring.model.StudentDTO;\nimport com.example.learnspring.service.StudentService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RestController;\n\n\n@RestController\npublic class StudentController {\n\n\n    @Autowired\n    private  StudentService service;\n @GetMapping(&quot;/student/{id}&quot;)\n    public StudentDTO get(@PathVariable int id) {\n        return service.getStudentbyId(id);\n    }}\n</code></pre>\n<p>Mapper class</p>\n<pre><code>import com.example.learnspring.model.Student;\nimport com.example.learnspring.model.StudentDTO;\nimport org.mapstruct.InjectionStrategy;\nimport org.mapstruct.Mapper;\nimport org.mapstruct.ReportingPolicy;\n\n@Mapper(componentModel = &quot;spring&quot;,\n        injectionStrategy = InjectionStrategy.CONSTRUCTOR,\n        unmappedTargetPolicy = ReportingPolicy.IGNORE,\n        unmappedSourcePolicy = ReportingPolicy.IGNORE)\npublic interface StudentMapper {\n    StudentDTO toDto(Student student);\n\n}\n</code></pre>\n<p>And service class</p>\n<pre><code>@Service\npublic class StudentService {\n\n    @Autowired\n    private StudentRepository repository;\n\n    @Autowired\n    private StudentMapper studentMapper;\n\n    public StudentDTO getStudentbyId(int id) {\n\n        StudentDTO studentDTO = new StudentDTO();\n\n        Optional&lt;Student&gt; student = repository.findById(id);\n        if (student.isPresent()) {\n            return studentMapper.toDto(student.get());\n        }\n        return studentDTO;\n    }\n\n}\n</code></pre>\n<p>Student</p>\n<pre><code>package com.example.learnspring.model;\n\nimport lombok.*;\nimport lombok.experimental.FieldDefaults;\n\nimport javax.persistence.*;\nimport javax.validation.constraints.Max;\nimport javax.validation.constraints.Min;\nimport javax.validation.constraints.NotNull;\n\n@Entity\n@Table(name = &quot;student&quot;)\n@Setter\n@Getter\n@NoArgsConstructor\n@Data\n@FieldDefaults(level= AccessLevel.PRIVATE)\npublic class Student {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private int id;\n\n    @Column(name = &quot;name&quot;)\n    @NotNull(message = &quot;Name cannot be null&quot;)\n    private String name;\n\n    @Column(name = &quot;age&quot;)\n    @NotNull(message = &quot;Age cannot be null&quot;)\n    @Min(value = 15, message = &quot;Age should not be less than 15&quot;)\n    @Max(value = 65, message = &quot;Age should not be greater than 65&quot;)\n    private int age;\n\n    public Student(String name, int age){\n        this.name=name;\n        this.age=age;\n    }\n}\n</code></pre>\n<p>StudentDTO</p>\n<pre><code>import lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class StudentDTO {\n\n    private String name;\n    private int age;\n\n}\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":15461950,"reputation":55,"user_id":11154428,"display_name":"indayush"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661424692,"creation_date":1661424692,"answer_id":73486230,"question_id":73482827,"body_markdown":"Capture the text from the Element with the xpath - \r\n```\r\nWebElement e = driver.findElement(By.xpath(&quot;//div[@class=&#39;search-msg-count ng-binding&#39;]&quot;));\r\nString elementText = e.getText().trim();\r\n```\r\nThen split the string with &quot;:&quot;  - \r\n```\r\nString split[] = elementText.split(&quot;:&quot;);\r\n```\r\nYour required text will be in second array element. Get it &amp; replace entries word from it.\r\n```\r\nString finalValue = split[1].replace(&quot;entries&quot;,&quot;&quot;).trim();\r\nSystem.out.println(finalValue);\r\n```","title":"How to capture search results count in selenium java","body":"<p>Capture the text from the Element with the xpath -</p>\n<pre><code>WebElement e = driver.findElement(By.xpath(&quot;//div[@class='search-msg-count ng-binding']&quot;));\nString elementText = e.getText().trim();\n</code></pre>\n<p>Then split the string with &quot;:&quot;  -</p>\n<pre><code>String split[] = elementText.split(&quot;:&quot;);\n</code></pre>\n<p>Your required text will be in second array element. Get it &amp; replace entries word from it.</p>\n<pre><code>String finalValue = split[1].replace(&quot;entries&quot;,&quot;&quot;).trim();\nSystem.out.println(finalValue);\n</code></pre>\n"}],"owner":{"account_id":26155825,"reputation":1,"user_id":19843065,"display_name":"Radhika Thangaraj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1661424692,"creation_date":1661408821,"question_id":73482827,"body_markdown":" How to capture search result count.It varies each time I had tried with \r\n`int result = driver.findelements(by.xpath(&quot;&quot;)).size();` but always I&#39;m getting 0. XPath is correct.\r\n\r\nCode in website:\r\n\r\n    &lt;div class=&quot;search-msg-count ng-binding&quot;&gt;Search result count: 100 entries&lt;/div&gt;","title":"How to capture search results count in selenium java","body":"<p>How to capture search result count.It varies each time I had tried with\n<code>int result = driver.findelements(by.xpath(&quot;&quot;)).size();</code> but always I'm getting 0. XPath is correct.</p>\n<p>Code in website:</p>\n<pre><code>&lt;div class=&quot;search-msg-count ng-binding&quot;&gt;Search result count: 100 entries&lt;/div&gt;\n</code></pre>\n"},{"tags":["java","json","data-structures"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1661424580,"post_id":73486151,"comment_id":129771815,"body_markdown":"`Animals.get(&quot;Carnivores&quot;)` indicates you already have that map. Why are you trying to pass that ton an input stream? Please provide a [mcve].","body":"<code>Animals.get(&quot;Carnivores&quot;)</code> indicates you already have that map. Why are you trying to pass that ton an input stream? Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1661424691,"post_id":73486151,"comment_id":129771855,"body_markdown":"Note that you could use the `readTree()` method of `ObjectMapper` to get a tree represening your json which basically consists of nested maps and lists. Then just extract the &quot;carnivores&quot; sub map.","body":"Note that you could use the <code>readTree()</code> method of <code>ObjectMapper</code> to get a tree represening your json which basically consists of nested maps and lists. Then just extract the &quot;carnivores&quot; sub map."}],"owner":{"account_id":11491503,"reputation":1,"user_id":8422318,"display_name":"Ashutosh jha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661424661,"creation_date":1661424322,"question_id":73486151,"body_markdown":"Sorry guys if title dose not seems to be clear, I didn&#39;t know what to put on title exactly.\r\nSo, basically I am trying to convert a single json object into a map how could I possibly do it\r\nfor example I have json file named Animal\r\n\r\n    &#39;&#39;&#39;\r\n    {\r\n        &quot;Herbivores&quot;:&quot;Cow&quot;,\r\n        &quot;Carnivores&quot;:{&quot;Lion&quot;:&quot;Den&quot;,&quot;Chettah&quot;:&quot;Savannas&quot;,&quot;Tiger&quot;:&quot;liar&quot;},\r\n        &quot;Omnivores&quot;:&quot;Monkey&quot;\r\n    }\r\n    &#39;&#39;&#39;\r\nHow to convert only Carnivores into a map in java, like my expectation is:\r\n{Lion=Den,Chettah=Savannas,Tiger=liar}\r\n\r\nI have tried to read the value as a Input stream in java main file using fileInputStream\r\n\r\n    &#39;&#39;&#39;\r\n          InputStream getJsonValue = new InputStream(Animals.get(&quot;Carnivores&quot;));\r\n          ObjectMapper mapper = new ObjectMapper();\r\n\t\t\tMap&lt;String, String&gt; myMap = mapper.readValue(getJsonValue,Map.class);\r\n\r\n          System.out.println(myMap);\r\n    &#39;&#39;&#39;\r\nThis is giving me output as,\r\n\r\n    &#39;&#39;&#39;\r\n         {Lion=Den,Chettah=Savannas,Tiger=liar} (The filename, directory name, or volume label syntax is incorrect). \r\n    &#39;&#39;&#39;\r\n\r\nPlease let me know why &quot;**(The filename, directory name, or volume label syntax is incorrect).**&quot; appearing after printing all values and how to solve this.\r\n\r\nAlso please let me know if there is efficient way to solve this.\r\n\r\n","title":"How to convert existing json object into a java map","body":"<p>Sorry guys if title dose not seems to be clear, I didn't know what to put on title exactly.\nSo, basically I am trying to convert a single json object into a map how could I possibly do it\nfor example I have json file named Animal</p>\n<pre><code>'''\n{\n    &quot;Herbivores&quot;:&quot;Cow&quot;,\n    &quot;Carnivores&quot;:{&quot;Lion&quot;:&quot;Den&quot;,&quot;Chettah&quot;:&quot;Savannas&quot;,&quot;Tiger&quot;:&quot;liar&quot;},\n    &quot;Omnivores&quot;:&quot;Monkey&quot;\n}\n'''\n</code></pre>\n<p>How to convert only Carnivores into a map in java, like my expectation is:\n{Lion=Den,Chettah=Savannas,Tiger=liar}</p>\n<p>I have tried to read the value as a Input stream in java main file using fileInputStream</p>\n<pre><code>'''\n      InputStream getJsonValue = new InputStream(Animals.get(&quot;Carnivores&quot;));\n      ObjectMapper mapper = new ObjectMapper();\n        Map&lt;String, String&gt; myMap = mapper.readValue(getJsonValue,Map.class);\n\n      System.out.println(myMap);\n'''\n</code></pre>\n<p>This is giving me output as,</p>\n<pre><code>'''\n     {Lion=Den,Chettah=Savannas,Tiger=liar} (The filename, directory name, or volume label syntax is incorrect). \n'''\n</code></pre>\n<p>Please let me know why &quot;<strong>(The filename, directory name, or volume label syntax is incorrect).</strong>&quot; appearing after printing all values and how to solve this.</p>\n<p>Also please let me know if there is efficient way to solve this.</p>\n"},{"tags":["java","java-stream","collectors"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1661423195,"post_id":73485727,"comment_id":129771310,"body_markdown":"`flatMap` is the same as `map` except that the resulting type should specifically be a Stream, which is then &quot;flattened&quot;. If you were to do a normal `map` with the same function, you would get a `Stream&lt;Stream&lt;...&gt;&gt;`, which is usually not what you want. The &quot;flattening&quot; is a kind of &quot;unwrapping&quot; of Stream of Streams into a single Stream of items. A Collector is an argument given to the terminal operation `collect` which accumulates the stream element into some value, like a List. They are very different things.","body":"<code>flatMap</code> is the same as <code>map</code> except that the resulting type should specifically be a Stream, which is then &quot;flattened&quot;. If you were to do a normal <code>map</code> with the same function, you would get a <code>Stream&lt;Stream&lt;...&gt;&gt;</code>, which is usually not what you want. The &quot;flattening&quot; is a kind of &quot;unwrapping&quot; of Stream of Streams into a single Stream of items. A Collector is an argument given to the terminal operation <code>collect</code> which accumulates the stream element into some value, like a List. They are very different things."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1661423236,"post_id":73485727,"comment_id":129771324,"body_markdown":"What did you try so far? Note that we&#39;re here to help with specific questions but we&#39;re not doing the work for you :)","body":"What did you try so far? Note that we&#39;re here to help with specific questions but we&#39;re not doing the work for you :)"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1661423302,"post_id":73485727,"comment_id":129771346,"body_markdown":"In general you&#39;ll probably have to use a grouping collector in this case.","body":"In general you&#39;ll probably have to use a grouping collector in this case."},{"owner":{"account_id":4715695,"reputation":856,"user_id":3814889,"display_name":"Andrey E"},"score":0,"creation_date":1661423817,"post_id":73485727,"comment_id":129771543,"body_markdown":"You need to use collecttors.\n\nCollect to map in particular.","body":"You need to use collecttors.  Collect to map in particular."},{"owner":{"account_id":3863671,"reputation":1874,"user_id":3200736,"accept_rate":75,"display_name":"donnadulcinea"},"score":0,"creation_date":1661429353,"post_id":73485727,"comment_id":129773469,"body_markdown":"@thomas thank you. You&#39;re absolutely right, there are a lot of memes about questions like mine. (see the question score) The problem is that my codie didn&#39;t work at all, at the end I found one solution, but the accepted answer is much better than my messy one.","body":"@thomas thank you. You&#39;re absolutely right, there are a lot of memes about questions like mine. (see the question score) The problem is that my codie didn&#39;t work at all, at the end I found one solution, but the accepted answer is much better than my messy one."}],"answers":[{"tags":[],"owner":{"account_id":2975918,"reputation":755,"user_id":2526969,"display_name":"frascu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661424655,"creation_date":1661424655,"answer_id":73486220,"question_id":73485727,"body_markdown":"You can follow these steps:\r\n1. group tuple List by key \r\n2. map the to the object son\r\n3. collect to list\r\n4. convert map to a list of mothers\r\n```java\r\nMap&lt;String, List&lt;Son&gt;&gt; mapWithSons = tupleList.stream()\r\n        .collect(Collectors.groupingBy(t -&gt; t.key, //1\r\n                    Collectors.mapping(t -&gt; new Son(t.key_key, t.key_value), //2\r\n                       Collectors.toList()))); //3\r\n\r\nList&lt;Mother&gt; motherList = mapWithSons.entrySet()\r\n        .stream()\r\n        .map(entry -&gt; new Mother(entry.getKey(), entry.getValue())) //4\r\n        .toList();\r\n```","title":"Trasform a Tuple to List of Objects with Java Streams","body":"<p>You can follow these steps:</p>\n<ol>\n<li>group tuple List by key</li>\n<li>map the to the object son</li>\n<li>collect to list</li>\n<li>convert map to a list of mothers</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, List&lt;Son&gt;&gt; mapWithSons = tupleList.stream()\n        .collect(Collectors.groupingBy(t -&gt; t.key, //1\n                    Collectors.mapping(t -&gt; new Son(t.key_key, t.key_value), //2\n                       Collectors.toList()))); //3\n\nList&lt;Mother&gt; motherList = mapWithSons.entrySet()\n        .stream()\n        .map(entry -&gt; new Mother(entry.getKey(), entry.getValue())) //4\n        .toList();\n</code></pre>\n"}],"owner":{"account_id":3863671,"reputation":1874,"user_id":3200736,"accept_rate":75,"display_name":"donnadulcinea"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1600,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":73486220,"answer_count":1,"score":-3,"last_activity_date":1661424655,"creation_date":1661422263,"question_id":73485727,"body_markdown":"Given a `List&lt;Tuple&gt;` from a class shaped like this:\r\n\r\n    class Tuple {\r\n      String key,\r\n      String key_key,\r\n      String key_value\r\n    }\r\n\r\nand given two classes:\r\n\r\n    class Mother {\r\n      String key,\r\n      List&lt;Son&gt; sons\r\n    }\r\n\r\n    class Son {\r\n      String key,\r\n      String value\r\n    }\r\n\r\nwhich way I can map the tuples into the Mother class, for example:\r\n\r\n    k1, kk1, kv1\r\n    k1, kk1, kv2\r\n    k2, kk3, kv3\r\n\r\nwould result in:\r\n\r\n    k1 -&gt; [[kk1, kv1], [kk1, kv2]]\r\n    k2 -&gt; [[kk3, kv3]]\r\n\r\nI&#39;m completely confused between flatmap and collectors.","title":"Trasform a Tuple to List of Objects with Java Streams","body":"<p>Given a <code>List&lt;Tuple&gt;</code> from a class shaped like this:</p>\n<pre><code>class Tuple {\n  String key,\n  String key_key,\n  String key_value\n}\n</code></pre>\n<p>and given two classes:</p>\n<pre><code>class Mother {\n  String key,\n  List&lt;Son&gt; sons\n}\n\nclass Son {\n  String key,\n  String value\n}\n</code></pre>\n<p>which way I can map the tuples into the Mother class, for example:</p>\n<pre><code>k1, kk1, kv1\nk1, kk1, kv2\nk2, kk3, kv3\n</code></pre>\n<p>would result in:</p>\n<pre><code>k1 -&gt; [[kk1, kv1], [kk1, kv2]]\nk2 -&gt; [[kk3, kv3]]\n</code></pre>\n<p>I'm completely confused between flatmap and collectors.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661423939,"creation_date":1661423939,"answer_id":73486074,"question_id":73485979,"body_markdown":"As the exception message (and the comment within the `&lt;servlet&gt;` element tells you: you have no `&lt;servlet-class&gt;` defined within the `&lt;servlet&gt;` element.\r\n\r\nYour web.xml needs to at least look like this:\r\n\r\n      &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee\r\n          http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\r\n             version=&quot;3.0&quot;&gt;\r\n    \r\n        &lt;servlet&gt;\r\n    \r\n            &lt;!--        each project (in this case the bikeDealer) is bootstrapped with the a servlet--&gt;\r\n            &lt;!--        this is basically the name of the servlet--&gt;\r\n            &lt;servlet-name&gt;jakarta.ws.rs.core.Application&lt;/servlet-name&gt;\r\n    \r\n            &lt;!--        firstly there should be servlet-class name to specify which class is being used by the servlet.--&gt;\r\n            &lt;servlet-class&gt;jakarta.ws.rs.core.Application&lt;/servlet-class&gt;\r\n\r\n            &lt;!--        Then there should be init param thingy that should specify which exact package to look for when--&gt;\r\n            &lt;!--        the url has for example &quot;bikes&quot; after the &quot;rest&quot; thingy\r\n                        ** BECAUSE then JERSEY WOULD KNOW WHICH PACKAGE TO LOOK FOR AND\r\n                        THEN he can see which class has the annotation for the path--&gt;\r\n    \r\n        &lt;/servlet&gt;\r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;jakarta.ws.rs.core.Application&lt;/servlet-name&gt;\r\n    \r\n            &lt;!--        any request what is coming on this project (GET, POST, PUT, DELETE) is been handled by the this servlet class--&gt;\r\n            &lt;!--        that servlet is basically mapped with the url pattern &quot;rest&quot;, so after that &quot;rest&quot; what we put is handled by the\r\n                        &quot;JERSEY&quot; servlet\r\n                        What the JERSEY servlet do is basically it reads the code that we write (which is basically the class that we put after\r\n                        the rest) and processes it. --&gt;\r\n    \r\n            &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n    \r\n        &lt;welcome-file-list&gt;\r\n            &lt;welcome-file&gt;sign-in.html&lt;/welcome-file&gt;\r\n        &lt;/welcome-file-list&gt;\r\n    &lt;/web-app&gt;\r\n\r\nI guessed the name of the servlet class from the servlet name.","title":"No servlet class has been specified for servlet [jakarta.ws.rs.core.Application]","body":"<p>As the exception message (and the comment within the <code>&lt;servlet&gt;</code> element tells you: you have no <code>&lt;servlet-class&gt;</code> defined within the <code>&lt;servlet&gt;</code> element.</p>\n<p>Your web.xml needs to at least look like this:</p>\n<pre><code>  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee\n      http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\n         version=&quot;3.0&quot;&gt;\n\n    &lt;servlet&gt;\n\n        &lt;!--        each project (in this case the bikeDealer) is bootstrapped with the a servlet--&gt;\n        &lt;!--        this is basically the name of the servlet--&gt;\n        &lt;servlet-name&gt;jakarta.ws.rs.core.Application&lt;/servlet-name&gt;\n\n        &lt;!--        firstly there should be servlet-class name to specify which class is being used by the servlet.--&gt;\n        &lt;servlet-class&gt;jakarta.ws.rs.core.Application&lt;/servlet-class&gt;\n\n        &lt;!--        Then there should be init param thingy that should specify which exact package to look for when--&gt;\n        &lt;!--        the url has for example &quot;bikes&quot; after the &quot;rest&quot; thingy\n                    ** BECAUSE then JERSEY WOULD KNOW WHICH PACKAGE TO LOOK FOR AND\n                    THEN he can see which class has the annotation for the path--&gt;\n\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;jakarta.ws.rs.core.Application&lt;/servlet-name&gt;\n\n        &lt;!--        any request what is coming on this project (GET, POST, PUT, DELETE) is been handled by the this servlet class--&gt;\n        &lt;!--        that servlet is basically mapped with the url pattern &quot;rest&quot;, so after that &quot;rest&quot; what we put is handled by the\n                    &quot;JERSEY&quot; servlet\n                    What the JERSEY servlet do is basically it reads the code that we write (which is basically the class that we put after\n                    the rest) and processes it. --&gt;\n\n        &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n    &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;sign-in.html&lt;/welcome-file&gt;\n    &lt;/welcome-file-list&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>I guessed the name of the servlet class from the servlet name.</p>\n"}],"owner":{"account_id":26157394,"reputation":1,"user_id":19844469,"display_name":"Martina Fern&#225;ndez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":733,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661423939,"creation_date":1661423539,"question_id":73485979,"body_markdown":"When i try any path I get status 500  No servlet class has been specified for servlet [jakarta.ws.rs.core.Application] the first time and when i do it again it changes to status 404.\r\n\r\nMy web.xml:\r\n\r\n\r\n      &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee\r\n          http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\r\n             version=&quot;3.0&quot;&gt;\r\n    \r\n    &lt;servlet&gt;\r\n    \r\n            &lt;!--\t\teach project (in this case the bikeDealer) is bootstrapped with the a servlet--&gt;\r\n            &lt;!--\t\tthis is basically the name of the servlet--&gt;\r\n            &lt;servlet-name&gt;jakarta.ws.rs.core.Application&lt;/servlet-name&gt;\r\n    \r\n            &lt;!--\t\tfirstly there should be servlet-class name to specify which class is being used by the servlet.--&gt;\r\n            &lt;!--\t\tThen there should be init param thingy that should specify which exact package to look for when--&gt;\r\n            &lt;!--\t\tthe url has for example &quot;bikes&quot; after the &quot;rest&quot; thingy\r\n                        ** BECAUSE then JERSEY WOULD KNOW WHICH PACKAGE TO LOOK FOR AND\r\n                        THEN he can see which class has the annotation for the path--&gt;\r\n    \r\n        &lt;/servlet&gt;\r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;jakarta.ws.rs.core.Application&lt;/servlet-name&gt;\r\n    \r\n            &lt;!--\t\tany request what is coming on this project (GET, POST, PUT, DELETE) is been handled by the this servlet class--&gt;\r\n            &lt;!--\t\tthat servlet is basically mapped with the url pattern &quot;rest&quot;, so after that &quot;rest&quot; what we put is handled by the\r\n                        &quot;JERSEY&quot; servlet\r\n                        What the JERSEY servlet do is basically it reads the code that we write (which is basically the class that we put after\r\n                        the rest) and processes it. --&gt;\r\n    \r\n            &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n    \r\n        &lt;welcome-file-list&gt;\r\n            &lt;welcome-file&gt;sign-in.html&lt;/welcome-file&gt;\r\n        &lt;/welcome-file-list&gt;\r\n    &lt;/web-app&gt;\r\n\r\npom.xml: \r\n[pom][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sMQ52.jpg\r\n","title":"No servlet class has been specified for servlet [jakarta.ws.rs.core.Application]","body":"<p>When i try any path I get status 500  No servlet class has been specified for servlet [jakarta.ws.rs.core.Application] the first time and when i do it again it changes to status 404.</p>\n<p>My web.xml:</p>\n<pre><code>  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee\n      http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\n         version=&quot;3.0&quot;&gt;\n\n&lt;servlet&gt;\n\n        &lt;!--        each project (in this case the bikeDealer) is bootstrapped with the a servlet--&gt;\n        &lt;!--        this is basically the name of the servlet--&gt;\n        &lt;servlet-name&gt;jakarta.ws.rs.core.Application&lt;/servlet-name&gt;\n\n        &lt;!--        firstly there should be servlet-class name to specify which class is being used by the servlet.--&gt;\n        &lt;!--        Then there should be init param thingy that should specify which exact package to look for when--&gt;\n        &lt;!--        the url has for example &quot;bikes&quot; after the &quot;rest&quot; thingy\n                    ** BECAUSE then JERSEY WOULD KNOW WHICH PACKAGE TO LOOK FOR AND\n                    THEN he can see which class has the annotation for the path--&gt;\n\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;jakarta.ws.rs.core.Application&lt;/servlet-name&gt;\n\n        &lt;!--        any request what is coming on this project (GET, POST, PUT, DELETE) is been handled by the this servlet class--&gt;\n        &lt;!--        that servlet is basically mapped with the url pattern &quot;rest&quot;, so after that &quot;rest&quot; what we put is handled by the\n                    &quot;JERSEY&quot; servlet\n                    What the JERSEY servlet do is basically it reads the code that we write (which is basically the class that we put after\n                    the rest) and processes it. --&gt;\n\n        &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n    &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;sign-in.html&lt;/welcome-file&gt;\n    &lt;/welcome-file-list&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>pom.xml:\n<a href=\"https://i.stack.imgur.com/sMQ52.jpg\" rel=\"nofollow noreferrer\">pom</a></p>\n"},{"tags":["java","process"],"comments":[{"owner":{"account_id":41228,"reputation":24523,"user_id":119772,"accept_rate":75,"display_name":"Suraj Chandran"},"score":0,"creation_date":1298876733,"post_id":5138946,"comment_id":5766819,"body_markdown":"where does this  &quot;BUILD SUCCESSFUL &quot; come in between","body":"where does this  &quot;BUILD SUCCESSFUL &quot; come in between"},{"owner":{"account_id":168371,"reputation":16522,"user_id":393786,"accept_rate":78,"display_name":"mhshams"},"score":0,"creation_date":1298877203,"post_id":5138946,"comment_id":5766870,"body_markdown":"@Suraj : its netbeans default message that will show after an application termination.","body":"@Suraj : its netbeans default message that will show after an application termination."},{"owner":{"account_id":2674136,"reputation":436,"user_id":2310897,"display_name":"Milos Gavrilov"},"score":1,"creation_date":1410342337,"post_id":5138946,"comment_id":40285846,"body_markdown":"I know that this is quite an old conversation, but process.destroy() works with JDK 1.7.0_51.","body":"I know that this is quite an old conversation, but process.destroy() works with JDK 1.7.0_51."}],"answers":[{"tags":[],"owner":{"account_id":282709,"reputation":2392,"user_id":579777,"display_name":"sdorra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1298877428,"creation_date":1298877428,"answer_id":5139156,"question_id":5138946,"body_markdown":"I could be a problem with the cancel method of the timer. try to start the timer as daemon thread.\r\n\r\n    Timer t = new Timer(true);","title":"Process Builder and Process in Java - how to execute a process with a timeout :?","body":"<p>I could be a problem with the cancel method of the timer. try to start the timer as daemon thread.</p>\n\n<pre><code>Timer t = new Timer(true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1661423938,"creation_date":1298934375,"answer_id":5148641,"question_id":5138946,"body_markdown":"It is a [bug][1] in Java&#39;s `Process.destroy()` implementation on Windows. The problem is that the batch-script (or its executing shell) is killed, but does not kill its own child processes (the ping here). Thus, ping is still running after the `.destroy()`, and also after the `.waitFor()`. But somehow the VM still waits for the ping to finish before finishing itself.\r\n\r\nIt seems there is nothing you can do here from the Java side to really kill the ping reliably.\r\n\r\nYou may think about using `start` (in your batch script or outside) to invoke your ping as a separate process.\r\n\r\n(See also this [previous discussion][2].)\r\n\r\nOr change to a unix-like operation system.\r\n\r\n\r\n  [1]: https://bugs.openjdk.org/browse/JDK-4770092\r\n  [2]: https://stackoverflow.com/questions/801609/java-processbuilder-process-destroy-not-killing-child-processes-in-winxp","title":"Process Builder and Process in Java - how to execute a process with a timeout :?","body":"<p>It is a <a href=\"https://bugs.openjdk.org/browse/JDK-4770092\" rel=\"nofollow noreferrer\">bug</a> in Java's <code>Process.destroy()</code> implementation on Windows. The problem is that the batch-script (or its executing shell) is killed, but does not kill its own child processes (the ping here). Thus, ping is still running after the <code>.destroy()</code>, and also after the <code>.waitFor()</code>. But somehow the VM still waits for the ping to finish before finishing itself.</p>\n<p>It seems there is nothing you can do here from the Java side to really kill the ping reliably.</p>\n<p>You may think about using <code>start</code> (in your batch script or outside) to invoke your ping as a separate process.</p>\n<p>(See also this <a href=\"https://stackoverflow.com/questions/801609/java-processbuilder-process-destroy-not-killing-child-processes-in-winxp\">previous discussion</a>.)</p>\n<p>Or change to a unix-like operation system.</p>\n"},{"tags":[],"owner":{"account_id":2168554,"reputation":709,"user_id":1921113,"display_name":"Sergey Grigoriev"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1393864294,"creation_date":1393863951,"answer_id":22151944,"question_id":5138946,"body_markdown":"If you use Unix/Linux, then write a wrapper bash shell script to interrupt an external command by timeout, then call the wrapper from Java.\r\n\r\nThe wrapper script looks like\r\n\r\n \r\n\r\n    #!/bin/bash\r\n    timeout 60 &lt;your command&gt;\r\n\r\nYou can detect if timeout expired by checking the script exit code which is 124 in case of timeout\r\n\r\nSee \r\n\r\n&gt; man timeout\r\n\r\n\r\n\r\n \r\n\r\n\r\n","title":"Process Builder and Process in Java - how to execute a process with a timeout :?","body":"<p>If you use Unix/Linux, then write a wrapper bash shell script to interrupt an external command by timeout, then call the wrapper from Java.</p>\n\n<p>The wrapper script looks like</p>\n\n<pre><code>#!/bin/bash\ntimeout 60 &lt;your command&gt;\n</code></pre>\n\n<p>You can detect if timeout expired by checking the script exit code which is 124 in case of timeout</p>\n\n<p>See </p>\n\n<blockquote>\n  <p>man timeout</p>\n</blockquote>\n"}],"owner":{"account_id":168371,"reputation":16522,"user_id":393786,"accept_rate":78,"display_name":"mhshams"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15407,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"closed_date":1400162167,"accepted_answer_id":5148641,"answer_count":3,"score":5,"last_activity_date":1661423938,"creation_date":1298875186,"question_id":5138946,"body_markdown":"I need to execute an external batch file in java with a specific timeout. which means that if the batch execution take longer than specified timeout, i need to cancel the execution.\r\n\r\nhere is a sample code that i wrote:\r\n\r\n\r\n    public static void main(String[] args) throws IOException, InterruptedException {\r\n        ProcessBuilder p = new ProcessBuilder(&quot;c:\\\\wait.bat&quot;, &quot;25&quot;);  // batch file execution will take 25 seconds.\r\n        final long l = System.currentTimeMillis();\r\n        System.out.println(&quot;starting...&quot; + (System.currentTimeMillis() - l));\r\n        final Process command = p.start();\r\n        System.out.println(&quot;started...&quot; + (System.currentTimeMillis() - l));\r\n    \r\n        Timer t = new Timer();\r\n        t.schedule(new TimerTask() {\r\n    \r\n            @Override\r\n            public void run() {\r\n                command.destroy();\r\n            }\r\n        }, 5000);   // it will kill the process after 5 seconds (if it&#39;s not finished yet).\r\n        int i = command.waitFor();\r\n        t.cancel();\r\n        System.out.println(&quot;done...&quot; + (System.currentTimeMillis() - l));\r\n        System.out.println(&quot;result : &quot; + i);\r\n    \r\n        System.out.println(&quot;Really Done...&quot; + (System.currentTimeMillis() - l));\r\n    }\r\n\r\n\r\nthe batch file &quot;wait.bat&quot; is something like this:\r\n\r\n    @echo off\r\n    echo starting the process...\r\n    @ping 127.0.0.1 -n 2 -w 1000 &gt; nul\r\n    @ping 127.0.0.1 -n %1% -w 1000&gt; nul\r\n    echo process finished succesfully\r\n    @echo on\r\n\r\n\r\nAs you see in the code, batch file will take  25 seconds to finish (first line in main method)  and the Timer will destroy the command  after 5 seconds.\r\n\r\nhere is the output of my code:\r\n\r\n    starting...0\r\n    started...0\r\n    done...5000\r\n    result : 1\r\n    Really Done...5000\r\n    BUILD SUCCESSFUL (total time: 25 seconds)\r\n\r\nas you see in output, the last line (&quot;Really Done...&quot;) is executed in 5th second but the application is finished  after 25 seconds.\r\n\r\nmy question is that : even though i called the destroy method in my timer, why jvm still waiting for the process to be finished ? \r\n\r\n","title":"Process Builder and Process in Java - how to execute a process with a timeout :?","body":"<p>I need to execute an external batch file in java with a specific timeout. which means that if the batch execution take longer than specified timeout, i need to cancel the execution.</p>\n\n<p>here is a sample code that i wrote:</p>\n\n<pre><code>public static void main(String[] args) throws IOException, InterruptedException {\n    ProcessBuilder p = new ProcessBuilder(\"c:\\\\wait.bat\", \"25\");  // batch file execution will take 25 seconds.\n    final long l = System.currentTimeMillis();\n    System.out.println(\"starting...\" + (System.currentTimeMillis() - l));\n    final Process command = p.start();\n    System.out.println(\"started...\" + (System.currentTimeMillis() - l));\n\n    Timer t = new Timer();\n    t.schedule(new TimerTask() {\n\n        @Override\n        public void run() {\n            command.destroy();\n        }\n    }, 5000);   // it will kill the process after 5 seconds (if it's not finished yet).\n    int i = command.waitFor();\n    t.cancel();\n    System.out.println(\"done...\" + (System.currentTimeMillis() - l));\n    System.out.println(\"result : \" + i);\n\n    System.out.println(\"Really Done...\" + (System.currentTimeMillis() - l));\n}\n</code></pre>\n\n<p>the batch file \"wait.bat\" is something like this:</p>\n\n<pre><code>@echo off\necho starting the process...\n@ping 127.0.0.1 -n 2 -w 1000 &gt; nul\n@ping 127.0.0.1 -n %1% -w 1000&gt; nul\necho process finished succesfully\n@echo on\n</code></pre>\n\n<p>As you see in the code, batch file will take  25 seconds to finish (first line in main method)  and the Timer will destroy the command  after 5 seconds.</p>\n\n<p>here is the output of my code:</p>\n\n<pre><code>starting...0\nstarted...0\ndone...5000\nresult : 1\nReally Done...5000\nBUILD SUCCESSFUL (total time: 25 seconds)\n</code></pre>\n\n<p>as you see in output, the last line (\"Really Done...\") is executed in 5th second but the application is finished  after 25 seconds.</p>\n\n<p>my question is that : even though i called the destroy method in my timer, why jvm still waiting for the process to be finished ? </p>\n"},{"tags":["java","xcode","automation"],"comments":[{"owner":{"account_id":5031002,"reputation":1659,"user_id":4041176,"accept_rate":71,"display_name":"Gabriel Ilharco"},"score":0,"creation_date":1452774063,"post_id":34789381,"comment_id":57322166,"body_markdown":"Try using `pSimulator.waitFor();` before the `pSimulator.destroy();`","body":"Try using <code>pSimulator.waitFor();</code> before the <code>pSimulator.destroy();</code>"}],"answers":[{"tags":[],"owner":{"account_id":4153318,"reputation":19445,"user_id":3405171,"display_name":"v.ladynev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661423888,"creation_date":1452774121,"answer_id":34789499,"question_id":34789381,"body_markdown":"Looks like it is a [bug](https://bugs.openjdk.org/browse/JDK-4770092) in Java&#39;s Process.destroy() implementation on Windows. Refer [this](https://stackoverflow.com/a/5148641/3405171).\r\n\r\nYou can try to use [Apache Commons Exec](https://commons.apache.org/proper/commons-exec/tutorial.html).","title":"Process.destroy is not working","body":"<p>Looks like it is a <a href=\"https://bugs.openjdk.org/browse/JDK-4770092\" rel=\"nofollow noreferrer\">bug</a> in Java's Process.destroy() implementation on Windows. Refer <a href=\"https://stackoverflow.com/a/5148641/3405171\">this</a>.</p>\n<p>You can try to use <a href=\"https://commons.apache.org/proper/commons-exec/tutorial.html\" rel=\"nofollow noreferrer\">Apache Commons Exec</a>.</p>\n"}],"owner":{"account_id":7636017,"reputation":1,"user_id":5789563,"display_name":"Evgeni"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1799,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661423888,"creation_date":1452773706,"question_id":34789381,"body_markdown":"Im trying to kill a process from my JAVA code:\r\n\r\n\r\n        File file = new File(&quot;c://test//test.jar&quot;);\r\n        String folderToFile = file.getAbsolutePath();\r\n        String filePath = folderToFile.substring(0,folderToFile.lastIndexOf(File.separator));\r\n        String[] cmd = String.format(&quot;cmd /c java -jar %s&quot;, file.getName()).split(&quot; &quot;);\r\n        Process pSimulator = (new ProcessBuilder(cmd))\r\n                .directory(new File(filePath))\r\n                .redirectErrorStream(true)\r\n                .start();\r\n\r\n        Thread.sleep(300);\r\n        pSimulator.destroy();\r\nI don&#39;t know why but the process that i&#39;m trying to kill remains open...\r\nthe &quot;test.jar&quot; that i&#39;m running here is just a rendom jar that i&#39;ve picked on the web...\r\n\r\nany ideas? ","title":"Process.destroy is not working","body":"<p>Im trying to kill a process from my JAVA code:</p>\n\n<pre><code>    File file = new File(\"c://test//test.jar\");\n    String folderToFile = file.getAbsolutePath();\n    String filePath = folderToFile.substring(0,folderToFile.lastIndexOf(File.separator));\n    String[] cmd = String.format(\"cmd /c java -jar %s\", file.getName()).split(\" \");\n    Process pSimulator = (new ProcessBuilder(cmd))\n            .directory(new File(filePath))\n            .redirectErrorStream(true)\n            .start();\n\n    Thread.sleep(300);\n    pSimulator.destroy();\n</code></pre>\n\n<p>I don't know why but the process that i'm trying to kill remains open...\nthe \"test.jar\" that i'm running here is just a rendom jar that i've picked on the web...</p>\n\n<p>any ideas? </p>\n"},{"tags":["java","mongodb","dropwizard","mongojack"],"comments":[{"owner":{"account_id":3189466,"reputation":22172,"user_id":2694184,"accept_rate":48,"display_name":"Gibbs"},"score":0,"creation_date":1661347582,"post_id":73473579,"comment_id":129750585,"body_markdown":"Share some sample input documents. Seems some problem with the query.","body":"Share some sample input documents. Seems some problem with the query."},{"owner":{"account_id":25785912,"reputation":52,"user_id":19530736,"display_name":"CuriousCat"},"score":0,"creation_date":1661348421,"post_id":73473579,"comment_id":129751000,"body_markdown":"@Gibbs could you clarify what you mean by input documents?","body":"@Gibbs could you clarify what you mean by input documents?"},{"owner":{"account_id":25785912,"reputation":52,"user_id":19530736,"display_name":"CuriousCat"},"score":0,"creation_date":1661349105,"post_id":73473579,"comment_id":129751339,"body_markdown":"I have made an update to the question. Kindly check above. I appreciate","body":"I have made an update to the question. Kindly check above. I appreciate"}],"answers":[{"tags":[],"owner":{"account_id":25785912,"reputation":52,"user_id":19530736,"display_name":"CuriousCat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661423803,"creation_date":1661423803,"answer_id":73486041,"question_id":73473579,"body_markdown":"I figured out what the issue is. I was using a non-existent field in the filter &quot;successfulTransactionInfo.totalTransactionCount&quot;. The actual field is &quot;successfulTransactionInfo.transactionCount&quot;. This gave me the same outcome as the query from the db directly. ","title":"How to fix limit and orderBy in Mongodb using Java","body":"<p>I figured out what the issue is. I was using a non-existent field in the filter &quot;successfulTransactionInfo.totalTransactionCount&quot;. The actual field is &quot;successfulTransactionInfo.transactionCount&quot;. This gave me the same outcome as the query from the db directly.</p>\n"}],"owner":{"account_id":25785912,"reputation":52,"user_id":19530736,"display_name":"CuriousCat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73486041,"answer_count":1,"score":0,"last_activity_date":1661423803,"creation_date":1661345705,"question_id":73473579,"body_markdown":"I am trying to fetch a list of documents using specified filters. I want to limit the output to 10 and orderBy a column of type long(totalTransactionCount that is found in the sample data posted below). However, the output I get is just 8 instead of 10, there are over 100 records in the collection that meets the requirement. gged the size of the arraylist, it returned 10. This implies that the issue is not coming from the arrayList rather from my loop. \r\n\r\nHere is the code\r\n\r\n     Bson filter = Filters.and(Filters.eq(&quot;type&quot;, &quot;CASH_OUT&quot;),\r\n                    Filters.exists(&quot;successfulTransactionInfo.totalTransactionAmount&quot;),\r\n                    AnalyticFilters.agentsFilter(queryParams));\r\n          \r\n    \r\n            Bson orderBySort = orderBy(ascending(&quot;successfulTransactionInfo.totalTransactionCount&quot;));\r\n    \r\n            ArrayList&lt;TransactionAnalytic&gt; transactionAnalytics = transactionAnalyticCollection.find(filter).\r\n                    sort(orderBySort).limit(10).into(new ArrayList&lt;&gt;());\r\n\r\n     Set&lt;String&gt; agentIds = new HashSet&lt;&gt;();\r\n\r\n        transactionAnalytics.forEach(transaction -&gt;{\r\n            log.info(&quot;Here is the list of agentIds fetchec {}&quot;, agentIds);\r\n            agentIds.add(transaction.getAgentID());\r\n            try {\r\n                BulkAgentInfoResponse agentPhoneNumber = getAgentPhoneNumber(agentIds, token);\r\n                agentPhoneNumber.getData().forEach(tranx -&gt;{\r\n                    if(tranx.getAgentID().equalsIgnoreCase(transaction.getAgentID())){\r\n                        String name = tranx.getFirstName() + &quot; &quot; + tranx.getLastName();\r\n                        result.put(transaction.getAgentID(), new AgentPerformanceDto(name,\r\n                                transaction.getAgentID(), tranx.getPhoneNumber(), transaction.getSuccessfulTransactionInfo().getTotalTransactionAmount(),\r\n                                transaction.getSuccessfulTransactionInfo().getTransactionCount()));\r\n                    }\r\n                });\r\n\r\n            } catch (ExecutionException | IOException | InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n\r\n        });\r\n        return result;\r\nI am currently not passing anything into the query params therefore it is using the default parameter. I have tried to skip 2 (skip(2) but I still get 8 records instead of 10. \r\n\r\nThis is a sample of the response data. I am ordering by totalTransactionCount. The one with totalTransaction is meant to be at the top and it should follow suit.\r\n\r\n    &quot;data&quot;: [\r\n            {\r\n                &quot;agentName&quot;: &quot;job o ajari&quot;,\r\n                &quot;agentID&quot;: &quot;0001381&quot;,\r\n                &quot;phoneNumber&quot;: &quot;01223445&quot;,\r\n                &quot;cashOutAmount&quot;: 51466.0,\r\n                &quot;cashOutCount&quot;: 7\r\n            },\r\n            {\r\n                &quot;agentName&quot;: &quot;mabel ekporo&quot;,\r\n                &quot;agentID&quot;: &quot;0001437&quot;,\r\n                &quot;phoneNumber&quot;: &quot;01223445&quot;,\r\n                &quot;cashOutAmount&quot;: 459899.25,\r\n                &quot;cashOutCount&quot;: 7\r\n            },\r\n            {\r\n                &quot;agentName&quot;: &quot;zion son&quot;,\r\n                &quot;agentID&quot;: &quot;0000578&quot;,\r\n                &quot;phoneNumber&quot;: &quot;01223445&quot;,\r\n                &quot;cashOutAmount&quot;: 159317.5,\r\n                &quot;cashOutCount&quot;: 6\r\n            },\r\n            {\r\n                &quot;agentName&quot;: &quot;tukur saidu&quot;,\r\n                &quot;agentID&quot;: &quot;0001304&quot;,\r\n                &quot;phoneNumber&quot;: &quot;01223445&quot;,\r\n                &quot;cashOutAmount&quot;: 5050.0,\r\n                &quot;cashOutCount&quot;: 1\r\n            },\r\n            {\r\n                &quot;agentName&quot;: &quot;obed eneh&quot;,\r\n                &quot;agentID&quot;: &quot;0000885&quot;,\r\n                &quot;phoneNumber&quot;: &quot;01223445&quot;,\r\n                &quot;cashOutAmount&quot;: 44080.75,\r\n                &quot;cashOutCount&quot;: 6\r\n            },\r\n            {\r\n                &quot;agentName&quot;: &quot;bolanle olarotimi&quot;,\r\n                &quot;agentID&quot;: &quot;0000995&quot;,\r\n                &quot;phoneNumber&quot;: &quot;01223445&quot;,\r\n                &quot;cashOutAmount&quot;: 41892.5,\r\n                &quot;cashOutCount&quot;: 8\r\n            },\r\n            {\r\n                &quot;agentName&quot;: &quot;Blessing Nana Mathew&quot;,\r\n                &quot;agentID&quot;: &quot;0001487&quot;,\r\n                &quot;phoneNumber&quot;: &quot;01223445&quot;,\r\n                &quot;cashOutAmount&quot;: 10000.0,\r\n                &quot;cashOutCount&quot;: 1\r\n            },\r\n            {\r\n                &quot;agentName&quot;: &quot;anene chinonso&quot;,\r\n                &quot;agentID&quot;: &quot;0001585&quot;,\r\n                &quot;phoneNumber&quot;: &quot;01223445&quot;,\r\n                &quot;cashOutAmount&quot;: 10300.0,\r\n                &quot;cashOutCount&quot;: 1\r\n            }\r\n        ]\r\n\r\nThis is the input filter here. Like I stated earlier, I am not passing anything so, it&#39;s going to use the default value which is the current date minus 1. The collection contains data from August 1st - 22nd. Thus, there are over 100 records that meets the requirement.\r\n\r\n    public static Bson agentsFilter(MultivaluedMap&lt;String, String&gt; queryParams) throws ParseException{\r\n            Bson filter = new Document();\r\n            String startDate = queryParams.getFirst(&quot;startDate&quot;);\r\n    \r\n            String endDate = queryParams.getFirst(&quot;endDate&quot;);\r\n    \r\n            if (Objects.nonNull(startDate) &amp;&amp; Objects.nonNull(endDate)) {\r\n                Date date1 = new SimpleDateFormat(DATE_FORMAT).parse(startDate);\r\n                Date date2 = DateUtils.addHours(new SimpleDateFormat(DATE_FORMAT).parse(endDate), 24);\r\n                filter = Filters.and(\r\n                        filter,\r\n                        Filters.and(\r\n                                Filters.gte(CREATED_AT, date1),\r\n                                Filters.lte(CREATED_AT, date2)\r\n                        )\r\n                );\r\n            } else{\r\n                Date defaultStartDate =  new SimpleDateFormat(DATE_FORMAT)\r\n                        .parse(LocalDate.now().minusMonths(1).toString() );\r\n                filter = Filters.and(filter, Filters.gte(CREATED_AT, defaultStartDate)\r\n                );\r\n            }\r\n    \r\n            return filter;\r\n        }\r\n\r\nThe orderBy is meant to start with the largest value but it&#39;s just random. How do I fix this problem? It is expedient to state that I am using MongoJack and Dropwizard as the framework.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to fix limit and orderBy in Mongodb using Java","body":"<p>I am trying to fetch a list of documents using specified filters. I want to limit the output to 10 and orderBy a column of type long(totalTransactionCount that is found in the sample data posted below). However, the output I get is just 8 instead of 10, there are over 100 records in the collection that meets the requirement. gged the size of the arraylist, it returned 10. This implies that the issue is not coming from the arrayList rather from my loop.</p>\n<p>Here is the code</p>\n<pre><code> Bson filter = Filters.and(Filters.eq(&quot;type&quot;, &quot;CASH_OUT&quot;),\n                Filters.exists(&quot;successfulTransactionInfo.totalTransactionAmount&quot;),\n                AnalyticFilters.agentsFilter(queryParams));\n      \n\n        Bson orderBySort = orderBy(ascending(&quot;successfulTransactionInfo.totalTransactionCount&quot;));\n\n        ArrayList&lt;TransactionAnalytic&gt; transactionAnalytics = transactionAnalyticCollection.find(filter).\n                sort(orderBySort).limit(10).into(new ArrayList&lt;&gt;());\n\n Set&lt;String&gt; agentIds = new HashSet&lt;&gt;();\n\n    transactionAnalytics.forEach(transaction -&gt;{\n        log.info(&quot;Here is the list of agentIds fetchec {}&quot;, agentIds);\n        agentIds.add(transaction.getAgentID());\n        try {\n            BulkAgentInfoResponse agentPhoneNumber = getAgentPhoneNumber(agentIds, token);\n            agentPhoneNumber.getData().forEach(tranx -&gt;{\n                if(tranx.getAgentID().equalsIgnoreCase(transaction.getAgentID())){\n                    String name = tranx.getFirstName() + &quot; &quot; + tranx.getLastName();\n                    result.put(transaction.getAgentID(), new AgentPerformanceDto(name,\n                            transaction.getAgentID(), tranx.getPhoneNumber(), transaction.getSuccessfulTransactionInfo().getTotalTransactionAmount(),\n                            transaction.getSuccessfulTransactionInfo().getTransactionCount()));\n                }\n            });\n\n        } catch (ExecutionException | IOException | InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n\n    });\n    return result;\n</code></pre>\n<p>I am currently not passing anything into the query params therefore it is using the default parameter. I have tried to skip 2 (skip(2) but I still get 8 records instead of 10.</p>\n<p>This is a sample of the response data. I am ordering by totalTransactionCount. The one with totalTransaction is meant to be at the top and it should follow suit.</p>\n<pre><code>&quot;data&quot;: [\n        {\n            &quot;agentName&quot;: &quot;job o ajari&quot;,\n            &quot;agentID&quot;: &quot;0001381&quot;,\n            &quot;phoneNumber&quot;: &quot;01223445&quot;,\n            &quot;cashOutAmount&quot;: 51466.0,\n            &quot;cashOutCount&quot;: 7\n        },\n        {\n            &quot;agentName&quot;: &quot;mabel ekporo&quot;,\n            &quot;agentID&quot;: &quot;0001437&quot;,\n            &quot;phoneNumber&quot;: &quot;01223445&quot;,\n            &quot;cashOutAmount&quot;: 459899.25,\n            &quot;cashOutCount&quot;: 7\n        },\n        {\n            &quot;agentName&quot;: &quot;zion son&quot;,\n            &quot;agentID&quot;: &quot;0000578&quot;,\n            &quot;phoneNumber&quot;: &quot;01223445&quot;,\n            &quot;cashOutAmount&quot;: 159317.5,\n            &quot;cashOutCount&quot;: 6\n        },\n        {\n            &quot;agentName&quot;: &quot;tukur saidu&quot;,\n            &quot;agentID&quot;: &quot;0001304&quot;,\n            &quot;phoneNumber&quot;: &quot;01223445&quot;,\n            &quot;cashOutAmount&quot;: 5050.0,\n            &quot;cashOutCount&quot;: 1\n        },\n        {\n            &quot;agentName&quot;: &quot;obed eneh&quot;,\n            &quot;agentID&quot;: &quot;0000885&quot;,\n            &quot;phoneNumber&quot;: &quot;01223445&quot;,\n            &quot;cashOutAmount&quot;: 44080.75,\n            &quot;cashOutCount&quot;: 6\n        },\n        {\n            &quot;agentName&quot;: &quot;bolanle olarotimi&quot;,\n            &quot;agentID&quot;: &quot;0000995&quot;,\n            &quot;phoneNumber&quot;: &quot;01223445&quot;,\n            &quot;cashOutAmount&quot;: 41892.5,\n            &quot;cashOutCount&quot;: 8\n        },\n        {\n            &quot;agentName&quot;: &quot;Blessing Nana Mathew&quot;,\n            &quot;agentID&quot;: &quot;0001487&quot;,\n            &quot;phoneNumber&quot;: &quot;01223445&quot;,\n            &quot;cashOutAmount&quot;: 10000.0,\n            &quot;cashOutCount&quot;: 1\n        },\n        {\n            &quot;agentName&quot;: &quot;anene chinonso&quot;,\n            &quot;agentID&quot;: &quot;0001585&quot;,\n            &quot;phoneNumber&quot;: &quot;01223445&quot;,\n            &quot;cashOutAmount&quot;: 10300.0,\n            &quot;cashOutCount&quot;: 1\n        }\n    ]\n</code></pre>\n<p>This is the input filter here. Like I stated earlier, I am not passing anything so, it's going to use the default value which is the current date minus 1. The collection contains data from August 1st - 22nd. Thus, there are over 100 records that meets the requirement.</p>\n<pre><code>public static Bson agentsFilter(MultivaluedMap&lt;String, String&gt; queryParams) throws ParseException{\n        Bson filter = new Document();\n        String startDate = queryParams.getFirst(&quot;startDate&quot;);\n\n        String endDate = queryParams.getFirst(&quot;endDate&quot;);\n\n        if (Objects.nonNull(startDate) &amp;&amp; Objects.nonNull(endDate)) {\n            Date date1 = new SimpleDateFormat(DATE_FORMAT).parse(startDate);\n            Date date2 = DateUtils.addHours(new SimpleDateFormat(DATE_FORMAT).parse(endDate), 24);\n            filter = Filters.and(\n                    filter,\n                    Filters.and(\n                            Filters.gte(CREATED_AT, date1),\n                            Filters.lte(CREATED_AT, date2)\n                    )\n            );\n        } else{\n            Date defaultStartDate =  new SimpleDateFormat(DATE_FORMAT)\n                    .parse(LocalDate.now().minusMonths(1).toString() );\n            filter = Filters.and(filter, Filters.gte(CREATED_AT, defaultStartDate)\n            );\n        }\n\n        return filter;\n    }\n</code></pre>\n<p>The orderBy is meant to start with the largest value but it's just random. How do I fix this problem? It is expedient to state that I am using MongoJack and Dropwizard as the framework.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1618335780,"post_id":67079689,"comment_id":118569555,"body_markdown":"Why would you like to filter a post-install.sh related to RPM ? RPM has a post-install script which is not &quot;.sh&quot; !!!","body":"Why would you like to filter a post-install.sh related to RPM ? RPM has a post-install script which is not &quot;.sh&quot; !!!"},{"owner":{"account_id":5457896,"reputation":3732,"user_id":4340793,"accept_rate":61,"display_name":"JeyJ"},"score":0,"creation_date":1618335946,"post_id":67079689,"comment_id":118569630,"body_markdown":"I want to use one of the maven properties inside the post-install script","body":"I want to use one of the maven properties inside the post-install script"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1618336437,"post_id":67079689,"comment_id":118569810,"body_markdown":"Can you be more specific what you like to do exactly?","body":"Can you be more specific what you like to do exactly?"},{"owner":{"account_id":5457896,"reputation":3732,"user_id":4340793,"accept_rate":61,"display_name":"JeyJ"},"score":0,"creation_date":1618348182,"post_id":67079689,"comment_id":118574192,"body_markdown":"I would like to replace the maven properties that I use in the post-install with their value.. As you can see in the post that suggested the answer to this orig problem","body":"I would like to replace the maven properties that I use in the post-install with their value.. As you can see in the post that suggested the answer to this orig problem"}],"answers":[{"tags":[],"owner":{"account_id":6469743,"reputation":2377,"user_id":5010285,"display_name":"Petronella"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661423785,"creation_date":1661423785,"answer_id":73486032,"question_id":67079689,"body_markdown":"To replace values in a file with values set in another file with maven this is a good way:\r\n\r\n     \r\n    &lt;!-- path to the final location of the resulting modified file - your output --&gt;\r\n    &lt;properties&gt;\r\n        &lt;filesPath&gt;/Users/.../config/files&lt;/filesPath&gt;\r\n    &lt;/properties&gt;\r\n\r\n  \r\n    &lt;build&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n            &lt;!-- the file to be modified. Here the name of the values to be changed in the properties file need to be added as variable names, e.g. ${varName} --&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n                &lt;includes&gt;\r\n                    &lt;!-- the file name or file types to be edited/updated --&gt;\r\n                    &lt;include&gt;*.xml&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n                &lt;!-- the target path is the location where the generated/edited resulting files should be saved. The default is `target/classes/` --&gt;\r\n                &lt;targetPath&gt;${jdbcConfigFilesPath}&lt;/targetPath&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n\r\n        &lt;filters&gt;\r\n            &lt;!-- the file where the variable values will be updated --&gt;\r\n            &lt;filter&gt;file.properties&lt;/filter&gt;\r\n        &lt;/filters&gt;\r\n\r\n    &lt;/build&gt;\r\n\r\n\r\nThis configuration will replace values in files from values set in a properties file.\r\nIf one wants to just set the values or the variables to be updated as properties in the pom.xml, one can just use the `&lt;properties&gt;\r\n &lt;yourVar&gt;someValue&lt;/yourVar&gt;    &lt;/properties&gt;`option in the pom.xml instead of the \r\n\r\n    &lt;filters&gt;\r\n        &lt;!-- the file where the variable values will be updated --&gt;\r\n        &lt;filter&gt;file.properties&lt;/filter&gt;\r\n    &lt;/filters&gt;","title":"Maven resources plugin doesn&#39;t filter files","body":"<p>To replace values in a file with values set in another file with maven this is a good way:</p>\n<pre><code>&lt;!-- path to the final location of the resulting modified file - your output --&gt;\n&lt;properties&gt;\n    &lt;filesPath&gt;/Users/.../config/files&lt;/filesPath&gt;\n&lt;/properties&gt;\n\n\n&lt;build&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n        &lt;!-- the file to be modified. Here the name of the values to be changed in the properties file need to be added as variable names, e.g. ${varName} --&gt;\n            &lt;directory&gt;src/main/resources&lt;/directory&gt;\n            &lt;filtering&gt;true&lt;/filtering&gt;\n            &lt;includes&gt;\n                &lt;!-- the file name or file types to be edited/updated --&gt;\n                &lt;include&gt;*.xml&lt;/include&gt;\n            &lt;/includes&gt;\n            &lt;!-- the target path is the location where the generated/edited resulting files should be saved. The default is `target/classes/` --&gt;\n            &lt;targetPath&gt;${jdbcConfigFilesPath}&lt;/targetPath&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n\n    &lt;filters&gt;\n        &lt;!-- the file where the variable values will be updated --&gt;\n        &lt;filter&gt;file.properties&lt;/filter&gt;\n    &lt;/filters&gt;\n\n&lt;/build&gt;\n</code></pre>\n<p>This configuration will replace values in files from values set in a properties file.\nIf one wants to just set the values or the variables to be updated as properties in the pom.xml, one can just use the <code>&lt;properties&gt; &lt;yourVar&gt;someValue&lt;/yourVar&gt;    &lt;/properties&gt;</code>option in the pom.xml instead of the</p>\n<pre><code>&lt;filters&gt;\n    &lt;!-- the file where the variable values will be updated --&gt;\n    &lt;filter&gt;file.properties&lt;/filter&gt;\n&lt;/filters&gt;\n</code></pre>\n"}],"owner":{"account_id":5457896,"reputation":3732,"user_id":4340793,"accept_rate":61,"display_name":"JeyJ"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1661423785,"creation_date":1618334944,"question_id":67079689,"body_markdown":"I&#39;m trying to build an rpm install with rpm-maven-plugin. In addition, I&#39;m also trying to edit my post install script in order to use some Maven properties. For that reason, I&#39;m using maven-resources plugin.\r\n\r\nI&#39;m following the answers in [this post][1] but it just doesn&#39;t work for me and the files aren&#39;t filtered and saved in the target directory.\r\n\r\nMy projects structure : \r\n\r\n    -my-app\r\n       -pom.xml\r\n       -app module\r\n           -src/..\r\n           -pom.xml\r\n       -rpm module\r\n           -pom.xml\r\n           -src/main/\r\n               -resources\r\n               -scripts\r\n                   -post-install.sh\r\n\r\nIn the rpm module pom.xml I have the following two plugins : \r\n\r\n    &lt;build&gt;\r\n    \r\n            &lt;plugins&gt;\r\n    \r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;resources&gt;\r\n                            &lt;resource&gt;\r\n                                &lt;directory&gt;src/main/scripts/&lt;/directory&gt;\r\n                                &lt;filtering&gt;true&lt;/filtering&gt;\r\n                                &lt;includes&gt;\r\n                                    &lt;include&gt;post-install.sh&lt;/include&gt;\r\n                                &lt;/includes&gt;\r\n                            &lt;/resource&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n\r\nand also : \r\n\r\n       &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;rpm-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;extensions&gt;true&lt;/extensions&gt;\r\n                    &lt;configuration&gt;\r\n                      .......\r\n                    &lt;postinstallScriptlet&gt;\r\n                            &lt;scriptFile&gt;${basedir}/target/classes/post-install.sh&lt;/scriptFile&gt;\r\n                            &lt;fileEncoding&gt;utf-8&lt;/fileEncoding&gt;\r\n                    &lt;/postinstallScriptlet&gt;\r\n\r\n\r\nWhen I run mvn package I&#39;m getting the following error : \r\n\r\n    [ERROR] Failed to execute goal org.codehaus.mojo:rpm-maven-plugin:2.2.0:rpm (default-rpm) on project my-app-package: Execution default-rpm of goal org.codehaus.mojo:rpm-maven-plugin:2.2.0:rpm failed: Invalid scriptlet declaration found - defined scriptFile does not exist: /root/my-app/rpm/target/classes/post-install.sh -&gt; [Help 1]\r\n\r\n\r\nI also tried to change the value of the include tag to `**/post-install.sh` but it didn&#39;t work.\r\n\r\n  [1]: https://stackoverflow.com/questions/31461193/using-maven-rpm-plugin-how-do-i-to-replace-text-in-files-similar-to-the-assembly\r\n\r\n","title":"Maven resources plugin doesn&#39;t filter files","body":"<p>I'm trying to build an rpm install with rpm-maven-plugin. In addition, I'm also trying to edit my post install script in order to use some Maven properties. For that reason, I'm using maven-resources plugin.</p>\n<p>I'm following the answers in <a href=\"https://stackoverflow.com/questions/31461193/using-maven-rpm-plugin-how-do-i-to-replace-text-in-files-similar-to-the-assembly\">this post</a> but it just doesn't work for me and the files aren't filtered and saved in the target directory.</p>\n<p>My projects structure :</p>\n<pre><code>-my-app\n   -pom.xml\n   -app module\n       -src/..\n       -pom.xml\n   -rpm module\n       -pom.xml\n       -src/main/\n           -resources\n           -scripts\n               -post-install.sh\n</code></pre>\n<p>In the rpm module pom.xml I have the following two plugins :</p>\n<pre><code>&lt;build&gt;\n\n        &lt;plugins&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;resources&gt;\n                        &lt;resource&gt;\n                            &lt;directory&gt;src/main/scripts/&lt;/directory&gt;\n                            &lt;filtering&gt;true&lt;/filtering&gt;\n                            &lt;includes&gt;\n                                &lt;include&gt;post-install.sh&lt;/include&gt;\n                            &lt;/includes&gt;\n                        &lt;/resource&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>and also :</p>\n<pre><code>   &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;rpm-maven-plugin&lt;/artifactId&gt;\n                &lt;extensions&gt;true&lt;/extensions&gt;\n                &lt;configuration&gt;\n                  .......\n                &lt;postinstallScriptlet&gt;\n                        &lt;scriptFile&gt;${basedir}/target/classes/post-install.sh&lt;/scriptFile&gt;\n                        &lt;fileEncoding&gt;utf-8&lt;/fileEncoding&gt;\n                &lt;/postinstallScriptlet&gt;\n</code></pre>\n<p>When I run mvn package I'm getting the following error :</p>\n<pre><code>[ERROR] Failed to execute goal org.codehaus.mojo:rpm-maven-plugin:2.2.0:rpm (default-rpm) on project my-app-package: Execution default-rpm of goal org.codehaus.mojo:rpm-maven-plugin:2.2.0:rpm failed: Invalid scriptlet declaration found - defined scriptFile does not exist: /root/my-app/rpm/target/classes/post-install.sh -&gt; [Help 1]\n</code></pre>\n<p>I also tried to change the value of the include tag to <code>**/post-install.sh</code> but it didn't work.</p>\n"},{"tags":["java","string","binary","time-complexity","logarithm"],"comments":[{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":1,"creation_date":1492961912,"post_id":43573037,"comment_id":74195956,"body_markdown":"Just reading the input will already take O(b) time.","body":"Just reading the input will already take O(b) time."},{"owner":{"account_id":6669326,"reputation":291,"user_id":5145897,"accept_rate":62,"display_name":"de_dust"},"score":0,"creation_date":1492962484,"post_id":43573037,"comment_id":74196197,"body_markdown":"@Henry: And what about, if we leave that out? Is there still a way to achieve log time? The hint from the assignment says that I need to shift the bits to the left: First one bit, then 2 bits, then 4 bits, 8 bits, 16 bits and so on... After each shift I need to use the AND function for the ones and that will give me the next sequence, which I shift... But I don&#39;t know how to use that","body":"@Henry: And what about, if we leave that out? Is there still a way to achieve log time? The hint from the assignment says that I need to shift the bits to the left: First one bit, then 2 bits, then 4 bits, 8 bits, 16 bits and so on... After each shift I need to use the AND function for the ones and that will give me the next sequence, which I shift... But I don&#39;t know how to use that"},{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1492962598,"post_id":43573037,"comment_id":74196254,"body_markdown":"I can&#39;t proof it, but my gut feeling tells me there isn&#39;t.","body":"I can&#39;t proof it, but my gut feeling tells me there isn&#39;t."},{"owner":{"account_id":483323,"reputation":36115,"user_id":898289,"accept_rate":92,"display_name":"Adam"},"score":0,"creation_date":1492962609,"post_id":43573037,"comment_id":74196261,"body_markdown":"How big is the input? Always 1 byte? Could use prebuilt lookup table ?","body":"How big is the input? Always 1 byte? Could use prebuilt lookup table ?"},{"owner":{"account_id":6669326,"reputation":291,"user_id":5145897,"accept_rate":62,"display_name":"de_dust"},"score":0,"creation_date":1492962669,"post_id":43573037,"comment_id":74196293,"body_markdown":"@Adam: The input size can vary, I think. And I have to do it by bit shifting because it&#39;s an assignment","body":"@Adam: The input size can vary, I think. And I have to do it by bit shifting because it&#39;s an assignment"},{"owner":{"account_id":483323,"reputation":36115,"user_id":898289,"accept_rate":92,"display_name":"Adam"},"score":0,"creation_date":1492962863,"post_id":43573037,"comment_id":74196386,"body_markdown":"I agree with @Henry. You need to examine every bit in someway, bit-shifting is an irrelevant implementation detail. I think whoever set this assignment either made typo in specifying O(log(b)) or doesn&#39;t understand big-O notation....?","body":"I agree with @Henry. You need to examine every bit in someway, bit-shifting is an irrelevant implementation detail. I think whoever set this assignment either made typo in specifying O(log(b)) or doesn&#39;t understand big-O notation....?"},{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1492962874,"post_id":43573037,"comment_id":74196390,"body_markdown":"If we don&#39;t assume that the whole string fits into one word, a shift operation will take O(b) time and also an AND operation will take O(b) time. On the other hand, if we assume the string fits into one word, i.e. its length is bounded, so is the runtime. This makes it an O(1) time.","body":"If we don&#39;t assume that the whole string fits into one word, a shift operation will take O(b) time and also an AND operation will take O(b) time. On the other hand, if we assume the string fits into one word, i.e. its length is bounded, so is the runtime. This makes it an O(1) time."},{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":1,"creation_date":1492964812,"post_id":43573037,"comment_id":74197162,"body_markdown":"probably this article could help https://www.quora.com/How-can-we-find-the-longest-continuous-subsequence-of-0s-in-binary-representation-of-an-integer-in-O-log-n-time-complexity","body":"probably this article could help <a href=\"https://www.quora.com/How-can-we-find-the-longest-continuous-subsequence-of-0s-in-binary-representation-of-an-integer-in-O-log-n-time-complexity\" rel=\"nofollow noreferrer\">quora.com/&hellip;</a>"},{"owner":{"account_id":6669326,"reputation":291,"user_id":5145897,"accept_rate":62,"display_name":"de_dust"},"score":0,"creation_date":1492978369,"post_id":43573037,"comment_id":74202117,"body_markdown":"@Lashane: Thanks, that was a great article!","body":"@Lashane: Thanks, that was a great article!"}],"answers":[{"tags":[],"owner":{"account_id":5005045,"reputation":460,"user_id":4022947,"display_name":"Aritra Chatterjee"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1492963583,"creation_date":1492963583,"answer_id":43573450,"question_id":43573037,"body_markdown":"Since the number will be given as string, we can parse the number using\r\n\r\n    Integer.parseInt(String,Base)\r\nIf we are passing say 64 which is 1000000 in binary and the longest 0 length is 6, the while loop should run log2(64) which is 6, then this solution should be what you are looking for. Please check the solution below\r\n\r\n    public class CountZeroes {\r\n\tprivate static long getZeroes(String s) {\r\n\t\tint x = Integer.parseInt(s,2);\r\n\t\tlong count = 0, maxSoFar = 0;\r\n\t\twhile (x &gt; 0) {\r\n\t\t\tSystem.out.println(&quot;Running&quot;);\r\n\t\t\tif ((x &amp; 1) == 1) {\r\n\t\t\t\tif (count &gt; maxSoFar) {\r\n\t\t\t\t\tmaxSoFar = count;\r\n\t\t\t\t}\r\n\t\t\t\tcount = 0;\r\n\t\t\t} else {\r\n\t\t\t\tcount += 1;\r\n\t\t\t}\r\n\t\t\tx = x &gt;&gt; 1;\r\n\t\t}\r\n\t\treturn maxSoFar;\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(getZeroes(&quot;10000&quot;));\r\n\t\tSystem.out.println(getZeroes(&quot;100000&quot;));\r\n\t\tSystem.out.println(getZeroes(&quot;1000000&quot;));\r\n\t}\r\n    }\r\nI have run this program for 16,32 and 64 and it works in log(n) time as there is no parsing character by character involved in this case and also used bitwise operator for the same. Please check once if this is ok.\r\n\r\nThanks","title":"Finding longest zero sequence in a bit string","body":"<p>Since the number will be given as string, we can parse the number using</p>\n\n<pre><code>Integer.parseInt(String,Base)\n</code></pre>\n\n<p>If we are passing say 64 which is 1000000 in binary and the longest 0 length is 6, the while loop should run log2(64) which is 6, then this solution should be what you are looking for. Please check the solution below</p>\n\n<pre><code>public class CountZeroes {\nprivate static long getZeroes(String s) {\n    int x = Integer.parseInt(s,2);\n    long count = 0, maxSoFar = 0;\n    while (x &gt; 0) {\n        System.out.println(\"Running\");\n        if ((x &amp; 1) == 1) {\n            if (count &gt; maxSoFar) {\n                maxSoFar = count;\n            }\n            count = 0;\n        } else {\n            count += 1;\n        }\n        x = x &gt;&gt; 1;\n    }\n    return maxSoFar;\n}\n\npublic static void main(String[] args) {\n    System.out.println(getZeroes(\"10000\"));\n    System.out.println(getZeroes(\"100000\"));\n    System.out.println(getZeroes(\"1000000\"));\n}\n}\n</code></pre>\n\n<p>I have run this program for 16,32 and 64 and it works in log(n) time as there is no parsing character by character involved in this case and also used bitwise operator for the same. Please check once if this is ok.</p>\n\n<p>Thanks</p>\n"},{"tags":[],"owner":{"account_id":2704546,"reputation":2297,"user_id":2334422,"display_name":"Ishan Liyanage"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661423762,"creation_date":1661423762,"answer_id":73486027,"question_id":43573037,"body_markdown":"    private static int getLength(String input){\r\n            int maxLength = 0;\r\n            while (input.length() &gt; 0) {\r\n                int start = input.indexOf(&quot;10&quot;);\r\n                int end = input.indexOf(&quot;01&quot;);\r\n    \r\n                if(end == 0){\r\n                    break;\r\n                }\r\n                String sub = input.substring(start, end);\r\n                if(sub.length() &gt; maxLength){\r\n                    maxLength = sub.length();\r\n                }\r\n                input = input.substring(end + 2);\r\n            }\r\n            return maxLength;\r\n    \r\n        }","title":"Finding longest zero sequence in a bit string","body":"<pre><code>private static int getLength(String input){\n        int maxLength = 0;\n        while (input.length() &gt; 0) {\n            int start = input.indexOf(&quot;10&quot;);\n            int end = input.indexOf(&quot;01&quot;);\n\n            if(end == 0){\n                break;\n            }\n            String sub = input.substring(start, end);\n            if(sub.length() &gt; maxLength){\n                maxLength = sub.length();\n            }\n            input = input.substring(end + 2);\n        }\n        return maxLength;\n\n    }\n</code></pre>\n"}],"owner":{"account_id":6669326,"reputation":291,"user_id":5145897,"accept_rate":62,"display_name":"de_dust"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":501,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1661423762,"creation_date":1492961403,"question_id":43573037,"body_markdown":"Given an bit string like &quot;0001100001&quot;, I need to find the length of the longest zero sequence (4 in the example).\r\n\r\nThe algorithm should perform in O(log(b)) time, where b is the length of the string.\r\n\r\nI have heard, that I have to shift the bits to the left somehow, to achieve the desired complexity, but I have no clue why...\r\n\r\nI only know how to do it in linear time by iterating over the string.\r\n\r\nHow do I get logarithmic time?","title":"Finding longest zero sequence in a bit string","body":"<p>Given an bit string like \"0001100001\", I need to find the length of the longest zero sequence (4 in the example).</p>\n\n<p>The algorithm should perform in O(log(b)) time, where b is the length of the string.</p>\n\n<p>I have heard, that I have to shift the bits to the left somehow, to achieve the desired complexity, but I have no clue why...</p>\n\n<p>I only know how to do it in linear time by iterating over the string.</p>\n\n<p>How do I get logarithmic time?</p>\n"},{"tags":["java","xml","transformation"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1648845052,"post_id":71704943,"comment_id":126735972,"body_markdown":"You probably want [DocumentBuilder](https://docs.oracle.com/en/java/javase/18/docs/api/java.xml/javax/xml/parsers/DocumentBuilderFactory.html#newDocumentBuilder()).","body":"You probably want <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.xml/javax/xml/parsers/DocumentBuilderFactory.html#newDocumentBuilder()\" rel=\"nofollow noreferrer\">DocumentBuilder</a>."}],"answers":[{"tags":[],"owner":{"account_id":13858485,"reputation":77,"user_id":10004709,"display_name":"Vic Sun"},"down_vote_count":3,"up_vote_count":0,"is_accepted":true,"score":-3,"last_activity_date":1648807198,"creation_date":1648807198,"answer_id":71705135,"question_id":71704943,"body_markdown":"Here are many java libs that can do this thing, please refer to this: \r\nhttps://www.baeldung.com/java-xml\r\n\r\nFrom your example, seems you want to replace the text with the [xPath of the DOM element], so you need to do those steps:\r\n1. Iterate the DOM and find the element which has text\r\n2. Get the XPath of this element\r\n3. Replace the text with the Xpath you get in step 2","title":"fill XML file with special content","body":"<p>Here are many java libs that can do this thing, please refer to this:\n<a href=\"https://www.baeldung.com/java-xml\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-xml</a></p>\n<p>From your example, seems you want to replace the text with the [xPath of the DOM element], so you need to do those steps:</p>\n<ol>\n<li>Iterate the DOM and find the element which has text</li>\n<li>Get the XPath of this element</li>\n<li>Replace the text with the Xpath you get in step 2</li>\n</ol>\n"}],"owner":{"account_id":16927701,"reputation":61,"user_id":12242894,"display_name":"Oussama Abouzid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1648817202,"accepted_answer_id":71705135,"answer_count":1,"score":-2,"last_activity_date":1661423067,"creation_date":1648806355,"question_id":71704943,"body_markdown":"I am working on a project in which I need to fill some xml file with a special content, for example let&#39;s say I have an `example.xml` file : \r\n\r\n    &lt;A&gt;\r\n        &lt;B&gt;testB&lt;/B&gt;\r\n        &lt;C&gt;\r\n            &lt;D&gt;testD&lt;/D&gt;\r\n            &lt;E&gt;\r\n                &lt;F&gt;testF&lt;/F&gt;\r\n            &lt;/E&gt;\r\n        &lt;/C&gt;\r\n    &lt;/A&gt;\r\n    &lt;G&gt;testG&lt;/G&gt;\r\n\r\nexpected output is : \r\n\r\n    &lt;A&gt;\r\n        &lt;B&gt;{{ A.B }}&lt;/B&gt;\r\n        &lt;C&gt;\r\n            &lt;D&gt;{{ A.C.D }}&lt;/D&gt;\r\n            &lt;E&gt;\r\n                &lt;F&gt;{{ A.C.E.F }}&lt;/F&gt;\r\n            &lt;/E&gt;\r\n        &lt;/C&gt;\r\n    &lt;/A&gt;\r\n    &lt;G&gt;{{ G }}&lt;/G&gt;\r\n\r\nhow to solve this problem?","title":"fill XML file with special content","body":"<p>I am working on a project in which I need to fill some xml file with a special content, for example let's say I have an <code>example.xml</code> file :</p>\n<pre><code>&lt;A&gt;\n    &lt;B&gt;testB&lt;/B&gt;\n    &lt;C&gt;\n        &lt;D&gt;testD&lt;/D&gt;\n        &lt;E&gt;\n            &lt;F&gt;testF&lt;/F&gt;\n        &lt;/E&gt;\n    &lt;/C&gt;\n&lt;/A&gt;\n&lt;G&gt;testG&lt;/G&gt;\n</code></pre>\n<p>expected output is :</p>\n<pre><code>&lt;A&gt;\n    &lt;B&gt;{{ A.B }}&lt;/B&gt;\n    &lt;C&gt;\n        &lt;D&gt;{{ A.C.D }}&lt;/D&gt;\n        &lt;E&gt;\n            &lt;F&gt;{{ A.C.E.F }}&lt;/F&gt;\n        &lt;/E&gt;\n    &lt;/C&gt;\n&lt;/A&gt;\n&lt;G&gt;{{ G }}&lt;/G&gt;\n</code></pre>\n<p>how to solve this problem?</p>\n"},{"tags":["java","spring","spring-webflux","spring-webclient"],"comments":[{"owner":{"account_id":4203120,"reputation":10908,"user_id":4923629,"accept_rate":92,"display_name":"123"},"score":0,"creation_date":1588870672,"post_id":61661909,"comment_id":109073716,"body_markdown":"Since retrieve returns an private inner class in Webclient, you would have to extend Webclient with your own version that overrides `retrieve()` and have it return your own version of `ResponseSpec`","body":"Since retrieve returns an private inner class in Webclient, you would have to extend Webclient with your own version that overrides <code>retrieve()</code> and have it return your own version of <code>ResponseSpec</code>"},{"owner":{"account_id":4203120,"reputation":10908,"user_id":4923629,"accept_rate":92,"display_name":"123"},"score":0,"creation_date":1588871197,"post_id":61661909,"comment_id":109073987,"body_markdown":"Actually looks like all the classes are private in the that package for some reason so don&#39;t think you can...","body":"Actually looks like all the classes are private in the that package for some reason so don&#39;t think you can..."}],"answers":[{"tags":[],"owner":{"account_id":16567115,"reputation":641,"user_id":11971373,"display_name":"Andrea Damiani"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1588881284,"creation_date":1588881284,"answer_id":61666592,"question_id":61661909,"body_markdown":"Found a solution: ExchangeFilterFunction.ofResponseProcessor seems to be what I was looking for.\r\n\r\n    @Configuration\r\n    public class WebClientConfig {\r\n    \r\n        @Bean\r\n        @LoadBalanced\r\n        public WebClient.Builder webClientBuilder(){\r\n            return WebClient\r\n                    .builder()\r\n                    .filter(ExchangeFilterFunction.ofResponseProcessor(this::renderApiErrorResponse));\r\n        }\r\n    \r\n        private Mono&lt;ClientResponse&gt; renderApiErrorResponse(ClientResponse clientResponse) {\r\n            if(clientResponse.statusCode().isError()){\r\n                return clientResponse.bodyToMono(ApiErrorResponse.class)\r\n                        .flatMap(apiErrorResponse -&gt; Mono.error(new ResponseStatusException(\r\n                                clientResponse.statusCode(),\r\n                                apiErrorResponse.getMessage()\r\n                        )));\r\n            }\r\n            return Mono.just(clientResponse);\r\n        }\r\n    \r\n    }","title":"How to set onStatus in Spring WebClient builder instance","body":"<p>Found a solution: ExchangeFilterFunction.ofResponseProcessor seems to be what I was looking for.</p>\n\n<pre><code>@Configuration\npublic class WebClientConfig {\n\n    @Bean\n    @LoadBalanced\n    public WebClient.Builder webClientBuilder(){\n        return WebClient\n                .builder()\n                .filter(ExchangeFilterFunction.ofResponseProcessor(this::renderApiErrorResponse));\n    }\n\n    private Mono&lt;ClientResponse&gt; renderApiErrorResponse(ClientResponse clientResponse) {\n        if(clientResponse.statusCode().isError()){\n            return clientResponse.bodyToMono(ApiErrorResponse.class)\n                    .flatMap(apiErrorResponse -&gt; Mono.error(new ResponseStatusException(\n                            clientResponse.statusCode(),\n                            apiErrorResponse.getMessage()\n                    )));\n        }\n        return Mono.just(clientResponse);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":16567115,"reputation":641,"user_id":11971373,"display_name":"Andrea Damiani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18334,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":61666592,"answer_count":1,"score":10,"last_activity_date":1661422957,"creation_date":1588865982,"question_id":61661909,"body_markdown":"I&#39;ve got a lot of methods that use the onStatus API from Spring&#39;s WebClient:\r\n\r\n    @Override\r\n    public Mono&lt;Accommodation&gt; createAccommodation(CreateAccommodation create) {\r\n        return webClient\r\n                .post()\r\n                .contentType(APPLICATION_JSON)\r\n                .bodyValue(create)\r\n                .retrieve()\r\n                .onStatus(HttpStatus::isError,\r\n                        clientResponse -&gt; clientResponse\r\n                                .bodyToMono(ApiErrorResponse.class)\r\n                                .flatMap(errorResponse -&gt; Mono.error(new ResponseStatusException(\r\n                                        HttpStatus.valueOf(errorResponse.getStatus()),\r\n                                        errorResponse.getMessage()\r\n                                ))))\r\n                .bodyToMono(Accommodation.class);\r\n    }\r\n\r\nWhat I would like to do is to avoid having to use the &quot;onStatus&quot; in every single WebClient call.\r\n\r\nIs there a way to set this when building the WebClient instance? Can you show some examples?\r\n\r\nThis is my WebClient instance:\r\n\r\n        public AccommodationServiceClientImpl(WebClient.Builder builder) {\r\n             this.webClient = builder\r\n                .baseUrl(&quot;lb://accommodation-service/api/v1/accommodations&quot;)\r\n                .build();\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to set onStatus in Spring WebClient builder instance","body":"<p>I've got a lot of methods that use the onStatus API from Spring's WebClient:</p>\n<pre><code>@Override\npublic Mono&lt;Accommodation&gt; createAccommodation(CreateAccommodation create) {\n    return webClient\n            .post()\n            .contentType(APPLICATION_JSON)\n            .bodyValue(create)\n            .retrieve()\n            .onStatus(HttpStatus::isError,\n                    clientResponse -&gt; clientResponse\n                            .bodyToMono(ApiErrorResponse.class)\n                            .flatMap(errorResponse -&gt; Mono.error(new ResponseStatusException(\n                                    HttpStatus.valueOf(errorResponse.getStatus()),\n                                    errorResponse.getMessage()\n                            ))))\n            .bodyToMono(Accommodation.class);\n}\n</code></pre>\n<p>What I would like to do is to avoid having to use the &quot;onStatus&quot; in every single WebClient call.</p>\n<p>Is there a way to set this when building the WebClient instance? Can you show some examples?</p>\n<p>This is my WebClient instance:</p>\n<pre><code>    public AccommodationServiceClientImpl(WebClient.Builder builder) {\n         this.webClient = builder\n            .baseUrl(&quot;lb://accommodation-service/api/v1/accommodations&quot;)\n            .build();\n    }\n</code></pre>\n"},{"tags":["java","resteasy","quarkus"],"comments":[{"owner":{"account_id":5568337,"reputation":614,"user_id":4414667,"display_name":"Ahmet Eroğlu"},"score":0,"creation_date":1610458665,"post_id":65684219,"comment_id":116134851,"body_markdown":"I&#39;m not a REST API expat but this is certainly a know-how question. I think for such a generic problem you should use an existing solution, i.e an existing API, Library or some solution from known companies. As building multipart upload for a rest api is going to be like inventing the wheel again. Please check multi part upload rest api frameworks.","body":"I&#39;m not a REST API expat but this is certainly a know-how question. I think for such a generic problem you should use an existing solution, i.e an existing API, Library or some solution from known companies. As building multipart upload for a rest api is going to be like inventing the wheel again. Please check multi part upload rest api frameworks."},{"owner":{"account_id":3774672,"reputation":97,"user_id":3135811,"display_name":"subham"},"score":0,"creation_date":1610513460,"post_id":65684219,"comment_id":116154538,"body_markdown":"Can you explain why OOM error occur in first api?","body":"Can you explain why OOM error occur in first api?"}],"answers":[{"tags":[],"owner":{"account_id":3203483,"reputation":788,"user_id":2705070,"display_name":"S. D."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661422929,"creation_date":1661422929,"answer_id":73485858,"question_id":65684219,"body_markdown":"The second API saves the file to a temp file on the file system. (which I believe is being automatically deleted when the call completes and the File is closed)\r\n\r\nThe first API saves the file to a byte stream (array) in memory - that&#39;s why you&#39;re getting an OOM error.","title":"How multipart form data upload handles large file","body":"<p>The second API saves the file to a temp file on the file system. (which I believe is being automatically deleted when the call completes and the File is closed)</p>\n<p>The first API saves the file to a byte stream (array) in memory - that's why you're getting an OOM error.</p>\n"}],"owner":{"account_id":3774672,"reputation":97,"user_id":3135811,"display_name":"subham"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":911,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661422929,"creation_date":1610455409,"question_id":65684219,"body_markdown":"I am using quarkus framework for java application.I have created 2 rest apis for consuming file data.\r\n\r\n```\r\n    @POST\r\n    @Path(&quot;file&quot;)\r\n    @Consumes(MediaType.APPLICATION_OCTET_STREAM)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public Response uploadFile(byte[] fileData) {\r\n        System.out.println(&quot;Received file of size = &quot; + fileData.length);\r\n        String s = new String(fileData);\r\n       return Response.ok().build();\r\n    }\r\n\r\n    @POST\r\n    @Path(&quot;files&quot;)\r\n    @Consumes(MediaType.MULTIPART_FORM_DATA)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public void uploadFile(@MultipartForm FormData fileData) throws IOException {\r\n        System.out.println(&quot;Received file of size = &quot;);\r\n        System.out.println(fileData.file.length());\r\n        return Response.ok().build();\r\n    }\r\n```\r\n\r\nFormData class looks like this\r\n```\r\npublic class FormData {\r\n\r\n    @FormParam(&quot;file&quot;)\r\n    @PartType(MediaType.APPLICATION_OCTET_STREAM)\r\n    public File file;\r\n}\r\n```\r\n\r\nWhile both of these rest endpoint works fine for small files. But if i upload file as big as 700MB first endpoint fails with OOM issue while file upload with multipart-form succeed. Can someone explain how memory is managed in case of multipart-form upload?","title":"How multipart form data upload handles large file","body":"<p>I am using quarkus framework for java application.I have created 2 rest apis for consuming file data.</p>\n<pre><code>    @POST\n    @Path(&quot;file&quot;)\n    @Consumes(MediaType.APPLICATION_OCTET_STREAM)\n    @Produces(MediaType.APPLICATION_JSON)\n    public Response uploadFile(byte[] fileData) {\n        System.out.println(&quot;Received file of size = &quot; + fileData.length);\n        String s = new String(fileData);\n       return Response.ok().build();\n    }\n\n    @POST\n    @Path(&quot;files&quot;)\n    @Consumes(MediaType.MULTIPART_FORM_DATA)\n    @Produces(MediaType.APPLICATION_JSON)\n    public void uploadFile(@MultipartForm FormData fileData) throws IOException {\n        System.out.println(&quot;Received file of size = &quot;);\n        System.out.println(fileData.file.length());\n        return Response.ok().build();\n    }\n</code></pre>\n<p>FormData class looks like this</p>\n<pre><code>public class FormData {\n\n    @FormParam(&quot;file&quot;)\n    @PartType(MediaType.APPLICATION_OCTET_STREAM)\n    public File file;\n}\n</code></pre>\n<p>While both of these rest endpoint works fine for small files. But if i upload file as big as 700MB first endpoint fails with OOM issue while file upload with multipart-form succeed. Can someone explain how memory is managed in case of multipart-form upload?</p>\n"},{"tags":["java","android","selenium","appium"],"answers":[{"tags":[],"owner":{"account_id":7867924,"reputation":562,"user_id":5946202,"display_name":"Abbas Akhundov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1455804334,"creation_date":1455803867,"answer_id":35483448,"question_id":35482941,"body_markdown":"`clickable` is set to `false`. You have to set it `true` in xml file and later on handle `onClick` event in your activity class","title":"Unable to click on a link inside textview message on android mobile app-Appium","body":"<p><code>clickable</code> is set to <code>false</code>. You have to set it <code>true</code> in xml file and later on handle <code>onClick</code> event in your activity class</p>\n"},{"tags":[],"owner":{"display_name":"user5899832"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456123580,"creation_date":1455811276,"answer_id":35486379,"question_id":35482941,"body_markdown":"[image ][1] only you need to handle onclick listener in Android java file where you make reference the text of your xml like\r\n\r\n     TextView mytext=(TextView)findviewbyid(R.id.ref of your TextView);\r\n     mytext.setOnClickList();\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Xtv3o.png","title":"Unable to click on a link inside textview message on android mobile app-Appium","body":"<p><a href=\"https://i.stack.imgur.com/Xtv3o.png\" rel=\"nofollow\">image </a> only you need to handle onclick listener in Android java file where you make reference the text of your xml like</p>\n\n<pre><code> TextView mytext=(TextView)findviewbyid(R.id.ref of your TextView);\n mytext.setOnClickList();\n</code></pre>\n"}],"owner":{"account_id":7867766,"reputation":1,"user_id":5946083,"display_name":"Sudhakar MK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":992,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1661422815,"creation_date":1455802527,"question_id":35482941,"body_markdown":"\r\nAnyone help on this....\r\n\r\n\r\n&gt; `code`\r\n\r\nI want to access the hyperlink within my text as depicted in the pic : \r\n\r\n\r\n[![hyperlinked text in message][1]][1]\r\n\r\nNotes:\r\nI tried directly clicking in text by using id but didnt worked.\r\nI tried using scrollTo() but still it didnt worked.\r\nI tried with linkText even that didnt worked.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/XlcpF.png","title":"Unable to click on a link inside textview message on android mobile app-Appium","body":"<p>Anyone help on this....</p>\n\n<blockquote>\n  <p><code>code</code></p>\n</blockquote>\n\n<p>I want to access the hyperlink within my text as depicted in the pic : </p>\n\n<p><a href=\"https://i.stack.imgur.com/XlcpF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XlcpF.png\" alt=\"hyperlinked text in message\"></a></p>\n\n<p>Notes:\nI tried directly clicking in text by using id but didnt worked.\nI tried using scrollTo() but still it didnt worked.\nI tried with linkText even that didnt worked.</p>\n"},{"tags":["java","spring-boot","java-8","spring-tool-suite","vaadin8"],"answers":[{"tags":[],"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661422442,"creation_date":1661422442,"answer_id":73485761,"question_id":73485451,"body_markdown":"You can&#39;t implement View in UI. The UI is usually the bottom layer layout and when using Navigator, the Navigator will place view content to the layout managed by it. By default it is the UI. Now in your case it will lead to Navigator attempting to add UI as content of UI, and that wont work.","title":"Vaadin 8 Component cannot be added inside it&#39;s own content","body":"<p>You can't implement View in UI. The UI is usually the bottom layer layout and when using Navigator, the Navigator will place view content to the layout managed by it. By default it is the UI. Now in your case it will lead to Navigator attempting to add UI as content of UI, and that wont work.</p>\n"}],"owner":{"account_id":23099543,"reputation":101,"user_id":17209145,"display_name":"Andrea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73485761,"answer_count":1,"score":0,"last_activity_date":1661422442,"creation_date":1661421049,"question_id":73485451,"body_markdown":"I&#39;m implementing some button on a webpage to learn how to use Vaadin 8 with Java 8 and SpringToolSuite4.\r\nI created an empty page with a single button that shows a notification when clicked.\r\nThe code is working but when running the code with spring boot (v2.7.3) I get the following error:\r\n\r\n    \r\n```\r\njava.lang.IllegalArgumentException: Component cannot be added inside it&#39;s own content\r\n\tat com.vaadin.ui.AbstractSingleComponentContainer.setContent(AbstractSingleComponentContainer.java:140) ~[vaadin-server-8.5.1.jar:8.5.1]\r\n\tat com.vaadin.ui.UI.setContent(UI.java:1431) ~[vaadin-server-8.5.1.jar:8.5.1]\r\n\tat com.vaadin.navigator.Navigator$SingleComponentContainerViewDisplay.showView(Navigator.java:305) ~[vaadin-server-8.5.1.jar:8.5.1]\r\n\tat com.vaadin.navigator.Navigator.performNavigateTo(Navigator.java:773) ~[vaadin-server-8.5.1.jar:8.5.1]\r\n\tat com.vaadin.navigator.Navigator.lambda$navigateTo$9a874efd$1(Navigator.java:702) ~[vaadin-server-8.5.1.jar:8.5.1]\r\n\tat com.vaadin.navigator.Navigator.runAfterLeaveConfirmation(Navigator.java:726) ~[vaadin-server-8.5.1.jar:8.5.1]\r\n\tat com.vaadin.navigator.Navigator.navigateTo(Navigator.java:701) ~[vaadin-server-8.5.1.jar:8.5.1]\r\n\tat com.vaadin.navigator.Navigator.navigateTo(Navigator.java:678) ~[vaadin-server-8.5.1.jar:8.5.1]\r\n\tat com.vaadin.ui.UI.doInit(UI.java:775) ~[vaadin-server-8.5.1.jar:8.5.1]\r\n\tat com.vaadin.server.communication.UIInitHandler.getBrowserDetailsUI(UIInitHandler.java:218) [vaadin-server-8.5.1.jar:8.5.1]\r\n\tat com.vaadin.server.communication.UIInitHandler.synchronizedHandleRequest(UIInitHandler.java:76) [vaadin-server-8.5.1.jar:8.5.1]\r\n\tat com.vaadin.server.SynchronizedRequestHandler.handleRequest(SynchronizedRequestHandler.java:40) [vaadin-server-8.5.1.jar:8.5.1]\r\n\tat com.vaadin.server.VaadinService.handleRequest(VaadinService.java:1601) [vaadin-server-8.5.1.jar:8.5.1]\r\n\tat com.vaadin.server.VaadinServlet.service(VaadinServlet.java:445) [vaadin-server-8.5.1.jar:8.5.1]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) [servlet-api.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) [catalina.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [catalina.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711) [catalina.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459) [catalina.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:353) [catalina.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313) [catalina.jar:9.0.65]\r\n\tat org.springframework.web.servlet.mvc.ServletForwardingController.handleRequestInternal(ServletForwardingController.java:141) [spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.servlet.mvc.AbstractController.handleRequest(AbstractController.java:177) [spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter.handle(SimpleControllerHandlerAdapter.java:51) [spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070) [spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) [spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) [spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) [spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681) [servlet-api.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) [spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) [servlet-api.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) [catalina.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [catalina.jar:9.0.65]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) [tomcat-websocket.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [catalina.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [catalina.jar:9.0.65]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.22.jar:5.3.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [catalina.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [catalina.jar:9.0.65]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.22.jar:5.3.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [catalina.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [catalina.jar:9.0.65]\r\n\tat org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:126) [spring-boot-2.7.3.jar:2.7.3]\r\n\tat org.springframework.boot.web.servlet.support.ErrorPageFilter.access$000(ErrorPageFilter.java:64) [spring-boot-2.7.3.jar:2.7.3]\r\n\tat org.springframework.boot.web.servlet.support.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:101) [spring-boot-2.7.3.jar:2.7.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:119) [spring-boot-2.7.3.jar:2.7.3]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [catalina.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [catalina.jar:9.0.65]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.22.jar:5.3.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [catalina.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [catalina.jar:9.0.65]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) [catalina.jar:9.0.65]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [catalina.jar:9.0.65]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [catalina.jar:9.0.65]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [catalina.jar:9.0.65]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [catalina.jar:9.0.65]\r\n\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687) [catalina.jar:9.0.65]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [catalina.jar:9.0.65]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) [catalina.jar:9.0.65]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) [tomcat-coyote.jar:9.0.65]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-coyote.jar:9.0.65]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) [tomcat-coyote.jar:9.0.65]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) [tomcat-coyote.jar:9.0.65]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-coyote.jar:9.0.65]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-util.jar:9.0.65]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-util.jar:9.0.65]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-util.jar:9.0.65]\r\n\tat java.lang.Thread.run(Thread.java:750) [na:1.8.0_331]\r\n```\r\n\r\nThe error shows up also in a tooltip when the mouse is idle on the webpage.\r\nHere&#39;s the code in my **MainUI.java**:\r\n\r\n```/**\r\n * The Class MainUI.\r\n */\r\n@SpringUI\r\n@Theme(&quot;demo&quot;)\r\n@SpringViewDisplay\r\n@SpringView(name = &quot;&quot;)\r\npublic class MainUI extends UI implements View {\r\n\r\n\t@Autowired\r\n\tOldGenesRepo repo ;\r\n    /** The Constant serialVersionUID. */\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Override\r\n    protected void init(VaadinRequest request) {\r\n\r\ntry {\r\n\t  final VerticalLayout layout = new VerticalLayout();\r\n\r\n          Button button = new Button(&quot;Click here&quot;);\r\n          button.setDescription(&quot;Try to click me&quot;);\r\n          button.addClickListener(click -&gt; \r\n          \r\n          {\r\n        \t  Notification.show(&quot;clicked&quot;);\r\n          });\r\n          \r\n          layout.addComponent(button);\r\n          \r\n          setContent(layout);\r\n\r\n    } catch (Exception e) {\r\n    \t\r\n    \tSystem.out.println(e);\r\n    \t}\r\n    }\r\n\r\n}\r\n```\r\n\r\nWhat is raising that error and how can I resolve it?\r\nThank you for the help.","title":"Vaadin 8 Component cannot be added inside it&#39;s own content","body":"<p>I'm implementing some button on a webpage to learn how to use Vaadin 8 with Java 8 and SpringToolSuite4.\nI created an empty page with a single button that shows a notification when clicked.\nThe code is working but when running the code with spring boot (v2.7.3) I get the following error:</p>\n<pre><code>java.lang.IllegalArgumentException: Component cannot be added inside it's own content\n    at com.vaadin.ui.AbstractSingleComponentContainer.setContent(AbstractSingleComponentContainer.java:140) ~[vaadin-server-8.5.1.jar:8.5.1]\n    at com.vaadin.ui.UI.setContent(UI.java:1431) ~[vaadin-server-8.5.1.jar:8.5.1]\n    at com.vaadin.navigator.Navigator$SingleComponentContainerViewDisplay.showView(Navigator.java:305) ~[vaadin-server-8.5.1.jar:8.5.1]\n    at com.vaadin.navigator.Navigator.performNavigateTo(Navigator.java:773) ~[vaadin-server-8.5.1.jar:8.5.1]\n    at com.vaadin.navigator.Navigator.lambda$navigateTo$9a874efd$1(Navigator.java:702) ~[vaadin-server-8.5.1.jar:8.5.1]\n    at com.vaadin.navigator.Navigator.runAfterLeaveConfirmation(Navigator.java:726) ~[vaadin-server-8.5.1.jar:8.5.1]\n    at com.vaadin.navigator.Navigator.navigateTo(Navigator.java:701) ~[vaadin-server-8.5.1.jar:8.5.1]\n    at com.vaadin.navigator.Navigator.navigateTo(Navigator.java:678) ~[vaadin-server-8.5.1.jar:8.5.1]\n    at com.vaadin.ui.UI.doInit(UI.java:775) ~[vaadin-server-8.5.1.jar:8.5.1]\n    at com.vaadin.server.communication.UIInitHandler.getBrowserDetailsUI(UIInitHandler.java:218) [vaadin-server-8.5.1.jar:8.5.1]\n    at com.vaadin.server.communication.UIInitHandler.synchronizedHandleRequest(UIInitHandler.java:76) [vaadin-server-8.5.1.jar:8.5.1]\n    at com.vaadin.server.SynchronizedRequestHandler.handleRequest(SynchronizedRequestHandler.java:40) [vaadin-server-8.5.1.jar:8.5.1]\n    at com.vaadin.server.VaadinService.handleRequest(VaadinService.java:1601) [vaadin-server-8.5.1.jar:8.5.1]\n    at com.vaadin.server.VaadinServlet.service(VaadinServlet.java:445) [vaadin-server-8.5.1.jar:8.5.1]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) [servlet-api.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) [catalina.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [catalina.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711) [catalina.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459) [catalina.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:353) [catalina.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313) [catalina.jar:9.0.65]\n    at org.springframework.web.servlet.mvc.ServletForwardingController.handleRequestInternal(ServletForwardingController.java:141) [spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.mvc.AbstractController.handleRequest(AbstractController.java:177) [spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter.handle(SimpleControllerHandlerAdapter.java:51) [spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070) [spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) [spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) [spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) [spring-webmvc-5.3.22.jar:5.3.22]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) [servlet-api.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) [spring-webmvc-5.3.22.jar:5.3.22]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) [servlet-api.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) [catalina.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [catalina.jar:9.0.65]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) [tomcat-websocket.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [catalina.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [catalina.jar:9.0.65]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.22.jar:5.3.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [catalina.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [catalina.jar:9.0.65]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.22.jar:5.3.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [catalina.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [catalina.jar:9.0.65]\n    at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:126) [spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.web.servlet.support.ErrorPageFilter.access$000(ErrorPageFilter.java:64) [spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.web.servlet.support.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:101) [spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:119) [spring-boot-2.7.3.jar:2.7.3]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [catalina.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [catalina.jar:9.0.65]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.22.jar:5.3.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [catalina.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [catalina.jar:9.0.65]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) [catalina.jar:9.0.65]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [catalina.jar:9.0.65]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [catalina.jar:9.0.65]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [catalina.jar:9.0.65]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [catalina.jar:9.0.65]\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687) [catalina.jar:9.0.65]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [catalina.jar:9.0.65]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) [catalina.jar:9.0.65]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) [tomcat-coyote.jar:9.0.65]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-coyote.jar:9.0.65]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) [tomcat-coyote.jar:9.0.65]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) [tomcat-coyote.jar:9.0.65]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-coyote.jar:9.0.65]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-util.jar:9.0.65]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-util.jar:9.0.65]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-util.jar:9.0.65]\n    at java.lang.Thread.run(Thread.java:750) [na:1.8.0_331]\n</code></pre>\n<p>The error shows up also in a tooltip when the mouse is idle on the webpage.\nHere's the code in my <strong>MainUI.java</strong>:</p>\n<pre><code> * The Class MainUI.\n */\n@SpringUI\n@Theme(&quot;demo&quot;)\n@SpringViewDisplay\n@SpringView(name = &quot;&quot;)\npublic class MainUI extends UI implements View {\n\n    @Autowired\n    OldGenesRepo repo ;\n    /** The Constant serialVersionUID. */\n    private static final long serialVersionUID = 1L;\n\n    @Override\n    protected void init(VaadinRequest request) {\n\ntry {\n      final VerticalLayout layout = new VerticalLayout();\n\n          Button button = new Button(&quot;Click here&quot;);\n          button.setDescription(&quot;Try to click me&quot;);\n          button.addClickListener(click -&gt; \n          \n          {\n              Notification.show(&quot;clicked&quot;);\n          });\n          \n          layout.addComponent(button);\n          \n          setContent(layout);\n\n    } catch (Exception e) {\n        \n        System.out.println(e);\n        }\n    }\n\n}\n</code></pre>\n<p>What is raising that error and how can I resolve it?\nThank you for the help.</p>\n"},{"tags":["java","spring","decorator","mapstruct","spring5"],"answers":[{"tags":[],"owner":{"account_id":21900928,"reputation":29,"user_id":16186615,"display_name":"raed abu sada"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1661367873,"creation_date":1661367873,"answer_id":73478429,"question_id":73478211,"body_markdown":"why use the @DecoratedWith ?.\r\nand no need to use abstract class.\r\ntry like below\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface IMyMapper {\r\n\r\n    public Person1 toPerson1(Person2 person2);\r\n\r\n    public Person2 toPerson2(Person1 person1);\r\n\r\n   }\r\n\r\n//then inject the IMyMapper any where u want and use it to convert between //person1 and person2\r\n\r\nuse constructor injection.\r\n\r\n    private final IMyMapper mapper;\r\n\r\n    public YOURCLASSNAME(IMyMapper mapper){\r\n    this.mapper = mapper\r\n    }","title":"Mapstruct decorator unable to inject the &quot;delegate&quot; bean in its generated code","body":"<p>why use the @DecoratedWith ?.\nand no need to use abstract class.\ntry like below</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface IMyMapper {\n\npublic Person1 toPerson1(Person2 person2);\n\npublic Person2 toPerson2(Person1 person1);\n</code></pre>\n<p>}</p>\n<p>//then inject the IMyMapper any where u want and use it to convert between //person1 and person2</p>\n<p>use constructor injection.</p>\n<pre><code>private final IMyMapper mapper;\n\npublic YOURCLASSNAME(IMyMapper mapper){\nthis.mapper = mapper\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23191137,"reputation":1266,"user_id":17287498,"display_name":"Ben Zegveld"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661422373,"creation_date":1661422373,"answer_id":73485745,"question_id":73478211,"body_markdown":"The problem is that you are telling mapstruct that you will be using an dependency injection framework, spring in this case, while in usage you are not using that framework.\r\n\r\nThe call `Mappers.getMapper(IMyMapper.class);` does not do any dependency injection actions. If you would use the spring boot framework to retrieve the mapper, then dependency injection would be used.\r\n\r\nFor example:\r\n```java\r\n@Bean\r\n    public CommandLineRunner commandLineRunner(IMyMapper iMyMapper){\r\n        return (arg) -&gt; {\r\n            try {\r\n                Person2 person2 = new Person2(&quot;person2&quot;, &quot;field2&quot;, &quot;samefff&quot;);\r\n                System.out.println(&quot;person2=&quot; + person2.toString());\r\n                Person1 person1 = iMyMapper.toPerson1(person2);\r\n                System.out.println(&quot;person1=&quot; + person1);\r\n\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n        };\r\n    }\r\n```","title":"Mapstruct decorator unable to inject the &quot;delegate&quot; bean in its generated code","body":"<p>The problem is that you are telling mapstruct that you will be using an dependency injection framework, spring in this case, while in usage you are not using that framework.</p>\n<p>The call <code>Mappers.getMapper(IMyMapper.class);</code> does not do any dependency injection actions. If you would use the spring boot framework to retrieve the mapper, then dependency injection would be used.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n    public CommandLineRunner commandLineRunner(IMyMapper iMyMapper){\n        return (arg) -&gt; {\n            try {\n                Person2 person2 = new Person2(&quot;person2&quot;, &quot;field2&quot;, &quot;samefff&quot;);\n                System.out.println(&quot;person2=&quot; + person2.toString());\n                Person1 person1 = iMyMapper.toPerson1(person2);\n                System.out.println(&quot;person1=&quot; + person1);\n\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n\n        };\n    }\n</code></pre>\n"}],"owner":{"account_id":6691602,"reputation":989,"user_id":5160940,"display_name":"DockYard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":888,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73485745,"answer_count":2,"score":1,"last_activity_date":1661422373,"creation_date":1661366660,"question_id":73478211,"body_markdown":"I&#39;m using the `@DecoratedWith` annotation of `mapstruct 1.4.1Final` along with `spring-boot 2.7.0`, but it is not working.\r\n\r\nDescribing my issue below here:\r\n\r\nI have 2 pojos `Person1` and `Person2`\r\n\r\n```\r\npublic class Person1 {\r\n    String id;\r\n    String field1;\r\n    String sameField;\r\n\r\n    public Person1() {\r\n    }\r\n\r\n    public Person1(String id, String field1, String sameField) {\r\n        this.id = id;\r\n        this.field1 = field1;\r\n        this.sameField = sameField;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Person1{&quot; +\r\n                &quot;id=&#39;&quot; + id + &#39;\\&#39;&#39; +\r\n                &quot;, field1=&#39;&quot; + field1 + &#39;\\&#39;&#39; +\r\n                &quot;, sameField=&#39;&quot; + sameField + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\npublic class Person2 {\r\n    String id;\r\n    String field2;\r\n    String sameField;\r\n\r\n    public Person2() {\r\n    }\r\n\r\n    public Person2(String id, String field2, String sameField) {\r\n        this.id = id;\r\n        this.field2 = field2;\r\n        this.sameField = sameField;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Person2{&quot; +\r\n                &quot;id=&#39;&quot; + id + &#39;\\&#39;&#39; +\r\n                &quot;, field2=&#39;&quot; + field2 + &#39;\\&#39;&#39; +\r\n                &quot;, sameField=&#39;&quot; + sameField + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nI have a mapper `IMapper.java` as below, note I have used the `@DecoratedWith` with `DecClass.class`:\r\n\r\n```\r\n@Mapper(componentModel = &quot;spring&quot;)\r\n@DecoratedWith(DecClass.class)\r\npublic interface IMyMapper {\r\n\r\n    public Person1 toPerson1(Person2 person2);\r\n\r\n    public Person2 toPerson2(Person1 person1);\r\n\r\n}\r\n\r\n```\r\n\r\nI have `DecClass.java` class as below:\r\n\r\n```\r\npublic abstract class DecClass implements IMyMapper{\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;delegate&quot;)\r\n    IMyMapper delegate;\r\n\r\n    @Override\r\n    public Person2 toPerson2(Person1 person1) {\r\n        return null;\r\n    }\r\n    \r\n}\r\n\r\n```\r\n\r\nOn doing a `maven clean install` it generated the below classes:\r\n\r\n`IMyMapperImpl.java`\r\n\r\n```\r\n\r\n@Generated(\r\n    value = &quot;org.mapstruct.ap.MappingProcessor&quot;,\r\n    date = &quot;2022-08-25T00:02:05+0530&quot;,\r\n    comments = &quot;version: 1.4.1.Final, compiler: javac, environment: Java 11.0.16.1 (Amazon.com Inc.)&quot;\r\n)\r\n@Component\r\n@Primary\r\npublic class IMyMapperImpl extends DecClass implements IMyMapper {\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;delegate&quot;)\r\n    private IMyMapper delegate;\r\n\r\n    @Override\r\n    public Person1 toPerson1(Person2 person2)  {\r\n        return delegate.toPerson1( person2 );\r\n    }\r\n}\r\n\r\n```\r\n\r\n`IMyMapperImpl_.java`\r\n\r\n```\r\n@Generated(\r\n    value = &quot;org.mapstruct.ap.MappingProcessor&quot;,\r\n    date = &quot;2022-08-25T00:02:05+0530&quot;,\r\n    comments = &quot;version: 1.4.1.Final, compiler: javac, environment: Java 11.0.16.1 (Amazon.com Inc.)&quot;\r\n)\r\n@Component\r\n@Qualifier(&quot;delegate&quot;)\r\npublic class IMyMapperImpl_ implements IMyMapper {\r\n\r\n    @Override\r\n    public Person1 toPerson1(Person2 person2) {\r\n        if ( person2 == null ) {\r\n            return null;\r\n        }\r\n\r\n        Person1 person1 = new Person1();\r\n\r\n        person1.setId( person2.getId() );\r\n        person1.setSameField( person2.getSameField() );\r\n\r\n        return person1;\r\n    }\r\n\r\n    @Override\r\n    public Person2 toPerson2(Person1 person1) {\r\n        if ( person1 == null ) {\r\n            return null;\r\n        }\r\n\r\n        Person2 person2 = new Person2();\r\n\r\n        person2.setId( person1.getId() );\r\n        person2.setSameField( person1.getSameField() );\r\n\r\n        return person2;\r\n    }\r\n}\r\n\r\n```\r\n\r\nSo far it looks pretty good to me, however when I run this simple test like below it gives me a null pointer exception on the line `Person1 person1 = iMyMapper.toPerson1(person2);`:\r\n\r\n```\r\n@Bean\r\n\tpublic CommandLineRunner commandLineRunner(){\r\n\t\treturn (arg) -&gt; {\r\n\t\t\ttry {\r\n\t\t\t\tIMyMapper iMyMapper = Mappers.getMapper(IMyMapper.class);\r\n\r\n\t\t\t\tPerson2 person2 = new Person2(&quot;person2&quot;, &quot;field2&quot;, &quot;samefff&quot;);\r\n\t\t\t\tSystem.out.println(&quot;person2=&quot; + person2.toString());\r\n\t\t\t\tPerson1 person1 = iMyMapper.toPerson1(person2);\r\n\t\t\t\tSystem.out.println(&quot;person1=&quot; + person1);\r\n\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\r\n\t\t};\r\n\t}\r\n```\r\n\r\nThe exception is coming because in the generated class `IMyMapperImpl.java`, the member `private IMyMapper delegate;` is not getting injected.\r\n\r\nCould some please help me understand why this is happening. Any help would be sincerely appreciated.\r\n\r\nThe above source code link is here [here][1]\r\n\r\n\r\n  [1]: https://github.com/Dock-Yard/MapStructL\r\n\r\nAlso, I&#39;m using Java11(AWS Coretto)","title":"Mapstruct decorator unable to inject the &quot;delegate&quot; bean in its generated code","body":"<p>I'm using the <code>@DecoratedWith</code> annotation of <code>mapstruct 1.4.1Final</code> along with <code>spring-boot 2.7.0</code>, but it is not working.</p>\n<p>Describing my issue below here:</p>\n<p>I have 2 pojos <code>Person1</code> and <code>Person2</code></p>\n<pre><code>public class Person1 {\n    String id;\n    String field1;\n    String sameField;\n\n    public Person1() {\n    }\n\n    public Person1(String id, String field1, String sameField) {\n        this.id = id;\n        this.field1 = field1;\n        this.sameField = sameField;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Person1{&quot; +\n                &quot;id='&quot; + id + '\\'' +\n                &quot;, field1='&quot; + field1 + '\\'' +\n                &quot;, sameField='&quot; + sameField + '\\'' +\n                '}';\n    }\n}\n\n</code></pre>\n<pre><code>public class Person2 {\n    String id;\n    String field2;\n    String sameField;\n\n    public Person2() {\n    }\n\n    public Person2(String id, String field2, String sameField) {\n        this.id = id;\n        this.field2 = field2;\n        this.sameField = sameField;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Person2{&quot; +\n                &quot;id='&quot; + id + '\\'' +\n                &quot;, field2='&quot; + field2 + '\\'' +\n                &quot;, sameField='&quot; + sameField + '\\'' +\n                '}';\n    }\n\n}\n\n</code></pre>\n<p>I have a mapper <code>IMapper.java</code> as below, note I have used the <code>@DecoratedWith</code> with <code>DecClass.class</code>:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\n@DecoratedWith(DecClass.class)\npublic interface IMyMapper {\n\n    public Person1 toPerson1(Person2 person2);\n\n    public Person2 toPerson2(Person1 person1);\n\n}\n\n</code></pre>\n<p>I have <code>DecClass.java</code> class as below:</p>\n<pre><code>public abstract class DecClass implements IMyMapper{\n\n    @Autowired\n    @Qualifier(&quot;delegate&quot;)\n    IMyMapper delegate;\n\n    @Override\n    public Person2 toPerson2(Person1 person1) {\n        return null;\n    }\n    \n}\n\n</code></pre>\n<p>On doing a <code>maven clean install</code> it generated the below classes:</p>\n<p><code>IMyMapperImpl.java</code></p>\n<pre><code>\n@Generated(\n    value = &quot;org.mapstruct.ap.MappingProcessor&quot;,\n    date = &quot;2022-08-25T00:02:05+0530&quot;,\n    comments = &quot;version: 1.4.1.Final, compiler: javac, environment: Java 11.0.16.1 (Amazon.com Inc.)&quot;\n)\n@Component\n@Primary\npublic class IMyMapperImpl extends DecClass implements IMyMapper {\n\n    @Autowired\n    @Qualifier(&quot;delegate&quot;)\n    private IMyMapper delegate;\n\n    @Override\n    public Person1 toPerson1(Person2 person2)  {\n        return delegate.toPerson1( person2 );\n    }\n}\n\n</code></pre>\n<p><code>IMyMapperImpl_.java</code></p>\n<pre><code>@Generated(\n    value = &quot;org.mapstruct.ap.MappingProcessor&quot;,\n    date = &quot;2022-08-25T00:02:05+0530&quot;,\n    comments = &quot;version: 1.4.1.Final, compiler: javac, environment: Java 11.0.16.1 (Amazon.com Inc.)&quot;\n)\n@Component\n@Qualifier(&quot;delegate&quot;)\npublic class IMyMapperImpl_ implements IMyMapper {\n\n    @Override\n    public Person1 toPerson1(Person2 person2) {\n        if ( person2 == null ) {\n            return null;\n        }\n\n        Person1 person1 = new Person1();\n\n        person1.setId( person2.getId() );\n        person1.setSameField( person2.getSameField() );\n\n        return person1;\n    }\n\n    @Override\n    public Person2 toPerson2(Person1 person1) {\n        if ( person1 == null ) {\n            return null;\n        }\n\n        Person2 person2 = new Person2();\n\n        person2.setId( person1.getId() );\n        person2.setSameField( person1.getSameField() );\n\n        return person2;\n    }\n}\n\n</code></pre>\n<p>So far it looks pretty good to me, however when I run this simple test like below it gives me a null pointer exception on the line <code>Person1 person1 = iMyMapper.toPerson1(person2);</code>:</p>\n<pre><code>@Bean\n    public CommandLineRunner commandLineRunner(){\n        return (arg) -&gt; {\n            try {\n                IMyMapper iMyMapper = Mappers.getMapper(IMyMapper.class);\n\n                Person2 person2 = new Person2(&quot;person2&quot;, &quot;field2&quot;, &quot;samefff&quot;);\n                System.out.println(&quot;person2=&quot; + person2.toString());\n                Person1 person1 = iMyMapper.toPerson1(person2);\n                System.out.println(&quot;person1=&quot; + person1);\n\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n\n        };\n    }\n</code></pre>\n<p>The exception is coming because in the generated class <code>IMyMapperImpl.java</code>, the member <code>private IMyMapper delegate;</code> is not getting injected.</p>\n<p>Could some please help me understand why this is happening. Any help would be sincerely appreciated.</p>\n<p>The above source code link is here <a href=\"https://github.com/Dock-Yard/MapStructL\" rel=\"nofollow noreferrer\">here</a></p>\n<p>Also, I'm using Java11(AWS Coretto)</p>\n"},{"tags":["java","jackson","json-deserialization"],"owner":{"account_id":9041360,"reputation":57,"user_id":6735499,"display_name":"Anton"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661422252,"creation_date":1661365338,"question_id":73477967,"body_markdown":"I have an issue when returning a null from a custom deserializer, it looks like the rest of the json will not be deserialized after.\r\n\r\nUnfortunately I can&#39;t provide a real code, but here is a short version with all the annotations included.\r\n\r\nWhat would happen if I directly return null: &quot;Problem&quot; will be instantiated, but both fields within the instance will be null. I thought whether @JsonUnwrapped could collide somehow with my custom deserealizer, but even if I remove an annotation, behavior maintains. \r\n\r\nBut if I **consume** part of the Json that represents &quot;WannaBeNull&quot;, everything works fine, as shown in the last implemetation of the class. Using SpringBoot 2.6.6, Jackson 2.13. Would appreciate any idea about what&#39;s going on here.\r\n\r\n**A.java**\r\n```\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class A extends B {\r\n  private C c;\r\n\r\n  // basic setter for C, no annotations\r\n}\r\n```\r\n\r\n**B.java**\r\n```\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class B {\r\n  @JsonUnwrapped\r\n  private Problem problem; // a simple class with 2 fields, one of type Integer and another is String\r\n\r\n  // basic setter and a getter for Problem, no annotations\r\n  ...\r\n}\r\n```\r\n\r\n**C.java**\r\n```\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class C extends D {\r\n  // nothing important here besides couple of basic fields\r\n}\r\n```\r\n\r\n**D.java**\r\n```\r\npublic abstract class D {\r\n  @JsonDeserialize(using = WannaBeNullCustomDeserializer.class)\r\n  private WannaBeNull wannaBeNull;\r\n\r\n  // basic setter and getter, no annotation\r\n}\r\n```\r\n\r\n**WannaBeNullCustomDeserializer.java - NOT WORKING**\r\n```\r\npublic class WannaBeNullCustomDeserializer extends StdDeserializer&lt;WannaBeNull&gt; {\r\n\r\n\tpublic WannaBeNullCustomDeserializer (Class&lt;?&gt; vc) {\r\n\t\tsuper(vc);\r\n\t}\r\n\r\n\tpublic WannaBeNullCustomDeserializer () {\r\n\t\tthis(null);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic EpOrderForVcDto deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\r\n\t\treturn getNullValue(ctxt);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n**WannaBeNullCustomDeserializer.java - WORKING**\r\n```\r\npublic class WannaBeNullCustomDeserializer extends StdDeserializer&lt;WannaBeNull&gt; {\r\n\r\n\tpublic WannaBeNullCustomDeserializer (Class&lt;?&gt; vc) {\r\n\t\tsuper(vc);\r\n\t}\r\n\r\n\tpublic WannaBeNullCustomDeserializer () {\r\n\t\tthis(null);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic EpOrderForVcDto deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\r\n        new ObjectMapper().readValue(p, WannaBeNull.class);\r\n\t\treturn getNullValue(ctxt);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n**UPDATE**  \r\nIt looks like when inputstream (our json) is being processed, if the json that does represent that object will not be consumed and a null will be returned from a deserializer, it would mess up with tokens/further processing of the entire json, however it does not cause any kind of exception/error.","title":"Jackson custom deserializer causes data to be wiped out if null returned","body":"<p>I have an issue when returning a null from a custom deserializer, it looks like the rest of the json will not be deserialized after.</p>\n<p>Unfortunately I can't provide a real code, but here is a short version with all the annotations included.</p>\n<p>What would happen if I directly return null: &quot;Problem&quot; will be instantiated, but both fields within the instance will be null. I thought whether @JsonUnwrapped could collide somehow with my custom deserealizer, but even if I remove an annotation, behavior maintains.</p>\n<p>But if I <strong>consume</strong> part of the Json that represents &quot;WannaBeNull&quot;, everything works fine, as shown in the last implemetation of the class. Using SpringBoot 2.6.6, Jackson 2.13. Would appreciate any idea about what's going on here.</p>\n<p><strong>A.java</strong></p>\n<pre><code>@JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class A extends B {\n  private C c;\n\n  // basic setter for C, no annotations\n}\n</code></pre>\n<p><strong>B.java</strong></p>\n<pre><code>@JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class B {\n  @JsonUnwrapped\n  private Problem problem; // a simple class with 2 fields, one of type Integer and another is String\n\n  // basic setter and a getter for Problem, no annotations\n  ...\n}\n</code></pre>\n<p><strong>C.java</strong></p>\n<pre><code>@JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class C extends D {\n  // nothing important here besides couple of basic fields\n}\n</code></pre>\n<p><strong>D.java</strong></p>\n<pre><code>public abstract class D {\n  @JsonDeserialize(using = WannaBeNullCustomDeserializer.class)\n  private WannaBeNull wannaBeNull;\n\n  // basic setter and getter, no annotation\n}\n</code></pre>\n<p><strong>WannaBeNullCustomDeserializer.java - NOT WORKING</strong></p>\n<pre><code>public class WannaBeNullCustomDeserializer extends StdDeserializer&lt;WannaBeNull&gt; {\n\n    public WannaBeNullCustomDeserializer (Class&lt;?&gt; vc) {\n        super(vc);\n    }\n\n    public WannaBeNullCustomDeserializer () {\n        this(null);\n    }\n\n    @Override\n    public EpOrderForVcDto deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\n        return getNullValue(ctxt);\n    }\n\n}\n</code></pre>\n<p><strong>WannaBeNullCustomDeserializer.java - WORKING</strong></p>\n<pre><code>public class WannaBeNullCustomDeserializer extends StdDeserializer&lt;WannaBeNull&gt; {\n\n    public WannaBeNullCustomDeserializer (Class&lt;?&gt; vc) {\n        super(vc);\n    }\n\n    public WannaBeNullCustomDeserializer () {\n        this(null);\n    }\n\n    @Override\n    public EpOrderForVcDto deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\n        new ObjectMapper().readValue(p, WannaBeNull.class);\n        return getNullValue(ctxt);\n    }\n\n}\n</code></pre>\n<p><strong>UPDATE</strong><br />\nIt looks like when inputstream (our json) is being processed, if the json that does represent that object will not be consumed and a null will be returned from a deserializer, it would mess up with tokens/further processing of the entire json, however it does not cause any kind of exception/error.</p>\n"},{"tags":["java","android","json","android-studio","gson"],"comments":[{"owner":{"account_id":8541170,"reputation":13179,"user_id":6401241,"display_name":"Radesh"},"score":0,"creation_date":1540021523,"post_id":52903443,"comment_id":92718141,"body_markdown":"send your MovieDb.java code or MovieInterface.java","body":"send your MovieDb.java code or MovieInterface.java"},{"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"score":0,"creation_date":1540045456,"post_id":52903443,"comment_id":92724022,"body_markdown":"Does `MovieDb` extednd another class?","body":"Does <code>MovieDb</code> extednd another class?"},{"owner":{"account_id":23266507,"reputation":9,"user_id":18540858,"display_name":"Rurru"},"score":0,"creation_date":1648052638,"post_id":52903443,"comment_id":126537788,"body_markdown":"I had the same problem and it was because the class that was throwing the exception extended another class with an attribute with the same name. Don&#39;t know if that&#39;s your problem, but if your class extends another, check it.","body":"I had the same problem and it was because the class that was throwing the exception extended another class with an attribute with the same name. Don&#39;t know if that&#39;s your problem, but if your class extends another, check it."}],"answers":[{"tags":[],"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1540052852,"creation_date":1540045893,"answer_id":52906736,"question_id":52903443,"body_markdown":"Your error is most propably because you minify two fields to a same name `a`. Something like:\r\n\r\n    @SerializedName(&quot;a&quot;)\r\n    Long veryLongFieldName;\r\n\r\n    @SerializedName(&quot;a&quot;)\r\n    Long anotherVeryLongFieldName;\r\n\r\nNote that these can be either in the same class or if using inheritance it is enough that they are in the same inheritance tree. `Gson` can not assign two values to one minimized field name `a`.\r\n\r\nIt could of course also be that you have minimized some field to a name that is already reserved by some other unminimized field.","title":"Getting &quot;declares multiple JSON fields named&quot; error when serializing with GSON","body":"<p>Your error is most propably because you minify two fields to a same name <code>a</code>. Something like:</p>\n\n<pre><code>@SerializedName(\"a\")\nLong veryLongFieldName;\n\n@SerializedName(\"a\")\nLong anotherVeryLongFieldName;\n</code></pre>\n\n<p>Note that these can be either in the same class or if using inheritance it is enough that they are in the same inheritance tree. <code>Gson</code> can not assign two values to one minimized field name <code>a</code>.</p>\n\n<p>It could of course also be that you have minimized some field to a name that is already reserved by some other unminimized field.</p>\n"},{"tags":[],"owner":{"account_id":3801583,"reputation":523,"user_id":3155082,"display_name":"Jawad Zeb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661422147,"creation_date":1661422147,"answer_id":73485699,"question_id":52903443,"body_markdown":"I&#39;ve faced this issue when I had context property/variable in the model class ","title":"Getting &quot;declares multiple JSON fields named&quot; error when serializing with GSON","body":"<p>I've faced this issue when I had context property/variable in the model class</p>\n"}],"owner":{"account_id":8934088,"reputation":12520,"user_id":6665568,"accept_rate":80,"display_name":"Natesh bhat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2554,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1661422147,"creation_date":1540020820,"question_id":52903443,"body_markdown":"    Type type = new TypeToken&lt;HashMap&lt;String , MovieDb&gt;&gt;() {}.getType();\r\n    gson.fromJson(json, type); //ERROR HERE !!!\r\n\r\n\r\nWhen I convert from Json to the hashmap object it works fine without minifying enabled. But when minify is enabled it gives me the following error at this line: \r\n\r\n    java.lang.IllegalArgumentException: class a.a.a.a.b declares multiple JSON fields named a\r\n            at com.google.b.b.a.i.a(ReflectiveTypeAdapterFactory.java:172)\r\n            at com.google.b.b.a.i.a(ReflectiveTypeAdapterFactory.java:102)\r\n            at com.google.b.e.a(Gson.java:458)\r\n            at com.google.b.b.a.b.a(CollectionTypeAdapterFactory.java:53)\r\n            at com.google.b.e.a(Gson.java:458)\r\n            at com.google.b.b.a.i.a(ReflectiveTypeAdapterFactory.java:117)\r\n            at com.google.b.b.a.i.a(ReflectiveTypeAdapterFactory.java:166)\r\n            at com.google.b.b.a.i.a(ReflectiveTypeAdapterFactory.java:102)\r\n            at com.google.b.e.a(Gson.java:458)\r\n            at com.google.b.b.a.g.a(MapTypeAdapterFactory.java:126)\r\n            at com.google.b.e.a(Gson.java:458)\r\n            at com.google.b.e.a(Gson.java:926)\r\n            at com.google.b.e.a(Gson.java:892)\r\n            at com.google.b.e.a(Gson.java:841)\r\n            at com.techy.nateshmbhat.moviego.i.onPreExecute(MovieInterface.java:180)\r\n            at android.os.AsyncTask.executeOnExecutor(AsyncTask.java:648)\r\n            at android.os.AsyncTask.execute(AsyncTask.java:595)\r\n            at com.techy.nateshmbhat.moviego.i.b(MovieInterface.java:101)\r\n            at com.techy.nateshmbhat.moviego.a.a(Activity_InTheaterMovies.java:55)\r\n","title":"Getting &quot;declares multiple JSON fields named&quot; error when serializing with GSON","body":"<pre><code>Type type = new TypeToken&lt;HashMap&lt;String , MovieDb&gt;&gt;() {}.getType();\ngson.fromJson(json, type); //ERROR HERE !!!\n</code></pre>\n\n<p>When I convert from Json to the hashmap object it works fine without minifying enabled. But when minify is enabled it gives me the following error at this line: </p>\n\n<pre><code>java.lang.IllegalArgumentException: class a.a.a.a.b declares multiple JSON fields named a\n        at com.google.b.b.a.i.a(ReflectiveTypeAdapterFactory.java:172)\n        at com.google.b.b.a.i.a(ReflectiveTypeAdapterFactory.java:102)\n        at com.google.b.e.a(Gson.java:458)\n        at com.google.b.b.a.b.a(CollectionTypeAdapterFactory.java:53)\n        at com.google.b.e.a(Gson.java:458)\n        at com.google.b.b.a.i.a(ReflectiveTypeAdapterFactory.java:117)\n        at com.google.b.b.a.i.a(ReflectiveTypeAdapterFactory.java:166)\n        at com.google.b.b.a.i.a(ReflectiveTypeAdapterFactory.java:102)\n        at com.google.b.e.a(Gson.java:458)\n        at com.google.b.b.a.g.a(MapTypeAdapterFactory.java:126)\n        at com.google.b.e.a(Gson.java:458)\n        at com.google.b.e.a(Gson.java:926)\n        at com.google.b.e.a(Gson.java:892)\n        at com.google.b.e.a(Gson.java:841)\n        at com.techy.nateshmbhat.moviego.i.onPreExecute(MovieInterface.java:180)\n        at android.os.AsyncTask.executeOnExecutor(AsyncTask.java:648)\n        at android.os.AsyncTask.execute(AsyncTask.java:595)\n        at com.techy.nateshmbhat.moviego.i.b(MovieInterface.java:101)\n        at com.techy.nateshmbhat.moviego.a.a(Activity_InTheaterMovies.java:55)\n</code></pre>\n"},{"tags":["java","elasticsearch","elastic-stack"],"answers":[{"tags":[],"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1583250740,"creation_date":1530194610,"answer_id":51084922,"question_id":51084744,"body_markdown":"The problem is this line:\r\n\r\n    .must(QueryBuilders.termQuery(&quot;id&quot;, link_id_array))\r\n\r\nYou need to use a `terms` query instead since you&#39;re passing a list of IDs\r\n\r\n    .must(QueryBuilders.termsQuery(&quot;id&quot;, link_id_array))\r\n                            ^\r\n                            |\r\n                      change this\r\n","title":"ElasticsearchStatusException[Elasticsearch exception [type=search_phase_execution_exception, reason=all shards failed]]","body":"<p>The problem is this line:</p>\n\n<pre><code>.must(QueryBuilders.termQuery(\"id\", link_id_array))\n</code></pre>\n\n<p>You need to use a <code>terms</code> query instead since you're passing a list of IDs</p>\n\n<pre><code>.must(QueryBuilders.termsQuery(\"id\", link_id_array))\n                        ^\n                        |\n                  change this\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26157322,"reputation":1,"user_id":19844403,"display_name":"shivam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661422132,"creation_date":1661422132,"answer_id":73485697,"question_id":51084744,"body_markdown":"In my case, I had missed adding the @Field annotation on each data member in the ES Entity. Adding that removed this error.\r\n","title":"ElasticsearchStatusException[Elasticsearch exception [type=search_phase_execution_exception, reason=all shards failed]]","body":"<p>In my case, I had missed adding the @Field annotation on each data member in the ES Entity. Adding that removed this error.</p>\n"}],"owner":{"account_id":11917543,"reputation":211,"user_id":8721082,"display_name":"Karthikeyan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32239,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":51084922,"answer_count":2,"score":4,"last_activity_date":1661422132,"creation_date":1530194118,"question_id":51084744,"body_markdown":"I am fetching documents from Elastic Search index named as `replacement_local100`. I am querying the same index two times.\r\n\r\nFirst Query --&gt; Based on the `code` as input am getting a list of `link_ids`.\r\n\t\r\nThe second Query --&gt; Based on `List of Link IDs` (from the first query) I am getting different data and I am using filter too.\r\n\t\r\nWhen I am invoking the second query I am getting the error:\r\n\r\n\tElasticsearchStatusException[Elasticsearch exception [type=search_phase_execution_exception, reason=all shards failed]]\r\n\t\tat org.elasticsearch.rest.BytesRestResponse.errorFromXContent(BytesRestResponse.java:177)\r\n\t\tat org.elasticsearch.client.RestHighLevelClient.parseEntity(RestHighLevelClient.java:573)\r\n\t\tat org.elasticsearch.client.RestHighLevelClient.parseResponseException(RestHighLevelClient.java:549)\r\n\t\tat org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:456)\r\n\t\tat org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:429)\r\n\t\tat org.elasticsearch.client.RestHighLevelClient.search(RestHighLevelClient.java:368)\r\n\t\tat com.jci.vb2.searchengine.dao.ReplacementDao.getReplacementByCode(ReplacementDao.java:127)\r\n\t\tat com.jci.vb2.searchengineservice.mqservice.Service.getReplacementByCode(Service.java:73)\r\n\t\tat com.jci.vb2.searchengineservice.mqservice.Consumer.consume(Consumer.java:48)\r\n\t\tat com.jci.vb2.utils.Consumer$1$1.run(Consumer.java:89)\r\n\t\tat java.lang.Thread.run(Thread.java:748)\r\n\t\tSuppressed: org.elasticsearch.client.ResponseException: method [GET], host [http://localhost:9200], URI [/replacement_local100/_search?typed_keys=true&amp;ignore_unavailable=false&amp;expand_wildcards=open&amp;allow_no_indices=true&amp;search_type=query_then_fetch&amp;batched_reduce_size=512], status line [HTTP/1.1 400 Bad Request]\r\n\t{&quot;error&quot;:{&quot;root_cause&quot;:[{&quot;type&quot;:&quot;query_shard_exception&quot;,&quot;reason&quot;:&quot;failed to create query: {\\n  \\&quot;bool\\&quot; : {\\n    \\&quot;must\\&quot; : [\\n      {\\n        \\&quot;term\\&quot; : {\\n          \\&quot;id\\&quot; : {\\n            \\&quot;value\\&quot; : \\&quot;]\\&quot;,\\n            \\&quot;boost\\&quot; : 1.0\\n          }\\n        }\\n      }\\n    ],\\n    \\&quot;filter\\&quot; : [\\n      {\\n        \\&quot;match\\&quot; : {\\n          \\&quot;product_link_type\\&quot; : {\\n            \\&quot;query\\&quot; : \\&quot;replacement\\&quot;,\\n            \\&quot;operator\\&quot; : \\&quot;OR\\&quot;,\\n            \\&quot;prefix_length\\&quot; : 0,\\n            \\&quot;max_expansions\\&quot; : 50,\\n            \\&quot;fuzzy_transpositions\\&quot; : true,\\n            \\&quot;lenient\\&quot; : false,\\n            \\&quot;zero_terms_query\\&quot; : \\&quot;NONE\\&quot;,\\n            \\&quot;auto_generate_synonyms_phrase_query\\&quot; : true,\\n            \\&quot;boost\\&quot; : 1.0\\n          }\\n        }\\n      }\\n    ],\\n    \\&quot;adjust_pure_negative\\&quot; : true,\\n    \\&quot;boost\\&quot; : 1.0\\n  }\\n}&quot;,&quot;index_uuid&quot;:&quot;yg7rn4njRaKfC6YtraXJPg&quot;,&quot;index&quot;:&quot;replacement_local100&quot;}],&quot;type&quot;:&quot;search_phase_execution_exception&quot;,&quot;reason&quot;:&quot;all shards failed&quot;,&quot;phase&quot;:&quot;query&quot;,&quot;grouped&quot;:true,&quot;failed_shards&quot;:[{&quot;shard&quot;:0,&quot;index&quot;:&quot;replacement_local100&quot;,&quot;node&quot;:&quot;uPLyU7R5RXeirg8XzRqhnA&quot;,&quot;reason&quot;:{&quot;type&quot;:&quot;query_shard_exception&quot;,&quot;reason&quot;:&quot;failed to create query: {\\n  \\&quot;bool\\&quot; : {\\n    \\&quot;must\\&quot; : [\\n      {\\n        \\&quot;term\\&quot; : {\\n          \\&quot;id\\&quot; : {\\n            \\&quot;value\\&quot; : \\&quot;]\\&quot;,\\n            \\&quot;boost\\&quot; : 1.0\\n          }\\n        }\\n      }\\n    ],\\n    \\&quot;filter\\&quot; : [\\n      {\\n        \\&quot;match\\&quot; : {\\n          \\&quot;product_link_type\\&quot; : {\\n            \\&quot;query\\&quot; : \\&quot;replacement\\&quot;,\\n            \\&quot;operator\\&quot; : \\&quot;OR\\&quot;,\\n            \\&quot;prefix_length\\&quot; : 0,\\n            \\&quot;max_expansions\\&quot; : 50,\\n            \\&quot;fuzzy_transpositions\\&quot; : true,\\n            \\&quot;lenient\\&quot; : false,\\n            \\&quot;zero_terms_query\\&quot; : \\&quot;NONE\\&quot;,\\n            \\&quot;auto_generate_synonyms_phrase_query\\&quot; : true,\\n            \\&quot;boost\\&quot; : 1.0\\n          }\\n        }\\n      }\\n    ],\\n    \\&quot;adjust_pure_negative\\&quot; : true,\\n    \\&quot;boost\\&quot; : 1.0\\n  }\\n}&quot;,&quot;index_uuid&quot;:&quot;yg7rn4njRaKfC6YtraXJPg&quot;,&quot;index&quot;:&quot;replacement_local100&quot;,&quot;caused_by&quot;:{&quot;type&quot;:&quot;number_format_exception&quot;,&quot;reason&quot;:&quot;For input string: \\&quot;]\\&quot;&quot;}}}]},&quot;status&quot;:400}\r\n\t\t\tat org.elasticsearch.client.RestClient$1.completed(RestClient.java:357)\r\n\t\t\tat org.elasticsearch.client.RestClient$1.completed(RestClient.java:346)\r\n\t\t\tat org.apache.http.concurrent.BasicFuture.completed(BasicFuture.java:119)\r\n\t\t\tat org.apache.http.impl.nio.client.DefaultClientExchangeHandlerImpl.responseCompleted(DefaultClientExchangeHandlerImpl.java:177)\r\n\t\t\tat org.apache.http.nio.protocol.HttpAsyncRequestExecutor.processResponse(HttpAsyncRequestExecutor.java:436)\r\n\t\t\tat org.apache.http.nio.protocol.HttpAsyncRequestExecutor.inputReady(HttpAsyncRequestExecutor.java:326)\r\n\t\t\tat org.apache.http.impl.nio.DefaultNHttpClientConnection.consumeInput(DefaultNHttpClientConnection.java:265)\r\n\t\t\tat org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:81)\r\n\t\t\tat org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:39)\r\n\t\t\tat org.apache.http.impl.nio.reactor.AbstractIODispatch.inputReady(AbstractIODispatch.java:114)\r\n\t\t\tat org.apache.http.impl.nio.reactor.BaseIOReactor.readable(BaseIOReactor.java:162)\r\n\t\t\tat org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvent(AbstractIOReactor.java:337)\r\n\t\t\tat org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvents(AbstractIOReactor.java:315)\r\n\t\t\tat org.apache.http.impl.nio.reactor.AbstractIOReactor.execute(AbstractIOReactor.java:276)\r\n\t\t\tat org.apache.http.impl.nio.reactor.BaseIOReactor.execute(BaseIOReactor.java:104)\r\n\t\t\tat org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor$Worker.run(AbstractMultiworkerIOReactor.java:588)\r\n\t\t\t... 1 more\r\n\t\t\tSuppressed: java.net.ConnectException\r\n\t\t\t\tat org.apache.http.nio.pool.RouteSpecificPool.timeout(RouteSpecificPool.java:168)\r\n\t\t\t\tat org.apache.http.nio.pool.AbstractNIOConnPool.requestTimeout(AbstractNIOConnPool.java:561)\r\n\t\t\t\tat org.apache.http.nio.pool.AbstractNIOConnPool$InternalSessionRequestCallback.timeout(AbstractNIOConnPool.java:822)\r\n\t\t\t\tat org.apache.http.impl.nio.reactor.SessionRequestImpl.timeout(SessionRequestImpl.java:183)\r\n\t\t\t\tat org.apache.http.impl.nio.reactor.DefaultConnectingIOReactor.processTimeouts(DefaultConnectingIOReactor.java:210)\r\n\t\t\t\tat org.apache.http.impl.nio.reactor.DefaultConnectingIOReactor.processEvents(DefaultConnectingIOReactor.java:155)\r\n\t\t\t\tat org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor.execute(AbstractMultiworkerIOReactor.java:348)\r\n\t\t\t\tat org.apache.http.impl.nio.conn.PoolingNHttpClientConnectionManager.execute(PoolingNHttpClientConnectionManager.java:192)\r\n\t\t\t\tat org.apache.http.impl.nio.client.CloseableHttpAsyncClientBase$1.run(CloseableHttpAsyncClientBase.java:64)\r\n\t\t\t\t... 1 more\r\n\r\n\t\t\t\t\r\nJava code below, that I am using to fetch documents from ElasticSearch index.\r\n\r\n\tprivate final String INDEX = &quot;replacement_local100&quot;;\r\n\tprivate final String TYPE = &quot;doc&quot;;\r\n\tprivate RestHighLevelClient restHighLevelClient;\r\n\tprivate ObjectMapper objectMapper;\r\n\r\n\tpublic ReplacementDao( ObjectMapper objectMapper, RestHighLevelClient restHighLevelClient) {\r\n        this.objectMapper = objectMapper;\r\n        this.restHighLevelClient = restHighLevelClient;\r\n    }\r\n\t\r\n\t public List&lt;Replacement&gt; getReplacementByCode(String code, String regionId, String countryCode, String companyId){\r\n\t\t System.out.println(&quot;replacement service....&quot;+code);\r\n\t \ttry {\r\n\t              if (restHighLevelClient != null) {\r\n\t                  restHighLevelClient.close();\r\n\t              }\r\n\t          } catch (final Exception e) {\r\n\t              logger.info(&quot;Error closing ElasticSearch client: &quot;);\r\n\t          }\r\n\t    \t\r\n\t    \t  try {\r\n\t              restHighLevelClient = new RestHighLevelClient(\r\n\t                      RestClient.builder(\r\n\t                              new HttpHost(&quot;localhost&quot;, 9200, &quot;http&quot;),\r\n\t                              new HttpHost(&quot;localhost&quot;, 9201, &quot;http&quot;)));\r\n\t          } catch (Exception e) {\r\n\t              logger.info(e.getMessage());\r\n\t          }\r\n\t    \t\r\n\t    \t  \r\n\t    \t    SearchRequest searchRequest = new SearchRequest(INDEX); \r\n\t    \t    SearchRequest searchRequest2 = new SearchRequest(INDEX); \r\n\t\t    \tsearchRequest.types(TYPE);\r\n\t\t    \tSearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();\r\n\t\t    \tSearchSourceBuilder searchSourceBuilder2 = new SearchSourceBuilder();\r\n\t\t    \tQueryBuilder qb = QueryBuilders.matchQuery(&quot;code&quot;, code);\r\n\t\t   \t\t\t    \t\t\t\r\n\t\t    \tsearchSourceBuilder.query(qb);\r\n\t\t    \tsearchSourceBuilder.size(50);\r\n\t\t    \tsearchRequest.source(searchSourceBuilder);\r\n\t\t    \tSearchResponse searchResponse1 = null;\r\n\t\t    \ttry {\r\n\t\t\t\t\t searchResponse1 = restHighLevelClient.search(searchRequest);\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\te.getLocalizedMessage();\r\n\t\t\t\t}\r\n\t\t       \tSearchHit[] searchHits1 = searchResponse1.getHits().getHits();\r\n\t\t       \tSystem.out.println(&quot;Hits size---&gt;&quot;+searchHits1.length);\r\n\t\t       \tReplacement linkId = null;\r\n\t\t       \tReplacement replacement = null;\r\n\t\t    \tList&lt;Replacement&gt; linkIDList=new ArrayList&lt;Replacement&gt;();\r\n\t\t    \tfor (SearchHit hit1 : searchHits1) {\r\n\t\t    \t\tlinkId = new Replacement();\r\n\t\t    \t\t Map&lt;String, Object&gt; sourceAsMap1 = hit1.getSourceAsMap();\r\n\t\t    \t\t linkId.setLink_id((Integer) sourceAsMap1.get(&quot;link_id&quot;));\r\n\t\t    \t\t linkIDList.add(linkId);\r\n\t\t    \t}\r\n\t\t    \t\r\n\t\t    \tSystem.out.println(&quot;Link ID List Size ---&gt;&quot;+linkIDList.size());\r\n\t\t    \tfor(Replacement link_id:linkIDList) {\r\n\t\t    \t\tSystem.out.println(&quot;Link ID List ---&gt;&quot;+link_id.getLink_id()+&quot;  Type---&gt;&quot;+link_id.getType());\r\n\t\t    \t}\r\n\t\t    \t\r\n\t\t       \t        QueryBuilder qb2=null;\r\n\t\t    \t        List&lt;Integer&gt; link_id_array=new ArrayList&lt;Integer&gt;();\r\n\t\t    \t        for(Replacement link_id:linkIDList) {\r\n\t\t    \t        \tlink_id_array.add(link_id.getLink_id());\r\n\t\t    \t        }\r\n\t\t    \t        \r\n\t\t    \t        qb2 = QueryBuilders.boolQuery()\r\n\t\t    \t        \t\t.must(QueryBuilders.termQuery(&quot;id&quot;, link_id_array))\r\n\t\t    \t        \t\t.filter(QueryBuilders.matchQuery(&quot;product_link_type&quot;, &quot;replacement&quot;));\r\n    \t\t\r\n\t\t    \t        \r\n\t\t\t    \t    searchSourceBuilder2.query(qb2);\r\n\t\t\t\t    \tsearchSourceBuilder2.size(50);\r\n\t\t\t\t    \tsearchRequest2.source(searchSourceBuilder2);\r\n\t\t\t\t    \tSystem.out.println(&quot;Request 2 ---&gt;&quot;+searchRequest2);\r\n\t\t\t\t    \tSearchResponse searchResponse2 = null;\r\n\t\t\t\t    \ttry {\r\n\t\t\t\t\t\t\t searchResponse2 = restHighLevelClient.search(searchRequest2); // Am getting error on this line\r\n\t\t\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\t\t\te.getLocalizedMessage();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t    \tList&lt;Replacement&gt; replacementList=new ArrayList&lt;Replacement&gt;();\r\n\t\t\t\t    \tSearchHit[] searchHits2 = searchResponse2.getHits().getHits();\r\n\t\t\t\t    \tfor (SearchHit hit2 : searchHits2) {\r\n\t\t\t\t    \t    Map&lt;String, Object&gt; sourceAsMap2 = hit2.getSourceAsMap();\r\n\t\t\t\t    \t    replacement=new Replacement();\r\n\t\t\t\t    \t    replacement.setId(sourceAsMap2.get(&quot;id&quot;).toString());\r\n\t\t\t\t    \t    replacement.setCode(sourceAsMap2.get(&quot;code&quot;).toString());\r\n\t\t\t\t    \t    replacementList.add(replacement);\r\n\t\t\t\t    \t  }\t\t\r\n\r\nCan you pleasee help me in figuring out what am I missing?\r\n\r\nThanks!","title":"ElasticsearchStatusException[Elasticsearch exception [type=search_phase_execution_exception, reason=all shards failed]]","body":"<p>I am fetching documents from Elastic Search index named as <code>replacement_local100</code>. I am querying the same index two times.</p>\n\n<p>First Query --> Based on the <code>code</code> as input am getting a list of <code>link_ids</code>.</p>\n\n<p>The second Query --> Based on <code>List of Link IDs</code> (from the first query) I am getting different data and I am using filter too.</p>\n\n<p>When I am invoking the second query I am getting the error:</p>\n\n<pre><code>ElasticsearchStatusException[Elasticsearch exception [type=search_phase_execution_exception, reason=all shards failed]]\n    at org.elasticsearch.rest.BytesRestResponse.errorFromXContent(BytesRestResponse.java:177)\n    at org.elasticsearch.client.RestHighLevelClient.parseEntity(RestHighLevelClient.java:573)\n    at org.elasticsearch.client.RestHighLevelClient.parseResponseException(RestHighLevelClient.java:549)\n    at org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:456)\n    at org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:429)\n    at org.elasticsearch.client.RestHighLevelClient.search(RestHighLevelClient.java:368)\n    at com.jci.vb2.searchengine.dao.ReplacementDao.getReplacementByCode(ReplacementDao.java:127)\n    at com.jci.vb2.searchengineservice.mqservice.Service.getReplacementByCode(Service.java:73)\n    at com.jci.vb2.searchengineservice.mqservice.Consumer.consume(Consumer.java:48)\n    at com.jci.vb2.utils.Consumer$1$1.run(Consumer.java:89)\n    at java.lang.Thread.run(Thread.java:748)\n    Suppressed: org.elasticsearch.client.ResponseException: method [GET], host [http://localhost:9200], URI [/replacement_local100/_search?typed_keys=true&amp;ignore_unavailable=false&amp;expand_wildcards=open&amp;allow_no_indices=true&amp;search_type=query_then_fetch&amp;batched_reduce_size=512], status line [HTTP/1.1 400 Bad Request]\n{\"error\":{\"root_cause\":[{\"type\":\"query_shard_exception\",\"reason\":\"failed to create query: {\\n  \\\"bool\\\" : {\\n    \\\"must\\\" : [\\n      {\\n        \\\"term\\\" : {\\n          \\\"id\\\" : {\\n            \\\"value\\\" : \\\"]\\\",\\n            \\\"boost\\\" : 1.0\\n          }\\n        }\\n      }\\n    ],\\n    \\\"filter\\\" : [\\n      {\\n        \\\"match\\\" : {\\n          \\\"product_link_type\\\" : {\\n            \\\"query\\\" : \\\"replacement\\\",\\n            \\\"operator\\\" : \\\"OR\\\",\\n            \\\"prefix_length\\\" : 0,\\n            \\\"max_expansions\\\" : 50,\\n            \\\"fuzzy_transpositions\\\" : true,\\n            \\\"lenient\\\" : false,\\n            \\\"zero_terms_query\\\" : \\\"NONE\\\",\\n            \\\"auto_generate_synonyms_phrase_query\\\" : true,\\n            \\\"boost\\\" : 1.0\\n          }\\n        }\\n      }\\n    ],\\n    \\\"adjust_pure_negative\\\" : true,\\n    \\\"boost\\\" : 1.0\\n  }\\n}\",\"index_uuid\":\"yg7rn4njRaKfC6YtraXJPg\",\"index\":\"replacement_local100\"}],\"type\":\"search_phase_execution_exception\",\"reason\":\"all shards failed\",\"phase\":\"query\",\"grouped\":true,\"failed_shards\":[{\"shard\":0,\"index\":\"replacement_local100\",\"node\":\"uPLyU7R5RXeirg8XzRqhnA\",\"reason\":{\"type\":\"query_shard_exception\",\"reason\":\"failed to create query: {\\n  \\\"bool\\\" : {\\n    \\\"must\\\" : [\\n      {\\n        \\\"term\\\" : {\\n          \\\"id\\\" : {\\n            \\\"value\\\" : \\\"]\\\",\\n            \\\"boost\\\" : 1.0\\n          }\\n        }\\n      }\\n    ],\\n    \\\"filter\\\" : [\\n      {\\n        \\\"match\\\" : {\\n          \\\"product_link_type\\\" : {\\n            \\\"query\\\" : \\\"replacement\\\",\\n            \\\"operator\\\" : \\\"OR\\\",\\n            \\\"prefix_length\\\" : 0,\\n            \\\"max_expansions\\\" : 50,\\n            \\\"fuzzy_transpositions\\\" : true,\\n            \\\"lenient\\\" : false,\\n            \\\"zero_terms_query\\\" : \\\"NONE\\\",\\n            \\\"auto_generate_synonyms_phrase_query\\\" : true,\\n            \\\"boost\\\" : 1.0\\n          }\\n        }\\n      }\\n    ],\\n    \\\"adjust_pure_negative\\\" : true,\\n    \\\"boost\\\" : 1.0\\n  }\\n}\",\"index_uuid\":\"yg7rn4njRaKfC6YtraXJPg\",\"index\":\"replacement_local100\",\"caused_by\":{\"type\":\"number_format_exception\",\"reason\":\"For input string: \\\"]\\\"\"}}}]},\"status\":400}\n        at org.elasticsearch.client.RestClient$1.completed(RestClient.java:357)\n        at org.elasticsearch.client.RestClient$1.completed(RestClient.java:346)\n        at org.apache.http.concurrent.BasicFuture.completed(BasicFuture.java:119)\n        at org.apache.http.impl.nio.client.DefaultClientExchangeHandlerImpl.responseCompleted(DefaultClientExchangeHandlerImpl.java:177)\n        at org.apache.http.nio.protocol.HttpAsyncRequestExecutor.processResponse(HttpAsyncRequestExecutor.java:436)\n        at org.apache.http.nio.protocol.HttpAsyncRequestExecutor.inputReady(HttpAsyncRequestExecutor.java:326)\n        at org.apache.http.impl.nio.DefaultNHttpClientConnection.consumeInput(DefaultNHttpClientConnection.java:265)\n        at org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:81)\n        at org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:39)\n        at org.apache.http.impl.nio.reactor.AbstractIODispatch.inputReady(AbstractIODispatch.java:114)\n        at org.apache.http.impl.nio.reactor.BaseIOReactor.readable(BaseIOReactor.java:162)\n        at org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvent(AbstractIOReactor.java:337)\n        at org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvents(AbstractIOReactor.java:315)\n        at org.apache.http.impl.nio.reactor.AbstractIOReactor.execute(AbstractIOReactor.java:276)\n        at org.apache.http.impl.nio.reactor.BaseIOReactor.execute(BaseIOReactor.java:104)\n        at org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor$Worker.run(AbstractMultiworkerIOReactor.java:588)\n        ... 1 more\n        Suppressed: java.net.ConnectException\n            at org.apache.http.nio.pool.RouteSpecificPool.timeout(RouteSpecificPool.java:168)\n            at org.apache.http.nio.pool.AbstractNIOConnPool.requestTimeout(AbstractNIOConnPool.java:561)\n            at org.apache.http.nio.pool.AbstractNIOConnPool$InternalSessionRequestCallback.timeout(AbstractNIOConnPool.java:822)\n            at org.apache.http.impl.nio.reactor.SessionRequestImpl.timeout(SessionRequestImpl.java:183)\n            at org.apache.http.impl.nio.reactor.DefaultConnectingIOReactor.processTimeouts(DefaultConnectingIOReactor.java:210)\n            at org.apache.http.impl.nio.reactor.DefaultConnectingIOReactor.processEvents(DefaultConnectingIOReactor.java:155)\n            at org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor.execute(AbstractMultiworkerIOReactor.java:348)\n            at org.apache.http.impl.nio.conn.PoolingNHttpClientConnectionManager.execute(PoolingNHttpClientConnectionManager.java:192)\n            at org.apache.http.impl.nio.client.CloseableHttpAsyncClientBase$1.run(CloseableHttpAsyncClientBase.java:64)\n            ... 1 more\n</code></pre>\n\n<p>Java code below, that I am using to fetch documents from ElasticSearch index.</p>\n\n<pre><code>private final String INDEX = \"replacement_local100\";\nprivate final String TYPE = \"doc\";\nprivate RestHighLevelClient restHighLevelClient;\nprivate ObjectMapper objectMapper;\n\npublic ReplacementDao( ObjectMapper objectMapper, RestHighLevelClient restHighLevelClient) {\n    this.objectMapper = objectMapper;\n    this.restHighLevelClient = restHighLevelClient;\n}\n\n public List&lt;Replacement&gt; getReplacementByCode(String code, String regionId, String countryCode, String companyId){\n     System.out.println(\"replacement service....\"+code);\n    try {\n              if (restHighLevelClient != null) {\n                  restHighLevelClient.close();\n              }\n          } catch (final Exception e) {\n              logger.info(\"Error closing ElasticSearch client: \");\n          }\n\n          try {\n              restHighLevelClient = new RestHighLevelClient(\n                      RestClient.builder(\n                              new HttpHost(\"localhost\", 9200, \"http\"),\n                              new HttpHost(\"localhost\", 9201, \"http\")));\n          } catch (Exception e) {\n              logger.info(e.getMessage());\n          }\n\n\n            SearchRequest searchRequest = new SearchRequest(INDEX); \n            SearchRequest searchRequest2 = new SearchRequest(INDEX); \n            searchRequest.types(TYPE);\n            SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();\n            SearchSourceBuilder searchSourceBuilder2 = new SearchSourceBuilder();\n            QueryBuilder qb = QueryBuilders.matchQuery(\"code\", code);\n\n            searchSourceBuilder.query(qb);\n            searchSourceBuilder.size(50);\n            searchRequest.source(searchSourceBuilder);\n            SearchResponse searchResponse1 = null;\n            try {\n                 searchResponse1 = restHighLevelClient.search(searchRequest);\n            } catch (IOException e) {\n                e.getLocalizedMessage();\n            }\n            SearchHit[] searchHits1 = searchResponse1.getHits().getHits();\n            System.out.println(\"Hits size---&gt;\"+searchHits1.length);\n            Replacement linkId = null;\n            Replacement replacement = null;\n            List&lt;Replacement&gt; linkIDList=new ArrayList&lt;Replacement&gt;();\n            for (SearchHit hit1 : searchHits1) {\n                linkId = new Replacement();\n                 Map&lt;String, Object&gt; sourceAsMap1 = hit1.getSourceAsMap();\n                 linkId.setLink_id((Integer) sourceAsMap1.get(\"link_id\"));\n                 linkIDList.add(linkId);\n            }\n\n            System.out.println(\"Link ID List Size ---&gt;\"+linkIDList.size());\n            for(Replacement link_id:linkIDList) {\n                System.out.println(\"Link ID List ---&gt;\"+link_id.getLink_id()+\"  Type---&gt;\"+link_id.getType());\n            }\n\n                    QueryBuilder qb2=null;\n                    List&lt;Integer&gt; link_id_array=new ArrayList&lt;Integer&gt;();\n                    for(Replacement link_id:linkIDList) {\n                        link_id_array.add(link_id.getLink_id());\n                    }\n\n                    qb2 = QueryBuilders.boolQuery()\n                            .must(QueryBuilders.termQuery(\"id\", link_id_array))\n                            .filter(QueryBuilders.matchQuery(\"product_link_type\", \"replacement\"));\n\n\n                    searchSourceBuilder2.query(qb2);\n                    searchSourceBuilder2.size(50);\n                    searchRequest2.source(searchSourceBuilder2);\n                    System.out.println(\"Request 2 ---&gt;\"+searchRequest2);\n                    SearchResponse searchResponse2 = null;\n                    try {\n                         searchResponse2 = restHighLevelClient.search(searchRequest2); // Am getting error on this line\n                    } catch (IOException e) {\n                        e.getLocalizedMessage();\n                    }\n                    List&lt;Replacement&gt; replacementList=new ArrayList&lt;Replacement&gt;();\n                    SearchHit[] searchHits2 = searchResponse2.getHits().getHits();\n                    for (SearchHit hit2 : searchHits2) {\n                        Map&lt;String, Object&gt; sourceAsMap2 = hit2.getSourceAsMap();\n                        replacement=new Replacement();\n                        replacement.setId(sourceAsMap2.get(\"id\").toString());\n                        replacement.setCode(sourceAsMap2.get(\"code\").toString());\n                        replacementList.add(replacement);\n                      }     \n</code></pre>\n\n<p>Can you pleasee help me in figuring out what am I missing?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","snakeyaml"],"comments":[{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1661417037,"post_id":73481911,"comment_id":129768882,"body_markdown":"Are you sure that in your YAML there should be equals signs between keys and values? Because in YAML it should be colons. I will not form this as an answer because I&#39;m not sure if you just copy-pasted wrong or this is the actual problem.","body":"Are you sure that in your YAML there should be equals signs between keys and values? Because in YAML it should be colons. I will not form this as an answer because I&#39;m not sure if you just copy-pasted wrong or this is the actual problem."},{"owner":{"account_id":6196586,"reputation":419,"user_id":4827688,"accept_rate":78,"display_name":"dhananjay_shingote"},"score":0,"creation_date":1661421468,"post_id":73481911,"comment_id":129770636,"body_markdown":"Its my bad. Basically I tried another by using properties file and reading all config from there but facing issue with .yml . I have updated yml file","body":"Its my bad. Basically I tried another by using properties file and reading all config from there but facing issue with .yml . I have updated yml file"}],"owner":{"account_id":6196586,"reputation":419,"user_id":4827688,"accept_rate":78,"display_name":"dhananjay_shingote"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661422034,"creation_date":1661402373,"question_id":73481911,"body_markdown":"I am trying to read YML file using java but not able to do. Object is null. I have refereed many examples but no luck . Little help will be appreciated.\r\n\r\nApplicationProperties contain pojo for yml file. My intention is to read values only. \r\n\r\n    InputStream inputStream = LoadExternalConfiguration.class.getClassLoader()\r\n            .getResourceAsStream(&quot;application.yml&quot;);\r\n    Yaml yaml = new Yaml(new Constructor(ApplicationProperties.class));\r\n    HashMap yamlMap = yaml.load(inputStream);\r\n    System.out.println(yamlMap);\r\n    for (Object o : yamlMap.entrySet()) {\r\n        System.out.println(o);\r\n    }\r\n    \r\n    inputStream.close();\r\n\r\napplication.yml\r\n\r\n    dmsMapping:\r\n      input_layer_name : &quot;sign-values&quot;\r\n      output_Layer_volatile : &quot;dms-range-v1&quot;\r\n      output_layer_IML : &quot;dms-ts-mapped-data-iml&quot;\r\n\r\n","title":"read yml file properties using java","body":"<p>I am trying to read YML file using java but not able to do. Object is null. I have refereed many examples but no luck . Little help will be appreciated.</p>\n<p>ApplicationProperties contain pojo for yml file. My intention is to read values only.</p>\n<pre><code>InputStream inputStream = LoadExternalConfiguration.class.getClassLoader()\n        .getResourceAsStream(&quot;application.yml&quot;);\nYaml yaml = new Yaml(new Constructor(ApplicationProperties.class));\nHashMap yamlMap = yaml.load(inputStream);\nSystem.out.println(yamlMap);\nfor (Object o : yamlMap.entrySet()) {\n    System.out.println(o);\n}\n\ninputStream.close();\n</code></pre>\n<p>application.yml</p>\n<pre><code>dmsMapping:\n  input_layer_name : &quot;sign-values&quot;\n  output_Layer_volatile : &quot;dms-range-v1&quot;\n  output_layer_IML : &quot;dms-ts-mapped-data-iml&quot;\n</code></pre>\n"},{"tags":["java","spring","tomcat","encoding","utf-8"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1661358669,"post_id":73476573,"comment_id":129755452,"body_markdown":"*the linux server is not working and stores the char as &quot;?&quot;.* In the file in which it&#39;s stored (let&#39;s call it &#39;file.txt&#39;) can you please do this at the command line and show what&#39;s printed. ```grep &#39;Pawe&#39; file.txt | xxd```","body":"<i>the linux server is not working and stores the char as &quot;?&quot;.</i> In the file in which it&#39;s stored (let&#39;s call it &#39;file.txt&#39;) can you please do this at the command line and show what&#39;s printed. <code>grep &#39;Pawe&#39; file.txt | xxd</code>"}],"answers":[{"tags":[],"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661368328,"creation_date":1661360154,"answer_id":73477021,"question_id":73476573,"body_markdown":"Probable causes could be `LC_CTYPE` linux locale or `file.encoding` JVM property:\r\n\r\n * Linux LC_CTYPE (or LC_ALL) locale is set to other than UTF-8. Simulated as\r\n \r\n    ```\r\n    LC_CTYPE=&quot;ISO-8859-1&quot; jshell\r\n    \r\n    jshell&gt; import java.nio.charset.Charset;\r\n    \r\n    jshell&gt; Charset.defaultCharset()\r\n    $2 ==&gt; US-ASCII\r\n    \r\n    jshell&gt; String a = &quot;adf \\u0142&quot;;\r\n    a ==&gt; &quot;adf ?&quot;\r\n    ```\r\n\r\n* JVM has `file.encoding` property set to other than UTF-8\r\n\r\n    ```\r\n    jshell -J-Dfile.encoding=&quot;ISO-8859-1&quot; --execution=&quot;local&quot;\r\n    \r\n    jshell&gt; import java.nio.charset.Charset;\r\n    \r\n    jshell&gt; Charset.defaultCharset()\r\n    $2 ==&gt; ISO-8859-1\r\n    \r\n    jshell&gt; String a = &quot;adf \\u0142&quot;;\r\n        a ==&gt; &quot;adf ?&quot;\r\n\r\n    \r\n    jshell -J-Dfile.encoding=&quot;UTF-8&quot; --execution=&quot;local&quot;\r\n    \r\n    jshell&gt; String a = &quot;adf \\u0142&quot;;\r\n    a ==&gt; &quot;adf ł&quot;\r\n    ```\r\n\r\nLinux quick tests\r\n\r\n    java -Dfile.encoding=&quot;ISO-8859-1&quot; -XshowSettings:properties -version 2&gt;&amp;1 | grep &#39;encoding&#39;\r\n        file.encoding = ISO-8859-1\r\n        sun.io.unicode.encoding = UnicodeLittle\r\n        sun.jnu.encoding = UTF-8\r\n    \r\n    java -XshowSettings:properties -version 2&gt;&amp;1 | grep &#39;encoding&#39;\r\n        file.encoding = UTF-8\r\n        sun.io.unicode.encoding = UnicodeLittle\r\n        sun.jnu.encoding = UTF-8\r\n\r\n    ps -lf -C jshell | grep &#39;file.encoding&#39;\r\n    0 S lmc      7266  2225 10  80   0 - 895886 -     14:48 pts/2    00:00:05 jshell -J-Dfile.encoding=ISO-8859-1 --execution=local\r\n\r\n\r\n    LC_ALL=&quot;es_ES.ISO-8859-1&quot; java -help 2&gt;&amp;1 | tail -n-3\r\n    Para especificar un argumento para una opci�n larga, puede usar --&lt;nombre&gt;=&lt;valor&gt; o\r\n    --&lt;nombre&gt; &lt;valor&gt;.","title":"Wrong encoding for tomcat/spring server REST input","body":"<p>Probable causes could be <code>LC_CTYPE</code> linux locale or <code>file.encoding</code> JVM property:</p>\n<ul>\n<li><p>Linux LC_CTYPE (or LC_ALL) locale is set to other than UTF-8. Simulated as</p>\n<pre><code>LC_CTYPE=&quot;ISO-8859-1&quot; jshell\n\njshell&gt; import java.nio.charset.Charset;\n\njshell&gt; Charset.defaultCharset()\n$2 ==&gt; US-ASCII\n\njshell&gt; String a = &quot;adf \\u0142&quot;;\na ==&gt; &quot;adf ?&quot;\n</code></pre>\n</li>\n<li><p>JVM has <code>file.encoding</code> property set to other than UTF-8</p>\n<pre><code>jshell -J-Dfile.encoding=&quot;ISO-8859-1&quot; --execution=&quot;local&quot;\n\njshell&gt; import java.nio.charset.Charset;\n\njshell&gt; Charset.defaultCharset()\n$2 ==&gt; ISO-8859-1\n\njshell&gt; String a = &quot;adf \\u0142&quot;;\n    a ==&gt; &quot;adf ?&quot;\n\n\njshell -J-Dfile.encoding=&quot;UTF-8&quot; --execution=&quot;local&quot;\n\njshell&gt; String a = &quot;adf \\u0142&quot;;\na ==&gt; &quot;adf ł&quot;\n</code></pre>\n</li>\n</ul>\n<p>Linux quick tests</p>\n<pre><code>java -Dfile.encoding=&quot;ISO-8859-1&quot; -XshowSettings:properties -version 2&gt;&amp;1 | grep 'encoding'\n    file.encoding = ISO-8859-1\n    sun.io.unicode.encoding = UnicodeLittle\n    sun.jnu.encoding = UTF-8\n\njava -XshowSettings:properties -version 2&gt;&amp;1 | grep 'encoding'\n    file.encoding = UTF-8\n    sun.io.unicode.encoding = UnicodeLittle\n    sun.jnu.encoding = UTF-8\n\nps -lf -C jshell | grep 'file.encoding'\n0 S lmc      7266  2225 10  80   0 - 895886 -     14:48 pts/2    00:00:05 jshell -J-Dfile.encoding=ISO-8859-1 --execution=local\n\n\nLC_ALL=&quot;es_ES.ISO-8859-1&quot; java -help 2&gt;&amp;1 | tail -n-3\nPara especificar un argumento para una opci�n larga, puede usar --&lt;nombre&gt;=&lt;valor&gt; o\n--&lt;nombre&gt; &lt;valor&gt;.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":460510,"reputation":9305,"user_id":861646,"accept_rate":54,"display_name":"Tobia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661421872,"creation_date":1661421872,"answer_id":73485640,"question_id":73476573,"body_markdown":"Finally the error was in the connection string with DB / JDBC.\r\n\r\nI had to append some params to the connection string URL for Mysql driver:\r\n\r\n    dbConnectionString=jdbc:mysql://localhost/test?useSSL=false&amp;useUnicode=true&amp;characterEncoding=utf-8\r\n\r\n","title":"Wrong encoding for tomcat/spring server REST input","body":"<p>Finally the error was in the connection string with DB / JDBC.</p>\n<p>I had to append some params to the connection string URL for Mysql driver:</p>\n<pre><code>dbConnectionString=jdbc:mysql://localhost/test?useSSL=false&amp;useUnicode=true&amp;characterEncoding=utf-8\n</code></pre>\n"}],"owner":{"account_id":460510,"reputation":9305,"user_id":861646,"accept_rate":54,"display_name":"Tobia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1661421872,"creation_date":1661358130,"question_id":73476573,"body_markdown":"I have a REST service made with Tomcat 8 and Spring v5.3.18.\r\nThe service gets and stores a string in DB.\r\n\r\nI have an issue with this input:\r\n\r\n    {&quot;name&quot;: &quot;Pawe\\u0142&quot;}\r\n\r\nIt is a valid UTF8 char.\r\nThe string saved is `Pawe?` so there is something wrong...\r\n\r\nI started to check where it can be the missing encoding, but I found that it depends on the tomcat environment.\r\nTwo servers with the *same software*, linked to a common database but with different operative system, first is Linux, second is Windows have different responses.\r\n\r\n**The Windows server is working and store the valid UTF8 char, the linux server is not working and stores the char as &quot;?&quot;.**\r\n\r\nSo I deduced it is not related to the software or missing encoding in sw configuration, but probably it is related to tomcat or java.\r\n\r\nDo you have any idea about what can be wrong?\r\n","title":"Wrong encoding for tomcat/spring server REST input","body":"<p>I have a REST service made with Tomcat 8 and Spring v5.3.18.\nThe service gets and stores a string in DB.</p>\n<p>I have an issue with this input:</p>\n<pre><code>{&quot;name&quot;: &quot;Pawe\\u0142&quot;}\n</code></pre>\n<p>It is a valid UTF8 char.\nThe string saved is <code>Pawe?</code> so there is something wrong...</p>\n<p>I started to check where it can be the missing encoding, but I found that it depends on the tomcat environment.\nTwo servers with the <em>same software</em>, linked to a common database but with different operative system, first is Linux, second is Windows have different responses.</p>\n<p><strong>The Windows server is working and store the valid UTF8 char, the linux server is not working and stores the char as &quot;?&quot;.</strong></p>\n<p>So I deduced it is not related to the software or missing encoding in sw configuration, but probably it is related to tomcat or java.</p>\n<p>Do you have any idea about what can be wrong?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1661417601,"post_id":73484529,"comment_id":129769105,"body_markdown":"No. You should create a new instance for every use. Such a pattern is very common.","body":"No. You should create a new instance for every use. Such a pattern is very common."},{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":1,"creation_date":1661418023,"post_id":73484529,"comment_id":129769287,"body_markdown":"Get rid of the static fields and methods and use a new instance per calculation. You must have very good reasons to want only one calculation going on at the same time, for example very heavy resource usage that can&#39;t benefit from multi threading.","body":"Get rid of the static fields and methods and use a new instance per calculation. You must have very good reasons to want only one calculation going on at the same time, for example very heavy resource usage that can&#39;t benefit from multi threading."},{"owner":{"account_id":22040961,"reputation":1343,"user_id":16306754,"display_name":"The Blind Hawk"},"score":0,"creation_date":1661422343,"post_id":73484529,"comment_id":129770962,"body_markdown":"Judging from the replies I may have misunderstood the issue, but you might find ```Semaphore``` useful.","body":"Judging from the replies I may have misunderstood the issue, but you might find <code>Semaphore</code> useful."}],"answers":[{"tags":[],"owner":{"account_id":7634518,"reputation":51,"user_id":5788456,"display_name":"Left Click"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661417862,"creation_date":1661417862,"answer_id":73484679,"question_id":73484529,"body_markdown":"Use lock or synchronized :\r\nhttps://www.baeldung.com/java-synchronized\r\n\r\n\r\nYou can learn more about that by researching &quot;lock in multithreading&quot;.","title":"How to restrict access to a class to only one thread","body":"<p>Use lock or synchronized :\n<a href=\"https://www.baeldung.com/java-synchronized\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-synchronized</a></p>\n<p>You can learn more about that by researching &quot;lock in multithreading&quot;.</p>\n"},{"tags":[],"owner":{"account_id":5277236,"reputation":8320,"user_id":4213662,"accept_rate":80,"display_name":"Persixty"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1661421861,"creation_date":1661421233,"answer_id":73485484,"question_id":73484529,"body_markdown":"This is crying out for you to make this a class and the `Evaluate()` method non-static along with all the Booleans as non-static fields.\r\n\r\nThen you can allocate an instance in a thread and no other thread will have access to it (unless you pass is between threads).\r\n\r\nBut your alternative is to make the `static` method `synchronized` synchronised `static` methods are exclusive to the class. Only one thread may be executing a synchronized static method on a give class at a time.\r\n\r\nYou would then make all the setters synchronized (`static synchronized void setXxxx(boolean val)`).\r\n\r\nHaving (of course) made all the flags private to the class.\r\n\r\n\r\nThen no other thread can be setting the booleans while the `Evaluate()` method is executing.\r\n\r\n**But I can not stress enough that is not the way to go.**\r\nIt&#39;s not the way to write multi-threaded code because it means that only one thread can be evaluating at any time for no good reason!\r\n\r\nThere is no logical reason why two threads can&#39;t be evaluating at the same time except for your decision that there shall be only one object that has an Evaluate method. That one object being the class `MathParser`.\r\n\r\nThe static method design may lead to entirely unnecessary resource contention.\r\n\r\nIt&#39;s like a class with only one calculator kept on the teachers desk and everyone has to line up to use it. But calculators are cheap and everyone could have their own. \r\n\r\nEach thread can so easily have it&#39;s own parser.\r\nThe objective in concurrency it maximise parallelism and that means minimise waiting/blocking in which one or more threads cannot proceed until some other thread does something.","title":"How to restrict access to a class to only one thread","body":"<p>This is crying out for you to make this a class and the <code>Evaluate()</code> method non-static along with all the Booleans as non-static fields.</p>\n<p>Then you can allocate an instance in a thread and no other thread will have access to it (unless you pass is between threads).</p>\n<p>But your alternative is to make the <code>static</code> method <code>synchronized</code> synchronised <code>static</code> methods are exclusive to the class. Only one thread may be executing a synchronized static method on a give class at a time.</p>\n<p>You would then make all the setters synchronized (<code>static synchronized void setXxxx(boolean val)</code>).</p>\n<p>Having (of course) made all the flags private to the class.</p>\n<p>Then no other thread can be setting the booleans while the <code>Evaluate()</code> method is executing.</p>\n<p><strong>But I can not stress enough that is not the way to go.</strong>\nIt's not the way to write multi-threaded code because it means that only one thread can be evaluating at any time for no good reason!</p>\n<p>There is no logical reason why two threads can't be evaluating at the same time except for your decision that there shall be only one object that has an Evaluate method. That one object being the class <code>MathParser</code>.</p>\n<p>The static method design may lead to entirely unnecessary resource contention.</p>\n<p>It's like a class with only one calculator kept on the teachers desk and everyone has to line up to use it. But calculators are cheap and everyone could have their own.</p>\n<p>Each thread can so easily have it's own parser.\nThe objective in concurrency it maximise parallelism and that means minimise waiting/blocking in which one or more threads cannot proceed until some other thread does something.</p>\n"}],"owner":{"account_id":13132920,"reputation":101,"user_id":9486920,"display_name":"Amit_dash_234"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":447,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73485484,"answer_count":2,"score":1,"last_activity_date":1661421861,"creation_date":1661417244,"question_id":73484529,"body_markdown":"I have a class called MathParser which has only one entry point which is &quot;Evaluate&quot; a static function which takes only one String input and outputs the evaluated result. The MathParser class has several booleans representing different functionality that can be switched on or off.\r\n\r\nIn a single threaded application, The evaluate function will throw exceptions if things are not in desired order, and once it gets hold of the control flow, it will release it only when the processing is done ensuring complete safety from any kind of unexpected behavior. \r\n\r\nHowever, in a Multi-threaded Application, A different thread can also turn this switches on or off independently as they&#39;re all static and public variables, while the Evaluate function might still be processing the input. It can lead to all sorts of unexpected behaviors. \r\n\r\nSo I wanted to know if a class and it&#39;s members can be made to be accessible only by one thread, either Main or a background, this way, no other thread will mess up things while processing is still midway.\r\n","title":"How to restrict access to a class to only one thread","body":"<p>I have a class called MathParser which has only one entry point which is &quot;Evaluate&quot; a static function which takes only one String input and outputs the evaluated result. The MathParser class has several booleans representing different functionality that can be switched on or off.</p>\n<p>In a single threaded application, The evaluate function will throw exceptions if things are not in desired order, and once it gets hold of the control flow, it will release it only when the processing is done ensuring complete safety from any kind of unexpected behavior.</p>\n<p>However, in a Multi-threaded Application, A different thread can also turn this switches on or off independently as they're all static and public variables, while the Evaluate function might still be processing the input. It can lead to all sorts of unexpected behaviors.</p>\n<p>So I wanted to know if a class and it's members can be made to be accessible only by one thread, either Main or a background, this way, no other thread will mess up things while processing is still midway.</p>\n"},{"tags":["java","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661366408,"creation_date":1661366408,"answer_id":73478175,"question_id":73460189,"body_markdown":"Spring Batch does not provide such features. But you can use any rate limiting library where appropriate during the step (ie before/after reading data, before/after processing or writing data, etc).\r\n\r\nThis should help: https://stackoverflow.com/questions/52923083/spring-batch-writer-throttling.","title":"Spring Batch Partitioning with rate limit","body":"<p>Spring Batch does not provide such features. But you can use any rate limiting library where appropriate during the step (ie before/after reading data, before/after processing or writing data, etc).</p>\n<p>This should help: <a href=\"https://stackoverflow.com/questions/52923083/spring-batch-writer-throttling\">Spring batch writer throttling</a>.</p>\n"}],"owner":{"account_id":10615592,"reputation":827,"user_id":7818051,"display_name":"Minh Dao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":377,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73478175,"answer_count":1,"score":2,"last_activity_date":1661421690,"creation_date":1661263444,"question_id":73460189,"body_markdown":"# Background\r\n\r\nI&#39;m using Spring Batch to fetch data from our customer sites through HTTP API. The progress contains 2 main steps:\r\n\r\n1. Fetch the total documents from API, then calculate the total pages using a configurable page size. Each page will be assigned to one partition step using custom `Paritioner`.\r\n2. A partition step will send a request to fetch page of data (a list of documents), process and write to our storage.\r\n\r\nCustomer sites might be _&quot;fragile&quot;_. They could have rate limit or their sites might not respond after some heavy requests.\r\n\r\n# What I have done so far\r\n\r\nI&#39;m using `spring-retry` to re-run a request which is failed because of rate limit or server error. For e.g:\r\n\r\n```java\r\n// the partition step&#39;s item reader\r\n@StepScope\r\npublic class CustomItemReader extends ItemReader&lt;Object&gt; {\r\n  private List&lt;Object&gt; items;\r\n  @Override\r\n  public Object read() {\r\n    if (Objects.isNull(items)) {\r\n      this.items = ImportService.getPage(pageId);\r\n    }\r\n    if (Objects.nonNull(items) &amp;&amp; !items.isEmpty()) {\r\n      return items.remove(0);\r\n    }\r\n    return null;\r\n  }\r\n}\r\n\r\n// config retry for fetching function\r\npublic class ImportService {\r\n  @Retryable(\r\n      value = RetryableException.class,\r\n      maxAttempts = 3,\r\n      backoff = @Backoff(\r\n          delay = 1000\r\n      )\r\n  )\r\n  public static List&lt;Object&gt; getPage(String pageId) throws RetryableException {\r\n    return ...;\r\n  }\r\n}\r\n```\r\n\r\nThe retry config contains `Backoff` policy, which has an incremental delay (1000 ms). I used this `Retryable` to handle both retry and rate limit.\r\n\r\n# Problem\r\n\r\n1. `Retryable` will repeatedly wait and re-execute the function, which hold the thread for the whole time. The instance might crash when things get bigger.\r\n2. Because each customer will have its own rate limit, using `Retryable` with `Backoff` is not an ideal way to control the rate. Eventhough I config `core_pool_size` for each customer sites, `core_pool_size=1` is not enough for some.\r\n\r\n# Question\r\n\r\n1. Is there any proper way to throttle the execution rate of Spring Batch, especially with Partitioning? For e.g: I want to config to send 2 requests in 10 seconds, and this will not be achieved by using `sleep` in step listener.\r\n2. I have used `scrapy` for some crawlers, and it has pretty cool retry and rate limit features. With [RetryMiddleware](https://docs.scrapy.org/en/latest/topics/downloader-middleware.html#module-scrapy.downloadermiddlewares.retry), it will enqueue the failed pages and has a `RETRY_LIMIT` in settings. With [AutoThrottle](https://docs.scrapy.org/en/latest/topics/autothrottle.html), it can automatically throttle speed based on load on server. Is there any way to achieve kind of those features in Spring Batch? Or I have to rewrite my project with `scrapy`?\r\n\r\n__Thanh you very much!__","title":"Spring Batch Partitioning with rate limit","body":"<h1>Background</h1>\n<p>I'm using Spring Batch to fetch data from our customer sites through HTTP API. The progress contains 2 main steps:</p>\n<ol>\n<li>Fetch the total documents from API, then calculate the total pages using a configurable page size. Each page will be assigned to one partition step using custom <code>Paritioner</code>.</li>\n<li>A partition step will send a request to fetch page of data (a list of documents), process and write to our storage.</li>\n</ol>\n<p>Customer sites might be <em>&quot;fragile&quot;</em>. They could have rate limit or their sites might not respond after some heavy requests.</p>\n<h1>What I have done so far</h1>\n<p>I'm using <code>spring-retry</code> to re-run a request which is failed because of rate limit or server error. For e.g:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// the partition step's item reader\n@StepScope\npublic class CustomItemReader extends ItemReader&lt;Object&gt; {\n  private List&lt;Object&gt; items;\n  @Override\n  public Object read() {\n    if (Objects.isNull(items)) {\n      this.items = ImportService.getPage(pageId);\n    }\n    if (Objects.nonNull(items) &amp;&amp; !items.isEmpty()) {\n      return items.remove(0);\n    }\n    return null;\n  }\n}\n\n// config retry for fetching function\npublic class ImportService {\n  @Retryable(\n      value = RetryableException.class,\n      maxAttempts = 3,\n      backoff = @Backoff(\n          delay = 1000\n      )\n  )\n  public static List&lt;Object&gt; getPage(String pageId) throws RetryableException {\n    return ...;\n  }\n}\n</code></pre>\n<p>The retry config contains <code>Backoff</code> policy, which has an incremental delay (1000 ms). I used this <code>Retryable</code> to handle both retry and rate limit.</p>\n<h1>Problem</h1>\n<ol>\n<li><code>Retryable</code> will repeatedly wait and re-execute the function, which hold the thread for the whole time. The instance might crash when things get bigger.</li>\n<li>Because each customer will have its own rate limit, using <code>Retryable</code> with <code>Backoff</code> is not an ideal way to control the rate. Eventhough I config <code>core_pool_size</code> for each customer sites, <code>core_pool_size=1</code> is not enough for some.</li>\n</ol>\n<h1>Question</h1>\n<ol>\n<li>Is there any proper way to throttle the execution rate of Spring Batch, especially with Partitioning? For e.g: I want to config to send 2 requests in 10 seconds, and this will not be achieved by using <code>sleep</code> in step listener.</li>\n<li>I have used <code>scrapy</code> for some crawlers, and it has pretty cool retry and rate limit features. With <a href=\"https://docs.scrapy.org/en/latest/topics/downloader-middleware.html#module-scrapy.downloadermiddlewares.retry\" rel=\"nofollow noreferrer\">RetryMiddleware</a>, it will enqueue the failed pages and has a <code>RETRY_LIMIT</code> in settings. With <a href=\"https://docs.scrapy.org/en/latest/topics/autothrottle.html\" rel=\"nofollow noreferrer\">AutoThrottle</a>, it can automatically throttle speed based on load on server. Is there any way to achieve kind of those features in Spring Batch? Or I have to rewrite my project with <code>scrapy</code>?</li>\n</ol>\n<p><strong>Thanh you very much!</strong></p>\n"},{"tags":["java","android","sms","android-contentprovider"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1661434564,"post_id":73485597,"comment_id":129775612,"body_markdown":"It&#39;s not quite clear how you&#39;re determining that it&#39;s not working. Sending still works the same when you&#39;re the default; the only difference is the one you&#39;ve noted, that the default is responsible for writing its own outgoing messages to the Provider. Non-default apps using `SmsManager` will have their outgoing messages automatically saved to the Provider by the system. If you&#39;re assuming that your sends as the default aren&#39;t working just because they aren&#39;t showing up in the Provider, that&#39;s actually to be expected.","body":"It&#39;s not quite clear how you&#39;re determining that it&#39;s not working. Sending still works the same when you&#39;re the default; the only difference is the one you&#39;ve noted, that the default is responsible for writing its own outgoing messages to the Provider. Non-default apps using <code>SmsManager</code> will have their outgoing messages automatically saved to the Provider by the system. If you&#39;re assuming that your sends as the default aren&#39;t working just because they aren&#39;t showing up in the Provider, that&#39;s actually to be expected."},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1661434568,"post_id":73485597,"comment_id":129775613,"body_markdown":"On the other hand, if you mean that the message is actually never reaching its recipient _only_ when you&#39;re the default, then that is a problem, but we&#39;ll need more details, and you&#39;ll need to do some tedious debugging. Lastly, I would also mention that some recent Android emulators have had buggy behavior when it comes to SMS, so it&#39;d be a good idea to test on real devices, too, if possible.","body":"On the other hand, if you mean that the message is actually never reaching its recipient <i>only</i> when you&#39;re the default, then that is a problem, but we&#39;ll need more details, and you&#39;ll need to do some tedious debugging. Lastly, I would also mention that some recent Android emulators have had buggy behavior when it comes to SMS, so it&#39;d be a good idea to test on real devices, too, if possible."}],"owner":{"account_id":23310283,"reputation":11,"user_id":17389651,"display_name":"CSMan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661421617,"creation_date":1661421617,"question_id":73485597,"body_markdown":"I need the ability to both send and delete SMSes from my app. The code I&#39;m using is shown. Sending an SMS does not require my app to be the default SMS app, however deleting does. \r\n\r\nWhat is weird is that the code to send the SMS does work when the app is not default, but not when it is (the code to delete SMSes works the other way around, however this is expected). \r\n\r\nI assume that this problem arises because even though another application may be sending the SMSes, only the default SMS app can write to the SMS provider, so I need to write to them manually. However, when having my app as default, other apps can still send SMSes using the same code provided, which is strange.\r\n\r\nI have also tried writing to the SMS providers manually, specifically to content://sms/outbox and tocontent://sms/sent, none of which have worked. Although, the latter does display the message in the preinstalled SMS app. \r\n\r\n```\r\n    public static void sendSMS(String phoneNo, String msg, Context context) {\r\n        try {\r\n            SmsManager smsManager = SmsManager.getDefault();\r\n            smsManager.sendTextMessage(phoneNo, null, msg, null, null);\r\n            Toast.makeText(context, &quot;Message Sent&quot;,\r\n                    Toast.LENGTH_LONG).show();\r\n        } catch (Exception e) {\r\n            Toast.makeText(context,e.getMessage().toString(),\r\n                    Toast.LENGTH_LONG).show();\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n\r\n```\r\npublic static void deleteSMS(Context context, String message, String number) {\r\n        try {\r\n            Log.i(MainActivity.TAG, &quot;delteSMS: try statement&quot;);\r\n            Uri uriSms = Uri.parse(&quot;content://sms/sent&quot;);\r\n            Cursor c = context.getContentResolver().query(uriSms,\r\n                    new String[] { &quot;_id&quot;, &quot;thread_id&quot;, &quot;address&quot;,\r\n                            &quot;person&quot;, &quot;date&quot;, &quot;body&quot; }, null, null, null);\r\n\r\n            if (c != null &amp;&amp; c.moveToFirst()) {\r\n                do {\r\n                    long id = c.getLong(0);\r\n                    long threadId = c.getLong(1);\r\n                    String address = c.getString(2);\r\n                    String body = c.getString(5);\r\n//                    Log.i(MainActivity.TAG, &quot;Found SMS: &quot; + body);\r\n\r\n                    if (message.equals(body) &amp;&amp; address.equals(number)) {\r\n                        Log.i(MainActivity.TAG, &quot;Deleting sms with&quot; + threadId);\r\n                        context.getContentResolver().delete(\r\n                                Uri.parse(&quot;content://sms/&quot; + id), null, null);\r\n                    }\r\n                } while (c.moveToNext());\r\n            }\r\n        } catch (Exception e) {\r\n            Log.i(MainActivity.TAG, &quot;Could not delete SMS from inbox: &quot; + e.getMessage());\r\n        }\r\n    }\r\n```\r\n\r\nTL;DR\r\nI need to know how to send SMSes from an application which is set as default, since the usual procedure does not work.\r\n\r\nThanks\r\n","title":"How to send an SMS from the default messaging app on Android?","body":"<p>I need the ability to both send and delete SMSes from my app. The code I'm using is shown. Sending an SMS does not require my app to be the default SMS app, however deleting does.</p>\n<p>What is weird is that the code to send the SMS does work when the app is not default, but not when it is (the code to delete SMSes works the other way around, however this is expected).</p>\n<p>I assume that this problem arises because even though another application may be sending the SMSes, only the default SMS app can write to the SMS provider, so I need to write to them manually. However, when having my app as default, other apps can still send SMSes using the same code provided, which is strange.</p>\n<p>I have also tried writing to the SMS providers manually, specifically to content://sms/outbox and tocontent://sms/sent, none of which have worked. Although, the latter does display the message in the preinstalled SMS app.</p>\n<pre><code>    public static void sendSMS(String phoneNo, String msg, Context context) {\n        try {\n            SmsManager smsManager = SmsManager.getDefault();\n            smsManager.sendTextMessage(phoneNo, null, msg, null, null);\n            Toast.makeText(context, &quot;Message Sent&quot;,\n                    Toast.LENGTH_LONG).show();\n        } catch (Exception e) {\n            Toast.makeText(context,e.getMessage().toString(),\n                    Toast.LENGTH_LONG).show();\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<pre><code>public static void deleteSMS(Context context, String message, String number) {\n        try {\n            Log.i(MainActivity.TAG, &quot;delteSMS: try statement&quot;);\n            Uri uriSms = Uri.parse(&quot;content://sms/sent&quot;);\n            Cursor c = context.getContentResolver().query(uriSms,\n                    new String[] { &quot;_id&quot;, &quot;thread_id&quot;, &quot;address&quot;,\n                            &quot;person&quot;, &quot;date&quot;, &quot;body&quot; }, null, null, null);\n\n            if (c != null &amp;&amp; c.moveToFirst()) {\n                do {\n                    long id = c.getLong(0);\n                    long threadId = c.getLong(1);\n                    String address = c.getString(2);\n                    String body = c.getString(5);\n//                    Log.i(MainActivity.TAG, &quot;Found SMS: &quot; + body);\n\n                    if (message.equals(body) &amp;&amp; address.equals(number)) {\n                        Log.i(MainActivity.TAG, &quot;Deleting sms with&quot; + threadId);\n                        context.getContentResolver().delete(\n                                Uri.parse(&quot;content://sms/&quot; + id), null, null);\n                    }\n                } while (c.moveToNext());\n            }\n        } catch (Exception e) {\n            Log.i(MainActivity.TAG, &quot;Could not delete SMS from inbox: &quot; + e.getMessage());\n        }\n    }\n</code></pre>\n<p>TL;DR\nI need to know how to send SMSes from an application which is set as default, since the usual procedure does not work.</p>\n<p>Thanks</p>\n"},{"tags":["java","intellij-idea","jar","executable-jar","intellij-14"],"comments":[{"owner":{"account_id":11179248,"reputation":11900,"user_id":8203759,"display_name":"Konstantin Annikov"},"score":0,"creation_date":1635140141,"post_id":69698113,"comment_id":123206046,"body_markdown":"May you share a sample project and artifact configuration under &quot;Project structure | Artifacts&quot;?","body":"May you share a sample project and artifact configuration under &quot;Project structure | Artifacts&quot;?"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1635339264,"post_id":69698113,"comment_id":123270534,"body_markdown":"Given the presence of a module-info.class, you&#39;re using a modular project, then you shouldn&#39;t use the default package. Put `MainBot` in a package.","body":"Given the presence of a module-info.class, you&#39;re using a modular project, then you shouldn&#39;t use the default package. Put <code>MainBot</code> in a package."},{"owner":{"account_id":16215361,"reputation":1260,"user_id":11708327,"display_name":"Phake"},"score":0,"creation_date":1635431506,"post_id":69698113,"comment_id":123301516,"body_markdown":"@MarkRotteveel I did that, now is says that the main class cannot be found at `package.MainBot`.","body":"@MarkRotteveel I did that, now is says that the main class cannot be found at <code>package.MainBot</code>."},{"owner":{"account_id":1486185,"reputation":78,"user_id":1399627,"display_name":"msl"},"score":0,"creation_date":1635444048,"post_id":69698113,"comment_id":123306887,"body_markdown":"Can you share MainBot code? Or at least class declaration and main method declaration?","body":"Can you share MainBot code? Or at least class declaration and main method declaration?"},{"owner":{"account_id":12992309,"reputation":694,"user_id":9391162,"display_name":"AMK"},"score":0,"creation_date":1635444673,"post_id":69698113,"comment_id":123307116,"body_markdown":"Did you check this? https://stackoverflow.com/a/21650867/9391162","body":"Did you check this? <a href=\"https://stackoverflow.com/a/21650867/9391162\">stackoverflow.com/a/21650867/9391162</a>"},{"owner":{"account_id":16215361,"reputation":1260,"user_id":11708327,"display_name":"Phake"},"score":0,"creation_date":1635496327,"post_id":69698113,"comment_id":123319140,"body_markdown":"@msl I have added my MainBot declaration code.","body":"@msl I have added my MainBot declaration code."},{"owner":{"account_id":16215361,"reputation":1260,"user_id":11708327,"display_name":"Phake"},"score":0,"creation_date":1635496706,"post_id":69698113,"comment_id":123319275,"body_markdown":"@AMK that did sadly not work, as I have my MainBot.class in a package called entry.","body":"@AMK that did sadly not work, as I have my MainBot.class in a package called entry."},{"owner":{"account_id":3555439,"reputation":1221,"user_id":2969332,"display_name":"Robert Mikes"},"score":0,"creation_date":1635522012,"post_id":69698113,"comment_id":123329359,"body_markdown":"It&#39;s in a package called entry? Not in the code examples and screenshots you have posted.","body":"It&#39;s in a package called entry? Not in the code examples and screenshots you have posted."}],"answers":[{"tags":[],"owner":{"account_id":14446626,"reputation":2578,"user_id":10435528,"display_name":"devatherock"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635548180,"creation_date":1635548180,"answer_id":69775519,"question_id":69698113,"body_markdown":"I attempted to reproduce the error using a [sample application](https://github.com/devatherock/java-module-example) that uses gradle, following [this tutorial](http://tutorials.jenkov.com/java/modules.html), but I couldn&#39;t. The sample application has a module named `io.github.devatherock.example`, which holds the `module-info.java` file and a package named `io.github.devatherock.example`, which contains the main class `MainBot.java`. I have listed the main class as `io.github.devatherock.example.MainBot` in gradle which produces a jar file with below manifest:\r\n\r\n```\r\nManifest-Version: 1.0\r\nMain-Class: io.github.devatherock.example.MainBot\r\n```\r\n\r\nThe jar executes without any error. In the IDE, the structure of the source code looks like below:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/P7aYv.png","title":".jar file error &quot;could not find or load main class&quot; with IntelliJ","body":"<p>I attempted to reproduce the error using a <a href=\"https://github.com/devatherock/java-module-example\" rel=\"nofollow noreferrer\">sample application</a> that uses gradle, following <a href=\"http://tutorials.jenkov.com/java/modules.html\" rel=\"nofollow noreferrer\">this tutorial</a>, but I couldn't. The sample application has a module named <code>io.github.devatherock.example</code>, which holds the <code>module-info.java</code> file and a package named <code>io.github.devatherock.example</code>, which contains the main class <code>MainBot.java</code>. I have listed the main class as <code>io.github.devatherock.example.MainBot</code> in gradle which produces a jar file with below manifest:</p>\n<pre><code>Manifest-Version: 1.0\nMain-Class: io.github.devatherock.example.MainBot\n</code></pre>\n<p>The jar executes without any error. In the IDE, the structure of the source code looks like below:</p>\n<p><a href=\"https://i.stack.imgur.com/P7aYv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P7aYv.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":15586524,"reputation":1970,"user_id":11244881,"display_name":"SKumar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1635569599,"creation_date":1635569599,"answer_id":69776885,"question_id":69698113,"body_markdown":"The `META-INF` folder in your generated Jar has these 2 files -\r\n\r\n    SIGNINGGC.RSA\r\n    SIGNINGGC.SF\r\n\r\nI assume that you are not signing the Jar. Then, these files must be coming from one of your dependancies when you are creating a Fat Jar. If any of your dependancies has a Signed Jar, then it could result into that `could not find or load main class: ` exception.\r\n\r\n\r\nYou can quickly find if this is the issue by removing those files with this command (referenced from [here][1]) and try and run the code -\r\n\r\n    zip -d yourjar.jar &#39;META-INF/*.SF&#39; &#39;META-INF/*.RSA&#39; &#39;META-INF/*.DSA&#39;\r\n\r\n\r\nIntelliJ shows 2 Options while generating Jar. The first one will generate a Fat Jar. The other option will keep the other library jars intact and link with them using Manifest file. \r\n\r\nAssuming all you need is to run your code, use the second option in the `Create Jar from Modules` Dialog box.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/37732156/11244881\r\n  [2]: https://i.stack.imgur.com/JsfAQ.png","title":".jar file error &quot;could not find or load main class&quot; with IntelliJ","body":"<p>The <code>META-INF</code> folder in your generated Jar has these 2 files -</p>\n<pre><code>SIGNINGGC.RSA\nSIGNINGGC.SF\n</code></pre>\n<p>I assume that you are not signing the Jar. Then, these files must be coming from one of your dependancies when you are creating a Fat Jar. If any of your dependancies has a Signed Jar, then it could result into that <code>could not find or load main class: </code> exception.</p>\n<p>You can quickly find if this is the issue by removing those files with this command (referenced from <a href=\"https://stackoverflow.com/a/37732156/11244881\">here</a>) and try and run the code -</p>\n<pre><code>zip -d yourjar.jar 'META-INF/*.SF' 'META-INF/*.RSA' 'META-INF/*.DSA'\n</code></pre>\n<p>IntelliJ shows 2 Options while generating Jar. The first one will generate a Fat Jar. The other option will keep the other library jars intact and link with them using Manifest file.</p>\n<p>Assuming all you need is to run your code, use the second option in the <code>Create Jar from Modules</code> Dialog box.</p>\n<p><a href=\"https://i.stack.imgur.com/JsfAQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JsfAQ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":17024750,"reputation":152,"user_id":12316314,"display_name":"garawaa garawaa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661421401,"creation_date":1661415482,"answer_id":73484149,"question_id":69698113,"body_markdown":"In Windows\r\nafter generating jar file, in generated folder run command\r\n\r\n    7z d yourjar.jar META-INF/*.SF META-INF/*.RSA META-INF/*.DSA -r\r\n\r\nyou must installed 7zip and added enviorment path","title":".jar file error &quot;could not find or load main class&quot; with IntelliJ","body":"<p>In Windows\nafter generating jar file, in generated folder run command</p>\n<pre><code>7z d yourjar.jar META-INF/*.SF META-INF/*.RSA META-INF/*.DSA -r\n</code></pre>\n<p>you must installed 7zip and added enviorment path</p>\n"}],"owner":{"account_id":16215361,"reputation":1260,"user_id":11708327,"display_name":"Phake"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3919,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69776885,"answer_count":3,"score":-1,"last_activity_date":1661421401,"creation_date":1635088619,"question_id":69698113,"body_markdown":"This is my MainBot.java code:\r\n\r\n```\r\npublic class MainBot {\r\n    public static void main(String[] args) {\r\n        new MainBot(&quot;my_private_token&quot;);\r\n    }\r\n\r\n    public MainBot(String token) {\r\n        // do stuff\r\n    }\r\n}\r\n```\r\n\r\nI have the following problem: When I try to execute the .jar file generated by IntelliJ, I get the following error:\r\n\r\n```\r\ncould not find or load main class: MainBot\r\n```\r\n\r\nBut when I look *in* the .jar file using WinRAR, I see this:\r\n\r\n[![jar file][1]][1]\r\n\r\n\r\nThe *MainBot.class* file is there! The manifest file in the META-INF/ folder looks like this:\r\n\r\n```\r\nManifest-Version: 1.0\r\nMain-Class: MainBot\r\n\r\n```\r\n\r\nAnd the the META-INF folder looks like this:\r\n\r\n[![meta-inf][2]][2]\r\n\r\nWhat did I do wrong? When exporting, I select the correct main file in *INTELLIJ*, add the META-INF directory to resources/ and then I build my artifact. How come that The MainBot file cannot be found, when it is there?! I also tried playing arond with the MAINFEST.MF file and tried changing the Main-Class to ../MainBot or something, but none of that worked.\r\n\r\nEDIT: This is the artifact under Project Structure | Artifacts\r\n\r\n[![enter image description here][3]][3]\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bXU6N.png\r\n  [2]: https://i.stack.imgur.com/cDU2e.png\r\n  [3]: https://i.stack.imgur.com/pg4gA.png\r\n  [4]: https://i.stack.imgur.com/OPIaq.png","title":".jar file error &quot;could not find or load main class&quot; with IntelliJ","body":"<p>This is my MainBot.java code:</p>\n<pre><code>public class MainBot {\n    public static void main(String[] args) {\n        new MainBot(&quot;my_private_token&quot;);\n    }\n\n    public MainBot(String token) {\n        // do stuff\n    }\n}\n</code></pre>\n<p>I have the following problem: When I try to execute the .jar file generated by IntelliJ, I get the following error:</p>\n<pre><code>could not find or load main class: MainBot\n</code></pre>\n<p>But when I look <em>in</em> the .jar file using WinRAR, I see this:</p>\n<p><a href=\"https://i.stack.imgur.com/bXU6N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bXU6N.png\" alt=\"jar file\" /></a></p>\n<p>The <em>MainBot.class</em> file is there! The manifest file in the META-INF/ folder looks like this:</p>\n<pre><code>Manifest-Version: 1.0\nMain-Class: MainBot\n\n</code></pre>\n<p>And the the META-INF folder looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/cDU2e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cDU2e.png\" alt=\"meta-inf\" /></a></p>\n<p>What did I do wrong? When exporting, I select the correct main file in <em>INTELLIJ</em>, add the META-INF directory to resources/ and then I build my artifact. How come that The MainBot file cannot be found, when it is there?! I also tried playing arond with the MAINFEST.MF file and tried changing the Main-Class to ../MainBot or something, but none of that worked.</p>\n<p>EDIT: This is the artifact under Project Structure | Artifacts</p>\n<p><a href=\"https://i.stack.imgur.com/pg4gA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pg4gA.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/OPIaq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OPIaq.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","broadcastreceiver","instance"],"comments":[{"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"score":0,"creation_date":1661421258,"post_id":73485339,"comment_id":129770538,"body_markdown":"If you want to lazy-initiialize `v`, simply check if `v == null` and only if this is the case, assign the value.","body":"If you want to lazy-initiialize <code>v</code>, simply check if <code>v == null</code> and only if this is the case, assign the value."}],"answers":[{"tags":[],"owner":{"account_id":22033721,"reputation":39,"user_id":16300574,"display_name":"Tudor Deviza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661420951,"creation_date":1661420951,"answer_id":73485419,"question_id":73485339,"body_markdown":"Maybe I did not understand the question, but you can declare this variable in the constructor, or as a class variable. Or is there some barrier to not doing so?\r\n\r\n    android.os.Vibrator v; //declare\r\n        \r\n    var v = (android.os.Vibrator) mainContext.getSystemService(Context.VIBRATOR_SERVICE);\r\n\r\n    public void onLocationChanged(@NonNull Location location) {\r\n            //code\r\n    }","title":"Creating instance variables only once","body":"<p>Maybe I did not understand the question, but you can declare this variable in the constructor, or as a class variable. Or is there some barrier to not doing so?</p>\n<pre><code>android.os.Vibrator v; //declare\n    \nvar v = (android.os.Vibrator) mainContext.getSystemService(Context.VIBRATOR_SERVICE);\n\npublic void onLocationChanged(@NonNull Location location) {\n        //code\n}\n</code></pre>\n"}],"owner":{"account_id":25554374,"reputation":11,"user_id":19338198,"display_name":"Pavol Švančarek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661420951,"creation_date":1661420600,"question_id":73485339,"body_markdown":"Not sure if its called instance variables but you will understand. I want to set variables like this only once. But it&#180;s in receiver. This way they are set every time receiver get message. What is the correct solution for this?\r\n\r\n    android.os.Vibrator v; //declare\r\n    \r\n    public void onLocationChanged(@NonNull Location location) {\r\n        v = (android.os.Vibrator) mainContext.getSystemService(Context.VIBRATOR_SERVICE); //getting instance every time","title":"Creating instance variables only once","body":"<p>Not sure if its called instance variables but you will understand. I want to set variables like this only once. But it´s in receiver. This way they are set every time receiver get message. What is the correct solution for this?</p>\n<pre><code>android.os.Vibrator v; //declare\n\npublic void onLocationChanged(@NonNull Location location) {\n    v = (android.os.Vibrator) mainContext.getSystemService(Context.VIBRATOR_SERVICE); //getting instance every time\n</code></pre>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":4140583,"reputation":2391,"user_id":3396045,"accept_rate":75,"display_name":"Shabirmean"},"score":0,"creation_date":1589214534,"post_id":61700234,"comment_id":109198345,"body_markdown":"Related vscode repo link: https://github.com/microsoft/vscode/issues/97363 where the same question is raised","body":"Related vscode repo link: <a href=\"https://github.com/microsoft/vscode/issues/97363\" rel=\"nofollow noreferrer\">github.com/microsoft/vscode/issues/97363</a> where the same question is raised"}],"answers":[{"tags":[],"owner":{"account_id":2994486,"reputation":9111,"user_id":2541276,"accept_rate":55,"display_name":"user51"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1589049749,"creation_date":1589049749,"answer_id":61701945,"question_id":61700234,"body_markdown":"You should use `vmArgs` option in the `.vscode/launch.json` file, create an entry for java launcher configuration as below -\r\n\r\n        {\r\n            &quot;version&quot;: &quot;0.2.0&quot;,\r\n            &quot;configurations&quot;: [\r\n                \r\n                {\r\n                    &quot;type&quot;: &quot;java&quot;,\r\n                    &quot;name&quot;: &quot;Debug (Launch) with Arguments Prompt&quot;,\r\n                    &quot;request&quot;: &quot;launch&quot;,\r\n                    &quot;mainClass&quot;: &quot;com.myapp.Main&quot;,\r\n                    &quot;args&quot;: &quot;${command:SpecifyProgramArgs}&quot;,\r\n                    &quot;vmArgs&quot; : &quot;${command:SpecifyVMArgs}&quot;\r\n                }\r\n            ]\r\n            }\r\n\r\nYou can get the list of other options here https://code.visualstudio.com/docs/java/java-debugging#_launch.\r\n\r\n","title":"How to set java vmargs in vscode at workspace level","body":"<p>You should use <code>vmArgs</code> option in the <code>.vscode/launch.json</code> file, create an entry for java launcher configuration as below -</p>\n\n<pre><code>    {\n        \"version\": \"0.2.0\",\n        \"configurations\": [\n\n            {\n                \"type\": \"java\",\n                \"name\": \"Debug (Launch) with Arguments Prompt\",\n                \"request\": \"launch\",\n                \"mainClass\": \"com.myapp.Main\",\n                \"args\": \"${command:SpecifyProgramArgs}\",\n                \"vmArgs\" : \"${command:SpecifyVMArgs}\"\n            }\n        ]\n        }\n</code></pre>\n\n<p>You can get the list of other options here <a href=\"https://code.visualstudio.com/docs/java/java-debugging#_launch\" rel=\"noreferrer\">https://code.visualstudio.com/docs/java/java-debugging#_launch</a>.</p>\n"},{"tags":[],"owner":{"account_id":13963804,"reputation":129,"user_id":10084200,"display_name":"SangLe"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1661420831,"creation_date":1661420831,"answer_id":73485388,"question_id":61700234,"body_markdown":"You should add vmArms at workspace level in setting.json file of VSCode\r\n\r\nOpen user setting: ctrl + shift + p\r\n\r\nfrom popup then you can search &quot;Open User Setting (JSON)&quot;\r\n\r\nAdd this line below into your user setting json file\r\n\r\n```json\r\n&quot;java.debug.settings.vmArgs&quot;: &quot;-Dappname=LocalTest ...&quot;\r\n```\r\npress F5 (default) to run single java file or you can right click at the current file and choose &quot;Run java&quot;","title":"How to set java vmargs in vscode at workspace level","body":"<p>You should add vmArms at workspace level in setting.json file of VSCode</p>\n<p>Open user setting: ctrl + shift + p</p>\n<p>from popup then you can search &quot;Open User Setting (JSON)&quot;</p>\n<p>Add this line below into your user setting json file</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;java.debug.settings.vmArgs&quot;: &quot;-Dappname=LocalTest ...&quot;\n</code></pre>\n<p>press F5 (default) to run single java file or you can right click at the current file and choose &quot;Run java&quot;</p>\n"}],"owner":{"account_id":4140583,"reputation":2391,"user_id":3396045,"accept_rate":75,"display_name":"Shabirmean"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13817,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1661420831,"creation_date":1589042287,"question_id":61700234,"body_markdown":"Is there a way I can set java VM arguments at workspace level? That is, not having to have it in each launch configuration in the `launch.json`. A specific argument I want to be used whenever a launch is triggered for the current workspace in vscode. I also don&#39;t want it to be global to all Java projects opened in vscode, just the current workspace.\r\n\r\nI tried adding this in `.vscode/settings.json`, but it doesn&#39;t seem to use it.\r\n```json\r\n{\r\n  &quot;java.jdt.ls.vmargs&quot;: &quot;-javaagent:/Users/me/my-agent.jar&quot;\r\n}\r\n```\r\nAny suggestions? Ways to achieve this?","title":"How to set java vmargs in vscode at workspace level","body":"<p>Is there a way I can set java VM arguments at workspace level? That is, not having to have it in each launch configuration in the <code>launch.json</code>. A specific argument I want to be used whenever a launch is triggered for the current workspace in vscode. I also don't want it to be global to all Java projects opened in vscode, just the current workspace.</p>\n\n<p>I tried adding this in <code>.vscode/settings.json</code>, but it doesn't seem to use it.</p>\n\n<pre><code>{\n  \"java.jdt.ls.vmargs\": \"-javaagent:/Users/me/my-agent.jar\"\n}\n</code></pre>\n\n<p>Any suggestions? Ways to achieve this?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1297966163,"post_id":5032762,"comment_id":5629900,"body_markdown":"&quot;Keeping a multitude of instance variables for every single UI element seems to be such an overkill&quot;  As opposed to keeping a multitude of Strings that represent field names, then using some type of &#39;lookup&#39; system that cannot be verified at compile-time?","body":"&quot;Keeping a multitude of instance variables for every single UI element seems to be such an overkill&quot;  As opposed to keeping a multitude of Strings that represent field names, then using some type of &#39;lookup&#39; system that cannot be verified at compile-time?"},{"owner":{"account_id":203212,"reputation":2374,"user_id":450741,"accept_rate":63,"display_name":"Saideira"},"score":0,"creation_date":1297966306,"post_id":5032762,"comment_id":5629934,"body_markdown":"correct, less lines of code =&gt; easier to read. also dont need to pass reference to anything into methods that update the said elements, etc etc.","body":"correct, less lines of code =&gt; easier to read. also dont need to pass reference to anything into methods that update the said elements, etc etc."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1297966311,"post_id":5032762,"comment_id":5629937,"body_markdown":"What problem are you trying to solve in a non-programming sense that you feel that this is necessary?  This sounds as if you need to refactor your code as a better solution.  Though I&#39;ve sometimes used HashMap&lt;String, JTextField&gt; when it best solves a problem, for instance when I create a data entry form on the fly and use the same JLabel Strings as the HashMap key Strings.","body":"What problem are you trying to solve in a non-programming sense that you feel that this is necessary?  This sounds as if you need to refactor your code as a better solution.  Though I&#39;ve sometimes used HashMap&lt;String, JTextField&gt; when it best solves a problem, for instance when I create a data entry form on the fly and use the same JLabel Strings as the HashMap key Strings."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1297966571,"post_id":5032762,"comment_id":5629991,"body_markdown":"It was a simple question for clarification of your problem. And &quot;best programming practices&quot; are what we all need to learn and apply, whether this appeals to you or not.","body":"It was a simple question for clarification of your problem. And &quot;best programming practices&quot; are what we all need to learn and apply, whether this appeals to you or not."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1297968249,"post_id":5032762,"comment_id":5630372,"body_markdown":"&quot;I&#39;m not writing software for space shuttle columbia.&quot;  OK.  But if you code like that, you might end up with the same result (crash &amp; burn). &quot;..dont need to pass reference to anything into methods that update the said elements,..&quot;  How do you determine which of the &#39;multitude&#39; of text areas to update unless a String identifying the name of the field is passed to the method?  Seems just as complicated, and far more error prone, than passing the variable itself (which will not only check at compile time that it exists, but also that it is an object of the correct type for the method).","body":"&quot;I&#39;m not writing software for space shuttle columbia.&quot;  OK.  But if you code like that, you might end up with the same result (crash &amp; burn). &quot;..dont need to pass reference to anything into methods that update the said elements,..&quot;  How do you determine which of the &#39;multitude&#39; of text areas to update unless a String identifying the name of the field is passed to the method?  Seems just as complicated, and far more error prone, than passing the variable itself (which will not only check at compile time that it exists, but also that it is an object of the correct type for the method)."}],"answers":[{"tags":[],"owner":{"account_id":101585,"reputation":107721,"user_id":273200,"accept_rate":100,"display_name":"Bala R"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1297966965,"creation_date":1297966611,"answer_id":5032880,"question_id":5032762,"body_markdown":"    private static Component getComponentById(Container container, String componentId){\r\n    \t\t\r\n    \t\tif(container.getComponents().length &gt; 0)\r\n    \t\t{\r\n    \t\t\tfor(Component c : container.getComponents())\r\n    \t\t\t{\r\n    \t\t\t\tif(componentId.equals(c.getName()))\r\n    \t\t\t\t{\r\n    \t\t\t\t\treturn c;\r\n    \t\t\t\t}\r\n    \t\t\t\tif(c instanceof Container)\r\n    \t\t\t\t{\r\n    \t\t\t\t\treturn getComponent((Container) c, componentId);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn null;\r\n    \t\t\r\n    \t}","title":"looking up Swing components by their id?","body":"<pre><code>private static Component getComponentById(Container container, String componentId){\n\n        if(container.getComponents().length &gt; 0)\n        {\n            for(Component c : container.getComponents())\n            {\n                if(componentId.equals(c.getName()))\n                {\n                    return c;\n                }\n                if(c instanceof Container)\n                {\n                    return getComponent((Container) c, componentId);\n                }\n            }\n        }\n\n        return null;\n\n    }\n</code></pre>\n"}],"owner":{"account_id":203212,"reputation":2374,"user_id":450741,"accept_rate":63,"display_name":"Saideira"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5759,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":5032880,"answer_count":1,"score":0,"last_activity_date":1661420658,"creation_date":1297965917,"question_id":5032762,"body_markdown":"Is it possible to get a reference to a swing object via some lookup method ?? \r\n\r\nKeeping a multitude of instance variables for every single UI element seems to be such an overkill\r\n\r\nie kinda the way its done in javascript:\r\n\r\n    JTextArea ta = new JTextArea();\r\n    ta.setId(&quot;myJTextArea&quot;);\r\n    ....\r\n    ....\r\n    ....\r\n    JTextArea ta = window.getElementById(&quot;myJTextArea&quot;);\r\n    ta.setTexT(&quot;blah&quot;);\r\n\r\n_PS._ I&#39;m not writing software for space shuttle columbia. This is a quick and dirty projects, so best practices dont apply. Thx.","title":"looking up Swing components by their id?","body":"<p>Is it possible to get a reference to a swing object via some lookup method ??</p>\n<p>Keeping a multitude of instance variables for every single UI element seems to be such an overkill</p>\n<p>ie kinda the way its done in javascript:</p>\n<pre><code>JTextArea ta = new JTextArea();\nta.setId(&quot;myJTextArea&quot;);\n....\n....\n....\nJTextArea ta = window.getElementById(&quot;myJTextArea&quot;);\nta.setTexT(&quot;blah&quot;);\n</code></pre>\n<p><em>PS.</em> I'm not writing software for space shuttle columbia. This is a quick and dirty projects, so best practices dont apply. Thx.</p>\n"},{"tags":["java","spring","spring-boot","junit5","wiremock"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":2,"creation_date":1660843831,"post_id":73407216,"comment_id":129635216,"body_markdown":"Please [edit] your question to show a [mcve] for what you have so far. Showing code along with the verbal explanation will increases the chance of getting help more quickly.","body":"Please <a href=\"https://stackoverflow.com/posts/73407216/edit\">edit</a> your question to show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> for what you have so far. Showing code along with the verbal explanation will increases the chance of getting help more quickly."},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1660845706,"post_id":73407216,"comment_id":129635876,"body_markdown":"One option is [WireMock](https://wiremock.org/docs/junit-jupiter/)","body":"One option is <a href=\"https://wiremock.org/docs/junit-jupiter/\" rel=\"nofollow noreferrer\">WireMock</a>"}],"answers":[{"tags":[],"owner":{"account_id":13139235,"reputation":79,"user_id":9491307,"display_name":"L. Schilling"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661420367,"creation_date":1661420367,"answer_id":73485279,"question_id":73407216,"body_markdown":"Here is what I did in one of my Projects to test a retry logic. Just remove the 503 responses and add the wanted body:\r\n\r\n    import static org.junit.jupiter.api.Assertions.assertThrows;\r\n    import static org.junit.jupiter.api.Assertions.assertTrue;\r\n    \r\n    import TestedApi;\r\n    import MyDto;\r\n    import java.io.IOException;\r\n    import java.util.List;\r\n    import java.util.Objects;\r\n    import okhttp3.mockwebserver.MockResponse;\r\n    import okhttp3.mockwebserver.MockWebServer;\r\n    import org.junit.jupiter.api.BeforeEach;\r\n    import org.junit.jupiter.api.Tag;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.test.context.ActiveProfiles;\r\n    import reactor.core.publisher.Mono;\r\n    import reactor.test.StepVerifier;\r\n    \r\n    @SpringBootTest()\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    @Tag(&quot;integration&quot;)\r\n    \r\n    public class TrApiIT {\r\n    \r\n      @Autowired\r\n      private TestedApi testedApi;\r\n    \r\n      @BeforeEach\r\n      void setup() {\r\n    \r\n      }\r\n    \r\n      @Test\r\n      public void testRetryHappyPath() throws IOException {\r\n        MockWebServer mockWebServer = new MockWebServer();\r\n    \r\n        mockWebServer.enqueue(new MockResponse().setResponseCode(503));\r\n        mockWebServer.enqueue(new MockResponse().setResponseCode(503));\r\n        mockWebServer.enqueue(new MockResponse().setResponseCode(200)\r\n            .setBody(&quot;&quot;));\r\n    \r\n        mockWebServer.start(50455);\r\n    \r\n        List&lt;MyDto&gt; entries = List\r\n            .of(MyDto.builder()\r\n                .messageReference(&quot;00000000-0000-0000-0000-000000000000&quot;)\r\n                .build());\r\n    \r\n        Mono&lt;HttpStatus&gt; responseMono = testedApi.postData(entries);\r\n    \r\n        StepVerifier.create(responseMono)\r\n            .expectNext(HttpStatus.OK)\r\n            .expectComplete().verify();\r\n    \r\n        mockWebServer.shutdown();\r\n      }\r\n    }\r\n\r\napplication-test.properties:\r\n\r\n    external.api.myapi.baseUrl=http://127.0.0.1:50455\r\n\r\nMaven:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n      &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n      &lt;version&gt;${mockwebserver.version}&lt;/version&gt;\r\n      &lt;!--&lt;scope&gt;test&lt;/scope&gt;--&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mockwebserver&lt;/artifactId&gt;\r\n      &lt;version&gt;${mockwebserver.version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n      &lt;version&gt;${junitvintage.version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n      &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n      &lt;version&gt;${reactortest.version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"I want to mock the response from external url","body":"<p>Here is what I did in one of my Projects to test a retry logic. Just remove the 503 responses and add the wanted body:</p>\n<pre><code>import static org.junit.jupiter.api.Assertions.assertThrows;\nimport static org.junit.jupiter.api.Assertions.assertTrue;\n\nimport TestedApi;\nimport MyDto;\nimport java.io.IOException;\nimport java.util.List;\nimport java.util.Objects;\nimport okhttp3.mockwebserver.MockResponse;\nimport okhttp3.mockwebserver.MockWebServer;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Tag;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.test.context.ActiveProfiles;\nimport reactor.core.publisher.Mono;\nimport reactor.test.StepVerifier;\n\n@SpringBootTest()\n@ActiveProfiles(&quot;test&quot;)\n@Tag(&quot;integration&quot;)\n\npublic class TrApiIT {\n\n  @Autowired\n  private TestedApi testedApi;\n\n  @BeforeEach\n  void setup() {\n\n  }\n\n  @Test\n  public void testRetryHappyPath() throws IOException {\n    MockWebServer mockWebServer = new MockWebServer();\n\n    mockWebServer.enqueue(new MockResponse().setResponseCode(503));\n    mockWebServer.enqueue(new MockResponse().setResponseCode(503));\n    mockWebServer.enqueue(new MockResponse().setResponseCode(200)\n        .setBody(&quot;&quot;));\n\n    mockWebServer.start(50455);\n\n    List&lt;MyDto&gt; entries = List\n        .of(MyDto.builder()\n            .messageReference(&quot;00000000-0000-0000-0000-000000000000&quot;)\n            .build());\n\n    Mono&lt;HttpStatus&gt; responseMono = testedApi.postData(entries);\n\n    StepVerifier.create(responseMono)\n        .expectNext(HttpStatus.OK)\n        .expectComplete().verify();\n\n    mockWebServer.shutdown();\n  }\n}\n</code></pre>\n<p>application-test.properties:</p>\n<pre><code>external.api.myapi.baseUrl=http://127.0.0.1:50455\n</code></pre>\n<p>Maven:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n  &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n  &lt;version&gt;${mockwebserver.version}&lt;/version&gt;\n  &lt;!--&lt;scope&gt;test&lt;/scope&gt;--&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n  &lt;artifactId&gt;mockwebserver&lt;/artifactId&gt;\n  &lt;version&gt;${mockwebserver.version}&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n  &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n  &lt;version&gt;${junitvintage.version}&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n  &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n  &lt;version&gt;${reactortest.version}&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":26100605,"reputation":11,"user_id":19796092,"display_name":"Aslam P Sherif"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":578,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661420367,"creation_date":1660843733,"question_id":73407216,"body_markdown":"i am working on a springboot based application and one of my rest api end point flow is as below\r\n\r\nfrom controller &gt;&gt;&gt; service&gt;&gt; clientclass\r\n\r\nin client class i am calling a external post request using restTemplate. but as of now external url is down. so i need to mock the response from external url to test the entire flow from controller class and back","title":"I want to mock the response from external url","body":"<p>i am working on a springboot based application and one of my rest api end point flow is as below</p>\n<p>from controller &gt;&gt;&gt; service&gt;&gt; clientclass</p>\n<p>in client class i am calling a external post request using restTemplate. but as of now external url is down. so i need to mock the response from external url to test the entire flow from controller class and back</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5277236,"reputation":8320,"user_id":4213662,"accept_rate":80,"display_name":"Persixty"},"score":0,"creation_date":1661417384,"post_id":73480206,"comment_id":129769024,"body_markdown":"What is this condition you are check if met? It sounds like a &#39;polling&#39; design in which your task keeps checking (polling) a condition for N minutes. That&#39;s a &#39;last resort&#39; design. The best designs have a task sleeping or waiting and getting notified when a condition is met. Polling consumes lots of compute and isn&#39;t scalable. But sometimes it&#39;s the only option.","body":"What is this condition you are check if met? It sounds like a &#39;polling&#39; design in which your task keeps checking (polling) a condition for N minutes. That&#39;s a &#39;last resort&#39; design. The best designs have a task sleeping or waiting and getting notified when a condition is met. Polling consumes lots of compute and isn&#39;t scalable. But sometimes it&#39;s the only option."}],"answers":[{"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661382029,"creation_date":1661382029,"answer_id":73480288,"question_id":73480206,"body_markdown":"[`ScheduledExecutorService`](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledExecutorService.html) can accomplish this.\r\n\r\nWhat you need to do:\r\n\r\n - Schedule the block of work you want to do at a fixed interval (in time units, so like seconds, minutes, hours, etc)\r\n - When you&#39;ve completed the work, execute `ScheduledExecutorService#shutdownNow`\r\n - To time out after a period of time, use `ScheduledExecutorService#awaitTermination` to delay the termination of the scheduled task until your threshold elapses","title":"Is there a way to schedule a task until an event occurs or a specific amount of time passes?","body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledExecutorService.html\" rel=\"nofollow noreferrer\"><code>ScheduledExecutorService</code></a> can accomplish this.</p>\n<p>What you need to do:</p>\n<ul>\n<li>Schedule the block of work you want to do at a fixed interval (in time units, so like seconds, minutes, hours, etc)</li>\n<li>When you've completed the work, execute <code>ScheduledExecutorService#shutdownNow</code></li>\n<li>To time out after a period of time, use <code>ScheduledExecutorService#awaitTermination</code> to delay the termination of the scheduled task until your threshold elapses</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661415453,"creation_date":1661414176,"answer_id":73483850,"question_id":73480206,"body_markdown":"# Task reschedules itself\r\n\r\nThe [Answer by Makato][1] is right about suggesting the use of an [executor service][2]. But ending the [scheduled executor service][3] as the way to end your repeating [task][4] is less than optimal. Often we have one executor service handling many tasks. So while we want our repeating task to end, the executor service may need to continue scheduling other tasks to run. \r\n\r\nInstead, ironically, &#128073;&#127995; **do not schedule the repeating task to repeat**. [Schedule the task][5] to run *once*. Have the task check its status. \r\n\r\n - If the status requires the task run again, have the task schedule itself on the executor service for another run. \r\n - If the status is complete, and no further executions of that task are needed, simply opt out of another submission to the executor service. \r\n\r\nThe key to making this work is **passing a reference to the scheduled executor service to the constructor of your task**. The task keeps that reference as a member field of its own class. So the task can use that reference to pass itself to the scheduled executor service for another submission. The task becomes self-scheduling.\r\n\r\nHere is the source code for an example of such a task.\r\n\r\nNotice that in addition to passing a reference to the scheduled executor service, we also pass an `Instant` representing our target moment when we want to stop our repeating task. And we pass a `Duration` object for the amount of time to wait between executions of this task. \r\n\r\nExamine that `run` method. The task compares the current moment against the target moment. If not yet passed, the task schedules it own next execution. If passed, no rescheduling, mission accomplished.\r\n\r\n```java\r\npackage work.basil.example.concurrency;\r\n\r\nimport java.time.Duration;\r\nimport java.time.Instant;\r\nimport java.util.Objects;\r\nimport java.util.concurrent.ScheduledExecutorService;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class ExpiringTask implements Runnable\r\n{\r\n    private final Instant timeLimit;\r\n    private final Duration untilNextRun;\r\n    private final ScheduledExecutorService scheduledExecutorService;\r\n\r\n    public ExpiringTask ( final Instant timeLimit , final Duration untilNextRun , final ScheduledExecutorService scheduledExecutorService )\r\n    {\r\n        this.timeLimit = Objects.requireNonNull( timeLimit );\r\n        this.untilNextRun = Objects.requireNonNull( untilNextRun );\r\n        this.scheduledExecutorService = Objects.requireNonNull( scheduledExecutorService );\r\n    }\r\n\r\n    @Override\r\n    public void run ( )\r\n    {\r\n        System.out.println( &quot;INFO - Running the `run` method of our ExpiringTask. Now: &quot; + Instant.now() );\r\n        if ( Instant.now().isAfter( this.timeLimit ) )\r\n        {\r\n            System.out.println( &quot;☑️ Mission accomplished. Our task has expired. Now: &quot; + Instant.now() );\r\n        }\r\n        else\r\n        {\r\n            System.out.println( &quot;⏲️ Not yet expired. Reschedule to check again. Now: &quot; + Instant.now() );\r\n            this.scheduledExecutorService.schedule( this , this.untilNextRun.toNanos() , TimeUnit.NANOSECONDS );\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIn real work, when rescheduling the task, I would check that the executor service is still available. To do so, make a call to [`ExecutorSerivce#isShutdown`][6]. This step is omitted in code above for brevity and simplicity. \r\n\r\nHow to run get that task running? Here is the main chunk of an app to demonstrate this task running repeatedly while rescheduling itself.\r\n\r\nFirst we establish our target time limit as five seconds from now. Then we specify waiting between runs for one second each time. And we get a scheduled executor service. Be sure to keep that reference around, as you must be careful to gracefully shut down the executor service eventually — otherwise its backing thread pool may continue running indefinitely, like a zombie &#129503;‍♂️.\r\n\r\nNext step is to instantiate our task, passing the pieces to its constructor. Finally, to get things working, we tell the scheduled executor service to run our task after a certain amount of delay. For this first run we want to run immediately, so we specify a delay of zero nanoseconds. \r\n\r\n```java\r\nInstant timeLimit = Instant.now().plus( Duration.ofSeconds( 5 ) );\r\nDuration untilNextRun = Duration.ofSeconds( 1 );\r\nScheduledExecutorService ses = Executors.newSingleThreadScheduledExecutor();\r\nExpiringTask task = new ExpiringTask( timeLimit , untilNextRun , ses );\r\nses.schedule( task , 0 , TimeUnit.NANOSECONDS );\r\n```\r\n\r\nThat covers the main idea. Here is the complete app class containing that code excerpted directly above.\r\n\r\n```java\r\npackage work.basil.example.concurrency;\r\n\r\nimport java.time.Duration;\r\nimport java.time.Instant;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.ScheduledExecutorService;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class KeepRunningUntil\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        KeepRunningUntil app = new KeepRunningUntil();\r\n        app.demo();\r\n        System.out.println( &quot;INFO - Demo ending. Now: &quot; + Instant.now() );\r\n    }\r\n\r\n    private void demo ( )\r\n    {\r\n        System.out.println( &quot;INFO - &#39;demo&#39; method starting. &quot; + Instant.now() );\r\n\r\n        Instant timeLimit = Instant.now().plus( Duration.ofSeconds( 5 ) );\r\n        Duration untilNextRun = Duration.ofSeconds( 1 );\r\n        ScheduledExecutorService ses = Executors.newSingleThreadScheduledExecutor();\r\n        ExpiringTask task = new ExpiringTask( timeLimit , untilNextRun , ses );\r\n        ses.schedule( task , 0 , TimeUnit.NANOSECONDS );\r\n\r\n        // Wait a while for our background task to do its thing.\r\n        try { Thread.sleep( Duration.ofSeconds( 10 ).toMillis() ); } catch ( InterruptedException e ) { throw new RuntimeException( e ); }\r\n        this.shutdownAndAwaitTermination( ses );\r\n\r\n        System.out.println( &quot;INFO - &#39;demo&#39; method ending. &quot; + Instant.now() );\r\n    }\r\n\r\n    private void shutdownAndAwaitTermination ( ExecutorService executorService )\r\n    {\r\n        // Boilerplate taken from Javadoc.\r\n        // https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html#isShutdown()\r\n\r\n        executorService.shutdown(); // Disable new tasks from being submitted\r\n        try\r\n        {\r\n            // Wait a while for existing tasks to terminate\r\n            if ( ! executorService.awaitTermination( 60 , TimeUnit.SECONDS ) )\r\n            {\r\n                executorService.shutdownNow(); // Cancel currently executing tasks\r\n                // Wait a while for tasks to respond to being cancelled\r\n                if ( ! executorService.awaitTermination( 60 , TimeUnit.SECONDS ) )\r\n                { System.err.println( &quot;Pool did not terminate&quot; ); }\r\n            }\r\n        }\r\n        catch ( InterruptedException ex )\r\n        {\r\n            // (Re-)Cancel if current thread also interrupted\r\n            executorService.shutdownNow();\r\n            // Preserve interrupt status\r\n            Thread.currentThread().interrupt();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhen run.\r\n\r\n```none\r\nINFO - &#39;demo&#39; method starting. 2022-08-25T08:16:28.384638Z\r\nINFO - Running the `run` method of our ExpiringTask. Now: 2022-08-25T08:16:28.402471Z\r\n⏲️ Not yet expired. Reschedule to check again. Now: 2022-08-25T08:16:28.402657Z\r\nINFO - Running the `run` method of our ExpiringTask. Now: 2022-08-25T08:16:29.408010Z\r\n⏲️ Not yet expired. Reschedule to check again. Now: 2022-08-25T08:16:29.408126Z\r\nINFO - Running the `run` method of our ExpiringTask. Now: 2022-08-25T08:16:30.413336Z\r\n⏲️ Not yet expired. Reschedule to check again. Now: 2022-08-25T08:16:30.413599Z\r\nINFO - Running the `run` method of our ExpiringTask. Now: 2022-08-25T08:16:31.416144Z\r\n⏲️ Not yet expired. Reschedule to check again. Now: 2022-08-25T08:16:31.416230Z\r\nINFO - Running the `run` method of our ExpiringTask. Now: 2022-08-25T08:16:32.421484Z\r\n⏲️ Not yet expired. Reschedule to check again. Now: 2022-08-25T08:16:32.421873Z\r\nINFO - Running the `run` method of our ExpiringTask. Now: 2022-08-25T08:16:33.425519Z\r\n☑️ Mission accomplished. Our task has expired. Now: 2022-08-25T08:16:33.425863Z\r\nINFO - &#39;demo&#39; method ending. 2022-08-25T08:16:38.407566Z\r\nINFO - Demo ending. Now: 2022-08-25T08:16:38.407755Z\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/73480288/642706\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html#schedule(java.lang.Runnable,long,java.util.concurrent.TimeUnit)\r\n  [6]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html#isShutdown()","title":"Is there a way to schedule a task until an event occurs or a specific amount of time passes?","body":"<h1>Task reschedules itself</h1>\n<p>The <a href=\"https://stackoverflow.com/a/73480288/642706\">Answer by Makato</a> is right about suggesting the use of an <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\">executor service</a>. But ending the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html\" rel=\"nofollow noreferrer\">scheduled executor service</a> as the way to end your repeating <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html\" rel=\"nofollow noreferrer\">task</a> is less than optimal. Often we have one executor service handling many tasks. So while we want our repeating task to end, the executor service may need to continue scheduling other tasks to run.</p>\n<p>Instead, ironically, 👉🏻 <strong>do not schedule the repeating task to repeat</strong>. <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html#schedule(java.lang.Runnable,long,java.util.concurrent.TimeUnit)\" rel=\"nofollow noreferrer\">Schedule the task</a> to run <em>once</em>. Have the task check its status.</p>\n<ul>\n<li>If the status requires the task run again, have the task schedule itself on the executor service for another run.</li>\n<li>If the status is complete, and no further executions of that task are needed, simply opt out of another submission to the executor service.</li>\n</ul>\n<p>The key to making this work is <strong>passing a reference to the scheduled executor service to the constructor of your task</strong>. The task keeps that reference as a member field of its own class. So the task can use that reference to pass itself to the scheduled executor service for another submission. The task becomes self-scheduling.</p>\n<p>Here is the source code for an example of such a task.</p>\n<p>Notice that in addition to passing a reference to the scheduled executor service, we also pass an <code>Instant</code> representing our target moment when we want to stop our repeating task. And we pass a <code>Duration</code> object for the amount of time to wait between executions of this task.</p>\n<p>Examine that <code>run</code> method. The task compares the current moment against the target moment. If not yet passed, the task schedules it own next execution. If passed, no rescheduling, mission accomplished.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.concurrency;\n\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.Objects;\nimport java.util.concurrent.ScheduledExecutorService;\nimport java.util.concurrent.TimeUnit;\n\npublic class ExpiringTask implements Runnable\n{\n    private final Instant timeLimit;\n    private final Duration untilNextRun;\n    private final ScheduledExecutorService scheduledExecutorService;\n\n    public ExpiringTask ( final Instant timeLimit , final Duration untilNextRun , final ScheduledExecutorService scheduledExecutorService )\n    {\n        this.timeLimit = Objects.requireNonNull( timeLimit );\n        this.untilNextRun = Objects.requireNonNull( untilNextRun );\n        this.scheduledExecutorService = Objects.requireNonNull( scheduledExecutorService );\n    }\n\n    @Override\n    public void run ( )\n    {\n        System.out.println( &quot;INFO - Running the `run` method of our ExpiringTask. Now: &quot; + Instant.now() );\n        if ( Instant.now().isAfter( this.timeLimit ) )\n        {\n            System.out.println( &quot;☑️ Mission accomplished. Our task has expired. Now: &quot; + Instant.now() );\n        }\n        else\n        {\n            System.out.println( &quot;⏲️ Not yet expired. Reschedule to check again. Now: &quot; + Instant.now() );\n            this.scheduledExecutorService.schedule( this , this.untilNextRun.toNanos() , TimeUnit.NANOSECONDS );\n        }\n    }\n}\n</code></pre>\n<p>In real work, when rescheduling the task, I would check that the executor service is still available. To do so, make a call to <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html#isShutdown()\" rel=\"nofollow noreferrer\"><code>ExecutorSerivce#isShutdown</code></a>. This step is omitted in code above for brevity and simplicity.</p>\n<p>How to run get that task running? Here is the main chunk of an app to demonstrate this task running repeatedly while rescheduling itself.</p>\n<p>First we establish our target time limit as five seconds from now. Then we specify waiting between runs for one second each time. And we get a scheduled executor service. Be sure to keep that reference around, as you must be careful to gracefully shut down the executor service eventually — otherwise its backing thread pool may continue running indefinitely, like a zombie 🧟‍♂️.</p>\n<p>Next step is to instantiate our task, passing the pieces to its constructor. Finally, to get things working, we tell the scheduled executor service to run our task after a certain amount of delay. For this first run we want to run immediately, so we specify a delay of zero nanoseconds.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Instant timeLimit = Instant.now().plus( Duration.ofSeconds( 5 ) );\nDuration untilNextRun = Duration.ofSeconds( 1 );\nScheduledExecutorService ses = Executors.newSingleThreadScheduledExecutor();\nExpiringTask task = new ExpiringTask( timeLimit , untilNextRun , ses );\nses.schedule( task , 0 , TimeUnit.NANOSECONDS );\n</code></pre>\n<p>That covers the main idea. Here is the complete app class containing that code excerpted directly above.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.concurrency;\n\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.ScheduledExecutorService;\nimport java.util.concurrent.TimeUnit;\n\npublic class KeepRunningUntil\n{\n    public static void main ( String[] args )\n    {\n        KeepRunningUntil app = new KeepRunningUntil();\n        app.demo();\n        System.out.println( &quot;INFO - Demo ending. Now: &quot; + Instant.now() );\n    }\n\n    private void demo ( )\n    {\n        System.out.println( &quot;INFO - 'demo' method starting. &quot; + Instant.now() );\n\n        Instant timeLimit = Instant.now().plus( Duration.ofSeconds( 5 ) );\n        Duration untilNextRun = Duration.ofSeconds( 1 );\n        ScheduledExecutorService ses = Executors.newSingleThreadScheduledExecutor();\n        ExpiringTask task = new ExpiringTask( timeLimit , untilNextRun , ses );\n        ses.schedule( task , 0 , TimeUnit.NANOSECONDS );\n\n        // Wait a while for our background task to do its thing.\n        try { Thread.sleep( Duration.ofSeconds( 10 ).toMillis() ); } catch ( InterruptedException e ) { throw new RuntimeException( e ); }\n        this.shutdownAndAwaitTermination( ses );\n\n        System.out.println( &quot;INFO - 'demo' method ending. &quot; + Instant.now() );\n    }\n\n    private void shutdownAndAwaitTermination ( ExecutorService executorService )\n    {\n        // Boilerplate taken from Javadoc.\n        // https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html#isShutdown()\n\n        executorService.shutdown(); // Disable new tasks from being submitted\n        try\n        {\n            // Wait a while for existing tasks to terminate\n            if ( ! executorService.awaitTermination( 60 , TimeUnit.SECONDS ) )\n            {\n                executorService.shutdownNow(); // Cancel currently executing tasks\n                // Wait a while for tasks to respond to being cancelled\n                if ( ! executorService.awaitTermination( 60 , TimeUnit.SECONDS ) )\n                { System.err.println( &quot;Pool did not terminate&quot; ); }\n            }\n        }\n        catch ( InterruptedException ex )\n        {\n            // (Re-)Cancel if current thread also interrupted\n            executorService.shutdownNow();\n            // Preserve interrupt status\n            Thread.currentThread().interrupt();\n        }\n    }\n}\n</code></pre>\n<p>When run.</p>\n<pre class=\"lang-none prettyprint-override\"><code>INFO - 'demo' method starting. 2022-08-25T08:16:28.384638Z\nINFO - Running the `run` method of our ExpiringTask. Now: 2022-08-25T08:16:28.402471Z\n⏲️ Not yet expired. Reschedule to check again. Now: 2022-08-25T08:16:28.402657Z\nINFO - Running the `run` method of our ExpiringTask. Now: 2022-08-25T08:16:29.408010Z\n⏲️ Not yet expired. Reschedule to check again. Now: 2022-08-25T08:16:29.408126Z\nINFO - Running the `run` method of our ExpiringTask. Now: 2022-08-25T08:16:30.413336Z\n⏲️ Not yet expired. Reschedule to check again. Now: 2022-08-25T08:16:30.413599Z\nINFO - Running the `run` method of our ExpiringTask. Now: 2022-08-25T08:16:31.416144Z\n⏲️ Not yet expired. Reschedule to check again. Now: 2022-08-25T08:16:31.416230Z\nINFO - Running the `run` method of our ExpiringTask. Now: 2022-08-25T08:16:32.421484Z\n⏲️ Not yet expired. Reschedule to check again. Now: 2022-08-25T08:16:32.421873Z\nINFO - Running the `run` method of our ExpiringTask. Now: 2022-08-25T08:16:33.425519Z\n☑️ Mission accomplished. Our task has expired. Now: 2022-08-25T08:16:33.425863Z\nINFO - 'demo' method ending. 2022-08-25T08:16:38.407566Z\nINFO - Demo ending. Now: 2022-08-25T08:16:38.407755Z\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661420267,"creation_date":1661420267,"answer_id":73485260,"question_id":73480206,"body_markdown":"The other answers mentioned here are good. Just giving another idea that might be simpler. \r\n\r\n 1. Schedule your task to run periodically and don&#39;t worry about termination\r\n 2. Create a class Lets call it `TaskManager` and make one of its members an `ExecutorService`. Pass the `ExecutorService` that you use for your task sceduling to your `TaskManager`. Also in your task manager add a counter that your task will increment each time that it runs. Obviously your `TaskManager` should have a static method `incrementCounter()` that your task will use. Also your `TaskManager` should have a method static method `teminateTask()`.\r\n 3. So now when the counter reaches your limit `TaskManager` will call method `shutDown()` of your `ExecutorService`. Or if your task in your internal logic comes to conclusion that its time to terminate it will call method `teminateTask()` of your `TaskManager`","title":"Is there a way to schedule a task until an event occurs or a specific amount of time passes?","body":"<p>The other answers mentioned here are good. Just giving another idea that might be simpler.</p>\n<ol>\n<li>Schedule your task to run periodically and don't worry about termination</li>\n<li>Create a class Lets call it <code>TaskManager</code> and make one of its members an <code>ExecutorService</code>. Pass the <code>ExecutorService</code> that you use for your task sceduling to your <code>TaskManager</code>. Also in your task manager add a counter that your task will increment each time that it runs. Obviously your <code>TaskManager</code> should have a static method <code>incrementCounter()</code> that your task will use. Also your <code>TaskManager</code> should have a method static method <code>teminateTask()</code>.</li>\n<li>So now when the counter reaches your limit <code>TaskManager</code> will call method <code>shutDown()</code> of your <code>ExecutorService</code>. Or if your task in your internal logic comes to conclusion that its time to terminate it will call method <code>teminateTask()</code> of your <code>TaskManager</code></li>\n</ol>\n"}],"owner":{"account_id":6063310,"reputation":583,"user_id":4734487,"accept_rate":78,"display_name":"Michael"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1120,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73480288,"answer_count":3,"score":2,"last_activity_date":1661420267,"creation_date":1661381136,"question_id":73480206,"body_markdown":"Let&#39;s say I have a task that will check if a certain condition has been met. If that condition has been met, I should terminate the task early. However, I should continue to run the task for N number of minutes while continuously checking if that condition has been met. At the end of N minutes, the task should terminate itself.\r\n\r\nI&#39;ve been looking into Timer, TimerTask, and ExecutorService, but none of them seem to offer the type of solution I am looking for. For example, these approaches will allow you to schedule a task to run once, or repeatedly, but not for a specific amount of time (aka N minutes).","title":"Is there a way to schedule a task until an event occurs or a specific amount of time passes?","body":"<p>Let's say I have a task that will check if a certain condition has been met. If that condition has been met, I should terminate the task early. However, I should continue to run the task for N number of minutes while continuously checking if that condition has been met. At the end of N minutes, the task should terminate itself.</p>\n<p>I've been looking into Timer, TimerTask, and ExecutorService, but none of them seem to offer the type of solution I am looking for. For example, these approaches will allow you to schedule a task to run once, or repeatedly, but not for a specific amount of time (aka N minutes).</p>\n"},{"tags":["java","timer","countdown"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1661421257,"post_id":73485248,"comment_id":129770537,"body_markdown":"Keep a list of tasks sorted by their start time. Sleep until the next start time. Do the tasks with that start time. Sleep again...","body":"Keep a list of tasks sorted by their start time. Sleep until the next start time. Do the tasks with that start time. Sleep again..."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1661421603,"post_id":73485248,"comment_id":129770680,"body_markdown":"[ScheduledExecutorService](https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html)","body":"<a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html\" rel=\"nofollow noreferrer\">ScheduledExecutorService</a>"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1661429418,"post_id":73485248,"comment_id":129773495,"body_markdown":"Just use ScheduledExecutorService, it can manage all this for you","body":"Just use ScheduledExecutorService, it can manage all this for you"}],"owner":{"account_id":19472451,"reputation":1,"user_id":14244500,"display_name":"Sean"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661420217,"creation_date":1661420217,"question_id":73485248,"body_markdown":"I am writing to see what everyone&#39;s way of doing this is. \r\n\r\nExample: \r\nI have multiple timers with a start time of potentially anything. E.G, One timer could be 30 seconds, the second could be 10 minutes, the third could be 3mins 32seconds, and so on... You can create infinite timer countdowns.\r\n\r\nNow, the question is... What&#39;s the best way to detect when a timer hits 0? Java does have a runnable class and I was going to run an async task to check every second but this sounds really inefficient to me. \r\n\r\nAre there any other ways to do it? Thanks!","title":"Most optimal way to detect multiple timers / countdowns hitting 0?","body":"<p>I am writing to see what everyone's way of doing this is.</p>\n<p>Example:\nI have multiple timers with a start time of potentially anything. E.G, One timer could be 30 seconds, the second could be 10 minutes, the third could be 3mins 32seconds, and so on... You can create infinite timer countdowns.</p>\n<p>Now, the question is... What's the best way to detect when a timer hits 0? Java does have a runnable class and I was going to run an async task to check every second but this sounds really inefficient to me.</p>\n<p>Are there any other ways to do it? Thanks!</p>\n"},{"tags":["java","android","android-layout","android-fragments","android-xml"],"answers":[{"tags":[],"owner":{"account_id":6901716,"reputation":5270,"user_id":5301119,"accept_rate":88,"display_name":"Burhanuddin Rashid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521778891,"creation_date":1521778891,"answer_id":49442312,"question_id":49441499,"body_markdown":"This is happening because `match_parent` doesn&#39;t works in `ConstraintLayout`.Instead you need to use `match_constraint` from Designing View or you can set `match_constraint` by making heigh/width = 0dp\r\n\r\nExample you tab layout set `android:layout_width=&quot;0dp&quot;` which will behave as match_parent in `ConstraintLayout` like this\r\n\r\n    &lt;android.support.design.widget.TabLayout\r\n        android:id=&quot;@+id/seriesSectionTabs&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@color/notQuiteBlack&quot;\r\n        app:tabTextColor=&quot;@color/mdGrey400&quot;\r\n        app:tabIndicatorColor=&quot;@color/white&quot;\r\n        app:tabSelectedTextColor=&quot;@color/white&quot;\r\n        app:tabMode=&quot;scrollable&quot;\r\n        app:tabGravity=&quot;fill&quot;\r\n        app:tabMaxWidth=&quot;0dp&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;&gt;\r\n\r\nSame this goes with your `TextView` too","title":"Android - Layout Width wrapping content despite being set to match parent?","body":"<p>This is happening because <code>match_parent</code> doesn't works in <code>ConstraintLayout</code>.Instead you need to use <code>match_constraint</code> from Designing View or you can set <code>match_constraint</code> by making heigh/width = 0dp</p>\n\n<p>Example you tab layout set <code>android:layout_width=\"0dp\"</code> which will behave as match_parent in <code>ConstraintLayout</code> like this</p>\n\n<pre><code>&lt;android.support.design.widget.TabLayout\n    android:id=\"@+id/seriesSectionTabs\"\n    android:layout_width=\"0dp\"\n    android:layout_height=\"wrap_content\"\n    android:background=\"@color/notQuiteBlack\"\n    app:tabTextColor=\"@color/mdGrey400\"\n    app:tabIndicatorColor=\"@color/white\"\n    app:tabSelectedTextColor=\"@color/white\"\n    app:tabMode=\"scrollable\"\n    app:tabGravity=\"fill\"\n    app:tabMaxWidth=\"0dp\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintEnd_toEndOf=\"parent\"&gt;\n</code></pre>\n\n<p>Same this goes with your <code>TextView</code> too</p>\n"},{"tags":[],"owner":{"account_id":20558351,"reputation":131,"user_id":15089380,"display_name":"Muhammad Nouman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661420076,"creation_date":1661419377,"answer_id":73485049,"question_id":49441499,"body_markdown":"Add this line of code in Recyclerview Adapter in onCreateViewHolder()  method it works for me.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    //  Add this line if you are using data binding.\r\n\r\n    binding.root.layoutParams = RecyclerView.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT,ViewGroup.LayoutParams.WRAP_CONTENT)\r\n    return ViewHolder(binding) // change the class of ViewHolder with your ViewHolder\r\n\r\n\r\n    //  Add this line if you are not using data binding.\r\n\r\n    val view  = inflater.inflate(R.layout.movie_adapter_ly,parent,false)\r\n    view.rootView.layoutParams = RecyclerView.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT,ViewGroup.LayoutParams.WRAP_CONTENT)\r\n    // change the class of ViewHolder with your ViewHolder class\r\n    return ViewHolder(view) \r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Android - Layout Width wrapping content despite being set to match parent?","body":"<p>Add this line of code in Recyclerview Adapter in onCreateViewHolder()  method it works for me.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>//  Add this line if you are using data binding.\n\nbinding.root.layoutParams = RecyclerView.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT,ViewGroup.LayoutParams.WRAP_CONTENT)\nreturn ViewHolder(binding) // change the class of ViewHolder with your ViewHolder\n\n\n//  Add this line if you are not using data binding.\n\nval view  = inflater.inflate(R.layout.movie_adapter_ly,parent,false)\nview.rootView.layoutParams = RecyclerView.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT,ViewGroup.LayoutParams.WRAP_CONTENT)\n// change the class of ViewHolder with your ViewHolder class\nreturn ViewHolder(view) </code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":8211479,"reputation":59,"user_id":6179443,"display_name":"JamesBV3"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":955,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1661420076,"creation_date":1521772336,"question_id":49441499,"body_markdown":"I am currently having the issue where despite having all the layouts being set to `match_parent`, within my fragment, unless something explicitly takes up the screen width, such as a `TextView` with a massive text String, the layouts end up having their width wrapped to their content.\r\n\r\nThis is the XML:\r\n\r\n**MainActivity.xml**\r\n\r\n    &lt;android.support.v4.widget.DrawerLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/drawer_layout&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;android.support.constraint.ConstraintLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;@color/white&quot;\r\n        tools:context=&quot;es.esports_app.MainActivity&quot;&gt;\r\n\r\n        &lt;android.support.v7.widget.Toolbar\r\n            android:id=&quot;@+id/mainToolbar&quot;\r\n            android:minHeight=&quot;?attr/actionBarSize&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;@color/notQuiteBlack&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;/android.support.v7.widget.Toolbar&gt;\r\n\r\n        &lt;android.support.constraint.ConstraintLayout\r\n            xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n            xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n            xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            android:fillViewport=&quot;true&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@+id/navigationViewLayoutWrapper&quot;\r\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/mainToolbar&quot;&gt;\r\n\r\n            &lt;!-- Where fragment content is inserted --&gt;\r\n            &lt;FrameLayout\r\n                android:id=&quot;@+id/Container&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n            &lt;/FrameLayout&gt;\r\n\r\n        &lt;/android.support.constraint.ConstraintLayout&gt;\r\n\r\n        &lt;include\r\n            android:id=&quot;@+id/navigationViewLayoutWrapper&quot;\r\n            layout=&quot;@layout/main_bottom_navigation_bar&quot; /&gt;\r\n\r\n    &lt;/android.support.constraint.ConstraintLayout&gt;\r\n\r\n    &lt;ListView\r\n        android:id=&quot;@+id/navigation_drawer_list&quot;\r\n        android:layout_width=&quot;240dp&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_gravity=&quot;start&quot;\r\n        android:choiceMode=&quot;singleChoice&quot;\r\n        android:divider=&quot;@android:color/transparent&quot;\r\n        android:dividerHeight=&quot;0dp&quot;\r\n        android:background=&quot;#111&quot; /&gt;\r\n\r\n&lt;/android.support.v4.widget.DrawerLayout&gt;\r\n\r\n**series_wrapper.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;android.support.constraint.ConstraintLayout\r\n       xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n       xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n       android:layout_width=&quot;match_parent&quot;\r\n       android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;android.support.design.widget.TabLayout\r\n        android:id=&quot;@+id/seriesSectionTabs&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@color/notQuiteBlack&quot;\r\n        app:tabTextColor=&quot;@color/mdGrey400&quot;\r\n        app:tabIndicatorColor=&quot;@color/white&quot;\r\n        app:tabSelectedTextColor=&quot;@color/white&quot;\r\n        app:tabMode=&quot;scrollable&quot;\r\n        app:tabGravity=&quot;fill&quot;\r\n        app:tabMaxWidth=&quot;0dp&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;&gt;\r\n\r\n\r\n    &lt;/android.support.design.widget.TabLayout&gt;\r\n\r\n    &lt;TextView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;YAY&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/seriesSectionTabs&quot;/&gt;\r\n\r\n    &lt;/android.support.constraint.ConstraintLayout&gt;\r\n\r\n**Where fragment is Added**\r\n\r\n    holder.eventSeriesWrapper.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                AppCompatActivity appCompatActivity = (AppCompatActivity) view.getContext();\r\n                Fragment fragment = new SeriesWrapperFragment();\r\n                Bundle bundle = new Bundle();\r\n                bundle.putInt(&quot;seriesID&quot;, eventSeries.id);\r\n                bundle.putInt(&quot;seriesLength&quot;, eventSeries.seriesLength);\r\n                fragment.setArguments(bundle);\r\n                appCompatActivity.getFragmentManager().beginTransaction().replace(R.id.Container, fragment).addToBackStack(null).commit();\r\n            }\r\n        });\r\n\r\n\r\n\r\n[**The above code results in this**][1]\r\n\r\n\r\nIn the case where I set the TextView text to a very long string that spans the width of the screen:\r\n\r\n[**This is the result**][2]\r\n\r\nThis is exactly what I want the tab layout to look like, but I don&#39;t want to have to define a TextView or something of the like to be the screen width to get it to display in this way.\r\n\r\nI have also tried setting the Layout Params of the Fragment in onCreateView, however, the UI was the same as in the first image\r\n\r\n**Series Wrapper Fragment OnCreateView**\r\n\r\n    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.series_wrapper, container, false);\r\n        view.setLayoutParams(new ViewGroup.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT));\r\n\r\n        if(this.getArguments() != null){\r\n            this.seriesID = this.getArguments().getInt(&quot;seriesID&quot;);\r\n            this.seriesLength = this.getArguments().getInt(&quot;seriesLength&quot;);\r\n        }\r\n        else{\r\n            this.seriesID = 0;\r\n            this.seriesLength = 0;\r\n        }\r\n\r\n        return view;\r\n    }\r\n\r\nIf any more code snippets or images are required please ask.\r\n\r\nIf someone could help me understand as to why this is occurring, it would be greatly appreciated.\r\n\r\nThank you.\r\n\r\n  [1]: https://i.stack.imgur.com/qcOnX.png\r\n  [2]: https://i.stack.imgur.com/Zbd7u.png\r\n","title":"Android - Layout Width wrapping content despite being set to match parent?","body":"<p>I am currently having the issue where despite having all the layouts being set to <code>match_parent</code>, within my fragment, unless something explicitly takes up the screen width, such as a <code>TextView</code> with a massive text String, the layouts end up having their width wrapped to their content.</p>\n\n<p>This is the XML:</p>\n\n<p><strong>MainActivity.xml</strong></p>\n\n<pre><code>&lt;android.support.v4.widget.DrawerLayout\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:id=\"@+id/drawer_layout\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"&gt;\n\n&lt;android.support.constraint.ConstraintLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"@color/white\"\n    tools:context=\"es.esports_app.MainActivity\"&gt;\n\n    &lt;android.support.v7.widget.Toolbar\n        android:id=\"@+id/mainToolbar\"\n        android:minHeight=\"?attr/actionBarSize\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:background=\"@color/notQuiteBlack\"\n        app:layout_constraintTop_toTopOf=\"parent\"&gt;\n\n    &lt;/android.support.v7.widget.Toolbar&gt;\n\n    &lt;android.support.constraint.ConstraintLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"0dp\"\n        android:fillViewport=\"true\"\n        app:layout_constraintBottom_toTopOf=\"@+id/navigationViewLayoutWrapper\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/mainToolbar\"&gt;\n\n        &lt;!-- Where fragment content is inserted --&gt;\n        &lt;FrameLayout\n            android:id=\"@+id/Container\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"&gt;\n\n        &lt;/FrameLayout&gt;\n\n    &lt;/android.support.constraint.ConstraintLayout&gt;\n\n    &lt;include\n        android:id=\"@+id/navigationViewLayoutWrapper\"\n        layout=\"@layout/main_bottom_navigation_bar\" /&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n\n&lt;ListView\n    android:id=\"@+id/navigation_drawer_list\"\n    android:layout_width=\"240dp\"\n    android:layout_height=\"match_parent\"\n    android:layout_gravity=\"start\"\n    android:choiceMode=\"singleChoice\"\n    android:divider=\"@android:color/transparent\"\n    android:dividerHeight=\"0dp\"\n    android:background=\"#111\" /&gt;\n</code></pre>\n\n<p></p>\n\n<p><strong>series_wrapper.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout\n   xmlns:android=\"http://schemas.android.com/apk/res/android\"\n   xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n   android:layout_width=\"match_parent\"\n   android:layout_height=\"match_parent\"&gt;\n\n&lt;android.support.design.widget.TabLayout\n    android:id=\"@+id/seriesSectionTabs\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:background=\"@color/notQuiteBlack\"\n    app:tabTextColor=\"@color/mdGrey400\"\n    app:tabIndicatorColor=\"@color/white\"\n    app:tabSelectedTextColor=\"@color/white\"\n    app:tabMode=\"scrollable\"\n    app:tabGravity=\"fill\"\n    app:tabMaxWidth=\"0dp\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintEnd_toEndOf=\"parent\"&gt;\n\n\n&lt;/android.support.design.widget.TabLayout&gt;\n\n&lt;TextView\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:text=\"YAY\"\n    app:layout_constraintTop_toBottomOf=\"@id/seriesSectionTabs\"/&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p><strong>Where fragment is Added</strong></p>\n\n<pre><code>holder.eventSeriesWrapper.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            AppCompatActivity appCompatActivity = (AppCompatActivity) view.getContext();\n            Fragment fragment = new SeriesWrapperFragment();\n            Bundle bundle = new Bundle();\n            bundle.putInt(\"seriesID\", eventSeries.id);\n            bundle.putInt(\"seriesLength\", eventSeries.seriesLength);\n            fragment.setArguments(bundle);\n            appCompatActivity.getFragmentManager().beginTransaction().replace(R.id.Container, fragment).addToBackStack(null).commit();\n        }\n    });\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/qcOnX.png\" rel=\"nofollow noreferrer\"><strong>The above code results in this</strong></a></p>\n\n<p>In the case where I set the TextView text to a very long string that spans the width of the screen:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Zbd7u.png\" rel=\"nofollow noreferrer\"><strong>This is the result</strong></a></p>\n\n<p>This is exactly what I want the tab layout to look like, but I don't want to have to define a TextView or something of the like to be the screen width to get it to display in this way.</p>\n\n<p>I have also tried setting the Layout Params of the Fragment in onCreateView, however, the UI was the same as in the first image</p>\n\n<p><strong>Series Wrapper Fragment OnCreateView</strong></p>\n\n<pre><code>public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, Bundle savedInstanceState) {\n    View view = inflater.inflate(R.layout.series_wrapper, container, false);\n    view.setLayoutParams(new ViewGroup.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT));\n\n    if(this.getArguments() != null){\n        this.seriesID = this.getArguments().getInt(\"seriesID\");\n        this.seriesLength = this.getArguments().getInt(\"seriesLength\");\n    }\n    else{\n        this.seriesID = 0;\n        this.seriesLength = 0;\n    }\n\n    return view;\n}\n</code></pre>\n\n<p>If any more code snippets or images are required please ask.</p>\n\n<p>If someone could help me understand as to why this is occurring, it would be greatly appreciated.</p>\n\n<p>Thank you.</p>\n"},{"tags":["java","swing","jtable"],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1661332944,"creation_date":1661290962,"answer_id":73465317,"question_id":73463360,"body_markdown":"I can&#39;t say I know quite why you get that exception, but this is a possible problem-free alternative, involving cloning the table then removing unwanted columns. This is based on the intuitive ascending ordering of required columns. Obviously the logic could be made easier by passing an array of columns to be *removed* rather than retained.\r\n```\r\n    // @param columns Indices of columns to be copied into the new table.\r\n    public JTable copyTable(JTable table, int... columns) {\r\n        DefaultTableModel oldModel = (DefaultTableModel) table.getModel();\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        Vector&lt;? extends Vector&gt; data = (Vector&lt;? extends Vector&gt;) oldModel.getDataVector().clone();\r\n        Vector&lt;Object&gt; headers = new Vector&lt;&gt;();\r\n        TableColumnModel cmSource = table.getColumnModel();\r\n        for (int i = 0; i &lt; table.getColumnModel().getColumnCount(); i++) {\r\n            headers.add(cmSource.getColumn(i).getIdentifier());\r\n        }\r\n        JTable result = new JTable(data, headers);\r\n        TableColumnModel cmTarget = result.getColumnModel();\r\n        Set&lt;Integer&gt; columnsToCopy = new HashSet&lt;&gt;();\r\n        for (int i = columns.length; --i &gt;= 0;) {\r\n            columnsToCopy.add(columns[i]);\r\n        }\r\n        for (int i = cmTarget.getColumnCount(); --i &gt;= 0;) {\r\n            if (!columnsToCopy.contains(i)) {\r\n                cmTarget.removeColumn(cmTarget.getColumn(i));\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n```","title":"Copying (some columns of) a JTable to a new JTable","body":"<p>I can't say I know quite why you get that exception, but this is a possible problem-free alternative, involving cloning the table then removing unwanted columns. This is based on the intuitive ascending ordering of required columns. Obviously the logic could be made easier by passing an array of columns to be <em>removed</em> rather than retained.</p>\n<pre><code>    // @param columns Indices of columns to be copied into the new table.\n    public JTable copyTable(JTable table, int... columns) {\n        DefaultTableModel oldModel = (DefaultTableModel) table.getModel();\n        @SuppressWarnings(&quot;unchecked&quot;)\n        Vector&lt;? extends Vector&gt; data = (Vector&lt;? extends Vector&gt;) oldModel.getDataVector().clone();\n        Vector&lt;Object&gt; headers = new Vector&lt;&gt;();\n        TableColumnModel cmSource = table.getColumnModel();\n        for (int i = 0; i &lt; table.getColumnModel().getColumnCount(); i++) {\n            headers.add(cmSource.getColumn(i).getIdentifier());\n        }\n        JTable result = new JTable(data, headers);\n        TableColumnModel cmTarget = result.getColumnModel();\n        Set&lt;Integer&gt; columnsToCopy = new HashSet&lt;&gt;();\n        for (int i = columns.length; --i &gt;= 0;) {\n            columnsToCopy.add(columns[i]);\n        }\n        for (int i = cmTarget.getColumnCount(); --i &gt;= 0;) {\n            if (!columnsToCopy.contains(i)) {\n                cmTarget.removeColumn(cmTarget.getColumn(i));\n            }\n        }\n        return result;\n    }\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11415665,"reputation":214,"user_id":8368531,"display_name":"J&#246;rg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661332617,"creation_date":1661297104,"answer_id":73465916,"question_id":73463360,"body_markdown":"@g00se\r\nYour solution works. Thank you. The only drawback is that removing columns from the ```TableColumnModel``` doesn&#39;t remove them from the ```TableModel```. So I added the following to your code\r\n```\r\n        int icnt= oldModel.getRowCount();\r\n        for (int j=0; j&lt;icnt; j++) {\r\n          Vector&lt;?&gt; vec= (Vector&lt;?&gt;)data.get(j);\r\n          for (int i=columns.length-1; i&gt;=0; i--) {\r\n            vec.removeElementAt(columns[i]);\r\n          }\r\n          data.setElementAt(vec, j);\r\n        }\r\n        ((DefaultTableModel)result.getModel()).setDataVector(data, headers);\r\n        return result;\r\n```\r\nBut due to lack of Generics knowledge, I cannot make the code compile. Still an idea for that?&lt;br&gt;\r\nJust copying/creating a new model would avoid any removal. So I am still curious as for my original error.&lt;br&gt;&lt;br&gt;\r\nEdit&lt;br&gt;\r\n----------------------------------------------------------&lt;br&gt;\r\nGenerics:&lt;br&gt;\r\nVector&lt;Vector&amp;lt;Object&gt;&gt; data = ...&lt;br&gt;\r\n...&lt;br&gt;\r\nVector&amp;lt;Object&gt; vec= data.get(j);&lt;br&gt;\r\n----------------------------------------------------------&lt;br&gt;&lt;br&gt;\r\nFinally I got my original version to work. ```colModel.addColumn(oldColModel.getColumn(columns[i]));``` passes only a reference of the column. But one has to create a new instance for each column in the new table.\r\n```\r\n// @param columns\tIndices of columns to be copied into the new table.\r\n  public JTable copyTable(JTable table, int... columns) {\r\n    DefaultTableModel oldModel= (DefaultTableModel)table.getModel();\r\n    DefaultTableModel tblModel= new DefaultTableModel(0, columns.length) {\r\n      public Class&lt;?&gt; getColumnClass(int column) {\r\n        Class&lt;?&gt; returnValue;\r\n        if (column&gt;=0 &amp;&amp; column&lt;getColumnCount() &amp;&amp; getValueAt(0,column)!=null)\r\n          returnValue= getValueAt(0, column).getClass();\r\n        else\r\n          returnValue= Object.class;\r\n        return returnValue;\r\n      }\r\n    };\r\n    Object[] row= new Object[columns.length];\r\n    int icnt= oldModel.getRowCount();\r\n    for (int i=0; i&lt;icnt; i++) {\r\n      for (int j=0; j&lt;columns.length; j++) {\r\n        row[j]= oldModel.getValueAt(i, columns[j]);\r\n      }\r\n      tblModel.addRow(row);\r\n    }\r\n    DefaultTableColumnModel oldColModel=\r\n                                (DefaultTableColumnModel)table.getColumnModel();\r\n    DefaultTableColumnModel colModel= new DefaultTableColumnModel();\r\n    for (int i=0; i&lt;columns.length; i++) {\r\n//    colModel.addColumn(oldColModel.getColumn(columns[i])); // Endless err loop\r\n      TableColumn tc= oldColModel.getColumn(columns[i]);\r\n      TableColumn tcNew= new TableColumn(i, tc.getPreferredWidth(),\r\n                                tc.getCellRenderer(), tc.getCellEditor());\r\n      tcNew.setHeaderValue(tc.getHeaderValue());\r\n      colModel.addColumn(tcNew);\r\n    }\r\n    return new JTable(tblModel, colModel);\r\n  }\r\n\r\n\r\n  private void createAndShowDialog(JTable table) {\r\n    JTable tbl = copyTable(table, 0, 1, 3); // Copy only columns 0, 1 and 3.\r\n    JDialog dlg= new JDialog(this, &quot;Reduced table&quot;, true);\r\n    JScrollPane scroll = new JScrollPane(tbl);\r\n    scroll.setPreferredSize(\r\n        new Dimension(tbl.getColumnModel().getTotalColumnWidth(), 80));\r\n    dlg.add(scroll, BorderLayout.CENTER);\r\n    dlg.pack();\r\n    dlg.setLocationRelativeTo(this);\r\n    dlg.setVisible(true);\r\n  }\r\n```","title":"Copying (some columns of) a JTable to a new JTable","body":"<p>@g00se\nYour solution works. Thank you. The only drawback is that removing columns from the <code>TableColumnModel</code> doesn't remove them from the <code>TableModel</code>. So I added the following to your code</p>\n<pre><code>        int icnt= oldModel.getRowCount();\n        for (int j=0; j&lt;icnt; j++) {\n          Vector&lt;?&gt; vec= (Vector&lt;?&gt;)data.get(j);\n          for (int i=columns.length-1; i&gt;=0; i--) {\n            vec.removeElementAt(columns[i]);\n          }\n          data.setElementAt(vec, j);\n        }\n        ((DefaultTableModel)result.getModel()).setDataVector(data, headers);\n        return result;\n</code></pre>\n<p>But due to lack of Generics knowledge, I cannot make the code compile. Still an idea for that?<br>\nJust copying/creating a new model would avoid any removal. So I am still curious as for my original error.<br><br>\nEdit<br>\n----------------------------------------------------------<br>\nGenerics:<br>\nVector&lt;Vector&lt;Object&gt;&gt; data = ...<br>\n...<br>\nVector&lt;Object&gt; vec= data.get(j);<br>\n----------------------------------------------------------<br><br>\nFinally I got my original version to work. <code>colModel.addColumn(oldColModel.getColumn(columns[i]));</code> passes only a reference of the column. But one has to create a new instance for each column in the new table.</p>\n<pre><code>// @param columns   Indices of columns to be copied into the new table.\n  public JTable copyTable(JTable table, int... columns) {\n    DefaultTableModel oldModel= (DefaultTableModel)table.getModel();\n    DefaultTableModel tblModel= new DefaultTableModel(0, columns.length) {\n      public Class&lt;?&gt; getColumnClass(int column) {\n        Class&lt;?&gt; returnValue;\n        if (column&gt;=0 &amp;&amp; column&lt;getColumnCount() &amp;&amp; getValueAt(0,column)!=null)\n          returnValue= getValueAt(0, column).getClass();\n        else\n          returnValue= Object.class;\n        return returnValue;\n      }\n    };\n    Object[] row= new Object[columns.length];\n    int icnt= oldModel.getRowCount();\n    for (int i=0; i&lt;icnt; i++) {\n      for (int j=0; j&lt;columns.length; j++) {\n        row[j]= oldModel.getValueAt(i, columns[j]);\n      }\n      tblModel.addRow(row);\n    }\n    DefaultTableColumnModel oldColModel=\n                                (DefaultTableColumnModel)table.getColumnModel();\n    DefaultTableColumnModel colModel= new DefaultTableColumnModel();\n    for (int i=0; i&lt;columns.length; i++) {\n//    colModel.addColumn(oldColModel.getColumn(columns[i])); // Endless err loop\n      TableColumn tc= oldColModel.getColumn(columns[i]);\n      TableColumn tcNew= new TableColumn(i, tc.getPreferredWidth(),\n                                tc.getCellRenderer(), tc.getCellEditor());\n      tcNew.setHeaderValue(tc.getHeaderValue());\n      colModel.addColumn(tcNew);\n    }\n    return new JTable(tblModel, colModel);\n  }\n\n\n  private void createAndShowDialog(JTable table) {\n    JTable tbl = copyTable(table, 0, 1, 3); // Copy only columns 0, 1 and 3.\n    JDialog dlg= new JDialog(this, &quot;Reduced table&quot;, true);\n    JScrollPane scroll = new JScrollPane(tbl);\n    scroll.setPreferredSize(\n        new Dimension(tbl.getColumnModel().getTotalColumnWidth(), 80));\n    dlg.add(scroll, BorderLayout.CENTER);\n    dlg.pack();\n    dlg.setLocationRelativeTo(this);\n    dlg.setVisible(true);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661419919,"creation_date":1661419919,"answer_id":73485175,"question_id":73463360,"body_markdown":"There is no need to copy the TableModel (they are shareable by design) - all you need is a new TableColumnModel containing clones of the original: note that the relevant coordinate system is the _model_ index. \r\n\r\nExample:\r\n\r\n    TableColumnModel sourceColumnModel = sourceTable.getColumnModel();\r\n    DefaultTableColumnModel reducedColumnModel = new DefaultTableColumnModel();\r\n    for (int i = 0; i &lt; sourceColumnModel.getColumnCount(); i++) {\r\n        TableColumn sourceColumn = sourceColumnModel.getColumn(i);\r\n        int modelIndex = sourceColumn.getModelIndex();\r\n        if (modelIndex % 2 == 0) { // replace with your condition\r\n            TableColumn column = new TableColumn(modelIndex, sourceColumn.getPreferredWidth());\r\n            column.setHeaderValue(sourceColumn.getHeaderValue());\r\n            reducedColumnModel.addColumn(column);\r\n        }\r\n    }\r\n    JTable reducedTable = new JTable(sourceTable.getModel(), reducedColumnModel);\r\n\r\n","title":"Copying (some columns of) a JTable to a new JTable","body":"<p>There is no need to copy the TableModel (they are shareable by design) - all you need is a new TableColumnModel containing clones of the original: note that the relevant coordinate system is the <em>model</em> index.</p>\n<p>Example:</p>\n<pre><code>TableColumnModel sourceColumnModel = sourceTable.getColumnModel();\nDefaultTableColumnModel reducedColumnModel = new DefaultTableColumnModel();\nfor (int i = 0; i &lt; sourceColumnModel.getColumnCount(); i++) {\n    TableColumn sourceColumn = sourceColumnModel.getColumn(i);\n    int modelIndex = sourceColumn.getModelIndex();\n    if (modelIndex % 2 == 0) { // replace with your condition\n        TableColumn column = new TableColumn(modelIndex, sourceColumn.getPreferredWidth());\n        column.setHeaderValue(sourceColumn.getHeaderValue());\n        reducedColumnModel.addColumn(column);\n    }\n}\nJTable reducedTable = new JTable(sourceTable.getModel(), reducedColumnModel);\n</code></pre>\n"}],"owner":{"account_id":11415665,"reputation":214,"user_id":8368531,"display_name":"J&#246;rg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1661419919,"creation_date":1661278390,"question_id":73463360,"body_markdown":"I have a JTable displayed in a frame. This table must remain unmodified for\r\nlater processing. At some point I want to show a column reduced version of this\r\ntable in a dialog. So I make a copy of the original table in creating a new\r\n```TableModel``` and ```TableColumnModel```, thereby skipping the columns not needed.\r\n\r\n   Everything is fine until the dialog is set to visible. Then I run into an\r\nendless error loop, starting with an *&quot;ArrayIndexOutOfBoundsException: 3 &gt;= 2&quot;*.\r\nIf 3 is the index to a table row, then it&#39;s indeed too large.\r\nAs the reduced table has only two columns, a column index of 2 would already exceed. Checking the columns with\r\n```getColumnCount()``` shows that the values are ok.&lt;br&gt;\r\n   I suspect my copyTable method to be the culprit, but have no idea where the 3\r\nindex is coming from.\r\n\r\n   Instead of filling the rows of the table&#39;s model one by one, I succeeded using ```DefaultTableModel.addColumn(Object columnName, Object[] columnData)``` as suggested  [here][1]. Then, however, I lose the columns&#39; width information. Hence I would still like to know my fault in the current code.\r\n```\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport javax.swing.*;\r\nimport javax.swing.table.*;\r\n\r\npublic class CopyTable extends JFrame {\r\n  public static final long serialVersionUID = 100L;\r\n\r\n  public CopyTable() {\r\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    setLocationRelativeTo(null);\r\n\r\n    JTable table= createTable();\r\n    JScrollPane scroll= new JScrollPane(table);\r\n    add(scroll, BorderLayout.CENTER);\r\n    JButton b= new JButton(&quot;Show dialog&quot;);\r\n    b.addActionListener(e -&gt; createAndShowDialog(table));\r\n    add(b, BorderLayout.SOUTH);\r\n    setSize(table.getColumnModel().getTotalColumnWidth()+11, 240);\r\n    setVisible(true);\r\n  }\r\n\r\n\r\n  static public void main(String args[]) {\r\n    EventQueue.invokeLater(CopyTable::new);\r\n  }\r\n\r\n\r\n// @param columns\tIndices of columns to be copied into the new table.\r\n  public JTable copyTable(JTable table, int... columns) {\r\n    DefaultTableModel tblModel= new DefaultTableModel(0, columns.length);\r\n    DefaultTableModel oldModel= (DefaultTableModel)table.getModel();\r\n    Object[] row= new Object[columns.length];\r\n    int iRow= 0;\r\n    while (iRow&lt;oldModel.getRowCount()) {\r\n      for (int i=0; i&lt;columns.length; i++) {\r\n        row[i]= oldModel.getValueAt(iRow, columns[i]);\r\n      }\r\n      tblModel.addRow(row);\r\n      iRow++;\r\n    }\r\n    DefaultTableColumnModel colModel= new DefaultTableColumnModel();\r\n    DefaultTableColumnModel oldColModel=\r\n\t\t\t\t(DefaultTableColumnModel)table.getColumnModel();\r\n    for (int i=0; i&lt;columns.length; i++) {\r\n      colModel.addColumn(oldColModel.getColumn(columns[i]));\r\n/*      Creating a new column didn&#39;t help.\r\n      TableColumn tc= new TableColumn();\r\n      tc= oldColModel.getColumn(columns[i]);\r\n      colModel.addColumn(tc);\r\n*/\r\n    }\r\n    return new JTable(tblModel, colModel);\r\n  }\r\n\r\n\r\n  private void createAndShowDialog(JTable table) {\r\n    JTable tbl = copyTable(table, 0, 3); // Copy only columns 0 and 3.\r\n    JOptionPane.showMessageDialog(this, &quot;&quot;+tbl.getModel().getRowCount()+&quot;, &quot;+\r\n\t\t\ttbl.getModel().getColumnCount()+&quot;, &quot;+\r\n\t\t\ttbl.getColumnModel().getColumnCount(),\r\n\t\t\t&quot;Checking row/column count&quot;,\r\n\t\t\tJOptionPane.INFORMATION_MESSAGE);\r\n    JDialog dlg= new JDialog(this, &quot;Reduced table&quot;, true);\r\n    dlg.setLocationRelativeTo(this);\r\n    JScrollPane scroll = new JScrollPane(tbl);\r\n    dlg.add(scroll, BorderLayout.CENTER);\r\n    dlg.pack();\r\n    dlg.setVisible(true);\r\n  }\r\n\r\n\r\n  private JTable createTable() {\r\n    String headers[] = {&quot;Fruit&quot;, &quot;Colour&quot;, &quot;Count&quot;, &quot;Price&quot;};\r\n    Object data[][] = {\r\n\t    {&quot;Apple&quot;, &quot;Green&quot;, 6, .3},\r\n\t    {&quot;Banana&quot;, &quot;Yellow&quot;, 3, .4},\r\n\t    {&quot;Cherry&quot;, &quot;Red&quot;, 10, 1.1}\r\n\t  };\r\n\r\n    DefaultTableModel model = new DefaultTableModel(data, headers) {\r\n      public Class&lt;?&gt; getColumnClass(int column) {\r\n        Class&lt;?&gt; returnValue;\r\n        if (column&gt;=0 &amp;&amp; column&lt;getColumnCount() &amp;&amp; getValueAt(0,column)!=null)\r\n          returnValue= getValueAt(0, column).getClass();\r\n        else\r\n          returnValue= Object.class;\r\n        return returnValue;\r\n      }\r\n    };\r\n    JTable tbl= new JTable(model);\r\n    TableColumnModel tcm= tbl.getColumnModel();\r\n    int[] width= new int[] {60, 50, 40, 40};\r\n    for (int i=0; i&lt;headers.length; i++) {\r\n      tcm.getColumn(i).setPreferredWidth(width[i]);\r\n      tcm.getColumn(i).setWidth(width[i]);\r\n    }\r\n    return tbl;\r\n  }\r\n\r\n}\r\n```\r\n\r\n```\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.ArrayIndexOutOfBoundsException: 3 &gt;= 2\r\n        at java.base/java.util.Vector.elementAt(Vector.java:466)\r\n        at java.desktop/javax.swing.table.DefaultTableModel.getValueAt(DefaultTableModel.java:661)\r\n        at java.desktop/javax.swing.JTable.getValueAt(JTable.java:2763)\r\n        at java.desktop/javax.swing.JTable.prepareRenderer(JTable.java:5780)\r\n        at java.desktop/javax.swing.plaf.basic.BasicTableUI.paintCell(BasicTableUI.java:2207)\r\n        at java.desktop/javax.swing.plaf.basic.BasicTableUI.paintCells(BasicTableUI.java:2109)\r\n        at java.desktop/javax.swing.plaf.basic.BasicTableUI.paint(BasicTableUI.java:1905)\r\n        at java.desktop/javax.swing.plaf.ComponentUI.update(ComponentUI.java:161)\r\n        at java.desktop/javax.swing.JComponent.paintComponent(JComponent.java:852)\r\n```\r\njava 18\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/36676489/copy-column-from-one-jtable-to-another","title":"Copying (some columns of) a JTable to a new JTable","body":"<p>I have a JTable displayed in a frame. This table must remain unmodified for\nlater processing. At some point I want to show a column reduced version of this\ntable in a dialog. So I make a copy of the original table in creating a new\n<code>TableModel</code> and <code>TableColumnModel</code>, thereby skipping the columns not needed.</p>\n<p>Everything is fine until the dialog is set to visible. Then I run into an\nendless error loop, starting with an <em>&quot;ArrayIndexOutOfBoundsException: 3 &gt;= 2&quot;</em>.\nIf 3 is the index to a table row, then it's indeed too large.\nAs the reduced table has only two columns, a column index of 2 would already exceed. Checking the columns with\n<code>getColumnCount()</code> shows that the values are ok.<br>\nI suspect my copyTable method to be the culprit, but have no idea where the 3\nindex is coming from.</p>\n<p>Instead of filling the rows of the table's model one by one, I succeeded using <code>DefaultTableModel.addColumn(Object columnName, Object[] columnData)</code> as suggested  <a href=\"https://stackoverflow.com/questions/36676489/copy-column-from-one-jtable-to-another\">here</a>. Then, however, I lose the columns' width information. Hence I would still like to know my fault in the current code.</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\nimport javax.swing.table.*;\n\npublic class CopyTable extends JFrame {\n  public static final long serialVersionUID = 100L;\n\n  public CopyTable() {\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    setLocationRelativeTo(null);\n\n    JTable table= createTable();\n    JScrollPane scroll= new JScrollPane(table);\n    add(scroll, BorderLayout.CENTER);\n    JButton b= new JButton(&quot;Show dialog&quot;);\n    b.addActionListener(e -&gt; createAndShowDialog(table));\n    add(b, BorderLayout.SOUTH);\n    setSize(table.getColumnModel().getTotalColumnWidth()+11, 240);\n    setVisible(true);\n  }\n\n\n  static public void main(String args[]) {\n    EventQueue.invokeLater(CopyTable::new);\n  }\n\n\n// @param columns   Indices of columns to be copied into the new table.\n  public JTable copyTable(JTable table, int... columns) {\n    DefaultTableModel tblModel= new DefaultTableModel(0, columns.length);\n    DefaultTableModel oldModel= (DefaultTableModel)table.getModel();\n    Object[] row= new Object[columns.length];\n    int iRow= 0;\n    while (iRow&lt;oldModel.getRowCount()) {\n      for (int i=0; i&lt;columns.length; i++) {\n        row[i]= oldModel.getValueAt(iRow, columns[i]);\n      }\n      tblModel.addRow(row);\n      iRow++;\n    }\n    DefaultTableColumnModel colModel= new DefaultTableColumnModel();\n    DefaultTableColumnModel oldColModel=\n                (DefaultTableColumnModel)table.getColumnModel();\n    for (int i=0; i&lt;columns.length; i++) {\n      colModel.addColumn(oldColModel.getColumn(columns[i]));\n/*      Creating a new column didn't help.\n      TableColumn tc= new TableColumn();\n      tc= oldColModel.getColumn(columns[i]);\n      colModel.addColumn(tc);\n*/\n    }\n    return new JTable(tblModel, colModel);\n  }\n\n\n  private void createAndShowDialog(JTable table) {\n    JTable tbl = copyTable(table, 0, 3); // Copy only columns 0 and 3.\n    JOptionPane.showMessageDialog(this, &quot;&quot;+tbl.getModel().getRowCount()+&quot;, &quot;+\n            tbl.getModel().getColumnCount()+&quot;, &quot;+\n            tbl.getColumnModel().getColumnCount(),\n            &quot;Checking row/column count&quot;,\n            JOptionPane.INFORMATION_MESSAGE);\n    JDialog dlg= new JDialog(this, &quot;Reduced table&quot;, true);\n    dlg.setLocationRelativeTo(this);\n    JScrollPane scroll = new JScrollPane(tbl);\n    dlg.add(scroll, BorderLayout.CENTER);\n    dlg.pack();\n    dlg.setVisible(true);\n  }\n\n\n  private JTable createTable() {\n    String headers[] = {&quot;Fruit&quot;, &quot;Colour&quot;, &quot;Count&quot;, &quot;Price&quot;};\n    Object data[][] = {\n        {&quot;Apple&quot;, &quot;Green&quot;, 6, .3},\n        {&quot;Banana&quot;, &quot;Yellow&quot;, 3, .4},\n        {&quot;Cherry&quot;, &quot;Red&quot;, 10, 1.1}\n      };\n\n    DefaultTableModel model = new DefaultTableModel(data, headers) {\n      public Class&lt;?&gt; getColumnClass(int column) {\n        Class&lt;?&gt; returnValue;\n        if (column&gt;=0 &amp;&amp; column&lt;getColumnCount() &amp;&amp; getValueAt(0,column)!=null)\n          returnValue= getValueAt(0, column).getClass();\n        else\n          returnValue= Object.class;\n        return returnValue;\n      }\n    };\n    JTable tbl= new JTable(model);\n    TableColumnModel tcm= tbl.getColumnModel();\n    int[] width= new int[] {60, 50, 40, 40};\n    for (int i=0; i&lt;headers.length; i++) {\n      tcm.getColumn(i).setPreferredWidth(width[i]);\n      tcm.getColumn(i).setWidth(width[i]);\n    }\n    return tbl;\n  }\n\n}\n</code></pre>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ArrayIndexOutOfBoundsException: 3 &gt;= 2\n        at java.base/java.util.Vector.elementAt(Vector.java:466)\n        at java.desktop/javax.swing.table.DefaultTableModel.getValueAt(DefaultTableModel.java:661)\n        at java.desktop/javax.swing.JTable.getValueAt(JTable.java:2763)\n        at java.desktop/javax.swing.JTable.prepareRenderer(JTable.java:5780)\n        at java.desktop/javax.swing.plaf.basic.BasicTableUI.paintCell(BasicTableUI.java:2207)\n        at java.desktop/javax.swing.plaf.basic.BasicTableUI.paintCells(BasicTableUI.java:2109)\n        at java.desktop/javax.swing.plaf.basic.BasicTableUI.paint(BasicTableUI.java:1905)\n        at java.desktop/javax.swing.plaf.ComponentUI.update(ComponentUI.java:161)\n        at java.desktop/javax.swing.JComponent.paintComponent(JComponent.java:852)\n</code></pre>\n<p>java 18</p>\n"},{"tags":["java","spring","spring-boot","model-view-controller","repository"],"comments":[{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1661419472,"post_id":73484933,"comment_id":129769809,"body_markdown":"which kind of test do you want to implement? if unit test you should mock. If you want to perform an integration test you should set up the context with `@RunWith(SpringRunner.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT) public TestClass`","body":"which kind of test do you want to implement? if unit test you should mock. If you want to perform an integration test you should set up the context with <code>@RunWith(SpringRunner.class) @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT) public TestClass</code>"},{"owner":{"account_id":3563874,"reputation":162,"user_id":2975988,"display_name":"Airflow46"},"score":0,"creation_date":1661419562,"post_id":73484933,"comment_id":129769844,"body_markdown":"I dont want to test anything, i just wanna see what the results are on the console log. Really i just want to System.out.println it","body":"I dont want to test anything, i just wanna see what the results are on the console log. Really i just want to System.out.println it"}],"answers":[{"tags":[],"owner":{"account_id":12259204,"reputation":2452,"user_id":8947430,"display_name":"Ismail"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1661419907,"creation_date":1661419907,"answer_id":73485171,"question_id":73484933,"body_markdown":"As you mentionned if you comment `SpringApplication.run` Spring DI won&#39;t work because the Spring context is not yet configured with required beans.\r\n\r\nWhat you can do to achieve your goal, first you need to keep `SpringApplication.run` and you can inject the repository as follows in your main class:\r\n\r\n    @SpringBootApplication\r\n    public class App{\r\n    \r\n    \tpublic static UserRepository repository;\r\n    \r\n    \t@Autowired\r\n    \tpublic App(UserRepository repository) {\r\n    \t\tApp.repository= repository;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(App.class, args);\r\n    \r\n    \t\tSystem.out.println(repository.findAll());\r\n    \t}\r\n    }","title":"How to test JpaRepository using main class instead of test class or controller in Spring Boot application","body":"<p>As you mentionned if you comment <code>SpringApplication.run</code> Spring DI won't work because the Spring context is not yet configured with required beans.</p>\n<p>What you can do to achieve your goal, first you need to keep <code>SpringApplication.run</code> and you can inject the repository as follows in your main class:</p>\n<pre><code>@SpringBootApplication\npublic class App{\n\n    public static UserRepository repository;\n\n    @Autowired\n    public App(UserRepository repository) {\n        App.repository= repository;\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(App.class, args);\n\n        System.out.println(repository.findAll());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3563874,"reputation":162,"user_id":2975988,"display_name":"Airflow46"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661419907,"creation_date":1661418890,"question_id":73484933,"body_markdown":"Say i have a repository:\r\n\r\n    public interface UserRepository extends JpaRepository&lt;User, Long&gt;{\r\n    \tList&lt;User&gt; findAll();\r\n    }\r\n\r\nIf i want to test out what the result will be (using System.out.println)\r\nI know only one way:\r\n\r\nMake a Controller class like so:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/hey&quot;)\r\n    class Controller{\r\n    \r\n    @Autowired\r\n    UserRepository repository;\r\n    \r\n    @GetMapping()\r\n    public void hey(){\r\n    System.out.println(repository.findAll());\r\n    }\r\n    }\r\n\r\nAnd then i have to start up the SpringBootApplication:\r\n\r\n    @SpringBootApplication\r\n    public class App {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(App.class, args);\r\n        }\r\n    }\r\n\r\n\r\n    surf to localhost:8080/hey\r\n\r\nAnd only then i see on the console what the result is.\r\n\r\nThis is so cumbersome and time-consuming, especially when the spring boot app is heavy and takes a long time to load.\r\n\r\nWhat i would have loved to do is to comment out the springbootapplication and just make a temporary class that i run from the main class and print the results that way. That is so much faster.\r\n\r\n\r\n    @SpringBootApplication\r\n    public class App {\r\n        public static void main(String[] args) {\r\n            //SpringApplication.run(App.class, args);\r\n              new Temp().go();\r\n        }\r\n    }\r\n\r\n    Class Temp{\r\n    \r\n    @Autowired\r\n    UserRepository repository;\r\n    \r\n    public void go(){\r\n    System.out.println(repository.findAll());\r\n    }\r\n    }\r\n\r\nThis isn&#39;t possible as its an interface and it asks you to implement every single method it has. How can i just print the results on the console of a repository without having to use controller ?","title":"How to test JpaRepository using main class instead of test class or controller in Spring Boot application","body":"<p>Say i have a repository:</p>\n<pre><code>public interface UserRepository extends JpaRepository&lt;User, Long&gt;{\n    List&lt;User&gt; findAll();\n}\n</code></pre>\n<p>If i want to test out what the result will be (using System.out.println)\nI know only one way:</p>\n<p>Make a Controller class like so:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/hey&quot;)\nclass Controller{\n\n@Autowired\nUserRepository repository;\n\n@GetMapping()\npublic void hey(){\nSystem.out.println(repository.findAll());\n}\n}\n</code></pre>\n<p>And then i have to start up the SpringBootApplication:</p>\n<pre><code>@SpringBootApplication\npublic class App {\n    public static void main(String[] args) {\n        SpringApplication.run(App.class, args);\n    }\n}\n\n\nsurf to localhost:8080/hey\n</code></pre>\n<p>And only then i see on the console what the result is.</p>\n<p>This is so cumbersome and time-consuming, especially when the spring boot app is heavy and takes a long time to load.</p>\n<p>What i would have loved to do is to comment out the springbootapplication and just make a temporary class that i run from the main class and print the results that way. That is so much faster.</p>\n<pre><code>@SpringBootApplication\npublic class App {\n    public static void main(String[] args) {\n        //SpringApplication.run(App.class, args);\n          new Temp().go();\n    }\n}\n\nClass Temp{\n\n@Autowired\nUserRepository repository;\n\npublic void go(){\nSystem.out.println(repository.findAll());\n}\n}\n</code></pre>\n<p>This isn't possible as its an interface and it asks you to implement every single method it has. How can i just print the results on the console of a repository without having to use controller ?</p>\n"},{"tags":["java","completable-future"],"answers":[{"tags":[],"owner":{"account_id":9958764,"reputation":294,"user_id":7368739,"display_name":"Joss Bird"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661357406,"creation_date":1661357406,"answer_id":73476432,"question_id":73476313,"body_markdown":"Not sure if this code would match your coding style but would something like this work to reduce indentation levels and try and avoid nesting hell?\r\n\r\n    mainFut.handle((r, t) -&gt; {\r\n        if (t == null) {\r\n            resultFut.complete(r); // main process is fine, use its result\r\n            return null;\r\n        }\r\n    \r\n        LOGGER.error(&quot;Main process failed, using backup&quot;, t);\r\n        backupFut.handle((rb, tb) -&gt; {\r\n            if (tb == null) {\r\n                resultFut.complete(rb); //backup is fine, use its result\r\n                return null;\r\n            }\r\n            \r\n            resultFut.completeExceptionally(tb); //backup failed too\r\n            return null;\r\n        });\r\n        return null;\r\n    });\r\n\r\nAlso just a thought I&#39;m not 100% familiar with lambda functions do you need to return values in those lambda functions? You could remove the last two return statements if not.","title":"Combine two futures as main and backup","body":"<p>Not sure if this code would match your coding style but would something like this work to reduce indentation levels and try and avoid nesting hell?</p>\n<pre><code>mainFut.handle((r, t) -&gt; {\n    if (t == null) {\n        resultFut.complete(r); // main process is fine, use its result\n        return null;\n    }\n\n    LOGGER.error(&quot;Main process failed, using backup&quot;, t);\n    backupFut.handle((rb, tb) -&gt; {\n        if (tb == null) {\n            resultFut.complete(rb); //backup is fine, use its result\n            return null;\n        }\n        \n        resultFut.completeExceptionally(tb); //backup failed too\n        return null;\n    });\n    return null;\n});\n</code></pre>\n<p>Also just a thought I'm not 100% familiar with lambda functions do you need to return values in those lambda functions? You could remove the last two return statements if not.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661410254,"creation_date":1661410254,"answer_id":73483077,"question_id":73476313,"body_markdown":"You are not using the result of `handle`, which would be perfect for your use case, e.g.\r\n\r\n```java\r\nfinal CompletableFuture&lt;Data&gt; mainFut = mainProcess(...);\r\nfinal CompletableFuture&lt;Data&gt; backupFut = backupProcess(...);\r\n\r\nreturn mainFut.handle((r,t) -&gt; t == null? r: backupFut.join());\r\n```\r\n\r\nIf you want to avoid the potentially blocking `join()` call, you can use\r\n\r\n```java\r\nfinal CompletableFuture&lt;Data&gt; mainFut = mainProcess(...);\r\nfinal CompletableFuture&lt;Data&gt; backupFut = backupProcess(...);\r\n\r\nreturn mainFut.handle((r1, t1) -&gt; t1 == null? mainFut: backupFut)\r\n    .thenCompose(Function.identity());\r\n```\r\n\r\nThe backup operation’s result will supersede the main operation’s exception, but when both fail, you can include the original exception in the exceptional result like\r\n\r\n```java\r\nreturn mainFut.handle((r1, t1) -&gt; t1 == null? mainFut:\r\n        backupFut.whenComplete((r2, t2) -&gt; { if(t2 != null) t2.addSuppressed(t1); }))\r\n    .thenCompose(Function.identity());\r\n```\r\n\r\n","title":"Combine two futures as main and backup","body":"<p>You are not using the result of <code>handle</code>, which would be perfect for your use case, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final CompletableFuture&lt;Data&gt; mainFut = mainProcess(...);\nfinal CompletableFuture&lt;Data&gt; backupFut = backupProcess(...);\n\nreturn mainFut.handle((r,t) -&gt; t == null? r: backupFut.join());\n</code></pre>\n<p>If you want to avoid the potentially blocking <code>join()</code> call, you can use</p>\n<pre class=\"lang-java prettyprint-override\"><code>final CompletableFuture&lt;Data&gt; mainFut = mainProcess(...);\nfinal CompletableFuture&lt;Data&gt; backupFut = backupProcess(...);\n\nreturn mainFut.handle((r1, t1) -&gt; t1 == null? mainFut: backupFut)\n    .thenCompose(Function.identity());\n</code></pre>\n<p>The backup operation’s result will supersede the main operation’s exception, but when both fail, you can include the original exception in the exceptional result like</p>\n<pre class=\"lang-java prettyprint-override\"><code>return mainFut.handle((r1, t1) -&gt; t1 == null? mainFut:\n        backupFut.whenComplete((r2, t2) -&gt; { if(t2 != null) t2.addSuppressed(t1); }))\n    .thenCompose(Function.identity());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661418039,"creation_date":1661417658,"answer_id":73484633,"question_id":73476313,"body_markdown":"Using `CompletableFuture#exceptionallyCompose`, this becomes basically a one liner:\r\n\r\n    var resultFut = mainFut.exceptionallyCompose(throwable -&gt; backupFut);\r\n\r\n**Edit:** `exceptionallyCompose` is available since Java 12.","title":"Combine two futures as main and backup","body":"<p>Using <code>CompletableFuture#exceptionallyCompose</code>, this becomes basically a one liner:</p>\n<pre><code>var resultFut = mainFut.exceptionallyCompose(throwable -&gt; backupFut);\n</code></pre>\n<p><strong>Edit:</strong> <code>exceptionallyCompose</code> is available since Java 12.</p>\n"}],"owner":{"account_id":195691,"reputation":28439,"user_id":438742,"accept_rate":73,"display_name":"kan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73483077,"answer_count":3,"score":2,"last_activity_date":1661419508,"creation_date":1661356867,"question_id":73476313,"body_markdown":"I have two processes which should start in parallel and if the first process fails, I should use second process result. I came up with the following code. Is there any sensible way to simplify it?\r\n\r\n    final CompletableFuture&lt;Data&gt; mainFut = mainProcess(...);\r\n    final CompletableFuture&lt;Data&gt; backupFut = backupProcess(...);\r\n    final CompletableFuture&lt;Data&gt; resultFut = new CompletableFuture&lt;&gt;();\r\n    mainFut.handle((r, t) -&gt; {\r\n    \tif (t == null) {\r\n    \t\tresultFut.complete(r); // main process is fine, use its result\r\n    \t} else {\r\n    \t\tLOGGER.error(&quot;Main process failed, using backup&quot;, t);\r\n    \t\tbackupFut.handle((rb, tb) -&gt; {\r\n    \t\t\tif (tb == null) {\r\n    \t\t\t\tresultFut.complete(rb); //backup is fine, use its result\r\n    \t\t\t} else {\r\n    \t\t\t\tresultFut.completeExceptionally(tb); //backup failed too\r\n    \t\t\t}\r\n    \t\t\treturn null;\r\n    \t\t});\r\n    \t}\r\n    \treturn null;\r\n    });\r\n    return resultFut;\r\n\r\n","title":"Combine two futures as main and backup","body":"<p>I have two processes which should start in parallel and if the first process fails, I should use second process result. I came up with the following code. Is there any sensible way to simplify it?</p>\n<pre><code>final CompletableFuture&lt;Data&gt; mainFut = mainProcess(...);\nfinal CompletableFuture&lt;Data&gt; backupFut = backupProcess(...);\nfinal CompletableFuture&lt;Data&gt; resultFut = new CompletableFuture&lt;&gt;();\nmainFut.handle((r, t) -&gt; {\n    if (t == null) {\n        resultFut.complete(r); // main process is fine, use its result\n    } else {\n        LOGGER.error(&quot;Main process failed, using backup&quot;, t);\n        backupFut.handle((rb, tb) -&gt; {\n            if (tb == null) {\n                resultFut.complete(rb); //backup is fine, use its result\n            } else {\n                resultFut.completeExceptionally(tb); //backup failed too\n            }\n            return null;\n        });\n    }\n    return null;\n});\nreturn resultFut;\n</code></pre>\n"},{"tags":["java","rest","jsp","vuejs2"],"comments":[{"owner":{"account_id":3200341,"reputation":12790,"user_id":2702504,"accept_rate":68,"display_name":"Keerthivasan"},"score":0,"creation_date":1511955260,"post_id":47547076,"comment_id":82060231,"body_markdown":"I think you will have to add `Access-Control-Allow-Origin` in `allowedHeaders` property","body":"I think you will have to add <code>Access-Control-Allow-Origin</code> in <code>allowedHeaders</code> property"}],"answers":[{"tags":[],"owner":{"account_id":1678272,"reputation":507,"user_id":1717100,"accept_rate":100,"display_name":"Edgar Espina"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1512580281,"creation_date":1512578810,"answer_id":47679404,"question_id":47547076,"body_markdown":"From [documentation][1] you need to add a `CorsHandler`:\r\n\r\n    {\r\n       use(&quot;*&quot;, new CorsHandler());\r\n       ...\r\n    }\r\n\r\nProperties are optional, unless you want to change a default value.\r\n\r\n\r\n  [1]: http://jooby.org/doc/#misc-cors","title":"How do I set up CORS correctly on a Jooby application","body":"<p>From <a href=\"http://jooby.org/doc/#misc-cors\" rel=\"nofollow noreferrer\">documentation</a> you need to add a <code>CorsHandler</code>:</p>\n\n<pre><code>{\n   use(\"*\", new CorsHandler());\n   ...\n}\n</code></pre>\n\n<p>Properties are optional, unless you want to change a default value.</p>\n"},{"tags":[],"owner":{"account_id":14589269,"reputation":233,"user_id":10537000,"display_name":"Nguyễn Dương"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661419494,"creation_date":1661419494,"answer_id":73485075,"question_id":47547076,"body_markdown":"  You can manually specify the header and the accept method (Jooby MVC)\r\n\r\n    Cors cors = new Cors()\r\n                    .withHeaders(&quot;Content-Type&quot;, &quot;Accept&quot;, &quot;Origin&quot;,&quot;Authorization&quot;)\r\n                    .withMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;OPTIONS&quot;, &quot;PUT&quot;, &quot;DELETE&quot;);\r\n    pluginApp.use(&quot;*&quot;, new CorsHandler(cors));","title":"How do I set up CORS correctly on a Jooby application","body":"<p>You can manually specify the header and the accept method (Jooby MVC)</p>\n<pre><code>Cors cors = new Cors()\n                .withHeaders(&quot;Content-Type&quot;, &quot;Accept&quot;, &quot;Origin&quot;,&quot;Authorization&quot;)\n                .withMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;OPTIONS&quot;, &quot;PUT&quot;, &quot;DELETE&quot;);\npluginApp.use(&quot;*&quot;, new CorsHandler(cors));\n</code></pre>\n"}],"owner":{"account_id":535246,"reputation":667,"user_id":904839,"accept_rate":71,"display_name":"Caleb Oki"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":929,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":47679404,"answer_count":2,"score":2,"last_activity_date":1661419494,"creation_date":1511939816,"question_id":47547076,"body_markdown":"I am creating an API with the [Jooby framework][1] mostly following this [guide][2]. I am also using Vue.js as the frontend. However I am having issues with CORS. When I try to do a get request from my Vue.js frontend I get the error No *&#39;Access-Control-Allow-Origin&#39; header is present on the requested resource. Origin &#39;http://localhost:8081&#39; is therefore not allowed access.*\r\n\r\nThis is my Jooby application.conf file:\r\n\r\n    # add or override properties\r\n    # See https://github.com/typesafehub/config/blob/master/HOCON.md for more \r\n    details\r\n    db = mem\r\n\r\n    schema = &quot;&quot;&quot;\r\n\r\n    create table if not exists pets (\r\n\r\n    id int not null auto_increment,\r\n\r\n    name varchar(255) not null,\r\n\r\n    primary key (id)\r\n\r\n    );\r\n    &quot;&quot;&quot;\r\n    cors {\r\n    # Configures the Access-Control-Allow-Origin CORS header. Possibly values: \r\n    *, domain, regex or a list of previous values.\r\n    # Example:\r\n    # &quot;*&quot;\r\n    # [&quot;http://foo.com&quot;]\r\n    # [&quot;http://*.com&quot;]\r\n    # [&quot;http://foo.com&quot;, &quot;http://bar.com&quot;]\r\n    origin: &quot;*&quot;\r\n\r\n    # If true, set the Access-Control-Allow-Credentials header\r\n    credentials: true\r\n\r\n    # Allowed methods: Set the Access-Control-Allow-Methods header\r\n    allowedMethods: [GET, POST]\r\n\r\n    # Allowed headers: set the Access-Control-Allow-Headers header. Possibly \r\n    values: *, header name or a list of previous values.\r\n    # Examples\r\n    # &quot;*&quot;\r\n    # Custom-Header\r\n    # [Header-1, Header-2]\r\n    allowedHeaders: [&quot;X-Requested-With, Content-Type, Accept, Origin&quot;]\r\n\r\n    # Preflight max age: number of seconds that preflight requests can be cached \r\n    by the client\r\n    maxAge: 30m\r\n\r\n    # Set the Access-Control-Expose-Headers header\r\n    # exposedHeaders: []\r\n    }\r\n\r\nAnd this is App.java file where I query the database\r\n\r\n    package org.jooby.guides;\r\n\r\n    import java.util.List;\r\n\r\n    import org.jooby.Jooby;\r\n    import org.jooby.Results;\r\n    import org.jooby.jdbc.Jdbc;\r\n    import org.jooby.jdbi.Jdbi;\r\n    import org.jooby.json.Jackson;\r\n    import org.skife.jdbi.v2.DBI;\r\n    import org.skife.jdbi.v2.Handle;\r\n\r\n    import com.typesafe.config.Config;\r\n\r\n    public class App extends Jooby {\r\n\r\n    {\r\n    use(new Jackson());\r\n\r\n    use(new Jdbc());\r\n\r\n    use(new Jdbi()\r\n        // 1 dbi ready\r\n        .doWith((final DBI dbi, final Config conf) -&gt; {\r\n          // 2 open a new handle\r\n          try (Handle handle = dbi.open()) {\r\n            // 3. execute script\r\n            handle.execute(conf.getString(&quot;schema&quot;));\r\n          }\r\n        }));\r\n        \r\n\r\n    /** Pet API. */\r\n    use(&quot;/api/pets&quot;)\r\n        /** List pets. */\r\n        .get(req -&gt; {\r\n          return require(DBI.class).inTransaction((handle, status) -&gt; {\r\n            PetRepository repo = handle.attach(PetRepository.class);\r\n            List&lt;Pet&gt; pets = repo.list();\r\n            return pets;\r\n          });\r\n        })\r\n        /** Get a pet by ID. */\r\n        .get(&quot;/:id&quot;, req -&gt; {\r\n          return require(DBI.class).inTransaction((handle, status) -&gt; {\r\n            int id = req.param(&quot;id&quot;).intValue();\r\n\r\n            PetRepository repo = handle.attach(PetRepository.class);\r\n            Pet pet = repo.findById(id);\r\n            return pet;\r\n          });\r\n        })\r\n        /** Create a pet. */\r\n        .post(req -&gt; {\r\n          return require(DBI.class).inTransaction((handle, status) -&gt; {\r\n            // read from HTTP body\r\n            Pet pet = req.body(Pet.class);\r\n\r\n            PetRepository repo = handle.attach(PetRepository.class);\r\n            int petId = repo.insert(pet);\r\n            pet.setId(petId);\r\n            return pet;\r\n          });\r\n        })\r\n        /** Update a pet. */\r\n        .put(req -&gt; {\r\n          return require(DBI.class).inTransaction((handle, status) -&gt; {\r\n            // read from HTTP body\r\n            Pet pet = req.body(Pet.class);\r\n\r\n            PetRepository repo = handle.attach(PetRepository.class);\r\n            repo.update(pet);\r\n            return pet;\r\n          });\r\n        })\r\n        /** Delete a pet by ID. */\r\n        .delete(&quot;/:id&quot;, req -&gt; {\r\n          return require(DBI.class).inTransaction((handle, status) -&gt; {\r\n            int id = req.param(&quot;id&quot;).intValue();\r\n\r\n            PetRepository repo = handle.attach(PetRepository.class);\r\n            repo.deleteById(id);\r\n            return Results.noContent();\r\n          });\r\n        });\r\n    }\r\n\r\n    public static void main(final String[] args) {\r\n    run(App::new, args);\r\n    }\r\n\r\n    }\r\n\r\nHow do I fix this?\r\n\r\n\r\n  [1]: http://jooby.org/\r\n  [2]: https://github.com/jooby-project/jdbi-guide","title":"How do I set up CORS correctly on a Jooby application","body":"<p>I am creating an API with the <a href=\"http://jooby.org/\" rel=\"nofollow noreferrer\">Jooby framework</a> mostly following this <a href=\"https://github.com/jooby-project/jdbi-guide\" rel=\"nofollow noreferrer\">guide</a>. I am also using Vue.js as the frontend. However I am having issues with CORS. When I try to do a get request from my Vue.js frontend I get the error No <em>'Access-Control-Allow-Origin' header is present on the requested resource. Origin '<a href=\"http://localhost:8081\" rel=\"nofollow noreferrer\">http://localhost:8081</a>' is therefore not allowed access.</em></p>\n\n<p>This is my Jooby application.conf file:</p>\n\n<pre><code># add or override properties\n# See https://github.com/typesafehub/config/blob/master/HOCON.md for more \ndetails\ndb = mem\n\nschema = \"\"\"\n\ncreate table if not exists pets (\n\nid int not null auto_increment,\n\nname varchar(255) not null,\n\nprimary key (id)\n\n);\n\"\"\"\ncors {\n# Configures the Access-Control-Allow-Origin CORS header. Possibly values: \n*, domain, regex or a list of previous values.\n# Example:\n# \"*\"\n# [\"http://foo.com\"]\n# [\"http://*.com\"]\n# [\"http://foo.com\", \"http://bar.com\"]\norigin: \"*\"\n\n# If true, set the Access-Control-Allow-Credentials header\ncredentials: true\n\n# Allowed methods: Set the Access-Control-Allow-Methods header\nallowedMethods: [GET, POST]\n\n# Allowed headers: set the Access-Control-Allow-Headers header. Possibly \nvalues: *, header name or a list of previous values.\n# Examples\n# \"*\"\n# Custom-Header\n# [Header-1, Header-2]\nallowedHeaders: [\"X-Requested-With, Content-Type, Accept, Origin\"]\n\n# Preflight max age: number of seconds that preflight requests can be cached \nby the client\nmaxAge: 30m\n\n# Set the Access-Control-Expose-Headers header\n# exposedHeaders: []\n}\n</code></pre>\n\n<p>And this is App.java file where I query the database</p>\n\n<pre><code>package org.jooby.guides;\n\nimport java.util.List;\n\nimport org.jooby.Jooby;\nimport org.jooby.Results;\nimport org.jooby.jdbc.Jdbc;\nimport org.jooby.jdbi.Jdbi;\nimport org.jooby.json.Jackson;\nimport org.skife.jdbi.v2.DBI;\nimport org.skife.jdbi.v2.Handle;\n\nimport com.typesafe.config.Config;\n\npublic class App extends Jooby {\n\n{\nuse(new Jackson());\n\nuse(new Jdbc());\n\nuse(new Jdbi()\n    // 1 dbi ready\n    .doWith((final DBI dbi, final Config conf) -&gt; {\n      // 2 open a new handle\n      try (Handle handle = dbi.open()) {\n        // 3. execute script\n        handle.execute(conf.getString(\"schema\"));\n      }\n    }));\n\n\n/** Pet API. */\nuse(\"/api/pets\")\n    /** List pets. */\n    .get(req -&gt; {\n      return require(DBI.class).inTransaction((handle, status) -&gt; {\n        PetRepository repo = handle.attach(PetRepository.class);\n        List&lt;Pet&gt; pets = repo.list();\n        return pets;\n      });\n    })\n    /** Get a pet by ID. */\n    .get(\"/:id\", req -&gt; {\n      return require(DBI.class).inTransaction((handle, status) -&gt; {\n        int id = req.param(\"id\").intValue();\n\n        PetRepository repo = handle.attach(PetRepository.class);\n        Pet pet = repo.findById(id);\n        return pet;\n      });\n    })\n    /** Create a pet. */\n    .post(req -&gt; {\n      return require(DBI.class).inTransaction((handle, status) -&gt; {\n        // read from HTTP body\n        Pet pet = req.body(Pet.class);\n\n        PetRepository repo = handle.attach(PetRepository.class);\n        int petId = repo.insert(pet);\n        pet.setId(petId);\n        return pet;\n      });\n    })\n    /** Update a pet. */\n    .put(req -&gt; {\n      return require(DBI.class).inTransaction((handle, status) -&gt; {\n        // read from HTTP body\n        Pet pet = req.body(Pet.class);\n\n        PetRepository repo = handle.attach(PetRepository.class);\n        repo.update(pet);\n        return pet;\n      });\n    })\n    /** Delete a pet by ID. */\n    .delete(\"/:id\", req -&gt; {\n      return require(DBI.class).inTransaction((handle, status) -&gt; {\n        int id = req.param(\"id\").intValue();\n\n        PetRepository repo = handle.attach(PetRepository.class);\n        repo.deleteById(id);\n        return Results.noContent();\n      });\n    });\n}\n\npublic static void main(final String[] args) {\nrun(App::new, args);\n}\n\n}\n</code></pre>\n\n<p>How do I fix this?</p>\n"},{"tags":["java","validation","annotations","lombok","notnull"],"comments":[{"owner":{"display_name":"user10871691"},"score":2,"creation_date":1546870688,"post_id":54076047,"comment_id":94985188,"body_markdown":"Can you show the imports section of the class containing `ordersPort` field?","body":"Can you show the imports section of the class containing <code>ordersPort</code> field?"},{"owner":{"account_id":12000615,"reputation":2015,"user_id":8780684,"accept_rate":18,"display_name":"Martin"},"score":0,"creation_date":1546870953,"post_id":54076047,"comment_id":94985346,"body_markdown":"The 2 relevant ones are import javax.validation.constraints.NotNull; and import lombok.NonNull;","body":"The 2 relevant ones are import javax.validation.constraints.NotNull; and import lombok.NonNull;"},{"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"score":0,"creation_date":1546871381,"post_id":54076047,"comment_id":94985612,"body_markdown":"@EugenCovaci `Not` vs `Non` it works as-is.","body":"@EugenCovaci <code>Not</code> vs <code>Non</code> it works as-is."},{"owner":{"account_id":12000615,"reputation":2015,"user_id":8780684,"accept_rate":18,"display_name":"Martin"},"score":0,"creation_date":1546871490,"post_id":54076047,"comment_id":94985688,"body_markdown":"I never said the application didn&#39;t compile, it still works perfectly fine.  Again, the validations produced my custom error message before adding Lombok but now i&#39;m getting the Lombok generic NonNull message instead.  I want to know if there is a way for the Valid mechanism to skip the Lombok NonNull annotation","body":"I never said the application didn&#39;t compile, it still works perfectly fine.  Again, the validations produced my custom error message before adding Lombok but now i&#39;m getting the Lombok generic NonNull message instead.  I want to know if there is a way for the Valid mechanism to skip the Lombok NonNull annotation"},{"owner":{"display_name":"user10871691"},"score":0,"creation_date":1546871721,"post_id":54076047,"comment_id":94985807,"body_markdown":"Actually you get the error on bean instantiation, not on validation. See @KarolDowbecki answer.","body":"Actually you get the error on bean instantiation, not on validation. See @KarolDowbecki answer."},{"owner":{"account_id":12000615,"reputation":2015,"user_id":8780684,"accept_rate":18,"display_name":"Martin"},"score":0,"creation_date":1546871920,"post_id":54076047,"comment_id":94985924,"body_markdown":"Correct and it prevents the actual message i want from the NotNull annotation to display.  I will try lowering the flagUsage property to warning","body":"Correct and it prevents the actual message i want from the NotNull annotation to display.  I will try lowering the flagUsage property to warning"}],"answers":[{"tags":[],"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1546871543,"creation_date":1546871543,"answer_id":54076326,"question_id":54076047,"body_markdown":"Since `lombok.NonNull` will emit an `if` statement directly in the code, which later throws `NullPointerException`, there is not much you can do. `javax.validation` requires the bean to be constructed before it&#39;s being validated and Lombok will prevent it.\r\n\r\nYou could remove `lombok.NonNull` or decrease it to warning with `lombok.nonNull.flagUsage=warning` but this would allow you to create invalid objects that you would have to manually validate with `javax.validation`.","title":"Lombok&#39;s @NonNull interfering with javax.validation.constraints.NotNull during validation","body":"<p>Since <code>lombok.NonNull</code> will emit an <code>if</code> statement directly in the code, which later throws <code>NullPointerException</code>, there is not much you can do. <code>javax.validation</code> requires the bean to be constructed before it's being validated and Lombok will prevent it.</p>\n\n<p>You could remove <code>lombok.NonNull</code> or decrease it to warning with <code>lombok.nonNull.flagUsage=warning</code> but this would allow you to create invalid objects that you would have to manually validate with <code>javax.validation</code>.</p>\n"},{"tags":[],"owner":{"account_id":3612479,"reputation":1687,"user_id":3013172,"accept_rate":0,"display_name":"user3013172"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661418944,"creation_date":1661418944,"answer_id":73484949,"question_id":54076047,"body_markdown":"So, I had a similar issue with Jackson and Lombok. \r\n\r\nI needed javax validations to work when deserializing an input for my Controller but I also wanted to be able to create instances of my POJOs &quot;by hand&quot;, using Lombok&#39;s validations. \r\nSince Lombok&#39;s validations were executed while building the objects, javax never had a chance to run validations since lombok&#39;s failed first.\r\n\r\nMy solution was the following:\r\n\r\n\r\n    import com.fasterxml.jackson.annotation.JsonCreator;\r\n    import javax.validation.constraints.NotBlank;\r\n    import lombok.Builder;\r\n    import lombok.NonNull;\r\n    import lombok.Value;\r\n\r\n    @Value\r\n    //Make immutable\r\n    public class MyObject {\r\n\r\n        //javax annotations go here\r\n        @NotBlank\r\n        String fieldOne;\r\n\r\n        //javax annotations go here\r\n        @NotBlank\r\n        String fieldTwo;\r\n\r\n\r\n        //Lombok&#39;s validations go here. Lombok will create builder methods\r\n        //for this parameters only and will rewrite this constructor to add \r\n        //validations\r\n        @Builder\r\n        private MyObject(@NonNull String fieldOne,\r\n                         @NonNull String fieldTwo) {\r\n            this.fieldOne = fieldOne;\r\n            this.fieldTwo = fieldTwo;\r\n        }\r\n\r\n        //Constructor for jackson. No lombok validations here\r\n        @JsonCreator\r\n        private MyObject(String fieldOne,\r\n                         String fieldTwo,\r\n                         boolean jacksonHack) {\r\n            this.fieldOne = fieldOne;\r\n            this.fieldTwo = fieldTwo;\r\n        }\r\n\r\n    }\r\n\r\nHere, you have to make sure that javax validations are always processed after deserialization. Otherwise you  will end up with an invalid object.\r\n\r\nBut it looks like it works.\r\n","title":"Lombok&#39;s @NonNull interfering with javax.validation.constraints.NotNull during validation","body":"<p>So, I had a similar issue with Jackson and Lombok.</p>\n<p>I needed javax validations to work when deserializing an input for my Controller but I also wanted to be able to create instances of my POJOs &quot;by hand&quot;, using Lombok's validations.\nSince Lombok's validations were executed while building the objects, javax never had a chance to run validations since lombok's failed first.</p>\n<p>My solution was the following:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonCreator;\nimport javax.validation.constraints.NotBlank;\nimport lombok.Builder;\nimport lombok.NonNull;\nimport lombok.Value;\n\n@Value\n//Make immutable\npublic class MyObject {\n\n    //javax annotations go here\n    @NotBlank\n    String fieldOne;\n\n    //javax annotations go here\n    @NotBlank\n    String fieldTwo;\n\n\n    //Lombok's validations go here. Lombok will create builder methods\n    //for this parameters only and will rewrite this constructor to add \n    //validations\n    @Builder\n    private MyObject(@NonNull String fieldOne,\n                     @NonNull String fieldTwo) {\n        this.fieldOne = fieldOne;\n        this.fieldTwo = fieldTwo;\n    }\n\n    //Constructor for jackson. No lombok validations here\n    @JsonCreator\n    private MyObject(String fieldOne,\n                     String fieldTwo,\n                     boolean jacksonHack) {\n        this.fieldOne = fieldOne;\n        this.fieldTwo = fieldTwo;\n    }\n\n}\n</code></pre>\n<p>Here, you have to make sure that javax validations are always processed after deserialization. Otherwise you  will end up with an invalid object.</p>\n<p>But it looks like it works.</p>\n"}],"owner":{"account_id":12000615,"reputation":2015,"user_id":8780684,"accept_rate":18,"display_name":"Martin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6673,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":54076326,"answer_count":2,"score":3,"last_activity_date":1661418944,"creation_date":1546870540,"question_id":54076047,"body_markdown":"Lombok&#39;s @NonNull annotation interferes with javax.validation.constraints.NotNull annotation during validation in a spring boot app.  \r\n\r\nI am using Lombok in my JPA entities to drastically shorten the code in them (eliminate getters and setters, hashcode and equals, constructors, etc).  I use the @NonNull annotation on each required field and then the @RequiredArgsConstructor annotation on top of the class to generate a constructor accepting only those fields (eliminates the need to send the entity&#39;s id, UUID and one-to-many Sets as null when creating the object).  \r\n\r\nThe issue i have is that, since adding Lombok not too long ago, my original @NotNull annotation&#39;s message is being replaced by a generic Lombok message for the @NonNull annotation.  Take a look at this field for example :\r\n\r\n    @Digits(integer = 5, fraction = 0, message = &quot;The orders port must be a number from 1 to 65 535!&quot;)\r\n    @NotNull(message = &quot;The orders port is required!&quot;)\r\n    @Min(value = 1, message = &quot;The orders port must be a number from 1 to 65 535!&quot;)\r\n    @Max(value = 65535, message = &quot;The orders port must be a number from 1 to 65 535!&quot;)\r\n    @Column(nullable = false)\r\n\t@NonNull\r\n    private Integer ordersPort;\r\n\r\nWhen i put nothing in this field, get this message :\r\n\r\n    Property ordersPort threw exception; nested exception is java.lang.NullPointerException: ordersPort is marked @NonNull but is null\r\n\r\nPrior to adding Lombok, this was working fine and i was getting the messages i put above.  Is there a way to keep using Lombok but somehow disable it from being considered during validation?\r\n\r\nThanks!\r\n\r\n","title":"Lombok&#39;s @NonNull interfering with javax.validation.constraints.NotNull during validation","body":"<p>Lombok's @NonNull annotation interferes with javax.validation.constraints.NotNull annotation during validation in a spring boot app.  </p>\n\n<p>I am using Lombok in my JPA entities to drastically shorten the code in them (eliminate getters and setters, hashcode and equals, constructors, etc).  I use the @NonNull annotation on each required field and then the @RequiredArgsConstructor annotation on top of the class to generate a constructor accepting only those fields (eliminates the need to send the entity's id, UUID and one-to-many Sets as null when creating the object).  </p>\n\n<p>The issue i have is that, since adding Lombok not too long ago, my original @NotNull annotation's message is being replaced by a generic Lombok message for the @NonNull annotation.  Take a look at this field for example :</p>\n\n<pre><code>@Digits(integer = 5, fraction = 0, message = \"The orders port must be a number from 1 to 65 535!\")\n@NotNull(message = \"The orders port is required!\")\n@Min(value = 1, message = \"The orders port must be a number from 1 to 65 535!\")\n@Max(value = 65535, message = \"The orders port must be a number from 1 to 65 535!\")\n@Column(nullable = false)\n@NonNull\nprivate Integer ordersPort;\n</code></pre>\n\n<p>When i put nothing in this field, get this message :</p>\n\n<pre><code>Property ordersPort threw exception; nested exception is java.lang.NullPointerException: ordersPort is marked @NonNull but is null\n</code></pre>\n\n<p>Prior to adding Lombok, this was working fine and i was getting the messages i put above.  Is there a way to keep using Lombok but somehow disable it from being considered during validation?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","spring","hibernate","dependency-injection","autowired"],"comments":[{"owner":{"account_id":5296535,"reputation":169,"user_id":4227570,"display_name":"Sebastian Forza"},"score":0,"creation_date":1686918742,"post_id":73443118,"comment_id":134868261,"body_markdown":"It just came to my mind, that there might be already a &quot;entityManager&quot; bean of type EntityManager, not sure if that will work when you specify the type as TestRepository.\nAdditionally there are some restrictions what you should not do when working with lifecycle callback methods like @PrePersist, i.e. don&#39;t interact with other entities: https://www.objectdb.com/java/jpa/persistence/event#implementation_restrictions","body":"It just came to my mind, that there might be already a &quot;entityManager&quot; bean of type EntityManager, not sure if that will work when you specify the type as TestRepository. Additionally there are some restrictions what you should not do when working with lifecycle callback methods like @PrePersist, i.e. don&#39;t interact with other entities: <a href=\"https://www.objectdb.com/java/jpa/persistence/event#implementation_restrictions\" rel=\"nofollow noreferrer\">objectdb.com/java/jpa/persistence/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":13139235,"reputation":79,"user_id":9491307,"display_name":"L. Schilling"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661418602,"creation_date":1661418602,"answer_id":73484867,"question_id":73443118,"body_markdown":"Is the class TestRepository annotated with @Repository?\r\n\r\nYou could try making the field entityManager final. I would also recomend using constructor injection instead. Field injection sometimes leads to strange behaviour.\r\n\r\n    @Component\r\n    public class TestListener {\r\n    \r\n        private final TestRepository entityManager;\r\n    \r\n        public TestListener(@Autowired TestRepository entityManager){\r\n            this.entityManager = entityManager;\r\n        }\r\n    \r\n        ...\r\n\r\n        }\r\n    }","title":"How to autowire spring bean into EventListener","body":"<p>Is the class TestRepository annotated with @Repository?</p>\n<p>You could try making the field entityManager final. I would also recomend using constructor injection instead. Field injection sometimes leads to strange behaviour.</p>\n<pre><code>@Component\npublic class TestListener {\n\n    private final TestRepository entityManager;\n\n    public TestListener(@Autowired TestRepository entityManager){\n        this.entityManager = entityManager;\n    }\n\n    ...\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12427598,"reputation":201,"user_id":9051579,"display_name":"Alex Vulchev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":405,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661418602,"creation_date":1661161581,"question_id":73443118,"body_markdown":"i am searching for a way to create a listener that is also a spring component, however when i try to autowire the entity manager bean, it is always null, what am i doing wrong?\r\n\r\n\r\n    @Component\r\n    public class TestListener {\r\n    \r\n        @Autowired\r\n        private TestRepository entityManager;\r\n    \r\n        @PrePersist\r\n        @PreUpdate\r\n        void beforeEntityUpdateOrSave(final Entity entity) {\r\n            entityManager.someOperation() // -&gt; NullPointerException, because the bean is &quot;null&quot;\r\n        }\r\n    }\r\n\r\nthe Entity class has the listener in the @EntityListeners annotation.\r\n\r\n    @EntityListeners(TestListener.class)\r\n    public class Entity ","title":"How to autowire spring bean into EventListener","body":"<p>i am searching for a way to create a listener that is also a spring component, however when i try to autowire the entity manager bean, it is always null, what am i doing wrong?</p>\n<pre><code>@Component\npublic class TestListener {\n\n    @Autowired\n    private TestRepository entityManager;\n\n    @PrePersist\n    @PreUpdate\n    void beforeEntityUpdateOrSave(final Entity entity) {\n        entityManager.someOperation() // -&gt; NullPointerException, because the bean is &quot;null&quot;\n    }\n}\n</code></pre>\n<p>the Entity class has the listener in the @EntityListeners annotation.</p>\n<pre><code>@EntityListeners(TestListener.class)\npublic class Entity \n</code></pre>\n"},{"tags":["java","oracle","xslt-1.0","xslt-2.0"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1661360081,"post_id":73476608,"comment_id":129755909,"body_markdown":"and what xslt implementation are you using?","body":"and what xslt implementation are you using?"},{"owner":{"account_id":9392221,"reputation":30,"user_id":8509516,"display_name":"sunil"},"score":0,"creation_date":1661402040,"post_id":73476608,"comment_id":129764701,"body_markdown":"sorry I am not getting your question, actually everything was working fine if XSLT version was 1.0 but after changing the version with 2.0 I am getting errors. Is there any way to fix this","body":"sorry I am not getting your question, actually everything was working fine if XSLT version was 1.0 but after changing the version with 2.0 I am getting errors. Is there any way to fix this"},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1661405692,"post_id":73476608,"comment_id":129765366,"body_markdown":"There is no standardized way for an XSLT processor use Java, most Java implementations of XSLT can do that but the way to do it might be rather product specific. So, at least inside of oXygen, you should be able to see/tell which XSLT processor exactly you have used for XSLT 1 and which one for XSLT 2. For XSLT 2 oXygen tends to use Saxon Java and usually offers, for one particular main release, all three editions HE, PE and EE. Only the last two ones allow &quot;reflexive&quot; calls into Java. On the other hand, if you have Oracle specific extension code, better ask Oracle support.","body":"There is no standardized way for an XSLT processor use Java, most Java implementations of XSLT can do that but the way to do it might be rather product specific. So, at least inside of oXygen, you should be able to see/tell which XSLT processor exactly you have used for XSLT 1 and which one for XSLT 2. For XSLT 2 oXygen tends to use Saxon Java and usually offers, for one particular main release, all three editions HE, PE and EE. Only the last two ones allow &quot;reflexive&quot; calls into Java. On the other hand, if you have Oracle specific extension code, better ask Oracle support."}],"owner":{"account_id":9392221,"reputation":30,"user_id":8509516,"display_name":"sunil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661418361,"creation_date":1661358281,"question_id":73476608,"body_markdown":"I am upgrading the XSLT from 1.0 to XSLT 2.0,\r\nIt contains the java functions which were running successfully with version 1.0\r\nBut after changing the version to 2.0 getting the below error in Oxygen:\r\n\r\n&gt; Cannot find a 4-argument function named Q\r\n&gt; {http://www.oracle.com/XSL/Transform/java/sunil.classic.aib.userfunctions.CustomExtensionFunctions}\r\n&gt; getSecondaryLineItems (). For diagnostics on calls to Java methods,\r\n&gt; use the -TJ command line option or set the Configuration property\r\n&gt; FeatureKeys.TRACE_EXTERNAL_FUNCTIONS\r\n\r\nIn eclipse I am getting below error while running Java:\r\n\r\n&gt; XML-23002: (Error) internal xpath error:\r\n&gt; \r\n&gt; oracle.xml.parser.v2.XMLParseException; lineNumber: 2; columnNumber:\r\n&gt; 1; Start of root element expected. \tat\r\n&gt; oracle.xml.parser.v2.XMLError.flushErrors1(XMLError.java:326) \tat\r\n&gt; oracle.xml.parser.v2.NonValidatingParser.parseRootElement(NonValidatingParser.java:475)\r\n&gt; \tat\r\n&gt; oracle.xml.parser.v2.NonValidatingParser.parseDocument(NonValidatingParser.java:416)\r\n&gt; \tat oracle.xml.parser.v2.XMLParser.parse(XMLParser.java:247) \tat\r\n&gt; oracle.xml.jaxp.JXDocumentBuilder.parse(JXDocumentBuilder.java:175)\r\n&gt; \tat\r\n&gt; oracle.xml.jaxp.JXDocumentBuilder.parse(JXDocumentBuilder.java:131)\r\n&gt; \tat com.bt.classic.provide.Provide.xmlBuild(Provide.java:71) \tat\r\n&gt; com.bt.classic.provide.Provide.main(Provide.java:44)\r\n\r\n\r\nThis is my XSLT code:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n&lt;?oracle-xsl-mapper\r\n  &lt;!-- SPECIFICATION OF MAP SOURCES AND TARGETS, DO NOT MODIFY. --&gt;\r\n  &lt;mapSources&gt;\r\n    &lt;source type=&quot;XSD&quot;&gt;\r\n      &lt;schema location=&quot;BTOrderEntryReqResp.xsd&quot;/&gt;\r\n      &lt;rootElement name=&quot;ListOfBtorderentryreqigbl&quot; namespace=&quot;http://www.siebel.com/xml/BTOrderEntryIGBL&quot;/&gt;\r\n    &lt;/source&gt;\r\n  &lt;/mapSources&gt;\r\n  &lt;mapTargets&gt;\r\n    &lt;target type=&quot;XSD&quot;&gt;\r\n      &lt;schema location=&quot;GlobalInteraction_Inter.xsd&quot;/&gt;\r\n      &lt;rootElement name=&quot;BatchLoadOrder&quot; namespace=&quot;GlobalInteraction.xsdobjects.extload.services.classic.bt.inter&quot;/&gt;\r\n    &lt;/target&gt;\r\n  &lt;/mapTargets&gt;\r\n  &lt;!-- GENERATED BY ORACLE XSL MAPPER 10.1.3.3.0(build 070615.0525) AT [FRI AUG 10 16:02:57 IST 2012]. --&gt;\r\n?&gt;\r\n\r\n&lt;xsl:stylesheet version=&quot;2.0&quot; xmlns:xp20=&quot;http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.Xpath20&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\r\nxmlns:sunil=&quot;http://www.oracle.com/XSL/Transform/java/sunil.classic.aib.userfunctions.CustomExtensionFunctions&quot;\r\nexclude-result-prefixes=&quot;xp20 xsl&quot;&gt;\r\n\r\n        &lt;tns:ActivationDate&gt;\r\n            &lt;xsl:value-of select=&quot;xp20:current-dateTime()&quot;/&gt;\r\n        &lt;/tns:ActivationDate&gt;\r\n...........\r\n.............\r\n.........\r\n\r\n&lt;!--****Problem is with the below code while changing the version of XSLT from 1.0 to 2.0\r\nsunil:getSecondaryLineItems is the java function which is inside java file\r\n****--&gt;\r\n\r\n&lt;xsl:variable name=&quot;SecondaryLineItems&quot;\r\n                              select=&quot;sunil:getSecondaryLineItems($totalLineItems,$lineItemsWithoutRW,$lineItemsWithRW,$rootelement)&quot;/&gt;\r\n                &lt;!-- Changes done for BW110776 --&gt;\r\n                &lt;xsl:variable name=&quot;PrimaryLineItems&quot;\r\n                              select=&quot;sunil:getPrimaryLineItems($totalLineItems,$SecondaryLineItems[not(wiz:Product=&#39;IP Connect global SLA&#39;)],$rootelement2)&quot;/&gt;\r\n\r\n............\r\n...........\r\n\r\n&lt;/xsl:stylesheet&gt;\r\n\r\n\r\n```\r\n","title":"How to run java codes in XSLT 2.0 which were working fine in XSLT 1.0","body":"<p>I am upgrading the XSLT from 1.0 to XSLT 2.0,\nIt contains the java functions which were running successfully with version 1.0\nBut after changing the version to 2.0 getting the below error in Oxygen:</p>\n<blockquote>\n<p>Cannot find a 4-argument function named Q\n{http://www.oracle.com/XSL/Transform/java/sunil.classic.aib.userfunctions.CustomExtensionFunctions}\ngetSecondaryLineItems (). For diagnostics on calls to Java methods,\nuse the -TJ command line option or set the Configuration property\nFeatureKeys.TRACE_EXTERNAL_FUNCTIONS</p>\n</blockquote>\n<p>In eclipse I am getting below error while running Java:</p>\n<blockquote>\n<p>XML-23002: (Error) internal xpath error:</p>\n<p>oracle.xml.parser.v2.XMLParseException; lineNumber: 2; columnNumber:\n1; Start of root element expected.    at\noracle.xml.parser.v2.XMLError.flushErrors1(XMLError.java:326)     at\noracle.xml.parser.v2.NonValidatingParser.parseRootElement(NonValidatingParser.java:475)\nat\noracle.xml.parser.v2.NonValidatingParser.parseDocument(NonValidatingParser.java:416)\nat oracle.xml.parser.v2.XMLParser.parse(XMLParser.java:247)     at\noracle.xml.jaxp.JXDocumentBuilder.parse(JXDocumentBuilder.java:175)\nat\noracle.xml.jaxp.JXDocumentBuilder.parse(JXDocumentBuilder.java:131)\nat com.bt.classic.provide.Provide.xmlBuild(Provide.java:71)     at\ncom.bt.classic.provide.Provide.main(Provide.java:44)</p>\n</blockquote>\n<p>This is my XSLT code:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;?oracle-xsl-mapper\n  &lt;!-- SPECIFICATION OF MAP SOURCES AND TARGETS, DO NOT MODIFY. --&gt;\n  &lt;mapSources&gt;\n    &lt;source type=&quot;XSD&quot;&gt;\n      &lt;schema location=&quot;BTOrderEntryReqResp.xsd&quot;/&gt;\n      &lt;rootElement name=&quot;ListOfBtorderentryreqigbl&quot; namespace=&quot;http://www.siebel.com/xml/BTOrderEntryIGBL&quot;/&gt;\n    &lt;/source&gt;\n  &lt;/mapSources&gt;\n  &lt;mapTargets&gt;\n    &lt;target type=&quot;XSD&quot;&gt;\n      &lt;schema location=&quot;GlobalInteraction_Inter.xsd&quot;/&gt;\n      &lt;rootElement name=&quot;BatchLoadOrder&quot; namespace=&quot;GlobalInteraction.xsdobjects.extload.services.classic.bt.inter&quot;/&gt;\n    &lt;/target&gt;\n  &lt;/mapTargets&gt;\n  &lt;!-- GENERATED BY ORACLE XSL MAPPER 10.1.3.3.0(build 070615.0525) AT [FRI AUG 10 16:02:57 IST 2012]. --&gt;\n?&gt;\n\n&lt;xsl:stylesheet version=&quot;2.0&quot; xmlns:xp20=&quot;http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.Xpath20&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\nxmlns:sunil=&quot;http://www.oracle.com/XSL/Transform/java/sunil.classic.aib.userfunctions.CustomExtensionFunctions&quot;\nexclude-result-prefixes=&quot;xp20 xsl&quot;&gt;\n\n        &lt;tns:ActivationDate&gt;\n            &lt;xsl:value-of select=&quot;xp20:current-dateTime()&quot;/&gt;\n        &lt;/tns:ActivationDate&gt;\n...........\n.............\n.........\n\n&lt;!--****Problem is with the below code while changing the version of XSLT from 1.0 to 2.0\nsunil:getSecondaryLineItems is the java function which is inside java file\n****--&gt;\n\n&lt;xsl:variable name=&quot;SecondaryLineItems&quot;\n                              select=&quot;sunil:getSecondaryLineItems($totalLineItems,$lineItemsWithoutRW,$lineItemsWithRW,$rootelement)&quot;/&gt;\n                &lt;!-- Changes done for BW110776 --&gt;\n                &lt;xsl:variable name=&quot;PrimaryLineItems&quot;\n                              select=&quot;sunil:getPrimaryLineItems($totalLineItems,$SecondaryLineItems[not(wiz:Product='IP Connect global SLA')],$rootelement2)&quot;/&gt;\n\n............\n...........\n\n&lt;/xsl:stylesheet&gt;\n\n\n</code></pre>\n"},{"tags":["java","spring","security","spring-security"],"comments":[{"owner":{"account_id":3522627,"reputation":338,"user_id":2944519,"accept_rate":25,"display_name":"Selva"},"score":0,"creation_date":1394005057,"post_id":22191386,"comment_id":33685954,"body_markdown":"You are passing an empty User object to UsernamePasswordAuthenticationToken constructor. May be that is the reason you are getting null.","body":"You are passing an empty User object to UsernamePasswordAuthenticationToken constructor. May be that is the reason you are getting null."},{"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"score":0,"creation_date":1394006996,"post_id":22191386,"comment_id":33686906,"body_markdown":"Also a null password (I think that&#39;s also illegal). Maybe if you show the stack trace?","body":"Also a null password (I think that&#39;s also illegal). Maybe if you show the stack trace?"},{"owner":{"account_id":2019478,"reputation":4894,"user_id":1806005,"accept_rate":56,"display_name":"hi_my_name_is"},"score":0,"creation_date":1394011468,"post_id":22191386,"comment_id":33689327,"body_markdown":"password can be null, I would rather check if session is the same after you create it and in code which run getAuthentication. Log your session.getId() to check it.","body":"password can be null, I would rather check if session is the same after you create it and in code which run getAuthentication. Log your session.getId() to check it."},{"owner":{"account_id":1986559,"reputation":9239,"user_id":1781611,"accept_rate":55,"display_name":"Jay"},"score":0,"creation_date":1394013016,"post_id":22191386,"comment_id":33690294,"body_markdown":"Do you want to bypass the security only for some particular pages or particular user or for all ?","body":"Do you want to bypass the security only for some particular pages or particular user or for all ?"},{"owner":{"account_id":2589428,"reputation":1016,"user_id":2244448,"accept_rate":70,"display_name":"Rajesh Wadhwa"},"score":0,"creation_date":1394013188,"post_id":22191386,"comment_id":33690431,"body_markdown":"I want to bypass for all the pages for that particular session Id(User)","body":"I want to bypass for all the pages for that particular session Id(User)"},{"owner":{"account_id":2589428,"reputation":1016,"user_id":2244448,"accept_rate":70,"display_name":"Rajesh Wadhwa"},"score":0,"creation_date":1394013578,"post_id":22191386,"comment_id":33690679,"body_markdown":"Also i checked the session ID in both the requests !its the same.Cant get the problem","body":"Also i checked the session ID in both the requests !its the same.Cant get the problem"}],"answers":[{"tags":[],"owner":{"account_id":3499762,"reputation":946,"user_id":2926774,"display_name":"RPaul"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1394023195,"creation_date":1394023195,"answer_id":22198085,"question_id":22191386,"body_markdown":"Your localUser is null.So the auth become null.So no authentication object has been added to the security context.\r\n\r\nPlease have look at the doc\r\n\r\nhttp://docs.spring.io/spring-security/site/docs/3.0.x/apidocs/org/springframework/security/core/userdetails/User.html\r\n\r\nIt is better to have a customUserDetailsService\r\n\r\n    public class CustomUserDetailsService implements UserDetailsService \r\n    \r\n    //implement the method which return a UserDetails Object\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException \r\n\r\nthen you can use\r\n\r\n        UserDetails userDetails= customUserDetailsService.loadUserByUsername(&quot;name&quot;); \r\n    Authentication authentication= new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities()) ; \r\n    SecurityContextHolder.getContext().setAuthentication(authentication);\r\n\r\n","title":"SecurityContextHolder.getContext().getAuthentication() returning null","body":"<p>Your localUser is null.So the auth become null.So no authentication object has been added to the security context.</p>\n\n<p>Please have look at the doc</p>\n\n<p><a href=\"http://docs.spring.io/spring-security/site/docs/3.0.x/apidocs/org/springframework/security/core/userdetails/User.html\" rel=\"nofollow\">http://docs.spring.io/spring-security/site/docs/3.0.x/apidocs/org/springframework/security/core/userdetails/User.html</a></p>\n\n<p>It is better to have a customUserDetailsService</p>\n\n<pre><code>public class CustomUserDetailsService implements UserDetailsService \n\n//implement the method which return a UserDetails Object\npublic UserDetails loadUserByUsername(String username) throws UsernameNotFoundException \n</code></pre>\n\n<p>then you can use</p>\n\n<pre><code>    UserDetails userDetails= customUserDetailsService.loadUserByUsername(\"name\"); \nAuthentication authentication= new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities()) ; \nSecurityContextHolder.getContext().setAuthentication(authentication);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2589428,"reputation":1016,"user_id":2244448,"accept_rate":70,"display_name":"Rajesh Wadhwa"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1632905864,"creation_date":1394099573,"answer_id":22220762,"question_id":22191386,"body_markdown":"So, I found the actual problem!\r\nThe issue was that I had marked the whole controller with security=&quot;none&quot; in the security-context.xml.\r\nSo, when it was bounced from the first link to the 2nd, it didn&#39;t pass any security context with it!!\r\nSorry for the trouble, guys.","title":"SecurityContextHolder.getContext().getAuthentication() returning null","body":"<p>So, I found the actual problem!\nThe issue was that I had marked the whole controller with security=&quot;none&quot; in the security-context.xml.\nSo, when it was bounced from the first link to the 2nd, it didn't pass any security context with it!!\nSorry for the trouble, guys.</p>\n"},{"tags":[],"owner":{"account_id":1238641,"reputation":10455,"user_id":1201725,"accept_rate":100,"display_name":"Bahadir Tasdemir"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1474446018,"creation_date":1474446018,"answer_id":39611112,"question_id":22191386,"body_markdown":"**Additional Answer:** If you want to get logged-in user details for a non-secured url then you can add them to secured urls and assign as &quot;permitAll&quot; like this:\r\n\r\n    &lt;http&gt;\r\n        //...\r\n        \r\n        &lt;intercept-url pattern=&quot;/your/url/**&quot; access=&quot;permitAll&quot;/&gt;\r\n        \r\n        //...\r\n    &lt;/http&gt;\r\n\r\nThen, you will be able to check the logged-in user if logged-in or get the credentials.","title":"SecurityContextHolder.getContext().getAuthentication() returning null","body":"<p><strong>Additional Answer:</strong> If you want to get logged-in user details for a non-secured url then you can add them to secured urls and assign as \"permitAll\" like this:</p>\n\n<pre><code>&lt;http&gt;\n    //...\n\n    &lt;intercept-url pattern=\"/your/url/**\" access=\"permitAll\"/&gt;\n\n    //...\n&lt;/http&gt;\n</code></pre>\n\n<p>Then, you will be able to check the logged-in user if logged-in or get the credentials.</p>\n"},{"tags":[],"owner":{"account_id":11079410,"reputation":9,"user_id":8135024,"display_name":"jagadish Beejapu"},"down_vote_count":5,"up_vote_count":1,"is_accepted":false,"score":-4,"last_activity_date":1528097991,"creation_date":1528094522,"answer_id":50674700,"question_id":22191386,"body_markdown":"Try this:\r\n\r\n    Authentication authentication=SecurityContextHolder.getContext().getAuthentication();\r\n    localeUser .setUserNm(authentication.getName());","title":"SecurityContextHolder.getContext().getAuthentication() returning null","body":"<p>Try this:</p>\n\n<pre><code>Authentication authentication=SecurityContextHolder.getContext().getAuthentication();\nlocaleUser .setUserNm(authentication.getName());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22948068,"reputation":3,"user_id":17079772,"display_name":"Rohan Chhokra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661418159,"creation_date":1661418159,"answer_id":73484756,"question_id":22191386,"body_markdown":"I was also a facing a similar issue. What the problem in my piece of code was that the Request Mapping prefix of my controller was ignored in my Security Token Config file, which was causing SecurityContextHolder to be null. ","title":"SecurityContextHolder.getContext().getAuthentication() returning null","body":"<p>I was also a facing a similar issue. What the problem in my piece of code was that the Request Mapping prefix of my controller was ignored in my Security Token Config file, which was causing SecurityContextHolder to be null.</p>\n"}],"owner":{"account_id":2589428,"reputation":1016,"user_id":2244448,"accept_rate":70,"display_name":"Rajesh Wadhwa"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73183,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":22220762,"answer_count":5,"score":21,"last_activity_date":1661418159,"creation_date":1394004796,"question_id":22191386,"body_markdown":"I want to manually bypass the user from spring Security using the following code:\r\n\r\n    User localeUser = new User();\r\n    UsernamePasswordAuthenticationToken auth = new UsernamePasswordAuthenticationToken(localeUser ,null, localeUser .getAuthorities());\r\n    SecurityContext securityContext = SecurityContextHolder.getContext();\r\n    \t\tsecurityContext.setAuthentication(auth);\r\n    \t\t// Create a new session and add the security context.\r\n    \t    HttpSession session = request.getSession(true);\r\n    \t    session.setAttribute(&quot;SPRING_SECURITY_CONTEXT&quot;, securityContext);\r\n    return &quot;dummyLogin&quot;;\r\n\r\nThe dummy login page(handled by tiles)internally calls a different Request Mapping in the same controller where i am trying to get the Authentication something like this.\r\n\r\n    SecurityContextHolder.getContext().getAuthentication()\r\n\r\nWhere i am getting null?","title":"SecurityContextHolder.getContext().getAuthentication() returning null","body":"<p>I want to manually bypass the user from spring Security using the following code:</p>\n\n<pre><code>User localeUser = new User();\nUsernamePasswordAuthenticationToken auth = new UsernamePasswordAuthenticationToken(localeUser ,null, localeUser .getAuthorities());\nSecurityContext securityContext = SecurityContextHolder.getContext();\n        securityContext.setAuthentication(auth);\n        // Create a new session and add the security context.\n        HttpSession session = request.getSession(true);\n        session.setAttribute(\"SPRING_SECURITY_CONTEXT\", securityContext);\nreturn \"dummyLogin\";\n</code></pre>\n\n<p>The dummy login page(handled by tiles)internally calls a different Request Mapping in the same controller where i am trying to get the Authentication something like this.</p>\n\n<pre><code>SecurityContextHolder.getContext().getAuthentication()\n</code></pre>\n\n<p>Where i am getting null?</p>\n"},{"tags":["java","android","android-activity","splash-screen","recent-screens"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1661101735,"post_id":73436554,"comment_id":129686380,"body_markdown":"Whether or not a system-supplied splash screen appears on Android 12 is up to the OS, not you or I. If you are referring to some splash screen that you are showing manually, you need to handle whether or not to show that yourself.","body":"Whether or not a system-supplied splash screen appears on Android 12 is up to the OS, not you or I. If you are referring to some splash screen that you are showing manually, you need to handle whether or not to show that yourself."},{"owner":{"account_id":410454,"reputation":1257,"user_id":782299,"accept_rate":73,"display_name":"Mahesh"},"score":0,"creation_date":1661339828,"post_id":73436554,"comment_id":129747355,"body_markdown":"can you add some code or details on how you are creating your splashScreen. is it an activity ?","body":"can you add some code or details on how you are creating your splashScreen. is it an activity ?"}],"answers":[{"tags":[],"owner":{"account_id":25932092,"reputation":5,"user_id":19652986,"display_name":"SuperMen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661104430,"creation_date":1661104430,"answer_id":73436941,"question_id":73436554,"body_markdown":"In the manifest, specify for the activity:\r\n```\r\nandroid:noHistory=&quot;true&quot;\r\n```","title":"Avoid Splash Screen to launch when user open app from recent screen","body":"<p>In the manifest, specify for the activity:</p>\n<pre><code>android:noHistory=&quot;true&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23957536,"reputation":87,"user_id":17948179,"display_name":"A.G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661418132,"creation_date":1661418036,"answer_id":73484727,"question_id":73436554,"body_markdown":"I found the solution to my problem.\r\n\r\nThis happens because when I click back button of device, according to\r\n\r\nactivity lifecycle , ondestroyview() will be called. so  when \r\n\r\nI returned from recents screen , app started again.\r\n\r\nwhat I&#39;ve done is that in the next activity which appears after Splash \r\n\r\nScreen , I used onBackPressed like this :\r\n\r\n```\r\n\r\n @Override\r\n    public void onBackPressed() {\r\n             moveTaskToBack(true);\r\n         \r\n    }\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Avoid Splash Screen to launch when user open app from recent screen","body":"<p>I found the solution to my problem.</p>\n<p>This happens because when I click back button of device, according to</p>\n<p>activity lifecycle , ondestroyview() will be called. so  when</p>\n<p>I returned from recents screen , app started again.</p>\n<p>what I've done is that in the next activity which appears after Splash</p>\n<p>Screen , I used onBackPressed like this :</p>\n<pre><code>\n @Override\n    public void onBackPressed() {\n             moveTaskToBack(true);\n         \n    }\n\n</code></pre>\n"}],"owner":{"account_id":23957536,"reputation":87,"user_id":17948179,"display_name":"A.G"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":307,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1661418132,"creation_date":1661101382,"question_id":73436554,"body_markdown":"I wanna know how I can avoid splash screen to launch when my app is in recents.\r\n\r\nI want the app to open the activity where user was in it before  when he/she  clicks back button of device and opens\r\napp from recent screen.\r\n\r\nThis is a splash screen activity :\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n//variables\r\n    private static int SPLASH_SCREEN = 1000;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n\r\n\r\n\r\n        new Handler().postDelayed(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                Intent intent = new Intent(MainActivity.this , Main_Page.class);\r\n                startActivity(intent);\r\n                finish();\r\n            }\r\n        },SPLASH_SCREEN);\r\n\r\n\r\n    }\r\n\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Avoid Splash Screen to launch when user open app from recent screen","body":"<p>I wanna know how I can avoid splash screen to launch when my app is in recents.</p>\n<p>I want the app to open the activity where user was in it before  when he/she  clicks back button of device and opens\napp from recent screen.</p>\n<p>This is a splash screen activity :</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n//variables\n    private static int SPLASH_SCREEN = 1000;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\n\n\n\n        new Handler().postDelayed(new Runnable() {\n            @Override\n            public void run() {\n                Intent intent = new Intent(MainActivity.this , Main_Page.class);\n                startActivity(intent);\n                finish();\n            }\n        },SPLASH_SCREEN);\n\n\n    }\n\n\n</code></pre>\n"},{"tags":["java","string","localdatetime","datetimeformatter"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1597659538,"post_id":63448838,"comment_id":112195488,"body_markdown":"Have you seen that `T` separating the date from the time part in the `dateStr`? Your pattern does not consider it... And in addition, `n` means nanoseconds, but your example `String` contains just 6 *fractions of seconds* wich makes `S` appear more suitable here.","body":"Have you seen that <code>T</code> separating the date from the time part in the <code>dateStr</code>? Your pattern does not consider it... And in addition, <code>n</code> means nanoseconds, but your example <code>String</code> contains just 6 <i>fractions of seconds</i> wich makes <code>S</code> appear more suitable here."},{"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":2,"creation_date":1597659649,"post_id":63448838,"comment_id":112195536,"body_markdown":"The format you&#39;re trying to parse is a standard format provided by Java by the way. You can use `DateTimeFormatter.ISO_LOCAL_DATE_TIME` instead of using your own pattern.","body":"The format you&#39;re trying to parse is a standard format provided by Java by the way. You can use <code>DateTimeFormatter.ISO_LOCAL_DATE_TIME</code> instead of using your own pattern."}],"answers":[{"tags":[],"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597661122,"creation_date":1597659705,"answer_id":63448920,"question_id":63448838,"body_markdown":"For your given DateTime string pattern should be updated `&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.nnnnnn&quot;`.\r\n\r\nSo the code should be like :\r\n\r\n    String dateStr = &quot;2020-08-17T10:11:16.908732&quot;; \r\n    \r\n    DateTimeFormatter format = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.nnnnnn&quot;);\r\n    LocalDateTime dateTime = LocalDateTime.parse(dateStr, format);\r\n\r\nFor more details around it you can refer [JavaDoc][1].\r\n\r\n\r\nAlong that in your given input DateTime it&#39;s using 6 digits, so it can&#39;t be nano seconds. Because nano is 1/1000000000. So it will have at least 9 digits. So the correct format rather should be second fraction with 6 digits as &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSSSS&quot;.\r\n\r\n***End Results comparison:***\r\n\r\n**With Pattern : &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.nnnnnn&quot;**\r\n\r\n    System.out.println(LocalDateTime.parse(&quot;2020-08-17T10:11:16.908732&quot;, DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.nnnnnn&quot;)));\r\n\r\n&gt; **Output** : 2020-08-7T10:11:16.000908732\r\n\r\n**With Pattern : &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSSSS&quot;**\r\n\r\n    System.out.println(LocalDateTime.parse(&quot;2020-08-17T10:11:16.908732&quot;, DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSSSS&quot;)));\r\n\r\n&gt; **Output** : 2020-08-7T10:11:16.908732\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_LOCAL_DATE_TIME","title":"Convert String to LocalDateTime Java 8","body":"<p>For your given DateTime string pattern should be updated <code>&quot;yyyy-MM-dd'T'HH:mm:ss.nnnnnn&quot;</code>.</p>\n<p>So the code should be like :</p>\n<pre><code>String dateStr = &quot;2020-08-17T10:11:16.908732&quot;; \n\nDateTimeFormatter format = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss.nnnnnn&quot;);\nLocalDateTime dateTime = LocalDateTime.parse(dateStr, format);\n</code></pre>\n<p>For more details around it you can refer <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_LOCAL_DATE_TIME\" rel=\"nofollow noreferrer\">JavaDoc</a>.</p>\n<p>Along that in your given input DateTime it's using 6 digits, so it can't be nano seconds. Because nano is 1/1000000000. So it will have at least 9 digits. So the correct format rather should be second fraction with 6 digits as &quot;yyyy-MM-dd'T'HH:mm:ss.SSSSSS&quot;.</p>\n<p><em><strong>End Results comparison:</strong></em></p>\n<p><strong>With Pattern : &quot;yyyy-MM-dd'T'HH:mm:ss.nnnnnn&quot;</strong></p>\n<pre><code>System.out.println(LocalDateTime.parse(&quot;2020-08-17T10:11:16.908732&quot;, DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss.nnnnnn&quot;)));\n</code></pre>\n<blockquote>\n<p><strong>Output</strong> : 2020-08-7T10:11:16.000908732</p>\n</blockquote>\n<p><strong>With Pattern : &quot;yyyy-MM-dd'T'HH:mm:ss.SSSSSS&quot;</strong></p>\n<pre><code>System.out.println(LocalDateTime.parse(&quot;2020-08-17T10:11:16.908732&quot;, DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss.SSSSSS&quot;)));\n</code></pre>\n<blockquote>\n<p><strong>Output</strong> : 2020-08-7T10:11:16.908732</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1661417987,"creation_date":1597660379,"answer_id":63449093,"question_id":63448838,"body_markdown":"You don&#39;t need to specify a `DateTimeFormatter` in this case because the default one will be used if you don&#39;t pass one at all:\r\n```Java\r\npublic static void main(String[] args) {\r\n\tString dateStr = &quot;2020-08-17T10:11:16.908732&quot;;\r\n    // the following uses the DateTimeFormatter.ISO_LOCAL_DATE_TIME implicitly\r\n\tLocalDateTime dateTime = LocalDateTime.parse(dateStr);\r\n\tSystem.out.println(dateTime);\r\n}\r\n```\r\n\r\nThat code will output `2020-08-17T10:11:16.908732`.\r\n\r\nIf you are insisting on using a custom `DateTimeFormatter`, consider the `T` by single-quoting it in the pattern and don&#39;t use nanosecond parsing (`n`) for parsing fractions of second (`S`), the result might be wrong otherwise.\r\n\r\nDo it like this:\r\n\r\n```Java\r\npublic static void main(String[] args) {\r\n\tString dateStr = &quot;2020-08-17T10:11:16.908732&quot;; \r\n\tDateTimeFormatter format = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSSSS&quot;);\r\n\tLocalDateTime dateTime = LocalDateTime.parse(dateStr, format);\r\n\tSystem.out.println(dateTime);\r\n}\r\n```\r\n\r\nwith the same output as above.\r\n\r\n**Note:**  \r\nThe result of using the pattern `&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.nnnnnn&quot;` would not be equal to the parsed `String`, instead, it would be\r\n\r\n```lang-none\r\n2020-08-17T10:11:16.000908732\r\n```","title":"Convert String to LocalDateTime Java 8","body":"<p>You don't need to specify a <code>DateTimeFormatter</code> in this case because the default one will be used if you don't pass one at all:</p>\n<pre><code>public static void main(String[] args) {\n    String dateStr = &quot;2020-08-17T10:11:16.908732&quot;;\n    // the following uses the DateTimeFormatter.ISO_LOCAL_DATE_TIME implicitly\n    LocalDateTime dateTime = LocalDateTime.parse(dateStr);\n    System.out.println(dateTime);\n}\n</code></pre>\n<p>That code will output <code>2020-08-17T10:11:16.908732</code>.</p>\n<p>If you are insisting on using a custom <code>DateTimeFormatter</code>, consider the <code>T</code> by single-quoting it in the pattern and don't use nanosecond parsing (<code>n</code>) for parsing fractions of second (<code>S</code>), the result might be wrong otherwise.</p>\n<p>Do it like this:</p>\n<pre><code>public static void main(String[] args) {\n    String dateStr = &quot;2020-08-17T10:11:16.908732&quot;; \n    DateTimeFormatter format = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss.SSSSSS&quot;);\n    LocalDateTime dateTime = LocalDateTime.parse(dateStr, format);\n    System.out.println(dateTime);\n}\n</code></pre>\n<p>with the same output as above.</p>\n<p><strong>Note:</strong><br />\nThe result of using the pattern <code>&quot;yyyy-MM-dd'T'HH:mm:ss.nnnnnn&quot;</code> would not be equal to the parsed <code>String</code>, instead, it would be</p>\n<pre class=\"lang-none prettyprint-override\"><code>2020-08-17T10:11:16.000908732\n</code></pre>\n"}],"owner":{"account_id":13229912,"reputation":151,"user_id":9553882,"display_name":"R111"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9792,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63449093,"answer_count":2,"score":1,"last_activity_date":1661417987,"creation_date":1597659407,"question_id":63448838,"body_markdown":"I&#39;m trying to convert the following String into a LocalDateTime:\r\n\r\n    String dateStr = &quot;2020-08-17T10:11:16.908732&quot;; \r\n    \r\n    DateTimeFormatter format = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.nnnnnn&quot;);\r\n    LocalDateTime dateTime = LocalDateTime.parse(dateStr, format);\r\n\r\nBut I&#39;m hitting the following error:\r\n\r\n    java.time.format.DateTimeParseException: Text &#39;2020-08-17T10:11:16.908732&#39; could not be parsed at index 10\r\n    \tat java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:1949)\r\n    \tat java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1851)\r\n    \tat java.time.LocalDateTime.parse(LocalDateTime.java:492)\r\n\r\nCan anyone please help to advise how I should be correctly formatting the string into a LocalDateTime?\r\n\r\nMany thanks","title":"Convert String to LocalDateTime Java 8","body":"<p>I'm trying to convert the following String into a LocalDateTime:</p>\n<pre><code>String dateStr = &quot;2020-08-17T10:11:16.908732&quot;; \n\nDateTimeFormatter format = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.nnnnnn&quot;);\nLocalDateTime dateTime = LocalDateTime.parse(dateStr, format);\n</code></pre>\n<p>But I'm hitting the following error:</p>\n<pre><code>java.time.format.DateTimeParseException: Text '2020-08-17T10:11:16.908732' could not be parsed at index 10\n    at java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:1949)\n    at java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1851)\n    at java.time.LocalDateTime.parse(LocalDateTime.java:492)\n</code></pre>\n<p>Can anyone please help to advise how I should be correctly formatting the string into a LocalDateTime?</p>\n<p>Many thanks</p>\n"},{"tags":["java","android","google-play-services"],"answers":[{"tags":[],"owner":{"account_id":25554374,"reputation":11,"user_id":19338198,"display_name":"Pavol Švančarek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661417945,"creation_date":1661417924,"answer_id":73484697,"question_id":68127619,"body_markdown":"only thing I can think of is to restart gps receiver after not getting location for some time / start vibrating phone so user know and can restart his phone / try to register more providers not only gms. Try fused, classic GPS/network location listener.. if all of them send broadcast to some class and that class wait few seconds then prioritize the best one of those you got in time it would be great! I tried this, it worked but i need to have accuracy like 3 meters.. :D so not possible for me ","title":"Android location stops updating location after some time","body":"<p>only thing I can think of is to restart gps receiver after not getting location for some time / start vibrating phone so user know and can restart his phone / try to register more providers not only gms. Try fused, classic GPS/network location listener.. if all of them send broadcast to some class and that class wait few seconds then prioritize the best one of those you got in time it would be great! I tried this, it worked but i need to have accuracy like 3 meters.. :D so not possible for me</p>\n"}],"owner":{"account_id":1317888,"reputation":7461,"user_id":1264375,"accept_rate":53,"display_name":"Makalele"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661417945,"creation_date":1624608469,"question_id":68127619,"body_markdown":"I have an app, which main feature is to track user&#39;s workouts. GPS location was working OK for past few years until this month, when strange issue appeared. \r\n\r\nSome people (not all), using different devices and android versions experience strange behaviour of gps location. Suddenly, after at least few minutes (sometimes few hours) onLocationChanged stops being fired. Sometimes it&#39;s working fine, then next day user has this issue again. \r\n\r\nUser has to start a new workout to get it back to work. Also, in the app logs I found out that \r\n\r\n```onConnectionSuspended```\r\n\r\nis called with cause = 1 (CAUSE_SERVICE_DISCONNECTED). \r\n\r\nAccording to the documentation, lost connection should automatically reconnect, but it doesn&#39;t thus causing the described issue.\r\n\r\nIn order to fix that issue, I&#39;ve created an internal timer (runnable), which checks when was the last time that location was updated. If it&#39;s more than, let&#39;s say, 2 minutes, it reconnects everything like this:\r\n\r\n```\r\nmGoogleApiClient.disconnect();\r\nmGoogleApiClient.connect();\r\nstartLocationUpdates(); //calls requestLocationUpdates\r\n```\r\n\r\nIt seems to be working, at least on one&#39;s of our test user devices. Seems like a small hack to me, so let me ask you: have you experienced similar issue and do you have a better way to solve it?\r\n\r\nBy the way, I&#39;m using:\r\n\r\n```\r\ncom.google.android.gms:play-services-location:18.0.0\r\n```","title":"Android location stops updating location after some time","body":"<p>I have an app, which main feature is to track user's workouts. GPS location was working OK for past few years until this month, when strange issue appeared.</p>\n<p>Some people (not all), using different devices and android versions experience strange behaviour of gps location. Suddenly, after at least few minutes (sometimes few hours) onLocationChanged stops being fired. Sometimes it's working fine, then next day user has this issue again.</p>\n<p>User has to start a new workout to get it back to work. Also, in the app logs I found out that</p>\n<p><code>onConnectionSuspended</code></p>\n<p>is called with cause = 1 (CAUSE_SERVICE_DISCONNECTED).</p>\n<p>According to the documentation, lost connection should automatically reconnect, but it doesn't thus causing the described issue.</p>\n<p>In order to fix that issue, I've created an internal timer (runnable), which checks when was the last time that location was updated. If it's more than, let's say, 2 minutes, it reconnects everything like this:</p>\n<pre><code>mGoogleApiClient.disconnect();\nmGoogleApiClient.connect();\nstartLocationUpdates(); //calls requestLocationUpdates\n</code></pre>\n<p>It seems to be working, at least on one's of our test user devices. Seems like a small hack to me, so let me ask you: have you experienced similar issue and do you have a better way to solve it?</p>\n<p>By the way, I'm using:</p>\n<pre><code>com.google.android.gms:play-services-location:18.0.0\n</code></pre>\n"},{"tags":["java","jar","directory","executable-jar"],"comments":[{"owner":{"account_id":35585,"reputation":7037,"user_id":100836,"accept_rate":100,"display_name":"Zaki"},"score":0,"creation_date":1280300667,"post_id":3350545,"comment_id":3478220,"body_markdown":"you had .java files in the jar?","body":"you had .java files in the jar?"},{"owner":{"account_id":3439651,"reputation":1114,"user_id":2881888,"display_name":"Louis Caron"},"score":0,"creation_date":1661438293,"post_id":3350545,"comment_id":129777373,"body_markdown":"this is a duplicate of https://stackoverflow.com/q/6604097/2881888","body":"this is a duplicate of <a href=\"https://stackoverflow.com/q/6604097/2881888\">stackoverflow.com/q/6604097/2881888</a>"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1280302383,"creation_date":1280300311,"answer_id":3350563,"question_id":3350545,"body_markdown":"Jar files aren&#39;t &quot;compiled&quot; in the normal sense of the word. But you just create one with the `jar` command:\r\n\r\n    jar cvf myfile.jar file1 file2 etc\r\n\r\nYou can use globbing as normal:\r\n\r\n    jar cvf ../myfile.jar *\r\n\r\nRun `jar -?` or read the [docs][1] for more information.\r\n\r\nNote that for an executable jar file, you&#39;ll need to specify the manifest file as well.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/technotes/tools/solaris/jar.html","title":"How do you recompile a jar file?","body":"<p>Jar files aren't \"compiled\" in the normal sense of the word. But you just create one with the <code>jar</code> command:</p>\n\n<pre><code>jar cvf myfile.jar file1 file2 etc\n</code></pre>\n\n<p>You can use globbing as normal:</p>\n\n<pre><code>jar cvf ../myfile.jar *\n</code></pre>\n\n<p>Run <code>jar -?</code> or read the <a href=\"http://java.sun.com/javase/6/docs/technotes/tools/solaris/jar.html\" rel=\"noreferrer\">docs</a> for more information.</p>\n\n<p>Note that for an executable jar file, you'll need to specify the manifest file as well.</p>\n"},{"tags":[],"owner":{"account_id":87016,"reputation":68348,"user_id":241590,"accept_rate":99,"display_name":"stacker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1280300517,"creation_date":1280300517,"answer_id":3350581,"question_id":3350545,"body_markdown":"Jar files usually contain compiled java files (class-files) and resources.\r\nIf you are allowed to make changes on this jar, you could disassemble the class files using [JAD](http://www.varaneckas.com/jad) and after recompilation assemble them again with the command [jar](http://download-llnw.oracle.com/javase/1.4.2/docs/tooldocs/windows/jar.html)\r\n\r\nHow did you edit a jar file, hex editor?","title":"How do you recompile a jar file?","body":"<p>Jar files usually contain compiled java files (class-files) and resources.\nIf you are allowed to make changes on this jar, you could disassemble the class files using <a href=\"http://www.varaneckas.com/jad\" rel=\"nofollow noreferrer\">JAD</a> and after recompilation assemble them again with the command <a href=\"http://download-llnw.oracle.com/javase/1.4.2/docs/tooldocs/windows/jar.html\" rel=\"nofollow noreferrer\">jar</a></p>\n\n<p>How did you edit a jar file, hex editor?</p>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1280304841,"creation_date":1280304841,"answer_id":3351020,"question_id":3350545,"body_markdown":"A jar file is just a zip file with a few extra files. You Can use any zip utility to rejar an unjarred jar file. ","title":"How do you recompile a jar file?","body":"<p>A jar file is just a zip file with a few extra files. You Can use any zip utility to rejar an unjarred jar file. </p>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1280305123,"creation_date":1280305123,"answer_id":3351045,"question_id":3350545,"body_markdown":"How did you edit it?\r\n\r\nAnyway, `jar` files follow the same format as regular `zip` files. If you want to update the content of the jar ( probably with a new file ) you could do:\r\n\r\n\r\n    jar -uf yourJar.jar  path/to/updated/Class.class \r\n\r\nThat would update your jar with the file `path/to/updated/Class.class` If there&#39;s already a class with that name in that path, it would be replaced. If is not it would be created. \r\n\r\n\r\nAfter this your jar is up to date. ","title":"How do you recompile a jar file?","body":"<p>How did you edit it?</p>\n\n<p>Anyway, <code>jar</code> files follow the same format as regular <code>zip</code> files. If you want to update the content of the jar ( probably with a new file ) you could do:</p>\n\n<pre><code>jar -uf yourJar.jar  path/to/updated/Class.class \n</code></pre>\n\n<p>That would update your jar with the file <code>path/to/updated/Class.class</code> If there's already a class with that name in that path, it would be replaced. If is not it would be created. </p>\n\n<p>After this your jar is up to date. </p>\n"}],"owner":{"account_id":638894,"reputation":61,"user_id":404197,"display_name":"Kyle"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44779,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1661417818,"creation_date":1280300116,"question_id":3350545,"body_markdown":"I took an old jar file and edited it. Now i have a folder that has all the files and I want to recompile them back to a jar file. How do i do this?","title":"How do you recompile a jar file?","body":"<p>I took an old jar file and edited it. Now i have a folder that has all the files and I want to recompile them back to a jar file. How do i do this?</p>\n"},{"tags":["java","gradle","executable-jar","gradle-plugin","fatjar"],"comments":[{"owner":{"account_id":11726648,"reputation":19533,"user_id":8583692,"display_name":"Mahozad"},"score":0,"creation_date":1645204206,"post_id":49278063,"comment_id":125817363,"body_markdown":"Does this answer your question? [Creating runnable JAR with Gradle](https://stackoverflow.com/questions/21721119/creating-runnable-jar-with-gradle)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/21721119/creating-runnable-jar-with-gradle\">Creating runnable JAR with Gradle</a>"}],"answers":[{"tags":[],"owner":{"account_id":6764799,"reputation":7550,"user_id":5210117,"display_name":"miskender"},"down_vote_count":2,"up_vote_count":129,"is_accepted":true,"score":127,"last_activity_date":1552942765,"creation_date":1521049285,"answer_id":49284432,"question_id":49278063,"body_markdown":"You can use the following code.\r\n\r\n    jar {\r\n        manifest {\r\n            attributes(\r\n                    &#39;Main-Class&#39;: &#39;com.package.YourClass&#39;\r\n            )\r\n        }\r\n    \tfrom {\r\n    \t    configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\r\n    \t}\r\n     }\r\n\r\nBe sure to replace `com.package.YourClass` with the fully qualified class name containing `static void main( String args[] )`.\r\n\r\nThis will pack the runtime dependencies.  Check the [docs][1] if you need more info. \r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/java_library_plugin.html#sec:java_library_configurations_graph","title":"How do I create an executable fat JAR with Gradle with implementation dependencies?","body":"<p>You can use the following code.</p>\n\n<pre><code>jar {\n    manifest {\n        attributes(\n                'Main-Class': 'com.package.YourClass'\n        )\n    }\n    from {\n        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\n    }\n }\n</code></pre>\n\n<p>Be sure to replace <code>com.package.YourClass</code> with the fully qualified class name containing <code>static void main( String args[] )</code>.</p>\n\n<p>This will pack the runtime dependencies.  Check the <a href=\"https://docs.gradle.org/current/userguide/java_library_plugin.html#sec:java_library_configurations_graph\" rel=\"noreferrer\">docs</a> if you need more info. </p>\n"},{"tags":[],"owner":{"account_id":1677047,"reputation":5886,"user_id":1542319,"accept_rate":100,"display_name":"Sergey Tselovalnikov"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1629366919,"creation_date":1561206882,"answer_id":56715540,"question_id":49278063,"body_markdown":"The same task can be achieved using [Gradle Kotlin DSL][1] in a similar way:\r\n```kotlin\r\nval jar by tasks.getting(Jar::class) {\r\n    manifest {\r\n        attributes[&quot;Main-Class&quot;] = &quot;com.package.YourClass&quot;\r\n    }\r\n\r\n    from(configurations\r\n        .runtime\r\n        // .get() // uncomment this on Gradle 6+\r\n        // .files\r\n        .map { if (it.isDirectory) it else zipTree(it) })\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/kotlin_dsl.html","title":"How do I create an executable fat JAR with Gradle with implementation dependencies?","body":"<p>The same task can be achieved using <a href=\"https://docs.gradle.org/current/userguide/kotlin_dsl.html\" rel=\"noreferrer\">Gradle Kotlin DSL</a> in a similar way:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val jar by tasks.getting(Jar::class) {\n    manifest {\n        attributes[&quot;Main-Class&quot;] = &quot;com.package.YourClass&quot;\n    }\n\n    from(configurations\n        .runtime\n        // .get() // uncomment this on Gradle 6+\n        // .files\n        .map { if (it.isDirectory) it else zipTree(it) })\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1868856,"reputation":1929,"user_id":1691651,"display_name":"JohnP2"},"down_vote_count":1,"up_vote_count":32,"is_accepted":false,"score":31,"last_activity_date":1636742816,"creation_date":1586820113,"answer_id":61198352,"question_id":49278063,"body_markdown":"Based on the accepted answer, I needed to add one more line of code:\r\n\r\n    task fatJar(type: Jar) {\r\n      manifest {\r\n        attributes &#39;Main-Class&#39;: &#39;com.yourpackage.Main&#39;\r\n      }\r\n      archiveClassifier = &quot;all&quot;\r\n      from {\r\n        configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }\r\n        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\r\n        }\r\n      with jar\r\n    }\r\n\r\nWithout this additional line, it omitted my source files and only added the dependencies:\r\n\r\n    configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }\r\n\r\nFor newer gradle (7+), you may see this error:\r\n\r\n```\r\nExecution failed for task &#39;:fatJar&#39;.\r\n&gt; Entry [some entry here] is a duplicate but no duplicate handling strategy has been set. Please \r\nrefer to https://docs.gradle.org/7.1/dsl/org.gradle.api.tasks.Copy.html#org.gradle.api.tasks.Copy:duplicatesStrategy\r\n for details.\r\n```\r\n\r\nIf this happens add a `duplicatesStrategy` such as `duplicatesStrategy &quot;exclude&quot;` to the `fatJar` task.\r\n\r\nAnd likewise, for Gradle 7+, you have to just remove the `configuration.compile.collect` line because it is no longer a valid configuration in this version of gradle.","title":"How do I create an executable fat JAR with Gradle with implementation dependencies?","body":"<p>Based on the accepted answer, I needed to add one more line of code:</p>\n<pre><code>task fatJar(type: Jar) {\n  manifest {\n    attributes 'Main-Class': 'com.yourpackage.Main'\n  }\n  archiveClassifier = &quot;all&quot;\n  from {\n    configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }\n    configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\n    }\n  with jar\n}\n</code></pre>\n<p>Without this additional line, it omitted my source files and only added the dependencies:</p>\n<pre><code>configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }\n</code></pre>\n<p>For newer gradle (7+), you may see this error:</p>\n<pre><code>Execution failed for task ':fatJar'.\n&gt; Entry [some entry here] is a duplicate but no duplicate handling strategy has been set. Please \nrefer to https://docs.gradle.org/7.1/dsl/org.gradle.api.tasks.Copy.html#org.gradle.api.tasks.Copy:duplicatesStrategy\n for details.\n</code></pre>\n<p>If this happens add a <code>duplicatesStrategy</code> such as <code>duplicatesStrategy &quot;exclude&quot;</code> to the <code>fatJar</code> task.</p>\n<p>And likewise, for Gradle 7+, you have to just remove the <code>configuration.compile.collect</code> line because it is no longer a valid configuration in this version of gradle.</p>\n"},{"tags":[],"owner":{"account_id":455161,"reputation":1236,"user_id":853191,"accept_rate":25,"display_name":"LiuWenbin_NO."},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1589172447,"creation_date":1589172447,"answer_id":61722467,"question_id":49278063,"body_markdown":"`from { configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) } }`\r\n\r\nThis line is essential to me.","title":"How do I create an executable fat JAR with Gradle with implementation dependencies?","body":"<p><code>from { configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) } }</code></p>\n\n<p>This line is essential to me.</p>\n"},{"tags":[],"owner":{"account_id":3006498,"reputation":1368,"user_id":2550940,"accept_rate":0,"display_name":"gunslingor"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1597016847,"creation_date":1597016847,"answer_id":63332420,"question_id":49278063,"body_markdown":"Kotlin 1.3.72 &amp; JVM plugin, Gradle 6.5.1\r\n\r\nSyntax is changing quickly in all these platforms\r\n\r\n    tasks {\r\n        compileKotlin {\r\n            kotlinOptions.jvmTarget = &quot;1.8&quot;\r\n        }\r\n        compileTestKotlin {\r\n            kotlinOptions.jvmTarget = &quot;1.8&quot;\r\n        }\r\n        val main = sourceSets.main.get()\r\n        //TODO\r\n        register&lt;Jar&gt;(&quot;buildFatJar&quot;) {\r\n            group = &quot;app-backend&quot;\r\n            dependsOn(build)\r\n            // shouldRunAfter(parent!!.tasks[&quot;prepCopyJsBundleToKtor&quot;]) -&gt; This is for incorporating KotlinJS gradle subproject resulting js file.\r\n            manifest {\r\n                attributes[&quot;Main-Class&quot;] = &quot;com.app.app.BackendAppKt&quot;\r\n            }\r\n    \r\n            from(configurations.compileClasspath.get().files.map { if (it.isDirectory) it else zipTree(it) })\r\n            with(jar.get() as CopySpec)\r\n            archiveBaseName.set(&quot;${project.name}-fat&quot;)\r\n        }\r\n    }","title":"How do I create an executable fat JAR with Gradle with implementation dependencies?","body":"<p>Kotlin 1.3.72 &amp; JVM plugin, Gradle 6.5.1</p>\n<p>Syntax is changing quickly in all these platforms</p>\n<pre><code>tasks {\n    compileKotlin {\n        kotlinOptions.jvmTarget = &quot;1.8&quot;\n    }\n    compileTestKotlin {\n        kotlinOptions.jvmTarget = &quot;1.8&quot;\n    }\n    val main = sourceSets.main.get()\n    //TODO\n    register&lt;Jar&gt;(&quot;buildFatJar&quot;) {\n        group = &quot;app-backend&quot;\n        dependsOn(build)\n        // shouldRunAfter(parent!!.tasks[&quot;prepCopyJsBundleToKtor&quot;]) -&gt; This is for incorporating KotlinJS gradle subproject resulting js file.\n        manifest {\n            attributes[&quot;Main-Class&quot;] = &quot;com.app.app.BackendAppKt&quot;\n        }\n\n        from(configurations.compileClasspath.get().files.map { if (it.isDirectory) it else zipTree(it) })\n        with(jar.get() as CopySpec)\n        archiveBaseName.set(&quot;${project.name}-fat&quot;)\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10127476,"reputation":987,"user_id":7482210,"display_name":"soloturn"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1644690625,"creation_date":1644690625,"answer_id":71094727,"question_id":49278063,"body_markdown":"previous answers are a little outdated nowadays, see here for something working with gradle-7.4:\r\nhttps://stackoverflow.com/questions/41794914/how-to-create-a-fat-jar-with-gradle-kotlin-script\r\n\r\n    tasks.jar {\r\n        manifest.attributes[&quot;Main-Class&quot;] = &quot;com.example.MyMainClass&quot;\r\n        val dependencies = configurations\r\n            .runtimeClasspath\r\n            .get()\r\n            .map(::zipTree) // OR .map { zipTree(it) }\r\n        from(dependencies)\r\n        duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n    }\r\n\r\n","title":"How do I create an executable fat JAR with Gradle with implementation dependencies?","body":"<p>previous answers are a little outdated nowadays, see here for something working with gradle-7.4:\n<a href=\"https://stackoverflow.com/questions/41794914/how-to-create-a-fat-jar-with-gradle-kotlin-script\">How to create a fat JAR with Gradle Kotlin script?</a></p>\n<pre><code>tasks.jar {\n    manifest.attributes[&quot;Main-Class&quot;] = &quot;com.example.MyMainClass&quot;\n    val dependencies = configurations\n        .runtimeClasspath\n        .get()\n        .map(::zipTree) // OR .map { zipTree(it) }\n    from(dependencies)\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11726648,"reputation":19533,"user_id":8583692,"display_name":"Mahozad"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1651650973,"creation_date":1645204078,"answer_id":71177335,"question_id":49278063,"body_markdown":"Here I provide solutions for [Kotlin DSL][1] (build.gradle.kts).  \r\nNote that the first 3 methods modify the existing `Jar` task of Gradle.\r\n\r\n### Method 1: Placing library files beside the result JAR\r\nThis method does not need `application` or any other plugins.\r\n\r\n```kotlin\r\ntasks.jar {\r\n    manifest.attributes[&quot;Main-Class&quot;] = &quot;com.example.MyMainClass&quot;\r\n    manifest.attributes[&quot;Class-Path&quot;] = configurations\r\n        .runtimeClasspath\r\n        .get()\r\n        .joinToString(separator = &quot; &quot;) { file -&gt;\r\n            &quot;libs/${file.name}&quot;\r\n        }\r\n}\r\n```\r\n\r\nNote that Java requires us to use relative URLs for the `Class-Path` attribute. So, we cannot use the absolute path of Gradle dependencies (which is also prone to being changed and not available on other systems). If you want to use absolute paths, maybe [this workaround][2] will work.\r\n\r\nCreate the JAR with the following command:\r\n\r\n```shell\r\n./gradlew jar\r\n```\r\n\r\nThe result JAR will be created in *build/libs/* directory by default.\r\n\r\nAfter creating your JAR, copy your library JARs in *libs/* sub-directory of where you put your result JAR. Make sure your library JAR files do not contain space in their file name (their file name should match the one specified by `${file.name}` variable above in the task).\r\n\r\n### Method 2: Embedding the libraries in the result JAR (fat or uber JAR)\r\n\r\nThis method too does not need any Gradle plugin.\r\n\r\n```kotlin\r\ntasks.jar {\r\n    manifest.attributes[&quot;Main-Class&quot;] = &quot;com.example.MyMainClass&quot;\r\n    val dependencies = configurations\r\n        .runtimeClasspath\r\n        .get()\r\n        .map(::zipTree) // OR .map { zipTree(it) }\r\n    from(dependencies)\r\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n}\r\n```\r\n\r\nCreating the JAR is exactly the same as the previous method.\r\n\r\n### Method 3: Using the [Shadow plugin][3] (to create a fat or uber JAR)\r\n\r\n```kotlin\r\nplugins {\r\n    id(&quot;com.github.johnrengelman.shadow&quot;) version &quot;6.0.0&quot;\r\n}\r\n// Shadow task depends on Jar task, so these configs are reflected for Shadow as well\r\ntasks.jar {\r\n    manifest.attributes[&quot;Main-Class&quot;] = &quot;org.example.MainKt&quot;\r\n}\r\n```\r\n\r\nCreate the JAR with this command:\r\n\r\n```shell\r\n./gradlew shadowJar\r\n```\r\n\r\nSee [Shadow documentations][4] for more information about configuring the plugin.\r\n\r\n### Method 4: Creating a new task (instead of modifying the `Jar` task)\r\n\r\n```kotlin\r\ntasks.create(&quot;MyFatJar&quot;, Jar::class) {\r\n    group = &quot;my tasks&quot; // OR, for example, &quot;build&quot;\r\n    description = &quot;Creates a self-contained fat JAR of the application that can be run.&quot;\r\n    manifest.attributes[&quot;Main-Class&quot;] = &quot;com.example.MyMainClass&quot;\r\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n    val dependencies = configurations\r\n        .runtimeClasspath\r\n        .get()\r\n        .map(::zipTree)\r\n    from(dependencies)\r\n    with(tasks.jar.get())\r\n}\r\n```\r\n\r\n# Running the created JAR\r\n\r\n```shell\r\njava -jar my-artifact.jar\r\n```\r\n\r\nThe above solutions were tested with:\r\n  - Java 17\r\n  - Gradle 7.1 (which uses Kotlin 1.4.31 for *.kts* build scripts)\r\n\r\nSee the official [Gradle documentation for creating uber (fat) JARs][5].\r\n\r\nFor more information about manifests, see [Oracle Java Documentation: Working with Manifest files](https://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html).\r\n\r\nFor difference between `tasks.create()` and `tasks.register()` see [this post](https://stackoverflow.com/a/53654412/8583692).\r\n\r\nNote that your [resource files will be included in the JAR file automatically][6] (assuming they were placed in */src/main/resources/* directory or any custom directory set as resources root in the build file). To access a resource file in your application, use this code (note the `/` at the start of names):\r\n\r\n  - Kotlin\r\n    ```kotlin\r\n    val vegetables = MyClass::class.java.getResource(&quot;/vegetables.txt&quot;).readText()\r\n    // Alternative ways:\r\n    // val vegetables = object{}.javaClass.getResource(&quot;/vegetables.txt&quot;).readText()\r\n    // val vegetables = MyClass::class.java.getResourceAsStream(&quot;/vegetables.txt&quot;).reader().readText()\r\n    // val vegetables = object{}.javaClass.getResourceAsStream(&quot;/vegetables.txt&quot;).reader().readText()\r\n    ```\r\n  - Java\r\n    ```java\r\n    var stream = MyClass.class.getResource(&quot;/vegetables.txt&quot;).openStream();\r\n    // OR var stream = MyClass.class.getResourceAsStream(&quot;/vegetables.txt&quot;);\r\n\r\n    var reader = new BufferedReader(new InputStreamReader(stream));\r\n    var vegetables = reader.lines().collect(Collectors.joining(&quot;\\n&quot;));\r\n    ```\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/kotlin_dsl.html\r\n  [2]: https://stackoverflow.com/q/47961942/8583692\r\n  [3]: https://github.com/johnrengelman/shadow\r\n  [4]: https://imperceptiblethoughts.com/shadow/configuration/#configuring-the-jar-manifest\r\n  [5]: https://docs.gradle.org/current/userguide/working_with_files.html#sec:creating_uber_jar_example\r\n  [6]: https://stackoverflow.com/q/24724383/8583692","title":"How do I create an executable fat JAR with Gradle with implementation dependencies?","body":"<p>Here I provide solutions for <a href=\"https://docs.gradle.org/current/userguide/kotlin_dsl.html\" rel=\"nofollow noreferrer\">Kotlin DSL</a> (build.gradle.kts).<br />\nNote that the first 3 methods modify the existing <code>Jar</code> task of Gradle.</p>\n<h3>Method 1: Placing library files beside the result JAR</h3>\n<p>This method does not need <code>application</code> or any other plugins.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>tasks.jar {\n    manifest.attributes[&quot;Main-Class&quot;] = &quot;com.example.MyMainClass&quot;\n    manifest.attributes[&quot;Class-Path&quot;] = configurations\n        .runtimeClasspath\n        .get()\n        .joinToString(separator = &quot; &quot;) { file -&gt;\n            &quot;libs/${file.name}&quot;\n        }\n}\n</code></pre>\n<p>Note that Java requires us to use relative URLs for the <code>Class-Path</code> attribute. So, we cannot use the absolute path of Gradle dependencies (which is also prone to being changed and not available on other systems). If you want to use absolute paths, maybe <a href=\"https://stackoverflow.com/q/47961942/8583692\">this workaround</a> will work.</p>\n<p>Create the JAR with the following command:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>./gradlew jar\n</code></pre>\n<p>The result JAR will be created in <em>build/libs/</em> directory by default.</p>\n<p>After creating your JAR, copy your library JARs in <em>libs/</em> sub-directory of where you put your result JAR. Make sure your library JAR files do not contain space in their file name (their file name should match the one specified by <code>${file.name}</code> variable above in the task).</p>\n<h3>Method 2: Embedding the libraries in the result JAR (fat or uber JAR)</h3>\n<p>This method too does not need any Gradle plugin.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>tasks.jar {\n    manifest.attributes[&quot;Main-Class&quot;] = &quot;com.example.MyMainClass&quot;\n    val dependencies = configurations\n        .runtimeClasspath\n        .get()\n        .map(::zipTree) // OR .map { zipTree(it) }\n    from(dependencies)\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n}\n</code></pre>\n<p>Creating the JAR is exactly the same as the previous method.</p>\n<h3>Method 3: Using the <a href=\"https://github.com/johnrengelman/shadow\" rel=\"nofollow noreferrer\">Shadow plugin</a> (to create a fat or uber JAR)</h3>\n<pre class=\"lang-kotlin prettyprint-override\"><code>plugins {\n    id(&quot;com.github.johnrengelman.shadow&quot;) version &quot;6.0.0&quot;\n}\n// Shadow task depends on Jar task, so these configs are reflected for Shadow as well\ntasks.jar {\n    manifest.attributes[&quot;Main-Class&quot;] = &quot;org.example.MainKt&quot;\n}\n</code></pre>\n<p>Create the JAR with this command:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>./gradlew shadowJar\n</code></pre>\n<p>See <a href=\"https://imperceptiblethoughts.com/shadow/configuration/#configuring-the-jar-manifest\" rel=\"nofollow noreferrer\">Shadow documentations</a> for more information about configuring the plugin.</p>\n<h3>Method 4: Creating a new task (instead of modifying the <code>Jar</code> task)</h3>\n<pre class=\"lang-kotlin prettyprint-override\"><code>tasks.create(&quot;MyFatJar&quot;, Jar::class) {\n    group = &quot;my tasks&quot; // OR, for example, &quot;build&quot;\n    description = &quot;Creates a self-contained fat JAR of the application that can be run.&quot;\n    manifest.attributes[&quot;Main-Class&quot;] = &quot;com.example.MyMainClass&quot;\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n    val dependencies = configurations\n        .runtimeClasspath\n        .get()\n        .map(::zipTree)\n    from(dependencies)\n    with(tasks.jar.get())\n}\n</code></pre>\n<h1>Running the created JAR</h1>\n<pre class=\"lang-sh prettyprint-override\"><code>java -jar my-artifact.jar\n</code></pre>\n<p>The above solutions were tested with:</p>\n<ul>\n<li>Java 17</li>\n<li>Gradle 7.1 (which uses Kotlin 1.4.31 for <em>.kts</em> build scripts)</li>\n</ul>\n<p>See the official <a href=\"https://docs.gradle.org/current/userguide/working_with_files.html#sec:creating_uber_jar_example\" rel=\"nofollow noreferrer\">Gradle documentation for creating uber (fat) JARs</a>.</p>\n<p>For more information about manifests, see <a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html\" rel=\"nofollow noreferrer\">Oracle Java Documentation: Working with Manifest files</a>.</p>\n<p>For difference between <code>tasks.create()</code> and <code>tasks.register()</code> see <a href=\"https://stackoverflow.com/a/53654412/8583692\">this post</a>.</p>\n<p>Note that your <a href=\"https://stackoverflow.com/q/24724383/8583692\">resource files will be included in the JAR file automatically</a> (assuming they were placed in <em>/src/main/resources/</em> directory or any custom directory set as resources root in the build file). To access a resource file in your application, use this code (note the <code>/</code> at the start of names):</p>\n<ul>\n<li>Kotlin\n<pre class=\"lang-kotlin prettyprint-override\"><code>val vegetables = MyClass::class.java.getResource(&quot;/vegetables.txt&quot;).readText()\n// Alternative ways:\n// val vegetables = object{}.javaClass.getResource(&quot;/vegetables.txt&quot;).readText()\n// val vegetables = MyClass::class.java.getResourceAsStream(&quot;/vegetables.txt&quot;).reader().readText()\n// val vegetables = object{}.javaClass.getResourceAsStream(&quot;/vegetables.txt&quot;).reader().readText()\n</code></pre>\n</li>\n<li>Java\n<pre class=\"lang-java prettyprint-override\"><code>var stream = MyClass.class.getResource(&quot;/vegetables.txt&quot;).openStream();\n// OR var stream = MyClass.class.getResourceAsStream(&quot;/vegetables.txt&quot;);\n\nvar reader = new BufferedReader(new InputStreamReader(stream));\nvar vegetables = reader.lines().collect(Collectors.joining(&quot;\\n&quot;));\n</code></pre>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":17024750,"reputation":152,"user_id":12316314,"display_name":"garawaa garawaa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661417801,"creation_date":1661417801,"answer_id":73484660,"question_id":49278063,"body_markdown":"    mainClassName = &#39;Main&#39;\r\n    sourceSets {\r\n        main {\r\n            java {\r\n                srcDirs &#39;src/main/java&#39;, &#39;src/main/resources&#39;\r\n            }\r\n        }\r\n    }\r\n    jar{\r\n        manifest {\r\n            attributes(\r\n                    &quot;Main-Class&quot;: &quot;$mainClassName&quot;,\r\n    \r\n            )\r\n    \r\n        }\r\n        from {\r\n    configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) \r\n             }\r\n        }\r\n        exclude &#39;META-INF/*.RSA&#39;, &#39;META-INF/*.SF&#39;,&#39;META-INF/*.DSA&#39;\r\n        duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n        dependsOn (&#39;dependencies&#39;)\r\n    }","title":"How do I create an executable fat JAR with Gradle with implementation dependencies?","body":"<pre><code>mainClassName = 'Main'\nsourceSets {\n    main {\n        java {\n            srcDirs 'src/main/java', 'src/main/resources'\n        }\n    }\n}\njar{\n    manifest {\n        attributes(\n                &quot;Main-Class&quot;: &quot;$mainClassName&quot;,\n\n        )\n\n    }\n    from {\nconfigurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) \n         }\n    }\n    exclude 'META-INF/*.RSA', 'META-INF/*.SF','META-INF/*.DSA'\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n    dependsOn ('dependencies')\n}\n</code></pre>\n"}],"owner":{"account_id":6728426,"reputation":5601,"user_id":5185646,"accept_rate":72,"display_name":"Dmitry Senkovich"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73181,"favorite_count":0,"down_vote_count":0,"up_vote_count":81,"accepted_answer_id":49284432,"answer_count":8,"score":81,"last_activity_date":1661417801,"creation_date":1521031242,"question_id":49278063,"body_markdown":"I&#39;ve got a simple project in Gradle 4.6 and would like to make an executable JAR of it. I&#39;ve tried `shadow`, `gradle-fatjar-plugin`, `gradle-one-jar`, `spring-boot-gradle-plugin` plugins but neither of them adds my dependencies declared as `implementation` (I don&#39;t have any `compile` ones). It works with `compile` e.g. for `gradle-one-jar` plugin but I would like to have `implementation` dependencies.\r\n","title":"How do I create an executable fat JAR with Gradle with implementation dependencies?","body":"<p>I've got a simple project in Gradle 4.6 and would like to make an executable JAR of it. I've tried <code>shadow</code>, <code>gradle-fatjar-plugin</code>, <code>gradle-one-jar</code>, <code>spring-boot-gradle-plugin</code> plugins but neither of them adds my dependencies declared as <code>implementation</code> (I don't have any <code>compile</code> ones). It works with <code>compile</code> e.g. for <code>gradle-one-jar</code> plugin but I would like to have <code>implementation</code> dependencies.</p>\n"},{"tags":["java","jar","decompiling","recompile"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1639612169,"post_id":64734289,"comment_id":124396500,"body_markdown":"*&quot;How exactly is this relevant?&quot;* - It is relevant to you because you don&#39;t want changes that alter the behavior of the JAR in unexpected / unwanted ways.  There are circumstances where recompiling (e.g. with a different classpath) can materially change the behavior of a class.   And since you are compiling decompiled code, there is the additional problem that the decompiled code may not be a correct decompilation of the original.  (That&#39;s actually quite common ...)","body":"<i>&quot;How exactly is this relevant?&quot;</i> - It is relevant to you because you don&#39;t want changes that alter the behavior of the JAR in unexpected / unwanted ways.  There are circumstances where recompiling (e.g. with a different classpath) can materially change the behavior of a class.   And since you are compiling decompiled code, there is the additional problem that the decompiled code may not be a correct decompilation of the original.  (That&#39;s actually quite common ...)"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1639612358,"post_id":64734289,"comment_id":124396540,"body_markdown":"*&quot;What exactly would be the reason to sign a Jar file anyway?&quot;* - It allows the person running the JAR to detect whether the JAR has been tampered with.","body":"<i>&quot;What exactly would be the reason to sign a Jar file anyway?&quot;</i> - It allows the person running the JAR to detect whether the JAR has been tampered with."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1639612674,"post_id":64734289,"comment_id":124396598,"body_markdown":"Note: people are not notified if you put an @ping in your question.  It needs to be in a comment to trigger a notification.  Preferably a comment **on the answer** if you are asking for clarification on the answer.  (You won&#39;t necessarily get a response anyway ... but that&#39;s another issue.  Remember: this is NOT a help-desk where people are PAID to answer your questions.)","body":"Note: people are not notified if you put an @ping in your question.  It needs to be in a comment to trigger a notification.  Preferably a comment <b>on the answer</b> if you are asking for clarification on the answer.  (You won&#39;t necessarily get a response anyway ... but that&#39;s another issue.  Remember: this is NOT a help-desk where people are PAID to answer your questions.)"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604803797,"creation_date":1604803436,"answer_id":64734353,"question_id":64734289,"body_markdown":"If you are asking how to create a JAR:\r\n\r\n  - You can do it using a build tool such as Maven, Gradle, Ant and so on.\r\n  - You can do it using a Java IDE\r\n  - You can do it using the command line `jar` tool; see [How to create a JAR file][1] from the official Oracle Java tutorials.\r\n\r\nBut it there is no guarantee that what you are doing will actually work.  Here are a couple of the problems.\r\n\r\n  - If the original JAR file was signed, you won&#39;t be able to re-sign the new JAR ... unless you have the private key that was used when signing.  \r\n\r\n  - Decompilation is often inaccurate.  There is no guarantee that the Java code that it produces is a correct representation of the original class. Therefore, when you make your changes and recompile, the resulting &quot;.class&quot; file *could* have unexpected / unwanted differences relative to the original. \r\n\r\n------------------------\r\n\r\n&gt; I guess that I have to add the libraries, but there is no extra lib directory.\r\n\r\nI&#39;m not sure what you mean by that.  The (new) dependencies of the JAR don&#39;t necessarily need to be in the JAR itself.  It depends on what kind of JAR it is; e.g. is it a so-called &quot;executable&quot; JAR that you launch using `java -jar my.jar ...`.\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/deployment/jar/build.html","title":"Decompile JAR, Modify it, Recompile again?","body":"<p>If you are asking how to create a JAR:</p>\n<ul>\n<li>You can do it using a build tool such as Maven, Gradle, Ant and so on.</li>\n<li>You can do it using a Java IDE</li>\n<li>You can do it using the command line <code>jar</code> tool; see <a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/build.html\" rel=\"nofollow noreferrer\">How to create a JAR file</a> from the official Oracle Java tutorials.</li>\n</ul>\n<p>But it there is no guarantee that what you are doing will actually work.  Here are a couple of the problems.</p>\n<ul>\n<li><p>If the original JAR file was signed, you won't be able to re-sign the new JAR ... unless you have the private key that was used when signing.</p>\n</li>\n<li><p>Decompilation is often inaccurate.  There is no guarantee that the Java code that it produces is a correct representation of the original class. Therefore, when you make your changes and recompile, the resulting &quot;.class&quot; file <em>could</em> have unexpected / unwanted differences relative to the original.</p>\n</li>\n</ul>\n<hr />\n<blockquote>\n<p>I guess that I have to add the libraries, but there is no extra lib directory.</p>\n</blockquote>\n<p>I'm not sure what you mean by that.  The (new) dependencies of the JAR don't necessarily need to be in the JAR itself.  It depends on what kind of JAR it is; e.g. is it a so-called &quot;executable&quot; JAR that you launch using <code>java -jar my.jar ...</code>.</p>\n"},{"tags":[],"owner":{"account_id":9069067,"reputation":317,"user_id":6752956,"display_name":"M B"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1604853280,"creation_date":1604853280,"answer_id":64740486,"question_id":64734289,"body_markdown":"If you are missing dependencies after decompiling the entire jar, that could mean the jar did not include them. When you create a jar, you can choose not to include dependencies in it, but this assumes that they will be available on the classpath at runtime. Check if there are any relationships with other jar files on the classpath when you run the original jar. See [this answer][1] for details on how to achieve this. Once you have identified all the dependencies, you can easily compile the jar from an IDE such as [IntelliJ][2]/[Eclipse][3] or from [command line][4].\r\n\r\nAs a side note, if the changes you would like to make to the jar are minor or isolated I recommend editing the bytecode (much easier for small edits). I prefer [this bytecode editor][5].\r\n\r\nIf decompilation fails on some parts of the code, the functionality of the jar will not be restored upon recompilation. In this case, instead of going through all available decompilers and hoping that you can decompile that code, I suggest you identify the set of classes which you are trying to edit, modify the rest of the classes such that they compile and do not have any side effects on the classes which are of interest to you (do not delete anything that is referenced by these) and compile the jar (even if this isn&#39;t the jar you want). You can then [extract][6] only the class files which you wanted to modify from the jar, and [overwrite][7] them in the original jar. This will only work if your changes didn&#39;t have any side effects.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/2548408/6752956\r\n  [2]: https://www.jetbrains.com/help/idea/compiling-applications.html#build_artifact\r\n  [3]: https://stackoverflow.com/a/21110972/6752956\r\n  [4]: https://dzone.com/articles/java-8-how-to-create-executable-fatjar-without-ide\r\n  [5]: https://github.com/Col-E/Recaf\r\n  [6]: https://docs.oracle.com/javase/tutorial/deployment/jar/unpack.html\r\n  [7]: https://docs.oracle.com/javase/tutorial/deployment/jar/update.html","title":"Decompile JAR, Modify it, Recompile again?","body":"<p>If you are missing dependencies after decompiling the entire jar, that could mean the jar did not include them. When you create a jar, you can choose not to include dependencies in it, but this assumes that they will be available on the classpath at runtime. Check if there are any relationships with other jar files on the classpath when you run the original jar. See <a href=\"https://stackoverflow.com/a/2548408/6752956\">this answer</a> for details on how to achieve this. Once you have identified all the dependencies, you can easily compile the jar from an IDE such as <a href=\"https://www.jetbrains.com/help/idea/compiling-applications.html#build_artifact\" rel=\"noreferrer\">IntelliJ</a>/<a href=\"https://stackoverflow.com/a/21110972/6752956\">Eclipse</a> or from <a href=\"https://dzone.com/articles/java-8-how-to-create-executable-fatjar-without-ide\" rel=\"noreferrer\">command line</a>.</p>\n<p>As a side note, if the changes you would like to make to the jar are minor or isolated I recommend editing the bytecode (much easier for small edits). I prefer <a href=\"https://github.com/Col-E/Recaf\" rel=\"noreferrer\">this bytecode editor</a>.</p>\n<p>If decompilation fails on some parts of the code, the functionality of the jar will not be restored upon recompilation. In this case, instead of going through all available decompilers and hoping that you can decompile that code, I suggest you identify the set of classes which you are trying to edit, modify the rest of the classes such that they compile and do not have any side effects on the classes which are of interest to you (do not delete anything that is referenced by these) and compile the jar (even if this isn't the jar you want). You can then <a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/unpack.html\" rel=\"noreferrer\">extract</a> only the class files which you wanted to modify from the jar, and <a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/update.html\" rel=\"noreferrer\">overwrite</a> them in the original jar. This will only work if your changes didn't have any side effects.</p>\n"},{"tags":[],"owner":{"account_id":3439651,"reputation":1114,"user_id":2881888,"display_name":"Louis Caron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661417754,"creation_date":1661417754,"answer_id":73484652,"question_id":64734289,"body_markdown":"Since I had trouble getting the .jar file completely recompiled and working with my application, I wanted to share here the steps that were missing in the previous answers.\r\n\r\nIn my specific case, to make things as easy as possible, I wanted to only modify one .java file in the result of the decompilation and update it directly in the .jar file.\r\n\r\nI started from the [answer][1] from [Paulo Ebermann][2] on a similar [question][3], and I ended up with:\r\n\r\n    javac -source 8 -target 8 -d classdir -cp \\\r\n    &quot;\\\r\n    path/to/dep1.jar; \\\r\n    path/to/dep2.jar; \\\r\n    path/to/myoriginal.jar \\\r\n    &quot; path/to/my/java/class.java\r\n    \r\n    cd classdir\r\n    jar -uf path/to/myoriginal.jar path/to/my/java/class.class\r\n\r\nNotes:\r\n- the ```path/to/myoriginal.jar``` which is in the path of the dependencies, this forces the java compiler to look for missing classses in the original .jar file rather than in the local decompiled code (which would require recompilation and more dependencies) and therefore I have intentionally left out the ```.``` path in the list of class paths\r\n- the ```-source 8 -target 8``` which were required to force the class to compile for the appropriate version of the runtime machine.\r\n- the ```-uf``` which indicates that the jar tool should only update the file with the provided class\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/6604403/2881888\r\n  [2]: https://stackoverflow.com/users/600500/pa%C5%ADlo-ebermann\r\n  [3]: https://stackoverflow.com/q/6604097/2881888","title":"Decompile JAR, Modify it, Recompile again?","body":"<p>Since I had trouble getting the .jar file completely recompiled and working with my application, I wanted to share here the steps that were missing in the previous answers.</p>\n<p>In my specific case, to make things as easy as possible, I wanted to only modify one .java file in the result of the decompilation and update it directly in the .jar file.</p>\n<p>I started from the <a href=\"https://stackoverflow.com/a/6604403/2881888\">answer</a> from <a href=\"https://stackoverflow.com/users/600500/pa%C5%ADlo-ebermann\">Paulo Ebermann</a> on a similar <a href=\"https://stackoverflow.com/q/6604097/2881888\">question</a>, and I ended up with:</p>\n<pre><code>javac -source 8 -target 8 -d classdir -cp \\\n&quot;\\\npath/to/dep1.jar; \\\npath/to/dep2.jar; \\\npath/to/myoriginal.jar \\\n&quot; path/to/my/java/class.java\n\ncd classdir\njar -uf path/to/myoriginal.jar path/to/my/java/class.class\n</code></pre>\n<p>Notes:</p>\n<ul>\n<li>the <code>path/to/myoriginal.jar</code> which is in the path of the dependencies, this forces the java compiler to look for missing classses in the original .jar file rather than in the local decompiled code (which would require recompilation and more dependencies) and therefore I have intentionally left out the <code>.</code> path in the list of class paths</li>\n<li>the <code>-source 8 -target 8</code> which were required to force the class to compile for the appropriate version of the runtime machine.</li>\n<li>the <code>-uf</code> which indicates that the jar tool should only update the file with the provided class</li>\n</ul>\n"}],"owner":{"account_id":6774790,"reputation":69,"user_id":5216961,"display_name":"TestModus"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7711,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1661417754,"creation_date":1604802399,"question_id":64734289,"body_markdown":"\r\nI have an older Jar file which I have to modify in order to get it to work.\r\nI have already decompiled it with jd-gui and changed the parts that needed change. I would now like to know what I have to do in order to get a jar back? \r\nI guess that I have to add the libraries, but there is no extra lib directory.\r\n\r\nHow do I put everything together?\r\n\r\n\r\n@Stephen C\r\n&quot;Therefore, when you make your changes and recompile, the resulting &quot;.class&quot; file could have unexpected &quot;\r\nHow exactly is this relevant? I only want the function of the Jar file and not a 1:1 copy of it.\r\n\r\nThe Jar file is unsigned. What exactly would be the reason to sign a Jar file anyway? If I start it from another program?","title":"Decompile JAR, Modify it, Recompile again?","body":"<p>I have an older Jar file which I have to modify in order to get it to work.\nI have already decompiled it with jd-gui and changed the parts that needed change. I would now like to know what I have to do in order to get a jar back?\nI guess that I have to add the libraries, but there is no extra lib directory.</p>\n<p>How do I put everything together?</p>\n<p>@Stephen C\n&quot;Therefore, when you make your changes and recompile, the resulting &quot;.class&quot; file could have unexpected &quot;\nHow exactly is this relevant? I only want the function of the Jar file and not a 1:1 copy of it.</p>\n<p>The Jar file is unsigned. What exactly would be the reason to sign a Jar file anyway? If I start it from another program?</p>\n"},{"tags":["java","coldfusion","fileinputstream"],"comments":[{"owner":{"account_id":4329392,"reputation":3542,"user_id":3535297,"display_name":"haxtbh"},"score":1,"creation_date":1661416024,"post_id":73481587,"comment_id":129768463,"body_markdown":"When you say the issue went away after the hotfix was applied and came back, did you update the CF instance in this time? Updating CF will remove the hotfixes they provide, double check it&#39;s still being loaded in.","body":"When you say the issue went away after the hotfix was applied and came back, did you update the CF instance in this time? Updating CF will remove the hotfixes they provide, double check it&#39;s still being loaded in."},{"owner":{"account_id":26154842,"reputation":21,"user_id":19842206,"display_name":"user19842206"},"score":0,"creation_date":1661417077,"post_id":73481587,"comment_id":129768904,"body_markdown":"Yup I&#39;ve check on that and it is intact.","body":"Yup I&#39;ve check on that and it is intact."}],"owner":{"account_id":26154842,"reputation":21,"user_id":19842206,"display_name":"user19842206"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1661417664,"creation_date":1661398485,"question_id":73481587,"body_markdown":"My company is using Coldfusion 2018 (updated with latest patch Update 14) running on windows server 2019.\r\n\r\nLately it kept getting into the issue of intermittent down time which the client will see Error 503 service unavailable, but the service is still running.\r\n\r\nChecking in FusionReactor I notice the active request is peaked at 256 and seems like any new request that came in after that will be responded with error 503 until all the existing request is resolved.\r\n\r\n[Image from FusionReactor web request activity. Light green indicating the number of running requests.][1]\r\n\r\nFrom the thread dump, I also notice that most of the thread stuck on reading files, and on this particular FileInputStream.readBytes method or SocketInputStream.socketRead0 method.\r\n\r\n    &quot;ajp-nio-127.0.0.1-8018-exec-672&quot; Id=6054 in RUNNABLE (running in native)\r\n    java.lang.Thread.State: RUNNABLE\r\n     prio=5 blockedtime=3771 blockedcount=3780 waitedtime=4599268 waitedcount=6229\r\n        at java.base@11.0.16/java.io.FileInputStream.readBytes(Native Method)\r\n        at java.base@11.0.16/java.io.FileInputStream.read(FileInputStream.java:279)\r\n        at java.base@11.0.16/java.io.BufferedInputStream.read1(BufferedInputStream.java:290)\r\n        at java.base@11.0.16/java.io.BufferedInputStream.read(BufferedInputStream.java:351)\r\n        at coldfusion.tagext.net.ContentTag.doStartTag(ContentTag.java:264)\r\n        at coldfusion.runtime.CfJspPage._emptyTcfTag(CfJspPage.java:4329)\r\n\r\n    &quot;ajp-nio-127.0.0.1-8018-exec-556&quot; Id=2815 in RUNNABLE (running in native)\r\n     java.lang.Thread.State: RUNNABLE\r\n     prio=5 blockedtime=7179 blockedcount=6734 waitedtime=11790236 waitedcount=10845\r\n        at java.base@11.0.16/java.net.SocketInputStream.socketRead0(Native Method)\r\n        at java.base@11.0.16/java.net.SocketInputStream.socketRead(SocketInputStream.java:115)\r\n        at java.base@11.0.16/java.net.SocketInputStream.read(SocketInputStream.java:168)\r\n        at java.base@11.0.16/java.net.SocketInputStream.read(SocketInputStream.java:140)\r\n\r\nAlso by tracing the thread dump, we located the code that it is stuck at:\r\n\r\n    &lt;cfif type IS &quot;JPG&quot; OR type IS &quot;JPE&quot; OR type IS &quot;JPEG&quot;&gt;\r\n\t\t\t\t&lt;cfcontent reset=&quot;yes&quot; type=&quot;image/jpeg&quot; file=&quot;#FNAME#&quot; deletefile=&quot;no&quot;&gt;\r\n\t\t\t&lt;cfelseif type IS &quot;GIF&quot;&gt;\r\n\t\t\t\t&lt;cfcontent reset=&quot;yes&quot; type=&quot;image/gif&quot; file=&quot;#FNAME#&quot; deletefile=&quot;no&quot;&gt;\r\n\t\t\t&lt;cfelseif type IS &quot;PNG&quot;&gt;\r\n\t\t\t\t&lt;cfcontent reset=&quot;yes&quot; type=&quot;image/x-png&quot; file=&quot;#FNAME#&quot; deletefile=&quot;no&quot;&gt;\r\n\t\t\t&lt;cfelseif type IS &quot;TIF&quot; or type IS &quot;TIFF&quot;&gt;\r\n\t\t\t\t&lt;cfcontent reset=&quot;yes&quot; type=&quot;image/tiff&quot; file=&quot;#FNAME#&quot; deletefile=&quot;no&quot;&gt;\r\n\t\t\t&lt;cfelseif type IS &quot;PDF&quot;&gt;\r\n\t\t\t\t&lt;cfcontent reset=&quot;yes&quot; type=&quot;application/pdf&quot; file=&quot;#FNAME#&quot; deletefile=&quot;no&quot;&gt;\r\n\t\t\t&lt;cfelse&gt;\r\n\t\t\t\t&lt;cfcontent reset=&quot;yes&quot; type=&quot;text/plain&quot; file=&quot;#FNAME#&quot; deletefile=&quot;no&quot;&gt;\r\n\t\t\t&lt;/CFIF&gt;\r\n\r\nThis chunk of code we have not done anything new to it for quite some time and it has been working well for a long time.\r\n\r\nWe tried contacting Adobe ColdFusion support, which took them a while and they provide us with a hotfix file named &quot;hf201800-4212487&quot;. After applying the hotfix, the issue did went away for a while until recently the issue happens again.\r\n\r\nOther method that I&#39;ve tried including changing the number of concurrent thread, increase the number of cached template, upgrading java from java version 11.0.8 to 11.0.16, but nothing really helps.\r\n\r\nJust curious if anyone happens to faced similar issue or have any solution for it.\r\n\r\nEdit :\r\n\r\nHere is some screen shot of latest thread dump uploaded to fastthread.io for visualization\r\n[![Summary][2]][2]\r\n\r\n[![Summary 2][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/89Pq8.png\r\n  [2]: https://i.stack.imgur.com/aTfvD.png\r\n  [3]: https://i.stack.imgur.com/ovcb3.png","title":"Coldfusion request stuck at FileInputStream","body":"<p>My company is using Coldfusion 2018 (updated with latest patch Update 14) running on windows server 2019.</p>\n<p>Lately it kept getting into the issue of intermittent down time which the client will see Error 503 service unavailable, but the service is still running.</p>\n<p>Checking in FusionReactor I notice the active request is peaked at 256 and seems like any new request that came in after that will be responded with error 503 until all the existing request is resolved.</p>\n<p><a href=\"https://i.stack.imgur.com/89Pq8.png\" rel=\"nofollow noreferrer\">Image from FusionReactor web request activity. Light green indicating the number of running requests.</a></p>\n<p>From the thread dump, I also notice that most of the thread stuck on reading files, and on this particular FileInputStream.readBytes method or SocketInputStream.socketRead0 method.</p>\n<pre><code>&quot;ajp-nio-127.0.0.1-8018-exec-672&quot; Id=6054 in RUNNABLE (running in native)\njava.lang.Thread.State: RUNNABLE\n prio=5 blockedtime=3771 blockedcount=3780 waitedtime=4599268 waitedcount=6229\n    at java.base@11.0.16/java.io.FileInputStream.readBytes(Native Method)\n    at java.base@11.0.16/java.io.FileInputStream.read(FileInputStream.java:279)\n    at java.base@11.0.16/java.io.BufferedInputStream.read1(BufferedInputStream.java:290)\n    at java.base@11.0.16/java.io.BufferedInputStream.read(BufferedInputStream.java:351)\n    at coldfusion.tagext.net.ContentTag.doStartTag(ContentTag.java:264)\n    at coldfusion.runtime.CfJspPage._emptyTcfTag(CfJspPage.java:4329)\n\n&quot;ajp-nio-127.0.0.1-8018-exec-556&quot; Id=2815 in RUNNABLE (running in native)\n java.lang.Thread.State: RUNNABLE\n prio=5 blockedtime=7179 blockedcount=6734 waitedtime=11790236 waitedcount=10845\n    at java.base@11.0.16/java.net.SocketInputStream.socketRead0(Native Method)\n    at java.base@11.0.16/java.net.SocketInputStream.socketRead(SocketInputStream.java:115)\n    at java.base@11.0.16/java.net.SocketInputStream.read(SocketInputStream.java:168)\n    at java.base@11.0.16/java.net.SocketInputStream.read(SocketInputStream.java:140)\n</code></pre>\n<p>Also by tracing the thread dump, we located the code that it is stuck at:</p>\n<pre><code>&lt;cfif type IS &quot;JPG&quot; OR type IS &quot;JPE&quot; OR type IS &quot;JPEG&quot;&gt;\n            &lt;cfcontent reset=&quot;yes&quot; type=&quot;image/jpeg&quot; file=&quot;#FNAME#&quot; deletefile=&quot;no&quot;&gt;\n        &lt;cfelseif type IS &quot;GIF&quot;&gt;\n            &lt;cfcontent reset=&quot;yes&quot; type=&quot;image/gif&quot; file=&quot;#FNAME#&quot; deletefile=&quot;no&quot;&gt;\n        &lt;cfelseif type IS &quot;PNG&quot;&gt;\n            &lt;cfcontent reset=&quot;yes&quot; type=&quot;image/x-png&quot; file=&quot;#FNAME#&quot; deletefile=&quot;no&quot;&gt;\n        &lt;cfelseif type IS &quot;TIF&quot; or type IS &quot;TIFF&quot;&gt;\n            &lt;cfcontent reset=&quot;yes&quot; type=&quot;image/tiff&quot; file=&quot;#FNAME#&quot; deletefile=&quot;no&quot;&gt;\n        &lt;cfelseif type IS &quot;PDF&quot;&gt;\n            &lt;cfcontent reset=&quot;yes&quot; type=&quot;application/pdf&quot; file=&quot;#FNAME#&quot; deletefile=&quot;no&quot;&gt;\n        &lt;cfelse&gt;\n            &lt;cfcontent reset=&quot;yes&quot; type=&quot;text/plain&quot; file=&quot;#FNAME#&quot; deletefile=&quot;no&quot;&gt;\n        &lt;/CFIF&gt;\n</code></pre>\n<p>This chunk of code we have not done anything new to it for quite some time and it has been working well for a long time.</p>\n<p>We tried contacting Adobe ColdFusion support, which took them a while and they provide us with a hotfix file named &quot;hf201800-4212487&quot;. After applying the hotfix, the issue did went away for a while until recently the issue happens again.</p>\n<p>Other method that I've tried including changing the number of concurrent thread, increase the number of cached template, upgrading java from java version 11.0.8 to 11.0.16, but nothing really helps.</p>\n<p>Just curious if anyone happens to faced similar issue or have any solution for it.</p>\n<p>Edit :</p>\n<p>Here is some screen shot of latest thread dump uploaded to fastthread.io for visualization\n<a href=\"https://i.stack.imgur.com/aTfvD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aTfvD.png\" alt=\"Summary\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/ovcb3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ovcb3.png\" alt=\"Summary 2\" /></a></p>\n"},{"tags":["java","spring-boot","openapi","redoc","api-documentation"],"answers":[{"tags":[],"owner":{"account_id":26156523,"reputation":61,"user_id":19843711,"display_name":"cr0ow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661417614,"creation_date":1661417614,"answer_id":73484621,"question_id":73483777,"body_markdown":"As I know, default location for HTML files in Spring Boot project is `resources/templates`. \r\n######\r\nI suggest to move your `Redoc-Integrate.html` file to this directory and it should work.\r\n###### \r\nAlternatively, you can return a relative path, starting from `resources/templates`. In this case: &quot;../static/Redoc-Integrate.html&quot;.\r\n","title":"spring boot API giving 404 when changing endpoint name","body":"<p>As I know, default location for HTML files in Spring Boot project is <code>resources/templates</code>.</p>\n<h6></h6>\n<p>I suggest to move your <code>Redoc-Integrate.html</code> file to this directory and it should work.</p>\n<h6></h6>\n<p>Alternatively, you can return a relative path, starting from <code>resources/templates</code>. In this case: &quot;../static/Redoc-Integrate.html&quot;.</p>\n"}],"owner":{"account_id":16371844,"reputation":41,"user_id":11824960,"display_name":"divine forever "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73484621,"answer_count":1,"score":0,"last_activity_date":1661417614,"creation_date":1661413876,"question_id":73483777,"body_markdown":"I am returning the HTML page located in the resources/static folder.\r\nBut, if it&#39;s like a single slash, it&#39;s working fine, giving me the HTML content. But when there is multiple slash added to the path its giving 404.\r\n```\r\n@Controller\r\n@RequestMapping(value = &quot;/api-documentation&quot;)\r\npublic class ApiDocumentationController {\r\n\r\n    @GetMapping\r\n    String gotoRedocUi(){\r\n        return &quot;Redoc-Integrate.html&quot;; // return html file defined in resources/static.\r\n    }\r\n}\r\n\r\n```\r\nAbove is working code for controller\r\n```\r\n@Controller\r\n@RequestMapping(value = &quot;/api-documentation&quot;)\r\npublic class ApiDocumentationController {\r\n\r\n    @GetMapping(/some/more/value)\r\n    String gotoRedocUi(){\r\n        return &quot;Redoc-Integrate.html&quot;; // return html file defined in resources/static.\r\n    }\r\n}\r\n\r\n```\r\nWhile this gives 404.\r\neven if i dont declare @getmapping, similar issues happen for @requestmapping, i.e on adding more like /api-docume.../some/... it gives 404. Like I know its about error while changing name, but had tried many things still not getting whats wrong, any help would be appreciated.\r\nAlso Is there any other way to throw HTML if only requestmapping with above working name type would only work?","title":"spring boot API giving 404 when changing endpoint name","body":"<p>I am returning the HTML page located in the resources/static folder.\nBut, if it's like a single slash, it's working fine, giving me the HTML content. But when there is multiple slash added to the path its giving 404.</p>\n<pre><code>@Controller\n@RequestMapping(value = &quot;/api-documentation&quot;)\npublic class ApiDocumentationController {\n\n    @GetMapping\n    String gotoRedocUi(){\n        return &quot;Redoc-Integrate.html&quot;; // return html file defined in resources/static.\n    }\n}\n\n</code></pre>\n<p>Above is working code for controller</p>\n<pre><code>@Controller\n@RequestMapping(value = &quot;/api-documentation&quot;)\npublic class ApiDocumentationController {\n\n    @GetMapping(/some/more/value)\n    String gotoRedocUi(){\n        return &quot;Redoc-Integrate.html&quot;; // return html file defined in resources/static.\n    }\n}\n\n</code></pre>\n<p>While this gives 404.\neven if i dont declare @getmapping, similar issues happen for @requestmapping, i.e on adding more like /api-docume.../some/... it gives 404. Like I know its about error while changing name, but had tried many things still not getting whats wrong, any help would be appreciated.\nAlso Is there any other way to throw HTML if only requestmapping with above working name type would only work?</p>\n"},{"tags":["java","jar","javac"],"comments":[{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"score":0,"creation_date":1309998979,"post_id":6604097,"comment_id":7794271,"body_markdown":"Also, make sure it is actually legal to do something like this where you live (respectively by the licence you agreed to when you got the jar file).","body":"Also, make sure it is actually legal to do something like this where you live (respectively by the licence you agreed to when you got the jar file)."},{"owner":{"account_id":778809,"reputation":281,"user_id":832557,"display_name":"sandy"},"score":0,"creation_date":1310026231,"post_id":6604097,"comment_id":7798065,"body_markdown":"Thanks alot for your help, this is just free app which i tried to fix some error.","body":"Thanks alot for your help, this is just free app which i tried to fix some error."},{"owner":{"account_id":334885,"reputation":21589,"user_id":661624,"accept_rate":72,"display_name":"Henley Wing Chiu"},"score":12,"creation_date":1381953547,"post_id":6604097,"comment_id":28776733,"body_markdown":"WHY YOU PEOPLE DOWNVOTE. CRAZIES","body":"WHY YOU PEOPLE DOWNVOTE. CRAZIES"}],"answers":[{"tags":[],"owner":{"account_id":439763,"reputation":2046,"user_id":828918,"display_name":"Moe Matar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1309997484,"creation_date":1309996106,"answer_id":6604331,"question_id":6604097,"body_markdown":"In General, to compile Java Code into classes you need the `javac` executable that comes with the JDK.\r\n\r\nUnix:\r\n\r\n    ${JAVA_HOME}/bin/javac -d OUTPUT_DIRECTORY SOURCE_FILES\r\n\r\nWindows:\r\n\r\n    %JAVA_HOME%\\bin\\javac.exe -d OUTPUT_DIRECTORY SOURCE_FILES\r\n\r\nOnce you&#39;ve compiled the code, you can create the jar (which is a zip file that contains all the classes and some meta-data about the creator, version, ...etc).\r\n\r\n    ${JAVA_HOME}/bin/jar cf output.jar INPUT_FILES\r\n\r\nYou can read more about the different options you can use with [javac][1] and [jar][2]. Using a tool like ant makes it easier to compile source code and create jars. See the [javac][3] and the [jar][4] tasks.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/tooldocs/windows/javac.html\r\n  [2]: http://java.sun.com/developer/Books/javaprogramming/JAR/basics/build.html\r\n  [3]: http://ant.apache.org/manual/Tasks/javac.html\r\n  [4]: http://ant.apache.org/manual/Tasks/jar.html","title":"Recompile to *.Jar After decompile and fix the code?","body":"<p>In General, to compile Java Code into classes you need the <code>javac</code> executable that comes with the JDK.</p>\n\n<p>Unix:</p>\n\n<pre><code>${JAVA_HOME}/bin/javac -d OUTPUT_DIRECTORY SOURCE_FILES\n</code></pre>\n\n<p>Windows:</p>\n\n<pre><code>%JAVA_HOME%\\bin\\javac.exe -d OUTPUT_DIRECTORY SOURCE_FILES\n</code></pre>\n\n<p>Once you've compiled the code, you can create the jar (which is a zip file that contains all the classes and some meta-data about the creator, version, ...etc).</p>\n\n<pre><code>${JAVA_HOME}/bin/jar cf output.jar INPUT_FILES\n</code></pre>\n\n<p>You can read more about the different options you can use with <a href=\"http://download.oracle.com/javase/1.5.0/docs/tooldocs/windows/javac.html\" rel=\"nofollow\">javac</a> and <a href=\"http://java.sun.com/developer/Books/javaprogramming/JAR/basics/build.html\" rel=\"nofollow\">jar</a>. Using a tool like ant makes it easier to compile source code and create jars. See the <a href=\"http://ant.apache.org/manual/Tasks/javac.html\" rel=\"nofollow\">javac</a> and the <a href=\"http://ant.apache.org/manual/Tasks/jar.html\" rel=\"nofollow\">jar</a> tasks.</p>\n"},{"tags":[],"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1309996808,"creation_date":1309996808,"answer_id":6604403,"question_id":6604097,"body_markdown":"You need a Java Development Kit (JDK). This includes a Java compiler (usually named `javac`), and an jar archiver. \r\n\r\nAssuming you have the java files in a directory names `src` (then according to their package structure), you would use\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    javac -d classdir -sourcepath src src/*.java src/*/*.java src/*/*/*.java ...\r\n\r\nto compile all files. (Adjust the number of * to the number of directory levels. If you only have some folders with source files in them, you can also list them individually. If some classes depend on others, you can ommit the others, the compiler will find and compile them automatically.)\r\n\r\nIf the program needs external libraries, provide these with a `-classpath` argument.\r\n\r\nNow we have all compiled classes in the directory `classdir`. Look into your original jar file: any non-class files in there should also copied into your classdir (in the same relative directory they were before). This most notably includes `META-INF/MANIFEST.MF`.\r\n\r\nThen we create a new jar file from these. The `jar` tool is included in the JDK.\r\n\r\n    jar cfm mypackage.jar classdir/META-INF/MANIFEST.MF -C classdir .\r\n\r\n(You can also simply use a zip program of your confidence and rename the resulting zip file to .jar. If your files have non-ASCII names, make sure to set the filename encoding to UTF-8.)","title":"Recompile to *.Jar After decompile and fix the code?","body":"<p>You need a Java Development Kit (JDK). This includes a Java compiler (usually named <code>javac</code>), and an jar archiver. </p>\n\n<p>Assuming you have the java files in a directory names <code>src</code> (then according to their package structure), you would use</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>javac -d classdir -sourcepath src src/*.java src/*/*.java src/*/*/*.java ...\n</code></pre>\n\n<p>to compile all files. (Adjust the number of * to the number of directory levels. If you only have some folders with source files in them, you can also list them individually. If some classes depend on others, you can ommit the others, the compiler will find and compile them automatically.)</p>\n\n<p>If the program needs external libraries, provide these with a <code>-classpath</code> argument.</p>\n\n<p>Now we have all compiled classes in the directory <code>classdir</code>. Look into your original jar file: any non-class files in there should also copied into your classdir (in the same relative directory they were before). This most notably includes <code>META-INF/MANIFEST.MF</code>.</p>\n\n<p>Then we create a new jar file from these. The <code>jar</code> tool is included in the JDK.</p>\n\n<pre><code>jar cfm mypackage.jar classdir/META-INF/MANIFEST.MF -C classdir .\n</code></pre>\n\n<p>(You can also simply use a zip program of your confidence and rename the resulting zip file to .jar. If your files have non-ASCII names, make sure to set the filename encoding to UTF-8.)</p>\n"},{"tags":[],"owner":{"account_id":3439651,"reputation":1114,"user_id":2881888,"display_name":"Louis Caron"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1661417601,"creation_date":1661273749,"answer_id":73462521,"question_id":6604097,"body_markdown":"Since I had trouble getting the .jar file completely recompiled and working with my application, I wanted to share here the steps that were missing in the previous answers.\r\n\r\nIn my specific case, to make things as easy as possible, I wanted to only modify one .java file in the result of the decompilation and update it directly in the .jar file.\r\n\r\nI started from the [answer][1] from [Paulo Ebermann][2], and I ended up with:\r\n\r\n    javac -source 8 -target 8 -d classdir -cp \\\r\n    &quot;\\\r\n    path/to/dep1.jar; \\\r\n    path/to/dep2.jar; \\\r\n    path/to/myoriginal.jar \\\r\n    &quot; path/to/my/java/class.java\r\n    \r\n    cd classdir\r\n    jar -uf path/to/myoriginal.jar path/to/my/java/class.class\r\n\r\nNotes:\r\n- the ```path/to/myoriginal.jar``` which is in the path of the dependencies, this forces the java compiler to look for missing classses in the original .jar file rather than in the local decompiled code (which would require recompilation and more dependencies) and therefore I have intentionally left out the ```.``` path in the list of class paths\r\n- the ```-source 8 -target 8``` which were required to force the class to compile for the appropriate version of the runtime machine.\r\n- the ```-uf``` which indicates that the jar tool should only update the file with the provided class\r\n\r\n  [1]: https://stackoverflow.com/a/6604403/2881888\r\n  [2]: https://stackoverflow.com/users/600500/pa%C5%ADlo-ebermann","title":"Recompile to *.Jar After decompile and fix the code?","body":"<p>Since I had trouble getting the .jar file completely recompiled and working with my application, I wanted to share here the steps that were missing in the previous answers.</p>\n<p>In my specific case, to make things as easy as possible, I wanted to only modify one .java file in the result of the decompilation and update it directly in the .jar file.</p>\n<p>I started from the <a href=\"https://stackoverflow.com/a/6604403/2881888\">answer</a> from <a href=\"https://stackoverflow.com/users/600500/pa%C5%ADlo-ebermann\">Paulo Ebermann</a>, and I ended up with:</p>\n<pre><code>javac -source 8 -target 8 -d classdir -cp \\\n&quot;\\\npath/to/dep1.jar; \\\npath/to/dep2.jar; \\\npath/to/myoriginal.jar \\\n&quot; path/to/my/java/class.java\n\ncd classdir\njar -uf path/to/myoriginal.jar path/to/my/java/class.class\n</code></pre>\n<p>Notes:</p>\n<ul>\n<li>the <code>path/to/myoriginal.jar</code> which is in the path of the dependencies, this forces the java compiler to look for missing classses in the original .jar file rather than in the local decompiled code (which would require recompilation and more dependencies) and therefore I have intentionally left out the <code>.</code> path in the list of class paths</li>\n<li>the <code>-source 8 -target 8</code> which were required to force the class to compile for the appropriate version of the runtime machine.</li>\n<li>the <code>-uf</code> which indicates that the jar tool should only update the file with the provided class</li>\n</ul>\n"}],"owner":{"account_id":778809,"reputation":281,"user_id":832557,"display_name":"sandy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46072,"favorite_count":0,"down_vote_count":3,"up_vote_count":28,"answer_count":3,"score":25,"last_activity_date":1661417601,"creation_date":1309993697,"question_id":6604097,"body_markdown":"I have a myfile.jar file.\r\nI use jd-gui to decompile all *.class in a folder in myfile.jar. I get many *.java files in many folders\r\n\r\nAfter fixing some code in some *.java, now I would like to recompile all *.java back to *.class, and pack the whole folder back to myfile.jar.\r\n\r\nHow do I do this?\r\n\r\n(This is my first time playing with java code.)\r\n","title":"Recompile to *.Jar After decompile and fix the code?","body":"<p>I have a myfile.jar file.\nI use jd-gui to decompile all *.class in a folder in myfile.jar. I get many *.java files in many folders</p>\n\n<p>After fixing some code in some *.java, now I would like to recompile all *.java back to *.class, and pack the whole folder back to myfile.jar.</p>\n\n<p>How do I do this?</p>\n\n<p>(This is my first time playing with java code.)</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":288238,"reputation":14443,"user_id":588532,"accept_rate":88,"display_name":"Uriel Frankel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661417313,"creation_date":1661417313,"answer_id":73484551,"question_id":73481637,"body_markdown":"The reason is because you added this line:\r\n\r\n    dialogWithBinding.getWindow().setLayout(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT);\r\n\r\nThe logic behind it is this line:\r\n\r\n    defaultDialog.setContentView(R.layout.dialog_test);\r\nsets the **window** content view. And when you call setLayout it changes the layout_width and layout_height and overrides the values you put in the xml:\r\n\r\n        public void setLayout(int width, int height) {\r\n            final WindowManager.LayoutParams attrs = getAttributes();\r\n            attrs.width = width;\r\n            attrs.height = height;\r\n            dispatchWindowAttributesChanged(attrs);\r\n        }\r\nSo my suggestion is to remove the setLayout line of code.\r\n\r\n","title":"Android | Dialog with Binding Ignores Some Parametres","body":"<p>The reason is because you added this line:</p>\n<pre><code>dialogWithBinding.getWindow().setLayout(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT);\n</code></pre>\n<p>The logic behind it is this line:</p>\n<pre><code>defaultDialog.setContentView(R.layout.dialog_test);\n</code></pre>\n<p>sets the <strong>window</strong> content view. And when you call setLayout it changes the layout_width and layout_height and overrides the values you put in the xml:</p>\n<pre><code>    public void setLayout(int width, int height) {\n        final WindowManager.LayoutParams attrs = getAttributes();\n        attrs.width = width;\n        attrs.height = height;\n        dispatchWindowAttributesChanged(attrs);\n    }\n</code></pre>\n<p>So my suggestion is to remove the setLayout line of code.</p>\n"}],"owner":{"account_id":23263280,"reputation":29,"user_id":18424680,"display_name":"Couver"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661417313,"creation_date":1661399092,"question_id":73481637,"body_markdown":"Why does Dialog created with Binding ignores `android:layout_height` and `layout_marginHorizontal`? I guess it ignores something more, but thats what I have problems with.\r\n\r\n**Dialog Layout**\r\n\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;150dp&quot;\r\n        android:layout_marginHorizontal=&quot;12dp&quot;\r\n        android:background=&quot;@color/white&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/dialogTV&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:textSize=&quot;18sp&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n        &lt;ImageView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;8dp&quot;\r\n            android:src=&quot;@drawable/ic_settings_outline_28dp&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n**Java Code**\r\n\r\n    Dialog defaultDialog = new Dialog(this);\r\n    defaultDialog.setContentView(R.layout.dialog_test);\r\n    defaultDialog.getWindow().setBackgroundDrawable(ContextCompat.getDrawable(this, R.drawable.dialog_background));\r\n    defaultDialog.getWindow().setLayout(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT);\r\n    defaultDialog.setCancelable(true);\r\n\r\n    Dialog dialogWithBinding = new Dialog(this);\r\n    DialogTestBinding dialogTestBinding = DialogTestBinding.inflate(getLayoutInflater());\r\n    dialogWithBinding.setContentView(dialogTestBinding.getRoot());\r\n    dialogWithBinding.getWindow().setBackgroundDrawable(ContextCompat.getDrawable(this, R.drawable.dialog_background));\r\n        dialogWithBinding.getWindow().setLayout(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT);\r\n    dialogWithBinding.setCancelable(true);\r\n\r\n    findViewById(R.id.showDefaultDialog).setOnClickListener(view -&gt; {\r\n        TextView dialogTV = defaultDialog.findViewById(R.id.dialogTV);\r\n        dialogTV.setText(&quot;Dialog&quot;);\r\n        defaultDialog.show();\r\n    });\r\n    findViewById(R.id.showBindingDialog).setOnClickListener(view -&gt; {\r\n        dialogTestBinding.dialogTV.setText(&quot;Dialog with Binding&quot;);\r\n        dialogWithBinding.show();\r\n    });\r\n\r\n`dialog_background` is simple transparent shape\r\n\r\n**Results**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/SdFyJ.png","title":"Android | Dialog with Binding Ignores Some Parametres","body":"<p>Why does Dialog created with Binding ignores <code>android:layout_height</code> and <code>layout_marginHorizontal</code>? I guess it ignores something more, but thats what I have problems with.</p>\n<p><strong>Dialog Layout</strong></p>\n<pre><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;150dp&quot;\n    android:layout_marginHorizontal=&quot;12dp&quot;\n    android:background=&quot;@color/white&quot;\n    android:gravity=&quot;center&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/dialogTV&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:textSize=&quot;18sp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n\n    &lt;ImageView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:src=&quot;@drawable/ic_settings_outline_28dp&quot; /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p><strong>Java Code</strong></p>\n<pre><code>Dialog defaultDialog = new Dialog(this);\ndefaultDialog.setContentView(R.layout.dialog_test);\ndefaultDialog.getWindow().setBackgroundDrawable(ContextCompat.getDrawable(this, R.drawable.dialog_background));\ndefaultDialog.getWindow().setLayout(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT);\ndefaultDialog.setCancelable(true);\n\nDialog dialogWithBinding = new Dialog(this);\nDialogTestBinding dialogTestBinding = DialogTestBinding.inflate(getLayoutInflater());\ndialogWithBinding.setContentView(dialogTestBinding.getRoot());\ndialogWithBinding.getWindow().setBackgroundDrawable(ContextCompat.getDrawable(this, R.drawable.dialog_background));\n    dialogWithBinding.getWindow().setLayout(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT);\ndialogWithBinding.setCancelable(true);\n\nfindViewById(R.id.showDefaultDialog).setOnClickListener(view -&gt; {\n    TextView dialogTV = defaultDialog.findViewById(R.id.dialogTV);\n    dialogTV.setText(&quot;Dialog&quot;);\n    defaultDialog.show();\n});\nfindViewById(R.id.showBindingDialog).setOnClickListener(view -&gt; {\n    dialogTestBinding.dialogTV.setText(&quot;Dialog with Binding&quot;);\n    dialogWithBinding.show();\n});\n</code></pre>\n<p><code>dialog_background</code> is simple transparent shape</p>\n<p><strong>Results</strong></p>\n<p><a href=\"https://i.stack.imgur.com/SdFyJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SdFyJ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1661417601,"post_id":73484372,"comment_id":129769106,"body_markdown":"check that `META-INF/services` is a directory. `org.hibernate.service.spi.ServiceContributor` must be a `file` in META-INF/services` directory witch content `com.loylty...`","body":"check that <code>META-INF&#47;services</code> is a directory. <code>org.hibernate.service.spi.ServiceContributor</code> must be a <code>file</code> in META-INF/services` directory witch content <code>com.loylty...</code>"},{"owner":{"account_id":12621614,"reputation":962,"user_id":9176914,"accept_rate":100,"display_name":"Muddassir Rahman"},"score":0,"creation_date":1661421986,"post_id":73484372,"comment_id":129770846,"body_markdown":"@AndreyB.Panfilov this same works perfectly when i run on intellij but when i deploy it on server it does not work.","body":"@AndreyB.Panfilov this same works perfectly when i run on intellij but when i deploy it on server it does not work."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1661426441,"post_id":73484372,"comment_id":129772419,"body_markdown":"Is your goal to make it work or figure out why wrong configuration works (probably not) in IntellyJ?","body":"Is your goal to make it work or figure out why wrong configuration works (probably not) in IntellyJ?"},{"owner":{"account_id":12621614,"reputation":962,"user_id":9176914,"accept_rate":100,"display_name":"Muddassir Rahman"},"score":1,"creation_date":1661430655,"post_id":73484372,"comment_id":129774032,"body_markdown":"@AndreyB.Panfilov I made it work using the command `jar -xf &lt;jar file&gt;;\njava  -cp &#39;BOOT-INF/lib/*:BOOT-INF/classes&#39; &lt;main/class/fqn&gt;;` but I don&#39;t want to do it by extracting the jar and specifying the classpath  like this . I want to make use of manifest file to do the same","body":"@AndreyB.Panfilov I made it work using the command <code>jar -xf &lt;jar file&gt;; java  -cp &#39;BOOT-INF&#47;lib&#47;*:BOOT-INF&#47;classes&#39; &lt;main&#47;class&#47;fqn&gt;;</code> but I don&#39;t want to do it by extracting the jar and specifying the classpath  like this . I want to make use of manifest file to do the same"}],"owner":{"account_id":12621614,"reputation":962,"user_id":9176914,"accept_rate":100,"display_name":"Muddassir Rahman"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":234,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":0,"score":1,"last_activity_date":1661417014,"creation_date":1661416555,"question_id":73484372,"body_markdown":"I have a spring boot aplication where I have defined SPI implementation. \r\n\r\nWhen I run the app from intellij, it finds the SPI and my application is working as expected.\r\n\r\nBut when I  deploy it on linux server it fails to find the SPI implementation. \r\n\r\nI saw somewhere that we need to give classpath correctly in order to read META-INF/services, due to which i tried providing from the `manifest.mf` file like below but didn&#39;t work.\r\n\r\n    Manifest-Version: 1.0\r\n    Implementation-Title: com.loylty.dataengine\r\n    Implementation-Version: 1.0-SNAPSHOT\r\n    Start-Class: com.loylty.rest.configuration.AppConfig\r\n    Spring-Boot-Classes: BOOT-INF/classes/\r\n    Spring-Boot-Lib: BOOT-INF/lib/\r\n    Build-Jdk-Spec: 1.8\r\n    Spring-Boot-Version: 2.2.12.RELEASE\r\n    Created-By: Maven Archiver 3.4.0\r\n    Main-Class: org.springframework.boot.loader.JarLauncher\r\n    Class-Path: META-INF/services/\r\n\r\n\r\n[![][1]][1]\r\n\r\n\r\nMy project structure is shown above\r\n\r\nEdit : \r\n\r\n[This questions has the answer but using CLI not through manifest.mf file][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Sz7BH.png\r\n  [2]: https://stackoverflow.com/questions/68144546/spring-boot-application-not-able-to-load-spi-implementation","title":"Spring boot application not able to find SPI implementation","body":"<p>I have a spring boot aplication where I have defined SPI implementation.</p>\n<p>When I run the app from intellij, it finds the SPI and my application is working as expected.</p>\n<p>But when I  deploy it on linux server it fails to find the SPI implementation.</p>\n<p>I saw somewhere that we need to give classpath correctly in order to read META-INF/services, due to which i tried providing from the <code>manifest.mf</code> file like below but didn't work.</p>\n<pre><code>Manifest-Version: 1.0\nImplementation-Title: com.loylty.dataengine\nImplementation-Version: 1.0-SNAPSHOT\nStart-Class: com.loylty.rest.configuration.AppConfig\nSpring-Boot-Classes: BOOT-INF/classes/\nSpring-Boot-Lib: BOOT-INF/lib/\nBuild-Jdk-Spec: 1.8\nSpring-Boot-Version: 2.2.12.RELEASE\nCreated-By: Maven Archiver 3.4.0\nMain-Class: org.springframework.boot.loader.JarLauncher\nClass-Path: META-INF/services/\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Sz7BH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sz7BH.png\" alt=\"\" /></a></p>\n<p>My project structure is shown above</p>\n<p>Edit :</p>\n<p><a href=\"https://stackoverflow.com/questions/68144546/spring-boot-application-not-able-to-load-spi-implementation\">This questions has the answer but using CLI not through manifest.mf file</a></p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":13773487,"reputation":608,"user_id":10707187,"display_name":"midugh"},"score":0,"creation_date":1661178246,"post_id":73446680,"comment_id":129703803,"body_markdown":"why would you want to use a private member in other classes ? It is just not the point of private members","body":"why would you want to use a private member in other classes ? It is just not the point of private members"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":2,"creation_date":1661178268,"post_id":73446680,"comment_id":129703810,"body_markdown":"`private` would make it so that only methods/fields within the class you defined it in can access it. Note that an array is mutable in that the members of the array can be modified, it shouldn&#39;t really be `public` either. There&#39;s package-private (no visibility modifier) and `protected`.","body":"<code>private</code> would make it so that only methods/fields within the class you defined it in can access it. Note that an array is mutable in that the members of the array can be modified, it shouldn&#39;t really be <code>public</code> either. There&#39;s package-private (no visibility modifier) and <code>protected</code>."},{"owner":{"account_id":1718670,"reputation":4778,"user_id":1575188,"display_name":"fantaghirocco"},"score":2,"creation_date":1661178309,"post_id":73446680,"comment_id":129703828,"body_markdown":"[Controlling Access to Members of a Class](https://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html)","body":"<a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\" rel=\"nofollow noreferrer\">Controlling Access to Members of a Class</a>"},{"owner":{"account_id":19494962,"reputation":43,"user_id":14262406,"display_name":"Stacy"},"score":0,"creation_date":1661178334,"post_id":73446680,"comment_id":129703842,"body_markdown":"I also cannot make String[] public, I get an error saying that `it&#39;s a mutable array`","body":"I also cannot make String[] public, I get an error saying that <code>it&#39;s a mutable array</code>"},{"owner":{"account_id":9072254,"reputation":1014,"user_id":6754986,"display_name":"LinFelix"},"score":0,"creation_date":1661178355,"post_id":73446680,"comment_id":129703848,"body_markdown":"Does this answer your question? [How to read the value of a private field from a different class in Java?](https://stackoverflow.com/questions/1196192/how-to-read-the-value-of-a-private-field-from-a-different-class-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1196192/how-to-read-the-value-of-a-private-field-from-a-different-class-in-java\">How to read the value of a private field from a different class in Java?</a>"},{"owner":{"account_id":19494962,"reputation":43,"user_id":14262406,"display_name":"Stacy"},"score":0,"creation_date":1661178401,"post_id":73446680,"comment_id":129703873,"body_markdown":"@Rogue this is helpful, but how should I structure my code to use a mutable array?","body":"@Rogue this is helpful, but how should I structure my code to use a mutable array?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1661178691,"post_id":73446680,"comment_id":129704014,"body_markdown":"@Stacy it depends on what you&#39;re attempting to achieve with `NAME`. Should it be a constant (and ideally unmodifiable)? Or is it describing some type of data for the class it is defined in? I would also ensure you&#39;re not naming your class as `Class`, since that is an already-existing name within the JDK.","body":"@Stacy it depends on what you&#39;re attempting to achieve with <code>NAME</code>. Should it be a constant (and ideally unmodifiable)? Or is it describing some type of data for the class it is defined in? I would also ensure you&#39;re not naming your class as <code>Class</code>, since that is an already-existing name within the JDK."},{"owner":{"account_id":19494962,"reputation":43,"user_id":14262406,"display_name":"Stacy"},"score":0,"creation_date":1661178808,"post_id":73446680,"comment_id":129704072,"body_markdown":"@Rogue Naming is just an example :) It&#39;s immutable constant that has some data. For simplicity, I have  multiple Names `public static final String NAME1 = &quot;name1&quot;` and I want to get them all in the `String [] `","body":"@Rogue Naming is just an example :) It&#39;s immutable constant that has some data. For simplicity, I have  multiple Names <code>public static final String NAME1 = &quot;name1&quot;</code> and I want to get them all in the <code>String [] </code>"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1661178906,"post_id":73446680,"comment_id":129704102,"body_markdown":"@Stacy if you truly want something which is immutable, then you will not be able to use a primitive array. You can use a `List` or `Set`, and pair it with `Collections#unmodifiableList` (or likewise for `Set`), if you _truly_ need to expose the constant. Most of the time, you can keep the constant as `private` or `protected`, and simply expose the functionality you&#39;d desire that would use the constant (e.g. `public boolean isName(String someName) { /* check NAME */ }`. Exposing a `public String[]` would typically be a copy-array, not the actual underlying data.","body":"@Stacy if you truly want something which is immutable, then you will not be able to use a primitive array. You can use a <code>List</code> or <code>Set</code>, and pair it with <code>Collections#unmodifiableList</code> (or likewise for <code>Set</code>), if you <i>truly</i> need to expose the constant. Most of the time, you can keep the constant as <code>private</code> or <code>protected</code>, and simply expose the functionality you&#39;d desire that would use the constant (e.g. <code>public boolean isName(String someName) { &#47;* check NAME *&#47; }</code>. Exposing a <code>public String[]</code> would typically be a copy-array, not the actual underlying data."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1661178962,"post_id":73446680,"comment_id":129704126,"body_markdown":"Or you could create a getter that returns a copy of the array, not with an annotation.","body":"Or you could create a getter that returns a copy of the array, not with an annotation."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1661178983,"post_id":73446680,"comment_id":129704138,"body_markdown":"&quot;*I tried creating a public clone, but I read that it&#39;s not a very good approach*&quot; could you add more info here? In case of mutable objects it is *preferred* to have getter which returns copy (possibly even deep copy) if we don&#39;t want to allow others to modify original object. Could it be that you read about problems with `clone()` method? If yes then indeed, it was not best design for classes, but calling it on array of immutable type like String is actually acceptable practice.","body":"&quot;<i>I tried creating a public clone, but I read that it&#39;s not a very good approach</i>&quot; could you add more info here? In case of mutable objects it is <i>preferred</i> to have getter which returns copy (possibly even deep copy) if we don&#39;t want to allow others to modify original object. Could it be that you read about problems with <code>clone()</code> method? If yes then indeed, it was not best design for classes, but calling it on array of immutable type like String is actually acceptable practice."}],"answers":[{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661416955,"creation_date":1661179154,"answer_id":73446912,"question_id":73446680,"body_markdown":"The String[] you receive in the main method is a special case; it is populated with the arguments entered on the command line when starting java. Typically this data is processed immediately and influences how the program runs. If you want to access this array in other classes, you have options:\r\n\r\n* create an instance of the other class, and pass the array as an argument:\r\n\r\n      public static void main(String[] args) {\r\n        OtherClass other = new OtherClass(args);\r\n\r\n* create an instance of the main class, set the array as a field and add a getter:\r\n\r\n      public class MyApp {\r\n  \r\n        private String[] args;\r\n\r\n        public static void main(String[] args) {\r\n            MyApp myApp = new MyApp();\r\n            myApp.setArgs(args);\r\n            OtherClass other = new OtherClass(myApp);\r\n        }\r\n\r\n        public String[] getArgs() { return args;}\r\n        public void setArgs(String[]) { this.args = args;}\r\n      ...\r\n\r\n      public class OtherClass {\r\n        \r\n         public OtherClass(MyApp myApp) {\r\n             String[] args = myApp.getArgs();\r\n\r\nIt all boils down to the same thing: You have to pass or receive the reference via a constructor or method call.\r\n\r\nEDIT: If you are worried about the contents of the array being changed, you could for example create a `List&lt;String&gt;` with the contents of the array. Lists are more flexible to use than arrays, so that&#39;s usually what you want anyway:\r\n\r\n      public static void main(String[] args) {\r\n        OtherClass other = new OtherClass(new ArrayList&lt;&gt;(Arrays.asList(args)););\r\n\r\n    ...\r\n\r\n    public class OtherClass {\r\n\r\n        private final List&lt;String&gt; data;\r\n\r\n        public OtherClass(List&lt;String&gt; data) {\r\n             this.data = data;\r\n        }\r\n\r\n\r\n","title":"Java private static final String [] how to use in other methods","body":"<p>The String[] you receive in the main method is a special case; it is populated with the arguments entered on the command line when starting java. Typically this data is processed immediately and influences how the program runs. If you want to access this array in other classes, you have options:</p>\n<ul>\n<li><p>create an instance of the other class, and pass the array as an argument:</p>\n<pre><code>public static void main(String[] args) {\n  OtherClass other = new OtherClass(args);\n</code></pre>\n</li>\n<li><p>create an instance of the main class, set the array as a field and add a getter:</p>\n<pre><code>public class MyApp {\n\n  private String[] args;\n\n  public static void main(String[] args) {\n      MyApp myApp = new MyApp();\n      myApp.setArgs(args);\n      OtherClass other = new OtherClass(myApp);\n  }\n\n  public String[] getArgs() { return args;}\n  public void setArgs(String[]) { this.args = args;}\n...\n\npublic class OtherClass {\n\n   public OtherClass(MyApp myApp) {\n       String[] args = myApp.getArgs();\n</code></pre>\n</li>\n</ul>\n<p>It all boils down to the same thing: You have to pass or receive the reference via a constructor or method call.</p>\n<p>EDIT: If you are worried about the contents of the array being changed, you could for example create a <code>List&lt;String&gt;</code> with the contents of the array. Lists are more flexible to use than arrays, so that's usually what you want anyway:</p>\n<pre><code>  public static void main(String[] args) {\n    OtherClass other = new OtherClass(new ArrayList&lt;&gt;(Arrays.asList(args)););\n\n...\n\npublic class OtherClass {\n\n    private final List&lt;String&gt; data;\n\n    public OtherClass(List&lt;String&gt; data) {\n         this.data = data;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661180164,"creation_date":1661179551,"answer_id":73447002,"question_id":73446680,"body_markdown":"I agree with RealSkeptic&#39;s suggestion that you can have getter that can return copy :\r\n\r\n    private static final String[] NAME = new String[] { &quot;Test&quot;,&quot;Test1&quot; };\r\n    \r\n    public String[] getName() {\t\r\n\t\treturn Arrays.copyOf(ClassName.NAME, ClassName.NAME.length);\r\n\t}\r\n\r\nAnd then, in another class, you can use this method to access elements of array. Here ClassName is name of class you have used for declaring this array.\r\n","title":"Java private static final String [] how to use in other methods","body":"<p>I agree with RealSkeptic's suggestion that you can have getter that can return copy :</p>\n<pre><code>private static final String[] NAME = new String[] { &quot;Test&quot;,&quot;Test1&quot; };\n\npublic String[] getName() { \n    return Arrays.copyOf(ClassName.NAME, ClassName.NAME.length);\n}\n</code></pre>\n<p>And then, in another class, you can use this method to access elements of array. Here ClassName is name of class you have used for declaring this array.</p>\n"}],"owner":{"account_id":19494962,"reputation":43,"user_id":14262406,"display_name":"Stacy"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":472,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":73447002,"answer_count":2,"score":0,"last_activity_date":1661416955,"creation_date":1661178161,"question_id":73446680,"body_markdown":"I&#39;m new to Java and cannot really understand how to use `private static final String[]` in other classes. \r\n\r\nI have this String[] that I want to access in another class.\r\n```\r\nprivate static final String[] NAMES = new String[] {...}\r\n````\r\n1. I tried to add @Getter to it, but it still doesn&#39;t pass the check with an error:\r\n`Public static ....getNAME() may expose internal representation by returning ClassName.NAMES`\r\n2. I tried creating a public clone, but I read that it&#39;s not a very good approach.\r\n---\r\nIf I want to use a @Getter, how should I do it?\r\n\r\nOr if I want to expose a `public String[]` what would be the right way to do?","title":"Java private static final String [] how to use in other methods","body":"<p>I'm new to Java and cannot really understand how to use <code>private static final String[]</code> in other classes.</p>\n<p>I have this String[] that I want to access in another class.</p>\n<pre><code>private static final String[] NAMES = new String[] {...}\n</code></pre>\n<ol>\n<li>I tried to add @Getter to it, but it still doesn't pass the check with an error:\n<code>Public static ....getNAME() may expose internal representation by returning ClassName.NAMES</code></li>\n<li>I tried creating a public clone, but I read that it's not a very good approach.</li>\n</ol>\n<hr />\n<p>If I want to use a @Getter, how should I do it?</p>\n<p>Or if I want to expose a <code>public String[]</code> what would be the right way to do?</p>\n"},{"tags":["java","android","android-studio","themes","android-darkmode"],"answers":[{"tags":[],"owner":{"account_id":22598073,"reputation":452,"user_id":16780065,"display_name":"nima"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1661416236,"creation_date":1630611256,"answer_id":69036099,"question_id":69034252,"body_markdown":"In `res/values/colors`   \r\nThere are two colors   \r\n`colors.xml`    \r\n`colors.xml(night)`     \r\n\r\n---\r\n\r\nIf night does not exist, you can make it as follows:    \r\nRight click on the `values` folder.    \r\nNext `New`. Then `Values Resource file`    \r\nEnter the `colors`  in the `file name` field     \r\nAnd enter the `values-night` in the `directory name` field.     \r\n\r\n---\r\n     \r\nIn colors.xml, select the colors that are for the light, such as: \r\n\r\n```xml\r\n&lt;color name=&quot;colorPrimary&quot;&gt;#3F51B5&lt;/color&gt;\r\n&lt;color name=&quot;colorPrimaryVariant&quot;&gt;#303F9F&lt;/color&gt;\r\n&lt;color name=&quot;colorButton&quot;&gt;#303F9F&lt;/color&gt;\r\n```\r\n\r\nIn colors.xml(night), set the colors for the night(Same name as colors):\r\n\r\n```xml\r\n&lt;color name=&quot;colorPrimary&quot;&gt;#212121&lt;/color&gt;\r\n&lt;color name=&quot;colorPrimaryVariant&quot;&gt;#000000&lt;/color&gt; \r\n&lt;color name=&quot;colorButton&quot;&gt;#10ffffff&lt;/color&gt;\r\n```\r\n\r\nNow if in layout, for example:    \r\n\r\n```xml\r\n&lt;Button\r\n     android: layout_width = &quot;wrap_content&quot;\r\n     android: layout_height = &quot;wrap_content&quot;\r\n     android: background = &quot;@color/colorButton&quot; /&gt;\r\n```\r\n\r\nIt is selected according to what you put in the light and night colors.   \r\n\r\n\r\n","title":"Android Colors in Dark Mode","body":"<p>In <code>res/values/colors</code><br />\nThere are two colors<br />\n<code>colors.xml</code><br />\n<code>colors.xml(night)</code></p>\n<hr />\n<p>If night does not exist, you can make it as follows:<br />\nRight click on the <code>values</code> folder.<br />\nNext <code>New</code>. Then <code>Values Resource file</code><br />\nEnter the <code>colors</code>  in the <code>file name</code> field<br />\nAnd enter the <code>values-night</code> in the <code>directory name</code> field.</p>\n<hr />\n<p>In colors.xml, select the colors that are for the light, such as:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;color name=&quot;colorPrimary&quot;&gt;#3F51B5&lt;/color&gt;\n&lt;color name=&quot;colorPrimaryVariant&quot;&gt;#303F9F&lt;/color&gt;\n&lt;color name=&quot;colorButton&quot;&gt;#303F9F&lt;/color&gt;\n</code></pre>\n<p>In colors.xml(night), set the colors for the night(Same name as colors):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;color name=&quot;colorPrimary&quot;&gt;#212121&lt;/color&gt;\n&lt;color name=&quot;colorPrimaryVariant&quot;&gt;#000000&lt;/color&gt; \n&lt;color name=&quot;colorButton&quot;&gt;#10ffffff&lt;/color&gt;\n</code></pre>\n<p>Now if in layout, for example:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Button\n     android: layout_width = &quot;wrap_content&quot;\n     android: layout_height = &quot;wrap_content&quot;\n     android: background = &quot;@color/colorButton&quot; /&gt;\n</code></pre>\n<p>It is selected according to what you put in the light and night colors.</p>\n"},{"tags":[],"owner":{"account_id":180055,"reputation":75792,"user_id":413127,"accept_rate":96,"display_name":"Blundell"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1630612585,"creation_date":1630612585,"answer_id":69036339,"question_id":69034252,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nhttps://developer.android.com/guide/topics/resources/providing-resources\r\n\r\nUse the folders:\r\n\r\n```\r\n/values/\r\n/values-night/\r\n```\r\n\r\nIt mentions it here as well: https://developer.android.com/guide/topics/ui/look-and-feel/darktheme#config-changes\r\n\r\n&quot;night-qualified resources&quot;\r\n\r\n    Your themes and styles should avoid hard-coded colors or icons intended for use under a light theme. You should use theme attributes (preferred) or night-qualified resources instead.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wDnRn.png","title":"Android Colors in Dark Mode","body":"<p><a href=\"https://i.stack.imgur.com/wDnRn.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/wDnRn.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://developer.android.com/guide/topics/resources/providing-resources\" rel=\"noreferrer\">https://developer.android.com/guide/topics/resources/providing-resources</a></p>\n<p>Use the folders:</p>\n<pre><code>/values/\n/values-night/\n</code></pre>\n<p>It mentions it here as well: <a href=\"https://developer.android.com/guide/topics/ui/look-and-feel/darktheme#config-changes\" rel=\"noreferrer\">https://developer.android.com/guide/topics/ui/look-and-feel/darktheme#config-changes</a></p>\n<p>&quot;night-qualified resources&quot;</p>\n<pre><code>Your themes and styles should avoid hard-coded colors or icons intended for use under a light theme. You should use theme attributes (preferred) or night-qualified resources instead.\n</code></pre>\n"}],"owner":{"account_id":17564855,"reputation":145,"user_id":12741939,"display_name":"Alcachofra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15189,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":69036099,"answer_count":2,"score":10,"last_activity_date":1661416236,"creation_date":1630601141,"question_id":69034252,"body_markdown":"Hello fellow developers.\r\n\r\nI&#39;ve developed and Android App using **Android Studio**, but I only took into account the layout themes for **light** mode. Here&#39;s how it looks:\r\n\r\n[![light mode][1]][1]\r\n\r\nSo now, when I switch my phone to **dark** mode, this happens:\r\n\r\n[![dark mode][2]][2]\r\n\r\nHow can I change the colors that are being displayed in **dark mode**?\r\n\r\n  [1]: https://i.stack.imgur.com/n5y2fm.png\r\n  [2]: https://i.stack.imgur.com/gM51em.png","title":"Android Colors in Dark Mode","body":"<p>Hello fellow developers.</p>\n<p>I've developed and Android App using <strong>Android Studio</strong>, but I only took into account the layout themes for <strong>light</strong> mode. Here's how it looks:</p>\n<p><a href=\"https://i.stack.imgur.com/n5y2fm.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/n5y2fm.png\" alt=\"light mode\" /></a></p>\n<p>So now, when I switch my phone to <strong>dark</strong> mode, this happens:</p>\n<p><a href=\"https://i.stack.imgur.com/gM51em.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/gM51em.png\" alt=\"dark mode\" /></a></p>\n<p>How can I change the colors that are being displayed in <strong>dark mode</strong>?</p>\n"},{"tags":["java","log4j","log4j2"],"answers":[{"tags":[],"owner":{"account_id":18032226,"reputation":2541,"user_id":13106495,"display_name":"Ismail Durmaz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1611214730,"creation_date":1611159632,"answer_id":65813434,"question_id":65812560,"body_markdown":"For regex replacement use `replace{pattern}{regex}{substitution}` pattern. `appender.A1.layout.replace.*` must be removed.\r\n\r\n```property\r\nappender.A1.type = Console\r\nappender.A1.name = A1\r\nappender.A1.layout.type = PatternLayout\r\nappender.A1.layout.pattern = [%d{HH:mm:ss}] %replace{%m}{foo}{bar}%n\r\n\r\n# whole line\r\nappender.A1.layout.pattern = %replace{[%d{HH:mm:ss}] %m%n}{foo}{bar}\r\n```\r\n\r\nFor More Information\r\n--------------------\r\n\r\n[Log4j2 - Layouts][1]\r\n&gt; replace{pattern}{regex}{substitution}\t\r\n&gt;\r\n&gt; Replaces occurrences of &#39;regex&#39;, a regular expression, with its replacement &#39;substitution&#39; in the string resulting from evaluation of the pattern. For example, &quot;%replace{%msg}{\\s}{}&quot; will remove all spaces contained in the event message.\r\n&gt;\r\n&gt; The pattern can be arbitrarily complex and in particular can contain multiple conversion keywords. For instance, &quot;%replace{%logger %msg}{\\.}{/}&quot; will replace all dots in the logger or the message of the event with a forward slash.\r\n\r\n\r\n\r\n\r\n\r\n  [1]: http://logging.apache.org/log4j/log4j-2.0-beta7/manual/layouts.html","title":"Log4j2: How to use replace parameter in log4j2.properties file","body":"<p>For regex replacement use <code>replace{pattern}{regex}{substitution}</code> pattern. <code>appender.A1.layout.replace.*</code> must be removed.</p>\n<pre><code>appender.A1.type = Console\nappender.A1.name = A1\nappender.A1.layout.type = PatternLayout\nappender.A1.layout.pattern = [%d{HH:mm:ss}] %replace{%m}{foo}{bar}%n\n\n# whole line\nappender.A1.layout.pattern = %replace{[%d{HH:mm:ss}] %m%n}{foo}{bar}\n</code></pre>\n<h2>For More Information</h2>\n<p><a href=\"http://logging.apache.org/log4j/log4j-2.0-beta7/manual/layouts.html\" rel=\"nofollow noreferrer\">Log4j2 - Layouts</a></p>\n<blockquote>\n<p>replace{pattern}{regex}{substitution}</p>\n<p>Replaces occurrences of 'regex', a regular expression, with its replacement 'substitution' in the string resulting from evaluation of the pattern. For example, &quot;%replace{%msg}{\\s}{}&quot; will remove all spaces contained in the event message.</p>\n<p>The pattern can be arbitrarily complex and in particular can contain multiple conversion keywords. For instance, &quot;%replace{%logger %msg}{.}{/}&quot; will replace all dots in the logger or the message of the event with a forward slash.</p>\n</blockquote>\n"}],"owner":{"account_id":11034844,"reputation":75,"user_id":8105075,"display_name":"MagicRain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65813434,"answer_count":1,"score":0,"last_activity_date":1661415901,"creation_date":1611156548,"question_id":65812560,"body_markdown":"Using log4j2, I want to replace some strings in log message (say replace ***foo*** with ***bar***). In xml configuration, I can use the following configuration and it works.\r\n```\r\n&lt;Appenders&gt;\r\n     &lt;Console name=&quot;A1&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n         &lt;PatternLayout pattern=&quot;[%d{HH:mm:ss}] %m%n&quot;&gt;\r\n             &lt;replace regex = &quot;foo&quot; replacement=&quot;bar&quot;/&gt;\r\n         &lt;/PatternLayout&gt;\r\n     &lt;/Console&gt;\r\n&lt;/Appenders&gt;\r\n```\r\n\r\nBut insted of using XML, I have to use properties file in my project, so I tried something like\r\n```\r\nappender.A1.type = Console\r\nappender.A1.name = A1\r\nappender.A1.layout.type = PatternLayout\r\nappender.A1.layout.pattern = [%d{HH:mm:ss}] %m%n\r\n# Probably BAD code begin\r\nappender.A1.layout.replace.regex = foo\r\nappender.A1.layout.replace.replacement = bar\r\n# Probably BAD code end\r\n```\r\nAnd I got error like:\r\n```\r\nException in thread &quot;main&quot; org.apache.logging.log4j.core.config.ConfigurationException: No type attribute provided for component replace\r\n\tat org.apache.logging.log4j.core.config.properties.PropertiesConfigurationBuilder.createComponent(PropertiesConfigurationBuilder.java:334)\r\n...\r\n```\r\n\r\nHow can I represent ***replace*** in properties file and in log4j2, is it possible to transform everything in xml configuration to properties configuration? \r\nI&#39;m using log4j-api-2.14.0.jar and log4j-core-2.14.0.jar.\r\n\r\nThx in advance!\r\n\r\n**EDIT:**\r\nI &#39;ve also tried ```replace{pattern}{regex}{substitution}``` before. And I think this is different from the **replace** parameter.\r\nSay the pattern is \r\n```\r\nappender.A1.layout.pattern = [%d{HH:mm:ss}][%C::%M] %replace{%m}{foo}{bar}%n\r\n```\r\nAnd I will get\r\n```\r\n[09:28:07][com.foo.MyApp::main] 111 bar 222\r\n```\r\nbut what I want to get is \r\n```\r\n[09:28:07][com.bar.MyApp::main] 111 bar 222\r\n```\r\nUsing above XML configuration, I can get the correct result but I don&#39;t know how to convert it into properties configuration. ","title":"Log4j2: How to use replace parameter in log4j2.properties file","body":"<p>Using log4j2, I want to replace some strings in log message (say replace <em><strong>foo</strong></em> with <em><strong>bar</strong></em>). In xml configuration, I can use the following configuration and it works.</p>\n<pre><code>&lt;Appenders&gt;\n     &lt;Console name=&quot;A1&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n         &lt;PatternLayout pattern=&quot;[%d{HH:mm:ss}] %m%n&quot;&gt;\n             &lt;replace regex = &quot;foo&quot; replacement=&quot;bar&quot;/&gt;\n         &lt;/PatternLayout&gt;\n     &lt;/Console&gt;\n&lt;/Appenders&gt;\n</code></pre>\n<p>But insted of using XML, I have to use properties file in my project, so I tried something like</p>\n<pre><code>appender.A1.type = Console\nappender.A1.name = A1\nappender.A1.layout.type = PatternLayout\nappender.A1.layout.pattern = [%d{HH:mm:ss}] %m%n\n# Probably BAD code begin\nappender.A1.layout.replace.regex = foo\nappender.A1.layout.replace.replacement = bar\n# Probably BAD code end\n</code></pre>\n<p>And I got error like:</p>\n<pre><code>Exception in thread &quot;main&quot; org.apache.logging.log4j.core.config.ConfigurationException: No type attribute provided for component replace\n    at org.apache.logging.log4j.core.config.properties.PropertiesConfigurationBuilder.createComponent(PropertiesConfigurationBuilder.java:334)\n...\n</code></pre>\n<p>How can I represent <em><strong>replace</strong></em> in properties file and in log4j2, is it possible to transform everything in xml configuration to properties configuration?\nI'm using log4j-api-2.14.0.jar and log4j-core-2.14.0.jar.</p>\n<p>Thx in advance!</p>\n<p><strong>EDIT:</strong>\nI 've also tried <code>replace{pattern}{regex}{substitution}</code> before. And I think this is different from the <strong>replace</strong> parameter.\nSay the pattern is</p>\n<pre><code>appender.A1.layout.pattern = [%d{HH:mm:ss}][%C::%M] %replace{%m}{foo}{bar}%n\n</code></pre>\n<p>And I will get</p>\n<pre><code>[09:28:07][com.foo.MyApp::main] 111 bar 222\n</code></pre>\n<p>but what I want to get is</p>\n<pre><code>[09:28:07][com.bar.MyApp::main] 111 bar 222\n</code></pre>\n<p>Using above XML configuration, I can get the correct result but I don't know how to convert it into properties configuration.</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":2030,"reputation":50607,"user_id":2788,"accept_rate":69,"display_name":"Strelok"},"score":0,"creation_date":1661412137,"post_id":73479878,"comment_id":129767157,"body_markdown":"What package is your @SpringBootApplication annotated entry point class?","body":"What package is your @SpringBootApplication annotated entry point class?"},{"owner":{"account_id":23482702,"reputation":21,"user_id":17534625,"display_name":"brvim"},"score":0,"creation_date":1661456272,"post_id":73479878,"comment_id":129783644,"body_markdown":"i  found this solution on internet, but it wasnt working also...\n@SpringBootApplication(exclude={DataSourceAutoConfiguration.class})","body":"i  found this solution on internet, but it wasnt working also... @SpringBootApplication(exclude={DataSourceAutoConfiguration.&zwnj;&#8203;class})"},{"owner":{"account_id":2030,"reputation":50607,"user_id":2788,"accept_rate":69,"display_name":"Strelok"},"score":0,"creation_date":1661468135,"post_id":73479878,"comment_id":129786224,"body_markdown":"Make sure your main class is in a package that is a parent of both the service package and a repository package.","body":"Make sure your main class is in a package that is a parent of both the service package and a repository package."}],"answers":[{"tags":[],"owner":{"account_id":26156523,"reputation":61,"user_id":19843711,"display_name":"cr0ow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661415410,"creation_date":1661415410,"answer_id":73484127,"question_id":73479878,"body_markdown":"You need to annotate your interface `AppUserRepository` with `@Repository` annotation. It allows Spring to create a bean your are missing.","title":"Parameter 0 of constructor in Service required a bean of Repository type","body":"<p>You need to annotate your interface <code>AppUserRepository</code> with <code>@Repository</code> annotation. It allows Spring to create a bean your are missing.</p>\n"}],"owner":{"account_id":23482702,"reputation":21,"user_id":17534625,"display_name":"brvim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":983,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661415410,"creation_date":1661378109,"question_id":73479878,"body_markdown":"I keep getting this error message:\r\n\r\nDescription:\r\n\r\nParameter 0 of constructor in com.projectName.Service.UserService required a bean of type &#39;com.projectName.Repositories.AppUserRepository&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.projectName.Repositories.AppUserRepository&#39; in your configuration.\r\n\r\nthose are my classes\r\n\r\n    public interface AppUserRepository extends JpaRepository&lt;AppUser, Long&gt; {\r\n        AppUser findByUsername(String username);\r\n        Optional&lt;AppUser&gt; findById(Long id);\r\n    }\r\n    public interface IUserService {\r\n        AccountDto saveUser(AccountDto newUser) throws ParseException;\r\n        AppRole saveRole(AppRole role);\r\n        void addRoleToUser(String username, String roleName);\r\n        EmployeeInfoDto getUser(String username);\r\n        AppUser getUserApp(String username);\r\n    }\r\n\r\n@Service @RequiredArgsConstructor @Transactional @Slf4j\r\npublic class UserService implements IUserService, UserDetailsService {\r\n\r\n    private final AppUserRepository userRepository;\r\n    private final AppRoleRepository roleRepository;\r\n    private final PasswordEncoder passwordEncoder;\r\n    private ModelMapper modelMapper;\r\n    private final AppUserModelAssembler assembler;\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        AppUser user = userRepository.findByUsername(username);\r\n        if(user==null){\r\n            \r\n            throw new UsernameNotFoundException(&quot;User is not found in database&quot;);\r\n        }\r\n        else {\r\n            \r\n        }\r\n        Collection&lt;SimpleGrantedAuthority&gt; authorities=new ArrayList&lt;&gt;();\r\n        user.getRoles().forEach(role-&gt;{authorities.add(new SimpleGrantedAuthority(role.getName()));});\r\n\r\n        return new org.springframework.security.core.userdetails.User(user.getUsername(),user.getPassword(),authorities);\r\n    }\r\n    @Override\r\n    public AccountDto saveUser(AccountDto newUser) throws ParseException {\r\n        \r\n        AppUser usernameAlreadyExist=userRepository.findByUsername(newUser.getUsername());\r\n        if(usernameAlreadyExist== null)\r\n        {\r\n            AppRole role=roleRepository.findByName(&quot;employee&quot;);\r\n            newUser.setPassword(passwordEncoder.encode(newUser.getPassword()));\r\n            newUser.getRoles().add(role);\r\n            userRepository.save(assembler.convertToAppUserEntity(newUser));\r\n            return newUser;\r\n        }\r\n        else return null;\r\n    }\r\n    @Override\r\n    public void deleteUser(String username){\r\n        \r\n        AppUser user=userRepository.findByUsername(username);\r\n        userRepository.deleteById(user.getId());\r\n        log.info(&quot;obrisala sam korisnika&quot;);\r\n    }\r\n    @Override\r\n    public boolean changePassword(String username, UserChangePasswordDto passwordDto){\r\n        AppUser user=userRepository.findByUsername(username);\r\n        String encodedOldPass=passwordEncoder.encode(passwordDto.getOldPassword());\r\n        boolean isPasswordCorrect=passwordEncoder.matches(passwordDto.getOldPassword(),user.getPassword());\r\n        if(isPasswordCorrect)\r\n        {\r\n           \r\n            user.setPassword(passwordEncoder.encode(passwordDto.getNewPassword()));\r\n            userRepository.save(user);\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    }\r\n    @Override\r\n    public EmployeeInfoDto updateProfile(String username, EmployeeInfoDto userDto){\r\n        AppUser user=userRepository.findByUsername(username);\r\n        user.setFirstName(userDto.getFirstName());\r\n        user.setLastName(userDto.getLastName());\r\n        user.setPlaceOfWork(userDto.getPlaceOfWork());\r\n        user.setEmail(userDto.getEmail());\r\n        return assembler.toModel(userRepository.save(user));\r\n    }\r\n    @Override\r\n    public AppRole saveRole(AppRole role) {\r\n        return roleRepository.save(role);\r\n    }\r\n\r\n    @Override\r\n    public void addRoleToUser(String username, String roleName) {\r\n        AppUser user=userRepository.findByUsername(username);\r\n        AppRole role=roleRepository.findByName(roleName);\r\n        user.getRoles().add(role);\r\n    }\r\n\r\n    @Override\r\n    public EmployeeInfoDto getUser(String username) {\r\n        return assembler.toModel(userRepository.findByUsername(username));\r\n    }\r\n    public AppUser getUserApp(String username) {\r\n        return userRepository.findByUsername(username);\r\n    }\r\n    \r\n\r\n}\r\n\r\n\r\n","title":"Parameter 0 of constructor in Service required a bean of Repository type","body":"<p>I keep getting this error message:</p>\n<p>Description:</p>\n<p>Parameter 0 of constructor in com.projectName.Service.UserService required a bean of type 'com.projectName.Repositories.AppUserRepository' that could not be found.</p>\n<p>Action:</p>\n<p>Consider defining a bean of type 'com.projectName.Repositories.AppUserRepository' in your configuration.</p>\n<p>those are my classes</p>\n<pre><code>public interface AppUserRepository extends JpaRepository&lt;AppUser, Long&gt; {\n    AppUser findByUsername(String username);\n    Optional&lt;AppUser&gt; findById(Long id);\n}\npublic interface IUserService {\n    AccountDto saveUser(AccountDto newUser) throws ParseException;\n    AppRole saveRole(AppRole role);\n    void addRoleToUser(String username, String roleName);\n    EmployeeInfoDto getUser(String username);\n    AppUser getUserApp(String username);\n}\n</code></pre>\n<p>@Service @RequiredArgsConstructor @Transactional @Slf4j\npublic class UserService implements IUserService, UserDetailsService {</p>\n<pre><code>private final AppUserRepository userRepository;\nprivate final AppRoleRepository roleRepository;\nprivate final PasswordEncoder passwordEncoder;\nprivate ModelMapper modelMapper;\nprivate final AppUserModelAssembler assembler;\n\n@Override\npublic UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n    AppUser user = userRepository.findByUsername(username);\n    if(user==null){\n        \n        throw new UsernameNotFoundException(&quot;User is not found in database&quot;);\n    }\n    else {\n        \n    }\n    Collection&lt;SimpleGrantedAuthority&gt; authorities=new ArrayList&lt;&gt;();\n    user.getRoles().forEach(role-&gt;{authorities.add(new SimpleGrantedAuthority(role.getName()));});\n\n    return new org.springframework.security.core.userdetails.User(user.getUsername(),user.getPassword(),authorities);\n}\n@Override\npublic AccountDto saveUser(AccountDto newUser) throws ParseException {\n    \n    AppUser usernameAlreadyExist=userRepository.findByUsername(newUser.getUsername());\n    if(usernameAlreadyExist== null)\n    {\n        AppRole role=roleRepository.findByName(&quot;employee&quot;);\n        newUser.setPassword(passwordEncoder.encode(newUser.getPassword()));\n        newUser.getRoles().add(role);\n        userRepository.save(assembler.convertToAppUserEntity(newUser));\n        return newUser;\n    }\n    else return null;\n}\n@Override\npublic void deleteUser(String username){\n    \n    AppUser user=userRepository.findByUsername(username);\n    userRepository.deleteById(user.getId());\n    log.info(&quot;obrisala sam korisnika&quot;);\n}\n@Override\npublic boolean changePassword(String username, UserChangePasswordDto passwordDto){\n    AppUser user=userRepository.findByUsername(username);\n    String encodedOldPass=passwordEncoder.encode(passwordDto.getOldPassword());\n    boolean isPasswordCorrect=passwordEncoder.matches(passwordDto.getOldPassword(),user.getPassword());\n    if(isPasswordCorrect)\n    {\n       \n        user.setPassword(passwordEncoder.encode(passwordDto.getNewPassword()));\n        userRepository.save(user);\n        return true;\n    }\n    else {\n        return false;\n    }\n}\n@Override\npublic EmployeeInfoDto updateProfile(String username, EmployeeInfoDto userDto){\n    AppUser user=userRepository.findByUsername(username);\n    user.setFirstName(userDto.getFirstName());\n    user.setLastName(userDto.getLastName());\n    user.setPlaceOfWork(userDto.getPlaceOfWork());\n    user.setEmail(userDto.getEmail());\n    return assembler.toModel(userRepository.save(user));\n}\n@Override\npublic AppRole saveRole(AppRole role) {\n    return roleRepository.save(role);\n}\n\n@Override\npublic void addRoleToUser(String username, String roleName) {\n    AppUser user=userRepository.findByUsername(username);\n    AppRole role=roleRepository.findByName(roleName);\n    user.getRoles().add(role);\n}\n\n@Override\npublic EmployeeInfoDto getUser(String username) {\n    return assembler.toModel(userRepository.findByUsername(username));\n}\npublic AppUser getUserApp(String username) {\n    return userRepository.findByUsername(username);\n}\n</code></pre>\n<p>}</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8908,"page":1084,"page_size":100}
