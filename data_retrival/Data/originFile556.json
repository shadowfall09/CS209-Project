{"items":[{"tags":["javascript","java","scripting","jshell"],"comments":[{"owner":{"account_id":20466438,"reputation":115,"user_id":15017829,"display_name":"Mike Kim"},"score":0,"creation_date":1680073125,"post_id":62135679,"comment_id":133832968,"body_markdown":"While the accepted answer is brilliant and performant, I&#39;m wondering why you say that Nashorn as a dependency is not available https://stackoverflow.com/questions/65265629/how-to-use-nashorn-in-java-15-and-later","body":"While the accepted answer is brilliant and performant, I&#39;m wondering why you say that Nashorn as a dependency is not available <a href=\"https://stackoverflow.com/questions/65265629/how-to-use-nashorn-in-java-15-and-later\" title=\"how to use nashorn in java 15 and later\">stackoverflow.com/questions/65265629/&hellip;</a>"},{"owner":{"account_id":263986,"reputation":678,"user_id":549939,"accept_rate":86,"display_name":"Skcussm"},"score":1,"creation_date":1680272677,"post_id":62135679,"comment_id":133875182,"body_markdown":"@MikeKim  When I originally posted this question, the Nashorn package had only been available as part of the JDK.  It wasn&#39;t until shortly after this that the maintainers created a standalone version of Nashorn for Java 15+.","body":"@MikeKim  When I originally posted this question, the Nashorn package had only been available as part of the JDK.  It wasn&#39;t until shortly after this that the maintainers created a standalone version of Nashorn for Java 15+."},{"owner":{"account_id":20466438,"reputation":115,"user_id":15017829,"display_name":"Mike Kim"},"score":0,"creation_date":1680377236,"post_id":62135679,"comment_id":133889632,"body_markdown":"lol I didn&#39;t realie this was 3 years old","body":"lol I didn&#39;t realie this was 3 years old"}],"answers":[{"tags":[],"owner":{"account_id":6592153,"reputation":1029,"user_id":5093005,"display_name":"jboockmann"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1679487617,"creation_date":1679487617,"answer_id":75812189,"question_id":62135679,"body_markdown":"I stumbled across the same performance issue today and I think I found a solution. It boils down to the following four steps:\r\n\r\n1. starting the JShell inside the currently running JVM using the `LocalExecutionControlProvider` such that they share the same class loader\r\n2. defining a static field inside a class that serves as a &quot;shared variable&quot; between the JShell and our &quot;normal&quot; Java code\r\n3. overwriting the static field inside the JShell with a newly constructed lambda function\r\n4. storing the reference to the constructed function in a variable inside our &quot;normal&quot; Java code (necessary if we want to construct multiple functions via this approach)\r\n\r\nThe following code snippet implements this approach for your example. On my machine, it takes approx. 350ms for the initial function construction via JShell and approx. 50ms for the 10_000 subsequent function calls.\r\n\r\n```java\r\npackage app;\r\n\r\nimport jdk.jshell.JShell;\r\nimport jdk.jshell.execution.LocalExecutionControlProvider;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport java.util.function.BiFunction;\r\n\r\npublic class Debug {\r\n\r\n    public static BiFunction&lt;Integer, Integer, Integer&gt; function = null;\r\n\r\n    @Test\r\n    public void debug() {\r\n        JShell jShell = JShell.builder()\r\n                .in(System.in).out(System.out).err(System.err)\r\n                .executionEngine(new LocalExecutionControlProvider(), null)\r\n                .build();\r\n        jShell.eval(&quot;app.Debug.function = (a,b) -&gt; a+b;&quot;);\r\n        BiFunction&lt;Integer, Integer, Integer&gt; theFunction = Debug.function;\r\n        for (int a = 0; a &lt; 100; a++) {\r\n            for (int b = 0; b &lt; 100; b++) {\r\n                assert theFunction.apply(a, b) == a + b;\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"How do I get better performance out of JShell?","body":"<p>I stumbled across the same performance issue today and I think I found a solution. It boils down to the following four steps:</p>\n<ol>\n<li>starting the JShell inside the currently running JVM using the <code>LocalExecutionControlProvider</code> such that they share the same class loader</li>\n<li>defining a static field inside a class that serves as a &quot;shared variable&quot; between the JShell and our &quot;normal&quot; Java code</li>\n<li>overwriting the static field inside the JShell with a newly constructed lambda function</li>\n<li>storing the reference to the constructed function in a variable inside our &quot;normal&quot; Java code (necessary if we want to construct multiple functions via this approach)</li>\n</ol>\n<p>The following code snippet implements this approach for your example. On my machine, it takes approx. 350ms for the initial function construction via JShell and approx. 50ms for the 10_000 subsequent function calls.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package app;\n\nimport jdk.jshell.JShell;\nimport jdk.jshell.execution.LocalExecutionControlProvider;\nimport org.junit.jupiter.api.Test;\n\nimport java.util.function.BiFunction;\n\npublic class Debug {\n\n    public static BiFunction&lt;Integer, Integer, Integer&gt; function = null;\n\n    @Test\n    public void debug() {\n        JShell jShell = JShell.builder()\n                .in(System.in).out(System.out).err(System.err)\n                .executionEngine(new LocalExecutionControlProvider(), null)\n                .build();\n        jShell.eval(&quot;app.Debug.function = (a,b) -&gt; a+b;&quot;);\n        BiFunction&lt;Integer, Integer, Integer&gt; theFunction = Debug.function;\n        for (int a = 0; a &lt; 100; a++) {\n            for (int b = 0; b &lt; 100; b++) {\n                assert theFunction.apply(a, b) == a + b;\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":263986,"reputation":678,"user_id":549939,"accept_rate":86,"display_name":"Skcussm"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":75812189,"answer_count":1,"score":6,"last_activity_date":1679487617,"creation_date":1591025808,"question_id":62135679,"body_markdown":"**Background**:\r\n\r\nSince Nashorn is being dropped in JDK15, I am looking for an alternative for an application I am working on.  I am currently only using for the dynamic execution of some user-definable formatting snippets within a java swing desktop application.\r\n\r\nI don&#39;t particularly want to add another library dependency to my app (like rhino).  I would be willing to use nashorn as an additional dependency if it is available (this would save me from having to rewrite code, and ensure compatibility with existing js snippets).  I haven&#39;t seen that it is available anywhere except as something that was related to minecraft.\r\n\r\nI won&#39;t switch to Graal vm.\r\n\r\n**The problem**:\r\n\r\nI was considering using JShell (though not javascript, much of the formatting code is very similar), but the performance is abysmal the way I am calling it:\r\n\r\n```\r\ntry(JShell js = JShell.create())\r\n{\r\n\tjs.eval(&quot;public int add(int a, int b) { return a + b; }&quot;);\r\n\tfor(int i = 0; i &lt; 100; i++)\r\n\t{\r\n\t\tList&lt;SnippetEvent&gt; eval = js.eval(&quot;add(5,6)&quot;);\r\n\t\teval.forEach(se -&gt; {\r\n\t\t\tSystem.out.println(se.value());\r\n\t\t});\r\n\t}\r\n}\r\n```\r\nThe for loop in the that code is taking ~6 seconds to run (compared to ~11 microseconds in nashorn).  This will not be fast enough for my application.  \r\n\r\n- Is there a way to get the class bytecode back out of JSell so I can use reflection to execute the method directly instead of calling &#39;eval&#39; again?  \r\n\r\n- Is there a way to get a &#39;method handle&#39; to a method I create in JShell?\r\n\r\n- Is there any way of making a function where the behavior is defined in JShell, but can be called with high performance from &#39;normal&#39; java?\r\n\r\n","title":"How do I get better performance out of JShell?","body":"<p><strong>Background</strong>:</p>\n\n<p>Since Nashorn is being dropped in JDK15, I am looking for an alternative for an application I am working on.  I am currently only using for the dynamic execution of some user-definable formatting snippets within a java swing desktop application.</p>\n\n<p>I don't particularly want to add another library dependency to my app (like rhino).  I would be willing to use nashorn as an additional dependency if it is available (this would save me from having to rewrite code, and ensure compatibility with existing js snippets).  I haven't seen that it is available anywhere except as something that was related to minecraft.</p>\n\n<p>I won't switch to Graal vm.</p>\n\n<p><strong>The problem</strong>:</p>\n\n<p>I was considering using JShell (though not javascript, much of the formatting code is very similar), but the performance is abysmal the way I am calling it:</p>\n\n<pre><code>try(JShell js = JShell.create())\n{\n    js.eval(\"public int add(int a, int b) { return a + b; }\");\n    for(int i = 0; i &lt; 100; i++)\n    {\n        List&lt;SnippetEvent&gt; eval = js.eval(\"add(5,6)\");\n        eval.forEach(se -&gt; {\n            System.out.println(se.value());\n        });\n    }\n}\n</code></pre>\n\n<p>The for loop in the that code is taking ~6 seconds to run (compared to ~11 microseconds in nashorn).  This will not be fast enough for my application.  </p>\n\n<ul>\n<li><p>Is there a way to get the class bytecode back out of JSell so I can use reflection to execute the method directly instead of calling 'eval' again?  </p></li>\n<li><p>Is there a way to get a 'method handle' to a method I create in JShell?</p></li>\n<li><p>Is there any way of making a function where the behavior is defined in JShell, but can be called with high performance from 'normal' java?</p></li>\n</ul>\n"},{"tags":["java","output"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1679482730,"post_id":75811302,"comment_id":133728815,"body_markdown":"Hello and welcome. &quot;my IDE can&#39;t find the class&quot; did you download the appropriate jar and added it as a dependency?","body":"Hello and welcome. &quot;my IDE can&#39;t find the class&quot; did you download the appropriate jar and added it as a dependency?"},{"owner":{"account_id":28084570,"reputation":21,"user_id":21455135,"display_name":"Riki"},"score":0,"creation_date":1679482884,"post_id":75811302,"comment_id":133728852,"body_markdown":"where can I download it from? When I look at the javadoc I can only see the documentation, no download link.","body":"where can I download it from? When I look at the javadoc I can only see the documentation, no download link."},{"owner":{"account_id":28084570,"reputation":21,"user_id":21455135,"display_name":"Riki"},"score":0,"creation_date":1679482936,"post_id":75811302,"comment_id":133728867,"body_markdown":"by the way, thanks for the editing of my question. It&#39;s way more clear now with the code highlighted","body":"by the way, thanks for the editing of my question. It&#39;s way more clear now with the code highlighted"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1679483279,"post_id":75811302,"comment_id":133728951,"body_markdown":"The official website for Text IO looks like a good place to start. Both for downloads and for documentation. https://text-io.beryx.org/releases/latest/ The one you linked refers to version 1.9.0, while the current version is 3.4.1. `AnsiTextTerminal` doesn&#39;t seem to exist beyond version 1.9.0, and that&#39;s probably the reason your IDE can&#39;t find it (you&#39;re probably using a more recent version of Text IO). TL;DR: don&#39;t trust ChatGPT just yet.","body":"The official website for Text IO looks like a good place to start. Both for downloads and for documentation. <a href=\"https://text-io.beryx.org/releases/latest/\" rel=\"nofollow noreferrer\">text-io.beryx.org/releases/latest</a> The one you linked refers to version 1.9.0, while the current version is 3.4.1. <code>AnsiTextTerminal</code> doesn&#39;t seem to exist beyond version 1.9.0, and that&#39;s probably the reason your IDE can&#39;t find it (you&#39;re probably using a more recent version of Text IO). TL;DR: don&#39;t trust ChatGPT just yet."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1679483334,"post_id":75811302,"comment_id":133728968,"body_markdown":"About the edits, no problem, you&#39;re welcome ;)","body":"About the edits, no problem, you&#39;re welcome ;)"},{"owner":{"account_id":28084570,"reputation":21,"user_id":21455135,"display_name":"Riki"},"score":0,"creation_date":1679483387,"post_id":75811302,"comment_id":133728978,"body_markdown":"found this: [link]https://github.com/beryx/text-io , but the class AnsiTextTerminal does not exist here (or at least that&#39;s what I found in this other documentation: [link]https://text-io.beryx.org/releases/latest/javadoc/org/beryx/textio/jline/package-summary.html )","body":"found this: [link]<a href=\"https://github.com/beryx/text-io\" rel=\"nofollow noreferrer\">github.com/beryx/text-io</a> , but the class AnsiTextTerminal does not exist here (or at least that&#39;s what I found in this other documentation: [link]<a href=\"https://text-io.beryx.org/releases/latest/javadoc/org/beryx/textio/jline/package-summary.html\" rel=\"nofollow noreferrer\">text-io.beryx.org/releases/latest/javadoc/org/beryx/te&zwnj;&#8203;xtio/&hellip;</a> )"},{"owner":{"account_id":28084570,"reputation":21,"user_id":21455135,"display_name":"Riki"},"score":0,"creation_date":1679483520,"post_id":75811302,"comment_id":133729022,"body_markdown":"thanks for the reply! I&#39;ll search for some alternatives to TextIO than","body":"thanks for the reply! I&#39;ll search for some alternatives to TextIO than"},{"owner":{"account_id":1387645,"reputation":7926,"user_id":1319284,"accept_rate":69,"display_name":"kutschkem"},"score":0,"creation_date":1679484009,"post_id":75811302,"comment_id":133729152,"body_markdown":"Which TextTerminal ARE you using? I would expect `SystemTextTerminal` and potentially `ConsoleTextTerminal` to work in this case. Those basically just output to stdout so if the terminal emulator you are running in supports the sequences, then it should kind of just work?","body":"Which TextTerminal ARE you using? I would expect <code>SystemTextTerminal</code> and potentially <code>ConsoleTextTerminal</code> to work in this case. Those basically just output to stdout so if the terminal emulator you are running in supports the sequences, then it should kind of just work?"},{"owner":{"account_id":28084570,"reputation":21,"user_id":21455135,"display_name":"Riki"},"score":0,"creation_date":1679487305,"post_id":75811302,"comment_id":133730003,"body_markdown":"I can try using these other Terminals, but if the solution I provided will work I may stick with it, as I should probably keep using the given classes (it&#39;s for an assignment), thanks for the advice anyway!","body":"I can try using these other Terminals, but if the solution I provided will work I may stick with it, as I should probably keep using the given classes (it&#39;s for an assignment), thanks for the advice anyway!"}],"answers":[{"tags":[],"owner":{"account_id":28084570,"reputation":21,"user_id":21455135,"display_name":"Riki"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1679487564,"creation_date":1679483693,"answer_id":75811543,"question_id":75811302,"body_markdown":"**Solution: TextTerminal temporary properties - ( from https://text-io.beryx.org/releases/latest/#terminal_temporary_props )**\r\n\r\n&gt; Sometimes you want to temporarily change some TextTerminal properties\r\n&gt; and revert them to their previous values after a couple of operations.\r\n&gt; You can achieve this by passing the sequence of operations to be\r\n&gt; executed with modified properties as argument to the\r\n&gt; `executeWithPropertiesConfigurator()` method, as shown in the example\r\n&gt; below.\r\n&gt; \r\n&gt;     textTerminal.getProperties().setPromptColor(&quot;cyan&quot;);\r\n&gt;     textTerminal.println(&quot;1. Choose the desired hard drive.&quot;);\r\n&gt;     textTerminal.executeWithPropertiesConfigurator(\r\n&gt;             props -&gt; props.setPromptColor(&quot;red&quot;),\r\n&gt;             t -&gt; t.println(&quot;2. Backup all your data.&quot;));\r\n&gt;     textTerminal.println(&quot;3. Start the formatting process.&quot;);\r\n&gt; \r\n&gt; The second message will appear in red, while the other two will be\r\n&gt; printed in cyan.\r\n&gt; \r\n&gt; The code above uses hard-coded property values. A more elegant\r\n&gt; solution is to specify these values in the `textio.properties` file.\r\n&gt; TextTerminal offers the `executeWithPropertiesPrefix()` convenience\r\n&gt; method to help you accomplish this task.\r\n&gt; \r\n&gt; Consider the code below:\r\n&gt; \r\n&gt;     textTerminal.println(&quot;1. Choose the desired hard drive.&quot;);\r\n&gt;     textTerminal.executeWithPropertiesPrefix(&quot;warn&quot;,\r\n&gt;             t -&gt; t.println(&quot;2. Backup all your data.&quot;));\r\n&gt;     textTerminal.println(&quot;3. Start the formatting process.&quot;);\r\n&gt; \r\n&gt; and let’s assume that your textio.properties contains:\r\n&gt; \r\n&gt;     textio.prompt.color = cyan\r\n&gt;     textio.warn.prompt.color = red\r\n&gt; \r\n&gt; Then, the second message will appear in red, while the other two will\r\n&gt; be printed in cyan.","title":"Alternative to TextIO","body":"<p><strong>Solution: TextTerminal temporary properties - ( from <a href=\"https://text-io.beryx.org/releases/latest/#terminal_temporary_props\" rel=\"nofollow noreferrer\">https://text-io.beryx.org/releases/latest/#terminal_temporary_props</a> )</strong></p>\n<blockquote>\n<p>Sometimes you want to temporarily change some TextTerminal properties\nand revert them to their previous values after a couple of operations.\nYou can achieve this by passing the sequence of operations to be\nexecuted with modified properties as argument to the\n<code>executeWithPropertiesConfigurator()</code> method, as shown in the example\nbelow.</p>\n<pre><code>textTerminal.getProperties().setPromptColor(&quot;cyan&quot;);\ntextTerminal.println(&quot;1. Choose the desired hard drive.&quot;);\ntextTerminal.executeWithPropertiesConfigurator(\n        props -&gt; props.setPromptColor(&quot;red&quot;),\n        t -&gt; t.println(&quot;2. Backup all your data.&quot;));\ntextTerminal.println(&quot;3. Start the formatting process.&quot;);\n</code></pre>\n<p>The second message will appear in red, while the other two will be\nprinted in cyan.</p>\n<p>The code above uses hard-coded property values. A more elegant\nsolution is to specify these values in the <code>textio.properties</code> file.\nTextTerminal offers the <code>executeWithPropertiesPrefix()</code> convenience\nmethod to help you accomplish this task.</p>\n<p>Consider the code below:</p>\n<pre><code>textTerminal.println(&quot;1. Choose the desired hard drive.&quot;);\ntextTerminal.executeWithPropertiesPrefix(&quot;warn&quot;,\n        t -&gt; t.println(&quot;2. Backup all your data.&quot;));\ntextTerminal.println(&quot;3. Start the formatting process.&quot;);\n</code></pre>\n<p>and let’s assume that your textio.properties contains:</p>\n<pre><code>textio.prompt.color = cyan\ntextio.warn.prompt.color = red\n</code></pre>\n<p>Then, the second message will appear in red, while the other two will\nbe printed in cyan.</p>\n</blockquote>\n"}],"owner":{"account_id":28084570,"reputation":21,"user_id":21455135,"display_name":"Riki"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75811543,"answer_count":1,"score":0,"last_activity_date":1679487564,"creation_date":1679482320,"question_id":75811302,"body_markdown":"I had to print some Strings in a `TextTerminal` using the `TextIO` class and this code worked fine:\r\n\r\n```\r\npublic class InOut {\r\n    private final TextIO textIo;\r\n    private final TextTerminal&lt;?&gt; textTerminal;\r\n\r\n    public InOut() {\r\n        textIo = TextIoFactory.getTextIO();\r\n        textTerminal = textIo.getTextTerminal();\r\n    }\r\n\r\n    public void printLn(String output) {\r\n        textTerminal.println(output);\r\n    }\r\n    ...\r\n}\r\n```\r\nI however recently added ANSI escape sequences to the String I&#39;m feeding in the `println` method, as when using `System.out.println` those sequences allowed text to be formatted. I however noticed that the `TextIO` does not read these sequences correctly and outputs them as text instead. Is there an alternative to ANSI escape sequences that will work with `TextIO` and `TextTerminal` or is there another class that I can use with the `TextTerminal` that will read ANSI escape sequences correctly?\r\n\r\nThe escape sequences I&#39;m trying to use are `&quot;\\u001B[32m&quot;` (print some green text) and `&quot;\\u001B[0m&quot;` (reset the print color)\r\n\r\n\r\nI forgot to add: ChatGPT proposed to use the `AnsiTextTerminal` class, so I searched for some documentation. I found this page: https://javadoc.io/doc/org.beryx/text-io/1.9.0/org/beryx/textio/jline/AnsiTextTerminal.html , however when I try to import the class with `import org.beryx.textio.jline.AnsiTextTerminal` as described on the javadoc page my IDE can&#39;t find the class","title":"Alternative to TextIO","body":"<p>I had to print some Strings in a <code>TextTerminal</code> using the <code>TextIO</code> class and this code worked fine:</p>\n<pre><code>public class InOut {\n    private final TextIO textIo;\n    private final TextTerminal&lt;?&gt; textTerminal;\n\n    public InOut() {\n        textIo = TextIoFactory.getTextIO();\n        textTerminal = textIo.getTextTerminal();\n    }\n\n    public void printLn(String output) {\n        textTerminal.println(output);\n    }\n    ...\n}\n</code></pre>\n<p>I however recently added ANSI escape sequences to the String I'm feeding in the <code>println</code> method, as when using <code>System.out.println</code> those sequences allowed text to be formatted. I however noticed that the <code>TextIO</code> does not read these sequences correctly and outputs them as text instead. Is there an alternative to ANSI escape sequences that will work with <code>TextIO</code> and <code>TextTerminal</code> or is there another class that I can use with the <code>TextTerminal</code> that will read ANSI escape sequences correctly?</p>\n<p>The escape sequences I'm trying to use are <code>&quot;\\u001B[32m&quot;</code> (print some green text) and <code>&quot;\\u001B[0m&quot;</code> (reset the print color)</p>\n<p>I forgot to add: ChatGPT proposed to use the <code>AnsiTextTerminal</code> class, so I searched for some documentation. I found this page: <a href=\"https://javadoc.io/doc/org.beryx/text-io/1.9.0/org/beryx/textio/jline/AnsiTextTerminal.html\" rel=\"nofollow noreferrer\">https://javadoc.io/doc/org.beryx/text-io/1.9.0/org/beryx/textio/jline/AnsiTextTerminal.html</a> , however when I try to import the class with <code>import org.beryx.textio.jline.AnsiTextTerminal</code> as described on the javadoc page my IDE can't find the class</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679484029,"creation_date":1679484029,"answer_id":75811596,"question_id":75811195,"body_markdown":"&gt; Whenever I try to add a new number, the list will duplicate. It will show the old list and then the new list.\r\n\r\nThis is happening because each time something inside the database takes place, for example, an addition, an update, or a delete operation, the `QuerySnapshot` contains all the data at the location the listener is pointing to. So to solve this, before adding data to the list, make sure to call the [List#clear()][1] method. In code, it will be as simple as:\r\n\r\n    List&lt;TableInfo&gt; data= value.toObjects(TableInfo.class);\r\n    if(!data.empty()) {\r\n        allDataList.clear(); //&#128072;\r\n    }\r\n    allDataList.addAll(data);\r\n    rcv.setLayoutManager(new GridLayoutManager(MainActivity.this,3));\r\n    rcv.setAdapter(adapter);\r\n    adapter.notifyDataSetChanged();\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/List.html#clear()","title":"Recycler View replicates data everytime I add something new","body":"<blockquote>\n<p>Whenever I try to add a new number, the list will duplicate. It will show the old list and then the new list.</p>\n</blockquote>\n<p>This is happening because each time something inside the database takes place, for example, an addition, an update, or a delete operation, the <code>QuerySnapshot</code> contains all the data at the location the listener is pointing to. So to solve this, before adding data to the list, make sure to call the <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/List.html#clear()\" rel=\"nofollow noreferrer\">List#clear()</a> method. In code, it will be as simple as:</p>\n<pre><code>List&lt;TableInfo&gt; data= value.toObjects(TableInfo.class);\nif(!data.empty()) {\n    allDataList.clear(); //👈\n}\nallDataList.addAll(data);\nrcv.setLayoutManager(new GridLayoutManager(MainActivity.this,3));\nrcv.setAdapter(adapter);\nadapter.notifyDataSetChanged();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23787141,"reputation":559,"user_id":17799032,"display_name":"Daniel Knauf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679487511,"creation_date":1679487511,"answer_id":75812172,"question_id":75811195,"body_markdown":"For your use case, [ListAdapter][1] might improve and simplify things. It will manage updating the list correctly and animate any changed (see also [DiffCallback][2] for better update handling).\r\n\r\n`ListAdapter` extends `RecyclerView.Adapter` and provides all functionality to display lists of data. When you get a new data list you just submit it to the adapter by calling `adapter.submitList(dataList)` and it will calculate the difference between the previous list and new list. With this you do not have to `clear()` the adapter first or call `notifyDataSetChanged()`. \r\n\r\n\r\n  [1]: https://developer.android.com/reference/androidx/recyclerview/widget/ListAdapter\r\n  [2]: https://developer.android.com/reference/androidx/recyclerview/widget/DiffUtil.ItemCallback","title":"Recycler View replicates data everytime I add something new","body":"<p>For your use case, <a href=\"https://developer.android.com/reference/androidx/recyclerview/widget/ListAdapter\" rel=\"nofollow noreferrer\">ListAdapter</a> might improve and simplify things. It will manage updating the list correctly and animate any changed (see also <a href=\"https://developer.android.com/reference/androidx/recyclerview/widget/DiffUtil.ItemCallback\" rel=\"nofollow noreferrer\">DiffCallback</a> for better update handling).</p>\n<p><code>ListAdapter</code> extends <code>RecyclerView.Adapter</code> and provides all functionality to display lists of data. When you get a new data list you just submit it to the adapter by calling <code>adapter.submitList(dataList)</code> and it will calculate the difference between the previous list and new list. With this you do not have to <code>clear()</code> the adapter first or call <code>notifyDataSetChanged()</code>.</p>\n"}],"owner":{"account_id":27566250,"reputation":3,"user_id":21038384,"display_name":"shaz_M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75811596,"answer_count":2,"score":0,"last_activity_date":1679487511,"creation_date":1679481688,"question_id":75811195,"body_markdown":"Whenever I try to add a new number, the list will duplicate. It will show the old list and then the new list. I am storing these numbers in Firestore and from there I am retrieving them.\r\n\r\nFor example, I tried adding 3 to it. It showed the old list and then the new list.\r\n\r\n[[enter image description here](https://i.stack.imgur.com/wZnCB.png)](https://i.stack.imgur.com/TrvIl.png)\r\n\r\nHere is how I am retrieving data\r\n\r\n\r\n``` \r\n\r\n\r\nReadTableInfo adapter;\r\n\r\npublic void getAllData(){\r\n\r\n        allDataList = new ArrayList&lt;&gt;();\r\n        allDataList.clear();\r\n        adapter = new ReadTableInfo(MainActivity.this,allDataList);\r\n        db.collection(&quot;Date&quot;).document(du).collection(&quot;Table&quot;).orderBy(&quot;tableNumber&quot;).addSnapshotListener(new EventListener&lt;QuerySnapshot&gt;() {\r\n            @Override\r\n            public void onEvent(@Nullable QuerySnapshot value, @Nullable FirebaseFirestoreException error) {\r\n                if (error == null) {\r\n                List&lt;TableInfo&gt; data= value.toObjects(TableInfo.class);\r\n\r\n                allDataList.addAll(data);\r\n                rcv.setLayoutManager(new GridLayoutManager(MainActivity.this,3));\r\n                rcv.setAdapter(adapter);\r\n                adapter.notifyDataSetChanged();\r\n\r\n\r\n\r\n                }\r\n            }\r\n        });\r\n\r\n    }\r\n```\r\n\r\n\r\nThis is the adapter for RecyclerView.\r\n\r\n```\r\npublic class ReadTableInfo extends RecyclerView.Adapter&lt;ReadTableInfo.ReadTableInfoHolder&gt; {\r\n    MainActivity mainActivity;\r\n    ArrayList&lt;TableInfo&gt; allDataList;\r\n\r\n    public ReadTableInfo(MainActivity mainActivity, ArrayList&lt;TableInfo&gt; allDataList) {\r\n        this.allDataList=allDataList;\r\n        this.mainActivity=mainActivity;\r\n\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ReadTableInfoHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        return new ReadTableInfoHolder(LayoutInflater.from(mainActivity).inflate(R.layout.item_table,parent,false));\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ReadTableInfoHolder holder, int position) {\r\n\r\n\r\n        holder.itemTableNumber.setText(allDataList.get(position).getTableNumber());\r\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                mainActivity.startActivity(new Intent(mainActivity,TableWorker.class).putExtra(&quot;key&quot;,allDataList.get(position).getUid())\r\n                        .putExtra(&quot;kw2&quot;,allDataList.get(position).getKw()));\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return allDataList.size();\r\n    }\r\n\r\n    class ReadTableInfoHolder extends RecyclerView.ViewHolder {\r\n        TextView itemTableNumber;\r\n\r\n        public ReadTableInfoHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            itemTableNumber=itemView.findViewById(R.id.tableNo);\r\n        }\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n","title":"Recycler View replicates data everytime I add something new","body":"<p>Whenever I try to add a new number, the list will duplicate. It will show the old list and then the new list. I am storing these numbers in Firestore and from there I am retrieving them.</p>\n<p>For example, I tried adding 3 to it. It showed the old list and then the new list.</p>\n<p>[<a href=\"https://i.stack.imgur.com/wZnCB.png\" rel=\"nofollow noreferrer\">enter image description here</a>](<a href=\"https://i.stack.imgur.com/TrvIl.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/TrvIl.png</a>)</p>\n<p>Here is how I am retrieving data</p>\n<pre><code>\n\nReadTableInfo adapter;\n\npublic void getAllData(){\n\n        allDataList = new ArrayList&lt;&gt;();\n        allDataList.clear();\n        adapter = new ReadTableInfo(MainActivity.this,allDataList);\n        db.collection(&quot;Date&quot;).document(du).collection(&quot;Table&quot;).orderBy(&quot;tableNumber&quot;).addSnapshotListener(new EventListener&lt;QuerySnapshot&gt;() {\n            @Override\n            public void onEvent(@Nullable QuerySnapshot value, @Nullable FirebaseFirestoreException error) {\n                if (error == null) {\n                List&lt;TableInfo&gt; data= value.toObjects(TableInfo.class);\n\n                allDataList.addAll(data);\n                rcv.setLayoutManager(new GridLayoutManager(MainActivity.this,3));\n                rcv.setAdapter(adapter);\n                adapter.notifyDataSetChanged();\n\n\n\n                }\n            }\n        });\n\n    }\n</code></pre>\n<p>This is the adapter for RecyclerView.</p>\n<pre><code>public class ReadTableInfo extends RecyclerView.Adapter&lt;ReadTableInfo.ReadTableInfoHolder&gt; {\n    MainActivity mainActivity;\n    ArrayList&lt;TableInfo&gt; allDataList;\n\n    public ReadTableInfo(MainActivity mainActivity, ArrayList&lt;TableInfo&gt; allDataList) {\n        this.allDataList=allDataList;\n        this.mainActivity=mainActivity;\n\n    }\n\n    @NonNull\n    @Override\n    public ReadTableInfoHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        return new ReadTableInfoHolder(LayoutInflater.from(mainActivity).inflate(R.layout.item_table,parent,false));\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ReadTableInfoHolder holder, int position) {\n\n\n        holder.itemTableNumber.setText(allDataList.get(position).getTableNumber());\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                mainActivity.startActivity(new Intent(mainActivity,TableWorker.class).putExtra(&quot;key&quot;,allDataList.get(position).getUid())\n                        .putExtra(&quot;kw2&quot;,allDataList.get(position).getKw()));\n            }\n        });\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return allDataList.size();\n    }\n\n    class ReadTableInfoHolder extends RecyclerView.ViewHolder {\n        TextView itemTableNumber;\n\n        public ReadTableInfoHolder(@NonNull View itemView) {\n            super(itemView);\n            itemTableNumber=itemView.findViewById(R.id.tableNo);\n        }\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","json","spring-boot","intellij-idea","postman"],"comments":[{"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"score":1,"creation_date":1679482934,"post_id":75811170,"comment_id":133728866,"body_markdown":"Can you replace the images with the code? just copy paste the code in code blocks.","body":"Can you replace the images with the code? just copy paste the code in code blocks."},{"owner":{"account_id":28084545,"reputation":3,"user_id":21455115,"display_name":"Juu"},"score":0,"creation_date":1679484869,"post_id":75811170,"comment_id":133729374,"body_markdown":"Ok it&#39;s done !!","body":"Ok it&#39;s done !!"},{"owner":{"account_id":13318942,"reputation":3000,"user_id":9614331,"display_name":"Avijit Barua"},"score":0,"creation_date":1679485358,"post_id":75811170,"comment_id":133729508,"body_markdown":"Have you checked your DB whether data updated or not ?","body":"Have you checked your DB whether data updated or not ?"},{"owner":{"account_id":28084545,"reputation":3,"user_id":21455115,"display_name":"Juu"},"score":0,"creation_date":1679485469,"post_id":75811170,"comment_id":133729537,"body_markdown":"Data are update in the DB","body":"Data are update in the DB"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1679485611,"post_id":75811170,"comment_id":133729565,"body_markdown":"The output shows that the `@RequestBody User user` gets filled with an instance of `User`, but all the fields are `null`. But the field names match the json, so this should work. At least I cannot see an obvious problem.","body":"The output shows that the <code>@RequestBody User user</code> gets filled with an instance of <code>User</code>, but all the fields are <code>null</code>. But the field names match the json, so this should work. At least I cannot see an obvious problem."},{"owner":{"account_id":28084545,"reputation":3,"user_id":21455115,"display_name":"Juu"},"score":0,"creation_date":1679485872,"post_id":75811170,"comment_id":133729634,"body_markdown":"I agree on this fact, I&#39;ve been on it since yesterday. The field name are create by Spring Boot in DB so it&#39;s the same","body":"I agree on this fact, I&#39;ve been on it since yesterday. The field name are create by Spring Boot in DB so it&#39;s the same"},{"owner":{"account_id":13318942,"reputation":3000,"user_id":9614331,"display_name":"Avijit Barua"},"score":0,"creation_date":1679486053,"post_id":75811170,"comment_id":133729680,"body_markdown":"As you are telling db is updated. But in screenshot I see even in controller while you printing data, there is null also while receiving object from postman.","body":"As you are telling db is updated. But in screenshot I see even in controller while you printing data, there is null also while receiving object from postman."},{"owner":{"account_id":28084545,"reputation":3,"user_id":21455115,"display_name":"Juu"},"score":0,"creation_date":1679486298,"post_id":75811170,"comment_id":133729748,"body_markdown":"Yeah, is that my problem, I receive null from postman, so my user in DB updated to null","body":"Yeah, is that my problem, I receive null from postman, so my user in DB updated to null"},{"owner":{"account_id":13318942,"reputation":3000,"user_id":9614331,"display_name":"Avijit Barua"},"score":0,"creation_date":1679487010,"post_id":75811170,"comment_id":133729918,"body_markdown":"@Juu Can you post what are the import in controller ?","body":"@Juu Can you post what are the import in controller ?"},{"owner":{"account_id":28084545,"reputation":3,"user_id":21455115,"display_name":"Juu"},"score":0,"creation_date":1679487249,"post_id":75811170,"comment_id":133729980,"body_markdown":"@AvijitBarua There it is","body":"@AvijitBarua There it is"},{"owner":{"account_id":13318942,"reputation":3000,"user_id":9614331,"display_name":"Avijit Barua"},"score":0,"creation_date":1679487376,"post_id":75811170,"comment_id":133730020,"body_markdown":"@Juu I found the problem may be. Check my answer.","body":"@Juu I found the problem may be. Check my answer."}],"answers":[{"tags":[],"owner":{"account_id":8361573,"reputation":573,"user_id":6279677,"display_name":"Suchandra T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679482835,"creation_date":1679482835,"answer_id":75811384,"question_id":75811170,"body_markdown":"Replace your putMapping code with the following one:\r\n\r\n    @PutMapping(value = &quot;/update/{id}&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n\r\nPost running the program please let us know the output of the spring application.\r\n\r\n","title":"Why am I not getting data sent from postman in JSON format?","body":"<p>Replace your putMapping code with the following one:</p>\n<pre><code>@PutMapping(value = &quot;/update/{id}&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\n</code></pre>\n<p>Post running the program please let us know the output of the spring application.</p>\n"},{"tags":[],"owner":{"account_id":13318942,"reputation":3000,"user_id":9614331,"display_name":"Avijit Barua"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679487319,"creation_date":1679487319,"answer_id":75812143,"question_id":75811170,"body_markdown":"Check the @RequestBody import,\r\n\r\nI think this import making issue\r\n\r\n    import io.swagger.v3.oas.annotations.parameters.RequestBody;\r\n\r\nUse this import\r\n\r\n    import org.springframework.web.bind.annotation.RequestBody;","title":"Why am I not getting data sent from postman in JSON format?","body":"<p>Check the @RequestBody import,</p>\n<p>I think this import making issue</p>\n<pre><code>import io.swagger.v3.oas.annotations.parameters.RequestBody;\n</code></pre>\n<p>Use this import</p>\n<pre><code>import org.springframework.web.bind.annotation.RequestBody;\n</code></pre>\n"}],"owner":{"account_id":28084545,"reputation":3,"user_id":21455115,"display_name":"Juu"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75812143,"answer_count":2,"score":0,"last_activity_date":1679487319,"creation_date":1679481544,"question_id":75811170,"body_markdown":"I want to modify an existing user object in the database (retrieved using its id) via a @RequestBody (Spring Boot). Unfortunately, my object is found, but all String values are replaced by a null type. When I display the data I&#39;m supposed to receive, everything is null.\r\n\r\n Model\r\n\r\n    @Entity\r\n    @Table(name=&quot;user&quot;)\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Data\r\n    @Builder\r\n    @Getter\r\n    @Setter\r\n    public class User {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name=&quot;id&quot;, nullable = false, updatable = false)\r\n        private Long id;\r\n    \r\n        @Column\r\n        private String name;\r\n    \r\n        @Column\r\n        private String email;\r\n    \r\n        @Column\r\n        private String password;\r\n    \r\n        @Column\r\n        private String role;\r\n    \r\n        @Column\r\n        private double somme_dispo;\r\n    }\r\n\r\n Controller\r\n\r\n\r\n    import java.util.List;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.CrossOrigin;\r\n    import org.springframework.web.bind.annotation.DeleteMapping;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.PutMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import com.fan2foot.fan2foot.repository.UserRepository;\r\n    import com.fan2foot.fan2foot.service.UserService;\r\n    import io.swagger.v3.oas.annotations.parameters.RequestBody;\r\n    import com.fan2foot.fan2foot.model.User;\r\n\r\n    @PutMapping(&quot;/update/{id}&quot;)\r\n    public ResponseEntity&lt;User&gt; update(@PathVariable Long id, @RequestBody User user)  {\r\n        System.out.println(user.getName());\r\n        System.out.println(user.getEmail());\r\n        System.out.println(user.getPassword());\r\n        System.out.println(user.getRole());\r\n        User users = userService.updateUser(id, user);\r\n        System.out.println(users.getName());\r\n        System.out.println(users.getEmail());\r\n        System.out.println(users.getPassword());\r\n        System.out.println(users.getRole());\r\n        return new ResponseEntity&lt;&gt;(users, HttpStatus.OK);\r\n    }\r\n\r\nService \r\n\r\n    public User updateUser(Long id, User user) {\r\n        return userRepository.findById(id)\r\n                .map(u -&gt; {\r\n                    u.setName(user.getName());\r\n                    u.setEmail(user.getEmail());\r\n                    u.setPassword(user.getPassword());\r\n                    u.setRole(user.getRole());\r\n                    u.setSomme_dispo(user.getSomme_dispo());\r\n                    return userRepository.save(u);\r\n                }).orElseThrow(() -&gt; new RuntimeException(&quot;User non trouv&#233;...&quot;));\r\n    }\r\n\r\n[Here is how I send data in postman](https://i.stack.imgur.com/aMF0C.png)\r\n\r\n[Here is the result of the query execution](https://i.stack.imgur.com/Tg2tK.jpg)\r\n\r\nWith another guy we inspected the model, controller, service and concluded that we have exactly the same code, his code works but mine doesn&#39;t","title":"Why am I not getting data sent from postman in JSON format?","body":"<p>I want to modify an existing user object in the database (retrieved using its id) via a @RequestBody (Spring Boot). Unfortunately, my object is found, but all String values are replaced by a null type. When I display the data I'm supposed to receive, everything is null.</p>\n<p>Model</p>\n<pre><code>@Entity\n@Table(name=&quot;user&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@Builder\n@Getter\n@Setter\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name=&quot;id&quot;, nullable = false, updatable = false)\n    private Long id;\n\n    @Column\n    private String name;\n\n    @Column\n    private String email;\n\n    @Column\n    private String password;\n\n    @Column\n    private String role;\n\n    @Column\n    private double somme_dispo;\n}\n</code></pre>\n<p>Controller</p>\n<pre><code>import java.util.List;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.DeleteMapping;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.PutMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport com.fan2foot.fan2foot.repository.UserRepository;\nimport com.fan2foot.fan2foot.service.UserService;\nimport io.swagger.v3.oas.annotations.parameters.RequestBody;\nimport com.fan2foot.fan2foot.model.User;\n\n@PutMapping(&quot;/update/{id}&quot;)\npublic ResponseEntity&lt;User&gt; update(@PathVariable Long id, @RequestBody User user)  {\n    System.out.println(user.getName());\n    System.out.println(user.getEmail());\n    System.out.println(user.getPassword());\n    System.out.println(user.getRole());\n    User users = userService.updateUser(id, user);\n    System.out.println(users.getName());\n    System.out.println(users.getEmail());\n    System.out.println(users.getPassword());\n    System.out.println(users.getRole());\n    return new ResponseEntity&lt;&gt;(users, HttpStatus.OK);\n}\n</code></pre>\n<p>Service</p>\n<pre><code>public User updateUser(Long id, User user) {\n    return userRepository.findById(id)\n            .map(u -&gt; {\n                u.setName(user.getName());\n                u.setEmail(user.getEmail());\n                u.setPassword(user.getPassword());\n                u.setRole(user.getRole());\n                u.setSomme_dispo(user.getSomme_dispo());\n                return userRepository.save(u);\n            }).orElseThrow(() -&gt; new RuntimeException(&quot;User non trouvé...&quot;));\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/aMF0C.png\" rel=\"nofollow noreferrer\">Here is how I send data in postman</a></p>\n<p><a href=\"https://i.stack.imgur.com/Tg2tK.jpg\" rel=\"nofollow noreferrer\">Here is the result of the query execution</a></p>\n<p>With another guy we inspected the model, controller, service and concluded that we have exactly the same code, his code works but mine doesn't</p>\n"},{"tags":["java","user-interface","swing","jframe"],"comments":[{"owner":{"account_id":191,"reputation":24539,"user_id":235,"display_name":"Joshua McKinnon"},"score":1,"creation_date":1273158169,"post_id":2781939,"comment_id":2817099,"body_markdown":"What platform are you on, and what version of Java are you using?","body":"What platform are you on, and what version of Java are you using?"},{"owner":{"account_id":191,"reputation":24539,"user_id":235,"display_name":"Joshua McKinnon"},"score":0,"creation_date":1273163767,"post_id":2781939,"comment_id":2817851,"body_markdown":"do you know the specific update number of your java 6? Type &#39;java -version&#39; and you should see something like: java version &quot;1.6.0_18&quot;, 18 would be the update #. It&#39;s possible there is a bug that is only fixed in a later version of java 6","body":"do you know the specific update number of your java 6? Type &#39;java -version&#39; and you should see something like: java version &quot;1.6.0_18&quot;, 18 would be the update #. It&#39;s possible there is a bug that is only fixed in a later version of java 6"},{"owner":{"account_id":131531,"reputation":2748,"user_id":331618,"display_name":"ablaeul"},"score":0,"creation_date":1273172763,"post_id":2781939,"comment_id":2818936,"body_markdown":"On top of that, could you edit your post to give us a small example of your code, so you show us the problem.","body":"On top of that, could you edit your post to give us a small example of your code, so you show us the problem."},{"owner":{"account_id":56016,"reputation":16795,"user_id":167814,"accept_rate":91,"display_name":"shadyabhi"},"score":0,"creation_date":1273200963,"post_id":2781939,"comment_id":2821423,"body_markdown":"I just copy and pasted your code and ran it. Same issue happened.. I am still having the same problem..","body":"I just copy and pasted your code and ran it. Same issue happened.. I am still having the same problem.."},{"owner":{"account_id":56016,"reputation":16795,"user_id":167814,"accept_rate":91,"display_name":"shadyabhi"},"score":0,"creation_date":1273205079,"post_id":2781939,"comment_id":2821717,"body_markdown":"Issue solved... I was using java 1.5.0.. while netbeans is using java 1.6.0_20.. So, the new version solved the issue..","body":"Issue solved... I was using java 1.5.0.. while netbeans is using java 1.6.0_20.. So, the new version solved the issue.."}],"answers":[{"tags":[],"owner":{"account_id":131531,"reputation":2748,"user_id":331618,"display_name":"ablaeul"},"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1273157849,"creation_date":1273157849,"answer_id":2782041,"question_id":2781939,"body_markdown":"The [documentation][1] tells me, that this behavior is platform dependent. Especially, since the following example code works for me as desired in Windows Vista:\r\n\r\n    import java.awt.Dimension;\r\n    \r\n    import javax.swing.JFrame;\r\n\r\n    public class JFrameExample {\r\n    \tpublic static void main(String[] args) {\r\n    \t    JFrame frame = new JFrame(&quot;Hello World&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t    \tframe.setMinimumSize(new Dimension(100, 100));\r\n\t    \tframe.setVisible(true);\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/awt/Window.html#setMinimumSize%28java.awt.Dimension%29","title":"Setting minimum size limit for a window in java swing","body":"<p>The <a href=\"http://java.sun.com/javase/6/docs/api/java/awt/Window.html#setMinimumSize%28java.awt.Dimension%29\" rel=\"noreferrer\">documentation</a> tells me, that this behavior is platform dependent. Especially, since the following example code works for me as desired in Windows Vista:</p>\n\n<pre><code>import java.awt.Dimension;\n\nimport javax.swing.JFrame;\n\npublic class JFrameExample {\n    public static void main(String[] args) {\n        JFrame frame = new JFrame(\"Hello World\");\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setMinimumSize(new Dimension(100, 100));\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":447397,"reputation":608,"user_id":840997,"accept_rate":71,"display_name":"Bat0u89"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1346324275,"creation_date":1346324275,"answer_id":12195320,"question_id":2781939,"body_markdown":"There actually is a way to ensure minimum size on any platform. You need to set the minimum size of the JFrame to the minimum size of its content pane and then you need to write a ComponentAdapter and override componentResized. Then you just use getSize and getMinimum size on your JFrame and substitute width and/or height with the minimum width or height if it is greater. Assuming you are extending JFrame:\r\n\r\n    this.addComponentListener(new ComponentAdapter(){\r\n            public void componentResized(ComponentEvent e){\r\n                Dimension d=YourJFrame.this.getSize();\r\n                Dimension minD=YourJFrame.this.getMinimumSize();\r\n                if(d.width&lt;minD.width)\r\n                    d.width=minD.width;\r\n                if(d.height&lt;minD.height)\r\n                    d.height=minD.height;\r\n                YourJFrame.this.setSize(d);\r\n            }\r\n        });","title":"Setting minimum size limit for a window in java swing","body":"<p>There actually is a way to ensure minimum size on any platform. You need to set the minimum size of the JFrame to the minimum size of its content pane and then you need to write a ComponentAdapter and override componentResized. Then you just use getSize and getMinimum size on your JFrame and substitute width and/or height with the minimum width or height if it is greater. Assuming you are extending JFrame:</p>\n\n<pre><code>this.addComponentListener(new ComponentAdapter(){\n        public void componentResized(ComponentEvent e){\n            Dimension d=YourJFrame.this.getSize();\n            Dimension minD=YourJFrame.this.getMinimumSize();\n            if(d.width&lt;minD.width)\n                d.width=minD.width;\n            if(d.height&lt;minD.height)\n                d.height=minD.height;\n            YourJFrame.this.setSize(d);\n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":56016,"reputation":16795,"user_id":167814,"accept_rate":91,"display_name":"shadyabhi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70345,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":2782041,"answer_count":2,"score":32,"last_activity_date":1679486787,"creation_date":1273156922,"question_id":2781939,"body_markdown":"I have a **JFrame** which has **3 JPanels** in **GridBagLayout**..\r\n\r\nNow, when I minimize a windows, after a certain limit, the third JPanel tends to disappear.\r\nI tried setting minimizing size of JFrame using **setMinimumSize(new Dimension(int,int))** but no success. The windows can still be minimized. \r\n\r\n\r\n&gt; So, I actually want to make a threshhold, that my window cannot be minimized after a certain limit.\r\n\r\nHow can I do so?\r\n\r\nCode:-\r\n\r\n    import java.awt.Dimension;\r\n    \r\n    import javax.swing.JFrame;\r\n    \r\n    public class JFrameExample {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tJFrame frame = new JFrame(&quot;Hello World&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tframe.setMinimumSize(new Dimension(400, 400));\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    }\r\nAlso:\r\n\r\n    shadyabhi@shadyabhi-desktop:~/java$ java --showversion\r\n    java version &quot;1.5.0&quot;\r\n    gij (GNU libgcj) version 4.4.1\r\n    \r\n    Copyright (C) 2007 Free Software Foundation, Inc.\r\n    This is free software; see the source for copying conditions.  There is NO\r\n    warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\r\n    Usage: gij [OPTION] ... CLASS [ARGS] ...\r\n              to invoke CLASS.main, or\r\n           gij -jar [OPTION] ... JARFILE [ARGS] ...\r\n              to execute a jar file\r\n    Try `gij --help&#39; for more information.\r\n    shadyabhi@shadyabhi-desktop:~/java$\r\n\r\nGives me output like \r\n\r\n[![alt text][1]][1]  \n&lt;sub&gt;(source: [abhijeet1989 at sites.google.com](https://sites.google.com/site/abhijeet1989/OMG3.png))&lt;/sub&gt;  \n\r\n\r\n**UPDATE: ** The same when run though Netbeans IDE gives expected output.. When I run through &quot;java JFrameExample&quot; compiler, I am facing issues.. Now, what that means??\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/c8DHL.png","title":"Setting minimum size limit for a window in java swing","body":"<p>I have a <strong>JFrame</strong> which has <strong>3 JPanels</strong> in <strong>GridBagLayout</strong>..</p>\n<p>Now, when I minimize a windows, after a certain limit, the third JPanel tends to disappear.\nI tried setting minimizing size of JFrame using <strong>setMinimumSize(new Dimension(int,int))</strong> but no success. The windows can still be minimized.</p>\n<blockquote>\n<p>So, I actually want to make a threshhold, that my window cannot be minimized after a certain limit.</p>\n</blockquote>\n<p>How can I do so?</p>\n<p>Code:-</p>\n<pre><code>import java.awt.Dimension;\n\nimport javax.swing.JFrame;\n\npublic class JFrameExample {\n    public static void main(String[] args) {\n        JFrame frame = new JFrame(&quot;Hello World&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setMinimumSize(new Dimension(400, 400));\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n<p>Also:</p>\n<pre><code>shadyabhi@shadyabhi-desktop:~/java$ java --showversion\njava version &quot;1.5.0&quot;\ngij (GNU libgcj) version 4.4.1\n\nCopyright (C) 2007 Free Software Foundation, Inc.\nThis is free software; see the source for copying conditions.  There is NO\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\nUsage: gij [OPTION] ... CLASS [ARGS] ...\n          to invoke CLASS.main, or\n       gij -jar [OPTION] ... JARFILE [ARGS] ...\n          to execute a jar file\nTry `gij --help' for more information.\nshadyabhi@shadyabhi-desktop:~/java$\n</code></pre>\n<p>Gives me output like</p>\n<p><a href=\"https://i.stack.imgur.com/c8DHL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c8DHL.png\" alt=\"alt text\" /></a><br />\n<sub>(source: <a href=\"https://sites.google.com/site/abhijeet1989/OMG3.png\" rel=\"nofollow noreferrer\">abhijeet1989 at sites.google.com</a>)</sub></p>\n<p>**UPDATE: ** The same when run though Netbeans IDE gives expected output.. When I run through &quot;java JFrameExample&quot; compiler, I am facing issues.. Now, what that means??</p>\n"},{"tags":["java","compiler-errors","java-stream","functional-interface"],"comments":[{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":2,"creation_date":1679485918,"post_id":75811825,"comment_id":133729643,"body_markdown":"Method `IntStream#collect` differs from `Stream#collect` - it doesn&#39;t accept `Collector` argument and doesn&#39;t return `Map` as a result","body":"Method <code>IntStream#collect</code> differs from <code>Stream#collect</code> - it doesn&#39;t accept <code>Collector</code> argument and doesn&#39;t return <code>Map</code> as a result"}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299838,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679485886,"creation_date":1679485608,"answer_id":75811855,"question_id":75811825,"body_markdown":"An `IntStream` produces a stream of `int`s, not `java.lang.Integer`s, and hence the compiler error. One solution is to box the steam to convert them to `Integer`s:\r\n\r\n```java\r\nMap&lt;Integer, String&gt; clients = \r\n    IntStream.range(1, 10).\r\n             .boxed() // Here!\r\n             .collect(\r\n                  Collectors.toMap(Function.identity(),\r\n                  i-&gt; new StringBuilder().append(&quot;client_&quot;).append(i).toString()));\r\n```","title":"Java Stream API: IntStream to Map","body":"<p>An <code>IntStream</code> produces a stream of <code>int</code>s, not <code>java.lang.Integer</code>s, and hence the compiler error. One solution is to box the steam to convert them to <code>Integer</code>s:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Integer, String&gt; clients = \n    IntStream.range(1, 10).\n             .boxed() // Here!\n             .collect(\n                  Collectors.toMap(Function.identity(),\n                  i-&gt; new StringBuilder().append(&quot;client_&quot;).append(i).toString()));\n</code></pre>\n"}],"owner":{"account_id":12545326,"reputation":1014,"user_id":9128863,"display_name":"Jelly"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75811855,"answer_count":1,"score":1,"last_activity_date":1679486686,"creation_date":1679485302,"question_id":75811825,"body_markdown":"The task is to generate a Map, with keys, represented as integers in the range from 0 to 10, and values, represented as a string value, contcatenated with key-value.\r\n  \r\nFor example,`{ key = 1, value = &quot;client_1&quot;; key = 2, value = &quot;client_2&quot; .... }`\r\n\r\nI tried to do this as shown below:\r\n\r\n    Map&lt;Integer, String&gt; clients = IntStream.range(1, 10).collect(Collectors.toMap(Function.identity(), new Function&lt;Integer, String&gt;() {\r\n            @Override\r\n            public String apply(Integer integer) {\r\n                return new StringBuilder().append(&quot;client_&quot;).append(integer).toString();\r\n            }\r\n        }));\r\n\r\nAnd in lambda:\r\n\r\n     Map&lt;Integer, String&gt; clients = IntStream.range(1, 10).collect(Collectors.toMap(Function.identity(),\r\n                integer -&gt; new StringBuilder().append(&quot;client_&quot;).append(integer).toString()));\r\n\r\n\r\nBut IDEA marks this with error and informs, that **required** type is Supplier&lt;R  and **provided**:\r\nCollector&lt;Integer,capture of ?,java.util.Map&lt;java.lang.Object,java.lang.String&gt;&gt;\r\n\r\nCollectors.toMap has the following signature:\r\n\r\n      toMap(Function&lt;? super T, ? extends K&gt; keyMapper,\r\n            Function&lt;? super T, ? extends U&gt; valueMapper)\r\n\r\nI passed into this method arguments with Function-type. Why the Supplier is required? \r\n\r\n\r\n\r\n\r\n    ","title":"Java Stream API: IntStream to Map","body":"<p>The task is to generate a Map, with keys, represented as integers in the range from 0 to 10, and values, represented as a string value, contcatenated with key-value.</p>\n<p>For example,<code>{ key = 1, value = &quot;client_1&quot;; key = 2, value = &quot;client_2&quot; .... }</code></p>\n<p>I tried to do this as shown below:</p>\n<pre><code>Map&lt;Integer, String&gt; clients = IntStream.range(1, 10).collect(Collectors.toMap(Function.identity(), new Function&lt;Integer, String&gt;() {\n        @Override\n        public String apply(Integer integer) {\n            return new StringBuilder().append(&quot;client_&quot;).append(integer).toString();\n        }\n    }));\n</code></pre>\n<p>And in lambda:</p>\n<pre><code> Map&lt;Integer, String&gt; clients = IntStream.range(1, 10).collect(Collectors.toMap(Function.identity(),\n            integer -&gt; new StringBuilder().append(&quot;client_&quot;).append(integer).toString()));\n</code></pre>\n<p>But IDEA marks this with error and informs, that <strong>required</strong> type is Supplier&lt;R  and <strong>provided</strong>:\nCollector&lt;Integer,capture of ?,java.util.Map&lt;java.lang.Object,java.lang.String&gt;&gt;</p>\n<p>Collectors.toMap has the following signature:</p>\n<pre><code>  toMap(Function&lt;? super T, ? extends K&gt; keyMapper,\n        Function&lt;? super T, ? extends U&gt; valueMapper)\n</code></pre>\n<p>I passed into this method arguments with Function-type. Why the Supplier is required?</p>\n"},{"tags":["java","jackson","annotations"],"answers":[{"tags":[],"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679486663,"creation_date":1679486663,"answer_id":75812023,"question_id":75811971,"body_markdown":"The `@JsonInclude` annotation can take multiple values (at least, if you&#39;re not using a very old version of Jackson). Instead of trying to use two annotations, use one with multiple values:\r\n\r\n    @JsonInclude(values = { JsonInclude.Include.NON_ABSENT, JsonInclude.Include.NON_DEFAULT })","title":"How to use two or more annotations for a class at the same time","body":"<p>The <code>@JsonInclude</code> annotation can take multiple values (at least, if you're not using a very old version of Jackson). Instead of trying to use two annotations, use one with multiple values:</p>\n<pre><code>@JsonInclude(values = { JsonInclude.Include.NON_ABSENT, JsonInclude.Include.NON_DEFAULT })\n</code></pre>\n"}],"owner":{"account_id":13442517,"reputation":169,"user_id":9699360,"display_name":"Akila Ranasinghe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679486663,"creation_date":1679486385,"question_id":75811971,"body_markdown":"I have a class called animal and I need to use both `JsonInclude.Include.NON_ABSENT` annotation and `JsonInclude.Include.NON_DEFAULT` on it. I have used it in the following way.\r\n\r\n    @JsonInclude(JsonInclude.Include.NON_ABSENT)\r\n    @JsonInclude(JsonInclude.Include.NON_DEFAULT)\r\n    public class Animal{}\r\n\r\nHowever, it gives out an error saying \r\n\r\n&gt; Duplicate annotation. The declaration of\r\n&gt; &#39;com.fasterxml.jackson.annotation.JsonInclude&#39; does not have a valid\r\n&gt; java.lang.annotation.Repeatable annotation\r\n\r\nHow can I overcome this error and use both annotations at the same time?","title":"How to use two or more annotations for a class at the same time","body":"<p>I have a class called animal and I need to use both <code>JsonInclude.Include.NON_ABSENT</code> annotation and <code>JsonInclude.Include.NON_DEFAULT</code> on it. I have used it in the following way.</p>\n<pre><code>@JsonInclude(JsonInclude.Include.NON_ABSENT)\n@JsonInclude(JsonInclude.Include.NON_DEFAULT)\npublic class Animal{}\n</code></pre>\n<p>However, it gives out an error saying</p>\n<blockquote>\n<p>Duplicate annotation. The declaration of\n'com.fasterxml.jackson.annotation.JsonInclude' does not have a valid\njava.lang.annotation.Repeatable annotation</p>\n</blockquote>\n<p>How can I overcome this error and use both annotations at the same time?</p>\n"},{"tags":["java","maps","mapbox"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1679496739,"post_id":75811951,"comment_id":133732974,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":20136608,"reputation":1,"user_id":14767446,"display_name":"Omar Alkaff"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679486256,"creation_date":1679486256,"question_id":75811951,"body_markdown":"when I run the app it&#39;s suppose to show the user location but it doesn&#39;t show it, when i run it it display the map only,i have tried to use another dependencies but still have same problem,moreover when i run the app it start at san Francisco  down i have sherd the java file, xml file, and the dependencies file.\r\nthis is Map.java\r\n```\r\n`\r\npublic class Map extends AppCompatActivity implements OnMapReadyCallback, LocationEngineListener, PermissionsListener {\r\n    private MapView mapView;\r\n    private MapboxMap map;\r\n    private PermissionsManager permissionsManager;\r\n    private LocationEngine locationEngine;\r\n    private LocationLayerPlugin locationLayerPlugin;\r\n    private Location originLocation;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        Mapbox.getInstance(this,getString(R.string.access_token));\r\n        setContentView(R.layout.activity_map);\r\n        mapView = (MapView) findViewById(R.id.mapView);\r\n        mapView.onCreate(savedInstanceState);\r\n        mapView.getMapAsync(this);\r\n        }\r\n\r\n    @Override\r\n    public void onMapReady(MapboxMap mapboxMap) {\r\n\r\n        map = mapboxMap;\r\n        enableLocation();\r\n    }\r\n\r\n    private void enableLocation(){\r\n        if(PermissionsManager.areLocationPermissionsGranted(this)){\r\n\r\n            initializeLocationEngine();\r\n            initializeLocationLayer();\r\n        }else{\r\n            permissionsManager = new PermissionsManager(this);\r\n            permissionsManager.requestLocationPermissions(this);\r\n        }\r\n    }\r\n\r\n    @SuppressWarnings(&quot;MissingPermission&quot;)\r\n    private void initializeLocationEngine(){\r\n        locationEngine = new LocationEngineProvider(this).obtainBestLocationEngineAvailable();\r\n        locationEngine.setPriority(LocationEnginePriority.HIGH_ACCURACY);\r\n        locationEngine.activate();\r\n\r\n        Location lastLocation = locationEngine.getLastLocation();\r\n        if(lastLocation != null){\r\n            originLocation = lastLocation;\r\n            setCameraPosition(lastLocation);\r\n        }else {\r\n            locationEngine.addLocationEngineListener(this);\r\n        }\r\n    }\r\n\r\n    @SuppressWarnings(&quot;MissingPermission&quot;)\r\n    private void initializeLocationLayer(){\r\n        locationLayerPlugin = new LocationLayerPlugin(mapView, map, locationEngine);\r\n        locationLayerPlugin.setLocationLayerEnabled(true);\r\n        locationLayerPlugin.setCameraMode(CameraMode.TRACKING);\r\n        locationLayerPlugin.setRenderMode(RenderMode.NORMAL);\r\n    }\r\n\r\n    private void setCameraPosition(Location location){\r\n        map.animateCamera(CameraUpdateFactory.newLatLngZoom(new LatLng(location.getLatitude(),\r\n                location.getLongitude()),13.0));\r\n    }\r\n\r\n    @Override\r\n    @SuppressWarnings(&quot;MissingPermission&quot;)\r\n    public void onConnected() {\r\n        locationEngine.requestLocationUpdates();\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onLocationChanged(Location location) {\r\n\r\n        if(location !=null){\r\n            originLocation =location;\r\n            setCameraPosition(location);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onExplanationNeeded(List&lt;String&gt; permissionsToExplain) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onPermissionResult(boolean granted) {\r\n        if(granted){\r\n            enableLocation();\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        mapView.onStart();\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        mapView.onResume();\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n        mapView.onPause();\r\n    }\r\n\r\n    @Override\r\n    protected void onStop() {\r\n        super.onStop();\r\n        mapView.onStop();\r\n    }\r\n\r\n    @Override\r\n    protected void onSaveInstanceState(@NonNull Bundle outState) {\r\n        super.onSaveInstanceState(outState);\r\n        mapView.onSaveInstanceState(outState);\r\n    }\r\n\r\n    @Override\r\n    public void onLowMemory() {\r\n        super.onLowMemory();\r\n        mapView.onLowMemory();\r\n    }\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        mapView.onDestroy();\r\n    }\r\n\r\n\r\n}\r\n\r\n this is the permission:\r\n &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n\r\nand this is the xml:\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:mapbox=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.Map&quot;&gt;\r\n\r\n    &lt;com.mapbox.mapboxsdk.maps.MapView\r\n        android:id=&quot;@+id/mapView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        mapbox:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        mapbox:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        mapbox:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        mapbox:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        mapbox:mapbox_cameraTargetLat=&quot;37.7749&quot;\r\n        mapbox:mapbox_cameraTargetLng=&quot;-122.4194&quot;\r\n        mapbox:mapbox_cameraZoom=&quot;12&quot;&gt;\r\n\r\n\r\n    &lt;/com.mapbox.mapboxsdk.maps.MapView&gt;\r\n\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n the dependencies:\r\nimplementation &quot;com.mapbox.mapboxsdk:mapbox-android-sdk:6.0.1&quot;\r\n    implementation &quot;com.mapbox.mapboxsdk:mapbox-android-plugin-locationlayer:0.5.0&quot;\r\n\r\n have followed this video to build it https://www.youtube.com/watch?v=2rclnd8OKHU `\r\n```","title":"Mapbox Android studio","body":"<p>when I run the app it's suppose to show the user location but it doesn't show it, when i run it it display the map only,i have tried to use another dependencies but still have same problem,moreover when i run the app it start at san Francisco  down i have sherd the java file, xml file, and the dependencies file.\nthis is Map.java</p>\n<pre><code>`\npublic class Map extends AppCompatActivity implements OnMapReadyCallback, LocationEngineListener, PermissionsListener {\n    private MapView mapView;\n    private MapboxMap map;\n    private PermissionsManager permissionsManager;\n    private LocationEngine locationEngine;\n    private LocationLayerPlugin locationLayerPlugin;\n    private Location originLocation;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        Mapbox.getInstance(this,getString(R.string.access_token));\n        setContentView(R.layout.activity_map);\n        mapView = (MapView) findViewById(R.id.mapView);\n        mapView.onCreate(savedInstanceState);\n        mapView.getMapAsync(this);\n        }\n\n    @Override\n    public void onMapReady(MapboxMap mapboxMap) {\n\n        map = mapboxMap;\n        enableLocation();\n    }\n\n    private void enableLocation(){\n        if(PermissionsManager.areLocationPermissionsGranted(this)){\n\n            initializeLocationEngine();\n            initializeLocationLayer();\n        }else{\n            permissionsManager = new PermissionsManager(this);\n            permissionsManager.requestLocationPermissions(this);\n        }\n    }\n\n    @SuppressWarnings(&quot;MissingPermission&quot;)\n    private void initializeLocationEngine(){\n        locationEngine = new LocationEngineProvider(this).obtainBestLocationEngineAvailable();\n        locationEngine.setPriority(LocationEnginePriority.HIGH_ACCURACY);\n        locationEngine.activate();\n\n        Location lastLocation = locationEngine.getLastLocation();\n        if(lastLocation != null){\n            originLocation = lastLocation;\n            setCameraPosition(lastLocation);\n        }else {\n            locationEngine.addLocationEngineListener(this);\n        }\n    }\n\n    @SuppressWarnings(&quot;MissingPermission&quot;)\n    private void initializeLocationLayer(){\n        locationLayerPlugin = new LocationLayerPlugin(mapView, map, locationEngine);\n        locationLayerPlugin.setLocationLayerEnabled(true);\n        locationLayerPlugin.setCameraMode(CameraMode.TRACKING);\n        locationLayerPlugin.setRenderMode(RenderMode.NORMAL);\n    }\n\n    private void setCameraPosition(Location location){\n        map.animateCamera(CameraUpdateFactory.newLatLngZoom(new LatLng(location.getLatitude(),\n                location.getLongitude()),13.0));\n    }\n\n    @Override\n    @SuppressWarnings(&quot;MissingPermission&quot;)\n    public void onConnected() {\n        locationEngine.requestLocationUpdates();\n\n    }\n\n    @Override\n    public void onLocationChanged(Location location) {\n\n        if(location !=null){\n            originLocation =location;\n            setCameraPosition(location);\n        }\n    }\n\n    @Override\n    public void onExplanationNeeded(List&lt;String&gt; permissionsToExplain) {\n\n    }\n\n    @Override\n    public void onPermissionResult(boolean granted) {\n        if(granted){\n            enableLocation();\n        }\n\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n\n    }\n\n    @Override\n    protected void onStart() {\n        super.onStart();\n        mapView.onStart();\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        mapView.onResume();\n    }\n\n    @Override\n    protected void onPause() {\n        super.onPause();\n        mapView.onPause();\n    }\n\n    @Override\n    protected void onStop() {\n        super.onStop();\n        mapView.onStop();\n    }\n\n    @Override\n    protected void onSaveInstanceState(@NonNull Bundle outState) {\n        super.onSaveInstanceState(outState);\n        mapView.onSaveInstanceState(outState);\n    }\n\n    @Override\n    public void onLowMemory() {\n        super.onLowMemory();\n        mapView.onLowMemory();\n    }\n\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        mapView.onDestroy();\n    }\n\n\n}\n\n this is the permission:\n &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n\nand this is the xml:\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:mapbox=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.Map&quot;&gt;\n\n    &lt;com.mapbox.mapboxsdk.maps.MapView\n        android:id=&quot;@+id/mapView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        mapbox:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        mapbox:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        mapbox:layout_constraintStart_toStartOf=&quot;parent&quot;\n        mapbox:layout_constraintTop_toTopOf=&quot;parent&quot;\n        mapbox:mapbox_cameraTargetLat=&quot;37.7749&quot;\n        mapbox:mapbox_cameraTargetLng=&quot;-122.4194&quot;\n        mapbox:mapbox_cameraZoom=&quot;12&quot;&gt;\n\n\n    &lt;/com.mapbox.mapboxsdk.maps.MapView&gt;\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n the dependencies:\nimplementation &quot;com.mapbox.mapboxsdk:mapbox-android-sdk:6.0.1&quot;\n    implementation &quot;com.mapbox.mapboxsdk:mapbox-android-plugin-locationlayer:0.5.0&quot;\n\n have followed this video to build it https://www.youtube.com/watch?v=2rclnd8OKHU `\n</code></pre>\n"},{"tags":["java","intellij-idea","compiler-errors"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1679490486,"post_id":75811889,"comment_id":133730921,"body_markdown":"Something is blocking localhost connections on your system. Check firewall/security tools settings and the OS hosts file","body":"Something is blocking localhost connections on your system. Check firewall/security tools settings and the OS hosts file"},{"owner":{"account_id":28085399,"reputation":1,"user_id":21455859,"display_name":"Mateusz Sierka"},"score":0,"creation_date":1679493339,"post_id":75811889,"comment_id":133731800,"body_markdown":"I have disabled the firewalls for IntelliJ IDEA and checked the hosts file. It seems fine to me, but the problem still persists.","body":"I have disabled the firewalls for IntelliJ IDEA and checked the hosts file. It seems fine to me, but the problem still persists."}],"owner":{"account_id":28085399,"reputation":1,"user_id":21455859,"display_name":"Mateusz Sierka"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679486050,"creation_date":1679485826,"question_id":75811889,"body_markdown":"How to solve the problem when even running the Hello World program for the first time, it cannot open, and I receive the error message &quot;Abnormal build process termination&quot;?\r\n\r\n[![enter image description here](https://i.stack.imgur.com/QMHXY.jpg)](https://i.stack.imgur.com/QMHXY.jpg)\r\n\r\nI have a full version licensed for students, and I downloaded the JDK environment within the program using the download option.","title":"Abnormal build process termination&quot; issue in IntelliJ IDEA","body":"<p>How to solve the problem when even running the Hello World program for the first time, it cannot open, and I receive the error message &quot;Abnormal build process termination&quot;?</p>\n<p><a href=\"https://i.stack.imgur.com/QMHXY.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QMHXY.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I have a full version licensed for students, and I downloaded the JDK environment within the program using the download option.</p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1679154927,"post_id":75776445,"comment_id":133672476,"body_markdown":"I dont think you can have a Bottom App Bar in a fragment","body":"I dont think you can have a Bottom App Bar in a fragment"}],"answers":[{"tags":[],"owner":{"account_id":25284009,"reputation":43,"user_id":19111394,"display_name":"jasagregoric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679155101,"creation_date":1679155101,"answer_id":75777001,"question_id":75776445,"body_markdown":"I&#39;ve figured it out. I had to remove something in the original activity.","title":"No view found for id bottomAppBar for fragment Fragment","body":"<p>I've figured it out. I had to remove something in the original activity.</p>\n"}],"owner":{"account_id":25284009,"reputation":43,"user_id":19111394,"display_name":"jasagregoric"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679566461,"accepted_answer_id":75777001,"answer_count":1,"score":0,"last_activity_date":1679485933,"creation_date":1679149098,"question_id":75776445,"body_markdown":"I recently transferred MapActivity into MapFragment. I&#39;ve fixed all the issues except for this one \r\n\r\n&gt; No view found for id 0x7f080060 (com.example.policetracker:id/bottomAppBar) for fragment MapFragment{19507fe} (5f780415-46e3-4362-a236-d9b35c95d427 id=0x7f080060)\r\n\r\nI&#39;m also kind of new to Android Studio and XML.\r\n\r\nHere is my MapFragment:\r\n\r\n    public class MapFragment extends Fragment implements OnMapReadyCallback, ActivityCompat.OnRequestPermissionsResultCallback {\r\n\r\n    private GoogleMap mMap;\r\n    private View mView;\r\n\r\n    Location currentLocation;\r\n    private FusedLocationProviderClient fusedClient;\r\n    private static final int REQUEST_CODE = 101;\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        mView = inflater.inflate(R.layout.fragment_map, container, false);\r\n        return mView;\r\n    }\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n        fusedClient = LocationServices.getFusedLocationProviderClient(requireActivity());\r\n        getLocation();\r\n    }\r\n\r\n    private void getLocation(){\r\n        if((ActivityCompat.checkSelfPermission(getActivity(), Manifest.permission.ACCESS_FINE_LOCATION\r\n        ) != PackageManager.PERMISSION_GRANTED)\r\n                &amp;&amp; (ActivityCompat.checkSelfPermission(\r\n                getActivity(), Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED)){\r\n\r\n            ActivityCompat.requestPermissions(getActivity(), new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, REQUEST_CODE);\r\n            return;\r\n        }\r\n\r\n        Task&lt;Location&gt; task = fusedClient.getLastLocation();\r\n\r\n        task.addOnSuccessListener(new OnSuccessListener&lt;Location&gt;() {\r\n            @Override\r\n            public void onSuccess(Location location) {\r\n                if(location != null){\r\n                    SupportMapFragment supportMapFragment = (SupportMapFragment) getChildFragmentManager().findFragmentById(R.id.map);\r\n                    assert supportMapFragment != null;\r\n                    supportMapFragment.getMapAsync(MapFragment.this);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onMapReady(GoogleMap googleMap) {\r\n        mMap = googleMap;\r\n        LatLng latLng = new LatLng(currentLocation.getLatitude(), currentLocation.getLongitude());\r\n        mMap.animateCamera(CameraUpdateFactory.newLatLng(latLng));\r\n        mMap.animateCamera(CameraUpdateFactory.newLatLngZoom(latLng, 17));\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (requestCode == REQUEST_CODE) {\r\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                getLocation();\r\n            }\r\n        }\r\n    }\r\n    }\r\n\r\nAnd here is my fragment_map\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.coordinatorlayout.widget.CoordinatorLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MapFragment&quot;&gt;\r\n\r\n    &lt;androidx.fragment.app.FragmentContainerView\r\n        android:id=&quot;@+id/map&quot;\r\n        android:name=&quot;com.google.android.gms.maps.SupportMapFragment&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:layout=&quot;@android:layout/activity_list_item&quot; /&gt;\r\n\r\n    &lt;com.google.android.material.bottomappbar.BottomAppBar\r\n        android:id=&quot;@+id/bottomAppBar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:fabCradleMargin=&quot;20dp&quot;\r\n        app:fabCradleVerticalOffset=&quot;10dp&quot;\r\n        app:fabCradleRoundedCornerRadius=&quot;20dp&quot;\r\n        android:layout_gravity=&quot;bottom&quot;&gt;\r\n\r\n        &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n            android:id=&quot;@+id/bottomNavigationView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_marginEnd=&quot;16dp&quot;\r\n            android:background=&quot;@android:color/transparent&quot;\r\n            app:menu=&quot;@menu/bottom_nav_menu&quot; /&gt;\r\n\r\n    &lt;/com.google.android.material.bottomappbar.BottomAppBar&gt;\r\n\r\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\r\n        android:id=&quot;@+id/fab&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:src=&quot;@drawable/baseline_add_24&quot;\r\n        app:layout_anchor=&quot;@id/bottomAppBar&quot;\r\n        android:contentDescription=&quot;TODO&quot; /&gt;\r\n\r\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;","title":"No view found for id bottomAppBar for fragment Fragment","body":"<p>I recently transferred MapActivity into MapFragment. I've fixed all the issues except for this one</p>\n<blockquote>\n<p>No view found for id 0x7f080060 (com.example.policetracker:id/bottomAppBar) for fragment MapFragment{19507fe} (5f780415-46e3-4362-a236-d9b35c95d427 id=0x7f080060)</p>\n</blockquote>\n<p>I'm also kind of new to Android Studio and XML.</p>\n<p>Here is my MapFragment:</p>\n<pre><code>public class MapFragment extends Fragment implements OnMapReadyCallback, ActivityCompat.OnRequestPermissionsResultCallback {\n\nprivate GoogleMap mMap;\nprivate View mView;\n\nLocation currentLocation;\nprivate FusedLocationProviderClient fusedClient;\nprivate static final int REQUEST_CODE = 101;\n\n@Nullable\n@Override\npublic View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n    mView = inflater.inflate(R.layout.fragment_map, container, false);\n    return mView;\n}\n\n@Override\npublic void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n    super.onViewCreated(view, savedInstanceState);\n    fusedClient = LocationServices.getFusedLocationProviderClient(requireActivity());\n    getLocation();\n}\n\nprivate void getLocation(){\n    if((ActivityCompat.checkSelfPermission(getActivity(), Manifest.permission.ACCESS_FINE_LOCATION\n    ) != PackageManager.PERMISSION_GRANTED)\n            &amp;&amp; (ActivityCompat.checkSelfPermission(\n            getActivity(), Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED)){\n\n        ActivityCompat.requestPermissions(getActivity(), new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, REQUEST_CODE);\n        return;\n    }\n\n    Task&lt;Location&gt; task = fusedClient.getLastLocation();\n\n    task.addOnSuccessListener(new OnSuccessListener&lt;Location&gt;() {\n        @Override\n        public void onSuccess(Location location) {\n            if(location != null){\n                SupportMapFragment supportMapFragment = (SupportMapFragment) getChildFragmentManager().findFragmentById(R.id.map);\n                assert supportMapFragment != null;\n                supportMapFragment.getMapAsync(MapFragment.this);\n            }\n        }\n    });\n}\n\n@Override\npublic void onMapReady(GoogleMap googleMap) {\n    mMap = googleMap;\n    LatLng latLng = new LatLng(currentLocation.getLatitude(), currentLocation.getLongitude());\n    mMap.animateCamera(CameraUpdateFactory.newLatLng(latLng));\n    mMap.animateCamera(CameraUpdateFactory.newLatLngZoom(latLng, 17));\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    if (requestCode == REQUEST_CODE) {\n        if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n            getLocation();\n        }\n    }\n}\n}\n</code></pre>\n<p>And here is my fragment_map</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\ntools:context=&quot;.MapFragment&quot;&gt;\n\n&lt;androidx.fragment.app.FragmentContainerView\n    android:id=&quot;@+id/map&quot;\n    android:name=&quot;com.google.android.gms.maps.SupportMapFragment&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:layout=&quot;@android:layout/activity_list_item&quot; /&gt;\n\n&lt;com.google.android.material.bottomappbar.BottomAppBar\n    android:id=&quot;@+id/bottomAppBar&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:fabCradleMargin=&quot;20dp&quot;\n    app:fabCradleVerticalOffset=&quot;10dp&quot;\n    app:fabCradleRoundedCornerRadius=&quot;20dp&quot;\n    android:layout_gravity=&quot;bottom&quot;&gt;\n\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n        android:id=&quot;@+id/bottomNavigationView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_marginEnd=&quot;16dp&quot;\n        android:background=&quot;@android:color/transparent&quot;\n        app:menu=&quot;@menu/bottom_nav_menu&quot; /&gt;\n\n&lt;/com.google.android.material.bottomappbar.BottomAppBar&gt;\n\n&lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n    android:id=&quot;@+id/fab&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:src=&quot;@drawable/baseline_add_24&quot;\n    app:layout_anchor=&quot;@id/bottomAppBar&quot;\n    android:contentDescription=&quot;TODO&quot; /&gt;\n\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n"},{"tags":["java","gradle","generics"],"owner":{"account_id":22883450,"reputation":129,"user_id":17024722,"display_name":"Ruchi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679485296,"creation_date":1679485296,"question_id":75811821,"body_markdown":"I&#39;ve the following code . and having this issue. \r\nI&#39;ve referred this answer https://stackoverflow.com/questions/35718151/java-generics-bound-mismatch-the-type-is-not-a-valid-substitute-for-the-bounded   but couldn&#39;t understand the solution. Please help.\r\nMy code\r\nIssue is coming in the FilterConfiguration class.\r\nBound mismatch: The type ApiCallHandler is not a valid substitute for the bounded parameter &lt;T extends Filter&gt; of the type FilterRegistrationBean&lt;T&gt;\r\n\r\n```\r\npackage com.se.designtools.product.security;\r\n\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.boot.context.properties.ConfigurationProperties;\r\nimport org.springframework.boot.web.servlet.FilterRegistrationBean;\r\nimport org.springframework.context.annotation.Bean;\r\n\r\n\r\n@ConfigurationProperties\r\npublic class FilterConfiguration{\r\n\t\r\n\t@Value(&quot;${jwt.productinformation.sign.key}&quot;)\r\n\tprivate String secretKey;\r\n\t\r\n\t@Bean\r\n\tpublic FilterRegistrationBean&lt;ApiCallHandler&gt; loggingFilter(){\r\n\t\tFilterRegistrationBean&lt;ApiCallHandler&gt; registrationBean = new FilterRegistrationBean&lt;&gt;();\r\n\t\tregistrationBean.setFilter(new ApiCallHandler(secretKey));\r\n\t\tregistrationBean.setOrder(1);\r\n\t\tregistrationBean.addUrlPatterns(&quot;*&quot;);\r\n\t\treturn registrationBean; \r\n\t}\r\n\t\r\n\r\n```\r\n-----------------------\r\n```\r\npackage com.se.designtools.product.security;\r\nimport javax.servlet.Filter;\r\nimport javax.servlet.FilterChain;\r\nimport javax.servlet.ServletRequest;\r\nimport javax.servlet.ServletResponse;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\nimport org.springframework.http.HttpStatus;\r\n\r\nimport com.auth0.jwt.JWT;\r\nimport com.auth0.jwt.JWTVerifier;\r\nimport com.auth0.jwt.algorithms.Algorithm;\r\nimport com.auth0.jwt.exceptions.JWTVerificationException;\r\n\r\npublic class ApiCallHandler implements Filter {\r\n\r\n\tprivate String secretKey;\r\n\r\n\tpublic ApiCallHandler(String secretKey) {\r\n\t\tthis.secretKey = secretKey;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) {\r\n\r\n\t\tHttpServletRequest req = (HttpServletRequest) request;\r\n\t\tHttpServletResponse res = (HttpServletResponse) response;\r\n\t\tString token = req.getHeader(&quot;Authorization&quot;);\r\n\t\tString path = req.getRequestURI();\r\n\r\n\t\t// excluding healthcheck from auth\r\n\t\tif (path.endsWith(&quot;/healthcheck&quot;) || path.contains(&quot;swagger&quot;) || path.endsWith(&quot;api-docs&quot;)) {\r\n\t\t\ttry {\r\n\t\t\t\tchain.doFilter(request, response);\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tres.setStatus(HttpStatus.INTERNAL_SERVER_ERROR.value());\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (null == token) {\r\n\t\t\tres.setStatus(HttpStatus.FORBIDDEN.value());\r\n\t\t\treturn;\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tif (verifyToken(token)) {\r\n\t\t\t\tchain.doFilter(request, response);\r\n\t\t\t} else {\r\n\t\t\t\tres.setStatus(HttpStatus.UNAUTHORIZED.value());\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\tres.setStatus(HttpStatus.INTERNAL_SERVER_ERROR.value());\r\n\t\t}\r\n\t}\r\n\r\n\tpublic boolean verifyToken(String token) {\r\n\t\tboolean isValid = false;\r\n\t\ttoken = token.replace(&quot;Bearer &quot;, &quot;&quot;);\r\n\t\tJWTVerifier verifier = JWT.require(Algorithm.(this.secretKey)).build();\r\n\t\ttry {\r\n\t\t\tverifier.verify(token);\r\n\t\t\tisValid = true;\r\n\t\t} catch (JWTVerificationException ex) {\r\n\t\t\tisValid = false;\r\n\t\t}\r\n\r\n\t\treturn isValid;\r\n\t}\r\n}\r\n```","title":"Bound mismatch: The type ApiCallHandler is not a valid substitute for the bounded parameter &lt;T extends Filter&gt; of the type FilterRegistrationBean&lt;T&gt;","body":"<p>I've the following code . and having this issue.\nI've referred this answer <a href=\"https://stackoverflow.com/questions/35718151/java-generics-bound-mismatch-the-type-is-not-a-valid-substitute-for-the-bounded\">java generics Bound mismatch: The type is not a valid substitute for the bounded parameter</a>   but couldn't understand the solution. Please help.\nMy code\nIssue is coming in the FilterConfiguration class.\nBound mismatch: The type ApiCallHandler is not a valid substitute for the bounded parameter  of the type FilterRegistrationBean</p>\n<pre><code>package com.se.designtools.product.security;\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.boot.web.servlet.FilterRegistrationBean;\nimport org.springframework.context.annotation.Bean;\n\n\n@ConfigurationProperties\npublic class FilterConfiguration{\n    \n    @Value(&quot;${jwt.productinformation.sign.key}&quot;)\n    private String secretKey;\n    \n    @Bean\n    public FilterRegistrationBean&lt;ApiCallHandler&gt; loggingFilter(){\n        FilterRegistrationBean&lt;ApiCallHandler&gt; registrationBean = new FilterRegistrationBean&lt;&gt;();\n        registrationBean.setFilter(new ApiCallHandler(secretKey));\n        registrationBean.setOrder(1);\n        registrationBean.addUrlPatterns(&quot;*&quot;);\n        return registrationBean; \n    }\n    \n\n</code></pre>\n<hr />\n<pre><code>package com.se.designtools.product.security;\nimport javax.servlet.Filter;\nimport javax.servlet.FilterChain;\nimport javax.servlet.ServletRequest;\nimport javax.servlet.ServletResponse;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport org.springframework.http.HttpStatus;\n\nimport com.auth0.jwt.JWT;\nimport com.auth0.jwt.JWTVerifier;\nimport com.auth0.jwt.algorithms.Algorithm;\nimport com.auth0.jwt.exceptions.JWTVerificationException;\n\npublic class ApiCallHandler implements Filter {\n\n    private String secretKey;\n\n    public ApiCallHandler(String secretKey) {\n        this.secretKey = secretKey;\n    }\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) {\n\n        HttpServletRequest req = (HttpServletRequest) request;\n        HttpServletResponse res = (HttpServletResponse) response;\n        String token = req.getHeader(&quot;Authorization&quot;);\n        String path = req.getRequestURI();\n\n        // excluding healthcheck from auth\n        if (path.endsWith(&quot;/healthcheck&quot;) || path.contains(&quot;swagger&quot;) || path.endsWith(&quot;api-docs&quot;)) {\n            try {\n                chain.doFilter(request, response);\n            } catch (Exception e) {\n                res.setStatus(HttpStatus.INTERNAL_SERVER_ERROR.value());\n                return;\n            }\n        }\n\n        if (null == token) {\n            res.setStatus(HttpStatus.FORBIDDEN.value());\n            return;\n        }\n        try {\n            if (verifyToken(token)) {\n                chain.doFilter(request, response);\n            } else {\n                res.setStatus(HttpStatus.UNAUTHORIZED.value());\n            }\n        } catch (Exception e) {\n            res.setStatus(HttpStatus.INTERNAL_SERVER_ERROR.value());\n        }\n    }\n\n    public boolean verifyToken(String token) {\n        boolean isValid = false;\n        token = token.replace(&quot;Bearer &quot;, &quot;&quot;);\n        JWTVerifier verifier = JWT.require(Algorithm.(this.secretKey)).build();\n        try {\n            verifier.verify(token);\n            isValid = true;\n        } catch (JWTVerificationException ex) {\n            isValid = false;\n        }\n\n        return isValid;\n    }\n}\n</code></pre>\n"},{"tags":["java","object","methods","sum"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1679484928,"post_id":75811715,"comment_id":133729392,"body_markdown":"please include a [mre] - we cannot see how `Number` is implemented (sure not the standard class with that name)","body":"please include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> - we cannot see how <code>Number</code> is implemented (sure not the standard class with that name)"}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299838,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679484927,"creation_date":1679484927,"answer_id":75811753,"question_id":75811715,"body_markdown":"Your `getNumSum` method creates two new `GetSum` instances and sums the values from one of them instead of summing the values from the data members you already have:\r\n\r\n    public int getNumSum (){\r\n        int x = getNum2().getFaceValue();\r\n        int y = getNum1().getFaceValue();\r\n        return x + y;\r\n    } ","title":"How to solve sum always being 0?","body":"<p>Your <code>getNumSum</code> method creates two new <code>GetSum</code> instances and sums the values from one of them instead of summing the values from the data members you already have:</p>\n<pre><code>public int getNumSum (){\n    int x = getNum2().getFaceValue();\n    int y = getNum1().getFaceValue();\n    return x + y;\n} \n</code></pre>\n"}],"owner":{"account_id":28085082,"reputation":1,"user_id":21455585,"display_name":"txakrxia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1679548672,"answer_count":1,"score":-3,"last_activity_date":1679485264,"creation_date":1679484729,"question_id":75811715,"body_markdown":"I&#39;m trying to write a method to sum two integers. There is no error in my code but when I try to use it, it always returns zero. \r\n\r\nI wanted to have two methods: one to roll two random numbers and the other method was supposed to sum those numbers. There is nothing wrong with the roll part.\r\n\r\n```java\r\npublic class GetSum {\r\n    \r\n    private Num num1;\r\n    private Num num2;\r\n    \r\n    public GetSum(){\r\n        num1 = new Number();\r\n        num2 = new Number();\r\n    }\r\n    \r\n        \r\n    public void setNum1(Num num1){\r\n        this.num1 = new Num(num1);\r\n    }\r\n    \r\n    public Num getNum1(){\r\n        return new Num(num1);\r\n    }\r\n    \r\n    public void setNum2(Num num2){\r\n        this.num2 = new Num(num2);\r\n    }\r\n    \r\n    public Num getNum2(){\r\n        return new Num(num2);\r\n    }\r\n    \r\n    public void roll(){\r\n        num1.roll();\r\n        num2.roll();\r\n    }\r\n    \r\n    public int getNumSum (){\r\n        GetSum dice1 = new GetSum();\r\n        GetSum dice2 = new GetSum();\r\n        int x = dice1.getNum2().getFaceValue();\r\n        int y = dice1.getNum1().getFaceValue();\r\n        return x + y;\r\n    } \r\n}\r\n\r\n\r\n```\r\n\r\nWhat I tried\r\n\r\n```java\r\nGetSum x = new GetSum();\r\nx.roll();\r\nSystem.out.println(x.getNum1().getFaceValue());\r\nSystem.out.println(x.getNum2().getFaceValue());\r\nSystem.out.println(x.getNumSum());\r\n```\r\n\r\nI get two random numbers but the sum is always zero. ","title":"How to solve sum always being 0?","body":"<p>I'm trying to write a method to sum two integers. There is no error in my code but when I try to use it, it always returns zero.</p>\n<p>I wanted to have two methods: one to roll two random numbers and the other method was supposed to sum those numbers. There is nothing wrong with the roll part.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class GetSum {\n    \n    private Num num1;\n    private Num num2;\n    \n    public GetSum(){\n        num1 = new Number();\n        num2 = new Number();\n    }\n    \n        \n    public void setNum1(Num num1){\n        this.num1 = new Num(num1);\n    }\n    \n    public Num getNum1(){\n        return new Num(num1);\n    }\n    \n    public void setNum2(Num num2){\n        this.num2 = new Num(num2);\n    }\n    \n    public Num getNum2(){\n        return new Num(num2);\n    }\n    \n    public void roll(){\n        num1.roll();\n        num2.roll();\n    }\n    \n    public int getNumSum (){\n        GetSum dice1 = new GetSum();\n        GetSum dice2 = new GetSum();\n        int x = dice1.getNum2().getFaceValue();\n        int y = dice1.getNum1().getFaceValue();\n        return x + y;\n    } \n}\n\n\n</code></pre>\n<p>What I tried</p>\n<pre class=\"lang-java prettyprint-override\"><code>GetSum x = new GetSum();\nx.roll();\nSystem.out.println(x.getNum1().getFaceValue());\nSystem.out.println(x.getNum2().getFaceValue());\nSystem.out.println(x.getNumSum());\n</code></pre>\n<p>I get two random numbers but the sum is always zero.</p>\n"},{"tags":["java","plugins","dependencies","google-cloud-data-fusion","cdap"],"answers":[{"tags":[],"owner":{"account_id":18012401,"reputation":46,"user_id":13091704,"display_name":"Venudhar Ravishankar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1618427753,"creation_date":1618427753,"answer_id":67097829,"question_id":67071443,"body_markdown":"CDAP should run in Java version 8. So once you download JDK, set the Java home like \r\n\r\n```\r\nexport JAVA_HOME=/usr/local/buildtools/java/jdk8/\r\n```\r\n\r\nand then try running your Maven command again.","title":"GCP Data Fusion : Custom Plugin Testing: Could not find artifact jdk.tools:jdk.tools:jar:1.6","body":"<p>CDAP should run in Java version 8. So once you download JDK, set the Java home like</p>\n<pre><code>export JAVA_HOME=/usr/local/buildtools/java/jdk8/\n</code></pre>\n<p>and then try running your Maven command again.</p>\n"},{"tags":[],"owner":{"account_id":14011661,"reputation":1,"user_id":10120123,"display_name":"user10120123"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679484968,"creation_date":1679484968,"answer_id":75811766,"question_id":67071443,"body_markdown":"VFS-606 - tools.jar not available in Java 9\r\nThis exclusion can be removed after upgrading Hadoop\r\nto 2.7.1 or later\r\nhttps://issues.apache.org/jira/browse/VFS-606","title":"GCP Data Fusion : Custom Plugin Testing: Could not find artifact jdk.tools:jdk.tools:jar:1.6","body":"<p>VFS-606 - tools.jar not available in Java 9\nThis exclusion can be removed after upgrading Hadoop\nto 2.7.1 or later\n<a href=\"https://issues.apache.org/jira/browse/VFS-606\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/VFS-606</a></p>\n"}],"owner":{"account_id":10539562,"reputation":1769,"user_id":7766158,"display_name":"Nakeuh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67097829,"answer_count":2,"score":0,"last_activity_date":1679484968,"creation_date":1618303182,"question_id":67071443,"body_markdown":"I am trying to develop my own plugin for GCP Data Fusion. So I followed the documentation, and cloned the example from https://github.com/data-integrations/example-transform.\r\n\r\nBut when building the project, I get a problem with the import of dependencies needed for testing : \r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cdap.cdap&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hydrator-test&lt;/artifactId&gt;\r\n            &lt;version&gt;${cdap.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\nI get the following error : \r\n\r\n    [ERROR] Failed to execute goal on project plugins: Could not resolve dependencies for project org.example:plugins:jar:1.0-SNAPSHOT: Could not find artifact jdk.tools:jdk.tools:jar:1.6 at specified path /usr/lib/jvm/java-11-openjdk-amd64/../lib/tools.jar -&gt; [Help 1]\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhat can I do to solve this problem and test my plugin ? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ikrQ3.png","title":"GCP Data Fusion : Custom Plugin Testing: Could not find artifact jdk.tools:jdk.tools:jar:1.6","body":"<p>I am trying to develop my own plugin for GCP Data Fusion. So I followed the documentation, and cloned the example from <a href=\"https://github.com/data-integrations/example-transform\" rel=\"nofollow noreferrer\">https://github.com/data-integrations/example-transform</a>.</p>\n<p>But when building the project, I get a problem with the import of dependencies needed for testing :</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;io.cdap.cdap&lt;/groupId&gt;\n        &lt;artifactId&gt;hydrator-test&lt;/artifactId&gt;\n        &lt;version&gt;${cdap.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I get the following error :</p>\n<pre><code>[ERROR] Failed to execute goal on project plugins: Could not resolve dependencies for project org.example:plugins:jar:1.0-SNAPSHOT: Could not find artifact jdk.tools:jdk.tools:jar:1.6 at specified path /usr/lib/jvm/java-11-openjdk-amd64/../lib/tools.jar -&gt; [Help 1]\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ikrQ3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ikrQ3.png\" alt=\"enter image description here\" /></a></p>\n<p>What can I do to solve this problem and test my plugin ?</p>\n"},{"tags":["python","java","scala","apache-spark","pyspark"],"owner":{"account_id":3764201,"reputation":8110,"user_id":3128156,"accept_rate":71,"display_name":"Sahand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679484848,"creation_date":1679484848,"question_id":75811740,"body_markdown":"I&#39;m trying to read a CSV file with Spark, create a view and then query it using SQL syntax. At the last step, my program crashes. Here&#39;s the code:\r\n\r\n    from pyspark.sql import SparkSession\r\n    from delta.tables import DeltaTable\r\n    \r\n    spark_jars_packages = &quot;com.amazonaws:aws-java-sdk:1.11.1026,org.apache.hadoop:hadoop-aws:3.3.2,io.delta:delta-core_2.12:1.2.1&quot;\r\n    spark = (\r\n            SparkSession.builder.master(&quot;local[*]&quot;)\r\n            .appName(&quot;PySparkLocal&quot;)\r\n            .config(&quot;fs.s3a.aws.credentials.provider&quot;, &quot;com.amazonaws.auth.profile.ProfileCredentialsProvider&quot;) \r\n            .config(&quot;com.amazonaws.services.s3.enableV4&quot;, &quot;true&quot;) \r\n            .config(&quot;spark.hadoop.fs.s3a.path.style.access&quot;, True) \r\n            .config(&quot;spark.sql.extensions&quot;, &quot;io.delta.sql.DeltaSparkSessionExtension&quot;)\r\n            .config(&quot;spark.sql.catalog.spark_catalog&quot;, &quot;org.apache.spark.sql.delta.catalog.DeltaCatalog&quot;)\r\n            .config(&quot;spark.hadoop.fs.s3.impl&quot;, &quot;org.apache.hadoop.fs.s3a.S3AFileSystem&quot;)\r\n            .config(&quot;spark.hadoop.fs.AbstractFileSystem.s3.impl&quot;, &quot;org.apache.hadoop.fs.s3a.S3AFileSystem&quot;)\r\n            .config(&quot;spark.delta.logStore.class&quot;, &quot;org.apache.spark.sql.delta.storage.S3SingleDriverLogStore&quot;)\r\n            .config(&quot;spark.hadoop.fs.s3a.connection.timeout&quot;, &quot;3600000&quot;)\r\n            .config(&quot;spark.hadoop.fs.s3a.connection.maximum&quot;, &quot;1000&quot;)\r\n            .config(&quot;spark.hadoop.fs.s3a.threads.max&quot;, &quot;1000&quot;)\r\n            .config(&quot;spark.jars.packages&quot;, spark_jars_packages)\r\n            .config(&quot;spark.sql.sources.partitionOverwriteMode&quot;, &quot;dynamic&quot;)\r\n            .config(&quot;spark.databricks.delta.schema.autoMerge.enabled&quot;, &quot;true&quot;)\r\n            .config(&quot;spark.hadoop.fs.s3a.endpoint&quot;, &quot;s3.eu-central-1.amazonaws.com&quot;)\r\n            .getOrCreate()\r\n        )\r\n    \r\n    df = spark.read.option(&quot;recursiveFileLookup&quot;, &quot;true&quot;).option(&quot;header&quot;,&quot;true&quot;).csv(&quot;s3a://sahand-test/part-00003-bd225a60-4eca-44c9-a0c7-afc7295d96f2-c000.csv&quot;)\r\n\r\nThe code crashes on the last line, here is the output (with some maven-related logs deleted to not exceed the StackOverflow character limit):\r\n\r\n    Warning: Ignoring non-Spark config property: fs.s3a.aws.credentials.provider\r\n    Warning: Ignoring non-Spark config property: com.amazonaws.services.s3.enableV4\r\n    23/03/22 12:23:32 WARN Utils: Your hostname, sahand-XPS-15-7590 resolves to a loopback address: 127.0.1.1; using 192.168.178.24 instead (on interface wlp59s0)\r\n    23/03/22 12:23:32 WARN Utils: Set SPARK_LOCAL_IP if you need to bind to another address\r\n    :: loading settings :: url = jar:file:/usr/local/spark/jars/ivy-2.5.1.jar!/org/apache/ivy/core/settings/ivysettings.xml\r\n    Ivy Default Cache set to: /home/sahand/.ivy2/cache\r\n    The jars for the packages stored in: /home/sahand/.ivy2/jars\r\n    com.amazonaws#aws-java-sdk added as a dependency\r\n    org.apache.hadoop#hadoop-aws added as a dependency\r\n    io.delta#delta-core_2.13 added as a dependency\r\n    :: resolving dependencies :: org.apache.spark#spark-submit-parent-80fefbe7-c5a0-49ab-99e7-90dcb766bbc5;1.0\r\n    \tconfs: [default]\r\n    \tfound com.amazonaws#aws-java-sdk;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-apprunner;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-core;1.11.1026 in central\r\n    \tfound commons-logging#commons-logging;1.1.3 in local-m2-cache\r\n    \tfound commons-codec#commons-codec;1.15 in local-m2-cache\r\n    \tfound org.apache.httpcomponents#httpclient;4.5.13 in local-m2-cache\r\n    \tfound org.apache.httpcomponents#httpcore;4.4.13 in local-m2-cache\r\n    \tfound software.amazon.ion#ion-java;1.0.2 in local-m2-cache\r\n    \tfound com.fasterxml.jackson.core#jackson-databind;2.6.7.4 in local-m2-cache\r\n    \tfound com.fasterxml.jackson.core#jackson-annotations;2.6.0 in local-m2-cache\r\n    \tfound com.fasterxml.jackson.core#jackson-core;2.6.7 in local-m2-cache\r\n    \tfound com.fasterxml.jackson.dataformat#jackson-dataformat-cbor;2.6.7 in local-m2-cache\r\n    \tfound joda-time#joda-time;2.8.1 in local-m2-cache\r\n    \tfound com.amazonaws#jmespath-java;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-applicationcostprofiler;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-ssmcontacts;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-ssmincidents;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-finspacedata;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-finspace;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-nimblestudio;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-lookoutequipment;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-mgn;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-lookoutmetrics;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-fis;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-lexmodelsv2;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-lexruntimev2;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-wellarchitected;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-location;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-iotdeviceadvisor;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-iotfleethub;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-iotwireless;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-greengrassv2;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-prometheus;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-auditmanager;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-healthlake;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-sagemakeredgemanager;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-emrcontainers;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-customerprofiles;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-lookoutforvision;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-connectcontactlens;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-amplifybackend;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-ecrpublic;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-appintegrations;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-sagemakerfeaturestoreruntime;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-devopsguru;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-mwaa;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-networkfirewall;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-appregistry;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-gluedatabrew;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-s3outposts;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-timestreamquery;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-timestreamwrite;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-ssoadmin;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-redshiftdataapi;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-appflow;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-identitystore;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-braket;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-ivs;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-honeycode;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-codeartifact;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-macie2;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-iotsitewise;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-synthetics;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-codestarconnections;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-detective;1.11.1026 in central\r\n    \tfound com.amazonaws#aws-java-sdk-kinesisvideosignalingchannels;1.11.1026 in central\r\n    \tcom.amazonaws#aws-java-sdk-synthetics;1.11.1026 from central in [default]\r\n    \tcom.amazonaws#aws-java-sdk-textract;1.11.1026 from central in [default]\r\n    \tcom.amazonaws#aws-java-sdk-timestreamquery;1.11.1026 from central in [default]\r\n    \tcom.amazonaws#aws-java-sdk-timestreamwrite;1.11.1026 from central in [default]\r\n    \tcom.amazonaws#aws-java-sdk-transcribe;1.11.1026 from central in [default]\r\n    \tcom.amazonaws#aws-java-sdk-transfer;1.11.1026 from central in [default]\r\n    \tcom.amazonaws#aws-java-sdk-translate;1.11.1026 from central in [default]\r\n    \tcom.amazonaws#aws-java-sdk-waf;1.11.1026 from central in [default]\r\n    \tcom.amazonaws#aws-java-sdk-wafv2;1.11.1026 from central in [default]\r\n    \tcom.amazonaws#aws-java-sdk-wellarchitected;1.11.1026 from central in [default]\r\n    \tcom.amazonaws#aws-java-sdk-workdocs;1.11.1026 from central in [default]\r\n    \tcom.amazonaws#aws-java-sdk-worklink;1.11.1026 from central in [default]\r\n    \tcom.amazonaws#aws-java-sdk-workmail;1.11.1026 from central in [default]\r\n    \tcom.amazonaws#aws-java-sdk-workmailmessageflow;1.11.1026 from central in [default]\r\n    \tcom.amazonaws#aws-java-sdk-workspaces;1.11.1026 from central in [default]\r\n    \tcom.amazonaws#aws-java-sdk-xray;1.11.1026 from central in [default]\r\n    \tcom.amazonaws#jmespath-java;1.11.1026 from central in [default]\r\n    \tcom.fasterxml.jackson.core#jackson-annotations;2.6.0 from local-m2-cache in [default]\r\n    \tcom.fasterxml.jackson.core#jackson-core;2.6.7 from local-m2-cache in [default]\r\n    \tcom.fasterxml.jackson.core#jackson-databind;2.6.7.4 from local-m2-cache in [default]\r\n    \tcom.fasterxml.jackson.dataformat#jackson-dataformat-cbor;2.6.7 from local-m2-cache in [default]\r\n    \tcommons-codec#commons-codec;1.15 from local-m2-cache in [default]\r\n    \tcommons-logging#commons-logging;1.1.3 from local-m2-cache in [default]\r\n    \tio.delta#delta-core_2.13;2.2.0 from central in [default]\r\n    \tio.delta#delta-storage;2.2.0 from central in [default]\r\n    \tio.netty#netty-buffer;4.1.61.Final from central in [default]\r\n    \tio.netty#netty-codec;4.1.61.Final from central in [default]\r\n    \tio.netty#netty-codec-http;4.1.61.Final from central in [default]\r\n    \tio.netty#netty-common;4.1.61.Final from central in [default]\r\n    \tio.netty#netty-handler;4.1.61.Final from central in [default]\r\n    \tio.netty#netty-resolver;4.1.61.Final from central in [default]\r\n    \tio.netty#netty-transport;4.1.61.Final from central in [default]\r\n    \tjoda-time#joda-time;2.8.1 from local-m2-cache in [default]\r\n    \torg.antlr#antlr4-runtime;4.8 from local-m2-cache in [default]\r\n    \torg.apache.hadoop#hadoop-aws;3.3.2 from central in [default]\r\n    \torg.apache.httpcomponents#httpclient;4.5.13 from local-m2-cache in [default]\r\n    \torg.apache.httpcomponents#httpcore;4.4.13 from local-m2-cache in [default]\r\n    \torg.wildfly.openssl#wildfly-openssl;1.0.7.Final from local-m2-cache in [default]\r\n    \tsoftware.amazon.ion#ion-java;1.0.2 from local-m2-cache in [default]\r\n    \t:: evicted modules:\r\n    \tcommons-logging#commons-logging;1.2 by [commons-logging#commons-logging;1.1.3] in [default]\r\n    \tcommons-codec#commons-codec;1.11 by [commons-codec#commons-codec;1.15] in [default]\r\n    \tcom.amazonaws#aws-java-sdk-simpleworkflow;1.11.22 by [com.amazonaws#aws-java-sdk-simpleworkflow;1.11.1026] in [default]\r\n    \t---------------------------------------------------------------------\r\n    \t|                  |            modules            ||   artifacts   |\r\n    \t|       conf       | number| search|dwnlded|evicted|| number|dwnlded|\r\n    \t---------------------------------------------------------------------\r\n    \t|      default     |  292  |   3   |   3   |   3   ||  289  |   0   |\r\n    \t---------------------------------------------------------------------\r\n    \r\n    :: problems summary ::\r\n    :::: ERRORS\r\n    \tunknown resolver null\r\n    \r\n    \tunknown resolver null\r\n    \r\n    \tunknown resolver null\r\n    \r\n    \r\n    :: USE VERBOSE OR DEBUG MESSAGE LEVEL FOR MORE DETAILS\r\n    :: retrieving :: org.apache.spark#spark-submit-parent-80fefbe7-c5a0-49ab-99e7-90dcb766bbc5\r\n    \tconfs: [default]\r\n    \t0 artifacts copied, 289 already retrieved (0kB/29ms)\r\n    23/03/22 12:23:40 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\r\n    Setting default log level to &quot;WARN&quot;.\r\n    To adjust logging level use sc.setLogLevel(newLevel). For SparkR, use setLogLevel(newLevel).\r\n    Traceback (most recent call last):\r\n      File &quot;/home/sahand/delta-lake-pyspark/main.py&quot;, line 26, in &lt;module&gt;\r\n        df = spark.read.option(&quot;recursiveFileLookup&quot;, &quot;true&quot;).option(&quot;header&quot;,&quot;true&quot;).csv(&quot;s3a://sahand-test/part-00003-bd225a60-4eca-44c9-a0c7-afc7295d96f2-c000.csv&quot;)\r\n             ^^^^^^^^^^\r\n      File &quot;/usr/local/spark/python/pyspark/sql/session.py&quot;, line 1069, in read\r\n        return DataFrameReader(self)\r\n               ^^^^^^^^^^^^^^^^^^^^^\r\n      File &quot;/usr/local/spark/python/pyspark/sql/readwriter.py&quot;, line 66, in __init__\r\n        self._jreader = spark._jsparkSession.read()\r\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n      File &quot;/usr/local/spark/python/lib/py4j-0.10.9.5-src.zip/py4j/java_gateway.py&quot;, line 1321, in __call__\r\n      File &quot;/usr/local/spark/python/pyspark/sql/utils.py&quot;, line 190, in deco\r\n        return f(*a, **kw)\r\n               ^^^^^^^^^^^\r\n      File &quot;/usr/local/spark/python/lib/py4j-0.10.9.5-src.zip/py4j/protocol.py&quot;, line 326, in get_return_value\r\n    py4j.protocol.Py4JJavaError: An error occurred while calling o58.read.\r\n    : java.lang.NoClassDefFoundError: scala/collection/SeqOps\r\n    \tat io.delta.sql.parser.DeltaSqlParser.&lt;init&gt;(DeltaSqlParser.scala:72)\r\n    \tat io.delta.sql.DeltaSparkSessionExtension.$anonfun$apply$1(DeltaSparkSessionExtension.scala:79)\r\n    \tat org.apache.spark.sql.SparkSessionExtensions.$anonfun$buildParser$1(SparkSessionExtensions.scala:272)\r\n    \tat scala.collection.IndexedSeqOptimized.foldLeft(IndexedSeqOptimized.scala:60)\r\n    \tat scala.collection.IndexedSeqOptimized.foldLeft$(IndexedSeqOptimized.scala:68)\r\n    \tat scala.collection.mutable.ArrayBuffer.foldLeft(ArrayBuffer.scala:49)\r\n    \tat org.apache.spark.sql.SparkSessionExtensions.buildParser(SparkSessionExtensions.scala:271)\r\n    \tat org.apache.spark.sql.internal.BaseSessionStateBuilder.sqlParser$lzycompute(BaseSessionStateBuilder.scala:138)\r\n    \tat org.apache.spark.sql.internal.BaseSessionStateBuilder.sqlParser(BaseSessionStateBuilder.scala:137)\r\n    \tat org.apache.spark.sql.internal.BaseSessionStateBuilder.build(BaseSessionStateBuilder.scala:362)\r\n    \tat org.apache.spark.sql.SparkSession$.org$apache$spark$sql$SparkSession$$instantiateSessionState(SparkSession.scala:1175)\r\n    \tat org.apache.spark.sql.SparkSession.$anonfun$sessionState$2(SparkSession.scala:162)\r\n    \tat scala.Option.getOrElse(Option.scala:189)\r\n    \tat org.apache.spark.sql.SparkSession.sessionState$lzycompute(SparkSession.scala:160)\r\n    \tat org.apache.spark.sql.SparkSession.sessionState(SparkSession.scala:157)\r\n    \tat org.apache.spark.sql.DataFrameReader.&lt;init&gt;(DataFrameReader.scala:698)\r\n    \tat org.apache.spark.sql.SparkSession.read(SparkSession.scala:662)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244)\r\n    \tat py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\r\n    \tat py4j.Gateway.invoke(Gateway.java:282)\r\n    \tat py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\r\n    \tat py4j.commands.CallCommand.execute(CallCommand.java:79)\r\n    \tat py4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182)\r\n    \tat py4j.ClientServerConnection.run(ClientServerConnection.java:106)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n    Caused by: java.lang.ClassNotFoundException: scala.collection.SeqOps\r\n    \tat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:471)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n    \t... 29 more\r\n\r\nThe error seems related to module/package versions or java/Scala versions. However, after much tinkering around I still haven&#39;t been able to find the issue. Here&#39;s the output of `pip freeze`:\r\n\r\n    delta-spark==2.1.1\r\n    importlib-metadata==6.1.0\r\n    py4j==0.10.9.5\r\n    pyspark==3.3.2\r\n    zipp==3.15.0\r\n    \r\nAnd the jars in `$SPARK_HOME/jars`:\r\n\r\n    activation-1.1.1.jar                                   hive-common-2.3.9.jar                   kubernetes-model-admissionregistration-5.12.2.jar             parquet-common-1.12.2.jar\r\n    aircompressor-0.21.jar                                 hive-exec-2.3.9-core.jar                kubernetes-model-apiextensions-5.12.2.jar                     parquet-encoding-1.12.2.jar\r\n    algebra_2.12-2.0.1.jar                                 hive-jdbc-2.3.9.jar                     kubernetes-model-apps-5.12.2.jar                              parquet-format-structures-1.12.2.jar\r\n    annotations-17.0.0.jar                                 hive-llap-common-2.3.9.jar              kubernetes-model-autoscaling-5.12.2.jar                       parquet-hadoop-1.12.2.jar\r\n    antlr4-runtime-4.8.jar                                 hive-metastore-2.3.9.jar                kubernetes-model-batch-5.12.2.jar                             parquet-jackson-1.12.2.jar\r\n    antlr-runtime-3.5.2.jar                                hive-serde-2.3.9.jar                    kubernetes-model-certificates-5.12.2.jar                      pickle-1.2.jar\r\n    aopalliance-repackaged-2.6.1.jar                       hive-service-rpc-3.1.2.jar              kubernetes-model-common-5.12.2.jar                            protobuf-java-2.5.0.jar\r\n    arpack-2.2.1.jar                                       hive-shims-0.23-2.3.9.jar               kubernetes-model-coordination-5.12.2.jar                      py4j-0.10.9.5.jar\r\n    arpack_combined_all-0.1.jar                            hive-shims-2.3.9.jar                    kubernetes-model-core-5.12.2.jar                              RoaringBitmap-0.9.25.jar\r\n    arrow-format-7.0.0.jar                                 hive-shims-common-2.3.9.jar             kubernetes-model-discovery-5.12.2.jar                         rocksdbjni-6.20.3.jar\r\n    arrow-memory-core-7.0.0.jar                            hive-shims-scheduler-2.3.9.jar          kubernetes-model-events-5.12.2.jar                            scala-collection-compat_2.12-2.1.1.jar\r\n    arrow-memory-netty-7.0.0.jar                           hive-storage-api-2.7.2.jar              kubernetes-model-extensions-5.12.2.jar                        scala-compiler-2.12.15.jar\r\n    arrow-vector-7.0.0.jar                                 hive-vector-code-gen-2.3.9.jar          kubernetes-model-flowcontrol-5.12.2.jar                       scala-library-2.12.15.jar\r\n    audience-annotations-0.5.0.jar                         hk2-api-2.6.1.jar                       kubernetes-model-metrics-5.12.2.jar                           scala-parser-combinators_2.12-1.1.2.jar\r\n    automaton-1.11-8.jar                                   hk2-locator-2.6.1.jar                   kubernetes-model-networking-5.12.2.jar                        scala-reflect-2.12.15.jar\r\n    avro-1.11.0.jar                                        hk2-utils-2.6.1.jar                     kubernetes-model-node-5.12.2.jar                              scala-xml_2.12-1.2.0.jar\r\n    avro-ipc-1.11.0.jar                                    httpclient-4.5.13.jar                   kubernetes-model-policy-5.12.2.jar                            shapeless_2.12-2.3.7.jar\r\n    avro-mapred-1.11.0.jar                                 httpcore-4.4.14.jar                     kubernetes-model-rbac-5.12.2.jar                              shims-0.9.25.jar\r\n    aws-java-sdk-bundle-1.11.1026.jar                      istack-commons-runtime-3.0.8.jar        kubernetes-model-scheduling-5.12.2.jar                        slf4j-api-1.7.32.jar\r\n    blas-2.2.1.jar                                         ivy-2.5.1.jar                           kubernetes-model-storageclass-5.12.2.jar                      snakeyaml-1.31.jar\r\n    bonecp-0.8.0.RELEASE.jar                               jackson-annotations-2.13.4.jar          lapack-2.2.1.jar                                              snappy-java-1.1.8.4.jar\r\n    breeze_2.12-1.2.jar                                    jackson-core-2.13.4.jar                 leveldbjni-all-1.8.jar                                        spark-catalyst_2.12-3.3.2.jar\r\n    breeze-macros_2.12-1.2.jar                             jackson-core-asl-1.9.13.jar             libfb303-0.9.3.jar                                            spark-core_2.12-3.3.2.jar\r\n    cats-kernel_2.12-2.1.1.jar                             jackson-databind-2.13.4.2.jar           libthrift-0.12.0.jar                                          spark-graphx_2.12-3.3.2.jar\r\n    chill_2.12-0.10.0.jar                                  jackson-dataformat-yaml-2.13.4.jar      log4j-1.2-api-2.17.2.jar                                      spark-hive_2.12-3.3.2.jar\r\n    chill-java-0.10.0.jar                                  jackson-datatype-jsr310-2.13.4.jar      log4j-api-2.17.2.jar                                          spark-hive-thriftserver_2.12-3.3.2.jar\r\n    commons-cli-1.5.0.jar                                  jackson-mapper-asl-1.9.13.jar           log4j-core-2.17.2.jar                                         spark-kubernetes_2.12-3.3.2.jar\r\n    commons-codec-1.15.jar                                 jackson-module-scala_2.12-2.13.4.jar    log4j-slf4j-impl-2.17.2.jar                                   spark-kvstore_2.12-3.3.2.jar\r\n    commons-collections-3.2.2.jar                          jakarta.annotation-api-1.3.5.jar        logging-interceptor-3.12.12.jar                               spark-launcher_2.12-3.3.2.jar\r\n    commons-collections4-4.4.jar                           jakarta.inject-2.6.1.jar                lz4-java-1.8.0.jar                                            spark-mesos_2.12-3.3.2.jar\r\n    commons-compiler-3.0.16.jar                            jakarta.servlet-api-4.0.3.jar           mesos-1.4.3-shaded-protobuf.jar                               spark-mllib_2.12-3.3.2.jar\r\n    commons-compress-1.21.jar                              jakarta.validation-api-2.0.2.jar        metrics-core-4.2.7.jar                                        spark-mllib-local_2.12-3.3.2.jar\r\n    commons-crypto-1.1.0.jar                               jakarta.ws.rs-api-2.1.6.jar             metrics-graphite-4.2.7.jar                                    spark-network-common_2.12-3.3.2.jar\r\n    commons-dbcp-1.4.jar                                   jakarta.xml.bind-api-2.3.2.jar          metrics-jmx-4.2.7.jar                                         spark-network-shuffle_2.12-3.3.2.jar\r\n    commons-io-2.11.0.jar                                  janino-3.0.16.jar                       metrics-json-4.2.7.jar                                        spark-repl_2.12-3.3.2.jar\r\n    commons-lang-2.6.jar                                   javassist-3.25.0-GA.jar                 metrics-jvm-4.2.7.jar                                         spark-sketch_2.12-3.3.2.jar\r\n    commons-lang3-3.12.0.jar                               javax.jdo-3.2.0-m3.jar                  minlog-1.3.0.jar                                              spark-sql_2.12-3.3.2.jar\r\n    commons-logging-1.1.3.jar                              javolution-5.5.1.jar                    netty-all-4.1.74.Final.jar                                    spark-streaming_2.12-3.3.2.jar\r\n    commons-math3-3.6.1.jar                                jaxb-runtime-2.3.2.jar                  netty-buffer-4.1.74.Final.jar                                 spark-tags_2.12-3.3.2.jar\r\n    commons-pool-1.5.4.jar                                 jcl-over-slf4j-1.7.32.jar               netty-codec-4.1.74.Final.jar                                  spark-tags_2.12-3.3.2-tests.jar\r\n    commons-text-1.10.0.jar                                jdo-api-3.0.1.jar                       netty-common-4.1.74.Final.jar                                 spark-unsafe_2.12-3.3.2.jar\r\n    compress-lzf-1.1.jar                                   jersey-client-2.36.jar                  netty-handler-4.1.74.Final.jar                                spark-yarn_2.12-3.3.2.jar\r\n    core-1.1.2.jar                                         jersey-common-2.36.jar                  netty-resolver-4.1.74.Final.jar                               spire_2.12-0.17.0.jar\r\n    curator-client-2.13.0.jar                              jersey-container-servlet-2.36.jar       netty-tcnative-classes-2.0.48.Final.jar                       spire-macros_2.12-0.17.0.jar\r\n    curator-framework-2.13.0.jar                           jersey-container-servlet-core-2.36.jar  netty-transport-4.1.74.Final.jar                              spire-platform_2.12-0.17.0.jar\r\n    curator-recipes-2.13.0.jar                             jersey-hk2-2.36.jar                     netty-transport-classes-epoll-4.1.74.Final.jar                spire-util_2.12-0.17.0.jar\r\n    datanucleus-api-jdo-4.2.4.jar                          jersey-server-2.36.jar                  netty-transport-classes-kqueue-4.1.74.Final.jar               ST4-4.0.4.jar\r\n    datanucleus-core-4.1.17.jar                            JLargeArrays-1.5.jar                    netty-transport-native-epoll-4.1.74.Final-linux-aarch_64.jar  stax-api-1.0.1.jar\r\n    datanucleus-rdbms-4.1.19.jar                           jline-2.14.6.jar                        netty-transport-native-epoll-4.1.74.Final-linux-x86_64.jar    stream-2.9.6.jar\r\n    derby-10.14.2.0.jar                                    joda-time-2.10.13.jar                   netty-transport-native-kqueue-4.1.74.Final-osx-aarch_64.jar   super-csv-2.2.0.jar\r\n    dropwizard-metrics-hadoop-metrics2-reporter-0.1.2.jar  jodd-core-3.5.2.jar                     netty-transport-native-kqueue-4.1.74.Final-osx-x86_64.jar     threeten-extra-1.5.0.jar\r\n    flatbuffers-java-1.12.0.jar                            jpam-1.1.jar                            netty-transport-native-unix-common-4.1.74.Final.jar           tink-1.6.1.jar\r\n    generex-1.0.2.jar                                      json-1.8.jar                            objenesis-3.2.jar                                             transaction-api-1.1.jar\r\n    gson-2.2.4.jar                                         json4s-ast_2.12-3.7.0-M11.jar           okhttp-3.12.12.jar                                            univocity-parsers-2.9.1.jar\r\n    guava-14.0.1.jar                                       json4s-core_2.12-3.7.0-M11.jar          okio-1.14.0.jar                                               velocity-1.5.jar\r\n    hadoop-aws-3.3.2.jar                                   json4s-jackson_2.12-3.7.0-M11.jar       opencsv-2.3.jar                                               xbean-asm9-shaded-4.20.jar\r\n    hadoop-client-api-3.3.2.jar                            json4s-scalap_2.12-3.7.0-M11.jar        orc-core-1.7.8.jar                                            xz-1.9.jar\r\n    hadoop-client-runtime-3.3.2.jar                        jsr305-3.0.0.jar                        orc-mapreduce-1.7.8.jar                                       zjsonpatch-0.3.0.jar\r\n    hadoop-shaded-guava-1.1.1.jar                          jta-1.1.jar                             orc-shims-1.7.8.jar                                           zookeeper-3.6.2.jar\r\n    hadoop-yarn-server-web-proxy-3.3.2.jar                 JTransforms-3.1.jar                     oro-2.0.8.jar                                                 zookeeper-jute-3.6.2.jar\r\n    HikariCP-2.5.1.jar                                     jul-to-slf4j-1.7.32.jar                 osgi-resource-locator-1.0.3.jar                               zstd-jni-1.5.2-1.jar\r\n    hive-beeline-2.3.9.jar                                 kryo-shaded-4.0.2.jar                   paranamer-2.8.jar\r\n    hive-cli-2.3.9.jar                                     kubernetes-client-5.12.2.jar            parquet-column-1.12.2.jar\r\n\r\nI&#39;m running Scala 2.13.10 and openjdk@1.11.0-2. Thankful for any help with solving this exception.\r\n\r\n","title":"PySpark: ClassNotFoundException on spark.read","body":"<p>I'm trying to read a CSV file with Spark, create a view and then query it using SQL syntax. At the last step, my program crashes. Here's the code:</p>\n<pre><code>from pyspark.sql import SparkSession\nfrom delta.tables import DeltaTable\n\nspark_jars_packages = &quot;com.amazonaws:aws-java-sdk:1.11.1026,org.apache.hadoop:hadoop-aws:3.3.2,io.delta:delta-core_2.12:1.2.1&quot;\nspark = (\n        SparkSession.builder.master(&quot;local[*]&quot;)\n        .appName(&quot;PySparkLocal&quot;)\n        .config(&quot;fs.s3a.aws.credentials.provider&quot;, &quot;com.amazonaws.auth.profile.ProfileCredentialsProvider&quot;) \n        .config(&quot;com.amazonaws.services.s3.enableV4&quot;, &quot;true&quot;) \n        .config(&quot;spark.hadoop.fs.s3a.path.style.access&quot;, True) \n        .config(&quot;spark.sql.extensions&quot;, &quot;io.delta.sql.DeltaSparkSessionExtension&quot;)\n        .config(&quot;spark.sql.catalog.spark_catalog&quot;, &quot;org.apache.spark.sql.delta.catalog.DeltaCatalog&quot;)\n        .config(&quot;spark.hadoop.fs.s3.impl&quot;, &quot;org.apache.hadoop.fs.s3a.S3AFileSystem&quot;)\n        .config(&quot;spark.hadoop.fs.AbstractFileSystem.s3.impl&quot;, &quot;org.apache.hadoop.fs.s3a.S3AFileSystem&quot;)\n        .config(&quot;spark.delta.logStore.class&quot;, &quot;org.apache.spark.sql.delta.storage.S3SingleDriverLogStore&quot;)\n        .config(&quot;spark.hadoop.fs.s3a.connection.timeout&quot;, &quot;3600000&quot;)\n        .config(&quot;spark.hadoop.fs.s3a.connection.maximum&quot;, &quot;1000&quot;)\n        .config(&quot;spark.hadoop.fs.s3a.threads.max&quot;, &quot;1000&quot;)\n        .config(&quot;spark.jars.packages&quot;, spark_jars_packages)\n        .config(&quot;spark.sql.sources.partitionOverwriteMode&quot;, &quot;dynamic&quot;)\n        .config(&quot;spark.databricks.delta.schema.autoMerge.enabled&quot;, &quot;true&quot;)\n        .config(&quot;spark.hadoop.fs.s3a.endpoint&quot;, &quot;s3.eu-central-1.amazonaws.com&quot;)\n        .getOrCreate()\n    )\n\ndf = spark.read.option(&quot;recursiveFileLookup&quot;, &quot;true&quot;).option(&quot;header&quot;,&quot;true&quot;).csv(&quot;s3a://sahand-test/part-00003-bd225a60-4eca-44c9-a0c7-afc7295d96f2-c000.csv&quot;)\n</code></pre>\n<p>The code crashes on the last line, here is the output (with some maven-related logs deleted to not exceed the StackOverflow character limit):</p>\n<pre><code>Warning: Ignoring non-Spark config property: fs.s3a.aws.credentials.provider\nWarning: Ignoring non-Spark config property: com.amazonaws.services.s3.enableV4\n23/03/22 12:23:32 WARN Utils: Your hostname, sahand-XPS-15-7590 resolves to a loopback address: 127.0.1.1; using 192.168.178.24 instead (on interface wlp59s0)\n23/03/22 12:23:32 WARN Utils: Set SPARK_LOCAL_IP if you need to bind to another address\n:: loading settings :: url = jar:file:/usr/local/spark/jars/ivy-2.5.1.jar!/org/apache/ivy/core/settings/ivysettings.xml\nIvy Default Cache set to: /home/sahand/.ivy2/cache\nThe jars for the packages stored in: /home/sahand/.ivy2/jars\ncom.amazonaws#aws-java-sdk added as a dependency\norg.apache.hadoop#hadoop-aws added as a dependency\nio.delta#delta-core_2.13 added as a dependency\n:: resolving dependencies :: org.apache.spark#spark-submit-parent-80fefbe7-c5a0-49ab-99e7-90dcb766bbc5;1.0\n    confs: [default]\n    found com.amazonaws#aws-java-sdk;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-apprunner;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-core;1.11.1026 in central\n    found commons-logging#commons-logging;1.1.3 in local-m2-cache\n    found commons-codec#commons-codec;1.15 in local-m2-cache\n    found org.apache.httpcomponents#httpclient;4.5.13 in local-m2-cache\n    found org.apache.httpcomponents#httpcore;4.4.13 in local-m2-cache\n    found software.amazon.ion#ion-java;1.0.2 in local-m2-cache\n    found com.fasterxml.jackson.core#jackson-databind;2.6.7.4 in local-m2-cache\n    found com.fasterxml.jackson.core#jackson-annotations;2.6.0 in local-m2-cache\n    found com.fasterxml.jackson.core#jackson-core;2.6.7 in local-m2-cache\n    found com.fasterxml.jackson.dataformat#jackson-dataformat-cbor;2.6.7 in local-m2-cache\n    found joda-time#joda-time;2.8.1 in local-m2-cache\n    found com.amazonaws#jmespath-java;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-applicationcostprofiler;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-ssmcontacts;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-ssmincidents;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-finspacedata;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-finspace;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-nimblestudio;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-lookoutequipment;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-mgn;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-lookoutmetrics;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-fis;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-lexmodelsv2;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-lexruntimev2;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-wellarchitected;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-location;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-iotdeviceadvisor;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-iotfleethub;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-iotwireless;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-greengrassv2;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-prometheus;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-auditmanager;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-healthlake;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-sagemakeredgemanager;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-emrcontainers;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-customerprofiles;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-lookoutforvision;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-connectcontactlens;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-amplifybackend;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-ecrpublic;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-appintegrations;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-sagemakerfeaturestoreruntime;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-devopsguru;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-mwaa;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-networkfirewall;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-appregistry;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-gluedatabrew;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-s3outposts;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-timestreamquery;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-timestreamwrite;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-ssoadmin;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-redshiftdataapi;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-appflow;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-identitystore;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-braket;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-ivs;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-honeycode;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-codeartifact;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-macie2;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-iotsitewise;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-synthetics;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-codestarconnections;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-detective;1.11.1026 in central\n    found com.amazonaws#aws-java-sdk-kinesisvideosignalingchannels;1.11.1026 in central\n    com.amazonaws#aws-java-sdk-synthetics;1.11.1026 from central in [default]\n    com.amazonaws#aws-java-sdk-textract;1.11.1026 from central in [default]\n    com.amazonaws#aws-java-sdk-timestreamquery;1.11.1026 from central in [default]\n    com.amazonaws#aws-java-sdk-timestreamwrite;1.11.1026 from central in [default]\n    com.amazonaws#aws-java-sdk-transcribe;1.11.1026 from central in [default]\n    com.amazonaws#aws-java-sdk-transfer;1.11.1026 from central in [default]\n    com.amazonaws#aws-java-sdk-translate;1.11.1026 from central in [default]\n    com.amazonaws#aws-java-sdk-waf;1.11.1026 from central in [default]\n    com.amazonaws#aws-java-sdk-wafv2;1.11.1026 from central in [default]\n    com.amazonaws#aws-java-sdk-wellarchitected;1.11.1026 from central in [default]\n    com.amazonaws#aws-java-sdk-workdocs;1.11.1026 from central in [default]\n    com.amazonaws#aws-java-sdk-worklink;1.11.1026 from central in [default]\n    com.amazonaws#aws-java-sdk-workmail;1.11.1026 from central in [default]\n    com.amazonaws#aws-java-sdk-workmailmessageflow;1.11.1026 from central in [default]\n    com.amazonaws#aws-java-sdk-workspaces;1.11.1026 from central in [default]\n    com.amazonaws#aws-java-sdk-xray;1.11.1026 from central in [default]\n    com.amazonaws#jmespath-java;1.11.1026 from central in [default]\n    com.fasterxml.jackson.core#jackson-annotations;2.6.0 from local-m2-cache in [default]\n    com.fasterxml.jackson.core#jackson-core;2.6.7 from local-m2-cache in [default]\n    com.fasterxml.jackson.core#jackson-databind;2.6.7.4 from local-m2-cache in [default]\n    com.fasterxml.jackson.dataformat#jackson-dataformat-cbor;2.6.7 from local-m2-cache in [default]\n    commons-codec#commons-codec;1.15 from local-m2-cache in [default]\n    commons-logging#commons-logging;1.1.3 from local-m2-cache in [default]\n    io.delta#delta-core_2.13;2.2.0 from central in [default]\n    io.delta#delta-storage;2.2.0 from central in [default]\n    io.netty#netty-buffer;4.1.61.Final from central in [default]\n    io.netty#netty-codec;4.1.61.Final from central in [default]\n    io.netty#netty-codec-http;4.1.61.Final from central in [default]\n    io.netty#netty-common;4.1.61.Final from central in [default]\n    io.netty#netty-handler;4.1.61.Final from central in [default]\n    io.netty#netty-resolver;4.1.61.Final from central in [default]\n    io.netty#netty-transport;4.1.61.Final from central in [default]\n    joda-time#joda-time;2.8.1 from local-m2-cache in [default]\n    org.antlr#antlr4-runtime;4.8 from local-m2-cache in [default]\n    org.apache.hadoop#hadoop-aws;3.3.2 from central in [default]\n    org.apache.httpcomponents#httpclient;4.5.13 from local-m2-cache in [default]\n    org.apache.httpcomponents#httpcore;4.4.13 from local-m2-cache in [default]\n    org.wildfly.openssl#wildfly-openssl;1.0.7.Final from local-m2-cache in [default]\n    software.amazon.ion#ion-java;1.0.2 from local-m2-cache in [default]\n    :: evicted modules:\n    commons-logging#commons-logging;1.2 by [commons-logging#commons-logging;1.1.3] in [default]\n    commons-codec#commons-codec;1.11 by [commons-codec#commons-codec;1.15] in [default]\n    com.amazonaws#aws-java-sdk-simpleworkflow;1.11.22 by [com.amazonaws#aws-java-sdk-simpleworkflow;1.11.1026] in [default]\n    ---------------------------------------------------------------------\n    |                  |            modules            ||   artifacts   |\n    |       conf       | number| search|dwnlded|evicted|| number|dwnlded|\n    ---------------------------------------------------------------------\n    |      default     |  292  |   3   |   3   |   3   ||  289  |   0   |\n    ---------------------------------------------------------------------\n\n:: problems summary ::\n:::: ERRORS\n    unknown resolver null\n\n    unknown resolver null\n\n    unknown resolver null\n\n\n:: USE VERBOSE OR DEBUG MESSAGE LEVEL FOR MORE DETAILS\n:: retrieving :: org.apache.spark#spark-submit-parent-80fefbe7-c5a0-49ab-99e7-90dcb766bbc5\n    confs: [default]\n    0 artifacts copied, 289 already retrieved (0kB/29ms)\n23/03/22 12:23:40 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\nSetting default log level to &quot;WARN&quot;.\nTo adjust logging level use sc.setLogLevel(newLevel). For SparkR, use setLogLevel(newLevel).\nTraceback (most recent call last):\n  File &quot;/home/sahand/delta-lake-pyspark/main.py&quot;, line 26, in &lt;module&gt;\n    df = spark.read.option(&quot;recursiveFileLookup&quot;, &quot;true&quot;).option(&quot;header&quot;,&quot;true&quot;).csv(&quot;s3a://sahand-test/part-00003-bd225a60-4eca-44c9-a0c7-afc7295d96f2-c000.csv&quot;)\n         ^^^^^^^^^^\n  File &quot;/usr/local/spark/python/pyspark/sql/session.py&quot;, line 1069, in read\n    return DataFrameReader(self)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File &quot;/usr/local/spark/python/pyspark/sql/readwriter.py&quot;, line 66, in __init__\n    self._jreader = spark._jsparkSession.read()\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &quot;/usr/local/spark/python/lib/py4j-0.10.9.5-src.zip/py4j/java_gateway.py&quot;, line 1321, in __call__\n  File &quot;/usr/local/spark/python/pyspark/sql/utils.py&quot;, line 190, in deco\n    return f(*a, **kw)\n           ^^^^^^^^^^^\n  File &quot;/usr/local/spark/python/lib/py4j-0.10.9.5-src.zip/py4j/protocol.py&quot;, line 326, in get_return_value\npy4j.protocol.Py4JJavaError: An error occurred while calling o58.read.\n: java.lang.NoClassDefFoundError: scala/collection/SeqOps\n    at io.delta.sql.parser.DeltaSqlParser.&lt;init&gt;(DeltaSqlParser.scala:72)\n    at io.delta.sql.DeltaSparkSessionExtension.$anonfun$apply$1(DeltaSparkSessionExtension.scala:79)\n    at org.apache.spark.sql.SparkSessionExtensions.$anonfun$buildParser$1(SparkSessionExtensions.scala:272)\n    at scala.collection.IndexedSeqOptimized.foldLeft(IndexedSeqOptimized.scala:60)\n    at scala.collection.IndexedSeqOptimized.foldLeft$(IndexedSeqOptimized.scala:68)\n    at scala.collection.mutable.ArrayBuffer.foldLeft(ArrayBuffer.scala:49)\n    at org.apache.spark.sql.SparkSessionExtensions.buildParser(SparkSessionExtensions.scala:271)\n    at org.apache.spark.sql.internal.BaseSessionStateBuilder.sqlParser$lzycompute(BaseSessionStateBuilder.scala:138)\n    at org.apache.spark.sql.internal.BaseSessionStateBuilder.sqlParser(BaseSessionStateBuilder.scala:137)\n    at org.apache.spark.sql.internal.BaseSessionStateBuilder.build(BaseSessionStateBuilder.scala:362)\n    at org.apache.spark.sql.SparkSession$.org$apache$spark$sql$SparkSession$$instantiateSessionState(SparkSession.scala:1175)\n    at org.apache.spark.sql.SparkSession.$anonfun$sessionState$2(SparkSession.scala:162)\n    at scala.Option.getOrElse(Option.scala:189)\n    at org.apache.spark.sql.SparkSession.sessionState$lzycompute(SparkSession.scala:160)\n    at org.apache.spark.sql.SparkSession.sessionState(SparkSession.scala:157)\n    at org.apache.spark.sql.DataFrameReader.&lt;init&gt;(DataFrameReader.scala:698)\n    at org.apache.spark.sql.SparkSession.read(SparkSession.scala:662)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244)\n    at py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\n    at py4j.Gateway.invoke(Gateway.java:282)\n    at py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\n    at py4j.commands.CallCommand.execute(CallCommand.java:79)\n    at py4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182)\n    at py4j.ClientServerConnection.run(ClientServerConnection.java:106)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.lang.ClassNotFoundException: scala.collection.SeqOps\n    at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:471)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 29 more\n</code></pre>\n<p>The error seems related to module/package versions or java/Scala versions. However, after much tinkering around I still haven't been able to find the issue. Here's the output of <code>pip freeze</code>:</p>\n<pre><code>delta-spark==2.1.1\nimportlib-metadata==6.1.0\npy4j==0.10.9.5\npyspark==3.3.2\nzipp==3.15.0\n</code></pre>\n<p>And the jars in <code>$SPARK_HOME/jars</code>:</p>\n<pre><code>activation-1.1.1.jar                                   hive-common-2.3.9.jar                   kubernetes-model-admissionregistration-5.12.2.jar             parquet-common-1.12.2.jar\naircompressor-0.21.jar                                 hive-exec-2.3.9-core.jar                kubernetes-model-apiextensions-5.12.2.jar                     parquet-encoding-1.12.2.jar\nalgebra_2.12-2.0.1.jar                                 hive-jdbc-2.3.9.jar                     kubernetes-model-apps-5.12.2.jar                              parquet-format-structures-1.12.2.jar\nannotations-17.0.0.jar                                 hive-llap-common-2.3.9.jar              kubernetes-model-autoscaling-5.12.2.jar                       parquet-hadoop-1.12.2.jar\nantlr4-runtime-4.8.jar                                 hive-metastore-2.3.9.jar                kubernetes-model-batch-5.12.2.jar                             parquet-jackson-1.12.2.jar\nantlr-runtime-3.5.2.jar                                hive-serde-2.3.9.jar                    kubernetes-model-certificates-5.12.2.jar                      pickle-1.2.jar\naopalliance-repackaged-2.6.1.jar                       hive-service-rpc-3.1.2.jar              kubernetes-model-common-5.12.2.jar                            protobuf-java-2.5.0.jar\narpack-2.2.1.jar                                       hive-shims-0.23-2.3.9.jar               kubernetes-model-coordination-5.12.2.jar                      py4j-0.10.9.5.jar\narpack_combined_all-0.1.jar                            hive-shims-2.3.9.jar                    kubernetes-model-core-5.12.2.jar                              RoaringBitmap-0.9.25.jar\narrow-format-7.0.0.jar                                 hive-shims-common-2.3.9.jar             kubernetes-model-discovery-5.12.2.jar                         rocksdbjni-6.20.3.jar\narrow-memory-core-7.0.0.jar                            hive-shims-scheduler-2.3.9.jar          kubernetes-model-events-5.12.2.jar                            scala-collection-compat_2.12-2.1.1.jar\narrow-memory-netty-7.0.0.jar                           hive-storage-api-2.7.2.jar              kubernetes-model-extensions-5.12.2.jar                        scala-compiler-2.12.15.jar\narrow-vector-7.0.0.jar                                 hive-vector-code-gen-2.3.9.jar          kubernetes-model-flowcontrol-5.12.2.jar                       scala-library-2.12.15.jar\naudience-annotations-0.5.0.jar                         hk2-api-2.6.1.jar                       kubernetes-model-metrics-5.12.2.jar                           scala-parser-combinators_2.12-1.1.2.jar\nautomaton-1.11-8.jar                                   hk2-locator-2.6.1.jar                   kubernetes-model-networking-5.12.2.jar                        scala-reflect-2.12.15.jar\navro-1.11.0.jar                                        hk2-utils-2.6.1.jar                     kubernetes-model-node-5.12.2.jar                              scala-xml_2.12-1.2.0.jar\navro-ipc-1.11.0.jar                                    httpclient-4.5.13.jar                   kubernetes-model-policy-5.12.2.jar                            shapeless_2.12-2.3.7.jar\navro-mapred-1.11.0.jar                                 httpcore-4.4.14.jar                     kubernetes-model-rbac-5.12.2.jar                              shims-0.9.25.jar\naws-java-sdk-bundle-1.11.1026.jar                      istack-commons-runtime-3.0.8.jar        kubernetes-model-scheduling-5.12.2.jar                        slf4j-api-1.7.32.jar\nblas-2.2.1.jar                                         ivy-2.5.1.jar                           kubernetes-model-storageclass-5.12.2.jar                      snakeyaml-1.31.jar\nbonecp-0.8.0.RELEASE.jar                               jackson-annotations-2.13.4.jar          lapack-2.2.1.jar                                              snappy-java-1.1.8.4.jar\nbreeze_2.12-1.2.jar                                    jackson-core-2.13.4.jar                 leveldbjni-all-1.8.jar                                        spark-catalyst_2.12-3.3.2.jar\nbreeze-macros_2.12-1.2.jar                             jackson-core-asl-1.9.13.jar             libfb303-0.9.3.jar                                            spark-core_2.12-3.3.2.jar\ncats-kernel_2.12-2.1.1.jar                             jackson-databind-2.13.4.2.jar           libthrift-0.12.0.jar                                          spark-graphx_2.12-3.3.2.jar\nchill_2.12-0.10.0.jar                                  jackson-dataformat-yaml-2.13.4.jar      log4j-1.2-api-2.17.2.jar                                      spark-hive_2.12-3.3.2.jar\nchill-java-0.10.0.jar                                  jackson-datatype-jsr310-2.13.4.jar      log4j-api-2.17.2.jar                                          spark-hive-thriftserver_2.12-3.3.2.jar\ncommons-cli-1.5.0.jar                                  jackson-mapper-asl-1.9.13.jar           log4j-core-2.17.2.jar                                         spark-kubernetes_2.12-3.3.2.jar\ncommons-codec-1.15.jar                                 jackson-module-scala_2.12-2.13.4.jar    log4j-slf4j-impl-2.17.2.jar                                   spark-kvstore_2.12-3.3.2.jar\ncommons-collections-3.2.2.jar                          jakarta.annotation-api-1.3.5.jar        logging-interceptor-3.12.12.jar                               spark-launcher_2.12-3.3.2.jar\ncommons-collections4-4.4.jar                           jakarta.inject-2.6.1.jar                lz4-java-1.8.0.jar                                            spark-mesos_2.12-3.3.2.jar\ncommons-compiler-3.0.16.jar                            jakarta.servlet-api-4.0.3.jar           mesos-1.4.3-shaded-protobuf.jar                               spark-mllib_2.12-3.3.2.jar\ncommons-compress-1.21.jar                              jakarta.validation-api-2.0.2.jar        metrics-core-4.2.7.jar                                        spark-mllib-local_2.12-3.3.2.jar\ncommons-crypto-1.1.0.jar                               jakarta.ws.rs-api-2.1.6.jar             metrics-graphite-4.2.7.jar                                    spark-network-common_2.12-3.3.2.jar\ncommons-dbcp-1.4.jar                                   jakarta.xml.bind-api-2.3.2.jar          metrics-jmx-4.2.7.jar                                         spark-network-shuffle_2.12-3.3.2.jar\ncommons-io-2.11.0.jar                                  janino-3.0.16.jar                       metrics-json-4.2.7.jar                                        spark-repl_2.12-3.3.2.jar\ncommons-lang-2.6.jar                                   javassist-3.25.0-GA.jar                 metrics-jvm-4.2.7.jar                                         spark-sketch_2.12-3.3.2.jar\ncommons-lang3-3.12.0.jar                               javax.jdo-3.2.0-m3.jar                  minlog-1.3.0.jar                                              spark-sql_2.12-3.3.2.jar\ncommons-logging-1.1.3.jar                              javolution-5.5.1.jar                    netty-all-4.1.74.Final.jar                                    spark-streaming_2.12-3.3.2.jar\ncommons-math3-3.6.1.jar                                jaxb-runtime-2.3.2.jar                  netty-buffer-4.1.74.Final.jar                                 spark-tags_2.12-3.3.2.jar\ncommons-pool-1.5.4.jar                                 jcl-over-slf4j-1.7.32.jar               netty-codec-4.1.74.Final.jar                                  spark-tags_2.12-3.3.2-tests.jar\ncommons-text-1.10.0.jar                                jdo-api-3.0.1.jar                       netty-common-4.1.74.Final.jar                                 spark-unsafe_2.12-3.3.2.jar\ncompress-lzf-1.1.jar                                   jersey-client-2.36.jar                  netty-handler-4.1.74.Final.jar                                spark-yarn_2.12-3.3.2.jar\ncore-1.1.2.jar                                         jersey-common-2.36.jar                  netty-resolver-4.1.74.Final.jar                               spire_2.12-0.17.0.jar\ncurator-client-2.13.0.jar                              jersey-container-servlet-2.36.jar       netty-tcnative-classes-2.0.48.Final.jar                       spire-macros_2.12-0.17.0.jar\ncurator-framework-2.13.0.jar                           jersey-container-servlet-core-2.36.jar  netty-transport-4.1.74.Final.jar                              spire-platform_2.12-0.17.0.jar\ncurator-recipes-2.13.0.jar                             jersey-hk2-2.36.jar                     netty-transport-classes-epoll-4.1.74.Final.jar                spire-util_2.12-0.17.0.jar\ndatanucleus-api-jdo-4.2.4.jar                          jersey-server-2.36.jar                  netty-transport-classes-kqueue-4.1.74.Final.jar               ST4-4.0.4.jar\ndatanucleus-core-4.1.17.jar                            JLargeArrays-1.5.jar                    netty-transport-native-epoll-4.1.74.Final-linux-aarch_64.jar  stax-api-1.0.1.jar\ndatanucleus-rdbms-4.1.19.jar                           jline-2.14.6.jar                        netty-transport-native-epoll-4.1.74.Final-linux-x86_64.jar    stream-2.9.6.jar\nderby-10.14.2.0.jar                                    joda-time-2.10.13.jar                   netty-transport-native-kqueue-4.1.74.Final-osx-aarch_64.jar   super-csv-2.2.0.jar\ndropwizard-metrics-hadoop-metrics2-reporter-0.1.2.jar  jodd-core-3.5.2.jar                     netty-transport-native-kqueue-4.1.74.Final-osx-x86_64.jar     threeten-extra-1.5.0.jar\nflatbuffers-java-1.12.0.jar                            jpam-1.1.jar                            netty-transport-native-unix-common-4.1.74.Final.jar           tink-1.6.1.jar\ngenerex-1.0.2.jar                                      json-1.8.jar                            objenesis-3.2.jar                                             transaction-api-1.1.jar\ngson-2.2.4.jar                                         json4s-ast_2.12-3.7.0-M11.jar           okhttp-3.12.12.jar                                            univocity-parsers-2.9.1.jar\nguava-14.0.1.jar                                       json4s-core_2.12-3.7.0-M11.jar          okio-1.14.0.jar                                               velocity-1.5.jar\nhadoop-aws-3.3.2.jar                                   json4s-jackson_2.12-3.7.0-M11.jar       opencsv-2.3.jar                                               xbean-asm9-shaded-4.20.jar\nhadoop-client-api-3.3.2.jar                            json4s-scalap_2.12-3.7.0-M11.jar        orc-core-1.7.8.jar                                            xz-1.9.jar\nhadoop-client-runtime-3.3.2.jar                        jsr305-3.0.0.jar                        orc-mapreduce-1.7.8.jar                                       zjsonpatch-0.3.0.jar\nhadoop-shaded-guava-1.1.1.jar                          jta-1.1.jar                             orc-shims-1.7.8.jar                                           zookeeper-3.6.2.jar\nhadoop-yarn-server-web-proxy-3.3.2.jar                 JTransforms-3.1.jar                     oro-2.0.8.jar                                                 zookeeper-jute-3.6.2.jar\nHikariCP-2.5.1.jar                                     jul-to-slf4j-1.7.32.jar                 osgi-resource-locator-1.0.3.jar                               zstd-jni-1.5.2-1.jar\nhive-beeline-2.3.9.jar                                 kryo-shaded-4.0.2.jar                   paranamer-2.8.jar\nhive-cli-2.3.9.jar                                     kubernetes-client-5.12.2.jar            parquet-column-1.12.2.jar\n</code></pre>\n<p>I'm running Scala 2.13.10 and openjdk@1.11.0-2. Thankful for any help with solving this exception.</p>\n"},{"tags":["java","certificate","keytool","java-ws"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1679355378,"post_id":75794462,"comment_id":133704101,"body_markdown":"That &quot;Security&quot; tab is actually the Java Control Panel and the JCP Certificate dialog should access JRE/lib/security/cacerts _only_ for System-level &quot;Signer CA&quot; or &quot;Secure Site CA&quot; ; other tabs and selections use different files. See https://docs.oracle.com/javase/7/docs/technotes/guides/jweb/jcp/jcp.html#manage_certs .","body":"That &quot;Security&quot; tab is actually the Java Control Panel and the JCP Certificate dialog should access JRE/lib/security/cacerts <i>only</i> for System-level &quot;Signer CA&quot; or &quot;Secure Site CA&quot; ; other tabs and selections use different files. See <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/jweb/jcp/jcp.html#manage_certs\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/technotes/guides/jweb/jcp/&hellip;</a> ."}],"answers":[{"tags":[],"owner":{"account_id":19768804,"reputation":31,"user_id":14476191,"display_name":"Diego"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679484548,"creation_date":1679484548,"answer_id":75811682,"question_id":75794462,"body_markdown":"I got it working by explicitely defining the files for cacert in deployment.properties:\r\n\r\n    deployment.system.security.trusted.cacerts=C\\:\\\\Program Files (x86)\\\\Java\\\\jre1.8.0_261\\\\lib\\\\security\\\\cacerts\r\n\r\nWhithout this line, it seems that the keystores that keytool.exe and the java control panel are reading/writing are different, despite using the default cacert keystore name.","title":"Java certificates shown in javaws.exe don&#39;t match keytool -list","body":"<p>I got it working by explicitely defining the files for cacert in deployment.properties:</p>\n<pre><code>deployment.system.security.trusted.cacerts=C\\:\\\\Program Files (x86)\\\\Java\\\\jre1.8.0_261\\\\lib\\\\security\\\\cacerts\n</code></pre>\n<p>Whithout this line, it seems that the keystores that keytool.exe and the java control panel are reading/writing are different, despite using the default cacert keystore name.</p>\n"}],"owner":{"account_id":19768804,"reputation":31,"user_id":14476191,"display_name":"Diego"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679484548,"creation_date":1679340104,"question_id":75794462,"body_markdown":"Environment:  Windows 10pro 64bits, Java 1.8.0_261 (32bits)\r\n\r\nCertificates imported with javaws dialog are not shown with keytool command, and viceversa.\r\n\r\n- Case 1) javaws.exe -viewer --&gt; Security --&gt; Manage certificates\r\nNo certificates at all are shown \r\n\r\n- Case 2) &#39;C:\\Program Files (x86)\\Java\\jre1.8.0_261\\bin\\keytool.exe&#39;  -list -keystore &#39;C:\\Program Files (x86)\\Java\\jre1.8.0_261\\lib\\security\\cacerts&#39;\r\n98 &#39;trustedCertEntry&#39; certificates are listed\r\n\r\nAny certificate imported with the javaws.exe dialog will not be shown in command line with keytool.exe, but only in javaws.\r\nAny certificate imported/deleted with keytool (-import / -delete switches) will not appear in javaws certificates dialog, but only with keytool -list\r\n\r\n\r\nWhat am I missing? Thanks. ","title":"Java certificates shown in javaws.exe don&#39;t match keytool -list","body":"<p>Environment:  Windows 10pro 64bits, Java 1.8.0_261 (32bits)</p>\n<p>Certificates imported with javaws dialog are not shown with keytool command, and viceversa.</p>\n<ul>\n<li><p>Case 1) javaws.exe -viewer --&gt; Security --&gt; Manage certificates\nNo certificates at all are shown</p>\n</li>\n<li><p>Case 2) 'C:\\Program Files (x86)\\Java\\jre1.8.0_261\\bin\\keytool.exe'  -list -keystore 'C:\\Program Files (x86)\\Java\\jre1.8.0_261\\lib\\security\\cacerts'\n98 'trustedCertEntry' certificates are listed</p>\n</li>\n</ul>\n<p>Any certificate imported with the javaws.exe dialog will not be shown in command line with keytool.exe, but only in javaws.\nAny certificate imported/deleted with keytool (-import / -delete switches) will not appear in javaws certificates dialog, but only with keytool -list</p>\n<p>What am I missing? Thanks.</p>\n"},{"tags":["java","multithreading","java-stream","java.util.concurrent"],"answers":[{"tags":[],"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679484263,"creation_date":1679484263,"answer_id":75811639,"question_id":75811608,"body_markdown":"A per the [documentation on stream ordering](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#Ordering) (emphasis mine):\r\n\r\n&gt; For parallel streams, relaxing the ordering constraint can sometimes enable more efficient execution. Certain aggregate operations, such as filtering duplicates (distinct()) or grouped reductions (Collectors.groupingBy()) can be implemented more efficiently if ordering of elements is not relevant. Similarly, operations that are intrinsically tied to encounter order, such as limit(), may require buffering to ensure proper ordering, undermining the benefit of parallelism. **In cases where the stream has an encounter order, but the user does not particularly care about that encounter order, explicitly de-ordering the stream with unordered() may improve parallel performance for some stateful or terminal operations.**","title":"when do we really benfit from java stream.unordered()?","body":"<p>A per the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#Ordering\" rel=\"nofollow noreferrer\">documentation on stream ordering</a> (emphasis mine):</p>\n<blockquote>\n<p>For parallel streams, relaxing the ordering constraint can sometimes enable more efficient execution. Certain aggregate operations, such as filtering duplicates (distinct()) or grouped reductions (Collectors.groupingBy()) can be implemented more efficiently if ordering of elements is not relevant. Similarly, operations that are intrinsically tied to encounter order, such as limit(), may require buffering to ensure proper ordering, undermining the benefit of parallelism. <strong>In cases where the stream has an encounter order, but the user does not particularly care about that encounter order, explicitly de-ordering the stream with unordered() may improve parallel performance for some stateful or terminal operations.</strong></p>\n</blockquote>\n"}],"owner":{"account_id":6186008,"reputation":3119,"user_id":4820101,"accept_rate":24,"display_name":"samshers"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679484389,"accepted_answer_id":75811639,"answer_count":1,"score":0,"last_activity_date":1679484263,"creation_date":1679484076,"question_id":75811608,"body_markdown":"java streams has this method [`unordered()`][1].\r\n\r\nI am not sure when this method will really enhance the performance of the program.\r\n\r\n1) `someList.stream.unordered()`  //here List is any way ordered and using `unordered()` is not going to make the list unordered, so the usage of `unordered()` has no effect.\r\n\r\n2) `someSet.stream.unordered()` //here set is any way NOT ordered and hence using `unordered()` is not going to make the set any further unordered, so the uage of `unordered()` has no effect. Similarly for Map too. \r\n\r\n\r\nWhile using `parallelStream` it may help though. But otherwise for NON parallelStream&#39;s is it required. Are there any such cases where it will boost performance.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/BaseStream.html#unordered()","title":"when do we really benfit from java stream.unordered()?","body":"<p>java streams has this method <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/BaseStream.html#unordered()\" rel=\"nofollow noreferrer\"><code>unordered()</code></a>.</p>\n<p>I am not sure when this method will really enhance the performance of the program.</p>\n<ol>\n<li><p><code>someList.stream.unordered()</code>  //here List is any way ordered and using <code>unordered()</code> is not going to make the list unordered, so the usage of <code>unordered()</code> has no effect.</p>\n</li>\n<li><p><code>someSet.stream.unordered()</code> //here set is any way NOT ordered and hence using <code>unordered()</code> is not going to make the set any further unordered, so the uage of <code>unordered()</code> has no effect. Similarly for Map too.</p>\n</li>\n</ol>\n<p>While using <code>parallelStream</code> it may help though. But otherwise for NON parallelStream's is it required. Are there any such cases where it will boost performance.</p>\n"},{"tags":["java","logback"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1676382187,"post_id":75448224,"comment_id":133122532,"body_markdown":"I remove the `log4j` tag, since you are using Logback, not Log4j.","body":"I remove the <code>log4j</code> tag, since you are using Logback, not Log4j."}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679484224,"creation_date":1679484224,"answer_id":75811632,"question_id":75448224,"body_markdown":"This is a quote from this link: [https://logback.qos.ch/manual/appenders.html][1]\r\n\r\n**maxHistory\tint\t\r\nThe optional maxHistory property controls the maximum number of archive files to keep, asynchronously deleting older files. For example, if you specify monthly rollover, and set maxHistory to 6, then 6 months worth of archives files will be kept with files older than 6 months deleted. Note as old archived log files are removed, any folders which were created for the purpose of log file archiving will be removed as appropriate.\r\nSetting maxHistory to zero disables archive removal. By default, maxHistory is set to zero, i.e. by default there is no archive removal.**\r\n\r\nSo, try setting property `maxHistory` for your `&lt;rollingPolicy&gt;`. Although according to this quote by default old files should not be deleted. But try setting it to zero to try and disable removal of old files or to some large number to keep up to that number of old files\r\n\r\n\r\n  [1]: https://logback.qos.ch/manual/appenders.html","title":"Several logback rolled older files truncated","body":"<p>This is a quote from this link: <a href=\"https://logback.qos.ch/manual/appenders.html\" rel=\"nofollow noreferrer\">https://logback.qos.ch/manual/appenders.html</a></p>\n<p><strong>maxHistory    int\nThe optional maxHistory property controls the maximum number of archive files to keep, asynchronously deleting older files. For example, if you specify monthly rollover, and set maxHistory to 6, then 6 months worth of archives files will be kept with files older than 6 months deleted. Note as old archived log files are removed, any folders which were created for the purpose of log file archiving will be removed as appropriate.\nSetting maxHistory to zero disables archive removal. By default, maxHistory is set to zero, i.e. by default there is no archive removal.</strong></p>\n<p>So, try setting property <code>maxHistory</code> for your <code>&lt;rollingPolicy&gt;</code>. Although according to this quote by default old files should not be deleted. But try setting it to zero to try and disable removal of old files or to some large number to keep up to that number of old files</p>\n"}],"owner":{"account_id":218143,"reputation":119,"user_id":474323,"accept_rate":39,"display_name":"Walking Corpse"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679484224,"creation_date":1676379709,"question_id":75448224,"body_markdown":"I have the below logging configuration in my spring boot application.\r\n\r\n      &lt;appender name=&quot;IbkrRollingFile&quot;\r\n          class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n        &lt;file&gt;${LOGS}/ibkr.log&lt;/file&gt;\r\n        &lt;encoder\r\n            class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\r\n          &lt;Pattern&gt;%d %p %C{1.} [%t] %m%n&lt;/Pattern&gt;\r\n        &lt;/encoder&gt;\r\n    \r\n        &lt;rollingPolicy\r\n            class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n          &lt;fileNamePattern&gt;${LOGS}/ibkr-%d{yyyy-MM-dd}.%i.log\r\n          &lt;/fileNamePattern&gt;\r\n          &lt;timeBasedFileNamingAndTriggeringPolicy\r\n              class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\r\n            &lt;maxFileSize&gt;100MB&lt;/maxFileSize&gt;\r\n          &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\r\n        &lt;/rollingPolicy&gt;\r\n      &lt;/appender&gt;\r\n      &lt;!-- LOG everything at INFO level --&gt;\r\n      &lt;root level=&quot;info&quot;&gt;\r\n        &lt;appender-ref ref=&quot;IbkrRollingFile&quot; /&gt;\r\n      &lt;/root&gt;\r\n\r\nI find that the log files for 08th to 12th have been zeroed out on Feb 13. I also checked the file for 13th Feb and it only contains the log for 13th Feb, not the combined logs for the deleted dates. Why did this happen?\r\n\r\n       9381 Jan 26 23:45 ibkr-2023-01-26.0.log\r\n      17393 Jan 27 23:45 ibkr-2023-01-27.0.log\r\n      75651 Jan 30 23:45 ibkr-2023-01-30.0.log\r\n     175709 Jan 31 23:45 ibkr-2023-01-31.0.log\r\n     194281 Feb  1 23:45 ibkr-2023-02-01.0.log\r\n     267280 Feb  2 23:52 ibkr-2023-02-02.0.log\r\n     245753 Feb  3 23:34 ibkr-2023-02-03.0.log\r\n        118 Feb  4 04:30 ibkr-2023-02-04.0.log\r\n     386926 Feb  6 21:58 ibkr-2023-02-06.0.log\r\n     415111 Feb  7 23:53 ibkr-2023-02-07.0.log\r\n       4300 Feb  9 10:12 pom.xml\r\n          0 Feb 13 20:40 ibkr-2023-02-12.0.log\r\n          0 Feb 13 20:40 ibkr-2023-02-08.0.log\r\n          0 Feb 13 20:40 ibkr-2023-02-11.0.log\r\n          0 Feb 13 20:40 ibkr-2023-02-10.0.log\r\n          0 Feb 13 20:40 ibkr-2023-02-09.0.log\r\n     468100 Feb 13 23:00 ibkr-2023-02-13.0.log\r\n      15380 Feb 14 12:20 ibkr.log\r\n\r\nWhy at all do older log files get touched let alone truncated?","title":"Several logback rolled older files truncated","body":"<p>I have the below logging configuration in my spring boot application.</p>\n<pre><code>  &lt;appender name=&quot;IbkrRollingFile&quot;\n      class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n    &lt;file&gt;${LOGS}/ibkr.log&lt;/file&gt;\n    &lt;encoder\n        class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\n      &lt;Pattern&gt;%d %p %C{1.} [%t] %m%n&lt;/Pattern&gt;\n    &lt;/encoder&gt;\n\n    &lt;rollingPolicy\n        class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n      &lt;fileNamePattern&gt;${LOGS}/ibkr-%d{yyyy-MM-dd}.%i.log\n      &lt;/fileNamePattern&gt;\n      &lt;timeBasedFileNamingAndTriggeringPolicy\n          class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\n        &lt;maxFileSize&gt;100MB&lt;/maxFileSize&gt;\n      &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\n    &lt;/rollingPolicy&gt;\n  &lt;/appender&gt;\n  &lt;!-- LOG everything at INFO level --&gt;\n  &lt;root level=&quot;info&quot;&gt;\n    &lt;appender-ref ref=&quot;IbkrRollingFile&quot; /&gt;\n  &lt;/root&gt;\n</code></pre>\n<p>I find that the log files for 08th to 12th have been zeroed out on Feb 13. I also checked the file for 13th Feb and it only contains the log for 13th Feb, not the combined logs for the deleted dates. Why did this happen?</p>\n<pre><code>   9381 Jan 26 23:45 ibkr-2023-01-26.0.log\n  17393 Jan 27 23:45 ibkr-2023-01-27.0.log\n  75651 Jan 30 23:45 ibkr-2023-01-30.0.log\n 175709 Jan 31 23:45 ibkr-2023-01-31.0.log\n 194281 Feb  1 23:45 ibkr-2023-02-01.0.log\n 267280 Feb  2 23:52 ibkr-2023-02-02.0.log\n 245753 Feb  3 23:34 ibkr-2023-02-03.0.log\n    118 Feb  4 04:30 ibkr-2023-02-04.0.log\n 386926 Feb  6 21:58 ibkr-2023-02-06.0.log\n 415111 Feb  7 23:53 ibkr-2023-02-07.0.log\n   4300 Feb  9 10:12 pom.xml\n      0 Feb 13 20:40 ibkr-2023-02-12.0.log\n      0 Feb 13 20:40 ibkr-2023-02-08.0.log\n      0 Feb 13 20:40 ibkr-2023-02-11.0.log\n      0 Feb 13 20:40 ibkr-2023-02-10.0.log\n      0 Feb 13 20:40 ibkr-2023-02-09.0.log\n 468100 Feb 13 23:00 ibkr-2023-02-13.0.log\n  15380 Feb 14 12:20 ibkr.log\n</code></pre>\n<p>Why at all do older log files get touched let alone truncated?</p>\n"},{"tags":["java","spring","cucumber"],"comments":[{"owner":{"account_id":5700778,"reputation":8968,"user_id":4512398,"display_name":"Grasshopper"},"score":2,"creation_date":1679474067,"post_id":75809562,"comment_id":133726660,"body_markdown":"Use (hotel or car) tag on top of the examples keyword. hotel tag for hotels data etc etc","body":"Use (hotel or car) tag on top of the examples keyword. hotel tag for hotels data etc etc"}],"answers":[{"tags":[],"owner":{"account_id":1330083,"reputation":619,"user_id":1274184,"accept_rate":47,"display_name":"Alex Smoke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679484130,"creation_date":1679484130,"answer_id":75811614,"question_id":75809562,"body_markdown":"Use (hotel or car) tag on top of the examples keyword. hotel tag for hotels data etc etc – Grasshopper\r\n","title":"Cucumber specify examples for different sites","body":"<p>Use (hotel or car) tag on top of the examples keyword. hotel tag for hotels data etc etc – Grasshopper</p>\n"}],"owner":{"account_id":1330083,"reputation":619,"user_id":1274184,"accept_rate":47,"display_name":"Alex Smoke"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75811614,"answer_count":1,"score":0,"last_activity_date":1679484130,"creation_date":1679471249,"question_id":75809562,"body_markdown":"I&#39;m writing test automation for 2 web sites and i want to use same scenarious but with different data, what is the way of doing that?\r\n\r\n       Feature: Search\r\n    \r\n      @smoke @search\r\n      Scenario Outline: I want to search for products\r\n         Given I enter &quot;&lt;keyword&gt;&quot; as a keyword to a search field\r\n         Then I should see search results page\r\n         Then I should see at least &lt;count&gt; results containing &quot;&lt;keyword&gt;&quot;\r\n    \r\n\r\nfor hotels.com\r\n\r\n    Examples:\r\n    | keyword     | count       |\r\n    | hotel       | 3           |\r\n\r\nfor cars.com\r\n\r\n    Examples:\r\n    | keyword     | count       |\r\n    | cars        | 3           |\r\n\r\ni&#39;m using spring boot with java","title":"Cucumber specify examples for different sites","body":"<p>I'm writing test automation for 2 web sites and i want to use same scenarious but with different data, what is the way of doing that?</p>\n<pre><code>   Feature: Search\n\n  @smoke @search\n  Scenario Outline: I want to search for products\n     Given I enter &quot;&lt;keyword&gt;&quot; as a keyword to a search field\n     Then I should see search results page\n     Then I should see at least &lt;count&gt; results containing &quot;&lt;keyword&gt;&quot;\n</code></pre>\n<p>for hotels.com</p>\n<pre><code>Examples:\n| keyword     | count       |\n| hotel       | 3           |\n</code></pre>\n<p>for cars.com</p>\n<pre><code>Examples:\n| keyword     | count       |\n| cars        | 3           |\n</code></pre>\n<p>i'm using spring boot with java</p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":44195,"reputation":269033,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":0,"creation_date":1331773456,"post_id":9712648,"comment_id":12346838,"body_markdown":"Because `and` is not a Java keyword.  You want `&amp;&amp;`.","body":"Because <code>and</code> is not a Java keyword.  You want <code>&amp;&amp;</code>."},{"owner":{"account_id":1100607,"reputation":7048,"user_id":1093087,"accept_rate":98,"display_name":"klenwell"},"score":1,"creation_date":1331774320,"post_id":9712648,"comment_id":12346989,"body_markdown":"Ah, yes. `import static org.junit.Assert.assertTrue` also helped. Thanks all!","body":"Ah, yes. <code>import static org.junit.Assert.assertTrue</code> also helped. Thanks all!"}],"answers":[{"tags":[],"owner":{"account_id":116580,"reputation":118703,"user_id":305644,"accept_rate":75,"display_name":"hvgotcodes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1331773470,"creation_date":1331773470,"answer_id":9712657,"question_id":9712648,"body_markdown":"`assertTrue(min &lt;= mynum &amp;&amp; mynum &lt;= max, &quot;not in range&quot;);`\r\n\r\nthe comment at the end is optional.  Basically the same as the python version, except the `&amp;&amp;`.","title":"In a Java unit test, how do I assert a number is within a given range?","body":"<p><code>assertTrue(min &lt;= mynum &amp;&amp; mynum &lt;= max, \"not in range\");</code></p>\n\n<p>the comment at the end is optional.  Basically the same as the python version, except the <code>&amp;&amp;</code>.</p>\n"},{"tags":[],"owner":{"account_id":80219,"reputation":34027,"user_id":226975,"accept_rate":80,"display_name":"Wyzard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1331773498,"creation_date":1331773498,"answer_id":9712661,"question_id":9712648,"body_markdown":"Use `&amp;&amp;` rather than `and`; other than that, what you wrote should work.","title":"In a Java unit test, how do I assert a number is within a given range?","body":"<p>Use <code>&amp;&amp;</code> rather than <code>and</code>; other than that, what you wrote should work.</p>\n"},{"tags":[],"owner":{"account_id":953149,"reputation":177293,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1331773544,"creation_date":1331773544,"answer_id":9712666,"question_id":9712648,"body_markdown":"I&#39;d write:\r\n\r\n    assertTrue(&quot;mynum is out of range: &quot; + mynum, min &lt;= mynum &amp;&amp; mynum &lt;= max);\r\n\r\nbut technically you just need:\r\n\r\n    assertTrue(min &lt;= mynum &amp;&amp; mynum &lt;= max);\r\n\r\nEither way, be sure to write `&amp;&amp;` and not `and`.","title":"In a Java unit test, how do I assert a number is within a given range?","body":"<p>I'd write:</p>\n\n<pre><code>assertTrue(\"mynum is out of range: \" + mynum, min &lt;= mynum &amp;&amp; mynum &lt;= max);\n</code></pre>\n\n<p>but technically you just need:</p>\n\n<pre><code>assertTrue(min &lt;= mynum &amp;&amp; mynum &lt;= max);\n</code></pre>\n\n<p>Either way, be sure to write <code>&amp;&amp;</code> and not <code>and</code>.</p>\n"},{"tags":[],"owner":{"account_id":1028895,"reputation":8390,"user_id":1037609,"accept_rate":100,"display_name":"Balaswamy Vaddeman"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1633113136,"creation_date":1331788239,"answer_id":9714324,"question_id":9712648,"body_markdown":"you can use [Hamcrest][1] library too ,this is more readable.\r\n\r\n    assertThat(mynum,greaterThanOrEqualTo(min));\r\n    \r\n    assertThat(mynum,lessThanOrEqualTo(max));\r\n\r\nThose lines can be merged via `allOf` like this:\r\n\r\n    assertThat(mynum, allOf(greaterThanOrEqualTo(min),lessThanOrEqualTo(max)));\r\n\r\n[1]:http://code.google.com/p/hamcrest/wiki/Tutorial\r\n\r\n","title":"In a Java unit test, how do I assert a number is within a given range?","body":"<p>you can use <a href=\"http://code.google.com/p/hamcrest/wiki/Tutorial\" rel=\"nofollow noreferrer\">Hamcrest</a> library too ,this is more readable.</p>\n<pre><code>assertThat(mynum,greaterThanOrEqualTo(min));\n\nassertThat(mynum,lessThanOrEqualTo(max));\n</code></pre>\n<p>Those lines can be merged via <code>allOf</code> like this:</p>\n<pre><code>assertThat(mynum, allOf(greaterThanOrEqualTo(min),lessThanOrEqualTo(max)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":478919,"reputation":671,"user_id":891292,"display_name":"seeker"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1373011655,"creation_date":1373011655,"answer_id":17484042,"question_id":9712648,"body_markdown":"Extending on [this][1] answer: you can combine the two with `allOf`.\r\n\r\n    assertThat(mynum, allOf(greaterThanOrEqualTo(min),lessThanOrEqualTo(max)));\r\n\r\nThe OR equivalent in Hamcrest is `anyOf`.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/9714324/891292","title":"In a Java unit test, how do I assert a number is within a given range?","body":"<p>Extending on <a href=\"https://stackoverflow.com/a/9714324/891292\">this</a> answer: you can combine the two with <code>allOf</code>.</p>\n\n<pre><code>assertThat(mynum, allOf(greaterThanOrEqualTo(min),lessThanOrEqualTo(max)));\n</code></pre>\n\n<p>The OR equivalent in Hamcrest is <code>anyOf</code>.</p>\n"},{"tags":[],"owner":{"account_id":26747,"reputation":20083,"user_id":69875,"accept_rate":100,"display_name":"Jonathan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1433775661,"creation_date":1373014055,"answer_id":17484743,"question_id":9712648,"body_markdown":"If you use [AssertJ][1] it becomes *even* more readable:\r\n\r\n    assertThat(mynum).isGreaterThanOrEqualTo(min).isLessThanOrEqualTo(max);\r\n\r\nPlus the `AssertionError` beats the `assertTrue` version as you don&#39;t need to supply a description, e.g.:\r\n\r\n\r\n    java.lang.AssertionError: \r\n    Expecting:\r\n     &lt;10&gt;\r\n    to be less than or equal to:\r\n     &lt;42&gt; \r\n\r\nIf you&#39;re using Java 8 and AssertJ 3.0.0, you can use a lambda to specify it:\r\n\r\n    assertThat(mynum).matches(actual -&gt; actual &gt;= min &amp;&amp; actual &lt;= max);\r\n\r\n[1]: http://assertj.org/","title":"In a Java unit test, how do I assert a number is within a given range?","body":"<p>If you use <a href=\"http://assertj.org/\" rel=\"nofollow\">AssertJ</a> it becomes <em>even</em> more readable:</p>\n\n<pre><code>assertThat(mynum).isGreaterThanOrEqualTo(min).isLessThanOrEqualTo(max);\n</code></pre>\n\n<p>Plus the <code>AssertionError</code> beats the <code>assertTrue</code> version as you don't need to supply a description, e.g.:</p>\n\n<pre><code>java.lang.AssertionError: \nExpecting:\n &lt;10&gt;\nto be less than or equal to:\n &lt;42&gt; \n</code></pre>\n\n<p>If you're using Java 8 and AssertJ 3.0.0, you can use a lambda to specify it:</p>\n\n<pre><code>assertThat(mynum).matches(actual -&gt; actual &gt;= min &amp;&amp; actual &lt;= max);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":243786,"reputation":30863,"user_id":516167,"accept_rate":94,"display_name":"MariuszS"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1387574112,"creation_date":1387574112,"answer_id":20712048,"question_id":9712648,"body_markdown":"I will use [AssertJ](https://github.com/joel-costigliola/assertj-core/wiki) as Jonathan said, but with simpler assertions :)\r\n\r\n     assertThat(mynum).isBetween(min, max);\r\n\r\nI think this is the coolest solution :)","title":"In a Java unit test, how do I assert a number is within a given range?","body":"<p>I will use <a href=\"https://github.com/joel-costigliola/assertj-core/wiki\" rel=\"noreferrer\">AssertJ</a> as Jonathan said, but with simpler assertions :)</p>\n\n<pre><code> assertThat(mynum).isBetween(min, max);\n</code></pre>\n\n<p>I think this is the coolest solution :)</p>\n"},{"tags":[],"owner":{"account_id":2640370,"reputation":2355,"user_id":2284160,"display_name":"Lars"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1607276141,"creation_date":1607276141,"answer_id":65171036,"question_id":9712648,"body_markdown":"Using **AssertJ** with `isCloseTo(expected, offset)`:\r\n\r\n    BigDecimal maxNegativeOffset = new BigDecimal(&quot;0.0004&quot;);\r\n    BigDecimal actual = new BigDecimal(&quot;0.0005&quot;);\r\n    BigDecimal maxPositiveOffset = new BigDecimal(&quot;0.0006&quot;);\r\n    \r\n    Offset&lt;BigDecimal&gt; offset = Offset.offset(new BigDecimal(&quot;0.0001&quot;));\r\n    \r\n    Assertions.assertThat(actual)\r\n      .isCloseTo(maxNegativeOffset, offset)\r\n      .isCloseTo(maxPositiveOffset, offset);\r\n\r\nMaven dependency: https://mvnrepository.com/artifact/org.assertj/assertj-core","title":"In a Java unit test, how do I assert a number is within a given range?","body":"<p>Using <strong>AssertJ</strong> with <code>isCloseTo(expected, offset)</code>:</p>\n<pre><code>BigDecimal maxNegativeOffset = new BigDecimal(&quot;0.0004&quot;);\nBigDecimal actual = new BigDecimal(&quot;0.0005&quot;);\nBigDecimal maxPositiveOffset = new BigDecimal(&quot;0.0006&quot;);\n\nOffset&lt;BigDecimal&gt; offset = Offset.offset(new BigDecimal(&quot;0.0001&quot;));\n\nAssertions.assertThat(actual)\n  .isCloseTo(maxNegativeOffset, offset)\n  .isCloseTo(maxPositiveOffset, offset);\n</code></pre>\n<p>Maven dependency: <a href=\"https://mvnrepository.com/artifact/org.assertj/assertj-core\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.assertj/assertj-core</a></p>\n"},{"tags":[],"owner":{"account_id":543250,"reputation":18874,"user_id":912319,"accept_rate":62,"display_name":"Kanagavelu Sugumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630475925,"creation_date":1630412876,"answer_id":68998666,"question_id":9712648,"body_markdown":"From [Truth][1]\r\n\r\n    import static com.google.common.truth.Truth.assertThat;\r\n\r\n    assertThat(actualDouble).isWithin(tolerance).of(expectedDouble);\r\n    \r\n    assertThat(0.0999999).isWithin(1E-6).of(0.1d);\r\n    \r\n    assertThat(90d).isWithin(10d).of(100d);   // success\r\n    assertThat(105d).isWithin(10d).of(100d);  // success\r\n    assertThat(110d).isWithin(10d).of(100d);  // success\r\n    \r\n    assertThat(89d).isWithin(10d).of(100d);   // fails\r\n    assertThat(111d).isWithin(10d).of(100d);  // fails\r\n    java.lang.AssertionError: &lt;111.0&gt; and &lt;100.0&gt; should have been finite values within &lt;10.0&gt; of each other\r\n\r\n\r\n  [1]: https://truth.dev/faq#floating-point\r\n","title":"In a Java unit test, how do I assert a number is within a given range?","body":"<p>From <a href=\"https://truth.dev/faq#floating-point\" rel=\"nofollow noreferrer\">Truth</a></p>\n<pre><code>import static com.google.common.truth.Truth.assertThat;\n\nassertThat(actualDouble).isWithin(tolerance).of(expectedDouble);\n\nassertThat(0.0999999).isWithin(1E-6).of(0.1d);\n\nassertThat(90d).isWithin(10d).of(100d);   // success\nassertThat(105d).isWithin(10d).of(100d);  // success\nassertThat(110d).isWithin(10d).of(100d);  // success\n\nassertThat(89d).isWithin(10d).of(100d);   // fails\nassertThat(111d).isWithin(10d).of(100d);  // fails\njava.lang.AssertionError: &lt;111.0&gt; and &lt;100.0&gt; should have been finite values within &lt;10.0&gt; of each other\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20359055,"reputation":488,"user_id":14933883,"display_name":"MrFabio_25"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679484018,"creation_date":1679484018,"answer_id":75811593,"question_id":9712648,"body_markdown":"I was also looking for a solution and was not satisfied with the existing ones. In JUnit5 it is possible to achieve exactly the required functionality with `assertEquals`\r\n\r\n    // Asserts that expected and actual are equal within the given delta. \r\n    assertEquals(expected, actual, delta);\r\n\r\nYou can find more information in the [JUnit5 Docs][1]\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/5.0.1/api/org/junit/jupiter/api/Assertions.html#assertEquals-double-double-double-","title":"In a Java unit test, how do I assert a number is within a given range?","body":"<p>I was also looking for a solution and was not satisfied with the existing ones. In JUnit5 it is possible to achieve exactly the required functionality with <code>assertEquals</code></p>\n<pre><code>// Asserts that expected and actual are equal within the given delta. \nassertEquals(expected, actual, delta);\n</code></pre>\n<p>You can find more information in the <a href=\"https://junit.org/junit5/docs/5.0.1/api/org/junit/jupiter/api/Assertions.html#assertEquals-double-double-double-\" rel=\"nofollow noreferrer\">JUnit5 Docs</a></p>\n"}],"owner":{"account_id":1100607,"reputation":7048,"user_id":1093087,"accept_rate":98,"display_name":"klenwell"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50249,"favorite_count":0,"down_vote_count":1,"up_vote_count":37,"accepted_answer_id":9712666,"answer_count":10,"score":36,"last_activity_date":1679484018,"creation_date":1331773398,"question_id":9712648,"body_markdown":"Coming to Java from Python. I recognize this is pretty basic, but it doesn&#39;t seem this has been asked here yet and Google is being coy with me.\r\n\r\nIn Python, I&#39;d simply do something like this but Java objects:\r\n\r\n    assertTrue(min &lt;= mynum and mynum &lt;= max);","title":"In a Java unit test, how do I assert a number is within a given range?","body":"<p>Coming to Java from Python. I recognize this is pretty basic, but it doesn't seem this has been asked here yet and Google is being coy with me.</p>\n\n<p>In Python, I'd simply do something like this but Java objects:</p>\n\n<pre><code>assertTrue(min &lt;= mynum and mynum &lt;= max);\n</code></pre>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":13318942,"reputation":3000,"user_id":9614331,"display_name":"Avijit Barua"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679483738,"creation_date":1679483738,"answer_id":75811551,"question_id":75810789,"body_markdown":"In order to get custom object you need to use Spring Data JPA Projections.\r\n\r\nFirst create an interface like \r\n\r\n    public interface CourseObj{\r\n        String getId();\r\n    String getDescription();\r\n    String getName();\r\n    String getTopic_id();\r\n    String getTopic_name();\r\n    }\r\n\r\nThen write your repository method like \r\n\r\n    @Query(value = &quot;Select course.id, course.description, course.name, topic.id as topic_id, &quot; +\r\n                &quot;topic.name as topic_name &quot; +\r\n                &quot;from public.course &quot; +\r\n                &quot;inner join public.topic &quot; +\r\n                &quot;ON course.topic_id = topic.id &quot; +\r\n                &quot;Where topic_id = :topicId and course.id = :id &quot; , nativeQuery = true)\r\n        public CourseObj findCourseById (@Param(&quot;id&quot;) String id , @Param(&quot;topicId&quot;) String topicId) ;\r\n\r\n\r\nAnd try your service method like \r\n\r\n    @Cacheable(value = &quot;course&quot; , key = &quot;#id + #topicId&quot; , unless = &quot;#request == null&quot;)\r\n        public CourseObj  getCourse (String id, String topicId ){\r\n            return courseRepository.findCourseById(id, topicId).orElse(null) ;\r\n        }\r\n\r\n\r\n\r\nYou can find documentation and example here [link][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-data-jpa-projections","title":"Custom Spring Data JPA query not returning specific columns","body":"<p>In order to get custom object you need to use Spring Data JPA Projections.</p>\n<p>First create an interface like</p>\n<pre><code>public interface CourseObj{\n    String getId();\nString getDescription();\nString getName();\nString getTopic_id();\nString getTopic_name();\n}\n</code></pre>\n<p>Then write your repository method like</p>\n<pre><code>@Query(value = &quot;Select course.id, course.description, course.name, topic.id as topic_id, &quot; +\n            &quot;topic.name as topic_name &quot; +\n            &quot;from public.course &quot; +\n            &quot;inner join public.topic &quot; +\n            &quot;ON course.topic_id = topic.id &quot; +\n            &quot;Where topic_id = :topicId and course.id = :id &quot; , nativeQuery = true)\n    public CourseObj findCourseById (@Param(&quot;id&quot;) String id , @Param(&quot;topicId&quot;) String topicId) ;\n</code></pre>\n<p>And try your service method like</p>\n<pre><code>@Cacheable(value = &quot;course&quot; , key = &quot;#id + #topicId&quot; , unless = &quot;#request == null&quot;)\n    public CourseObj  getCourse (String id, String topicId ){\n        return courseRepository.findCourseById(id, topicId).orElse(null) ;\n    }\n</code></pre>\n<p>You can find documentation and example here <a href=\"https://www.baeldung.com/spring-data-jpa-projections\" rel=\"nofollow noreferrer\">link</a></p>\n"}],"owner":{"account_id":19298004,"reputation":129,"user_id":14106566,"display_name":"humbleCodes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":500,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679483738,"creation_date":1679479325,"question_id":75810789,"body_markdown":"I have an entity called Topic and another entity called as Course. There is ManyToOne mapping from course entity to topic entity. Course entity has a field of Topic class annotated with `@ManyToOne`. I m trying to implement a custom CrudRepository method `public Course findCourseById(String id, String topicID)` which makes query to a specific course within a specific Topic with topicID and only returns certain columns. **(while querying for certain course I want to skip the certain columns nested inside topic object)**\r\n\r\n**&lt;h4&gt;Topic entity&lt;/h4&gt;** \r\n\r\n    @Entity\r\n    @Table(name = &quot;topic&quot; , schema = &quot;public&quot;)\r\n    public class Topic implements Serializable {\r\n        @Id\r\n        private String id ;\r\n        private String name ;\r\n        private String description ;\r\n    \r\n        public Topic() {\r\n        }\r\n    \r\n        public Topic(String id, String name, String description) {\r\n            this.id = id;\r\n            this.name = name;\r\n            this.description = description;\r\n        }\r\n    \r\n        public String getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(String id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getDescription() {\r\n            return description;\r\n        }\r\n    \r\n        public void setDescription(String description) {\r\n            this.description = description;\r\n        }\r\n    }\r\n&lt;br&gt;\r\n&lt;h4&gt; &lt;b&gt;Course entity&lt;/h4&gt;&lt;/b&gt; \r\n\r\n    @Entity\r\n    @Table(name = &quot;course&quot; , schema = &quot;public&quot;)\r\n    public class Course implements Serializable {\r\n        @Id\r\n        private String id ;\r\n        private String description ;\r\n        private String name ;\r\n        @ManyToOne\r\n        private Topic topic ;\r\n    \r\n        public Course() {\r\n        }\r\n    \r\n        public Course(String id, String description, String name, String topicId) {\r\n            this.id = id;\r\n            this.description = description;\r\n            this.name = name;\r\n            this.topic = new Topic(topicId, &quot;&quot;, &quot;&quot;) ;\r\n        }\r\n    \r\n        public String getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(String id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getDescription() {\r\n            return description;\r\n        }\r\n    \r\n        public void setDescription(String description) {\r\n            this.description = description;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public Topic getTopic() {\r\n            return topic;\r\n        }\r\n    \r\n        public void setTopic(Topic topic) {\r\n            this.topic = topic;\r\n        }\r\n    }\r\n\r\n\r\nI want to run this native query in such manner that it doesn&#39;t returns a field for topic.description. &lt;br&gt;  **&lt;h4&gt;My custom query :&lt;/h4&gt;**\r\n\r\n    @Query(value = &quot;Select course.id, course.description, course.name, topic.id as topic_id, &quot; +\r\n                &quot;topic.name as topic_name &quot; +\r\n                &quot;from public.course &quot; +\r\n                &quot;inner join public.topic &quot; +\r\n                &quot;ON course.topic_id = topic.id &quot; +\r\n                &quot;Where topic_id = :topicId and course.id = :id &quot; , nativeQuery = true)\r\n        public Optional&lt;Course&gt; findCourseById (@Param(&quot;id&quot;) String id , @Param(&quot;topicId&quot;) String topicId) ;\r\n\r\nThe output it returns in pgAdmin query tool is as expected (not having any topic.description field) and shared below : &lt;br&gt;\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/20hjc.png&quot; width=&quot;600&quot; /&gt;\r\n&lt;h4&gt; getCourse() method inside CourseService class &lt;/h4&gt;\r\nSo far everything is working fine but there is problem at the service layer. &lt;br&gt;\r\nHere is getCourse() method from CourseService class which is for the purpose of returning a single specific course present inside a specific topic.\r\n\r\n    @Cacheable(value = &quot;course&quot; , key = &quot;#id + #topicId&quot; , unless = &quot;#request == null&quot;)\r\n        public Course getCourse (String id, String topicId ){\r\n            return courseRepository.findCourseById(id, topicId).orElse(null) ;\r\n        }\r\n\r\n&lt;br&gt;\r\nThe problem I have encountered is that it returns every possible column that can be mapped with JPA entity, even though the custom query returns data without topic&#39;s description column (as shown in my query above). &lt;br&gt;\r\nAs shown in the image below, in the nested object being returned when GET API request is made to route: &lt;i&gt;&lt;code&gt;localhost:8080/topics/top01/courses/course-05&lt;/code&gt;&lt;/i&gt; , there is a topic description field being returned and &lt;b&gt;I don&#39;t want the description field inside topic field  to be returned. &lt;/b&gt;\r\n&lt;img src=&quot;https://i.stack.imgur.com/IuFxQ.png&quot; width=&quot;600&quot; /&gt;\r\n\r\nSince I m beginner to Spring Data JPA as well as Spring I have two doubts : &lt;br&gt;\r\n\r\n 1. How is correctly mapped topic&#39;s description getting returned as JSON\r\n    even when my custom query for this method isn&#39;t returning a\r\n    &lt;code&gt;topic.description&lt;/code&gt; column.\r\n 2. Secondly, If I want to make sure that the JSON being returned from\r\n    the controller doesn&#39;t consists description field inside topic field\r\n    then how can I achieve that and whether it be done &lt;b&gt; without using DTO\r\n    concept &lt;/b&gt; as I haven&#39;t touched that yet ?","title":"Custom Spring Data JPA query not returning specific columns","body":"<p>I have an entity called Topic and another entity called as Course. There is ManyToOne mapping from course entity to topic entity. Course entity has a field of Topic class annotated with <code>@ManyToOne</code>. I m trying to implement a custom CrudRepository method <code>public Course findCourseById(String id, String topicID)</code> which makes query to a specific course within a specific Topic with topicID and only returns certain columns. <strong>(while querying for certain course I want to skip the certain columns nested inside topic object)</strong></p>\n<p><strong><h4>Topic entity</h4></strong></p>\n<pre><code>@Entity\n@Table(name = &quot;topic&quot; , schema = &quot;public&quot;)\npublic class Topic implements Serializable {\n    @Id\n    private String id ;\n    private String name ;\n    private String description ;\n\n    public Topic() {\n    }\n\n    public Topic(String id, String name, String description) {\n        this.id = id;\n        this.name = name;\n        this.description = description;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n}\n</code></pre>\n<br>\n<h4> <b>Course entity</h4></b> \n<pre><code>@Entity\n@Table(name = &quot;course&quot; , schema = &quot;public&quot;)\npublic class Course implements Serializable {\n    @Id\n    private String id ;\n    private String description ;\n    private String name ;\n    @ManyToOne\n    private Topic topic ;\n\n    public Course() {\n    }\n\n    public Course(String id, String description, String name, String topicId) {\n        this.id = id;\n        this.description = description;\n        this.name = name;\n        this.topic = new Topic(topicId, &quot;&quot;, &quot;&quot;) ;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public Topic getTopic() {\n        return topic;\n    }\n\n    public void setTopic(Topic topic) {\n        this.topic = topic;\n    }\n}\n</code></pre>\n<p>I want to run this native query in such manner that it doesn't returns a field for topic.description. <br>  <strong><h4>My custom query :</h4></strong></p>\n<pre><code>@Query(value = &quot;Select course.id, course.description, course.name, topic.id as topic_id, &quot; +\n            &quot;topic.name as topic_name &quot; +\n            &quot;from public.course &quot; +\n            &quot;inner join public.topic &quot; +\n            &quot;ON course.topic_id = topic.id &quot; +\n            &quot;Where topic_id = :topicId and course.id = :id &quot; , nativeQuery = true)\n    public Optional&lt;Course&gt; findCourseById (@Param(&quot;id&quot;) String id , @Param(&quot;topicId&quot;) String topicId) ;\n</code></pre>\n<p>The output it returns in pgAdmin query tool is as expected (not having any topic.description field) and shared below : <br></p>\n<img src=\"https://i.stack.imgur.com/20hjc.png\" width=\"600\" />\n<h4> getCourse() method inside CourseService class </h4>\nSo far everything is working fine but there is problem at the service layer. <br>\nHere is getCourse() method from CourseService class which is for the purpose of returning a single specific course present inside a specific topic.\n<pre><code>@Cacheable(value = &quot;course&quot; , key = &quot;#id + #topicId&quot; , unless = &quot;#request == null&quot;)\n    public Course getCourse (String id, String topicId ){\n        return courseRepository.findCourseById(id, topicId).orElse(null) ;\n    }\n</code></pre>\n<br>\nThe problem I have encountered is that it returns every possible column that can be mapped with JPA entity, even though the custom query returns data without topic's description column (as shown in my query above). <br>\nAs shown in the image below, in the nested object being returned when GET API request is made to route: <i><code>localhost:8080/topics/top01/courses/course-05</code></i> , there is a topic description field being returned and <b>I don't want the description field inside topic field  to be returned. </b>\n<img src=\"https://i.stack.imgur.com/IuFxQ.png\" width=\"600\" />\n<p>Since I m beginner to Spring Data JPA as well as Spring I have two doubts : <br></p>\n<ol>\n<li>How is correctly mapped topic's description getting returned as JSON\neven when my custom query for this method isn't returning a\n<code>topic.description</code> column.</li>\n<li>Secondly, If I want to make sure that the JSON being returned from\nthe controller doesn't consists description field inside topic field\nthen how can I achieve that and whether it be done <b> without using DTO\nconcept </b> as I haven't touched that yet ?</li>\n</ol>\n"},{"tags":["java","flutter"],"answers":[{"tags":[],"owner":{"account_id":26669471,"reputation":74,"user_id":20281089,"display_name":"KarlMathuthu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679483631,"creation_date":1679483631,"answer_id":75811529,"question_id":75808570,"body_markdown":"Check this answer that i followed,It really worked for me so try it as well,here is the link of the answer [answer link.][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/67526703/20281089","title":"flutter app building time error of Java.exe not found","body":"<p>Check this answer that i followed,It really worked for me so try it as well,here is the link of the answer <a href=\"https://stackoverflow.com/a/67526703/20281089\">answer link.</a></p>\n"}],"owner":{"account_id":28082296,"reputation":1,"user_id":21453182,"display_name":"Shivani Bind"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679483631,"creation_date":1679461022,"question_id":75808570,"body_markdown":"FAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nThe supplied javaHome seems to be invalid. I cannot find the java executable. Tried location: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java.exe\r\n\r\nwhat&#39;s solution for this. \r\ni also set JAVA_HOME environment variable but also give error. \r\n\r\nsolution for this   ","title":"flutter app building time error of Java.exe not found","body":"<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nThe supplied javaHome seems to be invalid. I cannot find the java executable. Tried location: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java.exe</li>\n</ul>\n<p>what's solution for this.\ni also set JAVA_HOME environment variable but also give error.</p>\n<p>solution for this</p>\n"},{"tags":["java","option-type"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":2,"creation_date":1601634815,"post_id":64170083,"comment_id":113473845,"body_markdown":"The generic type parameter doesn&#39;t exist at runtime. So the type of the empty Optional object is just `Optional`. When you require an empty `Optional&lt;T&gt;`, the compiler can assume whatever generic type `T` is requires for the context; and it doesn&#39;t cause a problem because there&#39;s no object inside it to be of the wrong type.","body":"The generic type parameter doesn&#39;t exist at runtime. So the type of the empty Optional object is just <code>Optional</code>. When you require an empty <code>Optional&lt;T&gt;</code>, the compiler can assume whatever generic type <code>T</code> is requires for the context; and it doesn&#39;t cause a problem because there&#39;s no object inside it to be of the wrong type."},{"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"score":0,"creation_date":1601634855,"post_id":64170083,"comment_id":113473861,"body_markdown":"type interference from where you what to store/assign","body":"type interference from where you what to store/assign"},{"owner":{"account_id":10519271,"reputation":103,"user_id":8605425,"display_name":"Ignacio Rodr&#237;guez Su&#225;rez"},"score":0,"creation_date":1601635051,"post_id":64170083,"comment_id":113473936,"body_markdown":"@Eklavya but what if I do not store it? The whole _type of the non-existent value_ makes it confusing for me.","body":"@Eklavya but what if I do not store it? The whole <i>type of the non-existent value</i> makes it confusing for me."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1601635860,"post_id":64170083,"comment_id":113474210,"body_markdown":"Consider it vague like `(T) null` (though _not_ null). The reason that `empty()` is a function and not a class constant is that you then have a typed `Optional&lt;T&gt;` value.","body":"Consider it vague like <code>(T) null</code> (though <i>not</i> null). The reason that <code>empty()</code> is a function and not a class constant is that you then have a typed <code>Optional&lt;T&gt;</code> value."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1601635990,"post_id":64170083,"comment_id":113474254,"body_markdown":"I think you want to research Java generics in the first place. There is nothing different about Optional that you wouldnt find in other generic classes ...","body":"I think you want to research Java generics in the first place. There is nothing different about Optional that you wouldnt find in other generic classes ..."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1601896676,"post_id":64170083,"comment_id":113538855,"body_markdown":"It’s not different to `List&lt;String&gt; list1 = Collections.emptyList(); List&lt;Integer&gt; list2 = Collections.emptyList();` The type of the lists is only determined by their referencing variables. That’s why, perhaps surprisingly, `list1 == (Object)list2` will be `true`. Same for `Function&lt;String,String&gt; f1 = Function.identity(); Function&lt;Integer,Integer&gt; f2 = Function.identity();`","body":"It’s not different to <code>List&lt;String&gt; list1 = Collections.emptyList(); List&lt;Integer&gt; list2 = Collections.emptyList();</code> The type of the lists is only determined by their referencing variables. That’s why, perhaps surprisingly, <code>list1 == (Object)list2</code> will be <code>true</code>. Same for <code>Function&lt;String,String&gt; f1 = Function.identity(); Function&lt;Integer,Integer&gt; f2 = Function.identity();</code>"}],"answers":[{"tags":[],"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1601635857,"creation_date":1601635857,"answer_id":64170260,"question_id":64170083,"body_markdown":"It&#39;s whatever type you specify:\r\n\r\n```java\r\n// Empty Optional with value type String\r\nOptional&lt;String&gt; opt = Optional.empty();\r\n```\r\n\r\nHere is the [source code][1] for that method from OpenJDK 11:\r\n\r\n```java\r\n    public static&lt;T&gt; Optional&lt;T&gt; empty() {\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        Optional&lt;T&gt; t = (Optional&lt;T&gt;) EMPTY;\r\n        return t;\r\n    }\r\n```\r\n\r\n`EMPTY` is a static instance (from the source code linked above):\r\n\r\n```java\r\n    /**\r\n     * Common instance for {@code empty()}.\r\n     */\r\n    private static final Optional&lt;?&gt; EMPTY = new Optional&lt;&gt;();\r\n```\r\n\r\n\r\n  [1]: https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/util/Optional.java","title":"What is the type of a Java empty Optional?","body":"<p>It's whatever type you specify:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Empty Optional with value type String\nOptional&lt;String&gt; opt = Optional.empty();\n</code></pre>\n<p>Here is the <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/util/Optional.java\" rel=\"noreferrer\">source code</a> for that method from OpenJDK 11:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static&lt;T&gt; Optional&lt;T&gt; empty() {\n        @SuppressWarnings(&quot;unchecked&quot;)\n        Optional&lt;T&gt; t = (Optional&lt;T&gt;) EMPTY;\n        return t;\n    }\n</code></pre>\n<p><code>EMPTY</code> is a static instance (from the source code linked above):</p>\n<pre class=\"lang-java prettyprint-override\"><code>    /**\n     * Common instance for {@code empty()}.\n     */\n    private static final Optional&lt;?&gt; EMPTY = new Optional&lt;&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14601909,"reputation":955,"user_id":10545973,"display_name":"Rick"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1651563254,"creation_date":1601636263,"answer_id":64170344,"question_id":64170083,"body_markdown":"The ```Optional``` class is a container that might contain a specific element. As such, it has two concepts:\r\n\r\n - The type it might contain\r\n - The actual object it contains\r\n\r\nThe type it might contain is specified trough generics. Generics only exist at compile time and are lost at runtime.\r\n\r\nTo answer your questions:\r\n1) When using an ```Optional```, you usually define it to possibly contain a type, like this:\r\n\r\n```\r\nOptional&lt;String&gt; optionalString;\r\n```\r\n\r\nAt this point we know that ```optionalString``` *might* contain a String. If we do this:\r\n\r\n```\r\nOptional&lt;String&gt; optionalString = Optional.empty();\r\n```\r\n\r\nIt doesn&#39;t actually contain anything, but we can use it anywhere an ```Optional&lt;String&gt;``` is required.\r\n\r\n2. The type of the ```Optional``` is inferred trough its usage. Like above, you specify the ```Optional.empty()``` to be an ```Optional&lt;String&gt;```. You can also specify its type trough the return value of a method, like so:\r\n\r\n```\r\npublic Optional&lt;Integer&gt; findNumber() {\r\n    return Optional.empty();\r\n}\r\n```\r\n\r\n3. Since the type is no longer present at runtime, there is no way to check what the optional contains at this point. At runtime, an empty ```Optional``` has no type.","title":"What is the type of a Java empty Optional?","body":"<p>The <code>Optional</code> class is a container that might contain a specific element. As such, it has two concepts:</p>\n<ul>\n<li>The type it might contain</li>\n<li>The actual object it contains</li>\n</ul>\n<p>The type it might contain is specified trough generics. Generics only exist at compile time and are lost at runtime.</p>\n<p>To answer your questions:</p>\n<ol>\n<li>When using an <code>Optional</code>, you usually define it to possibly contain a type, like this:</li>\n</ol>\n<pre><code>Optional&lt;String&gt; optionalString;\n</code></pre>\n<p>At this point we know that <code>optionalString</code> <em>might</em> contain a String. If we do this:</p>\n<pre><code>Optional&lt;String&gt; optionalString = Optional.empty();\n</code></pre>\n<p>It doesn't actually contain anything, but we can use it anywhere an <code>Optional&lt;String&gt;</code> is required.</p>\n<ol start=\"2\">\n<li>The type of the <code>Optional</code> is inferred trough its usage. Like above, you specify the <code>Optional.empty()</code> to be an <code>Optional&lt;String&gt;</code>. You can also specify its type trough the return value of a method, like so:</li>\n</ol>\n<pre><code>public Optional&lt;Integer&gt; findNumber() {\n    return Optional.empty();\n}\n</code></pre>\n<ol start=\"3\">\n<li>Since the type is no longer present at runtime, there is no way to check what the optional contains at this point. At runtime, an empty <code>Optional</code> has no type.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6886658,"reputation":39,"user_id":5291498,"display_name":"robson90"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1601639176,"creation_date":1601639176,"answer_id":64170994,"question_id":64170083,"body_markdown":"I know a Link to a Blogpost has already been posted, but I always refer back to this on: [Baeldung Java Optional 8][1]\r\n\r\n\r\nTo ur questions:\r\n\r\n1. Optional can contain any Object type(if u need an int then use Integer)\r\n\r\n2. `Optional.of(urObject)` now the &quot;type&quot; is Optional&lt;typeOfUrObject&gt;\r\n\r\n3. No u can&#39;t check the type of the Optional.\r\n \r\n\r\n\r\n  [1]: https://www.baeldung.com/java-optional","title":"What is the type of a Java empty Optional?","body":"<p>I know a Link to a Blogpost has already been posted, but I always refer back to this on: <a href=\"https://www.baeldung.com/java-optional\" rel=\"nofollow noreferrer\">Baeldung Java Optional 8</a></p>\n<p>To ur questions:</p>\n<ol>\n<li><p>Optional can contain any Object type(if u need an int then use Integer)</p>\n</li>\n<li><p><code>Optional.of(urObject)</code> now the &quot;type&quot; is Optional</p>\n</li>\n<li><p>No u can't check the type of the Optional.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":10519271,"reputation":103,"user_id":8605425,"display_name":"Ignacio Rodr&#237;guez Su&#225;rez"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5400,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":64170344,"answer_count":3,"score":6,"last_activity_date":1679483393,"creation_date":1601634756,"question_id":64170083,"body_markdown":"So the thing is I was checking `Optional` Java class and I noticed this in the `public static&lt;T&gt; Optional&lt;T&gt; empty()` doc:\r\n\r\n    @param &lt;T&gt; The type of the non-existent value*.\r\n\r\nAnd, after looking at the whole class and searching over here and a few other pages I came to this questions that I haven&#39;t been able to answer:\r\n 1. Can an empty `Optional` have a specific type?\r\n      1.1 If so, how do you set it?\r\n      1.2 And is there any way to check its type?\r\n\r\n","title":"What is the type of a Java empty Optional?","body":"<p>So the thing is I was checking <code>Optional</code> Java class and I noticed this in the <code>public static&lt;T&gt; Optional&lt;T&gt; empty()</code> doc:</p>\n<pre><code>@param &lt;T&gt; The type of the non-existent value*.\n</code></pre>\n<p>And, after looking at the whole class and searching over here and a few other pages I came to this questions that I haven't been able to answer:</p>\n<ol>\n<li>Can an empty <code>Optional</code> have a specific type?\n1.1 If so, how do you set it?\n1.2 And is there any way to check its type?</li>\n</ol>\n"},{"tags":["java","json","jpa","orm"],"comments":[{"owner":{"account_id":1645220,"reputation":5070,"user_id":1516873,"display_name":"user1516873"},"score":0,"creation_date":1410248238,"post_id":25738569,"comment_id":40243960,"body_markdown":"If you have many configuration parameters, just use plain table with 2 columns: key and value and load it to map. If you want to store params as JSON or XML, just store/read it as Text and convert later.","body":"If you have many configuration parameters, just use plain table with 2 columns: key and value and load it to map. If you want to store params as JSON or XML, just store/read it as Text and convert later."},{"owner":{"account_id":1275953,"reputation":26182,"user_id":1231230,"accept_rate":76,"display_name":"Ankur Singhal"},"score":0,"creation_date":1410249100,"post_id":25738569,"comment_id":40244394,"body_markdown":"@Rad does [this](http://stackoverflow.com/questions/22637733/mysql-error-code-1118-row-size-too-large-8126-changing-some-columns-to-te) help you","body":"@Rad does <a href=\"http://stackoverflow.com/questions/22637733/mysql-error-code-1118-row-size-too-large-8126-changing-some-columns-to-te\">this</a> help you"},{"owner":{"account_id":2379900,"reputation":4402,"user_id":2194119,"accept_rate":76,"display_name":"Rad"},"score":0,"creation_date":1410251414,"post_id":25738569,"comment_id":40245508,"body_markdown":"@user1516873 we considered this as the final solution. If I&#39;m not mistaken, it increases the complexity while one tries to modify the data. Thanks anyway.","body":"@user1516873 we considered this as the final solution. If I&#39;m not mistaken, it increases the complexity while one tries to modify the data. Thanks anyway."},{"owner":{"account_id":2379900,"reputation":4402,"user_id":2194119,"accept_rate":76,"display_name":"Rad"},"score":0,"creation_date":1410251472,"post_id":25738569,"comment_id":40245543,"body_markdown":"@ankur-singhal, I&#39;m not sure. We are using MySQL cluster with NDBCluster engine for our tables. Is it still applicable?","body":"@ankur-singhal, I&#39;m not sure. We are using MySQL cluster with NDBCluster engine for our tables. Is it still applicable?"},{"owner":{"account_id":1979094,"reputation":3912,"user_id":1776132,"display_name":"Smile"},"score":0,"creation_date":1580202718,"post_id":25738569,"comment_id":106010814,"body_markdown":"https://stackoverflow.com/a/59942878/1776132 is worth checking","body":"<a href=\"https://stackoverflow.com/a/59942878/1776132\">stackoverflow.com/a/59942878/1776132</a> is worth checking"}],"answers":[{"tags":[],"owner":{"account_id":4749458,"reputation":1582,"user_id":3839840,"display_name":"Magic Wand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1410250409,"creation_date":1410250409,"answer_id":25739673,"question_id":25738569,"body_markdown":"I had a similar problem, and solved it by using @Externalizer annotation and Jackson to serialize/deserialize data (@Externalizer is OpenJPA-specific annotation, so you have to check with your JPA implementation similar possibility). \r\n\r\n    @Persistent\r\n    @Column(name = &quot;params&quot;)\r\n    @Externalizer(&quot;toJSON&quot;)\r\n    private Params params;\r\n\r\nParams class implementation:\r\n\r\n    public class Params {\r\n        private static final ObjectMapper mapper = new ObjectMapper();\r\n\t\t\r\n\t\tprivate Map&lt;String, Object&gt; map;\r\n\t\r\n\t\tpublic Params () {\r\n\t\t\tthis.map = new HashMap&lt;String, Object&gt;();\r\n\t\t}\r\n\r\n\t\tpublic Params (Params another) {\r\n\t\t\tthis.map = new HashMap&lt;String, Object&gt;();\r\n\t\t\tthis.map.putAll(anotherHolder.map);\r\n\t\t}\r\n\r\n\t\tpublic Params(String string) {\r\n\t\t\ttry {\r\n\t\t\t\tTypeReference&lt;Map&lt;String, Object&gt;&gt; typeRef = new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {\r\n\t\t\t\t};\r\n\t\t\t\tif (string == null) {\r\n\t\t\t\t\tthis.map = new HashMap&lt;String, Object&gt;();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.map = mapper.readValue(string, typeRef);\r\n\t\t\t\t}\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\tthrow new PersistenceException(e);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic String toJSON() throws PersistenceException {\r\n\t\t\ttry {\r\n\t\t\t\treturn mapper.writeValueAsString(this.map);\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\tthrow new PersistenceException(e);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic boolean containsKey(String key) {\r\n\t\t\treturn this.map.containsKey(key);\r\n\t\t}\r\n\t\r\n\t\t// Hash map methods\r\n\t\tpublic Object get(String key) {\r\n\t\t\treturn this.map.get(key);\r\n\t\t}\r\n\r\n\t\tpublic Object put(String key, Object value) {\r\n\t\t\treturn this.map.put(key, value);\r\n\t\t}\r\n\r\n\t\tpublic void remove(String key) {\r\n\t\t\tthis.map.remove(key);\r\n\t\t}\r\n\r\n\t\tpublic Object size() {\r\n\t\t\treturn map.size();\r\n\t\t}\r\n    }\r\n\r\nHTH","title":"How to map a map JSON column to Java Object with JPA","body":"<p>I had a similar problem, and solved it by using @Externalizer annotation and Jackson to serialize/deserialize data (@Externalizer is OpenJPA-specific annotation, so you have to check with your JPA implementation similar possibility). </p>\n\n<pre><code>@Persistent\n@Column(name = \"params\")\n@Externalizer(\"toJSON\")\nprivate Params params;\n</code></pre>\n\n<p>Params class implementation:</p>\n\n<pre><code>public class Params {\n    private static final ObjectMapper mapper = new ObjectMapper();\n\n    private Map&lt;String, Object&gt; map;\n\n    public Params () {\n        this.map = new HashMap&lt;String, Object&gt;();\n    }\n\n    public Params (Params another) {\n        this.map = new HashMap&lt;String, Object&gt;();\n        this.map.putAll(anotherHolder.map);\n    }\n\n    public Params(String string) {\n        try {\n            TypeReference&lt;Map&lt;String, Object&gt;&gt; typeRef = new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {\n            };\n            if (string == null) {\n                this.map = new HashMap&lt;String, Object&gt;();\n            } else {\n                this.map = mapper.readValue(string, typeRef);\n            }\n        } catch (IOException e) {\n            throw new PersistenceException(e);\n        }\n    }\n\n    public String toJSON() throws PersistenceException {\n        try {\n            return mapper.writeValueAsString(this.map);\n        } catch (IOException e) {\n            throw new PersistenceException(e);\n        }\n    }\n\n    public boolean containsKey(String key) {\n        return this.map.containsKey(key);\n    }\n\n    // Hash map methods\n    public Object get(String key) {\n        return this.map.get(key);\n    }\n\n    public Object put(String key, Object value) {\n        return this.map.put(key, value);\n    }\n\n    public void remove(String key) {\n        this.map.remove(key);\n    }\n\n    public Object size() {\n        return map.size();\n    }\n}\n</code></pre>\n\n<p>HTH</p>\n"},{"tags":[],"owner":{"account_id":1592107,"reputation":2361,"user_id":1475212,"accept_rate":43,"display_name":"Alessandro Polverini"},"down_vote_count":0,"up_vote_count":96,"is_accepted":true,"score":96,"last_activity_date":1535952303,"creation_date":1437506987,"answer_id":31547965,"question_id":25738569,"body_markdown":"You can use a JPA converter to map your Entity to the database.\r\nJust add an annotation similar to this one to your params field:\r\n\r\n    @Convert(converter = JpaConverterJson.class)\r\n\r\nand then create the class in a similar way (this converts a generic Object, you may want to specialize it):\r\n\r\n    @Converter(autoApply = true)\r\n    public class JpaConverterJson implements AttributeConverter&lt;Object, String&gt; {\r\n    \r\n      private final static ObjectMapper objectMapper = new ObjectMapper();\r\n    \r\n      @Override\r\n      public String convertToDatabaseColumn(Object meta) {\r\n        try {\r\n          return objectMapper.writeValueAsString(meta);\r\n        } catch (JsonProcessingException ex) {\r\n          return null;\r\n          // or throw an error\r\n        }\r\n      }\r\n    \r\n      @Override\r\n      public Object convertToEntityAttribute(String dbData) {\r\n        try {\r\n          return objectMapper.readValue(dbData, Object.class);\r\n        } catch (IOException ex) {\r\n          // logger.error(&quot;Unexpected IOEx decoding json from database: &quot; + dbData);\r\n          return null;\r\n        }\r\n      }\r\n    \r\n    }\r\n\r\nThat&#39;s it: you can use this class to serialize any object to json in the table.","title":"How to map a map JSON column to Java Object with JPA","body":"<p>You can use a JPA converter to map your Entity to the database.\nJust add an annotation similar to this one to your params field:</p>\n\n<pre><code>@Convert(converter = JpaConverterJson.class)\n</code></pre>\n\n<p>and then create the class in a similar way (this converts a generic Object, you may want to specialize it):</p>\n\n<pre><code>@Converter(autoApply = true)\npublic class JpaConverterJson implements AttributeConverter&lt;Object, String&gt; {\n\n  private final static ObjectMapper objectMapper = new ObjectMapper();\n\n  @Override\n  public String convertToDatabaseColumn(Object meta) {\n    try {\n      return objectMapper.writeValueAsString(meta);\n    } catch (JsonProcessingException ex) {\n      return null;\n      // or throw an error\n    }\n  }\n\n  @Override\n  public Object convertToEntityAttribute(String dbData) {\n    try {\n      return objectMapper.readValue(dbData, Object.class);\n    } catch (IOException ex) {\n      // logger.error(\"Unexpected IOEx decoding json from database: \" + dbData);\n      return null;\n    }\n  }\n\n}\n</code></pre>\n\n<p>That's it: you can use this class to serialize any object to json in the table.</p>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1620657028,"creation_date":1509466621,"answer_id":47039984,"question_id":25738569,"body_markdown":"The JPA `AttributeConverter` is way too limited to map JSON object types, especially if you want to save them as JSON binary.\r\n\r\n&gt; You don’t have to create a custom Hibernate Type to get JSON support, All you need to do is use the [Hibernate Types OSS project](https://github.com/vladmihalcea/hibernate-types).\r\n&gt;\r\n&gt; For instance, if you&#39;re using Hibernate 5.2 or newer versions, then you need to add the following dependency in your Maven `pom.xml` configuration file:\r\n&gt; \r\n&gt;     &lt;dependency&gt;\r\n&gt;         &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\r\n&gt;         &lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\r\n&gt;         &lt;version&gt;${hibernate-types.version}&lt;/version&gt; \r\n&gt;     &lt;/dependency&gt; \r\n\r\nNow, you need to declare the new type either at the entity attribute level or, even better, at the class level in a base class using `@MappedSuperclass`:\r\n\r\n    @TypeDef(name = &quot;json&quot;, typeClass = JsonType.class)\r\n\r\nAnd the entity mapping will look like this:\r\n\r\n    @Type(type = &quot;json&quot;)\r\n    @Column(columnDefinition = &quot;json&quot;)\r\n    private Location location;\r\n\r\nIf you&#39;re using Hibernate 5.2 or later, then the `JSON` type is registered automatically by `MySQL57Dialect`.\r\n\r\nOtherwise, you need to register it yourself:\r\n\r\n    public class MySQLJsonDialect extends MySQL55Dialect {\r\n    \r\n    \tpublic MySQLJsonDialect() {\r\n    \t\tsuper();\r\n    \t\tthis.registerColumnType(Types.JAVA_OBJECT, &quot;json&quot;);\r\n    \t}\r\n    }\r\n\r\nAnd, set the `hibernate.dialect` Hibernate property to use the fully-qualified class name of the `MySQLJsonDialect` class you have just created.\r\n","title":"How to map a map JSON column to Java Object with JPA","body":"<p>The JPA <code>AttributeConverter</code> is way too limited to map JSON object types, especially if you want to save them as JSON binary.</p>\n<blockquote>\n<p>You don’t have to create a custom Hibernate Type to get JSON support, All you need to do is use the <a href=\"https://github.com/vladmihalcea/hibernate-types\" rel=\"noreferrer\">Hibernate Types OSS project</a>.</p>\n<p>For instance, if you're using Hibernate 5.2 or newer versions, then you need to add the following dependency in your Maven <code>pom.xml</code> configuration file:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\n    &lt;version&gt;${hibernate-types.version}&lt;/version&gt; \n&lt;/dependency&gt; \n</code></pre>\n</blockquote>\n<p>Now, you need to declare the new type either at the entity attribute level or, even better, at the class level in a base class using <code>@MappedSuperclass</code>:</p>\n<pre><code>@TypeDef(name = &quot;json&quot;, typeClass = JsonType.class)\n</code></pre>\n<p>And the entity mapping will look like this:</p>\n<pre><code>@Type(type = &quot;json&quot;)\n@Column(columnDefinition = &quot;json&quot;)\nprivate Location location;\n</code></pre>\n<p>If you're using Hibernate 5.2 or later, then the <code>JSON</code> type is registered automatically by <code>MySQL57Dialect</code>.</p>\n<p>Otherwise, you need to register it yourself:</p>\n<pre><code>public class MySQLJsonDialect extends MySQL55Dialect {\n\n    public MySQLJsonDialect() {\n        super();\n        this.registerColumnType(Types.JAVA_OBJECT, &quot;json&quot;);\n    }\n}\n</code></pre>\n<p>And, set the <code>hibernate.dialect</code> Hibernate property to use the fully-qualified class name of the <code>MySQLJsonDialect</code> class you have just created.</p>\n"},{"tags":[],"owner":{"account_id":16890198,"reputation":101,"user_id":12214075,"display_name":"abhimanyu kumar"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1571055608,"creation_date":1571052289,"answer_id":58375773,"question_id":25738569,"body_markdown":"It is simple\r\n```java\r\n@Column(name = &quot;json_input&quot;, columnDefinition = &quot;json&quot;)\r\nprivate String field;\r\n```\r\nand in mysql database your column &#39;json_input&#39; json type\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vS8wC.png","title":"How to map a map JSON column to Java Object with JPA","body":"<p>It is simple</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Column(name = \"json_input\", columnDefinition = \"json\")\nprivate String field;\n</code></pre>\n\n<p>and in mysql database your column 'json_input' json type</p>\n\n<p><a href=\"https://i.stack.imgur.com/vS8wC.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/vS8wC.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":4242398,"reputation":40,"user_id":3471929,"display_name":"marqueen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1591326383,"creation_date":1591326383,"answer_id":62207458,"question_id":25738569,"body_markdown":"There is a workaround for those don&#39;t want write too much code.\r\n\r\nFrontend -&gt; Encode your JSON Object to string base64 in POST method, decode it to json in GET method\r\n\r\n    In POST Method\r\n    data.components = btoa(JSON.stringify(data.components));\r\n\r\n    In GET\r\n    data.components = JSON.parse(atob(data.components))\r\n \r\n\r\nBackend -&gt; In your JPA code, change the column to String or BLOB, no need Convert.\r\n\r\n    @Column(name = &quot;components&quot;, columnDefinition = &quot;json&quot;)\r\n    private String components;\r\n\r\n\r\n\r\n    ","title":"How to map a map JSON column to Java Object with JPA","body":"<p>There is a workaround for those don't want write too much code.</p>\n\n<p>Frontend -> Encode your JSON Object to string base64 in POST method, decode it to json in GET method</p>\n\n<pre><code>In POST Method\ndata.components = btoa(JSON.stringify(data.components));\n\nIn GET\ndata.components = JSON.parse(atob(data.components))\n</code></pre>\n\n<p>Backend -> In your JPA code, change the column to String or BLOB, no need Convert.</p>\n\n<pre><code>@Column(name = \"components\", columnDefinition = \"json\")\nprivate String components;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7504151,"reputation":235,"user_id":5701336,"display_name":"mhsallam"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1593533495,"creation_date":1593533495,"answer_id":62661709,"question_id":25738569,"body_markdown":"If you need to map json type property to json format when responding to the client (e.g. rest API response), add `@JsonRawValue` as the following:\r\n\r\n    @Column(name = &quot;params&quot;, columnDefinition = &quot;json&quot;)\r\n    @JsonRawValue\r\n    private String params;\r\n\r\nThis might not do the DTO mapping for server-side use, but the client will get the property properly formatted as json.","title":"How to map a map JSON column to Java Object with JPA","body":"<p>If you need to map json type property to json format when responding to the client (e.g. rest API response), add <code>@JsonRawValue</code> as the following:</p>\n<pre><code>@Column(name = &quot;params&quot;, columnDefinition = &quot;json&quot;)\n@JsonRawValue\nprivate String params;\n</code></pre>\n<p>This might not do the DTO mapping for server-side use, but the client will get the property properly formatted as json.</p>\n"},{"tags":[],"owner":{"account_id":22097760,"reputation":63,"user_id":16354724,"display_name":"Pradeep Virtuele"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643874638,"creation_date":1643474913,"answer_id":70907629,"question_id":25738569,"body_markdown":"In this newer version of spring boot and MySQL below code is enough\r\n\r\n    @Column( columnDefinition = &quot;json&quot; )\r\n    private String string;\r\n\r\nI was facing quotes issue so I commented below line in my project\r\n\r\n    #spring.jpa.properties.hibernate.globally_quoted_identifiers=true","title":"How to map a map JSON column to Java Object with JPA","body":"<p>In this newer version of spring boot and MySQL below code is enough</p>\n<pre><code>@Column( columnDefinition = &quot;json&quot; )\nprivate String string;\n</code></pre>\n<p>I was facing quotes issue so I commented below line in my project</p>\n<pre><code>#spring.jpa.properties.hibernate.globally_quoted_identifiers=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26998365,"reputation":11,"user_id":20560062,"display_name":"Seenu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675142290,"creation_date":1675142290,"answer_id":75292974,"question_id":25738569,"body_markdown":"If you are using JPA version 2.1 or higher you can go with this case. \r\nLink [Persist Json Object][1]\r\n\r\n\r\npublic class HashMapConverter implements AttributeConverter&lt;Map&lt;String, Object&gt;, String&gt; {\r\n\r\n    @Override\r\n    public String convertToDatabaseColumn(Map&lt;String, Object&gt; customerInfo) {\r\n\r\n        String customerInfoJson = null;\r\n        try {\r\n            customerInfoJson = objectMapper.writeValueAsString(customerInfo);\r\n        } catch (final JsonProcessingException e) {\r\n            logger.error(&quot;JSON writing error&quot;, e);\r\n        }\r\n\r\n        return customerInfoJson;\r\n    }\r\n\r\n    @Override\r\n    public Map&lt;String, Object&gt; convertToEntityAttribute(String customerInfoJSON) {\r\n\r\n        Map&lt;String, Object&gt; customerInfo = null;\r\n        try {\r\n            customerInfo = objectMapper.readValue(customerInfoJSON, \r\n            \tnew TypeReference&lt;HashMap&lt;String, Object&gt;&gt;() {});\r\n        } catch (final IOException e) {\r\n            logger.error(&quot;JSON reading error&quot;, e);\r\n        }\r\n\r\n        return customerInfo;\r\n    }\r\n}\r\n\r\n**A standard JSON object would represent those attributes as a HashMap:**\r\n\r\n@Convert(converter = HashMapConverter.class)\r\nprivate Map&lt;String, Object&gt; entityAttributes;\r\n\r\n  [1]: https://www.baeldung.com/hibernate-persist-json-object","title":"How to map a map JSON column to Java Object with JPA","body":"<p>If you are using JPA version 2.1 or higher you can go with this case.\nLink <a href=\"https://www.baeldung.com/hibernate-persist-json-object\" rel=\"nofollow noreferrer\">Persist Json Object</a></p>\n<p>public class HashMapConverter implements AttributeConverter&lt;Map&lt;String, Object&gt;, String&gt; {</p>\n<pre><code>@Override\npublic String convertToDatabaseColumn(Map&lt;String, Object&gt; customerInfo) {\n\n    String customerInfoJson = null;\n    try {\n        customerInfoJson = objectMapper.writeValueAsString(customerInfo);\n    } catch (final JsonProcessingException e) {\n        logger.error(&quot;JSON writing error&quot;, e);\n    }\n\n    return customerInfoJson;\n}\n\n@Override\npublic Map&lt;String, Object&gt; convertToEntityAttribute(String customerInfoJSON) {\n\n    Map&lt;String, Object&gt; customerInfo = null;\n    try {\n        customerInfo = objectMapper.readValue(customerInfoJSON, \n            new TypeReference&lt;HashMap&lt;String, Object&gt;&gt;() {});\n    } catch (final IOException e) {\n        logger.error(&quot;JSON reading error&quot;, e);\n    }\n\n    return customerInfo;\n}\n</code></pre>\n<p>}</p>\n<p><strong>A standard JSON object would represent those attributes as a HashMap:</strong></p>\n<p>@Convert(converter = HashMapConverter.class)\nprivate Map&lt;String, Object&gt; entityAttributes;</p>\n"},{"tags":[],"owner":{"account_id":21426515,"reputation":11,"user_id":15783749,"display_name":"Palak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679482616,"creation_date":1679482616,"answer_id":75811355,"question_id":25738569,"body_markdown":"Make use of hibernate json types with this dependency in your pom.xml\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\r\n            &lt;version&gt;2.10.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nand defining column with json data type in database as follows:\r\n\r\n    @Type(type = &quot;json&quot;)\r\n    @Column(columnDefinition = &quot;json&quot;)\r\n    private JsonNode column;\r\n\r\nHere, columnDefinition attribute in the @Column annotation to tell\r\n     Hibernate that the score column should be mapped to a JSON data type\r\n      column in the database.\r\n","title":"How to map a map JSON column to Java Object with JPA","body":"<p>Make use of hibernate json types with this dependency in your pom.xml</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\n        &lt;version&gt;2.10.4&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>and defining column with json data type in database as follows:</p>\n<pre><code>@Type(type = &quot;json&quot;)\n@Column(columnDefinition = &quot;json&quot;)\nprivate JsonNode column;\n</code></pre>\n<p>Here, columnDefinition attribute in the @Column annotation to tell\nHibernate that the score column should be mapped to a JSON data type\ncolumn in the database.</p>\n"}],"owner":{"account_id":2379900,"reputation":4402,"user_id":2194119,"accept_rate":76,"display_name":"Rad"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179484,"favorite_count":0,"down_vote_count":1,"up_vote_count":57,"accepted_answer_id":31547965,"answer_count":9,"score":56,"last_activity_date":1679482616,"creation_date":1410246386,"question_id":25738569,"body_markdown":"We have a big table with a lot of columns. After we moved to MySQL Cluster, the table cannot be created because of:\r\n\r\n&gt; ERROR 1118 (42000): Row size too large. The maximum row size for the used table type, not counting BLOBs, is 14000. This includes storage overhead, check the manual. You have to change some columns to TEXT or BLOBs\r\n\r\nAs an example:\r\n\r\n    @Entity @Table (name = &quot;appconfigs&quot;, schema = &quot;myproject&quot;)\r\n    public class AppConfig implements Serializable\r\n    {\r\n        @Id @Column (name = &quot;id&quot;, nullable = false)\r\n        @GeneratedValue (strategy = GenerationType.IDENTITY)\r\n        private int id;\r\n\r\n        @OneToOne @JoinColumn (name = &quot;app_id&quot;)\r\n        private App app;\r\n\r\n        @Column(name = &quot;param_a&quot;)\r\n        private ParamA parama;\r\n\r\n        @Column(name = &quot;param_b&quot;)\r\n        private ParamB paramb;\r\n    }\r\n\r\nIt&#39;s a table for storing configuration parameters. I was thinking that we can combine some columns into one and store it as JSON object and convert it to some Java object.\r\n\r\nFor example:\r\n\r\n    @Entity @Table (name = &quot;appconfigs&quot;, schema = &quot;myproject&quot;)\r\n    public class AppConfig implements Serializable\r\n    {\r\n        @Id @Column (name = &quot;id&quot;, nullable = false)\r\n        @GeneratedValue (strategy = GenerationType.IDENTITY)\r\n        private int id;\r\n\r\n        @OneToOne @JoinColumn (name = &quot;app_id&quot;)\r\n        private App app;\r\n\r\n        @Column(name = &quot;params&quot;)\r\n        //How to specify that this should be mapped to JSON object?\r\n        private Params params;\r\n    }\r\n\r\nWhere we have defined:\r\n\r\n    public class Params implements Serializable\r\n    {\r\n        private ParamA parama;\r\n        private ParamB paramb;\r\n    }\r\n\r\nBy using this we can combine all columns into one and create our table. Or we can split the whole table into several tables. Personally I prefer the first solution.\r\n\r\nAnyway my question is how to map the Params column which is text and contains JSON string of a Java object?","title":"How to map a map JSON column to Java Object with JPA","body":"<p>We have a big table with a lot of columns. After we moved to MySQL Cluster, the table cannot be created because of:</p>\n\n<blockquote>\n  <p>ERROR 1118 (42000): Row size too large. The maximum row size for the used table type, not counting BLOBs, is 14000. This includes storage overhead, check the manual. You have to change some columns to TEXT or BLOBs</p>\n</blockquote>\n\n<p>As an example:</p>\n\n<pre><code>@Entity @Table (name = \"appconfigs\", schema = \"myproject\")\npublic class AppConfig implements Serializable\n{\n    @Id @Column (name = \"id\", nullable = false)\n    @GeneratedValue (strategy = GenerationType.IDENTITY)\n    private int id;\n\n    @OneToOne @JoinColumn (name = \"app_id\")\n    private App app;\n\n    @Column(name = \"param_a\")\n    private ParamA parama;\n\n    @Column(name = \"param_b\")\n    private ParamB paramb;\n}\n</code></pre>\n\n<p>It's a table for storing configuration parameters. I was thinking that we can combine some columns into one and store it as JSON object and convert it to some Java object.</p>\n\n<p>For example:</p>\n\n<pre><code>@Entity @Table (name = \"appconfigs\", schema = \"myproject\")\npublic class AppConfig implements Serializable\n{\n    @Id @Column (name = \"id\", nullable = false)\n    @GeneratedValue (strategy = GenerationType.IDENTITY)\n    private int id;\n\n    @OneToOne @JoinColumn (name = \"app_id\")\n    private App app;\n\n    @Column(name = \"params\")\n    //How to specify that this should be mapped to JSON object?\n    private Params params;\n}\n</code></pre>\n\n<p>Where we have defined:</p>\n\n<pre><code>public class Params implements Serializable\n{\n    private ParamA parama;\n    private ParamB paramb;\n}\n</code></pre>\n\n<p>By using this we can combine all columns into one and create our table. Or we can split the whole table into several tables. Personally I prefer the first solution.</p>\n\n<p>Anyway my question is how to map the Params column which is text and contains JSON string of a Java object?</p>\n"},{"tags":["java","time","utc","java.util.date"],"comments":[{"owner":{"account_id":23710186,"reputation":85,"user_id":17732139,"display_name":"Joel"},"score":1,"creation_date":1679476070,"post_id":75810143,"comment_id":133727205,"body_markdown":"I am trying to convert it to Date so then I can pass it to a query in the database which expect Date object to compare with","body":"I am trying to convert it to Date so then I can pass it to a query in the database which expect Date object to compare with"},{"owner":{"account_id":23710186,"reputation":85,"user_id":17732139,"display_name":"Joel"},"score":1,"creation_date":1679477002,"post_id":75810143,"comment_id":133727420,"body_markdown":"I think yes , it returns the correct UTC time","body":"I think yes , it returns the correct UTC time"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1679482016,"post_id":75810143,"comment_id":133728620,"body_markdown":"Avoid the outdated `Date` class if you can. If you need one for a legacy API, just trust that you have got the right one even though it prints in your local time zone (`Date` objects always did that).","body":"Avoid the outdated <code>Date</code> class if you can. If you need one for a legacy API, just trust that you have got the right one even though it prints in your local time zone (<code>Date</code> objects always did that)."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1679482573,"post_id":75810143,"comment_id":133728779,"body_markdown":"How are you querying the database? Most modern JDBC drivers accept an `OffsetDateTime` as query parameter. See for example [this answer by Arvind Kumar Avinash](https://stackoverflow.com/a/67505173/5772882). As I said, don’t use `Date` if you can avoid it.","body":"How are you querying the database? Most modern JDBC drivers accept an <code>OffsetDateTime</code> as query parameter. See for example <a href=\"https://stackoverflow.com/a/67505173/5772882\">this answer by Arvind Kumar Avinash</a>. As I said, don’t use <code>Date</code> if you can avoid it."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1679567317,"post_id":75810143,"comment_id":133746091,"body_markdown":"*but when converting it to Date object the date becomes Wed Mar 22 10:46:38 EET 2023 with my timezone EET* It doesn&#39;t. What you probably mean is this is what is getting printed when you visualize it. That&#39;s because your system timezone is being applied to it","body":"<i>but when converting it to Date object the date becomes Wed Mar 22 10:46:38 EET 2023 with my timezone EET</i> It doesn&#39;t. What you probably mean is this is what is getting printed when you visualize it. That&#39;s because your system timezone is being applied to it"}],"owner":{"account_id":23710186,"reputation":85,"user_id":17732139,"display_name":"Joel"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1679482185,"answer_count":0,"score":1,"last_activity_date":1679482504,"creation_date":1679475416,"question_id":75810143,"body_markdown":"I am trying to get the current UTC time and convert it into a Date object:\r\n\r\n          OffsetDateTime now = OffsetDateTime.now(ZoneOffset.UTC);\r\n          Date date = Date.from(now.toInstant());\r\n\r\nThe problem I face is that `OffsetDateTime` returns the correct time, for example ```2023-03-22T08:46:38.562331200Z```, which is correct in the time of writing, but when converting it to `Date` object the date\r\nbecomes ```Wed Mar 22 10:46:38 EET 2023``` with my timezone EET, how can I create a Date object with the UTC time  2023-03-22T08:46:38.562331200Z retrieved?","title":"Converting UTC time to Date object","body":"<p>I am trying to get the current UTC time and convert it into a Date object:</p>\n<pre><code>      OffsetDateTime now = OffsetDateTime.now(ZoneOffset.UTC);\n      Date date = Date.from(now.toInstant());\n</code></pre>\n<p>The problem I face is that <code>OffsetDateTime</code> returns the correct time, for example <code>2023-03-22T08:46:38.562331200Z</code>, which is correct in the time of writing, but when converting it to <code>Date</code> object the date\nbecomes <code>Wed Mar 22 10:46:38 EET 2023</code> with my timezone EET, how can I create a Date object with the UTC time  2023-03-22T08:46:38.562331200Z retrieved?</p>\n"},{"tags":["java","design-patterns","decorator","template-method-pattern"],"answers":[{"tags":[],"owner":{"account_id":18051240,"reputation":1,"user_id":13120854,"display_name":"Crospone"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679475369,"creation_date":1679475369,"answer_id":75810134,"question_id":75809908,"body_markdown":"The idea of the decorator pattern is to be able to change method behavior *at runtime*.\r\nWhich is not something you seem to need: product types are clearly defined from the begining (i.e. before compilation).\r\n\r\nYou can go with the template unless I misunderstood something.\r\n\r\nThese being said : each design pattern have been created to solve a problem. In your case, a big &quot;if.. else...&quot;, while unelegant would have do just fine.\r\nThis is a good thing you pactise these concepts, but beware not to end up with something tricky and overcomplicated.\r\n\r\n\r\n\r\n\r\n","title":"Template Method vs Decorator Pattern","body":"<p>The idea of the decorator pattern is to be able to change method behavior <em>at runtime</em>.\nWhich is not something you seem to need: product types are clearly defined from the begining (i.e. before compilation).</p>\n<p>You can go with the template unless I misunderstood something.</p>\n<p>These being said : each design pattern have been created to solve a problem. In your case, a big &quot;if.. else...&quot;, while unelegant would have do just fine.\nThis is a good thing you pactise these concepts, but beware not to end up with something tricky and overcomplicated.</p>\n"},{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679482350,"creation_date":1679477668,"answer_id":75810496,"question_id":75809908,"body_markdown":"I&#39;d go with the simplest solution for your problem and implement it at the lowest level possible. That means if it&#39;s just an additional call in one method that might be done I&#39;d not use the decorator as this would require you to already select the correct instance early on. The &quot;template&quot; approach  seems to be the simpler of the 2. \r\n\r\nAlso, if the product types are already known just adding some switch logic into the service itself might be sufficient.\r\n\r\nIf it needs to be extensible then I&#39;d probably use a strategy approach which is similar to your template method approach, e.g. something like this:\r\n\r\n    interface SpecificProductStatusStrategy {\r\n      String getSpecificStatus(String baseStatus, Product product);\r\n    }\r\n\r\n    public class ProductStatusService {\r\n      //if the service is not a singleton you might want to put that into a singleton repository and use that\r\n      private Map&lt;String, SpecificProductStatusStrategy&gt; strategies = ...;\r\n\r\n      //simple registration, could also use DI etc.\r\n      public void addStrategy(String productType, SpecificProductStatusStrategy strategy) {\r\n        strategies.put(productType, strategy);\r\n      }\r\n\r\n      public String getStatus(Result result, Product product) {\r\n        String baseStatus;\r\n        if (result.isSuccess()) {\r\n          baseStatus = &quot;SUCCESS&quot;;\r\n        } else if (result.getPaymentMethod().equals(&quot;TRANSFER&quot;)) {\r\n          baseStatus = &quot;WAITING_CONFIRMATION&quot;;\r\n        } else {\r\n          baseStatus = &quot;WAITING_PAYMENT&quot;;\r\n        }\r\n\r\n        var strategy = strategies.get(product.getType());\r\n        return strategy != null ? strategy.getSpecificStatus(baseStatus, product) : baseStatus;\r\n     }\r\n\r\n    ","title":"Template Method vs Decorator Pattern","body":"<p>I'd go with the simplest solution for your problem and implement it at the lowest level possible. That means if it's just an additional call in one method that might be done I'd not use the decorator as this would require you to already select the correct instance early on. The &quot;template&quot; approach  seems to be the simpler of the 2.</p>\n<p>Also, if the product types are already known just adding some switch logic into the service itself might be sufficient.</p>\n<p>If it needs to be extensible then I'd probably use a strategy approach which is similar to your template method approach, e.g. something like this:</p>\n<pre><code>interface SpecificProductStatusStrategy {\n  String getSpecificStatus(String baseStatus, Product product);\n}\n\npublic class ProductStatusService {\n  //if the service is not a singleton you might want to put that into a singleton repository and use that\n  private Map&lt;String, SpecificProductStatusStrategy&gt; strategies = ...;\n\n  //simple registration, could also use DI etc.\n  public void addStrategy(String productType, SpecificProductStatusStrategy strategy) {\n    strategies.put(productType, strategy);\n  }\n\n  public String getStatus(Result result, Product product) {\n    String baseStatus;\n    if (result.isSuccess()) {\n      baseStatus = &quot;SUCCESS&quot;;\n    } else if (result.getPaymentMethod().equals(&quot;TRANSFER&quot;)) {\n      baseStatus = &quot;WAITING_CONFIRMATION&quot;;\n    } else {\n      baseStatus = &quot;WAITING_PAYMENT&quot;;\n    }\n\n    var strategy = strategies.get(product.getType());\n    return strategy != null ? strategy.getSpecificStatus(baseStatus, product) : baseStatus;\n }\n</code></pre>\n"}],"owner":{"account_id":7933114,"reputation":1322,"user_id":5990192,"accept_rate":11,"display_name":"CherryBelle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679567021,"answer_count":2,"score":0,"last_activity_date":1679482350,"creation_date":1679473844,"question_id":75809908,"body_markdown":"I write the code in Java and I have a case where I need to get the status of an order depending on the product type. Each product type has the same base logic as written below.\r\n```\r\nprotected String getStatus(ProductType productType, Result result) {\r\n  if (result.isSuccess()) {\r\n    return &quot;SUCCESS&quot;;\r\n  } else if (result.getPaymentMethod().equals(&quot;TRANSFER&quot;)) {\r\n    return &quot;WAITING_CONFIRMATION&quot;;\r\n  } else {\r\n    return &quot;WAITING_PAYMENT&quot;;\r\n  }\r\n}\r\n```\r\nHowever, each product type can have custom logic. For example:\r\n- if product type is &quot;A&quot;, no need to modify the logic above\r\n- if the status returned from the method above is &quot;SUCCESS&quot; and the product type is &quot;B&quot;, I need to call another service to check the status of the product issuance\r\n- if the status returned from the method above is &quot;SUCCESS&quot; and the product type is &quot;C&quot;, I need to call partner service.\r\n\r\nMy question is what is the best design pattern to implement?\r\n\r\nThe first idea is using something like template method pattern\r\n```\r\npublic class BaseProductStatusService {\r\n\r\n  public String getStatus(Result result, Product product) {\r\n    String status;\r\n    if (result.isSuccess()) {\r\n      status = &quot;SUCCESS&quot;;\r\n    } else if (result.getPaymentMethod().equals(&quot;TRANSFER&quot;)) {\r\n      status = &quot;WAITING_CONFIRMATION&quot;;\r\n    } else {\r\n      status = &quot;WAITING_PAYMENT&quot;;\r\n    }\r\n\r\n    return doGetStatus(status);\r\n  }\r\n\r\n  protected String doGetStatus(String status, Product product) {\r\n    return status;\r\n  }\r\n}\r\n\r\n// For product A, no need to have its own class since it can use the base class\r\n\r\npublic class ProductBStatusService extends BaseProductStatusService {\r\n\r\n  @Override\r\n  protected String doGetStatus(String status, Product product) {\r\n    if (status.equals(&quot;SUCCESS&quot;)) {\r\n      return this.checkProductIssuance(product);\r\n    }\r\n\r\n    return status;\r\n  }\r\n}\r\n\r\npublic class ProductCStatusService() extends BaseProductStatusService {\r\n\r\n  @Override\r\n  protected String doGetStatus(String status, Product product) {\r\n    if (status.equals(&quot;SUCCESS&quot;)) {\r\n      return this.checkStatusToPartner(product);\r\n    }\r\n\r\n    return status;\r\n  }\r\n}\r\n```\r\n\r\nAnother alternative is using decorator pattern\r\n```\r\npublic interface ProductStatusService() {\r\n   String getStatus(Result result, Product product);\r\n}\r\n\r\npublic class DefaultProductStatusService implements ProductStatusService {\r\n\r\n  public String getStatus(Result result, Product product) {\r\n    String status;\r\n    if (result.isSuccess()) {\r\n      status = &quot;SUCCESS&quot;;\r\n    } else if (result.getPaymentMethod().equals(&quot;TRANSFER&quot;)) {\r\n      status = &quot;WAITING_CONFIRMATION&quot;;\r\n    } else {\r\n      status = &quot;WAITING_PAYMENT&quot;;\r\n    }\r\n\r\n    return doGetStatus(status);\r\n  }\r\n}\r\n\r\npublic abstract class ProductStatusServiceDecorator implements ProductStatusService {\r\n\r\n  private ProductStatusService productStatusService;\r\n\r\n  public ProductStatusServiceDecorator(ProductStatusService productStatusService) {\r\n    this.productStatusService = productStatusService;\r\n  }\r\n\r\n  public String getStatus(Result result, Product product) {\r\n    return this.productStatusService.getStatus();\r\n  }\r\n}\r\n\r\n// For product A, no need to have its own class since it can use the DefaultProductStatusService class\r\n\r\npublic class ProductBStatusServiceDecorator extends ProductStatusServiceDecorator {\r\n\r\n  public ProductStatusServiceDecorator(ProductStatusService productStatusService) {\r\n    super(productStatusService);\r\n  }\r\n\r\n  public String getStatus(Result result, Product product) {\r\n    String status = super.getStatus();\r\n\r\n    if (status.equals(&quot;SUCCESS&quot;)) {\r\n      return this.checkProductIssuance(product);\r\n    }\r\n\r\n    return status;\r\n  }\r\n}\r\n\r\npublic class ProductCStatusServiceDecorator extends ProductStatusServiceDecorator {\r\n\r\n  public ProductStatusServiceDecorator(ProductStatusService productStatusService) {\r\n    super(productStatusService);\r\n  }\r\n\r\n  public String getStatus(Result result, Product product) {\r\n    String status = super.getStatus();\r\n\r\n    if (status.equals(&quot;SUCCESS&quot;)) {\r\n      return this.checkStatusToPartner(product);\r\n    }\r\n\r\n    return status;\r\n  }\r\n}\r\n```\r\nwhich one is better for the above case and what is the reason? or do you have other suggestion?","title":"Template Method vs Decorator Pattern","body":"<p>I write the code in Java and I have a case where I need to get the status of an order depending on the product type. Each product type has the same base logic as written below.</p>\n<pre><code>protected String getStatus(ProductType productType, Result result) {\n  if (result.isSuccess()) {\n    return &quot;SUCCESS&quot;;\n  } else if (result.getPaymentMethod().equals(&quot;TRANSFER&quot;)) {\n    return &quot;WAITING_CONFIRMATION&quot;;\n  } else {\n    return &quot;WAITING_PAYMENT&quot;;\n  }\n}\n</code></pre>\n<p>However, each product type can have custom logic. For example:</p>\n<ul>\n<li>if product type is &quot;A&quot;, no need to modify the logic above</li>\n<li>if the status returned from the method above is &quot;SUCCESS&quot; and the product type is &quot;B&quot;, I need to call another service to check the status of the product issuance</li>\n<li>if the status returned from the method above is &quot;SUCCESS&quot; and the product type is &quot;C&quot;, I need to call partner service.</li>\n</ul>\n<p>My question is what is the best design pattern to implement?</p>\n<p>The first idea is using something like template method pattern</p>\n<pre><code>public class BaseProductStatusService {\n\n  public String getStatus(Result result, Product product) {\n    String status;\n    if (result.isSuccess()) {\n      status = &quot;SUCCESS&quot;;\n    } else if (result.getPaymentMethod().equals(&quot;TRANSFER&quot;)) {\n      status = &quot;WAITING_CONFIRMATION&quot;;\n    } else {\n      status = &quot;WAITING_PAYMENT&quot;;\n    }\n\n    return doGetStatus(status);\n  }\n\n  protected String doGetStatus(String status, Product product) {\n    return status;\n  }\n}\n\n// For product A, no need to have its own class since it can use the base class\n\npublic class ProductBStatusService extends BaseProductStatusService {\n\n  @Override\n  protected String doGetStatus(String status, Product product) {\n    if (status.equals(&quot;SUCCESS&quot;)) {\n      return this.checkProductIssuance(product);\n    }\n\n    return status;\n  }\n}\n\npublic class ProductCStatusService() extends BaseProductStatusService {\n\n  @Override\n  protected String doGetStatus(String status, Product product) {\n    if (status.equals(&quot;SUCCESS&quot;)) {\n      return this.checkStatusToPartner(product);\n    }\n\n    return status;\n  }\n}\n</code></pre>\n<p>Another alternative is using decorator pattern</p>\n<pre><code>public interface ProductStatusService() {\n   String getStatus(Result result, Product product);\n}\n\npublic class DefaultProductStatusService implements ProductStatusService {\n\n  public String getStatus(Result result, Product product) {\n    String status;\n    if (result.isSuccess()) {\n      status = &quot;SUCCESS&quot;;\n    } else if (result.getPaymentMethod().equals(&quot;TRANSFER&quot;)) {\n      status = &quot;WAITING_CONFIRMATION&quot;;\n    } else {\n      status = &quot;WAITING_PAYMENT&quot;;\n    }\n\n    return doGetStatus(status);\n  }\n}\n\npublic abstract class ProductStatusServiceDecorator implements ProductStatusService {\n\n  private ProductStatusService productStatusService;\n\n  public ProductStatusServiceDecorator(ProductStatusService productStatusService) {\n    this.productStatusService = productStatusService;\n  }\n\n  public String getStatus(Result result, Product product) {\n    return this.productStatusService.getStatus();\n  }\n}\n\n// For product A, no need to have its own class since it can use the DefaultProductStatusService class\n\npublic class ProductBStatusServiceDecorator extends ProductStatusServiceDecorator {\n\n  public ProductStatusServiceDecorator(ProductStatusService productStatusService) {\n    super(productStatusService);\n  }\n\n  public String getStatus(Result result, Product product) {\n    String status = super.getStatus();\n\n    if (status.equals(&quot;SUCCESS&quot;)) {\n      return this.checkProductIssuance(product);\n    }\n\n    return status;\n  }\n}\n\npublic class ProductCStatusServiceDecorator extends ProductStatusServiceDecorator {\n\n  public ProductStatusServiceDecorator(ProductStatusService productStatusService) {\n    super(productStatusService);\n  }\n\n  public String getStatus(Result result, Product product) {\n    String status = super.getStatus();\n\n    if (status.equals(&quot;SUCCESS&quot;)) {\n      return this.checkStatusToPartner(product);\n    }\n\n    return status;\n  }\n}\n</code></pre>\n<p>which one is better for the above case and what is the reason? or do you have other suggestion?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":442814,"reputation":23181,"user_id":833647,"display_name":"Ken Wolf"},"score":0,"creation_date":1678733255,"post_id":75725731,"comment_id":133587568,"body_markdown":"Use `package:mine` filter: https://developer.android.com/studio/debug/logcat#special-queries. Screenshot here: https://stackoverflow.com/questions/74164792/android-studios-logcat-window-loglevel-filter-missing/74165382#74165382","body":"Use <code>package:mine</code> filter: <a href=\"https://developer.android.com/studio/debug/logcat#special-queries\" rel=\"nofollow noreferrer\">developer.android.com/studio/debug/logcat#special-queries</a>. Screenshot here: <a href=\"https://stackoverflow.com/questions/74164792/android-studios-logcat-window-loglevel-filter-missing/74165382#74165382\" title=\"android studios logcat window loglevel filter missing\">stackoverflow.com/questions/74164792/&hellip;</a>"},{"owner":{"account_id":10587710,"reputation":2772,"user_id":7799462,"display_name":"Halil Ozel"},"score":0,"creation_date":1678733397,"post_id":75725731,"comment_id":133587602,"body_markdown":"Does this answer your question? [Android studio&#39;s logcat window loglevel filter missing](https://stackoverflow.com/questions/74164792/android-studios-logcat-window-loglevel-filter-missing)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/74164792/android-studios-logcat-window-loglevel-filter-missing\">Android studio&#39;s logcat window loglevel filter missing</a>"}],"answers":[{"tags":[],"owner":{"account_id":23245615,"reputation":43,"user_id":17334245,"display_name":"Sana Momin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679482101,"creation_date":1679482101,"answer_id":75811268,"question_id":75725731,"body_markdown":"To filter the Debug prints in Android Studio, you can use the Logcat window.\r\n\r\n 1. Open the Logcat window by selecting View -&gt; Tool Windows -&gt; Logcat from the menu bar.\r\n\r\n 2. In the Logcat window, click on the search icon (magnifying glass) on the right-hand side.\r\n\r\n 3. In the search field that appears, type the filter you want to use. For example, in your case, you could type &quot;I/System.out: 870.0 276.0 869.0 277.0&quot;.\r\n\r\n 4. Press Enter to apply the filter. You should now see only the Debug prints that match your filter.","title":"Android Studio, how to see only my debug out","body":"<p>To filter the Debug prints in Android Studio, you can use the Logcat window.</p>\n<ol>\n<li><p>Open the Logcat window by selecting View -&gt; Tool Windows -&gt; Logcat from the menu bar.</p>\n</li>\n<li><p>In the Logcat window, click on the search icon (magnifying glass) on the right-hand side.</p>\n</li>\n<li><p>In the search field that appears, type the filter you want to use. For example, in your case, you could type &quot;I/System.out: 870.0 276.0 869.0 277.0&quot;.</p>\n</li>\n<li><p>Press Enter to apply the filter. You should now see only the Debug prints that match your filter.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":9969173,"reputation":1133,"user_id":7375877,"display_name":"Mi Po"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679482101,"creation_date":1678732718,"question_id":75725731,"body_markdown":"I am getting a lot of noise in Debug prints from the application interface. \r\n\r\nI need to filter to see only my debug output. How can I do this in android studio. \r\n\r\nFor example, this is my debug window, how can I filter it to see only `I/System.out: 870.0\t276.0\t869.0\t277.0` prints. \r\n\r\nIf possible, please show exactly where I need to do this int he Android Studio UI\r\n\r\n    I/System.out: 869.0\t271.0\t870.0\t276.0\r\n    D/CameraBridge: mStretch value: 1.125\r\n    D/JavaCameraView: Preview Frame received. Frame size: 1843200\r\n    I/chatty: uid=10146(com.example.toolmap) identical 3 lines\r\n    D/JavaCameraView: Preview Frame received. Frame size: 1843200\r\n    I/System.out: List for frame: 13\r\n    I/System.out: 870.0\t276.0\t869.0\t277.0\r\n    I/chatty: uid=10146(com.example.toolmap) Thread-2 identical 113 lines\r\n    I/System.out: 870.0\t276.0\t869.0\t277.0\r\n    D/JavaCameraView: Preview Frame received. Frame size: 1843200\r\n    I/System.out: 870.0\t276.0\t869.0\t277.0\r\n    I/chatty: uid=10146(com.example.toolmap) Thread-2 identical 229 lines\r\n    I/System.out: 870.0\t276.0\t869.0\t277.0\r\n    D/JavaCameraView: Preview Frame received. Frame size: 1843200\r\n    D/CameraBridge: mStretch value: 1.125\r\n    D/JavaCameraView: Preview Frame received. Frame size: 1843200\r\n    I/chatty: uid=10146(com.example.toolmap) identical 2 lines\r\n    D/JavaCameraView: Preview Frame received. Frame size: 1843200\r\n    I/System.out: List for frame: 14\r\n    I/System.out: 869.0\t277.0\t133.0\t329.0\r\n    I/chatty: uid=10146(com.example.toolmap) Thread-2 identical 75 lines\r\n    I/System.out: 869.0\t277.0\t133.0\t329.0\r\n    D/JavaCameraView: Preview Frame received. Frame size: 1843200\r\n    I/System.out: 869.0\t277.0\t133.0\t329.0\r\n    I/chatty: uid=10146(com.example.toolmap) Thread-2 identical 194 lines\r\n    I/System.out: 869.0\t277.0\t133.0\t329.0","title":"Android Studio, how to see only my debug out","body":"<p>I am getting a lot of noise in Debug prints from the application interface.</p>\n<p>I need to filter to see only my debug output. How can I do this in android studio.</p>\n<p>For example, this is my debug window, how can I filter it to see only <code>I/System.out: 870.0  276.0   869.0   277.0</code> prints.</p>\n<p>If possible, please show exactly where I need to do this int he Android Studio UI</p>\n<pre><code>I/System.out: 869.0 271.0   870.0   276.0\nD/CameraBridge: mStretch value: 1.125\nD/JavaCameraView: Preview Frame received. Frame size: 1843200\nI/chatty: uid=10146(com.example.toolmap) identical 3 lines\nD/JavaCameraView: Preview Frame received. Frame size: 1843200\nI/System.out: List for frame: 13\nI/System.out: 870.0 276.0   869.0   277.0\nI/chatty: uid=10146(com.example.toolmap) Thread-2 identical 113 lines\nI/System.out: 870.0 276.0   869.0   277.0\nD/JavaCameraView: Preview Frame received. Frame size: 1843200\nI/System.out: 870.0 276.0   869.0   277.0\nI/chatty: uid=10146(com.example.toolmap) Thread-2 identical 229 lines\nI/System.out: 870.0 276.0   869.0   277.0\nD/JavaCameraView: Preview Frame received. Frame size: 1843200\nD/CameraBridge: mStretch value: 1.125\nD/JavaCameraView: Preview Frame received. Frame size: 1843200\nI/chatty: uid=10146(com.example.toolmap) identical 2 lines\nD/JavaCameraView: Preview Frame received. Frame size: 1843200\nI/System.out: List for frame: 14\nI/System.out: 869.0 277.0   133.0   329.0\nI/chatty: uid=10146(com.example.toolmap) Thread-2 identical 75 lines\nI/System.out: 869.0 277.0   133.0   329.0\nD/JavaCameraView: Preview Frame received. Frame size: 1843200\nI/System.out: 869.0 277.0   133.0   329.0\nI/chatty: uid=10146(com.example.toolmap) Thread-2 identical 194 lines\nI/System.out: 869.0 277.0   133.0   329.0\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-data-jpa"],"owner":{"account_id":23624871,"reputation":352,"user_id":17657568,"display_name":"AMZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679481136,"creation_date":1679481136,"question_id":75811100,"body_markdown":"I have a flight search form that includes departure date and arrival date, which are of LocalDate type, and Spring binds this form to a flightForm object. But when binding these dates, it gives the following error that says, it cannot Bind to the Date object, but the departureDate and arrivalDate object types are LocalDate, not Date. I am using spring data jpa 2.7.3 which includes hibernate 5.6.10 Final. It is interesting that when I change the parent version to 3.0.4 in the pom, this problem is solved. But I find another problem with spring security, which has no place here.\r\n\r\nhome.html:\r\n\r\n     &lt;form th:action=&quot;@{/search}&quot; method=&quot;get&quot; id=&quot;flight-form&quot; th:object=&quot;${flightForm}&quot;&gt;\r\n    \r\n                    &lt;!-- FROM--&gt;\r\n                    &lt;div id=&quot;flight-depart&quot;&gt;\r\n                        &lt;div class=&quot;arriveDateBox&quot;&gt;\r\n                            &lt;label for=&quot;from&quot;&gt;FROM&lt;/label&gt;\r\n                            &lt;select th:field=&quot;*{from}&quot; name=&quot;from&quot; id=&quot;from&quot;&gt;\r\n                                &lt;option th:each=&quot;flight : ${flights}&quot; th:text=&quot;${flight.fromAirport.name}&quot;\r\n                                        th:value=&quot;${flight.fromAirport.name}&quot;&gt;&lt;/option&gt;\r\n                            &lt;/select&gt;&lt;br&gt;&lt;br&gt;\r\n                            &lt;a id=&quot;left-load&quot; style=&quot;text-decoration: none&quot;\r\n                               th:href=&quot;@{&#39;/home?page-number=&#39; + ${pageNumber &gt; 1 ? pageNumber - 1 : 1}}&quot;&gt;Previous&lt;/a&gt;\r\n                            &lt;a id=&quot;right-load&quot; style=&quot;text-decoration: none&quot;\r\n                               th:href=&quot;@{&#39;/home?page-number=&#39;+${pageNumber &lt;= totalPages ? pageNumber +1 : totalPages - 1}}&quot;&gt;Next&lt;/a&gt;\r\n                            &lt;div id=&quot;depart-res&quot;&gt;&lt;/div&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;div class=&quot;arriveDateBox&quot; id=&quot;arriveBox&quot;&gt;\r\n                            &lt;label for=&quot;departureDate&quot;&gt;DEPARTURE TIME&lt;/label&gt;\r\n                            &lt;input th:field=&quot;*{departureDate}&quot; type=&quot;date&quot; name=&quot;departureDate&quot; id=&quot;departureDate&quot;&gt;\r\n                        &lt;/div&gt;\r\n                    &lt;/div&gt;\r\n    \r\n                    &lt;!--TO--&gt;\r\n                    &lt;div id=&quot;flight-dates&quot;&gt;\r\n                        &lt;div class=&quot;arriveDateBox&quot;&gt;\r\n                            &lt;label for=&quot;to&quot;&gt;TO&lt;/label&gt;\r\n                            &lt;select th:field=&quot;*{to}&quot; name=&quot;to&quot; id=&quot;to&quot;&gt;\r\n                                &lt;option th:each=&quot;flight : ${flights}&quot; th:text=&quot;${flight.toAirport.name}&quot;\r\n                                        th:value=&quot;${flight.toAirport.name}&quot;&gt;&lt;/option&gt;\r\n                            &lt;/select&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;div class=&quot;arriveDateBox&quot; id=&quot;arriveDateBox&quot;&gt;\r\n                            &lt;label for=&quot;arrivalDate&quot;&gt;ARRIVAL TIME&lt;/label&gt;\r\n                            &lt;input th:field=&quot;*{arrivalDate}&quot; type=&quot;date&quot; name=&quot;arrivalDate&quot; id=&quot;arrivalDate&quot;&gt;\r\n                        &lt;/div&gt;\r\n                    &lt;/div&gt;\r\n    \r\n                 \r\n                    &lt;!-- SEARCH BUTTON --&gt;\r\n                    &lt;div id=&quot;flight-search&quot;&gt;\r\n                        &lt;div class=&quot;arriveDateBox&quot;&gt;\r\n                            &lt;input type=&quot;submit&quot; id=&quot;search-flight&quot; value=&quot;SEARCH FLIGHTS&quot;/&gt;\r\n                        &lt;/div&gt;\r\n                    &lt;/div&gt;\r\n    \r\n                &lt;/form&gt;\r\n\r\nFlightForm class:\r\n\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @FlightDates(dateOne = &quot;departureDate&quot;,dateTwo = &quot;arrivalDate&quot;,message = &quot;dates order are not correct or you chose an invalid date&quot;)\r\n    public class FlightForm {\r\n        @NotNull(message = &quot;beginning airport must be defined&quot;)\r\n        private String from;\r\n        @NotNull(message = &quot;destination airport must be defined&quot;)\r\n        private String to;\r\n        @NotNull(message = &quot;departure date airport must be defined&quot;)\r\n        @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n        private LocalDate departureDate;\r\n        @NotNull(message = &quot;arrival date must be defined&quot;)\r\n        @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n        private LocalDate arrivalDate;\r\n       \r\n    }\r\n\r\ncontroller:\r\n \r\n\r\n    @GetMapping(&quot;/search&quot;)\r\n        public String searchFlightWithFormValidation(@RequestParam(name = &quot;page-number&quot;, required = false) String pageNumber,\r\n                                                     @Valid @ModelAttribute(name = &quot;flightForm&quot;) FlightForm form, BindingResult result,\r\n                                                     Model model, HttpSession session) {\r\n            if (result.hasErrors()) {\r\n                session.setAttribute(&quot;errors&quot;, result.getAllErrors().stream().map(e -&gt; e.getDefaultMessage()).toList());\r\n                return &quot;redirect:home?error=true&quot;;\r\n            }\r\n    \r\n            session.setAttribute(&quot;flightForm&quot;, form);\r\n            showNthPageOfResult(pageNumber, model, session);\r\n            return &quot;search&quot;;\r\n        }\r\n    \r\n        @GetMapping(&quot;/search/flights&quot;)\r\n        public String showNthPageOfResult(@RequestParam(name = &quot;page-number&quot;) String pageNumber, Model model, HttpSession session) {\r\n    \r\n            int pageNumber1 = parsePageNumber(pageNumber);\r\n            FlightForm form1 = (FlightForm) session.getAttribute(&quot;flightForm&quot;);\r\n            Page&lt;Flight&gt; flightPage = flightRepository.querySearch(PageRequest.of(\r\n                            pageNumber1 - 1, pageSize * 2, Sort.by(&quot;departure&quot;)),\r\n                    form1.getDepartureDate(),form1.getArrivalDate(),form1.getFrom(),form1.getTo());\r\n    \r\n            model.addAllAttributes(Map.of(&quot;totalPages&quot;, flightPage.getTotalPages(),\r\n                    &quot;pageNumber&quot;, pageNumber1,\r\n                    &quot;flights&quot;, flightPage.getContent()));\r\n    \r\n            return &quot;search&quot;;\r\n        }\r\n\r\n\r\nerror:\r\n\r\n    org.springframework.dao.InvalidDataAccessApiUsageException: Parameter value [2015-01-01] did not match expected type [java.util.Date (n/a)]; nested exception is java.lang.IllegalArgumentException: Parameter value [2015-01-01] did not match expected type [java.util.Date (n/a)]\r\n    \tat org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:374)\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235)\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\r\n    \tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n    \tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n    \tat jdk.proxy3/jdk.proxy3.$Proxy130.querySearch(Unknown Source)\r\n    \tat com.isoft.airport.controllers.HomeController.showNthPageOfResult(HomeController.java:78)\r\n    \tat com.isoft.airport.controllers.HomeController.searchFlightWithFormValidation(HomeController.java:69)\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)\r\n    \tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilterInternal(AuthorizationFilter.java:73)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n    \tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223)\r\n    \tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n    \tat org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n    \tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:1589)\r\n    Caused by: java.lang.IllegalArgumentException: Parameter value [2015-01-01] did not match expected type [java.util.Date (n/a)]\r\n    \tat org.hibernate.query.spi.QueryParameterBindingValidator.validate(QueryParameterBindingValidator.java:54)\r\n    \tat org.hibernate.query.spi.QueryParameterBindingValidator.validate(QueryParameterBindingValidator.java:27)\r\n    \tat org.hibernate.query.internal.QueryParameterBindingImpl.validate(QueryParameterBindingImpl.java:90)\r\n    \tat org.hibernate.query.internal.QueryParameterBindingImpl.setBindValue(QueryParameterBindingImpl.java:55)\r\n    \tat org.hibernate.query.internal.AbstractProducedQuery.setParameter(AbstractProducedQuery.java:501)\r\n    \tat org.hibernate.query.internal.AbstractProducedQuery.setParameter(AbstractProducedQuery.java:122)\r\n    \tat org.springframework.data.jpa.repository.query.QueryParameterSetter$BindableQuery.setParameter(QueryParameterSetter.java:326)\r\n    \tat org.springframework.data.jpa.repository.query.QueryParameterSetter$NamedOrIndexedQueryParameterSetter.lambda$setParameter$4(QueryParameterSetter.java:117)\r\n    \tat org.springframework.data.jpa.repository.query.QueryParameterSetter$ErrorHandling$1.execute(QueryParameterSetter.java:140)\r\n    \tat org.springframework.data.jpa.repository.query.QueryParameterSetter$NamedOrIndexedQueryParameterSetter.setParameter(QueryParameterSetter.java:117)\r\n    \tat org.springframework.data.jpa.repository.query.ParameterBinder.bind(ParameterBinder.java:82)\r\n    \tat org.springframework.data.jpa.repository.query.ParameterBinder.bind(ParameterBinder.java:74)\r\n    \tat org.springframework.data.jpa.repository.query.ParameterBinder.bindAndPrepare(ParameterBinder.java:96)\r\n    \tat org.springframework.data.jpa.repository.query.AbstractStringBasedJpaQuery.doCreateQuery(AbstractStringBasedJpaQuery.java:99)\r\n    \tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.createQuery(AbstractJpaQuery.java:233)\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryExecution$PagedExecution.doExecute(JpaQueryExecution.java:177)\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90)\r\n    \tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:156)\r\n    \tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:144)\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:160)\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)","title":"Parameter value [2015-01-01] did not match expected type [java.util.Date (n/a)] spring data jpa","body":"<p>I have a flight search form that includes departure date and arrival date, which are of LocalDate type, and Spring binds this form to a flightForm object. But when binding these dates, it gives the following error that says, it cannot Bind to the Date object, but the departureDate and arrivalDate object types are LocalDate, not Date. I am using spring data jpa 2.7.3 which includes hibernate 5.6.10 Final. It is interesting that when I change the parent version to 3.0.4 in the pom, this problem is solved. But I find another problem with spring security, which has no place here.</p>\n<p>home.html:</p>\n<pre><code> &lt;form th:action=&quot;@{/search}&quot; method=&quot;get&quot; id=&quot;flight-form&quot; th:object=&quot;${flightForm}&quot;&gt;\n\n                &lt;!-- FROM--&gt;\n                &lt;div id=&quot;flight-depart&quot;&gt;\n                    &lt;div class=&quot;arriveDateBox&quot;&gt;\n                        &lt;label for=&quot;from&quot;&gt;FROM&lt;/label&gt;\n                        &lt;select th:field=&quot;*{from}&quot; name=&quot;from&quot; id=&quot;from&quot;&gt;\n                            &lt;option th:each=&quot;flight : ${flights}&quot; th:text=&quot;${flight.fromAirport.name}&quot;\n                                    th:value=&quot;${flight.fromAirport.name}&quot;&gt;&lt;/option&gt;\n                        &lt;/select&gt;&lt;br&gt;&lt;br&gt;\n                        &lt;a id=&quot;left-load&quot; style=&quot;text-decoration: none&quot;\n                           th:href=&quot;@{'/home?page-number=' + ${pageNumber &gt; 1 ? pageNumber - 1 : 1}}&quot;&gt;Previous&lt;/a&gt;\n                        &lt;a id=&quot;right-load&quot; style=&quot;text-decoration: none&quot;\n                           th:href=&quot;@{'/home?page-number='+${pageNumber &lt;= totalPages ? pageNumber +1 : totalPages - 1}}&quot;&gt;Next&lt;/a&gt;\n                        &lt;div id=&quot;depart-res&quot;&gt;&lt;/div&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;arriveDateBox&quot; id=&quot;arriveBox&quot;&gt;\n                        &lt;label for=&quot;departureDate&quot;&gt;DEPARTURE TIME&lt;/label&gt;\n                        &lt;input th:field=&quot;*{departureDate}&quot; type=&quot;date&quot; name=&quot;departureDate&quot; id=&quot;departureDate&quot;&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n\n                &lt;!--TO--&gt;\n                &lt;div id=&quot;flight-dates&quot;&gt;\n                    &lt;div class=&quot;arriveDateBox&quot;&gt;\n                        &lt;label for=&quot;to&quot;&gt;TO&lt;/label&gt;\n                        &lt;select th:field=&quot;*{to}&quot; name=&quot;to&quot; id=&quot;to&quot;&gt;\n                            &lt;option th:each=&quot;flight : ${flights}&quot; th:text=&quot;${flight.toAirport.name}&quot;\n                                    th:value=&quot;${flight.toAirport.name}&quot;&gt;&lt;/option&gt;\n                        &lt;/select&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;arriveDateBox&quot; id=&quot;arriveDateBox&quot;&gt;\n                        &lt;label for=&quot;arrivalDate&quot;&gt;ARRIVAL TIME&lt;/label&gt;\n                        &lt;input th:field=&quot;*{arrivalDate}&quot; type=&quot;date&quot; name=&quot;arrivalDate&quot; id=&quot;arrivalDate&quot;&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n\n             \n                &lt;!-- SEARCH BUTTON --&gt;\n                &lt;div id=&quot;flight-search&quot;&gt;\n                    &lt;div class=&quot;arriveDateBox&quot;&gt;\n                        &lt;input type=&quot;submit&quot; id=&quot;search-flight&quot; value=&quot;SEARCH FLIGHTS&quot;/&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n\n            &lt;/form&gt;\n</code></pre>\n<p>FlightForm class:</p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@FlightDates(dateOne = &quot;departureDate&quot;,dateTwo = &quot;arrivalDate&quot;,message = &quot;dates order are not correct or you chose an invalid date&quot;)\npublic class FlightForm {\n    @NotNull(message = &quot;beginning airport must be defined&quot;)\n    private String from;\n    @NotNull(message = &quot;destination airport must be defined&quot;)\n    private String to;\n    @NotNull(message = &quot;departure date airport must be defined&quot;)\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\n    private LocalDate departureDate;\n    @NotNull(message = &quot;arrival date must be defined&quot;)\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\n    private LocalDate arrivalDate;\n   \n}\n</code></pre>\n<p>controller:</p>\n<pre><code>@GetMapping(&quot;/search&quot;)\n    public String searchFlightWithFormValidation(@RequestParam(name = &quot;page-number&quot;, required = false) String pageNumber,\n                                                 @Valid @ModelAttribute(name = &quot;flightForm&quot;) FlightForm form, BindingResult result,\n                                                 Model model, HttpSession session) {\n        if (result.hasErrors()) {\n            session.setAttribute(&quot;errors&quot;, result.getAllErrors().stream().map(e -&gt; e.getDefaultMessage()).toList());\n            return &quot;redirect:home?error=true&quot;;\n        }\n\n        session.setAttribute(&quot;flightForm&quot;, form);\n        showNthPageOfResult(pageNumber, model, session);\n        return &quot;search&quot;;\n    }\n\n    @GetMapping(&quot;/search/flights&quot;)\n    public String showNthPageOfResult(@RequestParam(name = &quot;page-number&quot;) String pageNumber, Model model, HttpSession session) {\n\n        int pageNumber1 = parsePageNumber(pageNumber);\n        FlightForm form1 = (FlightForm) session.getAttribute(&quot;flightForm&quot;);\n        Page&lt;Flight&gt; flightPage = flightRepository.querySearch(PageRequest.of(\n                        pageNumber1 - 1, pageSize * 2, Sort.by(&quot;departure&quot;)),\n                form1.getDepartureDate(),form1.getArrivalDate(),form1.getFrom(),form1.getTo());\n\n        model.addAllAttributes(Map.of(&quot;totalPages&quot;, flightPage.getTotalPages(),\n                &quot;pageNumber&quot;, pageNumber1,\n                &quot;flights&quot;, flightPage.getContent()));\n\n        return &quot;search&quot;;\n    }\n</code></pre>\n<p>error:</p>\n<pre><code>org.springframework.dao.InvalidDataAccessApiUsageException: Parameter value [2015-01-01] did not match expected type [java.util.Date (n/a)]; nested exception is java.lang.IllegalArgumentException: Parameter value [2015-01-01] did not match expected type [java.util.Date (n/a)]\n    at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:374)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n    at jdk.proxy3/jdk.proxy3.$Proxy130.querySearch(Unknown Source)\n    at com.isoft.airport.controllers.HomeController.showNthPageOfResult(HomeController.java:78)\n    at com.isoft.airport.controllers.HomeController.searchFlightWithFormValidation(HomeController.java:69)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)\n    at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilterInternal(AuthorizationFilter.java:73)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:1589)\nCaused by: java.lang.IllegalArgumentException: Parameter value [2015-01-01] did not match expected type [java.util.Date (n/a)]\n    at org.hibernate.query.spi.QueryParameterBindingValidator.validate(QueryParameterBindingValidator.java:54)\n    at org.hibernate.query.spi.QueryParameterBindingValidator.validate(QueryParameterBindingValidator.java:27)\n    at org.hibernate.query.internal.QueryParameterBindingImpl.validate(QueryParameterBindingImpl.java:90)\n    at org.hibernate.query.internal.QueryParameterBindingImpl.setBindValue(QueryParameterBindingImpl.java:55)\n    at org.hibernate.query.internal.AbstractProducedQuery.setParameter(AbstractProducedQuery.java:501)\n    at org.hibernate.query.internal.AbstractProducedQuery.setParameter(AbstractProducedQuery.java:122)\n    at org.springframework.data.jpa.repository.query.QueryParameterSetter$BindableQuery.setParameter(QueryParameterSetter.java:326)\n    at org.springframework.data.jpa.repository.query.QueryParameterSetter$NamedOrIndexedQueryParameterSetter.lambda$setParameter$4(QueryParameterSetter.java:117)\n    at org.springframework.data.jpa.repository.query.QueryParameterSetter$ErrorHandling$1.execute(QueryParameterSetter.java:140)\n    at org.springframework.data.jpa.repository.query.QueryParameterSetter$NamedOrIndexedQueryParameterSetter.setParameter(QueryParameterSetter.java:117)\n    at org.springframework.data.jpa.repository.query.ParameterBinder.bind(ParameterBinder.java:82)\n    at org.springframework.data.jpa.repository.query.ParameterBinder.bind(ParameterBinder.java:74)\n    at org.springframework.data.jpa.repository.query.ParameterBinder.bindAndPrepare(ParameterBinder.java:96)\n    at org.springframework.data.jpa.repository.query.AbstractStringBasedJpaQuery.doCreateQuery(AbstractStringBasedJpaQuery.java:99)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.createQuery(AbstractJpaQuery.java:233)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution$PagedExecution.doExecute(JpaQueryExecution.java:177)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:156)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:144)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:160)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n</code></pre>\n"},{"tags":["java","inheritance","constructor","extends"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1679480940,"post_id":75810967,"comment_id":133728371,"body_markdown":"Just use the keyword super instead of card. Like: super(num,c_name,b_name); This way the constructor of the super aka base aka parent class will be called.","body":"Just use the keyword super instead of card. Like: super(num,c_name,b_name); This way the constructor of the super aka base aka parent class will be called."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1679481108,"post_id":75810967,"comment_id":133728417,"body_markdown":"BTW: please check on the net Java naming conventions. Like: 1. class name should be first letter uppercase 2. use camelCase instead of _","body":"BTW: please check on the net Java naming conventions. Like: 1. class name should be first letter uppercase 2. use camelCase instead of _"}],"answers":[{"tags":[],"owner":{"account_id":8361573,"reputation":573,"user_id":6279677,"display_name":"Suchandra T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679481013,"creation_date":1679481013,"answer_id":75811080,"question_id":75810967,"body_markdown":"Please change your method to the code below:\r\n\r\n    public creditcard(int num, String c_name, String b_name, int lim) {\r\n    super(num, c_name, b_name);\r\n    limit = lim;\r\n    }\r\n\r\nsuper more about super keyword here:\r\nhttps://docs.oracle.com/javase/tutorial/java/IandI/super.html\r\n\r\nHope this helps.","title":"How to access superclass data members in java to create constructor in child class?","body":"<p>Please change your method to the code below:</p>\n<pre><code>public creditcard(int num, String c_name, String b_name, int lim) {\nsuper(num, c_name, b_name);\nlimit = lim;\n}\n</code></pre>\n<p>super more about super keyword here:\n<a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/super.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/IandI/super.html</a></p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":27892097,"reputation":15,"user_id":21298248,"display_name":"Shreya Saini"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75811080,"answer_count":1,"score":0,"last_activity_date":1679481013,"creation_date":1679480427,"question_id":75810967,"body_markdown":"I am trying to create a constructor in a subclass which can take the values of data members of its superclass. but I don&#39;t know what is wrong here. \r\nerror is saying that &#39;method card is undefined for the type creditcard&#39;\r\n\r\n```\r\nclass card{\r\n    int cardno;\r\n    String cust_name;\r\n    String bank_name;\r\n    public card(int num,String c_name,String b_name)\r\n    {\r\n\t   cardno=num;\r\n\t   cust_name=c_name;\r\n\t   bank_name=b_name;\r\n    }\r\n    card(){}\r\n}\r\n\r\nclass creditcard extends card{\r\n    int limit;\r\n    public creditcard(int num,String c_name,String b_name,int lim)\r\n    {\r\n\t    card(num,c_name,b_name);\r\n\t    limit=lim;\r\n    }\r\n}\r\n```","title":"How to access superclass data members in java to create constructor in child class?","body":"<p>I am trying to create a constructor in a subclass which can take the values of data members of its superclass. but I don't know what is wrong here.\nerror is saying that 'method card is undefined for the type creditcard'</p>\n<pre><code>class card{\n    int cardno;\n    String cust_name;\n    String bank_name;\n    public card(int num,String c_name,String b_name)\n    {\n       cardno=num;\n       cust_name=c_name;\n       bank_name=b_name;\n    }\n    card(){}\n}\n\nclass creditcard extends card{\n    int limit;\n    public creditcard(int num,String c_name,String b_name,int lim)\n    {\n        card(num,c_name,b_name);\n        limit=lim;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring"],"owner":{"account_id":26461836,"reputation":1,"user_id":20103643,"display_name":"SNap97"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679480995,"creation_date":1679480857,"question_id":75811042,"body_markdown":"I have a service which validates some xml files and then saves them to zip. The problem is that in order to zip these xml files, tmp files such as `AppData\\Local\\Temp\\tomcat.8080.7610511639794689430\\work\\Tomcat\\localhost\\ROOT\\upload_7f935fa3_28b5_455e_ad04_5959dedce7d9_00000002.tmp` are used. But these are deleted after service ends. But i have another thread where I actually validate and zip files but these tmp files cant be accessed because they already have been deleted.\r\n\r\n\r\n\r\n\r\nController:\r\n\r\n```\r\n@RestController\r\npublic class ImportController implements ImportApi, IException {\r\n\r\n//...\r\n\r\n@Override\r\n    public ResponseEntity&lt;ImportOutput&gt; importDataEntryFile(Long id, DataEntryEntityTypeEnum dataEntryEntityTypeEnum, List&lt;MultipartFile&gt; files) {\r\n\r\n\r\n        String timestampString = new SimpleDateFormat(&quot;MM-dd-yyyy_HH-mm-ss&quot;).format(new Timestamp(System.currentTimeMillis()));\r\n        String zipFilePathName = zipTmpPath + zipFilePath + timestampString + zipFilePathExtension;\r\n        \r\n        //some code ...\r\n\r\n        List&lt;MultipartFile&gt; finalFiles = new ArrayList&lt;&gt;();\r\n\r\n        Thread thread = new Thread(() -&gt; {\r\n            try {\r\n\r\n                //validation here\r\n                for (MultipartFile multipartFile : finalFilesNotValidated) {\r\n                    if (!xsdValidatorService.validateXml(multipartFile, dataEntryEntityTypeEnum)) {\r\n                        importLogService.saveLog(Collections.singletonList(multipartFile.getOriginalFilename()),\r\n                                                 id, dataEntryEntityTypeEnum, ImportStateEnum.NOT_VALID, &quot;&quot;);\r\n                    }\r\n                    finalFiles.add(multipartFile);\r\n                }\r\n\r\n\r\n                File file = importService.zipFiles(finalFiles, zipFilePathName);\r\n               \r\n                //some other code\r\n                //...\r\n\r\n            } catch (Exception e) {\r\n                log.error(INTERNAL_SERVER_ERROR, e);\r\n            } finally {  file\r\n               //delete zips\r\n               //...\r\n            }\r\n        });\r\n        thread.start();\r\n\r\n        return new ResponseEntity&lt;&gt;(importService.getOutputResponseEntity(allFilesCount, allAcceptedFilesCount), HttpStatus.OK);\r\n    }\r\n}\r\n```\r\n\r\nService: \r\n\r\n```\r\n@Service\r\npublic class ImportService {\r\n\r\n    //...\r\n\r\n    public File zipFiles(List&lt;MultipartFile&gt; files, String zipFilePath) {\r\n        try {\r\n\r\n            FileOutputStream fos = new FileOutputStream(zipFilePath);\r\n            ZipOutputStream zos = new ZipOutputStream(fos);\r\n\r\n            for (MultipartFile multipartFile : files) {\r\n\r\n                String fileName = multipartFile.getOriginalFilename();\r\n\r\n                ZipEntry zipEntry = new ZipEntry(fileName + &quot;.xml&quot;);\r\n                zos.putNextEntry(zipEntry);\r\n                zos.write(multipartFile.getBytes(), 0, (int) multipartFile.getSize());\r\n\r\n            }\r\n\r\n            zos.close();\r\n            fos.close();\r\n            return new File(zipFilePath);\r\n\r\n        } catch (Exception ex) {\r\n            throw new CommonException(HttpStatus.INTERNAL_SERVER_ERROR, ERROR_ZIP_FILES, ex);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nError:\r\noccures while `zos.write(multipartFile.getBytes(), 0, (int) multipartFile.getSize());`\r\n\r\n\r\n```\r\nCaused by: java.nio.file.NoSuchFileException: C:\\Users\\My-PC\\AppData\\Local\\Temp\\tomcat.8080.7610511639794689430\\work\\Tomcat\\localhost\\ROOT\\upload_7f935fa3_28b5_455e_ad04_5959dedce7d9_00000002.tmp\r\n\tat java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:85) ~[na:na]\r\n\tat java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103) ~[na:na]\r\n\tat java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:108) ~[na:na]\r\n\tat java.base/sun.nio.fs.WindowsFileSystemProvider.newByteChannel(WindowsFileSystemProvider.java:236) ~[na:na]\r\n\tat java.base/java.nio.file.Files.newByteChannel(Files.java:380) ~[na:na]\r\n\tat java.base/java.nio.file.Files.newByteChannel(Files.java:432) ~[na:na]\r\n\tat java.base/java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:422) ~[na:na]\r\n\tat java.base/java.nio.file.Files.newInputStream(Files.java:160) ~[na:na]\r\n\tat org.apache.tomcat.util.http.fileupload.disk.DiskFileItem.getInputStream(DiskFileItem.java:196) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.ApplicationPart.getInputStream(ApplicationPart.java:100) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile.getBytes(StandardMultipartHttpServletRequest.java:246) ~[spring-web-5.3.12.jar:5.3.12]\r\n\tat sk.uprekaps.common.bo.service.ImportService.zipFiles(ImportService.java:63) ~[classes/:na]\r\n\t... 2 common frames omitted\r\n```\r\n","title":".tmp files are deleted while other thread is running","body":"<p>I have a service which validates some xml files and then saves them to zip. The problem is that in order to zip these xml files, tmp files such as <code>AppData\\Local\\Temp\\tomcat.8080.7610511639794689430\\work\\Tomcat\\localhost\\ROOT\\upload_7f935fa3_28b5_455e_ad04_5959dedce7d9_00000002.tmp</code> are used. But these are deleted after service ends. But i have another thread where I actually validate and zip files but these tmp files cant be accessed because they already have been deleted.</p>\n<p>Controller:</p>\n<pre><code>@RestController\npublic class ImportController implements ImportApi, IException {\n\n//...\n\n@Override\n    public ResponseEntity&lt;ImportOutput&gt; importDataEntryFile(Long id, DataEntryEntityTypeEnum dataEntryEntityTypeEnum, List&lt;MultipartFile&gt; files) {\n\n\n        String timestampString = new SimpleDateFormat(&quot;MM-dd-yyyy_HH-mm-ss&quot;).format(new Timestamp(System.currentTimeMillis()));\n        String zipFilePathName = zipTmpPath + zipFilePath + timestampString + zipFilePathExtension;\n        \n        //some code ...\n\n        List&lt;MultipartFile&gt; finalFiles = new ArrayList&lt;&gt;();\n\n        Thread thread = new Thread(() -&gt; {\n            try {\n\n                //validation here\n                for (MultipartFile multipartFile : finalFilesNotValidated) {\n                    if (!xsdValidatorService.validateXml(multipartFile, dataEntryEntityTypeEnum)) {\n                        importLogService.saveLog(Collections.singletonList(multipartFile.getOriginalFilename()),\n                                                 id, dataEntryEntityTypeEnum, ImportStateEnum.NOT_VALID, &quot;&quot;);\n                    }\n                    finalFiles.add(multipartFile);\n                }\n\n\n                File file = importService.zipFiles(finalFiles, zipFilePathName);\n               \n                //some other code\n                //...\n\n            } catch (Exception e) {\n                log.error(INTERNAL_SERVER_ERROR, e);\n            } finally {  file\n               //delete zips\n               //...\n            }\n        });\n        thread.start();\n\n        return new ResponseEntity&lt;&gt;(importService.getOutputResponseEntity(allFilesCount, allAcceptedFilesCount), HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>Service:</p>\n<pre><code>@Service\npublic class ImportService {\n\n    //...\n\n    public File zipFiles(List&lt;MultipartFile&gt; files, String zipFilePath) {\n        try {\n\n            FileOutputStream fos = new FileOutputStream(zipFilePath);\n            ZipOutputStream zos = new ZipOutputStream(fos);\n\n            for (MultipartFile multipartFile : files) {\n\n                String fileName = multipartFile.getOriginalFilename();\n\n                ZipEntry zipEntry = new ZipEntry(fileName + &quot;.xml&quot;);\n                zos.putNextEntry(zipEntry);\n                zos.write(multipartFile.getBytes(), 0, (int) multipartFile.getSize());\n\n            }\n\n            zos.close();\n            fos.close();\n            return new File(zipFilePath);\n\n        } catch (Exception ex) {\n            throw new CommonException(HttpStatus.INTERNAL_SERVER_ERROR, ERROR_ZIP_FILES, ex);\n        }\n    }\n}\n</code></pre>\n<p>Error:\noccures while <code>zos.write(multipartFile.getBytes(), 0, (int) multipartFile.getSize());</code></p>\n<pre><code>Caused by: java.nio.file.NoSuchFileException: C:\\Users\\My-PC\\AppData\\Local\\Temp\\tomcat.8080.7610511639794689430\\work\\Tomcat\\localhost\\ROOT\\upload_7f935fa3_28b5_455e_ad04_5959dedce7d9_00000002.tmp\n    at java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:85) ~[na:na]\n    at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103) ~[na:na]\n    at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:108) ~[na:na]\n    at java.base/sun.nio.fs.WindowsFileSystemProvider.newByteChannel(WindowsFileSystemProvider.java:236) ~[na:na]\n    at java.base/java.nio.file.Files.newByteChannel(Files.java:380) ~[na:na]\n    at java.base/java.nio.file.Files.newByteChannel(Files.java:432) ~[na:na]\n    at java.base/java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:422) ~[na:na]\n    at java.base/java.nio.file.Files.newInputStream(Files.java:160) ~[na:na]\n    at org.apache.tomcat.util.http.fileupload.disk.DiskFileItem.getInputStream(DiskFileItem.java:196) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationPart.getInputStream(ApplicationPart.java:100) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile.getBytes(StandardMultipartHttpServletRequest.java:246) ~[spring-web-5.3.12.jar:5.3.12]\n    at sk.uprekaps.common.bo.service.ImportService.zipFiles(ImportService.java:63) ~[classes/:na]\n    ... 2 common frames omitted\n</code></pre>\n"},{"tags":["java","saml","onelogin"],"answers":[{"tags":[],"owner":{"account_id":25674978,"reputation":1,"user_id":19438582,"display_name":"Lucien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656452992,"creation_date":1656452992,"answer_id":72793515,"question_id":72793195,"body_markdown":"It&#39;s not in the config file !\r\nThis is the parameter of the login method:\r\n\r\nAuth auth = new Auth(request, response);\r\nauth.login(&quot;https://host/rly.jsp&quot;);\r\n","title":"Where is RelayState parameter in OneLogin parameter?","body":"<p>It's not in the config file !\nThis is the parameter of the login method:</p>\n<p>Auth auth = new Auth(request, response);\nauth.login(&quot;https://host/rly.jsp&quot;);</p>\n"},{"tags":[],"owner":{"account_id":13626703,"reputation":49,"user_id":9829780,"display_name":"Umar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679480888,"creation_date":1679480888,"answer_id":75811048,"question_id":72793195,"body_markdown":"[OneLogin git repo-][1]\r\nYou will find **RelayState** Parameter in the configuration tab of OneLogin Administrator portal.\r\n\r\nOnce you initialise the Auth class, it will redirect it to mentioned jsp page.\r\n\r\n    Auth auth=new Auth(request,response);\r\n    auth.login(&quot;redirect_to_this_page.jsp&quot;);\r\n\r\n\r\n  [1]: https://github.com/SAML-Toolkits/java-saml#why-add-saml-support-to-my-software","title":"Where is RelayState parameter in OneLogin parameter?","body":"<p><a href=\"https://github.com/SAML-Toolkits/java-saml#why-add-saml-support-to-my-software\" rel=\"nofollow noreferrer\">OneLogin git repo-</a>\nYou will find <strong>RelayState</strong> Parameter in the configuration tab of OneLogin Administrator portal.</p>\n<p>Once you initialise the Auth class, it will redirect it to mentioned jsp page.</p>\n<pre><code>Auth auth=new Auth(request,response);\nauth.login(&quot;redirect_to_this_page.jsp&quot;);\n</code></pre>\n"}],"owner":{"account_id":25674978,"reputation":1,"user_id":19438582,"display_name":"Lucien"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679480888,"creation_date":1656450740,"question_id":72793195,"body_markdown":"My config is SP.\r\nThe &quot;*onelogin.saml.properties*&quot; file does not have the &quot;*RelayState*&quot; parameter !\r\nWhere is RelayState parameter ?\r\nis it possible to disable it or change it ?\r\n\r\n","title":"Where is RelayState parameter in OneLogin parameter?","body":"<p>My config is SP.\nThe &quot;<em>onelogin.saml.properties</em>&quot; file does not have the &quot;<em>RelayState</em>&quot; parameter !\nWhere is RelayState parameter ?\nis it possible to disable it or change it ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":18005173,"reputation":11696,"user_id":13086128,"display_name":"Goku - stands with Palestine"},"score":2,"creation_date":1679206962,"post_id":75780393,"comment_id":133677796,"body_markdown":"why did you tag so many languages?","body":"why did you tag so many languages?"},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":2,"creation_date":1679206969,"post_id":75780393,"comment_id":133677797,"body_markdown":"Don&#39;t spam tags with several languages","body":"Don&#39;t spam tags with several languages"},{"owner":{"account_id":473095,"reputation":85243,"user_id":882003,"accept_rate":78,"display_name":"john"},"score":0,"creation_date":1679207014,"post_id":75780393,"comment_id":133677801,"body_markdown":"You can turn any loop into recursion. So solve it with a loop first.","body":"You can turn any loop into recursion. So solve it with a loop first."},{"owner":{"account_id":13181231,"reputation":626,"user_id":9520525,"display_name":"Levan"},"score":0,"creation_date":1679207080,"post_id":75780393,"comment_id":133677804,"body_markdown":"Solve it with a loop first, and then try to make the recursion by thinking what happens in the loop for which it breaks. Also, you don&#39;t need to spam tag several languages.","body":"Solve it with a loop first, and then try to make the recursion by thinking what happens in the loop for which it breaks. Also, you don&#39;t need to spam tag several languages."},{"owner":{"account_id":8423,"reputation":735986,"user_id":15168,"accept_rate":100,"display_name":"Jonathan Leffler"},"score":1,"creation_date":1679207088,"post_id":75780393,"comment_id":133677805,"body_markdown":"Is recursion a good way of solving this?  Or is it just a requirement for your homework?  The square root of the number gets you close to what the answer might be.","body":"Is recursion a good way of solving this?  Or is it just a requirement for your homework?  The square root of the number gets you close to what the answer might be."},{"owner":{"account_id":25808947,"reputation":1,"user_id":19550063,"display_name":"Aditya Singh"},"score":0,"creation_date":1679207136,"post_id":75780393,"comment_id":133677808,"body_markdown":"@john i have solved it with a loop i&#39;m a high school student so just cant think of a recursive way to do it","body":"@john i have solved it with a loop i&#39;m a high school student so just cant think of a recursive way to do it"},{"owner":{"account_id":25808947,"reputation":1,"user_id":19550063,"display_name":"Aditya Singh"},"score":0,"creation_date":1679207208,"post_id":75780393,"comment_id":133677816,"body_markdown":"@JonathanLeffler Yeah actually it a requirement in this question","body":"@JonathanLeffler Yeah actually it a requirement in this question"},{"owner":{"account_id":473095,"reputation":85243,"user_id":882003,"accept_rate":78,"display_name":"john"},"score":0,"creation_date":1679207233,"post_id":75780393,"comment_id":133677819,"body_markdown":"@AdityaSingh Going around a loop is just like a recursive call. Give me a second and I&#39;ll post an answer.","body":"@AdityaSingh Going around a loop is just like a recursive call. Give me a second and I&#39;ll post an answer."},{"owner":{"account_id":196869,"reputation":402535,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"score":0,"creation_date":1679207291,"post_id":75780393,"comment_id":133677823,"body_markdown":"Just like a loop, recursion must have a condition where it ends. Your recursion doesn&#39;t have such a condition.","body":"Just like a loop, recursion must have a condition where it ends. Your recursion doesn&#39;t have such a condition."},{"owner":{"account_id":25808947,"reputation":1,"user_id":19550063,"display_name":"Aditya Singh"},"score":0,"creation_date":1679207413,"post_id":75780393,"comment_id":133677837,"body_markdown":"@Someprogrammerdude the condition here should be that it runs until i&lt;n but thats not the problem part mate","body":"@Someprogrammerdude the condition here should be that it runs until i&lt;n but thats not the problem part mate"},{"owner":{"account_id":1519336,"reputation":1656,"user_id":2057969,"display_name":"Lover of Structure"},"score":0,"creation_date":1679207419,"post_id":75780393,"comment_id":133677838,"body_markdown":"Actually, you can just solve the quadratic equation `c = n^2 + n`. The solution is `n = sqrt(c + 1/4) - 1/2`.","body":"Actually, you can just solve the quadratic equation <code>c = n^2 + n</code>. The solution is <code>n = sqrt(c + 1&#47;4) - 1&#47;2</code>."},{"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"score":0,"creation_date":1679207498,"post_id":75780393,"comment_id":133677844,"body_markdown":"That code isn&#39;t valid in any of the languages the question is tagged with.","body":"That code isn&#39;t valid in any of the languages the question is tagged with."},{"owner":{"account_id":8423,"reputation":735986,"user_id":15168,"accept_rate":100,"display_name":"Jonathan Leffler"},"score":1,"creation_date":1679207538,"post_id":75780393,"comment_id":133677848,"body_markdown":"In C: `bool check(int value, int guess) { int pronic = guess * (guess + 1); if (pronic == value) return true; else if (pronic &gt; value) return false; else return check(value, guess + 1); }` — called as `bool result = check(12, 1);`.  The code doesn&#39;t take care to avoid integer overflow — it probably doesn&#39;t need to for your homework, but would if you were writing general-purpose code.  (Warning: untested code — this is only a comment, not an answer!)","body":"In C: <code>bool check(int value, int guess) { int pronic = guess * (guess + 1); if (pronic == value) return true; else if (pronic &gt; value) return false; else return check(value, guess + 1); }</code> — called as <code>bool result = check(12, 1);</code>.  The code doesn&#39;t take care to avoid integer overflow — it probably doesn&#39;t need to for your homework, but would if you were writing general-purpose code.  (Warning: untested code — this is only a comment, not an answer!)"},{"owner":{"account_id":1519336,"reputation":1656,"user_id":2057969,"display_name":"Lover of Structure"},"score":0,"creation_date":1679207572,"post_id":75780393,"comment_id":133677853,"body_markdown":"@ndc85430 I&#39;m obviously giving a mathematical formula.","body":"@ndc85430 I&#39;m obviously giving a mathematical formula."},{"owner":{"account_id":196869,"reputation":402535,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"score":0,"creation_date":1679207605,"post_id":75780393,"comment_id":133677855,"body_markdown":"The condition to end the recursion includes a recursive call. So to know if you should end the condition you must do a recursive call, which must do a recursive call, which must do... And so on in infinity (or the stack runs out). Is there a value of `v` that should end the loop? Then use that. Or perhaps you should rethink the logic so you start with a high value of `v` and then count *down* until `v` becomes zero or negative? Try that in a loop first. Perhaps you need another argument to the function (to be honest both `n` and `i` should probably be arguments)?","body":"The condition to end the recursion includes a recursive call. So to know if you should end the condition you must do a recursive call, which must do a recursive call, which must do... And so on in infinity (or the stack runs out). Is there a value of <code>v</code> that should end the loop? Then use that. Or perhaps you should rethink the logic so you start with a high value of <code>v</code> and then count <i>down</i> until <code>v</code> becomes zero or negative? Try that in a loop first. Perhaps you need another argument to the function (to be honest both <code>n</code> and <code>i</code> should probably be arguments)?"},{"owner":{"account_id":196869,"reputation":402535,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"score":0,"creation_date":1679207712,"post_id":75780393,"comment_id":133677868,"body_markdown":"Oh wait a minute... What is the argument `v` even used for? The function never uses it. Perhaps it *should* use the argument variable `v` somewhere?","body":"Oh wait a minute... What is the argument <code>v</code> even used for? The function never uses it. Perhaps it <i>should</i> use the argument variable <code>v</code> somewhere?"},{"owner":{"account_id":5524527,"reputation":42811,"user_id":4386427,"accept_rate":100,"display_name":"Support Ukraine"},"score":0,"creation_date":1679208800,"post_id":75780393,"comment_id":133677954,"body_markdown":"`int foo(int target, int cur, int value) {if (target == value) return 1; if (target &lt; value) return -1; foo(target, cur+1, value + 2 * cur); }` and `int bar(int target) {return foo(target, 2, 2); }`","body":"<code>int foo(int target, int cur, int value) {if (target == value) return 1; if (target &lt; value) return -1; foo(target, cur+1, value + 2 * cur); }</code> and <code>int bar(int target) {return foo(target, 2, 2); }</code>"},{"owner":{"account_id":1519336,"reputation":1656,"user_id":2057969,"display_name":"Lover of Structure"},"score":0,"creation_date":1679209847,"post_id":75780393,"comment_id":133678044,"body_markdown":"@AdityaSingh I recommend readding the tag `c++` simply because the only answer to this question is written in C++.","body":"@AdityaSingh I recommend readding the tag <code>c++</code> simply because the only answer to this question is written in C++."},{"owner":{"account_id":5524527,"reputation":42811,"user_id":4386427,"accept_rate":100,"display_name":"Support Ukraine"},"score":0,"creation_date":1679209964,"post_id":75780393,"comment_id":133678051,"body_markdown":"Hint: Use that `X[n + 1] = X[n] + 2 * n` and `X[2] = 2` It&#39;s fast and easy.","body":"Hint: Use that <code>X[n + 1] = X[n] + 2 * n</code> and <code>X[2] = 2</code> It&#39;s fast and easy."},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1679222059,"post_id":75780393,"comment_id":133679354,"body_markdown":"Why did you include a second language tag *again*? Don&#39;t do that, choose one language.","body":"Why did you include a second language tag <i>again</i>? Don&#39;t do that, choose one language."}],"answers":[{"tags":[],"owner":{"account_id":473095,"reputation":85243,"user_id":882003,"accept_rate":78,"display_name":"john"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679208427,"creation_date":1679207509,"answer_id":75780421,"question_id":75780393,"body_markdown":"Here&#39;s some code. `check` is a conventional solution using a loop. `check2` is the same code turned into a recursive function. Notice how recursively calling `check2` is like going around the loop again in `check`. This kind of recursion is called *tail recursion*.\r\n\r\nI&#39;m assuming efficiency is not a requirement here. There are some useful suggestions for improvements in the comments below. But the main point is to illustrate that loops and recursion are just alternative ways of doing the same thing.\r\n\r\n    #include &lt;iostream&gt;\r\n    \r\n    bool check(int n)\r\n    {\r\n    \tint i = 0;\r\n    \twhile (i &lt; n)\r\n    \t{\r\n    \t\tif (i*(i+1) == n)\r\n    \t\t\treturn true;\r\n            ++i;\r\n    \t}\r\n    \treturn false;\r\n    }\r\n    \r\n    bool check2(int n, int i)\r\n    {\r\n    \tif (i == n)\r\n    \t\treturn false;\r\n    \telse if (i*(i+1) == n)\r\n    \t\treturn true;\r\n    \telse\r\n    \t\treturn check2(n,i+1);\r\n    }\r\n    \r\n    int main()\r\n    {\r\n    \tint n;\r\n    \tstd::cin &gt;&gt; n;\r\n    \tstd::cout &lt;&lt; check2(n, 0) &lt;&lt; std::endl;\r\n    }\r\n\r\n","title":"Check whether a given number is pronic (product of two consecutive integers) using RECURSION. e.g. 12=3*4","body":"<p>Here's some code. <code>check</code> is a conventional solution using a loop. <code>check2</code> is the same code turned into a recursive function. Notice how recursively calling <code>check2</code> is like going around the loop again in <code>check</code>. This kind of recursion is called <em>tail recursion</em>.</p>\n<p>I'm assuming efficiency is not a requirement here. There are some useful suggestions for improvements in the comments below. But the main point is to illustrate that loops and recursion are just alternative ways of doing the same thing.</p>\n<pre><code>#include &lt;iostream&gt;\n\nbool check(int n)\n{\n    int i = 0;\n    while (i &lt; n)\n    {\n        if (i*(i+1) == n)\n            return true;\n        ++i;\n    }\n    return false;\n}\n\nbool check2(int n, int i)\n{\n    if (i == n)\n        return false;\n    else if (i*(i+1) == n)\n        return true;\n    else\n        return check2(n,i+1);\n}\n\nint main()\n{\n    int n;\n    std::cin &gt;&gt; n;\n    std::cout &lt;&lt; check2(n, 0) &lt;&lt; std::endl;\n}\n</code></pre>\n"}],"owner":{"account_id":25808947,"reputation":1,"user_id":19550063,"display_name":"Aditya Singh"},"comment_count":20,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":494,"favorite_count":0,"down_vote_count":7,"up_vote_count":0,"answer_count":1,"score":-7,"last_activity_date":1679480785,"creation_date":1679206912,"question_id":75780393,"body_markdown":"I am trying to check whether a given number is pronic (the product of two consecutive integers), specifically in a recursive fashion.\r\n\r\nI tried the following, but don&#39;t understand how the recursion should look like:\r\n```java\r\nint i = 0;\r\n\r\nboolean check(int n) {\r\n    if (i &lt; n) {\r\n        if (i * check(i + 1) == n)\r\n            return true;\r\n        else\r\n            return false;\r\n    }\r\n}\r\n```\r\n","title":"Check whether a given number is pronic (product of two consecutive integers) using RECURSION. e.g. 12=3*4","body":"<p>I am trying to check whether a given number is pronic (the product of two consecutive integers), specifically in a recursive fashion.</p>\n<p>I tried the following, but don't understand how the recursion should look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int i = 0;\n\nboolean check(int n) {\n    if (i &lt; n) {\n        if (i * check(i + 1) == n)\n            return true;\n        else\n            return false;\n    }\n}\n</code></pre>\n"},{"tags":["java","jar"],"comments":[{"owner":{"account_id":219684,"reputation":37257,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":0,"creation_date":1449836571,"post_id":27424364,"comment_id":56190700,"body_markdown":"Possible duplicate of [Classpath including JAR within a JAR](http://stackoverflow.com/questions/183292/classpath-including-jar-within-a-jar)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/183292/classpath-including-jar-within-a-jar\">Classpath including JAR within a JAR</a>"}],"answers":[{"tags":[],"owner":{"account_id":219684,"reputation":37257,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1644007872,"creation_date":1449836759,"answer_id":34223555,"question_id":27424364,"body_markdown":"There&#39;s no way to do it.\r\nThe JVM does not look at the classpath to find the specified agent; it is expecting a file path, and you also cannot specify file paths inside jar files.\r\n\r\n[JDK-4648386][1] is the related feature request, and was closed Won&#39;t Fix after 18 years.\r\n\r\nHowever, what you can do is write code to copy the agent jar from a classpath resource to a temporary file, and then attach it to the current running JVM. The [ByteBuddy Agent][2] library provides tooling to do this.\r\n\r\n\r\n  [1]: http://bugs.java.com/bugdatabase/view_bug.do?bug_id=4648386\r\n  [2]: https://javadoc.io/static/net.bytebuddy/byte-buddy-agent/1.12.7/index.html?net/bytebuddy/agent/ByteBuddyAgent.html","title":"Specifying a javaagent within the jar file to be run","body":"<p>There's no way to do it.\nThe JVM does not look at the classpath to find the specified agent; it is expecting a file path, and you also cannot specify file paths inside jar files.</p>\n<p><a href=\"http://bugs.java.com/bugdatabase/view_bug.do?bug_id=4648386\" rel=\"nofollow noreferrer\">JDK-4648386</a> is the related feature request, and was closed Won't Fix after 18 years.</p>\n<p>However, what you can do is write code to copy the agent jar from a classpath resource to a temporary file, and then attach it to the current running JVM. The <a href=\"https://javadoc.io/static/net.bytebuddy/byte-buddy-agent/1.12.7/index.html?net/bytebuddy/agent/ByteBuddyAgent.html\" rel=\"nofollow noreferrer\">ByteBuddy Agent</a> library provides tooling to do this.</p>\n"},{"tags":[],"owner":{"account_id":209589,"reputation":97,"user_id":460705,"display_name":"Saber Chebka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679480757,"creation_date":1679480757,"answer_id":75811023,"question_id":27424364,"body_markdown":"Simply in your MANIFEST.MF, add this property:\r\nLauncher-Agent-Class: org.path.to.your.AgentClass","title":"Specifying a javaagent within the jar file to be run","body":"<p>Simply in your MANIFEST.MF, add this property:\nLauncher-Agent-Class: org.path.to.your.AgentClass</p>\n"}],"owner":{"account_id":959674,"reputation":1012,"user_id":984308,"accept_rate":69,"display_name":"Simbi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2336,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1679480757,"creation_date":1418305575,"question_id":27424364,"body_markdown":"I&#39;m developing an OpenJPA application (no webserver, regular java se app). In order to make OpenJPA work with my application, I need to set the openjpa-all-2.3.0.jar as a javaagent.\r\n\r\n    java -cp ... -javaagent:/full/path/to/openjpa-all-2.3.0.jar -jar app.jar\r\n\r\nAs I am **packaging the openjpa.jar within the app.jar** anyway, I am now wondering how it is possible to specify the javaagent, as a jar within my application jar file.\r\n\r\nThis didn&#39;t work\r\n\r\n    java -cp &quot;.;.\\app.jar&quot; -javaagent:openjpa-all-2.3.0.jar pckg.Main","title":"Specifying a javaagent within the jar file to be run","body":"<p>I'm developing an OpenJPA application (no webserver, regular java se app). In order to make OpenJPA work with my application, I need to set the openjpa-all-2.3.0.jar as a javaagent.</p>\n\n<pre><code>java -cp ... -javaagent:/full/path/to/openjpa-all-2.3.0.jar -jar app.jar\n</code></pre>\n\n<p>As I am <strong>packaging the openjpa.jar within the app.jar</strong> anyway, I am now wondering how it is possible to specify the javaagent, as a jar within my application jar file.</p>\n\n<p>This didn't work</p>\n\n<pre><code>java -cp \".;.\\app.jar\" -javaagent:openjpa-all-2.3.0.jar pckg.Main\n</code></pre>\n"},{"tags":["java","jdbc","java-8","prepared-statement","resultset"],"answers":[{"tags":[],"owner":{"account_id":2457081,"reputation":1393,"user_id":2142023,"accept_rate":68,"display_name":"DarkVision"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679459399,"creation_date":1679458725,"answer_id":75808416,"question_id":75808388,"body_markdown":"Here a little snippet code to help you if i understand correctly\r\n\r\nyou just need to create\r\n\r\n        // Create a List of PreparedStatements.\r\n    List&lt;PreparedStatement&gt; preparedStatements = new ArrayList&lt;&gt;();\r\n    \r\n    // Create your PreparedStatements and add them to the list.\r\n    PreparedStatement ps1 = //your query 1\r\n    preparedStatements.add(ps1); //add to the list\r\n    \r\n    PreparedStatement ps2 = //your query 2\r\n  \r\n    preparedStatements.add(ps2); //add to the list\r\n    \r\n    // Execute the batch.\r\n    for (PreparedStatement ps : preparedStatements) {\r\n        ps.addBatch();\r\n        \r\n    }\r\n\r\n    preparedStatements.get(0).executeBatch();\r\n   \r\n    // then close connection for each statement\r\n    for (PreparedStatement ps : preparedStatements) {\r\n        ps.close();\r\n    }","title":"How to convert list of PreparedStatements to addbatch and execute at once","body":"<p>Here a little snippet code to help you if i understand correctly</p>\n<p>you just need to create</p>\n<pre><code>    // Create a List of PreparedStatements.\nList&lt;PreparedStatement&gt; preparedStatements = new ArrayList&lt;&gt;();\n\n// Create your PreparedStatements and add them to the list.\nPreparedStatement ps1 = //your query 1\npreparedStatements.add(ps1); //add to the list\n\nPreparedStatement ps2 = //your query 2\n\npreparedStatements.add(ps2); //add to the list\n\n// Execute the batch.\nfor (PreparedStatement ps : preparedStatements) {\n    ps.addBatch();\n    \n}\n\npreparedStatements.get(0).executeBatch();\n\n// then close connection for each statement\nfor (PreparedStatement ps : preparedStatements) {\n    ps.close();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6169361,"reputation":20329,"user_id":4808122,"accept_rate":89,"display_name":"Marmite Bomber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679480633,"creation_date":1679480633,"answer_id":75811010,"question_id":75808388,"body_markdown":"You must first realize how *JDBC batch insert* works with a *static* tables **than** you may add the *extension* for dynamic varying of the table name and the column list.\r\n\r\nNote that a *batch insert* has no *list of `prepareStatement`* only one `prepareStatement` is used.\r\n\r\n**Example**\r\n\r\n(pseudocode)\r\n\r\n    String SEL_STMT = &quot;select id, col1,col2 from tab1&quot;\r\n    String INS_STMT = &quot;insert into tab2(id, col1,col2) values(?,?,?)&quot;\r\n     \r\n    def batchSize = 1000\r\n    \r\n    def stmt = con.prepareStatement(SEL_STMT)\r\n    \r\n    def stmtIns = con2.prepareStatement(INS_STMT) \r\n    \r\n     \r\n    \r\n     def i = 0\r\n     rs = stmt.executeQuery()\r\n     \r\n     while(rs.next())\r\n      {\r\n        stmtIns.setLong(1,rs.getLong(1))\r\n        stmtIns.setString(2,rs.getString(2))\r\n        stmtIns.setTimestamp(3,rs.getTimestamp(3))\r\n        stmtIns.addBatch();\r\n        i += 1\r\n         \r\n        if (i == batchSize) {\r\n            def insRec = stmtIns.executeBatch();\r\n            i = 0\r\n            }\r\n         \r\n      }\r\n     rs.close()\r\n     stmt.close()\r\n    \r\n    // process the last batch\r\n    def insRec = stmtIns.executeBatch();\r\n    \r\n    stmtIns.close()\r\n    con2.commit()\r\n\r\nYou are reading in a loop the *cursor* date, copy each column value in the `insert` statement (with getXXX and setXXX) and add it to the batch (`addBatch`).\r\n\r\nWhen the batch size is reached you call `executeBatch`  - this will perform *one* roundtrip to the Db and inster teh whole batch of records.\r\n\r\nAt the end of the loop you must process the last remaing rows (e.g. with batch size = 10 and 104 rows the last 4 rows).\r\n\r\n**Dynamics**\r\n\r\nNow, when this is clear you may approach the dynamic aspect of the table names and columns list.\r\n\r\nThe string `INS_STMT` is created based in the metadata of the cursor.\r\n\r\nThe part `stmtIns.setLong(1,rs.getLong(1))` is performed in a loop for each column  using `set/getObject`","title":"How to convert list of PreparedStatements to addbatch and execute at once","body":"<p>You must first realize how <em>JDBC batch insert</em> works with a <em>static</em> tables <strong>than</strong> you may add the <em>extension</em> for dynamic varying of the table name and the column list.</p>\n<p>Note that a <em>batch insert</em> has no <em>list of <code>prepareStatement</code></em> only one <code>prepareStatement</code> is used.</p>\n<p><strong>Example</strong></p>\n<p>(pseudocode)</p>\n<pre><code>String SEL_STMT = &quot;select id, col1,col2 from tab1&quot;\nString INS_STMT = &quot;insert into tab2(id, col1,col2) values(?,?,?)&quot;\n \ndef batchSize = 1000\n\ndef stmt = con.prepareStatement(SEL_STMT)\n\ndef stmtIns = con2.prepareStatement(INS_STMT) \n\n \n\n def i = 0\n rs = stmt.executeQuery()\n \n while(rs.next())\n  {\n    stmtIns.setLong(1,rs.getLong(1))\n    stmtIns.setString(2,rs.getString(2))\n    stmtIns.setTimestamp(3,rs.getTimestamp(3))\n    stmtIns.addBatch();\n    i += 1\n     \n    if (i == batchSize) {\n        def insRec = stmtIns.executeBatch();\n        i = 0\n        }\n     \n  }\n rs.close()\n stmt.close()\n\n// process the last batch\ndef insRec = stmtIns.executeBatch();\n\nstmtIns.close()\ncon2.commit()\n</code></pre>\n<p>You are reading in a loop the <em>cursor</em> date, copy each column value in the <code>insert</code> statement (with getXXX and setXXX) and add it to the batch (<code>addBatch</code>).</p>\n<p>When the batch size is reached you call <code>executeBatch</code>  - this will perform <em>one</em> roundtrip to the Db and inster teh whole batch of records.</p>\n<p>At the end of the loop you must process the last remaing rows (e.g. with batch size = 10 and 104 rows the last 4 rows).</p>\n<p><strong>Dynamics</strong></p>\n<p>Now, when this is clear you may approach the dynamic aspect of the table names and columns list.</p>\n<p>The string <code>INS_STMT</code> is created based in the metadata of the cursor.</p>\n<p>The part <code>stmtIns.setLong(1,rs.getLong(1))</code> is performed in a loop for each column  using <code>set/getObject</code></p>\n"}],"owner":{"account_id":26700454,"reputation":19,"user_id":20307598,"display_name":"Balakirethiga R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679480633,"creation_date":1679458214,"question_id":75808388,"body_markdown":"I have an Insert query where the values are changing dynamically but the table remains the same. I am trying to set the values for those fields using getObject setObject. Once setted when i tried to use addBatch(). The thing is since the preparedStatement Query is varying dynamically for each time and so the previously added data into the batch is not maintaining and only the last record is getting updated into the DB. I also tried committing each time, but thats taking long time if suppose large number of data is been there. So i tried adding all the preparedStatements into a List&lt;PreparedStatement&gt; but i don&#39;t know how to add these list into a Batch and execute them all at once also I need to collect the record whichever is failing while executing.\r\n\r\n    rs = first.executeQuery() /// this query willl fetch data from one table that need to be inserted into another DB\r\n    List&lt;String&gt; columns = new ArrayList&lt;&gt;();\r\n    ResultSetMetaData metadata = rs.getMetaData() // getting metadata of the resultset\r\n    String tablename = metadata.getTableName(1);\r\n    List&lt;PreparedStatemnt&gt; list = new ArrayList&lt;&gt;();\r\n    while(rs.next()){\r\n    for(int i=0;i&lt;= metadata.getColumnCount();i++)\r\n    columns.add(metadata.getColumnName(i));\r\n    String Query = &quot;Insert into &quot; + tablename + &quot;(&quot; + columns.stream().collect(Collectors.joining(&quot;, &quot;) + &quot;) values (&quot; + columns.stream().map(c -&gt; &quot;?&quot;).collect(Collectors.joining(&quot;, &quot;)) +&quot;)&quot;;\r\n    \r\n    rs2 = second.prepareStatment(query);\r\n    for(int i=0;i&lt;column.size();i++) rs2.setObject(i, rs.getObject(columns.get(i-1)));\r\n    rs2.addBatch();  /// this does not maintain the batch history for each itertation and only holds the last.\r\n    list.add(rs2) //\r\n\r\nnot sure on how to execute batch on this list\r\ninserting after each query might me timeconsuming i guess. Kindly help me with an efficient work around.","title":"How to convert list of PreparedStatements to addbatch and execute at once","body":"<p>I have an Insert query where the values are changing dynamically but the table remains the same. I am trying to set the values for those fields using getObject setObject. Once setted when i tried to use addBatch(). The thing is since the preparedStatement Query is varying dynamically for each time and so the previously added data into the batch is not maintaining and only the last record is getting updated into the DB. I also tried committing each time, but thats taking long time if suppose large number of data is been there. So i tried adding all the preparedStatements into a List but i don't know how to add these list into a Batch and execute them all at once also I need to collect the record whichever is failing while executing.</p>\n<pre><code>rs = first.executeQuery() /// this query willl fetch data from one table that need to be inserted into another DB\nList&lt;String&gt; columns = new ArrayList&lt;&gt;();\nResultSetMetaData metadata = rs.getMetaData() // getting metadata of the resultset\nString tablename = metadata.getTableName(1);\nList&lt;PreparedStatemnt&gt; list = new ArrayList&lt;&gt;();\nwhile(rs.next()){\nfor(int i=0;i&lt;= metadata.getColumnCount();i++)\ncolumns.add(metadata.getColumnName(i));\nString Query = &quot;Insert into &quot; + tablename + &quot;(&quot; + columns.stream().collect(Collectors.joining(&quot;, &quot;) + &quot;) values (&quot; + columns.stream().map(c -&gt; &quot;?&quot;).collect(Collectors.joining(&quot;, &quot;)) +&quot;)&quot;;\n\nrs2 = second.prepareStatment(query);\nfor(int i=0;i&lt;column.size();i++) rs2.setObject(i, rs.getObject(columns.get(i-1)));\nrs2.addBatch();  /// this does not maintain the batch history for each itertation and only holds the last.\nlist.add(rs2) //\n</code></pre>\n<p>not sure on how to execute batch on this list\ninserting after each query might me timeconsuming i guess. Kindly help me with an efficient work around.</p>\n"},{"tags":["java","json","spring"],"owner":{"account_id":27048831,"reputation":1,"user_id":20602563,"display_name":"Bouchaib Souhail"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679480044,"creation_date":1679479585,"question_id":75810832,"body_markdown":"    I have two objects :\r\n    \r\n        public class User {\r\n            public int id;\r\n            public String name;\r\n           \t@JsonManagedReference\r\n            @OneToMany(mappedBy = &quot;Item&quot;)\r\n            public List&lt;Item&gt; items; }\r\n        \r\n        public class Item {\r\n            public int id;\r\n            public String itemName;\r\n          \t@JsonBackReference\r\n            @ManyToOne\r\n            public User owner; }\r\n    \r\nI want to serialize user object with items to json only when i want fetch user by id.\r\nI mean :\r\n- When i use repository.findAll() then serialize all users without items like this :\r\n      \r\n        {\r\n         &quot;id&quot;:1,\r\n         &quot;name&quot;:&quot;John&quot;\r\n        }\r\n    \r\n- When i use repository.findById(id) then serialize user with items like this :\r\n    \r\n        {\r\n         &quot;id&quot;:1,\r\n         &quot;name&quot;:&quot;John&quot;,\r\n         &quot;userItems&quot;:[{\r\n           &quot;id&quot;:2,\r\n           &quot;itemName&quot;:&quot;book&quot;}]\r\n        }","title":"Spring boot, serializing one-to-many relation in Json response","body":"<pre><code>I have two objects :\n\n    public class User {\n        public int id;\n        public String name;\n        @JsonManagedReference\n        @OneToMany(mappedBy = &quot;Item&quot;)\n        public List&lt;Item&gt; items; }\n    \n    public class Item {\n        public int id;\n        public String itemName;\n        @JsonBackReference\n        @ManyToOne\n        public User owner; }\n</code></pre>\n<p>I want to serialize user object with items to json only when i want fetch user by id.\nI mean :</p>\n<ul>\n<li><p>When i use repository.findAll() then serialize all users without items like this :</p>\n<pre><code>  {\n   &quot;id&quot;:1,\n   &quot;name&quot;:&quot;John&quot;\n  }\n</code></pre>\n</li>\n<li><p>When i use repository.findById(id) then serialize user with items like this :</p>\n<pre><code>  {\n   &quot;id&quot;:1,\n   &quot;name&quot;:&quot;John&quot;,\n   &quot;userItems&quot;:[{\n     &quot;id&quot;:2,\n     &quot;itemName&quot;:&quot;book&quot;}]\n  }\n</code></pre>\n</li>\n</ul>\n"},{"tags":["java","jgrapht"],"owner":{"account_id":1788336,"reputation":9155,"user_id":1629262,"accept_rate":77,"display_name":"doptimusprime"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679479890,"creation_date":1679479890,"question_id":75810885,"body_markdown":"In my code, I am using jgrapht library. It is working well for [DFS][1] and [Topological sort][2] with given iterators respectively.\r\n\r\nNow, I want to implement post order traversal for my use-case. I definitely have option to write a traversal code on my own using a start vertex. I just want to know if there is any other way to implement post order traversal? \r\n\r\n  [1]: https://jgrapht.org/javadoc/org.jgrapht.core/org/jgrapht/traverse/DepthFirstIterator.html\r\n  [2]: https://jgrapht.org/javadoc/org.jgrapht.core/org/jgrapht/traverse/TopologicalOrderIterator.html","title":"Post order traversal in jgrapht","body":"<p>In my code, I am using jgrapht library. It is working well for <a href=\"https://jgrapht.org/javadoc/org.jgrapht.core/org/jgrapht/traverse/DepthFirstIterator.html\" rel=\"nofollow noreferrer\">DFS</a> and <a href=\"https://jgrapht.org/javadoc/org.jgrapht.core/org/jgrapht/traverse/TopologicalOrderIterator.html\" rel=\"nofollow noreferrer\">Topological sort</a> with given iterators respectively.</p>\n<p>Now, I want to implement post order traversal for my use-case. I definitely have option to write a traversal code on my own using a start vertex. I just want to know if there is any other way to implement post order traversal?</p>\n"},{"tags":["java","eclipse","uninstallation","oomph","eclipse-installer"],"comments":[{"owner":{"account_id":482558,"reputation":29183,"user_id":897024,"accept_rate":100,"display_name":"kapex"},"score":2,"creation_date":1528969811,"post_id":50854359,"comment_id":88711769,"body_markdown":"Which installer did you use? I think last time I installed eclipse it didn&#39;t add any start menu entries","body":"Which installer did you use? I think last time I installed eclipse it didn&#39;t add any start menu entries"},{"owner":{"account_id":6842512,"reputation":295,"user_id":5262365,"display_name":"Halvra"},"score":2,"creation_date":1528970051,"post_id":50854359,"comment_id":88711915,"body_markdown":"@Kapep I think it&#39;s the eclipseinstaller (by Oomph) https://puu.sh/AF5F5/455cb8714e.png","body":"@Kapep I think it&#39;s the eclipseinstaller (by Oomph) <a href=\"https://puu.sh/AF5F5/455cb8714e.png\" rel=\"nofollow noreferrer\">puu.sh/AF5F5/455cb8714e.png</a>"},{"owner":{"account_id":482558,"reputation":29183,"user_id":897024,"accept_rate":100,"display_name":"kapex"},"score":0,"creation_date":1528972241,"post_id":50854359,"comment_id":88713292,"body_markdown":"@Halvra Ok, it seems the option to add shortcuts only exists in the simple mode, not in advanced mode","body":"@Halvra Ok, it seems the option to add shortcuts only exists in the simple mode, not in advanced mode"},{"owner":{"account_id":9021005,"reputation":4164,"user_id":6722100,"accept_rate":67,"display_name":"achAmh&#225;in"},"score":1,"creation_date":1528972817,"post_id":50854359,"comment_id":88713603,"body_markdown":"Right click the shortcut and select Properties then Target and it might give an indication of where it is stored on your system (Windows), and perhaps there&#39;s an uninstall exe or similar in that location.","body":"Right click the shortcut and select Properties then Target and it might give an indication of where it is stored on your system (Windows), and perhaps there&#39;s an uninstall exe or similar in that location."}],"answers":[{"tags":[],"owner":{"account_id":482558,"reputation":29183,"user_id":897024,"accept_rate":100,"display_name":"kapex"},"down_vote_count":1,"up_vote_count":131,"is_accepted":true,"score":130,"last_activity_date":1679479773,"creation_date":1528973454,"answer_id":50855742,"question_id":50854359,"body_markdown":"There is no automated uninstaller. \r\n\r\nYou have to remove Eclipse manually by deleting some directories and files. \r\n\r\n*Note: I use Unix style paths in this answer but the locations should be the same on Windows or Unix systems, so `~` refers to the user home directory even on Windows.*\r\n\r\n\r\nWhy is there no uninstaller?\r\n---\r\n\r\nAccording to this [discussion about uninstalling Eclipse][1], the reasoning for not providing an uninstaller is that the Eclipse installer is supposed to just automate a few tasks that in the past had to be done manually (like downloading and extracting Eclipse and adding shortcuts), so they also can be undone manually. On Windows there is no entry in &quot;Programs and Features&quot; because the installer does not register installations in the system registry.\r\n\r\n\r\nHow to to locate Eclipse installations\r\n---\r\n\r\nThe default installation path is in `~/eclipse/`. \r\n\r\nThe Eclipse installer also keeps track of installations. Launch the installer and then open the &quot;Bundle Pool&quot; dialog (in simple mode it&#39;s in the menu - in advanced mode it&#39;s a small button next to the bundle pool drop down) and click on &quot;Analyze Agent&quot;. You&#39;ll see list of *profiles*. Double click on a profile to see the path of the installation.\r\n\r\nYou could also search for files that contain &quot;eclipse&quot; in their name with any file search tool to locate installation folders. But be aware that Eclipse is a platform that other software can build upon, so there might be folders of Eclipse-based applications that look very much like Eclipse IDE installations but are actually software you might want to keep.\r\n\r\nHow to quickly uninstall Eclipse\r\n---\r\n\r\nIf you have installed Eclipse manually without the Eclipse installer, just delete the Eclipse directory and be done with it.\r\n\r\nIf you have installed Eclipse with the Eclipse installer, then delete the Eclipse directory and any desktop and start menu shortcuts. Then launch the Eclipse installer and open the &quot;Bundle Pool&quot; dialog and click on &quot;Cleanup Agent&quot; to remove unused bundles. This won&#39;t affect other Eclipse installations if you have any.\r\n\r\nIn my opinion this is generally enough and I would stop here\r\n\r\n\r\nHow to completely uninstall Eclipse\r\n---\r\n\r\nIf you really want to remove Eclipse without leaving any traces, you have to manually delete\r\n\r\n- all desktop and start menu shortcuts\r\n- all installation directories (e.g. `~/eclipse/photon/`)\r\n- the p2 bundle pool (which is often shared with other eclipse installations)\r\n\r\nThe installer has a &quot;Bundle Pools&quot; menu entry which lists the locations of all bundle pools. If you have other Eclipse installations on your system you can use the &quot;Cleanup Agent&quot; to remove unused bundles. If you don&#39;t have any other Eclipse installations you can delete the whole bundle pool directory instead (by default `~/p2/`).\r\n\r\nIf you want to completely remove the *Eclipse installer* too, delete the installer&#39;s executable and the `~/.eclipse/` directory.\r\n\r\nDepending on what kind of work you did with Eclipse, there can be more directories that you may want to delete. If you used Maven, then `~/.m2/` contains the Maven cache and settings (shared with Maven CLI and other IDEs). If you develop Eclipse plugins, then there might be JUnit workspaces from test runs, next to you Eclipse workspace. Likewise other build tools and development environments used in Eclipse could have created similar directories.\r\n\r\n\r\nHow to delete all projects\r\n---\r\n\r\nIf you want to delete your projects and workspace metadata, you have to delete your workspace(s). The default workspace location is &#180;~/workspace/&#180;. You can also [search for the `.metadata` directory to get all Eclipse workspaces on your machine][2].\r\n\r\nIf you are working with Git projects, these are generally not saved in the workspace but in the `~/git/` directory.\r\n\r\n\r\n\r\nAddendum: Windows Registry\r\n---\r\n\r\nEven though Eclipse isn&#39;t &quot;installed&quot; like a regular Windows application, there are still a few entries that get written to the system registry. If you search the Registry for &quot;eclipse&quot; you&#39;ll likely find  some entries for URL handlers named `eclipse+command`, `eclipse+mpc` or `eclipse+installer`. They are used e.g. for letting you install Eclipse plugins from the browser.\r\n\r\nOn my system I see a few other entries which I believe are created by Windows itself and not by Eclipse (e.g. entries in the list of recently used executables). Whether you want to delete those entries is up to you. Personally I wouldn&#39;t, but on the other hand it probably won&#39;t break anything if you do. Just be aware that registry &quot;cleaning&quot; is a controversial topic. \r\n\r\n  [1]: https://www.eclipse.org/forums/index.php/t/1079348/\r\n  [2]: https://stackoverflow.com/a/54948948/897024","title":"How to uninstall Eclipse?","body":"<p>There is no automated uninstaller.</p>\n<p>You have to remove Eclipse manually by deleting some directories and files.</p>\n<p><em>Note: I use Unix style paths in this answer but the locations should be the same on Windows or Unix systems, so <code>~</code> refers to the user home directory even on Windows.</em></p>\n<h2>Why is there no uninstaller?</h2>\n<p>According to this <a href=\"https://www.eclipse.org/forums/index.php/t/1079348/\" rel=\"noreferrer\">discussion about uninstalling Eclipse</a>, the reasoning for not providing an uninstaller is that the Eclipse installer is supposed to just automate a few tasks that in the past had to be done manually (like downloading and extracting Eclipse and adding shortcuts), so they also can be undone manually. On Windows there is no entry in &quot;Programs and Features&quot; because the installer does not register installations in the system registry.</p>\n<h2>How to to locate Eclipse installations</h2>\n<p>The default installation path is in <code>~/eclipse/</code>.</p>\n<p>The Eclipse installer also keeps track of installations. Launch the installer and then open the &quot;Bundle Pool&quot; dialog (in simple mode it's in the menu - in advanced mode it's a small button next to the bundle pool drop down) and click on &quot;Analyze Agent&quot;. You'll see list of <em>profiles</em>. Double click on a profile to see the path of the installation.</p>\n<p>You could also search for files that contain &quot;eclipse&quot; in their name with any file search tool to locate installation folders. But be aware that Eclipse is a platform that other software can build upon, so there might be folders of Eclipse-based applications that look very much like Eclipse IDE installations but are actually software you might want to keep.</p>\n<h2>How to quickly uninstall Eclipse</h2>\n<p>If you have installed Eclipse manually without the Eclipse installer, just delete the Eclipse directory and be done with it.</p>\n<p>If you have installed Eclipse with the Eclipse installer, then delete the Eclipse directory and any desktop and start menu shortcuts. Then launch the Eclipse installer and open the &quot;Bundle Pool&quot; dialog and click on &quot;Cleanup Agent&quot; to remove unused bundles. This won't affect other Eclipse installations if you have any.</p>\n<p>In my opinion this is generally enough and I would stop here</p>\n<h2>How to completely uninstall Eclipse</h2>\n<p>If you really want to remove Eclipse without leaving any traces, you have to manually delete</p>\n<ul>\n<li>all desktop and start menu shortcuts</li>\n<li>all installation directories (e.g. <code>~/eclipse/photon/</code>)</li>\n<li>the p2 bundle pool (which is often shared with other eclipse installations)</li>\n</ul>\n<p>The installer has a &quot;Bundle Pools&quot; menu entry which lists the locations of all bundle pools. If you have other Eclipse installations on your system you can use the &quot;Cleanup Agent&quot; to remove unused bundles. If you don't have any other Eclipse installations you can delete the whole bundle pool directory instead (by default <code>~/p2/</code>).</p>\n<p>If you want to completely remove the <em>Eclipse installer</em> too, delete the installer's executable and the <code>~/.eclipse/</code> directory.</p>\n<p>Depending on what kind of work you did with Eclipse, there can be more directories that you may want to delete. If you used Maven, then <code>~/.m2/</code> contains the Maven cache and settings (shared with Maven CLI and other IDEs). If you develop Eclipse plugins, then there might be JUnit workspaces from test runs, next to you Eclipse workspace. Likewise other build tools and development environments used in Eclipse could have created similar directories.</p>\n<h2>How to delete all projects</h2>\n<p>If you want to delete your projects and workspace metadata, you have to delete your workspace(s). The default workspace location is ´~/workspace/´. You can also <a href=\"https://stackoverflow.com/a/54948948/897024\">search for the <code>.metadata</code> directory to get all Eclipse workspaces on your machine</a>.</p>\n<p>If you are working with Git projects, these are generally not saved in the workspace but in the <code>~/git/</code> directory.</p>\n<h2>Addendum: Windows Registry</h2>\n<p>Even though Eclipse isn't &quot;installed&quot; like a regular Windows application, there are still a few entries that get written to the system registry. If you search the Registry for &quot;eclipse&quot; you'll likely find  some entries for URL handlers named <code>eclipse+command</code>, <code>eclipse+mpc</code> or <code>eclipse+installer</code>. They are used e.g. for letting you install Eclipse plugins from the browser.</p>\n<p>On my system I see a few other entries which I believe are created by Windows itself and not by Eclipse (e.g. entries in the list of recently used executables). Whether you want to delete those entries is up to you. Personally I wouldn't, but on the other hand it probably won't break anything if you do. Just be aware that registry &quot;cleaning&quot; is a controversial topic.</p>\n"},{"tags":[],"owner":{"account_id":6200084,"reputation":795,"user_id":4830204,"display_name":"Nafees Khabir"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1546277921,"creation_date":1546277921,"answer_id":53990003,"question_id":50854359,"body_markdown":"Look for an installation subdirectory, likely named eclipse. Under that \r\nsubdirectory, if you see files like eclipse.ini, icon.xpm and \r\nsubdirectories like plugins and dropins, remove the subdirectory parent \r\n(the one named eclipse).\r\n\r\nThat will remove your installation except for anything you&#39;ve set up \r\nyourself (like workspaces, projects, etc.).\r\n\r\nHope this helps.","title":"How to uninstall Eclipse?","body":"<p>Look for an installation subdirectory, likely named eclipse. Under that \nsubdirectory, if you see files like eclipse.ini, icon.xpm and \nsubdirectories like plugins and dropins, remove the subdirectory parent \n(the one named eclipse).</p>\n\n<p>That will remove your installation except for anything you've set up \nyourself (like workspaces, projects, etc.).</p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":13605731,"reputation":2299,"user_id":9814965,"display_name":"Vinay"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1582871534,"creation_date":1582871534,"answer_id":60446429,"question_id":50854359,"body_markdown":"Right click on eclipse icon and click on open file location then delete the eclipse folder from drive(Save backup of your eclipse workspace if you want). Also delete eclipse icon. Thats it..","title":"How to uninstall Eclipse?","body":"<p>Right click on eclipse icon and click on open file location then delete the eclipse folder from drive(Save backup of your eclipse workspace if you want). Also delete eclipse icon. Thats it..</p>\n"},{"tags":[],"owner":{"account_id":19148358,"reputation":55,"user_id":13986797,"display_name":"Avinash Kumar"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1599270817,"creation_date":1599270817,"answer_id":63749783,"question_id":50854359,"body_markdown":"The steps are very simple and it&#39;ll take just few mins.\r\n1.Go to your  C drive and in that go to the &#39;USER&#39; section.\r\n2.Under &#39;USER&#39; section go to your &#39;name(e.g-&#39;user1&#39;) and then find &quot;.eclipse&quot; folder and \r\ndelete that folder \r\n3.Along with that folder also delete &quot;eclipse&quot; folder and you can find that you&#39;re \r\nwork has been done completely.","title":"How to uninstall Eclipse?","body":"<p>The steps are very simple and it'll take just few mins.\n1.Go to your  C drive and in that go to the 'USER' section.\n2.Under 'USER' section go to your 'name(e.g-'user1') and then find &quot;.eclipse&quot; folder and\ndelete that folder\n3.Along with that folder also delete &quot;eclipse&quot; folder and you can find that you're\nwork has been done completely.</p>\n"},{"tags":[],"owner":{"display_name":"user13091150"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1622483616,"creation_date":1622483616,"answer_id":67778345,"question_id":50854359,"body_markdown":"just search in widows bar for **eclipse.ini&quot;* ,  \r\nand delete all folders in parent location","title":"How to uninstall Eclipse?","body":"<p>just search in widows bar for *<em>eclipse.ini&quot;</em> ,<br />\nand delete all folders in parent location</p>\n"}],"owner":{"account_id":10088126,"reputation":1497,"user_id":7455967,"accept_rate":100,"display_name":"vasanths294"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":358720,"favorite_count":0,"down_vote_count":0,"up_vote_count":101,"accepted_answer_id":50855742,"answer_count":5,"score":101,"last_activity_date":1679479773,"creation_date":1528969300,"question_id":50854359,"body_markdown":"I want to uninstall Eclipse version Mars 2, but it doesn&#39;t appear in the &quot;Programs and Features&quot; area of the Windows Control Panel. The installer has installed start menu shortcuts and other artifacts, so it&#39;s not just a matter of deleting the installation folder.","title":"How to uninstall Eclipse?","body":"<p>I want to uninstall Eclipse version Mars 2, but it doesn't appear in the \"Programs and Features\" area of the Windows Control Panel. The installer has installed start menu shortcuts and other artifacts, so it's not just a matter of deleting the installation folder.</p>\n"},{"tags":["java","arrays","for-loop","nested","nested-loops"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1679478891,"post_id":75810658,"comment_id":133727879,"body_markdown":"&quot;not sure where it went wrong?&quot; &lt;- Why don&#39;t you tell us first how you know that something went wrong. Does the code not compile? Does it produce an error when you try to run it? Does it give you a result you don&#39;t expect?","body":"&quot;not sure where it went wrong?&quot; &lt;- Why don&#39;t you tell us first how you know that something went wrong. Does the code not compile? Does it produce an error when you try to run it? Does it give you a result you don&#39;t expect?"},{"owner":{"account_id":28075420,"reputation":3,"user_id":21447356,"display_name":"jet"},"score":0,"creation_date":1679480675,"post_id":75810658,"comment_id":133728300,"body_markdown":"@OHGODSPIDERS Already mentioned in the description, an exception/error came up: Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 3 out of bounds for length 3\n\tat Arrays2D.main(Arrays2D.java:17)","body":"@OHGODSPIDERS Already mentioned in the description, an exception/error came up: Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 3 out of bounds for length 3 \tat Arrays2D.main(Arrays2D.java:17)"}],"answers":[{"tags":[],"owner":{"account_id":28083875,"reputation":81,"user_id":21454529,"display_name":"Allison Chen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679479662,"creation_date":1679479662,"answer_id":75810844,"question_id":75810658,"body_markdown":"You should change `i++` to `j++` in your inner loop.\r\n\r\n       for (int i = 0; i &lt; cars.length; i++) {\r\n            System.out.println();\r\n            for (int j = 0; j &lt; cars[i].length; j++) {\r\n                System.out.println(cars[i][j] + &quot;, &quot;);\r\n            }\r\n        }\r\nThe outer loop means traversing the array by row, and the inner by column.\r\n`cars[i][j]`represents the car in row i, column j.","title":"Exception when trying to print all values in a 2D array using a for loop. Need help understanding the Nested for loop too","body":"<p>You should change <code>i++</code> to <code>j++</code> in your inner loop.</p>\n<pre><code>   for (int i = 0; i &lt; cars.length; i++) {\n        System.out.println();\n        for (int j = 0; j &lt; cars[i].length; j++) {\n            System.out.println(cars[i][j] + &quot;, &quot;);\n        }\n    }\n</code></pre>\n<p>The outer loop means traversing the array by row, and the inner by column.\n<code>cars[i][j]</code>represents the car in row i, column j.</p>\n"}],"owner":{"account_id":28075420,"reputation":3,"user_id":21447356,"display_name":"jet"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75810844,"answer_count":1,"score":0,"last_activity_date":1679479761,"creation_date":1679478598,"question_id":75810658,"body_markdown":"I am currently learning beginning to learn Java, using BroCode for Uni, learning how to use For loops to print all values in the 2D array. The code is coming up with an exception in thread: Index 3 is out of bounds for length 3 at Arrays2D.main.\r\n\r\nAlso I am unsure what the nested for loop is exactly saying, anyone able to walk me through it?\r\n\r\n\r\n    {\r\n        //2D Arrays = an array in an array\r\n\r\n        String[][] cars = {\r\n                {&quot;Toyota&quot;, &quot;Mazda&quot;, &quot;Subaru&quot;},\r\n                {&quot;Ferrari&quot;, &quot;Mercedes&quot;, &quot;Porsche&quot;},\r\n                {&quot;Tesla&quot;, &quot;Ford&quot;, &quot;Hyundai&quot;}\r\n        };\r\n        //[how many arrays][how many elements in each array]\r\n        \r\n        for(int i = 0; i &lt; cars.length; i++)\r\n        {\r\n            System.out.println();\r\n            for(int j = 0; j &lt; cars[i].length; i++)\r\n            {\r\n                System.out.println(cars[i][j] + &quot;, &quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nCopied code from video, not sure where it went wrong? Pretty much just expecting it to print all values in cars.","title":"Exception when trying to print all values in a 2D array using a for loop. Need help understanding the Nested for loop too","body":"<p>I am currently learning beginning to learn Java, using BroCode for Uni, learning how to use For loops to print all values in the 2D array. The code is coming up with an exception in thread: Index 3 is out of bounds for length 3 at Arrays2D.main.</p>\n<p>Also I am unsure what the nested for loop is exactly saying, anyone able to walk me through it?</p>\n<pre><code>{\n    //2D Arrays = an array in an array\n\n    String[][] cars = {\n            {&quot;Toyota&quot;, &quot;Mazda&quot;, &quot;Subaru&quot;},\n            {&quot;Ferrari&quot;, &quot;Mercedes&quot;, &quot;Porsche&quot;},\n            {&quot;Tesla&quot;, &quot;Ford&quot;, &quot;Hyundai&quot;}\n    };\n    //[how many arrays][how many elements in each array]\n    \n    for(int i = 0; i &lt; cars.length; i++)\n    {\n        System.out.println();\n        for(int j = 0; j &lt; cars[i].length; i++)\n        {\n            System.out.println(cars[i][j] + &quot;, &quot;);\n        }\n    }\n}\n</code></pre>\n<p>Copied code from video, not sure where it went wrong? Pretty much just expecting it to print all values in cars.</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"owner":{"account_id":48121,"reputation":4041,"user_id":142824,"accept_rate":79,"display_name":"Tommy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679479150,"creation_date":1679479150,"question_id":75810755,"body_markdown":"I&#39;m trying to upgrade my application from Java 8 and Spring Boot 1.5 to Java 17 and Spring Boot 2.7.8\r\n\r\nEverything is working fine except when I turn validation\r\n\r\n    spring.jpa.hibernate.ddl-auto=validate\r\n\r\nThe error during startup: \r\n\r\n    Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [Authcode]\r\n\r\nAuthCode.java looks like this\r\n\r\n    @Entity()\r\n    public class AuthCode\r\n\r\n\r\nAnd the table name in Microsoft SQL Server (14) is also AuthCode. I can bypass these exceptions if I add this but don&#39;t want to manually manage all table names\r\n\r\n    @Table(name = &quot;AuthCode&quot;, schema = &quot;dbo&quot;)\r\n\r\nThe old application had this naming strategy and is working fine\r\n\r\n    spring.jpa.hibernate.naming_strategy=org.hibernate.cfg.EJB3NamingStrategy    \r\n    spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n\r\nI&#39;ve tried both SpringPhysicalNamingStrategy and PhysicalNamingStrategyStandardImpl but same error. Do I need to make my own? \r\n\r\nI was thinking since Microsoft SQL Server is case-insensitive it wouldn&#39;t matter if the table is called AuthCode or Authcode?","title":"Hibernate 5.6 Schema-validation Exception after upgrading from Sprinb Boot 1.5 to 2.7.8","body":"<p>I'm trying to upgrade my application from Java 8 and Spring Boot 1.5 to Java 17 and Spring Boot 2.7.8</p>\n<p>Everything is working fine except when I turn validation</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=validate\n</code></pre>\n<p>The error during startup:</p>\n<pre><code>Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [Authcode]\n</code></pre>\n<p>AuthCode.java looks like this</p>\n<pre><code>@Entity()\npublic class AuthCode\n</code></pre>\n<p>And the table name in Microsoft SQL Server (14) is also AuthCode. I can bypass these exceptions if I add this but don't want to manually manage all table names</p>\n<pre><code>@Table(name = &quot;AuthCode&quot;, schema = &quot;dbo&quot;)\n</code></pre>\n<p>The old application had this naming strategy and is working fine</p>\n<pre><code>spring.jpa.hibernate.naming_strategy=org.hibernate.cfg.EJB3NamingStrategy    \nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n</code></pre>\n<p>I've tried both SpringPhysicalNamingStrategy and PhysicalNamingStrategyStandardImpl but same error. Do I need to make my own?</p>\n<p>I was thinking since Microsoft SQL Server is case-insensitive it wouldn't matter if the table is called AuthCode or Authcode?</p>\n"},{"tags":["java","spring-boot","file","jar","ide"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1679478350,"post_id":75810508,"comment_id":133727739,"body_markdown":"How are you building your application? are you using maven, gradle, or similar tools?","body":"How are you building your application? are you using maven, gradle, or similar tools?"},{"owner":{"account_id":27487562,"reputation":1,"user_id":20973544,"display_name":"Harry"},"score":0,"creation_date":1679478481,"post_id":75810508,"comment_id":133727763,"body_markdown":"i am using Maven tool for building","body":"i am using Maven tool for building"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1679478530,"post_id":75810508,"comment_id":133727779,"body_markdown":"try using an unzip tool to view the internal structure of your jar and see where the file is located","body":"try using an unzip tool to view the internal structure of your jar and see where the file is located"},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":1,"creation_date":1679478564,"post_id":75810508,"comment_id":133727791,"body_markdown":"If you are using maven classpath resources should be in `src\\main\\resources` folder not `src\\resource` folder.","body":"If you are using maven classpath resources should be in <code>src\\main\\resources</code> folder not <code>src\\resource</code> folder."}],"owner":{"account_id":27487562,"reputation":1,"user_id":20973544,"display_name":"Harry"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679478916,"creation_date":1679477808,"question_id":75810508,"body_markdown":"While loading some file path from resource folder to use in the program I am using like\r\n\r\n&quot;src/resource/filename&quot;\r\n\r\nI have even tried\r\n```\r\nClassLoader classLoader = getClass().getClassLoader();\r\nString file = (classLoader.getResource(fileName)).getFile();\r\n```\r\nBut its giving incorrect path both in IDE and JAR","title":"How to load filepath from resource folder when running through jar","body":"<p>While loading some file path from resource folder to use in the program I am using like</p>\n<p>&quot;src/resource/filename&quot;</p>\n<p>I have even tried</p>\n<pre><code>ClassLoader classLoader = getClass().getClassLoader();\nString file = (classLoader.getResource(fileName)).getFile();\n</code></pre>\n<p>But its giving incorrect path both in IDE and JAR</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":8361573,"reputation":573,"user_id":6279677,"display_name":"Suchandra T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679478889,"creation_date":1679478889,"answer_id":75810712,"question_id":75810614,"body_markdown":"First of all your implementation sounds to point as it is doing what is expected out of rate-limiting features.\r\n\r\nThe only part in which you are falling behind in is implementing this feature on a user basis which can be done basis on an identifier upon which we can separate out every user.\r\n\r\nIn a general use case, one can have a **username+sessionid** as a unique identifier to implement rate limiting on the user level which will solve your issue.\r\n\r\nYou can use a database or cache to understand or keep track of current hits being done to the server and then compare it with the rate-limiting logic you have in place.\r\n\r\nBeing said that this is a very requirement-specific implementation but I hope I gave you a starting point to work upon.\r\n","title":"How to set rate limit for user specific in springboot?","body":"<p>First of all your implementation sounds to point as it is doing what is expected out of rate-limiting features.</p>\n<p>The only part in which you are falling behind in is implementing this feature on a user basis which can be done basis on an identifier upon which we can separate out every user.</p>\n<p>In a general use case, one can have a <strong>username+sessionid</strong> as a unique identifier to implement rate limiting on the user level which will solve your issue.</p>\n<p>You can use a database or cache to understand or keep track of current hits being done to the server and then compare it with the rate-limiting logic you have in place.</p>\n<p>Being said that this is a very requirement-specific implementation but I hope I gave you a starting point to work upon.</p>\n"}],"owner":{"account_id":28084301,"reputation":11,"user_id":21454898,"display_name":"Nihar Ranjan Khatua"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679478889,"creation_date":1679478326,"question_id":75810614,"body_markdown":"I have some issue with rate limit concept, I have tried to create one POC where we are blocking the no of request based on time and its working fine.\r\nBut i need to imeplement rate limit based on user to user like, In my appication differnt user can search the product parallely if i am imeplenting rate limit then its blocking for all users not for single user.\r\nAny one can help here..\r\n\r\nI have craeted the POC for rate limit and i can see its applicable for all users.\r\nLets example as below:\r\n1.Suppose for my application i keep 5 request per minute , For 6th request it will block and give error mesage .\r\n2.But what about for the other user,He is not searched yet and when he will try to serach he will also get the same exception","title":"How to set rate limit for user specific in springboot?","body":"<p>I have some issue with rate limit concept, I have tried to create one POC where we are blocking the no of request based on time and its working fine.\nBut i need to imeplement rate limit based on user to user like, In my appication differnt user can search the product parallely if i am imeplenting rate limit then its blocking for all users not for single user.\nAny one can help here..</p>\n<p>I have craeted the POC for rate limit and i can see its applicable for all users.\nLets example as below:\n1.Suppose for my application i keep 5 request per minute , For 6th request it will block and give error mesage .\n2.But what about for the other user,He is not searched yet and when he will try to serach he will also get the same exception</p>\n"},{"tags":["java","windows","command-line","jmeter","command"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1679477225,"post_id":75810345,"comment_id":133727477,"body_markdown":"What is the content of your error stream `ers`?","body":"What is the content of your error stream <code>ers</code>?"},{"owner":{"account_id":10121318,"reputation":421,"user_id":7478145,"display_name":"elgsylvain85"},"score":0,"creation_date":1679477231,"post_id":75810345,"comment_id":133727480,"body_markdown":"Your problem is similar to the follow one, please refer to : https://stackoverflow.com/a/5711150/7478145","body":"Your problem is similar to the follow one, please refer to : <a href=\"https://stackoverflow.com/a/5711150/7478145\">stackoverflow.com/a/5711150/7478145</a>"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1679477861,"post_id":75810345,"comment_id":133727620,"body_markdown":"Your code does nothing to obtain the process output.","body":"Your code does nothing to obtain the process output."}],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679478569,"creation_date":1679478569,"answer_id":75810650,"question_id":75810345,"body_markdown":"I think you need to change your command from `cmd` to [`cmd /c`][1] because currently you&#39;re just kicking off a [CMD][2] instance and the rest is simply ignored. \r\n\r\n\r\nAlso be aware that it&#39;s possible to kick off a JMeter test using [JMeter API][3], take a look at [StandardJMeterEngine][4] class JavaDoc and [JMeter Command Line Overview: 5 Ways To Launch a Test][5] article for more details if needed  \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/515309/what-does-cmd-c-mean\r\n  [2]: https://learn.microsoft.com/en-us/windows-server/administration/windows-commands/cmd\r\n  [3]: https://jmeter.apache.org/api/index.html\r\n  [4]: https://jmeter.apache.org/api/org/apache/jmeter/engine/StandardJMeterEngine.html\r\n  [5]: https://www.blazemeter.com/blog/jmeter-command-line","title":"Why does my Java code execute the cmd command without responding?","body":"<p>I think you need to change your command from <code>cmd</code> to <a href=\"https://stackoverflow.com/questions/515309/what-does-cmd-c-mean\"><code>cmd /c</code></a> because currently you're just kicking off a <a href=\"https://learn.microsoft.com/en-us/windows-server/administration/windows-commands/cmd\" rel=\"nofollow noreferrer\">CMD</a> instance and the rest is simply ignored.</p>\n<p>Also be aware that it's possible to kick off a JMeter test using <a href=\"https://jmeter.apache.org/api/index.html\" rel=\"nofollow noreferrer\">JMeter API</a>, take a look at <a href=\"https://jmeter.apache.org/api/org/apache/jmeter/engine/StandardJMeterEngine.html\" rel=\"nofollow noreferrer\">StandardJMeterEngine</a> class JavaDoc and <a href=\"https://www.blazemeter.com/blog/jmeter-command-line\" rel=\"nofollow noreferrer\">JMeter Command Line Overview: 5 Ways To Launch a Test</a> article for more details if needed</p>\n"}],"owner":{"account_id":19125803,"reputation":3,"user_id":13968807,"display_name":"王纾林"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75810650,"answer_count":1,"score":-2,"last_activity_date":1679478569,"creation_date":1679476787,"question_id":75810345,"body_markdown":"I want to use runtime to execute cmdline. This command is to generate `example_jtl.jtl` and `example_visual` (a blank folder and new file in here) by `example.jmx`. The Java code is without error after running, but there is no new file and folder. What should I do?\r\n\r\n```java\r\ntry {\r\n    System.out.println(&quot;begin cmd&quot;);\r\n    Runtime mt = Runtime.getRuntime();\r\n    //mt.exec(&quot;cmd \\\\c ionic -v&quot;);\r\n    String cmd = &quot;cmd D:\\\\Programming\\\\JMeter\\\\apache-jmeter-5.5\\\\bin\\\\jmeter -n -t D:\\\\Programming\\\\JMeter\\\\apache-jmeter-5.5\\\\result\\\\example.jmx -l D:\\\\Programming\\\\JMeter\\\\apache-jmeter-5.5\\\\result\\\\example_jtl.jtl -e -o D:\\\\Programming\\\\JMeter\\\\apache-jmeter-5.5\\\\result\\\\example_visual&quot;;\r\n    Process pro = mt.exec(cmd);\r\n    InputStream ers= pro.getErrorStream();\r\n    pro.waitFor();\r\n} catch (IOException ioe) {\r\n    ioe.printStackTrace();\r\n} catch (InterruptedException e) {\r\n    // TODO Auto-generated catch block\r\n    e.printStackTrace();\r\n}\r\n```\r\n\r\n\r\nAfter the program is executed, the `example_jtl.jtl` file and the `example_visual` folder should be generated under the `/result` folder.\r\n","title":"Why does my Java code execute the cmd command without responding?","body":"<p>I want to use runtime to execute cmdline. This command is to generate <code>example_jtl.jtl</code> and <code>example_visual</code> (a blank folder and new file in here) by <code>example.jmx</code>. The Java code is without error after running, but there is no new file and folder. What should I do?</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    System.out.println(&quot;begin cmd&quot;);\n    Runtime mt = Runtime.getRuntime();\n    //mt.exec(&quot;cmd \\\\c ionic -v&quot;);\n    String cmd = &quot;cmd D:\\\\Programming\\\\JMeter\\\\apache-jmeter-5.5\\\\bin\\\\jmeter -n -t D:\\\\Programming\\\\JMeter\\\\apache-jmeter-5.5\\\\result\\\\example.jmx -l D:\\\\Programming\\\\JMeter\\\\apache-jmeter-5.5\\\\result\\\\example_jtl.jtl -e -o D:\\\\Programming\\\\JMeter\\\\apache-jmeter-5.5\\\\result\\\\example_visual&quot;;\n    Process pro = mt.exec(cmd);\n    InputStream ers= pro.getErrorStream();\n    pro.waitFor();\n} catch (IOException ioe) {\n    ioe.printStackTrace();\n} catch (InterruptedException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\n</code></pre>\n<p>After the program is executed, the <code>example_jtl.jtl</code> file and the <code>example_visual</code> folder should be generated under the <code>/result</code> folder.</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka","interceptor"],"comments":[{"owner":{"account_id":258666,"reputation":455,"user_id":3305708,"display_name":"Luisao"},"score":1,"creation_date":1607367338,"post_id":65187622,"comment_id":115245213,"body_markdown":"Do you have a containerFactory in your src configuration?","body":"Do you have a containerFactory in your src configuration?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1607377166,"post_id":65187622,"comment_id":115248999,"body_markdown":"Don&#39;t you need `spring.kafka.consumer` prefixing those properties?","body":"Don&#39;t you need <code>spring.kafka.consumer</code> prefixing those properties?"},{"owner":{"account_id":96255,"reputation":181,"user_id":261708,"accept_rate":44,"display_name":"One Developer"},"score":0,"creation_date":1607393422,"post_id":65187622,"comment_id":115253019,"body_markdown":"I don&#39;t know what exactly I am missing. No, I don&#39;t have containerFactory as well as in the document - https://docs.confluent.io/6.0.1/multi-dc-deployments/replicator/replicator-failover.html they mentioned spring.kafka.producer properties. any suggestion?","body":"I don&#39;t know what exactly I am missing. No, I don&#39;t have containerFactory as well as in the document - <a href=\"https://docs.confluent.io/6.0.1/multi-dc-deployments/replicator/replicator-failover.html\" rel=\"nofollow noreferrer\">docs.confluent.io/6.0.1/multi-dc-deployments/replicator/&hellip;</a> they mentioned spring.kafka.producer properties. any suggestion?"},{"owner":{"account_id":96255,"reputation":181,"user_id":261708,"accept_rate":44,"display_name":"One Developer"},"score":0,"creation_date":1607394167,"post_id":65187622,"comment_id":115253161,"body_markdown":"what exactly I need to update on the containerFactory ?","body":"what exactly I need to update on the containerFactory ?"},{"owner":{"account_id":96255,"reputation":181,"user_id":261708,"accept_rate":44,"display_name":"One Developer"},"score":0,"creation_date":1607400760,"post_id":65187622,"comment_id":115254417,"body_markdown":"I already have the consumer and producer configured and Application itself is working however trying to introduce the interceptor.","body":"I already have the consumer and producer configured and Application itself is working however trying to introduce the interceptor."},{"owner":{"account_id":96255,"reputation":181,"user_id":261708,"accept_rate":44,"display_name":"One Developer"},"score":0,"creation_date":1607418829,"post_id":65187622,"comment_id":115259534,"body_markdown":"I have update the above properties with spring.kafka.consumer prefix and still see &quot;interceptor.classses=[]&quot; in the log","body":"I have update the above properties with spring.kafka.consumer prefix and still see &quot;interceptor.classses=[]&quot; in the log"}],"owner":{"account_id":96255,"reputation":181,"user_id":261708,"accept_rate":44,"display_name":"One Developer"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2766,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679478207,"creation_date":1607366900,"question_id":65187622,"body_markdown":"I am trying to configure the Confluent - ConsumerTimestampsInterceptor to support the Confluent KAFKA Replication and have configured Java spring boot application as mentioned below\r\n\r\n**application.properties**\r\n\r\n\r\n    #consumer timestamp interceptor\r\n    interceptor.classes=io.confluent.connect.replicator.offsets.ConsumerTimestampsInterceptor\r\n    timestamp.producer.security.protocol=PLAINTEXT\r\n    timestamp.producer.sasl.mechanism=NONE\r\n    #timestamp.producer.ssl.endpoint.identification.algorithm=\r\n    #timestamp.producer.sasl.jaas.config=\r\n    src.consumer.group.id=lkc-302y2\r\n\r\n\r\n\r\n**Consumer.java**\r\n\r\n    package com.example.demo.service;\r\n    \r\n    import org.springframework.kafka.annotation.KafkaListener;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import com.example.demo.model.ProductKafka;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.ArrayDeque;\r\n    import java.util.LinkedList;\r\n    import java.util.Queue;\r\n    import java.util.logging.Logger;\r\n    \r\n    @Service\r\n    public class Consumer {\r\n        private static final Logger LOGGER = Logger.getLogger(Consumer.class.getName());\r\n        public static ArrayDeque&lt;ProductKafka&gt; consumeQueue = new ArrayDeque&lt;&gt;();\r\n        \r\n        @KafkaListener(autoStartup = &quot;false&quot;, topics = &quot;#{&#39;${spring.kafka.topics}&#39;.split(&#39;\\\\\\\\ &#39;)}&quot;, groupId = &quot;#{&#39;${spring.kafka.groupId}&#39;}&quot;)\r\n        public void consume(ProductKafka productKafka) throws IOException {\r\n            consumeQueue.offer(productKafka);\r\n    \r\n            LOGGER.info(String.format(&quot;#### -&gt; Logger Consumed message -&gt; %s&quot;, productKafka.toString()));\r\n            System.out.printf(&quot;#### -&gt; Consumed message -&gt; %s&quot;, productKafka.toString());\r\n        }\r\n    }\r\n\r\n\r\nand below is the project structure\r\n\r\n[enter image description here][1]\r\n\r\n\r\nhowever it is not working.\r\n\r\nOur KAFKA administrator mentioned that though I have the Interceptor added KAFKA consumer is not configured to use the interceptor.\r\n\r\nI don&#39;t know how to make the consumer use the Interceptor \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fz0iR.png","title":"Kafka Listener - Configure Interceptor in Spring Boot?","body":"<p>I am trying to configure the Confluent - ConsumerTimestampsInterceptor to support the Confluent KAFKA Replication and have configured Java spring boot application as mentioned below</p>\n<p><strong>application.properties</strong></p>\n<pre><code>#consumer timestamp interceptor\ninterceptor.classes=io.confluent.connect.replicator.offsets.ConsumerTimestampsInterceptor\ntimestamp.producer.security.protocol=PLAINTEXT\ntimestamp.producer.sasl.mechanism=NONE\n#timestamp.producer.ssl.endpoint.identification.algorithm=\n#timestamp.producer.sasl.jaas.config=\nsrc.consumer.group.id=lkc-302y2\n</code></pre>\n<p><strong>Consumer.java</strong></p>\n<pre><code>package com.example.demo.service;\n\nimport org.springframework.kafka.annotation.KafkaListener;\nimport org.springframework.stereotype.Service;\n\nimport com.example.demo.model.ProductKafka;\n\nimport java.io.IOException;\nimport java.util.ArrayDeque;\nimport java.util.LinkedList;\nimport java.util.Queue;\nimport java.util.logging.Logger;\n\n@Service\npublic class Consumer {\n    private static final Logger LOGGER = Logger.getLogger(Consumer.class.getName());\n    public static ArrayDeque&lt;ProductKafka&gt; consumeQueue = new ArrayDeque&lt;&gt;();\n    \n    @KafkaListener(autoStartup = &quot;false&quot;, topics = &quot;#{'${spring.kafka.topics}'.split('\\\\\\\\ ')}&quot;, groupId = &quot;#{'${spring.kafka.groupId}'}&quot;)\n    public void consume(ProductKafka productKafka) throws IOException {\n        consumeQueue.offer(productKafka);\n\n        LOGGER.info(String.format(&quot;#### -&gt; Logger Consumed message -&gt; %s&quot;, productKafka.toString()));\n        System.out.printf(&quot;#### -&gt; Consumed message -&gt; %s&quot;, productKafka.toString());\n    }\n}\n</code></pre>\n<p>and below is the project structure</p>\n<p><a href=\"https://i.stack.imgur.com/fz0iR.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>however it is not working.</p>\n<p>Our KAFKA administrator mentioned that though I have the Interceptor added KAFKA consumer is not configured to use the interceptor.</p>\n<p>I don't know how to make the consumer use the Interceptor</p>\n"},{"tags":["java","xml"],"answers":[{"tags":[],"owner":{"account_id":8860912,"reputation":4843,"user_id":6617152,"display_name":"Ramachandran.A.G"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1474452904,"creation_date":1474452904,"answer_id":39613677,"question_id":39612625,"body_markdown":"You can do it as follows\r\n\r\n    import javax.xml.parsers.DocumentBuilder;\r\n    import javax.xml.parsers.DocumentBuilderFactory;\r\n    \r\n    import org.w3c.dom.DOMImplementation;\r\n    import org.w3c.dom.Document;\r\n    import org.w3c.dom.ls.DOMImplementationLS;\r\n    import org.w3c.dom.ls.LSOutput;\r\n    import org.w3c.dom.ls.LSSerializer;\r\n    \r\n    public class RegexTest {\r\n    \tprivate static DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tRegexTest domTest = new RegexTest();\r\n    \t\tdomTest.testXmlDocumentWithNamespaces();\r\n    \t}\r\n    \r\n    \tpublic void testXmlDocumentWithNamespaces() throws Exception {\r\n    \t\tDocumentBuilder db = dbf.newDocumentBuilder();\r\n    \t\tDOMImplementation domImpl = db.getDOMImplementation();\r\n    \t\tDocument document = addNameSpaces(domImpl);\r\n    \t\tserialize(domImpl, document);\r\n    \t}\r\n    \r\n    \tprivate Document addNameSpaces(DOMImplementation domImpl) {\r\n    \t\tDocument document = domImpl.createDocument(&quot;http://company/configuration&quot;, &quot;cfg:configuration&quot;, null);\r\n    \t\tdocument.getDocumentElement().setAttributeNS(&quot;http://www.w3.org/2000/xmlns/&quot;, &quot;xmlns:ContentRouter&quot;, &quot;http://company/ContentRouter-3.0&quot;);\r\n    \t\tdocument.getDocumentElement().setAttributeNS(&quot;http://www.w3.org/2000/xmlns/&quot;, &quot;xmlns:xs&quot;, &quot;http://www.w3.org/2001/XMLSchema&quot;);\r\n    \t\tdocument.getDocumentElement().setAttributeNS(&quot;http://www.w3.org/2000/xmlns/&quot;, &quot;xmlns:xsi&quot;, &quot;http://www.w3.org/2001/XMLSchema-instance&quot;);\r\n    \r\n    \t\treturn document;\r\n    \t}\r\n    \r\n    \tprivate void serialize(DOMImplementation domImpl, Document document) {\r\n    \t\tDOMImplementationLS ls = (DOMImplementationLS) domImpl;\r\n    \t\tLSSerializer lss = ls.createLSSerializer();\r\n    \t\tLSOutput lso = ls.createLSOutput();\r\n    \t\tlso.setByteStream(System.out);\r\n    \t\tlss.write(document, lso);\r\n    \t}\r\n    \r\n    }\r\n\r\nPrints :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;cfg:configuration xmlns:cfg=&quot;http://company/configuration&quot; xmlns:ContentRouter=&quot;http://company/ContentRouter-3.0&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;/&gt;\r\n\r\nP.S. Reffered [this][1] and [this][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/11133754/adding-namespace-to-an-already-created-xml-document\r\n  [2]: https://stackoverflow.com/questions/528312/creating-an-xml-document-using-namespaces-in-java","title":"How to create a XML header?","body":"<p>You can do it as follows</p>\n\n<pre><code>import javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\n\nimport org.w3c.dom.DOMImplementation;\nimport org.w3c.dom.Document;\nimport org.w3c.dom.ls.DOMImplementationLS;\nimport org.w3c.dom.ls.LSOutput;\nimport org.w3c.dom.ls.LSSerializer;\n\npublic class RegexTest {\n    private static DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\n\n    public static void main(String[] args) throws Exception {\n        RegexTest domTest = new RegexTest();\n        domTest.testXmlDocumentWithNamespaces();\n    }\n\n    public void testXmlDocumentWithNamespaces() throws Exception {\n        DocumentBuilder db = dbf.newDocumentBuilder();\n        DOMImplementation domImpl = db.getDOMImplementation();\n        Document document = addNameSpaces(domImpl);\n        serialize(domImpl, document);\n    }\n\n    private Document addNameSpaces(DOMImplementation domImpl) {\n        Document document = domImpl.createDocument(\"http://company/configuration\", \"cfg:configuration\", null);\n        document.getDocumentElement().setAttributeNS(\"http://www.w3.org/2000/xmlns/\", \"xmlns:ContentRouter\", \"http://company/ContentRouter-3.0\");\n        document.getDocumentElement().setAttributeNS(\"http://www.w3.org/2000/xmlns/\", \"xmlns:xs\", \"http://www.w3.org/2001/XMLSchema\");\n        document.getDocumentElement().setAttributeNS(\"http://www.w3.org/2000/xmlns/\", \"xmlns:xsi\", \"http://www.w3.org/2001/XMLSchema-instance\");\n\n        return document;\n    }\n\n    private void serialize(DOMImplementation domImpl, Document document) {\n        DOMImplementationLS ls = (DOMImplementationLS) domImpl;\n        LSSerializer lss = ls.createLSSerializer();\n        LSOutput lso = ls.createLSOutput();\n        lso.setByteStream(System.out);\n        lss.write(document, lso);\n    }\n\n}\n</code></pre>\n\n<p>Prints :</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;cfg:configuration xmlns:cfg=\"http://company/configuration\" xmlns:ContentRouter=\"http://company/ContentRouter-3.0\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"/&gt;\n</code></pre>\n\n<p>P.S. Reffered <a href=\"https://stackoverflow.com/questions/11133754/adding-namespace-to-an-already-created-xml-document\">this</a> and <a href=\"https://stackoverflow.com/questions/528312/creating-an-xml-document-using-namespaces-in-java\">this</a></p>\n"}],"owner":{"account_id":4033075,"reputation":13,"user_id":3318485,"accept_rate":33,"display_name":"user3318485"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5090,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":39613677,"answer_count":1,"score":1,"last_activity_date":1679477831,"creation_date":1474450160,"question_id":39612625,"body_markdown":"Please, how can I create an XML header like this one in Java?\r\n\r\n\r\n    &lt;cfg:configuration xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-\r\n        instance&quot; xmlns:ContentRouter=&quot;http://company/ContentRouter-3.0&quot; \r\n        xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:cfg=&quot;http://company/configuration&quot;&gt;.\r\n\r\nI am using `DocumentBuilderFactory` and my xml looks similar but it is a little bit different.. \r\n\r\nMy code: \r\n\r\n    Element rootElement = doc.createElement(&quot;cfg:configuration&quot;);\r\n\tAttr attr1 = doc.createAttribute(&quot;xmlns:xsi&quot;);\r\n\tattr1.setValue(&quot;http://www.w3.org/2001/XMLSchema-instance&quot;);\r\n\tAttr attr2 = doc.createAttribute(&quot;xmlns:ContentRoute&quot;);\r\n\tattr2.setValue(&quot;http://eurotel/ContentRouter-3.0&quot;);\r\n\tAttr attr3 = doc.createAttribute(&quot;xmlns:xs&quot;);\r\n\tattr3.setValue(&quot;http://www.w3.org/2001/XMLSchema&quot;);\r\n\tAttr attr4 = doc.createAttribute(&quot;xmlns:cfg&quot;);\r\n\tattr4.setValue(&quot;http://eurotel/configuration&quot;);\r\n","title":"How to create a XML header?","body":"<p>Please, how can I create an XML header like this one in Java?</p>\n<pre><code>&lt;cfg:configuration xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-\n    instance&quot; xmlns:ContentRouter=&quot;http://company/ContentRouter-3.0&quot; \n    xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:cfg=&quot;http://company/configuration&quot;&gt;.\n</code></pre>\n<p>I am using <code>DocumentBuilderFactory</code> and my xml looks similar but it is a little bit different..</p>\n<p>My code:</p>\n<pre><code>Element rootElement = doc.createElement(&quot;cfg:configuration&quot;);\nAttr attr1 = doc.createAttribute(&quot;xmlns:xsi&quot;);\nattr1.setValue(&quot;http://www.w3.org/2001/XMLSchema-instance&quot;);\nAttr attr2 = doc.createAttribute(&quot;xmlns:ContentRoute&quot;);\nattr2.setValue(&quot;http://eurotel/ContentRouter-3.0&quot;);\nAttr attr3 = doc.createAttribute(&quot;xmlns:xs&quot;);\nattr3.setValue(&quot;http://www.w3.org/2001/XMLSchema&quot;);\nAttr attr4 = doc.createAttribute(&quot;xmlns:cfg&quot;);\nattr4.setValue(&quot;http://eurotel/configuration&quot;);\n</code></pre>\n"},{"tags":["java","android","android-studio","lottie"],"comments":[{"owner":{"account_id":12732679,"reputation":7866,"user_id":9248718,"display_name":"Some random IT boy"},"score":0,"creation_date":1621152225,"post_id":67554279,"comment_id":119404393,"body_markdown":"What is exactly that you have tried? AFAIK Lottie files should be included from resources (or dynamically downloaded through an HTTP request) and after that loaded into a LottieImageView or similar. [Their docs know better than I do](https://github.com/airbnb/lottie-android), I suggest you take a read at them.","body":"What is exactly that you have tried? AFAIK Lottie files should be included from resources (or dynamically downloaded through an HTTP request) and after that loaded into a LottieImageView or similar. <a href=\"https://github.com/airbnb/lottie-android\" rel=\"nofollow noreferrer\">Their docs know better than I do</a>, I suggest you take a read at them."},{"owner":{"account_id":21614062,"reputation":51,"user_id":15940148,"display_name":"Infinite Support"},"score":0,"creation_date":1621152674,"post_id":67554279,"comment_id":119404503,"body_markdown":"Literally i don&#39;t know how to do, i just tried setAnimation(R.raw..json) but i know its wrong and throwing error","body":"Literally i don&#39;t know how to do, i just tried setAnimation(R.raw..json) but i know its wrong and throwing error"},{"owner":{"account_id":12732679,"reputation":7866,"user_id":9248718,"display_name":"Some random IT boy"},"score":0,"creation_date":1621153166,"post_id":67554279,"comment_id":119404581,"body_markdown":"Please post everything you&#39;ve tried and the error it is throwing so we can further assist you. I remember that when I got started with it was quite simple task to do so I am surprised you&#39;re having trouble. [Here&#39;s a step by step guide](https://airbnb.io/lottie/#/android?id=sample-app). It would be also useful to get to know which Android OS version are you trying to run things on because *maybe and only maybe* it is not compatible.\n\nAnother remarkable thing to let us know is if you&#39;re using `androidx` or the old android libraries. Thank you!","body":"Please post everything you&#39;ve tried and the error it is throwing so we can further assist you. I remember that when I got started with it was quite simple task to do so I am surprised you&#39;re having trouble. <a href=\"https://airbnb.io/lottie/#/android?id=sample-app\" rel=\"nofollow noreferrer\">Here&#39;s a step by step guide</a>. It would be also useful to get to know which Android OS version are you trying to run things on because <i>maybe and only maybe</i> it is not compatible.  Another remarkable thing to let us know is if you&#39;re using <code>androidx</code> or the old android libraries. Thank you!"},{"owner":{"account_id":21614062,"reputation":51,"user_id":15940148,"display_name":"Infinite Support"},"score":0,"creation_date":1621167725,"post_id":67554279,"comment_id":119408154,"body_markdown":"I will post here the code and errors am a beginner thats why simple task also am getting error.","body":"I will post here the code and errors am a beginner thats why simple task also am getting error."},{"owner":{"account_id":12732679,"reputation":7866,"user_id":9248718,"display_name":"Some random IT boy"},"score":0,"creation_date":1621170458,"post_id":67554279,"comment_id":119408850,"body_markdown":"No problem, but we&#39;d need to take a look at the Stack Trace of the error","body":"No problem, but we&#39;d need to take a look at the Stack Trace of the error"},{"owner":{"account_id":21614062,"reputation":51,"user_id":15940148,"display_name":"Infinite Support"},"score":0,"creation_date":1621177524,"post_id":67554279,"comment_id":119410917,"body_markdown":"As you ask this is the error showing  Process: com.infinite.vpn, PID: 10451\n    java.lang.IllegalStateException: You must set an images folder before loading an image. Set it with LottieComposition#setImagesFolder or LottieDrawable#setImagesFolder","body":"As you ask this is the error showing  Process: com.infinite.vpn, PID: 10451     java.lang.IllegalStateException: You must set an images folder before loading an image. Set it with LottieComposition#setImagesFolder or LottieDrawable#setImagesFolder"}],"answers":[{"tags":[],"owner":{"account_id":21614062,"reputation":51,"user_id":15940148,"display_name":"Infinite Support"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679477786,"creation_date":1621245997,"answer_id":67567633,"question_id":67554279,"body_markdown":"I achieved this with the solution below:\r\n\r\n    String vpnsBtn;\r\n\r\n    if (check.equals(&quot;night&quot;)){\r\n\r\n            switch (status) {\r\n                case &quot;connect&quot;:\r\n\r\n                    vpnBtn.setVisibility(View.VISIBLE);\r\n                    vpnsBtn = (&quot;disconnected.json&quot;);\r\n                    logTv.setTextColor(getResources().getColor(R.color.font_color));\r\n\r\n                    break;\r\n                case &quot;connecting&quot;:\r\n\r\n                    vpnBtn.setVisibility(View.VISIBLE);\r\n                    vpnsBtn = (&quot;connectingg.json&quot;);\r\n                    logTv.setTextColor(getResources().getColor(R.color.font_color));\r\n\r\n                    break;\r\n                case &quot;connected&quot;:\r\n\r\n                    vpnBtn.setVisibility(View.VISIBLE);\r\n                    vpnsBtn = (&quot;connected.json&quot;);\r\n                    logTv.setTextColor(getResources().getColor(R.color.purple));\r\n\r\n                    break;\r\n                case &quot;failed&quot;:\r\n\r\n                    vpnBtn.setVisibility(View.VISIBLE);\r\n                    vpnsBtn = (&quot;disconnected.json&quot;);\r\n\r\n                    break;\r\n            }\r\n\r\n        }else {\r\n\r\n            switch (status) {\r\n                case &quot;connect&quot;:\r\n\r\n                    vpnBtn.setVisibility(View.VISIBLE);\r\n                    vpnsBtn = (&quot;disconnected.json&quot;);\r\n                    logTv.setTextColor(getResources().getColor(R.color.font_color));\r\n\r\n                    break;\r\n                case &quot;connecting&quot;:\r\n\r\n                    vpnBtn.setVisibility(View.VISIBLE);\r\n                    vpnsBtn = (&quot;connectingg.json&quot;);\r\n                    logTv.setTextColor(getResources().getColor(R.color.font_color));\r\n\r\n                    break;\r\n                case &quot;connected&quot;:\r\n\r\n                    vpnBtn.setVisibility(View.VISIBLE);\r\n                    vpnsBtn = (&quot;connected.json&quot;);\r\n                    logTv.setTextColor(getResources().getColor(R.color.purple));\r\n\r\n                    break;\r\n                case &quot;failed&quot;:\r\n\r\n                    vpnBtn.setVisibility(View.VISIBLE);\r\n                    vpnsBtn = (&quot;disconnected.json&quot;);\r\n\r\n                    break;\r\n            }\r\n        }\r\n    \r\n        LottieAnimationView animationView = findViewById(R.id.vpnBtn);\r\n        animationView.setImageAssetsFolder(&quot;vpnconnect&quot;);\r\n        animationView.setAnimation(vpnsBtn);\r\n        animationView.loop(true);\r\n        animationView.playAnimation();\r\n\r\nI hope this will help others who want to use dynamic buttons with Lottie on Android.","title":"How to add a Lottie animation in Java programatically","body":"<p>I achieved this with the solution below:</p>\n<pre><code>String vpnsBtn;\n\nif (check.equals(&quot;night&quot;)){\n\n        switch (status) {\n            case &quot;connect&quot;:\n\n                vpnBtn.setVisibility(View.VISIBLE);\n                vpnsBtn = (&quot;disconnected.json&quot;);\n                logTv.setTextColor(getResources().getColor(R.color.font_color));\n\n                break;\n            case &quot;connecting&quot;:\n\n                vpnBtn.setVisibility(View.VISIBLE);\n                vpnsBtn = (&quot;connectingg.json&quot;);\n                logTv.setTextColor(getResources().getColor(R.color.font_color));\n\n                break;\n            case &quot;connected&quot;:\n\n                vpnBtn.setVisibility(View.VISIBLE);\n                vpnsBtn = (&quot;connected.json&quot;);\n                logTv.setTextColor(getResources().getColor(R.color.purple));\n\n                break;\n            case &quot;failed&quot;:\n\n                vpnBtn.setVisibility(View.VISIBLE);\n                vpnsBtn = (&quot;disconnected.json&quot;);\n\n                break;\n        }\n\n    }else {\n\n        switch (status) {\n            case &quot;connect&quot;:\n\n                vpnBtn.setVisibility(View.VISIBLE);\n                vpnsBtn = (&quot;disconnected.json&quot;);\n                logTv.setTextColor(getResources().getColor(R.color.font_color));\n\n                break;\n            case &quot;connecting&quot;:\n\n                vpnBtn.setVisibility(View.VISIBLE);\n                vpnsBtn = (&quot;connectingg.json&quot;);\n                logTv.setTextColor(getResources().getColor(R.color.font_color));\n\n                break;\n            case &quot;connected&quot;:\n\n                vpnBtn.setVisibility(View.VISIBLE);\n                vpnsBtn = (&quot;connected.json&quot;);\n                logTv.setTextColor(getResources().getColor(R.color.purple));\n\n                break;\n            case &quot;failed&quot;:\n\n                vpnBtn.setVisibility(View.VISIBLE);\n                vpnsBtn = (&quot;disconnected.json&quot;);\n\n                break;\n        }\n    }\n\n    LottieAnimationView animationView = findViewById(R.id.vpnBtn);\n    animationView.setImageAssetsFolder(&quot;vpnconnect&quot;);\n    animationView.setAnimation(vpnsBtn);\n    animationView.loop(true);\n    animationView.playAnimation();\n</code></pre>\n<p>I hope this will help others who want to use dynamic buttons with Lottie on Android.</p>\n"},{"tags":[],"owner":{"account_id":17385276,"reputation":974,"user_id":12596713,"display_name":"ahmad bajwa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1621248568,"creation_date":1621248568,"answer_id":67568234,"question_id":67554279,"body_markdown":"First Use this **dependency**:\r\n\r\n    implementation &#39;com.airbnb.android:lottie:3.6.1&#39;\r\n\r\nAdd `LottieAnimationView` in xml: \r\n\r\n     &lt;com.airbnb.lottie.LottieAnimationView       \r\n            android:id=&quot;@+id/animation&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_centerInParent=&quot;true&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            app:lottie_autoPlay=&quot;true&quot;\r\n            app:lottie_fileName=&quot;loading.json&quot;\r\n            app:lottie_loop=&quot;true&quot;\r\n            app:lottie_speed=&quot;1&quot; /&gt;\r\n\r\n\r\nChange animation according to your use:\r\n\r\n    animation.setAnimation(&quot;loading.json&quot;);\r\n\r\n**Note**: Add your lottie animation json file in asset folder.","title":"How to add a Lottie animation in Java programatically","body":"<p>First Use this <strong>dependency</strong>:</p>\n<pre><code>implementation 'com.airbnb.android:lottie:3.6.1'\n</code></pre>\n<p>Add <code>LottieAnimationView</code> in xml:</p>\n<pre><code> &lt;com.airbnb.lottie.LottieAnimationView       \n        android:id=&quot;@+id/animation&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_centerInParent=&quot;true&quot;\n        android:layout_gravity=&quot;center&quot;\n        app:lottie_autoPlay=&quot;true&quot;\n        app:lottie_fileName=&quot;loading.json&quot;\n        app:lottie_loop=&quot;true&quot;\n        app:lottie_speed=&quot;1&quot; /&gt;\n</code></pre>\n<p>Change animation according to your use:</p>\n<pre><code>animation.setAnimation(&quot;loading.json&quot;);\n</code></pre>\n<p><strong>Note</strong>: Add your lottie animation json file in asset folder.</p>\n"},{"tags":[],"owner":{"account_id":19024059,"reputation":213,"user_id":13887525,"display_name":"Christophy Barth"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1679477683,"creation_date":1636620900,"answer_id":69925532,"question_id":67554279,"body_markdown":"The above solutions didn&#39;t work for me, crashing the app.\r\n\r\nTry using this: \r\n \r\n\r\n`animationView.setAnimation(R.raw.your_lottie_file)`\r\n\r\nor, adding it to the [answer][1] from Infinite\r\n\r\n    String vpnsBtn;\r\n    \r\n    if (check.equals(&quot;night&quot;)){\r\n\r\n        switch (status) {\r\n            case &quot;connect&quot;:\r\n\r\n                vpnBtn.setVisibility(View.VISIBLE);\r\n                vpnsBtn = R.raw.disconnected;\r\n                logTv.setTextColor(getResources().getColor(R.color.font_color));\r\n\r\n                break;\r\n            case &quot;connecting&quot;:\r\n\r\n                vpnBtn.setVisibility(View.VISIBLE);\r\n                vpnsBtn = R.raw.connectingg;\r\n                logTv.setTextColor(getResources().getColor(R.color.font_color));\r\n\r\n                break;\r\n            case &quot;connected&quot;:\r\n\r\n                vpnBtn.setVisibility(View.VISIBLE);\r\n                vpnsBtn = R.raw.connected\r\n                logTv.setTextColor(getResources().getColor(R.color.purple));\r\n\r\n                break;\r\n            case &quot;failed&quot;:\r\n\r\n                vpnBtn.setVisibility(View.VISIBLE);\r\n                vpnsBtn = R.raw.disconnected;\r\n\r\n                break;\r\n        }\r\n\r\n    }else {\r\n\r\n        switch (status) {\r\n            case &quot;connect&quot;:\r\n\r\n                vpnBtn.setVisibility(View.VISIBLE);\r\n                vpnsBtn = R.raw.disconnected;\r\n                logTv.setTextColor(getResources().getColor(R.color.font_color));\r\n\r\n                break;\r\n            case &quot;connecting&quot;:\r\n\r\n                vpnBtn.setVisibility(View.VISIBLE);\r\n                vpnsBtn = R.raw.connectingg;;\r\n                logTv.setTextColor(getResources().getColor(R.color.font_color));\r\n\r\n                break;\r\n            case &quot;connected&quot;:\r\n\r\n                vpnBtn.setVisibility(View.VISIBLE);\r\n                vpnsBtn = R.raw.connected;;\r\n                logTv.setTextColor(getResources().getColor(R.color.purple));\r\n\r\n                break;\r\n            case &quot;failed&quot;:\r\n\r\n                vpnBtn.setVisibility(View.VISIBLE);\r\n                vpnsBtn = R.raw.disconnected;\r\n\r\n                break;\r\n        }\r\n    }\r\n\r\n    LottieAnimationView animationView = findViewById(R.id.vpnBtn);\r\n    animationView.setImageAssetsFolder(&quot;vpnconnect&quot;);\r\n    animationView.setAnimation(vpnsBtn);\r\n    animationView.loop(true);\r\n    animationView.playAnimation();\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/67567633","title":"How to add a Lottie animation in Java programatically","body":"<p>The above solutions didn't work for me, crashing the app.</p>\n<p>Try using this:</p>\n<p><code>animationView.setAnimation(R.raw.your_lottie_file)</code></p>\n<p>or, adding it to the <a href=\"https://stackoverflow.com/a/67567633\">answer</a> from Infinite</p>\n<pre><code>String vpnsBtn;\n\nif (check.equals(&quot;night&quot;)){\n\n    switch (status) {\n        case &quot;connect&quot;:\n\n            vpnBtn.setVisibility(View.VISIBLE);\n            vpnsBtn = R.raw.disconnected;\n            logTv.setTextColor(getResources().getColor(R.color.font_color));\n\n            break;\n        case &quot;connecting&quot;:\n\n            vpnBtn.setVisibility(View.VISIBLE);\n            vpnsBtn = R.raw.connectingg;\n            logTv.setTextColor(getResources().getColor(R.color.font_color));\n\n            break;\n        case &quot;connected&quot;:\n\n            vpnBtn.setVisibility(View.VISIBLE);\n            vpnsBtn = R.raw.connected\n            logTv.setTextColor(getResources().getColor(R.color.purple));\n\n            break;\n        case &quot;failed&quot;:\n\n            vpnBtn.setVisibility(View.VISIBLE);\n            vpnsBtn = R.raw.disconnected;\n\n            break;\n    }\n\n}else {\n\n    switch (status) {\n        case &quot;connect&quot;:\n\n            vpnBtn.setVisibility(View.VISIBLE);\n            vpnsBtn = R.raw.disconnected;\n            logTv.setTextColor(getResources().getColor(R.color.font_color));\n\n            break;\n        case &quot;connecting&quot;:\n\n            vpnBtn.setVisibility(View.VISIBLE);\n            vpnsBtn = R.raw.connectingg;;\n            logTv.setTextColor(getResources().getColor(R.color.font_color));\n\n            break;\n        case &quot;connected&quot;:\n\n            vpnBtn.setVisibility(View.VISIBLE);\n            vpnsBtn = R.raw.connected;;\n            logTv.setTextColor(getResources().getColor(R.color.purple));\n\n            break;\n        case &quot;failed&quot;:\n\n            vpnBtn.setVisibility(View.VISIBLE);\n            vpnsBtn = R.raw.disconnected;\n\n            break;\n    }\n}\n\nLottieAnimationView animationView = findViewById(R.id.vpnBtn);\nanimationView.setImageAssetsFolder(&quot;vpnconnect&quot;);\nanimationView.setAnimation(vpnsBtn);\nanimationView.loop(true);\nanimationView.playAnimation();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23088962,"reputation":61,"user_id":17200097,"display_name":"Mohammad Reza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671727827,"creation_date":1651654407,"answer_id":72110260,"question_id":67554279,"body_markdown":"For using Lottie I did these:\r\n\r\nIn `build.gradle(:app)` add this and sync:\r\n\r\n    implementation &#39;com.airbnb.android:lottie:$lottieVersion&#39;\r\nthen, add `assets` file. Then, add the JSON files there. Then, go to `activity_main.xml` file, add:\r\n \r\n\r\n    &lt;com.airbnb.lottie.LottieAnimationView\r\n                android:id=&quot;@+id/lav_actionBar&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;300dp&quot;\r\n                android:layout_marginStart=&quot;0dp&quot;\r\n                android:layout_marginTop=&quot;0dp&quot;\r\n                android:layout_marginEnd=&quot;0dp&quot;\r\n                android:scaleType=&quot;centerCrop&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:lottie_autoPlay=&quot;true&quot;\r\n                app:lottie_fileName=&quot;circle-load.json&quot; --&gt; add your JSON file name \r\n                app:lottie_loop=&quot;true&quot; /&gt;\r\n\r\n","title":"How to add a Lottie animation in Java programatically","body":"<p>For using Lottie I did these:</p>\n<p>In <code>build.gradle(:app)</code> add this and sync:</p>\n<pre><code>implementation 'com.airbnb.android:lottie:$lottieVersion'\n</code></pre>\n<p>then, add <code>assets</code> file. Then, add the JSON files there. Then, go to <code>activity_main.xml</code> file, add:</p>\n<pre><code>&lt;com.airbnb.lottie.LottieAnimationView\n            android:id=&quot;@+id/lav_actionBar&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;300dp&quot;\n            android:layout_marginStart=&quot;0dp&quot;\n            android:layout_marginTop=&quot;0dp&quot;\n            android:layout_marginEnd=&quot;0dp&quot;\n            android:scaleType=&quot;centerCrop&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:lottie_autoPlay=&quot;true&quot;\n            app:lottie_fileName=&quot;circle-load.json&quot; --&gt; add your JSON file name \n            app:lottie_loop=&quot;true&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":21614062,"reputation":51,"user_id":15940148,"display_name":"Infinite Support"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11947,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":67567633,"answer_count":4,"score":3,"last_activity_date":1679477786,"creation_date":1621151711,"question_id":67554279,"body_markdown":"I tried to add Lottie Animation to Java (Android) programmatically, but I keep failing. I will show my code below I need to change from drawable to Lottie.\r\n\r\nThis is the code for drawables:\r\n\r\n    if (status.equals(&quot;connect&quot;)) {\r\n\r\n                vpnBtn.setBackgroundResource(R.drawable.but_connect_light);\r\n                logTv.setTextColor(getResources().getColor(R.color.font_color));\r\n\r\n            } else if (status.equals(&quot;connecting&quot;)) {\r\n\r\n                vpnBtn.setBackgroundResource(R.drawable.but_connecting_dark);\r\n                logTv.setTextColor(getResources().getColor(R.color.font_color));\r\n\r\n            } else if (status.equals(&quot;connected&quot;)) {\r\n\r\n                vpnBtn.setBackgroundResource(R.drawable.but_disconnect_dark);\r\n                logTv.setTextColor(getResources().getColor(R.color.purple));\r\n\r\n            } else if (status.equals(&quot;failed&quot;)) {\r\n\r\n                vpnBtn.setBackgroundResource(R.drawable.but_connect_dark);\r\n\r\n            }\r\n\r\nThis is the xml relating above\r\n\r\n    &lt;ImageView\r\n            android:id=&quot;@+id/vpnBtn&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:layout_gravity=&quot;center_horizontal&quot;\r\n            android:tag=&quot;1&quot;\r\n            android:layout_width=&quot;140dp&quot;\r\n            android:layout_height=&quot;140dp&quot;\r\n            android:background=&quot;@drawable/but_connect_light&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:layout_marginBottom=&quot;50dp&quot;/&gt;","title":"How to add a Lottie animation in Java programatically","body":"<p>I tried to add Lottie Animation to Java (Android) programmatically, but I keep failing. I will show my code below I need to change from drawable to Lottie.</p>\n<p>This is the code for drawables:</p>\n<pre><code>if (status.equals(&quot;connect&quot;)) {\n\n            vpnBtn.setBackgroundResource(R.drawable.but_connect_light);\n            logTv.setTextColor(getResources().getColor(R.color.font_color));\n\n        } else if (status.equals(&quot;connecting&quot;)) {\n\n            vpnBtn.setBackgroundResource(R.drawable.but_connecting_dark);\n            logTv.setTextColor(getResources().getColor(R.color.font_color));\n\n        } else if (status.equals(&quot;connected&quot;)) {\n\n            vpnBtn.setBackgroundResource(R.drawable.but_disconnect_dark);\n            logTv.setTextColor(getResources().getColor(R.color.purple));\n\n        } else if (status.equals(&quot;failed&quot;)) {\n\n            vpnBtn.setBackgroundResource(R.drawable.but_connect_dark);\n\n        }\n</code></pre>\n<p>This is the xml relating above</p>\n<pre><code>&lt;ImageView\n        android:id=&quot;@+id/vpnBtn&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:layout_gravity=&quot;center_horizontal&quot;\n        android:tag=&quot;1&quot;\n        android:layout_width=&quot;140dp&quot;\n        android:layout_height=&quot;140dp&quot;\n        android:background=&quot;@drawable/but_connect_light&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginBottom=&quot;50dp&quot;/&gt;\n</code></pre>\n"},{"tags":["java","quarkus","hasura","graphql-java","smallrye"],"owner":{"account_id":27694744,"reputation":1,"user_id":21140712,"display_name":"Nancy Smith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679477632,"creation_date":1679477498,"question_id":75810468,"body_markdown":"How to write this query in java?\r\n```\r\nquery MyQuery {\r\n  user_tasks(where: {\r\n    assignee_id: {\r\n    _eq: &quot;123&quot;\r\n    }\r\n  }) \r\n  {\r\n    variables\r\n    assignee_id\r\n    job_key\r\n  }\r\n}\r\n```\r\nI am using quarkus-smallrye-graphql-client library\r\nhttps://smallrye.io/smallrye-graphql/2.0.0/dynamic-client-usage/ here is only plain strings example to how to write a query with condition","title":"Write graphql query to hasura in java code","body":"<p>How to write this query in java?</p>\n<pre><code>query MyQuery {\n  user_tasks(where: {\n    assignee_id: {\n    _eq: &quot;123&quot;\n    }\n  }) \n  {\n    variables\n    assignee_id\n    job_key\n  }\n}\n</code></pre>\n<p>I am using quarkus-smallrye-graphql-client library\n<a href=\"https://smallrye.io/smallrye-graphql/2.0.0/dynamic-client-usage/\" rel=\"nofollow noreferrer\">https://smallrye.io/smallrye-graphql/2.0.0/dynamic-client-usage/</a> here is only plain strings example to how to write a query with condition</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1638541972,"post_id":70214844,"comment_id":124123379,"body_markdown":"A source directory is not a good place for jar files. And it’s not unusual that this source directory does not exist in the deployed software.","body":"A source directory is not a good place for jar files. And it’s not unusual that this source directory does not exist in the deployed software."},{"owner":{"account_id":23286831,"reputation":1,"user_id":17369534,"display_name":"user17369534"},"score":0,"creation_date":1638789902,"post_id":70214844,"comment_id":124173282,"body_markdown":"@Holger ,thank you for the response.then whic path  can i give?","body":"@Holger ,thank you for the response.then whic path  can i give?"}],"owner":{"account_id":23286831,"reputation":1,"user_id":17369534,"display_name":"user17369534"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2300,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679477603,"creation_date":1638537016,"question_id":70214844,"body_markdown":"I am trying to encrypt / decrypt messages using libvibesimplejava.so of 6.21 version where I have added the dependencies to load the jar from system path when I deployed to dev instance it&#39;s throwing this error:\r\n\r\n```\r\nCaused by: java.lang.NoClassDefFoundError: com/voltage/securedata/enterprise/VeException\r\nCaused by: java.lang.ClassNotFoundException: com.voltage.securedata.enterprise.VeException\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:381) ~[na:1.8.0_181]\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:424) ~[na:1.8.0_181]\r\n  \r\n```\r\n\r\nBelow is the code for library instantiation \r\n```\r\nLoading Library -\r\nstatic {\r\n        System.load(&quot;src/main/resources/****/libvibesimplejava.so&quot;);\r\n    }\r\nLibrary context instanitiation -\r\nLibraryContext library = new LibraryContext.Builder()\r\n                .setPolicyURL(policyURL)\r\n                .setFileCachePath(cachePath)\r\n                .setTrustStorePath(trustStorePath)\r\n                .setClientIdProduct(&quot;****&quot;,\r\n                        &quot;***&quot;)\r\n                .build();\r\n\r\nPom file -\r\n &lt;dependency&gt;\r\n            &lt;groupId&gt;vibesimplejava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;vibesimplejava&lt;/artifactId&gt;\r\n            &lt;version&gt;6.21.0.0&lt;/version&gt;\r\n            &lt;scope&gt;system&lt;/scope&gt;\r\n            &lt;systemPath&gt;${basedir}/src/main/resources/****/lib/vibesimplejava.jar&lt;/systemPath&gt;\r\n        &lt;/dependency&gt;\r\n\r\n```\r\n\r\nWhy it is failing to load the class in dev? Could any one suggest me the way to resolve this issue?","title":"Unable to load the voltage class java.lang.NoClassDefFoundError: com/voltage/securedata/enterprise/VeException","body":"<p>I am trying to encrypt / decrypt messages using libvibesimplejava.so of 6.21 version where I have added the dependencies to load the jar from system path when I deployed to dev instance it's throwing this error:</p>\n<pre><code>Caused by: java.lang.NoClassDefFoundError: com/voltage/securedata/enterprise/VeException\nCaused by: java.lang.ClassNotFoundException: com.voltage.securedata.enterprise.VeException\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381) ~[na:1.8.0_181]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424) ~[na:1.8.0_181]\n  \n</code></pre>\n<p>Below is the code for library instantiation</p>\n<pre><code>Loading Library -\nstatic {\n        System.load(&quot;src/main/resources/****/libvibesimplejava.so&quot;);\n    }\nLibrary context instanitiation -\nLibraryContext library = new LibraryContext.Builder()\n                .setPolicyURL(policyURL)\n                .setFileCachePath(cachePath)\n                .setTrustStorePath(trustStorePath)\n                .setClientIdProduct(&quot;****&quot;,\n                        &quot;***&quot;)\n                .build();\n\nPom file -\n &lt;dependency&gt;\n            &lt;groupId&gt;vibesimplejava&lt;/groupId&gt;\n            &lt;artifactId&gt;vibesimplejava&lt;/artifactId&gt;\n            &lt;version&gt;6.21.0.0&lt;/version&gt;\n            &lt;scope&gt;system&lt;/scope&gt;\n            &lt;systemPath&gt;${basedir}/src/main/resources/****/lib/vibesimplejava.jar&lt;/systemPath&gt;\n        &lt;/dependency&gt;\n\n</code></pre>\n<p>Why it is failing to load the class in dev? Could any one suggest me the way to resolve this issue?</p>\n"},{"tags":["java","windows-server-2012-r2","powershell-remoting","winrm"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1679479003,"post_id":75810360,"comment_id":133727913,"body_markdown":"tough one! this winrm-version depends on (ancient) cxf:3.3.9 ([proof](https://github.com/cloudsoft/winrm4j/blob/0.12.3/pom.xml#L70)), [that&#39;s the line](https://github.com/apache/cxf/blob/cxf-3.3.9/rt/wsdl/src/main/java/org/apache/cxf/wsdl11/WSDLServiceFactory.java#L85), which produces npe (still identical with [&quot;main version&quot;](https://github.com/apache/cxf/blob/main/rt/wsdl/src/main/java/org/apache/cxf/wsdl11/WSDLServiceFactory.java#L85))... so or &quot;the bus&quot; or &quot;the extenson&quot; (cxf wsdl manager) seem to be `null`....","body":"tough one! this winrm-version depends on (ancient) cxf:3.3.9 (<a href=\"https://github.com/cloudsoft/winrm4j/blob/0.12.3/pom.xml#L70\" rel=\"nofollow noreferrer\">proof</a>), <a href=\"https://github.com/apache/cxf/blob/cxf-3.3.9/rt/wsdl/src/main/java/org/apache/cxf/wsdl11/WSDLServiceFactory.java#L85\" rel=\"nofollow noreferrer\">that&#39;s the line</a>, which produces npe (still identical with <a href=\"https://github.com/apache/cxf/blob/main/rt/wsdl/src/main/java/org/apache/cxf/wsdl11/WSDLServiceFactory.java#L85\" rel=\"nofollow noreferrer\">&quot;main version&quot;</a>)... so or &quot;the bus&quot; or &quot;the extenson&quot; (cxf wsdl manager) seem to be <code>null</code>...."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1679479106,"post_id":75810360,"comment_id":133727947,"body_markdown":"(pro forma) you should file [an issue](https://github.com/cloudsoft/winrm4j/issues), but still should (try to) debug that!","body":"(pro forma) you should file <a href=\"https://github.com/cloudsoft/winrm4j/issues\" rel=\"nofollow noreferrer\">an issue</a>, but still should (try to) debug that!"}],"owner":{"account_id":4191169,"reputation":909,"user_id":3433752,"accept_rate":50,"display_name":"sensitive_piece_of_horseflesh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679477570,"creation_date":1679476895,"question_id":75810360,"body_markdown":"I am trying to run a PowerShell command or script on a remote Windows machine from an Ubuntu machine using Java library winrm4j.\r\n\r\nHere is my code: \r\n            \r\n```java\r\nWinRmToolResponse resp = null;\r\ntry {\r\n    WinRmClientContext context = WinRmClientContext.newInstance();\r\n    WinRmTool tool = WinRmTool.Builder.builder(&quot;&lt;window-hostname&gt;&quot;, user, pass)\r\n            .authenticationScheme(AuthSchemes.NTLM)\r\n            .disableCertificateChecks(true)\r\n            .port(5985)\r\n            .useHttps(false)\r\n            .context(context)\r\n            .build();\r\n\r\n    resp = tool.executePs(&quot;Get-Date&quot;);\r\n    System.out.println(resp.getStatusCode());\r\n    System.out.println(resp.getStdOut());\r\n    System.out.println(resp.getStdErr());\r\n    context.shutdown();\r\n}\r\ncatch (Exception e) {\r\n\tSystem.out.println(&quot;Error in running powershell script&quot;);\r\n    e.printStackTrace();\r\n}\r\n```\r\nAbove code runs successfully when running from local Windows machine or Eclipse, but when running this code from a JAR placed on an Ubuntu machine, I keep getting error:\r\n```none\r\n0    [main] INFO  org.apache.cxf.wsdl.service.factory.ReflectionServiceFactoryBean  - Creating Service {http://schemas.dmtf.org/wbem/wsman/1/wsman.xsd}WinRmService from WSDL: jar:file:/home/ubuntu/demo2-0.0.1-SNAPSHOT.jar!/wsdl/WinRmService.wsdl\r\n6    [main] WARN  io.cloudsoft.winrm4j.client.WinRmClient  - Error creating WinRm service with mbean strategy (trying other strategies): java.lang.NullPointerException\r\njava.lang.NullPointerException\r\n        at org.apache.cxf.wsdl11.WSDLServiceFactory.&lt;init&gt;(WSDLServiceFactory.java:85)\r\n        at org.apache.cxf.wsdl.service.factory.ReflectionServiceFactoryBean.buildServiceFromWSDL(ReflectionServiceFactoryBean.java:393)\r\n        at org.apache.cxf.wsdl.service.factory.ReflectionServiceFactoryBean.initializeServiceModel(ReflectionServiceFactoryBean.java:527)\r\n        at org.apache.cxf.wsdl.service.factory.ReflectionServiceFactoryBean.create(ReflectionServiceFactoryBean.java:262)\r\n        at org.apache.cxf.jaxws.support.JaxWsServiceFactoryBean.create(JaxWsServiceFactoryBean.java:199)\r\n        at org.apache.cxf.frontend.AbstractWSDLBasedEndpointFactory.createEndpoint(AbstractWSDLBasedEndpointFactory.java:103)\r\n        at org.apache.cxf.frontend.ClientFactoryBean.create(ClientFactoryBean.java:91)\r\n        at org.apache.cxf.frontend.ClientProxyFactoryBean.create(ClientProxyFactoryBean.java:159)\r\n        at org.apache.cxf.jaxws.JaxWsProxyFactoryBean.create(JaxWsProxyFactoryBean.java:142)\r\n        at org.apache.cxf.frontend.ClientProxyFactoryBean.create(ClientProxyFactoryBean.java:95)\r\n        at io.cloudsoft.winrm4j.client.WinRmFactory.doCreateServiceWithBean(WinRmFactory.java:140)\r\n        at io.cloudsoft.winrm4j.client.WinRmFactory.createService(WinRmFactory.java:44)\r\n        at io.cloudsoft.winrm4j.client.WinRmFactory.newInstance(WinRmFactory.java:32)\r\n        at io.cloudsoft.winrm4j.client.WinRmClient.getService(WinRmClient.java:244)\r\n        at io.cloudsoft.winrm4j.client.WinRmClient.&lt;init&gt;(WinRmClient.java:220)\r\n        at io.cloudsoft.winrm4j.client.WinRmClientBuilder.build(WinRmClientBuilder.java:285)\r\n        at io.cloudsoft.winrm4j.winrm.WinRmTool.executeCommand(WinRmTool.java:396)\r\n        at io.cloudsoft.winrm4j.winrm.WinRmTool.executePs(WinRmTool.java:422)\r\n        at io.cloudsoft.winrm4j.winrm.WinRmTool.executePs(WinRmTool.java:413)\r\n        at PowershellTester.main(PowershellTester.java:58)\r\n18   [main] WARN  io.cloudsoft.winrm4j.client.WinRmClient  - Error creating WinRm service with reflective delegate (trying other strategies): java.lang.NullPointerException\r\njava.lang.NullPointerException\r\n        at org.apache.cxf.wsdl11.WSDLServiceFactory.&lt;init&gt;(WSDLServiceFactory.java:85)\r\n        at org.apache.cxf.jaxws.ServiceImpl.initializePorts(ServiceImpl.java:217)\r\n        at org.apache.cxf.jaxws.ServiceImpl.initialize(ServiceImpl.java:160)\r\n        at org.apache.cxf.jaxws.ServiceImpl.&lt;init&gt;(ServiceImpl.java:128)\r\n        at org.apache.cxf.jaxws.spi.ProviderImpl.createServiceDelegate(ProviderImpl.java:82)\r\n        at javax.xml.ws.Service.&lt;init&gt;(Service.java:77)\r\n        at io.cloudsoft.winrm4j.client.WinRmService.&lt;init&gt;(WinRmService.java:44)\r\n        at io.cloudsoft.winrm4j.client.WinRmFactory.doCreateService_1_CreateMinimalServiceInstance(WinRmFactory.java:144)\r\n        at io.cloudsoft.winrm4j.client.WinRmFactory.doCreateServiceWithReflectivelySetDelegate(WinRmFactory.java:86)\r\n        at io.cloudsoft.winrm4j.client.WinRmFactory.createService(WinRmFactory.java:61)\r\n        at io.cloudsoft.winrm4j.client.WinRmFactory.newInstance(WinRmFactory.java:32)\r\n        at io.cloudsoft.winrm4j.client.WinRmClient.getService(WinRmClient.java:244)\r\n        at io.cloudsoft.winrm4j.client.WinRmClient.&lt;init&gt;(WinRmClient.java:220)\r\n        at io.cloudsoft.winrm4j.client.WinRmClientBuilder.build(WinRmClientBuilder.java:285)\r\n        at io.cloudsoft.winrm4j.winrm.WinRmTool.executeCommand(WinRmTool.java:396)\r\n        at io.cloudsoft.winrm4j.winrm.WinRmTool.executePs(WinRmTool.java:422)\r\n        at io.cloudsoft.winrm4j.winrm.WinRmTool.executePs(WinRmTool.java:413)\r\n        at PowershellTester.main(PowershellTester.java:58)\r\n21   [main] WARN  io.cloudsoft.winrm4j.client.WinRmClient  - Error creating WinRm service with many strategies (giving up): java.lang.NullPointerException\r\njava.lang.NullPointerException\r\n        at org.apache.cxf.wsdl11.WSDLServiceFactory.&lt;init&gt;(WSDLServiceFactory.java:85)\r\n        at org.apache.cxf.jaxws.ServiceImpl.initializePorts(ServiceImpl.java:217)\r\n        at org.apache.cxf.jaxws.ServiceImpl.initialize(ServiceImpl.java:160)\r\n        at org.apache.cxf.jaxws.ServiceImpl.&lt;init&gt;(ServiceImpl.java:128)\r\n        at org.apache.cxf.jaxws.spi.ProviderImpl.createServiceDelegate(ProviderImpl.java:82)\r\n        at javax.xml.ws.Service.&lt;init&gt;(Service.java:77)\r\n        at io.cloudsoft.winrm4j.client.WinRmService.&lt;init&gt;(WinRmService.java:44)\r\n        at io.cloudsoft.winrm4j.client.WinRmFactory.doCreateService_1_CreateMinimalServiceInstance(WinRmFactory.java:144)\r\n        at io.cloudsoft.winrm4j.client.WinRmFactory.doCreateServiceNormal(WinRmFactory.java:79)\r\n        at io.cloudsoft.winrm4j.client.WinRmFactory.createService(WinRmFactory.java:68)\r\n        at io.cloudsoft.winrm4j.client.WinRmFactory.newInstance(WinRmFactory.java:32)\r\n        at io.cloudsoft.winrm4j.client.WinRmClient.getService(WinRmClient.java:244)\r\n        at io.cloudsoft.winrm4j.client.WinRmClient.&lt;init&gt;(WinRmClient.java:220)\r\n        at io.cloudsoft.winrm4j.client.WinRmClientBuilder.build(WinRmClientBuilder.java:285)\r\n        at io.cloudsoft.winrm4j.winrm.WinRmTool.executeCommand(WinRmTool.java:396)\r\n        at io.cloudsoft.winrm4j.winrm.WinRmTool.executePs(WinRmTool.java:422)\r\n        at io.cloudsoft.winrm4j.winrm.WinRmTool.executePs(WinRmTool.java:413)\r\n        at PowershellTester.main(PowershellTester.java:58)\r\n```\r\n\r\nThe Gradle dependency I have used in my build.gradle is:\r\n```groovy\r\nimplementation group: &#39;io.cloudsoft.windows&#39;, name: &#39;winrm4j&#39;, version: &#39;0.12.3&#39;\r\n```\r\n\r\n","title":"Run PowerShell script on remote Windows machine from Linux box","body":"<p>I am trying to run a PowerShell command or script on a remote Windows machine from an Ubuntu machine using Java library winrm4j.</p>\n<p>Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>WinRmToolResponse resp = null;\ntry {\n    WinRmClientContext context = WinRmClientContext.newInstance();\n    WinRmTool tool = WinRmTool.Builder.builder(&quot;&lt;window-hostname&gt;&quot;, user, pass)\n            .authenticationScheme(AuthSchemes.NTLM)\n            .disableCertificateChecks(true)\n            .port(5985)\n            .useHttps(false)\n            .context(context)\n            .build();\n\n    resp = tool.executePs(&quot;Get-Date&quot;);\n    System.out.println(resp.getStatusCode());\n    System.out.println(resp.getStdOut());\n    System.out.println(resp.getStdErr());\n    context.shutdown();\n}\ncatch (Exception e) {\n    System.out.println(&quot;Error in running powershell script&quot;);\n    e.printStackTrace();\n}\n</code></pre>\n<p>Above code runs successfully when running from local Windows machine or Eclipse, but when running this code from a JAR placed on an Ubuntu machine, I keep getting error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>0    [main] INFO  org.apache.cxf.wsdl.service.factory.ReflectionServiceFactoryBean  - Creating Service {http://schemas.dmtf.org/wbem/wsman/1/wsman.xsd}WinRmService from WSDL: jar:file:/home/ubuntu/demo2-0.0.1-SNAPSHOT.jar!/wsdl/WinRmService.wsdl\n6    [main] WARN  io.cloudsoft.winrm4j.client.WinRmClient  - Error creating WinRm service with mbean strategy (trying other strategies): java.lang.NullPointerException\njava.lang.NullPointerException\n        at org.apache.cxf.wsdl11.WSDLServiceFactory.&lt;init&gt;(WSDLServiceFactory.java:85)\n        at org.apache.cxf.wsdl.service.factory.ReflectionServiceFactoryBean.buildServiceFromWSDL(ReflectionServiceFactoryBean.java:393)\n        at org.apache.cxf.wsdl.service.factory.ReflectionServiceFactoryBean.initializeServiceModel(ReflectionServiceFactoryBean.java:527)\n        at org.apache.cxf.wsdl.service.factory.ReflectionServiceFactoryBean.create(ReflectionServiceFactoryBean.java:262)\n        at org.apache.cxf.jaxws.support.JaxWsServiceFactoryBean.create(JaxWsServiceFactoryBean.java:199)\n        at org.apache.cxf.frontend.AbstractWSDLBasedEndpointFactory.createEndpoint(AbstractWSDLBasedEndpointFactory.java:103)\n        at org.apache.cxf.frontend.ClientFactoryBean.create(ClientFactoryBean.java:91)\n        at org.apache.cxf.frontend.ClientProxyFactoryBean.create(ClientProxyFactoryBean.java:159)\n        at org.apache.cxf.jaxws.JaxWsProxyFactoryBean.create(JaxWsProxyFactoryBean.java:142)\n        at org.apache.cxf.frontend.ClientProxyFactoryBean.create(ClientProxyFactoryBean.java:95)\n        at io.cloudsoft.winrm4j.client.WinRmFactory.doCreateServiceWithBean(WinRmFactory.java:140)\n        at io.cloudsoft.winrm4j.client.WinRmFactory.createService(WinRmFactory.java:44)\n        at io.cloudsoft.winrm4j.client.WinRmFactory.newInstance(WinRmFactory.java:32)\n        at io.cloudsoft.winrm4j.client.WinRmClient.getService(WinRmClient.java:244)\n        at io.cloudsoft.winrm4j.client.WinRmClient.&lt;init&gt;(WinRmClient.java:220)\n        at io.cloudsoft.winrm4j.client.WinRmClientBuilder.build(WinRmClientBuilder.java:285)\n        at io.cloudsoft.winrm4j.winrm.WinRmTool.executeCommand(WinRmTool.java:396)\n        at io.cloudsoft.winrm4j.winrm.WinRmTool.executePs(WinRmTool.java:422)\n        at io.cloudsoft.winrm4j.winrm.WinRmTool.executePs(WinRmTool.java:413)\n        at PowershellTester.main(PowershellTester.java:58)\n18   [main] WARN  io.cloudsoft.winrm4j.client.WinRmClient  - Error creating WinRm service with reflective delegate (trying other strategies): java.lang.NullPointerException\njava.lang.NullPointerException\n        at org.apache.cxf.wsdl11.WSDLServiceFactory.&lt;init&gt;(WSDLServiceFactory.java:85)\n        at org.apache.cxf.jaxws.ServiceImpl.initializePorts(ServiceImpl.java:217)\n        at org.apache.cxf.jaxws.ServiceImpl.initialize(ServiceImpl.java:160)\n        at org.apache.cxf.jaxws.ServiceImpl.&lt;init&gt;(ServiceImpl.java:128)\n        at org.apache.cxf.jaxws.spi.ProviderImpl.createServiceDelegate(ProviderImpl.java:82)\n        at javax.xml.ws.Service.&lt;init&gt;(Service.java:77)\n        at io.cloudsoft.winrm4j.client.WinRmService.&lt;init&gt;(WinRmService.java:44)\n        at io.cloudsoft.winrm4j.client.WinRmFactory.doCreateService_1_CreateMinimalServiceInstance(WinRmFactory.java:144)\n        at io.cloudsoft.winrm4j.client.WinRmFactory.doCreateServiceWithReflectivelySetDelegate(WinRmFactory.java:86)\n        at io.cloudsoft.winrm4j.client.WinRmFactory.createService(WinRmFactory.java:61)\n        at io.cloudsoft.winrm4j.client.WinRmFactory.newInstance(WinRmFactory.java:32)\n        at io.cloudsoft.winrm4j.client.WinRmClient.getService(WinRmClient.java:244)\n        at io.cloudsoft.winrm4j.client.WinRmClient.&lt;init&gt;(WinRmClient.java:220)\n        at io.cloudsoft.winrm4j.client.WinRmClientBuilder.build(WinRmClientBuilder.java:285)\n        at io.cloudsoft.winrm4j.winrm.WinRmTool.executeCommand(WinRmTool.java:396)\n        at io.cloudsoft.winrm4j.winrm.WinRmTool.executePs(WinRmTool.java:422)\n        at io.cloudsoft.winrm4j.winrm.WinRmTool.executePs(WinRmTool.java:413)\n        at PowershellTester.main(PowershellTester.java:58)\n21   [main] WARN  io.cloudsoft.winrm4j.client.WinRmClient  - Error creating WinRm service with many strategies (giving up): java.lang.NullPointerException\njava.lang.NullPointerException\n        at org.apache.cxf.wsdl11.WSDLServiceFactory.&lt;init&gt;(WSDLServiceFactory.java:85)\n        at org.apache.cxf.jaxws.ServiceImpl.initializePorts(ServiceImpl.java:217)\n        at org.apache.cxf.jaxws.ServiceImpl.initialize(ServiceImpl.java:160)\n        at org.apache.cxf.jaxws.ServiceImpl.&lt;init&gt;(ServiceImpl.java:128)\n        at org.apache.cxf.jaxws.spi.ProviderImpl.createServiceDelegate(ProviderImpl.java:82)\n        at javax.xml.ws.Service.&lt;init&gt;(Service.java:77)\n        at io.cloudsoft.winrm4j.client.WinRmService.&lt;init&gt;(WinRmService.java:44)\n        at io.cloudsoft.winrm4j.client.WinRmFactory.doCreateService_1_CreateMinimalServiceInstance(WinRmFactory.java:144)\n        at io.cloudsoft.winrm4j.client.WinRmFactory.doCreateServiceNormal(WinRmFactory.java:79)\n        at io.cloudsoft.winrm4j.client.WinRmFactory.createService(WinRmFactory.java:68)\n        at io.cloudsoft.winrm4j.client.WinRmFactory.newInstance(WinRmFactory.java:32)\n        at io.cloudsoft.winrm4j.client.WinRmClient.getService(WinRmClient.java:244)\n        at io.cloudsoft.winrm4j.client.WinRmClient.&lt;init&gt;(WinRmClient.java:220)\n        at io.cloudsoft.winrm4j.client.WinRmClientBuilder.build(WinRmClientBuilder.java:285)\n        at io.cloudsoft.winrm4j.winrm.WinRmTool.executeCommand(WinRmTool.java:396)\n        at io.cloudsoft.winrm4j.winrm.WinRmTool.executePs(WinRmTool.java:422)\n        at io.cloudsoft.winrm4j.winrm.WinRmTool.executePs(WinRmTool.java:413)\n        at PowershellTester.main(PowershellTester.java:58)\n</code></pre>\n<p>The Gradle dependency I have used in my build.gradle is:</p>\n<pre><code>implementation group: 'io.cloudsoft.windows', name: 'winrm4j', version: '0.12.3'\n</code></pre>\n"},{"tags":["java","data-structures","stack","lru"],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1679477508,"creation_date":1679175941,"answer_id":75778844,"question_id":75778500,"body_markdown":"The time out occurs because `stack.removeElement(key)` does not have a good enough time complexity, and thus -- for some tests with bigger entry sets -- you&#39;ll get a time out.\r\n\r\nThe code challenge on LeetCode gives this information:\r\n\r\n&gt; The functions `get` and `put` must each run in O(1) average time complexity.\r\n\r\nSo that really means you cannot use `stack.removeElement` or anything that similarly has O(&#119899;) time complexity. It must be done more efficiently.\r\n\r\nIf you want to do this with your `HashMap` then you would need to have a doubly linked list, and then have the hashmap reference the node in that doubly linked list. That way you can remove a node in constant time.\r\n\r\nBut,... Java has all this done for you with [`LinkedHashMap`](https://docs.oracle.com/javase/8/docs/api/java/util/LinkedHashMap.html)! The documentation explains:\r\n\r\n&gt; A special constructor is provided to create a linked hash map whose order of iteration is the order in which its entries were last accessed, from least-recently accessed to most-recently (access-order). This kind of map is well-suited to building LRU caches. \r\n\r\nSo then the code becomes quite simple:\r\n\r\n```\r\nclass LRUCache extends LinkedHashMap&lt;Integer, Integer&gt; {\r\n    int capacity;  \r\n    \r\n    public LRUCache(int capacity) {\r\n        // Foresee one more than desired capacity, so no extension is needed\r\n        // when we allow a temporary overrun before deleting the eldest entry\r\n        super(capacity + 1, 1, true); // true will enable the LRU behavior\r\n        this.capacity = capacity;\r\n    }\r\n\r\n    // This method is called internally by put, getOrDefault (and similar).\r\n    //    See documentation\r\n    protected boolean removeEldestEntry(Map.Entry&lt;Integer, Integer&gt; entry) {\r\n        return this.size() &gt; this.capacity; // overrun detected: ask for removal\r\n    }\r\n    \r\n    public int get(int key) {\r\n        return getOrDefault(key, -1);\r\n    }\r\n}\r\n``` ","title":"LRUCache using stack is not efficient enough","body":"<p>The time out occurs because <code>stack.removeElement(key)</code> does not have a good enough time complexity, and thus -- for some tests with bigger entry sets -- you'll get a time out.</p>\n<p>The code challenge on LeetCode gives this information:</p>\n<blockquote>\n<p>The functions <code>get</code> and <code>put</code> must each run in O(1) average time complexity.</p>\n</blockquote>\n<p>So that really means you cannot use <code>stack.removeElement</code> or anything that similarly has O(𝑛) time complexity. It must be done more efficiently.</p>\n<p>If you want to do this with your <code>HashMap</code> then you would need to have a doubly linked list, and then have the hashmap reference the node in that doubly linked list. That way you can remove a node in constant time.</p>\n<p>But,... Java has all this done for you with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/LinkedHashMap.html\" rel=\"nofollow noreferrer\"><code>LinkedHashMap</code></a>! The documentation explains:</p>\n<blockquote>\n<p>A special constructor is provided to create a linked hash map whose order of iteration is the order in which its entries were last accessed, from least-recently accessed to most-recently (access-order). This kind of map is well-suited to building LRU caches.</p>\n</blockquote>\n<p>So then the code becomes quite simple:</p>\n<pre><code>class LRUCache extends LinkedHashMap&lt;Integer, Integer&gt; {\n    int capacity;  \n    \n    public LRUCache(int capacity) {\n        // Foresee one more than desired capacity, so no extension is needed\n        // when we allow a temporary overrun before deleting the eldest entry\n        super(capacity + 1, 1, true); // true will enable the LRU behavior\n        this.capacity = capacity;\n    }\n\n    // This method is called internally by put, getOrDefault (and similar).\n    //    See documentation\n    protected boolean removeEldestEntry(Map.Entry&lt;Integer, Integer&gt; entry) {\n        return this.size() &gt; this.capacity; // overrun detected: ask for removal\n    }\n    \n    public int get(int key) {\n        return getOrDefault(key, -1);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28052966,"reputation":1,"user_id":21428527,"display_name":"Chinmaya Sahu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1679477508,"creation_date":1679171306,"question_id":75778500,"body_markdown":"I am trying to solve the LeetCode problem [146. LRU Cache](https://leetcode.com/problems/lru-cache/):\r\n\r\n&gt; Design a data structure that follows the constraints of a [Least Recently Used (LRU) cache](https://en.wikipedia.org/wiki/Cache_replacement_policies#LRU).\r\n&gt; \r\n&gt; Implement the LRUCache class:\r\n&gt; \r\n&gt; * `LRUCache(int capacity)` Initialize the LRU cache with **positive** size `capacity`.\r\n&gt; * `int get(int key)` Return the value of the `key` if the `key` exists, otherwise return -1.\r\n&gt; * `void put(int key, int value)` Update the value of the `key` if the `key` exists. Otherwise, add the `key-value` pair to the cache. If the number of keys exceeds the `capacity` from this operation, **evict** the least recently used key.\r\n&gt; \r\n&gt; The functions `get` and `put` must each run in O(1) average time complexity.\r\n\r\nThis is my code:\r\n\r\n\r\n```java\r\nclass LRUCache {\r\n    Stack&lt;Integer&gt; stack;\r\n    HashMap&lt;Integer, Integer&gt; cache;\r\n    int capacity;\r\n    \r\n    public LRUCache(int capacity) {\r\n        this.capacity = capacity;\r\n        stack = new Stack&lt;&gt;();\r\n        cache = new HashMap&lt;&gt;();        \r\n    }\r\n    \r\n    public int get(int key) {\r\n        if(!cache.containsKey(key)) return -1;\r\n        else \r\n            stack.removeElement(key);\r\n            stack.push(key);\r\n            return cache.get(key);\r\n    }\r\n    \r\n    public void put(int key, int value) {\r\n        if(cache.containsKey(key)){\r\n            stack.removeElement(key);\r\n        }\r\n        else if(stack.size() == capacity){\r\n            int leastRecent = stack.remove(0);\r\n            cache.remove(leastRecent);\r\n        }\r\n        stack.push(key);\r\n        cache.put(key, value);\r\n    }\r\n}\r\n\r\n/*\r\n * Your LRUCache object will be instantiated and called as such:\r\n * LRUCache obj = new LRUCache(capacity);\r\n * int param_1 = obj.get(key);\r\n * obj.put(key,value);\r\n */\r\n```\r\n\r\nAll the test cases passed but I am getting &quot;time limit exceeded&quot; error:\r\n\r\n![Error](https://i.stack.imgur.com/dsNwC.png)\r\n\r\nHow can I improve the efficiency of my code?","title":"LRUCache using stack is not efficient enough","body":"<p>I am trying to solve the LeetCode problem <a href=\"https://leetcode.com/problems/lru-cache/\" rel=\"nofollow noreferrer\">146. LRU Cache</a>:</p>\n<blockquote>\n<p>Design a data structure that follows the constraints of a <a href=\"https://en.wikipedia.org/wiki/Cache_replacement_policies#LRU\" rel=\"nofollow noreferrer\">Least Recently Used (LRU) cache</a>.</p>\n<p>Implement the LRUCache class:</p>\n<ul>\n<li><code>LRUCache(int capacity)</code> Initialize the LRU cache with <strong>positive</strong> size <code>capacity</code>.</li>\n<li><code>int get(int key)</code> Return the value of the <code>key</code> if the <code>key</code> exists, otherwise return -1.</li>\n<li><code>void put(int key, int value)</code> Update the value of the <code>key</code> if the <code>key</code> exists. Otherwise, add the <code>key-value</code> pair to the cache. If the number of keys exceeds the <code>capacity</code> from this operation, <strong>evict</strong> the least recently used key.</li>\n</ul>\n<p>The functions <code>get</code> and <code>put</code> must each run in O(1) average time complexity.</p>\n</blockquote>\n<p>This is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class LRUCache {\n    Stack&lt;Integer&gt; stack;\n    HashMap&lt;Integer, Integer&gt; cache;\n    int capacity;\n    \n    public LRUCache(int capacity) {\n        this.capacity = capacity;\n        stack = new Stack&lt;&gt;();\n        cache = new HashMap&lt;&gt;();        \n    }\n    \n    public int get(int key) {\n        if(!cache.containsKey(key)) return -1;\n        else \n            stack.removeElement(key);\n            stack.push(key);\n            return cache.get(key);\n    }\n    \n    public void put(int key, int value) {\n        if(cache.containsKey(key)){\n            stack.removeElement(key);\n        }\n        else if(stack.size() == capacity){\n            int leastRecent = stack.remove(0);\n            cache.remove(leastRecent);\n        }\n        stack.push(key);\n        cache.put(key, value);\n    }\n}\n\n/*\n * Your LRUCache object will be instantiated and called as such:\n * LRUCache obj = new LRUCache(capacity);\n * int param_1 = obj.get(key);\n * obj.put(key,value);\n */\n</code></pre>\n<p>All the test cases passed but I am getting &quot;time limit exceeded&quot; error:</p>\n<p><img src=\"https://i.stack.imgur.com/dsNwC.png\" alt=\"Error\" /></p>\n<p>How can I improve the efficiency of my code?</p>\n"},{"tags":["java","gson","aem","junit5"],"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1679433891,"post_id":75789505,"comment_id":133721220,"body_markdown":"Probably you somehow have multiple versions of Gson on your classpath, see also the [troubleshooting guide](https://github.com/google/gson/blob/master/Troubleshooting.md#nosuchmethoderror-when-calling-gson-methods); try `Gson.class.getProtectionDomain().getCodeSource().getLocation()` and `Class.forName(&quot;com.google.gson.internal.ConstructorConstructor&quot;).getProtectionDomain().getCodeSource().getLocation()`. They should both report the same JAR file.","body":"Probably you somehow have multiple versions of Gson on your classpath, see also the <a href=\"https://github.com/google/gson/blob/master/Troubleshooting.md#nosuchmethoderror-when-calling-gson-methods\" rel=\"nofollow noreferrer\">troubleshooting guide</a>; try <code>Gson.class.getProtectionDomain().getCodeSource().getLocation&zwnj;&#8203;()</code> and <code>Class.forName(&quot;com.google.gson.internal.ConstructorConstruct&zwnj;&#8203;or&quot;).getProtectionDo&zwnj;&#8203;main().getCodeSource&zwnj;&#8203;().getLocation()</code>. They should both report the same JAR file."},{"owner":{"account_id":28064558,"reputation":1,"user_id":21438143,"display_name":"Sandeep"},"score":0,"creation_date":1679477284,"post_id":75789505,"comment_id":133727494,"body_markdown":"Thanks Marcono , for the reply but we are using single version of GSON only.","body":"Thanks Marcono , for the reply but we are using single version of GSON only."},{"owner":{"account_id":28064558,"reputation":1,"user_id":21438143,"display_name":"Sandeep"},"score":0,"creation_date":1679477380,"post_id":75789505,"comment_id":133727521,"body_markdown":"We want how we can write junit for this particular line or either we can bypass this particular set of line to continue with our junit.\nIdDetails idDetails = new Gson().fromJson(req.getReader(),IdDetails.class);","body":"We want how we can write junit for this particular line or either we can bypass this particular set of line to continue with our junit. IdDetails idDetails = new Gson().fromJson(req.getReader(),IdDetails.class);"},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1679516068,"post_id":75789505,"comment_id":133738037,"body_markdown":"What I meant was that your unit test execution is incorrectly configured and loads two versions of Gson, not because you have declared Gson two times but because a tool or library you are using adds a second version of Gson. Otherwise you would not experience the `NoSuchMethodError`, because the JARs published by Gson are complete. Please edit your unit test to run the code shown above and prints its output to console to find out where the Gson classes are loaded from. If different locations are printed it might help you to find the underlying cause for the issue.","body":"What I meant was that your unit test execution is incorrectly configured and loads two versions of Gson, not because you have declared Gson two times but because a tool or library you are using adds a second version of Gson. Otherwise you would not experience the <code>NoSuchMethodError</code>, because the JARs published by Gson are complete. Please edit your unit test to run the code shown above and prints its output to console to find out where the Gson classes are loaded from. If different locations are printed it might help you to find the underlying cause for the issue."},{"owner":{"account_id":1869173,"reputation":991,"user_id":1691864,"accept_rate":57,"display_name":"Dawid Pura"},"score":0,"creation_date":1680880606,"post_id":75789505,"comment_id":133975012,"body_markdown":"You can check classpaths via `-X` flag in Maven, for instance.","body":"You can check classpaths via <code>-X</code> flag in Maven, for instance."}],"owner":{"account_id":28064558,"reputation":1,"user_id":21438143,"display_name":"Sandeep"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679477211,"creation_date":1679310301,"question_id":75789505,"body_markdown":"I have a java pojo class &quot;IdDetails.java&quot; with Getter/Setter methods. I am mapping this pojo in another Servlet using Gson.fromJson . When I am instantiating Gson in Junit5 Test Class it is giving the below error ----\r\n**java.lang.NoSuchMethodError: &#39;void com.google.gson.internal.ConstructorConstructor.&lt;init&gt;(java.util.Map)&#39;&#160;&#160;&#160;&#160; at com.google.gson.Gson.&lt;init&gt;(Gson.java:209)\r\n&#160;&#160;&#160; at com.google.gson.GsonBuilder.create(GsonBuilder.java:626)**\r\n\r\n\r\nCan anyone help in writing Junit5 test case to cover this specific line -- \r\n\r\nIdDetails idDetails = new Gson().fromJson(req.getReader(),IdDetails.class);\r\n  \r\nThe codes are provided below - \r\n\r\nIdDetails class - \r\n\r\n```\r\npublic class IdDetails {\r\n    private String fb;\r\n    private String gd;\r\n    private String apple;\r\n\r\n    public String getFb() {\r\n        return fb;\r\n    }\r\n\r\n    public void setFb(String fb) {\r\n        this.fb= fb;\r\n    }\r\n\r\n    public String getGd() { return gd; }\r\n\r\n    public void setGd(String gd) {\r\n        this.gd= gd;\r\n    }\r\n\r\n}\r\n```\r\n\r\nSlingPostServlet - \r\n\r\n```\r\n@Override\r\nprotected void doPost(final SlingHttpServletRequest req, final SlingHttpServletResponse resp) throws IOException \r\n{\r\n        IdDetails idDetails = new Gson().fromJson(req.getReader(),IdDetails.class);\r\n        //other codes .....\r\n}\r\n```\r\n        \r\n\r\nI am beginner in Junit5 . Please help me in writing the test case. ","title":"Junit 5 for Gson used in aem servlet","body":"<p>I have a java pojo class &quot;IdDetails.java&quot; with Getter/Setter methods. I am mapping this pojo in another Servlet using Gson.fromJson . When I am instantiating Gson in Junit5 Test Class it is giving the below error ----\n<strong>java.lang.NoSuchMethodError: 'void com.google.gson.internal.ConstructorConstructor.(java.util.Map)'     at com.google.gson.Gson.(Gson.java:209)\n    at com.google.gson.GsonBuilder.create(GsonBuilder.java:626)</strong></p>\n<p>Can anyone help in writing Junit5 test case to cover this specific line --</p>\n<p>IdDetails idDetails = new Gson().fromJson(req.getReader(),IdDetails.class);</p>\n<p>The codes are provided below -</p>\n<p>IdDetails class -</p>\n<pre><code>public class IdDetails {\n    private String fb;\n    private String gd;\n    private String apple;\n\n    public String getFb() {\n        return fb;\n    }\n\n    public void setFb(String fb) {\n        this.fb= fb;\n    }\n\n    public String getGd() { return gd; }\n\n    public void setGd(String gd) {\n        this.gd= gd;\n    }\n\n}\n</code></pre>\n<p>SlingPostServlet -</p>\n<pre><code>@Override\nprotected void doPost(final SlingHttpServletRequest req, final SlingHttpServletResponse resp) throws IOException \n{\n        IdDetails idDetails = new Gson().fromJson(req.getReader(),IdDetails.class);\n        //other codes .....\n}\n</code></pre>\n<p>I am beginner in Junit5 . Please help me in writing the test case.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":1,"creation_date":1494941251,"post_id":44002807,"comment_id":75034001,"body_markdown":"[Build profiles](http://maven.apache.org/guides/introduction/introduction-to-profiles.html) are your answer.","body":"<a href=\"http://maven.apache.org/guides/introduction/introduction-to-profiles.html\" rel=\"nofollow noreferrer\">Build profiles</a> are your answer."},{"owner":{"account_id":5735131,"reputation":1080,"user_id":4529546,"accept_rate":75,"display_name":"Richard"},"score":0,"creation_date":1494941433,"post_id":44002807,"comment_id":75034142,"body_markdown":"yup. @biziclop is right sadly. Maven isn&#39;t like ant. doing logic was never really the idea. If you want to do scripting in Maven, try using the maven ant plugin.","body":"yup. @biziclop is right sadly. Maven isn&#39;t like ant. doing logic was never really the idea. If you want to do scripting in Maven, try using the maven ant plugin."},{"owner":{"account_id":5636066,"reputation":6620,"user_id":4461537,"accept_rate":89,"display_name":"Ren&#233; Winkler"},"score":0,"creation_date":1494941937,"post_id":44002807,"comment_id":75034559,"body_markdown":"@biziclop then I need a way to activate the corresponding profile based on if it is a snapshot or not...if else condition still exists...","body":"@biziclop then I need a way to activate the corresponding profile based on if it is a snapshot or not...if else condition still exists..."},{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":0,"creation_date":1494943484,"post_id":44002807,"comment_id":75035762,"body_markdown":"@Ren&#233;Winkler No, because you&#39;ll have two profiles. Profile `A` activates if the build is a snapshot, and profile `B` activates if `A` is inactive.","body":"@Ren&#233;Winkler No, because you&#39;ll have two profiles. Profile <code>A</code> activates if the build is a snapshot, and profile <code>B</code> activates if <code>A</code> is inactive."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1494947707,"post_id":44002807,"comment_id":75038951,"body_markdown":"The whole thing is superflous cause that will be handled by Maven automatically. If you have a number which is a release maven will use the release repository and if the version is a SNAPSHOT version maven uses the snapshot repository.","body":"The whole thing is superflous cause that will be handled by Maven automatically. If you have a number which is a release maven will use the release repository and if the version is a SNAPSHOT version maven uses the snapshot repository."},{"owner":{"account_id":5636066,"reputation":6620,"user_id":4461537,"accept_rate":89,"display_name":"Ren&#233; Winkler"},"score":0,"creation_date":1494965488,"post_id":44002807,"comment_id":75049652,"body_markdown":"@biziclop I tried it but without success. I guess you can not use the build-helper-maven-plugin in the plugin section that sets a property that is already used in the beginning of the pom to activate a profile...?","body":"@biziclop I tried it but without success. I guess you can not use the build-helper-maven-plugin in the plugin section that sets a property that is already used in the beginning of the pom to activate a profile...?"}],"answers":[{"tags":[],"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1494947747,"creation_date":1494947747,"answer_id":44005365,"question_id":44002807,"body_markdown":"The whole thing is superflous cause that will be handled by Maven automatically. If you have a version number which is a release version like `1.2.3` maven will use the release repository and if the version is a SNAPSHOT version like &#39;1.2.3-SNAPSHOT` maven uses the snapshot repository.","title":"Conditionally set property in Maven","body":"<p>The whole thing is superflous cause that will be handled by Maven automatically. If you have a version number which is a release version like <code>1.2.3</code> maven will use the release repository and if the version is a SNAPSHOT version like '1.2.3-SNAPSHOT` maven uses the snapshot repository.</p>\n"},{"tags":[],"owner":{"account_id":5636066,"reputation":6620,"user_id":4461537,"accept_rate":89,"display_name":"Ren&#233; Winkler"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1495050406,"creation_date":1495050406,"answer_id":44033580,"question_id":44002807,"body_markdown":"Finally I ended up using the maven-antrun-plugin as follows\r\n\r\n\t&lt;plugin&gt;\r\n\t\t&lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n\t\t&lt;executions&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;phase&gt;validate&lt;/phase&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;exportAntProperties&gt;true&lt;/exportAntProperties&gt;\r\n\t\t\t\t\t&lt;target&gt;\r\n\t\t\t\t\t\t&lt;condition property=&quot;isSnapshot&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;contains string=&quot;${project.version}&quot; substring=&quot;SNAPSHOT&quot; /&gt;\r\n\t\t\t\t\t\t&lt;/condition&gt;\r\n\t\t\t\t\t\t&lt;condition property=&quot;deployFileUrl&quot;\r\n\t\t\t\t\t\t\tvalue=&quot;${project.distributionManagement.snapshotRepository.url}&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;isset property=&quot;isSnapshot&quot; /&gt;\r\n\t\t\t\t\t\t&lt;/condition&gt;\r\n\t\t\t\t\t\t&lt;!-- Properties in ant are immutable, so the following assignments \r\n\t\t\t\t\t\t\twill only take place if deployFileUrl is not yet set. --&gt;\r\n\t\t\t\t\t\t&lt;property name=&quot;deployFileUrl&quot;\r\n\t\t\t\t\t\t\tvalue=&quot;${project.distributionManagement.repository.url}&quot; /&gt;\r\n\t\t\t\t\t&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;run&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t&lt;/executions&gt;\r\n\t&lt;/plugin&gt;","title":"Conditionally set property in Maven","body":"<p>Finally I ended up using the maven-antrun-plugin as follows</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;phase&gt;validate&lt;/phase&gt;\n            &lt;configuration&gt;\n                &lt;exportAntProperties&gt;true&lt;/exportAntProperties&gt;\n                &lt;target&gt;\n                    &lt;condition property=\"isSnapshot\"&gt;\n                        &lt;contains string=\"${project.version}\" substring=\"SNAPSHOT\" /&gt;\n                    &lt;/condition&gt;\n                    &lt;condition property=\"deployFileUrl\"\n                        value=\"${project.distributionManagement.snapshotRepository.url}\"&gt;\n                        &lt;isset property=\"isSnapshot\" /&gt;\n                    &lt;/condition&gt;\n                    &lt;!-- Properties in ant are immutable, so the following assignments \n                        will only take place if deployFileUrl is not yet set. --&gt;\n                    &lt;property name=\"deployFileUrl\"\n                        value=\"${project.distributionManagement.repository.url}\" /&gt;\n                &lt;/target&gt;\n            &lt;/configuration&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;run&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":101503,"reputation":703,"user_id":273043,"display_name":"foal"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1543157863,"creation_date":1543157863,"answer_id":53468751,"question_id":44002807,"body_markdown":"To set the property to two different values depends on a snapshot build (or another condition) you can use the following:\r\n&lt;!-- language: xml --&gt;\r\n\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t&lt;execution&gt;\r\n            \t\t\t\t&lt;!-- sets the only.when.is.snapshot.used property to true\r\n            \t\t\t\tif SNAPSHOT was used, to the project version otherwise --&gt;\r\n\t\t\t\t\t\t\t&lt;id&gt;build-helper-regex-is-snapshot-used&lt;/id&gt;\r\n\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;goal&gt;regex-property&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t\t&lt;name&gt;dockerTag&lt;/name&gt;\r\n\t\t\t\t\t\t\t\t&lt;value&gt;${project.version} dev latest&lt;/value&gt;\r\n\t\t\t\t\t\t\t\t&lt;regex&gt;(?=.*SNAPSHOT).*(dev).*|.*(latest).*&lt;/regex&gt;\r\n\t\t\t\t\t\t\t\t&lt;replacement&gt;$1$2&lt;/replacement&gt;\r\n\t\t\t\t\t\t\t\t&lt;failIfNoMatch&gt;false&lt;/failIfNoMatch&gt;\r\n\t\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\nIt set `dockerTag` property to `dev` or `latest` depends on build type.\r\n\r\nIf you wants to change property values is should change it in two places.For example for `true` and `false` use\r\n`&lt;value&gt;${project.version} true false&lt;/value&gt;` and `&lt;regex&gt;(?=.*SNAPSHOT).*(true).*|.*(false).*&lt;/regex&gt;`.","title":"Conditionally set property in Maven","body":"<p>To set the property to two different values depends on a snapshot build (or another condition) you can use the following:\n</p>\n\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- sets the only.when.is.snapshot.used property to true\n                        if SNAPSHOT was used, to the project version otherwise --&gt;\n                        &lt;id&gt;build-helper-regex-is-snapshot-used&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;regex-property&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;name&gt;dockerTag&lt;/name&gt;\n                            &lt;value&gt;${project.version} dev latest&lt;/value&gt;\n                            &lt;regex&gt;(?=.*SNAPSHOT).*(dev).*|.*(latest).*&lt;/regex&gt;\n                            &lt;replacement&gt;$1$2&lt;/replacement&gt;\n                            &lt;failIfNoMatch&gt;false&lt;/failIfNoMatch&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n\n<p>It set <code>dockerTag</code> property to <code>dev</code> or <code>latest</code> depends on build type.</p>\n\n<p>If you wants to change property values is should change it in two places.For example for <code>true</code> and <code>false</code> use\n<code>&lt;value&gt;${project.version} true false&lt;/value&gt;</code> and <code>&lt;regex&gt;(?=.*SNAPSHOT).*(true).*|.*(false).*&lt;/regex&gt;</code>.</p>\n"}],"owner":{"account_id":5636066,"reputation":6620,"user_id":4461537,"accept_rate":89,"display_name":"Ren&#233; Winkler"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4945,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":44033580,"answer_count":3,"score":10,"last_activity_date":1679476903,"creation_date":1494941121,"question_id":44002807,"body_markdown":"I want to set a property conditionally in maven depending on whether it is a snapshot build or not. The pseudocode looks as follows\r\n\r\n    if ${project.version} ends with &quot;-SNAPSHOT&quot;     \r\n    then\r\n       deployFileUrl = ${project.distributionManagement.snapshotRepository.url}\r\n    else\r\n       deployFileUrl = ${project.distributionManagement.repository.url}\r\n\r\nHow can I implement this in maven?\r\n\r\nI tried it with the build-helper-maven-plugin as follows\r\n\r\n     &lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;executions&gt;\r\n\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t&lt;id&gt;regex-properties&lt;/id&gt;\r\n\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t&lt;goal&gt;regex-properties&lt;/goal&gt;\r\n\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;regexPropertySettings&gt;\r\n\t\t\t\t\t\t\t\t&lt;regexPropertySetting&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;name&gt;deployFileUrl&lt;/name&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;value&gt;${project.version}&lt;/value&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;regex&gt;.*-SNAPSHOT&lt;/regex&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;replacement&gt;${project.distributionManagement.snapshotRepository.url}&lt;/replacement&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;failIfNoMatch&gt;false&lt;/failIfNoMatch&gt;\r\n\t\t\t\t\t\t\t\t&lt;/regexPropertySetting&gt;\r\n\t\t\t\t\t\t\t&lt;/regexPropertySettings&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\nThe problem with this approach is that I can not implement the else-condition. ","title":"Conditionally set property in Maven","body":"<p>I want to set a property conditionally in maven depending on whether it is a snapshot build or not. The pseudocode looks as follows</p>\n\n<pre><code>if ${project.version} ends with \"-SNAPSHOT\"     \nthen\n   deployFileUrl = ${project.distributionManagement.snapshotRepository.url}\nelse\n   deployFileUrl = ${project.distributionManagement.repository.url}\n</code></pre>\n\n<p>How can I implement this in maven?</p>\n\n<p>I tried it with the build-helper-maven-plugin as follows</p>\n\n<pre><code> &lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n     &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;id&gt;regex-properties&lt;/id&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;regex-properties&lt;/goal&gt;\n                &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;regexPropertySettings&gt;\n                            &lt;regexPropertySetting&gt;\n                                &lt;name&gt;deployFileUrl&lt;/name&gt;\n                                &lt;value&gt;${project.version}&lt;/value&gt;\n                                &lt;regex&gt;.*-SNAPSHOT&lt;/regex&gt;\n                                &lt;replacement&gt;${project.distributionManagement.snapshotRepository.url}&lt;/replacement&gt;\n                                &lt;failIfNoMatch&gt;false&lt;/failIfNoMatch&gt;\n                            &lt;/regexPropertySetting&gt;\n                        &lt;/regexPropertySettings&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>The problem with this approach is that I can not implement the else-condition. </p>\n"},{"tags":["java","jpa","criteria"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1679477640,"post_id":75810295,"comment_id":133727575,"body_markdown":"Is using Criteria your requirement? Because it can be done very easy with JPARepository delete/remove methods and some configuration in the Entity classes.","body":"Is using Criteria your requirement? Because it can be done very easy with JPARepository delete/remove methods and some configuration in the Entity classes."},{"owner":{"account_id":5413747,"reputation":373,"user_id":4309568,"accept_rate":40,"display_name":"Aarij Siddiqui"},"score":0,"creation_date":1679478072,"post_id":75810295,"comment_id":133727672,"body_markdown":"Criteria has become my requirement since I am using Micronaut and cascade delete is not supported.","body":"Criteria has become my requirement since I am using Micronaut and cascade delete is not supported."}],"owner":{"account_id":5413747,"reputation":373,"user_id":4309568,"accept_rate":40,"display_name":"Aarij Siddiqui"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679476846,"creation_date":1679476387,"question_id":75810295,"body_markdown":"I want to delete my parent table (it has ids to entries in other tables) and all the children tables through Criteria. I am trying it with join but I am a bit lost here. Can anyone help me out?\r\n\r\nHow do I join the tables based on columns and delete the entry based on parent&#39;s id?\r\n\r\nMy Database structure is as follows:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cmbZQ.png","title":"How to delete multiple tables with Criteria API","body":"<p>I want to delete my parent table (it has ids to entries in other tables) and all the children tables through Criteria. I am trying it with join but I am a bit lost here. Can anyone help me out?</p>\n<p>How do I join the tables based on columns and delete the entry based on parent's id?</p>\n<p>My Database structure is as follows:</p>\n<p><a href=\"https://i.stack.imgur.com/cmbZQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cmbZQ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","hibernate","hibernate-mapping"],"comments":[{"owner":{"account_id":25866694,"reputation":191,"user_id":19598245,"display_name":"Phil Ku"},"score":1,"creation_date":1679475681,"post_id":75800312,"comment_id":133727089,"body_markdown":"Please provide your 22 records of liquibase migration for INPUTVALUERULEARTICLERULEAMOUNTCONSTRAINT.","body":"Please provide your 22 records of liquibase migration for INPUTVALUERULEARTICLERULEAMOUNTCONSTRAINT."},{"owner":{"account_id":5784405,"reputation":595,"user_id":4564127,"accept_rate":80,"display_name":"S&#233;bastien Vandamme"},"score":0,"creation_date":1679476845,"post_id":75800312,"comment_id":133727383,"body_markdown":"Added in the question","body":"Added in the question"}],"owner":{"account_id":5784405,"reputation":595,"user_id":4564127,"accept_rate":80,"display_name":"S&#233;bastien Vandamme"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679476820,"creation_date":1679396298,"question_id":75800312,"body_markdown":"I am a long time user of Hibernate, but I have a problem on one of my projects that I don&#39;t understand and, therefore, that I can&#39;t solve.\r\n\r\nI have three tables linked through a join table.\r\n\r\nTable 1 :  \r\n```\r\ncreate table INPUTVALUERULE\r\n(\r\n    ID          BIGINT      not null constraint PK_INPUTVALUERULE primary key,\r\n    DESCRIPTION VARCHAR(30) not null,\r\n    MANDATORY   SMALLINT,\r\n    EDITABLE    SMALLINT\r\n);\r\n```\r\n\r\nTable 2 : \r\n```\r\ncreate table ARTICLERULE\r\n(\r\n    ID         BIGINT not null constraint PK_ARTICLERULE primary key,\r\n    STARTDATE  DATE   not null,\r\n    ENDDATE    DATE,\r\n    FK_ARTICLE BIGINT not null references ARTICLE\r\n);\r\n```\r\n\r\nTable 3 : \r\n```\r\ncreate table INPUTAMOUNTCONSTRAINT\r\n(\r\n    ID         \t\t\t\t BIGINT generated always as identity constraint PK_INPUTAMOUNTCONSTRAINT primary key,\r\n    AMOUNTCONSTRAINT         VARCHAR(10) not null,\r\n    REGULATORYNUMERICALVALUE DECIMAL(10, 2)\r\n);\r\n```\r\n\r\nJoin table :\r\n```\r\ncreate table INPUTVALUERULEARTICLERULEAMOUNTCONSTRAINT\r\n(\r\n    ID                       BIGINT generated always as identity primary key,\r\n    FK_ARTICLERULE           BIGINT not null references ARTICLERULE,\r\n    FK_INPUTVALUERULE        BIGINT not null references INPUTVALUERULE,\r\n    FK_INPUTAMOUNTCONSTRAINT BIGINT references INPUTAMOUNTCONSTRAINT\r\n);\r\n```\r\n\r\n\r\nThe JPA relations are done in the entity classes.   \r\nIn InputValueRule class, link to InputAmountConstraint :\r\n```\r\n    @ManyToMany\r\n    @JoinTable(\r\n            name=&quot;INPUTVALUERULEARTICLERULEAMOUNTCONSTRAINT&quot;,\r\n            joinColumns = @JoinColumn(name=&quot;FK_InputValueRule&quot;),\r\n            inverseJoinColumns = @JoinColumn(name=&quot;FK_InputAmountConstraint&quot;)\r\n    )\r\n    private Set&lt;InputAmountConstraint&gt; articleAmountConstraints;\r\n```\t\r\n\r\nIn ArticleRule class, link to InputValueRule :   \r\n```\r\n    @ManyToMany\r\n    @JoinTable(\r\n            name = &quot;InputValueRuleArticleRuleAmountConstraint&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;FK_ArticleRule&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;FK_InputValueRule&quot;)\r\n    )\r\n    private Set&lt;InputValueRule&gt; inputValueRules = new HashSet&lt;&gt;();\r\n```\r\n\r\nNo link in InputAmountConstraint class.    \r\n    \r\nAt the very first start of the application, liquibase will populate the join table INPUTVALUERULEARTICLERULEAMOUNTCONSTRAINT with 22 records :    \r\n\r\n| ID | FK_ARTICLERULE | FK_INPUTVALUERULE | FK_INPUTAMOUNTCONSTRAINT |\r\n| :-: | :------------: | :---------------: | :----------------------: |\r\n|73|3|729|75|\r\n|74|3|497|75|\r\n|53|12|497|75|\r\n|54|12|498|20|\r\n|55|15|498|17|\r\n|56|43|497|75|\r\n|57|46|497|75|\r\n|58|47|497|75|\r\n|59|48|497|75v\r\n|60|50|497|7|\r\n|61|51|497|20|\r\n|62|52|497|20|\r\n|63|53|497|20|\r\n|64|55|497|20|\r\n|65|58|497|20|\r\n|66|51|598|20|\r\n|67|52|598|20|\r\n|68|53|598|20|\r\n|69|55|598|20|\r\n|70|58|598|20|\r\n|71|2|729|75|\r\n|72|2|497|75|\r\n  \r\nBut when I start to use the application, hibernate decide to &quot;clean&quot; the join table and only 12 records stay, of which only 7 are from the original 22 (the other 5 are inserted by hibernate with a null value in the FK_INPUTAMOUNTCONSTRAINT column) :    \r\n\r\n| ID | FK_ARTICLERULE | FK_INPUTVALUERULE | FK_INPUTAMOUNTCONSTRAINT |\r\n| :-: | :------------: | :---------------: | :----------------------: |\r\n|73|3|729|75|\r\n|102|53|497|null|\r\n|103|55|497|null|\r\n|104|58|497|null|\r\n|100|51|497|null|\r\n|66|51|598|20|\r\n|67|52|598|20|\r\n|68|53|598|20|\r\n|69|55|598|20|\r\n|70|58|598|20|\r\n|71|2|729|75|\r\n|101|52|497|null|\r\n     \r\nThe problem is that, of course, I need the original 22 records for my application to work correctly.   \r\n\r\nI debugged a lot, tried a lot of possible solutions, but nothing solved my problem.      \r\n\r\nRegarding that, I have no idea why hibernate clean my join table (no orphanRemoval, no CASCADE.REMOVE,...) and how to avoid that.     ","title":"Avoid deletion of records in join table by Hibernate","body":"<p>I am a long time user of Hibernate, but I have a problem on one of my projects that I don't understand and, therefore, that I can't solve.</p>\n<p>I have three tables linked through a join table.</p>\n<p>Table 1 :</p>\n<pre><code>create table INPUTVALUERULE\n(\n    ID          BIGINT      not null constraint PK_INPUTVALUERULE primary key,\n    DESCRIPTION VARCHAR(30) not null,\n    MANDATORY   SMALLINT,\n    EDITABLE    SMALLINT\n);\n</code></pre>\n<p>Table 2 :</p>\n<pre><code>create table ARTICLERULE\n(\n    ID         BIGINT not null constraint PK_ARTICLERULE primary key,\n    STARTDATE  DATE   not null,\n    ENDDATE    DATE,\n    FK_ARTICLE BIGINT not null references ARTICLE\n);\n</code></pre>\n<p>Table 3 :</p>\n<pre><code>create table INPUTAMOUNTCONSTRAINT\n(\n    ID                       BIGINT generated always as identity constraint PK_INPUTAMOUNTCONSTRAINT primary key,\n    AMOUNTCONSTRAINT         VARCHAR(10) not null,\n    REGULATORYNUMERICALVALUE DECIMAL(10, 2)\n);\n</code></pre>\n<p>Join table :</p>\n<pre><code>create table INPUTVALUERULEARTICLERULEAMOUNTCONSTRAINT\n(\n    ID                       BIGINT generated always as identity primary key,\n    FK_ARTICLERULE           BIGINT not null references ARTICLERULE,\n    FK_INPUTVALUERULE        BIGINT not null references INPUTVALUERULE,\n    FK_INPUTAMOUNTCONSTRAINT BIGINT references INPUTAMOUNTCONSTRAINT\n);\n</code></pre>\n<p>The JPA relations are done in the entity classes.<br />\nIn InputValueRule class, link to InputAmountConstraint :</p>\n<pre><code>    @ManyToMany\n    @JoinTable(\n            name=&quot;INPUTVALUERULEARTICLERULEAMOUNTCONSTRAINT&quot;,\n            joinColumns = @JoinColumn(name=&quot;FK_InputValueRule&quot;),\n            inverseJoinColumns = @JoinColumn(name=&quot;FK_InputAmountConstraint&quot;)\n    )\n    private Set&lt;InputAmountConstraint&gt; articleAmountConstraints;\n</code></pre>\n<p>In ArticleRule class, link to InputValueRule :</p>\n<pre><code>    @ManyToMany\n    @JoinTable(\n            name = &quot;InputValueRuleArticleRuleAmountConstraint&quot;,\n            joinColumns = @JoinColumn(name = &quot;FK_ArticleRule&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;FK_InputValueRule&quot;)\n    )\n    private Set&lt;InputValueRule&gt; inputValueRules = new HashSet&lt;&gt;();\n</code></pre>\n<p>No link in InputAmountConstraint class.</p>\n<p>At the very first start of the application, liquibase will populate the join table INPUTVALUERULEARTICLERULEAMOUNTCONSTRAINT with 22 records :</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: center;\">ID</th>\n<th style=\"text-align: center;\">FK_ARTICLERULE</th>\n<th style=\"text-align: center;\">FK_INPUTVALUERULE</th>\n<th style=\"text-align: center;\">FK_INPUTAMOUNTCONSTRAINT</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: center;\">73</td>\n<td style=\"text-align: center;\">3</td>\n<td style=\"text-align: center;\">729</td>\n<td style=\"text-align: center;\">75</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">74</td>\n<td style=\"text-align: center;\">3</td>\n<td style=\"text-align: center;\">497</td>\n<td style=\"text-align: center;\">75</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">53</td>\n<td style=\"text-align: center;\">12</td>\n<td style=\"text-align: center;\">497</td>\n<td style=\"text-align: center;\">75</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">54</td>\n<td style=\"text-align: center;\">12</td>\n<td style=\"text-align: center;\">498</td>\n<td style=\"text-align: center;\">20</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">55</td>\n<td style=\"text-align: center;\">15</td>\n<td style=\"text-align: center;\">498</td>\n<td style=\"text-align: center;\">17</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">56</td>\n<td style=\"text-align: center;\">43</td>\n<td style=\"text-align: center;\">497</td>\n<td style=\"text-align: center;\">75</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">57</td>\n<td style=\"text-align: center;\">46</td>\n<td style=\"text-align: center;\">497</td>\n<td style=\"text-align: center;\">75</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">58</td>\n<td style=\"text-align: center;\">47</td>\n<td style=\"text-align: center;\">497</td>\n<td style=\"text-align: center;\">75</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">59</td>\n<td style=\"text-align: center;\">48</td>\n<td style=\"text-align: center;\">497</td>\n<td style=\"text-align: center;\">75v</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">60</td>\n<td style=\"text-align: center;\">50</td>\n<td style=\"text-align: center;\">497</td>\n<td style=\"text-align: center;\">7</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">61</td>\n<td style=\"text-align: center;\">51</td>\n<td style=\"text-align: center;\">497</td>\n<td style=\"text-align: center;\">20</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">62</td>\n<td style=\"text-align: center;\">52</td>\n<td style=\"text-align: center;\">497</td>\n<td style=\"text-align: center;\">20</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">63</td>\n<td style=\"text-align: center;\">53</td>\n<td style=\"text-align: center;\">497</td>\n<td style=\"text-align: center;\">20</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">64</td>\n<td style=\"text-align: center;\">55</td>\n<td style=\"text-align: center;\">497</td>\n<td style=\"text-align: center;\">20</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">65</td>\n<td style=\"text-align: center;\">58</td>\n<td style=\"text-align: center;\">497</td>\n<td style=\"text-align: center;\">20</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">66</td>\n<td style=\"text-align: center;\">51</td>\n<td style=\"text-align: center;\">598</td>\n<td style=\"text-align: center;\">20</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">67</td>\n<td style=\"text-align: center;\">52</td>\n<td style=\"text-align: center;\">598</td>\n<td style=\"text-align: center;\">20</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">68</td>\n<td style=\"text-align: center;\">53</td>\n<td style=\"text-align: center;\">598</td>\n<td style=\"text-align: center;\">20</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">69</td>\n<td style=\"text-align: center;\">55</td>\n<td style=\"text-align: center;\">598</td>\n<td style=\"text-align: center;\">20</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">70</td>\n<td style=\"text-align: center;\">58</td>\n<td style=\"text-align: center;\">598</td>\n<td style=\"text-align: center;\">20</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">71</td>\n<td style=\"text-align: center;\">2</td>\n<td style=\"text-align: center;\">729</td>\n<td style=\"text-align: center;\">75</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">72</td>\n<td style=\"text-align: center;\">2</td>\n<td style=\"text-align: center;\">497</td>\n<td style=\"text-align: center;\">75</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>But when I start to use the application, hibernate decide to &quot;clean&quot; the join table and only 12 records stay, of which only 7 are from the original 22 (the other 5 are inserted by hibernate with a null value in the FK_INPUTAMOUNTCONSTRAINT column) :</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: center;\">ID</th>\n<th style=\"text-align: center;\">FK_ARTICLERULE</th>\n<th style=\"text-align: center;\">FK_INPUTVALUERULE</th>\n<th style=\"text-align: center;\">FK_INPUTAMOUNTCONSTRAINT</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: center;\">73</td>\n<td style=\"text-align: center;\">3</td>\n<td style=\"text-align: center;\">729</td>\n<td style=\"text-align: center;\">75</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">102</td>\n<td style=\"text-align: center;\">53</td>\n<td style=\"text-align: center;\">497</td>\n<td style=\"text-align: center;\">null</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">103</td>\n<td style=\"text-align: center;\">55</td>\n<td style=\"text-align: center;\">497</td>\n<td style=\"text-align: center;\">null</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">104</td>\n<td style=\"text-align: center;\">58</td>\n<td style=\"text-align: center;\">497</td>\n<td style=\"text-align: center;\">null</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">100</td>\n<td style=\"text-align: center;\">51</td>\n<td style=\"text-align: center;\">497</td>\n<td style=\"text-align: center;\">null</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">66</td>\n<td style=\"text-align: center;\">51</td>\n<td style=\"text-align: center;\">598</td>\n<td style=\"text-align: center;\">20</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">67</td>\n<td style=\"text-align: center;\">52</td>\n<td style=\"text-align: center;\">598</td>\n<td style=\"text-align: center;\">20</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">68</td>\n<td style=\"text-align: center;\">53</td>\n<td style=\"text-align: center;\">598</td>\n<td style=\"text-align: center;\">20</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">69</td>\n<td style=\"text-align: center;\">55</td>\n<td style=\"text-align: center;\">598</td>\n<td style=\"text-align: center;\">20</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">70</td>\n<td style=\"text-align: center;\">58</td>\n<td style=\"text-align: center;\">598</td>\n<td style=\"text-align: center;\">20</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">71</td>\n<td style=\"text-align: center;\">2</td>\n<td style=\"text-align: center;\">729</td>\n<td style=\"text-align: center;\">75</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">101</td>\n<td style=\"text-align: center;\">52</td>\n<td style=\"text-align: center;\">497</td>\n<td style=\"text-align: center;\">null</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>The problem is that, of course, I need the original 22 records for my application to work correctly.</p>\n<p>I debugged a lot, tried a lot of possible solutions, but nothing solved my problem.</p>\n<p>Regarding that, I have no idea why hibernate clean my join table (no orphanRemoval, no CASCADE.REMOVE,...) and how to avoid that.</p>\n"},{"tags":["java","android","multithreading","okhttp","android-runonuithread"],"comments":[{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":1,"creation_date":1679445383,"post_id":75807222,"comment_id":133723025,"body_markdown":"This could help https://stackoverflow.com/questions/28135338/okhttp-library-networkonmainthreadexception-on-simple-post","body":"This could help <a href=\"https://stackoverflow.com/questions/28135338/okhttp-library-networkonmainthreadexception-on-simple-post\" title=\"okhttp library networkonmainthreadexception on simple post\">stackoverflow.com/questions/28135338/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":23883416,"reputation":134,"user_id":17883851,"display_name":"TG. Kahsay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679476705,"creation_date":1679476013,"answer_id":75810230,"question_id":75807222,"body_markdown":"you are getting `android.os.NetworkOnMainThreadException` because the network call is happening on UI thread. calling `runOnUiThread()` from within UI thread doesn&#39;t help here. you have to first run things on a background thread and then call UI thread from the background thread.\r\n\r\nso, may be you can try something like this.\r\n``` Java\r\n\r\n sendButton.setOnClickListener(v -&gt; {\r\n            String message = textField.getText().toString();\r\n            Thread thread = new Thread(){\r\n            @Override\r\n            public void run() {\r\n               super.run();\r\n               getChatResponse(message, displayWindow); // call this method on a separate thread. \r\n               }\r\n            };\r\n           thread.start()\r\n        });\r\n```\r\nP.s, there may be a better way to handle this using the okhttp library itself.","title":"Response error okhttp3. runOnUiThread/Thread","body":"<p>you are getting <code>android.os.NetworkOnMainThreadException</code> because the network call is happening on UI thread. calling <code>runOnUiThread()</code> from within UI thread doesn't help here. you have to first run things on a background thread and then call UI thread from the background thread.</p>\n<p>so, may be you can try something like this.</p>\n<pre><code>\n sendButton.setOnClickListener(v -&gt; {\n            String message = textField.getText().toString();\n            Thread thread = new Thread(){\n            @Override\n            public void run() {\n               super.run();\n               getChatResponse(message, displayWindow); // call this method on a separate thread. \n               }\n            };\n           thread.start()\n        });\n</code></pre>\n<p>P.s, there may be a better way to handle this using the okhttp library itself.</p>\n"}],"owner":{"account_id":28080737,"reputation":26,"user_id":21451876,"display_name":"1 Mamedov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679476705,"creation_date":1679441329,"question_id":75807222,"body_markdown":"I want to make a request to the server and get a response from it. Next, display in displayWindow.\r\n\r\nI can’t get a response from the server, I understand that I need to process the UI in a separate thread, I generally do this, but I don’t quite understand why I still get such an error, please tell me.\r\n\r\n\r\n```java\r\npackage com.openai.gpt;\r\n\r\nimport android.os.Bundle;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageButton;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.google.gson.JsonArray;\r\nimport com.google.gson.JsonObject;\r\nimport com.google.gson.JsonParser;\r\n\r\nimport java.io.IOException;\r\nimport java.util.Objects;\r\n\r\nimport okhttp3.MediaType;\r\nimport okhttp3.OkHttpClient;\r\nimport okhttp3.Request;\r\nimport okhttp3.RequestBody;\r\nimport okhttp3.Response;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private static final String API_KEY = &quot;API_KEY&quot;;\r\n    private static final String API_URL = &quot;API_URL&quot;;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        TextView displayWindow = findViewById(R.id.displayWindow);\r\n        EditText textField = findViewById(R.id.textField);\r\n        ImageButton sendButton = findViewById(R.id.sendButton);\r\n\r\n        sendButton.setOnClickListener(v -&gt; {\r\n            String message = textField.getText().toString();\r\n            getChatResponse(message, displayWindow);\r\n        });\r\n    }\r\n\r\n    private void getChatResponse(String message, TextView displayWindow) {\r\n        OkHttpClient client = new OkHttpClient();\r\n        MediaType mediaType = MediaType.parse(&quot;application/json&quot;);\r\n        RequestBody body = RequestBody.create(&quot;{\\&quot;prompt\\&quot;: \\&quot;&quot; + message + &quot;\\&quot;,\\&quot;model\\&quot;:\\&quot;text-davinci-003\\&quot;, \\&quot;temperature\\&quot;: 1, \\&quot;max_tokens\\&quot;: 1000}&quot;, mediaType);\r\n        Request request = new Request.Builder()\r\n                .url(API_URL)\r\n                .post(body)\r\n                .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                .addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + API_KEY)\r\n                .build();\r\n\r\n        try (Response response = client.newCall(request).execute()) {\r\n            String responseBody = Objects.requireNonNull(response.body()).string();\r\n            JsonObject jsonObject = JsonParser.parseString(responseBody).getAsJsonObject();\r\n            JsonArray choices = jsonObject.getAsJsonArray(&quot;choices&quot;);\r\n            JsonObject selectedChoice = choices.get(0).getAsJsonObject();\r\n            String text = selectedChoice.get(&quot;text&quot;).getAsString();\r\n            runOnUiThread(() -&gt; displayWindow.setText(text));\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```log\r\nConnected to the target VM, address: &#39;localhost:61975&#39;, transport: &#39;socket&#39;\r\nCapturing and displaying logcat messages from application. This behavior can be disabled in the &quot;Logcat output&quot; section of the &quot;Debugger&quot; settings page.\r\nI/zygote: Late-enabling -Xcheck:jni\r\nW/zygote: Unexpected CPU variant for X86 using defaults: x86\r\nW/ActivityThread: Application com.openai.gpt is waiting for the debugger on port 8100...\r\nI/System.out: Sending WAIT chunk\r\nI/zygote: Debugger is active\r\nI/System.out: Debugger has connected\r\nI/System.out: waiting for debugger to settle...\r\nI/chatty: uid=10084(u0_a84) com.openai.gpt identical 5 lines\r\nI/System.out: waiting for debugger to settle...\r\nI/System.out: debugger has settled (1370)\r\nD/AppCompatDelegate: Checking for metadata for AppLocalesMetadataHolderService : Service not found\r\nD/OpenGLRenderer: HWUI GL Pipeline\r\nD/: HostConnection::get() New Host Connection established 0x9ba64a80, tid 28386\r\nI/OpenGLRenderer: Initialized EGL, version 1.4\r\nD/OpenGLRenderer: Swap behavior 1\r\nW/OpenGLRenderer: Failed to choose config with EGL_SWAP_BEHAVIOR_PRESERVED, retrying without...\r\nD/OpenGLRenderer: Swap behavior 0\r\nD/EGL_emulation: eglCreateContext: 0x9bd052a0: maj 2 min 0 rcv 2\r\nD/EGL_emulation: eglMakeCurrent: 0x9bd052a0: ver 2 0 (tinfo 0x9bd031b0)\r\nD/EGL_emulation: eglMakeCurrent: 0x9bd052a0: ver 2 0 (tinfo 0x9bd031b0)\r\nW/View: dispatchProvideAutofillStructure(): not laid out, ignoring\r\nI/AssistStructure: Flattened final assist data: 1992 bytes, containing 1 windows, 8 views\r\nI/zygote: Do partial code cache collection, code=30KB, data=23KB\r\nI/zygote: After code cache collection, code=30KB, data=23KB\r\nI/zygote: Increasing code cache capacity to 128KB\r\nD/NetworkSecurityConfig: No Network Security Config specified, using platform default\r\nW/zygote: Got a deoptimization request on un-deoptimizable method java.net.InetAddress[] libcore.io.Linux.android_getaddrinfo(java.lang.String, android.system.StructAddrinfo, int)\r\nD/AndroidRuntime: Shutting down VM\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.openai.gpt, PID: 28347\r\n    android.os.NetworkOnMainThreadException\r\n        at android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork(StrictMode.java:1448)\r\n        at java.net.Inet6AddressImpl.lookupHostByName(Inet6AddressImpl.java:102)\r\n        at java.net.Inet6AddressImpl.lookupAllHostAddr(Inet6AddressImpl.java:90)\r\n        at java.net.InetAddress.getAllByName(InetAddress.java:787)\r\n        at okhttp3.Dns$Companion$DnsSystem.lookup(Dns.kt:49)\r\n        at okhttp3.internal.connection.RouteSelector.resetNextInetSocketAddress(RouteSelector.kt:164)\r\n        at okhttp3.internal.connection.RouteSelector.nextProxy(RouteSelector.kt:129)\r\n        at okhttp3.internal.connection.RouteSelector.next(RouteSelector.kt:71)\r\n        at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:205)\r\n        at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)\r\n        at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)\r\n        at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)\r\n        at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\n        at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\n        at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\n        at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\n        at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)\r\n        at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)\r\n        at com.openai.gpt.MainActivity.getChatResponse(MainActivity.java:56)\r\n        at com.openai.gpt.MainActivity.lambda$onCreate$0$com-openai-gpt-MainActivity(MainActivity.java:41)\r\n        at com.openai.gpt.MainActivity$$ExternalSyntheticLambda1.onClick(Unknown Source:6)\r\n        at android.view.View.performClick(View.java:6256)\r\n        at android.view.View$PerformClick.run(View.java:24701)\r\n        at android.os.Handler.handleCallback(Handler.java:789)\r\n        at android.os.Handler.dispatchMessage(Handler.java:98)\r\n        at android.os.Looper.loop(Looper.java:164)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6541)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\r\nDisconnected from the target VM, address: &#39;localhost:61975&#39;, transport: &#39;socket&#39;\r\n```\r\n\r\nPlease tell me what am I doing wrong?\r\n\r\n\r\nUsed both runOnUiThread and Thread nothing helped","title":"Response error okhttp3. runOnUiThread/Thread","body":"<p>I want to make a request to the server and get a response from it. Next, display in displayWindow.</p>\n<p>I can’t get a response from the server, I understand that I need to process the UI in a separate thread, I generally do this, but I don’t quite understand why I still get such an error, please tell me.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.openai.gpt;\n\nimport android.os.Bundle;\nimport android.widget.EditText;\nimport android.widget.ImageButton;\nimport android.widget.TextView;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.google.gson.JsonArray;\nimport com.google.gson.JsonObject;\nimport com.google.gson.JsonParser;\n\nimport java.io.IOException;\nimport java.util.Objects;\n\nimport okhttp3.MediaType;\nimport okhttp3.OkHttpClient;\nimport okhttp3.Request;\nimport okhttp3.RequestBody;\nimport okhttp3.Response;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private static final String API_KEY = &quot;API_KEY&quot;;\n    private static final String API_URL = &quot;API_URL&quot;;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        TextView displayWindow = findViewById(R.id.displayWindow);\n        EditText textField = findViewById(R.id.textField);\n        ImageButton sendButton = findViewById(R.id.sendButton);\n\n        sendButton.setOnClickListener(v -&gt; {\n            String message = textField.getText().toString();\n            getChatResponse(message, displayWindow);\n        });\n    }\n\n    private void getChatResponse(String message, TextView displayWindow) {\n        OkHttpClient client = new OkHttpClient();\n        MediaType mediaType = MediaType.parse(&quot;application/json&quot;);\n        RequestBody body = RequestBody.create(&quot;{\\&quot;prompt\\&quot;: \\&quot;&quot; + message + &quot;\\&quot;,\\&quot;model\\&quot;:\\&quot;text-davinci-003\\&quot;, \\&quot;temperature\\&quot;: 1, \\&quot;max_tokens\\&quot;: 1000}&quot;, mediaType);\n        Request request = new Request.Builder()\n                .url(API_URL)\n                .post(body)\n                .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                .addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + API_KEY)\n                .build();\n\n        try (Response response = client.newCall(request).execute()) {\n            String responseBody = Objects.requireNonNull(response.body()).string();\n            JsonObject jsonObject = JsonParser.parseString(responseBody).getAsJsonObject();\n            JsonArray choices = jsonObject.getAsJsonArray(&quot;choices&quot;);\n            JsonObject selectedChoice = choices.get(0).getAsJsonObject();\n            String text = selectedChoice.get(&quot;text&quot;).getAsString();\n            runOnUiThread(() -&gt; displayWindow.setText(text));\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<pre><code>Connected to the target VM, address: 'localhost:61975', transport: 'socket'\nCapturing and displaying logcat messages from application. This behavior can be disabled in the &quot;Logcat output&quot; section of the &quot;Debugger&quot; settings page.\nI/zygote: Late-enabling -Xcheck:jni\nW/zygote: Unexpected CPU variant for X86 using defaults: x86\nW/ActivityThread: Application com.openai.gpt is waiting for the debugger on port 8100...\nI/System.out: Sending WAIT chunk\nI/zygote: Debugger is active\nI/System.out: Debugger has connected\nI/System.out: waiting for debugger to settle...\nI/chatty: uid=10084(u0_a84) com.openai.gpt identical 5 lines\nI/System.out: waiting for debugger to settle...\nI/System.out: debugger has settled (1370)\nD/AppCompatDelegate: Checking for metadata for AppLocalesMetadataHolderService : Service not found\nD/OpenGLRenderer: HWUI GL Pipeline\nD/: HostConnection::get() New Host Connection established 0x9ba64a80, tid 28386\nI/OpenGLRenderer: Initialized EGL, version 1.4\nD/OpenGLRenderer: Swap behavior 1\nW/OpenGLRenderer: Failed to choose config with EGL_SWAP_BEHAVIOR_PRESERVED, retrying without...\nD/OpenGLRenderer: Swap behavior 0\nD/EGL_emulation: eglCreateContext: 0x9bd052a0: maj 2 min 0 rcv 2\nD/EGL_emulation: eglMakeCurrent: 0x9bd052a0: ver 2 0 (tinfo 0x9bd031b0)\nD/EGL_emulation: eglMakeCurrent: 0x9bd052a0: ver 2 0 (tinfo 0x9bd031b0)\nW/View: dispatchProvideAutofillStructure(): not laid out, ignoring\nI/AssistStructure: Flattened final assist data: 1992 bytes, containing 1 windows, 8 views\nI/zygote: Do partial code cache collection, code=30KB, data=23KB\nI/zygote: After code cache collection, code=30KB, data=23KB\nI/zygote: Increasing code cache capacity to 128KB\nD/NetworkSecurityConfig: No Network Security Config specified, using platform default\nW/zygote: Got a deoptimization request on un-deoptimizable method java.net.InetAddress[] libcore.io.Linux.android_getaddrinfo(java.lang.String, android.system.StructAddrinfo, int)\nD/AndroidRuntime: Shutting down VM\nE/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.openai.gpt, PID: 28347\n    android.os.NetworkOnMainThreadException\n        at android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork(StrictMode.java:1448)\n        at java.net.Inet6AddressImpl.lookupHostByName(Inet6AddressImpl.java:102)\n        at java.net.Inet6AddressImpl.lookupAllHostAddr(Inet6AddressImpl.java:90)\n        at java.net.InetAddress.getAllByName(InetAddress.java:787)\n        at okhttp3.Dns$Companion$DnsSystem.lookup(Dns.kt:49)\n        at okhttp3.internal.connection.RouteSelector.resetNextInetSocketAddress(RouteSelector.kt:164)\n        at okhttp3.internal.connection.RouteSelector.nextProxy(RouteSelector.kt:129)\n        at okhttp3.internal.connection.RouteSelector.next(RouteSelector.kt:71)\n        at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:205)\n        at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)\n        at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)\n        at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)\n        at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\n        at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\n        at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\n        at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\n        at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)\n        at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)\n        at com.openai.gpt.MainActivity.getChatResponse(MainActivity.java:56)\n        at com.openai.gpt.MainActivity.lambda$onCreate$0$com-openai-gpt-MainActivity(MainActivity.java:41)\n        at com.openai.gpt.MainActivity$$ExternalSyntheticLambda1.onClick(Unknown Source:6)\n        at android.view.View.performClick(View.java:6256)\n        at android.view.View$PerformClick.run(View.java:24701)\n        at android.os.Handler.handleCallback(Handler.java:789)\n        at android.os.Handler.dispatchMessage(Handler.java:98)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6541)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\nDisconnected from the target VM, address: 'localhost:61975', transport: 'socket'\n</code></pre>\n<p>Please tell me what am I doing wrong?</p>\n<p>Used both runOnUiThread and Thread nothing helped</p>\n"},{"tags":["java","date","localization","java-time","date-formatting"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1679476335,"post_id":75807084,"comment_id":133727268,"body_markdown":"Not knowing the full story, in some languages the *genitive* form of a month name is used with day of month, a bit like when in English we say *22 of March* sometimes. If you are mentioning the month without day of month, you don’t want to say *of March* but just *March*, which in such languages you do by using the *nominative* form of the month name instead. So `FULL_STANDALONE` gives you the nominative while `FULL` gives you the genitive.","body":"Not knowing the full story, in some languages the <i>genitive</i> form of a month name is used with day of month, a bit like when in English we say <i>22 of March</i> sometimes. If you are mentioning the month without day of month, you don’t want to say <i>of March</i> but just <i>March</i>, which in such languages you do by using the <i>nominative</i> form of the month name instead. So <code>FULL_STANDALONE</code> gives you the nominative while <code>FULL</code> gives you the genitive."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1679476926,"post_id":75807084,"comment_id":133727403,"body_markdown":"There’s some information here: https://cldr.unicode.org/translation/date-time/date-time-patterns Scroll down to **When to use Standalone vs. Formatting**. Also a related question here: [Difference between MMM and LLL (Stand alone value) in SimpleDateFormat object](https://stackoverflow.com/questions/45398202/difference-between-mmm-and-lll-stand-alone-value-in-simpledateformat-object) (while no one should use `SimpleDateFormat` anymore, the answer is valid to java.time too).","body":"There’s some information here: <a href=\"https://cldr.unicode.org/translation/date-time/date-time-patterns\" rel=\"nofollow noreferrer\">cldr.unicode.org/translation/date-time/date-time-patterns</a> Scroll down to <b>When to use Standalone vs. Formatting</b>. Also a related question here: <a href=\"https://stackoverflow.com/questions/45398202/difference-between-mmm-and-lll-stand-alone-value-in-simpledateformat-object\">Difference between MMM and LLL (Stand alone value) in SimpleDateFormat object</a> (while no one should use <code>SimpleDateFormat</code> anymore, the answer is valid to java.time too)."}],"owner":{"account_id":1617675,"reputation":5870,"user_id":1494902,"accept_rate":57,"display_name":"Piotr Aleksander Chmielowski"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679476594,"creation_date":1679439583,"question_id":75807084,"body_markdown":"The `java.time.format.TextStyle` enum has the following options:\r\n\r\n    /**\r\n     * Full text, typically the full description.\r\n     * For example, day-of-week Monday might output &quot;Monday&quot;.\r\n     */\r\n    FULL(Calendar.LONG_FORMAT, 0),\r\n    /**\r\n     * Full text for stand-alone use, typically the full description.\r\n     * For example, day-of-week Monday might output &quot;Monday&quot;.\r\n     */\r\n    FULL_STANDALONE(Calendar.LONG_STANDALONE, 0),\r\n\r\nMy question is: what is a difference between `FULL` and `FULL_STANDALONE` - what does &quot;for stand-alone&quot; use mean?","title":"What is a difference between TextStyle.FULL and TextStyle.FULL_STANDALONE","body":"<p>The <code>java.time.format.TextStyle</code> enum has the following options:</p>\n<pre><code>/**\n * Full text, typically the full description.\n * For example, day-of-week Monday might output &quot;Monday&quot;.\n */\nFULL(Calendar.LONG_FORMAT, 0),\n/**\n * Full text for stand-alone use, typically the full description.\n * For example, day-of-week Monday might output &quot;Monday&quot;.\n */\nFULL_STANDALONE(Calendar.LONG_STANDALONE, 0),\n</code></pre>\n<p>My question is: what is a difference between <code>FULL</code> and <code>FULL_STANDALONE</code> - what does &quot;for stand-alone&quot; use mean?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1679407173,"post_id":75802080,"comment_id":133713695,"body_markdown":"What is it this code tries to do? Feels like a hacky way of obtaining something.","body":"What is it this code tries to do? Feels like a hacky way of obtaining something."},{"owner":{"account_id":2152014,"reputation":25,"user_id":1908123,"accept_rate":25,"display_name":"RayCoding"},"score":0,"creation_date":1679407782,"post_id":75802080,"comment_id":133713914,"body_markdown":"@M.Deinum Thank you,  trying to use this code in HomeController.java, it&#39;s an example taken from here: https://github.com/spring-attic/spring-batch-admin/blob/master/spring-batch-admin-resources/src/main/java/org/springframework/batch/admin/web/util/HomeController.java#L167\n\nMethod: findResource","body":"@M.Deinum Thank you,  trying to use this code in HomeController.java, it&#39;s an example taken from here: <a href=\"https://github.com/spring-attic/spring-batch-admin/blob/master/spring-batch-admin-resources/src/main/java/org/springframework/batch/admin/web/util/HomeController.java#L167\" rel=\"nofollow noreferrer\">github.com/spring-attic/spring-batch-admin/blob/master/&hellip;</a>  Method: findResource"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1679409737,"post_id":75802080,"comment_id":133714529,"body_markdown":"I&#39;m not asking where you are using it but what it is trying to achieve. If you want the list of urls I would suggest taking a look at Spring Boot, which does expose that information in the actuator endpoints.","body":"I&#39;m not asking where you are using it but what it is trying to achieve. If you want the list of urls I would suggest taking a look at Spring Boot, which does expose that information in the actuator endpoints."},{"owner":{"account_id":2152014,"reputation":25,"user_id":1908123,"accept_rate":25,"display_name":"RayCoding"},"score":0,"creation_date":1679410477,"post_id":75802080,"comment_id":133714792,"body_markdown":"@M.Deinum, exactly we are using this method to get the list of urls, can you provide me more information about what can I use from spring boot? thanks","body":"@M.Deinum, exactly we are using this method to get the list of urls, can you provide me more information about what can I use from spring boot? thanks"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1679469981,"post_id":75802080,"comment_id":133725788,"body_markdown":"I&#39;m not saying you can use anything from spring boot, but you can look at the spring boot actuator project for inspiration. There is an endpoint exposing all urls in the app, which you could mimic.","body":"I&#39;m not saying you can use anything from spring boot, but you can look at the spring boot actuator project for inspiration. There is an endpoint exposing all urls in the app, which you could mimic."},{"owner":{"account_id":7822670,"reputation":1609,"user_id":5915318,"display_name":"David Kariuki"},"score":0,"creation_date":1679488116,"post_id":75802080,"comment_id":133730236,"body_markdown":"You will also have to drop deprecated `DefaultAnnotationHandlerMapping` in favor of the `RequestMappingHandlerMapping`","body":"You will also have to drop deprecated <code>DefaultAnnotationHandlerMapping</code> in favor of the <code>RequestMappingHandlerMapping</code>"}],"owner":{"account_id":2152014,"reputation":25,"user_id":1908123,"accept_rate":25,"display_name":"RayCoding"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679476558,"creation_date":1679406619,"question_id":75802080,"body_markdown":"I have an application using Spring 3 and I am in progress to upgrade it.\r\n\r\nI have faced a problem regarding DefaultAnnotationHandlerMapping is deprecated.\r\n\r\n\r\n     private void findResources() {\r\n            Map&lt;String, Object&gt; handlerMap = new HashMap&lt;String, Object&gt;();\r\n            DefaultAnnotationHandlerMapping annotationMapping = new DefaultAnnotationHandlerMapping();\r\n            annotationMapping.setApplicationContext(applicationContext);\r\n            annotationMapping.initApplicationContext();\r\n            handlerMap.putAll(annotationMapping.getHandlerMap());\r\n    \r\n            BeanNameUrlHandlerMapping beanMapping = new BeanNameUrlHandlerMapping();\r\n            beanMapping.setApplicationContext(applicationContext);\r\n            beanMapping.initApplicationContext();\r\n            handlerMap.putAll(beanMapping.getHandlerMap());\r\n    \r\n            this.urls = findUniqueUrls(handlerMap.keySet());\r\n            this.defaultResources = findMethods(handlerMap, this.urls);\r\n            this.jsonResources = new ArrayList&lt;ResourceInfo&gt;();\r\n            for (Iterator&lt;ResourceInfo&gt; iterator = this.defaultResources.iterator(); iterator.hasNext(); ) {\r\n                ResourceInfo info = (ResourceInfo) iterator.next();\r\n                if (info.getUrl().endsWith(&quot;.json&quot;)) {\r\n                    iterator.remove();\r\n                    this.jsonResources.add(info);\r\n                }\r\n            }\r\n    \r\n        }\r\n\r\nhow to replace this findResource method?\r\n\r\nalso I have this part:\r\n\r\n     HandlerMethodResolver resolver = new HandlerMethodResolver();\r\n                resolver.init(handlerType);\r\n\r\nHandlerMethodResolver is removed also.\r\n","title":"How to replace DefaultAnnotationHandlerMapping in spring 5 programatically","body":"<p>I have an application using Spring 3 and I am in progress to upgrade it.</p>\n<p>I have faced a problem regarding DefaultAnnotationHandlerMapping is deprecated.</p>\n<pre><code> private void findResources() {\n        Map&lt;String, Object&gt; handlerMap = new HashMap&lt;String, Object&gt;();\n        DefaultAnnotationHandlerMapping annotationMapping = new DefaultAnnotationHandlerMapping();\n        annotationMapping.setApplicationContext(applicationContext);\n        annotationMapping.initApplicationContext();\n        handlerMap.putAll(annotationMapping.getHandlerMap());\n\n        BeanNameUrlHandlerMapping beanMapping = new BeanNameUrlHandlerMapping();\n        beanMapping.setApplicationContext(applicationContext);\n        beanMapping.initApplicationContext();\n        handlerMap.putAll(beanMapping.getHandlerMap());\n\n        this.urls = findUniqueUrls(handlerMap.keySet());\n        this.defaultResources = findMethods(handlerMap, this.urls);\n        this.jsonResources = new ArrayList&lt;ResourceInfo&gt;();\n        for (Iterator&lt;ResourceInfo&gt; iterator = this.defaultResources.iterator(); iterator.hasNext(); ) {\n            ResourceInfo info = (ResourceInfo) iterator.next();\n            if (info.getUrl().endsWith(&quot;.json&quot;)) {\n                iterator.remove();\n                this.jsonResources.add(info);\n            }\n        }\n\n    }\n</code></pre>\n<p>how to replace this findResource method?</p>\n<p>also I have this part:</p>\n<pre><code> HandlerMethodResolver resolver = new HandlerMethodResolver();\n            resolver.init(handlerType);\n</code></pre>\n<p>HandlerMethodResolver is removed also.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1679059818,"post_id":75767978,"comment_id":133657659,"body_markdown":"Having a working method as a starting point would be helpful, before thinking about refactoring the code. You can’t return values from a `void` method and there’s no consistency between your method invocation `isAttr1Set(response)`, the variable `isAttr1Set`, and the sudden appearance of another method `isAttr1Set()` (the same for all other attributes).","body":"Having a working method as a starting point would be helpful, before thinking about refactoring the code. You can’t return values from a <code>void</code> method and there’s no consistency between your method invocation <code>isAttr1Set(response)</code>, the variable <code>isAttr1Set</code>, and the sudden appearance of another method <code>isAttr1Set()</code> (the same for all other attributes)."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1679477154,"post_id":75767978,"comment_id":133727455,"body_markdown":"You don&#39;t need to keep both versions of your code. You can just put the most recent version. The problem here is the logging, you cannot log the method calls, and also avoid the method call. If you don&#39;t need the logging then Nikolai&#39;s answer will do what you want.","body":"You don&#39;t need to keep both versions of your code. You can just put the most recent version. The problem here is the logging, you cannot log the method calls, and also avoid the method call. If you don&#39;t need the logging then Nikolai&#39;s answer will do what you want."}],"answers":[{"tags":[],"owner":{"account_id":7861182,"reputation":189,"user_id":5941553,"display_name":"BitWiseByteDumb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679059363,"creation_date":1679059363,"answer_id":75768094,"question_id":75767978,"body_markdown":"Assuming you pull the code out before the return (Looks like you only use it for debugging) then that code look pretty tight to me! Also, note that you are returning a boolean on a void method BUT this wouldn&#39;t make it past a compile!","title":"Simplified multiple condition check","body":"<p>Assuming you pull the code out before the return (Looks like you only use it for debugging) then that code look pretty tight to me! Also, note that you are returning a boolean on a void method BUT this wouldn't make it past a compile!</p>\n"},{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679081771,"creation_date":1679081771,"answer_id":75771564,"question_id":75767978,"body_markdown":"Change `void` to `boolean` for your return type. Next, give your local variable names different ones than that of the methods. Lastly, use the already retrieved values in your boolean check instead calling the methods again:\r\n\r\n    public static boolean isEligible(Response response) {\r\n      boolean is1Set = isAttr1Set(response);\r\n      boolean is2Set = isAttr2Set(response);\r\n      boolean is3Set = isAttr3Set(response);\r\n      boolean is4Set = isAttr4Set(response);\r\n      Logger.log(&quot;Attr1 &quot; + is1Set);\r\n      Logger.log(&quot;Attr2 &quot; + is2Set);\r\n      Logger.log(&quot;Attr3 &quot; + is3Set);\r\n      Logger.log(&quot;Attr4 &quot; + is4Set);\r\n      return is1Set &amp;&amp; is2Set &amp;&amp; is3Set &amp;&amp; is4Set;\r\n    }","title":"Simplified multiple condition check","body":"<p>Change <code>void</code> to <code>boolean</code> for your return type. Next, give your local variable names different ones than that of the methods. Lastly, use the already retrieved values in your boolean check instead calling the methods again:</p>\n<pre><code>public static boolean isEligible(Response response) {\n  boolean is1Set = isAttr1Set(response);\n  boolean is2Set = isAttr2Set(response);\n  boolean is3Set = isAttr3Set(response);\n  boolean is4Set = isAttr4Set(response);\n  Logger.log(&quot;Attr1 &quot; + is1Set);\n  Logger.log(&quot;Attr2 &quot; + is2Set);\n  Logger.log(&quot;Attr3 &quot; + is3Set);\n  Logger.log(&quot;Attr4 &quot; + is4Set);\n  return is1Set &amp;&amp; is2Set &amp;&amp; is3Set &amp;&amp; is4Set;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679476530,"creation_date":1679398006,"answer_id":75800584,"question_id":75767978,"body_markdown":"If you want to avoid calling next method only if previous call returned true, then you should chain your calls. \r\n\r\nOne option is to use short circuit evaluation:\r\n```\r\nreturn isAttr1Set(response) &amp;&amp; isAttr2Set(response) &amp;&amp; isAttr3Set(response) &amp;&amp; isAttr4Set(response);\r\n```\r\nhere `isAttr2Set` won&#39;t be called if `isAttr1Set` returned `false`, and so on for other methods in this chain.\r\n\r\nAnother option is to prepare list of method references and use `Stream#allMatch` (which is also a short circuit operation hence it will terminate after first `false` evaluated).\r\n\r\n```java\r\nboolean allAttributesSet = Stream.&lt;Function&lt;Response, Boolean&gt;&gt;of(\r\n        this::isAttr1Set,\r\n        this::isAttr2Set,\r\n        this::isAttr3Set,\r\n        this::isAttr4Set\r\n).allMatch(func -&gt; func.apply(response));\r\n```\r\n","title":"Simplified multiple condition check","body":"<p>If you want to avoid calling next method only if previous call returned true, then you should chain your calls.</p>\n<p>One option is to use short circuit evaluation:</p>\n<pre><code>return isAttr1Set(response) &amp;&amp; isAttr2Set(response) &amp;&amp; isAttr3Set(response) &amp;&amp; isAttr4Set(response);\n</code></pre>\n<p>here <code>isAttr2Set</code> won't be called if <code>isAttr1Set</code> returned <code>false</code>, and so on for other methods in this chain.</p>\n<p>Another option is to prepare list of method references and use <code>Stream#allMatch</code> (which is also a short circuit operation hence it will terminate after first <code>false</code> evaluated).</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean allAttributesSet = Stream.&lt;Function&lt;Response, Boolean&gt;&gt;of(\n        this::isAttr1Set,\n        this::isAttr2Set,\n        this::isAttr3Set,\n        this::isAttr4Set\n).allMatch(func -&gt; func.apply(response));\n</code></pre>\n"}],"owner":{"account_id":19280421,"reputation":21,"user_id":14092534,"display_name":"Jayadeep"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":75800584,"answer_count":3,"score":-1,"last_activity_date":1679476530,"creation_date":1679058601,"question_id":75767978,"body_markdown":"I am having a method that checks multiple conditions and returns a boolean value. wanted to check if there is any way to refactor the code.\r\n\r\n```\r\npublic static void isEligible(Response response) {\r\n  boolean isAttr1Set = isAttr1Set(response);\r\n  boolean isAttr2Set = isAttr2Set(response);\r\n  boolean isAttr3Set = isAttr3Set(response);\r\n  boolean isAttr4Set = isAttr4Set(response);\r\n  Logger.log(&quot;Attr1 &quot; + isAttr1Set);\r\n  Logger.log(&quot;Attr2 &quot; + isAttr2Set);\r\n  Logger.log(&quot;Attr3 &quot; + isAttr3Set);\r\n  Logger.log(&quot;Attr4 &quot; + isAttr4Set);\r\n  return isAttr1Set() &amp;&amp; isAttr2Set() &amp;&amp; isAttr3Set() &amp;&amp; isAttr4Set();\r\n}\r\n```\r\n**UPDATE**\r\nMy bad missed the return type and use of variables in the original post, my question is how can I refactor this to code to call further methods only if the previous method returns true and also logs each attribute value? I want to avoid using multiple inner if conditions.\r\n\r\nOriginal Code\r\n```\r\npublic static boolean isEligible(Response response) {\r\n  boolean isAttr1Set = isAttr1Set(response);\r\n  boolean isAttr2Set = isAttr2Set(response);\r\n  boolean isAttr3Set = isAttr3Set(response);\r\n  boolean isAttr4Set = isAttr4Set(response);\r\n  Logger.log(&quot;Attr1 &quot; + isAttr1Set);\r\n  Logger.log(&quot;Attr2 &quot; + isAttr2Set);\r\n  Logger.log(&quot;Attr3 &quot; + isAttr3Set);\r\n  Logger.log(&quot;Attr4 &quot; + isAttr4Set);\r\n  return isAttr1Set &amp;&amp; isAttr2Set &amp;&amp; isAttr3Set &amp;&amp; isAttr4Set;\r\n}\r\n```\r\n   ","title":"Simplified multiple condition check","body":"<p>I am having a method that checks multiple conditions and returns a boolean value. wanted to check if there is any way to refactor the code.</p>\n<pre><code>public static void isEligible(Response response) {\n  boolean isAttr1Set = isAttr1Set(response);\n  boolean isAttr2Set = isAttr2Set(response);\n  boolean isAttr3Set = isAttr3Set(response);\n  boolean isAttr4Set = isAttr4Set(response);\n  Logger.log(&quot;Attr1 &quot; + isAttr1Set);\n  Logger.log(&quot;Attr2 &quot; + isAttr2Set);\n  Logger.log(&quot;Attr3 &quot; + isAttr3Set);\n  Logger.log(&quot;Attr4 &quot; + isAttr4Set);\n  return isAttr1Set() &amp;&amp; isAttr2Set() &amp;&amp; isAttr3Set() &amp;&amp; isAttr4Set();\n}\n</code></pre>\n<p><strong>UPDATE</strong>\nMy bad missed the return type and use of variables in the original post, my question is how can I refactor this to code to call further methods only if the previous method returns true and also logs each attribute value? I want to avoid using multiple inner if conditions.</p>\n<p>Original Code</p>\n<pre><code>public static boolean isEligible(Response response) {\n  boolean isAttr1Set = isAttr1Set(response);\n  boolean isAttr2Set = isAttr2Set(response);\n  boolean isAttr3Set = isAttr3Set(response);\n  boolean isAttr4Set = isAttr4Set(response);\n  Logger.log(&quot;Attr1 &quot; + isAttr1Set);\n  Logger.log(&quot;Attr2 &quot; + isAttr2Set);\n  Logger.log(&quot;Attr3 &quot; + isAttr3Set);\n  Logger.log(&quot;Attr4 &quot; + isAttr4Set);\n  return isAttr1Set &amp;&amp; isAttr2Set &amp;&amp; isAttr3Set &amp;&amp; isAttr4Set;\n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1679438365,"post_id":75806610,"comment_id":133722061,"body_markdown":"There is insufficient information to diagnose the problem ... except to say that you need to find and fix the compilation error before you attempt to run the code.","body":"There is insufficient information to diagnose the problem ... except to say that you need to find and fix the compilation error before you attempt to run the code."}],"answers":[{"tags":[],"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679476291,"creation_date":1679436046,"answer_id":75806703,"question_id":75806610,"body_markdown":"The compilation errors are in the below 2 lines\r\n\r\n````\r\ndriver.findElement(By.name(&quot;userName&quot;)).sendKeys(sUsername);\r\ndriver.findElement(By.name(&quot;password&quot;)).sendKeys(sPassword);\r\n````\r\n\r\nI see 2 variables `sUsername` and `sPassword` which have not been declared and initiated in your code.\r\n\r\n**Solution:**\r\n\r\n 1. Either remove the variable and pass the String directly as following\r\n````\r\ndriver.findElement(By.name(&quot;userName&quot;)).sendKeys(&quot;&lt;Enter the actual username here&gt;&quot;);\r\ndriver.findElement(By.name(&quot;password&quot;)).sendKeys(&quot;&lt;Enter actual pwd here&gt;&quot;);\r\n````\r\n\r\n2. Or declare and initialise these 2 variables as below:\r\n````\r\nString sUsername = &quot;Your actual username here&quot;;\r\nString sPassword = &quot;Your acutal password here&quot;;\r\ndriver.findElement(By.name(&quot;userName&quot;)).sendKeys(sUsername);\r\ndriver.findElement(By.name(&quot;password&quot;)).sendKeys(sPassword);\r\n````\r\n\r\n**NOTE:** Despite this if it still gives compilation errors, that means the issue is somewhere else in the other part of the code which you have not shared in the question.\r\n\r\n ","title":"Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: // error while executing this","body":"<p>The compilation errors are in the below 2 lines</p>\n<pre><code>driver.findElement(By.name(&quot;userName&quot;)).sendKeys(sUsername);\ndriver.findElement(By.name(&quot;password&quot;)).sendKeys(sPassword);\n</code></pre>\n<p>I see 2 variables <code>sUsername</code> and <code>sPassword</code> which have not been declared and initiated in your code.</p>\n<p><strong>Solution:</strong></p>\n<ol>\n<li>Either remove the variable and pass the String directly as following</li>\n</ol>\n<pre><code>driver.findElement(By.name(&quot;userName&quot;)).sendKeys(&quot;&lt;Enter the actual username here&gt;&quot;);\ndriver.findElement(By.name(&quot;password&quot;)).sendKeys(&quot;&lt;Enter actual pwd here&gt;&quot;);\n</code></pre>\n<ol start=\"2\">\n<li>Or declare and initialise these 2 variables as below:</li>\n</ol>\n<pre><code>String sUsername = &quot;Your actual username here&quot;;\nString sPassword = &quot;Your acutal password here&quot;;\ndriver.findElement(By.name(&quot;userName&quot;)).sendKeys(sUsername);\ndriver.findElement(By.name(&quot;password&quot;)).sendKeys(sPassword);\n</code></pre>\n<p><strong>NOTE:</strong> Despite this if it still gives compilation errors, that means the issue is somewhere else in the other part of the code which you have not shared in the question.</p>\n"}],"owner":{"account_id":28080260,"reputation":1,"user_id":21451463,"display_name":"pavan kolachana"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679476291,"creation_date":1679435219,"question_id":75806610,"body_markdown":"                    WebDriver driver ;\r\n\t\t    ChromeOptions options = new ChromeOptions();\r\n\t\t    options.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n\t\t    driver = new ChromeDriver (options);\r\n\t\t\tdriver.get(&quot;https://demo.guru99.com/test/newtours/&quot;);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tdriver.findElement(By.name(&quot;userName&quot;)).sendKeys(sUsername);\r\n\t\t        driver.findElement(By.name(&quot;password&quot;)).sendKeys(sPassword);\r\n\t\t\tdriver.findElement(By.name(&quot;submit&quot;)).click();\r\n\r\ni&#39;m trying to executing this in selenium. its showing the error as above","title":"Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: // error while executing this","body":"<pre><code>                WebDriver driver ;\n        ChromeOptions options = new ChromeOptions();\n        options.addArguments(&quot;--remote-allow-origins=*&quot;);\n        driver = new ChromeDriver (options);\n        driver.get(&quot;https://demo.guru99.com/test/newtours/&quot;);\n        \n        \n        driver.findElement(By.name(&quot;userName&quot;)).sendKeys(sUsername);\n            driver.findElement(By.name(&quot;password&quot;)).sendKeys(sPassword);\n        driver.findElement(By.name(&quot;submit&quot;)).click();\n</code></pre>\n<p>i'm trying to executing this in selenium. its showing the error as above</p>\n"},{"tags":["java","intellij-idea","gradle","checkstyle"],"comments":[{"owner":{"account_id":6589671,"reputation":10127,"user_id":5091346,"accept_rate":72,"display_name":"Andrii Abramov"},"score":0,"creation_date":1490344756,"post_id":42994778,"comment_id":73080044,"body_markdown":"Do you launch checkstyle from Intellij or from Gradle?","body":"Do you launch checkstyle from Intellij or from Gradle?"},{"owner":{"account_id":1229706,"reputation":984,"user_id":1194553,"accept_rate":53,"display_name":"s&#233;an35"},"score":0,"creation_date":1490345026,"post_id":42994778,"comment_id":73080157,"body_markdown":"@AndriiAbramov how do I know this? I don&#39;t see any code about checkstyle on build.gradle except I wrote code to exclude some folders to prevent checkstyle.","body":"@AndriiAbramov how do I know this? I don&#39;t see any code about checkstyle on build.gradle except I wrote code to exclude some folders to prevent checkstyle."},{"owner":{"account_id":6589671,"reputation":10127,"user_id":5091346,"accept_rate":72,"display_name":"Andrii Abramov"},"score":0,"creation_date":1490345080,"post_id":42994778,"comment_id":73080186,"body_markdown":"How do you launch your tests?","body":"How do you launch your tests?"},{"owner":{"account_id":1229706,"reputation":984,"user_id":1194553,"accept_rate":53,"display_name":"s&#233;an35"},"score":0,"creation_date":1490345156,"post_id":42994778,"comment_id":73080234,"body_markdown":"@AndriiAbramov I just build the code via Gradle.","body":"@AndriiAbramov I just build the code via Gradle."},{"owner":{"account_id":1229706,"reputation":984,"user_id":1194553,"accept_rate":53,"display_name":"s&#233;an35"},"score":0,"creation_date":1490345672,"post_id":42994778,"comment_id":73080514,"body_markdown":"@AndriiAbramov I see on build.gradle &quot;apply plugin: checkstyle&quot;. It is obvious that answer of your question is &quot;Gradle&quot; :) but how can I exclude these folder from this checkstyle?","body":"@AndriiAbramov I see on build.gradle &quot;apply plugin: checkstyle&quot;. It is obvious that answer of your question is &quot;Gradle&quot; :) but how can I exclude these folder from this checkstyle?"}],"answers":[{"tags":[],"owner":{"account_id":688414,"reputation":82638,"user_id":542270,"accept_rate":86,"display_name":"Opal"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1490347888,"creation_date":1490347888,"answer_id":42995811,"question_id":42994778,"body_markdown":"When `checkstyle` plugin is applied custom tasks are delivered along with it (see [here][1]), so instead of adding custom task with type `Checkstyle` configure the shipped one. This is how it should be done:\r\n\r\n    tasks.withType(Checkstyle) {\r\n        exclude &#39;**/your/generated/package/goes/here**&#39;\r\n    }\r\n\r\nYou can also configure a particular task, not all:\r\n\r\n    checkstyleMain.exclude &#39;**/your/generated/package/goes/here**&#39;\r\n\r\nAlso this is not good practice to put generated sources under `src/main/resources`. Typically such files goes to e.g. `src/gen/java`\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/checkstyle_plugin.html\r\n","title":"how to exclude a folder from checkstyle of Gradle on Intellij","body":"<p>When <code>checkstyle</code> plugin is applied custom tasks are delivered along with it (see <a href=\"https://docs.gradle.org/current/userguide/checkstyle_plugin.html\" rel=\"noreferrer\">here</a>), so instead of adding custom task with type <code>Checkstyle</code> configure the shipped one. This is how it should be done:</p>\n\n<pre><code>tasks.withType(Checkstyle) {\n    exclude '**/your/generated/package/goes/here**'\n}\n</code></pre>\n\n<p>You can also configure a particular task, not all:</p>\n\n<pre><code>checkstyleMain.exclude '**/your/generated/package/goes/here**'\n</code></pre>\n\n<p>Also this is not good practice to put generated sources under <code>src/main/resources</code>. Typically such files goes to e.g. <code>src/gen/java</code></p>\n"},{"tags":[],"owner":{"account_id":7481962,"reputation":153,"user_id":8587028,"display_name":"Антон Ткаченко"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583999445,"creation_date":1583999445,"answer_id":60649668,"question_id":42994778,"body_markdown":"I had lots of issues with checkStyle &amp; pmd + QueryDSL\r\nA final solution for me was not to exclude generated sources, but clean them after assemble task: no sources - nothing to analyze! :)\r\n\r\nassemble {\r\n    finalizedBy cleanQuerydslSourcesDir\r\n}","title":"how to exclude a folder from checkstyle of Gradle on Intellij","body":"<p>I had lots of issues with checkStyle &amp; pmd + QueryDSL\nA final solution for me was not to exclude generated sources, but clean them after assemble task: no sources - nothing to analyze! :)</p>\n\n<p>assemble {\n    finalizedBy cleanQuerydslSourcesDir\n}</p>\n"},{"tags":[],"owner":{"account_id":3171905,"reputation":10222,"user_id":2680640,"display_name":"sendon1982"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1603966524,"creation_date":1603966524,"answer_id":64589046,"question_id":42994778,"body_markdown":"I followed some comments and make it work add this in file `build.gradle`\r\n\r\n    checkstyle {\r\n        config = rootProject.resources.text.fromFile(&quot;${project.projectDir}/checkstyle-8.34_google_checks.xml&quot;)\r\n        toolVersion = &#39;8.34&#39;\r\n        ignoreFailures = false\r\n        maxWarnings = 0\r\n    }\r\n\r\n    checkstyleMain\r\n        .exclude(&#39;com/examples/gen/api/*.java&#39;)\r\n        .exclude(&#39;com/examples/gen/model/*.java&#39;)\r\n        .exclude(&#39;com/examples/gen/auth/*.java&#39;)","title":"how to exclude a folder from checkstyle of Gradle on Intellij","body":"<p>I followed some comments and make it work add this in file <code>build.gradle</code></p>\n<pre><code>checkstyle {\n    config = rootProject.resources.text.fromFile(&quot;${project.projectDir}/checkstyle-8.34_google_checks.xml&quot;)\n    toolVersion = '8.34'\n    ignoreFailures = false\n    maxWarnings = 0\n}\n\ncheckstyleMain\n    .exclude('com/examples/gen/api/*.java')\n    .exclude('com/examples/gen/model/*.java')\n    .exclude('com/examples/gen/auth/*.java')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":977258,"reputation":3591,"user_id":997977,"accept_rate":36,"display_name":"Juan Rada"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1606151484,"creation_date":1606151484,"answer_id":64973013,"question_id":42994778,"body_markdown":"For kotlin dsl use\r\n\r\n```\r\ntasks.withType&lt;Checkstyle&gt;() {\r\n    exclude(&quot;**/com/generated/*.java&quot;)\r\n}\r\n```","title":"how to exclude a folder from checkstyle of Gradle on Intellij","body":"<p>For kotlin dsl use</p>\n<pre><code>tasks.withType&lt;Checkstyle&gt;() {\n    exclude(&quot;**/com/generated/*.java&quot;)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1153502,"reputation":1700,"user_id":1134715,"display_name":"Joe Seff"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1651151254,"creation_date":1651151254,"answer_id":72044235,"question_id":42994778,"body_markdown":"You can only exclude a folder that is in the source set. That is something that had not been mentioned and it caused me to struggle since I am using Intellij. The generated files are in the **build/** folder which is on the same level as **src/**. I tried excluding the build folder for a while but there was no effect. The only solution was to specify the source folder. Since the build folder is not under src (the source folder), it worked immediately.\r\n\r\n    checkstyleMain.source = &quot;src/main/java&quot;\r\n\r\nI found the solution here: [Specify excludes to Checkstyle task][1]\r\n\r\n\r\n  [1]: https://discuss.gradle.org/t/specify-excludes-to-checkstyle-task/5542/2","title":"how to exclude a folder from checkstyle of Gradle on Intellij","body":"<p>You can only exclude a folder that is in the source set. That is something that had not been mentioned and it caused me to struggle since I am using Intellij. The generated files are in the <strong>build/</strong> folder which is on the same level as <strong>src/</strong>. I tried excluding the build folder for a while but there was no effect. The only solution was to specify the source folder. Since the build folder is not under src (the source folder), it worked immediately.</p>\n<pre><code>checkstyleMain.source = &quot;src/main/java&quot;\n</code></pre>\n<p>I found the solution here: <a href=\"https://discuss.gradle.org/t/specify-excludes-to-checkstyle-task/5542/2\" rel=\"nofollow noreferrer\">Specify excludes to Checkstyle task</a></p>\n"},{"tags":[],"owner":{"account_id":14192537,"reputation":141,"user_id":10252707,"display_name":"ideal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679476215,"creation_date":1679476215,"answer_id":75810261,"question_id":42994778,"body_markdown":"Now you need to modify the &quot;checkstyleMain&quot; Task\r\n\r\nkotlin dsl use\r\n\r\n    tasks.named&lt;Checkstyle&gt;(&quot;checkstyleMain&quot;) {\r\n      source(&quot;src&quot;)\r\n      include(&quot;**/*.java&quot;)\r\n      exclude(&quot;**/com/generated/*.java&quot;)\r\n    }\r\n\r\ngroovy dsl use\r\n\r\n    tasks.named(&quot;checkstyleMain&quot;, Checkstyle) {\r\n      exclude(&quot;**/com/generated/*.java&quot;)\r\n    }\r\n\r\n","title":"how to exclude a folder from checkstyle of Gradle on Intellij","body":"<p>Now you need to modify the &quot;checkstyleMain&quot; Task</p>\n<p>kotlin dsl use</p>\n<pre><code>tasks.named&lt;Checkstyle&gt;(&quot;checkstyleMain&quot;) {\n  source(&quot;src&quot;)\n  include(&quot;**/*.java&quot;)\n  exclude(&quot;**/com/generated/*.java&quot;)\n}\n</code></pre>\n<p>groovy dsl use</p>\n<pre><code>tasks.named(&quot;checkstyleMain&quot;, Checkstyle) {\n  exclude(&quot;**/com/generated/*.java&quot;)\n}\n</code></pre>\n"}],"owner":{"account_id":1229706,"reputation":984,"user_id":1194553,"accept_rate":53,"display_name":"s&#233;an35"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25025,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":6,"score":18,"last_activity_date":1679476215,"creation_date":1490344505,"question_id":42994778,"body_markdown":"I am new for IntelliJ and Gradle, but I have enough experience on Java and Eclipse. I generated some java classes from wsdl file. I put them under `src/main/resources` with a folder name - &quot;generatedsources&quot;.\r\n\r\nI try to prevent checkstyle for this folder and its subfolders like `src/main/resources/generatedsources/*` with gradle on IntelliJ.\r\n\r\nI tried some lines such;\r\n\r\n    task checkstyle(type: Checkstyle) {\r\n            source &#39;src&#39;\r\n        //    include &#39;**/*.java&#39;\r\n        //    exclude &#39;**/gen/**&#39;\r\n        //    exclude &#39;**/R.java&#39;\r\n        //    exclude &#39;**/BuildConfig.java&#39;\r\n            exclude &#39;src/main/resources/generatedsources/**&#39;\r\n        }\r\n\r\nBut I&#39;m failed again.\r\n\r\nbuild.gradle;\r\n\r\n\r\n    apply plugin: &#39;war&#39;\r\n    apply plugin: &#39;jetty&#39;\r\n    apply plugin: &#39;checkstyle&#39;\r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;no.nils.wsdl2java&#39;\r\n    \r\n    sourceCompatibility = 1.7\r\n    version = &#39;1.0&#39;    \r\n    \r\n    ...\r\n    \r\n    buildscript{\r\n        repositories{\r\n            jcenter()\r\n            mavenCentral()\r\n        }\r\n        dependencies {\r\n            classpath &#39;no.nils:wsdl2java:0.10&#39;\r\n        }\r\n    }\r\n    \r\n    task checkstyle(type: Checkstyle) {\r\n        source &#39;src&#39;\r\n    //    include &#39;**/*.java&#39;\r\n    //    exclude &#39;**/gen/**&#39;\r\n    //    exclude &#39;**/R.java&#39;\r\n    //    exclude &#39;**/BuildConfig.java&#39;\r\n        exclude &#39;src/main/resources/generatedsources/**&#39;\r\n    }\r\n\r\n-------------------\r\n**EDIT - After recommendations(but still failed!):**\r\n\r\n    apply plugin: &#39;war&#39;\r\n    apply plugin: &#39;jetty&#39;\r\n    apply plugin: &#39;checkstyle&#39;\r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;no.nils.wsdl2java&#39;\r\n    \r\n    sourceCompatibility = 1.7\r\n    version = &#39;1.0&#39;\r\n    \r\n    description = &quot;&quot;&quot;BLABLABLA_application&quot;&quot;&quot;\r\n    \r\n    war.archiveName = &quot;BLABLABLA.war&quot;\r\n    \r\n    configurations{\r\n        deployerJars\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        compile group: &#39;org.codehaus.jackson&#39;, name: &#39;jackson-core-asl&#39;, version: &#39;1.9.3&#39;\r\n        compile group: &#39;org.codehaus.jackson&#39;, name: &#39;jackson-mapper-asl&#39;, version: &#39;1.9.3&#39;\r\n        compile group: &#39;org.springframework&#39;, name: &#39;spring-core&#39;, version:&#39;4.0.0.RELEASE&#39;\r\n        compile group: &#39;org.springframework&#39;, name: &#39;spring-web&#39;, version:&#39;4.0.0.RELEASE&#39;\r\n        compile &#39;log4j:log4j:1.2.17&#39;\r\n        compile &#39;com.sun.xml.ws:jaxws-rt:2.2.8&#39;\r\n        compile &#39;org.jvnet.jax-ws-commons.spring:jaxws-spring:1.9&#39;\r\n        compile group: &#39;org.springframework&#39;, name: &#39;spring-webmvc&#39;, version:&#39;4.0.0.RELEASE&#39;\r\n        providedCompile group: &#39;javax.servlet&#39;, name: &#39;servlet-api&#39;, version:&#39;2.5&#39;\r\n        testCompile group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.11&#39;\r\n        deployerJars &quot;org.apache.maven.wagon:wagon-http:2.2&quot;\r\n    }\r\n    \r\n    jar {\r\n        manifest {\r\n            attributes &#39;Implementation-Title&#39;: &#39;BLABLABLA&#39;, &#39;Implementation-Version&#39;: version\r\n        }\r\n    }\r\n    \r\n    uploadArchives {\r\n        repositories {\r\n            flatDir {\r\n                dirs &#39;repos&#39;\r\n            }\r\n        }\r\n    }\r\n    \r\n    \r\n    buildscript{\r\n        repositories{\r\n            jcenter()\r\n            mavenCentral()\r\n        }\r\n        dependencies {\r\n            classpath &#39;no.nils:wsdl2java:0.10&#39;\r\n        }\r\n    }\r\n    \r\n    wsdl2java{\r\n        wsdlsToGenerate = [\r\n                [&quot;$projectDir/src/main/resources/BLABLABLA.wsdl&quot;]\r\n        ]\r\n        generatedWsdlDir = file(&quot;$projectDir/src/gen/java&quot;)\r\n        wsdlDir = file(&quot;$projectDir/src/main/resources&quot;)\r\n    }\r\n    \r\n    wsdl2javaExt {\r\n        cxfVersion = &quot;2.5.1&quot;\r\n    }\r\n    \r\n    tasks.withType(Checkstyle) {\r\n        exclude &#39;**/your/generated/package/goes/here**&#39;\r\n    }\r\n    \r\n    checkstyleMain.exclude &#39;**/your/generated/package/goes/here**&#39;\r\n\r\n&quot;exclude&quot; in tasks.withType and &quot;checkstyleMain&quot; causes an error such as &quot;cannot resolve symbol&quot;!","title":"how to exclude a folder from checkstyle of Gradle on Intellij","body":"<p>I am new for IntelliJ and Gradle, but I have enough experience on Java and Eclipse. I generated some java classes from wsdl file. I put them under <code>src/main/resources</code> with a folder name - \"generatedsources\".</p>\n\n<p>I try to prevent checkstyle for this folder and its subfolders like <code>src/main/resources/generatedsources/*</code> with gradle on IntelliJ.</p>\n\n<p>I tried some lines such;</p>\n\n<pre><code>task checkstyle(type: Checkstyle) {\n        source 'src'\n    //    include '**/*.java'\n    //    exclude '**/gen/**'\n    //    exclude '**/R.java'\n    //    exclude '**/BuildConfig.java'\n        exclude 'src/main/resources/generatedsources/**'\n    }\n</code></pre>\n\n<p>But I'm failed again.</p>\n\n<p>build.gradle;</p>\n\n<pre><code>apply plugin: 'war'\napply plugin: 'jetty'\napply plugin: 'checkstyle'\napply plugin: 'java'\napply plugin: 'no.nils.wsdl2java'\n\nsourceCompatibility = 1.7\nversion = '1.0'    \n\n...\n\nbuildscript{\n    repositories{\n        jcenter()\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'no.nils:wsdl2java:0.10'\n    }\n}\n\ntask checkstyle(type: Checkstyle) {\n    source 'src'\n//    include '**/*.java'\n//    exclude '**/gen/**'\n//    exclude '**/R.java'\n//    exclude '**/BuildConfig.java'\n    exclude 'src/main/resources/generatedsources/**'\n}\n</code></pre>\n\n<hr>\n\n<p><strong>EDIT - After recommendations(but still failed!):</strong></p>\n\n<pre><code>apply plugin: 'war'\napply plugin: 'jetty'\napply plugin: 'checkstyle'\napply plugin: 'java'\napply plugin: 'no.nils.wsdl2java'\n\nsourceCompatibility = 1.7\nversion = '1.0'\n\ndescription = \"\"\"BLABLABLA_application\"\"\"\n\nwar.archiveName = \"BLABLABLA.war\"\n\nconfigurations{\n    deployerJars\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile group: 'org.codehaus.jackson', name: 'jackson-core-asl', version: '1.9.3'\n    compile group: 'org.codehaus.jackson', name: 'jackson-mapper-asl', version: '1.9.3'\n    compile group: 'org.springframework', name: 'spring-core', version:'4.0.0.RELEASE'\n    compile group: 'org.springframework', name: 'spring-web', version:'4.0.0.RELEASE'\n    compile 'log4j:log4j:1.2.17'\n    compile 'com.sun.xml.ws:jaxws-rt:2.2.8'\n    compile 'org.jvnet.jax-ws-commons.spring:jaxws-spring:1.9'\n    compile group: 'org.springframework', name: 'spring-webmvc', version:'4.0.0.RELEASE'\n    providedCompile group: 'javax.servlet', name: 'servlet-api', version:'2.5'\n    testCompile group: 'junit', name: 'junit', version: '4.11'\n    deployerJars \"org.apache.maven.wagon:wagon-http:2.2\"\n}\n\njar {\n    manifest {\n        attributes 'Implementation-Title': 'BLABLABLA', 'Implementation-Version': version\n    }\n}\n\nuploadArchives {\n    repositories {\n        flatDir {\n            dirs 'repos'\n        }\n    }\n}\n\n\nbuildscript{\n    repositories{\n        jcenter()\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'no.nils:wsdl2java:0.10'\n    }\n}\n\nwsdl2java{\n    wsdlsToGenerate = [\n            [\"$projectDir/src/main/resources/BLABLABLA.wsdl\"]\n    ]\n    generatedWsdlDir = file(\"$projectDir/src/gen/java\")\n    wsdlDir = file(\"$projectDir/src/main/resources\")\n}\n\nwsdl2javaExt {\n    cxfVersion = \"2.5.1\"\n}\n\ntasks.withType(Checkstyle) {\n    exclude '**/your/generated/package/goes/here**'\n}\n\ncheckstyleMain.exclude '**/your/generated/package/goes/here**'\n</code></pre>\n\n<p>\"exclude\" in tasks.withType and \"checkstyleMain\" causes an error such as \"cannot resolve symbol\"!</p>\n"},{"tags":["java","spring-boot","junit","spring-context"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1679476738,"post_id":75810217,"comment_id":133727361,"body_markdown":"Hi &amp; Welcome to [so]! :) How to fix? (too few infos!) but some direction: in your local environment this (integration!) test succeeds, due to the conditions given by `@ActiveProfiles(&quot;local&quot;)` and `constant1, constant2` and your &quot;local environment&quot; ... these conditions are not met on &quot;dev&quot;! You have to &quot;detect&quot; this difference (error messages will help), and (smartly) clear...","body":"Hi &amp; Welcome to <a href=\"https://stackoverflow.com\">Stack Overflow</a>! :) How to fix? (too few infos!) but some direction: in your local environment this (integration!) test succeeds, due to the conditions given by <code>@ActiveProfiles(&quot;local&quot;)</code> and <code>constant1, constant2</code> and your &quot;local environment&quot; ... these conditions are not met on &quot;dev&quot;! You have to &quot;detect&quot; this difference (error messages will help), and (smartly) clear..."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1679476940,"post_id":75810217,"comment_id":133727405,"body_markdown":"On the other hand: &quot;I have been asked to test this class by loading spring context&quot; can (light-minded) also be interpreted as &quot;to wirte a *unit test*&quot; ((by-&gt;) still/also loading the spring context), then you are good off with: &quot;mocks&quot; ! (don&#39;t need to care about &quot;environment specifics&quot;, but just test the consistency and correctness of &quot;this class&quot;, at the price of &quot;mocking external &#39;responses/messages&#39;&quot;)","body":"On the other hand: &quot;I have been asked to test this class by loading spring context&quot; can (light-minded) also be interpreted as &quot;to wirte a <i>unit test</i>&quot; ((by-&gt;) still/also loading the spring context), then you are good off with: &quot;mocks&quot; ! (don&#39;t need to care about &quot;environment specifics&quot;, but just test the consistency and correctness of &quot;this class&quot;, at the price of &quot;mocking external &#39;responses/messages&#39;&quot;)"}],"owner":{"account_id":28083953,"reputation":11,"user_id":21454598,"display_name":"NewDevs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679475919,"creation_date":1679475919,"question_id":75810217,"body_markdown":"```\r\n@Service\r\n\r\npublic class MyRegistry {\r\n\r\nprivate final Map&lt;String, CustomClass&gt; services;\r\n\r\n@Autowired\r\npublic MyRegistry(List&lt;CustomClass&gt; msgList) {\r\n this.services = msgList.stream().collect(Collectors.tounmodifiableMap(CustomClass:: getId, s-&gt;s));\r\n}\r\n\r\npublic CustomClass getIns(final String name){\r\n final CustomClass customClass = services.get(name);\r\n\r\n\r\n return customClass;\r\n}\r\n\r\n```\r\n\r\nI have been asked to test this class by loading spring context, I have tried running the below test case with @ActiveProfiles(&quot;local&quot;) that works but that fails on dev environment, how to fix this issue.\r\n\r\nBelow is my test case:\r\n\r\n\r\n```\r\n@SpringBootTest\r\n@ActiveProfiles(&quot;local&quot;)\r\nclass MyTestClass {\r\n    @Autowired\r\n    MyRegistry myRegistry;\r\n\r\n   @ParameterizedTest\r\n   @CsvSource( value={constant1, constant2} )\r\n   void getValue(String id){\r\n# assertNotNull(myRegistry.getInstanceId());\r\n}\r\n}\r\n```\r\n\r\n\r\nLooking for solution.","title":"Regarding adding context to Junit test case","body":"<pre><code>@Service\n\npublic class MyRegistry {\n\nprivate final Map&lt;String, CustomClass&gt; services;\n\n@Autowired\npublic MyRegistry(List&lt;CustomClass&gt; msgList) {\n this.services = msgList.stream().collect(Collectors.tounmodifiableMap(CustomClass:: getId, s-&gt;s));\n}\n\npublic CustomClass getIns(final String name){\n final CustomClass customClass = services.get(name);\n\n\n return customClass;\n}\n\n</code></pre>\n<p>I have been asked to test this class by loading spring context, I have tried running the below test case with @ActiveProfiles(&quot;local&quot;) that works but that fails on dev environment, how to fix this issue.</p>\n<p>Below is my test case:</p>\n<pre><code>@SpringBootTest\n@ActiveProfiles(&quot;local&quot;)\nclass MyTestClass {\n    @Autowired\n    MyRegistry myRegistry;\n\n   @ParameterizedTest\n   @CsvSource( value={constant1, constant2} )\n   void getValue(String id){\n# assertNotNull(myRegistry.getInstanceId());\n}\n}\n</code></pre>\n<p>Looking for solution.</p>\n"},{"tags":["java","datetime"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1679389910,"post_id":75799114,"comment_id":133708666,"body_markdown":"Are you sure the day of month `021` can actually be parsed? Or is it just a typo?","body":"Are you sure the day of month <code>021</code> can actually be parsed? Or is it just a typo?"},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1679390278,"post_id":75799114,"comment_id":133708763,"body_markdown":"I would encourage you to extract this into a method and write 2-3 unit-tests to validate it and answer your questionst. it can be as simple as `assertThat(formatDateToUTC(&quot;2023-03-21T10:00:51-01:00&quot;)).isEqualTo(&quot;21-03-2023 11:00:51&quot;)`","body":"I would encourage you to extract this into a method and write 2-3 unit-tests to validate it and answer your questionst. it can be as simple as <code>assertThat(formatDateToUTC(&quot;2023-03-21T10:00:51-01:00&quot;)).isE&zwnj;&#8203;qualTo(&quot;21-03-2023 11:00:51&quot;)</code>"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1679401731,"post_id":75799114,"comment_id":133711888,"body_markdown":"What is the actual date you are trying to parse?   `2023-03-02` or `2023-03-21`?","body":"What is the actual date you are trying to parse?   <code>2023-03-02</code> or <code>2023-03-21</code>?"},{"owner":{"account_id":23710186,"reputation":85,"user_id":17732139,"display_name":"Joel"},"score":1,"creation_date":1679407989,"post_id":75799114,"comment_id":133713987,"body_markdown":"021 is typo in the example should be 21","body":"021 is typo in the example should be 21"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1679470087,"post_id":75799114,"comment_id":133725810,"body_markdown":"Thanks for clarifying, I updated my answer accordingly. Could you please [edit] your question and remove the obsolete zero?","body":"Thanks for clarifying, I updated my answer accordingly. Could you please <a href=\"https://stackoverflow.com/posts/75799114/edit\">edit</a> your question and remove the obsolete zero?"}],"answers":[{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679470080,"creation_date":1679390141,"answer_id":75799239,"question_id":75799114,"body_markdown":"If you use `java.time` instead of `java.util` and `java.text` for parsing and converting, you will be able to do it shorter and more concise:\r\n\r\n```Java\r\npublic static void main(String[] args) {\r\n\t// examplt input in ISO format\r\n\tfinal String myDate = &quot;2023-03-21T10:00:51+01:00&quot;;\r\n\t// parse it and get an OffsetDateTime at +01:00\r\n    OffsetDateTime odt = OffsetDateTime.parse(myDate);\r\n    // print it\r\n    System.out.println(odt);\r\n    // use the parsed value in order to adjust the offset\r\n    OffsetDateTime utcOdt = odt.withOffsetSameInstant(ZoneOffset.UTC);\r\n    // print that, too\r\n    System.out.println(utcOdt);\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```none\r\n2023-03-21T10:00:51+01:00\r\n2023-03-21T09:00:51Z\r\n```\r\n\r\n#### Short version:\r\n\r\n```Java\r\nOffsetDateTime utcOdt = OffsetDateTime.parse(&quot;2023-03-21T10:00:51+01:00&quot;)\r\n\t \t\t\t\t\t\t\t      .withOffsetSameInstant(ZoneOffset.UTC);\r\n```\r\n\r\n---\r\n\r\n###### Edited this question to include OP&#39;s comment under his question clarifying the badly formatted input example.","title":"Converting timestamp with timezone to UTC","body":"<p>If you use <code>java.time</code> instead of <code>java.util</code> and <code>java.text</code> for parsing and converting, you will be able to do it shorter and more concise:</p>\n<pre><code>public static void main(String[] args) {\n    // examplt input in ISO format\n    final String myDate = &quot;2023-03-21T10:00:51+01:00&quot;;\n    // parse it and get an OffsetDateTime at +01:00\n    OffsetDateTime odt = OffsetDateTime.parse(myDate);\n    // print it\n    System.out.println(odt);\n    // use the parsed value in order to adjust the offset\n    OffsetDateTime utcOdt = odt.withOffsetSameInstant(ZoneOffset.UTC);\n    // print that, too\n    System.out.println(utcOdt);\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2023-03-21T10:00:51+01:00\n2023-03-21T09:00:51Z\n</code></pre>\n<h4>Short version:</h4>\n<pre><code>OffsetDateTime utcOdt = OffsetDateTime.parse(&quot;2023-03-21T10:00:51+01:00&quot;)\n                                      .withOffsetSameInstant(ZoneOffset.UTC);\n</code></pre>\n<hr />\n<h6>Edited this question to include OP's comment under his question clarifying the badly formatted input example.</h6>\n"}],"owner":{"account_id":23710186,"reputation":85,"user_id":17732139,"display_name":"Joel"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679475662,"creation_date":1679389322,"question_id":75799114,"body_markdown":"I have the following String `&quot;2023-03-21T10:00:51+01:00&quot;`, how can I convert it to UTC time?\r\n\r\nMy approach is the following \r\n```Java\r\nfinal String myDate = &quot;2023-03-021T10:00:51+01:00&quot;;\r\nfinal DateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssXXX&quot;);\r\nDate savedDate = format.parse(myDate);\r\nDateFormat formatterUTC = new SimpleDateFormat(&quot;dd-MM-yyyy HH:mm:ss&quot;);\r\nformatterUTC.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;)); // UTC timezone\r\nString utcDate = formatterUTC.format(savedDate);\r\n```\r\nbut I am not sure if it is correct","title":"Converting timestamp with timezone to UTC","body":"<p>I have the following String <code>&quot;2023-03-21T10:00:51+01:00&quot;</code>, how can I convert it to UTC time?</p>\n<p>My approach is the following</p>\n<pre><code>final String myDate = &quot;2023-03-021T10:00:51+01:00&quot;;\nfinal DateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ssXXX&quot;);\nDate savedDate = format.parse(myDate);\nDateFormat formatterUTC = new SimpleDateFormat(&quot;dd-MM-yyyy HH:mm:ss&quot;);\nformatterUTC.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;)); // UTC timezone\nString utcDate = formatterUTC.format(savedDate);\n</code></pre>\n<p>but I am not sure if it is correct</p>\n"},{"tags":["java","c#","audio","naudio","jaudiotagger"],"comments":[{"owner":{"account_id":3686350,"reputation":6713,"user_id":3070060,"display_name":"PaulF"},"score":0,"creation_date":1679477405,"post_id":75810115,"comment_id":133727528,"body_markdown":"Are the employee &amp; the caller on different stereo channels (ie the stereo recording is actually two mono recordings) - if so then you only need to check if one channel is silent.\nIf both employee &amp; caller are stereo recordings, then you could look for long silences in the recording for employee only.\nIn either case, it is unlikely you will find useful information in the MP3 header file, it is the actual recording you will need to examine. If the recordings are true stereo, then comparing left &amp; right channels is highly likely to show differences (that is the entire point of stereo recording)","body":"Are the employee &amp; the caller on different stereo channels (ie the stereo recording is actually two mono recordings) - if so then you only need to check if one channel is silent. If both employee &amp; caller are stereo recordings, then you could look for long silences in the recording for employee only. In either case, it is unlikely you will find useful information in the MP3 header file, it is the actual recording you will need to examine. If the recordings are true stereo, then comparing left &amp; right channels is highly likely to show differences (that is the entire point of stereo recording)"},{"owner":{"account_id":6156307,"reputation":33584,"user_id":5015238,"display_name":"jdweng"},"score":0,"creation_date":1679478928,"post_id":75810115,"comment_id":133727894,"body_markdown":"Audio and Images have ASCII header in the file.  You can see the headers if you open with a text editor.  The META Data contains the ASCII Header.  The type is obtains from the header.","body":"Audio and Images have ASCII header in the file.  You can see the headers if you open with a text editor.  The META Data contains the ASCII Header.  The type is obtains from the header."},{"owner":{"account_id":28076636,"reputation":1,"user_id":21448387,"display_name":"JustNeedHelp123"},"score":0,"creation_date":1679481624,"post_id":75810115,"comment_id":133728530,"body_markdown":"@PaulF: &#39;If the recordings are true stereo, then comparing left &amp; right channels is highly likely to show differences&#39;\nHow can i do that? Both recordings are stereo and yes I thought about scanning for long silences, but we have some recording where the employee talks 99% and the customer only say yes..","body":"@PaulF: &#39;If the recordings are true stereo, then comparing left &amp; right channels is highly likely to show differences&#39; How can i do that? Both recordings are stereo and yes I thought about scanning for long silences, but we have some recording where the employee talks 99% and the customer only say yes.."},{"owner":{"account_id":28076636,"reputation":1,"user_id":21448387,"display_name":"JustNeedHelp123"},"score":0,"creation_date":1679481723,"post_id":75810115,"comment_id":133728556,"body_markdown":"@jdweng you mean I could check the ASCII-Header if it&#39;s mono or stereo? With the Java code &#39;mp3.getAudioHeader().getChannels()&#39; I get the answer &#39;Joint Stereo&#39;","body":"@jdweng you mean I could check the ASCII-Header if it&#39;s mono or stereo? With the Java code &#39;mp3.getAudioHeader().getChannels()&#39; I get the answer &#39;Joint Stereo&#39;"},{"owner":{"account_id":6156307,"reputation":33584,"user_id":5015238,"display_name":"jdweng"},"score":0,"creation_date":1679483246,"post_id":75810115,"comment_id":133728943,"body_markdown":"Can&#39;t tell if the data is from ascii header or  a digital header after the ascii header.  See : https://en.wikipedia.org/wiki/MP3?force_isolation=true","body":"Can&#39;t tell if the data is from ascii header or  a digital header after the ascii header.  See : <a href=\"https://en.wikipedia.org/wiki/MP3?force_isolation=true\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/MP3?force_isolation=true</a>"},{"owner":{"account_id":3686350,"reputation":6713,"user_id":3070060,"display_name":"PaulF"},"score":0,"creation_date":1679485180,"post_id":75810115,"comment_id":133729456,"body_markdown":"@JustNeedHelp123: what I meant was if the recording is true stereo then it is likely there will naturally be left/right differences - so comparing left &amp; right will not tell you anything.","body":"@JustNeedHelp123: what I meant was if the recording is true stereo then it is likely there will naturally be left/right differences - so comparing left &amp; right will not tell you anything."}],"owner":{"account_id":28076636,"reputation":1,"user_id":21448387,"display_name":"JustNeedHelp123"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679475276,"creation_date":1679475276,"question_id":75810115,"body_markdown":"I have to distinguish between two types of MP3 files. Both are &#39;Joint-Stereo&#39; and have two channels, but they were recorded differently. The recordings are from calls, one is filled with both sides and the other one only have the called party. I have to check which one is single-side and which is both-side.\r\n\r\nI tried it in Java with JAudioTagger and then in C# with NAudio, but I can&#39;t get a clever way to get the information or to calculate the different channel size.\r\n\r\nThe audio files are only different in the way they were recorded. Imagine a phone call and both sides are recorded, but sometimes only for coaching purposes the side of the employee is the one recorded and the one is silence, but the employee part is on both channels. My job is now to find out which mp3 audio files is recorded with both sides of a conversation and which is only the employee. In Java I tried with the `JAudioTagger` to get some information. `MP3File(mp3File).getMP3AudioHeader()`, but every metadata that could be slightly different are the same on both recordings.\r\n\r\nMy thought were that maybe it&#39;s possible to divide the two channels of the &#39;Joint Stereo&#39; files and check if both summed bytes for each side are similar or different.\r\n\r\n**\\_**\\_\\_**\\_**\\_\\_**\\_**\\_\\_**\\_**\\_\\_**\\_**\\_\\_**\\_**\\_\\_**\\_**\\_\\_**\\_**\\_\\_**\\_**\\_\\_**\\_**\\_\\_**\\_**\\_\\_**\\_**\\_\\_**\\_**\\_\\_**\\_**\\_\\_**\\_**\\_\\_**\\_**\\_\\_**\\_**\\_\\_**\\_**\\_\\_**\\_**\\_\\_**\\_**\\_\\_**\\_**\\_\\_**\\_**\\_\\_  \r\nI deleted much of my code, but that&#39;s was left.  \r\nIn Java:\r\n\r\n```\r\n\tpublic static void checkMp3Sides(File mp3File) {\r\n\t\ttry {\r\n\t\t\tMP3File mp3 = new MP3File(mp3File);\r\n\t\t\tmp3.getAudioHeader().getChannels();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n```\r\n\r\nIn C#:\r\n\r\n&gt; ```\r\n&gt; using System;\r\n&gt; using System.Collections.Generic;\r\n&gt; using System.Linq;\r\n&gt; using System.Text;\r\n&gt; using System.Threading.Tasks;\r\n&gt; using NAudio.Wave;\r\n&gt; \r\n&gt; namespace CheckAudioChannelsEquality\r\n&gt; {\r\n&gt;     class Program\r\n&gt;     {\r\n&gt;         static void Main(string[] args)\r\n&gt;         {\r\n&gt;             string fileName = &quot;&quot;;\r\n&gt;             Mp3FileReader file = new Mp3FileReader(fileName);\r\n&gt; \r\n&gt;             int _Bytes = (int)file.Length;\r\n&gt;             byte[] Buffer = new byte[_Bytes];\r\n&gt; \r\n&gt;             int leftSum = 0;\r\n&gt;             int rightSum = 0;\r\n&gt; \r\n&gt;             int read = file.Read(Buffer, 0, (int)_Bytes);\r\n&gt;             for (int i = 0; i &lt; read; i += 4)\r\n&gt;             {\r\n&gt;                 Int16 leftSample = BitConverter.ToInt16(Buffer, i);\r\n&gt;                 Int16 rightSample = BitConverter.ToInt16(Buffer, i + 2);\r\n&gt; \r\n&gt;                 leftSum += leftSample;\r\n&gt;                 rightSum += rightSample;\r\n&gt;             }\r\n&gt; \r\n&gt;             Console.WriteLine(&quot;Left: &quot; + leftSum + &quot; | Right: &quot; + rightSum);\r\n&gt;         }\r\n&gt;     }\r\n&gt; }\r\n&gt; \r\n&gt; ```","title":"MP3-Stereo-File - Check differences within the channels","body":"<p>I have to distinguish between two types of MP3 files. Both are 'Joint-Stereo' and have two channels, but they were recorded differently. The recordings are from calls, one is filled with both sides and the other one only have the called party. I have to check which one is single-side and which is both-side.</p>\n<p>I tried it in Java with JAudioTagger and then in C# with NAudio, but I can't get a clever way to get the information or to calculate the different channel size.</p>\n<p>The audio files are only different in the way they were recorded. Imagine a phone call and both sides are recorded, but sometimes only for coaching purposes the side of the employee is the one recorded and the one is silence, but the employee part is on both channels. My job is now to find out which mp3 audio files is recorded with both sides of a conversation and which is only the employee. In Java I tried with the <code>JAudioTagger</code> to get some information. <code>MP3File(mp3File).getMP3AudioHeader()</code>, but every metadata that could be slightly different are the same on both recordings.</p>\n<p>My thought were that maybe it's possible to divide the two channels of the 'Joint Stereo' files and check if both summed bytes for each side are similar or different.</p>\n<p><strong>_</strong>__<strong>_</strong>__<strong>_</strong>__<strong>_</strong>__<strong>_</strong>__<strong>_</strong>__<strong>_</strong>__<strong>_</strong>__<strong>_</strong>__<strong>_</strong>__<strong>_</strong>__<strong>_</strong>__<strong>_</strong>__<strong>_</strong>__<strong>_</strong>__<strong>_</strong>__<strong>_</strong>__<strong>_</strong>__<strong>_</strong>__<strong>_</strong>__<strong>_</strong>__<strong>_</strong>__<br />\nI deleted much of my code, but that's was left.<br />\nIn Java:</p>\n<pre><code>    public static void checkMp3Sides(File mp3File) {\n        try {\n            MP3File mp3 = new MP3File(mp3File);\n            mp3.getAudioHeader().getChannels();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>In C#:</p>\n<blockquote>\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing NAudio.Wave;\n\nnamespace CheckAudioChannelsEquality\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            string fileName = &quot;&quot;;\n            Mp3FileReader file = new Mp3FileReader(fileName);\n\n            int _Bytes = (int)file.Length;\n            byte[] Buffer = new byte[_Bytes];\n\n            int leftSum = 0;\n            int rightSum = 0;\n\n            int read = file.Read(Buffer, 0, (int)_Bytes);\n            for (int i = 0; i &lt; read; i += 4)\n            {\n                Int16 leftSample = BitConverter.ToInt16(Buffer, i);\n                Int16 rightSample = BitConverter.ToInt16(Buffer, i + 2);\n\n                leftSum += leftSample;\n                rightSum += rightSample;\n            }\n\n            Console.WriteLine(&quot;Left: &quot; + leftSum + &quot; | Right: &quot; + rightSum);\n        }\n    }\n}\n\n</code></pre>\n</blockquote>\n"},{"tags":["java","csv","serialization","jackson","sha256"],"comments":[{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":1,"creation_date":1679420322,"post_id":75800993,"comment_id":133717969,"body_markdown":"Have you tried something like `mapper.writeValueAsBytes(listofData)` ?","body":"Have you tried something like <code>mapper.writeValueAsBytes(listofData)</code> ?"},{"owner":{"account_id":27129334,"reputation":239,"user_id":20671772,"display_name":"armaka"},"score":1,"creation_date":1679473619,"post_id":75800993,"comment_id":133726539,"body_markdown":"@dariosicily this does the thing! Please post your answer so I could accept it\n Thank you very much btw :)","body":"@dariosicily this does the thing! Please post your answer so I could accept it  Thank you very much btw :)"},{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":1,"creation_date":1679475171,"post_id":75800993,"comment_id":133726954,"body_markdown":"Glad to have helped :) , I posted my answer below.","body":"Glad to have helped :) , I posted my answer below."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1679479537,"post_id":75800993,"comment_id":133728048,"body_markdown":"You could also wrap a manually created `FileOutputStream` in a `DigestOutputStream` to create the hash without having to have the whole result in memory at the same time.","body":"You could also wrap a manually created <code>FileOutputStream</code> in a <code>DigestOutputStream</code> to create the hash without having to have the whole result in memory at the same time."}],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679475134,"creation_date":1679475134,"answer_id":75810095,"question_id":75800993,"body_markdown":"You were very close to the solution, considering that as from the documentation [`CsvMapper`](http://fasterxml.github.io/jackson-dataformat-csv/javadoc/2.8/com/fasterxml/jackson/dataformat/csv/CsvMapper.html) is a specialized `ObjectMapper` with extended functionality to produce CsvSchema instances out of POJOs, then you can use the [`ObjectMapper#writeValueAsBytes`](https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/ObjectMapper.html#writeValueAsBytes-java.lang.Object-) method to obtain the result like below:\r\n\r\n\r\n~~~\r\nCsvMapper mapper = new CsvMapper();\r\n//method that can be used to serialize any Java value as a byte array.\r\nmapper.writeValueAsBytes(listofData)\r\n~~~","title":"How to serialize a Java Class that is about to be written to CSV file with Jackson CsvMapper?","body":"<p>You were very close to the solution, considering that as from the documentation <a href=\"http://fasterxml.github.io/jackson-dataformat-csv/javadoc/2.8/com/fasterxml/jackson/dataformat/csv/CsvMapper.html\" rel=\"nofollow noreferrer\"><code>CsvMapper</code></a> is a specialized <code>ObjectMapper</code> with extended functionality to produce CsvSchema instances out of POJOs, then you can use the <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/ObjectMapper.html#writeValueAsBytes-java.lang.Object-\" rel=\"nofollow noreferrer\"><code>ObjectMapper#writeValueAsBytes</code></a> method to obtain the result like below:</p>\n<pre><code>CsvMapper mapper = new CsvMapper();\n//method that can be used to serialize any Java value as a byte array.\nmapper.writeValueAsBytes(listofData)\n</code></pre>\n"}],"owner":{"account_id":27129334,"reputation":239,"user_id":20671772,"display_name":"armaka"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75810095,"answer_count":1,"score":1,"last_activity_date":1679475134,"creation_date":1679400380,"question_id":75800993,"body_markdown":"I have a method that writes to the CSV file:\r\n\r\n    public static &lt;T&gt; void writeToCsvFileWithHeader(\r\n            List&lt;T&gt; listOfData, Path absolutePathToFile, Class&lt;T&gt; clazz, char columnSeparator)\r\n            throws IOException {\r\n    \r\n        CsvMapper mapper = new CsvMapper();\r\n        try (SequenceWriter writer = mapper\r\n                .writerWithSchemaFor(clazz)\r\n                .with(mapper\r\n                        .schemaFor(clazz)\r\n                        .withColumnSeparator(columnSeparator)\r\n                        .withoutQuoteChar()\r\n                        .withHeader())\r\n                .writeValues(absolutePathToFile.toFile())) {\r\n            \r\n            writer.writeAll(listOfData);\r\n        }\r\n    }\r\n\r\nEverything works fine, however application should produce a SHA-256 of the data that is being written to the file. So I should somehow get bytes from the data that is going to be written to CSV file and then produce a SHA-256 from it.\r\n\r\nSHA-256 functions for Java is not a problem. Problem is that I have no idea, how to convert my data listOfData into bytes, before writing them to the file and make SHA-256 of it.\r\n","title":"How to serialize a Java Class that is about to be written to CSV file with Jackson CsvMapper?","body":"<p>I have a method that writes to the CSV file:</p>\n<pre><code>public static &lt;T&gt; void writeToCsvFileWithHeader(\n        List&lt;T&gt; listOfData, Path absolutePathToFile, Class&lt;T&gt; clazz, char columnSeparator)\n        throws IOException {\n\n    CsvMapper mapper = new CsvMapper();\n    try (SequenceWriter writer = mapper\n            .writerWithSchemaFor(clazz)\n            .with(mapper\n                    .schemaFor(clazz)\n                    .withColumnSeparator(columnSeparator)\n                    .withoutQuoteChar()\n                    .withHeader())\n            .writeValues(absolutePathToFile.toFile())) {\n        \n        writer.writeAll(listOfData);\n    }\n}\n</code></pre>\n<p>Everything works fine, however application should produce a SHA-256 of the data that is being written to the file. So I should somehow get bytes from the data that is going to be written to CSV file and then produce a SHA-256 from it.</p>\n<p>SHA-256 functions for Java is not a problem. Problem is that I have no idea, how to convert my data listOfData into bytes, before writing them to the file and make SHA-256 of it.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1679456634,"post_id":75808271,"comment_id":133724259,"body_markdown":"you&#39;re adding the original string `ts`, not a result of the regexp match","body":"you&#39;re adding the original string <code>ts</code>, not a result of the regexp match"},{"owner":{"account_id":27675583,"reputation":23,"user_id":21125478,"display_name":"piya"},"score":0,"creation_date":1679457152,"post_id":75808271,"comment_id":133724307,"body_markdown":"i want to makesure it contains digits,","body":"i want to makesure it contains digits,"},{"owner":{"account_id":9797983,"reputation":300,"user_id":7260252,"accept_rate":86,"display_name":"FreddieMixell"},"score":1,"creation_date":1679457808,"post_id":75808271,"comment_id":133724373,"body_markdown":"You could use a single regex pattern: ^pty.*_20022023_.*","body":"You could use a single regex pattern: ^pty.*<i>20022023</i>.*"},{"owner":{"account_id":27675583,"reputation":23,"user_id":21125478,"display_name":"piya"},"score":0,"creation_date":1679460857,"post_id":75808271,"comment_id":133724638,"body_markdown":"in that case i am getting all the three, contains &quot;20220221&quot;, i need only the ones starts with &quot;20220221&quot;","body":"in that case i am getting all the three, contains &quot;20220221&quot;, i need only the ones starts with &quot;20220221&quot;"},{"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"score":0,"creation_date":1679460907,"post_id":75808271,"comment_id":133724641,"body_markdown":"@Freddie, to avoid matching strings such as `&quot;pty_abc_920022023_20220221&quot;` and `&quot;pty_abc_200220239_20220221&quot;`, and to be more demanding, you may want to use `^pty_[a-z]+_20022023_\\d+$`.","body":"@Freddie, to avoid matching strings such as <code>&quot;pty_abc_920022023_20220221&quot;</code> and <code>&quot;pty_abc_200220239_20220221&quot;</code>, and to be more demanding, you may want to use <code>^pty_[a-z]+_20022023_\\d+$</code>."},{"owner":{"account_id":27675583,"reputation":23,"user_id":21125478,"display_name":"piya"},"score":0,"creation_date":1679462554,"post_id":75808271,"comment_id":133724796,"body_markdown":"yes it worked for me for normal strings, but with this example not working   List&lt;String&gt; strList = Arrays.asList(new String[]{&quot;BLU_bus_cash_ticket_sales_20230220_20230221_051427_01.xml&quot;,&quot;BLU_driver_shifts_20230220_20230221_051424_01.xml&quot;,&quot;BLU_driver_trips_20230220_20230221_051427_01.xml&quot;,&quot;BLU_journey_segments_20230220_20230221_051424_01.xml&quot;});\n        for(String str: strList){\n            Matcher matcher = Pattern.compile(&quot;^BLU_[a-z]+_20230220_\\\\d+$&quot;).matcher(str);\n            if(matcher.find())\n                System.out.println(str);\n        }","body":"yes it worked for me for normal strings, but with this example not working   List&lt;String&gt; strList = Arrays.asList(new String[]{&quot;BLU_bus_cash_ticket_sales_20230220_20230221_051427&zwnj;&#8203;_01.xml&quot;,&quot;BLU_driver&zwnj;&#8203;_shifts_20230220_202&zwnj;&#8203;30221_051424_01.xml&quot;&zwnj;&#8203;,&quot;BLU_driver_trips_2&zwnj;&#8203;0230220_20230221_051&zwnj;&#8203;427_01.xml&quot;,&quot;BLU_jou&zwnj;&#8203;rney_segments_202302&zwnj;&#8203;20_20230221_051424_0&zwnj;&#8203;1.xml&quot;});         for(String str: strList){             Matcher matcher = Pattern.compile(&quot;^BLU_[a-z]+_20230220_\\\\d+$&quot;).matcher(str);             if(matcher.find())                 System.out.println(str);         }"},{"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1679469226,"post_id":75808271,"comment_id":133725638,"body_markdown":"The number `20022023` is there, but that string does not start with `pty`","body":"The number <code>20022023</code> is there, but that string does not start with <code>pty</code>"},{"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1679469258,"post_id":75808271,"comment_id":133725647,"body_markdown":"Did you mean something like this? `^pty[^\\W\\d]*_20220221_.*` https://regex101.com/r/XvNNkh/1","body":"Did you mean something like this? <code>^pty[^\\W\\d]*_20220221_.*</code> <a href=\"https://regex101.com/r/XvNNkh/1\" rel=\"nofollow noreferrer\">regex101.com/r/XvNNkh/1</a>"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1679474780,"post_id":75808271,"comment_id":133726840,"body_markdown":"there are no strings in your example input that start with &quot;pty&quot; and have a number &quot;20022023&quot;. Please elaborate.","body":"there are no strings in your example input that start with &quot;pty&quot; and have a number &quot;20022023&quot;. Please elaborate."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679474936,"creation_date":1679474936,"answer_id":75810055,"question_id":75808271,"body_markdown":"This will extract strings that start with `pty` and start with number `20022023`:\r\n\r\n    List&lt;String&gt; found = strList.stream()\r\n      .filter(s -&gt; s.matches(&quot;pty\\\\D+20022023.*&quot;))\r\n      .collect(Collectors.toList());\r\n\r\nBut note that none of strings in your example are like that.","title":"How to combine regex and get a string from list of String?","body":"<p>This will extract strings that start with <code>pty</code> and start with number <code>20022023</code>:</p>\n<pre><code>List&lt;String&gt; found = strList.stream()\n  .filter(s -&gt; s.matches(&quot;pty\\\\D+20022023.*&quot;))\n  .collect(Collectors.toList());\n</code></pre>\n<p>But note that none of strings in your example are like that.</p>\n"}],"owner":{"account_id":27675583,"reputation":23,"user_id":21125478,"display_name":"piya"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1679474936,"creation_date":1679456525,"question_id":75808271,"body_markdown":"I have a list of String like \r\n```java\r\n List&lt;String&gt; strList = Arrays.asList(new String[]{&quot;pty_abddd_20220220_20220221&quot;,&quot;pty_hello_20220220_20220221&quot;,&quot;abc_gecko_20022023_21022023&quot;,&quot;pty_abddd_20220221_20220222&quot;});\r\n```\r\n\r\nFrom this I want to extract the String with &quot;pty&quot; and the number starting with &quot;_20022023_&quot;.  \r\nI have tried that and get them separately with this code\r\n```java\r\nString date = &quot;20220221&quot;;\r\n        List&lt;String&gt; testList = new ArrayList&lt;&gt;();\r\n        List&lt;String&gt; testList1 = new ArrayList&lt;&gt;();\r\n        List&lt;String&gt; strList = Arrays.asList(new String[]{&quot;pty_abddd_20220220_20220221&quot;,&quot;pty_hello_20220220_20220221&quot;,&quot;abc_gecko_20022023_21022023&quot;,&quot;pty_abddd_20220221_20220222&quot;});\r\n\r\n        for (String str : strList) {\r\n            if (str.contains(&quot;pty&quot;)) {\r\n                testList.add(str);\r\n            }\r\n        }\r\n        for (String ts : testList) {\r\n            Matcher matcher = Pattern.compile(&quot;\\\\d+&quot;).matcher(ts);\r\n            if(matcher.find()){\r\n                String str = matcher.group();\r\n                if(str.equals(date))\r\n                    System.out.println(ts);\r\n            }\r\n        }\r\n```\r\nThe output will be pty_abddd_20220221_20220222\r\nIs there a way I can combine them with regex, please help thanks","title":"How to combine regex and get a string from list of String?","body":"<p>I have a list of String like</p>\n<pre class=\"lang-java prettyprint-override\"><code> List&lt;String&gt; strList = Arrays.asList(new String[]{&quot;pty_abddd_20220220_20220221&quot;,&quot;pty_hello_20220220_20220221&quot;,&quot;abc_gecko_20022023_21022023&quot;,&quot;pty_abddd_20220221_20220222&quot;});\n</code></pre>\n<p>From this I want to extract the String with &quot;pty&quot; and the number starting with &quot;<em>20022023</em>&quot;.<br />\nI have tried that and get them separately with this code</p>\n<pre class=\"lang-java prettyprint-override\"><code>String date = &quot;20220221&quot;;\n        List&lt;String&gt; testList = new ArrayList&lt;&gt;();\n        List&lt;String&gt; testList1 = new ArrayList&lt;&gt;();\n        List&lt;String&gt; strList = Arrays.asList(new String[]{&quot;pty_abddd_20220220_20220221&quot;,&quot;pty_hello_20220220_20220221&quot;,&quot;abc_gecko_20022023_21022023&quot;,&quot;pty_abddd_20220221_20220222&quot;});\n\n        for (String str : strList) {\n            if (str.contains(&quot;pty&quot;)) {\n                testList.add(str);\n            }\n        }\n        for (String ts : testList) {\n            Matcher matcher = Pattern.compile(&quot;\\\\d+&quot;).matcher(ts);\n            if(matcher.find()){\n                String str = matcher.group();\n                if(str.equals(date))\n                    System.out.println(ts);\n            }\n        }\n</code></pre>\n<p>The output will be pty_abddd_20220221_20220222\nIs there a way I can combine them with regex, please help thanks</p>\n"},{"tags":["java","security","unit-testing","spring","spring-security"],"answers":[{"tags":[],"owner":{"account_id":11602,"reputation":3279,"user_id":22436,"accept_rate":68,"display_name":"digitalsanctum"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1229023858,"creation_date":1229023209,"answer_id":360545,"question_id":360520,"body_markdown":"I would take a look at Spring&#39;s abstract test classes and mock objects which are talked about [here][1]. They provide a powerful way of auto-wiring your Spring managed objects making unit and integration testing easier.\r\n\r\n\r\n  [1]: http://static.springframework.org/spring/docs/2.5.x/reference/testing.html","title":"Unit testing with Spring Security","body":"<p>I would take a look at Spring's abstract test classes and mock objects which are talked about <a href=\"http://static.springframework.org/spring/docs/2.5.x/reference/testing.html\" rel=\"nofollow noreferrer\">here</a>. They provide a powerful way of auto-wiring your Spring managed objects making unit and integration testing easier.</p>\n"},{"tags":[],"owner":{"account_id":18282,"reputation":17675,"user_id":41754,"accept_rate":75,"display_name":"cliff.meyers"},"down_vote_count":0,"up_vote_count":51,"is_accepted":true,"score":51,"last_activity_date":1229455657,"creation_date":1229455657,"answer_id":372384,"question_id":360520,"body_markdown":"The problem is that Spring Security does not make the Authentication object available as a bean in the container, so there is no way to easily inject or autowire it out of the box.\r\n\r\nBefore we started to use Spring Security, we would create a session-scoped bean in the container to store the Principal, inject this into an &quot;AuthenticationService&quot; (singleton) and then inject this bean into other services that needed knowledge of the current Principal.\r\n\r\nIf you are implementing your own authentication service, you could basically do the same thing: create a session-scoped bean with a &quot;principal&quot; property, inject this into your authentication service, have the auth service set the property on successful auth, and then make the auth service available to other beans as you need it.\r\n\r\nI wouldn&#39;t feel too bad about using SecurityContextHolder. though.  I know that it&#39;s a static / Singleton and that Spring discourages using such things but their implementation takes care to behave appropriately depending on the environment: session-scoped in a Servlet container, thread-scoped in a JUnit test, etc.  The real limiting factor of a Singleton is when it provides an implementation that is inflexible to different environments.\r\n\r\n","title":"Unit testing with Spring Security","body":"<p>The problem is that Spring Security does not make the Authentication object available as a bean in the container, so there is no way to easily inject or autowire it out of the box.</p>\n\n<p>Before we started to use Spring Security, we would create a session-scoped bean in the container to store the Principal, inject this into an \"AuthenticationService\" (singleton) and then inject this bean into other services that needed knowledge of the current Principal.</p>\n\n<p>If you are implementing your own authentication service, you could basically do the same thing: create a session-scoped bean with a \"principal\" property, inject this into your authentication service, have the auth service set the property on successful auth, and then make the auth service available to other beans as you need it.</p>\n\n<p>I wouldn't feel too bad about using SecurityContextHolder. though.  I know that it's a static / Singleton and that Spring discourages using such things but their implementation takes care to behave appropriately depending on the environment: session-scoped in a Servlet container, thread-scoped in a JUnit test, etc.  The real limiting factor of a Singleton is when it provides an implementation that is inflexible to different environments.</p>\n"},{"tags":[],"owner":{"account_id":20288,"reputation":3490,"user_id":48340,"display_name":"Pavel"},"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1396097075,"creation_date":1230457312,"answer_id":396029,"question_id":360520,"body_markdown":"You are quite right to be concerned - static method calls are particularly problematic for unit testing as you cannot easily mock your dependencies. What I am going to show you is how to let the Spring IoC container do the dirty work for you, leaving you with neat, testable code. SecurityContextHolder is a framework class and while it may be ok for your low-level security code to be tied to it, you probably want to expose a neater interface to your UI components (i.e. controllers).\r\n\r\ncliff.meyers mentioned one way around it - create your own &quot;principal&quot; type and inject an instance into consumers. The Spring &lt;[aop:scoped-proxy][1]/&gt; tag introduced in 2.x combined with a request scope bean definition, and the factory-method support may be the ticket to the most readable code.\r\n\r\nIt could work like following:\r\n\r\n    public class MyUserDetails implements UserDetails {\r\n        // this is your custom UserDetails implementation to serve as a principal\r\n        // implement the Spring methods and add your own methods as appropriate\r\n    }\r\n\r\n    public class MyUserHolder {\r\n        public static MyUserDetails getUserDetails() {\r\n            Authentication a = SecurityContextHolder.getContext().getAuthentication();\r\n            if (a == null) {\r\n                return null;\r\n            } else {\r\n                return (MyUserDetails) a.getPrincipal();\r\n            }\r\n        }\r\n    }\r\n\r\n    public class MyUserAwareController {        \r\n        MyUserDetails currentUser;\r\n\r\n        public void setCurrentUser(MyUserDetails currentUser) { \r\n            this.currentUser = currentUser;\r\n        }\r\n\r\n        // controller code\r\n    }\r\n\r\nNothing complicated so far, right? In fact you probably had to do most of this already. Next, in your bean context define a request-scoped bean to hold the principal:\r\n\r\n    &lt;bean id=&quot;userDetails&quot; class=&quot;MyUserHolder&quot; factory-method=&quot;getUserDetails&quot; scope=&quot;request&quot;&gt;\r\n        &lt;aop:scoped-proxy/&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;controller&quot; class=&quot;MyUserAwareController&quot;&gt;\r\n        &lt;property name=&quot;currentUser&quot; ref=&quot;userDetails&quot;/&gt;\r\n        &lt;!-- other props --&gt;\r\n    &lt;/bean&gt;\r\n\r\nThanks to the magic of the aop:scoped-proxy tag, the static method getUserDetails will be called every time a new HTTP request comes in and any references to the currentUser property will be resolved correctly. Now unit testing becomes trivial:\r\n\r\n    protected void setUp() {\r\n        // existing init code\r\n\r\n        MyUserDetails user = new MyUserDetails();\r\n        // set up user as you wish\r\n        controller.setCurrentUser(user);\r\n    }\r\n\r\nHope this helps!\r\n\r\n\r\n  [1]: http://static.springframework.org/spring/docs/2.5.x/reference/beans.html#beans-factory-scopes-other-injection","title":"Unit testing with Spring Security","body":"<p>You are quite right to be concerned - static method calls are particularly problematic for unit testing as you cannot easily mock your dependencies. What I am going to show you is how to let the Spring IoC container do the dirty work for you, leaving you with neat, testable code. SecurityContextHolder is a framework class and while it may be ok for your low-level security code to be tied to it, you probably want to expose a neater interface to your UI components (i.e. controllers).</p>\n\n<p>cliff.meyers mentioned one way around it - create your own \"principal\" type and inject an instance into consumers. The Spring &lt;<a href=\"http://static.springframework.org/spring/docs/2.5.x/reference/beans.html#beans-factory-scopes-other-injection\" rel=\"noreferrer\">aop:scoped-proxy</a>/> tag introduced in 2.x combined with a request scope bean definition, and the factory-method support may be the ticket to the most readable code.</p>\n\n<p>It could work like following:</p>\n\n<pre><code>public class MyUserDetails implements UserDetails {\n    // this is your custom UserDetails implementation to serve as a principal\n    // implement the Spring methods and add your own methods as appropriate\n}\n\npublic class MyUserHolder {\n    public static MyUserDetails getUserDetails() {\n        Authentication a = SecurityContextHolder.getContext().getAuthentication();\n        if (a == null) {\n            return null;\n        } else {\n            return (MyUserDetails) a.getPrincipal();\n        }\n    }\n}\n\npublic class MyUserAwareController {        \n    MyUserDetails currentUser;\n\n    public void setCurrentUser(MyUserDetails currentUser) { \n        this.currentUser = currentUser;\n    }\n\n    // controller code\n}\n</code></pre>\n\n<p>Nothing complicated so far, right? In fact you probably had to do most of this already. Next, in your bean context define a request-scoped bean to hold the principal:</p>\n\n<pre><code>&lt;bean id=\"userDetails\" class=\"MyUserHolder\" factory-method=\"getUserDetails\" scope=\"request\"&gt;\n    &lt;aop:scoped-proxy/&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"controller\" class=\"MyUserAwareController\"&gt;\n    &lt;property name=\"currentUser\" ref=\"userDetails\"/&gt;\n    &lt;!-- other props --&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>Thanks to the magic of the aop:scoped-proxy tag, the static method getUserDetails will be called every time a new HTTP request comes in and any references to the currentUser property will be resolved correctly. Now unit testing becomes trivial:</p>\n\n<pre><code>protected void setUp() {\n    // existing init code\n\n    MyUserDetails user = new MyUserDetails();\n    // set up user as you wish\n    controller.setCurrentUser(user);\n}\n</code></pre>\n\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":5382,"reputation":10719,"user_id":2495576,"accept_rate":100,"display_name":"Scott Bale"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1242769504,"creation_date":1242769504,"answer_id":885193,"question_id":360520,"body_markdown":"I asked the same question myself over [here][1], and just posted an answer that I recently found.  Short answer is: inject a `SecurityContext`, and refer to `SecurityContextHolder` only in your Spring config to obtain the `SecurityContext`\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/248562/when-using-spring-security-what-is-the-proper-way-to-obtain-current-username-i","title":"Unit testing with Spring Security","body":"<p>I asked the same question myself over <a href=\"https://stackoverflow.com/questions/248562/when-using-spring-security-what-is-the-proper-way-to-obtain-current-username-i\">here</a>, and just posted an answer that I recently found.  Short answer is: inject a <code>SecurityContext</code>, and refer to <code>SecurityContextHolder</code> only in your Spring config to obtain the <code>SecurityContext</code></p>\n"},{"tags":[],"owner":{"account_id":93736,"reputation":1513,"user_id":256312,"display_name":"Michael Bushe"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1265288391,"creation_date":1265288391,"answer_id":2199787,"question_id":360520,"body_markdown":"Using a static in this case is the best way to write secure code.\r\n\r\nYes, statics are generally bad - generally, but in this case, the static is what you want.  Since the security context associates a Principal with the currently running thread, the most secure code would access the static from the thread as directly as possible.  Hiding the access behind a wrapper class that is injected provides an attacker with more points to attack.  They wouldn&#39;t need access to the code (which they would have a hard time changing if the jar was signed), they just need a way to override the configuration, which can be done at runtime or slipping some XML onto the classpath.  Even using annotation injection would be overridable with external XML.  Such XML could inject the running system with a rogue principal.","title":"Unit testing with Spring Security","body":"<p>Using a static in this case is the best way to write secure code.</p>\n\n<p>Yes, statics are generally bad - generally, but in this case, the static is what you want.  Since the security context associates a Principal with the currently running thread, the most secure code would access the static from the thread as directly as possible.  Hiding the access behind a wrapper class that is injected provides an attacker with more points to attack.  They wouldn't need access to the code (which they would have a hard time changing if the jar was signed), they just need a way to override the configuration, which can be done at runtime or slipping some XML onto the classpath.  Even using annotation injection would be overridable with external XML.  Such XML could inject the running system with a rogue principal.</p>\n"},{"tags":[],"owner":{"display_name":"user404345"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1331154206,"creation_date":1331154206,"answer_id":9609015,"question_id":360520,"body_markdown":"Personally I would just use Powermock along with Mockito or Easymock to mock the static SecurityContextHolder.getSecurityContext() in your unit/integration test e.g.\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest(SecurityContextHolder.class)\r\n    public class YourTestCase {\r\n    \r\n        @Mock SecurityContext mockSecurityContext;\r\n    \r\n        @Test\r\n        public void testMethodThatCallsStaticMethod() {\r\n            // Set mock behaviour/expectations on the mockSecurityContext\r\n            when(mockSecurityContext.getAuthentication()).thenReturn(...)\r\n            ...\r\n            // Tell mockito to use Powermock to mock the SecurityContextHolder\r\n            PowerMockito.mockStatic(SecurityContextHolder.class);\r\n    \r\n            // use Mockito to set up your expectation on SecurityContextHolder.getSecurityContext()\r\n            Mockito.when(SecurityContextHolder.getSecurityContext()).thenReturn(mockSecurityContext);\r\n            ...\r\n        }\r\n    }\r\n\r\nAdmittedly there is quite a bit of boiler plate code here i.e. mock an Authentication object, mock a SecurityContext to return the Authentication and finally mock the SecurityContextHolder to get the SecurityContext, however its very flexible and allows you to unit test for scenarios like null Authentication objects etc. without having to change your (non test) code\r\n","title":"Unit testing with Spring Security","body":"<p>Personally I would just use Powermock along with Mockito or Easymock to mock the static SecurityContextHolder.getSecurityContext() in your unit/integration test e.g.</p>\n\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest(SecurityContextHolder.class)\npublic class YourTestCase {\n\n    @Mock SecurityContext mockSecurityContext;\n\n    @Test\n    public void testMethodThatCallsStaticMethod() {\n        // Set mock behaviour/expectations on the mockSecurityContext\n        when(mockSecurityContext.getAuthentication()).thenReturn(...)\n        ...\n        // Tell mockito to use Powermock to mock the SecurityContextHolder\n        PowerMockito.mockStatic(SecurityContextHolder.class);\n\n        // use Mockito to set up your expectation on SecurityContextHolder.getSecurityContext()\n        Mockito.when(SecurityContextHolder.getSecurityContext()).thenReturn(mockSecurityContext);\n        ...\n    }\n}\n</code></pre>\n\n<p>Admittedly there is quite a bit of boiler plate code here i.e. mock an Authentication object, mock a SecurityContext to return the Authentication and finally mock the SecurityContextHolder to get the SecurityContext, however its very flexible and allows you to unit test for scenarios like null Authentication objects etc. without having to change your (non test) code</p>\n"},{"tags":[],"owner":{"account_id":1579078,"reputation":2673,"user_id":1464825,"display_name":"Leonardo Eloy"},"down_vote_count":1,"up_vote_count":248,"is_accepted":false,"score":247,"last_activity_date":1448950526,"creation_date":1371752241,"answer_id":17220893,"question_id":360520,"body_markdown":"Just do it the usual way and then insert it using `SecurityContextHolder.setContext()` in your test class, for example:\r\n\r\nController:\r\n\r\n    Authentication a = SecurityContextHolder.getContext().getAuthentication();\r\n\r\nTest:\r\n\r\n    Authentication authentication = Mockito.mock(Authentication.class);\r\n    // Mockito.whens() for your authorization object\r\n    SecurityContext securityContext = Mockito.mock(SecurityContext.class);\r\n    Mockito.when(securityContext.getAuthentication()).thenReturn(authentication);\r\n    SecurityContextHolder.setContext(securityContext);\r\n","title":"Unit testing with Spring Security","body":"<p>Just do it the usual way and then insert it using <code>SecurityContextHolder.setContext()</code> in your test class, for example:</p>\n\n<p>Controller:</p>\n\n<pre><code>Authentication a = SecurityContextHolder.getContext().getAuthentication();\n</code></pre>\n\n<p>Test:</p>\n\n<pre><code>Authentication authentication = Mockito.mock(Authentication.class);\n// Mockito.whens() for your authorization object\nSecurityContext securityContext = Mockito.mock(SecurityContext.class);\nMockito.when(securityContext.getAuthentication()).thenReturn(authentication);\nSecurityContextHolder.setContext(securityContext);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":462861,"reputation":17872,"user_id":865403,"accept_rate":60,"display_name":"Pavel Horal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1371761716,"creation_date":1371753571,"answer_id":17221305,"question_id":360520,"body_markdown":"Authentication is a property of a thread in server environment in the same way as it is a property of a process in OS. Having a bean instance for accessing authentication information would be inconvenient configuration and wiring overhead without any benefit. \r\n\r\nRegarding test authentication there are several ways how you can make your life easier. My favourite is to make a custom annotation `@Authenticated` and test execution listener, which manages it. Check `DirtiesContextTestExecutionListener` for inspiration.","title":"Unit testing with Spring Security","body":"<p>Authentication is a property of a thread in server environment in the same way as it is a property of a process in OS. Having a bean instance for accessing authentication information would be inconvenient configuration and wiring overhead without any benefit. </p>\n\n<p>Regarding test authentication there are several ways how you can make your life easier. My favourite is to make a custom annotation <code>@Authenticated</code> and test execution listener, which manages it. Check <code>DirtiesContextTestExecutionListener</code> for inspiration.</p>\n"},{"tags":[],"owner":{"account_id":8897,"reputation":11209,"user_id":16206,"accept_rate":78,"display_name":"borjab"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1402484348,"creation_date":1402484348,"answer_id":24161205,"question_id":360520,"body_markdown":"After quite a lot of work I was able to reproduce the desired behavior. I had emulated the login through  MockMvc. It is too heavy for most unit tests but helpful for integration tests. \r\n\r\nOf course I am willing to see those new features in Spring Security 4.0 that will make our testing easier.\r\n\r\n    package [myPackage]\r\n    \r\n    import static org.junit.Assert.*;\r\n    \r\n    import javax.inject.Inject;\r\n    import javax.servlet.http.HttpSession;\r\n    \r\n    import org.junit.Before;\r\n    import org.junit.Test;\r\n    import org.junit.experimental.runners.Enclosed;\r\n    import org.junit.runner.RunWith;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.mock.web.MockHttpServletRequest;\r\n    import org.springframework.security.core.context.SecurityContext;\r\n    import org.springframework.security.core.context.SecurityContextHolder;\r\n    import org.springframework.security.web.FilterChainProxy;\r\n    import org.springframework.security.web.context.HttpSessionSecurityContextRepository;\r\n    import org.springframework.test.context.ContextConfiguration;\r\n    import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\r\n    import org.springframework.test.context.web.WebAppConfiguration;\r\n    import org.springframework.test.web.servlet.MockMvc;\r\n    import org.springframework.test.web.servlet.setup.MockMvcBuilders;\r\n    import org.springframework.web.context.WebApplicationContext;\r\n    \r\n    import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;\r\n    import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;\r\n    import static org.springframework.test.web.servlet.result.MockMvcResultHandlers.print;\r\n    \r\n    @ContextConfiguration(locations={[my config file locations]})\r\n    @WebAppConfiguration\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    public static class getUserConfigurationTester{\r\n    \t\t\r\n        private MockMvc mockMvc;\r\n    \t    \r\n        @Autowired\r\n        private FilterChainProxy springSecurityFilterChain;\r\n    \t     \r\n        @Autowired\r\n        private MockHttpServletRequest request;\r\n    \t    \r\n        @Autowired\r\n        private WebApplicationContext webappContext;\r\n    \r\n        @Before  \r\n        public void init() {  \r\n    \t    mockMvc = MockMvcBuilders.webAppContextSetup(webappContext)\r\n    \t\t            .addFilters(springSecurityFilterChain)\r\n    \t\t            .build();\r\n        }  \r\n    \r\n    \t\t\r\n        @Test\r\n        public void testTwoReads() throws Exception{\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\r\n    \tHttpSession session  = mockMvc.perform(post(&quot;/j_spring_security_check&quot;)\r\n    \t\t\t\t\t\t.param(&quot;j_username&quot;, &quot;admin_001&quot;)\r\n    \t\t\t\t\t\t.param(&quot;j_password&quot;, &quot;secret007&quot;))\r\n    \t\t                .andDo(print())\r\n    \t\t                .andExpect(status().isMovedTemporarily())\r\n    \t\t                .andExpect(redirectedUrl(&quot;/index&quot;))\r\n    \t\t\t\t\t\t.andReturn()\r\n    \t\t\t\t\t\t.getRequest()\r\n    \t\t\t\t\t\t.getSession();\r\n    \t\t\t\r\n    \trequest.setSession(session);\r\n    \r\n    \tSecurityContext securityContext = (SecurityContext)   session.getAttribute(HttpSessionSecurityContextRepository.SPRING_SECURITY_CONTEXT_KEY);\r\n    \r\n    \tSecurityContextHolder.setContext(securityContext);\r\n    \r\n            // Your test goes here. User is logged with \r\n    }","title":"Unit testing with Spring Security","body":"<p>After quite a lot of work I was able to reproduce the desired behavior. I had emulated the login through  MockMvc. It is too heavy for most unit tests but helpful for integration tests. </p>\n\n<p>Of course I am willing to see those new features in Spring Security 4.0 that will make our testing easier.</p>\n\n<pre><code>package [myPackage]\n\nimport static org.junit.Assert.*;\n\nimport javax.inject.Inject;\nimport javax.servlet.http.HttpSession;\n\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.junit.experimental.runners.Enclosed;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.mock.web.MockHttpServletRequest;\nimport org.springframework.security.core.context.SecurityContext;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.web.FilterChainProxy;\nimport org.springframework.security.web.context.HttpSessionSecurityContextRepository;\nimport org.springframework.test.context.ContextConfiguration;\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\nimport org.springframework.test.context.web.WebAppConfiguration;\nimport org.springframework.test.web.servlet.MockMvc;\nimport org.springframework.test.web.servlet.setup.MockMvcBuilders;\nimport org.springframework.web.context.WebApplicationContext;\n\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;\nimport static org.springframework.test.web.servlet.result.MockMvcResultHandlers.print;\n\n@ContextConfiguration(locations={[my config file locations]})\n@WebAppConfiguration\n@RunWith(SpringJUnit4ClassRunner.class)\npublic static class getUserConfigurationTester{\n\n    private MockMvc mockMvc;\n\n    @Autowired\n    private FilterChainProxy springSecurityFilterChain;\n\n    @Autowired\n    private MockHttpServletRequest request;\n\n    @Autowired\n    private WebApplicationContext webappContext;\n\n    @Before  \n    public void init() {  \n        mockMvc = MockMvcBuilders.webAppContextSetup(webappContext)\n                    .addFilters(springSecurityFilterChain)\n                    .build();\n    }  \n\n\n    @Test\n    public void testTwoReads() throws Exception{                        \n\n    HttpSession session  = mockMvc.perform(post(\"/j_spring_security_check\")\n                        .param(\"j_username\", \"admin_001\")\n                        .param(\"j_password\", \"secret007\"))\n                        .andDo(print())\n                        .andExpect(status().isMovedTemporarily())\n                        .andExpect(redirectedUrl(\"/index\"))\n                        .andReturn()\n                        .getRequest()\n                        .getSession();\n\n    request.setSession(session);\n\n    SecurityContext securityContext = (SecurityContext)   session.getAttribute(HttpSessionSecurityContextRepository.SPRING_SECURITY_CONTEXT_KEY);\n\n    SecurityContextHolder.setContext(securityContext);\n\n        // Your test goes here. User is logged with \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":129028,"reputation":39302,"user_id":327301,"accept_rate":66,"display_name":"yankee"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1447675622,"creation_date":1447674778,"answer_id":33734746,"question_id":360520,"body_markdown":"# General\r\nIn the meantime (since version 3.2, in the year 2013, thanks to [SEC-2298][1]) the authentication can be injected into MVC methods using the annotation [@AuthenticationPrincipal][2]:\r\n\r\n    @Controller\r\n    class Controller {\r\n      @RequestMapping(&quot;/somewhere&quot;)\r\n      public void doStuff(@AuthenticationPrincipal UserDetails myUser) {\r\n      }\r\n    }\r\n\r\n# Tests\r\n\r\nIn your unit test you can obviously call this Method directly. In integration tests using `org.springframework.test.web.servlet.MockMvc` you can use `org.springframework.security.test.web.servlet.request.SecurityMockMvcRequestPostProcessors.user()` to inject the user like this:\r\n\r\n    mockMvc.perform(get(&quot;/somewhere&quot;).with(user(myUserDetails)));\r\n\r\nThis will however just directly fill the SecurityContext. If you want to make sure that the user is loaded from a session in your test, you can use this:\r\n\r\n    mockMvc.perform(get(&quot;/somewhere&quot;).with(sessionUser(myUserDetails)));\r\n    /* ... */\r\n    private static RequestPostProcessor sessionUser(final UserDetails userDetails) {\r\n        return new RequestPostProcessor() {\r\n            @Override\r\n            public MockHttpServletRequest postProcessRequest(final MockHttpServletRequest request) {\r\n                final SecurityContext securityContext = new SecurityContextImpl();\r\n                securityContext.setAuthentication(\r\n                    new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities())\r\n                );\r\n                request.getSession().setAttribute(\r\n                    HttpSessionSecurityContextRepository.SPRING_SECURITY_CONTEXT_KEY, securityContext\r\n                );\r\n                return request;\r\n            }\r\n        };\r\n    }\r\n\r\n  [1]: https://jira.spring.io/browse/SEC-2298?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\r\n  [2]: http://docs.spring.io/spring-security/site/docs/3.2.3.RELEASE/reference/htmlsingle/#mvc-authentication-principal","title":"Unit testing with Spring Security","body":"<h1>General</h1>\n\n<p>In the meantime (since version 3.2, in the year 2013, thanks to <a href=\"https://jira.spring.io/browse/SEC-2298?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\" rel=\"nofollow\">SEC-2298</a>) the authentication can be injected into MVC methods using the annotation <a href=\"http://docs.spring.io/spring-security/site/docs/3.2.3.RELEASE/reference/htmlsingle/#mvc-authentication-principal\" rel=\"nofollow\">@AuthenticationPrincipal</a>:</p>\n\n<pre><code>@Controller\nclass Controller {\n  @RequestMapping(\"/somewhere\")\n  public void doStuff(@AuthenticationPrincipal UserDetails myUser) {\n  }\n}\n</code></pre>\n\n<h1>Tests</h1>\n\n<p>In your unit test you can obviously call this Method directly. In integration tests using <code>org.springframework.test.web.servlet.MockMvc</code> you can use <code>org.springframework.security.test.web.servlet.request.SecurityMockMvcRequestPostProcessors.user()</code> to inject the user like this:</p>\n\n<pre><code>mockMvc.perform(get(\"/somewhere\").with(user(myUserDetails)));\n</code></pre>\n\n<p>This will however just directly fill the SecurityContext. If you want to make sure that the user is loaded from a session in your test, you can use this:</p>\n\n<pre><code>mockMvc.perform(get(\"/somewhere\").with(sessionUser(myUserDetails)));\n/* ... */\nprivate static RequestPostProcessor sessionUser(final UserDetails userDetails) {\n    return new RequestPostProcessor() {\n        @Override\n        public MockHttpServletRequest postProcessRequest(final MockHttpServletRequest request) {\n            final SecurityContext securityContext = new SecurityContextImpl();\n            securityContext.setAuthentication(\n                new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities())\n            );\n            request.getSession().setAttribute(\n                HttpSessionSecurityContextRepository.SPRING_SECURITY_CONTEXT_KEY, securityContext\n            );\n            return request;\n        }\n    };\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":115659,"reputation":32567,"user_id":303598,"accept_rate":84,"display_name":"matsev"},"down_vote_count":0,"up_vote_count":58,"is_accepted":false,"score":58,"last_activity_date":1556972645,"creation_date":1464203606,"answer_id":37445761,"question_id":360520,"body_markdown":"Without answering the question about how to create and inject Authentication objects, Spring Security 4.0 provides some welcome alternatives when it comes to testing. The `@WithMockUser` annotation enables the developer to specify a mock user (with optional authorities, username, password and roles) in a neat way:\r\n\r\n    @Test\r\n    @WithMockUser(username = &quot;admin&quot;, authorities = { &quot;ADMIN&quot;, &quot;USER&quot; })\r\n    public void getMessageWithMockUserCustomAuthorities() {\r\n        String message = messageService.getMessage();\r\n        ...\r\n    }\r\n\r\nThere is also the option to use `@WithUserDetails` to emulate a `UserDetails` returned from the `UserDetailsService`, e.g.\r\n\r\n    @Test\r\n    @WithUserDetails(&quot;customUsername&quot;)\r\n    public void getMessageWithUserDetailsCustomUsername() {\r\n\t    String message = messageService.getMessage();\r\n        ...\r\n    }\r\n\r\nMore details can be found in the [@WithMockUser][1] and the [@WithUserDetails][2] chapters in the Spring Security reference docs (from which the above examples were copied)\r\n\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-security/site/docs/4.0.x/reference/htmlsingle/#test-method-withmockuser\r\n  [2]: http://docs.spring.io/spring-security/site/docs/4.0.x/reference/htmlsingle/#test-method-withuserdetails","title":"Unit testing with Spring Security","body":"<p>Without answering the question about how to create and inject Authentication objects, Spring Security 4.0 provides some welcome alternatives when it comes to testing. The <code>@WithMockUser</code> annotation enables the developer to specify a mock user (with optional authorities, username, password and roles) in a neat way:</p>\n\n<pre><code>@Test\n@WithMockUser(username = \"admin\", authorities = { \"ADMIN\", \"USER\" })\npublic void getMessageWithMockUserCustomAuthorities() {\n    String message = messageService.getMessage();\n    ...\n}\n</code></pre>\n\n<p>There is also the option to use <code>@WithUserDetails</code> to emulate a <code>UserDetails</code> returned from the <code>UserDetailsService</code>, e.g.</p>\n\n<pre><code>@Test\n@WithUserDetails(\"customUsername\")\npublic void getMessageWithUserDetailsCustomUsername() {\n    String message = messageService.getMessage();\n    ...\n}\n</code></pre>\n\n<p>More details can be found in the <a href=\"http://docs.spring.io/spring-security/site/docs/4.0.x/reference/htmlsingle/#test-method-withmockuser\" rel=\"noreferrer\">@WithMockUser</a> and the <a href=\"http://docs.spring.io/spring-security/site/docs/4.0.x/reference/htmlsingle/#test-method-withuserdetails\" rel=\"noreferrer\">@WithUserDetails</a> chapters in the Spring Security reference docs (from which the above examples were copied)</p>\n"},{"tags":[],"owner":{"account_id":6430147,"reputation":1735,"user_id":7449607,"accept_rate":50,"display_name":"Fzum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676628540,"creation_date":1676628540,"answer_id":75482828,"question_id":360520,"body_markdown":"Adding to the answer of @matsev, to write an fully functional integration test with `TestRestTemplate` or `Webclient` you can combine `@SpringBootTest` and `@AutoconfigureMockMvc` and do the following: \r\n\r\n    @SpringBootTest(webEnvironment = RANDOM_PORT)\r\n    @AutoConfigureMockMvc\r\n    public class UserControllerIntegrationTest {\r\n    \r\n        @Autowired\r\n        private WebTestClient webTestClient;\r\n    \r\n        @Test\r\n        @WithMockUser(username = &quot;user&quot;, roles = {&quot;USER&quot;})\r\n        public void testUserEndpoint() {\r\n            webTestClient.get().uri(&quot;/user&quot;)\r\n                    .accept(MediaType.APPLICATION_JSON)\r\n                    .exchange()\r\n                    .expectStatus().isOk();\r\n        }\r\n    }","title":"Unit testing with Spring Security","body":"<p>Adding to the answer of @matsev, to write an fully functional integration test with <code>TestRestTemplate</code> or <code>Webclient</code> you can combine <code>@SpringBootTest</code> and <code>@AutoconfigureMockMvc</code> and do the following:</p>\n<pre><code>@SpringBootTest(webEnvironment = RANDOM_PORT)\n@AutoConfigureMockMvc\npublic class UserControllerIntegrationTest {\n\n    @Autowired\n    private WebTestClient webTestClient;\n\n    @Test\n    @WithMockUser(username = &quot;user&quot;, roles = {&quot;USER&quot;})\n    public void testUserEndpoint() {\n        webTestClient.get().uri(&quot;/user&quot;)\n                .accept(MediaType.APPLICATION_JSON)\n                .exchange()\n                .expectStatus().isOk();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3641890,"reputation":410,"user_id":3035786,"accept_rate":50,"display_name":"Mugeesh Husain"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679474625,"creation_date":1679474625,"answer_id":75810015,"question_id":360520,"body_markdown":"I handle like this\r\n\r\n        User user = new User();\r\n        AppUserDetails appUserDetails = new AppUserDetails(&quot;uName&quot;, null, user, privilegeList);\r\n        Authentication auth = new UsernamePasswordAuthenticationToken(appUserDetails, null);\r\n\r\n        SecurityContext securityContext = Mockito.mock(SecurityContext.class);\r\n        Mockito.when(securityContext.getAuthentication()).thenReturn(auth);\r\n        SecurityContextHolder.setContext(securityContext);\r\n\r\nGet value from auth java class method\r\n\r\n    Authentication auth = SecurityContextHolder.getContext().getAuthentication();","title":"Unit testing with Spring Security","body":"<p>I handle like this</p>\n<pre><code>    User user = new User();\n    AppUserDetails appUserDetails = new AppUserDetails(&quot;uName&quot;, null, user, privilegeList);\n    Authentication auth = new UsernamePasswordAuthenticationToken(appUserDetails, null);\n\n    SecurityContext securityContext = Mockito.mock(SecurityContext.class);\n    Mockito.when(securityContext.getAuthentication()).thenReturn(auth);\n    SecurityContextHolder.setContext(securityContext);\n</code></pre>\n<p>Get value from auth java class method</p>\n<pre><code>Authentication auth = SecurityContextHolder.getContext().getAuthentication();\n</code></pre>\n"}],"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168928,"favorite_count":0,"down_vote_count":0,"up_vote_count":176,"accepted_answer_id":372384,"answer_count":13,"score":176,"last_activity_date":1679474625,"creation_date":1229022703,"question_id":360520,"body_markdown":"My company has been evaluating Spring MVC to determine if we should use it in one of our next projects. So far I love what I&#39;ve seen, and right now I&#39;m taking a look at the Spring Security module to determine if it&#39;s something we can/should use. \r\n\r\nOur security requirements are pretty basic; a user just needs to be able to provide a username and password to be able to access certain parts of the site (such as to get info about their account); and there are a handful of pages on the site (FAQs, Support, etc) where an anonymous user should be given access.\r\n\r\nIn the prototype I&#39;ve been creating, I have been storing a &quot;LoginCredentials&quot; object (which just contains username and password) in Session for an authenticated user; some of the controllers check to see if this object is in session to get a reference to the logged-in username, for example. I&#39;m looking to replace this home-grown logic with Spring Security instead, which would have the nice benefit of removing any sort of &quot;how do we track logged in users?&quot; and &quot;how do we authenticate users?&quot; from my controller/business code. \r\n\r\nIt seems like Spring Security provides a (per-thread) &quot;context&quot; object to be able to access the username/principal info from anywhere in your app...\r\n\r\n    Object principal = SecurityContextHolder.getContext().getAuthentication().getPrincipal();\r\n\r\n... which seems very un-Spring like as this object is a (global) singleton, in a way.\r\n\r\nMy question is this: if this is the standard way to access information about the authenticated user in Spring Security, what is the accepted way to inject an Authentication object into the SecurityContext so that it is available for my unit tests when the unit tests require an authenticated user?\r\n\r\nDo I need to wire this up in the initialization method of each test case?\r\n\r\n    protected void setUp() throws Exception {\r\n        ...\r\n        SecurityContextHolder.getContext().setAuthentication(\r\n\t\t\tnew UsernamePasswordAuthenticationToken(testUser.getLogin(), testUser.getPassword()));\r\n        ...\r\n    }\r\n\r\nThis seems overly verbose. Is there an easier way? \r\n\r\nThe `SecurityContextHolder` object itself seems very un-Spring-like...","title":"Unit testing with Spring Security","body":"<p>My company has been evaluating Spring MVC to determine if we should use it in one of our next projects. So far I love what I've seen, and right now I'm taking a look at the Spring Security module to determine if it's something we can/should use. </p>\n\n<p>Our security requirements are pretty basic; a user just needs to be able to provide a username and password to be able to access certain parts of the site (such as to get info about their account); and there are a handful of pages on the site (FAQs, Support, etc) where an anonymous user should be given access.</p>\n\n<p>In the prototype I've been creating, I have been storing a \"LoginCredentials\" object (which just contains username and password) in Session for an authenticated user; some of the controllers check to see if this object is in session to get a reference to the logged-in username, for example. I'm looking to replace this home-grown logic with Spring Security instead, which would have the nice benefit of removing any sort of \"how do we track logged in users?\" and \"how do we authenticate users?\" from my controller/business code. </p>\n\n<p>It seems like Spring Security provides a (per-thread) \"context\" object to be able to access the username/principal info from anywhere in your app...</p>\n\n<pre><code>Object principal = SecurityContextHolder.getContext().getAuthentication().getPrincipal();\n</code></pre>\n\n<p>... which seems very un-Spring like as this object is a (global) singleton, in a way.</p>\n\n<p>My question is this: if this is the standard way to access information about the authenticated user in Spring Security, what is the accepted way to inject an Authentication object into the SecurityContext so that it is available for my unit tests when the unit tests require an authenticated user?</p>\n\n<p>Do I need to wire this up in the initialization method of each test case?</p>\n\n<pre><code>protected void setUp() throws Exception {\n    ...\n    SecurityContextHolder.getContext().setAuthentication(\n        new UsernamePasswordAuthenticationToken(testUser.getLogin(), testUser.getPassword()));\n    ...\n}\n</code></pre>\n\n<p>This seems overly verbose. Is there an easier way? </p>\n\n<p>The <code>SecurityContextHolder</code> object itself seems very un-Spring-like...</p>\n"},{"tags":["java","jooq"],"comments":[{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1679472231,"post_id":75807678,"comment_id":133726250,"body_markdown":"Why do you want to do all that?","body":"Why do you want to do all that?"},{"owner":{"account_id":8832713,"reputation":161,"user_id":6598366,"display_name":"LouizFC"},"score":0,"creation_date":1679489771,"post_id":75807678,"comment_id":133730710,"body_markdown":"@LukasEder as I explained in the other comment, I am generating queries to be consumed by other systems. So jooq would not be always present in these systems.","body":"@LukasEder as I explained in the other comment, I am generating queries to be consumed by other systems. So jooq would not be always present in these systems."}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679474402,"creation_date":1679474402,"answer_id":75809981,"question_id":75807678,"body_markdown":"## How to map input bind parameters to output bind parameters\r\n\r\nYou could obviously use [named parameters for this][1]. In fact, that&#39;s the only way you can guarantee to have a reliable mapping between your input values and your output parameter positions. One way to do this is to form your query like this:\r\n\r\n```java\r\nint i = 0;\r\nQuery query = create\r\n    .select(\r\n         field(&quot;BOOK.TITLE&quot;), \r\n         field(&quot;AUTHOR.FIRST_NAME&quot;), \r\n         field(&quot;AUTHOR.LAST_NAME&quot;))\r\n    .from(table(&quot;BOOK&quot;))\r\n    .join(table(&quot;AUTHOR&quot;))\r\n    .on(field(&quot;BOOK.AUTHOR_ID&quot;).eq(field(&quot;AUTHOR.ID&quot;)))\r\n    .where(field(&quot;BOOK.PUBLISHED_IN&quot;).eq(param(&quot;p&quot; + (++i), 1984)));\r\n```\r\n\r\nThere are multiple reasons why you cannot solve this in any other way:\r\n\r\n1. Some emulations will have to repeat their arguments. For example, look at how [`RPAD(a, b, c)` is emulated in SQL Server][2]: `a + replicate(c, b - len(a))`, so the argument `a` is repeated twice, meaning the mapping `input-bind-position -&gt; output-bind-position` isn&#39;t a function as you were assuming.\r\n2. Some emulations require inlining of the bind variable, because of limitations of the underlying SQL dialect. For example, when using [`JSON_TABLE`][3], some dialects support bind variables for their JSON paths, others only support literals, e.g. `&#39;$.a&#39;` (this is still a problem when you&#39;re using named parameters!)\r\n\r\n## Remark about avoiding code generation and execution with jOOQ\r\n\r\nYou probably have a valid use case for both avoiding code generation and query execution with jOOQ, just in case someone else reads this answer, here&#39;s a useful set of links to:\r\n\r\n- [Why you should use jOOQ with code generation][4]\r\n- [Why you should execute queries with jOOQ][5]\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-building/bind-values/named-parameters/\r\n  [2]: https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/string-functions/rpad-function/\r\n  [3]: https://www.jooq.org/doc/latest/manual/sql-building/table-expressions/json-table-function/\r\n  [4]: https://blog.jooq.org/why-you-should-use-jooq-with-code-generation/\r\n  [5]: https://blog.jooq.org/why-you-should-execute-jooq-queries-with-jooq/","title":"How can I combine Query#getSQL() and Query#getBindValues() to make a &quot;JOOQless&quot; query?","body":"<h2>How to map input bind parameters to output bind parameters</h2>\n<p>You could obviously use <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/bind-values/named-parameters/\" rel=\"nofollow noreferrer\">named parameters for this</a>. In fact, that's the only way you can guarantee to have a reliable mapping between your input values and your output parameter positions. One way to do this is to form your query like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int i = 0;\nQuery query = create\n    .select(\n         field(&quot;BOOK.TITLE&quot;), \n         field(&quot;AUTHOR.FIRST_NAME&quot;), \n         field(&quot;AUTHOR.LAST_NAME&quot;))\n    .from(table(&quot;BOOK&quot;))\n    .join(table(&quot;AUTHOR&quot;))\n    .on(field(&quot;BOOK.AUTHOR_ID&quot;).eq(field(&quot;AUTHOR.ID&quot;)))\n    .where(field(&quot;BOOK.PUBLISHED_IN&quot;).eq(param(&quot;p&quot; + (++i), 1984)));\n</code></pre>\n<p>There are multiple reasons why you cannot solve this in any other way:</p>\n<ol>\n<li>Some emulations will have to repeat their arguments. For example, look at how <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/string-functions/rpad-function/\" rel=\"nofollow noreferrer\"><code>RPAD(a, b, c)</code> is emulated in SQL Server</a>: <code>a + replicate(c, b - len(a))</code>, so the argument <code>a</code> is repeated twice, meaning the mapping <code>input-bind-position -&gt; output-bind-position</code> isn't a function as you were assuming.</li>\n<li>Some emulations require inlining of the bind variable, because of limitations of the underlying SQL dialect. For example, when using <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/table-expressions/json-table-function/\" rel=\"nofollow noreferrer\"><code>JSON_TABLE</code></a>, some dialects support bind variables for their JSON paths, others only support literals, e.g. <code>'$.a'</code> (this is still a problem when you're using named parameters!)</li>\n</ol>\n<h2>Remark about avoiding code generation and execution with jOOQ</h2>\n<p>You probably have a valid use case for both avoiding code generation and query execution with jOOQ, just in case someone else reads this answer, here's a useful set of links to:</p>\n<ul>\n<li><a href=\"https://blog.jooq.org/why-you-should-use-jooq-with-code-generation/\" rel=\"nofollow noreferrer\">Why you should use jOOQ with code generation</a></li>\n<li><a href=\"https://blog.jooq.org/why-you-should-execute-jooq-queries-with-jooq/\" rel=\"nofollow noreferrer\">Why you should execute queries with jOOQ</a></li>\n</ul>\n"}],"owner":{"account_id":8832713,"reputation":161,"user_id":6598366,"display_name":"LouizFC"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75809981,"answer_count":1,"score":1,"last_activity_date":1679474402,"creation_date":1679447619,"question_id":75807678,"body_markdown":"The jOOQ documentation explains how to use it as a query builder: https://www.jooq.org/doc/latest/manual/getting-started/use-cases/jooq-as-a-sql-builder-without-codegeneration/\r\n\r\nI would like to go a bit further: would it be possible to use jOOQ to generate the query without relying on jOOQ further? I will explain.\r\n\r\nI will reuse the example that was given by jOOQ docs:\r\n```java\r\n// Fetch a SQL string from a jOOQ Query in order to manually execute it with another tool.\r\n// For simplicity reasons, we&#39;re using the API to construct case-insensitive object references, here.\r\nQuery query = create.select(field(&quot;BOOK.TITLE&quot;), field(&quot;AUTHOR.FIRST_NAME&quot;), field(&quot;AUTHOR.LAST_NAME&quot;))\r\n                    .from(table(&quot;BOOK&quot;))\r\n                    .join(table(&quot;AUTHOR&quot;))\r\n                    .on(field(&quot;BOOK.AUTHOR_ID&quot;).eq(field(&quot;AUTHOR.ID&quot;)))\r\n                    .where(field(&quot;BOOK.PUBLISHED_IN&quot;).eq(1948));\r\nString sql = query.getSQL();\r\nList&lt;Object&gt; bindValues = query.getBindValues();\r\n```\r\n\r\nIn this example, we can take the `sql` and `bindValues` to create a `PreparedStatement`, but if we would like to query for another &quot;BOOK.PUBLISHED_IN&quot; year, we would need to either:\r\n\r\n 1. Pass the desired year to the jOOQ query builder again. \r\n 2. Know ahead of time that, when the query is rendered, the &quot;BOOK.PUBLISHED_IN&quot; parameter is the bind parameter &quot;1&quot;, and pass it to a `PreparedStatement` in that order.\r\n\r\nI would like to not go with option 1, because I would not use jOOQ as a dependency after my query is generated, and the problem with option 2 is that, without jOOQ, I would need to &quot;assume&quot; and possibly manually review the rendered SQL and adjust the query parameters order.\r\n\r\nI tried using `Query#getParams()`, but the return type is a `Map` which is not reliable for &quot;ordering&quot;, it also contains the `Param` objects produced by `DSL.inline`, which I do not need because they were already rendered in the query.\r\n\r\nI am searching for solutions to know the bind order without relying on jOOQ after the query is generated. Following the example above, we could have a named parameter called `year` and &quot;ask&quot; jOOQ what positions the property has, in this case it would be 1, but if the same named parameter appears multiple times in the query, it could return many positions.","title":"How can I combine Query#getSQL() and Query#getBindValues() to make a &quot;JOOQless&quot; query?","body":"<p>The jOOQ documentation explains how to use it as a query builder: <a href=\"https://www.jooq.org/doc/latest/manual/getting-started/use-cases/jooq-as-a-sql-builder-without-codegeneration/\" rel=\"nofollow noreferrer\">https://www.jooq.org/doc/latest/manual/getting-started/use-cases/jooq-as-a-sql-builder-without-codegeneration/</a></p>\n<p>I would like to go a bit further: would it be possible to use jOOQ to generate the query without relying on jOOQ further? I will explain.</p>\n<p>I will reuse the example that was given by jOOQ docs:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Fetch a SQL string from a jOOQ Query in order to manually execute it with another tool.\n// For simplicity reasons, we're using the API to construct case-insensitive object references, here.\nQuery query = create.select(field(&quot;BOOK.TITLE&quot;), field(&quot;AUTHOR.FIRST_NAME&quot;), field(&quot;AUTHOR.LAST_NAME&quot;))\n                    .from(table(&quot;BOOK&quot;))\n                    .join(table(&quot;AUTHOR&quot;))\n                    .on(field(&quot;BOOK.AUTHOR_ID&quot;).eq(field(&quot;AUTHOR.ID&quot;)))\n                    .where(field(&quot;BOOK.PUBLISHED_IN&quot;).eq(1948));\nString sql = query.getSQL();\nList&lt;Object&gt; bindValues = query.getBindValues();\n</code></pre>\n<p>In this example, we can take the <code>sql</code> and <code>bindValues</code> to create a <code>PreparedStatement</code>, but if we would like to query for another &quot;BOOK.PUBLISHED_IN&quot; year, we would need to either:</p>\n<ol>\n<li>Pass the desired year to the jOOQ query builder again.</li>\n<li>Know ahead of time that, when the query is rendered, the &quot;BOOK.PUBLISHED_IN&quot; parameter is the bind parameter &quot;1&quot;, and pass it to a <code>PreparedStatement</code> in that order.</li>\n</ol>\n<p>I would like to not go with option 1, because I would not use jOOQ as a dependency after my query is generated, and the problem with option 2 is that, without jOOQ, I would need to &quot;assume&quot; and possibly manually review the rendered SQL and adjust the query parameters order.</p>\n<p>I tried using <code>Query#getParams()</code>, but the return type is a <code>Map</code> which is not reliable for &quot;ordering&quot;, it also contains the <code>Param</code> objects produced by <code>DSL.inline</code>, which I do not need because they were already rendered in the query.</p>\n<p>I am searching for solutions to know the bind order without relying on jOOQ after the query is generated. Following the example above, we could have a named parameter called <code>year</code> and &quot;ask&quot; jOOQ what positions the property has, in this case it would be 1, but if the same named parameter appears multiple times in the query, it could return many positions.</p>\n"},{"tags":["java","swing","visual-studio-code","compiler-errors"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1679446602,"post_id":75807359,"comment_id":133723210,"body_markdown":"Compiles OK with Java 17u6 from the command line.  My guess would be that it is a VSCode config issue.  Or ... maybe you have your own version of `BorderLayout` in your VSCode project?  Or this code that you are compiling is subtly different to what you are showing us?","body":"Compiles OK with Java 17u6 from the command line.  My guess would be that it is a VSCode config issue.  Or ... maybe you have your own version of <code>BorderLayout</code> in your VSCode project?  Or this code that you are compiling is subtly different to what you are showing us?"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":1,"creation_date":1679469096,"post_id":75807359,"comment_id":133725614,"body_markdown":"Is it possible to modify like this?   `this.setLayout(new java.awt.BorderLayout());`","body":"Is it possible to modify like this?   <code>this.setLayout(new java.awt.BorderLayout());</code>"},{"owner":{"account_id":21893442,"reputation":1,"user_id":16180067,"display_name":"G RB"},"score":0,"creation_date":1679520566,"post_id":75807359,"comment_id":133738979,"body_markdown":"I don&#39;t have my own version of BorderLayout. Also VSCode offers me a quick fix which is to do a casting like this:\n\nthis.setLayout((LayoutManager)new BorderLayout());\n\nAnd It works.","body":"I don&#39;t have my own version of BorderLayout. Also VSCode offers me a quick fix which is to do a casting like this:  this.setLayout((LayoutManager)new BorderLayout());  And It works."}],"owner":{"account_id":21893442,"reputation":1,"user_id":16180067,"display_name":"G RB"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679474331,"creation_date":1679443009,"question_id":75807359,"body_markdown":"I get this error message:\r\n\r\n&gt; The method setLayout(LayoutManager) in the type JFrame is not\r\n&gt; applicable for the arguments (BorderLayout)\r\n\r\nWhile running this Java code:\r\n\r\n```java\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport java.awt.*;\r\n\r\npublic class Examen2 extends JFrame {\r\n\r\n    public Examen2() {\r\n        inicializarComponentes();\r\n    }\r\n\r\n    public void inicializarComponentes() {\r\n        \r\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        this.setSize(600, 400);\r\n        this.setLocationRelativeTo(null);\r\n        this.setResizable(false);\r\n        this.setLayout(new BorderLayout());\r\n    }\r\n\r\n    class Panel extends JPanel {\r\n        public void paintComponent(Graphics g) {\r\n\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new Examen2().setVisible(true);\r\n    }\r\n}\r\n```\r\n\r\nIf I run this using the console or JGrasp it compiles just fine, only VSCode has a problem with it, but why?\r\n","title":"Why i get this Java error in VSCODE only?","body":"<p>I get this error message:</p>\n<blockquote>\n<p>The method setLayout(LayoutManager) in the type JFrame is not\napplicable for the arguments (BorderLayout)</p>\n</blockquote>\n<p>While running this Java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport java.awt.*;\n\npublic class Examen2 extends JFrame {\n\n    public Examen2() {\n        inicializarComponentes();\n    }\n\n    public void inicializarComponentes() {\n        \n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.setSize(600, 400);\n        this.setLocationRelativeTo(null);\n        this.setResizable(false);\n        this.setLayout(new BorderLayout());\n    }\n\n    class Panel extends JPanel {\n        public void paintComponent(Graphics g) {\n\n        }\n    }\n\n    public static void main(String[] args) {\n        new Examen2().setVisible(true);\n    }\n}\n</code></pre>\n<p>If I run this using the console or JGrasp it compiles just fine, only VSCode has a problem with it, but why?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1679464122,"post_id":75807937,"comment_id":133724972,"body_markdown":"Not really a programming question. You should start by perusing https://help.eclipse.org/latest/nav/1 .","body":"Not really a programming question. You should start by perusing <a href=\"https://help.eclipse.org/latest/nav/1\" rel=\"nofollow noreferrer\">help.eclipse.org/latest/nav/1</a> ."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1679468700,"post_id":75807937,"comment_id":133725551,"body_markdown":"_File &gt; Open Projects from File System..._","body":"<i>File &gt; Open Projects from File System...</i>"}],"owner":{"account_id":26022086,"reputation":1,"user_id":20978138,"display_name":"MathisHard"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679474148,"creation_date":1679451633,"question_id":75807937,"body_markdown":"I have an assignment which requires importing a group of files into a Java project in Eclipse IDE (consisting of .java and a .jar (runnable) files) &amp; I do not know how to import and run these successfully. \r\n\r\nI am not sure how to share the files here and there is too much code to copy &amp; paste directly, but I&#39;ve tried using the import feature by right clicking on my project, then importing:\r\nProject &gt; import &gt; general &gt; file system &gt; choosing the folder &amp; files &gt; finish\r\n\r\nBut I can&#39;t find the imported files &amp; probably did that completely wrong. I&#39;m not sure.\r\n\r\nThis is a SnapShop project. I am importing: SnapShopConfiguration.java, SnapShop.java, Runnable_jar_7a.jar, PixelImage.java, Pixel.java, FlipHorizontalFilter.java, Filter.java, and a .png file.","title":"Confusion on Importing &amp; Running files in an Eclipse IDE Java project","body":"<p>I have an assignment which requires importing a group of files into a Java project in Eclipse IDE (consisting of .java and a .jar (runnable) files) &amp; I do not know how to import and run these successfully.</p>\n<p>I am not sure how to share the files here and there is too much code to copy &amp; paste directly, but I've tried using the import feature by right clicking on my project, then importing:\nProject &gt; import &gt; general &gt; file system &gt; choosing the folder &amp; files &gt; finish</p>\n<p>But I can't find the imported files &amp; probably did that completely wrong. I'm not sure.</p>\n<p>This is a SnapShop project. I am importing: SnapShopConfiguration.java, SnapShop.java, Runnable_jar_7a.jar, PixelImage.java, Pixel.java, FlipHorizontalFilter.java, Filter.java, and a .png file.</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1679061047,"post_id":75758505,"comment_id":133657989,"body_markdown":"It doesn&#39;t exclude the head. How do you know that k4 is actually in the topic? Did you dump the segment (not using Console consumer)? Please show your producer code","body":"It doesn&#39;t exclude the head. How do you know that k4 is actually in the topic? Did you dump the segment (not using Console consumer)? Please show your producer code"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1679061242,"post_id":75758505,"comment_id":133658056,"body_markdown":"Also, it&#39;s not recommended to create 10 segments per second. That&#39;ll likely cause high IO thrashing and wear out your disks","body":"Also, it&#39;s not recommended to create 10 segments per second. That&#39;ll likely cause high IO thrashing and wear out your disks"},{"owner":{"account_id":4202976,"reputation":278,"user_id":3442635,"accept_rate":75,"display_name":"PurplePanda"},"score":0,"creation_date":1679064904,"post_id":75758505,"comment_id":133659165,"body_markdown":"Thank you @OneCricketeer for your answer. I edited my post with the producer code. I wait 6 seconds between each producer to make sure that the log cleaner has been executed. When I say that k4 is actually in the topic, I can actually retrieve it by using the kafka-console-consumer.sh. I agree that 10 segments per second is a bad setting, but I was just trying to understand the log compaction and the segment logic in Kafka. I do not intend to use that setting outside my test.","body":"Thank you @OneCricketeer for your answer. I edited my post with the producer code. I wait 6 seconds between each producer to make sure that the log cleaner has been executed. When I say that k4 is actually in the topic, I can actually retrieve it by using the kafka-console-consumer.sh. I agree that 10 segments per second is a bad setting, but I was just trying to understand the log compaction and the segment logic in Kafka. I do not intend to use that setting outside my test."},{"owner":{"account_id":4202976,"reputation":278,"user_id":3442635,"accept_rate":75,"display_name":"PurplePanda"},"score":0,"creation_date":1679395404,"post_id":75758505,"comment_id":133710244,"body_markdown":"Can you explain what you mean by &quot;dump the segment&quot; ?","body":"Can you explain what you mean by &quot;dump the segment&quot; ?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1679408055,"post_id":75758505,"comment_id":133714009,"body_markdown":"https://stackoverflow.com/a/60175014/2308683","body":"<a href=\"https://stackoverflow.com/a/60175014/2308683\">stackoverflow.com/a/60175014/2308683</a>"},{"owner":{"account_id":4202976,"reputation":278,"user_id":3442635,"accept_rate":75,"display_name":"PurplePanda"},"score":0,"creation_date":1679473909,"post_id":75758505,"comment_id":133726614,"body_markdown":"Hello @OneCricketeer, I just edited my question with the dump segments. I think it confirms that k4 is actually in the topic.","body":"Hello @OneCricketeer, I just edited my question with the dump segments. I think it confirms that k4 is actually in the topic."}],"owner":{"account_id":4202976,"reputation":278,"user_id":3442635,"accept_rate":75,"display_name":"PurplePanda"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1679473810,"creation_date":1678981568,"question_id":75758505,"body_markdown":"I&#39;m currently working with Kafka, more specifically with the ability to use the log compaction feature, as stated here : https://kafka.apache.org/documentation/#compaction.\r\n\r\nI&#39;m using the kafka-clients java library :\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n    &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n    &lt;version&gt;3.3.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThen, I create a topic in compaction mode, using this property :\r\n```\r\n&quot;cleanup.policy&quot;=&quot;compact&quot;\r\n&quot;delete.retention.ms&quot;=&quot;100&quot;\r\n&quot;segment.ms&quot;=&quot;100&quot;\r\n&quot;min.cleanable.dirty.ratio&quot;=&quot;0.01&quot;\r\n```\r\nFor test purpose, the broker has the property log.retention.check.interval.ms set to 1 second, in order to compact data every second.\r\n\r\nThen, I producer 3 distinct batch of messages, in that specific order :\r\n\r\n```\r\n#1\r\n&quot;k1&quot;:&quot;V1&quot;\r\n&quot;k3&quot;:&quot;V1&quot;\r\n&quot;k2&quot;:&quot;V1&quot;\r\n&quot;k1&quot;:&quot;V2&quot;\r\n#2 \r\n&quot;k2&quot;:&quot;V2&quot;\r\n&quot;k1&quot;:&quot;V3&quot;\r\n&quot;k1&quot;:&quot;V4&quot;\r\n#3\r\n&quot;k4&quot;:&quot;V1&quot;\r\n```\r\n\r\nI wait between each batch of messages at least 3 seconds (waiting for log cleaner). When I use the console consumer, I have this result : \r\n```\r\n&quot;k3&quot;:&quot;V1&quot;\r\n&quot;k2&quot;:&quot;V2&quot;\r\n&quot;k1&quot;:&quot;V4&quot;\r\n&quot;k4&quot;:&quot;V1&quot;\r\n```\r\nThis is exactly what I expected. But, when I use the `KafkaConsumer` from the Java Library, I have this result :\r\n```\r\n&quot;k3&quot;:&quot;V1&quot;\r\n&quot;k2&quot;:&quot;V2&quot;\r\n&quot;k1&quot;:&quot;V4&quot;\r\n```\r\n\r\nk4 is missing. What I understand is that k4 has been push in a specific segment called the head, and only the tail has been compacted. The way Kafka works with his tail and head has been very well explained in this [link][1]. It appears that in my case, the consumer never fully read the kafka topic : it exclude any data that is still in the &quot;dirty&quot; section (the head). So my question is simple : why the `KafkaConsumer` exclude the data in the head segment ? Am I missing a specific configuration in the properties of my consumer ?\r\n\r\nThe Java Snippet just in case : \r\n\r\n```java\r\n@SneakyThrows\r\npublic static void main(String[] args) {\r\n    try (KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(getConsumerProperties());) {\r\n        consumer.subscribe(Collections.singletonList(TOPIC_NAME));\r\n\r\n        final ConsumerRecords&lt;String, String&gt; poll = consumer.poll(Duration.ofSeconds(1));\r\n        for (ConsumerRecord&lt;String, String&gt; consumerRecord : poll) {\r\n            log.info(&quot;Key : {} with value : {}&quot;, consumerRecord.key(), consumerRecord.value());\r\n        }\r\n    }\r\n\r\n}\r\n\r\nprivate static Properties getConsumerProperties() {\r\n    Properties result = new Properties();\r\n    result.put(CommonClientConfigs.BOOTSTRAP_SERVERS_CONFIG, BOOTSTRAP_SERVERS);\r\n    result.put(ConsumerConfig.GROUP_ID_CONFIG, UUID.randomUUID().toString());\r\n    result.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, &quot;false&quot;);\r\n    result.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\r\n    result.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\r\n    result.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\r\n    return result;\r\n}\r\n```\r\n\r\nHere is the producer code :\r\n\r\n```java\r\nlog.info(&quot;#####PRODUCING FIRST BATCH OF MESSAGES#####&quot;);\r\ntry (KafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(getProducerProperties())) {\r\n    producer.send(new ProducerRecord&lt;&gt;(Constants.TOPIC_NAME, &quot;k1&quot;, &quot;V1&quot;));\r\n    producer.send(new ProducerRecord&lt;&gt;(Constants.TOPIC_NAME, &quot;k3&quot;, &quot;V1&quot;));\r\n    producer.send(new ProducerRecord&lt;&gt;(Constants.TOPIC_NAME, &quot;k2&quot;, &quot;V1&quot;));\r\n    producer.send(new ProducerRecord&lt;&gt;(Constants.TOPIC_NAME, &quot;k1&quot;, &quot;V2&quot;));\r\n    producer.flush();\r\n}\r\n\r\nThread.sleep(6000);\r\nlog.info(&quot;#####PRODUCING SECOND BATCH OF MESSAGES#####&quot;);\r\n\r\ntry (KafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(getProducerProperties())) {\r\n    producer.send(new ProducerRecord&lt;&gt;(Constants.TOPIC_NAME, &quot;k2&quot;, &quot;V2&quot;));\r\n    producer.send(new ProducerRecord&lt;&gt;(Constants.TOPIC_NAME, &quot;k1&quot;, &quot;V3&quot;));\r\n    producer.send(new ProducerRecord&lt;&gt;(Constants.TOPIC_NAME, &quot;k1&quot;, &quot;V4&quot;));\r\n    producer.flush();\r\n}\r\n\r\nThread.sleep(6000);\r\nlog.info(&quot;#####PRODUCING LAST MESSAGE#####&quot;);\r\n\r\ntry (KafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(getProducerProperties())) {\r\n    producer.send(new ProducerRecord&lt;&gt;(Constants.TOPIC_NAME, &quot;k4&quot;, &quot;V1&quot;));\r\n    producer.flush();\r\n}\r\n```\r\n\r\nEdit 1 :\r\n@OneCricketeer advised me to dump the log segment to be sure that k4 is actually in the topic.\r\n\r\n``` \r\nkafka-run-class.sh kafka.tools.DumpLogSegments --files 00000000000000000000.log,00000000000000000007.log\r\n\r\nDumping 00000000000000000000.log\r\nLog starting offset: 0\r\nbaseOffset: 0 lastOffset: 3 count: 1 baseSequence: 0 lastSequence: 3 producerId: 0 producerEpoch: 0 partitionLeaderEpoch: 0 isTransactional: false isControl: false deleteHorizonMs: OptionalLong.empty position: 0 CreateTime: 1679472971181 size: 72 magic: 2 compresscodec: none crc: 4285334185 isvalid: true\r\nbaseOffset: 4 lastOffset: 6 count: 2 baseSequence: 0 lastSequence: 2 producerId: 1 producerEpoch: 0 partitionLeaderEpoch: 0 isTransactional: false isControl: false deleteHorizonMs: OptionalLong.empty position: 72 CreateTime: 1679472977314 size: 83 magic: 2 compresscodec: none crc: 840210644 isvalid: true\r\nDumping 00000000000000000007.log\r\nLog starting offset: 7\r\nbaseOffset: 7 lastOffset: 7 count: 1 baseSequence: 0 lastSequence: 0 producerId: 2 producerEpoch: 0 partitionLeaderEpoch: 0 isTransactional: false isControl: false deleteHorizonMs: OptionalLong.empty position: 0 CreateTime: 1679472983359 size: 72 magic: 2 compresscodec: none crc: 1528509131 isvalid: true\r\n```\r\n\r\nWe can see here that I have two log files : 00, containing all my compacted data, 07 containing only the offset 7, which is the &quot;k4&quot; key. \r\n\r\nI&#39;m assuming that 07.log is the head segment and 00.log the tail. \r\n \r\n\r\n  [1]: https://stackoverflow.com/a/61457387/3442635","title":"Kafka Consumer does not return records in active segment","body":"<p>I'm currently working with Kafka, more specifically with the ability to use the log compaction feature, as stated here : <a href=\"https://kafka.apache.org/documentation/#compaction\" rel=\"nofollow noreferrer\">https://kafka.apache.org/documentation/#compaction</a>.</p>\n<p>I'm using the kafka-clients java library :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n    &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n    &lt;version&gt;3.3.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then, I create a topic in compaction mode, using this property :</p>\n<pre><code>&quot;cleanup.policy&quot;=&quot;compact&quot;\n&quot;delete.retention.ms&quot;=&quot;100&quot;\n&quot;segment.ms&quot;=&quot;100&quot;\n&quot;min.cleanable.dirty.ratio&quot;=&quot;0.01&quot;\n</code></pre>\n<p>For test purpose, the broker has the property log.retention.check.interval.ms set to 1 second, in order to compact data every second.</p>\n<p>Then, I producer 3 distinct batch of messages, in that specific order :</p>\n<pre><code>#1\n&quot;k1&quot;:&quot;V1&quot;\n&quot;k3&quot;:&quot;V1&quot;\n&quot;k2&quot;:&quot;V1&quot;\n&quot;k1&quot;:&quot;V2&quot;\n#2 \n&quot;k2&quot;:&quot;V2&quot;\n&quot;k1&quot;:&quot;V3&quot;\n&quot;k1&quot;:&quot;V4&quot;\n#3\n&quot;k4&quot;:&quot;V1&quot;\n</code></pre>\n<p>I wait between each batch of messages at least 3 seconds (waiting for log cleaner). When I use the console consumer, I have this result :</p>\n<pre><code>&quot;k3&quot;:&quot;V1&quot;\n&quot;k2&quot;:&quot;V2&quot;\n&quot;k1&quot;:&quot;V4&quot;\n&quot;k4&quot;:&quot;V1&quot;\n</code></pre>\n<p>This is exactly what I expected. But, when I use the <code>KafkaConsumer</code> from the Java Library, I have this result :</p>\n<pre><code>&quot;k3&quot;:&quot;V1&quot;\n&quot;k2&quot;:&quot;V2&quot;\n&quot;k1&quot;:&quot;V4&quot;\n</code></pre>\n<p>k4 is missing. What I understand is that k4 has been push in a specific segment called the head, and only the tail has been compacted. The way Kafka works with his tail and head has been very well explained in this <a href=\"https://stackoverflow.com/a/61457387/3442635\">link</a>. It appears that in my case, the consumer never fully read the kafka topic : it exclude any data that is still in the &quot;dirty&quot; section (the head). So my question is simple : why the <code>KafkaConsumer</code> exclude the data in the head segment ? Am I missing a specific configuration in the properties of my consumer ?</p>\n<p>The Java Snippet just in case :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SneakyThrows\npublic static void main(String[] args) {\n    try (KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(getConsumerProperties());) {\n        consumer.subscribe(Collections.singletonList(TOPIC_NAME));\n\n        final ConsumerRecords&lt;String, String&gt; poll = consumer.poll(Duration.ofSeconds(1));\n        for (ConsumerRecord&lt;String, String&gt; consumerRecord : poll) {\n            log.info(&quot;Key : {} with value : {}&quot;, consumerRecord.key(), consumerRecord.value());\n        }\n    }\n\n}\n\nprivate static Properties getConsumerProperties() {\n    Properties result = new Properties();\n    result.put(CommonClientConfigs.BOOTSTRAP_SERVERS_CONFIG, BOOTSTRAP_SERVERS);\n    result.put(ConsumerConfig.GROUP_ID_CONFIG, UUID.randomUUID().toString());\n    result.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, &quot;false&quot;);\n    result.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\n    result.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\n    result.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\n    return result;\n}\n</code></pre>\n<p>Here is the producer code :</p>\n<pre class=\"lang-java prettyprint-override\"><code>log.info(&quot;#####PRODUCING FIRST BATCH OF MESSAGES#####&quot;);\ntry (KafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(getProducerProperties())) {\n    producer.send(new ProducerRecord&lt;&gt;(Constants.TOPIC_NAME, &quot;k1&quot;, &quot;V1&quot;));\n    producer.send(new ProducerRecord&lt;&gt;(Constants.TOPIC_NAME, &quot;k3&quot;, &quot;V1&quot;));\n    producer.send(new ProducerRecord&lt;&gt;(Constants.TOPIC_NAME, &quot;k2&quot;, &quot;V1&quot;));\n    producer.send(new ProducerRecord&lt;&gt;(Constants.TOPIC_NAME, &quot;k1&quot;, &quot;V2&quot;));\n    producer.flush();\n}\n\nThread.sleep(6000);\nlog.info(&quot;#####PRODUCING SECOND BATCH OF MESSAGES#####&quot;);\n\ntry (KafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(getProducerProperties())) {\n    producer.send(new ProducerRecord&lt;&gt;(Constants.TOPIC_NAME, &quot;k2&quot;, &quot;V2&quot;));\n    producer.send(new ProducerRecord&lt;&gt;(Constants.TOPIC_NAME, &quot;k1&quot;, &quot;V3&quot;));\n    producer.send(new ProducerRecord&lt;&gt;(Constants.TOPIC_NAME, &quot;k1&quot;, &quot;V4&quot;));\n    producer.flush();\n}\n\nThread.sleep(6000);\nlog.info(&quot;#####PRODUCING LAST MESSAGE#####&quot;);\n\ntry (KafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(getProducerProperties())) {\n    producer.send(new ProducerRecord&lt;&gt;(Constants.TOPIC_NAME, &quot;k4&quot;, &quot;V1&quot;));\n    producer.flush();\n}\n</code></pre>\n<p>Edit 1 :\n@OneCricketeer advised me to dump the log segment to be sure that k4 is actually in the topic.</p>\n<pre><code>kafka-run-class.sh kafka.tools.DumpLogSegments --files 00000000000000000000.log,00000000000000000007.log\n\nDumping 00000000000000000000.log\nLog starting offset: 0\nbaseOffset: 0 lastOffset: 3 count: 1 baseSequence: 0 lastSequence: 3 producerId: 0 producerEpoch: 0 partitionLeaderEpoch: 0 isTransactional: false isControl: false deleteHorizonMs: OptionalLong.empty position: 0 CreateTime: 1679472971181 size: 72 magic: 2 compresscodec: none crc: 4285334185 isvalid: true\nbaseOffset: 4 lastOffset: 6 count: 2 baseSequence: 0 lastSequence: 2 producerId: 1 producerEpoch: 0 partitionLeaderEpoch: 0 isTransactional: false isControl: false deleteHorizonMs: OptionalLong.empty position: 72 CreateTime: 1679472977314 size: 83 magic: 2 compresscodec: none crc: 840210644 isvalid: true\nDumping 00000000000000000007.log\nLog starting offset: 7\nbaseOffset: 7 lastOffset: 7 count: 1 baseSequence: 0 lastSequence: 0 producerId: 2 producerEpoch: 0 partitionLeaderEpoch: 0 isTransactional: false isControl: false deleteHorizonMs: OptionalLong.empty position: 0 CreateTime: 1679472983359 size: 72 magic: 2 compresscodec: none crc: 1528509131 isvalid: true\n</code></pre>\n<p>We can see here that I have two log files : 00, containing all my compacted data, 07 containing only the offset 7, which is the &quot;k4&quot; key.</p>\n<p>I'm assuming that 07.log is the head segment and 00.log the tail.</p>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1679441608,"post_id":75807178,"comment_id":133722561,"body_markdown":"Can you add the code which creates the request and calls send?","body":"Can you add the code which creates the request and calls send?"},{"owner":{"account_id":11038736,"reputation":1112,"user_id":8107504,"display_name":"Parth Manaktala"},"score":1,"creation_date":1679446869,"post_id":75807178,"comment_id":133723247,"body_markdown":"Can you post the code that sends the get request?","body":"Can you post the code that sends the get request?"},{"owner":{"account_id":1031047,"reputation":646,"user_id":1039350,"accept_rate":70,"display_name":"Steven Spasbo"},"score":0,"creation_date":1679459429,"post_id":75807178,"comment_id":133724515,"body_markdown":"More detailed code example was just added.","body":"More detailed code example was just added."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679462511,"post_id":75807178,"comment_id":133724790,"body_markdown":"I don&#39;t see anything wrong with that -- you&#39;ll need to produce a complete example which fails.","body":"I don&#39;t see anything wrong with that -- you&#39;ll need to produce a complete example which fails."}],"owner":{"account_id":1031047,"reputation":646,"user_id":1039350,"accept_rate":70,"display_name":"Steven Spasbo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679473549,"creation_date":1679440636,"question_id":75807178,"body_markdown":"I have a class that has two calls to `HttpClient.send` that I&#39;d like to mock the responses for based on the request URI. I found some examples online but haven&#39;t been able to get them to work. One is:\r\n\r\n```\r\nHttpClient httpClient = mock(HttpClient.class);\r\nwhen(httpClient.send(argThat(\r\n    (HttpRequest httpRequest) -&gt; httpRequest.uri().getHost().equals(&quot;http://localhost.com&quot;)), Mockito.any(HttpResponse.BodyHandler.class)))\r\n    .thenReturn(mockedResponse);\r\n```\r\nbut it&#39;s throwing the exception:\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;java.net.http.HttpRequest.uri()&quot; because &quot;httpRequest&quot; is null\r\n```\r\nAny ideas?\r\n\r\nThe following code is similar to what I am attempting to do:\r\n```\r\nclass AuthenticationHandler {\r\n\r\n  private HttpClient httpClient;\r\n  private URI uriOne;\r\n  private URI uriTwo;\r\n\r\n  public AuthserviceAuthenticationHandler(HttpClient httpClient, URI uriOne, URI uriTwo) {\r\n    this.httpClient = httpClient;\r\n    this.uriOne = uriOne;\r\n    this.uriTwo = uriTwo;\r\n  }\r\n\r\n  @Override\r\n  protected void getTokenOne() {\r\n    String tokenTwo = this.getTokenTwo();\r\n    HttpRequest httpRequest;\r\n    HttpResponse&lt;String&gt; httpResponse;\r\n    httpRequest = HttpRequest.newBuilder()\r\n          .uri(this.uriOne.resolve(&quot;/endpointAtUriOne&quot;))\r\n          .header(&quot;Authorization&quot;, &quot;Basic %s&quot;.formatted(tokenTwo))\r\n          .POST(HttpRequest.BodyPublishers.ofString(&quot;Body&quot;))\r\n          .build();\r\n    httpResponse = this.httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());\r\n    [...]\r\n  }\r\n\r\n    @Override\r\n  private String getTokenTwo() {\r\n    String token = null;\r\n    HttpRequest httpRequest;\r\n    HttpResponse&lt;String&gt; httpResponse;\r\n    httpRequest = HttpRequest.newBuilder()\r\n          .uri(this.uriTwo.resolve(&quot;/endpointAtUriTwo&quot;))\r\n          .POST(HttpRequest.BodyPublishers.ofString(&quot;Body&quot;))\r\n          .build();\r\n    httpResponse = this.httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());\r\n    // Parse response, return token string.\r\n    return token;\r\n  }\r\n\r\n```\r\n\r\nIn my test, I create a mock `HttpClient`, which is passed to the constructor, but I am not sure how to have the mocked client return a different response based on the request object URI.","title":"Mock java.net.http.HttpClient responses using mockito","body":"<p>I have a class that has two calls to <code>HttpClient.send</code> that I'd like to mock the responses for based on the request URI. I found some examples online but haven't been able to get them to work. One is:</p>\n<pre><code>HttpClient httpClient = mock(HttpClient.class);\nwhen(httpClient.send(argThat(\n    (HttpRequest httpRequest) -&gt; httpRequest.uri().getHost().equals(&quot;http://localhost.com&quot;)), Mockito.any(HttpResponse.BodyHandler.class)))\n    .thenReturn(mockedResponse);\n</code></pre>\n<p>but it's throwing the exception:</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;java.net.http.HttpRequest.uri()&quot; because &quot;httpRequest&quot; is null\n</code></pre>\n<p>Any ideas?</p>\n<p>The following code is similar to what I am attempting to do:</p>\n<pre><code>class AuthenticationHandler {\n\n  private HttpClient httpClient;\n  private URI uriOne;\n  private URI uriTwo;\n\n  public AuthserviceAuthenticationHandler(HttpClient httpClient, URI uriOne, URI uriTwo) {\n    this.httpClient = httpClient;\n    this.uriOne = uriOne;\n    this.uriTwo = uriTwo;\n  }\n\n  @Override\n  protected void getTokenOne() {\n    String tokenTwo = this.getTokenTwo();\n    HttpRequest httpRequest;\n    HttpResponse&lt;String&gt; httpResponse;\n    httpRequest = HttpRequest.newBuilder()\n          .uri(this.uriOne.resolve(&quot;/endpointAtUriOne&quot;))\n          .header(&quot;Authorization&quot;, &quot;Basic %s&quot;.formatted(tokenTwo))\n          .POST(HttpRequest.BodyPublishers.ofString(&quot;Body&quot;))\n          .build();\n    httpResponse = this.httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());\n    [...]\n  }\n\n    @Override\n  private String getTokenTwo() {\n    String token = null;\n    HttpRequest httpRequest;\n    HttpResponse&lt;String&gt; httpResponse;\n    httpRequest = HttpRequest.newBuilder()\n          .uri(this.uriTwo.resolve(&quot;/endpointAtUriTwo&quot;))\n          .POST(HttpRequest.BodyPublishers.ofString(&quot;Body&quot;))\n          .build();\n    httpResponse = this.httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());\n    // Parse response, return token string.\n    return token;\n  }\n\n</code></pre>\n<p>In my test, I create a mock <code>HttpClient</code>, which is passed to the constructor, but I am not sure how to have the mocked client return a different response based on the request object URI.</p>\n"},{"tags":["java","salesforce","wsdl"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1679397384,"post_id":75800463,"comment_id":133710760,"body_markdown":"Are you trying to run a package? Shouldn&#39;t you be running a class, instead?","body":"Are you trying to run a package? Shouldn&#39;t you be running a class, instead?"},{"owner":{"account_id":10456292,"reputation":25,"user_id":8237228,"display_name":"Cristian L&#243;pez Gonz&#225;lez"},"score":0,"creation_date":1679397761,"post_id":75800463,"comment_id":133710848,"body_markdown":"Hi @FedericoklezCulloca, yes wsdlc is a class inside the package com.sforce.ws.tools","body":"Hi @FedericoklezCulloca, yes wsdlc is a class inside the package com.sforce.ws.tools"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1679398351,"post_id":75800463,"comment_id":133710994,"body_markdown":"According to the documentation `-cp` expects a semicolon-separated list, not a comma-separated one. Try like this: `java -cp &quot;force-wsc-57.0.0.jar;ST4-4.3.4.jar&quot; com.sforce.ws.tools.wsdlc partner.wsdl partner.jar`","body":"According to the documentation <code>-cp</code> expects a semicolon-separated list, not a comma-separated one. Try like this: <code>java -cp &quot;force-wsc-57.0.0.jar;ST4-4.3.4.jar&quot; com.sforce.ws.tools.wsdlc partner.wsdl partner.jar</code>"},{"owner":{"account_id":10456292,"reputation":25,"user_id":8237228,"display_name":"Cristian L&#243;pez Gonz&#225;lez"},"score":0,"creation_date":1679399044,"post_id":75800463,"comment_id":133711170,"body_markdown":"Hi again @FedericoklezCulloca, thanks for the answer. I tried this but stil get the same error, could not find the main class com.sforce.ws.tools.wsdlc.","body":"Hi again @FedericoklezCulloca, thanks for the answer. I tried this but stil get the same error, could not find the main class com.sforce.ws.tools.wsdlc."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1679414207,"post_id":75800463,"comment_id":133716098,"body_markdown":"There are instructions for running the generator here: https://developer.salesforce.com/docs/atlas.en-us.salesforce_developer_environment_tipsheet.meta/salesforce_developer_environment_tipsheet/salesforce_developer_environment_java_stubs.htm","body":"There are instructions for running the generator here: <a href=\"https://developer.salesforce.com/docs/atlas.en-us.salesforce_developer_environment_tipsheet.meta/salesforce_developer_environment_tipsheet/salesforce_developer_environment_java_stubs.htm\" rel=\"nofollow noreferrer\">developer.salesforce.com/docs/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":10456292,"reputation":25,"user_id":8237228,"display_name":"Cristian L&#243;pez Gonz&#225;lez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679473319,"creation_date":1679473319,"answer_id":75809834,"question_id":75800463,"body_markdown":"Finally the solution was all together.\r\n\r\nAs Federico Klez Culloca said, must be a semicolon-separated list. Also needs to add some jars like ST4. \r\n\r\nAt the end, the problem was that you need to call command prompt from the java\\bin folder. So you need to place the root inside this bin folder and then launch this command with all the complete paths to the jars, wsdl and the jar you want to generate.","title":"Could not fin or load main class com.sforce.ws.tools.wsdlc","body":"<p>Finally the solution was all together.</p>\n<p>As Federico Klez Culloca said, must be a semicolon-separated list. Also needs to add some jars like ST4.</p>\n<p>At the end, the problem was that you need to call command prompt from the java\\bin folder. So you need to place the root inside this bin folder and then launch this command with all the complete paths to the jars, wsdl and the jar you want to generate.</p>\n"}],"owner":{"account_id":10456292,"reputation":25,"user_id":8237228,"display_name":"Cristian L&#243;pez Gonz&#225;lez"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679473319,"creation_date":1679397286,"question_id":75800463,"body_markdown":"I&#39;m trying to generate a salesforce.jar file from the salesforce.wsdl file from a partner.\r\n\r\nWe are trying to use version 57.0.0 from Salesforce so I downloaded force-wsc-57.0.0.jar. Also when trying to generate the file, I get an error regarding to ST4, so I downloaded ST4-4.3.4.jar too. \r\n\r\nNow when I run the command:\r\n\r\n&gt; java -cp force-wsc-57.0.0.jar,ST4-4.3.4.jar com.sforce.ws.tools.wsdlc partner.wsdl partner.jar\r\n\r\nI always get the error &quot;Could not find or load main class com.sforce.ws.tools.wsdlc&quot;. I saw that this package exists inside force-wsc-57.0.0.jar so it should be working. \r\n\r\nI&#39;m using java8, I put everything on a folder together, the jars and the wsdl file. I run the command prompt from this route so I don&#39;t need to add the path to the jars files or anything.","title":"Could not fin or load main class com.sforce.ws.tools.wsdlc","body":"<p>I'm trying to generate a salesforce.jar file from the salesforce.wsdl file from a partner.</p>\n<p>We are trying to use version 57.0.0 from Salesforce so I downloaded force-wsc-57.0.0.jar. Also when trying to generate the file, I get an error regarding to ST4, so I downloaded ST4-4.3.4.jar too.</p>\n<p>Now when I run the command:</p>\n<blockquote>\n<p>java -cp force-wsc-57.0.0.jar,ST4-4.3.4.jar com.sforce.ws.tools.wsdlc partner.wsdl partner.jar</p>\n</blockquote>\n<p>I always get the error &quot;Could not find or load main class com.sforce.ws.tools.wsdlc&quot;. I saw that this package exists inside force-wsc-57.0.0.jar so it should be working.</p>\n<p>I'm using java8, I put everything on a folder together, the jars and the wsdl file. I run the command prompt from this route so I don't need to add the path to the jars files or anything.</p>\n"},{"tags":["java","windows","tomcat","service","documents4j"],"comments":[{"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"score":0,"creation_date":1679509368,"post_id":75809762,"comment_id":133736562,"body_markdown":"There&#39;s a section in the documentation on running the converter as a service. Did you go through it?","body":"There&#39;s a section in the documentation on running the converter as a service. Did you go through it?"}],"owner":{"account_id":28077345,"reputation":1,"user_id":21448975,"display_name":"Reppo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679472773,"creation_date":1679472773,"question_id":75809762,"body_markdown":"Hi I am trying to set documents4j as service on Windows by using Tomcat but it keeps failing.\r\nTask Scheduler job with no login needed setting is also failing. Error is below.\r\n\r\n\r\n\r\n\r\n```\r\njava.lang.IllegalStateException: class com.documents4j.conversion.msoffice.MicrosoftWordBridge could not be created by a (File, long, TimeUnit) constructor\r\n\tat com.documents4j.conversion.ExternalConverterDiscovery.make(ExternalConverterDiscovery.java:33)\r\n\tat com.documents4j.conversion.ExternalConverterDiscovery.makeAll(ExternalConverterDiscovery.java:43)\r\n\tat com.documents4j.conversion.ExternalConverterDiscovery.loadConfiguration(ExternalConverterDiscovery.java:86)\r\n\tat com.documents4j.conversion.DefaultConversionManager.&lt;init&gt;(DefaultConversionManager.java:22)\r\n\tat com.documents4j.job.LocalConverter.makeConversionManager(LocalConverter.java:79)\r\n\tat com.documents4j.job.LocalConverter.&lt;init&gt;(LocalConverter.java:51)\r\n\tat com.documents4j.job.LocalConverter$Builder.build(LocalConverter.java:186)\r\n\tat com.prolan.modules.pdf.service.ConvertFileService.convertFiles(ConvertFileService.java:46)\r\n\tat com.prolan.modules.pdf.controller.PdfController.newConvertRtfToPdf(PdfController.java:80)\r\n\tat com.prolan.modules.pdf.controller.PdfController$$FastClassBySpringCGLIB$$2d9f09b4.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n\tat org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:64)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n\tat org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)\r\n\tat com.prolan.modules.pdf.logging.PdfServiceLoggingAspect.logAroundRestController(PdfServiceLoggingAspect.java:92)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)\r\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)\r\n\tat org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)\r\n\tat com.prolan.modules.pdf.controller.PdfController$$EnhancerBySpringCGLIB$$36bfac30.newConvertRtfToPdf(&lt;generated&gt;)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat java.lang.Thread.run(Unknown Source)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\r\n\tat java.lang.reflect.Constructor.newInstance(Unknown Source)\r\n\tat com.documents4j.conversion.ExternalConverterDiscovery.make(ExternalConverterDiscovery.java:31)\r\n\t... 96 more\r\nCaused by: com.documents4j.throwables.ConverterAccessException: The converter seems to be shut down\r\n\tat com.documents4j.util.Reaction$ConverterAccessExceptionBuilder.make(Reaction.java:117)\r\n\tat com.documents4j.util.Reaction$ExceptionalReaction.apply(Reaction.java:75)\r\n\tat com.documents4j.conversion.ExternalConverterScriptResult.resolve(ExternalConverterScriptResult.java:70)\r\n\tat com.documents4j.conversion.msoffice.AbstractMicrosoftOfficeBridge.tryStart(AbstractMicrosoftOfficeBridge.java:36)\r\n\tat com.documents4j.conversion.msoffice.MicrosoftWordBridge.startUp(MicrosoftWordBridge.java:46)\r\n\tat com.documents4j.conversion.msoffice.MicrosoftWordBridge.&lt;init&gt;(MicrosoftWordBridge.java:41)\r\n\t... 101 more\r\n```\r\n\r\n\r\nThe converter works just fine when you run it as process (by that I mean when I run Tomcat with startup.bat) . Regarding Task Scheduler -\r\nwhile &quot;Run whether user is logged on or not&quot; option is checked, the converter doesn&#39;t work, but with &quot;Run only when user is logged on&quot; the converter is working.\r\n","title":"Tomcat war with documents4j IllegalStateExeption when converting file to rtf in Java","body":"<p>Hi I am trying to set documents4j as service on Windows by using Tomcat but it keeps failing.\nTask Scheduler job with no login needed setting is also failing. Error is below.</p>\n<pre><code>java.lang.IllegalStateException: class com.documents4j.conversion.msoffice.MicrosoftWordBridge could not be created by a (File, long, TimeUnit) constructor\n    at com.documents4j.conversion.ExternalConverterDiscovery.make(ExternalConverterDiscovery.java:33)\n    at com.documents4j.conversion.ExternalConverterDiscovery.makeAll(ExternalConverterDiscovery.java:43)\n    at com.documents4j.conversion.ExternalConverterDiscovery.loadConfiguration(ExternalConverterDiscovery.java:86)\n    at com.documents4j.conversion.DefaultConversionManager.&lt;init&gt;(DefaultConversionManager.java:22)\n    at com.documents4j.job.LocalConverter.makeConversionManager(LocalConverter.java:79)\n    at com.documents4j.job.LocalConverter.&lt;init&gt;(LocalConverter.java:51)\n    at com.documents4j.job.LocalConverter$Builder.build(LocalConverter.java:186)\n    at com.prolan.modules.pdf.service.ConvertFileService.convertFiles(ConvertFileService.java:46)\n    at com.prolan.modules.pdf.controller.PdfController.newConvertRtfToPdf(PdfController.java:80)\n    at com.prolan.modules.pdf.controller.PdfController$$FastClassBySpringCGLIB$$2d9f09b4.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\n    at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:64)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\n    at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)\n    at com.prolan.modules.pdf.logging.PdfServiceLoggingAspect.logAroundRestController(PdfServiceLoggingAspect.java:92)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)\n    at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)\n    at com.prolan.modules.pdf.controller.PdfController$$EnhancerBySpringCGLIB$$36bfac30.newConvertRtfToPdf(&lt;generated&gt;)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: java.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n    at java.lang.reflect.Constructor.newInstance(Unknown Source)\n    at com.documents4j.conversion.ExternalConverterDiscovery.make(ExternalConverterDiscovery.java:31)\n    ... 96 more\nCaused by: com.documents4j.throwables.ConverterAccessException: The converter seems to be shut down\n    at com.documents4j.util.Reaction$ConverterAccessExceptionBuilder.make(Reaction.java:117)\n    at com.documents4j.util.Reaction$ExceptionalReaction.apply(Reaction.java:75)\n    at com.documents4j.conversion.ExternalConverterScriptResult.resolve(ExternalConverterScriptResult.java:70)\n    at com.documents4j.conversion.msoffice.AbstractMicrosoftOfficeBridge.tryStart(AbstractMicrosoftOfficeBridge.java:36)\n    at com.documents4j.conversion.msoffice.MicrosoftWordBridge.startUp(MicrosoftWordBridge.java:46)\n    at com.documents4j.conversion.msoffice.MicrosoftWordBridge.&lt;init&gt;(MicrosoftWordBridge.java:41)\n    ... 101 more\n</code></pre>\n<p>The converter works just fine when you run it as process (by that I mean when I run Tomcat with startup.bat) . Regarding Task Scheduler -\nwhile &quot;Run whether user is logged on or not&quot; option is checked, the converter doesn't work, but with &quot;Run only when user is logged on&quot; the converter is working.</p>\n"},{"tags":["java","encoding","utf-8","character-encoding","cp1252"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1502262456,"post_id":45583702,"comment_id":78126493,"body_markdown":"_&quot;Please, provide the full function.&quot;_ -- Sorry, this is not a &quot;write the code for me&quot; site.  Please visit the [help] and read [ask] for details.","body":"<i>&quot;Please, provide the full function.&quot;</i> -- Sorry, this is not a &quot;write the code for me&quot; site.  Please visit the <a href=\"https://stackoverflow.com/help\">help center</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> for details."}],"answers":[{"tags":[],"owner":{"account_id":8192283,"reputation":724,"user_id":6826372,"accept_rate":75,"display_name":"Sandip Solanki"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1502262855,"creation_date":1502262696,"answer_id":45583896,"question_id":45583702,"body_markdown":"Here&#39;s a solution that avoids performing the Charset lookup for every conversion: \r\n\r\n    import java.nio.charset.Charset;\r\n    \r\n    private final Charset UTF8_CHARSET = Charset.forName(&quot;UTF-8&quot;);\r\n    \r\n    String decodeUTF8(byte[] bytes) {\r\n        return new String(bytes, UTF8_CHARSET);\r\n    }\r\n    \r\n    byte[] encodeUTF8(String string) {\r\n        return string.getBytes(UTF8_CHARSET);\r\n    }\r\n\r\nsecond approach : \r\n\r\nConvert from String to byte[]:\r\n\r\n    String s = &quot;some text here&quot;;\r\n    byte[] b = s.getBytes(&quot;UTF-8&quot;);\r\n\r\n   \r\n\r\n Convert from byte[] to String:\r\n\r\n    byte[] b = {(byte) 99, (byte)97, (byte)116};\r\n    String s = new String(b, &quot;US-ASCII&quot;);\r\n\r\nYou should, of course, use the correct encoding name. My examples used &quot;US-ASCII&quot; and &quot;UTF-8&quot;, the two most common encodings.","title":"Converting string from UTF-8 to ANSI and displaying it as UTF-8","body":"<p>Here's a solution that avoids performing the Charset lookup for every conversion: </p>\n\n<pre><code>import java.nio.charset.Charset;\n\nprivate final Charset UTF8_CHARSET = Charset.forName(\"UTF-8\");\n\nString decodeUTF8(byte[] bytes) {\n    return new String(bytes, UTF8_CHARSET);\n}\n\nbyte[] encodeUTF8(String string) {\n    return string.getBytes(UTF8_CHARSET);\n}\n</code></pre>\n\n<p>second approach : </p>\n\n<p>Convert from String to byte[]:</p>\n\n<pre><code>String s = \"some text here\";\nbyte[] b = s.getBytes(\"UTF-8\");\n</code></pre>\n\n<p>Convert from byte[] to String:</p>\n\n<pre><code>byte[] b = {(byte) 99, (byte)97, (byte)116};\nString s = new String(b, \"US-ASCII\");\n</code></pre>\n\n<p>You should, of course, use the correct encoding name. My examples used \"US-ASCII\" and \"UTF-8\", the two most common encodings.</p>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666368704,"creation_date":1666368704,"answer_id":74156432,"question_id":45583702,"body_markdown":"There is information lost in &quot;&#208;‘&#209;Š&#208;&#187;&#208;&#179;&#208;&#176;&#209;€&#209;_&#208;&#186;&#208;&quot;; there should be another character at &quot;_&quot;, but Cp1252 does not map any character to the byte value 0x81. That byte comes from encoding &quot;с&quot; to the byte sequence 0xD1 0x81. \r\n\r\nIt&#39;s possible that when you copy corrupted text directly from the source, an unprintable control code (the C1 code &quot;HOP&quot;, High Octet Preset) is included in the clipboard data, and Notepad++ gets the complete information. But this control character is probably getting lost when copied to other contexts like your Java IDE and this forum.\r\n\r\nThe original data need to be decoded as UTF-8, rather than erroneously converted to text under CP-1252, stripped of controls, and decoded again as UTF-8. When copy-and-pasting, where do you copy from? Why not read that file with UTF-8 instead of CP-1252?","title":"Converting string from UTF-8 to ANSI and displaying it as UTF-8","body":"<p>There is information lost in &quot;Ð‘ÑŠÐ»Ð³Ð°Ñ€Ñ_ÐºÐ&quot;; there should be another character at &quot;_&quot;, but Cp1252 does not map any character to the byte value 0x81. That byte comes from encoding &quot;с&quot; to the byte sequence 0xD1 0x81.</p>\n<p>It's possible that when you copy corrupted text directly from the source, an unprintable control code (the C1 code &quot;HOP&quot;, High Octet Preset) is included in the clipboard data, and Notepad++ gets the complete information. But this control character is probably getting lost when copied to other contexts like your Java IDE and this forum.</p>\n<p>The original data need to be decoded as UTF-8, rather than erroneously converted to text under CP-1252, stripped of controls, and decoded again as UTF-8. When copy-and-pasting, where do you copy from? Why not read that file with UTF-8 instead of CP-1252?</p>\n"}],"owner":{"account_id":9803411,"reputation":621,"user_id":7264030,"accept_rate":52,"display_name":"Angel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8742,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1679472245,"creation_date":1502262107,"question_id":45583702,"body_markdown":"I want to mimic with `Java` one thing I can do with `Notepad++`.\r\n\r\n    TEXT_2 = convert(TEXT_1) // where: TEXT_2 = &quot;Български&quot;, TEXT_1 = &quot;&#208;‘&#209;Š&#208;&#187;&#208;&#179;&#208;&#176;&#209;€&#209;&#208;&#186;&#208;&#184;&quot;\r\n\r\n\r\n&gt; How to do it with Notepad++\r\n\r\n**Setting the starting point...**\r\n\r\nOpen `Notepad++` and click: `Encoding / Encode in UTF-8`, then paste `TEXT_1`:\r\n\r\n    &#208;‘&#209;Š&#208;&#187;&#208;&#179;&#208;&#176;&#209;€&#209;&#208;&#186;&#208;&#184;\r\n\r\n**Getting TEXT_2**\r\n\r\nClick: `Encoding / Convert to ANSI`, then click: `Encoding / Encode in UTF-8`. Done.\r\n\r\n&gt; How to do it with Java\r\n\r\nSo far I have the following function (which works partially):\r\n\r\n    public static String convert(String text) {\r\n    \tString output = new String(Charset.forName(&quot;Cp1252&quot;).encode(text).array(), Charset.forName(&quot;UTF8&quot;));\r\n    \treturn output;\r\n    }\r\n    System.out.println(convert(&quot;&#208;‘&#209;Š&#208;&#187;&#208;&#179;&#208;&#176;&#209;€&#209;&#208;&#186;&#208;&#184;&quot;));\r\n\r\nWith this function I get:\r\n\r\n    Българ�?ки // where correct is slightly different: Български\r\n\r\nany idea to make it work?.\r\n\r\nIf possible, could you provide the code that would work inside the function `convert()`?. Thanks.\r\n","title":"Converting string from UTF-8 to ANSI and displaying it as UTF-8","body":"<p>I want to mimic with <code>Java</code> one thing I can do with <code>Notepad++</code>.</p>\n\n<pre><code>TEXT_2 = convert(TEXT_1) // where: TEXT_2 = \"Български\", TEXT_1 = \"Ð‘ÑŠÐ»Ð³Ð°Ñ€ÑÐºÐ¸\"\n</code></pre>\n\n<blockquote>\n  <p>How to do it with Notepad++</p>\n</blockquote>\n\n<p><strong>Setting the starting point...</strong></p>\n\n<p>Open <code>Notepad++</code> and click: <code>Encoding / Encode in UTF-8</code>, then paste <code>TEXT_1</code>:</p>\n\n<pre><code>Ð‘ÑŠÐ»Ð³Ð°Ñ€ÑÐºÐ¸\n</code></pre>\n\n<p><strong>Getting TEXT_2</strong></p>\n\n<p>Click: <code>Encoding / Convert to ANSI</code>, then click: <code>Encoding / Encode in UTF-8</code>. Done.</p>\n\n<blockquote>\n  <p>How to do it with Java</p>\n</blockquote>\n\n<p>So far I have the following function (which works partially):</p>\n\n<pre><code>public static String convert(String text) {\n    String output = new String(Charset.forName(\"Cp1252\").encode(text).array(), Charset.forName(\"UTF8\"));\n    return output;\n}\nSystem.out.println(convert(\"Ð‘ÑŠÐ»Ð³Ð°Ñ€ÑÐºÐ¸\"));\n</code></pre>\n\n<p>With this function I get:</p>\n\n<pre><code>Българ�?ки // where correct is slightly different: Български\n</code></pre>\n\n<p>any idea to make it work?.</p>\n\n<p>If possible, could you provide the code that would work inside the function <code>convert()</code>?. Thanks.</p>\n"},{"tags":["java","spring","ffmpeg","http-live-streaming","rtsp"],"answers":[{"tags":[],"owner":{"account_id":28083517,"reputation":1,"user_id":21454210,"display_name":"FredL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679472172,"creation_date":1679472172,"answer_id":75809683,"question_id":75207943,"body_markdown":"Try to put ffmpeg and ffprobe to project&#39;s root folder.\r\nThen you can use FFmpeg class without any rules or paths.\r\nJust like this:\r\n\r\n        public void doSmth() {\r\n           FFmpeg.atPath()\r\n            .addInput(UrlInput.fromUrl(&quot;&quot;))\r\n            .addOutput(\r\n                UrlOutput.toUrl(&quot;your MediaServer&#39;s url&quot;)\r\n            ).execute();\r\n        }\r\n\r\n","title":"How to output stream from camera(recording in RTSP) via FFmpeg (Kokorin Jaffree)","body":"<p>Try to put ffmpeg and ffprobe to project's root folder.\nThen you can use FFmpeg class without any rules or paths.\nJust like this:</p>\n<pre><code>    public void doSmth() {\n       FFmpeg.atPath()\n        .addInput(UrlInput.fromUrl(&quot;&quot;))\n        .addOutput(\n            UrlOutput.toUrl(&quot;your MediaServer's url&quot;)\n        ).execute();\n    }\n</code></pre>\n"}],"owner":{"account_id":27570895,"reputation":1,"user_id":21042120,"display_name":"Глеб К"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679472172,"creation_date":1674468107,"question_id":75207943,"body_markdown":"I&#39;m trying to reach watching live hls stream in browser based on rtsp-camera stream from java-client using Jafree library(https://github.com/kokorin/Jaffree).\r\n\r\nBut I could not execute the command due to a lack of FFmpeg rights(FFmpeg is installed in /usr/bin/ffmpeg)\r\n[Code](https://i.stack.imgur.com/3OFR8.png)\r\n\r\nAnd I also tried to execute this command from runtime:\r\n\r\n    sudo ffmpeg -fflags nobuffer  -rtsp_transport tcp  -i rtsp://my_url  -vsync 0  -copyts  -vcodec copy  -movflags frag_keyframe+empty_moov  -an  -hls_flags delete_segments+append_list  -f segment  -segment_list_flags live  -segment_time 1  -segment_list_size 3  -segment_format mpegts  -segment_list /temp/stream/index.m3u8  -segment_list_type m3u8  -segment_list_entry_prefix /stream/  /temp/stream/%d.ts\r\n\r\nI can execute it in the console and everything is ok, but on the browser I get CORS trying to access it.\r\n\r\n(https://i.stack.imgur.com/QUltG.png)\r\n\r\nCould you please share a way to achieve stream in the browser?","title":"How to output stream from camera(recording in RTSP) via FFmpeg (Kokorin Jaffree)","body":"<p>I'm trying to reach watching live hls stream in browser based on rtsp-camera stream from java-client using Jafree library(<a href=\"https://github.com/kokorin/Jaffree\" rel=\"nofollow noreferrer\">https://github.com/kokorin/Jaffree</a>).</p>\n<p>But I could not execute the command due to a lack of FFmpeg rights(FFmpeg is installed in /usr/bin/ffmpeg)\n<a href=\"https://i.stack.imgur.com/3OFR8.png\" rel=\"nofollow noreferrer\">Code</a></p>\n<p>And I also tried to execute this command from runtime:</p>\n<pre><code>sudo ffmpeg -fflags nobuffer  -rtsp_transport tcp  -i rtsp://my_url  -vsync 0  -copyts  -vcodec copy  -movflags frag_keyframe+empty_moov  -an  -hls_flags delete_segments+append_list  -f segment  -segment_list_flags live  -segment_time 1  -segment_list_size 3  -segment_format mpegts  -segment_list /temp/stream/index.m3u8  -segment_list_type m3u8  -segment_list_entry_prefix /stream/  /temp/stream/%d.ts\n</code></pre>\n<p>I can execute it in the console and everything is ok, but on the browser I get CORS trying to access it.</p>\n<p>(<a href=\"https://i.stack.imgur.com/QUltG.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/QUltG.png</a>)</p>\n<p>Could you please share a way to achieve stream in the browser?</p>\n"},{"tags":["java","android","xml"],"owner":{"account_id":20965621,"reputation":256,"user_id":15403976,"display_name":"Lasnik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679472002,"creation_date":1679419095,"question_id":75804446,"body_markdown":"I often see people having many different arrays in their `xml` files\r\n\r\n    &lt;string-array name=&quot;ids&quot;&gt;\r\n        &lt;item&gt;test_1&lt;/item&gt;\r\n        &lt;item&gt;test_2&lt;/item&gt;\r\n        &lt;item&gt;test_3&lt;/item&gt;\r\n    &lt;/string-array&gt;\r\n\r\n    &lt;string-array name=&quot;strings&quot;&gt;\r\n        &lt;item&gt;The first test&lt;/item&gt;\r\n        &lt;item&gt;The second tes&lt;/item&gt;\r\n        &lt;item&gt;The third test&lt;/item&gt;\r\n    &lt;/string-array&gt;\r\n    \r\n    &lt;array name=&quot;drawables&quot;&gt;\r\n        &lt;item&gt;@drawable/wallpaper1&lt;/item&gt;\r\n        &lt;item&gt;@drawable/wallpaper2&lt;/item&gt;\r\n        &lt;item&gt;@drawable/wallpaper3&lt;/item&gt;\r\n    &lt;/array&gt;\r\nThe items then get retrieved by their indexes: e.g. all items at the zeroth index from every list get combined.  \r\nI really don&#39;t think that this is well-arranged, especially for changing values and adding new ones, since you have that for every array accordingly.\r\n\r\nTo prevent that, I tried to have my own kind of &quot;class&quot; in a `declare-styleable` tag:\r\n\r\n    &lt;declare-styleable name=&quot;entry_holder&quot;&gt;\r\n        &lt;attr name=&quot;id&quot; format=&quot;reference&quot; /&gt;\r\n        &lt;attr name=&quot;string&quot; format=&quot;reference&quot; /&gt;\r\n        &lt;attr name=&quot;drawable&quot; format=&quot;reference&quot; /&gt;\r\n    &lt;/declare-styleable&gt;\r\n\r\nI then try to populate the array as follows:\r\n\r\n    &lt;array name=&quot;entry_holders&quot;&gt;\r\n        &lt;item&gt;\r\n            &lt;entry_holder id=&quot;test_1&quot; string=&quot;The first test&quot; drawable=&quot;@drawable/wallpaper&quot;/&gt;\r\n        &lt;/item&gt;\r\n        &lt;item&gt;\r\n            &lt;entry_holder id=&quot;test_2&quot; string=&quot;The second test&quot; drawable=&quot;@drawable/wallpaper&quot; /&gt;\r\n        &lt;/item&gt;\r\n        &lt;item&gt;\r\n            &lt;entry_holder id=&quot;test_3&quot; string=&quot;The third test&quot; drawable=&quot;@drawable/wallpaper&quot; /&gt;\r\n        &lt;/item&gt;\r\n    &lt;/array&gt;\r\n\r\nThis approach at least doesn&#39;t show any errors and I can run everything fine. But I am not able to retrieve the data I saved.\r\n\r\nI tried doing it with following approach: \r\n\r\n        TypedArray typedArray = getResources().obtainTypedArray(R.array.entry_holders);\r\n\r\n        for (int i = 0; i &lt; typedArray.length(); i++) {\r\n            int resourceId = typedArray.getResourceId(i, 0);\r\n            if (resourceId == 0) {\r\n                // handle error\r\n            } else {\r\n                entryHolders.add(new EntryHolder(getResources().getString(resourceId), getDrawable(resourceId)));\r\n            }\r\n\r\n        }\r\n        typedArray.recycle();\r\n\r\nThe problem is that `typedArray.getRessourceId(i, 0)` always returns `defValue` (in this case 0) no matter what I do.\r\n\r\nHow could I achieve requested behavior where I add a new entry with just one line of `xml`, is a &quot;class&quot; to hold items viable and possible or do I just have to create multiple arrays? ","title":"How can I have multiple attributes in one array item?","body":"<p>I often see people having many different arrays in their <code>xml</code> files</p>\n<pre><code>&lt;string-array name=&quot;ids&quot;&gt;\n    &lt;item&gt;test_1&lt;/item&gt;\n    &lt;item&gt;test_2&lt;/item&gt;\n    &lt;item&gt;test_3&lt;/item&gt;\n&lt;/string-array&gt;\n\n&lt;string-array name=&quot;strings&quot;&gt;\n    &lt;item&gt;The first test&lt;/item&gt;\n    &lt;item&gt;The second tes&lt;/item&gt;\n    &lt;item&gt;The third test&lt;/item&gt;\n&lt;/string-array&gt;\n\n&lt;array name=&quot;drawables&quot;&gt;\n    &lt;item&gt;@drawable/wallpaper1&lt;/item&gt;\n    &lt;item&gt;@drawable/wallpaper2&lt;/item&gt;\n    &lt;item&gt;@drawable/wallpaper3&lt;/item&gt;\n&lt;/array&gt;\n</code></pre>\n<p>The items then get retrieved by their indexes: e.g. all items at the zeroth index from every list get combined.<br />\nI really don't think that this is well-arranged, especially for changing values and adding new ones, since you have that for every array accordingly.</p>\n<p>To prevent that, I tried to have my own kind of &quot;class&quot; in a <code>declare-styleable</code> tag:</p>\n<pre><code>&lt;declare-styleable name=&quot;entry_holder&quot;&gt;\n    &lt;attr name=&quot;id&quot; format=&quot;reference&quot; /&gt;\n    &lt;attr name=&quot;string&quot; format=&quot;reference&quot; /&gt;\n    &lt;attr name=&quot;drawable&quot; format=&quot;reference&quot; /&gt;\n&lt;/declare-styleable&gt;\n</code></pre>\n<p>I then try to populate the array as follows:</p>\n<pre><code>&lt;array name=&quot;entry_holders&quot;&gt;\n    &lt;item&gt;\n        &lt;entry_holder id=&quot;test_1&quot; string=&quot;The first test&quot; drawable=&quot;@drawable/wallpaper&quot;/&gt;\n    &lt;/item&gt;\n    &lt;item&gt;\n        &lt;entry_holder id=&quot;test_2&quot; string=&quot;The second test&quot; drawable=&quot;@drawable/wallpaper&quot; /&gt;\n    &lt;/item&gt;\n    &lt;item&gt;\n        &lt;entry_holder id=&quot;test_3&quot; string=&quot;The third test&quot; drawable=&quot;@drawable/wallpaper&quot; /&gt;\n    &lt;/item&gt;\n&lt;/array&gt;\n</code></pre>\n<p>This approach at least doesn't show any errors and I can run everything fine. But I am not able to retrieve the data I saved.</p>\n<p>I tried doing it with following approach:</p>\n<pre><code>    TypedArray typedArray = getResources().obtainTypedArray(R.array.entry_holders);\n\n    for (int i = 0; i &lt; typedArray.length(); i++) {\n        int resourceId = typedArray.getResourceId(i, 0);\n        if (resourceId == 0) {\n            // handle error\n        } else {\n            entryHolders.add(new EntryHolder(getResources().getString(resourceId), getDrawable(resourceId)));\n        }\n\n    }\n    typedArray.recycle();\n</code></pre>\n<p>The problem is that <code>typedArray.getRessourceId(i, 0)</code> always returns <code>defValue</code> (in this case 0) no matter what I do.</p>\n<p>How could I achieve requested behavior where I add a new entry with just one line of <code>xml</code>, is a &quot;class&quot; to hold items viable and possible or do I just have to create multiple arrays?</p>\n"},{"tags":["java","eclipse","eclipse-plugin","font-size"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1512841976,"post_id":47731327,"comment_id":82423457,"body_markdown":"https://codeyarns.com/2014/11/03/how-to-set-font-and-font-size-of-eclipse-ui/","body":"<a href=\"https://codeyarns.com/2014/11/03/how-to-set-font-and-font-size-of-eclipse-ui/\" rel=\"nofollow noreferrer\">codeyarns.com/2014/11/03/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4835491,"reputation":4717,"user_id":3902339,"accept_rate":100,"display_name":"ArifMustafa"},"down_vote_count":2,"up_vote_count":30,"is_accepted":true,"score":28,"last_activity_date":1679471909,"creation_date":1512919281,"answer_id":47740263,"question_id":47731327,"body_markdown":"In Eclipse the font-sizes of the UI elements can be adjusted in the following preferences values:\r\n\r\n**Increase java editor font size**\r\n\r\n    Window Menu -&gt; Preferences -&gt; General &gt; Appearance &gt; Color and Fonts &gt; Java &gt; Java Editor Text Font &gt; Edit &amp; Apply\r\n\r\n\r\n**Increase console output font size**\r\n\r\n    Window Menu -&gt; Preferences -&gt; General &gt; Appearance &gt; Color and Fonts &gt; Debug &gt; Console font &gt; Edit &amp; Apply\r\n\r\n\r\n**Increase XML bean file font size**\r\n\r\n    Window Menu -&gt; Preferences -&gt; General &gt; Appearance &gt; Color and Fonts &gt; Basic &gt; Text Font &gt; Edit &amp; Apply\r\n\r\n\r\n**Increase dialog view font size**\r\n\r\n    Window Menu -&gt; Preferences -&gt; General &gt; Appearance &gt; Color and Fonts &gt; Basic &gt; Dialog Font &gt; Edit &amp; Apply\r\n\r\n\r\n**Increase project explorer tree view font size**\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf using Windows 7 or higher architecture, then reach to the Eclipse home directory, go inside of `eclipse\\plugins\\org.eclipse.ui.themes_X.X.X.vXXXXXXXX-XXXX\\css` directory,\r\nfind two css files which are `&quot;e4_default_gtk.css&quot;` and `&quot;e4_default_win.css&quot;`, open and add below said CSS script part in tail of above two files, save those and close accordingly:\r\n\r\n    .MPart Tree {\r\n        font-family: Consolas;\r\n        font-size: 14;\r\n    }\r\n\r\nIf Eclipse is opened, restart, it all worked for me on Eclipse oxygen.1a release version, and hope on other OS type, you have to edit the same `e4_default_gtk.css` and other `e4_default_os-type.css`.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xYI7S.jpg","title":"Change Project Explorer tree view font size in Eclipse Oxygen","body":"<p>In Eclipse the font-sizes of the UI elements can be adjusted in the following preferences values:</p>\n<p><strong>Increase java editor font size</strong></p>\n<pre><code>Window Menu -&gt; Preferences -&gt; General &gt; Appearance &gt; Color and Fonts &gt; Java &gt; Java Editor Text Font &gt; Edit &amp; Apply\n</code></pre>\n<p><strong>Increase console output font size</strong></p>\n<pre><code>Window Menu -&gt; Preferences -&gt; General &gt; Appearance &gt; Color and Fonts &gt; Debug &gt; Console font &gt; Edit &amp; Apply\n</code></pre>\n<p><strong>Increase XML bean file font size</strong></p>\n<pre><code>Window Menu -&gt; Preferences -&gt; General &gt; Appearance &gt; Color and Fonts &gt; Basic &gt; Text Font &gt; Edit &amp; Apply\n</code></pre>\n<p><strong>Increase dialog view font size</strong></p>\n<pre><code>Window Menu -&gt; Preferences -&gt; General &gt; Appearance &gt; Color and Fonts &gt; Basic &gt; Dialog Font &gt; Edit &amp; Apply\n</code></pre>\n<p><strong>Increase project explorer tree view font size</strong></p>\n<p><a href=\"https://i.stack.imgur.com/xYI7S.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xYI7S.jpg\" alt=\"enter image description here\" /></a></p>\n<p>If using Windows 7 or higher architecture, then reach to the Eclipse home directory, go inside of <code>eclipse\\plugins\\org.eclipse.ui.themes_X.X.X.vXXXXXXXX-XXXX\\css</code> directory,\nfind two css files which are <code>&quot;e4_default_gtk.css&quot;</code> and <code>&quot;e4_default_win.css&quot;</code>, open and add below said CSS script part in tail of above two files, save those and close accordingly:</p>\n<pre><code>.MPart Tree {\n    font-family: Consolas;\n    font-size: 14;\n}\n</code></pre>\n<p>If Eclipse is opened, restart, it all worked for me on Eclipse oxygen.1a release version, and hope on other OS type, you have to edit the same <code>e4_default_gtk.css</code> and other <code>e4_default_os-type.css</code>.</p>\n"},{"tags":[],"owner":{"account_id":13941889,"reputation":81,"user_id":10067538,"display_name":"Al Breight"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1531352685,"creation_date":1531352685,"answer_id":51295539,"question_id":47731327,"body_markdown":"I&#39;m using eclipse-neon on Ubuntu on Windows-10. The graphical interface is not supported by Microsoft at this time, but I have been using Eclipse Neon and it works decently enough. I added the following to the end of one file:  eclipse/plugins/org.eclipse.ui.themes_1.1.300.v20161107-1827/css/e4_default_gtk.css:\r\n\r\n    .MPart Tree {\r\n    font-family: Sans Regular;\r\n    font-size: 8;\r\n    }\r\n\r\nMy intent was to make the font smaller, and it worked successfully.","title":"Change Project Explorer tree view font size in Eclipse Oxygen","body":"<p>I'm using eclipse-neon on Ubuntu on Windows-10. The graphical interface is not supported by Microsoft at this time, but I have been using Eclipse Neon and it works decently enough. I added the following to the end of one file:  eclipse/plugins/org.eclipse.ui.themes_1.1.300.v20161107-1827/css/e4_default_gtk.css:</p>\n\n<pre><code>.MPart Tree {\nfont-family: Sans Regular;\nfont-size: 8;\n}\n</code></pre>\n\n<p>My intent was to make the font smaller, and it worked successfully.</p>\n"},{"tags":[],"owner":{"account_id":14548318,"reputation":1,"user_id":10507986,"display_name":"Michael Robinson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539618591,"creation_date":1539614357,"answer_id":52819207,"question_id":47731327,"body_markdown":"Thanks so much!  I can finally see the Eclipse Project Explorer clearly!\r\nI was able to change the project explorer tree font size by making the css file addition shown above in Windows 7 with Eclipse 2018-9 (4.9.0).  \r\n\r\nThe specific folder location I found was at: \r\n\r\n    C:\\Users\\myUserName\\.p2\\pool\\plugins\\org.eclipse.ui.themes_1.2.200.v20180828-1350\\css\r\n\r\nApparently, from my investigation of solving this problem the specific folder location varies based on different factors like Eclipse Version and OS.  \r\nSo I searched on the css file names to find the latest folder.  \r\n\r\nI had 7 eclipse themes folders on my workstation, I used the most recent one, corresponding to the specific install/update of Eclipse being currently used.","title":"Change Project Explorer tree view font size in Eclipse Oxygen","body":"<p>Thanks so much!  I can finally see the Eclipse Project Explorer clearly!\nI was able to change the project explorer tree font size by making the css file addition shown above in Windows 7 with Eclipse 2018-9 (4.9.0).  </p>\n\n<p>The specific folder location I found was at: </p>\n\n<pre><code>C:\\Users\\myUserName\\.p2\\pool\\plugins\\org.eclipse.ui.themes_1.2.200.v20180828-1350\\css\n</code></pre>\n\n<p>Apparently, from my investigation of solving this problem the specific folder location varies based on different factors like Eclipse Version and OS.<br>\nSo I searched on the css file names to find the latest folder.  </p>\n\n<p>I had 7 eclipse themes folders on my workstation, I used the most recent one, corresponding to the specific install/update of Eclipse being currently used.</p>\n"},{"tags":[],"owner":{"account_id":6651386,"reputation":391,"user_id":5133304,"display_name":"Luis Andres Giordano"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1539990799,"creation_date":1539990799,"answer_id":52900980,"question_id":47731327,"body_markdown":"Answer from [Al Breight][1] worked perfectly on Oxygen.3a Release (4.7.3a), Ubuntu 18.04. @pkeller comment (Oct 16 at 14:05) confirmed and solved editing &#39;Git Uncommited Change Font&#39; size option in *Window-&gt;Preferences-&gt;General-&gt;Appearance-&gt;Colors and Fonts*:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/51295539/5133304\r\n  [2]: https://i.stack.imgur.com/cSfTs.png","title":"Change Project Explorer tree view font size in Eclipse Oxygen","body":"<p>Answer from <a href=\"https://stackoverflow.com/a/51295539/5133304\">Al Breight</a> worked perfectly on Oxygen.3a Release (4.7.3a), Ubuntu 18.04. @pkeller comment (Oct 16 at 14:05) confirmed and solved editing 'Git Uncommited Change Font' size option in <em>Window->Preferences->General->Appearance->Colors and Fonts</em>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/cSfTs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cSfTs.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":6328959,"reputation":1,"user_id":4914444,"display_name":"Daehyun Jo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555309215,"creation_date":1555309215,"answer_id":55683493,"question_id":47731327,"body_markdown":"I&#39;m using Eclipse 2018-09 and could&#39;t found .css file similar gtk at Eclipe directory.&lt;br&gt;\r\nBut I discover custom css menu on Jeeyul&#39;s theme(plugin for Eclipse Color UI).&lt;br&gt;\r\nJust typing css style above comments. And apply and close.&lt;br&gt;\r\nIn the end, change UI style.&lt;br&gt;\r\n","title":"Change Project Explorer tree view font size in Eclipse Oxygen","body":"<p>I'm using Eclipse 2018-09 and could't found .css file similar gtk at Eclipe directory.<br>\nBut I discover custom css menu on Jeeyul's theme(plugin for Eclipse Color UI).<br>\nJust typing css style above comments. And apply and close.<br>\nIn the end, change UI style.<br></p>\n"},{"tags":[],"owner":{"account_id":5074628,"reputation":569,"user_id":4072407,"display_name":"villaa19"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1555952847,"creation_date":1555951946,"answer_id":55797954,"question_id":47731327,"body_markdown":"Thanks for the help. In my case, I use the Dark [Mac OS X] theme in Eclipse Photon on Windows 7, so the file I had to alter was `e4-dark_mac.css` in  `eclipse\\plugins\\org.eclipse.ui.themes_X.X.X.vXXXXXXXX-XXXX\\css`. Also the `.MPart Tree` was not in the file so I had to add it as opposed to editing it. I added right under another `.Mpart` entry so my file looked like below.\r\n\r\n    ...\r\n\r\n    .MpartStack, .Mpart {\r\n        font-family: &#39;#org-eclipse-ui-workbench-TAB_TEXT_FONT&#39;;\r\n    }\r\n    \r\n    .Mpart Tree {\r\n        font-size: 12;\r\n    }\r\n\r\n    ...\r\n\r\n        \r\n\r\n","title":"Change Project Explorer tree view font size in Eclipse Oxygen","body":"<p>Thanks for the help. In my case, I use the Dark [Mac OS X] theme in Eclipse Photon on Windows 7, so the file I had to alter was <code>e4-dark_mac.css</code> in  <code>eclipse\\plugins\\org.eclipse.ui.themes_X.X.X.vXXXXXXXX-XXXX\\css</code>. Also the <code>.MPart Tree</code> was not in the file so I had to add it as opposed to editing it. I added right under another <code>.Mpart</code> entry so my file looked like below.</p>\n\n<pre><code>...\n\n.MpartStack, .Mpart {\n    font-family: '#org-eclipse-ui-workbench-TAB_TEXT_FONT';\n}\n\n.Mpart Tree {\n    font-size: 12;\n}\n\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11965520,"reputation":327,"user_id":8755334,"display_name":"Ankit Fulzele"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1557263509,"creation_date":1557263509,"answer_id":56030531,"question_id":47731327,"body_markdown":"I have been searching this for every version of Eclipse and finally I got something which helped me to increase the font size and font type of of the project explorer.\r\n\r\n1.go to below path on your local environment\r\n\r\n**.p2 -&gt; pool -&gt; plugins -&gt; org.eclipse.ui.themes_(version) -&gt; css -&gt; e4_basestyle**\r\n\r\n2.paste below lines at the end of the file.\r\n\r\n    Tree {\r\n\t     font-size: 14px; /* &lt;-- Desired font size */\r\n         font: Consolas;  /* &lt;-- Font you want to have */\r\n    }\r\n\r\n3. Restart the eclipse\r\n4. You will get the new defined size and font in your project explorer of eclipse.\r\n\r\n\r\n**NOTE : I tried this on latest version of the eclipse on windows 10 and it worked for me. I did not tried on the previous version.**","title":"Change Project Explorer tree view font size in Eclipse Oxygen","body":"<p>I have been searching this for every version of Eclipse and finally I got something which helped me to increase the font size and font type of of the project explorer.</p>\n\n<p>1.go to below path on your local environment</p>\n\n<p><strong>.p2 -> pool -> plugins -> org.eclipse.ui.themes_(version) -> css -> e4_basestyle</strong></p>\n\n<p>2.paste below lines at the end of the file.</p>\n\n<pre><code>Tree {\n     font-size: 14px; /* &lt;-- Desired font size */\n     font: Consolas;  /* &lt;-- Font you want to have */\n}\n</code></pre>\n\n<ol start=\"3\">\n<li>Restart the eclipse</li>\n<li>You will get the new defined size and font in your project explorer of eclipse.</li>\n</ol>\n\n<p><strong>NOTE : I tried this on latest version of the eclipse on windows 10 and it worked for me. I did not tried on the previous version.</strong></p>\n"},{"tags":[],"owner":{"account_id":15285811,"reputation":253,"user_id":11028863,"display_name":"murtiko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1565258683,"creation_date":1565251123,"answer_id":57407837,"question_id":47731327,"body_markdown":"[Ankit Fulzele&#39;s answer][1] helped me with minor adjustments.\r\n\r\nI use Dark Theme on Mac and the following worked for me for Eclipse 2019-06:\r\n\r\nAdd the following lines to ~/.p2/pool/plugins/org.eclipse.ui.themes_{version}/css/**dark**/e4-dark_basestyle.css\r\n\r\n```\r\nTree {\r\n        font-family: &#39;#org-eclipse-ui-workbench-TAB_TEXT_FONT&#39;;\r\n}\r\n```\r\n\r\nInstead of setting a fixed font, this will pin it to whatever the &quot;Preferences -&gt; General -&gt; Appearance -&gt; Colors and Fonts -&gt; View and Editor Folders -&gt; Part title font&quot; is configured to.\r\n\r\nNote: It would make more sense to pin this to another setting, e.g. to &quot;Preferences -&gt; General -&gt; Appearance -&gt; Colors and Fonts -&gt; Basic -&gt; Text Font&quot;, but couldn&#39;t find the CSS reference for it.\r\n\r\nNote: This update will change not only the &quot;Project Explorer&quot; tab, but others as well.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/56030531/11028863","title":"Change Project Explorer tree view font size in Eclipse Oxygen","body":"<p><a href=\"https://stackoverflow.com/a/56030531/11028863\">Ankit Fulzele's answer</a> helped me with minor adjustments.</p>\n\n<p>I use Dark Theme on Mac and the following worked for me for Eclipse 2019-06:</p>\n\n<p>Add the following lines to ~/.p2/pool/plugins/org.eclipse.ui.themes_{version}/css/<strong>dark</strong>/e4-dark_basestyle.css</p>\n\n<pre><code>Tree {\n        font-family: '#org-eclipse-ui-workbench-TAB_TEXT_FONT';\n}\n</code></pre>\n\n<p>Instead of setting a fixed font, this will pin it to whatever the \"Preferences -> General -> Appearance -> Colors and Fonts -> View and Editor Folders -> Part title font\" is configured to.</p>\n\n<p>Note: It would make more sense to pin this to another setting, e.g. to \"Preferences -> General -> Appearance -> Colors and Fonts -> Basic -> Text Font\", but couldn't find the CSS reference for it.</p>\n\n<p>Note: This update will change not only the \"Project Explorer\" tab, but others as well.</p>\n"},{"tags":[],"owner":{"account_id":181832,"reputation":1454,"user_id":416104,"accept_rate":61,"display_name":"Cristiano"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1574340403,"creation_date":1574340403,"answer_id":58975448,"question_id":47731327,"body_markdown":"In my case using a MacBook 13&quot;, I had to edit the following file `/Users/myuser/.p2/pool/plugins/org.eclipse.ui.themes_1.2.800.v20191030-0746/css/e4-dark_mac1013.css`\r\n\r\nThen I searched for this existing item and added the `font-size` and `font-size-adjust`. Doing that prevents the tree line to be cropped:\r\n```\r\nCTabFolder Tree, CTabFolder Canvas {\r\n    background-color: #2F2F2F;\r\n    color: #CCC;\r\n    font-size-adjust: none;\r\n    font-size: 14px;\r\n}\r\n```","title":"Change Project Explorer tree view font size in Eclipse Oxygen","body":"<p>In my case using a MacBook 13\", I had to edit the following file <code>/Users/myuser/.p2/pool/plugins/org.eclipse.ui.themes_1.2.800.v20191030-0746/css/e4-dark_mac1013.css</code></p>\n\n<p>Then I searched for this existing item and added the <code>font-size</code> and <code>font-size-adjust</code>. Doing that prevents the tree line to be cropped:</p>\n\n<pre><code>CTabFolder Tree, CTabFolder Canvas {\n    background-color: #2F2F2F;\n    color: #CCC;\n    font-size-adjust: none;\n    font-size: 14px;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18474394,"reputation":1,"user_id":13458345,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588481364,"creation_date":1588481364,"answer_id":61569762,"question_id":47731327,"body_markdown":"\r\nECLIPSE FONT CHANGE - Change below to 2 css files.\r\n\r\n&gt; eclipse/plugins/org.eclipse.ui.themes_x.x.x.vxxxxx/css/e4_basesetyle.css\r\n&gt; eclipse/plugins/org.eclipse.ui.themes_x.x.x.vxxxxx/css/dark/e4-dark_globalstyle.css\r\n\r\n    #org-eclipse-jdt-ui-PackageExplorer Tree,\r\n    #org-eclipse-ui-navigator-ProjectExplorer Tree {\r\n        font-size: 10px; /* &lt;-- Desired font size */\r\n        font: Consolas;  /* &lt;-- Font you want to have */\r\n    }\r\n\r\nand change preference -&gt; General &gt; Appearance &gt; Colors and Fonts &gt; Basic &gt; Text Font : Consolas 12px\r\n","title":"Change Project Explorer tree view font size in Eclipse Oxygen","body":"<p>ECLIPSE FONT CHANGE - Change below to 2 css files.</p>\n\n<blockquote>\n  <p>eclipse/plugins/org.eclipse.ui.themes_x.x.x.vxxxxx/css/e4_basesetyle.css\n  eclipse/plugins/org.eclipse.ui.themes_x.x.x.vxxxxx/css/dark/e4-dark_globalstyle.css</p>\n</blockquote>\n\n<pre><code>#org-eclipse-jdt-ui-PackageExplorer Tree,\n#org-eclipse-ui-navigator-ProjectExplorer Tree {\n    font-size: 10px; /* &lt;-- Desired font size */\n    font: Consolas;  /* &lt;-- Font you want to have */\n}\n</code></pre>\n\n<p>and change preference -> General > Appearance > Colors and Fonts > Basic > Text Font : Consolas 12px</p>\n"},{"tags":[],"owner":{"account_id":18959780,"reputation":1,"user_id":13835582,"display_name":"Jasminder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593447855,"creation_date":1593447855,"answer_id":62642513,"question_id":47731327,"body_markdown":"To increase font size of eclipse project explorer window for eclipse 2020-06.\r\n\r\nFirst check the theme, you are using in the eclipse from preferences.Increase the value of below property for that theme. For example, if you are using **light** theme.\r\n\r\nIn file:\r\n/Applications/Eclipse.app/Contents/Eclipse/plugins/org.eclipse.ui.themes_1.2.1000.v20200528-1125/css/**light**/e4-light_partstyle.css,  \r\n\r\nAdd property if missing or if it is already present, just increase value of font size.\r\n\r\n    .MPart Tree {\r\n        font-size: 13;\r\n    }","title":"Change Project Explorer tree view font size in Eclipse Oxygen","body":"<p>To increase font size of eclipse project explorer window for eclipse 2020-06.</p>\n<p>First check the theme, you are using in the eclipse from preferences.Increase the value of below property for that theme. For example, if you are using <strong>light</strong> theme.</p>\n<p>In file:\n/Applications/Eclipse.app/Contents/Eclipse/plugins/org.eclipse.ui.themes_1.2.1000.v20200528-1125/css/<strong>light</strong>/e4-light_partstyle.css,</p>\n<p>Add property if missing or if it is already present, just increase value of font size.</p>\n<pre><code>.MPart Tree {\n    font-size: 13;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4243,"reputation":1301840,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":64,"is_accepted":false,"score":64,"last_activity_date":1594397551,"creation_date":1594397551,"answer_id":62838294,"question_id":47731327,"body_markdown":"There is now (Eclipse 4.17, July 2020) an [official setting][1]:\r\n\r\n&gt; The font used for tree and table views can now be customized with a font preference. This preference is called &quot;Tree and Table font for views&quot; and can be found in Window &gt; Preferences &gt; General &gt; Appearance &gt; Colors and Fonts under the &quot;View and Editor Folders&quot; category.\r\n\r\n[![https://www.eclipse.org/eclipse/news/4.17/images/adjustable-view-font-preference.png][2]][2]\r\n\r\n&gt; The Project Explorer is an example of a view that gets affected by this font preference.\r\n\r\n[![https://www.eclipse.org/eclipse/news/4.17/images/adjustable-view-font.png][3]][3]\r\n\r\n\r\n  [1]: https://www.eclipse.org/eclipse/news/4.17/platform.php#ViewsAndDialogs\r\n  [2]: https://i.stack.imgur.com/ReAmj.png\r\n  [3]: https://i.stack.imgur.com/5UCI4.png","title":"Change Project Explorer tree view font size in Eclipse Oxygen","body":"<p>There is now (Eclipse 4.17, July 2020) an <a href=\"https://www.eclipse.org/eclipse/news/4.17/platform.php#ViewsAndDialogs\" rel=\"noreferrer\">official setting</a>:</p>\n<blockquote>\n<p>The font used for tree and table views can now be customized with a font preference. This preference is called &quot;Tree and Table font for views&quot; and can be found in Window &gt; Preferences &gt; General &gt; Appearance &gt; Colors and Fonts under the &quot;View and Editor Folders&quot; category.</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/ReAmj.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ReAmj.png\" alt=\"https://www.eclipse.org/eclipse/news/4.17/images/adjustable-view-font-preference.png\" /></a></p>\n<blockquote>\n<p>The Project Explorer is an example of a view that gets affected by this font preference.</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/5UCI4.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5UCI4.png\" alt=\"https://www.eclipse.org/eclipse/news/4.17/images/adjustable-view-font.png\" /></a></p>\n"},{"tags":[],"owner":{"account_id":201558,"reputation":20189,"user_id":448078,"accept_rate":61,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611849583,"creation_date":1611849275,"answer_id":65940634,"question_id":47731327,"body_markdown":"Eclipse Project/Package explorer, Outline window are using OS default font for labels.  \r\nFor Win 7+ go to _Control Panel\\Appearance and Personalization\\Personalization_ click _&#39;Window Color&#39;_ to start _**&#39;Window Color and Appearance&#39;**_ dialog.\r\nIncrease _**&#39;Message Box&#39;**_ font.  \r\nAs a bonus you&#39;ll have other programs pop-ups more user friendly most likely you are using large display if you bother with eclipse project explorer font.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nEclipse restart required\r\n\r\n  [1]: https://i.stack.imgur.com/plKQT.png","title":"Change Project Explorer tree view font size in Eclipse Oxygen","body":"<p>Eclipse Project/Package explorer, Outline window are using OS default font for labels.<br />\nFor Win 7+ go to <em>Control Panel\\Appearance and Personalization\\Personalization</em> click <em>'Window Color'</em> to start <em><strong>'Window Color and Appearance'</strong></em> dialog.\nIncrease <em><strong>'Message Box'</strong></em> font.<br />\nAs a bonus you'll have other programs pop-ups more user friendly most likely you are using large display if you bother with eclipse project explorer font.</p>\n<p><a href=\"https://i.stack.imgur.com/plKQT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/plKQT.png\" alt=\"enter image description here\" /></a></p>\n<p>Eclipse restart required</p>\n"},{"tags":[],"owner":{"account_id":1478876,"reputation":1042,"user_id":1388639,"display_name":"Malcolm Boekhoff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620179219,"creation_date":1620179219,"answer_id":67394183,"question_id":47731327,"body_markdown":"1. The changes to the &quot;.css&quot; files don&#39;t work, if you have disabled &quot;theming&quot;, during your efforts to alter the font size (&quot;Settings.General.Appearance.Enalbe theming (requires restart)&quot; (I mean, I found during my efforts :)\r\n\r\n2. To cover all bases and &quot;themes_*versions*&quot;, rather than hit and miss the right css file, change all &quot;.css&quot; files (find eclipse/plugins -name &#39;\\*.css&#39;) and add &quot;\\* { font-size:7; }&quot; at the end of every file. Specify your size, and font-family as well if you like.\r\n\r\nWorks on: Version: 2019-09 R (4.13.0) / Build id: 20190917-1200\r\n","title":"Change Project Explorer tree view font size in Eclipse Oxygen","body":"<ol>\n<li><p>The changes to the &quot;.css&quot; files don't work, if you have disabled &quot;theming&quot;, during your efforts to alter the font size (&quot;Settings.General.Appearance.Enalbe theming (requires restart)&quot; (I mean, I found during my efforts :)</p>\n</li>\n<li><p>To cover all bases and &quot;themes_<em>versions</em>&quot;, rather than hit and miss the right css file, change all &quot;.css&quot; files (find eclipse/plugins -name '*.css') and add &quot;* { font-size:7; }&quot; at the end of every file. Specify your size, and font-family as well if you like.</p>\n</li>\n</ol>\n<p>Works on: Version: 2019-09 R (4.13.0) / Build id: 20190917-1200</p>\n"},{"tags":[],"owner":{"account_id":13603498,"reputation":188,"user_id":9813464,"display_name":"Ash"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1636744157,"creation_date":1636744157,"answer_id":69947949,"question_id":47731327,"body_markdown":"Go to Preferences -&gt; (search for) Fonts -&gt; View and Editor Folders -&gt; (select the last option) Tree and Table font for views -&gt; Edit (left hand side) -&gt; and change the font size.\r\n","title":"Change Project Explorer tree view font size in Eclipse Oxygen","body":"<p>Go to Preferences -&gt; (search for) Fonts -&gt; View and Editor Folders -&gt; (select the last option) Tree and Table font for views -&gt; Edit (left hand side) -&gt; and change the font size.</p>\n"},{"tags":[],"owner":{"account_id":3658649,"reputation":1521,"user_id":3049036,"accept_rate":57,"display_name":"Suresh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645516876,"creation_date":1645516876,"answer_id":71217758,"question_id":47731327,"body_markdown":"I&#39;m using eclipse 2019-06 (4.12.0) version and I didn&#39;t find this path (`eclipse\\plugins\\org.eclipse.ui.themes_X.X.X.vXXXXXXXX-XXXX\\css`), instead I went to the path shown in the below pic with selected folders named `org.eclipse.ui.themes_1.2.600.v20190513-0458` and `org.eclipse.ui.themes_1.2.1400.v20210315-1604`\r\n[![enter image description here][1]][1]\r\n  \r\n  \r\n  \r\nUnder `themes_1.2.600.v20190513-0458` folder, go into `css` folder\r\n\r\n[![themes_1.2.600.v20190513-0458][2]][2]\r\n\r\n\r\n  \r\nNow you can change the selected css files selected here in the below pic.\r\n[![enter image description here][3]][3]\r\n\r\nAdd the property highlighted in the below pic for both the css files, save the files, restart eclipse and viola we are done with the font change.\r\n\r\nNote: You can either change to small font or big font depending on your choice by changing the font size number.\r\n\r\n    .MPart Tree {\r\n        font-size: 14;\r\n    }\r\n\r\n[![enter image description here][4]][4]\r\n  \r\n\r\nBefore Change:\r\n\r\n[![enter image description here][5]][5]\r\n\r\n  \r\nAfter Change:\r\n\r\n[![enter image description here][6]][6]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oxgB0.png\r\n  [2]: https://i.stack.imgur.com/aOPVQ.png\r\n  [3]: https://i.stack.imgur.com/C01to.png\r\n  [4]: https://i.stack.imgur.com/eTW0q.png\r\n  [5]: https://i.stack.imgur.com/fo7DR.png\r\n  [6]: https://i.stack.imgur.com/BGR99.png","title":"Change Project Explorer tree view font size in Eclipse Oxygen","body":"<p>I'm using eclipse 2019-06 (4.12.0) version and I didn't find this path (<code>eclipse\\plugins\\org.eclipse.ui.themes_X.X.X.vXXXXXXXX-XXXX\\css</code>), instead I went to the path shown in the below pic with selected folders named <code>org.eclipse.ui.themes_1.2.600.v20190513-0458</code> and <code>org.eclipse.ui.themes_1.2.1400.v20210315-1604</code>\n<a href=\"https://i.stack.imgur.com/oxgB0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oxgB0.png\" alt=\"enter image description here\" /></a></p>\n<p>Under <code>themes_1.2.600.v20190513-0458</code> folder, go into <code>css</code> folder</p>\n<p><a href=\"https://i.stack.imgur.com/aOPVQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aOPVQ.png\" alt=\"themes_1.2.600.v20190513-0458\" /></a></p>\n<p>Now you can change the selected css files selected here in the below pic.\n<a href=\"https://i.stack.imgur.com/C01to.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C01to.png\" alt=\"enter image description here\" /></a></p>\n<p>Add the property highlighted in the below pic for both the css files, save the files, restart eclipse and viola we are done with the font change.</p>\n<p>Note: You can either change to small font or big font depending on your choice by changing the font size number.</p>\n<pre><code>.MPart Tree {\n    font-size: 14;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/eTW0q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eTW0q.png\" alt=\"enter image description here\" /></a></p>\n<p>Before Change:</p>\n<p><a href=\"https://i.stack.imgur.com/fo7DR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fo7DR.png\" alt=\"enter image description here\" /></a></p>\n<p>After Change:</p>\n<p><a href=\"https://i.stack.imgur.com/BGR99.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BGR99.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":4835491,"reputation":4717,"user_id":3902339,"accept_rate":100,"display_name":"ArifMustafa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48859,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":47740263,"answer_count":16,"score":40,"last_activity_date":1679471909,"creation_date":1512841233,"question_id":47731327,"body_markdown":"I am using Eclipse Version: Oxygen.1a Release (4.7.1a) and I want to enlarge the Project Explorer tree view font size because I have some sight issues and thus I searched many places to enlarge the project tree view font size.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI only founded the font change in project explorer tree view for older eclipse versions releases which are older or equal to Eclipse Luna version.\r\n\r\nFor the information I would like to say that this Oxygen version release is latest in Eclipse IDE. \r\n\r\n  [1]: https://i.stack.imgur.com/ujscO.jpg","title":"Change Project Explorer tree view font size in Eclipse Oxygen","body":"<p>I am using Eclipse Version: Oxygen.1a Release (4.7.1a) and I want to enlarge the Project Explorer tree view font size because I have some sight issues and thus I searched many places to enlarge the project tree view font size.</p>\n<p><a href=\"https://i.stack.imgur.com/ujscO.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ujscO.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I only founded the font change in project explorer tree view for older eclipse versions releases which are older or equal to Eclipse Luna version.</p>\n<p>For the information I would like to say that this Oxygen version release is latest in Eclipse IDE.</p>\n"},{"tags":["java","android","android-room"],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679471759,"creation_date":1679467817,"answer_id":75809139,"question_id":75808973,"body_markdown":"**Issue 1**\r\n\r\nThe issue causing *must be annotated with @Entity* is because you are specifying **`UserDao`** as a table in the list of entities. So instead of:-\r\n\r\n    entities = {\r\n                    UserDao.class\r\n            }\r\nUse :-\r\n\r\n    entities = {\r\n                    User.class\r\n            }\r\n\r\ni.e. the entity not the dao.\r\n\r\n\r\n**Issue 2**\r\n\r\nThe next issue is that you have specified multiple Primary keys, there can only be 1.\r\n\r\n    error: You cannot have multiple primary keys defined in an Entity. If you want to declare a composite primary key, you should use @Entity#primaryKeys and not use @PrimaryKey. Defined Primary Keys: PrimaryKey[id], PrimaryKey[user_code]\r\n\r\nSo perhaps :-\r\n\r\n    //@PrimaryKey(autoGenerate = true) /*,&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; COMMENTED OUT can&#39;t have 2 primary keys*/\r\n    private String user_code;\r\n\r\n- i.e. comment out the second primary key. \r\n\r\n\r\n**Issue 3**\r\n\r\nYou will then get \r\n\r\n    error: If a primary key is annotated with autoGenerate, its type must be int, Integer, long or Long.\r\n\r\nSo perhaps;-\r\n\r\n    @PrimaryKey/*(autoGenerate = true)*/\r\n    private String id;\r\n\r\n**Issue 4**\r\n\r\nThen :-\r\n\r\n    error: You must annotate primary keys with @NonNull. &quot;id&quot; is nullable. SQLite considers this a bug and Room does not allow it. See SQLite docs for details: https://www.sqlite.org/lang_createtable.html\r\n    private String id;\r\n\r\n:-\r\n\r\n    @NonNull\r\n    @PrimaryKey/*(autoGenerate = true)*/\r\n    private String id;\r\n\r\n\r\n**Issue 5**\r\n\r\nNext you will get:-\r\n\r\n    Entities and POJOs must have a usable public constructor. You can have an empty constructor or a constructor whose parameters match the fields (by name and type).\r\n\r\nThis is because none of the constructors handles the expectation of building a Byte from a String as per:-\r\n\r\n    @Query(&quot;SELECT DISTINCT id FROM userUi&quot;)\r\n    List&lt;Byte&gt; getIds();\r\n\r\nUse :-\r\n\r\n    @Query(&quot;SELECT DISTINCT id FROM userUi&quot;)\r\n    List&lt;String&gt; getIds();\r\n\r\n\r\nAnd then the project will compile successfully.\r\n\r\nIf you want user_code to be unique then you can use:-\r\n\r\n    @Entity(tableName = &quot;userUi&quot;, indices = {@Index(value = {&quot;user_code&quot;}, unique = true)})\r\n\r\n\r\n\r\n\r\n\r\n","title":"Problem when try to build Room Database rising so many errors","body":"<p><strong>Issue 1</strong></p>\n<p>The issue causing <em>must be annotated with @Entity</em> is because you are specifying <strong><code>UserDao</code></strong> as a table in the list of entities. So instead of:-</p>\n<pre><code>entities = {\n                UserDao.class\n        }\n</code></pre>\n<p>Use :-</p>\n<pre><code>entities = {\n                User.class\n        }\n</code></pre>\n<p>i.e. the entity not the dao.</p>\n<p><strong>Issue 2</strong></p>\n<p>The next issue is that you have specified multiple Primary keys, there can only be 1.</p>\n<pre><code>error: You cannot have multiple primary keys defined in an Entity. If you want to declare a composite primary key, you should use @Entity#primaryKeys and not use @PrimaryKey. Defined Primary Keys: PrimaryKey[id], PrimaryKey[user_code]\n</code></pre>\n<p>So perhaps :-</p>\n<pre><code>//@PrimaryKey(autoGenerate = true) /*,&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; COMMENTED OUT can't have 2 primary keys*/\nprivate String user_code;\n</code></pre>\n<ul>\n<li>i.e. comment out the second primary key.</li>\n</ul>\n<p><strong>Issue 3</strong></p>\n<p>You will then get</p>\n<pre><code>error: If a primary key is annotated with autoGenerate, its type must be int, Integer, long or Long.\n</code></pre>\n<p>So perhaps;-</p>\n<pre><code>@PrimaryKey/*(autoGenerate = true)*/\nprivate String id;\n</code></pre>\n<p><strong>Issue 4</strong></p>\n<p>Then :-</p>\n<pre><code>error: You must annotate primary keys with @NonNull. &quot;id&quot; is nullable. SQLite considers this a bug and Room does not allow it. See SQLite docs for details: https://www.sqlite.org/lang_createtable.html\nprivate String id;\n</code></pre>\n<p>:-</p>\n<pre><code>@NonNull\n@PrimaryKey/*(autoGenerate = true)*/\nprivate String id;\n</code></pre>\n<p><strong>Issue 5</strong></p>\n<p>Next you will get:-</p>\n<pre><code>Entities and POJOs must have a usable public constructor. You can have an empty constructor or a constructor whose parameters match the fields (by name and type).\n</code></pre>\n<p>This is because none of the constructors handles the expectation of building a Byte from a String as per:-</p>\n<pre><code>@Query(&quot;SELECT DISTINCT id FROM userUi&quot;)\nList&lt;Byte&gt; getIds();\n</code></pre>\n<p>Use :-</p>\n<pre><code>@Query(&quot;SELECT DISTINCT id FROM userUi&quot;)\nList&lt;String&gt; getIds();\n</code></pre>\n<p>And then the project will compile successfully.</p>\n<p>If you want user_code to be unique then you can use:-</p>\n<pre><code>@Entity(tableName = &quot;userUi&quot;, indices = {@Index(value = {&quot;user_code&quot;}, unique = true)})\n</code></pre>\n"}],"owner":{"account_id":17579563,"reputation":500,"user_id":12753633,"display_name":"Manuel Lucas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75809139,"answer_count":1,"score":1,"last_activity_date":1679471759,"creation_date":1679466171,"question_id":75808973,"body_markdown":"I was developing some simple app, which make use of Room library to create a database to keep info regarding an User model class.\r\n\r\nMy problem is I&#39;m getting several error when I try to build the database like the following:\r\n\r\n`````````````````````````````````````````````````````````````````````````````````````\r\nerror: Entity class must be annotated with @Entity\r\n\r\nerror: Entities and POJOs must have a usable public constructor. You can have an empty constructor or a constructor whose parameters match the fields (by name and type).\r\n\r\nerror: An entity must have at least 1 field annotated with @PrimaryKey\r\n\r\nerror: [SQLITE_ERROR] SQL error or missing database (near &quot;)&quot;: syntax error)\r\n\r\nerror: There is a problem with the query: [SQLITE_ERROR] SQL error or missing database (no such table: userUi)\r\n\r\n`````````````````````````````````````````````````````````````````````````````````````\r\n\r\nRegarding my class are this:\r\n\r\nUserDao.java\r\n\r\n````````````````````````````````````````````````````````````````````````````````````````\r\n@Dao\r\npublic interface UserDao {\r\n\r\n    @Insert\r\n    void insert(User userUi);\r\n\r\n    @Query(&quot;SELECT DISTINCT id FROM userUi&quot;)\r\n    List&lt;Byte&gt; getIds();\r\n\r\n    @Query(&quot;SELECT DISTINCT agency_id FROM userUi&quot;)\r\n    List&lt;String&gt; getAgencyIds();\r\n\r\n    @Query(&quot;SELECT DISTINCT user_id FROM userUi&quot;)\r\n    List&lt;String&gt; getUserIds();\r\n\r\n    @Query(&quot;SELECT DISTINCT user_code FROM userUi&quot;)\r\n    List&lt;String&gt; getUserCodes();\r\n\r\n    @Query(&quot;SELECT DISTINCT user_name FROM userUi&quot;)\r\n    List&lt;String&gt; getUserNames();\r\n\r\n    @Query(&quot;SELECT DISTINCT profile FROM userUi&quot;)\r\n    List&lt;String&gt; getProfiles();\r\n\r\n    @Query(&quot;SELECT COUNT(*) FROM userUi WHERE agency_id=:agency_id&quot;)\r\n    Integer getCountByAgencyId(int agency_id);\r\n\r\n}\r\n\r\n````````````````````````````````````````````````````````````````````````````````````````\r\n\r\nUser.java\r\n\r\n`````````````````````````````````````````````````````````````````````````````````````````\r\n\r\n@Entity(tableName = &quot;userUi&quot;, indices = {@Index(value = {&quot;user_code&quot;})})\r\npublic class User {\r\n    @PrimaryKey(autoGenerate = true)\r\n    private String id;\r\n\r\n    @ColumnInfo(name=&quot;agency_id&quot;)\r\n    private String agency_id;\r\n\r\n    @ColumnInfo(name=&quot;user_id&quot;)\r\n    private String user_id;\r\n\r\n    @PrimaryKey(autoGenerate = true)\r\n    private String user_code;\r\n\r\n    @ColumnInfo(name=&quot;password&quot;)\r\n    private String password;\r\n\r\n    @ColumnInfo(name=&quot;csc_authenticable&quot;)\r\n    private String csc_authenticable;\r\n\r\n    @ColumnInfo(name=&quot;equipment_type&quot;)\r\n    private String equipment_type;\r\n\r\n    @ColumnInfo(name = &quot;equipment_subtype&quot;)\r\n    public String equipment_subtype;\r\n\r\n    @ColumnInfo(name = &quot;profile&quot;)\r\n    public String profile;\r\n\r\n    @ColumnInfo(name = &quot;user_name&quot;)\r\n    public String user_name;\r\n\r\n    public User(String id, String agency_id, String user_code, String password, String csc_authenticable, String equipment_type, String equipment_subtype, String profile, String user_name) {\r\n        this.id = id;\r\n        this.agency_id = agency_id;\r\n        this.user_code = user_code;\r\n        this.password = password;\r\n        this.csc_authenticable = csc_authenticable;\r\n        this.equipment_type = equipment_type;\r\n        this.equipment_subtype=equipment_subtype;\r\n        this.profile = profile;\r\n        this.user_name = user_name;\r\n    }\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public String getAgency_id() {\r\n        return agency_id;\r\n    }\r\n\r\n    public String getUser_id() {\r\n        return user_id;\r\n    }\r\n\r\n    public String getUser_code() {\r\n        return user_code;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public String getCsc_authenticable() {\r\n        return csc_authenticable;\r\n    }\r\n\r\n    public String getEquipment_type() {\r\n        return equipment_type;\r\n    }\r\n\r\n    public String getEquipment_subtype() {\r\n        return equipment_subtype;\r\n    }\r\n\r\n    public String getProfile() {\r\n        return profile;\r\n    }\r\n\r\n    public String getUser_name() {\r\n        return user_name;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public void setAgency_id(String agency_id) {\r\n        this.agency_id = agency_id;\r\n    }\r\n\r\n    public void setUser_id(String user_id) {\r\n        this.user_id = user_id;\r\n    }\r\n\r\n    public void setUser_code(String user_code) {\r\n        this.user_code = user_code;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n    public void setCsc_authenticable(String csc_authenticable) {\r\n        this.csc_authenticable = csc_authenticable;\r\n    }\r\n\r\n    public void setEquipment_type(String equipment_type) {\r\n        this.equipment_type = equipment_type;\r\n    }\r\n\r\n    public void setEquipment_subtype(String equipment_subtype) {\r\n        this.equipment_subtype = equipment_subtype;\r\n    }\r\n\r\n    public void setProfile(String profile) {\r\n        this.profile = profile;\r\n    }\r\n\r\n    public void setUser_name(String user_name) {\r\n        this.user_name = user_name;\r\n    }\r\n}\r\n\r\n`````````````````````````````````````````````````````````````````````````````````````````\r\n\r\nDatabase.java \r\n\r\n`````````````````````````````````````````````````````````````````````````````````````````\r\n\r\n@androidx.room.Database(\r\n        entities = {\r\n                UserDao.class\r\n        },\r\n        version = 6\r\n)\r\n\r\n@TypeConverters({DateConverter.class})\r\npublic abstract class Database extends RoomDatabase {\r\n\r\n    public static Database buildDataBase(final Context context){\r\n        return Room.databaseBuilder(\r\n                context,\r\n                Database.class,\r\n                AppConstant.DB_NAME)\r\n                .allowMainThreadQueries().setJournalMode(RoomDatabase.JournalMode.TRUNCATE)\r\n                .fallbackToDestructiveMigration().build();\r\n    }\r\n\r\n    public abstract UserDao userUiContractDaoDAO();\r\n\r\n\r\n}\r\n\r\n`````````````````````````````````````````````````````````````````````````````````````````\r\n\r\nSo, I don&#39;t know what it&#39;s rising so many errors, but if you can see something I&#39;m missing or doing wrong, take thanks in advance !","title":"Problem when try to build Room Database rising so many errors","body":"<p>I was developing some simple app, which make use of Room library to create a database to keep info regarding an User model class.</p>\n<p>My problem is I'm getting several error when I try to build the database like the following:</p>\n<pre><code>error: Entity class must be annotated with @Entity\n\nerror: Entities and POJOs must have a usable public constructor. You can have an empty constructor or a constructor whose parameters match the fields (by name and type).\n\nerror: An entity must have at least 1 field annotated with @PrimaryKey\n\nerror: [SQLITE_ERROR] SQL error or missing database (near &quot;)&quot;: syntax error)\n\nerror: There is a problem with the query: [SQLITE_ERROR] SQL error or missing database (no such table: userUi)\n\n</code></pre>\n<p>Regarding my class are this:</p>\n<p>UserDao.java</p>\n<pre><code>@Dao\npublic interface UserDao {\n\n    @Insert\n    void insert(User userUi);\n\n    @Query(&quot;SELECT DISTINCT id FROM userUi&quot;)\n    List&lt;Byte&gt; getIds();\n\n    @Query(&quot;SELECT DISTINCT agency_id FROM userUi&quot;)\n    List&lt;String&gt; getAgencyIds();\n\n    @Query(&quot;SELECT DISTINCT user_id FROM userUi&quot;)\n    List&lt;String&gt; getUserIds();\n\n    @Query(&quot;SELECT DISTINCT user_code FROM userUi&quot;)\n    List&lt;String&gt; getUserCodes();\n\n    @Query(&quot;SELECT DISTINCT user_name FROM userUi&quot;)\n    List&lt;String&gt; getUserNames();\n\n    @Query(&quot;SELECT DISTINCT profile FROM userUi&quot;)\n    List&lt;String&gt; getProfiles();\n\n    @Query(&quot;SELECT COUNT(*) FROM userUi WHERE agency_id=:agency_id&quot;)\n    Integer getCountByAgencyId(int agency_id);\n\n}\n\n</code></pre>\n<p>User.java</p>\n<pre><code>\n@Entity(tableName = &quot;userUi&quot;, indices = {@Index(value = {&quot;user_code&quot;})})\npublic class User {\n    @PrimaryKey(autoGenerate = true)\n    private String id;\n\n    @ColumnInfo(name=&quot;agency_id&quot;)\n    private String agency_id;\n\n    @ColumnInfo(name=&quot;user_id&quot;)\n    private String user_id;\n\n    @PrimaryKey(autoGenerate = true)\n    private String user_code;\n\n    @ColumnInfo(name=&quot;password&quot;)\n    private String password;\n\n    @ColumnInfo(name=&quot;csc_authenticable&quot;)\n    private String csc_authenticable;\n\n    @ColumnInfo(name=&quot;equipment_type&quot;)\n    private String equipment_type;\n\n    @ColumnInfo(name = &quot;equipment_subtype&quot;)\n    public String equipment_subtype;\n\n    @ColumnInfo(name = &quot;profile&quot;)\n    public String profile;\n\n    @ColumnInfo(name = &quot;user_name&quot;)\n    public String user_name;\n\n    public User(String id, String agency_id, String user_code, String password, String csc_authenticable, String equipment_type, String equipment_subtype, String profile, String user_name) {\n        this.id = id;\n        this.agency_id = agency_id;\n        this.user_code = user_code;\n        this.password = password;\n        this.csc_authenticable = csc_authenticable;\n        this.equipment_type = equipment_type;\n        this.equipment_subtype=equipment_subtype;\n        this.profile = profile;\n        this.user_name = user_name;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public String getAgency_id() {\n        return agency_id;\n    }\n\n    public String getUser_id() {\n        return user_id;\n    }\n\n    public String getUser_code() {\n        return user_code;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public String getCsc_authenticable() {\n        return csc_authenticable;\n    }\n\n    public String getEquipment_type() {\n        return equipment_type;\n    }\n\n    public String getEquipment_subtype() {\n        return equipment_subtype;\n    }\n\n    public String getProfile() {\n        return profile;\n    }\n\n    public String getUser_name() {\n        return user_name;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public void setAgency_id(String agency_id) {\n        this.agency_id = agency_id;\n    }\n\n    public void setUser_id(String user_id) {\n        this.user_id = user_id;\n    }\n\n    public void setUser_code(String user_code) {\n        this.user_code = user_code;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public void setCsc_authenticable(String csc_authenticable) {\n        this.csc_authenticable = csc_authenticable;\n    }\n\n    public void setEquipment_type(String equipment_type) {\n        this.equipment_type = equipment_type;\n    }\n\n    public void setEquipment_subtype(String equipment_subtype) {\n        this.equipment_subtype = equipment_subtype;\n    }\n\n    public void setProfile(String profile) {\n        this.profile = profile;\n    }\n\n    public void setUser_name(String user_name) {\n        this.user_name = user_name;\n    }\n}\n\n</code></pre>\n<p>Database.java</p>\n<pre><code>\n@androidx.room.Database(\n        entities = {\n                UserDao.class\n        },\n        version = 6\n)\n\n@TypeConverters({DateConverter.class})\npublic abstract class Database extends RoomDatabase {\n\n    public static Database buildDataBase(final Context context){\n        return Room.databaseBuilder(\n                context,\n                Database.class,\n                AppConstant.DB_NAME)\n                .allowMainThreadQueries().setJournalMode(RoomDatabase.JournalMode.TRUNCATE)\n                .fallbackToDestructiveMigration().build();\n    }\n\n    public abstract UserDao userUiContractDaoDAO();\n\n\n}\n\n</code></pre>\n<p>So, I don't know what it's rising so many errors, but if you can see something I'm missing or doing wrong, take thanks in advance !</p>\n"},{"tags":["java","android","json","string","ibeacon"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1679471648,"post_id":75809475,"comment_id":133726138,"body_markdown":"Assuming you have the original object, you should serialize that object instead of its `toString()` form. If you only have the above string form, you will need to write a parser that converts it to an object or Map, or directly to some JSON object type, and then serialize that.","body":"Assuming you have the original object, you should serialize that object instead of its <code>toString()</code> form. If you only have the above string form, you will need to write a parser that converts it to an object or Map, or directly to some JSON object type, and then serialize that."}],"answers":[{"tags":[],"owner":{"account_id":27781432,"reputation":16,"user_id":21209694,"display_name":"Dmitriy K"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1679471149,"creation_date":1679471101,"answer_id":75809551,"question_id":75809475,"body_markdown":"try to use Gson. \r\n\r\n    val json = Gson().toJson(your_object)\r\n\r\nor\r\n\r\n    Gson gson = new Gson();\r\n    String json = gson.toJson(your_object);\r\n\r\n","title":"How to convert string to JSON payload in Java","body":"<p>try to use Gson.</p>\n<pre><code>val json = Gson().toJson(your_object)\n</code></pre>\n<p>or</p>\n<pre><code>Gson gson = new Gson();\nString json = gson.toJson(your_object);\n</code></pre>\n"}],"owner":{"account_id":24049779,"reputation":43,"user_id":18028402,"display_name":"matchaLover"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":235,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1679471658,"accepted_answer_id":75809551,"answer_count":1,"score":-1,"last_activity_date":1679471580,"creation_date":1679470459,"question_id":75809475,"body_markdown":"I wonder how to convert string to JSON in Java.\r\n\r\nI want to convert\r\n```none\r\niBeaconDevice{address=&#39;F1:E4:E4:AD:24:50&#39;, uniqueId=&#39;null&#39;, proximityUUID=b9407f30-f5f8-466e-aff9-25556b57fe6d, major=35823, minor=10411, rssi=-56, shuffled=false}\r\n```\r\nto JSON payload like below:\r\n```json\r\n{\r\n  &quot;address&quot;: &quot;F1:E4:E4:AD:24:50&quot;,\r\n  &quot;uniqueId&quot;: &quot;null&quot;,\r\n  &quot;proximityUUID&quot;: &quot;b9407f30-f5f8-466e-aff9-25556b57fe6d&quot;,\r\n  &quot;major&quot;: 35823,\r\n  &quot;minor&quot;: 10411,\r\n  &quot;rssi&quot;: -56,\r\n  &quot;shuffled&quot;: &quot;false&quot;,\r\n  &quot;timestamp&quot;: 1679470296838,\r\n}\r\n```","title":"How to convert string to JSON payload in Java","body":"<p>I wonder how to convert string to JSON in Java.</p>\n<p>I want to convert</p>\n<pre class=\"lang-none prettyprint-override\"><code>iBeaconDevice{address='F1:E4:E4:AD:24:50', uniqueId='null', proximityUUID=b9407f30-f5f8-466e-aff9-25556b57fe6d, major=35823, minor=10411, rssi=-56, shuffled=false}\n</code></pre>\n<p>to JSON payload like below:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;address&quot;: &quot;F1:E4:E4:AD:24:50&quot;,\n  &quot;uniqueId&quot;: &quot;null&quot;,\n  &quot;proximityUUID&quot;: &quot;b9407f30-f5f8-466e-aff9-25556b57fe6d&quot;,\n  &quot;major&quot;: 35823,\n  &quot;minor&quot;: 10411,\n  &quot;rssi&quot;: -56,\n  &quot;shuffled&quot;: &quot;false&quot;,\n  &quot;timestamp&quot;: 1679470296838,\n}\n</code></pre>\n"},{"tags":["java","logic"],"comments":[{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1519109041,"post_id":48879257,"comment_id":84762526,"body_markdown":"You may want to study &quot;context free grammars&quot; and how to build parsers for them.","body":"You may want to study &quot;context free grammars&quot; and how to build parsers for them."}],"answers":[{"tags":[],"owner":{"account_id":7007079,"reputation":12271,"user_id":5375403,"display_name":"Jiri Tousek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519109290,"creation_date":1519109290,"answer_id":48879398,"question_id":48879257,"body_markdown":"Before the bracket there may be:\r\n\r\n* number\r\n* closing bracket\r\n\r\nAfter the bracket there may be:\r\n\r\n* operator\r\n* closing bracket\r\n* end of expression\r\n\r\n(ignoring any whitespace)","title":"how to check number exists between braces","body":"<p>Before the bracket there may be:</p>\n\n<ul>\n<li>number</li>\n<li>closing bracket</li>\n</ul>\n\n<p>After the bracket there may be:</p>\n\n<ul>\n<li>operator</li>\n<li>closing bracket</li>\n<li>end of expression</li>\n</ul>\n\n<p>(ignoring any whitespace)</p>\n"},{"tags":[],"owner":{"account_id":28080737,"reputation":26,"user_id":21451876,"display_name":"1 Mamedov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679442492,"creation_date":1679442492,"answer_id":75807307,"question_id":48879257,"body_markdown":"To check if a number exists between braces, you can modify the checkingnewvalueisValidorNot() method in the given code as follows:\r\n\r\n```java\r\npublic static boolean checkingnewvalueisValidorNot(StringBuilder userval, int validpath) {\r\n    Stack&lt;Character&gt; stack = new Stack&lt;&gt;();\r\n    boolean isNumEnclosed = false;\r\n    for (int i = 0; i &lt; userval.length(); i++) {\r\n        char c = userval.charAt(i);\r\n        if (c == &#39;[&#39; || c == &#39;(&#39; || c == &#39;{&#39;) {\r\n            stack.push(c);\r\n        } else if (c == &#39;]&#39;) {\r\n            if (stack.isEmpty() || stack.pop() != &#39;[&#39;) {\r\n                return false;\r\n            }\r\n        } else if (c == &#39;)&#39;) {\r\n            if (stack.isEmpty() || stack.pop() != &#39;(&#39;) {\r\n                return false;\r\n            }\r\n        } else if (c == &#39;}&#39;) {\r\n            if (stack.isEmpty() || stack.pop() != &#39;{&#39;) {\r\n                return false;\r\n            }\r\n        } else if (Character.isDigit(c) &amp;&amp; !stack.isEmpty()) {\r\n            isNumEnclosed = true;\r\n        }\r\n    }\r\n    return stack.isEmpty() &amp;&amp; isNumEnclosed;\r\n}\r\n```\r\n\r\nThis modified method adds a boolean variable isNumEnclosed that becomes true if a digit is found and there is an opening brace in the stack. It returns true only if the stack is empty and isNumEnclosed is true, which means there is a digit enclosed by braces in the string.","title":"how to check number exists between braces","body":"<p>To check if a number exists between braces, you can modify the checkingnewvalueisValidorNot() method in the given code as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean checkingnewvalueisValidorNot(StringBuilder userval, int validpath) {\n    Stack&lt;Character&gt; stack = new Stack&lt;&gt;();\n    boolean isNumEnclosed = false;\n    for (int i = 0; i &lt; userval.length(); i++) {\n        char c = userval.charAt(i);\n        if (c == '[' || c == '(' || c == '{') {\n            stack.push(c);\n        } else if (c == ']') {\n            if (stack.isEmpty() || stack.pop() != '[') {\n                return false;\n            }\n        } else if (c == ')') {\n            if (stack.isEmpty() || stack.pop() != '(') {\n                return false;\n            }\n        } else if (c == '}') {\n            if (stack.isEmpty() || stack.pop() != '{') {\n                return false;\n            }\n        } else if (Character.isDigit(c) &amp;&amp; !stack.isEmpty()) {\n            isNumEnclosed = true;\n        }\n    }\n    return stack.isEmpty() &amp;&amp; isNumEnclosed;\n}\n</code></pre>\n<p>This modified method adds a boolean variable isNumEnclosed that becomes true if a digit is found and there is an opening brace in the stack. It returns true only if the stack is empty and isNumEnclosed is true, which means there is a digit enclosed by braces in the string.</p>\n"}],"owner":{"account_id":11021992,"reputation":147,"user_id":8095935,"accept_rate":67,"display_name":"Priya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679470802,"creation_date":1519108577,"question_id":48879257,"body_markdown":"    import java.util.Stack;\r\n    import java.util.Scanner;\r\n    \r\n    public class CheckValidLocationofParenthensies {\r\n    \r\n        public static void main(String args[]) {\r\n        \t Scanner scanner = new Scanner(System.in);\r\n    \t\t    System.out.print(&quot;Enter five data&quot;);\r\n    \t\t    String input1 = scanner.next();\r\n    \t\t \r\n         balancedParenthensies(input1);\r\n        \r\n        }\r\n    \r\n        public static boolean balancedParenthensies(String s) {\r\n            Stack&lt;Character&gt; stack  = new Stack&lt;Character&gt;();\r\n            for(int i = 0; i &lt; s.length(); i++) {\r\n                char c = s.charAt(i);\r\n                if(c == &#39;[&#39; || c == &#39;(&#39; || c == &#39;{&#39; ) { \r\n                 stack.push(c);\r\n                 if(c == &#39;[&#39;) {\r\n                \t newvalueforforward(s,&#39;]&#39;, i);\r\n                }\r\n                if(c == &#39;{&#39;) {\r\n                \tnewvalueforforward(s,&#39;}&#39;, i);\r\n                }\r\n                if(c == &#39;(&#39;) {\r\n                \tnewvalueforforward(s,&#39;)&#39;, i);\r\n                }\r\n                \r\n                } else if(c == &#39;]&#39;) {\r\n                    if(stack.isEmpty() || stack.pop() != &#39;[&#39;) {\r\n                    \tnewvalue(s,&#39;[&#39;, i);\r\n                        return false;\r\n                    }\r\n                } else if(c == &#39;)&#39;) {\r\n                    if(stack.isEmpty() || stack.pop() != &#39;(&#39;) {\r\n                    \tnewvalue(s,&#39;(&#39;, i);\r\n                     return false;\r\n                    }           \r\n                } else if(c == &#39;}&#39;) {\r\n                    if(stack.isEmpty() || stack.pop() != &#39;{&#39;) {\r\n                    \tnewvalue(s,&#39;{&#39;, i);\r\n                        return false;\r\n                    }\r\n                }\r\n    \r\n            }\r\n            return stack.isEmpty();\r\n        }\r\n        \r\n        public static void newvalueforforward(String userval,char value,int decremntval) {\r\n        \t\r\n        \t for(int i = 0; i &lt; userval.length(); i++){\r\n        \t\t \r\n        \t\t StringBuilder newvalue = new StringBuilder(userval);\r\n        \t\t\r\n        \t\tint location=i;\r\n        \t\t newvalue.insert(i, value);\r\n        \t\t \r\n        \t\t boolean valid= checkingnewvalueisValidorNot(newvalue, location);\r\n        \t\t location=i+1;\r\n        \t\t if(valid) {\r\n        \t\t\tSystem.out.println(newvalue+&quot;   &quot;+&quot;&quot;+location); \r\n        \t\t\t\r\n        \t\t }\r\n                 \r\n        \t}\r\n    \t\t\r\n    \t}\r\n        \r\n     public static void newvalue(String userval,char value,int decremntval) {\r\n        \t\r\n        \t\r\n        \tfor(int i = decremntval; i &gt;= 0; i--){\r\n        \t\t\r\n        \t\t StringBuilder newvalue = new StringBuilder(userval);\r\n        \t\tint location=decremntval - i;\r\n        \t\t newvalue.insert(decremntval - i, value);\r\n        \t\t \r\n        \t\t boolean valid= checkingnewvalueisValidorNot(newvalue, location);\r\n        \t\t \r\n        \t\t if(valid) {\r\n        \t\t\t System.out.println(newvalue+&quot;   &quot;+&quot;&quot;+location); \r\n        \t\r\n        \t\t }\r\n                 \r\n        \t}\r\n    \t\t\r\n    \t}\r\n        \r\n     \r\n     \r\n    public static boolean checkingnewvalueisValidorNot(StringBuilder userval,int validpath) {\r\n        \t\r\n    \t Stack&lt;Character&gt; stack  = new Stack&lt;Character&gt;();\r\n         for(int i = 0; i &lt; userval.length(); i++) {\r\n             char c = userval.charAt(i);\r\n             if(c == &#39;[&#39; || c == &#39;(&#39; || c == &#39;{&#39; ) { \r\n             \r\n                 stack.push(c);\r\n             } else if(c == &#39;]&#39;) {\r\n                 if(stack.isEmpty() || stack.pop() != &#39;[&#39;) {\r\n                     return false;\r\n                 }\r\n             } else if(c == &#39;)&#39;) {\r\n                 if(stack.isEmpty() || stack.pop() != &#39;(&#39;) {            \r\n                     return false;\r\n                 }           \r\n             } else if(c == &#39;}&#39;) {\r\n                 if(stack.isEmpty() || stack.pop() != &#39;{&#39;) {\r\n                   return false;\r\n                 }\r\n             }\r\n    \r\n         }\r\n         return stack.isEmpty();\r\n        \t\r\n    \t}\r\n         \r\n        \r\n    }\r\n\r\nAbove is the code i have written to check whether input string contains all balanced brackets if it is not balanced then get missing bracket and place bracket in all index then again check whether string is balanced or not.\r\n\r\nI got valid output but problem is between i bracket there should be a intergers \r\n\r\nhere is input and outputs\r\n\r\n    input         missing     outputs\r\n    {[(2+3)*6/10}   ]   {[](2+3)*6/10}   3 not valid(no numbres btn bracket)\r\n                        {[(2+3)]*6/10}   8 valid\r\n                        {[(2+3)*]6/10}   9   not valid(after * no number)\r\n                        {[(2+3)*6]/10}   10  valid\r\n                        {[(2+3)*6/]10}   11 not valid( / before bracket)\r\n                        {[(2+3)*6/1]0}   12 not valid( / btn num bracket)\r\n                        {[(2+3)*6/10]}   13 valid\r\n\r\ni am failing to do proper validation to my output.\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"how to check number exists between braces","body":"<pre><code>import java.util.Stack;\nimport java.util.Scanner;\n\npublic class CheckValidLocationofParenthensies {\n\n    public static void main(String args[]) {\n         Scanner scanner = new Scanner(System.in);\n            System.out.print(\"Enter five data\");\n            String input1 = scanner.next();\n\n     balancedParenthensies(input1);\n\n    }\n\n    public static boolean balancedParenthensies(String s) {\n        Stack&lt;Character&gt; stack  = new Stack&lt;Character&gt;();\n        for(int i = 0; i &lt; s.length(); i++) {\n            char c = s.charAt(i);\n            if(c == '[' || c == '(' || c == '{' ) { \n             stack.push(c);\n             if(c == '[') {\n                 newvalueforforward(s,']', i);\n            }\n            if(c == '{') {\n                newvalueforforward(s,'}', i);\n            }\n            if(c == '(') {\n                newvalueforforward(s,')', i);\n            }\n\n            } else if(c == ']') {\n                if(stack.isEmpty() || stack.pop() != '[') {\n                    newvalue(s,'[', i);\n                    return false;\n                }\n            } else if(c == ')') {\n                if(stack.isEmpty() || stack.pop() != '(') {\n                    newvalue(s,'(', i);\n                 return false;\n                }           \n            } else if(c == '}') {\n                if(stack.isEmpty() || stack.pop() != '{') {\n                    newvalue(s,'{', i);\n                    return false;\n                }\n            }\n\n        }\n        return stack.isEmpty();\n    }\n\n    public static void newvalueforforward(String userval,char value,int decremntval) {\n\n         for(int i = 0; i &lt; userval.length(); i++){\n\n             StringBuilder newvalue = new StringBuilder(userval);\n\n            int location=i;\n             newvalue.insert(i, value);\n\n             boolean valid= checkingnewvalueisValidorNot(newvalue, location);\n             location=i+1;\n             if(valid) {\n                System.out.println(newvalue+\"   \"+\"\"+location); \n\n             }\n\n        }\n\n    }\n\n public static void newvalue(String userval,char value,int decremntval) {\n\n\n        for(int i = decremntval; i &gt;= 0; i--){\n\n             StringBuilder newvalue = new StringBuilder(userval);\n            int location=decremntval - i;\n             newvalue.insert(decremntval - i, value);\n\n             boolean valid= checkingnewvalueisValidorNot(newvalue, location);\n\n             if(valid) {\n                 System.out.println(newvalue+\"   \"+\"\"+location); \n\n             }\n\n        }\n\n    }\n\n\n\npublic static boolean checkingnewvalueisValidorNot(StringBuilder userval,int validpath) {\n\n     Stack&lt;Character&gt; stack  = new Stack&lt;Character&gt;();\n     for(int i = 0; i &lt; userval.length(); i++) {\n         char c = userval.charAt(i);\n         if(c == '[' || c == '(' || c == '{' ) { \n\n             stack.push(c);\n         } else if(c == ']') {\n             if(stack.isEmpty() || stack.pop() != '[') {\n                 return false;\n             }\n         } else if(c == ')') {\n             if(stack.isEmpty() || stack.pop() != '(') {            \n                 return false;\n             }           \n         } else if(c == '}') {\n             if(stack.isEmpty() || stack.pop() != '{') {\n               return false;\n             }\n         }\n\n     }\n     return stack.isEmpty();\n\n    }\n\n\n}\n</code></pre>\n\n<p>Above is the code i have written to check whether input string contains all balanced brackets if it is not balanced then get missing bracket and place bracket in all index then again check whether string is balanced or not.</p>\n\n<p>I got valid output but problem is between i bracket there should be a intergers </p>\n\n<p>here is input and outputs</p>\n\n<pre><code>input         missing     outputs\n{[(2+3)*6/10}   ]   {[](2+3)*6/10}   3 not valid(no numbres btn bracket)\n                    {[(2+3)]*6/10}   8 valid\n                    {[(2+3)*]6/10}   9   not valid(after * no number)\n                    {[(2+3)*6]/10}   10  valid\n                    {[(2+3)*6/]10}   11 not valid( / before bracket)\n                    {[(2+3)*6/1]0}   12 not valid( / btn num bracket)\n                    {[(2+3)*6/10]}   13 valid\n</code></pre>\n\n<p>i am failing to do proper validation to my output.</p>\n"},{"tags":["java","mysql","spring"],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679469894,"creation_date":1679469894,"answer_id":75809406,"question_id":75806343,"body_markdown":"This exception\r\n```\r\nCaused by: org.springframework.data.mapping.PropertyReferenceException: No property &#39;predmet&#39; found for type &#39;Student&#39;\r\n```\r\ntells that in your repository class you&#39;ve defined a method referencing non-existing property, as your method&#39;s suffix is `*ByPredmet`, but the property name is `predmetiKojeStudentSlusa`\r\n```java\r\nList&lt;Strundent&gt; StudentRepository.findAllStudentsByPredmet(Predmet predmet);\r\n```\r\nTo solve the problem you could either\r\n1) use `@Query` annotation\r\n```java\r\n@Query(&quot;select s from Student s where :predmet in s.predmetiKojeStudentSlusa&quot;)\r\nList&lt;Strundent&gt; StudentRepository.findAllStudentsByPredmet(@Param(&quot;predmet&quot;) Predmet predmet);\r\n2) rename `predmetiKojeStudentSlusa` -&gt; `predmeti` and rewrite the method as\r\n```java\r\nList&lt;Strundent&gt; StudentRepository.findAllStudentsByPredmeti(Set&lt;Predmet&gt; predmeti);\r\n```\r\nSee https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.query-creation for examples of method naming","title":"How to fix Error starting ApplicationContext. To display the condition evaluation report, working on 3 tables","body":"<p>This exception</p>\n<pre><code>Caused by: org.springframework.data.mapping.PropertyReferenceException: No property 'predmet' found for type 'Student'\n</code></pre>\n<p>tells that in your repository class you've defined a method referencing non-existing property, as your method's suffix is <code>*ByPredmet</code>, but the property name is <code>predmetiKojeStudentSlusa</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Strundent&gt; StudentRepository.findAllStudentsByPredmet(Predmet predmet);\n</code></pre>\n<p>To solve the problem you could either</p>\n<ol>\n<li>use <code>@Query</code> annotation</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(&quot;select s from Student s where :predmet in s.predmetiKojeStudentSlusa&quot;)\nList&lt;Strundent&gt; StudentRepository.findAllStudentsByPredmet(@Param(&quot;predmet&quot;) Predmet predmet);\n2) rename `predmetiKojeStudentSlusa` -&gt; `predmeti` and rewrite the method as\n```java\nList&lt;Strundent&gt; StudentRepository.findAllStudentsByPredmeti(Set&lt;Predmet&gt; predmeti);\n</code></pre>\n<p>See <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.query-creation\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.query-creation</a> for examples of method naming</p>\n"}],"owner":{"account_id":28079933,"reputation":13,"user_id":21451183,"display_name":"Djina Obradović"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":464,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75809406,"answer_count":1,"score":1,"last_activity_date":1679469894,"creation_date":1679432742,"question_id":75806343,"body_markdown":"I have 3 table in my base, student, subject and studentsubject. I can link to a spring boot application the first two and work with basic crud methods, the problem occurs when I try to provide my method in the repository interface and I get Error starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled. I created an `@Entity` out of the first two classes\r\nwhile the third one is connected like this\r\n\r\n```java\r\n@ManyToMany(cascade = CascadeType.ALL)\r\n@JoinTable(name=&quot;studentpredmet&quot;,\r\njoinColumns = @JoinColumn(name=&quot;student_id&quot;, referencedColumnName = &quot;student_id&quot;),\r\ninverseJoinColumns = @JoinColumn(name=&quot;predmet_id&quot;, referencedColumnName = &quot;predmet_id&quot;))\r\nSet&lt;Predmet&gt; predmetiKojeStudentSlusa;\r\n```\r\nError:\r\n\r\n```lang-none\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-03-21T21:17:44.242+01:00 ERROR 14276 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;studentController&#39;: Unsatisfied dependency expressed through field &#39;repository&#39;: Error creating bean with name &#39;studentRepository&#39; defined in com.beClean.neZnam.neZnam.Repository.StudentRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.beClean.neZnam.neZnam.Repository.StudentRepository.findAllStudentsByPredmet(com.beClean.neZnam.neZnam.Entity.Predmet); Reason: Failed to create query for method public abstract java.util.List com.beClean.neZnam.neZnam.Repository.StudentRepository.findAllStudentsByPredmet(com.beClean.neZnam.neZnam.Entity.Predmet); No property &#39;predmet&#39; found for type &#39;Student&#39;\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:712) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1408) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917) ~[spring-context-6.0.6.jar:6.0.6]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.6.jar:6.0.6]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.4.jar:3.0.4]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.4.jar:3.0.4]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.4.jar:3.0.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.4.jar:3.0.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.4.jar:3.0.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.4.jar:3.0.4]\r\n\tat com.beClean.neZnam.neZnam.NeZnamApplication.main(NeZnamApplication.java:10) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.4.jar:3.0.4]\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;studentRepository&#39; defined in com.beClean.neZnam.neZnam.Repository.StudentRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.beClean.neZnam.neZnam.Repository.StudentRepository.findAllStudentsByPredmet(com.beClean.neZnam.neZnam.Entity.Predmet); Reason: Failed to create query for method public abstract java.util.List com.beClean.neZnam.neZnam.Repository.StudentRepository.findAllStudentsByPredmet(com.beClean.neZnam.neZnam.Entity.Predmet); No property &#39;predmet&#39; found for type &#39;Student&#39;\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\t... 25 common frames omitted\r\nCaused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List com.beClean.neZnam.neZnam.Repository.StudentRepository.findAllStudentsByPredmet(com.beClean.neZnam.neZnam.Entity.Predmet); Reason: Failed to create query for method public abstract java.util.List com.beClean.neZnam.neZnam.Repository.StudentRepository.findAllStudentsByPredmet(com.beClean.neZnam.neZnam.Entity.Predmet); No property &#39;predmet&#39; found for type &#39;Student&#39;\r\n\tat org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101) ~[spring-data-commons-3.0.3.jar:3.0.3]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:115) ~[spring-data-commons-3.0.3.jar:3.0.3]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:99) ~[spring-data-commons-3.0.3.jar:3.0.3]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:88) ~[spring-data-commons-3.0.3.jar:3.0.3]\r\n\tat java.base/java.util.Optional.map(Optional.java:260) ~[na:na]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.&lt;init&gt;(QueryExecutorMethodInterceptor.java:88) ~[spring-data-commons-3.0.3.jar:3.0.3]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:357) ~[spring-data-commons-3.0.3.jar:3.0.3]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.0.3.jar:3.0.3]\r\n\tat org.springframework.data.util.Lazy.getNullable(Lazy.java:245) ~[spring-data-commons-3.0.3.jar:3.0.3]\r\n\tat org.springframework.data.util.Lazy.get(Lazy.java:114) ~[spring-data-commons-3.0.3.jar:3.0.3]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.0.3.jar:3.0.3]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132) ~[spring-data-jpa-3.0.3.jar:3.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\t... 35 common frames omitted\r\nCaused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List com.beClean.neZnam.neZnam.Repository.StudentRepository.findAllStudentsByPredmet(com.beClean.neZnam.neZnam.Entity.Predmet); No property &#39;predmet&#39; found for type &#39;Student&#39;\r\n\tat org.springframework.data.jpa.repository.query.PartTreeJpaQuery.&lt;init&gt;(PartTreeJpaQuery.java:96) ~[spring-data-jpa-3.0.3.jar:3.0.3]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:124) ~[spring-data-jpa-3.0.3.jar:3.0.3]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:258) ~[spring-data-jpa-3.0.3.jar:3.0.3]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:95) ~[spring-data-jpa-3.0.3.jar:3.0.3]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:111) ~[spring-data-commons-3.0.3.jar:3.0.3]\r\n\t... 47 common frames omitted\r\nCaused by: org.springframework.data.mapping.PropertyReferenceException: No property &#39;predmet&#39; found for type &#39;Student&#39;\r\n\tat org.springframework.data.mapping.PropertyPath.&lt;init&gt;(PropertyPath.java:90) ~[spring-data-commons-3.0.3.jar:3.0.3]\r\n\tat org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:423) ~[spring-data-commons-3.0.3.jar:3.0.3]\r\n\tat org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:399) ~[spring-data-commons-3.0.3.jar:3.0.3]\r\n\tat org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:352) ~[spring-data-commons-3.0.3.jar:3.0.3]\r\n\tat java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330) ~[na:na]\r\n\tat org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:334) ~[spring-data-commons-3.0.3.jar:3.0.3]\r\n\tat org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:317) ~[spring-data-commons-3.0.3.jar:3.0.3]\r\n\tat org.springframework.data.repository.query.parser.Part.&lt;init&gt;(Part.java:81) ~[spring-data-commons-3.0.3.jar:3.0.3]\r\n\tat org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:242) ~[spring-data-commons-3.0.3.jar:3.0.3]\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]\r\n\tat java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\r\n\tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]\r\n\tat org.springframework.data.repository.query.parser.PartTree$OrPart.&lt;init&gt;(PartTree.java:243) ~[spring-data-commons-3.0.3.jar:3.0.3]\r\n\tat org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:372) ~[spring-data-commons-3.0.3.jar:3.0.3]\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]\r\n\tat java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\r\n\tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]\r\n\tat org.springframework.data.repository.query.parser.PartTree$Predicate.&lt;init&gt;(PartTree.java:373) ~[spring-data-commons-3.0.3.jar:3.0.3]\r\n\tat org.springframework.data.repository.query.parser.PartTree.&lt;init&gt;(PartTree.java:96) ~[spring-data-commons-3.0.3.jar:3.0.3]\r\n\tat org.springframework.data.jpa.repository.query.PartTreeJpaQuery.&lt;init&gt;(PartTreeJpaQuery.java:89) ~[spring-data-jpa-3.0.3.jar:3.0.3]\r\n\t... 51 common frames omitted\r\n```\r\n\r\nNothing works from repository interface except basic CRUD method","title":"How to fix Error starting ApplicationContext. To display the condition evaluation report, working on 3 tables","body":"<p>I have 3 table in my base, student, subject and studentsubject. I can link to a spring boot application the first two and work with basic crud methods, the problem occurs when I try to provide my method in the repository interface and I get Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled. I created an <code>@Entity</code> out of the first two classes\nwhile the third one is connected like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ManyToMany(cascade = CascadeType.ALL)\n@JoinTable(name=&quot;studentpredmet&quot;,\njoinColumns = @JoinColumn(name=&quot;student_id&quot;, referencedColumnName = &quot;student_id&quot;),\ninverseJoinColumns = @JoinColumn(name=&quot;predmet_id&quot;, referencedColumnName = &quot;predmet_id&quot;))\nSet&lt;Predmet&gt; predmetiKojeStudentSlusa;\n</code></pre>\n<p>Error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-03-21T21:17:44.242+01:00 ERROR 14276 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'studentController': Unsatisfied dependency expressed through field 'repository': Error creating bean with name 'studentRepository' defined in com.beClean.neZnam.neZnam.Repository.StudentRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.beClean.neZnam.neZnam.Repository.StudentRepository.findAllStudentsByPredmet(com.beClean.neZnam.neZnam.Entity.Predmet); Reason: Failed to create query for method public abstract java.util.List com.beClean.neZnam.neZnam.Repository.StudentRepository.findAllStudentsByPredmet(com.beClean.neZnam.neZnam.Entity.Predmet); No property 'predmet' found for type 'Student'\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:712) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1408) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917) ~[spring-context-6.0.6.jar:6.0.6]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.6.jar:6.0.6]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.4.jar:3.0.4]\n    at com.beClean.neZnam.neZnam.NeZnamApplication.main(NeZnamApplication.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.4.jar:3.0.4]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'studentRepository' defined in com.beClean.neZnam.neZnam.Repository.StudentRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.beClean.neZnam.neZnam.Repository.StudentRepository.findAllStudentsByPredmet(com.beClean.neZnam.neZnam.Entity.Predmet); Reason: Failed to create query for method public abstract java.util.List com.beClean.neZnam.neZnam.Repository.StudentRepository.findAllStudentsByPredmet(com.beClean.neZnam.neZnam.Entity.Predmet); No property 'predmet' found for type 'Student'\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709) ~[spring-beans-6.0.6.jar:6.0.6]\n    ... 25 common frames omitted\nCaused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List com.beClean.neZnam.neZnam.Repository.StudentRepository.findAllStudentsByPredmet(com.beClean.neZnam.neZnam.Entity.Predmet); Reason: Failed to create query for method public abstract java.util.List com.beClean.neZnam.neZnam.Repository.StudentRepository.findAllStudentsByPredmet(com.beClean.neZnam.neZnam.Entity.Predmet); No property 'predmet' found for type 'Student'\n    at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101) ~[spring-data-commons-3.0.3.jar:3.0.3]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:115) ~[spring-data-commons-3.0.3.jar:3.0.3]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:99) ~[spring-data-commons-3.0.3.jar:3.0.3]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:88) ~[spring-data-commons-3.0.3.jar:3.0.3]\n    at java.base/java.util.Optional.map(Optional.java:260) ~[na:na]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.&lt;init&gt;(QueryExecutorMethodInterceptor.java:88) ~[spring-data-commons-3.0.3.jar:3.0.3]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:357) ~[spring-data-commons-3.0.3.jar:3.0.3]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.0.3.jar:3.0.3]\n    at org.springframework.data.util.Lazy.getNullable(Lazy.java:245) ~[spring-data-commons-3.0.3.jar:3.0.3]\n    at org.springframework.data.util.Lazy.get(Lazy.java:114) ~[spring-data-commons-3.0.3.jar:3.0.3]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.0.3.jar:3.0.3]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132) ~[spring-data-jpa-3.0.3.jar:3.0.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-6.0.6.jar:6.0.6]\n    ... 35 common frames omitted\nCaused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List com.beClean.neZnam.neZnam.Repository.StudentRepository.findAllStudentsByPredmet(com.beClean.neZnam.neZnam.Entity.Predmet); No property 'predmet' found for type 'Student'\n    at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.&lt;init&gt;(PartTreeJpaQuery.java:96) ~[spring-data-jpa-3.0.3.jar:3.0.3]\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:124) ~[spring-data-jpa-3.0.3.jar:3.0.3]\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:258) ~[spring-data-jpa-3.0.3.jar:3.0.3]\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:95) ~[spring-data-jpa-3.0.3.jar:3.0.3]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:111) ~[spring-data-commons-3.0.3.jar:3.0.3]\n    ... 47 common frames omitted\nCaused by: org.springframework.data.mapping.PropertyReferenceException: No property 'predmet' found for type 'Student'\n    at org.springframework.data.mapping.PropertyPath.&lt;init&gt;(PropertyPath.java:90) ~[spring-data-commons-3.0.3.jar:3.0.3]\n    at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:423) ~[spring-data-commons-3.0.3.jar:3.0.3]\n    at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:399) ~[spring-data-commons-3.0.3.jar:3.0.3]\n    at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:352) ~[spring-data-commons-3.0.3.jar:3.0.3]\n    at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330) ~[na:na]\n    at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:334) ~[spring-data-commons-3.0.3.jar:3.0.3]\n    at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:317) ~[spring-data-commons-3.0.3.jar:3.0.3]\n    at org.springframework.data.repository.query.parser.Part.&lt;init&gt;(Part.java:81) ~[spring-data-commons-3.0.3.jar:3.0.3]\n    at org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:242) ~[spring-data-commons-3.0.3.jar:3.0.3]\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]\n    at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\n    at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]\n    at org.springframework.data.repository.query.parser.PartTree$OrPart.&lt;init&gt;(PartTree.java:243) ~[spring-data-commons-3.0.3.jar:3.0.3]\n    at org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:372) ~[spring-data-commons-3.0.3.jar:3.0.3]\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]\n    at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\n    at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]\n    at org.springframework.data.repository.query.parser.PartTree$Predicate.&lt;init&gt;(PartTree.java:373) ~[spring-data-commons-3.0.3.jar:3.0.3]\n    at org.springframework.data.repository.query.parser.PartTree.&lt;init&gt;(PartTree.java:96) ~[spring-data-commons-3.0.3.jar:3.0.3]\n    at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.&lt;init&gt;(PartTreeJpaQuery.java:89) ~[spring-data-jpa-3.0.3.jar:3.0.3]\n    ... 51 common frames omitted\n</code></pre>\n<p>Nothing works from repository interface except basic CRUD method</p>\n"},{"tags":["java","xml","jackson","mapping"],"owner":{"account_id":18578317,"reputation":21,"user_id":13538395,"display_name":"Stackforumuser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679469568,"creation_date":1679447266,"question_id":75807657,"body_markdown":"I am modifying an old app. It has an abstract class and three that extend the abstract class\r\n\r\n    @XmlSeeAlso( { ChildA.class, ChildB.class, ChildC.class } )\r\n    public abstract class Abs extends xx implements Cloneable, Equals, HashCode\r\n    {\r\n    @XmlElement\r\n    xxxxxxxxx\r\n    }\r\n    \r\n    \r\n    @XmlType(name = &quot;childa&quot;)\r\n    public class ChildA\r\n        extends Abs\r\n        implements Cloneable, Equals, HashCode {\r\n    xxxx\r\n    }\r\n    \r\n    @XmlType(name = &quot;childb&quot;)\r\n    public class ChildB\r\n        extends Abs\r\n        implements Cloneable, Equals, HashCode {\r\n    xxxx\r\n    }\r\n    \r\n    @XmlType(name = &quot;childc&quot;)\r\n    public class ChildC\r\n        extends Abs\r\n        implements Cloneable, Equals, HashCode {\r\n    xxxx\r\n    }\r\n\r\nThis works perfectly in a previously defined controller with method\r\n\r\n    @RequestMapping( value = &quot;/xxx.html&quot;, method = RequestMethod.GET )\r\n        public String loadyyy( @ModelAttribute( zzz ) Abs abs,\r\n       \r\n\r\nI am trying to define a new restcontroller with postmapping like\r\n\r\n    @PostMapping(value = &quot;/search&quot;,\r\n            consumes= {MediaType.APPLICATION_XML_VALUE},\r\n            produces= {MediaType.APPLICATION_JSON_VALUE, MediaType.APPLICATION_XML_VALUE}\r\n    )\r\n    public List search(@RequestBody Abs abs ) {\r\n       returns somemethod(abs);     \r\n    }\r\n\r\n\r\nIf I change to @RequestBody to concrete class ChildA childa then it works but with above it throws error \r\nType definition error: [simple type, class Abs]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `Abs` (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information\\n at [Source: (PushbackInputStream); line: 1, column: 1]&quot;\r\n\r\n\r\nTried \r\n\r\n    @JsonTypeInfo(\r\n            use = JsonTypeInfo.Id.NAME,\r\n            include = JsonTypeInfo.As.PROPERTY,\r\n            property = &quot;type&quot;\r\n    )\r\n    @JsonSubTypes({\r\n            @JsonSubTypes.Type(value = ChildA.class, name = &quot;childa&quot;),\r\n            @JsonSubTypes.Type(value = ChildB.class, name = &quot;childb&quot;),\r\n            @JsonSubTypes.Type(value = ChildC.class, name = &quot;childc&quot;),}) in Abs class\r\n\r\nbut gives error\r\nJSON parse error: Missing type id when trying to resolve subtype of [simple type, class Abs]: missing type id property &#39;Abs&#39;; nested exception is com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Missing type id when trying to resolve subtype of [simple type, class Abs]: missing type id property &#39;Abs&#39;\\n at [Source: (PushbackInputStream); line: 7, column: 1]&quot;,\r\n\r\n\r\nXml I am using as request body is something like\r\n\r\n    &lt;ChildA&gt;\r\n    &lt;Somelement&gt;xxx&lt;/SomeElement&gt;\r\n    .........\r\n    &lt;/ChildA&gt;","title":"JAXB abstract class used as requestbody in Post mapping results in errors","body":"<p>I am modifying an old app. It has an abstract class and three that extend the abstract class</p>\n<pre><code>@XmlSeeAlso( { ChildA.class, ChildB.class, ChildC.class } )\npublic abstract class Abs extends xx implements Cloneable, Equals, HashCode\n{\n@XmlElement\nxxxxxxxxx\n}\n\n\n@XmlType(name = &quot;childa&quot;)\npublic class ChildA\n    extends Abs\n    implements Cloneable, Equals, HashCode {\nxxxx\n}\n\n@XmlType(name = &quot;childb&quot;)\npublic class ChildB\n    extends Abs\n    implements Cloneable, Equals, HashCode {\nxxxx\n}\n\n@XmlType(name = &quot;childc&quot;)\npublic class ChildC\n    extends Abs\n    implements Cloneable, Equals, HashCode {\nxxxx\n}\n</code></pre>\n<p>This works perfectly in a previously defined controller with method</p>\n<pre><code>@RequestMapping( value = &quot;/xxx.html&quot;, method = RequestMethod.GET )\n    public String loadyyy( @ModelAttribute( zzz ) Abs abs,\n   \n</code></pre>\n<p>I am trying to define a new restcontroller with postmapping like</p>\n<pre><code>@PostMapping(value = &quot;/search&quot;,\n        consumes= {MediaType.APPLICATION_XML_VALUE},\n        produces= {MediaType.APPLICATION_JSON_VALUE, MediaType.APPLICATION_XML_VALUE}\n)\npublic List search(@RequestBody Abs abs ) {\n   returns somemethod(abs);     \n}\n</code></pre>\n<p>If I change to @RequestBody to concrete class ChildA childa then it works but with above it throws error\nType definition error: [simple type, class Abs]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of <code>Abs</code> (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information\\n at [Source: (PushbackInputStream); line: 1, column: 1]&quot;</p>\n<p>Tried</p>\n<pre><code>@JsonTypeInfo(\n        use = JsonTypeInfo.Id.NAME,\n        include = JsonTypeInfo.As.PROPERTY,\n        property = &quot;type&quot;\n)\n@JsonSubTypes({\n        @JsonSubTypes.Type(value = ChildA.class, name = &quot;childa&quot;),\n        @JsonSubTypes.Type(value = ChildB.class, name = &quot;childb&quot;),\n        @JsonSubTypes.Type(value = ChildC.class, name = &quot;childc&quot;),}) in Abs class\n</code></pre>\n<p>but gives error\nJSON parse error: Missing type id when trying to resolve subtype of [simple type, class Abs]: missing type id property 'Abs'; nested exception is com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Missing type id when trying to resolve subtype of [simple type, class Abs]: missing type id property 'Abs'\\n at [Source: (PushbackInputStream); line: 7, column: 1]&quot;,</p>\n<p>Xml I am using as request body is something like</p>\n<pre><code>&lt;ChildA&gt;\n&lt;Somelement&gt;xxx&lt;/SomeElement&gt;\n.........\n&lt;/ChildA&gt;\n</code></pre>\n"},{"tags":["java","arrays","numbers"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1532007894,"post_id":51424205,"comment_id":89819507,"body_markdown":"What is your question? What part are you stuck on?","body":"What is your question? What part are you stuck on?"},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1532008043,"post_id":51424205,"comment_id":89819627,"body_markdown":"Welcome to Stack Overflow! Unfortunately your question only contains requirements - it is not showing any efforts from your side to solve this problem yourself. Please ([edit] your attempts into this question - as this site is not a free &quot;we do your (home)work&quot; service. Beyond that: please turn to the [help center](https://stackoverflow.com/help) to learn how/what to ask here. Thanks!","body":"Welcome to Stack Overflow! Unfortunately your question only contains requirements - it is not showing any efforts from your side to solve this problem yourself. Please (<a href=\"https://stackoverflow.com/posts/51424205/edit\">edit</a> your attempts into this question - as this site is not a free &quot;we do your (home)work&quot; service. Beyond that: please turn to the <a href=\"https://stackoverflow.com/help\">help center</a> to learn how/what to ask here. Thanks!"},{"owner":{"account_id":9215483,"reputation":378,"user_id":6952369,"display_name":"Hongyu Wang"},"score":0,"creation_date":1532008164,"post_id":51424205,"comment_id":89819722,"body_markdown":"Use two passes through the for loop","body":"Use two passes through the for loop"}],"answers":[{"tags":[],"owner":{"account_id":13986423,"reputation":106,"user_id":10101418,"display_name":"Guilherme Baule"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1532008059,"creation_date":1532008059,"answer_id":51424347,"question_id":51424205,"body_markdown":"Try to use Array.sort and get the 2 values from the beginning for the smallest and 2 values from the end for the largest","title":"how to program to find the largest 2 numbers and the smallest 2 numbers in the array in java","body":"<p>Try to use Array.sort and get the 2 values from the beginning for the smallest and 2 values from the end for the largest</p>\n"},{"tags":[],"owner":{"account_id":11819601,"reputation":91,"user_id":8649037,"display_name":"GDC"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1532008193,"creation_date":1532008193,"answer_id":51424389,"question_id":51424205,"body_markdown":"Keeping the style of your solution: instead of &quot;forgetting&quot; the latest min and max when you find a smaller/bigger number, just memorize them as second bigger / second smaller.\r\n\r\n\r\n    for(i = 1; i &lt; count; i++) {\r\n        if(inputArray[i] &gt; max)\r\n            max2 = max;\r\n            max = inputArray[i];\r\n        else if (inputArray[i] &lt; min)\r\n            min2 = min;\r\n            min = inputArray[i];\r\n\r\n    }\r\n\r\nfor completeness, check the size of the array and be careful of particular cases (e.g. all elements are equal).","title":"how to program to find the largest 2 numbers and the smallest 2 numbers in the array in java","body":"<p>Keeping the style of your solution: instead of \"forgetting\" the latest min and max when you find a smaller/bigger number, just memorize them as second bigger / second smaller.</p>\n\n<pre><code>for(i = 1; i &lt; count; i++) {\n    if(inputArray[i] &gt; max)\n        max2 = max;\n        max = inputArray[i];\n    else if (inputArray[i] &lt; min)\n        min2 = min;\n        min = inputArray[i];\n\n}\n</code></pre>\n\n<p>for completeness, check the size of the array and be careful of particular cases (e.g. all elements are equal).</p>\n"},{"tags":[],"owner":{"account_id":21124725,"reputation":1,"user_id":15530183,"display_name":"Aman kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646494841,"creation_date":1646488848,"answer_id":71362817,"question_id":51424205,"body_markdown":"    public static void main(String[] args) {\r\n\t\t\r\n\t\tint[] arr = {5,3,9,10,7,2,11,1};\r\n\t\t\r\n\t\tint min1 = arr[0];\r\n\t\tint min2 = 0;\r\n\t\t\r\n\t\tint max1 = arr[0];\r\n\t\tint max2 = 0;\r\n\t\t\r\n\t\tfor(int i=1;i&lt;arr.length;i++) {\r\n\t\t\tif(arr[i] &gt; max1) {\r\n\t\t\t\tmax2 = max1;\r\n\t\t\t\tmax1 = arr[i]; \r\n\t\t\t}else if(arr[i] &lt; min1){\r\n\t\t\t\tmin2 = min1;\r\n\t\t\t\tmin1 = arr[i];\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(&quot;Max1 = &quot;+max1+&quot; Max2 = &quot;+max2);\r\n\t\tSystem.out.println(&quot;Min1 = &quot;+min1+&quot; Min2 = &quot;+min2);\r\n\r\n\t}","title":"how to program to find the largest 2 numbers and the smallest 2 numbers in the array in java","body":"<pre><code>public static void main(String[] args) {\n    \n    int[] arr = {5,3,9,10,7,2,11,1};\n    \n    int min1 = arr[0];\n    int min2 = 0;\n    \n    int max1 = arr[0];\n    int max2 = 0;\n    \n    for(int i=1;i&lt;arr.length;i++) {\n        if(arr[i] &gt; max1) {\n            max2 = max1;\n            max1 = arr[i]; \n        }else if(arr[i] &lt; min1){\n            min2 = min1;\n            min1 = arr[i];\n        }\n    }\n    \n    System.out.println(&quot;Max1 = &quot;+max1+&quot; Max2 = &quot;+max2);\n    System.out.println(&quot;Min1 = &quot;+min1+&quot; Min2 = &quot;+min2);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28035185,"reputation":1,"user_id":21413703,"display_name":"Suhas Kashyap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679469524,"creation_date":1678987487,"answer_id":75759644,"question_id":51424205,"body_markdown":"    public class maxmin {\r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t    int[] arr = {0,3,15,10,20,2,1,5};\r\n    \t    \r\n    \t    int min1 = arr[0];\r\n    \t    int min2 = arr[1];\r\n    \t    \r\n    \t    int max1 = arr[0];\r\n    \t    int max2 = 0;\r\n    \t    \r\n    \t    for(int i=1;i&lt;arr.length;i++) {\r\n    \t        if(arr[i] &gt; max1) {\r\n    \t            max2 = max1;\r\n    \t            max1 = arr[i]; \r\n    \t        }\r\n    \t        else if(arr[i] &gt; max2) {\r\n    \t        \tmax2 = arr[i];\r\n    \t        }        \r\n    \t        if(arr[i] &lt; min1){\r\n    \t            min2 = min1;\r\n    \t            min1 = arr[i];\r\n    \t        }\r\n    \t        else if(arr[i] &lt; min2) {\r\n    \t        \tmin2 = arr[i];\r\n    \t        }\r\n    \t    }    \r\n    \t    System.out.println(&quot;Max1 = &quot;+max1+&quot; Max2 = &quot;+max2);\r\n    \t    System.out.println(&quot;Min1 = &quot;+min1+&quot; Min2 = &quot;+min2);\r\n    \t}\r\n    }\r\n\r\n","title":"how to program to find the largest 2 numbers and the smallest 2 numbers in the array in java","body":"<pre><code>public class maxmin {\n    public static void main(String[] args) {\n\n        int[] arr = {0,3,15,10,20,2,1,5};\n        \n        int min1 = arr[0];\n        int min2 = arr[1];\n        \n        int max1 = arr[0];\n        int max2 = 0;\n        \n        for(int i=1;i&lt;arr.length;i++) {\n            if(arr[i] &gt; max1) {\n                max2 = max1;\n                max1 = arr[i]; \n            }\n            else if(arr[i] &gt; max2) {\n                max2 = arr[i];\n            }        \n            if(arr[i] &lt; min1){\n                min2 = min1;\n                min1 = arr[i];\n            }\n            else if(arr[i] &lt; min2) {\n                min2 = arr[i];\n            }\n        }    \n        System.out.println(&quot;Max1 = &quot;+max1+&quot; Max2 = &quot;+max2);\n        System.out.println(&quot;Min1 = &quot;+min1+&quot; Min2 = &quot;+min2);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13946556,"reputation":35,"user_id":10071173,"display_name":"Adarsh Mishra"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8786,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":51424347,"answer_count":4,"score":-3,"last_activity_date":1679469524,"creation_date":1532007693,"question_id":51424205,"body_markdown":"finding largest and smallest in array is known, as i done in my below code\r\nbut now how to print the **two** largest and **two** smallest elements from the array.\r\n\r\n    class twolargestsmallest \r\n    {\r\n    public static void main(String args[]) {\r\n    int a[]=new int[]{2,20,34,12,67};\r\n    int smallest=a[0];\r\n    int largest=a[0];\r\n    for(int i=0;i&lt;a.length;i++){\r\n    if(a[i]&lt;smallest){\r\n    smallest=a[i]; }\r\n    if(a[i]&gt;largest){ \r\n    largest=a[i]; }}\r\n    System.out.println(smallest+&quot; &quot;+largest); }}","title":"how to program to find the largest 2 numbers and the smallest 2 numbers in the array in java","body":"<p>finding largest and smallest in array is known, as i done in my below code\nbut now how to print the <strong>two</strong> largest and <strong>two</strong> smallest elements from the array.</p>\n\n<pre><code>class twolargestsmallest \n{\npublic static void main(String args[]) {\nint a[]=new int[]{2,20,34,12,67};\nint smallest=a[0];\nint largest=a[0];\nfor(int i=0;i&lt;a.length;i++){\nif(a[i]&lt;smallest){\nsmallest=a[i]; }\nif(a[i]&gt;largest){ \nlargest=a[i]; }}\nSystem.out.println(smallest+\" \"+largest); }}\n</code></pre>\n"},{"tags":["java","visual-studio-code","intellicode"],"comments":[{"owner":{"account_id":9072254,"reputation":1014,"user_id":6754986,"display_name":"LinFelix"},"score":0,"creation_date":1660747299,"post_id":73388325,"comment_id":129606264,"body_markdown":"Have you check your network connectivity and firewall?","body":"Have you check your network connectivity and firewall?"}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660801771,"creation_date":1660801771,"answer_id":73398006,"question_id":73388325,"body_markdown":"Install the latest version of VS Code, and turn on *network proxy support*.\r\n\r\n&gt; [![enter image description here][1]][1]\r\n&gt;\r\n&gt; Setting it to `override` should work best for most setups, try `on` for comparison when that doesn&#39;t work well\r\n\r\nIf the problem persists, please refer to these two GitHub issues.\r\n\r\nhttps://github.com/MicrosoftDocs/intellicode/issues/4\r\n\r\nhttps://github.com/MicrosoftDocs/intellicode/issues/49#issuecomment-455082089\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BPhRa.png","title":"couldn&#39;t download intellicode model. please check your network connectivity or firewall settings in vs code","body":"<p>Install the latest version of VS Code, and turn on <em>network proxy support</em>.</p>\n<blockquote>\n<p><a href=\"https://i.stack.imgur.com/BPhRa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BPhRa.png\" alt=\"enter image description here\" /></a></p>\n<p>Setting it to <code>override</code> should work best for most setups, try <code>on</code> for comparison when that doesn't work well</p>\n</blockquote>\n<p>If the problem persists, please refer to these two GitHub issues.</p>\n<p><a href=\"https://github.com/MicrosoftDocs/intellicode/issues/4\" rel=\"nofollow noreferrer\">https://github.com/MicrosoftDocs/intellicode/issues/4</a></p>\n<p><a href=\"https://github.com/MicrosoftDocs/intellicode/issues/49#issuecomment-455082089\" rel=\"nofollow noreferrer\">https://github.com/MicrosoftDocs/intellicode/issues/49#issuecomment-455082089</a></p>\n"},{"tags":[],"owner":{"account_id":303451,"reputation":1,"user_id":612395,"display_name":"Xie Shaohu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679469507,"creation_date":1679057149,"answer_id":75767753,"question_id":73388325,"body_markdown":"It&#39;s work for me.\r\n\r\n1. setting proxy.\r\n   \r\n\r\n    {&quot;http.proxySupport&quot;: &quot;override&quot;,\r\n       &quot;http.proxy&quot;: &quot;socks5://127.0.0.1:xxxx&quot;}\r\n\r\n2. setting path, fix &quot;EROFS: read-only file system, open &#39;models.json&#39;, (Error)&quot;.\r\n\r\n      {&quot;vsintellicode.modelDownloadPath&quot;: &quot;/Users/xxxx/.vscode/vsintellicodemodels&quot;}","title":"couldn&#39;t download intellicode model. please check your network connectivity or firewall settings in vs code","body":"<p>It's work for me.</p>\n<ol>\n<li><p>setting proxy.</p>\n<p>{&quot;http.proxySupport&quot;: &quot;override&quot;,\n&quot;http.proxy&quot;: &quot;socks5://127.0.0.1:xxxx&quot;}</p>\n</li>\n<li><p>setting path, fix &quot;EROFS: read-only file system, open 'models.json', (Error)&quot;.</p>\n<p>{&quot;vsintellicode.modelDownloadPath&quot;: &quot;/Users/xxxx/.vscode/vsintellicodemodels&quot;}</p>\n</li>\n</ol>\n"}],"owner":{"account_id":25221995,"reputation":11,"user_id":19058319,"display_name":"Huddy Mantic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":919,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1679469507,"creation_date":1660738556,"question_id":73388325,"body_markdown":"I have downloaded JDK, java extension pack and code runner.\r\nWhen I run my program it says &quot; couldn&#39;t download intellicode model. please check your network connectivity or firewall settings &quot;.\r\n\r\n\r\n\r\nANY SOLUTION!","title":"couldn&#39;t download intellicode model. please check your network connectivity or firewall settings in vs code","body":"<p>I have downloaded JDK, java extension pack and code runner.\nWhen I run my program it says &quot; couldn't download intellicode model. please check your network connectivity or firewall settings &quot;.</p>\n<p>ANY SOLUTION!</p>\n"},{"tags":["java","spring","spring-boot","spring-boot-test"],"comments":[{"owner":{"account_id":5277424,"reputation":2670,"user_id":4213803,"accept_rate":80,"display_name":"V&#252;sal"},"score":0,"creation_date":1679418450,"post_id":75804268,"comment_id":133717416,"body_markdown":"`This missing bean is in a dependency JAR and defined like so` - does spring scan the package of that bean?","body":"<code>This missing bean is in a dependency JAR and defined like so</code> - does spring scan the package of that bean?"},{"owner":{"account_id":222726,"reputation":3846,"user_id":481528,"accept_rate":67,"display_name":"selalerer"},"score":0,"creation_date":1679419027,"post_id":75804268,"comment_id":133717589,"body_markdown":"@V&#252;sal AFAIK yes. The service (not in test) goes up without a problem. I expected the test to do the same scan and add test resource library too","body":"@V&#252;sal AFAIK yes. The service (not in test) goes up without a problem. I expected the test to do the same scan and add test resource library too"},{"owner":{"account_id":1430778,"reputation":3528,"user_id":1353243,"accept_rate":64,"display_name":"thar45"},"score":0,"creation_date":1679419176,"post_id":75804268,"comment_id":133717630,"body_markdown":"@selalerer do we have complete stack trace of the error ?","body":"@selalerer do we have complete stack trace of the error ?"},{"owner":{"account_id":222726,"reputation":3846,"user_id":481528,"accept_rate":67,"display_name":"selalerer"},"score":0,"creation_date":1679419455,"post_id":75804268,"comment_id":133717710,"body_markdown":"@thar45 I added in the question now. Thanks :-)","body":"@thar45 I added in the question now. Thanks :-)"},{"owner":{"account_id":1430778,"reputation":3528,"user_id":1353243,"accept_rate":64,"display_name":"thar45"},"score":0,"creation_date":1679421190,"post_id":75804268,"comment_id":133718247,"body_markdown":"@selalerer  can you please try using &quot;@AutoConfigureMockMvc&quot;  along with &quot;@SpringBootTest&quot;","body":"@selalerer  can you please try using &quot;@AutoConfigureMockMvc&quot;  along with &quot;@SpringBootTest&quot;"},{"owner":{"account_id":222726,"reputation":3846,"user_id":481528,"accept_rate":67,"display_name":"selalerer"},"score":1,"creation_date":1679468698,"post_id":75804268,"comment_id":133725550,"body_markdown":"@thar45 I found a solution (added it in an answer below). Thank you very much for looking into it","body":"@thar45 I found a solution (added it in an answer below). Thank you very much for looking into it"}],"answers":[{"tags":[],"owner":{"account_id":222726,"reputation":3846,"user_id":481528,"accept_rate":67,"display_name":"selalerer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679468652,"creation_date":1679468652,"answer_id":75809235,"question_id":75804268,"body_markdown":"The problem was solved when I changed the resource name to a Spring style resource name, added `classpath:` before it like so:\r\n```\r\n@ConditionalOnResource(resources = &quot;${cptls.mailing.fields.config-file:classpath:messageToFieldsConfiguration.json}&quot;)\r\n```\r\nI&#39;m not sure why it didn&#39;t work before. I would expect that the class path will be the default place to search for the resource, but adding it explicitly solved the problem","title":"`@SpringBootTest` not loading a component that is conditional on a resource","body":"<p>The problem was solved when I changed the resource name to a Spring style resource name, added <code>classpath:</code> before it like so:</p>\n<pre><code>@ConditionalOnResource(resources = &quot;${cptls.mailing.fields.config-file:classpath:messageToFieldsConfiguration.json}&quot;)\n</code></pre>\n<p>I'm not sure why it didn't work before. I would expect that the class path will be the default place to search for the resource, but adding it explicitly solved the problem</p>\n"}],"owner":{"account_id":222726,"reputation":3846,"user_id":481528,"accept_rate":67,"display_name":"selalerer"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75809235,"answer_count":1,"score":0,"last_activity_date":1679468652,"creation_date":1679418230,"question_id":75804268,"body_markdown":"The SpringBoot annotations I use for the test:\r\n```\r\n@SpringBootTest(classes = MessagingServiceApplication.class)\r\n@EnableAutoConfiguration(exclude = {\r\n        DataSourceAutoConfiguration.class,\r\n        DataSourceTransactionManagerAutoConfiguration.class,\r\n        HibernateJpaAutoConfiguration.class\r\n})\r\n```\r\nThe error I&#39;m getting:\r\n```\r\nNo qualifying bean of type &#39;com.blabla.bla.MessagingService&#39; available\r\n```\r\nThis missing bean is in a dependency JAR and defined like so:\r\n```\r\n@Service\r\n@Slf4j\r\n@ConditionalOnResource(resources = &quot;${cptls.mailing.fields.config-file:messageToFieldsConfiguration.json}&quot;)\r\npublic class MessagingService {\r\n```\r\nThe resource file exists in the non-test resource folder:\r\n[![folder structure][1]][1]\r\n\r\nAny ideas why it is not creating this bean or not finding this bean in the application context?\r\n\r\nStack trace:\r\n```\r\n\r\njava.lang.IllegalStateException: Failed to load ApplicationContext\r\n\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)\r\n\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\r\n\tat org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)\r\n\tat org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)\r\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)\r\n\tat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\r\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\r\n\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\r\n\tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)\r\n\tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;messagingServiceController&#39;: Unsatisfied dependency expressed through field &#39;messagingService&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.blabla.bla.MessagingService&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:660)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640)\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)\r\n\t... 71 more\r\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.blabla.bla.MessagingService&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1801)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1357)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:657)\r\n\t... 90 more\r\n\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/snqn3.png","title":"`@SpringBootTest` not loading a component that is conditional on a resource","body":"<p>The SpringBoot annotations I use for the test:</p>\n<pre><code>@SpringBootTest(classes = MessagingServiceApplication.class)\n@EnableAutoConfiguration(exclude = {\n        DataSourceAutoConfiguration.class,\n        DataSourceTransactionManagerAutoConfiguration.class,\n        HibernateJpaAutoConfiguration.class\n})\n</code></pre>\n<p>The error I'm getting:</p>\n<pre><code>No qualifying bean of type 'com.blabla.bla.MessagingService' available\n</code></pre>\n<p>This missing bean is in a dependency JAR and defined like so:</p>\n<pre><code>@Service\n@Slf4j\n@ConditionalOnResource(resources = &quot;${cptls.mailing.fields.config-file:messageToFieldsConfiguration.json}&quot;)\npublic class MessagingService {\n</code></pre>\n<p>The resource file exists in the non-test resource folder:\n<a href=\"https://i.stack.imgur.com/snqn3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/snqn3.png\" alt=\"folder structure\" /></a></p>\n<p>Any ideas why it is not creating this bean or not finding this bean in the application context?</p>\n<p>Stack trace:</p>\n<pre><code>\njava.lang.IllegalStateException: Failed to load ApplicationContext\n\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\n    at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)\n    at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)\n    at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)\n    at java.base/java.util.Optional.orElseGet(Optional.java:364)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)\n    at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'messagingServiceController': Unsatisfied dependency expressed through field 'messagingService'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.blabla.bla.MessagingService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:660)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)\n    ... 71 more\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.blabla.bla.MessagingService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1801)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1357)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:657)\n    ... 90 more\n\n</code></pre>\n"},{"tags":["java","kotlin","sonarqube"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1679468031,"post_id":75809111,"comment_id":133725460,"body_markdown":"Catch subclasses of exception. Not the general `Exception`. BTW: Seeing the code would be very helpful","body":"Catch subclasses of exception. Not the general <code>Exception</code>. BTW: Seeing the code would be very helpful"},{"owner":{"account_id":8986718,"reputation":2467,"user_id":6700081,"accept_rate":73,"display_name":"firstpostcommenter"},"score":1,"creation_date":1679469004,"post_id":75809111,"comment_id":133725599,"body_markdown":"I dont know and care about what exception it is. I just want to log and rethrow it. A totally valid case especially in aspects etc. I can then search for this specific text in Splunk, Kibana, Grafana etc to create a dashboard. Seems to be a common usecase","body":"I dont know and care about what exception it is. I just want to log and rethrow it. A totally valid case especially in aspects etc. I can then search for this specific text in Splunk, Kibana, Grafana etc to create a dashboard. Seems to be a common usecase"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1679469982,"post_id":75809111,"comment_id":133725789,"body_markdown":"you prefer not to care, but SonarQube is specifically designed to sniff out such &quot;code smells&quot;.","body":"you prefer not to care, but SonarQube is specifically designed to sniff out such &quot;code smells&quot;."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1679470537,"post_id":75809111,"comment_id":133725892,"body_markdown":"Sonar is a useful tool but it’s also dumb. What about fudging with catch(Error | Exception e){? Or further down to a handful of relevant Exception types. Valid question - upvote.","body":"Sonar is a useful tool but it’s also dumb. What about fudging with catch(Error | Exception e){? Or further down to a handful of relevant Exception types. Valid question - upvote."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1679472244,"post_id":75809111,"comment_id":133726252,"body_markdown":"Sonar is a tool to help you find (potential) problems in your code. If you think catching `Exception` is appropriate here, then why do you care that Sonar tells you otherwise. It uses heuristics, but those don&#39;t always apply. Suppress the rule or this specific reported &quot;violation&quot;, and move on.","body":"Sonar is a tool to help you find (potential) problems in your code. If you think catching <code>Exception</code> is appropriate here, then why do you care that Sonar tells you otherwise. It uses heuristics, but those don&#39;t always apply. Suppress the rule or this specific reported &quot;violation&quot;, and move on."},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":2,"creation_date":1679473830,"post_id":75809111,"comment_id":133726592,"body_markdown":"Every Sonar warning has a code - I guess that you are getting  RSPEC-2221 (from https://rules.sonarsource.com/java/RSPEC-2221  ).  You can put an `@SuppressWarnings(“RSPEC-2221”)` before that `catch` to ignore that specific check before that specific statement.   You should ALWAYS be able to justify each use of @SuppressWarnings (it should NOT be used frequently)","body":"Every Sonar warning has a code - I guess that you are getting  RSPEC-2221 (from <a href=\"https://rules.sonarsource.com/java/RSPEC-2221\" rel=\"nofollow noreferrer\">rules.sonarsource.com/java/RSPEC-2221</a>  ).  You can put an <code>@SuppressWarnings(“RSPEC-2221”)</code> before that <code>catch</code> to ignore that specific check before that specific statement.   You should ALWAYS be able to justify each use of @SuppressWarnings (it should NOT be used frequently)"},{"owner":{"account_id":8986718,"reputation":2467,"user_id":6700081,"accept_rate":73,"display_name":"firstpostcommenter"},"score":0,"creation_date":1679474597,"post_id":75809111,"comment_id":133726798,"body_markdown":"Mark Rotteveel: I will suppress the rule but before doing that I wanted to check if there is some way I can pass the sonar rule or change my code or something. From the comments, It looks like this is a valid situation to use @SuppressWarnings","body":"Mark Rotteveel: I will suppress the rule but before doing that I wanted to check if there is some way I can pass the sonar rule or change my code or something. From the comments, It looks like this is a valid situation to use @SuppressWarnings"},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1679476268,"post_id":75809111,"comment_id":133727254,"body_markdown":"“_I see downvotes but not even a comment about how to handle this_” I’d bet that it’s because you didn’t include the code in question until your edit.","body":"“<i>I see downvotes but not even a comment about how to handle this</i>” I’d bet that it’s because you didn’t include the code in question until your edit."},{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":0,"creation_date":1679481616,"post_id":75809111,"comment_id":133728528,"body_markdown":"The solution to pass the check is just as sonar says, don&#39;t catch the Exception superclass, catch subclasses. If you don&#39;t want to do that then ignore this specific case, sonar lets you ignore individual warnings, or remove the rule from your sonar rules. What are you seeking here, some hack around to trick sonar into not raising the warning?","body":"The solution to pass the check is just as sonar says, don&#39;t catch the Exception superclass, catch subclasses. If you don&#39;t want to do that then ignore this specific case, sonar lets you ignore individual warnings, or remove the rule from your sonar rules. What are you seeking here, some hack around to trick sonar into not raising the warning?"},{"owner":{"account_id":8986718,"reputation":2467,"user_id":6700081,"accept_rate":73,"display_name":"firstpostcommenter"},"score":0,"creation_date":1679482040,"post_id":75809111,"comment_id":133728634,"body_markdown":"I am not sure if its a hack. I was looking for a valid solution since this is a valid case where it is not possible to catch subclasses. Looks like SupressWarning is the right solution for this problem of &quot;log and rethrow&quot;","body":"I am not sure if its a hack. I was looking for a valid solution since this is a valid case where it is not possible to catch subclasses. Looks like SupressWarning is the right solution for this problem of &quot;log and rethrow&quot;"}],"owner":{"account_id":8986718,"reputation":2467,"user_id":6700081,"accept_rate":73,"display_name":"firstpostcommenter"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":508,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":0,"score":1,"last_activity_date":1679468492,"creation_date":1679467557,"question_id":75809111,"body_markdown":"Sonar complains when catching the generic type Exception, but I want to catch the exception and log the details(with a specific text that I can search easily in the logs) and re-throw the exception.\r\n\r\nI even tried `catch(throwable)` and yet sonar complains with the same message.\r\n\r\nWhat is the solution to pass this sonar check?\r\n\r\nSample code in Kotlin:\r\n\r\n    import mu.KotlinLogging\r\n    import org.aspectj.lang.ProceedingJoinPoint\r\n    import org.aspectj.lang.annotation.Around\r\n    import org.aspectj.lang.annotation.Aspect\r\n    import org.springframework.stereotype.Component\r\n    import java.util.concurrent.TimeUnit\r\n    \r\n    @Aspect\r\n    @Component\r\n    class LogExceptionAndTimeAspect {\r\n      private val log = KotlinLogging.logger { }\r\n    \r\n      @Around(&quot;apiPackage()&quot;)\r\n      fun logExecutionTimeAndExceptionDetails(joinPoint: ProceedingJoinPoint): Any {\r\n    \r\n        val signature = joinPoint.signature.toShortString()\r\n        val methodArguments = joinPoint.args.joinToString { &quot;${it.javaClass.simpleName}($it)&quot; }\r\n        log.debug(&quot;Start....&quot;)\r\n    \r\n        val start = System.currentTimeMillis()\r\n        val result = try {\r\n          joinPoint.proceed()\r\n        } catch (throwable: Throwable) { //Error is programmatically unrecoverable\r\n          val exceptionDetails = throwable.stackTraceToString().replace(System.lineSeparator(), &quot;&quot;)\r\n          log.error {\r\n            &quot;Error that is searchable is $signature, parameters: [$methodArguments], exception is $exceptionDetails&quot;\r\n          }\r\n          log.debug(&quot;End....&quot;)\r\n          throw throwable\r\n        }\r\n\r\n        val duration = System.currentTimeMillis() - start\r\n        val durationInSeconds = TimeUnit.MILLISECONDS.toSeconds(duration)\r\n        log.info {\r\n          &quot;Aspect: the method $signature, parameters: [$methodArguments], took around $durationInSeconds seconds&quot;\r\n        }\r\n        log.debug(&quot;End....&quot;)\r\n        return result\r\n      }\r\n    \r\n    }\r\n","title":"Sonarqube - Caught exception is too generic. Prefer catching specific exceptions to the case that is currently handled","body":"<p>Sonar complains when catching the generic type Exception, but I want to catch the exception and log the details(with a specific text that I can search easily in the logs) and re-throw the exception.</p>\n<p>I even tried <code>catch(throwable)</code> and yet sonar complains with the same message.</p>\n<p>What is the solution to pass this sonar check?</p>\n<p>Sample code in Kotlin:</p>\n<pre><code>import mu.KotlinLogging\nimport org.aspectj.lang.ProceedingJoinPoint\nimport org.aspectj.lang.annotation.Around\nimport org.aspectj.lang.annotation.Aspect\nimport org.springframework.stereotype.Component\nimport java.util.concurrent.TimeUnit\n\n@Aspect\n@Component\nclass LogExceptionAndTimeAspect {\n  private val log = KotlinLogging.logger { }\n\n  @Around(&quot;apiPackage()&quot;)\n  fun logExecutionTimeAndExceptionDetails(joinPoint: ProceedingJoinPoint): Any {\n\n    val signature = joinPoint.signature.toShortString()\n    val methodArguments = joinPoint.args.joinToString { &quot;${it.javaClass.simpleName}($it)&quot; }\n    log.debug(&quot;Start....&quot;)\n\n    val start = System.currentTimeMillis()\n    val result = try {\n      joinPoint.proceed()\n    } catch (throwable: Throwable) { //Error is programmatically unrecoverable\n      val exceptionDetails = throwable.stackTraceToString().replace(System.lineSeparator(), &quot;&quot;)\n      log.error {\n        &quot;Error that is searchable is $signature, parameters: [$methodArguments], exception is $exceptionDetails&quot;\n      }\n      log.debug(&quot;End....&quot;)\n      throw throwable\n    }\n\n    val duration = System.currentTimeMillis() - start\n    val durationInSeconds = TimeUnit.MILLISECONDS.toSeconds(duration)\n    log.info {\n      &quot;Aspect: the method $signature, parameters: [$methodArguments], took around $durationInSeconds seconds&quot;\n    }\n    log.debug(&quot;End....&quot;)\n    return result\n  }\n\n}\n</code></pre>\n"},{"tags":["java","android","kotlin"],"owner":{"account_id":27899144,"reputation":21,"user_id":21303796,"display_name":"Junaid Raees"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679467277,"creation_date":1679226091,"question_id":75781712,"body_markdown":"Following code is suppose to send a data to my google sheet. however as soon as I build it shows subjected error:\r\nFollowing code is Orderlog.kt file\r\n\r\n    class OrderLog : AppCompatActivity() {\r\n    \r\n        lateinit var editTextNumberSigned:EditText\r\n        lateinit var rfdbtn:Button\r\n    \r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            setContentView(R.layout.activity_order_log)\r\n    \r\n            editTextNumberSigned = findViewById(R.id.editTextNumberSigned)\r\n            rfdbtn = findViewById(R.id.rfdbtn)\r\n    \r\n            rfdbtn.setOnClickListener {\r\n                if (editTextNumberSigned.text.toString().isEmpty()){      //inserted curly\r\n                    Toast.makeText(this@OrderLog, &quot;Enter Job Number&quot;, Toast.LENGTH_SHORT).show()\r\n                } else {  //inserted curly\r\n                    val url = &quot;https://script.google.com/macros/s/AKfycbyx_FUwzu05qmsfL7jsQbYJwk37VNphQq5PcN7_G3e73m0aPU38MX4_upms_KKuLv1dlA/exec&quot;\r\n    \r\n                    val stringRequest = object : StringRequest(Request.Method.Post, url,\r\n                        { response -&gt;\r\n                            //button.text = &quot;Response is: ${response}&quot;\r\n                            Toast.makeText(this@OrderLog, it.toString(), Toast.LENGTH_SHORTGTH).show()\r\n                        },\r\n                        {\r\n                            Button.text = &quot;That didn&#39;t work!&quot;\r\n                        }\r\n                    ) {\r\n                        override fun getParams(): MutableMap&lt;string, string&gt; {\r\n                            val params = HashMap&lt;string, string&gt;()\r\n                            params[&quot;JobNumber&quot;] = editTextNumberSigned.text.toString()\r\n                            return params\r\n                        }\r\n                    }\r\n                }\r\n                val queue = Volley.newRequestQueue( this@OrderLog)\r\n                queue.add(stringRequest)\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n","title":"OrderLog.kt:13:39 Cannot access &#39;CompletedContinuation&#39;: it is internal in &#39;kotlin.coroutines.jvm.internal&#39;","body":"<p>Following code is suppose to send a data to my google sheet. however as soon as I build it shows subjected error:\nFollowing code is Orderlog.kt file</p>\n<pre><code>class OrderLog : AppCompatActivity() {\n\n    lateinit var editTextNumberSigned:EditText\n    lateinit var rfdbtn:Button\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_order_log)\n\n        editTextNumberSigned = findViewById(R.id.editTextNumberSigned)\n        rfdbtn = findViewById(R.id.rfdbtn)\n\n        rfdbtn.setOnClickListener {\n            if (editTextNumberSigned.text.toString().isEmpty()){      //inserted curly\n                Toast.makeText(this@OrderLog, &quot;Enter Job Number&quot;, Toast.LENGTH_SHORT).show()\n            } else {  //inserted curly\n                val url = &quot;https://script.google.com/macros/s/AKfycbyx_FUwzu05qmsfL7jsQbYJwk37VNphQq5PcN7_G3e73m0aPU38MX4_upms_KKuLv1dlA/exec&quot;\n\n                val stringRequest = object : StringRequest(Request.Method.Post, url,\n                    { response -&gt;\n                        //button.text = &quot;Response is: ${response}&quot;\n                        Toast.makeText(this@OrderLog, it.toString(), Toast.LENGTH_SHORTGTH).show()\n                    },\n                    {\n                        Button.text = &quot;That didn't work!&quot;\n                    }\n                ) {\n                    override fun getParams(): MutableMap&lt;string, string&gt; {\n                        val params = HashMap&lt;string, string&gt;()\n                        params[&quot;JobNumber&quot;] = editTextNumberSigned.text.toString()\n                        return params\n                    }\n                }\n            }\n            val queue = Volley.newRequestQueue( this@OrderLog)\n            queue.add(stringRequest)\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading","project-loom","virtual-threads"],"comments":[{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1678705345,"post_id":75712988,"comment_id":133579099,"body_markdown":"This blocks in JDK14 if substitute `var thread = new Thread(task); thread.start();`- so deadlock is not to do with virtual threads. Its more likely that the lambda is converted to static method of the class, and class isn&#39;t initialised at the point you call it from it&#39;s own static code.","body":"This blocks in JDK14 if substitute <code>var thread = new Thread(task); thread.start();</code>- so deadlock is not to do with virtual threads. Its more likely that the lambda is converted to static method of the class, and class isn&#39;t initialised at the point you call it from it&#39;s own static code."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1679053052,"post_id":75712988,"comment_id":133655941,"body_markdown":"There’s no behavioral difference between virtual threads and platform threads in this regard and this issue is known as long as we have lambda expressions in Java. And if you use a “plain `Runnable`” that calls back a static method in the outer class, you’ll get exactly the same behavior.","body":"There’s no behavioral difference between virtual threads and platform threads in this regard and this issue is known as long as we have lambda expressions in Java. And if you use a “plain <code>Runnable</code>” that calls back a static method in the outer class, you’ll get exactly the same behavior."}],"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1679051362,"answer_count":0,"score":1,"last_activity_date":1679467194,"creation_date":1678622803,"question_id":75712988,"body_markdown":"**Note**: I&#39;m well aware that creating threads in static initialisers is discouraged. Yet, exploring edge cases can provide interesting insight and uncover undesired behaviour or bugs. Hence this question. \r\n\r\nExperimenting with virtual threads in Java 20, I discovered some inconsistent behaviour when creating a virtual thread in a static initialiser that does nothing and is joined immediately:\r\n\r\n    static {\r\n        Runnable task = () -&gt; {};\r\n        var thread = Thread.startVirtualThread(task);\r\n        try {\r\n            thread.join();\r\n        } catch (InterruptedException e) {}\r\n    }\r\n\r\nHere the call to `join()` blocks indefinitely. This is **different from using a platform thread** where `join()` returns immediately. The blocking behaviour is also very sensitive to the `task`. There is no blocking if `task` is an instance of a `Runnable` instead of a lambda. Neither is there any blocking if `task = SomeOtherClass.NOOP`, where `SomeOtherClass.NOOP = () -&gt; {}`.\r\n\r\n**Questions:**\r\n* While I have some broad understanding why such behaviour might happen with virtual threads vs. real threads, is such behaviour documented or at least anticipated? \r\n* What makes using those noop lambdas inline so special such that only these cause the blocking? It looks like they lead to a static initialisation &quot;deadlock&quot;. But why wouldn&#39;t that happen when using a plain `Runnable` instead?","title":"Why does joining a no-op virtual thread in a static initialiser block indefinitely?","body":"<p><strong>Note</strong>: I'm well aware that creating threads in static initialisers is discouraged. Yet, exploring edge cases can provide interesting insight and uncover undesired behaviour or bugs. Hence this question.</p>\n<p>Experimenting with virtual threads in Java 20, I discovered some inconsistent behaviour when creating a virtual thread in a static initialiser that does nothing and is joined immediately:</p>\n<pre><code>static {\n    Runnable task = () -&gt; {};\n    var thread = Thread.startVirtualThread(task);\n    try {\n        thread.join();\n    } catch (InterruptedException e) {}\n}\n</code></pre>\n<p>Here the call to <code>join()</code> blocks indefinitely. This is <strong>different from using a platform thread</strong> where <code>join()</code> returns immediately. The blocking behaviour is also very sensitive to the <code>task</code>. There is no blocking if <code>task</code> is an instance of a <code>Runnable</code> instead of a lambda. Neither is there any blocking if <code>task = SomeOtherClass.NOOP</code>, where <code>SomeOtherClass.NOOP = () -&gt; {}</code>.</p>\n<p><strong>Questions:</strong></p>\n<ul>\n<li>While I have some broad understanding why such behaviour might happen with virtual threads vs. real threads, is such behaviour documented or at least anticipated?</li>\n<li>What makes using those noop lambdas inline so special such that only these cause the blocking? It looks like they lead to a static initialisation &quot;deadlock&quot;. But why wouldn't that happen when using a plain <code>Runnable</code> instead?</li>\n</ul>\n"},{"tags":["java","properties","swagger-2.0","swagger-codegen"],"owner":{"account_id":9457047,"reputation":15,"user_id":7032023,"display_name":"Abhishek Patil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679467178,"creation_date":1679467178,"question_id":75809068,"body_markdown":"I am using io.swagger.models.properties.Property , io.swagger.models.ModelImpl and class to store the values of property in model. and code is\r\n\r\n    if (!inputs.isEmpty() &amp;&amp; inputs.size() &gt; 0) {\r\n    \t\t\tfor (Input input : inputs) {\r\n    \t\t\t\tProperty property = null;\r\n    \t\t\t\tif (input.getType().equals(&quot;list&quot;) || input.getType().equals(&quot;map&quot;))\r\n    \t\t\t\t\tproperty = PropertyBuilder.build(&quot;array&quot;, null, null);\r\n    \t\t\t\telse\r\n    \t\t\t\t\tproperty = PropertyBuilder.build(input.getType(), null, null);\r\n    \r\n    \t\t\t\tproperty.setDescription(input.getDescription());\r\n    \t\t\t\tproperty.setRequired(input.isRequired());\r\n    \t\t\t\tif (input.getDefault() != null) {\r\n    \t\t\t\t\tLOGGER.info(&quot;buildAndSaveResponseWithSdcToscaParser setting default {} &quot;,input.getDefault().toString());\r\n    \t\t\t\t\tproperty.setDefault(input.getDefault().toString());\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\t((ModelImpl) model).addProperty(input.getName(), property);\r\n    \t\t\t\tLOGGER.info(&quot;buildAndSaveResponseWithSdcToscaParser model xml  -&gt; {}&quot;,((ModelImpl) model).getXml());\r\n    \t\t\t}\r\n    \t\t\tLOGGER.info(&quot;buildAndSaveResponseWithSdcToscaParser model property values {}&quot;, model.getProperties().values());\r\n    \r\n    \t\t\tdefinitions.put(&quot;ServiceCharacteristics&quot;, model);\r\n    \r\n    \t\t}\r\n\r\nand dependency in pom for swagger is \r\n\r\n     &lt;dependency&gt;\r\n      &lt;groupId&gt;io.swagger&lt;/groupId&gt;\r\n      &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\r\n      &lt;version&gt;1.5.23&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;!-- swagger core --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.swagger&lt;/groupId&gt;\r\n      &lt;artifactId&gt;swagger-core&lt;/artifactId&gt;\r\n      &lt;version&gt;1.5.23&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nhere the problem is if there is default values present other than String and Boolean data type, I am not able to get this values in definition map I tried to print Property and map as well but no luck.\r\nCould anyone please help on this? \r\nThanks","title":"Not able to read integer value in io.swagger.models.properties.Property class","body":"<p>I am using io.swagger.models.properties.Property , io.swagger.models.ModelImpl and class to store the values of property in model. and code is</p>\n<pre><code>if (!inputs.isEmpty() &amp;&amp; inputs.size() &gt; 0) {\n            for (Input input : inputs) {\n                Property property = null;\n                if (input.getType().equals(&quot;list&quot;) || input.getType().equals(&quot;map&quot;))\n                    property = PropertyBuilder.build(&quot;array&quot;, null, null);\n                else\n                    property = PropertyBuilder.build(input.getType(), null, null);\n\n                property.setDescription(input.getDescription());\n                property.setRequired(input.isRequired());\n                if (input.getDefault() != null) {\n                    LOGGER.info(&quot;buildAndSaveResponseWithSdcToscaParser setting default {} &quot;,input.getDefault().toString());\n                    property.setDefault(input.getDefault().toString());\n                }\n\n                ((ModelImpl) model).addProperty(input.getName(), property);\n                LOGGER.info(&quot;buildAndSaveResponseWithSdcToscaParser model xml  -&gt; {}&quot;,((ModelImpl) model).getXml());\n            }\n            LOGGER.info(&quot;buildAndSaveResponseWithSdcToscaParser model property values {}&quot;, model.getProperties().values());\n\n            definitions.put(&quot;ServiceCharacteristics&quot;, model);\n\n        }\n</code></pre>\n<p>and dependency in pom for swagger is</p>\n<pre><code> &lt;dependency&gt;\n  &lt;groupId&gt;io.swagger&lt;/groupId&gt;\n  &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\n  &lt;version&gt;1.5.23&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- swagger core --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.swagger&lt;/groupId&gt;\n  &lt;artifactId&gt;swagger-core&lt;/artifactId&gt;\n  &lt;version&gt;1.5.23&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>here the problem is if there is default values present other than String and Boolean data type, I am not able to get this values in definition map I tried to print Property and map as well but no luck.\nCould anyone please help on this?\nThanks</p>\n"},{"tags":["java","couchbase","spring-data-couchbase","couchbase-java-api"],"comments":[{"owner":{"account_id":303087,"reputation":8621,"user_id":611819,"accept_rate":100,"display_name":"dnault"},"score":0,"creation_date":1632420541,"post_id":69283434,"comment_id":122494260,"body_markdown":"That error only occurs in SDC 3.x and earlier. Can you upgrade to Spring Data Couchbase 4.x?","body":"That error only occurs in SDC 3.x and earlier. Can you upgrade to Spring Data Couchbase 4.x?"}],"answers":[{"tags":[],"owner":{"account_id":13598944,"reputation":21,"user_id":9810102,"display_name":"Bimsara Vikum Bandara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679466866,"creation_date":1679466866,"answer_id":75809035,"question_id":69283434,"body_markdown":"I was facing the same issue. reindexing resolved the problem for me.\r\nTry to add indexes or reindex for that query.  ","title":"Reactive couchbase issue content of this Observable (viewRow) is already released","body":"<p>I was facing the same issue. reindexing resolved the problem for me.\nTry to add indexes or reindex for that query.</p>\n"}],"owner":{"account_id":18384376,"reputation":11,"user_id":13391764,"display_name":"user13391764"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679466866,"creation_date":1632310550,"question_id":69283434,"body_markdown":"I’m using spring-data-couchbase with reactive approach &amp; getting the following error:\r\n\r\n&gt; The content of this Observable (viewRow) is already released.\r\n&gt; Subscribe earlier or tune the CouchbaseEnvironment#autoreleaseAfter()\r\n\r\n**Method definition**\r\n\r\n    default Flux&lt;NonPrimitiveAsset&gt; findAssetByParameters(StringBuilder whereClause) {\r\n    \r\n      WherePath selectFrom = N1qlUtils\r\n          .createSelectFromForEntity(getCouchbaseOperations().getCouchbaseBucket().name());\r\n    \r\n      Statement statement = selectFrom.where(whereClause.toString());\r\n    \r\n      N1qlQuery query = N1qlQuery.simple(statement, N1qlParams.build());\r\n      return ReactiveWrapperConverters\r\n          .toWrapper(getCouchbaseOperations().findByN1QL(query, NonPrimitiveAsset.class), Flux.class);\r\n    \r\n    }\r\n\r\n\r\n**Caller method**\r\n\r\n    Flux&lt;NonPrimitiveAsset&gt; assetFlux = repository.findAssetByParameters(whereClause);\r\n    \r\n    Mono&lt;List&lt;NonPrimitiveAsset&gt;&gt; assetsMono = assetFlux.collectList()","title":"Reactive couchbase issue content of this Observable (viewRow) is already released","body":"<p>I’m using spring-data-couchbase with reactive approach &amp; getting the following error:</p>\n<blockquote>\n<p>The content of this Observable (viewRow) is already released.\nSubscribe earlier or tune the CouchbaseEnvironment#autoreleaseAfter()</p>\n</blockquote>\n<p><strong>Method definition</strong></p>\n<pre><code>default Flux&lt;NonPrimitiveAsset&gt; findAssetByParameters(StringBuilder whereClause) {\n\n  WherePath selectFrom = N1qlUtils\n      .createSelectFromForEntity(getCouchbaseOperations().getCouchbaseBucket().name());\n\n  Statement statement = selectFrom.where(whereClause.toString());\n\n  N1qlQuery query = N1qlQuery.simple(statement, N1qlParams.build());\n  return ReactiveWrapperConverters\n      .toWrapper(getCouchbaseOperations().findByN1QL(query, NonPrimitiveAsset.class), Flux.class);\n\n}\n</code></pre>\n<p><strong>Caller method</strong></p>\n<pre><code>Flux&lt;NonPrimitiveAsset&gt; assetFlux = repository.findAssetByParameters(whereClause);\n\nMono&lt;List&lt;NonPrimitiveAsset&gt;&gt; assetsMono = assetFlux.collectList()\n</code></pre>\n"},{"tags":["java","wrapper","primitive-types"],"comments":[{"owner":{"account_id":4265322,"reputation":553,"user_id":3488579,"accept_rate":57,"display_name":"pankaj"},"score":2,"creation_date":1414140942,"post_id":1570416,"comment_id":60752535,"body_markdown":"http://www.w3resource.com/java-tutorial/java-wrapper-classes.php This article would helpful for this discussion.","body":"<a href=\"http://www.w3resource.com/java-tutorial/java-wrapper-classes.php\" rel=\"nofollow noreferrer\">w3resource.com/java-tutorial/java-wrapper-classes.php</a> This article would helpful for this discussion."}],"answers":[{"tags":[],"owner":{"account_id":24810,"reputation":44144,"user_id":63309,"accept_rate":70,"display_name":"Tom"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1255584418,"creation_date":1255583913,"answer_id":1570423,"question_id":1570416,"body_markdown":"If you want to use Collections, you *must* use Wrapper classes.\r\n\r\nPrimitive types, are used for arrays. Also, to represent data that has no behaviour,for example, a counter, or a boolean condition.\r\n\r\nSince autoboxing, the &quot;when to use primitive or wrapper&quot; frontier has become quite fuzzy.\r\n\r\nBut remember, Wrappers are objects, so you get all the fancy Java features. For example, you can use reflexion to create Integer objects, but not int values. Wrapper classes also have methods such as valueOf.","title":"When to use wrapper class and primitive type","body":"<p>If you want to use Collections, you <em>must</em> use Wrapper classes.</p>\n\n<p>Primitive types, are used for arrays. Also, to represent data that has no behaviour,for example, a counter, or a boolean condition.</p>\n\n<p>Since autoboxing, the \"when to use primitive or wrapper\" frontier has become quite fuzzy.</p>\n\n<p>But remember, Wrappers are objects, so you get all the fancy Java features. For example, you can use reflexion to create Integer objects, but not int values. Wrapper classes also have methods such as valueOf.</p>\n"},{"tags":[],"owner":{"account_id":20130,"reputation":279845,"user_id":47773,"accept_rate":52,"display_name":"Matthew Flaschen"},"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1255586835,"creation_date":1255583925,"answer_id":1570425,"question_id":1570416,"body_markdown":"Generally, you should use primitive types unless you *need* an object for some reason (e.g. to put in a collection).  Even then, consider a different approach that doesn&#39;t require a object if you want to maximize numeric performance.  This is advised by [the documentation][1], and [this article][2] demonstrates how auto-boxing can cause a large performance difference.\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/guide/language/autoboxing.html\r\n  [2]: http://today.java.net/pub/a/today/2005/03/24/autoboxing.html#performance_issue","title":"When to use wrapper class and primitive type","body":"<p>Generally, you should use primitive types unless you <em>need</em> an object for some reason (e.g. to put in a collection).  Even then, consider a different approach that doesn't require a object if you want to maximize numeric performance.  This is advised by <a href=\"http://java.sun.com/j2se/1.5.0/docs/guide/language/autoboxing.html\" rel=\"noreferrer\">the documentation</a>, and <a href=\"http://today.java.net/pub/a/today/2005/03/24/autoboxing.html#performance_issue\" rel=\"noreferrer\">this article</a> demonstrates how auto-boxing can cause a large performance difference.</p>\n"},{"tags":[],"owner":{"account_id":14430,"reputation":6027,"user_id":29689,"accept_rate":79,"display_name":"Chris Missal"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1255584049,"creation_date":1255584049,"answer_id":1570431,"question_id":1570416,"body_markdown":"If you want to create a value type. Something like a ProductSKU or AirportCode.\r\n\r\nWhen a primitive type (string in my examples) defines equality, you&#39;ll want to override equality.","title":"When to use wrapper class and primitive type","body":"<p>If you want to create a value type. Something like a ProductSKU or AirportCode.</p>\n\n<p>When a primitive type (string in my examples) defines equality, you'll want to override equality.</p>\n"},{"tags":[],"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1255584095,"creation_date":1255584095,"answer_id":1570432,"question_id":1570416,"body_markdown":"**I would only use the wrapper types if you have to.**\r\n\r\nIn using them you don&#39;t gain much, besides the fact that they are `Objects`.\r\n\r\nAnd, you lose overhead in memory usage and time spent boxing/unboxing.","title":"When to use wrapper class and primitive type","body":"<p><strong>I would only use the wrapper types if you have to.</strong></p>\n\n<p>In using them you don't gain much, besides the fact that they are <code>Objects</code>.</p>\n\n<p>And, you lose overhead in memory usage and time spent boxing/unboxing.</p>\n"},{"tags":[],"owner":{"account_id":48948,"reputation":35452,"user_id":145574,"accept_rate":90,"display_name":"pstanton"},"down_vote_count":3,"up_vote_count":78,"is_accepted":true,"score":75,"last_activity_date":1519197357,"creation_date":1255584990,"answer_id":1570470,"question_id":1570416,"body_markdown":"Others have mentioned that certain constructs such as `Collections` require objects and that objects have more overhead than their primitive counterparts (memory &amp; boxing).\r\n\r\nAnother consideration is:\r\n\r\nIt can be handy to initialize Objects to `null` or send `null` parameters into a method/constructor to indicate state or function. This can&#39;t be done with primitives.\r\n\r\nMany programmers initialize numbers to 0 (default) or -1 to signify this, but depending on the scenario, this may be incorrect or misleading.\r\n\r\nThis will also set the scene for a `NullPointerException` when something is being used incorrectly, which is much more programmer-friendly than some arbitrary bug down the line.","title":"When to use wrapper class and primitive type","body":"<p>Others have mentioned that certain constructs such as <code>Collections</code> require objects and that objects have more overhead than their primitive counterparts (memory &amp; boxing).</p>\n\n<p>Another consideration is:</p>\n\n<p>It can be handy to initialize Objects to <code>null</code> or send <code>null</code> parameters into a method/constructor to indicate state or function. This can't be done with primitives.</p>\n\n<p>Many programmers initialize numbers to 0 (default) or -1 to signify this, but depending on the scenario, this may be incorrect or misleading.</p>\n\n<p>This will also set the scene for a <code>NullPointerException</code> when something is being used incorrectly, which is much more programmer-friendly than some arbitrary bug down the line.</p>\n"},{"tags":[],"owner":{"account_id":161483,"reputation":822,"user_id":382264,"accept_rate":100,"display_name":"Mattias Holmqvist"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1255587909,"creation_date":1255587909,"answer_id":1570607,"question_id":1570416,"body_markdown":"Collections are the typical case for the simple Java wrapper objects. However, you might consider giving the Wrapper a more specific meaning in the code (value object).\r\n\r\nIMHO there&#39;s almost always a benefit to use value objects when it boils down to readability and maintainance of the code. Wrapping simple data structures inside of objects when they have certain responsibilities often simplifies the code. This is something that is very important in [Domain-Driven Design][1]. \r\n\r\nThere is of course the performance issue, but I tend to ignore that until I have the possibility to measure the performance with proper data and do more directed actions towards the problematic area. It might also be easier to understand the performance issue if the code is easy to understand as well.\r\n\r\n\r\n  [1]: http://domaindrivendesign.org/","title":"When to use wrapper class and primitive type","body":"<p>Collections are the typical case for the simple Java wrapper objects. However, you might consider giving the Wrapper a more specific meaning in the code (value object).</p>\n\n<p>IMHO there's almost always a benefit to use value objects when it boils down to readability and maintainance of the code. Wrapping simple data structures inside of objects when they have certain responsibilities often simplifies the code. This is something that is very important in <a href=\"http://domaindrivendesign.org/\" rel=\"nofollow noreferrer\">Domain-Driven Design</a>. </p>\n\n<p>There is of course the performance issue, but I tend to ignore that until I have the possibility to measure the performance with proper data and do more directed actions towards the problematic area. It might also be easier to understand the performance issue if the code is easy to understand as well.</p>\n"},{"tags":[],"owner":{"account_id":221712,"reputation":342,"user_id":479852,"display_name":"Cody"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1363108276,"creation_date":1315465479,"answer_id":7344339,"question_id":1570416,"body_markdown":"In my opinion, if my class members are wrapper variables, it does not rely on default values, which is developer friendly behavior.\r\n\r\n1.\r\n\r\n    class Person {\r\n       int SSN ; // gets initialized to zero by default \r\n    }\r\n\r\n\r\n\r\n\r\n\r\n2.\r\n\r\n    class PersonBetter {\r\n      Integer SSN; //gets initialized to null by default\r\n    }\r\n\r\n\r\n\r\n In the first case, you cannot keep SSN value uninitialized. It may hurt if you are not checking if the value was set before you attempt to use it. \r\n\r\n In the second case, you can keep SSN initialized with null. Which can lead to NullPointerException but it is better than unknowingly inserting default values(zero) as SSN into to the database whenever you attempt to use it without initializing SSN field.\r\n\r\n","title":"When to use wrapper class and primitive type","body":"<p>In my opinion, if my class members are wrapper variables, it does not rely on default values, which is developer friendly behavior.</p>\n\n<p>1.</p>\n\n<pre><code>class Person {\n   int SSN ; // gets initialized to zero by default \n}\n</code></pre>\n\n<p>2.</p>\n\n<pre><code>class PersonBetter {\n  Integer SSN; //gets initialized to null by default\n}\n</code></pre>\n\n<p>In the first case, you cannot keep SSN value uninitialized. It may hurt if you are not checking if the value was set before you attempt to use it. </p>\n\n<p>In the second case, you can keep SSN initialized with null. Which can lead to NullPointerException but it is better than unknowingly inserting default values(zero) as SSN into to the database whenever you attempt to use it without initializing SSN field.</p>\n"},{"tags":[],"owner":{"account_id":2754907,"reputation":1362,"user_id":2373304,"accept_rate":67,"display_name":"loknath"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1401345723,"creation_date":1401345723,"answer_id":23927279,"question_id":1570416,"body_markdown":"**performance** of applications that are dominated by numerical calculations can benefit greatly from the use of primitives.\r\n\r\n**primitive types,** one uses the == operator, but for wrapper the preferred choice is to call the equals() method.\r\n\r\n[&quot;Primitive types considered harmful&quot;][1] because they mix &quot;procedural semantics into an otherwise uniform object-oriented model.\r\n\r\n\r\n  [1]: http://www.research.ibm.com/people/a/alpert/ptch/ptch.html\r\n\r\nMany programmers initialize numbers to 0 (default) or -1 to signify this, but depending on the scenario, this may be incorrect or misleading.","title":"When to use wrapper class and primitive type","body":"<p><strong>performance</strong> of applications that are dominated by numerical calculations can benefit greatly from the use of primitives.</p>\n\n<p><strong>primitive types,</strong> one uses the == operator, but for wrapper the preferred choice is to call the equals() method.</p>\n\n<p><a href=\"http://www.research.ibm.com/people/a/alpert/ptch/ptch.html\" rel=\"nofollow\">\"Primitive types considered harmful\"</a> because they mix \"procedural semantics into an otherwise uniform object-oriented model.</p>\n\n<p>Many programmers initialize numbers to 0 (default) or -1 to signify this, but depending on the scenario, this may be incorrect or misleading.</p>\n"},{"tags":[],"owner":{"account_id":9680846,"reputation":111,"user_id":7182619,"display_name":"Mohamed Afzal"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1499149045,"creation_date":1479569213,"answer_id":40694577,"question_id":1570416,"body_markdown":"Practically I had encountered a situation where use of wrapper class can be explained. \r\n\r\nI created a service class which had a `long` type variable\r\n\r\n 1. If the variable is of type `long` - when not initialized, it will be set to 0 - this will be confusing to the user when displayed in GUI  \r\n 2. If the variable is of type `Long` - when not initialized, it will be set to `null` - this null value won&#39;t show up in GUI.\r\n\r\nThis applies to `Boolean` as well where values can be more confusing when we use primitive `boolean`(as default value is false).\r\n\r\n","title":"When to use wrapper class and primitive type","body":"<p>Practically I had encountered a situation where use of wrapper class can be explained. </p>\n\n<p>I created a service class which had a <code>long</code> type variable</p>\n\n<ol>\n<li>If the variable is of type <code>long</code> - when not initialized, it will be set to 0 - this will be confusing to the user when displayed in GUI  </li>\n<li>If the variable is of type <code>Long</code> - when not initialized, it will be set to <code>null</code> - this null value won't show up in GUI.</li>\n</ol>\n\n<p>This applies to <code>Boolean</code> as well where values can be more confusing when we use primitive <code>boolean</code>(as default value is false).</p>\n"},{"tags":[],"owner":{"account_id":5039463,"reputation":354,"user_id":4047341,"display_name":"Ahmad Sayeed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571966640,"creation_date":1543323698,"answer_id":53500335,"question_id":1570416,"body_markdown":"Primitive values in Java are not object. In order to manipulate these values as object the java.lang package provides a wrapper class for each of the primitive data type. \r\n\r\nAll Wrapper classes are final. The object of all wrapper classes that can be initiated are immutable that means the value in the wrapper object can not be changed.\r\n\r\nAlthough, the **void** class is considered a wrapper class but it does not wrap any primitive values and is not initiable. It does not have public constructor, it just denotes a class object representing the keyword void.\r\n\t","title":"When to use wrapper class and primitive type","body":"<p>Primitive values in Java are not object. In order to manipulate these values as object the java.lang package provides a wrapper class for each of the primitive data type. </p>\n\n<p>All Wrapper classes are final. The object of all wrapper classes that can be initiated are immutable that means the value in the wrapper object can not be changed.</p>\n\n<p>Although, the <strong>void</strong> class is considered a wrapper class but it does not wrap any primitive values and is not initiable. It does not have public constructor, it just denotes a class object representing the keyword void.</p>\n"},{"tags":[],"owner":{"account_id":322917,"reputation":2355,"user_id":642616,"display_name":"Feuda"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604563126,"creation_date":1604563126,"answer_id":64693215,"question_id":1570416,"body_markdown":"**When to Use Primitive Types**\r\n   \r\n - When doing a large amount of calculations, primitive types are always faster — they have much less overhead.   \r\n - When you don’t want the variable to be able to be null.  \r\n - When you don’t want the default value to be null.  \r\n - If the method must return a value\r\n\r\n**When to Use Wrapper Class**\r\n\r\n - When you are using Collections or Generics — it is required\r\n - If you want the MIN_SIZE or MAX_SIZE of a type.\r\n - When you want the variable to be able to be null.\r\n - When you want to default value to be null.\r\n - If sometimes the method can return a null value.\r\n\r\nfrom https://medium.com/@bpnorlander/java-understanding-primitive-types-and-wrapper-objects-a6798fb2afe9","title":"When to use wrapper class and primitive type","body":"<p><strong>When to Use Primitive Types</strong></p>\n<ul>\n<li>When doing a large amount of calculations, primitive types are always faster — they have much less overhead.</li>\n<li>When you don’t want the variable to be able to be null.</li>\n<li>When you don’t want the default value to be null.</li>\n<li>If the method must return a value</li>\n</ul>\n<p><strong>When to Use Wrapper Class</strong></p>\n<ul>\n<li>When you are using Collections or Generics — it is required</li>\n<li>If you want the MIN_SIZE or MAX_SIZE of a type.</li>\n<li>When you want the variable to be able to be null.</li>\n<li>When you want to default value to be null.</li>\n<li>If sometimes the method can return a null value.</li>\n</ul>\n<p>from <a href=\"https://medium.com/@bpnorlander/java-understanding-primitive-types-and-wrapper-objects-a6798fb2afe9\" rel=\"nofollow noreferrer\">https://medium.com/@bpnorlander/java-understanding-primitive-types-and-wrapper-objects-a6798fb2afe9</a></p>\n"}],"owner":{"account_id":58153,"reputation":5728,"user_id":2922388,"accept_rate":65,"display_name":"Gopi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94427,"favorite_count":0,"down_vote_count":1,"up_vote_count":120,"accepted_answer_id":1570470,"answer_count":11,"score":119,"last_activity_date":1679466585,"creation_date":1255583803,"question_id":1570416,"body_markdown":"When I should go for wrapper class over primitive types? Or On what circumstance I should choose between wrapper / Primitive types?","title":"When to use wrapper class and primitive type","body":"<p>When I should go for wrapper class over primitive types? Or On what circumstance I should choose between wrapper / Primitive types?</p>\n"},{"tags":["java","azure","authentication","single-sign-on","azure-ad-msal"],"answers":[{"tags":[],"owner":{"account_id":26331226,"reputation":3286,"user_id":19991670,"display_name":"Pravallika KV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679465985,"creation_date":1679465985,"answer_id":75808953,"question_id":75801146,"body_markdown":"I have gone through your problem and found a fix which will not let the prompt to choose the account again and again.  \r\nI found that in your **AuthHelper** class there is a method called **redirectToAuthorizationEndpoint**.\r\nand the configuration for **AuthorizationRequestUrlParameters** as\r\n```java\r\nAuthorizationRequestUrlParameters  parameters  =  AuthorizationRequestUrlParameters.builder(Config.REDIRECT_URI, Collections.singleton(Config.SCOPES)).responseMode(ResponseMode.QUERY)\r\n.prompt(Prompt.SELECT_ACCOUNT).state(state).nonce(nonce).build();\r\n\r\n```\r\nI have reproduced with the same configuration and I was getting the prompt repeatedly to choose the account to signin.\r\n![enter image description here](https://i.stack.imgur.com/9ck62.png)\r\n\r\nWhen I sign in below, it was redirecting to the prompt to choose the account as shown below:.\r\n![enter image description here](https://i.stack.imgur.com/x9bcr.png)\r\n\r\n![enter image description here](https://i.stack.imgur.com/iPYkM.png)  \r\n\r\nPrompt method allow to choose the account even if you have only one account.  \r\n\r\n**Fix:**\r\n\r\nTo avoid this issue, we have to just remove the whole prompt method and configure like below:\r\n\r\n```java\r\nAuthorizationRequestUrlParameters  parameters  =  AuthorizationRequestUrlParameters.builder(Config.REDIRECT_URI,  Collections.singleton(Config.SCOPES)).responseMode(ResponseMode.QUERY)\r\n.state(state).nonce(nonce).build();\r\n```\r\n![enter image description here](https://i.stack.imgur.com/rCU8b.png)\r\n\r\nIn this case, even If u have only one account to login, it will not redirect to choose account blade.  \r\nWhen I click on signin, it is not redirecting to the prompt to choose account as I have already signed in with my account once:\r\n\r\n![enter image description here](https://i.stack.imgur.com/NDdeP.png)","title":"MSAL Java Servlet Example: How to avoid Sign-In button prompting &quot;Pick an account&quot;?","body":"<p>I have gone through your problem and found a fix which will not let the prompt to choose the account again and again.<br />\nI found that in your <strong>AuthHelper</strong> class there is a method called <strong>redirectToAuthorizationEndpoint</strong>.\nand the configuration for <strong>AuthorizationRequestUrlParameters</strong> as</p>\n<pre class=\"lang-java prettyprint-override\"><code>AuthorizationRequestUrlParameters  parameters  =  AuthorizationRequestUrlParameters.builder(Config.REDIRECT_URI, Collections.singleton(Config.SCOPES)).responseMode(ResponseMode.QUERY)\n.prompt(Prompt.SELECT_ACCOUNT).state(state).nonce(nonce).build();\n\n</code></pre>\n<p>I have reproduced with the same configuration and I was getting the prompt repeatedly to choose the account to signin.\n<img src=\"https://i.stack.imgur.com/9ck62.png\" alt=\"enter image description here\" /></p>\n<p>When I sign in below, it was redirecting to the prompt to choose the account as shown below:.\n<img src=\"https://i.stack.imgur.com/x9bcr.png\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.stack.imgur.com/iPYkM.png\" alt=\"enter image description here\" /></p>\n<p>Prompt method allow to choose the account even if you have only one account.</p>\n<p><strong>Fix:</strong></p>\n<p>To avoid this issue, we have to just remove the whole prompt method and configure like below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>AuthorizationRequestUrlParameters  parameters  =  AuthorizationRequestUrlParameters.builder(Config.REDIRECT_URI,  Collections.singleton(Config.SCOPES)).responseMode(ResponseMode.QUERY)\n.state(state).nonce(nonce).build();\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/rCU8b.png\" alt=\"enter image description here\" /></p>\n<p>In this case, even If u have only one account to login, it will not redirect to choose account blade.<br />\nWhen I click on signin, it is not redirecting to the prompt to choose account as I have already signed in with my account once:</p>\n<p><img src=\"https://i.stack.imgur.com/NDdeP.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":7087354,"reputation":3,"user_id":5423757,"display_name":"ken edward"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":440,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75808953,"answer_count":1,"score":0,"last_activity_date":1679465985,"creation_date":1679401258,"question_id":75801146,"body_markdown":"I installed the MSAL Java Servlet example. It basically works, however when I click on the &quot;Sign In&quot; button it sends me to https://login.microsoftonline.com to present a prompt &quot;Pick an account&quot; (only 1 account listed). I can select my account manually and then it let&#39;s me into the MSAL sample app &quot;You are signed in&quot; page. (I should also note, that for the first time after clicking the account, it sends me to a MFA page, but not subsequent logins)\r\n\r\nQUESTION: How can I configure it to not prompt me to pick my account since there is only 1 account? (And avoid the MFA page?)\r\n\r\n  \r\n\r\nhttps://github.com/Azure-Samples/ms-identity-msal-java-samples/tree/main/3.%20Java%20Servlet%20Web%20App%20Tutorial/1-Authentication/sign-in\r\n\r\nI expected to click on &quot;sign in&quot; and for it to authenticate and redirect to main app index page. Instead, it asks me to select which windows account, and then if the first time, will also issue a MFA page.","title":"MSAL Java Servlet Example: How to avoid Sign-In button prompting &quot;Pick an account&quot;?","body":"<p>I installed the MSAL Java Servlet example. It basically works, however when I click on the &quot;Sign In&quot; button it sends me to <a href=\"https://login.microsoftonline.com\" rel=\"nofollow noreferrer\">https://login.microsoftonline.com</a> to present a prompt &quot;Pick an account&quot; (only 1 account listed). I can select my account manually and then it let's me into the MSAL sample app &quot;You are signed in&quot; page. (I should also note, that for the first time after clicking the account, it sends me to a MFA page, but not subsequent logins)</p>\n<p>QUESTION: How can I configure it to not prompt me to pick my account since there is only 1 account? (And avoid the MFA page?)</p>\n<p><a href=\"https://github.com/Azure-Samples/ms-identity-msal-java-samples/tree/main/3.%20Java%20Servlet%20Web%20App%20Tutorial/1-Authentication/sign-in\" rel=\"nofollow noreferrer\">https://github.com/Azure-Samples/ms-identity-msal-java-samples/tree/main/3.%20Java%20Servlet%20Web%20App%20Tutorial/1-Authentication/sign-in</a></p>\n<p>I expected to click on &quot;sign in&quot; and for it to authenticate and redirect to main app index page. Instead, it asks me to select which windows account, and then if the first time, will also issue a MFA page.</p>\n"},{"tags":["java","android","json","server","object-oriented-database"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1679439652,"post_id":75804365,"comment_id":133722281,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":27991549,"reputation":1,"user_id":21377301,"display_name":"Fabiola"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679465354,"creation_date":1679418731,"question_id":75804365,"body_markdown":"I&#39;m creating an online shop in android studio with the use of a json file in practice the data of the various drinks reside in a json file I have to make sure that if a drink has in the json file 4 quatity if two users buy them all the next one must be exhausted.\r\n\r\nhere in the adapter class I increase and decrease the quantities:\r\n\r\n      @Override\r\n        public void onBindViewHolder(@NonNull CartAdaptor.ViewHolder holder, int position) {\r\n    \r\n            holder.title.setText(drinkDomains.get(position).getTitle());\r\n            holder.feeEachItem.setText(String.valueOf(drinkDomains.get(position).getFee()));\r\n            holder.num.setText(String.valueOf(drinkDomains.get(position).getNumberInCart()));\r\n    \r\n            int drawableResourceId = holder.itemView.getContext().getResources().getIdentifier(drinkDomains.get(position).getPic(), &quot;drawable&quot;, holder.itemView.getContext().getPackageName());\r\n    \r\n            Glide.with(holder.itemView.getContext())\r\n                    .load(drawableResourceId)\r\n                    .into(holder.pic);\r\n    \r\n            holder.plusItem.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n    \r\n                    managementCart.plusNumberDrink(drinkDomains, position, new ChangeNumberItemsListener() {\r\n                        @Override\r\n                        public void changed() {\r\n                            notifyDataSetChanged();\r\n                            changeNumberItemsListener.changed();\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n    \r\n            holder.minusItem.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    managementCart.minusNumberDrink(drinkDomains, position, new ChangeNumberItemsListener() {\r\n                        @Override\r\n                        public void changed() {\r\n                            notifyDataSetChanged();\r\n                            changeNumberItemsListener.changed();\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n    \r\n        }\r\n\r\nThe functions to use for increment and decrement reside in the ManagementCart class and are\r\n\r\n    public void  plusNumberDrink(ArrayList&lt;DrinkDomain&gt; listDrink, int position, ChangeNumberItemsListener changeNumberItemsListener){\r\n            listDrink.get(position).setNumberInCart(listDrink.get(position).getNumberInCart()+1);\r\n            drinkDB.putListObject(&quot;CartList&quot;, listDrink);\r\n            changeNumberItemsListener.changed();\r\n        }\r\n    \r\n        public void  minusNumberDrink(ArrayList&lt;DrinkDomain&gt; listDrink, int position, ChangeNumberItemsListener changeNumberItemsListener){\r\n           if(listDrink.get(position).getNumberInCart()==1){\r\n                listDrink.remove(position);\r\n            }else{\r\n                listDrink.get(position).setNumberInCart(listDrink.get(position).getNumberInCart()-1);\r\n            }\r\n            drinkDB.putListObject(&quot;CartList&quot;, listDrink);\r\n            changeNumberItemsListener.changed();\r\n        }\r\n\r\n\r\nthe idea is that if the user buys two dinks and the quantities are 4 if then another user if he buys two more to a next user he must resolve that it is finished.\r\n","title":"Set product quantity in java with json file","body":"<p>I'm creating an online shop in android studio with the use of a json file in practice the data of the various drinks reside in a json file I have to make sure that if a drink has in the json file 4 quatity if two users buy them all the next one must be exhausted.</p>\n<p>here in the adapter class I increase and decrease the quantities:</p>\n<pre><code>  @Override\n    public void onBindViewHolder(@NonNull CartAdaptor.ViewHolder holder, int position) {\n\n        holder.title.setText(drinkDomains.get(position).getTitle());\n        holder.feeEachItem.setText(String.valueOf(drinkDomains.get(position).getFee()));\n        holder.num.setText(String.valueOf(drinkDomains.get(position).getNumberInCart()));\n\n        int drawableResourceId = holder.itemView.getContext().getResources().getIdentifier(drinkDomains.get(position).getPic(), &quot;drawable&quot;, holder.itemView.getContext().getPackageName());\n\n        Glide.with(holder.itemView.getContext())\n                .load(drawableResourceId)\n                .into(holder.pic);\n\n        holder.plusItem.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                managementCart.plusNumberDrink(drinkDomains, position, new ChangeNumberItemsListener() {\n                    @Override\n                    public void changed() {\n                        notifyDataSetChanged();\n                        changeNumberItemsListener.changed();\n                    }\n                });\n            }\n        });\n\n        holder.minusItem.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                managementCart.minusNumberDrink(drinkDomains, position, new ChangeNumberItemsListener() {\n                    @Override\n                    public void changed() {\n                        notifyDataSetChanged();\n                        changeNumberItemsListener.changed();\n                    }\n                });\n            }\n        });\n\n    }\n</code></pre>\n<p>The functions to use for increment and decrement reside in the ManagementCart class and are</p>\n<pre><code>public void  plusNumberDrink(ArrayList&lt;DrinkDomain&gt; listDrink, int position, ChangeNumberItemsListener changeNumberItemsListener){\n        listDrink.get(position).setNumberInCart(listDrink.get(position).getNumberInCart()+1);\n        drinkDB.putListObject(&quot;CartList&quot;, listDrink);\n        changeNumberItemsListener.changed();\n    }\n\n    public void  minusNumberDrink(ArrayList&lt;DrinkDomain&gt; listDrink, int position, ChangeNumberItemsListener changeNumberItemsListener){\n       if(listDrink.get(position).getNumberInCart()==1){\n            listDrink.remove(position);\n        }else{\n            listDrink.get(position).setNumberInCart(listDrink.get(position).getNumberInCart()-1);\n        }\n        drinkDB.putListObject(&quot;CartList&quot;, listDrink);\n        changeNumberItemsListener.changed();\n    }\n</code></pre>\n<p>the idea is that if the user buys two dinks and the quantities are 4 if then another user if he buys two more to a next user he must resolve that it is finished.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1679465654,"post_id":75808698,"comment_id":133725140,"body_markdown":"In your reset handler without debug statements you set `hits` and `misses` counters to `0`, but you don’t set the value of `hitsText` or `missesText`. The missesText will get set during the animation timer execution, but hitsText won’t update until a circle is clicked.  You can use binding with properties to bind values together, or define a method that updates both the counters and associated text at the same time.  There may be other issues, I didn’t try this, I just scanned the code.","body":"In your reset handler without debug statements you set <code>hits</code> and <code>misses</code> counters to <code>0</code>, but you don’t set the value of <code>hitsText</code> or <code>missesText</code>. The missesText will get set during the animation timer execution, but hitsText won’t update until a circle is clicked.  You can use binding with properties to bind values together, or define a method that updates both the counters and associated text at the same time.  There may be other issues, I didn’t try this, I just scanned the code."},{"owner":{"account_id":6179310,"reputation":2644,"user_id":4815321,"display_name":"mr mcwolf"},"score":0,"creation_date":1679466087,"post_id":75808698,"comment_id":133725201,"body_markdown":"In case, the &quot;game loop&quot; updates the `missesText` but not the `hitsText`, so one value is rendered correctly and the other is not. In my opinion, the approach is not very successful. Use property binding to update the controls only when their values change, and in the &quot;game loop&quot; update the values of the corresponding properties.","body":"In case, the &quot;game loop&quot; updates the <code>missesText</code> but not the <code>hitsText</code>, so one value is rendered correctly and the other is not. In my opinion, the approach is not very successful. Use property binding to update the controls only when their values change, and in the &quot;game loop&quot; update the values of the corresponding properties."}],"answers":[{"tags":[],"owner":{"account_id":8361573,"reputation":573,"user_id":6279677,"display_name":"Suchandra T"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1679464414,"creation_date":1679464414,"answer_id":75808821,"question_id":75808698,"body_markdown":"As pointed out by you in the handle method you need to add the following resetting logic which will yield you the correct result.\r\n\r\n   hits = 0;\r\n   misses = 0; \r\n\r\nHope this helps.","title":"Counter Not Resetting In JavaFX Program","body":"<p>As pointed out by you in the handle method you need to add the following resetting logic which will yield you the correct result.</p>\n<p>hits = 0;\nmisses = 0;</p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":26386660,"reputation":31,"user_id":20039084,"display_name":"tonyycwang1"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679464414,"creation_date":1679462818,"question_id":75808698,"body_markdown":"This is a basic circle clicking game that I built. I cannot figure out why the hits counter is not resetting to 0 after clicking the reset button. The misses counter resets perfectly fine but the hits is not. \r\n```\r\npublic class ClickingGameFX extends Application {\r\n\tprivate static final int CIRCLE_RADIUS = 25;\r\n\tprivate static final int PANE_HEIGHT = 400;\r\n\tprivate static final int PANE_WIDTH = 400;\r\n\tprivate static final int MAX_MISSES = 5;\r\n    private static final int MIN_DELAY = 1000;\r\n    private static final int MAX_DELAY = 5000;\r\n    \r\n    \r\n    private int hits;\r\n    private int misses;\r\n    private Circle target;\r\n    private Text hitsText;\r\n    private Text missesText;\r\n    private Text gameOver;\r\n    private AnimationTimer timer;\r\n    private BorderPane pane;\r\n    private ArrayList&lt;Circle&gt; circles = new ArrayList&lt;&gt;();\r\n    private boolean pauseGame = false;\r\n\t\r\n\t@Override\r\n\tpublic void start(Stage primaryStage) {\r\n\t\t\t\r\n\t\t\tPane root = new Pane();\r\n\t\t\troot.setPrefHeight(400);\r\n\t\t\troot.setPrefWidth(400);\r\n\t\t\troot.setStyle(&quot;-fx-background-color: black;&quot;);\r\n\t\t\t\r\n\t\t\thitsText = new Text(&quot;Hits: 0&quot;);\r\n\t        hitsText.setFont(Font.font(20));\r\n\t        missesText = new Text(&quot;Misses: 0&quot;);\r\n\t        missesText.setFont(Font.font(20));\r\n\t        \r\n\t        //Create hit and miss buttons\r\n\t        Button pauseButton = new Button(&quot;Pause&quot;);\r\n\t        pauseButton.setOnAction(new PauseClickHandlerEvent());\r\n\t        \r\n\t        \r\n\t        Button resetButton = new Button(&quot;Reset&quot;);\r\n\t        resetButton.setOnAction(new ResetClickHandlerEvent());\r\n\t        \r\n\t        HBox bottom = new HBox(50, pauseButton, resetButton);\r\n\t        bottom.setPrefHeight(50);\r\n\t        bottom.setPrefWidth(PANE_WIDTH);\r\n\t        bottom.setAlignment(Pos.BOTTOM_RIGHT);\r\n\t        bottom.setPadding(new Insets(10, 10, 10, 10));\r\n\t        \r\n\t\t\tpane = new BorderPane();\r\n\t\t\tHBox top = new HBox(10, hitsText, missesText);\r\n\t\t\ttop.setPadding(new Insets(10, 0, 10, 0));\r\n\t\t\tpane.setTop(top);\r\n\t        pane.setCenter(root);\r\n\t        pane.setBottom(bottom);\r\n\t        \r\n\t        timer = new GameTimer();\r\n\t        new Thread(() -&gt; {\r\n\t            try {\r\n\t                Thread.sleep(2000);\r\n\t            } catch (InterruptedException e) {\r\n\t                e.printStackTrace();\r\n\t            }\r\n\t            timer.start();\r\n\t        }).start();\r\n\t        \r\n\t        \r\n\t\t\tScene scene = new Scene(pane);\r\n\t\t\tscene.getStylesheets().add(getClass().getResource(&quot;application.css&quot;).toExternalForm());\r\n\t\t\tprimaryStage.setScene(scene);\r\n\t\t\tprimaryStage.show();\r\n\t}\r\n\t\r\n\tprivate class GameTimer extends AnimationTimer {\r\n\r\n\t    private long lastSpawnTime;\r\n\t    \r\n\r\n\t    @Override\r\n\t    public void handle(long now) {\r\n\t        // check if it&#39;s time to spawn a new circle\r\n\t        if (now - lastSpawnTime &gt;= MIN_DELAY * 1_000_000L) {\r\n\t            // create a new circle and add it to the pane\r\n\t            Circle circle = new Circle(CIRCLE_RADIUS, Color.RED);\r\n\t            circle.setOnMouseClicked(new ClickHandlerEvent());\r\n\t            pane.getChildren().add(circle);\r\n\t            relocateCircle(circle);\r\n\t            circles.add(circle);\r\n\t         \r\n\t            // set the last spawn time and reset the missed balls counter\r\n\t            lastSpawnTime = now;\r\n\t        }\r\n\r\n\t        // move the circles and check for misses\r\n\t        for (int i = 0; i &lt; circles.size(); i++) {\r\n\t            Circle circle = circles.get(i);\r\n\t            circle.setTranslateX(circle.getTranslateX() + 5);\r\n\t            if (circle.getTranslateX() &gt; PANE_WIDTH + CIRCLE_RADIUS) {\r\n\t                // circle has left the screen, remove it and increase the missed balls counter\r\n\t                pane.getChildren().remove(circle);\r\n\t                circles.remove(i);\r\n\t                if (++misses &gt;= MAX_MISSES) {\r\n\t                    // end the game if the missed balls limit has been reached\r\n\t                    endGame();\r\n\t                    break;\r\n\t                } else {\r\n\t                    // set a delay before spawning the next circle\r\n\t                    lastSpawnTime = now + (long) (Math.random() * (MAX_DELAY - MIN_DELAY) + MIN_DELAY) * 1_000_000L;\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t        missesText.setText(&quot;Misses: &quot; + misses);\r\n\t    }\r\n\r\n\t    private void relocateCircle(Circle circle) {\r\n\t        circle.setTranslateX(-CIRCLE_RADIUS);\r\n\t        circle.setTranslateY(new Random().nextInt(PANE_HEIGHT - 2 * CIRCLE_RADIUS) + CIRCLE_RADIUS);\r\n\t    }\r\n\r\n\t    private void endGame() {\r\n\t        stop();\r\n\r\n\t        // display the game over message in the center of the graphics pane\r\n\t        gameOver = new Text(&quot;Game Over\\nHits: &quot; + hits + &quot;\\nMisses: &quot; + misses);\r\n\t        gameOver.setFont(Font.font(30));\r\n\t        gameOver.setFill(Color.WHITE);\r\n\t        gameOver.setVisible(true);\r\n\t        HBox end = new HBox(10, gameOver);\r\n\t        end.setLayoutX(125);\r\n\t        end.setLayoutY(200);\r\n\t        pane.getChildren().add(end);\r\n\t        \r\n\t        circles.clear();\r\n\t        \r\n\t    }\r\n\t}\r\n\t\r\n\tprivate class ClickHandlerEvent implements EventHandler&lt;MouseEvent&gt; {\r\n\r\n\t\t@Override\r\n\t\tpublic void handle(MouseEvent e) {\r\n\t\t\tCircle circle = (Circle) e.getSource();\r\n\t\t\tif (pauseGame == true) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\tpane.getChildren().remove(circle);\r\n\t\t\te.consume();\r\n\t\t\thits++;\r\n\t\t\thitsText.setText(&quot;Hits: &quot; + hits);\r\n\t\t\tmissesText.setText(&quot;Misses: &quot; + misses);\r\n\t\t\t\r\n\t\t\tif (!circles.remove(circle)) {\r\n\t            misses++;\r\n\t            missesText.setText(&quot;Misses: &quot; + misses);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate class ResetClickHandlerEvent implements EventHandler&lt;ActionEvent&gt; {\r\n\r\n\t\t@Override\r\n\t\tpublic void handle(ActionEvent e) {\r\n\t\thits = 0;\r\n        misses = 0;\r\n\t\r\n\t        pane.getChildren().removeIf(node -&gt; node instanceof Circle);\r\n\t       \r\n\t        if (gameOver != null) {\r\n\t        \tgameOver.setVisible(false);\r\n\t        }\r\n\t        timer.start();\r\n\t\t}\r\n    }\r\n\t\r\n\tprivate class PauseClickHandlerEvent implements EventHandler&lt;ActionEvent&gt; {\r\n\r\n\t    @Override\r\n\t    public void handle(ActionEvent e) {\r\n\t        if (pauseGame) {\r\n\t            // resume the game\r\n\t            timer.start();\r\n\t            pauseGame = false;\r\n\t        } else {\r\n\t            // pause the game\r\n\t            timer.stop();\r\n\t            pauseGame = true;\r\n\t        }\r\n\t    }\r\n\t}\r\n\r\n\t\r\n\tprivate void relocateCircle() {\r\n\t\t\r\n\t\ttarget.setTranslateX(new Random().nextInt(PANE_WIDTH - 2 * CIRCLE_RADIUS) + CIRCLE_RADIUS);\r\n        target.setTranslateY(new Random().nextInt(PANE_HEIGHT - 2 * CIRCLE_RADIUS) + CIRCLE_RADIUS);\r\n    }\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tlaunch(args);\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nI also added two if statements in the ResetClickHandlerEvent class to print to the console if any counter is reset to 0, and the console prints &quot;Misses counter reset to zero.&quot;\r\n\r\n```\r\nprivate class ResetClickHandlerEvent implements EventHandler&lt;ActionEvent&gt; {\r\n\r\n\t\t@Override\r\n\t\tpublic void handle(ActionEvent e) {\r\n\t\t\t\r\n\t\t\tif (hits == 0) {\r\n\t\t        System.out.println(&quot;Hits counter reset to zero.&quot;);\r\n\t\t        }\r\n\t\t\tif (misses == 0) {\r\n\t\t\t\tSystem.out.println(&quot;Misses counter reset to zero&quot;);\r\n\t\t\t}\r\n\t        pane.getChildren().removeIf(node -&gt; node instanceof Circle);\r\n\t        if (gameOver != null) {\r\n\t        \tgameOver.setVisible(false);\r\n\t        }\r\n\t        timer.start();\r\n\t\t}\r\n    }\r\n```\r\n\r\n\r\n","title":"Counter Not Resetting In JavaFX Program","body":"<p>This is a basic circle clicking game that I built. I cannot figure out why the hits counter is not resetting to 0 after clicking the reset button. The misses counter resets perfectly fine but the hits is not.</p>\n<pre><code>public class ClickingGameFX extends Application {\n    private static final int CIRCLE_RADIUS = 25;\n    private static final int PANE_HEIGHT = 400;\n    private static final int PANE_WIDTH = 400;\n    private static final int MAX_MISSES = 5;\n    private static final int MIN_DELAY = 1000;\n    private static final int MAX_DELAY = 5000;\n    \n    \n    private int hits;\n    private int misses;\n    private Circle target;\n    private Text hitsText;\n    private Text missesText;\n    private Text gameOver;\n    private AnimationTimer timer;\n    private BorderPane pane;\n    private ArrayList&lt;Circle&gt; circles = new ArrayList&lt;&gt;();\n    private boolean pauseGame = false;\n    \n    @Override\n    public void start(Stage primaryStage) {\n            \n            Pane root = new Pane();\n            root.setPrefHeight(400);\n            root.setPrefWidth(400);\n            root.setStyle(&quot;-fx-background-color: black;&quot;);\n            \n            hitsText = new Text(&quot;Hits: 0&quot;);\n            hitsText.setFont(Font.font(20));\n            missesText = new Text(&quot;Misses: 0&quot;);\n            missesText.setFont(Font.font(20));\n            \n            //Create hit and miss buttons\n            Button pauseButton = new Button(&quot;Pause&quot;);\n            pauseButton.setOnAction(new PauseClickHandlerEvent());\n            \n            \n            Button resetButton = new Button(&quot;Reset&quot;);\n            resetButton.setOnAction(new ResetClickHandlerEvent());\n            \n            HBox bottom = new HBox(50, pauseButton, resetButton);\n            bottom.setPrefHeight(50);\n            bottom.setPrefWidth(PANE_WIDTH);\n            bottom.setAlignment(Pos.BOTTOM_RIGHT);\n            bottom.setPadding(new Insets(10, 10, 10, 10));\n            \n            pane = new BorderPane();\n            HBox top = new HBox(10, hitsText, missesText);\n            top.setPadding(new Insets(10, 0, 10, 0));\n            pane.setTop(top);\n            pane.setCenter(root);\n            pane.setBottom(bottom);\n            \n            timer = new GameTimer();\n            new Thread(() -&gt; {\n                try {\n                    Thread.sleep(2000);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n                timer.start();\n            }).start();\n            \n            \n            Scene scene = new Scene(pane);\n            scene.getStylesheets().add(getClass().getResource(&quot;application.css&quot;).toExternalForm());\n            primaryStage.setScene(scene);\n            primaryStage.show();\n    }\n    \n    private class GameTimer extends AnimationTimer {\n\n        private long lastSpawnTime;\n        \n\n        @Override\n        public void handle(long now) {\n            // check if it's time to spawn a new circle\n            if (now - lastSpawnTime &gt;= MIN_DELAY * 1_000_000L) {\n                // create a new circle and add it to the pane\n                Circle circle = new Circle(CIRCLE_RADIUS, Color.RED);\n                circle.setOnMouseClicked(new ClickHandlerEvent());\n                pane.getChildren().add(circle);\n                relocateCircle(circle);\n                circles.add(circle);\n             \n                // set the last spawn time and reset the missed balls counter\n                lastSpawnTime = now;\n            }\n\n            // move the circles and check for misses\n            for (int i = 0; i &lt; circles.size(); i++) {\n                Circle circle = circles.get(i);\n                circle.setTranslateX(circle.getTranslateX() + 5);\n                if (circle.getTranslateX() &gt; PANE_WIDTH + CIRCLE_RADIUS) {\n                    // circle has left the screen, remove it and increase the missed balls counter\n                    pane.getChildren().remove(circle);\n                    circles.remove(i);\n                    if (++misses &gt;= MAX_MISSES) {\n                        // end the game if the missed balls limit has been reached\n                        endGame();\n                        break;\n                    } else {\n                        // set a delay before spawning the next circle\n                        lastSpawnTime = now + (long) (Math.random() * (MAX_DELAY - MIN_DELAY) + MIN_DELAY) * 1_000_000L;\n                    }\n                }\n            }\n            missesText.setText(&quot;Misses: &quot; + misses);\n        }\n\n        private void relocateCircle(Circle circle) {\n            circle.setTranslateX(-CIRCLE_RADIUS);\n            circle.setTranslateY(new Random().nextInt(PANE_HEIGHT - 2 * CIRCLE_RADIUS) + CIRCLE_RADIUS);\n        }\n\n        private void endGame() {\n            stop();\n\n            // display the game over message in the center of the graphics pane\n            gameOver = new Text(&quot;Game Over\\nHits: &quot; + hits + &quot;\\nMisses: &quot; + misses);\n            gameOver.setFont(Font.font(30));\n            gameOver.setFill(Color.WHITE);\n            gameOver.setVisible(true);\n            HBox end = new HBox(10, gameOver);\n            end.setLayoutX(125);\n            end.setLayoutY(200);\n            pane.getChildren().add(end);\n            \n            circles.clear();\n            \n        }\n    }\n    \n    private class ClickHandlerEvent implements EventHandler&lt;MouseEvent&gt; {\n\n        @Override\n        public void handle(MouseEvent e) {\n            Circle circle = (Circle) e.getSource();\n            if (pauseGame == true) {\n                return;\n            }\n            else {\n            pane.getChildren().remove(circle);\n            e.consume();\n            hits++;\n            hitsText.setText(&quot;Hits: &quot; + hits);\n            missesText.setText(&quot;Misses: &quot; + misses);\n            \n            if (!circles.remove(circle)) {\n                misses++;\n                missesText.setText(&quot;Misses: &quot; + misses);\n                }\n            }\n        }\n    }\n    \n    private class ResetClickHandlerEvent implements EventHandler&lt;ActionEvent&gt; {\n\n        @Override\n        public void handle(ActionEvent e) {\n        hits = 0;\n        misses = 0;\n    \n            pane.getChildren().removeIf(node -&gt; node instanceof Circle);\n           \n            if (gameOver != null) {\n                gameOver.setVisible(false);\n            }\n            timer.start();\n        }\n    }\n    \n    private class PauseClickHandlerEvent implements EventHandler&lt;ActionEvent&gt; {\n\n        @Override\n        public void handle(ActionEvent e) {\n            if (pauseGame) {\n                // resume the game\n                timer.start();\n                pauseGame = false;\n            } else {\n                // pause the game\n                timer.stop();\n                pauseGame = true;\n            }\n        }\n    }\n\n    \n    private void relocateCircle() {\n        \n        target.setTranslateX(new Random().nextInt(PANE_WIDTH - 2 * CIRCLE_RADIUS) + CIRCLE_RADIUS);\n        target.setTranslateY(new Random().nextInt(PANE_HEIGHT - 2 * CIRCLE_RADIUS) + CIRCLE_RADIUS);\n    }\n    \n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>I also added two if statements in the ResetClickHandlerEvent class to print to the console if any counter is reset to 0, and the console prints &quot;Misses counter reset to zero.&quot;</p>\n<pre><code>private class ResetClickHandlerEvent implements EventHandler&lt;ActionEvent&gt; {\n\n        @Override\n        public void handle(ActionEvent e) {\n            \n            if (hits == 0) {\n                System.out.println(&quot;Hits counter reset to zero.&quot;);\n                }\n            if (misses == 0) {\n                System.out.println(&quot;Misses counter reset to zero&quot;);\n            }\n            pane.getChildren().removeIf(node -&gt; node instanceof Circle);\n            if (gameOver != null) {\n                gameOver.setVisible(false);\n            }\n            timer.start();\n        }\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1679457129,"post_id":75808296,"comment_id":133724303,"body_markdown":"Doesn&#39;t the compiler check if all the `static final`s are initialised at compile time?","body":"Doesn&#39;t the compiler check if all the <code>static final</code>s are initialised at compile time?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1679457553,"post_id":75808296,"comment_id":133724349,"body_markdown":"OP wants a null check too","body":"OP wants a null check too"}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679458004,"creation_date":1679458004,"answer_id":75808376,"question_id":75808296,"body_markdown":"Not &quot;magic&quot;, just a function, but does what you want clearly and succinctly:\r\n```\r\n    static String getNonNullProperty(Properties props, String key) {\r\n        String value = props.getProperty(key);\r\n        if (value == null) {\r\n            throw new RuntimeException(&quot;No value for &#39;&quot; + key + &#39;&quot;&#39;);\r\n        }\r\n        return value;\r\n    }\r\n...\r\n        DIGITAL_ASSETS_UPLOADS_BUCKET = getNonNullProperty(prop, &quot;aws.bucket.digitalassetsuploads&quot;);\r\n        REGION = getNonNullProperty(prop, &quot;aws.region&quot;);\r\n        APP_PEEFIX = getNonNullProperty(prop, &quot;cdk.appprefix&quot;);\r\n        ACCOUNT_NUMBER = getNonNullProperty(prop, &quot;aws.accountnumber&quot;);\r\n        TEXTRACT_SSM_SNS_NAME = getNonNullProperty(prop, &quot;aws.ssm.sns.textract&quot;);\r\n        TEXTRACT_SSM_SQS_NAME = getNonNullProperty(prop, &quot;aws.ssm.sqs.textract&quot;);\r\n```","title":"What&#39;s the best way to throw a RuntimeException if a bunch of variables aren&#39;t initialized?","body":"<p>Not &quot;magic&quot;, just a function, but does what you want clearly and succinctly:</p>\n<pre><code>    static String getNonNullProperty(Properties props, String key) {\n        String value = props.getProperty(key);\n        if (value == null) {\n            throw new RuntimeException(&quot;No value for '&quot; + key + '&quot;');\n        }\n        return value;\n    }\n...\n        DIGITAL_ASSETS_UPLOADS_BUCKET = getNonNullProperty(prop, &quot;aws.bucket.digitalassetsuploads&quot;);\n        REGION = getNonNullProperty(prop, &quot;aws.region&quot;);\n        APP_PEEFIX = getNonNullProperty(prop, &quot;cdk.appprefix&quot;);\n        ACCOUNT_NUMBER = getNonNullProperty(prop, &quot;aws.accountnumber&quot;);\n        TEXTRACT_SSM_SNS_NAME = getNonNullProperty(prop, &quot;aws.ssm.sns.textract&quot;);\n        TEXTRACT_SSM_SQS_NAME = getNonNullProperty(prop, &quot;aws.ssm.sqs.textract&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679458321,"creation_date":1679458321,"answer_id":75808393,"question_id":75808296,"body_markdown":"The compiler should give you an error if you forgot to initialise a `static final` field.\r\n\r\nAs for throwing an exception when it is initialised to null, you can use [`Objects.requireNonNull`][1], which is almost like an &quot;annotation&quot;. You can optionally supply an error message.\r\n\r\n    REGION = Objects.requireNonNull(prop.getProperty(&quot;aws.region&quot;));\r\n    APP_PEEFIX = Objects.requireNonNull(\r\n        prop.getProperty(&quot;cdk.appprefix&quot;), &quot;App prefix is null!&quot;\r\n    );\r\n\r\nThis throws a `NullPointerException` if the value is null, which is a kind of `RuntimeException`.\r\n\r\nAlternatively, since you are always using `getProperty` to initialise the properties, you can write a `@NotNull` method that wraps around it:\r\n\r\n    private static final Properties prop = new Properties();\r\n    @NotNull\r\n    private static getProperty(String key) {\r\n        return prop.getProperty(key);\r\n    }\r\n\r\nYou can configure IntelliJ to generate a null check for this:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAt runtime, an `ExceptionInInitializerError` will be thrown, which is not a `RuntimeException`, but there is an `IllegalStateException` as the cause, with an appropriate message.\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Objects.html#requireNonNull(T)\r\n  [2]: https://i.stack.imgur.com/PSuN5.png","title":"What&#39;s the best way to throw a RuntimeException if a bunch of variables aren&#39;t initialized?","body":"<p>The compiler should give you an error if you forgot to initialise a <code>static final</code> field.</p>\n<p>As for throwing an exception when it is initialised to null, you can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Objects.html#requireNonNull(T)\" rel=\"nofollow noreferrer\"><code>Objects.requireNonNull</code></a>, which is almost like an &quot;annotation&quot;. You can optionally supply an error message.</p>\n<pre><code>REGION = Objects.requireNonNull(prop.getProperty(&quot;aws.region&quot;));\nAPP_PEEFIX = Objects.requireNonNull(\n    prop.getProperty(&quot;cdk.appprefix&quot;), &quot;App prefix is null!&quot;\n);\n</code></pre>\n<p>This throws a <code>NullPointerException</code> if the value is null, which is a kind of <code>RuntimeException</code>.</p>\n<p>Alternatively, since you are always using <code>getProperty</code> to initialise the properties, you can write a <code>@NotNull</code> method that wraps around it:</p>\n<pre><code>private static final Properties prop = new Properties();\n@NotNull\nprivate static getProperty(String key) {\n    return prop.getProperty(key);\n}\n</code></pre>\n<p>You can configure IntelliJ to generate a null check for this:</p>\n<p><a href=\"https://i.stack.imgur.com/PSuN5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PSuN5.png\" alt=\"enter image description here\" /></a></p>\n<p>At runtime, an <code>ExceptionInInitializerError</code> will be thrown, which is not a <code>RuntimeException</code>, but there is an <code>IllegalStateException</code> as the cause, with an appropriate message.</p>\n"},{"tags":[],"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679458337,"creation_date":1679458337,"answer_id":75808394,"question_id":75808296,"body_markdown":"One option is [decorating][1] `Properties` with a class that throws the exception on calling `getProperty()`\r\n\r\n    import java.util.Properties;\r\n    \r\n    public class NonNullProperties extends Properties {\r\n        private final Properties mProps;\r\n    \r\n        public NonNullProperties(Properties props) {\r\n            mProps = props;\r\n        }\r\n    \r\n        @Override\r\n        public String getProperty(String key) {\r\n            String property = super.getProperty(key);\r\n            if (property == null) {\r\n                throw new  NullPointerException(key + &quot; was null!&quot;);\r\n            }\r\n            \r\n            return  property;\r\n        }\r\n    \r\n        // OVERRIDE AND DELEGATE OTHER METHODS\r\n    }\r\n\r\nThen the only thing you have to change in your code is wrapping the Properties class.\r\n\r\n    Properties prop = new NonNullProperties(new Properties());\r\n\r\n  [1]: https://www.google.com/search?q=java%20decorator%20pattern","title":"What&#39;s the best way to throw a RuntimeException if a bunch of variables aren&#39;t initialized?","body":"<p>One option is <a href=\"https://www.google.com/search?q=java%20decorator%20pattern\" rel=\"nofollow noreferrer\">decorating</a> <code>Properties</code> with a class that throws the exception on calling <code>getProperty()</code></p>\n<pre><code>import java.util.Properties;\n\npublic class NonNullProperties extends Properties {\n    private final Properties mProps;\n\n    public NonNullProperties(Properties props) {\n        mProps = props;\n    }\n\n    @Override\n    public String getProperty(String key) {\n        String property = super.getProperty(key);\n        if (property == null) {\n            throw new  NullPointerException(key + &quot; was null!&quot;);\n        }\n        \n        return  property;\n    }\n\n    // OVERRIDE AND DELEGATE OTHER METHODS\n}\n</code></pre>\n<p>Then the only thing you have to change in your code is wrapping the Properties class.</p>\n<pre><code>Properties prop = new NonNullProperties(new Properties());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679464409,"creation_date":1679463264,"answer_id":75808725,"question_id":75808296,"body_markdown":"Wrap your `Properties` in a simple helper that does what you want:\r\n\r\n```java\r\npublic final class NonNullProperties {\r\n\r\n  private final Properties properties;\r\n\r\n  public NonNullProperties(Properties properties) {\r\n    this.properties = Objects.requireNonNull(properties);\r\n  }\r\n\r\n  public String get(String name) {\r\n    return Objects.requireNonNull(properties.getProperty(name), name);\r\n  }\r\n  \r\n}\r\n```\r\n\r\nYour handling of the resource stream leaves the stream open, and missing configuration could be reported more clearly.\r\n\r\n```java\r\nProperties properties = new Properties();\r\nInputStream is = AppProperties.class.getClassLoader().getResourceAsStream(CONFIG_NAME);\r\nif (is == null) throw new UncheckedIOException(new FileNotFoundException(CONFIG_NAME));\r\ntry (is) {\r\n  properties.load(is);\r\n} catch (IOException ex) {\r\n  throw new UncheckedIOException(ex);\r\n}\r\n\r\nNonNullProperties config = new NonNullProperties(properties);\r\nDIGITAL_ASSETS_UPLOADS_BUCKET = config.get(&quot;aws.bucket.digitalassetsuploads&quot;);\r\n...\r\n```","title":"What&#39;s the best way to throw a RuntimeException if a bunch of variables aren&#39;t initialized?","body":"<p>Wrap your <code>Properties</code> in a simple helper that does what you want:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class NonNullProperties {\n\n  private final Properties properties;\n\n  public NonNullProperties(Properties properties) {\n    this.properties = Objects.requireNonNull(properties);\n  }\n\n  public String get(String name) {\n    return Objects.requireNonNull(properties.getProperty(name), name);\n  }\n  \n}\n</code></pre>\n<p>Your handling of the resource stream leaves the stream open, and missing configuration could be reported more clearly.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Properties properties = new Properties();\nInputStream is = AppProperties.class.getClassLoader().getResourceAsStream(CONFIG_NAME);\nif (is == null) throw new UncheckedIOException(new FileNotFoundException(CONFIG_NAME));\ntry (is) {\n  properties.load(is);\n} catch (IOException ex) {\n  throw new UncheckedIOException(ex);\n}\n\nNonNullProperties config = new NonNullProperties(properties);\nDIGITAL_ASSETS_UPLOADS_BUCKET = config.get(&quot;aws.bucket.digitalassetsuploads&quot;);\n...\n</code></pre>\n"}],"owner":{"account_id":149979,"reputation":2514,"user_id":362859,"accept_rate":70,"display_name":"Vladimir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1679464409,"creation_date":1679456903,"question_id":75808296,"body_markdown":"I have the following AppProperties class:\r\n\r\n    import java.io.IOException;\r\n    import java.util.Properties;\r\n    \r\n    public class AppProperties {\r\n    \r\n        public static final String DIGITAL_ASSETS_UPLOADS_BUCKET;\r\n        public static final String REGION;\r\n        public static final String APP_PEEFIX;\r\n        public static final String ACCOUNT_NUMBER;\r\n    \r\n        public static final String TEXTRACT_SSM_SNS_NAME;\r\n        public static final String TEXTRACT_SSM_SQS_NAME;\r\n    \r\n    \r\n        /**\r\n         * Let&#39;s initialize the variables from the application.properties file\r\n         */\r\n        static {\r\n    \r\n            Properties prop = new Properties();\r\n            try {\r\n                prop.load(AppProperties.class.getClassLoader().getResourceAsStream(&quot;application.properties&quot;));\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(&quot;Couldn&#39;t retrieve the application.properties file from the classpath. &quot;, e);\r\n            }\r\n    \r\n            DIGITAL_ASSETS_UPLOADS_BUCKET = prop.getProperty(&quot;aws.bucket.digitalassetsuploads&quot;);\r\n            REGION = prop.getProperty(&quot;aws.region&quot;);\r\n            APP_PEEFIX = prop.getProperty(&quot;cdk.appprefix&quot;);\r\n            ACCOUNT_NUMBER = prop.getProperty(&quot;aws.accountnumber&quot;);\r\n            TEXTRACT_SSM_SNS_NAME = prop.getProperty(&quot;aws.ssm.sns.textract&quot;);\r\n            TEXTRACT_SSM_SQS_NAME = prop.getProperty(&quot;aws.ssm.sqs.textract&quot;);\r\n    \r\n        }\r\n    }\r\n\r\nWhat I would love to do is use an Annotation or some &quot;magic&quot; that would throw a RuntimeException if any of the variables aren&#39;t initialized or if any of the values are null. I know I can do a manual check on every variable but it&#39;s too dirty of an approach....Kotlin makes this too easy and I&#39;m spoiled. \r\n\r\nIs this possible? ","title":"What&#39;s the best way to throw a RuntimeException if a bunch of variables aren&#39;t initialized?","body":"<p>I have the following AppProperties class:</p>\n<pre><code>import java.io.IOException;\nimport java.util.Properties;\n\npublic class AppProperties {\n\n    public static final String DIGITAL_ASSETS_UPLOADS_BUCKET;\n    public static final String REGION;\n    public static final String APP_PEEFIX;\n    public static final String ACCOUNT_NUMBER;\n\n    public static final String TEXTRACT_SSM_SNS_NAME;\n    public static final String TEXTRACT_SSM_SQS_NAME;\n\n\n    /**\n     * Let's initialize the variables from the application.properties file\n     */\n    static {\n\n        Properties prop = new Properties();\n        try {\n            prop.load(AppProperties.class.getClassLoader().getResourceAsStream(&quot;application.properties&quot;));\n        } catch (IOException e) {\n            throw new RuntimeException(&quot;Couldn't retrieve the application.properties file from the classpath. &quot;, e);\n        }\n\n        DIGITAL_ASSETS_UPLOADS_BUCKET = prop.getProperty(&quot;aws.bucket.digitalassetsuploads&quot;);\n        REGION = prop.getProperty(&quot;aws.region&quot;);\n        APP_PEEFIX = prop.getProperty(&quot;cdk.appprefix&quot;);\n        ACCOUNT_NUMBER = prop.getProperty(&quot;aws.accountnumber&quot;);\n        TEXTRACT_SSM_SNS_NAME = prop.getProperty(&quot;aws.ssm.sns.textract&quot;);\n        TEXTRACT_SSM_SQS_NAME = prop.getProperty(&quot;aws.ssm.sqs.textract&quot;);\n\n    }\n}\n</code></pre>\n<p>What I would love to do is use an Annotation or some &quot;magic&quot; that would throw a RuntimeException if any of the variables aren't initialized or if any of the values are null. I know I can do a manual check on every variable but it's too dirty of an approach....Kotlin makes this too easy and I'm spoiled.</p>\n<p>Is this possible?</p>\n"},{"tags":["java","websocket","netty"],"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679463515,"creation_date":1679463515,"question_id":75808739,"body_markdown":"I am using netty `implementation &#39;io.netty:netty-all:4.1.65.Final&#39;` as my websocket server, today I found a problem that when the transfer content length more thatn 300 english words. The websocket connection will disconnected automaticallly(the websocket error code is 1005). This is the server side define:\r\n\r\n\r\n    package com.dolphin.soa.post.config.common.websocket;\r\n    \r\n    import io.netty.bootstrap.ServerBootstrap;\r\n    import io.netty.channel.ChannelFuture;\r\n    import io.netty.channel.ChannelInitializer;\r\n    import io.netty.channel.EventLoopGroup;\r\n    import io.netty.channel.nio.NioEventLoopGroup;\r\n    import io.netty.channel.socket.SocketChannel;\r\n    import io.netty.channel.socket.nio.NioServerSocketChannel;\r\n    import io.netty.handler.codec.http.HttpObjectAggregator;\r\n    import io.netty.handler.codec.http.HttpServerCodec;\r\n    import io.netty.handler.codec.http.websocketx.WebSocketServerProtocolHandler;\r\n    import io.netty.handler.codec.serialization.ObjectEncoder;\r\n    import io.netty.handler.stream.ChunkedWriteHandler;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    \r\n    import javax.annotation.PostConstruct;\r\n    import javax.annotation.PreDestroy;\r\n    import java.net.InetSocketAddress;\r\n    \r\n    public class WebSocketServer extends ChannelInitializer&lt;SocketChannel&gt; {\r\n    \r\n        @Override\r\n        protected void initChannel(SocketChannel ch) {\r\n    \r\n        }\r\n    \r\n        private static final Logger log = LoggerFactory.getLogger(WebSocketServer.class);\r\n    \r\n        private static final String WEBSOCKET_PROTOCOL = &quot;WebSocket&quot;;\r\n    \r\n        /**\r\n         * port number\r\n         */\r\n        @Value(&quot;${webSocket.netty.port:58080}&quot;)\r\n        private int port;\r\n    \r\n        /**\r\n         * webSocket path\r\n         */\r\n        @Value(&quot;${webSocket.netty.path:/post/websocket}&quot;)\r\n        private String webSocketPath;\r\n    \r\n        @Autowired\r\n        private ChatWebSocketHandler webSocketHandler;\r\n    \r\n        private EventLoopGroup bossGroup;\r\n        private EventLoopGroup workGroup;\r\n    \r\n        /**\r\n         * start\r\n         *\r\n         * @throws InterruptedException\r\n         */\r\n        private void start() throws InterruptedException {\r\n            bossGroup = new NioEventLoopGroup();\r\n            workGroup = new NioEventLoopGroup();\r\n            ServerBootstrap bootstrap = new ServerBootstrap();\r\n            bootstrap.group(bossGroup, workGroup);\r\n            bootstrap.channel(NioServerSocketChannel.class);\r\n            bootstrap.localAddress(new InetSocketAddress(port));\r\n            bootstrap.childHandler(new ChannelInitializer&lt;SocketChannel&gt;() {\r\n    \r\n                @Override\r\n                protected void initChannel(SocketChannel ch) throws Exception {\r\n                    ch.pipeline().addLast(new HttpServerCodec());\r\n                    ch.pipeline().addLast(new ObjectEncoder());\r\n                    ch.pipeline().addLast(new ChunkedWriteHandler());\r\n                    /**\r\n                     *\r\n                     */\r\n                    ch.pipeline().addLast(new HttpObjectAggregator(81920));\r\n                    ch.pipeline().addLast(webSocketHandler);\r\n                    ch.pipeline().addLast(new WebSocketServerProtocolHandler(webSocketPath, WEBSOCKET_PROTOCOL, true, 65536 * 10));\r\n                }\r\n            });\r\n            ChannelFuture channelFuture = bootstrap.bind().sync();\r\n            log.info(&quot;Server started and listen on:{}&quot;, channelFuture.channel().localAddress());\r\n            channelFuture.channel().closeFuture().sync();\r\n        }\r\n    \r\n        /**\r\n         *\r\n         *\r\n         * @throws InterruptedException\r\n         */\r\n        @PreDestroy\r\n        public void destroy() throws InterruptedException {\r\n            if (bossGroup != null) {\r\n                bossGroup.shutdownGracefully().sync();\r\n            }\r\n            if (workGroup != null) {\r\n                workGroup.shutdownGracefully().sync();\r\n            }\r\n        }\r\n    \r\n        @PostConstruct()\r\n        public void init() {\r\n            new Thread(() -&gt; {\r\n                try {\r\n                    start();\r\n                } catch (InterruptedException e) {\r\n                    log.error(&quot;start netty server failed&quot;, e);\r\n                }\r\n            }).start();\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\nI have tried to set the `HttpObjectAggregator` length from 8192 to 81920, seems did not work(the allowed content increase some words but did not increase for 10 tons). \r\n\r\n\r\n* is it possible to increse the content? what should I do\r\n* should I increase the content length or send multiple times with small length?\r\n\r\n\r\n\r\n\r\n","title":"is it possible to change the content length of websocket when using netty","body":"<p>I am using netty <code>implementation 'io.netty:netty-all:4.1.65.Final'</code> as my websocket server, today I found a problem that when the transfer content length more thatn 300 english words. The websocket connection will disconnected automaticallly(the websocket error code is 1005). This is the server side define:</p>\n<pre><code>package com.dolphin.soa.post.config.common.websocket;\n\nimport io.netty.bootstrap.ServerBootstrap;\nimport io.netty.channel.ChannelFuture;\nimport io.netty.channel.ChannelInitializer;\nimport io.netty.channel.EventLoopGroup;\nimport io.netty.channel.nio.NioEventLoopGroup;\nimport io.netty.channel.socket.SocketChannel;\nimport io.netty.channel.socket.nio.NioServerSocketChannel;\nimport io.netty.handler.codec.http.HttpObjectAggregator;\nimport io.netty.handler.codec.http.HttpServerCodec;\nimport io.netty.handler.codec.http.websocketx.WebSocketServerProtocolHandler;\nimport io.netty.handler.codec.serialization.ObjectEncoder;\nimport io.netty.handler.stream.ChunkedWriteHandler;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\n\nimport javax.annotation.PostConstruct;\nimport javax.annotation.PreDestroy;\nimport java.net.InetSocketAddress;\n\npublic class WebSocketServer extends ChannelInitializer&lt;SocketChannel&gt; {\n\n    @Override\n    protected void initChannel(SocketChannel ch) {\n\n    }\n\n    private static final Logger log = LoggerFactory.getLogger(WebSocketServer.class);\n\n    private static final String WEBSOCKET_PROTOCOL = &quot;WebSocket&quot;;\n\n    /**\n     * port number\n     */\n    @Value(&quot;${webSocket.netty.port:58080}&quot;)\n    private int port;\n\n    /**\n     * webSocket path\n     */\n    @Value(&quot;${webSocket.netty.path:/post/websocket}&quot;)\n    private String webSocketPath;\n\n    @Autowired\n    private ChatWebSocketHandler webSocketHandler;\n\n    private EventLoopGroup bossGroup;\n    private EventLoopGroup workGroup;\n\n    /**\n     * start\n     *\n     * @throws InterruptedException\n     */\n    private void start() throws InterruptedException {\n        bossGroup = new NioEventLoopGroup();\n        workGroup = new NioEventLoopGroup();\n        ServerBootstrap bootstrap = new ServerBootstrap();\n        bootstrap.group(bossGroup, workGroup);\n        bootstrap.channel(NioServerSocketChannel.class);\n        bootstrap.localAddress(new InetSocketAddress(port));\n        bootstrap.childHandler(new ChannelInitializer&lt;SocketChannel&gt;() {\n\n            @Override\n            protected void initChannel(SocketChannel ch) throws Exception {\n                ch.pipeline().addLast(new HttpServerCodec());\n                ch.pipeline().addLast(new ObjectEncoder());\n                ch.pipeline().addLast(new ChunkedWriteHandler());\n                /**\n                 *\n                 */\n                ch.pipeline().addLast(new HttpObjectAggregator(81920));\n                ch.pipeline().addLast(webSocketHandler);\n                ch.pipeline().addLast(new WebSocketServerProtocolHandler(webSocketPath, WEBSOCKET_PROTOCOL, true, 65536 * 10));\n            }\n        });\n        ChannelFuture channelFuture = bootstrap.bind().sync();\n        log.info(&quot;Server started and listen on:{}&quot;, channelFuture.channel().localAddress());\n        channelFuture.channel().closeFuture().sync();\n    }\n\n    /**\n     *\n     *\n     * @throws InterruptedException\n     */\n    @PreDestroy\n    public void destroy() throws InterruptedException {\n        if (bossGroup != null) {\n            bossGroup.shutdownGracefully().sync();\n        }\n        if (workGroup != null) {\n            workGroup.shutdownGracefully().sync();\n        }\n    }\n\n    @PostConstruct()\n    public void init() {\n        new Thread(() -&gt; {\n            try {\n                start();\n            } catch (InterruptedException e) {\n                log.error(&quot;start netty server failed&quot;, e);\n            }\n        }).start();\n    }\n}\n</code></pre>\n<p>I have tried to set the <code>HttpObjectAggregator</code> length from 8192 to 81920, seems did not work(the allowed content increase some words but did not increase for 10 tons).</p>\n<ul>\n<li>is it possible to increse the content? what should I do</li>\n<li>should I increase the content length or send multiple times with small length?</li>\n</ul>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1528411771,"post_id":3052442,"comment_id":88510103,"body_markdown":"Related topic: [*JEP 192: String Deduplication in G1*](http://openjdk.java.net/jeps/192).","body":"Related topic: <a href=\"http://openjdk.java.net/jeps/192\" rel=\"nofollow noreferrer\"><i>JEP 192: String Deduplication in G1</i></a>."},{"owner":{"account_id":13996556,"reputation":938,"user_id":10109195,"display_name":"Energy"},"score":0,"creation_date":1583306709,"post_id":3052442,"comment_id":107067040,"body_markdown":"Anyone please reply to this.  String a = &quot;Java&quot;;\n        String b = &quot;Java&quot;;\n        System.out.println(a == b); true // but   System.out.println(&quot;a==b?&quot;+a == b); //false...","body":"Anyone please reply to this.  String a = &quot;Java&quot;;         String b = &quot;Java&quot;;         System.out.println(a == b); true // but   System.out.println(&quot;a==b?&quot;+a == b); //false..."},{"owner":{"account_id":13996556,"reputation":938,"user_id":10109195,"display_name":"Energy"},"score":0,"creation_date":1583306772,"post_id":3052442,"comment_id":107067062,"body_markdown":"i don&#39;t understand when i added some comment (&quot;a==b ?) =&gt; my result becomes FALSE. why?","body":"i don&#39;t understand when i added some comment (&quot;a==b ?) =&gt; my result becomes FALSE. why?"},{"owner":{"account_id":16587970,"reputation":181,"user_id":11986818,"display_name":"Cat Bisque"},"score":0,"creation_date":1583950379,"post_id":3052442,"comment_id":107288007,"body_markdown":"@Energy The result is `false` because order of operations dictates that the + operator goes first, concatenating &quot;a==b ?&quot; with a to create a String &quot;a==b?Java&quot;. Then the expression `&quot;a==b?Java&quot; == b` evaluates to false.","body":"@Energy The result is <code>false</code> because order of operations dictates that the + operator goes first, concatenating &quot;a==b ?&quot; with a to create a String &quot;a==b?Java&quot;. Then the expression <code>&quot;a==b?Java&quot; == b</code> evaluates to false."}],"answers":[{"tags":[],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"down_vote_count":1,"up_vote_count":231,"is_accepted":true,"score":230,"last_activity_date":1435839611,"creation_date":1276684254,"answer_id":3052456,"question_id":3052442,"body_markdown":"`new String(&quot;text&quot;);`\r\nexplicitly creates a new and referentially distinct instance of a `String` object; `String s = &quot;text&quot;;` may reuse an instance from the **string constant pool** if one is available.\r\n\r\nYou _very rarely_ would ever want to use the `new String(anotherString)` constructor. From the API:\r\n\r\n&gt; [`String(String original)`](http://java.sun.com/javase/6/docs/api/java/lang/String.html#String%28java.lang.String%29) : Initializes a _newly created_ `String` object so that it represents the same sequence of characters as the argument; in other words, the newly created string is a copy of the argument string. Unless an explicit copy of original is needed, use of this constructor is unnecessary since strings are immutable. \r\n\r\n### Related questions\r\n\r\n* [ Java Strings: “String s = new String(”silly“);” ](https://stackoverflow.com/questions/334518/java-strings-string-s-new-stringsilly)\r\n* [ Strings are objects in Java, so why don’t we use ‘new’ to create them? ](https://stackoverflow.com/questions/2009228/strings-are-objects-in-java-so-why-dont-we-use-new-to-create-them)\r\n\r\n---\r\n\r\n### What referential distinction means\r\n\r\nExamine the following snippet:\r\n\r\n\t\tString s1 = &quot;foobar&quot;;\r\n\t\tString s2 = &quot;foobar&quot;;\r\n\r\n\t\tSystem.out.println(s1 == s2);      // true\r\n\r\n\t\ts2 = new String(&quot;foobar&quot;);\r\n\t\tSystem.out.println(s1 == s2);      // false\r\n\t\tSystem.out.println(s1.equals(s2)); // true\r\n\r\n`==` on two reference types is a reference identity comparison. Two objects that are `equals` are not necessarily `==`. It is usually wrong to use `==` on reference types; most of the time `equals` need to be used instead.\r\n\r\nNonetheless, if for whatever reason you need to create two `equals` but not `==` string, you _can_ use the `new String(anotherString)` constructor. It needs to be said again, however, that this is _very_ peculiar, and is rarely the intention.\r\n\r\n### References\r\n\r\n* [JLS 15.21.3 Reference Equality Operators == and !=](http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.21.3)\r\n* [`class Object` - `boolean Object(equals)`](http://java.sun.com/javase/6/docs/api/java/lang/Object.html#equals%28java.lang.Object%29)\r\n\r\n### Related issues\r\n\r\n* [ Java String.equals versus == ](https://stackoverflow.com/questions/767372/java-string-equals-versus)\r\n* [How do I compare strings in Java?](https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java)","title":"What is the difference between &quot;text&quot; and new String(&quot;text&quot;)?","body":"<p><code>new String(\"text\");</code>\nexplicitly creates a new and referentially distinct instance of a <code>String</code> object; <code>String s = \"text\";</code> may reuse an instance from the <strong>string constant pool</strong> if one is available.</p>\n\n<p>You <em>very rarely</em> would ever want to use the <code>new String(anotherString)</code> constructor. From the API:</p>\n\n<blockquote>\n  <p><a href=\"http://java.sun.com/javase/6/docs/api/java/lang/String.html#String%28java.lang.String%29\" rel=\"noreferrer\"><code>String(String original)</code></a> : Initializes a <em>newly created</em> <code>String</code> object so that it represents the same sequence of characters as the argument; in other words, the newly created string is a copy of the argument string. Unless an explicit copy of original is needed, use of this constructor is unnecessary since strings are immutable. </p>\n</blockquote>\n\n<h3>Related questions</h3>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/334518/java-strings-string-s-new-stringsilly\"> Java Strings: “String s = new String(”silly“);” </a></li>\n<li><a href=\"https://stackoverflow.com/questions/2009228/strings-are-objects-in-java-so-why-dont-we-use-new-to-create-them\"> Strings are objects in Java, so why don’t we use ‘new’ to create them? </a></li>\n</ul>\n\n<hr>\n\n<h3>What referential distinction means</h3>\n\n<p>Examine the following snippet:</p>\n\n<pre><code>    String s1 = \"foobar\";\n    String s2 = \"foobar\";\n\n    System.out.println(s1 == s2);      // true\n\n    s2 = new String(\"foobar\");\n    System.out.println(s1 == s2);      // false\n    System.out.println(s1.equals(s2)); // true\n</code></pre>\n\n<p><code>==</code> on two reference types is a reference identity comparison. Two objects that are <code>equals</code> are not necessarily <code>==</code>. It is usually wrong to use <code>==</code> on reference types; most of the time <code>equals</code> need to be used instead.</p>\n\n<p>Nonetheless, if for whatever reason you need to create two <code>equals</code> but not <code>==</code> string, you <em>can</em> use the <code>new String(anotherString)</code> constructor. It needs to be said again, however, that this is <em>very</em> peculiar, and is rarely the intention.</p>\n\n<h3>References</h3>\n\n<ul>\n<li><a href=\"http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.21.3\" rel=\"noreferrer\">JLS 15.21.3 Reference Equality Operators == and !=</a></li>\n<li><a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Object.html#equals%28java.lang.Object%29\" rel=\"noreferrer\"><code>class Object</code> - <code>boolean Object(equals)</code></a></li>\n</ul>\n\n<h3>Related issues</h3>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/767372/java-string-equals-versus\"> Java String.equals versus == </a></li>\n<li><a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">How do I compare strings in Java?</a></li>\n</ul>\n"},{"tags":[],"owner":{"display_name":"user159088"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1276689447,"creation_date":1276684324,"answer_id":3052460,"question_id":3052442,"body_markdown":"One creates a String in the [String Constant Pool][1]\r\n\r\n    String s = &quot;text&quot;;\r\n\r\nthe other one creates a string in the constant pool (`&quot;text&quot;`) and another string in normal heap space (`s`). Both strings will have the same value, that of &quot;text&quot;.\r\n\r\n    String s = new String(&quot;text&quot;);\r\n\r\n`s` is then lost (eligible for GC) if later unused. \r\n\r\nString literals on the other hand are reused. If you use `&quot;text&quot;` in multiple places of your class it will in fact be one and only one String (i.e. multiple references to the same string in the pool).\r\n\r\n\r\n\r\n\r\n  [1]: http://www.xyzws.com/Javafaq/what-is-string-literal-pool/3","title":"What is the difference between &quot;text&quot; and new String(&quot;text&quot;)?","body":"<p>One creates a String in the <a href=\"http://www.xyzws.com/Javafaq/what-is-string-literal-pool/3\" rel=\"noreferrer\">String Constant Pool</a></p>\n\n<pre><code>String s = \"text\";\n</code></pre>\n\n<p>the other one creates a string in the constant pool (<code>\"text\"</code>) and another string in normal heap space (<code>s</code>). Both strings will have the same value, that of \"text\".</p>\n\n<pre><code>String s = new String(\"text\");\n</code></pre>\n\n<p><code>s</code> is then lost (eligible for GC) if later unused. </p>\n\n<p>String literals on the other hand are reused. If you use <code>\"text\"</code> in multiple places of your class it will in fact be one and only one String (i.e. multiple references to the same string in the pool).</p>\n"},{"tags":[],"owner":{"account_id":85613,"reputation":21012,"user_id":238578,"accept_rate":75,"display_name":"b_erb"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1276685167,"creation_date":1276685167,"answer_id":3052574,"question_id":3052442,"body_markdown":"Think of `&quot;bla&quot;` being a magic factory like `Strings.createString(&quot;bla&quot;)` (pseudo). The factory holds a pool of all strings yet created this way. \r\n\r\nIf it gets invoked, it checks if there is already string in the pool with this value. If true, it returns this string object, hence to strings obtained this way are indeed the same object.\r\n\r\nIf not, it creates a new string object internally, saves it in the pool and then returns it. Thus, when the same string value is queried the next time, it returns the same instance.\r\n\r\nManually creating `new String(&quot;&quot;)` overrides this behaviour by bypassing the string literal pool. So equality should always be checked using `equals()` which compares the character sequence instead of the object reference equality.\r\n","title":"What is the difference between &quot;text&quot; and new String(&quot;text&quot;)?","body":"<p>Think of <code>\"bla\"</code> being a magic factory like <code>Strings.createString(\"bla\")</code> (pseudo). The factory holds a pool of all strings yet created this way. </p>\n\n<p>If it gets invoked, it checks if there is already string in the pool with this value. If true, it returns this string object, hence to strings obtained this way are indeed the same object.</p>\n\n<p>If not, it creates a new string object internally, saves it in the pool and then returns it. Thus, when the same string value is queried the next time, it returns the same instance.</p>\n\n<p>Manually creating <code>new String(\"\")</code> overrides this behaviour by bypassing the string literal pool. So equality should always be checked using <code>equals()</code> which compares the character sequence instead of the object reference equality.</p>\n"},{"tags":[],"owner":{"account_id":126286,"reputation":669,"user_id":322691,"accept_rate":40,"display_name":"Shashank T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1276687189,"creation_date":1276687189,"answer_id":3052757,"question_id":3052442,"body_markdown":"One simple way to understand the difference is below:-\r\n\r\n    String s =&quot;abc&quot;;\r\n    String s1= &quot;abc&quot;;\r\n    String s2=new String(&quot;abc&quot;);\r\n    \t\t\r\n    \t\tif(s==s1){\r\n    \t\t\tSystem.out.println(&quot;s==s1 is true&quot;);\r\n    \t\t}else{\r\n    \t\t\tSystem.out.println(&quot;s==s1 is false&quot;);\r\n    \t\t}\r\n    \t\tif(s==s2){\r\n    \t\t\tSystem.out.println(&quot;s==s2 is true&quot;);\r\n    \t\t}else{\r\n    \t\t\tSystem.out.println(&quot;s==s2 is false&quot;);\r\n    \t\t}\r\n\r\noutput is \r\n\r\n    s==s1 is true\r\n    s==s2 is false\r\n\r\nThus new String() will always create a new instance.","title":"What is the difference between &quot;text&quot; and new String(&quot;text&quot;)?","body":"<p>One simple way to understand the difference is below:-</p>\n\n<pre><code>String s =\"abc\";\nString s1= \"abc\";\nString s2=new String(\"abc\");\n\n        if(s==s1){\n            System.out.println(\"s==s1 is true\");\n        }else{\n            System.out.println(\"s==s1 is false\");\n        }\n        if(s==s2){\n            System.out.println(\"s==s2 is true\");\n        }else{\n            System.out.println(\"s==s2 is false\");\n        }\n</code></pre>\n\n<p>output is </p>\n\n<pre><code>s==s1 is true\ns==s2 is false\n</code></pre>\n\n<p>Thus new String() will always create a new instance.</p>\n"},{"tags":[],"owner":{"account_id":62111,"reputation":40153,"user_id":184730,"accept_rate":72,"display_name":"fastcodejava"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1276749512,"creation_date":1276749512,"answer_id":3058903,"question_id":3052442,"body_markdown":"Although it looks the same from a programmers point of view, it has big performance impact. You would want to use the first form almost always.","title":"What is the difference between &quot;text&quot; and new String(&quot;text&quot;)?","body":"<p>Although it looks the same from a programmers point of view, it has big performance impact. You would want to use the first form almost always.</p>\n"},{"tags":[],"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"down_vote_count":1,"up_vote_count":148,"is_accepted":false,"score":147,"last_activity_date":1515938520,"creation_date":1399562800,"answer_id":23546082,"question_id":3052442,"body_markdown":"String [literals](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html) will go into **String Constant Pool**.\r\n\r\nThe below snapshot might help you to understand it *visually* to remember it for longer time.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n____________\r\n\r\nObject creation line by line:\r\n\r\n    String str1 = new String(&quot;java5&quot;);\r\n\r\nUsing string literal &quot;java5&quot; in the constructor, a new string value is stored in string constant pool.\r\nUsing new operator, a new string object is created in the heap with &quot;java5&quot; as value.\r\n\r\n    String str2 = &quot;java5&quot;\r\n\r\nReference &quot;str2&quot; is pointed to already stored value in string constant pool\r\n\r\n    String str3 = new String(str2);\r\n\r\nA new string object is created in the heap with the same value as reference by &quot;str2&quot;\r\n\r\n    String str4 = &quot;java5&quot;;\r\n\r\nReference &quot;str4&quot; is pointed to already stored value in string constant pool\r\n\r\nTotal objects : Heap - 2, Pool - 1\r\n\r\n[Further reading on Oracle community](https://community.oracle.com/thread/1758056?tstart=0)\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/71l1O.jpg","title":"What is the difference between &quot;text&quot; and new String(&quot;text&quot;)?","body":"<p>String <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"noreferrer\">literals</a> will go into <strong>String Constant Pool</strong>.</p>\n\n<p>The below snapshot might help you to understand it <em>visually</em> to remember it for longer time.</p>\n\n<p><img src=\"https://i.stack.imgur.com/71l1O.jpg\" alt=\"enter image description here\"></p>\n\n<hr>\n\n<p>Object creation line by line:</p>\n\n<pre><code>String str1 = new String(\"java5\");\n</code></pre>\n\n<p>Using string literal \"java5\" in the constructor, a new string value is stored in string constant pool.\nUsing new operator, a new string object is created in the heap with \"java5\" as value.</p>\n\n<pre><code>String str2 = \"java5\"\n</code></pre>\n\n<p>Reference \"str2\" is pointed to already stored value in string constant pool</p>\n\n<pre><code>String str3 = new String(str2);\n</code></pre>\n\n<p>A new string object is created in the heap with the same value as reference by \"str2\"</p>\n\n<pre><code>String str4 = \"java5\";\n</code></pre>\n\n<p>Reference \"str4\" is pointed to already stored value in string constant pool</p>\n\n<p>Total objects : Heap - 2, Pool - 1</p>\n\n<p><a href=\"https://community.oracle.com/thread/1758056?tstart=0\" rel=\"noreferrer\">Further reading on Oracle community</a></p>\n"},{"tags":[],"owner":{"account_id":2114957,"reputation":161,"user_id":1879479,"accept_rate":29,"display_name":"SDC"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1436236320,"creation_date":1436236320,"answer_id":31258786,"question_id":3052442,"body_markdown":"@Braj : i think u have mentioned the other way around. Please correct me if i am wrong\r\n\r\nObject creation line by line:\r\n\r\nString str1 = new String(&quot;java5&quot;)   \r\n\r\n       Pool- &quot;java5&quot; (1 Object)\r\n    \r\n       Heap - str1 =&gt; &quot;java5&quot; (1 Object)\r\n\r\nString str2 = &quot;java5&quot;\r\n\r\n      pool- str2 =&gt; &quot;java5&quot; (1 Object)\r\n\r\n      heap - str1 =&gt; &quot;java5&quot; (1 Object)\r\n\r\nString str3 = new String(str2)\r\n\r\n      pool- str2 =&gt; &quot;java5&quot; (1 Object)\r\n\r\n      heap- str1 =&gt; &quot;java5&quot;, str3 =&gt; &quot;java5&quot; (2 Objects)\r\n\r\nString str4 = &quot;java5&quot;\r\n\r\n      pool - str2 =&gt; str4 =&gt; &quot;java5&quot; (1 Object)\r\n\r\n      heap - str1 =&gt; &quot;java5&quot;, str3 =&gt; &quot;java5&quot; (2 Objects)","title":"What is the difference between &quot;text&quot; and new String(&quot;text&quot;)?","body":"<p>@Braj : i think u have mentioned the other way around. Please correct me if i am wrong</p>\n\n<p>Object creation line by line:</p>\n\n<p>String str1 = new String(\"java5\")   </p>\n\n<pre><code>   Pool- \"java5\" (1 Object)\n\n   Heap - str1 =&gt; \"java5\" (1 Object)\n</code></pre>\n\n<p>String str2 = \"java5\"</p>\n\n<pre><code>  pool- str2 =&gt; \"java5\" (1 Object)\n\n  heap - str1 =&gt; \"java5\" (1 Object)\n</code></pre>\n\n<p>String str3 = new String(str2)</p>\n\n<pre><code>  pool- str2 =&gt; \"java5\" (1 Object)\n\n  heap- str1 =&gt; \"java5\", str3 =&gt; \"java5\" (2 Objects)\n</code></pre>\n\n<p>String str4 = \"java5\"</p>\n\n<pre><code>  pool - str2 =&gt; str4 =&gt; \"java5\" (1 Object)\n\n  heap - str1 =&gt; \"java5\", str3 =&gt; \"java5\" (2 Objects)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":996598,"reputation":6067,"user_id":1012372,"accept_rate":49,"display_name":"Jayesh"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1442312649,"creation_date":1442312649,"answer_id":32583640,"question_id":3052442,"body_markdown":"    String str = new String(&quot;hello&quot;)\r\n\r\nIt will check whether String constant pool already contains String &quot;hello&quot;? \r\nIf  present then it will not add an entry in String constant pool. If not present then it will add an entry in String constant pool. \r\n\r\nAn object will be created in a heap memory area and `str` reference points to object created in heap memory location.\r\n\r\nif you want `str` reference to point object containing in String constant pool then one has to explicitly call `str.intern();` \r\n\r\n    String str = &quot;world&quot;;\r\n\r\nIt will check whether String constant pool already contains String &quot;hello&quot;? \r\nIf  present then it will not add an entry in String constant pool. If not present then it will add an entry in String constant pool.\r\n \r\nIn both the above case, `str` reference points to String `&quot;world&quot;` present in Constant pool. \r\n \r\n\r\n    ","title":"What is the difference between &quot;text&quot; and new String(&quot;text&quot;)?","body":"<pre><code>String str = new String(\"hello\")\n</code></pre>\n\n<p>It will check whether String constant pool already contains String \"hello\"? \nIf  present then it will not add an entry in String constant pool. If not present then it will add an entry in String constant pool. </p>\n\n<p>An object will be created in a heap memory area and <code>str</code> reference points to object created in heap memory location.</p>\n\n<p>if you want <code>str</code> reference to point object containing in String constant pool then one has to explicitly call <code>str.intern();</code> </p>\n\n<pre><code>String str = \"world\";\n</code></pre>\n\n<p>It will check whether String constant pool already contains String \"hello\"? \nIf  present then it will not add an entry in String constant pool. If not present then it will add an entry in String constant pool.</p>\n\n<p>In both the above case, <code>str</code> reference points to String <code>\"world\"</code> present in Constant pool. </p>\n"},{"tags":[],"owner":{"account_id":481416,"reputation":355314,"user_id":895245,"accept_rate":49,"display_name":"Ciro Santilli OurBigBook.com"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1501261150,"creation_date":1492240705,"answer_id":43423384,"question_id":3052442,"body_markdown":"## JLS\r\n\r\nThe concept is called &quot;interning&quot; by the JLS. \r\n\r\nRelevant passage from [JLS 7 3.10.5](http://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.10.5):\r\n\r\n&gt; Moreover, a string literal always refers to the same instance of class String. This is because string literals - or, more generally, strings that are the values of constant expressions (&#167;15.28) - are &quot;interned&quot; so as to share unique instances, using the method String.intern.\r\n\r\n&gt; **Example 3.10.5-1. String Literals**\r\n\r\n&gt; The program consisting of the compilation unit (&#167;7.3): \r\n\r\n&gt;     package testPackage;\r\n    class Test {\r\n        public static void main(String[] args) {\r\n            String hello = &quot;Hello&quot;, lo = &quot;lo&quot;;\r\n            System.out.print((hello == &quot;Hello&quot;) + &quot; &quot;);\r\n            System.out.print((Other.hello == hello) + &quot; &quot;);\r\n            System.out.print((other.Other.hello == hello) + &quot; &quot;);\r\n            System.out.print((hello == (&quot;Hel&quot;+&quot;lo&quot;)) + &quot; &quot;);\r\n            System.out.print((hello == (&quot;Hel&quot;+lo)) + &quot; &quot;);\r\n            System.out.println(hello == (&quot;Hel&quot;+lo).intern());\r\n        }\r\n    }\r\n    class Other { static String hello = &quot;Hello&quot;; }\r\n\r\n&gt; and the compilation unit:\r\n\r\n&gt;     package other;\r\n    public class Other { public static String hello = &quot;Hello&quot;; }\r\n\r\n&gt; produces the output:\r\n\r\n&gt;     true true true true false true\r\n\r\n## JVMS\r\n\r\n[JVMS 7 5.1 says](https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-5.html#jvms-5.1):\r\n\r\n&gt; A string literal is a reference to an instance of class String, and is derived from a CONSTANT_String_info structure (&#167;4.4.3) in the binary representation of a class or interface. The CONSTANT_String_info structure gives the sequence of Unicode code points constituting the string literal.\r\n\r\n&gt; The Java programming language requires that identical string literals (that is, literals that contain the same sequence of code points) must refer to the same instance of class String (JLS &#167;3.10.5). In addition, if the method String.intern is called on any string, the result is a reference to the same class instance that would be returned if that string appeared as a literal. Thus, the following expression must have the value true:\r\n\r\n&gt;     (&quot;a&quot; + &quot;b&quot; + &quot;c&quot;).intern() == &quot;abc&quot;\r\n    \r\n&gt; To derive a string literal, the Java Virtual Machine examines the sequence of code points given by the CONSTANT_String_info structure.\r\n\r\n&gt; - If the method String.intern has previously been called on an instance of class String containing a sequence of Unicode code points identical to that given by the CONSTANT_String_info structure, then the result of string literal derivation is a reference to that same instance of class String.\r\n\r\n&gt; - Otherwise, a new instance of class String is created containing the sequence of Unicode code points given by the CONSTANT_String_info structure; a reference to that class instance is the result of string literal derivation. Finally, the intern method of the new String instance is invoked.\r\n\r\n## Bytecode\r\n\r\nIt is also instructive to look at the bytecode implementation on OpenJDK 7.\r\n\r\nIf we decompile:\r\n\r\n    public class StringPool {\r\n        public static void main(String[] args) {\r\n            String a = &quot;abc&quot;;\r\n            String b = &quot;abc&quot;;\r\n            String c = new String(&quot;abc&quot;);\r\n            System.out.println(a);\r\n            System.out.println(b);\r\n            System.out.println(a == c);\r\n        }\r\n    }\r\n\r\nwe have on the constant pool:\r\n\r\n    #2 = String             #32   // abc\r\n    [...]\r\n    #32 = Utf8               abc\r\n\r\nand `main`:\r\n    \r\n     0: ldc           #2          // String abc\r\n     2: astore_1\r\n     3: ldc           #2          // String abc\r\n     5: astore_2\r\n     6: new           #3          // class java/lang/String\r\n     9: dup\r\n    10: ldc           #2          // String abc\r\n    12: invokespecial #4          // Method java/lang/String.&quot;&lt;init&gt;&quot;:(Ljava/lang/String;)V\r\n    15: astore_3\r\n    16: getstatic     #5          // Field java/lang/System.out:Ljava/io/PrintStream;\r\n    19: aload_1\r\n    20: invokevirtual #6          // Method java/io/PrintStream.println:(Ljava/lang/String;)V\r\n    23: getstatic     #5          // Field java/lang/System.out:Ljava/io/PrintStream;\r\n    26: aload_2\r\n    27: invokevirtual #6          // Method java/io/PrintStream.println:(Ljava/lang/String;)V\r\n    30: getstatic     #5          // Field java/lang/System.out:Ljava/io/PrintStream;\r\n    33: aload_1\r\n    34: aload_3\r\n    35: if_acmpne     42\r\n    38: iconst_1\r\n    39: goto          43\r\n    42: iconst_0\r\n    43: invokevirtual #7          // Method java/io/PrintStream.println:(Z)V\r\n\r\nNote how:\r\n\r\n- `0` and `3`: the same `ldc #2` constant is loaded (the literals)\r\n- `12`: a new string instance is created (with `#2` as argument)\r\n- `35`: `a` and `c` are compared as regular objects with `if_acmpne`\r\n\r\nThe representation of constant strings is quite magic on the bytecode:\r\n\r\n- it has a dedicated [CONSTANT_String_info](https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.4.3) structure, unlike regular objects (e.g. `new String`)\r\n- the struct points to a [CONSTANT_Utf8_info Structure](https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.4.7) that contains the data. That is the only necessary data to represent the string.\r\n\r\nand the JVMS quote above seems to say that whenever the Utf8 pointed to is the same, then identical instances are loaded by `ldc`.\r\n\r\nI have done similar tests for fields, and:\r\n\r\n- `static final String s = &quot;abc&quot;` points to the constant table through the [ConstantValue Attribute](https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.7.2)\r\n- non-final fields don&#39;t have that attribute, but can still be initialized with `ldc`\r\n\r\n**Conclusion**: there is direct bytecode support for the string pool, and the memory representation is efficient.\r\n\r\nBonus: compare that to the [Integer pool](https://stackoverflow.com/questions/13098143/java-integer-constant-pool), which does not have direct bytecode support (i.e. no `CONSTANT_String_info` analogue).","title":"What is the difference between &quot;text&quot; and new String(&quot;text&quot;)?","body":"<h2>JLS</h2>\n\n<p>The concept is called \"interning\" by the JLS. </p>\n\n<p>Relevant passage from <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.10.5\" rel=\"noreferrer\">JLS 7 3.10.5</a>:</p>\n\n<blockquote>\n  <p>Moreover, a string literal always refers to the same instance of class String. This is because string literals - or, more generally, strings that are the values of constant expressions (§15.28) - are \"interned\" so as to share unique instances, using the method String.intern.</p>\n  \n  <p><strong>Example 3.10.5-1. String Literals</strong></p>\n  \n  <p>The program consisting of the compilation unit (§7.3): </p>\n\n<pre><code>package testPackage;\nclass Test {\n    public static void main(String[] args) {\n        String hello = \"Hello\", lo = \"lo\";\n        System.out.print((hello == \"Hello\") + \" \");\n        System.out.print((Other.hello == hello) + \" \");\n        System.out.print((other.Other.hello == hello) + \" \");\n        System.out.print((hello == (\"Hel\"+\"lo\")) + \" \");\n        System.out.print((hello == (\"Hel\"+lo)) + \" \");\n        System.out.println(hello == (\"Hel\"+lo).intern());\n    }\n}\nclass Other { static String hello = \"Hello\"; }\n</code></pre>\n  \n  <p>and the compilation unit:</p>\n\n<pre><code>package other;\npublic class Other { public static String hello = \"Hello\"; }\n</code></pre>\n  \n  <p>produces the output:</p>\n\n<pre><code>true true true true false true\n</code></pre>\n</blockquote>\n\n<h2>JVMS</h2>\n\n<p><a href=\"https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-5.html#jvms-5.1\" rel=\"noreferrer\">JVMS 7 5.1 says</a>:</p>\n\n<blockquote>\n  <p>A string literal is a reference to an instance of class String, and is derived from a CONSTANT_String_info structure (§4.4.3) in the binary representation of a class or interface. The CONSTANT_String_info structure gives the sequence of Unicode code points constituting the string literal.</p>\n  \n  <p>The Java programming language requires that identical string literals (that is, literals that contain the same sequence of code points) must refer to the same instance of class String (JLS §3.10.5). In addition, if the method String.intern is called on any string, the result is a reference to the same class instance that would be returned if that string appeared as a literal. Thus, the following expression must have the value true:</p>\n\n<pre><code>(\"a\" + \"b\" + \"c\").intern() == \"abc\"\n</code></pre>\n  \n  <p>To derive a string literal, the Java Virtual Machine examines the sequence of code points given by the CONSTANT_String_info structure.</p>\n  \n  <ul>\n  <li><p>If the method String.intern has previously been called on an instance of class String containing a sequence of Unicode code points identical to that given by the CONSTANT_String_info structure, then the result of string literal derivation is a reference to that same instance of class String.</p></li>\n  <li><p>Otherwise, a new instance of class String is created containing the sequence of Unicode code points given by the CONSTANT_String_info structure; a reference to that class instance is the result of string literal derivation. Finally, the intern method of the new String instance is invoked.</p></li>\n  </ul>\n</blockquote>\n\n<h2>Bytecode</h2>\n\n<p>It is also instructive to look at the bytecode implementation on OpenJDK 7.</p>\n\n<p>If we decompile:</p>\n\n<pre><code>public class StringPool {\n    public static void main(String[] args) {\n        String a = \"abc\";\n        String b = \"abc\";\n        String c = new String(\"abc\");\n        System.out.println(a);\n        System.out.println(b);\n        System.out.println(a == c);\n    }\n}\n</code></pre>\n\n<p>we have on the constant pool:</p>\n\n<pre><code>#2 = String             #32   // abc\n[...]\n#32 = Utf8               abc\n</code></pre>\n\n<p>and <code>main</code>:</p>\n\n<pre><code> 0: ldc           #2          // String abc\n 2: astore_1\n 3: ldc           #2          // String abc\n 5: astore_2\n 6: new           #3          // class java/lang/String\n 9: dup\n10: ldc           #2          // String abc\n12: invokespecial #4          // Method java/lang/String.\"&lt;init&gt;\":(Ljava/lang/String;)V\n15: astore_3\n16: getstatic     #5          // Field java/lang/System.out:Ljava/io/PrintStream;\n19: aload_1\n20: invokevirtual #6          // Method java/io/PrintStream.println:(Ljava/lang/String;)V\n23: getstatic     #5          // Field java/lang/System.out:Ljava/io/PrintStream;\n26: aload_2\n27: invokevirtual #6          // Method java/io/PrintStream.println:(Ljava/lang/String;)V\n30: getstatic     #5          // Field java/lang/System.out:Ljava/io/PrintStream;\n33: aload_1\n34: aload_3\n35: if_acmpne     42\n38: iconst_1\n39: goto          43\n42: iconst_0\n43: invokevirtual #7          // Method java/io/PrintStream.println:(Z)V\n</code></pre>\n\n<p>Note how:</p>\n\n<ul>\n<li><code>0</code> and <code>3</code>: the same <code>ldc #2</code> constant is loaded (the literals)</li>\n<li><code>12</code>: a new string instance is created (with <code>#2</code> as argument)</li>\n<li><code>35</code>: <code>a</code> and <code>c</code> are compared as regular objects with <code>if_acmpne</code></li>\n</ul>\n\n<p>The representation of constant strings is quite magic on the bytecode:</p>\n\n<ul>\n<li>it has a dedicated <a href=\"https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.4.3\" rel=\"noreferrer\">CONSTANT_String_info</a> structure, unlike regular objects (e.g. <code>new String</code>)</li>\n<li>the struct points to a <a href=\"https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.4.7\" rel=\"noreferrer\">CONSTANT_Utf8_info Structure</a> that contains the data. That is the only necessary data to represent the string.</li>\n</ul>\n\n<p>and the JVMS quote above seems to say that whenever the Utf8 pointed to is the same, then identical instances are loaded by <code>ldc</code>.</p>\n\n<p>I have done similar tests for fields, and:</p>\n\n<ul>\n<li><code>static final String s = \"abc\"</code> points to the constant table through the <a href=\"https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.7.2\" rel=\"noreferrer\">ConstantValue Attribute</a></li>\n<li>non-final fields don't have that attribute, but can still be initialized with <code>ldc</code></li>\n</ul>\n\n<p><strong>Conclusion</strong>: there is direct bytecode support for the string pool, and the memory representation is efficient.</p>\n\n<p>Bonus: compare that to the <a href=\"https://stackoverflow.com/questions/13098143/java-integer-constant-pool\">Integer pool</a>, which does not have direct bytecode support (i.e. no <code>CONSTANT_String_info</code> analogue).</p>\n"},{"tags":[],"owner":{"account_id":11745569,"reputation":181,"user_id":8596440,"display_name":"Amritansh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1547561227,"creation_date":1547561227,"answer_id":54200519,"question_id":3052442,"body_markdown":"Any String literal gets created inside string literal pool and the pool doesn&#39;t allow any duplicates. Thus if two or more string objects are initialized with the same literal value then all objects will point to the same literal.\r\n\r\n    String obj1 = &quot;abc&quot;;\r\n    String obj2 = &quot;abc&quot;;\r\n\r\n&quot;obj1&quot; and &quot;obj2&quot; will point to the same string literal and the string literal pool will have only one &quot;abc&quot; literal.\r\n\r\nWhen we create a String class object using the new keyword the string thus created is stored in heap memory. Any string literal passed as parameter to the constructor of String class however is stored in string pool. If we create multiple objects using the same value with the new operator a new object will be created in the heap each time, because of this new operator should be avoided.\r\n\r\n    String obj1 = new String(&quot;abc&quot;);\r\n    String obj2 = new String(&quot;abc&quot;);\r\n\r\n&quot;obj1&quot; and &quot;obj2&quot; will point to two different objects in the heap and the string literal pool will have only one &quot;abc&quot; literal.\r\n\r\nAlso something that is worth noting with regards to the behavior of strings is that any new assignment or concatenation done on string creates a new object in memory.\r\n\r\n    String str1 = &quot;abc&quot;;\r\n    String str2 = &quot;abc&quot; + &quot;def&quot;;\r\n    str1 = &quot;xyz&quot;;\r\n    str2 = str1 + &quot;ghi&quot;;\r\n\r\nNow in the above case:&lt;br&gt;\r\nLine 1: &quot;abc&quot; literal is stored in string pool.&lt;br&gt;\r\nLine 2: &quot;abcdef&quot; literal gets stored in the string pool.&lt;br&gt;\r\nLine 3: A new &quot;xyz&quot; literal is stored in the string pool and &quot;str1&quot; starts to point to this literal.&lt;br&gt;\r\nLine 4: Since the value is generated by appending to another variable the result is stored in the heap memory and the literal being appended &quot;ghi&quot; will be checked for its existence in the string pool and will be created since it doesn&#39;t exist in the above case.","title":"What is the difference between &quot;text&quot; and new String(&quot;text&quot;)?","body":"<p>Any String literal gets created inside string literal pool and the pool doesn't allow any duplicates. Thus if two or more string objects are initialized with the same literal value then all objects will point to the same literal.</p>\n\n<pre><code>String obj1 = \"abc\";\nString obj2 = \"abc\";\n</code></pre>\n\n<p>\"obj1\" and \"obj2\" will point to the same string literal and the string literal pool will have only one \"abc\" literal.</p>\n\n<p>When we create a String class object using the new keyword the string thus created is stored in heap memory. Any string literal passed as parameter to the constructor of String class however is stored in string pool. If we create multiple objects using the same value with the new operator a new object will be created in the heap each time, because of this new operator should be avoided.</p>\n\n<pre><code>String obj1 = new String(\"abc\");\nString obj2 = new String(\"abc\");\n</code></pre>\n\n<p>\"obj1\" and \"obj2\" will point to two different objects in the heap and the string literal pool will have only one \"abc\" literal.</p>\n\n<p>Also something that is worth noting with regards to the behavior of strings is that any new assignment or concatenation done on string creates a new object in memory.</p>\n\n<pre><code>String str1 = \"abc\";\nString str2 = \"abc\" + \"def\";\nstr1 = \"xyz\";\nstr2 = str1 + \"ghi\";\n</code></pre>\n\n<p>Now in the above case:<br>\nLine 1: \"abc\" literal is stored in string pool.<br>\nLine 2: \"abcdef\" literal gets stored in the string pool.<br>\nLine 3: A new \"xyz\" literal is stored in the string pool and \"str1\" starts to point to this literal.<br>\nLine 4: Since the value is generated by appending to another variable the result is stored in the heap memory and the literal being appended \"ghi\" will be checked for its existence in the string pool and will be created since it doesn't exist in the above case.</p>\n"},{"tags":[],"owner":{"account_id":13202721,"reputation":11,"user_id":9535508,"display_name":"Syed Babar Ali Shah 3261-FBASB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548586925,"creation_date":1548585714,"answer_id":54387239,"question_id":3052442,"body_markdown":"When you store a String as\r\n\r\n    String string1 = &quot;Hello&quot;;\r\n\r\ndirectly, then JVM creates a String object with the given price during a separate block of memory called String constant pool.\r\n\r\nAnd whenever we have a tendency to try and produce another String as\r\n\r\n    String string2 = &quot;Hello&quot;;\r\n\r\nJVM verifies whether or not any String object with constant price exists within the String constant pool, if so, rather than making a brand new object JVM assigns the reference of the existing object to the new variable.\r\n\r\nAnd when we store String as\r\n\r\n    String string = new String(&quot;Hello&quot;);\r\n\r\nusing the new keyword, a brand new object with the given price is made no matter the contents of the String constant pool.","title":"What is the difference between &quot;text&quot; and new String(&quot;text&quot;)?","body":"<p>When you store a String as</p>\n\n<pre><code>String string1 = \"Hello\";\n</code></pre>\n\n<p>directly, then JVM creates a String object with the given price during a separate block of memory called String constant pool.</p>\n\n<p>And whenever we have a tendency to try and produce another String as</p>\n\n<pre><code>String string2 = \"Hello\";\n</code></pre>\n\n<p>JVM verifies whether or not any String object with constant price exists within the String constant pool, if so, rather than making a brand new object JVM assigns the reference of the existing object to the new variable.</p>\n\n<p>And when we store String as</p>\n\n<pre><code>String string = new String(\"Hello\");\n</code></pre>\n\n<p>using the new keyword, a brand new object with the given price is made no matter the contents of the String constant pool.</p>\n"},{"tags":[],"owner":{"account_id":3617971,"reputation":1737,"user_id":3017390,"accept_rate":64,"display_name":"ThinkTank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597741564,"creation_date":1596965598,"answer_id":63324716,"question_id":3052442,"body_markdown":"Sorry for late Answer but much needed Answer.\r\nFirst we need to know some [Java.lang.String][1] Class rules.\r\n\r\n 1. String Literals e.g.`String str=&quot;java&quot;;` (we use only double Quotes)\r\n are different from String Object (we use new keyword)\r\n e.g. `String str=new String(&quot;java&quot;);`\r\n 2. [String is Immutable Object][2] i.e. If value changes a new Object is created and returned to you eg See `replace() and replaceAll()` functions and many more.\r\n 3. This creates a problem of many String Object in Modification, So creators of Java came up an Idea was called StringPool. StringPool is stored in heap area where object reference data will be stored as we know String is `Char[]`([before java 9][3] very Long to read) or `byte`[]([after java 9][4] short to read).\r\n 4. String literals are stored in StringPool and String Objects are stored in as usual heap Object Area.\r\n 5. If there are many Object String Initialization JVM heap will be finished in String Operations only, Java Development team came up with [intern()][5] solution this moves/changes memory reference to StringPool.\r\n\r\n     [Program: Comparing String references to objects][6] \r\n\r\n[Another good link to understand java.lang.String better][7]\r\n\r\n    import java.util.*; \r\n    \r\n    class GFG { \r\n    \tpublic static void main(String[] args) \r\n    \t{ \r\n          String siteName1 = &quot;java.com&quot;;\r\n            String siteName2 = &quot;java.com&quot;;\r\n            String siteName3 = new String(&quot;java.com&quot;);\r\n            String siteName4 = new String(&quot;java.com&quot;).intern();\r\n          \r\n     \tSystem.out.println(&quot;siteName1:::&quot;+Integer.toHexString(System.identityHashCode(siteName1)));\r\n          System.out.println(&quot;siteName2:::&quot;+Integer.toHexString(System.identityHashCode(siteName2)));\r\n          System.out.println(&quot;siteName3 creation Of New Object Without Interned:::&quot;+Integer.toHexString(System.identityHashCode(siteName3)));//must be Diffrent bcoz new Object In Heap Area\r\n          System.out.println(&quot;siteName4 creation Of New Object With Interned:::&quot;+Integer.toHexString(System.identityHashCode(siteName4)));//must be same MemoryAddress of siteName1,siteName2 and Interned, bcoz Objects Points to String pool Now\r\n          \r\n          System.out.println(siteName1 == siteName2); // true\r\n          System.out.println(siteName1 == siteName3); // false this tells about lietral vs String Objects\r\n          String siteName5 = siteName3.intern(); // Interning will not change Original Object but gives us a new Object\r\n          \r\n          System.out.println(&quot;siteName5 Interned from siteName3:::&quot;+Integer.toHexString(System.identityHashCode(siteName5)));//must be same MemoryAddress of siteName1,siteName2 and Interned, bcoz Objects Points to String pool Now\r\n          \r\n          System.out.println(siteName1 == siteName3); // false this tells about Immutability\r\n          System.out.println(siteName1 == siteName5); // true After Intering both are same\r\n          System.out.println(siteName1 == siteName4); // true\r\n          System.out.println(siteName5 == siteName4); // true\r\n    \t} \r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html\r\n  [2]: https://stackoverflow.com/questions/1552301/immutability-of-strings-in-java\r\n  [3]: https://www.tutorialspoint.com/what-are-compact-strings-in-java-9\r\n  [4]: https://examples.javacodegeeks.com/core-java/java-9-compact-strings-example/\r\n  [5]: https://www.tutorialspoint.com/java/lang/string_intern.htm\r\n  [6]: https://ide.geeksforgeeks.org/EhzgZAmAcj\r\n  [7]: https://ide.geeksforgeeks.org/coJvbfIi5m","title":"What is the difference between &quot;text&quot; and new String(&quot;text&quot;)?","body":"<p>Sorry for late Answer but much needed Answer.\nFirst we need to know some <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html\" rel=\"nofollow noreferrer\">Java.lang.String</a> Class rules.</p>\n<ol>\n<li><p>String Literals e.g.<code>String str=&quot;java&quot;;</code> (we use only double Quotes)\nare different from String Object (we use new keyword)\ne.g. <code>String str=new String(&quot;java&quot;);</code></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/1552301/immutability-of-strings-in-java\">String is Immutable Object</a> i.e. If value changes a new Object is created and returned to you eg See <code>replace() and replaceAll()</code> functions and many more.</p>\n</li>\n<li><p>This creates a problem of many String Object in Modification, So creators of Java came up an Idea was called StringPool. StringPool is stored in heap area where object reference data will be stored as we know String is <code>Char[]</code>(<a href=\"https://www.tutorialspoint.com/what-are-compact-strings-in-java-9\" rel=\"nofollow noreferrer\">before java 9</a> very Long to read) or <code>byte</code>[](<a href=\"https://examples.javacodegeeks.com/core-java/java-9-compact-strings-example/\" rel=\"nofollow noreferrer\">after java 9</a> short to read).</p>\n</li>\n<li><p>String literals are stored in StringPool and String Objects are stored in as usual heap Object Area.</p>\n</li>\n<li><p>If there are many Object String Initialization JVM heap will be finished in String Operations only, Java Development team came up with <a href=\"https://www.tutorialspoint.com/java/lang/string_intern.htm\" rel=\"nofollow noreferrer\">intern()</a> solution this moves/changes memory reference to StringPool.</p>\n<p><a href=\"https://ide.geeksforgeeks.org/EhzgZAmAcj\" rel=\"nofollow noreferrer\">Program: Comparing String references to objects</a></p>\n</li>\n</ol>\n<p><a href=\"https://ide.geeksforgeeks.org/coJvbfIi5m\" rel=\"nofollow noreferrer\">Another good link to understand java.lang.String better</a></p>\n<pre><code>import java.util.*; \n\nclass GFG { \n    public static void main(String[] args) \n    { \n      String siteName1 = &quot;java.com&quot;;\n        String siteName2 = &quot;java.com&quot;;\n        String siteName3 = new String(&quot;java.com&quot;);\n        String siteName4 = new String(&quot;java.com&quot;).intern();\n      \n    System.out.println(&quot;siteName1:::&quot;+Integer.toHexString(System.identityHashCode(siteName1)));\n      System.out.println(&quot;siteName2:::&quot;+Integer.toHexString(System.identityHashCode(siteName2)));\n      System.out.println(&quot;siteName3 creation Of New Object Without Interned:::&quot;+Integer.toHexString(System.identityHashCode(siteName3)));//must be Diffrent bcoz new Object In Heap Area\n      System.out.println(&quot;siteName4 creation Of New Object With Interned:::&quot;+Integer.toHexString(System.identityHashCode(siteName4)));//must be same MemoryAddress of siteName1,siteName2 and Interned, bcoz Objects Points to String pool Now\n      \n      System.out.println(siteName1 == siteName2); // true\n      System.out.println(siteName1 == siteName3); // false this tells about lietral vs String Objects\n      String siteName5 = siteName3.intern(); // Interning will not change Original Object but gives us a new Object\n      \n      System.out.println(&quot;siteName5 Interned from siteName3:::&quot;+Integer.toHexString(System.identityHashCode(siteName5)));//must be same MemoryAddress of siteName1,siteName2 and Interned, bcoz Objects Points to String pool Now\n      \n      System.out.println(siteName1 == siteName3); // false this tells about Immutability\n      System.out.println(siteName1 == siteName5); // true After Intering both are same\n      System.out.println(siteName1 == siteName4); // true\n      System.out.println(siteName5 == siteName4); // true\n    } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3130088,"reputation":43207,"user_id":2648077,"accept_rate":80,"display_name":"Alireza Fattahi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667287348,"creation_date":1667287348,"answer_id":74272683,"question_id":3052442,"body_markdown":"When you use some thing like `new String(&quot;Hello World&quot;)` the [SpotBugs][1] code analyze tool, complains a **performance issue**. \r\n\r\nThe [description][2] of this issue shows deference of `new` and `constant string`\r\n\r\n&gt; Using the `java.lang.String(String)` constructor wastes memory because\r\n&gt; the object so constructed will be functionally indistinguishable from\r\n&gt; the String passed as a parameter.&#160; Just use the argument String\r\n&gt; directly.   \r\n&gt; Bug kind and pattern: Dm - DM_STRING_CTOR\r\n\r\n\r\n  [1]: https://spotbugs.github.io/\r\n  [2]: https://spotbugs.readthedocs.io/en/latest/bugDescriptions.html#DM_STRING_CTOR","title":"What is the difference between &quot;text&quot; and new String(&quot;text&quot;)?","body":"<p>When you use some thing like <code>new String(&quot;Hello World&quot;)</code> the <a href=\"https://spotbugs.github.io/\" rel=\"nofollow noreferrer\">SpotBugs</a> code analyze tool, complains a <strong>performance issue</strong>.</p>\n<p>The <a href=\"https://spotbugs.readthedocs.io/en/latest/bugDescriptions.html#DM_STRING_CTOR\" rel=\"nofollow noreferrer\">description</a> of this issue shows deference of <code>new</code> and <code>constant string</code></p>\n<blockquote>\n<p>Using the <code>java.lang.String(String)</code> constructor wastes memory because\nthe object so constructed will be functionally indistinguishable from\nthe String passed as a parameter.  Just use the argument String\ndirectly.<br />\nBug kind and pattern: Dm - DM_STRING_CTOR</p>\n</blockquote>\n"}],"owner":{"account_id":153121,"reputation":2429,"user_id":368141,"display_name":"user368141"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126538,"favorite_count":0,"down_vote_count":2,"up_vote_count":243,"accepted_answer_id":3052456,"answer_count":13,"score":241,"last_activity_date":1679463280,"creation_date":1276684145,"question_id":3052442,"body_markdown":"What is the difference between these two following statements?\r\n\r\n    String s = &quot;text&quot;;\r\n\r\n    String s = new String(&quot;text&quot;);\r\n","title":"What is the difference between &quot;text&quot; and new String(&quot;text&quot;)?","body":"<p>What is the difference between these two following statements?</p>\n\n<pre><code>String s = \"text\";\n\nString s = new String(\"text\");\n</code></pre>\n"},{"tags":["java","arrays","list","collections"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1679329548,"post_id":75792818,"comment_id":133698395,"body_markdown":"&quot;*Is this possible by using standard library?*&quot; No. &quot;*should I implement a List&lt;Integer&gt; interface in my own class?*&quot; That&#39;s personal preference. &quot;*Java does the optimization already?*&quot; No, but [project Valhalla](https://openjdk.org/projects/valhalla/) will eventually make such optimizations unnecessary; it&#39;s being worked on, but will be some years.","body":"&quot;<i>Is this possible by using standard library?</i>&quot; No. &quot;<i>should I implement a List&lt;Integer&gt; interface in my own class?</i>&quot; That&#39;s personal preference. &quot;<i>Java does the optimization already?</i>&quot; No, but <a href=\"https://openjdk.org/projects/valhalla/\" rel=\"nofollow noreferrer\">project Valhalla</a> will eventually make such optimizations unnecessary; it&#39;s being worked on, but will be some years."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":3,"creation_date":1679329563,"post_id":75792818,"comment_id":133698403,"body_markdown":"&quot;I am actually trying to optimize a leetcode program to hell&quot; knowing the leetcode problems, are you sure you&#39;re optimizing in the correct place and not missing some really inefficient algorithm somewhere else?","body":"&quot;I am actually trying to optimize a leetcode program to hell&quot; knowing the leetcode problems, are you sure you&#39;re optimizing in the correct place and not missing some really inefficient algorithm somewhere else?"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1679329644,"post_id":75792818,"comment_id":133698422,"body_markdown":"&quot;*I am actually trying to optimize a leetcode program to hell*&quot; Then don&#39;t use List in the first place. It&#39;s basically a convenient API over the top of an array. Just use the array directly.","body":"&quot;<i>I am actually trying to optimize a leetcode program to hell</i>&quot; Then don&#39;t use List in the first place. It&#39;s basically a convenient API over the top of an array. Just use the array directly."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1679330504,"post_id":75792818,"comment_id":133698657,"body_markdown":"Not exactly, but there is [`IntStream`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html).","body":"Not exactly, but there is <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html\" rel=\"nofollow noreferrer\"><code>IntStream</code></a>."},{"owner":{"account_id":13298084,"reputation":41,"user_id":17285857,"display_name":"Mahesh Hegde"},"score":0,"creation_date":1679330636,"post_id":75792818,"comment_id":133698702,"body_markdown":"@Frederico I got the answer. I am optimizing it to reach 100% performance percentile.","body":"@Frederico I got the answer. I am optimizing it to reach 100% performance percentile."},{"owner":{"account_id":13298084,"reputation":41,"user_id":17285857,"display_name":"Mahesh Hegde"},"score":0,"creation_date":1679330643,"post_id":75792818,"comment_id":133698703,"body_markdown":"@Michael the problem template returns List&lt;Integer&gt; so I cant change that.","body":"@Michael the problem template returns List&lt;Integer&gt; so I cant change that."}],"answers":[{"tags":[],"owner":{"account_id":13298084,"reputation":41,"user_id":17285857,"display_name":"Mahesh Hegde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679463173,"creation_date":1679330896,"answer_id":75793080,"question_id":75792818,"body_markdown":"I found it, in leetcode itself, by going to performance chart of submitted programs and clicking on first bar. (Why didn&#39;t I think of this before?)\r\n\r\nHere&#39;s the relevant part of &quot;sample 0ms submission&quot; which minimally implements the list.\r\n\r\n```java\r\nimport java.util.*;\r\n\r\nclass Solution {\r\n    // Problem solution skipped\r\n\r\n    class MyList extends AbstractList&lt;Integer&gt; {\r\n        private int[] arr;\r\n        private int left;\r\n        private int right;\r\n\r\n        public MyList(int[] arr, int left, int right) {\r\n            this.arr = arr;\r\n            this.left = left;\r\n            this.right = right;\r\n        }\r\n\r\n        @Override\r\n        public Integer get(int index) {\r\n            // NOTE: This doesn&#39;t do bounds checks. Do bounds checks in production code.\r\n            return arr[left+index];\r\n        }\r\n\r\n        @Override\r\n        public int size() {\r\n            return right-left;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nSo the `AbstractList` class seems to exist for this type of uses.\r\n\r\n&gt; This class provides a skeletal implementation of the List interface to minimize the effort required to implement this interface backed by a &quot;random access&quot; data store (such as an array). For sequential access data (such as a linked list), AbstractSequentialList should be used in preference to this class.\r\n\r\n&gt; To implement an unmodifiable list, the programmer needs only to extend this class and provide implementations for the get(int) and size() methods.\r\n\r\n&gt; To implement a modifiable list, the programmer must additionally override the set(int, E) method (which otherwise throws an UnsupportedOperationException). If the list is variable-size the programmer must additionally override the add(int, E) and remove(int) methods.\r\n\r\nEdit: Thanks @Holger for pointing out it doesn&#39;t check bounds in `get()` method. In the context of Leetcode it&#39;s fine. But do your bounds checks in production code.","title":"Java List&lt;Integer&gt; wrapper that internally stores an int[]","body":"<p>I found it, in leetcode itself, by going to performance chart of submitted programs and clicking on first bar. (Why didn't I think of this before?)</p>\n<p>Here's the relevant part of &quot;sample 0ms submission&quot; which minimally implements the list.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\nclass Solution {\n    // Problem solution skipped\n\n    class MyList extends AbstractList&lt;Integer&gt; {\n        private int[] arr;\n        private int left;\n        private int right;\n\n        public MyList(int[] arr, int left, int right) {\n            this.arr = arr;\n            this.left = left;\n            this.right = right;\n        }\n\n        @Override\n        public Integer get(int index) {\n            // NOTE: This doesn't do bounds checks. Do bounds checks in production code.\n            return arr[left+index];\n        }\n\n        @Override\n        public int size() {\n            return right-left;\n        }\n    }\n}\n</code></pre>\n<p>So the <code>AbstractList</code> class seems to exist for this type of uses.</p>\n<blockquote>\n<p>This class provides a skeletal implementation of the List interface to minimize the effort required to implement this interface backed by a &quot;random access&quot; data store (such as an array). For sequential access data (such as a linked list), AbstractSequentialList should be used in preference to this class.</p>\n</blockquote>\n<blockquote>\n<p>To implement an unmodifiable list, the programmer needs only to extend this class and provide implementations for the get(int) and size() methods.</p>\n</blockquote>\n<blockquote>\n<p>To implement a modifiable list, the programmer must additionally override the set(int, E) method (which otherwise throws an UnsupportedOperationException). If the list is variable-size the programmer must additionally override the add(int, E) and remove(int) methods.</p>\n</blockquote>\n<p>Edit: Thanks @Holger for pointing out it doesn't check bounds in <code>get()</code> method. In the context of Leetcode it's fine. But do your bounds checks in production code.</p>\n"}],"owner":{"account_id":13298084,"reputation":41,"user_id":17285857,"display_name":"Mahesh Hegde"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679463173,"creation_date":1679329265,"question_id":75792818,"body_markdown":"I am looking for a way to create a java `List&lt;Integer&gt;` interface, which doesn&#39;t store Integer as reference type but internally stores `int[]` or other form of continuous buffer, and converts them to boxed `Integer` type when needed.\r\n\r\nIs this possible by using standard library?\r\n\r\nor\r\n\r\nshould I implement a `List&lt;Integer&gt;` interface in my own class?\r\n\r\nor\r\n\r\nJava does the optimization already?\r\n\r\nI tried `Arrays.asList(new int[]{1,2,3,4})`, but it creates a list containing single array.\r\n\r\nI am actually trying to optimize a leetcode program to hell, so standard library one liners are much appreciated.","title":"Java List&lt;Integer&gt; wrapper that internally stores an int[]","body":"<p>I am looking for a way to create a java <code>List&lt;Integer&gt;</code> interface, which doesn't store Integer as reference type but internally stores <code>int[]</code> or other form of continuous buffer, and converts them to boxed <code>Integer</code> type when needed.</p>\n<p>Is this possible by using standard library?</p>\n<p>or</p>\n<p>should I implement a <code>List&lt;Integer&gt;</code> interface in my own class?</p>\n<p>or</p>\n<p>Java does the optimization already?</p>\n<p>I tried <code>Arrays.asList(new int[]{1,2,3,4})</code>, but it creates a list containing single array.</p>\n<p>I am actually trying to optimize a leetcode program to hell, so standard library one liners are much appreciated.</p>\n"},{"tags":["java","mapbox","mapbox-android"],"comments":[{"owner":{"account_id":5172945,"reputation":917,"user_id":4140943,"display_name":"finder2"},"score":0,"creation_date":1679494333,"post_id":75808695,"comment_id":133732150,"body_markdown":"you may try to create a minimized example (only the API, not the code) if the result of the http query checks out, you may be able to refine your question.","body":"you may try to create a minimized example (only the API, not the code) if the result of the http query checks out, you may be able to refine your question."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1679494356,"post_id":75808695,"comment_id":133732156,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":17397904,"reputation":1,"user_id":12607342,"display_name":"Balu Mahendra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679462921,"creation_date":1679462769,"question_id":75808695,"body_markdown":" I have tried this code; it gives some place but not near the given coordinates.(Lat and Long)\r\n\r\n\r\n```\r\npublic List&lt;Point&gt; getCoordinates2() { \r\n    List&lt;Point&gt; points=new ArrayList&lt;&gt;(); \r\n    MapboxGeocoding mapboxGeocoding = MapboxGeocoding.builder() \r\n            .accessToken(accessToken) \r\n            .query(GeocodingCriteria.TYPE_POI)            \r\n            .country(&quot;IN&quot;) // ISO 3166 alpha 2 country code for India  \r\n            .proximity(Point.fromLngLat(78.4983,  17.4399)) \r\n            .build(); \r\n \r\n    try { \r\n        GeocodingResponse response = mapboxGeocoding.executeCall().body(); \r\n        if (response != null &amp;&amp; response.features().size() &gt; 0) { \r\n            for (int i = 0; i &lt; response.features().size(); i++) { \r\n                CarmenFeature feature = response.features().get(i); \r\n                String placeName = feature.placeName(); \r\n                Point point = (Point) feature.geometry(); \r\n                points.add(point); \r\n                String coordinates = String.format(&quot;%f,%f&quot;, point.longitude(), point.latitude()); \r\n                System.out.println(placeName + &quot;: &quot; + coordinates); \r\n            } \r\n        } \r\n    } catch (IOException  e) { \r\n \r\n    } \r\n \r\n    return points; \r\n} \r\n```\r\nFor this it gave response like this but we want public areas like parks, theaters, bus stops, railway stations, and temples that are within the range of some X km of given coordinates (Lat and Long)\r\n\r\n    `Point Pleasant Restaurant, Hyderabad, Telangana 500034, India: 78.444396,17.415243\r\n    PNT Colony, Vijayawada, NTR, Andhra Pradesh, India: 80.639416,16.538129\r\n    Poibeda, Machh Kund, Koraput, Odisha, India: 82.540986,18.584619\r\n    Poigai, Vellore, Vellore, Tamil Nadu, India: 79.053124,12.915003\r\n    Poigainallur, Arakonam, Ranipet, Tamil Nadu, India: 79.564364,12.903959`\r\n\r\n\r\nand also tried this one   this code-generating POIs are related to the given coordinates and contained in the bbox, but they are limited to 10 records. \r\n\r\n```\r\npublic List&lt;Point&gt; getCoordinates() {\r\n        List&lt;Point&gt; points = new ArrayList&lt;&gt;();\r\n\r\n        OkHttpClient client = new OkHttpClient();\r\n        String parksTemplesHotelsInJPnagar = &quot;https://api.mapbox.com/geocoding/v5/mapbox.places/park%20and%20temple%20and%20hotels.json?bbox=77.449061%2C12.848347%2C77.695739%2C12.966143&amp;limit=50&amp;proximity=77.5724%2C12.907252&amp;autocomplete=false&amp;access_token=&quot;+accessToken;\r\n        \r\n        Request request = new Request.Builder()\r\n                .url(parksTemplesHotelsInJPnagar)\r\n                .build();\r\n\r\n        try {\r\n            Response response = client.newCall(request).execute();\r\n            String responseBody = response.body().string();\r\n\r\n            JSONArray features = new JSONObject(responseBody).getJSONArray(&quot;features&quot;);\r\n\r\n            for (int i = 0; i &lt; features.length(); i++) {\r\n                JSONObject feature = features.getJSONObject(i);\r\n                JSONArray coordinates = feature.getJSONArray(&quot;center&quot;);\r\n                Point point = Point.fromLngLat(coordinates.getDouble(0), coordinates.getDouble(1));\r\n                points.add(point);\r\n                String placeName = feature.getString(&quot;text&quot;);\r\n                System.out.println(placeName + &quot;: &quot; + point.longitude() + &quot;, &quot; + point.latitude());\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return points;\r\n    }\r\n\r\n```\r\nIt gave response like this but we want more records its limited upto 10 records.  \r\n\r\n    Banashankari Temple: 77.573312, 12.915979\r\n    Ragiguda Temple: 77.593409, 12.91467\r\n    Dharmagiri Manjunathaswamy Temple: 77.564309, 12.921\r\n    Venkateshwara Swamy Temple: 77.589474, 12.910329\r\n    Laxman Rao Park - Pride of JAYANAGAR: 77.580493, 12.918529\r\n    Lakshman Rao Park Jayanagar: 77.578719, 12.918843\r\n    Raagi Gudda Prasanna Anjaneya Temple: 77.593239, 12.915066\r\n    KS Layout Park 2: 77.559655, 12.906428\r\n    Devagiri Temple: 77.567178, 12.926082\r\n    ISKCON @ Vaikunta Hill: 77.549434, 12.89312\r\n\r\n\r\nI want to get a list of famous and public areas like parks, theaters, bus stops, railway stations, and temples that are within the range of some X km of given coordinates (Lat and Long) in Java and Spring Boot (gradle) by using Mapbox?\r\n\r\n","title":"I want to get a list of public areas within the range of some X km of given coordinates (Lat and Long) in Java and Spring Boot(gradle) by using Mapbox","body":"<p>I have tried this code; it gives some place but not near the given coordinates.(Lat and Long)</p>\n<pre><code>public List&lt;Point&gt; getCoordinates2() { \n    List&lt;Point&gt; points=new ArrayList&lt;&gt;(); \n    MapboxGeocoding mapboxGeocoding = MapboxGeocoding.builder() \n            .accessToken(accessToken) \n            .query(GeocodingCriteria.TYPE_POI)            \n            .country(&quot;IN&quot;) // ISO 3166 alpha 2 country code for India  \n            .proximity(Point.fromLngLat(78.4983,  17.4399)) \n            .build(); \n \n    try { \n        GeocodingResponse response = mapboxGeocoding.executeCall().body(); \n        if (response != null &amp;&amp; response.features().size() &gt; 0) { \n            for (int i = 0; i &lt; response.features().size(); i++) { \n                CarmenFeature feature = response.features().get(i); \n                String placeName = feature.placeName(); \n                Point point = (Point) feature.geometry(); \n                points.add(point); \n                String coordinates = String.format(&quot;%f,%f&quot;, point.longitude(), point.latitude()); \n                System.out.println(placeName + &quot;: &quot; + coordinates); \n            } \n        } \n    } catch (IOException  e) { \n \n    } \n \n    return points; \n} \n</code></pre>\n<p>For this it gave response like this but we want public areas like parks, theaters, bus stops, railway stations, and temples that are within the range of some X km of given coordinates (Lat and Long)</p>\n<pre><code>`Point Pleasant Restaurant, Hyderabad, Telangana 500034, India: 78.444396,17.415243\nPNT Colony, Vijayawada, NTR, Andhra Pradesh, India: 80.639416,16.538129\nPoibeda, Machh Kund, Koraput, Odisha, India: 82.540986,18.584619\nPoigai, Vellore, Vellore, Tamil Nadu, India: 79.053124,12.915003\nPoigainallur, Arakonam, Ranipet, Tamil Nadu, India: 79.564364,12.903959`\n</code></pre>\n<p>and also tried this one   this code-generating POIs are related to the given coordinates and contained in the bbox, but they are limited to 10 records.</p>\n<pre><code>public List&lt;Point&gt; getCoordinates() {\n        List&lt;Point&gt; points = new ArrayList&lt;&gt;();\n\n        OkHttpClient client = new OkHttpClient();\n        String parksTemplesHotelsInJPnagar = &quot;https://api.mapbox.com/geocoding/v5/mapbox.places/park%20and%20temple%20and%20hotels.json?bbox=77.449061%2C12.848347%2C77.695739%2C12.966143&amp;limit=50&amp;proximity=77.5724%2C12.907252&amp;autocomplete=false&amp;access_token=&quot;+accessToken;\n        \n        Request request = new Request.Builder()\n                .url(parksTemplesHotelsInJPnagar)\n                .build();\n\n        try {\n            Response response = client.newCall(request).execute();\n            String responseBody = response.body().string();\n\n            JSONArray features = new JSONObject(responseBody).getJSONArray(&quot;features&quot;);\n\n            for (int i = 0; i &lt; features.length(); i++) {\n                JSONObject feature = features.getJSONObject(i);\n                JSONArray coordinates = feature.getJSONArray(&quot;center&quot;);\n                Point point = Point.fromLngLat(coordinates.getDouble(0), coordinates.getDouble(1));\n                points.add(point);\n                String placeName = feature.getString(&quot;text&quot;);\n                System.out.println(placeName + &quot;: &quot; + point.longitude() + &quot;, &quot; + point.latitude());\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        return points;\n    }\n\n</code></pre>\n<p>It gave response like this but we want more records its limited upto 10 records.</p>\n<pre><code>Banashankari Temple: 77.573312, 12.915979\nRagiguda Temple: 77.593409, 12.91467\nDharmagiri Manjunathaswamy Temple: 77.564309, 12.921\nVenkateshwara Swamy Temple: 77.589474, 12.910329\nLaxman Rao Park - Pride of JAYANAGAR: 77.580493, 12.918529\nLakshman Rao Park Jayanagar: 77.578719, 12.918843\nRaagi Gudda Prasanna Anjaneya Temple: 77.593239, 12.915066\nKS Layout Park 2: 77.559655, 12.906428\nDevagiri Temple: 77.567178, 12.926082\nISKCON @ Vaikunta Hill: 77.549434, 12.89312\n</code></pre>\n<p>I want to get a list of famous and public areas like parks, theaters, bus stops, railway stations, and temples that are within the range of some X km of given coordinates (Lat and Long) in Java and Spring Boot (gradle) by using Mapbox?</p>\n"},{"tags":["java","android","json","serialization","deserialization"],"comments":[{"owner":{"account_id":260152,"reputation":39795,"user_id":543539,"accept_rate":82,"display_name":"Egor"},"score":0,"creation_date":1442073152,"post_id":32540677,"comment_id":52938627,"body_markdown":"It will simplify your task a lot if you could fix these files to have correct JSON formatted data.","body":"It will simplify your task a lot if you could fix these files to have correct JSON formatted data."},{"owner":{"account_id":4557091,"reputation":1653,"user_id":3700517,"accept_rate":55,"display_name":"shakil.k"},"score":0,"creation_date":1442073232,"post_id":32540677,"comment_id":52938648,"body_markdown":"yes i know but the file is created by some other app and i have no control over it","body":"yes i know but the file is created by some other app and i have no control over it"},{"owner":{"account_id":2800556,"reputation":2198,"user_id":2408879,"display_name":"makata"},"score":0,"creation_date":1442076517,"post_id":32540677,"comment_id":52939641,"body_markdown":"If you are sure file size is small, you can simply use  `JSONObject object = new JSONObject(&quot;[&quot;+jString+&quot;]&quot;);`","body":"If you are sure file size is small, you can simply use  <code>JSONObject object = new JSONObject(&quot;[&quot;+jString+&quot;]&quot;);</code>"},{"owner":{"account_id":2800556,"reputation":2198,"user_id":2408879,"display_name":"makata"},"score":0,"creation_date":1442077022,"post_id":32540677,"comment_id":52939802,"body_markdown":"To parse the JSONObject to POJO you can refer [this tutorial.](http://www.vogella.com/tutorials/JavaLibrary-Gson/article.html)","body":"To parse the JSONObject to POJO you can refer <a href=\"http://www.vogella.com/tutorials/JavaLibrary-Gson/article.html\" rel=\"nofollow noreferrer\">this tutorial.</a>"}],"answers":[{"tags":[],"owner":{"account_id":6076789,"reputation":245,"user_id":4743892,"display_name":"Raj Turakhia"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1442075028,"creation_date":1442075028,"answer_id":32541048,"question_id":32540677,"body_markdown":"First change you JSON data it&#39;s not in correct JSON format... \r\n\r\n[{&quot;music&quot;:&quot;abc&quot;,&quot;highqualityavailable&quot;:&quot;true&quot;,&quot;cacheable&quot;:&quot;true&quot;},\r\n{&quot;music&quot;:&quot;xyz&quot;,&quot;highqualityavailable&quot;:&quot;false&quot;,&quot;cacheable&quot;:&quot;true&quot;},{&quot;music&quot;:&quot;aaa&quot;,&quot;highqualityavailable&quot;:&quot;true&quot;,&quot;cacheable&quot;:&quot;true&quot;},{&quot;music&quot;:&quot;bbb&quot;,&quot;highqualityavailable&quot;:&quot;false&quot;,&quot;cacheable&quot;:&quot;true&quot;},{&quot;music&quot;:&quot;ccc&quot;,&quot;highqualityavailable&quot;:&quot;true&quot;,&quot;cacheable&quot;:&quot;true&quot;}]\r\n\r\n\r\nThen after convert string to JSON array.\r\n\r\nMore details : https://stackoverflow.com/questions/22753719/how-to-parse-json-parsing-using-gson-in-android","title":"Read / Parse JSON objects from .ser file in Android","body":"<p>First change you JSON data it's not in correct JSON format... </p>\n\n<p>[{\"music\":\"abc\",\"highqualityavailable\":\"true\",\"cacheable\":\"true\"},\n{\"music\":\"xyz\",\"highqualityavailable\":\"false\",\"cacheable\":\"true\"},{\"music\":\"aaa\",\"highqualityavailable\":\"true\",\"cacheable\":\"true\"},{\"music\":\"bbb\",\"highqualityavailable\":\"false\",\"cacheable\":\"true\"},{\"music\":\"ccc\",\"highqualityavailable\":\"true\",\"cacheable\":\"true\"}]</p>\n\n<p>Then after convert string to JSON array.</p>\n\n<p>More details : <a href=\"https://stackoverflow.com/questions/22753719/how-to-parse-json-parsing-using-gson-in-android\">How to parse json parsing Using GSON in android</a></p>\n"},{"tags":[],"owner":{"account_id":15928212,"reputation":35,"user_id":11493297,"display_name":"imvickykumar999"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679462435,"creation_date":1679462435,"answer_id":75808662,"question_id":32540677,"body_markdown":"&gt; This python code is only for converting .ser file into .json file\r\n\r\nFiles : [Opening files from this repository][1]\r\n\r\n    with open(&#39;first-letters-root.ser&#39;, encoding=&quot;utf8&quot;) as f:\r\n        w = f.read()\r\n        \r\n    y = w.split(&#39;i:&#39;)[1:]\r\n    d = {}\r\n    \r\n    for k,i in enumerate(y):\r\n        j = i.split(&#39;;&#39;)[1].split(&#39;:&#39;)\r\n        d[k] = j[-1]\r\n    \r\n    import json\r\n    with open(&#39;first-letters-root.json&#39;, &#39;w&#39;) as f:\r\n        json.dump(d, f)\r\n    \r\n    info = open(&#39;first-letters-root.json&#39;)\r\n    res = json.load(info)\r\n    print(res)\r\n\r\n\r\n  [1]: https://github.com/imvickykumar999/Civilisation-Script-Translator/blob/main/translator","title":"Read / Parse JSON objects from .ser file in Android","body":"<blockquote>\n<p>This python code is only for converting .ser file into .json file</p>\n</blockquote>\n<p>Files : <a href=\"https://github.com/imvickykumar999/Civilisation-Script-Translator/blob/main/translator\" rel=\"nofollow noreferrer\">Opening files from this repository</a></p>\n<pre><code>with open('first-letters-root.ser', encoding=&quot;utf8&quot;) as f:\n    w = f.read()\n    \ny = w.split('i:')[1:]\nd = {}\n\nfor k,i in enumerate(y):\n    j = i.split(';')[1].split(':')\n    d[k] = j[-1]\n\nimport json\nwith open('first-letters-root.json', 'w') as f:\n    json.dump(d, f)\n\ninfo = open('first-letters-root.json')\nres = json.load(info)\nprint(res)\n</code></pre>\n"}],"owner":{"account_id":4557091,"reputation":1653,"user_id":3700517,"accept_rate":55,"display_name":"shakil.k"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":482,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679462435,"creation_date":1442072684,"question_id":32540677,"body_markdown":"I have a file in my sdcard which extension is abc.ser  and the file contain JSON objects like\r\n\r\n    {&quot;music&quot;:&quot;abc&quot;,&quot;highqualityavailable&quot;:&quot;true&quot;,&quot;cacheable&quot;:&quot;true&quot;}\r\n    {&quot;music&quot;:&quot;xyz&quot;,&quot;highqualityavailable&quot;:&quot;false&quot;,&quot;cacheable&quot;:&quot;true&quot;}\r\n    {&quot;music&quot;:&quot;aaa&quot;,&quot;highqualityavailable&quot;:&quot;true&quot;,&quot;cacheable&quot;:&quot;true&quot;}\r\n    {&quot;music&quot;:&quot;bbb&quot;,&quot;highqualityavailable&quot;:&quot;false&quot;,&quot;cacheable&quot;:&quot;true&quot;}\r\n    {&quot;music&quot;:&quot;ccc&quot;,&quot;highqualityavailable&quot;:&quot;true&quot;,&quot;cacheable&quot;:&quot;true&quot;}\r\n\r\n  \r\n\r\nthe file contain JSON objects but not the proper format of JSON how can i read or parse it in my app i have already read the string in file but don,t know how to convert it to a POJO  \r\n\r\n\r\n     String root = Environment.getExternalStorageDirectory().getAbsolutePath();\r\n\r\n                    File file = new File(root+&quot;/tmp/playerSongsString.ser&quot;);\r\n\r\n                    if (file.exists()) {\r\n\r\n\r\n                        FileInputStream stream = null;\r\n\r\n                        try {\r\n\r\n                            stream = new FileInputStream(file);\r\n                            FileChannel fc = stream.getChannel();\r\n                            MappedByteBuffer bb =    fc.map(FileChannel.MapMode.READ_ONLY, 0, fc.size());\r\n                          /* Instead of using default, pass in a decoder. */\r\n                            jString = Charset.defaultCharset().decode(bb).toString();\r\n\r\n                            JSONObject object = new JSONObject(jString);\r\n\r\n                            Log.d(&quot;json:&quot;,jString);\r\n\r\n                            \r\n\r\n\r\n                        } catch (IOException e) {\r\n                            e.printStackTrace();\r\n                        } catch (JSONException e) {\r\n                            e.printStackTrace();\r\n                        } finally {\r\n                            try {\r\n                                stream.close();\r\n                            } catch (IOException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                        }\r\n\r\n\r\n","title":"Read / Parse JSON objects from .ser file in Android","body":"<p>I have a file in my sdcard which extension is abc.ser  and the file contain JSON objects like</p>\n\n<pre><code>{\"music\":\"abc\",\"highqualityavailable\":\"true\",\"cacheable\":\"true\"}\n{\"music\":\"xyz\",\"highqualityavailable\":\"false\",\"cacheable\":\"true\"}\n{\"music\":\"aaa\",\"highqualityavailable\":\"true\",\"cacheable\":\"true\"}\n{\"music\":\"bbb\",\"highqualityavailable\":\"false\",\"cacheable\":\"true\"}\n{\"music\":\"ccc\",\"highqualityavailable\":\"true\",\"cacheable\":\"true\"}\n</code></pre>\n\n<p>the file contain JSON objects but not the proper format of JSON how can i read or parse it in my app i have already read the string in file but don,t know how to convert it to a POJO  </p>\n\n<pre><code> String root = Environment.getExternalStorageDirectory().getAbsolutePath();\n\n                File file = new File(root+\"/tmp/playerSongsString.ser\");\n\n                if (file.exists()) {\n\n\n                    FileInputStream stream = null;\n\n                    try {\n\n                        stream = new FileInputStream(file);\n                        FileChannel fc = stream.getChannel();\n                        MappedByteBuffer bb =    fc.map(FileChannel.MapMode.READ_ONLY, 0, fc.size());\n                      /* Instead of using default, pass in a decoder. */\n                        jString = Charset.defaultCharset().decode(bb).toString();\n\n                        JSONObject object = new JSONObject(jString);\n\n                        Log.d(\"json:\",jString);\n\n\n\n\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    } catch (JSONException e) {\n                        e.printStackTrace();\n                    } finally {\n                        try {\n                            stream.close();\n                        } catch (IOException e) {\n                            e.printStackTrace();\n                        }\n                    }\n</code></pre>\n"},{"tags":["java","spring-boot","soap","soapui","mtom"],"owner":{"account_id":18646671,"reputation":1,"user_id":13591148,"display_name":"disha agarwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679461488,"creation_date":1679460976,"question_id":75808562,"body_markdown":"I want to delete the temporary file which is getting created at the start of every web service operation while using MTOM in java. My attachments get converted into DatHandler objects.\r\nThis DataHandler Object doesn&#39;t give any details of the path of the temp file that is being created.\r\n\r\nI am using SOAP for web services.\r\n\r\nI have tried closing the DataHandler object by using the following code\r\n```\r\ndataHandlerbject.getInputStream().close();\r\n\r\n```\r\nbut it still didn&#39;t delete the temp file.","title":"Delete Temporary file created while using MTOM java","body":"<p>I want to delete the temporary file which is getting created at the start of every web service operation while using MTOM in java. My attachments get converted into DatHandler objects.\nThis DataHandler Object doesn't give any details of the path of the temp file that is being created.</p>\n<p>I am using SOAP for web services.</p>\n<p>I have tried closing the DataHandler object by using the following code</p>\n<pre><code>dataHandlerbject.getInputStream().close();\n\n</code></pre>\n<p>but it still didn't delete the temp file.</p>\n"},{"tags":["javascript","java","encryption","cryptography","aes-gcm"],"comments":[{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":0,"creation_date":1672040808,"post_id":74917947,"comment_id":132210717,"body_markdown":"The Java encryption code isn&#39;t returning the IV/nonce used for encryption so it is not part of the splitting in decryption code. **Serious security warning: Do NOT use the above code in production as it is UNSECURE**. You should consider to change your production code as the encryption in AES GCM mode gets total insecure when using a nonce more than one time with the same key (the Java code is using a static IV/nonce with 8 0x&#39;s).","body":"The Java encryption code isn&#39;t returning the IV/nonce used for encryption so it is not part of the splitting in decryption code. <b>Serious security warning: Do NOT use the above code in production as it is UNSECURE</b>. You should consider to change your production code as the encryption in AES GCM mode gets total insecure when using a nonce more than one time with the same key (the Java code is using a static IV/nonce with 8 0x&#39;s)."},{"owner":{"account_id":23048902,"reputation":51,"user_id":17166044,"display_name":"kashif-sk"},"score":0,"creation_date":1672041974,"post_id":74917947,"comment_id":132210897,"body_markdown":"@MichaelFehr I&#39;m able to decrypt now. Thanks for the clarity &amp; security warning, will switch to a more secure one.","body":"@MichaelFehr I&#39;m able to decrypt now. Thanks for the clarity &amp; security warning, will switch to a more secure one."}],"answers":[{"tags":[],"owner":{"account_id":23048902,"reputation":51,"user_id":17166044,"display_name":"kashif-sk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1672042530,"creation_date":1672042530,"answer_id":74918428,"question_id":74917947,"body_markdown":"So the Java code doesn&#39;t attach IV/nonce to the output. It uses a buffer of 0&#39;s of specified length.\r\n\r\nUpdated JS decryption code:\r\n\r\n\r\n    const decrypt = (encdata, masterkey) =&gt; {\r\n    const bData = Buffer.from(encdata, &#39;base64&#39;);\r\n\r\n    const iv = Buffer.alloc(12);\r\n    const tag = bData.slice(bData.length - 16, bData.length);\r\n    const text = bData.slice(0, bData.length - 16);\r\n\r\n    const key = generateKey(masterkey);\r\n\r\n    const decipher = crypto.createDecipheriv(&#39;aes-128-gcm&#39;, key, iv);\r\n    decipher.setAuthTag(tag);\r\n\r\n\r\n    const decrypted =\r\n      decipher.update(text, &#39;binary&#39;, &#39;utf8&#39;) + decipher.final(&#39;utf8&#39;);\r\n\r\n\r\n    return decrypted;\r\n    };\r\n\r\n\r\n\r\n**Serious security warning: Do NOT use the above code in production as it is UNSECURE. You should consider to change your production code as the encryption in AES GCM mode gets total insecure when using a nonce more than one time with the same key (the Java code is using a static IV/nonce)** \r\n\r\nCredits - Michael Fehr&#39;s comment","title":"AES/GCM/NoPadding encryption in JAVA &amp; decryption in JavaScript","body":"<p>So the Java code doesn't attach IV/nonce to the output. It uses a buffer of 0's of specified length.</p>\n<p>Updated JS decryption code:</p>\n<pre><code>const decrypt = (encdata, masterkey) =&gt; {\nconst bData = Buffer.from(encdata, 'base64');\n\nconst iv = Buffer.alloc(12);\nconst tag = bData.slice(bData.length - 16, bData.length);\nconst text = bData.slice(0, bData.length - 16);\n\nconst key = generateKey(masterkey);\n\nconst decipher = crypto.createDecipheriv('aes-128-gcm', key, iv);\ndecipher.setAuthTag(tag);\n\n\nconst decrypted =\n  decipher.update(text, 'binary', 'utf8') + decipher.final('utf8');\n\n\nreturn decrypted;\n};\n</code></pre>\n<p><strong>Serious security warning: Do NOT use the above code in production as it is UNSECURE. You should consider to change your production code as the encryption in AES GCM mode gets total insecure when using a nonce more than one time with the same key (the Java code is using a static IV/nonce)</strong></p>\n<p>Credits - Michael Fehr's comment</p>\n"}],"owner":{"account_id":23048902,"reputation":51,"user_id":17166044,"display_name":"kashif-sk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74918428,"answer_count":1,"score":0,"last_activity_date":1679461303,"creation_date":1672038131,"question_id":74917947,"body_markdown":"I am using AES/GCM/NoPadding 128 bit. I want to encrypt in Java &amp; decrypt it in Javascript. \r\n\r\nWhen I encrypt in JS &amp; try to decrypt in Java I get the error as *Tag mismatch!null*\r\n\r\nWhen I encrypt in Java &amp; try to decrypt in JS I get the error as \r\n\r\n```\r\ninternal/crypto/cipher.js:164\r\n  const ret = this._handle.final();\r\n                           ^\r\n\r\nError: Unsupported state or unable to authenticate data\r\n    at Decipheriv.final (internal/crypto/cipher.js:164:28)\r\n    at decrypt (/tmp/HoErdq6TQ2.js:51:58)\r\n```\r\n\r\n\r\nWhat am I missing in my JS\r\nPlease suggest fixes in JS code, Java code can&#39;t be changed as it is in use on production\r\n\r\n\r\nJava code:\r\n```\r\n\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.security.MessageDigest;\r\nimport java.util.Arrays;\r\nimport javax.crypto.spec.SecretKeySpec;\r\nimport javax.crypto.Cipher;\r\nimport javax.crypto.spec.GCMParameterSpec;\r\nimport java.util.logging.Logger;\r\nimport java.util.Base64;\r\n\r\npublic class HelloWorld {\r\n\r\n    private final static Logger LOGGER =  Logger.getLogger(Logger.GLOBAL_LOGGER_NAME);\r\n\r\n    public static void main(String []args) {\r\n        String masterKey = &quot;2f12cb0f1d2e3d12345f1af2b123dce4&quot;;\r\n        String encrypted = aesEncryptStringV2(&quot;Hello, World!&quot;, masterKey);\r\n        System.out.println(encrypted);\r\n        \r\n\r\n        String decrypted = aesDecryptStringV2(encrypted, masterKey);\r\n        System.out.println(decrypted);\r\n    }\r\n\r\n\r\n    private static final String ALGORITHM = &quot;AES/GCM/NoPadding&quot;;\r\n    private static final int GCM_IV_LENGTH = 12;\r\n    private static final int GCM_TAG_LENGTH = 16;\r\n\r\n    private static SecretKeySpec setKeyV2(final String myKey) {\r\n        try {\r\n            byte[] newKey = myKey.getBytes(StandardCharsets.UTF_8);\r\n            MessageDigest sha = MessageDigest.getInstance(&quot;SHA-512&quot;);\r\n\r\n            newKey = sha.digest(newKey);\r\n            newKey = Arrays.copyOf(newKey, 16);\r\n\r\n            return new SecretKeySpec(newKey, &quot;AES&quot;);\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Error in setKeyV2: &quot;);\r\n            System.out.println(e.getMessage());\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public static synchronized String aesEncryptStringV2(\r\n        final String strToEncrypt, final String secret) {\r\n        try {\r\n            SecretKeySpec newSecretKey = setKeyV2(secret);\r\n            Cipher cipher = Cipher.getInstance(ALGORITHM);\r\n            GCMParameterSpec gcmParameterSpec = new\r\n            GCMParameterSpec(GCM_TAG_LENGTH * 8,\r\n                             new byte[GCM_IV_LENGTH]);\r\n            cipher.init(Cipher.ENCRYPT_MODE, newSecretKey, gcmParameterSpec);\r\n            return Base64.getEncoder()\r\n                   .encodeToString(cipher.doFinal(strToEncrypt.getBytes(StandardCharsets.UTF_8\r\n                                                                       )));\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Error in aesEncryptStringV2: &quot;);\r\n            System.out.println(e.getMessage());\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public static synchronized String aesDecryptStringV2(\r\n        final String strToDecrypt, final String secret) {\r\n        try {\r\n            SecretKeySpec newSecretKey = setKeyV2(secret);\r\n            Cipher cipher = Cipher.getInstance(ALGORITHM);\r\n            GCMParameterSpec gcmParameterSpec = new\r\n            GCMParameterSpec(GCM_TAG_LENGTH * 8,\r\n                             new byte[GCM_IV_LENGTH]);\r\n            cipher.init(Cipher.DECRYPT_MODE, newSecretKey, gcmParameterSpec);\r\n\r\n            return new\r\n                   String(cipher.doFinal(Base64.getDecoder().decode(strToDecrypt)));\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Error in aesDecryptStringV2: &quot;);\r\n            System.out.println(e.getMessage());\r\n        }\r\n        return null;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nJavascript Code:\r\n```\r\n\r\nconst crypto = require(&#39;crypto&#39;);\r\n\r\n\r\nconst cryptoConfig = {\r\n    cipherAlgorithm: &#39;aes-128-gcm&#39;,\r\n    masterKey: &#39;2f12cb0f1d2e3d12345f1af2b123dce4&#39;,\r\n    ivLength: 12,\r\n    tagLength: 16,\r\n    digest: &#39;sha512&#39;\r\n}\r\n\r\nconst generateKey = () =&gt; {\r\n    var h = crypto.createHash(cryptoConfig.digest);\r\n    h.update(cryptoConfig.masterKey, &#39;utf8&#39;);\r\n    \r\n    var k = h.digest().slice(0, 16);\r\n    return k;\r\n  };\r\n\r\nfunction encrypt(content) {\r\n    const iv = crypto.randomBytes(cryptoConfig.ivLength);\r\n    const key = generateKey();\r\n\r\n    const cipher = crypto.createCipheriv(cryptoConfig.cipherAlgorithm, key, iv, {authTagLength: cryptoConfig.tagLength});\r\n\r\n    const encrypted = Buffer.concat([cipher.update(content, &#39;utf8&#39;), cipher.final()]);\r\n\r\n    const tag = cipher.getAuthTag();\r\n\r\n    return Buffer.concat([iv, encrypted, tag]).toString(&#39;base64&#39;);\r\n}\r\n\r\n\r\nconst decrypt = (encdata, masterkey) =&gt; {\r\n    const bData = Buffer.from(encdata, &#39;base64&#39;);\r\n\r\n    const iv = bData.slice(0, 12);\r\n    const tag = bData.slice(bData.length - 16, bData.length);\r\n    const text = bData.slice(12, bData.length - 16);\r\n\r\n    const key = generateKey(masterkey);\r\n\r\n    const decipher = crypto.createDecipheriv(&#39;aes-128-gcm&#39;, key, iv);\r\n    decipher.setAuthTag(tag);\r\n\r\n\r\n    const decrypted =\r\n      decipher.update(text, &#39;binary&#39;, &#39;utf8&#39;) + decipher.final(&#39;utf8&#39;);\r\n\r\n\r\n    return decrypted;\r\n  };\r\n\r\nconst encryptedData = encrypt(&#39;hello world&#39;); \r\nconsole.log(&#39;encrypt data -&gt; &#39;, encryptedData);\r\n\r\nconst decryptedData = decrypt(encryptedData); \r\nconsole.log(&#39;decryptedData -&gt; &#39;, decryptedData);\r\n\r\n```\r\n","title":"AES/GCM/NoPadding encryption in JAVA &amp; decryption in JavaScript","body":"<p>I am using AES/GCM/NoPadding 128 bit. I want to encrypt in Java &amp; decrypt it in Javascript.</p>\n<p>When I encrypt in JS &amp; try to decrypt in Java I get the error as <em>Tag mismatch!null</em></p>\n<p>When I encrypt in Java &amp; try to decrypt in JS I get the error as</p>\n<pre><code>internal/crypto/cipher.js:164\n  const ret = this._handle.final();\n                           ^\n\nError: Unsupported state or unable to authenticate data\n    at Decipheriv.final (internal/crypto/cipher.js:164:28)\n    at decrypt (/tmp/HoErdq6TQ2.js:51:58)\n</code></pre>\n<p>What am I missing in my JS\nPlease suggest fixes in JS code, Java code can't be changed as it is in use on production</p>\n<p>Java code:</p>\n<pre><code>\nimport java.nio.charset.StandardCharsets;\nimport java.security.MessageDigest;\nimport java.util.Arrays;\nimport javax.crypto.spec.SecretKeySpec;\nimport javax.crypto.Cipher;\nimport javax.crypto.spec.GCMParameterSpec;\nimport java.util.logging.Logger;\nimport java.util.Base64;\n\npublic class HelloWorld {\n\n    private final static Logger LOGGER =  Logger.getLogger(Logger.GLOBAL_LOGGER_NAME);\n\n    public static void main(String []args) {\n        String masterKey = &quot;2f12cb0f1d2e3d12345f1af2b123dce4&quot;;\n        String encrypted = aesEncryptStringV2(&quot;Hello, World!&quot;, masterKey);\n        System.out.println(encrypted);\n        \n\n        String decrypted = aesDecryptStringV2(encrypted, masterKey);\n        System.out.println(decrypted);\n    }\n\n\n    private static final String ALGORITHM = &quot;AES/GCM/NoPadding&quot;;\n    private static final int GCM_IV_LENGTH = 12;\n    private static final int GCM_TAG_LENGTH = 16;\n\n    private static SecretKeySpec setKeyV2(final String myKey) {\n        try {\n            byte[] newKey = myKey.getBytes(StandardCharsets.UTF_8);\n            MessageDigest sha = MessageDigest.getInstance(&quot;SHA-512&quot;);\n\n            newKey = sha.digest(newKey);\n            newKey = Arrays.copyOf(newKey, 16);\n\n            return new SecretKeySpec(newKey, &quot;AES&quot;);\n        } catch (Exception e) {\n            System.out.println(&quot;Error in setKeyV2: &quot;);\n            System.out.println(e.getMessage());\n        }\n        return null;\n    }\n\n    public static synchronized String aesEncryptStringV2(\n        final String strToEncrypt, final String secret) {\n        try {\n            SecretKeySpec newSecretKey = setKeyV2(secret);\n            Cipher cipher = Cipher.getInstance(ALGORITHM);\n            GCMParameterSpec gcmParameterSpec = new\n            GCMParameterSpec(GCM_TAG_LENGTH * 8,\n                             new byte[GCM_IV_LENGTH]);\n            cipher.init(Cipher.ENCRYPT_MODE, newSecretKey, gcmParameterSpec);\n            return Base64.getEncoder()\n                   .encodeToString(cipher.doFinal(strToEncrypt.getBytes(StandardCharsets.UTF_8\n                                                                       )));\n        } catch (Exception e) {\n            System.out.println(&quot;Error in aesEncryptStringV2: &quot;);\n            System.out.println(e.getMessage());\n        }\n        return null;\n    }\n\n    public static synchronized String aesDecryptStringV2(\n        final String strToDecrypt, final String secret) {\n        try {\n            SecretKeySpec newSecretKey = setKeyV2(secret);\n            Cipher cipher = Cipher.getInstance(ALGORITHM);\n            GCMParameterSpec gcmParameterSpec = new\n            GCMParameterSpec(GCM_TAG_LENGTH * 8,\n                             new byte[GCM_IV_LENGTH]);\n            cipher.init(Cipher.DECRYPT_MODE, newSecretKey, gcmParameterSpec);\n\n            return new\n                   String(cipher.doFinal(Base64.getDecoder().decode(strToDecrypt)));\n        } catch (Exception e) {\n            System.out.println(&quot;Error in aesDecryptStringV2: &quot;);\n            System.out.println(e.getMessage());\n        }\n        return null;\n    }\n}\n\n</code></pre>\n<p>Javascript Code:</p>\n<pre><code>\nconst crypto = require('crypto');\n\n\nconst cryptoConfig = {\n    cipherAlgorithm: 'aes-128-gcm',\n    masterKey: '2f12cb0f1d2e3d12345f1af2b123dce4',\n    ivLength: 12,\n    tagLength: 16,\n    digest: 'sha512'\n}\n\nconst generateKey = () =&gt; {\n    var h = crypto.createHash(cryptoConfig.digest);\n    h.update(cryptoConfig.masterKey, 'utf8');\n    \n    var k = h.digest().slice(0, 16);\n    return k;\n  };\n\nfunction encrypt(content) {\n    const iv = crypto.randomBytes(cryptoConfig.ivLength);\n    const key = generateKey();\n\n    const cipher = crypto.createCipheriv(cryptoConfig.cipherAlgorithm, key, iv, {authTagLength: cryptoConfig.tagLength});\n\n    const encrypted = Buffer.concat([cipher.update(content, 'utf8'), cipher.final()]);\n\n    const tag = cipher.getAuthTag();\n\n    return Buffer.concat([iv, encrypted, tag]).toString('base64');\n}\n\n\nconst decrypt = (encdata, masterkey) =&gt; {\n    const bData = Buffer.from(encdata, 'base64');\n\n    const iv = bData.slice(0, 12);\n    const tag = bData.slice(bData.length - 16, bData.length);\n    const text = bData.slice(12, bData.length - 16);\n\n    const key = generateKey(masterkey);\n\n    const decipher = crypto.createDecipheriv('aes-128-gcm', key, iv);\n    decipher.setAuthTag(tag);\n\n\n    const decrypted =\n      decipher.update(text, 'binary', 'utf8') + decipher.final('utf8');\n\n\n    return decrypted;\n  };\n\nconst encryptedData = encrypt('hello world'); \nconsole.log('encrypt data -&gt; ', encryptedData);\n\nconst decryptedData = decrypt(encryptedData); \nconsole.log('decryptedData -&gt; ', decryptedData);\n\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9436,"page":556,"page_size":100}
