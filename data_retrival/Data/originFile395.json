{"items":[{"tags":["java","android","flutter","visual-studio-code","bluestacks"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1684702906,"post_id":76301419,"comment_id":134551765,"body_markdown":"You need to accept the license text before you can use it. Have you tried to start Android Studio or the Android SDK manager? Your title is a bit misleading as it is not related to BlueStacks emulator as building the app already fails, so the used emulator is irrelevant.","body":"You need to accept the license text before you can use it. Have you tried to start Android Studio or the Android SDK manager? Your title is a bit misleading as it is not related to BlueStacks emulator as building the app already fails, so the used emulator is irrelevant."},{"owner":{"display_name":"user21221525"},"score":0,"creation_date":1684857704,"post_id":76301419,"comment_id":134577370,"body_markdown":"@Robert, i&#39;m sorry, but the tittle is not a misleading, because i dont know if the problem is with the emulator or the app. I only included it in the title because it&#39;s what I&#39;m trying to use. I will look into the license. Thank you for your help.","body":"@Robert, i&#39;m sorry, but the tittle is not a misleading, because i dont know if the problem is with the emulator or the app. I only included it in the title because it&#39;s what I&#39;m trying to use. I will look into the license. Thank you for your help."}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684747184,"creation_date":1684747184,"answer_id":76304684,"question_id":76301419,"body_markdown":"You need to install and accept all license. And Android SDK components, including Android SDK Platform 33, Android Emulator, SDK Patch Applier v4, and Android SDK Build-Tools 30.0.3.\r\n\r\n```\r\nflutter doctor --android-licenses\r\n```\r\n\r\nMake sure that the environment is correct and then restart the vscode and run the program again.\r\n\r\n*Note: Please use the latest version of [**Flutter**][1] and other extensions and ensure that JDK, JAVA_HOME and other environments are correct.*\r\n\r\n\r\n  [1]: https://marketplace.visualstudio.com/items?itemName=Dart-Code.flutter","title":"Problem with run app flutter on bluestacks","body":"<p>You need to install and accept all license. And Android SDK components, including Android SDK Platform 33, Android Emulator, SDK Patch Applier v4, and Android SDK Build-Tools 30.0.3.</p>\n<pre><code>flutter doctor --android-licenses\n</code></pre>\n<p>Make sure that the environment is correct and then restart the vscode and run the program again.</p>\n<p><em>Note: Please use the latest version of <a href=\"https://marketplace.visualstudio.com/items?itemName=Dart-Code.flutter\" rel=\"nofollow noreferrer\"><strong>Flutter</strong></a> and other extensions and ensure that JDK, JAVA_HOME and other environments are correct.</em></p>\n"},{"tags":[],"owner":{"account_id":24435058,"reputation":6292,"user_id":18359438,"display_name":"MingJie-MSFT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685675472,"creation_date":1685675472,"answer_id":76386906,"question_id":76301419,"body_markdown":"There is a related setting `java.jdt.ls.androidSupport.enabled` in the **settings**.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSpecify whether to enable Android project importing. When set to **auto**, the Android support will be enabled in Visual Studio Code - Insiders. Note: Only works for Android Gradle Plugin **3.2.0** or higher. Defaults to auto.\r\n\r\nCurrently, only the function of reading codes is provided, and more functions are still waiting to be improved.\r\n\r\n  [1]: https://i.stack.imgur.com/sO90c.png","title":"Problem with run app flutter on bluestacks","body":"<p>There is a related setting <code>java.jdt.ls.androidSupport.enabled</code> in the <strong>settings</strong>.</p>\n<p><a href=\"https://i.stack.imgur.com/sO90c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sO90c.png\" alt=\"enter image description here\" /></a></p>\n<p>Specify whether to enable Android project importing. When set to <strong>auto</strong>, the Android support will be enabled in Visual Studio Code - Insiders. Note: Only works for Android Gradle Plugin <strong>3.2.0</strong> or higher. Defaults to auto.</p>\n<p>Currently, only the function of reading codes is provided, and more functions are still waiting to be improved.</p>\n"}],"owner":{"display_name":"user21221525"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685696523,"creation_date":1684694831,"question_id":76301419,"body_markdown":"I&#39;m trying to program Flutter using VS Code and use the BlueStacks Android emulator, but I&#39;m encountering constant errors. I was told to install Java 8, which I did, but then I got an error in the terminal asking me to install Java 11, so I did that too. However, now I&#39;m getting the following error. I would like to know how to resolve this error and be able to debug my Flutter app on the Android emulator using VS Code.\r\n\r\n\r\nERROR:\r\n\r\nChecking the license for package Android SDK Platform 33 in `C:\\Program Files\\licenses`\r\nWarning: License for package Android SDK Platform 33 not accepted.\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nCould not determine the dependencies of task `&#39;:app:compileDebugJavaWithJavac&#39;`.\r\n&gt; Failed to install the following Android SDK packages as some licences have not been accepted.\r\n     emulator Android Emulator\r\n     patcher;v4 SDK Patch Applier v4\r\n     build-tools;30.0.3 Android SDK Build-Tools 30.0.3\r\n     platforms;android-33 Android SDK Platform 33\r\n     tools Android SDK Tools\r\n  To build this project, accept the SDK license agreements and install the missing components using the Android Studio SDK Manager.\r\n  All licenses can be accepted using the sdkmanager command line tool:\r\n  sdkmanager --licenses\r\n  Or, to transfer the license agreements from one workstation to another, see https://developer.android.com/studio/intro/update.html#download-with-gradle\r\n\r\nUsing Android SDK: `C:\\Program Files`\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 27s\r\nException: Gradle task assembleDebug failed with exit code 1\r\nExited (sigterm)","title":"Problem with run app flutter on bluestacks","body":"<p>I'm trying to program Flutter using VS Code and use the BlueStacks Android emulator, but I'm encountering constant errors. I was told to install Java 8, which I did, but then I got an error in the terminal asking me to install Java 11, so I did that too. However, now I'm getting the following error. I would like to know how to resolve this error and be able to debug my Flutter app on the Android emulator using VS Code.</p>\n<p>ERROR:</p>\n<p>Checking the license for package Android SDK Platform 33 in <code>C:\\Program Files\\licenses</code>\nWarning: License for package Android SDK Platform 33 not accepted.</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nCould not determine the dependencies of task <code>':app:compileDebugJavaWithJavac'</code>.</li>\n</ul>\n<blockquote>\n<p>Failed to install the following Android SDK packages as some licences have not been accepted.\nemulator Android Emulator\npatcher;v4 SDK Patch Applier v4\nbuild-tools;30.0.3 Android SDK Build-Tools 30.0.3\nplatforms;android-33 Android SDK Platform 33\ntools Android SDK Tools\nTo build this project, accept the SDK license agreements and install the missing components using the Android Studio SDK Manager.\nAll licenses can be accepted using the sdkmanager command line tool:\nsdkmanager --licenses\nOr, to transfer the license agreements from one workstation to another, see <a href=\"https://developer.android.com/studio/intro/update.html#download-with-gradle\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/intro/update.html#download-with-gradle</a></p>\n</blockquote>\n<p>Using Android SDK: <code>C:\\Program Files</code></p>\n<ul>\n<li>Try:</li>\n</ul>\n<blockquote>\n<p>Run with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.</p>\n</blockquote>\n<ul>\n<li>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a></li>\n</ul>\n<p>BUILD FAILED in 27s\nException: Gradle task assembleDebug failed with exit code 1\nExited (sigterm)</p>\n"},{"tags":["java","linux","memory","cluster-computing","pbs"],"comments":[{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1685544277,"post_id":76373701,"comment_id":134675589,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28719194,"reputation":11,"user_id":21993236,"display_name":"moody_modeller"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685696393,"creation_date":1685537683,"question_id":76373701,"body_markdown":"_First question on stack overflow, do not hesitate to give me advices !_\r\n\r\nI have a model written in JAVA, which is called by a PBS script to run on a cluster. It generate time dependent data. I am trying to optimize its memory use and simulation time. To do so, I would like to store over time, the memory and time needed by the model for each year of simulation. \r\nDo you think it is possible ? And if so, how would you advise me to do ? \r\n\r\nMany thanks !\r\n\r\n(I already have tried to add the `time` argument before the call for JAVA command line, but it does not give much information.)\r\n\r\nHere is the PBS code that I use : \r\n\r\n    #!/bin/bash\r\n    #PBS -l ncpus=1\r\n    #PBS -l mem=10\r\n    #PBS -l walltime=10:00:00\r\n    \r\n    . /appli/anaconda/latest/etc/profile.d/conda.sh\r\n    conda activate MODEL\r\n      \r\n    rm -rfv $SCRATCH/0D/*\r\n    \r\n    cp -r $HOME/MODELDIRECTORY/0D $SCRATCH\r\n\r\n    cp $HOME/MODELDIRECTORY/inst/java/MODEL.jar $SCRATCH/0D\r\n    \r\n    cd $SCRATCH/0D\r\n    \r\n    time java -Xmx6g -jar MODEL.jar CONFIG.csv &gt;&amp; output.log\r\n\r\n","title":"How can I measure over time memory and time usage for my Java model run by a PBS script on a cluster?","body":"<p><em>First question on stack overflow, do not hesitate to give me advices !</em></p>\n<p>I have a model written in JAVA, which is called by a PBS script to run on a cluster. It generate time dependent data. I am trying to optimize its memory use and simulation time. To do so, I would like to store over time, the memory and time needed by the model for each year of simulation.\nDo you think it is possible ? And if so, how would you advise me to do ?</p>\n<p>Many thanks !</p>\n<p>(I already have tried to add the <code>time</code> argument before the call for JAVA command line, but it does not give much information.)</p>\n<p>Here is the PBS code that I use :</p>\n<pre><code>#!/bin/bash\n#PBS -l ncpus=1\n#PBS -l mem=10\n#PBS -l walltime=10:00:00\n\n. /appli/anaconda/latest/etc/profile.d/conda.sh\nconda activate MODEL\n  \nrm -rfv $SCRATCH/0D/*\n\ncp -r $HOME/MODELDIRECTORY/0D $SCRATCH\n\ncp $HOME/MODELDIRECTORY/inst/java/MODEL.jar $SCRATCH/0D\n\ncd $SCRATCH/0D\n\ntime java -Xmx6g -jar MODEL.jar CONFIG.csv &gt;&amp; output.log\n</code></pre>\n"},{"tags":["java","android","flutter","dart","flutter-doctor"],"comments":[{"owner":{"account_id":18460784,"reputation":829,"user_id":19992458,"display_name":"Nguyen family"},"score":0,"creation_date":1685687715,"post_id":76387503,"comment_id":134698500,"body_markdown":"try this: https://stackoverflow.com/questions/51281702/unable-to-find-bundled-java-version-on-flutter","body":"try this: <a href=\"https://stackoverflow.com/questions/51281702/unable-to-find-bundled-java-version-on-flutter\" title=\"unable to find bundled java version on flutter\">stackoverflow.com/questions/51281702/&hellip;</a>"},{"owner":{"account_id":18460784,"reputation":829,"user_id":19992458,"display_name":"Nguyen family"},"score":0,"creation_date":1685695201,"post_id":76387503,"comment_id":134699939,"body_markdown":"Does this answer your question? [Unable to find bundled Java version on Flutter](https://stackoverflow.com/questions/51281702/unable-to-find-bundled-java-version-on-flutter)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/51281702/unable-to-find-bundled-java-version-on-flutter\">Unable to find bundled Java version on Flutter</a>"}],"answers":[{"tags":[],"owner":{"account_id":26473109,"reputation":36,"user_id":20113435,"display_name":"AslamThachapalli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685696291,"creation_date":1685696291,"answer_id":76388641,"question_id":76387503,"body_markdown":"I suppose you are using android studio Flamingo. If yes, you need not have to create any jre file or anything. Flamingo already has java binary in it. \r\nYou need not have to get this error in Flamingo. But since you are getting this, the thing you have to do is to set the environment variable for java in your ubundu machine.\r\n \r\nSteps to follow:\r\n\r\n 1. Verify you have java installed in your ubundu machine using the command `java --version` and `javac --version`. If both gives a version you are good to go. Skip step 2 and go to step 3.\r\n\r\n 2. If no java version is available, install it using the commands:\r\n\r\n &gt; sudo apt update\r\n\r\n &gt; sudo apt install default-jdk\r\n\r\n &gt; sudo apt install default-jre\r\n\r\n 3. After installation now add the java to the environment. For that first copy the java path. Use `readlink -f /usr/bin/java` . It will output something similar to this: `/usr/lib/jvm/java-11-openjdk-amd64/bin/java`, copy the output path.\r\n\r\n 4. Now use command `sudo nano /etc/environment`. This will open the /etc/environment file, you can add the JAVA_HOME variable. \r\nAdd `JAVA_HOME=&quot;/usr/lib/jvm/java-11-openjdk-amd64&quot;`, remember to remove the `/bin/java` part in the end. Now save(ctrl+s) and exit(ctrl+x).\r\n\r\n 5. Now you are back on the previous terminal, use command `source /etc/environment`. \r\n\r\n 6. The variable is set now. Try `echo $JAVA_HOME`. This will output the path we just added. \r\n\r\nThat&#39;s it. Now try flutter doctor after closing and reopening the terminal.\r\n","title":"Flutter doctor issue:[!] Android Studio ✗ Unable to find bundled Java version","body":"<p>I suppose you are using android studio Flamingo. If yes, you need not have to create any jre file or anything. Flamingo already has java binary in it.\nYou need not have to get this error in Flamingo. But since you are getting this, the thing you have to do is to set the environment variable for java in your ubundu machine.</p>\n<p>Steps to follow:</p>\n<ol>\n<li><p>Verify you have java installed in your ubundu machine using the command <code>java --version</code> and <code>javac --version</code>. If both gives a version you are good to go. Skip step 2 and go to step 3.</p>\n</li>\n<li><p>If no java version is available, install it using the commands:</p>\n</li>\n</ol>\n<blockquote>\n<p>sudo apt update</p>\n</blockquote>\n<blockquote>\n<p>sudo apt install default-jdk</p>\n</blockquote>\n<blockquote>\n<p>sudo apt install default-jre</p>\n</blockquote>\n<ol start=\"3\">\n<li><p>After installation now add the java to the environment. For that first copy the java path. Use <code>readlink -f /usr/bin/java</code> . It will output something similar to this: <code>/usr/lib/jvm/java-11-openjdk-amd64/bin/java</code>, copy the output path.</p>\n</li>\n<li><p>Now use command <code>sudo nano /etc/environment</code>. This will open the /etc/environment file, you can add the JAVA_HOME variable.\nAdd <code>JAVA_HOME=&quot;/usr/lib/jvm/java-11-openjdk-amd64&quot;</code>, remember to remove the <code>/bin/java</code> part in the end. Now save(ctrl+s) and exit(ctrl+x).</p>\n</li>\n<li><p>Now you are back on the previous terminal, use command <code>source /etc/environment</code>.</p>\n</li>\n<li><p>The variable is set now. Try <code>echo $JAVA_HOME</code>. This will output the path we just added.</p>\n</li>\n</ol>\n<p>That's it. Now try flutter doctor after closing and reopening the terminal.</p>\n"}],"owner":{"account_id":28733329,"reputation":1,"user_id":22004809,"display_name":"minal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":486,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1685696291,"creation_date":1685685772,"question_id":76387503,"body_markdown":"Flutter doctor showing this issue what is the solution for it?Is there any android studio installation issues or what?\r\n(https://i.stack.imgur.com/meCR3.png)\r\n\r\nI have accepted all android licenses. Created jre file in android studio folder and copied all jbr contents to jre.Still issue is there. Result after running flutter doctor:\r\nubuntu@ubuntu-Latitude-7480:~$ flutter doctor\r\nDoctor summary (to see all details, run flutter doctor -v):\r\n Flutter (Channel stable, 3.10.2, on Ubuntu 22.10 5.19.0-21-generic, locale\r\n    en_IN)\r\n Android toolchain - develop for Android devices (Android SDK version 33.0.2)\r\n Chrome - develop for the web\r\n Linux toolchain - develop for Linux desktop\r\n Android Studio (version 2022.2)\r\n Android Studio\r\n Android Studio\r\n    ✗ Unable to find bundled Java version.\r\n Android Studio\r\n VS Code\r\n Connected device (2 available)\r\n Network resources`\r\n\r\n! Doctor found issues in 1 category.\r\n","title":"Flutter doctor issue:[!] Android Studio ✗ Unable to find bundled Java version","body":"<p>Flutter doctor showing this issue what is the solution for it?Is there any android studio installation issues or what?\n(<a href=\"https://i.stack.imgur.com/meCR3.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/meCR3.png</a>)</p>\n<p>I have accepted all android licenses. Created jre file in android studio folder and copied all jbr contents to jre.Still issue is there. Result after running flutter doctor:\nubuntu@ubuntu-Latitude-7480:~$ flutter doctor\nDoctor summary (to see all details, run flutter doctor -v):\nFlutter (Channel stable, 3.10.2, on Ubuntu 22.10 5.19.0-21-generic, locale\nen_IN)\nAndroid toolchain - develop for Android devices (Android SDK version 33.0.2)\nChrome - develop for the web\nLinux toolchain - develop for Linux desktop\nAndroid Studio (version 2022.2)\nAndroid Studio\nAndroid Studio\n✗ Unable to find bundled Java version.\nAndroid Studio\nVS Code\nConnected device (2 available)\nNetwork resources`</p>\n<p>! Doctor found issues in 1 category.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685660120,"post_id":76386116,"comment_id":134695791,"body_markdown":"*Output:...* Output by doing what?","body":"<i>Output:...</i> Output by doing what?"},{"owner":{"account_id":1595031,"reputation":1442,"user_id":1477418,"display_name":"Islam Elbanna"},"score":0,"creation_date":1685660792,"post_id":76386116,"comment_id":134695883,"body_markdown":"Is this output by printing the list of maps you create? I&#39;m a bit confused!","body":"Is this output by printing the list of maps you create? I&#39;m a bit confused!"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1685661019,"post_id":76386116,"comment_id":134695903,"body_markdown":"What you have created is a list of maps with each map containing one element.  And you are trying to make it *look like* a list containing a single map.  Why don&#39;t you just *create it* as a list containing a single map containing all of the entriers?  Or am I missing something ...","body":"What you have created is a list of maps with each map containing one element.  And you are trying to make it <i>look like</i> a list containing a single map.  Why don&#39;t you just <i>create it</i> as a list containing a single map containing all of the entriers?  Or am I missing something ..."},{"owner":{"account_id":7615640,"reputation":622,"user_id":5775158,"accept_rate":37,"display_name":"Testilla"},"score":0,"creation_date":1685661042,"post_id":76386116,"comment_id":134695908,"body_markdown":"Yes, printing the elements in the array. I have added a print statement","body":"Yes, printing the elements in the array. I have added a print statement"},{"owner":{"account_id":7615640,"reputation":622,"user_id":5775158,"accept_rate":37,"display_name":"Testilla"},"score":0,"creation_date":1685661183,"post_id":76386116,"comment_id":134695925,"body_markdown":"@StephenC please demonstrate your suggetion in an answer box for better understanding. Thanks","body":"@StephenC please demonstrate your suggetion in an answer box for better understanding. Thanks"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685661954,"post_id":76386116,"comment_id":134696013,"body_markdown":"Does this answer your question? [Convert List of Maps to single Map via streams](https://stackoverflow.com/questions/42490314/convert-list-of-maps-to-single-map-via-streams). Just change the solution at https://stackoverflow.com/a/42520687/721855 to return a List or add the resulting Map to a new list.","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/42490314/convert-list-of-maps-to-single-map-via-streams\">Convert List of Maps to single Map via streams</a>. Just change the solution at <a href=\"https://stackoverflow.com/a/42520687/721855\">stackoverflow.com/a/42520687/721855</a> to return a List or add the resulting Map to a new list."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685662690,"creation_date":1685661715,"answer_id":76386285,"question_id":76386116,"body_markdown":"I think you want a Map returned, not a *List* of Maps:\r\n\r\n```\r\npublic Map&lt;String, String&gt; getDemoNames() {\r\n    Map&lt;String, String&gt; map = new LinkedHashMap&lt;&gt;();\r\n    for (Object result : resultList) {\r\n        Object[] row = (Object[]) result;\r\n        String key = String.valueOf(row[0]);\r\n        String value = String.valueOf(row[1]);\r\n        map.put(key, value);\r\n    }\r\n    // Consider printing from the call point instead to keep this code clean\r\n    System.out.println(map);\r\n    return map;\r\n}\r\n```\r\n\r\nUsing a `LinkedHashMap` instead of a `HashMap` iterates over its entries in insertion order, so calling its `toString()` will render in the same order as `resultList`.\r\n\r\nConsider storing objects of a class with appropirately named String fields in `resultList` instead of `Object[]`, which would make your code less brittle and more readable.","title":"Is there a Java way to format an array output by removing the curly brackets around each key-value pair?","body":"<p>I think you want a Map returned, not a <em>List</em> of Maps:</p>\n<pre><code>public Map&lt;String, String&gt; getDemoNames() {\n    Map&lt;String, String&gt; map = new LinkedHashMap&lt;&gt;();\n    for (Object result : resultList) {\n        Object[] row = (Object[]) result;\n        String key = String.valueOf(row[0]);\n        String value = String.valueOf(row[1]);\n        map.put(key, value);\n    }\n    // Consider printing from the call point instead to keep this code clean\n    System.out.println(map);\n    return map;\n}\n</code></pre>\n<p>Using a <code>LinkedHashMap</code> instead of a <code>HashMap</code> iterates over its entries in insertion order, so calling its <code>toString()</code> will render in the same order as <code>resultList</code>.</p>\n<p>Consider storing objects of a class with appropirately named String fields in <code>resultList</code> instead of <code>Object[]</code>, which would make your code less brittle and more readable.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685663026,"creation_date":1685661783,"answer_id":76386289,"question_id":76386116,"body_markdown":"This seems like an [XY problem][1].  It seems like your real problem is generating output that looks a certain way, and you have picked the wrong intermediate data structure.  Now you are trying to compensate for the wrong choice with some clever transformation of the `toString()` output from the data structure to get your desired output.\r\n\r\nIf you have no knowledge of what is in the map&#39;s key / value pairs, then using `replaceAll` to remove unwanted brackets is fragile.\r\n\r\nBut I think the problem is deeper than that.  You are creating a list of maps where each map contains one element, but you are trying to make it *look* like a list containing a single (combined) map.  So ... why not create it as a single map?\r\n\r\n        public List&lt;Map&lt;String, String&gt;&gt; getDemoNames() {\r\n            List&lt;Map&lt;String, String&gt;&gt; demoNames = new ArrayList&lt;&gt;();\r\n            Map&lt;String, String&gt; map = new LinkedHashMap&lt;&gt;();\r\n            for (Object result : resultList) {\r\n                Object[] row = (Object[]) result;\r\n\r\n                // The following removes braces from the key and\r\n                // value strings.  This is unnecessary ... unless\r\n                // you are expecting such stuff in the result list.\r\n                String key = String.valueOf(row[0]).trim().replaceAll(&quot;[{}]&quot;, &quot;&quot;); \r\n                String value = String.valueOf(row[1]).trim().replaceAll(&quot;[{}]&quot;, &quot;&quot;);\r\n\r\n                map.put(key, value);\r\n            }\r\n            demoNames.add(map);\r\n            System.out.println(demoNames);\r\n            return demoNames;\r\n        }\r\n\r\nFurthermore, there isn&#39;t any obvious reason to have the list here.  It doesn&#39;t appear to serve any purpose.  (Except maybe to preserve the order of the key-value pairs.  And the `LinkedHashMap` preserves that.)\r\n\r\n----------------\r\n\r\nOn the other hand ... if you really do need to generate a list of maps, then the best way to format that data as you want would be iterate the maps using `for` loops or streams.  See @knittl&#39;s answer for example.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/XY_problem","title":"Is there a Java way to format an array output by removing the curly brackets around each key-value pair?","body":"<p>This seems like an <a href=\"https://en.wikipedia.org/wiki/XY_problem\" rel=\"nofollow noreferrer\">XY problem</a>.  It seems like your real problem is generating output that looks a certain way, and you have picked the wrong intermediate data structure.  Now you are trying to compensate for the wrong choice with some clever transformation of the <code>toString()</code> output from the data structure to get your desired output.</p>\n<p>If you have no knowledge of what is in the map's key / value pairs, then using <code>replaceAll</code> to remove unwanted brackets is fragile.</p>\n<p>But I think the problem is deeper than that.  You are creating a list of maps where each map contains one element, but you are trying to make it <em>look</em> like a list containing a single (combined) map.  So ... why not create it as a single map?</p>\n<pre><code>    public List&lt;Map&lt;String, String&gt;&gt; getDemoNames() {\n        List&lt;Map&lt;String, String&gt;&gt; demoNames = new ArrayList&lt;&gt;();\n        Map&lt;String, String&gt; map = new LinkedHashMap&lt;&gt;();\n        for (Object result : resultList) {\n            Object[] row = (Object[]) result;\n\n            // The following removes braces from the key and\n            // value strings.  This is unnecessary ... unless\n            // you are expecting such stuff in the result list.\n            String key = String.valueOf(row[0]).trim().replaceAll(&quot;[{}]&quot;, &quot;&quot;); \n            String value = String.valueOf(row[1]).trim().replaceAll(&quot;[{}]&quot;, &quot;&quot;);\n\n            map.put(key, value);\n        }\n        demoNames.add(map);\n        System.out.println(demoNames);\n        return demoNames;\n    }\n</code></pre>\n<p>Furthermore, there isn't any obvious reason to have the list here.  It doesn't appear to serve any purpose.  (Except maybe to preserve the order of the key-value pairs.  And the <code>LinkedHashMap</code> preserves that.)</p>\n<hr />\n<p>On the other hand ... if you really do need to generate a list of maps, then the best way to format that data as you want would be iterate the maps using <code>for</code> loops or streams.  See @knittl's answer for example.</p>\n"},{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685661893,"creation_date":1685661893,"answer_id":76386299,"question_id":76386116,"body_markdown":"You have a list of maps with each map only having a single entry (because the map is created inside the loop and then added to the list).\r\n\r\nThere are at least three options to get the output in the format you request:\r\n\r\n1. Populate your data structure in the expected layout in the first place. Meaning that you have a list with a single map (and the map contains all the entries). _Presumably, this is the solution which you actually want:_ Create the map outside the loop, then populate it from within the loop (each loop iteration puts an entry into the map).\r\n\r\n2. Manually build the output string:\r\n\r\n       boolean first = true;\r\n       final StringBuilder sb = new StringBuilder();\r\n       sb.append(&quot;[{&quot;);\r\n       for (final Map&lt;String, String&gt; map : demoNames) {\r\n         for (final Map.Entry&lt;String, String&gt; entry : map.entrySet()) {\r\n           if (!first) sb.append(&quot;, &quot;);\r\n           first = false;\r\n           sb.append(entry.getKey()).append(&#39;=&#39;).append(entry.getValue());\r\n         }\r\n       }\r\n       sb.append(&quot;}]&quot;);\r\n       System.out.println(sb);\r\n\r\n3. Transform the map into the expected format, then use `toString` on the map:\r\n\r\n       final Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n       for (final Map&lt;String, String&gt; demoName : demoNames) {\r\n         map.putAll(demoName);\r\n       }\r\n       System.out.println(map);","title":"Is there a Java way to format an array output by removing the curly brackets around each key-value pair?","body":"<p>You have a list of maps with each map only having a single entry (because the map is created inside the loop and then added to the list).</p>\n<p>There are at least three options to get the output in the format you request:</p>\n<ol>\n<li><p>Populate your data structure in the expected layout in the first place. Meaning that you have a list with a single map (and the map contains all the entries). <em>Presumably, this is the solution which you actually want:</em> Create the map outside the loop, then populate it from within the loop (each loop iteration puts an entry into the map).</p>\n</li>\n<li><p>Manually build the output string:</p>\n<pre><code>boolean first = true;\nfinal StringBuilder sb = new StringBuilder();\nsb.append(&quot;[{&quot;);\nfor (final Map&lt;String, String&gt; map : demoNames) {\n  for (final Map.Entry&lt;String, String&gt; entry : map.entrySet()) {\n    if (!first) sb.append(&quot;, &quot;);\n    first = false;\n    sb.append(entry.getKey()).append('=').append(entry.getValue());\n  }\n}\nsb.append(&quot;}]&quot;);\nSystem.out.println(sb);\n</code></pre>\n</li>\n<li><p>Transform the map into the expected format, then use <code>toString</code> on the map:</p>\n<pre><code>final Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\nfor (final Map&lt;String, String&gt; demoName : demoNames) {\n  map.putAll(demoName);\n}\nSystem.out.println(map);\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685663562,"creation_date":1685663562,"answer_id":76386382,"question_id":76386116,"body_markdown":"You could possibly try it this way too:\r\n\r\n    String output = getDemoNames().stream().\r\n        flatMap(m -&gt;m.entrySet().stream()).\r\n        map(e -&gt;e.getKey() + &quot;=&quot; + e.getValue()).\r\n        collect(Collectors.joining(&quot;, &quot;, &quot;[{&quot;, &quot;}]&quot;));\r\n    System.out.println(output);\r\n\r\n","title":"Is there a Java way to format an array output by removing the curly brackets around each key-value pair?","body":"<p>You could possibly try it this way too:</p>\n<pre><code>String output = getDemoNames().stream().\n    flatMap(m -&gt;m.entrySet().stream()).\n    map(e -&gt;e.getKey() + &quot;=&quot; + e.getValue()).\n    collect(Collectors.joining(&quot;, &quot;, &quot;[{&quot;, &quot;}]&quot;));\nSystem.out.println(output);\n</code></pre>\n"}],"owner":{"account_id":7615640,"reputation":622,"user_id":5775158,"accept_rate":37,"display_name":"Testilla"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76386285,"answer_count":4,"score":0,"last_activity_date":1685696284,"creation_date":1685658859,"question_id":76386116,"body_markdown":"My code works OK by returning the expected key-value pair output from an sql query, however the formatting of the output needs to be changed. I tried removing the curly brackets around each key-value pair contained in the array, but I couldnt succeed with that.\r\n\r\nThis is what I have tried, but it didn&#39;t work:\r\n\r\n```\r\npublic List&lt;Map&lt;String, String&gt;&gt; getDemoNames() {\r\n    List&lt;Map&lt;String, String&gt;&gt; demoNames = new ArrayList&lt;&gt;();\r\n    for (Object result : resultList) {\r\n        Object[] row = (Object[]) result;\r\n        Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n        String key = String.valueOf(row[0]).trim().replaceAll(&quot;[{}]&quot;, &quot;&quot;); //I tried removing the curly bracket this way\r\n        String value = String.valueOf(row[1]).trim().replaceAll(&quot;[{}]&quot;, &quot;&quot;);\r\n        map.put(key, value);\r\n        demoNames.add(map);\r\n    \r\n        System.out.println(demoNames);\r\n    }\r\n    return demoNames;\r\n}\r\n```\r\n\r\nOutput: `[{001=DEMO}, {002=APPLE}, {003=GOOGLE}, {004=ALAMANCE COUNTY}]`\r\n\r\nWhat I want is to get the output in this format:\r\n\r\n```none\r\n[{001=DEMO, 002=APPLE, 003=GOOGLE, 004=ALAMANCE COUNTY}]\r\n```\r\n\r\nHow do I achieve this?\r\n\r\n\r\n\r\n\r\n","title":"Is there a Java way to format an array output by removing the curly brackets around each key-value pair?","body":"<p>My code works OK by returning the expected key-value pair output from an sql query, however the formatting of the output needs to be changed. I tried removing the curly brackets around each key-value pair contained in the array, but I couldnt succeed with that.</p>\n<p>This is what I have tried, but it didn't work:</p>\n<pre><code>public List&lt;Map&lt;String, String&gt;&gt; getDemoNames() {\n    List&lt;Map&lt;String, String&gt;&gt; demoNames = new ArrayList&lt;&gt;();\n    for (Object result : resultList) {\n        Object[] row = (Object[]) result;\n        Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n        String key = String.valueOf(row[0]).trim().replaceAll(&quot;[{}]&quot;, &quot;&quot;); //I tried removing the curly bracket this way\n        String value = String.valueOf(row[1]).trim().replaceAll(&quot;[{}]&quot;, &quot;&quot;);\n        map.put(key, value);\n        demoNames.add(map);\n    \n        System.out.println(demoNames);\n    }\n    return demoNames;\n}\n</code></pre>\n<p>Output: <code>[{001=DEMO}, {002=APPLE}, {003=GOOGLE}, {004=ALAMANCE COUNTY}]</code></p>\n<p>What I want is to get the output in this format:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[{001=DEMO, 002=APPLE, 003=GOOGLE, 004=ALAMANCE COUNTY}]\n</code></pre>\n<p>How do I achieve this?</p>\n"},{"tags":["java","google-earth-engine"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1685696571,"post_id":76388636,"comment_id":134700215,"body_markdown":"well, yes, if you don&#39;t call a function or method, the errors in that method won&#39;t cause trouble. apparently &#39;composite&#39; is not defined yet when you add that line, which would be odd, since you only define it there.","body":"well, yes, if you don&#39;t call a function or method, the errors in that method won&#39;t cause trouble. apparently &#39;composite&#39; is not defined yet when you add that line, which would be odd, since you only define it there."},{"owner":{"account_id":27261134,"reputation":1,"user_id":20783943,"display_name":"idris wada"},"score":0,"creation_date":1685697928,"post_id":76388636,"comment_id":134700495,"body_markdown":"thank you, I corrected it and it run successfully","body":"thank you, I corrected it and it run successfully"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1685699669,"post_id":76388636,"comment_id":134700848,"body_markdown":"it might be helpful for the next person to run into this, if you edit your question to show the solution you&#39;ve implemented, or add it as an answer and accept it","body":"it might be helpful for the next person to run into this, if you edit your question to show the solution you&#39;ve implemented, or add it as an answer and accept it"}],"owner":{"account_id":27261134,"reputation":1,"user_id":20783943,"display_name":"idris wada"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685696251,"creation_date":1685696251,"question_id":76388636,"body_markdown":"i want to conduct supervised classification, but i intended to calculate NDVI, NDWI, and NDBI indices prio to classification using the code below;\r\n\r\n```\r\nMap.addLayer(hjrb);\r\nvar image = ee.ImageCollection(&quot;LANDSAT/LC08/C02/T1_L2&quot;)\r\n.filterDate(&quot;2014-01-01&quot;, &quot;2015-12-31&quot;)\r\n.filterMetadata(&quot;CLOUD_COVER&quot;, &quot;less_than&quot;, 1)\r\n.filterBounds(hjrb)\r\n.mean();\r\nvar visParamfalse = {bands: [&quot;SR_B3&quot;,&quot;SR_B4&quot;,&quot;SR_B5&quot;]};\r\nMap.addLayer (image.clip(hjrb), visParamfalse, &#39;study2015&#39;);\r\nMap.centerObject(hjrb, 8);\r\n\r\n//indices\r\nvar addIndices = function(image){\r\n  var gndvi = image.normalizedDifference([&#39;SR_B5&#39;, &#39;SR_B3&#39;]).rename([&#39;gndvi&#39;]);\r\n  var ndbi = image.normalizedDifference([&#39;SR_B5&#39;, &#39;SR_B4&#39;]).rename([&#39;ndbi&#39;]);\r\n  var ndwi = image.normalizedDifference([&#39;SR_B3&#39;, &#39;SR_B5&#39;]).rename([&#39;ndwi&#39;]);\r\n\r\n  return image.addBands(gndvi).addBands(ndbi).addBands(ndwi);\r\n  };\r\n\r\nvar composite = addIndices (composite);\r\n```\r\n\r\n\r\nafter running this code, i got this error &quot;Cannot read property &#39;normalizedDifference&#39; of undefined&quot; \r\n\r\nundefined&quot; but i remove `var composite = addIndices (composite);` the code runs successfully.\r\nplease kindly help me through.","title":"Cannot read property &#39;normalizedDifference&#39; of undefined","body":"<p>i want to conduct supervised classification, but i intended to calculate NDVI, NDWI, and NDBI indices prio to classification using the code below;</p>\n<pre><code>Map.addLayer(hjrb);\nvar image = ee.ImageCollection(&quot;LANDSAT/LC08/C02/T1_L2&quot;)\n.filterDate(&quot;2014-01-01&quot;, &quot;2015-12-31&quot;)\n.filterMetadata(&quot;CLOUD_COVER&quot;, &quot;less_than&quot;, 1)\n.filterBounds(hjrb)\n.mean();\nvar visParamfalse = {bands: [&quot;SR_B3&quot;,&quot;SR_B4&quot;,&quot;SR_B5&quot;]};\nMap.addLayer (image.clip(hjrb), visParamfalse, 'study2015');\nMap.centerObject(hjrb, 8);\n\n//indices\nvar addIndices = function(image){\n  var gndvi = image.normalizedDifference(['SR_B5', 'SR_B3']).rename(['gndvi']);\n  var ndbi = image.normalizedDifference(['SR_B5', 'SR_B4']).rename(['ndbi']);\n  var ndwi = image.normalizedDifference(['SR_B3', 'SR_B5']).rename(['ndwi']);\n\n  return image.addBands(gndvi).addBands(ndbi).addBands(ndwi);\n  };\n\nvar composite = addIndices (composite);\n</code></pre>\n<p>after running this code, i got this error &quot;Cannot read property 'normalizedDifference' of undefined&quot;</p>\n<p>undefined&quot; but i remove <code>var composite = addIndices (composite);</code> the code runs successfully.\nplease kindly help me through.</p>\n"},{"tags":["javascript","java","security","struts2","content-security-policy"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1674576988,"post_id":75216534,"comment_id":132741374,"body_markdown":"[Please post text, not images.](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question/285557#285557)","body":"<a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question/285557#285557\">Please post text, not images.</a>"}],"answers":[{"tags":[],"owner":{"account_id":12717906,"reputation":2771,"user_id":9239311,"display_name":"Halvor Sakshaug"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674539156,"creation_date":1674539156,"answer_id":75217815,"question_id":75216534,"body_markdown":"The content of your policies and the one in the error message don&#39;t match, and while you are adding &quot;Content-Security-Policy&quot;, the error message is for &quot;Content-Security-Policy-Report-Only&quot;. This means that there is another header present, and you are adding another. Adding another can only make the policy stricter. The report only version of Content-Security-Policy doesn&#39;t actually block anything, and must be set as a response header. You should identify where this header is set and modify it as needed.\r\n\r\nAdditionally you should replace jquery-1.8.3 with a recent version that doesn&#39;t have known vulnerabilities. ","title":"HTTP Content-Security-Policy header not working correctly for script-src in Struts","body":"<p>The content of your policies and the one in the error message don't match, and while you are adding &quot;Content-Security-Policy&quot;, the error message is for &quot;Content-Security-Policy-Report-Only&quot;. This means that there is another header present, and you are adding another. Adding another can only make the policy stricter. The report only version of Content-Security-Policy doesn't actually block anything, and must be set as a response header. You should identify where this header is set and modify it as needed.</p>\n<p>Additionally you should replace jquery-1.8.3 with a recent version that doesn't have known vulnerabilities.</p>\n"},{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674908811,"creation_date":1674775088,"answer_id":75252633,"question_id":75216534,"body_markdown":"Struts provides support for [`Content-Security-Policy`](https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP) since [version 6.x](https://github.com/apache/struts/commit/4d8bec5d0a56dd8fefaf3783ed57ae65139525cc).\r\n\r\nThe functionality is implemented primarily in [`CspInterceptor`](https://github.com/apache/struts/blob/4d58dd1960a6fefef562ed578c42e3671c357279/core/src/main/java/org/apache/struts2/interceptor/csp/CspInterceptor.java).\r\n\r\nThis interceptor is configured by providing a convenient [default implementation](https://github.com/apache/struts/blob/8c4a90f6e3b20697d3e57134a983b2c694e5fe75/core/src/main/java/org/apache/struts2/interceptor/csp/DefaultCspSettings.java) of [CspSettings](https://github.com/apache/struts/blob/253d8558e55737084f56a0fab3c32ee3deee9cee/core/src/main/java/org/apache/struts2/interceptor/csp/CspSettings.java).\r\n\r\nThis interceptor is included by default in the [Struts configuration](https://github.com/apache/struts/blob/master/core/src/main/resources/struts-default.xml). As you can see in the [linked resource](https://github.com/apache/struts/blob/2a85d0fbc4dcc8e59b4e48d1c8289252ade042af/core/src/main/resources/struts-default.xml#L199) and in [the documentation](https://struts.apache.org/core-developers/csp-interceptor) by default is configured in report only, non enforcing mode:\r\n\r\n```xml\r\n&lt;interceptor-ref name=&quot;csp&quot;&gt;\r\n  &lt;param name=&quot;disabled&quot;&gt;false&lt;/param&gt;\r\n  &lt;param name=&quot;enforcingMode&quot;&gt;false&lt;/param&gt;\r\n&lt;/interceptor-ref&gt;\r\n```\r\n\r\nI reviewed the current source code of the library and the companion documentation and it seems that providing a custom CSP configuration to `CspInterceptor` is not possible right now.\r\n\r\nThat means that in order to mitigate your error one possibility will be to disable the `CspInterceptor` and provide your own. The [Struts documentation](https://struts.apache.org/core-developers/interceptors#disabling-interceptor) provides guidance about how it could be accomplished. In your case, I think it should look like similar to the following:\r\n\r\n```xml\r\n&lt;action name=&quot;myAction&quot; class=&quot;myActionClass&quot;&gt;\r\n    &lt;interceptor-ref name=&quot;defaultStack&quot;&gt;\r\n        &lt;param name=&quot;csp.disabled&quot;&gt;true&lt;/param&gt;\r\n    &lt;/interceptor-ref&gt;\r\n&lt;/action&gt;\r\n```\r\n\r\nIn addition, in the [commit](https://github.com/apache/struts/commit/4d8bec5d0a56dd8fefaf3783ed57ae65139525cc) I cited at the beginning of the answer they mention the components and corresponding tags [`s:link`](https://github.com/apache/struts/blob/master/core/src/main/java/org/apache/struts2/components/Link.java) and [`s:script`](https://github.com/apache/struts/blob/master/core/src/main/java/org/apache/struts2/components/Script.java) as a possible way for fetching the required CSS and Javascript resources taking into account the default CSP settings: basically they provide the necessary mechanisms for taking into account the appropriate nonces for the linked resources, required according to the policy applied. Please, consider review for instance [this page](https://github.com/apache/struts/blob/master/apps/showcase/src/main/webapp/WEB-INF/decorators/main.jsp) in the showcase provided by Struts as example, reproduced here for convenience:\r\n\r\n```jsp\r\n&lt;%@taglib prefix=&quot;s&quot; uri=&quot;/struts-tags&quot; %&gt;\r\n\r\n\r\n&lt;html lang=&quot;en&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;!-- content removed for brevity --&gt;\r\n\r\n    &lt;s:url var=&quot;jqueryJs&quot; value=&#39;/js/jquery-2.1.4.min.js&#39; encode=&#39;false&#39; includeParams=&#39;none&#39;/&gt;\r\n    &lt;s:script src=&quot;%{jqueryJs}&quot;/&gt;\r\n    &lt;!-- other resources... now handling inline sources --&gt; \r\n    &lt;s:script type=&quot;text/javascript&quot;&gt;\r\n        $(function () {\r\n            var alerts = $(&#39;ul.alert&#39;).wrap(&#39;&lt;div /&gt;&#39;);\r\n            alerts.prepend(&#39;&lt;a class=&quot;close&quot; data-dismiss=&quot;alert&quot; href=&quot;#&quot;&gt;&amp;times;&lt;/a&gt;&#39;);\r\n            alerts.alert();\r\n        });\r\n    &lt;/s:script&gt;\r\n\r\n\r\n    &lt;!-- ... --&gt;\r\n&lt;/head&gt;\r\n``` ","title":"HTTP Content-Security-Policy header not working correctly for script-src in Struts","body":"<p>Struts provides support for <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP\" rel=\"nofollow noreferrer\"><code>Content-Security-Policy</code></a> since <a href=\"https://github.com/apache/struts/commit/4d8bec5d0a56dd8fefaf3783ed57ae65139525cc\" rel=\"nofollow noreferrer\">version 6.x</a>.</p>\n<p>The functionality is implemented primarily in <a href=\"https://github.com/apache/struts/blob/4d58dd1960a6fefef562ed578c42e3671c357279/core/src/main/java/org/apache/struts2/interceptor/csp/CspInterceptor.java\" rel=\"nofollow noreferrer\"><code>CspInterceptor</code></a>.</p>\n<p>This interceptor is configured by providing a convenient <a href=\"https://github.com/apache/struts/blob/8c4a90f6e3b20697d3e57134a983b2c694e5fe75/core/src/main/java/org/apache/struts2/interceptor/csp/DefaultCspSettings.java\" rel=\"nofollow noreferrer\">default implementation</a> of <a href=\"https://github.com/apache/struts/blob/253d8558e55737084f56a0fab3c32ee3deee9cee/core/src/main/java/org/apache/struts2/interceptor/csp/CspSettings.java\" rel=\"nofollow noreferrer\">CspSettings</a>.</p>\n<p>This interceptor is included by default in the <a href=\"https://github.com/apache/struts/blob/master/core/src/main/resources/struts-default.xml\" rel=\"nofollow noreferrer\">Struts configuration</a>. As you can see in the <a href=\"https://github.com/apache/struts/blob/2a85d0fbc4dcc8e59b4e48d1c8289252ade042af/core/src/main/resources/struts-default.xml#L199\" rel=\"nofollow noreferrer\">linked resource</a> and in <a href=\"https://struts.apache.org/core-developers/csp-interceptor\" rel=\"nofollow noreferrer\">the documentation</a> by default is configured in report only, non enforcing mode:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;interceptor-ref name=&quot;csp&quot;&gt;\n  &lt;param name=&quot;disabled&quot;&gt;false&lt;/param&gt;\n  &lt;param name=&quot;enforcingMode&quot;&gt;false&lt;/param&gt;\n&lt;/interceptor-ref&gt;\n</code></pre>\n<p>I reviewed the current source code of the library and the companion documentation and it seems that providing a custom CSP configuration to <code>CspInterceptor</code> is not possible right now.</p>\n<p>That means that in order to mitigate your error one possibility will be to disable the <code>CspInterceptor</code> and provide your own. The <a href=\"https://struts.apache.org/core-developers/interceptors#disabling-interceptor\" rel=\"nofollow noreferrer\">Struts documentation</a> provides guidance about how it could be accomplished. In your case, I think it should look like similar to the following:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;action name=&quot;myAction&quot; class=&quot;myActionClass&quot;&gt;\n    &lt;interceptor-ref name=&quot;defaultStack&quot;&gt;\n        &lt;param name=&quot;csp.disabled&quot;&gt;true&lt;/param&gt;\n    &lt;/interceptor-ref&gt;\n&lt;/action&gt;\n</code></pre>\n<p>In addition, in the <a href=\"https://github.com/apache/struts/commit/4d8bec5d0a56dd8fefaf3783ed57ae65139525cc\" rel=\"nofollow noreferrer\">commit</a> I cited at the beginning of the answer they mention the components and corresponding tags <a href=\"https://github.com/apache/struts/blob/master/core/src/main/java/org/apache/struts2/components/Link.java\" rel=\"nofollow noreferrer\"><code>s:link</code></a> and <a href=\"https://github.com/apache/struts/blob/master/core/src/main/java/org/apache/struts2/components/Script.java\" rel=\"nofollow noreferrer\"><code>s:script</code></a> as a possible way for fetching the required CSS and Javascript resources taking into account the default CSP settings: basically they provide the necessary mechanisms for taking into account the appropriate nonces for the linked resources, required according to the policy applied. Please, consider review for instance <a href=\"https://github.com/apache/struts/blob/master/apps/showcase/src/main/webapp/WEB-INF/decorators/main.jsp\" rel=\"nofollow noreferrer\">this page</a> in the showcase provided by Struts as example, reproduced here for convenience:</p>\n<pre><code>&lt;%@taglib prefix=&quot;s&quot; uri=&quot;/struts-tags&quot; %&gt;\n\n\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;!-- content removed for brevity --&gt;\n\n    &lt;s:url var=&quot;jqueryJs&quot; value='/js/jquery-2.1.4.min.js' encode='false' includeParams='none'/&gt;\n    &lt;s:script src=&quot;%{jqueryJs}&quot;/&gt;\n    &lt;!-- other resources... now handling inline sources --&gt; \n    &lt;s:script type=&quot;text/javascript&quot;&gt;\n        $(function () {\n            var alerts = $('ul.alert').wrap('&lt;div /&gt;');\n            alerts.prepend('&lt;a class=&quot;close&quot; data-dismiss=&quot;alert&quot; href=&quot;#&quot;&gt;&amp;times;&lt;/a&gt;');\n            alerts.alert();\n        });\n    &lt;/s:script&gt;\n\n\n    &lt;!-- ... --&gt;\n&lt;/head&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6314782,"reputation":31,"user_id":4905182,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1675330793,"creation_date":1675206696,"answer_id":75304080,"question_id":75216534,"body_markdown":"I was also struggling with the new Content Security Policy interceptor.  We had to temporarily disable it since Struts doesn&#39;t really provide any way to configure it yet and all of those browser console error / CSP reports are really unacceptable. \r\n\r\nAt least for me, in order to disable it across all of my actions in struts.xml I needed to reference &quot;cspInterceptor&quot; instead of &quot;csp&quot; as follows:\r\n\r\n    &lt;interceptor-ref name=&quot;defaultStack&quot; &gt;\r\n\t    &lt;param name=&quot;cspInterceptor.disabled&quot;&gt;true&lt;/param&gt;\t\t\t\t\r\n\t&lt;/interceptor-ref&gt;","title":"HTTP Content-Security-Policy header not working correctly for script-src in Struts","body":"<p>I was also struggling with the new Content Security Policy interceptor.  We had to temporarily disable it since Struts doesn't really provide any way to configure it yet and all of those browser console error / CSP reports are really unacceptable.</p>\n<p>At least for me, in order to disable it across all of my actions in struts.xml I needed to reference &quot;cspInterceptor&quot; instead of &quot;csp&quot; as follows:</p>\n<pre><code>&lt;interceptor-ref name=&quot;defaultStack&quot; &gt;\n    &lt;param name=&quot;cspInterceptor.disabled&quot;&gt;true&lt;/param&gt;              \n&lt;/interceptor-ref&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4682434,"reputation":1,"user_id":3790805,"display_name":"Francesc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685695614,"creation_date":1685695614,"answer_id":76388579,"question_id":75216534,"body_markdown":"I had the same problem with the [Report Only] Refused to load the script message ... and struts 6.1.2.\r\nThe solution was to disable the csp as @jccampanero pointed.\r\nI&#39;m using actions with anotations so I had to configure the struts convention default package in the struts.xml, like this\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;  \r\n    &lt;!DOCTYPE struts PUBLIC\r\n            &quot;-//Apache Software Foundation//DTD Struts Configuration 6.0//EN&quot;\r\n            &quot;https://struts.apache.org/dtds/struts-6.0.dtd&quot;&gt;\r\n    &lt;struts&gt;  \r\n    \t&lt;package name=&quot;default&quot; extends=&quot;struts-default&quot;&gt;  \r\n    \t\t&lt;interceptors&gt;\t\t\t\r\n    \t\t\t&lt;interceptor-stack name=&quot;defaultStack&quot;&gt;\r\n    \t\t\t\t &lt;interceptor-ref name=&quot;defaultStack&quot; &gt;\r\n    \t\t\t\t    &lt;param name=&quot;cspInterceptor.disabled&quot;&gt;true&lt;/param&gt;              \r\n    \t\t\t\t&lt;/interceptor-ref&gt;\r\n    \t         &lt;/interceptor-stack&gt;\r\n             &lt;/interceptors&gt;\r\n    \t&lt;/package&gt; \r\n    \r\n      &lt;constant name=&quot;struts.convention.default.parent.package&quot; value=&quot;default&quot;/&gt;\r\n    &lt;/struts&gt; \r\n\r\n  \r\n","title":"HTTP Content-Security-Policy header not working correctly for script-src in Struts","body":"<p>I had the same problem with the [Report Only] Refused to load the script message ... and struts 6.1.2.\nThe solution was to disable the csp as @jccampanero pointed.\nI'm using actions with anotations so I had to configure the struts convention default package in the struts.xml, like this</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;  \n&lt;!DOCTYPE struts PUBLIC\n        &quot;-//Apache Software Foundation//DTD Struts Configuration 6.0//EN&quot;\n        &quot;https://struts.apache.org/dtds/struts-6.0.dtd&quot;&gt;\n&lt;struts&gt;  \n    &lt;package name=&quot;default&quot; extends=&quot;struts-default&quot;&gt;  \n        &lt;interceptors&gt;          \n            &lt;interceptor-stack name=&quot;defaultStack&quot;&gt;\n                 &lt;interceptor-ref name=&quot;defaultStack&quot; &gt;\n                    &lt;param name=&quot;cspInterceptor.disabled&quot;&gt;true&lt;/param&gt;              \n                &lt;/interceptor-ref&gt;\n             &lt;/interceptor-stack&gt;\n         &lt;/interceptors&gt;\n    &lt;/package&gt; \n\n  &lt;constant name=&quot;struts.convention.default.parent.package&quot; value=&quot;default&quot;/&gt;\n&lt;/struts&gt; \n</code></pre>\n"}],"owner":{"account_id":19471191,"reputation":184,"user_id":15262402,"display_name":"Sebastian Ruiz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2539,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":75252633,"answer_count":4,"score":6,"last_activity_date":1685695614,"creation_date":1674521858,"question_id":75216534,"body_markdown":"I have a problem updating my version of struts struts2-core-2.5.30 project to struts2-core-6.1.1 so I began to receive an error indicating that the security policies have been violated, doing some research, I found that a header should be added\r\n\r\n&gt;[Report Only] Refused to load the script &#39;&lt;URL&gt;&#39; because it violates the following Content Security Policy directive: &quot;script-src &#39;nonce-MOz6w31eaDHGUDfV__K8LEZ1&#39; &#39;strict-dynamic&#39; http: https:&quot;. Note that &#39;strict-dynamic&#39; is present, so host-based allowlisting is disabled. Note that &#39;script-src-elem&#39; was not explicitly set, so &#39;script-src&#39; is used as a fallback.\r\n\r\nand inside this error I have this description\r\n\r\n&gt;[Report Only] Refused to load the script `http://localhost:8080/Portal/html/js/jquery/jquery-1.8.3.min.js` because it violates the following Content Security Policy directive: &quot;script-src &#39;nonce-MOz6w31eaDHGUDfV__K8LEZ1&#39; &#39;strict-dynamic&#39; http: https:&quot;. Note that &#39;strict-dynamic&#39; is present, so host-based allowlisting is disabled. Note that &#39;script-src-elem&#39; was not explicitly set, so &#39;script-src&#39; is used as a fallback.\r\n\r\n&gt;[Report Only] Refused to load the script `http://localhost:8080/Portal/html/js/jquery/jquery-ui.1.10.4.min.js` because it violates the following Content Security Policy directive: &quot;script-src &#39;nonce-MOz6w31eaDHGUDfV__K8LEZ1&#39; &#39;strict-dynamic&#39; http: https:&quot;. Note that &#39;strict-dynamic&#39; is present, so host-based allowlisting is disabled. Note that &#39;script-src-elem&#39; was not explicitly set, so &#39;script-src&#39; is used as a fallback.\r\n\r\nhowever I have tried these headers\r\n\r\n \r\n\r\n    &lt;meta http-equiv=&quot;Content-Security-Policy&quot; content=&quot;default-src &#39;self&#39;&quot;&gt;\r\n\r\n\r\n    &lt;meta http-equiv=&quot;Content-Security-Policy&quot; content=&quot;default-src *;\r\n        style-src * &#39;unsafe-inline&#39;; script-src * &#39;unsafe-inline&#39;\r\n        &#39;unsafe-eval&#39;; img-src * data: &#39;unsafe-inline&#39;; connect-src *\r\n        &#39;unsafe-inline&#39;; frame-src *;&quot;&gt;\r\n\r\n    &lt;meta http-equiv=&quot;Content-Security-Policy&quot; content=&quot;default-src  &#39;nonce-rAnd0m&#39;&quot;&gt;\r\n    &lt;script src=&quot;${pageContext.request.contextPath}/html/js/jquery/jquery-1.8.3.min.js&quot; type=&quot;text/javascript&quot; nonce=&quot;rAnd0m123&quot;&gt;&lt;/script&gt; \r\n\r\nwith each of them I get the same error, In my previous version of Struts it did not ask me for any of this.\r\n\r\nI have also tried to make an interceptor to add the corresponding directives, however it did not work for me either.\r\n\r\n\r\n    import com.opensymphony.xwork2.ActionContext;\r\n    import com.opensymphony.xwork2.ActionInvocation;\r\n    import com.opensymphony.xwork2.interceptor.AbstractInterceptor;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import org.apache.struts2.StrutsStatics;\r\n    \r\n    \r\n    public class SessionInterceptor extends AbstractInterceptor{\r\n    \r\n       private static final long serialVersionUID = 1L;\r\n    \r\n    \r\n       public String intercept(ActionInvocation invocation) throws Exception {\r\n         \r\n        ActionContext ac = invocation.getInvocationContext();\r\n        HttpServletResponse response = (HttpServletResponse) ac.get(StrutsStatics.HTTP_RESPONSE);\r\n        //HttpServletResponse response = ServletActionContext.getResponse();\r\n    \r\n        response.addHeader(&quot;X-Frame-Options&quot;, &quot;SAMEORIGIN&quot;);\r\n        response.addHeader(&quot;Content-Security-Policy-Report-Only&quot;, &quot;default-src &#39;self&#39;; script-src &#39;self&#39; &#39;unsafe-inline&#39;; object-src &#39;none&#39;; style-src &#39;self&#39; &#39;unsafe-inline&#39;; img-src &#39;self&#39;; media-src &#39;none&#39;; frame-src &#39;none&#39;; font-src &#39;self&#39;; connect-src &#39;self&#39;; report-uri REDACTED&quot;);\r\n        response.addHeader(&quot;X-Content-Security-Policy-Report-Only&quot;, &quot;default-src &#39;self&#39;; script-src &#39;self&#39; &#39;unsafe-inline&#39;; object-src &#39;none&#39;; style-src &#39;self&#39; &#39;unsafe-inline&#39;; img-src &#39;self&#39;; media-src &#39;none&#39;; frame-src &#39;none&#39;; font-src &#39;self&#39;; connect-src &#39;self&#39;; report-uri REDACTED&quot;);\r\n        return invocation.invoke();\r\n    }\r\n    \r\n    }\r\n\r\nIn the same way I have updated the jquery-1.8.3 version as suggested in the comments but it dod not worked for me either\r\n\r\n  [1]: https://i.stack.imgur.com/Vwixe.png\r\n  [2]: https://i.stack.imgur.com/D8PdD.png\r\n","title":"HTTP Content-Security-Policy header not working correctly for script-src in Struts","body":"<p>I have a problem updating my version of struts struts2-core-2.5.30 project to struts2-core-6.1.1 so I began to receive an error indicating that the security policies have been violated, doing some research, I found that a header should be added</p>\n<blockquote>\n<p>[Report Only] Refused to load the script '' because it violates the following Content Security Policy directive: &quot;script-src 'nonce-MOz6w31eaDHGUDfV__K8LEZ1' 'strict-dynamic' http: https:&quot;. Note that 'strict-dynamic' is present, so host-based allowlisting is disabled. Note that 'script-src-elem' was not explicitly set, so 'script-src' is used as a fallback.</p>\n</blockquote>\n<p>and inside this error I have this description</p>\n<blockquote>\n<p>[Report Only] Refused to load the script <code>http://localhost:8080/Portal/html/js/jquery/jquery-1.8.3.min.js</code> because it violates the following Content Security Policy directive: &quot;script-src 'nonce-MOz6w31eaDHGUDfV__K8LEZ1' 'strict-dynamic' http: https:&quot;. Note that 'strict-dynamic' is present, so host-based allowlisting is disabled. Note that 'script-src-elem' was not explicitly set, so 'script-src' is used as a fallback.</p>\n</blockquote>\n<blockquote>\n<p>[Report Only] Refused to load the script <code>http://localhost:8080/Portal/html/js/jquery/jquery-ui.1.10.4.min.js</code> because it violates the following Content Security Policy directive: &quot;script-src 'nonce-MOz6w31eaDHGUDfV__K8LEZ1' 'strict-dynamic' http: https:&quot;. Note that 'strict-dynamic' is present, so host-based allowlisting is disabled. Note that 'script-src-elem' was not explicitly set, so 'script-src' is used as a fallback.</p>\n</blockquote>\n<p>however I have tried these headers</p>\n<pre><code>&lt;meta http-equiv=&quot;Content-Security-Policy&quot; content=&quot;default-src 'self'&quot;&gt;\n\n\n&lt;meta http-equiv=&quot;Content-Security-Policy&quot; content=&quot;default-src *;\n    style-src * 'unsafe-inline'; script-src * 'unsafe-inline'\n    'unsafe-eval'; img-src * data: 'unsafe-inline'; connect-src *\n    'unsafe-inline'; frame-src *;&quot;&gt;\n\n&lt;meta http-equiv=&quot;Content-Security-Policy&quot; content=&quot;default-src  'nonce-rAnd0m'&quot;&gt;\n&lt;script src=&quot;${pageContext.request.contextPath}/html/js/jquery/jquery-1.8.3.min.js&quot; type=&quot;text/javascript&quot; nonce=&quot;rAnd0m123&quot;&gt;&lt;/script&gt; \n</code></pre>\n<p>with each of them I get the same error, In my previous version of Struts it did not ask me for any of this.</p>\n<p>I have also tried to make an interceptor to add the corresponding directives, however it did not work for me either.</p>\n<pre><code>import com.opensymphony.xwork2.ActionContext;\nimport com.opensymphony.xwork2.ActionInvocation;\nimport com.opensymphony.xwork2.interceptor.AbstractInterceptor;\nimport javax.servlet.http.HttpServletResponse;\nimport org.apache.struts2.StrutsStatics;\n\n\npublic class SessionInterceptor extends AbstractInterceptor{\n\n   private static final long serialVersionUID = 1L;\n\n\n   public String intercept(ActionInvocation invocation) throws Exception {\n     \n    ActionContext ac = invocation.getInvocationContext();\n    HttpServletResponse response = (HttpServletResponse) ac.get(StrutsStatics.HTTP_RESPONSE);\n    //HttpServletResponse response = ServletActionContext.getResponse();\n\n    response.addHeader(&quot;X-Frame-Options&quot;, &quot;SAMEORIGIN&quot;);\n    response.addHeader(&quot;Content-Security-Policy-Report-Only&quot;, &quot;default-src 'self'; script-src 'self' 'unsafe-inline'; object-src 'none'; style-src 'self' 'unsafe-inline'; img-src 'self'; media-src 'none'; frame-src 'none'; font-src 'self'; connect-src 'self'; report-uri REDACTED&quot;);\n    response.addHeader(&quot;X-Content-Security-Policy-Report-Only&quot;, &quot;default-src 'self'; script-src 'self' 'unsafe-inline'; object-src 'none'; style-src 'self' 'unsafe-inline'; img-src 'self'; media-src 'none'; frame-src 'none'; font-src 'self'; connect-src 'self'; report-uri REDACTED&quot;);\n    return invocation.invoke();\n}\n\n}\n</code></pre>\n<p>In the same way I have updated the jquery-1.8.3 version as suggested in the comments but it dod not worked for me either</p>\n"},{"tags":["java","spring-boot","log4j2"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1685619771,"post_id":76381036,"comment_id":134687119,"body_markdown":"Are you using log4j 1.x or 2.x? The configuration file name should be log4j2.xml for 2.x.","body":"Are you using log4j 1.x or 2.x? The configuration file name should be log4j2.xml for 2.x."},{"owner":{"account_id":13299918,"reputation":406,"user_id":9601720,"display_name":"thmasker"},"score":0,"creation_date":1685695487,"post_id":76381036,"comment_id":134699996,"body_markdown":"@aled 2.x, the file is actually named `log4j2.xml`. I&#39;ll correct the name","body":"@aled 2.x, the file is actually named <code>log4j2.xml</code>. I&#39;ll correct the name"}],"owner":{"account_id":13299918,"reputation":406,"user_id":9601720,"display_name":"thmasker"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685695504,"creation_date":1685615924,"question_id":76381036,"body_markdown":"I have the following `log4j2.xml` file for my Spring Boot project:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;Console name=&quot;Console&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;%d %level %pid --- [%t] %c : %m%n&quot;/&gt;\r\n        &lt;/Console&gt;\r\n\r\n        &lt;JDBC name=&quot;DB&quot; tableName=&quot;logs&quot;&gt;\r\n            &lt;DriverManager connectionString=&quot;url&quot; userName=&quot;username&quot; password=&quot;$password&quot;/&gt;\r\n            &lt;Column name=&quot;TIM_TIMESTAM&quot; isEventTimestamp=&quot;true&quot;/&gt;\r\n            &lt;Column name=&quot;DES_LOGGER&quot; pattern=&quot;%c&quot;/&gt;\r\n            &lt;Column name=&quot;COD_JLEVEL&quot; pattern=&quot;%level&quot;/&gt;\r\n            &lt;Column name=&quot;DES_LMESSAGE&quot; pattern=&quot;%m}&quot;/&gt;\r\n        &lt;/JDBC&gt;\r\n\r\n        &lt;Async name=&quot;Async&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;DB&quot;/&gt;\r\n        &lt;/Async&gt;\r\n    &lt;/Appenders&gt;\r\n\r\n    &lt;Loggers&gt;\r\n        &lt;Root level=&quot;INFO&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\r\n            &lt;AppenderRef ref=&quot;Async&quot;/&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nIn my `application-LOCAL.yml` I have the following logging configuration:\r\n\r\n```\r\nlogging:\r\n  path:\r\n  level:\r\n    org:\r\n      hibernate:\r\n        type: trace\r\n```\r\n\r\nApparently, this configuration makes the appender to log as if root level was `TRACE` instead of `INFO`, a behaviour which I&#39;d like to avoid. How could I do this?","title":"Log4j appender logs more levels than expected","body":"<p>I have the following <code>log4j2.xml</code> file for my Spring Boot project:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;Console&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d %level %pid --- [%t] %c : %m%n&quot;/&gt;\n        &lt;/Console&gt;\n\n        &lt;JDBC name=&quot;DB&quot; tableName=&quot;logs&quot;&gt;\n            &lt;DriverManager connectionString=&quot;url&quot; userName=&quot;username&quot; password=&quot;$password&quot;/&gt;\n            &lt;Column name=&quot;TIM_TIMESTAM&quot; isEventTimestamp=&quot;true&quot;/&gt;\n            &lt;Column name=&quot;DES_LOGGER&quot; pattern=&quot;%c&quot;/&gt;\n            &lt;Column name=&quot;COD_JLEVEL&quot; pattern=&quot;%level&quot;/&gt;\n            &lt;Column name=&quot;DES_LMESSAGE&quot; pattern=&quot;%m}&quot;/&gt;\n        &lt;/JDBC&gt;\n\n        &lt;Async name=&quot;Async&quot;&gt;\n            &lt;AppenderRef ref=&quot;DB&quot;/&gt;\n        &lt;/Async&gt;\n    &lt;/Appenders&gt;\n\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;INFO&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n            &lt;AppenderRef ref=&quot;Async&quot;/&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>In my <code>application-LOCAL.yml</code> I have the following logging configuration:</p>\n<pre><code>logging:\n  path:\n  level:\n    org:\n      hibernate:\n        type: trace\n</code></pre>\n<p>Apparently, this configuration makes the appender to log as if root level was <code>TRACE</code> instead of <code>INFO</code>, a behaviour which I'd like to avoid. How could I do this?</p>\n"},{"tags":["java","android","https","proxy"],"answers":[{"tags":[],"owner":{"account_id":5525795,"reputation":4579,"user_id":4578454,"accept_rate":45,"display_name":"silverFoxA"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1545228065,"creation_date":1465393804,"answer_id":37704444,"question_id":35520337,"body_markdown":"If anyone still looking for the solution to the same, here is what worked for me\r\n\r\n    JAVA_OPTS=&quot;$JAVA_OPTS -DsocksProxyPort&quot;\r\n\r\n\r\nfor removing http proxy ports\r\n\r\nSource http://mxw.pl/blog/?p=4","title":"How to remove JVM property &quot;https.proxyHost&quot;?","body":"<p>If anyone still looking for the solution to the same, here is what worked for me</p>\n\n<pre><code>JAVA_OPTS=\"$JAVA_OPTS -DsocksProxyPort\"\n</code></pre>\n\n<p>for removing http proxy ports</p>\n\n<p>Source <a href=\"http://mxw.pl/blog/?p=4\" rel=\"noreferrer\">http://mxw.pl/blog/?p=4</a></p>\n"},{"tags":[],"owner":{"account_id":10601953,"reputation":267,"user_id":7808633,"display_name":"Amresh Deshpande"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1549986910,"creation_date":1549026676,"answer_id":54480262,"question_id":35520337,"body_markdown":"**Using a Mac:**\r\n\r\nGo to `Network settings -&gt; Advanced -&gt; Proxies` and uncheck &quot;proxy server required password&quot; for both HTTP and HTTPS. Remove user name and password.\r\n\r\nIn IntellJ/Android Studio restart with `File -&gt; Invalidate and Restart -&gt; Just Restart`","title":"How to remove JVM property &quot;https.proxyHost&quot;?","body":"<p><strong>Using a Mac:</strong></p>\n\n<p>Go to <code>Network settings -&gt; Advanced -&gt; Proxies</code> and uncheck \"proxy server required password\" for both HTTP and HTTPS. Remove user name and password.</p>\n\n<p>In IntellJ/Android Studio restart with <code>File -&gt; Invalidate and Restart -&gt; Just Restart</code></p>\n"},{"tags":[],"owner":{"account_id":4640232,"reputation":5623,"user_id":3760297,"accept_rate":67,"display_name":"Iman Marashi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1555239517,"creation_date":1555239517,"answer_id":55674513,"question_id":35520337,"body_markdown":"I solved this problem by this solution: \r\n\r\n**On Windows:**  \r\n\r\nGo to your **User Folder** - on Windows 7/8 this would be:  \r\n\r\n`[SYSDRIVE]:\\Users\\[your username]` (ex. `C:\\Users\\Iman\\`)\r\n\r\nIn this folder there should be a folder called `.AndroidStudioBeta` or `.AndroidStudio` (notice the period at the start - so on some OSes it would be hidden).\r\n\r\nDelete this folder (or better yet, move it to a backup location - so you can return it if something goes wrong).\r\n\r\nThis should reset your Android Studio settings to default.","title":"How to remove JVM property &quot;https.proxyHost&quot;?","body":"<p>I solved this problem by this solution: </p>\n\n<p><strong>On Windows:</strong>  </p>\n\n<p>Go to your <strong>User Folder</strong> - on Windows 7/8 this would be:  </p>\n\n<p><code>[SYSDRIVE]:\\Users\\[your username]</code> (ex. <code>C:\\Users\\Iman\\</code>)</p>\n\n<p>In this folder there should be a folder called <code>.AndroidStudioBeta</code> or <code>.AndroidStudio</code> (notice the period at the start - so on some OSes it would be hidden).</p>\n\n<p>Delete this folder (or better yet, move it to a backup location - so you can return it if something goes wrong).</p>\n\n<p>This should reset your Android Studio settings to default.</p>\n"},{"tags":[],"owner":{"account_id":5031799,"reputation":372,"user_id":4041764,"display_name":"daroubaozi"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1576249741,"creation_date":1576249741,"answer_id":59325186,"question_id":35520337,"body_markdown":"select `Help -&gt; Edit Custom VM Options` add below:\r\n\r\n```\r\n-Dhttp.proxyHost\r\n-Dhttp.proxyPort\r\n-Dhttps.proxyHost\r\n-Dhttps.proxyPort\r\n-DsocksProxyHost\r\n-DsocksProxyPort\r\n```","title":"How to remove JVM property &quot;https.proxyHost&quot;?","body":"<p>select <code>Help -&gt; Edit Custom VM Options</code> add below:</p>\n\n<pre><code>-Dhttp.proxyHost\n-Dhttp.proxyPort\n-Dhttps.proxyHost\n-Dhttps.proxyPort\n-DsocksProxyHost\n-DsocksProxyPort\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3398030,"reputation":194,"user_id":2851067,"display_name":"paperhs"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1585298253,"creation_date":1585298253,"answer_id":60882467,"question_id":35520337,"body_markdown":"on Mac:\r\ngoto System Preferences, Java -&gt; open java control pan -&gt; general -&gt; Network Settings -&gt; choose &#39;Direct Connection&#39;\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/leQPS.png","title":"How to remove JVM property &quot;https.proxyHost&quot;?","body":"<p>on Mac:\ngoto System Preferences, Java -> open java control pan -> general -> Network Settings -> choose 'Direct Connection'\n<a href=\"https://i.stack.imgur.com/leQPS.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/leQPS.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":21404223,"reputation":21,"user_id":15765728,"display_name":"Mr.LongFace"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1619515055,"creation_date":1619515055,"answer_id":67280261,"question_id":35520337,"body_markdown":"This is caused by switching agents on and off many times. Under Mac: Open the 〜/.gradle/gradle.properties file and delete the agent configuration manually.","title":"How to remove JVM property &quot;https.proxyHost&quot;?","body":"<p>This is caused by switching agents on and off many times. Under Mac: Open the 〜/.gradle/gradle.properties file and delete the agent configuration manually.</p>\n"},{"tags":[],"owner":{"account_id":7311414,"reputation":536,"user_id":5570447,"display_name":"resatz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685695497,"creation_date":1685695497,"answer_id":76388564,"question_id":35520337,"body_markdown":"On Mac , Go to **System Settings** -&gt; **Network** -&gt; **Proxies**\r\n\r\n[![enter image description here][1]][1]\r\n\r\nMake sure all these (HTTP,HTTPS,SOCKS) are cleared &amp; Off, Set proxy in your **IntellIJ**\r\n\r\n  [1]: https://i.stack.imgur.com/bQVjS.png","title":"How to remove JVM property &quot;https.proxyHost&quot;?","body":"<p>On Mac , Go to <strong>System Settings</strong> -&gt; <strong>Network</strong> -&gt; <strong>Proxies</strong></p>\n<p><a href=\"https://i.stack.imgur.com/bQVjS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bQVjS.png\" alt=\"enter image description here\" /></a></p>\n<p>Make sure all these (HTTP,HTTPS,SOCKS) are cleared &amp; Off, Set proxy in your <strong>IntellIJ</strong></p>\n"}],"owner":{"account_id":5525795,"reputation":4579,"user_id":4578454,"accept_rate":45,"display_name":"silverFoxA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29432,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":37704444,"answer_count":7,"score":21,"last_activity_date":1685695497,"creation_date":1455952696,"question_id":35520337,"body_markdown":"I was using proxy on my system for some purpose. But now I don&#39;t have any proxy set on my system as well as from the Android Studio proxy settings I have removed the proxy and set it to no proxy.\r\n\r\nBut I keep getting the following error:\r\n\r\n&gt; You have JVM property &quot;https.proxyHost&quot; set to .... This may lead to \r\n&gt; incorrect behavior. Proxy should be set in Settings|HTTP Proxy\r\n\r\nAs well when I try to build/sync the Gradle file without proxy server the files doesn&#39;t get compiled and says please check your network connection where I have internet connection.\r\n\r\n","title":"How to remove JVM property &quot;https.proxyHost&quot;?","body":"<p>I was using proxy on my system for some purpose. But now I don't have any proxy set on my system as well as from the Android Studio proxy settings I have removed the proxy and set it to no proxy.</p>\n\n<p>But I keep getting the following error:</p>\n\n<blockquote>\n  <p>You have JVM property \"https.proxyHost\" set to .... This may lead to \n  incorrect behavior. Proxy should be set in Settings|HTTP Proxy</p>\n</blockquote>\n\n<p>As well when I try to build/sync the Gradle file without proxy server the files doesn't get compiled and says please check your network connection where I have internet connection.</p>\n"},{"tags":["java","android","android-xml"],"owner":{"account_id":28516544,"reputation":1,"user_id":21825823,"display_name":"HuettenaTHOR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685695193,"creation_date":1685695193,"question_id":76388528,"body_markdown":"I tried to implement an XYPlot in a Fragment of my Android App. However the app&#39;s design is white while the default background color of the graph is black. \r\n\r\nI&#39;ve tried to change the color to White in the XML file as well as from code but the graph remains black.[it always looks like this](https://i.stack.imgur.com/m1lQ1.jpg)\r\n\r\nThis is my XML-file\r\n\r\n\r\n```\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@android:color/transparent&quot;\r\n    tools:context=&quot;.OverviewFragment&quot;&gt;\r\n\r\n    &lt;com.androidplot.xy.XYPlot\r\n        android:id=&quot;@+id/plt_graph&quot;\r\n        style=&quot;@style/APDefacto.Dark&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_marginStart=&quot;25dp&quot;\r\n        android:layout_marginTop=&quot;25dp&quot;\r\n        android:layout_marginEnd=&quot;25dp&quot;\r\n        android:layout_marginBottom=&quot;25dp&quot;\r\n        android:background=&quot;#00FFFFFF&quot;\r\n        app:backgroundColor=&quot;#00FFFFFF&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/linearLayout4&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n\r\nand this is what I&#39;ve tried to change it from code. Note, that I am in a Fragment and not in an Activity.\r\n```View view = inflater.inflate(R.layout.fragment_overview, container, false);\r\n\r\n        XYPlot plot = (XYPlot) view.findViewById(R.id.plt_graph);\r\n        Button btShowHealthGraph = (Button) view.findViewById(R.id.btHealthIndex);\r\n        Paint color = new Paint();\r\n        color.setColor(Color.WHITE);\r\n        plot.getGraph().setBackgroundPaint(color);\r\n        plot.getGraph().setGridBackgroundPaint(color);\r\n```","title":"XYPlot change default background color to white","body":"<p>I tried to implement an XYPlot in a Fragment of my Android App. However the app's design is white while the default background color of the graph is black.</p>\n<p>I've tried to change the color to White in the XML file as well as from code but the graph remains black.<a href=\"https://i.stack.imgur.com/m1lQ1.jpg\" rel=\"nofollow noreferrer\">it always looks like this</a></p>\n<p>This is my XML-file</p>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@android:color/transparent&quot;\n    tools:context=&quot;.OverviewFragment&quot;&gt;\n\n    &lt;com.androidplot.xy.XYPlot\n        android:id=&quot;@+id/plt_graph&quot;\n        style=&quot;@style/APDefacto.Dark&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:layout_marginStart=&quot;25dp&quot;\n        android:layout_marginTop=&quot;25dp&quot;\n        android:layout_marginEnd=&quot;25dp&quot;\n        android:layout_marginBottom=&quot;25dp&quot;\n        android:background=&quot;#00FFFFFF&quot;\n        app:backgroundColor=&quot;#00FFFFFF&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/linearLayout4&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>and this is what I've tried to change it from code. Note, that I am in a Fragment and not in an Activity.</p>\n<pre><code>\n        XYPlot plot = (XYPlot) view.findViewById(R.id.plt_graph);\n        Button btShowHealthGraph = (Button) view.findViewById(R.id.btHealthIndex);\n        Paint color = new Paint();\n        color.setColor(Color.WHITE);\n        plot.getGraph().setBackgroundPaint(color);\n        plot.getGraph().setGridBackgroundPaint(color);\n</code></pre>\n"},{"tags":["java","spring-boot","swagger","openapi-generator"],"comments":[{"owner":{"account_id":116006,"reputation":1011,"user_id":304364,"accept_rate":93,"display_name":"Andrea Polci"},"score":0,"creation_date":1675691300,"post_id":70762739,"comment_id":132977383,"body_markdown":"Did you ever found an answer to how to add the accept parameter? I run into the exact same problem.","body":"Did you ever found an answer to how to add the accept parameter? I run into the exact same problem."},{"owner":{"account_id":11503033,"reputation":81,"user_id":8430221,"display_name":"Vladimir Kravtsov"},"score":0,"creation_date":1697745878,"post_id":70762739,"comment_id":136322011,"body_markdown":"Did you ever find the solution? Second answer showed how to add header in config but would it allow to set runtime calculated value for this header?","body":"Did you ever find the solution? Second answer showed how to add header in config but would it allow to set runtime calculated value for this header?"}],"answers":[{"tags":[],"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642542961,"creation_date":1642542961,"answer_id":70762885,"question_id":70762739,"body_markdown":"As mentioned at [swagger Docs](https://swagger.io/docs/specification/describing-parameters/) this can be done using `header` like the following \r\n\r\n```yaml\r\npaths:\r\n  /ping:\r\n    get:\r\n      summary: Checks if the server is alive\r\n      parameters:\r\n        - in: header\r\n          name: X-Request-ID\r\n          schema:\r\n            type: string\r\n            format: uuid\r\n          required: true\r\n```\r\n\r\nIn a similar way, you can define custom response headers. Header parameter can be primitives, arrays and objects. Arrays and objects are serialized using the simple style. \r\n\r\nNote: Header parameters named Accept, Content-Type and Authorization are not allowed. To describe these headers, use the corresponding OpenAPI keywords:","title":"How to add requestHeader to the generated interface with openapi-generator-maven-plugin","body":"<p>As mentioned at <a href=\"https://swagger.io/docs/specification/describing-parameters/\" rel=\"nofollow noreferrer\">swagger Docs</a> this can be done using <code>header</code> like the following</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>paths:\n  /ping:\n    get:\n      summary: Checks if the server is alive\n      parameters:\n        - in: header\n          name: X-Request-ID\n          schema:\n            type: string\n            format: uuid\n          required: true\n</code></pre>\n<p>In a similar way, you can define custom response headers. Header parameter can be primitives, arrays and objects. Arrays and objects are serialized using the simple style.</p>\n<p>Note: Header parameters named Accept, Content-Type and Authorization are not allowed. To describe these headers, use the corresponding OpenAPI keywords:</p>\n"},{"tags":[],"owner":{"account_id":2683838,"reputation":71,"user_id":2318605,"display_name":"DavidoVitch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685694975,"creation_date":1685694975,"answer_id":76388503,"question_id":70762739,"body_markdown":"I dig up this topic, I used this plugin too, and I added a header for authentication, because I added springboot security\r\nand on version 1.4 we can set headers directly in the plugin\r\n\r\n\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n        &lt;artifactId&gt;springdoc-openapi-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;integration-test&lt;/id&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;generate&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;configuration&gt;\r\n          &lt;apiDocsUrl&gt;http://localhost:8080/v3/api-docs/spring-public&lt;/apiDocsUrl&gt;\r\n          &lt;outputFileName&gt;openapi.json&lt;/outputFileName&gt;\r\n          &lt;outputDir&gt;target/springdoc/maven-output&lt;/outputDir&gt;\r\n          &lt;skip&gt;false&lt;/skip&gt;\r\n          &lt;headers&gt;\r\n            &lt;Authorization&gt;Basic dXNlcjpwYXNzd29yZA==&lt;/Authorization&gt;\r\n          &lt;/headers&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;","title":"How to add requestHeader to the generated interface with openapi-generator-maven-plugin","body":"<p>I dig up this topic, I used this plugin too, and I added a header for authentication, because I added springboot security\nand on version 1.4 we can set headers directly in the plugin</p>\n<pre><code>  &lt;plugin&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.4&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;integration-test&lt;/id&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;generate&lt;/goal&gt;\n        &lt;/goals&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n      &lt;apiDocsUrl&gt;http://localhost:8080/v3/api-docs/spring-public&lt;/apiDocsUrl&gt;\n      &lt;outputFileName&gt;openapi.json&lt;/outputFileName&gt;\n      &lt;outputDir&gt;target/springdoc/maven-output&lt;/outputDir&gt;\n      &lt;skip&gt;false&lt;/skip&gt;\n      &lt;headers&gt;\n        &lt;Authorization&gt;Basic dXNlcjpwYXNzd29yZA==&lt;/Authorization&gt;\n      &lt;/headers&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":2919038,"reputation":473,"user_id":2501711,"display_name":"user2501711"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5165,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70762885,"answer_count":2,"score":2,"last_activity_date":1685694975,"creation_date":1642542184,"question_id":70762739,"body_markdown":"I am using `openapi-generator-maven-plugin` to generate the server code for a springboot application.\r\n\r\nHowever I can&#39;t figure out a easy way to generate the `@RequestHeader(&quot;header&quot;)` in the interface.\r\n\r\nHere is the plugin configuration:\r\n```\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;!-- RELEASE_VERSION --&gt;\r\n\t\t\t\t&lt;version&gt;5.1.0&lt;/version&gt;\r\n\t\t\t\t&lt;!-- /RELEASE_VERSION --&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;inputSpec&gt;${project.basedir}/src/main/resources/spec/api.yaml&lt;/inputSpec&gt;\r\n\t\t\t\t\t\t\t&lt;generatorName&gt;spring&lt;/generatorName&gt;\r\n\t\t\t\t\t\t\t&lt;apiPackage&gt;my.api&lt;/apiPackage&gt;\r\n\t\t\t\t\t\t\t&lt;modelPackage&gt;my.models&lt;/modelPackage&gt;\r\n\t\t\t\t\t\t\t&lt;configOptions&gt;\r\n\t\t\t\t\t\t\t\t&lt;delegatePattern&gt;false&lt;/delegatePattern&gt;\r\n\t\t\t\t\t\t\t\t&lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\r\n\t\t\t\t\t\t\t\t&lt;useTags&gt;true&lt;/useTags&gt;\r\n                &lt;useOptional&gt;true&lt;/useOptional&gt;\r\n\t\t\t\t\t\t\t&lt;/configOptions&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n```\r\nAPI spec:\r\n```\r\n    get:\r\n      tags:\r\n        - template\r\n      summary: find template by template name\r\n      description: returns single template\r\n      operationId: getTemplateByName\r\n      parameters:\r\n        - name: bucket\r\n          in: path\r\n          description: location\r\n          required: true\r\n          schema:\r\n            type: string\r\n        - name: templateName\r\n          in: path\r\n          description: the name of the template\r\n          required: true\r\n          schema:\r\n            type: string\r\n      responses:\r\n        200:\r\n          description: successful operation\r\n          content:\r\n            multipart/mixed:\r\n              schema:\r\n                type: object\r\n            application/json:\r\n              schema:\r\n                $ref: &#39;#/components/schemas/Template&#39;\r\n        400:\r\n          description: Invalid input\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: &#39;#/components/schemas/Error&#39;\r\n        404:\r\n          description: template not found\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: &#39;#/components/schemas/Error&#39;\r\n```\r\nThe generated interface:\r\n```\r\n@ApiOperation(value = &quot;find template by template name&quot;, nickname = &quot;getTemplateByName&quot;, notes = &quot;returns single template&quot;, response = Object.class, tags={ &quot;template&quot;, })\r\n    @ApiResponses(value = { \r\n        @ApiResponse(code = 200, message = &quot;successful operation&quot;, response = Object.class),\r\n        @ApiResponse(code = 400, message = &quot;Invalid input&quot;, response = Error.class),\r\n        @ApiResponse(code = 404, message = &quot;template not found&quot;, response = Error.class) })\r\n    @ApiImplicitParams({\r\n    })\r\n    @GetMapping(\r\n        value = &quot;/bu/{bucket}/templates/{templateName}&quot;,\r\n        produces = { &quot;multipart/mixed&quot;, &quot;application/json&quot; }\r\n    )\r\n    default ResponseEntity&lt;Object&gt; getTemplateByName(@ApiParam(value = &quot;location&quot;,required=true) @PathVariable(&quot;bucket&quot;) String bucket,@ApiParam(value = &quot;the name of the template&quot;,required=true) @PathVariable(&quot;templateName&quot;) String templateName) {\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_IMPLEMENTED);\r\n\r\n    }\r\n```\r\n\r\nHow to add @RequestHeader to the interface? or is there a way it can generate the httprequest in the interface?\r\n\r\n","title":"How to add requestHeader to the generated interface with openapi-generator-maven-plugin","body":"<p>I am using <code>openapi-generator-maven-plugin</code> to generate the server code for a springboot application.</p>\n<p>However I can't figure out a easy way to generate the <code>@RequestHeader(&quot;header&quot;)</code> in the interface.</p>\n<p>Here is the plugin configuration:</p>\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n                &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n                &lt;!-- RELEASE_VERSION --&gt;\n                &lt;version&gt;5.1.0&lt;/version&gt;\n                &lt;!-- /RELEASE_VERSION --&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;inputSpec&gt;${project.basedir}/src/main/resources/spec/api.yaml&lt;/inputSpec&gt;\n                            &lt;generatorName&gt;spring&lt;/generatorName&gt;\n                            &lt;apiPackage&gt;my.api&lt;/apiPackage&gt;\n                            &lt;modelPackage&gt;my.models&lt;/modelPackage&gt;\n                            &lt;configOptions&gt;\n                                &lt;delegatePattern&gt;false&lt;/delegatePattern&gt;\n                                &lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\n                                &lt;useTags&gt;true&lt;/useTags&gt;\n                &lt;useOptional&gt;true&lt;/useOptional&gt;\n                            &lt;/configOptions&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>API spec:</p>\n<pre><code>    get:\n      tags:\n        - template\n      summary: find template by template name\n      description: returns single template\n      operationId: getTemplateByName\n      parameters:\n        - name: bucket\n          in: path\n          description: location\n          required: true\n          schema:\n            type: string\n        - name: templateName\n          in: path\n          description: the name of the template\n          required: true\n          schema:\n            type: string\n      responses:\n        200:\n          description: successful operation\n          content:\n            multipart/mixed:\n              schema:\n                type: object\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Template'\n        400:\n          description: Invalid input\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        404:\n          description: template not found\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n</code></pre>\n<p>The generated interface:</p>\n<pre><code>@ApiOperation(value = &quot;find template by template name&quot;, nickname = &quot;getTemplateByName&quot;, notes = &quot;returns single template&quot;, response = Object.class, tags={ &quot;template&quot;, })\n    @ApiResponses(value = { \n        @ApiResponse(code = 200, message = &quot;successful operation&quot;, response = Object.class),\n        @ApiResponse(code = 400, message = &quot;Invalid input&quot;, response = Error.class),\n        @ApiResponse(code = 404, message = &quot;template not found&quot;, response = Error.class) })\n    @ApiImplicitParams({\n    })\n    @GetMapping(\n        value = &quot;/bu/{bucket}/templates/{templateName}&quot;,\n        produces = { &quot;multipart/mixed&quot;, &quot;application/json&quot; }\n    )\n    default ResponseEntity&lt;Object&gt; getTemplateByName(@ApiParam(value = &quot;location&quot;,required=true) @PathVariable(&quot;bucket&quot;) String bucket,@ApiParam(value = &quot;the name of the template&quot;,required=true) @PathVariable(&quot;templateName&quot;) String templateName) {\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_IMPLEMENTED);\n\n    }\n</code></pre>\n<p>How to add @RequestHeader to the interface? or is there a way it can generate the httprequest in the interface?</p>\n"},{"tags":["java","spring-boot","spring-cloud","aws-parameter-store"],"owner":{"account_id":28734550,"reputation":1,"user_id":22005804,"display_name":"ChangSeok"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685694637,"creation_date":1685694516,"question_id":76388452,"body_markdown":"Spring Boot does not work with AWS parameter store.\r\nIn the AWS parameter store I have set the name /test/security/jdbc.passwd and the value is asdf1234 .\r\nOn the /test page, I want to output asdf1234, the value of jdbc.passwd stored in AWS Parameter Store.\r\nI would really appreciate it so much if you could tell me how to solve it\r\n\r\n\r\nerror that occurs\r\n```\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n[2m2023-06-02T17:14:41.197+09:00[0;39m [31mERROR[0;39m [35m8244[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.boot.SpringApplication              [0;39m [2m:[0;39m Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;infoController&#39;: Injection of autowired dependencies failed\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:488) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-6.0.9.jar:6.0\r\n```\r\n\r\n\r\n```\r\napplication.yml\r\n\r\nserver:\r\n     port: 8001\r\n\r\nspring:\r\n datasource:\r\n     driver-class-name: com.mysql.cj.jdbc.Driver\r\n     url: jdbc:mysql://localhost:3306/world?serverTimeZone=UTC&amp;CharacterEncoding=UTF-8\r\n     username: username\r\n     password: passwd\r\n     \r\naws:\r\n  paramstore:\r\n    enabled: true\r\n    prefix: /test\r\n    name: security\r\n    profile-separator: _\r\n```\r\n```\r\nInfoController.java\r\n\r\npackage com.chase.test.pssb.info;\r\n\r\nimport java.util.Date;\r\nimport java.util.List;\r\n\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.chase.test.pssb.info.model.City;\r\nimport com.chase.test.pssb.info.model.Project;\r\n\r\n\r\n@RestController\r\npublic class InfoController {\r\n\t\r\n\t@Value(&quot;${jdbc.passwd}&quot;)\r\n\tprivate String passwd;\r\n\t\r\n\t@GetMapping(&quot;/info&quot;)\r\n\tpublic Object projectInfo() {\r\n\t\tProject project = new Project();\r\n\t\tproject.projectName = &quot;preword&quot;;\r\n\t\tproject.author = &quot;hello-bryan&quot;;\r\n\t\tproject.createdDate = new Date();\r\n\t\treturn project;\r\n\t}\r\n\r\n\t@GetMapping(&quot;/cityList&quot;)\r\n\tpublic Object cityList() {\r\n\t\tList&lt;City&gt; cityList = InfoService.getCityList();\r\n\t\treturn cityList;\r\n\t}\r\n\t\r\n\t@GetMapping(&quot;/test&quot;)\r\n    public String getJdbcPasswd() {\r\n        return passwd;\r\n    }\r\n}\r\n```\r\n```\r\nbuild.gradle\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;3.1.0&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n\tid &#39;groovy&#39;\r\n}\r\n\r\ngroup = &#39;com.pssb&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;17&#39;\r\n\r\nconfigurations {\r\n\tcompileOnly {\r\n\t\textendsFrom annotationProcessor\r\n\t}\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\next {\r\n\tset(&#39;awsSpringVersion&#39;, &#39;3.0.0&#39;)\r\n}\r\n  \r\ndependencyManagement {\r\n\timports {\r\n\t  mavenBom &quot;io.awspring.cloud:spring-cloud-aws-dependencies:${awsSpringVersion}&quot;\r\n\t}\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\timplementation &#39;org.mybatis.spring.boot:mybatis-spring-boot-starter:3.0.2&#39;\r\n\timplementation &#39;org.projectlombok:lombok&#39;\r\n\tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n\truntimeOnly &#39;com.mysql:mysql-connector-j&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\timplementation &#39;org.apache.groovy:groovy:4.0.11&#39;\r\n\timplementation &#39;com.mysql:mysql-connector-j:8.0.33&#39;\r\n\t//database\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-jdbc&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-jdbc&#39;\r\n\t//AWS\r\n\timplementation &#39;org.springframework.cloud:spring-cloud-starter-aws-parameter-store-config:2.2.6.RELEASE&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n```\r\n\r\n\r\nAn error occurred and the value of the AWS parameter store could not be loaded.","title":"How to integrate Spring Boot with AWS parameter store","body":"<p>Spring Boot does not work with AWS parameter store.\nIn the AWS parameter store I have set the name /test/security/jdbc.passwd and the value is asdf1234 .\nOn the /test page, I want to output asdf1234, the value of jdbc.passwd stored in AWS Parameter Store.\nI would really appreciate it so much if you could tell me how to solve it</p>\n<p>error that occurs</p>\n<pre><code>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n[2m2023-06-02T17:14:41.197+09:00[0;39m [31mERROR[0;39m [35m8244[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.boot.SpringApplication              [0;39m [2m:[0;39m Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'infoController': Injection of autowired dependencies failed\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:488) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-6.0.9.jar:6.0\n</code></pre>\n<pre><code>application.yml\n\nserver:\n     port: 8001\n\nspring:\n datasource:\n     driver-class-name: com.mysql.cj.jdbc.Driver\n     url: jdbc:mysql://localhost:3306/world?serverTimeZone=UTC&amp;CharacterEncoding=UTF-8\n     username: username\n     password: passwd\n     \naws:\n  paramstore:\n    enabled: true\n    prefix: /test\n    name: security\n    profile-separator: _\n</code></pre>\n<pre><code>InfoController.java\n\npackage com.chase.test.pssb.info;\n\nimport java.util.Date;\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.chase.test.pssb.info.model.City;\nimport com.chase.test.pssb.info.model.Project;\n\n\n@RestController\npublic class InfoController {\n    \n    @Value(&quot;${jdbc.passwd}&quot;)\n    private String passwd;\n    \n    @GetMapping(&quot;/info&quot;)\n    public Object projectInfo() {\n        Project project = new Project();\n        project.projectName = &quot;preword&quot;;\n        project.author = &quot;hello-bryan&quot;;\n        project.createdDate = new Date();\n        return project;\n    }\n\n    @GetMapping(&quot;/cityList&quot;)\n    public Object cityList() {\n        List&lt;City&gt; cityList = InfoService.getCityList();\n        return cityList;\n    }\n    \n    @GetMapping(&quot;/test&quot;)\n    public String getJdbcPasswd() {\n        return passwd;\n    }\n}\n</code></pre>\n<pre><code>build.gradle\nplugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.1.0'\n    id 'io.spring.dependency-management' version '1.1.0'\n    id 'groovy'\n}\n\ngroup = 'com.pssb'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\next {\n    set('awsSpringVersion', '3.0.0')\n}\n  \ndependencyManagement {\n    imports {\n      mavenBom &quot;io.awspring.cloud:spring-cloud-aws-dependencies:${awsSpringVersion}&quot;\n    }\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.mybatis.spring.boot:mybatis-spring-boot-starter:3.0.2'\n    implementation 'org.projectlombok:lombok'\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    runtimeOnly 'com.mysql:mysql-connector-j'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    implementation 'org.apache.groovy:groovy:4.0.11'\n    implementation 'com.mysql:mysql-connector-j:8.0.33'\n    //database\n    implementation 'org.springframework.boot:spring-boot-starter-jdbc'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    implementation 'org.springframework.boot:spring-boot-starter-jdbc'\n    //AWS\n    implementation 'org.springframework.cloud:spring-cloud-starter-aws-parameter-store-config:2.2.6.RELEASE'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>An error occurred and the value of the AWS parameter store could not be loaded.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":2218,"reputation":16624,"user_id":3050,"accept_rate":95,"display_name":"Paul Whelan"},"score":0,"creation_date":1685693227,"post_id":76388239,"comment_id":134699560,"body_markdown":"A link to the problem trying to be solved https://leetcode.com/problems/3sum/","body":"A link to the problem trying to be solved <a href=\"https://leetcode.com/problems/3sum/\" rel=\"nofollow noreferrer\">leetcode.com/problems/3sum</a>"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1685693843,"post_id":76388239,"comment_id":134699683,"body_markdown":"The easiest way of starting to debug something like this, is understanding the error.  ArrayIndexOutOfBoundsException: Index 6 out of bounds for length 6  =&gt; this means you are trying to access the 7th (indices are 0 based) element of an array or collection that only has 6 elements","body":"The easiest way of starting to debug something like this, is understanding the error.  ArrayIndexOutOfBoundsException: Index 6 out of bounds for length 6  =&gt; this means you are trying to access the 7th (indices are 0 based) element of an array or collection that only has 6 elements"}],"answers":[{"tags":[],"owner":{"account_id":7879809,"reputation":610,"user_id":5954248,"display_name":"Nilupul Heshan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685693708,"creation_date":1685693708,"answer_id":76388358,"question_id":76388239,"body_markdown":"A error in the condition for increasing the R pointer is probably what is generating the ArrayIndexOutOfBoundsException in your code. R-=1 should be used instead of R+=1 to move the pointer to the left.\r\n\r\nThe updated code is as follows:\r\n\r\n   \r\n\r\n    class Solution {\r\n        public List&lt;List&lt;Integer&gt;&gt; threeSum(int[] nums) {\r\n            Arrays.sort(nums);\r\n            List&lt;List&lt;Integer&gt;&gt; ans = new ArrayList&lt;&gt;();\r\n            for (int i = 0; i &lt;= nums.length - 3; i++) {\r\n                if (i == 0 || nums[i] != nums[i - 1]) {\r\n                    int L = i + 1;\r\n                    int R = nums.length - 1;\r\n                    int target = 0 - nums[i];\r\n                    while (L &lt; R) {\r\n                        if (nums[L] + nums[R] == target) {\r\n                            List&lt;Integer&gt; temp = new ArrayList&lt;&gt;();\r\n                            temp.add(nums[i]);\r\n                            temp.add(nums[L]);\r\n                            temp.add(nums[R]);\r\n                            ans.add(temp);\r\n                            while (L &lt; nums.length - 1 &amp;&amp; nums[L] == nums[L + 1]) L++;\r\n                            while (R &gt; 0 &amp;&amp; nums[R] == nums[R - 1]) R--;\r\n                            L++;\r\n                            R--;\r\n                        } else if (nums[L] + nums[R] &lt; target) {\r\n                            L += 1;\r\n                        } else {\r\n                            R -= 1;  // Fix the typo here\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return ans;\r\n        }\r\n    }\r\n\r\n\r\n","title":"Why does my 2 pointers approach to solve the 3 sum problem on LeetCode throw an index out of bounds error?","body":"<p>A error in the condition for increasing the R pointer is probably what is generating the ArrayIndexOutOfBoundsException in your code. R-=1 should be used instead of R+=1 to move the pointer to the left.</p>\n<p>The updated code is as follows:</p>\n<pre><code>class Solution {\n    public List&lt;List&lt;Integer&gt;&gt; threeSum(int[] nums) {\n        Arrays.sort(nums);\n        List&lt;List&lt;Integer&gt;&gt; ans = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt;= nums.length - 3; i++) {\n            if (i == 0 || nums[i] != nums[i - 1]) {\n                int L = i + 1;\n                int R = nums.length - 1;\n                int target = 0 - nums[i];\n                while (L &lt; R) {\n                    if (nums[L] + nums[R] == target) {\n                        List&lt;Integer&gt; temp = new ArrayList&lt;&gt;();\n                        temp.add(nums[i]);\n                        temp.add(nums[L]);\n                        temp.add(nums[R]);\n                        ans.add(temp);\n                        while (L &lt; nums.length - 1 &amp;&amp; nums[L] == nums[L + 1]) L++;\n                        while (R &gt; 0 &amp;&amp; nums[R] == nums[R - 1]) R--;\n                        L++;\n                        R--;\n                    } else if (nums[L] + nums[R] &lt; target) {\n                        L += 1;\n                    } else {\n                        R -= 1;  // Fix the typo here\n                    }\n                }\n            }\n        }\n        return ans;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20898652,"reputation":23,"user_id":15352230,"display_name":"Amresh Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76388358,"answer_count":1,"score":0,"last_activity_date":1685693708,"creation_date":1685692838,"question_id":76388239,"body_markdown":"```\r\nclass Solution {\r\n    public List&lt;List&lt;Integer&gt;&gt; threeSum(int[] nums) {\r\n        Arrays.sort(nums);\r\n        List&lt;List&lt;Integer&gt;&gt; ans = new ArrayList&lt;&gt;();     \r\n        for(int i=0;i&lt;=nums.length-3;i++){\r\n            if(i==0 || nums[i]!=nums[i-1]){\r\n                int L=i+1;\r\n                int R = nums.length-1;\r\n                int target = 0-(nums[i]);\r\n                while(L&lt;R){ \r\n                    if(nums[L]+nums[R]==target){\r\n                        List&lt;Integer&gt; temp = new ArrayList&lt;&gt;();\r\n                        temp.add(nums[i]);\r\n                        temp.add(nums[L]);\r\n                        temp.add(nums[R]);\r\n                        ans.add(temp);\r\n                        while(L&lt;nums.length-1 &amp;&amp; nums[L]==nums[L+1]) L++;\r\n                        while(R&gt;0 &amp;&amp; nums[R]==nums[R-1]) R--;\r\n                        L++;\r\n                        R--;\r\n                    }else if(nums[L]+nums[R]&lt;target){\r\n                        L+=1;\r\n                    }else{\r\n                        R+=1;\r\n                    }\r\n                }    \r\n            }\r\n        }\r\n    return ans;    \r\n    }\r\n# }\r\n```\r\n\r\n---\r\ntrying to solve the 3 sum problem of leetcode with 2 pointers approach . I am getting java.lang.ArrayIndexOutOfBoundsException: Index 6 out of bounds for length 6 at \r\nif(nums[L]+nums[R]==target){\r\n\r\n\r\n\r\n\r\n\r\n","title":"Why does my 2 pointers approach to solve the 3 sum problem on LeetCode throw an index out of bounds error?","body":"<pre><code>class Solution {\n    public List&lt;List&lt;Integer&gt;&gt; threeSum(int[] nums) {\n        Arrays.sort(nums);\n        List&lt;List&lt;Integer&gt;&gt; ans = new ArrayList&lt;&gt;();     \n        for(int i=0;i&lt;=nums.length-3;i++){\n            if(i==0 || nums[i]!=nums[i-1]){\n                int L=i+1;\n                int R = nums.length-1;\n                int target = 0-(nums[i]);\n                while(L&lt;R){ \n                    if(nums[L]+nums[R]==target){\n                        List&lt;Integer&gt; temp = new ArrayList&lt;&gt;();\n                        temp.add(nums[i]);\n                        temp.add(nums[L]);\n                        temp.add(nums[R]);\n                        ans.add(temp);\n                        while(L&lt;nums.length-1 &amp;&amp; nums[L]==nums[L+1]) L++;\n                        while(R&gt;0 &amp;&amp; nums[R]==nums[R-1]) R--;\n                        L++;\n                        R--;\n                    }else if(nums[L]+nums[R]&lt;target){\n                        L+=1;\n                    }else{\n                        R+=1;\n                    }\n                }    \n            }\n        }\n    return ans;    \n    }\n# }\n</code></pre>\n<hr />\n<p>trying to solve the 3 sum problem of leetcode with 2 pointers approach . I am getting java.lang.ArrayIndexOutOfBoundsException: Index 6 out of bounds for length 6 at\nif(nums[L]+nums[R]==target){</p>\n"},{"tags":["java","macos","apple-m1","grobid"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1662542924,"post_id":73633050,"comment_id":130027690,"body_markdown":"&quot;Most recent JVM version (up to JVM 11) will work correctly&quot;. Is there any particular reason you&#39;re set on using Java 8?","body":"&quot;Most recent JVM version (up to JVM 11) will work correctly&quot;. Is there any particular reason you&#39;re set on using Java 8?"},{"owner":{"account_id":14716679,"reputation":165,"user_id":12819718,"display_name":"rami_salazar"},"score":0,"creation_date":1662542999,"post_id":73633050,"comment_id":130027719,"body_markdown":"it says v8 is the supported version","body":"it says v8 is the supported version"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1662543064,"post_id":73633050,"comment_id":130027746,"body_markdown":"That quote about JVM 11 is right from the link you gave. The full quote is &quot;GROBID requires a JVM installed on your machine, supported version is JVM 8. **Most recent JVM version (up to JVM 11) will work correctly**. CRF models will also work with JVM up to 14, but using the Deep Learning with JVM beyond 11 will lead to issues.&quot; (emphasis mine)","body":"That quote about JVM 11 is right from the link you gave. The full quote is &quot;GROBID requires a JVM installed on your machine, supported version is JVM 8. <b>Most recent JVM version (up to JVM 11) will work correctly</b>. CRF models will also work with JVM up to 14, but using the Deep Learning with JVM beyond 11 will lead to issues.&quot; (emphasis mine)"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1662543100,"post_id":73633050,"comment_id":130027756,"body_markdown":"Oh, I see. You want to use a *supported* version, not one that simply *works*, correct?","body":"Oh, I see. You want to use a <i>supported</i> version, not one that simply <i>works</i>, correct?"},{"owner":{"account_id":14716679,"reputation":165,"user_id":12819718,"display_name":"rami_salazar"},"score":0,"creation_date":1662543205,"post_id":73633050,"comment_id":130027792,"body_markdown":"yes exactly !!!","body":"yes exactly !!!"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1662544594,"post_id":73633050,"comment_id":130028323,"body_markdown":"Looks like Azul provides a JRE 8 compiled for M1 (arm64) macs. Select Zulu [here](https://www.azul.com/downloads/), then play with the filters to find the correct version.","body":"Looks like Azul provides a JRE 8 compiled for M1 (arm64) macs. Select Zulu <a href=\"https://www.azul.com/downloads/\" rel=\"nofollow noreferrer\">here</a>, then play with the filters to find the correct version."},{"owner":{"account_id":238135,"reputation":3952,"user_id":506813,"display_name":"bekce"},"score":0,"creation_date":1665159645,"post_id":73633050,"comment_id":130642177,"body_markdown":"Does this answer your question? [Will x64 jdk-1.8 work in Mac with Apple Silicon (M1) Chip?](https://stackoverflow.com/questions/72769846/will-x64-jdk-1-8-work-in-mac-with-apple-silicon-m1-chip)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/72769846/will-x64-jdk-1-8-work-in-mac-with-apple-silicon-m1-chip\">Will x64 jdk-1.8 work in Mac with Apple Silicon (M1) Chip?</a>"},{"owner":{"account_id":12139977,"reputation":5614,"user_id":8864226,"display_name":"James Risner"},"score":0,"creation_date":1666022888,"post_id":73633050,"comment_id":130831641,"body_markdown":"@rami_salazar Did the comments or my answer solve your issue? If the answer helped, you can say thanks by up voting and/or checking as answered.","body":"@rami_salazar Did the comments or my answer solve your issue? If the answer helped, you can say thanks by up voting and/or checking as answered."}],"answers":[{"tags":[],"owner":{"account_id":12139977,"reputation":5614,"user_id":8864226,"display_name":"James Risner"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1662761617,"creation_date":1662761617,"answer_id":73667936,"question_id":73633050,"body_markdown":"Install Azul&#39;s M1 native JDK 8.\r\n-------------------------------\r\n\r\nYou may obtain an installer for [Java 8 (LTS)][1] . The current version is Azul Zulu: 8.64.0.19 (8u345b01) in .dmg format.\r\n\r\nOpen the disk image and install.\r\n\r\nNext you will need to set your JAVA_HOME environment variable.\r\n--------------------------------------------------------------\r\nOpen the Terminal.app and run this command:\r\n\r\n    % open .profile ; open .cshrc ; open .zshrc; open .login; open .bash_profile\r\n    The file /Users/risner/.zshrc does not exist.\r\n    The file /Users/risner/.login does not exist.\r\n\r\nIgnore any &quot;does not exist&quot; errors. You should have a couple of files open.\r\n\r\nIf you have any files called .cshrc or .login open, add this end of the file:\r\n\r\n    setenv JAVA_HOME /Library/Java/JavaVirtualMachines/zulu-8.jdk/Contents/Home/jre\r\n\r\nIf you have any .zshrc, .profile or .bash_profile open then add this line instead:\r\n\r\n    export JAVA_HOME=/Library/Java/JavaVirtualMachines/zulu-8.jdk/Contents/Home/jre\r\n\r\nNext, quit terminal and reopen. You should now be able to install `GrObId`.\r\n\r\n  [1]: https://www.azul.com/downloads/?version=java-8-lts&amp;os=macos&amp;architecture=arm-64-bit&amp;package=jdk","title":"Installing JVM 8 on Mac with M1 chip","body":"<h2>Install Azul's M1 native JDK 8.</h2>\n<p>You may obtain an installer for <a href=\"https://www.azul.com/downloads/?version=java-8-lts&amp;os=macos&amp;architecture=arm-64-bit&amp;package=jdk\" rel=\"noreferrer\">Java 8 (LTS)</a> . The current version is Azul Zulu: 8.64.0.19 (8u345b01) in .dmg format.</p>\n<p>Open the disk image and install.</p>\n<h2>Next you will need to set your JAVA_HOME environment variable.</h2>\n<p>Open the Terminal.app and run this command:</p>\n<pre><code>% open .profile ; open .cshrc ; open .zshrc; open .login; open .bash_profile\nThe file /Users/risner/.zshrc does not exist.\nThe file /Users/risner/.login does not exist.\n</code></pre>\n<p>Ignore any &quot;does not exist&quot; errors. You should have a couple of files open.</p>\n<p>If you have any files called .cshrc or .login open, add this end of the file:</p>\n<pre><code>setenv JAVA_HOME /Library/Java/JavaVirtualMachines/zulu-8.jdk/Contents/Home/jre\n</code></pre>\n<p>If you have any .zshrc, .profile or .bash_profile open then add this line instead:</p>\n<pre><code>export JAVA_HOME=/Library/Java/JavaVirtualMachines/zulu-8.jdk/Contents/Home/jre\n</code></pre>\n<p>Next, quit terminal and reopen. You should now be able to install <code>GrObId</code>.</p>\n"},{"tags":[],"owner":{"account_id":360800,"reputation":157,"user_id":4886772,"display_name":"Luca Foppiano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685693324,"creation_date":1685693324,"answer_id":76388305,"question_id":73633050,"body_markdown":"Yes, you can install the openjdk 8 and the latest version 0.7.3 also supports JDK &gt; 11. With the latest version you can install temurin 17 directly with homebrew. ","title":"Installing JVM 8 on Mac with M1 chip","body":"<p>Yes, you can install the openjdk 8 and the latest version 0.7.3 also supports JDK &gt; 11. With the latest version you can install temurin 17 directly with homebrew.</p>\n"}],"owner":{"account_id":14716679,"reputation":165,"user_id":12819718,"display_name":"rami_salazar"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7235,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1685693324,"creation_date":1662542822,"question_id":73633050,"body_markdown":"I&#39;m trying to install [GrObId][1] and it requires JVM8. Will installing [JDK][2] work for this on an M1 Mac?\r\n\r\n\r\n  [1]: https://grobid.readthedocs.io/en/latest/Install-Grobid/\r\n  [2]: https://docs.oracle.com/en/java/javase/16/install/installation-jdk-macos.html","title":"Installing JVM 8 on Mac with M1 chip","body":"<p>I'm trying to install <a href=\"https://grobid.readthedocs.io/en/latest/Install-Grobid/\" rel=\"nofollow noreferrer\">GrObId</a> and it requires JVM8. Will installing <a href=\"https://docs.oracle.com/en/java/javase/16/install/installation-jdk-macos.html\" rel=\"nofollow noreferrer\">JDK</a> work for this on an M1 Mac?</p>\n"},{"tags":["java","spring-integration","spring-integration-dsl"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685651726,"creation_date":1685651726,"answer_id":76385536,"question_id":76385338,"body_markdown":"The `MessageGroupStoreReaper` doesn&#39;t work by itself, it has to be called from a `@Scheduled` method: https://docs.spring.io/spring-integration/docs/current/reference/html/message-routing.html#reaper\r\n\r\nHowever there is a nice option for you from an aggregator perspective:\r\n\r\n\t/**\r\n\t * Perform a {@link MessageGroupStore#expireMessageGroups(long)} with the provided {@link #expireTimeout}.\r\n\t * Can be called externally at any time.\r\n\t * Internally it is called from the scheduled task with the configured {@link #expireDuration}.\r\n\t * @since 5.4\r\n\t */\r\n\tpublic void purgeOrphanedGroups() {\r\n\r\nYou just need to set that `expireTimeout &gt; 0`:\r\n\r\n\t/**\r\n\t * Configure a timeout in milliseconds for purging old orphaned groups from the store.\r\n\t * Used on startup and when an {@link #expireDuration} is provided, the task for running\r\n\t * {@link #purgeOrphanedGroups()} is scheduled with that period.\r\n\t * The {@link #forceReleaseProcessor} is used to process those expired groups according\r\n\t * the &quot;force complete&quot; options. A group can be orphaned if a persistent message group\r\n\t * store is used and no new messages arrive for that group after a restart.\r\n\t * @param expireTimeout the number of milliseconds to determine old orphaned groups in the store to purge.\r\n\t * @since 5.4\r\n\t * @see #purgeOrphanedGroups()\r\n\t */\r\n\tpublic void setExpireTimeout(long expireTimeout) {\r\n\r\nSee also docs on the matter: https://docs.spring.io/spring-integration/docs/current/reference/html/message-routing.html#aggregator-xml\r\n\r\n&gt; Starting with version 5.4, the aggregator (and resequencer) can be configured to expire orphaned groups (groups in a persistent message store that might not otherwise be released). \r\n\r\n","title":"How to send Messages after Spring Integration application restarted?","body":"<p>The <code>MessageGroupStoreReaper</code> doesn't work by itself, it has to be called from a <code>@Scheduled</code> method: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/message-routing.html#reaper\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/message-routing.html#reaper</a></p>\n<p>However there is a nice option for you from an aggregator perspective:</p>\n<pre><code>/**\n * Perform a {@link MessageGroupStore#expireMessageGroups(long)} with the provided {@link #expireTimeout}.\n * Can be called externally at any time.\n * Internally it is called from the scheduled task with the configured {@link #expireDuration}.\n * @since 5.4\n */\npublic void purgeOrphanedGroups() {\n</code></pre>\n<p>You just need to set that <code>expireTimeout &gt; 0</code>:</p>\n<pre><code>/**\n * Configure a timeout in milliseconds for purging old orphaned groups from the store.\n * Used on startup and when an {@link #expireDuration} is provided, the task for running\n * {@link #purgeOrphanedGroups()} is scheduled with that period.\n * The {@link #forceReleaseProcessor} is used to process those expired groups according\n * the &quot;force complete&quot; options. A group can be orphaned if a persistent message group\n * store is used and no new messages arrive for that group after a restart.\n * @param expireTimeout the number of milliseconds to determine old orphaned groups in the store to purge.\n * @since 5.4\n * @see #purgeOrphanedGroups()\n */\npublic void setExpireTimeout(long expireTimeout) {\n</code></pre>\n<p>See also docs on the matter: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/message-routing.html#aggregator-xml\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/message-routing.html#aggregator-xml</a></p>\n<blockquote>\n<p>Starting with version 5.4, the aggregator (and resequencer) can be configured to expire orphaned groups (groups in a persistent message store that might not otherwise be released).</p>\n</blockquote>\n"}],"owner":{"account_id":2422232,"reputation":2985,"user_id":2114952,"accept_rate":71,"display_name":"Oleksandr H"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76385536,"answer_count":1,"score":0,"last_activity_date":1685691711,"creation_date":1685649924,"question_id":76385338,"body_markdown":"I have a small Spring Integration application, I&#39;m storing messages and messaging groups in the database. Currently, I have a case when some messages/groups are waiting to be sent after group timeout, but the application restarted. And when the application started I still have messages in DB and they won&#39;t be sent. I need some configuration to send expired message group from DB or resume timer. I tried to use reaper, but it does not work as expected. My code is:\r\n```\r\n@Configuration\r\npublic class ConsumingChannelConfig {\r\n\r\n    @Bean\r\n    public DirectChannel consumingChannel() {\r\n        return new DirectChannel();\r\n    }\r\n\r\n    @Bean\r\n    public KafkaMessageDrivenChannelAdapter&lt;String, String&gt; kafkaMessageDrivenChannelAdapter() {\r\n        KafkaMessageDrivenChannelAdapter&lt;String, String&gt; kafkaMessageDrivenChannelAdapter =\r\n                new KafkaMessageDrivenChannelAdapter&lt;&gt;(kafkaListenerContainer());\r\n        kafkaMessageDrivenChannelAdapter.setOutputChannel(consumingChannel());\r\n        MessagingMessageConverter messageConverter = new MessagingMessageConverter();\r\n        messageConverter.setGenerateMessageId(true);\r\n        kafkaMessageDrivenChannelAdapter.setRecordMessageConverter(messageConverter);\r\n        return kafkaMessageDrivenChannelAdapter;\r\n    }\r\n\r\n    @Bean\r\n    public DataSource getDataSource() {\r\n        return ...;\r\n    }\r\n\r\n    @Bean\r\n    public JdbcMessageStore jdbcMessageStore() {\r\n        return new JdbcMessageStore(getDataSource());\r\n    }\r\n\r\n    @ServiceActivator(inputChannel = &quot;consumingChannel&quot;)\r\n    @Bean\r\n    public MessageHandler aggregator() {\r\n        long timeout = 10000L;\r\n        AggregatingMessageHandler aggregator =\r\n                new AggregatingMessageHandler(new DefaultAggregatingMessageGroupProcessor(),\r\n                        jdbcMessageStore());\r\n        aggregator.setOutputChannel((message, l) -&gt; {\r\n            System.out.println(&quot;MESSAGE: &quot; + message);\r\n            return true;\r\n        });\r\n        aggregator.setGroupTimeoutExpression(new ValueExpression&lt;&gt;(timeout));\r\n//        aggregator.setTaskScheduler(this.taskScheduler);\r\n        aggregator.setCorrelationStrategy(new MyCorrelationStrategy());\r\n        aggregator.setSendPartialResultOnExpiry(true);\r\n        aggregator.setExpireGroupsUponCompletion(true);\r\n        aggregator.setExpireGroupsUponTimeout(true);\r\n        aggregator.setDiscardChannel((message, timeout1) -&gt; {\r\n            System.out.println(&quot;DISCARD: &quot; + message + &quot;, timeout: &quot; + timeout1);\r\n            return true;\r\n        });\r\n        aggregator.setReleaseStrategy(new ReleaseStrategy() {\r\n            @Override\r\n            public boolean canRelease(MessageGroup group) {\r\n                return System.currentTimeMillis() - group.getTimestamp() &gt;= timeout;\r\n            }\r\n        });\r\n        return aggregator;\r\n    }\r\n\r\n    @Bean\r\n    public MessageGroupStoreReaper reaper() {\r\n        MessageGroupStoreReaper reaper = new MessageGroupStoreReaper(jdbcMessageStore());\r\n        reaper.setPhase(1);\r\n        reaper.setTimeout(2000L);\r\n        reaper.setAutoStartup(true);\r\n//        reaper.setExpireOnDestroy(true);\r\n        return reaper;\r\n    }\r\n\r\n    @Bean\r\n    public ConcurrentMessageListenerContainer&lt;String, String&gt; kafkaListenerContainer() {\r\n        ContainerProperties containerProps = new ContainerProperties(&quot;spring-integration-topic&quot;);\r\n\r\n        return new ConcurrentMessageListenerContainer&lt;&gt;(\r\n                consumerFactory(), containerProps);\r\n    }\r\n\r\n    @Bean\r\n    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs());\r\n    }\r\n\r\n    @Bean\r\n    public Map&lt;String, Object&gt; consumerConfigs() {\r\n        Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\r\n        properties.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;127.0.0.1:9092&quot;);\r\n        properties.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        properties.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        properties.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;spring-integration&quot;);\r\n        // automatically reset the offset to the earliest offset\r\n        properties.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\r\n//        DefaultKafkaHeaderMapper mapper = new DefaultKafkaHeaderMapper();\r\n        return properties;\r\n    }\r\n}\r\n```\r\n\r\n**UPD: My Solution**\r\n```\r\n@EnableScheduling\r\n@SpringBootApplication\r\npublic class SpringIntegrationExampleApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(SpringIntegrationExampleApplication.class, args);\r\n    }\r\n\r\n\r\n    @Autowired\r\n    private MessageGroupStoreReaper reaper;\r\n\r\n    @Scheduled(initialDelay = 2000, fixedDelay = Long.MAX_VALUE)\r\n    public void start() {\r\n        reaper.run();\r\n    }\r\n\r\n}\r\n```","title":"How to send Messages after Spring Integration application restarted?","body":"<p>I have a small Spring Integration application, I'm storing messages and messaging groups in the database. Currently, I have a case when some messages/groups are waiting to be sent after group timeout, but the application restarted. And when the application started I still have messages in DB and they won't be sent. I need some configuration to send expired message group from DB or resume timer. I tried to use reaper, but it does not work as expected. My code is:</p>\n<pre><code>@Configuration\npublic class ConsumingChannelConfig {\n\n    @Bean\n    public DirectChannel consumingChannel() {\n        return new DirectChannel();\n    }\n\n    @Bean\n    public KafkaMessageDrivenChannelAdapter&lt;String, String&gt; kafkaMessageDrivenChannelAdapter() {\n        KafkaMessageDrivenChannelAdapter&lt;String, String&gt; kafkaMessageDrivenChannelAdapter =\n                new KafkaMessageDrivenChannelAdapter&lt;&gt;(kafkaListenerContainer());\n        kafkaMessageDrivenChannelAdapter.setOutputChannel(consumingChannel());\n        MessagingMessageConverter messageConverter = new MessagingMessageConverter();\n        messageConverter.setGenerateMessageId(true);\n        kafkaMessageDrivenChannelAdapter.setRecordMessageConverter(messageConverter);\n        return kafkaMessageDrivenChannelAdapter;\n    }\n\n    @Bean\n    public DataSource getDataSource() {\n        return ...;\n    }\n\n    @Bean\n    public JdbcMessageStore jdbcMessageStore() {\n        return new JdbcMessageStore(getDataSource());\n    }\n\n    @ServiceActivator(inputChannel = &quot;consumingChannel&quot;)\n    @Bean\n    public MessageHandler aggregator() {\n        long timeout = 10000L;\n        AggregatingMessageHandler aggregator =\n                new AggregatingMessageHandler(new DefaultAggregatingMessageGroupProcessor(),\n                        jdbcMessageStore());\n        aggregator.setOutputChannel((message, l) -&gt; {\n            System.out.println(&quot;MESSAGE: &quot; + message);\n            return true;\n        });\n        aggregator.setGroupTimeoutExpression(new ValueExpression&lt;&gt;(timeout));\n//        aggregator.setTaskScheduler(this.taskScheduler);\n        aggregator.setCorrelationStrategy(new MyCorrelationStrategy());\n        aggregator.setSendPartialResultOnExpiry(true);\n        aggregator.setExpireGroupsUponCompletion(true);\n        aggregator.setExpireGroupsUponTimeout(true);\n        aggregator.setDiscardChannel((message, timeout1) -&gt; {\n            System.out.println(&quot;DISCARD: &quot; + message + &quot;, timeout: &quot; + timeout1);\n            return true;\n        });\n        aggregator.setReleaseStrategy(new ReleaseStrategy() {\n            @Override\n            public boolean canRelease(MessageGroup group) {\n                return System.currentTimeMillis() - group.getTimestamp() &gt;= timeout;\n            }\n        });\n        return aggregator;\n    }\n\n    @Bean\n    public MessageGroupStoreReaper reaper() {\n        MessageGroupStoreReaper reaper = new MessageGroupStoreReaper(jdbcMessageStore());\n        reaper.setPhase(1);\n        reaper.setTimeout(2000L);\n        reaper.setAutoStartup(true);\n//        reaper.setExpireOnDestroy(true);\n        return reaper;\n    }\n\n    @Bean\n    public ConcurrentMessageListenerContainer&lt;String, String&gt; kafkaListenerContainer() {\n        ContainerProperties containerProps = new ContainerProperties(&quot;spring-integration-topic&quot;);\n\n        return new ConcurrentMessageListenerContainer&lt;&gt;(\n                consumerFactory(), containerProps);\n    }\n\n    @Bean\n    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\n        return new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs());\n    }\n\n    @Bean\n    public Map&lt;String, Object&gt; consumerConfigs() {\n        Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\n        properties.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;127.0.0.1:9092&quot;);\n        properties.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        properties.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        properties.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;spring-integration&quot;);\n        // automatically reset the offset to the earliest offset\n        properties.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\n//        DefaultKafkaHeaderMapper mapper = new DefaultKafkaHeaderMapper();\n        return properties;\n    }\n}\n</code></pre>\n<p><strong>UPD: My Solution</strong></p>\n<pre><code>@EnableScheduling\n@SpringBootApplication\npublic class SpringIntegrationExampleApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringIntegrationExampleApplication.class, args);\n    }\n\n\n    @Autowired\n    private MessageGroupStoreReaper reaper;\n\n    @Scheduled(initialDelay = 2000, fixedDelay = Long.MAX_VALUE)\n    public void start() {\n        reaper.run();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1138510,"reputation":930,"user_id":1123052,"display_name":"Edgar Domingues"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685691341,"creation_date":1685691341,"answer_id":76388081,"question_id":76387501,"body_markdown":"What you want is the query to return a Skill DTO. \r\nSee how to do it here https://thorben-janssen.com/spring-data-jpa-dto-native-queries/\r\n\r\nAnother option is to return the Worker entity, and each worker has a list of Skill. ","title":"How can I include columns from a relational table inside an entity without getting &quot;missing column&quot; errors on my lists?","body":"<p>What you want is the query to return a Skill DTO.\nSee how to do it here <a href=\"https://thorben-janssen.com/spring-data-jpa-dto-native-queries/\" rel=\"nofollow noreferrer\">https://thorben-janssen.com/spring-data-jpa-dto-native-queries/</a></p>\n<p>Another option is to return the Worker entity, and each worker has a list of Skill.</p>\n"}],"owner":{"account_id":21003480,"reputation":21,"user_id":15433793,"display_name":"Melis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685691341,"creation_date":1685685748,"question_id":76387501,"body_markdown":"Say I have 3 related tables: “company”, “worker” and “skills”. A company can have many workers and the workers can have many skills. The company to worker relation is done through a company_worker_id, and the skills table has a worker_id column which store the same ID as the worker_id column in the workers table.\r\n\r\nGreat, now I would like to create a list on the frontend that shows a list of workers and their skills when a company is picked.\r\n\r\nSo first I create a public interface that extends to the skills entity and joins all three tables\r\n\r\n    public interface SkillRepository extends JpaRepository&lt;Skills, UUID&gt; {\r\n    @Query(nativeQuery = true, value = &quot;&quot;&quot;\r\n                        select\r\n                            UUID() id,\r\n                            s.*,\r\n                            w.name worker_name\r\n                        from\r\n                            worker w\r\n                            INNER JOIN skills s ON w.id = s.worker_id\r\n                        where\r\n                           w.id = s.worker_id\r\n                           AND w.company_id = :companyId\r\n            &quot;&quot;&quot;)\r\n    List&lt;skills&gt; getSkillsAndWorkers(UUID companyId);\r\n    }\r\n\r\nGreat.\r\n\r\nNow here comes the tricky part. In order for worker_name to show up when I output the data on the frontend, I need to add it as a column in the skills entity file, like so:\r\n\r\n    @Entity \r\n    @Table(name = &quot;skills&quot;) \r\n    @public class Skills {\r\n        @Id\r\n        @GeneratedValue(generator = &quot;UUID&quot;)\r\n        @GenericGenerator(name = &quot;UUID&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\r\n        @Column(name = &quot;id&quot;)\r\n        private UUID id;\r\n        \r\n        @Column(name = &quot;worker_id&quot;)\r\n        private UUID workerId;\r\n        \r\n        @Column(name = &quot;worker_name&quot;)\r\n        private String workerName;\r\n    }\r\n\r\nThis of course works, BUT the skills entity is used for other lists in the system, so when I add worker_name to that file, the other lists will crash and I will get a warning that the column “worker_name” is missing, which is obvious because it is not used in any other lists than the one which is using the “getSkillsAndWorkers” query.\r\n\r\nI know that I COULD just do an inner join and add worker_name to every other query I have in the system, but there must be a different way to handle this.\r\n\r\nSo my question is: How can I include the worker_name column from the worker entity inside the skills entity without messing up every other list in the system that uses the skills entity without the worker data?","title":"How can I include columns from a relational table inside an entity without getting &quot;missing column&quot; errors on my lists?","body":"<p>Say I have 3 related tables: “company”, “worker” and “skills”. A company can have many workers and the workers can have many skills. The company to worker relation is done through a company_worker_id, and the skills table has a worker_id column which store the same ID as the worker_id column in the workers table.</p>\n<p>Great, now I would like to create a list on the frontend that shows a list of workers and their skills when a company is picked.</p>\n<p>So first I create a public interface that extends to the skills entity and joins all three tables</p>\n<pre><code>public interface SkillRepository extends JpaRepository&lt;Skills, UUID&gt; {\n@Query(nativeQuery = true, value = &quot;&quot;&quot;\n                    select\n                        UUID() id,\n                        s.*,\n                        w.name worker_name\n                    from\n                        worker w\n                        INNER JOIN skills s ON w.id = s.worker_id\n                    where\n                       w.id = s.worker_id\n                       AND w.company_id = :companyId\n        &quot;&quot;&quot;)\nList&lt;skills&gt; getSkillsAndWorkers(UUID companyId);\n}\n</code></pre>\n<p>Great.</p>\n<p>Now here comes the tricky part. In order for worker_name to show up when I output the data on the frontend, I need to add it as a column in the skills entity file, like so:</p>\n<pre><code>@Entity \n@Table(name = &quot;skills&quot;) \n@public class Skills {\n    @Id\n    @GeneratedValue(generator = &quot;UUID&quot;)\n    @GenericGenerator(name = &quot;UUID&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\n    @Column(name = &quot;id&quot;)\n    private UUID id;\n    \n    @Column(name = &quot;worker_id&quot;)\n    private UUID workerId;\n    \n    @Column(name = &quot;worker_name&quot;)\n    private String workerName;\n}\n</code></pre>\n<p>This of course works, BUT the skills entity is used for other lists in the system, so when I add worker_name to that file, the other lists will crash and I will get a warning that the column “worker_name” is missing, which is obvious because it is not used in any other lists than the one which is using the “getSkillsAndWorkers” query.</p>\n<p>I know that I COULD just do an inner join and add worker_name to every other query I have in the system, but there must be a different way to handle this.</p>\n<p>So my question is: How can I include the worker_name column from the worker entity inside the skills entity without messing up every other list in the system that uses the skills entity without the worker data?</p>\n"},{"tags":["java","fatal-error","auto-update"],"answers":[{"tags":[],"owner":{"account_id":28603808,"reputation":1,"user_id":21900166,"display_name":"Marek Podolak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685691337,"creation_date":1685691337,"answer_id":76388080,"question_id":76345840,"body_markdown":"I found the answer to my question. Link to GitHub was not correct. When trying to reach a file from GitHub through code need to use raw version of URL. Didn&#39;t know of its existence before.","title":"Problem with auto update, get fatal error while downloading config file for update4j","body":"<p>I found the answer to my question. Link to GitHub was not correct. When trying to reach a file from GitHub through code need to use raw version of URL. Didn't know of its existence before.</p>\n"}],"owner":{"account_id":28603808,"reputation":1,"user_id":21900166,"display_name":"Marek Podolak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76388080,"answer_count":1,"score":0,"last_activity_date":1685691337,"creation_date":1685173100,"question_id":76345840,"body_markdown":"I am trying to write an application auto update with update4j. I wrote a basic app just to try how it works and how to do it, so I can use it in a real project. Think I did everything as documentation said, but it still doesn&#39;t work.\r\nI expected it to download config file from the given URL, but instead I get fatal error.\r\n&gt; &quot;\\[Fatal Error\\] :16:76: Attribute name &quot;crossorigin&quot; associated with an element type &quot;link&quot; must be followed by the &#39; = &#39; character.&quot;\r\n\r\nThe error is thrown when I try to read a Configuration file in the `Updater` class and line `config = Configuration.read(in);`\r\n\r\nCan someone point me my mistake?\r\n\r\nHere is everything that this app contains.\r\n\r\n```\r\npackage Update;\r\n\r\nimport org.update4j.Configuration;\r\nimport org.update4j.FileMetadata;\r\n\r\nimport java.io.IOException;\r\nimport java.io.Writer;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\n\r\npublic class ConfigCreator {\r\n    private String appDir = System.getProperty(&quot;user.dir&quot;);\r\n    private String theAppTarget = appDir + &quot;\\\\TheApp\\\\target&quot;;\r\n    private  String bootstrapTarget = appDir + &quot;\\\\Bootstrap\\\\target&quot;;\r\n\r\n\r\n    public void createConfig() throws IOException {\r\n        Configuration config = Configuration.builder()\r\n                .baseUri(&quot;https://github.com/Skurczybyk/UpdateTest/tree/master/TheApp/target&quot;)\r\n                .basePath(theAppTarget)\r\n                .file(FileMetadata.readFrom(theAppTarget + &quot;\\\\TheApp-1.0-SNAPSHOT.jar&quot;))\r\n                .build();\r\n        try (Writer out = Files.newBufferedWriter(Paths.get(bootstrapTarget + &quot;\\\\config.xml&quot;)))\r\n        {config.write(out);}\r\n    }\r\n}\r\n```\r\n\r\n```\r\npackage TheApp;\r\n\r\n\r\nimport Update.ConfigCreator;\r\nimport Update.Updater;\r\n\r\nimport java.io.IOException;\r\nimport java.net.MalformedURLException;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        ConfigCreator confCreator = new ConfigCreator();\r\n        Updater updater = new Updater();\r\n\r\n        try {\r\n            updater.update();\r\n        } catch (MalformedURLException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n       /* try {\r\n            confCreator.createConfig();\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }*/\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\n```\r\n\r\npackage Update;\r\n\r\nimport org.update4j.Archive;\r\nimport org.update4j.Configuration;\r\nimport org.update4j.UpdateOptions;\r\n\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.io.Reader;\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\n\r\npublic class Updater {\r\n    public void update() throws MalformedURLException {\r\n\r\n            URL configurl = new URL(&quot;https://github.com/Skurczybyk/UpdateTest/blob/master/Bootstrap/target/config.xml&quot;);\r\n        Path updateZip = Paths.get(&quot;update.zip&quot;);\r\n        Configuration config = null;\r\n        try(Reader in = new InputStreamReader(configurl.openStream(), StandardCharsets.UTF_8))\r\n        {\r\n            config = Configuration.read(in);\r\n        }\r\n        catch (IOException e)\r\n        {\r\n            System.out.println(&quot;Cos nie poszło&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"Problem with auto update, get fatal error while downloading config file for update4j","body":"<p>I am trying to write an application auto update with update4j. I wrote a basic app just to try how it works and how to do it, so I can use it in a real project. Think I did everything as documentation said, but it still doesn't work.\nI expected it to download config file from the given URL, but instead I get fatal error.</p>\n<blockquote>\n<p>&quot;[Fatal Error] :16:76: Attribute name &quot;crossorigin&quot; associated with an element type &quot;link&quot; must be followed by the ' = ' character.&quot;</p>\n</blockquote>\n<p>The error is thrown when I try to read a Configuration file in the <code>Updater</code> class and line <code>config = Configuration.read(in);</code></p>\n<p>Can someone point me my mistake?</p>\n<p>Here is everything that this app contains.</p>\n<pre><code>package Update;\n\nimport org.update4j.Configuration;\nimport org.update4j.FileMetadata;\n\nimport java.io.IOException;\nimport java.io.Writer;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\n\npublic class ConfigCreator {\n    private String appDir = System.getProperty(&quot;user.dir&quot;);\n    private String theAppTarget = appDir + &quot;\\\\TheApp\\\\target&quot;;\n    private  String bootstrapTarget = appDir + &quot;\\\\Bootstrap\\\\target&quot;;\n\n\n    public void createConfig() throws IOException {\n        Configuration config = Configuration.builder()\n                .baseUri(&quot;https://github.com/Skurczybyk/UpdateTest/tree/master/TheApp/target&quot;)\n                .basePath(theAppTarget)\n                .file(FileMetadata.readFrom(theAppTarget + &quot;\\\\TheApp-1.0-SNAPSHOT.jar&quot;))\n                .build();\n        try (Writer out = Files.newBufferedWriter(Paths.get(bootstrapTarget + &quot;\\\\config.xml&quot;)))\n        {config.write(out);}\n    }\n}\n</code></pre>\n<pre><code>package TheApp;\n\n\nimport Update.ConfigCreator;\nimport Update.Updater;\n\nimport java.io.IOException;\nimport java.net.MalformedURLException;\n\npublic class Main {\n    public static void main(String[] args) {\n        ConfigCreator confCreator = new ConfigCreator();\n        Updater updater = new Updater();\n\n        try {\n            updater.update();\n        } catch (MalformedURLException e) {\n            throw new RuntimeException(e);\n        }\n       /* try {\n            confCreator.createConfig();\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }*/\n\n\n    }\n}\n</code></pre>\n<pre><code>\npackage Update;\n\nimport org.update4j.Archive;\nimport org.update4j.Configuration;\nimport org.update4j.UpdateOptions;\n\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.Reader;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.nio.charset.StandardCharsets;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\n\npublic class Updater {\n    public void update() throws MalformedURLException {\n\n            URL configurl = new URL(&quot;https://github.com/Skurczybyk/UpdateTest/blob/master/Bootstrap/target/config.xml&quot;);\n        Path updateZip = Paths.get(&quot;update.zip&quot;);\n        Configuration config = null;\n        try(Reader in = new InputStreamReader(configurl.openStream(), StandardCharsets.UTF_8))\n        {\n            config = Configuration.read(in);\n        }\n        catch (IOException e)\n        {\n            System.out.println(&quot;Cos nie poszło&quot;);\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7804680,"reputation":2322,"user_id":5902927,"display_name":"Miguel Benitez"},"score":1,"creation_date":1470147040,"post_id":38722816,"comment_id":64821626,"body_markdown":"You can&#39;t make change in raw folder once apk in build","body":"You can&#39;t make change in raw folder once apk in build"},{"owner":{"account_id":6469646,"reputation":2690,"user_id":5010211,"display_name":"Akshay Bhat &#39;AB&#39;"},"score":0,"creation_date":1470147086,"post_id":38722816,"comment_id":64821663,"body_markdown":"No you cant, save it in sd card of your mobile apps folder once you download","body":"No you cant, save it in sd card of your mobile apps folder once you download"},{"owner":{"account_id":8902963,"reputation":53,"user_id":6645830,"display_name":"devRey"},"score":0,"creation_date":1470147393,"post_id":38722816,"comment_id":64821886,"body_markdown":"oh ok sir. how the &quot;downloading contents&quot; in games work? because I dont know what search term will I put in google. Im so noob.","body":"oh ok sir. how the &quot;downloading contents&quot; in games work? because I dont know what search term will I put in google. Im so noob."},{"owner":{"account_id":8902963,"reputation":53,"user_id":6645830,"display_name":"devRey"},"score":0,"creation_date":1470147525,"post_id":38722816,"comment_id":64821988,"body_markdown":"can I hide that folder in sd programatically? so that it can&#39;t access in the gallery? Im sorry im so noob in android development.","body":"can I hide that folder in sd programatically? so that it can&#39;t access in the gallery? Im sorry im so noob in android development."}],"answers":[{"tags":[],"owner":{"account_id":6415716,"reputation":1738,"user_id":4973987,"display_name":"Ricardo Vieira"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1470210011,"creation_date":1470155644,"answer_id":38726003,"question_id":38722816,"body_markdown":"**Short answer : You can not**.\r\n\r\nYou can not, under any circumstance, write/dump a file to the raw/assets folder in runtime. \r\n\r\nWhat you can do is to download the video and store it into **Internal Memory** (application reserved storage) **or External Memory** (usually your SDCard))\r\n\r\nFor example, you can store media files, for instance a Bitmap to your external storage like this.\r\n\r\n     private void saveAnImageToExternalMemory(Bitmap finalBitmap) {\r\n        String root = Environment.getExternalStorageDirectory().toString();\r\n        File myDir = new File(root + &quot;/saved_images&quot;);    \r\n        myDir.mkdirs();\r\n        String fname = &quot;yourimagename.jpg&quot;;\r\n        File file = new File (myDir, fname);\r\n        if (file.exists ()) file.delete (); \r\n        try {\r\n               FileOutputStream out = new FileOutputStream(file);\r\n               finalBitmap.compress(Bitmap.CompressFormat.JPEG, 90, out);\r\n               out.flush();\r\n               out.close();\r\n    \r\n        } catch (Exception e) {\r\n               e.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\nAnd equally, read an file, in this example an image (which is then loaded to an imageView), from external memory\r\n\r\n    private void loadImageFromStorage(String path){\r\n        try {\r\n            File f=new File(path, &quot;profile.jpg&quot;);\r\n            Bitmap b = BitmapFactory.decodeStream(new FileInputStream(f));\r\n                ImageView img=(ImageView)findViewById(R.id.imgPicker);\r\n            img.setImageBitmap(b);\r\n        } \r\n        catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n    \r\n    }\r\n\r\n**Edit**: Additionally, you can store your data into internal memory\r\n\r\n&gt; Alternatively you can also save the Bitmap to the internal storage in\r\n&gt; case the SD card is not available or for whatever other reasons you\r\n&gt; may have. Files saved to the internal storage are only accessible by\r\n&gt; the application which saved the files. Neither the user nor other\r\n&gt; applications can access those files\r\n\r\n    public boolean saveImageToInternalStorage(Bitmap image) {\r\n        try {\r\n    \t\tFileOutputStream fos = context.openFileOutput(&quot;yourimage.png&quot;, Context.MODE_PRIVATE);\r\n    \t\t// Writing the bitmap to the output stream\r\n    \t\timage.compress(Bitmap.CompressFormat.PNG, 100, fos);\r\n    \t\tfos.close();\r\n            return true;\r\n        } catch (Exception e) {\r\n    \t\tLog.e(&quot;saveToInternalStorage()&quot;, e.getMessage());\r\n    \t\treturn false;\r\n        }\r\n    }\r\n\r\n\r\n[Check this documentation for more information](https://developer.android.com/training/basics/data-storage/files.html)\r\n\r\nRegards,\r\n","title":"Downloading files from a server and put it to /raw folder","body":"<p><strong>Short answer : You can not</strong>.</p>\n\n<p>You can not, under any circumstance, write/dump a file to the raw/assets folder in runtime. </p>\n\n<p>What you can do is to download the video and store it into <strong>Internal Memory</strong> (application reserved storage) <strong>or External Memory</strong> (usually your SDCard))</p>\n\n<p>For example, you can store media files, for instance a Bitmap to your external storage like this.</p>\n\n<pre><code> private void saveAnImageToExternalMemory(Bitmap finalBitmap) {\n    String root = Environment.getExternalStorageDirectory().toString();\n    File myDir = new File(root + \"/saved_images\");    \n    myDir.mkdirs();\n    String fname = \"yourimagename.jpg\";\n    File file = new File (myDir, fname);\n    if (file.exists ()) file.delete (); \n    try {\n           FileOutputStream out = new FileOutputStream(file);\n           finalBitmap.compress(Bitmap.CompressFormat.JPEG, 90, out);\n           out.flush();\n           out.close();\n\n    } catch (Exception e) {\n           e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>And equally, read an file, in this example an image (which is then loaded to an imageView), from external memory</p>\n\n<pre><code>private void loadImageFromStorage(String path){\n    try {\n        File f=new File(path, \"profile.jpg\");\n        Bitmap b = BitmapFactory.decodeStream(new FileInputStream(f));\n            ImageView img=(ImageView)findViewById(R.id.imgPicker);\n        img.setImageBitmap(b);\n    } \n    catch (FileNotFoundException e) {\n        e.printStackTrace();\n    }\n\n}\n</code></pre>\n\n<p><strong>Edit</strong>: Additionally, you can store your data into internal memory</p>\n\n<blockquote>\n  <p>Alternatively you can also save the Bitmap to the internal storage in\n  case the SD card is not available or for whatever other reasons you\n  may have. Files saved to the internal storage are only accessible by\n  the application which saved the files. Neither the user nor other\n  applications can access those files</p>\n</blockquote>\n\n<pre><code>public boolean saveImageToInternalStorage(Bitmap image) {\n    try {\n        FileOutputStream fos = context.openFileOutput(\"yourimage.png\", Context.MODE_PRIVATE);\n        // Writing the bitmap to the output stream\n        image.compress(Bitmap.CompressFormat.PNG, 100, fos);\n        fos.close();\n        return true;\n    } catch (Exception e) {\n        Log.e(\"saveToInternalStorage()\", e.getMessage());\n        return false;\n    }\n}\n</code></pre>\n\n<p><a href=\"https://developer.android.com/training/basics/data-storage/files.html\" rel=\"nofollow\">Check this documentation for more information</a></p>\n\n<p>Regards,</p>\n"},{"tags":[],"owner":{"account_id":26606954,"reputation":7,"user_id":20227628,"display_name":"Edwin Tigor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685690709,"creation_date":1685690709,"answer_id":76388005,"question_id":38722816,"body_markdown":"You can use android sqlite database to manage your download file.","title":"Downloading files from a server and put it to /raw folder","body":"<p>You can use android sqlite database to manage your download file.</p>\n"}],"owner":{"account_id":8902963,"reputation":53,"user_id":6645830,"display_name":"devRey"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2815,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":38726003,"answer_count":2,"score":0,"last_activity_date":1685690709,"creation_date":1470146985,"question_id":38722816,"body_markdown":"Here is I want to make. I want to make an app, for example it has a button that will download a certain video file and put it on the resource(raw) folder. Is it possible?","title":"Downloading files from a server and put it to /raw folder","body":"<p>Here is I want to make. I want to make an app, for example it has a button that will download a certain video file and put it on the resource(raw) folder. Is it possible?</p>\n"},{"tags":["java","swift","option-type"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685680795,"post_id":76387119,"comment_id":134697647,"body_markdown":"Java, doesn&#39;t have much functional evaluation, just closures, which even prove to be abstruse for most tasks.  So, no, there is nothing intrinsic to Java that will do this.","body":"Java, doesn&#39;t have much functional evaluation, just closures, which even prove to be abstruse for most tasks.  So, no, there is nothing intrinsic to Java that will do this."}],"answers":[{"tags":[],"owner":{"account_id":13717126,"reputation":1279,"user_id":9898011,"display_name":"Cublax"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685689210,"creation_date":1685680320,"answer_id":76387120,"question_id":76387119,"body_markdown":"The answer is No.\r\n\r\nApparently this syntax also exists in Clojure and according to [this Stack Overflow answer][1] there is no way to declare a property if it can be unwrapped in Java. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/33503383/is-there-a-java-equivalent-of-clojures-if-let/33503654#33503654","title":"guard/if let in Java - declare a property or an object if it can be unwrapped","body":"<p>The answer is No.</p>\n<p>Apparently this syntax also exists in Clojure and according to <a href=\"https://stackoverflow.com/questions/33503383/is-there-a-java-equivalent-of-clojures-if-let/33503654#33503654\">this Stack Overflow answer</a> there is no way to declare a property if it can be unwrapped in Java.</p>\n"},{"tags":[],"owner":{"account_id":343790,"reputation":10861,"user_id":675721,"accept_rate":75,"display_name":"Codebling"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685681453,"creation_date":1685681453,"answer_id":76387210,"question_id":76387119,"body_markdown":"The trick is that there is no such thing as a conditional declaration. What&#39;s really happening is that the conditional is introducing a new scope in which the variable is always declared, or a guard condition which short-circuits. \r\n\r\nJava can do the same, though lexically it is not as pretty.\r\n\r\n```\r\nInteger getMeaningOfLife() {\r\n    return 42;\r\n}\r\n\r\nvoid printMeaningOfLife() {\r\n    { //this brace bracket introduces a new scope\r\n        Integer name = getMeaningOfLife();\r\n        if (name != null) {\r\n            print(name);\r\n        }\r\n    } //closes scope\r\n    //name is now out of scope and cannot be used\r\n}\r\n\r\nvoid printMeaningOfLife() {\r\n    Integer name = getMeaningOfLife();\r\n    if (name == null) {\r\n        return;\r\n    }\r\n    print(name)\r\n}\r\n```\r\n\r\nThis is basically what you have already figured out for yourself, except maybe for the brace brackets which introduce scope in the first `printMeaningOfLife()`. ","title":"guard/if let in Java - declare a property or an object if it can be unwrapped","body":"<p>The trick is that there is no such thing as a conditional declaration. What's really happening is that the conditional is introducing a new scope in which the variable is always declared, or a guard condition which short-circuits.</p>\n<p>Java can do the same, though lexically it is not as pretty.</p>\n<pre><code>Integer getMeaningOfLife() {\n    return 42;\n}\n\nvoid printMeaningOfLife() {\n    { //this brace bracket introduces a new scope\n        Integer name = getMeaningOfLife();\n        if (name != null) {\n            print(name);\n        }\n    } //closes scope\n    //name is now out of scope and cannot be used\n}\n\nvoid printMeaningOfLife() {\n    Integer name = getMeaningOfLife();\n    if (name == null) {\n        return;\n    }\n    print(name)\n}\n</code></pre>\n<p>This is basically what you have already figured out for yourself, except maybe for the brace brackets which introduce scope in the first <code>printMeaningOfLife()</code>.</p>\n"},{"tags":[],"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685689756,"creation_date":1685689434,"answer_id":76387865,"question_id":76387119,"body_markdown":"Java doesn&#39;t have guard/let clauses like this. The closest equivalent of your example is using [`OptionalInt`][1] (or [`Optional`][2] for objects) and its [`ifPresent`][3] method:\r\n\r\n```java\r\nOptionalInt getMeaningOfLife() {\r\n    return OptionalInt.of(42);\r\n}\r\n\r\nvoid printMeaningOfLife() {\r\n    getMeaningOfLife().ifPresent(name -&gt; \r\n            System.out.println(name));\r\n}\r\n```\r\n\r\nNote that Java does have a &quot;lesser&quot; form of these types of clauses in the form of flow-typing using `instanceof &lt;typeName&gt; &lt;variableName&gt;` introduced with [JEP 394: Pattern Matching for instanceof][4].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/OptionalInt.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/OptionalInt.html#ifPresent(java.util.function.IntConsumer)\r\n  [4]: https://openjdk.org/jeps/394","title":"guard/if let in Java - declare a property or an object if it can be unwrapped","body":"<p>Java doesn't have guard/let clauses like this. The closest equivalent of your example is using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/OptionalInt.html\" rel=\"nofollow noreferrer\"><code>OptionalInt</code></a> (or <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html\" rel=\"nofollow noreferrer\"><code>Optional</code></a> for objects) and its <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/OptionalInt.html#ifPresent(java.util.function.IntConsumer)\" rel=\"nofollow noreferrer\"><code>ifPresent</code></a> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>OptionalInt getMeaningOfLife() {\n    return OptionalInt.of(42);\n}\n\nvoid printMeaningOfLife() {\n    getMeaningOfLife().ifPresent(name -&gt; \n            System.out.println(name));\n}\n</code></pre>\n<p>Note that Java does have a &quot;lesser&quot; form of these types of clauses in the form of flow-typing using <code>instanceof &lt;typeName&gt; &lt;variableName&gt;</code> introduced with <a href=\"https://openjdk.org/jeps/394\" rel=\"nofollow noreferrer\">JEP 394: Pattern Matching for instanceof</a>.</p>\n"}],"owner":{"account_id":13717126,"reputation":1279,"user_id":9898011,"display_name":"Cublax"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76387120,"answer_count":3,"score":0,"last_activity_date":1685689756,"creation_date":1685680320,"question_id":76387119,"body_markdown":"In swift there is the `guard let` / `if let` pattern allowing us to declare an object or a property only if it can be unwrapped.\r\n\r\nit works a follow:\r\n\r\n    func getMeaningOfLife() -&gt; Int? {\r\n        42\r\n    }\r\n    \r\n    func printMeaningOfLife() {\r\n        if let name = getMeaningOfLife() {\r\n            print(name)\r\n        }\r\n    }\r\n    \r\n    func printMeaningOfLife() {\r\n        guard let name = getMeaningOfLife() else {\r\n            return\r\n        }\r\n    \r\n        print(name)\r\n    }\r\n\r\nMy question here is: Is there a Java version of it ?","title":"guard/if let in Java - declare a property or an object if it can be unwrapped","body":"<p>In swift there is the <code>guard let</code> / <code>if let</code> pattern allowing us to declare an object or a property only if it can be unwrapped.</p>\n<p>it works a follow:</p>\n<pre><code>func getMeaningOfLife() -&gt; Int? {\n    42\n}\n\nfunc printMeaningOfLife() {\n    if let name = getMeaningOfLife() {\n        print(name)\n    }\n}\n\nfunc printMeaningOfLife() {\n    guard let name = getMeaningOfLife() else {\n        return\n    }\n\n    print(name)\n}\n</code></pre>\n<p>My question here is: Is there a Java version of it ?</p>\n"},{"tags":["java","intellij-idea","dependencies"],"answers":[{"tags":[],"owner":{"account_id":6455291,"reputation":468,"user_id":5005203,"display_name":"Alan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1435673275,"creation_date":1435673275,"answer_id":31140594,"question_id":31140521,"body_markdown":"You need to add your external libraries/classes under dependencies in order for IDEA to see them when doing code analysis/autocomplete.","title":"&quot;Cannot resolve symbol&quot; in Intellij IDEA","body":"<p>You need to add your external libraries/classes under dependencies in order for IDEA to see them when doing code analysis/autocomplete.</p>\n"},{"tags":[],"owner":{"display_name":"user8715994"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1508159455,"creation_date":1508159455,"answer_id":46771196,"question_id":31140521,"body_markdown":"After you add dependencies to POM file, make it a habit to refresh POM by clicking on the &#39;Reimports maven projects&#39; icon. Its the first icon in the maven tool window located to the right of the main intellij editor. Its a blue icon with 2 circular arrows. Clicking it ensures that the added dependencies are fully integrated into your project","title":"&quot;Cannot resolve symbol&quot; in Intellij IDEA","body":"<p>After you add dependencies to POM file, make it a habit to refresh POM by clicking on the 'Reimports maven projects' icon. Its the first icon in the maven tool window located to the right of the main intellij editor. Its a blue icon with 2 circular arrows. Clicking it ensures that the added dependencies are fully integrated into your project</p>\n"},{"tags":[],"owner":{"account_id":4799572,"reputation":2451,"user_id":3876552,"display_name":"Dipesh Yadav"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1595759495,"creation_date":1595759495,"answer_id":63098950,"question_id":31140521,"body_markdown":"**Listed below are steps which may fix the problem:**\r\n\r\n1.**Invalidate and refresh the IntelliJ&#39;s caches**\r\n\r\nFile Menu -&gt; Invalidate Caches / Restart -&gt; Invalidate and restart\r\n\r\n2.**Project SDK selection**\r\n\r\nCheck project settings from File Menu -&gt; Project Structure\r\nEnsure an SDK is selected for the Project SDK. If is selected, click the &#39;New&#39; button, select JDK and then select the correct path to the JDK e.g. /opt/java/jdk1.8 or c:\\Java\\Jdk1.8\r\n\r\n3.**Corrupt JDK**\r\n\r\nThere may be a problem with your JDK installation, re-install JDK\r\n\r\n4.**Re-import the project**\r\n\r\nClose the project if it is open in IntelliJ\r\nDelete the .idea folder in the project source code folder.\r\nStart IntelliJ and Import the project.\r\n\r\nYou can choose any of them which will work for you.","title":"&quot;Cannot resolve symbol&quot; in Intellij IDEA","body":"<p><strong>Listed below are steps which may fix the problem:</strong></p>\n<p>1.<strong>Invalidate and refresh the IntelliJ's caches</strong></p>\n<p>File Menu -&gt; Invalidate Caches / Restart -&gt; Invalidate and restart</p>\n<p>2.<strong>Project SDK selection</strong></p>\n<p>Check project settings from File Menu -&gt; Project Structure\nEnsure an SDK is selected for the Project SDK. If is selected, click the 'New' button, select JDK and then select the correct path to the JDK e.g. /opt/java/jdk1.8 or c:\\Java\\Jdk1.8</p>\n<p>3.<strong>Corrupt JDK</strong></p>\n<p>There may be a problem with your JDK installation, re-install JDK</p>\n<p>4.<strong>Re-import the project</strong></p>\n<p>Close the project if it is open in IntelliJ\nDelete the .idea folder in the project source code folder.\nStart IntelliJ and Import the project.</p>\n<p>You can choose any of them which will work for you.</p>\n"},{"tags":[],"owner":{"account_id":7038793,"reputation":1132,"user_id":5391891,"accept_rate":59,"display_name":"dicle"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1619440524,"creation_date":1619440524,"answer_id":67266752,"question_id":31140521,"body_markdown":"You can go to &quot;File-&gt;Project Structure&quot; \r\n\r\nFrom &quot;Project Settings&quot;, Select &quot;Project&quot; tab and there make sure that &quot;Project SDK&quot; has proper JDK selection. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vOd6n.png","title":"&quot;Cannot resolve symbol&quot; in Intellij IDEA","body":"<p>You can go to &quot;File-&gt;Project Structure&quot;</p>\n<p>From &quot;Project Settings&quot;, Select &quot;Project&quot; tab and there make sure that &quot;Project SDK&quot; has proper JDK selection.</p>\n<p><a href=\"https://i.stack.imgur.com/vOd6n.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vOd6n.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":11300433,"reputation":271,"user_id":8286518,"display_name":"J.su"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1643103038,"creation_date":1643103038,"answer_id":70846256,"question_id":31140521,"body_markdown":"I faced a similar problem for no reason, I think it was caused by IDE(android studio). I have tried all of the above solutions but not worked. Finally, in my own situation, I solved this problem by the following actions: \r\n\r\n 1. Delete your `.idea` folder in your local project.\r\n 2. Reopen this project and just let Gradle run itself.\r\n\r\nIt was worked for me. I hope that my experience will be useful for you.","title":"&quot;Cannot resolve symbol&quot; in Intellij IDEA","body":"<p>I faced a similar problem for no reason, I think it was caused by IDE(android studio). I have tried all of the above solutions but not worked. Finally, in my own situation, I solved this problem by the following actions:</p>\n<ol>\n<li>Delete your <code>.idea</code> folder in your local project.</li>\n<li>Reopen this project and just let Gradle run itself.</li>\n</ol>\n<p>It was worked for me. I hope that my experience will be useful for you.</p>\n"},{"tags":[],"owner":{"account_id":490572,"reputation":3429,"user_id":1792003,"accept_rate":62,"display_name":"Snehal Masne"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645099082,"creation_date":1645099082,"answer_id":71157721,"question_id":31140521,"body_markdown":"Run it from the project&#39;s root folder.\r\n\r\n    $ mvn -U idea:idea","title":"&quot;Cannot resolve symbol&quot; in Intellij IDEA","body":"<p>Run it from the project's root folder.</p>\n<pre><code>$ mvn -U idea:idea\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2200117,"reputation":151,"user_id":1944711,"accept_rate":60,"display_name":"Sachidananda Naik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652299084,"creation_date":1652299084,"answer_id":72206959,"question_id":31140521,"body_markdown":"One more advise would be to make sure that you import the project properly. If it&#39;s a maven project, import pom.xml and if it&#39;s a gradle project, import gradle.build file to make sure that all the dependencies are downloaded correctly.","title":"&quot;Cannot resolve symbol&quot; in Intellij IDEA","body":"<p>One more advise would be to make sure that you import the project properly. If it's a maven project, import pom.xml and if it's a gradle project, import gradle.build file to make sure that all the dependencies are downloaded correctly.</p>\n"},{"tags":[],"owner":{"account_id":18850382,"reputation":109,"user_id":13749668,"display_name":"UchiTesting"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663791776,"creation_date":1663791776,"answer_id":73806539,"question_id":31140521,"body_markdown":"Just got this.\r\nJust went there.\r\nInvalidated the cache.\r\nSeemed to work until I wrote further lines.\r\nThen noticed that I was writing my code outside of the `main()` function.\r\nMoved the ending curly bracket further and voila.","title":"&quot;Cannot resolve symbol&quot; in Intellij IDEA","body":"<p>Just got this.\nJust went there.\nInvalidated the cache.\nSeemed to work until I wrote further lines.\nThen noticed that I was writing my code outside of the <code>main()</code> function.\nMoved the ending curly bracket further and voila.</p>\n"}],"owner":{"account_id":282003,"reputation":1260,"user_id":578642,"accept_rate":40,"display_name":"Mark Williams"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56540,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":31140594,"answer_count":8,"score":9,"last_activity_date":1685689594,"creation_date":1435673097,"question_id":31140521,"body_markdown":"I&#39;m fairly new to Intellij and Java and am unable to use libraries from one &quot;module&quot; in another. I am seeing red class names and getting &quot;Cannot resolve symbol ...&quot; errors all over the place:\r\n\r\n![enter image description here][1]\r\n\r\nThe other modules are referenced in File | Project Structure all the other module&#39;s Paths are correct and include the *.classes I&#39;m trying to use:\r\n\r\n![enter image description here][2]\r\n\r\nI have also tried a File | Invalidate Caches but am still having the same problems.\r\n\r\nWhat do I need to do to fix this?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/dyau5.png\r\n  [2]: http://i.stack.imgur.com/XL0ch.png","title":"&quot;Cannot resolve symbol&quot; in Intellij IDEA","body":"<p>I'm fairly new to Intellij and Java and am unable to use libraries from one \"module\" in another. I am seeing red class names and getting \"Cannot resolve symbol ...\" errors all over the place:</p>\n\n<p><img src=\"https://i.stack.imgur.com/dyau5.png\" alt=\"enter image description here\"></p>\n\n<p>The other modules are referenced in File | Project Structure all the other module's Paths are correct and include the *.classes I'm trying to use:</p>\n\n<p><img src=\"https://i.stack.imgur.com/XL0ch.png\" alt=\"enter image description here\"></p>\n\n<p>I have also tried a File | Invalidate Caches but am still having the same problems.</p>\n\n<p>What do I need to do to fix this?</p>\n"},{"tags":["java","spring-boot","outlook","smtp"],"comments":[{"owner":{"account_id":2180203,"reputation":51,"user_id":1929880,"display_name":"user1929880"},"score":2,"creation_date":1616596208,"post_id":66293345,"comment_id":118071994,"body_markdown":"It is possible that SSL is not enabled in the server. If you are sure that SSL is enabled, then enable ssl debugging java.net.debug. That should give you further clue to debug.","body":"It is possible that SSL is not enabled in the server. If you are sure that SSL is enabled, then enable ssl debugging java.net.debug. That should give you further clue to debug."}],"answers":[{"tags":[],"owner":{"account_id":25430017,"reputation":36,"user_id":19234589,"display_name":"hllvc"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653992571,"creation_date":1653992571,"answer_id":72446096,"question_id":66293345,"body_markdown":"I&#39;ve spent the last 2 weeks solving this problem and searching all around. Finally, I managed to put it all together and make it work.\r\nI found **key part** of solution [here](https://stackoverflow.com/questions/60654561/java-mail-cannot-connect-to-smtp-using-tls-or-ssl).\r\n\r\n---\r\n\r\n#### In short, you need to create `SMTPTransport` instead of the classic `Transport`:\r\n```\r\nSMTPTransport t = (SMTPTransport)session.getTransport(&quot;smtp&quot;);\r\nSocket socket = new Socket(host, port);\r\nt.connect(socket);\r\nt.sendMessage(message, message.getAllRecipients());\r\n```\r\n\r\n---\r\n##### NOTE:\r\n\r\nYou do not need more than these properties:\r\n```\r\nproperties.setProperty(&quot;mail.smtp.host&quot;, host);\r\nproperties.put(&quot;mail.smtp.port&quot;, port);\r\nproperties.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\nproperties.put(&quot;mail.smtp.ssl.enable&quot;, &quot;true&quot;);\r\n```\r\nand this is essential if you are using `self-signed` certificates\r\n```\r\nproperties.put(&quot;mail.smtp.ssl.trust&quot;, host);\r\n```\r\n\r\n---\r\n\r\n#### If you plan to use `smtps`, after creating `Session` you need to add following:\r\n```\r\nSession session = Session.getInstance(properties, null);\r\n...\r\nsession.setProtocolForAddress(&quot;rfc822&quot;, &quot;smtps&quot;);\r\n```\r\nand make sure when creating `SMTPTransport` to get `smtps` like:\r\n```\r\nSMTPTransport t = (SMTPTransport)session.getTransport(&quot;smtps&quot;);\r\n```\r\nand all properties need to be defined for `smtps` protocol:\r\n&gt; when using `smtps` properties are set as `mail.smtps.&lt;prop&gt;`\r\n&gt;\r\n&gt; in general, based on any protocol: `mail.&lt;protocol&gt;.&lt;prop&gt;`\r\n```\r\nproperties.setProperty(&quot;mail.smtps.host&quot;, host);\r\nproperties.put(&quot;mail.smtps.port&quot;, port);\r\nproperties.put(&quot;mail.smtps.starttls.enable&quot;, &quot;true&quot;);\r\nproperties.put(&quot;mail.smtps.ssl.enable&quot;, &quot;true&quot;);\r\nproperties.put(&quot;mail.smtps.ssl.trust&quot;, host);\r\n```","title":"Unsupported or unrecognized SSL message","body":"<p>I've spent the last 2 weeks solving this problem and searching all around. Finally, I managed to put it all together and make it work.\nI found <strong>key part</strong> of solution <a href=\"https://stackoverflow.com/questions/60654561/java-mail-cannot-connect-to-smtp-using-tls-or-ssl\">here</a>.</p>\n<hr />\n<h4>In short, you need to create <code>SMTPTransport</code> instead of the classic <code>Transport</code>:</h4>\n<pre><code>SMTPTransport t = (SMTPTransport)session.getTransport(&quot;smtp&quot;);\nSocket socket = new Socket(host, port);\nt.connect(socket);\nt.sendMessage(message, message.getAllRecipients());\n</code></pre>\n<hr />\n<h5>NOTE:</h5>\n<p>You do not need more than these properties:</p>\n<pre><code>properties.setProperty(&quot;mail.smtp.host&quot;, host);\nproperties.put(&quot;mail.smtp.port&quot;, port);\nproperties.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\nproperties.put(&quot;mail.smtp.ssl.enable&quot;, &quot;true&quot;);\n</code></pre>\n<p>and this is essential if you are using <code>self-signed</code> certificates</p>\n<pre><code>properties.put(&quot;mail.smtp.ssl.trust&quot;, host);\n</code></pre>\n<hr />\n<h4>If you plan to use <code>smtps</code>, after creating <code>Session</code> you need to add following:</h4>\n<pre><code>Session session = Session.getInstance(properties, null);\n...\nsession.setProtocolForAddress(&quot;rfc822&quot;, &quot;smtps&quot;);\n</code></pre>\n<p>and make sure when creating <code>SMTPTransport</code> to get <code>smtps</code> like:</p>\n<pre><code>SMTPTransport t = (SMTPTransport)session.getTransport(&quot;smtps&quot;);\n</code></pre>\n<p>and all properties need to be defined for <code>smtps</code> protocol:</p>\n<blockquote>\n<p>when using <code>smtps</code> properties are set as <code>mail.smtps.&lt;prop&gt;</code></p>\n<p>in general, based on any protocol: <code>mail.&lt;protocol&gt;.&lt;prop&gt;</code></p>\n</blockquote>\n<pre><code>properties.setProperty(&quot;mail.smtps.host&quot;, host);\nproperties.put(&quot;mail.smtps.port&quot;, port);\nproperties.put(&quot;mail.smtps.starttls.enable&quot;, &quot;true&quot;);\nproperties.put(&quot;mail.smtps.ssl.enable&quot;, &quot;true&quot;);\nproperties.put(&quot;mail.smtps.ssl.trust&quot;, host);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14589269,"reputation":233,"user_id":10537000,"display_name":"Nguyễn Dương"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678690946,"creation_date":1678690946,"answer_id":75718838,"question_id":66293345,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LNisk.png\r\n\r\n\r\n    host=smtp.office365.com\r\n    port=587\r\n\r\nI commented \r\n\r\n&gt; properties.put(&quot;mail.smtp.ssl.enable&quot;, &quot;true&quot;);\r\n\r\n when use smtp.office365.com =&gt; then it work\r\n\r\n","title":"Unsupported or unrecognized SSL message","body":"<p><a href=\"https://i.stack.imgur.com/LNisk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LNisk.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>host=smtp.office365.com\nport=587\n</code></pre>\n<p>I commented</p>\n<blockquote>\n<p>properties.put(&quot;mail.smtp.ssl.enable&quot;, &quot;true&quot;);</p>\n</blockquote>\n<p>when use smtp.office365.com =&gt; then it work</p>\n"}],"owner":{"account_id":20765189,"reputation":43,"user_id":15249374,"display_name":"gullu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10257,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72446096,"answer_count":2,"score":3,"last_activity_date":1685689555,"creation_date":1613835156,"question_id":66293345,"body_markdown":"I am trying to send emails from outlook email in Java+ springboot.\r\n\r\nbelow are the configuration:\r\n\r\n```\r\n@Service\r\npublic class EmailService {\r\n\r\n\t\r\n\tString  from_address = &quot;no-reply@jpmorganchase.com&quot;,\r\n            password = &quot;somepassword!sd#&quot;,\r\n            host = &quot;smtp.office365.com&quot;,\r\n            port = &quot;587&quot;,\r\n            to_address = &quot;no-reply@jpmorganchase.com&quot;,\r\n            mail_subject = &quot;Test&quot;,\r\n            mail_content = &quot;testing mail&quot;,\r\n\t\t\t username=&quot;&quot;,\r\n\t\t\tuser_password=&quot;&quot;;\r\n\t\r\n\t\r\n\t public void sendmail(UserBean user,String uname, String pword)\r\n\t    {\r\n\t\t \tusername=uname;\r\n\t\t \tuser_password=pword;\r\n\t\t \tto_address= user.getEmail();\r\n\t        Properties props = new Properties();\r\n\t        props.put(&quot;mail.smtp.user&quot;, from_address);\r\n\t        props.put(&quot;mail.smtp.host&quot;, host);\r\n\t        props.put(&quot;mail.smtp.port&quot;, port);\r\n\t        props.put(&quot;mail.smtp.starttls.enable&quot;,&quot;true&quot;);\r\n\t        props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n\t        props.put(&quot;mail.smtp.debug&quot;, &quot;true&quot;);\r\n\t        props.put(&quot;mail.smtp.socketFactory.port&quot;, port);\r\n\t        props.put(&quot;mail.smtp.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\r\n\t        props.put(&quot;mail.smtp.socketFactory.fallback&quot;, &quot;false&quot;);\r\n\t        mail_content = \r\n\t        \t\t &quot;Hello &quot;+user.getName()+&quot;\\n&quot;\r\n\t        \t\t\t\t+&quot;Experience &quot;+user.getExperience()+&quot;\\n&quot;\r\n\t        \t\t\t\t+ &quot;Email &quot;+user.getEmail()+&quot;\\n&quot;\r\n\t        \t\t\t\t+ &quot;Set allocated: &quot;+user.getSet()+&quot;\\n&quot;\r\n\t        \t\t\t\t+&quot;Mobile number &quot;+user.getPhone()+&quot;\\n&quot;+&quot;\\n&quot;\r\n\t        \t\t\t\t+ &quot;Your login credentials are: &quot;+&quot;\\n&quot;\r\n\t        \t\t\t\t+&quot;User Name: &quot;+username+&quot;\\n&quot;\r\n\t        \t\t\t\t+&quot;Password:  &quot; + user_password+&quot;\\n&quot;+&quot;\\n&quot;\r\n\t        \t\t\t\t+ &quot;Click on link to take test \t&quot;+&quot;https://www.jpmorganchase.com/en_sg&quot;+&quot;\\n&quot; \r\n\t        \t\t\t\t+  &quot;Message from jpmorganchase&quot;+user.getMessage()+&quot;\\n&quot;;\r\n\t        \t\t\r\n\t        mail_subject = &quot;jpmorganchase Online Assesment Test&quot;;\r\n\t        SecurityManager security = System.getSecurityManager();\r\n\r\n\t        try\r\n\t        {\r\n\t            Authenticator auth = new SMTPAuthenticator();\r\n\t            Session session = Session.getInstance(props, auth);\r\n\t            session.setDebug(true);\r\n\t            MimeMessage msg = new MimeMessage(session);\r\n\t            msg.setText(mail_content);\r\n\t            msg.setSubject(mail_subject);\r\n\t            msg.setFrom(new InternetAddress(from_address));\r\n\t            msg.addRecipient(Message.RecipientType.TO, new InternetAddress(to_address));\r\n\t            Transport.send(msg);\r\n\t        }\r\n\t        catch (Exception mex)\r\n\t        {\r\n\t            mex.printStackTrace();\r\n\t        } \r\n\t    }\r\n\t \r\n\t public void sendConfirmationMail(User user, String confirmationToken)\r\n\t    {\r\n\t        Properties props = new Properties();\r\n\t        props.put(&quot;mail.smtp.user&quot;, from_address);\r\n\t        props.put(&quot;mail.smtp.host&quot;, host);\r\n\t        props.put(&quot;mail.smtp.port&quot;, port);\r\n\t        props.put(&quot;mail.smtp.starttls.enable&quot;,&quot;true&quot;);\r\n\t        props.put(&quot;mail.smtp.ssl.enable&quot;,&quot;true&quot;);\r\n\t        props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n\t        props.put(&quot;mail.smtp.debug&quot;, &quot;true&quot;);\r\n\t        props.put(&quot;mail.smtp.socketFactory.port&quot;, port);\r\n\t        props.put(&quot;mail.smtp.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\r\n\t        props.put(&quot;mail.smtp.socketFactory.fallback&quot;, &quot;false&quot;);\r\n\t        mail_content = \r\n\t        \t\t &quot;Hello &quot;+user.getName()+&quot;\\n&quot;\r\n\t        \t\t +&quot;To confirm your account, please click here : &quot;\r\n\t        \t        +&quot;http://localhost:8080/jpmorganchase/confirm-account?token=&quot;+confirmationToken;\r\n\t        mail_subject=&quot;Complete Registration!&quot;;\r\n\t       // String mail[] = user.getEmail().split(&quot;@&quot;);\r\n\t        //to_address = mail[0]+&quot;@gmail.com&quot;;\r\n\t        to_address = user.getEmail();\r\n\t        \t\t\t\t\r\n\t        SecurityManager security = System.getSecurityManager();\r\n\r\n\t        try\r\n\t        {\r\n\t            Authenticator auth = new SMTPAuthenticator();\r\n\t            Session session = Session.getInstance(props, auth);\r\n\t            session.setDebug(true);\r\n\t            MimeMessage msg = new MimeMessage(session);\r\n\t            msg.setText(mail_content);\r\n\t            msg.setSubject(mail_subject);\r\n\t            msg.setFrom(new InternetAddress(from_address));\r\n\t            msg.addRecipient(Message.RecipientType.TO, new InternetAddress(to_address));\r\n\t            Transport.send(msg);\r\n\t        }\r\n\t        catch (Exception mex)\r\n\t        {\r\n\t            mex.printStackTrace();\r\n\t        } \r\n\t    }\r\n\r\n}\r\n```\r\n\r\n**I am getting the below exception:**\r\n\r\n&gt;     DEBUG: setDebug: JavaMail version 1.5.6\r\n&gt;     DEBUG: getProvider() returning javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle]\r\n&gt;     DEBUG SMTP: need username and password for authentication\r\n&gt;     DEBUG SMTP: protocolConnect returning false, host=smtp.office365.com, user=no-reply@jpmorganchase.com,\r\n&gt;     password=&lt;null&gt;\r\n&gt;     DEBUG SMTP: useEhlo true, useAuth true\r\n&gt;     DEBUG SMTP: trying to connect to host &quot;smtp.office365.com&quot;, port 587, isSSL false\r\n&gt;     javax.mail.MessagingException: Could not connect to SMTP host: smtp.office365.com, port: 587;\r\n&gt;       nested exception is:\r\n&gt;     \tjavax.net.ssl.SSLException: Unsupported or unrecognized SSL message\r\n&gt;     \tat com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2120)\r\n&gt;     \tat com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:712)\r\n\r\n\r\nHave tried various solutions over internet but no luck.\r\n\r\n","title":"Unsupported or unrecognized SSL message","body":"<p>I am trying to send emails from outlook email in Java+ springboot.</p>\n<p>below are the configuration:</p>\n<pre><code>@Service\npublic class EmailService {\n\n    \n    String  from_address = &quot;no-reply@jpmorganchase.com&quot;,\n            password = &quot;somepassword!sd#&quot;,\n            host = &quot;smtp.office365.com&quot;,\n            port = &quot;587&quot;,\n            to_address = &quot;no-reply@jpmorganchase.com&quot;,\n            mail_subject = &quot;Test&quot;,\n            mail_content = &quot;testing mail&quot;,\n             username=&quot;&quot;,\n            user_password=&quot;&quot;;\n    \n    \n     public void sendmail(UserBean user,String uname, String pword)\n        {\n            username=uname;\n            user_password=pword;\n            to_address= user.getEmail();\n            Properties props = new Properties();\n            props.put(&quot;mail.smtp.user&quot;, from_address);\n            props.put(&quot;mail.smtp.host&quot;, host);\n            props.put(&quot;mail.smtp.port&quot;, port);\n            props.put(&quot;mail.smtp.starttls.enable&quot;,&quot;true&quot;);\n            props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n            props.put(&quot;mail.smtp.debug&quot;, &quot;true&quot;);\n            props.put(&quot;mail.smtp.socketFactory.port&quot;, port);\n            props.put(&quot;mail.smtp.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\n            props.put(&quot;mail.smtp.socketFactory.fallback&quot;, &quot;false&quot;);\n            mail_content = \n                     &quot;Hello &quot;+user.getName()+&quot;\\n&quot;\n                            +&quot;Experience &quot;+user.getExperience()+&quot;\\n&quot;\n                            + &quot;Email &quot;+user.getEmail()+&quot;\\n&quot;\n                            + &quot;Set allocated: &quot;+user.getSet()+&quot;\\n&quot;\n                            +&quot;Mobile number &quot;+user.getPhone()+&quot;\\n&quot;+&quot;\\n&quot;\n                            + &quot;Your login credentials are: &quot;+&quot;\\n&quot;\n                            +&quot;User Name: &quot;+username+&quot;\\n&quot;\n                            +&quot;Password:  &quot; + user_password+&quot;\\n&quot;+&quot;\\n&quot;\n                            + &quot;Click on link to take test   &quot;+&quot;https://www.jpmorganchase.com/en_sg&quot;+&quot;\\n&quot; \n                            +  &quot;Message from jpmorganchase&quot;+user.getMessage()+&quot;\\n&quot;;\n                    \n            mail_subject = &quot;jpmorganchase Online Assesment Test&quot;;\n            SecurityManager security = System.getSecurityManager();\n\n            try\n            {\n                Authenticator auth = new SMTPAuthenticator();\n                Session session = Session.getInstance(props, auth);\n                session.setDebug(true);\n                MimeMessage msg = new MimeMessage(session);\n                msg.setText(mail_content);\n                msg.setSubject(mail_subject);\n                msg.setFrom(new InternetAddress(from_address));\n                msg.addRecipient(Message.RecipientType.TO, new InternetAddress(to_address));\n                Transport.send(msg);\n            }\n            catch (Exception mex)\n            {\n                mex.printStackTrace();\n            } \n        }\n     \n     public void sendConfirmationMail(User user, String confirmationToken)\n        {\n            Properties props = new Properties();\n            props.put(&quot;mail.smtp.user&quot;, from_address);\n            props.put(&quot;mail.smtp.host&quot;, host);\n            props.put(&quot;mail.smtp.port&quot;, port);\n            props.put(&quot;mail.smtp.starttls.enable&quot;,&quot;true&quot;);\n            props.put(&quot;mail.smtp.ssl.enable&quot;,&quot;true&quot;);\n            props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n            props.put(&quot;mail.smtp.debug&quot;, &quot;true&quot;);\n            props.put(&quot;mail.smtp.socketFactory.port&quot;, port);\n            props.put(&quot;mail.smtp.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\n            props.put(&quot;mail.smtp.socketFactory.fallback&quot;, &quot;false&quot;);\n            mail_content = \n                     &quot;Hello &quot;+user.getName()+&quot;\\n&quot;\n                     +&quot;To confirm your account, please click here : &quot;\n                        +&quot;http://localhost:8080/jpmorganchase/confirm-account?token=&quot;+confirmationToken;\n            mail_subject=&quot;Complete Registration!&quot;;\n           // String mail[] = user.getEmail().split(&quot;@&quot;);\n            //to_address = mail[0]+&quot;@gmail.com&quot;;\n            to_address = user.getEmail();\n                            \n            SecurityManager security = System.getSecurityManager();\n\n            try\n            {\n                Authenticator auth = new SMTPAuthenticator();\n                Session session = Session.getInstance(props, auth);\n                session.setDebug(true);\n                MimeMessage msg = new MimeMessage(session);\n                msg.setText(mail_content);\n                msg.setSubject(mail_subject);\n                msg.setFrom(new InternetAddress(from_address));\n                msg.addRecipient(Message.RecipientType.TO, new InternetAddress(to_address));\n                Transport.send(msg);\n            }\n            catch (Exception mex)\n            {\n                mex.printStackTrace();\n            } \n        }\n\n}\n</code></pre>\n<p><strong>I am getting the below exception:</strong></p>\n<blockquote>\n<pre><code>DEBUG: setDebug: JavaMail version 1.5.6\nDEBUG: getProvider() returning javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle]\nDEBUG SMTP: need username and password for authentication\nDEBUG SMTP: protocolConnect returning false, host=smtp.office365.com, user=no-reply@jpmorganchase.com,\npassword=&lt;null&gt;\nDEBUG SMTP: useEhlo true, useAuth true\nDEBUG SMTP: trying to connect to host &quot;smtp.office365.com&quot;, port 587, isSSL false\njavax.mail.MessagingException: Could not connect to SMTP host: smtp.office365.com, port: 587;\n  nested exception is:\n  javax.net.ssl.SSLException: Unsupported or unrecognized SSL message\n  at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2120)\n  at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:712)\n</code></pre>\n</blockquote>\n<p>Have tried various solutions over internet but no luck.</p>\n"},{"tags":["java","stream","functional-interface"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1685686730,"post_id":76387553,"comment_id":134698352,"body_markdown":"If you don&#39;t use the return value of a method, it becomes `void` and can be used as such. `Object getName() { return &quot;neela&quot;; } Stream.of(1,2,3).forEach(i -&gt; getName());` would work too (and is a lot simpler than your example). Useless, but it would work.","body":"If you don&#39;t use the return value of a method, it becomes <code>void</code> and can be used as such. <code>Object getName() { return &quot;neela&quot;; } Stream.of(1,2,3).forEach(i -&gt; getName());</code> would work too (and is a lot simpler than your example). Useless, but it would work."},{"owner":{"account_id":28733504,"reputation":11,"user_id":22004951,"display_name":"neela prasad"},"score":0,"creation_date":1685688651,"post_id":76387553,"comment_id":134698659,"body_markdown":"Thanks @knittl for clarification. After your hint, i decompiled the code. i thought, without braces, lambdas will return the value from `getGame()`. but in this case, the actual decompiled code looks like this `forEach((i) -&gt; { this.getName(); });`. Here nothing is returning, the result of `getName()` is being ignored","body":"Thanks @knittl for clarification. After your hint, i decompiled the code. i thought, without braces, lambdas will return the value from <code>getGame()</code>. but in this case, the actual decompiled code looks like this <code>forEach((i) -&gt; { this.getName(); });</code>. Here nothing is returning, the result of <code>getName()</code> is being ignored"},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1685689077,"post_id":76387553,"comment_id":134698729,"body_markdown":"Your lambda is an expression statement, and in that case the compiler will happily discard the result to make it compatible with void as expected by `Consumer`.","body":"Your lambda is an expression statement, and in that case the compiler will happily discard the result to make it compatible with void as expected by <code>Consumer</code>."}],"owner":{"account_id":28733504,"reputation":11,"user_id":22004951,"display_name":"neela prasad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1685688926,"answer_count":0,"score":1,"last_activity_date":1685689098,"creation_date":1685686258,"question_id":76387553,"body_markdown":"I have come across this piece of java code, it seems to have type mismatch in line\r\n`forEach(i -&gt; s.submit(() -&gt; waitTillFinished(cb)))`\r\n\r\n\r\nhere is the full code\r\n\r\n```\r\npublic class Boat {\r\n    private void waitTillFinished(CyclicBarrier c) {\r\n        try {\r\n            c.await();\r\n            System.out.print(&quot;W&quot;);\r\n        } catch (Exception e) {\r\n        }\r\n    }\r\n\r\n    public void row(ExecutorService s) {\r\n        var cb = new CyclicBarrier(5);\r\n        IntStream.iterate(1, i -&gt; i + 1).limit(12).forEach(i -&gt; s.submit(() -&gt; waitTillFinished(cb)));\r\n    }\r\n\r\n    public static void main(String[] oars) {\r\n        ExecutorService service = null;\r\n        try {\r\n            service = Executors.newCachedThreadPool();\r\n            new Boat().row(service);\r\n        } finally {\r\n            service.shutdown();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nHere the return type of the lambda is Future&lt;?&gt; and the forEach() accepts Consumer(which return type is void). I&#39;m trying to understand why this code is working fine even though there is type mismatch.\r\n\r\nI have tried with this kind of scenario with user defined Functional Interface inplace of consumer, then the code failed to compile","title":"Java code with potential type mismatch works without error - why?","body":"<p>I have come across this piece of java code, it seems to have type mismatch in line\n<code>forEach(i -&gt; s.submit(() -&gt; waitTillFinished(cb)))</code></p>\n<p>here is the full code</p>\n<pre><code>public class Boat {\n    private void waitTillFinished(CyclicBarrier c) {\n        try {\n            c.await();\n            System.out.print(&quot;W&quot;);\n        } catch (Exception e) {\n        }\n    }\n\n    public void row(ExecutorService s) {\n        var cb = new CyclicBarrier(5);\n        IntStream.iterate(1, i -&gt; i + 1).limit(12).forEach(i -&gt; s.submit(() -&gt; waitTillFinished(cb)));\n    }\n\n    public static void main(String[] oars) {\n        ExecutorService service = null;\n        try {\n            service = Executors.newCachedThreadPool();\n            new Boat().row(service);\n        } finally {\n            service.shutdown();\n        }\n    }\n}\n</code></pre>\n<p>Here the return type of the lambda is Future&lt;?&gt; and the forEach() accepts Consumer(which return type is void). I'm trying to understand why this code is working fine even though there is type mismatch.</p>\n<p>I have tried with this kind of scenario with user defined Functional Interface inplace of consumer, then the code failed to compile</p>\n"},{"tags":["java","android","printing"],"comments":[{"owner":{"account_id":944448,"reputation":1094,"user_id":971972,"display_name":"Remc4"},"score":0,"creation_date":1685705469,"post_id":76387769,"comment_id":134702001,"body_markdown":"You&#39;re probably better off writing your own ESC/POS drivers than using Android&#39;s bult in framework. It&#39;s easy to print text, and there are only like two different ways to print images.","body":"You&#39;re probably better off writing your own ESC/POS drivers than using Android&#39;s bult in framework. It&#39;s easy to print text, and there are only like two different ways to print images."},{"owner":{"account_id":9847321,"reputation":973,"user_id":7319247,"accept_rate":97,"display_name":"MrX"},"score":0,"creation_date":1685794550,"post_id":76387769,"comment_id":134712906,"body_markdown":"@Remc4 I dont get it about &quot;writing your own ESC/POS&quot; means. My needs is make an interface for my web apps for thermal bluetooth that connected to android device","body":"@Remc4 I dont get it about &quot;writing your own ESC/POS&quot; means. My needs is make an interface for my web apps for thermal bluetooth that connected to android device"},{"owner":{"account_id":944448,"reputation":1094,"user_id":971972,"display_name":"Remc4"},"score":0,"creation_date":1685953298,"post_id":76387769,"comment_id":134727368,"body_markdown":"Thermal printers generally use two protocols: Epson ESC/POS (simpler) and Star (more complex, but more features). It&#39;s relatively easy to write your own code that produces ESC/POS commands (google for ESC/POS commands). The printer connects via Bluetooth and you feed it commands. You can also try this library: https://github.com/DantSu/ESCPOS-ThermalPrinter-Android","body":"Thermal printers generally use two protocols: Epson ESC/POS (simpler) and Star (more complex, but more features). It&#39;s relatively easy to write your own code that produces ESC/POS commands (google for ESC/POS commands). The printer connects via Bluetooth and you feed it commands. You can also try this library: <a href=\"https://github.com/DantSu/ESCPOS-ThermalPrinter-Android\" rel=\"nofollow noreferrer\">github.com/DantSu/ESCPOS-ThermalPrinter-Android</a>"},{"owner":{"account_id":9847321,"reputation":973,"user_id":7319247,"accept_rate":97,"display_name":"MrX"},"score":0,"creation_date":1685968671,"post_id":76387769,"comment_id":134730562,"body_markdown":"@Remc4 i see, I have able to create connection to thermal bluetooth printer on my other android apps, like find pairing bluetooth device, create bluetooth socket, make IO strean and print, everything is work exelecnt. But this time I dont it is posible to reuse that code to my service apps","body":"@Remc4 i see, I have able to create connection to thermal bluetooth printer on my other android apps, like find pairing bluetooth device, create bluetooth socket, make IO strean and print, everything is work exelecnt. But this time I dont it is posible to reuse that code to my service apps"}],"owner":{"account_id":9847321,"reputation":973,"user_id":7319247,"accept_rate":97,"display_name":"MrX"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685688471,"creation_date":1685688471,"question_id":76387769,"body_markdown":"I&#39;m trying to print from Google Chrome Apps using Bluetooth Thermal Printer. In this case I read some documentation and question regarding [this example][1] then I used this example to print simple image or text. But the problem on my device only show printing progress and not printing anything. Here what I&#39;ve done : \r\n\r\n\r\nI have one class named PrintServices extends PrintService  \r\n\r\n- onStartPrinterDiscovery : \r\n\r\n       public void onStartPrinterDiscovery(List&lt;PrinterId&gt; priorityList) {\r\n            if (!priorityList.isEmpty()) {\r\n                return;\r\n            }\r\n\r\n            // RPP02N 66:12:29:4F:06:1C | 54:47:41:07:70:79 || 66:12:29:4F:06:1C\r\n\r\n            final List&lt;PrinterInfo&gt; printers = new ArrayList&lt;&gt;();\r\n            final PrinterId printerId = generatePrinterId(&quot;66:12:29:4F:06:1C&quot;);\r\n            final PrinterInfo.Builder builder = new PrinterInfo.Builder(printerId, &quot;RPP02N&quot;, PrinterInfo.STATUS_IDLE);\r\n            PrinterCapabilitiesInfo.Builder capBuilder = new PrinterCapabilitiesInfo.Builder(printerId);\r\n            capBuilder.addMediaSize(PrintAttributes.MediaSize.ISO_A4, true);\r\n            capBuilder.addMediaSize(PrintAttributes.MediaSize.ISO_A3, false);\r\n            capBuilder.addMediaSize(PrintAttributes.MediaSize.NA_INDEX_4X6, false);\r\n            capBuilder.addResolution(new PrintAttributes.Resolution(&quot;resolutionId&quot;, &quot;default resolution&quot;, 600, 600), true);\r\n            capBuilder.setColorModes(PrintAttributes.COLOR_MODE_MONOCHROME, PrintAttributes.COLOR_MODE_MONOCHROME);\r\n            builder.setCapabilities(capBuilder.build());\r\n            printers.add(builder.build());\r\n            addPrinters(printers);\r\n        }\r\n\r\n \r\n- onPrintJobQueued : \r\n\r\n        protected void onPrintJobQueued(PrintJob printJob) {        \r\n            final PrintDocument document = printJob.getDocument();\r\n\r\n            final FileInputStream in = new FileInputStream(document.getData().getFileDescriptor());\r\n            try {\r\n                final byte[] buffer = new byte[4096];\r\n                in.read(buffer);\r\n            } catch (IOException e) {\r\n                Log.d(&quot;myprinter&quot;, &quot;&quot;, e);\r\n            } finally {\r\n                try {\r\n                    in.close();\r\n                } catch (IOException e) {\r\n                    assert true;\r\n                }\r\n            }\r\n            printJob.complete();\r\n        }\r\n\r\nPrinter services is enabled on device setting. The printer device is pairing with my android device. When I try open some page on Chrome then print using my Apps service, my printer didn&#39;t print anything.\r\n\r\n* Here my reference from other SO : https://stackoverflow.com/questions/41398441/android-printing-using-custom-print-service\r\n\r\n  [1]: https://github.com/zaki50/MyPrintServiceProject/blob/master/MyPrintService/src/main/java/org/zakky/myprintservice/MainActivity.java","title":"Print Service to Thermal Bluetooth Printer RPP02N","body":"<p>I'm trying to print from Google Chrome Apps using Bluetooth Thermal Printer. In this case I read some documentation and question regarding <a href=\"https://github.com/zaki50/MyPrintServiceProject/blob/master/MyPrintService/src/main/java/org/zakky/myprintservice/MainActivity.java\" rel=\"nofollow noreferrer\">this example</a> then I used this example to print simple image or text. But the problem on my device only show printing progress and not printing anything. Here what I've done :</p>\n<p>I have one class named PrintServices extends PrintService</p>\n<ul>\n<li><p>onStartPrinterDiscovery :</p>\n<pre><code> public void onStartPrinterDiscovery(List&lt;PrinterId&gt; priorityList) {\n      if (!priorityList.isEmpty()) {\n          return;\n      }\n\n      // RPP02N 66:12:29:4F:06:1C | 54:47:41:07:70:79 || 66:12:29:4F:06:1C\n\n      final List&lt;PrinterInfo&gt; printers = new ArrayList&lt;&gt;();\n      final PrinterId printerId = generatePrinterId(&quot;66:12:29:4F:06:1C&quot;);\n      final PrinterInfo.Builder builder = new PrinterInfo.Builder(printerId, &quot;RPP02N&quot;, PrinterInfo.STATUS_IDLE);\n      PrinterCapabilitiesInfo.Builder capBuilder = new PrinterCapabilitiesInfo.Builder(printerId);\n      capBuilder.addMediaSize(PrintAttributes.MediaSize.ISO_A4, true);\n      capBuilder.addMediaSize(PrintAttributes.MediaSize.ISO_A3, false);\n      capBuilder.addMediaSize(PrintAttributes.MediaSize.NA_INDEX_4X6, false);\n      capBuilder.addResolution(new PrintAttributes.Resolution(&quot;resolutionId&quot;, &quot;default resolution&quot;, 600, 600), true);\n      capBuilder.setColorModes(PrintAttributes.COLOR_MODE_MONOCHROME, PrintAttributes.COLOR_MODE_MONOCHROME);\n      builder.setCapabilities(capBuilder.build());\n      printers.add(builder.build());\n      addPrinters(printers);\n  }\n</code></pre>\n</li>\n<li><p>onPrintJobQueued :</p>\n<pre><code>  protected void onPrintJobQueued(PrintJob printJob) {        \n      final PrintDocument document = printJob.getDocument();\n\n      final FileInputStream in = new FileInputStream(document.getData().getFileDescriptor());\n      try {\n          final byte[] buffer = new byte[4096];\n          in.read(buffer);\n      } catch (IOException e) {\n          Log.d(&quot;myprinter&quot;, &quot;&quot;, e);\n      } finally {\n          try {\n              in.close();\n          } catch (IOException e) {\n              assert true;\n          }\n      }\n      printJob.complete();\n  }\n</code></pre>\n</li>\n</ul>\n<p>Printer services is enabled on device setting. The printer device is pairing with my android device. When I try open some page on Chrome then print using my Apps service, my printer didn't print anything.</p>\n<ul>\n<li>Here my reference from other SO : <a href=\"https://stackoverflow.com/questions/41398441/android-printing-using-custom-print-service\">Android Printing using custom Print service</a></li>\n</ul>\n"},{"tags":["java","spring","spring-boot","aop","cglib"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1685700073,"post_id":76381260,"comment_id":134700939,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":12841979,"reputation":1,"user_id":9289741,"display_name":"Petr Vran&#237;k"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685631637,"creation_date":1685631637,"answer_id":76383270,"question_id":76381260,"body_markdown":"Finally. after almost of week of investigations,  I managed to isolate the sinner. Solr 8.2.1 causes this issue. With Solr 8.2.0 it works with  Solr 8.2.1 there is class cast exception for spring proxies.\r\n\r\nHard to believe that this is related.","title":"ClassCastException for configuration CGLIB proxy and org.springframework.cglib.proxy.Factory after upgrade Spring to 6.0.9 and Spring Boot to 3.0.6","body":"<p>Finally. after almost of week of investigations,  I managed to isolate the sinner. Solr 8.2.1 causes this issue. With Solr 8.2.0 it works with  Solr 8.2.1 there is class cast exception for spring proxies.</p>\n<p>Hard to believe that this is related.</p>\n"}],"owner":{"account_id":12841979,"reputation":1,"user_id":9289741,"display_name":"Petr Vran&#237;k"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":572,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76383270,"answer_count":1,"score":0,"last_activity_date":1685688413,"creation_date":1685617741,"question_id":76381260,"body_markdown":"In our project, after upgrade the SpringBoot from `3.0.4` to `3.0.9`, several of our tests started to fail on\r\n```\r\nCaused by: org.springframework.aop.framework.AopConfigException: Unexpected AOP exception\r\n\tat app//org.springframework.aop.framework.CglibAopProxy.buildProxy(CglibAopProxy.java:222)\r\n\tat app//org.springframework.aop.framework.CglibAopProxy.getProxy(CglibAopProxy.java:158)\r\n\tat app//org.springframework.aop.framework.ProxyFactory.getProxy(ProxyFactory.java:110)\r\n\tat app//org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.buildProxy(AbstractAutoProxyCreator.java:517)\r\n\tat app//org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.createProxy(AbstractAutoProxyCreator.java:464)\r\n\tat app//org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.wrapIfNecessary(AbstractAutoProxyCreator.java:369)\r\n\tat app//org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.postProcessAfterInitialization(AbstractAutoProxyCreator.java:318)\r\n\tat app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:434)\r\n\tat app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1773)\r\n\tat app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)\r\n\t... 80 more\r\nCaused by: java.lang.ClassCastException: class our.project.RepositoryConfiguration$LiquibaseConfiguration$$SpringCGLIB$$0 cannot be cast to class org.springframework.cglib.proxy.Factory (our.project.RepositoryConfiguration$LiquibaseConfiguration$$SpringCGLIB$$0 and org.springframework.cglib.proxy.Factory are in unnamed module of loader &#39;app&#39;)\r\n\tat org.springframework.aop.framework.ObjenesisCglibAopProxy.createProxyClassAndInstance(ObjenesisCglibAopProxy.java:91)\r\n\tat org.springframework.aop.framework.CglibAopProxy.buildProxy(CglibAopProxy.java:213)\r\n\t... 89 more\r\n```\r\n\r\nIt&#39;s not bounded just to the `our.project.RepositoryConfiguration$LiquibaseConfiguration`. When I disable this configuration, then similar exception occurs on next configuration.\r\n\r\nAnother weird thing is that the test passes if only the single test class is called or if this class is executed first. Otherwise the ClassCastException ocurs.\r\n\r\nWe use TestNG for testing.\r\n\r\nI tried to upgrade Spring to version 3.0.6 from 3.0.4 and Spring Boot to version 3.0.6 from 3.0.4 and I expect that all our current tests will pass. But for 34 tests of our ~ 2000 there is an exception `java.lang.ClassCastException: class our.project.RepositoryConfiguration$LiquibaseConfiguration$$SpringCGLIB$$0 cannot be cast to class org.springframework.cglib.proxy.Factory (our.project.RepositoryConfiguration$LiquibaseConfiguration$$SpringCGLIB$$0 and org.springframework.cglib.proxy.Factory are in unnamed module of loader &#39;app&#39;)`","title":"ClassCastException for configuration CGLIB proxy and org.springframework.cglib.proxy.Factory after upgrade Spring to 6.0.9 and Spring Boot to 3.0.6","body":"<p>In our project, after upgrade the SpringBoot from <code>3.0.4</code> to <code>3.0.9</code>, several of our tests started to fail on</p>\n<pre><code>Caused by: org.springframework.aop.framework.AopConfigException: Unexpected AOP exception\n    at app//org.springframework.aop.framework.CglibAopProxy.buildProxy(CglibAopProxy.java:222)\n    at app//org.springframework.aop.framework.CglibAopProxy.getProxy(CglibAopProxy.java:158)\n    at app//org.springframework.aop.framework.ProxyFactory.getProxy(ProxyFactory.java:110)\n    at app//org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.buildProxy(AbstractAutoProxyCreator.java:517)\n    at app//org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.createProxy(AbstractAutoProxyCreator.java:464)\n    at app//org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.wrapIfNecessary(AbstractAutoProxyCreator.java:369)\n    at app//org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.postProcessAfterInitialization(AbstractAutoProxyCreator.java:318)\n    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:434)\n    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1773)\n    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)\n    ... 80 more\nCaused by: java.lang.ClassCastException: class our.project.RepositoryConfiguration$LiquibaseConfiguration$$SpringCGLIB$$0 cannot be cast to class org.springframework.cglib.proxy.Factory (our.project.RepositoryConfiguration$LiquibaseConfiguration$$SpringCGLIB$$0 and org.springframework.cglib.proxy.Factory are in unnamed module of loader 'app')\n    at org.springframework.aop.framework.ObjenesisCglibAopProxy.createProxyClassAndInstance(ObjenesisCglibAopProxy.java:91)\n    at org.springframework.aop.framework.CglibAopProxy.buildProxy(CglibAopProxy.java:213)\n    ... 89 more\n</code></pre>\n<p>It's not bounded just to the <code>our.project.RepositoryConfiguration$LiquibaseConfiguration</code>. When I disable this configuration, then similar exception occurs on next configuration.</p>\n<p>Another weird thing is that the test passes if only the single test class is called or if this class is executed first. Otherwise the ClassCastException ocurs.</p>\n<p>We use TestNG for testing.</p>\n<p>I tried to upgrade Spring to version 3.0.6 from 3.0.4 and Spring Boot to version 3.0.6 from 3.0.4 and I expect that all our current tests will pass. But for 34 tests of our ~ 2000 there is an exception <code>java.lang.ClassCastException: class our.project.RepositoryConfiguration$LiquibaseConfiguration$$SpringCGLIB$$0 cannot be cast to class org.springframework.cglib.proxy.Factory (our.project.RepositoryConfiguration$LiquibaseConfiguration$$SpringCGLIB$$0 and org.springframework.cglib.proxy.Factory are in unnamed module of loader 'app')</code></p>\n"},{"tags":["java","android","base64","public-key-encryption","spongycastle"],"comments":[{"owner":{"account_id":2006398,"reputation":2829,"user_id":1796173,"accept_rate":64,"display_name":"Ankit Popli"},"score":0,"creation_date":1434535737,"post_id":30868936,"comment_id":49816584,"body_markdown":"@jww: its &quot;secp128r1&quot;","body":"@jww: its &quot;secp128r1&quot;"},{"owner":{"account_id":301110,"reputation":98844,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":0,"creation_date":1434536905,"post_id":30868936,"comment_id":49817289,"body_markdown":"HexDecode the public key and compare it to the public key shown at the end of [Use previously generated private key in ECIES](http://stackoverflow.com/a/30878843/608639). Do you have that structure (with OIDs for `ecPublicKey` and `prime128v1`)? Can you use `dumpasn1` to dump it? If its *just* and ASN.1 Integer, then `dumpaasn1` should be able to dump it.","body":"HexDecode the public key and compare it to the public key shown at the end of <a href=\"http://stackoverflow.com/a/30878843/608639\">Use previously generated private key in ECIES</a>. Do you have that structure (with OIDs for <code>ecPublicKey</code> and <code>prime128v1</code>)? Can you use <code>dumpasn1</code> to dump it? If its <i>just</i> and ASN.1 Integer, then <code>dumpaasn1</code> should be able to dump it."},{"owner":{"account_id":301110,"reputation":98844,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":0,"creation_date":1434537464,"post_id":30868936,"comment_id":49817631,"body_markdown":"***If*** you called `getEncoded()` on the `ECPublicKey`, then you have a malformed public key because its supposed to be the *SubjectPublicKeyInfo*. The *SubjectPublicKeyInfo* is shown at the end of [Use previously generated private key in ECIES](http://stackoverflow.com/a/30878843/608639). See the docs Java docs at [getEncoded](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b27/java/security/Key.java#Key.getEncoded%28%29) and [getFormat](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b27/java/security/Key.java#Key.getFormat%28%29)","body":"<b><i>If</i></b> you called <code>getEncoded()</code> on the <code>ECPublicKey</code>, then you have a malformed public key because its supposed to be the <i>SubjectPublicKeyInfo</i>. The <i>SubjectPublicKeyInfo</i> is shown at the end of <a href=\"http://stackoverflow.com/a/30878843/608639\">Use previously generated private key in ECIES</a>. See the docs Java docs at <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b27/java/security/Key.java#Key.getEncoded%28%29\" rel=\"nofollow noreferrer\">getEncoded</a> and <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b27/java/security/Key.java#Key.getFormat%28%29\" rel=\"nofollow noreferrer\">getFormat</a>"},{"owner":{"account_id":2006398,"reputation":2829,"user_id":1796173,"accept_rate":64,"display_name":"Ankit Popli"},"score":0,"creation_date":1434538242,"post_id":30868936,"comment_id":49818159,"body_markdown":"@jww we are using P-128 just for experiments, we will be changing the curve once we have successfully implemented the architecture. I did try to load the bytes using ASN1Primitive, I&#39;ve updated the question sharing its result.","body":"@jww we are using P-128 just for experiments, we will be changing the curve once we have successfully implemented the architecture. I did try to load the bytes using ASN1Primitive, I&#39;ve updated the question sharing its result."},{"owner":{"account_id":301110,"reputation":98844,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":0,"creation_date":1434538397,"post_id":30868936,"comment_id":49818268,"body_markdown":"The public key is malformed. Throw it away and start over. You have a test set of keys (private exponent and public point) you can use at the second answer at [Use previously generated private key in ECIES](http://stackoverflow.com/a/30886380/608639).","body":"The public key is malformed. Throw it away and start over. You have a test set of keys (private exponent and public point) you can use at the second answer at <a href=\"http://stackoverflow.com/a/30886380/608639\">Use previously generated private key in ECIES</a>."},{"owner":{"account_id":2006398,"reputation":2829,"user_id":1796173,"accept_rate":64,"display_name":"Ankit Popli"},"score":0,"creation_date":1434538784,"post_id":30868936,"comment_id":49818512,"body_markdown":"@jww ok let me go through it again, but the key just works fine on the server, just in case if it helps debugging, we are using https://github.com/yann2192/pyelliptic on the server.","body":"@jww ok let me go through it again, but the key just works fine on the server, just in case if it helps debugging, we are using <a href=\"https://github.com/yann2192/pyelliptic\" rel=\"nofollow noreferrer\">github.com/yann2192/pyelliptic</a> on the server."},{"owner":{"account_id":301110,"reputation":98844,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":0,"creation_date":1434539009,"post_id":30868936,"comment_id":49818660,"body_markdown":"***If*** you need a *SubjectPublicKeyInfo (SPKI)*, then you will need to do some more work. But what you show above does ***not*** look like a SPKI.","body":"<b><i>If</i></b> you need a <i>SubjectPublicKeyInfo (SPKI)</i>, then you will need to do some more work. But what you show above does <b><i>not</i></b> look like a SPKI."},{"owner":{"account_id":301110,"reputation":98844,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":0,"creation_date":1434548625,"post_id":30868936,"comment_id":49826062,"body_markdown":"I added both *PrivateKeyInfo* and *SubjectPublicKeyInfo* to that answer. You should be able to load it in any form you need. If you have questions about the underlying structure, then HexDecode them and then print them with `dumpasn1`.","body":"I added both <i>PrivateKeyInfo</i> and <i>SubjectPublicKeyInfo</i> to that answer. You should be able to load it in any form you need. If you have questions about the underlying structure, then HexDecode them and then print them with <code>dumpasn1</code>."},{"owner":{"account_id":2006398,"reputation":2829,"user_id":1796173,"accept_rate":64,"display_name":"Ankit Popli"},"score":0,"creation_date":1434553202,"post_id":30868936,"comment_id":49829740,"body_markdown":"@jww it seems to be too big for P-128 as you have stated on that answer. I&#39;m going through pyelliptic and there seems to be issue with point compression, just going through it, will update you shortly.","body":"@jww it seems to be too big for P-128 as you have stated on that answer. I&#39;m going through pyelliptic and there seems to be issue with point compression, just going through it, will update you shortly."},{"owner":{"account_id":2006398,"reputation":2829,"user_id":1796173,"accept_rate":64,"display_name":"Ankit Popli"},"score":0,"creation_date":1434609473,"post_id":30868936,"comment_id":49854111,"body_markdown":"@jww Thanks a ton buddy, you lead us in the right direction. We found out the python library we were relying on did not use point compression.","body":"@jww Thanks a ton buddy, you lead us in the right direction. We found out the python library we were relying on did not use point compression."}],"answers":[{"tags":[],"owner":{"account_id":477208,"reputation":418,"user_id":888570,"display_name":"Victor"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1443838949,"creation_date":1443838949,"answer_id":32918284,"question_id":30868936,"body_markdown":"Your base64 encoded data is 38 bytes long and does not seem to be in ASN1. Maybe that is a problem. On another hand as long as you can extract X and Y from your data you can generate public key this way:\r\n\r\n    \t  String hexPubKeyXY = &quot;01f82bfb2f0a3e988adc3d053d8e6ff878154306e402d871b7d6000823a1397f&quot;;\r\n    \t  String hexX = hexPubKeyXY.substring(0, 32);\r\n    \t  String hexY = hexPubKeyXY.substring(32);\r\n          ECPoint point = new ECPoint(new BigInteger(hexX, 16), new BigInteger(hexY, 16));\r\n          \r\n          AlgorithmParameters parameters = AlgorithmParameters.getInstance(&quot;EC&quot;, &quot;SunEC&quot;);\r\n          parameters.init(new ECGenParameterSpec(&quot;secp128r1&quot;));\r\n          ECParameterSpec ecParameters = parameters.getParameterSpec(ECParameterSpec.class);\r\n          \r\n          ECPublicKeySpec pubKeySpec = new ECPublicKeySpec(point, ecParameters);\r\n          \r\n          PublicKey key = KeyFactory.getInstance(&quot;EC&quot;, &quot;SunEC&quot;).generatePublic(pubKeySpec);\r\n\r\n","title":"Retrieve ECC Public Key from Base64 encoded string","body":"<p>Your base64 encoded data is 38 bytes long and does not seem to be in ASN1. Maybe that is a problem. On another hand as long as you can extract X and Y from your data you can generate public key this way:</p>\n\n<pre><code>      String hexPubKeyXY = \"01f82bfb2f0a3e988adc3d053d8e6ff878154306e402d871b7d6000823a1397f\";\n      String hexX = hexPubKeyXY.substring(0, 32);\n      String hexY = hexPubKeyXY.substring(32);\n      ECPoint point = new ECPoint(new BigInteger(hexX, 16), new BigInteger(hexY, 16));\n\n      AlgorithmParameters parameters = AlgorithmParameters.getInstance(\"EC\", \"SunEC\");\n      parameters.init(new ECGenParameterSpec(\"secp128r1\"));\n      ECParameterSpec ecParameters = parameters.getParameterSpec(ECParameterSpec.class);\n\n      ECPublicKeySpec pubKeySpec = new ECPublicKeySpec(point, ecParameters);\n\n      PublicKey key = KeyFactory.getInstance(\"EC\", \"SunEC\").generatePublic(pubKeySpec);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24648588,"reputation":1,"user_id":22001127,"display_name":"Mohamad Fayez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685688361,"creation_date":1685688299,"answer_id":76387744,"question_id":30868936,"body_markdown":"     private static PublicKey getPublicKeyFromBase64(String hexPKey) throws NoSuchAlgorithmException, InvalidKeySpecException {\r\n            byte[] pubKey = Base64.getDecoder().decode(hexPKey);\r\n            ECNamedCurveParameterSpec spec = ECNamedCurveTable.getParameterSpec(&quot;prime256v1&quot;);\r\n            KeyFactory kf = KeyFactory.getInstance(&quot;ECDSA&quot;, new BouncyCastleProvider());\r\n            ECNamedCurveSpec params = new ECNamedCurveSpec(&quot;prime256v1&quot;, spec.getCurve(), spec.getG(), spec.getN());\r\n            ECPoint point =  ECPointUtil.decodePoint(params.getCurve(), pubKey);\r\n            ECPublicKeySpec pubKeySpec = new ECPublicKeySpec(point, params);\r\n            ECPublicKey pk = (ECPublicKey) kf.generatePublic(pubKeySpec);\r\n            return pk;\r\n        }\r\n\r\n","title":"Retrieve ECC Public Key from Base64 encoded string","body":"<pre><code> private static PublicKey getPublicKeyFromBase64(String hexPKey) throws NoSuchAlgorithmException, InvalidKeySpecException {\n        byte[] pubKey = Base64.getDecoder().decode(hexPKey);\n        ECNamedCurveParameterSpec spec = ECNamedCurveTable.getParameterSpec(&quot;prime256v1&quot;);\n        KeyFactory kf = KeyFactory.getInstance(&quot;ECDSA&quot;, new BouncyCastleProvider());\n        ECNamedCurveSpec params = new ECNamedCurveSpec(&quot;prime256v1&quot;, spec.getCurve(), spec.getG(), spec.getN());\n        ECPoint point =  ECPointUtil.decodePoint(params.getCurve(), pubKey);\n        ECPublicKeySpec pubKeySpec = new ECPublicKeySpec(point, params);\n        ECPublicKey pk = (ECPublicKey) kf.generatePublic(pubKeySpec);\n        return pk;\n    }\n</code></pre>\n"}],"owner":{"account_id":2006398,"reputation":2829,"user_id":1796173,"accept_rate":64,"display_name":"Ankit Popli"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4207,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1685688361,"creation_date":1434461139,"question_id":30868936,"body_markdown":"I&#39;ve been trying to create an instance of `java.security.PublicKey` using a Base64 encoded ECC public key.\r\n\r\n### MainActivity.java\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        try {\r\n            byte[] data = decodePublicKey(&quot;AsIAEFjzIcX+Kvhe8AmLoGUc8aYAEAwf5ecREGZ2u4RLxQuav/A=&quot;);\r\n            PublicKey publicKey = loadPublicKey(&quot;secp128r1&quot;, data);\r\n\r\n            Log.d(TAG, publicKey.toString());\r\n        } catch (SQLException | IOException | GeneralSecurityException e) {\r\n            Log.e(TAG, e.getMessage(), e);\r\n        }\r\n    }\r\n\r\n    private byte[] decodePublicKey(String s) throws UnsupportedEncodingException {\r\n        return Base64.decode(s, Base64.DEFAULT);\r\n    }\r\n\r\n    public PublicKey loadPublicKey(String curve, byte[] data)\r\n            throws SQLException, IOException, GeneralSecurityException {\r\n        Log.d(TAG, Arrays.toString(data));\r\n        // [2, -62, 0, 16, 88, -13, 33, -59, -2, 42, -8, 94, -16, 9, -117, -96, 101, 28, -15, -90, 0, 16, 12, 31, -27, -25, 17, 16, 102, 118, -69, -124, 75, -59, 11, -102, -65, -16]\r\n        Log.d(TAG, &quot;Length :&quot; + String.valueOf(data.length));\r\n\r\n        KeyFactory factory = KeyFactory.getInstance(&quot;EC&quot;, &quot;SC&quot;);\r\n        ECNamedCurveParameterSpec spec = ECNamedCurveTable.getParameterSpec(curve);\r\n        ECCurve eccCurve = spec.getCurve();\r\n        Log.d(TAG, &quot;Curve: &quot; + curve);\r\n\r\n        EllipticCurve ellipticCurve = EC5Util.convertCurve(eccCurve, spec.getSeed());\r\n\r\n        // decoding point fails, \r\n        // line no 66.\r\n        ECPoint point = ECPointUtil.decodePoint(ellipticCurve, data);\r\n        ECParameterSpec params = EC5Util.convertSpec(ellipticCurve, spec);\r\n\r\n        ECPublicKeySpec keySpec = new ECPublicKeySpec(point, params);\r\n        return factory.generatePublic(keySpec);\r\n    }\r\n\r\n### Logcat:\r\n    \r\n    Process: com.example.eccdemo, PID: 21151\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.eccdemo/com.example.eccdemo.MainActivity}: java.lang.IllegalArgumentException: Incorrect length for compressed encoding\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2329)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2389)\r\n            at android.app.ActivityThread.access$900(ActivityThread.java:147)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1296)\r\n            at android.os.Handler.dispatchMessage(Handler.java:102)\r\n            at android.os.Looper.loop(Looper.java:135)\r\n            at android.app.ActivityThread.main(ActivityThread.java:5254)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at java.lang.reflect.Method.invoke(Method.java:372)\r\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:898)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:693)\r\n     Caused by: java.lang.IllegalArgumentException: Incorrect length for compressed encoding\r\n            at org.spongycastle.math.ec.ECCurve.decodePoint(ECCurve.java:349)\r\n            at org.spongycastle.jce.ECPointUtil.decodePoint(ECPointUtil.java:52)\r\n            at com.example.eccdemo.MainActivity.loadPublicKey(MainActivity.java:66)\r\n            at com.example.eccdemo.MainActivity.onCreate(MainActivity.java:45)\r\n            at android.app.Activity.performCreate(Activity.java:5933)\r\n            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1105)\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2282)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2389)\r\n            at android.app.ActivityThread.access$900(ActivityThread.java:147)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1296)\r\n            at android.os.Handler.dispatchMessage(Handler.java:102)\r\n            at android.os.Looper.loop(Looper.java:135)\r\n            at android.app.ActivityThread.main(ActivityThread.java:5254)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at java.lang.reflect.Method.invoke(Method.java:372)\r\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:898)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:693)\r\n\r\n\r\n## Further Inspection:\r\n\r\nIn Logcat, upon printing the decoded bytes, they actually differ from the one on the server:\r\n\r\n        Log.d(TAG, Arrays.toString(data));\r\n        [2, -62, 0, 16, 88, -13, 33, -59, -2, 42, -8, 94, -16, 9, -117, -96, 101, 28, -15, -90, 0, 16, 12, 31, -27, -25, 17, 16, 102, 118, -69, -124, 75, -59, 11, -102, -65, -16]\r\n\r\nIn python console:\r\n\r\n    In [131]: [_ for _ in ap.public_key.tobytes()]\r\n    Out[131]: [2, 194, 0, 16, 88, 243, 33, 197, 254, 42, 248, 94, 240, 9, 139, 160, 101, 28, 241, 166, 0, 16, 12, 31, 229, 231, 17, 16, 102, 118, 187, 132, 75, 197, 11, 154, 191, 240]\r\n\r\n\r\nIt would be great if someone can explain the reason to this anomaly, and also help me out on the small snippet to get `PublicKey` instance from the String.\r\n\r\nReferences:\r\n\r\n - http://www.programcreek.com/java-api-examples/index.php?api=org.bouncycastle.asn1.ASN1InputStream\r\n\r\n - http://www.bouncycastle.org/wiki/display/JA1/Elliptic+Curve+Key+Pair+Generation+and+Key+Factories\r\n\r\nThanks in advance!!\r\n\r\n## Update:\r\nWhen trying to load ASN1Primitive using the line below, it throws the following exception:\r\n\r\n    ASN1Primitive.fromByteArray(data);\r\n\r\nException:\r\n\r\n    java.io.IOException: DER length more than 4 bytes: 66\r\n            at org.spongycastle.asn1.ASN1InputStream.readLength(ASN1InputStream.java:347)\r\n            at org.spongycastle.asn1.ASN1InputStream.readLength(ASN1InputStream.java:112)\r\n            at org.spongycastle.asn1.ASN1InputStream.readObject(ASN1InputStream.java:237)\r\n            at org.spongycastle.asn1.ASN1Primitive.fromByteArray(ASN1Primitive.java:30)\r\n            at com.example.eccdemo.MainActivity.onCreate(MainActivity.java:48)\r\n            at android.app.Activity.performCreate(Activity.java:5933)\r\n            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1105)\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2282)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2389)\r\n            at android.app.ActivityThread.access$900(ActivityThread.java:147)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1296)\r\n            at android.os.Handler.dispatchMessage(Handler.java:102)\r\n            at android.os.Looper.loop(Looper.java:135)\r\n            at android.app.ActivityThread.main(ActivityThread.java:5254)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at java.lang.reflect.Method.invoke(Method.java:372)\r\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:898)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:693)","title":"Retrieve ECC Public Key from Base64 encoded string","body":"<p>I've been trying to create an instance of <code>java.security.PublicKey</code> using a Base64 encoded ECC public key.</p>\n\n<h3>MainActivity.java</h3>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    try {\n        byte[] data = decodePublicKey(\"AsIAEFjzIcX+Kvhe8AmLoGUc8aYAEAwf5ecREGZ2u4RLxQuav/A=\");\n        PublicKey publicKey = loadPublicKey(\"secp128r1\", data);\n\n        Log.d(TAG, publicKey.toString());\n    } catch (SQLException | IOException | GeneralSecurityException e) {\n        Log.e(TAG, e.getMessage(), e);\n    }\n}\n\nprivate byte[] decodePublicKey(String s) throws UnsupportedEncodingException {\n    return Base64.decode(s, Base64.DEFAULT);\n}\n\npublic PublicKey loadPublicKey(String curve, byte[] data)\n        throws SQLException, IOException, GeneralSecurityException {\n    Log.d(TAG, Arrays.toString(data));\n    // [2, -62, 0, 16, 88, -13, 33, -59, -2, 42, -8, 94, -16, 9, -117, -96, 101, 28, -15, -90, 0, 16, 12, 31, -27, -25, 17, 16, 102, 118, -69, -124, 75, -59, 11, -102, -65, -16]\n    Log.d(TAG, \"Length :\" + String.valueOf(data.length));\n\n    KeyFactory factory = KeyFactory.getInstance(\"EC\", \"SC\");\n    ECNamedCurveParameterSpec spec = ECNamedCurveTable.getParameterSpec(curve);\n    ECCurve eccCurve = spec.getCurve();\n    Log.d(TAG, \"Curve: \" + curve);\n\n    EllipticCurve ellipticCurve = EC5Util.convertCurve(eccCurve, spec.getSeed());\n\n    // decoding point fails, \n    // line no 66.\n    ECPoint point = ECPointUtil.decodePoint(ellipticCurve, data);\n    ECParameterSpec params = EC5Util.convertSpec(ellipticCurve, spec);\n\n    ECPublicKeySpec keySpec = new ECPublicKeySpec(point, params);\n    return factory.generatePublic(keySpec);\n}\n</code></pre>\n\n<h3>Logcat:</h3>\n\n<pre><code>Process: com.example.eccdemo, PID: 21151\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.eccdemo/com.example.eccdemo.MainActivity}: java.lang.IllegalArgumentException: Incorrect length for compressed encoding\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2329)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2389)\n        at android.app.ActivityThread.access$900(ActivityThread.java:147)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1296)\n        at android.os.Handler.dispatchMessage(Handler.java:102)\n        at android.os.Looper.loop(Looper.java:135)\n        at android.app.ActivityThread.main(ActivityThread.java:5254)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at java.lang.reflect.Method.invoke(Method.java:372)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:898)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:693)\n Caused by: java.lang.IllegalArgumentException: Incorrect length for compressed encoding\n        at org.spongycastle.math.ec.ECCurve.decodePoint(ECCurve.java:349)\n        at org.spongycastle.jce.ECPointUtil.decodePoint(ECPointUtil.java:52)\n        at com.example.eccdemo.MainActivity.loadPublicKey(MainActivity.java:66)\n        at com.example.eccdemo.MainActivity.onCreate(MainActivity.java:45)\n        at android.app.Activity.performCreate(Activity.java:5933)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1105)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2282)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2389)\n        at android.app.ActivityThread.access$900(ActivityThread.java:147)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1296)\n        at android.os.Handler.dispatchMessage(Handler.java:102)\n        at android.os.Looper.loop(Looper.java:135)\n        at android.app.ActivityThread.main(ActivityThread.java:5254)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at java.lang.reflect.Method.invoke(Method.java:372)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:898)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:693)\n</code></pre>\n\n<h2>Further Inspection:</h2>\n\n<p>In Logcat, upon printing the decoded bytes, they actually differ from the one on the server:</p>\n\n<pre><code>    Log.d(TAG, Arrays.toString(data));\n    [2, -62, 0, 16, 88, -13, 33, -59, -2, 42, -8, 94, -16, 9, -117, -96, 101, 28, -15, -90, 0, 16, 12, 31, -27, -25, 17, 16, 102, 118, -69, -124, 75, -59, 11, -102, -65, -16]\n</code></pre>\n\n<p>In python console:</p>\n\n<pre><code>In [131]: [_ for _ in ap.public_key.tobytes()]\nOut[131]: [2, 194, 0, 16, 88, 243, 33, 197, 254, 42, 248, 94, 240, 9, 139, 160, 101, 28, 241, 166, 0, 16, 12, 31, 229, 231, 17, 16, 102, 118, 187, 132, 75, 197, 11, 154, 191, 240]\n</code></pre>\n\n<p>It would be great if someone can explain the reason to this anomaly, and also help me out on the small snippet to get <code>PublicKey</code> instance from the String.</p>\n\n<p>References:</p>\n\n<ul>\n<li><p><a href=\"http://www.programcreek.com/java-api-examples/index.php?api=org.bouncycastle.asn1.ASN1InputStream\" rel=\"nofollow\">http://www.programcreek.com/java-api-examples/index.php?api=org.bouncycastle.asn1.ASN1InputStream</a></p></li>\n<li><p><a href=\"http://www.bouncycastle.org/wiki/display/JA1/Elliptic+Curve+Key+Pair+Generation+and+Key+Factories\" rel=\"nofollow\">http://www.bouncycastle.org/wiki/display/JA1/Elliptic+Curve+Key+Pair+Generation+and+Key+Factories</a></p></li>\n</ul>\n\n<p>Thanks in advance!!</p>\n\n<h2>Update:</h2>\n\n<p>When trying to load ASN1Primitive using the line below, it throws the following exception:</p>\n\n<pre><code>ASN1Primitive.fromByteArray(data);\n</code></pre>\n\n<p>Exception:</p>\n\n<pre><code>java.io.IOException: DER length more than 4 bytes: 66\n        at org.spongycastle.asn1.ASN1InputStream.readLength(ASN1InputStream.java:347)\n        at org.spongycastle.asn1.ASN1InputStream.readLength(ASN1InputStream.java:112)\n        at org.spongycastle.asn1.ASN1InputStream.readObject(ASN1InputStream.java:237)\n        at org.spongycastle.asn1.ASN1Primitive.fromByteArray(ASN1Primitive.java:30)\n        at com.example.eccdemo.MainActivity.onCreate(MainActivity.java:48)\n        at android.app.Activity.performCreate(Activity.java:5933)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1105)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2282)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2389)\n        at android.app.ActivityThread.access$900(ActivityThread.java:147)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1296)\n        at android.os.Handler.dispatchMessage(Handler.java:102)\n        at android.os.Looper.loop(Looper.java:135)\n        at android.app.ActivityThread.main(ActivityThread.java:5254)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at java.lang.reflect.Method.invoke(Method.java:372)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:898)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:693)\n</code></pre>\n"},{"tags":["java","swt","nattable","nebula"],"answers":[{"tags":[],"owner":{"account_id":3538064,"reputation":4183,"user_id":2955861,"display_name":"Dirk Fauth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685687956,"creation_date":1685687956,"answer_id":76387707,"question_id":76387658,"body_markdown":"This happens if you apply your custom labels (`HEX_FORMAT` in your case) on the `ViewportLayer` or above. If you have a strong relation on the structure, you should apply the labels on the `DataLayer` as there is no index-position conversion.","title":"Nattable Display converter shifts columns when the table is scrolled horizontally","body":"<p>This happens if you apply your custom labels (<code>HEX_FORMAT</code> in your case) on the <code>ViewportLayer</code> or above. If you have a strong relation on the structure, you should apply the labels on the <code>DataLayer</code> as there is no index-position conversion.</p>\n"}],"owner":{"account_id":7285774,"reputation":5,"user_id":5553889,"display_name":"Sridhar Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76387707,"answer_count":1,"score":0,"last_activity_date":1685687956,"creation_date":1685687520,"question_id":76387658,"body_markdown":"I have used a custom DisplayConverter on some columns of my Nattable.This displayconverter shows long values as hex strings. \r\nWhenever I scroll my Nattable horizontally, this converter shifts one/mulitple columns. This results in columns which show hex values to be shown in default numeral format. On the other hand, columns which should be showing numerals show hex values. \r\nIn the following images, the first image shows how it should be displayed, that is column number 2 and 7 should show hex values (these are just long values with my custom converter applied). \r\nWhen I scroll my table to the right, this converter is then applied to column number 3 and 8.\r\n\r\n[Default (as it should be)](https://i.stack.imgur.com/Mv8oV.png)\r\n\r\n[Scrolled right ](https://i.stack.imgur.com/WZYN7.png)\r\n\r\nI have applied my CustomDisplayConverter ( column override HEX_FORMAT) to certain columns. LinkerMapHexAddressDisplayConverter is the custom display converter which converts long values to hex strings for display.\r\n\r\n\r\n\t&#39;columnLabelAccumulator.registerColumnOverrides(\r\n\t\t\t\tpnames.indexOf(ILinkerMapConstants.PROP_KEY_SECTION_SIZE), NUMBER_FORMAT);//column 3\r\n\t\tcolumnLabelAccumulator.registerColumnOverrides(\r\n\t\t\t\tpnames.indexOf(ILinkerMapConstants.PROP_KEY_OBJECT_SIZE), NUMBER_FORMAT);//column 8\r\n\r\n\t\tconfigRegistry.registerConfigAttribute(CellConfigAttributes.DISPLAY_CONVERTER,\r\n\t\t\t\tnew DefaultLongDisplayConverter(), DisplayMode.NORMAL, NUMBER_FORMAT);\r\n\r\n\t\tcolumnLabelAccumulator.registerColumnOverrides(\r\n\t\t\t\tpnames.indexOf(ILinkerMapConstants.PROP_KEY_SECTION_ADDRESS), HEX_FORMAT);//column 2\r\n\t\tcolumnLabelAccumulator.registerColumnOverrides(\r\n\t\t\t\tpnames.indexOf(ILinkerMapConstants.PROP_KEY_OBJECT_MODULE_ADDRESS),\r\n\t\t\t\tHEX_FORMAT);//column 7\r\n\r\n\t\tconfigRegistry.registerConfigAttribute(CellConfigAttributes.DISPLAY_CONVERTER,\r\n\t\t\t\tnew LinkerMapHexAddressDisplayConverter(), DisplayMode.NORMAL,\r\n\t\t\t\tHEX_FORMAT);&#39;\r\n","title":"Nattable Display converter shifts columns when the table is scrolled horizontally","body":"<p>I have used a custom DisplayConverter on some columns of my Nattable.This displayconverter shows long values as hex strings.\nWhenever I scroll my Nattable horizontally, this converter shifts one/mulitple columns. This results in columns which show hex values to be shown in default numeral format. On the other hand, columns which should be showing numerals show hex values.\nIn the following images, the first image shows how it should be displayed, that is column number 2 and 7 should show hex values (these are just long values with my custom converter applied).\nWhen I scroll my table to the right, this converter is then applied to column number 3 and 8.</p>\n<p><a href=\"https://i.stack.imgur.com/Mv8oV.png\" rel=\"nofollow noreferrer\">Default (as it should be)</a></p>\n<p><a href=\"https://i.stack.imgur.com/WZYN7.png\" rel=\"nofollow noreferrer\">Scrolled right </a></p>\n<p>I have applied my CustomDisplayConverter ( column override HEX_FORMAT) to certain columns. LinkerMapHexAddressDisplayConverter is the custom display converter which converts long values to hex strings for display.</p>\n<pre><code>'columnLabelAccumulator.registerColumnOverrides(\n            pnames.indexOf(ILinkerMapConstants.PROP_KEY_SECTION_SIZE), NUMBER_FORMAT);//column 3\n    columnLabelAccumulator.registerColumnOverrides(\n            pnames.indexOf(ILinkerMapConstants.PROP_KEY_OBJECT_SIZE), NUMBER_FORMAT);//column 8\n\n    configRegistry.registerConfigAttribute(CellConfigAttributes.DISPLAY_CONVERTER,\n            new DefaultLongDisplayConverter(), DisplayMode.NORMAL, NUMBER_FORMAT);\n\n    columnLabelAccumulator.registerColumnOverrides(\n            pnames.indexOf(ILinkerMapConstants.PROP_KEY_SECTION_ADDRESS), HEX_FORMAT);//column 2\n    columnLabelAccumulator.registerColumnOverrides(\n            pnames.indexOf(ILinkerMapConstants.PROP_KEY_OBJECT_MODULE_ADDRESS),\n            HEX_FORMAT);//column 7\n\n    configRegistry.registerConfigAttribute(CellConfigAttributes.DISPLAY_CONVERTER,\n            new LinkerMapHexAddressDisplayConverter(), DisplayMode.NORMAL,\n            HEX_FORMAT);'\n</code></pre>\n"},{"tags":["java","android","sockets","tcpsocket"],"comments":[{"owner":{"account_id":2805962,"reputation":18615,"user_id":2413201,"accept_rate":88,"display_name":"Armali"},"score":0,"creation_date":1685688289,"post_id":76387702,"comment_id":134698595,"body_markdown":"Can you connect to the server from any computer e. g. with `netcat`?","body":"Can you connect to the server from any computer e. g. with <code>netcat</code>?"},{"owner":{"account_id":28733319,"reputation":1,"user_id":22004801,"display_name":"llaimo"},"score":0,"creation_date":1685688753,"post_id":76387702,"comment_id":134698673,"body_markdown":"@Armali Sorry, I haven&#39;t used this before. Can you explain in more detail how to try it?","body":"@Armali Sorry, I haven&#39;t used this before. Can you explain in more detail how to try it?"},{"owner":{"account_id":2805962,"reputation":18615,"user_id":2413201,"accept_rate":88,"display_name":"Armali"},"score":0,"creation_date":1685689671,"post_id":76387702,"comment_id":134698849,"body_markdown":"`netcat -v 10.0.2.16 5050` or `nc -v 10.0.2.16 5050`","body":"<code>netcat -v 10.0.2.16 5050</code> or <code>nc -v 10.0.2.16 5050</code>"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1685691977,"post_id":76387702,"comment_id":134699302,"body_markdown":"Where is your server running? Where is your client running? On which devices? Tell your setup else we have to guess what you are trying. And what does it have to do with &#39;online&#39;?","body":"Where is your server running? Where is your client running? On which devices? Tell your setup else we have to guess what you are trying. And what does it have to do with &#39;online&#39;?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1685692296,"post_id":76387702,"comment_id":134699375,"body_markdown":"`serverConnect()` Dont call it like that. Call it serverListen() as that is what happens. Only a client tries to connect -with the server-.","body":"<code>serverConnect()</code> Dont call it like that. Call it serverListen() as that is what happens. Only a client tries to connect -with the server-."},{"owner":{"account_id":28733319,"reputation":1,"user_id":22004801,"display_name":"llaimo"},"score":0,"creation_date":1685693304,"post_id":76387702,"comment_id":134699572,"body_markdown":"@blackapps When opened first, it will enter MainActivity.java, where are two buttons to choose between creating a group or joining a group. I set the server for creating the group.\nAfter clicking the button to create a group, you will enter server.java to set the number of game rounds and number of players. After setting it, you can click the button to start the game, and you will enter serverWaitStart.java (attached server part code), where you will create a serverSocket and accept ()","body":"@blackapps When opened first, it will enter MainActivity.java, where are two buttons to choose between creating a group or joining a group. I set the server for creating the group. After clicking the button to create a group, you will enter server.java to set the number of game rounds and number of players. After setting it, you can click the button to start the game, and you will enter serverWaitStart.java (attached server part code), where you will create a serverSocket and accept ()"},{"owner":{"account_id":28733319,"reputation":1,"user_id":22004801,"display_name":"llaimo"},"score":0,"creation_date":1685693318,"post_id":76387702,"comment_id":134699575,"body_markdown":"At this time, you can use another Android device to open the app, click on the join group button, enter clientJoin.java, enter the server IP you want to connect to, and click the enter group button to enter clientWaitStart.java (attached client part code) for socket=new Socket (IP, 5050) and server connection\n\nIt has already fixed the IP as the IP of the Android emulator=&quot;10.0.2.16&quot;","body":"At this time, you can use another Android device to open the app, click on the join group button, enter clientJoin.java, enter the server IP you want to connect to, and click the enter group button to enter clientWaitStart.java (attached client part code) for socket=new Socket (IP, 5050) and server connection  It has already fixed the IP as the IP of the Android emulator=&quot;10.0.2.16&quot;"},{"owner":{"account_id":28733319,"reputation":1,"user_id":22004801,"display_name":"llaimo"},"score":0,"creation_date":1685693405,"post_id":76387702,"comment_id":134699594,"body_markdown":"@blackapps Thank you fo your reminder! I will change this call.","body":"@blackapps Thank you fo your reminder! I will change this call."},{"owner":{"account_id":28733319,"reputation":1,"user_id":22004801,"display_name":"llaimo"},"score":0,"creation_date":1685696368,"post_id":76387702,"comment_id":134700179,"body_markdown":"@blackapps I execute everything using the built-in emulator in Android Studio, and the server runs in Pixel_ 3a_ API_ 33 x86_64\nThe client is based on Pixel 3a API 33.\n\nOnline is for the server to provide questions and options for the client to answer in the future. The client&#39;s answer will be sent back to the server to confirm whether the answer is correct. If the answer is correct, one point can be added, but I did not write this on this page. This page needs to be connected online first","body":"@blackapps I execute everything using the built-in emulator in Android Studio, and the server runs in Pixel_ 3a_ API_ 33 x86_64 The client is based on Pixel 3a API 33.  Online is for the server to provide questions and options for the client to answer in the future. The client&#39;s answer will be sent back to the server to confirm whether the answer is correct. If the answer is correct, one point can be added, but I did not write this on this page. This page needs to be connected online first"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1685697573,"post_id":76387702,"comment_id":134700404,"body_markdown":"The server runs on a Pixel device. And then you seem to have a different server on the internet? And what are you executing on the emulator? What? All makes no sense to me. Cant you stick to two Pixel devices first? One for the server and one as a client? The rest is only confusing.","body":"The server runs on a Pixel device. And then you seem to have a different server on the internet? And what are you executing on the emulator? What? All makes no sense to me. Cant you stick to two Pixel devices first? One for the server and one as a client? The rest is only confusing."},{"owner":{"account_id":28733319,"reputation":1,"user_id":22004801,"display_name":"llaimo"},"score":0,"creation_date":1685700732,"post_id":76387702,"comment_id":134701065,"body_markdown":"@blackapps I really only use two-pixel devices, one for the server and one for a client, and those two-pixel devices are opened by emulators. I don’t have a physical pixel device. \n\nAnd there is only one server. The multiple java switches mentioned above are only It&#39;s just switching pages","body":"@blackapps I really only use two-pixel devices, one for the server and one for a client, and those two-pixel devices are opened by emulators. I don’t have a physical pixel device.   And there is only one server. The multiple java switches mentioned above are only It&#39;s just switching pages"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1685717990,"post_id":76387702,"comment_id":134704815,"body_markdown":"Very confusing post. So you try to use two emulators for server client communication. Well that will not go. Use two devices to begin with. You are not using two pixel devices. You should never have mentioned pixel.","body":"Very confusing post. So you try to use two emulators for server client communication. Well that will not go. Use two devices to begin with. You are not using two pixel devices. You should never have mentioned pixel."}],"owner":{"account_id":28733319,"reputation":1,"user_id":22004801,"display_name":"llaimo"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685687904,"creation_date":1685687904,"question_id":76387702,"body_markdown":"I have just started learning TCPSocket recently. I hope to write a quiz app online through a socket using Android Studio. However, during the execution of the client, it was unable to connect to the server. I repeatedly checked a lot of data and code, but couldn&#39;t find a solution \r\n\r\nThis is the Server part code I currently have:\r\n\r\n```\r\npublic class ServerWaitStart extends AppCompatActivity {\r\n    private static GlobalVariable gv;\r\n\r\n    private ServerSocket serverSocket;\r\n\r\n    TextView currentNum;\r\n    private int count = 0;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_11_server_wait_start);\r\n\r\n        gv = (GlobalVariable)getApplicationContext();\r\n\r\n        TextView IPaddress = findViewById(R.id.IPaddress);\r\n        gv.IP = getLocalIP(this);\r\n        IPaddress.setText(&quot;群組代碼:&quot; + gv.IP);\r\n\r\n        currentNum = findViewById(R.id.currentNum);\r\n        serverConnect();\r\n    }\r\n\r\n    private ServerThread serverThread;\r\n\r\n    public void serverConnect(){\r\n        try {\r\n            serverSocket= new ServerSocket(5050);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        serverThread = new ServerThread();\r\n        serverThread.startServer();\r\n    }\r\n\r\n    class ServerThread extends Thread implements Runnable{\r\n\r\n        private boolean serverRunning;\r\n        private int count = 1;\r\n\r\n        public void startServer(){\r\n            serverRunning = true;\r\n            start();\r\n            System.out.println(&quot;startServer execute&quot;);\r\n        }\r\n\r\n\r\n        @Override\r\n        public void run() {\r\n            try {\r\n                while(serverRunning){\r\n                    System.out.println(&quot;in run&quot;);\r\n                    Socket socket = serverSocket.accept();\r\n                    System.out.println(&quot;accept!&quot;);\r\n                    count++;\r\n\r\n                    runOnUiThread(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            try {\r\n                                DataOutputStream dos = new DataOutputStream(socket.getOutputStream());\r\n                                dos.writeUTF(count + &quot;\\n&quot;);\r\n                                // 立即發送\r\n                                dos.flush();\r\n                                currentNum.setText(&quot;目前已加入人數&quot; + count);\r\n                            } catch (IOException e) {\r\n                                throw new RuntimeException(e);\r\n                            }\r\n                        }\r\n                    });\r\n                    if (gv.chooseNum == count){\r\n                        break;\r\n                    }\r\n                }\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }//ServerThread\r\n\r\n```\r\n\r\n\r\nThis is the Client part code I currently have:\r\n\r\n```\r\npublic class ClientWaitStart extends AppCompatActivity {\r\n    private GlobalVariable gv;\r\n    private TextView currentNum;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_07_client_wait_start);\r\n\r\n        currentNum = findViewById(R.id.currentNum);\r\n        gv = (GlobalVariable)getApplicationContext();\r\n    }\r\n\r\n    private Runnable Connection=new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            try {\r\n                Socket socket = new Socket(&quot;10.0.2.16&quot;, 5050);\r\n                System.out.println(&quot;client connected&quot;);\r\n\r\n                DataInputStream dis = new DataInputStream(socket.getInputStream());\r\n                String waitPeopleNum = dis.readUTF();\r\n\r\n                runOnUiThread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        currentNum.setText(&quot;目前已加入人數；&quot; + waitPeopleNum);\r\n                    }\r\n                });\r\n\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    };\r\n```\r\n\r\n\r\nPlease help and ask me any questions that I left vague. Thank you, Laimo.\r\n\r\nServer System.out\r\n``2023-06-02 13:22:19.504  5063-5063  System.out              com.appcompat.app.quiz               I  startServer execute\r\n2023-06-02 13:22:19.505  5063-5315  System.out              com.appcompat.app.quiz               I  in run``","title":"Android Studio(Java) Client unable to connect on Android Server","body":"<p>I have just started learning TCPSocket recently. I hope to write a quiz app online through a socket using Android Studio. However, during the execution of the client, it was unable to connect to the server. I repeatedly checked a lot of data and code, but couldn't find a solution</p>\n<p>This is the Server part code I currently have:</p>\n<pre><code>public class ServerWaitStart extends AppCompatActivity {\n    private static GlobalVariable gv;\n\n    private ServerSocket serverSocket;\n\n    TextView currentNum;\n    private int count = 0;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_11_server_wait_start);\n\n        gv = (GlobalVariable)getApplicationContext();\n\n        TextView IPaddress = findViewById(R.id.IPaddress);\n        gv.IP = getLocalIP(this);\n        IPaddress.setText(&quot;群組代碼:&quot; + gv.IP);\n\n        currentNum = findViewById(R.id.currentNum);\n        serverConnect();\n    }\n\n    private ServerThread serverThread;\n\n    public void serverConnect(){\n        try {\n            serverSocket= new ServerSocket(5050);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n        serverThread = new ServerThread();\n        serverThread.startServer();\n    }\n\n    class ServerThread extends Thread implements Runnable{\n\n        private boolean serverRunning;\n        private int count = 1;\n\n        public void startServer(){\n            serverRunning = true;\n            start();\n            System.out.println(&quot;startServer execute&quot;);\n        }\n\n\n        @Override\n        public void run() {\n            try {\n                while(serverRunning){\n                    System.out.println(&quot;in run&quot;);\n                    Socket socket = serverSocket.accept();\n                    System.out.println(&quot;accept!&quot;);\n                    count++;\n\n                    runOnUiThread(new Runnable() {\n                        @Override\n                        public void run() {\n                            try {\n                                DataOutputStream dos = new DataOutputStream(socket.getOutputStream());\n                                dos.writeUTF(count + &quot;\\n&quot;);\n                                // 立即發送\n                                dos.flush();\n                                currentNum.setText(&quot;目前已加入人數&quot; + count);\n                            } catch (IOException e) {\n                                throw new RuntimeException(e);\n                            }\n                        }\n                    });\n                    if (gv.chooseNum == count){\n                        break;\n                    }\n                }\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n        }\n    }//ServerThread\n\n</code></pre>\n<p>This is the Client part code I currently have:</p>\n<pre><code>public class ClientWaitStart extends AppCompatActivity {\n    private GlobalVariable gv;\n    private TextView currentNum;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_07_client_wait_start);\n\n        currentNum = findViewById(R.id.currentNum);\n        gv = (GlobalVariable)getApplicationContext();\n    }\n\n    private Runnable Connection=new Runnable() {\n        @Override\n        public void run() {\n            try {\n                Socket socket = new Socket(&quot;10.0.2.16&quot;, 5050);\n                System.out.println(&quot;client connected&quot;);\n\n                DataInputStream dis = new DataInputStream(socket.getInputStream());\n                String waitPeopleNum = dis.readUTF();\n\n                runOnUiThread(new Runnable() {\n                    @Override\n                    public void run() {\n                        currentNum.setText(&quot;目前已加入人數；&quot; + waitPeopleNum);\n                    }\n                });\n\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n        }\n    };\n</code></pre>\n<p>Please help and ask me any questions that I left vague. Thank you, Laimo.</p>\n<p>Server System.out\n<code>2023-06-02 13:22:19.504  5063-5063  System.out              com.appcompat.app.quiz               I  startServer execute 2023-06-02 13:22:19.505  5063-5315  System.out              com.appcompat.app.quiz               I  in run</code></p>\n"},{"tags":["java","oracle","spring-boot","hibernate","jpa"],"owner":{"account_id":1344147,"reputation":83,"user_id":1285203,"display_name":"Prabhakaran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685687826,"creation_date":1685687042,"question_id":76387617,"body_markdown":"I am trying to validate Hibernate against DB schema in a spring boot project, using  the property,\r\n\r\n&gt; spring.jpa.hibernate.ddl-auto=validate\r\n\r\nThe project unfortunately never gotten validated, accumulating a huge number of inconsistencies. Going through the above method gives me only one inconsistency issue at time. I have to fix it to get the next inconsistency, which is time consuming and only one dev can work at a time.\r\n\r\nIs there a way to get all the validation errors in single shot?. This would greatly help me and any answer is appreciated.","title":"Generate report of Hibernate vs DB inconsistencies","body":"<p>I am trying to validate Hibernate against DB schema in a spring boot project, using  the property,</p>\n<blockquote>\n<p>spring.jpa.hibernate.ddl-auto=validate</p>\n</blockquote>\n<p>The project unfortunately never gotten validated, accumulating a huge number of inconsistencies. Going through the above method gives me only one inconsistency issue at time. I have to fix it to get the next inconsistency, which is time consuming and only one dev can work at a time.</p>\n<p>Is there a way to get all the validation errors in single shot?. This would greatly help me and any answer is appreciated.</p>\n"},{"tags":["java","spring","spring-boot","multipartform-data"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1638537514,"post_id":70214698,"comment_id":124121538,"body_markdown":"You need to pass the `bufferedRequest` and `bufferedResponse` down the chain **not** the common request.","body":"You need to pass the <code>bufferedRequest</code> and <code>bufferedResponse</code> down the chain <b>not</b> the common request."},{"owner":{"account_id":5129456,"reputation":954,"user_id":4110190,"display_name":"Jonas Pedersen"},"score":0,"creation_date":1638537956,"post_id":70214698,"comment_id":124121709,"body_markdown":"I&#39;m actually doing that already. I was cleaning up the code a but, and made a mistake. I have updated the code to reflect my actual code.","body":"I&#39;m actually doing that already. I was cleaning up the code a but, and made a mistake. I have updated the code to reflect my actual code."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1638538019,"post_id":70214698,"comment_id":124121742,"body_markdown":"Use `@RequestPart` not `@RequestParam` in your controller.","body":"Use <code>@RequestPart</code> not <code>@RequestParam</code> in your controller."},{"owner":{"account_id":5129456,"reputation":954,"user_id":4110190,"display_name":"Jonas Pedersen"},"score":0,"creation_date":1638538372,"post_id":70214698,"comment_id":124121886,"body_markdown":"I tried `@RequestPart`, `@RequestParam` and using `@ModelAttribute` to wrap `MultipartFile`.  I also injected the HttpRequest in the REST controller and calling `request.getParts()` was retuning an empty array. The parts is being consumed somewhere because they were available at some point, but lost when reaching the REST controller.","body":"I tried <code>@RequestPart</code>, <code>@RequestParam</code> and using <code>@ModelAttribute</code> to wrap <code>MultipartFile</code>.  I also injected the HttpRequest in the REST controller and calling <code>request.getParts()</code> was retuning an empty array. The parts is being consumed somewhere because they were available at some point, but lost when reaching the REST controller."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1638539827,"post_id":70214698,"comment_id":124122441,"body_markdown":"If you want the part you need to use the `@RequestPart` multipart is enabled by default so that should work. However as you included a logging filter that might actually break things, consuming the request multiple times or doing duplicate operations is always a challenge. Use `@RequestPart` and try without your filter.","body":"If you want the part you need to use the <code>@RequestPart</code> multipart is enabled by default so that should work. However as you included a logging filter that might actually break things, consuming the request multiple times or doing duplicate operations is always a challenge. Use <code>@RequestPart</code> and try without your filter."},{"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"score":1,"creation_date":1638541442,"post_id":70214698,"comment_id":124123147,"body_markdown":"Where is BufferedRequestWrapper? Does it is built-in in Spring or something? In the past, i used ContentCachingRequestWrapper instead of BufferedRequestWrapper.. Be aware, with multipart file, spring already have a wrapper ... MultipartHttpServletRequest","body":"Where is BufferedRequestWrapper? Does it is built-in in Spring or something? In the past, i used ContentCachingRequestWrapper instead of BufferedRequestWrapper.. Be aware, with multipart file, spring already have a wrapper ... MultipartHttpServletRequest"},{"owner":{"account_id":5129456,"reputation":954,"user_id":4110190,"display_name":"Jonas Pedersen"},"score":0,"creation_date":1638544199,"post_id":70214698,"comment_id":124124337,"body_markdown":"`BufferedRequestWrapper` is extending `HttpServletRequestWrapper` used to read the inputStream without consuming it. I tried to change it to use `ContentCachingRequestWrapper` as @huy suggested. File upload is now working without calling `request.getParts()`. I could also remove 300 lines of old legacy code. @huy please post as an answer and I will accept it.","body":"<code>BufferedRequestWrapper</code> is extending <code>HttpServletRequestWrapper</code> used to read the inputStream without consuming it. I tried to change it to use <code>ContentCachingRequestWrapper</code> as @huy suggested. File upload is now working without calling <code>request.getParts()</code>. I could also remove 300 lines of old legacy code. @huy please post as an answer and I will accept it."},{"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"score":0,"creation_date":1638588851,"post_id":70214698,"comment_id":124135379,"body_markdown":"@JonasPedersen Glad it help. Answer added.","body":"@JonasPedersen Glad it help. Answer added."},{"owner":{"account_id":5307563,"reputation":61,"user_id":4234926,"display_name":"Szabo Gabor"},"score":0,"creation_date":1685611654,"post_id":70214698,"comment_id":134685468,"body_markdown":"Hi @Jonas Pedersen,\n\nI have the same problem, but unfortunately I haven&#39;t been able to solve it for a week. I always get an error when calling multipart (empty array) no matter what I try. Please share your BufferedRequestWrapper and BufferedResponseWrapper class, it would help a lot.","body":"Hi @Jonas Pedersen,  I have the same problem, but unfortunately I haven&#39;t been able to solve it for a week. I always get an error when calling multipart (empty array) no matter what I try. Please share your BufferedRequestWrapper and BufferedResponseWrapper class, it would help a lot."},{"owner":{"account_id":5129456,"reputation":954,"user_id":4110190,"display_name":"Jonas Pedersen"},"score":0,"creation_date":1685687330,"post_id":70214698,"comment_id":134698428,"body_markdown":"@SzaboGabor I&#39;ve updated with a complete example. Hope it helps","body":"@SzaboGabor I&#39;ve updated with a complete example. Hope it helps"},{"owner":{"account_id":5307563,"reputation":61,"user_id":4234926,"display_name":"Szabo Gabor"},"score":0,"creation_date":1685708821,"post_id":70214698,"comment_id":134702682,"body_markdown":"Dear @Jonas Pedersen,\n\nThank you very much for your help, but unfortunately the problem is the same:\nThe WHILE condition is FALSE so &quot;this.buffes =[]&quot; remains empty.\nwhile ((read = is.read(buf)) &gt; 0) {\n             baos.write(buf, 0, read);\n  }\n  this.buffer = baos.toByteArray();\n\nSpring version 3.1.0, this is probably the problem as I had to import jakarta instead of javax.","body":"Dear @Jonas Pedersen,  Thank you very much for your help, but unfortunately the problem is the same: The WHILE condition is FALSE so &quot;this.buffes =[]&quot; remains empty. while ((read = is.read(buf)) &gt; 0) {              baos.write(buf, 0, read);   }   this.buffer = baos.toByteArray();  Spring version 3.1.0, this is probably the problem as I had to import jakarta instead of javax."}],"answers":[{"tags":[],"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638588799,"creation_date":1638588799,"answer_id":70222845,"question_id":70214698,"body_markdown":"Please consider using ContentCachingRequestWrapper.\r\n\r\nIt&#39;s built-in of spring which help you can read caches all content read from the input stream and reader.\r\n\r\nBe aware, with multipart file, spring already have a wrapper ... MultipartHttpServletRequest\r\n\r\nPlease refer: \r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/ContentCachingRequestWrapper.html","title":"Spring POST multipart/form-data, request parts always empty","body":"<p>Please consider using ContentCachingRequestWrapper.</p>\n<p>It's built-in of spring which help you can read caches all content read from the input stream and reader.</p>\n<p>Be aware, with multipart file, spring already have a wrapper ... MultipartHttpServletRequest</p>\n<p>Please refer:\n<a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/ContentCachingRequestWrapper.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/ContentCachingRequestWrapper.html</a></p>\n"}],"owner":{"account_id":5129456,"reputation":954,"user_id":4110190,"display_name":"Jonas Pedersen"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2869,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70222845,"answer_count":1,"score":1,"last_activity_date":1685687285,"creation_date":1638536295,"question_id":70214698,"body_markdown":"I have a simple REST controller that I use for accepting a file being uploaded from a HTML form. The project is Spring Boot 2.6.1 and Java 17. But the problem was also to be found in Spring Boot 2.3.7 and Java 15.\r\n```\r\n@PostMapping(path = &quot;/file&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\npublic void handleFileUpload(@RequestParam(&quot;file&quot;) MultipartFile file) {\r\n    fileService.upload(file.getInputStream(), file.getOriginalFilename());\r\n}\r\n```\r\nThe problem is `file` is always NULL. I found a lot of different answers about setting a `MultipartResolver` bean or enabling `spring.http.multipart.enabled = true` but nothing helped. I have a logging filter as one of the first filters in the chain. After debugging in the filter chain I found out that making a call to `request.getParts()` made everything work. My filter look like this:\r\n```\r\npublic class LoggingFilter extends GenericFilterBean {\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain filterChain) throws IOException, ServletException {\r\n        HttpServletRequest httpServletRequest = (HttpServletRequest) request;\r\n        BufferedRequestWrapper bufferedRequest = new BufferedRequestWrapper(httpServletRequest);\r\n        BufferedResponseWrapper bufferedResponse = new BufferedResponseWrapper((HttpServletResponse) response);\r\n\r\n        filterChain.doFilter(bufferedRequest, bufferedResponse);\r\n\r\n        logRequest(httpServletRequest, bufferedRequest);\r\n        logResponse(httpServletRequest, bufferedResponse);\r\n    }\r\n```\r\nI changed the filter to:\r\n````\r\npublic class LoggingFilter extends GenericFilterBean {\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain filterChain) throws IOException, ServletException {\r\n        HttpServletRequest httpServletRequest = (HttpServletRequest) request;\r\n\r\n        if (request.getContentType() != null &amp;&amp; request.getContentType().startsWith(&quot;multipart/form-data&quot;)) {\r\n            httpServletRequest.getParts(); // Trigger initialization of multi-part.\r\n        }\r\n\r\n        BufferedRequestWrapper bufferedRequest = new BufferedRequestWrapper(httpServletRequest);\r\n        BufferedResponseWrapper bufferedResponse = new BufferedResponseWrapper((HttpServletResponse) response);\r\n\r\n        filterChain.doFilter(bufferedRequest, bufferedResponse);\r\n\r\n        logRequest(httpServletRequest, bufferedRequest);\r\n        logResponse(httpServletRequest, bufferedResponse);\r\n    }\r\n````\r\nand everything was working. My question is; why is this needed? And is there a better way of doing this?\r\n\r\nBelow is a complete example where only the actual logging is removed because we use a custom logging framework.\r\n\r\n````\r\npackage com.unwire.ticketing.filter.logging;\r\n\r\nimport lombok.Getter;\r\nimport org.apache.commons.io.IOUtils;\r\nimport org.apache.commons.io.output.TeeOutputStream;\r\nimport org.springframework.web.filter.GenericFilterBean;\r\n\r\nimport javax.servlet.*;\r\nimport javax.servlet.http.*;\r\nimport java.io.*;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.util.Collection;\r\nimport java.util.Locale;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class Log extends GenericFilterBean {\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain filterChain) throws IOException, ServletException {\r\n        HttpServletRequest httpServletRequest = (HttpServletRequest) request;\r\n\r\n        if (request.getContentType() != null &amp;&amp; request.getContentType().startsWith(&quot;multipart/form-data&quot;)) {\r\n            httpServletRequest.getParts(); // Trigger initialization of multi-part.\r\n        }\r\n\r\n        try {\r\n            BufferedRequestWrapper bufferedRequest = new BufferedRequestWrapper(httpServletRequest);\r\n            BufferedResponseWrapper bufferedResponse = new BufferedResponseWrapper((HttpServletResponse) response);\r\n\r\n            filterChain.doFilter(bufferedRequest, bufferedResponse);\r\n\r\n            logRequest(httpServletRequest, bufferedRequest);\r\n            logResponse(httpServletRequest, bufferedResponse);\r\n        } catch (Throwable t) {\r\n\r\n        }\r\n    }\r\n\r\n\r\n    private void logRequest(HttpServletRequest request, BufferedRequestWrapper bufferedRequest) throws IOException {\r\n        String body = bufferedRequest.getRequestBody();\r\n        // Log request\r\n    }\r\n\r\n    private void logResponse(HttpServletRequest httpServletRequest, BufferedResponseWrapper bufferedResponse) {\r\n        // Log response\r\n    }\r\n\r\n    private static final class BufferedRequestWrapper extends HttpServletRequestWrapper {\r\n\r\n        private final byte[] buffer;\r\n\r\n        BufferedRequestWrapper(HttpServletRequest req) throws IOException {\r\n            super(req);\r\n\r\n            if (req.getContentType() == null || (req.getContentType() != null &amp;&amp; !req.getContentType().startsWith(&quot;application/x-www-form-urlencoded&quot;))) {\r\n                // Read InputStream and store its content in a buffer.\r\n                InputStream is = req.getInputStream();\r\n                ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n                byte[] buf = new byte[1024];\r\n                int read;\r\n                while ((read = is.read(buf)) &gt; 0) {\r\n                    baos.write(buf, 0, read);\r\n                }\r\n                this.buffer = baos.toByteArray();\r\n            } else {\r\n                buffer = new byte[0];\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public ServletInputStream getInputStream() {\r\n            return new BufferedServletInputStream(new ByteArrayInputStream(this.buffer));\r\n        }\r\n\r\n        @Override\r\n        public Collection&lt;Part&gt; getParts() throws IOException, ServletException {\r\n            return super.getParts();\r\n        }\r\n\r\n        String getRequestBody() throws IOException {\r\n            return IOUtils.readLines(this.getInputStream(), StandardCharsets.UTF_8.name()).stream()\r\n                    .map(String::trim)\r\n                    .collect(Collectors.joining());\r\n        }\r\n    }\r\n\r\n    private static final class BufferedServletInputStream extends ServletInputStream {\r\n\r\n        private final ByteArrayInputStream bais;\r\n\r\n        BufferedServletInputStream(ByteArrayInputStream bais) {\r\n            this.bais = bais;\r\n        }\r\n\r\n        @Override\r\n        public int available() {\r\n            return this.bais.available();\r\n        }\r\n\r\n        @Override\r\n        public int read() {\r\n            return this.bais.read();\r\n        }\r\n\r\n        @Override\r\n        public int read(byte[] buf, int off, int len) {\r\n            return this.bais.read(buf, off, len);\r\n        }\r\n\r\n        @Override\r\n        public boolean isFinished() {\r\n            return false;\r\n        }\r\n\r\n        @Override\r\n        public boolean isReady() {\r\n            return true;\r\n        }\r\n\r\n        @Override\r\n        public void setReadListener(ReadListener readListener) {\r\n\r\n        }\r\n    }\r\n\r\n    public static class TeeServletOutputStream extends ServletOutputStream {\r\n\r\n        private final TeeOutputStream targetStream;\r\n\r\n        TeeServletOutputStream(OutputStream one, OutputStream two) {\r\n            targetStream = new TeeOutputStream(one, two);\r\n        }\r\n\r\n        @Override\r\n        public void write(int arg0) throws IOException {\r\n            this.targetStream.write(arg0);\r\n        }\r\n\r\n        public void flush() throws IOException {\r\n            super.flush();\r\n            this.targetStream.flush();\r\n        }\r\n\r\n        public void close() throws IOException {\r\n            super.close();\r\n            this.targetStream.close();\r\n        }\r\n\r\n        @Override\r\n        public boolean isReady() {\r\n            return false;\r\n        }\r\n\r\n        @Override\r\n        public void setWriteListener(WriteListener writeListener) {\r\n\r\n        }\r\n    }\r\n\r\n    public class BufferedResponseWrapper implements HttpServletResponse {\r\n\r\n        HttpServletResponse original;\r\n        TeeServletOutputStream tee;\r\n        ByteArrayOutputStream bos;\r\n        @Getter\r\n        Long startTime;\r\n\r\n        BufferedResponseWrapper(HttpServletResponse response) {\r\n            this.original = response;\r\n            this.startTime = System.currentTimeMillis();\r\n        }\r\n\r\n        String getContent() {\r\n            if (bos != null) {\r\n                return bos.toString();\r\n            } else {\r\n                return &quot;&quot;;\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public PrintWriter getWriter() throws IOException {\r\n            return original.getWriter();\r\n        }\r\n\r\n        @Override\r\n        public ServletOutputStream getOutputStream() throws IOException {\r\n            if (tee == null) {\r\n                bos = new ByteArrayOutputStream();\r\n                tee = new TeeServletOutputStream(original.getOutputStream(), bos);\r\n            }\r\n            return tee;\r\n        }\r\n\r\n        @Override\r\n        public String getCharacterEncoding() {\r\n            return original.getCharacterEncoding();\r\n        }\r\n\r\n        @Override\r\n        public void setCharacterEncoding(String charset) {\r\n            original.setCharacterEncoding(charset);\r\n        }\r\n\r\n        @Override\r\n        public String getContentType() {\r\n            return original.getContentType();\r\n        }\r\n\r\n        @Override\r\n        public void setContentType(String type) {\r\n            original.setContentType(type);\r\n        }\r\n\r\n        @Override\r\n        public void setContentLength(int len) {\r\n            original.setContentLength(len);\r\n        }\r\n\r\n        @Override\r\n        public void setContentLengthLong(long l) {\r\n            original.setContentLengthLong(l);\r\n        }\r\n\r\n        @Override\r\n        public int getBufferSize() {\r\n            return original.getBufferSize();\r\n        }\r\n\r\n        @Override\r\n        public void setBufferSize(int size) {\r\n            original.setBufferSize(size);\r\n        }\r\n\r\n        @Override\r\n        public void flushBuffer() throws IOException {\r\n            if (tee != null) {\r\n                tee.flush();\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void resetBuffer() {\r\n            original.resetBuffer();\r\n        }\r\n\r\n        @Override\r\n        public boolean isCommitted() {\r\n            return original.isCommitted();\r\n        }\r\n\r\n        @Override\r\n        public void reset() {\r\n            original.reset();\r\n        }\r\n\r\n        @Override\r\n        public Locale getLocale() {\r\n            return original.getLocale();\r\n        }\r\n\r\n        @Override\r\n        public void setLocale(Locale loc) {\r\n            original.setLocale(loc);\r\n        }\r\n\r\n        @Override\r\n        public void addCookie(Cookie cookie) {\r\n            original.addCookie(cookie);\r\n        }\r\n\r\n        @Override\r\n        public boolean containsHeader(String name) {\r\n            return original.containsHeader(name);\r\n        }\r\n\r\n        @Override\r\n        public String encodeURL(String url) {\r\n            return original.encodeURL(url);\r\n        }\r\n\r\n        @Override\r\n        public String encodeRedirectURL(String url) {\r\n            return original.encodeRedirectURL(url);\r\n        }\r\n\r\n        @Override\r\n        public void sendError(int sc, String msg) throws IOException {\r\n            original.sendError(sc, msg);\r\n        }\r\n\r\n        @Override\r\n        public void sendError(int sc) throws IOException {\r\n            original.sendError(sc);\r\n        }\r\n\r\n        @Override\r\n        public void sendRedirect(String location) throws IOException {\r\n            original.sendRedirect(location);\r\n        }\r\n\r\n        @Override\r\n        public void setDateHeader(String name, long date) {\r\n            original.setDateHeader(name, date);\r\n        }\r\n\r\n        @Override\r\n        public void addDateHeader(String name, long date) {\r\n            original.addDateHeader(name, date);\r\n        }\r\n\r\n        @Override\r\n        public void setHeader(String name, String value) {\r\n            original.setHeader(name, value);\r\n        }\r\n\r\n        @Override\r\n        public void addHeader(String name, String value) {\r\n            original.addHeader(name, value);\r\n        }\r\n\r\n        @Override\r\n        public void setIntHeader(String name, int value) {\r\n            original.setIntHeader(name, value);\r\n        }\r\n\r\n        @Override\r\n        public void addIntHeader(String name, int value) {\r\n            original.addIntHeader(name, value);\r\n        }\r\n\r\n        @Override\r\n        public String getHeader(String arg0) {\r\n            return original.getHeader(arg0);\r\n        }\r\n\r\n        @Override\r\n        public Collection&lt;String&gt; getHeaderNames() {\r\n            return original.getHeaderNames();\r\n        }\r\n\r\n        @Override\r\n        public Collection&lt;String&gt; getHeaders(String arg0) {\r\n            return original.getHeaders(arg0);\r\n        }\r\n\r\n        @Override\r\n        public int getStatus() {\r\n            return original.getStatus();\r\n        }\r\n\r\n        @Override\r\n        public void setStatus(int sc) {\r\n            original.setStatus(sc);\r\n        }\r\n    }\r\n}\r\n````","title":"Spring POST multipart/form-data, request parts always empty","body":"<p>I have a simple REST controller that I use for accepting a file being uploaded from a HTML form. The project is Spring Boot 2.6.1 and Java 17. But the problem was also to be found in Spring Boot 2.3.7 and Java 15.</p>\n<pre><code>@PostMapping(path = &quot;/file&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\npublic void handleFileUpload(@RequestParam(&quot;file&quot;) MultipartFile file) {\n    fileService.upload(file.getInputStream(), file.getOriginalFilename());\n}\n</code></pre>\n<p>The problem is <code>file</code> is always NULL. I found a lot of different answers about setting a <code>MultipartResolver</code> bean or enabling <code>spring.http.multipart.enabled = true</code> but nothing helped. I have a logging filter as one of the first filters in the chain. After debugging in the filter chain I found out that making a call to <code>request.getParts()</code> made everything work. My filter look like this:</p>\n<pre><code>public class LoggingFilter extends GenericFilterBean {\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain filterChain) throws IOException, ServletException {\n        HttpServletRequest httpServletRequest = (HttpServletRequest) request;\n        BufferedRequestWrapper bufferedRequest = new BufferedRequestWrapper(httpServletRequest);\n        BufferedResponseWrapper bufferedResponse = new BufferedResponseWrapper((HttpServletResponse) response);\n\n        filterChain.doFilter(bufferedRequest, bufferedResponse);\n\n        logRequest(httpServletRequest, bufferedRequest);\n        logResponse(httpServletRequest, bufferedResponse);\n    }\n</code></pre>\n<p>I changed the filter to:</p>\n<pre><code>public class LoggingFilter extends GenericFilterBean {\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain filterChain) throws IOException, ServletException {\n        HttpServletRequest httpServletRequest = (HttpServletRequest) request;\n\n        if (request.getContentType() != null &amp;&amp; request.getContentType().startsWith(&quot;multipart/form-data&quot;)) {\n            httpServletRequest.getParts(); // Trigger initialization of multi-part.\n        }\n\n        BufferedRequestWrapper bufferedRequest = new BufferedRequestWrapper(httpServletRequest);\n        BufferedResponseWrapper bufferedResponse = new BufferedResponseWrapper((HttpServletResponse) response);\n\n        filterChain.doFilter(bufferedRequest, bufferedResponse);\n\n        logRequest(httpServletRequest, bufferedRequest);\n        logResponse(httpServletRequest, bufferedResponse);\n    }\n</code></pre>\n<p>and everything was working. My question is; why is this needed? And is there a better way of doing this?</p>\n<p>Below is a complete example where only the actual logging is removed because we use a custom logging framework.</p>\n<pre><code>package com.unwire.ticketing.filter.logging;\n\nimport lombok.Getter;\nimport org.apache.commons.io.IOUtils;\nimport org.apache.commons.io.output.TeeOutputStream;\nimport org.springframework.web.filter.GenericFilterBean;\n\nimport javax.servlet.*;\nimport javax.servlet.http.*;\nimport java.io.*;\nimport java.nio.charset.StandardCharsets;\nimport java.util.Collection;\nimport java.util.Locale;\nimport java.util.stream.Collectors;\n\npublic class Log extends GenericFilterBean {\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain filterChain) throws IOException, ServletException {\n        HttpServletRequest httpServletRequest = (HttpServletRequest) request;\n\n        if (request.getContentType() != null &amp;&amp; request.getContentType().startsWith(&quot;multipart/form-data&quot;)) {\n            httpServletRequest.getParts(); // Trigger initialization of multi-part.\n        }\n\n        try {\n            BufferedRequestWrapper bufferedRequest = new BufferedRequestWrapper(httpServletRequest);\n            BufferedResponseWrapper bufferedResponse = new BufferedResponseWrapper((HttpServletResponse) response);\n\n            filterChain.doFilter(bufferedRequest, bufferedResponse);\n\n            logRequest(httpServletRequest, bufferedRequest);\n            logResponse(httpServletRequest, bufferedResponse);\n        } catch (Throwable t) {\n\n        }\n    }\n\n\n    private void logRequest(HttpServletRequest request, BufferedRequestWrapper bufferedRequest) throws IOException {\n        String body = bufferedRequest.getRequestBody();\n        // Log request\n    }\n\n    private void logResponse(HttpServletRequest httpServletRequest, BufferedResponseWrapper bufferedResponse) {\n        // Log response\n    }\n\n    private static final class BufferedRequestWrapper extends HttpServletRequestWrapper {\n\n        private final byte[] buffer;\n\n        BufferedRequestWrapper(HttpServletRequest req) throws IOException {\n            super(req);\n\n            if (req.getContentType() == null || (req.getContentType() != null &amp;&amp; !req.getContentType().startsWith(&quot;application/x-www-form-urlencoded&quot;))) {\n                // Read InputStream and store its content in a buffer.\n                InputStream is = req.getInputStream();\n                ByteArrayOutputStream baos = new ByteArrayOutputStream();\n                byte[] buf = new byte[1024];\n                int read;\n                while ((read = is.read(buf)) &gt; 0) {\n                    baos.write(buf, 0, read);\n                }\n                this.buffer = baos.toByteArray();\n            } else {\n                buffer = new byte[0];\n            }\n        }\n\n        @Override\n        public ServletInputStream getInputStream() {\n            return new BufferedServletInputStream(new ByteArrayInputStream(this.buffer));\n        }\n\n        @Override\n        public Collection&lt;Part&gt; getParts() throws IOException, ServletException {\n            return super.getParts();\n        }\n\n        String getRequestBody() throws IOException {\n            return IOUtils.readLines(this.getInputStream(), StandardCharsets.UTF_8.name()).stream()\n                    .map(String::trim)\n                    .collect(Collectors.joining());\n        }\n    }\n\n    private static final class BufferedServletInputStream extends ServletInputStream {\n\n        private final ByteArrayInputStream bais;\n\n        BufferedServletInputStream(ByteArrayInputStream bais) {\n            this.bais = bais;\n        }\n\n        @Override\n        public int available() {\n            return this.bais.available();\n        }\n\n        @Override\n        public int read() {\n            return this.bais.read();\n        }\n\n        @Override\n        public int read(byte[] buf, int off, int len) {\n            return this.bais.read(buf, off, len);\n        }\n\n        @Override\n        public boolean isFinished() {\n            return false;\n        }\n\n        @Override\n        public boolean isReady() {\n            return true;\n        }\n\n        @Override\n        public void setReadListener(ReadListener readListener) {\n\n        }\n    }\n\n    public static class TeeServletOutputStream extends ServletOutputStream {\n\n        private final TeeOutputStream targetStream;\n\n        TeeServletOutputStream(OutputStream one, OutputStream two) {\n            targetStream = new TeeOutputStream(one, two);\n        }\n\n        @Override\n        public void write(int arg0) throws IOException {\n            this.targetStream.write(arg0);\n        }\n\n        public void flush() throws IOException {\n            super.flush();\n            this.targetStream.flush();\n        }\n\n        public void close() throws IOException {\n            super.close();\n            this.targetStream.close();\n        }\n\n        @Override\n        public boolean isReady() {\n            return false;\n        }\n\n        @Override\n        public void setWriteListener(WriteListener writeListener) {\n\n        }\n    }\n\n    public class BufferedResponseWrapper implements HttpServletResponse {\n\n        HttpServletResponse original;\n        TeeServletOutputStream tee;\n        ByteArrayOutputStream bos;\n        @Getter\n        Long startTime;\n\n        BufferedResponseWrapper(HttpServletResponse response) {\n            this.original = response;\n            this.startTime = System.currentTimeMillis();\n        }\n\n        String getContent() {\n            if (bos != null) {\n                return bos.toString();\n            } else {\n                return &quot;&quot;;\n            }\n        }\n\n        @Override\n        public PrintWriter getWriter() throws IOException {\n            return original.getWriter();\n        }\n\n        @Override\n        public ServletOutputStream getOutputStream() throws IOException {\n            if (tee == null) {\n                bos = new ByteArrayOutputStream();\n                tee = new TeeServletOutputStream(original.getOutputStream(), bos);\n            }\n            return tee;\n        }\n\n        @Override\n        public String getCharacterEncoding() {\n            return original.getCharacterEncoding();\n        }\n\n        @Override\n        public void setCharacterEncoding(String charset) {\n            original.setCharacterEncoding(charset);\n        }\n\n        @Override\n        public String getContentType() {\n            return original.getContentType();\n        }\n\n        @Override\n        public void setContentType(String type) {\n            original.setContentType(type);\n        }\n\n        @Override\n        public void setContentLength(int len) {\n            original.setContentLength(len);\n        }\n\n        @Override\n        public void setContentLengthLong(long l) {\n            original.setContentLengthLong(l);\n        }\n\n        @Override\n        public int getBufferSize() {\n            return original.getBufferSize();\n        }\n\n        @Override\n        public void setBufferSize(int size) {\n            original.setBufferSize(size);\n        }\n\n        @Override\n        public void flushBuffer() throws IOException {\n            if (tee != null) {\n                tee.flush();\n            }\n        }\n\n        @Override\n        public void resetBuffer() {\n            original.resetBuffer();\n        }\n\n        @Override\n        public boolean isCommitted() {\n            return original.isCommitted();\n        }\n\n        @Override\n        public void reset() {\n            original.reset();\n        }\n\n        @Override\n        public Locale getLocale() {\n            return original.getLocale();\n        }\n\n        @Override\n        public void setLocale(Locale loc) {\n            original.setLocale(loc);\n        }\n\n        @Override\n        public void addCookie(Cookie cookie) {\n            original.addCookie(cookie);\n        }\n\n        @Override\n        public boolean containsHeader(String name) {\n            return original.containsHeader(name);\n        }\n\n        @Override\n        public String encodeURL(String url) {\n            return original.encodeURL(url);\n        }\n\n        @Override\n        public String encodeRedirectURL(String url) {\n            return original.encodeRedirectURL(url);\n        }\n\n        @Override\n        public void sendError(int sc, String msg) throws IOException {\n            original.sendError(sc, msg);\n        }\n\n        @Override\n        public void sendError(int sc) throws IOException {\n            original.sendError(sc);\n        }\n\n        @Override\n        public void sendRedirect(String location) throws IOException {\n            original.sendRedirect(location);\n        }\n\n        @Override\n        public void setDateHeader(String name, long date) {\n            original.setDateHeader(name, date);\n        }\n\n        @Override\n        public void addDateHeader(String name, long date) {\n            original.addDateHeader(name, date);\n        }\n\n        @Override\n        public void setHeader(String name, String value) {\n            original.setHeader(name, value);\n        }\n\n        @Override\n        public void addHeader(String name, String value) {\n            original.addHeader(name, value);\n        }\n\n        @Override\n        public void setIntHeader(String name, int value) {\n            original.setIntHeader(name, value);\n        }\n\n        @Override\n        public void addIntHeader(String name, int value) {\n            original.addIntHeader(name, value);\n        }\n\n        @Override\n        public String getHeader(String arg0) {\n            return original.getHeader(arg0);\n        }\n\n        @Override\n        public Collection&lt;String&gt; getHeaderNames() {\n            return original.getHeaderNames();\n        }\n\n        @Override\n        public Collection&lt;String&gt; getHeaders(String arg0) {\n            return original.getHeaders(arg0);\n        }\n\n        @Override\n        public int getStatus() {\n            return original.getStatus();\n        }\n\n        @Override\n        public void setStatus(int sc) {\n            original.setStatus(sc);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","kotlin"],"answers":[{"tags":[],"owner":{"account_id":27227504,"reputation":171,"user_id":20755786,"display_name":"Ariczek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685684389,"creation_date":1685684389,"answer_id":76387400,"question_id":76387378,"body_markdown":"You can list the connected devices via `adb` command\r\n\r\n    adb devices\r\n\r\nand then choose the one using `-s`. See https://developer.android.com/tools/adb#directingcommands","title":"Why is Logcat not showing logs for my physical device but showing logs for the emulator in Android Studio?","body":"<p>You can list the connected devices via <code>adb</code> command</p>\n<pre><code>adb devices\n</code></pre>\n<p>and then choose the one using <code>-s</code>. See <a href=\"https://developer.android.com/tools/adb#directingcommands\" rel=\"nofollow noreferrer\">https://developer.android.com/tools/adb#directingcommands</a></p>\n"},{"tags":[],"owner":{"account_id":11163581,"reputation":1048,"user_id":8192914,"display_name":"ganjaam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685687060,"creation_date":1685687060,"answer_id":76387621,"question_id":76387378,"body_markdown":"Make sure you&#39;ve selected the physical device from the logcat&#39;s dropdown.\r\n\r\n[![Logcat][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BKEX8.png","title":"Why is Logcat not showing logs for my physical device but showing logs for the emulator in Android Studio?","body":"<p>Make sure you've selected the physical device from the logcat's dropdown.</p>\n<p><a href=\"https://i.stack.imgur.com/BKEX8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BKEX8.png\" alt=\"Logcat\" /></a></p>\n"}],"owner":{"account_id":28733444,"reputation":1,"user_id":22004900,"display_name":"Peerzada Mubasher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685687060,"creation_date":1685683990,"question_id":76387378,"body_markdown":"I am unable to find logs in Logcat when I try to log on physical device but when I try to log on Emulator the Logs are completely visible.\r\n\r\nI tried INVALIDATE CACHES removed and connected the device again and again and all the possible solutions. But nothing is working for me.\r\n\r\nNow I am expecting to get a desired solution for this issue.","title":"Why is Logcat not showing logs for my physical device but showing logs for the emulator in Android Studio?","body":"<p>I am unable to find logs in Logcat when I try to log on physical device but when I try to log on Emulator the Logs are completely visible.</p>\n<p>I tried INVALIDATE CACHES removed and connected the device again and again and all the possible solutions. But nothing is working for me.</p>\n<p>Now I am expecting to get a desired solution for this issue.</p>\n"},{"tags":["java","android-studio","oop","interface","android-alertdialog"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1685687835,"post_id":76387526,"comment_id":134698519,"body_markdown":"Is this all about the two buttons (`&quot;reset&quot;` and `&quot;scan&quot;`) or are you talking about dialog events, like *On Cancel* which you can listen to with an [`OnCancelListener`](https://developer.android.com/studio/write/java8-support-table)?","body":"Is this all about the two buttons (<code>&quot;reset&quot;</code> and <code>&quot;scan&quot;</code>) or are you talking about dialog events, like <i>On Cancel</i> which you can listen to with an <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\"><code>OnCancelListener</code></a>?"},{"owner":{"account_id":26351995,"reputation":26,"user_id":20009474,"display_name":"Xiang"},"score":0,"creation_date":1685688169,"post_id":76387526,"comment_id":134698573,"body_markdown":"Yes,About two buttons,but I need different buttons tag name and event.","body":"Yes,About two buttons,but I need different buttons tag name and event."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1685688532,"post_id":76387526,"comment_id":134698638,"body_markdown":"Apart from the neutral button and some other options, you can build a [custom layout for an `AlertDialog`](https://developer.android.com/develop/ui/views/components/dialogs#CustomLayout). I think that&#39;s the most appropriate way to have a dialog with more than 2 or three buttons.","body":"Apart from the neutral button and some other options, you can build a <a href=\"https://developer.android.com/develop/ui/views/components/dialogs#CustomLayout\" rel=\"nofollow noreferrer\">custom layout for an <code>AlertDialog</code></a>. I think that&#39;s the most appropriate way to have a dialog with more than 2 or three buttons."},{"owner":{"account_id":26351995,"reputation":26,"user_id":20009474,"display_name":"Xiang"},"score":0,"creation_date":1685688554,"post_id":76387526,"comment_id":134698643,"body_markdown":"To put it simply, when the user encounters situations A and B, button 1, button 2, button 3, and button 4 will appear respectively, and have their own independent events, but if I have 10 dialog boxes, do I have to repeat them 10 times? ?Is there any way to integrate","body":"To put it simply, when the user encounters situations A and B, button 1, button 2, button 3, and button 4 will appear respectively, and have their own independent events, but if I have 10 dialog boxes, do I have to repeat them 10 times? ?Is there any way to integrate"}],"owner":{"account_id":26351995,"reputation":26,"user_id":20009474,"display_name":"Xiang"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685686130,"creation_date":1685685932,"question_id":76387526,"body_markdown":"I hava some question in Code Design Pattern. I want to use OOP desgin to my code. but I don&#39;t how to use that...\r\n\r\nExample:\r\n\r\nI need a public AlertDialog,but I always use public funtion,likes:\r\n\r\n```\r\npublic void ShowMsgDialog(String title,String msg)\r\n    {\r\n\r\n        AlertDialog.Builder MyAlertDialog = new AlertDialog.Builder(getActivity());\r\n        MyAlertDialog.setTitle(title);\r\n        MyAlertDialog.setMessage(msg);\r\n\r\n\r\n        \r\n        MyAlertDialog.setCancelable(false)\r\n                .setPositiveButton(&quot;reset&quot;, (dialog, id) -&gt; {\r\n\r\n                    dialog.cancel();\r\n                    txt_PlateNumber.setEnabled(true);\r\n                    txt_Quantity.setEnabled(true);\r\n                    btn_bring.setEnabled(true);\r\n\r\n                })\r\n                .setNegativeButton(&quot;scan&quot;, (dialog, id) -&gt; {\r\n                    txt_PlateNumber.setEnabled(false);\r\n                    txt_Quantity.setEnabled(false);\r\n                    btn_bring.setEnabled(false);\r\n                    dialog.cancel();\r\n                    UnLockCamera();\r\n                });\r\n\r\n        MyAlertDialog.show();\r\n\r\n\r\n    }\r\n```\r\n\r\nif I need different event after click,I must make a new function,lead me to have a lot of very similar code...So there is a way to achieve interface a dialog and add different click event? or any better suggestion.\r\nplease give me some simple example...Thank you so much\r\n\r\nI try use public funtion,but lead me have a bad code","title":"Abount Java Code Design Pattern - Android studio","body":"<p>I hava some question in Code Design Pattern. I want to use OOP desgin to my code. but I don't how to use that...</p>\n<p>Example:</p>\n<p>I need a public AlertDialog,but I always use public funtion,likes:</p>\n<pre><code>public void ShowMsgDialog(String title,String msg)\n    {\n\n        AlertDialog.Builder MyAlertDialog = new AlertDialog.Builder(getActivity());\n        MyAlertDialog.setTitle(title);\n        MyAlertDialog.setMessage(msg);\n\n\n        \n        MyAlertDialog.setCancelable(false)\n                .setPositiveButton(&quot;reset&quot;, (dialog, id) -&gt; {\n\n                    dialog.cancel();\n                    txt_PlateNumber.setEnabled(true);\n                    txt_Quantity.setEnabled(true);\n                    btn_bring.setEnabled(true);\n\n                })\n                .setNegativeButton(&quot;scan&quot;, (dialog, id) -&gt; {\n                    txt_PlateNumber.setEnabled(false);\n                    txt_Quantity.setEnabled(false);\n                    btn_bring.setEnabled(false);\n                    dialog.cancel();\n                    UnLockCamera();\n                });\n\n        MyAlertDialog.show();\n\n\n    }\n</code></pre>\n<p>if I need different event after click,I must make a new function,lead me to have a lot of very similar code...So there is a way to achieve interface a dialog and add different click event? or any better suggestion.\nplease give me some simple example...Thank you so much</p>\n<p>I try use public funtion,but lead me have a bad code</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3122250,"reputation":3155,"user_id":2641792,"accept_rate":60,"display_name":"mdDroid"},"score":0,"creation_date":1464253922,"post_id":37456215,"comment_id":62412796,"body_markdown":"Can you paste activity or fragment code in which you are using that dialog","body":"Can you paste activity or fragment code in which you are using that dialog"}],"answers":[{"tags":[],"owner":{"account_id":6774202,"reputation":2707,"user_id":5216567,"display_name":"dieter_h"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1464253971,"creation_date":1464253971,"answer_id":37456449,"question_id":37456215,"body_markdown":"The problem is on this line:\r\n`alert.setView(input);`\r\nYou added `input` `View` that have already `parent`.\r\nCreate new `input` instance.","title":"dialog - The specified child already has a parent. You must call removeView() on the child&#39;s parent first","body":"<p>The problem is on this line:\n<code>alert.setView(input);</code>\nYou added <code>input</code> <code>View</code> that have already <code>parent</code>.\nCreate new <code>input</code> instance.</p>\n"},{"tags":[],"owner":{"account_id":3122250,"reputation":3155,"user_id":2641792,"accept_rate":60,"display_name":"mdDroid"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1464255477,"creation_date":1464254069,"answer_id":37456484,"question_id":37456215,"body_markdown":"Put following line\r\n\r\n     final AlertDialog alertd = alert.create();\r\n\r\nAfter\r\n\r\n     AlertDialog.Builder alert = new AlertDialog.Builder(MainActivity.this);","title":"dialog - The specified child already has a parent. You must call removeView() on the child&#39;s parent first","body":"<p>Put following line</p>\n\n<pre><code> final AlertDialog alertd = alert.create();\n</code></pre>\n\n<p>After</p>\n\n<pre><code> AlertDialog.Builder alert = new AlertDialog.Builder(MainActivity.this);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10440379,"reputation":2401,"user_id":7697233,"accept_rate":78,"display_name":"Xianwei"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1525734055,"creation_date":1525734055,"answer_id":50223589,"question_id":37456215,"body_markdown":"according to this [post][1], add this check to remove input from it&#39;s parent and readd it:     \r\n\r\n    if(input.getParent()!=null)\r\n            ((ViewGroup)input.getParent()).removeView(input); // &lt;- fix\r\n        alert.addView(input);\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/28071349/the-specified-child-already-has-a-parent-you-must-call-removeview-on-the-chil","title":"dialog - The specified child already has a parent. You must call removeView() on the child&#39;s parent first","body":"<p>according to this <a href=\"https://stackoverflow.com/questions/28071349/the-specified-child-already-has-a-parent-you-must-call-removeview-on-the-chil\">post</a>, add this check to remove input from it's parent and readd it:     </p>\n\n<pre><code>if(input.getParent()!=null)\n        ((ViewGroup)input.getParent()).removeView(input); // &lt;- fix\n    alert.addView(input);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1476158,"reputation":79,"user_id":1386502,"display_name":"Emad Easa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680489554,"creation_date":1604837032,"answer_id":64737841,"question_id":37456215,"body_markdown":"Following situation can also happen (happened to me):\r\n\r\nSometimes when you use a listview you initialize it with an adapter, which belongs to a certain layout. Now lets say the root view of this layout file is a `&lt;LinearLayout&gt;` with the id &quot;root_view&quot;.\r\n\r\nIf you register now for a context menu in your activity and create an `AlerdDialog.Builder` which appears after choosing a certain menu element and initialize it with a layout file, which also has a root element with an id called &quot;root_view&quot; where all elements which belong to your `AlertDialog` are children of it, then those elements &quot;will not be found&quot;. You will not be able to access those elements with `findViewById`, instead you can only access the elements from the `&lt;LinearLayout&gt;` of your list view and you get the same error message at the line where you call `builder.show()` (or in the case here `alert.show()`).\r\n\r\nSo generally it is a good idea to name the ids of your elements in the layout files uniquely, for your project.","title":"dialog - The specified child already has a parent. You must call removeView() on the child&#39;s parent first","body":"<p>Following situation can also happen (happened to me):</p>\n<p>Sometimes when you use a listview you initialize it with an adapter, which belongs to a certain layout. Now lets say the root view of this layout file is a <code>&lt;LinearLayout&gt;</code> with the id &quot;root_view&quot;.</p>\n<p>If you register now for a context menu in your activity and create an <code>AlerdDialog.Builder</code> which appears after choosing a certain menu element and initialize it with a layout file, which also has a root element with an id called &quot;root_view&quot; where all elements which belong to your <code>AlertDialog</code> are children of it, then those elements &quot;will not be found&quot;. You will not be able to access those elements with <code>findViewById</code>, instead you can only access the elements from the <code>&lt;LinearLayout&gt;</code> of your list view and you get the same error message at the line where you call <code>builder.show()</code> (or in the case here <code>alert.show()</code>).</p>\n<p>So generally it is a good idea to name the ids of your elements in the layout files uniquely, for your project.</p>\n"},{"tags":[],"owner":{"account_id":324349,"reputation":147,"user_id":644874,"accept_rate":40,"display_name":"yoyo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638208790,"creation_date":1638207689,"answer_id":70158991,"question_id":37456215,"body_markdown":"I forgot to call `create()` on the `AlertDialog.Builder`. When you call `show()` without calling the `create()` method, the `AlertDialog` instance gets created. This worked the first time but then subsequent clicks got the `IllegalStateException`. As I was calling `show()` inside of my `onClickListener`, it was going to create a new `AlertDialog` instance every time button was clicked.","title":"dialog - The specified child already has a parent. You must call removeView() on the child&#39;s parent first","body":"<p>I forgot to call <code>create()</code> on the <code>AlertDialog.Builder</code>. When you call <code>show()</code> without calling the <code>create()</code> method, the <code>AlertDialog</code> instance gets created. This worked the first time but then subsequent clicks got the <code>IllegalStateException</code>. As I was calling <code>show()</code> inside of my <code>onClickListener</code>, it was going to create a new <code>AlertDialog</code> instance every time button was clicked.</p>\n"},{"tags":[],"owner":{"account_id":13309392,"reputation":190,"user_id":9653526,"display_name":"Angel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685684635,"creation_date":1685684635,"answer_id":76387418,"question_id":37456215,"body_markdown":"Add this line at start\r\n\r\n    View dialog_view= getLayoutInflater().inflate(R.layout.dialog_view, null);\r\n    TextInputEditText input = dialog_view.findViewById(R.id.input);\r\n\r\nbefore \r\n\r\n    AlertDialog.Builder alert = new AlertDialog.Builder(MainActivity.this);\r\n\r\nthat way a new instance of input is created and avoid the problem","title":"dialog - The specified child already has a parent. You must call removeView() on the child&#39;s parent first","body":"<p>Add this line at start</p>\n<pre><code>View dialog_view= getLayoutInflater().inflate(R.layout.dialog_view, null);\nTextInputEditText input = dialog_view.findViewById(R.id.input);\n</code></pre>\n<p>before</p>\n<pre><code>AlertDialog.Builder alert = new AlertDialog.Builder(MainActivity.this);\n</code></pre>\n<p>that way a new instance of input is created and avoid the problem</p>\n"}],"owner":{"account_id":6819034,"reputation":2289,"user_id":5246735,"accept_rate":49,"display_name":"Blaze"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22388,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":37456449,"answer_count":6,"score":25,"last_activity_date":1685684635,"creation_date":1464253372,"question_id":37456215,"body_markdown":"After a check demanding the user to switch on internet services and I try to click on a button my app crashes with the error message\r\n\r\n    java.lang.IllegalStateException: The specified child already has a parent. You must call removeView() on the child&#39;s parent first.\r\n\r\nOn this line it crashes, I have tried doing this but not resolved absolutely\r\n\r\n    if(alert.getContext() != null){\r\n    \t\t\talert.show();\r\n    \t\t}\r\n\r\nThis is the complete code\r\n\r\n \r\n\r\n    else if (id == R.id.xyz) {\r\n    \t\t\t\r\n    \t\t\t//startActivity(borrowIntent);\r\n    \t\t\tAlertDialog.Builder alert = new AlertDialog.Builder(MainActivity.this);\r\n    \t\t\talert.setTitle(&quot;xyz&quot;);\r\n    \t\t\tinput.setFilters(new InputFilter[] {\r\n    \t\t\t\t    // Maximum 2 characters.\r\n    \t\t\t\t    new InputFilter.LengthFilter(6),\r\n    \t\t\t\t    // Digits only.\r\n    \t\t\t\t    DigitsKeyListener.getInstance(), \r\n    \t\t\t\t});\r\n    \t\t\t// Digits only &amp; use numeric soft-keyboard.\r\n    \t\t\tinput.setKeyListener(DigitsKeyListener.getInstance());\r\n    \t\t\tinput.setHint(&quot;xyz&quot;);\r\n    \t\t\talert.setView(input);\r\n    \t\t\talert.setPositiveButton(&quot;Borrow&quot;, new DialogInterface.OnClickListener() {\r\n    \t\t\tpublic void onClick(DialogInterface dialog, int whichButton) {\r\n    \t\t\t\tif(input.getText().length() == 0)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tinput.setError(&quot;xyz is required !&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\telse\r\n    \t\t\t\t{\r\n    \t\t\t\t\t\r\n    \t\t\t       if(isNetworkAvailable())\r\n    \t\t\t\t      {\r\n    \t\t\t\t\t\t xyz( input.getText().toString());\r\n    \t\t\t\t\t\t \r\n    \t\t\t\t      }else{\r\n    \t\t\t\t    \t  \r\n    \t\t\t\t\t  \t\t//setContentView(R.layout.main);\r\n    \t\t\t\t\t  \t\t\r\n    \t\t\t\t\t  \t\tAlertDialog.Builder builder = new AlertDialog.Builder(\r\n    \t\t\t\t\t      \t\t\tMainActivity.this);\r\n    \t\t\t\t\t          builder.setCancelable(false);\r\n    \t\t\t\t\t          builder.setTitle(&quot;xyz&quot;);\r\n    \t\t\t\t\t          builder.setMessage(&quot;Please enable wifi services&quot;);\r\n    \t\t\t\t\t          builder.setInverseBackgroundForced(true);\r\n    \t\t\t\t\t          builder.setPositiveButton(&quot;Ok&quot;,\r\n    \t\t\t\t\t                  new DialogInterface.OnClickListener() {\r\n    \t\t\t\t\t                      @Override\r\n    \t\t\t\t\t                      public void onClick(DialogInterface dialog,\r\n    \t\t\t\t\t                              int which) {\r\n    \t\t\t\t\t                    \t  \r\n    \t\t\t\t\t                    \t  startActivityForResult(new Intent(android.provider.Settings.ACTION_SETTINGS), 0);\r\n    \t\t\t\t\t                    \t  dialog.dismiss();\r\n    \t\t\t\t\t                    \t  \r\n    \t\t\t\t\t                    \t\r\n    \t\t\t\t\t                      }\r\n    \t\t\t\t\t                  });\r\n    \t\t\t\t\t          AlertDialog alerts = builder.create();\r\n    \t\t\t\t\t          alerts.show();\r\n    \t\t\t\t\t       }//end of block\r\n    \t\t\t       \r\n    \t\t\t\t  \t\t}\r\n    \t\t\t  }\r\n    \t\t\t});\r\n    \t\t\talert.setNegativeButton(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\r\n    \t\t\t  public void onClick(DialogInterface dialog, int whichButton) {\r\n    \t\t\t    // Canceled.\r\n    \t\t\t  }\r\n    \t\t\t});\r\n    \t\t\tif(alert.getContext() != null){\r\n    \t\t\talert.show(); //crashes at this line\r\n    \t\t\t}\r\n    \t\t}\r\n\r\nPlease what am I missing?","title":"dialog - The specified child already has a parent. You must call removeView() on the child&#39;s parent first","body":"<p>After a check demanding the user to switch on internet services and I try to click on a button my app crashes with the error message</p>\n\n<pre><code>java.lang.IllegalStateException: The specified child already has a parent. You must call removeView() on the child's parent first.\n</code></pre>\n\n<p>On this line it crashes, I have tried doing this but not resolved absolutely</p>\n\n<pre><code>if(alert.getContext() != null){\n            alert.show();\n        }\n</code></pre>\n\n<p>This is the complete code</p>\n\n<pre><code>else if (id == R.id.xyz) {\n\n            //startActivity(borrowIntent);\n            AlertDialog.Builder alert = new AlertDialog.Builder(MainActivity.this);\n            alert.setTitle(\"xyz\");\n            input.setFilters(new InputFilter[] {\n                    // Maximum 2 characters.\n                    new InputFilter.LengthFilter(6),\n                    // Digits only.\n                    DigitsKeyListener.getInstance(), \n                });\n            // Digits only &amp; use numeric soft-keyboard.\n            input.setKeyListener(DigitsKeyListener.getInstance());\n            input.setHint(\"xyz\");\n            alert.setView(input);\n            alert.setPositiveButton(\"Borrow\", new DialogInterface.OnClickListener() {\n            public void onClick(DialogInterface dialog, int whichButton) {\n                if(input.getText().length() == 0)\n                {\n                    input.setError(\"xyz is required !\");\n                }\n                else\n                {\n\n                   if(isNetworkAvailable())\n                      {\n                         xyz( input.getText().toString());\n\n                      }else{\n\n                            //setContentView(R.layout.main);\n\n                            AlertDialog.Builder builder = new AlertDialog.Builder(\n                                    MainActivity.this);\n                              builder.setCancelable(false);\n                              builder.setTitle(\"xyz\");\n                              builder.setMessage(\"Please enable wifi services\");\n                              builder.setInverseBackgroundForced(true);\n                              builder.setPositiveButton(\"Ok\",\n                                      new DialogInterface.OnClickListener() {\n                                          @Override\n                                          public void onClick(DialogInterface dialog,\n                                                  int which) {\n\n                                              startActivityForResult(new Intent(android.provider.Settings.ACTION_SETTINGS), 0);\n                                              dialog.dismiss();\n\n\n                                          }\n                                      });\n                              AlertDialog alerts = builder.create();\n                              alerts.show();\n                           }//end of block\n\n                        }\n              }\n            });\n            alert.setNegativeButton(\"Cancel\", new DialogInterface.OnClickListener() {\n              public void onClick(DialogInterface dialog, int whichButton) {\n                // Canceled.\n              }\n            });\n            if(alert.getContext() != null){\n            alert.show(); //crashes at this line\n            }\n        }\n</code></pre>\n\n<p>Please what am I missing?</p>\n"},{"tags":["java","networking","frameworks","webserver","nio"],"answers":[{"tags":[],"owner":{"account_id":294406,"reputation":24602,"user_id":598289,"accept_rate":85,"display_name":"SJuan76"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1301684235,"creation_date":1301684235,"answer_id":5517628,"question_id":5517442,"body_markdown":"IMHO, the advantage of Tomcat exists when you are dealing with HTTP. For HTTP I would use Tomcat as it simplifies a lot of things, but for pure TCP I see no advantage so I would recommend using more simple methods.","title":"Tomcat/web server vs. Java NIO/Networking Framework","body":"<p>IMHO, the advantage of Tomcat exists when you are dealing with HTTP. For HTTP I would use Tomcat as it simplifies a lot of things, but for pure TCP I see no advantage so I would recommend using more simple methods.</p>\n"},{"tags":[],"owner":{"account_id":351630,"reputation":11,"user_id":688229,"display_name":"user688229"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1301689518,"creation_date":1301689518,"answer_id":5518443,"question_id":5517442,"body_markdown":"Tomcat is traditionally used with Java Servlets and HTTP. If you are building a web application using Java then Tomcat is the way to go. If you simply want to comunicate using TCP/IP between two programs then it would probably be easier to use a network framework.","title":"Tomcat/web server vs. Java NIO/Networking Framework","body":"<p>Tomcat is traditionally used with Java Servlets and HTTP. If you are building a web application using Java then Tomcat is the way to go. If you simply want to comunicate using TCP/IP between two programs then it would probably be easier to use a network framework.</p>\n"},{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1301691601,"creation_date":1301691601,"answer_id":5518805,"question_id":5517442,"body_markdown":"I think history sheds some light on the answer.\r\n\r\nTomcat predates Java NIO by many years.  The thinking at the time that a queue for incoming requests and a pool of threads, one thread per request was best.\r\n\r\nData would suggest that Java NIO scales better,  JBOSS maintains and uses it now.\r\n\r\nI would not be surprised to learn that Tomcat was being refactored to use Netty.","title":"Tomcat/web server vs. Java NIO/Networking Framework","body":"<p>I think history sheds some light on the answer.</p>\n\n<p>Tomcat predates Java NIO by many years.  The thinking at the time that a queue for incoming requests and a pool of threads, one thread per request was best.</p>\n\n<p>Data would suggest that Java NIO scales better,  JBOSS maintains and uses it now.</p>\n\n<p>I would not be surprised to learn that Tomcat was being refactored to use Netty.</p>\n"},{"tags":[],"owner":{"account_id":118803,"reputation":2451,"user_id":310092,"display_name":"mezmo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1301692955,"creation_date":1301692955,"answer_id":5519027,"question_id":5517442,"body_markdown":"Tomcat itself has been able to use NIO since the release of version 6, with the NIO connector. So, NIO goodness, and Tomcat been beat up all over the place solidarity. [I know which one I&#39;m choosing.][1] ;)\r\n\r\n\r\n\r\n  [1]: http://tomcat.apache.org/tomcat-7.0-doc/config/http.html","title":"Tomcat/web server vs. Java NIO/Networking Framework","body":"<p>Tomcat itself has been able to use NIO since the release of version 6, with the NIO connector. So, NIO goodness, and Tomcat been beat up all over the place solidarity. <a href=\"http://tomcat.apache.org/tomcat-7.0-doc/config/http.html\" rel=\"nofollow\">I know which one I'm choosing.</a> ;)</p>\n"},{"tags":[],"owner":{"account_id":22365347,"reputation":1,"user_id":16581238,"display_name":"yuan yuan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1653650496,"creation_date":1653650496,"answer_id":72404627,"question_id":5517442,"body_markdown":"Actually, this is should be closed. Tomcat has supported NIO for years, there is no need to talk about it now.","title":"Tomcat/web server vs. Java NIO/Networking Framework","body":"<p>Actually, this is should be closed. Tomcat has supported NIO for years, there is no need to talk about it now.</p>\n"},{"tags":[],"owner":{"account_id":28733409,"reputation":1,"user_id":22004871,"display_name":"Reno"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685684316,"creation_date":1685684316,"answer_id":76387396,"question_id":5517442,"body_markdown":"Implement a customized Server with Java Nio and and change the message structure a little bit then you can deal with all kinds of requests and responses.\r\n[using-java-nio-socket-as-the-underlying-foundation-similar-to-tomcat][1]\r\n\r\n\r\n  [1]: http://jpfans365.com/2023/05/28/using-java-nio-socket-as-the-underlying-foundation-manually-parse-http-requests-and-responses-and-implement-a-customized-server-similar-to-tomcat-1/","title":"Tomcat/web server vs. Java NIO/Networking Framework","body":"<p>Implement a customized Server with Java Nio and and change the message structure a little bit then you can deal with all kinds of requests and responses.\n<a href=\"http://jpfans365.com/2023/05/28/using-java-nio-socket-as-the-underlying-foundation-manually-parse-http-requests-and-responses-and-implement-a-customized-server-similar-to-tomcat-1/\" rel=\"nofollow noreferrer\">using-java-nio-socket-as-the-underlying-foundation-similar-to-tomcat</a></p>\n"}],"owner":{"account_id":256358,"reputation":1875,"user_id":537028,"accept_rate":100,"display_name":"chamakits"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5557,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":5518805,"answer_count":6,"score":2,"last_activity_date":1685684316,"creation_date":1301683077,"question_id":5517442,"body_markdown":"Currently for a class, I&#39;m implementing a server which receives two types of connections, using TCP, and a custom application layer protocol.  Though for the class, this is how the project needs to be done, I was wondering about the advantages/disadvantages of using something like Tomcat or a similar web server to receive all incoming communication, vs. using Java&#39;s NIO or a networking framework like Mina (which I&#39;m using) or Netty (which I want to play around with at some point).\r\n\r\nThough I&#39;m asking about Java (because it&#39;s what I&#39;m most comfortable with) specifically, you are more than welcome to expand this to any other languages.\r\n\r\nI&#39;m looking for comments on performance, ease of use, scalability (both in how well it scales development wise and usage wise), security, and any other base you think you may put information on.\r\n\r\nAnyways, any input would be greatly appreciated.\r\n\r\nRegards,\r\nOmar Ferrer","title":"Tomcat/web server vs. Java NIO/Networking Framework","body":"<p>Currently for a class, I'm implementing a server which receives two types of connections, using TCP, and a custom application layer protocol.  Though for the class, this is how the project needs to be done, I was wondering about the advantages/disadvantages of using something like Tomcat or a similar web server to receive all incoming communication, vs. using Java's NIO or a networking framework like Mina (which I'm using) or Netty (which I want to play around with at some point).</p>\n\n<p>Though I'm asking about Java (because it's what I'm most comfortable with) specifically, you are more than welcome to expand this to any other languages.</p>\n\n<p>I'm looking for comments on performance, ease of use, scalability (both in how well it scales development wise and usage wise), security, and any other base you think you may put information on.</p>\n\n<p>Anyways, any input would be greatly appreciated.</p>\n\n<p>Regards,\nOmar Ferrer</p>\n"},{"tags":["java","android"],"owner":{"account_id":14448710,"reputation":1,"user_id":10436982,"display_name":"Paresh Kamble"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685683631,"creation_date":1685683631,"question_id":76387352,"body_markdown":"I have two RecycleViews, one for pinning sessions and one for unpinning sessions. When I load the session data first set the data to the pinning recyclerview and then set the data to the unpinned recyclerview.\r\nI want to set the data on the recyclerview as lazy type so that the user should get the feeling that both the Recyclerviews are setting one by one record at a time.\r\nSo how to do that?","title":"How to lazily set data on two RecyclerViews, so that the user thinks both RecyclerViews are setting records one at a time?","body":"<p>I have two RecycleViews, one for pinning sessions and one for unpinning sessions. When I load the session data first set the data to the pinning recyclerview and then set the data to the unpinned recyclerview.\nI want to set the data on the recyclerview as lazy type so that the user should get the feeling that both the Recyclerviews are setting one by one record at a time.\nSo how to do that?</p>\n"},{"tags":["java","authentication","ssl","keycloak","activemq-artemis"],"comments":[{"owner":{"account_id":9398418,"reputation":1845,"user_id":6982270,"display_name":"Domenico Francesco Bruscino"},"score":0,"creation_date":1684922952,"post_id":76302055,"comment_id":134587308,"body_markdown":"I suspect your keystore/truststore file or password are invalid, could you validate them with keytool?","body":"I suspect your keystore/truststore file or password are invalid, could you validate them with keytool?"},{"owner":{"account_id":23937954,"reputation":117,"user_id":17931470,"display_name":"Subhidh Agarwal"},"score":0,"creation_date":1684924261,"post_id":76302055,"comment_id":134587565,"body_markdown":"I checked the keystore/truststore using ```keytool -list -v -keystore your_keystore_file```. And also replicated the scenario locally. Created keystore/truststore using this [commands](https://github.com/apache/activemq-artemis/tree/main/examples/features/standard/ssl-enabled#jms-ssl-example). Still having the same issue","body":"I checked the keystore/truststore using <code>keytool -list -v -keystore your_keystore_file</code>. And also replicated the scenario locally. Created keystore/truststore using this <a href=\"https://github.com/apache/activemq-artemis/tree/main/examples/features/standard/ssl-enabled#jms-ssl-example\" rel=\"nofollow noreferrer\">commands</a>. Still having the same issue"},{"owner":{"account_id":9398418,"reputation":1845,"user_id":6982270,"display_name":"Domenico Francesco Bruscino"},"score":0,"creation_date":1685027357,"post_id":76302055,"comment_id":134606743,"body_markdown":"Are you using an absolute path to set `javax.net.ssl.trustStore`?","body":"Are you using an absolute path to set <code>javax.net.ssl.trustStore</code>?"},{"owner":{"account_id":23937954,"reputation":117,"user_id":17931470,"display_name":"Subhidh Agarwal"},"score":0,"creation_date":1685043297,"post_id":76302055,"comment_id":134610047,"body_markdown":"Yes, Using an absolute path.","body":"Yes, Using an absolute path."},{"owner":{"account_id":23937954,"reputation":117,"user_id":17931470,"display_name":"Subhidh Agarwal"},"score":0,"creation_date":1685471988,"post_id":76302055,"comment_id":134663966,"body_markdown":"@DomenicoFrancescoBruscino I have added the ActiveMQ configuration and command to spin up Keycloak. Added the GitHub URL above in the question. Please, I request you to have a look.","body":"@DomenicoFrancescoBruscino I have added the ActiveMQ configuration and command to spin up Keycloak. Added the GitHub URL above in the question. Please, I request you to have a look."},{"owner":{"account_id":9398418,"reputation":1845,"user_id":6982270,"display_name":"Domenico Francesco Bruscino"},"score":0,"creation_date":1685711286,"post_id":76302055,"comment_id":134703228,"body_markdown":"Could you try setting the trust store type, i.e. `-Djavax.net.ssl.trustStoreType=pkcs12`?","body":"Could you try setting the trust store type, i.e. <code>-Djavax.net.ssl.trustStoreType=pkcs12</code>?"},{"owner":{"account_id":23937954,"reputation":117,"user_id":17931470,"display_name":"Subhidh Agarwal"},"score":0,"creation_date":1685791951,"post_id":76302055,"comment_id":134712663,"body_markdown":"Magically ```.p12``` is working but ```.jks``` is not.","body":"Magically <code>.p12</code> is working but <code>.jks</code> is not."},{"owner":{"account_id":9398418,"reputation":1845,"user_id":6982270,"display_name":"Domenico Francesco Bruscino"},"score":0,"creation_date":1685856358,"post_id":76302055,"comment_id":134717923,"body_markdown":"Does .p12 work without &#39;-Djavax.net.ssl.trustStoreType=pkcs12&#39;?","body":"Does .p12 work without &#39;-Djavax.net.ssl.trustStoreType=pkcs12&#39;?"},{"owner":{"account_id":23937954,"reputation":117,"user_id":17931470,"display_name":"Subhidh Agarwal"},"score":0,"creation_date":1685878550,"post_id":76302055,"comment_id":134719682,"body_markdown":"Yes, it is working without &#39;-Djavax.net.ssl.trustStoreType=pkcs12&#39;","body":"Yes, it is working without &#39;-Djavax.net.ssl.trustStoreType=pkcs12&#39;"},{"owner":{"account_id":9398418,"reputation":1845,"user_id":6982270,"display_name":"Domenico Francesco Bruscino"},"score":0,"creation_date":1685938803,"post_id":76302055,"comment_id":134725510,"body_markdown":"Since Java 9, the default keystore format is PKCS12, maybe this is why you don&#39;t need `-Djavax.net.ssl.trustStoreType=pkcs12` fr your `.p12` file, Did you tried `-Djavax.net.ssl.trustStoreType=jks` with your `.jks` file?","body":"Since Java 9, the default keystore format is PKCS12, maybe this is why you don&#39;t need <code>-Djavax.net.ssl.trustStoreType=pkcs12</code> fr your <code>.p12</code> file, Did you tried <code>-Djavax.net.ssl.trustStoreType=jks</code> with your <code>.jks</code> file?"},{"owner":{"account_id":23937954,"reputation":117,"user_id":17931470,"display_name":"Subhidh Agarwal"},"score":0,"creation_date":1685944186,"post_id":76302055,"comment_id":134725978,"body_markdown":"Yes, when using .jks I used ```Djavax.net.ssl.trustStoreType=jks```, but this didn&#39;t help.","body":"Yes, when using .jks I used <code>Djavax.net.ssl.trustStoreType=jks</code>, but this didn&#39;t help."}],"owner":{"account_id":23937954,"reputation":117,"user_id":17931470,"display_name":"Subhidh Agarwal"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685682330,"creation_date":1684705817,"question_id":76302055,"body_markdown":"I have integrated Keycloak and ActiveMQ Artemis. Both are running on HTTPS. I have added the Keycloak truststore in ActiveMQ Artemis. Now I am getting this error in ActiveMQ. As the error says there is ```no X509TrustManager Available```. Can someone help me how to implement this in Keycloak v21.0.\r\n```java\r\n2023-05-20 07:53:53,100 WARN  [org.keycloak.adapters.KeycloakDeployment] Failed to load URLs from https://xx.xx.xxx.xxx:8443/realms/artemis-keycloak-demo/.well-known/openid-configuration\r\njavax.net.ssl.SSLHandshakeException: No X509TrustManager implementation available\r\n\tat sun.security.ssl.Alert.createSSLException(Alert.java:130) ~[?:?]\r\n\tat sun.security.ssl.TransportContext.fatal(TransportContext.java:378) ~[?:?]\r\n\tat sun.security.ssl.TransportContext.fatal(TransportContext.java:321) ~[?:?]\r\n\tat sun.security.ssl.TransportContext.fatal(TransportContext.java:316) ~[?:?]\r\n\tat sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1318) ~[?:?]\r\n\tat sun.security.ssl.CertificateMessage$T13CertificateConsumer.onConsumeCertificate(CertificateMessage.java:1195) ~[?:?]\r\n\tat sun.security.ssl.CertificateMessage$T13CertificateConsumer.consume(CertificateMessage.java:1138) ~[?:?]\r\n\tat sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:393) ~[?:?]\r\n\tat sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:476) ~[?:?]\r\n\tat sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:447) ~[?:?]\r\n\tat sun.security.ssl.TransportContext.dispatch(TransportContext.java:201) ~[?:?]\r\n\tat sun.security.ssl.SSLTransport.decode(SSLTransport.java:172) ~[?:?]\r\n\tat sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1506) ~[?:?]\r\n\tat sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1421) ~[?:?]\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455) ~[?:?]\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426) ~[?:?]\r\n\tat org.apache.http.conn.ssl.SSLSocketFactory.createLayeredSocket(SSLSocketFactory.java:570) ~[httpclient-4.5.14.jar:4.5.14]\r\n\tat org.keycloak.adapters.SniSSLSocketFactory.createLayeredSocket(SniSSLSocketFactory.java:119) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\r\n\tat org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:554) ~[httpclient-4.5.14.jar:4.5.14]\r\n\tat org.keycloak.adapters.SniSSLSocketFactory.connectSocket(SniSSLSocketFactory.java:114) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\r\n\tat org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142) ~[httpclient-4.5.14.jar:4.5.14]\r\n\tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.14.jar:4.5.14]\r\n\tat org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.14.jar:4.5.14]\r\n\tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.14.jar:4.5.14]\r\n\tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.14.jar:4.5.14]\r\n\tat org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.14.jar:4.5.14]\r\n\tat org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.14.jar:4.5.14]\r\n\tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.14.jar:4.5.14]\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.14.jar:4.5.14]\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108) ~[httpclient-4.5.14.jar:4.5.14]\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56) ~[httpclient-4.5.14.jar:4.5.14]\r\n\tat org.keycloak.adapters.KeycloakDeployment.getOidcConfiguration(KeycloakDeployment.java:230) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\r\n\tat org.keycloak.adapters.KeycloakDeployment.resolveUrls(KeycloakDeployment.java:182) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\r\n\tat org.keycloak.adapters.KeycloakDeployment.getJwksUrl(KeycloakDeployment.java:281) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\r\n\tat org.keycloak.adapters.rotation.JWKPublicKeyLocator.sendRequest(JWKPublicKeyLocator.java:98) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\r\n\tat org.keycloak.adapters.rotation.JWKPublicKeyLocator.getPublicKey(JWKPublicKeyLocator.java:63) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\r\n\tat org.keycloak.adapters.rotation.AdapterTokenVerifier.getPublicKey(AdapterTokenVerifier.java:121) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\r\n\tat org.keycloak.adapters.rotation.AdapterTokenVerifier.createVerifier(AdapterTokenVerifier.java:111) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\r\n\tat org.keycloak.adapters.rotation.AdapterTokenVerifier.verifyToken(AdapterTokenVerifier.java:47) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\r\n\tat org.keycloak.adapters.jaas.AbstractKeycloakLoginModule.bearerAuth(AbstractKeycloakLoginModule.java:205) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\r\n\tat org.keycloak.adapters.jaas.BearerTokenLoginModule.doAuth(BearerTokenLoginModule.java:37) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\r\n\tat org.keycloak.adapters.jaas.AbstractKeycloakLoginModule.login(AbstractKeycloakLoginModule.java:127) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\r\n\tat javax.security.auth.login.LoginContext.invoke(LoginContext.java:754) ~[?:?]\r\n\tat javax.security.auth.login.LoginContext$4.run(LoginContext.java:678) ~[?:?]\r\n\tat javax.security.auth.login.LoginContext$4.run(LoginContext.java:676) ~[?:?]\r\n\tat java.security.AccessController.doPrivileged(AccessController.java:714) ~[?:?]\r\n\tat javax.security.auth.login.LoginContext.invokePriv(LoginContext.java:676) ~[?:?]\r\n\tat javax.security.auth.login.LoginContext.login(LoginContext.java:587) ~[?:?]\r\n\tat io.hawt.system.Authenticator.login(Authenticator.java:215) ~[hawtio-system-2.15.0.jar:2.15.0]\r\n\tat io.hawt.system.Authenticator.doAuthenticate(Authenticator.java:178) ~[hawtio-system-2.15.0.jar:2.15.0]\r\n\tat io.hawt.system.Authenticator.authenticate(Authenticator.java:151) ~[hawtio-system-2.15.0.jar:2.15.0]\r\n\tat io.hawt.web.auth.AuthenticationFilter.doFilter(AuthenticationFilter.java:79) ~[hawtio-system-2.15.0.jar:2.15.0]\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) ~[jetty-servlet-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-10.0.11.jar:10.0.11]\r\n\tat io.hawt.web.filters.HttpHeaderFilter.doFilter(HttpHeaderFilter.java:43) ~[hawtio-system-2.15.0.jar:2.15.0]\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) ~[jetty-servlet-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-10.0.11.jar:10.0.11]\r\n\tat io.hawt.web.filters.HttpHeaderFilter.doFilter(HttpHeaderFilter.java:43) ~[hawtio-system-2.15.0.jar:2.15.0]\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) ~[jetty-servlet-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-10.0.11.jar:10.0.11]\r\n\tat io.hawt.web.filters.HttpHeaderFilter.doFilter(HttpHeaderFilter.java:43) ~[hawtio-system-2.15.0.jar:2.15.0]\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) ~[jetty-servlet-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-10.0.11.jar:10.0.11]\r\n\tat io.hawt.web.filters.HttpHeaderFilter.doFilter(HttpHeaderFilter.java:43) ~[hawtio-system-2.15.0.jar:2.15.0]\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) ~[jetty-servlet-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-10.0.11.jar:10.0.11]\r\n\tat io.hawt.web.filters.HttpHeaderFilter.doFilter(HttpHeaderFilter.java:43) ~[hawtio-system-2.15.0.jar:2.15.0]\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) ~[jetty-servlet-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-10.0.11.jar:10.0.11]\r\n\tat io.hawt.web.filters.HttpHeaderFilter.doFilter(HttpHeaderFilter.java:43) ~[hawtio-system-2.15.0.jar:2.15.0]\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) ~[jetty-servlet-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-10.0.11.jar:10.0.11]\r\n\tat io.hawt.web.filters.HttpHeaderFilter.doFilter(HttpHeaderFilter.java:43) ~[hawtio-system-2.15.0.jar:2.15.0]\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) ~[jetty-servlet-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-10.0.11.jar:10.0.11]\r\n\tat io.hawt.web.filters.HttpHeaderFilter.doFilter(HttpHeaderFilter.java:43) ~[hawtio-system-2.15.0.jar:2.15.0]\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) ~[jetty-servlet-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-10.0.11.jar:10.0.11]\r\n\tat io.hawt.web.auth.SessionExpiryFilter.process(SessionExpiryFilter.java:107) ~[hawtio-system-2.15.0.jar:2.15.0]\r\n\tat io.hawt.web.auth.SessionExpiryFilter.doFilter(SessionExpiryFilter.java:60) ~[hawtio-system-2.15.0.jar:2.15.0]\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:210) ~[jetty-servlet-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-10.0.11.jar:10.0.11]\r\n\tat org.apache.activemq.artemis.component.JolokiaFilter.doFilter(JolokiaFilter.java:50) ~[artemis-web-2.28.0.jar:2.28.0]\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) ~[jetty-servlet-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:527) ~[jetty-servlet-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:131) ~[jetty-server-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:578) ~[jetty-security-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:122) ~[jetty-server-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:223) ~[jetty-server-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1571) ~[jetty-server-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:221) ~[jetty-server-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1378) ~[jetty-server-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:176) ~[jetty-server-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:484) ~[jetty-servlet-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1544) ~[jetty-server-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:174) ~[jetty-server-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1300) ~[jetty-server-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:129) ~[jetty-server-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.server.handler.HandlerList.handle(HandlerList.java:51) ~[jetty-server-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:122) ~[jetty-server-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.server.Server.handle(Server.java:562) ~[jetty-server-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.server.HttpChannel.lambda$handle$0(HttpChannel.java:505) ~[jetty-server-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:762) ~[jetty-server-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:497) ~[jetty-server-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:282) ~[jetty-server-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:319) ~[jetty-io-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:100) ~[jetty-io-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.io.SelectableChannelEndPoint$1.run(SelectableChannelEndPoint.java:53) ~[jetty-io-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.runTask(AdaptiveExecutionStrategy.java:412) ~[jetty-util-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.consumeTask(AdaptiveExecutionStrategy.java:381) ~[jetty-util-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.tryProduce(AdaptiveExecutionStrategy.java:268) ~[jetty-util-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.lambda$new$0(AdaptiveExecutionStrategy.java:138) ~[jetty-util-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:407) ~[jetty-util-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:894) ~[jetty-util-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1038) ~[jetty-util-10.0.11.jar:10.0.11]\r\n\tat java.lang.Thread.run(Thread.java:1583) ~[?:?]\r\nCaused by: java.security.cert.CertificateException: No X509TrustManager implementation available\r\n\tat sun.security.ssl.DummyX509TrustManager.checkServerTrusted(SSLContextImpl.java:1621) ~[?:?]\r\n\tat sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1302) ~[?:?]\r\n\t... 112 more\r\n2023-05-20 07:53:53,102 WARN  [io.hawt.system.Authenticator] Login failed due to: java.lang.NullPointerException: Cannot invoke &quot;String.length()&quot; because &quot;this.input&quot; is null\r\n\r\n```\r\n\r\nI went through [X.509 Client Certificate User Authentication][1] on how to do the same, but could not get it.\r\nOr is there something else that I am missing?\r\n\r\nJava Version - openjdk 17.0.5 2022-10-18 LTS\r\n\r\nI have added all the configurations I am using to spin up ActiveMQ Artemis and Keycloak. Added the keystore.jks and truststore.jks as well. [subhidh/activemq-keycloak][2]\r\n\r\n\r\n[DEBUG SSH, HANDSHAKE OUTPUT][3]\r\n\r\n\r\n\r\n  [1]: https://www.keycloak.org/docs/latest/server_admin/#_x509\r\n  [2]: https://github.com/subhidh/activemq-keycloak\r\n  [3]: https://raw.githubusercontent.com/subhidh/activemq-keycloak/main/debug_output.log\r\n\r\nIn debug output I see this \r\n```java\r\njavax.net.ssl|ERROR|23|qtp404588697-50|2023-06-02 10:10:40.254 IST|TransportContext.java:363|Fatal (CERTIFICATE_UNKNOWN): Received fatal alert: certificate_unknown (\r\n&quot;throwable&quot; : {\r\n  javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown\r\n  \tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\r\n  \tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\r\n  \tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:358)\r\n  \tat java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)\r\n  \tat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:204)\r\n  \tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\r\n  \tat java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:736)\r\n  \tat java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:691)\r\n  \tat java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:506)\r\n  \tat java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:482)\r\n  \tat java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:679)\r\n  \tat org.eclipse.jetty.io.ssl.SslConnection.unwrap(SslConnection.java:398)\r\n  \tat org.eclipse.jetty.io.ssl.SslConnection$DecryptedEndPoint.fill(SslConnection.java:721)\r\n  \tat org.eclipse.jetty.server.HttpConnection.fillRequestBuffer(HttpConnection.java:368)\r\n  \tat org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:265)\r\n  \tat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:319)\r\n  \tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:100)\r\n  \tat org.eclipse.jetty.io.ssl.SslConnection$DecryptedEndPoint.onFillable(SslConnection.java:558)\r\n  \tat org.eclipse.jetty.io.ssl.SslConnection.onFillable(SslConnection.java:379)\r\n  \tat org.eclipse.jetty.io.ssl.SslConnection$2.succeeded(SslConnection.java:146)\r\n  \tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:100)\r\n  \tat org.eclipse.jetty.io.SelectableChannelEndPoint$1.run(SelectableChannelEndPoint.java:53)\r\n  \tat org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.runTask(AdaptiveExecutionStrategy.java:412)\r\n  \tat org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.consumeTask(AdaptiveExecutionStrategy.java:381)\r\n  \tat org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.tryProduce(AdaptiveExecutionStrategy.java:268)\r\n  \tat org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.lambda$new$0(AdaptiveExecutionStrategy.java:138)\r\n  \tat org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:407)\r\n  \tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:894)\r\n  \tat org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1038)\r\n  \tat java.base/java.lang.Thread.run(Thread.java:833)}\r\n\r\n)```","title":"Keycloak X509TrustManager implementation","body":"<p>I have integrated Keycloak and ActiveMQ Artemis. Both are running on HTTPS. I have added the Keycloak truststore in ActiveMQ Artemis. Now I am getting this error in ActiveMQ. As the error says there is <code>no X509TrustManager Available</code>. Can someone help me how to implement this in Keycloak v21.0.</p>\n<pre class=\"lang-java prettyprint-override\"><code>2023-05-20 07:53:53,100 WARN  [org.keycloak.adapters.KeycloakDeployment] Failed to load URLs from https://xx.xx.xxx.xxx:8443/realms/artemis-keycloak-demo/.well-known/openid-configuration\njavax.net.ssl.SSLHandshakeException: No X509TrustManager implementation available\n    at sun.security.ssl.Alert.createSSLException(Alert.java:130) ~[?:?]\n    at sun.security.ssl.TransportContext.fatal(TransportContext.java:378) ~[?:?]\n    at sun.security.ssl.TransportContext.fatal(TransportContext.java:321) ~[?:?]\n    at sun.security.ssl.TransportContext.fatal(TransportContext.java:316) ~[?:?]\n    at sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1318) ~[?:?]\n    at sun.security.ssl.CertificateMessage$T13CertificateConsumer.onConsumeCertificate(CertificateMessage.java:1195) ~[?:?]\n    at sun.security.ssl.CertificateMessage$T13CertificateConsumer.consume(CertificateMessage.java:1138) ~[?:?]\n    at sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:393) ~[?:?]\n    at sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:476) ~[?:?]\n    at sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:447) ~[?:?]\n    at sun.security.ssl.TransportContext.dispatch(TransportContext.java:201) ~[?:?]\n    at sun.security.ssl.SSLTransport.decode(SSLTransport.java:172) ~[?:?]\n    at sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1506) ~[?:?]\n    at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1421) ~[?:?]\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455) ~[?:?]\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426) ~[?:?]\n    at org.apache.http.conn.ssl.SSLSocketFactory.createLayeredSocket(SSLSocketFactory.java:570) ~[httpclient-4.5.14.jar:4.5.14]\n    at org.keycloak.adapters.SniSSLSocketFactory.createLayeredSocket(SniSSLSocketFactory.java:119) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\n    at org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:554) ~[httpclient-4.5.14.jar:4.5.14]\n    at org.keycloak.adapters.SniSSLSocketFactory.connectSocket(SniSSLSocketFactory.java:114) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\n    at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142) ~[httpclient-4.5.14.jar:4.5.14]\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.14.jar:4.5.14]\n    at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.14.jar:4.5.14]\n    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.14.jar:4.5.14]\n    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.14.jar:4.5.14]\n    at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.14.jar:4.5.14]\n    at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.14.jar:4.5.14]\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.14.jar:4.5.14]\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.14.jar:4.5.14]\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108) ~[httpclient-4.5.14.jar:4.5.14]\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56) ~[httpclient-4.5.14.jar:4.5.14]\n    at org.keycloak.adapters.KeycloakDeployment.getOidcConfiguration(KeycloakDeployment.java:230) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\n    at org.keycloak.adapters.KeycloakDeployment.resolveUrls(KeycloakDeployment.java:182) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\n    at org.keycloak.adapters.KeycloakDeployment.getJwksUrl(KeycloakDeployment.java:281) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\n    at org.keycloak.adapters.rotation.JWKPublicKeyLocator.sendRequest(JWKPublicKeyLocator.java:98) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\n    at org.keycloak.adapters.rotation.JWKPublicKeyLocator.getPublicKey(JWKPublicKeyLocator.java:63) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\n    at org.keycloak.adapters.rotation.AdapterTokenVerifier.getPublicKey(AdapterTokenVerifier.java:121) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\n    at org.keycloak.adapters.rotation.AdapterTokenVerifier.createVerifier(AdapterTokenVerifier.java:111) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\n    at org.keycloak.adapters.rotation.AdapterTokenVerifier.verifyToken(AdapterTokenVerifier.java:47) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\n    at org.keycloak.adapters.jaas.AbstractKeycloakLoginModule.bearerAuth(AbstractKeycloakLoginModule.java:205) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\n    at org.keycloak.adapters.jaas.BearerTokenLoginModule.doAuth(BearerTokenLoginModule.java:37) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\n    at org.keycloak.adapters.jaas.AbstractKeycloakLoginModule.login(AbstractKeycloakLoginModule.java:127) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\n    at javax.security.auth.login.LoginContext.invoke(LoginContext.java:754) ~[?:?]\n    at javax.security.auth.login.LoginContext$4.run(LoginContext.java:678) ~[?:?]\n    at javax.security.auth.login.LoginContext$4.run(LoginContext.java:676) ~[?:?]\n    at java.security.AccessController.doPrivileged(AccessController.java:714) ~[?:?]\n    at javax.security.auth.login.LoginContext.invokePriv(LoginContext.java:676) ~[?:?]\n    at javax.security.auth.login.LoginContext.login(LoginContext.java:587) ~[?:?]\n    at io.hawt.system.Authenticator.login(Authenticator.java:215) ~[hawtio-system-2.15.0.jar:2.15.0]\n    at io.hawt.system.Authenticator.doAuthenticate(Authenticator.java:178) ~[hawtio-system-2.15.0.jar:2.15.0]\n    at io.hawt.system.Authenticator.authenticate(Authenticator.java:151) ~[hawtio-system-2.15.0.jar:2.15.0]\n    at io.hawt.web.auth.AuthenticationFilter.doFilter(AuthenticationFilter.java:79) ~[hawtio-system-2.15.0.jar:2.15.0]\n    at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) ~[jetty-servlet-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-10.0.11.jar:10.0.11]\n    at io.hawt.web.filters.HttpHeaderFilter.doFilter(HttpHeaderFilter.java:43) ~[hawtio-system-2.15.0.jar:2.15.0]\n    at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) ~[jetty-servlet-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-10.0.11.jar:10.0.11]\n    at io.hawt.web.filters.HttpHeaderFilter.doFilter(HttpHeaderFilter.java:43) ~[hawtio-system-2.15.0.jar:2.15.0]\n    at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) ~[jetty-servlet-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-10.0.11.jar:10.0.11]\n    at io.hawt.web.filters.HttpHeaderFilter.doFilter(HttpHeaderFilter.java:43) ~[hawtio-system-2.15.0.jar:2.15.0]\n    at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) ~[jetty-servlet-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-10.0.11.jar:10.0.11]\n    at io.hawt.web.filters.HttpHeaderFilter.doFilter(HttpHeaderFilter.java:43) ~[hawtio-system-2.15.0.jar:2.15.0]\n    at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) ~[jetty-servlet-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-10.0.11.jar:10.0.11]\n    at io.hawt.web.filters.HttpHeaderFilter.doFilter(HttpHeaderFilter.java:43) ~[hawtio-system-2.15.0.jar:2.15.0]\n    at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) ~[jetty-servlet-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-10.0.11.jar:10.0.11]\n    at io.hawt.web.filters.HttpHeaderFilter.doFilter(HttpHeaderFilter.java:43) ~[hawtio-system-2.15.0.jar:2.15.0]\n    at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) ~[jetty-servlet-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-10.0.11.jar:10.0.11]\n    at io.hawt.web.filters.HttpHeaderFilter.doFilter(HttpHeaderFilter.java:43) ~[hawtio-system-2.15.0.jar:2.15.0]\n    at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) ~[jetty-servlet-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-10.0.11.jar:10.0.11]\n    at io.hawt.web.filters.HttpHeaderFilter.doFilter(HttpHeaderFilter.java:43) ~[hawtio-system-2.15.0.jar:2.15.0]\n    at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) ~[jetty-servlet-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-10.0.11.jar:10.0.11]\n    at io.hawt.web.auth.SessionExpiryFilter.process(SessionExpiryFilter.java:107) ~[hawtio-system-2.15.0.jar:2.15.0]\n    at io.hawt.web.auth.SessionExpiryFilter.doFilter(SessionExpiryFilter.java:60) ~[hawtio-system-2.15.0.jar:2.15.0]\n    at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:210) ~[jetty-servlet-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-10.0.11.jar:10.0.11]\n    at org.apache.activemq.artemis.component.JolokiaFilter.doFilter(JolokiaFilter.java:50) ~[artemis-web-2.28.0.jar:2.28.0]\n    at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) ~[jetty-servlet-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:527) ~[jetty-servlet-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:131) ~[jetty-server-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:578) ~[jetty-security-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:122) ~[jetty-server-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:223) ~[jetty-server-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1571) ~[jetty-server-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:221) ~[jetty-server-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1378) ~[jetty-server-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:176) ~[jetty-server-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:484) ~[jetty-servlet-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1544) ~[jetty-server-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:174) ~[jetty-server-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1300) ~[jetty-server-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:129) ~[jetty-server-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.server.handler.HandlerList.handle(HandlerList.java:51) ~[jetty-server-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:122) ~[jetty-server-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.server.Server.handle(Server.java:562) ~[jetty-server-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.server.HttpChannel.lambda$handle$0(HttpChannel.java:505) ~[jetty-server-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:762) ~[jetty-server-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:497) ~[jetty-server-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:282) ~[jetty-server-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:319) ~[jetty-io-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:100) ~[jetty-io-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.io.SelectableChannelEndPoint$1.run(SelectableChannelEndPoint.java:53) ~[jetty-io-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.runTask(AdaptiveExecutionStrategy.java:412) ~[jetty-util-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.consumeTask(AdaptiveExecutionStrategy.java:381) ~[jetty-util-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.tryProduce(AdaptiveExecutionStrategy.java:268) ~[jetty-util-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.lambda$new$0(AdaptiveExecutionStrategy.java:138) ~[jetty-util-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:407) ~[jetty-util-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:894) ~[jetty-util-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1038) ~[jetty-util-10.0.11.jar:10.0.11]\n    at java.lang.Thread.run(Thread.java:1583) ~[?:?]\nCaused by: java.security.cert.CertificateException: No X509TrustManager implementation available\n    at sun.security.ssl.DummyX509TrustManager.checkServerTrusted(SSLContextImpl.java:1621) ~[?:?]\n    at sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1302) ~[?:?]\n    ... 112 more\n2023-05-20 07:53:53,102 WARN  [io.hawt.system.Authenticator] Login failed due to: java.lang.NullPointerException: Cannot invoke &quot;String.length()&quot; because &quot;this.input&quot; is null\n\n</code></pre>\n<p>I went through <a href=\"https://www.keycloak.org/docs/latest/server_admin/#_x509\" rel=\"nofollow noreferrer\">X.509 Client Certificate User Authentication</a> on how to do the same, but could not get it.\nOr is there something else that I am missing?</p>\n<p>Java Version - openjdk 17.0.5 2022-10-18 LTS</p>\n<p>I have added all the configurations I am using to spin up ActiveMQ Artemis and Keycloak. Added the keystore.jks and truststore.jks as well. <a href=\"https://github.com/subhidh/activemq-keycloak\" rel=\"nofollow noreferrer\">subhidh/activemq-keycloak</a></p>\n<p><a href=\"https://raw.githubusercontent.com/subhidh/activemq-keycloak/main/debug_output.log\" rel=\"nofollow noreferrer\">DEBUG SSH, HANDSHAKE OUTPUT</a></p>\n<p>In debug output I see this</p>\n<pre class=\"lang-java prettyprint-override\"><code>javax.net.ssl|ERROR|23|qtp404588697-50|2023-06-02 10:10:40.254 IST|TransportContext.java:363|Fatal (CERTIFICATE_UNKNOWN): Received fatal alert: certificate_unknown (\n&quot;throwable&quot; : {\n  javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:358)\n    at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)\n    at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:204)\n    at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\n    at java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:736)\n    at java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:691)\n    at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:506)\n    at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:482)\n    at java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:679)\n    at org.eclipse.jetty.io.ssl.SslConnection.unwrap(SslConnection.java:398)\n    at org.eclipse.jetty.io.ssl.SslConnection$DecryptedEndPoint.fill(SslConnection.java:721)\n    at org.eclipse.jetty.server.HttpConnection.fillRequestBuffer(HttpConnection.java:368)\n    at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:265)\n    at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:319)\n    at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:100)\n    at org.eclipse.jetty.io.ssl.SslConnection$DecryptedEndPoint.onFillable(SslConnection.java:558)\n    at org.eclipse.jetty.io.ssl.SslConnection.onFillable(SslConnection.java:379)\n    at org.eclipse.jetty.io.ssl.SslConnection$2.succeeded(SslConnection.java:146)\n    at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:100)\n    at org.eclipse.jetty.io.SelectableChannelEndPoint$1.run(SelectableChannelEndPoint.java:53)\n    at org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.runTask(AdaptiveExecutionStrategy.java:412)\n    at org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.consumeTask(AdaptiveExecutionStrategy.java:381)\n    at org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.tryProduce(AdaptiveExecutionStrategy.java:268)\n    at org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.lambda$new$0(AdaptiveExecutionStrategy.java:138)\n    at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:407)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:894)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1038)\n    at java.base/java.lang.Thread.run(Thread.java:833)}\n\n)```\n</code></pre>\n"},{"tags":["java","apache-camel","datasource"],"comments":[{"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"score":0,"creation_date":1685661748,"post_id":76386027,"comment_id":134695987,"body_markdown":"Do camelContext.getRegistry().bind(...","body":"Do camelContext.getRegistry().bind(..."},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1685662034,"post_id":76386027,"comment_id":134696032,"body_markdown":"@SebPerp - Tried that also and not working either. same error.","body":"@SebPerp - Tried that also and not working either. same error."},{"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"score":0,"creation_date":1685662207,"post_id":76386027,"comment_id":134696068,"body_markdown":"Please give the full stacktrace.","body":"Please give the full stacktrace."}],"answers":[{"tags":[],"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685681592,"creation_date":1685681592,"answer_id":76387217,"question_id":76386027,"body_markdown":"In the route :\r\n\r\n```java\r\npublic class MyRoute extends RouteBuilder {\r\n\r\n    private final DataSource routeDataSource;\r\n\r\n    public MyRoute(DataSource routeDataSource) {\r\n        this.routeDataSource = routeDataSource;\r\n    }\r\n\r\n    @Override\r\n    public void configure() {\r\n\r\n        getCamelContext().getRegistry().bind(&quot;ds&quot;, routeDataSource);\r\n\r\n        from(&quot;whatever&quot;).to(&quot;sql:select 1 from dual?dataSource=ds&quot;);\r\n\r\n    }\r\n\r\n}\r\n```\r\nIn main:\r\n\r\n```java\r\npublic class MySpringBootApplication {\r\n\r\n    private static DataSource setupDataSource() {\r\n        BasicDataSource ds = new BasicDataSource();\r\n        ds.setDriverClassName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\r\n        ds.setUsername(&quot;xcccc&quot;);\r\n        ds.setPassword(&quot;xxxxx&quot;);\r\n        ds.setUrl(&quot;jdbc:oracle:thin:@xxxxx:1521:xxxxx&quot;);\r\n        return ds;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        MyRoute myRoute = MyRoute(setupDataSource());\r\n\r\n    }\r\n\r\n}\r\n```","title":"camel data source not available","body":"<p>In the route :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyRoute extends RouteBuilder {\n\n    private final DataSource routeDataSource;\n\n    public MyRoute(DataSource routeDataSource) {\n        this.routeDataSource = routeDataSource;\n    }\n\n    @Override\n    public void configure() {\n\n        getCamelContext().getRegistry().bind(&quot;ds&quot;, routeDataSource);\n\n        from(&quot;whatever&quot;).to(&quot;sql:select 1 from dual?dataSource=ds&quot;);\n\n    }\n\n}\n</code></pre>\n<p>In main:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MySpringBootApplication {\n\n    private static DataSource setupDataSource() {\n        BasicDataSource ds = new BasicDataSource();\n        ds.setDriverClassName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\n        ds.setUsername(&quot;xcccc&quot;);\n        ds.setPassword(&quot;xxxxx&quot;);\n        ds.setUrl(&quot;jdbc:oracle:thin:@xxxxx:1521:xxxxx&quot;);\n        return ds;\n    }\n\n    public static void main(String[] args) {\n\n        MyRoute myRoute = MyRoute(setupDataSource());\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685681592,"creation_date":1685657264,"question_id":76386027,"body_markdown":"Running a standalone java exe for testing. Camel 3.20.5\r\n\r\n     private static DataSource setupDataSource() {\r\n            BasicDataSource ds = new BasicDataSource();\r\n            ds.setDriverClassName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\r\n            ds.setUsername(&quot;xcccc&quot;);\r\n            ds.setPassword(&quot;xxxxx&quot;);\r\n            ds.setUrl(&quot;jdbc:oracle:thin:@xxxxx:1521:xxxxx&quot;);\r\n            return ds;\r\n        }\r\n\r\n... in main ...\r\n\r\n      CamelContext camelContext=new DefaultCamelContext();\r\n    \r\n         DataSource ds = setupDataSource();\r\n            SimpleRegistry reg = new SimpleRegistry();\r\n            reg.bind(&quot;ds&quot;,ds);\r\n\r\nin Route:\r\n\r\n     .to(&quot;sql:select 1 from dual?dataSource=ds&quot;);\r\n\r\nError:\r\n\r\n     sql://select%201%20from%20dual?dataSource=ds due to: Error binding property (dataSource=ds) with name: dataSource on bean: sql://select%201%20from%20dual?dataSource=ds with value: ds\r\n\r\n","title":"camel data source not available","body":"<p>Running a standalone java exe for testing. Camel 3.20.5</p>\n<pre><code> private static DataSource setupDataSource() {\n        BasicDataSource ds = new BasicDataSource();\n        ds.setDriverClassName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\n        ds.setUsername(&quot;xcccc&quot;);\n        ds.setPassword(&quot;xxxxx&quot;);\n        ds.setUrl(&quot;jdbc:oracle:thin:@xxxxx:1521:xxxxx&quot;);\n        return ds;\n    }\n</code></pre>\n<p>... in main ...</p>\n<pre><code>  CamelContext camelContext=new DefaultCamelContext();\n\n     DataSource ds = setupDataSource();\n        SimpleRegistry reg = new SimpleRegistry();\n        reg.bind(&quot;ds&quot;,ds);\n</code></pre>\n<p>in Route:</p>\n<pre><code> .to(&quot;sql:select 1 from dual?dataSource=ds&quot;);\n</code></pre>\n<p>Error:</p>\n<pre><code> sql://select%201%20from%20dual?dataSource=ds due to: Error binding property (dataSource=ds) with name: dataSource on bean: sql://select%201%20from%20dual?dataSource=ds with value: ds\n</code></pre>\n"},{"tags":["java","pac4j"],"answers":[{"tags":[],"owner":{"account_id":1261035,"reputation":33,"user_id":1219316,"display_name":"Gaurav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685679017,"creation_date":1685626511,"answer_id":76382462,"question_id":76380493,"body_markdown":"I searched in pac4j documentation and found that i was missing to set the scope in OidcConfiguration object.\r\n\r\n  oidcConfiguration.setScope(&quot;openid email profile phone&quot;);\r\n\r\nafter setting the scope now i am getting the  Roles in the claims sent by IDP.\r\n      ","title":"unable to get configured roles from IDP ( Azure Ad App roles ) when authenticating oidc (pac4j-oidc ) in servlet based application","body":"<p>I searched in pac4j documentation and found that i was missing to set the scope in OidcConfiguration object.</p>\n<p>oidcConfiguration.setScope(&quot;openid email profile phone&quot;);</p>\n<p>after setting the scope now i am getting the  Roles in the claims sent by IDP.</p>\n"}],"owner":{"account_id":1261035,"reputation":33,"user_id":1219316,"display_name":"Gaurav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76382462,"answer_count":1,"score":0,"last_activity_date":1685679017,"creation_date":1685611935,"question_id":76380493,"body_markdown":"I am using  javaee-pac4j:7.1.0 and pac4j-oidc:5.7.0 to my application authenticated using OIDC ( Azure AD initially ) in servlet based application , i am able to redirect to azure for authentication and callback api is also getting called with logged in user details. but not getting clue on how to get appRoles as defined azure AD . in my flow i need app Roles and then have to create the user and role mapping in my application.\r\n\r\n\r\n\r\ni followed jee-pac4j-demo to get this working but not getting clue on getting app roles from IDP OIDC. Please advise.\r\n\r\nbelow is my web.xml\r\n\r\n    &lt;filter&gt;\r\n    \t\t&lt;filter-name&gt;callbackFilter&lt;/filter-name&gt;\r\n    \t\t&lt;filter-class&gt;com.xxx.yyy.security.oidc.CallbackFilter&lt;/filter-class&gt;\r\n    \r\n    \t\t&lt;init-param&gt;\r\n    \t\t\t&lt;param-name&gt;renewSession&lt;/param-name&gt;\r\n    \t\t\t&lt;param-value&gt;true&lt;/param-value&gt;\r\n    \t\t&lt;/init-param&gt;\r\n    \t\t&lt;init-param&gt;\r\n    \t\t\t&lt;param-name&gt;multiProfile&lt;/param-name&gt;\r\n    \t\t\t&lt;param-value&gt;true&lt;/param-value&gt;\r\n    \t\t&lt;/init-param&gt;\r\n    \t&lt;/filter&gt;\r\n    \t&lt;filter-mapping&gt;\r\n    \t\t&lt;filter-name&gt;callbackFilter&lt;/filter-name&gt;\r\n    \t\t&lt;url-pattern&gt;/oidc/rest/*&lt;/url-pattern&gt;\r\n    \t\t&lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\r\n    \t&lt;/filter-mapping&gt;\r\n    \t&lt;filter&gt;\r\n    \t\t&lt;filter-name&gt;JwtParameterFilter&lt;/filter-name&gt;\r\n    \t\t&lt;filter-class&gt;org.pac4j.jee.filter.SecurityFilter&lt;/filter-class&gt;\r\n    \t\t&lt;init-param&gt;\r\n    \t\t\t&lt;param-name&gt;configFactory&lt;/param-name&gt;\r\n    \t\t\t&lt;param-value&gt;com.xxx.yyy.security.oidc.DemoConfigFactory&lt;/param-value&gt;\r\n    \t\t&lt;/init-param&gt;\r\n    \t\t&lt;init-param&gt;\r\n    \t\t\t&lt;param-name&gt;authorizers&lt;/param-name&gt;\r\n    \t\t\t&lt;param-value&gt;custom&lt;/param-value&gt;\r\n    \t\t&lt;/init-param&gt;\r\n    \t\t&lt;init-param&gt;\r\n    \t\t\t&lt;param-name&gt;clients&lt;/param-name&gt;\r\n    \t\t\t&lt;param-value&gt;OidcClient&lt;/param-value&gt;\r\n    \t\t&lt;/init-param&gt;\r\n    \t&lt;/filter&gt;\r\n    \t&lt;filter-mapping&gt;\r\n    \t\t&lt;filter-name&gt;JwtParameterFilter&lt;/filter-name&gt;\r\n    \t\t&lt;url-pattern&gt;/rest/rest-jwt/*&lt;/url-pattern&gt;\r\n    \t\t&lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\r\n    \t&lt;/filter-mapping&gt;\r\n\r\nDemoConfigFactory\r\n\r\n    @Override\r\n        public Config build(final Object... parameters) {\r\n    \r\n            System.out.print(&quot;Building Security configuration...\\n&quot;);\r\n    \r\n             oidcConfiguration = new OidcConfiguration();\r\n            oidcConfiguration.setClientId(&quot;sdfdsf-02f9-401f-bbf3-dd87d64a6a2a&quot;);\r\n            oidcConfiguration.setSecret(&quot;iGc8Q~wZ_~dffsdfsdfs&quot;);\r\n            oidcConfiguration.setDiscoveryURI(&quot;https://login.microsoftonline.com/sdfsdfs-2cb0-44dc-88cd-fdfs/v2.0/.well-known/openid-configuration&quot;);\r\n            oidcConfiguration.setUseNonce(true);\r\n            oidcConfiguration.addCustomParam(&quot;prompt&quot;, &quot;consent&quot;);\r\n    \r\n            oidcClient = new OidcClient(oidcConfiguration);\r\n           /* oidcClient.setAuthorizationGenerator((webContext, sessionStore, userProfile) -&gt; {\r\n                        userProfile.addRole(&quot;ConfiguratorOne&quot;);\r\n                        return java.util.Optional.of(userProfile);\r\n                    }\r\n                    );*/\r\n    \r\n            // REST authent with JWT for a token passed in the url as the token parameter\r\n            final List&lt;SignatureConfiguration&gt; signatures = new ArrayList&lt;&gt;();\r\n            signatures.add(new SecretSignatureConfiguration(JWT_SALT));\r\n            ParameterClient parameterClient = new ParameterClient(&quot;token&quot;, new JwtAuthenticator(signatures));\r\n            parameterClient.setSupportGetRequest(true);\r\n            parameterClient.setSupportPostRequest(false);\r\n    \r\n     final Clients clients = new Clients(&quot;https://localhost:8443/myapplication/oidc/rest/sp/consumer&quot;, oidcClient);\r\n      final Config config = new Config(clients);\r\n       config.addAuthorizer(&quot;custom&quot;, new CustomAuthorizer());\r\n            return config;\r\n        }\r\n\r\nCallbackFilter.java\r\n\r\n    @WebFilter(filterName = &quot;CallbackFilter&quot;, urlPatterns = {&quot;/oidc/rest/*&quot;, &quot;/oidc/rest&quot;})\r\n    public class CallbackFilter extends AbstractConfigFilter implements javax.servlet.Filter {\r\n    \r\n        private static final Log LOG = LogFactory.getLog(CallbackFilter.class);\r\n        private static final String AUTHENTICATED_SESSION_ATTRIBUTE = &quot;authenticated&quot;;\r\n        private ProfileManager profileManager;\r\n    \r\n        @Inject\r\n        private DemoConfigFactory demoConfigFactory;\r\n    \r\n        @Override\r\n        public void doFilter(final ServletRequest request, final ServletResponse response,\r\n                             final FilterChain chain) throws IOException, ServletException {\r\n    \r\n            final HttpServletRequest req = (HttpServletRequest) request;\r\n            final HttpServletResponse resp = (HttpServletResponse) response;\r\n            this.internalFilter(req, resp, chain);\r\n            UserProfile userProfile = profileManager.getProfile().get();\r\n    \r\n            LOG.info(&quot;OIDC response received&quot; +userProfile.getUsername());\r\n    \r\n                LOG.info(&quot;&quot; + userProfile.getRoles().toString());\r\n                String authenticatedUser = userProfile.getUsername();\r\n             \r\n                setAuthenticatedSession(req);\r\n                redirectToGotoURL(req, resp, authenticatedUser);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        protected void internalFilter(HttpServletRequest request, HttpServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n            Config config = this.getSharedConfig();\r\n            HttpActionAdapter bestAdapter = FindBest.httpActionAdapter((HttpActionAdapter)null, config, JEEHttpActionAdapter.INSTANCE);\r\n            CallbackLogic bestLogic = FindBest.callbackLogic(this.callbackLogic, config, DefaultCallbackLogic.INSTANCE);\r\n            WebContext context = FindBest.webContextFactory((WebContextFactory)null, config, JEEContextFactory.INSTANCE).newContext(new Object[]{request, response});\r\n            SessionStore sessionStore = FindBest.sessionStoreFactory((SessionStoreFactory)null, config, JEESessionStoreFactory.INSTANCE).newSessionStore(new Object[]{request, response});\r\n            bestLogic.perform(context, sessionStore, config, bestAdapter, this.defaultUrl, this.renewSession, this.defaultClient);\r\n            profileManager = new ProfileManager(context,sessionStore);\r\n          \r\n        }","title":"unable to get configured roles from IDP ( Azure Ad App roles ) when authenticating oidc (pac4j-oidc ) in servlet based application","body":"<p>I am using  javaee-pac4j:7.1.0 and pac4j-oidc:5.7.0 to my application authenticated using OIDC ( Azure AD initially ) in servlet based application , i am able to redirect to azure for authentication and callback api is also getting called with logged in user details. but not getting clue on how to get appRoles as defined azure AD . in my flow i need app Roles and then have to create the user and role mapping in my application.</p>\n<p>i followed jee-pac4j-demo to get this working but not getting clue on getting app roles from IDP OIDC. Please advise.</p>\n<p>below is my web.xml</p>\n<pre><code>&lt;filter&gt;\n        &lt;filter-name&gt;callbackFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;com.xxx.yyy.security.oidc.CallbackFilter&lt;/filter-class&gt;\n\n        &lt;init-param&gt;\n            &lt;param-name&gt;renewSession&lt;/param-name&gt;\n            &lt;param-value&gt;true&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;multiProfile&lt;/param-name&gt;\n            &lt;param-value&gt;true&lt;/param-value&gt;\n        &lt;/init-param&gt;\n    &lt;/filter&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;callbackFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/oidc/rest/*&lt;/url-pattern&gt;\n        &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\n    &lt;/filter-mapping&gt;\n    &lt;filter&gt;\n        &lt;filter-name&gt;JwtParameterFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.pac4j.jee.filter.SecurityFilter&lt;/filter-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;configFactory&lt;/param-name&gt;\n            &lt;param-value&gt;com.xxx.yyy.security.oidc.DemoConfigFactory&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;authorizers&lt;/param-name&gt;\n            &lt;param-value&gt;custom&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;clients&lt;/param-name&gt;\n            &lt;param-value&gt;OidcClient&lt;/param-value&gt;\n        &lt;/init-param&gt;\n    &lt;/filter&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;JwtParameterFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/rest/rest-jwt/*&lt;/url-pattern&gt;\n        &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\n    &lt;/filter-mapping&gt;\n</code></pre>\n<p>DemoConfigFactory</p>\n<pre><code>@Override\n    public Config build(final Object... parameters) {\n\n        System.out.print(&quot;Building Security configuration...\\n&quot;);\n\n         oidcConfiguration = new OidcConfiguration();\n        oidcConfiguration.setClientId(&quot;sdfdsf-02f9-401f-bbf3-dd87d64a6a2a&quot;);\n        oidcConfiguration.setSecret(&quot;iGc8Q~wZ_~dffsdfsdfs&quot;);\n        oidcConfiguration.setDiscoveryURI(&quot;https://login.microsoftonline.com/sdfsdfs-2cb0-44dc-88cd-fdfs/v2.0/.well-known/openid-configuration&quot;);\n        oidcConfiguration.setUseNonce(true);\n        oidcConfiguration.addCustomParam(&quot;prompt&quot;, &quot;consent&quot;);\n\n        oidcClient = new OidcClient(oidcConfiguration);\n       /* oidcClient.setAuthorizationGenerator((webContext, sessionStore, userProfile) -&gt; {\n                    userProfile.addRole(&quot;ConfiguratorOne&quot;);\n                    return java.util.Optional.of(userProfile);\n                }\n                );*/\n\n        // REST authent with JWT for a token passed in the url as the token parameter\n        final List&lt;SignatureConfiguration&gt; signatures = new ArrayList&lt;&gt;();\n        signatures.add(new SecretSignatureConfiguration(JWT_SALT));\n        ParameterClient parameterClient = new ParameterClient(&quot;token&quot;, new JwtAuthenticator(signatures));\n        parameterClient.setSupportGetRequest(true);\n        parameterClient.setSupportPostRequest(false);\n\n final Clients clients = new Clients(&quot;https://localhost:8443/myapplication/oidc/rest/sp/consumer&quot;, oidcClient);\n  final Config config = new Config(clients);\n   config.addAuthorizer(&quot;custom&quot;, new CustomAuthorizer());\n        return config;\n    }\n</code></pre>\n<p>CallbackFilter.java</p>\n<pre><code>@WebFilter(filterName = &quot;CallbackFilter&quot;, urlPatterns = {&quot;/oidc/rest/*&quot;, &quot;/oidc/rest&quot;})\npublic class CallbackFilter extends AbstractConfigFilter implements javax.servlet.Filter {\n\n    private static final Log LOG = LogFactory.getLog(CallbackFilter.class);\n    private static final String AUTHENTICATED_SESSION_ATTRIBUTE = &quot;authenticated&quot;;\n    private ProfileManager profileManager;\n\n    @Inject\n    private DemoConfigFactory demoConfigFactory;\n\n    @Override\n    public void doFilter(final ServletRequest request, final ServletResponse response,\n                         final FilterChain chain) throws IOException, ServletException {\n\n        final HttpServletRequest req = (HttpServletRequest) request;\n        final HttpServletResponse resp = (HttpServletResponse) response;\n        this.internalFilter(req, resp, chain);\n        UserProfile userProfile = profileManager.getProfile().get();\n\n        LOG.info(&quot;OIDC response received&quot; +userProfile.getUsername());\n\n            LOG.info(&quot;&quot; + userProfile.getRoles().toString());\n            String authenticatedUser = userProfile.getUsername();\n         \n            setAuthenticatedSession(req);\n            redirectToGotoURL(req, resp, authenticatedUser);\n\n    }\n\n    @Override\n    protected void internalFilter(HttpServletRequest request, HttpServletResponse response, FilterChain chain) throws IOException, ServletException {\n        Config config = this.getSharedConfig();\n        HttpActionAdapter bestAdapter = FindBest.httpActionAdapter((HttpActionAdapter)null, config, JEEHttpActionAdapter.INSTANCE);\n        CallbackLogic bestLogic = FindBest.callbackLogic(this.callbackLogic, config, DefaultCallbackLogic.INSTANCE);\n        WebContext context = FindBest.webContextFactory((WebContextFactory)null, config, JEEContextFactory.INSTANCE).newContext(new Object[]{request, response});\n        SessionStore sessionStore = FindBest.sessionStoreFactory((SessionStoreFactory)null, config, JEESessionStoreFactory.INSTANCE).newSessionStore(new Object[]{request, response});\n        bestLogic.perform(context, sessionStore, config, bestAdapter, this.defaultUrl, this.renewSession, this.defaultClient);\n        profileManager = new ProfileManager(context,sessionStore);\n      \n    }\n</code></pre>\n"},{"tags":["java","android","flutter","java-11","android-sdk-manager"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685695034,"post_id":76387039,"comment_id":134699900,"body_markdown":"Check [this](https://stackoverflow.com/questions/61177573/javax-xml-bind-cannot-be-resolved#61179185) out","body":"Check <a href=\"https://stackoverflow.com/questions/61177573/javax-xml-bind-cannot-be-resolved#61179185\">this</a> out"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1685700965,"post_id":76387039,"comment_id":134701099,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27780316,"reputation":1,"user_id":21208789,"display_name":"Abdurazzoq Abdusalomov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685678581,"creation_date":1685678500,"question_id":76387039,"body_markdown":"I want to use flutter without android studio\r\n\r\n```➜  ~ sdkmanager --list\r\nPicked up _JAVA_OPTIONS: -Dawt.useSystemAAFontSettings=on -Dswing.aatext=true\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema\r\n\tat com.android.repository.api.SchemaModule$SchemaModuleVersion.&lt;init&gt;(SchemaModule.java:156)\r\n\tat com.android.repository.api.SchemaModule.&lt;init&gt;(SchemaModule.java:75)\r\n\tat com.android.sdklib.repository.AndroidSdkHandler.&lt;clinit&gt;(AndroidSdkHandler.java:81)\r\n\tat com.android.sdklib.tool.sdkmanager.SdkManagerCli.main(SdkManagerCli.java:73)\r\n\tat com.android.sdklib.tool.sdkmanager.SdkManagerCli.main(SdkManagerCli.java:48)\r\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.XmlSchema\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\t... 5 more\r\n```\r\n\r\ni used &quot;sdkmanager&quot; command in kali linux","title":"How to solve Linux sdkmanager command line error?","body":"<p>I want to use flutter without android studio</p>\n<pre><code>Picked up _JAVA_OPTIONS: -Dawt.useSystemAAFontSettings=on -Dswing.aatext=true\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema\n    at com.android.repository.api.SchemaModule$SchemaModuleVersion.&lt;init&gt;(SchemaModule.java:156)\n    at com.android.repository.api.SchemaModule.&lt;init&gt;(SchemaModule.java:75)\n    at com.android.sdklib.repository.AndroidSdkHandler.&lt;clinit&gt;(AndroidSdkHandler.java:81)\n    at com.android.sdklib.tool.sdkmanager.SdkManagerCli.main(SdkManagerCli.java:73)\n    at com.android.sdklib.tool.sdkmanager.SdkManagerCli.main(SdkManagerCli.java:48)\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.XmlSchema\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 5 more\n</code></pre>\n<p>i used &quot;sdkmanager&quot; command in kali linux</p>\n"},{"tags":["java","android","broadcastreceiver"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1668685695,"post_id":74474655,"comment_id":131468745,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":86633,"reputation":1910,"user_id":240795,"accept_rate":80,"display_name":"Kibi"},"score":0,"creation_date":1683209337,"post_id":74474655,"comment_id":134334262,"body_markdown":"I think this is a particularly good question, specifically given that Android phones now often default to RCS and an SMS receiver won&#39;t even recognize the incoming message","body":"I think this is a particularly good question, specifically given that Android phones now often default to RCS and an SMS receiver won&#39;t even recognize the incoming message"}],"owner":{"account_id":26961901,"reputation":21,"user_id":20529464,"display_name":"Enterslice Developer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1685675154,"creation_date":1668684313,"question_id":74474655,"body_markdown":"We are trying to develop an android application which can receive broadcast events of the RCS messages on all the devices. We are able to get the events on SAMSUNG Devices but not other brand mobile phones. Is there any event we can receive that can work on all mobiles phones.\r\n\r\nAlso we need the content provider url to read all the RCS Messages manually also.\r\n\r\nWe tried to receive events but not able to receive any events regarding RCS. Also tried to print all the content providers but not found any content provider which is related to RCS Messages.","title":"Android RCS Messages Broadcast Receiver Events and Content Provider","body":"<p>We are trying to develop an android application which can receive broadcast events of the RCS messages on all the devices. We are able to get the events on SAMSUNG Devices but not other brand mobile phones. Is there any event we can receive that can work on all mobiles phones.</p>\n<p>Also we need the content provider url to read all the RCS Messages manually also.</p>\n<p>We tried to receive events but not able to receive any events regarding RCS. Also tried to print all the content providers but not found any content provider which is related to RCS Messages.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1685673030,"post_id":76386765,"comment_id":134697016,"body_markdown":"Your problem is your interface&#39;s properties `int width` and `int height`, this seem to be getting &quot;defaulted&quot; over `John`s implementation -  in fact, they don&#39;t even make up part of the interface&#39;s over all required - try removing `height` and `width` from `John`, the compiler won&#39;t compiler about non-compliance with the interface.  Instead, define two methods, `getWidth` and `getHeight` both which return `int`","body":"Your problem is your interface&#39;s properties <code>int width</code> and <code>int height</code>, this seem to be getting &quot;defaulted&quot; over <code>John</code>s implementation -  in fact, they don&#39;t even make up part of the interface&#39;s over all required - try removing <code>height</code> and <code>width</code> from <code>John</code>, the compiler won&#39;t compiler about non-compliance with the interface.  Instead, define two methods, <code>getWidth</code> and <code>getHeight</code> both which return <code>int</code>"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1685673065,"post_id":76386765,"comment_id":134697019,"body_markdown":"You might also want to read [Attributes / member variables in interfaces?](https://stackoverflow.com/questions/7311274/attributes-member-variables-in-interfaces)","body":"You might also want to read <a href=\"https://stackoverflow.com/questions/7311274/attributes-member-variables-in-interfaces\">Attributes / member variables in interfaces?</a>"},{"owner":{"account_id":15831513,"reputation":673,"user_id":11422689,"display_name":"William Le"},"score":0,"creation_date":1685673592,"post_id":76386765,"comment_id":134697057,"body_markdown":"@MadProgrammer thank you very much, I just solved the problem thanks to your suggestion. It seems I need encapsulation over ```height``` and ```weight```","body":"@MadProgrammer thank you very much, I just solved the problem thanks to your suggestion. It seems I need encapsulation over <code>height</code> and <code>weight</code>"}],"owner":{"account_id":15831513,"reputation":673,"user_id":11422689,"display_name":"William Le"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1685673204,"answer_count":0,"score":0,"last_activity_date":1685672942,"creation_date":1685672472,"question_id":76386765,"body_markdown":"I want to calculate a person&#39;s BMI by passing an instance of that person as parameter in class BMI static method calculate() as follows:\r\n\r\n**Main.java**\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        John john = new John(182, 68);\r\n        BMI.calculate(john); // NaN???\r\n    }\r\n}\r\n```\r\n\r\n**Physique.java**\r\n```java\r\npublic interface Physique {\r\n    int height = 0;\r\n    int weight = 0;\r\n}\r\n```\r\n\r\n**John.java** (implements Physique interface)\r\n```java\r\npublic class John implements Physique {\r\n    int height;\r\n    int weight;\r\n    int age;\r\n\r\n    public John(int height, int weight, int age) {\r\n        this.weight = weight;\r\n        this.height = height;\r\n    }\r\n\r\n}\r\n```\r\n**BMI.java**\r\n```java\r\npublic class BMI {\r\n\r\n    public static void calculate(Physique physique) { // problem?\r\n        System.out.println(physique.height / Math.pow(physique.weight, 2));\r\n    }\r\n}\r\n```\r\n\r\nI figure the problem should be my misuse of interface as type in paramater in BMI class. \r\nIt works if I use ```calculate(John john)```, but if I have another person, that won&#39;t work. How could I correctly implement this?","title":"(Java) Use instance of a class implenting an interface as parameter","body":"<p>I want to calculate a person's BMI by passing an instance of that person as parameter in class BMI static method calculate() as follows:</p>\n<p><strong>Main.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        John john = new John(182, 68);\n        BMI.calculate(john); // NaN???\n    }\n}\n</code></pre>\n<p><strong>Physique.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Physique {\n    int height = 0;\n    int weight = 0;\n}\n</code></pre>\n<p><strong>John.java</strong> (implements Physique interface)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class John implements Physique {\n    int height;\n    int weight;\n    int age;\n\n    public John(int height, int weight, int age) {\n        this.weight = weight;\n        this.height = height;\n    }\n\n}\n</code></pre>\n<p><strong>BMI.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BMI {\n\n    public static void calculate(Physique physique) { // problem?\n        System.out.println(physique.height / Math.pow(physique.weight, 2));\n    }\n}\n</code></pre>\n<p>I figure the problem should be my misuse of interface as type in paramater in BMI class.\nIt works if I use <code>calculate(John john)</code>, but if I have another person, that won't work. How could I correctly implement this?</p>\n"},{"tags":["java","pdf","tomcat","pdfbox","jbig2"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1588873208,"post_id":61660550,"comment_id":109075063,"body_markdown":"Is this a straight forward stand alone program? Or something in tomcat?","body":"Is this a straight forward stand alone program? Or something in tomcat?"},{"owner":{"account_id":10446514,"reputation":849,"user_id":7701381,"display_name":"Mu-Majid"},"score":0,"creation_date":1588885345,"post_id":61660550,"comment_id":109081336,"body_markdown":"@TilmanHausherr, it is a spring boot application running tomcat as a server., basically what this endpoint does is , extract all form fields from the pdf, and also each page as an image.","body":"@TilmanHausherr, it is a spring boot application running tomcat as a server., basically what this endpoint does is , extract all form fields from the pdf, and also each page as an image."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1588913024,"post_id":61660550,"comment_id":109088543,"body_markdown":"I remember reading this about tomcat... and I found that it was discussed before, but no solution: https://mail-archives.apache.org/mod_mbox/pdfbox-users/201808.mbox/browser  I wonder whether it works if you put that jar file in the tomcat directory where the tomcat jar files are?","body":"I remember reading this about tomcat... and I found that it was discussed before, but no solution: <a href=\"https://mail-archives.apache.org/mod_mbox/pdfbox-users/201808.mbox/browser\" rel=\"nofollow noreferrer\">mail-archives.apache.org/mod_mbox/pdfbox-users/201808.mbox/&hellip;</a>  I wonder whether it works if you put that jar file in the tomcat directory where the tomcat jar files are?"},{"owner":{"account_id":10446514,"reputation":849,"user_id":7701381,"display_name":"Mu-Majid"},"score":0,"creation_date":1588939902,"post_id":61660550,"comment_id":109099812,"body_markdown":"I just restarted my PC, and it worked, I really don&#39;t know what happened or what was wrong.\n\n@TilmanHausherr, but the images have black stains, i found one of your answers that is a bug with JAI, and it was solved but not released.","body":"I just restarted my PC, and it worked, I really don&#39;t know what happened or what was wrong.  @TilmanHausherr, but the images have black stains, i found one of your answers that is a bug with JAI, and it was solved but not released."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1588943024,"post_id":61660550,"comment_id":109101493,"body_markdown":"Yeah, you need to do your own build with the modifications mentioned. IIRC the main modification is in the repository.","body":"Yeah, you need to do your own build with the modifications mentioned. IIRC the main modification is in the repository."}],"answers":[{"tags":[],"owner":{"account_id":4883207,"reputation":21,"user_id":3936362,"display_name":"Vishal Kesti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685672442,"creation_date":1618921956,"answer_id":67179024,"question_id":61660550,"body_markdown":"You need to add these dependencies in your pom file in order to solve the issue. \r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.github.jai-imageio&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jai-imageio-core&lt;/artifactId&gt;\r\n    &lt;version&gt;1.4.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.github.jai-imageio&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jai-imageio-jpeg2000&lt;/artifactId&gt;\r\n    &lt;version&gt;1.4.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nhttps://pdfbox.apache.org/2.0/dependencies.html#optional-components","title":"PDFBox Rendering Jpeg2000 and JBIG2","body":"<p>You need to add these dependencies in your pom file in order to solve the issue.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.github.jai-imageio&lt;/groupId&gt;\n    &lt;artifactId&gt;jai-imageio-core&lt;/artifactId&gt;\n    &lt;version&gt;1.4.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.github.jai-imageio&lt;/groupId&gt;\n    &lt;artifactId&gt;jai-imageio-jpeg2000&lt;/artifactId&gt;\n    &lt;version&gt;1.4.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><a href=\"https://pdfbox.apache.org/2.0/dependencies.html#optional-components\" rel=\"nofollow noreferrer\">https://pdfbox.apache.org/2.0/dependencies.html#optional-components</a></p>\n"}],"owner":{"account_id":10446514,"reputation":849,"user_id":7701381,"display_name":"Mu-Majid"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1616,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685672442,"creation_date":1588862246,"question_id":61660550,"body_markdown":"I want to convert each pdf page into an image (like a screen shot), and then upload that image to a storage service.\r\n\r\n```\r\n  private void getImageBytes(PDDocument document, int pageIndex, int dpi, ConcurrentHashMap&lt;String, byte[]&gt; imgsToUpload, String imgKey) throws IOException {\r\n\r\n\r\n    PDFRenderer pdfRenderer = new PDFRenderer(document);\r\n    BufferedImage bim = pdfRenderer.renderImageWithDPI(pageIndex, dpi, ImageType.RGB);\r\n    final ByteArrayOutputStream os = new ByteArrayOutputStream();\r\n    ImageIO.write(bim, &quot;png&quot;, os); // import javax.imageio.ImageIO;\r\n    os.flush();\r\n    os.close();\r\n    imgsToUpload.put(imgKey, os.toByteArray());\r\n  }\r\n```\r\n\r\nI did import `jbig2-imageio` by adding this snippet to pom.xml\r\n\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.19&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.pdfbox/jbig2-imageio --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jbig2-imageio&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\n\r\nbut still the generated images are blank. and this error is logged : `Cannot read JPEG2000 image: Java Advanced Imaging (JAI) Image I/O Tools are not installed`\r\n\r\nSo, what did i miss ? , i assumed that adding the dependency would resolve that error.\r\n\r\nshould i use pdfbox-tools.imageIo instead of java.imageio\r\n\r\nPS: I am New to Java, so i it might be a configuration thing ?? ","title":"PDFBox Rendering Jpeg2000 and JBIG2","body":"<p>I want to convert each pdf page into an image (like a screen shot), and then upload that image to a storage service.</p>\n\n<pre><code>  private void getImageBytes(PDDocument document, int pageIndex, int dpi, ConcurrentHashMap&lt;String, byte[]&gt; imgsToUpload, String imgKey) throws IOException {\n\n\n    PDFRenderer pdfRenderer = new PDFRenderer(document);\n    BufferedImage bim = pdfRenderer.renderImageWithDPI(pageIndex, dpi, ImageType.RGB);\n    final ByteArrayOutputStream os = new ByteArrayOutputStream();\n    ImageIO.write(bim, \"png\", os); // import javax.imageio.ImageIO;\n    os.flush();\n    os.close();\n    imgsToUpload.put(imgKey, os.toByteArray());\n  }\n</code></pre>\n\n<p>I did import <code>jbig2-imageio</code> by adding this snippet to pom.xml</p>\n\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\n            &lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\n            &lt;version&gt;2.0.19&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.pdfbox/jbig2-imageio --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\n            &lt;artifactId&gt;jbig2-imageio&lt;/artifactId&gt;\n            &lt;version&gt;3.0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>but still the generated images are blank. and this error is logged : <code>Cannot read JPEG2000 image: Java Advanced Imaging (JAI) Image I/O Tools are not installed</code></p>\n\n<p>So, what did i miss ? , i assumed that adding the dependency would resolve that error.</p>\n\n<p>should i use pdfbox-tools.imageIo instead of java.imageio</p>\n\n<p>PS: I am New to Java, so i it might be a configuration thing ?? </p>\n"},{"tags":["java","sql-server","ssl","tls1.2"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1685594179,"post_id":76378390,"comment_id":134682576,"body_markdown":"does specifying `-Djdk.tls.client.protocols=TLSv1.2` affect behaviour?","body":"does specifying <code>-Djdk.tls.client.protocols=TLSv1.2</code> affect behaviour?"},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":1,"creation_date":1685621440,"post_id":76378390,"comment_id":134687528,"body_markdown":"Have you tried to include `-Djavax.net.debug=all` to dump the initial TLS packets for additional insight?","body":"Have you tried to include <code>-Djavax.net.debug=all</code> to dump the initial TLS packets for additional insight?"},{"owner":{"account_id":2106996,"reputation":2760,"user_id":1874012,"display_name":"StrayCatDBA"},"score":0,"creation_date":1685626770,"post_id":76378390,"comment_id":134688955,"body_markdown":"Which version of SQL Server are you connecting to?  SELECT @@VERSION;  Also, Which OS/version is the SQL Server running on?","body":"Which version of SQL Server are you connecting to?  SELECT @@VERSION;  Also, Which OS/version is the SQL Server running on?"},{"owner":{"account_id":1862192,"reputation":1847,"user_id":1686575,"accept_rate":65,"display_name":"John Manko"},"score":0,"creation_date":1685628750,"post_id":76378390,"comment_id":134689495,"body_markdown":"@StrayCatDBA 2019 developer.","body":"@StrayCatDBA 2019 developer."},{"owner":{"account_id":1862192,"reputation":1847,"user_id":1686575,"accept_rate":65,"display_name":"John Manko"},"score":0,"creation_date":1685628821,"post_id":76378390,"comment_id":134689515,"body_markdown":"@AndreyB.Panfilov That&#39;s what the JDBC driver properties is supposed to do, listed above, configured as part of the connection pool in Payara: `SSLProtocol=TLSv1.2`","body":"@AndreyB.Panfilov That&#39;s what the JDBC driver properties is supposed to do, listed above, configured as part of the connection pool in Payara: <code>SSLProtocol=TLSv1.2</code>"},{"owner":{"account_id":1862192,"reputation":1847,"user_id":1686575,"accept_rate":65,"display_name":"John Manko"},"score":0,"creation_date":1685629346,"post_id":76378390,"comment_id":134689661,"body_markdown":"@AlwaysLearning See UPDATE at bottom of question.","body":"@AlwaysLearning See UPDATE at bottom of question."},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1685657914,"post_id":76378390,"comment_id":134695504,"body_markdown":"Where&#39;s the rest of it? I don&#39;t see the `client_hello` packet there.","body":"Where&#39;s the rest of it? I don&#39;t see the <code>client_hello</code> packet there."},{"owner":{"account_id":1862192,"reputation":1847,"user_id":1686575,"accept_rate":65,"display_name":"John Manko"},"score":0,"creation_date":1685668932,"post_id":76378390,"comment_id":134696659,"body_markdown":"@AlwaysLearning I added the message from Payara&#39;s log (second code block in the update section).   What&#39;s in the update is all that&#39;s output.","body":"@AlwaysLearning I added the message from Payara&#39;s log (second code block in the update section).   What&#39;s in the update is all that&#39;s output."},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1685695617,"post_id":76378390,"comment_id":134700025,"body_markdown":"That&#39;s unfortunate. The client_hello packet includes the list of ciphersuites (IDs) that the client is willing to use for the connection. It could be that `sun.security.ssl.ClientHello$ClientHelloKickstartProducer` is sending a different list of ciphersuites than you found are available. I suppose you could try to capture this in Wireshark - it understands the SSL/TLS packets going across the wire until encryption actually kicks in.","body":"That&#39;s unfortunate. The client_hello packet includes the list of ciphersuites (IDs) that the client is willing to use for the connection. It could be that <code>sun.security.ssl.ClientHello$ClientHelloKickstartProducer</code> is sending a different list of ciphersuites than you found are available. I suppose you could try to capture this in Wireshark - it understands the SSL/TLS packets going across the wire until encryption actually kicks in."}],"owner":{"account_id":1862192,"reputation":1847,"user_id":1686575,"accept_rate":65,"display_name":"John Manko"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":365,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685668868,"creation_date":1685587977,"question_id":76378390,"body_markdown":"I&#39;m having problems connecting to a database server from my Payara 4.1.2.181 connection pool on OpenJDK 1.8 (installed via homebrew on MacOS).  The error message is at the bottom, but I&#39;ll first show my configuration.\r\n\r\n```\r\n$ ./bin/java -version\r\nopenjdk version &quot;1.8.0_372&quot;\r\nOpenJDK Runtime Environment (build 1.8.0_372-bre_2023_04_25_03_16-b00)\r\nOpenJDK 64-Bit Server VM (build 25.372-b00, mixed mode)\r\n```\r\n\r\n```\r\n$ nmap --script ssl-enum-ciphers -p 1433 dbserver\r\nStarting Nmap 7.93 ( https://nmap.org ) at 2023-05-31 22:25 EDT\r\nNmap scan report for dbserver\r\nHost is up (0.062s latency).\r\n\r\nPORT     STATE SERVICE\r\n1433/tcp open  ms-sql-s\r\n| ssl-enum-ciphers: \r\n|   TLSv1.0: \r\n|     ciphers: \r\n|       TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA (secp384r1) - A\r\n|       TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA (ecdh_x25519) - A\r\n|       TLS_RSA_WITH_AES_256_CBC_SHA (rsa 2048) - A\r\n|       TLS_RSA_WITH_AES_128_CBC_SHA (rsa 2048) - A\r\n|       TLS_RSA_WITH_3DES_EDE_CBC_SHA (rsa 2048) - C\r\n|     compressors: \r\n|       NULL\r\n|     cipher preference: server\r\n|     warnings: \r\n|       64-bit block cipher 3DES vulnerable to SWEET32 attack\r\n|   TLSv1.1: \r\n|     ciphers: \r\n|       TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA (secp384r1) - A\r\n|       TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA (ecdh_x25519) - A\r\n|       TLS_RSA_WITH_AES_256_CBC_SHA (rsa 2048) - A\r\n|       TLS_RSA_WITH_AES_128_CBC_SHA (rsa 2048) - A\r\n|       TLS_RSA_WITH_3DES_EDE_CBC_SHA (rsa 2048) - C\r\n|     compressors: \r\n|       NULL\r\n|     cipher preference: server\r\n|     warnings: \r\n|       64-bit block cipher 3DES vulnerable to SWEET32 attack\r\n|   TLSv1.2: \r\n|     ciphers: \r\n|       TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 (secp384r1) - A\r\n|       TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 (ecdh_x25519) - A\r\n|       TLS_DHE_RSA_WITH_AES_256_GCM_SHA384 (dh 2048) - A\r\n|       TLS_DHE_RSA_WITH_AES_128_GCM_SHA256 (dh 2048) - A\r\n|       TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384 (secp384r1) - A\r\n|       TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256 (ecdh_x25519) - A\r\n|       TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA (secp384r1) - A\r\n|       TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA (ecdh_x25519) - A\r\n|       TLS_RSA_WITH_AES_256_GCM_SHA384 (rsa 2048) - A\r\n|       TLS_RSA_WITH_AES_128_GCM_SHA256 (rsa 2048) - A\r\n|       TLS_RSA_WITH_AES_256_CBC_SHA256 (rsa 2048) - A\r\n|       TLS_RSA_WITH_AES_128_CBC_SHA256 (rsa 2048) - A\r\n|       TLS_RSA_WITH_AES_256_CBC_SHA (rsa 2048) - A\r\n|       TLS_RSA_WITH_AES_128_CBC_SHA (rsa 2048) - A\r\n|       TLS_RSA_WITH_3DES_EDE_CBC_SHA (rsa 2048) - C\r\n|     compressors: \r\n|       NULL\r\n|     cipher preference: server\r\n|     warnings: \r\n|       64-bit block cipher 3DES vulnerable to SWEET32 attack\r\n|_  least strength: C\r\n\r\nNmap done: 1 IP address (1 host up) scanned in 9.63 seconds\r\n```\r\n\r\nInspecting ciphers in the runtime:\r\n\r\n```java\r\nimport java.util.*;\r\nimport java.security.*;\r\nimport javax.net.ssl.*;\r\n\r\npublic class AvailableCipherSuites {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n\r\n        // If an argument is present, then remove the\r\n        // jdk.tls.disabledAlgorithms restrictions and\r\n        // print all implemented cipher suites. \r\n        if (args.length != 0) {\r\n            Security.setProperty(&quot;jdk.tls.disabledAlgorithms&quot;, &quot;&quot;);\r\n        }\r\n\r\n        SSLContext sslc = SSLContext.getDefault();\r\n        SSLSocketFactory sslf = sslc.getSocketFactory();\r\n        SSLSocket ssls = (SSLSocket) sslf.createSocket();\r\n\r\n        ArrayList&lt;String&gt; protocols = new ArrayList(\r\n                Arrays.asList(ssls.getEnabledProtocols()));\r\n        ArrayList&lt;String&gt; enabled = new ArrayList(\r\n                Arrays.asList(ssls.getEnabledCipherSuites()));\r\n\r\n        ArrayList&lt;String&gt; supported = new ArrayList(\r\n                Arrays.asList(ssls.getSupportedCipherSuites()));\r\n        supported.removeAll(enabled);\r\n        System.out.println(System.getProperty(&quot;java.version&quot;));\r\n        System.out.println(&quot;Enabled by Default Cipher Suites&quot;);\r\n        System.out.println(&quot;--------------------------------&quot;);\r\n        protocols.stream().forEach(System.out::println);\r\n        System.out.println(&quot;--------------------------------&quot;);\r\n        enabled.stream().forEach(System.out::println);\r\n\r\n        System.out.println();\r\n\r\n        System.out.println(&quot;Not Enabled by Default Cipher Suites&quot;);\r\n        System.out.println(&quot;------------------------------------&quot;);\r\n        supported.stream().forEach(System.out::println);\r\n    }\r\n}\r\n```\r\n\r\n```\r\n1.8.0_372\r\nEnabled by Default Cipher Suites\r\n--------------------------------\r\nTLSv1.3\r\nTLSv1.2\r\nTLSv1.1\r\nTLSv1\r\nSSLv3\r\n--------------------------------\r\nTLS_AES_256_GCM_SHA384\r\nTLS_AES_128_GCM_SHA256\r\nTLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384\r\nTLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256\r\nTLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384\r\nTLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256\r\nTLS_DHE_RSA_WITH_AES_256_GCM_SHA384\r\nTLS_DHE_DSS_WITH_AES_256_GCM_SHA384\r\nTLS_DHE_RSA_WITH_AES_128_GCM_SHA256\r\nTLS_DHE_DSS_WITH_AES_128_GCM_SHA256\r\nTLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384\r\nTLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384\r\nTLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256\r\nTLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256\r\nTLS_DHE_RSA_WITH_AES_256_CBC_SHA256\r\nTLS_DHE_DSS_WITH_AES_256_CBC_SHA256\r\nTLS_DHE_RSA_WITH_AES_128_CBC_SHA256\r\nTLS_DHE_DSS_WITH_AES_128_CBC_SHA256\r\nTLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384\r\nTLS_ECDH_RSA_WITH_AES_256_GCM_SHA384\r\nTLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256\r\nTLS_ECDH_RSA_WITH_AES_128_GCM_SHA256\r\nTLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384\r\nTLS_ECDH_RSA_WITH_AES_256_CBC_SHA384\r\nTLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256\r\nTLS_ECDH_RSA_WITH_AES_128_CBC_SHA256\r\nTLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA\r\nTLS_ECDHE_RSA_WITH_AES_256_CBC_SHA\r\nTLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA\r\nTLS_ECDHE_RSA_WITH_AES_128_CBC_SHA\r\nTLS_DHE_RSA_WITH_AES_256_CBC_SHA\r\nTLS_DHE_DSS_WITH_AES_256_CBC_SHA\r\nTLS_DHE_RSA_WITH_AES_128_CBC_SHA\r\nTLS_DHE_DSS_WITH_AES_128_CBC_SHA\r\nTLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA\r\nTLS_ECDH_RSA_WITH_AES_256_CBC_SHA\r\nTLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA\r\nTLS_ECDH_RSA_WITH_AES_128_CBC_SHA\r\nTLS_RSA_WITH_AES_256_GCM_SHA384\r\nTLS_RSA_WITH_AES_128_GCM_SHA256\r\nTLS_RSA_WITH_AES_256_CBC_SHA256\r\nTLS_RSA_WITH_AES_128_CBC_SHA256\r\nTLS_RSA_WITH_AES_256_CBC_SHA\r\nTLS_RSA_WITH_AES_128_CBC_SHA\r\nTLS_EMPTY_RENEGOTIATION_INFO_SCSV\r\n\r\nNot Enabled by Default Cipher Suites\r\n------------------------------------\r\n```\r\n\r\nMS JDBC Driver `mssql-jdbc-11.2.0.jre8`:\r\n```\r\nSSLProtocol=TLSv1.2\r\nEncrypt=False\r\n```\r\n\r\nResult:\r\n```\r\nSEVERE:   javax.net.ssl|SEVERE|81|admin-thread-pool::admin-listener(2)|2023-05-31 22:37:18.751 EDT|TransportContext.java:323|Fatal (HANDSHAKE_FAILURE): Couldn&#39;t kickstart handshaking (\r\n&quot;throwable&quot; : {\r\n  javax.net.ssl.SSLHandshakeException: No negotiable cipher suite\r\n  \tat sun.security.ssl.ClientHello$ClientHelloKickstartProducer.produce(ClientHello.java:538)\r\n  \tat sun.security.ssl.SSLHandshake.kickstart(SSLHandshake.java:510)\r\n  \tat sun.security.ssl.ClientHandshakeContext.kickstart(ClientHandshakeContext.java:112)\r\n  \tat sun.security.ssl.TransportContext.kickstart(TransportContext.java:238)\r\n  \tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:433)\r\n  \tat com.microsoft.sqlserver.jdbc.TDSChannel.enableSSL(IOBuffer.java:1795)\r\n)\r\n\r\nSEVERE:   javax.net.ssl|FINE|81|admin-thread-pool::admin-listener(2)|2023-05-31 22:37:18.752 EDT|SSLSocketImpl.java:1615|close the underlying socket\r\n\r\nSEVERE:   javax.net.ssl|FINE|81|admin-thread-pool::admin-listener(2)|2023-05-31 22:37:18.753 EDT|SSLSocketImpl.java:1634|close the SSL connection (initiative)\r\n\r\nWARNING:   RAR8054: Exception while creating an unpooled [test] connection for pool [ MY_DATABASE ], Connection could not be allocated because: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;No negotiable cipher suite&quot;. ClientConnectionId:a9f6b85c-072b-4be1-9b43-6038f5937673\r\nSEVERE:   RestResponse.getResponse() gives FAILURE.  endpoint = &#39;http://localhost:5858/management/domain/resources/ping-connection-pool.json&#39;; attrs = &#39;{id=MY_DATABASE}&#39;\r\n\r\n```\r\n\r\nWhen the server first starts, the following can be found in the log, too:\r\n```\r\n\r\nSEVERE:   javax.net.ssl|FINE|99|Thread-17|2023-05-31 22:40:24.742 EDT|SSLCipher.java:487|Transformation RC4 is not available.\r\n\r\nSEVERE:   javax.net.ssl|FINE|99|Thread-17|2023-05-31 22:40:24.743 EDT|SSLCipher.java:487|Transformation DES/CBC/NoPadding is not available.\r\n\r\nSEVERE:   javax.net.ssl|FINE|99|Thread-17|2023-05-31 22:40:24.743 EDT|SSLCipher.java:487|Transformation RC4 is not available.\r\n\r\nSEVERE:   javax.net.ssl|FINE|99|Thread-17|2023-05-31 22:40:24.744 EDT|SSLCipher.java:487|Transformation DES/CBC/NoPadding is not available.\r\n\r\nSEVERE:   javax.net.ssl|FINE|99|Thread-17|2023-05-31 22:40:24.750 EDT|SSLCipher.java:487|Transformation DESede/CBC/NoPadding is not available.\r\n\r\nSEVERE:   javax.net.ssl|FINE|99|Thread-17|2023-05-31 22:40:24.751 EDT|SSLCipher.java:487|Transformation AES/CBC/NoPadding is not available.\r\n\r\nSEVERE:   javax.net.ssl|FINE|99|Thread-17|2023-05-31 22:40:24.751 EDT|SSLCipher.java:487|Transformation AES/CBC/NoPadding is not available.\r\n\r\nSEVERE:   javax.net.ssl|FINE|99|Thread-17|2023-05-31 22:40:24.752 EDT|SSLCipher.java:487|Transformation AES/GCM/NoPadding is not available.\r\n\r\nSEVERE:   javax.net.ssl|FINE|99|Thread-17|2023-05-31 22:40:24.753 EDT|SSLCipher.java:487|Transformation AES/GCM/NoPadding is not available.\r\n\r\nSEVERE:   javax.net.ssl|FINE|99|Thread-17|2023-05-31 22:40:24.755 EDT|SSLCipher.java:487|Transformation AES/GCM/NoPadding is not available.\r\n\r\nSEVERE:   javax.net.ssl|FINE|99|Thread-17|2023-05-31 22:40:24.755 EDT|SSLCipher.java:487|Transformation AES/GCM/NoPadding is not available.\r\n\r\nSEVERE:   javax.net.ssl|FINE|99|Thread-17|2023-05-31 22:40:24.756 EDT|SSLCipher.java:438|jdk.tls.keyLimits:  entry = AES/GCM/NoPadding KeyUpdate 2^37. AES/GCM/NOPADDING:KEYUPDATE = 137438953472\r\n\r\n```\r\n\r\nUPDATE:\r\n\r\nWhen adding `-Djavax.net.debug=all` to JVm options:\r\n\r\n```\r\nSEVERE:   javax.net.ssl|ALL|B0|admin-thread-pool::admin-listener(7)|2023-06-01 10:18:06.427 EDT|SSLContextImpl.java:115|trigger seeding of SecureRandom\r\n\r\nSEVERE:   javax.net.ssl|ALL|B0|admin-thread-pool::admin-listener(7)|2023-06-01 10:18:06.427 EDT|SSLContextImpl.java:119|done seeding of SecureRandom\r\n\r\nSEVERE:   javax.net.ssl|SEVERE|B0|admin-thread-pool::admin-listener(7)|2023-06-01 10:18:06.435 EDT|TransportContext.java:323|Fatal (HANDSHAKE_FAILURE): Couldn&#39;t kickstart handshaking (\r\n&quot;throwable&quot; : {\r\n  javax.net.ssl.SSLHandshakeException: No negotiable cipher suite\r\n  \tat sun.security.ssl.ClientHello$ClientHelloKickstartProducer.produce(ClientHello.java:538)\r\n  \tat sun.security.ssl.SSLHandshake.kickstart(SSLHandshake.java:510)\r\n  \tat sun.security.ssl.ClientHandshakeContext.kickstart(ClientHandshakeContext.java:112)\r\n  \tat sun.security.ssl.TransportContext.kickstart(TransportContext.java:238)\r\n  \tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:433)\r\n  \tat com.microsoft.sqlserver.jdbc.TDSChannel.enableSSL(IOBuffer.java:1795)\r\n)\r\n\r\nSEVERE:   javax.net.ssl|ALL|B0|admin-thread-pool::admin-listener(7)|2023-06-01 10:18:06.435 EDT|SSLSessionImpl.java:823|Invalidated session:  Session(1685629086431|SSL_NULL_WITH_NULL_NULL)\r\n\r\nSEVERE:   javax.net.ssl|FINE|B0|admin-thread-pool::admin-listener(7)|2023-06-01 10:18:06.436 EDT|SSLSocketOutputRecord.java:71|WRITE: TLS12 alert(handshake_failure), length = 2\r\n\r\nSEVERE:   javax.net.ssl|FINE|B0|admin-thread-pool::admin-listener(7)|2023-06-01 10:18:06.437 EDT|SSLSocketOutputRecord.java:85|Raw write (\r\n  0000: 15 03 03 00 02 02 28                               ......(\r\n)\r\n\r\nSEVERE:   javax.net.ssl|FINE|B0|admin-thread-pool::admin-listener(7)|2023-06-01 10:18:06.437 EDT|SSLSocketImpl.java:1615|close the underlying socket\r\n\r\nSEVERE:   javax.net.ssl|FINE|B0|admin-thread-pool::admin-listener(7)|2023-06-01 10:18:06.437 EDT|SSLSocketImpl.java:1634|close the SSL connection (initiative)\r\n\r\nWARNING:   RAR8054: Exception while creating an unpooled [test] connection for pool [ MY_DATABASE ], Connection could not be allocated because: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;No negotiable cipher suite&quot;. ClientConnectionId:78013a8a-10d1-4c59-9005-ac4e1c34de89\r\nSEVERE:   RestResponse.getResponse() gives FAILURE.  endpoint = &#39;http://localhost:5858/management/domain/resources/ping-connection-pool.json&#39;; attrs = &#39;{id=MY_DATABASE}&#39;\r\n```\r\n\r\n```\r\nSEVERE:   javax.net.ssl|FINE|98|Thread-17|2023-06-01 21:16:25.854 EDT|SSLContextImpl.java:425|System property jdk.tls.client.cipherSuites is set to &#39;null&#39;\r\n\r\nSEVERE:   javax.net.ssl|FINE|98|Thread-17|2023-06-01 21:16:25.855 EDT|SSLContextImpl.java:425|System property jdk.tls.server.cipherSuites is set to &#39;null&#39;\r\n\r\nSEVERE:   javax.net.ssl|FINE|98|Thread-17|2023-06-01 21:16:25.892 EDT|SSLCipher.java:487|Transformation RC4 is not available.\r\n\r\nSEVERE:   javax.net.ssl|FINE|98|Thread-17|2023-06-01 21:16:25.894 EDT|SSLCipher.java:487|Transformation DES/CBC/NoPadding is not available.\r\n\r\nSEVERE:   javax.net.ssl|FINE|98|Thread-17|2023-06-01 21:16:25.894 EDT|SSLCipher.java:487|Transformation RC4 is not available.\r\n\r\nSEVERE:   javax.net.ssl|FINE|98|Thread-17|2023-06-01 21:16:25.896 EDT|SSLCipher.java:487|Transformation DES/CBC/NoPadding is not available.\r\n\r\nSEVERE:   javax.net.ssl|FINE|98|Thread-17|2023-06-01 21:16:25.905 EDT|SSLCipher.java:487|Transformation DESede/CBC/NoPadding is not available.\r\n\r\nSEVERE:   javax.net.ssl|FINE|98|Thread-17|2023-06-01 21:16:25.906 EDT|SSLCipher.java:487|Transformation AES/CBC/NoPadding is not available.\r\n\r\nSEVERE:   javax.net.ssl|FINE|98|Thread-17|2023-06-01 21:16:25.907 EDT|SSLCipher.java:487|Transformation AES/CBC/NoPadding is not available.\r\n\r\nSEVERE:   javax.net.ssl|FINE|98|Thread-17|2023-06-01 21:16:25.908 EDT|SSLCipher.java:487|Transformation AES/GCM/NoPadding is not available.\r\n\r\nSEVERE:   javax.net.ssl|FINE|98|Thread-17|2023-06-01 21:16:25.909 EDT|SSLCipher.java:487|Transformation AES/GCM/NoPadding is not available.\r\n\r\nSEVERE:   javax.net.ssl|FINE|98|Thread-17|2023-06-01 21:16:25.911 EDT|SSLCipher.java:487|Transformation AES/GCM/NoPadding is not available.\r\n\r\nSEVERE:   javax.net.ssl|FINE|98|Thread-17|2023-06-01 21:16:25.912 EDT|SSLCipher.java:487|Transformation AES/GCM/NoPadding is not available.\r\n\r\nSEVERE:   javax.net.ssl|FINE|98|Thread-17|2023-06-01 21:16:25.913 EDT|SSLCipher.java:438|jdk.tls.keyLimits:  entry = AES/GCM/NoPadding KeyUpdate 2^37. AES/GCM/NOPADDING:KEYUPDATE = 137438953472\r\n\r\nSEVERE:   javax.net.ssl|FINE|98|Thread-17|2023-06-01 21:16:25.922 EDT|SSLContextImpl.java:399|Ignore disabled cipher suite: TLS_RSA_WITH_NULL_SHA256\r\n\r\nSEVERE:   javax.net.ssl|ALL|98|Thread-17|2023-06-01 21:16:25.923 EDT|SSLContextImpl.java:408|Ignore unsupported cipher suite: TLS_RSA_WITH_NULL_SHA256\r\n\r\nSEVERE:   javax.net.ssl|FINE|98|Thread-17|2023-06-01 21:16:25.923 EDT|SSLContextImpl.java:399|Ignore disabled cipher suite: SSL_RSA_WITH_NULL_SHA\r\n\r\nSEVERE:   javax.net.ssl|ALL|98|Thread-17|2023-06-01 21:16:25.923 EDT|SSLContextImpl.java:408|Ignore unsupported cipher suite: SSL_RSA_WITH_NULL_SHA\r\n\r\nSEVERE:   javax.net.ssl|FINE|98|Thread-17|2023-06-01 21:16:25.924 EDT|SSLContextImpl.java:399|Ignore disabled cipher suite: SSL_RSA_WITH_NULL_MD5\r\n\r\nSEVERE:   javax.net.ssl|ALL|98|Thread-17|2023-06-01 21:16:25.924 EDT|SSLContextImpl.java:408|Ignore unsupported cipher suite: SSL_RSA_WITH_NULL_MD5\r\n```","title":"Can&#39;t establish TLSv1.2 connection from OpenJDK8 to database server","body":"<p>I'm having problems connecting to a database server from my Payara 4.1.2.181 connection pool on OpenJDK 1.8 (installed via homebrew on MacOS).  The error message is at the bottom, but I'll first show my configuration.</p>\n<pre><code>$ ./bin/java -version\nopenjdk version &quot;1.8.0_372&quot;\nOpenJDK Runtime Environment (build 1.8.0_372-bre_2023_04_25_03_16-b00)\nOpenJDK 64-Bit Server VM (build 25.372-b00, mixed mode)\n</code></pre>\n<pre><code>$ nmap --script ssl-enum-ciphers -p 1433 dbserver\nStarting Nmap 7.93 ( https://nmap.org ) at 2023-05-31 22:25 EDT\nNmap scan report for dbserver\nHost is up (0.062s latency).\n\nPORT     STATE SERVICE\n1433/tcp open  ms-sql-s\n| ssl-enum-ciphers: \n|   TLSv1.0: \n|     ciphers: \n|       TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA (secp384r1) - A\n|       TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA (ecdh_x25519) - A\n|       TLS_RSA_WITH_AES_256_CBC_SHA (rsa 2048) - A\n|       TLS_RSA_WITH_AES_128_CBC_SHA (rsa 2048) - A\n|       TLS_RSA_WITH_3DES_EDE_CBC_SHA (rsa 2048) - C\n|     compressors: \n|       NULL\n|     cipher preference: server\n|     warnings: \n|       64-bit block cipher 3DES vulnerable to SWEET32 attack\n|   TLSv1.1: \n|     ciphers: \n|       TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA (secp384r1) - A\n|       TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA (ecdh_x25519) - A\n|       TLS_RSA_WITH_AES_256_CBC_SHA (rsa 2048) - A\n|       TLS_RSA_WITH_AES_128_CBC_SHA (rsa 2048) - A\n|       TLS_RSA_WITH_3DES_EDE_CBC_SHA (rsa 2048) - C\n|     compressors: \n|       NULL\n|     cipher preference: server\n|     warnings: \n|       64-bit block cipher 3DES vulnerable to SWEET32 attack\n|   TLSv1.2: \n|     ciphers: \n|       TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 (secp384r1) - A\n|       TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 (ecdh_x25519) - A\n|       TLS_DHE_RSA_WITH_AES_256_GCM_SHA384 (dh 2048) - A\n|       TLS_DHE_RSA_WITH_AES_128_GCM_SHA256 (dh 2048) - A\n|       TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384 (secp384r1) - A\n|       TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256 (ecdh_x25519) - A\n|       TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA (secp384r1) - A\n|       TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA (ecdh_x25519) - A\n|       TLS_RSA_WITH_AES_256_GCM_SHA384 (rsa 2048) - A\n|       TLS_RSA_WITH_AES_128_GCM_SHA256 (rsa 2048) - A\n|       TLS_RSA_WITH_AES_256_CBC_SHA256 (rsa 2048) - A\n|       TLS_RSA_WITH_AES_128_CBC_SHA256 (rsa 2048) - A\n|       TLS_RSA_WITH_AES_256_CBC_SHA (rsa 2048) - A\n|       TLS_RSA_WITH_AES_128_CBC_SHA (rsa 2048) - A\n|       TLS_RSA_WITH_3DES_EDE_CBC_SHA (rsa 2048) - C\n|     compressors: \n|       NULL\n|     cipher preference: server\n|     warnings: \n|       64-bit block cipher 3DES vulnerable to SWEET32 attack\n|_  least strength: C\n\nNmap done: 1 IP address (1 host up) scanned in 9.63 seconds\n</code></pre>\n<p>Inspecting ciphers in the runtime:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport java.security.*;\nimport javax.net.ssl.*;\n\npublic class AvailableCipherSuites {\n\n    public static void main(String[] args) throws Exception {\n\n        // If an argument is present, then remove the\n        // jdk.tls.disabledAlgorithms restrictions and\n        // print all implemented cipher suites. \n        if (args.length != 0) {\n            Security.setProperty(&quot;jdk.tls.disabledAlgorithms&quot;, &quot;&quot;);\n        }\n\n        SSLContext sslc = SSLContext.getDefault();\n        SSLSocketFactory sslf = sslc.getSocketFactory();\n        SSLSocket ssls = (SSLSocket) sslf.createSocket();\n\n        ArrayList&lt;String&gt; protocols = new ArrayList(\n                Arrays.asList(ssls.getEnabledProtocols()));\n        ArrayList&lt;String&gt; enabled = new ArrayList(\n                Arrays.asList(ssls.getEnabledCipherSuites()));\n\n        ArrayList&lt;String&gt; supported = new ArrayList(\n                Arrays.asList(ssls.getSupportedCipherSuites()));\n        supported.removeAll(enabled);\n        System.out.println(System.getProperty(&quot;java.version&quot;));\n        System.out.println(&quot;Enabled by Default Cipher Suites&quot;);\n        System.out.println(&quot;--------------------------------&quot;);\n        protocols.stream().forEach(System.out::println);\n        System.out.println(&quot;--------------------------------&quot;);\n        enabled.stream().forEach(System.out::println);\n\n        System.out.println();\n\n        System.out.println(&quot;Not Enabled by Default Cipher Suites&quot;);\n        System.out.println(&quot;------------------------------------&quot;);\n        supported.stream().forEach(System.out::println);\n    }\n}\n</code></pre>\n<pre><code>1.8.0_372\nEnabled by Default Cipher Suites\n--------------------------------\nTLSv1.3\nTLSv1.2\nTLSv1.1\nTLSv1\nSSLv3\n--------------------------------\nTLS_AES_256_GCM_SHA384\nTLS_AES_128_GCM_SHA256\nTLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384\nTLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256\nTLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384\nTLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256\nTLS_DHE_RSA_WITH_AES_256_GCM_SHA384\nTLS_DHE_DSS_WITH_AES_256_GCM_SHA384\nTLS_DHE_RSA_WITH_AES_128_GCM_SHA256\nTLS_DHE_DSS_WITH_AES_128_GCM_SHA256\nTLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384\nTLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384\nTLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256\nTLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256\nTLS_DHE_RSA_WITH_AES_256_CBC_SHA256\nTLS_DHE_DSS_WITH_AES_256_CBC_SHA256\nTLS_DHE_RSA_WITH_AES_128_CBC_SHA256\nTLS_DHE_DSS_WITH_AES_128_CBC_SHA256\nTLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384\nTLS_ECDH_RSA_WITH_AES_256_GCM_SHA384\nTLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256\nTLS_ECDH_RSA_WITH_AES_128_GCM_SHA256\nTLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384\nTLS_ECDH_RSA_WITH_AES_256_CBC_SHA384\nTLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256\nTLS_ECDH_RSA_WITH_AES_128_CBC_SHA256\nTLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA\nTLS_ECDHE_RSA_WITH_AES_256_CBC_SHA\nTLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA\nTLS_ECDHE_RSA_WITH_AES_128_CBC_SHA\nTLS_DHE_RSA_WITH_AES_256_CBC_SHA\nTLS_DHE_DSS_WITH_AES_256_CBC_SHA\nTLS_DHE_RSA_WITH_AES_128_CBC_SHA\nTLS_DHE_DSS_WITH_AES_128_CBC_SHA\nTLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA\nTLS_ECDH_RSA_WITH_AES_256_CBC_SHA\nTLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA\nTLS_ECDH_RSA_WITH_AES_128_CBC_SHA\nTLS_RSA_WITH_AES_256_GCM_SHA384\nTLS_RSA_WITH_AES_128_GCM_SHA256\nTLS_RSA_WITH_AES_256_CBC_SHA256\nTLS_RSA_WITH_AES_128_CBC_SHA256\nTLS_RSA_WITH_AES_256_CBC_SHA\nTLS_RSA_WITH_AES_128_CBC_SHA\nTLS_EMPTY_RENEGOTIATION_INFO_SCSV\n\nNot Enabled by Default Cipher Suites\n------------------------------------\n</code></pre>\n<p>MS JDBC Driver <code>mssql-jdbc-11.2.0.jre8</code>:</p>\n<pre><code>SSLProtocol=TLSv1.2\nEncrypt=False\n</code></pre>\n<p>Result:</p>\n<pre><code>SEVERE:   javax.net.ssl|SEVERE|81|admin-thread-pool::admin-listener(2)|2023-05-31 22:37:18.751 EDT|TransportContext.java:323|Fatal (HANDSHAKE_FAILURE): Couldn't kickstart handshaking (\n&quot;throwable&quot; : {\n  javax.net.ssl.SSLHandshakeException: No negotiable cipher suite\n    at sun.security.ssl.ClientHello$ClientHelloKickstartProducer.produce(ClientHello.java:538)\n    at sun.security.ssl.SSLHandshake.kickstart(SSLHandshake.java:510)\n    at sun.security.ssl.ClientHandshakeContext.kickstart(ClientHandshakeContext.java:112)\n    at sun.security.ssl.TransportContext.kickstart(TransportContext.java:238)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:433)\n    at com.microsoft.sqlserver.jdbc.TDSChannel.enableSSL(IOBuffer.java:1795)\n)\n\nSEVERE:   javax.net.ssl|FINE|81|admin-thread-pool::admin-listener(2)|2023-05-31 22:37:18.752 EDT|SSLSocketImpl.java:1615|close the underlying socket\n\nSEVERE:   javax.net.ssl|FINE|81|admin-thread-pool::admin-listener(2)|2023-05-31 22:37:18.753 EDT|SSLSocketImpl.java:1634|close the SSL connection (initiative)\n\nWARNING:   RAR8054: Exception while creating an unpooled [test] connection for pool [ MY_DATABASE ], Connection could not be allocated because: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;No negotiable cipher suite&quot;. ClientConnectionId:a9f6b85c-072b-4be1-9b43-6038f5937673\nSEVERE:   RestResponse.getResponse() gives FAILURE.  endpoint = 'http://localhost:5858/management/domain/resources/ping-connection-pool.json'; attrs = '{id=MY_DATABASE}'\n\n</code></pre>\n<p>When the server first starts, the following can be found in the log, too:</p>\n<pre><code>\nSEVERE:   javax.net.ssl|FINE|99|Thread-17|2023-05-31 22:40:24.742 EDT|SSLCipher.java:487|Transformation RC4 is not available.\n\nSEVERE:   javax.net.ssl|FINE|99|Thread-17|2023-05-31 22:40:24.743 EDT|SSLCipher.java:487|Transformation DES/CBC/NoPadding is not available.\n\nSEVERE:   javax.net.ssl|FINE|99|Thread-17|2023-05-31 22:40:24.743 EDT|SSLCipher.java:487|Transformation RC4 is not available.\n\nSEVERE:   javax.net.ssl|FINE|99|Thread-17|2023-05-31 22:40:24.744 EDT|SSLCipher.java:487|Transformation DES/CBC/NoPadding is not available.\n\nSEVERE:   javax.net.ssl|FINE|99|Thread-17|2023-05-31 22:40:24.750 EDT|SSLCipher.java:487|Transformation DESede/CBC/NoPadding is not available.\n\nSEVERE:   javax.net.ssl|FINE|99|Thread-17|2023-05-31 22:40:24.751 EDT|SSLCipher.java:487|Transformation AES/CBC/NoPadding is not available.\n\nSEVERE:   javax.net.ssl|FINE|99|Thread-17|2023-05-31 22:40:24.751 EDT|SSLCipher.java:487|Transformation AES/CBC/NoPadding is not available.\n\nSEVERE:   javax.net.ssl|FINE|99|Thread-17|2023-05-31 22:40:24.752 EDT|SSLCipher.java:487|Transformation AES/GCM/NoPadding is not available.\n\nSEVERE:   javax.net.ssl|FINE|99|Thread-17|2023-05-31 22:40:24.753 EDT|SSLCipher.java:487|Transformation AES/GCM/NoPadding is not available.\n\nSEVERE:   javax.net.ssl|FINE|99|Thread-17|2023-05-31 22:40:24.755 EDT|SSLCipher.java:487|Transformation AES/GCM/NoPadding is not available.\n\nSEVERE:   javax.net.ssl|FINE|99|Thread-17|2023-05-31 22:40:24.755 EDT|SSLCipher.java:487|Transformation AES/GCM/NoPadding is not available.\n\nSEVERE:   javax.net.ssl|FINE|99|Thread-17|2023-05-31 22:40:24.756 EDT|SSLCipher.java:438|jdk.tls.keyLimits:  entry = AES/GCM/NoPadding KeyUpdate 2^37. AES/GCM/NOPADDING:KEYUPDATE = 137438953472\n\n</code></pre>\n<p>UPDATE:</p>\n<p>When adding <code>-Djavax.net.debug=all</code> to JVm options:</p>\n<pre><code>SEVERE:   javax.net.ssl|ALL|B0|admin-thread-pool::admin-listener(7)|2023-06-01 10:18:06.427 EDT|SSLContextImpl.java:115|trigger seeding of SecureRandom\n\nSEVERE:   javax.net.ssl|ALL|B0|admin-thread-pool::admin-listener(7)|2023-06-01 10:18:06.427 EDT|SSLContextImpl.java:119|done seeding of SecureRandom\n\nSEVERE:   javax.net.ssl|SEVERE|B0|admin-thread-pool::admin-listener(7)|2023-06-01 10:18:06.435 EDT|TransportContext.java:323|Fatal (HANDSHAKE_FAILURE): Couldn't kickstart handshaking (\n&quot;throwable&quot; : {\n  javax.net.ssl.SSLHandshakeException: No negotiable cipher suite\n    at sun.security.ssl.ClientHello$ClientHelloKickstartProducer.produce(ClientHello.java:538)\n    at sun.security.ssl.SSLHandshake.kickstart(SSLHandshake.java:510)\n    at sun.security.ssl.ClientHandshakeContext.kickstart(ClientHandshakeContext.java:112)\n    at sun.security.ssl.TransportContext.kickstart(TransportContext.java:238)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:433)\n    at com.microsoft.sqlserver.jdbc.TDSChannel.enableSSL(IOBuffer.java:1795)\n)\n\nSEVERE:   javax.net.ssl|ALL|B0|admin-thread-pool::admin-listener(7)|2023-06-01 10:18:06.435 EDT|SSLSessionImpl.java:823|Invalidated session:  Session(1685629086431|SSL_NULL_WITH_NULL_NULL)\n\nSEVERE:   javax.net.ssl|FINE|B0|admin-thread-pool::admin-listener(7)|2023-06-01 10:18:06.436 EDT|SSLSocketOutputRecord.java:71|WRITE: TLS12 alert(handshake_failure), length = 2\n\nSEVERE:   javax.net.ssl|FINE|B0|admin-thread-pool::admin-listener(7)|2023-06-01 10:18:06.437 EDT|SSLSocketOutputRecord.java:85|Raw write (\n  0000: 15 03 03 00 02 02 28                               ......(\n)\n\nSEVERE:   javax.net.ssl|FINE|B0|admin-thread-pool::admin-listener(7)|2023-06-01 10:18:06.437 EDT|SSLSocketImpl.java:1615|close the underlying socket\n\nSEVERE:   javax.net.ssl|FINE|B0|admin-thread-pool::admin-listener(7)|2023-06-01 10:18:06.437 EDT|SSLSocketImpl.java:1634|close the SSL connection (initiative)\n\nWARNING:   RAR8054: Exception while creating an unpooled [test] connection for pool [ MY_DATABASE ], Connection could not be allocated because: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;No negotiable cipher suite&quot;. ClientConnectionId:78013a8a-10d1-4c59-9005-ac4e1c34de89\nSEVERE:   RestResponse.getResponse() gives FAILURE.  endpoint = 'http://localhost:5858/management/domain/resources/ping-connection-pool.json'; attrs = '{id=MY_DATABASE}'\n</code></pre>\n<pre><code>SEVERE:   javax.net.ssl|FINE|98|Thread-17|2023-06-01 21:16:25.854 EDT|SSLContextImpl.java:425|System property jdk.tls.client.cipherSuites is set to 'null'\n\nSEVERE:   javax.net.ssl|FINE|98|Thread-17|2023-06-01 21:16:25.855 EDT|SSLContextImpl.java:425|System property jdk.tls.server.cipherSuites is set to 'null'\n\nSEVERE:   javax.net.ssl|FINE|98|Thread-17|2023-06-01 21:16:25.892 EDT|SSLCipher.java:487|Transformation RC4 is not available.\n\nSEVERE:   javax.net.ssl|FINE|98|Thread-17|2023-06-01 21:16:25.894 EDT|SSLCipher.java:487|Transformation DES/CBC/NoPadding is not available.\n\nSEVERE:   javax.net.ssl|FINE|98|Thread-17|2023-06-01 21:16:25.894 EDT|SSLCipher.java:487|Transformation RC4 is not available.\n\nSEVERE:   javax.net.ssl|FINE|98|Thread-17|2023-06-01 21:16:25.896 EDT|SSLCipher.java:487|Transformation DES/CBC/NoPadding is not available.\n\nSEVERE:   javax.net.ssl|FINE|98|Thread-17|2023-06-01 21:16:25.905 EDT|SSLCipher.java:487|Transformation DESede/CBC/NoPadding is not available.\n\nSEVERE:   javax.net.ssl|FINE|98|Thread-17|2023-06-01 21:16:25.906 EDT|SSLCipher.java:487|Transformation AES/CBC/NoPadding is not available.\n\nSEVERE:   javax.net.ssl|FINE|98|Thread-17|2023-06-01 21:16:25.907 EDT|SSLCipher.java:487|Transformation AES/CBC/NoPadding is not available.\n\nSEVERE:   javax.net.ssl|FINE|98|Thread-17|2023-06-01 21:16:25.908 EDT|SSLCipher.java:487|Transformation AES/GCM/NoPadding is not available.\n\nSEVERE:   javax.net.ssl|FINE|98|Thread-17|2023-06-01 21:16:25.909 EDT|SSLCipher.java:487|Transformation AES/GCM/NoPadding is not available.\n\nSEVERE:   javax.net.ssl|FINE|98|Thread-17|2023-06-01 21:16:25.911 EDT|SSLCipher.java:487|Transformation AES/GCM/NoPadding is not available.\n\nSEVERE:   javax.net.ssl|FINE|98|Thread-17|2023-06-01 21:16:25.912 EDT|SSLCipher.java:487|Transformation AES/GCM/NoPadding is not available.\n\nSEVERE:   javax.net.ssl|FINE|98|Thread-17|2023-06-01 21:16:25.913 EDT|SSLCipher.java:438|jdk.tls.keyLimits:  entry = AES/GCM/NoPadding KeyUpdate 2^37. AES/GCM/NOPADDING:KEYUPDATE = 137438953472\n\nSEVERE:   javax.net.ssl|FINE|98|Thread-17|2023-06-01 21:16:25.922 EDT|SSLContextImpl.java:399|Ignore disabled cipher suite: TLS_RSA_WITH_NULL_SHA256\n\nSEVERE:   javax.net.ssl|ALL|98|Thread-17|2023-06-01 21:16:25.923 EDT|SSLContextImpl.java:408|Ignore unsupported cipher suite: TLS_RSA_WITH_NULL_SHA256\n\nSEVERE:   javax.net.ssl|FINE|98|Thread-17|2023-06-01 21:16:25.923 EDT|SSLContextImpl.java:399|Ignore disabled cipher suite: SSL_RSA_WITH_NULL_SHA\n\nSEVERE:   javax.net.ssl|ALL|98|Thread-17|2023-06-01 21:16:25.923 EDT|SSLContextImpl.java:408|Ignore unsupported cipher suite: SSL_RSA_WITH_NULL_SHA\n\nSEVERE:   javax.net.ssl|FINE|98|Thread-17|2023-06-01 21:16:25.924 EDT|SSLContextImpl.java:399|Ignore disabled cipher suite: SSL_RSA_WITH_NULL_MD5\n\nSEVERE:   javax.net.ssl|ALL|98|Thread-17|2023-06-01 21:16:25.924 EDT|SSLContextImpl.java:408|Ignore unsupported cipher suite: SSL_RSA_WITH_NULL_MD5\n</code></pre>\n"},{"tags":["java","groovy","proxy","ant"],"answers":[{"tags":[],"owner":{"account_id":5068950,"reputation":2396,"user_id":4068278,"display_name":"3ch01c"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685668598,"creation_date":1685668598,"answer_id":76386591,"question_id":76386589,"body_markdown":"Found the answer [here](https://www.infallibletechie.com/2014/06/how-to-set-proxy-settings-in-ant.html).\r\n\r\nAdded the `&lt;setproxy&gt;` directive to the `resolve` target in `build.xml`.\r\n\r\n```xml\r\n&lt;target name=&quot;resolve&quot; description=&quot;--&gt; retrieve dependencies with ivy&quot;&gt;\r\n  &lt;setproxy proxyhost=&quot;proxy.example.com&quot; proxyport=&quot;8080&quot; /&gt;\r\n  &lt;ivy:retrieve /&gt;\r\n&lt;/target&gt;\r\n```","title":"How to set Proxy Settings in Ant deployment","body":"<p>Found the answer <a href=\"https://www.infallibletechie.com/2014/06/how-to-set-proxy-settings-in-ant.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Added the <code>&lt;setproxy&gt;</code> directive to the <code>resolve</code> target in <code>build.xml</code>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;target name=&quot;resolve&quot; description=&quot;--&gt; retrieve dependencies with ivy&quot;&gt;\n  &lt;setproxy proxyhost=&quot;proxy.example.com&quot; proxyport=&quot;8080&quot; /&gt;\n  &lt;ivy:retrieve /&gt;\n&lt;/target&gt;\n</code></pre>\n"}],"owner":{"account_id":5068950,"reputation":2396,"user_id":4068278,"display_name":"3ch01c"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685668598,"creation_date":1685668417,"question_id":76386589,"body_markdown":"I&#39;m trying to build this project [groovyldap](https://dzone.com/articles/programming-ldap-groovy).\r\n\r\nI believe I&#39;m running into a proxy issue.\r\n\r\n```sh\r\n$ ant\r\nBuildfile: /Users/user/Projects/groovyldap/build.xml\r\n\r\nprepare:\r\n\r\nresolve:\r\n[ivy:retrieve] :: Apache Ivy 2.5.1 - 20221101102211 :: https://ant.apache.org/ivy/ ::\r\n[ivy:retrieve] :: loading settings :: url = jar:file:/usr/local/Cellar/ant/1.10.13/libexec/lib/ivy-2.5.1.jar!/org/apache/ivy/core/settings/ivysettings.xml\r\n[ivy:retrieve] :: resolving dependencies :: Apache Directory Project#groovyldap;working@redacted.example.com\r\n[ivy:retrieve]  confs: [default]\r\n[ivy:retrieve] :: resolution report :: resolve 494ms :: artifacts dl 0ms\r\n        ---------------------------------------------------------------------\r\n        |                  |            modules            ||   artifacts   |\r\n        |       conf       | number| search|dwnlded|evicted|| number|dwnlded|\r\n        ---------------------------------------------------------------------\r\n        |      default     |   1   |   0   |   0   |   0   ||   0   |   0   |\r\n        ---------------------------------------------------------------------\r\n[ivy:retrieve] \r\n[ivy:retrieve] :: problems summary ::\r\n[ivy:retrieve] :::: WARNINGS\r\n[ivy:retrieve]          module not found: groovy#groovy;1.0\r\n[ivy:retrieve]  ==== local: tried\r\n[ivy:retrieve]    /Users/user/.ivy2/local/groovy/groovy/1.0/ivys/ivy.xml\r\n[ivy:retrieve]    -- artifact groovy#groovy;1.0!groovy.jar:\r\n[ivy:retrieve]    /Users/user/.ivy2/local/groovy/groovy/1.0/jars/groovy.jar\r\n[ivy:retrieve]  ==== shared: tried\r\n[ivy:retrieve]    /Users/user/.ivy2/shared/groovy/groovy/1.0/ivys/ivy.xml\r\n[ivy:retrieve]    -- artifact groovy#groovy;1.0!groovy.jar:\r\n[ivy:retrieve]    /Users/user/.ivy2/shared/groovy/groovy/1.0/jars/groovy.jar\r\n[ivy:retrieve]  ==== public: tried\r\n[ivy:retrieve]    https://repo1.maven.org/maven2/groovy/groovy/1.0/groovy-1.0.pom\r\n[ivy:retrieve]    -- artifact groovy#groovy;1.0!groovy.jar:\r\n[ivy:retrieve]    https://repo1.maven.org/maven2/groovy/groovy/1.0/groovy-1.0.jar\r\n[ivy:retrieve]          ::::::::::::::::::::::::::::::::::::::::::::::\r\n[ivy:retrieve]          ::          UNRESOLVED DEPENDENCIES         ::\r\n[ivy:retrieve]          ::::::::::::::::::::::::::::::::::::::::::::::\r\n[ivy:retrieve]          :: groovy#groovy;1.0: not found\r\n[ivy:retrieve]          ::::::::::::::::::::::::::::::::::::::::::::::\r\n[ivy:retrieve] :::: ERRORS\r\n[ivy:retrieve]  Server access error at url https://repo1.maven.org/maven2/groovy/groovy/1.0/groovy-1.0.pom (java.net.ConnectException: Connection refused)\r\n[ivy:retrieve]  Server access error at url https://repo1.maven.org/maven2/groovy/groovy/1.0/groovy-1.0.jar (java.net.ConnectException: Connection refused)\r\n[ivy:retrieve] \r\n[ivy:retrieve] :: USE VERBOSE OR DEBUG MESSAGE LEVEL FOR MORE DETAILS\r\n\r\nBUILD FAILED\r\n/Users/user/Projects/groovyldap/build.xml:43: impossible to resolve dependencies:\r\n        resolve failed - see output for details\r\n\r\nTotal time: 1 second\r\n```\r\n\r\nHow do I set a proxy in Ant deployment?\r\n\r\nI was expecting Ant to use system environment variables.","title":"How to set Proxy Settings in Ant deployment","body":"<p>I'm trying to build this project <a href=\"https://dzone.com/articles/programming-ldap-groovy\" rel=\"nofollow noreferrer\">groovyldap</a>.</p>\n<p>I believe I'm running into a proxy issue.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ ant\nBuildfile: /Users/user/Projects/groovyldap/build.xml\n\nprepare:\n\nresolve:\n[ivy:retrieve] :: Apache Ivy 2.5.1 - 20221101102211 :: https://ant.apache.org/ivy/ ::\n[ivy:retrieve] :: loading settings :: url = jar:file:/usr/local/Cellar/ant/1.10.13/libexec/lib/ivy-2.5.1.jar!/org/apache/ivy/core/settings/ivysettings.xml\n[ivy:retrieve] :: resolving dependencies :: Apache Directory Project#groovyldap;working@redacted.example.com\n[ivy:retrieve]  confs: [default]\n[ivy:retrieve] :: resolution report :: resolve 494ms :: artifacts dl 0ms\n        ---------------------------------------------------------------------\n        |                  |            modules            ||   artifacts   |\n        |       conf       | number| search|dwnlded|evicted|| number|dwnlded|\n        ---------------------------------------------------------------------\n        |      default     |   1   |   0   |   0   |   0   ||   0   |   0   |\n        ---------------------------------------------------------------------\n[ivy:retrieve] \n[ivy:retrieve] :: problems summary ::\n[ivy:retrieve] :::: WARNINGS\n[ivy:retrieve]          module not found: groovy#groovy;1.0\n[ivy:retrieve]  ==== local: tried\n[ivy:retrieve]    /Users/user/.ivy2/local/groovy/groovy/1.0/ivys/ivy.xml\n[ivy:retrieve]    -- artifact groovy#groovy;1.0!groovy.jar:\n[ivy:retrieve]    /Users/user/.ivy2/local/groovy/groovy/1.0/jars/groovy.jar\n[ivy:retrieve]  ==== shared: tried\n[ivy:retrieve]    /Users/user/.ivy2/shared/groovy/groovy/1.0/ivys/ivy.xml\n[ivy:retrieve]    -- artifact groovy#groovy;1.0!groovy.jar:\n[ivy:retrieve]    /Users/user/.ivy2/shared/groovy/groovy/1.0/jars/groovy.jar\n[ivy:retrieve]  ==== public: tried\n[ivy:retrieve]    https://repo1.maven.org/maven2/groovy/groovy/1.0/groovy-1.0.pom\n[ivy:retrieve]    -- artifact groovy#groovy;1.0!groovy.jar:\n[ivy:retrieve]    https://repo1.maven.org/maven2/groovy/groovy/1.0/groovy-1.0.jar\n[ivy:retrieve]          ::::::::::::::::::::::::::::::::::::::::::::::\n[ivy:retrieve]          ::          UNRESOLVED DEPENDENCIES         ::\n[ivy:retrieve]          ::::::::::::::::::::::::::::::::::::::::::::::\n[ivy:retrieve]          :: groovy#groovy;1.0: not found\n[ivy:retrieve]          ::::::::::::::::::::::::::::::::::::::::::::::\n[ivy:retrieve] :::: ERRORS\n[ivy:retrieve]  Server access error at url https://repo1.maven.org/maven2/groovy/groovy/1.0/groovy-1.0.pom (java.net.ConnectException: Connection refused)\n[ivy:retrieve]  Server access error at url https://repo1.maven.org/maven2/groovy/groovy/1.0/groovy-1.0.jar (java.net.ConnectException: Connection refused)\n[ivy:retrieve] \n[ivy:retrieve] :: USE VERBOSE OR DEBUG MESSAGE LEVEL FOR MORE DETAILS\n\nBUILD FAILED\n/Users/user/Projects/groovyldap/build.xml:43: impossible to resolve dependencies:\n        resolve failed - see output for details\n\nTotal time: 1 second\n</code></pre>\n<p>How do I set a proxy in Ant deployment?</p>\n<p>I was expecting Ant to use system environment variables.</p>\n"},{"tags":["java","exception","intellij-idea","makefile","runtime-error"],"comments":[{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1685665795,"post_id":76385935,"comment_id":134696383,"body_markdown":"The Jar file specification describes [how the `Class-Path` entry in a Jar manifest is interpreted](https://docs.oracle.com/en/java/javase/20/docs/specs/jar/jar.html#class-path-attribute).  You haven&#39;t provided enough information to inform a definitive answer, but my guess would be that you have not appreciated that entries are interpreted relative to the Jar.  If that doesn&#39;t help, then please add the relative details of filesystem layout and Jar manifest to the question.","body":"The Jar file specification describes <a href=\"https://docs.oracle.com/en/java/javase/20/docs/specs/jar/jar.html#class-path-attribute\" rel=\"nofollow noreferrer\">how the <code>Class-Path</code> entry in a Jar manifest is interpreted</a>.  You haven&#39;t provided enough information to inform a definitive answer, but my guess would be that you have not appreciated that entries are interpreted relative to the Jar.  If that doesn&#39;t help, then please add the relative details of filesystem layout and Jar manifest to the question."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1685666040,"post_id":76385935,"comment_id":134696409,"body_markdown":"Note also that you can include a `-classpath` on the `java -jar` command line when you launch your application.  This is more flexible than recording a classpath in the Jar manifest, because entries are interpreted relative to the filesystem root, not to the jar, and because you can choose a different classpath without modifying the Jar.  To avoid having to remember or type a classpath every time, you could consider writing a wrapper script.","body":"Note also that you can include a <code>-classpath</code> on the <code>java -jar</code> command line when you launch your application.  This is more flexible than recording a classpath in the Jar manifest, because entries are interpreted relative to the filesystem root, not to the jar, and because you can choose a different classpath without modifying the Jar.  To avoid having to remember or type a classpath every time, you could consider writing a wrapper script."},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1685692227,"post_id":76385935,"comment_id":134699359,"body_markdown":"Try to convert GUI forms into Java source code as per https://stackoverflow.com/a/13744911/12844632 and rebuild the project. \n\nThen add IDEA_HOME\\lib\\forms_rt.jar to the classpath and run the project from the command line.","body":"Try to convert GUI forms into Java source code as per <a href=\"https://stackoverflow.com/a/13744911/12844632\">stackoverflow.com/a/13744911/12844632</a> and rebuild the project.   Then add IDEA_HOME\\lib\\forms_rt.jar to the classpath and run the project from the command line."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1685701231,"post_id":76385935,"comment_id":134701160,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":26942959,"reputation":11,"user_id":20513423,"display_name":"Javier"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685665242,"creation_date":1685656172,"question_id":76385935,"body_markdown":"**Error when executing my java application.**\r\n\r\nI have made a project using IntelliJ Idea, which uses forms for its UI. I want to be able to compile and execute the program via a Makefile, without having to use the IDE.  I found out that I needed to generate source code from the forms using the IDE. Also, I found out that a library called forms_rt.jar was necessary to use some lines of the source code generated.  I put this library into the compilation classpath, and compiled the program without any problem. But when I execute the jar, a message appears saying that the classes of this library are not found. (I have tried to add the class path of the library also to the manifest file).\r\nWhy aren&#39;t the library&#39;s classes found?","title":"Why are the classes from forms_rt.jar not found when executing my Java application via Makefile?","body":"<p><strong>Error when executing my java application.</strong></p>\n<p>I have made a project using IntelliJ Idea, which uses forms for its UI. I want to be able to compile and execute the program via a Makefile, without having to use the IDE.  I found out that I needed to generate source code from the forms using the IDE. Also, I found out that a library called forms_rt.jar was necessary to use some lines of the source code generated.  I put this library into the compilation classpath, and compiled the program without any problem. But when I execute the jar, a message appears saying that the classes of this library are not found. (I have tried to add the class path of the library also to the manifest file).\nWhy aren't the library's classes found?</p>\n"},{"tags":["java","error-handling","software-design"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685666035,"post_id":76386463,"comment_id":134696408,"body_markdown":"One thing to keep in mind is how often you expect an _exception_ to take place.  If it&#39;s  a common occurrence then I imagine there is an alternate design that could be used.  Additionally, will the exception lead to the program&#39;s exit, or, is it utilized as a conditional.","body":"One thing to keep in mind is how often you expect an <i>exception</i> to take place.  If it&#39;s  a common occurrence then I imagine there is an alternate design that could be used.  Additionally, will the exception lead to the program&#39;s exit, or, is it utilized as a conditional."},{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":0,"creation_date":1685666728,"post_id":76386463,"comment_id":134696471,"body_markdown":"The question is not exaclty an specific problem. This could end in an opinion based discussion (which I personally like, but this is not the right place). Maybe [this answer](https://meta.stackoverflow.com/a/253111/7214091) about &quot;too broad questiosn&quot; could help you. Also, for java 8 you have the library [vavr](https://www.vavr.io/) which offers the [Try class](https://docs.vavr.io/#_try) that if I&#39;m not wrong is doing something similar on what you are asking","body":"The question is not exaclty an specific problem. This could end in an opinion based discussion (which I personally like, but this is not the right place). Maybe <a href=\"https://meta.stackoverflow.com/a/253111/7214091\">this answer</a> about &quot;too broad questiosn&quot; could help you. Also, for java 8 you have the library <a href=\"https://www.vavr.io/\" rel=\"nofollow noreferrer\">vavr</a> which offers the <a href=\"https://docs.vavr.io/#_try\" rel=\"nofollow noreferrer\">Try class</a> that if I&#39;m not wrong is doing something similar on what you are asking"},{"owner":{"account_id":9950939,"reputation":21,"user_id":7363624,"display_name":"lux_piromani"},"score":0,"creation_date":1685708994,"post_id":76386463,"comment_id":134702708,"body_markdown":"@Reilas i suppose, if used like this, the exceptions would be used frequently. This is why I think in java it would be considered an &quot;abuse&quot; of the exceptions.\nBut (from a syntactical point of view at least) they look better then the other solutions.","body":"@Reilas i suppose, if used like this, the exceptions would be used frequently. This is why I think in java it would be considered an &quot;abuse&quot; of the exceptions. But (from a syntactical point of view at least) they look better then the other solutions."},{"owner":{"account_id":9950939,"reputation":21,"user_id":7363624,"display_name":"lux_piromani"},"score":0,"creation_date":1685709004,"post_id":76386463,"comment_id":134702710,"body_markdown":"@Gast&#243;nSchabas yes I feared the question was going to be be a bit too broad but I didn&#39;t know the other websites.\nI&#39;ll definitly follow your advice and move it somewhere else (softwareengineering looks like the right place).\nShould I delete this one or leave it?","body":"@Gast&#243;nSchabas yes I feared the question was going to be be a bit too broad but I didn&#39;t know the other websites. I&#39;ll definitly follow your advice and move it somewhere else (softwareengineering looks like the right place). Should I delete this one or leave it?"},{"owner":{"account_id":9950939,"reputation":21,"user_id":7363624,"display_name":"lux_piromani"},"score":0,"creation_date":1685730934,"post_id":76386463,"comment_id":134707448,"body_markdown":"I moved the question to SoftwareEngineering. https://softwareengineering.stackexchange.com/questions/445866/choosing-a-strategy-for-representing-and-handling-errors-or-more-generally-stat","body":"I moved the question to SoftwareEngineering. <a href=\"https://softwareengineering.stackexchange.com/questions/445866/choosing-a-strategy-for-representing-and-handling-errors-or-more-generally-stat\" title=\"choosing a strategy for representing and handling errors or more generally stat\">softwareengineering.stackexchange.com/questions/445866/&hellip;</a>"}],"owner":{"account_id":9950939,"reputation":21,"user_id":7363624,"display_name":"lux_piromani"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685665214,"creation_date":1685665214,"question_id":76386463,"body_markdown":"This question has been asked many times but I couldn&#39;t find a satisfying answer.\r\n\r\nI am trying to find a way to handle errors in java 8 without limiting too much the shape of the error.\r\n\r\nA generic procedure which retrieves data from different sources and produces a result of type T might look like this:\r\n\r\n```\r\nT procedure(p) {\r\n    A a = sourceA.get(p);\r\n    B b = sourceB.get(p,a);\r\n    C c = sourceC.get(p,a,b)\r\n    return new T(p,a,b,c);\r\n}\r\n```\r\n\r\nAll these sources can fail to return a result, so I am trying to find a &quot;general enough&quot; solution to handle the possible errors.\r\n\r\nTo choose the &quot;strategy&quot; I am focusing on three main non-indipendent concerns:\r\n1. how the error is returned to the caller\r\n2. how the error is handled\r\n3. how much freedom I have in the representation of the error\r\n\r\nThere are essentially 2 strategies I can think of:\r\n\r\n**Result object**.\r\nThis is essentially a wrapper object (Result\\&lt;E,T\\&gt; or Result\\&lt;T\\&gt;) which contains a &quot;response code&quot; and, optionally, a value of type T if everything worked fine.\r\n\r\nThis solution allows for the error to be returned in a &quot;procedural&quot; fashion\r\n```\r\nResult&lt;T&gt; procedure(p) {\r\n    Result&lt;A&gt; resA = sourceA.get(p);\r\n    if (!resA.isOK())\r\n        return Result.of(resA.getCode())\r\n    A a = resA.getValue();\r\n    Result&lt;B&gt; resB = sourceB.get(p,a);\r\n    if (!resB.isOK())\r\n        return Result.of(resB.getCode())\r\n    B b = resB.getValue();\r\n    Result&lt;C&gt; resC = sourceC.get(p,a,b)\r\n    if (!resC.isOK())\r\n        return Result.of(resC.getCode())\r\n    C c = resC.getValue();\r\n    return Result.of(new T(p,a,b,c));\r\n}\r\n```\r\nor in a &quot;functional&quot; one.\r\n```\r\nResult&lt;T&gt; procedure(p) {\r\n    return sourceA.get(p)\r\n        .flatMap(a -&gt; sourceB.get(p,a)\r\n            .flatMap(b -&gt; sourceC.get(p,a,b)\r\n                .flatMap(c -&gt; Result.of(new T(p,a,b,c))));\r\n}\r\n```\r\n\r\nThe functional solution is &quot;conceptually&quot; cleaner but a lot harder to read and i think it looks a bit out of place in java. The procedural one looks fine but it&#39;s a lot more prone to programming error considering that no one forces you to check the result with isOK before calling getValue/getCode.\r\n\r\nHere the handling depends directly on how I choose to represent the error/status.\r\nThe simplest solution would be to use an enum. In that case the caller would handle everything with a switch-case\r\n\r\n```\r\nResult&lt;T&gt; procedureResult = precedure(p);\r\nif (procedureResult.isOK()){ ...do stuff... }\r\nelse {\r\n    switch(procedureResult.getCode()) {\r\n        case CODE1 : ...\r\n        case CODE2 : ...\r\n        ...\r\n        default : ...\r\n    }\r\n}\r\n```\r\n\r\nThis is a bit limiting because enums are not very customizable. If I need different data for different errors, I have to define one class for each error which would not be a problem if it wasn&#39;t for the complexity required to handle the cases.\r\nThe only way to handle errors belonging to different classes I can think of is to use what is essentially a visitor pattern and I would like to avoid it.\r\nI am not the only one working on the code and how to use correctly the pattern is something that needs to be learned and I know for a fact no one can be bothered to do it.\r\n\r\nA variation on this might be some sort of C-like status:\r\n```\r\nStatus precedure(p, resultContainer)\r\n```\r\nOr an &quot;inverted&quot; version of the same idea:\r\n```\r\nOptional&lt;T&gt; precedure(p, statusContainer)\r\n```\r\n\r\nBut they present the same issues as Result and more.\r\n\r\n**Checked Exceptions**.\r\nHere the errors can have whatever shape they want and are easily returned and handled with the famous goto shenanigans.\r\n\r\n\r\n```\r\nT procedure(p) throws SourceAException1, SourceAException2, SourceBException {\r\n    A a = sourceA.get(p);\r\n    B b = sourceB.get(p,a);\r\n    C c = sourceC.get(p,a,b)\r\n    return new T(p,a,b,c);\r\n}\r\n```\r\n\r\n```\r\ntry {\r\n    T = procedure(p);\r\n}\r\ncatch(SourceAException1 sae1){ ... }\r\ncatch(SourceAException2 seae2){ ... }\r\ncatch(SourceBException sbe){ ... }\r\n```\r\n\r\nOn paper this look like the better solution (note that I like the &quot;errors annotations&quot; in the method signature even if it&#39;s a bit verbose) but there are 2 problems:\r\n1. in java using exception as an &quot;alternative return&quot; is considered bad practice (by some an anti-pattern even) because an exception signals an exceptional occurrence and should not be used for &quot;expected behaviour&quot;.\r\n\r\nThis might actually be just a matter of preference. What worries me is:\r\n\r\n2. the exceptions are slow. From what I found it seems this is caused by the construction of the stack trace.\r\nIn order to alleviate this problem I found out that you can make the stacktrace non-writable but this looks very non-standard and I am not even sure it would make that much of a difference.\r\n\r\n\r\nSo, at the end of all this, my questions are:\r\n1. do you know a better solution to a similar problem which solves some of this issues?\r\n2. Is the checked exceptions with non-writable stacktrace a bad idea?\r\n","title":"How to implement error handling in Java 8 when dealing with different kind of errors from different sources?","body":"<p>This question has been asked many times but I couldn't find a satisfying answer.</p>\n<p>I am trying to find a way to handle errors in java 8 without limiting too much the shape of the error.</p>\n<p>A generic procedure which retrieves data from different sources and produces a result of type T might look like this:</p>\n<pre><code>T procedure(p) {\n    A a = sourceA.get(p);\n    B b = sourceB.get(p,a);\n    C c = sourceC.get(p,a,b)\n    return new T(p,a,b,c);\n}\n</code></pre>\n<p>All these sources can fail to return a result, so I am trying to find a &quot;general enough&quot; solution to handle the possible errors.</p>\n<p>To choose the &quot;strategy&quot; I am focusing on three main non-indipendent concerns:</p>\n<ol>\n<li>how the error is returned to the caller</li>\n<li>how the error is handled</li>\n<li>how much freedom I have in the representation of the error</li>\n</ol>\n<p>There are essentially 2 strategies I can think of:</p>\n<p><strong>Result object</strong>.\nThis is essentially a wrapper object (Result&lt;E,T&gt; or Result&lt;T&gt;) which contains a &quot;response code&quot; and, optionally, a value of type T if everything worked fine.</p>\n<p>This solution allows for the error to be returned in a &quot;procedural&quot; fashion</p>\n<pre><code>Result&lt;T&gt; procedure(p) {\n    Result&lt;A&gt; resA = sourceA.get(p);\n    if (!resA.isOK())\n        return Result.of(resA.getCode())\n    A a = resA.getValue();\n    Result&lt;B&gt; resB = sourceB.get(p,a);\n    if (!resB.isOK())\n        return Result.of(resB.getCode())\n    B b = resB.getValue();\n    Result&lt;C&gt; resC = sourceC.get(p,a,b)\n    if (!resC.isOK())\n        return Result.of(resC.getCode())\n    C c = resC.getValue();\n    return Result.of(new T(p,a,b,c));\n}\n</code></pre>\n<p>or in a &quot;functional&quot; one.</p>\n<pre><code>Result&lt;T&gt; procedure(p) {\n    return sourceA.get(p)\n        .flatMap(a -&gt; sourceB.get(p,a)\n            .flatMap(b -&gt; sourceC.get(p,a,b)\n                .flatMap(c -&gt; Result.of(new T(p,a,b,c))));\n}\n</code></pre>\n<p>The functional solution is &quot;conceptually&quot; cleaner but a lot harder to read and i think it looks a bit out of place in java. The procedural one looks fine but it's a lot more prone to programming error considering that no one forces you to check the result with isOK before calling getValue/getCode.</p>\n<p>Here the handling depends directly on how I choose to represent the error/status.\nThe simplest solution would be to use an enum. In that case the caller would handle everything with a switch-case</p>\n<pre><code>Result&lt;T&gt; procedureResult = precedure(p);\nif (procedureResult.isOK()){ ...do stuff... }\nelse {\n    switch(procedureResult.getCode()) {\n        case CODE1 : ...\n        case CODE2 : ...\n        ...\n        default : ...\n    }\n}\n</code></pre>\n<p>This is a bit limiting because enums are not very customizable. If I need different data for different errors, I have to define one class for each error which would not be a problem if it wasn't for the complexity required to handle the cases.\nThe only way to handle errors belonging to different classes I can think of is to use what is essentially a visitor pattern and I would like to avoid it.\nI am not the only one working on the code and how to use correctly the pattern is something that needs to be learned and I know for a fact no one can be bothered to do it.</p>\n<p>A variation on this might be some sort of C-like status:</p>\n<pre><code>Status precedure(p, resultContainer)\n</code></pre>\n<p>Or an &quot;inverted&quot; version of the same idea:</p>\n<pre><code>Optional&lt;T&gt; precedure(p, statusContainer)\n</code></pre>\n<p>But they present the same issues as Result and more.</p>\n<p><strong>Checked Exceptions</strong>.\nHere the errors can have whatever shape they want and are easily returned and handled with the famous goto shenanigans.</p>\n<pre><code>T procedure(p) throws SourceAException1, SourceAException2, SourceBException {\n    A a = sourceA.get(p);\n    B b = sourceB.get(p,a);\n    C c = sourceC.get(p,a,b)\n    return new T(p,a,b,c);\n}\n</code></pre>\n<pre><code>try {\n    T = procedure(p);\n}\ncatch(SourceAException1 sae1){ ... }\ncatch(SourceAException2 seae2){ ... }\ncatch(SourceBException sbe){ ... }\n</code></pre>\n<p>On paper this look like the better solution (note that I like the &quot;errors annotations&quot; in the method signature even if it's a bit verbose) but there are 2 problems:</p>\n<ol>\n<li>in java using exception as an &quot;alternative return&quot; is considered bad practice (by some an anti-pattern even) because an exception signals an exceptional occurrence and should not be used for &quot;expected behaviour&quot;.</li>\n</ol>\n<p>This might actually be just a matter of preference. What worries me is:</p>\n<ol start=\"2\">\n<li>the exceptions are slow. From what I found it seems this is caused by the construction of the stack trace.\nIn order to alleviate this problem I found out that you can make the stacktrace non-writable but this looks very non-standard and I am not even sure it would make that much of a difference.</li>\n</ol>\n<p>So, at the end of all this, my questions are:</p>\n<ol>\n<li>do you know a better solution to a similar problem which solves some of this issues?</li>\n<li>Is the checked exceptions with non-writable stacktrace a bad idea?</li>\n</ol>\n"},{"tags":["java","unit-testing","intellij-idea","server","backend"],"answers":[{"tags":[],"owner":{"account_id":370140,"reputation":18565,"user_id":717898,"accept_rate":86,"display_name":"Andrew Lazarus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685665151,"creation_date":1685665151,"answer_id":76386459,"question_id":76385370,"body_markdown":"I&#39;m not sure why your code fails, but I think a more idiomatic approach is to use the &quot;We expect an exception here&quot; facility of the Test framework itself. If you are using JUnit, you can find an example [here][1].\r\n\r\n\r\n  [1]: https://www.baeldung.com/junit-assert-exception","title":"Intellij not recognizing fail cases as a successful test","body":"<p>I'm not sure why your code fails, but I think a more idiomatic approach is to use the &quot;We expect an exception here&quot; facility of the Test framework itself. If you are using JUnit, you can find an example <a href=\"https://www.baeldung.com/junit-assert-exception\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":28638631,"reputation":1,"user_id":21928234,"display_name":"Guilherme Guerra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685665151,"creation_date":1685650174,"question_id":76385370,"body_markdown":"I am currently working on a project where I have created some tests to test some failure responses from the server (e.g.: error 501, error 500, error 414...) but when I run those tests, the console gives me the exactly error I was expecting, but Intellij does not treat them as a success. Has somebody already experienced this?\r\n\r\n```java\r\n    @Test\r\n    void parseHttpRequestBadMethod1 () {\r\n        try {\r\n            HttpRequest request = httpParser.parseHttpRequest(generateBadTestCaseMethodName());\r\n            fail();\r\n        } catch  (HttpParsingException e) {\r\n            assertEquals(e.getErrorCode(), HttpStatusCode.SERVER_ERROR_501_NOT_IMPLEMENTED);\r\n        }\r\n    }\r\n```\r\n\r\n```Powershell\r\n16:53:34.351 [main] DEBUG com.gui.httpserver.http.HttpParser - Request Line METHOD to Process : GeT\r\n\r\njava.lang.RuntimeException: com.gui.httpserver.http.HttpParsingException: Not Implemented\r\n\r\n\tat com.gui.httpserver.http.HttpParser.parseHttpRequest(HttpParser.java:31)\r\n\tat com.gui.httpserver.http.HttpParserTest.parseHttpRequestBadMethod1(HttpParserTest.java:49)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nCaused by: com.gui.httpserver.http.HttpParsingException: Not Implemented\r\n\tat com.gui.httpserver.http.HttpRequest.setMethod(HttpRequest.java:26)\r\n\tat com.gui.httpserver.http.HttpParser.parseRequestLine(HttpParser.java:63)\r\n\tat com.gui.httpserver.http.HttpParser.parseHttpRequest(HttpParser.java:29)\r\n\t... 4 more\r\n\r\n```\r\n\r\nHere is the [repo](https://github.com/Lageh/Server_Java/tree/main) for the project I am currently working on. It is a very simple server using java core.\r\n\r\n\r\n\r\nI tried to wrap with some try/catch to try to catch the error and treat them as a successful test (once my main objective is to validate if the errors responses from the server are working) but it did not work as expected.","title":"Intellij not recognizing fail cases as a successful test","body":"<p>I am currently working on a project where I have created some tests to test some failure responses from the server (e.g.: error 501, error 500, error 414...) but when I run those tests, the console gives me the exactly error I was expecting, but Intellij does not treat them as a success. Has somebody already experienced this?</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    void parseHttpRequestBadMethod1 () {\n        try {\n            HttpRequest request = httpParser.parseHttpRequest(generateBadTestCaseMethodName());\n            fail();\n        } catch  (HttpParsingException e) {\n            assertEquals(e.getErrorCode(), HttpStatusCode.SERVER_ERROR_501_NOT_IMPLEMENTED);\n        }\n    }\n</code></pre>\n<pre><code>16:53:34.351 [main] DEBUG com.gui.httpserver.http.HttpParser - Request Line METHOD to Process : GeT\n\njava.lang.RuntimeException: com.gui.httpserver.http.HttpParsingException: Not Implemented\n\n    at com.gui.httpserver.http.HttpParser.parseHttpRequest(HttpParser.java:31)\n    at com.gui.httpserver.http.HttpParserTest.parseHttpRequestBadMethod1(HttpParserTest.java:49)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nCaused by: com.gui.httpserver.http.HttpParsingException: Not Implemented\n    at com.gui.httpserver.http.HttpRequest.setMethod(HttpRequest.java:26)\n    at com.gui.httpserver.http.HttpParser.parseRequestLine(HttpParser.java:63)\n    at com.gui.httpserver.http.HttpParser.parseHttpRequest(HttpParser.java:29)\n    ... 4 more\n\n</code></pre>\n<p>Here is the <a href=\"https://github.com/Lageh/Server_Java/tree/main\" rel=\"nofollow noreferrer\">repo</a> for the project I am currently working on. It is a very simple server using java core.</p>\n<p>I tried to wrap with some try/catch to try to catch the error and treat them as a successful test (once my main objective is to validate if the errors responses from the server are working) but it did not work as expected.</p>\n"},{"tags":["java","spring-boot","junit","mockito"],"owner":{"account_id":2500295,"reputation":1257,"user_id":2175604,"accept_rate":43,"display_name":"techie11"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1685667682,"answer_count":0,"score":0,"last_activity_date":1685664427,"creation_date":1685664427,"question_id":76386424,"body_markdown":"For a mock of NamedParameterJdbcTemplate\r\n\r\n    @Mock\r\n    NamedParameterJdbcTemplate template;\r\n\r\nI tried to stub it as follows:\r\n\r\n    doReturn(1L).when(template).queryForObject(Mockito.anyString(), Mockito.any(MapSqlParameterSource.class), Long.class);\r\n\r\n\r\nand got this error:\r\n\r\n\r\n     org.mockito.exceptions.misusing.InvalidUseOfMatchersException: \r\n     Invalid use of argument matchers!\r\n     3 matchers expected, 2 recorded:\r\n     -&gt; at com.bns.tds.api.mortgage.points.fulfillment.repository.dao.PointsIssuanceReconDaoTest.insertPointsIssuanceReconEntryNoProfile(PointsIssuanceReconDaoTest.java:59)\r\n     -&gt; at com.bns.tds.api.mortgage.points.fulfillment.repository.dao.PointsIssuanceReconDaoTest.insertPointsIssuanceReconEntryNoProfile(PointsIssuanceReconDaoTest.java:59)\r\n \r\n     This exception may occur if matchers are combined with raw values:\r\n         //incorrect:\r\n         someMethod(any(), &quot;raw String&quot;);\r\n     When using matchers, all arguments have to be provided by matchers.\r\n     For example:\r\n         //correct:\r\n         someMethod(any(), eq(&quot;String by matcher&quot;));\r\n\r\n\r\nWhat did I get wrong?\r\n\r\n","title":"InvalidUseOfMatchersException when stubbing a method","body":"<p>For a mock of NamedParameterJdbcTemplate</p>\n<pre><code>@Mock\nNamedParameterJdbcTemplate template;\n</code></pre>\n<p>I tried to stub it as follows:</p>\n<pre><code>doReturn(1L).when(template).queryForObject(Mockito.anyString(), Mockito.any(MapSqlParameterSource.class), Long.class);\n</code></pre>\n<p>and got this error:</p>\n<pre><code> org.mockito.exceptions.misusing.InvalidUseOfMatchersException: \n Invalid use of argument matchers!\n 3 matchers expected, 2 recorded:\n -&gt; at com.bns.tds.api.mortgage.points.fulfillment.repository.dao.PointsIssuanceReconDaoTest.insertPointsIssuanceReconEntryNoProfile(PointsIssuanceReconDaoTest.java:59)\n -&gt; at com.bns.tds.api.mortgage.points.fulfillment.repository.dao.PointsIssuanceReconDaoTest.insertPointsIssuanceReconEntryNoProfile(PointsIssuanceReconDaoTest.java:59)\n\n This exception may occur if matchers are combined with raw values:\n     //incorrect:\n     someMethod(any(), &quot;raw String&quot;);\n When using matchers, all arguments have to be provided by matchers.\n For example:\n     //correct:\n     someMethod(any(), eq(&quot;String by matcher&quot;));\n</code></pre>\n<p>What did I get wrong?</p>\n"},{"tags":["java","performance"],"comments":[{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1685663113,"post_id":76386337,"comment_id":134696158,"body_markdown":"If a,b,c,d don’t add up to 20, then there’s no point in continuing  the `for`  loops for the rest - put an `if` test there, or replace the `for` loop for d and instead calculate d directly.  Ditto for the other conditions.","body":"If a,b,c,d don’t add up to 20, then there’s no point in continuing  the <code>for</code>  loops for the rest - put an <code>if</code> test there, or replace the <code>for</code> loop for d and instead calculate d directly.  Ditto for the other conditions."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685663985,"post_id":76386337,"comment_id":134696227,"body_markdown":"When you say _&quot;1 through 12 where numbers in places 1-4 add to 20&quot;_, what do you mean by _&quot;in places 1-4&quot;_.  Are you referring to the first 4 digits?","body":"When you say <i>&quot;1 through 12 where numbers in places 1-4 add to 20&quot;</i>, what do you mean by <i>&quot;in places 1-4&quot;</i>.  Are you referring to the first 4 digits?"},{"owner":{"account_id":28720712,"reputation":87,"user_id":21994504,"display_name":"Cortard"},"score":0,"creation_date":1685804640,"post_id":76386337,"comment_id":134713917,"body_markdown":"Are you sure your puzzle have a solution ? I made a program to look for them but I couldn&#39;t find any. I can give you this code as answer if you want it.","body":"Are you sure your puzzle have a solution ? I made a program to look for them but I couldn&#39;t find any. I can give you this code as answer if you want it."},{"owner":{"account_id":25879420,"reputation":1,"user_id":19608789,"display_name":"Elias Krasny"},"score":0,"creation_date":1685925453,"post_id":76386337,"comment_id":134724611,"body_markdown":"@racraman, this worked! Thanks for the help. I ended up putting lots of points checking conditions in the loops.","body":"@racraman, this worked! Thanks for the help. I ended up putting lots of points checking conditions in the loops."},{"owner":{"account_id":25879420,"reputation":1,"user_id":19608789,"display_name":"Elias Krasny"},"score":0,"creation_date":1685925771,"post_id":76386337,"comment_id":134724636,"body_markdown":"@Cortard, I was able to get some solutions(624 of them). Thanks for the offer. I can send you the code if you are interested.","body":"@Cortard, I was able to get some solutions(624 of them). Thanks for the offer. I can send you the code if you are interested."},{"owner":{"account_id":28720712,"reputation":87,"user_id":21994504,"display_name":"Cortard"},"score":0,"creation_date":1685946249,"post_id":76386337,"comment_id":134726215,"body_markdown":"@EliasKrasny, happy for you. Yes please","body":"@EliasKrasny, happy for you. Yes please"}],"owner":{"account_id":25879420,"reputation":1,"user_id":19608789,"display_name":"Elias Krasny"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685662677,"creation_date":1685662677,"question_id":76386337,"body_markdown":"So I have this code  \r\n```\r\nfor(int a = 1; a &lt;= 12; a++){\r\n            for(int b = 1; b &lt;= 12; b++){\r\n                for(int c = 1; c &lt;= 12; c++){\r\n                    for(int d = 1; d &lt;= 12; d++){\r\n                        for(int e = 1; e &lt;=12; e++){\r\n                            for(int f = 1; f &lt;=12; f++){\r\n                                for(int g = 1; g &lt;=12; g++){\r\n                                    for(int h = 1; h &lt;=12; h++){\r\n                                        for(int i = 1; i &lt;=12; i++){\r\n                                            for(int j = 1; j &lt;=12; j++){\r\n                                                //does something...\r\n                                             \r\n```\r\nYes, it is ugly, but I am more focused on efficiency. I am trying to find 10 numbers, which can be numbers 1 through 12 where numbers in places 1-4 add to 20, numbers in places 4-6 add to 20, numbers in places 7-9 add to 20, and numbers in places 9, 10, and 1 add to 20(trying to solve a puzzle I saw by code). No number can be repeated. \r\n\r\n\r\nHere is a visualization of the puzzle: \r\n\r\n\r\n```\r\na b c d \r\nj     e  //a+b+c+d need to = 20, same with d+e+f, f+g+h+i, and i+j+a, and no number 1-12 can be \r\nI h g f  //repeated\r\n```\r\n\r\n\r\nI thought a way to approach it would be by trying all possible combinations with nested until one works, but this was something my computer was not able to do, in a timely fashion that is. I have been struggling with how to speed this up. \r\n\r\nI had another way I attempted it although more complex, I think would be faster, but I struggled to get it to work. This was finding all 4 number combinations of numbers 1-12, that add to 20, and the same with all 3 number combinations of numbers 1-12 that add to 20. Then seeing which combinations of those combinations worked. Is this a better approach? If not how can I improve what I have?","title":"I have 10 nested for loops, all iterating 12 time, which is too many iterations (12^10 I believe) for my computer. How can I make it more efficient","body":"<p>So I have this code</p>\n<pre><code>for(int a = 1; a &lt;= 12; a++){\n            for(int b = 1; b &lt;= 12; b++){\n                for(int c = 1; c &lt;= 12; c++){\n                    for(int d = 1; d &lt;= 12; d++){\n                        for(int e = 1; e &lt;=12; e++){\n                            for(int f = 1; f &lt;=12; f++){\n                                for(int g = 1; g &lt;=12; g++){\n                                    for(int h = 1; h &lt;=12; h++){\n                                        for(int i = 1; i &lt;=12; i++){\n                                            for(int j = 1; j &lt;=12; j++){\n                                                //does something...\n                                             \n</code></pre>\n<p>Yes, it is ugly, but I am more focused on efficiency. I am trying to find 10 numbers, which can be numbers 1 through 12 where numbers in places 1-4 add to 20, numbers in places 4-6 add to 20, numbers in places 7-9 add to 20, and numbers in places 9, 10, and 1 add to 20(trying to solve a puzzle I saw by code). No number can be repeated.</p>\n<p>Here is a visualization of the puzzle:</p>\n<pre><code>a b c d \nj     e  //a+b+c+d need to = 20, same with d+e+f, f+g+h+i, and i+j+a, and no number 1-12 can be \nI h g f  //repeated\n</code></pre>\n<p>I thought a way to approach it would be by trying all possible combinations with nested until one works, but this was something my computer was not able to do, in a timely fashion that is. I have been struggling with how to speed this up.</p>\n<p>I had another way I attempted it although more complex, I think would be faster, but I struggled to get it to work. This was finding all 4 number combinations of numbers 1-12, that add to 20, and the same with all 3 number combinations of numbers 1-12 that add to 20. Then seeing which combinations of those combinations worked. Is this a better approach? If not how can I improve what I have?</p>\n"},{"tags":["java","reflection","enums"],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685562762,"creation_date":1685562762,"answer_id":76376827,"question_id":76376664,"body_markdown":"Local classes, enums and interfaces don&#39;t have a qualified name. Just a simple name. In your case: `Shape`\r\n\r\nFrom: [https://docs.oracle.com/javase/specs/jls/se15/preview/specs/local-statics-jls.html#jls-14.3][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se15/preview/specs/local-statics-jls.html#jls-14.3","title":"What is the fully qualified class name of an enum defined locally within a method?","body":"<p>Local classes, enums and interfaces don't have a qualified name. Just a simple name. In your case: <code>Shape</code></p>\n<p>From: <a href=\"https://docs.oracle.com/javase/specs/jls/se15/preview/specs/local-statics-jls.html#jls-14.3\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jls/se15/preview/specs/local-statics-jls.html#jls-14.3</a></p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685662583,"creation_date":1685579520,"answer_id":76378019,"question_id":76376664,"body_markdown":"I gleaned the following info from the comments on the [Answer by Mar-Z][1].\r\n\r\n# `Class#getName`\r\n\r\nYou can discover the name of the class in question by interrogating through Java code. Call [`Class#getName`][2], like this:\r\n\r\n    Shape.class.getName()\r\n\r\nExample:\r\n\r\n    System.out.println ( Shape.class.getName() );  \r\n\r\n&gt;work.basil.example.enums.EnumMagic$1Shape\r\n\r\nSo we can plug that into the Question’s code.\r\n\r\n```java\r\nenum Shape { CIRCLE, SQUARE }\r\ntry\r\n{\r\n    Class &lt; ? &gt; clazz = Class.forName ( &quot;work.basil.example.enums.EnumMagic$1Shape&quot; );\r\n    System.out.println ( &quot;clazz = &quot; + clazz );\r\n}\r\ncatch ( ClassNotFoundException e ) { throw new RuntimeException ( e ); }\r\n```\r\n\r\n&gt;clazz = class work.basil.example.enums.EnumMagic$1Shape\r\n\r\n**Caveat:** Unfortunately, this **hard-coded class name string is fragile**. The name could change in later builds of your code. See discussion in Comments below. \r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/76376827/642706\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Class.html#getName()","title":"What is the fully qualified class name of an enum defined locally within a method?","body":"<p>I gleaned the following info from the comments on the <a href=\"https://stackoverflow.com/a/76376827/642706\">Answer by Mar-Z</a>.</p>\n<h1><code>Class#getName</code></h1>\n<p>You can discover the name of the class in question by interrogating through Java code. Call <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Class.html#getName()\" rel=\"nofollow noreferrer\"><code>Class#getName</code></a>, like this:</p>\n<pre><code>Shape.class.getName()\n</code></pre>\n<p>Example:</p>\n<pre><code>System.out.println ( Shape.class.getName() );  \n</code></pre>\n<blockquote>\n<p>work.basil.example.enums.EnumMagic$1Shape</p>\n</blockquote>\n<p>So we can plug that into the Question’s code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>enum Shape { CIRCLE, SQUARE }\ntry\n{\n    Class &lt; ? &gt; clazz = Class.forName ( &quot;work.basil.example.enums.EnumMagic$1Shape&quot; );\n    System.out.println ( &quot;clazz = &quot; + clazz );\n}\ncatch ( ClassNotFoundException e ) { throw new RuntimeException ( e ); }\n</code></pre>\n<blockquote>\n<p>clazz = class work.basil.example.enums.EnumMagic$1Shape</p>\n</blockquote>\n<p><strong>Caveat:</strong> Unfortunately, this <strong>hard-coded class name string is fragile</strong>. The name could change in later builds of your code. See discussion in Comments below.</p>\n"}],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1685662583,"creation_date":1685560984,"question_id":76376664,"body_markdown":"As of Java 16, we can now define an enum locally, within a method. This feature came as part of the work for the new [records][1] feature. (Interfaces too can be local, by the way.)\r\n\r\nWhat is the fully-qualified name of such a locally-defined enum class? \r\n\r\nThe following code works if I were define the enum in a separate `.java` file. How should I change this fully-qualified class name for a local enum?\r\n\r\n```java\r\npackage work.basil.example.enums;\r\n\r\npublic class EnumMagic\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        EnumMagic app = new EnumMagic ( );\r\n        app.demo ( );\r\n    }\r\n\r\n    private void demo ( )\r\n    {\r\n        enum Shape { CIRCLE, SQUARE }\r\n        try\r\n        {\r\n            Class &lt; ? &gt; clazz = Class.forName ( &quot;work.basil.example.enums.Shape&quot; );\r\n            System.out.println ( &quot;clazz = &quot; + clazz );\r\n        }\r\n        catch ( ClassNotFoundException e ) { throw new RuntimeException ( e ); }\r\n    }\r\n}\r\n```\r\n\r\nAs currently written, I understandably get an `java.lang.ClassNotFoundException: work.basil.example.enums.Shape`. \r\n\r\nNeither of these work:\r\n\r\n - `&quot;work.basil.example.enums.EnumMagic.Shape&quot;`\r\n - `&quot;work.basil.example.enums.EnumMagic.$Shape&quot;`\r\n\r\n  [1]: https://openjdk.org/jeps/395","title":"What is the fully qualified class name of an enum defined locally within a method?","body":"<p>As of Java 16, we can now define an enum locally, within a method. This feature came as part of the work for the new <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">records</a> feature. (Interfaces too can be local, by the way.)</p>\n<p>What is the fully-qualified name of such a locally-defined enum class?</p>\n<p>The following code works if I were define the enum in a separate <code>.java</code> file. How should I change this fully-qualified class name for a local enum?</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.enums;\n\npublic class EnumMagic\n{\n    public static void main ( String[] args )\n    {\n        EnumMagic app = new EnumMagic ( );\n        app.demo ( );\n    }\n\n    private void demo ( )\n    {\n        enum Shape { CIRCLE, SQUARE }\n        try\n        {\n            Class &lt; ? &gt; clazz = Class.forName ( &quot;work.basil.example.enums.Shape&quot; );\n            System.out.println ( &quot;clazz = &quot; + clazz );\n        }\n        catch ( ClassNotFoundException e ) { throw new RuntimeException ( e ); }\n    }\n}\n</code></pre>\n<p>As currently written, I understandably get an <code>java.lang.ClassNotFoundException: work.basil.example.enums.Shape</code>.</p>\n<p>Neither of these work:</p>\n<ul>\n<li><code>&quot;work.basil.example.enums.EnumMagic.Shape&quot;</code></li>\n<li><code>&quot;work.basil.example.enums.EnumMagic.$Shape&quot;</code></li>\n</ul>\n"},{"tags":["java","spring-boot","junit","redis","integration-testing"],"comments":[{"owner":{"account_id":13735702,"reputation":170,"user_id":9912056,"display_name":"Carlos Eduardo Ilgenfritz"},"score":0,"creation_date":1685664914,"post_id":76386330,"comment_id":134696298,"body_markdown":"@Gast&#243;nSchabas Yes, it worked!!! Thanks, whas stuk in this problem for like 4 hours. If you want to make that coment into an response I can mark it as a answear.","body":"@Gast&#243;nSchabas Yes, it worked!!! Thanks, whas stuk in this problem for like 4 hours. If you want to make that coment into an response I can mark it as a answear."},{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":0,"creation_date":1685665581,"post_id":76386330,"comment_id":134696362,"body_markdown":"Thanks for the offer, but the idea is to avoid having [duplicated questions](https://stackoverflow.com/help/duplicates). The article explain very well the purpose of that","body":"Thanks for the offer, but the idea is to avoid having <a href=\"https://stackoverflow.com/help/duplicates\">duplicated questions</a>. The article explain very well the purpose of that"}],"owner":{"account_id":13735702,"reputation":170,"user_id":9912056,"display_name":"Carlos Eduardo Ilgenfritz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1685665075,"answer_count":0,"score":0,"last_activity_date":1685662522,"creation_date":1685662522,"question_id":76386330,"body_markdown":"I&#39;m trying to disable REDIS in the context of my integration tests, but I&#39;m not having success.\r\n\r\nWhenever I run the integration tests, SpringBoot starts saving the test data inside REDIS, which causes inconsistency and the tests fail.\r\n\r\nI have the following classes:\r\n\r\nGetDetailedBookDataIT contains the integration test\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    public class GetDetailedBookDataIT {\r\n    \r\n        @LocalServerPort\r\n        private int port;\r\n    \r\n        @Autowired\r\n        private BookRest bookRest;\r\n    \r\n        @Autowired\r\n        private RestTemplate restTemplate;\r\n    \r\n        @Mock\r\n        private GutendexHttpClient gutendexHttpClient;\r\n    \r\n        @InjectMocks\r\n        private GetDetailedBookData getDetailedBookData;\r\n    \r\n        @Test\r\n        public void it_should_get_detailed_book_data() {\r\n            String saveBookurl = &quot;http://localhost:&quot; + port + &quot;/books/save&quot;;\r\n            Integer bookId = 1;\r\n            Integer rating = 3;\r\n            BookReviewDto bookReviewDto = new BookReviewDtoBuilder().setBookId(bookId).setRating(rating).create();\r\n            String getDetailedBookDataApiUrl = &quot;http://localhost:&quot; + port + &quot;/books/detailed?id=&quot; + bookId;\r\n    \r\n            restTemplate.postForEntity(saveBookurl, bookReviewDto, String.class);\r\n            ResponseEntity&lt;DetailedBookDataDto&gt; response =\r\n                    restTemplate.getForEntity(getDetailedBookDataApiUrl, DetailedBookDataDto.class);\r\n    \r\n            assertEquals(1, response.getBody().id);\r\n            assertEquals(&quot;Book data retrieved successfully.&quot;, response.getBody().responseMessage);\r\n        }\r\n    \r\n        @Test\r\n        public void it_should_return_error_message_if_book_id_is_below_zero() {\r\n            Integer bookId = -1;\r\n            String getDetailedBookDataApiUrl = &quot;http://localhost:&quot; + port + &quot;/books/detailed?id=&quot; + bookId;\r\n    \r\n            try{\r\n                restTemplate.getForEntity(getDetailedBookDataApiUrl, DetailedBookDataDto.class);\r\n            }catch (HttpClientErrorException e){\r\n                assertTrue(e.getMessage().contains(&quot;Book id cannot be negative or zero.&quot;));\r\n                assertEquals(HttpStatus.BAD_REQUEST, e.getStatusCode());\r\n            }\r\n        }\r\n    \r\n        @Test\r\n        public void it_should_return_error_message_if_book_id_is_zero() {\r\n            Integer bookId = 0;\r\n            String getDetailedBookDataApiUrl = &quot;http://localhost:&quot; + port + &quot;/books/detailed?id=&quot; + bookId;\r\n    \r\n            try{\r\n                restTemplate.getForEntity(getDetailedBookDataApiUrl, DetailedBookDataDto.class);\r\n            }catch (HttpClientErrorException e){\r\n                assertTrue(e.getMessage().contains(&quot;Book id cannot be negative or zero.&quot;));\r\n                assertEquals(HttpStatus.BAD_REQUEST, e.getStatusCode());\r\n            }\r\n        }\r\n    \r\n        @Test\r\n        public void it_should_return_error_message_if_no_book_is_found_for_given_id() {\r\n            Integer bookId = 5;\r\n            String getDetailedBookDataApiUrl = &quot;http://localhost:&quot; + port + &quot;/books/detailed?id=&quot; + bookId;\r\n    \r\n            try{\r\n                restTemplate.getForEntity(getDetailedBookDataApiUrl, DetailedBookDataDto.class);\r\n            }catch (HttpClientErrorException e){\r\n                assertTrue(e.getMessage().contains(&quot;No book review found for this book.&quot;));\r\n                assertEquals(HttpStatus.NOT_FOUND, e.getStatusCode());\r\n            }\r\n        }\r\n    \r\n        @Test\r\n        public void it_should_return_error_message_if_gutendex_api_is_unavaiable(){\r\n            openMocks(this);\r\n            String saveBookurl = &quot;http://localhost:&quot; + port + &quot;/books/save&quot;;\r\n            Integer bookId = 5;\r\n            BookReviewDto bookReviewDto = new BookReviewDtoBuilder().setBookId(bookId).create();\r\n            String getDetailedBookDataApiUrl = &quot;http://localhost:&quot; + port + &quot;/books/detailed?id=&quot; + bookId;\r\n            when(gutendexHttpClient.getBookBasedOnId(any())).thenThrow(new ResourceAccessException(&quot;Simulated Exception&quot;));\r\n    \r\n            restTemplate.postForEntity(saveBookurl, bookReviewDto, String.class);\r\n            try{\r\n                restTemplate.getForEntity(getDetailedBookDataApiUrl, DetailedBookDataDto.class);\r\n            }catch (HttpClientErrorException e){\r\n                assertTrue(e.getMessage().contains(&quot;Guntendex API is not available.&quot;));\r\n                assertEquals(HttpStatus.REQUEST_TIMEOUT, e.getStatusCode());\r\n            }\r\n        }\r\n    \r\n        @Test\r\n        public void it_should_return_error_message_when_gutendex_api_returns_null_for_given_id(){\r\n            openMocks(this);\r\n            String saveBookurl = &quot;http://localhost:&quot; + port + &quot;/books/save&quot;;\r\n            Integer bookId = 5;\r\n            BookReviewDto bookReviewDto = new BookReviewDtoBuilder().setBookId(bookId).create();\r\n            String getDetailedBookDataApiUrl = &quot;http://localhost:&quot; + port + &quot;/books/detailed?id=&quot; + bookId;\r\n            when(gutendexHttpClient.getBookBasedOnId(any())).thenReturn(new GutendexSearchResultDtoBuilder().createWithBooksNull());\r\n    \r\n            restTemplate.postForEntity(saveBookurl, bookReviewDto, String.class);\r\n            try{\r\n                restTemplate.getForEntity(getDetailedBookDataApiUrl, DetailedBookDataDto.class);\r\n            }catch (HttpClientErrorException e){\r\n                assertTrue(e.getMessage().contains(&quot;Book data not found in Gutendex API.&quot;));\r\n                assertEquals(HttpStatus.NOT_FOUND, e.getStatusCode());\r\n            }\r\n        }\r\n    \r\n        @Test\r\n        public void it_should_return_error_message_when_gutendex_api_returns_empty_list_for_given_id(){\r\n            openMocks(this);\r\n            String saveBookurl = &quot;http://localhost:&quot; + port + &quot;/books/save&quot;;\r\n            Integer bookId = 5;\r\n            BookReviewDto bookReviewDto = new BookReviewDtoBuilder().setBookId(bookId).create();\r\n            String getDetailedBookDataApiUrl = &quot;http://localhost:&quot; + port + &quot;/books/detailed?id=&quot; + bookId;\r\n            when(gutendexHttpClient.getBookBasedOnId(any())).thenReturn(new GutendexSearchResultDtoBuilder().createWithBooksEmpty());\r\n    \r\n            restTemplate.postForEntity(saveBookurl, bookReviewDto, String.class);\r\n            try{\r\n                restTemplate.getForEntity(getDetailedBookDataApiUrl, DetailedBookDataDto.class);\r\n            }catch (HttpClientErrorException e){\r\n                assertTrue(e.getMessage().contains(&quot;Book data not found in Gutendex API.&quot;));\r\n                assertEquals(HttpStatus.NOT_FOUND, e.getStatusCode());\r\n            }\r\n        }\r\n    \r\n        @Test\r\n        public void it_should_return_error_message_when_unexpected_error_occurs(){\r\n            openMocks(this);\r\n            String saveBookurl = &quot;http://localhost:&quot; + port + &quot;/books/save&quot;;\r\n            Integer bookId = 5;\r\n            BookReviewDto bookReviewDto = new BookReviewDtoBuilder().setBookId(bookId).create();\r\n            String getDetailedBookDataApiUrl = &quot;http://localhost:&quot; + port + &quot;/books/detailed?id=&quot; + bookId;\r\n            when(gutendexHttpClient.getBookBasedOnId(any())).thenThrow(new RuntimeException(&quot;Simulated Exception&quot;));\r\n    \r\n            restTemplate.postForEntity(saveBookurl, bookReviewDto, String.class);\r\n            try{\r\n                restTemplate.getForEntity(getDetailedBookDataApiUrl, DetailedBookDataDto.class);\r\n            }catch (HttpServerErrorException e){\r\n                assertTrue(e.getMessage().contains(&quot;An unexpected error occurred, please try again, &quot; +\r\n                        &quot;if the error persists contact support&quot;));\r\n                assertEquals(HttpStatus.INTERNAL_SERVER_ERROR, e.getStatusCode());\r\n            }\r\n        }\r\n    }\r\n    \r\n\r\nAnd then I have this service class that contains some logic\r\n\r\n    @Service\r\n    public class GetDetailedBookData {\r\n    \r\n        private BookReviewRepository bookReviewRepository;\r\n        private GutendexHttpClient gutendexHttpClient;\r\n    \r\n        public GetDetailedBookData(BookReviewRepository bookReviewRepository, GutendexHttpClient gutendexHttpClient) {\r\n            this.bookReviewRepository = bookReviewRepository;\r\n            this.gutendexHttpClient = gutendexHttpClient;\r\n        }\r\n    \r\n        @Cacheable(value = &quot;detailedBook&quot;)\r\n        public DetailedBookDataDto get(Integer bookId){\r\n            if(bookId == null){\r\n                return new DetailedBookDataDto(&quot;Book id is required.&quot;, HttpStatus.BAD_REQUEST);\r\n            } else if(bookId &lt;= 0){\r\n                return new DetailedBookDataDto(&quot;Book id cannot be negative or zero.&quot;, HttpStatus.BAD_REQUEST);\r\n            }\r\n    \r\n            try{\r\n                List&lt;BookReview&gt; bookReviewList = bookReviewRepository.findByBookId(bookId);\r\n                if(bookReviewList.isEmpty()){\r\n                    return new DetailedBookDataDto(&quot;No book review found for this book.&quot;,\r\n                            HttpStatus.NOT_FOUND);\r\n                }\r\n    \r\n                GutendexSearchResultDto bookBasedOnId;\r\n                try {\r\n                    bookBasedOnId = gutendexHttpClient.getBookBasedOnId(bookId);\r\n                }catch (ResourceAccessException e){\r\n                    e.printStackTrace();\r\n                    return new DetailedBookDataDto(&quot;Guntendex API is not available.&quot;,\r\n                            HttpStatus.REQUEST_TIMEOUT);\r\n                }\r\n                if(bookBasedOnId.books == null || bookBasedOnId.books.isEmpty()){\r\n                    return new DetailedBookDataDto(&quot;Book data not found in Gutendex API.&quot;,\r\n                            HttpStatus.NOT_FOUND);\r\n                }\r\n    \r\n                DetailedBookDataDto detailedBookDataDto = createDetailedBookDataDto(bookReviewList, bookBasedOnId);\r\n                detailedBookDataDto.responseMessage = &quot;Book data retrieved successfully.&quot;;\r\n                detailedBookDataDto.httpStatus = HttpStatus.OK;\r\n    \r\n                return detailedBookDataDto;\r\n            }catch (Exception e){\r\n                e.printStackTrace();\r\n                return new DetailedBookDataDto(&quot;An unexpected error occurred, please try again, &quot; +\r\n                        &quot;if the error persists contact support&quot;, HttpStatus.INTERNAL_SERVER_ERROR);\r\n            }\r\n        }\r\n    \r\n        private DetailedBookDataDto createDetailedBookDataDto(List&lt;BookReview&gt; bookReviewList, GutendexSearchResultDto bookBasedOnId) {\r\n            Double avgRating = bookReviewList.stream()\r\n                    .mapToInt(BookReview::getRating)\r\n                    .average()\r\n                    .orElse(0);\r\n            BigDecimal roundedAvgRating = new BigDecimal(avgRating).setScale(2, RoundingMode.HALF_UP);\r\n    \r\n    \r\n            List&lt;String&gt; listOfReviews = bookReviewList.stream().map(BookReview::getReview).toList();\r\n    \r\n            GutendexBookDto bookInformation = bookBasedOnId.books.get(0);\r\n            DetailedBookDataDto detailedBookDataDto = new DetailedBookDataDto(bookInformation.id, bookInformation.title, bookInformation.authors,\r\n                    bookInformation.languages, bookInformation.download_count, roundedAvgRating.doubleValue(), listOfReviews);\r\n            detailedBookDataDto.responseMessage = &quot;Book data retrieved successfully.&quot;;\r\n            return detailedBookDataDto;\r\n        }\r\n    \r\n    }\r\n    \r\n\r\nHow do I know that the problem with my tests is REDIS? Why when I delete the `@Cacheable(value = &quot;detailedBook&quot;) `line inside my service, the tests work again\r\n\r\nI have two properties, one for testing and one for development.\r\n\r\nThe development properties:\r\n\r\n    # PostgreSQL connection properties\r\n    spring.datasource.url=jdbc:postgresql://localhost:5432/postgres\r\n    spring.datasource.username=postgres\r\n    spring.datasource.password=postgres\r\n    spring.datasource.driver-class-name=org.postgresql.Driver\r\n    spring.jpa.hibernate.ddl-auto=create\r\n    spring.jpa.show-sql=true\r\n    \r\n    #Redis\r\n    spring.redis.host=localhost\r\n    spring.redis.port=6380\r\n    logging.level.org.springframework.data.redis=DEBUG\r\n    spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration\r\n    spring.data.redis.repositories.enabled=false\r\n    \r\n    gutendex.baseurl=https://gutendex.com/books\r\n\r\nAnd the Test properties:\r\n\r\n```\r\nspring.datasource.url=jdbc:h2:mem:testdb\r\nspring.datasource.driverClassName=org.h2.Driver\r\nspring.datasource.username=sa\r\nspring.datasource.password=password\r\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\nspring.jpa.hibernate.ddl-auto=create\r\nspring.jpa.show-sql=true\r\nspring.h2.console.enabled=true\r\nspring.h2.console.path=/h2-console\r\n\r\nspring.data.redis.repositories.enabled=false\r\n\r\ngutendex.baseurl=https://gutendex.com/books\r\n```\r\n\r\nI&#39;ve already tried:\r\n\r\n- Make redis point to a non-existent address within the test properties\r\n  `spring.redis.host=non-existing-host spring.redis.port=9999`\r\n- Disable Redis Auto-Configure within test properties\r\n- Add this line of code to my class that contains the integration test\r\n  `@TestPropertySource(properties = {&quot;spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.data.redis.RedisRepositoriesAutoConfiguration,org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration&quot;})`\r\n\r\n\r\nAnd many other things I can&#39;t remember.\r\n\r\nIf anyone can help me I would be very grateful, thanks!","title":"How can I disable REDIS for my Spring Boot integration tests?","body":"<p>I'm trying to disable REDIS in the context of my integration tests, but I'm not having success.</p>\n<p>Whenever I run the integration tests, SpringBoot starts saving the test data inside REDIS, which causes inconsistency and the tests fail.</p>\n<p>I have the following classes:</p>\n<p>GetDetailedBookDataIT contains the integration test</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@ActiveProfiles(&quot;test&quot;)\npublic class GetDetailedBookDataIT {\n\n    @LocalServerPort\n    private int port;\n\n    @Autowired\n    private BookRest bookRest;\n\n    @Autowired\n    private RestTemplate restTemplate;\n\n    @Mock\n    private GutendexHttpClient gutendexHttpClient;\n\n    @InjectMocks\n    private GetDetailedBookData getDetailedBookData;\n\n    @Test\n    public void it_should_get_detailed_book_data() {\n        String saveBookurl = &quot;http://localhost:&quot; + port + &quot;/books/save&quot;;\n        Integer bookId = 1;\n        Integer rating = 3;\n        BookReviewDto bookReviewDto = new BookReviewDtoBuilder().setBookId(bookId).setRating(rating).create();\n        String getDetailedBookDataApiUrl = &quot;http://localhost:&quot; + port + &quot;/books/detailed?id=&quot; + bookId;\n\n        restTemplate.postForEntity(saveBookurl, bookReviewDto, String.class);\n        ResponseEntity&lt;DetailedBookDataDto&gt; response =\n                restTemplate.getForEntity(getDetailedBookDataApiUrl, DetailedBookDataDto.class);\n\n        assertEquals(1, response.getBody().id);\n        assertEquals(&quot;Book data retrieved successfully.&quot;, response.getBody().responseMessage);\n    }\n\n    @Test\n    public void it_should_return_error_message_if_book_id_is_below_zero() {\n        Integer bookId = -1;\n        String getDetailedBookDataApiUrl = &quot;http://localhost:&quot; + port + &quot;/books/detailed?id=&quot; + bookId;\n\n        try{\n            restTemplate.getForEntity(getDetailedBookDataApiUrl, DetailedBookDataDto.class);\n        }catch (HttpClientErrorException e){\n            assertTrue(e.getMessage().contains(&quot;Book id cannot be negative or zero.&quot;));\n            assertEquals(HttpStatus.BAD_REQUEST, e.getStatusCode());\n        }\n    }\n\n    @Test\n    public void it_should_return_error_message_if_book_id_is_zero() {\n        Integer bookId = 0;\n        String getDetailedBookDataApiUrl = &quot;http://localhost:&quot; + port + &quot;/books/detailed?id=&quot; + bookId;\n\n        try{\n            restTemplate.getForEntity(getDetailedBookDataApiUrl, DetailedBookDataDto.class);\n        }catch (HttpClientErrorException e){\n            assertTrue(e.getMessage().contains(&quot;Book id cannot be negative or zero.&quot;));\n            assertEquals(HttpStatus.BAD_REQUEST, e.getStatusCode());\n        }\n    }\n\n    @Test\n    public void it_should_return_error_message_if_no_book_is_found_for_given_id() {\n        Integer bookId = 5;\n        String getDetailedBookDataApiUrl = &quot;http://localhost:&quot; + port + &quot;/books/detailed?id=&quot; + bookId;\n\n        try{\n            restTemplate.getForEntity(getDetailedBookDataApiUrl, DetailedBookDataDto.class);\n        }catch (HttpClientErrorException e){\n            assertTrue(e.getMessage().contains(&quot;No book review found for this book.&quot;));\n            assertEquals(HttpStatus.NOT_FOUND, e.getStatusCode());\n        }\n    }\n\n    @Test\n    public void it_should_return_error_message_if_gutendex_api_is_unavaiable(){\n        openMocks(this);\n        String saveBookurl = &quot;http://localhost:&quot; + port + &quot;/books/save&quot;;\n        Integer bookId = 5;\n        BookReviewDto bookReviewDto = new BookReviewDtoBuilder().setBookId(bookId).create();\n        String getDetailedBookDataApiUrl = &quot;http://localhost:&quot; + port + &quot;/books/detailed?id=&quot; + bookId;\n        when(gutendexHttpClient.getBookBasedOnId(any())).thenThrow(new ResourceAccessException(&quot;Simulated Exception&quot;));\n\n        restTemplate.postForEntity(saveBookurl, bookReviewDto, String.class);\n        try{\n            restTemplate.getForEntity(getDetailedBookDataApiUrl, DetailedBookDataDto.class);\n        }catch (HttpClientErrorException e){\n            assertTrue(e.getMessage().contains(&quot;Guntendex API is not available.&quot;));\n            assertEquals(HttpStatus.REQUEST_TIMEOUT, e.getStatusCode());\n        }\n    }\n\n    @Test\n    public void it_should_return_error_message_when_gutendex_api_returns_null_for_given_id(){\n        openMocks(this);\n        String saveBookurl = &quot;http://localhost:&quot; + port + &quot;/books/save&quot;;\n        Integer bookId = 5;\n        BookReviewDto bookReviewDto = new BookReviewDtoBuilder().setBookId(bookId).create();\n        String getDetailedBookDataApiUrl = &quot;http://localhost:&quot; + port + &quot;/books/detailed?id=&quot; + bookId;\n        when(gutendexHttpClient.getBookBasedOnId(any())).thenReturn(new GutendexSearchResultDtoBuilder().createWithBooksNull());\n\n        restTemplate.postForEntity(saveBookurl, bookReviewDto, String.class);\n        try{\n            restTemplate.getForEntity(getDetailedBookDataApiUrl, DetailedBookDataDto.class);\n        }catch (HttpClientErrorException e){\n            assertTrue(e.getMessage().contains(&quot;Book data not found in Gutendex API.&quot;));\n            assertEquals(HttpStatus.NOT_FOUND, e.getStatusCode());\n        }\n    }\n\n    @Test\n    public void it_should_return_error_message_when_gutendex_api_returns_empty_list_for_given_id(){\n        openMocks(this);\n        String saveBookurl = &quot;http://localhost:&quot; + port + &quot;/books/save&quot;;\n        Integer bookId = 5;\n        BookReviewDto bookReviewDto = new BookReviewDtoBuilder().setBookId(bookId).create();\n        String getDetailedBookDataApiUrl = &quot;http://localhost:&quot; + port + &quot;/books/detailed?id=&quot; + bookId;\n        when(gutendexHttpClient.getBookBasedOnId(any())).thenReturn(new GutendexSearchResultDtoBuilder().createWithBooksEmpty());\n\n        restTemplate.postForEntity(saveBookurl, bookReviewDto, String.class);\n        try{\n            restTemplate.getForEntity(getDetailedBookDataApiUrl, DetailedBookDataDto.class);\n        }catch (HttpClientErrorException e){\n            assertTrue(e.getMessage().contains(&quot;Book data not found in Gutendex API.&quot;));\n            assertEquals(HttpStatus.NOT_FOUND, e.getStatusCode());\n        }\n    }\n\n    @Test\n    public void it_should_return_error_message_when_unexpected_error_occurs(){\n        openMocks(this);\n        String saveBookurl = &quot;http://localhost:&quot; + port + &quot;/books/save&quot;;\n        Integer bookId = 5;\n        BookReviewDto bookReviewDto = new BookReviewDtoBuilder().setBookId(bookId).create();\n        String getDetailedBookDataApiUrl = &quot;http://localhost:&quot; + port + &quot;/books/detailed?id=&quot; + bookId;\n        when(gutendexHttpClient.getBookBasedOnId(any())).thenThrow(new RuntimeException(&quot;Simulated Exception&quot;));\n\n        restTemplate.postForEntity(saveBookurl, bookReviewDto, String.class);\n        try{\n            restTemplate.getForEntity(getDetailedBookDataApiUrl, DetailedBookDataDto.class);\n        }catch (HttpServerErrorException e){\n            assertTrue(e.getMessage().contains(&quot;An unexpected error occurred, please try again, &quot; +\n                    &quot;if the error persists contact support&quot;));\n            assertEquals(HttpStatus.INTERNAL_SERVER_ERROR, e.getStatusCode());\n        }\n    }\n}\n</code></pre>\n<p>And then I have this service class that contains some logic</p>\n<pre><code>@Service\npublic class GetDetailedBookData {\n\n    private BookReviewRepository bookReviewRepository;\n    private GutendexHttpClient gutendexHttpClient;\n\n    public GetDetailedBookData(BookReviewRepository bookReviewRepository, GutendexHttpClient gutendexHttpClient) {\n        this.bookReviewRepository = bookReviewRepository;\n        this.gutendexHttpClient = gutendexHttpClient;\n    }\n\n    @Cacheable(value = &quot;detailedBook&quot;)\n    public DetailedBookDataDto get(Integer bookId){\n        if(bookId == null){\n            return new DetailedBookDataDto(&quot;Book id is required.&quot;, HttpStatus.BAD_REQUEST);\n        } else if(bookId &lt;= 0){\n            return new DetailedBookDataDto(&quot;Book id cannot be negative or zero.&quot;, HttpStatus.BAD_REQUEST);\n        }\n\n        try{\n            List&lt;BookReview&gt; bookReviewList = bookReviewRepository.findByBookId(bookId);\n            if(bookReviewList.isEmpty()){\n                return new DetailedBookDataDto(&quot;No book review found for this book.&quot;,\n                        HttpStatus.NOT_FOUND);\n            }\n\n            GutendexSearchResultDto bookBasedOnId;\n            try {\n                bookBasedOnId = gutendexHttpClient.getBookBasedOnId(bookId);\n            }catch (ResourceAccessException e){\n                e.printStackTrace();\n                return new DetailedBookDataDto(&quot;Guntendex API is not available.&quot;,\n                        HttpStatus.REQUEST_TIMEOUT);\n            }\n            if(bookBasedOnId.books == null || bookBasedOnId.books.isEmpty()){\n                return new DetailedBookDataDto(&quot;Book data not found in Gutendex API.&quot;,\n                        HttpStatus.NOT_FOUND);\n            }\n\n            DetailedBookDataDto detailedBookDataDto = createDetailedBookDataDto(bookReviewList, bookBasedOnId);\n            detailedBookDataDto.responseMessage = &quot;Book data retrieved successfully.&quot;;\n            detailedBookDataDto.httpStatus = HttpStatus.OK;\n\n            return detailedBookDataDto;\n        }catch (Exception e){\n            e.printStackTrace();\n            return new DetailedBookDataDto(&quot;An unexpected error occurred, please try again, &quot; +\n                    &quot;if the error persists contact support&quot;, HttpStatus.INTERNAL_SERVER_ERROR);\n        }\n    }\n\n    private DetailedBookDataDto createDetailedBookDataDto(List&lt;BookReview&gt; bookReviewList, GutendexSearchResultDto bookBasedOnId) {\n        Double avgRating = bookReviewList.stream()\n                .mapToInt(BookReview::getRating)\n                .average()\n                .orElse(0);\n        BigDecimal roundedAvgRating = new BigDecimal(avgRating).setScale(2, RoundingMode.HALF_UP);\n\n\n        List&lt;String&gt; listOfReviews = bookReviewList.stream().map(BookReview::getReview).toList();\n\n        GutendexBookDto bookInformation = bookBasedOnId.books.get(0);\n        DetailedBookDataDto detailedBookDataDto = new DetailedBookDataDto(bookInformation.id, bookInformation.title, bookInformation.authors,\n                bookInformation.languages, bookInformation.download_count, roundedAvgRating.doubleValue(), listOfReviews);\n        detailedBookDataDto.responseMessage = &quot;Book data retrieved successfully.&quot;;\n        return detailedBookDataDto;\n    }\n\n}\n</code></pre>\n<p>How do I know that the problem with my tests is REDIS? Why when I delete the <code>@Cacheable(value = &quot;detailedBook&quot;) </code>line inside my service, the tests work again</p>\n<p>I have two properties, one for testing and one for development.</p>\n<p>The development properties:</p>\n<pre><code># PostgreSQL connection properties\nspring.datasource.url=jdbc:postgresql://localhost:5432/postgres\nspring.datasource.username=postgres\nspring.datasource.password=postgres\nspring.datasource.driver-class-name=org.postgresql.Driver\nspring.jpa.hibernate.ddl-auto=create\nspring.jpa.show-sql=true\n\n#Redis\nspring.redis.host=localhost\nspring.redis.port=6380\nlogging.level.org.springframework.data.redis=DEBUG\nspring.autoconfigure.exclude=org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration\nspring.data.redis.repositories.enabled=false\n\ngutendex.baseurl=https://gutendex.com/books\n</code></pre>\n<p>And the Test properties:</p>\n<pre><code>spring.datasource.url=jdbc:h2:mem:testdb\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=password\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.jpa.hibernate.ddl-auto=create\nspring.jpa.show-sql=true\nspring.h2.console.enabled=true\nspring.h2.console.path=/h2-console\n\nspring.data.redis.repositories.enabled=false\n\ngutendex.baseurl=https://gutendex.com/books\n</code></pre>\n<p>I've already tried:</p>\n<ul>\n<li>Make redis point to a non-existent address within the test properties\n<code>spring.redis.host=non-existing-host spring.redis.port=9999</code></li>\n<li>Disable Redis Auto-Configure within test properties</li>\n<li>Add this line of code to my class that contains the integration test\n<code>@TestPropertySource(properties = {&quot;spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.data.redis.RedisRepositoriesAutoConfiguration,org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration&quot;})</code></li>\n</ul>\n<p>And many other things I can't remember.</p>\n<p>If anyone can help me I would be very grateful, thanks!</p>\n"},{"tags":["java","android","jsoup"],"comments":[{"owner":{"account_id":349346,"reputation":13527,"user_id":684582,"accept_rate":75,"display_name":"Al&#233;cio Carvalho"},"score":1,"creation_date":1379801188,"post_id":18938083,"comment_id":27964294,"body_markdown":"the code i see, doesn&#39;t make sense at all. Consider rephrasing your question.","body":"the code i see, doesn&#39;t make sense at all. Consider rephrasing your question."},{"owner":{"account_id":349346,"reputation":13527,"user_id":684582,"accept_rate":75,"display_name":"Al&#233;cio Carvalho"},"score":0,"creation_date":1379802041,"post_id":18938083,"comment_id":27964470,"body_markdown":"My substract, do you mean the mathematical substraction like: &lt;arrT&gt;20130921 17:32:24&lt;/arrT&gt; - &lt;prdt&gt;20130921 17:16:24&lt;/prdt&gt;? You have multiple entries of &lt;eta&gt;, each containing arrT and prdt, Do you wanna do it for each entry?","body":"My substract, do you mean the mathematical substraction like: &lt;arrT&gt;20130921 17:32:24&lt;/arrT&gt; - &lt;prdt&gt;20130921 17:16:24&lt;/prdt&gt;? You have multiple entries of &lt;eta&gt;, each containing arrT and prdt, Do you wanna do it for each entry?"},{"owner":{"account_id":3046327,"reputation":10175,"user_id":2581872,"accept_rate":90,"display_name":"hichris123"},"score":0,"creation_date":1379802229,"post_id":18938083,"comment_id":27964508,"body_markdown":"Yeah, I would want to subtract mathamatically just the time part of 17:32:24 and 17:16:24. I would want to do it for each entry.","body":"Yeah, I would want to subtract mathamatically just the time part of 17:32:24 and 17:16:24. I would want to do it for each entry."},{"owner":{"account_id":3046327,"reputation":10175,"user_id":2581872,"accept_rate":90,"display_name":"hichris123"},"score":0,"creation_date":1380994448,"post_id":18938083,"comment_id":28411631,"body_markdown":"@Al&#233;cio With the `while(iterator.hasNext())`, will that still run the code even if there isn&#39;t a next element?","body":"@Al&#233;cio With the <code>while(iterator.hasNext())</code>, will that still run the code even if there isn&#39;t a next element?"}],"answers":[{"tags":[],"owner":{"account_id":349346,"reputation":13527,"user_id":684582,"accept_rate":75,"display_name":"Al&#233;cio Carvalho"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1389368800,"creation_date":1379802520,"answer_id":18938330,"question_id":18938083,"body_markdown":"So if I understood correctly, this might help you:\r\n\r\n\r\n\r\n    Elements elem = doc.select(&quot;eta&quot;);\r\n    Iterator&lt;Element&gt; iterator = elem.iterator();\r\n    while(iterator.hasNext()) {\r\n        Element etaElement = iterator.next();\r\n        Element arrT = etaElement.select(&quot;arrT&quot;);    \r\n        Element prdt = etaElement.select(&quot;prdt&quot;);\r\n        //  1. parse the arrT value\r\n        //  2. parse the prdt value\r\n        //  3. subtract them.\r\n    }\r\n\r\n\r\nLike this you will be able to individually handle each entry. Note the the `div.select` is being used for each `eta` element and not from the whole document, as your code was doing.","title":"Get Next Jsoup Element with Same Name Android","body":"<p>So if I understood correctly, this might help you:</p>\n\n<pre><code>Elements elem = doc.select(\"eta\");\nIterator&lt;Element&gt; iterator = elem.iterator();\nwhile(iterator.hasNext()) {\n    Element etaElement = iterator.next();\n    Element arrT = etaElement.select(\"arrT\");    \n    Element prdt = etaElement.select(\"prdt\");\n    //  1. parse the arrT value\n    //  2. parse the prdt value\n    //  3. subtract them.\n}\n</code></pre>\n\n<p>Like this you will be able to individually handle each entry. Note the the <code>div.select</code> is being used for each <code>eta</code> element and not from the whole document, as your code was doing.</p>\n"}],"owner":{"account_id":3046327,"reputation":10175,"user_id":2581872,"accept_rate":90,"display_name":"hichris123"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1578,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":18938330,"answer_count":1,"score":1,"last_activity_date":1685661745,"creation_date":1379800556,"question_id":18938083,"body_markdown":"I&#39;m retreving elements in Android with Jsoup. I need to get the next eta element from this code. I&#39;m not sure how to. I&#39;m retreiving the xml from: http://lapi.transitchicago.com/api/1.0/ttarrivals.aspx?key=201412abc85d49b2b83f907f9e329eaa&amp;mapid=40380. Someone has brought up using elem.iterator(), but I&#39;m not sure how to put this in my code (this is the website for it)&lt;http://www.jsoup.org/apidocs/org/jsoup/select/Elements.html#iterator()&gt;   My code is below.\r\n\r\nTestStation.java\r\n\r\n    public class TestStation extends Activity {\r\n\tString URL = &quot;http://lapi.transitchicago.com/api/1.0/ttarrivals.aspx?key=201412abc85d49b2b83f907f9e329eaa&amp;mapid=40380&quot;;\r\n    @SuppressWarnings(&quot;deprecation&quot;)\r\n\t@Override\r\n\tprotected void onCreate(Bundle savedInstanceState) {\r\n\t\tsuper.onCreate(savedInstanceState);\r\n            setContentView(R.layout.test_station);\r\n            StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n            StrictMode.setThreadPolicy(policy); \r\n    \r\n           \r\n            \r\n    Document doc = null;\r\n    \r\n    TextView tv = (TextView) findViewById(R.id.tv);\r\n    TextView tv1 = (TextView) findViewById(R.id.tv1);\r\n    TextView tv2 = (TextView) findViewById(R.id.tv2);\r\n    TextView tv3 = (TextView) findViewById(R.id.tv3);\r\n    TextView tv4 = (TextView) findViewById(R.id.tv4);\r\n    TextView tv5 = (TextView) findViewById(R.id.tv5);\r\n    \t\t \r\n\ttry {\r\n\t    doc = Jsoup.connect(URL).userAgent(&quot;Mozilla/5.0 (Macintosh; U; Intel Mac OS X; de-de) AppleWebKit/523.10.3 (KHTML, like Gecko) Version/3.0.4 Safari/523.10&quot;).get();\r\n\t} catch (IOException e) {\r\n\t\t// TODO Auto-generated catch block\r\n\t\te.printStackTrace();\r\n\t}\r\n\t\tIterator&lt;Element&gt; iterator = elem.iterator();\r\n\twhile(iterator.hasNext())\r\n\t{ Element div = iterator.next();\r\n    \t\r\n    Elements arrT = div.select(&quot;arrT&quot;);\r\n    Elements prdt = div.select(&quot;prdt&quot;);\r\n    Elements staNm = div.select(&quot;staNm&quot;);\r\n    String StaNm = staNm.text();\r\n    tv1.setText(String.valueOf (StaNm));\r\n      \r\n\r\n\twhile(iterator.hasNext())\r\n\t{ Element div1 = iterator.next();\r\n    \t\r\n    Elements arrT1 = div1.select(&quot;arrT&quot;);\r\n    Elements prdt1 = div1.select(&quot;prdt&quot;);\r\n    Elements staNm1 = div1.select(&quot;staNm&quot;);\r\n    String StaNm1 = staNm1.text();\r\n    tv2.setText(String.valueOf (StaNm1));\r\n\r\n\r\n\r\n    try {\r\n    \t\r\n    \tSimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyyMMdd HH:mm:ss&quot;);\r\n\t\tDate date1 = sdf.parse(arrT.text());\r\n\t\tDate date2 = sdf.parse(prdt.text());\r\n\t\tDate date3 = sdf.parse(arrT1.text());\r\n\t\tDate date4 = sdf.parse(prdt1.text());\r\n\t\t\r\n\t\tlong dateDiff = (date1.getTime() - date2.getTime())&gt;0 ? (date1.getTime() - date2.getTime()) :(date2.getTime() - date1.getTime());\r\n\t\tlong dateDiff1 = (date3.getTime() - date4.getTime())&gt;0 ? (date3.getTime() - date4.getTime()) :(date4.getTime() - date3.getTime());\r\n\t    SimpleDateFormat sdf1 = new SimpleDateFormat(&quot;mm:00&quot;);\r\n\t    String dateDif = sdf1.format(dateDiff);\r\n\t    String dateDif1 = sdf1.format(dateDiff1);\r\n\t    tv.setText(String.valueOf (dateDif));\r\n\t    tv3.setText(String.valueOf (dateDif1));\r\n\r\n\t    \r\n\t    }\r\n\t\t\r\n    catch (ParseException e) {\r\n\t\t// TODO Auto-generated catch block\r\n\t\te.printStackTrace();\r\n\t\r\n\t\t\r\n\t\t\r\n\t }\r\n    \r\n\t}\r\n\t}\r\n    }\r\n\r\nI&#39;m now getting LogCat errors, and it says that it has stopped working:\r\n\r\n    09-26 20:34:50.456: E/AndroidRuntime(22691): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.dev.chicagotraintracker/com.dev.chicagotraintracker.TestStation}: java.lang.NullPointerException\r\n    09-26 20:34:50.456: E/AndroidRuntime(22691): \tat com.dev.chicagotraintracker.TestStation.onCreate(TestStation.java:57)\r\n\r\n\r\nWith my code, I get two elements, but they are the exact same. I get the same numbers for dateDiff and dateDiff1. How can I get the next eta element with the same name? Thank you for your help.","title":"Get Next Jsoup Element with Same Name Android","body":"<p>I'm retreving elements in Android with Jsoup. I need to get the next eta element from this code. I'm not sure how to. I'm retreiving the xml from: <a href=\"http://lapi.transitchicago.com/api/1.0/ttarrivals.aspx?key=201412abc85d49b2b83f907f9e329eaa&amp;mapid=40380\" rel=\"nofollow\">http://lapi.transitchicago.com/api/1.0/ttarrivals.aspx?key=201412abc85d49b2b83f907f9e329eaa&amp;mapid=40380</a>. Someone has brought up using elem.iterator(), but I'm not sure how to put this in my code (this is the website for it)<a href=\"http://www.jsoup.org/apidocs/org/jsoup/select/Elements.html#iterator()\" rel=\"nofollow\">http://www.jsoup.org/apidocs/org/jsoup/select/Elements.html#iterator()</a>   My code is below.</p>\n\n<p>TestStation.java</p>\n\n<pre><code>public class TestStation extends Activity {\nString URL = \"http://lapi.transitchicago.com/api/1.0/ttarrivals.aspx?key=201412abc85d49b2b83f907f9e329eaa&amp;mapid=40380\";\n@SuppressWarnings(\"deprecation\")\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n        setContentView(R.layout.test_station);\n        StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\n        StrictMode.setThreadPolicy(policy); \n\n\n\nDocument doc = null;\n\nTextView tv = (TextView) findViewById(R.id.tv);\nTextView tv1 = (TextView) findViewById(R.id.tv1);\nTextView tv2 = (TextView) findViewById(R.id.tv2);\nTextView tv3 = (TextView) findViewById(R.id.tv3);\nTextView tv4 = (TextView) findViewById(R.id.tv4);\nTextView tv5 = (TextView) findViewById(R.id.tv5);\n\ntry {\n    doc = Jsoup.connect(URL).userAgent(\"Mozilla/5.0 (Macintosh; U; Intel Mac OS X; de-de) AppleWebKit/523.10.3 (KHTML, like Gecko) Version/3.0.4 Safari/523.10\").get();\n} catch (IOException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\n    Iterator&lt;Element&gt; iterator = elem.iterator();\nwhile(iterator.hasNext())\n{ Element div = iterator.next();\n\nElements arrT = div.select(\"arrT\");\nElements prdt = div.select(\"prdt\");\nElements staNm = div.select(\"staNm\");\nString StaNm = staNm.text();\ntv1.setText(String.valueOf (StaNm));\n\n\nwhile(iterator.hasNext())\n{ Element div1 = iterator.next();\n\nElements arrT1 = div1.select(\"arrT\");\nElements prdt1 = div1.select(\"prdt\");\nElements staNm1 = div1.select(\"staNm\");\nString StaNm1 = staNm1.text();\ntv2.setText(String.valueOf (StaNm1));\n\n\n\ntry {\n\n    SimpleDateFormat sdf = new SimpleDateFormat(\"yyyyMMdd HH:mm:ss\");\n    Date date1 = sdf.parse(arrT.text());\n    Date date2 = sdf.parse(prdt.text());\n    Date date3 = sdf.parse(arrT1.text());\n    Date date4 = sdf.parse(prdt1.text());\n\n    long dateDiff = (date1.getTime() - date2.getTime())&gt;0 ? (date1.getTime() - date2.getTime()) :(date2.getTime() - date1.getTime());\n    long dateDiff1 = (date3.getTime() - date4.getTime())&gt;0 ? (date3.getTime() - date4.getTime()) :(date4.getTime() - date3.getTime());\n    SimpleDateFormat sdf1 = new SimpleDateFormat(\"mm:00\");\n    String dateDif = sdf1.format(dateDiff);\n    String dateDif1 = sdf1.format(dateDiff1);\n    tv.setText(String.valueOf (dateDif));\n    tv3.setText(String.valueOf (dateDif1));\n\n\n    }\n\ncatch (ParseException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n\n\n\n }\n\n}\n}\n}\n</code></pre>\n\n<p>I'm now getting LogCat errors, and it says that it has stopped working:</p>\n\n<pre><code>09-26 20:34:50.456: E/AndroidRuntime(22691): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.dev.chicagotraintracker/com.dev.chicagotraintracker.TestStation}: java.lang.NullPointerException\n09-26 20:34:50.456: E/AndroidRuntime(22691):    at com.dev.chicagotraintracker.TestStation.onCreate(TestStation.java:57)\n</code></pre>\n\n<p>With my code, I get two elements, but they are the exact same. I get the same numbers for dateDiff and dateDiff1. How can I get the next eta element with the same name? Thank you for your help.</p>\n"},{"tags":["java","orika"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1596100739,"post_id":63169999,"comment_id":111704850,"body_markdown":"You could create a breakpoint inside of `MapperGenerator.build` and debug the application. Maybe it gives you a hint of what might be wrong with your Mapper class.","body":"You could create a breakpoint inside of <code>MapperGenerator.build</code> and debug the application. Maybe it gives you a hint of what might be wrong with your Mapper class."},{"owner":{"account_id":7448758,"reputation":31,"user_id":5664203,"display_name":"Govind"},"score":0,"creation_date":1596103361,"post_id":63169999,"comment_id":111706189,"body_markdown":"@f1sh  ```this.shouldCaptureFieldContext = (Boolean)mappingContext.getProperty(Properties.CAPTURE_FIELD_CONTEXT); ```  above  line is throwing NPE as &quot;mappingContext.getProperty(Properties.CAPTURE_FIELD_CONTEXT)&quot; is giving null!","body":"@f1sh  <code>this.shouldCaptureFieldContext = (Boolean)mappingContext.getProperty(Properties.CAPTURE_FIELD&zwnj;&#8203;_CONTEXT); </code>  above  line is throwing NPE as &quot;mappingContext.getProperty(Properties.CAPTURE_FIELD_CONTEXT&zwnj;&#8203;)&quot; is giving null!"},{"owner":{"account_id":7448758,"reputation":31,"user_id":5664203,"display_name":"Govind"},"score":0,"creation_date":1596103612,"post_id":63169999,"comment_id":111706309,"body_markdown":"observed one more thing: https://github.com/orika-mapper/orika/issues/172","body":"observed one more thing: <a href=\"https://github.com/orika-mapper/orika/issues/172\" rel=\"nofollow noreferrer\">github.com/orika-mapper/orika/issues/172</a>"},{"owner":{"account_id":7448758,"reputation":31,"user_id":5664203,"display_name":"Govind"},"score":0,"creation_date":1596103845,"post_id":63169999,"comment_id":111706439,"body_markdown":"sourceclass : SourceCodeContext.java","body":"sourceclass : SourceCodeContext.java"}],"answers":[{"tags":[],"owner":{"account_id":28731302,"reputation":9,"user_id":22003210,"display_name":"dswan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685661211,"creation_date":1685661211,"answer_id":76386262,"question_id":63169999,"body_markdown":"It seems Orika is abandoned and there is no fix so far. So I implemented a workaround and hope it will be useful for others facing the same issue.\r\n\r\nWe need to get a proper `ma.glasnost.orika.MappingContext` created by Orika itself, so `mappingContext.getProperty(Properties.CAPTURE_FIELD_CONTEXT)` is not `null`. To achieve this we have to create a utility class.\r\n```\r\npackage org.test;\r\n\r\nimport ma.glasnost.orika.MappingContext;\r\nimport ma.glasnost.orika.MappingContextFactory;\r\nimport ma.glasnost.orika.impl.DefaultMapperFactory;\r\n\r\n/**\r\n * The utility class to get {@link MappingContext} configured by Orika\r\n * and ready to be used by {@link ma.glasnost.orika.MapperFacade#map(java.lang.Object, java.lang.Class)}.\r\n */\r\npublic final class MappingContextUtils {\r\n\r\n    private static final MappingContextFactory MAPPING_CONTEXT_FACTORY;\r\n\r\n    static {\r\n        MAPPING_CONTEXT_FACTORY = new CustomDefaultMapperFactory.Builder().build().getContextFactory();\r\n    }\r\n\r\n    /**\r\n     * Gets {@link MappingContext} ready to be used by {@link ma.glasnost.orika.MapperFacade#map(java.lang.Object, java.lang.Class)}.\r\n     * Manual creation of {@link MappingContext} does not work. Please see the link below.\r\n     *\r\n     * @return {@link MappingContext}\r\n     * @see &lt;a href=&quot;https://github.com/orika-mapper/orika/issues/354&quot;&gt;https://github.com/orika-mapper/orika/issues/354&lt;/a&gt;\r\n     */\r\n    public static MappingContext getMappingContext() {\r\n        return MAPPING_CONTEXT_FACTORY.getContext();\r\n    }\r\n\r\n    /**\r\n     * The custom {@link DefaultMapperFactory} to expose getter\r\n     * for {@link MappingContextFactory} so {@link MappingContext} with prefilled globalProperties can be created.\r\n     *\r\n     * @author Dmitry Lebedko (dmitry.lebedko@t-systems.com)\r\n     */\r\n    private static class CustomDefaultMapperFactory extends DefaultMapperFactory {\r\n\r\n        /**\r\n         * Constructs a new instance of DefaultMapperFactory\r\n         *\r\n         * @param builder {@link MapperFactoryBuilder}\r\n         */\r\n        protected CustomDefaultMapperFactory(MapperFactoryBuilder&lt;?, ?&gt; builder) {\r\n            super(builder);\r\n        }\r\n\r\n        /**\r\n         * Gets {@link MappingContextFactory}.\r\n         *\r\n         * @return {@link MappingContextFactory}\r\n         */\r\n        public MappingContextFactory getContextFactory() {\r\n            return contextFactory;\r\n        }\r\n\r\n        public static class Builder extends DefaultMapperFactory.MapperFactoryBuilder&lt;CustomDefaultMapperFactory, Builder&gt; {\r\n\r\n            @Override\r\n            public CustomDefaultMapperFactory build() {\r\n                return new CustomDefaultMapperFactory(this);\r\n            }\r\n\r\n            @Override\r\n            protected CustomDefaultMapperFactory.Builder self() {\r\n                return this;\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\nNow it may be used like that\r\n```\r\nMappingContext mappingContext = MappingContextUtils.getMappingContext(); // here we get a mapping context created by Orika\r\nList bList = customMapper.mapAsList(aList, B.class, mappingContext);\r\n```\r\n\r\n\r\n  [1]: https://github.com/orika-mapper/orika/issues/354#issuecomment-1000764846","title":"Null pointer exception occurred after upgrading orika-mapper to latest [1.5.4] while mapping list of object by passing mappingContext","body":"<p>It seems Orika is abandoned and there is no fix so far. So I implemented a workaround and hope it will be useful for others facing the same issue.</p>\n<p>We need to get a proper <code>ma.glasnost.orika.MappingContext</code> created by Orika itself, so <code>mappingContext.getProperty(Properties.CAPTURE_FIELD_CONTEXT)</code> is not <code>null</code>. To achieve this we have to create a utility class.</p>\n<pre><code>package org.test;\n\nimport ma.glasnost.orika.MappingContext;\nimport ma.glasnost.orika.MappingContextFactory;\nimport ma.glasnost.orika.impl.DefaultMapperFactory;\n\n/**\n * The utility class to get {@link MappingContext} configured by Orika\n * and ready to be used by {@link ma.glasnost.orika.MapperFacade#map(java.lang.Object, java.lang.Class)}.\n */\npublic final class MappingContextUtils {\n\n    private static final MappingContextFactory MAPPING_CONTEXT_FACTORY;\n\n    static {\n        MAPPING_CONTEXT_FACTORY = new CustomDefaultMapperFactory.Builder().build().getContextFactory();\n    }\n\n    /**\n     * Gets {@link MappingContext} ready to be used by {@link ma.glasnost.orika.MapperFacade#map(java.lang.Object, java.lang.Class)}.\n     * Manual creation of {@link MappingContext} does not work. Please see the link below.\n     *\n     * @return {@link MappingContext}\n     * @see &lt;a href=&quot;https://github.com/orika-mapper/orika/issues/354&quot;&gt;https://github.com/orika-mapper/orika/issues/354&lt;/a&gt;\n     */\n    public static MappingContext getMappingContext() {\n        return MAPPING_CONTEXT_FACTORY.getContext();\n    }\n\n    /**\n     * The custom {@link DefaultMapperFactory} to expose getter\n     * for {@link MappingContextFactory} so {@link MappingContext} with prefilled globalProperties can be created.\n     *\n     * @author Dmitry Lebedko (dmitry.lebedko@t-systems.com)\n     */\n    private static class CustomDefaultMapperFactory extends DefaultMapperFactory {\n\n        /**\n         * Constructs a new instance of DefaultMapperFactory\n         *\n         * @param builder {@link MapperFactoryBuilder}\n         */\n        protected CustomDefaultMapperFactory(MapperFactoryBuilder&lt;?, ?&gt; builder) {\n            super(builder);\n        }\n\n        /**\n         * Gets {@link MappingContextFactory}.\n         *\n         * @return {@link MappingContextFactory}\n         */\n        public MappingContextFactory getContextFactory() {\n            return contextFactory;\n        }\n\n        public static class Builder extends DefaultMapperFactory.MapperFactoryBuilder&lt;CustomDefaultMapperFactory, Builder&gt; {\n\n            @Override\n            public CustomDefaultMapperFactory build() {\n                return new CustomDefaultMapperFactory(this);\n            }\n\n            @Override\n            protected CustomDefaultMapperFactory.Builder self() {\n                return this;\n            }\n\n        }\n\n    }\n\n}\n</code></pre>\n<p>Now it may be used like that</p>\n<pre><code>MappingContext mappingContext = MappingContextUtils.getMappingContext(); // here we get a mapping context created by Orika\nList bList = customMapper.mapAsList(aList, B.class, mappingContext);\n</code></pre>\n"}],"owner":{"account_id":7448758,"reputation":31,"user_id":5664203,"display_name":"Govind"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1093,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1685661211,"creation_date":1596100649,"question_id":63169999,"body_markdown":"`Issue is occurring after upgrading the orika-mapper 1.4.6 to 1.5.4\r\n\r\nHere is the custom Mapper class with registering custom mapper for source object and destination object.&#39;\r\n\r\n```\r\n@Component\r\npublic class CustomMapper extends ConfigurableMapper implements Imapper {\r\n\r\n  @Override\r\n  public void configure(MapperFactory mapperFactory) {\r\n    mapperFactory.registerClassMap(mapperFactory.classMap(A.class,B.class)\r\n        .byDefault().customize(getAtoBMapper()).toClassMap());\r\n}\r\n\r\nprivate CustomMapper&lt;A,B&gt; getAtoBMapper() {\r\n    return new CustomMapper&lt;A,B&gt;() {\r\n      @Override\r\n      public void mapAtoB(A a,B b, MappingContext context) {\r\n      \r\n    };\r\n  }\r\n```\r\n\r\n\r\nHere is caller:\r\n```\r\nMappingContext mappingContext = new MappingContext(map);\r\nList&lt;B&gt;bList =\r\n       customMapper.mapAsList(aList,B.class,\r\n            mappingContext);\r\n//aList is a list of object a\r\n```\r\n\r\nException occurred:\r\n```\r\nma.glasnost.orika.MappingException: java.lang.NullPointerException\r\n        at ma.glasnost.orika.impl.generator.MapperGenerator.build(MapperGenerator.java:104) ~[orika-core-1.5.4.jar:?]\r\n        at ma.glasnost.orika.impl.DefaultMapperFactory.buildMapper(DefaultMapperFactory.java:1478) ~[orika-core-1.5.4.jar:?]\r\n        at ma.glasnost.orika.impl.DefaultMapperFactory.lookupMapper(DefaultMapperFactory.java:738) ~[orika-core-1.5.4.jar:?]\r\n        at ma.glasnost.orika.impl.MapperFacadeImpl.resolveMapper(MapperFacadeImpl.java:568) ~[orika-core-1.5.4.jar:?]\r\n        at ma.glasnost.orika.impl.MapperFacadeImpl.resolveMappingStrategy(MapperFacadeImpl.java:178) ~[orika-core-1.5.4.jar:?]\r\n        at ma.glasnost.orika.impl.DefaultBoundMapperFacade$BoundStrategyCache.getStrategy(DefaultBoundMapperFacade.java:259) ~[orika-core-1.5.4.jar:?]\r\n       at ma.glasnost.orika.impl.DefaultBoundMapperFacade.mapReverse(DefaultBoundMapperFacade.java:152) ~[orika-core-1.5.4.jar:?]\r\n        at ma.glasnost.orika.generated.Orika_B_A_Mapper113184950754086$47.mapBtoA(Orika_B_A_Mapper113184950754086$47.java) ~[orika-core-1.5.4.jar:?]\r\n```","title":"Null pointer exception occurred after upgrading orika-mapper to latest [1.5.4] while mapping list of object by passing mappingContext","body":"<p>`Issue is occurring after upgrading the orika-mapper 1.4.6 to 1.5.4</p>\n<p>Here is the custom Mapper class with registering custom mapper for source object and destination object.'</p>\n<pre><code>@Component\npublic class CustomMapper extends ConfigurableMapper implements Imapper {\n\n  @Override\n  public void configure(MapperFactory mapperFactory) {\n    mapperFactory.registerClassMap(mapperFactory.classMap(A.class,B.class)\n        .byDefault().customize(getAtoBMapper()).toClassMap());\n}\n\nprivate CustomMapper&lt;A,B&gt; getAtoBMapper() {\n    return new CustomMapper&lt;A,B&gt;() {\n      @Override\n      public void mapAtoB(A a,B b, MappingContext context) {\n      \n    };\n  }\n</code></pre>\n<p>Here is caller:</p>\n<pre><code>MappingContext mappingContext = new MappingContext(map);\nList&lt;B&gt;bList =\n       customMapper.mapAsList(aList,B.class,\n            mappingContext);\n//aList is a list of object a\n</code></pre>\n<p>Exception occurred:</p>\n<pre><code>ma.glasnost.orika.MappingException: java.lang.NullPointerException\n        at ma.glasnost.orika.impl.generator.MapperGenerator.build(MapperGenerator.java:104) ~[orika-core-1.5.4.jar:?]\n        at ma.glasnost.orika.impl.DefaultMapperFactory.buildMapper(DefaultMapperFactory.java:1478) ~[orika-core-1.5.4.jar:?]\n        at ma.glasnost.orika.impl.DefaultMapperFactory.lookupMapper(DefaultMapperFactory.java:738) ~[orika-core-1.5.4.jar:?]\n        at ma.glasnost.orika.impl.MapperFacadeImpl.resolveMapper(MapperFacadeImpl.java:568) ~[orika-core-1.5.4.jar:?]\n        at ma.glasnost.orika.impl.MapperFacadeImpl.resolveMappingStrategy(MapperFacadeImpl.java:178) ~[orika-core-1.5.4.jar:?]\n        at ma.glasnost.orika.impl.DefaultBoundMapperFacade$BoundStrategyCache.getStrategy(DefaultBoundMapperFacade.java:259) ~[orika-core-1.5.4.jar:?]\n       at ma.glasnost.orika.impl.DefaultBoundMapperFacade.mapReverse(DefaultBoundMapperFacade.java:152) ~[orika-core-1.5.4.jar:?]\n        at ma.glasnost.orika.generated.Orika_B_A_Mapper113184950754086$47.mapBtoA(Orika_B_A_Mapper113184950754086$47.java) ~[orika-core-1.5.4.jar:?]\n</code></pre>\n"},{"tags":["java","mysql","spring-boot"],"comments":[{"owner":{"account_id":27542061,"reputation":316,"user_id":21018639,"display_name":"josephjacobmorris"},"score":0,"creation_date":1679541993,"post_id":75818935,"comment_id":133741656,"body_markdown":"Hi @Karu , can you also attach the complete stacktrace to question description","body":"Hi @Karu , can you also attach the complete stacktrace to question description"},{"owner":{"account_id":28091375,"reputation":1,"user_id":21460836,"display_name":"Karu"},"score":0,"creation_date":1679967040,"post_id":75818935,"comment_id":133812305,"body_markdown":"Sorry for the late reply\nI added the stacktrace!!","body":"Sorry for the late reply I added the stacktrace!!"},{"owner":{"account_id":27542061,"reputation":316,"user_id":21018639,"display_name":"josephjacobmorris"},"score":0,"creation_date":1679979836,"post_id":75818935,"comment_id":133813622,"body_markdown":"Please add your `application.properties` file also and which version of Mysql are you using?","body":"Please add your <code>application.properties</code> file also and which version of Mysql are you using?"}],"answers":[{"tags":[],"owner":{"account_id":10827831,"reputation":143,"user_id":7963227,"display_name":"Sametcey"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679541242,"creation_date":1679541242,"answer_id":75818965,"question_id":75818935,"body_markdown":"in which Format do you store Birthday in your Database? Is it maybe as Date? If yes, so try in java to use java.util.Date in your java Employee","title":"org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL","body":"<p>in which Format do you store Birthday in your Database? Is it maybe as Date? If yes, so try in java to use java.util.Date in your java Employee</p>\n"},{"tags":[],"owner":{"account_id":370140,"reputation":18565,"user_id":717898,"accept_rate":86,"display_name":"Andrew Lazarus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685661077,"creation_date":1685661077,"answer_id":76386252,"question_id":75818935,"body_markdown":"The problem is buried in the stack trace\r\n\r\n&gt; Caused by: java.sql.SQLSyntaxErrorException: **Table &#39;users&#39; already exists** at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120) ~[mysql-connector-j-8.0.32.jar:8.0.32] at \r\n\r\nI’m not sure what setting or property your frameworks, which I don’t use, need to be told to create tables only if they don&#39;t already exist.","title":"org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL","body":"<p>The problem is buried in the stack trace</p>\n<blockquote>\n<p>Caused by: java.sql.SQLSyntaxErrorException: <strong>Table 'users' already exists</strong> at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120) ~[mysql-connector-j-8.0.32.jar:8.0.32] at</p>\n</blockquote>\n<p>I’m not sure what setting or property your frameworks, which I don’t use, need to be told to create tables only if they don't already exist.</p>\n"}],"owner":{"account_id":28091375,"reputation":1,"user_id":21460836,"display_name":"Karu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2632,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685661077,"creation_date":1679540667,"question_id":75818935,"body_markdown":"I&#39;m breaking my head figuring out what the problem is.\r\nI want to connect MySQL to my spring boot application but this error keeps appearing.\r\nI use A5 to connect to MySQL sever.\r\nalso, iI&#39;m very new to coding so if Im not presenting enough information, please tell me.\r\n\r\nhere are the files of my work\r\n```java\r\n@Controller\r\npublic class UserController {\r\n\t\r\n\tprivate UserRepository repository;\r\n\t\r\n\tpublic UserController (UserRepository repository) {\r\n\t\tthis.repository = repository;\r\n\t}\r\n\r\n\t@GetMapping(&quot;/memberRegistration&quot;)\r\n\tpublic String memberRegistration(@ModelAttribute User user, Model model) {\r\n\t\tmodel.addAttribute(&quot;userInputs&quot;, repository.findAll());\r\n\r\n\t\treturn &quot;/memberRegistration&quot;;\r\n\t}\r\n\r\n\t@PostMapping(&quot;/confirmingRegistration&quot;)\r\n\tpublic String confirmingRegistration(@Validated @ModelAttribute User user, BindingResult result, Model model) {\r\n\t\tmodel.addAttribute(&quot;userInput&quot;, repository.findAll());\r\n\t\t\r\n\t\tif (result.hasErrors()) {\r\n\t\t\treturn &quot;memberRegistration&quot;;\r\n\t\t}\r\n\t\trepository.save(user);\r\n\t\treturn &quot;/profile&quot;;\r\n\t}\r\n}\r\n\r\n```\r\n```java\r\n@Data\r\n@Entity\r\n@Table(name = &quot;Users&quot;)\r\npublic class User {\r\n\t@Id\r\n\t@GeneratedValue (strategy = GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\t\r\n\t@NotBlank\r\n\t@Size(max = 60)\r\n\tprivate String surName;\r\n\r\n\t@NotBlank\r\n\t@Size(max = 60)\r\n\tprivate String firstName;\r\n\r\n\t@NotBlank\r\n\t@Size(max = 60)\r\n\tprivate String surNameKana;\r\n\t\r\n\t@NotBlank\r\n\t@Size(max = 60)\r\n\tprivate String firstNameKana;\r\n\r\n\t@NotBlank\r\n\t@Email\r\n\t@Size(max = 254)\r\n\tprivate String email;\r\n\r\n\t@NotBlank\r\n\t@Size(min = 6, max= 60)\r\n\tprivate String password;\r\n\t\r\n\tprivate String gender;\r\n\r\n\tprivate String birthday;\r\n\r\n\tprivate String displayName;\r\n\r\n\r\n}\r\n```\r\n```html\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n\r\n&lt;head&gt;\r\n\t&lt;meta charset=&quot;UTF-8&quot;&gt;\r\n\t&lt;title&gt;Confirming Registraion&lt;/title&gt;\r\n\t&lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/css/confirmingRegistration.css}&quot;&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n\t&lt;div id=&quot;registration-header&quot;&gt;\r\n\t\t&lt;h3&gt;registration (confirm)&lt;/h3&gt;\r\n\t&lt;/div&gt;\r\n\r\n\t&lt;div id=&quot;registraion-confirm-area&quot;&gt;\r\n\t\t&lt;div class=&quot;inline&quot;&gt;\r\n\t\t\t&lt;h3&gt;name&lt;/h3&gt;\r\n\t\t\t&lt;div class=&quot;first-window&quot;&gt;[[${userInput.surName}]]&lt;/div&gt;\r\n\t\t\t&lt;div class=&quot;second-window&quot;&gt;[[${userInput.firstName}]]&lt;/div&gt;\r\n\t\t&lt;/div&gt;\r\n\t\t&lt;div class=&quot;bar&quot;&gt;&lt;br&gt;&lt;/div&gt;\r\n\r\n\t\t&lt;div class=&quot;inline&quot;&gt;\r\n\t\t\t&lt;h3&gt;kana&lt;/h3&gt;\r\n\t\t\t&lt;div class=&quot;first-window&quot;&gt;[[${userInput.surNameKana}]]&lt;/div&gt;\r\n\t\t\t&lt;div class=&quot;second-window&quot;&gt;[[${userInput.firstNameKana}]]&lt;/div&gt;\r\n\t\t&lt;/div&gt;\r\n\t\t&lt;div class=&quot;bar&quot;&gt;&lt;br&gt;&lt;/div&gt;\r\n\r\n\t\t&lt;div class=&quot;inline&quot;&gt;\r\n\t\t\t&lt;h3&gt;email&lt;/h3&gt;\r\n\t\t\t&lt;div class=&quot;first-window&quot;&gt;[[${userInput.email}]]&lt;/div&gt;\r\n\t\t&lt;/div&gt;\r\n\t\t&lt;div class=&quot;bar&quot;&gt;&lt;br&gt;&lt;/div&gt;\r\n\r\n\t\t&lt;div class=&quot;inline&quot;&gt;\r\n\t\t\t&lt;h3&gt;password&lt;/h3&gt;\r\n\t\t\t&lt;div class=&quot;first-window&quot;&gt;[[${userInput.password}]]&lt;/div&gt;\r\n\t\t&lt;/div&gt;\r\n\t\t&lt;div class=&quot;bar&quot;&gt;&lt;br&gt;&lt;/div&gt;\r\n\r\n\t\t&lt;div class=&quot;inline&quot;&gt;\r\n\t\t\t&lt;h3&gt;gender&lt;/h3&gt;\r\n\t\t\t&lt;div class=&quot;first-window&quot;&gt;[[${userInput.gender}]]&lt;/div&gt;\r\n\t\t&lt;/div&gt;\r\n\t\t&lt;div class=&quot;bar&quot;&gt;&lt;br&gt;&lt;/div&gt;\r\n\r\n\t\t&lt;div class=&quot;inline&quot;&gt;\r\n\t\t\t&lt;h3&gt;date of birth&lt;/h3&gt;\r\n\t\t\t&lt;div class=&quot;first-window&quot;&gt;[[${userInput.birthday}]]&lt;/div&gt;\r\n\t\t&lt;/div&gt;\r\n\t\t&lt;div class=&quot;bar&quot;&gt;&lt;br&gt;&lt;/div&gt;\r\n\r\n\t\t&lt;div class=&quot;inline&quot;&gt;\r\n\t\t\t&lt;h3&gt;display name&lt;/h3&gt;\r\n\t\t\t&lt;div class=&quot;first-window&quot;&gt;[[${userInput.displayName}]]&lt;/div&gt;\r\n\t\t&lt;/div&gt;\r\n\t\t&lt;div id=&quot;buttons&quot;&gt;\r\n\t\t\t&lt;a id=&quot;cancel-button&quot; th:href=&quot;@{/memberRegistration}&quot; method=&quot;post&quot;&gt;back&lt;/a&gt;\r\n\t\t\t&lt;input id=&quot;submit-button&quot; th:href=&quot;@{/profile}&quot; type=&quot;submit&quot; value=&quot;confirm&quot;&gt;\r\n\t\t&lt;/div&gt;\r\n\t&lt;/div&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;\r\n\r\n```\r\n\r\n\r\nIve been googling a few days to solve this problem, but i can&#39;t seem to undestand...\r\nmaybe I&#39;m missing a few steps?\r\n\r\nhere is the stacktrace\r\n\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table users (id bigint not null auto_increment, birthday varchar(255), display_name varchar(255), email varchar(254), first_name varchar(60), first_name_kana varchar(60), gender varchar(255), password varchar(60), sur_name varchar(60), sur_name_kana varchar(60), primary key (id)) engine=MyISAM&quot; via JDBC Statement\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:587) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:532) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:307) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:79) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:225) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:126) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:284) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:336) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1423) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.6.jar:6.0.6]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.6.jar:6.0.6]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.6.jar:6.0.6]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.6.jar:6.0.6]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132) ~[spring-context-6.0.6.jar:6.0.6]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907) ~[spring-context-6.0.6.jar:6.0.6]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.6.jar:6.0.6]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.4.jar:3.0.4]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.4.jar:3.0.4]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.4.jar:3.0.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.4.jar:3.0.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.4.jar:3.0.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.4.jar:3.0.4]\r\n\tat com.example.demo.MusicrewApplication.main(MusicrewApplication.java:10) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.4.jar:3.0.4]\r\nCaused by: java.sql.SQLSyntaxErrorException: Table &#39;users&#39; already exists\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120) ~[mysql-connector-j-8.0.32.jar:8.0.32]\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.32.jar:8.0.32]\r\n\tat com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763) ~[mysql-connector-j-8.0.32.jar:8.0.32]\r\n\tat com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648) ~[mysql-connector-j-8.0.32.jar:8.0.32]\r\n\tat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\t... 41 common frames omitted","title":"org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL","body":"<p>I'm breaking my head figuring out what the problem is.\nI want to connect MySQL to my spring boot application but this error keeps appearing.\nI use A5 to connect to MySQL sever.\nalso, iI'm very new to coding so if Im not presenting enough information, please tell me.</p>\n<p>here are the files of my work</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\npublic class UserController {\n    \n    private UserRepository repository;\n    \n    public UserController (UserRepository repository) {\n        this.repository = repository;\n    }\n\n    @GetMapping(&quot;/memberRegistration&quot;)\n    public String memberRegistration(@ModelAttribute User user, Model model) {\n        model.addAttribute(&quot;userInputs&quot;, repository.findAll());\n\n        return &quot;/memberRegistration&quot;;\n    }\n\n    @PostMapping(&quot;/confirmingRegistration&quot;)\n    public String confirmingRegistration(@Validated @ModelAttribute User user, BindingResult result, Model model) {\n        model.addAttribute(&quot;userInput&quot;, repository.findAll());\n        \n        if (result.hasErrors()) {\n            return &quot;memberRegistration&quot;;\n        }\n        repository.save(user);\n        return &quot;/profile&quot;;\n    }\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Entity\n@Table(name = &quot;Users&quot;)\npublic class User {\n    @Id\n    @GeneratedValue (strategy = GenerationType.IDENTITY)\n    private Long id;\n    \n    @NotBlank\n    @Size(max = 60)\n    private String surName;\n\n    @NotBlank\n    @Size(max = 60)\n    private String firstName;\n\n    @NotBlank\n    @Size(max = 60)\n    private String surNameKana;\n    \n    @NotBlank\n    @Size(max = 60)\n    private String firstNameKana;\n\n    @NotBlank\n    @Email\n    @Size(max = 254)\n    private String email;\n\n    @NotBlank\n    @Size(min = 6, max= 60)\n    private String password;\n    \n    private String gender;\n\n    private String birthday;\n\n    private String displayName;\n\n\n}\n</code></pre>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Confirming Registraion&lt;/title&gt;\n    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/css/confirmingRegistration.css}&quot;&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;div id=&quot;registration-header&quot;&gt;\n        &lt;h3&gt;registration (confirm)&lt;/h3&gt;\n    &lt;/div&gt;\n\n    &lt;div id=&quot;registraion-confirm-area&quot;&gt;\n        &lt;div class=&quot;inline&quot;&gt;\n            &lt;h3&gt;name&lt;/h3&gt;\n            &lt;div class=&quot;first-window&quot;&gt;[[${userInput.surName}]]&lt;/div&gt;\n            &lt;div class=&quot;second-window&quot;&gt;[[${userInput.firstName}]]&lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;bar&quot;&gt;&lt;br&gt;&lt;/div&gt;\n\n        &lt;div class=&quot;inline&quot;&gt;\n            &lt;h3&gt;kana&lt;/h3&gt;\n            &lt;div class=&quot;first-window&quot;&gt;[[${userInput.surNameKana}]]&lt;/div&gt;\n            &lt;div class=&quot;second-window&quot;&gt;[[${userInput.firstNameKana}]]&lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;bar&quot;&gt;&lt;br&gt;&lt;/div&gt;\n\n        &lt;div class=&quot;inline&quot;&gt;\n            &lt;h3&gt;email&lt;/h3&gt;\n            &lt;div class=&quot;first-window&quot;&gt;[[${userInput.email}]]&lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;bar&quot;&gt;&lt;br&gt;&lt;/div&gt;\n\n        &lt;div class=&quot;inline&quot;&gt;\n            &lt;h3&gt;password&lt;/h3&gt;\n            &lt;div class=&quot;first-window&quot;&gt;[[${userInput.password}]]&lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;bar&quot;&gt;&lt;br&gt;&lt;/div&gt;\n\n        &lt;div class=&quot;inline&quot;&gt;\n            &lt;h3&gt;gender&lt;/h3&gt;\n            &lt;div class=&quot;first-window&quot;&gt;[[${userInput.gender}]]&lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;bar&quot;&gt;&lt;br&gt;&lt;/div&gt;\n\n        &lt;div class=&quot;inline&quot;&gt;\n            &lt;h3&gt;date of birth&lt;/h3&gt;\n            &lt;div class=&quot;first-window&quot;&gt;[[${userInput.birthday}]]&lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;bar&quot;&gt;&lt;br&gt;&lt;/div&gt;\n\n        &lt;div class=&quot;inline&quot;&gt;\n            &lt;h3&gt;display name&lt;/h3&gt;\n            &lt;div class=&quot;first-window&quot;&gt;[[${userInput.displayName}]]&lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div id=&quot;buttons&quot;&gt;\n            &lt;a id=&quot;cancel-button&quot; th:href=&quot;@{/memberRegistration}&quot; method=&quot;post&quot;&gt;back&lt;/a&gt;\n            &lt;input id=&quot;submit-button&quot; th:href=&quot;@{/profile}&quot; type=&quot;submit&quot; value=&quot;confirm&quot;&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n\n</code></pre>\n<p>Ive been googling a few days to solve this problem, but i can't seem to undestand...\nmaybe I'm missing a few steps?</p>\n<p>here is the stacktrace</p>\n<p>org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table users (id bigint not null auto_increment, birthday varchar(255), display_name varchar(255), email varchar(254), first_name varchar(60), first_name_kana varchar(60), gender varchar(255), password varchar(60), sur_name varchar(60), sur_name_kana varchar(60), primary key (id)) engine=MyISAM&quot; via JDBC Statement\nat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:587) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:532) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:307) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:79) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:225) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:126) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:284) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]\nat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.internal.SessionFactoryImpl.(SessionFactoryImpl.java:336) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1423) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.6.jar:6.0.6]\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.6.jar:6.0.6]\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.6.jar:6.0.6]\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.6.jar:6.0.6]\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.6.jar:6.0.6]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-6.0.6.jar:6.0.6]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-6.0.6.jar:6.0.6]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.6.jar:6.0.6]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.6.jar:6.0.6]\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.6.jar:6.0.6]\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.6.jar:6.0.6]\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.6.jar:6.0.6]\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.6.jar:6.0.6]\nat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132) ~[spring-context-6.0.6.jar:6.0.6]\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907) ~[spring-context-6.0.6.jar:6.0.6]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.6.jar:6.0.6]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.4.jar:3.0.4]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.4.jar:3.0.4]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.4.jar:3.0.4]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.4.jar:3.0.4]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.4.jar:3.0.4]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.4.jar:3.0.4]\nat com.example.demo.MusicrewApplication.main(MusicrewApplication.java:10) ~[classes/:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\nat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.4.jar:3.0.4]\nCaused by: java.sql.SQLSyntaxErrorException: Table 'users' already exists\nat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120) ~[mysql-connector-j-8.0.32.jar:8.0.32]\nat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.32.jar:8.0.32]\nat com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763) ~[mysql-connector-j-8.0.32.jar:8.0.32]\nat com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648) ~[mysql-connector-j-8.0.32.jar:8.0.32]\nat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]\nat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]\nat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n... 41 common frames omitted</p>\n"},{"tags":["java","controller","javafx-2","javafx","viewcontroller"],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1685660468,"creation_date":1359067442,"answer_id":14512209,"question_id":14511016,"body_markdown":"**Update 2023**\r\n\r\nAs noted in the referenced question:\r\n\r\n * https://stackoverflow.com/questions/14187963/passing-parameters-javafx\r\n\r\nAn alternate solution to that presented here is to use MVC, similar to as documented in:\r\n\r\n * https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx\r\n\r\nThe solution presented here is still perfectly OK, but you might have a bit more flexibility (and a bit more complexity) by adopting the MVC approach instead.\r\n\r\n\r\n----\r\n\r\n\r\nUse a variation on the solution in https://stackoverflow.com/questions/14187963/passing-parameters-javafx.\r\n\r\nSetup a `LoginManager` which has a reference to both the `LoginController` and the `MainViewController`. \r\n\r\n 1. The `loginManager` creates a login screen using the `loginController` and passes a reference to itself to the `loginController`.  \r\n 2. When login has passed, the `loginController` notifies the `loginManager` of the login `sessionID`.  \r\n 3. The `loginManager` can then create a `MainViewController`, passing the `mainViewController` the `sessionID` and replacing the scene contents with the main view.\r\n\r\nHere is a link to [some sample code][1] to demonstrate this approach.\r\n![login screen][2]\r\n![mainview screen][3]\r\n\r\n\r\n  [1]: https://gist.github.com/4631319\r\n  [2]: http://i.stack.imgur.com/AAWTo.png\r\n  [3]: http://i.stack.imgur.com/XwS8V.png","title":"How can I use a variable from another Controller in JavaFX","body":"<p><strong>Update 2023</strong></p>\n<p>As noted in the referenced question:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/14187963/passing-parameters-javafx\">Passing Parameters JavaFX FXML</a></li>\n</ul>\n<p>An alternate solution to that presented here is to use MVC, similar to as documented in:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx\">Applying MVC With JavaFx</a></li>\n</ul>\n<p>The solution presented here is still perfectly OK, but you might have a bit more flexibility (and a bit more complexity) by adopting the MVC approach instead.</p>\n<hr />\n<p>Use a variation on the solution in <a href=\"https://stackoverflow.com/questions/14187963/passing-parameters-javafx\">Passing Parameters JavaFX FXML</a>.</p>\n<p>Setup a <code>LoginManager</code> which has a reference to both the <code>LoginController</code> and the <code>MainViewController</code>.</p>\n<ol>\n<li>The <code>loginManager</code> creates a login screen using the <code>loginController</code> and passes a reference to itself to the <code>loginController</code>.</li>\n<li>When login has passed, the <code>loginController</code> notifies the <code>loginManager</code> of the login <code>sessionID</code>.</li>\n<li>The <code>loginManager</code> can then create a <code>MainViewController</code>, passing the <code>mainViewController</code> the <code>sessionID</code> and replacing the scene contents with the main view.</li>\n</ol>\n<p>Here is a link to <a href=\"https://gist.github.com/4631319\" rel=\"nofollow noreferrer\">some sample code</a> to demonstrate this approach.\n<img src=\"https://i.stack.imgur.com/AAWTo.png\" alt=\"login screen\" />\n<img src=\"https://i.stack.imgur.com/XwS8V.png\" alt=\"mainview screen\" /></p>\n"}],"owner":{"account_id":2226580,"reputation":6496,"user_id":1965189,"accept_rate":95,"display_name":"Victor Laerte"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11631,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":14512209,"answer_count":1,"score":4,"last_activity_date":1685660468,"creation_date":1359062447,"question_id":14511016,"body_markdown":"I have two scenes Login.fxml and MainView.fxml and two diferent controllers LoginController.java and MainViewControler.java\r\n\r\nIn LoginController I do the whole process to login and get the value of JSessionID and store it in a object, like below:\r\n\r\n    loginGateway = loginGateway(gateway);\r\n\r\nNow in MainViewController I need to use the this object (loginGateway) to getJSessionID and make other requests to the server. But how can I acess this object in another Controller Class (MainViewController.java) ????","title":"How can I use a variable from another Controller in JavaFX","body":"<p>I have two scenes Login.fxml and MainView.fxml and two diferent controllers LoginController.java and MainViewControler.java</p>\n\n<p>In LoginController I do the whole process to login and get the value of JSessionID and store it in a object, like below:</p>\n\n<pre><code>loginGateway = loginGateway(gateway);\n</code></pre>\n\n<p>Now in MainViewController I need to use the this object (loginGateway) to getJSessionID and make other requests to the server. But how can I acess this object in another Controller Class (MainViewController.java) ????</p>\n"},{"tags":["java","spring-boot","spring-security","bearer-token"],"comments":[{"owner":{"account_id":3416886,"reputation":137,"user_id":2865528,"display_name":"manojgarimella"},"score":0,"creation_date":1685593419,"post_id":76377135,"comment_id":134682510,"body_markdown":"With the limited code I have above, one of the best practices is to use a nested catch block and define the proper Exception classes. You are returning the default `HttpStatus` as `Forbidden`. Instead of that have multiple catch blocks and capture the actual response status code and send in the response.","body":"With the limited code I have above, one of the best practices is to use a nested catch block and define the proper Exception classes. You are returning the default <code>HttpStatus</code> as <code>Forbidden</code>. Instead of that have multiple catch blocks and capture the actual response status code and send in the response."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1685619193,"post_id":76377135,"comment_id":134686991,"body_markdown":"@manojgarimella How can I use mulitple catch blocks in handleAccessDeniedError for this process?","body":"@manojgarimella How can I use mulitple catch blocks in handleAccessDeniedError for this process?"},{"owner":{"account_id":3416886,"reputation":137,"user_id":2865528,"display_name":"manojgarimella"},"score":0,"creation_date":1685711973,"post_id":76377135,"comment_id":134703393,"body_markdown":"Don&#39;t send `ResponseEntity&lt;&gt;` directly in the `ExceptionHandler`. I would suggest you to handle the logic of setting that status in your controller so you can verify the exception class first.","body":"Don&#39;t send <code>ResponseEntity&lt;&gt;</code> directly in the <code>ExceptionHandler</code>. I would suggest you to handle the logic of setting that status in your controller so you can verify the exception class first."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1685747321,"post_id":76377135,"comment_id":134709622,"body_markdown":"@manojgarimella I tried to fix the issue and shared the answer.","body":"@manojgarimella I tried to fix the issue and shared the answer."}],"answers":[{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1685659459,"creation_date":1685659459,"answer_id":76386147,"question_id":76377135,"body_markdown":"Here is the solution shown below\r\n\r\n1 ) Define `CustomAuthenticationEntryPoint`\r\n\r\n    @Component\r\n    public class CustomAuthenticationEntryPoint implements AuthenticationEntryPoint {\r\n    \r\n        /**\r\n         * Handles the unauthorized request by sending an &quot;Unauthorized&quot;\r\n         * response with the HTTP status code 401 (SC_UNAUTHORIZED).\r\n         *\r\n         * @param request       the {@link HttpServletRequest} object representing the incoming request\r\n         * @param response      the {@link HttpServletResponse} object used to send the response\r\n         * @param authException the {@link AuthenticationException} that occurred during authentication\r\n         * @throws IOException if an I/O error occurs while sending the response\r\n         */\r\n        @Override\r\n        public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException) throws IOException {\r\n            response.sendError(HttpServletResponse.SC_UNAUTHORIZED, &quot;Unauthorized&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n2 ) Inject `CustomAuthenticationEntryPoint` class to `SecurityConfiguration`\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalAuthentication\r\n    @EnableMethodSecurity\r\n    @RequiredArgsConstructor\r\n    class SecurityConfiguration {\r\n    \r\n    ....\r\n    \r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity httpSecurity,\r\n    AuthenticationFilter authenticationFilter, CustomAuthenticationEntryPoint customAuthenticationEntryPoint){\r\n    \r\n    httpSecurity.exceptionHandling()\r\n                    .authenticationEntryPoint(customAuthenticationEntryPoint);\r\n    \r\n    } \r\n    \r\n    .....\r\n    \r\n    }","title":"Spring Boot Security - Get 403 instead of 401 without using bearer token","body":"<p>Here is the solution shown below</p>\n<p>1 ) Define <code>CustomAuthenticationEntryPoint</code></p>\n<pre><code>@Component\npublic class CustomAuthenticationEntryPoint implements AuthenticationEntryPoint {\n\n    /**\n     * Handles the unauthorized request by sending an &quot;Unauthorized&quot;\n     * response with the HTTP status code 401 (SC_UNAUTHORIZED).\n     *\n     * @param request       the {@link HttpServletRequest} object representing the incoming request\n     * @param response      the {@link HttpServletResponse} object used to send the response\n     * @param authException the {@link AuthenticationException} that occurred during authentication\n     * @throws IOException if an I/O error occurs while sending the response\n     */\n    @Override\n    public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException) throws IOException {\n        response.sendError(HttpServletResponse.SC_UNAUTHORIZED, &quot;Unauthorized&quot;);\n    }\n\n}\n</code></pre>\n<p>2 ) Inject <code>CustomAuthenticationEntryPoint</code> class to <code>SecurityConfiguration</code></p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalAuthentication\n@EnableMethodSecurity\n@RequiredArgsConstructor\nclass SecurityConfiguration {\n\n....\n\n@Bean\npublic SecurityFilterChain filterChain(HttpSecurity httpSecurity,\nAuthenticationFilter authenticationFilter, CustomAuthenticationEntryPoint customAuthenticationEntryPoint){\n\nhttpSecurity.exceptionHandling()\n                .authenticationEntryPoint(customAuthenticationEntryPoint);\n\n} \n\n.....\n\n}\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":600,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76386147,"answer_count":1,"score":0,"last_activity_date":1685659459,"creation_date":1685565792,"question_id":76377135,"body_markdown":"I have a problem to handle with the exception handling to get 401 Unauthorized result when I don&#39;t use bearer token through Postman.\r\n\r\nWhen I use a user bearer token and send a request to this method, I get this response message shown below\r\n\r\n    {\r\n        &quot;time&quot;: &quot;2023-05-29T18:06:23.381897147&quot;,\r\n        &quot;httpStatus&quot;: &quot;UNAUTHORIZED&quot;,\r\n        &quot;header&quot;: &quot;AUTH ERROR&quot;,\r\n        &quot;isSuccess&quot;: false\r\n    }\r\n\r\nI want to get this message shown below as it is a user not admin\r\n\r\n    {\r\n        &quot;time&quot;: &quot;2023-05-29T18:06:23.381897147&quot;,\r\n        &quot;httpStatus&quot;: &quot;FORBIDDEN&quot;,\r\n        &quot;header&quot;: &quot;AUTH ERROR&quot;,\r\n        &quot;isSuccess&quot;: false\r\n    }\r\n\r\nMoreover, I don&#39;t use any bearer token, \r\nIt always returns 403 Forbidden instead of 401 Unauthorized.\r\nI selected `No Auth` from `type` part in `Authorization` in `Postman` and then send a request to the endpoint, `handleAccessDeniedError` cannot be called. I think a different exception is used for that. \r\nWhich exception should be used?\r\n\r\nHere is the relevant part of GlobalExceptionHandler.\r\n\r\n    @ExceptionHandler({AccessDeniedException.class})\r\n        protected ResponseEntity&lt;Object&gt; handleAccessDeniedError(final AccessDeniedException exception) {\r\n            log.error(exception.getMessage(), exception);\r\n    \r\n            Error error = Error.builder()\r\n                    .httpStatus(HttpStatus.FORBIDDEN)\r\n                    .header(Error.Header.AUTH_ERROR.getName())\r\n                    .build();\r\n            return new ResponseEntity&lt;&gt;(error, HttpStatus.FORBIDDEN);\r\n        }\r\n\r\nHere is the sample code snippets\r\n\r\n    @GetMapping\r\n    @PreAuthorize(&quot;hasAnyAuthority(&#39;ADMIN&#39;)&quot;)\r\n    public Response&lt;?&gt; getUsers(@RequestBody @Valid UserListRequest listRequest) {\r\n    \r\n    }\r\n\r\nHow can I fix the issue?\r\n\r\n","title":"Spring Boot Security - Get 403 instead of 401 without using bearer token","body":"<p>I have a problem to handle with the exception handling to get 401 Unauthorized result when I don't use bearer token through Postman.</p>\n<p>When I use a user bearer token and send a request to this method, I get this response message shown below</p>\n<pre><code>{\n    &quot;time&quot;: &quot;2023-05-29T18:06:23.381897147&quot;,\n    &quot;httpStatus&quot;: &quot;UNAUTHORIZED&quot;,\n    &quot;header&quot;: &quot;AUTH ERROR&quot;,\n    &quot;isSuccess&quot;: false\n}\n</code></pre>\n<p>I want to get this message shown below as it is a user not admin</p>\n<pre><code>{\n    &quot;time&quot;: &quot;2023-05-29T18:06:23.381897147&quot;,\n    &quot;httpStatus&quot;: &quot;FORBIDDEN&quot;,\n    &quot;header&quot;: &quot;AUTH ERROR&quot;,\n    &quot;isSuccess&quot;: false\n}\n</code></pre>\n<p>Moreover, I don't use any bearer token,\nIt always returns 403 Forbidden instead of 401 Unauthorized.\nI selected <code>No Auth</code> from <code>type</code> part in <code>Authorization</code> in <code>Postman</code> and then send a request to the endpoint, <code>handleAccessDeniedError</code> cannot be called. I think a different exception is used for that.\nWhich exception should be used?</p>\n<p>Here is the relevant part of GlobalExceptionHandler.</p>\n<pre><code>@ExceptionHandler({AccessDeniedException.class})\n    protected ResponseEntity&lt;Object&gt; handleAccessDeniedError(final AccessDeniedException exception) {\n        log.error(exception.getMessage(), exception);\n\n        Error error = Error.builder()\n                .httpStatus(HttpStatus.FORBIDDEN)\n                .header(Error.Header.AUTH_ERROR.getName())\n                .build();\n        return new ResponseEntity&lt;&gt;(error, HttpStatus.FORBIDDEN);\n    }\n</code></pre>\n<p>Here is the sample code snippets</p>\n<pre><code>@GetMapping\n@PreAuthorize(&quot;hasAnyAuthority('ADMIN')&quot;)\npublic Response&lt;?&gt; getUsers(@RequestBody @Valid UserListRequest listRequest) {\n\n}\n</code></pre>\n<p>How can I fix the issue?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":0,"creation_date":1685658783,"post_id":76385738,"comment_id":134695611,"body_markdown":"What are these paths &gt; `/home/public`,  `home/add`, HTML pages?","body":"What are these paths &gt; <code>&#47;home&#47;public</code>,  <code>home&#47;add</code>, HTML pages?"}],"answers":[{"tags":[],"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685659196,"creation_date":1685659196,"answer_id":76386134,"question_id":76385738,"body_markdown":"I believe this could happen not because of the `/home/public` nor `/home/add` when you request a page from the server, browsers will request the favicon as well so they issue `/favicon.ico` request against the server so make sure to allow it as well\r\n\r\nSo update your code as follows: \r\n```\r\n...\r\n.requestMatchers(&quot;/home/public&quot;, &quot;/home/add&quot;, &quot;/favicon.ico&quot;)\r\n.permitAll()\r\n```\r\nYou can open the dev tools in the browser and check the network tab if there are any XHR requests against a server that needed to be allowed also.","title":"Spring Security forces log in screen even with permit all specification","body":"<p>I believe this could happen not because of the <code>/home/public</code> nor <code>/home/add</code> when you request a page from the server, browsers will request the favicon as well so they issue <code>/favicon.ico</code> request against the server so make sure to allow it as well</p>\n<p>So update your code as follows:</p>\n<pre><code>...\n.requestMatchers(&quot;/home/public&quot;, &quot;/home/add&quot;, &quot;/favicon.ico&quot;)\n.permitAll()\n</code></pre>\n<p>You can open the dev tools in the browser and check the network tab if there are any XHR requests against a server that needed to be allowed also.</p>\n"}],"owner":{"account_id":7714432,"reputation":3,"user_id":5842685,"display_name":"Cooler166"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76386134,"answer_count":1,"score":0,"last_activity_date":1685659196,"creation_date":1685653933,"question_id":76385738,"body_markdown":"I have a basic spring security filter chain with form login. And whenever I try to bypass the login screen it just redirects back to it.\r\n\r\nSpecifically, trying to access public still redirects back to the login page.\r\n\r\n```\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain (HttpSecurity sec) throws Exception\r\n    {\r\n        sec.csrf().disable()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(&quot;home/normal&quot;)\r\n                .hasRole(&quot;NORMAL&quot;)\r\n                .requestMatchers(&quot;home/admin&quot;)\r\n                .hasRole(&quot;ADMIN&quot;)\r\n                .requestMatchers(&quot;/home/public&quot;, &quot;/home/add&quot;)\r\n                .permitAll()\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .formLogin();\r\n        return sec.build();\r\n    }\r\n```","title":"Spring Security forces log in screen even with permit all specification","body":"<p>I have a basic spring security filter chain with form login. And whenever I try to bypass the login screen it just redirects back to it.</p>\n<p>Specifically, trying to access public still redirects back to the login page.</p>\n<pre><code>    @Bean\n    public SecurityFilterChain securityFilterChain (HttpSecurity sec) throws Exception\n    {\n        sec.csrf().disable()\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;home/normal&quot;)\n                .hasRole(&quot;NORMAL&quot;)\n                .requestMatchers(&quot;home/admin&quot;)\n                .hasRole(&quot;ADMIN&quot;)\n                .requestMatchers(&quot;/home/public&quot;, &quot;/home/add&quot;)\n                .permitAll()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .formLogin();\n        return sec.build();\n    }\n</code></pre>\n"},{"tags":["java","exception","runtimeexception","checked-exceptions"],"answers":[{"tags":[],"owner":{"account_id":48638,"reputation":5943,"user_id":144578,"accept_rate":79,"display_name":"Sebastiaan van den Broek"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1294580533,"creation_date":1294580533,"answer_id":4639446,"question_id":4639432,"body_markdown":"What is your question exactly?\r\nCompilers shouldn&#39;t (and won&#39;t) enforce you to try/catch unchecked exceptions, that would go against exactly what they are.\r\n\r\nThe general idea is that checked exceptions are something you may be able to foresee but may be based on input that is out of your control and that you have to deal with.\r\nUnchecked exceptions will usually represent bugs in your program.\r\n\r\nThere&#39;s a number of people that think checked exceptions are a mistake in the Java platform and they only use them very sparingly or not at all. You can read more about this debate by searching google.","title":"Checked vs Unchecked exception","body":"<p>What is your question exactly?\nCompilers shouldn't (and won't) enforce you to try/catch unchecked exceptions, that would go against exactly what they are.</p>\n\n<p>The general idea is that checked exceptions are something you may be able to foresee but may be based on input that is out of your control and that you have to deal with.\nUnchecked exceptions will usually represent bugs in your program.</p>\n\n<p>There's a number of people that think checked exceptions are a mistake in the Java platform and they only use them very sparingly or not at all. You can read more about this debate by searching google.</p>\n"},{"tags":[],"owner":{"account_id":56438,"reputation":14829,"user_id":169045,"accept_rate":89,"display_name":"rodion"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1294581824,"creation_date":1294581824,"answer_id":4639560,"question_id":4639432,"body_markdown":"Unchecked exceptions are those that extend `RuntimeException` class. Compiler will never force you to catch such exception or force you to declare it in the method using `throws` keyword. All other exception types (that do not extend `RuntimeException`) are checked and therefore must be declared to be thrown and/or catched.\r\n\r\nChecked exceptions are used when you want the caller of your method (i.e the user of your API) to explicitly handle the exceptional case in your API. Checked exceptions are declared when you believe the call will be able to do something meaningful with that exceptional case, like retrying the call, rolling changes back or converting it into some user-readable error message.\r\n\r\nIf you believe that there is nothing useful the call can do about the exception (especially when it represents a bug, or a wrong usage of your API), then the exception should be unchecked. Also, an API with too many checked exceptions can be annoying to program with (e.g. try using java reflection API=)","title":"Checked vs Unchecked exception","body":"<p>Unchecked exceptions are those that extend <code>RuntimeException</code> class. Compiler will never force you to catch such exception or force you to declare it in the method using <code>throws</code> keyword. All other exception types (that do not extend <code>RuntimeException</code>) are checked and therefore must be declared to be thrown and/or catched.</p>\n\n<p>Checked exceptions are used when you want the caller of your method (i.e the user of your API) to explicitly handle the exceptional case in your API. Checked exceptions are declared when you believe the call will be able to do something meaningful with that exceptional case, like retrying the call, rolling changes back or converting it into some user-readable error message.</p>\n\n<p>If you believe that there is nothing useful the call can do about the exception (especially when it represents a bug, or a wrong usage of your API), then the exception should be unchecked. Also, an API with too many checked exceptions can be annoying to program with (e.g. try using java reflection API=)</p>\n"},{"tags":[],"owner":{"account_id":69592,"reputation":53841,"user_id":202375,"accept_rate":62,"display_name":"Saurabh Gokhale"},"down_vote_count":3,"up_vote_count":7,"is_accepted":false,"score":4,"last_activity_date":1679911347,"creation_date":1296309397,"answer_id":4837228,"question_id":4639432,"body_markdown":"It is because,  \r\n\r\n 1. Checked Exceptions are not a result of programmer&#39;s fault. Instead they are the serious consequences where we(programmer) aren&#39;t expected to do much with it.\r\n 2. In case of Unchecked Exception, it is an exception generated because of the programmer&#39;s fault &amp; often can be resolved by programmer itself. \r\n\r\nCheck the following links :   \r\n\r\n[Why RunTime Exceptions are unchecked ?][1]  \r\n[Checked vs Unchecked Exception ?][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1656376/why-are-runtime-exceptions-unchecked-in-java\r\n  [2]: https://stackoverflow.com/questions/499437/in-java-when-should-i-create-a-checked-exception-and-when-should-it-be-a-runtim","title":"Checked vs Unchecked exception","body":"<p>It is because,</p>\n<ol>\n<li>Checked Exceptions are not a result of programmer's fault. Instead they are the serious consequences where we(programmer) aren't expected to do much with it.</li>\n<li>In case of Unchecked Exception, it is an exception generated because of the programmer's fault &amp; often can be resolved by programmer itself.</li>\n</ol>\n<p>Check the following links :</p>\n<p><a href=\"https://stackoverflow.com/questions/1656376/why-are-runtime-exceptions-unchecked-in-java\">Why RunTime Exceptions are unchecked ?</a><br />\n<a href=\"https://stackoverflow.com/questions/499437/in-java-when-should-i-create-a-checked-exception-and-when-should-it-be-a-runtim\">Checked vs Unchecked Exception ?</a></p>\n"},{"tags":[],"owner":{"account_id":8911650,"reputation":2610,"user_id":6651650,"accept_rate":75,"display_name":"Paul Wintz"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1542225145,"creation_date":1495479262,"answer_id":44120179,"question_id":4639432,"body_markdown":" - Checked Exceptions are useful for handling events that occur in the normal operation of a program. An example would be an `IOException` that is thrown when a file cannot be opened. These exceptions occur even if there is nothing wrong with the program. It is necessary, therefore, to tell the program how to handle the exception.\r\n - Unchecked exceptions are useful for identifying defects in the code. For instance, a `NullPointerException` is thrown when a value is read on a `null` object. Thus an Unchecked Exception represents a problem that requires a manual fix by the programmer. It is reasonable for the program to crash in order to avoid erroneous behavior, so a try-catch block is not required (but might be desirable in order to provide mitigation, such as displaying an error to the user). \r\n","title":"Checked vs Unchecked exception","body":"<ul>\n<li>Checked Exceptions are useful for handling events that occur in the normal operation of a program. An example would be an <code>IOException</code> that is thrown when a file cannot be opened. These exceptions occur even if there is nothing wrong with the program. It is necessary, therefore, to tell the program how to handle the exception.</li>\n<li>Unchecked exceptions are useful for identifying defects in the code. For instance, a <code>NullPointerException</code> is thrown when a value is read on a <code>null</code> object. Thus an Unchecked Exception represents a problem that requires a manual fix by the programmer. It is reasonable for the program to crash in order to avoid erroneous behavior, so a try-catch block is not required (but might be desirable in order to provide mitigation, such as displaying an error to the user). </li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8905247,"reputation":133,"user_id":7378376,"display_name":"Antony Sampath Kumar Reddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571209801,"creation_date":1571209801,"answer_id":58407642,"question_id":4639432,"body_markdown":"**Checked Exceptions\r\n-------------------\r\nExceptions which are to be checked or handled or should be taken care during the time of writing the code are called as checked exceptions. \r\nFor eg:\r\n1. we have FileNotFoundException --&gt;which will be occured when we are writing some code related to file classes. There will e defenetly posibility of non existence of file. In such case in order to handle them , we are forced to handle those exception for sure.\r\n2. one more example is ParseException ,which will be occured when we are dealing with date functions.\r\nUnChecked Exceptions\r\n--------------------\r\nThese are the exceptions that are optional to be handled during the time of coding. Its up to us whether we handle them or not. In case if we fail to handle them, There is a chance of getting runtime errors during the exceution.\r\nFor eg:\r\nWe have something called NullPointerException,ArithemeticException,NosSuchElementFoundException and so on. These are like optional things we dont even have to handle them. More over even jvm or compiler will not recommend us to handle them.**","title":"Checked vs Unchecked exception","body":"<h2>**Checked Exceptions</h2>\n\n<p>Exceptions which are to be checked or handled or should be taken care during the time of writing the code are called as checked exceptions. \nFor eg:\n1. we have FileNotFoundException -->which will be occured when we are writing some code related to file classes. There will e defenetly posibility of non existence of file. In such case in order to handle them , we are forced to handle those exception for sure.\n2. one more example is ParseException ,which will be occured when we are dealing with date functions.</p>\n\n<h2>UnChecked Exceptions</h2>\n\n<p>These are the exceptions that are optional to be handled during the time of coding. Its up to us whether we handle them or not. In case if we fail to handle them, There is a chance of getting runtime errors during the exceution.\nFor eg:\nWe have something called NullPointerException,ArithemeticException,NosSuchElementFoundException and so on. These are like optional things we dont even have to handle them. More over even jvm or compiler will not recommend us to handle them.**</p>\n"},{"tags":[],"owner":{"account_id":18386701,"reputation":11,"user_id":13393567,"display_name":"Vidur Agarwal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1587668183,"creation_date":1587668183,"answer_id":61394945,"question_id":4639432,"body_markdown":"All Exceptions are part of run time and not compile time. There are two kinds of exceptions checked exceptions and unchecked exceptions. Examples of checked exceptions are IO Exceptions, ClassNotFound Exception and examples of unchecked exceptions are runtime exceptions. In the case of checked exceptions, error or warning message comes at compile time so that the user will take care of it at runtime by using throws keyword, which is used to throw exceptions to the default catch mechanism system. But in case of unchecked exceptions warning is not there at compile time.","title":"Checked vs Unchecked exception","body":"<p>All Exceptions are part of run time and not compile time. There are two kinds of exceptions checked exceptions and unchecked exceptions. Examples of checked exceptions are IO Exceptions, ClassNotFound Exception and examples of unchecked exceptions are runtime exceptions. In the case of checked exceptions, error or warning message comes at compile time so that the user will take care of it at runtime by using throws keyword, which is used to throw exceptions to the default catch mechanism system. But in case of unchecked exceptions warning is not there at compile time.</p>\n"},{"tags":[],"owner":{"account_id":10558558,"reputation":1079,"user_id":7778972,"display_name":"Rahul Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622905006,"creation_date":1622905006,"answer_id":67850858,"question_id":4639432,"body_markdown":"in simple words, \r\n\r\n - **checked exceptions** are those which can be and should be handled by your code(therefore compiler forces you to handle them)\r\n - **unchecked exceptions** are those which lie beyond programmer&#39;s control(therefore compiler doesn&#39;t forces you to handle them)\r\n\r\nuse the same rule even while creating your custom exceptions.\r\n\r\n ","title":"Checked vs Unchecked exception","body":"<p>in simple words,</p>\n<ul>\n<li><strong>checked exceptions</strong> are those which can be and should be handled by your code(therefore compiler forces you to handle them)</li>\n<li><strong>unchecked exceptions</strong> are those which lie beyond programmer's control(therefore compiler doesn't forces you to handle them)</li>\n</ul>\n<p>use the same rule even while creating your custom exceptions.</p>\n"}],"owner":{"account_id":273524,"reputation":239,"user_id":565183,"accept_rate":0,"display_name":"Laawanya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16495,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":7,"score":16,"last_activity_date":1685658783,"creation_date":1294580340,"question_id":4639432,"body_markdown":"What does the following quote mean? \r\n\r\n&gt; With an *unchecked* exception, however, the compiler doesn&#39;t force\r\n&gt; client programmers either to catch the exception or declare it in a\r\n&gt; throws clause. In fact, client programmers may not even know that the\r\n&gt; exception could be thrown. eg, `StringIndexOutOfBoundsException`\r\n&gt; thrown by String&#39;s `charAt()` method.\r\n\r\n \r\nAccording to that quotation, there is no need to use try-catch blocks,\r\nbut I&#39;ve seen the compiler require some code to be placed in try-catch blocks.\r\n\r\nWhy do some exceptions require try-catch blocks and others don&#39;t? \r\n","title":"Checked vs Unchecked exception","body":"<p>What does the following quote mean?</p>\n<blockquote>\n<p>With an <em>unchecked</em> exception, however, the compiler doesn't force\nclient programmers either to catch the exception or declare it in a\nthrows clause. In fact, client programmers may not even know that the\nexception could be thrown. eg, <code>StringIndexOutOfBoundsException</code>\nthrown by String's <code>charAt()</code> method.</p>\n</blockquote>\n<p>According to that quotation, there is no need to use try-catch blocks,\nbut I've seen the compiler require some code to be placed in try-catch blocks.</p>\n<p>Why do some exceptions require try-catch blocks and others don't?</p>\n"},{"tags":["java","spring-boot","junit","mockito"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1685657134,"post_id":76385929,"comment_id":134695398,"body_markdown":"Is `setUp` being run?","body":"Is <code>setUp</code> being run?"},{"owner":{"account_id":2500295,"reputation":1257,"user_id":2175604,"accept_rate":43,"display_name":"techie11"},"score":0,"creation_date":1685658408,"post_id":76385929,"comment_id":134695565,"body_markdown":"It was not run. What could be the reason that setUp was not run?","body":"It was not run. What could be the reason that setUp was not run?"},{"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"score":1,"creation_date":1685658729,"post_id":76385929,"comment_id":134695609,"body_markdown":"Which version of Junit are you using ?","body":"Which version of Junit are you using ?"},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1685658790,"post_id":76385929,"comment_id":134695614,"body_markdown":"@techie11 it&#39;s a moot point that won&#39;t correctly configure your mocks anyway.  But, since you asked, if the `@Before` method is not running, check that you&#39;re using the correct version of Junit.","body":"@techie11 it&#39;s a moot point that won&#39;t correctly configure your mocks anyway.  But, since you asked, if the <code>@Before</code> method is not running, check that you&#39;re using the correct version of Junit."},{"owner":{"account_id":2500295,"reputation":1257,"user_id":2175604,"accept_rate":43,"display_name":"techie11"},"score":0,"creation_date":1685659272,"post_id":76385929,"comment_id":134695684,"body_markdown":"I&#39;m using Junit 5. I should use @BeforeEach","body":"I&#39;m using Junit 5. I should use @BeforeEach"},{"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"score":0,"creation_date":1685659368,"post_id":76385929,"comment_id":134695693,"body_markdown":"Yes, you need BeforeEach :) Using ExtendWith + InjectMocks, as suggested by @lane.maxwell, is a good idea, it would simplify your code.","body":"Yes, you need BeforeEach :) Using ExtendWith + InjectMocks, as suggested by @lane.maxwell, is a good idea, it would simplify your code."}],"answers":[{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685658485,"creation_date":1685658485,"answer_id":76386096,"question_id":76385929,"body_markdown":"I can&#39;t tell which version of JUnit you&#39;re using, but since you&#39;re using Spring, you don&#39;t have to manually set up these mocks.\r\n\r\nIf you&#39;re using JUnit5, just annotate your class with `@ExtendWith(MockitoExtension.class)`, then just add `@InjectMocks` on the class under test.  You do not need to have a separate setup method.  If you&#39;re using JUnit4, use the `RunWith` annotation to setup the runner.  You should only be using openMocks if you&#39;re running with a different runner, like `SpringJUnit4ClassRunner`\r\n\r\n\r\n    @RunWith(MockitoJUnitRunner.class) // if Junit4\r\n    @ExtendWith(MockitoExtension.class) // if Junit5\r\n    class PointIssuanceLookupDaoTest {\r\n\r\n      @Mock\r\n      NamedParameterJdbcTemplate template;\r\n\r\n      @InjectMocks\r\n      private PointIssuanceLookupDao sut;\r\n    }\r\n","title":"mockito NullInsteadOfMockException while stubbing","body":"<p>I can't tell which version of JUnit you're using, but since you're using Spring, you don't have to manually set up these mocks.</p>\n<p>If you're using JUnit5, just annotate your class with <code>@ExtendWith(MockitoExtension.class)</code>, then just add <code>@InjectMocks</code> on the class under test.  You do not need to have a separate setup method.  If you're using JUnit4, use the <code>RunWith</code> annotation to setup the runner.  You should only be using openMocks if you're running with a different runner, like <code>SpringJUnit4ClassRunner</code></p>\n<pre><code>@RunWith(MockitoJUnitRunner.class) // if Junit4\n@ExtendWith(MockitoExtension.class) // if Junit5\nclass PointIssuanceLookupDaoTest {\n\n  @Mock\n  NamedParameterJdbcTemplate template;\n\n  @InjectMocks\n  private PointIssuanceLookupDao sut;\n}\n</code></pre>\n"}],"owner":{"account_id":2500295,"reputation":1257,"user_id":2175604,"accept_rate":43,"display_name":"techie11"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685658485,"creation_date":1685656141,"question_id":76385929,"body_markdown":"I want to mock a method call of a DAO class which use JDBC:\r\n\r\n    public class PointIssuanceLookupDao {\r\n        public PointIssuanceLookupDao(@Qualifier(&quot;azureNamedParameterJdbcTemplate&quot;) NamedParameterJdbcTemplate azureNamedParameterJdbcTemplate) {\r\n            this.azureNamedParameterJdbcTemplate = azureNamedParameterJdbcTemplate;\r\n        }\r\n        ...\r\n\r\n    public CalcConstants retrieveCalcConstants (String productCode, String productSubCode){\r\n        ....\r\n        queryResultList = azureNamedParameterJdbcTemplate.query(PRODUCT_RECON_DETAIL_SELECT, paramMap, queryValues);\r\n        ....\r\n\r\n\r\nThis is my test case:\r\n\r\n    class PointIssuanceLookupDaoTest {\r\n\r\n        @Mock\r\n        NamedParameterJdbcTemplate template;\r\n\r\n        private PointIssuanceLookupDao sut;\r\n\r\n        @Before\r\n        public void setUp() {\r\n            MockitoAnnotations.openMocks(this);\r\n            sut = new PointIssuanceLookupDao(template);\r\n        }\r\n    \r\n        @Test\r\n        void retrieveCalcConstants() {\r\n            SqlParameterSource paramMap = new MapSqlParameterSource();\r\n            List&lt;Mapper&gt; queryResultList = new ArrayList&lt;&gt;();\r\n    \r\n            doReturn(queryResultList).when(template).query(Mockito.anyString(), Mockito.any(MapSqlParameterSource.class), ArgumentMatchers.&lt;RowMapper&lt;Mapper&gt;&gt;any());\r\n            ...\r\n\r\nI got error even when I stubbing the NamedParameterJdbcTemplate:\r\n\r\n\r\n     PointIssuanceLookupDaoTest &gt; retrieveCalcConstants() FAILED\r\n        org.mockito.exceptions.misusing.NullInsteadOfMockException: \r\n         Argument passed to when() is null!\r\n         Example of correct stubbing:\r\n             doThrow(new RuntimeException()).when(mock).someMethod();\r\n         Also, if you use @Mock annotation don&#39;t miss openMocks()\r\n             at com.abc.api.points.repository.dao.PointIssuanceLookupDaoTest.retrieveCalcConstants(PointIssuanceLookupDaoTest.java:49)\r\n    ...\r\n\r\n\r\nI called openMocks() in setUp(), why I still get this error?","title":"mockito NullInsteadOfMockException while stubbing","body":"<p>I want to mock a method call of a DAO class which use JDBC:</p>\n<pre><code>public class PointIssuanceLookupDao {\n    public PointIssuanceLookupDao(@Qualifier(&quot;azureNamedParameterJdbcTemplate&quot;) NamedParameterJdbcTemplate azureNamedParameterJdbcTemplate) {\n        this.azureNamedParameterJdbcTemplate = azureNamedParameterJdbcTemplate;\n    }\n    ...\n\npublic CalcConstants retrieveCalcConstants (String productCode, String productSubCode){\n    ....\n    queryResultList = azureNamedParameterJdbcTemplate.query(PRODUCT_RECON_DETAIL_SELECT, paramMap, queryValues);\n    ....\n</code></pre>\n<p>This is my test case:</p>\n<pre><code>class PointIssuanceLookupDaoTest {\n\n    @Mock\n    NamedParameterJdbcTemplate template;\n\n    private PointIssuanceLookupDao sut;\n\n    @Before\n    public void setUp() {\n        MockitoAnnotations.openMocks(this);\n        sut = new PointIssuanceLookupDao(template);\n    }\n\n    @Test\n    void retrieveCalcConstants() {\n        SqlParameterSource paramMap = new MapSqlParameterSource();\n        List&lt;Mapper&gt; queryResultList = new ArrayList&lt;&gt;();\n\n        doReturn(queryResultList).when(template).query(Mockito.anyString(), Mockito.any(MapSqlParameterSource.class), ArgumentMatchers.&lt;RowMapper&lt;Mapper&gt;&gt;any());\n        ...\n</code></pre>\n<p>I got error even when I stubbing the NamedParameterJdbcTemplate:</p>\n<pre><code> PointIssuanceLookupDaoTest &gt; retrieveCalcConstants() FAILED\n    org.mockito.exceptions.misusing.NullInsteadOfMockException: \n     Argument passed to when() is null!\n     Example of correct stubbing:\n         doThrow(new RuntimeException()).when(mock).someMethod();\n     Also, if you use @Mock annotation don't miss openMocks()\n         at com.abc.api.points.repository.dao.PointIssuanceLookupDaoTest.retrieveCalcConstants(PointIssuanceLookupDaoTest.java:49)\n...\n</code></pre>\n<p>I called openMocks() in setUp(), why I still get this error?</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":3099597,"reputation":9011,"user_id":2624089,"display_name":"Richard"},"score":0,"creation_date":1412959690,"post_id":26304224,"comment_id":41276779,"body_markdown":"Could you add an HTML example of what you&#39;re trying to match?","body":"Could you add an HTML example of what you&#39;re trying to match?"},{"owner":{"account_id":4619051,"reputation":1166,"user_id":3744632,"accept_rate":50,"display_name":"Simon Fischer"},"score":0,"creation_date":1412959704,"post_id":26304224,"comment_id":41276786,"body_markdown":"Why does XPath not help?","body":"Why does XPath not help?"},{"owner":{"account_id":3099597,"reputation":9011,"user_id":2624089,"display_name":"Richard"},"score":0,"creation_date":1412959739,"post_id":26304224,"comment_id":41276798,"body_markdown":"Your question seems to be about matching attribute, but your example is matching the text of the element, nothing to do with attributes.","body":"Your question seems to be about matching attribute, but your example is matching the text of the element, nothing to do with attributes."},{"owner":{"account_id":2797748,"reputation":946,"user_id":2406649,"display_name":"Kishore Banala"},"score":0,"creation_date":1412964064,"post_id":26304224,"comment_id":41278857,"body_markdown":"Well, This application will sometimes be used by non developers, and if they can&#39;t trace out XPath, I need them to use any of the attributes available for particular element. I already had working versions of find by - Id, CSS, tagName, XPath and all. And let&#39;s say we need to find an Image with attribute &lt;href&gt; and value as &lt;url&gt;, and assuming there are no Id, class name etc mentioned (I am trying to figure out on worst cases), How to get element with just href and url?","body":"Well, This application will sometimes be used by non developers, and if they can&#39;t trace out XPath, I need them to use any of the attributes available for particular element. I already had working versions of find by - Id, CSS, tagName, XPath and all. And let&#39;s say we need to find an Image with attribute &lt;href&gt; and value as &lt;url&gt;, and assuming there are no Id, class name etc mentioned (I am trying to figure out on worst cases), How to get element with just href and url?"},{"owner":{"account_id":252630,"reputation":2903,"user_id":2457251,"display_name":"Almir Campos"},"score":4,"creation_date":1552842627,"post_id":26304224,"comment_id":97155422,"body_markdown":"I believe that &quot;Assuming XPath is not an option&quot; is a valid assumption. It&#39;s very frequent that the answers criticize the question **and actually don&#39;t answer it**. It&#39;s like when you try to buy a warm jacket during the summer and the sales person questions why you&#39;re doing that and tries to sell you a thin T-shirt. Usually, you feel you don&#39;t need to explain your life or your reasons and just need a warm jacket. Are you buying from this person? In short: I believe that first we have to respect the person who&#39;s asking, try to answer the question, and only then offer other options.","body":"I believe that &quot;Assuming XPath is not an option&quot; is a valid assumption. It&#39;s very frequent that the answers criticize the question <b>and actually don&#39;t answer it</b>. It&#39;s like when you try to buy a warm jacket during the summer and the sales person questions why you&#39;re doing that and tries to sell you a thin T-shirt. Usually, you feel you don&#39;t need to explain your life or your reasons and just need a warm jacket. Are you buying from this person? In short: I believe that first we have to respect the person who&#39;s asking, try to answer the question, and only then offer other options."}],"answers":[{"tags":[],"owner":{"account_id":1606738,"reputation":1066,"user_id":1486690,"display_name":"Sizik"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1412959784,"creation_date":1412959784,"answer_id":26304296,"question_id":26304224,"body_markdown":"\r\n\r\nUse CSS selectors instead:\r\n    \r\n    List&lt;WebElement&gt; elements = webDriver.findElements(By.cssSelector(&quot;*[attributeName=&#39;value&#39;]&quot;));\r\n\r\nEdit: CSS selectors instead of XPath","title":"Find element by attribute","body":"<p>Use CSS selectors instead:</p>\n\n<pre><code>List&lt;WebElement&gt; elements = webDriver.findElements(By.cssSelector(\"*[attributeName='value']\"));\n</code></pre>\n\n<p>Edit: CSS selectors instead of XPath</p>\n"},{"tags":[],"owner":{"account_id":3758602,"reputation":10072,"user_id":3124333,"accept_rate":100,"display_name":"SiKing"},"down_vote_count":2,"up_vote_count":40,"is_accepted":false,"score":38,"last_activity_date":1412960353,"creation_date":1412960353,"answer_id":26304440,"question_id":26304224,"body_markdown":"I do not understand your requirement:\r\n\r\n&gt; Assuming XPath is not an option ...\r\n\r\nIf this was just an *incorrect* assumption on your part, then XPath is the *perfect* option!\r\n\r\n    webDriver.findElements(By.xpath(&quot;//element[@attribute=&#39;value&#39;]&quot;))\r\n\r\nOf course you need to replace `element`, `attribute`, and `value` with your actual names. You can also find &quot;any element&quot; by using the wildcard:\r\n\r\n    webDriver.findElements(By.xpath(&quot;//*[@attribute=&#39;value&#39;]&quot;))","title":"Find element by attribute","body":"<p>I do not understand your requirement:</p>\n\n<blockquote>\n  <p>Assuming XPath is not an option ...</p>\n</blockquote>\n\n<p>If this was just an <em>incorrect</em> assumption on your part, then XPath is the <em>perfect</em> option!</p>\n\n<pre><code>webDriver.findElements(By.xpath(\"//element[@attribute='value']\"))\n</code></pre>\n\n<p>Of course you need to replace <code>element</code>, <code>attribute</code>, and <code>value</code> with your actual names. You can also find \"any element\" by using the wildcard:</p>\n\n<pre><code>webDriver.findElements(By.xpath(\"//*[@attribute='value']\"))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1873413,"reputation":28421,"user_id":1695163,"accept_rate":79,"display_name":"ddavison"},"down_vote_count":1,"up_vote_count":113,"is_accepted":true,"score":112,"last_activity_date":1685658001,"creation_date":1412967339,"answer_id":26306203,"question_id":26304224,"body_markdown":"You can easily accomplish this task with CSS.\r\n\r\nThe formula is:\r\n\r\n    element[attribute=&#39;attribute-value&#39;]\r\n\r\nSo if you have, \r\n\r\n&lt;!-- language: html --&gt;\r\n    &lt;a href=&quot;mysite.com&quot;&gt;&lt;/a&gt;\r\n\r\nYou can find it using:\r\n\r\n    By.cssSelector(&quot;a[href=&#39;mysite.com&#39;]&quot;);\r\n\r\nthis works using any attribute possible.  \r\n\r\nThis page here gives good information on how to formulate effective css selectors, and matching their attributes: http://ddavison.io/css/2014/02/18/effective-css-selectors.html","title":"Find element by attribute","body":"<p>You can easily accomplish this task with CSS.</p>\n<p>The formula is:</p>\n<pre><code>element[attribute='attribute-value']\n</code></pre>\n<p>So if you have,</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;a href=&quot;mysite.com&quot;&gt;&lt;/a&gt;\n</code></pre>\n<p>You can find it using:</p>\n<pre><code>By.cssSelector(&quot;a[href='mysite.com']&quot;);\n</code></pre>\n<p>this works using any attribute possible.</p>\n<p>This page here gives good information on how to formulate effective css selectors, and matching their attributes: <a href=\"http://ddavison.io/css/2014/02/18/effective-css-selectors.html\" rel=\"nofollow noreferrer\">http://ddavison.io/css/2014/02/18/effective-css-selectors.html</a></p>\n"},{"tags":[],"owner":{"account_id":2687678,"reputation":1046,"user_id":2321724,"accept_rate":23,"display_name":"Irshad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584310028,"creation_date":1584310028,"answer_id":60698146,"question_id":26304224,"body_markdown":"As per the documentation:\r\n\r\n `By.id` Locates elements by the ID attribute. This locator uses the CSS selector\r\n   `*[id=&#39;$ID&#39;]`, _not_ `document.getElementById`. Where id is the ID to search \r\n  \r\nso you can use the below code to search the DOM element with any given attribute as ID and value\r\n\r\n    By.id(&quot;element[attribute=&#39;attribute-value&#39;]&quot;); ","title":"Find element by attribute","body":"<p>As per the documentation:</p>\n\n<p><code>By.id</code> Locates elements by the ID attribute. This locator uses the CSS selector\n   <code>*[id='$ID']</code>, <em>not</em> <code>document.getElementById</code>. Where id is the ID to search </p>\n\n<p>so you can use the below code to search the DOM element with any given attribute as ID and value</p>\n\n<pre><code>By.id(\"element[attribute='attribute-value']\"); \n</code></pre>\n"}],"owner":{"account_id":2797748,"reputation":946,"user_id":2406649,"display_name":"Kishore Banala"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140638,"favorite_count":0,"down_vote_count":0,"up_vote_count":67,"accepted_answer_id":26306203,"answer_count":4,"score":67,"last_activity_date":1685658001,"creation_date":1412959531,"question_id":26304224,"body_markdown":"I am trying to find an element with Attribute. Well, I can find elements with Id, tagName, Xpath and all other predefined methods in Selenium. But, I am trying to write a method that specifically returns WebElement, given Attribute name and Value as input.\r\n\r\n    List&lt;WebElement&gt; elements = webDriver.findElements(By.tagName(&quot;Attribute Name&quot;));\r\n\tfor(WebElement element : elements){\r\n\t\tif(element.getText().equals(&quot;Value of Particular Attribute&quot;)){\r\n\t\t\treturn element;\r\n\t\t}\r\n\t\telse{\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\nAssuming XPath is not an option, is there any other better ways to do this?","title":"Find element by attribute","body":"<p>I am trying to find an element with Attribute. Well, I can find elements with Id, tagName, Xpath and all other predefined methods in Selenium. But, I am trying to write a method that specifically returns WebElement, given Attribute name and Value as input.</p>\n\n<pre><code>List&lt;WebElement&gt; elements = webDriver.findElements(By.tagName(\"Attribute Name\"));\nfor(WebElement element : elements){\n    if(element.getText().equals(\"Value of Particular Attribute\")){\n        return element;\n    }\n    else{\n        return null;\n    }\n}\n</code></pre>\n\n<p>Assuming XPath is not an option, is there any other better ways to do this?</p>\n"},{"tags":["java","spring-boot","openapi-generator-maven-plugin"],"comments":[{"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"score":0,"creation_date":1685659051,"post_id":76386031,"comment_id":134695659,"body_markdown":"`&lt;generateModels&gt;false&lt;/generateModels&gt;` in the configuration of the plugin ? according to the plugin doc: https://github.com/OpenAPITools/openapi-generator/tree/master/modules/openapi-generator-maven-plugin","body":"<code>&lt;generateModels&gt;false&lt;&#47;generateModels&gt;</code> in the configuration of the plugin ? according to the plugin doc: <a href=\"https://github.com/OpenAPITools/openapi-generator/tree/master/modules/openapi-generator-maven-plugin\" rel=\"nofollow noreferrer\">github.com/OpenAPITools/openapi-generator/tree/master/module&zwnj;&#8203;s/&hellip;</a>"},{"owner":{"account_id":28721222,"reputation":51,"user_id":21994955,"display_name":"jack nik"},"score":0,"creation_date":1685659658,"post_id":76386031,"comment_id":134695728,"body_markdown":"Thanks, works , now the issue is that obviously the api cannot find models. I need a way to use the generated models but I need to add them annotations etc, how can I do?","body":"Thanks, works , now the issue is that obviously the api cannot find models. I need a way to use the generated models but I need to add them annotations etc, how can I do?"},{"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"score":0,"creation_date":1685659742,"post_id":76386031,"comment_id":134695743,"body_markdown":"Read the doc, man :)","body":"Read the doc, man :)"},{"owner":{"account_id":28721222,"reputation":51,"user_id":21994955,"display_name":"jack nik"},"score":0,"creation_date":1685659824,"post_id":76386031,"comment_id":134695752,"body_markdown":"I do not think I can find in docs this thinks. Like I need to add to generated models some Hibernate annotation, how can I do?","body":"I do not think I can find in docs this thinks. Like I need to add to generated models some Hibernate annotation, how can I do?"},{"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"score":0,"creation_date":1685660082,"post_id":76386031,"comment_id":134695783,"body_markdown":"How do you know it&#39;s not in the doc if you don&#39;t read it ? I never used this plugin, I found the answer for your question by reading the doc for 3 minutes. Really, you should read it.","body":"How do you know it&#39;s not in the doc if you don&#39;t read it ? I never used this plugin, I found the answer for your question by reading the doc for 3 minutes. Really, you should read it."},{"owner":{"account_id":28721222,"reputation":51,"user_id":21994955,"display_name":"jack nik"},"score":0,"creation_date":1685661405,"post_id":76386031,"comment_id":134695951,"body_markdown":"do you have the url?","body":"do you have the url?"},{"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"score":0,"creation_date":1685661639,"post_id":76386031,"comment_id":134695979,"body_markdown":"I gave it to you in my first comment but you can use google also :)","body":"I gave it to you in my first comment but you can use google also :)"}],"owner":{"account_id":28721222,"reputation":51,"user_id":21994955,"display_name":"jack nik"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685657311,"creation_date":1685657311,"question_id":76386031,"body_markdown":"Is there a way to avoid the plugin generating the models for us? The problem is that I need to create my own model and I do not want to use the generate one.\r\n\r\nI saw that there is only a way to tell the plugin to use our class for model but I did not see a way to block at all the model generation","title":"Is it possible to stop OpenAPI Maven plugin from creating models?","body":"<p>Is there a way to avoid the plugin generating the models for us? The problem is that I need to create my own model and I do not want to use the generate one.</p>\n<p>I saw that there is only a way to tell the plugin to use our class for model but I did not see a way to block at all the model generation</p>\n"},{"tags":["java","android","android-studio","gradle"],"owner":{"display_name":"user17938552"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685657092,"creation_date":1685558290,"question_id":76376422,"body_markdown":"I don&#39;t know why my Android Studio performs this way but whenever I create a new project, or sometimes even when I open an existing one, it starts downloading Gradle. I have the version which the project requires but still it downloads Gradle. Currently I am using Gradle 8.0, with plugin version 8.0.1. I sometimes try deleting the .gradle folder but this doesn&#39;t works. Also my GRADLE_USER_HOME was set to: \r\n&gt;C:\\Users\\$USER_NAME$\\.gradle/wrapper\\dists\\gradle-7.1-bin\\4pslxx9lrxt5svtz5wbnb6tkz\\gradle-7.1\\bin\\wrapper\\dists\\gradle-8.0-bin\\ca5e32bp14vu59qr306oxotwh\r\n\r\nBut I have currently changed it to: \r\n&gt;C:\\Users\\$USER_NAME$\\.gradle/\r\n\r\n*Please help me out*","title":"Android Studio downloads Gradle everytime I create new project","body":"<p>I don't know why my Android Studio performs this way but whenever I create a new project, or sometimes even when I open an existing one, it starts downloading Gradle. I have the version which the project requires but still it downloads Gradle. Currently I am using Gradle 8.0, with plugin version 8.0.1. I sometimes try deleting the .gradle folder but this doesn't works. Also my GRADLE_USER_HOME was set to:</p>\n<blockquote>\n<p>C:\\Users$USER_NAME$.gradle/wrapper\\dists\\gradle-7.1-bin\\4pslxx9lrxt5svtz5wbnb6tkz\\gradle-7.1\\bin\\wrapper\\dists\\gradle-8.0-bin\\ca5e32bp14vu59qr306oxotwh</p>\n</blockquote>\n<p>But I have currently changed it to:</p>\n<blockquote>\n<p>C:\\Users$USER_NAME$.gradle/</p>\n</blockquote>\n<p><em>Please help me out</em></p>\n"},{"tags":["java","linux","sockets","timeout"],"comments":[{"owner":{"account_id":40634,"reputation":907,"user_id":117748,"display_name":"Reginaldo"},"score":0,"creation_date":1245961894,"post_id":1045964,"comment_id":857388,"body_markdown":"I think it&#39;s better to configure this timeout in an each application basis. \n\nOtherwise, all other applications that runs in this machine will be affected by this setting.","body":"I think it&#39;s better to configure this timeout in an each application basis.   Otherwise, all other applications that runs in this machine will be affected by this setting."},{"owner":{"account_id":13299,"reputation":30181,"user_id":26620,"accept_rate":83,"display_name":"Kevin"},"score":1,"creation_date":1245962362,"post_id":1045964,"comment_id":857428,"body_markdown":"Agreed, I&#39;d still like know what the setting is should I wish to change it.","body":"Agreed, I&#39;d still like know what the setting is should I wish to change it."},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":1,"creation_date":1245968904,"post_id":1045964,"comment_id":857963,"body_markdown":"If you insist on changing the OS settings then I think this is not a programming related question any more and belongs to Server Fault.","body":"If you insist on changing the OS settings then I think this is not a programming related question any more and belongs to Server Fault."}],"answers":[{"tags":[],"owner":{"account_id":44032,"reputation":8212,"user_id":128977,"accept_rate":100,"display_name":"DreadPirateShawn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1245962184,"creation_date":1245962184,"answer_id":1046117,"question_id":1045964,"body_markdown":"It&#39;s my understanding that this depends on the system&#39;s TCP/IP default timeout (240 seconds by default?)... one option is to try tweaking those, however this could affect any other programs on the same machine which rely on the timeout value. In which case, it might be safer to simply lower the &quot;timeout&quot; value in your Java connect() call, instead.","title":"How to view/change socket connection timeout on Linux?","body":"<p>It's my understanding that this depends on the system's TCP/IP default timeout (240 seconds by default?)... one option is to try tweaking those, however this could affect any other programs on the same machine which rely on the timeout value. In which case, it might be safer to simply lower the \"timeout\" value in your Java connect() call, instead.</p>\n"},{"tags":[],"owner":{"account_id":24940,"reputation":27084,"user_id":63743,"accept_rate":80,"display_name":"Duck"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1447844150,"creation_date":1245962992,"answer_id":1046195,"question_id":1045964,"body_markdown":"I think you want `/proc/sys/net/ipv4/tcp_syn_retries`. The default is usually 5 or 6 which comes out to around 3 minutes.\r\n\r\nNote that these are system-wide.\r\n\r\n","title":"How to view/change socket connection timeout on Linux?","body":"<p>I think you want <code>/proc/sys/net/ipv4/tcp_syn_retries</code>. The default is usually 5 or 6 which comes out to around 3 minutes.</p>\n\n<p>Note that these are system-wide.</p>\n"},{"tags":[],"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1245968326,"creation_date":1245963381,"answer_id":1046224,"question_id":1045964,"body_markdown":"I would advise against changing OS settings as it might affect other applications unexpectedly. The `Socket.setSoTimeout()` method might help you too. ","title":"How to view/change socket connection timeout on Linux?","body":"<p>I would advise against changing OS settings as it might affect other applications unexpectedly. The <code>Socket.setSoTimeout()</code> method might help you too. </p>\n"},{"tags":[],"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1315452287,"creation_date":1315452287,"answer_id":7342809,"question_id":1045964,"body_markdown":"It is BTW not entirely correct, that Linux and Windows behave here differently. Besides the initial SYN retries (which can be configured on Linux and Windows) the neighbour state as well as other routers sending RST packets also play a role.\r\n\r\nIf a connection attempt on Windows fails immediatelly it is likely that it was eighter RSTed by a router or the neighbour was recognized as unreachable on ARP level. Try the `arp -a -v` command on Windows to see the unreachable hosts - which get rejected quickly.\r\n\r\nFor Linux you would use `ip neigh` to list the reachability state of stations on your local network.\r\n","title":"How to view/change socket connection timeout on Linux?","body":"<p>It is BTW not entirely correct, that Linux and Windows behave here differently. Besides the initial SYN retries (which can be configured on Linux and Windows) the neighbour state as well as other routers sending RST packets also play a role.</p>\n\n<p>If a connection attempt on Windows fails immediatelly it is likely that it was eighter RSTed by a router or the neighbour was recognized as unreachable on ARP level. Try the <code>arp -a -v</code> command on Windows to see the unreachable hosts - which get rejected quickly.</p>\n\n<p>For Linux you would use <code>ip neigh</code> to list the reachability state of stations on your local network.</p>\n"}],"owner":{"account_id":13299,"reputation":30181,"user_id":26620,"accept_rate":83,"display_name":"Kevin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56339,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":1046195,"answer_count":4,"score":11,"last_activity_date":1685657070,"creation_date":1245960577,"question_id":1045964,"body_markdown":"When creating a Socket in Java:\r\n\r\n    new Socket(host, port);\r\n\r\nThe Socket constructor will try to connect to *host:port* before returning.  On Windows, this fails almost immediately for unreachable hosts but for Linux it can take up to 5 minutes for the Socket to timeout.\r\n\r\nI&#39;m aware that if I have control over creating the Sockets, I can do:\r\n\r\n    Socket s = new Socket();\r\n    s.bind(..);\r\n    s.connect(.., timeout);\r\n\r\nbut I&#39;d rather have the OS use a reasonable default value.  Is there a way to change this setting on Linux?\r\n","title":"How to view/change socket connection timeout on Linux?","body":"<p>When creating a Socket in Java:</p>\n<pre><code>new Socket(host, port);\n</code></pre>\n<p>The Socket constructor will try to connect to <em>host:port</em> before returning.  On Windows, this fails almost immediately for unreachable hosts but for Linux it can take up to 5 minutes for the Socket to timeout.</p>\n<p>I'm aware that if I have control over creating the Sockets, I can do:</p>\n<pre><code>Socket s = new Socket();\ns.bind(..);\ns.connect(.., timeout);\n</code></pre>\n<p>but I'd rather have the OS use a reasonable default value.  Is there a way to change this setting on Linux?</p>\n"},{"tags":["java","keycloak","keycloak-spi"],"owner":{"account_id":28077558,"reputation":11,"user_id":21449162,"display_name":"Nikola Yankov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":516,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685656751,"creation_date":1679414776,"question_id":75803620,"body_markdown":"I am using Keyclaok 18.0.2 and when a user clicks on &quot;Forgot Password?&quot; it receives an email for the password update. The problem is that after the new password is created, the user is automatically being login. I am trying to avoid that and try to make the login manually. Because there is no option to do it via the Keycloak manager, I tried to use SPI, and listen for the event responsible for that.\r\n\r\n\r\n\r\nWhat I did is to remove the session for the specific realm and user. Unfortunately, nothing happened.\r\n\r\n```\r\n\r\npublic class PasswordResetEventListenerProvider implements EventListenerProvider {\r\n\r\n  private final KeycloakSession session;\r\n  private final RealmModel realm;\r\n\r\n  public PasswordResetEventListenerProvider(KeycloakSession session) {\r\n      this.session = session;\r\n      this.realm = session.getContext().getRealm();\r\n  }\r\n\r\n  @Override\r\n  public void onEvent(Event event) {\r\n    if (event.getType() == EventType.LOGIN) {\r\n\r\n      UserModel user = session.users().getUserById(event.getUserId(),     session.getContext().getRealm());\r\n      session.sessions().removeUserSessions(realm,user);\r\n\r\n    }\r\n  }\r\n}\r\n```\r\nThen I tried to remove all the authentication directly by removing the cookies. But still nothing happened as if I was trying to get the ***request*** and ***response*** from the context, it was returning  java.lang.NullPointerException. I tried to find a different way to get them, but I could not find one for Keycloak version 18.0.2\r\n\r\n\r\n\r\n```\r\nfor (Cookie cookie : request.getCookies()) {\r\n  if (cookie.getName().startsWith(&quot;KEYCLOAK_&quot;)) {\r\n      cookie.setValue(&quot;&quot;);\r\n      cookie.setMaxAge(0);\r\n      cookie.setPath(&quot;/&quot;);\r\n      cookie.setHttpOnly(true);\r\n      cookie.setSecure(request.isSecure());\r\n      response.addCookie(cookie);\r\n  }\r\n}\r\n\r\nHttpSession httpSession = request.getSession(false);\r\nif (httpSession != null) {\r\n  httpSession.invalidate();\r\n}\r\n```\r\n\r\nDo you think that this one of this cases is a good approach. Is there another way to make the user login manually after the password reset?\r\n","title":"Force login after password reset in Keycloak 18.0.2","body":"<p>I am using Keyclaok 18.0.2 and when a user clicks on &quot;Forgot Password?&quot; it receives an email for the password update. The problem is that after the new password is created, the user is automatically being login. I am trying to avoid that and try to make the login manually. Because there is no option to do it via the Keycloak manager, I tried to use SPI, and listen for the event responsible for that.</p>\n<p>What I did is to remove the session for the specific realm and user. Unfortunately, nothing happened.</p>\n<pre><code>\npublic class PasswordResetEventListenerProvider implements EventListenerProvider {\n\n  private final KeycloakSession session;\n  private final RealmModel realm;\n\n  public PasswordResetEventListenerProvider(KeycloakSession session) {\n      this.session = session;\n      this.realm = session.getContext().getRealm();\n  }\n\n  @Override\n  public void onEvent(Event event) {\n    if (event.getType() == EventType.LOGIN) {\n\n      UserModel user = session.users().getUserById(event.getUserId(),     session.getContext().getRealm());\n      session.sessions().removeUserSessions(realm,user);\n\n    }\n  }\n}\n</code></pre>\n<p>Then I tried to remove all the authentication directly by removing the cookies. But still nothing happened as if I was trying to get the <em><strong>request</strong></em> and <em><strong>response</strong></em> from the context, it was returning  java.lang.NullPointerException. I tried to find a different way to get them, but I could not find one for Keycloak version 18.0.2</p>\n<pre><code>for (Cookie cookie : request.getCookies()) {\n  if (cookie.getName().startsWith(&quot;KEYCLOAK_&quot;)) {\n      cookie.setValue(&quot;&quot;);\n      cookie.setMaxAge(0);\n      cookie.setPath(&quot;/&quot;);\n      cookie.setHttpOnly(true);\n      cookie.setSecure(request.isSecure());\n      response.addCookie(cookie);\n  }\n}\n\nHttpSession httpSession = request.getSession(false);\nif (httpSession != null) {\n  httpSession.invalidate();\n}\n</code></pre>\n<p>Do you think that this one of this cases is a good approach. Is there another way to make the user login manually after the password reset?</p>\n"},{"tags":["java","keycloak","keycloak-spi"],"answers":[{"tags":[],"owner":{"account_id":12719679,"reputation":46,"user_id":9240553,"display_name":"str8tonowhere"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585249777,"creation_date":1585249777,"answer_id":60874470,"question_id":60652424,"body_markdown":"You can try extending one of Keycloak&#39;s Exception classes. \r\n\r\nFor example using [org.keycloak.services.ErrorResponseException][1] you can define (String error, String errorDescription, Response.Status status) in the constructor. \r\n\r\nYou can also check all Exceptions that extend javax.ws.rs.WebApplicationException, maybe you will find more suitable example for your case.\r\n\r\n\r\n  [1]: https://www.keycloak.org/docs-api/5.0/javadocs/org/keycloak/services/ErrorResponseException.html","title":"Keycloak custom exception in User Storage SPI","body":"<p>You can try extending one of Keycloak's Exception classes. </p>\n\n<p>For example using <a href=\"https://www.keycloak.org/docs-api/5.0/javadocs/org/keycloak/services/ErrorResponseException.html\" rel=\"nofollow noreferrer\">org.keycloak.services.ErrorResponseException</a> you can define (String error, String errorDescription, Response.Status status) in the constructor. </p>\n\n<p>You can also check all Exceptions that extend javax.ws.rs.WebApplicationException, maybe you will find more suitable example for your case.</p>\n"}],"owner":{"account_id":4193394,"reputation":192,"user_id":3435425,"accept_rate":58,"display_name":"user3435425"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1490,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685656741,"creation_date":1584009851,"question_id":60652424,"body_markdown":"We have our own implementation of UserStorageProvider and UserRegistrationProvider.\r\nIn addUser I want to throw custom exception\r\n\r\n    @Override\r\n    public UserModel addUser(RealmModel realmModel, String s) {\r\n      throw new CustomException(&quot;Custom exception&quot;);\r\n    }\r\n\r\nBut how to handle it from client side? I always getting 500 Internal Server Error with \r\n\r\n    {&quot;error&quot;:&quot;unknown_error&quot;}\r\nresponse in it. \r\nI want to see another status code and error message. \r\nHow to achieve such behavior? \r\nThanks.","title":"Keycloak custom exception in User Storage SPI","body":"<p>We have our own implementation of UserStorageProvider and UserRegistrationProvider.\nIn addUser I want to throw custom exception</p>\n\n<pre><code>@Override\npublic UserModel addUser(RealmModel realmModel, String s) {\n  throw new CustomException(\"Custom exception\");\n}\n</code></pre>\n\n<p>But how to handle it from client side? I always getting 500 Internal Server Error with </p>\n\n<pre><code>{\"error\":\"unknown_error\"}\n</code></pre>\n\n<p>response in it. \nI want to see another status code and error message. \nHow to achieve such behavior? \nThanks.</p>\n"},{"tags":["java","spring-boot","keycloak","wildfly","keycloak-spi"],"answers":[{"tags":[],"owner":{"account_id":3690305,"reputation":1896,"user_id":3073027,"accept_rate":25,"display_name":"solveMe"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1570068054,"creation_date":1570068054,"answer_id":58211399,"question_id":58203788,"body_markdown":"Consider deploying you SPI implementation as JAR or EAR. I&#39;ve also faced some trouble when i want to deploy them to keycloak as JBoss module, but i don&#39;t remember what exactly (In my company we heavily customized Keycloak with custom SPI implementations including Authenticators, UserStorageProvider, REST endpoints, OIDC mappers ...). Now we are deploying them as EAR package. Here is how you can perform EAR packaging with maven:\r\n\r\n    &lt;name&gt;Keycloak Extensions EAR&lt;/name&gt;\r\n\r\n    &lt;artifactId&gt;cardpay-extensions&lt;/artifactId&gt;\r\n    &lt;packaging&gt;ear&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        ...\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;!-- Your jars with provider implementations, I&#39;m use two jars (for unit testing simplicity) --&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.acme&lt;/groupId&gt;\r\n            &lt;artifactId&gt;extensions-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${project.version}&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.acme&lt;/groupId&gt;\r\n            &lt;artifactId&gt;extensions-providers&lt;/artifactId&gt;\r\n            &lt;version&gt;${project.version}&lt;/version&gt;\r\n            &lt;type&gt;ejb&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-ear-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;version&gt;8&lt;/version&gt;\r\n                    &lt;defaultLibBundleDir&gt;lib&lt;/defaultLibBundleDir&gt;\r\n                    &lt;outputFileNameMapping&gt;@{artifactId}@.@{extension}@&lt;/outputFileNameMapping&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nDon&#39;t forget to add `main/application/META-INF/jboss-deployment-structure.xml` like:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; ?&gt;\r\n    &lt;jboss-deployment-structure&gt;\r\n\r\n    &lt;!-- Core module --&gt;\r\n    &lt;module name=&quot;deployment.extensions.core&quot;&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource-root path=&quot;lib/core.jar&quot;/&gt;\r\n        &lt;/resources&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;module name=&quot;com.oracle.ojdbc&quot; export=&quot;true&quot;/&gt;\r\n            &lt;module name=&quot;org.jboss.logging&quot; export=&quot;true&quot;/&gt;\r\n            &lt;module name=&quot;org.apache.commons.io&quot; export=&quot;true&quot;/&gt;\r\n            &lt;module name=&quot;javax.ws.rs.api&quot; export=&quot;true&quot;/&gt;\r\n            &lt;module name=&quot;org.keycloak.keycloak-common&quot; export=&quot;true&quot;/&gt;\r\n            &lt;module name=&quot;org.keycloak.keycloak-core&quot; export=&quot;true&quot;/&gt;\r\n            &lt;module name=&quot;org.keycloak.keycloak-server-spi&quot; export=&quot;true&quot;/&gt;\r\n            &lt;module name=&quot;org.keycloak.keycloak-server-spi-private&quot; export=&quot;true&quot;/&gt;\r\n            &lt;module name=&quot;org.keycloak.keycloak-services&quot; export=&quot;true&quot;/&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/module&gt;\r\n\r\n    &lt;!-- Define dependency on core module for all sub-deployments --&gt;\r\n    &lt;deployment&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;module name=&quot;deployment.extensions.core&quot; export=&quot;true&quot;/&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/deployment&gt;\r\n\r\n    &lt;!-- Providers bundle --&gt;\r\n    &lt;sub-deployment name=&quot;providers.jar&quot;&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;module name=&quot;javax.api&quot;/&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/sub-deployment&gt;\r\n\r\n    &lt;/jboss-deployment-structure&gt;\r\n\r\nNow you can use maven-wildfly-plugin for mvn wildfly:deploy or manually deploy ear via JBoss cli or deployment scanner (check out Wildfly artifact deployment documentation). You should see corresponding messages in Wildfly logs about extensions deployment (there would be ProviderFactory id&#39;s)\r\n\r\nConcerning unavailability of SPI implementations when using modules, I guess that is happen because JBoss modules loaded too early, so Keycloak deployer subsystem doesn&#39;t see them.","title":"Keycloak - Custom SPI does not appear in list","body":"<p>Consider deploying you SPI implementation as JAR or EAR. I've also faced some trouble when i want to deploy them to keycloak as JBoss module, but i don't remember what exactly (In my company we heavily customized Keycloak with custom SPI implementations including Authenticators, UserStorageProvider, REST endpoints, OIDC mappers ...). Now we are deploying them as EAR package. Here is how you can perform EAR packaging with maven:</p>\n\n<pre><code>&lt;name&gt;Keycloak Extensions EAR&lt;/name&gt;\n\n&lt;artifactId&gt;cardpay-extensions&lt;/artifactId&gt;\n&lt;packaging&gt;ear&lt;/packaging&gt;\n\n&lt;properties&gt;\n    ...\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n\n    &lt;!-- Your jars with provider implementations, I'm use two jars (for unit testing simplicity) --&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.acme&lt;/groupId&gt;\n        &lt;artifactId&gt;extensions-core&lt;/artifactId&gt;\n        &lt;version&gt;${project.version}&lt;/version&gt;\n        &lt;type&gt;jar&lt;/type&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.acme&lt;/groupId&gt;\n        &lt;artifactId&gt;extensions-providers&lt;/artifactId&gt;\n        &lt;version&gt;${project.version}&lt;/version&gt;\n        &lt;type&gt;ejb&lt;/type&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n    &lt;plugins&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-ear-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;version&gt;8&lt;/version&gt;\n                &lt;defaultLibBundleDir&gt;lib&lt;/defaultLibBundleDir&gt;\n                &lt;outputFileNameMapping&gt;@{artifactId}@.@{extension}@&lt;/outputFileNameMapping&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>Don't forget to add <code>main/application/META-INF/jboss-deployment-structure.xml</code> like:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" ?&gt;\n&lt;jboss-deployment-structure&gt;\n\n&lt;!-- Core module --&gt;\n&lt;module name=\"deployment.extensions.core\"&gt;\n    &lt;resources&gt;\n        &lt;resource-root path=\"lib/core.jar\"/&gt;\n    &lt;/resources&gt;\n    &lt;dependencies&gt;\n        &lt;module name=\"com.oracle.ojdbc\" export=\"true\"/&gt;\n        &lt;module name=\"org.jboss.logging\" export=\"true\"/&gt;\n        &lt;module name=\"org.apache.commons.io\" export=\"true\"/&gt;\n        &lt;module name=\"javax.ws.rs.api\" export=\"true\"/&gt;\n        &lt;module name=\"org.keycloak.keycloak-common\" export=\"true\"/&gt;\n        &lt;module name=\"org.keycloak.keycloak-core\" export=\"true\"/&gt;\n        &lt;module name=\"org.keycloak.keycloak-server-spi\" export=\"true\"/&gt;\n        &lt;module name=\"org.keycloak.keycloak-server-spi-private\" export=\"true\"/&gt;\n        &lt;module name=\"org.keycloak.keycloak-services\" export=\"true\"/&gt;\n    &lt;/dependencies&gt;\n&lt;/module&gt;\n\n&lt;!-- Define dependency on core module for all sub-deployments --&gt;\n&lt;deployment&gt;\n    &lt;dependencies&gt;\n        &lt;module name=\"deployment.extensions.core\" export=\"true\"/&gt;\n    &lt;/dependencies&gt;\n&lt;/deployment&gt;\n\n&lt;!-- Providers bundle --&gt;\n&lt;sub-deployment name=\"providers.jar\"&gt;\n    &lt;dependencies&gt;\n        &lt;module name=\"javax.api\"/&gt;\n    &lt;/dependencies&gt;\n&lt;/sub-deployment&gt;\n\n&lt;/jboss-deployment-structure&gt;\n</code></pre>\n\n<p>Now you can use maven-wildfly-plugin for mvn wildfly:deploy or manually deploy ear via JBoss cli or deployment scanner (check out Wildfly artifact deployment documentation). You should see corresponding messages in Wildfly logs about extensions deployment (there would be ProviderFactory id's)</p>\n\n<p>Concerning unavailability of SPI implementations when using modules, I guess that is happen because JBoss modules loaded too early, so Keycloak deployer subsystem doesn't see them.</p>\n"},{"tags":[],"owner":{"account_id":4196263,"reputation":372,"user_id":3437603,"display_name":"ourobor93"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1570172959,"creation_date":1570172959,"answer_id":58231524,"question_id":58203788,"body_markdown":"My finally solution was applying the example from \r\n\r\nhttps://github.com/thomasdarimont/keycloak-user-storage-provider-demo\r\n\r\nand changing the UserRepository for an EntityManager to connect with the database.","title":"Keycloak - Custom SPI does not appear in list","body":"<p>My finally solution was applying the example from </p>\n\n<p><a href=\"https://github.com/thomasdarimont/keycloak-user-storage-provider-demo\" rel=\"nofollow noreferrer\">https://github.com/thomasdarimont/keycloak-user-storage-provider-demo</a></p>\n\n<p>and changing the UserRepository for an EntityManager to connect with the database.</p>\n"},{"tags":[],"owner":{"account_id":10513615,"reputation":718,"user_id":7748446,"display_name":"Selast Lambou"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1579208557,"creation_date":1579208557,"answer_id":59777742,"question_id":58203788,"body_markdown":"Found a way of doing this, it&#39;s to add files inside `classpath:${jboss.home.dir}/providers/`, as SPI inside modules found there are interpreted by Keycloak.\r\n\r\nMore info on [this post](https://stackoverflow.com/a/59777671/7748446).","title":"Keycloak - Custom SPI does not appear in list","body":"<p>Found a way of doing this, it's to add files inside <code>classpath:${jboss.home.dir}/providers/</code>, as SPI inside modules found there are interpreted by Keycloak.</p>\n\n<p>More info on <a href=\"https://stackoverflow.com/a/59777671/7748446\">this post</a>.</p>\n"}],"owner":{"account_id":4196263,"reputation":372,"user_id":3437603,"display_name":"ourobor93"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8021,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":58231524,"answer_count":3,"score":4,"last_activity_date":1685656596,"creation_date":1570027050,"question_id":58203788,"body_markdown":"I made a custom SPI for my keycloak server and now I have to configure it on the Admin console.\r\n\r\n\r\nI added the SPI as a module, with manual installation, so I have it on modules/{package-name}/main, with the module.xml; I have also put the &lt;provider&gt; on standalone.xml, and the &lt;spi&gt; also in the keycloak-server subsystem.\r\n\r\nAfter all this configuration, I then go to the admin console to configure the custom user provider and it does not appear in the list.\r\n\r\nWhat can I do?","title":"Keycloak - Custom SPI does not appear in list","body":"<p>I made a custom SPI for my keycloak server and now I have to configure it on the Admin console.</p>\n\n<p>I added the SPI as a module, with manual installation, so I have it on modules/{package-name}/main, with the module.xml; I have also put the  on standalone.xml, and the  also in the keycloak-server subsystem.</p>\n\n<p>After all this configuration, I then go to the admin console to configure the custom user provider and it does not appear in the list.</p>\n\n<p>What can I do?</p>\n"},{"tags":["java","keycloak","keycloak-spi"],"answers":[{"tags":[],"owner":{"account_id":4079445,"reputation":191,"user_id":3350257,"display_name":"alexb83"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1594897892,"creation_date":1594897892,"answer_id":62933441,"question_id":61818280,"body_markdown":"Try this:\r\n\r\nhttp://localhost:8080/auth/admin/realms/myRealm/hello/hello\r\n\r\nbecause first &#39;hello&#39; is the name of your factory ID, instead the second &#39;hello&#39; is the path you set on the service.","title":"Implementing a SPI to extend Keycloak API - Could not find resource","body":"<p>Try this:</p>\n<p>http://localhost:8080/auth/admin/realms/myRealm/hello/hello</p>\n<p>because first 'hello' is the name of your factory ID, instead the second 'hello' is the path you set on the service.</p>\n"},{"tags":[],"owner":{"account_id":5712980,"reputation":135,"user_id":4514306,"display_name":"PotatoesMaster"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636970169,"creation_date":1636051425,"answer_id":69844315,"question_id":61818280,"body_markdown":"[@alexb83][1]&#39;s [answer][2] does not work for me, I had to omit the `/admin` part from the url:\r\n```\r\nhttp://localhost:8080/auth/realms/myRealm/hello/hello\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/3350257/alexb83\r\n  [2]: https://stackoverflow.com/a/62933441/6045800","title":"Implementing a SPI to extend Keycloak API - Could not find resource","body":"<p><a href=\"https://stackoverflow.com/users/3350257/alexb83\">@alexb83</a>'s <a href=\"https://stackoverflow.com/a/62933441/6045800\">answer</a> does not work for me, I had to omit the <code>/admin</code> part from the url:</p>\n<pre><code>http://localhost:8080/auth/realms/myRealm/hello/hello\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16695822,"reputation":73,"user_id":12067082,"display_name":"The Deep"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636195261,"creation_date":1636144540,"answer_id":69858984,"question_id":61818280,"body_markdown":"So as alexb83 said, i missed the second /hello in the url. \r\n\r\nAs PotatoesMaster said, i had to omit /admin in the url.\r\n\r\nIn Addition the file `org.keycloak.services.resource.RealmResourceProviderFactory` \r\nwas in a wrong folder : i missed **\\services**.\r\n\r\nThe working path is :\r\n\r\n`src\\main\\resources\\META-INF\\services\\org.keycloak.services.resource.RealmResourceProviderFactory`","title":"Implementing a SPI to extend Keycloak API - Could not find resource","body":"<p>So as alexb83 said, i missed the second /hello in the url.</p>\n<p>As PotatoesMaster said, i had to omit /admin in the url.</p>\n<p>In Addition the file <code>org.keycloak.services.resource.RealmResourceProviderFactory</code>\nwas in a wrong folder : i missed <strong>\\services</strong>.</p>\n<p>The working path is :</p>\n<p><code>src\\main\\resources\\META-INF\\services\\org.keycloak.services.resource.RealmResourceProviderFactory</code></p>\n"},{"tags":[],"owner":{"account_id":1943583,"reputation":239,"user_id":1749197,"display_name":"Hari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636434476,"creation_date":1636434133,"answer_id":69893049,"question_id":61818280,"body_markdown":"In my case I had mixed up the order of the sub-paths in the url when accessing the end-point, i.e. instead of \r\n\r\n&gt; /user/customuser\r\n\r\nI had given\r\n\r\n&gt; /customuser/user","title":"Implementing a SPI to extend Keycloak API - Could not find resource","body":"<p>In my case I had mixed up the order of the sub-paths in the url when accessing the end-point, i.e. instead of</p>\n<blockquote>\n<p>/user/customuser</p>\n</blockquote>\n<p>I had given</p>\n<blockquote>\n<p>/customuser/user</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11467551,"reputation":1,"user_id":8405342,"display_name":"trislee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676563207,"creation_date":1676563207,"answer_id":75474857,"question_id":61818280,"body_markdown":"In my case, I had to omit `/auth/admin`. So my final worked url is:\r\nhttp://localhost:8080/realms/master/hello","title":"Implementing a SPI to extend Keycloak API - Could not find resource","body":"<p>In my case, I had to omit <code>/auth/admin</code>. So my final worked url is:\nhttp://localhost:8080/realms/master/hello</p>\n"}],"owner":{"account_id":16695822,"reputation":73,"user_id":12067082,"display_name":"The Deep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4692,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":69858984,"answer_count":5,"score":4,"last_activity_date":1685656569,"creation_date":1589542625,"question_id":61818280,"body_markdown":"I&#39;m trying to create a custom resource on my Keycloak server to extend its rest API. So i&#39;m implementing a SPI. Starting with a hello world.\r\n\r\nAt the moment my goal is to obtain a &quot;hello&quot; + name through a GET on http://localhost:8080/auth/admin/realms/myRealm/hello\r\n\r\nI use Postman to requests the server. I&#39;m able to get a user token on myRealm. I choose a user for which i have assigned the role `View-users` in the `realm-managment` Mapper.\r\n\r\nSo the builtin Keycloak Admin API works. \r\ne.g :http://localhost:8080/auth/admin/realms/myRealm/users/count\r\n returns the expected user count.\r\n\r\nBut the problem is i get an \r\n&quot;error&quot;: &quot;RESTEASY003210: Could not find resource for full path: http://localhost:8080/auth/admin/realms/myRealm/hello/&quot; when requesting this endpoint. \r\n\r\n\r\nHere&#39;s my setup (i read several guides) : \r\n\r\nThe module project&#39;s pom.xml include dependency for `keycloak-core` `keycloak-server-spi` `keycloak-server-spi-private` `org.jboss.spec.javax.ws.rs`\r\n\r\nRealmResourceProvider implementation :\r\n```JAVA\r\npublic class HelloWorldProvider implements RealmResourceProvider {\r\n\r\n    private KeycloakSession session;\r\n\r\n    public HelloWorldProvider(KeycloakSession session) {\r\n        this.session = session;\r\n    }\r\n\r\n    @Override\r\n    public Object getResource() {\r\n        return this;\r\n    }\r\n\r\n    @GET\r\n    @Path(&quot;/hello&quot;)\r\n    @Produces(&quot;text/plain; charset=utf-8&quot;)\r\n    public String get() {\r\n        String name = session.getContext().getRealm().getDisplayName();\r\n        if (name == null) {\r\n            name = session.getContext().getRealm().getName();\r\n        }\r\n        return &quot;Hello&quot; + name;\r\n    }\r\n\r\n    @Override\r\n    public void close() {\r\n    }\r\n}\r\n```\r\nFactory implementation :\r\n```JAVA\r\npublic class HelloWorldProviderFactory implements RealmResourceProviderFactory {\r\n\r\n    public static final String ID = &quot;hello&quot;;\r\n\r\n    @Override\r\n    public String getId() {\r\n        return ID;\r\n    }\r\n\r\n    @Override\r\n    public int order() {\r\n        return 0;\r\n    }\r\n\r\n    @Override\r\n    public RealmResourceProvider create(KeycloakSession keycloakSession) {\r\n        return new HelloWorldProvider(keycloakSession);\r\n    }\r\n\r\n    @Override\r\n    public void init(Config.Scope scope) {\r\n    }\r\n\r\n    @Override\r\n    public void postInit(KeycloakSessionFactory keycloakSessionFactory) {\r\n    }\r\n\r\n    @Override\r\n    public void close() {\r\n    }\r\n}\r\n```\r\n\r\nI also created the file `src\\main\\resources\\META-INF\\org.keycloak.services.resource.RealmResourceProviderFactory` it contains a reference to my `HelloWorldProviderFactory`\r\n\r\nAfter packaging the jar, i put a copy of it in `keycloak-9.0.3\\standalone\\deployments` and after running `standalone.bat` the file `keycloak-spi-rest-hello-1.0.jar.deployed` is created.","title":"Implementing a SPI to extend Keycloak API - Could not find resource","body":"<p>I'm trying to create a custom resource on my Keycloak server to extend its rest API. So i'm implementing a SPI. Starting with a hello world.</p>\n\n<p>At the moment my goal is to obtain a \"hello\" + name through a GET on <a href=\"http://localhost:8080/auth/admin/realms/myRealm/hello\" rel=\"nofollow noreferrer\">http://localhost:8080/auth/admin/realms/myRealm/hello</a></p>\n\n<p>I use Postman to requests the server. I'm able to get a user token on myRealm. I choose a user for which i have assigned the role <code>View-users</code> in the <code>realm-managment</code> Mapper.</p>\n\n<p>So the builtin Keycloak Admin API works. \ne.g :<a href=\"http://localhost:8080/auth/admin/realms/myRealm/users/count\" rel=\"nofollow noreferrer\">http://localhost:8080/auth/admin/realms/myRealm/users/count</a>\n returns the expected user count.</p>\n\n<p>But the problem is i get an \n\"error\": \"RESTEASY003210: Could not find resource for full path: <a href=\"http://localhost:8080/auth/admin/realms/myRealm/hello/\" rel=\"nofollow noreferrer\">http://localhost:8080/auth/admin/realms/myRealm/hello/</a>\" when requesting this endpoint. </p>\n\n<p>Here's my setup (i read several guides) : </p>\n\n<p>The module project's pom.xml include dependency for <code>keycloak-core</code> <code>keycloak-server-spi</code> <code>keycloak-server-spi-private</code> <code>org.jboss.spec.javax.ws.rs</code></p>\n\n<p>RealmResourceProvider implementation :</p>\n\n<pre><code>public class HelloWorldProvider implements RealmResourceProvider {\n\n    private KeycloakSession session;\n\n    public HelloWorldProvider(KeycloakSession session) {\n        this.session = session;\n    }\n\n    @Override\n    public Object getResource() {\n        return this;\n    }\n\n    @GET\n    @Path(\"/hello\")\n    @Produces(\"text/plain; charset=utf-8\")\n    public String get() {\n        String name = session.getContext().getRealm().getDisplayName();\n        if (name == null) {\n            name = session.getContext().getRealm().getName();\n        }\n        return \"Hello\" + name;\n    }\n\n    @Override\n    public void close() {\n    }\n}\n</code></pre>\n\n<p>Factory implementation :</p>\n\n<pre><code>public class HelloWorldProviderFactory implements RealmResourceProviderFactory {\n\n    public static final String ID = \"hello\";\n\n    @Override\n    public String getId() {\n        return ID;\n    }\n\n    @Override\n    public int order() {\n        return 0;\n    }\n\n    @Override\n    public RealmResourceProvider create(KeycloakSession keycloakSession) {\n        return new HelloWorldProvider(keycloakSession);\n    }\n\n    @Override\n    public void init(Config.Scope scope) {\n    }\n\n    @Override\n    public void postInit(KeycloakSessionFactory keycloakSessionFactory) {\n    }\n\n    @Override\n    public void close() {\n    }\n}\n</code></pre>\n\n<p>I also created the file <code>src\\main\\resources\\META-INF\\org.keycloak.services.resource.RealmResourceProviderFactory</code> it contains a reference to my <code>HelloWorldProviderFactory</code></p>\n\n<p>After packaging the jar, i put a copy of it in <code>keycloak-9.0.3\\standalone\\deployments</code> and after running <code>standalone.bat</code> the file <code>keycloak-spi-rest-hello-1.0.jar.deployed</code> is created.</p>\n"},{"tags":["java","apache-spark","apache-spark-sql"],"answers":[{"tags":[],"owner":{"account_id":1600162,"reputation":1885,"user_id":1481345,"display_name":"Ale Zalazar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685645288,"creation_date":1685645288,"answer_id":76384848,"question_id":76384487,"body_markdown":"Avoid using `compileOnly` directive for dependencies which implementation will be needed during runtime as stated on Gradle&#39;s Java library plugin user guide https://docs.gradle.org/current/userguide/java_library_plugin.html and blog https://blog.gradle.org/introducing-compile-only-dependencies","title":"Trying to run simple code that writes a dataframe as a csv file using spark and Java. java.lang.NoClassDefFoundError: org/apache/spark/sql/Dataset","body":"<p>Avoid using <code>compileOnly</code> directive for dependencies which implementation will be needed during runtime as stated on Gradle's Java library plugin user guide <a href=\"https://docs.gradle.org/current/userguide/java_library_plugin.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/java_library_plugin.html</a> and blog <a href=\"https://blog.gradle.org/introducing-compile-only-dependencies\" rel=\"nofollow noreferrer\">https://blog.gradle.org/introducing-compile-only-dependencies</a></p>\n"}],"owner":{"account_id":14160827,"reputation":49,"user_id":10255767,"display_name":"Anastasia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76384848,"answer_count":1,"score":1,"last_activity_date":1685656100,"creation_date":1685641884,"question_id":76384487,"body_markdown":"Here is my simple code:\r\n\r\n\r\n    package org.example;\r\n\r\n    import org.apache.spark.sql.Dataset;\r\n    import org.apache.spark.sql.Row;\r\n    import org.apache.spark.sql.RowFactory;\r\n    import org.apache.spark.sql.SparkSession;\r\n    import org.apache.spark.sql.types.DataTypes;\r\n    import org.apache.spark.sql.types.StructField;\r\n    import org.apache.spark.sql.types.StructType;\r\n\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n\r\n    public class Main {\r\n        public static void writeOutput(Dataset&lt;Row&gt; df, String outputPath) {\r\n            df.write()\r\n                    .option(&quot;header&quot;, &quot;true&quot;)\r\n                    .option(&quot;delimiter&quot;, &quot;\\t&quot;)\r\n                    .csv(outputPath);\r\n        }\r\n        public static void main(String[] args) {\r\n\r\n            // Create a SparkSession\r\n            SparkSession spark = SparkSession.builder()\r\n                    .appName(&quot;DataFrameWriter&quot;)\r\n                    .getOrCreate();\r\n\r\n            // Create a DataFrame (assuming df is already defined)\r\n            List&lt;Row&gt; data = Arrays.asList(\r\n                    RowFactory.create(&quot;John&quot;, 25, &quot;New York&quot;),\r\n                    RowFactory.create(&quot;Alice&quot;, 30, &quot;San Francisco&quot;),\r\n                    RowFactory.create(&quot;Bob&quot;, 35, &quot;Chicago&quot;)\r\n            );\r\n\r\n            StructType schema = DataTypes.createStructType(new StructField[] {\r\n                    DataTypes.createStructField(&quot;name&quot;, DataTypes.StringType, true),\r\n                    DataTypes.createStructField(&quot;age&quot;, DataTypes.IntegerType, true),\r\n                    DataTypes.createStructField(&quot;city&quot;, DataTypes.StringType, true)\r\n            });\r\n\r\n            Dataset&lt;Row&gt; df = spark.createDataFrame(data, schema);\r\n\r\n            // Specify the output path\r\n            String outputPath = &quot;src/main/java/output&quot;;\r\n\r\n            // Call the writeOutput method\r\n            writeOutput(df, outputPath);\r\n\r\n            // Stop the SparkSession\r\n            spark.stop();\r\n        }\r\n    }\r\n\r\n\r\n\r\nHere is my build.gradle file:\r\n\r\n\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n    }\r\n\r\n    group = &#39;org.example&#39;\r\n    version = &#39;1.0-SNAPSHOT&#39;\r\n\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n\r\n    dependencies {\r\n        compileOnly &#39;org.apache.spark:spark-sql_2.12:3.2.0&#39;\r\n        implementation &#39;org.apache.spark:spark-core_2.12:3.2.0&#39;\r\n\r\n\r\n        testImplementation platform(&#39;org.junit:junit-bom:5.9.1&#39;)\r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter&#39;\r\n    }\r\n\r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n\r\n\r\n\r\nAnd errors:\r\n\r\n\r\n\r\n    Task :Main.main() FAILED\r\n    Error: Unable to initialize main class org.example.Main\r\n    Caused by: java.lang.NoClassDefFoundError: org/apache/spark/sql/Dataset\r\n\r\n    FAILURE: Build failed with an exception.\r\n\r\n    * What went wrong:\r\n    Execution failed for task &#39;:Main.main()&#39;.\r\n    &gt; Process &#39;command &#39;/Library/Java/JavaVirtualMachines/jdk-11.0.11.jdk/Contents/Home/bin/java&#39;&#39; finished with non-zero exit value 1\r\n\r\n\r\n\r\njava -version:\r\n\r\n\r\n\r\n    java version &quot;11.0.19&quot; 2023-04-18 LTS\r\n    Java(TM) SE Runtime Environment 18.9 (build 11.0.19+9-LTS-224)\r\n    Java HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.19+9-LTS-224, mixed mode)\r\n\r\nscala -version:\r\n\r\n\r\n    Scala code runner version 3.3.0 -- Copyright 2002-2023, LAMP/EPFL\r\n\r\n\r\n\r\nSpark: version 3.4.0\r\nUsing Scala version 2.12.17 (OpenJDK 64-Bit Server VM, Java 17.0.7)\r\n\r\nCould you tell me what could be wrong? Pretty simple code, just can&#39;t figure out what to check. I&#39;ve already tried reinstalling everything.","title":"Trying to run simple code that writes a dataframe as a csv file using spark and Java. java.lang.NoClassDefFoundError: org/apache/spark/sql/Dataset","body":"<p>Here is my simple code:</p>\n<pre><code>package org.example;\n\nimport org.apache.spark.sql.Dataset;\nimport org.apache.spark.sql.Row;\nimport org.apache.spark.sql.RowFactory;\nimport org.apache.spark.sql.SparkSession;\nimport org.apache.spark.sql.types.DataTypes;\nimport org.apache.spark.sql.types.StructField;\nimport org.apache.spark.sql.types.StructType;\n\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class Main {\n    public static void writeOutput(Dataset&lt;Row&gt; df, String outputPath) {\n        df.write()\n                .option(&quot;header&quot;, &quot;true&quot;)\n                .option(&quot;delimiter&quot;, &quot;\\t&quot;)\n                .csv(outputPath);\n    }\n    public static void main(String[] args) {\n\n        // Create a SparkSession\n        SparkSession spark = SparkSession.builder()\n                .appName(&quot;DataFrameWriter&quot;)\n                .getOrCreate();\n\n        // Create a DataFrame (assuming df is already defined)\n        List&lt;Row&gt; data = Arrays.asList(\n                RowFactory.create(&quot;John&quot;, 25, &quot;New York&quot;),\n                RowFactory.create(&quot;Alice&quot;, 30, &quot;San Francisco&quot;),\n                RowFactory.create(&quot;Bob&quot;, 35, &quot;Chicago&quot;)\n        );\n\n        StructType schema = DataTypes.createStructType(new StructField[] {\n                DataTypes.createStructField(&quot;name&quot;, DataTypes.StringType, true),\n                DataTypes.createStructField(&quot;age&quot;, DataTypes.IntegerType, true),\n                DataTypes.createStructField(&quot;city&quot;, DataTypes.StringType, true)\n        });\n\n        Dataset&lt;Row&gt; df = spark.createDataFrame(data, schema);\n\n        // Specify the output path\n        String outputPath = &quot;src/main/java/output&quot;;\n\n        // Call the writeOutput method\n        writeOutput(df, outputPath);\n\n        // Stop the SparkSession\n        spark.stop();\n    }\n}\n</code></pre>\n<p>Here is my build.gradle file:</p>\n<pre><code>plugins {\n    id 'java'\n}\n\ngroup = 'org.example'\nversion = '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compileOnly 'org.apache.spark:spark-sql_2.12:3.2.0'\n    implementation 'org.apache.spark:spark-core_2.12:3.2.0'\n\n\n    testImplementation platform('org.junit:junit-bom:5.9.1')\n    testImplementation 'org.junit.jupiter:junit-jupiter'\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>And errors:</p>\n<pre><code>Task :Main.main() FAILED\nError: Unable to initialize main class org.example.Main\nCaused by: java.lang.NoClassDefFoundError: org/apache/spark/sql/Dataset\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':Main.main()'.\n&gt; Process 'command '/Library/Java/JavaVirtualMachines/jdk-11.0.11.jdk/Contents/Home/bin/java'' finished with non-zero exit value 1\n</code></pre>\n<p>java -version:</p>\n<pre><code>java version &quot;11.0.19&quot; 2023-04-18 LTS\nJava(TM) SE Runtime Environment 18.9 (build 11.0.19+9-LTS-224)\nJava HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.19+9-LTS-224, mixed mode)\n</code></pre>\n<p>scala -version:</p>\n<pre><code>Scala code runner version 3.3.0 -- Copyright 2002-2023, LAMP/EPFL\n</code></pre>\n<p>Spark: version 3.4.0\nUsing Scala version 2.12.17 (OpenJDK 64-Bit Server VM, Java 17.0.7)</p>\n<p>Could you tell me what could be wrong? Pretty simple code, just can't figure out what to check. I've already tried reinstalling everything.</p>\n"},{"tags":["java","reactive-programming","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":10697088,"reputation":9495,"user_id":7873775,"display_name":"Eugene Khyst"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1598262348,"creation_date":1598261216,"answer_id":63558220,"question_id":63556833,"body_markdown":"To convert a `CompletableFuture&lt;List&lt;T&gt;&gt;` into a `Flux&lt;T&gt;` you can use [`Mono#fromFuture`][1] with [`Mono#flatMapMany`][2]:\r\n\r\n    var future = new CompletableFuture&lt;List&lt;Long&gt;&gt;();\r\n    future.completeAsync(() -&gt; List.of(1L, 2L, 3L, 4L, 5L),\r\n        CompletableFuture.delayedExecutor(3, TimeUnit.SECONDS));\r\n\r\n    Flux&lt;Long&gt; flux = Mono.fromFuture(future).flatMapMany(Flux::fromIterable);\r\n\r\n    flux.subscribe(System.out::println);\r\n\r\n`List&lt;T&gt;` received asynchronously in a callback can be also converted into a `Flux&lt;T&gt;` without using a `CompletableFuture`.\r\nYou can directly use [`Mono#create`][3] with [`Mono#flatMapMany`][2]:\r\n\r\n    Flux&lt;Long&gt; flux = Mono.&lt;List&lt;Long&gt;&gt;create(sink -&gt; {\r\n      Callback&lt;List&lt;Long&gt;&gt; callback = new Callback&lt;List&lt;Long&gt;&gt;() {\r\n        @Override\r\n        public void onResult(List&lt;Long&gt; list) {\r\n          sink.success(list);\r\n        }\r\n\r\n        @Override\r\n        public void onError(Exception e) {\r\n          sink.error(e);\r\n        }\r\n      };\r\n      client.call(&quot;query&quot;, callback);\r\n    }).flatMapMany(Flux::fromIterable);\r\n\r\n    flux.subscribe(System.out::println);\r\n\r\nOr simply using [`Flux#create`][4] with multiple emissions in one pass:\r\n\r\n    Flux&lt;Long&gt; flux = Flux.create(sink -&gt; {\r\n      Callback&lt;List&lt;Long&gt;&gt; callback = new Callback&lt;List&lt;Long&gt;&gt;() {\r\n        @Override\r\n        public void onResult(List&lt;Long&gt; list) {\r\n          list.forEach(sink::next);\r\n        }\r\n\r\n        @Override\r\n        public void onError(Exception e) {\r\n          sink.error(e);\r\n        }\r\n      };\r\n      client.call(&quot;query&quot;, callback);\r\n    });\r\n\r\n    flux.subscribe(System.out::println);\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#fromFuture-java.util.concurrent.CompletableFuture-\r\n  [2]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#flatMapMany-java.util.function.Function-\r\n  [3]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#create-java.util.function.Consumer-\r\n  [4]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#create-java.util.function.Consumer-","title":"How to convert List&lt;T&gt; to Flux&lt;T&gt; by using Reactor 3.x","body":"<p>To convert a <code>CompletableFuture&lt;List&lt;T&gt;&gt;</code> into a <code>Flux&lt;T&gt;</code> you can use <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#fromFuture-java.util.concurrent.CompletableFuture-\" rel=\"nofollow noreferrer\"><code>Mono#fromFuture</code></a> with <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#flatMapMany-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>Mono#flatMapMany</code></a>:</p>\n<pre><code>var future = new CompletableFuture&lt;List&lt;Long&gt;&gt;();\nfuture.completeAsync(() -&gt; List.of(1L, 2L, 3L, 4L, 5L),\n    CompletableFuture.delayedExecutor(3, TimeUnit.SECONDS));\n\nFlux&lt;Long&gt; flux = Mono.fromFuture(future).flatMapMany(Flux::fromIterable);\n\nflux.subscribe(System.out::println);\n</code></pre>\n<p><code>List&lt;T&gt;</code> received asynchronously in a callback can be also converted into a <code>Flux&lt;T&gt;</code> without using a <code>CompletableFuture</code>.\nYou can directly use <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#create-java.util.function.Consumer-\" rel=\"nofollow noreferrer\"><code>Mono#create</code></a> with <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#flatMapMany-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>Mono#flatMapMany</code></a>:</p>\n<pre><code>Flux&lt;Long&gt; flux = Mono.&lt;List&lt;Long&gt;&gt;create(sink -&gt; {\n  Callback&lt;List&lt;Long&gt;&gt; callback = new Callback&lt;List&lt;Long&gt;&gt;() {\n    @Override\n    public void onResult(List&lt;Long&gt; list) {\n      sink.success(list);\n    }\n\n    @Override\n    public void onError(Exception e) {\n      sink.error(e);\n    }\n  };\n  client.call(&quot;query&quot;, callback);\n}).flatMapMany(Flux::fromIterable);\n\nflux.subscribe(System.out::println);\n</code></pre>\n<p>Or simply using <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#create-java.util.function.Consumer-\" rel=\"nofollow noreferrer\"><code>Flux#create</code></a> with multiple emissions in one pass:</p>\n<pre><code>Flux&lt;Long&gt; flux = Flux.create(sink -&gt; {\n  Callback&lt;List&lt;Long&gt;&gt; callback = new Callback&lt;List&lt;Long&gt;&gt;() {\n    @Override\n    public void onResult(List&lt;Long&gt; list) {\n      list.forEach(sink::next);\n    }\n\n    @Override\n    public void onError(Exception e) {\n      sink.error(e);\n    }\n  };\n  client.call(&quot;query&quot;, callback);\n});\n\nflux.subscribe(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3886842,"reputation":77,"user_id":3217989,"display_name":"Mohammad Ashfaq"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1685655776,"creation_date":1685639083,"answer_id":76384182,"question_id":63556833,"body_markdown":"Simple solution is to use `Flux.fromIterable` as shown in below example\r\n\r\n \r\n\r\n    public Flux&lt;Integer&gt; fromListToFlux(){\r\n        List&lt;Integer&gt; intList = Arrays.asList(1,2,5,7);\r\n        return Flux.fromIterable(intList);\r\n    }\r\n\r\nSpringboot version is 3.1.0\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\nNote: This is not recommended because it will not be completely reactive when you work out of the reactive pipeline, here creating a List.","title":"How to convert List&lt;T&gt; to Flux&lt;T&gt; by using Reactor 3.x","body":"<p>Simple solution is to use <code>Flux.fromIterable</code> as shown in below example</p>\n<pre><code>public Flux&lt;Integer&gt; fromListToFlux(){\n    List&lt;Integer&gt; intList = Arrays.asList(1,2,5,7);\n    return Flux.fromIterable(intList);\n}\n</code></pre>\n<p>Springboot version is 3.1.0</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>Note: This is not recommended because it will not be completely reactive when you work out of the reactive pipeline, here creating a List.</p>\n"}],"owner":{"account_id":14220011,"reputation":514,"user_id":10272632,"display_name":"dyy.alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26887,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":63558220,"answer_count":2,"score":7,"last_activity_date":1685655776,"creation_date":1598255582,"question_id":63556833,"body_markdown":"I have a Asyn call thrift interface:\r\n```java\r\npublic CompletableFuture&lt;List&lt;Long&gt;&gt; getFavourites(Long userId){\r\n    CompletableFuture&lt;List&lt;Long&gt;&gt; future = new CompletableFuture();\r\n    OctoThriftCallback callback = new OctoThriftCallback(thriftExecutor);\r\n    callback.addObserver(new OctoObserver() {\r\n        @Override\r\n        public void onSuccess(Object o) {\r\n            future.complete((List&lt;Long&gt;) o);\r\n        }\r\n\r\n        @Override\r\n        public void onFailure(Throwable throwable) {\r\n            future.completeExceptionally(throwable);\r\n        }\r\n    });\r\n    try {\r\n        recommendAsyncService.getFavorites(userId, callback);\r\n    } catch (TException e) {\r\n        log.error(&quot;OctoCall RecommendAsyncService.getFavorites&quot;, e);\r\n    }\r\n    return future;\r\n}\r\n```\r\nNow it returns a CompletableFuture&lt;List&lt;Long&gt;&gt;. And then I call it to do some processor by using Flux.\r\n```java\r\npublic Flux&lt;Product&gt; getRecommend(Long userId) throws InterruptedException, ExecutionException, TimeoutException {\r\n    // do not like it\r\n    List&lt;Long&gt; recommendList = wrapper.getRecommend(userId).get(2, TimeUnit.SECONDS);\r\n\r\n    System.out.println(recommendList);\r\n    return Flux.fromIterable(recommendList)\r\n            .flatMap(id -&gt; Mono.defer(() -&gt; Mono.just(Product.builder()\r\n                    .userId(userId)\r\n                    .productId(id)\r\n                    .productType((int) (Math.random()*100))\r\n                    .build())))\r\n            .take(5)\r\n            .publishOn(mdpScheduler);\r\n}\r\n```\r\nHowever, I want to get a Flux&lt;Long&gt; from `getFavourites` method and I can use it in `getRecommend` method.&lt;br&gt;\r\nOr, you can recommend a `Flux API` ,and I can convert the `List&lt;Long&gt; recommendList` to `Flux&lt;Long&gt; recommendFlux`.","title":"How to convert List&lt;T&gt; to Flux&lt;T&gt; by using Reactor 3.x","body":"<p>I have a Asyn call thrift interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public CompletableFuture&lt;List&lt;Long&gt;&gt; getFavourites(Long userId){\n    CompletableFuture&lt;List&lt;Long&gt;&gt; future = new CompletableFuture();\n    OctoThriftCallback callback = new OctoThriftCallback(thriftExecutor);\n    callback.addObserver(new OctoObserver() {\n        @Override\n        public void onSuccess(Object o) {\n            future.complete((List&lt;Long&gt;) o);\n        }\n\n        @Override\n        public void onFailure(Throwable throwable) {\n            future.completeExceptionally(throwable);\n        }\n    });\n    try {\n        recommendAsyncService.getFavorites(userId, callback);\n    } catch (TException e) {\n        log.error(&quot;OctoCall RecommendAsyncService.getFavorites&quot;, e);\n    }\n    return future;\n}\n</code></pre>\n<p>Now it returns a CompletableFuture&lt;List&gt;. And then I call it to do some processor by using Flux.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Flux&lt;Product&gt; getRecommend(Long userId) throws InterruptedException, ExecutionException, TimeoutException {\n    // do not like it\n    List&lt;Long&gt; recommendList = wrapper.getRecommend(userId).get(2, TimeUnit.SECONDS);\n\n    System.out.println(recommendList);\n    return Flux.fromIterable(recommendList)\n            .flatMap(id -&gt; Mono.defer(() -&gt; Mono.just(Product.builder()\n                    .userId(userId)\n                    .productId(id)\n                    .productType((int) (Math.random()*100))\n                    .build())))\n            .take(5)\n            .publishOn(mdpScheduler);\n}\n</code></pre>\n<p>However, I want to get a Flux from <code>getFavourites</code> method and I can use it in <code>getRecommend</code> method.<br>\nOr, you can recommend a <code>Flux API</code> ,and I can convert the <code>List&lt;Long&gt; recommendList</code> to <code>Flux&lt;Long&gt; recommendFlux</code>.</p>\n"},{"tags":["java","jvm","byte-buddy"],"comments":[{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1685606412,"post_id":76379777,"comment_id":134684318,"body_markdown":"Those are not methods, but operators, so I **guess** the answer is no.","body":"Those are not methods, but operators, so I <b>guess</b> the answer is no."},{"owner":{"account_id":25635314,"reputation":3,"user_id":19405000,"display_name":"chao"},"score":0,"creation_date":1685609448,"post_id":76379777,"comment_id":134684953,"body_markdown":"Can ASM perform such operations while the JVM is running?","body":"Can ASM perform such operations while the JVM is running?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1685610537,"post_id":76379777,"comment_id":134685197,"body_markdown":"This feels like a [XY problem](https://xyproblem.info). Can you tell us what underlying problem you&#39;re trying to solve? I suspect the attempted solution you want to get to is either impossible or very cumbersome to implement, but if you told us underlying feature you&#39;re trying to build, we could suggest alternative approaches that might be simpler.","body":"This feels like a <a href=\"https://xyproblem.info\" rel=\"nofollow noreferrer\">XY problem</a>. Can you tell us what underlying problem you&#39;re trying to solve? I suspect the attempted solution you want to get to is either impossible or very cumbersome to implement, but if you told us underlying feature you&#39;re trying to build, we could suggest alternative approaches that might be simpler."},{"owner":{"account_id":25635314,"reputation":3,"user_id":19405000,"display_name":"chao"},"score":0,"creation_date":1685670300,"post_id":76379777,"comment_id":134696781,"body_markdown":"I want to make a branch detection tool for java programs by myself, for example: if(str.euqals(&quot;string&quot;) &amp;&amp; param1==param2), by checking whether these operators are executed during the running process. between the two What is the comparison result between them? Functions like euqals() can be easily detected by byte buddy, but the use of operators is unavoidable in the program. I don’t know how to do this, and I don’t know if ASM can implement it my thoughts","body":"I want to make a branch detection tool for java programs by myself, for example: if(str.euqals(&quot;string&quot;) &amp;&amp; param1==param2), by checking whether these operators are executed during the running process. between the two What is the comparison result between them? Functions like euqals() can be easily detected by byte buddy, but the use of operators is unavoidable in the program. I don’t know how to do this, and I don’t know if ASM can implement it my thoughts"}],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685655447,"creation_date":1685655447,"answer_id":76385876,"question_id":76379777,"body_markdown":"Advice is not capable of this. Normally, it does not make much sense to aim for such detailed elements as code changes to frequently, but you would need to use ASM to manipulate such code.","title":"Can Byte Buddy use the advice method to handle things like &quot;==&quot;, &quot;!=&quot;, &quot;&lt;&quot;, &quot;&gt;&quot; in the program?","body":"<p>Advice is not capable of this. Normally, it does not make much sense to aim for such detailed elements as code changes to frequently, but you would need to use ASM to manipulate such code.</p>\n"}],"owner":{"account_id":25635314,"reputation":3,"user_id":19405000,"display_name":"chao"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76385876,"answer_count":1,"score":0,"last_activity_date":1685655447,"creation_date":1685606088,"question_id":76379777,"body_markdown":"I want to use Byte Buddy&#39;s advice method in a Java program to monitor the following comparisons, such as\r\n```\r\n&quot;1&lt;2&quot;, &quot;3&gt;2&quot;, &quot;param1!=null&quot;, &quot;param3==param2&quot;\r\n```\r\nCan these comparison operators be monitored with Byte Buddy? Such as using\r\n```\r\n@Advice.OnMethodEnter\r\n```\r\nIf it is possible, is there any sample code for reference?","title":"Can Byte Buddy use the advice method to handle things like &quot;==&quot;, &quot;!=&quot;, &quot;&lt;&quot;, &quot;&gt;&quot; in the program?","body":"<p>I want to use Byte Buddy's advice method in a Java program to monitor the following comparisons, such as</p>\n<pre><code>&quot;1&lt;2&quot;, &quot;3&gt;2&quot;, &quot;param1!=null&quot;, &quot;param3==param2&quot;\n</code></pre>\n<p>Can these comparison operators be monitored with Byte Buddy? Such as using</p>\n<pre><code>@Advice.OnMethodEnter\n</code></pre>\n<p>If it is possible, is there any sample code for reference?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":4,"creation_date":1685465281,"post_id":76366975,"comment_id":134662677,"body_markdown":"Why do you need the age and name to be generic? Aren&#39;t they simply going to be something like... int and String?","body":"Why do you need the age and name to be generic? Aren&#39;t they simply going to be something like... int and String?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685465972,"post_id":76366975,"comment_id":134662832,"body_markdown":"The error you&#39;re receiving is because it does not know what type _age_ or _s.age_ is.  Cast those values to _int_ or _Integer_.","body":"The error you&#39;re receiving is because it does not know what type <i>age</i> or <i>s.age</i> is.  Cast those values to <i>int</i> or <i>Integer</i>."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1685466319,"post_id":76366975,"comment_id":134662889,"body_markdown":"@Reilas That&#39;s probably not good advice.","body":"@Reilas That&#39;s probably not good advice."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685472454,"post_id":76366975,"comment_id":134664051,"body_markdown":"@shmosel, _probably not_?  What does that mean?","body":"@shmosel, <i>probably not</i>?  What does that mean?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1685479021,"post_id":76366975,"comment_id":134665229,"body_markdown":"@Reilas It&#39;s very likely that either `I` is unneeded and casting can be avoided, or `I` is needed and casting will fail.","body":"@Reilas It&#39;s very likely that either <code>I</code> is unneeded and casting can be avoided, or <code>I</code> is needed and casting will fail."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685479895,"post_id":76366975,"comment_id":134665381,"body_markdown":"@shmosel, oh, okay.  Thanks.  You should iterate what you&#39;re complaining about, in an answer.","body":"@shmosel, oh, okay.  Thanks.  You should iterate what you&#39;re complaining about, in an answer."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1685520864,"post_id":76366975,"comment_id":134670096,"body_markdown":"@Reilas it&#39;s not appropriate for an answer because it&#39;s not responding to anything asked by OP in the question: it&#39;s responding to your comment. (And shmosel is correct: don&#39;t cast something when you can instead declare the field as having that type).","body":"@Reilas it&#39;s not appropriate for an answer because it&#39;s not responding to anything asked by OP in the question: it&#39;s responding to your comment. (And shmosel is correct: don&#39;t cast something when you can instead declare the field as having that type)."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685547686,"post_id":76366975,"comment_id":134676444,"body_markdown":"@AndyTurner, that&#39;s great.  _&quot;... unable to access age.intValue() also&quot;_.  Typically you would require an identity to access the method.  In Java this is called _casting_ a value.","body":"@AndyTurner, that&#39;s great.  <i>&quot;... unable to access age.intValue() also&quot;</i>.  Typically you would require an identity to access the method.  In Java this is called <i>casting</i> a value."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1685548200,"post_id":76366975,"comment_id":134676575,"body_markdown":"@Reilas if you make the field of type `Integer` (or `Number` more generally), you can access the `intValue()` method without casting. Selecting the correct type for a field is a far better choice than casting, because it avoids the possibility that the cast isn&#39;t allowed at runtime. Making it `int` instead of `Integer` is even better again, because it also avoids the possibility of a NPE.","body":"@Reilas if you make the field of type <code>Integer</code> (or <code>Number</code> more generally), you can access the <code>intValue()</code> method without casting. Selecting the correct type for a field is a far better choice than casting, because it avoids the possibility that the cast isn&#39;t allowed at runtime. Making it <code>int</code> instead of <code>Integer</code> is even better again, because it also avoids the possibility of a NPE."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685549352,"post_id":76366975,"comment_id":134676845,"body_markdown":"@AndyTurner, the question is, _&quot;How [to] write compareTo method for Generic class ...&quot;_.","body":"@AndyTurner, the question is, <i>&quot;How [to] write compareTo method for Generic class ...&quot;</i>."}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685549603,"creation_date":1685465738,"answer_id":76367035,"question_id":76366975,"body_markdown":"&gt; How to compare age which is Integer object for which I&#39;m unable to access age.intValue() also, Please let me know.\r\n\r\nNo, it&#39;s not. Because `age` is an `I`, it&#39;s an instance of that type variable (or null), which can be anything at all: an `Integer`, a `String`, an `Object`, a `List`, a `ClassThatIHaveJustWritten`...\r\n\r\nIf you need `age` to be an instance of `Integer`, declare it as one (or as an `int`, if you never expect it to be null), and you&#39;ll then have no trouble using `&lt;` to compare it - although you&#39;ll find it easier just to use the `Integer.compareTo` (or `Integer.compare`) instead.\r\n\r\n----\r\n\r\nIf you _really_ need to compare things for a generic `I` (that is, not an `Integer`, contrary to what is stated in the question), you need to bound `I` so that it implements `Comparable` (as well as the `Students` class itself), which allows you to call the `compare` method on that:\r\n\r\n```\r\nclass Students&lt;I extends Comparable&lt;? super I&gt;,S &gt; implements Comparable&lt;Students&lt;I,S&gt;&gt;{\r\n    private I age;\r\n\r\n    // ...\r\n    public int compareTo(Students&lt;I, S&gt; s) {\r\n      return age.compareTo(s.age);\r\n    }\r\n}\r\n```","title":"How write compareTo method for Generic class with 2 parameterized types using Comparable Interface","body":"<blockquote>\n<p>How to compare age which is Integer object for which I'm unable to access age.intValue() also, Please let me know.</p>\n</blockquote>\n<p>No, it's not. Because <code>age</code> is an <code>I</code>, it's an instance of that type variable (or null), which can be anything at all: an <code>Integer</code>, a <code>String</code>, an <code>Object</code>, a <code>List</code>, a <code>ClassThatIHaveJustWritten</code>...</p>\n<p>If you need <code>age</code> to be an instance of <code>Integer</code>, declare it as one (or as an <code>int</code>, if you never expect it to be null), and you'll then have no trouble using <code>&lt;</code> to compare it - although you'll find it easier just to use the <code>Integer.compareTo</code> (or <code>Integer.compare</code>) instead.</p>\n<hr />\n<p>If you <em>really</em> need to compare things for a generic <code>I</code> (that is, not an <code>Integer</code>, contrary to what is stated in the question), you need to bound <code>I</code> so that it implements <code>Comparable</code> (as well as the <code>Students</code> class itself), which allows you to call the <code>compare</code> method on that:</p>\n<pre><code>class Students&lt;I extends Comparable&lt;? super I&gt;,S &gt; implements Comparable&lt;Students&lt;I,S&gt;&gt;{\n    private I age;\n\n    // ...\n    public int compareTo(Students&lt;I, S&gt; s) {\n      return age.compareTo(s.age);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28712205,"reputation":1,"user_id":21987504,"display_name":"Abdul Mueed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685466552,"creation_date":1685465812,"answer_id":76367045,"question_id":76366975,"body_markdown":"```\r\nclass Students&lt;I extends Comparable&lt;I&gt;, S&gt; implements Comparable&lt;Students&lt;I, S&gt;&gt; {\r\n    private I age;\r\n    private S name;\r\n\r\n    public Students(I a, S n) {\r\n        age = a;\r\n        name = n;\r\n    }\r\n\r\n    public int compareTo(Students&lt;I, S&gt; s) {\r\n        return age.compareTo(s.age);\r\n    }\r\n\r\n    public I getAge() {\r\n        return age;\r\n    }\r\n\r\n    public S getName() {\r\n        return name;\r\n    }\r\n\r\n    public String toString() {\r\n        return &quot; &quot; + name;\r\n    }\r\n}\r\n```\r\n\r\nTo resolve this, you can add a type constraint to I to ensure it extends the Comparable interface. This way, you can use the compareTo method on I to compare the age values.\r\nThe code I&#39;ve shared has the type parameter I is constrained to extend Comparable&lt;I&gt;, indicating that it should be a type that supports comparison. Inside the compareTo method, you can directly call the compareTo method on the age objects to compare them.\r\nHope this will work in your case.","title":"How write compareTo method for Generic class with 2 parameterized types using Comparable Interface","body":"<pre><code>class Students&lt;I extends Comparable&lt;I&gt;, S&gt; implements Comparable&lt;Students&lt;I, S&gt;&gt; {\n    private I age;\n    private S name;\n\n    public Students(I a, S n) {\n        age = a;\n        name = n;\n    }\n\n    public int compareTo(Students&lt;I, S&gt; s) {\n        return age.compareTo(s.age);\n    }\n\n    public I getAge() {\n        return age;\n    }\n\n    public S getName() {\n        return name;\n    }\n\n    public String toString() {\n        return &quot; &quot; + name;\n    }\n}\n</code></pre>\n<p>To resolve this, you can add a type constraint to I to ensure it extends the Comparable interface. This way, you can use the compareTo method on I to compare the age values.\nThe code I've shared has the type parameter I is constrained to extend Comparable, indicating that it should be a type that supports comparison. Inside the compareTo method, you can directly call the compareTo method on the age objects to compare them.\nHope this will work in your case.</p>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685655239,"creation_date":1685466231,"answer_id":76367095,"question_id":76366975,"body_markdown":"As it currently is, you can&#39;t do it, since `I` and `S` now are `Object`s. You need to either:\r\n\r\n 1. Introduce bounds for your generic parameters:\r\n```\r\nclass Students&lt;I extends Comparable&lt;I&gt;, S extends Comparable&lt;S&gt;&gt; implements Comparable&lt;Students&lt;I, S&gt;&gt; {\r\n  private final I age;\r\n  private final S name;\r\n\r\n  public Students(I age, S name) {\r\n    this.age = age;\r\n    this.name = name;\r\n  }\r\n\r\n  @Override\r\n  public int compareTo(Students&lt;I, S&gt; s) {\r\n    int cmp = this.age.compareTo(s.age);\r\n    if (cmp != 0) {\r\n      return cmp;\r\n    }\r\n    return this.name.compareTo(s.name);\r\n  }\r\n}\r\n```\r\nLike this `I` and `S` can be only types that implement `Comparable` and you can use their `compareTo()` methods.\r\n\r\n 2. Or you can depend on [Comparators][1] to make the comparison for you.\r\n```\r\nclass Students&lt;I, S&gt; implements Comparable&lt;Students&lt;I, S&gt;&gt; {\r\n\r\n  private final I age;\r\n  private final S name;\r\n  private final Comparator&lt;I&gt; ageComparator;\r\n  private final Comparator&lt;S&gt; nameComparator;\r\n\r\n  public Students(I age, S name, Comparator&lt;I&gt; ageComparator, Comparator&lt;S&gt; nameComparator) {\r\n    this.age = age;\r\n    this.name = name;\r\n    this.ageComparator = ageComparator;\r\n    this.nameComparator = nameComparator;\r\n  }\r\n\r\n  @Override\r\n  public int compareTo(Students&lt;I, S&gt; s) {\r\n    int cmp = ageComparator.compare(this.age, s.age);\r\n    if (cmp != 0) {\r\n      return cmp;\r\n    }\r\n    return nameComparator.compare(this.name, s.name);\r\n  }\r\n}\r\n```\r\n**Warning**: The second option is not really recommended, as it may break a general requirement of `Comparable` - `The implementor must ensure signum(x.compareTo(y)) == -signum(y.compareTo(x)) for all x and y.` I would only use it as a last resort.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html","title":"How write compareTo method for Generic class with 2 parameterized types using Comparable Interface","body":"<p>As it currently is, you can't do it, since <code>I</code> and <code>S</code> now are <code>Object</code>s. You need to either:</p>\n<ol>\n<li>Introduce bounds for your generic parameters:</li>\n</ol>\n<pre><code>class Students&lt;I extends Comparable&lt;I&gt;, S extends Comparable&lt;S&gt;&gt; implements Comparable&lt;Students&lt;I, S&gt;&gt; {\n  private final I age;\n  private final S name;\n\n  public Students(I age, S name) {\n    this.age = age;\n    this.name = name;\n  }\n\n  @Override\n  public int compareTo(Students&lt;I, S&gt; s) {\n    int cmp = this.age.compareTo(s.age);\n    if (cmp != 0) {\n      return cmp;\n    }\n    return this.name.compareTo(s.name);\n  }\n}\n</code></pre>\n<p>Like this <code>I</code> and <code>S</code> can be only types that implement <code>Comparable</code> and you can use their <code>compareTo()</code> methods.</p>\n<ol start=\"2\">\n<li>Or you can depend on <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\">Comparators</a> to make the comparison for you.</li>\n</ol>\n<pre><code>class Students&lt;I, S&gt; implements Comparable&lt;Students&lt;I, S&gt;&gt; {\n\n  private final I age;\n  private final S name;\n  private final Comparator&lt;I&gt; ageComparator;\n  private final Comparator&lt;S&gt; nameComparator;\n\n  public Students(I age, S name, Comparator&lt;I&gt; ageComparator, Comparator&lt;S&gt; nameComparator) {\n    this.age = age;\n    this.name = name;\n    this.ageComparator = ageComparator;\n    this.nameComparator = nameComparator;\n  }\n\n  @Override\n  public int compareTo(Students&lt;I, S&gt; s) {\n    int cmp = ageComparator.compare(this.age, s.age);\n    if (cmp != 0) {\n      return cmp;\n    }\n    return nameComparator.compare(this.name, s.name);\n  }\n}\n</code></pre>\n<p><strong>Warning</strong>: The second option is not really recommended, as it may break a general requirement of <code>Comparable</code> - <code>The implementor must ensure signum(x.compareTo(y)) == -signum(y.compareTo(x)) for all x and y.</code> I would only use it as a last resort.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1685475234,"creation_date":1685475234,"answer_id":76368048,"question_id":76366975,"body_markdown":"To re-iterate the error you&#39;re encountering.\r\n\r\n```none\r\njava: bad operand types for binary operator &#39;&gt;&#39;\r\n  first type:  I\r\n  second type: I\r\n```\r\n\r\nThe term _[binary operator](https://en.wikipedia.org/wiki/Binary_operation)_ is a mathematical term&amp;mdash;not to be confused with _[Bitwise operators](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op3.html)_, which typically provide functionality in terms of _[binary code](https://en.wikipedia.org/wiki/Binary_code)_.\r\n\r\nA _binary operator_ is simply a _[relational operator](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op2.html)_.\r\n```none\r\nx &gt; y\r\n```\r\n\r\nIn your code you have two conditional statements which use the binary operator.\r\n\r\n```java\r\nif(age &gt; s.age){return 1;}\r\nelse if (age &lt;s.age){return -1;}\r\n```\r\n\r\nThe reason for the error is because both _age_ and _s.age_ are of type _I_.  \r\nWhich is defined, here\r\n\r\n```java\r\nprivate I age;\r\n```\r\n\r\nIn order to identify type _I_, you can use a _[type cast](https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html)_.\r\n\r\nSince, you are passing in an _integer_ value, you can use the _int_ type cast.\r\n\r\n```java\r\nif((int) age &gt; (int) s.age){return 1;}\r\nelse if ((int) age &lt; (int) s.age){return -1;}\r\n```\r\n\r\nAs a note, if you&#39;re using an _Integer_ object for _I_, you can utilize the _[auto-boxing and un-boxing](https://docs.oracle.com/javase/tutorial/java/data/autoboxing.html)_ feature.  \r\nThis will convert your _Integer_ to an _int_ primitive, or, alternately, your _int_ primitive to an _Integer_.\r\n\r\nSo, this is a simple way of typing the following.\r\n\r\n```java\r\nif(((Integer) age).intValue() &gt; ((Integer) s.age).intValue()){return 1;}\r\nelse if (((Integer) age).intValue() &lt; ((Integer) s.age).intValue()){return -1;}\r\n```\r\n\r\nA few notes on your code.\r\n\r\nYour _[generic-type variables](https://docs.oracle.com/javase/tutorial/java/generics/types.html)_ can be any upper-case letter, _A_ through _Z_.\r\n\r\nSince you are comparing an integer value, you can utilize the _[Integer#compareTo](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Integer.html#compareTo(java.lang.Integer))_ method.  \r\nHere is the source code for _[Integer#compareTo](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/lang/Integer.java#L1465)_ and _[Integer#compare](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/lang/Integer.java#L1483)_.\r\n\r\nKeep in mind here that you&#39;ll need to cast the value to an _Integer_, and not a _int_.  \r\nAuto-boxing will not take a precedence during the method invocation.\r\n\r\n```java\r\npublic int compareTo(Students&lt;I, S&gt; s) {\r\n    return ((Integer) age).compareTo((Integer) s.age);\r\n}\r\n```\r\n\r\nFinally, here is a great tutorial on _Java Generics_.  \r\n_[Lesson: Generics (Updated) (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language)](https://docs.oracle.com/javase/tutorial/java/generics/index.html)_.","title":"How write compareTo method for Generic class with 2 parameterized types using Comparable Interface","body":"<p>To re-iterate the error you're encountering.</p>\n<pre class=\"lang-none prettyprint-override\"><code>java: bad operand types for binary operator '&gt;'\n  first type:  I\n  second type: I\n</code></pre>\n<p>The term <em><a href=\"https://en.wikipedia.org/wiki/Binary_operation\" rel=\"nofollow noreferrer\">binary operator</a></em> is a mathematical term—not to be confused with <em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op3.html\" rel=\"nofollow noreferrer\">Bitwise operators</a></em>, which typically provide functionality in terms of <em><a href=\"https://en.wikipedia.org/wiki/Binary_code\" rel=\"nofollow noreferrer\">binary code</a></em>.</p>\n<p>A <em>binary operator</em> is simply a <em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op2.html\" rel=\"nofollow noreferrer\">relational operator</a></em>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>x &gt; y\n</code></pre>\n<p>In your code you have two conditional statements which use the binary operator.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(age &gt; s.age){return 1;}\nelse if (age &lt;s.age){return -1;}\n</code></pre>\n<p>The reason for the error is because both <em>age</em> and <em>s.age</em> are of type <em>I</em>.<br />\nWhich is defined, here</p>\n<pre class=\"lang-java prettyprint-override\"><code>private I age;\n</code></pre>\n<p>In order to identify type <em>I</em>, you can use a <em><a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html\" rel=\"nofollow noreferrer\">type cast</a></em>.</p>\n<p>Since, you are passing in an <em>integer</em> value, you can use the <em>int</em> type cast.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if((int) age &gt; (int) s.age){return 1;}\nelse if ((int) age &lt; (int) s.age){return -1;}\n</code></pre>\n<p>As a note, if you're using an <em>Integer</em> object for <em>I</em>, you can utilize the <em><a href=\"https://docs.oracle.com/javase/tutorial/java/data/autoboxing.html\" rel=\"nofollow noreferrer\">auto-boxing and un-boxing</a></em> feature.<br />\nThis will convert your <em>Integer</em> to an <em>int</em> primitive, or, alternately, your <em>int</em> primitive to an <em>Integer</em>.</p>\n<p>So, this is a simple way of typing the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(((Integer) age).intValue() &gt; ((Integer) s.age).intValue()){return 1;}\nelse if (((Integer) age).intValue() &lt; ((Integer) s.age).intValue()){return -1;}\n</code></pre>\n<p>A few notes on your code.</p>\n<p>Your <em><a href=\"https://docs.oracle.com/javase/tutorial/java/generics/types.html\" rel=\"nofollow noreferrer\">generic-type variables</a></em> can be any upper-case letter, <em>A</em> through <em>Z</em>.</p>\n<p>Since you are comparing an integer value, you can utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Integer.html#compareTo(java.lang.Integer)\" rel=\"nofollow noreferrer\">Integer#compareTo</a></em> method.<br />\nHere is the source code for <em><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/lang/Integer.java#L1465\" rel=\"nofollow noreferrer\">Integer#compareTo</a></em> and <em><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/lang/Integer.java#L1483\" rel=\"nofollow noreferrer\">Integer#compare</a></em>.</p>\n<p>Keep in mind here that you'll need to cast the value to an <em>Integer</em>, and not a <em>int</em>.<br />\nAuto-boxing will not take a precedence during the method invocation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int compareTo(Students&lt;I, S&gt; s) {\n    return ((Integer) age).compareTo((Integer) s.age);\n}\n</code></pre>\n<p>Finally, here is a great tutorial on <em>Java Generics</em>.<br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/java/generics/index.html\" rel=\"nofollow noreferrer\">Lesson: Generics (Updated) (The Java™ Tutorials &gt; Learning the Java Language)</a></em>.</p>\n"}],"owner":{"account_id":28712118,"reputation":21,"user_id":21987433,"display_name":"sumanth paramkusam"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":76367095,"answer_count":4,"score":-1,"last_activity_date":1685655239,"creation_date":1685465156,"question_id":76366975,"body_markdown":"My code is as follows\r\n```\r\n\r\nclass Students&lt;I ,S &gt; implements Comparable&lt;Students&lt;I,S&gt;&gt;{\r\n    private I age;\r\n    private S name;\r\n    public Students(I a, S n){\r\n        age = a;\r\n        name = n;\r\n    }\r\n    public int compareTo(Students&lt;I,S&gt; s){\r\n        if(age &gt; s.age){return 1;}\r\n        else if (age &lt;s.age){return -1;}\r\n        else{return 0;}\r\n    }\r\n    public I getAge(){return age;}\r\n    public S getName(){return name;}\r\n    public String toString(){\r\n        return &quot; &quot;+name;\r\n    }\r\n}\r\n```\r\n\r\n\r\nWhile executing I&#39;m getting \r\njava: bad operand types for binary operator &#39;&gt;&#39;\r\n  first type:  I\r\n  second type: I\r\n\r\nHow to compare age which is Integer object for which I&#39;m unable to access age.intValue() also,\r\nPlease let me know.\r\n\r\nI tried to sort custom class object, while class is a generic class which has 2 type. I need to sort based on Integer class variable","title":"How write compareTo method for Generic class with 2 parameterized types using Comparable Interface","body":"<p>My code is as follows</p>\n<pre><code>\nclass Students&lt;I ,S &gt; implements Comparable&lt;Students&lt;I,S&gt;&gt;{\n    private I age;\n    private S name;\n    public Students(I a, S n){\n        age = a;\n        name = n;\n    }\n    public int compareTo(Students&lt;I,S&gt; s){\n        if(age &gt; s.age){return 1;}\n        else if (age &lt;s.age){return -1;}\n        else{return 0;}\n    }\n    public I getAge(){return age;}\n    public S getName(){return name;}\n    public String toString(){\n        return &quot; &quot;+name;\n    }\n}\n</code></pre>\n<p>While executing I'm getting\njava: bad operand types for binary operator '&gt;'\nfirst type:  I\nsecond type: I</p>\n<p>How to compare age which is Integer object for which I'm unable to access age.intValue() also,\nPlease let me know.</p>\n<p>I tried to sort custom class object, while class is a generic class which has 2 type. I need to sort based on Integer class variable</p>\n"},{"tags":["java","if-statement","while-loop","iterator","average"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1428904446,"post_id":29598631,"comment_id":47343681,"body_markdown":"What&#39;s wrong with your current approach? You have a integer division issue here `av = ( sum ) / ( count );`, and should something more like `av = ( sum ) / ( (double)count );`","body":"What&#39;s wrong with your current approach? You have a integer division issue here <code>av = ( sum ) &#47; ( count );</code>, and should something more like <code>av = ( sum ) &#47; ( (double)count );</code>"},{"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"score":0,"creation_date":1428904456,"post_id":29598631,"comment_id":47343683,"body_markdown":"what&#39;s the issue now? Any error exception?","body":"what&#39;s the issue now? Any error exception?"},{"owner":{"account_id":3579096,"reputation":2566,"user_id":2987706,"accept_rate":90,"display_name":"Prashant"},"score":0,"creation_date":1428904634,"post_id":29598631,"comment_id":47343749,"body_markdown":"still you are not using array !!! so what is the issue??","body":"still you are not using array !!! so what is the issue??"},{"owner":{"account_id":6127255,"reputation":347,"user_id":4778760,"accept_rate":85,"display_name":"Nanda Ardianto"},"score":0,"creation_date":1428904784,"post_id":29598631,"comment_id":47343801,"body_markdown":"when I insert: 10 20 30 40 121 123 145 done\nthe outcome is : Average = 10.0\nMax = 10\nMinimum = 10\nAverage = 15.0\nMax = 20\nMinimum = 10\nAverage = 20.0\nMax = 30\nMinimum = 10\nAverage = 25.0\nMax = 40\nMinimum = 10\nDangerous level: 121ppb\nAverage = 44.0\nMax = 121\nMinimum = 10\nDangerous level: 123ppb\nAverage = 57.0\nMax = 123\nMinimum = 10\nDangerous level: 145ppb\nAverage = 69.0\nMax = 145\nMinimum = 10\n\nI want it to print just the max and just the min and the average of all the numbers that the user inputted. \n\n@MadProgrammer","body":"when I insert: 10 20 30 40 121 123 145 done the outcome is : Average = 10.0 Max = 10 Minimum = 10 Average = 15.0 Max = 20 Minimum = 10 Average = 20.0 Max = 30 Minimum = 10 Average = 25.0 Max = 40 Minimum = 10 Dangerous level: 121ppb Average = 44.0 Max = 121 Minimum = 10 Dangerous level: 123ppb Average = 57.0 Max = 123 Minimum = 10 Dangerous level: 145ppb Average = 69.0 Max = 145 Minimum = 10  I want it to print just the max and just the min and the average of all the numbers that the user inputted.   @MadProgrammer"},{"owner":{"account_id":6127255,"reputation":347,"user_id":4778760,"accept_rate":85,"display_name":"Nanda Ardianto"},"score":0,"creation_date":1428904958,"post_id":29598631,"comment_id":47343865,"body_markdown":"I have stated the issue above thanks \n@SMA","body":"I have stated the issue above thanks  @SMA"},{"owner":{"account_id":6127255,"reputation":347,"user_id":4778760,"accept_rate":85,"display_name":"Nanda Ardianto"},"score":0,"creation_date":1428904972,"post_id":29598631,"comment_id":47343874,"body_markdown":"I have stated the issue above thanks @Prashant","body":"I have stated the issue above thanks @Prashant"},{"owner":{"account_id":3579096,"reputation":2566,"user_id":2987706,"accept_rate":90,"display_name":"Prashant"},"score":1,"creation_date":1428905094,"post_id":29598631,"comment_id":47343915,"body_markdown":"put your while loop end bracket before calculating average and check whether you are getting right answer or not??","body":"put your while loop end bracket before calculating average and check whether you are getting right answer or not??"},{"owner":{"account_id":6127255,"reputation":347,"user_id":4778760,"accept_rate":85,"display_name":"Nanda Ardianto"},"score":1,"creation_date":1428905250,"post_id":29598631,"comment_id":47343974,"body_markdown":"Thank you so much! I put  av = ( sum ) / ( count );\n        UI.println( &quot;Average = &quot; + av );\n        UI.println( &quot;Max = &quot; + max );\n        UI.println( &quot;Minimum = &quot; + min );\noutside of while loop and it worked how i wanted it to :)\n@Prashant","body":"Thank you so much! I put  av = ( sum ) / ( count );         UI.println( &quot;Average = &quot; + av );         UI.println( &quot;Max = &quot; + max );         UI.println( &quot;Minimum = &quot; + min ); outside of while loop and it worked how i wanted it to :) @Prashant"}],"answers":[{"tags":[],"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1428905209,"creation_date":1428905209,"answer_id":29598776,"question_id":29598631,"body_markdown":"Bring your println/avergae calculation statement out of loop like:\r\n\r\n     }//while loop ends\r\n     av = ( sum ) / ( (double)count);\r\n     UI.println( &quot;Average = &quot; + av );\r\n     UI.println( &quot;Max = &quot; + max );\r\n     UI.println( &quot;Minimum = &quot; + min );","title":"display min and max value of user input and also find the average","body":"<p>Bring your println/avergae calculation statement out of loop like:</p>\n\n<pre><code> }//while loop ends\n av = ( sum ) / ( (double)count);\n UI.println( \"Average = \" + av );\n UI.println( \"Max = \" + max );\n UI.println( \"Minimum = \" + min );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3579096,"reputation":2566,"user_id":2987706,"accept_rate":90,"display_name":"Prashant"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1428905323,"creation_date":1428905323,"answer_id":29598803,"question_id":29598631,"body_markdown":"You are putting while loop end bracket `}` wrongly.\r\n\r\n**put your while loop end bracket before calculating average**","title":"display min and max value of user input and also find the average","body":"<p>You are putting while loop end bracket <code>}</code> wrongly.</p>\n\n<p><strong>put your while loop end bracket before calculating average</strong></p>\n"}],"owner":{"account_id":6127255,"reputation":347,"user_id":4778760,"accept_rate":85,"display_name":"Nanda Ardianto"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":29598803,"answer_count":2,"score":0,"last_activity_date":1685654938,"creation_date":1428904337,"question_id":29598631,"body_markdown":"Hi there I am a beginner, I have looked at similar query&#39;s but i was wondering if anyone could help me with my code. I am working on an assignment to receive numbers from user input and print out the maximum value and minimum value that the user has inserted. I was wondering how I would do this without using arrays. This is what I have so far:\r\n        \r\n\r\n      public void analyseLevels() {\r\n        UI.clearText();\r\n        UI.printf(&quot;Insert pollution levels followed%nby a space in between%nuse \r\n       &#39;done&#39; to insert:%n&quot;);\r\n        int sum = 0;\r\n        int count = 0;\r\n        int input = 0;\r\n        double av = 0;\r\n        int min = Integer.MAX_VALUE;\r\n        int max = Integer.MIN_VALUE;\r\n            while(UI.hasNextInt()){\r\n            int  amt = UI.nextInt();\r\n        // Initialise variables\r\n        // Prompt for input\r\n        // Loop, reading numbers and updating variables\r\n        // Compute and print out the analysis\r\n            if( amt &gt; 0){\r\n            \r\n            if(amt &gt; max){\r\n              max = amt;\r\n           \r\n            }\r\n        \r\n            if(amt &lt; min){\r\n              min = amt;\r\n           \r\n            }\r\n        \r\n            if(amt &gt;= 120){\r\n              UI.printf(&quot;Dangerous level: %dppb%n&quot;, amt);\r\n            }\r\n        \r\n            sum += amt;\r\n            count++;\r\n          }\r\n        \r\n            av = ( sum ) / ( count );\r\n            UI.println( &quot;Average = &quot; + av );\r\n            UI.println( &quot;Max = &quot; + max );\r\n            UI.println( &quot;Minimum = &quot; + min );\r\n        \r\n       }\r\n        UI.nextLine(); // to clear out the input\r\n    }\r\n\r\n","title":"display min and max value of user input and also find the average","body":"<p>Hi there I am a beginner, I have looked at similar query's but i was wondering if anyone could help me with my code. I am working on an assignment to receive numbers from user input and print out the maximum value and minimum value that the user has inserted. I was wondering how I would do this without using arrays. This is what I have so far:</p>\n\n<pre><code>  public void analyseLevels() {\n    UI.clearText();\n    UI.printf(\"Insert pollution levels followed%nby a space in between%nuse \n   'done' to insert:%n\");\n    int sum = 0;\n    int count = 0;\n    int input = 0;\n    double av = 0;\n    int min = Integer.MAX_VALUE;\n    int max = Integer.MIN_VALUE;\n        while(UI.hasNextInt()){\n        int  amt = UI.nextInt();\n    // Initialise variables\n    // Prompt for input\n    // Loop, reading numbers and updating variables\n    // Compute and print out the analysis\n        if( amt &gt; 0){\n\n        if(amt &gt; max){\n          max = amt;\n\n        }\n\n        if(amt &lt; min){\n          min = amt;\n\n        }\n\n        if(amt &gt;= 120){\n          UI.printf(\"Dangerous level: %dppb%n\", amt);\n        }\n\n        sum += amt;\n        count++;\n      }\n\n        av = ( sum ) / ( count );\n        UI.println( \"Average = \" + av );\n        UI.println( \"Max = \" + max );\n        UI.println( \"Minimum = \" + min );\n\n   }\n    UI.nextLine(); // to clear out the input\n}\n</code></pre>\n"},{"tags":["java","apache-kafka","apache-kafka-connect","ksqldb"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685654907,"creation_date":1685654907,"answer_id":76385833,"question_id":76384521,"body_markdown":"I suggest referring to actual ksql docs, not external blogs. \r\n\r\n`CREATE SOURCE TABLE` is not correct. It should be `CREATE TABLE`. \r\n\r\nThe error is saying the parser is expecting `CREATE SOURCE CONNECTOR`. \r\n\r\n","title":"mismatched input &#39;TABLE&#39; expecting &#39;CONNECTOR&#39;. Error code: 40001","body":"<p>I suggest referring to actual ksql docs, not external blogs.</p>\n<p><code>CREATE SOURCE TABLE</code> is not correct. It should be <code>CREATE TABLE</code>.</p>\n<p>The error is saying the parser is expecting <code>CREATE SOURCE CONNECTOR</code>.</p>\n"}],"owner":{"account_id":6187514,"reputation":8236,"user_id":6872018,"accept_rate":33,"display_name":"Jeff Cook"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685654907,"creation_date":1685642181,"question_id":76384521,"body_markdown":"I am following tutorial from : https://piotrminkowski.com/2022/06/22/introduction-to-ksqldb-on-kubernetes-with-spring-boot/ where we&#39;re developing **Spring Boot and ksqldb** example.  \r\n\r\nKTableCreateListener.java\r\n\r\n    @Component\r\n    public class KTableCreateListener implements ApplicationListener&lt;ContextRefreshedEvent&gt; {\r\n    \r\n        private static final Logger LOG = LoggerFactory.getLogger(KTableCreateListener.class);\r\n        private Client ksqlClient;\r\n    \r\n        public KTableCreateListener(Client ksqlClient) {\r\n            this.ksqlClient = ksqlClient;\r\n        }\r\n    \r\n        @Override\r\n        public void onApplicationEvent(ContextRefreshedEvent event) {\r\n           try {\r\n              String sql = &quot;CREATE SOURCE TABLE IF NOT EXISTS transactions_view (&quot;\r\n              \t\t+ &quot;                    id BIGINT PRIMARY KEY,&quot;\r\n              \t\t+ &quot;                    sourceAccountId BIGINT,&quot;\r\n              \t\t+ &quot;                    targetAccountId BIGINT,&quot;\r\n              \t\t+ &quot;                    amount INT&quot;\r\n              \t\t+ &quot;                  ) WITH (&quot;\r\n              \t\t+ &quot;                    kafka_topic=&#39;transactions&#39;,&quot;\r\n              \t\t+ &quot;                    value_format=&#39;JSON&#39;&quot;\r\n              \t\t+ &quot;                  );&quot;;\r\n              ExecuteStatementResult result = ksqlClient.executeStatement(sql).get();\r\n              LOG.info(&quot;Result: {}&quot;, result.queryId().orElse(null));\r\n           } catch (ExecutionException | InterruptedException e) {\r\n              LOG.error(&quot;Error: &quot;, e);\r\n           }\r\n        }\r\n    }\r\n\r\n\r\nWhen I am starting the app, I am getting the below error - \r\n\r\n    java.util.concurrent.ExecutionException: io.confluent.ksql.api.client.exception.KsqlClientException: Received 400 response from server: line 1:15: mismatched input &#39;TABLE&#39; expecting &#39;CONNECTOR&#39;. Error code: 40001\r\n    \tat java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395) ~[na:na]\r\n    \tat java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999) ~[na:na]\r\n    \tat com.example.startup.KTableCreateListener.onApplicationEvent(KTableCreateListener.java:35) ~[classes/:na]\r\n    \tat com.example.startup.KTableCreateListener.onApplicationEvent(KTableCreateListener.java:13) ~[classes/:na]\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:427) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:938) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.cloud.stream.binder.DefaultBinderFactory.initializeBinderContextSimple(DefaultBinderFactory.java:471) ~[spring-cloud-stream-3.1.4.jar:3.1.4]\r\n    \tat org.springframework.cloud.stream.binder.DefaultBinderFactory.getBinderInstance(DefaultBinderFactory.java:265) ~[spring-cloud-stream-3.1.4.jar:3.1.4]\r\n    \tat org.springframework.cloud.stream.binder.DefaultBinderFactory.doGetBinder(DefaultBinderFactory.java:223) ~[spring-cloud-stream-3.1.4.jar:3.1.4]\r\n    \tat org.springframework.cloud.stream.binder.DefaultBinderFactory.getBinder(DefaultBinderFactory.java:151) ~[spring-cloud-stream-3.1.4.jar:3.1.4]\r\n    \tat org.springframework.cloud.stream.binding.BindingService.getBinder(BindingService.java:386) ~[spring-cloud-stream-3.1.4.jar:3.1.4]\r\n    \tat org.springframework.cloud.stream.binding.BindingService.bindProducer(BindingService.java:270) ~[spring-cloud-stream-3.1.4.jar:3.1.4]\r\n    \tat org.springframework.cloud.stream.binding.BindingService.bindProducer(BindingService.java:294) ~[spring-cloud-stream-3.1.4.jar:3.1.4]\r\n    \tat org.springframework.cloud.stream.binding.BindingService.bindProducer(BindingService.java:298) ~[spring-cloud-stream-3.1.4.jar:3.1.4]\r\n    \tat org.springframework.cloud.stream.binding.AbstractBindableProxyFactory.createAndBindOutputs(AbstractBindableProxyFactory.java:142) ~[spring-cloud-stream-3.1.4.jar:3.1.4]\r\n    \tat org.springframework.cloud.stream.binding.OutputBindingLifecycle.doStartWithBindable(OutputBindingLifecycle.java:58) ~[spring-cloud-stream-3.1.4.jar:3.1.4]\r\n    \tat java.base/java.util.LinkedHashMap$LinkedValues.forEach(LinkedHashMap.java:608) ~[na:na]\r\n    \tat org.springframework.cloud.stream.binding.AbstractBindingLifecycle.start(AbstractBindingLifecycle.java:57) ~[spring-cloud-stream-3.1.4.jar:3.1.4]\r\n    \tat org.springframework.cloud.stream.binding.OutputBindingLifecycle.start(OutputBindingLifecycle.java:34) ~[spring-cloud-stream-3.1.4.jar:3.1.4]\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.1.jar:2.7.1]\r\n    \tat com.example.SpringBootKsqlExampleApplication.main(SpringBootKsqlExampleApplication.java:10) ~[classes/:na]\r\n    Caused by: io.confluent.ksql.api.client.exception.KsqlClientException: Received 400 response from server: line 1:15: mismatched input &#39;TABLE&#39; expecting &#39;CONNECTOR&#39;. Error code: 40001\r\n    \tat io.confluent.ksql.api.client.impl.ClientImpl.lambda$handleErrorResponse$29(ClientImpl.java:736) ~[ksqldb-api-client-0.26.0.jar:na]\r\n    \tat io.vertx.core.http.impl.HttpClientResponseImpl$BodyHandler.notifyHandler(HttpClientResponseImpl.java:292) ~[vertx-core-3.9.12.jar:3.9.12]\r\n    \tat io.vertx.core.http.impl.HttpClientResponseImpl.lambda$bodyHandler$0(HttpClientResponseImpl.java:193) ~[vertx-core-3.9.12.jar:3.9.12]\r\n    \tat io.vertx.core.http.impl.HttpClientResponseImpl.handleEnd(HttpClientResponseImpl.java:248) ~[vertx-core-3.9.12.jar:3.9.12]\r\n    \tat io.vertx.core.http.impl.Http2ClientConnection$Http2ClientStream.handleEnd(Http2ClientConnection.java:260) ~[vertx-core-3.9.12.jar:3.9.12]\r\n    \tat io.vertx.core.http.impl.VertxHttp2Stream.lambda$new$1(VertxHttp2Stream.java:68) ~[vertx-core-3.9.12.jar:3.9.12]\r\n    \tat io.vertx.core.streams.impl.InboundBuffer.handleEvent(InboundBuffer.java:237) ~[vertx-core-3.9.12.jar:3.9.12]\r\n    \tat io.vertx.core.streams.impl.InboundBuffer.write(InboundBuffer.java:127) ~[vertx-core-3.9.12.jar:3.9.12]\r\n    \tat io.vertx.core.http.impl.VertxHttp2Stream.onEnd(VertxHttp2Stream.java:107) ~[vertx-core-3.9.12.jar:3.9.12]\r\n    \tat io.vertx.core.http.impl.VertxHttp2Stream.onEnd(VertxHttp2Stream.java:100) ~[vertx-core-3.9.12.jar:3.9.12]\r\n    \tat io.vertx.core.http.impl.Http2ConnectionBase.lambda$onDataRead$10(Http2ConnectionBase.java:323) ~[vertx-core-3.9.12.jar:3.9.12]\r\n    \tat io.vertx.core.impl.ContextImpl.executeTask(ContextImpl.java:366) ~[vertx-core-3.9.12.jar:3.9.12]\r\n    \tat io.vertx.core.impl.EventLoopContext.execute(EventLoopContext.java:43) ~[vertx-core-3.9.12.jar:3.9.12]\r\n    \tat io.vertx.core.impl.ContextImpl.executeFromIO(ContextImpl.java:229) ~[vertx-core-3.9.12.jar:3.9.12]\r\n    \tat io.vertx.core.impl.ContextImpl.executeFromIO(ContextImpl.java:221) ~[vertx-core-3.9.12.jar:3.9.12]\r\n    \tat io.vertx.core.http.impl.Http2ConnectionBase.onDataRead(Http2ConnectionBase.java:323) ~[vertx-core-3.9.12.jar:3.9.12]\r\n    \tat io.netty.handler.codec.http2.Http2FrameListenerDecorator.onDataRead(Http2FrameListenerDecorator.java:36) ~[netty-codec-http2-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.handler.codec.http2.Http2EmptyDataFrameListener.onDataRead(Http2EmptyDataFrameListener.java:49) ~[netty-codec-http2-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.handler.codec.http2.DefaultHttp2ConnectionDecoder$FrameReadListener.onDataRead(DefaultHttp2ConnectionDecoder.java:307) ~[netty-codec-http2-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.handler.codec.http2.DefaultHttp2FrameReader.readDataFrame(DefaultHttp2FrameReader.java:415) ~[netty-codec-http2-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.handler.codec.http2.DefaultHttp2FrameReader.processPayloadState(DefaultHttp2FrameReader.java:250) ~[netty-codec-http2-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.handler.codec.http2.DefaultHttp2FrameReader.readFrame(DefaultHttp2FrameReader.java:159) ~[netty-codec-http2-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.handler.codec.http2.DefaultHttp2ConnectionDecoder.decodeFrame(DefaultHttp2ConnectionDecoder.java:173) ~[netty-codec-http2-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.handler.codec.http2.DecoratingHttp2ConnectionDecoder.decodeFrame(DecoratingHttp2ConnectionDecoder.java:63) ~[netty-codec-http2-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.handler.codec.http2.Http2ConnectionHandler$FrameDecoder.decode(Http2ConnectionHandler.java:393) ~[netty-codec-http2-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.handler.codec.http2.Http2ConnectionHandler.decode(Http2ConnectionHandler.java:453) ~[netty-codec-http2-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510) ~[netty-codec-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449) ~[netty-codec-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279) ~[netty-codec-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.vertx.core.http.impl.VertxHttp2ConnectionHandler.channelRead(VertxHttp2ConnectionHandler.java:418) ~[vertx-core-3.9.12.jar:3.9.12]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n\r\n","title":"mismatched input &#39;TABLE&#39; expecting &#39;CONNECTOR&#39;. Error code: 40001","body":"<p>I am following tutorial from : <a href=\"https://piotrminkowski.com/2022/06/22/introduction-to-ksqldb-on-kubernetes-with-spring-boot/\" rel=\"nofollow noreferrer\">https://piotrminkowski.com/2022/06/22/introduction-to-ksqldb-on-kubernetes-with-spring-boot/</a> where we're developing <strong>Spring Boot and ksqldb</strong> example.</p>\n<p>KTableCreateListener.java</p>\n<pre><code>@Component\npublic class KTableCreateListener implements ApplicationListener&lt;ContextRefreshedEvent&gt; {\n\n    private static final Logger LOG = LoggerFactory.getLogger(KTableCreateListener.class);\n    private Client ksqlClient;\n\n    public KTableCreateListener(Client ksqlClient) {\n        this.ksqlClient = ksqlClient;\n    }\n\n    @Override\n    public void onApplicationEvent(ContextRefreshedEvent event) {\n       try {\n          String sql = &quot;CREATE SOURCE TABLE IF NOT EXISTS transactions_view (&quot;\n                + &quot;                    id BIGINT PRIMARY KEY,&quot;\n                + &quot;                    sourceAccountId BIGINT,&quot;\n                + &quot;                    targetAccountId BIGINT,&quot;\n                + &quot;                    amount INT&quot;\n                + &quot;                  ) WITH (&quot;\n                + &quot;                    kafka_topic='transactions',&quot;\n                + &quot;                    value_format='JSON'&quot;\n                + &quot;                  );&quot;;\n          ExecuteStatementResult result = ksqlClient.executeStatement(sql).get();\n          LOG.info(&quot;Result: {}&quot;, result.queryId().orElse(null));\n       } catch (ExecutionException | InterruptedException e) {\n          LOG.error(&quot;Error: &quot;, e);\n       }\n    }\n}\n</code></pre>\n<p>When I am starting the app, I am getting the below error -</p>\n<pre><code>java.util.concurrent.ExecutionException: io.confluent.ksql.api.client.exception.KsqlClientException: Received 400 response from server: line 1:15: mismatched input 'TABLE' expecting 'CONNECTOR'. Error code: 40001\n    at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395) ~[na:na]\n    at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999) ~[na:na]\n    at com.example.startup.KTableCreateListener.onApplicationEvent(KTableCreateListener.java:35) ~[classes/:na]\n    at com.example.startup.KTableCreateListener.onApplicationEvent(KTableCreateListener.java:13) ~[classes/:na]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:427) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:938) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.cloud.stream.binder.DefaultBinderFactory.initializeBinderContextSimple(DefaultBinderFactory.java:471) ~[spring-cloud-stream-3.1.4.jar:3.1.4]\n    at org.springframework.cloud.stream.binder.DefaultBinderFactory.getBinderInstance(DefaultBinderFactory.java:265) ~[spring-cloud-stream-3.1.4.jar:3.1.4]\n    at org.springframework.cloud.stream.binder.DefaultBinderFactory.doGetBinder(DefaultBinderFactory.java:223) ~[spring-cloud-stream-3.1.4.jar:3.1.4]\n    at org.springframework.cloud.stream.binder.DefaultBinderFactory.getBinder(DefaultBinderFactory.java:151) ~[spring-cloud-stream-3.1.4.jar:3.1.4]\n    at org.springframework.cloud.stream.binding.BindingService.getBinder(BindingService.java:386) ~[spring-cloud-stream-3.1.4.jar:3.1.4]\n    at org.springframework.cloud.stream.binding.BindingService.bindProducer(BindingService.java:270) ~[spring-cloud-stream-3.1.4.jar:3.1.4]\n    at org.springframework.cloud.stream.binding.BindingService.bindProducer(BindingService.java:294) ~[spring-cloud-stream-3.1.4.jar:3.1.4]\n    at org.springframework.cloud.stream.binding.BindingService.bindProducer(BindingService.java:298) ~[spring-cloud-stream-3.1.4.jar:3.1.4]\n    at org.springframework.cloud.stream.binding.AbstractBindableProxyFactory.createAndBindOutputs(AbstractBindableProxyFactory.java:142) ~[spring-cloud-stream-3.1.4.jar:3.1.4]\n    at org.springframework.cloud.stream.binding.OutputBindingLifecycle.doStartWithBindable(OutputBindingLifecycle.java:58) ~[spring-cloud-stream-3.1.4.jar:3.1.4]\n    at java.base/java.util.LinkedHashMap$LinkedValues.forEach(LinkedHashMap.java:608) ~[na:na]\n    at org.springframework.cloud.stream.binding.AbstractBindingLifecycle.start(AbstractBindingLifecycle.java:57) ~[spring-cloud-stream-3.1.4.jar:3.1.4]\n    at org.springframework.cloud.stream.binding.OutputBindingLifecycle.start(OutputBindingLifecycle.java:34) ~[spring-cloud-stream-3.1.4.jar:3.1.4]\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-5.3.21.jar:5.3.21]\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\n    at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.1.jar:2.7.1]\n    at com.example.SpringBootKsqlExampleApplication.main(SpringBootKsqlExampleApplication.java:10) ~[classes/:na]\nCaused by: io.confluent.ksql.api.client.exception.KsqlClientException: Received 400 response from server: line 1:15: mismatched input 'TABLE' expecting 'CONNECTOR'. Error code: 40001\n    at io.confluent.ksql.api.client.impl.ClientImpl.lambda$handleErrorResponse$29(ClientImpl.java:736) ~[ksqldb-api-client-0.26.0.jar:na]\n    at io.vertx.core.http.impl.HttpClientResponseImpl$BodyHandler.notifyHandler(HttpClientResponseImpl.java:292) ~[vertx-core-3.9.12.jar:3.9.12]\n    at io.vertx.core.http.impl.HttpClientResponseImpl.lambda$bodyHandler$0(HttpClientResponseImpl.java:193) ~[vertx-core-3.9.12.jar:3.9.12]\n    at io.vertx.core.http.impl.HttpClientResponseImpl.handleEnd(HttpClientResponseImpl.java:248) ~[vertx-core-3.9.12.jar:3.9.12]\n    at io.vertx.core.http.impl.Http2ClientConnection$Http2ClientStream.handleEnd(Http2ClientConnection.java:260) ~[vertx-core-3.9.12.jar:3.9.12]\n    at io.vertx.core.http.impl.VertxHttp2Stream.lambda$new$1(VertxHttp2Stream.java:68) ~[vertx-core-3.9.12.jar:3.9.12]\n    at io.vertx.core.streams.impl.InboundBuffer.handleEvent(InboundBuffer.java:237) ~[vertx-core-3.9.12.jar:3.9.12]\n    at io.vertx.core.streams.impl.InboundBuffer.write(InboundBuffer.java:127) ~[vertx-core-3.9.12.jar:3.9.12]\n    at io.vertx.core.http.impl.VertxHttp2Stream.onEnd(VertxHttp2Stream.java:107) ~[vertx-core-3.9.12.jar:3.9.12]\n    at io.vertx.core.http.impl.VertxHttp2Stream.onEnd(VertxHttp2Stream.java:100) ~[vertx-core-3.9.12.jar:3.9.12]\n    at io.vertx.core.http.impl.Http2ConnectionBase.lambda$onDataRead$10(Http2ConnectionBase.java:323) ~[vertx-core-3.9.12.jar:3.9.12]\n    at io.vertx.core.impl.ContextImpl.executeTask(ContextImpl.java:366) ~[vertx-core-3.9.12.jar:3.9.12]\n    at io.vertx.core.impl.EventLoopContext.execute(EventLoopContext.java:43) ~[vertx-core-3.9.12.jar:3.9.12]\n    at io.vertx.core.impl.ContextImpl.executeFromIO(ContextImpl.java:229) ~[vertx-core-3.9.12.jar:3.9.12]\n    at io.vertx.core.impl.ContextImpl.executeFromIO(ContextImpl.java:221) ~[vertx-core-3.9.12.jar:3.9.12]\n    at io.vertx.core.http.impl.Http2ConnectionBase.onDataRead(Http2ConnectionBase.java:323) ~[vertx-core-3.9.12.jar:3.9.12]\n    at io.netty.handler.codec.http2.Http2FrameListenerDecorator.onDataRead(Http2FrameListenerDecorator.java:36) ~[netty-codec-http2-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.handler.codec.http2.Http2EmptyDataFrameListener.onDataRead(Http2EmptyDataFrameListener.java:49) ~[netty-codec-http2-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.handler.codec.http2.DefaultHttp2ConnectionDecoder$FrameReadListener.onDataRead(DefaultHttp2ConnectionDecoder.java:307) ~[netty-codec-http2-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.handler.codec.http2.DefaultHttp2FrameReader.readDataFrame(DefaultHttp2FrameReader.java:415) ~[netty-codec-http2-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.handler.codec.http2.DefaultHttp2FrameReader.processPayloadState(DefaultHttp2FrameReader.java:250) ~[netty-codec-http2-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.handler.codec.http2.DefaultHttp2FrameReader.readFrame(DefaultHttp2FrameReader.java:159) ~[netty-codec-http2-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.handler.codec.http2.DefaultHttp2ConnectionDecoder.decodeFrame(DefaultHttp2ConnectionDecoder.java:173) ~[netty-codec-http2-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.handler.codec.http2.DecoratingHttp2ConnectionDecoder.decodeFrame(DecoratingHttp2ConnectionDecoder.java:63) ~[netty-codec-http2-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.handler.codec.http2.Http2ConnectionHandler$FrameDecoder.decode(Http2ConnectionHandler.java:393) ~[netty-codec-http2-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.handler.codec.http2.Http2ConnectionHandler.decode(Http2ConnectionHandler.java:453) ~[netty-codec-http2-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510) ~[netty-codec-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449) ~[netty-codec-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279) ~[netty-codec-4.1.78.Final.jar:4.1.78.Final]\n    at io.vertx.core.http.impl.VertxHttp2ConnectionHandler.channelRead(VertxHttp2ConnectionHandler.java:418) ~[vertx-core-3.9.12.jar:3.9.12]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.78.Final.jar:4.1.78.Final]\n    at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jackson"],"answers":[{"tags":[],"owner":{"account_id":15113788,"reputation":76,"user_id":10906861,"display_name":"Joseph Galea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685613207,"creation_date":1685613207,"answer_id":76380688,"question_id":76380143,"body_markdown":"You can autowire the builder and then build a new object mapper from the builder.\r\n```\r\n@Autowired\r\nprivate Jackson2ObjectMapperBuilder jsonBuilder;\r\n\r\n...\r\n\r\n@Bean\r\npublic ISEAClient createPubClient() {\r\n    OkHttpClient client = new OkHttpClient();   \r\n    return new HttpRestSEAClient(&quot;http://localhost:8081/sea/&quot;, client, jsonBuilder.build());\r\n}\r\n```","title":"Spring Boot get the auto configured ObjectMapper instance","body":"<p>You can autowire the builder and then build a new object mapper from the builder.</p>\n<pre><code>@Autowired\nprivate Jackson2ObjectMapperBuilder jsonBuilder;\n\n...\n\n@Bean\npublic ISEAClient createPubClient() {\n    OkHttpClient client = new OkHttpClient();   \n    return new HttpRestSEAClient(&quot;http://localhost:8081/sea/&quot;, client, jsonBuilder.build());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1362416,"reputation":4479,"user_id":1299533,"display_name":"Scott Frederick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685650911,"creation_date":1685650911,"answer_id":76385458,"question_id":76380143,"body_markdown":"A `@Bean` method in a `@Configuration` class can have other beans injected as arguments. Instead of explicitly getting the bean from context, do this:\r\n\r\n```\r\n@Configuration\r\npublic class ClientConfig {\r\n\r\n  @Bean\r\n  public ISEAClient createPubClient(ObjectMapper objectMapper) {\r\n    OkHttpClient client = new OkHttpClient();   \r\n    return new HttpRestSEAClient(&quot;http://localhost:8081/sea/&quot;, client, objectMapper);\r\n  }\r\n\r\n}\r\n```\r\n\r\nOr to get a unique `ObjectMapper` as @JosephGalea suggested, do this: \r\n\r\n```\r\n@Configuration\r\npublic class ClientConfig {\r\n\r\n  @Bean\r\n  public ISEAClient createPubClient(Jackson2ObjectMapperBuilder builder) {\r\n    OkHttpClient client = new OkHttpClient();   \r\n    return new HttpRestSEAClient(&quot;http://localhost:8081/sea/&quot;, client, builder.build());\r\n  }\r\n\r\n}\r\n```","title":"Spring Boot get the auto configured ObjectMapper instance","body":"<p>A <code>@Bean</code> method in a <code>@Configuration</code> class can have other beans injected as arguments. Instead of explicitly getting the bean from context, do this:</p>\n<pre><code>@Configuration\npublic class ClientConfig {\n\n  @Bean\n  public ISEAClient createPubClient(ObjectMapper objectMapper) {\n    OkHttpClient client = new OkHttpClient();   \n    return new HttpRestSEAClient(&quot;http://localhost:8081/sea/&quot;, client, objectMapper);\n  }\n\n}\n</code></pre>\n<p>Or to get a unique <code>ObjectMapper</code> as @JosephGalea suggested, do this:</p>\n<pre><code>@Configuration\npublic class ClientConfig {\n\n  @Bean\n  public ISEAClient createPubClient(Jackson2ObjectMapperBuilder builder) {\n    OkHttpClient client = new OkHttpClient();   \n    return new HttpRestSEAClient(&quot;http://localhost:8081/sea/&quot;, client, builder.build());\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":6524069,"reputation":715,"user_id":5047297,"accept_rate":53,"display_name":"WestFarmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1685654647,"creation_date":1685609227,"question_id":76380143,"body_markdown":"In my Spring Boot application, I customize the Jackson ObjectMapper like this:\r\n\r\n```\r\n@Configuration\r\npublic class JacksonConfig {\r\n\t\r\n\t@Value(&quot;${app.dateFormat}&quot;)\r\n\tprivate String dateFormat;\r\n\t\r\n\t@Value(&quot;${app.dateFormat} ${app.timeFormat}&quot;)\r\n\tprivate String dateTimeFormat;\r\n\t\r\n\t\r\n\t@Bean\r\n\tpublic Jackson2ObjectMapperBuilderCustomizer jsonCustomizer() {\r\n\t\treturn builder -&gt; {\r\n\t\t\tbuilder.serializationInclusion(Include.NON_NULL);\r\n\t\t\tbuilder.simpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;);\r\n\t\t\tbuilder.serializers(new LocalDateSerializer(DateTimeFormatter.ISO_OFFSET_DATE));\r\n\t\t\tbuilder.serializers(new LocalDateTimeSerializer(DateTimeFormatter.ISO_OFFSET_DATE_TIME));\r\n\t\t};\r\n\t}\r\n}\r\n```\r\nand another bean using ObjectMapper:\r\n```\r\n@Autowired\r\nprivate ApplicationContext springContext;\r\n\r\n@Bean\r\npublic ISEAClient createPubClient() {\r\n\tOkHttpClient client = new OkHttpClient();\t\r\n\treturn new HttpRestSEAClient(&quot;http://localhost:8081/sea/&quot;, client, springContext.getBean(ObjectMapper.class));\r\n}\r\n```\r\n\r\nHowever, the `ISEAClient` bean still includes null properties when doing JSON serialization.  It seems that the `ObjectMapper` bean is not affected by `Jackson2ObjectMapperBuilderCustomizer`.\r\n\r\nHow can I get the same `ObjectMapper` instance used by Spring itself?","title":"Spring Boot get the auto configured ObjectMapper instance","body":"<p>In my Spring Boot application, I customize the Jackson ObjectMapper like this:</p>\n<pre><code>@Configuration\npublic class JacksonConfig {\n    \n    @Value(&quot;${app.dateFormat}&quot;)\n    private String dateFormat;\n    \n    @Value(&quot;${app.dateFormat} ${app.timeFormat}&quot;)\n    private String dateTimeFormat;\n    \n    \n    @Bean\n    public Jackson2ObjectMapperBuilderCustomizer jsonCustomizer() {\n        return builder -&gt; {\n            builder.serializationInclusion(Include.NON_NULL);\n            builder.simpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss'Z'&quot;);\n            builder.serializers(new LocalDateSerializer(DateTimeFormatter.ISO_OFFSET_DATE));\n            builder.serializers(new LocalDateTimeSerializer(DateTimeFormatter.ISO_OFFSET_DATE_TIME));\n        };\n    }\n}\n</code></pre>\n<p>and another bean using ObjectMapper:</p>\n<pre><code>@Autowired\nprivate ApplicationContext springContext;\n\n@Bean\npublic ISEAClient createPubClient() {\n    OkHttpClient client = new OkHttpClient();   \n    return new HttpRestSEAClient(&quot;http://localhost:8081/sea/&quot;, client, springContext.getBean(ObjectMapper.class));\n}\n</code></pre>\n<p>However, the <code>ISEAClient</code> bean still includes null properties when doing JSON serialization.  It seems that the <code>ObjectMapper</code> bean is not affected by <code>Jackson2ObjectMapperBuilderCustomizer</code>.</p>\n<p>How can I get the same <code>ObjectMapper</code> instance used by Spring itself?</p>\n"},{"tags":["java","maven","maven-2","maven-plugin","maven-bundle-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1667561169,"post_id":74315779,"comment_id":131200783,"body_markdown":"Packging bundle means it will create an OSGi bundle. A bundle is simply a jar file with special information in the `MANIFEST.MF` file...","body":"Packging bundle means it will create an OSGi bundle. A bundle is simply a jar file with special information in the <code>MANIFEST.MF</code> file..."},{"owner":{"account_id":1127005,"reputation":12365,"user_id":1114043,"accept_rate":51,"display_name":"zeus"},"score":1,"creation_date":1667565864,"post_id":74315779,"comment_id":131202372,"body_markdown":"@khmarbaise so you mean that in my project I can simply include the equivalent jar file when I encounter a packaging: bundle ? here i just need to include in my project protobuf-javalite-3.17.3.jar right ?","body":"@khmarbaise so you mean that in my project I can simply include the equivalent jar file when I encounter a packaging: bundle ? here i just need to include in my project protobuf-javalite-3.17.3.jar right ?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1667566066,"post_id":74315779,"comment_id":131202439,"body_markdown":"Yes you can use the usual dependency which means a jar file ... that should work.. Apart from using an old version which 3.17.X is use a more recent versions ....","body":"Yes you can use the usual dependency which means a jar file ... that should work.. Apart from using an old version which 3.17.X is use a more recent versions ...."},{"owner":{"account_id":26318201,"reputation":5076,"user_id":19980636,"display_name":"Krokomot"},"score":0,"creation_date":1685695194,"post_id":74315779,"comment_id":134699934,"body_markdown":"I allowed myself to formulate an extended version of @khmarbaise &#39;s comments as an answer post below.","body":"I allowed myself to formulate an extended version of @khmarbaise &#39;s comments as an answer post below."}],"answers":[{"tags":[],"owner":{"account_id":26318201,"reputation":5076,"user_id":19980636,"display_name":"Krokomot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685654601,"creation_date":1685654601,"answer_id":76385803,"question_id":74315779,"body_markdown":"Though the question has basically been answered in the comments by @khmarbaise, some references and elaboration might be useful.\r\n\r\nAccording to the chapter in Maven&#39;s POM Reference on [Packaging][1], the `&lt;packaging&gt;` tag in a `.pom` file defines, how a project file has to be packaged. Thereby:\r\n\r\n&gt; The current core packaging values are: [`pom`][2], [`jar`][3], [`maven-plugin`][4], [`ejb`][5], [`war`][6], [`ear`][7], [`rar`][8].\r\n\r\nThe default is `jar`. [Other packaging types][9] can be provided through plugins.\r\n\r\nNow, `&lt;packaging&gt;bundle&lt;/packaging&gt;` refers to an [OSGi bundle][10].\r\n\r\n&gt; Technically, a [OSGi] bundle is just a `jar` file with a `MANIFEST.MF` file containing some OSGi-specific headers.\r\n\r\nFor an overview you might be interested in an [Introduction to OSGi][11].\r\n\r\nSo, yes. You will want to download the `protobuf-javalite-3.17.3.jar`. When unzipping it and taking a look into the `MANIFEST.MF` file you will discover the OSGi-related entry\r\n```\r\nRequire-Capability: osgi.ee;filter:=&quot;(&amp;(osgi.ee=JavaSE)(version=1.7))&quot;\r\n```\r\n\r\n  [1]: https://maven.apache.org/pom.html#packaging\r\n  [2]: https://www.baeldung.com/maven-packaging-types#4-pom\r\n  [3]: https://www.baeldung.com/maven-packaging-types#1-jar\r\n  [4]: https://www.baeldung.com/maven-packaging-types#5-maven-plugin\r\n  [5]: https://www.baeldung.com/maven-packaging-types#6-ejb\r\n  [6]: https://www.baeldung.com/maven-packaging-types#2-war\r\n  [7]: https://www.baeldung.com/maven-packaging-types#3-ear\r\n  [8]: https://www.baeldung.com/maven-packaging-types#7-rar\r\n  [9]: https://www.baeldung.com/maven-packaging-types#other-packaging-types\r\n  [10]: https://www.baeldung.com/osgi#osgi-basics\r\n  [11]: https://www.baeldung.com/osgi","title":"What mean packaging:bundle mean inside the POM?","body":"<p>Though the question has basically been answered in the comments by @khmarbaise, some references and elaboration might be useful.</p>\n<p>According to the chapter in Maven's POM Reference on <a href=\"https://maven.apache.org/pom.html#packaging\" rel=\"nofollow noreferrer\">Packaging</a>, the <code>&lt;packaging&gt;</code> tag in a <code>.pom</code> file defines, how a project file has to be packaged. Thereby:</p>\n<blockquote>\n<p>The current core packaging values are: <a href=\"https://www.baeldung.com/maven-packaging-types#4-pom\" rel=\"nofollow noreferrer\"><code>pom</code></a>, <a href=\"https://www.baeldung.com/maven-packaging-types#1-jar\" rel=\"nofollow noreferrer\"><code>jar</code></a>, <a href=\"https://www.baeldung.com/maven-packaging-types#5-maven-plugin\" rel=\"nofollow noreferrer\"><code>maven-plugin</code></a>, <a href=\"https://www.baeldung.com/maven-packaging-types#6-ejb\" rel=\"nofollow noreferrer\"><code>ejb</code></a>, <a href=\"https://www.baeldung.com/maven-packaging-types#2-war\" rel=\"nofollow noreferrer\"><code>war</code></a>, <a href=\"https://www.baeldung.com/maven-packaging-types#3-ear\" rel=\"nofollow noreferrer\"><code>ear</code></a>, <a href=\"https://www.baeldung.com/maven-packaging-types#7-rar\" rel=\"nofollow noreferrer\"><code>rar</code></a>.</p>\n</blockquote>\n<p>The default is <code>jar</code>. <a href=\"https://www.baeldung.com/maven-packaging-types#other-packaging-types\" rel=\"nofollow noreferrer\">Other packaging types</a> can be provided through plugins.</p>\n<p>Now, <code>&lt;packaging&gt;bundle&lt;/packaging&gt;</code> refers to an <a href=\"https://www.baeldung.com/osgi#osgi-basics\" rel=\"nofollow noreferrer\">OSGi bundle</a>.</p>\n<blockquote>\n<p>Technically, a [OSGi] bundle is just a <code>jar</code> file with a <code>MANIFEST.MF</code> file containing some OSGi-specific headers.</p>\n</blockquote>\n<p>For an overview you might be interested in an <a href=\"https://www.baeldung.com/osgi\" rel=\"nofollow noreferrer\">Introduction to OSGi</a>.</p>\n<p>So, yes. You will want to download the <code>protobuf-javalite-3.17.3.jar</code>. When unzipping it and taking a look into the <code>MANIFEST.MF</code> file you will discover the OSGi-related entry</p>\n<pre><code>Require-Capability: osgi.ee;filter:=&quot;(&amp;(osgi.ee=JavaSE)(version=1.7))&quot;\n</code></pre>\n"}],"owner":{"account_id":1127005,"reputation":12365,"user_id":1114043,"accept_rate":51,"display_name":"zeus"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76385803,"answer_count":1,"score":1,"last_activity_date":1685654601,"creation_date":1667558745,"question_id":74315779,"body_markdown":"When I download the protobuf-javalite-3.17.3 pom: https://repo1.maven.org/maven2/com/google/protobuf/protobuf-javalite/3.17.3/protobuf-javalite-3.17.3.pom I can see inside \r\n\r\n    &lt;packaging&gt;bundle&lt;/packaging&gt;\r\n\r\nWhat packaging : bundle mean exactly? on https://repo1.maven.org/maven2/com/google/protobuf/protobuf-javalite/3.17.3/ I can see that their is a `protobuf-javalite-3.17.3.jar` but no `protobuf-javalite-3.17.3.bundle`, so do I need to download instead the `protobuf-javalite-3.17.3.jar` ?","title":"What mean packaging:bundle mean inside the POM?","body":"<p>When I download the protobuf-javalite-3.17.3 pom: <a href=\"https://repo1.maven.org/maven2/com/google/protobuf/protobuf-javalite/3.17.3/protobuf-javalite-3.17.3.pom\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/com/google/protobuf/protobuf-javalite/3.17.3/protobuf-javalite-3.17.3.pom</a> I can see inside</p>\n<pre><code>&lt;packaging&gt;bundle&lt;/packaging&gt;\n</code></pre>\n<p>What packaging : bundle mean exactly? on <a href=\"https://repo1.maven.org/maven2/com/google/protobuf/protobuf-javalite/3.17.3/\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/com/google/protobuf/protobuf-javalite/3.17.3/</a> I can see that their is a <code>protobuf-javalite-3.17.3.jar</code> but no <code>protobuf-javalite-3.17.3.bundle</code>, so do I need to download instead the <code>protobuf-javalite-3.17.3.jar</code> ?</p>\n"},{"tags":["java","orm","jpa"],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1287944344,"creation_date":1287944344,"answer_id":4009660,"question_id":4009640,"body_markdown":"Well, it seems like your database has more carts for this user (which is a plausible scenario if you store user history)\r\n\r\nYou can either make sure that there is no more than one record in the database (by deleting older carts when a new one is created, for example), or use `Query.setMaxResults(1)` and something like `ORDER BY dateCreated` in your query.","title":"EJB3, JPA error with More than one result was returned from Query.getSingleResult()","body":"<p>Well, it seems like your database has more carts for this user (which is a plausible scenario if you store user history)</p>\n\n<p>You can either make sure that there is no more than one record in the database (by deleting older carts when a new one is created, for example), or use <code>Query.setMaxResults(1)</code> and something like <code>ORDER BY dateCreated</code> in your query.</p>\n"},{"tags":[],"owner":{"account_id":28686613,"reputation":1,"user_id":21966785,"display_name":"Bruno Barros"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685654555,"creation_date":1685630232,"answer_id":76383050,"question_id":4009640,"body_markdown":"I was having the same issue and found yours. \r\n\r\nAdding to what @Bozho said, you can also:\r\n- use the [`getFirstResult()`](https://javaee.github.io/javaee-spec/javadocs/javax/persistence/Query.html#getFirstResult--) method, if you already know that your database have duplicated values, or...\r\n- add a `LIMIT` clause to your raw query. \r\n\r\nI found out the hard way that it is more secure to use one of those methods instead of calling `getSingleResult()`.","title":"EJB3, JPA error with More than one result was returned from Query.getSingleResult()","body":"<p>I was having the same issue and found yours.</p>\n<p>Adding to what @Bozho said, you can also:</p>\n<ul>\n<li>use the <a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/persistence/Query.html#getFirstResult--\" rel=\"nofollow noreferrer\"><code>getFirstResult()</code></a> method, if you already know that your database have duplicated values, or...</li>\n<li>add a <code>LIMIT</code> clause to your raw query.</li>\n</ul>\n<p>I found out the hard way that it is more secure to use one of those methods instead of calling <code>getSingleResult()</code>.</p>\n"}],"owner":{"account_id":212565,"reputation":983,"user_id":465452,"accept_rate":57,"display_name":"MYE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":4009660,"answer_count":2,"score":0,"last_activity_date":1685654555,"creation_date":1287944138,"question_id":4009640,"body_markdown":"i have new problem with JPA in EJB3 \r\nmy stacktrace are:\r\n\r\n    Caused by: javax.persistence.NonUniqueResultException: More than one result was returned from Query.getSingleResult()\r\n            at org.eclipse.persistence.internal.jpa.EJBQueryImpl.throwNonUniqueResultException(EJBQueryImpl.java:1207)\r\n            at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:722)\r\n            at com.DAO.CartDAO.checkUserID(CartDAO.java:47)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n            at java.lang.reflect.Method.invoke(Method.java:597)\r\n            at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:1056)\r\n            at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:1128)\r\n            at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:5292)\r\n            at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:615)\r\n            at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:797)\r\n            at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:567)\r\n            at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doAround(SystemInterceptorProxy.java:157)\r\n            at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:139)\r\n            at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n            at java.lang.reflect.Method.invoke(Method.java:597)\r\n            at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:858)\r\n            at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:797)\r\n            at com.sun.ejb.co\r\n\r\n\r\n\r\n\r\ni create one commandbutton to use for add item to cart, and i write one method to add item to cart in DB, i was check if userid and itemid != null, item quantity will add to 1, it mean when i have userid 1 add itemid 1 into cart, my method will check if it existed, item quantity will add 1 to item quantity in cart table, i can do it with one item, but if i add more item two into cart, it mean i add itemid is 2 into cart table, next i add more quantity of itemid 1 into db it throw exception More than one result. . .\r\ni know it can&#39;t have two instance at the same time, but i don&#39;t know how to solve it? \r\nPlease help me\r\n\r\nmy addTocart method\r\n\r\n\r\n    public void addtoCart(Items item){\r\n            this.items = item;\r\n            if(cartDAO.checkUserID(getMemberLoginController().getUser().getUserid()) != null &amp;&amp;\r\n                    cartDAO.checkItemid(items.getItemid()) != null){\r\n                    cart = cartDAO.checkUserID(getMemberLoginController().getUser().getUserid());\r\n                    int updateQuantity = cart.getCartQuantity() + 1;\r\n                    cart.setCartQuantity(updateQuantity);\r\n                    // chuyen so luong sang kieu du lieu big decimal\r\n                    java.math.BigDecimal bigQuantity = new java.math.BigDecimal(String.valueOf(updateQuantity));\r\n                    // so tien cua san pham = so luong x don gia\r\n                    BigDecimal updatePrice = items.getPrice().multiply(bigQuantity);\r\n                    cart.setPrice(updatePrice);\r\n                    cart = cartDAO.updateCart(cart);\r\n    \r\n            }else if(cartDAO.checkUserID(getMemberLoginController().getUser().getUserid()) != null &amp;&amp;\r\n                    cartDAO.checkItemid(items.getItemid()) == null){\r\n                    cart = cartDAO.checkUserID(getMemberLoginController().getUser().getUserid());\r\n                    cartPk.setUserid(getMemberLoginController().getUser().getUserid());\r\n                    cartPk.setItemid(item.getItemid());\r\n                    cart.setCartPK(cartPk);\r\n                    cart.setCartQuantity(1);\r\n                    cart.setPrice(item.getPrice());\r\n                    cart = cartDAO.addCart(cart);\r\n    \r\n            }else {\r\n                     cartPk.setItemid(item.getItemid());\r\n                     cartPk.setUserid(getMemberLoginController().getUser().getUserid());\r\n                     cart.setCartPK(cartPk);\r\n                     cart.setCartQuantity(1);\r\n                     cart.setPrice(item.getPrice());\r\n                     cart = cartDAO.addCart(cart);\r\n            }\r\n    \r\n        }\r\n\r\n\r\nmy select statement \r\n\r\n \r\n\r\n    @NamedQuery(name = &quot;Cart.findByUserid&quot;, query = &quot;SELECT c FROM Cart c WHERE c.cartPK.userid = :userid&quot;)\r\n\r\n\r\n\r\nmy checkuseridMethod\r\n\r\n\r\n    public Cart checkUserID(int id){\r\n            Cart cart = null;\r\n            try {\r\n                Query query = em.createNamedQuery(&quot;Cart.findByUserid&quot;);\r\n                query.setParameter(&quot;userid&quot;, id);\r\n                return (Cart) query.getSingleResult();\r\n            } catch (NoResultException e) {\r\n                return null;\r\n            }\r\n        }","title":"EJB3, JPA error with More than one result was returned from Query.getSingleResult()","body":"<p>i have new problem with JPA in EJB3 \nmy stacktrace are:</p>\n\n<pre><code>Caused by: javax.persistence.NonUniqueResultException: More than one result was returned from Query.getSingleResult()\n        at org.eclipse.persistence.internal.jpa.EJBQueryImpl.throwNonUniqueResultException(EJBQueryImpl.java:1207)\n        at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:722)\n        at com.DAO.CartDAO.checkUserID(CartDAO.java:47)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:597)\n        at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:1056)\n        at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:1128)\n        at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:5292)\n        at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:615)\n        at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:797)\n        at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:567)\n        at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doAround(SystemInterceptorProxy.java:157)\n        at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:139)\n        at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:597)\n        at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:858)\n        at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:797)\n        at com.sun.ejb.co\n</code></pre>\n\n<p>i create one commandbutton to use for add item to cart, and i write one method to add item to cart in DB, i was check if userid and itemid != null, item quantity will add to 1, it mean when i have userid 1 add itemid 1 into cart, my method will check if it existed, item quantity will add 1 to item quantity in cart table, i can do it with one item, but if i add more item two into cart, it mean i add itemid is 2 into cart table, next i add more quantity of itemid 1 into db it throw exception More than one result. . .\ni know it can't have two instance at the same time, but i don't know how to solve it? \nPlease help me</p>\n\n<p>my addTocart method</p>\n\n<pre><code>public void addtoCart(Items item){\n        this.items = item;\n        if(cartDAO.checkUserID(getMemberLoginController().getUser().getUserid()) != null &amp;&amp;\n                cartDAO.checkItemid(items.getItemid()) != null){\n                cart = cartDAO.checkUserID(getMemberLoginController().getUser().getUserid());\n                int updateQuantity = cart.getCartQuantity() + 1;\n                cart.setCartQuantity(updateQuantity);\n                // chuyen so luong sang kieu du lieu big decimal\n                java.math.BigDecimal bigQuantity = new java.math.BigDecimal(String.valueOf(updateQuantity));\n                // so tien cua san pham = so luong x don gia\n                BigDecimal updatePrice = items.getPrice().multiply(bigQuantity);\n                cart.setPrice(updatePrice);\n                cart = cartDAO.updateCart(cart);\n\n        }else if(cartDAO.checkUserID(getMemberLoginController().getUser().getUserid()) != null &amp;&amp;\n                cartDAO.checkItemid(items.getItemid()) == null){\n                cart = cartDAO.checkUserID(getMemberLoginController().getUser().getUserid());\n                cartPk.setUserid(getMemberLoginController().getUser().getUserid());\n                cartPk.setItemid(item.getItemid());\n                cart.setCartPK(cartPk);\n                cart.setCartQuantity(1);\n                cart.setPrice(item.getPrice());\n                cart = cartDAO.addCart(cart);\n\n        }else {\n                 cartPk.setItemid(item.getItemid());\n                 cartPk.setUserid(getMemberLoginController().getUser().getUserid());\n                 cart.setCartPK(cartPk);\n                 cart.setCartQuantity(1);\n                 cart.setPrice(item.getPrice());\n                 cart = cartDAO.addCart(cart);\n        }\n\n    }\n</code></pre>\n\n<p>my select statement </p>\n\n<pre><code>@NamedQuery(name = \"Cart.findByUserid\", query = \"SELECT c FROM Cart c WHERE c.cartPK.userid = :userid\")\n</code></pre>\n\n<p>my checkuseridMethod</p>\n\n<pre><code>public Cart checkUserID(int id){\n        Cart cart = null;\n        try {\n            Query query = em.createNamedQuery(\"Cart.findByUserid\");\n            query.setParameter(\"userid\", id);\n            return (Cart) query.getSingleResult();\n        } catch (NoResultException e) {\n            return null;\n        }\n    }\n</code></pre>\n"},{"tags":["java","android","kotlin","android-testing"],"answers":[{"tags":[],"owner":{"account_id":269240,"reputation":5686,"user_id":558457,"accept_rate":62,"display_name":"Viacheslav Smityukh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685654551,"creation_date":1685654551,"answer_id":76385796,"question_id":76385372,"body_markdown":"This feature is named &quot;Postfix completion&quot;\r\n\r\nYou can find details here https://www.jetbrains.com/help/idea/settings-postfix-completion.html\r\n\r\nI have tried now and it&#39;s allowed me to add and edit java and groovy templates but kotlin is not supported.\r\n\r\nThe other perfect feature of Idea is Live templates you can use them to implement required templates.\r\n\r\nYou can find details here https://www.jetbrains.com/help/idea/using-live-templates.html\r\n\r\nUpdate: I have checked the current version of Idea, kotlin is not supported yet.","title":"How can I create a code template in Android Studio to replicate the val template in Kotlin","body":"<p>This feature is named &quot;Postfix completion&quot;</p>\n<p>You can find details here <a href=\"https://www.jetbrains.com/help/idea/settings-postfix-completion.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/settings-postfix-completion.html</a></p>\n<p>I have tried now and it's allowed me to add and edit java and groovy templates but kotlin is not supported.</p>\n<p>The other perfect feature of Idea is Live templates you can use them to implement required templates.</p>\n<p>You can find details here <a href=\"https://www.jetbrains.com/help/idea/using-live-templates.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/using-live-templates.html</a></p>\n<p>Update: I have checked the current version of Idea, kotlin is not supported yet.</p>\n"}],"owner":{"account_id":13334996,"reputation":17,"user_id":9625138,"display_name":"Eddie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76385796,"answer_count":1,"score":0,"last_activity_date":1685654551,"creation_date":1685650179,"question_id":76385372,"body_markdown":"Kotlin and Java code templates in Android Studio.\r\n\r\nI tried to create a code template for the truth library that would work like the val template works i.e, \r\n- When you want to create a variable from the result of calling a function? you just type,\r\n`functionName().val`.\r\n- When you press enter a variable is created ie, `val f = functionName()`.\r\n\r\nHow would I replicate this behaviour on the truth library such that when I type `f.assert` for instance, I get `Truth.assertThat(f)`?","title":"How can I create a code template in Android Studio to replicate the val template in Kotlin","body":"<p>Kotlin and Java code templates in Android Studio.</p>\n<p>I tried to create a code template for the truth library that would work like the val template works i.e,</p>\n<ul>\n<li>When you want to create a variable from the result of calling a function? you just type,\n<code>functionName().val</code>.</li>\n<li>When you press enter a variable is created ie, <code>val f = functionName()</code>.</li>\n</ul>\n<p>How would I replicate this behaviour on the truth library such that when I type <code>f.assert</code> for instance, I get <code>Truth.assertThat(f)</code>?</p>\n"},{"tags":["java","oop","inheritance","composition"],"comments":[{"owner":{"account_id":11089842,"reputation":313,"user_id":8142131,"display_name":"funky"},"score":1,"creation_date":1614766057,"post_id":66454768,"comment_id":117482749,"body_markdown":"Does this answer your question? [Prefer composition over inheritance?](https://stackoverflow.com/questions/49002/prefer-composition-over-inheritance)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/49002/prefer-composition-over-inheritance\">Prefer composition over inheritance?</a>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1614766168,"post_id":66454768,"comment_id":117482808,"body_markdown":"*&quot;I&#39;ve also read that using composition is better than using inheritance.&quot;* - As a general statement that is not true.  Or at least, a matter of opinion.","body":"<i>&quot;I&#39;ve also read that using composition is better than using inheritance.&quot;</i> - As a general statement that is not true.  Or at least, a matter of opinion."},{"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"score":1,"creation_date":1614767702,"post_id":66454768,"comment_id":117483514,"body_markdown":"The possibility to convert one approach into the other tells us nothing about the question which one is better in a given situation. So, you have to decide whether an &quot;is-a&quot; relationship suits better than a &quot;has&quot; relationship.","body":"The possibility to convert one approach into the other tells us nothing about the question which one is better in a given situation. So, you have to decide whether an &quot;is-a&quot; relationship suits better than a &quot;has&quot; relationship."},{"owner":{"account_id":13248843,"reputation":351,"user_id":9567003,"display_name":"Helder Daniel"},"score":0,"creation_date":1692231562,"post_id":66454768,"comment_id":135596988,"body_markdown":"&quot;I&#39;ve also read that using composition is better than using inheritance.&quot;, with deep hierarchies, searching for the right method at runtime takes time. With composition or aggregation, it is just a matter of getting the method reference from the instance variable","body":"&quot;I&#39;ve also read that using composition is better than using inheritance.&quot;, with deep hierarchies, searching for the right method at runtime takes time. With composition or aggregation, it is just a matter of getting the method reference from the instance variable"}],"answers":[{"tags":[],"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685654454,"creation_date":1614769997,"answer_id":66455881,"question_id":66454768,"body_markdown":"Inheritance is `is` relationship. E.g., teacher is human.\r\n\r\nComposition is `has` relationship. E.g., `pizza` has `tomato`.\r\n\r\nInheritance makes tight coupling between your classes such as Child class and Parent class. So making changes can be a reason to make changes in all inherited classes.\r\n\r\nComposition is very effective when you want to define what behavior should be used at the compile time and run time. You can create an interface and give realization of this interface at at the compile time and run time.\r\n\r\nInheritance is very good when we reuse methods and we want to override them. However, you can use composition to achieve this goal.\r\n\r\n[There is a nice article about Composition over inheritance. It says:][1]\r\n\r\n&gt; Composition over inheritance (or composite reuse principle) in\r\n&gt; object-oriented programming (OOP) is the principle that classes should\r\n&gt; achieve polymorphic behavior and code reuse by their composition (by\r\n&gt; containing instances of other classes that implement the desired\r\n&gt; functionality) rather than inheritance from a base or parent class.\r\n\r\nAn example of inheritance: \r\n\r\n    public class Human\r\n    {\r\n        string Title;\r\n        string Name;\r\n        int Age;\r\n    }\r\n\r\n    public class Teacher : Human\r\n    {\r\n        int Salary;\r\n        string Subject;\r\n    }\r\n\r\nAn example of composition:\r\n\r\n    public interface IEngine\r\n    {\r\n        string Name { get; }\r\n        decimal Volume { get; }\r\n    }\r\n\r\n    public class Engine : IEngine\r\n    {\r\n        public string Name =&gt; &quot;Foo Engine&quot;;\r\n        public decimal Volume =&gt; 4;\r\n    }\r\n\r\n\r\n    public class Car\r\n    {\r\n        private IEngine _engine;\r\n\r\n        public Car(IEngine _engine)\r\n        {\r\n            _engine = engine;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Composition_over_inheritance","title":"How to convert a program which uses inheritance to a program that only uses composition?","body":"<p>Inheritance is <code>is</code> relationship. E.g., teacher is human.</p>\n<p>Composition is <code>has</code> relationship. E.g., <code>pizza</code> has <code>tomato</code>.</p>\n<p>Inheritance makes tight coupling between your classes such as Child class and Parent class. So making changes can be a reason to make changes in all inherited classes.</p>\n<p>Composition is very effective when you want to define what behavior should be used at the compile time and run time. You can create an interface and give realization of this interface at at the compile time and run time.</p>\n<p>Inheritance is very good when we reuse methods and we want to override them. However, you can use composition to achieve this goal.</p>\n<p><a href=\"https://en.wikipedia.org/wiki/Composition_over_inheritance\" rel=\"nofollow noreferrer\">There is a nice article about Composition over inheritance. It says:</a></p>\n<blockquote>\n<p>Composition over inheritance (or composite reuse principle) in\nobject-oriented programming (OOP) is the principle that classes should\nachieve polymorphic behavior and code reuse by their composition (by\ncontaining instances of other classes that implement the desired\nfunctionality) rather than inheritance from a base or parent class.</p>\n</blockquote>\n<p>An example of inheritance:</p>\n<pre><code>public class Human\n{\n    string Title;\n    string Name;\n    int Age;\n}\n\npublic class Teacher : Human\n{\n    int Salary;\n    string Subject;\n}\n</code></pre>\n<p>An example of composition:</p>\n<pre><code>public interface IEngine\n{\n    string Name { get; }\n    decimal Volume { get; }\n}\n\npublic class Engine : IEngine\n{\n    public string Name =&gt; &quot;Foo Engine&quot;;\n    public decimal Volume =&gt; 4;\n}\n\n\npublic class Car\n{\n    private IEngine _engine;\n\n    public Car(IEngine _engine)\n    {\n        _engine = engine;\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user15313843"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":950,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1614802125,"answer_count":1,"score":2,"last_activity_date":1685654454,"creation_date":1614765870,"question_id":66454768,"body_markdown":"I&#39;ve read that **composition** can be used instead of **inheritance** and all programs using inheritance can be transformed to a program using composition and vice-versa. I&#39;ve also read that using composition is better than using inheritance.\r\n\r\nEven though I&#39;ve read the facts, I don&#39;t understand how and why this is true. I can&#39;t even think of an example to demonstrate this.\r\n\r\nCould someone please help me clear out my doubts. It would be very much appreciated if you could use an example too.","title":"How to convert a program which uses inheritance to a program that only uses composition?","body":"<p>I've read that <strong>composition</strong> can be used instead of <strong>inheritance</strong> and all programs using inheritance can be transformed to a program using composition and vice-versa. I've also read that using composition is better than using inheritance.</p>\n<p>Even though I've read the facts, I don't understand how and why this is true. I can't even think of an example to demonstrate this.</p>\n<p>Could someone please help me clear out my doubts. It would be very much appreciated if you could use an example too.</p>\n"},{"tags":["java","junit5","jacoco","jacoco-maven-plugin","junit-jupiter"],"comments":[{"owner":{"account_id":88629,"reputation":9961,"user_id":244993,"display_name":"Godin"},"score":0,"creation_date":1686302442,"post_id":76378422,"comment_id":134783276,"body_markdown":"Please provide https://stackoverflow.com/help/minimal-reproducible-example - provided error mentions `org.example.ClassDependencyTest.testCheck` but there is no `testCheck` in provided `ClassDependencyTest`","body":"Please provide <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a> - provided error mentions <code>org.example.ClassDependencyTest.testCheck</code> but there is no <code>testCheck</code> in provided <code>ClassDependencyTest</code>"}],"owner":{"account_id":2121852,"reputation":1019,"user_id":1884937,"accept_rate":52,"display_name":"henrycharles"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685654195,"creation_date":1685588701,"question_id":76378422,"body_markdown":"I am attempting to utilize the Jacoco plugin to measure code coverage. During the process of writing test cases, I have been running them successfully with IntelliJ, achieving the desired coverage. However, when I try to run the tests using &quot;mvn test&quot; or &quot;mvn clean install,&quot; Jacoco encounters an error and fails to execute the test case.\r\n\r\nError:\r\n\r\n    [INFO] -------------------------------------------------------\r\n    [INFO]  T E S T S\r\n    [INFO] -------------------------------------------------------\r\n    [INFO] Running org.example.ClassDependencyTest\r\n    [ERROR] Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 1.173 s &lt;&lt;&lt; FAILURE! - in org.example.ClassDependencyTest\r\n    [ERROR] org.example.ClassDependencyTest.testCheck()  Time elapsed: 1.17 s  &lt;&lt;&lt; FAILURE!\r\n    org.mockito.exceptions.misusing.NullInsteadOfMockException: \r\n    Argument passed to when() is null!\r\n    Example of correct stubbing:\r\n        doThrow(new RuntimeException()).when(mock).someMethod();\r\n    Also, if you use @Mock annotation don&#39;t miss openMocks()\r\n    \tat org.example.ClassDependencyTest.testCheck(ClassDependencyTest.java:26)\r\n    \r\n    [INFO] \r\n    [INFO] Results:\r\n    [INFO] \r\n    [ERROR] Failures: \r\n    [ERROR]   org.example.ClassDependencyTest#testCheck NullInsteadOfMockException \r\n    Argument...\r\n    [INFO] \r\n    [ERROR] Tests run: 1, Failures: 1, Errors: 0, Skipped: 0\r\n    [INFO] \r\n    [ERROR] There are test failures.\r\n\r\npom.xml:\r\n\r\n      &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;TestingJacoco&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n            &lt;junit-platform.version&gt;5.8.2&lt;/junit-platform.version&gt;\r\n            &lt;assertj.version&gt;3.11.1&lt;/assertj.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.12.RELEASE&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;!-- Web --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;\r\n                &lt;version&gt;1.9.13&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\r\n                &lt;version&gt;1.9.13&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n                &lt;!-- &lt;version&gt;2.9.10&lt;/version&gt; --&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- JSTL --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- Need this to compile JSP --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n                &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n                &lt;!--&lt;scope&gt;provided&lt;/scope&gt;--&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- Need this to compile JSP --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.eclipse.jdt.core.compiler&lt;/groupId&gt;\r\n                &lt;artifactId&gt;ecj&lt;/artifactId&gt;\r\n                &lt;version&gt;4.6.1&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- upload excel read --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n                &lt;version&gt;1.3.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\r\n                &lt;!-- &lt;version&gt;1.9.3&lt;/version&gt; --&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n                &lt;version&gt;3.9&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n                &lt;version&gt;3.9&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n                &lt;version&gt;3.9&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- Optional, for bootstrap --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n                &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.7&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;&lt;!-- For using SLF4J during logging, this removing the boilerplate code for getting the logger instance. We use springboot default logback as logging provider(logback.xml)--&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- spring-boot-starter-logging is needed for this, remove this from exclusion --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n                &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\r\n                &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\r\n                &lt;version&gt;5.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-ldap&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.jcraft&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jsch&lt;/artifactId&gt;\r\n                &lt;version&gt;0.1.53&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- PostgreSQL --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- For H2 DB for local setup run --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n                &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n                &lt;!-- &lt;version&gt;4.3.16.RELEASE&lt;/version&gt; --&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n                &lt;!-- &lt;version&gt;4.3.16.RELEASE&lt;/version&gt; --&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!--  Data Source for PostGres SSL connection --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\r\n                &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\r\n                &lt;!-- &lt;version&gt;3.3.1&lt;/version&gt; --&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-hikaricp&lt;/artifactId&gt;\r\n                &lt;version&gt;5.2.10.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!--for table name--&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n                &lt;!-- &lt;version&gt;5.2.10.Final&lt;/version&gt; --&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n                &lt;!-- &lt;version&gt;5.2.3.Final&lt;/version&gt; --&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n                &lt;!-- &lt;version&gt;2.1.6.RELEASE&lt;/version&gt; --&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- Email client --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n                &lt;!-- &lt;version&gt;1.6.2&lt;/version&gt; --&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!--To remove the Tomcat Connection Pool from the classpath we can exclude it in our pom.xml:--&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;tomcat-jdbc&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n    \r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;&lt;!-- Enables Dev tools, which allows NO RESTART of server on\r\n    \t\t\t\tEdit of class or pages --&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n                &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n                &lt;version&gt;${assertj.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n                &lt;version&gt;3.11.2&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n                &lt;version&gt;3.12.4&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.mockito/mockito-inline --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n                &lt;version&gt;3.12.4&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;!-- Package as an executable jar/war --&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;addResources&gt;true&lt;/addResources&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.22.2&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n                        &lt;forkCount&gt;2&lt;/forkCount&gt;\r\n                        &lt;reuseForks&gt;true&lt;/reuseForks&gt;\r\n                        &lt;!--suppress UnresolvedMavenProperty --&gt;\r\n                        &lt;argLine&gt;${surefireArgLine}&lt;/argLine&gt;\r\n    \r\n                        &lt;!--&lt;forkCount&gt;2&lt;/forkCount&gt;\r\n                        &lt;reuseForks&gt;true&lt;/reuseForks&gt;\r\n                        &lt;argLine&gt;${surefireArgLine}&lt;/argLine&gt;--&gt;\r\n                        &lt;!--&lt;test&gt;com.esi.datavant.*&lt;/test&gt;--&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.9.1&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.1.2&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.22.2&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;0.8.2&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;default-prepare-agent&lt;/id&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;destFile&gt;${project.build.directory}/coverage-reports/jacoco.exec&lt;/destFile&gt;\r\n                                &lt;propertyName&gt;surefireArgLine&lt;/propertyName&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;default-report&lt;/id&gt;\r\n                            &lt;phase&gt;test&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;report&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;dataFile&gt;${project.build.directory}/coverage-reports/jacoco.exec&lt;/dataFile&gt;\r\n                                &lt;outputDirectory&gt;${project.reporting.outputDirectory}/jacoco&lt;/outputDirectory&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;default-check&lt;/id&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;check&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;rules&gt;\r\n                                    &lt;rule&gt;\r\n                                        &lt;element&gt;BUNDLE&lt;/element&gt;\r\n                                        &lt;limits&gt;\r\n                                            &lt;limit&gt;\r\n                                                &lt;counter&gt;COMPLEXITY&lt;/counter&gt;\r\n                                                &lt;value&gt;COVEREDRATIO&lt;/value&gt;\r\n                                                &lt;minimum&gt;0.70&lt;/minimum&gt;\r\n                                            &lt;/limit&gt;\r\n                                        &lt;/limits&gt;\r\n                                    &lt;/rule&gt;\r\n                                &lt;/rules&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nclasses:\r\n\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    @Service\r\n    public class Calculator {\r\n        public void test() {\r\n            int j = 8 + 9;\r\n        }\r\n    }\r\n    @Service\r\n    public class ClassDependency {\r\n    \r\n        @Autowired\r\n        Calculator calculator;\r\n    \r\n        public void check() {\r\n            calculator.test();\r\n            int k = 9 + 0;\r\n        }\r\n    }\r\n\r\nTest class:\r\n\r\n    package org.example;\r\n    \r\n    import org.junit.jupiter.api.Assertions;\r\n    import org.junit.jupiter.api.BeforeEach;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.mockito.InjectMocks;\r\n    import org.mockito.Mock;\r\n    import org.mockito.Mockito;\r\n    import org.mockito.MockitoAnnotations;\r\n    \r\n    public class ClassDependencyTest {\r\n    \r\n        @InjectMocks\r\n        private ClassDependency cut;\r\n    \r\n        @Mock\r\n        Calculator calculator;\r\n    \r\n        @BeforeEach\r\n        public void setUp() {\r\n            MockitoAnnotations.openMocks(this);\r\n        }\r\n\r\n","title":"Jacoco Plugin not able to run the mock test case while it run with intellij","body":"<p>I am attempting to utilize the Jacoco plugin to measure code coverage. During the process of writing test cases, I have been running them successfully with IntelliJ, achieving the desired coverage. However, when I try to run the tests using &quot;mvn test&quot; or &quot;mvn clean install,&quot; Jacoco encounters an error and fails to execute the test case.</p>\n<p>Error:</p>\n<pre><code>[INFO] -------------------------------------------------------\n[INFO]  T E S T S\n[INFO] -------------------------------------------------------\n[INFO] Running org.example.ClassDependencyTest\n[ERROR] Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 1.173 s &lt;&lt;&lt; FAILURE! - in org.example.ClassDependencyTest\n[ERROR] org.example.ClassDependencyTest.testCheck()  Time elapsed: 1.17 s  &lt;&lt;&lt; FAILURE!\norg.mockito.exceptions.misusing.NullInsteadOfMockException: \nArgument passed to when() is null!\nExample of correct stubbing:\n    doThrow(new RuntimeException()).when(mock).someMethod();\nAlso, if you use @Mock annotation don't miss openMocks()\n    at org.example.ClassDependencyTest.testCheck(ClassDependencyTest.java:26)\n\n[INFO] \n[INFO] Results:\n[INFO] \n[ERROR] Failures: \n[ERROR]   org.example.ClassDependencyTest#testCheck NullInsteadOfMockException \nArgument...\n[INFO] \n[ERROR] Tests run: 1, Failures: 1, Errors: 0, Skipped: 0\n[INFO] \n[ERROR] There are test failures.\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;TestingJacoco&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;junit-platform.version&gt;5.8.2&lt;/junit-platform.version&gt;\n        &lt;assertj.version&gt;3.11.1&lt;/assertj.version&gt;\n    &lt;/properties&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.12.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- Web --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;\n            &lt;version&gt;1.9.13&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\n            &lt;version&gt;1.9.13&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n            &lt;!-- &lt;version&gt;2.9.10&lt;/version&gt; --&gt;\n        &lt;/dependency&gt;\n        &lt;!-- JSTL --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Need this to compile JSP --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n            &lt;!--&lt;scope&gt;provided&lt;/scope&gt;--&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Need this to compile JSP --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.jdt.core.compiler&lt;/groupId&gt;\n            &lt;artifactId&gt;ecj&lt;/artifactId&gt;\n            &lt;version&gt;4.6.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- upload excel read --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n            &lt;version&gt;1.3.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\n            &lt;!-- &lt;version&gt;1.9.3&lt;/version&gt; --&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.9&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;3.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;3.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Optional, for bootstrap --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\n            &lt;version&gt;3.3.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;&lt;!-- For using SLF4J during logging, this removing the boilerplate code for getting the logger instance. We use springboot default logback as logging provider(logback.xml)--&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- spring-boot-starter-logging is needed for this, remove this from exclusion --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\n            &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\n            &lt;version&gt;5.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-ldap&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.jcraft&lt;/groupId&gt;\n            &lt;artifactId&gt;jsch&lt;/artifactId&gt;\n            &lt;version&gt;0.1.53&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- PostgreSQL --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- For H2 DB for local setup run --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n            &lt;!-- &lt;version&gt;4.3.16.RELEASE&lt;/version&gt; --&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;!-- &lt;version&gt;4.3.16.RELEASE&lt;/version&gt; --&gt;\n        &lt;/dependency&gt;\n        &lt;!--  Data Source for PostGres SSL connection --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\n            &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\n            &lt;!-- &lt;version&gt;3.3.1&lt;/version&gt; --&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-hikaricp&lt;/artifactId&gt;\n            &lt;version&gt;5.2.10.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--for table name--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;!-- &lt;version&gt;5.2.10.Final&lt;/version&gt; --&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;!-- &lt;version&gt;5.2.3.Final&lt;/version&gt; --&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;!-- &lt;version&gt;2.1.6.RELEASE&lt;/version&gt; --&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Email client --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n            &lt;!-- &lt;version&gt;1.6.2&lt;/version&gt; --&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!--To remove the Tomcat Connection Pool from the classpath we can exclude it in our pom.xml:--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n                    &lt;artifactId&gt;tomcat-jdbc&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;&lt;!-- Enables Dev tools, which allows NO RESTART of server on\n                Edit of class or pages --&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n            &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n            &lt;version&gt;${assertj.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;3.11.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;version&gt;3.12.4&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.mockito/mockito-inline --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n            &lt;version&gt;3.12.4&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;!-- Package as an executable jar/war --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;addResources&gt;true&lt;/addResources&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n                    &lt;forkCount&gt;2&lt;/forkCount&gt;\n                    &lt;reuseForks&gt;true&lt;/reuseForks&gt;\n                    &lt;!--suppress UnresolvedMavenProperty --&gt;\n                    &lt;argLine&gt;${surefireArgLine}&lt;/argLine&gt;\n\n                    &lt;!--&lt;forkCount&gt;2&lt;/forkCount&gt;\n                    &lt;reuseForks&gt;true&lt;/reuseForks&gt;\n                    &lt;argLine&gt;${surefireArgLine}&lt;/argLine&gt;--&gt;\n                    &lt;!--&lt;test&gt;com.esi.datavant.*&lt;/test&gt;--&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.9.1&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.2&lt;/version&gt;\n                &lt;configuration&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.8.2&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-prepare-agent&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;destFile&gt;${project.build.directory}/coverage-reports/jacoco.exec&lt;/destFile&gt;\n                            &lt;propertyName&gt;surefireArgLine&lt;/propertyName&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-report&lt;/id&gt;\n                        &lt;phase&gt;test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;dataFile&gt;${project.build.directory}/coverage-reports/jacoco.exec&lt;/dataFile&gt;\n                            &lt;outputDirectory&gt;${project.reporting.outputDirectory}/jacoco&lt;/outputDirectory&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-check&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;check&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;rules&gt;\n                                &lt;rule&gt;\n                                    &lt;element&gt;BUNDLE&lt;/element&gt;\n                                    &lt;limits&gt;\n                                        &lt;limit&gt;\n                                            &lt;counter&gt;COMPLEXITY&lt;/counter&gt;\n                                            &lt;value&gt;COVEREDRATIO&lt;/value&gt;\n                                            &lt;minimum&gt;0.70&lt;/minimum&gt;\n                                        &lt;/limit&gt;\n                                    &lt;/limits&gt;\n                                &lt;/rule&gt;\n                            &lt;/rules&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>classes:</p>\n<pre><code>import org.springframework.stereotype.Service;\n\n@Service\npublic class Calculator {\n    public void test() {\n        int j = 8 + 9;\n    }\n}\n@Service\npublic class ClassDependency {\n\n    @Autowired\n    Calculator calculator;\n\n    public void check() {\n        calculator.test();\n        int k = 9 + 0;\n    }\n}\n</code></pre>\n<p>Test class:</p>\n<pre><code>package org.example;\n\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.Mockito;\nimport org.mockito.MockitoAnnotations;\n\npublic class ClassDependencyTest {\n\n    @InjectMocks\n    private ClassDependency cut;\n\n    @Mock\n    Calculator calculator;\n\n    @BeforeEach\n    public void setUp() {\n        MockitoAnnotations.openMocks(this);\n    }\n</code></pre>\n"},{"tags":["java","ssl","okhttp","tls1.2","azure-iot-edge"],"answers":[{"tags":[],"owner":{"account_id":29259,"reputation":1855,"user_id":78935,"accept_rate":81,"display_name":"tishma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685654176,"creation_date":1685654176,"answer_id":76385767,"question_id":76377347,"body_markdown":"The clue to finding the solution after hours of banging my head was that all Java clients are failing to get the cert right, and that it seems to be related to SNI that is working in the client out of the box.\r\n\r\nNot sure if it&#39;s the JVM I&#39;m using or not, but the extension that http clients are using seems to be off by default.\r\nAdding the simple:\r\n```\r\nSystem.setProperty(&quot;jsse.enableSNIExtension&quot;, &quot;true&quot;);\r\n```\r\nbefore any https calls does the trick.","title":"Java http client not working with https on Azure","body":"<p>The clue to finding the solution after hours of banging my head was that all Java clients are failing to get the cert right, and that it seems to be related to SNI that is working in the client out of the box.</p>\n<p>Not sure if it's the JVM I'm using or not, but the extension that http clients are using seems to be off by default.\nAdding the simple:</p>\n<pre><code>System.setProperty(&quot;jsse.enableSNIExtension&quot;, &quot;true&quot;);\n</code></pre>\n<p>before any https calls does the trick.</p>\n"}],"owner":{"account_id":29259,"reputation":1855,"user_id":78935,"accept_rate":81,"display_name":"tishma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76385767,"answer_count":1,"score":0,"last_activity_date":1685654176,"creation_date":1685567637,"question_id":76377347,"body_markdown":"I&#39;m trying to fix my (a bit) old (er) Java 11 app that connected to an API without problems using OKHttp3 client.\r\n\r\nThe API (that I have no control of) had switched to a different SSL certificate, identified as:\r\n`issuer: C=US; O=DigiCert, Inc.; CN=GeoTrust Global TLS RSA4096 SHA256 2022 CA1`\r\n\r\nThat&#39;s what I get when trying to access it via Curl from command line, and I get the response as before.\r\n\r\nHowever, my Java http client SSL handshake keeps getting stuck on `azureedge.net` CN that results in server not being verified with this exception:\r\n```\r\nERROR  [dsa] javax.net.ssl.SSLPeerUnverifiedException: Hostname myhostname.com not verified:\r\n    certificate: sha256/Nvgcs5yexn04uRMOx3YIN1w7gT+OS4b+WlGC8kHEiqQ=\r\n    DN: CN=*.azureedge.net, O=Microsoft Corporation, L=Redmond, ST=WA, C=US\r\n    subjectAltNames: [*.azureedge.net, *.media.microsoftstream.com, *.origin.mediaservices.windows.net, *.streaming.mediaservices.windows.net]\r\n```\r\n\r\nI suspect it has to do with an Azure IoT hub, but - no idea how to work around this.\r\n\r\nAny help is much appreciated.","title":"Java http client not working with https on Azure","body":"<p>I'm trying to fix my (a bit) old (er) Java 11 app that connected to an API without problems using OKHttp3 client.</p>\n<p>The API (that I have no control of) had switched to a different SSL certificate, identified as:\n<code>issuer: C=US; O=DigiCert, Inc.; CN=GeoTrust Global TLS RSA4096 SHA256 2022 CA1</code></p>\n<p>That's what I get when trying to access it via Curl from command line, and I get the response as before.</p>\n<p>However, my Java http client SSL handshake keeps getting stuck on <code>azureedge.net</code> CN that results in server not being verified with this exception:</p>\n<pre><code>ERROR  [dsa] javax.net.ssl.SSLPeerUnverifiedException: Hostname myhostname.com not verified:\n    certificate: sha256/Nvgcs5yexn04uRMOx3YIN1w7gT+OS4b+WlGC8kHEiqQ=\n    DN: CN=*.azureedge.net, O=Microsoft Corporation, L=Redmond, ST=WA, C=US\n    subjectAltNames: [*.azureedge.net, *.media.microsoftstream.com, *.origin.mediaservices.windows.net, *.streaming.mediaservices.windows.net]\n</code></pre>\n<p>I suspect it has to do with an Azure IoT hub, but - no idea how to work around this.</p>\n<p>Any help is much appreciated.</p>\n"},{"tags":["java","java-io"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1685636662,"post_id":76383860,"comment_id":134691604,"body_markdown":"Where do you modify `data`? I see `s = new String(data)` but I never see it modified in the loop.","body":"Where do you modify <code>data</code>? I see <code>s = new String(data)</code> but I never see it modified in the loop."}],"answers":[{"tags":[],"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685638708,"creation_date":1685638708,"answer_id":76384147,"question_id":76383860,"body_markdown":"Method `ReadableByteChannel.read` reads a number of bytes equal to the remaining bytes in the given buffer. Since your `buffer` starts out empty, the first `fcCR.read(buffer)` will read `data.length` bytes into your `buffer`. After that first read, the `buffer` is &quot;full&quot;. To be able to read new data for subsequent account inquiries, you need to reset the `buffer` before the call to `fcCR.read(buffer)`:\r\n```\r\nbuffer.position(0);\r\nfcCR.read(buffer);\r\n```\r\n\r\nThat said, there are two other issues with your code:\r\n1. `ReadableByteChannel.read` is not guaranteed to read all the available bytes in one go. This is why the method returns the number of bytes it has read (or -1 if there are no more bytes to read). Thus, you should place `fcCR.read(buffer)` in a loop.\r\n2. The line `accountNum = Integer.parseInt(findAccount)` is an off-by-one error - unless the number of your first account is `0000`.","title":"Java issues reading txt file and displaying data","body":"<p>Method <code>ReadableByteChannel.read</code> reads a number of bytes equal to the remaining bytes in the given buffer. Since your <code>buffer</code> starts out empty, the first <code>fcCR.read(buffer)</code> will read <code>data.length</code> bytes into your <code>buffer</code>. After that first read, the <code>buffer</code> is &quot;full&quot;. To be able to read new data for subsequent account inquiries, you need to reset the <code>buffer</code> before the call to <code>fcCR.read(buffer)</code>:</p>\n<pre><code>buffer.position(0);\nfcCR.read(buffer);\n</code></pre>\n<p>That said, there are two other issues with your code:</p>\n<ol>\n<li><code>ReadableByteChannel.read</code> is not guaranteed to read all the available bytes in one go. This is why the method returns the number of bytes it has read (or -1 if there are no more bytes to read). Thus, you should place <code>fcCR.read(buffer)</code> in a loop.</li>\n<li>The line <code>accountNum = Integer.parseInt(findAccount)</code> is an off-by-one error - unless the number of your first account is <code>0000</code>.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685653895,"creation_date":1685653895,"answer_id":76385734,"question_id":76383860,"body_markdown":"You could trying re-factoring your code to use the _[java.io framework](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/package-summary.html)_, instead of the _[java.nio framework](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/package-summary.html)_.\r\n\r\nHere is the _[java.io Class Hierarchy (Java SE 20 &amp;amp; JDK 20)](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/package-tree.html)_.  \r\nAnd, here is the _[java.nio Class Hierarchy (Java SE 20 &amp;amp; JDK 20)](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/package-tree.html)_.\r\n\r\nHere is the Java tutorial on processing _I/O data_ using either of those frameworks.  \r\n_[Lesson: Basic I/O (The Java&amp;trade; Tutorials &amp;gt; Essential Java Classes)](https://docs.oracle.com/javase/tutorial/essential/io/index.html)_\r\n\r\nThe _java.io_ framework is good for basic file reading and writing.  \r\nWhereas, the _java.nio_ framework can prove daunting on general purpose access.\r\n\r\nEssentially, the _java.nio_ framework encapsulates the _[InputStream](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/InputStream.html)_ and _[OutputStream](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/OutputStream.html)_ classes of the original _java.io_, in order to provide a more robust application in scalable and multi-tiered designs.  \r\n\r\nIf you don&#39;t anticipate a divergence in your current design and concept, this might be a more logical approach.\r\n\r\nHere&#39;s a demonstration of your application, utilizing the _java.io_ framework.  \r\n\r\nI started by creating a local file, _RochesterBankCustomerRecords.txt_, with the following contents.\r\n\r\n```none\r\n1000,LastNameA,12345\r\n1001,LastNameB,54321\r\n1002,LastNameC,98765\r\n```\r\n\r\nThe class contains a nested class, _Account_, which holds a single account number, last-name, and account balance.  \r\nWe&#39;ll utilize this class to hold the data from each line within the _RochesterBankCustomerRecords.txt_ file.\r\n\r\n```java\r\nstatic class Account {\r\n    String number, lastName, balance;\r\n}\r\n```\r\n\r\nThe enclosing class contains two fields.  \r\nThe first is a _[File](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/File.html)_ object, to hold the location of the text file.  \r\nThe second is a _[List](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html)_ object, of type _Account_, which will hold each _Account_, from the file.\r\n\r\n```java\r\nFile file = new File(&quot;files/RochesterBankCustomerRecords.txt&quot;);\r\nList&lt;Account&gt; accounts = new ArrayList&lt;&gt;();\r\n```\r\n\r\nThere is a _load_ method, which will be called during the class&#39;s default constructor method, to populate the _accounts_ list.  \r\nI&#39;m utilizing the _[BufferedReader](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/BufferedReader.html)_ class here, which offers a useful _[readLine](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/BufferedReader.html#readLine())_ method.  \r\nAdditionally, I&#39;m using a _-1_ as the second argument of the _[String#split](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#split(java.lang.String,int))_ call.  This will preserve trailing commas, in the event any of the data in the file is empty.\r\n\r\n```java\r\nvoid load() throws IOException {\r\n    try (BufferedReader reader = new BufferedReader(new FileReader(file))) {\r\n        Account account;\r\n        String[] strings;\r\n        String line;\r\n        while ((line = reader.readLine()) != null){\r\n            strings = line.split(&quot;,&quot;, -1);\r\n            account = new Account();\r\n            account.number = strings[0];\r\n            account.lastName = strings[1];\r\n            account.balance = strings[2];\r\n            accounts.add(account);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThere is a _lookup_ method, which will traverse the _accounts_ list, and return the corresponding _Account_ object.  \r\nA _null_ is returned if it is not found.\r\n\r\n```java\r\n/** @return null if not found */\r\nAccount lookup(String string) {\r\n    for (Account account : accounts) {\r\n        if (account.number.equals(string))\r\n            return account;\r\n    }\r\n    return null;\r\n}\r\n```\r\n\r\nAlso, there is a _ui_ method, in which we&#39;ll utilize the _[Scanner](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html)_ class as an input-source; exiting if no account number is entered, or _9999_.\r\n\r\n```java\r\nvoid ui() {\r\n    Scanner scanner = new Scanner(System.in);\r\n    String string;\r\n    Account account;\r\n    boolean quit = false;\r\n    do {\r\n        System.out.print(&quot;Enter account to display &gt;&gt; &quot;);\r\n        string = scanner.nextLine();\r\n        if (string.isEmpty() || string.equals(&quot;9999&quot;)) quit = true;\r\n        else {\r\n            if ((account = lookup(string)) == null) {\r\n                System.out.println(&quot;The account #&quot; + string + &quot; does not exist.&quot;);\r\n                continue;\r\n            }\r\n            System.out.print(&quot;Account #: &quot; + account.number);\r\n            System.out.print(&quot; Last Name: &quot; + account.lastName);\r\n            System.out.print(&quot; Account Balance: $&quot; + account.balance);\r\n            System.out.println();\r\n        }\r\n    } while (!quit);\r\n}\r\n```\r\n\r\nFinally, there is a _start_ method to provide access to the _ui_ method.\r\n\r\n```java\r\nvoid start() {\r\n    ui();\r\n}\r\n```\r\n\r\nHere is the complete code, with a _main_ method.\r\n\r\n```java\r\npublic class Example {\r\n    public static void main(String[] args) throws IOException {\r\n        Example example = new Example();\r\n        example.start();\r\n    }\r\n\r\n    File file = new File(&quot;files/RochesterBankCustomerRecords.txt&quot;);\r\n    List&lt;Account&gt; accounts = new ArrayList&lt;&gt;();\r\n\r\n    Example() throws IOException {\r\n        load();\r\n    }\r\n\r\n    void start() {\r\n        ui();\r\n    }\r\n\r\n    void ui() {\r\n        Scanner scanner = new Scanner(System.in);\r\n        String string;\r\n        Account account;\r\n        boolean quit = false;\r\n        do {\r\n            System.out.print(&quot;Enter account to display &gt;&gt; &quot;);\r\n            string = scanner.nextLine();\r\n            if (string.isEmpty() || string.equals(&quot;9999&quot;)) quit = true;\r\n            else {\r\n                if ((account = lookup(string)) == null) {\r\n                    System.out.println(&quot;The account #&quot; + string + &quot; does not exist.&quot;);\r\n                    continue;\r\n                }\r\n                System.out.print(&quot;Account #: &quot; + account.number);\r\n                System.out.print(&quot; Last Name: &quot; + account.lastName);\r\n                System.out.print(&quot; Account Balance: $&quot; + account.balance);\r\n                System.out.println();\r\n            }\r\n        } while (!quit);\r\n    }\r\n\r\n    /** @return null if not found */\r\n    Account lookup(String string) {\r\n        for (Account account : accounts) {\r\n            if (account.number.equals(string))\r\n                return account;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    void load() throws IOException {\r\n        try (BufferedReader reader = new BufferedReader(new FileReader(file))) {\r\n            Account account;\r\n            String[] strings;\r\n            String line;\r\n            while ((line = reader.readLine()) != null) {\r\n                strings = line.split(&quot;,&quot;, -1);\r\n                account = new Account();\r\n                account.number = strings[0];\r\n                account.lastName = strings[1];\r\n                account.balance = strings[2];\r\n                accounts.add(account);\r\n            }\r\n        }\r\n    }\r\n\r\n    static class Account {\r\n        String number, lastName, balance;\r\n    }\r\n}\r\n```\r\n\r\nHere is an example input and output.\r\n\r\n```none\r\nEnter account to display &gt;&gt; 1000\r\nAccount #: 1000 Last Name: LastNameA Account Balance: $12345\r\nEnter account to display &gt;&gt; 1001\r\nAccount #: 1001 Last Name: LastNameB Account Balance: $54321\r\nEnter account to display &gt;&gt; 1002\r\nAccount #: 1002 Last Name: LastNameC Account Balance: $98765\r\nEnter account to display &gt;&gt; 1234\r\nThe account #1234 does not exist.\r\nEnter account to display &gt;&gt; 9999\r\n```","title":"Java issues reading txt file and displaying data","body":"<p>You could trying re-factoring your code to use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/package-summary.html\" rel=\"nofollow noreferrer\">java.io framework</a></em>, instead of the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/package-summary.html\" rel=\"nofollow noreferrer\">java.nio framework</a></em>.</p>\n<p>Here is the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/package-tree.html\" rel=\"nofollow noreferrer\">java.io Class Hierarchy (Java SE 20 &amp; JDK 20)</a></em>.<br />\nAnd, here is the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/package-tree.html\" rel=\"nofollow noreferrer\">java.nio Class Hierarchy (Java SE 20 &amp; JDK 20)</a></em>.</p>\n<p>Here is the Java tutorial on processing <em>I/O data</em> using either of those frameworks.<br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/essential/io/index.html\" rel=\"nofollow noreferrer\">Lesson: Basic I/O (The Java™ Tutorials &gt; Essential Java Classes)</a></em></p>\n<p>The <em>java.io</em> framework is good for basic file reading and writing.<br />\nWhereas, the <em>java.nio</em> framework can prove daunting on general purpose access.</p>\n<p>Essentially, the <em>java.nio</em> framework encapsulates the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/InputStream.html\" rel=\"nofollow noreferrer\">InputStream</a></em> and <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/OutputStream.html\" rel=\"nofollow noreferrer\">OutputStream</a></em> classes of the original <em>java.io</em>, in order to provide a more robust application in scalable and multi-tiered designs.</p>\n<p>If you don't anticipate a divergence in your current design and concept, this might be a more logical approach.</p>\n<p>Here's a demonstration of your application, utilizing the <em>java.io</em> framework.</p>\n<p>I started by creating a local file, <em>RochesterBankCustomerRecords.txt</em>, with the following contents.</p>\n<pre class=\"lang-none prettyprint-override\"><code>1000,LastNameA,12345\n1001,LastNameB,54321\n1002,LastNameC,98765\n</code></pre>\n<p>The class contains a nested class, <em>Account</em>, which holds a single account number, last-name, and account balance.<br />\nWe'll utilize this class to hold the data from each line within the <em>RochesterBankCustomerRecords.txt</em> file.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static class Account {\n    String number, lastName, balance;\n}\n</code></pre>\n<p>The enclosing class contains two fields.<br />\nThe first is a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/File.html\" rel=\"nofollow noreferrer\">File</a></em> object, to hold the location of the text file.<br />\nThe second is a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\">List</a></em> object, of type <em>Account</em>, which will hold each <em>Account</em>, from the file.</p>\n<pre class=\"lang-java prettyprint-override\"><code>File file = new File(&quot;files/RochesterBankCustomerRecords.txt&quot;);\nList&lt;Account&gt; accounts = new ArrayList&lt;&gt;();\n</code></pre>\n<p>There is a <em>load</em> method, which will be called during the class's default constructor method, to populate the <em>accounts</em> list.<br />\nI'm utilizing the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/BufferedReader.html\" rel=\"nofollow noreferrer\">BufferedReader</a></em> class here, which offers a useful <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/BufferedReader.html#readLine()\" rel=\"nofollow noreferrer\">readLine</a></em> method.<br />\nAdditionally, I'm using a <em>-1</em> as the second argument of the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#split(java.lang.String,int)\" rel=\"nofollow noreferrer\">String#split</a></em> call.  This will preserve trailing commas, in the event any of the data in the file is empty.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void load() throws IOException {\n    try (BufferedReader reader = new BufferedReader(new FileReader(file))) {\n        Account account;\n        String[] strings;\n        String line;\n        while ((line = reader.readLine()) != null){\n            strings = line.split(&quot;,&quot;, -1);\n            account = new Account();\n            account.number = strings[0];\n            account.lastName = strings[1];\n            account.balance = strings[2];\n            accounts.add(account);\n        }\n    }\n}\n</code></pre>\n<p>There is a <em>lookup</em> method, which will traverse the <em>accounts</em> list, and return the corresponding <em>Account</em> object.<br />\nA <em>null</em> is returned if it is not found.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/** @return null if not found */\nAccount lookup(String string) {\n    for (Account account : accounts) {\n        if (account.number.equals(string))\n            return account;\n    }\n    return null;\n}\n</code></pre>\n<p>Also, there is a <em>ui</em> method, in which we'll utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html\" rel=\"nofollow noreferrer\">Scanner</a></em> class as an input-source; exiting if no account number is entered, or <em>9999</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void ui() {\n    Scanner scanner = new Scanner(System.in);\n    String string;\n    Account account;\n    boolean quit = false;\n    do {\n        System.out.print(&quot;Enter account to display &gt;&gt; &quot;);\n        string = scanner.nextLine();\n        if (string.isEmpty() || string.equals(&quot;9999&quot;)) quit = true;\n        else {\n            if ((account = lookup(string)) == null) {\n                System.out.println(&quot;The account #&quot; + string + &quot; does not exist.&quot;);\n                continue;\n            }\n            System.out.print(&quot;Account #: &quot; + account.number);\n            System.out.print(&quot; Last Name: &quot; + account.lastName);\n            System.out.print(&quot; Account Balance: $&quot; + account.balance);\n            System.out.println();\n        }\n    } while (!quit);\n}\n</code></pre>\n<p>Finally, there is a <em>start</em> method to provide access to the <em>ui</em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void start() {\n    ui();\n}\n</code></pre>\n<p>Here is the complete code, with a <em>main</em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Example {\n    public static void main(String[] args) throws IOException {\n        Example example = new Example();\n        example.start();\n    }\n\n    File file = new File(&quot;files/RochesterBankCustomerRecords.txt&quot;);\n    List&lt;Account&gt; accounts = new ArrayList&lt;&gt;();\n\n    Example() throws IOException {\n        load();\n    }\n\n    void start() {\n        ui();\n    }\n\n    void ui() {\n        Scanner scanner = new Scanner(System.in);\n        String string;\n        Account account;\n        boolean quit = false;\n        do {\n            System.out.print(&quot;Enter account to display &gt;&gt; &quot;);\n            string = scanner.nextLine();\n            if (string.isEmpty() || string.equals(&quot;9999&quot;)) quit = true;\n            else {\n                if ((account = lookup(string)) == null) {\n                    System.out.println(&quot;The account #&quot; + string + &quot; does not exist.&quot;);\n                    continue;\n                }\n                System.out.print(&quot;Account #: &quot; + account.number);\n                System.out.print(&quot; Last Name: &quot; + account.lastName);\n                System.out.print(&quot; Account Balance: $&quot; + account.balance);\n                System.out.println();\n            }\n        } while (!quit);\n    }\n\n    /** @return null if not found */\n    Account lookup(String string) {\n        for (Account account : accounts) {\n            if (account.number.equals(string))\n                return account;\n        }\n        return null;\n    }\n\n    void load() throws IOException {\n        try (BufferedReader reader = new BufferedReader(new FileReader(file))) {\n            Account account;\n            String[] strings;\n            String line;\n            while ((line = reader.readLine()) != null) {\n                strings = line.split(&quot;,&quot;, -1);\n                account = new Account();\n                account.number = strings[0];\n                account.lastName = strings[1];\n                account.balance = strings[2];\n                accounts.add(account);\n            }\n        }\n    }\n\n    static class Account {\n        String number, lastName, balance;\n    }\n}\n</code></pre>\n<p>Here is an example input and output.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Enter account to display &gt;&gt; 1000\nAccount #: 1000 Last Name: LastNameA Account Balance: $12345\nEnter account to display &gt;&gt; 1001\nAccount #: 1001 Last Name: LastNameB Account Balance: $54321\nEnter account to display &gt;&gt; 1002\nAccount #: 1002 Last Name: LastNameC Account Balance: $98765\nEnter account to display &gt;&gt; 1234\nThe account #1234 does not exist.\nEnter account to display &gt;&gt; 9999\n</code></pre>\n"}],"owner":{"account_id":28640163,"reputation":11,"user_id":21929453,"display_name":"HavannaMaker"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1685653895,"creation_date":1685636104,"question_id":76383860,"body_markdown":"I am having issues reading data from a file in java. Not sure why the output is not changing. I added a few SOUT lines to try and find the issue but still not seeing it. Basically I have a txt file with random account number, last name, balances. The user is prompted for an account number and the account info is displayed. the user is then asked for another account number or 9999 to quit. The first requested account is displayed without issue but when the user enters another account number it just displays the original account.\r\n\r\n```\r\nimport java.nio.file.*;\r\nimport static java.nio.file.StandardOpenOption.*;\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.channels.FileChannel;\r\nimport java.util.Queue;\r\nimport java.util.Scanner;\r\npublic class ReadBankAccountsRandomly {\r\n    public static void main(String[] args) {\r\n\r\n        Scanner input = new Scanner(System.in);\r\n        Path custRecords = Paths.get(&quot;D:\\\\School\\\\2nd Sem\\\\OOP\\\\Module 7\\\\RochesterBankCustomerRecords.txt&quot;);\r\n        final String ACCOUNT_NUM = &quot;0000&quot;;\r\n        final String LAST_NAME_FORMAT = &quot;        &quot;;\r\n        final int NAME_LENGTH = LAST_NAME_FORMAT.length();\r\n        final String BALANCE_FORMAT = &quot;00000.00&quot;;\r\n        String delimiter = &quot;,&quot;;\r\n        String s = ACCOUNT_NUM + delimiter + LAST_NAME_FORMAT + delimiter + BALANCE_FORMAT + System.getProperty(&quot;line.separator&quot;);\r\n        final int RECSIZE = s.length();\r\n        FileChannel fcCR = null;\r\n        String findAccount;\r\n        int accountNum;\r\n\r\n        byte data[] = s.getBytes();\r\n        final String EMPTY_ACCT = &quot;0000&quot;;\r\n        final String QUIT = &quot;9999&quot;;\r\n        String[] array;\r\n\r\n        try {\r\n            fcCR = (FileChannel) Files.newByteChannel(custRecords, READ);\r\n            ByteBuffer buffer = ByteBuffer.wrap(data);\r\n            System.out.println(&quot;\\nEnter account to display &gt;&gt; &quot;);\r\n            findAccount = input.nextLine();\r\n\r\n            while (!findAccount.equals(QUIT)) {\r\n                accountNum = Integer.parseInt(findAccount);\r\n                System.out.println(accountNum);\r\n                fcCR.position((long) accountNum * RECSIZE);\r\n                System.out.println(fcCR.position());\r\n                fcCR.read(buffer);\r\n                s = new String(data);\r\n                array = s.split(delimiter);\r\n                if (array[0].equals(EMPTY_ACCT)) {\r\n                    System.out.println(&quot;The account #&quot; + accountNum + &quot; does not exist.&quot;);\r\n                } else {\r\n                    System.out.println(&quot;Account #: &quot; + array[0] + &quot; Last Name: &quot; + array[1] + &quot; Account Balance: $&quot; + array[2]);\r\n                }\r\n                System.out.println(&quot;Enter the next account number or 9999 to quit &gt;&gt; &quot;);\r\n                findAccount = input.nextLine();\r\n                System.out.println(findAccount);\r\n            }\r\n            fcCR.close();\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Message: &quot; + e);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nOutput:\r\nEnter account to display &gt;&gt; \r\n1001\r\n1001\r\n24024\r\nAccount #: 1001 Last Name: Smith    Account Balance: $34000.00\r\n\r\nEnter the next account number or 9999 to quit &gt;&gt; \r\n1203\r\n1203\r\n1203\r\n28872\r\nAccount #: 1001 Last Name: Smith    Account Balance: $34000.00\r\n\r\nEnter the next account number or 9999 to quit &gt;&gt; ","title":"Java issues reading txt file and displaying data","body":"<p>I am having issues reading data from a file in java. Not sure why the output is not changing. I added a few SOUT lines to try and find the issue but still not seeing it. Basically I have a txt file with random account number, last name, balances. The user is prompted for an account number and the account info is displayed. the user is then asked for another account number or 9999 to quit. The first requested account is displayed without issue but when the user enters another account number it just displays the original account.</p>\n<pre><code>import java.nio.file.*;\nimport static java.nio.file.StandardOpenOption.*;\nimport java.nio.ByteBuffer;\nimport java.nio.channels.FileChannel;\nimport java.util.Queue;\nimport java.util.Scanner;\npublic class ReadBankAccountsRandomly {\n    public static void main(String[] args) {\n\n        Scanner input = new Scanner(System.in);\n        Path custRecords = Paths.get(&quot;D:\\\\School\\\\2nd Sem\\\\OOP\\\\Module 7\\\\RochesterBankCustomerRecords.txt&quot;);\n        final String ACCOUNT_NUM = &quot;0000&quot;;\n        final String LAST_NAME_FORMAT = &quot;        &quot;;\n        final int NAME_LENGTH = LAST_NAME_FORMAT.length();\n        final String BALANCE_FORMAT = &quot;00000.00&quot;;\n        String delimiter = &quot;,&quot;;\n        String s = ACCOUNT_NUM + delimiter + LAST_NAME_FORMAT + delimiter + BALANCE_FORMAT + System.getProperty(&quot;line.separator&quot;);\n        final int RECSIZE = s.length();\n        FileChannel fcCR = null;\n        String findAccount;\n        int accountNum;\n\n        byte data[] = s.getBytes();\n        final String EMPTY_ACCT = &quot;0000&quot;;\n        final String QUIT = &quot;9999&quot;;\n        String[] array;\n\n        try {\n            fcCR = (FileChannel) Files.newByteChannel(custRecords, READ);\n            ByteBuffer buffer = ByteBuffer.wrap(data);\n            System.out.println(&quot;\\nEnter account to display &gt;&gt; &quot;);\n            findAccount = input.nextLine();\n\n            while (!findAccount.equals(QUIT)) {\n                accountNum = Integer.parseInt(findAccount);\n                System.out.println(accountNum);\n                fcCR.position((long) accountNum * RECSIZE);\n                System.out.println(fcCR.position());\n                fcCR.read(buffer);\n                s = new String(data);\n                array = s.split(delimiter);\n                if (array[0].equals(EMPTY_ACCT)) {\n                    System.out.println(&quot;The account #&quot; + accountNum + &quot; does not exist.&quot;);\n                } else {\n                    System.out.println(&quot;Account #: &quot; + array[0] + &quot; Last Name: &quot; + array[1] + &quot; Account Balance: $&quot; + array[2]);\n                }\n                System.out.println(&quot;Enter the next account number or 9999 to quit &gt;&gt; &quot;);\n                findAccount = input.nextLine();\n                System.out.println(findAccount);\n            }\n            fcCR.close();\n        } catch (Exception e) {\n            System.out.println(&quot;Message: &quot; + e);\n        }\n    }\n}\n\n</code></pre>\n<p>Output:\nEnter account to display &gt;&gt;\n1001\n1001\n24024\nAccount #: 1001 Last Name: Smith    Account Balance: $34000.00</p>\n<p>Enter the next account number or 9999 to quit &gt;&gt;\n1203\n1203\n1203\n28872\nAccount #: 1001 Last Name: Smith    Account Balance: $34000.00</p>\n<p>Enter the next account number or 9999 to quit &gt;&gt;</p>\n"},{"tags":["java","spring","hibernate"],"answers":[{"tags":[],"owner":{"account_id":8258676,"reputation":973,"user_id":6210973,"display_name":"Mick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572522343,"creation_date":1572522343,"answer_id":58642657,"question_id":58642218,"body_markdown":"Don&#39;t change your production code just for a test case. Just modify the creation date attribute on your test objects?","title":"Disable @CreationTimestamp in testing class","body":"<p>Don't change your production code just for a test case. Just modify the creation date attribute on your test objects?</p>\n"},{"tags":[],"owner":{"account_id":7584362,"reputation":187,"user_id":5754033,"display_name":"Vadym Ozarynskyi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650628106,"creation_date":1650628106,"answer_id":71968252,"question_id":58642218,"body_markdown":"I&#39;ve encountered the same problem in tests, the best solution that I came up with is: \r\nMock static method in Clock.systemUTC so it will return Clock.fixed()\r\n\r\n   \r\n\r\n``` lang-java\r\ntry (MockedStatic&lt;Clock&gt; utilities = Mockito.mockStatic(Clock.class)) {\r\n                utilities.when(Clock::systemUTC)\r\n                        .thenReturn(Clock.fixed(Instant.parse(&quot;2018-08-22T10:00:00Z&quot;), ZoneOffset.UTC));\r\n                System.out.println(Instant.now()) //here perform actions in past\r\n            }\r\n    System.out.println(Instant.now()) // here perform in current time\r\n```","title":"Disable @CreationTimestamp in testing class","body":"<p>I've encountered the same problem in tests, the best solution that I came up with is:\nMock static method in Clock.systemUTC so it will return Clock.fixed()</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (MockedStatic&lt;Clock&gt; utilities = Mockito.mockStatic(Clock.class)) {\n                utilities.when(Clock::systemUTC)\n                        .thenReturn(Clock.fixed(Instant.parse(&quot;2018-08-22T10:00:00Z&quot;), ZoneOffset.UTC));\n                System.out.println(Instant.now()) //here perform actions in past\n            }\n    System.out.println(Instant.now()) // here perform in current time\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685652981,"creation_date":1685652459,"answer_id":76385607,"question_id":58642218,"body_markdown":"In my case the data type of the attribute equipped with `@UpdateTimestamp` was a `LocalDateTime`. I have solved it this way:\r\n\r\n```\r\nShiftLog shiftLog1 = ShiftLog.builder().build();\r\nShiftLog shiftLog2 = ShiftLog.builder().build();\r\nShiftLog shiftLog3 = ShiftLog.builder().build();\r\nLocalDateTime thePast = LocalDateTime.of(1979, 4, 3, 6, 45, 31);\r\ntry (MockedStatic&lt;LocalDateTime&gt; utilities = Mockito.mockStatic(LocalDateTime.class)) {\r\n   utilities.when(() -&gt; LocalDateTime.now(ArgumentMatchers.any(Clock.class))).thenReturn(thePast);\r\n   repository.save(shiftLog1);\r\n   repository.save(shiftLog2);\r\n}\r\n// Now the @UpdateTimestamp is untouched again.\r\nrepository.save(shiftLog3);\r\n```","title":"Disable @CreationTimestamp in testing class","body":"<p>In my case the data type of the attribute equipped with <code>@UpdateTimestamp</code> was a <code>LocalDateTime</code>. I have solved it this way:</p>\n<pre><code>ShiftLog shiftLog1 = ShiftLog.builder().build();\nShiftLog shiftLog2 = ShiftLog.builder().build();\nShiftLog shiftLog3 = ShiftLog.builder().build();\nLocalDateTime thePast = LocalDateTime.of(1979, 4, 3, 6, 45, 31);\ntry (MockedStatic&lt;LocalDateTime&gt; utilities = Mockito.mockStatic(LocalDateTime.class)) {\n   utilities.when(() -&gt; LocalDateTime.now(ArgumentMatchers.any(Clock.class))).thenReturn(thePast);\n   repository.save(shiftLog1);\n   repository.save(shiftLog2);\n}\n// Now the @UpdateTimestamp is untouched again.\nrepository.save(shiftLog3);\n</code></pre>\n"}],"owner":{"account_id":10634713,"reputation":68,"user_id":7831761,"display_name":"Diego Manuel Mateos G&#243;mez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1931,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1685652981,"creation_date":1572520666,"question_id":58642218,"body_markdown":"So I&#39;m using Hibernate&#39;s annotations `@CreationTimestamp` and `@UpdateTimestamp`. It works fine, but I have this case when unit testing where I need to create objects in specific dates. \r\n\r\nI think it is not possible to deactivate this annotations so the first thing I thought was remove them and do something like this:\r\n\r\n    @PrePersist\r\n    public void prePersist() {\r\n        if (createdDate == null) {\r\n            createdDate = new Date();\r\n        }\r\n    }\r\n\r\nI don&#39;t like it this way because I&#39;ll have to do a refactor of my entities just for one test case.\r\n\r\nThe other solution I think it can be better is to create an sql file with the data I need and execute it with Spring before when running my tests.\r\n\r\nWhat do you think is the best way to do this?","title":"Disable @CreationTimestamp in testing class","body":"<p>So I'm using Hibernate's annotations <code>@CreationTimestamp</code> and <code>@UpdateTimestamp</code>. It works fine, but I have this case when unit testing where I need to create objects in specific dates. </p>\n\n<p>I think it is not possible to deactivate this annotations so the first thing I thought was remove them and do something like this:</p>\n\n<pre><code>@PrePersist\npublic void prePersist() {\n    if (createdDate == null) {\n        createdDate = new Date();\n    }\n}\n</code></pre>\n\n<p>I don't like it this way because I'll have to do a refactor of my entities just for one test case.</p>\n\n<p>The other solution I think it can be better is to create an sql file with the data I need and execute it with Spring before when running my tests.</p>\n\n<p>What do you think is the best way to do this?</p>\n"},{"tags":["java","regex","java-8"],"comments":[{"owner":{"account_id":268704,"reputation":2391,"user_id":15577665,"display_name":"sln"},"score":0,"creation_date":1685656010,"post_id":76385644,"comment_id":134695236,"body_markdown":"Only the last overwriteing of a capture group is retained. If you quantify a capture group thats the typical behavior. However Dot-Net regex can do this with their _CaptureCollection_ capability. All others can&#39;t.","body":"Only the last overwriteing of a capture group is retained. If you quantify a capture group thats the typical behavior. However Dot-Net regex can do this with their <i>CaptureCollection</i> capability. All others can&#39;t."},{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":0,"creation_date":1685694592,"post_id":76385644,"comment_id":134699815,"body_markdown":"If you want to chain matches to something, you can use [the `\\G` anchor](https://www.regular-expressions.info/continue.html) which is supported by Java regex. Let&#39;s say you want to chain matches to `export type \\w+` and capture what&#39;s inside the doublequotes you can use e.g. [`(?:\\G(?!^)|^export type \\w+)[|=\\s]+\\&quot;([^\\&quot;]+)\\&quot;`](https://regex101.com/r/bNHgsD/1) The negative lookahead `(?!^)` after `\\G` is just to prevent `\\G` from matching at `^` start (default behaviour).","body":"If you want to chain matches to something, you can use <a href=\"https://www.regular-expressions.info/continue.html\" rel=\"nofollow noreferrer\">the <code>\\G</code> anchor</a> which is supported by Java regex. Let&#39;s say you want to chain matches to <code>export type \\w+</code> and capture what&#39;s inside the doublequotes you can use e.g. <a href=\"https://regex101.com/r/bNHgsD/1\" rel=\"nofollow noreferrer\"><code>(?:\\G(?!^)|^export type \\w+)[|=\\s]+\\&quot;([^\\&quot;]+)\\&quot;</code></a> The negative lookahead <code>(?!^)</code> after <code>\\G</code> is just to prevent <code>\\G</code> from matching at <code>^</code> start (default behaviour)."}],"owner":{"account_id":233550,"reputation":14286,"user_id":499125,"accept_rate":74,"display_name":"Some Noob Student"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1685653077,"answer_count":0,"score":0,"last_activity_date":1685652903,"creation_date":1685652903,"question_id":76385644,"body_markdown":"I want to capture the strings from the following:\r\n\r\n```\r\n// want &quot;Closed&quot;, &quot;RequireApplication&quot;, &quot;Open&quot;\r\nexport type RegistrationMode = &quot;Closed&quot; | &quot;RequireApplication&quot; | &quot;Open&quot;;\r\n\r\n// want &quot;All&quot;, &quot;Comments&quot;, ..., &quot;Url&quot;\r\nexport type SearchType =\r\n  | &quot;All&quot;\r\n  | &quot;Comments&quot;\r\n  | &quot;Posts&quot;\r\n  | &quot;Communities&quot;\r\n  | &quot;Users&quot;\r\n  | &quot;Url&quot;;\r\n```\r\n\r\nHowever, the matcher I wrote `export type \\w+ =(\\S+)?(?:\\s+\\| (\\S+))*;` only matches the last group and misses the ones in the middle.\r\n\r\nhttps://regex101.com/r/SBpaVY/1\r\n\r\nWhat am I missing?","title":"Regex not matching groups in the middle","body":"<p>I want to capture the strings from the following:</p>\n<pre><code>// want &quot;Closed&quot;, &quot;RequireApplication&quot;, &quot;Open&quot;\nexport type RegistrationMode = &quot;Closed&quot; | &quot;RequireApplication&quot; | &quot;Open&quot;;\n\n// want &quot;All&quot;, &quot;Comments&quot;, ..., &quot;Url&quot;\nexport type SearchType =\n  | &quot;All&quot;\n  | &quot;Comments&quot;\n  | &quot;Posts&quot;\n  | &quot;Communities&quot;\n  | &quot;Users&quot;\n  | &quot;Url&quot;;\n</code></pre>\n<p>However, the matcher I wrote <code>export type \\w+ =(\\S+)?(?:\\s+\\| (\\S+))*;</code> only matches the last group and misses the ones in the middle.</p>\n<p><a href=\"https://regex101.com/r/SBpaVY/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/SBpaVY/1</a></p>\n<p>What am I missing?</p>\n"},{"tags":["java","android","json","gson","retrofit"],"answers":[{"tags":[],"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1537294288,"creation_date":1536967369,"answer_id":52340289,"question_id":52333216,"body_markdown":"I think that the problem is due the fact that `RuntimeTypeAdapterFactory` will throw an exception when trying to create adapter for unregistered type name (see excerpt from `RuntimeTypeAdapterFactory`s source code):\r\n\r\n    public &lt;R&gt; TypeAdapter&lt;R&gt; create(Gson gson, TypeToken&lt;R&gt; type) {\r\n        ...\r\n\r\n        // typeFieldName is the type name that is given when registering the sub type\r\n        if (jsonObject.has(typeFieldName)) {\r\n            throw new JsonParseException(&quot;cannot serialize &quot; + srcType.getName()\r\n                + &quot; because it already defines a field named &quot; + typeFieldName);\r\n        }\r\n\r\n        ...\r\n    }\r\n\r\nThis might lead `Retrofit` to truncate the whole response to `null`.\r\n\r\nThen see the declaration of `TypeAdapterFactory`:\r\n\r\n    public interface TypeAdapterFactory {\r\n        /**\r\n        * Returns a type adapter for {@code type}, or null if this factory doesn&#39;t\r\n        * support {@code type}.\r\n        */\r\n        &lt;T&gt; TypeAdapter&lt;T&gt; create(Gson gson, TypeToken&lt;T&gt; type);\r\n    }\r\n\r\n\r\nIf you were able to return `null` instead of throwing that exception I guess `Retrofit` could return all the sub classes it recognises.\r\n\r\nThis would be easy to handle by extending `RuntimeTypeAdapterFactory` and overriding the problematic method but unfortunately class is declared as `final`.\r\n\r\nSo you can either create a wrapping type adapter that calls the original RuntimeTypeAdapter inside it or as I would do it just copy the source for the class `RuntimeTypeAdapterFactory` in to some package of your own and edit it correspoding your needs. It is Open Source. So the problematic part would be like:\r\n\r\n    if (jsonObject.has(typeFieldName)) {\r\n        log.warn(&quot;cannot serialize &quot; + srcType.getName()\r\n                + &quot; because it already defines a field named &quot; + typeFieldName);\r\n        return null;\r\n    }\r\n\r\nTo clarify, because you are now returning `null` instead of throwing, your list will contain this null element. To truly ignore it, make sure you call `list.filterNotNull()` at the implementation. \r\n","title":"Ignore unregistered subtypes in RuntimeTypeAdapterFactory","body":"<p>I think that the problem is due the fact that <code>RuntimeTypeAdapterFactory</code> will throw an exception when trying to create adapter for unregistered type name (see excerpt from <code>RuntimeTypeAdapterFactory</code>s source code):</p>\n\n<pre><code>public &lt;R&gt; TypeAdapter&lt;R&gt; create(Gson gson, TypeToken&lt;R&gt; type) {\n    ...\n\n    // typeFieldName is the type name that is given when registering the sub type\n    if (jsonObject.has(typeFieldName)) {\n        throw new JsonParseException(\"cannot serialize \" + srcType.getName()\n            + \" because it already defines a field named \" + typeFieldName);\n    }\n\n    ...\n}\n</code></pre>\n\n<p>This might lead <code>Retrofit</code> to truncate the whole response to <code>null</code>.</p>\n\n<p>Then see the declaration of <code>TypeAdapterFactory</code>:</p>\n\n<pre><code>public interface TypeAdapterFactory {\n    /**\n    * Returns a type adapter for {@code type}, or null if this factory doesn't\n    * support {@code type}.\n    */\n    &lt;T&gt; TypeAdapter&lt;T&gt; create(Gson gson, TypeToken&lt;T&gt; type);\n}\n</code></pre>\n\n<p>If you were able to return <code>null</code> instead of throwing that exception I guess <code>Retrofit</code> could return all the sub classes it recognises.</p>\n\n<p>This would be easy to handle by extending <code>RuntimeTypeAdapterFactory</code> and overriding the problematic method but unfortunately class is declared as <code>final</code>.</p>\n\n<p>So you can either create a wrapping type adapter that calls the original RuntimeTypeAdapter inside it or as I would do it just copy the source for the class <code>RuntimeTypeAdapterFactory</code> in to some package of your own and edit it correspoding your needs. It is Open Source. So the problematic part would be like:</p>\n\n<pre><code>if (jsonObject.has(typeFieldName)) {\n    log.warn(\"cannot serialize \" + srcType.getName()\n            + \" because it already defines a field named \" + typeFieldName);\n    return null;\n}\n</code></pre>\n\n<p>To clarify, because you are now returning <code>null</code> instead of throwing, your list will contain this null element. To truly ignore it, make sure you call <code>list.filterNotNull()</code> at the implementation. </p>\n"},{"tags":[],"owner":{"account_id":1782787,"reputation":9911,"user_id":1650674,"accept_rate":92,"display_name":"tir38"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550874773,"creation_date":1550874773,"answer_id":54836110,"question_id":52333216,"body_markdown":"We had a similar problem but GSON wasn&#39;t so silent. We were hitting the error:\r\n\r\n&gt; cannot deserialize X subtype named Y; did you forget to register a\r\n&gt; subtype?\r\n\r\nTo implement @pirho &#39;s solution we copied `RuntimeTypeAdapterFactory` into our project.\r\n\r\n1.) add a new field\r\n\r\n    private final Map&lt;String, Class&lt;?&gt;&gt; labelToSubtype = new LinkedHashMap&lt;String, Class&lt;?&gt;&gt;();\r\n    private final Map&lt;Class&lt;?&gt;, String&gt; subtypeToLabel = new LinkedHashMap&lt;Class&lt;?&gt;, String&gt;();\r\n    private final List&lt;String&gt; labelsToIgnore = new ArrayList&lt;&gt;(); // ADD THIS LINE\r\n    \r\n     \r\n\r\n2.) add a new method:\r\n\r\n    public RuntimeTypeAdapterFactory&lt;T&gt; ignoreSubtype(String label) {\r\n        labelsToIgnore.add(label);\r\n        return this;\r\n    }\r\n\r\n3.) update the `read` method in the `TypeAdapter`:\r\n\r\n\r\n    public R read(final JsonReader in) {\r\n        JsonElement jsonElement = Streams.parse(in);\r\n        JsonElement labelJsonElement = jsonElement.getAsJsonObject().remove(typeFieldName);\r\n        if (labelJsonElement == null) {\r\n            throw new JsonParseException(&quot;cannot deserialize &quot; + baseType\r\n                    + &quot; because it does not define a field named &quot; + typeFieldName);\r\n        }\r\n        String label = labelJsonElement.getAsString();\r\n        @SuppressWarnings(&quot;unchecked&quot;) // registration requires that subtype extends T\r\n                TypeAdapter&lt;R&gt; delegate = (TypeAdapter&lt;R&gt;) labelToDelegate.get(label);\r\n        if (delegate == null) {\r\n            // ------------- ADD THIS:\r\n            if (labelsToIgnore.contains(label)) {\r\n                return null;\r\n            } else {\r\n                throw new JsonParseException(&quot;cannot deserialize &quot; + baseType + &quot; subtype named &quot;\r\n                        + label + &quot;; did you forget to register a subtype?&quot;);\r\n            }\r\n            // -------------\r\n        }\r\n        return delegate.fromJsonTree(jsonElement);\r\n    }\r\n\r\n\r\nFinally use it like:\r\n\r\n    RuntimeTypeAdapterFactory&lt;BaseClass&gt; myTypeAdapterFactory \r\n    = RuntimeTypeAdapterFactory\r\n                    .of(BaseClass.class, &quot;type&quot;)\r\n                    .ignoreSubtype(&quot;type to ignore&quot;) // ADD THIS LINE\r\n                    .registerSubtype(SubtypeA.class, &quot;type_a&quot;)\r\n                    .registerSubtype(SubtypeB.class, &quot;type_b&quot;);          \r\n                    ...","title":"Ignore unregistered subtypes in RuntimeTypeAdapterFactory","body":"<p>We had a similar problem but GSON wasn't so silent. We were hitting the error:</p>\n\n<blockquote>\n  <p>cannot deserialize X subtype named Y; did you forget to register a\n  subtype?</p>\n</blockquote>\n\n<p>To implement @pirho 's solution we copied <code>RuntimeTypeAdapterFactory</code> into our project.</p>\n\n<p>1.) add a new field</p>\n\n<pre><code>private final Map&lt;String, Class&lt;?&gt;&gt; labelToSubtype = new LinkedHashMap&lt;String, Class&lt;?&gt;&gt;();\nprivate final Map&lt;Class&lt;?&gt;, String&gt; subtypeToLabel = new LinkedHashMap&lt;Class&lt;?&gt;, String&gt;();\nprivate final List&lt;String&gt; labelsToIgnore = new ArrayList&lt;&gt;(); // ADD THIS LINE\n</code></pre>\n\n<p>2.) add a new method:</p>\n\n<pre><code>public RuntimeTypeAdapterFactory&lt;T&gt; ignoreSubtype(String label) {\n    labelsToIgnore.add(label);\n    return this;\n}\n</code></pre>\n\n<p>3.) update the <code>read</code> method in the <code>TypeAdapter</code>:</p>\n\n<pre><code>public R read(final JsonReader in) {\n    JsonElement jsonElement = Streams.parse(in);\n    JsonElement labelJsonElement = jsonElement.getAsJsonObject().remove(typeFieldName);\n    if (labelJsonElement == null) {\n        throw new JsonParseException(\"cannot deserialize \" + baseType\n                + \" because it does not define a field named \" + typeFieldName);\n    }\n    String label = labelJsonElement.getAsString();\n    @SuppressWarnings(\"unchecked\") // registration requires that subtype extends T\n            TypeAdapter&lt;R&gt; delegate = (TypeAdapter&lt;R&gt;) labelToDelegate.get(label);\n    if (delegate == null) {\n        // ------------- ADD THIS:\n        if (labelsToIgnore.contains(label)) {\n            return null;\n        } else {\n            throw new JsonParseException(\"cannot deserialize \" + baseType + \" subtype named \"\n                    + label + \"; did you forget to register a subtype?\");\n        }\n        // -------------\n    }\n    return delegate.fromJsonTree(jsonElement);\n}\n</code></pre>\n\n<p>Finally use it like:</p>\n\n<pre><code>RuntimeTypeAdapterFactory&lt;BaseClass&gt; myTypeAdapterFactory \n= RuntimeTypeAdapterFactory\n                .of(BaseClass.class, \"type\")\n                .ignoreSubtype(\"type to ignore\") // ADD THIS LINE\n                .registerSubtype(SubtypeA.class, \"type_a\")\n                .registerSubtype(SubtypeB.class, \"type_b\");          \n                ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1438909,"reputation":1075,"user_id":1359643,"display_name":"Inoy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685651880,"creation_date":1685651880,"answer_id":76385546,"question_id":52333216,"body_markdown":"Beloved **Me**,\r\n\r\nIf you got here again - find `RequestSerializer` and add a `registerSubtype(SomeImportant.class)` there","title":"Ignore unregistered subtypes in RuntimeTypeAdapterFactory","body":"<p>Beloved <strong>Me</strong>,</p>\n<p>If you got here again - find <code>RequestSerializer</code> and add a <code>registerSubtype(SomeImportant.class)</code> there</p>\n"}],"owner":{"account_id":3768276,"reputation":16542,"user_id":3131147,"accept_rate":84,"display_name":"AdamMc331"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1326,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":52340289,"answer_count":3,"score":4,"last_activity_date":1685651880,"creation_date":1536932361,"question_id":52333216,"body_markdown":"We have a Retrofit API using GSON as the converter, and it makes a call for a list of cards to display to the user. A card follows this format:\r\n\r\n    [\r\n    \t{\r\n    \t\t&quot;cardType&quot;: &quot;user&quot;,\r\n    \t\t&quot;data&quot;: {}\r\n    \t},\r\n    \t{\r\n    \t\t&quot;cardType&quot;: &quot;content&quot;,\r\n    \t\t&quot;data&quot;: {}\r\n    \t}\r\n    ]\r\n\r\nThe `data` property varies between cards, so to resolve this we use GSON&#39;s `RuntimeTypeAdapterFactory`: \r\n\r\n    final RuntimeTypeAdapterFactory&lt;Card&gt; factory = RuntimeTypeAdapterFactory\r\n            .of(Card.class, &quot;cardType&quot;)\r\n            .registerSubtype(UserCard.class, &quot;user&quot;)\r\n            ...\r\n            .registerSubtype(ContentCard.class, &quot;content&quot;);\r\n\r\nHowever, we&#39;ve found that if the API is updated to include a _new_ cardType that we aren&#39;t expecting, this silently fails to deserialize. By silently I mean, `response.isSuccessful()` still returns true, but the `response.body()` is null. The only way we were able to determine the new card type was the problem was through trial and error.\r\n\r\nIs there any way to have GSON ignore any cardTypes that we haven&#39;t registered? If we try to add this new card but the app can&#39;t support it I would like to just ignore it. ","title":"Ignore unregistered subtypes in RuntimeTypeAdapterFactory","body":"<p>We have a Retrofit API using GSON as the converter, and it makes a call for a list of cards to display to the user. A card follows this format:</p>\n\n<pre><code>[\n    {\n        \"cardType\": \"user\",\n        \"data\": {}\n    },\n    {\n        \"cardType\": \"content\",\n        \"data\": {}\n    }\n]\n</code></pre>\n\n<p>The <code>data</code> property varies between cards, so to resolve this we use GSON's <code>RuntimeTypeAdapterFactory</code>: </p>\n\n<pre><code>final RuntimeTypeAdapterFactory&lt;Card&gt; factory = RuntimeTypeAdapterFactory\n        .of(Card.class, \"cardType\")\n        .registerSubtype(UserCard.class, \"user\")\n        ...\n        .registerSubtype(ContentCard.class, \"content\");\n</code></pre>\n\n<p>However, we've found that if the API is updated to include a <em>new</em> cardType that we aren't expecting, this silently fails to deserialize. By silently I mean, <code>response.isSuccessful()</code> still returns true, but the <code>response.body()</code> is null. The only way we were able to determine the new card type was the problem was through trial and error.</p>\n\n<p>Is there any way to have GSON ignore any cardTypes that we haven't registered? If we try to add this new card but the app can't support it I would like to just ignore it. </p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1685556333,"post_id":76375731,"comment_id":134678262,"body_markdown":"This should be possible just with the external CSS file, and without the lookups. That said, it&#39;s pretty intuitive to me that the chart legend would not be a scene graph descendent of the node associated with a particular series. Create and post a [mre]: if other users can copy, paste, and experiment with the code you have a much better chance of an answer.","body":"This should be possible just with the external CSS file, and without the lookups. That said, it&#39;s pretty intuitive to me that the chart legend would not be a scene graph descendent of the node associated with a particular series. Create and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>: if other users can copy, paste, and experiment with the code you have a much better chance of an answer."},{"owner":{"account_id":20509166,"reputation":37,"user_id":18729480,"display_name":"PluggaRose"},"score":0,"creation_date":1685570041,"post_id":76375731,"comment_id":134680561,"body_markdown":"I only need to redefine styles for certain `XYChart.Series`. I think I provided all the minimal reproducible example: axes with names, chart with names, Chart Serie swith names, adding CSS (in the question I completely showed my CSS file, there is almost nothing in it because I don&#39;t need to define styles for all the lines of the chart at once), adding Chart Series to chart and my attempt to redefine styles for a specific Chart Series. I don&#39;t think that all my calculations in the program and adding them to the Chart Series are so important here.","body":"I only need to redefine styles for certain <code>XYChart.Series</code>. I think I provided all the minimal reproducible example: axes with names, chart with names, Chart Serie swith names, adding CSS (in the question I completely showed my CSS file, there is almost nothing in it because I don&#39;t need to define styles for all the lines of the chart at once), adding Chart Series to chart and my attempt to redefine styles for a specific Chart Series. I don&#39;t think that all my calculations in the program and adding them to the Chart Series are so important here."},{"owner":{"account_id":20509166,"reputation":37,"user_id":18729480,"display_name":"PluggaRose"},"score":0,"creation_date":1685570843,"post_id":76375731,"comment_id":134680669,"body_markdown":"For example, as in HTML `&lt;div class=&quot;class-name&quot;&gt;`. If I understood correctly, then here you need to use several selectors with a standard name anyway. I also found a selector overriding the default properties. But there you can only redefine the style for the first 8 series. But in my case there are 17 of them.","body":"For example, as in HTML <code>&lt;div class=&quot;class-name&quot;&gt;</code>. If I understood correctly, then here you need to use several selectors with a standard name anyway. I also found a selector overriding the default properties. But there you can only redefine the style for the first 8 series. But in my case there are 17 of them."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1685608767,"post_id":76375731,"comment_id":134684812,"body_markdown":"_I think I provided all the minimal reproducible example_ no, you didn&#39;t: your snippets are neither compilable nor runnable as-is - please read the referenced help page to understand what&#39;s required","body":"<i>I think I provided all the minimal reproducible example</i> no, you didn&#39;t: your snippets are neither compilable nor runnable as-is - please read the referenced help page to understand what&#39;s required"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1685625328,"post_id":76375731,"comment_id":134688551,"body_markdown":"There is a lot of info on [styling charts with CSS](https://docs.oracle.com/javafx/2/charts/css-styles.htm) in the old Oracle documentation.  It may be outdated now but is probably still mostly relevant.  I advise reviewing the Oracle article and `modena.css`, which can be found inside your javafx controls jar for your distribution.  Then apply what you have learned and adapt it to your situation.","body":"There is a lot of info on <a href=\"https://docs.oracle.com/javafx/2/charts/css-styles.htm\" rel=\"nofollow noreferrer\">styling charts with CSS</a> in the old Oracle documentation.  It may be outdated now but is probably still mostly relevant.  I advise reviewing the Oracle article and <code>modena.css</code>, which can be found inside your javafx controls jar for your distribution.  Then apply what you have learned and adapt it to your situation."},{"owner":{"account_id":20509166,"reputation":37,"user_id":18729480,"display_name":"PluggaRose"},"score":0,"creation_date":1685627266,"post_id":76375731,"comment_id":134689102,"body_markdown":"Yes, I have already read this article. But it doesn&#39;t describe my option.  I tried to add more `.default-values.` But I didn&#39;t succeed. Apparently, javafx doesn&#39;t have many features for styling charts.","body":"Yes, I have already read this article. But it doesn&#39;t describe my option.  I tried to add more <code>.default-values.</code> But I didn&#39;t succeed. Apparently, javafx doesn&#39;t have many features for styling charts."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1685631398,"post_id":76375731,"comment_id":134690262,"body_markdown":"Just do `.chart-series-line.series&lt;n&gt;` to target the line and `.chart-line-symbol.series&lt;n&gt;` to target the line/legend symbol. That works for an arbitrarily large value of `n`, at least in JavaFX 20. Note the line is a `Path` by default, so set `-fx-stroke`, and the symbol is a `Region` by default, so set `-fx-background-color`.","body":"Just do <code>.chart-series-line.series&lt;n&gt;</code> to target the line and <code>.chart-line-symbol.series&lt;n&gt;</code> to target the line/legend symbol. That works for an arbitrarily large value of <code>n</code>, at least in JavaFX 20. Note the line is a <code>Path</code> by default, so set <code>-fx-stroke</code>, and the symbol is a <code>Region</code> by default, so set <code>-fx-background-color</code>."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1685651411,"creation_date":1685633647,"answer_id":76383545,"question_id":76375731,"body_markdown":"Example for generating a chart with 17 different colors for the series.\r\n\r\nThe example generates a stylesheet in code, then applies that, which has some flexibility because you can change the generation function to create whatever style you want dynamically at runtime.  But you could use a static stylesheet instead if that fits your purpose.\r\n\r\nAfter I wrote this, I noted Slaw posted a similar idea in comments:\r\n\r\n&gt; Just do `.chart-series-line.series&lt;n&gt;` to target the line and `.chart-line-symbol.series&lt;n&gt;` to target the line/legend symbol.\r\n&gt;\r\n&gt; That works for an arbitrarily large value of n, at least in JavaFX 20. \r\n&gt;\r\n&gt; Note the line is a Path by default, so set `-fx-stroke`, and the symbol is a Region by default, so set `-fx-background-color`.\r\n\r\nThe insight (for me) on finding the correct CSS selectors to use was by looking at how the selectors from `modena.css` are applied in [the `LineChart` code](https://github.com/openjdk/jfx/blob/de8339d45a9e070598fa0ddc91c36fe74c67a956/modules/javafx.controls/src/main/java/javafx/scene/chart/LineChart.java#L377).\r\n\r\n[![linechart][1]][1]\r\n\r\n**Example Many Colored Chart**\r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.chart.LineChart;\r\n    import javafx.scene.chart.NumberAxis;\r\n    import javafx.scene.chart.XYChart;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class LineChartSample extends Application {\r\n    \r\n        private final String[] CHART_COLOR_NAMES = {\r\n                &quot;blue&quot;,\r\n                &quot;blueviolet&quot;,\r\n                &quot;burlywood&quot;,\r\n                &quot;cadetblue&quot;,\r\n                &quot;chartreuse&quot;,\r\n                &quot;chocolate&quot;,\r\n                &quot;cornflowerblue&quot;,\r\n                &quot;red&quot;,\r\n                &quot;cyan&quot;,\r\n                &quot;darkgreen&quot;,\r\n                &quot;darkmagenta&quot;,\r\n                &quot;darksalmon&quot;,\r\n                &quot;darkseagreen&quot;,\r\n                &quot;deeppink&quot;,\r\n                &quot;gold&quot;,\r\n                &quot;grey&quot;,\r\n                &quot;indigo&quot;\r\n        };\r\n    \r\n        private static final String CSS_DATA_URL_TYPE = &quot;data:text/css,&quot;;\r\n        private static final String LINE_CHART_SERIES_CSS_TEMPLATE =\r\n               &quot;&quot;&quot;\r\n               .series%d.chart-line-symbol { -fx-background-color: %s, white; }\r\n               .series%d.chart-series-line { -fx-stroke: %s; }\r\n               &quot;&quot;&quot;;\r\n    \r\n        @Override public void start(Stage stage) {\r\n            final NumberAxis xAxis = new NumberAxis();\r\n            final NumberAxis yAxis = new NumberAxis();\r\n    \r\n            xAxis.setLabel(&quot;Number of Month&quot;);\r\n            final LineChart&lt;Number,Number&gt; lineChart = new LineChart&lt;&gt;(xAxis, yAxis);\r\n            lineChart.getStylesheets().add(\r\n                    createLineChartStyleSheet()\r\n            );\r\n    \r\n            for (int i = 0; i &lt; CHART_COLOR_NAMES.length; i++) {\r\n                XYChart.Series&lt;Number, Number&gt; series = new XYChart.Series&lt;&gt;();\r\n                series.setName(&quot;Series &quot; + i + &quot; &quot; + CHART_COLOR_NAMES[i]);\r\n    \r\n                genChartData(i * 5, series);\r\n    \r\n                lineChart.getData().add(series);\r\n            }\r\n    \r\n            Scene scene = new Scene(lineChart,800,600);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        private static void genChartData(int offset, XYChart.Series&lt;Number, Number&gt; series) {\r\n            series.getData().add(new XYChart.Data&lt;&gt;(1, 23 + offset));\r\n            series.getData().add(new XYChart.Data&lt;&gt;(2, 14 + offset));\r\n            series.getData().add(new XYChart.Data&lt;&gt;(4, 24 + offset));\r\n            series.getData().add(new XYChart.Data&lt;&gt;(5, 34 + offset));\r\n            series.getData().add(new XYChart.Data&lt;&gt;(6, 36 + offset));\r\n            series.getData().add(new XYChart.Data&lt;&gt;(7, 22 + offset));\r\n            series.getData().add(new XYChart.Data&lt;&gt;(8, 45 + offset));\r\n            series.getData().add(new XYChart.Data&lt;&gt;(9, 43 + offset));\r\n            series.getData().add(new XYChart.Data&lt;&gt;(10, 17 + offset));\r\n            series.getData().add(new XYChart.Data&lt;&gt;(11, 29 + offset));\r\n            series.getData().add(new XYChart.Data&lt;&gt;(12, 25 + offset));\r\n        }\r\n    \r\n        private String createLineChartStyleSheet() {\r\n            StringBuilder cssBuf = new StringBuilder(CSS_DATA_URL_TYPE);\r\n    \r\n            for (int i = 0; i &lt; CHART_COLOR_NAMES.length; i++) {\r\n                cssBuf.append(\r\n                        LINE_CHART_SERIES_CSS_TEMPLATE\r\n                                .formatted(\r\n                                        i, CHART_COLOR_NAMES[i],\r\n                                        i, CHART_COLOR_NAMES[i]\r\n                                )\r\n                );\r\n            }\r\n    \r\n            return cssBuf.toString();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\n**Example Static CSS for Many Colored Chart**\r\n\r\nIf you wanted to do this statically rather than generating the CSS, the CSS would be:\r\n\r\n    .series0.chart-line-symbol { -fx-background-color: blue, white; }\r\n    .series0.chart-series-line { -fx-stroke: blue; }\r\n    .series1.chart-line-symbol { -fx-background-color: blueviolet, white; }\r\n    .series1.chart-series-line { -fx-stroke: blueviolet; }\r\n    .series2.chart-line-symbol { -fx-background-color: burlywood, white; }\r\n    .series2.chart-series-line { -fx-stroke: burlywood; }\r\n    .series3.chart-line-symbol { -fx-background-color: cadetblue, white; }\r\n    .series3.chart-series-line { -fx-stroke: cadetblue; }\r\n    .series4.chart-line-symbol { -fx-background-color: chartreuse, white; }\r\n    .series4.chart-series-line { -fx-stroke: chartreuse; }\r\n    .series5.chart-line-symbol { -fx-background-color: chocolate, white; }\r\n    .series5.chart-series-line { -fx-stroke: chocolate; }\r\n    .series6.chart-line-symbol { -fx-background-color: cornflowerblue, white; }\r\n    .series6.chart-series-line { -fx-stroke: cornflowerblue; }\r\n    .series7.chart-line-symbol { -fx-background-color: red, white; }\r\n    .series7.chart-series-line { -fx-stroke: red; }\r\n    .series8.chart-line-symbol { -fx-background-color: cyan, white; }\r\n    .series8.chart-series-line { -fx-stroke: cyan; }\r\n    .series9.chart-line-symbol { -fx-background-color: darkgreen, white; }\r\n    .series9.chart-series-line { -fx-stroke: darkgreen; }\r\n    .series10.chart-line-symbol { -fx-background-color: darkmagenta, white; }\r\n    .series10.chart-series-line { -fx-stroke: darkmagenta; }\r\n    .series11.chart-line-symbol { -fx-background-color: darksalmon, white; }\r\n    .series11.chart-series-line { -fx-stroke: darksalmon; }\r\n    .series12.chart-line-symbol { -fx-background-color: darkseagreen, white; }\r\n    .series12.chart-series-line { -fx-stroke: darkseagreen; }\r\n    .series13.chart-line-symbol { -fx-background-color: deeppink, white; }\r\n    .series13.chart-series-line { -fx-stroke: deeppink; }\r\n    .series14.chart-line-symbol { -fx-background-color: gold, white; }\r\n    .series14.chart-series-line { -fx-stroke: gold; }\r\n    .series15.chart-line-symbol { -fx-background-color: grey, white; }\r\n    .series15.chart-series-line { -fx-stroke: grey; }\r\n    .series16.chart-line-symbol { -fx-background-color: indigo, white; }\r\n    .series16.chart-series-line { -fx-stroke: indigo; }\r\n\r\n**Example with Interactivity**\r\n\r\nIf you wish to change the styles at runtime, you can dynamically generate a new style sheet with different values and replace the existing stylesheet on the line chart with your new one.  Or, you can define different style classes and change the associated style classes for the series when the series node is interacted with.\r\n\r\nThe example below demonstrates the changing style class technique.\r\n\r\nIf you hover over a line in a series, it will be highlighted.  If you click on it, the style class to make the line dashed will be added or removed to indicate that the series has been selected.  For simplification, the interactivity is only placed on the line, but you could also do the same for the symbols if you wished (to do that you would need to get the symbol nodes from the data and modify the style class).  Adding similar interactivity to the legend would be a bit trickier as I am not sure there is enough public API to access it.\r\n\r\n    import javafx.application.Application;\r\n    import javafx.collections.ObservableList;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.chart.LineChart;\r\n    import javafx.scene.chart.NumberAxis;\r\n    import javafx.scene.chart.XYChart;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class LineChartHighlightSample extends Application {\r\n    \r\n        private static final String[] CHART_COLOR_NAMES = {\r\n                &quot;blue&quot;,\r\n                &quot;blueviolet&quot;,\r\n                &quot;burlywood&quot;,\r\n                &quot;cadetblue&quot;,\r\n                &quot;chartreuse&quot;,\r\n                &quot;chocolate&quot;,\r\n                &quot;cornflowerblue&quot;,\r\n                &quot;red&quot;,\r\n                &quot;cyan&quot;,\r\n                &quot;darkgreen&quot;,\r\n                &quot;darkmagenta&quot;,\r\n                &quot;darksalmon&quot;,\r\n                &quot;darkseagreen&quot;,\r\n                &quot;deeppink&quot;,\r\n                &quot;gold&quot;,\r\n                &quot;grey&quot;,\r\n                &quot;indigo&quot;\r\n        };\r\n    \r\n        private static final String CSS_DATA_URL_TYPE = &quot;data:text/css,&quot;;\r\n        private static final String LINE_CHART_SERIES_CSS_TEMPLATE =\r\n               &quot;&quot;&quot;\r\n               .series%d.chart-line-symbol { -fx-background-color: %s, white; }\r\n               .series%d.chart-series-line { -fx-stroke: %s; }\r\n               .series%d.chart-series-line:hover { -fx-effect: dropshadow(gaussian, gold, 10, 0, 0, 0); }\r\n               .series%d.chart-series-line.selected { -fx-stroke: %s; -fx-stroke-dash-array: 12 8; }\r\n               &quot;&quot;&quot;;\r\n    \r\n        private static final String SELECTED_SERIES_STYLE_CLASS = &quot;selected&quot;;\r\n    \r\n        @Override public void start(Stage stage) {\r\n            final NumberAxis xAxis = new NumberAxis();\r\n            final NumberAxis yAxis = new NumberAxis();\r\n    \r\n            xAxis.setLabel(&quot;Number of Month&quot;);\r\n            final LineChart&lt;Number,Number&gt; lineChart = new LineChart&lt;&gt;(xAxis, yAxis);\r\n            lineChart.getStylesheets().add(\r\n                    createLineChartStyleSheet()\r\n            );\r\n    \r\n            for (int i = 0; i &lt; CHART_COLOR_NAMES.length; i++) {\r\n                XYChart.Series&lt;Number, Number&gt; series = new XYChart.Series&lt;&gt;();\r\n                series.setName(&quot;Series &quot; + i + &quot; &quot; + CHART_COLOR_NAMES[i]);\r\n    \r\n                genChartData(i * 5, series);\r\n    \r\n                lineChart.getData().add(series);\r\n    \r\n                final int finalIdx = i;\r\n                series.getNode().setOnMouseClicked(e -&gt; handleSeriesClicked(lineChart, finalIdx));\r\n            }\r\n    \r\n            Scene scene = new Scene(lineChart,800,600);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        private void handleSeriesClicked(LineChart&lt;Number, Number&gt; lineChart, int seriesIdx) {\r\n            ObservableList&lt;String&gt; styleClasses =\r\n                    lineChart\r\n                            .getData()\r\n                            .get(seriesIdx)\r\n                            .getNode()\r\n                            .getStyleClass();\r\n    \r\n            if (styleClasses.contains(SELECTED_SERIES_STYLE_CLASS)) {\r\n                styleClasses.remove(SELECTED_SERIES_STYLE_CLASS);\r\n            } else {\r\n                styleClasses.add(SELECTED_SERIES_STYLE_CLASS);\r\n            }\r\n        }\r\n    \r\n        private static void genChartData(int offset, XYChart.Series&lt;Number, Number&gt; series) {\r\n            series.getData().add(new XYChart.Data&lt;&gt;(1, 23 + offset));\r\n            series.getData().add(new XYChart.Data&lt;&gt;(2, 14 + offset));\r\n            series.getData().add(new XYChart.Data&lt;&gt;(4, 24 + offset));\r\n            series.getData().add(new XYChart.Data&lt;&gt;(5, 34 + offset));\r\n            series.getData().add(new XYChart.Data&lt;&gt;(6, 36 + offset));\r\n            series.getData().add(new XYChart.Data&lt;&gt;(7, 22 + offset));\r\n            series.getData().add(new XYChart.Data&lt;&gt;(8, 45 + offset));\r\n            series.getData().add(new XYChart.Data&lt;&gt;(9, 43 + offset));\r\n            series.getData().add(new XYChart.Data&lt;&gt;(10, 17 + offset));\r\n            series.getData().add(new XYChart.Data&lt;&gt;(11, 29 + offset));\r\n            series.getData().add(new XYChart.Data&lt;&gt;(12, 25 + offset));\r\n        }\r\n    \r\n        private String createLineChartStyleSheet() {\r\n            StringBuilder cssBuf = new StringBuilder(CSS_DATA_URL_TYPE);\r\n    \r\n            for (int i = 0; i &lt; CHART_COLOR_NAMES.length; i++) {\r\n                cssBuf.append(\r\n                        LINE_CHART_SERIES_CSS_TEMPLATE\r\n                                .formatted(\r\n                                        i, CHART_COLOR_NAMES[i],\r\n                                        i, CHART_COLOR_NAMES[i],\r\n                                        i, i, CHART_COLOR_NAMES[i]\r\n                                )\r\n                );\r\n            }\r\n    \r\n            System.out.println(cssBuf);\r\n    \r\n            return cssBuf.toString();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/vaczd.png\r\n","title":"Changing styles of individual lines drawn in JavaFX","body":"<p>Example for generating a chart with 17 different colors for the series.</p>\n<p>The example generates a stylesheet in code, then applies that, which has some flexibility because you can change the generation function to create whatever style you want dynamically at runtime.  But you could use a static stylesheet instead if that fits your purpose.</p>\n<p>After I wrote this, I noted Slaw posted a similar idea in comments:</p>\n<blockquote>\n<p>Just do <code>.chart-series-line.series&lt;n&gt;</code> to target the line and <code>.chart-line-symbol.series&lt;n&gt;</code> to target the line/legend symbol.</p>\n<p>That works for an arbitrarily large value of n, at least in JavaFX 20.</p>\n<p>Note the line is a Path by default, so set <code>-fx-stroke</code>, and the symbol is a Region by default, so set <code>-fx-background-color</code>.</p>\n</blockquote>\n<p>The insight (for me) on finding the correct CSS selectors to use was by looking at how the selectors from <code>modena.css</code> are applied in <a href=\"https://github.com/openjdk/jfx/blob/de8339d45a9e070598fa0ddc91c36fe74c67a956/modules/javafx.controls/src/main/java/javafx/scene/chart/LineChart.java#L377\" rel=\"nofollow noreferrer\">the <code>LineChart</code> code</a>.</p>\n<p><a href=\"https://i.stack.imgur.com/vaczd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vaczd.png\" alt=\"linechart\" /></a></p>\n<p><strong>Example Many Colored Chart</strong></p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.chart.LineChart;\nimport javafx.scene.chart.NumberAxis;\nimport javafx.scene.chart.XYChart;\nimport javafx.stage.Stage;\n\npublic class LineChartSample extends Application {\n\n    private final String[] CHART_COLOR_NAMES = {\n            &quot;blue&quot;,\n            &quot;blueviolet&quot;,\n            &quot;burlywood&quot;,\n            &quot;cadetblue&quot;,\n            &quot;chartreuse&quot;,\n            &quot;chocolate&quot;,\n            &quot;cornflowerblue&quot;,\n            &quot;red&quot;,\n            &quot;cyan&quot;,\n            &quot;darkgreen&quot;,\n            &quot;darkmagenta&quot;,\n            &quot;darksalmon&quot;,\n            &quot;darkseagreen&quot;,\n            &quot;deeppink&quot;,\n            &quot;gold&quot;,\n            &quot;grey&quot;,\n            &quot;indigo&quot;\n    };\n\n    private static final String CSS_DATA_URL_TYPE = &quot;data:text/css,&quot;;\n    private static final String LINE_CHART_SERIES_CSS_TEMPLATE =\n           &quot;&quot;&quot;\n           .series%d.chart-line-symbol { -fx-background-color: %s, white; }\n           .series%d.chart-series-line { -fx-stroke: %s; }\n           &quot;&quot;&quot;;\n\n    @Override public void start(Stage stage) {\n        final NumberAxis xAxis = new NumberAxis();\n        final NumberAxis yAxis = new NumberAxis();\n\n        xAxis.setLabel(&quot;Number of Month&quot;);\n        final LineChart&lt;Number,Number&gt; lineChart = new LineChart&lt;&gt;(xAxis, yAxis);\n        lineChart.getStylesheets().add(\n                createLineChartStyleSheet()\n        );\n\n        for (int i = 0; i &lt; CHART_COLOR_NAMES.length; i++) {\n            XYChart.Series&lt;Number, Number&gt; series = new XYChart.Series&lt;&gt;();\n            series.setName(&quot;Series &quot; + i + &quot; &quot; + CHART_COLOR_NAMES[i]);\n\n            genChartData(i * 5, series);\n\n            lineChart.getData().add(series);\n        }\n\n        Scene scene = new Scene(lineChart,800,600);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    private static void genChartData(int offset, XYChart.Series&lt;Number, Number&gt; series) {\n        series.getData().add(new XYChart.Data&lt;&gt;(1, 23 + offset));\n        series.getData().add(new XYChart.Data&lt;&gt;(2, 14 + offset));\n        series.getData().add(new XYChart.Data&lt;&gt;(4, 24 + offset));\n        series.getData().add(new XYChart.Data&lt;&gt;(5, 34 + offset));\n        series.getData().add(new XYChart.Data&lt;&gt;(6, 36 + offset));\n        series.getData().add(new XYChart.Data&lt;&gt;(7, 22 + offset));\n        series.getData().add(new XYChart.Data&lt;&gt;(8, 45 + offset));\n        series.getData().add(new XYChart.Data&lt;&gt;(9, 43 + offset));\n        series.getData().add(new XYChart.Data&lt;&gt;(10, 17 + offset));\n        series.getData().add(new XYChart.Data&lt;&gt;(11, 29 + offset));\n        series.getData().add(new XYChart.Data&lt;&gt;(12, 25 + offset));\n    }\n\n    private String createLineChartStyleSheet() {\n        StringBuilder cssBuf = new StringBuilder(CSS_DATA_URL_TYPE);\n\n        for (int i = 0; i &lt; CHART_COLOR_NAMES.length; i++) {\n            cssBuf.append(\n                    LINE_CHART_SERIES_CSS_TEMPLATE\n                            .formatted(\n                                    i, CHART_COLOR_NAMES[i],\n                                    i, CHART_COLOR_NAMES[i]\n                            )\n            );\n        }\n\n        return cssBuf.toString();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p><strong>Example Static CSS for Many Colored Chart</strong></p>\n<p>If you wanted to do this statically rather than generating the CSS, the CSS would be:</p>\n<pre><code>.series0.chart-line-symbol { -fx-background-color: blue, white; }\n.series0.chart-series-line { -fx-stroke: blue; }\n.series1.chart-line-symbol { -fx-background-color: blueviolet, white; }\n.series1.chart-series-line { -fx-stroke: blueviolet; }\n.series2.chart-line-symbol { -fx-background-color: burlywood, white; }\n.series2.chart-series-line { -fx-stroke: burlywood; }\n.series3.chart-line-symbol { -fx-background-color: cadetblue, white; }\n.series3.chart-series-line { -fx-stroke: cadetblue; }\n.series4.chart-line-symbol { -fx-background-color: chartreuse, white; }\n.series4.chart-series-line { -fx-stroke: chartreuse; }\n.series5.chart-line-symbol { -fx-background-color: chocolate, white; }\n.series5.chart-series-line { -fx-stroke: chocolate; }\n.series6.chart-line-symbol { -fx-background-color: cornflowerblue, white; }\n.series6.chart-series-line { -fx-stroke: cornflowerblue; }\n.series7.chart-line-symbol { -fx-background-color: red, white; }\n.series7.chart-series-line { -fx-stroke: red; }\n.series8.chart-line-symbol { -fx-background-color: cyan, white; }\n.series8.chart-series-line { -fx-stroke: cyan; }\n.series9.chart-line-symbol { -fx-background-color: darkgreen, white; }\n.series9.chart-series-line { -fx-stroke: darkgreen; }\n.series10.chart-line-symbol { -fx-background-color: darkmagenta, white; }\n.series10.chart-series-line { -fx-stroke: darkmagenta; }\n.series11.chart-line-symbol { -fx-background-color: darksalmon, white; }\n.series11.chart-series-line { -fx-stroke: darksalmon; }\n.series12.chart-line-symbol { -fx-background-color: darkseagreen, white; }\n.series12.chart-series-line { -fx-stroke: darkseagreen; }\n.series13.chart-line-symbol { -fx-background-color: deeppink, white; }\n.series13.chart-series-line { -fx-stroke: deeppink; }\n.series14.chart-line-symbol { -fx-background-color: gold, white; }\n.series14.chart-series-line { -fx-stroke: gold; }\n.series15.chart-line-symbol { -fx-background-color: grey, white; }\n.series15.chart-series-line { -fx-stroke: grey; }\n.series16.chart-line-symbol { -fx-background-color: indigo, white; }\n.series16.chart-series-line { -fx-stroke: indigo; }\n</code></pre>\n<p><strong>Example with Interactivity</strong></p>\n<p>If you wish to change the styles at runtime, you can dynamically generate a new style sheet with different values and replace the existing stylesheet on the line chart with your new one.  Or, you can define different style classes and change the associated style classes for the series when the series node is interacted with.</p>\n<p>The example below demonstrates the changing style class technique.</p>\n<p>If you hover over a line in a series, it will be highlighted.  If you click on it, the style class to make the line dashed will be added or removed to indicate that the series has been selected.  For simplification, the interactivity is only placed on the line, but you could also do the same for the symbols if you wished (to do that you would need to get the symbol nodes from the data and modify the style class).  Adding similar interactivity to the legend would be a bit trickier as I am not sure there is enough public API to access it.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.collections.ObservableList;\nimport javafx.scene.Scene;\nimport javafx.scene.chart.LineChart;\nimport javafx.scene.chart.NumberAxis;\nimport javafx.scene.chart.XYChart;\nimport javafx.stage.Stage;\n\npublic class LineChartHighlightSample extends Application {\n\n    private static final String[] CHART_COLOR_NAMES = {\n            &quot;blue&quot;,\n            &quot;blueviolet&quot;,\n            &quot;burlywood&quot;,\n            &quot;cadetblue&quot;,\n            &quot;chartreuse&quot;,\n            &quot;chocolate&quot;,\n            &quot;cornflowerblue&quot;,\n            &quot;red&quot;,\n            &quot;cyan&quot;,\n            &quot;darkgreen&quot;,\n            &quot;darkmagenta&quot;,\n            &quot;darksalmon&quot;,\n            &quot;darkseagreen&quot;,\n            &quot;deeppink&quot;,\n            &quot;gold&quot;,\n            &quot;grey&quot;,\n            &quot;indigo&quot;\n    };\n\n    private static final String CSS_DATA_URL_TYPE = &quot;data:text/css,&quot;;\n    private static final String LINE_CHART_SERIES_CSS_TEMPLATE =\n           &quot;&quot;&quot;\n           .series%d.chart-line-symbol { -fx-background-color: %s, white; }\n           .series%d.chart-series-line { -fx-stroke: %s; }\n           .series%d.chart-series-line:hover { -fx-effect: dropshadow(gaussian, gold, 10, 0, 0, 0); }\n           .series%d.chart-series-line.selected { -fx-stroke: %s; -fx-stroke-dash-array: 12 8; }\n           &quot;&quot;&quot;;\n\n    private static final String SELECTED_SERIES_STYLE_CLASS = &quot;selected&quot;;\n\n    @Override public void start(Stage stage) {\n        final NumberAxis xAxis = new NumberAxis();\n        final NumberAxis yAxis = new NumberAxis();\n\n        xAxis.setLabel(&quot;Number of Month&quot;);\n        final LineChart&lt;Number,Number&gt; lineChart = new LineChart&lt;&gt;(xAxis, yAxis);\n        lineChart.getStylesheets().add(\n                createLineChartStyleSheet()\n        );\n\n        for (int i = 0; i &lt; CHART_COLOR_NAMES.length; i++) {\n            XYChart.Series&lt;Number, Number&gt; series = new XYChart.Series&lt;&gt;();\n            series.setName(&quot;Series &quot; + i + &quot; &quot; + CHART_COLOR_NAMES[i]);\n\n            genChartData(i * 5, series);\n\n            lineChart.getData().add(series);\n\n            final int finalIdx = i;\n            series.getNode().setOnMouseClicked(e -&gt; handleSeriesClicked(lineChart, finalIdx));\n        }\n\n        Scene scene = new Scene(lineChart,800,600);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    private void handleSeriesClicked(LineChart&lt;Number, Number&gt; lineChart, int seriesIdx) {\n        ObservableList&lt;String&gt; styleClasses =\n                lineChart\n                        .getData()\n                        .get(seriesIdx)\n                        .getNode()\n                        .getStyleClass();\n\n        if (styleClasses.contains(SELECTED_SERIES_STYLE_CLASS)) {\n            styleClasses.remove(SELECTED_SERIES_STYLE_CLASS);\n        } else {\n            styleClasses.add(SELECTED_SERIES_STYLE_CLASS);\n        }\n    }\n\n    private static void genChartData(int offset, XYChart.Series&lt;Number, Number&gt; series) {\n        series.getData().add(new XYChart.Data&lt;&gt;(1, 23 + offset));\n        series.getData().add(new XYChart.Data&lt;&gt;(2, 14 + offset));\n        series.getData().add(new XYChart.Data&lt;&gt;(4, 24 + offset));\n        series.getData().add(new XYChart.Data&lt;&gt;(5, 34 + offset));\n        series.getData().add(new XYChart.Data&lt;&gt;(6, 36 + offset));\n        series.getData().add(new XYChart.Data&lt;&gt;(7, 22 + offset));\n        series.getData().add(new XYChart.Data&lt;&gt;(8, 45 + offset));\n        series.getData().add(new XYChart.Data&lt;&gt;(9, 43 + offset));\n        series.getData().add(new XYChart.Data&lt;&gt;(10, 17 + offset));\n        series.getData().add(new XYChart.Data&lt;&gt;(11, 29 + offset));\n        series.getData().add(new XYChart.Data&lt;&gt;(12, 25 + offset));\n    }\n\n    private String createLineChartStyleSheet() {\n        StringBuilder cssBuf = new StringBuilder(CSS_DATA_URL_TYPE);\n\n        for (int i = 0; i &lt; CHART_COLOR_NAMES.length; i++) {\n            cssBuf.append(\n                    LINE_CHART_SERIES_CSS_TEMPLATE\n                            .formatted(\n                                    i, CHART_COLOR_NAMES[i],\n                                    i, CHART_COLOR_NAMES[i],\n                                    i, i, CHART_COLOR_NAMES[i]\n                            )\n            );\n        }\n\n        System.out.println(cssBuf);\n\n        return cssBuf.toString();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20509166,"reputation":37,"user_id":18729480,"display_name":"PluggaRose"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76383545,"answer_count":1,"score":-1,"last_activity_date":1685651411,"creation_date":1685551658,"question_id":76375731,"body_markdown":"I need to change the styles of the graph lines. At the moment, I have connected the CSS file and found how to change styles I need. But these parameters only apply to all lines. In .java, I found the ability to change these parameters, but I can&#39;t change multiple parameters at the same time. I can change the line type of the graph and the point color, but I can&#39;t change the point color of the legend. Here is the error that the IDE gives me:\r\n```\r\nException in Application start method\r\njava.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1082)\r\nCaused by: java.lang.RuntimeException: Exception in Application start method\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.Node.setStyle(String)&quot; because the return value of &quot;javafx.scene.Node.lookup(String)&quot; is null\r\n\tat com.example.lab2_int/com.example.lab2_int.HelloApplication.start(HelloApplication.java:290)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\r\n\tat javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n\t... 1 more\r\nException running application com.example.lab2_int.HelloApplication\r\n```\r\n\r\nMy code(I give only the necessary parts, if you need more code, you can say about it):\r\n```\r\n       package com.example.lab3_int;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.chart.LineChart;\r\nimport javafx.scene.chart.NumberAxis;\r\nimport javafx.scene.chart.XYChart;\r\nimport javafx.scene.layout.GridPane;\r\nimport javafx.stage.Stage;\r\nimport javafx.scene.Node;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class HelloApplication extends Application {\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        NumberAxis xAxis0 = new NumberAxis();\r\n        NumberAxis yAxis0 = new NumberAxis();\r\n\r\n        LineChart&lt;Number, Number&gt; lineChart0 = new  LineChart&lt;&gt;(xAxis0, yAxis0);\r\n\r\n        XYChart.Series&lt;Number, Number&gt; exception_g = new XYChart.Series&lt;&gt;();\r\n        exception_g.setName(&quot;Exceptions&quot;);\r\n        XYChart.Series&lt;Number, Number&gt; w0_g = new XYChart.Series&lt;&gt;();\r\n        w0_g.setName(&quot;w0&quot;);\r\n        XYChart.Series&lt;Number, Number&gt; w1_g = new XYChart.Series&lt;&gt;();\r\n        w1_g.setName(&quot;w1&quot;);\r\n        XYChart.Series&lt;Number, Number&gt; w2_g = new XYChart.Series&lt;&gt;();\r\n        w2_g.setName(&quot;w2&quot;);\r\n        XYChart.Series&lt;Number, Number&gt; w3_g = new XYChart.Series&lt;&gt;();\r\n        w3_g.setName(&quot;w3&quot;);\r\n\r\n        exception_g.getData().add(new XYChart.Data&lt;&gt;(0,7));\r\n        exception_g.getData().add(new XYChart.Data&lt;&gt;(1,17));\r\n        exception_g.getData().add(new XYChart.Data&lt;&gt;(2,-2));\r\n\r\n        w0_g.getData().add(new XYChart.Data&lt;&gt;(0,11));\r\n        w0_g.getData().add(new XYChart.Data&lt;&gt;(1,6));\r\n        w0_g.getData().add(new XYChart.Data&lt;&gt;(2,0));\r\n\r\n        w1_g.getData().add(new XYChart.Data&lt;&gt;(0,-7));\r\n        w1_g.getData().add(new XYChart.Data&lt;&gt;(1,9));\r\n        w1_g.getData().add(new XYChart.Data&lt;&gt;(2,13));\r\n\r\n        w2_g.getData().add(new XYChart.Data&lt;&gt;(0,9));\r\n        w2_g.getData().add(new XYChart.Data&lt;&gt;(1,2));\r\n        w2_g.getData().add(new XYChart.Data&lt;&gt;(2,5));\r\n\r\n        w3_g.getData().add(new XYChart.Data&lt;&gt;(0,14));\r\n        w3_g.getData().add(new XYChart.Data&lt;&gt;(1,-10));\r\n        w3_g.getData().add(new XYChart.Data&lt;&gt;(2,5));\r\n\r\n\r\n        lineChart0.getStylesheets().add(&quot;/stylesheet.css&quot;);\r\n\r\n\r\n        lineChart0.getData().add(exception_g);\r\n        lineChart0.getData().add(w0_g);\r\n        lineChart0.getData().add(w1_g);\r\n        lineChart0.getData().add(w2_g);\r\n        lineChart0.getData().add(w3_g);\r\n\r\n\r\n        exception_g.getNode().lookup(&quot;.chart-series-line&quot;).setStyle(&quot;-fx-stroke: black;-fx-stroke-dash-array: 5 5;&quot;);\r\n        for (XYChart.Data&lt;Number, Number&gt; data : exception_g.getData()) {\r\n            Node symbol = data.getNode().lookup(&quot;.chart-line-symbol&quot;);\r\n            symbol.setStyle(&quot;-fx-background-color: black, white;&quot;);\r\n        }\r\n        exception_g.getNode().lookup(&quot;.chart-legend&quot;).setStyle(&quot;-fx-background-color: black, white;&quot;); //It is this line that the ide refers to.\r\n\r\n        GridPane pane = new GridPane();\r\n        pane.add(lineChart0, 0, 0);\r\n\r\n        Scene scene = new Scene(pane, 1920, 1000);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\n\r\nI decided to leave the selectors empty in the css file:\r\n\r\n```\r\n.chart-series-line:{\r\n}\r\n\r\n.chart-line-symbol{\r\n}\r\n\r\n.chart-legend{\r\n}\r\n```\r\n\r\nWithout this line( ```exception_g.getNode().lookup(&quot;.chart-legend&quot;).setStyle(&quot;-fx-background-color: black, white;&quot;);``` ), everything works fine except for the legend, like this:[![enter image description here][1]][1]\r\n\r\nPerhaps there is some way to change the parameters of the lines directly in css. I tried use selector ```.chart-series-line:series(0) {...}``` in CSS with the name of my axis, and with the line id, but it didn&#39;t help. Or else everything is not so simple here and it is necessary to prescribe in .java file all styles. Both solutions to this problem will work.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GRyZJ.png","title":"Changing styles of individual lines drawn in JavaFX","body":"<p>I need to change the styles of the graph lines. At the moment, I have connected the CSS file and found how to change styles I need. But these parameters only apply to all lines. In .java, I found the ability to change these parameters, but I can't change multiple parameters at the same time. I can change the line type of the graph and the point color, but I can't change the point color of the legend. Here is the error that the IDE gives me:</p>\n<pre><code>Exception in Application start method\njava.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1082)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.Node.setStyle(String)&quot; because the return value of &quot;javafx.scene.Node.lookup(String)&quot; is null\n    at com.example.lab2_int/com.example.lab2_int.HelloApplication.start(HelloApplication.java:290)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\n    at javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n    ... 1 more\nException running application com.example.lab2_int.HelloApplication\n</code></pre>\n<p>My code(I give only the necessary parts, if you need more code, you can say about it):</p>\n<pre><code>       package com.example.lab3_int;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.scene.chart.LineChart;\nimport javafx.scene.chart.NumberAxis;\nimport javafx.scene.chart.XYChart;\nimport javafx.scene.layout.GridPane;\nimport javafx.stage.Stage;\nimport javafx.scene.Node;\n\nimport java.io.IOException;\n\npublic class HelloApplication extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        NumberAxis xAxis0 = new NumberAxis();\n        NumberAxis yAxis0 = new NumberAxis();\n\n        LineChart&lt;Number, Number&gt; lineChart0 = new  LineChart&lt;&gt;(xAxis0, yAxis0);\n\n        XYChart.Series&lt;Number, Number&gt; exception_g = new XYChart.Series&lt;&gt;();\n        exception_g.setName(&quot;Exceptions&quot;);\n        XYChart.Series&lt;Number, Number&gt; w0_g = new XYChart.Series&lt;&gt;();\n        w0_g.setName(&quot;w0&quot;);\n        XYChart.Series&lt;Number, Number&gt; w1_g = new XYChart.Series&lt;&gt;();\n        w1_g.setName(&quot;w1&quot;);\n        XYChart.Series&lt;Number, Number&gt; w2_g = new XYChart.Series&lt;&gt;();\n        w2_g.setName(&quot;w2&quot;);\n        XYChart.Series&lt;Number, Number&gt; w3_g = new XYChart.Series&lt;&gt;();\n        w3_g.setName(&quot;w3&quot;);\n\n        exception_g.getData().add(new XYChart.Data&lt;&gt;(0,7));\n        exception_g.getData().add(new XYChart.Data&lt;&gt;(1,17));\n        exception_g.getData().add(new XYChart.Data&lt;&gt;(2,-2));\n\n        w0_g.getData().add(new XYChart.Data&lt;&gt;(0,11));\n        w0_g.getData().add(new XYChart.Data&lt;&gt;(1,6));\n        w0_g.getData().add(new XYChart.Data&lt;&gt;(2,0));\n\n        w1_g.getData().add(new XYChart.Data&lt;&gt;(0,-7));\n        w1_g.getData().add(new XYChart.Data&lt;&gt;(1,9));\n        w1_g.getData().add(new XYChart.Data&lt;&gt;(2,13));\n\n        w2_g.getData().add(new XYChart.Data&lt;&gt;(0,9));\n        w2_g.getData().add(new XYChart.Data&lt;&gt;(1,2));\n        w2_g.getData().add(new XYChart.Data&lt;&gt;(2,5));\n\n        w3_g.getData().add(new XYChart.Data&lt;&gt;(0,14));\n        w3_g.getData().add(new XYChart.Data&lt;&gt;(1,-10));\n        w3_g.getData().add(new XYChart.Data&lt;&gt;(2,5));\n\n\n        lineChart0.getStylesheets().add(&quot;/stylesheet.css&quot;);\n\n\n        lineChart0.getData().add(exception_g);\n        lineChart0.getData().add(w0_g);\n        lineChart0.getData().add(w1_g);\n        lineChart0.getData().add(w2_g);\n        lineChart0.getData().add(w3_g);\n\n\n        exception_g.getNode().lookup(&quot;.chart-series-line&quot;).setStyle(&quot;-fx-stroke: black;-fx-stroke-dash-array: 5 5;&quot;);\n        for (XYChart.Data&lt;Number, Number&gt; data : exception_g.getData()) {\n            Node symbol = data.getNode().lookup(&quot;.chart-line-symbol&quot;);\n            symbol.setStyle(&quot;-fx-background-color: black, white;&quot;);\n        }\n        exception_g.getNode().lookup(&quot;.chart-legend&quot;).setStyle(&quot;-fx-background-color: black, white;&quot;); //It is this line that the ide refers to.\n\n        GridPane pane = new GridPane();\n        pane.add(lineChart0, 0, 0);\n\n        Scene scene = new Scene(pane, 1920, 1000);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>I decided to leave the selectors empty in the css file:</p>\n<pre><code>.chart-series-line:{\n}\n\n.chart-line-symbol{\n}\n\n.chart-legend{\n}\n</code></pre>\n<p>Without this line( <code>exception_g.getNode().lookup(&quot;.chart-legend&quot;).setStyle(&quot;-fx-background-color: black, white;&quot;);</code> ), everything works fine except for the legend, like this:<a href=\"https://i.stack.imgur.com/GRyZJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GRyZJ.png\" alt=\"enter image description here\" /></a></p>\n<p>Perhaps there is some way to change the parameters of the lines directly in css. I tried use selector <code>.chart-series-line:series(0) {...}</code> in CSS with the name of my axis, and with the line id, but it didn't help. Or else everything is not so simple here and it is necessary to prescribe in .java file all styles. Both solutions to this problem will work.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685647312,"post_id":76384774,"comment_id":134693685,"body_markdown":"The error doesn&#39;t seem to match the dependency. Could you please copy the gradle.build file and the [complete error message](https://meta.stackoverflow.com/questions/359146/why-should-i-post-complete-errors-why-isnt-the-message-itself-enough) in the question?","body":"The error doesn&#39;t seem to match the dependency. Could you please copy the gradle.build file and the <a href=\"https://meta.stackoverflow.com/questions/359146/why-should-i-post-complete-errors-why-isnt-the-message-itself-enough\">complete error message</a> in the question?"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1685651357,"post_id":76384774,"comment_id":134694442,"body_markdown":"Dependencies that start with com.github are not normal dependencies, they require to add the repository gitpack.io","body":"Dependencies that start with com.github are not normal dependencies, they require to add the repository gitpack.io"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1685700021,"post_id":76384774,"comment_id":134700930,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":24501004,"reputation":3,"user_id":18416618,"display_name":"Tommly Jumah"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685651218,"creation_date":1685644597,"question_id":76384774,"body_markdown":"just added this dependancy api &#39;com.theartofdev.edmodo:android-image-cropper:2.8.0&#39; and im getting\r\n\r\n```\r\nFailed to resolve: com.github.CanHub:Android-Image-Cropper:4.5.0\r\nShow in Project Structure dialog\r\nAffected Modules: app\r\n```\r\n\r\nso how do I go about it. Anybody with the same experience please share.","title":"Image cropper dependancy not working how do I configure it on my gradle?","body":"<p>just added this dependancy api 'com.theartofdev.edmodo:android-image-cropper:2.8.0' and im getting</p>\n<pre><code>Failed to resolve: com.github.CanHub:Android-Image-Cropper:4.5.0\nShow in Project Structure dialog\nAffected Modules: app\n</code></pre>\n<p>so how do I go about it. Anybody with the same experience please share.</p>\n"},{"tags":["java","spring","spring-boot","eclipse"],"answers":[{"tags":[],"owner":{"account_id":28068642,"reputation":16,"user_id":21474828,"display_name":"daniguti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682582085,"creation_date":1682582085,"answer_id":76118024,"question_id":76117860,"body_markdown":"Install Spring from here:   \r\n[https://spring.io/tools][1]\r\n\r\n\r\n  [1]: https://spring.io/tools\r\n\r\nSelect: Spring Tools 4 for Eclipse   \r\nThis will download a .jar with Eclipse and Spring, execute him and run SpringToolSuite4.exe, you dont have to install Eclipse or have it.","title":"Error while installing Spring Boot Tool in Eclipse","body":"<p>Install Spring from here:<br />\n<a href=\"https://spring.io/tools\" rel=\"nofollow noreferrer\">https://spring.io/tools</a></p>\n<p>Select: Spring Tools 4 for Eclipse<br />\nThis will download a .jar with Eclipse and Spring, execute him and run SpringToolSuite4.exe, you dont have to install Eclipse or have it.</p>\n"},{"tags":[],"owner":{"account_id":19519736,"reputation":1,"user_id":14282212,"display_name":"Carlos Mazzoli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685650453,"creation_date":1685650453,"answer_id":76385406,"question_id":76117860,"body_markdown":"In my experience, resolved problem reinstalling Eclipse to 2023-03 (4.27.0) version.\r\n\r\nLink to download: https://www.eclipse.org/downloads/download.php?file=/oomph/epp/2023-03/R/eclipse-inst-jre-win64.exe\r\n\r\nAnd add SpringBoot plugin from Eclipse Marketplace.","title":"Error while installing Spring Boot Tool in Eclipse","body":"<p>In my experience, resolved problem reinstalling Eclipse to 2023-03 (4.27.0) version.</p>\n<p>Link to download: <a href=\"https://www.eclipse.org/downloads/download.php?file=/oomph/epp/2023-03/R/eclipse-inst-jre-win64.exe\" rel=\"nofollow noreferrer\">https://www.eclipse.org/downloads/download.php?file=/oomph/epp/2023-03/R/eclipse-inst-jre-win64.exe</a></p>\n<p>And add SpringBoot plugin from Eclipse Marketplace.</p>\n"}],"owner":{"display_name":"user14212319"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":913,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76118024,"answer_count":2,"score":0,"last_activity_date":1685650453,"creation_date":1682580974,"question_id":76117860,"body_markdown":"I am trying to install Spring boot Tool from Eclipse Marketplace.\r\n\r\nWhile installing an error occurred as follows:\r\n\r\n```An error occurred while collecting items to be installed\r\nsession context was:(profile=C__Users_ritik_eclipse_jee-2021-12_eclipse, phase=org.eclipse.equinox.internal.p2.engine.phases.Collect, operand=, action=).\r\nResult of processing steps.\r\nOK\r\nOK\r\nOK\r\nPublic key not found for 810cecf8ba271008.\r\nOK\r\nResult of processing steps.\r\nOK\r\nOK\r\nOK\r\nPublic key not found for 810cecf8ba271008.\r\nOK\r\nResult of processing steps.\r\nOK\r\nOK\r\nOK\r\nPublic key not found for 70b824d9a6b4ae29.\r\nOK\r\n```\r\n[![Screenshot](https://i.stack.imgur.com/X9V8H.png)](https://i.stack.imgur.com/X9V8H.png)\r\n\r\nI had uninstalled eclipse and then tried installing spring boot again received the same error as above.\r\n\r\nThen i formatted the whole laptop and then tried received the same error.\r\n\r\nPlease help if anyone has come across such error.\r\nThanks!","title":"Error while installing Spring Boot Tool in Eclipse","body":"<p>I am trying to install Spring boot Tool from Eclipse Marketplace.</p>\n<p>While installing an error occurred as follows:</p>\n<pre><code>session context was:(profile=C__Users_ritik_eclipse_jee-2021-12_eclipse, phase=org.eclipse.equinox.internal.p2.engine.phases.Collect, operand=, action=).\nResult of processing steps.\nOK\nOK\nOK\nPublic key not found for 810cecf8ba271008.\nOK\nResult of processing steps.\nOK\nOK\nOK\nPublic key not found for 810cecf8ba271008.\nOK\nResult of processing steps.\nOK\nOK\nOK\nPublic key not found for 70b824d9a6b4ae29.\nOK\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/X9V8H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X9V8H.png\" alt=\"Screenshot\" /></a></p>\n<p>I had uninstalled eclipse and then tried installing spring boot again received the same error as above.</p>\n<p>Then i formatted the whole laptop and then tried received the same error.</p>\n<p>Please help if anyone has come across such error.\nThanks!</p>\n"},{"tags":["java","solr","solrj"],"comments":[{"owner":{"account_id":46578,"reputation":50301,"user_id":137650,"display_name":"MatsLindh"},"score":1,"creation_date":1685693052,"post_id":76385387,"comment_id":134699533,"body_markdown":"You don&#39;t do that through SolrJ directly - you&#39;ll have to have a field on the Solr side that is the exact version that you want to match, then query against that - usually a `string` field or a field with a `KeywordTokenizer` and a lower case filter if you want your matches to be case insensitive. An EdgeNGramFilter (which you have included from the source) would generate tokens that are ngrams from the start of the word (so `w`, `wo`, `wor`, `word`) and would match against any of those. How you do those exact matches would then depend on your defined schema.","body":"You don&#39;t do that through SolrJ directly - you&#39;ll have to have a field on the Solr side that is the exact version that you want to match, then query against that - usually a <code>string</code> field or a field with a <code>KeywordTokenizer</code> and a lower case filter if you want your matches to be case insensitive. An EdgeNGramFilter (which you have included from the source) would generate tokens that are ngrams from the start of the word (so <code>w</code>, <code>wo</code>, <code>wor</code>, <code>word</code>) and would match against any of those. How you do those exact matches would then depend on your defined schema."}],"owner":{"account_id":22058507,"reputation":183,"user_id":16321600,"display_name":"Snoz3f"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685650303,"creation_date":1685650303,"question_id":76385387,"body_markdown":"Are there way to enable exact match using solrj? I need to do it dynamically by parameter change\r\n\r\nI saw some examples like this:\r\n\r\n \r\n\r\n     @Override\r\n     public TokenFilter create(TokenStream input) {\r\n      return new EdgeNGramTokenFilter(input, minGramSize, maxGramSize, preserveOriginal);\r\n     }\r\n    }\r\n\r\nBut didn&#39;t understood how to get it working in code","title":"How can i enable exact match using solrj?","body":"<p>Are there way to enable exact match using solrj? I need to do it dynamically by parameter change</p>\n<p>I saw some examples like this:</p>\n<pre><code> @Override\n public TokenFilter create(TokenStream input) {\n  return new EdgeNGramTokenFilter(input, minGramSize, maxGramSize, preserveOriginal);\n }\n}\n</code></pre>\n<p>But didn't understood how to get it working in code</p>\n"},{"tags":["java","encryption"],"comments":[{"owner":{"account_id":13294099,"reputation":49274,"user_id":9597706,"display_name":"Richard Heap"},"score":1,"creation_date":1685651177,"post_id":76385360,"comment_id":134694405,"body_markdown":"App 2 will need the private key associated with the public key in its certificate to decrypt. You will have created the private key when you created the certificate. (Do you need a certificate wrapping the public key? You may just want to share the public key.)","body":"App 2 will need the private key associated with the public key in its certificate to decrypt. You will have created the private key when you created the certificate. (Do you need a certificate wrapping the public key? You may just want to share the public key.)"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685654509,"post_id":76385360,"comment_id":134695012,"body_markdown":"You would pass the public key, for decrypting.  If the private key is shared then it would break the security.","body":"You would pass the public key, for decrypting.  If the private key is shared then it would break the security."}],"owner":{"account_id":5023051,"reputation":3116,"user_id":4035943,"accept_rate":97,"display_name":"αƞjiβ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1685668496,"answer_count":0,"score":0,"last_activity_date":1685650088,"creation_date":1685650088,"question_id":76385360,"body_markdown":"I am looking for a way to pass encrypted message between two applications. Let&#39;s say I have two Java applications App1 and App2. App1 need to encrypt the message and dump on place where App2 can pick it up. App2 have X509 certificate so App1 can get public key (from App1&#39;s .cert file) and decrypt the message. However I am not able to fig out how can App2 itself decrypt message using the .cert file. On first place is providing App2&#39;s .cert file to App1 is security risk?\r\n\r\nWhat other options I can have if I want to have asymmetric encryption since I do not want to share a common secret key.\r\n\r\nTIA\r\n  ","title":"Encrypt and Decrypt between two application","body":"<p>I am looking for a way to pass encrypted message between two applications. Let's say I have two Java applications App1 and App2. App1 need to encrypt the message and dump on place where App2 can pick it up. App2 have X509 certificate so App1 can get public key (from App1's .cert file) and decrypt the message. However I am not able to fig out how can App2 itself decrypt message using the .cert file. On first place is providing App2's .cert file to App1 is security risk?</p>\n<p>What other options I can have if I want to have asymmetric encryption since I do not want to share a common secret key.</p>\n<p>TIA</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3403799,"reputation":1095,"user_id":2855386,"accept_rate":75,"display_name":"petrov"},"score":0,"creation_date":1400781247,"post_id":23813793,"comment_id":36634658,"body_markdown":"Does it have to be specifically a java program? You might have an easier time with a scripting language.","body":"Does it have to be specifically a java program? You might have an easier time with a scripting language."},{"owner":{"account_id":1223584,"reputation":19,"user_id":1189692,"display_name":"Nikhilesh Tiwari"},"score":0,"creation_date":1400781522,"post_id":23813793,"comment_id":36634842,"body_markdown":"Actually I was working on a J2EE project and had to integrate this sanity check with it so gave emphasis to Java program. Can u please help with any scripting language also. I will check if it might help.","body":"Actually I was working on a J2EE project and had to integrate this sanity check with it so gave emphasis to Java program. Can u please help with any scripting language also. I will check if it might help."},{"owner":{"account_id":3403799,"reputation":1095,"user_id":2855386,"accept_rate":75,"display_name":"petrov"},"score":0,"creation_date":1400784415,"post_id":23813793,"comment_id":36636478,"body_markdown":"Just to clarify: Upon pinging a URL, you will know whether it is up or not, without even attempting to login. Or do you wish to know if the login was successful. \n\nOtherwise you could just use isReachable()http://docs.oracle.com/javase/1.5.0/docs/api/java/net/InetAddress.html","body":"Just to clarify: Upon pinging a URL, you will know whether it is up or not, without even attempting to login. Or do you wish to know if the login was successful.   Otherwise you could just use isReachable()<a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/net/InetAddress.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/1.5.0/docs/api/java/net/&zwnj;&#8203;InetAddress.html</a>"},{"owner":{"account_id":1223584,"reputation":19,"user_id":1189692,"display_name":"Nikhilesh Tiwari"},"score":0,"creation_date":1400821268,"post_id":23813793,"comment_id":36648778,"body_markdown":"I also want to know whether Login was successful or not.","body":"I also want to know whether Login was successful or not."}],"answers":[{"tags":[],"owner":{"account_id":2542209,"reputation":769,"user_id":2207769,"accept_rate":71,"display_name":"Mahesh Guruswamy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400780812,"creation_date":1400780812,"answer_id":23813886,"question_id":23813793,"body_markdown":"If these URls are under you control, then the best way to do this (IMO) is to expose a status endpoint on each of these URLs, so that you can invoke this via HttpGet and get the system status of these endpoints. If these URLs are not under your control, its best to find out from the URL owners for an outage schedule. You could potentially do a GET on them and inspect the response, but the URL owners might decide to just block your calls.","title":"Check whether URLs are up or down using Java","body":"<p>If these URls are under you control, then the best way to do this (IMO) is to expose a status endpoint on each of these URLs, so that you can invoke this via HttpGet and get the system status of these endpoints. If these URLs are not under your control, its best to find out from the URL owners for an outage schedule. You could potentially do a GET on them and inspect the response, but the URL owners might decide to just block your calls.</p>\n"}],"owner":{"account_id":1223584,"reputation":19,"user_id":1189692,"display_name":"Nikhilesh Tiwari"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":322,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1685649421,"creation_date":1400780531,"question_id":23813793,"body_markdown":"I have a list of 20-30 URLs which need to be checked using a Java program whether they are up or down. The URLs before opening require entering of username/password by the user which has to automated. \r\n\r\nI am not able to decide what to use for this.","title":"Check whether URLs are up or down using Java","body":"<p>I have a list of 20-30 URLs which need to be checked using a Java program whether they are up or down. The URLs before opening require entering of username/password by the user which has to automated.</p>\n<p>I am not able to decide what to use for this.</p>\n"},{"tags":["java","dataframe","apache-spark"],"answers":[{"tags":[],"owner":{"account_id":20967958,"reputation":4872,"user_id":15405732,"display_name":"Koedlt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685648732,"creation_date":1685648732,"answer_id":76385224,"question_id":76384931,"body_markdown":"To stay computationally efficient, it&#39;s always a good idea to avoid joins/shuffles where possible.\r\n\r\nThis looks like a case where it is possible to avoid joining, have a look at the following code (it is in Scala, but the principles remain the same):\r\n\r\n```scala\r\n// Constructing the 2 dfs\r\nval df = Seq(\r\n  (1, 1.0, 1.0, 1.0),\r\n  (2, 2.0, 2.0, 2.0),\r\n  (3, 3.0, 3.0, 3.0),\r\n  (4, 4.0, 4.0, 4.0)\r\n).toDF(&quot;ID&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;)\r\n\r\nval df2 = Seq(\r\n  (1, 100, 1.0, 100),\r\n  (2, 100, 1.0, 100)\r\n).toDF(&quot;ID&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;)\r\n\r\n// Collecting the IDs to be updated into a single Array\r\n// IMPORTANT: we make the assumption that this array is not large (in your\r\n// example there is only 1 row here, so the array only has 1 element which is\r\n// totally fine)\r\nval newIds = df2.select(&quot;ID&quot;).collect.map(_.getInt(0))\r\n\r\n// Removing the original rows with the unwanted IDs and unioning the result with\r\n// the new rows\r\nval output = df\r\n  .filter(not(col(&quot;ID&quot;).isin(newIds: _*)))\r\n  .union(df2)\r\n\r\nscala&gt; output.show\r\n+---+-----+---+-----+                                                           \r\n| ID|    B|  C|    D|\r\n+---+-----+---+-----+\r\n|  3|  3.0|3.0|  3.0|\r\n|  4|  4.0|4.0|  4.0|\r\n|  1|100.0|1.0|100.0|\r\n|  2|100.0|1.0|100.0|\r\n+---+-----+---+-----+\r\n```\r\n\r\nSo basically, if we can make the assumption that `df2` (with the new values) is small like in your example, you can do something like the following:\r\n\r\n- `collect` the `ID` values into a single (undistributed) `Array`. From your example it seems like this is OK. If the amount of new rows is really large this might not be the best approach\r\n- `filter` the original `df` using the `isin` method of a column and negating using `not` (basically removing the rows with the new IDs)\r\n- `union` the filtered `df` and `df2`, resulting in the rows being updated WITHOUT any expensive operation like a shuffle","title":"How to replace a spark dataframe row with another spark dataframe&#39;s row using java","body":"<p>To stay computationally efficient, it's always a good idea to avoid joins/shuffles where possible.</p>\n<p>This looks like a case where it is possible to avoid joining, have a look at the following code (it is in Scala, but the principles remain the same):</p>\n<pre class=\"lang-scala prettyprint-override\"><code>// Constructing the 2 dfs\nval df = Seq(\n  (1, 1.0, 1.0, 1.0),\n  (2, 2.0, 2.0, 2.0),\n  (3, 3.0, 3.0, 3.0),\n  (4, 4.0, 4.0, 4.0)\n).toDF(&quot;ID&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;)\n\nval df2 = Seq(\n  (1, 100, 1.0, 100),\n  (2, 100, 1.0, 100)\n).toDF(&quot;ID&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;)\n\n// Collecting the IDs to be updated into a single Array\n// IMPORTANT: we make the assumption that this array is not large (in your\n// example there is only 1 row here, so the array only has 1 element which is\n// totally fine)\nval newIds = df2.select(&quot;ID&quot;).collect.map(_.getInt(0))\n\n// Removing the original rows with the unwanted IDs and unioning the result with\n// the new rows\nval output = df\n  .filter(not(col(&quot;ID&quot;).isin(newIds: _*)))\n  .union(df2)\n\nscala&gt; output.show\n+---+-----+---+-----+                                                           \n| ID|    B|  C|    D|\n+---+-----+---+-----+\n|  3|  3.0|3.0|  3.0|\n|  4|  4.0|4.0|  4.0|\n|  1|100.0|1.0|100.0|\n|  2|100.0|1.0|100.0|\n+---+-----+---+-----+\n</code></pre>\n<p>So basically, if we can make the assumption that <code>df2</code> (with the new values) is small like in your example, you can do something like the following:</p>\n<ul>\n<li><code>collect</code> the <code>ID</code> values into a single (undistributed) <code>Array</code>. From your example it seems like this is OK. If the amount of new rows is really large this might not be the best approach</li>\n<li><code>filter</code> the original <code>df</code> using the <code>isin</code> method of a column and negating using <code>not</code> (basically removing the rows with the new IDs)</li>\n<li><code>union</code> the filtered <code>df</code> and <code>df2</code>, resulting in the rows being updated WITHOUT any expensive operation like a shuffle</li>\n</ul>\n"}],"owner":{"account_id":20455031,"reputation":173,"user_id":15008906,"display_name":"Jon Hayden"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76385224,"answer_count":1,"score":0,"last_activity_date":1685648732,"creation_date":1685645947,"question_id":76384931,"body_markdown":"I have 2 data frames\r\n\r\ndf1\r\n```\r\n+--------------------+---+--------------------+--------------------+\r\n|                 ID |B  |C                   |            D       |\r\n+--------------------+---+--------------------+--------------------+\r\n|                   1|1.0|                 1.0|                 1.0|\r\n|                   2|2.0|                 2.0|                 2.0|\r\n|                   3|3.0|                 3.0|                 3.0|\r\n|                   4|4.0|                 4.0|                 4.0|\r\n+--------------------+---+--------------------+--------------------+\r\n```\r\n\r\ndf2\r\n```\r\n+--------------------+---+--------------------+--------------------+\r\n|                 ID |B  |C                   |            D       |\r\n+--------------------+---+--------------------+--------------------+\r\n|                   1|100|                 1.0|                 100|\r\n+--------------------+---+--------------------+--------------------+\r\n```\r\n\r\nIf ID in df2 matches an ID in df1, I want to replace the row in df1 with the updated values in df2. So the new df1 looks like:\r\n\r\ndf1\r\n```\r\n+--------------------+---+--------------------+--------------------+\r\n|                 ID |B  |C                   |            D       |\r\n+--------------------+---+--------------------+--------------------+\r\n|                   1|100|                 1.0|                 100|\r\n|                   2|2.0|                 2.0|                 2.0|\r\n|                   3|3.0|                 3.0|                 3.0|\r\n|                   4|4.0|                 4.0|                 4.0|\r\n+--------------------+---+--------------------+--------------------+\r\n```\r\n\r\nI&#39;ve been trying to figure this out with union and join and just not having any luck yet.  I first created a new dataframe based on filtering for the ID of df1 and that works and I called that dataframe matchedDF that looks like:\r\n\r\nmatchedDF (dataframe based on finding a match of ID 1 in df1)\r\n```\r\n+--------------------+---+--------------------+--------------------+\r\n|                 ID |B  |C                   |            D       |\r\n+--------------------+---+--------------------+--------------------+\r\n|                   1|1.0|                 1.0|                 1.0|\r\n+--------------------+---+--------------------+--------------------+\r\n```\r\n\r\nBut I don&#39;t know if I just want to delete the original ID 1 in df1 and add the new matchedDF or do I somehow want to update the original ID 1 with the matchedDf?  Or am I approaching this all wrong?\r\n\r\nThanks","title":"How to replace a spark dataframe row with another spark dataframe&#39;s row using java","body":"<p>I have 2 data frames</p>\n<p>df1</p>\n<pre><code>+--------------------+---+--------------------+--------------------+\n|                 ID |B  |C                   |            D       |\n+--------------------+---+--------------------+--------------------+\n|                   1|1.0|                 1.0|                 1.0|\n|                   2|2.0|                 2.0|                 2.0|\n|                   3|3.0|                 3.0|                 3.0|\n|                   4|4.0|                 4.0|                 4.0|\n+--------------------+---+--------------------+--------------------+\n</code></pre>\n<p>df2</p>\n<pre><code>+--------------------+---+--------------------+--------------------+\n|                 ID |B  |C                   |            D       |\n+--------------------+---+--------------------+--------------------+\n|                   1|100|                 1.0|                 100|\n+--------------------+---+--------------------+--------------------+\n</code></pre>\n<p>If ID in df2 matches an ID in df1, I want to replace the row in df1 with the updated values in df2. So the new df1 looks like:</p>\n<p>df1</p>\n<pre><code>+--------------------+---+--------------------+--------------------+\n|                 ID |B  |C                   |            D       |\n+--------------------+---+--------------------+--------------------+\n|                   1|100|                 1.0|                 100|\n|                   2|2.0|                 2.0|                 2.0|\n|                   3|3.0|                 3.0|                 3.0|\n|                   4|4.0|                 4.0|                 4.0|\n+--------------------+---+--------------------+--------------------+\n</code></pre>\n<p>I've been trying to figure this out with union and join and just not having any luck yet.  I first created a new dataframe based on filtering for the ID of df1 and that works and I called that dataframe matchedDF that looks like:</p>\n<p>matchedDF (dataframe based on finding a match of ID 1 in df1)</p>\n<pre><code>+--------------------+---+--------------------+--------------------+\n|                 ID |B  |C                   |            D       |\n+--------------------+---+--------------------+--------------------+\n|                   1|1.0|                 1.0|                 1.0|\n+--------------------+---+--------------------+--------------------+\n</code></pre>\n<p>But I don't know if I just want to delete the original ID 1 in df1 and add the new matchedDF or do I somehow want to update the original ID 1 with the matchedDf?  Or am I approaching this all wrong?</p>\n<p>Thanks</p>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":13055830,"reputation":173,"user_id":9434729,"display_name":"Jelmen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685648525,"creation_date":1685648525,"answer_id":76385210,"question_id":76385078,"body_markdown":"In JPA, you cannot directly reference a field from one entity to another entity&#39;s relationship mapping annotation. However, you can achieve the desired mapping by introducing an additional mapping entity.\r\n\r\n1. Create a new mapping entity (e.g. `ProductRevisionMapping`), which represents the mapping between `Product` and `Revision`. This entity will have a composite primary key consisting of `product_id` (foreign key to `Product`) and `revision_id` (foreign key to `Revision`).\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;product_revision_mapping&quot;)\r\npublic class ProductRevisionMapping implements Serializable {\r\n\r\n    @Id\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;product_id&quot;)\r\n    private Product product;\r\n\r\n    @Id\r\n    @ManyToOne\r\n    @JoinColumns({\r\n        @JoinColumn(name = &quot;revision_id&quot;, referencedColumnName = &quot;id&quot;),\r\n        @JoinColumn(name = &quot;revision_code&quot;, referencedColumnName = &quot;code&quot;)\r\n    })\r\n    private Revision revision;\r\n}\r\n```\r\n\r\n2. Modify the `Product` entity to have a one-to-one mapping with `ProductRevisionMapping`.\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;product&quot;)\r\npublic class Product {\r\n\r\n    // ...\r\n\r\n    @OneToOne(mappedBy = &quot;product&quot;)\r\n    private ProductRevisionMapping productRevisionMapping;\r\n\r\n\r\n    public Revision getRevision() {\r\n        if (productRevisionMapping != null) {\r\n            return productRevisionMapping.getRevision();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public void setRevision(Revision revision) {\r\n        if (productRevisionMapping == null) {\r\n            productRevisionMapping = new ProductRevisionMapping();\r\n            productRevisionMapping.setProduct(this);\r\n        }\r\n        productRevisionMapping.setRevision(revision);\r\n    }\r\n}\r\n```\r\n\r\nWith this modification, you can have a one-to-one relationship between `Product` and `Revision`, using the `ProductRevisionMapping` as an intermediary mapping entity.\r\n\r\n&gt; Make sure to handle the saving and updating of `Product` and `Revision` entities appropriately to maintain the consistency of the mapping.","title":"JPA OneToMany using columns from different tables","body":"<p>In JPA, you cannot directly reference a field from one entity to another entity's relationship mapping annotation. However, you can achieve the desired mapping by introducing an additional mapping entity.</p>\n<ol>\n<li>Create a new mapping entity (e.g. <code>ProductRevisionMapping</code>), which represents the mapping between <code>Product</code> and <code>Revision</code>. This entity will have a composite primary key consisting of <code>product_id</code> (foreign key to <code>Product</code>) and <code>revision_id</code> (foreign key to <code>Revision</code>).</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;product_revision_mapping&quot;)\npublic class ProductRevisionMapping implements Serializable {\n\n    @Id\n    @ManyToOne\n    @JoinColumn(name = &quot;product_id&quot;)\n    private Product product;\n\n    @Id\n    @ManyToOne\n    @JoinColumns({\n        @JoinColumn(name = &quot;revision_id&quot;, referencedColumnName = &quot;id&quot;),\n        @JoinColumn(name = &quot;revision_code&quot;, referencedColumnName = &quot;code&quot;)\n    })\n    private Revision revision;\n}\n</code></pre>\n<ol start=\"2\">\n<li>Modify the <code>Product</code> entity to have a one-to-one mapping with <code>ProductRevisionMapping</code>.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;product&quot;)\npublic class Product {\n\n    // ...\n\n    @OneToOne(mappedBy = &quot;product&quot;)\n    private ProductRevisionMapping productRevisionMapping;\n\n\n    public Revision getRevision() {\n        if (productRevisionMapping != null) {\n            return productRevisionMapping.getRevision();\n        }\n        return null;\n    }\n\n    public void setRevision(Revision revision) {\n        if (productRevisionMapping == null) {\n            productRevisionMapping = new ProductRevisionMapping();\n            productRevisionMapping.setProduct(this);\n        }\n        productRevisionMapping.setRevision(revision);\n    }\n}\n</code></pre>\n<p>With this modification, you can have a one-to-one relationship between <code>Product</code> and <code>Revision</code>, using the <code>ProductRevisionMapping</code> as an intermediary mapping entity.</p>\n<blockquote>\n<p>Make sure to handle the saving and updating of <code>Product</code> and <code>Revision</code> entities appropriately to maintain the consistency of the mapping.</p>\n</blockquote>\n"}],"owner":{"account_id":5140075,"reputation":205,"user_id":4120919,"display_name":"Andrei Rykhalski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685648525,"creation_date":1685647379,"question_id":76385078,"body_markdown":"I have the following tables in my relational DB.\r\n\r\n```\r\n CREATE TABLE manufacturer (\r\n  id int(10) unsigned NOT NULL AUTO_INCREMENT,\r\n  name varchar(100),\r\n  code varchar(50)\r\n);\r\n```\r\n\r\n```\r\n CREATE TABLE product (\r\n  id int(10) unsigned NOT NULL AUTO_INCREMENT,\r\n  manufacturer_id int(10)\r\n  name varchar(100),\r\n  revision_id int(10)\r\n  CONSTRAINT product_man_fk FOREIGN KEY (manufacturer_id) REFERENCES manufacturer (id) ON DELETE CASCADE\r\n);\r\n```\r\n\r\n\r\n```\r\n CREATE TABLE revision (\r\n  id int(10),\r\n  code varchar(50),\r\n  CONSTRAINT revision_uq UNIQUE(id, code)\r\n);\r\n```\r\n\r\nPlease note that `id` is not a PK nor a unique column in `revision`, only a combination of `id` and `code` is unique.\r\n\r\nNow, in terms of JPA, I need to have only one `Revision` within the class `Product` (not a collection of them) and I need to map it as follows:\r\n```\r\nclass Product {\r\n...\r\n    @ManyToOne\r\n    @JoinColumn(name=&quot;manufacturer_id&quot;)\r\n    private Manufacturer manufacturer;\r\n\r\n    @ManyToOne\r\n    @JoinColumns({\r\n      @JoinColumn(name=&quot;revision_id&quot;, referencedColumnName=&quot;id&quot;),\r\n      @JoinColumn(name=&quot;manufacturer.code&quot;, referencedColumnName=&quot;code&quot;)\r\n    })\r\n    private Revision revision;\r\n}\r\n```\r\n\r\nThis doesn&#39;t work obviously, as `manufacturer.code` is not a column of table `product`.\r\nIs there any way to somehow pass a field from another parent entity to a different `@ManyToOne` annotation for mapping?\r\n\r\n\r\nThanks in advance","title":"JPA OneToMany using columns from different tables","body":"<p>I have the following tables in my relational DB.</p>\n<pre><code> CREATE TABLE manufacturer (\n  id int(10) unsigned NOT NULL AUTO_INCREMENT,\n  name varchar(100),\n  code varchar(50)\n);\n</code></pre>\n<pre><code> CREATE TABLE product (\n  id int(10) unsigned NOT NULL AUTO_INCREMENT,\n  manufacturer_id int(10)\n  name varchar(100),\n  revision_id int(10)\n  CONSTRAINT product_man_fk FOREIGN KEY (manufacturer_id) REFERENCES manufacturer (id) ON DELETE CASCADE\n);\n</code></pre>\n<pre><code> CREATE TABLE revision (\n  id int(10),\n  code varchar(50),\n  CONSTRAINT revision_uq UNIQUE(id, code)\n);\n</code></pre>\n<p>Please note that <code>id</code> is not a PK nor a unique column in <code>revision</code>, only a combination of <code>id</code> and <code>code</code> is unique.</p>\n<p>Now, in terms of JPA, I need to have only one <code>Revision</code> within the class <code>Product</code> (not a collection of them) and I need to map it as follows:</p>\n<pre><code>class Product {\n...\n    @ManyToOne\n    @JoinColumn(name=&quot;manufacturer_id&quot;)\n    private Manufacturer manufacturer;\n\n    @ManyToOne\n    @JoinColumns({\n      @JoinColumn(name=&quot;revision_id&quot;, referencedColumnName=&quot;id&quot;),\n      @JoinColumn(name=&quot;manufacturer.code&quot;, referencedColumnName=&quot;code&quot;)\n    })\n    private Revision revision;\n}\n</code></pre>\n<p>This doesn't work obviously, as <code>manufacturer.code</code> is not a column of table <code>product</code>.\nIs there any way to somehow pass a field from another parent entity to a different <code>@ManyToOne</code> annotation for mapping?</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1466404498,"creation_date":1466404498,"answer_id":37915951,"question_id":37915920,"body_markdown":"Your parameter name is `id` not `templateId`. You have to Change to:\r\n\r\n    String hql =&quot;from FieldTemplate where templateId= :id&quot;;\r\n    Query query = session.createQuery(hql);\r\n    query.setParameter(&quot;id&quot;, id);\r\n\r\nThe Name after `:` is the parameter name and must match the first parameter of `setParameter()`\r\n","title":"org.hibernate.QueryParameterException: could not locate named parameter [templateId]","body":"<p>Your parameter name is <code>id</code> not <code>templateId</code>. You have to Change to:</p>\n\n<pre><code>String hql =\"from FieldTemplate where templateId= :id\";\nQuery query = session.createQuery(hql);\nquery.setParameter(\"id\", id);\n</code></pre>\n\n<p>The Name after <code>:</code> is the parameter name and must match the first parameter of <code>setParameter()</code></p>\n"},{"tags":[],"owner":{"account_id":3206092,"reputation":753,"user_id":2707132,"accept_rate":28,"display_name":"Abhishek"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1489120588,"creation_date":1489120588,"answer_id":42710342,"question_id":37915920,"body_markdown":"If it helps somebody, also remove any ; if your :param is at the very end of the query.\r\n\r\nSo for example, your query must be:\r\n\r\n    Select * from blah where param = :param\r\n\r\nand NOT \r\n\r\n    Select * from blah where param = :param; \r\n(note the ; at the end)","title":"org.hibernate.QueryParameterException: could not locate named parameter [templateId]","body":"<p>If it helps somebody, also remove any ; if your :param is at the very end of the query.</p>\n\n<p>So for example, your query must be:</p>\n\n<pre><code>Select * from blah where param = :param\n</code></pre>\n\n<p>and NOT </p>\n\n<pre><code>Select * from blah where param = :param; \n</code></pre>\n\n<p>(note the ; at the end)</p>\n"},{"tags":[],"owner":{"account_id":22098695,"reputation":1,"user_id":16355487,"display_name":"vibhor kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625223806,"creation_date":1625118507,"answer_id":68204928,"question_id":37915920,"body_markdown":"```\r\nString hql =&quot;from FieldTemplate where templateId= :id&quot;;\r\nQuery query = session.createQuery(hql); \r\nquery.setParameter(&quot;id&quot;, id);\r\n```\r\n\r\nin query.set parameter both should match","title":"org.hibernate.QueryParameterException: could not locate named parameter [templateId]","body":"<pre><code>String hql =&quot;from FieldTemplate where templateId= :id&quot;;\nQuery query = session.createQuery(hql); \nquery.setParameter(&quot;id&quot;, id);\n</code></pre>\n<p>in query.set parameter both should match</p>\n"},{"tags":[],"owner":{"account_id":2043806,"reputation":4771,"user_id":2118777,"display_name":"Pipo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685648452,"creation_date":1685648452,"answer_id":76385201,"question_id":37915920,"body_markdown":"I had an issue as well and hard time finding that my **query was malformed**, and had **single quote not ended**...\r\n\r\n    SELECT * FROM Nuts WHERE FOO LIKE &#39;:firstParamName AND BAR=:secondParamName\r\n\r\nThe error I had was mentioning that it was expecting for the second only in the list one of [firstParamName]\r\n\r\nBTW for Java code, I like to use\r\n\r\n    final String PARAM_SOME_NAME = &quot;:fooValueParam&quot;\r\n    QUERY = &quot;SELECT * FROM Nuts WHERE FOO LIKE &quot; + PARAM_SOME_NAME\r\n    Query nativeQry = em.createNativeQuery(QUERY)\r\n    nativeQry.setParameter(PARAM_SOME_NAME.substring(1), aValue)\r\n\r\nto avoid typos...","title":"org.hibernate.QueryParameterException: could not locate named parameter [templateId]","body":"<p>I had an issue as well and hard time finding that my <strong>query was malformed</strong>, and had <strong>single quote not ended</strong>...</p>\n<pre><code>SELECT * FROM Nuts WHERE FOO LIKE ':firstParamName AND BAR=:secondParamName\n</code></pre>\n<p>The error I had was mentioning that it was expecting for the second only in the list one of [firstParamName]</p>\n<p>BTW for Java code, I like to use</p>\n<pre><code>final String PARAM_SOME_NAME = &quot;:fooValueParam&quot;\nQUERY = &quot;SELECT * FROM Nuts WHERE FOO LIKE &quot; + PARAM_SOME_NAME\nQuery nativeQry = em.createNativeQuery(QUERY)\nnativeQry.setParameter(PARAM_SOME_NAME.substring(1), aValue)\n</code></pre>\n<p>to avoid typos...</p>\n"}],"owner":{"account_id":7657216,"reputation":91,"user_id":5803629,"accept_rate":0,"display_name":"Sakthi Draggerz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27462,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1685648452,"creation_date":1466404367,"question_id":37915920,"body_markdown":"Please find the code which I have used. Below HQL query fails saying that: \r\n\r\n&gt; could not locate named parameter [templateId]\r\n\r\nBut templateId exist in my model class. \r\n\r\nPlease help to resolve the issue or possible reason to get this type of error:\r\n\r\n  \r\n\r\n    session = sessionFactory.openSession();\t\t\t\r\n        \t\t\tTransaction tx = session.beginTransaction();\r\n        \t\t\tString hql =&quot;from FieldTemplate where templateId= :id&quot;;\r\n        \t\t\tQuery query = session.createQuery(hql);\r\n        \t\t\tquery.setParameter(&quot;templateId&quot;, id);\r\n        \t\t\tList file=query.list();\r\n        \t\t\ttx.commit();\r\n        \t\t\treturn (FieldTemplate) file.get(0);\r\n    \r\nModel file \r\n    \r\n    @Entity\r\n    @Table(name=&quot;EDW_FIELDS&quot;)\r\n    public class FieldTemplate {\r\n    \t@Id\r\n    \t@Column(name=&quot;ID&quot;)\r\n    \t@GeneratedValue(strategy=GenerationType.AUTO)\r\n    \tprivate int Id;\r\n    \t\r\n    \tpublic int getId() {\r\n    \t\treturn Id;\r\n    \t}\r\n    \r\n    \tpublic void setId(int id) {\r\n    \t\tId = id;\r\n    \t}\r\n    \r\n    \t@Column(name=&quot;TEMPLATE_ID&quot;)\r\n    \tprivate int templateId;\r\n    \t\r\n    \tpublic int getTemplateId() {\r\n    \t\treturn templateId;\r\n    \t}\r\n    \r\n    \tpublic void setTemplateId(int templateId) {\r\n    \t\tthis.templateId = templateId;\r\n    \t}\r\n    \r\n    \t@Column(name=&quot;FIELD_NAME&quot;)\r\n    \tprivate String fieldName;\r\n    \t\r\n    \tpublic String getFieldName() {\r\n    \t\treturn fieldName;\r\n    \t}\r\n    \r\n    \tpublic void setFieldName(String fieldName) {\r\n    \t\tthis.fieldName = fieldName;\r\n    \t}\r\n    \r\n    \t@Column(name=&quot;DISPLAY_ORDER&quot;)\r\n    \tprivate int displayOrder;\r\n    \t\r\n    \tpublic int getDisplayOrder() {\r\n    \t\treturn displayOrder;\r\n    \t}\r\n    \r\n    \tpublic void setDisplayOrder(int displayOrder) {\r\n    \t\tthis.displayOrder = displayOrder;\r\n    \t}\r\n    }\r\n\r\nPlease help to resolve my problem\r\n\r\n","title":"org.hibernate.QueryParameterException: could not locate named parameter [templateId]","body":"<p>Please find the code which I have used. Below HQL query fails saying that: </p>\n\n<blockquote>\n  <p>could not locate named parameter [templateId]</p>\n</blockquote>\n\n<p>But templateId exist in my model class. </p>\n\n<p>Please help to resolve the issue or possible reason to get this type of error:</p>\n\n<pre><code>session = sessionFactory.openSession();         \n                Transaction tx = session.beginTransaction();\n                String hql =\"from FieldTemplate where templateId= :id\";\n                Query query = session.createQuery(hql);\n                query.setParameter(\"templateId\", id);\n                List file=query.list();\n                tx.commit();\n                return (FieldTemplate) file.get(0);\n</code></pre>\n\n<p>Model file </p>\n\n<pre><code>@Entity\n@Table(name=\"EDW_FIELDS\")\npublic class FieldTemplate {\n    @Id\n    @Column(name=\"ID\")\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private int Id;\n\n    public int getId() {\n        return Id;\n    }\n\n    public void setId(int id) {\n        Id = id;\n    }\n\n    @Column(name=\"TEMPLATE_ID\")\n    private int templateId;\n\n    public int getTemplateId() {\n        return templateId;\n    }\n\n    public void setTemplateId(int templateId) {\n        this.templateId = templateId;\n    }\n\n    @Column(name=\"FIELD_NAME\")\n    private String fieldName;\n\n    public String getFieldName() {\n        return fieldName;\n    }\n\n    public void setFieldName(String fieldName) {\n        this.fieldName = fieldName;\n    }\n\n    @Column(name=\"DISPLAY_ORDER\")\n    private int displayOrder;\n\n    public int getDisplayOrder() {\n        return displayOrder;\n    }\n\n    public void setDisplayOrder(int displayOrder) {\n        this.displayOrder = displayOrder;\n    }\n}\n</code></pre>\n\n<p>Please help to resolve my problem</p>\n"},{"tags":["java","spring-boot","maven","graphql"],"owner":{"account_id":13182505,"reputation":1760,"user_id":9521481,"display_name":"Fussel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685648361,"creation_date":1685648361,"question_id":76385185,"body_markdown":"I have created a very simple graphql server using spring-boot which just has the methods findById and list for an object and I want to create a junit test for these commands and as I wanted to try code generation to create a client I could use in that test.\r\n\r\nThe issue is that when I generate the code I get the error that: `package org.springframework.web.reactive.function.client does not exist`\r\n\r\nI have `spring-boot-starter-webflux` as dependency in my `pom.xml` and when I use for example the `WebClient` from the package above in my code it&#39;s working fine, but in the generated `GraphQLMavenPluginAutoConfiguration` the package is not found.\r\n\r\n```\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-graphql&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.graphql-java-generator&lt;/groupId&gt;\r\n      &lt;artifactId&gt;graphql-java-client-runtime&lt;/artifactId&gt;\r\n      &lt;version&gt;2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    [..]\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;excludes&gt;\r\n            &lt;exclude&gt;\r\n              &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n              &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;/exclude&gt;\r\n          &lt;/excludes&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;com.graphql-java-generator&lt;/groupId&gt;\r\n        &lt;artifactId&gt;graphql-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;generateClientCode&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;schemaFileFolder&gt;src/main/resources/graphql&lt;/schemaFileFolder&gt;\r\n              &lt;packageName&gt;my.test.graphql.generated&lt;/packageName&gt;\r\n\r\n              &lt;generateDeprecatedRequestResponse&gt;false&lt;/generateDeprecatedRequestResponse&gt;\r\n              &lt;separateUtilityClasses&gt;true&lt;/separateUtilityClasses&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n```\r\n\r\nThe error occures when executing `mvn clean install`","title":"Missing dependency in graphql-maven-plugin generated code","body":"<p>I have created a very simple graphql server using spring-boot which just has the methods findById and list for an object and I want to create a junit test for these commands and as I wanted to try code generation to create a client I could use in that test.</p>\n<p>The issue is that when I generate the code I get the error that: <code>package org.springframework.web.reactive.function.client does not exist</code></p>\n<p>I have <code>spring-boot-starter-webflux</code> as dependency in my <code>pom.xml</code> and when I use for example the <code>WebClient</code> from the package above in my code it's working fine, but in the generated <code>GraphQLMavenPluginAutoConfiguration</code> the package is not found.</p>\n<pre><code>  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-graphql&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.graphql-java-generator&lt;/groupId&gt;\n      &lt;artifactId&gt;graphql-java-client-runtime&lt;/artifactId&gt;\n      &lt;version&gt;2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    [..]\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;excludes&gt;\n            &lt;exclude&gt;\n              &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n              &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;/exclude&gt;\n          &lt;/excludes&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;com.graphql-java-generator&lt;/groupId&gt;\n        &lt;artifactId&gt;graphql-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;generateClientCode&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;schemaFileFolder&gt;src/main/resources/graphql&lt;/schemaFileFolder&gt;\n              &lt;packageName&gt;my.test.graphql.generated&lt;/packageName&gt;\n\n              &lt;generateDeprecatedRequestResponse&gt;false&lt;/generateDeprecatedRequestResponse&gt;\n              &lt;separateUtilityClasses&gt;true&lt;/separateUtilityClasses&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n</code></pre>\n<p>The error occures when executing <code>mvn clean install</code></p>\n"},{"tags":["java","yaml","snakeyaml"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685640620,"post_id":76384241,"comment_id":134692340,"body_markdown":"Isn&#39;t this the same question than you did yesterday https://stackoverflow.com/questions/76372591/how-to-add-indentation-in-yaml-using-snakeyaml-and-java-object?","body":"Isn&#39;t this the same question than you did yesterday <a href=\"https://stackoverflow.com/questions/76372591/how-to-add-indentation-in-yaml-using-snakeyaml-and-java-object\" title=\"how to add indentation in yaml using snakeyaml and java object\">stackoverflow.com/questions/76372591/&hellip;</a>?"},{"owner":{"account_id":2679463,"reputation":2502,"user_id":2315104,"accept_rate":42,"display_name":"user2315104"},"score":0,"creation_date":1685643530,"post_id":76384241,"comment_id":134692961,"body_markdown":"Yes , Im really blocked due to this . What can be done here ? Should I change my approach ?","body":"Yes , Im really blocked due to this . What can be done here ? Should I change my approach ?"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685644147,"post_id":76384241,"comment_id":134693086,"body_markdown":"I didn&#39;t found a way to customize the output format myself. Probably need to consider either accepting the output as is or finding a different library.","body":"I didn&#39;t found a way to customize the output format myself. Probably need to consider either accepting the output as is or finding a different library."}],"answers":[{"tags":[],"owner":{"account_id":25926563,"reputation":119,"user_id":19648355,"display_name":"Irremediable"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685648250,"creation_date":1685647879,"answer_id":76385126,"question_id":76384241,"body_markdown":"Well, you mentioned it is SnakeYaml lib, so I wonder have you ever looked through its [documentation][1] ?\r\n\r\nYour code works as it should.\r\n\r\ntry: \r\n\r\n     DumperOptions options = new DumperOptions();\r\n     options.setDefaultFlowStyle(DumperOptions.FlowStyle.BLOCK);\r\n     Yaml yaml  = new Yaml(options);\r\n\r\n\r\n\r\n  [1]: https://bitbucket.org/snakeyaml/snakeyaml/wiki/Documentation#markdown-header-dumping-yaml","title":"Not able to format YAML using SnakeYaml keeping original way","body":"<p>Well, you mentioned it is SnakeYaml lib, so I wonder have you ever looked through its <a href=\"https://bitbucket.org/snakeyaml/snakeyaml/wiki/Documentation#markdown-header-dumping-yaml\" rel=\"nofollow noreferrer\">documentation</a> ?</p>\n<p>Your code works as it should.</p>\n<p>try:</p>\n<pre><code> DumperOptions options = new DumperOptions();\n options.setDefaultFlowStyle(DumperOptions.FlowStyle.BLOCK);\n Yaml yaml  = new Yaml(options);\n</code></pre>\n"}],"owner":{"account_id":2679463,"reputation":2502,"user_id":2315104,"accept_rate":42,"display_name":"user2315104"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76385126,"answer_count":1,"score":0,"last_activity_date":1685648250,"creation_date":1685639653,"question_id":76384241,"body_markdown":"Have following YAML \r\n\r\n    image:\r\n      repository: &quot;test.com/test&quot;\r\n      pullPolicy: IfNotPresent\r\n      tag: &quot;abc&quot;\r\n\r\nJAVA code to modify the YAKL file \r\n\r\n    public class SnakeYaml1 {\r\n    \r\n    \tpublic static void main(String[] args) throws FileNotFoundException {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t\tInputStream inputStream = new FileInputStream(new File(&quot;C:\\\\yaml\\\\student1.yaml&quot;));\r\n    \t\t\r\n    \t\tYaml yaml = new Yaml(new Constructor(Values1.class));\r\n    \t\r\n    \t\tValues1 data = yaml.load(inputStream);\r\n    \t\tImage image = new Image();\r\n    \t\timage.setPullPolicy(&quot;update&quot;);\r\n    \t\tdata.setImage(image);\r\n    \t\t\r\n    \t\tDumperOptions options = new DumperOptions();\r\n    \t\toptions.setIndent(2);\r\n    \t\toptions.setDefaultFlowStyle(DumperOptions.FlowStyle.FLOW);\r\n    \t\toptions.setIndicatorIndent(2);\r\n    \t\toptions.setIndentWithIndicator(true);\r\n    \t\t\r\n    \t\tPrintWriter writer = new PrintWriter(new File(&quot;C:\\\\yaml\\\\student1.yaml&quot;));\r\n    \t\tYaml yaml1 = new Yaml(new Constructor(Values1.class));\r\n    \t\tyaml1.dump(data, writer);\r\n    \r\n    \t}\r\n    }\r\n\r\n\r\n    public class Values1 {\r\n    \t\r\n    \tprivate Image image;\r\n    \r\n    \tpublic Image getImage() {\r\n    \t\treturn image;\r\n    \t}\r\n    \r\n    \tpublic void setImage(Image image) {\r\n    \t\tthis.image = image;\r\n    \t}\r\n    }\r\n\r\n    public class Image {\r\n    \t\r\n    \tprivate String repository;\r\n    \tprivate String pullPolicy;\r\n    \tprivate String tag;\r\n    \t\r\n    \tpublic Image()\r\n    \t{\t\r\n    \t}\r\n    \t\r\n    \tpublic Image (String repository, String pullPolicy, String tags)\r\n    \t{\r\n    \t\tsuper();\r\n    \t\tthis.repository = repository;\r\n    \t\tthis.pullPolicy = pullPolicy;\r\n    \t\tthis.tag = tags;\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic String getRepository() {\r\n    \t\treturn repository;\r\n    \t}\r\n    \tpublic void setRepository(String repository) {\r\n    \t\tthis.repository = repository;\r\n    \t}\r\n    \tpublic String getPullPolicy() {\r\n    \t\treturn pullPolicy;\r\n    \t}\r\n    \tpublic void setPullPolicy(String pullPolicy) {\r\n    \t\tthis.pullPolicy = pullPolicy;\r\n    \t}\r\n    \tpublic String getTag() {\r\n    \t\treturn tag;\r\n    \t}\r\n    \tpublic void setTag(String tag) {\r\n    \t\tthis.tag = tag;\r\n    \t}\r\n    \t\r\n    \r\n    }\r\n\r\n\r\nAFter executing the java code , the YAML format is getting changed \r\n\r\n**YAML format after executing JAVA code** \r\n\r\n    !!oe.kubeapi.abc.Values1\r\n    image: {pullPolicy: update, repository: null, tag: null}\r\n\r\n**Expected YAML format after execution of java code** \r\n\r\n\r\n    image:\r\n          repository: &quot;test.com/test&quot;\r\n          pullPolicy: update\r\n          tag: &quot;abc&quot;\r\n\r\n\r\nNot getting why the YAML format is getting changed after executing java code. Is this the bug in SnakeYaml ??\r\n\r\nI tried putting property image in List format as well , `List&lt;Image&gt; image` still it did not work \r\n\r\nplease suggest . what should be done . Any help please ? \r\n\r\n ","title":"Not able to format YAML using SnakeYaml keeping original way","body":"<p>Have following YAML</p>\n<pre><code>image:\n  repository: &quot;test.com/test&quot;\n  pullPolicy: IfNotPresent\n  tag: &quot;abc&quot;\n</code></pre>\n<p>JAVA code to modify the YAKL file</p>\n<pre><code>public class SnakeYaml1 {\n\n    public static void main(String[] args) throws FileNotFoundException {\n        // TODO Auto-generated method stub\n        \n        InputStream inputStream = new FileInputStream(new File(&quot;C:\\\\yaml\\\\student1.yaml&quot;));\n        \n        Yaml yaml = new Yaml(new Constructor(Values1.class));\n    \n        Values1 data = yaml.load(inputStream);\n        Image image = new Image();\n        image.setPullPolicy(&quot;update&quot;);\n        data.setImage(image);\n        \n        DumperOptions options = new DumperOptions();\n        options.setIndent(2);\n        options.setDefaultFlowStyle(DumperOptions.FlowStyle.FLOW);\n        options.setIndicatorIndent(2);\n        options.setIndentWithIndicator(true);\n        \n        PrintWriter writer = new PrintWriter(new File(&quot;C:\\\\yaml\\\\student1.yaml&quot;));\n        Yaml yaml1 = new Yaml(new Constructor(Values1.class));\n        yaml1.dump(data, writer);\n\n    }\n}\n\n\npublic class Values1 {\n    \n    private Image image;\n\n    public Image getImage() {\n        return image;\n    }\n\n    public void setImage(Image image) {\n        this.image = image;\n    }\n}\n\npublic class Image {\n    \n    private String repository;\n    private String pullPolicy;\n    private String tag;\n    \n    public Image()\n    {   \n    }\n    \n    public Image (String repository, String pullPolicy, String tags)\n    {\n        super();\n        this.repository = repository;\n        this.pullPolicy = pullPolicy;\n        this.tag = tags;\n        \n    }\n    \n    public String getRepository() {\n        return repository;\n    }\n    public void setRepository(String repository) {\n        this.repository = repository;\n    }\n    public String getPullPolicy() {\n        return pullPolicy;\n    }\n    public void setPullPolicy(String pullPolicy) {\n        this.pullPolicy = pullPolicy;\n    }\n    public String getTag() {\n        return tag;\n    }\n    public void setTag(String tag) {\n        this.tag = tag;\n    }\n    \n\n}\n</code></pre>\n<p>AFter executing the java code , the YAML format is getting changed</p>\n<p><strong>YAML format after executing JAVA code</strong></p>\n<pre><code>!!oe.kubeapi.abc.Values1\nimage: {pullPolicy: update, repository: null, tag: null}\n</code></pre>\n<p><strong>Expected YAML format after execution of java code</strong></p>\n<pre><code>image:\n      repository: &quot;test.com/test&quot;\n      pullPolicy: update\n      tag: &quot;abc&quot;\n</code></pre>\n<p>Not getting why the YAML format is getting changed after executing java code. Is this the bug in SnakeYaml ??</p>\n<p>I tried putting property image in List format as well , <code>List&lt;Image&gt; image</code> still it did not work</p>\n<p>please suggest . what should be done . Any help please ?</p>\n"},{"tags":["java","logging","logback"],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685648155,"creation_date":1685648155,"answer_id":76385165,"question_id":76384433,"body_markdown":"You could use a separate logger for those functions using `getLogger(&quot;something&quot;). In the configuration file you can direct logger &quot;something&quot; to a separate file.\r\n","title":"Java Logback, Log specific code flow into a separated file","body":"<p>You could use a separate logger for those functions using `getLogger(&quot;something&quot;). In the configuration file you can direct logger &quot;something&quot; to a separate file.</p>\n"}],"owner":{"account_id":15201571,"reputation":7,"user_id":10969402,"display_name":"Graziano Bolla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1685648155,"creation_date":1685641549,"question_id":76384433,"body_markdown":"I&#39;m working with Spring Logback and I need to Log onto a separated file but only a specific call of a function (a specific flow/process). The problem is that this function calls many other internal functions and instances a few classes and all of those have their own Logs, I want to know if there is a way I can contain all those logs that start with the call of that function into a specific file.","title":"Java Logback, Log specific code flow into a separated file","body":"<p>I'm working with Spring Logback and I need to Log onto a separated file but only a specific call of a function (a specific flow/process). The problem is that this function calls many other internal functions and instances a few classes and all of those have their own Logs, I want to know if there is a way I can contain all those logs that start with the call of that function into a specific file.</p>\n"},{"tags":["java","web-services","axis","remedy"],"comments":[{"owner":{"account_id":1049485,"reputation":239,"user_id":1053752,"accept_rate":0,"display_name":"Ractoc"},"score":0,"creation_date":1429133592,"post_id":29659677,"comment_id":47462187,"body_markdown":"If I understand your question correctly, you are trying to setup a SOAP client. The easiest way to do this is to generate all the client stub code through maven (http://www.coding.ractoc.com/soap-webservices-with-maven-part-5/). This way, you don&#39;t have to do any of that nasty stuff yourself since it is complex and error prone.","body":"If I understand your question correctly, you are trying to setup a SOAP client. The easiest way to do this is to generate all the client stub code through maven (<a href=\"http://www.coding.ractoc.com/soap-webservices-with-maven-part-5/\" rel=\"nofollow noreferrer\">coding.ractoc.com/soap-webservices-with-maven-part-5</a>). This way, you don&#39;t have to do any of that nasty stuff yourself since it is complex and error prone."}],"answers":[{"tags":[],"owner":{"account_id":1912441,"reputation":2961,"user_id":1725871,"accept_rate":88,"display_name":"JoSSte"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1436966312,"creation_date":1436966312,"answer_id":31431547,"question_id":29659677,"body_markdown":"Your request ID is too short  &quot;INC509526&quot;  is missing a load of zeros. should be &quot;INC00000509526&quot;.\r\n\r\nAll Remedy request IDs are 14 characters long, hence your 302 - entry does not exist.","title":"Remedy8.1 (ITSM) - Get details of an Incident using Incident Number","body":"<p>Your request ID is too short  \"INC509526\"  is missing a load of zeros. should be \"INC00000509526\".</p>\n\n<p>All Remedy request IDs are 14 characters long, hence your 302 - entry does not exist.</p>\n"}],"owner":{"account_id":3496530,"reputation":63,"user_id":2924555,"accept_rate":25,"display_name":"sarathmojo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":647,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685647916,"creation_date":1429127770,"question_id":29659677,"body_markdown":"I&#39;m using the below code to get the details of an incident in remedy 8.1(ITSM) but its throwing an error. When testing the WSDL via SOAP, I could able to fetch the details of the same Incident. Please help me out.\r\n\r\n**Code:**\r\n\r\n\t\tStringHolder assigned_Group = null;\r\n \t\tStringHolder assigned_Group_Shift_Name = null;\r\n\t\tStringHolder assigned_Support_Company = null;\r\n\t\tStringHolder assigned_Support_Organization = null;\r\n\t\tStringHolder assignee = null;\r\n\t\tStringHolder categorization_Tier_1 = null;\r\n\t\tStringHolder categorization_Tier_2 = null;\r\n\t\tStringHolder categorization_Tier_3 = null;\r\n\t\tStringHolder city = null;\r\n\t\tStringHolder closure_Manufacturer = null;\r\n\t\tStringHolder closure_Product_Category_Tier1 = null;\r\n\t\tStringHolder closure_Product_Category_Tier2 = null;\r\n\t\tStringHolder closure_Product_Category_Tier3 = null;\r\n\t\tStringHolder closure_Product_Model_Version = null;\r\n\t\tStringHolder closure_Product_Name = null;\r\n\t\tStringHolder company = null;\r\n\t\tStringHolder contact_Company = null;\r\n\t\tHPD_IncidentInterface_WS.holders.Contact_SensitivityTypeHolder contact_Sensitivity = null;\r\n\t\tStringHolder country = null;\r\n\t\tStringHolder department = null;\r\n\t\tStringHolder summary = null;\r\n\t\tStringHolder notes = null;\r\n\t\tStringHolder first_Name = null;\r\n\t\tHPD_IncidentInterface_WS.holders.ImpactTypeHolder impact = null;\r\n\t\tStringHolder last_Name = null;\r\n\t\tStringHolder manufacturer = null;\r\n\t\tStringHolder middle_Initial = null;\r\n\t\tStringHolder organization = null;\r\n\t\tStringHolder phone_Number = null;\r\n\t\tHPD_IncidentInterface_WS.holders.PriorityTypeHolder priority = null;\r\n\t\tIntHolder priority_Weight = null;\r\n\t\tStringHolder product_Categorization_Tier_1 = null;\r\n\t\tStringHolder product_Categorization_Tier_2 = null;\r\n\t\tStringHolder product_Categorization_Tier_3 = null;\r\n\t\tStringHolder product_Model_Version = null;\r\n\t\tStringHolder product_Name = null;\r\n\t\tStringHolder region = null;\r\n\t\tHPD_IncidentInterface_WS.holders.Reported_SourceTypeHolder reported_Source = null;\r\n\t\tStringHolder resolution = null;\r\n\t\tStringHolder resolution_Category = null;\r\n\t\tStringHolder resolution_Category_Tier_2 = null;\r\n\t\tStringHolder resolution_Category_Tier_3 = null;\r\n\t\tHPD_IncidentInterface_WS.holders.Service_TypeTypeHolder service_Type = null;\r\n\t\tStringHolder site = null;\r\n\t\tStringHolder site_Group = null;\r\n\t\tHPD_IncidentInterface_WS.holders.StatusTypeHolder status = null;\r\n\t\tHPD_IncidentInterface_WS.holders.Status_ReasonTypeHolder status_Reason = null;\r\n\t\tHPD_IncidentInterface_WS.holders.UrgencyTypeHolder urgency = null;\r\n\t\tHPD_IncidentInterface_WS.holders.VIPTypeHolder VIP = null;\r\n\t\tStringHolder serviceCI = null;\r\n\t\tStringHolder serviceCI_ReconID = null;\r\n\t\tStringHolder HPD_CI = null;\r\n\t\tStringHolder HPD_CI_ReconID = null;\r\n\t\tStringHolder HPD_CI_FormName = null;\r\n\t\tStringHolder z1D_CI_FormName = null;\r\n\t\t\r\n\t\tHPD_IncidentInterface_WSPortTypePortTypeProxy objPort = new HPD_IncidentInterface_WSPortTypePortTypeProxy();\t\t\r\n\t\tHPD_IncidentInterface_WSPortTypeSoapBindingStub objStub = new HPD_IncidentInterface_WSPortTypeSoapBindingStub();\r\n\t\t\t\t\r\n\t\ttry {\r\n\t\t\tobjStub.setUsername(&quot;admin&quot;);\r\n\t\t\tobjStub.setPassword(&quot;pass&quot;);\r\n\t\t\t\r\n\t\t\tobjPort.helpDesk_Query_Service(&quot;INC509526&quot;, assigned_Group, assigned_Group_Shift_Name, assigned_Support_Company, assigned_Support_Organization, assignee, categorization_Tier_1, categorization_Tier_2, categorization_Tier_3, city, closure_Manufacturer, closure_Product_Category_Tier1, closure_Product_Category_Tier2, closure_Product_Category_Tier3, closure_Product_Model_Version, closure_Product_Name, company, contact_Company, contact_Sensitivity, country, department, summary, notes, first_Name, impact, last_Name, manufacturer, middle_Initial, organization, phone_Number, priority, priority_Weight, product_Categorization_Tier_1, product_Categorization_Tier_2, product_Categorization_Tier_3, product_Model_Version, product_Name, region, reported_Source, resolution, resolution_Category, resolution_Category_Tier_2, resolution_Category_Tier_3, service_Type, site, site_Group, status, status_Reason, urgency, VIP, serviceCI, serviceCI_ReconID, HPD_CI, HPD_CI_ReconID, HPD_CI_FormName, z1D_CI_FormName);\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;status_Reason - &quot;+status_Reason);\r\n\t\t} catch (RemoteException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n**Error:**\r\n\r\n    AxisFault\r\n     faultCode: {http://schemas.xmlsoap.org/soap/envelope/}Server.userException\r\n     faultSubcode: \r\n     faultString: ERROR (302): Entry does not exist in database; \r\n     faultActor: \r\n     faultNode: \r\n     faultDetail: \r\n    \t{http://xml.apache.org/axis/}hostname:CWWAPP511D\r\n    \r\n    ERROR (302): Entry does not exist in database; \r\n    \tat org.apache.axis.message.SOAPFaultBuilder.createFault(SOAPFaultBuilder.java:222)\r\n    \tat org.apache.axis.message.SOAPFaultBuilder.endElement(SOAPFaultBuilder.java:129)\r\n    \tat org.apache.axis.encoding.DeserializationContext.endElement(DeserializationContext.java:1087)\r\n    \tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.endElement(Unknown Source)\r\n    \tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanEndElement(Unknown Source)\r\n    \tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(Unknown Source)\r\n    \tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(Unknown Source)\r\n    \tat com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(Unknown Source)\r\n    \tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)\r\n    \tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)\r\n    \tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)\r\n    \tat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(Unknown Source)\r\n    \tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(Unknown Source)\r\n    \tat com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)\r\n    \tat com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl.parse(Unknown Source)\r\n    \tat org.apache.axis.encoding.DeserializationContext.parse(DeserializationContext.java:227)\r\n    \tat org.apache.axis.SOAPPart.getAsSOAPEnvelope(SOAPPart.java:696)\r\n    \tat org.apache.axis.Message.getSOAPEnvelope(Message.java:435)\r\n    \tat org.apache.axis.handlers.soap.MustUnderstandChecker.invoke(MustUnderstandChecker.java:62)\r\n    \tat org.apache.axis.client.AxisClient.invoke(AxisClient.java:206)\r\n    \tat org.apache.axis.client.Call.invokeEngine(Call.java:2784)\r\n    \tat org.apache.axis.client.Call.invoke(Call.java:2767)\r\n    \tat org.apache.axis.client.Call.invoke(Call.java:2443)\r\n    \tat org.apache.axis.client.Call.invoke(Call.java:2366)\r\n    \tat org.apache.axis.client.Call.invoke(Call.java:1812)\r\n    \tat HPD_IncidentInterface_WS.HPD_IncidentInterface_WSPortTypeSoapBindingStub.helpDesk_Query_Service(HPD_IncidentInterface_WSPortTypeSoapBindingStub.java:514)\r\n    \tat HPD_IncidentInterface_WS.HPD_IncidentInterface_WSPortTypePortTypeProxy.helpDesk_Query_Service(HPD_IncidentInterface_WSPortTypePortTypeProxy.java:50)\r\n    \tat HPD_IncidentInterface_WS.ITSMGetTicket.main(ITSMGetTicket.java:77)\r\n\r\n","title":"Remedy8.1 (ITSM) - Get details of an Incident using Incident Number","body":"<p>I'm using the below code to get the details of an incident in remedy 8.1(ITSM) but its throwing an error. When testing the WSDL via SOAP, I could able to fetch the details of the same Incident. Please help me out.</p>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>    StringHolder assigned_Group = null;\n    StringHolder assigned_Group_Shift_Name = null;\n    StringHolder assigned_Support_Company = null;\n    StringHolder assigned_Support_Organization = null;\n    StringHolder assignee = null;\n    StringHolder categorization_Tier_1 = null;\n    StringHolder categorization_Tier_2 = null;\n    StringHolder categorization_Tier_3 = null;\n    StringHolder city = null;\n    StringHolder closure_Manufacturer = null;\n    StringHolder closure_Product_Category_Tier1 = null;\n    StringHolder closure_Product_Category_Tier2 = null;\n    StringHolder closure_Product_Category_Tier3 = null;\n    StringHolder closure_Product_Model_Version = null;\n    StringHolder closure_Product_Name = null;\n    StringHolder company = null;\n    StringHolder contact_Company = null;\n    HPD_IncidentInterface_WS.holders.Contact_SensitivityTypeHolder contact_Sensitivity = null;\n    StringHolder country = null;\n    StringHolder department = null;\n    StringHolder summary = null;\n    StringHolder notes = null;\n    StringHolder first_Name = null;\n    HPD_IncidentInterface_WS.holders.ImpactTypeHolder impact = null;\n    StringHolder last_Name = null;\n    StringHolder manufacturer = null;\n    StringHolder middle_Initial = null;\n    StringHolder organization = null;\n    StringHolder phone_Number = null;\n    HPD_IncidentInterface_WS.holders.PriorityTypeHolder priority = null;\n    IntHolder priority_Weight = null;\n    StringHolder product_Categorization_Tier_1 = null;\n    StringHolder product_Categorization_Tier_2 = null;\n    StringHolder product_Categorization_Tier_3 = null;\n    StringHolder product_Model_Version = null;\n    StringHolder product_Name = null;\n    StringHolder region = null;\n    HPD_IncidentInterface_WS.holders.Reported_SourceTypeHolder reported_Source = null;\n    StringHolder resolution = null;\n    StringHolder resolution_Category = null;\n    StringHolder resolution_Category_Tier_2 = null;\n    StringHolder resolution_Category_Tier_3 = null;\n    HPD_IncidentInterface_WS.holders.Service_TypeTypeHolder service_Type = null;\n    StringHolder site = null;\n    StringHolder site_Group = null;\n    HPD_IncidentInterface_WS.holders.StatusTypeHolder status = null;\n    HPD_IncidentInterface_WS.holders.Status_ReasonTypeHolder status_Reason = null;\n    HPD_IncidentInterface_WS.holders.UrgencyTypeHolder urgency = null;\n    HPD_IncidentInterface_WS.holders.VIPTypeHolder VIP = null;\n    StringHolder serviceCI = null;\n    StringHolder serviceCI_ReconID = null;\n    StringHolder HPD_CI = null;\n    StringHolder HPD_CI_ReconID = null;\n    StringHolder HPD_CI_FormName = null;\n    StringHolder z1D_CI_FormName = null;\n\n    HPD_IncidentInterface_WSPortTypePortTypeProxy objPort = new HPD_IncidentInterface_WSPortTypePortTypeProxy();        \n    HPD_IncidentInterface_WSPortTypeSoapBindingStub objStub = new HPD_IncidentInterface_WSPortTypeSoapBindingStub();\n\n    try {\n        objStub.setUsername(\"admin\");\n        objStub.setPassword(\"pass\");\n\n        objPort.helpDesk_Query_Service(\"INC509526\", assigned_Group, assigned_Group_Shift_Name, assigned_Support_Company, assigned_Support_Organization, assignee, categorization_Tier_1, categorization_Tier_2, categorization_Tier_3, city, closure_Manufacturer, closure_Product_Category_Tier1, closure_Product_Category_Tier2, closure_Product_Category_Tier3, closure_Product_Model_Version, closure_Product_Name, company, contact_Company, contact_Sensitivity, country, department, summary, notes, first_Name, impact, last_Name, manufacturer, middle_Initial, organization, phone_Number, priority, priority_Weight, product_Categorization_Tier_1, product_Categorization_Tier_2, product_Categorization_Tier_3, product_Model_Version, product_Name, region, reported_Source, resolution, resolution_Category, resolution_Category_Tier_2, resolution_Category_Tier_3, service_Type, site, site_Group, status, status_Reason, urgency, VIP, serviceCI, serviceCI_ReconID, HPD_CI, HPD_CI_ReconID, HPD_CI_FormName, z1D_CI_FormName);\n\n        System.out.println(\"status_Reason - \"+status_Reason);\n    } catch (RemoteException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p><strong>Error:</strong></p>\n\n<pre><code>AxisFault\n faultCode: {http://schemas.xmlsoap.org/soap/envelope/}Server.userException\n faultSubcode: \n faultString: ERROR (302): Entry does not exist in database; \n faultActor: \n faultNode: \n faultDetail: \n    {http://xml.apache.org/axis/}hostname:CWWAPP511D\n\nERROR (302): Entry does not exist in database; \n    at org.apache.axis.message.SOAPFaultBuilder.createFault(SOAPFaultBuilder.java:222)\n    at org.apache.axis.message.SOAPFaultBuilder.endElement(SOAPFaultBuilder.java:129)\n    at org.apache.axis.encoding.DeserializationContext.endElement(DeserializationContext.java:1087)\n    at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.endElement(Unknown Source)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanEndElement(Unknown Source)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(Unknown Source)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(Unknown Source)\n    at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(Unknown Source)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)\n    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)\n    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)\n    at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(Unknown Source)\n    at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(Unknown Source)\n    at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)\n    at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl.parse(Unknown Source)\n    at org.apache.axis.encoding.DeserializationContext.parse(DeserializationContext.java:227)\n    at org.apache.axis.SOAPPart.getAsSOAPEnvelope(SOAPPart.java:696)\n    at org.apache.axis.Message.getSOAPEnvelope(Message.java:435)\n    at org.apache.axis.handlers.soap.MustUnderstandChecker.invoke(MustUnderstandChecker.java:62)\n    at org.apache.axis.client.AxisClient.invoke(AxisClient.java:206)\n    at org.apache.axis.client.Call.invokeEngine(Call.java:2784)\n    at org.apache.axis.client.Call.invoke(Call.java:2767)\n    at org.apache.axis.client.Call.invoke(Call.java:2443)\n    at org.apache.axis.client.Call.invoke(Call.java:2366)\n    at org.apache.axis.client.Call.invoke(Call.java:1812)\n    at HPD_IncidentInterface_WS.HPD_IncidentInterface_WSPortTypeSoapBindingStub.helpDesk_Query_Service(HPD_IncidentInterface_WSPortTypeSoapBindingStub.java:514)\n    at HPD_IncidentInterface_WS.HPD_IncidentInterface_WSPortTypePortTypeProxy.helpDesk_Query_Service(HPD_IncidentInterface_WSPortTypePortTypeProxy.java:50)\n    at HPD_IncidentInterface_WS.ITSMGetTicket.main(ITSMGetTicket.java:77)\n</code></pre>\n"},{"tags":["java","spring-boot","tomcat8","embedded-tomcat"],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685647698,"creation_date":1685647698,"answer_id":76385108,"question_id":76384599,"body_markdown":"You should really ask yourself why do you need to configure this setting. The main reason usually is to prevent resource exhaustion in a production environment. But this is a mitigation, not a solution. Every time a thread is killed it means some task has not been completed, and there is potential for data corruption. The best practice should be to analyze **why** a thread is taken too much time and fix it whenever possible. ","title":"Tomcat stuck thread detection in spring boot","body":"<p>You should really ask yourself why do you need to configure this setting. The main reason usually is to prevent resource exhaustion in a production environment. But this is a mitigation, not a solution. Every time a thread is killed it means some task has not been completed, and there is potential for data corruption. The best practice should be to analyze <strong>why</strong> a thread is taken too much time and fix it whenever possible.</p>\n"}],"owner":{"account_id":4983156,"reputation":343,"user_id":4007518,"accept_rate":75,"display_name":"Akkave"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685647698,"creation_date":1685642958,"question_id":76384599,"body_markdown":"Tomcat document provided configuration to handle stuck thread by enabling \r\n**threshold** and **interruptThreadThreshold** subsequently.\r\n\r\nhttps://tomcat.apache.org/tomcat-8.0-doc/config/valve.html#Stuck_Thread_Detection_Valve\r\n\r\nI have enabled it in spring boot 2.x.x for embedded tomcat using bean based configuration and achieved it. It is able to kill thread if it is exceeding threshold.\r\n\r\n\r\nI am looking for what is cons for enabling it. As of now i did not get any docs about best practices.\r\n\r\n\r\nAny help would be appreciable.","title":"Tomcat stuck thread detection in spring boot","body":"<p>Tomcat document provided configuration to handle stuck thread by enabling\n<strong>threshold</strong> and <strong>interruptThreadThreshold</strong> subsequently.</p>\n<p><a href=\"https://tomcat.apache.org/tomcat-8.0-doc/config/valve.html#Stuck_Thread_Detection_Valve\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-8.0-doc/config/valve.html#Stuck_Thread_Detection_Valve</a></p>\n<p>I have enabled it in spring boot 2.x.x for embedded tomcat using bean based configuration and achieved it. It is able to kill thread if it is exceeding threshold.</p>\n<p>I am looking for what is cons for enabling it. As of now i did not get any docs about best practices.</p>\n<p>Any help would be appreciable.</p>\n"},{"tags":["java","spring-boot","jboss","thymeleaf"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1685652331,"post_id":76385073,"comment_id":134694639,"body_markdown":"Suggestion: Use a Java `List&lt;String&gt;` or a Java `Map&lt;String, String&gt;` to represent one table row (so, overall, a list of lists, or a list of maps). If it&#39;s a list of lists, then the first entry is a list of table headings. If it&#39;s a list of maps, then each map&#39;s keys are the table headings.  Step 1: see questions like [Java ResultSet copy to generic object or list](https://stackoverflow.com/a/23845971/12567365) and various [others](https://www.google.com/search?q=generic+java+object+for+any+jdbc+resultset+site:stackoverflow.com).","body":"Suggestion: Use a Java <code>List&lt;String&gt;</code> or a Java <code>Map&lt;String, String&gt;</code> to represent one table row (so, overall, a list of lists, or a list of maps). If it&#39;s a list of lists, then the first entry is a list of table headings. If it&#39;s a list of maps, then each map&#39;s keys are the table headings.  Step 1: see questions like <a href=\"https://stackoverflow.com/a/23845971/12567365\">Java ResultSet copy to generic object or list</a> and various <a href=\"https://www.google.com/search?q=generic+java+object+for+any+jdbc+resultset+site:stackoverflow.com\" rel=\"nofollow noreferrer\">others</a>."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1685652457,"post_id":76385073,"comment_id":134694668,"body_markdown":"Step 2: Some Thymeleaf to iterate over whatever generic Java structure (list of lists/list of maps) you end up using. You can ask a more specific question, if you have a specific problem. But there is no need to &quot;_dynamically generate a class on the fly_&quot; here. If you _do_ want to, you can look at DynaBeans - e.g. [DynaBeans vs CodeGenerated JavaBeans](https://stackoverflow.com/q/12260113/12567365)","body":"Step 2: Some Thymeleaf to iterate over whatever generic Java structure (list of lists/list of maps) you end up using. You can ask a more specific question, if you have a specific problem. But there is no need to &quot;<i>dynamically generate a class on the fly</i>&quot; here. If you <i>do</i> want to, you can look at DynaBeans - e.g. <a href=\"https://stackoverflow.com/q/12260113/12567365\">DynaBeans vs CodeGenerated JavaBeans</a>"},{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1685688600,"post_id":76385073,"comment_id":134698654,"body_markdown":"Maybe have a look at [JOOQ](https://www.jooq.org/). It generates Java code from your database tables to have type-safe queries. You get back an instance of a Result class that you could iterate over in your Thymeleaf template. (Note: not free if you are using Oracle as your database)","body":"Maybe have a look at <a href=\"https://www.jooq.org/\" rel=\"nofollow noreferrer\">JOOQ</a>. It generates Java code from your database tables to have type-safe queries. You get back an instance of a Result class that you could iterate over in your Thymeleaf template. (Note: not free if you are using Oracle as your database)"},{"owner":{"account_id":5536358,"reputation":43,"user_id":4394528,"display_name":"Kmus"},"score":0,"creation_date":1685766920,"post_id":76385073,"comment_id":134710749,"body_markdown":"@andrewJames the list of lists is a great idea. That would be super compact. There’s still some open questions about doing it that way, namely some of our queries aren’t display-ready and need formatting after retrieval, but I think that will work itself out when I get a chance to give your suggestion a shot on Monday. Thanks!","body":"@andrewJames the list of lists is a great idea. That would be super compact. There’s still some open questions about doing it that way, namely some of our queries aren’t display-ready and need formatting after retrieval, but I think that will work itself out when I get a chance to give your suggestion a shot on Monday. Thanks!"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1685796970,"post_id":76385073,"comment_id":134713178,"body_markdown":"&quot;_our queries aren’t display-ready_&quot; - Yes, absolutely - you should expect to need some formatting (e.g. for dates). One danger of a generic approach like this: You find yourself, step-by-step, building a full report writer application!","body":"&quot;<i>our queries aren’t display-ready</i>&quot; - Yes, absolutely - you should expect to need some formatting (e.g. for dates). One danger of a generic approach like this: You find yourself, step-by-step, building a full report writer application!"}],"owner":{"account_id":5536358,"reputation":43,"user_id":4394528,"display_name":"Kmus"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685647353,"creation_date":1685647353,"question_id":76385073,"body_markdown":"I&#39;m very inexperienced with Java, and have 0 experience with springboot and thymeleaf, but I&#39;m looking into them as a replacement for a system I&#39;m dev on at work. \r\n\r\nI&#39;m connecting to an Oracle database and grabbing some records, and then I want to output those to a table using thymeleaf. The handoff between the result set and thymeleaf is where my issue lies. The method I found is to walk the result set and for each row, get every value from every column in the result set and create a new instance of a class that houses those elements. Then that new instance gets loaded into an array list. Once done the array list is handed off to the thymeleaf Model.\r\n\r\nMy issue is... that seems like a big pain in the butt, we have thousands of queries, do I really need to make a class for every one of those just to format the result set to be compatible with thymeleaf? Ideally, I&#39;d like to just hand the result set to thymeleaf directly. Is there some other method I haven&#39;t found yet? \r\n\r\nAnyway, current code is below. I&#39;m sure there are many other issues in the code. Please feel free to judge me openly for poor decisions (even if they could be explained away as &quot;it&#39;s just a prototype / sample code&quot;).\r\n\r\n\r\n```\r\npackage com.somesite.prototype1;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.ResultSet;\r\nimport java.sql.ResultSetMetaData;\r\nimport java.sql.Statement;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\nimport javax.naming.Context;\r\nimport javax.naming.InitialContext;\r\nimport javax.sql.DataSource;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\n\r\n@Controller\t\r\npublic class RootController {\r\n\t\r\n\r\n\t@GetMapping(&quot;/tl&quot;)\r\n\tString getRoot(Model model) {\r\n\t\t\r\n\t\t//instantiate several variables and classes that will be needed later\r\n\t\tConnection connection = null;\r\n\t\tString query = &quot;&quot;\r\n\t\t\t\t+ &quot;SELECT 1 as id, &#39;kyle&#39; as name, &#39;555-4837&#39; as phone, 40 as age FROM DUAL UNION &quot;\r\n\t\t\t\t+ &quot;SELECT 1 as id, &#39;alex&#39; as name, &#39;555-3567&#39; as phone, 34 as age FROM DUAL UNION &quot;;\r\n\t\tResultSet rs = null;\r\n\t\t\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\t//connect to the database and set up a query\r\n\t\t\tContext initContext = new InitialContext();\r\n\t\t\tDataSource ds = (DataSource) initContext.lookup(&quot;java:jboss/OracleDSWR&quot;);\r\n\t\t\tconnection = ds.getConnection();\r\n\t\t\tStatement statement = connection.createStatement();\r\n\t\t\tString selectSql = query;\r\n\t\t\t\r\n\t\t\t//Query database and store result the the result set data type\r\n\t\t\trs=statement.executeQuery(selectSql);\r\n\t\t\t\r\n\t\t\t//get metadata in the result set (column count)\r\n\t\t\tResultSetMetaData rsmd = rs.getMetaData();\r\n\t\t\tint columnCount = rsmd.getColumnCount();\r\n\t\t\t\r\n\t\t\t//create a string with all the records in the result set\r\n\t\t\tList&lt;Person&gt; people = new ArrayList&lt;Person&gt;(columnCount);\r\n\t\t\twhile (rs.next()) {\r\n\t\t\t\tpeople.add(new Person(rs.getInt(&quot;id&quot;), rs.getString(&quot;name&quot;), rs.getString(&quot;phone&quot;), rs.getInt(&quot;age&quot;)));\t\t\t\r\n\t\t\t}\r\n\t\t\tmodel.addAttribute(&quot;people&quot;, people);\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\treturn &quot;root&quot;;\r\n\t}\t\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\npackage com.somesite.prototype1;\r\n\r\npublic class Person {\r\n\t\r\n\tprivate int id;\r\n\tprivate String name;\r\n\tprivate String phone;\r\n\tprivate int age;\r\n\t\r\n\tpublic Person (int id, String name, String phone, int age) {\r\n\t\tthis.id = id;\r\n\t\tthis.name = name;\r\n\t\tthis.phone = phone;\r\n\t\tthis.age = age;\r\n\t}\r\n\r\n\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic String getPhone() {\r\n\t\treturn phone;\r\n\t}\r\n\t\r\n\t\r\n\tpublic int getAge() {\r\n\t\treturn age;\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI haven&#39;t been able to find any suggestions online, but did think of making a generic class to temporarily hold the records for this handoff, one with properties named &quot;column1&quot;, &quot;column2&quot;, etc. And then making a function that just loads the result set, in order, into that generic object. like this:\r\n\r\n```\r\npublic class GenericRecord {\r\n\t\r\n\tprivate String column1;\r\n\tprivate String column2;\r\n\tprivate String column3;\r\n\tprivate String column4;\r\n\t&lt;etc&gt;\r\n\t\r\n\tpublic GenericRecord (String column1, String column2, String column3, String column4, &lt;etc&gt;) {\r\n\t\tthis.column1 = column1;\r\n\t\tthis.column2 = column2;\r\n\t\tthis.column3 = column3;\r\n\t\tthis.column4 = column4;\r\n\t\t&lt;etc&gt;\r\n\t}\r\n\r\n}\r\n```\r\nand then some function like this \r\n```\r\n\tpublic static void resultSetToModel(Model model, ResultSet rs, String attributeName)\r\n\t{\r\n\t\t\r\n\t\t//get metadata in the result set (column count)\r\n\t\tResultSetMetaData rsmd = rs.getMetaData();\r\n\t\tint columnCount = rsmd.getColumnCount();\r\n\t\t\r\n\t\t//create a string with all the records in the result set\r\n\t\tList&lt;GenericRecord&gt; record = new ArrayList&lt;GenericRecord&gt;(columnCount);\r\n\t\twhile (rs.next()) {\r\n\t\t\trecord.add(new GenericRecord(rs.getString(1), rs.getString(2), rs.getString(3), rs.getString(4), rs.getString(5) &lt;etc&gt;));\t\t\t\r\n\t\t}\r\n\r\n\t\tmodel.addAttribute(attributeName, record);\r\n\t}\r\n\t\t\r\n```\r\n\r\n\r\nI imagine that would work fine, but it would mean I&#39;d have to use the &quot;column1&quot; names in my thymeleaf template, and I&#39;d rather not lose the visibility of the column contents from within the templates, and it seems messy. Is there some way to dynamically generate a class on the fly, and make it&#39;s property names match the column names in the result set? Or is there some other angle on how to do this handoff without requiring so much hassle?\r\n","title":"Is there a way to avoid creating a class to match every query&#39;s result set, just to do a handoff to Thymeleaf?","body":"<p>I'm very inexperienced with Java, and have 0 experience with springboot and thymeleaf, but I'm looking into them as a replacement for a system I'm dev on at work.</p>\n<p>I'm connecting to an Oracle database and grabbing some records, and then I want to output those to a table using thymeleaf. The handoff between the result set and thymeleaf is where my issue lies. The method I found is to walk the result set and for each row, get every value from every column in the result set and create a new instance of a class that houses those elements. Then that new instance gets loaded into an array list. Once done the array list is handed off to the thymeleaf Model.</p>\n<p>My issue is... that seems like a big pain in the butt, we have thousands of queries, do I really need to make a class for every one of those just to format the result set to be compatible with thymeleaf? Ideally, I'd like to just hand the result set to thymeleaf directly. Is there some other method I haven't found yet?</p>\n<p>Anyway, current code is below. I'm sure there are many other issues in the code. Please feel free to judge me openly for poor decisions (even if they could be explained away as &quot;it's just a prototype / sample code&quot;).</p>\n<pre><code>package com.somesite.prototype1;\n\nimport java.sql.Connection;\nimport java.sql.ResultSet;\nimport java.sql.ResultSetMetaData;\nimport java.sql.Statement;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\nimport javax.naming.Context;\nimport javax.naming.InitialContext;\nimport javax.sql.DataSource;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\n\n@Controller \npublic class RootController {\n    \n\n    @GetMapping(&quot;/tl&quot;)\n    String getRoot(Model model) {\n        \n        //instantiate several variables and classes that will be needed later\n        Connection connection = null;\n        String query = &quot;&quot;\n                + &quot;SELECT 1 as id, 'kyle' as name, '555-4837' as phone, 40 as age FROM DUAL UNION &quot;\n                + &quot;SELECT 1 as id, 'alex' as name, '555-3567' as phone, 34 as age FROM DUAL UNION &quot;;\n        ResultSet rs = null;\n        \n        try {\n            \n            //connect to the database and set up a query\n            Context initContext = new InitialContext();\n            DataSource ds = (DataSource) initContext.lookup(&quot;java:jboss/OracleDSWR&quot;);\n            connection = ds.getConnection();\n            Statement statement = connection.createStatement();\n            String selectSql = query;\n            \n            //Query database and store result the the result set data type\n            rs=statement.executeQuery(selectSql);\n            \n            //get metadata in the result set (column count)\n            ResultSetMetaData rsmd = rs.getMetaData();\n            int columnCount = rsmd.getColumnCount();\n            \n            //create a string with all the records in the result set\n            List&lt;Person&gt; people = new ArrayList&lt;Person&gt;(columnCount);\n            while (rs.next()) {\n                people.add(new Person(rs.getInt(&quot;id&quot;), rs.getString(&quot;name&quot;), rs.getString(&quot;phone&quot;), rs.getInt(&quot;age&quot;)));         \n            }\n            model.addAttribute(&quot;people&quot;, people);\n            \n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        return &quot;root&quot;;\n    }   \n}\n\n</code></pre>\n<pre><code>package com.somesite.prototype1;\n\npublic class Person {\n    \n    private int id;\n    private String name;\n    private String phone;\n    private int age;\n    \n    public Person (int id, String name, String phone, int age) {\n        this.id = id;\n        this.name = name;\n        this.phone = phone;\n        this.age = age;\n    }\n\n\n    public int getId() {\n        return id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getPhone() {\n        return phone;\n    }\n    \n    \n    public int getAge() {\n        return age;\n    }\n}\n</code></pre>\n<p>I haven't been able to find any suggestions online, but did think of making a generic class to temporarily hold the records for this handoff, one with properties named &quot;column1&quot;, &quot;column2&quot;, etc. And then making a function that just loads the result set, in order, into that generic object. like this:</p>\n<pre><code>public class GenericRecord {\n    \n    private String column1;\n    private String column2;\n    private String column3;\n    private String column4;\n    &lt;etc&gt;\n    \n    public GenericRecord (String column1, String column2, String column3, String column4, &lt;etc&gt;) {\n        this.column1 = column1;\n        this.column2 = column2;\n        this.column3 = column3;\n        this.column4 = column4;\n        &lt;etc&gt;\n    }\n\n}\n</code></pre>\n<p>and then some function like this</p>\n<pre><code>    public static void resultSetToModel(Model model, ResultSet rs, String attributeName)\n    {\n        \n        //get metadata in the result set (column count)\n        ResultSetMetaData rsmd = rs.getMetaData();\n        int columnCount = rsmd.getColumnCount();\n        \n        //create a string with all the records in the result set\n        List&lt;GenericRecord&gt; record = new ArrayList&lt;GenericRecord&gt;(columnCount);\n        while (rs.next()) {\n            record.add(new GenericRecord(rs.getString(1), rs.getString(2), rs.getString(3), rs.getString(4), rs.getString(5) &lt;etc&gt;));           \n        }\n\n        model.addAttribute(attributeName, record);\n    }\n        \n</code></pre>\n<p>I imagine that would work fine, but it would mean I'd have to use the &quot;column1&quot; names in my thymeleaf template, and I'd rather not lose the visibility of the column contents from within the templates, and it seems messy. Is there some way to dynamically generate a class on the fly, and make it's property names match the column names in the result set? Or is there some other angle on how to do this handoff without requiring so much hassle?</p>\n"},{"tags":["java","environment-variables","micronaut","micronaut-data","micronaut-client"],"owner":{"account_id":1248361,"reputation":2177,"user_id":1209337,"accept_rate":63,"display_name":"Chaitanya Chandurkar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685646986,"creation_date":1685646986,"question_id":76385035,"body_markdown":"I have a micronaut app with application.yaml having this configuration:\r\n\r\n```yaml\r\nconfluent:\r\n    name: Consumer Events Registry\r\n    base_url: abcd-xyz.westus2.azure.confluent.cloud\r\n    secrets:\r\n      access_key: ${CONFLUENT_KEY}\r\n      secret: ${CONFLUENT_SECRET}\r\n```\r\nI have set CONFLUENT_SECRET and CONFLUENT_SECRET as env variables (through .bashrc) and I&#39;m using the following ConfigurationProperties class to parse it:\r\n\r\n```java\r\n@Getter\r\n@Setter\r\n@ConfigurationProperties(&quot;confluent&quot;)\r\npublic class ConfluentRegistryConfig {\r\n    private String name;\r\n    private String baseUrl;\r\n    private SecretsConfig secrets;\r\n\r\n    @Getter\r\n    @Setter\r\n    public static class SecretsConfig {\r\n        @JsonProperty(&quot;access_key&quot;) private String accessKey;\r\n        @JsonProperty(&quot;secret&quot;) private String secret;\r\n    }\r\n}\r\n \r\n```\r\nIt reads the `name` and `baseUrl` properly but for access_key and secret it reads the &quot;${CONFLUENT_KEY}&quot; and &quot;${CONFLUENT_SECRET}&quot; strings as value. I was hoping that ConfigurationProperties could resolve these env variables but it does not appear to do so.\r\n\r\nI also tried using them like `{env. CONFLUENT_KEY}`, `{{env.CONFLUENT_KEY}}` and `${env. CONFLUENT_KEY}` but it reads them as string and does not resolve them.","title":"Micronaut ConfigurationProperties not resolving environment variables","body":"<p>I have a micronaut app with application.yaml having this configuration:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>confluent:\n    name: Consumer Events Registry\n    base_url: abcd-xyz.westus2.azure.confluent.cloud\n    secrets:\n      access_key: ${CONFLUENT_KEY}\n      secret: ${CONFLUENT_SECRET}\n</code></pre>\n<p>I have set CONFLUENT_SECRET and CONFLUENT_SECRET as env variables (through .bashrc) and I'm using the following ConfigurationProperties class to parse it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@ConfigurationProperties(&quot;confluent&quot;)\npublic class ConfluentRegistryConfig {\n    private String name;\n    private String baseUrl;\n    private SecretsConfig secrets;\n\n    @Getter\n    @Setter\n    public static class SecretsConfig {\n        @JsonProperty(&quot;access_key&quot;) private String accessKey;\n        @JsonProperty(&quot;secret&quot;) private String secret;\n    }\n}\n \n</code></pre>\n<p>It reads the <code>name</code> and <code>baseUrl</code> properly but for access_key and secret it reads the &quot;${CONFLUENT_KEY}&quot; and &quot;${CONFLUENT_SECRET}&quot; strings as value. I was hoping that ConfigurationProperties could resolve these env variables but it does not appear to do so.</p>\n<p>I also tried using them like <code>{env. CONFLUENT_KEY}</code>, <code>{{env.CONFLUENT_KEY}}</code> and <code>${env. CONFLUENT_KEY}</code> but it reads them as string and does not resolve them.</p>\n"},{"tags":["java","sql","parsing"],"comments":[{"owner":{"account_id":291702,"reputation":989,"user_id":1232197,"accept_rate":73,"display_name":"anton1980"},"score":124,"creation_date":1361568136,"post_id":660609,"comment_id":21127342,"body_markdown":"how is this question not constructive? what&#39;s wrong with you, Stackoverflow?","body":"how is this question not constructive? what&#39;s wrong with you, Stackoverflow?"},{"owner":{"account_id":9052,"reputation":11722,"user_id":16549,"accept_rate":75,"display_name":"kervin"},"score":12,"creation_date":1399075008,"post_id":660609,"comment_id":35924820,"body_markdown":"This question should be reopened.  Also, found http://foundationdb.github.io/sql-parser/","body":"This question should be reopened.  Also, found <a href=\"http://foundationdb.github.io/sql-parser/\" rel=\"nofollow noreferrer\">foundationdb.github.io/sql-parser</a>"},{"owner":{"account_id":6229027,"reputation":28469,"user_id":4850040,"accept_rate":62,"display_name":"Toby Speight"},"score":2,"creation_date":1459332516,"post_id":660609,"comment_id":60235042,"body_markdown":"This is off-topic - requests for libraries, tools, tutorials and other off-site resources are not considered on-topic for StackOverflow.","body":"This is off-topic - requests for libraries, tools, tutorials and other off-site resources are not considered on-topic for StackOverflow."},{"owner":{"account_id":5240236,"reputation":3531,"user_id":4187541,"accept_rate":80,"display_name":"Peter Chaula"},"score":0,"creation_date":1482957252,"post_id":660609,"comment_id":69940212,"body_markdown":"I think this should be asked on another SE site","body":"I think this should be asked on another SE site"},{"owner":{"account_id":7879922,"reputation":305,"user_id":5954317,"accept_rate":0,"display_name":"Casualet"},"score":4,"creation_date":1483602533,"post_id":660609,"comment_id":70164720,"body_markdown":"I think this question is constructive!!","body":"I think this question is constructive!!"},{"owner":{"account_id":250544,"reputation":7921,"user_id":527333,"accept_rate":60,"display_name":"btiernay"},"score":0,"creation_date":1489961144,"post_id":660609,"comment_id":72886912,"body_markdown":"Just in case anyone needs a more feature rich parser that is open source, supports multiple dialects, AST / visitors, checkout Alibaba&#39;s Druid: https://github.com/alibaba/druid/tree/master/src/main/java/com/alibaba/druid/sql","body":"Just in case anyone needs a more feature rich parser that is open source, supports multiple dialects, AST / visitors, checkout Alibaba&#39;s Druid: <a href=\"https://github.com/alibaba/druid/tree/master/src/main/java/com/alibaba/druid/sql\" rel=\"nofollow noreferrer\">github.com/alibaba/druid/tree/master/src/main/java/com/aliba&zwnj;&#8203;ba/&hellip;</a>"},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1661351455,"post_id":660609,"comment_id":129752368,"body_markdown":"[jOOQ has a parser](https://www.jooq.org/doc/latest/manual/sql-building/sql-parser/). You can test it online, here: https://www.jooq.org/translate. It can be used to rewrite your SQL.","body":"<a href=\"https://www.jooq.org/doc/latest/manual/sql-building/sql-parser/\" rel=\"nofollow noreferrer\">jOOQ has a parser</a>. You can test it online, here: <a href=\"https://www.jooq.org/translate\" rel=\"nofollow noreferrer\">jooq.org/translate</a>. It can be used to rewrite your SQL."}],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":54,"is_accepted":false,"score":54,"last_activity_date":1423516295,"creation_date":1237422957,"answer_id":660651,"question_id":660609,"body_markdown":"[ANTLR3][1] has an ANSI SQL grammar available.  You can use that to create your own parser.\r\n\r\nANTLR4 has a [SQL grammar][2].\r\n\r\n\r\n  [1]: http://www.antlr3.org/grammar/list.html\r\n  [2]: https://github.com/antlr/grammars-v4/blob/master/sqlite/SQLite.g4","title":"SQL parser library for Java","body":"<p><a href=\"http://www.antlr3.org/grammar/list.html\" rel=\"noreferrer\">ANTLR3</a> has an ANSI SQL grammar available.  You can use that to create your own parser.</p>\n\n<p>ANTLR4 has a <a href=\"https://github.com/antlr/grammars-v4/blob/master/sqlite/SQLite.g4\" rel=\"noreferrer\">SQL grammar</a>.</p>\n"},{"tags":[],"owner":{"account_id":11838,"reputation":7011,"user_id":23030,"display_name":"Thomas Jones-Low"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1237423120,"creation_date":1237423120,"answer_id":660661,"question_id":660609,"body_markdown":"What you want to do with the parsed SQL? I can recommend a few Java implementation of Lex/Yacc ([BYACC/J][1], [Java Cup][2]) that you can use an existing SQL grammar with. \r\n\r\nIf you want to actually do something with the resulting parsed grammar, I might suggest looking at [Derby][3], an open source SQL database written in Java. \r\n\r\n\r\n  [1]: http://byaccj.sourceforge.net/\r\n  [2]: http://www2.cs.tum.edu/projects/cup/\r\n  [3]: http://db.apache.org/derby/","title":"SQL parser library for Java","body":"<p>What you want to do with the parsed SQL? I can recommend a few Java implementation of Lex/Yacc (<a href=\"http://byaccj.sourceforge.net/\" rel=\"nofollow noreferrer\">BYACC/J</a>, <a href=\"http://www2.cs.tum.edu/projects/cup/\" rel=\"nofollow noreferrer\">Java Cup</a>) that you can use an existing SQL grammar with. </p>\n\n<p>If you want to actually do something with the resulting parsed grammar, I might suggest looking at <a href=\"http://db.apache.org/derby/\" rel=\"nofollow noreferrer\">Derby</a>, an open source SQL database written in Java. </p>\n"},{"tags":[],"owner":{"account_id":15751,"reputation":13418,"user_id":33611,"accept_rate":74,"display_name":"Elijah"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1237423336,"creation_date":1237423336,"answer_id":660669,"question_id":660609,"body_markdown":"&lt;b&gt;Parser&lt;/b&gt;\r\n\r\nIf you need a parser there should be a parser in the code base of [Apache Derby][1].\r\n\r\n&lt;b&gt;Dealing with vendor-specific SQL&lt;/b&gt;\r\n\r\nYou may want to look at the [.native()][2] method on the jdbc Connection object which you can pass it vendor neutral queries that will get postprocessed into vendor specific queries.\r\n\r\n\r\n  [1]: http://db.apache.org/derby/\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/sql/Connection.html#nativeSQL(java.lang.String)","title":"SQL parser library for Java","body":"<p><b>Parser</b></p>\n\n<p>If you need a parser there should be a parser in the code base of <a href=\"http://db.apache.org/derby/\" rel=\"noreferrer\">Apache Derby</a>.</p>\n\n<p><b>Dealing with vendor-specific SQL</b></p>\n\n<p>You may want to look at the <a href=\"http://java.sun.com/javase/6/docs/api/java/sql/Connection.html#nativeSQL(java.lang.String)\" rel=\"noreferrer\">.native()</a> method on the jdbc Connection object which you can pass it vendor neutral queries that will get postprocessed into vendor specific queries.</p>\n"},{"tags":[],"owner":{"account_id":9661,"reputation":10754,"user_id":17944,"accept_rate":100,"display_name":"David Phillips"},"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1685646688,"creation_date":1253825539,"answer_id":1474086,"question_id":660609,"body_markdown":"- [JSqlParser][1]\r\n- [Trino&#39;s parser][2] is written using ANTLR4 and has its own immutable AST classes that are built from the parser. The AST has a visitor and pretty printer.\r\n\r\n  [1]: https://github.com/JSQLParser/JSqlParser\r\n  [2]: https://github.com/trinodb/trino/tree/master/core/trino-parser\r\n","title":"SQL parser library for Java","body":"<ul>\n<li><a href=\"https://github.com/JSQLParser/JSqlParser\" rel=\"nofollow noreferrer\">JSqlParser</a></li>\n<li><a href=\"https://github.com/trinodb/trino/tree/master/core/trino-parser\" rel=\"nofollow noreferrer\">Trino's parser</a> is written using ANTLR4 and has its own immutable AST classes that are built from the parser. The AST has a visitor and pretty printer.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":98060,"reputation":5346,"user_id":265650,"accept_rate":61,"display_name":"jagamot"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1685620230,"creation_date":1265403974,"answer_id":2210417,"question_id":660609,"body_markdown":"Try \r\n\r\n - [Zql][1] (Original Sourceforce)\r\n - [Zql][2] (Github)\r\n - [Zql][3] (Maven Central)\r\n\r\n  [1]: http://zql.sourceforge.net/\r\n  [2]: https://github.com/mysearchdev/zql\r\n  [3]: https://mvnrepository.com/artifact/dev.mysearch/dev.mysearch.zql.parser/","title":"SQL parser library for Java","body":"<p>Try</p>\n<ul>\n<li><a href=\"http://zql.sourceforge.net/\" rel=\"nofollow noreferrer\">Zql</a> (Original Sourceforce)</li>\n<li><a href=\"https://github.com/mysearchdev/zql\" rel=\"nofollow noreferrer\">Zql</a> (Github)</li>\n<li><a href=\"https://mvnrepository.com/artifact/dev.mysearch/dev.mysearch.zql.parser/\" rel=\"nofollow noreferrer\">Zql</a> (Maven Central)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":356724,"reputation":378,"user_id":696414,"accept_rate":50,"display_name":"Han Zheng"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1303116634,"creation_date":1303116634,"answer_id":5700518,"question_id":660609,"body_markdown":"Hibernate uses ANTLR for sql and hql parsing.\r\n\r\nJSqlParser is also a good option.although it has some bugs(or some features not implemented) while parsing oracle pl/sql.\r\nsee its forum for detail.\r\n\r\nso if you&#39;re parsing oracle pl/sql, ANTLR is recommended.","title":"SQL parser library for Java","body":"<p>Hibernate uses ANTLR for sql and hql parsing.</p>\n\n<p>JSqlParser is also a good option.although it has some bugs(or some features not implemented) while parsing oracle pl/sql.\nsee its forum for detail.</p>\n\n<p>so if you're parsing oracle pl/sql, ANTLR is recommended.</p>\n"},{"tags":[],"owner":{"account_id":475286,"reputation":81,"user_id":885516,"display_name":"James"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1312878610,"creation_date":1312878610,"answer_id":6993359,"question_id":660609,"body_markdown":"[General SQL Parser for Java][1] is not open source, but is exactly what you are looking after.\r\n\r\n  [1]: http://www.sqlparser.com/sql-parser-java.php","title":"SQL parser library for Java","body":"<p><a href=\"http://www.sqlparser.com/sql-parser-java.php\" rel=\"noreferrer\">General SQL Parser for Java</a> is not open source, but is exactly what you are looking after.</p>\n"}],"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107492,"favorite_count":0,"down_vote_count":0,"up_vote_count":150,"closed_date":1331609775,"answer_count":7,"score":150,"last_activity_date":1685646688,"creation_date":1237422074,"question_id":660609,"body_markdown":"Is there an open-source Java library for parsing SQL statements?\r\n\r\nIf possible, it should be customizable or flexible enough to also be able to parse (or at least ignore) vendor-specific syntax (such as Oracle tablespace definitions or MySQL&#39;s LIMIT clause).\r\n\r\nIf not, strict adherence to the SQL standard is also fine.\r\n\r\n**Update:** I need this for two things: \r\n  \r\n\r\n - providing an SQL interface to a non-SQL database (mapping to internal API calls)\r\n - rewriting SQL before it goes to the actual database (e.g. Oracle)\r\n\r\n","title":"SQL parser library for Java","body":"<p>Is there an open-source Java library for parsing SQL statements?</p>\n\n<p>If possible, it should be customizable or flexible enough to also be able to parse (or at least ignore) vendor-specific syntax (such as Oracle tablespace definitions or MySQL's LIMIT clause).</p>\n\n<p>If not, strict adherence to the SQL standard is also fine.</p>\n\n<p><strong>Update:</strong> I need this for two things: </p>\n\n<ul>\n<li>providing an SQL interface to a non-SQL database (mapping to internal API calls)</li>\n<li>rewriting SQL before it goes to the actual database (e.g. Oracle)</li>\n</ul>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":13702764,"reputation":113,"user_id":9887329,"display_name":"Chhaganlaal"},"score":0,"creation_date":1685683292,"post_id":76384396,"comment_id":134697930,"body_markdown":"Check the top answer for this - https://stackoverflow.com/questions/12495399/how-to-use-a-sequence-generator-for-a-non-id-field.","body":"Check the top answer for this - <a href=\"https://stackoverflow.com/questions/12495399/how-to-use-a-sequence-generator-for-a-non-id-field\" title=\"how to use a sequence generator for a non id field\">stackoverflow.com/questions/12495399/&hellip;</a>."}],"owner":{"account_id":17917911,"reputation":523,"user_id":13018468,"display_name":"BAKHALED Ibrahim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685646623,"creation_date":1685641106,"question_id":76384396,"body_markdown":"I need to generate and ID for non-primary key for oracle, and I&#39;m stuck about it. I tested \r\n**GeneratedValue**, **SequenceGenerator** and **Genereted** as I read that GeneratedValue works only for @Id property, I&#39;ve seen a bunch of articles and questions about this (like this [https://stackoverflow.com/questions/277630/hibernate-jpa-sequence-non-id)][1] but nothing worked for me except the generating and ID using UUID but that&#39;s not how I want it.\r\nLet&#39;s cosider I have this entity\r\n\r\n    @Entity \r\n    @Table\r\n    public class ClassA {\r\n    \r\n        @Id\r\n        private Long id;\r\n    \r\n       private Long seq_val;\r\n    \r\n       // Getters &amp; Setters\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/277630/hibernate-jpa-sequence-non-id\r\n\r\n\r\nWhat I need is that every time the data gets saved to databse a new key gets generate in **seq_val** \r\nPlease anyone has an example","title":"How to generate a sequence with hibernate and spring (non-primary key)","body":"<p>I need to generate and ID for non-primary key for oracle, and I'm stuck about it. I tested\n<strong>GeneratedValue</strong>, <strong>SequenceGenerator</strong> and <strong>Genereted</strong> as I read that GeneratedValue works only for @Id property, I've seen a bunch of articles and questions about this (like this <a href=\"https://stackoverflow.com/questions/277630/hibernate-jpa-sequence-non-id\">https://stackoverflow.com/questions/277630/hibernate-jpa-sequence-non-id)</a> but nothing worked for me except the generating and ID using UUID but that's not how I want it.\nLet's cosider I have this entity</p>\n<pre><code>@Entity \n@Table\npublic class ClassA {\n\n    @Id\n    private Long id;\n\n   private Long seq_val;\n\n   // Getters &amp; Setters\n\n}\n</code></pre>\n<p>What I need is that every time the data gets saved to databse a new key gets generate in <strong>seq_val</strong>\nPlease anyone has an example</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9597,"page":395,"page_size":100}
